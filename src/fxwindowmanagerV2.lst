  Mon Dec  7 2020 11:19                                                Page 1


                     ***************************************
                     **      WDC 65C816 Macro Assembler   **
                     **                                   **
                     **     Version 3.49.1- Feb  6 2006    **
                     ***************************************

     1                        ;:ts=8
     2             00000001   R0	equ	1
     3             00000005   R1	equ	5
     4             00000009   R2	equ	9
     5             0000000D   R3	equ	13
     6                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanagerV2.c",0
     7                        ;#include "fxwindowmanager.h"
     8                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",0
     9                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
    10                        	.stag	_fx_bytebits,8,1
    11                        	.member	b7,0,14,17,1
    12                        	.member	b6,1,14,17,1
    13                        	.member	b5,2,14,17,1
    14                        	.member	b4,3,14,17,1
    15                        	.member	b3,4,14,17,1
    16                        	.member	b2,5,14,17,1
    17                        	.member	b1,6,14,17,1
    18                        	.member	b0,7,14,17,1
    19                        	.eos
    20                        	.stag	_fx_node,384,2
    21                        	.member	type,0,14,8,8
    22                        	.member	Reserved0,8,14,8,8
    23                        	.member	data,16,129,8,32
    24                        	.member	last,48,138,8,32,2
    25                        	.member	next,80,138,8,32,2
    26                        	.member	name,112,110,8,0,32
    27                        	.member	Reserved1,368,16,8,16
    28                        	.eos
    29                        	.stag	_fx_nodelist,96,3
    30                        	.member	listhead,0,138,8,32,2
    31                        	.member	listData,32,129,8,32
    32                        	.member	deallocator,64,641,8,32
    33                        	.eos
    34                        	.stag	_fx_queue,80,4
    35                        	.member	count,0,5,8,16
    36                        	.member	front,16,138,8,32,2
    37                        	.member	rear,48,138,8,32,2
    38                        	.eos
    39                        	.stag	fake5_,32,5
    40                        	.member	subsystem,0,14,8,8
    41                        	.member	level,8,14,8,8
    42                        	.member	error,16,16,8,16
    43                        	.eos
    44                        	.stag	_fx_process_signal,16,6
    45                        	.member	cbSize,0,16,8,16
    46                        	.eos
    47                        	.stag	_fx_semaphore,16,7
    48                        	.member	reserved,0,5,8,16
    49                        	.eos
  Mon Dec  7 2020 11:19                                                Page 2


    50                        	.stag	_fx_fileBlock,552,8
    51                        	.member	openCount,0,16,8,16
    52                        	.member	lockCount,16,16,8,16
    53                        	.member	dirty,32,14,8,8
    54                        	.member	fileBuffer,40,110,8,0,64
    55                        	.eos
    56                        	.stag	_fx_irq_data,48,9
    57                        	.member	line,0,5,8,16
    58                        	.member	keycode,16,142,8,32
    59                        	.eos
    60                        	.stag	_task,48,10
    61                        	.member	SPL,0,14,8,8
    62                        	.member	SPH,8,14,8,8
    63                        	.member	pstack,16,142,8,32
    64                        	.eos
    65                        	.stag	_task_stack,32,11
    66                        	.member	SS,0,142,8,32
    67                        	.eos
    68                        	.stag	int_regs,104,12
    69                        	.member	PB,0,14,8,8
    70                        	.member	PH,8,14,8,8
    71                        	.member	PL,16,14,8,8
    72                        	.member	PP,24,14,8,8
    73                        	.member	DB,32,14,8,8
    74                        	.member	DH,40,14,8,8
    75                        	.member	DL,48,14,8,8
    76                        	.member	AH,56,14,8,8
    77                        	.member	AL,64,14,8,8
    78                        	.member	XH,72,14,8,8
    79                        	.member	XL,80,14,8,8
    80                        	.member	YH,88,14,8,8
    81                        	.member	YL,96,14,8,8
    82                        	.eos
    83                        	.stag	_fx_eventMessage,304,13
    84                        	.member	src,0,18,8,32
    85                        	.member	dest,32,18,8,32
    86                        	.member	type,64,16,8,16
    87                        	.member	hwnd,80,129,8,32
    88                        	.member	pheap,112,129,8,32
    89                        	.member	msgTime,144,18,8,32
    90                        	.member	data,176,110,8,0,16
    91                        	.eos
    92                        	.stag	_fx_cmdMessage,304,14
    93                        	.member	src,0,18,8,32
    94                        	.member	dest,32,18,8,32
    95                        	.member	type,64,16,8,16
    96                        	.member	hwnd,80,129,8,32
    97                        	.member	pheap,112,129,8,32
    98                        	.member	msgTime,144,18,8,32
    99                        	.member	cmdCId,176,16,8,16
   100                        	.member	cmdMId,192,16,8,16
   101                        	.member	parameter1,208,18,8,32
   102                        	.member	parameter2,240,18,8,32
   103                        	.member	parameter3,272,18,8,32
   104                        	.eos
   105                        	.stag	_fx_console_ctl,448,15
   106                        	.member	maxCols,0,5,8,16
   107                        	.member	maxRows,16,5,8,16
  Mon Dec  7 2020 11:19                                                Page 3


   108                        	.member	curX,32,5,8,16
   109                        	.member	curY,48,5,8,16
   110                        	.member	fgColor,64,5,8,16
   111                        	.member	bgColor,80,5,8,16
   112                        	.member	mode,96,14,8,8
   113                        	.member	kbBuffer,104,101,8,0,16
   114                        	.member	screenBuffer,360,142,8,32
   115                        	.member	desktopMode,392,14,8,8
   116                        	.member	lastMouseButton,400,5,8,16
   117                        	.member	lastMouseX,416,5,8,16
   118                        	.member	lastMouseY,432,5,8,16
   119                        	.eos
   120                        	.stag	_fx_desktop_ctl,392,16
   121                        	.member	desktopMode,0,14,8,8
   122                        	.member	cursorCtl,8,5,8,16
   123                        	.member	cursorState,24,5,8,16
   124                        	.member	backgroundColor,40,5,8,16
   125                        	.member	foregroundColor,56,5,8,16
   126                        	.member	menuMode,72,5,8,16
   127                        	.member	lastMouseButton,88,5,8,16
   128                        	.member	lastMouseX,104,5,8,16
   129                        	.member	lastMouseY,120,5,8,16
   130                        	.member	currentDiskName,136,142,8,32
   131                        	.member	diskNodes,168,129,8,32
   132                        	.member	titleNodes,200,129,8,32
   133                        	.member	menuNodes,232,129,8,32
   134                        	.member	iconNodes,264,129,8,32
   135                        	.member	windowNodes,296,129,8,32
   136                        	.member	fontNodes,328,129,8,32
   137                        	.member	wndProc,360,138,8,32,3
   138                        	.eos
   139                        	.stag	_fx_process,800,17
   140                        	.member	cbSize,0,5,8,16
   141                        	.member	procId,16,18,8,32
   142                        	.member	parentId,48,18,8,32
   143                        	.member	ctx,80,129,8,32
   144                        	.member	userId,112,16,8,16
   145                        	.member	status,128,16,8,16
   146                        	.member	foregroundActive,144,14,8,8
   147                        	.member	tls,152,1121,8,32,8
   148                        	.member	commandLine,408,142,8,32
   149                        	.member	semaphores,440,138,8,32,3
   150                        	.member	fileHandles,472,138,8,32,3
   151                        	.member	pathList,504,138,8,32,3
   152                        	.member	resources,536,138,8,32,3
   153                        	.member	timerAware,568,14,8,8
   154                        	.member	timerTicks,576,112,8,0,2
   155                        	.member	timerTickCount,608,112,8,0,2
   156                        	.member	kernelError,640,10,8,32,5
   157                        	.member	consoleCtl,672,138,8,32,15
   158                        	.member	desktopCtl,704,138,8,32,16
   159                        	.member	execProc,736,641,8,32
   160                        	.member	startupArgs,768,129,8,32
   161                        	.eos
   162                        	.stag	_fxProcessMessage,112,18
   163                        	.member	src,0,18,8,32
   164                        	.member	dest,32,18,8,32
   165                        	.member	type,64,16,8,16
  Mon Dec  7 2020 11:19                                                Page 4


   166                        	.member	processInfo,80,138,8,32,17
   167                        	.eos
   168                        	.stag	_fx_property,384,19
   169                        	.member	name,0,110,8,0,16
   170                        	.member	value,128,110,8,0,32
   171                        	.eos
   172                        	.utag	_24bitPointer,32,20
   173                        	.member	address,0,142,11,32
   174                        	.member	bytes,0,110,11,0,4
   175                        	.eos
   176                        	.stag	_PointStruct,32,21
   177                        	.member	x,0,5,8,16
   178                        	.member	y,16,5,8,16
   179                        	.eos
   180                        	.stag	_RectStruct,64,22
   181                        	.member	x,0,5,8,16
   182                        	.member	y,16,5,8,16
   183                        	.member	width,32,5,8,16
   184                        	.member	height,48,5,8,16
   185                        	.eos
   186                        	.stag	_k_WindowClass,256,23
   187                        	.member	cbSize,0,16,8,16
   188                        	.member	style,16,16,8,16
   189                        	.member	pWndProc,32,654,8,32
   190                        	.member	hInstance,64,129,8,32
   191                        	.member	hIcon,96,129,8,32
   192                        	.member	hCursor,128,129,8,32
   193                        	.member	hbrBackground,160,129,8,32
   194                        	.member	lpszMenuName,192,142,8,32
   195                        	.member	lpszClassName,224,142,8,32
   196                        	.eos
   197                        	.stag	_ClickableRect,88,24
   198                        	.member	area,0,10,8,64,22
   199                        	.member	z,64,5,8,16
   200                        	.member	enabled,80,14,8,8
   201                        	.eos
   202                        	.stag	_NCClickableRect,88,25
   203                        	.member	area,0,10,8,64,22
   204                        	.member	msgType,64,16,8,16
   205                        	.member	enabled,80,14,8,8
   206                        	.eos
   207                        	.stag	_DragData,160,26
   208                        	.member	area,0,10,8,64,22
   209                        	.member	xoffset,64,5,8,16
   210                        	.member	yoffset,80,5,8,16
   211                        	.member	msgType,96,16,8,16
   212                        	.member	ncAction,112,16,8,16
   213                        	.member	isDrag,128,14,8,8
   214                        	.member	isResize,136,14,8,8
   215                        	.member	canDrag,144,14,8,8
   216                        	.member	canDrop,152,14,8,8
   217                        	.eos
   218                        	.stag	_k_WindowStruct,2840,27
   219                        	.member	cbSize,0,16,8,16
   220                        	.member	style,16,18,8,32
   221                        	.member	win_id,48,5,8,16
   222                        	.member	win_x,64,5,8,16
   223                        	.member	win_y,80,5,8,16
  Mon Dec  7 2020 11:19                                                Page 5


   224                        	.member	win_width,96,5,8,16
   225                        	.member	win_height,112,5,8,16
   226                        	.member	wndRect,128,10,8,64,22
   227                        	.member	clientRect,192,10,8,64,22
   228                        	.member	nonclientGadgets,256,106,8,0,25,16
   229                        	.member	clickable,1664,129,8,32
   230                        	.member	win_title,1696,110,8,0,32
   231                        	.member	Reserved0,1952,16,8,16
   232                        	.member	win_class,1968,110,8,0,16
   233                        	.member	win_class_name,2096,110,8,0,32
   234                        	.member	nBitmapLayer,2352,16,8,16
   235                        	.member	bgRegion,2368,129,8,32
   236                        	.member	procid,2400,18,8,32
   237                        	.member	pWndClass,2432,138,8,32,23
   238                        	.member	pParentWindow,2464,129,8,32
   239                        	.member	hMenu,2496,129,8,32
   240                        	.member	pChildWindows,2528,138,8,32,3
   241                        	.member	pChildHitList,2560,138,8,32,3
   242                        	.member	isVisible,2592,14,8,8
   243                        	.member	windowData,2600,129,8,32
   244                        	.member	clientData,2632,1121,8,32,6
   245                        	.member	isClosed,2824,14,8,8
   246                        	.member	isClosing,2832,14,8,8
   247                        	.eos
   248                        	.stag	_k_WindowStructEx,2704,28
   249                        	.member	cbSize,0,16,8,16
   250                        	.member	style,16,18,8,32
   251                        	.member	win_id,48,5,8,16
   252                        	.member	win_x,64,5,8,16
   253                        	.member	win_y,80,5,8,16
   254                        	.member	win_width,96,5,8,16
   255                        	.member	win_height,112,5,8,16
   256                        	.member	wndRect,128,10,8,64,22
   257                        	.member	clientRect,192,10,8,64,22
   258                        	.member	nonclientGadgets,256,106,8,0,25,16
   259                        	.member	clickable,1664,129,8,32
   260                        	.member	win_title,1696,110,8,0,32
   261                        	.member	Reserved0,1952,16,8,16
   262                        	.member	win_class,1968,110,8,0,16
   263                        	.member	nBitmapLayer,2096,16,8,16
   264                        	.member	procid,2112,18,8,32
   265                        	.member	pWndClass,2144,138,8,32,23
   266                        	.member	pParentWindow,2176,129,8,32
   267                        	.member	hMenu,2208,129,8,32
   268                        	.member	pChildWindows,2240,138,8,32,3
   269                        	.member	pChildHitList,2272,138,8,32,3
   270                        	.member	isVisible,2304,14,8,8
   271                        	.member	windowData,2312,129,8,32
   272                        	.member	clientData,2344,1121,8,32,4
   273                        	.member	isClosed,2472,14,8,8
   274                        	.member	hWnd,2480,129,8,32
   275                        	.member	localRect,2512,10,8,64,22
   276                        	.member	globalRect,2576,10,8,64,22
   277                        	.member	clientOffsetRect,2640,10,8,64,22
   278                        	.eos
   279                        	.stag	_FontMetric,32,29
   280                        	.member	width,0,5,8,16
   281                        	.member	height,16,5,8,16
  Mon Dec  7 2020 11:19                                                Page 6


   282                        	.eos
   283                        	.stag	_ctl_Textbox,112,30
   284                        	.member	win_id,0,5,8,16
   285                        	.member	win_x,16,5,8,16
   286                        	.member	win_y,32,5,8,16
   287                        	.member	win_width,48,5,8,16
   288                        	.member	win_height,64,5,8,16
   289                        	.member	content,80,1166,8,32
   290                        	.eos
   291                        	.stag	_MenuStruct,248,31
   292                        	.member	cx,0,5,8,16
   293                        	.member	cy,16,5,8,16
   294                        	.member	width,32,5,8,16
   295                        	.member	height,48,5,8,16
   296                        	.member	fcolor,64,14,8,8
   297                        	.member	bcolor,72,14,8,8
   298                        	.member	chromeLeft,80,14,8,8
   299                        	.member	chromeRight1,88,14,8,8
   300                        	.member	chromeRight2,96,14,8,8
   301                        	.member	itemId,104,16,8,16
   302                        	.member	pCaption,120,142,8,32
   303                        	.member	subMenus,152,138,8,32,3
   304                        	.member	pBackground,184,129,8,32
   305                        	.member	hWndOwner,216,129,8,32
   306                        	.eos
   307                        	.stag	fake32_,112,32
   308                        	.member	menuId,0,16,8,16
   309                        	.member	caption,16,142,8,32
   310                        	.member	rect,48,10,8,64,22
   311                        	.eos
   312                        	.stag	fake33_,3568,33
   313                        	.member	pParent,0,138,8,32,27
   314                        	.member	rect,32,10,8,64,22
   315                        	.member	captions,96,1134,8,32,24
   316                        	.member	chrome,864,110,8,0,24
   317                        	.member	ids,1056,112,8,0,24
   318                        	.member	clickable,1440,106,8,0,24,24
   319                        	.member	selected,3552,16,8,16
   320                        	.eos
   321                        	.stag	_fx_button_t,80,34
   322                        	.member	pCaption,0,142,8,32
   323                        	.member	data,32,129,8,32
   324                        	.member	captionPixelWidth,64,16,8,16
   325                        	.eos
   326                        	.stag	_fx_scrollbar_t,192,35
   327                        	.member	min,0,16,8,16
   328                        	.member	max,16,16,8,16
   329                        	.member	increment,32,16,8,16
   330                        	.member	stopsize,48,16,8,16
   331                        	.member	location,64,5,8,16
   332                        	.member	state,80,5,8,16
   333                        	.member	rectThumb,96,10,8,64,22
   334                        	.member	data,160,129,8,32
   335                        	.eos
   336                        	.stag	_fx_listbox_t,240,36
   337                        	.member	pos,0,5,8,16
   338                        	.member	selected,16,16,8,16
   339                        	.member	offsetX,32,5,8,16
  Mon Dec  7 2020 11:19                                                Page 7


   340                        	.member	offsetY,48,5,8,16
   341                        	.member	inc,64,5,8,16
   342                        	.member	direction,80,5,8,16
   343                        	.member	top,96,5,8,16
   344                        	.member	bottom,112,5,8,16
   345                        	.member	indexTop,128,5,8,16
   346                        	.member	indexBottom,144,5,8,16
   347                        	.member	maxItems,160,16,8,16
   348                        	.member	fontSet,176,142,8,32
   349                        	.member	data,208,129,8,32
   350                        	.eos
   351                        	.stag	_fx_textbox_t,144,37
   352                        	.member	pos,0,5,8,16
   353                        	.member	selected,16,16,8,16
   354                        	.member	offsetX,32,5,8,16
   355                        	.member	offsetY,48,5,8,16
   356                        	.member	isShifted,64,14,8,8
   357                        	.member	cursorState,72,14,8,8
   358                        	.member	fontSet,80,142,8,32
   359                        	.member	data,112,129,8,32
   360                        	.eos
   361                        	.stag	_fx_menuAnchor_t,144,38
   362                        	.member	pCaption,0,142,8,32
   363                        	.member	renderLayoutX,32,16,8,16
   364                        	.member	renderLayoutY,48,16,8,16
   365                        	.member	captionPixelWidth,64,16,8,16
   366                        	.member	data,80,129,8,32
   367                        	.member	droppedWindow,112,138,8,32,27
   368                        	.eos
   369                        	.stag	_SubMenuStruct,64,39
   370                        	.member	caption,0,142,8,32
   371                        	.member	action,32,641,8,32
   372                        	.eos
   373                        	.stag	_SubMenuListStruct,40,40
   374                        	.member	cMenus,0,14,8,8
   375                        	.member	psubmenus,8,9354,8,32,39
   376                        	.eos
   377                        	.stag	_fx_ComBuffer,2080,41
   378                        	.member	cbSize,0,16,8,16
   379                        	.member	cbBuffer,16,16,8,16
   380                        	.member	buffer,32,110,8,0,256
   381                        	.eos
   382                        	.line	715
   383                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",5
   384                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   385                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   386                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stddef.h",0
   387                        	.line	88
   388                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",43
   389                        	.stag	fake42_,32,42
   390                        	.member	quot,0,5,8,16
   391                        	.member	rem,16,5,8,16
   392                        	.eos
  Mon Dec  7 2020 11:19                                                Page 8


   393                        	.stag	fake43_,64,43
   394                        	.member	quot,0,7,8,32
   395                        	.member	rem,32,7,8,32
   396                        	.eos
   397                        	.stag	int_sqrt,32,44
   398                        	.member	sqrt,0,16,8,16
   399                        	.member	frac,16,16,8,16
   400                        	.eos
   401                        	.line	205
   402                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",4
   403                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   404                        	.line	134
   405                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",5
   406                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    ctype.h",0
   407                        	.line	103
   408                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",6
   409                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   410                        	.line	715
   411                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",8
   412                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstringtable.h",0
   413                        	.line	89
   414                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",9
   415                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",0
   416                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   417                        	.line	715
   418                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",5
   419                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fmx_vicky.h",0
   420                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   421                        	.line	715
   422                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fmx_vicky.h",11
   423                        	.line	72
   424                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",6
   425                        	.line	1325
   426                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",13
   427                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",0
   428                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   429                        	.line	25
   430                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",5
  Mon Dec  7 2020 11:19                                                Page 9


   431                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   432                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   433                        	.line	715
   434                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",5
   435                        	.line	64
   436                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",6
   437                        	.stag	_fx_zero_page,448,45
   438                        	.member	fxos_mouse_byte_0,0,14,8,8
   439                        	.member	fxos_mouse_byte_1,8,14,8,8
   440                        	.member	fxos_mouse_byte_2,16,14,8,8
   441                        	.member	fxos_mouse_byte_t,24,14,8,8
   442                        	.member	fxos_mouse_byte_x_l,32,14,8,8
   443                        	.member	fxos_mouse_byte_x_h,40,14,8,8
   444                        	.member	fxos_mouse_byte_y_l,48,14,8,8
   445                        	.member	fxos_mouse_byte_y_h,56,14,8,8
   446                        	.member	fxos_key_byte_0,64,14,8,8
   447                        	.member	fxos_key_byte_1,72,14,8,8
   448                        	.member	fxos_key_byte_2,80,14,8,8
   449                        	.member	fxos_mouse_ctl,88,14,8,8
   450                        	.member	fxos_mouse_index,96,14,8,8
   451                        	.member	fxos_mouse_status,104,14,8,8
   452                        	.member	VersionMajor,112,16,8,16
   453                        	.member	VersionMinor,128,16,8,16
   454                        	.member	VersionRelease,144,16,8,16
   455                        	.member	topMemory,160,18,8,32
   456                        	.member	bottomMemory,192,18,8,32
   457                        	.member	availableMemory,224,18,8,32
   458                        	.member	availableMemoryK,256,18,8,32
   459                        	.member	availableHeapMemory,288,18,8,32
   460                        	.member	availableHeapMemoryK,320,18,8,32
   461                        	.member	kernelFunctionCallId,352,16,8,16
   462                        	.member	kernelFunctionCallBank,368,14,8,8
   463                        	.member	kernelFunctionCallReserved,376,14,8,8
   464                        	.member	kernelFunctionCallParameter,384,129,8,32
   465                        	.member	kernelFunctionCallReturn,416,129,8,32
   466                        	.eos
   467                        	.stag	_fx_environment,96,46
   468                        	.member	variables,0,142,8,32
   469                        	.member	reserved1,32,5,8,16
   470                        	.member	reserved2,48,5,8,16
   471                        	.member	reserved3,64,5,8,16
   472                        	.member	reserved4,80,5,8,16
   473                        	.eos
   474                        	.stag	_debug_byte_bits,8,47
   475                        	.member	bit7,0,14,17,1
   476                        	.member	bit6,1,14,17,1
   477                        	.member	bit5,2,14,17,1
   478                        	.member	bit4,3,14,17,1
   479                        	.member	bit3,4,14,17,1
   480                        	.member	bit2,5,14,17,1
   481                        	.member	bit1,6,14,17,1
   482                        	.member	bit0,7,14,17,1
   483                        	.eos
   484                        	.stag	_fx_device_driver,1416,48
  Mon Dec  7 2020 11:19                                                Page 10


   485                        	.member	name,0,110,8,0,64
   486                        	.member	version,512,110,8,0,64
   487                        	.member	hmajor,1024,110,8,0,16
   488                        	.member	hminor,1152,110,8,0,16
   489                        	.member	type,1280,14,8,8
   490                        	.member	f_driver_load,1288,129,8,32
   491                        	.member	f_driver_read,1320,129,8,32
   492                        	.member	f_driver_write,1352,129,8,32
   493                        	.member	f_driver_unload,1384,129,8,32
   494                        	.eos
   495                        	.stag	_fx_block_device_driver,1448,49
   496                        	.member	name,0,110,8,0,64
   497                        	.member	version,512,110,8,0,64
   498                        	.member	hmajor,1024,110,8,0,16
   499                        	.member	hminor,1152,110,8,0,16
   500                        	.member	type,1280,14,8,8
   501                        	.member	f_driver_load,1288,129,8,32
   502                        	.member	f_driver_read,1320,129,8,32
   503                        	.member	f_driver_write,1352,129,8,32
   504                        	.member	f_driver_unload,1384,129,8,32
   505                        	.member	f_driver_command,1416,129,8,32
   506                        	.eos
   507                        	.line	270
   508                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",19
   509                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",0
   510                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   511                        	.line	134
   512                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",5
   513                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   514                        	.line	205
   515                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",6
   516                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   517                        	.line	715
   518                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",7
   519                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",0
   520                        	.line	1325
   521                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",10
   522                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",0
   523                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   524                        	.line	205
   525                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",5
   526                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   527                        	.line	134
   528                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
  Mon Dec  7 2020 11:19                                                Page 11


                    space\FXOSv1\src\fxstring.h",6
   529                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   530                        	.line	715
   531                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",7
   532                        	.stag	_fx_string,64,50
   533                        	.member	size,0,16,8,16
   534                        	.member	pos,16,5,8,16
   535                        	.member	buffer,32,142,8,32
   536                        	.eos
   537                        	.line	71
   538                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",15
   539                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",0
   540                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   541                        	.line	25
   542                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",5
   543                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxexec.h",0
   544                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   545                        	.line	715
   546                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxexec.h",5
   547                        	.line	52
   548                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",6
   549                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   550                        	.line	64
   551                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",7
   552                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",0
   553                        	.line	171
   554                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",8
   555                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",0
   556                        	.line	369
   557                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",9
   558                        	.stag	_fx_main_loopvars,16,51
   559                        	.member	dummy,0,5,8,16
   560                        	.eos
   561                        	.stag	_fxMouseMessageData,64,52
   562                        	.member	button1,0,14,8,8
   563                        	.member	button2,8,14,8,8
   564                        	.member	button3,16,14,8,8
   565                        	.member	button4,24,14,8,8
   566                        	.member	x,32,16,8,16
   567                        	.member	y,48,16,8,16
   568                        	.eos
   569                        	.stag	_fx_eventProcess,64,53
  Mon Dec  7 2020 11:19                                                Page 12


   570                        	.member	process,0,138,8,32,17
   571                        	.member	eventProc,32,641,8,32
   572                        	.eos
   573                        	.stag	_mouse_msg_state,184,54
   574                        	.member	lastEvent,0,18,8,32
   575                        	.member	buttonLeftDown,32,14,8,8
   576                        	.member	lastLeftDown,40,18,8,32
   577                        	.member	buttonRightDown,72,14,8,8
   578                        	.member	lastRightDown,80,18,8,32
   579                        	.member	buttonMiddleDown,112,14,8,8
   580                        	.member	lastMiddleDown,120,18,8,32
   581                        	.member	lastX,152,16,8,16
   582                        	.member	lastY,168,16,8,16
   583                        	.eos
   584                        	.line	757
   585                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",16
   586                        	.stag	_fx_spinner_ctx,48,55
   587                        	.member	index,0,5,8,16
   588                        	.member	spinner,16,142,8,32
   589                        	.eos
   590                        	.stag	_fx_console_ctx,1144,56
   591                        	.member	lineBufferIndex,0,5,8,16
   592                        	.member	lineBuffer,16,110,8,0,128
   593                        	.member	isShifted,1040,14,8,8
   594                        	.member	userData,1048,129,8,32
   595                        	.member	screenBuffer,1080,129,8,32
   596                        	.member	Reserved1,1112,129,8,32
   597                        	.eos
   598                        	.stag	_token,64,57
   599                        	.member	type,0,5,8,16
   600                        	.member	depth,16,16,8,16
   601                        	.member	text,32,142,8,32
   602                        	.eos
   603                        	.stag	_command_args,64,58
   604                        	.member	proc,0,656,8,32
   605                        	.member	tokens,32,138,8,32,2
   606                        	.eos
   607                        	.line	171
   608                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",20
   609                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",0
   610                        	.line	71
   611                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",21
   612                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   613                        	.line	64
   614                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",22
   615                        	.line	25
   616                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",6
   617                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",0
   618                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
  Mon Dec  7 2020 11:19                                                Page 13


   619                        	.line	25
   620                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",5
   621                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc_cfg.h",0
   622                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos_build_parameters.h",0
   623                        	.line	32
   624                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc_cfg.h",8
   625                        	.stag	UMM_HEAP_INFO_t,256,59
   626                        	.member	totalEntries,0,18,8,32
   627                        	.member	usedEntries,32,18,8,32
   628                        	.member	freeEntries,64,18,8,32
   629                        	.member	totalBlocks,96,18,8,32
   630                        	.member	usedBlocks,128,18,8,32
   631                        	.member	freeBlocks,160,18,8,32
   632                        	.member	maxFreeContiguousBlocks,192,18,8,32
   633                        	.member	blockSize,224,18,8,32
   634                        	.eos
   635                        	.line	199
   636                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",6
   637                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc.h",0
   638                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   639                        	.line	715
   640                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc.h",11
   641                        	.line	24
   642                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",7
   643                        	.stag	_fx_memory_map,2072,60
   644                        	.member	availableMemory,0,18,8,32
   645                        	.member	valid_segments,32,110,8,0,255
   646                        	.eos
   647                        	.line	39
   648                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",7
   649                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",0
   650                        	.line	757
   651                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",8
   652                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.h",0
   653                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",0
   654                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   655                        	.line	715
   656                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",6
   657                        	.line	64
   658                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.h",4
   659                        	.stag	_click_detected,64,61
  Mon Dec  7 2020 11:19                                                Page 14


   660                        	.member	window,0,138,8,32,27
   661                        	.member	handler,32,641,8,32
   662                        	.eos
   663                        	.stag	_current_palette_map,400,62
   664                        	.member	CUR_DESKTOP,0,5,8,16
   665                        	.member	CUR_BACKGROUND,16,5,8,16
   666                        	.member	CUR_FONT,32,5,8,16
   667                        	.member	CUR_SELECTED_FONT,48,5,8,16
   668                        	.member	CUR_HIGHLIGHT_COLOR,64,5,8,16
   669                        	.member	CUR_WINDOWFRAME,80,5,8,16
   670                        	.member	CUR_WINDOWBORDER,96,5,8,16
   671                        	.member	CUR_WINDOWSHADOW,112,5,8,16
   672                        	.member	CUR_MENU,128,5,8,16
   673                        	.member	CUR_GADGET,144,5,8,16
   674                        	.member	CUR_COLOR,160,101,8,0,15
   675                        	.eos
   676                        	.line	268
   677                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",9
   678                        	.stag	_childMessage_t,64,63
   679                        	.member	msgType,0,16,8,16
   680                        	.member	msgData,16,129,8,32
   681                        	.member	dataSize,48,16,8,16
   682                        	.eos
   683                        	.line	369
   684                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanagerV2.c",1
   685                        ;#include "fxfont.h"
   686                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",0
   687                        	.line	64
   688                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanagerV2.c",2
   689                        ;
   690                        ;
   691                        ;static PFXNODELIST _k_windowManager_WindowClassLi
                    st 	= NULL;
   692                        	data
   693                        ~~_k_windowManager_WindowClassList:
   694 00:0000: 00 00 00 00  	dl	$0
   695 00:0004:              	ends
   696                        ;static PFXNODELIST _k_windowManager_WindowObjectL
                    ist	= NULL;
   697                        	data
   698                        ~~_k_windowManager_WindowObjectList:
   699 00:0004: 00 00 00 00  	dl	$0
   700 00:0008:              	ends
   701                        ;static PFXNODELIST _k_windowManager_WindowRedrawL
                    ist	= NULL;
   702                        	data
   703                        ~~_k_windowManager_WindowRedrawList:
   704 00:0008: 00 00 00 00  	dl	$0
   705 00:000C:              	ends
   706                        ;static PFXNODELIST _k_windowManager_ObjectHitList
                    		= NULL;
   707                        	data
   708                        ~~_k_windowManager_ObjectHitList:
   709 00:000C: 00 00 00 00  	dl	$0
  Mon Dec  7 2020 11:19                                                Page 15


   710 00:0010:              	ends
   711                        ;static PFXNODELIST _k_windowManager_WindowMenuLis
                    t 		= NULL;
   712                        	data
   713                        ~~_k_windowManager_WindowMenuList:
   714 00:0010: 00 00 00 00  	dl	$0
   715 00:0014:              	ends
   716                        ;static PFXNODELIST _k_windowManager_IconList 	
                    		= NULL;
   717                        	data
   718                        ~~_k_windowManager_IconList:
   719 00:0014: 00 00 00 00  	dl	$0
   720 00:0018:              	ends
   721                        ;static PFXNODELIST _k_windowManager_FontList 	
                    		= NULL;
   722                        	data
   723                        ~~_k_windowManager_FontList:
   724 00:0018: 00 00 00 00  	dl	$0
   725 00:001C:              	ends
   726                        ;static PFXNODELIST _k_windowManager_CursorList 	
                    		= NULL;
   727                        	data
   728                        ~~_k_windowManager_CursorList:
   729 00:001C: 00 00 00 00  	dl	$0
   730 00:0020:              	ends
   731                        ;
   732                        ;#pragma section CODE=WINMAN,offset $4:0000
   733                        WINMAN	section	offset $4:0000
   734 04:0000:              	ends
   735                        ;
   736                        ;
   737                        ;VOID k_deallocate_window_class(LPCSTR name,LPVOID
                     data)
   738                        ;{
   739                        	.line	17
   740                        	.line	18
   741                        	WINMAN
   742                        	xdef	~~k_deallocate_window_class
   743                        	func
   744                        	.function	18
   745                        ~~k_deallocate_window_class:
   746                        	longa	on
   747                        	longi	on
   748 04:0000: 3B           	tsc
   749 04:0001: 38           	sec
   750 04:0002: E9 00 00     	sbc	#L2
   751 04:0005: 1B           	tcs
   752 04:0006: 0B           	phd
   753 04:0007: 5B           	tcd
   754             00000004   name_0	set	4
   755             00000008   data_0	set	8
   756                        	.block	18
   757                        ;}
   758                        	.sym	name,4,142,6,32
   759                        	.sym	data,8,129,6,32
   760                        	.line	19
   761                        L5:
   762 04:0008: A5 02        	lda	<L2+2
  Mon Dec  7 2020 11:19                                                Page 16


   763 04:000A: 85 0A        	sta	<L2+2+8
   764 04:000C: A5 01        	lda	<L2+1
   765 04:000E: 85 09        	sta	<L2+1+8
   766 04:0010: 2B           	pld
   767 04:0011: 3B           	tsc
   768 04:0012: 18           	clc
   769 04:0013: 69 08 00     	adc	#L2+8
   770 04:0016: 1B           	tcs
   771 04:0017: 6B           	rtl
   772                        	.endblock	19
   773             00000000   L2	equ	0
   774             00000001   L3	equ	1
   775 04:0018:              	ends
   776                        	efunc
   777                        	.endfunc	19,1,0
   778                        	.line	19
   779                        ;
   780                        ;VOID k_deallocate_window_object(LPCSTR name,LPVOI
                    D data)
   781                        ;{
   782                        	.line	21
   783                        	.line	22
   784                        	WINMAN
   785                        	xdef	~~k_deallocate_window_object
   786                        	func
   787                        	.function	22
   788                        ~~k_deallocate_window_object:
   789                        	longa	on
   790                        	longi	on
   791 04:0018: 3B           	tsc
   792 04:0019: 38           	sec
   793 04:001A: E9 08 00     	sbc	#L6
   794 04:001D: 1B           	tcs
   795 04:001E: 0B           	phd
   796 04:001F: 5B           	tcd
   797             00000004   name_0	set	4
   798             00000008   data_0	set	8
   799                        	.block	22
   800                        ;	PWINDOW pWin = NULL;
   801                        ;	k_debug_strings("k_deallocate_window_object name
                    :",(LPSTR)name);
   802             00000000   pWin_1	set	0
   803                        	.sym	pWin,0,138,1,32,27
   804                        	.sym	name,4,142,6,32
   805                        	.sym	data,8,129,6,32
   806 04:0020: 64 05        	stz	<L7+pWin_1
   807 04:0022: 64 07        	stz	<L7+pWin_1+2
   808                        	.line	24
   809 04:0024: D4 0E        	pei	<L6+name_0+2
   810 04:0026: D4 0C        	pei	<L6+name_0
   811 04:0028: F4 xx xx     	pea	#^L1
   812 04:002B: F4 xx xx     	pea	#<L1
   813 04:002E: 22 xx xx xx  	jsl	~~k_debug_strings
   814                        ;	k_debug_pointer("                            ptr
                    :",data);
   815                        	.line	25
   816 04:0032: D4 12        	pei	<L6+data_0+2
   817 04:0034: D4 10        	pei	<L6+data_0
  Mon Dec  7 2020 11:19                                                Page 17


   818 04:0036: F4 xx xx     	pea	#^L1+33
   819 04:0039: F4 xx xx     	pea	#<L1+33
   820 04:003C: 22 xx xx xx  	jsl	~~k_debug_pointer
   821                        ;
   822                        ;	if(data)
   823                        	.line	27
   824                        ;	{
   825 04:0040: A5 10        	lda	<L6+data_0
   826 04:0042: 05 12        	ora	<L6+data_0+2
   827 04:0044: D0 03        	bne	L9
   828 04:0046: 82 8A 00     	brl	L10001
   829                        L9:
   830                        	.line	28
   831                        ;		pWin = (PWINDOW)data;
   832                        	.line	29
   833 04:0049: A5 10        	lda	<L6+data_0
   834 04:004B: 85 05        	sta	<L7+pWin_1
   835 04:004D: A5 12        	lda	<L6+data_0+2
   836 04:004F: 85 07        	sta	<L7+pWin_1+2
   837                        ;		k_debug_strings("                       
                     caption:",(LPSTR)pWin->win_title);
   838                        	.line	30
   839 04:0051: 18           	clc
   840 04:0052: A9 D4 00     	lda	#$d4
   841 04:0055: 65 05        	adc	<L7+pWin_1
   842 04:0057: 85 01        	sta	<R0
   843 04:0059: A9 00 00     	lda	#$0
   844 04:005C: 65 07        	adc	<L7+pWin_1+2
   845 04:005E: 85 03        	sta	<R0+2
   846 04:0060: D4 03        	pei	<R0+2
   847 04:0062: D4 01        	pei	<R0
   848 04:0064: F4 xx xx     	pea	#^L1+66
   849 04:0067: F4 xx xx     	pea	#<L1+66
   850 04:006A: 22 xx xx xx  	jsl	~~k_debug_strings
   851                        ;
   852                        ;
   853                        ;		if(pWin->pChildHitList)
   854                        	.line	33
   855                        ;		{
   856 04:006E: A0 40 01     	ldy	#$140
   857 04:0071: B7 05        	lda	[<L7+pWin_1],Y
   858 04:0073: A0 42 01     	ldy	#$142
   859 04:0076: 17 05        	ora	[<L7+pWin_1],Y
   860 04:0078: D0 03        	bne	L10
   861 04:007A: 82 10 00     	brl	L10002
   862                        L10:
   863                        	.line	34
   864                        ;			k_nodelist_deallocate_list(pWin-
                    >pChildHitList);
   865                        	.line	35
   866 04:007D: A0 42 01     	ldy	#$142
   867 04:0080: B7 05        	lda	[<L7+pWin_1],Y
   868 04:0082: 48           	pha
   869 04:0083: A0 40 01     	ldy	#$140
   870 04:0086: B7 05        	lda	[<L7+pWin_1],Y
   871 04:0088: 48           	pha
   872 04:0089: 22 xx xx xx  	jsl	~~k_nodelist_deallocate_list
   873                        ;		}
  Mon Dec  7 2020 11:19                                                Page 18


   874                        	.line	36
   875                        ;		if(pWin->pChildWindows)
   876                        L10002:
   877                        	.line	37
   878                        ;		{
   879 04:008D: A0 3C 01     	ldy	#$13c
   880 04:0090: B7 05        	lda	[<L7+pWin_1],Y
   881 04:0092: A0 3E 01     	ldy	#$13e
   882 04:0095: 17 05        	ora	[<L7+pWin_1],Y
   883 04:0097: D0 03        	bne	L11
   884 04:0099: 82 10 00     	brl	L10003
   885                        L11:
   886                        	.line	38
   887                        ;			k_nodelist_deallocate_list(pWin-
                    >pChildWindows);
   888                        	.line	39
   889 04:009C: A0 3E 01     	ldy	#$13e
   890 04:009F: B7 05        	lda	[<L7+pWin_1],Y
   891 04:00A1: 48           	pha
   892 04:00A2: A0 3C 01     	ldy	#$13c
   893 04:00A5: B7 05        	lda	[<L7+pWin_1],Y
   894 04:00A7: 48           	pha
   895 04:00A8: 22 xx xx xx  	jsl	~~k_nodelist_deallocate_list
   896                        ;		}
   897                        	.line	40
   898                        ;		if(pWin->windowData)
   899                        L10003:
   900                        	.line	41
   901                        ;			k_mem_deallocate_heap(pWin->wind
                    owData);
   902 04:00AC: A0 45 01     	ldy	#$145
   903 04:00AF: B7 05        	lda	[<L7+pWin_1],Y
   904 04:00B1: A0 47 01     	ldy	#$147
   905 04:00B4: 17 05        	ora	[<L7+pWin_1],Y
   906 04:00B6: D0 03        	bne	L12
   907 04:00B8: 82 10 00     	brl	L10004
   908                        L12:
   909                        	.line	42
   910 04:00BB: A0 47 01     	ldy	#$147
   911 04:00BE: B7 05        	lda	[<L7+pWin_1],Y
   912 04:00C0: 48           	pha
   913 04:00C1: A0 45 01     	ldy	#$145
   914 04:00C4: B7 05        	lda	[<L7+pWin_1],Y
   915 04:00C6: 48           	pha
   916 04:00C7: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
   917                        ;
   918                        ;
   919                        ;		k_mem_deallocate_heap(pWin);
   920                        L10004:
   921                        	.line	45
   922 04:00CB: D4 07        	pei	<L7+pWin_1+2
   923 04:00CD: D4 05        	pei	<L7+pWin_1
   924 04:00CF: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
   925                        ;	}
   926                        	.line	46
   927                        ;
   928                        ;}
   929                        L10001:
  Mon Dec  7 2020 11:19                                                Page 19


   930                        	.line	48
   931                        L13:
   932 04:00D3: A5 0A        	lda	<L6+2
   933 04:00D5: 85 12        	sta	<L6+2+8
   934 04:00D7: A5 09        	lda	<L6+1
   935 04:00D9: 85 11        	sta	<L6+1+8
   936 04:00DB: 2B           	pld
   937 04:00DC: 3B           	tsc
   938 04:00DD: 18           	clc
   939 04:00DE: 69 10 00     	adc	#L6+8
   940 04:00E1: 1B           	tcs
   941 04:00E2: 6B           	rtl
   942                        	.endblock	48
   943             00000008   L6	equ	8
   944             00000005   L7	equ	5
   945 04:00E3:              	ends
   946                        	efunc
   947                        	.endfunc	48,5,8
   948                        	.line	48
   949                        	data
   950                        L1:
   951 00:0020: 6B 5F 64 65  	db	$6B,$5F,$64,$65,$61,$6C,$6C,$6F,$63,$61,
                    $74,$65,$5F,$77,$69
       00:0024: 61 6C 6C 6F 
       00:0028: 63 61 74 65 
       00:002C: 5F 77 69 
   952 00:002F: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$5F,$6F,$62,$6A,$65,$63,
                    $74,$20,$6E,$61,$6D
       00:0033: 5F 6F 62 6A 
       00:0037: 65 63 74 20 
       00:003B: 6E 61 6D 
   953 00:003E: 65 3A 00 20  	db	$65,$3A,$00,$20,$20,$20,$20,$20,$20,$20,
                    $20,$20,$20,$20,$20
       00:0042: 20 20 20 20 
       00:0046: 20 20 20 20 
       00:004A: 20 20 20 
   954 00:004D: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$20,$20,$20,$20,
                    $20,$20,$20,$20,$20
       00:0051: 20 20 20 20 
       00:0055: 20 20 20 20 
       00:0059: 20 20 20 
   955 00:005C: 20 70 74 72  	db	$20,$70,$74,$72,$3A,$00,$20,$20,$20,$20,
                    $20,$20,$20,$20,$20
       00:0060: 3A 00 20 20 
       00:0064: 20 20 20 20 
       00:0068: 20 20 20 
   956 00:006B: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$20,$20,$20,$20,
                    $20,$20,$20,$20,$20
       00:006F: 20 20 20 20 
       00:0073: 20 20 20 20 
       00:0077: 20 20 20 
   957 00:007A: 63 61 70 74  	db	$63,$61,$70,$74,$69,$6F,$6E,$3A,$00
       00:007E: 69 6F 6E 3A 
       00:0082: 00 
   958 00:0083:              	ends
   959                        ;
   960                        ;VOID k_deallocate_menu_object(LPCSTR name,LPVOID 
                    data)
  Mon Dec  7 2020 11:19                                                Page 20


   961                        ;{
   962                        	.line	50
   963                        	.line	51
   964                        	WINMAN
   965                        	xdef	~~k_deallocate_menu_object
   966                        	func
   967                        	.function	51
   968                        ~~k_deallocate_menu_object:
   969                        	longa	on
   970                        	longi	on
   971 04:00E3: 3B           	tsc
   972 04:00E4: 38           	sec
   973 04:00E5: E9 00 00     	sbc	#L15
   974 04:00E8: 1B           	tcs
   975 04:00E9: 0B           	phd
   976 04:00EA: 5B           	tcd
   977             00000004   name_0	set	4
   978             00000008   data_0	set	8
   979                        	.block	51
   980                        ;}
   981                        	.sym	name,4,142,6,32
   982                        	.sym	data,8,129,6,32
   983                        	.line	52
   984                        L18:
   985 04:00EB: A5 02        	lda	<L15+2
   986 04:00ED: 85 0A        	sta	<L15+2+8
   987 04:00EF: A5 01        	lda	<L15+1
   988 04:00F1: 85 09        	sta	<L15+1+8
   989 04:00F3: 2B           	pld
   990 04:00F4: 3B           	tsc
   991 04:00F5: 18           	clc
   992 04:00F6: 69 08 00     	adc	#L15+8
   993 04:00F9: 1B           	tcs
   994 04:00FA: 6B           	rtl
   995                        	.endblock	52
   996             00000000   L15	equ	0
   997             00000001   L16	equ	1
   998 04:00FB:              	ends
   999                        	efunc
  1000                        	.endfunc	52,1,0
  1001                        	.line	52
  1002                        ;
  1003                        ;VOID k_deallocate_icon_object(LPCSTR name,LPVOID 
                    data)
  1004                        ;{
  1005                        	.line	54
  1006                        	.line	55
  1007                        	WINMAN
  1008                        	xdef	~~k_deallocate_icon_object
  1009                        	func
  1010                        	.function	55
  1011                        ~~k_deallocate_icon_object:
  1012                        	longa	on
  1013                        	longi	on
  1014 04:00FB: 3B           	tsc
  1015 04:00FC: 38           	sec
  1016 04:00FD: E9 00 00     	sbc	#L19
  1017 04:0100: 1B           	tcs
  Mon Dec  7 2020 11:19                                                Page 21


  1018 04:0101: 0B           	phd
  1019 04:0102: 5B           	tcd
  1020             00000004   name_0	set	4
  1021             00000008   data_0	set	8
  1022                        	.block	55
  1023                        ;}
  1024                        	.sym	name,4,142,6,32
  1025                        	.sym	data,8,129,6,32
  1026                        	.line	56
  1027                        L22:
  1028 04:0103: A5 02        	lda	<L19+2
  1029 04:0105: 85 0A        	sta	<L19+2+8
  1030 04:0107: A5 01        	lda	<L19+1
  1031 04:0109: 85 09        	sta	<L19+1+8
  1032 04:010B: 2B           	pld
  1033 04:010C: 3B           	tsc
  1034 04:010D: 18           	clc
  1035 04:010E: 69 08 00     	adc	#L19+8
  1036 04:0111: 1B           	tcs
  1037 04:0112: 6B           	rtl
  1038                        	.endblock	56
  1039             00000000   L19	equ	0
  1040             00000001   L20	equ	1
  1041 04:0113:              	ends
  1042                        	efunc
  1043                        	.endfunc	56,1,0
  1044                        	.line	56
  1045                        ;
  1046                        ;VOID k_deallocate_hit_class(LPCSTR name,LPVOID da
                    ta)
  1047                        ;{
  1048                        	.line	58
  1049                        	.line	59
  1050                        	WINMAN
  1051                        	xdef	~~k_deallocate_hit_class
  1052                        	func
  1053                        	.function	59
  1054                        ~~k_deallocate_hit_class:
  1055                        	longa	on
  1056                        	longi	on
  1057 04:0113: 3B           	tsc
  1058 04:0114: 38           	sec
  1059 04:0115: E9 04 00     	sbc	#L23
  1060 04:0118: 1B           	tcs
  1061 04:0119: 0B           	phd
  1062 04:011A: 5B           	tcd
  1063             00000004   name_0	set	4
  1064             00000008   data_0	set	8
  1065                        	.block	59
  1066                        ;	PCLICKDETECTED pcd = data;
  1067                        ;
  1068                        ;	if(pcd)
  1069             00000000   pcd_1	set	0
  1070                        	.sym	pcd,0,138,1,32,61
  1071                        	.sym	name,4,142,6,32
  1072                        	.sym	data,8,129,6,32
  1073 04:011B: A5 0C        	lda	<L23+data_0
  1074 04:011D: 85 01        	sta	<L24+pcd_1
  Mon Dec  7 2020 11:19                                                Page 22


  1075 04:011F: A5 0E        	lda	<L23+data_0+2
  1076 04:0121: 85 03        	sta	<L24+pcd_1+2
  1077                        	.line	62
  1078                        ;	{
  1079 04:0123: A5 01        	lda	<L24+pcd_1
  1080 04:0125: 05 03        	ora	<L24+pcd_1+2
  1081 04:0127: D0 03        	bne	L26
  1082 04:0129: 82 08 00     	brl	L10005
  1083                        L26:
  1084                        	.line	63
  1085                        ;		k_mem_deallocate_heap(pcd);
  1086                        	.line	64
  1087 04:012C: D4 03        	pei	<L24+pcd_1+2
  1088 04:012E: D4 01        	pei	<L24+pcd_1
  1089 04:0130: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
  1090                        ;	}
  1091                        	.line	65
  1092                        ;}
  1093                        L10005:
  1094                        	.line	66
  1095                        L27:
  1096 04:0134: A5 06        	lda	<L23+2
  1097 04:0136: 85 0E        	sta	<L23+2+8
  1098 04:0138: A5 05        	lda	<L23+1
  1099 04:013A: 85 0D        	sta	<L23+1+8
  1100 04:013C: 2B           	pld
  1101 04:013D: 3B           	tsc
  1102 04:013E: 18           	clc
  1103 04:013F: 69 0C 00     	adc	#L23+8
  1104 04:0142: 1B           	tcs
  1105 04:0143: 6B           	rtl
  1106                        	.endblock	66
  1107             00000004   L23	equ	4
  1108             00000001   L24	equ	1
  1109 04:0144:              	ends
  1110                        	efunc
  1111                        	.endfunc	66,1,4
  1112                        	.line	66
  1113                        ;
  1114                        ;VOID k_deallocate_menu_resource(LPCSTR name,LPVOI
                    D data)
  1115                        ;{
  1116                        	.line	68
  1117                        	.line	69
  1118                        	WINMAN
  1119                        	xdef	~~k_deallocate_menu_resource
  1120                        	func
  1121                        	.function	69
  1122                        ~~k_deallocate_menu_resource:
  1123                        	longa	on
  1124                        	longi	on
  1125 04:0144: 3B           	tsc
  1126 04:0145: 38           	sec
  1127 04:0146: E9 00 00     	sbc	#L28
  1128 04:0149: 1B           	tcs
  1129 04:014A: 0B           	phd
  1130 04:014B: 5B           	tcd
  1131             00000004   name_0	set	4
  Mon Dec  7 2020 11:19                                                Page 23


  1132             00000008   data_0	set	8
  1133                        	.block	69
  1134                        ;
  1135                        ;}
  1136                        	.sym	name,4,142,6,32
  1137                        	.sym	data,8,129,6,32
  1138                        	.line	71
  1139                        L31:
  1140 04:014C: A5 02        	lda	<L28+2
  1141 04:014E: 85 0A        	sta	<L28+2+8
  1142 04:0150: A5 01        	lda	<L28+1
  1143 04:0152: 85 09        	sta	<L28+1+8
  1144 04:0154: 2B           	pld
  1145 04:0155: 3B           	tsc
  1146 04:0156: 18           	clc
  1147 04:0157: 69 08 00     	adc	#L28+8
  1148 04:015A: 1B           	tcs
  1149 04:015B: 6B           	rtl
  1150                        	.endblock	71
  1151             00000000   L28	equ	0
  1152             00000001   L29	equ	1
  1153 04:015C:              	ends
  1154                        	efunc
  1155                        	.endfunc	71,1,0
  1156                        	.line	71
  1157                        ;
  1158                        ;VOID k_deallocate_font_object(LPCSTR name,LPVOID 
                    data)
  1159                        ;{
  1160                        	.line	73
  1161                        	.line	74
  1162                        	WINMAN
  1163                        	xdef	~~k_deallocate_font_object
  1164                        	func
  1165                        	.function	74
  1166                        ~~k_deallocate_font_object:
  1167                        	longa	on
  1168                        	longi	on
  1169 04:015C: 3B           	tsc
  1170 04:015D: 38           	sec
  1171 04:015E: E9 00 00     	sbc	#L32
  1172 04:0161: 1B           	tcs
  1173 04:0162: 0B           	phd
  1174 04:0163: 5B           	tcd
  1175             00000004   name_0	set	4
  1176             00000008   data_0	set	8
  1177                        	.block	74
  1178                        ;
  1179                        ;}
  1180                        	.sym	name,4,142,6,32
  1181                        	.sym	data,8,129,6,32
  1182                        	.line	76
  1183                        L35:
  1184 04:0164: A5 02        	lda	<L32+2
  1185 04:0166: 85 0A        	sta	<L32+2+8
  1186 04:0168: A5 01        	lda	<L32+1
  1187 04:016A: 85 09        	sta	<L32+1+8
  1188 04:016C: 2B           	pld
  Mon Dec  7 2020 11:19                                                Page 24


  1189 04:016D: 3B           	tsc
  1190 04:016E: 18           	clc
  1191 04:016F: 69 08 00     	adc	#L32+8
  1192 04:0172: 1B           	tcs
  1193 04:0173: 6B           	rtl
  1194                        	.endblock	76
  1195             00000000   L32	equ	0
  1196             00000001   L33	equ	1
  1197 04:0174:              	ends
  1198                        	efunc
  1199                        	.endfunc	76,1,0
  1200                        	.line	76
  1201                        ;
  1202                        ;VOID k_deallocate_cursor_object(LPCSTR name,LPVOI
                    D data)
  1203                        ;{
  1204                        	.line	78
  1205                        	.line	79
  1206                        	WINMAN
  1207                        	xdef	~~k_deallocate_cursor_object
  1208                        	func
  1209                        	.function	79
  1210                        ~~k_deallocate_cursor_object:
  1211                        	longa	on
  1212                        	longi	on
  1213 04:0174: 3B           	tsc
  1214 04:0175: 38           	sec
  1215 04:0176: E9 00 00     	sbc	#L36
  1216 04:0179: 1B           	tcs
  1217 04:017A: 0B           	phd
  1218 04:017B: 5B           	tcd
  1219             00000004   name_0	set	4
  1220             00000008   data_0	set	8
  1221                        	.block	79
  1222                        ;
  1223                        ;}
  1224                        	.sym	name,4,142,6,32
  1225                        	.sym	data,8,129,6,32
  1226                        	.line	81
  1227                        L39:
  1228 04:017C: A5 02        	lda	<L36+2
  1229 04:017E: 85 0A        	sta	<L36+2+8
  1230 04:0180: A5 01        	lda	<L36+1
  1231 04:0182: 85 09        	sta	<L36+1+8
  1232 04:0184: 2B           	pld
  1233 04:0185: 3B           	tsc
  1234 04:0186: 18           	clc
  1235 04:0187: 69 08 00     	adc	#L36+8
  1236 04:018A: 1B           	tcs
  1237 04:018B: 6B           	rtl
  1238                        	.endblock	81
  1239             00000000   L36	equ	0
  1240             00000001   L37	equ	1
  1241 04:018C:              	ends
  1242                        	efunc
  1243                        	.endfunc	81,1,0
  1244                        	.line	81
  1245                        ;
  Mon Dec  7 2020 11:19                                                Page 25


  1246                        ;
  1247                        ;BOOL k_is_window_closed(LPVOID name,LPVOID data)
  1248                        ;{
  1249                        	.line	84
  1250                        	.line	85
  1251                        	WINMAN
  1252                        	xdef	~~k_is_window_closed
  1253                        	func
  1254                        	.function	85
  1255                        ~~k_is_window_closed:
  1256                        	longa	on
  1257                        	longi	on
  1258 04:018C: 3B           	tsc
  1259 04:018D: 38           	sec
  1260 04:018E: E9 00 00     	sbc	#L40
  1261 04:0191: 1B           	tcs
  1262 04:0192: 0B           	phd
  1263 04:0193: 5B           	tcd
  1264             00000004   name_0	set	4
  1265             00000008   data_0	set	8
  1266                        	.block	85
  1267                        ;	if(data)
  1268                        	.sym	name,4,129,6,32
  1269                        	.sym	data,8,129,6,32
  1270                        	.line	86
  1271                        ;	{
  1272 04:0194: A5 08        	lda	<L40+data_0
  1273 04:0196: 05 0A        	ora	<L40+data_0+2
  1274 04:0198: D0 03        	bne	L43
  1275 04:019A: 82 1A 00     	brl	L10006
  1276                        L43:
  1277                        	.line	87
  1278                        ;		return ((PWINDOW)data)->isClosed;
  1279                        	.line	88
  1280 04:019D: A0 61 01     	ldy	#$161
  1281 04:01A0: B7 08        	lda	[<L40+data_0],Y
  1282 04:01A2: 29 FF 00     	and	#$ff
  1283                        L44:
  1284 04:01A5: A8           	tay
  1285 04:01A6: A5 02        	lda	<L40+2
  1286 04:01A8: 85 0A        	sta	<L40+2+8
  1287 04:01AA: A5 01        	lda	<L40+1
  1288 04:01AC: 85 09        	sta	<L40+1+8
  1289 04:01AE: 2B           	pld
  1290 04:01AF: 3B           	tsc
  1291 04:01B0: 18           	clc
  1292 04:01B1: 69 08 00     	adc	#L40+8
  1293 04:01B4: 1B           	tcs
  1294 04:01B5: 98           	tya
  1295 04:01B6: 6B           	rtl
  1296                        ;	}
  1297                        	.line	89
  1298                        ;
  1299                        ;	return FALSE;
  1300                        L10006:
  1301                        	.line	91
  1302 04:01B7: A9 00 00     	lda	#$0
  1303 04:01BA: 82 E8 FF     	brl	L44
  Mon Dec  7 2020 11:19                                                Page 26


  1304                        ;}
  1305                        	.line	92
  1306                        	.endblock	92
  1307             00000000   L40	equ	0
  1308             00000001   L41	equ	1
  1309 04:01BD:              	ends
  1310                        	efunc
  1311                        	.endfunc	92,1,0
  1312                        	.line	92
  1313                        ;
  1314                        ;VOID k_clean_closed_windows(void)
  1315                        ;{
  1316                        	.line	94
  1317                        	.line	95
  1318                        	WINMAN
  1319                        	xdef	~~k_clean_closed_windows
  1320                        	func
  1321                        	.function	95
  1322                        ~~k_clean_closed_windows:
  1323                        	longa	on
  1324                        	longi	on
  1325 04:01BD: 3B           	tsc
  1326 04:01BE: 38           	sec
  1327 04:01BF: E9 08 00     	sbc	#L45
  1328 04:01C2: 1B           	tcs
  1329 04:01C3: 0B           	phd
  1330 04:01C4: 5B           	tcd
  1331                        	.block	95
  1332                        ;	k_debug_string("k_clean_closed_windows\r\n");
  1333                        	.line	96
  1334 04:01C5: F4 xx xx     	pea	#^L14
  1335 04:01C8: F4 xx xx     	pea	#<L14
  1336 04:01CB: 22 xx xx xx  	jsl	~~k_debug_string
  1337                        ;	if(_k_windowManager_WindowObjectList)
  1338                        	.line	97
  1339                        ;	{
  1340 04:01CF: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
  1341 04:01D2: 0D xx xx     	ora	|~~_k_windowManager_WindowObjectList+2
  1342 04:01D5: D0 03        	bne	L48
  1343 04:01D7: 82 3D 00     	brl	L10007
  1344                        L48:
  1345                        	.line	98
  1346                        ;		k_nodelist_foreach_listdata_remove(_k_wi
                    ndowManager_WindowObjectList,(LPVOID)NULL,k_is_window_closed
                    );
  1347                        	.line	99
  1348 04:01DA: F4 04 00     	pea	#^~~k_is_window_closed
  1349 04:01DD: F4 8C 01     	pea	#<~~k_is_window_closed
  1350 04:01E0: F4 00 00     	pea	#^$0
  1351 04:01E3: F4 00 00     	pea	#<$0
  1352 04:01E6: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
  1353 04:01E9: 48           	pha
  1354 04:01EA: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
  1355 04:01ED: 48           	pha
  1356 04:01EE: 22 xx xx xx  	jsl	~~k_nodelist_foreach_listdata_remove
  1357                        ;		k_debug_nodelist(_k_windowManager_Window
                    ObjectList->listhead->next);
  1358                        	.line	100
  Mon Dec  7 2020 11:19                                                Page 27


  1359 04:01F2: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
  1360 04:01F5: 85 01        	sta	<R0
  1361 04:01F7: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
  1362 04:01FA: 85 03        	sta	<R0+2
  1363 04:01FC: A7 01        	lda	[<R0]
  1364 04:01FE: 85 05        	sta	<R1
  1365 04:0200: A0 02 00     	ldy	#$2
  1366 04:0203: B7 01        	lda	[<R0],Y
  1367 04:0205: 85 07        	sta	<R1+2
  1368 04:0207: A0 0C 00     	ldy	#$c
  1369 04:020A: B7 05        	lda	[<R1],Y
  1370 04:020C: 48           	pha
  1371 04:020D: A0 0A 00     	ldy	#$a
  1372 04:0210: B7 05        	lda	[<R1],Y
  1373 04:0212: 48           	pha
  1374 04:0213: 22 xx xx xx  	jsl	~~k_debug_nodelist
  1375                        ;	}
  1376                        	.line	101
  1377                        ;}
  1378                        L10007:
  1379                        	.line	102
  1380                        L49:
  1381 04:0217: 2B           	pld
  1382 04:0218: 3B           	tsc
  1383 04:0219: 18           	clc
  1384 04:021A: 69 08 00     	adc	#L45
  1385 04:021D: 1B           	tcs
  1386 04:021E: 6B           	rtl
  1387                        	.endblock	102
  1388             00000008   L45	equ	8
  1389             00000009   L46	equ	9
  1390 04:021F:              	ends
  1391                        	efunc
  1392                        	.endfunc	102,9,8
  1393                        	.line	102
  1394                        	data
  1395                        L14:
  1396 00:0083: 6B 5F 63 6C  	db	$6B,$5F,$63,$6C,$65,$61,$6E,$5F,$63,$6C,
                    $6F,$73,$65,$64,$5F
       00:0087: 65 61 6E 5F 
       00:008B: 63 6C 6F 73 
       00:008F: 65 64 5F 
  1397 00:0092: 77 69 6E 64  	db	$77,$69,$6E,$64,$6F,$77,$73,$0D,$0A,$00
       00:0096: 6F 77 73 0D 
       00:009A: 0A 00 
  1398 00:009C:              	ends
  1399                        ;
  1400                        ;
  1401                        ;BOOL k_initializeWindowManager(void)
  1402                        ;{
  1403                        	.line	105
  1404                        	.line	106
  1405                        	WINMAN
  1406                        	xdef	~~k_initializeWindowManager
  1407                        	func
  1408                        	.function	106
  1409                        ~~k_initializeWindowManager:
  1410                        	longa	on
  Mon Dec  7 2020 11:19                                                Page 28


  1411                        	longi	on
  1412 04:021F: 3B           	tsc
  1413 04:0220: 38           	sec
  1414 04:0221: E9 00 00     	sbc	#L51
  1415 04:0224: 1B           	tcs
  1416 04:0225: 0B           	phd
  1417 04:0226: 5B           	tcd
  1418                        	.block	106
  1419                        ;	k_debug_string("k_initializeWindowManager\r\n");
  1420                        	.line	107
  1421 04:0227: F4 xx xx     	pea	#^L50
  1422 04:022A: F4 xx xx     	pea	#<L50
  1423 04:022D: 22 xx xx xx  	jsl	~~k_debug_string
  1424                        ;
  1425                        ;	_k_windowManager_WindowClassList 	= k_node
                    list_allocate_list("_window_class_list" ,k_deallocate_window
                    _class);
  1426                        	.line	109
  1427 04:0231: F4 04 00     	pea	#^~~k_deallocate_window_class
  1428 04:0234: F4 00 00     	pea	#<~~k_deallocate_window_class
  1429 04:0237: F4 xx xx     	pea	#^L50+28
  1430 04:023A: F4 xx xx     	pea	#<L50+28
  1431 04:023D: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
  1432 04:0241: 8D xx xx     	sta	|~~_k_windowManager_WindowClassList
  1433 04:0244: 8E xx xx     	stx	|~~_k_windowManager_WindowClassList+2
  1434                        ;	_k_windowManager_WindowObjectList   = k_nodelist
                    _allocate_list("_window_object_list",k_deallocate_window_obj
                    ect);
  1435                        	.line	110
  1436 04:0247: F4 04 00     	pea	#^~~k_deallocate_window_object
  1437 04:024A: F4 18 00     	pea	#<~~k_deallocate_window_object
  1438 04:024D: F4 xx xx     	pea	#^L50+47
  1439 04:0250: F4 xx xx     	pea	#<L50+47
  1440 04:0253: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
  1441 04:0257: 8D xx xx     	sta	|~~_k_windowManager_WindowObjectList
  1442 04:025A: 8E xx xx     	stx	|~~_k_windowManager_WindowObjectList+2
  1443                        ;	_k_windowManager_WindowRedrawList	= k_node
                    list_allocate_list("_window_redraw_list",NODELIST_NO_DEALLOC
                    );
  1444                        	.line	111
  1445 04:025D: F4 00 00     	pea	#^$0
  1446 04:0260: F4 00 00     	pea	#<$0
  1447 04:0263: F4 xx xx     	pea	#^L50+67
  1448 04:0266: F4 xx xx     	pea	#<L50+67
  1449 04:0269: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
  1450 04:026D: 8D xx xx     	sta	|~~_k_windowManager_WindowRedrawList
  1451 04:0270: 8E xx xx     	stx	|~~_k_windowManager_WindowRedrawList+2
  1452                        ;	_k_windowManager_WindowMenuList 	= k_node
                    list_allocate_list("_window_menu_list"  ,k_deallocate_menu_o
                    bject);
  1453                        	.line	112
  1454 04:0273: F4 04 00     	pea	#^~~k_deallocate_menu_object
  1455 04:0276: F4 E3 00     	pea	#<~~k_deallocate_menu_object
  1456 04:0279: F4 xx xx     	pea	#^L50+87
  1457 04:027C: F4 xx xx     	pea	#<L50+87
  1458 04:027F: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
  1459 04:0283: 8D xx xx     	sta	|~~_k_windowManager_WindowMenuList
  1460 04:0286: 8E xx xx     	stx	|~~_k_windowManager_WindowMenuList+2
  Mon Dec  7 2020 11:19                                                Page 29


  1461                        ;	_k_windowManager_IconList  		 	
                    = k_nodelist_allocate_list("_window_icon_list"  ,k_deallocat
                    e_icon_object);
  1462                        	.line	113
  1463 04:0289: F4 04 00     	pea	#^~~k_deallocate_icon_object
  1464 04:028C: F4 FB 00     	pea	#<~~k_deallocate_icon_object
  1465 04:028F: F4 xx xx     	pea	#^L50+105
  1466 04:0292: F4 xx xx     	pea	#<L50+105
  1467 04:0295: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
  1468 04:0299: 8D xx xx     	sta	|~~_k_windowManager_IconList
  1469 04:029C: 8E xx xx     	stx	|~~_k_windowManager_IconList+2
  1470                        ;	_k_windowManager_ObjectHitList		= k_node
                    list_allocate_list("_object_hit_list"  ,k_deallocate_hit_cla
                    ss);
  1471                        	.line	114
  1472 04:029F: F4 04 00     	pea	#^~~k_deallocate_hit_class
  1473 04:02A2: F4 13 01     	pea	#<~~k_deallocate_hit_class
  1474 04:02A5: F4 xx xx     	pea	#^L50+123
  1475 04:02A8: F4 xx xx     	pea	#<L50+123
  1476 04:02AB: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
  1477 04:02AF: 8D xx xx     	sta	|~~_k_windowManager_ObjectHitList
  1478 04:02B2: 8E xx xx     	stx	|~~_k_windowManager_ObjectHitList+2
  1479                        ;	_k_windowManager_FontList			
                    = k_nodelist_allocate_list("_available_font_list"  ,k_deallo
                    cate_font_object);
  1480                        	.line	115
  1481 04:02B5: F4 04 00     	pea	#^~~k_deallocate_font_object
  1482 04:02B8: F4 5C 01     	pea	#<~~k_deallocate_font_object
  1483 04:02BB: F4 xx xx     	pea	#^L50+140
  1484 04:02BE: F4 xx xx     	pea	#<L50+140
  1485 04:02C1: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
  1486 04:02C5: 8D xx xx     	sta	|~~_k_windowManager_FontList
  1487 04:02C8: 8E xx xx     	stx	|~~_k_windowManager_FontList+2
  1488                        ;	_k_windowManager_CursorList			
                    = k_nodelist_allocate_list("_available_cursor_list"  ,k_deal
                    locate_cursor_object);
  1489                        	.line	116
  1490 04:02CB: F4 04 00     	pea	#^~~k_deallocate_cursor_object
  1491 04:02CE: F4 74 01     	pea	#<~~k_deallocate_cursor_object
  1492 04:02D1: F4 xx xx     	pea	#^L50+161
  1493 04:02D4: F4 xx xx     	pea	#<L50+161
  1494 04:02D7: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
  1495 04:02DB: 8D xx xx     	sta	|~~_k_windowManager_CursorList
  1496 04:02DE: 8E xx xx     	stx	|~~_k_windowManager_CursorList+2
  1497                        ;
  1498                        ;	k_user_CreateWindowClass("gadgetWindowClass",NUL
                    L,0,NULL,NULL,NULL,gadgetWindowProc);
  1499                        	.line	118
  1500 04:02E1: F4 04 00     	pea	#^~~gadgetWindowProc
  1501 04:02E4: F4 6D 4B     	pea	#<~~gadgetWindowProc
  1502 04:02E7: F4 00 00     	pea	#^$0
  1503 04:02EA: F4 00 00     	pea	#<$0
  1504 04:02ED: F4 00 00     	pea	#^$0
  1505 04:02F0: F4 00 00     	pea	#<$0
  1506 04:02F3: F4 00 00     	pea	#^$0
  1507 04:02F6: F4 00 00     	pea	#<$0
  1508 04:02F9: F4 00 00     	pea	#<$0
  1509 04:02FC: F4 00 00     	pea	#^$0
  Mon Dec  7 2020 11:19                                                Page 30


  1510 04:02FF: F4 00 00     	pea	#<$0
  1511 04:0302: F4 xx xx     	pea	#^L50+184
  1512 04:0305: F4 xx xx     	pea	#<L50+184
  1513 04:0308: 22 05 12 04  	jsl	~~k_user_CreateWindowClass
  1514                        ;	k_user_CreateWindowClass("buttonWindowClass",NUL
                    L,0,NULL,NULL,NULL,buttonWindowProc);
  1515                        	.line	119
  1516 04:030C: F4 04 00     	pea	#^~~buttonWindowProc
  1517 04:030F: F4 5B 36     	pea	#<~~buttonWindowProc
  1518 04:0312: F4 00 00     	pea	#^$0
  1519 04:0315: F4 00 00     	pea	#<$0
  1520 04:0318: F4 00 00     	pea	#^$0
  1521 04:031B: F4 00 00     	pea	#<$0
  1522 04:031E: F4 00 00     	pea	#^$0
  1523 04:0321: F4 00 00     	pea	#<$0
  1524 04:0324: F4 00 00     	pea	#<$0
  1525 04:0327: F4 00 00     	pea	#^$0
  1526 04:032A: F4 00 00     	pea	#<$0
  1527 04:032D: F4 xx xx     	pea	#^L50+202
  1528 04:0330: F4 xx xx     	pea	#<L50+202
  1529 04:0333: 22 05 12 04  	jsl	~~k_user_CreateWindowClass
  1530                        ;	k_user_CreateWindowClass("menuWindowClass",NULL,
                    0,NULL,NULL,NULL,menuWindowProc);
  1531                        	.line	120
  1532 04:0337: F4 04 00     	pea	#^~~menuWindowProc
  1533 04:033A: F4 F9 22     	pea	#<~~menuWindowProc
  1534 04:033D: F4 00 00     	pea	#^$0
  1535 04:0340: F4 00 00     	pea	#<$0
  1536 04:0343: F4 00 00     	pea	#^$0
  1537 04:0346: F4 00 00     	pea	#<$0
  1538 04:0349: F4 00 00     	pea	#^$0
  1539 04:034C: F4 00 00     	pea	#<$0
  1540 04:034F: F4 00 00     	pea	#<$0
  1541 04:0352: F4 00 00     	pea	#^$0
  1542 04:0355: F4 00 00     	pea	#<$0
  1543 04:0358: F4 xx xx     	pea	#^L50+220
  1544 04:035B: F4 xx xx     	pea	#<L50+220
  1545 04:035E: 22 05 12 04  	jsl	~~k_user_CreateWindowClass
  1546                        ;	k_user_CreateWindowClass("menuAnchorWindowClass"
                    ,NULL,0,NULL,NULL,NULL,menuAnchorWindowProc);
  1547                        	.line	121
  1548 04:0362: F4 04 00     	pea	#^~~menuAnchorWindowProc
  1549 04:0365: F4 D1 29     	pea	#<~~menuAnchorWindowProc
  1550 04:0368: F4 00 00     	pea	#^$0
  1551 04:036B: F4 00 00     	pea	#<$0
  1552 04:036E: F4 00 00     	pea	#^$0
  1553 04:0371: F4 00 00     	pea	#<$0
  1554 04:0374: F4 00 00     	pea	#^$0
  1555 04:0377: F4 00 00     	pea	#<$0
  1556 04:037A: F4 00 00     	pea	#<$0
  1557 04:037D: F4 00 00     	pea	#^$0
  1558 04:0380: F4 00 00     	pea	#<$0
  1559 04:0383: F4 xx xx     	pea	#^L50+236
  1560 04:0386: F4 xx xx     	pea	#<L50+236
  1561 04:0389: 22 05 12 04  	jsl	~~k_user_CreateWindowClass
  1562                        ;	k_user_CreateWindowClass("menuDropDownWindowClas
                    s",NULL,0,NULL,NULL,NULL,menuDropDownWindowProc);
  1563                        	.line	122
  Mon Dec  7 2020 11:19                                                Page 31


  1564 04:038D: F4 04 00     	pea	#^~~menuDropDownWindowProc
  1565 04:0390: F4 20 31     	pea	#<~~menuDropDownWindowProc
  1566 04:0393: F4 00 00     	pea	#^$0
  1567 04:0396: F4 00 00     	pea	#<$0
  1568 04:0399: F4 00 00     	pea	#^$0
  1569 04:039C: F4 00 00     	pea	#<$0
  1570 04:039F: F4 00 00     	pea	#^$0
  1571 04:03A2: F4 00 00     	pea	#<$0
  1572 04:03A5: F4 00 00     	pea	#<$0
  1573 04:03A8: F4 00 00     	pea	#^$0
  1574 04:03AB: F4 00 00     	pea	#<$0
  1575 04:03AE: F4 xx xx     	pea	#^L50+258
  1576 04:03B1: F4 xx xx     	pea	#<L50+258
  1577 04:03B4: 22 05 12 04  	jsl	~~k_user_CreateWindowClass
  1578                        ;	k_user_CreateWindowClass("dialogWindowClass",NUL
                    L,0,NULL,NULL,NULL,DlgWindowProc);
  1579                        	.line	123
  1580 04:03B8: F4 04 00     	pea	#^~~DlgWindowProc
  1581 04:03BB: F4 32 60     	pea	#<~~DlgWindowProc
  1582 04:03BE: F4 00 00     	pea	#^$0
  1583 04:03C1: F4 00 00     	pea	#<$0
  1584 04:03C4: F4 00 00     	pea	#^$0
  1585 04:03C7: F4 00 00     	pea	#<$0
  1586 04:03CA: F4 00 00     	pea	#^$0
  1587 04:03CD: F4 00 00     	pea	#<$0
  1588 04:03D0: F4 00 00     	pea	#<$0
  1589 04:03D3: F4 00 00     	pea	#^$0
  1590 04:03D6: F4 00 00     	pea	#<$0
  1591 04:03D9: F4 xx xx     	pea	#^L50+282
  1592 04:03DC: F4 xx xx     	pea	#<L50+282
  1593 04:03DF: 22 05 12 04  	jsl	~~k_user_CreateWindowClass
  1594                        ;	k_user_CreateWindowClass("aboutDialogWindowClass
                    ",NULL,0,NULL,NULL,NULL,DlgAboutWindowProc);
  1595                        	.line	124
  1596 04:03E3: F4 04 00     	pea	#^~~DlgAboutWindowProc
  1597 04:03E6: F4 3F 61     	pea	#<~~DlgAboutWindowProc
  1598 04:03E9: F4 00 00     	pea	#^$0
  1599 04:03EC: F4 00 00     	pea	#<$0
  1600 04:03EF: F4 00 00     	pea	#^$0
  1601 04:03F2: F4 00 00     	pea	#<$0
  1602 04:03F5: F4 00 00     	pea	#^$0
  1603 04:03F8: F4 00 00     	pea	#<$0
  1604 04:03FB: F4 00 00     	pea	#<$0
  1605 04:03FE: F4 00 00     	pea	#^$0
  1606 04:0401: F4 00 00     	pea	#<$0
  1607 04:0404: F4 xx xx     	pea	#^L50+300
  1608 04:0407: F4 xx xx     	pea	#<L50+300
  1609 04:040A: 22 05 12 04  	jsl	~~k_user_CreateWindowClass
  1610                        ;	k_user_CreateWindowClass("hscrollWindowClass",NU
                    LL,0,NULL,NULL,NULL,hscrollbarWindowProc);
  1611                        	.line	125
  1612 04:040E: F4 xx xx     	pea	#^~~hscrollbarWindowProc
  1613 04:0411: F4 xx xx     	pea	#<~~hscrollbarWindowProc
  1614 04:0414: F4 00 00     	pea	#^$0
  1615 04:0417: F4 00 00     	pea	#<$0
  1616 04:041A: F4 00 00     	pea	#^$0
  1617 04:041D: F4 00 00     	pea	#<$0
  1618 04:0420: F4 00 00     	pea	#^$0
  Mon Dec  7 2020 11:19                                                Page 32


  1619 04:0423: F4 00 00     	pea	#<$0
  1620 04:0426: F4 00 00     	pea	#<$0
  1621 04:0429: F4 00 00     	pea	#^$0
  1622 04:042C: F4 00 00     	pea	#<$0
  1623 04:042F: F4 xx xx     	pea	#^L50+323
  1624 04:0432: F4 xx xx     	pea	#<L50+323
  1625 04:0435: 22 05 12 04  	jsl	~~k_user_CreateWindowClass
  1626                        ;	k_user_CreateWindowClass("vscrollWindowClass",NU
                    LL,0,NULL,NULL,NULL,vscrollbarWindowProc);
  1627                        	.line	126
  1628 04:0439: F4 xx xx     	pea	#^~~vscrollbarWindowProc
  1629 04:043C: F4 xx xx     	pea	#<~~vscrollbarWindowProc
  1630 04:043F: F4 00 00     	pea	#^$0
  1631 04:0442: F4 00 00     	pea	#<$0
  1632 04:0445: F4 00 00     	pea	#^$0
  1633 04:0448: F4 00 00     	pea	#<$0
  1634 04:044B: F4 00 00     	pea	#^$0
  1635 04:044E: F4 00 00     	pea	#<$0
  1636 04:0451: F4 00 00     	pea	#<$0
  1637 04:0454: F4 00 00     	pea	#^$0
  1638 04:0457: F4 00 00     	pea	#<$0
  1639 04:045A: F4 xx xx     	pea	#^L50+342
  1640 04:045D: F4 xx xx     	pea	#<L50+342
  1641 04:0460: 22 05 12 04  	jsl	~~k_user_CreateWindowClass
  1642                        ;
  1643                        ;	k_user_RegisterFontClass("ATI6x8",Bm437ATI6x8);
  1644                        	.line	128
  1645 04:0464: F4 xx xx     	pea	#^~~Bm437ATI6x8
  1646 04:0467: F4 xx xx     	pea	#<~~Bm437ATI6x8
  1647 04:046A: F4 xx xx     	pea	#^L50+361
  1648 04:046D: F4 xx xx     	pea	#<L50+361
  1649 04:0470: 22 9C 10 04  	jsl	~~k_user_RegisterFontClass
  1650                        ;	k_user_RegisterFontClass("ATI8x16",Bm437ATI8x16)
                    ;
  1651                        	.line	129
  1652 04:0474: F4 xx xx     	pea	#^~~Bm437ATI8x16
  1653 04:0477: F4 xx xx     	pea	#<~~Bm437ATI8x16
  1654 04:047A: F4 xx xx     	pea	#^L50+368
  1655 04:047D: F4 xx xx     	pea	#<L50+368
  1656 04:0480: 22 9C 10 04  	jsl	~~k_user_RegisterFontClass
  1657                        ;	k_user_RegisterFontClass("ToshibaLCD8x8",Bm437To
                    shibaLCD8x8);
  1658                        	.line	130
  1659 04:0484: F4 xx xx     	pea	#^~~Bm437ToshibaLCD8x8
  1660 04:0487: F4 xx xx     	pea	#<~~Bm437ToshibaLCD8x8
  1661 04:048A: F4 xx xx     	pea	#^L50+376
  1662 04:048D: F4 xx xx     	pea	#<L50+376
  1663 04:0490: 22 9C 10 04  	jsl	~~k_user_RegisterFontClass
  1664                        ;	k_user_RegisterFontClass("TINYTYPE8x8",BM437TINY
                    TYPE8x8);
  1665                        	.line	131
  1666 04:0494: F4 xx xx     	pea	#^~~BM437TINYTYPE8x8
  1667 04:0497: F4 xx xx     	pea	#<~~BM437TINYTYPE8x8
  1668 04:049A: F4 xx xx     	pea	#^L50+390
  1669 04:049D: F4 xx xx     	pea	#<L50+390
  1670 04:04A0: 22 9C 10 04  	jsl	~~k_user_RegisterFontClass
  1671                        ;	k_user_RegisterFontClass("FANTASY8x8",BM437FANTA
                    SY);
  Mon Dec  7 2020 11:19                                                Page 33


  1672                        	.line	132
  1673 04:04A4: F4 xx xx     	pea	#^~~BM437FANTASY
  1674 04:04A7: F4 xx xx     	pea	#<~~BM437FANTASY
  1675 04:04AA: F4 xx xx     	pea	#^L50+402
  1676 04:04AD: F4 xx xx     	pea	#<L50+402
  1677 04:04B0: 22 9C 10 04  	jsl	~~k_user_RegisterFontClass
  1678                        ;	k_user_RegisterFontClass("AMIGO8x8",BM437AMIGO8x
                    8);
  1679                        	.line	133
  1680 04:04B4: F4 xx xx     	pea	#^~~BM437AMIGO8x8
  1681 04:04B7: F4 xx xx     	pea	#<~~BM437AMIGO8x8
  1682 04:04BA: F4 xx xx     	pea	#^L50+413
  1683 04:04BD: F4 xx xx     	pea	#<L50+413
  1684 04:04C0: 22 9C 10 04  	jsl	~~k_user_RegisterFontClass
  1685                        ;	k_user_RegisterFontClass("Italics8x8",BM4378X8IT
                    AL);
  1686                        	.line	134
  1687 04:04C4: F4 xx xx     	pea	#^~~BM4378X8ITAL
  1688 04:04C7: F4 xx xx     	pea	#<~~BM4378X8ITAL
  1689 04:04CA: F4 xx xx     	pea	#^L50+422
  1690 04:04CD: F4 xx xx     	pea	#<L50+422
  1691 04:04D0: 22 9C 10 04  	jsl	~~k_user_RegisterFontClass
  1692                        ;	k_user_RegisterFontClass("FXOS8x8",BM437FXOS8x8)
                    ;
  1693                        	.line	135
  1694 04:04D4: F4 xx xx     	pea	#^~~BM437FXOS8x8
  1695 04:04D7: F4 xx xx     	pea	#<~~BM437FXOS8x8
  1696 04:04DA: F4 xx xx     	pea	#^L50+433
  1697 04:04DD: F4 xx xx     	pea	#<L50+433
  1698 04:04E0: 22 9C 10 04  	jsl	~~k_user_RegisterFontClass
  1699                        ;
  1700                        ;	k_user_RegisterMousePointerClass("ARROW",MOUSE_P
                    OINTER_ARROW);
  1701                        	.line	137
  1702 04:04E4: F4 xx xx     	pea	#^~~MOUSE_POINTER_ARROW
  1703 04:04E7: F4 xx xx     	pea	#<~~MOUSE_POINTER_ARROW
  1704 04:04EA: F4 xx xx     	pea	#^L50+441
  1705 04:04ED: F4 xx xx     	pea	#<L50+441
  1706 04:04F0: 22 59 10 04  	jsl	~~k_user_RegisterMousePointerClass
  1707                        ;	k_user_RegisterMousePointerClass("HOURGLASS",MOU
                    SE_POINTER_HOURGLASS);
  1708                        	.line	138
  1709 04:04F4: F4 xx xx     	pea	#^~~MOUSE_POINTER_HOURGLASS
  1710 04:04F7: F4 xx xx     	pea	#<~~MOUSE_POINTER_HOURGLASS
  1711 04:04FA: F4 xx xx     	pea	#^L50+447
  1712 04:04FD: F4 xx xx     	pea	#<L50+447
  1713 04:0500: 22 59 10 04  	jsl	~~k_user_RegisterMousePointerClass
  1714                        ;	k_user_RegisterMousePointerClass("HELP",MOUSE_PO
                    INTER_HELP);
  1715                        	.line	139
  1716 04:0504: F4 xx xx     	pea	#^~~MOUSE_POINTER_HELP
  1717 04:0507: F4 xx xx     	pea	#<~~MOUSE_POINTER_HELP
  1718 04:050A: F4 xx xx     	pea	#^L50+457
  1719 04:050D: F4 xx xx     	pea	#<L50+457
  1720 04:0510: 22 59 10 04  	jsl	~~k_user_RegisterMousePointerClass
  1721                        ;	k_user_RegisterMousePointerClass("RESIZE",MOUSE_
                    POINTER_RESIZE);
  1722                        	.line	140
  Mon Dec  7 2020 11:19                                                Page 34


  1723 04:0514: F4 xx xx     	pea	#^~~MOUSE_POINTER_RESIZE
  1724 04:0517: F4 xx xx     	pea	#<~~MOUSE_POINTER_RESIZE
  1725 04:051A: F4 xx xx     	pea	#^L50+462
  1726 04:051D: F4 xx xx     	pea	#<L50+462
  1727 04:0520: 22 59 10 04  	jsl	~~k_user_RegisterMousePointerClass
  1728                        ;
  1729                        ;	return TRUE;
  1730                        	.line	142
  1731 04:0524: A9 01 00     	lda	#$1
  1732                        L54:
  1733 04:0527: A8           	tay
  1734 04:0528: 2B           	pld
  1735 04:0529: 3B           	tsc
  1736 04:052A: 18           	clc
  1737 04:052B: 69 00 00     	adc	#L51
  1738 04:052E: 1B           	tcs
  1739 04:052F: 98           	tya
  1740 04:0530: 6B           	rtl
  1741                        ;}
  1742                        	.line	143
  1743                        	.endblock	143
  1744             00000000   L51	equ	0
  1745             00000001   L52	equ	1
  1746 04:0531:              	ends
  1747                        	efunc
  1748                        	.endfunc	143,1,0
  1749                        	.line	143
  1750                        	data
  1751                        L50:
  1752 00:009C: 6B 5F 69 6E  	db	$6B,$5F,$69,$6E,$69,$74,$69,$61,$6C,$69,
                    $7A,$65,$57,$69,$6E
       00:00A0: 69 74 69 61 
       00:00A4: 6C 69 7A 65 
       00:00A8: 57 69 6E 
  1753 00:00AB: 64 6F 77 4D  	db	$64,$6F,$77,$4D,$61,$6E,$61,$67,$65,$72,
                    $0D,$0A,$00,$5F,$77
       00:00AF: 61 6E 61 67 
       00:00B3: 65 72 0D 0A 
       00:00B7: 00 5F 77 
  1754 00:00BA: 69 6E 64 6F  	db	$69,$6E,$64,$6F,$77,$5F,$63,$6C,$61,$73,
                    $73,$5F,$6C,$69,$73
       00:00BE: 77 5F 63 6C 
       00:00C2: 61 73 73 5F 
       00:00C6: 6C 69 73 
  1755 00:00C9: 74 00 5F 77  	db	$74,$00,$5F,$77,$69,$6E,$64,$6F,$77,$5F,
                    $6F,$62,$6A,$65,$63
       00:00CD: 69 6E 64 6F 
       00:00D1: 77 5F 6F 62 
       00:00D5: 6A 65 63 
  1756 00:00D8: 74 5F 6C 69  	db	$74,$5F,$6C,$69,$73,$74,$00,$5F,$77,$69,
                    $6E,$64,$6F,$77,$5F
       00:00DC: 73 74 00 5F 
       00:00E0: 77 69 6E 64 
       00:00E4: 6F 77 5F 
  1757 00:00E7: 72 65 64 72  	db	$72,$65,$64,$72,$61,$77,$5F,$6C,$69,$73,
                    $74,$00,$5F,$77,$69
       00:00EB: 61 77 5F 6C 
       00:00EF: 69 73 74 00 
  Mon Dec  7 2020 11:19                                                Page 35


       00:00F3: 5F 77 69 
  1758 00:00F6: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$5F,$6D,$65,$6E,$75,$5F,
                    $6C,$69,$73,$74,$00
       00:00FA: 5F 6D 65 6E 
       00:00FE: 75 5F 6C 69 
       00:0102: 73 74 00 
  1759 00:0105: 5F 77 69 6E  	db	$5F,$77,$69,$6E,$64,$6F,$77,$5F,$69,$63,
                    $6F,$6E,$5F,$6C,$69
       00:0109: 64 6F 77 5F 
       00:010D: 69 63 6F 6E 
       00:0111: 5F 6C 69 
  1760 00:0114: 73 74 00 5F  	db	$73,$74,$00,$5F,$6F,$62,$6A,$65,$63,$74,
                    $5F,$68,$69,$74,$5F
       00:0118: 6F 62 6A 65 
       00:011C: 63 74 5F 68 
       00:0120: 69 74 5F 
  1761 00:0123: 6C 69 73 74  	db	$6C,$69,$73,$74,$00,$5F,$61,$76,$61,$69,
                    $6C,$61,$62,$6C,$65
       00:0127: 00 5F 61 76 
       00:012B: 61 69 6C 61 
       00:012F: 62 6C 65 
  1762 00:0132: 5F 66 6F 6E  	db	$5F,$66,$6F,$6E,$74,$5F,$6C,$69,$73,$74,
                    $00,$5F,$61,$76,$61
       00:0136: 74 5F 6C 69 
       00:013A: 73 74 00 5F 
       00:013E: 61 76 61 
  1763 00:0141: 69 6C 61 62  	db	$69,$6C,$61,$62,$6C,$65,$5F,$63,$75,$72,
                    $73,$6F,$72,$5F,$6C
       00:0145: 6C 65 5F 63 
       00:0149: 75 72 73 6F 
       00:014D: 72 5F 6C 
  1764 00:0150: 69 73 74 00  	db	$69,$73,$74,$00,$67,$61,$64,$67,$65,$74,
                    $57,$69,$6E,$64,$6F
       00:0154: 67 61 64 67 
       00:0158: 65 74 57 69 
       00:015C: 6E 64 6F 
  1765 00:015F: 77 43 6C 61  	db	$77,$43,$6C,$61,$73,$73,$00,$62,$75,$74,
                    $74,$6F,$6E,$57,$69
       00:0163: 73 73 00 62 
       00:0167: 75 74 74 6F 
       00:016B: 6E 57 69 
  1766 00:016E: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$43,$6C,$61,$73,$73,$00,
                    $6D,$65,$6E,$75,$57
       00:0172: 43 6C 61 73 
       00:0176: 73 00 6D 65 
       00:017A: 6E 75 57 
  1767 00:017D: 69 6E 64 6F  	db	$69,$6E,$64,$6F,$77,$43,$6C,$61,$73,$73,
                    $00,$6D,$65,$6E,$75
       00:0181: 77 43 6C 61 
       00:0185: 73 73 00 6D 
       00:0189: 65 6E 75 
  1768 00:018C: 41 6E 63 68  	db	$41,$6E,$63,$68,$6F,$72,$57,$69,$6E,$64,
                    $6F,$77,$43,$6C,$61
       00:0190: 6F 72 57 69 
       00:0194: 6E 64 6F 77 
       00:0198: 43 6C 61 
  1769 00:019B: 73 73 00 6D  	db	$73,$73,$00,$6D,$65,$6E,$75,$44,$72,$6F,
                    $70,$44,$6F,$77,$6E
  Mon Dec  7 2020 11:19                                                Page 36


       00:019F: 65 6E 75 44 
       00:01A3: 72 6F 70 44 
       00:01A7: 6F 77 6E 
  1770 00:01AA: 57 69 6E 64  	db	$57,$69,$6E,$64,$6F,$77,$43,$6C,$61,$73,
                    $73,$00,$64,$69,$61
       00:01AE: 6F 77 43 6C 
       00:01B2: 61 73 73 00 
       00:01B6: 64 69 61 
  1771 00:01B9: 6C 6F 67 57  	db	$6C,$6F,$67,$57,$69,$6E,$64,$6F,$77,$43,
                    $6C,$61,$73,$73,$00
       00:01BD: 69 6E 64 6F 
       00:01C1: 77 43 6C 61 
       00:01C5: 73 73 00 
  1772 00:01C8: 61 62 6F 75  	db	$61,$62,$6F,$75,$74,$44,$69,$61,$6C,$6F,
                    $67,$57,$69,$6E,$64
       00:01CC: 74 44 69 61 
       00:01D0: 6C 6F 67 57 
       00:01D4: 69 6E 64 
  1773 00:01D7: 6F 77 43 6C  	db	$6F,$77,$43,$6C,$61,$73,$73,$00,$68,$73,
                    $63,$72,$6F,$6C,$6C
       00:01DB: 61 73 73 00 
       00:01DF: 68 73 63 72 
       00:01E3: 6F 6C 6C 
  1774 00:01E6: 57 69 6E 64  	db	$57,$69,$6E,$64,$6F,$77,$43,$6C,$61,$73,
                    $73,$00,$76,$73,$63
       00:01EA: 6F 77 43 6C 
       00:01EE: 61 73 73 00 
       00:01F2: 76 73 63 
  1775 00:01F5: 72 6F 6C 6C  	db	$72,$6F,$6C,$6C,$57,$69,$6E,$64,$6F,$77,
                    $43,$6C,$61,$73,$73
       00:01F9: 57 69 6E 64 
       00:01FD: 6F 77 43 6C 
       00:0201: 61 73 73 
  1776 00:0204: 00 41 54 49  	db	$00,$41,$54,$49,$36,$78,$38,$00,$41,$54,
                    $49,$38,$78,$31,$36
       00:0208: 36 78 38 00 
       00:020C: 41 54 49 38 
       00:0210: 78 31 36 
  1777 00:0213: 00 54 6F 73  	db	$00,$54,$6F,$73,$68,$69,$62,$61,$4C,$43,
                    $44,$38,$78,$38,$00
       00:0217: 68 69 62 61 
       00:021B: 4C 43 44 38 
       00:021F: 78 38 00 
  1778 00:0222: 54 49 4E 59  	db	$54,$49,$4E,$59,$54,$59,$50,$45,$38,$78,
                    $38,$00,$46,$41,$4E
       00:0226: 54 59 50 45 
       00:022A: 38 78 38 00 
       00:022E: 46 41 4E 
  1779 00:0231: 54 41 53 59  	db	$54,$41,$53,$59,$38,$78,$38,$00,$41,$4D,
                    $49,$47,$4F,$38,$78
       00:0235: 38 78 38 00 
       00:0239: 41 4D 49 47 
       00:023D: 4F 38 78 
  1780 00:0240: 38 00 49 74  	db	$38,$00,$49,$74,$61,$6C,$69,$63,$73,$38,
                    $78,$38,$00,$46,$58
       00:0244: 61 6C 69 63 
       00:0248: 73 38 78 38 
       00:024C: 00 46 58 
  Mon Dec  7 2020 11:19                                                Page 37


  1781 00:024F: 4F 53 38 78  	db	$4F,$53,$38,$78,$38,$00,$41,$52,$52,$4F,
                    $57,$00,$48,$4F,$55
       00:0253: 38 00 41 52 
       00:0257: 52 4F 57 00 
       00:025B: 48 4F 55 
  1782 00:025E: 52 47 4C 41  	db	$52,$47,$4C,$41,$53,$53,$00,$48,$45,$4C,
                    $50,$00,$52,$45,$53
       00:0262: 53 53 00 48 
       00:0266: 45 4C 50 00 
       00:026A: 52 45 53 
  1783 00:026D: 49 5A 45 00  	db	$49,$5A,$45,$00
  1784 00:0271:              	ends
  1785                        ;
  1786                        ;BOOL k_update_focus_history(HWND hWnd)
  1787                        ;{
  1788                        	.line	145
  1789                        	.line	146
  1790                        	WINMAN
  1791                        	xdef	~~k_update_focus_history
  1792                        	func
  1793                        	.function	146
  1794                        ~~k_update_focus_history:
  1795                        	longa	on
  1796                        	longi	on
  1797 04:0531: 3B           	tsc
  1798 04:0532: 38           	sec
  1799 04:0533: E9 01 00     	sbc	#L56
  1800 04:0536: 1B           	tcs
  1801 04:0537: 0B           	phd
  1802 04:0538: 5B           	tcd
  1803             00000004   hWnd_0	set	4
  1804                        	.block	146
  1805                        ;	BOOL bRet = TRUE;
  1806                        ;
  1807                        ;
  1808                        ;	//_k_windowManager_WindowRedrawList
  1809                        ;
  1810                        ;	return bRet;
  1811             00000000   bRet_1	set	0
  1812                        	.sym	bRet,0,14,1,8
  1813                        	.sym	hWnd,4,129,6,32
  1814 04:0539: E2 20        	sep	#$20
  1815                        	longa	off
  1816 04:053B: A9 01        	lda	#$1
  1817 04:053D: 85 01        	sta	<L57+bRet_1
  1818 04:053F: C2 20        	rep	#$20
  1819                        	longa	on
  1820                        	.line	152
  1821 04:0541: A5 01        	lda	<L57+bRet_1
  1822 04:0543: 29 FF 00     	and	#$ff
  1823                        L59:
  1824 04:0546: A8           	tay
  1825 04:0547: A5 03        	lda	<L56+2
  1826 04:0549: 85 07        	sta	<L56+2+4
  1827 04:054B: A5 02        	lda	<L56+1
  1828 04:054D: 85 06        	sta	<L56+1+4
  1829 04:054F: 2B           	pld
  1830 04:0550: 3B           	tsc
  Mon Dec  7 2020 11:19                                                Page 38


  1831 04:0551: 18           	clc
  1832 04:0552: 69 05 00     	adc	#L56+4
  1833 04:0555: 1B           	tcs
  1834 04:0556: 98           	tya
  1835 04:0557: 6B           	rtl
  1836                        ;}
  1837                        	.line	153
  1838                        	.endblock	153
  1839             00000001   L56	equ	1
  1840             00000001   L57	equ	1
  1841 04:0558:              	ends
  1842                        	efunc
  1843                        	.endfunc	153,1,1
  1844                        	.line	153
  1845                        ;
  1846                        ;BOOL find_window_caption(LPVOID ctx,LPVOID data)
  1847                        ;{
  1848                        	.line	155
  1849                        	.line	156
  1850                        	WINMAN
  1851                        	xdef	~~find_window_caption
  1852                        	func
  1853                        	.function	156
  1854                        ~~find_window_caption:
  1855                        	longa	on
  1856                        	longi	on
  1857 04:0558: 3B           	tsc
  1858 04:0559: 38           	sec
  1859 04:055A: E9 05 00     	sbc	#L60
  1860 04:055D: 1B           	tcs
  1861 04:055E: 0B           	phd
  1862 04:055F: 5B           	tcd
  1863             00000004   ctx_0	set	4
  1864             00000008   data_0	set	8
  1865                        	.block	156
  1866                        ;	BOOL bRet = FALSE;
  1867                        ;
  1868                        ;	if(ctx && data)
  1869             00000000   bRet_1	set	0
  1870                        	.sym	bRet,0,14,1,8
  1871                        	.sym	ctx,4,129,6,32
  1872                        	.sym	data,8,129,6,32
  1873 04:0560: E2 20        	sep	#$20
  1874                        	longa	off
  1875 04:0562: 64 05        	stz	<L61+bRet_1
  1876 04:0564: C2 20        	rep	#$20
  1877                        	longa	on
  1878                        	.line	159
  1879                        ;	{
  1880 04:0566: A5 09        	lda	<L60+ctx_0
  1881 04:0568: 05 0B        	ora	<L60+ctx_0+2
  1882 04:056A: D0 03        	bne	L63
  1883 04:056C: 82 32 00     	brl	L10008
  1884                        L63:
  1885 04:056F: A5 0D        	lda	<L60+data_0
  1886 04:0571: 05 0F        	ora	<L60+data_0+2
  1887 04:0573: D0 03        	bne	L64
  1888 04:0575: 82 29 00     	brl	L10008
  Mon Dec  7 2020 11:19                                                Page 39


  1889                        L64:
  1890                        	.line	160
  1891                        ;		/*
  1892                        ;		k_debug_string("find_window_caption:foun
                    d  :[");
  1893                        ;		k_debug_string(((PWINDOW)data)->win_titl
                    e);
  1894                        ;		k_debug_string("]\r\n");
  1895                        ;
  1896                        ;		k_debug_string("find_window_caption:comp
                    are:[");
  1897                        ;		k_debug_string((LPCHAR)ctx);
  1898                        ;		k_debug_string("]\r\n");
  1899                        ;		*/
  1900                        ;		// cannot return the result of the compa
                    re, compiler gets confused
  1901                        ;        // return (strcmp((LPCHAR)ctx,((PWINDOW)d
                    ata)->win_title) == 0);
  1902                        ;		if(strcmp((LPCHAR)ctx,((PWINDOW)data)->w
                    in_title) == 0)
  1903                        	.line	172
  1904                        ;			bRet = TRUE;
  1905 04:0578: 18           	clc
  1906 04:0579: A9 D4 00     	lda	#$d4
  1907 04:057C: 65 0D        	adc	<L60+data_0
  1908 04:057E: 85 01        	sta	<R0
  1909 04:0580: A9 00 00     	lda	#$0
  1910 04:0583: 65 0F        	adc	<L60+data_0+2
  1911 04:0585: 85 03        	sta	<R0+2
  1912 04:0587: D4 03        	pei	<R0+2
  1913 04:0589: D4 01        	pei	<R0
  1914 04:058B: D4 0B        	pei	<L60+ctx_0+2
  1915 04:058D: D4 09        	pei	<L60+ctx_0
  1916 04:058F: 22 xx xx xx  	jsl	~~strcmp
  1917 04:0593: AA           	tax
  1918 04:0594: F0 03        	beq	L65
  1919 04:0596: 82 08 00     	brl	L10009
  1920                        L65:
  1921                        	.line	173
  1922 04:0599: E2 20        	sep	#$20
  1923                        	longa	off
  1924 04:059B: A9 01        	lda	#$1
  1925 04:059D: 85 05        	sta	<L61+bRet_1
  1926 04:059F: C2 20        	rep	#$20
  1927                        	longa	on
  1928                        ;
  1929                        ;		//k_debug_integer("COMPARE:",bRet );
  1930                        ;	}
  1931                        L10009:
  1932                        	.line	176
  1933                        ;
  1934                        ;	return bRet;
  1935                        L10008:
  1936                        	.line	178
  1937 04:05A1: A5 05        	lda	<L61+bRet_1
  1938 04:05A3: 29 FF 00     	and	#$ff
  1939                        L66:
  1940 04:05A6: A8           	tay
  Mon Dec  7 2020 11:19                                                Page 40


  1941 04:05A7: A5 07        	lda	<L60+2
  1942 04:05A9: 85 0F        	sta	<L60+2+8
  1943 04:05AB: A5 06        	lda	<L60+1
  1944 04:05AD: 85 0E        	sta	<L60+1+8
  1945 04:05AF: 2B           	pld
  1946 04:05B0: 3B           	tsc
  1947 04:05B1: 18           	clc
  1948 04:05B2: 69 0D 00     	adc	#L60+8
  1949 04:05B5: 1B           	tcs
  1950 04:05B6: 98           	tya
  1951 04:05B7: 6B           	rtl
  1952                        ;}
  1953                        	.line	179
  1954                        	.endblock	179
  1955             00000005   L60	equ	5
  1956             00000005   L61	equ	5
  1957 04:05B8:              	ends
  1958                        	efunc
  1959                        	.endfunc	179,5,5
  1960                        	.line	179
  1961                        ;
  1962                        ;HWND k_user_findWindow(LPCSTR winTitle)
  1963                        ;{
  1964                        	.line	181
  1965                        	.line	182
  1966                        	WINMAN
  1967                        	xdef	~~k_user_findWindow
  1968                        	func
  1969                        	.function	182
  1970                        ~~k_user_findWindow:
  1971                        	longa	on
  1972                        	longi	on
  1973 04:05B8: 3B           	tsc
  1974 04:05B9: 38           	sec
  1975 04:05BA: E9 08 00     	sbc	#L67
  1976 04:05BD: 1B           	tcs
  1977 04:05BE: 0B           	phd
  1978 04:05BF: 5B           	tcd
  1979             00000004   winTitle_0	set	4
  1980                        	.block	182
  1981                        ;	PFXNODE node = NULL;
  1982                        ;	HWND hWnd = NULL;
  1983                        ;
  1984                        ;	node = k_nodelist_foreach_until_listdata(_k_wind
                    owManager_WindowObjectList,(LPVOID)winTitle,find_window_capt
                    ion);
  1985             00000000   node_1	set	0
  1986             00000004   hWnd_1	set	4
  1987                        	.sym	node,0,138,1,32,2
  1988                        	.sym	hWnd,4,129,1,32
  1989                        	.sym	winTitle,4,142,6,32
  1990 04:05C0: 64 01        	stz	<L68+node_1
  1991 04:05C2: 64 03        	stz	<L68+node_1+2
  1992 04:05C4: 64 05        	stz	<L68+hWnd_1
  1993 04:05C6: 64 07        	stz	<L68+hWnd_1+2
  1994                        	.line	186
  1995 04:05C8: F4 04 00     	pea	#^~~find_window_caption
  1996 04:05CB: F4 58 05     	pea	#<~~find_window_caption
  Mon Dec  7 2020 11:19                                                Page 41


  1997 04:05CE: D4 0E        	pei	<L67+winTitle_0+2
  1998 04:05D0: D4 0C        	pei	<L67+winTitle_0
  1999 04:05D2: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
  2000 04:05D5: 48           	pha
  2001 04:05D6: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
  2002 04:05D9: 48           	pha
  2003 04:05DA: 22 xx xx xx  	jsl	~~k_nodelist_foreach_until_listdata
  2004 04:05DE: 85 01        	sta	<L68+node_1
  2005 04:05E0: 86 03        	stx	<L68+node_1+2
  2006                        ;	if(node)
  2007                        	.line	187
  2008                        ;	{
  2009 04:05E2: A5 01        	lda	<L68+node_1
  2010 04:05E4: 05 03        	ora	<L68+node_1+2
  2011 04:05E6: D0 03        	bne	L70
  2012 04:05E8: 82 14 00     	brl	L10010
  2013                        L70:
  2014                        	.line	188
  2015                        ;		hWnd = k_getHandleFromWindow((PWINDOW)no
                    de->data);
  2016                        	.line	189
  2017 04:05EB: A0 04 00     	ldy	#$4
  2018 04:05EE: B7 01        	lda	[<L68+node_1],Y
  2019 04:05F0: 48           	pha
  2020 04:05F1: A0 02 00     	ldy	#$2
  2021 04:05F4: B7 01        	lda	[<L68+node_1],Y
  2022 04:05F6: 48           	pha
  2023 04:05F7: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
  2024 04:05FB: 85 05        	sta	<L68+hWnd_1
  2025 04:05FD: 86 07        	stx	<L68+hWnd_1+2
  2026                        ;	}
  2027                        	.line	190
  2028                        ;	return hWnd;
  2029                        L10010:
  2030                        	.line	191
  2031 04:05FF: A6 07        	ldx	<L68+hWnd_1+2
  2032 04:0601: A5 05        	lda	<L68+hWnd_1
  2033                        L71:
  2034 04:0603: A8           	tay
  2035 04:0604: A5 0A        	lda	<L67+2
  2036 04:0606: 85 0E        	sta	<L67+2+4
  2037 04:0608: A5 09        	lda	<L67+1
  2038 04:060A: 85 0D        	sta	<L67+1+4
  2039 04:060C: 2B           	pld
  2040 04:060D: 3B           	tsc
  2041 04:060E: 18           	clc
  2042 04:060F: 69 0C 00     	adc	#L67+4
  2043 04:0612: 1B           	tcs
  2044 04:0613: 98           	tya
  2045 04:0614: 6B           	rtl
  2046                        ;
  2047                        ;}
  2048                        	.line	193
  2049                        	.endblock	193
  2050             00000008   L67	equ	8
  2051             00000001   L68	equ	1
  2052 04:0615:              	ends
  2053                        	efunc
  Mon Dec  7 2020 11:19                                                Page 42


  2054                        	.endfunc	193,1,8
  2055                        	.line	193
  2056                        ;
  2057                        ;HWND k_user_getDesktopWindow(void)
  2058                        ;{
  2059                        	.line	195
  2060                        	.line	196
  2061                        	WINMAN
  2062                        	xdef	~~k_user_getDesktopWindow
  2063                        	func
  2064                        	.function	196
  2065                        ~~k_user_getDesktopWindow:
  2066                        	longa	on
  2067                        	longi	on
  2068 04:0615: 3B           	tsc
  2069 04:0616: 38           	sec
  2070 04:0617: E9 04 00     	sbc	#L72
  2071 04:061A: 1B           	tcs
  2072 04:061B: 0B           	phd
  2073 04:061C: 5B           	tcd
  2074                        	.block	196
  2075                        ;	return k_user_findWindow("DesktopWindow");
  2076                        	.line	197
  2077 04:061D: F4 xx xx     	pea	#^L55
  2078 04:0620: F4 xx xx     	pea	#<L55
  2079 04:0623: 22 B8 05 04  	jsl	~~k_user_findWindow
  2080 04:0627: 85 01        	sta	<R0
  2081 04:0629: 86 03        	stx	<R0+2
  2082 04:062B: A6 03        	ldx	<R0+2
  2083 04:062D: A5 01        	lda	<R0
  2084                        L75:
  2085 04:062F: A8           	tay
  2086 04:0630: 2B           	pld
  2087 04:0631: 3B           	tsc
  2088 04:0632: 18           	clc
  2089 04:0633: 69 04 00     	adc	#L72
  2090 04:0636: 1B           	tcs
  2091 04:0637: 98           	tya
  2092 04:0638: 6B           	rtl
  2093                        ;}
  2094                        	.line	198
  2095                        	.endblock	198
  2096             00000004   L72	equ	4
  2097             00000005   L73	equ	5
  2098 04:0639:              	ends
  2099                        	efunc
  2100                        	.endfunc	198,5,4
  2101                        	.line	198
  2102                        	data
  2103                        L55:
  2104 00:0271: 44 65 73 6B  	db	$44,$65,$73,$6B,$74,$6F,$70,$57,$69,$6E,
                    $64,$6F,$77,$00
       00:0275: 74 6F 70 57 
       00:0279: 69 6E 64 6F 
       00:027D: 77 00 
  2105 00:027F:              	ends
  2106                        ;
  2107                        ;void k_user_CenterWindow(HWND hWnd)
  Mon Dec  7 2020 11:19                                                Page 43


  2108                        ;{
  2109                        	.line	200
  2110                        	.line	201
  2111                        	WINMAN
  2112                        	xdef	~~k_user_CenterWindow
  2113                        	func
  2114                        	.function	201
  2115                        ~~k_user_CenterWindow:
  2116                        	longa	on
  2117                        	longi	on
  2118 04:0639: 3B           	tsc
  2119 04:063A: 38           	sec
  2120 04:063B: E9 10 00     	sbc	#L77
  2121 04:063E: 1B           	tcs
  2122 04:063F: 0B           	phd
  2123 04:0640: 5B           	tcd
  2124             00000004   hWnd_0	set	4
  2125                        	.block	201
  2126                        ;	PWINDOW pWin 	= NULL;
  2127                        ;	PWINDOW pParent = NULL;
  2128                        ;	int offX;
  2129                        ;	int offY;
  2130                        ;	if(hWnd!=NULL)
  2131             00000000   pWin_1	set	0
  2132             00000004   pParent_1	set	4
  2133             00000008   offX_1	set	8
  2134             0000000A   offY_1	set	10
  2135                        	.sym	pWin,0,138,1,32,27
  2136                        	.sym	pParent,4,138,1,32,27
  2137                        	.sym	offX,8,5,1,16
  2138                        	.sym	offY,10,5,1,16
  2139                        	.sym	hWnd,4,129,6,32
  2140 04:0641: 64 05        	stz	<L78+pWin_1
  2141 04:0643: 64 07        	stz	<L78+pWin_1+2
  2142 04:0645: 64 09        	stz	<L78+pParent_1
  2143 04:0647: 64 0B        	stz	<L78+pParent_1+2
  2144                        	.line	206
  2145                        ;	{
  2146 04:0649: A5 14        	lda	<L77+hWnd_0
  2147 04:064B: 05 16        	ora	<L77+hWnd_0+2
  2148 04:064D: D0 03        	bne	L80
  2149 04:064F: 82 A6 00     	brl	L10011
  2150                        L80:
  2151                        	.line	207
  2152                        ;		pWin 	= k_getWindowFromHandle(hWnd);
  2153                        	.line	208
  2154 04:0652: D4 16        	pei	<L77+hWnd_0+2
  2155 04:0654: D4 14        	pei	<L77+hWnd_0
  2156 04:0656: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
  2157 04:065A: 85 05        	sta	<L78+pWin_1
  2158 04:065C: 86 07        	stx	<L78+pWin_1+2
  2159                        ;
  2160                        ;		if(pWin->pParentWindow)
  2161                        	.line	210
  2162                        ;		{
  2163 04:065E: A0 34 01     	ldy	#$134
  2164 04:0661: B7 05        	lda	[<L78+pWin_1],Y
  2165 04:0663: A0 36 01     	ldy	#$136
  Mon Dec  7 2020 11:19                                                Page 44


  2166 04:0666: 17 05        	ora	[<L78+pWin_1],Y
  2167 04:0668: D0 03        	bne	L81
  2168 04:066A: 82 33 00     	brl	L10012
  2169                        L81:
  2170                        	.line	211
  2171                        ;			pParent = k_getWindowFromHandle(
                    pWin->pParentWindow);
  2172                        	.line	212
  2173 04:066D: A0 36 01     	ldy	#$136
  2174 04:0670: B7 05        	lda	[<L78+pWin_1],Y
  2175 04:0672: 48           	pha
  2176 04:0673: A0 34 01     	ldy	#$134
  2177 04:0676: B7 05        	lda	[<L78+pWin_1],Y
  2178 04:0678: 48           	pha
  2179 04:0679: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
  2180 04:067D: 85 09        	sta	<L78+pParent_1
  2181 04:067F: 86 0B        	stx	<L78+pParent_1+2
  2182                        ;
  2183                        ;			offX = pParent->clientRect.width
                    /2;
  2184                        	.line	214
  2185 04:0681: A0 1C 00     	ldy	#$1c
  2186 04:0684: B7 09        	lda	[<L78+pParent_1],Y
  2187 04:0686: A2 02 00     	ldx	#<$2
  2188                        	xref	~~~div
  2189 04:0689: 22 xx xx xx  	jsl	~~~div
  2190 04:068D: 85 0D        	sta	<L78+offX_1
  2191                        ;			offY = pParent->clientRect.heigh
                    t/2;
  2192                        	.line	215
  2193 04:068F: A0 1E 00     	ldy	#$1e
  2194 04:0692: B7 09        	lda	[<L78+pParent_1],Y
  2195 04:0694: A2 02 00     	ldx	#<$2
  2196                        	xref	~~~div
  2197 04:0697: 22 xx xx xx  	jsl	~~~div
  2198 04:069B: 85 0F        	sta	<L78+offY_1
  2199                        ;		}
  2200                        	.line	216
  2201                        ;		else
  2202 04:069D: 82 28 00     	brl	L10013
  2203                        L10012:
  2204                        ;		{
  2205                        	.line	218
  2206                        ;			offX = k_user_getSystemMetric(SM
                    _CXFULLSCREEN)/2;
  2207                        	.line	219
  2208 04:06A0: F4 10 00     	pea	#<$10
  2209 04:06A3: 22 FD 4B 04  	jsl	~~k_user_getSystemMetric
  2210 04:06A7: 85 01        	sta	<R0
  2211 04:06A9: A5 01        	lda	<R0
  2212 04:06AB: A2 02 00     	ldx	#<$2
  2213                        	xref	~~~div
  2214 04:06AE: 22 xx xx xx  	jsl	~~~div
  2215 04:06B2: 85 0D        	sta	<L78+offX_1
  2216                        ;			offY = k_user_getSystemMetric(SM
                    _CYFULLSCREEN)/2;
  2217                        	.line	220
  2218 04:06B4: F4 11 00     	pea	#<$11
  Mon Dec  7 2020 11:19                                                Page 45


  2219 04:06B7: 22 FD 4B 04  	jsl	~~k_user_getSystemMetric
  2220 04:06BB: 85 01        	sta	<R0
  2221 04:06BD: A5 01        	lda	<R0
  2222 04:06BF: A2 02 00     	ldx	#<$2
  2223                        	xref	~~~div
  2224 04:06C2: 22 xx xx xx  	jsl	~~~div
  2225 04:06C6: 85 0F        	sta	<L78+offY_1
  2226                        ;
  2227                        ;		}
  2228                        	.line	222
  2229                        L10013:
  2230                        ;
  2231                        ;
  2232                        ;		k_user_MoveWindow(hWnd,
  2233                        	.line	225
  2234                        ;						  offX -
                     pWin->win_width/2,
  2235                        ;						  offY -
                     pWin->win_height/2);
  2236 04:06C8: A0 0E 00     	ldy	#$e
  2237 04:06CB: B7 05        	lda	[<L78+pWin_1],Y
  2238 04:06CD: A2 02 00     	ldx	#<$2
  2239                        	xref	~~~div
  2240 04:06D0: 22 xx xx xx  	jsl	~~~div
  2241 04:06D4: 85 01        	sta	<R0
  2242 04:06D6: 38           	sec
  2243 04:06D7: A5 0F        	lda	<L78+offY_1
  2244 04:06D9: E5 01        	sbc	<R0
  2245 04:06DB: 48           	pha
  2246 04:06DC: A0 0C 00     	ldy	#$c
  2247 04:06DF: B7 05        	lda	[<L78+pWin_1],Y
  2248 04:06E1: A2 02 00     	ldx	#<$2
  2249                        	xref	~~~div
  2250 04:06E4: 22 xx xx xx  	jsl	~~~div
  2251 04:06E8: 85 01        	sta	<R0
  2252 04:06EA: 38           	sec
  2253 04:06EB: A5 0D        	lda	<L78+offX_1
  2254 04:06ED: E5 01        	sbc	<R0
  2255 04:06EF: 48           	pha
  2256 04:06F0: D4 16        	pei	<L77+hWnd_0+2
  2257 04:06F2: D4 14        	pei	<L77+hWnd_0
  2258 04:06F4: 22 00 08 04  	jsl	~~k_user_MoveWindow
  2259                        ;
  2260                        ;	}
  2261                        	.line	229
  2262                        ;
  2263                        ;
  2264                        ;
  2265                        ;}
  2266                        L10011:
  2267                        	.line	233
  2268                        L82:
  2269 04:06F8: A5 12        	lda	<L77+2
  2270 04:06FA: 85 16        	sta	<L77+2+4
  2271 04:06FC: A5 11        	lda	<L77+1
  2272 04:06FE: 85 15        	sta	<L77+1+4
  2273 04:0700: 2B           	pld
  2274 04:0701: 3B           	tsc
  Mon Dec  7 2020 11:19                                                Page 46


  2275 04:0702: 18           	clc
  2276 04:0703: 69 14 00     	adc	#L77+4
  2277 04:0706: 1B           	tcs
  2278 04:0707: 6B           	rtl
  2279                        	.endblock	233
  2280             00000010   L77	equ	16
  2281             00000005   L78	equ	5
  2282 04:0708:              	ends
  2283                        	efunc
  2284                        	.endfunc	233,5,16
  2285                        	.line	233
  2286                        ;
  2287                        ;void k_user_CenterBottomWindow(HWND hWnd)
  2288                        ;{
  2289                        	.line	235
  2290                        	.line	236
  2291                        	WINMAN
  2292                        	xdef	~~k_user_CenterBottomWindow
  2293                        	func
  2294                        	.function	236
  2295                        ~~k_user_CenterBottomWindow:
  2296                        	longa	on
  2297                        	longi	on
  2298 04:0708: 3B           	tsc
  2299 04:0709: 38           	sec
  2300 04:070A: E9 16 00     	sbc	#L83
  2301 04:070D: 1B           	tcs
  2302 04:070E: 0B           	phd
  2303 04:070F: 5B           	tcd
  2304             00000004   hWnd_0	set	4
  2305                        	.block	236
  2306                        ;	/*
  2307                        ;	PWINDOW pWin = NULL;
  2308                        ;
  2309                        ;	if(hWnd!=NULL)
  2310                        ;	{
  2311                        ;		pWin = k_getWindowFromHandle(hWnd);
  2312                        ;
  2313                        ;		k_user_MoveWindow(hWnd,
  2314                        ;				          k_user_getSyst
                    emMetric(SM_CXFULLSCREEN)/2 - pWin->win_width/2,
  2315                        ;						  k_user
                    _getSystemMetric(SM_CYFULLSCREEN) - (pWin->win_height + 4));
  2316                        ;	}
  2317                        ;	*/
  2318                        ;
  2319                        ;	PWINDOW pWin 	= NULL;
  2320                        ;	PWINDOW pParent = NULL;
  2321                        ;	int bottomBorder;
  2322                        ;	int offX;
  2323                        ;	int offY;
  2324                        ;	if(hWnd!=NULL)
  2325             00000000   pWin_1	set	0
  2326             00000004   pParent_1	set	4
  2327             00000008   bottomBorder_1	set	8
  2328             0000000A   offX_1	set	10
  2329             0000000C   offY_1	set	12
  2330                        	.sym	pWin,0,138,1,32,27
  Mon Dec  7 2020 11:19                                                Page 47


  2331                        	.sym	pParent,4,138,1,32,27
  2332                        	.sym	bottomBorder,8,5,1,16
  2333                        	.sym	offX,10,5,1,16
  2334                        	.sym	offY,12,5,1,16
  2335                        	.sym	hWnd,4,129,6,32
  2336 04:0710: 64 09        	stz	<L84+pWin_1
  2337 04:0712: 64 0B        	stz	<L84+pWin_1+2
  2338 04:0714: 64 0D        	stz	<L84+pParent_1
  2339 04:0716: 64 0F        	stz	<L84+pParent_1+2
  2340                        	.line	255
  2341                        ;	{
  2342 04:0718: A5 1A        	lda	<L83+hWnd_0
  2343 04:071A: 05 1C        	ora	<L83+hWnd_0+2
  2344 04:071C: D0 03        	bne	L86
  2345 04:071E: 82 CF 00     	brl	L10014
  2346                        L86:
  2347                        	.line	256
  2348                        ;		pWin 	= k_getWindowFromHandle(hWnd);
  2349                        	.line	257
  2350 04:0721: D4 1C        	pei	<L83+hWnd_0+2
  2351 04:0723: D4 1A        	pei	<L83+hWnd_0
  2352 04:0725: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
  2353 04:0729: 85 09        	sta	<L84+pWin_1
  2354 04:072B: 86 0B        	stx	<L84+pWin_1+2
  2355                        ;
  2356                        ;		if(pWin->pParentWindow)
  2357                        	.line	259
  2358                        ;		{
  2359 04:072D: A0 34 01     	ldy	#$134
  2360 04:0730: B7 09        	lda	[<L84+pWin_1],Y
  2361 04:0732: A0 36 01     	ldy	#$136
  2362 04:0735: 17 09        	ora	[<L84+pWin_1],Y
  2363 04:0737: D0 03        	bne	L87
  2364 04:0739: 82 2C 00     	brl	L10015
  2365                        L87:
  2366                        	.line	260
  2367                        ;			pParent = k_getWindowFromHandle(
                    pWin->pParentWindow);
  2368                        	.line	261
  2369 04:073C: A0 36 01     	ldy	#$136
  2370 04:073F: B7 09        	lda	[<L84+pWin_1],Y
  2371 04:0741: 48           	pha
  2372 04:0742: A0 34 01     	ldy	#$134
  2373 04:0745: B7 09        	lda	[<L84+pWin_1],Y
  2374 04:0747: 48           	pha
  2375 04:0748: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
  2376 04:074C: 85 0D        	sta	<L84+pParent_1
  2377 04:074E: 86 0F        	stx	<L84+pParent_1+2
  2378                        ;
  2379                        ;			offX = pParent->clientRect.width
                    /2;
  2380                        	.line	263
  2381 04:0750: A0 1C 00     	ldy	#$1c
  2382 04:0753: B7 0D        	lda	[<L84+pParent_1],Y
  2383 04:0755: A2 02 00     	ldx	#<$2
  2384                        	xref	~~~div
  2385 04:0758: 22 xx xx xx  	jsl	~~~div
  2386 04:075C: 85 13        	sta	<L84+offX_1
  Mon Dec  7 2020 11:19                                                Page 48


  2387                        ;			offY = pParent->clientRect.heigh
                    t;
  2388                        	.line	264
  2389 04:075E: A0 1E 00     	ldy	#$1e
  2390 04:0761: B7 0D        	lda	[<L84+pParent_1],Y
  2391 04:0763: 85 15        	sta	<L84+offY_1
  2392                        ;		}
  2393                        	.line	265
  2394                        ;		else
  2395 04:0765: 82 1D 00     	brl	L10016
  2396                        L10015:
  2397                        ;		{
  2398                        	.line	267
  2399                        ;			offX = k_user_getSystemMetric(SM
                    _CXFULLSCREEN)/2;
  2400                        	.line	268
  2401 04:0768: F4 10 00     	pea	#<$10
  2402 04:076B: 22 FD 4B 04  	jsl	~~k_user_getSystemMetric
  2403 04:076F: 85 01        	sta	<R0
  2404 04:0771: A5 01        	lda	<R0
  2405 04:0773: A2 02 00     	ldx	#<$2
  2406                        	xref	~~~div
  2407 04:0776: 22 xx xx xx  	jsl	~~~div
  2408 04:077A: 85 13        	sta	<L84+offX_1
  2409                        ;			offY = k_user_getSystemMetric(SM
                    _CYFULLSCREEN);
  2410                        	.line	269
  2411 04:077C: F4 11 00     	pea	#<$11
  2412 04:077F: 22 FD 4B 04  	jsl	~~k_user_getSystemMetric
  2413 04:0783: 85 15        	sta	<L84+offY_1
  2414                        ;
  2415                        ;		}
  2416                        	.line	271
  2417                        L10016:
  2418                        ;
  2419                        ;		if(pParent && (pParent->style & FXWS_DLG
                    FRAME))
  2420                        	.line	273
  2421                        ;			bottomBorder = k_user_getSystemM
                    etric(SM_CYDLGFRAME);
  2422 04:0785: A5 0D        	lda	<L84+pParent_1
  2423 04:0787: 05 0F        	ora	<L84+pParent_1+2
  2424 04:0789: D0 03        	bne	L88
  2425 04:078B: 82 19 00     	brl	L10017
  2426                        L88:
  2427 04:078E: A0 04 00     	ldy	#$4
  2428 04:0791: B7 0D        	lda	[<L84+pParent_1],Y
  2429 04:0793: 29 04 00     	and	#^$40000
  2430 04:0796: D0 03        	bne	L89
  2431 04:0798: 82 0C 00     	brl	L10017
  2432                        L89:
  2433                        	.line	274
  2434 04:079B: F4 08 00     	pea	#<$8
  2435 04:079E: 22 FD 4B 04  	jsl	~~k_user_getSystemMetric
  2436 04:07A2: 85 11        	sta	<L84+bottomBorder_1
  2437                        ;		else
  2438 04:07A4: 82 09 00     	brl	L10018
  2439                        L10017:
  Mon Dec  7 2020 11:19                                                Page 49


  2440                        ;			bottomBorder = k_user_getSystemM
                    etric(SM_CYBORDER);
  2441                        	.line	276
  2442 04:07A7: F4 06 00     	pea	#<$6
  2443 04:07AA: 22 FD 4B 04  	jsl	~~k_user_getSystemMetric
  2444 04:07AE: 85 11        	sta	<L84+bottomBorder_1
  2445                        L10018:
  2446                        ;
  2447                        ;		k_debug_integer("k_user_CenterBottomWind
                    ow:bottomBorder:",bottomBorder);
  2448                        	.line	278
  2449 04:07B0: D4 11        	pei	<L84+bottomBorder_1
  2450 04:07B2: F4 xx xx     	pea	#^L76
  2451 04:07B5: F4 xx xx     	pea	#<L76
  2452 04:07B8: 22 xx xx xx  	jsl	~~k_debug_integer
  2453                        ;
  2454                        ;		k_user_MoveWindow(hWnd,
  2455                        	.line	280
  2456                        ;						  offX -
                     pWin->win_width/2,
  2457                        ;						  offY -
                     (pWin->win_height + bottomBorder + 2));
  2458 04:07BC: 18           	clc
  2459 04:07BD: A0 0E 00     	ldy	#$e
  2460 04:07C0: B7 09        	lda	[<L84+pWin_1],Y
  2461 04:07C2: 65 11        	adc	<L84+bottomBorder_1
  2462 04:07C4: 85 01        	sta	<R0
  2463 04:07C6: 18           	clc
  2464 04:07C7: A9 02 00     	lda	#$2
  2465 04:07CA: 65 01        	adc	<R0
  2466 04:07CC: 85 05        	sta	<R1
  2467 04:07CE: 38           	sec
  2468 04:07CF: A5 15        	lda	<L84+offY_1
  2469 04:07D1: E5 05        	sbc	<R1
  2470 04:07D3: 48           	pha
  2471 04:07D4: A0 0C 00     	ldy	#$c
  2472 04:07D7: B7 09        	lda	[<L84+pWin_1],Y
  2473 04:07D9: A2 02 00     	ldx	#<$2
  2474                        	xref	~~~div
  2475 04:07DC: 22 xx xx xx  	jsl	~~~div
  2476 04:07E0: 85 01        	sta	<R0
  2477 04:07E2: 38           	sec
  2478 04:07E3: A5 13        	lda	<L84+offX_1
  2479 04:07E5: E5 01        	sbc	<R0
  2480 04:07E7: 48           	pha
  2481 04:07E8: D4 1C        	pei	<L83+hWnd_0+2
  2482 04:07EA: D4 1A        	pei	<L83+hWnd_0
  2483 04:07EC: 22 00 08 04  	jsl	~~k_user_MoveWindow
  2484                        ;
  2485                        ;	}
  2486                        	.line	284
  2487                        ;}
  2488                        L10014:
  2489                        	.line	285
  2490                        L90:
  2491 04:07F0: A5 18        	lda	<L83+2
  2492 04:07F2: 85 1C        	sta	<L83+2+4
  2493 04:07F4: A5 17        	lda	<L83+1
  Mon Dec  7 2020 11:19                                                Page 50


  2494 04:07F6: 85 1B        	sta	<L83+1+4
  2495 04:07F8: 2B           	pld
  2496 04:07F9: 3B           	tsc
  2497 04:07FA: 18           	clc
  2498 04:07FB: 69 1A 00     	adc	#L83+4
  2499 04:07FE: 1B           	tcs
  2500 04:07FF: 6B           	rtl
  2501                        	.endblock	285
  2502             00000016   L83	equ	22
  2503             00000009   L84	equ	9
  2504 04:0800:              	ends
  2505                        	efunc
  2506                        	.endfunc	285,9,22
  2507                        	.line	285
  2508                        	data
  2509                        L76:
  2510 00:027F: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$43,$65,$6E,
                    $74,$65,$72,$42,$6F
       00:0283: 65 72 5F 43 
       00:0287: 65 6E 74 65 
       00:028B: 72 42 6F 
  2511 00:028E: 74 74 6F 6D  	db	$74,$74,$6F,$6D,$57,$69,$6E,$64,$6F,$77,
                    $3A,$62,$6F,$74,$74
       00:0292: 57 69 6E 64 
       00:0296: 6F 77 3A 62 
       00:029A: 6F 74 74 
  2512 00:029D: 6F 6D 42 6F  	db	$6F,$6D,$42,$6F,$72,$64,$65,$72,$3A,$00
       00:02A1: 72 64 65 72 
       00:02A5: 3A 00 
  2513 00:02A7:              	ends
  2514                        ;
  2515                        ;
  2516                        ;void k_user_MoveWindow(HWND hWnd, int x,int y)
  2517                        ;{
  2518                        	.line	288
  2519                        	.line	289
  2520                        	WINMAN
  2521                        	xdef	~~k_user_MoveWindow
  2522                        	func
  2523                        	.function	289
  2524                        ~~k_user_MoveWindow:
  2525                        	longa	on
  2526                        	longi	on
  2527 04:0800: 3B           	tsc
  2528 04:0801: 38           	sec
  2529 04:0802: E9 10 00     	sbc	#L92
  2530 04:0805: 1B           	tcs
  2531 04:0806: 0B           	phd
  2532 04:0807: 5B           	tcd
  2533             00000004   hWnd_0	set	4
  2534             00000008   x_0	set	8
  2535             0000000A   y_0	set	10
  2536                        	.block	289
  2537                        ;	PWINDOW pWin 	= NULL;
  2538                        ;	PWINDOW pParent = NULL;
  2539                        ;
  2540                        ;	if(hWnd!=NULL)
  2541             00000000   pWin_1	set	0
  Mon Dec  7 2020 11:19                                                Page 51


  2542             00000004   pParent_1	set	4
  2543                        	.sym	pWin,0,138,1,32,27
  2544                        	.sym	pParent,4,138,1,32,27
  2545                        	.sym	hWnd,4,129,6,32
  2546                        	.sym	x,8,5,6,16
  2547                        	.sym	y,10,5,6,16
  2548 04:0808: 64 09        	stz	<L93+pWin_1
  2549 04:080A: 64 0B        	stz	<L93+pWin_1+2
  2550 04:080C: 64 0D        	stz	<L93+pParent_1
  2551 04:080E: 64 0F        	stz	<L93+pParent_1+2
  2552                        	.line	293
  2553                        ;	{
  2554 04:0810: A5 14        	lda	<L92+hWnd_0
  2555 04:0812: 05 16        	ora	<L92+hWnd_0+2
  2556 04:0814: D0 03        	bne	L95
  2557 04:0816: 82 EC 01     	brl	L10019
  2558                        L95:
  2559                        	.line	294
  2560                        ;		pWin 	= k_getWindowFromHandle(hWnd);
  2561                        	.line	295
  2562 04:0819: D4 16        	pei	<L92+hWnd_0+2
  2563 04:081B: D4 14        	pei	<L92+hWnd_0
  2564 04:081D: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
  2565 04:0821: 85 09        	sta	<L93+pWin_1
  2566 04:0823: 86 0B        	stx	<L93+pWin_1+2
  2567                        ;		pParent = pWin->pParentWindow;
  2568                        	.line	296
  2569 04:0825: A0 34 01     	ldy	#$134
  2570 04:0828: B7 09        	lda	[<L93+pWin_1],Y
  2571 04:082A: 85 0D        	sta	<L93+pParent_1
  2572 04:082C: A0 36 01     	ldy	#$136
  2573 04:082F: B7 09        	lda	[<L93+pWin_1],Y
  2574 04:0831: 85 0F        	sta	<L93+pParent_1+2
  2575                        ;
  2576                        ;
  2577                        ;		k_debug_pointer("k_user_MoveWindow:pPare
                    nt:",pParent);
  2578                        	.line	299
  2579 04:0833: D4 0F        	pei	<L93+pParent_1+2
  2580 04:0835: D4 0D        	pei	<L93+pParent_1
  2581 04:0837: F4 xx xx     	pea	#^L91
  2582 04:083A: F4 xx xx     	pea	#<L91
  2583 04:083D: 22 xx xx xx  	jsl	~~k_debug_pointer
  2584                        ;		k_debug_integer("k_user_MoveWindow:pWin-
                    >win_x:",pWin->win_x);
  2585                        	.line	300
  2586 04:0841: A0 08 00     	ldy	#$8
  2587 04:0844: B7 09        	lda	[<L93+pWin_1],Y
  2588 04:0846: 48           	pha
  2589 04:0847: F4 xx xx     	pea	#^L91+27
  2590 04:084A: F4 xx xx     	pea	#<L91+27
  2591 04:084D: 22 xx xx xx  	jsl	~~k_debug_integer
  2592                        ;		k_debug_integer("k_user_MoveWindow:pWin-
                    >win_y:",pWin->win_y);
  2593                        	.line	301
  2594 04:0851: A0 0A 00     	ldy	#$a
  2595 04:0854: B7 09        	lda	[<L93+pWin_1],Y
  2596 04:0856: 48           	pha
  Mon Dec  7 2020 11:19                                                Page 52


  2597 04:0857: F4 xx xx     	pea	#^L91+58
  2598 04:085A: F4 xx xx     	pea	#<L91+58
  2599 04:085D: 22 xx xx xx  	jsl	~~k_debug_integer
  2600                        ;		k_debug_integer("k_user_MoveWindow:x:",x
                    );
  2601                        	.line	302
  2602 04:0861: D4 18        	pei	<L92+x_0
  2603 04:0863: F4 xx xx     	pea	#^L91+89
  2604 04:0866: F4 xx xx     	pea	#<L91+89
  2605 04:0869: 22 xx xx xx  	jsl	~~k_debug_integer
  2606                        ;		k_debug_integer("k_user_MoveWindow:y:",y
                    );
  2607                        	.line	303
  2608 04:086D: D4 1A        	pei	<L92+y_0
  2609 04:086F: F4 xx xx     	pea	#^L91+110
  2610 04:0872: F4 xx xx     	pea	#<L91+110
  2611 04:0875: 22 xx xx xx  	jsl	~~k_debug_integer
  2612                        ;
  2613                        ;		k_debug_rect(pWin->win_title,&pWin->clie
                    ntRect);
  2614                        	.line	305
  2615 04:0879: 18           	clc
  2616 04:087A: A9 18 00     	lda	#$18
  2617 04:087D: 65 09        	adc	<L93+pWin_1
  2618 04:087F: 85 01        	sta	<R0
  2619 04:0881: A9 00 00     	lda	#$0
  2620 04:0884: 65 0B        	adc	<L93+pWin_1+2
  2621 04:0886: 85 03        	sta	<R0+2
  2622 04:0888: D4 03        	pei	<R0+2
  2623 04:088A: D4 01        	pei	<R0
  2624 04:088C: 18           	clc
  2625 04:088D: A9 D4 00     	lda	#$d4
  2626 04:0890: 65 09        	adc	<L93+pWin_1
  2627 04:0892: 85 05        	sta	<R1
  2628 04:0894: A9 00 00     	lda	#$0
  2629 04:0897: 65 0B        	adc	<L93+pWin_1+2
  2630 04:0899: 85 07        	sta	<R1+2
  2631 04:089B: D4 07        	pei	<R1+2
  2632 04:089D: D4 05        	pei	<R1
  2633 04:089F: 22 xx xx xx  	jsl	~~k_debug_rect
  2634                        ;
  2635                        ;		if(pParent && (k_getHandleFromWindow(pPa
                    rent)!=k_user_getDesktopWindow()))
  2636                        	.line	307
  2637                        ;		{
  2638 04:08A3: A5 0D        	lda	<L93+pParent_1
  2639 04:08A5: 05 0F        	ora	<L93+pParent_1+2
  2640 04:08A7: D0 03        	bne	L96
  2641 04:08A9: 82 9E 00     	brl	L10020
  2642                        L96:
  2643 04:08AC: 22 15 06 04  	jsl	~~k_user_getDesktopWindow
  2644 04:08B0: 85 01        	sta	<R0
  2645 04:08B2: 86 03        	stx	<R0+2
  2646 04:08B4: D4 0F        	pei	<L93+pParent_1+2
  2647 04:08B6: D4 0D        	pei	<L93+pParent_1
  2648 04:08B8: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
  2649 04:08BC: 85 05        	sta	<R1
  2650 04:08BE: 86 07        	stx	<R1+2
  Mon Dec  7 2020 11:19                                                Page 53


  2651 04:08C0: A5 05        	lda	<R1
  2652 04:08C2: C5 01        	cmp	<R0
  2653 04:08C4: D0 04        	bne	L97
  2654 04:08C6: A5 07        	lda	<R1+2
  2655 04:08C8: C5 03        	cmp	<R0+2
  2656                        L97:
  2657 04:08CA: D0 03        	bne	L98
  2658 04:08CC: 82 7B 00     	brl	L10020
  2659                        L98:
  2660                        	.line	308
  2661                        ;			k_vdma_fill_rect_ex(pWin->win_x,
                    pWin->win_y,pWin->win_width,pWin->win_height,0,0x01);
  2662                        	.line	309
  2663 04:08CF: F4 01 00     	pea	#<$1
  2664 04:08D2: F4 00 00     	pea	#<$0
  2665 04:08D5: A0 0E 00     	ldy	#$e
  2666 04:08D8: B7 09        	lda	[<L93+pWin_1],Y
  2667 04:08DA: 48           	pha
  2668 04:08DB: A0 0C 00     	ldy	#$c
  2669 04:08DE: B7 09        	lda	[<L93+pWin_1],Y
  2670 04:08E0: 48           	pha
  2671 04:08E1: A0 00 00     	ldy	#$0
  2672 04:08E4: 5A           	phy
  2673 04:08E5: A0 0A 00     	ldy	#$a
  2674 04:08E8: B7 09        	lda	[<L93+pWin_1],Y
  2675 04:08EA: 7A           	ply
  2676 04:08EB: 2A           	rol	A
  2677 04:08EC: 6A           	ror	A
  2678 04:08ED: 10 01        	bpl	L99
  2679 04:08EF: 88           	dey
  2680                        L99:
  2681 04:08F0: 85 01        	sta	<R0
  2682 04:08F2: 84 03        	sty	<R0+2
  2683 04:08F4: D4 03        	pei	<R0+2
  2684 04:08F6: D4 01        	pei	<R0
  2685 04:08F8: A0 00 00     	ldy	#$0
  2686 04:08FB: 5A           	phy
  2687 04:08FC: A0 08 00     	ldy	#$8
  2688 04:08FF: B7 09        	lda	[<L93+pWin_1],Y
  2689 04:0901: 7A           	ply
  2690 04:0902: 2A           	rol	A
  2691 04:0903: 6A           	ror	A
  2692 04:0904: 10 01        	bpl	L100
  2693 04:0906: 88           	dey
  2694                        L100:
  2695 04:0907: 85 05        	sta	<R1
  2696 04:0909: 84 07        	sty	<R1+2
  2697 04:090B: D4 07        	pei	<R1+2
  2698 04:090D: D4 05        	pei	<R1
  2699 04:090F: 22 xx xx xx  	jsl	~~k_vdma_fill_rect_ex
  2700                        ;
  2701                        ;			pWin->win_x = pParent->clientRec
                    t.x + x;
  2702                        	.line	311
  2703 04:0913: 18           	clc
  2704 04:0914: A0 18 00     	ldy	#$18
  2705 04:0917: B7 0D        	lda	[<L93+pParent_1],Y
  2706 04:0919: 65 18        	adc	<L92+x_0
  Mon Dec  7 2020 11:19                                                Page 54


  2707 04:091B: A0 08 00     	ldy	#$8
  2708 04:091E: 97 09        	sta	[<L93+pWin_1],Y
  2709                        ;			pWin->win_y = pParent->clientRec
                    t.y + y;
  2710                        	.line	312
  2711 04:0920: 18           	clc
  2712 04:0921: A0 1A 00     	ldy	#$1a
  2713 04:0924: B7 0D        	lda	[<L93+pParent_1],Y
  2714 04:0926: 65 1A        	adc	<L92+y_0
  2715 04:0928: A0 0A 00     	ldy	#$a
  2716 04:092B: 97 09        	sta	[<L93+pWin_1],Y
  2717                        ;			pWin->clientRect.x 		
                    = pWin->clientRect.x + x;
  2718                        	.line	313
  2719 04:092D: 18           	clc
  2720 04:092E: A0 18 00     	ldy	#$18
  2721 04:0931: B7 09        	lda	[<L93+pWin_1],Y
  2722 04:0933: 65 18        	adc	<L92+x_0
  2723 04:0935: A0 18 00     	ldy	#$18
  2724 04:0938: 97 09        	sta	[<L93+pWin_1],Y
  2725                        ;			pWin->clientRect.y 		
                    = pWin->clientRect.y + y;
  2726                        	.line	314
  2727 04:093A: 18           	clc
  2728 04:093B: A0 1A 00     	ldy	#$1a
  2729 04:093E: B7 09        	lda	[<L93+pWin_1],Y
  2730 04:0940: 65 1A        	adc	<L92+y_0
  2731 04:0942: A0 1A 00     	ldy	#$1a
  2732 04:0945: 97 09        	sta	[<L93+pWin_1],Y
  2733                        ;
  2734                        ;		}
  2735                        	.line	316
  2736                        ;		else
  2737 04:0947: 82 66 00     	brl	L10021
  2738                        L10020:
  2739                        ;		{
  2740                        	.line	318
  2741                        ;			k_vdma_fill_rect_ex(pWin->win_x,
                    pWin->win_y,pWin->win_width,pWin->win_height,0,0x01);
  2742                        	.line	319
  2743 04:094A: F4 01 00     	pea	#<$1
  2744 04:094D: F4 00 00     	pea	#<$0
  2745 04:0950: A0 0E 00     	ldy	#$e
  2746 04:0953: B7 09        	lda	[<L93+pWin_1],Y
  2747 04:0955: 48           	pha
  2748 04:0956: A0 0C 00     	ldy	#$c
  2749 04:0959: B7 09        	lda	[<L93+pWin_1],Y
  2750 04:095B: 48           	pha
  2751 04:095C: A0 00 00     	ldy	#$0
  2752 04:095F: 5A           	phy
  2753 04:0960: A0 0A 00     	ldy	#$a
  2754 04:0963: B7 09        	lda	[<L93+pWin_1],Y
  2755 04:0965: 7A           	ply
  2756 04:0966: 2A           	rol	A
  2757 04:0967: 6A           	ror	A
  2758 04:0968: 10 01        	bpl	L101
  2759 04:096A: 88           	dey
  2760                        L101:
  Mon Dec  7 2020 11:19                                                Page 55


  2761 04:096B: 85 01        	sta	<R0
  2762 04:096D: 84 03        	sty	<R0+2
  2763 04:096F: D4 03        	pei	<R0+2
  2764 04:0971: D4 01        	pei	<R0
  2765 04:0973: A0 00 00     	ldy	#$0
  2766 04:0976: 5A           	phy
  2767 04:0977: A0 08 00     	ldy	#$8
  2768 04:097A: B7 09        	lda	[<L93+pWin_1],Y
  2769 04:097C: 7A           	ply
  2770 04:097D: 2A           	rol	A
  2771 04:097E: 6A           	ror	A
  2772 04:097F: 10 01        	bpl	L102
  2773 04:0981: 88           	dey
  2774                        L102:
  2775 04:0982: 85 05        	sta	<R1
  2776 04:0984: 84 07        	sty	<R1+2
  2777 04:0986: D4 07        	pei	<R1+2
  2778 04:0988: D4 05        	pei	<R1
  2779 04:098A: 22 xx xx xx  	jsl	~~k_vdma_fill_rect_ex
  2780                        ;
  2781                        ;			pWin->win_x = x;
  2782                        	.line	321
  2783 04:098E: A5 18        	lda	<L92+x_0
  2784 04:0990: A0 08 00     	ldy	#$8
  2785 04:0993: 97 09        	sta	[<L93+pWin_1],Y
  2786                        ;			pWin->win_y = y;
  2787                        	.line	322
  2788 04:0995: A5 1A        	lda	<L92+y_0
  2789 04:0997: A0 0A 00     	ldy	#$a
  2790 04:099A: 97 09        	sta	[<L93+pWin_1],Y
  2791                        ;			pWin->clientRect.x 	= pWin->
                    win_x;
  2792                        	.line	323
  2793 04:099C: A0 08 00     	ldy	#$8
  2794 04:099F: B7 09        	lda	[<L93+pWin_1],Y
  2795 04:09A1: A0 18 00     	ldy	#$18
  2796 04:09A4: 97 09        	sta	[<L93+pWin_1],Y
  2797                        ;			pWin->clientRect.y 	= pWin->
                    win_y;
  2798                        	.line	324
  2799 04:09A6: A0 0A 00     	ldy	#$a
  2800 04:09A9: B7 09        	lda	[<L93+pWin_1],Y
  2801 04:09AB: A0 1A 00     	ldy	#$1a
  2802 04:09AE: 97 09        	sta	[<L93+pWin_1],Y
  2803                        ;		}
  2804                        	.line	325
  2805                        L10021:
  2806                        ;
  2807                        ;		((PCLICKABLE)pWin->clickable)->area.x 	
                    	= pWin->win_x;
  2808                        	.line	327
  2809 04:09B0: A0 D0 00     	ldy	#$d0
  2810 04:09B3: B7 09        	lda	[<L93+pWin_1],Y
  2811 04:09B5: 85 01        	sta	<R0
  2812 04:09B7: A0 D2 00     	ldy	#$d2
  2813 04:09BA: B7 09        	lda	[<L93+pWin_1],Y
  2814 04:09BC: 85 03        	sta	<R0+2
  2815 04:09BE: A0 08 00     	ldy	#$8
  Mon Dec  7 2020 11:19                                                Page 56


  2816 04:09C1: B7 09        	lda	[<L93+pWin_1],Y
  2817 04:09C3: 87 01        	sta	[<R0]
  2818                        ;		((PCLICKABLE)pWin->clickable)->area.y 	
                    	= pWin->win_y;
  2819                        	.line	328
  2820 04:09C5: A0 D0 00     	ldy	#$d0
  2821 04:09C8: B7 09        	lda	[<L93+pWin_1],Y
  2822 04:09CA: 85 01        	sta	<R0
  2823 04:09CC: A0 D2 00     	ldy	#$d2
  2824 04:09CF: B7 09        	lda	[<L93+pWin_1],Y
  2825 04:09D1: 85 03        	sta	<R0+2
  2826 04:09D3: A0 0A 00     	ldy	#$a
  2827 04:09D6: B7 09        	lda	[<L93+pWin_1],Y
  2828 04:09D8: A0 02 00     	ldy	#$2
  2829 04:09DB: 97 01        	sta	[<R0],Y
  2830                        ;
  2831                        ;		k_send_window_message(hWnd,FX_DRAW_NONCL
                    IENT,NULL,0);
  2832                        	.line	330
  2833 04:09DD: F4 00 00     	pea	#<$0
  2834 04:09E0: F4 00 00     	pea	#^$0
  2835 04:09E3: F4 00 00     	pea	#<$0
  2836 04:09E6: F4 01 FB     	pea	#<$fb01
  2837 04:09E9: D4 16        	pei	<L92+hWnd_0+2
  2838 04:09EB: D4 14        	pei	<L92+hWnd_0
  2839 04:09ED: 22 xx xx xx  	jsl	~~k_send_window_message
  2840                        ;		k_send_window_message(hWnd,FX_DRAW_WINDO
                    W,NULL,0);
  2841                        	.line	331
  2842 04:09F1: F4 00 00     	pea	#<$0
  2843 04:09F4: F4 00 00     	pea	#^$0
  2844 04:09F7: F4 00 00     	pea	#<$0
  2845 04:09FA: F4 00 FB     	pea	#<$fb00
  2846 04:09FD: D4 16        	pei	<L92+hWnd_0+2
  2847 04:09FF: D4 14        	pei	<L92+hWnd_0
  2848 04:0A01: 22 xx xx xx  	jsl	~~k_send_window_message
  2849                        ;	}
  2850                        	.line	332
  2851                        ;
  2852                        ;}
  2853                        L10019:
  2854                        	.line	334
  2855                        L103:
  2856 04:0A05: A5 12        	lda	<L92+2
  2857 04:0A07: 85 1A        	sta	<L92+2+8
  2858 04:0A09: A5 11        	lda	<L92+1
  2859 04:0A0B: 85 19        	sta	<L92+1+8
  2860 04:0A0D: 2B           	pld
  2861 04:0A0E: 3B           	tsc
  2862 04:0A0F: 18           	clc
  2863 04:0A10: 69 18 00     	adc	#L92+8
  2864 04:0A13: 1B           	tcs
  2865 04:0A14: 6B           	rtl
  2866                        	.endblock	334
  2867             00000010   L92	equ	16
  2868             00000009   L93	equ	9
  2869 04:0A15:              	ends
  2870                        	efunc
  Mon Dec  7 2020 11:19                                                Page 57


  2871                        	.endfunc	334,9,16
  2872                        	.line	334
  2873                        	data
  2874                        L91:
  2875 00:02A7: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$4D,$6F,$76,
                    $65,$57,$69,$6E,$64
       00:02AB: 65 72 5F 4D 
       00:02AF: 6F 76 65 57 
       00:02B3: 69 6E 64 
  2876 00:02B6: 6F 77 3A 70  	db	$6F,$77,$3A,$70,$50,$61,$72,$65,$6E,$74,
                    $3A,$00,$6B,$5F,$75
       00:02BA: 50 61 72 65 
       00:02BE: 6E 74 3A 00 
       00:02C2: 6B 5F 75 
  2877 00:02C5: 73 65 72 5F  	db	$73,$65,$72,$5F,$4D,$6F,$76,$65,$57,$69,
                    $6E,$64,$6F,$77,$3A
       00:02C9: 4D 6F 76 65 
       00:02CD: 57 69 6E 64 
       00:02D1: 6F 77 3A 
  2878 00:02D4: 70 57 69 6E  	db	$70,$57,$69,$6E,$2D,$3E,$77,$69,$6E,$5F,
                    $78,$3A,$00,$6B,$5F
       00:02D8: 2D 3E 77 69 
       00:02DC: 6E 5F 78 3A 
       00:02E0: 00 6B 5F 
  2879 00:02E3: 75 73 65 72  	db	$75,$73,$65,$72,$5F,$4D,$6F,$76,$65,$57,
                    $69,$6E,$64,$6F,$77
       00:02E7: 5F 4D 6F 76 
       00:02EB: 65 57 69 6E 
       00:02EF: 64 6F 77 
  2880 00:02F2: 3A 70 57 69  	db	$3A,$70,$57,$69,$6E,$2D,$3E,$77,$69,$6E,
                    $5F,$79,$3A,$00,$6B
       00:02F6: 6E 2D 3E 77 
       00:02FA: 69 6E 5F 79 
       00:02FE: 3A 00 6B 
  2881 00:0301: 5F 75 73 65  	db	$5F,$75,$73,$65,$72,$5F,$4D,$6F,$76,$65,
                    $57,$69,$6E,$64,$6F
       00:0305: 72 5F 4D 6F 
       00:0309: 76 65 57 69 
       00:030D: 6E 64 6F 
  2882 00:0310: 77 3A 78 3A  	db	$77,$3A,$78,$3A,$00,$6B,$5F,$75,$73,$65,
                    $72,$5F,$4D,$6F,$76
       00:0314: 00 6B 5F 75 
       00:0318: 73 65 72 5F 
       00:031C: 4D 6F 76 
  2883 00:031F: 65 57 69 6E  	db	$65,$57,$69,$6E,$64,$6F,$77,$3A,$79,$3A,
                    $00
       00:0323: 64 6F 77 3A 
       00:0327: 79 3A 00 
  2884 00:032A:              	ends
  2885                        ;
  2886                        ;void k_user_MoveWindow_ex(HWND hWnd, int x,int y)
  2887                        ;{
  2888                        	.line	336
  2889                        	.line	337
  2890                        	WINMAN
  2891                        	xdef	~~k_user_MoveWindow_ex
  2892                        	func
  2893                        	.function	337
  Mon Dec  7 2020 11:19                                                Page 58


  2894                        ~~k_user_MoveWindow_ex:
  2895                        	longa	on
  2896                        	longi	on
  2897 04:0A15: 3B           	tsc
  2898 04:0A16: 38           	sec
  2899 04:0A17: E9 10 00     	sbc	#L105
  2900 04:0A1A: 1B           	tcs
  2901 04:0A1B: 0B           	phd
  2902 04:0A1C: 5B           	tcd
  2903             00000004   hWnd_0	set	4
  2904             00000008   x_0	set	8
  2905             0000000A   y_0	set	10
  2906                        	.block	337
  2907                        ;	PWINDOW pWin 	= NULL;
  2908                        ;	PWINDOW pParent = NULL;
  2909                        ;
  2910                        ;	if(hWnd!=NULL)
  2911             00000000   pWin_1	set	0
  2912             00000004   pParent_1	set	4
  2913                        	.sym	pWin,0,138,1,32,27
  2914                        	.sym	pParent,4,138,1,32,27
  2915                        	.sym	hWnd,4,129,6,32
  2916                        	.sym	x,8,5,6,16
  2917                        	.sym	y,10,5,6,16
  2918 04:0A1D: 64 09        	stz	<L106+pWin_1
  2919 04:0A1F: 64 0B        	stz	<L106+pWin_1+2
  2920 04:0A21: 64 0D        	stz	<L106+pParent_1
  2921 04:0A23: 64 0F        	stz	<L106+pParent_1+2
  2922                        	.line	341
  2923                        ;	{
  2924 04:0A25: A5 14        	lda	<L105+hWnd_0
  2925 04:0A27: 05 16        	ora	<L105+hWnd_0+2
  2926 04:0A29: D0 03        	bne	L108
  2927 04:0A2B: 82 32 02     	brl	L10022
  2928                        L108:
  2929                        	.line	342
  2930                        ;		pWin 	= k_getWindowFromHandle(hWnd);
  2931                        	.line	343
  2932 04:0A2E: D4 16        	pei	<L105+hWnd_0+2
  2933 04:0A30: D4 14        	pei	<L105+hWnd_0
  2934 04:0A32: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
  2935 04:0A36: 85 09        	sta	<L106+pWin_1
  2936 04:0A38: 86 0B        	stx	<L106+pWin_1+2
  2937                        ;		pParent = pWin->pParentWindow;
  2938                        	.line	344
  2939 04:0A3A: A0 34 01     	ldy	#$134
  2940 04:0A3D: B7 09        	lda	[<L106+pWin_1],Y
  2941 04:0A3F: 85 0D        	sta	<L106+pParent_1
  2942 04:0A41: A0 36 01     	ldy	#$136
  2943 04:0A44: B7 09        	lda	[<L106+pWin_1],Y
  2944 04:0A46: 85 0F        	sta	<L106+pParent_1+2
  2945                        ;
  2946                        ;		k_debug_pointer("k_user_MoveWindow_ex:pP
                    arent:",pParent);
  2947                        	.line	346
  2948 04:0A48: D4 0F        	pei	<L106+pParent_1+2
  2949 04:0A4A: D4 0D        	pei	<L106+pParent_1
  2950 04:0A4C: F4 xx xx     	pea	#^L104
  Mon Dec  7 2020 11:19                                                Page 59


  2951 04:0A4F: F4 xx xx     	pea	#<L104
  2952 04:0A52: 22 xx xx xx  	jsl	~~k_debug_pointer
  2953                        ;		k_debug_integer("k_user_MoveWindow_ex:pW
                    in->win_x:",pWin->win_x);
  2954                        	.line	347
  2955 04:0A56: A0 08 00     	ldy	#$8
  2956 04:0A59: B7 09        	lda	[<L106+pWin_1],Y
  2957 04:0A5B: 48           	pha
  2958 04:0A5C: F4 xx xx     	pea	#^L104+30
  2959 04:0A5F: F4 xx xx     	pea	#<L104+30
  2960 04:0A62: 22 xx xx xx  	jsl	~~k_debug_integer
  2961                        ;		k_debug_integer("k_user_MoveWindow_ex:pW
                    in->win_y:",pWin->win_y);
  2962                        	.line	348
  2963 04:0A66: A0 0A 00     	ldy	#$a
  2964 04:0A69: B7 09        	lda	[<L106+pWin_1],Y
  2965 04:0A6B: 48           	pha
  2966 04:0A6C: F4 xx xx     	pea	#^L104+64
  2967 04:0A6F: F4 xx xx     	pea	#<L104+64
  2968 04:0A72: 22 xx xx xx  	jsl	~~k_debug_integer
  2969                        ;		k_debug_integer("k_user_MoveWindow_ex:x:
                    ",x);
  2970                        	.line	349
  2971 04:0A76: D4 18        	pei	<L105+x_0
  2972 04:0A78: F4 xx xx     	pea	#^L104+98
  2973 04:0A7B: F4 xx xx     	pea	#<L104+98
  2974 04:0A7E: 22 xx xx xx  	jsl	~~k_debug_integer
  2975                        ;		k_debug_integer("k_user_MoveWindow_ex:y:
                    ",y);
  2976                        	.line	350
  2977 04:0A82: D4 1A        	pei	<L105+y_0
  2978 04:0A84: F4 xx xx     	pea	#^L104+122
  2979 04:0A87: F4 xx xx     	pea	#<L104+122
  2980 04:0A8A: 22 xx xx xx  	jsl	~~k_debug_integer
  2981                        ;
  2982                        ;		k_debug_rect(pWin->win_title,&pWin->clie
                    ntRect);
  2983                        	.line	352
  2984 04:0A8E: 18           	clc
  2985 04:0A8F: A9 18 00     	lda	#$18
  2986 04:0A92: 65 09        	adc	<L106+pWin_1
  2987 04:0A94: 85 01        	sta	<R0
  2988 04:0A96: A9 00 00     	lda	#$0
  2989 04:0A99: 65 0B        	adc	<L106+pWin_1+2
  2990 04:0A9B: 85 03        	sta	<R0+2
  2991 04:0A9D: D4 03        	pei	<R0+2
  2992 04:0A9F: D4 01        	pei	<R0
  2993 04:0AA1: 18           	clc
  2994 04:0AA2: A9 D4 00     	lda	#$d4
  2995 04:0AA5: 65 09        	adc	<L106+pWin_1
  2996 04:0AA7: 85 05        	sta	<R1
  2997 04:0AA9: A9 00 00     	lda	#$0
  2998 04:0AAC: 65 0B        	adc	<L106+pWin_1+2
  2999 04:0AAE: 85 07        	sta	<R1+2
  3000 04:0AB0: D4 07        	pei	<R1+2
  3001 04:0AB2: D4 05        	pei	<R1
  3002 04:0AB4: 22 xx xx xx  	jsl	~~k_debug_rect
  3003                        ;
  Mon Dec  7 2020 11:19                                                Page 60


  3004                        ;		if(pParent && (k_getHandleFromWindow(pPa
                    rent)!=k_user_getDesktopWindow()))
  3005                        	.line	354
  3006                        ;		{
  3007 04:0AB8: A5 0D        	lda	<L106+pParent_1
  3008 04:0ABA: 05 0F        	ora	<L106+pParent_1+2
  3009 04:0ABC: D0 03        	bne	L109
  3010 04:0ABE: 82 9E 00     	brl	L10023
  3011                        L109:
  3012 04:0AC1: 22 15 06 04  	jsl	~~k_user_getDesktopWindow
  3013 04:0AC5: 85 01        	sta	<R0
  3014 04:0AC7: 86 03        	stx	<R0+2
  3015 04:0AC9: D4 0F        	pei	<L106+pParent_1+2
  3016 04:0ACB: D4 0D        	pei	<L106+pParent_1
  3017 04:0ACD: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
  3018 04:0AD1: 85 05        	sta	<R1
  3019 04:0AD3: 86 07        	stx	<R1+2
  3020 04:0AD5: A5 05        	lda	<R1
  3021 04:0AD7: C5 01        	cmp	<R0
  3022 04:0AD9: D0 04        	bne	L110
  3023 04:0ADB: A5 07        	lda	<R1+2
  3024 04:0ADD: C5 03        	cmp	<R0+2
  3025                        L110:
  3026 04:0ADF: D0 03        	bne	L111
  3027 04:0AE1: 82 7B 00     	brl	L10023
  3028                        L111:
  3029                        	.line	355
  3030                        ;			k_vdma_fill_rect_ex(pWin->win_x,
                    pWin->win_y,pWin->win_width,pWin->win_height,0,0x01);
  3031                        	.line	356
  3032 04:0AE4: F4 01 00     	pea	#<$1
  3033 04:0AE7: F4 00 00     	pea	#<$0
  3034 04:0AEA: A0 0E 00     	ldy	#$e
  3035 04:0AED: B7 09        	lda	[<L106+pWin_1],Y
  3036 04:0AEF: 48           	pha
  3037 04:0AF0: A0 0C 00     	ldy	#$c
  3038 04:0AF3: B7 09        	lda	[<L106+pWin_1],Y
  3039 04:0AF5: 48           	pha
  3040 04:0AF6: A0 00 00     	ldy	#$0
  3041 04:0AF9: 5A           	phy
  3042 04:0AFA: A0 0A 00     	ldy	#$a
  3043 04:0AFD: B7 09        	lda	[<L106+pWin_1],Y
  3044 04:0AFF: 7A           	ply
  3045 04:0B00: 2A           	rol	A
  3046 04:0B01: 6A           	ror	A
  3047 04:0B02: 10 01        	bpl	L112
  3048 04:0B04: 88           	dey
  3049                        L112:
  3050 04:0B05: 85 01        	sta	<R0
  3051 04:0B07: 84 03        	sty	<R0+2
  3052 04:0B09: D4 03        	pei	<R0+2
  3053 04:0B0B: D4 01        	pei	<R0
  3054 04:0B0D: A0 00 00     	ldy	#$0
  3055 04:0B10: 5A           	phy
  3056 04:0B11: A0 08 00     	ldy	#$8
  3057 04:0B14: B7 09        	lda	[<L106+pWin_1],Y
  3058 04:0B16: 7A           	ply
  3059 04:0B17: 2A           	rol	A
  Mon Dec  7 2020 11:19                                                Page 61


  3060 04:0B18: 6A           	ror	A
  3061 04:0B19: 10 01        	bpl	L113
  3062 04:0B1B: 88           	dey
  3063                        L113:
  3064 04:0B1C: 85 05        	sta	<R1
  3065 04:0B1E: 84 07        	sty	<R1+2
  3066 04:0B20: D4 07        	pei	<R1+2
  3067 04:0B22: D4 05        	pei	<R1
  3068 04:0B24: 22 xx xx xx  	jsl	~~k_vdma_fill_rect_ex
  3069                        ;
  3070                        ;			pWin->win_x = pParent->clientRec
                    t.x + x;
  3071                        	.line	358
  3072 04:0B28: 18           	clc
  3073 04:0B29: A0 18 00     	ldy	#$18
  3074 04:0B2C: B7 0D        	lda	[<L106+pParent_1],Y
  3075 04:0B2E: 65 18        	adc	<L105+x_0
  3076 04:0B30: A0 08 00     	ldy	#$8
  3077 04:0B33: 97 09        	sta	[<L106+pWin_1],Y
  3078                        ;			pWin->win_y = pParent->clientRec
                    t.y + y;
  3079                        	.line	359
  3080 04:0B35: 18           	clc
  3081 04:0B36: A0 1A 00     	ldy	#$1a
  3082 04:0B39: B7 0D        	lda	[<L106+pParent_1],Y
  3083 04:0B3B: 65 1A        	adc	<L105+y_0
  3084 04:0B3D: A0 0A 00     	ldy	#$a
  3085 04:0B40: 97 09        	sta	[<L106+pWin_1],Y
  3086                        ;			pWin->clientRect.x 		
                    = pWin->clientRect.x + x;
  3087                        	.line	360
  3088 04:0B42: 18           	clc
  3089 04:0B43: A0 18 00     	ldy	#$18
  3090 04:0B46: B7 09        	lda	[<L106+pWin_1],Y
  3091 04:0B48: 65 18        	adc	<L105+x_0
  3092 04:0B4A: A0 18 00     	ldy	#$18
  3093 04:0B4D: 97 09        	sta	[<L106+pWin_1],Y
  3094                        ;			pWin->clientRect.y 		
                    = pWin->clientRect.y + y;
  3095                        	.line	361
  3096 04:0B4F: 18           	clc
  3097 04:0B50: A0 1A 00     	ldy	#$1a
  3098 04:0B53: B7 09        	lda	[<L106+pWin_1],Y
  3099 04:0B55: 65 1A        	adc	<L105+y_0
  3100 04:0B57: A0 1A 00     	ldy	#$1a
  3101 04:0B5A: 97 09        	sta	[<L106+pWin_1],Y
  3102                        ;
  3103                        ;		}
  3104                        	.line	363
  3105                        ;		else
  3106 04:0B5C: 82 AC 00     	brl	L10024
  3107                        L10023:
  3108                        ;		{
  3109                        	.line	365
  3110                        ;
  3111                        ;			k_vdma_fill_rect_ex(pWin->win_x,
                    pWin->win_y,pWin->win_width,pWin->win_height,FILLCOLOR_TRANS
                    PARENT,BITMAP_FRONT);
  Mon Dec  7 2020 11:19                                                Page 62


  3112                        	.line	367
  3113 04:0B5F: F4 00 00     	pea	#<$0
  3114 04:0B62: F4 00 00     	pea	#<$0
  3115 04:0B65: A0 0E 00     	ldy	#$e
  3116 04:0B68: B7 09        	lda	[<L106+pWin_1],Y
  3117 04:0B6A: 48           	pha
  3118 04:0B6B: A0 0C 00     	ldy	#$c
  3119 04:0B6E: B7 09        	lda	[<L106+pWin_1],Y
  3120 04:0B70: 48           	pha
  3121 04:0B71: A0 00 00     	ldy	#$0
  3122 04:0B74: 5A           	phy
  3123 04:0B75: A0 0A 00     	ldy	#$a
  3124 04:0B78: B7 09        	lda	[<L106+pWin_1],Y
  3125 04:0B7A: 7A           	ply
  3126 04:0B7B: 2A           	rol	A
  3127 04:0B7C: 6A           	ror	A
  3128 04:0B7D: 10 01        	bpl	L114
  3129 04:0B7F: 88           	dey
  3130                        L114:
  3131 04:0B80: 85 01        	sta	<R0
  3132 04:0B82: 84 03        	sty	<R0+2
  3133 04:0B84: D4 03        	pei	<R0+2
  3134 04:0B86: D4 01        	pei	<R0
  3135 04:0B88: A0 00 00     	ldy	#$0
  3136 04:0B8B: 5A           	phy
  3137 04:0B8C: A0 08 00     	ldy	#$8
  3138 04:0B8F: B7 09        	lda	[<L106+pWin_1],Y
  3139 04:0B91: 7A           	ply
  3140 04:0B92: 2A           	rol	A
  3141 04:0B93: 6A           	ror	A
  3142 04:0B94: 10 01        	bpl	L115
  3143 04:0B96: 88           	dey
  3144                        L115:
  3145 04:0B97: 85 05        	sta	<R1
  3146 04:0B99: 84 07        	sty	<R1+2
  3147 04:0B9B: D4 07        	pei	<R1+2
  3148 04:0B9D: D4 05        	pei	<R1
  3149 04:0B9F: 22 xx xx xx  	jsl	~~k_vdma_fill_rect_ex
  3150                        ;			k_vdma_fill_rect_ex(pWin->win_x,
                    pWin->win_y,pWin->win_width,pWin->win_height,k_getUIBackgrou
                    ndColor(),BITMAP_BACK);
  3151                        	.line	368
  3152 04:0BA3: F4 10 00     	pea	#<$10
  3153 04:0BA6: 22 xx xx xx  	jsl	~~k_getUIBackgroundColor
  3154 04:0BAA: 48           	pha
  3155 04:0BAB: A0 0E 00     	ldy	#$e
  3156 04:0BAE: B7 09        	lda	[<L106+pWin_1],Y
  3157 04:0BB0: 48           	pha
  3158 04:0BB1: A0 0C 00     	ldy	#$c
  3159 04:0BB4: B7 09        	lda	[<L106+pWin_1],Y
  3160 04:0BB6: 48           	pha
  3161 04:0BB7: A0 00 00     	ldy	#$0
  3162 04:0BBA: 5A           	phy
  3163 04:0BBB: A0 0A 00     	ldy	#$a
  3164 04:0BBE: B7 09        	lda	[<L106+pWin_1],Y
  3165 04:0BC0: 7A           	ply
  3166 04:0BC1: 2A           	rol	A
  3167 04:0BC2: 6A           	ror	A
  Mon Dec  7 2020 11:19                                                Page 63


  3168 04:0BC3: 10 01        	bpl	L116
  3169 04:0BC5: 88           	dey
  3170                        L116:
  3171 04:0BC6: 85 01        	sta	<R0
  3172 04:0BC8: 84 03        	sty	<R0+2
  3173 04:0BCA: D4 03        	pei	<R0+2
  3174 04:0BCC: D4 01        	pei	<R0
  3175 04:0BCE: A0 00 00     	ldy	#$0
  3176 04:0BD1: 5A           	phy
  3177 04:0BD2: A0 08 00     	ldy	#$8
  3178 04:0BD5: B7 09        	lda	[<L106+pWin_1],Y
  3179 04:0BD7: 7A           	ply
  3180 04:0BD8: 2A           	rol	A
  3181 04:0BD9: 6A           	ror	A
  3182 04:0BDA: 10 01        	bpl	L117
  3183 04:0BDC: 88           	dey
  3184                        L117:
  3185 04:0BDD: 85 05        	sta	<R1
  3186 04:0BDF: 84 07        	sty	<R1+2
  3187 04:0BE1: D4 07        	pei	<R1+2
  3188 04:0BE3: D4 05        	pei	<R1
  3189 04:0BE5: 22 xx xx xx  	jsl	~~k_vdma_fill_rect_ex
  3190                        ;
  3191                        ;			pWin->win_x = x;
  3192                        	.line	370
  3193 04:0BE9: A5 18        	lda	<L105+x_0
  3194 04:0BEB: A0 08 00     	ldy	#$8
  3195 04:0BEE: 97 09        	sta	[<L106+pWin_1],Y
  3196                        ;			pWin->win_y = y;
  3197                        	.line	371
  3198 04:0BF0: A5 1A        	lda	<L105+y_0
  3199 04:0BF2: A0 0A 00     	ldy	#$a
  3200 04:0BF5: 97 09        	sta	[<L106+pWin_1],Y
  3201                        ;			pWin->clientRect.x 	= pWin->
                    win_x;
  3202                        	.line	372
  3203 04:0BF7: A0 08 00     	ldy	#$8
  3204 04:0BFA: B7 09        	lda	[<L106+pWin_1],Y
  3205 04:0BFC: A0 18 00     	ldy	#$18
  3206 04:0BFF: 97 09        	sta	[<L106+pWin_1],Y
  3207                        ;			pWin->clientRect.y 	= pWin->
                    win_y;
  3208                        	.line	373
  3209 04:0C01: A0 0A 00     	ldy	#$a
  3210 04:0C04: B7 09        	lda	[<L106+pWin_1],Y
  3211 04:0C06: A0 1A 00     	ldy	#$1a
  3212 04:0C09: 97 09        	sta	[<L106+pWin_1],Y
  3213                        ;
  3214                        ;		}
  3215                        	.line	375
  3216                        L10024:
  3217                        ;
  3218                        ;		((PCLICKABLE)pWin->clickable)->area.x 	
                    	= pWin->win_x;
  3219                        	.line	377
  3220 04:0C0B: A0 D0 00     	ldy	#$d0
  3221 04:0C0E: B7 09        	lda	[<L106+pWin_1],Y
  3222 04:0C10: 85 01        	sta	<R0
  Mon Dec  7 2020 11:19                                                Page 64


  3223 04:0C12: A0 D2 00     	ldy	#$d2
  3224 04:0C15: B7 09        	lda	[<L106+pWin_1],Y
  3225 04:0C17: 85 03        	sta	<R0+2
  3226 04:0C19: A0 08 00     	ldy	#$8
  3227 04:0C1C: B7 09        	lda	[<L106+pWin_1],Y
  3228 04:0C1E: 87 01        	sta	[<R0]
  3229                        ;		((PCLICKABLE)pWin->clickable)->area.y 	
                    	= pWin->win_y;
  3230                        	.line	378
  3231 04:0C20: A0 D0 00     	ldy	#$d0
  3232 04:0C23: B7 09        	lda	[<L106+pWin_1],Y
  3233 04:0C25: 85 01        	sta	<R0
  3234 04:0C27: A0 D2 00     	ldy	#$d2
  3235 04:0C2A: B7 09        	lda	[<L106+pWin_1],Y
  3236 04:0C2C: 85 03        	sta	<R0+2
  3237 04:0C2E: A0 0A 00     	ldy	#$a
  3238 04:0C31: B7 09        	lda	[<L106+pWin_1],Y
  3239 04:0C33: A0 02 00     	ldy	#$2
  3240 04:0C36: 97 01        	sta	[<R0],Y
  3241                        ;
  3242                        ;		k_send_window_message(hWnd,FX_DRAW_NONCL
                    IENT,NULL,0);
  3243                        	.line	380
  3244 04:0C38: F4 00 00     	pea	#<$0
  3245 04:0C3B: F4 00 00     	pea	#^$0
  3246 04:0C3E: F4 00 00     	pea	#<$0
  3247 04:0C41: F4 01 FB     	pea	#<$fb01
  3248 04:0C44: D4 16        	pei	<L105+hWnd_0+2
  3249 04:0C46: D4 14        	pei	<L105+hWnd_0
  3250 04:0C48: 22 xx xx xx  	jsl	~~k_send_window_message
  3251                        ;		k_send_window_message(hWnd,FX_DRAW_WINDO
                    W,NULL,0);
  3252                        	.line	381
  3253 04:0C4C: F4 00 00     	pea	#<$0
  3254 04:0C4F: F4 00 00     	pea	#^$0
  3255 04:0C52: F4 00 00     	pea	#<$0
  3256 04:0C55: F4 00 FB     	pea	#<$fb00
  3257 04:0C58: D4 16        	pei	<L105+hWnd_0+2
  3258 04:0C5A: D4 14        	pei	<L105+hWnd_0
  3259 04:0C5C: 22 xx xx xx  	jsl	~~k_send_window_message
  3260                        ;	}
  3261                        	.line	382
  3262                        ;
  3263                        ;}
  3264                        L10022:
  3265                        	.line	384
  3266                        L118:
  3267 04:0C60: A5 12        	lda	<L105+2
  3268 04:0C62: 85 1A        	sta	<L105+2+8
  3269 04:0C64: A5 11        	lda	<L105+1
  3270 04:0C66: 85 19        	sta	<L105+1+8
  3271 04:0C68: 2B           	pld
  3272 04:0C69: 3B           	tsc
  3273 04:0C6A: 18           	clc
  3274 04:0C6B: 69 18 00     	adc	#L105+8
  3275 04:0C6E: 1B           	tcs
  3276 04:0C6F: 6B           	rtl
  3277                        	.endblock	384
  Mon Dec  7 2020 11:19                                                Page 65


  3278             00000010   L105	equ	16
  3279             00000009   L106	equ	9
  3280 04:0C70:              	ends
  3281                        	efunc
  3282                        	.endfunc	384,9,16
  3283                        	.line	384
  3284                        	data
  3285                        L104:
  3286 00:032A: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$4D,$6F,$76,
                    $65,$57,$69,$6E,$64
       00:032E: 65 72 5F 4D 
       00:0332: 6F 76 65 57 
       00:0336: 69 6E 64 
  3287 00:0339: 6F 77 5F 65  	db	$6F,$77,$5F,$65,$78,$3A,$70,$50,$61,$72,
                    $65,$6E,$74,$3A,$00
       00:033D: 78 3A 70 50 
       00:0341: 61 72 65 6E 
       00:0345: 74 3A 00 
  3288 00:0348: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$4D,$6F,$76,
                    $65,$57,$69,$6E,$64
       00:034C: 65 72 5F 4D 
       00:0350: 6F 76 65 57 
       00:0354: 69 6E 64 
  3289 00:0357: 6F 77 5F 65  	db	$6F,$77,$5F,$65,$78,$3A,$70,$57,$69,$6E,
                    $2D,$3E,$77,$69,$6E
       00:035B: 78 3A 70 57 
       00:035F: 69 6E 2D 3E 
       00:0363: 77 69 6E 
  3290 00:0366: 5F 78 3A 00  	db	$5F,$78,$3A,$00,$6B,$5F,$75,$73,$65,$72,
                    $5F,$4D,$6F,$76,$65
       00:036A: 6B 5F 75 73 
       00:036E: 65 72 5F 4D 
       00:0372: 6F 76 65 
  3291 00:0375: 57 69 6E 64  	db	$57,$69,$6E,$64,$6F,$77,$5F,$65,$78,$3A,
                    $70,$57,$69,$6E,$2D
       00:0379: 6F 77 5F 65 
       00:037D: 78 3A 70 57 
       00:0381: 69 6E 2D 
  3292 00:0384: 3E 77 69 6E  	db	$3E,$77,$69,$6E,$5F,$79,$3A,$00,$6B,$5F,
                    $75,$73,$65,$72,$5F
       00:0388: 5F 79 3A 00 
       00:038C: 6B 5F 75 73 
       00:0390: 65 72 5F 
  3293 00:0393: 4D 6F 76 65  	db	$4D,$6F,$76,$65,$57,$69,$6E,$64,$6F,$77,
                    $5F,$65,$78,$3A,$78
       00:0397: 57 69 6E 64 
       00:039B: 6F 77 5F 65 
       00:039F: 78 3A 78 
  3294 00:03A2: 3A 00 6B 5F  	db	$3A,$00,$6B,$5F,$75,$73,$65,$72,$5F,$4D,
                    $6F,$76,$65,$57,$69
       00:03A6: 75 73 65 72 
       00:03AA: 5F 4D 6F 76 
       00:03AE: 65 57 69 
  3295 00:03B1: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$5F,$65,$78,$3A,$79,$3A,
                    $00
       00:03B5: 5F 65 78 3A 
       00:03B9: 79 3A 00 
  3296 00:03BC:              	ends
  Mon Dec  7 2020 11:19                                                Page 66


  3297                        ;
  3298                        ;void k_user_ResizeWindow_ex(HWND hWnd, int x,int 
                    y)
  3299                        ;{
  3300                        	.line	386
  3301                        	.line	387
  3302                        	WINMAN
  3303                        	xdef	~~k_user_ResizeWindow_ex
  3304                        	func
  3305                        	.function	387
  3306                        ~~k_user_ResizeWindow_ex:
  3307                        	longa	on
  3308                        	longi	on
  3309 04:0C70: 3B           	tsc
  3310 04:0C71: 38           	sec
  3311 04:0C72: E9 14 00     	sbc	#L120
  3312 04:0C75: 1B           	tcs
  3313 04:0C76: 0B           	phd
  3314 04:0C77: 5B           	tcd
  3315             00000004   hWnd_0	set	4
  3316             00000008   x_0	set	8
  3317             0000000A   y_0	set	10
  3318                        	.block	387
  3319                        ;	PWINDOW pWin 	= NULL;
  3320                        ;	PWINDOW pParent = NULL;
  3321                        ;
  3322                        ;	int dx = 0;
  3323                        ;	int dy = 0;
  3324                        ;
  3325                        ;	if(hWnd!=NULL)
  3326             00000000   pWin_1	set	0
  3327             00000004   pParent_1	set	4
  3328             00000008   dx_1	set	8
  3329             0000000A   dy_1	set	10
  3330                        	.sym	pWin,0,138,1,32,27
  3331                        	.sym	pParent,4,138,1,32,27
  3332                        	.sym	dx,8,5,1,16
  3333                        	.sym	dy,10,5,1,16
  3334                        	.sym	hWnd,4,129,6,32
  3335                        	.sym	x,8,5,6,16
  3336                        	.sym	y,10,5,6,16
  3337 04:0C78: 64 09        	stz	<L121+pWin_1
  3338 04:0C7A: 64 0B        	stz	<L121+pWin_1+2
  3339 04:0C7C: 64 0D        	stz	<L121+pParent_1
  3340 04:0C7E: 64 0F        	stz	<L121+pParent_1+2
  3341 04:0C80: 64 11        	stz	<L121+dx_1
  3342 04:0C82: 64 13        	stz	<L121+dy_1
  3343                        	.line	394
  3344                        ;	{
  3345 04:0C84: A5 18        	lda	<L120+hWnd_0
  3346 04:0C86: 05 1A        	ora	<L120+hWnd_0+2
  3347 04:0C88: D0 03        	bne	L123
  3348 04:0C8A: 82 84 02     	brl	L10025
  3349                        L123:
  3350                        	.line	395
  3351                        ;		pWin 	= k_getWindowFromHandle(hWnd);
  3352                        	.line	396
  3353 04:0C8D: D4 1A        	pei	<L120+hWnd_0+2
  Mon Dec  7 2020 11:19                                                Page 67


  3354 04:0C8F: D4 18        	pei	<L120+hWnd_0
  3355 04:0C91: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
  3356 04:0C95: 85 09        	sta	<L121+pWin_1
  3357 04:0C97: 86 0B        	stx	<L121+pWin_1+2
  3358                        ;		pParent = pWin->pParentWindow;
  3359                        	.line	397
  3360 04:0C99: A0 34 01     	ldy	#$134
  3361 04:0C9C: B7 09        	lda	[<L121+pWin_1],Y
  3362 04:0C9E: 85 0D        	sta	<L121+pParent_1
  3363 04:0CA0: A0 36 01     	ldy	#$136
  3364 04:0CA3: B7 09        	lda	[<L121+pWin_1],Y
  3365 04:0CA5: 85 0F        	sta	<L121+pParent_1+2
  3366                        ;
  3367                        ;		k_debug_pointer("k_user_ResizeWindow_ex:
                    pParent:",pParent);
  3368                        	.line	399
  3369 04:0CA7: D4 0F        	pei	<L121+pParent_1+2
  3370 04:0CA9: D4 0D        	pei	<L121+pParent_1
  3371 04:0CAB: F4 xx xx     	pea	#^L119
  3372 04:0CAE: F4 xx xx     	pea	#<L119
  3373 04:0CB1: 22 xx xx xx  	jsl	~~k_debug_pointer
  3374                        ;		k_debug_integer("k_user_ResizeWindow_ex:
                    pWin->win_x:",pWin->win_x);
  3375                        	.line	400
  3376 04:0CB5: A0 08 00     	ldy	#$8
  3377 04:0CB8: B7 09        	lda	[<L121+pWin_1],Y
  3378 04:0CBA: 48           	pha
  3379 04:0CBB: F4 xx xx     	pea	#^L119+32
  3380 04:0CBE: F4 xx xx     	pea	#<L119+32
  3381 04:0CC1: 22 xx xx xx  	jsl	~~k_debug_integer
  3382                        ;		k_debug_integer("k_user_ResizeWindow_ex:
                    pWin->win_y:",pWin->win_y);
  3383                        	.line	401
  3384 04:0CC5: A0 0A 00     	ldy	#$a
  3385 04:0CC8: B7 09        	lda	[<L121+pWin_1],Y
  3386 04:0CCA: 48           	pha
  3387 04:0CCB: F4 xx xx     	pea	#^L119+68
  3388 04:0CCE: F4 xx xx     	pea	#<L119+68
  3389 04:0CD1: 22 xx xx xx  	jsl	~~k_debug_integer
  3390                        ;		k_debug_integer("k_user_ResizeWindow_ex:
                    x:",x);
  3391                        	.line	402
  3392 04:0CD5: D4 1C        	pei	<L120+x_0
  3393 04:0CD7: F4 xx xx     	pea	#^L119+104
  3394 04:0CDA: F4 xx xx     	pea	#<L119+104
  3395 04:0CDD: 22 xx xx xx  	jsl	~~k_debug_integer
  3396                        ;		k_debug_integer("k_user_ResizeWindow_ex:
                    y:",y);
  3397                        	.line	403
  3398 04:0CE1: D4 1E        	pei	<L120+y_0
  3399 04:0CE3: F4 xx xx     	pea	#^L119+130
  3400 04:0CE6: F4 xx xx     	pea	#<L119+130
  3401 04:0CE9: 22 xx xx xx  	jsl	~~k_debug_integer
  3402                        ;
  3403                        ;
  3404                        ;		k_debug_rect(pWin->win_title,&pWin->clie
                    ntRect);
  3405                        	.line	406
  Mon Dec  7 2020 11:19                                                Page 68


  3406 04:0CED: 18           	clc
  3407 04:0CEE: A9 18 00     	lda	#$18
  3408 04:0CF1: 65 09        	adc	<L121+pWin_1
  3409 04:0CF3: 85 01        	sta	<R0
  3410 04:0CF5: A9 00 00     	lda	#$0
  3411 04:0CF8: 65 0B        	adc	<L121+pWin_1+2
  3412 04:0CFA: 85 03        	sta	<R0+2
  3413 04:0CFC: D4 03        	pei	<R0+2
  3414 04:0CFE: D4 01        	pei	<R0
  3415 04:0D00: 18           	clc
  3416 04:0D01: A9 D4 00     	lda	#$d4
  3417 04:0D04: 65 09        	adc	<L121+pWin_1
  3418 04:0D06: 85 05        	sta	<R1
  3419 04:0D08: A9 00 00     	lda	#$0
  3420 04:0D0B: 65 0B        	adc	<L121+pWin_1+2
  3421 04:0D0D: 85 07        	sta	<R1+2
  3422 04:0D0F: D4 07        	pei	<R1+2
  3423 04:0D11: D4 05        	pei	<R1
  3424 04:0D13: 22 xx xx xx  	jsl	~~k_debug_rect
  3425                        ;
  3426                        ;		if(pParent && (k_getHandleFromWindow(pPa
                    rent)!=k_user_getDesktopWindow()))
  3427                        	.line	408
  3428                        ;		{
  3429 04:0D17: A5 0D        	lda	<L121+pParent_1
  3430 04:0D19: 05 0F        	ora	<L121+pParent_1+2
  3431 04:0D1B: D0 03        	bne	L124
  3432 04:0D1D: 82 9E 00     	brl	L10026
  3433                        L124:
  3434 04:0D20: 22 15 06 04  	jsl	~~k_user_getDesktopWindow
  3435 04:0D24: 85 01        	sta	<R0
  3436 04:0D26: 86 03        	stx	<R0+2
  3437 04:0D28: D4 0F        	pei	<L121+pParent_1+2
  3438 04:0D2A: D4 0D        	pei	<L121+pParent_1
  3439 04:0D2C: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
  3440 04:0D30: 85 05        	sta	<R1
  3441 04:0D32: 86 07        	stx	<R1+2
  3442 04:0D34: A5 05        	lda	<R1
  3443 04:0D36: C5 01        	cmp	<R0
  3444 04:0D38: D0 04        	bne	L125
  3445 04:0D3A: A5 07        	lda	<R1+2
  3446 04:0D3C: C5 03        	cmp	<R0+2
  3447                        L125:
  3448 04:0D3E: D0 03        	bne	L126
  3449 04:0D40: 82 7B 00     	brl	L10026
  3450                        L126:
  3451                        	.line	409
  3452                        ;			k_vdma_fill_rect_ex(pWin->win_x,
                    pWin->win_y,pWin->win_width,pWin->win_height,0,0x01);
  3453                        	.line	410
  3454 04:0D43: F4 01 00     	pea	#<$1
  3455 04:0D46: F4 00 00     	pea	#<$0
  3456 04:0D49: A0 0E 00     	ldy	#$e
  3457 04:0D4C: B7 09        	lda	[<L121+pWin_1],Y
  3458 04:0D4E: 48           	pha
  3459 04:0D4F: A0 0C 00     	ldy	#$c
  3460 04:0D52: B7 09        	lda	[<L121+pWin_1],Y
  3461 04:0D54: 48           	pha
  Mon Dec  7 2020 11:19                                                Page 69


  3462 04:0D55: A0 00 00     	ldy	#$0
  3463 04:0D58: 5A           	phy
  3464 04:0D59: A0 0A 00     	ldy	#$a
  3465 04:0D5C: B7 09        	lda	[<L121+pWin_1],Y
  3466 04:0D5E: 7A           	ply
  3467 04:0D5F: 2A           	rol	A
  3468 04:0D60: 6A           	ror	A
  3469 04:0D61: 10 01        	bpl	L127
  3470 04:0D63: 88           	dey
  3471                        L127:
  3472 04:0D64: 85 01        	sta	<R0
  3473 04:0D66: 84 03        	sty	<R0+2
  3474 04:0D68: D4 03        	pei	<R0+2
  3475 04:0D6A: D4 01        	pei	<R0
  3476 04:0D6C: A0 00 00     	ldy	#$0
  3477 04:0D6F: 5A           	phy
  3478 04:0D70: A0 08 00     	ldy	#$8
  3479 04:0D73: B7 09        	lda	[<L121+pWin_1],Y
  3480 04:0D75: 7A           	ply
  3481 04:0D76: 2A           	rol	A
  3482 04:0D77: 6A           	ror	A
  3483 04:0D78: 10 01        	bpl	L128
  3484 04:0D7A: 88           	dey
  3485                        L128:
  3486 04:0D7B: 85 05        	sta	<R1
  3487 04:0D7D: 84 07        	sty	<R1+2
  3488 04:0D7F: D4 07        	pei	<R1+2
  3489 04:0D81: D4 05        	pei	<R1
  3490 04:0D83: 22 xx xx xx  	jsl	~~k_vdma_fill_rect_ex
  3491                        ;
  3492                        ;			pWin->win_x = pParent->clientRec
                    t.x + x;
  3493                        	.line	412
  3494 04:0D87: 18           	clc
  3495 04:0D88: A0 18 00     	ldy	#$18
  3496 04:0D8B: B7 0D        	lda	[<L121+pParent_1],Y
  3497 04:0D8D: 65 1C        	adc	<L120+x_0
  3498 04:0D8F: A0 08 00     	ldy	#$8
  3499 04:0D92: 97 09        	sta	[<L121+pWin_1],Y
  3500                        ;			pWin->win_y = pParent->clientRec
                    t.y + y;
  3501                        	.line	413
  3502 04:0D94: 18           	clc
  3503 04:0D95: A0 1A 00     	ldy	#$1a
  3504 04:0D98: B7 0D        	lda	[<L121+pParent_1],Y
  3505 04:0D9A: 65 1E        	adc	<L120+y_0
  3506 04:0D9C: A0 0A 00     	ldy	#$a
  3507 04:0D9F: 97 09        	sta	[<L121+pWin_1],Y
  3508                        ;			pWin->clientRect.x 	= pWin->
                    clientRect.x + x;
  3509                        	.line	414
  3510 04:0DA1: 18           	clc
  3511 04:0DA2: A0 18 00     	ldy	#$18
  3512 04:0DA5: B7 09        	lda	[<L121+pWin_1],Y
  3513 04:0DA7: 65 1C        	adc	<L120+x_0
  3514 04:0DA9: A0 18 00     	ldy	#$18
  3515 04:0DAC: 97 09        	sta	[<L121+pWin_1],Y
  3516                        ;			pWin->clientRect.y 	= pWin->
  Mon Dec  7 2020 11:19                                                Page 70


                    clientRect.y + y;
  3517                        	.line	415
  3518 04:0DAE: 18           	clc
  3519 04:0DAF: A0 1A 00     	ldy	#$1a
  3520 04:0DB2: B7 09        	lda	[<L121+pWin_1],Y
  3521 04:0DB4: 65 1E        	adc	<L120+y_0
  3522 04:0DB6: A0 1A 00     	ldy	#$1a
  3523 04:0DB9: 97 09        	sta	[<L121+pWin_1],Y
  3524                        ;
  3525                        ;		}
  3526                        	.line	417
  3527                        ;		else
  3528 04:0DBB: 82 FB 00     	brl	L10027
  3529                        L10026:
  3530                        ;		{
  3531                        	.line	419
  3532                        ;			dx = (pWin->win_width  - pWin->c
                    lientRect.width)/2 ;
  3533                        	.line	420
  3534 04:0DBE: 38           	sec
  3535 04:0DBF: A0 0C 00     	ldy	#$c
  3536 04:0DC2: B7 09        	lda	[<L121+pWin_1],Y
  3537 04:0DC4: A0 1C 00     	ldy	#$1c
  3538 04:0DC7: F7 09        	sbc	[<L121+pWin_1],Y
  3539 04:0DC9: 85 01        	sta	<R0
  3540 04:0DCB: A5 01        	lda	<R0
  3541 04:0DCD: A2 02 00     	ldx	#<$2
  3542                        	xref	~~~div
  3543 04:0DD0: 22 xx xx xx  	jsl	~~~div
  3544 04:0DD4: 85 11        	sta	<L121+dx_1
  3545                        ;			dy = (pWin->clientRect.y - pWin-
                    >win_y);
  3546                        	.line	421
  3547 04:0DD6: 38           	sec
  3548 04:0DD7: A0 1A 00     	ldy	#$1a
  3549 04:0DDA: B7 09        	lda	[<L121+pWin_1],Y
  3550 04:0DDC: A0 0A 00     	ldy	#$a
  3551 04:0DDF: F7 09        	sbc	[<L121+pWin_1],Y
  3552 04:0DE1: 85 13        	sta	<L121+dy_1
  3553                        ;
  3554                        ;			k_debug_integer("k_user_ResizeWi
                    ndow_ex:dx:",dx);
  3555                        	.line	423
  3556 04:0DE3: D4 11        	pei	<L121+dx_1
  3557 04:0DE5: F4 xx xx     	pea	#^L119+156
  3558 04:0DE8: F4 xx xx     	pea	#<L119+156
  3559 04:0DEB: 22 xx xx xx  	jsl	~~k_debug_integer
  3560                        ;			k_debug_integer("k_user_ResizeWi
                    ndow_ex:dy:",dy);
  3561                        	.line	424
  3562 04:0DEF: D4 13        	pei	<L121+dy_1
  3563 04:0DF1: F4 xx xx     	pea	#^L119+183
  3564 04:0DF4: F4 xx xx     	pea	#<L119+183
  3565 04:0DF7: 22 xx xx xx  	jsl	~~k_debug_integer
  3566                        ;
  3567                        ;			pWin->win_width  = x - pWin->win
                    _x;
  3568                        	.line	426
  Mon Dec  7 2020 11:19                                                Page 71


  3569 04:0DFB: 38           	sec
  3570 04:0DFC: A5 1C        	lda	<L120+x_0
  3571 04:0DFE: A0 08 00     	ldy	#$8
  3572 04:0E01: F7 09        	sbc	[<L121+pWin_1],Y
  3573 04:0E03: A0 0C 00     	ldy	#$c
  3574 04:0E06: 97 09        	sta	[<L121+pWin_1],Y
  3575                        ;			pWin->win_height = y - pWin->win
                    _y;
  3576                        	.line	427
  3577 04:0E08: 38           	sec
  3578 04:0E09: A5 1E        	lda	<L120+y_0
  3579 04:0E0B: A0 0A 00     	ldy	#$a
  3580 04:0E0E: F7 09        	sbc	[<L121+pWin_1],Y
  3581 04:0E10: A0 0E 00     	ldy	#$e
  3582 04:0E13: 97 09        	sta	[<L121+pWin_1],Y
  3583                        ;
  3584                        ;			pWin->clientRect.width 	= pWin->
                    win_width  - dx;
  3585                        	.line	429
  3586 04:0E15: 38           	sec
  3587 04:0E16: A0 0C 00     	ldy	#$c
  3588 04:0E19: B7 09        	lda	[<L121+pWin_1],Y
  3589 04:0E1B: E5 11        	sbc	<L121+dx_1
  3590 04:0E1D: A0 1C 00     	ldy	#$1c
  3591 04:0E20: 97 09        	sta	[<L121+pWin_1],Y
  3592                        ;			pWin->clientRect.height	= pWin->
                    win_height - dy;
  3593                        	.line	430
  3594 04:0E22: 38           	sec
  3595 04:0E23: A0 0E 00     	ldy	#$e
  3596 04:0E26: B7 09        	lda	[<L121+pWin_1],Y
  3597 04:0E28: E5 13        	sbc	<L121+dy_1
  3598 04:0E2A: A0 1E 00     	ldy	#$1e
  3599 04:0E2D: 97 09        	sta	[<L121+pWin_1],Y
  3600                        ;
  3601                        ;			k_vdma_fill_rect_ex(pWin->win_x,
                    pWin->win_y,pWin->win_width,pWin->win_height,FILLCOLOR_TRANS
                    PARENT,BITMAP_FRONT);
  3602                        	.line	432
  3603 04:0E2F: F4 00 00     	pea	#<$0
  3604 04:0E32: F4 00 00     	pea	#<$0
  3605 04:0E35: A0 0E 00     	ldy	#$e
  3606 04:0E38: B7 09        	lda	[<L121+pWin_1],Y
  3607 04:0E3A: 48           	pha
  3608 04:0E3B: A0 0C 00     	ldy	#$c
  3609 04:0E3E: B7 09        	lda	[<L121+pWin_1],Y
  3610 04:0E40: 48           	pha
  3611 04:0E41: A0 00 00     	ldy	#$0
  3612 04:0E44: 5A           	phy
  3613 04:0E45: A0 0A 00     	ldy	#$a
  3614 04:0E48: B7 09        	lda	[<L121+pWin_1],Y
  3615 04:0E4A: 7A           	ply
  3616 04:0E4B: 2A           	rol	A
  3617 04:0E4C: 6A           	ror	A
  3618 04:0E4D: 10 01        	bpl	L129
  3619 04:0E4F: 88           	dey
  3620                        L129:
  3621 04:0E50: 85 01        	sta	<R0
  Mon Dec  7 2020 11:19                                                Page 72


  3622 04:0E52: 84 03        	sty	<R0+2
  3623 04:0E54: D4 03        	pei	<R0+2
  3624 04:0E56: D4 01        	pei	<R0
  3625 04:0E58: A0 00 00     	ldy	#$0
  3626 04:0E5B: 5A           	phy
  3627 04:0E5C: A0 08 00     	ldy	#$8
  3628 04:0E5F: B7 09        	lda	[<L121+pWin_1],Y
  3629 04:0E61: 7A           	ply
  3630 04:0E62: 2A           	rol	A
  3631 04:0E63: 6A           	ror	A
  3632 04:0E64: 10 01        	bpl	L130
  3633 04:0E66: 88           	dey
  3634                        L130:
  3635 04:0E67: 85 05        	sta	<R1
  3636 04:0E69: 84 07        	sty	<R1+2
  3637 04:0E6B: D4 07        	pei	<R1+2
  3638 04:0E6D: D4 05        	pei	<R1
  3639 04:0E6F: 22 xx xx xx  	jsl	~~k_vdma_fill_rect_ex
  3640                        ;			k_vdma_fill_rect_ex(pWin->win_x,
                    pWin->win_y,pWin->win_width,pWin->win_height,k_getUIBackgrou
                    ndColor(),BITMAP_BACK);
  3641                        	.line	433
  3642 04:0E73: F4 10 00     	pea	#<$10
  3643 04:0E76: 22 xx xx xx  	jsl	~~k_getUIBackgroundColor
  3644 04:0E7A: 48           	pha
  3645 04:0E7B: A0 0E 00     	ldy	#$e
  3646 04:0E7E: B7 09        	lda	[<L121+pWin_1],Y
  3647 04:0E80: 48           	pha
  3648 04:0E81: A0 0C 00     	ldy	#$c
  3649 04:0E84: B7 09        	lda	[<L121+pWin_1],Y
  3650 04:0E86: 48           	pha
  3651 04:0E87: A0 00 00     	ldy	#$0
  3652 04:0E8A: 5A           	phy
  3653 04:0E8B: A0 0A 00     	ldy	#$a
  3654 04:0E8E: B7 09        	lda	[<L121+pWin_1],Y
  3655 04:0E90: 7A           	ply
  3656 04:0E91: 2A           	rol	A
  3657 04:0E92: 6A           	ror	A
  3658 04:0E93: 10 01        	bpl	L131
  3659 04:0E95: 88           	dey
  3660                        L131:
  3661 04:0E96: 85 01        	sta	<R0
  3662 04:0E98: 84 03        	sty	<R0+2
  3663 04:0E9A: D4 03        	pei	<R0+2
  3664 04:0E9C: D4 01        	pei	<R0
  3665 04:0E9E: A0 00 00     	ldy	#$0
  3666 04:0EA1: 5A           	phy
  3667 04:0EA2: A0 08 00     	ldy	#$8
  3668 04:0EA5: B7 09        	lda	[<L121+pWin_1],Y
  3669 04:0EA7: 7A           	ply
  3670 04:0EA8: 2A           	rol	A
  3671 04:0EA9: 6A           	ror	A
  3672 04:0EAA: 10 01        	bpl	L132
  3673 04:0EAC: 88           	dey
  3674                        L132:
  3675 04:0EAD: 85 05        	sta	<R1
  3676 04:0EAF: 84 07        	sty	<R1+2
  3677 04:0EB1: D4 07        	pei	<R1+2
  Mon Dec  7 2020 11:19                                                Page 73


  3678 04:0EB3: D4 05        	pei	<R1
  3679 04:0EB5: 22 xx xx xx  	jsl	~~k_vdma_fill_rect_ex
  3680                        ;
  3681                        ;
  3682                        ;		}
  3683                        	.line	436
  3684                        L10027:
  3685                        ;
  3686                        ;		((PCLICKABLE)pWin->clickable)->area.widt
                    h   = pWin->win_width;
  3687                        	.line	438
  3688 04:0EB9: A0 D0 00     	ldy	#$d0
  3689 04:0EBC: B7 09        	lda	[<L121+pWin_1],Y
  3690 04:0EBE: 85 01        	sta	<R0
  3691 04:0EC0: A0 D2 00     	ldy	#$d2
  3692 04:0EC3: B7 09        	lda	[<L121+pWin_1],Y
  3693 04:0EC5: 85 03        	sta	<R0+2
  3694 04:0EC7: A0 0C 00     	ldy	#$c
  3695 04:0ECA: B7 09        	lda	[<L121+pWin_1],Y
  3696 04:0ECC: A0 04 00     	ldy	#$4
  3697 04:0ECF: 97 01        	sta	[<R0],Y
  3698                        ;		((PCLICKABLE)pWin->clickable)->area.heig
                    ht	= pWin->win_height;
  3699                        	.line	439
  3700 04:0ED1: A0 D0 00     	ldy	#$d0
  3701 04:0ED4: B7 09        	lda	[<L121+pWin_1],Y
  3702 04:0ED6: 85 01        	sta	<R0
  3703 04:0ED8: A0 D2 00     	ldy	#$d2
  3704 04:0EDB: B7 09        	lda	[<L121+pWin_1],Y
  3705 04:0EDD: 85 03        	sta	<R0+2
  3706 04:0EDF: A0 0E 00     	ldy	#$e
  3707 04:0EE2: B7 09        	lda	[<L121+pWin_1],Y
  3708 04:0EE4: A0 06 00     	ldy	#$6
  3709 04:0EE7: 97 01        	sta	[<R0],Y
  3710                        ;
  3711                        ;		k_send_window_message(hWnd,FX_DRAW_NONCL
                    IENT,NULL,0);
  3712                        	.line	441
  3713 04:0EE9: F4 00 00     	pea	#<$0
  3714 04:0EEC: F4 00 00     	pea	#^$0
  3715 04:0EEF: F4 00 00     	pea	#<$0
  3716 04:0EF2: F4 01 FB     	pea	#<$fb01
  3717 04:0EF5: D4 1A        	pei	<L120+hWnd_0+2
  3718 04:0EF7: D4 18        	pei	<L120+hWnd_0
  3719 04:0EF9: 22 xx xx xx  	jsl	~~k_send_window_message
  3720                        ;		k_send_window_message(hWnd,FX_DRAW_WINDO
                    W,NULL,0);
  3721                        	.line	442
  3722 04:0EFD: F4 00 00     	pea	#<$0
  3723 04:0F00: F4 00 00     	pea	#^$0
  3724 04:0F03: F4 00 00     	pea	#<$0
  3725 04:0F06: F4 00 FB     	pea	#<$fb00
  3726 04:0F09: D4 1A        	pei	<L120+hWnd_0+2
  3727 04:0F0B: D4 18        	pei	<L120+hWnd_0
  3728 04:0F0D: 22 xx xx xx  	jsl	~~k_send_window_message
  3729                        ;	}
  3730                        	.line	443
  3731                        ;
  Mon Dec  7 2020 11:19                                                Page 74


  3732                        ;}
  3733                        L10025:
  3734                        	.line	445
  3735                        L133:
  3736 04:0F11: A5 16        	lda	<L120+2
  3737 04:0F13: 85 1E        	sta	<L120+2+8
  3738 04:0F15: A5 15        	lda	<L120+1
  3739 04:0F17: 85 1D        	sta	<L120+1+8
  3740 04:0F19: 2B           	pld
  3741 04:0F1A: 3B           	tsc
  3742 04:0F1B: 18           	clc
  3743 04:0F1C: 69 1C 00     	adc	#L120+8
  3744 04:0F1F: 1B           	tcs
  3745 04:0F20: 6B           	rtl
  3746                        	.endblock	445
  3747             00000014   L120	equ	20
  3748             00000009   L121	equ	9
  3749 04:0F21:              	ends
  3750                        	efunc
  3751                        	.endfunc	445,9,20
  3752                        	.line	445
  3753                        	data
  3754                        L119:
  3755 00:03BC: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$52,$65,$73,
                    $69,$7A,$65,$57,$69
       00:03C0: 65 72 5F 52 
       00:03C4: 65 73 69 7A 
       00:03C8: 65 57 69 
  3756 00:03CB: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$5F,$65,$78,$3A,$70,$50,
                    $61,$72,$65,$6E,$74
       00:03CF: 5F 65 78 3A 
       00:03D3: 70 50 61 72 
       00:03D7: 65 6E 74 
  3757 00:03DA: 3A 00 6B 5F  	db	$3A,$00,$6B,$5F,$75,$73,$65,$72,$5F,$52,
                    $65,$73,$69,$7A,$65
       00:03DE: 75 73 65 72 
       00:03E2: 5F 52 65 73 
       00:03E6: 69 7A 65 
  3758 00:03E9: 57 69 6E 64  	db	$57,$69,$6E,$64,$6F,$77,$5F,$65,$78,$3A,
                    $70,$57,$69,$6E,$2D
       00:03ED: 6F 77 5F 65 
       00:03F1: 78 3A 70 57 
       00:03F5: 69 6E 2D 
  3759 00:03F8: 3E 77 69 6E  	db	$3E,$77,$69,$6E,$5F,$78,$3A,$00,$6B,$5F,
                    $75,$73,$65,$72,$5F
       00:03FC: 5F 78 3A 00 
       00:0400: 6B 5F 75 73 
       00:0404: 65 72 5F 
  3760 00:0407: 52 65 73 69  	db	$52,$65,$73,$69,$7A,$65,$57,$69,$6E,$64,
                    $6F,$77,$5F,$65,$78
       00:040B: 7A 65 57 69 
       00:040F: 6E 64 6F 77 
       00:0413: 5F 65 78 
  3761 00:0416: 3A 70 57 69  	db	$3A,$70,$57,$69,$6E,$2D,$3E,$77,$69,$6E,
                    $5F,$79,$3A,$00,$6B
       00:041A: 6E 2D 3E 77 
       00:041E: 69 6E 5F 79 
       00:0422: 3A 00 6B 
  Mon Dec  7 2020 11:19                                                Page 75


  3762 00:0425: 5F 75 73 65  	db	$5F,$75,$73,$65,$72,$5F,$52,$65,$73,$69,
                    $7A,$65,$57,$69,$6E
       00:0429: 72 5F 52 65 
       00:042D: 73 69 7A 65 
       00:0431: 57 69 6E 
  3763 00:0434: 64 6F 77 5F  	db	$64,$6F,$77,$5F,$65,$78,$3A,$78,$3A,$00,
                    $6B,$5F,$75,$73,$65
       00:0438: 65 78 3A 78 
       00:043C: 3A 00 6B 5F 
       00:0440: 75 73 65 
  3764 00:0443: 72 5F 52 65  	db	$72,$5F,$52,$65,$73,$69,$7A,$65,$57,$69,
                    $6E,$64,$6F,$77,$5F
       00:0447: 73 69 7A 65 
       00:044B: 57 69 6E 64 
       00:044F: 6F 77 5F 
  3765 00:0452: 65 78 3A 79  	db	$65,$78,$3A,$79,$3A,$00,$6B,$5F,$75,$73,
                    $65,$72,$5F,$52,$65
       00:0456: 3A 00 6B 5F 
       00:045A: 75 73 65 72 
       00:045E: 5F 52 65 
  3766 00:0461: 73 69 7A 65  	db	$73,$69,$7A,$65,$57,$69,$6E,$64,$6F,$77,
                    $5F,$65,$78,$3A,$64
       00:0465: 57 69 6E 64 
       00:0469: 6F 77 5F 65 
       00:046D: 78 3A 64 
  3767 00:0470: 78 3A 00 6B  	db	$78,$3A,$00,$6B,$5F,$75,$73,$65,$72,$5F,
                    $52,$65,$73,$69,$7A
       00:0474: 5F 75 73 65 
       00:0478: 72 5F 52 65 
       00:047C: 73 69 7A 
  3768 00:047F: 65 57 69 6E  	db	$65,$57,$69,$6E,$64,$6F,$77,$5F,$65,$78,
                    $3A,$64,$79,$3A,$00
       00:0483: 64 6F 77 5F 
       00:0487: 65 78 3A 64 
       00:048B: 79 3A 00 
  3769 00:048E:              	ends
  3770                        ;
  3771                        ;
  3772                        ;PFXNODELIST k_getWindowManagerList(void)
  3773                        ;{
  3774                        	.line	448
  3775                        	.line	449
  3776                        	WINMAN
  3777                        	xdef	~~k_getWindowManagerList
  3778                        	func
  3779                        	.function	449
  3780                        ~~k_getWindowManagerList:
  3781                        	longa	on
  3782                        	longi	on
  3783 04:0F21: 3B           	tsc
  3784 04:0F22: 38           	sec
  3785 04:0F23: E9 00 00     	sbc	#L135
  3786 04:0F26: 1B           	tcs
  3787 04:0F27: 0B           	phd
  3788 04:0F28: 5B           	tcd
  3789                        	.block	449
  3790                        ;	return _k_windowManager_WindowObjectList;
  3791                        	.line	450
  Mon Dec  7 2020 11:19                                                Page 76


  3792 04:0F29: AE xx xx     	ldx	|~~_k_windowManager_WindowObjectList+2
  3793 04:0F2C: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
  3794                        L138:
  3795 04:0F2F: A8           	tay
  3796 04:0F30: 2B           	pld
  3797 04:0F31: 3B           	tsc
  3798 04:0F32: 18           	clc
  3799 04:0F33: 69 00 00     	adc	#L135
  3800 04:0F36: 1B           	tcs
  3801 04:0F37: 98           	tya
  3802 04:0F38: 6B           	rtl
  3803                        ;}
  3804                        	.line	451
  3805                        	.endblock	451
  3806             00000000   L135	equ	0
  3807             00000001   L136	equ	1
  3808 04:0F39:              	ends
  3809                        	efunc
  3810                        	.endfunc	451,1,0
  3811                        	.line	451
  3812                        ;
  3813                        ;PFXNODELIST	k_getWindowManagerClassList(void
                    )
  3814                        ;{
  3815                        	.line	453
  3816                        	.line	454
  3817                        	WINMAN
  3818                        	xdef	~~k_getWindowManagerClassList
  3819                        	func
  3820                        	.function	454
  3821                        ~~k_getWindowManagerClassList:
  3822                        	longa	on
  3823                        	longi	on
  3824 04:0F39: 3B           	tsc
  3825 04:0F3A: 38           	sec
  3826 04:0F3B: E9 00 00     	sbc	#L139
  3827 04:0F3E: 1B           	tcs
  3828 04:0F3F: 0B           	phd
  3829 04:0F40: 5B           	tcd
  3830                        	.block	454
  3831                        ;	return _k_windowManager_WindowClassList;
  3832                        	.line	455
  3833 04:0F41: AE xx xx     	ldx	|~~_k_windowManager_WindowClassList+2
  3834 04:0F44: AD xx xx     	lda	|~~_k_windowManager_WindowClassList
  3835                        L142:
  3836 04:0F47: A8           	tay
  3837 04:0F48: 2B           	pld
  3838 04:0F49: 3B           	tsc
  3839 04:0F4A: 18           	clc
  3840 04:0F4B: 69 00 00     	adc	#L139
  3841 04:0F4E: 1B           	tcs
  3842 04:0F4F: 98           	tya
  3843 04:0F50: 6B           	rtl
  3844                        ;}
  3845                        	.line	456
  3846                        	.endblock	456
  3847             00000000   L139	equ	0
  3848             00000001   L140	equ	1
  Mon Dec  7 2020 11:19                                                Page 77


  3849 04:0F51:              	ends
  3850                        	efunc
  3851                        	.endfunc	456,1,0
  3852                        	.line	456
  3853                        ;
  3854                        ;PFXNODELIST	k_getWindowManagerHitList(void)
  3855                        ;{
  3856                        	.line	458
  3857                        	.line	459
  3858                        	WINMAN
  3859                        	xdef	~~k_getWindowManagerHitList
  3860                        	func
  3861                        	.function	459
  3862                        ~~k_getWindowManagerHitList:
  3863                        	longa	on
  3864                        	longi	on
  3865 04:0F51: 3B           	tsc
  3866 04:0F52: 38           	sec
  3867 04:0F53: E9 00 00     	sbc	#L143
  3868 04:0F56: 1B           	tcs
  3869 04:0F57: 0B           	phd
  3870 04:0F58: 5B           	tcd
  3871                        	.block	459
  3872                        ;	return _k_windowManager_ObjectHitList;
  3873                        	.line	460
  3874 04:0F59: AE xx xx     	ldx	|~~_k_windowManager_ObjectHitList+2
  3875 04:0F5C: AD xx xx     	lda	|~~_k_windowManager_ObjectHitList
  3876                        L146:
  3877 04:0F5F: A8           	tay
  3878 04:0F60: 2B           	pld
  3879 04:0F61: 3B           	tsc
  3880 04:0F62: 18           	clc
  3881 04:0F63: 69 00 00     	adc	#L143
  3882 04:0F66: 1B           	tcs
  3883 04:0F67: 98           	tya
  3884 04:0F68: 6B           	rtl
  3885                        ;}
  3886                        	.line	461
  3887                        	.endblock	461
  3888             00000000   L143	equ	0
  3889             00000001   L144	equ	1
  3890 04:0F69:              	ends
  3891                        	efunc
  3892                        	.endfunc	461,1,0
  3893                        	.line	461
  3894                        ;
  3895                        ;PFXNODE k_getWindowList(void)
  3896                        ;{
  3897                        	.line	463
  3898                        	.line	464
  3899                        	WINMAN
  3900                        	xdef	~~k_getWindowList
  3901                        	func
  3902                        	.function	464
  3903                        ~~k_getWindowList:
  3904                        	longa	on
  3905                        	longi	on
  3906 04:0F69: 3B           	tsc
  Mon Dec  7 2020 11:19                                                Page 78


  3907 04:0F6A: 38           	sec
  3908 04:0F6B: E9 04 00     	sbc	#L147
  3909 04:0F6E: 1B           	tcs
  3910 04:0F6F: 0B           	phd
  3911 04:0F70: 5B           	tcd
  3912                        	.block	464
  3913                        ;	return k_nodelist_getfirstnode(_k_windowManager_
                    WindowObjectList);
  3914                        	.line	465
  3915 04:0F71: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
  3916 04:0F74: 48           	pha
  3917 04:0F75: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
  3918 04:0F78: 48           	pha
  3919 04:0F79: 22 xx xx xx  	jsl	~~k_nodelist_getfirstnode
  3920 04:0F7D: 85 01        	sta	<R0
  3921 04:0F7F: 86 03        	stx	<R0+2
  3922 04:0F81: A6 03        	ldx	<R0+2
  3923 04:0F83: A5 01        	lda	<R0
  3924                        L150:
  3925 04:0F85: A8           	tay
  3926 04:0F86: 2B           	pld
  3927 04:0F87: 3B           	tsc
  3928 04:0F88: 18           	clc
  3929 04:0F89: 69 04 00     	adc	#L147
  3930 04:0F8C: 1B           	tcs
  3931 04:0F8D: 98           	tya
  3932 04:0F8E: 6B           	rtl
  3933                        ;}
  3934                        	.line	466
  3935                        	.endblock	466
  3936             00000004   L147	equ	4
  3937             00000005   L148	equ	5
  3938 04:0F8F:              	ends
  3939                        	efunc
  3940                        	.endfunc	466,5,4
  3941                        	.line	466
  3942                        ;
  3943                        ;PFXNODE	k_getWindowClassList(void)
  3944                        ;{
  3945                        	.line	468
  3946                        	.line	469
  3947                        	WINMAN
  3948                        	xdef	~~k_getWindowClassList
  3949                        	func
  3950                        	.function	469
  3951                        ~~k_getWindowClassList:
  3952                        	longa	on
  3953                        	longi	on
  3954 04:0F8F: 3B           	tsc
  3955 04:0F90: 38           	sec
  3956 04:0F91: E9 04 00     	sbc	#L151
  3957 04:0F94: 1B           	tcs
  3958 04:0F95: 0B           	phd
  3959 04:0F96: 5B           	tcd
  3960                        	.block	469
  3961                        ;	return  k_nodelist_getfirstnode(_k_windowManager
                    _WindowClassList);
  3962                        	.line	470
  Mon Dec  7 2020 11:19                                                Page 79


  3963 04:0F97: AD xx xx     	lda	|~~_k_windowManager_WindowClassList+2
  3964 04:0F9A: 48           	pha
  3965 04:0F9B: AD xx xx     	lda	|~~_k_windowManager_WindowClassList
  3966 04:0F9E: 48           	pha
  3967 04:0F9F: 22 xx xx xx  	jsl	~~k_nodelist_getfirstnode
  3968 04:0FA3: 85 01        	sta	<R0
  3969 04:0FA5: 86 03        	stx	<R0+2
  3970 04:0FA7: A6 03        	ldx	<R0+2
  3971 04:0FA9: A5 01        	lda	<R0
  3972                        L154:
  3973 04:0FAB: A8           	tay
  3974 04:0FAC: 2B           	pld
  3975 04:0FAD: 3B           	tsc
  3976 04:0FAE: 18           	clc
  3977 04:0FAF: 69 04 00     	adc	#L151
  3978 04:0FB2: 1B           	tcs
  3979 04:0FB3: 98           	tya
  3980 04:0FB4: 6B           	rtl
  3981                        ;}
  3982                        	.line	471
  3983                        	.endblock	471
  3984             00000004   L151	equ	4
  3985             00000005   L152	equ	5
  3986 04:0FB5:              	ends
  3987                        	efunc
  3988                        	.endfunc	471,5,4
  3989                        	.line	471
  3990                        ;
  3991                        ;PFXNODE	k_getWindowHitList(void)
  3992                        ;{
  3993                        	.line	473
  3994                        	.line	474
  3995                        	WINMAN
  3996                        	xdef	~~k_getWindowHitList
  3997                        	func
  3998                        	.function	474
  3999                        ~~k_getWindowHitList:
  4000                        	longa	on
  4001                        	longi	on
  4002 04:0FB5: 3B           	tsc
  4003 04:0FB6: 38           	sec
  4004 04:0FB7: E9 04 00     	sbc	#L155
  4005 04:0FBA: 1B           	tcs
  4006 04:0FBB: 0B           	phd
  4007 04:0FBC: 5B           	tcd
  4008                        	.block	474
  4009                        ;	return  k_nodelist_getfirstnode(_k_windowManager
                    _ObjectHitList);
  4010                        	.line	475
  4011 04:0FBD: AD xx xx     	lda	|~~_k_windowManager_ObjectHitList+2
  4012 04:0FC0: 48           	pha
  4013 04:0FC1: AD xx xx     	lda	|~~_k_windowManager_ObjectHitList
  4014 04:0FC4: 48           	pha
  4015 04:0FC5: 22 xx xx xx  	jsl	~~k_nodelist_getfirstnode
  4016 04:0FC9: 85 01        	sta	<R0
  4017 04:0FCB: 86 03        	stx	<R0+2
  4018 04:0FCD: A6 03        	ldx	<R0+2
  4019 04:0FCF: A5 01        	lda	<R0
  Mon Dec  7 2020 11:19                                                Page 80


  4020                        L158:
  4021 04:0FD1: A8           	tay
  4022 04:0FD2: 2B           	pld
  4023 04:0FD3: 3B           	tsc
  4024 04:0FD4: 18           	clc
  4025 04:0FD5: 69 04 00     	adc	#L155
  4026 04:0FD8: 1B           	tcs
  4027 04:0FD9: 98           	tya
  4028 04:0FDA: 6B           	rtl
  4029                        ;}
  4030                        	.line	476
  4031                        	.endblock	476
  4032             00000004   L155	equ	4
  4033             00000005   L156	equ	5
  4034 04:0FDB:              	ends
  4035                        	efunc
  4036                        	.endfunc	476,5,4
  4037                        	.line	476
  4038                        ;
  4039                        ;
  4040                        ;HWND k_getHandleFromWindow(PWINDOW pWin)
  4041                        ;{
  4042                        	.line	479
  4043                        	.line	480
  4044                        	WINMAN
  4045                        	xdef	~~k_getHandleFromWindow
  4046                        	func
  4047                        	.function	480
  4048                        ~~k_getHandleFromWindow:
  4049                        	longa	on
  4050                        	longi	on
  4051 04:0FDB: 3B           	tsc
  4052 04:0FDC: 38           	sec
  4053 04:0FDD: E9 00 00     	sbc	#L159
  4054 04:0FE0: 1B           	tcs
  4055 04:0FE1: 0B           	phd
  4056 04:0FE2: 5B           	tcd
  4057             00000004   pWin_0	set	4
  4058                        	.block	480
  4059                        ;	return (HWND)pWin;
  4060                        	.sym	pWin,4,138,6,32,27
  4061                        	.line	481
  4062 04:0FE3: A6 06        	ldx	<L159+pWin_0+2
  4063 04:0FE5: A5 04        	lda	<L159+pWin_0
  4064                        L162:
  4065 04:0FE7: A8           	tay
  4066 04:0FE8: A5 02        	lda	<L159+2
  4067 04:0FEA: 85 06        	sta	<L159+2+4
  4068 04:0FEC: A5 01        	lda	<L159+1
  4069 04:0FEE: 85 05        	sta	<L159+1+4
  4070 04:0FF0: 2B           	pld
  4071 04:0FF1: 3B           	tsc
  4072 04:0FF2: 18           	clc
  4073 04:0FF3: 69 04 00     	adc	#L159+4
  4074 04:0FF6: 1B           	tcs
  4075 04:0FF7: 98           	tya
  4076 04:0FF8: 6B           	rtl
  4077                        ;}
  Mon Dec  7 2020 11:19                                                Page 81


  4078                        	.line	482
  4079                        	.endblock	482
  4080             00000000   L159	equ	0
  4081             00000001   L160	equ	1
  4082 04:0FF9:              	ends
  4083                        	efunc
  4084                        	.endfunc	482,1,0
  4085                        	.line	482
  4086                        ;
  4087                        ;
  4088                        ;PWINDOW k_getWindowFromHandle(HWND hWnd)
  4089                        ;{
  4090                        	.line	485
  4091                        	.line	486
  4092                        	WINMAN
  4093                        	xdef	~~k_getWindowFromHandle
  4094                        	func
  4095                        	.function	486
  4096                        ~~k_getWindowFromHandle:
  4097                        	longa	on
  4098                        	longi	on
  4099 04:0FF9: 3B           	tsc
  4100 04:0FFA: 38           	sec
  4101 04:0FFB: E9 00 00     	sbc	#L163
  4102 04:0FFE: 1B           	tcs
  4103 04:0FFF: 0B           	phd
  4104 04:1000: 5B           	tcd
  4105             00000004   hWnd_0	set	4
  4106                        	.block	486
  4107                        ;	return (PWINDOW)hWnd;
  4108                        	.sym	hWnd,4,129,6,32
  4109                        	.line	487
  4110 04:1001: A6 06        	ldx	<L163+hWnd_0+2
  4111 04:1003: A5 04        	lda	<L163+hWnd_0
  4112                        L166:
  4113 04:1005: A8           	tay
  4114 04:1006: A5 02        	lda	<L163+2
  4115 04:1008: 85 06        	sta	<L163+2+4
  4116 04:100A: A5 01        	lda	<L163+1
  4117 04:100C: 85 05        	sta	<L163+1+4
  4118 04:100E: 2B           	pld
  4119 04:100F: 3B           	tsc
  4120 04:1010: 18           	clc
  4121 04:1011: 69 04 00     	adc	#L163+4
  4122 04:1014: 1B           	tcs
  4123 04:1015: 98           	tya
  4124 04:1016: 6B           	rtl
  4125                        ;}
  4126                        	.line	488
  4127                        	.endblock	488
  4128             00000000   L163	equ	0
  4129             00000001   L164	equ	1
  4130 04:1017:              	ends
  4131                        	efunc
  4132                        	.endfunc	488,1,0
  4133                        	.line	488
  4134                        ;
  4135                        ;UINT k_getWindowRect(HWND hWnd,PRECT prect)
  Mon Dec  7 2020 11:19                                                Page 82


  4136                        ;{
  4137                        	.line	490
  4138                        	.line	491
  4139                        	WINMAN
  4140                        	xdef	~~k_getWindowRect
  4141                        	func
  4142                        	.function	491
  4143                        ~~k_getWindowRect:
  4144                        	longa	on
  4145                        	longi	on
  4146 04:1017: 3B           	tsc
  4147 04:1018: 38           	sec
  4148 04:1019: E9 00 00     	sbc	#L167
  4149 04:101C: 1B           	tcs
  4150 04:101D: 0B           	phd
  4151 04:101E: 5B           	tcd
  4152             00000004   hWnd_0	set	4
  4153             00000008   prect_0	set	8
  4154                        	.block	491
  4155                        ;	prect->x      = ((PWINDOW)hWnd)->win_x;
  4156                        	.sym	hWnd,4,129,6,32
  4157                        	.sym	prect,8,138,6,32,22
  4158                        	.line	492
  4159 04:101F: A0 08 00     	ldy	#$8
  4160 04:1022: B7 04        	lda	[<L167+hWnd_0],Y
  4161 04:1024: 87 08        	sta	[<L167+prect_0]
  4162                        ;	prect->y      = ((PWINDOW)hWnd)->win_y;
  4163                        	.line	493
  4164 04:1026: A0 0A 00     	ldy	#$a
  4165 04:1029: B7 04        	lda	[<L167+hWnd_0],Y
  4166 04:102B: A0 02 00     	ldy	#$2
  4167 04:102E: 97 08        	sta	[<L167+prect_0],Y
  4168                        ;	prect->height = ((PWINDOW)hWnd)->win_height;
  4169                        	.line	494
  4170 04:1030: A0 0E 00     	ldy	#$e
  4171 04:1033: B7 04        	lda	[<L167+hWnd_0],Y
  4172 04:1035: A0 06 00     	ldy	#$6
  4173 04:1038: 97 08        	sta	[<L167+prect_0],Y
  4174                        ;	prect->width  = ((PWINDOW)hWnd)->win_width;
  4175                        	.line	495
  4176 04:103A: A0 0C 00     	ldy	#$c
  4177 04:103D: B7 04        	lda	[<L167+hWnd_0],Y
  4178 04:103F: A0 04 00     	ldy	#$4
  4179 04:1042: 97 08        	sta	[<L167+prect_0],Y
  4180                        ;
  4181                        ;	return sizeof(RECT);
  4182                        	.line	497
  4183 04:1044: A9 08 00     	lda	#$8
  4184                        L170:
  4185 04:1047: A8           	tay
  4186 04:1048: A5 02        	lda	<L167+2
  4187 04:104A: 85 0A        	sta	<L167+2+8
  4188 04:104C: A5 01        	lda	<L167+1
  4189 04:104E: 85 09        	sta	<L167+1+8
  4190 04:1050: 2B           	pld
  4191 04:1051: 3B           	tsc
  4192 04:1052: 18           	clc
  4193 04:1053: 69 08 00     	adc	#L167+8
  Mon Dec  7 2020 11:19                                                Page 83


  4194 04:1056: 1B           	tcs
  4195 04:1057: 98           	tya
  4196 04:1058: 6B           	rtl
  4197                        ;}
  4198                        	.line	498
  4199                        	.endblock	498
  4200             00000000   L167	equ	0
  4201             00000001   L168	equ	1
  4202 04:1059:              	ends
  4203                        	efunc
  4204                        	.endfunc	498,1,0
  4205                        	.line	498
  4206                        ;
  4207                        ;HPOINTER k_user_RegisterMousePointerClass(LPCSTR 
                    pCursorName,LPCSTR pCursorData)
  4208                        ;{
  4209                        	.line	500
  4210                        	.line	501
  4211                        	WINMAN
  4212                        	xdef	~~k_user_RegisterMousePointerClass
  4213                        	func
  4214                        	.function	501
  4215                        ~~k_user_RegisterMousePointerClass:
  4216                        	longa	on
  4217                        	longi	on
  4218 04:1059: 3B           	tsc
  4219 04:105A: 38           	sec
  4220 04:105B: E9 00 00     	sbc	#L171
  4221 04:105E: 1B           	tcs
  4222 04:105F: 0B           	phd
  4223 04:1060: 5B           	tcd
  4224             00000004   pCursorName_0	set	4
  4225             00000008   pCursorData_0	set	8
  4226                        	.block	501
  4227                        ;	k_nodelist_addtolist(_k_windowManager_CursorList
                    ,NL_TYPE_WINDOW_CURSOR,pCursorName,(LPVOID)pCursorData);
  4228                        	.sym	pCursorName,4,142,6,32
  4229                        	.sym	pCursorData,8,142,6,32
  4230                        	.line	502
  4231 04:1061: D4 0A        	pei	<L171+pCursorData_0+2
  4232 04:1063: D4 08        	pei	<L171+pCursorData_0
  4233 04:1065: D4 06        	pei	<L171+pCursorName_0+2
  4234 04:1067: D4 04        	pei	<L171+pCursorName_0
  4235 04:1069: F4 0A 00     	pea	#<$a
  4236 04:106C: AD xx xx     	lda	|~~_k_windowManager_CursorList+2
  4237 04:106F: 48           	pha
  4238 04:1070: AD xx xx     	lda	|~~_k_windowManager_CursorList
  4239 04:1073: 48           	pha
  4240 04:1074: 22 xx xx xx  	jsl	~~k_nodelist_addtolist
  4241                        ;
  4242                        ;	k_debug_pointer("k_user_MousePointerClass:data:"
                    , (LPVOID)pCursorData);
  4243                        	.line	504
  4244 04:1078: D4 0A        	pei	<L171+pCursorData_0+2
  4245 04:107A: D4 08        	pei	<L171+pCursorData_0
  4246 04:107C: F4 xx xx     	pea	#^L134
  4247 04:107F: F4 xx xx     	pea	#<L134
  4248 04:1082: 22 xx xx xx  	jsl	~~k_debug_pointer
  Mon Dec  7 2020 11:19                                                Page 84


  4249                        ;
  4250                        ;	return (HPOINTER)pCursorData;
  4251                        	.line	506
  4252 04:1086: A6 0A        	ldx	<L171+pCursorData_0+2
  4253 04:1088: A5 08        	lda	<L171+pCursorData_0
  4254                        L174:
  4255 04:108A: A8           	tay
  4256 04:108B: A5 02        	lda	<L171+2
  4257 04:108D: 85 0A        	sta	<L171+2+8
  4258 04:108F: A5 01        	lda	<L171+1
  4259 04:1091: 85 09        	sta	<L171+1+8
  4260 04:1093: 2B           	pld
  4261 04:1094: 3B           	tsc
  4262 04:1095: 18           	clc
  4263 04:1096: 69 08 00     	adc	#L171+8
  4264 04:1099: 1B           	tcs
  4265 04:109A: 98           	tya
  4266 04:109B: 6B           	rtl
  4267                        ;}
  4268                        	.line	507
  4269                        	.endblock	507
  4270             00000000   L171	equ	0
  4271             00000001   L172	equ	1
  4272 04:109C:              	ends
  4273                        	efunc
  4274                        	.endfunc	507,1,0
  4275                        	.line	507
  4276                        	data
  4277                        L134:
  4278 00:048E: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$4D,$6F,$75,
                    $73,$65,$50,$6F,$69
       00:0492: 65 72 5F 4D 
       00:0496: 6F 75 73 65 
       00:049A: 50 6F 69 
  4279 00:049D: 6E 74 65 72  	db	$6E,$74,$65,$72,$43,$6C,$61,$73,$73,$3A,
                    $64,$61,$74,$61,$3A
       00:04A1: 43 6C 61 73 
       00:04A5: 73 3A 64 61 
       00:04A9: 74 61 3A 
  4280 00:04AC: 00           	db	$00
  4281 00:04AD:              	ends
  4282                        ;
  4283                        ;HFONT k_user_RegisterFontClass(LPCSTR pFontName,L
                    PCSTR pFontData)
  4284                        ;{
  4285                        	.line	509
  4286                        	.line	510
  4287                        	WINMAN
  4288                        	xdef	~~k_user_RegisterFontClass
  4289                        	func
  4290                        	.function	510
  4291                        ~~k_user_RegisterFontClass:
  4292                        	longa	on
  4293                        	longi	on
  4294 04:109C: 3B           	tsc
  4295 04:109D: 38           	sec
  4296 04:109E: E9 00 00     	sbc	#L176
  4297 04:10A1: 1B           	tcs
  Mon Dec  7 2020 11:19                                                Page 85


  4298 04:10A2: 0B           	phd
  4299 04:10A3: 5B           	tcd
  4300             00000004   pFontName_0	set	4
  4301             00000008   pFontData_0	set	8
  4302                        	.block	510
  4303                        ;	k_nodelist_addtolist(_k_windowManager_FontList,N
                    L_TYPE_WINDOW_FONT,pFontName,(LPVOID)pFontData);
  4304                        	.sym	pFontName,4,142,6,32
  4305                        	.sym	pFontData,8,142,6,32
  4306                        	.line	511
  4307 04:10A4: D4 0A        	pei	<L176+pFontData_0+2
  4308 04:10A6: D4 08        	pei	<L176+pFontData_0
  4309 04:10A8: D4 06        	pei	<L176+pFontName_0+2
  4310 04:10AA: D4 04        	pei	<L176+pFontName_0
  4311 04:10AC: F4 06 00     	pea	#<$6
  4312 04:10AF: AD xx xx     	lda	|~~_k_windowManager_FontList+2
  4313 04:10B2: 48           	pha
  4314 04:10B3: AD xx xx     	lda	|~~_k_windowManager_FontList
  4315 04:10B6: 48           	pha
  4316 04:10B7: 22 xx xx xx  	jsl	~~k_nodelist_addtolist
  4317                        ;
  4318                        ;	//k_debug_pointer("k_user_RegisterFontClass:data
                    :", (LPVOID)pFontData);
  4319                        ;	//k_debug_integer("k_user_RegisterFontClass:widt
                    h:", pFontData[0]);
  4320                        ;	//k_debug_integer("k_user_RegisterFontClass:heig
                    ht:", pFontData[1]);
  4321                        ;
  4322                        ;
  4323                        ;	return (HFONT)pFontData;
  4324                        	.line	518
  4325 04:10BB: A6 0A        	ldx	<L176+pFontData_0+2
  4326 04:10BD: A5 08        	lda	<L176+pFontData_0
  4327                        L179:
  4328 04:10BF: A8           	tay
  4329 04:10C0: A5 02        	lda	<L176+2
  4330 04:10C2: 85 0A        	sta	<L176+2+8
  4331 04:10C4: A5 01        	lda	<L176+1
  4332 04:10C6: 85 09        	sta	<L176+1+8
  4333 04:10C8: 2B           	pld
  4334 04:10C9: 3B           	tsc
  4335 04:10CA: 18           	clc
  4336 04:10CB: 69 08 00     	adc	#L176+8
  4337 04:10CE: 1B           	tcs
  4338 04:10CF: 98           	tya
  4339 04:10D0: 6B           	rtl
  4340                        ;}
  4341                        	.line	519
  4342                        	.endblock	519
  4343             00000000   L176	equ	0
  4344             00000001   L177	equ	1
  4345 04:10D1:              	ends
  4346                        	efunc
  4347                        	.endfunc	519,1,0
  4348                        	.line	519
  4349                        ;
  4350                        ;HFONT k_user_getFontClass(LPCSTR pFontName)
  4351                        ;{
  Mon Dec  7 2020 11:19                                                Page 86


  4352                        	.line	521
  4353                        	.line	522
  4354                        	WINMAN
  4355                        	xdef	~~k_user_getFontClass
  4356                        	func
  4357                        	.function	522
  4358                        ~~k_user_getFontClass:
  4359                        	longa	on
  4360                        	longi	on
  4361 04:10D1: 3B           	tsc
  4362 04:10D2: 38           	sec
  4363 04:10D3: E9 08 00     	sbc	#L180
  4364 04:10D6: 1B           	tcs
  4365 04:10D7: 0B           	phd
  4366 04:10D8: 5B           	tcd
  4367             00000004   pFontName_0	set	4
  4368                        	.block	522
  4369                        ;	PFXNODE found = NULL;
  4370                        ;	HFONT hFont = NULL;
  4371                        ;
  4372                        ;	//k_debug_strings("k_user_getFontClass:name:", (
                    LPSTR)pFontName);
  4373                        ;
  4374                        ;	found = k_nodelist_searchByName(_k_windowManager
                    _FontList,pFontName);
  4375             00000000   found_1	set	0
  4376             00000004   hFont_1	set	4
  4377                        	.sym	found,0,138,1,32,2
  4378                        	.sym	hFont,4,129,1,32
  4379                        	.sym	pFontName,4,142,6,32
  4380 04:10D9: 64 01        	stz	<L181+found_1
  4381 04:10DB: 64 03        	stz	<L181+found_1+2
  4382 04:10DD: 64 05        	stz	<L181+hFont_1
  4383 04:10DF: 64 07        	stz	<L181+hFont_1+2
  4384                        	.line	528
  4385 04:10E1: D4 0E        	pei	<L180+pFontName_0+2
  4386 04:10E3: D4 0C        	pei	<L180+pFontName_0
  4387 04:10E5: AD xx xx     	lda	|~~_k_windowManager_FontList+2
  4388 04:10E8: 48           	pha
  4389 04:10E9: AD xx xx     	lda	|~~_k_windowManager_FontList
  4390 04:10EC: 48           	pha
  4391 04:10ED: 22 xx xx xx  	jsl	~~k_nodelist_searchByName
  4392 04:10F1: 85 01        	sta	<L181+found_1
  4393 04:10F3: 86 03        	stx	<L181+found_1+2
  4394                        ;	if(found && found->data)
  4395                        	.line	529
  4396                        ;	{
  4397 04:10F5: A5 01        	lda	<L181+found_1
  4398 04:10F7: 05 03        	ora	<L181+found_1+2
  4399 04:10F9: D0 03        	bne	L183
  4400 04:10FB: 82 1D 00     	brl	L10028
  4401                        L183:
  4402 04:10FE: A0 02 00     	ldy	#$2
  4403 04:1101: B7 01        	lda	[<L181+found_1],Y
  4404 04:1103: A0 04 00     	ldy	#$4
  4405 04:1106: 17 01        	ora	[<L181+found_1],Y
  4406 04:1108: D0 03        	bne	L184
  4407 04:110A: 82 0E 00     	brl	L10028
  Mon Dec  7 2020 11:19                                                Page 87


  4408                        L184:
  4409                        	.line	530
  4410                        ;		//k_debug_strings("k_user_getFontClass:n
                    ame:", (LPSTR)pFontName);
  4411                        ;
  4412                        ;		hFont = (HFONT)found->data;
  4413                        	.line	533
  4414 04:110D: A0 02 00     	ldy	#$2
  4415 04:1110: B7 01        	lda	[<L181+found_1],Y
  4416 04:1112: 85 05        	sta	<L181+hFont_1
  4417 04:1114: A0 04 00     	ldy	#$4
  4418 04:1117: B7 01        	lda	[<L181+found_1],Y
  4419 04:1119: 85 07        	sta	<L181+hFont_1+2
  4420                        ;
  4421                        ;		//k_debug_pointer("k_user_getFontClass:d
                    ata:", found->data);
  4422                        ;		//k_debug_integer("k_user_getFontClass:w
                    idth:", ((LPCSTR)found->data)[0]);
  4423                        ;		//k_debug_integer("k_user_getFontClass:h
                    eight:", ((LPCSTR)found->data)[1]);
  4424                        ;
  4425                        ;	}
  4426                        	.line	539
  4427                        ;
  4428                        ;	return hFont;
  4429                        L10028:
  4430                        	.line	541
  4431 04:111B: A6 07        	ldx	<L181+hFont_1+2
  4432 04:111D: A5 05        	lda	<L181+hFont_1
  4433                        L185:
  4434 04:111F: A8           	tay
  4435 04:1120: A5 0A        	lda	<L180+2
  4436 04:1122: 85 0E        	sta	<L180+2+4
  4437 04:1124: A5 09        	lda	<L180+1
  4438 04:1126: 85 0D        	sta	<L180+1+4
  4439 04:1128: 2B           	pld
  4440 04:1129: 3B           	tsc
  4441 04:112A: 18           	clc
  4442 04:112B: 69 0C 00     	adc	#L180+4
  4443 04:112E: 1B           	tcs
  4444 04:112F: 98           	tya
  4445 04:1130: 6B           	rtl
  4446                        ;}
  4447                        	.line	542
  4448                        	.endblock	542
  4449             00000008   L180	equ	8
  4450             00000001   L181	equ	1
  4451 04:1131:              	ends
  4452                        	efunc
  4453                        	.endfunc	542,1,8
  4454                        	.line	542
  4455                        ;
  4456                        ;HPOINTER k_user_getMousePointerClass(LPCSTR pPoin
                    terName)
  4457                        ;{
  4458                        	.line	544
  4459                        	.line	545
  4460                        	WINMAN
  Mon Dec  7 2020 11:19                                                Page 88


  4461                        	xdef	~~k_user_getMousePointerClass
  4462                        	func
  4463                        	.function	545
  4464                        ~~k_user_getMousePointerClass:
  4465                        	longa	on
  4466                        	longi	on
  4467 04:1131: 3B           	tsc
  4468 04:1132: 38           	sec
  4469 04:1133: E9 08 00     	sbc	#L186
  4470 04:1136: 1B           	tcs
  4471 04:1137: 0B           	phd
  4472 04:1138: 5B           	tcd
  4473             00000004   pPointerName_0	set	4
  4474                        	.block	545
  4475                        ;	PFXNODE found = NULL;
  4476                        ;	HPOINTER hPointer = NULL;
  4477                        ;
  4478                        ;	k_debug_strings("k_user_getMousePointerClass:", 
                    (LPSTR)pPointerName);
  4479             00000000   found_1	set	0
  4480             00000004   hPointer_1	set	4
  4481                        	.sym	found,0,138,1,32,2
  4482                        	.sym	hPointer,4,129,1,32
  4483                        	.sym	pPointerName,4,142,6,32
  4484 04:1139: 64 01        	stz	<L187+found_1
  4485 04:113B: 64 03        	stz	<L187+found_1+2
  4486 04:113D: 64 05        	stz	<L187+hPointer_1
  4487 04:113F: 64 07        	stz	<L187+hPointer_1+2
  4488                        	.line	549
  4489 04:1141: D4 0E        	pei	<L186+pPointerName_0+2
  4490 04:1143: D4 0C        	pei	<L186+pPointerName_0
  4491 04:1145: F4 xx xx     	pea	#^L175
  4492 04:1148: F4 xx xx     	pea	#<L175
  4493 04:114B: 22 xx xx xx  	jsl	~~k_debug_strings
  4494                        ;
  4495                        ;	found = k_nodelist_searchByName(_k_windowManager
                    _CursorList,pPointerName);
  4496                        	.line	551
  4497 04:114F: D4 0E        	pei	<L186+pPointerName_0+2
  4498 04:1151: D4 0C        	pei	<L186+pPointerName_0
  4499 04:1153: AD xx xx     	lda	|~~_k_windowManager_CursorList+2
  4500 04:1156: 48           	pha
  4501 04:1157: AD xx xx     	lda	|~~_k_windowManager_CursorList
  4502 04:115A: 48           	pha
  4503 04:115B: 22 xx xx xx  	jsl	~~k_nodelist_searchByName
  4504 04:115F: 85 01        	sta	<L187+found_1
  4505 04:1161: 86 03        	stx	<L187+found_1+2
  4506                        ;	if(found && found->data)
  4507                        	.line	552
  4508                        ;	{
  4509 04:1163: A5 01        	lda	<L187+found_1
  4510 04:1165: 05 03        	ora	<L187+found_1+2
  4511 04:1167: D0 03        	bne	L189
  4512 04:1169: 82 33 00     	brl	L10029
  4513                        L189:
  4514 04:116C: A0 02 00     	ldy	#$2
  4515 04:116F: B7 01        	lda	[<L187+found_1],Y
  4516 04:1171: A0 04 00     	ldy	#$4
  Mon Dec  7 2020 11:19                                                Page 89


  4517 04:1174: 17 01        	ora	[<L187+found_1],Y
  4518 04:1176: D0 03        	bne	L190
  4519 04:1178: 82 24 00     	brl	L10029
  4520                        L190:
  4521                        	.line	553
  4522                        ;		//k_debug_strings("k_user_getMousePointe
                    rClass:", (LPSTR)pPointerName);
  4523                        ;
  4524                        ;		hPointer = (HPOINTER)found->data;
  4525                        	.line	556
  4526 04:117B: A0 02 00     	ldy	#$2
  4527 04:117E: B7 01        	lda	[<L187+found_1],Y
  4528 04:1180: 85 05        	sta	<L187+hPointer_1
  4529 04:1182: A0 04 00     	ldy	#$4
  4530 04:1185: B7 01        	lda	[<L187+found_1],Y
  4531 04:1187: 85 07        	sta	<L187+hPointer_1+2
  4532                        ;
  4533                        ;		k_debug_pointer("k_user_getMousePointerC
                    lass:data:", found->data);
  4534                        	.line	558
  4535 04:1189: A0 04 00     	ldy	#$4
  4536 04:118C: B7 01        	lda	[<L187+found_1],Y
  4537 04:118E: 48           	pha
  4538 04:118F: A0 02 00     	ldy	#$2
  4539 04:1192: B7 01        	lda	[<L187+found_1],Y
  4540 04:1194: 48           	pha
  4541 04:1195: F4 xx xx     	pea	#^L175+29
  4542 04:1198: F4 xx xx     	pea	#<L175+29
  4543 04:119B: 22 xx xx xx  	jsl	~~k_debug_pointer
  4544                        ;	}
  4545                        	.line	559
  4546                        ;
  4547                        ;	return hPointer;
  4548                        L10029:
  4549                        	.line	561
  4550 04:119F: A6 07        	ldx	<L187+hPointer_1+2
  4551 04:11A1: A5 05        	lda	<L187+hPointer_1
  4552                        L191:
  4553 04:11A3: A8           	tay
  4554 04:11A4: A5 0A        	lda	<L186+2
  4555 04:11A6: 85 0E        	sta	<L186+2+4
  4556 04:11A8: A5 09        	lda	<L186+1
  4557 04:11AA: 85 0D        	sta	<L186+1+4
  4558 04:11AC: 2B           	pld
  4559 04:11AD: 3B           	tsc
  4560 04:11AE: 18           	clc
  4561 04:11AF: 69 0C 00     	adc	#L186+4
  4562 04:11B2: 1B           	tcs
  4563 04:11B3: 98           	tya
  4564 04:11B4: 6B           	rtl
  4565                        ;}
  4566                        	.line	562
  4567                        	.endblock	562
  4568             00000008   L186	equ	8
  4569             00000001   L187	equ	1
  4570 04:11B5:              	ends
  4571                        	efunc
  4572                        	.endfunc	562,1,8
  Mon Dec  7 2020 11:19                                                Page 90


  4573                        	.line	562
  4574                        	data
  4575                        L175:
  4576 00:04AD: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$67,$65,$74,
                    $4D,$6F,$75,$73,$65
       00:04B1: 65 72 5F 67 
       00:04B5: 65 74 4D 6F 
       00:04B9: 75 73 65 
  4577 00:04BC: 50 6F 69 6E  	db	$50,$6F,$69,$6E,$74,$65,$72,$43,$6C,$61,
                    $73,$73,$3A,$00,$6B
       00:04C0: 74 65 72 43 
       00:04C4: 6C 61 73 73 
       00:04C8: 3A 00 6B 
  4578 00:04CB: 5F 75 73 65  	db	$5F,$75,$73,$65,$72,$5F,$67,$65,$74,$4D,
                    $6F,$75,$73,$65,$50
       00:04CF: 72 5F 67 65 
       00:04D3: 74 4D 6F 75 
       00:04D7: 73 65 50 
  4579 00:04DA: 6F 69 6E 74  	db	$6F,$69,$6E,$74,$65,$72,$43,$6C,$61,$73,
                    $73,$3A,$64,$61,$74
       00:04DE: 65 72 43 6C 
       00:04E2: 61 73 73 3A 
       00:04E6: 64 61 74 
  4580 00:04E9: 61 3A 00     	db	$61,$3A,$00
  4581 00:04EC:              	ends
  4582                        ;
  4583                        ;HPOINTER k_user_setMousePointer(LPCSTR pPointerNa
                    me)
  4584                        ;{
  4585                        	.line	564
  4586                        	.line	565
  4587                        	WINMAN
  4588                        	xdef	~~k_user_setMousePointer
  4589                        	func
  4590                        	.function	565
  4591                        ~~k_user_setMousePointer:
  4592                        	longa	on
  4593                        	longi	on
  4594 04:11B5: 3B           	tsc
  4595 04:11B6: 38           	sec
  4596 04:11B7: E9 04 00     	sbc	#L193
  4597 04:11BA: 1B           	tcs
  4598 04:11BB: 0B           	phd
  4599 04:11BC: 5B           	tcd
  4600             00000004   pPointerName_0	set	4
  4601                        	.block	565
  4602                        ;	HPOINTER hPointer = NULL;
  4603                        ;
  4604                        ;
  4605                        ;	hPointer =  k_user_getMousePointerClass(pPointer
                    Name);
  4606             00000000   hPointer_1	set	0
  4607                        	.sym	hPointer,0,129,1,32
  4608                        	.sym	pPointerName,4,142,6,32
  4609 04:11BD: 64 01        	stz	<L194+hPointer_1
  4610 04:11BF: 64 03        	stz	<L194+hPointer_1+2
  4611                        	.line	569
  4612 04:11C1: D4 0A        	pei	<L193+pPointerName_0+2
  Mon Dec  7 2020 11:19                                                Page 91


  4613 04:11C3: D4 08        	pei	<L193+pPointerName_0
  4614 04:11C5: 22 31 11 04  	jsl	~~k_user_getMousePointerClass
  4615 04:11C9: 85 01        	sta	<L194+hPointer_1
  4616 04:11CB: 86 03        	stx	<L194+hPointer_1+2
  4617                        ;	if(hPointer)
  4618                        	.line	570
  4619                        ;	{
  4620 04:11CD: A5 01        	lda	<L194+hPointer_1
  4621 04:11CF: 05 03        	ora	<L194+hPointer_1+2
  4622 04:11D1: D0 03        	bne	L196
  4623 04:11D3: 82 19 00     	brl	L10030
  4624                        L196:
  4625                        	.line	571
  4626                        ;		k_debug_pointer("k_user_setMousePointer:
                    hPointer:", hPointer);
  4627                        	.line	572
  4628 04:11D6: D4 03        	pei	<L194+hPointer_1+2
  4629 04:11D8: D4 01        	pei	<L194+hPointer_1
  4630 04:11DA: F4 xx xx     	pea	#^L192
  4631 04:11DD: F4 xx xx     	pea	#<L192
  4632 04:11E0: 22 xx xx xx  	jsl	~~k_debug_pointer
  4633                        ;		k_gui_set_mousepointer(0,(LPVOID)hPointe
                    r);
  4634                        	.line	573
  4635 04:11E4: D4 03        	pei	<L194+hPointer_1+2
  4636 04:11E6: D4 01        	pei	<L194+hPointer_1
  4637 04:11E8: F4 00 00     	pea	#<$0
  4638 04:11EB: 22 xx xx xx  	jsl	~~k_gui_set_mousepointer
  4639                        ;	}
  4640                        	.line	574
  4641                        ;
  4642                        ;	return hPointer;
  4643                        L10030:
  4644                        	.line	576
  4645 04:11EF: A6 03        	ldx	<L194+hPointer_1+2
  4646 04:11F1: A5 01        	lda	<L194+hPointer_1
  4647                        L197:
  4648 04:11F3: A8           	tay
  4649 04:11F4: A5 06        	lda	<L193+2
  4650 04:11F6: 85 0A        	sta	<L193+2+4
  4651 04:11F8: A5 05        	lda	<L193+1
  4652 04:11FA: 85 09        	sta	<L193+1+4
  4653 04:11FC: 2B           	pld
  4654 04:11FD: 3B           	tsc
  4655 04:11FE: 18           	clc
  4656 04:11FF: 69 08 00     	adc	#L193+4
  4657 04:1202: 1B           	tcs
  4658 04:1203: 98           	tya
  4659 04:1204: 6B           	rtl
  4660                        ;}
  4661                        	.line	577
  4662                        	.endblock	577
  4663             00000004   L193	equ	4
  4664             00000001   L194	equ	1
  4665 04:1205:              	ends
  4666                        	efunc
  4667                        	.endfunc	577,1,4
  4668                        	.line	577
  Mon Dec  7 2020 11:19                                                Page 92


  4669                        	data
  4670                        L192:
  4671 00:04EC: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$73,$65,$74,
                    $4D,$6F,$75,$73,$65
       00:04F0: 65 72 5F 73 
       00:04F4: 65 74 4D 6F 
       00:04F8: 75 73 65 
  4672 00:04FB: 50 6F 69 6E  	db	$50,$6F,$69,$6E,$74,$65,$72,$3A,$68,$50,
                    $6F,$69,$6E,$74,$65
       00:04FF: 74 65 72 3A 
       00:0503: 68 50 6F 69 
       00:0507: 6E 74 65 
  4673 00:050A: 72 3A 00     	db	$72,$3A,$00
  4674 00:050D:              	ends
  4675                        ;
  4676                        ;
  4677                        ;PWNDCLASS k_user_CreateWindowClass(LPCSTR pClassN
                    ame,LPCSTR pMenuName,UINT style,HICON icon,HCURSOR cursor,HB
                    RUSH brush,FXWndProc pWndProc)
  4678                        ;{
  4679                        	.line	580
  4680                        	.line	581
  4681                        	WINMAN
  4682                        	xdef	~~k_user_CreateWindowClass
  4683                        	func
  4684                        	.function	581
  4685                        ~~k_user_CreateWindowClass:
  4686                        	longa	on
  4687                        	longi	on
  4688 04:1205: 3B           	tsc
  4689 04:1206: 38           	sec
  4690 04:1207: E9 08 00     	sbc	#L199
  4691 04:120A: 1B           	tcs
  4692 04:120B: 0B           	phd
  4693 04:120C: 5B           	tcd
  4694             00000004   pClassName_0	set	4
  4695             00000008   pMenuName_0	set	8
  4696             0000000C   style_0	set	12
  4697             0000000E   icon_0	set	14
  4698             00000012   cursor_0	set	18
  4699             00000016   brush_0	set	22
  4700             0000001A   pWndProc_0	set	26
  4701                        	.block	581
  4702                        ;	PWNDCLASS wndClass = NULL;
  4703                        ;
  4704                        ;	//k_debug_strings("k_user_CreateWindowClass:",(L
                    PVOID)pClassName);
  4705                        ;
  4706                        ;
  4707                        ;	if(pClassName)
  4708             00000000   wndClass_1	set	0
  4709                        	.sym	wndClass,0,138,1,32,23
  4710                        	.sym	pClassName,4,142,6,32
  4711                        	.sym	pMenuName,8,142,6,32
  4712                        	.sym	style,12,16,6,16
  4713                        	.sym	icon,14,129,6,32
  4714                        	.sym	cursor,18,129,6,32
  4715                        	.sym	brush,22,129,6,32
  Mon Dec  7 2020 11:19                                                Page 93


  4716                        	.sym	pWndProc,26,654,6,32
  4717 04:120D: 64 05        	stz	<L200+wndClass_1
  4718 04:120F: 64 07        	stz	<L200+wndClass_1+2
  4719                        	.line	587
  4720                        ;	{
  4721 04:1211: A5 0C        	lda	<L199+pClassName_0
  4722 04:1213: 05 0E        	ora	<L199+pClassName_0+2
  4723 04:1215: D0 03        	bne	L202
  4724 04:1217: 82 97 00     	brl	L10031
  4725                        L202:
  4726                        	.line	588
  4727                        ;		wndClass = k_mem_allocate_heap(sizeof(WN
                    DCLASS));
  4728                        	.line	589
  4729 04:121A: F4 20 00     	pea	#<$20
  4730 04:121D: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  4731 04:1221: 85 05        	sta	<L200+wndClass_1
  4732 04:1223: 86 07        	stx	<L200+wndClass_1+2
  4733                        ;		if(wndClass)
  4734                        	.line	590
  4735                        ;		{
  4736 04:1225: A5 05        	lda	<L200+wndClass_1
  4737 04:1227: 05 07        	ora	<L200+wndClass_1+2
  4738 04:1229: D0 03        	bne	L203
  4739 04:122B: 82 83 00     	brl	L10032
  4740                        L203:
  4741                        	.line	591
  4742                        ;			memset(wndClass,0,sizeof(WNDCLAS
                    S));
  4743                        	.line	592
  4744 04:122E: F4 20 00     	pea	#<$20
  4745 04:1231: F4 00 00     	pea	#<$0
  4746 04:1234: D4 07        	pei	<L200+wndClass_1+2
  4747 04:1236: D4 05        	pei	<L200+wndClass_1
  4748 04:1238: 22 xx xx xx  	jsl	~~memset
  4749                        ;			wndClass->cbSize = sizeof(WNDCLA
                    SS);
  4750                        	.line	593
  4751 04:123C: A9 20 00     	lda	#$20
  4752 04:123F: 87 05        	sta	[<L200+wndClass_1]
  4753                        ;			wndClass->lpszClassName = k_stri
                    ng_copy_string(pClassName);
  4754                        	.line	594
  4755 04:1241: D4 0E        	pei	<L199+pClassName_0+2
  4756 04:1243: D4 0C        	pei	<L199+pClassName_0
  4757 04:1245: 22 xx xx xx  	jsl	~~k_string_copy_string
  4758 04:1249: 85 01        	sta	<R0
  4759 04:124B: 86 03        	stx	<R0+2
  4760 04:124D: A5 01        	lda	<R0
  4761 04:124F: A0 1C 00     	ldy	#$1c
  4762 04:1252: 97 05        	sta	[<L200+wndClass_1],Y
  4763 04:1254: A5 03        	lda	<R0+2
  4764 04:1256: A0 1E 00     	ldy	#$1e
  4765 04:1259: 97 05        	sta	[<L200+wndClass_1],Y
  4766                        ;			wndClass->pWndProc = pWndProc;
  4767                        	.line	595
  4768 04:125B: A5 22        	lda	<L199+pWndProc_0
  4769 04:125D: A0 04 00     	ldy	#$4
  Mon Dec  7 2020 11:19                                                Page 94


  4770 04:1260: 97 05        	sta	[<L200+wndClass_1],Y
  4771 04:1262: A5 24        	lda	<L199+pWndProc_0+2
  4772 04:1264: A0 06 00     	ldy	#$6
  4773 04:1267: 97 05        	sta	[<L200+wndClass_1],Y
  4774                        ;			wndClass->style = style;
  4775                        	.line	596
  4776 04:1269: A5 14        	lda	<L199+style_0
  4777 04:126B: A0 02 00     	ldy	#$2
  4778 04:126E: 97 05        	sta	[<L200+wndClass_1],Y
  4779                        ;			wndClass->hIcon = icon;
  4780                        	.line	597
  4781 04:1270: A5 16        	lda	<L199+icon_0
  4782 04:1272: A0 0C 00     	ldy	#$c
  4783 04:1275: 97 05        	sta	[<L200+wndClass_1],Y
  4784 04:1277: A5 18        	lda	<L199+icon_0+2
  4785 04:1279: A0 0E 00     	ldy	#$e
  4786 04:127C: 97 05        	sta	[<L200+wndClass_1],Y
  4787                        ;			wndClass->hCursor = cursor;
  4788                        	.line	598
  4789 04:127E: A5 1A        	lda	<L199+cursor_0
  4790 04:1280: A0 10 00     	ldy	#$10
  4791 04:1283: 97 05        	sta	[<L200+wndClass_1],Y
  4792 04:1285: A5 1C        	lda	<L199+cursor_0+2
  4793 04:1287: A0 12 00     	ldy	#$12
  4794 04:128A: 97 05        	sta	[<L200+wndClass_1],Y
  4795                        ;			wndClass->hbrBackground = brush;
  4796                        	.line	599
  4797 04:128C: A5 1E        	lda	<L199+brush_0
  4798 04:128E: A0 14 00     	ldy	#$14
  4799 04:1291: 97 05        	sta	[<L200+wndClass_1],Y
  4800 04:1293: A5 20        	lda	<L199+brush_0+2
  4801 04:1295: A0 16 00     	ldy	#$16
  4802 04:1298: 97 05        	sta	[<L200+wndClass_1],Y
  4803                        ;
  4804                        ;			k_nodelist_addtolist(_k_windowMa
                    nager_WindowClassList,NL_TYPE_WINDOW_CLS,pClassName,wndClass
                    );
  4805                        	.line	601
  4806 04:129A: D4 07        	pei	<L200+wndClass_1+2
  4807 04:129C: D4 05        	pei	<L200+wndClass_1
  4808 04:129E: D4 0E        	pei	<L199+pClassName_0+2
  4809 04:12A0: D4 0C        	pei	<L199+pClassName_0
  4810 04:12A2: F4 01 00     	pea	#<$1
  4811 04:12A5: AD xx xx     	lda	|~~_k_windowManager_WindowClassList+2
  4812 04:12A8: 48           	pha
  4813 04:12A9: AD xx xx     	lda	|~~_k_windowManager_WindowClassList
  4814 04:12AC: 48           	pha
  4815 04:12AD: 22 xx xx xx  	jsl	~~k_nodelist_addtolist
  4816                        ;			//k_debug_nodelist(k_nodelist_ge
                    tfirstnode(_k_windowManager_WindowClassList));
  4817                        ;		}
  4818                        	.line	603
  4819                        ;
  4820                        ;		//k_debug_strings("k_user_CreateWindowCl
                    ass:","exit");
  4821                        ;	}
  4822                        L10032:
  4823                        	.line	606
  Mon Dec  7 2020 11:19                                                Page 95


  4824                        ;	return wndClass;
  4825                        L10031:
  4826                        	.line	607
  4827 04:12B1: A6 07        	ldx	<L200+wndClass_1+2
  4828 04:12B3: A5 05        	lda	<L200+wndClass_1
  4829                        L204:
  4830 04:12B5: A8           	tay
  4831 04:12B6: A5 0A        	lda	<L199+2
  4832 04:12B8: 85 24        	sta	<L199+2+26
  4833 04:12BA: A5 09        	lda	<L199+1
  4834 04:12BC: 85 23        	sta	<L199+1+26
  4835 04:12BE: 2B           	pld
  4836 04:12BF: 3B           	tsc
  4837 04:12C0: 18           	clc
  4838 04:12C1: 69 22 00     	adc	#L199+26
  4839 04:12C4: 1B           	tcs
  4840 04:12C5: 98           	tya
  4841 04:12C6: 6B           	rtl
  4842                        ;}
  4843                        	.line	608
  4844                        	.endblock	608
  4845             00000008   L199	equ	8
  4846             00000005   L200	equ	5
  4847 04:12C7:              	ends
  4848                        	efunc
  4849                        	.endfunc	608,5,8
  4850                        	.line	608
  4851                        ;
  4852                        ;PWNDCLASS k_user_getWindowClass(LPCSTR pClassName
                    )
  4853                        ;{
  4854                        	.line	610
  4855                        	.line	611
  4856                        	WINMAN
  4857                        	xdef	~~k_user_getWindowClass
  4858                        	func
  4859                        	.function	611
  4860                        ~~k_user_getWindowClass:
  4861                        	longa	on
  4862                        	longi	on
  4863 04:12C7: 3B           	tsc
  4864 04:12C8: 38           	sec
  4865 04:12C9: E9 08 00     	sbc	#L205
  4866 04:12CC: 1B           	tcs
  4867 04:12CD: 0B           	phd
  4868 04:12CE: 5B           	tcd
  4869             00000004   pClassName_0	set	4
  4870                        	.block	611
  4871                        ;	PWNDCLASS wndClass = NULL;
  4872                        ;
  4873                        ;	PFXNODE found = k_nodelist_searchByName(_k_windo
                    wManager_WindowClassList,pClassName);
  4874                        ;	if(found && found->data)
  4875             00000000   wndClass_1	set	0
  4876             00000004   found_1	set	4
  4877                        	.sym	wndClass,0,138,1,32,23
  4878                        	.sym	found,4,138,1,32,2
  4879                        	.sym	pClassName,4,142,6,32
  Mon Dec  7 2020 11:19                                                Page 96


  4880 04:12CF: 64 01        	stz	<L206+wndClass_1
  4881 04:12D1: 64 03        	stz	<L206+wndClass_1+2
  4882 04:12D3: D4 0E        	pei	<L205+pClassName_0+2
  4883 04:12D5: D4 0C        	pei	<L205+pClassName_0
  4884 04:12D7: AD xx xx     	lda	|~~_k_windowManager_WindowClassList+2
  4885 04:12DA: 48           	pha
  4886 04:12DB: AD xx xx     	lda	|~~_k_windowManager_WindowClassList
  4887 04:12DE: 48           	pha
  4888 04:12DF: 22 xx xx xx  	jsl	~~k_nodelist_searchByName
  4889 04:12E3: 85 05        	sta	<L206+found_1
  4890 04:12E5: 86 07        	stx	<L206+found_1+2
  4891                        	.line	615
  4892                        ;	{
  4893 04:12E7: A5 05        	lda	<L206+found_1
  4894 04:12E9: 05 07        	ora	<L206+found_1+2
  4895 04:12EB: D0 03        	bne	L208
  4896 04:12ED: 82 1D 00     	brl	L10033
  4897                        L208:
  4898 04:12F0: A0 02 00     	ldy	#$2
  4899 04:12F3: B7 05        	lda	[<L206+found_1],Y
  4900 04:12F5: A0 04 00     	ldy	#$4
  4901 04:12F8: 17 05        	ora	[<L206+found_1],Y
  4902 04:12FA: D0 03        	bne	L209
  4903 04:12FC: 82 0E 00     	brl	L10033
  4904                        L209:
  4905                        	.line	616
  4906                        ;		wndClass = (PWNDCLASS)found->data;
  4907                        	.line	617
  4908 04:12FF: A0 02 00     	ldy	#$2
  4909 04:1302: B7 05        	lda	[<L206+found_1],Y
  4910 04:1304: 85 01        	sta	<L206+wndClass_1
  4911 04:1306: A0 04 00     	ldy	#$4
  4912 04:1309: B7 05        	lda	[<L206+found_1],Y
  4913 04:130B: 85 03        	sta	<L206+wndClass_1+2
  4914                        ;	}
  4915                        	.line	618
  4916                        ;
  4917                        ;	return wndClass;
  4918                        L10033:
  4919                        	.line	620
  4920 04:130D: A6 03        	ldx	<L206+wndClass_1+2
  4921 04:130F: A5 01        	lda	<L206+wndClass_1
  4922                        L210:
  4923 04:1311: A8           	tay
  4924 04:1312: A5 0A        	lda	<L205+2
  4925 04:1314: 85 0E        	sta	<L205+2+4
  4926 04:1316: A5 09        	lda	<L205+1
  4927 04:1318: 85 0D        	sta	<L205+1+4
  4928 04:131A: 2B           	pld
  4929 04:131B: 3B           	tsc
  4930 04:131C: 18           	clc
  4931 04:131D: 69 0C 00     	adc	#L205+4
  4932 04:1320: 1B           	tcs
  4933 04:1321: 98           	tya
  4934 04:1322: 6B           	rtl
  4935                        ;}
  4936                        	.line	621
  4937                        	.endblock	621
  Mon Dec  7 2020 11:19                                                Page 97


  4938             00000008   L205	equ	8
  4939             00000001   L206	equ	1
  4940 04:1323:              	ends
  4941                        	efunc
  4942                        	.endfunc	621,1,8
  4943                        	.line	621
  4944                        ;
  4945                        ;
  4946                        ;HFONT k_user_GetFont(LPCSTR pFontName)
  4947                        ;{
  4948                        	.line	624
  4949                        	.line	625
  4950                        	WINMAN
  4951                        	xdef	~~k_user_GetFont
  4952                        	func
  4953                        	.function	625
  4954                        ~~k_user_GetFont:
  4955                        	longa	on
  4956                        	longi	on
  4957 04:1323: 3B           	tsc
  4958 04:1324: 38           	sec
  4959 04:1325: E9 08 00     	sbc	#L211
  4960 04:1328: 1B           	tcs
  4961 04:1329: 0B           	phd
  4962 04:132A: 5B           	tcd
  4963             00000004   pFontName_0	set	4
  4964                        	.block	625
  4965                        ;	HFONT hFont = NULL;
  4966                        ;	PFXNODE node;
  4967                        ;
  4968                        ;	node = k_nodelist_searchByName(_k_windowManager_
                    FontList,pFontName);
  4969             00000000   hFont_1	set	0
  4970             00000004   node_1	set	4
  4971                        	.sym	hFont,0,129,1,32
  4972                        	.sym	node,4,138,1,32,2
  4973                        	.sym	pFontName,4,142,6,32
  4974 04:132B: 64 01        	stz	<L212+hFont_1
  4975 04:132D: 64 03        	stz	<L212+hFont_1+2
  4976                        	.line	629
  4977 04:132F: D4 0E        	pei	<L211+pFontName_0+2
  4978 04:1331: D4 0C        	pei	<L211+pFontName_0
  4979 04:1333: AD xx xx     	lda	|~~_k_windowManager_FontList+2
  4980 04:1336: 48           	pha
  4981 04:1337: AD xx xx     	lda	|~~_k_windowManager_FontList
  4982 04:133A: 48           	pha
  4983 04:133B: 22 xx xx xx  	jsl	~~k_nodelist_searchByName
  4984 04:133F: 85 05        	sta	<L212+node_1
  4985 04:1341: 86 07        	stx	<L212+node_1+2
  4986                        ;	if(node)
  4987                        	.line	630
  4988                        ;	{
  4989 04:1343: A5 05        	lda	<L212+node_1
  4990 04:1345: 05 07        	ora	<L212+node_1+2
  4991 04:1347: D0 03        	bne	L214
  4992 04:1349: 82 0E 00     	brl	L10034
  4993                        L214:
  4994                        	.line	631
  Mon Dec  7 2020 11:19                                                Page 98


  4995                        ;		hFont = (HFONT)node->data;
  4996                        	.line	632
  4997 04:134C: A0 02 00     	ldy	#$2
  4998 04:134F: B7 05        	lda	[<L212+node_1],Y
  4999 04:1351: 85 01        	sta	<L212+hFont_1
  5000 04:1353: A0 04 00     	ldy	#$4
  5001 04:1356: B7 05        	lda	[<L212+node_1],Y
  5002 04:1358: 85 03        	sta	<L212+hFont_1+2
  5003                        ;	}
  5004                        	.line	633
  5005                        ;
  5006                        ;	return hFont;
  5007                        L10034:
  5008                        	.line	635
  5009 04:135A: A6 03        	ldx	<L212+hFont_1+2
  5010 04:135C: A5 01        	lda	<L212+hFont_1
  5011                        L215:
  5012 04:135E: A8           	tay
  5013 04:135F: A5 0A        	lda	<L211+2
  5014 04:1361: 85 0E        	sta	<L211+2+4
  5015 04:1363: A5 09        	lda	<L211+1
  5016 04:1365: 85 0D        	sta	<L211+1+4
  5017 04:1367: 2B           	pld
  5018 04:1368: 3B           	tsc
  5019 04:1369: 18           	clc
  5020 04:136A: 69 0C 00     	adc	#L211+4
  5021 04:136D: 1B           	tcs
  5022 04:136E: 98           	tya
  5023 04:136F: 6B           	rtl
  5024                        ;}
  5025                        	.line	636
  5026                        	.endblock	636
  5027             00000008   L211	equ	8
  5028             00000001   L212	equ	1
  5029 04:1370:              	ends
  5030                        	efunc
  5031                        	.endfunc	636,1,8
  5032                        	.line	636
  5033                        ;
  5034                        ;HDC k_user_GetWindowDrawingContext(HWND hWnd)
  5035                        ;{
  5036                        	.line	638
  5037                        	.line	639
  5038                        	WINMAN
  5039                        	xdef	~~k_user_GetWindowDrawingContext
  5040                        	func
  5041                        	.function	639
  5042                        ~~k_user_GetWindowDrawingContext:
  5043                        	longa	on
  5044                        	longi	on
  5045 04:1370: 3B           	tsc
  5046 04:1371: 38           	sec
  5047 04:1372: E9 00 00     	sbc	#L216
  5048 04:1375: 1B           	tcs
  5049 04:1376: 0B           	phd
  5050 04:1377: 5B           	tcd
  5051             00000004   hWnd_0	set	4
  5052                        	.block	639
  Mon Dec  7 2020 11:19                                                Page 99


  5053                        ;	return NULL;
  5054                        	.sym	hWnd,4,129,6,32
  5055                        	.line	640
  5056 04:1378: A9 00 00     	lda	#$0
  5057 04:137B: AA           	tax
  5058 04:137C: A9 00 00     	lda	#$0
  5059                        L219:
  5060 04:137F: A8           	tay
  5061 04:1380: A5 02        	lda	<L216+2
  5062 04:1382: 85 06        	sta	<L216+2+4
  5063 04:1384: A5 01        	lda	<L216+1
  5064 04:1386: 85 05        	sta	<L216+1+4
  5065 04:1388: 2B           	pld
  5066 04:1389: 3B           	tsc
  5067 04:138A: 18           	clc
  5068 04:138B: 69 04 00     	adc	#L216+4
  5069 04:138E: 1B           	tcs
  5070 04:138F: 98           	tya
  5071 04:1390: 6B           	rtl
  5072                        ;}
  5073                        	.line	641
  5074                        	.endblock	641
  5075             00000000   L216	equ	0
  5076             00000001   L217	equ	1
  5077 04:1391:              	ends
  5078                        	efunc
  5079                        	.endfunc	641,1,0
  5080                        	.line	641
  5081                        ;
  5082                        ;VOID k_user_ReleaseWindowDrawingContext(HDC hDC)
  5083                        ;{
  5084                        	.line	643
  5085                        	.line	644
  5086                        	WINMAN
  5087                        	xdef	~~k_user_ReleaseWindowDrawingContext
  5088                        	func
  5089                        	.function	644
  5090                        ~~k_user_ReleaseWindowDrawingContext:
  5091                        	longa	on
  5092                        	longi	on
  5093 04:1391: 3B           	tsc
  5094 04:1392: 38           	sec
  5095 04:1393: E9 00 00     	sbc	#L220
  5096 04:1396: 1B           	tcs
  5097 04:1397: 0B           	phd
  5098 04:1398: 5B           	tcd
  5099             00000004   hDC_0	set	4
  5100                        	.block	644
  5101                        ;
  5102                        ;}
  5103                        	.sym	hDC,4,129,6,32
  5104                        	.line	646
  5105                        L223:
  5106 04:1399: A5 02        	lda	<L220+2
  5107 04:139B: 85 06        	sta	<L220+2+4
  5108 04:139D: A5 01        	lda	<L220+1
  5109 04:139F: 85 05        	sta	<L220+1+4
  5110 04:13A1: 2B           	pld
  Mon Dec  7 2020 11:19                                                Page 100


  5111 04:13A2: 3B           	tsc
  5112 04:13A3: 18           	clc
  5113 04:13A4: 69 04 00     	adc	#L220+4
  5114 04:13A7: 1B           	tcs
  5115 04:13A8: 6B           	rtl
  5116                        	.endblock	646
  5117             00000000   L220	equ	0
  5118             00000001   L221	equ	1
  5119 04:13A9:              	ends
  5120                        	efunc
  5121                        	.endfunc	646,1,0
  5122                        	.line	646
  5123                        ;
  5124                        ;
  5125                        ;VOID k_user_SelectFontIntoContext(HDC hDC,HFONT h
                    Font)
  5126                        ;{
  5127                        	.line	649
  5128                        	.line	650
  5129                        	WINMAN
  5130                        	xdef	~~k_user_SelectFontIntoContext
  5131                        	func
  5132                        	.function	650
  5133                        ~~k_user_SelectFontIntoContext:
  5134                        	longa	on
  5135                        	longi	on
  5136 04:13A9: 3B           	tsc
  5137 04:13AA: 38           	sec
  5138 04:13AB: E9 00 00     	sbc	#L224
  5139 04:13AE: 1B           	tcs
  5140 04:13AF: 0B           	phd
  5141 04:13B0: 5B           	tcd
  5142             00000004   hDC_0	set	4
  5143             00000008   hFont_0	set	8
  5144                        	.block	650
  5145                        ;
  5146                        ;}
  5147                        	.sym	hDC,4,129,6,32
  5148                        	.sym	hFont,8,129,6,32
  5149                        	.line	652
  5150                        L227:
  5151 04:13B1: A5 02        	lda	<L224+2
  5152 04:13B3: 85 0A        	sta	<L224+2+8
  5153 04:13B5: A5 01        	lda	<L224+1
  5154 04:13B7: 85 09        	sta	<L224+1+8
  5155 04:13B9: 2B           	pld
  5156 04:13BA: 3B           	tsc
  5157 04:13BB: 18           	clc
  5158 04:13BC: 69 08 00     	adc	#L224+8
  5159 04:13BF: 1B           	tcs
  5160 04:13C0: 6B           	rtl
  5161                        	.endblock	652
  5162             00000000   L224	equ	0
  5163             00000001   L225	equ	1
  5164 04:13C1:              	ends
  5165                        	efunc
  5166                        	.endfunc	652,1,0
  5167                        	.line	652
  Mon Dec  7 2020 11:19                                                Page 101


  5168                        ;
  5169                        ;VOID k_user_SelectColorIntoContext(HDC hDC,HCOLOR
                     hFont)
  5170                        ;{
  5171                        	.line	654
  5172                        	.line	655
  5173                        	WINMAN
  5174                        	xdef	~~k_user_SelectColorIntoContext
  5175                        	func
  5176                        	.function	655
  5177                        ~~k_user_SelectColorIntoContext:
  5178                        	longa	on
  5179                        	longi	on
  5180 04:13C1: 3B           	tsc
  5181 04:13C2: 38           	sec
  5182 04:13C3: E9 00 00     	sbc	#L228
  5183 04:13C6: 1B           	tcs
  5184 04:13C7: 0B           	phd
  5185 04:13C8: 5B           	tcd
  5186             00000004   hDC_0	set	4
  5187             00000008   hFont_0	set	8
  5188                        	.block	655
  5189                        ;
  5190                        ;}
  5191                        	.sym	hDC,4,129,6,32
  5192                        	.sym	hFont,8,129,6,32
  5193                        	.line	657
  5194                        L231:
  5195 04:13C9: A5 02        	lda	<L228+2
  5196 04:13CB: 85 0A        	sta	<L228+2+8
  5197 04:13CD: A5 01        	lda	<L228+1
  5198 04:13CF: 85 09        	sta	<L228+1+8
  5199 04:13D1: 2B           	pld
  5200 04:13D2: 3B           	tsc
  5201 04:13D3: 18           	clc
  5202 04:13D4: 69 08 00     	adc	#L228+8
  5203 04:13D7: 1B           	tcs
  5204 04:13D8: 6B           	rtl
  5205                        	.endblock	657
  5206             00000000   L228	equ	0
  5207             00000001   L229	equ	1
  5208 04:13D9:              	ends
  5209                        	efunc
  5210                        	.endfunc	657,1,0
  5211                        	.line	657
  5212                        ;
  5213                        ;UINT k_user_DrawText(HDC hDC,LPCSTR text,PRECT lo
                    cInOUt)
  5214                        ;{
  5215                        	.line	659
  5216                        	.line	660
  5217                        	WINMAN
  5218                        	xdef	~~k_user_DrawText
  5219                        	func
  5220                        	.function	660
  5221                        ~~k_user_DrawText:
  5222                        	longa	on
  5223                        	longi	on
  Mon Dec  7 2020 11:19                                                Page 102


  5224 04:13D9: 3B           	tsc
  5225 04:13DA: 38           	sec
  5226 04:13DB: E9 00 00     	sbc	#L232
  5227 04:13DE: 1B           	tcs
  5228 04:13DF: 0B           	phd
  5229 04:13E0: 5B           	tcd
  5230             00000004   hDC_0	set	4
  5231             00000008   text_0	set	8
  5232             0000000C   locInOUt_0	set	12
  5233                        	.block	660
  5234                        ;	return 0;
  5235                        	.sym	hDC,4,129,6,32
  5236                        	.sym	text,8,142,6,32
  5237                        	.sym	locInOUt,12,138,6,32,22
  5238                        	.line	661
  5239 04:13E1: A9 00 00     	lda	#$0
  5240                        L235:
  5241 04:13E4: A8           	tay
  5242 04:13E5: A5 02        	lda	<L232+2
  5243 04:13E7: 85 0E        	sta	<L232+2+12
  5244 04:13E9: A5 01        	lda	<L232+1
  5245 04:13EB: 85 0D        	sta	<L232+1+12
  5246 04:13ED: 2B           	pld
  5247 04:13EE: 3B           	tsc
  5248 04:13EF: 18           	clc
  5249 04:13F0: 69 0C 00     	adc	#L232+12
  5250 04:13F3: 1B           	tcs
  5251 04:13F4: 98           	tya
  5252 04:13F5: 6B           	rtl
  5253                        ;}
  5254                        	.line	662
  5255                        	.endblock	662
  5256             00000000   L232	equ	0
  5257             00000001   L233	equ	1
  5258 04:13F6:              	ends
  5259                        	efunc
  5260                        	.endfunc	662,1,0
  5261                        	.line	662
  5262                        ;
  5263                        ;UINT k_user_DrawWindowTextToPoint(HWND hWnd,LPCST
                    R text,UINT color,PRECT rectInOUt)
  5264                        ;{
  5265                        	.line	664
  5266                        	.line	665
  5267                        	WINMAN
  5268                        	xdef	~~k_user_DrawWindowTextToPoint
  5269                        	func
  5270                        	.function	665
  5271                        ~~k_user_DrawWindowTextToPoint:
  5272                        	longa	on
  5273                        	longi	on
  5274 04:13F6: 3B           	tsc
  5275 04:13F7: 38           	sec
  5276 04:13F8: E9 04 00     	sbc	#L236
  5277 04:13FB: 1B           	tcs
  5278 04:13FC: 0B           	phd
  5279 04:13FD: 5B           	tcd
  5280             00000004   hWnd_0	set	4
  Mon Dec  7 2020 11:19                                                Page 103


  5281             00000008   text_0	set	8
  5282             0000000C   color_0	set	12
  5283             0000000E   rectInOUt_0	set	14
  5284                        	.block	665
  5285                        ;	PWINDOW pWin = k_getWindowFromHandle(hWnd);
  5286                        ;
  5287                        ;	if(pWin)
  5288             00000000   pWin_1	set	0
  5289                        	.sym	pWin,0,138,1,32,27
  5290                        	.sym	hWnd,4,129,6,32
  5291                        	.sym	text,8,142,6,32
  5292                        	.sym	color,12,16,6,16
  5293                        	.sym	rectInOUt,14,138,6,32,22
  5294 04:13FE: D4 0A        	pei	<L236+hWnd_0+2
  5295 04:1400: D4 08        	pei	<L236+hWnd_0
  5296 04:1402: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
  5297 04:1406: 85 01        	sta	<L237+pWin_1
  5298 04:1408: 86 03        	stx	<L237+pWin_1+2
  5299                        	.line	668
  5300                        ;	{
  5301 04:140A: A5 01        	lda	<L237+pWin_1
  5302 04:140C: 05 03        	ora	<L237+pWin_1+2
  5303 04:140E: D0 03        	bne	L239
  5304 04:1410: 82 25 00     	brl	L10035
  5305                        L239:
  5306                        	.line	669
  5307                        ;		k_draw_text_point_with_font(text,Bm437AT
                    I8x16,pWin->clientRect.x + rectInOUt->x,pWin->clientRect.y +
                     rectInOUt->y,color);
  5308                        	.line	670
  5309 04:1413: D4 10        	pei	<L236+color_0
  5310 04:1415: 18           	clc
  5311 04:1416: A0 1A 00     	ldy	#$1a
  5312 04:1419: B7 01        	lda	[<L237+pWin_1],Y
  5313 04:141B: A0 02 00     	ldy	#$2
  5314 04:141E: 77 12        	adc	[<L236+rectInOUt_0],Y
  5315 04:1420: 48           	pha
  5316 04:1421: 18           	clc
  5317 04:1422: A0 18 00     	ldy	#$18
  5318 04:1425: B7 01        	lda	[<L237+pWin_1],Y
  5319 04:1427: 67 12        	adc	[<L236+rectInOUt_0]
  5320 04:1429: 48           	pha
  5321 04:142A: F4 xx xx     	pea	#^~~Bm437ATI8x16
  5322 04:142D: F4 xx xx     	pea	#<~~Bm437ATI8x16
  5323 04:1430: D4 0E        	pei	<L236+text_0+2
  5324 04:1432: D4 0C        	pei	<L236+text_0
  5325 04:1434: 22 xx xx xx  	jsl	~~k_draw_text_point_with_font
  5326                        ;	}
  5327                        	.line	671
  5328                        ;
  5329                        ;	return 0;
  5330                        L10035:
  5331                        	.line	673
  5332 04:1438: A9 00 00     	lda	#$0
  5333                        L240:
  5334 04:143B: A8           	tay
  5335 04:143C: A5 06        	lda	<L236+2
  5336 04:143E: 85 14        	sta	<L236+2+14
  Mon Dec  7 2020 11:19                                                Page 104


  5337 04:1440: A5 05        	lda	<L236+1
  5338 04:1442: 85 13        	sta	<L236+1+14
  5339 04:1444: 2B           	pld
  5340 04:1445: 3B           	tsc
  5341 04:1446: 18           	clc
  5342 04:1447: 69 12 00     	adc	#L236+14
  5343 04:144A: 1B           	tcs
  5344 04:144B: 98           	tya
  5345 04:144C: 6B           	rtl
  5346                        ;}
  5347                        	.line	674
  5348                        	.endblock	674
  5349             00000004   L236	equ	4
  5350             00000001   L237	equ	1
  5351 04:144D:              	ends
  5352                        	efunc
  5353                        	.endfunc	674,1,4
  5354                        	.line	674
  5355                        ;
  5356                        ;UINT k_user_DrawWindowTextToPointWithFont(HWND hW
                    nd,LPCSTR text,UINT color,PRECT rectInOUt,LPCSTR charSet)
  5357                        ;{
  5358                        	.line	676
  5359                        	.line	677
  5360                        	WINMAN
  5361                        	xdef	~~k_user_DrawWindowTextToPointWithFont
  5362                        	func
  5363                        	.function	677
  5364                        ~~k_user_DrawWindowTextToPointWithFont:
  5365                        	longa	on
  5366                        	longi	on
  5367 04:144D: 3B           	tsc
  5368 04:144E: 38           	sec
  5369 04:144F: E9 06 00     	sbc	#L241
  5370 04:1452: 1B           	tcs
  5371 04:1453: 0B           	phd
  5372 04:1454: 5B           	tcd
  5373             00000004   hWnd_0	set	4
  5374             00000008   text_0	set	8
  5375             0000000C   color_0	set	12
  5376             0000000E   rectInOUt_0	set	14
  5377             00000012   charSet_0	set	18
  5378                        	.block	677
  5379                        ;	UINT x = 0;
  5380                        ;	PWINDOW pWin = k_getWindowFromHandle(hWnd);
  5381                        ;
  5382                        ;	if(pWin)
  5383             00000000   x_1	set	0
  5384             00000002   pWin_1	set	2
  5385                        	.sym	x,0,16,1,16
  5386                        	.sym	pWin,2,138,1,32,27
  5387                        	.sym	hWnd,4,129,6,32
  5388                        	.sym	text,8,142,6,32
  5389                        	.sym	color,12,16,6,16
  5390                        	.sym	rectInOUt,14,138,6,32,22
  5391                        	.sym	charSet,18,142,6,32
  5392 04:1455: 64 01        	stz	<L242+x_1
  5393 04:1457: D4 0C        	pei	<L241+hWnd_0+2
  Mon Dec  7 2020 11:19                                                Page 105


  5394 04:1459: D4 0A        	pei	<L241+hWnd_0
  5395 04:145B: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
  5396 04:145F: 85 03        	sta	<L242+pWin_1
  5397 04:1461: 86 05        	stx	<L242+pWin_1+2
  5398                        	.line	681
  5399                        ;	{
  5400 04:1463: A5 03        	lda	<L242+pWin_1
  5401 04:1465: 05 05        	ora	<L242+pWin_1+2
  5402 04:1467: D0 03        	bne	L244
  5403 04:1469: 82 25 00     	brl	L10036
  5404                        L244:
  5405                        	.line	682
  5406                        ;		//if(pWin->clientRect.y + rectInOUt->y >
                     pWin->win_height)
  5407                        ;		//	return 0;
  5408                        ;
  5409                        ;		x = k_draw_text_point_with_font(text,cha
                    rSet,pWin->clientRect.x + rectInOUt->x,pWin->clientRect.y + 
                    rectInOUt->y,color);
  5410                        	.line	686
  5411 04:146C: D4 12        	pei	<L241+color_0
  5412 04:146E: 18           	clc
  5413 04:146F: A0 1A 00     	ldy	#$1a
  5414 04:1472: B7 03        	lda	[<L242+pWin_1],Y
  5415 04:1474: A0 02 00     	ldy	#$2
  5416 04:1477: 77 14        	adc	[<L241+rectInOUt_0],Y
  5417 04:1479: 48           	pha
  5418 04:147A: 18           	clc
  5419 04:147B: A0 18 00     	ldy	#$18
  5420 04:147E: B7 03        	lda	[<L242+pWin_1],Y
  5421 04:1480: 67 14        	adc	[<L241+rectInOUt_0]
  5422 04:1482: 48           	pha
  5423 04:1483: D4 1A        	pei	<L241+charSet_0+2
  5424 04:1485: D4 18        	pei	<L241+charSet_0
  5425 04:1487: D4 10        	pei	<L241+text_0+2
  5426 04:1489: D4 0E        	pei	<L241+text_0
  5427 04:148B: 22 xx xx xx  	jsl	~~k_draw_text_point_with_font
  5428 04:148F: 85 01        	sta	<L242+x_1
  5429                        ;	}
  5430                        	.line	687
  5431                        ;
  5432                        ;	return x;
  5433                        L10036:
  5434                        	.line	689
  5435 04:1491: A5 01        	lda	<L242+x_1
  5436                        L245:
  5437 04:1493: A8           	tay
  5438 04:1494: A5 08        	lda	<L241+2
  5439 04:1496: 85 1A        	sta	<L241+2+18
  5440 04:1498: A5 07        	lda	<L241+1
  5441 04:149A: 85 19        	sta	<L241+1+18
  5442 04:149C: 2B           	pld
  5443 04:149D: 3B           	tsc
  5444 04:149E: 18           	clc
  5445 04:149F: 69 18 00     	adc	#L241+18
  5446 04:14A2: 1B           	tcs
  5447 04:14A3: 98           	tya
  5448 04:14A4: 6B           	rtl
  Mon Dec  7 2020 11:19                                                Page 106


  5449                        ;}
  5450                        	.line	690
  5451                        	.endblock	690
  5452             00000006   L241	equ	6
  5453             00000001   L242	equ	1
  5454 04:14A5:              	ends
  5455                        	efunc
  5456                        	.endfunc	690,1,6
  5457                        	.line	690
  5458                        ;
  5459                        ;
  5460                        ;PRECT k_user_FillClientRect(HWND hWnd,UINT color)
  5461                        ;{
  5462                        	.line	693
  5463                        	.line	694
  5464                        	WINMAN
  5465                        	xdef	~~k_user_FillClientRect
  5466                        	func
  5467                        	.function	694
  5468                        ~~k_user_FillClientRect:
  5469                        	longa	on
  5470                        	longi	on
  5471 04:14A5: 3B           	tsc
  5472 04:14A6: 38           	sec
  5473 04:14A7: E9 0C 00     	sbc	#L246
  5474 04:14AA: 1B           	tcs
  5475 04:14AB: 0B           	phd
  5476 04:14AC: 5B           	tcd
  5477             00000004   hWnd_0	set	4
  5478             00000008   color_0	set	8
  5479                        	.block	694
  5480                        ;	PRECT prect = NULL;
  5481                        ;
  5482                        ;	if(hWnd)
  5483             00000000   prect_1	set	0
  5484                        	.sym	prect,0,138,1,32,22
  5485                        	.sym	hWnd,4,129,6,32
  5486                        	.sym	color,8,16,6,16
  5487 04:14AD: 64 09        	stz	<L247+prect_1
  5488 04:14AF: 64 0B        	stz	<L247+prect_1+2
  5489                        	.line	697
  5490                        ;	{
  5491 04:14B1: A5 10        	lda	<L246+hWnd_0
  5492 04:14B3: 05 12        	ora	<L246+hWnd_0+2
  5493 04:14B5: D0 03        	bne	L249
  5494 04:14B7: 82 54 00     	brl	L10037
  5495                        L249:
  5496                        	.line	698
  5497                        ;		prect = &(k_getWindowFromHandle(hWnd)->c
                    lientRect);
  5498                        	.line	699
  5499 04:14BA: D4 12        	pei	<L246+hWnd_0+2
  5500 04:14BC: D4 10        	pei	<L246+hWnd_0
  5501 04:14BE: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
  5502 04:14C2: 85 01        	sta	<R0
  5503 04:14C4: 86 03        	stx	<R0+2
  5504 04:14C6: 18           	clc
  5505 04:14C7: A9 18 00     	lda	#$18
  Mon Dec  7 2020 11:19                                                Page 107


  5506 04:14CA: 65 01        	adc	<R0
  5507 04:14CC: 85 09        	sta	<L247+prect_1
  5508 04:14CE: A9 00 00     	lda	#$0
  5509 04:14D1: 65 03        	adc	<R0+2
  5510 04:14D3: 85 0B        	sta	<L247+prect_1+2
  5511                        ;		k_vdma_fill_rect(prect->x,prect->y,
  5512                        	.line	700
  5513                        ;						 prect->
                    width,prect->height,
  5514                        ;						 color);
  5515 04:14D5: D4 14        	pei	<L246+color_0
  5516 04:14D7: A0 06 00     	ldy	#$6
  5517 04:14DA: B7 09        	lda	[<L247+prect_1],Y
  5518 04:14DC: 48           	pha
  5519 04:14DD: A0 04 00     	ldy	#$4
  5520 04:14E0: B7 09        	lda	[<L247+prect_1],Y
  5521 04:14E2: 48           	pha
  5522 04:14E3: A0 00 00     	ldy	#$0
  5523 04:14E6: 5A           	phy
  5524 04:14E7: A0 02 00     	ldy	#$2
  5525 04:14EA: B7 09        	lda	[<L247+prect_1],Y
  5526 04:14EC: 7A           	ply
  5527 04:14ED: 2A           	rol	A
  5528 04:14EE: 6A           	ror	A
  5529 04:14EF: 10 01        	bpl	L250
  5530 04:14F1: 88           	dey
  5531                        L250:
  5532 04:14F2: 85 01        	sta	<R0
  5533 04:14F4: 84 03        	sty	<R0+2
  5534 04:14F6: D4 03        	pei	<R0+2
  5535 04:14F8: D4 01        	pei	<R0
  5536 04:14FA: A0 00 00     	ldy	#$0
  5537 04:14FD: A7 09        	lda	[<L247+prect_1]
  5538 04:14FF: 10 01        	bpl	L251
  5539 04:1501: 88           	dey
  5540                        L251:
  5541 04:1502: 85 05        	sta	<R1
  5542 04:1504: 84 07        	sty	<R1+2
  5543 04:1506: D4 07        	pei	<R1+2
  5544 04:1508: D4 05        	pei	<R1
  5545 04:150A: 22 xx xx xx  	jsl	~~k_vdma_fill_rect
  5546                        ;	}
  5547                        	.line	703
  5548                        ;
  5549                        ;
  5550                        ;	return prect;
  5551                        L10037:
  5552                        	.line	706
  5553 04:150E: A6 0B        	ldx	<L247+prect_1+2
  5554 04:1510: A5 09        	lda	<L247+prect_1
  5555                        L252:
  5556 04:1512: A8           	tay
  5557 04:1513: A5 0E        	lda	<L246+2
  5558 04:1515: 85 14        	sta	<L246+2+6
  5559 04:1517: A5 0D        	lda	<L246+1
  5560 04:1519: 85 13        	sta	<L246+1+6
  5561 04:151B: 2B           	pld
  5562 04:151C: 3B           	tsc
  Mon Dec  7 2020 11:19                                                Page 108


  5563 04:151D: 18           	clc
  5564 04:151E: 69 12 00     	adc	#L246+6
  5565 04:1521: 1B           	tcs
  5566 04:1522: 98           	tya
  5567 04:1523: 6B           	rtl
  5568                        ;}
  5569                        	.line	707
  5570                        	.endblock	707
  5571             0000000C   L246	equ	12
  5572             00000009   L247	equ	9
  5573 04:1524:              	ends
  5574                        	efunc
  5575                        	.endfunc	707,9,12
  5576                        	.line	707
  5577                        ;
  5578                        ;HANDLE k_user_RegisterWindowClass(PWNDCLASS pTemp
                    late)
  5579                        ;{
  5580                        	.line	709
  5581                        	.line	710
  5582                        	WINMAN
  5583                        	xdef	~~k_user_RegisterWindowClass
  5584                        	func
  5585                        	.function	710
  5586                        ~~k_user_RegisterWindowClass:
  5587                        	longa	on
  5588                        	longi	on
  5589 04:1524: 3B           	tsc
  5590 04:1525: 38           	sec
  5591 04:1526: E9 00 00     	sbc	#L253
  5592 04:1529: 1B           	tcs
  5593 04:152A: 0B           	phd
  5594 04:152B: 5B           	tcd
  5595             00000004   pTemplate_0	set	4
  5596                        	.block	710
  5597                        ;	return NULL;
  5598                        	.sym	pTemplate,4,138,6,32,23
  5599                        	.line	711
  5600 04:152C: A9 00 00     	lda	#$0
  5601 04:152F: AA           	tax
  5602 04:1530: A9 00 00     	lda	#$0
  5603                        L256:
  5604 04:1533: A8           	tay
  5605 04:1534: A5 02        	lda	<L253+2
  5606 04:1536: 85 06        	sta	<L253+2+4
  5607 04:1538: A5 01        	lda	<L253+1
  5608 04:153A: 85 05        	sta	<L253+1+4
  5609 04:153C: 2B           	pld
  5610 04:153D: 3B           	tsc
  5611 04:153E: 18           	clc
  5612 04:153F: 69 04 00     	adc	#L253+4
  5613 04:1542: 1B           	tcs
  5614 04:1543: 98           	tya
  5615 04:1544: 6B           	rtl
  5616                        ;}
  5617                        	.line	712
  5618                        	.endblock	712
  5619             00000000   L253	equ	0
  Mon Dec  7 2020 11:19                                                Page 109


  5620             00000001   L254	equ	1
  5621 04:1545:              	ends
  5622                        	efunc
  5623                        	.endfunc	712,1,0
  5624                        	.line	712
  5625                        ;
  5626                        ;
  5627                        ;PWINDOW	k_user_LoadDialog(LPCSTR    pWindowName,
  5628                        ;						  LPCSTR
                    	pDlgClassName,
  5629                        ;   						
                      INT       x,
  5630                        ;						  INT   
                        y,
  5631                        ;						  INT   
                        nWidth,
  5632                        ;						  INT   
                        nHeight,
  5633                        ;						  HWND  
                        hWndParent)
  5634                        ;{
  5635                        	.line	715
  5636                        	.line	722
  5637                        	WINMAN
  5638                        	xdef	~~k_user_LoadDialog
  5639                        	func
  5640                        	.function	722
  5641                        ~~k_user_LoadDialog:
  5642                        	longa	on
  5643                        	longi	on
  5644 04:1545: 3B           	tsc
  5645 04:1546: 38           	sec
  5646 04:1547: E9 04 00     	sbc	#L257
  5647 04:154A: 1B           	tcs
  5648 04:154B: 0B           	phd
  5649 04:154C: 5B           	tcd
  5650             00000004   pWindowName_0	set	4
  5651             00000008   pDlgClassName_0	set	8
  5652             0000000C   x_0	set	12
  5653             0000000E   y_0	set	14
  5654             00000010   nWidth_0	set	16
  5655             00000012   nHeight_0	set	18
  5656             00000014   hWndParent_0	set	20
  5657                        	.block	722
  5658                        ;	return k_user_CreateWindow(FXWS_DLGFRAME | FXWS_
                    VISIBLE,
  5659                        	.sym	pWindowName,4,142,6,32
  5660                        	.sym	pDlgClassName,8,142,6,32
  5661                        	.sym	x,12,5,6,16
  5662                        	.sym	y,14,5,6,16
  5663                        	.sym	nWidth,16,5,6,16
  5664                        	.sym	nHeight,18,5,6,16
  5665                        	.sym	hWndParent,20,129,6,32
  5666                        	.line	723
  5667                        ;							
                       pDlgClassName,
  5668                        ;							
                       pWindowName,
  Mon Dec  7 2020 11:19                                                Page 110


  5669                        ;							
                       x,y,
  5670                        ;							
                       nWidth,nHeight,
  5671                        ;							
                       hWndParent,
  5672                        ;							
                       NULL,
  5673                        ;							
                       NULL);
  5674 04:154D: F4 00 00     	pea	#^$0
  5675 04:1550: F4 00 00     	pea	#<$0
  5676 04:1553: F4 00 00     	pea	#^$0
  5677 04:1556: F4 00 00     	pea	#<$0
  5678 04:1559: D4 1A        	pei	<L257+hWndParent_0+2
  5679 04:155B: D4 18        	pei	<L257+hWndParent_0
  5680 04:155D: D4 16        	pei	<L257+nHeight_0
  5681 04:155F: D4 14        	pei	<L257+nWidth_0
  5682 04:1561: D4 12        	pei	<L257+y_0
  5683 04:1563: D4 10        	pei	<L257+x_0
  5684 04:1565: D4 0A        	pei	<L257+pWindowName_0+2
  5685 04:1567: D4 08        	pei	<L257+pWindowName_0
  5686 04:1569: D4 0E        	pei	<L257+pDlgClassName_0+2
  5687 04:156B: D4 0C        	pei	<L257+pDlgClassName_0
  5688 04:156D: F4 04 00     	pea	#^$40001
  5689 04:1570: F4 01 00     	pea	#<$40001
  5690 04:1573: 22 FB 16 04  	jsl	~~k_user_CreateWindow
  5691 04:1577: 85 01        	sta	<R0
  5692 04:1579: 86 03        	stx	<R0+2
  5693 04:157B: A6 03        	ldx	<R0+2
  5694 04:157D: A5 01        	lda	<R0
  5695                        L260:
  5696 04:157F: A8           	tay
  5697 04:1580: A5 06        	lda	<L257+2
  5698 04:1582: 85 1A        	sta	<L257+2+20
  5699 04:1584: A5 05        	lda	<L257+1
  5700 04:1586: 85 19        	sta	<L257+1+20
  5701 04:1588: 2B           	pld
  5702 04:1589: 3B           	tsc
  5703 04:158A: 18           	clc
  5704 04:158B: 69 18 00     	adc	#L257+20
  5705 04:158E: 1B           	tcs
  5706 04:158F: 98           	tya
  5707 04:1590: 6B           	rtl
  5708                        ;
  5709                        ;}
  5710                        	.line	732
  5711                        	.endblock	732
  5712             00000004   L257	equ	4
  5713             00000005   L258	equ	5
  5714 04:1591:              	ends
  5715                        	efunc
  5716                        	.endfunc	732,5,4
  5717                        	.line	732
  5718                        ;
  5719                        ;BOOL k_user_CloseWindow(HWND hWnd)
  5720                        ;{
  5721                        	.line	734
  Mon Dec  7 2020 11:19                                                Page 111


  5722                        	.line	735
  5723                        	WINMAN
  5724                        	xdef	~~k_user_CloseWindow
  5725                        	func
  5726                        	.function	735
  5727                        ~~k_user_CloseWindow:
  5728                        	longa	on
  5729                        	longi	on
  5730 04:1591: 3B           	tsc
  5731 04:1592: 38           	sec
  5732 04:1593: E9 04 00     	sbc	#L261
  5733 04:1596: 1B           	tcs
  5734 04:1597: 0B           	phd
  5735 04:1598: 5B           	tcd
  5736             00000004   hWnd_0	set	4
  5737                        	.block	735
  5738                        ;	PWINDOW pWin = k_getWindowFromHandle(hWnd);
  5739                        ;
  5740                        ;	if(pWin)
  5741             00000000   pWin_1	set	0
  5742                        	.sym	pWin,0,138,1,32,27
  5743                        	.sym	hWnd,4,129,6,32
  5744 04:1599: D4 0A        	pei	<L261+hWnd_0+2
  5745 04:159B: D4 08        	pei	<L261+hWnd_0
  5746 04:159D: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
  5747 04:15A1: 85 01        	sta	<L262+pWin_1
  5748 04:15A3: 86 03        	stx	<L262+pWin_1+2
  5749                        	.line	738
  5750                        ;	{
  5751 04:15A5: A5 01        	lda	<L262+pWin_1
  5752 04:15A7: 05 03        	ora	<L262+pWin_1+2
  5753 04:15A9: D0 03        	bne	L264
  5754 04:15AB: 82 36 00     	brl	L10038
  5755                        L264:
  5756                        	.line	739
  5757                        ;		if(!pWin->isClosed)
  5758                        	.line	740
  5759                        ;		{
  5760 04:15AE: A0 61 01     	ldy	#$161
  5761 04:15B1: B7 01        	lda	[<L262+pWin_1],Y
  5762 04:15B3: 29 FF 00     	and	#$ff
  5763 04:15B6: F0 03        	beq	L265
  5764 04:15B8: 82 14 00     	brl	L10039
  5765                        L265:
  5766                        	.line	741
  5767                        ;			k_send_window_message(hWnd,FX_WI
                    NDOW_CLOSE,NULL,0);
  5768                        	.line	742
  5769 04:15BB: F4 00 00     	pea	#<$0
  5770 04:15BE: F4 00 00     	pea	#^$0
  5771 04:15C1: F4 00 00     	pea	#<$0
  5772 04:15C4: F4 FF FB     	pea	#<$fbff
  5773 04:15C7: D4 0A        	pei	<L261+hWnd_0+2
  5774 04:15C9: D4 08        	pei	<L261+hWnd_0
  5775 04:15CB: 22 xx xx xx  	jsl	~~k_send_window_message
  5776                        ;		}
  5777                        	.line	743
  5778                        ;		return TRUE;
  Mon Dec  7 2020 11:19                                                Page 112


  5779                        L10039:
  5780                        	.line	744
  5781 04:15CF: A9 01 00     	lda	#$1
  5782                        L266:
  5783 04:15D2: A8           	tay
  5784 04:15D3: A5 06        	lda	<L261+2
  5785 04:15D5: 85 0A        	sta	<L261+2+4
  5786 04:15D7: A5 05        	lda	<L261+1
  5787 04:15D9: 85 09        	sta	<L261+1+4
  5788 04:15DB: 2B           	pld
  5789 04:15DC: 3B           	tsc
  5790 04:15DD: 18           	clc
  5791 04:15DE: 69 08 00     	adc	#L261+4
  5792 04:15E1: 1B           	tcs
  5793 04:15E2: 98           	tya
  5794 04:15E3: 6B           	rtl
  5795                        ;	}
  5796                        	.line	745
  5797                        ;
  5798                        ;	return FALSE;
  5799                        L10038:
  5800                        	.line	747
  5801 04:15E4: A9 00 00     	lda	#$0
  5802 04:15E7: 82 E8 FF     	brl	L266
  5803                        ;}
  5804                        	.line	748
  5805                        	.endblock	748
  5806             00000004   L261	equ	4
  5807             00000001   L262	equ	1
  5808 04:15EA:              	ends
  5809                        	efunc
  5810                        	.endfunc	748,1,4
  5811                        	.line	748
  5812                        ;
  5813                        ;BOOL k_user_DestroyWindow(HWND hWnd)
  5814                        ;{
  5815                        	.line	750
  5816                        	.line	751
  5817                        	WINMAN
  5818                        	xdef	~~k_user_DestroyWindow
  5819                        	func
  5820                        	.function	751
  5821                        ~~k_user_DestroyWindow:
  5822                        	longa	on
  5823                        	longi	on
  5824 04:15EA: 3B           	tsc
  5825 04:15EB: 38           	sec
  5826 04:15EC: E9 0D 00     	sbc	#L267
  5827 04:15EF: 1B           	tcs
  5828 04:15F0: 0B           	phd
  5829 04:15F1: 5B           	tcd
  5830             00000004   hWnd_0	set	4
  5831                        	.block	751
  5832                        ;	BOOL bRet = FALSE;
  5833                        ;
  5834                        ;	PWINDOW pWin = k_getWindowFromHandle(hWnd);
  5835                        ;
  5836                        ;	if(pWin && !pWin->isClosed && !pWin->isClosing)
  Mon Dec  7 2020 11:19                                                Page 113


  5837             00000000   bRet_1	set	0
  5838             00000001   pWin_1	set	1
  5839                        	.sym	bRet,0,14,1,8
  5840                        	.sym	pWin,1,138,1,32,27
  5841                        	.sym	hWnd,4,129,6,32
  5842 04:15F2: E2 20        	sep	#$20
  5843                        	longa	off
  5844 04:15F4: 64 09        	stz	<L268+bRet_1
  5845 04:15F6: C2 20        	rep	#$20
  5846                        	longa	on
  5847 04:15F8: D4 13        	pei	<L267+hWnd_0+2
  5848 04:15FA: D4 11        	pei	<L267+hWnd_0
  5849 04:15FC: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
  5850 04:1600: 85 0A        	sta	<L268+pWin_1
  5851 04:1602: 86 0C        	stx	<L268+pWin_1+2
  5852                        	.line	756
  5853                        ;	{
  5854 04:1604: A5 0A        	lda	<L268+pWin_1
  5855 04:1606: 05 0C        	ora	<L268+pWin_1+2
  5856 04:1608: D0 03        	bne	L270
  5857 04:160A: 82 D7 00     	brl	L10040
  5858                        L270:
  5859 04:160D: A0 61 01     	ldy	#$161
  5860 04:1610: B7 0A        	lda	[<L268+pWin_1],Y
  5861 04:1612: 29 FF 00     	and	#$ff
  5862 04:1615: F0 03        	beq	L271
  5863 04:1617: 82 CA 00     	brl	L10040
  5864                        L271:
  5865 04:161A: A0 62 01     	ldy	#$162
  5866 04:161D: B7 0A        	lda	[<L268+pWin_1],Y
  5867 04:161F: 29 FF 00     	and	#$ff
  5868 04:1622: F0 03        	beq	L272
  5869 04:1624: 82 BD 00     	brl	L10040
  5870                        L272:
  5871                        	.line	757
  5872                        ;		if(pWin->pChildWindows)
  5873                        	.line	758
  5874                        ;		{
  5875 04:1627: A0 3C 01     	ldy	#$13c
  5876 04:162A: B7 0A        	lda	[<L268+pWin_1],Y
  5877 04:162C: A0 3E 01     	ldy	#$13e
  5878 04:162F: 17 0A        	ora	[<L268+pWin_1],Y
  5879 04:1631: D0 03        	bne	L273
  5880 04:1633: 82 14 00     	brl	L10041
  5881                        L273:
  5882                        	.line	759
  5883                        ;			_k_user_send_child_message(hWnd,
                    FX_WINDOW_CLOSE,NULL,0);
  5884                        	.line	760
  5885 04:1636: F4 00 00     	pea	#<$0
  5886 04:1639: F4 00 00     	pea	#^$0
  5887 04:163C: F4 00 00     	pea	#<$0
  5888 04:163F: F4 FF FB     	pea	#<$fbff
  5889 04:1642: D4 13        	pei	<L267+hWnd_0+2
  5890 04:1644: D4 11        	pei	<L267+hWnd_0
  5891 04:1646: 22 4F 4E 04  	jsl	~~_k_user_send_child_message
  5892                        ;		}
  5893                        	.line	761
  Mon Dec  7 2020 11:19                                                Page 114


  5894                        ;		k_vdma_fill_rect_ex(pWin->win_x,pWin->wi
                    n_y, pWin->win_width, pWin->win_height,
  5895                        L10041:
  5896                        	.line	762
  5897                        ;							
                    FILLCOLOR_TRANSPARENT,BITMAP_FRONT);
  5898 04:164A: F4 00 00     	pea	#<$0
  5899 04:164D: F4 00 00     	pea	#<$0
  5900 04:1650: A0 0E 00     	ldy	#$e
  5901 04:1653: B7 0A        	lda	[<L268+pWin_1],Y
  5902 04:1655: 48           	pha
  5903 04:1656: A0 0C 00     	ldy	#$c
  5904 04:1659: B7 0A        	lda	[<L268+pWin_1],Y
  5905 04:165B: 48           	pha
  5906 04:165C: A0 00 00     	ldy	#$0
  5907 04:165F: 5A           	phy
  5908 04:1660: A0 0A 00     	ldy	#$a
  5909 04:1663: B7 0A        	lda	[<L268+pWin_1],Y
  5910 04:1665: 7A           	ply
  5911 04:1666: 2A           	rol	A
  5912 04:1667: 6A           	ror	A
  5913 04:1668: 10 01        	bpl	L274
  5914 04:166A: 88           	dey
  5915                        L274:
  5916 04:166B: 85 01        	sta	<R0
  5917 04:166D: 84 03        	sty	<R0+2
  5918 04:166F: D4 03        	pei	<R0+2
  5919 04:1671: D4 01        	pei	<R0
  5920 04:1673: A0 00 00     	ldy	#$0
  5921 04:1676: 5A           	phy
  5922 04:1677: A0 08 00     	ldy	#$8
  5923 04:167A: B7 0A        	lda	[<L268+pWin_1],Y
  5924 04:167C: 7A           	ply
  5925 04:167D: 2A           	rol	A
  5926 04:167E: 6A           	ror	A
  5927 04:167F: 10 01        	bpl	L275
  5928 04:1681: 88           	dey
  5929                        L275:
  5930 04:1682: 85 05        	sta	<R1
  5931 04:1684: 84 07        	sty	<R1+2
  5932 04:1686: D4 07        	pei	<R1+2
  5933 04:1688: D4 05        	pei	<R1
  5934 04:168A: 22 xx xx xx  	jsl	~~k_vdma_fill_rect_ex
  5935                        ;
  5936                        ;		k_debug_strings("k_user_DestroyWindow:",
                    (LPCHAR)pWin->win_title);
  5937                        	.line	765
  5938 04:168E: 18           	clc
  5939 04:168F: A9 D4 00     	lda	#$d4
  5940 04:1692: 65 0A        	adc	<L268+pWin_1
  5941 04:1694: 85 01        	sta	<R0
  5942 04:1696: A9 00 00     	lda	#$0
  5943 04:1699: 65 0C        	adc	<L268+pWin_1+2
  5944 04:169B: 85 03        	sta	<R0+2
  5945 04:169D: D4 03        	pei	<R0+2
  5946 04:169F: D4 01        	pei	<R0
  5947 04:16A1: F4 xx xx     	pea	#^L198
  5948 04:16A4: F4 xx xx     	pea	#<L198
  Mon Dec  7 2020 11:19                                                Page 115


  5949 04:16A7: 22 xx xx xx  	jsl	~~k_debug_strings
  5950                        ;		k_copy_window_page_region(BITMAP_PAGE1,p
                    Win->win_x,pWin->win_y,
  5951                        	.line	766
  5952                        ;							
                    	  pWin->win_width,pWin->win_height,
  5953                        ;							
                    	  BITMAP_FRONT,
  5954                        ;							
                    	  pWin->win_x,pWin->win_y);
  5955 04:16AB: A0 0A 00     	ldy	#$a
  5956 04:16AE: B7 0A        	lda	[<L268+pWin_1],Y
  5957 04:16B0: 48           	pha
  5958 04:16B1: A0 08 00     	ldy	#$8
  5959 04:16B4: B7 0A        	lda	[<L268+pWin_1],Y
  5960 04:16B6: 48           	pha
  5961 04:16B7: F4 00 00     	pea	#<$0
  5962 04:16BA: A0 0E 00     	ldy	#$e
  5963 04:16BD: B7 0A        	lda	[<L268+pWin_1],Y
  5964 04:16BF: 48           	pha
  5965 04:16C0: A0 0C 00     	ldy	#$c
  5966 04:16C3: B7 0A        	lda	[<L268+pWin_1],Y
  5967 04:16C5: 48           	pha
  5968 04:16C6: A0 0A 00     	ldy	#$a
  5969 04:16C9: B7 0A        	lda	[<L268+pWin_1],Y
  5970 04:16CB: 48           	pha
  5971 04:16CC: A0 08 00     	ldy	#$8
  5972 04:16CF: B7 0A        	lda	[<L268+pWin_1],Y
  5973 04:16D1: 48           	pha
  5974 04:16D2: F4 20 00     	pea	#<$20
  5975 04:16D5: 22 DD 66 04  	jsl	~~k_copy_window_page_region
  5976                        ;
  5977                        ;		/*
  5978                        ;		k_vdma_fill_rect_ex(pWin->win_x,pWin->wi
                    n_y, pWin->win_width, pWin->win_height,
  5979                        ;							
                    k_getUIBackgroundColor(),BITMAP_BACK);
  5980                        ;		*/
  5981                        ;		pWin->isClosing = TRUE;
  5982                        	.line	775
  5983 04:16D9: E2 20        	sep	#$20
  5984                        	longa	off
  5985 04:16DB: A9 01        	lda	#$1
  5986 04:16DD: A0 62 01     	ldy	#$162
  5987 04:16E0: 97 0A        	sta	[<L268+pWin_1],Y
  5988 04:16E2: C2 20        	rep	#$20
  5989                        	longa	on
  5990                        ;	}
  5991                        	.line	776
  5992                        ;
  5993                        ;	return bRet;
  5994                        L10040:
  5995                        	.line	778
  5996 04:16E4: A5 09        	lda	<L268+bRet_1
  5997 04:16E6: 29 FF 00     	and	#$ff
  5998                        L276:
  5999 04:16E9: A8           	tay
  6000 04:16EA: A5 0F        	lda	<L267+2
  Mon Dec  7 2020 11:19                                                Page 116


  6001 04:16EC: 85 13        	sta	<L267+2+4
  6002 04:16EE: A5 0E        	lda	<L267+1
  6003 04:16F0: 85 12        	sta	<L267+1+4
  6004 04:16F2: 2B           	pld
  6005 04:16F3: 3B           	tsc
  6006 04:16F4: 18           	clc
  6007 04:16F5: 69 11 00     	adc	#L267+4
  6008 04:16F8: 1B           	tcs
  6009 04:16F9: 98           	tya
  6010 04:16FA: 6B           	rtl
  6011                        ;}
  6012                        	.line	779
  6013                        	.endblock	779
  6014             0000000D   L267	equ	13
  6015             00000009   L268	equ	9
  6016 04:16FB:              	ends
  6017                        	efunc
  6018                        	.endfunc	779,9,13
  6019                        	.line	779
  6020                        	data
  6021                        L198:
  6022 00:050D: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$44,$65,$73,
                    $74,$72,$6F,$79,$57
       00:0511: 65 72 5F 44 
       00:0515: 65 73 74 72 
       00:0519: 6F 79 57 
  6023 00:051C: 69 6E 64 6F  	db	$69,$6E,$64,$6F,$77,$3A,$00
       00:0520: 77 3A 00 
  6024 00:0523:              	ends
  6025                        ;
  6026                        ;PWINDOW	k_user_CreateWindow(ULONG     style,
  6027                        ;						    LPCS
                    TR    pClassName,
  6028                        ;							
                    LPCSTR    pWindowName,
  6029                        ;							
                    INT       x,
  6030                        ;							
                    INT       y,
  6031                        ;							
                    INT       nWidth,
  6032                        ;							
                    INT       nHeight,
  6033                        ;							
                    HWND      hWndParent,
  6034                        ;							
                    HMENU     hMenu,
  6035                        ;							
                    HINSTANCE hInstance)
  6036                        ;{
  6037                        	.line	781
  6038                        	.line	791
  6039                        	WINMAN
  6040                        	xdef	~~k_user_CreateWindow
  6041                        	func
  6042                        	.function	791
  6043                        ~~k_user_CreateWindow:
  6044                        	longa	on
  Mon Dec  7 2020 11:19                                                Page 117


  6045                        	longi	on
  6046 04:16FB: 3B           	tsc
  6047 04:16FC: 38           	sec
  6048 04:16FD: E9 30 00     	sbc	#L278
  6049 04:1700: 1B           	tcs
  6050 04:1701: 0B           	phd
  6051 04:1702: 5B           	tcd
  6052             00000004   style_0	set	4
  6053             00000008   pClassName_0	set	8
  6054             0000000C   pWindowName_0	set	12
  6055             00000010   x_0	set	16
  6056             00000012   y_0	set	18
  6057             00000014   nWidth_0	set	20
  6058             00000016   nHeight_0	set	22
  6059             00000018   hWndParent_0	set	24
  6060             0000001C   hMenu_0	set	28
  6061             00000020   hInstance_0	set	32
  6062                        	.block	791
  6063                        ;
  6064                        ;	PFXNODE   found = NULL;
  6065                        ;	PWINDOW   pWin = NULL;
  6066                        ;	PWINDOW   pParent = NULL;
  6067                        ;	PWNDCLASS wndClass = NULL;
  6068                        ;
  6069                        ;	UCHAR localBuffer[16];
  6070                        ;
  6071                        ;	PFXPROCESS p = k_exec_get_current_process();
  6072                        ;
  6073                        ;	k_debug_strings("k_user_CreateWindow:",(LPCHAR)p
                    WindowName);
  6074             00000000   found_1	set	0
  6075             00000004   pWin_1	set	4
  6076             00000008   pParent_1	set	8
  6077             0000000C   wndClass_1	set	12
  6078             00000010   localBuffer_1	set	16
  6079             00000020   p_1	set	32
  6080                        	.sym	found,0,138,1,32,2
  6081                        	.sym	pWin,4,138,1,32,27
  6082                        	.sym	pParent,8,138,1,32,27
  6083                        	.sym	wndClass,12,138,1,32,23
  6084                        	.sym	localBuffer,16,110,1,0,16
  6085                        	.sym	p,32,138,1,32,17
  6086                        	.sym	style,4,18,6,32
  6087                        	.sym	pClassName,8,142,6,32
  6088                        	.sym	pWindowName,12,142,6,32
  6089                        	.sym	x,16,5,6,16
  6090                        	.sym	y,18,5,6,16
  6091                        	.sym	nWidth,20,5,6,16
  6092                        	.sym	nHeight,22,5,6,16
  6093                        	.sym	hWndParent,24,129,6,32
  6094                        	.sym	hMenu,28,129,6,32
  6095                        	.sym	hInstance,32,129,6,32
  6096 04:1703: 64 09        	stz	<L279+found_1
  6097 04:1705: 64 0B        	stz	<L279+found_1+2
  6098 04:1707: 64 0D        	stz	<L279+pWin_1
  6099 04:1709: 64 0F        	stz	<L279+pWin_1+2
  6100 04:170B: 64 11        	stz	<L279+pParent_1
  6101 04:170D: 64 13        	stz	<L279+pParent_1+2
  Mon Dec  7 2020 11:19                                                Page 118


  6102 04:170F: 64 15        	stz	<L279+wndClass_1
  6103 04:1711: 64 17        	stz	<L279+wndClass_1+2
  6104 04:1713: 22 xx xx xx  	jsl	~~k_exec_get_current_process
  6105 04:1717: 85 29        	sta	<L279+p_1
  6106 04:1719: 86 2B        	stx	<L279+p_1+2
  6107                        	.line	802
  6108 04:171B: D4 3E        	pei	<L278+pWindowName_0+2
  6109 04:171D: D4 3C        	pei	<L278+pWindowName_0
  6110 04:171F: F4 xx xx     	pea	#^L277
  6111 04:1722: F4 xx xx     	pea	#<L277
  6112 04:1725: 22 xx xx xx  	jsl	~~k_debug_strings
  6113                        ;
  6114                        ;	if(pClassName && pWindowName)
  6115                        	.line	804
  6116                        ;	{
  6117 04:1729: A5 38        	lda	<L278+pClassName_0
  6118 04:172B: 05 3A        	ora	<L278+pClassName_0+2
  6119 04:172D: D0 03        	bne	L281
  6120 04:172F: 82 1D 04     	brl	L10042
  6121                        L281:
  6122 04:1732: A5 3C        	lda	<L278+pWindowName_0
  6123 04:1734: 05 3E        	ora	<L278+pWindowName_0+2
  6124 04:1736: D0 03        	bne	L282
  6125 04:1738: 82 14 04     	brl	L10042
  6126                        L282:
  6127                        	.line	805
  6128                        ;		//pWindowName = strupr((LPCHAR)pWindowNa
                    me); // temp fix for font def issue
  6129                        ;
  6130                        ;		found = k_nodelist_searchByName(_k_windo
                    wManager_WindowClassList,pClassName);
  6131                        	.line	808
  6132 04:173B: D4 3A        	pei	<L278+pClassName_0+2
  6133 04:173D: D4 38        	pei	<L278+pClassName_0
  6134 04:173F: AD xx xx     	lda	|~~_k_windowManager_WindowClassList+2
  6135 04:1742: 48           	pha
  6136 04:1743: AD xx xx     	lda	|~~_k_windowManager_WindowClassList
  6137 04:1746: 48           	pha
  6138 04:1747: 22 xx xx xx  	jsl	~~k_nodelist_searchByName
  6139 04:174B: 85 09        	sta	<L279+found_1
  6140 04:174D: 86 0B        	stx	<L279+found_1+2
  6141                        ;		if(found && found->data)
  6142                        	.line	809
  6143                        ;		{
  6144 04:174F: A5 09        	lda	<L279+found_1
  6145 04:1751: 05 0B        	ora	<L279+found_1+2
  6146 04:1753: D0 03        	bne	L283
  6147 04:1755: 82 F7 03     	brl	L10043
  6148                        L283:
  6149 04:1758: A0 02 00     	ldy	#$2
  6150 04:175B: B7 09        	lda	[<L279+found_1],Y
  6151 04:175D: A0 04 00     	ldy	#$4
  6152 04:1760: 17 09        	ora	[<L279+found_1],Y
  6153 04:1762: D0 03        	bne	L284
  6154 04:1764: 82 E8 03     	brl	L10043
  6155                        L284:
  6156                        	.line	810
  6157                        ;			wndClass = (PWNDCLASS)found->dat
  Mon Dec  7 2020 11:19                                                Page 119


                    a;
  6158                        	.line	811
  6159 04:1767: A0 02 00     	ldy	#$2
  6160 04:176A: B7 09        	lda	[<L279+found_1],Y
  6161 04:176C: 85 15        	sta	<L279+wndClass_1
  6162 04:176E: A0 04 00     	ldy	#$4
  6163 04:1771: B7 09        	lda	[<L279+found_1],Y
  6164 04:1773: 85 17        	sta	<L279+wndClass_1+2
  6165                        ;
  6166                        ;			//k_debug_strings("k_user_Create
                    Window:Found WndClass:",(LPVOID)wndClass->lpszClassName);
  6167                        ;
  6168                        ;			pWin = k_mem_allocate_heap(sizeo
                    f(WINDOW));
  6169                        	.line	815
  6170 04:1775: F4 63 01     	pea	#<$163
  6171 04:1778: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  6172 04:177C: 85 0D        	sta	<L279+pWin_1
  6173 04:177E: 86 0F        	stx	<L279+pWin_1+2
  6174                        ;			if(pWin)
  6175                        	.line	816
  6176                        ;			{
  6177 04:1780: A5 0D        	lda	<L279+pWin_1
  6178 04:1782: 05 0F        	ora	<L279+pWin_1+2
  6179 04:1784: D0 03        	bne	L285
  6180 04:1786: 82 C6 03     	brl	L10044
  6181                        L285:
  6182                        	.line	817
  6183                        ;				memset(pWin,0,sizeof(WIN
                    DOW));
  6184                        	.line	818
  6185 04:1789: F4 63 01     	pea	#<$163
  6186 04:178C: F4 00 00     	pea	#<$0
  6187 04:178F: D4 0F        	pei	<L279+pWin_1+2
  6188 04:1791: D4 0D        	pei	<L279+pWin_1
  6189 04:1793: 22 xx xx xx  	jsl	~~memset
  6190                        ;				pWin->cbSize = sizeof(WI
                    NDOW);
  6191                        	.line	819
  6192 04:1797: A9 63 01     	lda	#$163
  6193 04:179A: 87 0D        	sta	[<L279+pWin_1]
  6194                        ;
  6195                        ;				if(p)
  6196                        	.line	821
  6197                        ;				{
  6198 04:179C: A5 29        	lda	<L279+p_1
  6199 04:179E: 05 2B        	ora	<L279+p_1+2
  6200 04:17A0: D0 03        	bne	L286
  6201 04:17A2: 82 17 00     	brl	L10045
  6202                        L286:
  6203                        	.line	822
  6204                        ;					pWin->procid = p
                    ->procId;
  6205                        	.line	823
  6206 04:17A5: A0 02 00     	ldy	#$2
  6207 04:17A8: B7 29        	lda	[<L279+p_1],Y
  6208 04:17AA: A0 2C 01     	ldy	#$12c
  6209 04:17AD: 97 0D        	sta	[<L279+pWin_1],Y
  Mon Dec  7 2020 11:19                                                Page 120


  6210 04:17AF: A0 04 00     	ldy	#$4
  6211 04:17B2: B7 29        	lda	[<L279+p_1],Y
  6212 04:17B4: A0 2E 01     	ldy	#$12e
  6213 04:17B7: 97 0D        	sta	[<L279+pWin_1],Y
  6214                        ;				}
  6215                        	.line	824
  6216                        ;				else
  6217 04:17B9: 82 29 00     	brl	L10046
  6218                        L10045:
  6219                        ;				{
  6220                        	.line	826
  6221                        ;					if(hWndParent)
  6222                        	.line	827
  6223                        ;					{
  6224 04:17BC: A5 48        	lda	<L278+hWndParent_0
  6225 04:17BE: 05 4A        	ora	<L278+hWndParent_0+2
  6226 04:17C0: D0 03        	bne	L287
  6227 04:17C2: 82 20 00     	brl	L10047
  6228                        L287:
  6229                        	.line	828
  6230                        ;						pWin->pr
                    ocid = k_getWindowFromHandle(hWndParent)->procid;
  6231                        	.line	829
  6232 04:17C5: D4 4A        	pei	<L278+hWndParent_0+2
  6233 04:17C7: D4 48        	pei	<L278+hWndParent_0
  6234 04:17C9: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
  6235 04:17CD: 85 01        	sta	<R0
  6236 04:17CF: 86 03        	stx	<R0+2
  6237 04:17D1: A0 2C 01     	ldy	#$12c
  6238 04:17D4: B7 01        	lda	[<R0],Y
  6239 04:17D6: A0 2C 01     	ldy	#$12c
  6240 04:17D9: 97 0D        	sta	[<L279+pWin_1],Y
  6241 04:17DB: A0 2E 01     	ldy	#$12e
  6242 04:17DE: B7 01        	lda	[<R0],Y
  6243 04:17E0: A0 2E 01     	ldy	#$12e
  6244 04:17E3: 97 0D        	sta	[<L279+pWin_1],Y
  6245                        ;					}
  6246                        	.line	830
  6247                        ;				}
  6248                        L10047:
  6249                        	.line	831
  6250                        L10046:
  6251                        ;
  6252                        ;				k_debug_strings("k_user_
                    CreateWindow:",(LPCHAR)pWindowName);
  6253                        	.line	833
  6254 04:17E5: D4 3E        	pei	<L278+pWindowName_0+2
  6255 04:17E7: D4 3C        	pei	<L278+pWindowName_0
  6256 04:17E9: F4 xx xx     	pea	#^L277+21
  6257 04:17EC: F4 xx xx     	pea	#<L277+21
  6258 04:17EF: 22 xx xx xx  	jsl	~~k_debug_strings
  6259                        ;				k_debug_long("Process Id
                    :",(ULONG)pWin->procid);
  6260                        	.line	834
  6261 04:17F3: A0 2E 01     	ldy	#$12e
  6262 04:17F6: B7 0D        	lda	[<L279+pWin_1],Y
  6263 04:17F8: 48           	pha
  6264 04:17F9: A0 2C 01     	ldy	#$12c
  Mon Dec  7 2020 11:19                                                Page 121


  6265 04:17FC: B7 0D        	lda	[<L279+pWin_1],Y
  6266 04:17FE: 48           	pha
  6267 04:17FF: F4 xx xx     	pea	#^L277+42
  6268 04:1802: F4 xx xx     	pea	#<L277+42
  6269 04:1805: 22 xx xx xx  	jsl	~~k_debug_long
  6270                        ;
  6271                        ;				pWin->style = style;
  6272                        	.line	836
  6273 04:1809: A5 34        	lda	<L278+style_0
  6274 04:180B: A0 02 00     	ldy	#$2
  6275 04:180E: 97 0D        	sta	[<L279+pWin_1],Y
  6276 04:1810: A5 36        	lda	<L278+style_0+2
  6277 04:1812: A0 04 00     	ldy	#$4
  6278 04:1815: 97 0D        	sta	[<L279+pWin_1],Y
  6279                        ;				pWin->pParentWindow = hW
                    ndParent;
  6280                        	.line	837
  6281 04:1817: A5 48        	lda	<L278+hWndParent_0
  6282 04:1819: A0 34 01     	ldy	#$134
  6283 04:181C: 97 0D        	sta	[<L279+pWin_1],Y
  6284 04:181E: A5 4A        	lda	<L278+hWndParent_0+2
  6285 04:1820: A0 36 01     	ldy	#$136
  6286 04:1823: 97 0D        	sta	[<L279+pWin_1],Y
  6287                        ;				pWin->pWndClass = wndCla
                    ss;
  6288                        	.line	838
  6289 04:1825: A5 15        	lda	<L279+wndClass_1
  6290 04:1827: A0 30 01     	ldy	#$130
  6291 04:182A: 97 0D        	sta	[<L279+pWin_1],Y
  6292 04:182C: A5 17        	lda	<L279+wndClass_1+2
  6293 04:182E: A0 32 01     	ldy	#$132
  6294 04:1831: 97 0D        	sta	[<L279+pWin_1],Y
  6295                        ;				strcpy(pWin->win_title,p
                    WindowName);
  6296                        	.line	839
  6297 04:1833: D4 3E        	pei	<L278+pWindowName_0+2
  6298 04:1835: D4 3C        	pei	<L278+pWindowName_0
  6299 04:1837: 18           	clc
  6300 04:1838: A9 D4 00     	lda	#$d4
  6301 04:183B: 65 0D        	adc	<L279+pWin_1
  6302 04:183D: 85 01        	sta	<R0
  6303 04:183F: A9 00 00     	lda	#$0
  6304 04:1842: 65 0F        	adc	<L279+pWin_1+2
  6305 04:1844: 85 03        	sta	<R0+2
  6306 04:1846: D4 03        	pei	<R0+2
  6307 04:1848: D4 01        	pei	<R0
  6308 04:184A: 22 xx xx xx  	jsl	~~strcpy
  6309                        ;				strcpy(pWin->win_class_n
                    ame,pClassName);
  6310                        	.line	840
  6311 04:184E: D4 3A        	pei	<L278+pClassName_0+2
  6312 04:1850: D4 38        	pei	<L278+pClassName_0
  6313 04:1852: 18           	clc
  6314 04:1853: A9 06 01     	lda	#$106
  6315 04:1856: 65 0D        	adc	<L279+pWin_1
  6316 04:1858: 85 01        	sta	<R0
  6317 04:185A: A9 00 00     	lda	#$0
  6318 04:185D: 65 0F        	adc	<L279+pWin_1+2
  Mon Dec  7 2020 11:19                                                Page 122


  6319 04:185F: 85 03        	sta	<R0+2
  6320 04:1861: D4 03        	pei	<R0+2
  6321 04:1863: D4 01        	pei	<R0
  6322 04:1865: 22 xx xx xx  	jsl	~~strcpy
  6323                        ;
  6324                        ;
  6325                        ;				pWin->win_x 		
                    = x;
  6326                        	.line	843
  6327 04:1869: A5 40        	lda	<L278+x_0
  6328 04:186B: A0 08 00     	ldy	#$8
  6329 04:186E: 97 0D        	sta	[<L279+pWin_1],Y
  6330                        ;				pWin->win_y 		
                    = y;
  6331                        	.line	844
  6332 04:1870: A5 42        	lda	<L278+y_0
  6333 04:1872: A0 0A 00     	ldy	#$a
  6334 04:1875: 97 0D        	sta	[<L279+pWin_1],Y
  6335                        ;				pWin->win_width 	
                    = nWidth;
  6336                        	.line	845
  6337 04:1877: A5 44        	lda	<L278+nWidth_0
  6338 04:1879: A0 0C 00     	ldy	#$c
  6339 04:187C: 97 0D        	sta	[<L279+pWin_1],Y
  6340                        ;				pWin->win_height	
                    = nHeight;
  6341                        	.line	846
  6342 04:187E: A5 46        	lda	<L278+nHeight_0
  6343 04:1880: A0 0E 00     	ldy	#$e
  6344 04:1883: 97 0D        	sta	[<L279+pWin_1],Y
  6345                        ;
  6346                        ;				if(hWndParent)
  6347                        	.line	848
  6348                        ;				{
  6349 04:1885: A5 48        	lda	<L278+hWndParent_0
  6350 04:1887: 05 4A        	ora	<L278+hWndParent_0+2
  6351 04:1889: D0 03        	bne	L288
  6352 04:188B: 82 3E 00     	brl	L10048
  6353                        L288:
  6354                        	.line	849
  6355                        ;					PWINDOW pParent 
                    = k_getWindowFromHandle(hWndParent);
  6356                        ;					pWin->win_x += p
                    Parent->win_x;
  6357                        	.block	851
  6358             00000024   pParent_2	set	36
  6359                        	.sym	pParent,36,138,1,32,27
  6360 04:188E: D4 4A        	pei	<L278+hWndParent_0+2
  6361 04:1890: D4 48        	pei	<L278+hWndParent_0
  6362 04:1892: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
  6363 04:1896: 85 2D        	sta	<L279+pParent_2
  6364 04:1898: 86 2F        	stx	<L279+pParent_2+2
  6365                        	.line	851
  6366 04:189A: 18           	clc
  6367 04:189B: A9 08 00     	lda	#$8
  6368 04:189E: 65 0D        	adc	<L279+pWin_1
  6369 04:18A0: 85 01        	sta	<R0
  6370 04:18A2: A9 00 00     	lda	#$0
  Mon Dec  7 2020 11:19                                                Page 123


  6371 04:18A5: 65 0F        	adc	<L279+pWin_1+2
  6372 04:18A7: 85 03        	sta	<R0+2
  6373 04:18A9: 18           	clc
  6374 04:18AA: A7 01        	lda	[<R0]
  6375 04:18AC: A0 08 00     	ldy	#$8
  6376 04:18AF: 77 2D        	adc	[<L279+pParent_2],Y
  6377 04:18B1: 87 01        	sta	[<R0]
  6378                        ;					pWin->win_y += p
                    Parent->win_y;
  6379                        	.line	852
  6380 04:18B3: 18           	clc
  6381 04:18B4: A9 0A 00     	lda	#$a
  6382 04:18B7: 65 0D        	adc	<L279+pWin_1
  6383 04:18B9: 85 01        	sta	<R0
  6384 04:18BB: A9 00 00     	lda	#$0
  6385 04:18BE: 65 0F        	adc	<L279+pWin_1+2
  6386 04:18C0: 85 03        	sta	<R0+2
  6387 04:18C2: 18           	clc
  6388 04:18C3: A7 01        	lda	[<R0]
  6389 04:18C5: A0 0A 00     	ldy	#$a
  6390 04:18C8: 77 2D        	adc	[<L279+pParent_2],Y
  6391 04:18CA: 87 01        	sta	[<R0]
  6392                        ;				}
  6393                        	.endblock	853
  6394                        	.line	853
  6395                        ;
  6396                        ;				pWin->hMenu = hMenu;
  6397                        L10048:
  6398                        	.line	855
  6399 04:18CC: A5 4C        	lda	<L278+hMenu_0
  6400 04:18CE: A0 38 01     	ldy	#$138
  6401 04:18D1: 97 0D        	sta	[<L279+pWin_1],Y
  6402 04:18D3: A5 4E        	lda	<L278+hMenu_0+2
  6403 04:18D5: A0 3A 01     	ldy	#$13a
  6404 04:18D8: 97 0D        	sta	[<L279+pWin_1],Y
  6405                        ;				pWin->pChildWindows = NU
                    LL;
  6406                        	.line	856
  6407 04:18DA: A9 00 00     	lda	#$0
  6408 04:18DD: A0 3C 01     	ldy	#$13c
  6409 04:18E0: 97 0D        	sta	[<L279+pWin_1],Y
  6410 04:18E2: A9 00 00     	lda	#$0
  6411 04:18E5: A0 3E 01     	ldy	#$13e
  6412 04:18E8: 97 0D        	sta	[<L279+pWin_1],Y
  6413                        ;				pWin->pChildHitList = NU
                    LL;
  6414                        	.line	857
  6415 04:18EA: A9 00 00     	lda	#$0
  6416 04:18ED: A0 40 01     	ldy	#$140
  6417 04:18F0: 97 0D        	sta	[<L279+pWin_1],Y
  6418 04:18F2: A9 00 00     	lda	#$0
  6419 04:18F5: A0 42 01     	ldy	#$142
  6420 04:18F8: 97 0D        	sta	[<L279+pWin_1],Y
  6421                        ;				pWin->isVisible 	
                    = ((style & FXWS_VISIBLE) == FXWS_VISIBLE);
  6422                        	.line	858
  6423 04:18FA: 64 01        	stz	<R0
  6424 04:18FC: A5 34        	lda	<L278+style_0
  Mon Dec  7 2020 11:19                                                Page 124


  6425 04:18FE: 29 01 00     	and	#<$1
  6426 04:1901: 85 05        	sta	<R1
  6427 04:1903: 64 07        	stz	<R1+2
  6428 04:1905: A5 05        	lda	<R1
  6429 04:1907: C9 01 00     	cmp	#<$1
  6430 04:190A: D0 05        	bne	L291
  6431 04:190C: A5 07        	lda	<R1+2
  6432 04:190E: C9 00 00     	cmp	#^$1
  6433                        L291:
  6434 04:1911: F0 03        	beq	L292
  6435 04:1913: 82 02 00     	brl	L290
  6436                        L292:
  6437 04:1916: E6 01        	inc	<R0
  6438                        L290:
  6439 04:1918: E2 20        	sep	#$20
  6440                        	longa	off
  6441 04:191A: A5 01        	lda	<R0
  6442 04:191C: A0 44 01     	ldy	#$144
  6443 04:191F: 97 0D        	sta	[<L279+pWin_1],Y
  6444 04:1921: C2 20        	rep	#$20
  6445                        	longa	on
  6446                        ;
  6447                        ;				//k_debug_long("k_user_C
                    reateWindow:sytle:",style);
  6448                        ;				//k_debug_long("k_user_C
                    reateWindow:FXWS_VISIBLE:", FXWS_VISIBLE);
  6449                        ;				//k_debug_long("k_user_C
                    reateWindow:style & FXWS_VISIBLE:",style & FXWS_VISIBLE);
  6450                        ;				//k_debug_integer("k_use
                    r_CreateWindow:isVisible:",pWin->isVisible);
  6451                        ;
  6452                        ;
  6453                        ;				pWin->clickable = k_mem_
                    allocate_heap(sizeof(CLICKABLE));
  6454                        	.line	866
  6455 04:1923: F4 0B 00     	pea	#<$b
  6456 04:1926: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  6457 04:192A: 85 01        	sta	<R0
  6458 04:192C: 86 03        	stx	<R0+2
  6459 04:192E: A5 01        	lda	<R0
  6460 04:1930: A0 D0 00     	ldy	#$d0
  6461 04:1933: 97 0D        	sta	[<L279+pWin_1],Y
  6462 04:1935: A5 03        	lda	<R0+2
  6463 04:1937: A0 D2 00     	ldy	#$d2
  6464 04:193A: 97 0D        	sta	[<L279+pWin_1],Y
  6465                        ;				if(pWin->clickable)
  6466                        	.line	867
  6467                        ;				{
  6468 04:193C: A0 D0 00     	ldy	#$d0
  6469 04:193F: B7 0D        	lda	[<L279+pWin_1],Y
  6470 04:1941: A0 D2 00     	ldy	#$d2
  6471 04:1944: 17 0D        	ora	[<L279+pWin_1],Y
  6472 04:1946: D0 03        	bne	L293
  6473 04:1948: 82 73 00     	brl	L10049
  6474                        L293:
  6475                        	.line	868
  6476                        ;					((PCLICKABLE)pWi
                    n->clickable)->area.x 		= pWin->win_x;
  Mon Dec  7 2020 11:19                                                Page 125


  6477                        	.line	869
  6478 04:194B: A0 D0 00     	ldy	#$d0
  6479 04:194E: B7 0D        	lda	[<L279+pWin_1],Y
  6480 04:1950: 85 01        	sta	<R0
  6481 04:1952: A0 D2 00     	ldy	#$d2
  6482 04:1955: B7 0D        	lda	[<L279+pWin_1],Y
  6483 04:1957: 85 03        	sta	<R0+2
  6484 04:1959: A0 08 00     	ldy	#$8
  6485 04:195C: B7 0D        	lda	[<L279+pWin_1],Y
  6486 04:195E: 87 01        	sta	[<R0]
  6487                        ;					((PCLICKABLE)pWi
                    n->clickable)->area.y 		= pWin->win_y;
  6488                        	.line	870
  6489 04:1960: A0 D0 00     	ldy	#$d0
  6490 04:1963: B7 0D        	lda	[<L279+pWin_1],Y
  6491 04:1965: 85 01        	sta	<R0
  6492 04:1967: A0 D2 00     	ldy	#$d2
  6493 04:196A: B7 0D        	lda	[<L279+pWin_1],Y
  6494 04:196C: 85 03        	sta	<R0+2
  6495 04:196E: A0 0A 00     	ldy	#$a
  6496 04:1971: B7 0D        	lda	[<L279+pWin_1],Y
  6497 04:1973: A0 02 00     	ldy	#$2
  6498 04:1976: 97 01        	sta	[<R0],Y
  6499                        ;					((PCLICKABLE)pWi
                    n->clickable)->area.height 	= pWin->win_height;
  6500                        	.line	871
  6501 04:1978: A0 D0 00     	ldy	#$d0
  6502 04:197B: B7 0D        	lda	[<L279+pWin_1],Y
  6503 04:197D: 85 01        	sta	<R0
  6504 04:197F: A0 D2 00     	ldy	#$d2
  6505 04:1982: B7 0D        	lda	[<L279+pWin_1],Y
  6506 04:1984: 85 03        	sta	<R0+2
  6507 04:1986: A0 0E 00     	ldy	#$e
  6508 04:1989: B7 0D        	lda	[<L279+pWin_1],Y
  6509 04:198B: A0 06 00     	ldy	#$6
  6510 04:198E: 97 01        	sta	[<R0],Y
  6511                        ;					((PCLICKABLE)pWi
                    n->clickable)->area.width 	= pWin->win_width;
  6512                        	.line	872
  6513 04:1990: A0 D0 00     	ldy	#$d0
  6514 04:1993: B7 0D        	lda	[<L279+pWin_1],Y
  6515 04:1995: 85 01        	sta	<R0
  6516 04:1997: A0 D2 00     	ldy	#$d2
  6517 04:199A: B7 0D        	lda	[<L279+pWin_1],Y
  6518 04:199C: 85 03        	sta	<R0+2
  6519 04:199E: A0 0C 00     	ldy	#$c
  6520 04:19A1: B7 0D        	lda	[<L279+pWin_1],Y
  6521 04:19A3: A0 04 00     	ldy	#$4
  6522 04:19A6: 97 01        	sta	[<R0],Y
  6523                        ;					((PCLICKABLE)pWi
                    n->clickable)->z 			= 10;
  6524                        	.line	873
  6525 04:19A8: A0 D0 00     	ldy	#$d0
  6526 04:19AB: B7 0D        	lda	[<L279+pWin_1],Y
  6527 04:19AD: 85 01        	sta	<R0
  6528 04:19AF: A0 D2 00     	ldy	#$d2
  6529 04:19B2: B7 0D        	lda	[<L279+pWin_1],Y
  6530 04:19B4: 85 03        	sta	<R0+2
  Mon Dec  7 2020 11:19                                                Page 126


  6531 04:19B6: A9 0A 00     	lda	#$a
  6532 04:19B9: A0 08 00     	ldy	#$8
  6533 04:19BC: 97 01        	sta	[<R0],Y
  6534                        ;				}
  6535                        	.line	874
  6536                        ;
  6537                        ;				pWin->clientRect.x 	
                    	= pWin->wndRect.x		= pWin->win_x;
  6538                        L10049:
  6539                        	.line	876
  6540 04:19BE: A0 08 00     	ldy	#$8
  6541 04:19C1: B7 0D        	lda	[<L279+pWin_1],Y
  6542 04:19C3: A0 10 00     	ldy	#$10
  6543 04:19C6: 97 0D        	sta	[<L279+pWin_1],Y
  6544 04:19C8: A0 08 00     	ldy	#$8
  6545 04:19CB: B7 0D        	lda	[<L279+pWin_1],Y
  6546 04:19CD: A0 18 00     	ldy	#$18
  6547 04:19D0: 97 0D        	sta	[<L279+pWin_1],Y
  6548                        ;				pWin->clientRect.y 	
                    	= pWin->wndRect.y		= pWin->win_y;
  6549                        	.line	877
  6550 04:19D2: A0 0A 00     	ldy	#$a
  6551 04:19D5: B7 0D        	lda	[<L279+pWin_1],Y
  6552 04:19D7: A0 12 00     	ldy	#$12
  6553 04:19DA: 97 0D        	sta	[<L279+pWin_1],Y
  6554 04:19DC: A0 0A 00     	ldy	#$a
  6555 04:19DF: B7 0D        	lda	[<L279+pWin_1],Y
  6556 04:19E1: A0 1A 00     	ldy	#$1a
  6557 04:19E4: 97 0D        	sta	[<L279+pWin_1],Y
  6558                        ;				pWin->clientRect.width 	
                    = pWin->wndRect.width	= pWin->win_width;
  6559                        	.line	878
  6560 04:19E6: A0 0C 00     	ldy	#$c
  6561 04:19E9: B7 0D        	lda	[<L279+pWin_1],Y
  6562 04:19EB: A0 14 00     	ldy	#$14
  6563 04:19EE: 97 0D        	sta	[<L279+pWin_1],Y
  6564 04:19F0: A0 0C 00     	ldy	#$c
  6565 04:19F3: B7 0D        	lda	[<L279+pWin_1],Y
  6566 04:19F5: A0 1C 00     	ldy	#$1c
  6567 04:19F8: 97 0D        	sta	[<L279+pWin_1],Y
  6568                        ;				pWin->clientRect.height 
                    = pWin->wndRect.height 	= pWin->win_height;
  6569                        	.line	879
  6570 04:19FA: A0 0E 00     	ldy	#$e
  6571 04:19FD: B7 0D        	lda	[<L279+pWin_1],Y
  6572 04:19FF: A0 16 00     	ldy	#$16
  6573 04:1A02: 97 0D        	sta	[<L279+pWin_1],Y
  6574 04:1A04: A0 0E 00     	ldy	#$e
  6575 04:1A07: B7 0D        	lda	[<L279+pWin_1],Y
  6576 04:1A09: A0 1E 00     	ldy	#$1e
  6577 04:1A0C: 97 0D        	sta	[<L279+pWin_1],Y
  6578                        ;
  6579                        ;				//k_user_CopyRect((PRECT
                    )&pWin->win_x,&(((PCLICKABLE)pWin->clickable)->area));
  6580                        ;				//k_user_CopyRect((PRECT
                    )&pWin->win_x,&(pWin->clientRect));
  6581                        ;				/*
  6582                        ;				k_debug_rect("WndRect:",
  Mon Dec  7 2020 11:19                                                Page 127


                    &pWin->wndRect);
  6583                        ;				k_debug_rect("ClientRect
                    :",&pWin->clientRect);
  6584                        ;				k_debug_rect("ClassicRec
                    t:",(PRECT)&pWin->win_x);
  6585                        ;				*/
  6586                        ;				//strcpy(pWin->win_title
                    ,(LPCSTR)k_longtodec((ULONG)pWin,localBuffer));
  6587                        ;
  6588                        ;				//k_nodelist_addtolist(_
                    k_windowManager_WindowObjectList,NL_TYPE_WINDOW_OBJ,(LPCSTR)
                    k_longtodec((ULONG)pWin,localBuffer),pWin);
  6589                        ;
  6590                        ;				//if(hWndParent == k_use
                    r_getDesktopWindow())
  6591                        ;				//	k_nodelist_naddt
                    olist_tohead(_k_windowManager_WindowObjectList,NL_TYPE_WINDO
                    W_OBJ,(ULONG)pWin,pWin);
  6592                        ;				//else
  6593                        ;					k_nodelist_naddt
                    olist(_k_windowManager_WindowObjectList,NL_TYPE_WINDOW_OBJ,(
                    ULONG)pWin,pWin);
  6594                        	.line	895
  6595 04:1A0E: D4 0F        	pei	<L279+pWin_1+2
  6596 04:1A10: D4 0D        	pei	<L279+pWin_1
  6597 04:1A12: D4 0F        	pei	<L279+pWin_1+2
  6598 04:1A14: D4 0D        	pei	<L279+pWin_1
  6599 04:1A16: F4 02 00     	pea	#<$2
  6600 04:1A19: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
  6601 04:1A1C: 48           	pha
  6602 04:1A1D: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
  6603 04:1A20: 48           	pha
  6604 04:1A21: 22 xx xx xx  	jsl	~~k_nodelist_naddtolist
  6605                        ;
  6606                        ;				//k_debug_nodelist(_k_wi
                    ndowManager_WindowObjectList->listhead->next);
  6607                        ;
  6608                        ;				/*
  6609                        ;				if(pWin->isVisible)
  6610                        ;					k_vdraw_ui_windo
                    w(style,
  6611                        ;							
                    		  pWin->win_x ,pWin->win_y,
  6612                        ;							
                    		  pWin->win_height,pWin->win_width,
  6613                        ;							
                    		  pWin->win_title,
  6614                        ;							
                    		  k_getUIGadgetColor(), k_getUIMenuColor());
  6615                        ;				*/
  6616                        ;
  6617                        ;				if(hWndParent)
  6618                        	.line	908
  6619                        ;				{
  6620 04:1A25: A5 48        	lda	<L278+hWndParent_0
  6621 04:1A27: 05 4A        	ora	<L278+hWndParent_0+2
  6622 04:1A29: D0 03        	bne	L294
  6623 04:1A2B: 82 79 00     	brl	L10050
  Mon Dec  7 2020 11:19                                                Page 128


  6624                        L294:
  6625                        	.line	909
  6626                        ;					//k_debug_long("
                    k_user_CreateWindow:k_add_child_window:hWndParent:",(ULONG)h
                    WndParent);
  6627                        ;					k_add_child_wind
                    ow(k_getWindowFromHandle(hWndParent),pWin,k_update_hover_loc
                    ation);
  6628                        	.line	911
  6629 04:1A2E: F4 04 00     	pea	#^~~k_update_hover_location
  6630 04:1A31: F4 A6 3C     	pea	#<~~k_update_hover_location
  6631 04:1A34: D4 0F        	pei	<L279+pWin_1+2
  6632 04:1A36: D4 0D        	pei	<L279+pWin_1
  6633 04:1A38: D4 4A        	pei	<L278+hWndParent_0+2
  6634 04:1A3A: D4 48        	pei	<L278+hWndParent_0
  6635 04:1A3C: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
  6636 04:1A40: 85 01        	sta	<R0
  6637 04:1A42: 86 03        	stx	<R0+2
  6638 04:1A44: DA           	phx
  6639 04:1A45: 48           	pha
  6640 04:1A46: 22 AA 3B 04  	jsl	~~k_add_child_window
  6641                        ;
  6642                        ;					if(hWndParent ==
                     k_user_getDesktopWindow())
  6643                        	.line	913
  6644                        ;					{
  6645 04:1A4A: 22 15 06 04  	jsl	~~k_user_getDesktopWindow
  6646 04:1A4E: 85 01        	sta	<R0
  6647 04:1A50: 86 03        	stx	<R0+2
  6648 04:1A52: A5 01        	lda	<R0
  6649 04:1A54: C5 48        	cmp	<L278+hWndParent_0
  6650 04:1A56: D0 04        	bne	L295
  6651 04:1A58: A5 03        	lda	<R0+2
  6652 04:1A5A: C5 4A        	cmp	<L278+hWndParent_0+2
  6653                        L295:
  6654 04:1A5C: F0 03        	beq	L296
  6655 04:1A5E: 82 43 00     	brl	L10051
  6656                        L296:
  6657                        	.line	914
  6658                        ;						//k_poin
                    t_hit_resetdepth_nodeslist(_k_windowManager_ObjectHitList,0)
                    ;
  6659                        ;						k_point_
                    hit_resetdepth_nodeslist(k_getWindowFromHandle(hWndParent)->
                    pChildHitList,0);
  6660                        	.line	916
  6661 04:1A61: F4 00 00     	pea	#<$0
  6662 04:1A64: D4 4A        	pei	<L278+hWndParent_0+2
  6663 04:1A66: D4 48        	pei	<L278+hWndParent_0
  6664 04:1A68: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
  6665 04:1A6C: 85 01        	sta	<R0
  6666 04:1A6E: 86 03        	stx	<R0+2
  6667 04:1A70: A0 42 01     	ldy	#$142
  6668 04:1A73: B7 01        	lda	[<R0],Y
  6669 04:1A75: 48           	pha
  6670 04:1A76: A0 40 01     	ldy	#$140
  6671 04:1A79: B7 01        	lda	[<R0],Y
  6672 04:1A7B: 48           	pha
  Mon Dec  7 2020 11:19                                                Page 129


  6673 04:1A7C: 22 18 47 04  	jsl	~~k_point_hit_resetdepth_nodeslist
  6674                        ;						((PCLICK
                    ABLE)pWin->clickable)->z = 10;
  6675                        	.line	917
  6676 04:1A80: A0 D0 00     	ldy	#$d0
  6677 04:1A83: B7 0D        	lda	[<L279+pWin_1],Y
  6678 04:1A85: 85 01        	sta	<R0
  6679 04:1A87: A0 D2 00     	ldy	#$d2
  6680 04:1A8A: B7 0D        	lda	[<L279+pWin_1],Y
  6681 04:1A8C: 85 03        	sta	<R0+2
  6682 04:1A8E: A9 0A 00     	lda	#$a
  6683 04:1A91: A0 08 00     	ldy	#$8
  6684 04:1A94: 97 01        	sta	[<R0],Y
  6685                        ;						k_attach
                    _mouse_detection(pWin,k_update_hover_location);
  6686                        	.line	918
  6687 04:1A96: F4 04 00     	pea	#^~~k_update_hover_location
  6688 04:1A99: F4 A6 3C     	pea	#<~~k_update_hover_location
  6689 04:1A9C: D4 0F        	pei	<L279+pWin_1+2
  6690 04:1A9E: D4 0D        	pei	<L279+pWin_1
  6691 04:1AA0: 22 78 3E 04  	jsl	~~k_attach_mouse_detection
  6692                        ;					}
  6693                        	.line	919
  6694                        ;
  6695                        ;				}
  6696                        L10051:
  6697                        	.line	921
  6698                        ;				else
  6699 04:1AA4: 82 0E 00     	brl	L10052
  6700                        L10050:
  6701                        ;				{
  6702                        	.line	923
  6703                        ;					k_attach_mouse_d
                    etection(pWin,k_update_hover_location);
  6704                        	.line	924
  6705 04:1AA7: F4 04 00     	pea	#^~~k_update_hover_location
  6706 04:1AAA: F4 A6 3C     	pea	#<~~k_update_hover_location
  6707 04:1AAD: D4 0F        	pei	<L279+pWin_1+2
  6708 04:1AAF: D4 0D        	pei	<L279+pWin_1
  6709 04:1AB1: 22 78 3E 04  	jsl	~~k_attach_mouse_detection
  6710                        ;				}
  6711                        	.line	925
  6712                        L10052:
  6713                        ;
  6714                        ;				pWin->bgRegion = k_copy_
                    window_page_region(BITMAP_FRONT,
  6715                        	.line	927
  6716                        ;							
                    							   pWin-
                    >win_x,pWin->win_y,
  6717                        ;							
                    							   pWin-
                    >win_width,pWin->win_height,
  6718                        ;							
                    							   BITMA
                    P_PAGE1,
  6719                        ;							
                    							   pWin-
  Mon Dec  7 2020 11:19                                                Page 130


                    >win_x,pWin->win_y);
  6720 04:1AB5: A0 0A 00     	ldy	#$a
  6721 04:1AB8: B7 0D        	lda	[<L279+pWin_1],Y
  6722 04:1ABA: 48           	pha
  6723 04:1ABB: A0 08 00     	ldy	#$8
  6724 04:1ABE: B7 0D        	lda	[<L279+pWin_1],Y
  6725 04:1AC0: 48           	pha
  6726 04:1AC1: F4 20 00     	pea	#<$20
  6727 04:1AC4: A0 0E 00     	ldy	#$e
  6728 04:1AC7: B7 0D        	lda	[<L279+pWin_1],Y
  6729 04:1AC9: 48           	pha
  6730 04:1ACA: A0 0C 00     	ldy	#$c
  6731 04:1ACD: B7 0D        	lda	[<L279+pWin_1],Y
  6732 04:1ACF: 48           	pha
  6733 04:1AD0: A0 0A 00     	ldy	#$a
  6734 04:1AD3: B7 0D        	lda	[<L279+pWin_1],Y
  6735 04:1AD5: 48           	pha
  6736 04:1AD6: A0 08 00     	ldy	#$8
  6737 04:1AD9: B7 0D        	lda	[<L279+pWin_1],Y
  6738 04:1ADB: 48           	pha
  6739 04:1ADC: F4 00 00     	pea	#<$0
  6740 04:1ADF: 22 DD 66 04  	jsl	~~k_copy_window_page_region
  6741 04:1AE3: 85 01        	sta	<R0
  6742 04:1AE5: 86 03        	stx	<R0+2
  6743 04:1AE7: A5 01        	lda	<R0
  6744 04:1AE9: A0 28 01     	ldy	#$128
  6745 04:1AEC: 97 0D        	sta	[<L279+pWin_1],Y
  6746 04:1AEE: A5 03        	lda	<R0+2
  6747 04:1AF0: A0 2A 01     	ldy	#$12a
  6748 04:1AF3: 97 0D        	sta	[<L279+pWin_1],Y
  6749                        ;
  6750                        ;
  6751                        ;
  6752                        ;				k_send_window_message(k_
                    getHandleFromWindow(pWin),FX_CREATE_WINDOW,NULL,0);
  6753                        	.line	935
  6754 04:1AF5: F4 00 00     	pea	#<$0
  6755 04:1AF8: F4 00 00     	pea	#^$0
  6756 04:1AFB: F4 00 00     	pea	#<$0
  6757 04:1AFE: F4 03 FF     	pea	#<$ff03
  6758 04:1B01: D4 0F        	pei	<L279+pWin_1+2
  6759 04:1B03: D4 0D        	pei	<L279+pWin_1
  6760 04:1B05: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
  6761 04:1B09: 85 01        	sta	<R0
  6762 04:1B0B: 86 03        	stx	<R0+2
  6763 04:1B0D: DA           	phx
  6764 04:1B0E: 48           	pha
  6765 04:1B0F: 22 xx xx xx  	jsl	~~k_send_window_message
  6766                        ;				k_send_window_message(k_
                    getHandleFromWindow(pWin),FX_DRAW_NONCLIENT,NULL,0);
  6767                        	.line	936
  6768 04:1B13: F4 00 00     	pea	#<$0
  6769 04:1B16: F4 00 00     	pea	#^$0
  6770 04:1B19: F4 00 00     	pea	#<$0
  6771 04:1B1C: F4 01 FB     	pea	#<$fb01
  6772 04:1B1F: D4 0F        	pei	<L279+pWin_1+2
  6773 04:1B21: D4 0D        	pei	<L279+pWin_1
  6774 04:1B23: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
  Mon Dec  7 2020 11:19                                                Page 131


  6775 04:1B27: 85 01        	sta	<R0
  6776 04:1B29: 86 03        	stx	<R0+2
  6777 04:1B2B: DA           	phx
  6778 04:1B2C: 48           	pha
  6779 04:1B2D: 22 xx xx xx  	jsl	~~k_send_window_message
  6780                        ;				k_send_window_message(k_
                    getHandleFromWindow(pWin),FX_DRAW_WINDOW,NULL,0);
  6781                        	.line	937
  6782 04:1B31: F4 00 00     	pea	#<$0
  6783 04:1B34: F4 00 00     	pea	#^$0
  6784 04:1B37: F4 00 00     	pea	#<$0
  6785 04:1B3A: F4 00 FB     	pea	#<$fb00
  6786 04:1B3D: D4 0F        	pei	<L279+pWin_1+2
  6787 04:1B3F: D4 0D        	pei	<L279+pWin_1
  6788 04:1B41: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
  6789 04:1B45: 85 01        	sta	<R0
  6790 04:1B47: 86 03        	stx	<R0+2
  6791 04:1B49: DA           	phx
  6792 04:1B4A: 48           	pha
  6793 04:1B4B: 22 xx xx xx  	jsl	~~k_send_window_message
  6794                        ;
  6795                        ;
  6796                        ;			}
  6797                        	.line	940
  6798                        ;		}
  6799                        L10044:
  6800                        	.line	941
  6801                        ;	}
  6802                        L10043:
  6803                        	.line	942
  6804                        ;	return pWin;
  6805                        L10042:
  6806                        	.line	943
  6807 04:1B4F: A6 0F        	ldx	<L279+pWin_1+2
  6808 04:1B51: A5 0D        	lda	<L279+pWin_1
  6809                        L297:
  6810 04:1B53: A8           	tay
  6811 04:1B54: A5 32        	lda	<L278+2
  6812 04:1B56: 85 52        	sta	<L278+2+32
  6813 04:1B58: A5 31        	lda	<L278+1
  6814 04:1B5A: 85 51        	sta	<L278+1+32
  6815 04:1B5C: 2B           	pld
  6816 04:1B5D: 3B           	tsc
  6817 04:1B5E: 18           	clc
  6818 04:1B5F: 69 50 00     	adc	#L278+32
  6819 04:1B62: 1B           	tcs
  6820 04:1B63: 98           	tya
  6821 04:1B64: 6B           	rtl
  6822                        ;}
  6823                        	.line	944
  6824                        	.endblock	944
  6825             00000030   L278	equ	48
  6826             00000009   L279	equ	9
  6827 04:1B65:              	ends
  6828                        	efunc
  6829                        	.endfunc	944,9,48
  6830                        	.line	944
  6831                        	data
  Mon Dec  7 2020 11:19                                                Page 132


  6832                        L277:
  6833 00:0523: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$43,$72,$65,
                    $61,$74,$65,$57,$69
       00:0527: 65 72 5F 43 
       00:052B: 72 65 61 74 
       00:052F: 65 57 69 
  6834 00:0532: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$3A,$00,$6B,$5F,$75,$73,
                    $65,$72,$5F,$43,$72
       00:0536: 3A 00 6B 5F 
       00:053A: 75 73 65 72 
       00:053E: 5F 43 72 
  6835 00:0541: 65 61 74 65  	db	$65,$61,$74,$65,$57,$69,$6E,$64,$6F,$77,
                    $3A,$00,$50,$72,$6F
       00:0545: 57 69 6E 64 
       00:0549: 6F 77 3A 00 
       00:054D: 50 72 6F 
  6836 00:0550: 63 65 73 73  	db	$63,$65,$73,$73,$20,$49,$64,$3A,$00
       00:0554: 20 49 64 3A 
       00:0558: 00 
  6837 00:0559:              	ends
  6838                        ;
  6839                        ;
  6840                        ;PWINDOWEX k_user_CreateWindowEx(ULONG     style,
  6841                        ;						        
                    LPCSTR    pClassName,
  6842                        ;						 	
                        LPCSTR    pWindowName,
  6843                        ;							
                        INT       x,
  6844                        ;							
                        INT       y,
  6845                        ;						 	
                        INT       nWidth,
  6846                        ;							
                        INT       nHeight,
  6847                        ;							
                        HWND      hWndParent,
  6848                        ;							
                        HMENU     hMenu,
  6849                        ;							
                        HINSTANCE hInstance)
  6850                        ;{
  6851                        	.line	947
  6852                        	.line	957
  6853                        	WINMAN
  6854                        	xdef	~~k_user_CreateWindowEx
  6855                        	func
  6856                        	.function	957
  6857                        ~~k_user_CreateWindowEx:
  6858                        	longa	on
  6859                        	longi	on
  6860 04:1B65: 3B           	tsc
  6861 04:1B66: 38           	sec
  6862 04:1B67: E9 14 00     	sbc	#L299
  6863 04:1B6A: 1B           	tcs
  6864 04:1B6B: 0B           	phd
  6865 04:1B6C: 5B           	tcd
  6866             00000004   style_0	set	4
  Mon Dec  7 2020 11:19                                                Page 133


  6867             00000008   pClassName_0	set	8
  6868             0000000C   pWindowName_0	set	12
  6869             00000010   x_0	set	16
  6870             00000012   y_0	set	18
  6871             00000014   nWidth_0	set	20
  6872             00000016   nHeight_0	set	22
  6873             00000018   hWndParent_0	set	24
  6874             0000001C   hMenu_0	set	28
  6875             00000020   hInstance_0	set	32
  6876                        	.block	957
  6877                        ;
  6878                        ;	PFXNODE   	found = NULL;
  6879                        ;	PWINDOWEX   pWin = NULL;
  6880                        ;	PWINDOWEX   pParent = NULL;
  6881                        ;	PWNDCLASS 	wndClass = NULL;
  6882                        ;
  6883                        ;	k_debug_strings("k_user_CreateWindowEx:",(LPCHAR
                    )pWindowName);
  6884             00000000   found_1	set	0
  6885             00000004   pWin_1	set	4
  6886             00000008   pParent_1	set	8
  6887             0000000C   wndClass_1	set	12
  6888                        	.sym	found,0,138,1,32,2
  6889                        	.sym	pWin,4,138,1,32,28
  6890                        	.sym	pParent,8,138,1,32,28
  6891                        	.sym	wndClass,12,138,1,32,23
  6892                        	.sym	style,4,18,6,32
  6893                        	.sym	pClassName,8,142,6,32
  6894                        	.sym	pWindowName,12,142,6,32
  6895                        	.sym	x,16,5,6,16
  6896                        	.sym	y,18,5,6,16
  6897                        	.sym	nWidth,20,5,6,16
  6898                        	.sym	nHeight,22,5,6,16
  6899                        	.sym	hWndParent,24,129,6,32
  6900                        	.sym	hMenu,28,129,6,32
  6901                        	.sym	hInstance,32,129,6,32
  6902 04:1B6D: 64 05        	stz	<L300+found_1
  6903 04:1B6F: 64 07        	stz	<L300+found_1+2
  6904 04:1B71: 64 09        	stz	<L300+pWin_1
  6905 04:1B73: 64 0B        	stz	<L300+pWin_1+2
  6906 04:1B75: 64 0D        	stz	<L300+pParent_1
  6907 04:1B77: 64 0F        	stz	<L300+pParent_1+2
  6908 04:1B79: 64 11        	stz	<L300+wndClass_1
  6909 04:1B7B: 64 13        	stz	<L300+wndClass_1+2
  6910                        	.line	964
  6911 04:1B7D: D4 22        	pei	<L299+pWindowName_0+2
  6912 04:1B7F: D4 20        	pei	<L299+pWindowName_0
  6913 04:1B81: F4 xx xx     	pea	#^L298
  6914 04:1B84: F4 xx xx     	pea	#<L298
  6915 04:1B87: 22 xx xx xx  	jsl	~~k_debug_strings
  6916                        ;
  6917                        ;	if(pClassName && pWindowName)
  6918                        	.line	966
  6919                        ;	{
  6920 04:1B8B: A5 1C        	lda	<L299+pClassName_0
  6921 04:1B8D: 05 1E        	ora	<L299+pClassName_0+2
  6922 04:1B8F: D0 03        	bne	L302
  6923 04:1B91: 82 21 01     	brl	L10053
  Mon Dec  7 2020 11:19                                                Page 134


  6924                        L302:
  6925 04:1B94: A5 20        	lda	<L299+pWindowName_0
  6926 04:1B96: 05 22        	ora	<L299+pWindowName_0+2
  6927 04:1B98: D0 03        	bne	L303
  6928 04:1B9A: 82 18 01     	brl	L10053
  6929                        L303:
  6930                        	.line	967
  6931                        ;		//pWindowName = strupr((LPCHAR)pWindowNa
                    me); // temp fix for font def issue
  6932                        ;
  6933                        ;		found = k_nodelist_searchByName(_k_windo
                    wManager_WindowClassList,pClassName);
  6934                        	.line	970
  6935 04:1B9D: D4 1E        	pei	<L299+pClassName_0+2
  6936 04:1B9F: D4 1C        	pei	<L299+pClassName_0
  6937 04:1BA1: AD xx xx     	lda	|~~_k_windowManager_WindowClassList+2
  6938 04:1BA4: 48           	pha
  6939 04:1BA5: AD xx xx     	lda	|~~_k_windowManager_WindowClassList
  6940 04:1BA8: 48           	pha
  6941 04:1BA9: 22 xx xx xx  	jsl	~~k_nodelist_searchByName
  6942 04:1BAD: 85 05        	sta	<L300+found_1
  6943 04:1BAF: 86 07        	stx	<L300+found_1+2
  6944                        ;		if(found && found->data)
  6945                        	.line	971
  6946                        ;		{
  6947 04:1BB1: A5 05        	lda	<L300+found_1
  6948 04:1BB3: 05 07        	ora	<L300+found_1+2
  6949 04:1BB5: D0 03        	bne	L304
  6950 04:1BB7: 82 FB 00     	brl	L10054
  6951                        L304:
  6952 04:1BBA: A0 02 00     	ldy	#$2
  6953 04:1BBD: B7 05        	lda	[<L300+found_1],Y
  6954 04:1BBF: A0 04 00     	ldy	#$4
  6955 04:1BC2: 17 05        	ora	[<L300+found_1],Y
  6956 04:1BC4: D0 03        	bne	L305
  6957 04:1BC6: 82 EC 00     	brl	L10054
  6958                        L305:
  6959                        	.line	972
  6960                        ;			wndClass = (PWNDCLASS)found->dat
                    a;
  6961                        	.line	973
  6962 04:1BC9: A0 02 00     	ldy	#$2
  6963 04:1BCC: B7 05        	lda	[<L300+found_1],Y
  6964 04:1BCE: 85 11        	sta	<L300+wndClass_1
  6965 04:1BD0: A0 04 00     	ldy	#$4
  6966 04:1BD3: B7 05        	lda	[<L300+found_1],Y
  6967 04:1BD5: 85 13        	sta	<L300+wndClass_1+2
  6968                        ;
  6969                        ;			//k_debug_strings("k_user_Create
                    Window:Found WndClass:",(LPVOID)wndClass->lpszClassName);
  6970                        ;
  6971                        ;			pWin = k_mem_allocate_heap(sizeo
                    f(WINDOW));
  6972                        	.line	977
  6973 04:1BD7: F4 63 01     	pea	#<$163
  6974 04:1BDA: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  6975 04:1BDE: 85 09        	sta	<L300+pWin_1
  6976 04:1BE0: 86 0B        	stx	<L300+pWin_1+2
  Mon Dec  7 2020 11:19                                                Page 135


  6977                        ;			if(pWin)
  6978                        	.line	978
  6979                        ;			{
  6980 04:1BE2: A5 09        	lda	<L300+pWin_1
  6981 04:1BE4: 05 0B        	ora	<L300+pWin_1+2
  6982 04:1BE6: D0 03        	bne	L306
  6983 04:1BE8: 82 CA 00     	brl	L10055
  6984                        L306:
  6985                        	.line	979
  6986                        ;				memset(pWin,0,sizeof(WIN
                    DOWEX));
  6987                        	.line	980
  6988 04:1BEB: F4 52 01     	pea	#<$152
  6989 04:1BEE: F4 00 00     	pea	#<$0
  6990 04:1BF1: D4 0B        	pei	<L300+pWin_1+2
  6991 04:1BF3: D4 09        	pei	<L300+pWin_1
  6992 04:1BF5: 22 xx xx xx  	jsl	~~memset
  6993                        ;				pWin->cbSize = sizeof(WI
                    NDOWEX);
  6994                        	.line	981
  6995 04:1BF9: A9 52 01     	lda	#$152
  6996 04:1BFC: 87 09        	sta	[<L300+pWin_1]
  6997                        ;				pWin->style = style;
  6998                        	.line	982
  6999 04:1BFE: A5 18        	lda	<L299+style_0
  7000 04:1C00: A0 02 00     	ldy	#$2
  7001 04:1C03: 97 09        	sta	[<L300+pWin_1],Y
  7002 04:1C05: A5 1A        	lda	<L299+style_0+2
  7003 04:1C07: A0 04 00     	ldy	#$4
  7004 04:1C0A: 97 09        	sta	[<L300+pWin_1],Y
  7005                        ;				pWin->pParentWindow = hW
                    ndParent;
  7006                        	.line	983
  7007 04:1C0C: A5 2C        	lda	<L299+hWndParent_0
  7008 04:1C0E: A0 10 01     	ldy	#$110
  7009 04:1C11: 97 09        	sta	[<L300+pWin_1],Y
  7010 04:1C13: A5 2E        	lda	<L299+hWndParent_0+2
  7011 04:1C15: A0 12 01     	ldy	#$112
  7012 04:1C18: 97 09        	sta	[<L300+pWin_1],Y
  7013                        ;				pWin->pWndClass = wndCla
                    ss;
  7014                        	.line	984
  7015 04:1C1A: A5 11        	lda	<L300+wndClass_1
  7016 04:1C1C: A0 0C 01     	ldy	#$10c
  7017 04:1C1F: 97 09        	sta	[<L300+pWin_1],Y
  7018 04:1C21: A5 13        	lda	<L300+wndClass_1+2
  7019 04:1C23: A0 0E 01     	ldy	#$10e
  7020 04:1C26: 97 09        	sta	[<L300+pWin_1],Y
  7021                        ;				/*
  7022                        ;				strcpy(pWin->win_title,p
                    WindowName);
  7023                        ;
  7024                        ;				pWin->win_x 		
                    = x;
  7025                        ;				pWin->win_y 		
                    = y;
  7026                        ;				pWin->win_width 	
                    = nWidth;
  Mon Dec  7 2020 11:19                                                Page 136


  7027                        ;				pWin->win_height	
                    = nHeight;
  7028                        ;
  7029                        ;				pWin->hMenu = hMenu;
  7030                        ;				pWin->pChildWindows = NU
                    LL;
  7031                        ;				pWin->pChildHitList = NU
                    LL;
  7032                        ;				pWin->isVisible 	
                    = ((style & FXWS_VISIBLE) == FXWS_VISIBLE);
  7033                        ;
  7034                        ;				//k_debug_long("k_user_C
                    reateWindow:sytle:",style);
  7035                        ;				//k_debug_long("k_user_C
                    reateWindow:FXWS_VISIBLE:", FXWS_VISIBLE);
  7036                        ;				//k_debug_long("k_user_C
                    reateWindow:style & FXWS_VISIBLE:",style & FXWS_VISIBLE);
  7037                        ;				//k_debug_integer("k_use
                    r_CreateWindow:isVisible:",pWin->isVisible);
  7038                        ;
  7039                        ;
  7040                        ;				pWin->clickable = k_mem_
                    allocate_heap(sizeof(CLICKABLE));
  7041                        ;				if(pWin->clickable)
  7042                        ;				{
  7043                        ;					((PCLICKABLE)pWi
                    n->clickable)->area.x 		= pWin->win_x;
  7044                        ;					((PCLICKABLE)pWi
                    n->clickable)->area.y 		= pWin->win_y;
  7045                        ;					((PCLICKABLE)pWi
                    n->clickable)->area.height 	= pWin->win_height;
  7046                        ;					((PCLICKABLE)pWi
                    n->clickable)->area.width 	= pWin->win_width;
  7047                        ;				}
  7048                        ;
  7049                        ;				pWin->clientRect.x 	
                    	= pWin->wndRect.x		= pWin->win_x;
  7050                        ;				pWin->clientRect.y 	
                    	= pWin->wndRect.y		= pWin->win_y;
  7051                        ;				pWin->clientRect.width 	
                    = pWin->wndRect.width	= pWin->win_width;
  7052                        ;				pWin->clientRect.height 
                    = pWin->wndRect.height 	= pWin->win_height;
  7053                        ;
  7054                        ;				//k_user_CopyRect((PRECT
                    )&pWin->win_x,&(((PCLICKABLE)pWin->clickable)->area));
  7055                        ;				//k_user_CopyRect((PRECT
                    )&pWin->win_x,&(pWin->clientRect));
  7056                        ;
  7057                        ;				k_debug_rect("WndRect:",
                    &pWin->wndRect);
  7058                        ;				k_debug_rect("ClientRect
                    :",&pWin->clientRect);
  7059                        ;				k_debug_rect("ClassicRec
                    t:",(PRECT)&pWin->win_x);
  7060                        ;
  7061                        ;				//strcpy(pWin->win_title
                    ,(LPCSTR)k_longtodec((ULONG)pWin,localBuffer));
  Mon Dec  7 2020 11:19                                                Page 137


  7062                        ;
  7063                        ;				//k_nodelist_addtolist(_
                    k_windowManager_WindowObjectList,NL_TYPE_WINDOW_OBJ,(LPCSTR)
                    k_longtodec((ULONG)pWin,localBuffer),pWin);
  7064                        ;				k_nodelist_naddtolist(_k
                    _windowManager_WindowObjectList,NL_TYPE_WINDOW_OBJ,(ULONG)pW
                    in,pWin);
  7065                        ;				//k_debug_nodelist(_k_wi
                    ndowManager_WindowObjectList->listhead->next);
  7066                        ;				*/
  7067                        ;
  7068                        ;
  7069                        ;				if(hWndParent)
  7070                        	.line	1033
  7071                        ;				{
  7072 04:1C28: A5 2C        	lda	<L299+hWndParent_0
  7073 04:1C2A: 05 2E        	ora	<L299+hWndParent_0+2
  7074 04:1C2C: D0 03        	bne	L307
  7075 04:1C2E: 82 1C 00     	brl	L10056
  7076                        L307:
  7077                        	.line	1034
  7078                        ;					//k_debug_long("
                    k_user_CreateWindow:k_add_child_window:hWndParent:",(ULONG)h
                    WndParent);
  7079                        ;					k_add_child_wind
                    ow(k_getWindowFromHandle(hWndParent),(PWINDOW)pWin,k_update_
                    hover_location);
  7080                        	.line	1036
  7081 04:1C31: F4 04 00     	pea	#^~~k_update_hover_location
  7082 04:1C34: F4 A6 3C     	pea	#<~~k_update_hover_location
  7083 04:1C37: D4 0B        	pei	<L300+pWin_1+2
  7084 04:1C39: D4 09        	pei	<L300+pWin_1
  7085 04:1C3B: D4 2E        	pei	<L299+hWndParent_0+2
  7086 04:1C3D: D4 2C        	pei	<L299+hWndParent_0
  7087 04:1C3F: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
  7088 04:1C43: 85 01        	sta	<R0
  7089 04:1C45: 86 03        	stx	<R0+2
  7090 04:1C47: DA           	phx
  7091 04:1C48: 48           	pha
  7092 04:1C49: 22 AA 3B 04  	jsl	~~k_add_child_window
  7093                        ;				}
  7094                        	.line	1037
  7095                        ;
  7096                        ;				k_attach_mouse_detection
                    ((PWINDOW)pWin,k_update_hover_location);
  7097                        L10056:
  7098                        	.line	1039
  7099 04:1C4D: F4 04 00     	pea	#^~~k_update_hover_location
  7100 04:1C50: F4 A6 3C     	pea	#<~~k_update_hover_location
  7101 04:1C53: D4 0B        	pei	<L300+pWin_1+2
  7102 04:1C55: D4 09        	pei	<L300+pWin_1
  7103 04:1C57: 22 78 3E 04  	jsl	~~k_attach_mouse_detection
  7104                        ;
  7105                        ;				k_send_window_message(k_
                    getHandleFromWindow((PWINDOW)pWin),FX_CREATE_WINDOW,NULL,0);
  7106                        	.line	1041
  7107 04:1C5B: F4 00 00     	pea	#<$0
  7108 04:1C5E: F4 00 00     	pea	#^$0
  Mon Dec  7 2020 11:19                                                Page 138


  7109 04:1C61: F4 00 00     	pea	#<$0
  7110 04:1C64: F4 03 FF     	pea	#<$ff03
  7111 04:1C67: D4 0B        	pei	<L300+pWin_1+2
  7112 04:1C69: D4 09        	pei	<L300+pWin_1
  7113 04:1C6B: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
  7114 04:1C6F: 85 01        	sta	<R0
  7115 04:1C71: 86 03        	stx	<R0+2
  7116 04:1C73: DA           	phx
  7117 04:1C74: 48           	pha
  7118 04:1C75: 22 xx xx xx  	jsl	~~k_send_window_message
  7119                        ;				k_send_window_message(k_
                    getHandleFromWindow((PWINDOW)pWin),FX_DRAW_NONCLIENT,NULL,0)
                    ;
  7120                        	.line	1042
  7121 04:1C79: F4 00 00     	pea	#<$0
  7122 04:1C7C: F4 00 00     	pea	#^$0
  7123 04:1C7F: F4 00 00     	pea	#<$0
  7124 04:1C82: F4 01 FB     	pea	#<$fb01
  7125 04:1C85: D4 0B        	pei	<L300+pWin_1+2
  7126 04:1C87: D4 09        	pei	<L300+pWin_1
  7127 04:1C89: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
  7128 04:1C8D: 85 01        	sta	<R0
  7129 04:1C8F: 86 03        	stx	<R0+2
  7130 04:1C91: DA           	phx
  7131 04:1C92: 48           	pha
  7132 04:1C93: 22 xx xx xx  	jsl	~~k_send_window_message
  7133                        ;				k_send_window_message(k_
                    getHandleFromWindow((PWINDOW)pWin),FX_DRAW_WINDOW,NULL,0);
  7134                        	.line	1043
  7135 04:1C97: F4 00 00     	pea	#<$0
  7136 04:1C9A: F4 00 00     	pea	#^$0
  7137 04:1C9D: F4 00 00     	pea	#<$0
  7138 04:1CA0: F4 00 FB     	pea	#<$fb00
  7139 04:1CA3: D4 0B        	pei	<L300+pWin_1+2
  7140 04:1CA5: D4 09        	pei	<L300+pWin_1
  7141 04:1CA7: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
  7142 04:1CAB: 85 01        	sta	<R0
  7143 04:1CAD: 86 03        	stx	<R0+2
  7144 04:1CAF: DA           	phx
  7145 04:1CB0: 48           	pha
  7146 04:1CB1: 22 xx xx xx  	jsl	~~k_send_window_message
  7147                        ;
  7148                        ;
  7149                        ;			}
  7150                        	.line	1046
  7151                        ;		}
  7152                        L10055:
  7153                        	.line	1047
  7154                        ;	}
  7155                        L10054:
  7156                        	.line	1048
  7157                        ;	return pWin;
  7158                        L10053:
  7159                        	.line	1049
  7160 04:1CB5: A6 0B        	ldx	<L300+pWin_1+2
  7161 04:1CB7: A5 09        	lda	<L300+pWin_1
  7162                        L308:
  7163 04:1CB9: A8           	tay
  Mon Dec  7 2020 11:19                                                Page 139


  7164 04:1CBA: A5 16        	lda	<L299+2
  7165 04:1CBC: 85 36        	sta	<L299+2+32
  7166 04:1CBE: A5 15        	lda	<L299+1
  7167 04:1CC0: 85 35        	sta	<L299+1+32
  7168 04:1CC2: 2B           	pld
  7169 04:1CC3: 3B           	tsc
  7170 04:1CC4: 18           	clc
  7171 04:1CC5: 69 34 00     	adc	#L299+32
  7172 04:1CC8: 1B           	tcs
  7173 04:1CC9: 98           	tya
  7174 04:1CCA: 6B           	rtl
  7175                        ;}
  7176                        	.line	1050
  7177                        	.endblock	1050
  7178             00000014   L299	equ	20
  7179             00000005   L300	equ	5
  7180 04:1CCB:              	ends
  7181                        	efunc
  7182                        	.endfunc	1050,5,20
  7183                        	.line	1050
  7184                        	data
  7185                        L298:
  7186 00:0559: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$43,$72,$65,
                    $61,$74,$65,$57,$69
       00:055D: 65 72 5F 43 
       00:0561: 72 65 61 74 
       00:0565: 65 57 69 
  7187 00:0568: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$45,$78,$3A,$00
       00:056C: 45 78 3A 00 
  7188 00:0570:              	ends
  7189                        ;
  7190                        ;VOID k_user_SetWindowTitle(HWND hWnd,LPCSTR title
                    )
  7191                        ;{
  7192                        	.line	1052
  7193                        	.line	1053
  7194                        	WINMAN
  7195                        	xdef	~~k_user_SetWindowTitle
  7196                        	func
  7197                        	.function	1053
  7198                        ~~k_user_SetWindowTitle:
  7199                        	longa	on
  7200                        	longi	on
  7201 04:1CCB: 3B           	tsc
  7202 04:1CCC: 38           	sec
  7203 04:1CCD: E9 08 00     	sbc	#L310
  7204 04:1CD0: 1B           	tcs
  7205 04:1CD1: 0B           	phd
  7206 04:1CD2: 5B           	tcd
  7207             00000004   hWnd_0	set	4
  7208             00000008   title_0	set	8
  7209                        	.block	1053
  7210                        ;	if(title)
  7211                        	.sym	hWnd,4,129,6,32
  7212                        	.sym	title,8,142,6,32
  7213                        	.line	1054
  7214                        ;	{
  7215 04:1CD3: A5 10        	lda	<L310+title_0
  Mon Dec  7 2020 11:19                                                Page 140


  7216 04:1CD5: 05 12        	ora	<L310+title_0+2
  7217 04:1CD7: D0 03        	bne	L313
  7218 04:1CD9: 82 30 00     	brl	L10057
  7219                        L313:
  7220                        	.line	1055
  7221                        ;		PWINDOW pWin = k_getWindowFromHandle(hWn
                    d);
  7222                        ;		if(pWin)
  7223                        	.block	1057
  7224             00000000   pWin_2	set	0
  7225                        	.sym	pWin,0,138,1,32,27
  7226 04:1CDC: D4 0E        	pei	<L310+hWnd_0+2
  7227 04:1CDE: D4 0C        	pei	<L310+hWnd_0
  7228 04:1CE0: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
  7229 04:1CE4: 85 05        	sta	<L311+pWin_2
  7230 04:1CE6: 86 07        	stx	<L311+pWin_2+2
  7231                        	.line	1057
  7232                        ;		{
  7233 04:1CE8: A5 05        	lda	<L311+pWin_2
  7234 04:1CEA: 05 07        	ora	<L311+pWin_2+2
  7235 04:1CEC: D0 03        	bne	L315
  7236 04:1CEE: 82 1B 00     	brl	L10058
  7237                        L315:
  7238                        	.line	1058
  7239                        ;			strcpy(pWin->win_title,title);
  7240                        	.line	1059
  7241 04:1CF1: D4 12        	pei	<L310+title_0+2
  7242 04:1CF3: D4 10        	pei	<L310+title_0
  7243 04:1CF5: 18           	clc
  7244 04:1CF6: A9 D4 00     	lda	#$d4
  7245 04:1CF9: 65 05        	adc	<L311+pWin_2
  7246 04:1CFB: 85 01        	sta	<R0
  7247 04:1CFD: A9 00 00     	lda	#$0
  7248 04:1D00: 65 07        	adc	<L311+pWin_2+2
  7249 04:1D02: 85 03        	sta	<R0+2
  7250 04:1D04: D4 03        	pei	<R0+2
  7251 04:1D06: D4 01        	pei	<R0
  7252 04:1D08: 22 xx xx xx  	jsl	~~strcpy
  7253                        ;		}
  7254                        	.line	1060
  7255                        ;	}
  7256                        L10058:
  7257                        	.endblock	1061
  7258                        	.line	1061
  7259                        ;}
  7260                        L10057:
  7261                        	.line	1062
  7262                        L316:
  7263 04:1D0C: A5 0A        	lda	<L310+2
  7264 04:1D0E: 85 12        	sta	<L310+2+8
  7265 04:1D10: A5 09        	lda	<L310+1
  7266 04:1D12: 85 11        	sta	<L310+1+8
  7267 04:1D14: 2B           	pld
  7268 04:1D15: 3B           	tsc
  7269 04:1D16: 18           	clc
  7270 04:1D17: 69 10 00     	adc	#L310+8
  7271 04:1D1A: 1B           	tcs
  7272 04:1D1B: 6B           	rtl
  Mon Dec  7 2020 11:19                                                Page 141


  7273                        	.endblock	1062
  7274             00000008   L310	equ	8
  7275             00000005   L311	equ	5
  7276 04:1D1C:              	ends
  7277                        	efunc
  7278                        	.endfunc	1062,5,8
  7279                        	.line	1062
  7280                        ;
  7281                        ;
  7282                        ;LPVOID	k_user_SetWindowData(HWND hWnd,UINT inde
                    x,LPVOID data)
  7283                        ;{
  7284                        	.line	1065
  7285                        	.line	1066
  7286                        	WINMAN
  7287                        	xdef	~~k_user_SetWindowData
  7288                        	func
  7289                        	.function	1066
  7290                        ~~k_user_SetWindowData:
  7291                        	longa	on
  7292                        	longi	on
  7293 04:1D1C: 3B           	tsc
  7294 04:1D1D: 38           	sec
  7295 04:1D1E: E9 14 00     	sbc	#L317
  7296 04:1D21: 1B           	tcs
  7297 04:1D22: 0B           	phd
  7298 04:1D23: 5B           	tcd
  7299             00000004   hWnd_0	set	4
  7300             00000008   index_0	set	8
  7301             0000000A   data_0	set	10
  7302                        	.block	1066
  7303                        ;	LPVOID old = NULL;
  7304                        ;
  7305                        ;	if(hWnd)
  7306             00000000   old_1	set	0
  7307                        	.sym	old,0,129,1,32
  7308                        	.sym	hWnd,4,129,6,32
  7309                        	.sym	index,8,16,6,16
  7310                        	.sym	data,10,129,6,32
  7311 04:1D24: 64 11        	stz	<L318+old_1
  7312 04:1D26: 64 13        	stz	<L318+old_1+2
  7313                        	.line	1069
  7314                        ;	{
  7315 04:1D28: A5 18        	lda	<L317+hWnd_0
  7316 04:1D2A: 05 1A        	ora	<L317+hWnd_0+2
  7317 04:1D2C: D0 03        	bne	L320
  7318 04:1D2E: 82 6A 00     	brl	L10059
  7319                        L320:
  7320                        	.line	1070
  7321                        ;		if(index >= 0 && index < 4)
  7322                        	.line	1071
  7323                        ;		{
  7324 04:1D31: A5 1C        	lda	<L317+index_0
  7325 04:1D33: C9 00 00     	cmp	#<$0
  7326 04:1D36: B0 03        	bcs	L321
  7327 04:1D38: 82 60 00     	brl	L10060
  7328                        L321:
  7329 04:1D3B: A5 1C        	lda	<L317+index_0
  Mon Dec  7 2020 11:19                                                Page 142


  7330 04:1D3D: C9 04 00     	cmp	#<$4
  7331 04:1D40: 90 03        	bcc	L322
  7332 04:1D42: 82 56 00     	brl	L10060
  7333                        L322:
  7334                        	.line	1072
  7335                        ;			old = k_user_GetWindowData(hWnd,
                    index);
  7336                        	.line	1073
  7337 04:1D45: D4 1C        	pei	<L317+index_0
  7338 04:1D47: D4 1A        	pei	<L317+hWnd_0+2
  7339 04:1D49: D4 18        	pei	<L317+hWnd_0
  7340 04:1D4B: 22 B1 1D 04  	jsl	~~k_user_GetWindowData
  7341 04:1D4F: 85 11        	sta	<L318+old_1
  7342 04:1D51: 86 13        	stx	<L318+old_1+2
  7343                        ;			k_getWindowFromHandle(hWnd)->cli
                    entData[index] = data;
  7344                        	.line	1074
  7345 04:1D53: D4 1A        	pei	<L317+hWnd_0+2
  7346 04:1D55: D4 18        	pei	<L317+hWnd_0
  7347 04:1D57: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
  7348 04:1D5B: 85 01        	sta	<R0
  7349 04:1D5D: 86 03        	stx	<R0+2
  7350 04:1D5F: A5 1C        	lda	<L317+index_0
  7351 04:1D61: 85 09        	sta	<R2
  7352 04:1D63: 64 0B        	stz	<R2+2
  7353 04:1D65: D4 0B        	pei	<R2+2
  7354 04:1D67: D4 09        	pei	<R2
  7355 04:1D69: A9 02 00     	lda	#$2
  7356                        	xref	~~~lasl
  7357 04:1D6C: 22 xx xx xx  	jsl	~~~lasl
  7358 04:1D70: 85 05        	sta	<R1
  7359 04:1D72: 86 07        	stx	<R1+2
  7360 04:1D74: 18           	clc
  7361 04:1D75: A9 49 01     	lda	#$149
  7362 04:1D78: 65 01        	adc	<R0
  7363 04:1D7A: 85 0D        	sta	<R3
  7364 04:1D7C: A9 00 00     	lda	#$0
  7365 04:1D7F: 65 03        	adc	<R0+2
  7366 04:1D81: 85 0F        	sta	<R3+2
  7367 04:1D83: 18           	clc
  7368 04:1D84: A5 0D        	lda	<R3
  7369 04:1D86: 65 05        	adc	<R1
  7370 04:1D88: 85 01        	sta	<R0
  7371 04:1D8A: A5 0F        	lda	<R3+2
  7372 04:1D8C: 65 07        	adc	<R1+2
  7373 04:1D8E: 85 03        	sta	<R0+2
  7374 04:1D90: A5 1E        	lda	<L317+data_0
  7375 04:1D92: 87 01        	sta	[<R0]
  7376 04:1D94: A5 20        	lda	<L317+data_0+2
  7377 04:1D96: A0 02 00     	ldy	#$2
  7378 04:1D99: 97 01        	sta	[<R0],Y
  7379                        ;		}
  7380                        	.line	1075
  7381                        ;	}
  7382                        L10060:
  7383                        	.line	1076
  7384                        ;	return old;
  7385                        L10059:
  Mon Dec  7 2020 11:19                                                Page 143


  7386                        	.line	1077
  7387 04:1D9B: A6 13        	ldx	<L318+old_1+2
  7388 04:1D9D: A5 11        	lda	<L318+old_1
  7389                        L323:
  7390 04:1D9F: A8           	tay
  7391 04:1DA0: A5 16        	lda	<L317+2
  7392 04:1DA2: 85 20        	sta	<L317+2+10
  7393 04:1DA4: A5 15        	lda	<L317+1
  7394 04:1DA6: 85 1F        	sta	<L317+1+10
  7395 04:1DA8: 2B           	pld
  7396 04:1DA9: 3B           	tsc
  7397 04:1DAA: 18           	clc
  7398 04:1DAB: 69 1E 00     	adc	#L317+10
  7399 04:1DAE: 1B           	tcs
  7400 04:1DAF: 98           	tya
  7401 04:1DB0: 6B           	rtl
  7402                        ;}
  7403                        	.line	1078
  7404                        	.endblock	1078
  7405             00000014   L317	equ	20
  7406             00000011   L318	equ	17
  7407 04:1DB1:              	ends
  7408                        	efunc
  7409                        	.endfunc	1078,17,20
  7410                        	.line	1078
  7411                        ;
  7412                        ;LPVOID	k_user_GetWindowData(HWND hWnd,UINT inde
                    x)
  7413                        ;{
  7414                        	.line	1080
  7415                        	.line	1081
  7416                        	WINMAN
  7417                        	xdef	~~k_user_GetWindowData
  7418                        	func
  7419                        	.function	1081
  7420                        ~~k_user_GetWindowData:
  7421                        	longa	on
  7422                        	longi	on
  7423 04:1DB1: 3B           	tsc
  7424 04:1DB2: 38           	sec
  7425 04:1DB3: E9 14 00     	sbc	#L324
  7426 04:1DB6: 1B           	tcs
  7427 04:1DB7: 0B           	phd
  7428 04:1DB8: 5B           	tcd
  7429             00000004   hWnd_0	set	4
  7430             00000008   index_0	set	8
  7431                        	.block	1081
  7432                        ;	LPVOID data = NULL;
  7433                        ;
  7434                        ;	if(hWnd)
  7435             00000000   data_1	set	0
  7436                        	.sym	data,0,129,1,32
  7437                        	.sym	hWnd,4,129,6,32
  7438                        	.sym	index,8,16,6,16
  7439 04:1DB9: 64 11        	stz	<L325+data_1
  7440 04:1DBB: 64 13        	stz	<L325+data_1+2
  7441                        	.line	1084
  7442                        ;	{
  Mon Dec  7 2020 11:19                                                Page 144


  7443 04:1DBD: A5 18        	lda	<L324+hWnd_0
  7444 04:1DBF: 05 1A        	ora	<L324+hWnd_0+2
  7445 04:1DC1: D0 03        	bne	L327
  7446 04:1DC3: 82 5C 00     	brl	L10061
  7447                        L327:
  7448                        	.line	1085
  7449                        ;		if(index >= 0 && index < 4)
  7450                        	.line	1086
  7451                        ;		{
  7452 04:1DC6: A5 1C        	lda	<L324+index_0
  7453 04:1DC8: C9 00 00     	cmp	#<$0
  7454 04:1DCB: B0 03        	bcs	L328
  7455 04:1DCD: 82 52 00     	brl	L10062
  7456                        L328:
  7457 04:1DD0: A5 1C        	lda	<L324+index_0
  7458 04:1DD2: C9 04 00     	cmp	#<$4
  7459 04:1DD5: 90 03        	bcc	L329
  7460 04:1DD7: 82 48 00     	brl	L10062
  7461                        L329:
  7462                        	.line	1087
  7463                        ;			data = k_getWindowFromHandle(hWn
                    d)->clientData[index];
  7464                        	.line	1088
  7465 04:1DDA: D4 1A        	pei	<L324+hWnd_0+2
  7466 04:1DDC: D4 18        	pei	<L324+hWnd_0
  7467 04:1DDE: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
  7468 04:1DE2: 85 01        	sta	<R0
  7469 04:1DE4: 86 03        	stx	<R0+2
  7470 04:1DE6: A5 1C        	lda	<L324+index_0
  7471 04:1DE8: 85 09        	sta	<R2
  7472 04:1DEA: 64 0B        	stz	<R2+2
  7473 04:1DEC: D4 0B        	pei	<R2+2
  7474 04:1DEE: D4 09        	pei	<R2
  7475 04:1DF0: A9 02 00     	lda	#$2
  7476                        	xref	~~~lasl
  7477 04:1DF3: 22 xx xx xx  	jsl	~~~lasl
  7478 04:1DF7: 85 05        	sta	<R1
  7479 04:1DF9: 86 07        	stx	<R1+2
  7480 04:1DFB: 18           	clc
  7481 04:1DFC: A9 49 01     	lda	#$149
  7482 04:1DFF: 65 01        	adc	<R0
  7483 04:1E01: 85 0D        	sta	<R3
  7484 04:1E03: A9 00 00     	lda	#$0
  7485 04:1E06: 65 03        	adc	<R0+2
  7486 04:1E08: 85 0F        	sta	<R3+2
  7487 04:1E0A: 18           	clc
  7488 04:1E0B: A5 0D        	lda	<R3
  7489 04:1E0D: 65 05        	adc	<R1
  7490 04:1E0F: 85 01        	sta	<R0
  7491 04:1E11: A5 0F        	lda	<R3+2
  7492 04:1E13: 65 07        	adc	<R1+2
  7493 04:1E15: 85 03        	sta	<R0+2
  7494 04:1E17: A7 01        	lda	[<R0]
  7495 04:1E19: 85 11        	sta	<L325+data_1
  7496 04:1E1B: A0 02 00     	ldy	#$2
  7497 04:1E1E: B7 01        	lda	[<R0],Y
  7498 04:1E20: 85 13        	sta	<L325+data_1+2
  7499                        ;		}
  Mon Dec  7 2020 11:19                                                Page 145


  7500                        	.line	1089
  7501                        ;	}
  7502                        L10062:
  7503                        	.line	1090
  7504                        ;
  7505                        ;	return data;
  7506                        L10061:
  7507                        	.line	1092
  7508 04:1E22: A6 13        	ldx	<L325+data_1+2
  7509 04:1E24: A5 11        	lda	<L325+data_1
  7510                        L330:
  7511 04:1E26: A8           	tay
  7512 04:1E27: A5 16        	lda	<L324+2
  7513 04:1E29: 85 1C        	sta	<L324+2+6
  7514 04:1E2B: A5 15        	lda	<L324+1
  7515 04:1E2D: 85 1B        	sta	<L324+1+6
  7516 04:1E2F: 2B           	pld
  7517 04:1E30: 3B           	tsc
  7518 04:1E31: 18           	clc
  7519 04:1E32: 69 1A 00     	adc	#L324+6
  7520 04:1E35: 1B           	tcs
  7521 04:1E36: 98           	tya
  7522 04:1E37: 6B           	rtl
  7523                        ;}
  7524                        	.line	1093
  7525                        	.endblock	1093
  7526             00000014   L324	equ	20
  7527             00000011   L325	equ	17
  7528 04:1E38:              	ends
  7529                        	efunc
  7530                        	.endfunc	1093,17,20
  7531                        	.line	1093
  7532                        ;
  7533                        ;void k_user_SetRect(PRECT prect,int x,int y,int w
                    idth,int height)
  7534                        ;{
  7535                        	.line	1095
  7536                        	.line	1096
  7537                        	WINMAN
  7538                        	xdef	~~k_user_SetRect
  7539                        	func
  7540                        	.function	1096
  7541                        ~~k_user_SetRect:
  7542                        	longa	on
  7543                        	longi	on
  7544 04:1E38: 3B           	tsc
  7545 04:1E39: 38           	sec
  7546 04:1E3A: E9 00 00     	sbc	#L331
  7547 04:1E3D: 1B           	tcs
  7548 04:1E3E: 0B           	phd
  7549 04:1E3F: 5B           	tcd
  7550             00000004   prect_0	set	4
  7551             00000008   x_0	set	8
  7552             0000000A   y_0	set	10
  7553             0000000C   width_0	set	12
  7554             0000000E   height_0	set	14
  7555                        	.block	1096
  7556                        ;	if(prect)
  Mon Dec  7 2020 11:19                                                Page 146


  7557                        	.sym	prect,4,138,6,32,22
  7558                        	.sym	x,8,5,6,16
  7559                        	.sym	y,10,5,6,16
  7560                        	.sym	width,12,5,6,16
  7561                        	.sym	height,14,5,6,16
  7562                        	.line	1097
  7563                        ;	{
  7564 04:1E40: A5 04        	lda	<L331+prect_0
  7565 04:1E42: 05 06        	ora	<L331+prect_0+2
  7566 04:1E44: D0 03        	bne	L334
  7567 04:1E46: 82 19 00     	brl	L10063
  7568                        L334:
  7569                        	.line	1098
  7570                        ;		prect->x = x;
  7571                        	.line	1099
  7572 04:1E49: A5 08        	lda	<L331+x_0
  7573 04:1E4B: 87 04        	sta	[<L331+prect_0]
  7574                        ;		prect->y = y;
  7575                        	.line	1100
  7576 04:1E4D: A5 0A        	lda	<L331+y_0
  7577 04:1E4F: A0 02 00     	ldy	#$2
  7578 04:1E52: 97 04        	sta	[<L331+prect_0],Y
  7579                        ;		prect->width = width;
  7580                        	.line	1101
  7581 04:1E54: A5 0C        	lda	<L331+width_0
  7582 04:1E56: A0 04 00     	ldy	#$4
  7583 04:1E59: 97 04        	sta	[<L331+prect_0],Y
  7584                        ;		prect->height = height;
  7585                        	.line	1102
  7586 04:1E5B: A5 0E        	lda	<L331+height_0
  7587 04:1E5D: A0 06 00     	ldy	#$6
  7588 04:1E60: 97 04        	sta	[<L331+prect_0],Y
  7589                        ;	}
  7590                        	.line	1103
  7591                        ;}
  7592                        L10063:
  7593                        	.line	1104
  7594                        L335:
  7595 04:1E62: A5 02        	lda	<L331+2
  7596 04:1E64: 85 0E        	sta	<L331+2+12
  7597 04:1E66: A5 01        	lda	<L331+1
  7598 04:1E68: 85 0D        	sta	<L331+1+12
  7599 04:1E6A: 2B           	pld
  7600 04:1E6B: 3B           	tsc
  7601 04:1E6C: 18           	clc
  7602 04:1E6D: 69 0C 00     	adc	#L331+12
  7603 04:1E70: 1B           	tcs
  7604 04:1E71: 6B           	rtl
  7605                        	.endblock	1104
  7606             00000000   L331	equ	0
  7607             00000001   L332	equ	1
  7608 04:1E72:              	ends
  7609                        	efunc
  7610                        	.endfunc	1104,1,0
  7611                        	.line	1104
  7612                        ;
  7613                        ;void k_user_ClearRect(PRECT prect)
  7614                        ;{
  Mon Dec  7 2020 11:19                                                Page 147


  7615                        	.line	1106
  7616                        	.line	1107
  7617                        	WINMAN
  7618                        	xdef	~~k_user_ClearRect
  7619                        	func
  7620                        	.function	1107
  7621                        ~~k_user_ClearRect:
  7622                        	longa	on
  7623                        	longi	on
  7624 04:1E72: 3B           	tsc
  7625 04:1E73: 38           	sec
  7626 04:1E74: E9 00 00     	sbc	#L336
  7627 04:1E77: 1B           	tcs
  7628 04:1E78: 0B           	phd
  7629 04:1E79: 5B           	tcd
  7630             00000004   prect_0	set	4
  7631                        	.block	1107
  7632                        ;	if(prect)
  7633                        	.sym	prect,4,138,6,32,22
  7634                        	.line	1108
  7635                        ;	{
  7636 04:1E7A: A5 04        	lda	<L336+prect_0
  7637 04:1E7C: 05 06        	ora	<L336+prect_0+2
  7638 04:1E7E: D0 03        	bne	L339
  7639 04:1E80: 82 1D 00     	brl	L10064
  7640                        L339:
  7641                        	.line	1109
  7642                        ;		prect->x 	  = 0;
  7643                        	.line	1110
  7644 04:1E83: A9 00 00     	lda	#$0
  7645 04:1E86: 87 04        	sta	[<L336+prect_0]
  7646                        ;		prect->y 	  = 0;
  7647                        	.line	1111
  7648 04:1E88: A9 00 00     	lda	#$0
  7649 04:1E8B: A0 02 00     	ldy	#$2
  7650 04:1E8E: 97 04        	sta	[<L336+prect_0],Y
  7651                        ;		prect->width  = 0;
  7652                        	.line	1112
  7653 04:1E90: A9 00 00     	lda	#$0
  7654 04:1E93: A0 04 00     	ldy	#$4
  7655 04:1E96: 97 04        	sta	[<L336+prect_0],Y
  7656                        ;		prect->height = 0;
  7657                        	.line	1113
  7658 04:1E98: A9 00 00     	lda	#$0
  7659 04:1E9B: A0 06 00     	ldy	#$6
  7660 04:1E9E: 97 04        	sta	[<L336+prect_0],Y
  7661                        ;	}
  7662                        	.line	1114
  7663                        ;}
  7664                        L10064:
  7665                        	.line	1115
  7666                        L340:
  7667 04:1EA0: A5 02        	lda	<L336+2
  7668 04:1EA2: 85 06        	sta	<L336+2+4
  7669 04:1EA4: A5 01        	lda	<L336+1
  7670 04:1EA6: 85 05        	sta	<L336+1+4
  7671 04:1EA8: 2B           	pld
  7672 04:1EA9: 3B           	tsc
  Mon Dec  7 2020 11:19                                                Page 148


  7673 04:1EAA: 18           	clc
  7674 04:1EAB: 69 04 00     	adc	#L336+4
  7675 04:1EAE: 1B           	tcs
  7676 04:1EAF: 6B           	rtl
  7677                        	.endblock	1115
  7678             00000000   L336	equ	0
  7679             00000001   L337	equ	1
  7680 04:1EB0:              	ends
  7681                        	efunc
  7682                        	.endfunc	1115,1,0
  7683                        	.line	1115
  7684                        ;
  7685                        ;
  7686                        ;void k_user_CopyRect(PRECT prectSrc,PRECT prectDe
                    st)
  7687                        ;{
  7688                        	.line	1118
  7689                        	.line	1119
  7690                        	WINMAN
  7691                        	xdef	~~k_user_CopyRect
  7692                        	func
  7693                        	.function	1119
  7694                        ~~k_user_CopyRect:
  7695                        	longa	on
  7696                        	longi	on
  7697 04:1EB0: 3B           	tsc
  7698 04:1EB1: 38           	sec
  7699 04:1EB2: E9 00 00     	sbc	#L341
  7700 04:1EB5: 1B           	tcs
  7701 04:1EB6: 0B           	phd
  7702 04:1EB7: 5B           	tcd
  7703             00000004   prectSrc_0	set	4
  7704             00000008   prectDest_0	set	8
  7705                        	.block	1119
  7706                        ;	if(prectSrc && prectDest)
  7707                        	.sym	prectSrc,4,138,6,32,22
  7708                        	.sym	prectDest,8,138,6,32,22
  7709                        	.line	1120
  7710                        ;	{
  7711 04:1EB8: A5 04        	lda	<L341+prectSrc_0
  7712 04:1EBA: 05 06        	ora	<L341+prectSrc_0+2
  7713 04:1EBC: D0 03        	bne	L344
  7714 04:1EBE: 82 2B 00     	brl	L10065
  7715                        L344:
  7716 04:1EC1: A5 08        	lda	<L341+prectDest_0
  7717 04:1EC3: 05 0A        	ora	<L341+prectDest_0+2
  7718 04:1EC5: D0 03        	bne	L345
  7719 04:1EC7: 82 22 00     	brl	L10065
  7720                        L345:
  7721                        	.line	1121
  7722                        ;		prectSrc->x 	= prectDest->x;
  7723                        	.line	1122
  7724 04:1ECA: A7 08        	lda	[<L341+prectDest_0]
  7725 04:1ECC: 87 04        	sta	[<L341+prectSrc_0]
  7726                        ;		prectSrc->y 	= prectDest->y;
  7727                        	.line	1123
  7728 04:1ECE: A0 02 00     	ldy	#$2
  7729 04:1ED1: B7 08        	lda	[<L341+prectDest_0],Y
  Mon Dec  7 2020 11:19                                                Page 149


  7730 04:1ED3: A0 02 00     	ldy	#$2
  7731 04:1ED6: 97 04        	sta	[<L341+prectSrc_0],Y
  7732                        ;		prectSrc->width = prectDest->width;
  7733                        	.line	1124
  7734 04:1ED8: A0 04 00     	ldy	#$4
  7735 04:1EDB: B7 08        	lda	[<L341+prectDest_0],Y
  7736 04:1EDD: A0 04 00     	ldy	#$4
  7737 04:1EE0: 97 04        	sta	[<L341+prectSrc_0],Y
  7738                        ;		prectSrc->height= prectDest->height;
  7739                        	.line	1125
  7740 04:1EE2: A0 06 00     	ldy	#$6
  7741 04:1EE5: B7 08        	lda	[<L341+prectDest_0],Y
  7742 04:1EE7: A0 06 00     	ldy	#$6
  7743 04:1EEA: 97 04        	sta	[<L341+prectSrc_0],Y
  7744                        ;	}
  7745                        	.line	1126
  7746                        ;}
  7747                        L10065:
  7748                        	.line	1127
  7749                        L346:
  7750 04:1EEC: A5 02        	lda	<L341+2
  7751 04:1EEE: 85 0A        	sta	<L341+2+8
  7752 04:1EF0: A5 01        	lda	<L341+1
  7753 04:1EF2: 85 09        	sta	<L341+1+8
  7754 04:1EF4: 2B           	pld
  7755 04:1EF5: 3B           	tsc
  7756 04:1EF6: 18           	clc
  7757 04:1EF7: 69 08 00     	adc	#L341+8
  7758 04:1EFA: 1B           	tcs
  7759 04:1EFB: 6B           	rtl
  7760                        	.endblock	1127
  7761             00000000   L341	equ	0
  7762             00000001   L342	equ	1
  7763 04:1EFC:              	ends
  7764                        	efunc
  7765                        	.endfunc	1127,1,0
  7766                        	.line	1127
  7767                        ;
  7768                        ;
  7769                        ;HMENU k_user_CreateMenuResource()
  7770                        ;{
  7771                        	.line	1130
  7772                        	.line	1131
  7773                        	WINMAN
  7774                        	xdef	~~k_user_CreateMenuResource
  7775                        	func
  7776                        	.function	1131
  7777                        ~~k_user_CreateMenuResource:
  7778                        	longa	on
  7779                        	longi	on
  7780 04:1EFC: 3B           	tsc
  7781 04:1EFD: 38           	sec
  7782 04:1EFE: E9 04 00     	sbc	#L347
  7783 04:1F01: 1B           	tcs
  7784 04:1F02: 0B           	phd
  7785 04:1F03: 5B           	tcd
  7786                        	.block	1131
  7787                        ;	PMENU pMenu = NULL;
  Mon Dec  7 2020 11:19                                                Page 150


  7788                        ;
  7789                        ;	//k_debug_strings("k_user_CreateMenuResource:","
                    Enter");
  7790                        ;
  7791                        ;	pMenu = k_mem_allocate_heap(sizeof(MENU));
  7792             00000000   pMenu_1	set	0
  7793                        	.sym	pMenu,0,138,1,32,31
  7794 04:1F04: 64 01        	stz	<L348+pMenu_1
  7795 04:1F06: 64 03        	stz	<L348+pMenu_1+2
  7796                        	.line	1136
  7797 04:1F08: F4 1F 00     	pea	#<$1f
  7798 04:1F0B: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  7799 04:1F0F: 85 01        	sta	<L348+pMenu_1
  7800 04:1F11: 86 03        	stx	<L348+pMenu_1+2
  7801                        ;	memset(pMenu,0,sizeof(MENU));
  7802                        	.line	1137
  7803 04:1F13: F4 1F 00     	pea	#<$1f
  7804 04:1F16: F4 00 00     	pea	#<$0
  7805 04:1F19: D4 03        	pei	<L348+pMenu_1+2
  7806 04:1F1B: D4 01        	pei	<L348+pMenu_1
  7807 04:1F1D: 22 xx xx xx  	jsl	~~memset
  7808                        ;
  7809                        ;	pMenu->pCaption = NULL;//k_string_copy_string("@
                    root");
  7810                        	.line	1139
  7811 04:1F21: A9 00 00     	lda	#$0
  7812 04:1F24: A0 0F 00     	ldy	#$f
  7813 04:1F27: 97 01        	sta	[<L348+pMenu_1],Y
  7814 04:1F29: A9 00 00     	lda	#$0
  7815 04:1F2C: A0 11 00     	ldy	#$11
  7816 04:1F2F: 97 01        	sta	[<L348+pMenu_1],Y
  7817                        ;	pMenu->width    = 0;
  7818                        	.line	1140
  7819 04:1F31: A9 00 00     	lda	#$0
  7820 04:1F34: A0 04 00     	ldy	#$4
  7821 04:1F37: 97 01        	sta	[<L348+pMenu_1],Y
  7822                        ;	pMenu->height   = 0;
  7823                        	.line	1141
  7824 04:1F39: A9 00 00     	lda	#$0
  7825 04:1F3C: A0 06 00     	ldy	#$6
  7826 04:1F3F: 97 01        	sta	[<L348+pMenu_1],Y
  7827                        ;	pMenu->subMenus = NULL;
  7828                        	.line	1142
  7829 04:1F41: A9 00 00     	lda	#$0
  7830 04:1F44: A0 13 00     	ldy	#$13
  7831 04:1F47: 97 01        	sta	[<L348+pMenu_1],Y
  7832 04:1F49: A9 00 00     	lda	#$0
  7833 04:1F4C: A0 15 00     	ldy	#$15
  7834 04:1F4F: 97 01        	sta	[<L348+pMenu_1],Y
  7835                        ;
  7836                        ;	//k_debug_strings("k_user_CreateMenuResource:","
                    Exit");
  7837                        ;
  7838                        ;	return (HMENU)pMenu;
  7839                        	.line	1146
  7840 04:1F51: A6 03        	ldx	<L348+pMenu_1+2
  7841 04:1F53: A5 01        	lda	<L348+pMenu_1
  7842                        L350:
  Mon Dec  7 2020 11:19                                                Page 151


  7843 04:1F55: A8           	tay
  7844 04:1F56: 2B           	pld
  7845 04:1F57: 3B           	tsc
  7846 04:1F58: 18           	clc
  7847 04:1F59: 69 04 00     	adc	#L347
  7848 04:1F5C: 1B           	tcs
  7849 04:1F5D: 98           	tya
  7850 04:1F5E: 6B           	rtl
  7851                        ;}
  7852                        	.line	1147
  7853                        	.endblock	1147
  7854             00000004   L347	equ	4
  7855             00000001   L348	equ	1
  7856 04:1F5F:              	ends
  7857                        	efunc
  7858                        	.endfunc	1147,1,4
  7859                        	.line	1147
  7860                        ;
  7861                        ;HMENU k_user_AddMenuItem(HMENU hMenu,LPCSTR menuC
                    aption,UINT menuId)
  7862                        ;{
  7863                        	.line	1149
  7864                        	.line	1150
  7865                        	WINMAN
  7866                        	xdef	~~k_user_AddMenuItem
  7867                        	func
  7868                        	.function	1150
  7869                        ~~k_user_AddMenuItem:
  7870                        	longa	on
  7871                        	longi	on
  7872 04:1F5F: 3B           	tsc
  7873 04:1F60: 38           	sec
  7874 04:1F61: E9 0C 00     	sbc	#L351
  7875 04:1F64: 1B           	tcs
  7876 04:1F65: 0B           	phd
  7877 04:1F66: 5B           	tcd
  7878             00000004   hMenu_0	set	4
  7879             00000008   menuCaption_0	set	8
  7880             0000000C   menuId_0	set	12
  7881                        	.block	1150
  7882                        ;	PMENU pMenu = NULL;
  7883                        ;	PMENU pRoot = (PMENU)hMenu;
  7884                        ;
  7885                        ;	//k_debug_strings("k_user_AddMenuItem:","Enter")
                    ;
  7886                        ;
  7887                        ;	if(pRoot)
  7888             00000000   pMenu_1	set	0
  7889             00000004   pRoot_1	set	4
  7890                        	.sym	pMenu,0,138,1,32,31
  7891                        	.sym	pRoot,4,138,1,32,31
  7892                        	.sym	hMenu,4,129,6,32
  7893                        	.sym	menuCaption,8,142,6,32
  7894                        	.sym	menuId,12,16,6,16
  7895 04:1F67: 64 05        	stz	<L352+pMenu_1
  7896 04:1F69: 64 07        	stz	<L352+pMenu_1+2
  7897 04:1F6B: A5 10        	lda	<L351+hMenu_0
  7898 04:1F6D: 85 09        	sta	<L352+pRoot_1
  Mon Dec  7 2020 11:19                                                Page 152


  7899 04:1F6F: A5 12        	lda	<L351+hMenu_0+2
  7900 04:1F71: 85 0B        	sta	<L352+pRoot_1+2
  7901                        	.line	1156
  7902                        ;	{
  7903 04:1F73: A5 09        	lda	<L352+pRoot_1
  7904 04:1F75: 05 0B        	ora	<L352+pRoot_1+2
  7905 04:1F77: D0 03        	bne	L354
  7906 04:1F79: 82 BA 00     	brl	L10066
  7907                        L354:
  7908                        	.line	1157
  7909                        ;
  7910                        ;		pMenu = k_mem_allocate_heap(sizeof(MENU)
                    );
  7911                        	.line	1159
  7912 04:1F7C: F4 1F 00     	pea	#<$1f
  7913 04:1F7F: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  7914 04:1F83: 85 05        	sta	<L352+pMenu_1
  7915 04:1F85: 86 07        	stx	<L352+pMenu_1+2
  7916                        ;		memset(pMenu,0,sizeof(MENU));
  7917                        	.line	1160
  7918 04:1F87: F4 1F 00     	pea	#<$1f
  7919 04:1F8A: F4 00 00     	pea	#<$0
  7920 04:1F8D: D4 07        	pei	<L352+pMenu_1+2
  7921 04:1F8F: D4 05        	pei	<L352+pMenu_1
  7922 04:1F91: 22 xx xx xx  	jsl	~~memset
  7923                        ;		pMenu->itemId = menuId;
  7924                        	.line	1161
  7925 04:1F95: A5 18        	lda	<L351+menuId_0
  7926 04:1F97: A0 0D 00     	ldy	#$d
  7927 04:1F9A: 97 05        	sta	[<L352+pMenu_1],Y
  7928                        ;		pMenu->pCaption = k_string_copy_string(m
                    enuCaption);
  7929                        	.line	1162
  7930 04:1F9C: D4 16        	pei	<L351+menuCaption_0+2
  7931 04:1F9E: D4 14        	pei	<L351+menuCaption_0
  7932 04:1FA0: 22 xx xx xx  	jsl	~~k_string_copy_string
  7933 04:1FA4: 85 01        	sta	<R0
  7934 04:1FA6: 86 03        	stx	<R0+2
  7935 04:1FA8: A5 01        	lda	<R0
  7936 04:1FAA: A0 0F 00     	ldy	#$f
  7937 04:1FAD: 97 05        	sta	[<L352+pMenu_1],Y
  7938 04:1FAF: A5 03        	lda	<R0+2
  7939 04:1FB1: A0 11 00     	ldy	#$11
  7940 04:1FB4: 97 05        	sta	[<L352+pMenu_1],Y
  7941                        ;		pMenu->cx 	  = 0;
  7942                        	.line	1163
  7943 04:1FB6: A9 00 00     	lda	#$0
  7944 04:1FB9: 87 05        	sta	[<L352+pMenu_1]
  7945                        ;		pMenu->cy	  = 0;
  7946                        	.line	1164
  7947 04:1FBB: A9 00 00     	lda	#$0
  7948 04:1FBE: A0 02 00     	ldy	#$2
  7949 04:1FC1: 97 05        	sta	[<L352+pMenu_1],Y
  7950                        ;		pMenu->width  = 0;
  7951                        	.line	1165
  7952 04:1FC3: A9 00 00     	lda	#$0
  7953 04:1FC6: A0 04 00     	ldy	#$4
  7954 04:1FC9: 97 05        	sta	[<L352+pMenu_1],Y
  Mon Dec  7 2020 11:19                                                Page 153


  7955                        ;		pMenu->height = 0;
  7956                        	.line	1166
  7957 04:1FCB: A9 00 00     	lda	#$0
  7958 04:1FCE: A0 06 00     	ldy	#$6
  7959 04:1FD1: 97 05        	sta	[<L352+pMenu_1],Y
  7960                        ;
  7961                        ;		if(!pRoot->subMenus)
  7962                        	.line	1168
  7963                        ;		{
  7964 04:1FD3: A0 13 00     	ldy	#$13
  7965 04:1FD6: B7 09        	lda	[<L352+pRoot_1],Y
  7966 04:1FD8: A0 15 00     	ldy	#$15
  7967 04:1FDB: 17 09        	ora	[<L352+pRoot_1],Y
  7968 04:1FDD: F0 03        	beq	L355
  7969 04:1FDF: 82 22 00     	brl	L10067
  7970                        L355:
  7971                        	.line	1169
  7972                        ;			pRoot->subMenus = k_nodelist_all
                    ocate_list("_menu_sub_item_list" ,k_deallocate_menu_resource
                    );
  7973                        	.line	1170
  7974 04:1FE2: F4 04 00     	pea	#^~~k_deallocate_menu_resource
  7975 04:1FE5: F4 44 01     	pea	#<~~k_deallocate_menu_resource
  7976 04:1FE8: F4 xx xx     	pea	#^L309
  7977 04:1FEB: F4 xx xx     	pea	#<L309
  7978 04:1FEE: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
  7979 04:1FF2: 85 01        	sta	<R0
  7980 04:1FF4: 86 03        	stx	<R0+2
  7981 04:1FF6: A5 01        	lda	<R0
  7982 04:1FF8: A0 13 00     	ldy	#$13
  7983 04:1FFB: 97 09        	sta	[<L352+pRoot_1],Y
  7984 04:1FFD: A5 03        	lda	<R0+2
  7985 04:1FFF: A0 15 00     	ldy	#$15
  7986 04:2002: 97 09        	sta	[<L352+pRoot_1],Y
  7987                        ;		}
  7988                        	.line	1171
  7989                        ;
  7990                        ;		if(pRoot->subMenus)
  7991                        L10067:
  7992                        	.line	1173
  7993                        ;		{
  7994 04:2004: A0 13 00     	ldy	#$13
  7995 04:2007: B7 09        	lda	[<L352+pRoot_1],Y
  7996 04:2009: A0 15 00     	ldy	#$15
  7997 04:200C: 17 09        	ora	[<L352+pRoot_1],Y
  7998 04:200E: D0 03        	bne	L356
  7999 04:2010: 82 23 00     	brl	L10068
  8000                        L356:
  8001                        	.line	1174
  8002                        ;			k_nodelist_addtolist(pRoot->subM
                    enus,NL_TYPE_WINDOW_MENU,pMenu->pCaption,pMenu);
  8003                        	.line	1175
  8004 04:2013: D4 07        	pei	<L352+pMenu_1+2
  8005 04:2015: D4 05        	pei	<L352+pMenu_1
  8006 04:2017: A0 11 00     	ldy	#$11
  8007 04:201A: B7 05        	lda	[<L352+pMenu_1],Y
  8008 04:201C: 48           	pha
  8009 04:201D: A0 0F 00     	ldy	#$f
  Mon Dec  7 2020 11:19                                                Page 154


  8010 04:2020: B7 05        	lda	[<L352+pMenu_1],Y
  8011 04:2022: 48           	pha
  8012 04:2023: F4 03 00     	pea	#<$3
  8013 04:2026: A0 15 00     	ldy	#$15
  8014 04:2029: B7 09        	lda	[<L352+pRoot_1],Y
  8015 04:202B: 48           	pha
  8016 04:202C: A0 13 00     	ldy	#$13
  8017 04:202F: B7 09        	lda	[<L352+pRoot_1],Y
  8018 04:2031: 48           	pha
  8019 04:2032: 22 xx xx xx  	jsl	~~k_nodelist_addtolist
  8020                        ;		}
  8021                        	.line	1176
  8022                        ;
  8023                        ;	}
  8024                        L10068:
  8025                        	.line	1178
  8026                        ;
  8027                        ;	//k_debug_strings("k_user_AddMenuItem:","Exit");
  8028                        ;
  8029                        ;	return pMenu;
  8030                        L10066:
  8031                        	.line	1182
  8032 04:2036: A6 07        	ldx	<L352+pMenu_1+2
  8033 04:2038: A5 05        	lda	<L352+pMenu_1
  8034                        L357:
  8035 04:203A: A8           	tay
  8036 04:203B: A5 0E        	lda	<L351+2
  8037 04:203D: 85 18        	sta	<L351+2+10
  8038 04:203F: A5 0D        	lda	<L351+1
  8039 04:2041: 85 17        	sta	<L351+1+10
  8040 04:2043: 2B           	pld
  8041 04:2044: 3B           	tsc
  8042 04:2045: 18           	clc
  8043 04:2046: 69 16 00     	adc	#L351+10
  8044 04:2049: 1B           	tcs
  8045 04:204A: 98           	tya
  8046 04:204B: 6B           	rtl
  8047                        ;}
  8048                        	.line	1183
  8049                        	.endblock	1183
  8050             0000000C   L351	equ	12
  8051             00000005   L352	equ	5
  8052 04:204C:              	ends
  8053                        	efunc
  8054                        	.endfunc	1183,5,12
  8055                        	.line	1183
  8056                        	data
  8057                        L309:
  8058 00:0570: 5F 6D 65 6E  	db	$5F,$6D,$65,$6E,$75,$5F,$73,$75,$62,$5F,
                    $69,$74,$65,$6D,$5F
       00:0574: 75 5F 73 75 
       00:0578: 62 5F 69 74 
       00:057C: 65 6D 5F 
  8059 00:057F: 6C 69 73 74  	db	$6C,$69,$73,$74,$00
       00:0583: 00 
  8060 00:0584:              	ends
  8061                        ;
  8062                        ;PWINDOW	k_user_CreateMenu(HWND      hWndParent,
  Mon Dec  7 2020 11:19                                                Page 155


  8063                        ;						  HMENU 
                        hMenu,
  8064                        ;						  HINSTA
                    NCE hInstance)
  8065                        ;{
  8066                        	.line	1185
  8067                        	.line	1188
  8068                        	WINMAN
  8069                        	xdef	~~k_user_CreateMenu
  8070                        	func
  8071                        	.function	1188
  8072                        ~~k_user_CreateMenu:
  8073                        	longa	on
  8074                        	longi	on
  8075 04:204C: 3B           	tsc
  8076 04:204D: 38           	sec
  8077 04:204E: E9 38 00     	sbc	#L359
  8078 04:2051: 1B           	tcs
  8079 04:2052: 0B           	phd
  8080 04:2053: 5B           	tcd
  8081             00000004   hWndParent_0	set	4
  8082             00000008   hMenu_0	set	8
  8083             0000000C   hInstance_0	set	12
  8084                        	.block	1188
  8085                        ;
  8086                        ;	PFXNODE   found = NULL;
  8087                        ;	PFXNODE   new = NULL;
  8088                        ;	PWINDOW   pWin = NULL;
  8089                        ;	PWNDCLASS wndClass = NULL;
  8090                        ;	PWINDOW   pParent = NULL;
  8091                        ;	CHAR localBuffer[32];
  8092                        ;
  8093                        ;	//k_debug_pointer("k_user_CreateMenu:Parent hWnd
                    :",hWndParent);
  8094                        ;	//k_debug_pointer("k_user_CreateMenu:DesktopWind
                    ow:",k_user_getDesktopWindow());
  8095                        ;
  8096                        ;
  8097                        ;
  8098                        ;
  8099                        ;	found = k_nodelist_searchByName(_k_windowManager
                    _WindowClassList,"menuWindowClass");
  8100             00000000   found_1	set	0
  8101             00000004   new_1	set	4
  8102             00000008   pWin_1	set	8
  8103             0000000C   wndClass_1	set	12
  8104             00000010   pParent_1	set	16
  8105             00000014   localBuffer_1	set	20
  8106                        	.sym	found,0,138,1,32,2
  8107                        	.sym	new,4,138,1,32,2
  8108                        	.sym	pWin,8,138,1,32,27
  8109                        	.sym	wndClass,12,138,1,32,23
  8110                        	.sym	pParent,16,138,1,32,27
  8111                        	.sym	localBuffer,20,110,1,0,32
  8112                        	.sym	hWndParent,4,129,6,32
  8113                        	.sym	hMenu,8,129,6,32
  8114                        	.sym	hInstance,12,129,6,32
  8115 04:2054: 64 05        	stz	<L360+found_1
  Mon Dec  7 2020 11:19                                                Page 156


  8116 04:2056: 64 07        	stz	<L360+found_1+2
  8117 04:2058: 64 09        	stz	<L360+new_1
  8118 04:205A: 64 0B        	stz	<L360+new_1+2
  8119 04:205C: 64 0D        	stz	<L360+pWin_1
  8120 04:205E: 64 0F        	stz	<L360+pWin_1+2
  8121 04:2060: 64 11        	stz	<L360+wndClass_1
  8122 04:2062: 64 13        	stz	<L360+wndClass_1+2
  8123 04:2064: 64 15        	stz	<L360+pParent_1
  8124 04:2066: 64 17        	stz	<L360+pParent_1+2
  8125                        	.line	1203
  8126 04:2068: F4 xx xx     	pea	#^L358
  8127 04:206B: F4 xx xx     	pea	#<L358
  8128 04:206E: AD xx xx     	lda	|~~_k_windowManager_WindowClassList+2
  8129 04:2071: 48           	pha
  8130 04:2072: AD xx xx     	lda	|~~_k_windowManager_WindowClassList
  8131 04:2075: 48           	pha
  8132 04:2076: 22 xx xx xx  	jsl	~~k_nodelist_searchByName
  8133 04:207A: 85 05        	sta	<L360+found_1
  8134 04:207C: 86 07        	stx	<L360+found_1+2
  8135                        ;	if(found && found->data)
  8136                        	.line	1204
  8137                        ;	{
  8138 04:207E: A5 05        	lda	<L360+found_1
  8139 04:2080: 05 07        	ora	<L360+found_1+2
  8140 04:2082: D0 03        	bne	L362
  8141 04:2084: 82 5C 02     	brl	L10069
  8142                        L362:
  8143 04:2087: A0 02 00     	ldy	#$2
  8144 04:208A: B7 05        	lda	[<L360+found_1],Y
  8145 04:208C: A0 04 00     	ldy	#$4
  8146 04:208F: 17 05        	ora	[<L360+found_1],Y
  8147 04:2091: D0 03        	bne	L363
  8148 04:2093: 82 4D 02     	brl	L10069
  8149                        L363:
  8150                        	.line	1205
  8151                        ;		wndClass = (PWNDCLASS)found->data;
  8152                        	.line	1206
  8153 04:2096: A0 02 00     	ldy	#$2
  8154 04:2099: B7 05        	lda	[<L360+found_1],Y
  8155 04:209B: 85 11        	sta	<L360+wndClass_1
  8156 04:209D: A0 04 00     	ldy	#$4
  8157 04:20A0: B7 05        	lda	[<L360+found_1],Y
  8158 04:20A2: 85 13        	sta	<L360+wndClass_1+2
  8159                        ;
  8160                        ;		//k_debug_strings("k_user_CreateMenu:Fou
                    nd WndClass:",(LPVOID)wndClass->lpszClassName);
  8161                        ;
  8162                        ;		pWin = k_mem_allocate_heap(sizeof(WINDOW
                    ));
  8163                        	.line	1210
  8164 04:20A4: F4 63 01     	pea	#<$163
  8165 04:20A7: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  8166 04:20AB: 85 0D        	sta	<L360+pWin_1
  8167 04:20AD: 86 0F        	stx	<L360+pWin_1+2
  8168                        ;		if(pWin)
  8169                        	.line	1211
  8170                        ;		{
  8171 04:20AF: A5 0D        	lda	<L360+pWin_1
  Mon Dec  7 2020 11:19                                                Page 157


  8172 04:20B1: 05 0F        	ora	<L360+pWin_1+2
  8173 04:20B3: D0 03        	bne	L364
  8174 04:20B5: 82 2B 02     	brl	L10070
  8175                        L364:
  8176                        	.line	1212
  8177                        ;			pParent = k_getWindowFromHandle(
                    hWndParent);
  8178                        	.line	1213
  8179 04:20B8: D4 3E        	pei	<L359+hWndParent_0+2
  8180 04:20BA: D4 3C        	pei	<L359+hWndParent_0
  8181 04:20BC: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
  8182 04:20C0: 85 15        	sta	<L360+pParent_1
  8183 04:20C2: 86 17        	stx	<L360+pParent_1+2
  8184                        ;
  8185                        ;			memset(pWin,0,sizeof(WINDOW));
  8186                        	.line	1215
  8187 04:20C4: F4 63 01     	pea	#<$163
  8188 04:20C7: F4 00 00     	pea	#<$0
  8189 04:20CA: D4 0F        	pei	<L360+pWin_1+2
  8190 04:20CC: D4 0D        	pei	<L360+pWin_1
  8191 04:20CE: 22 xx xx xx  	jsl	~~memset
  8192                        ;			pWin->cbSize = sizeof(WINDOW);
  8193                        	.line	1216
  8194 04:20D2: A9 63 01     	lda	#$163
  8195 04:20D5: 87 0D        	sta	[<L360+pWin_1]
  8196                        ;
  8197                        ;			if(k_exec_get_current_process())
  8198                        	.line	1218
  8199                        ;			{
  8200 04:20D7: 22 xx xx xx  	jsl	~~k_exec_get_current_process
  8201 04:20DB: 85 01        	sta	<R0
  8202 04:20DD: 86 03        	stx	<R0+2
  8203 04:20DF: A5 01        	lda	<R0
  8204 04:20E1: 05 03        	ora	<R0+2
  8205 04:20E3: D0 03        	bne	L365
  8206 04:20E5: 82 1F 00     	brl	L10071
  8207                        L365:
  8208                        	.line	1219
  8209                        ;				pWin->procid = k_exec_ge
                    t_current_process()->procId;
  8210                        	.line	1220
  8211 04:20E8: 22 xx xx xx  	jsl	~~k_exec_get_current_process
  8212 04:20EC: 85 01        	sta	<R0
  8213 04:20EE: 86 03        	stx	<R0+2
  8214 04:20F0: A0 02 00     	ldy	#$2
  8215 04:20F3: B7 01        	lda	[<R0],Y
  8216 04:20F5: A0 2C 01     	ldy	#$12c
  8217 04:20F8: 97 0D        	sta	[<L360+pWin_1],Y
  8218 04:20FA: A0 04 00     	ldy	#$4
  8219 04:20FD: B7 01        	lda	[<R0],Y
  8220 04:20FF: A0 2E 01     	ldy	#$12e
  8221 04:2102: 97 0D        	sta	[<L360+pWin_1],Y
  8222                        ;			}
  8223                        	.line	1221
  8224                        ;			else
  8225 04:2104: 82 29 00     	brl	L10072
  8226                        L10071:
  8227                        ;			{
  Mon Dec  7 2020 11:19                                                Page 158


  8228                        	.line	1223
  8229                        ;				if(hWndParent)
  8230                        	.line	1224
  8231                        ;					pWin->procid = k
                    _getWindowFromHandle(hWndParent)->procid;
  8232 04:2107: A5 3C        	lda	<L359+hWndParent_0
  8233 04:2109: 05 3E        	ora	<L359+hWndParent_0+2
  8234 04:210B: D0 03        	bne	L366
  8235 04:210D: 82 20 00     	brl	L10073
  8236                        L366:
  8237                        	.line	1225
  8238 04:2110: D4 3E        	pei	<L359+hWndParent_0+2
  8239 04:2112: D4 3C        	pei	<L359+hWndParent_0
  8240 04:2114: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
  8241 04:2118: 85 01        	sta	<R0
  8242 04:211A: 86 03        	stx	<R0+2
  8243 04:211C: A0 2C 01     	ldy	#$12c
  8244 04:211F: B7 01        	lda	[<R0],Y
  8245 04:2121: A0 2C 01     	ldy	#$12c
  8246 04:2124: 97 0D        	sta	[<L360+pWin_1],Y
  8247 04:2126: A0 2E 01     	ldy	#$12e
  8248 04:2129: B7 01        	lda	[<R0],Y
  8249 04:212B: A0 2E 01     	ldy	#$12e
  8250 04:212E: 97 0D        	sta	[<L360+pWin_1],Y
  8251                        ;			}
  8252                        L10073:
  8253                        	.line	1226
  8254                        L10072:
  8255                        ;
  8256                        ;			k_debug_string("k_user_CreateMen
                    u\r\n");
  8257                        	.line	1228
  8258 04:2130: F4 xx xx     	pea	#^L358+16
  8259 04:2133: F4 xx xx     	pea	#<L358+16
  8260 04:2136: 22 xx xx xx  	jsl	~~k_debug_string
  8261                        ;			k_debug_long("Process Id:",(ULON
                    G)pWin->procid);
  8262                        	.line	1229
  8263 04:213A: A0 2E 01     	ldy	#$12e
  8264 04:213D: B7 0D        	lda	[<L360+pWin_1],Y
  8265 04:213F: 48           	pha
  8266 04:2140: A0 2C 01     	ldy	#$12c
  8267 04:2143: B7 0D        	lda	[<L360+pWin_1],Y
  8268 04:2145: 48           	pha
  8269 04:2146: F4 xx xx     	pea	#^L358+36
  8270 04:2149: F4 xx xx     	pea	#<L358+36
  8271 04:214C: 22 xx xx xx  	jsl	~~k_debug_long
  8272                        ;
  8273                        ;			pWin->pParentWindow = hWndParent
                    ;
  8274                        	.line	1231
  8275 04:2150: A5 3C        	lda	<L359+hWndParent_0
  8276 04:2152: A0 34 01     	ldy	#$134
  8277 04:2155: 97 0D        	sta	[<L360+pWin_1],Y
  8278 04:2157: A5 3E        	lda	<L359+hWndParent_0+2
  8279 04:2159: A0 36 01     	ldy	#$136
  8280 04:215C: 97 0D        	sta	[<L360+pWin_1],Y
  8281                        ;			pWin->pWndClass 	= wndCla
  Mon Dec  7 2020 11:19                                                Page 159


                    ss;
  8282                        	.line	1232
  8283 04:215E: A5 11        	lda	<L360+wndClass_1
  8284 04:2160: A0 30 01     	ldy	#$130
  8285 04:2163: 97 0D        	sta	[<L360+pWin_1],Y
  8286 04:2165: A5 13        	lda	<L360+wndClass_1+2
  8287 04:2167: A0 32 01     	ldy	#$132
  8288 04:216A: 97 0D        	sta	[<L360+pWin_1],Y
  8289                        ;			//strcpy(pWin->win_title,(LPCSTR
                    )k_longtodec((ULONG)pWin,localBuffer));
  8290                        ;			strcpy(pWin->win_title,"#menubar
                    ");
  8291                        	.line	1234
  8292 04:216C: F4 xx xx     	pea	#^L358+48
  8293 04:216F: F4 xx xx     	pea	#<L358+48
  8294 04:2172: 18           	clc
  8295 04:2173: A9 D4 00     	lda	#$d4
  8296 04:2176: 65 0D        	adc	<L360+pWin_1
  8297 04:2178: 85 01        	sta	<R0
  8298 04:217A: A9 00 00     	lda	#$0
  8299 04:217D: 65 0F        	adc	<L360+pWin_1+2
  8300 04:217F: 85 03        	sta	<R0+2
  8301 04:2181: D4 03        	pei	<R0+2
  8302 04:2183: D4 01        	pei	<R0
  8303 04:2185: 22 xx xx xx  	jsl	~~strcpy
  8304                        ;			pWin->win_x		 = 0;
  8305                        	.line	1235
  8306 04:2189: A9 00 00     	lda	#$0
  8307 04:218C: A0 08 00     	ldy	#$8
  8308 04:218F: 97 0D        	sta	[<L360+pWin_1],Y
  8309                        ;			pWin->win_y 	 = 0;
  8310                        	.line	1236
  8311 04:2191: A9 00 00     	lda	#$0
  8312 04:2194: A0 0A 00     	ldy	#$a
  8313 04:2197: 97 0D        	sta	[<L360+pWin_1],Y
  8314                        ;			pWin->win_width  = k_user_getSys
                    temMetric(SM_CXMENUSIZE);
  8315                        	.line	1237
  8316 04:2199: F4 36 00     	pea	#<$36
  8317 04:219C: 22 FD 4B 04  	jsl	~~k_user_getSystemMetric
  8318 04:21A0: A0 0C 00     	ldy	#$c
  8319 04:21A3: 97 0D        	sta	[<L360+pWin_1],Y
  8320                        ;			pWin->win_height = k_user_getSys
                    temMetric(SM_CYMENUSIZE);
  8321                        	.line	1238
  8322 04:21A5: F4 37 00     	pea	#<$37
  8323 04:21A8: 22 FD 4B 04  	jsl	~~k_user_getSystemMetric
  8324 04:21AC: A0 0E 00     	ldy	#$e
  8325 04:21AF: 97 0D        	sta	[<L360+pWin_1],Y
  8326                        ;			pWin->hMenu 	 = hMenu;
  8327                        	.line	1239
  8328 04:21B1: A5 40        	lda	<L359+hMenu_0
  8329 04:21B3: A0 38 01     	ldy	#$138
  8330 04:21B6: 97 0D        	sta	[<L360+pWin_1],Y
  8331 04:21B8: A5 42        	lda	<L359+hMenu_0+2
  8332 04:21BA: A0 3A 01     	ldy	#$13a
  8333 04:21BD: 97 0D        	sta	[<L360+pWin_1],Y
  8334                        ;			pWin->clickable  = k_mem_allocat
  Mon Dec  7 2020 11:19                                                Page 160


                    e_heap(sizeof(CLICKABLE));
  8335                        	.line	1240
  8336 04:21BF: F4 0B 00     	pea	#<$b
  8337 04:21C2: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  8338 04:21C6: 85 01        	sta	<R0
  8339 04:21C8: 86 03        	stx	<R0+2
  8340 04:21CA: A5 01        	lda	<R0
  8341 04:21CC: A0 D0 00     	ldy	#$d0
  8342 04:21CF: 97 0D        	sta	[<L360+pWin_1],Y
  8343 04:21D1: A5 03        	lda	<R0+2
  8344 04:21D3: A0 D2 00     	ldy	#$d2
  8345 04:21D6: 97 0D        	sta	[<L360+pWin_1],Y
  8346                        ;			if(pWin->clickable)
  8347                        	.line	1241
  8348                        ;			{
  8349 04:21D8: A0 D0 00     	ldy	#$d0
  8350 04:21DB: B7 0D        	lda	[<L360+pWin_1],Y
  8351 04:21DD: A0 D2 00     	ldy	#$d2
  8352 04:21E0: 17 0D        	ora	[<L360+pWin_1],Y
  8353 04:21E2: D0 03        	bne	L367
  8354 04:21E4: 82 5D 00     	brl	L10074
  8355                        L367:
  8356                        	.line	1242
  8357                        ;				((PCLICKABLE)pWin->click
                    able)->area.x 		= pWin->win_x;
  8358                        	.line	1243
  8359 04:21E7: A0 D0 00     	ldy	#$d0
  8360 04:21EA: B7 0D        	lda	[<L360+pWin_1],Y
  8361 04:21EC: 85 01        	sta	<R0
  8362 04:21EE: A0 D2 00     	ldy	#$d2
  8363 04:21F1: B7 0D        	lda	[<L360+pWin_1],Y
  8364 04:21F3: 85 03        	sta	<R0+2
  8365 04:21F5: A0 08 00     	ldy	#$8
  8366 04:21F8: B7 0D        	lda	[<L360+pWin_1],Y
  8367 04:21FA: 87 01        	sta	[<R0]
  8368                        ;				((PCLICKABLE)pWin->click
                    able)->area.y 		= pWin->win_y;
  8369                        	.line	1244
  8370 04:21FC: A0 D0 00     	ldy	#$d0
  8371 04:21FF: B7 0D        	lda	[<L360+pWin_1],Y
  8372 04:2201: 85 01        	sta	<R0
  8373 04:2203: A0 D2 00     	ldy	#$d2
  8374 04:2206: B7 0D        	lda	[<L360+pWin_1],Y
  8375 04:2208: 85 03        	sta	<R0+2
  8376 04:220A: A0 0A 00     	ldy	#$a
  8377 04:220D: B7 0D        	lda	[<L360+pWin_1],Y
  8378 04:220F: A0 02 00     	ldy	#$2
  8379 04:2212: 97 01        	sta	[<R0],Y
  8380                        ;				((PCLICKABLE)pWin->click
                    able)->area.height 	= pWin->win_height;
  8381                        	.line	1245
  8382 04:2214: A0 D0 00     	ldy	#$d0
  8383 04:2217: B7 0D        	lda	[<L360+pWin_1],Y
  8384 04:2219: 85 01        	sta	<R0
  8385 04:221B: A0 D2 00     	ldy	#$d2
  8386 04:221E: B7 0D        	lda	[<L360+pWin_1],Y
  8387 04:2220: 85 03        	sta	<R0+2
  8388 04:2222: A0 0E 00     	ldy	#$e
  Mon Dec  7 2020 11:19                                                Page 161


  8389 04:2225: B7 0D        	lda	[<L360+pWin_1],Y
  8390 04:2227: A0 06 00     	ldy	#$6
  8391 04:222A: 97 01        	sta	[<R0],Y
  8392                        ;				((PCLICKABLE)pWin->click
                    able)->area.width 	= pWin->win_width;
  8393                        	.line	1246
  8394 04:222C: A0 D0 00     	ldy	#$d0
  8395 04:222F: B7 0D        	lda	[<L360+pWin_1],Y
  8396 04:2231: 85 01        	sta	<R0
  8397 04:2233: A0 D2 00     	ldy	#$d2
  8398 04:2236: B7 0D        	lda	[<L360+pWin_1],Y
  8399 04:2238: 85 03        	sta	<R0+2
  8400 04:223A: A0 0C 00     	ldy	#$c
  8401 04:223D: B7 0D        	lda	[<L360+pWin_1],Y
  8402 04:223F: A0 04 00     	ldy	#$4
  8403 04:2242: 97 01        	sta	[<R0],Y
  8404                        ;			}
  8405                        	.line	1247
  8406                        ;
  8407                        ;			k_debug_strings("k_user_CreateMe
                    nu:F","After clickable");
  8408                        L10074:
  8409                        	.line	1249
  8410 04:2244: F4 xx xx     	pea	#^L358+77
  8411 04:2247: F4 xx xx     	pea	#<L358+77
  8412 04:224A: F4 xx xx     	pea	#^L358+57
  8413 04:224D: F4 xx xx     	pea	#<L358+57
  8414 04:2250: 22 xx xx xx  	jsl	~~k_debug_strings
  8415                        ;
  8416                        ;			((PMENU)hMenu)->cx 		
                    = pWin->win_x;
  8417                        	.line	1251
  8418 04:2254: A0 08 00     	ldy	#$8
  8419 04:2257: B7 0D        	lda	[<L360+pWin_1],Y
  8420 04:2259: 87 40        	sta	[<L359+hMenu_0]
  8421                        ;			((PMENU)hMenu)->cy 		
                    = pWin->win_y;
  8422                        	.line	1252
  8423 04:225B: A0 0A 00     	ldy	#$a
  8424 04:225E: B7 0D        	lda	[<L360+pWin_1],Y
  8425 04:2260: A0 02 00     	ldy	#$2
  8426 04:2263: 97 40        	sta	[<L359+hMenu_0],Y
  8427                        ;			((PMENU)hMenu)->height 	= pWin->
                    win_height;
  8428                        	.line	1253
  8429 04:2265: A0 0E 00     	ldy	#$e
  8430 04:2268: B7 0D        	lda	[<L360+pWin_1],Y
  8431 04:226A: A0 06 00     	ldy	#$6
  8432 04:226D: 97 40        	sta	[<L359+hMenu_0],Y
  8433                        ;			((PMENU)hMenu)->width 	= pWin->
                    win_width;
  8434                        	.line	1254
  8435 04:226F: A0 0C 00     	ldy	#$c
  8436 04:2272: B7 0D        	lda	[<L360+pWin_1],Y
  8437 04:2274: A0 04 00     	ldy	#$4
  8438 04:2277: 97 40        	sta	[<L359+hMenu_0],Y
  8439                        ;
  8440                        ;
  Mon Dec  7 2020 11:19                                                Page 162


  8441                        ;			if(pParent)
  8442                        	.line	1257
  8443                        ;				pWin->isVisible = pParen
                    t->isVisible;
  8444 04:2279: A5 15        	lda	<L360+pParent_1
  8445 04:227B: 05 17        	ora	<L360+pParent_1+2
  8446 04:227D: D0 03        	bne	L368
  8447 04:227F: 82 0E 00     	brl	L10075
  8448                        L368:
  8449                        	.line	1258
  8450 04:2282: E2 20        	sep	#$20
  8451                        	longa	off
  8452 04:2284: A0 44 01     	ldy	#$144
  8453 04:2287: B7 15        	lda	[<L360+pParent_1],Y
  8454 04:2289: A0 44 01     	ldy	#$144
  8455 04:228C: 97 0D        	sta	[<L360+pWin_1],Y
  8456 04:228E: C2 20        	rep	#$20
  8457                        	longa	on
  8458                        ;
  8459                        ;
  8460                        ;			k_add_child_window(pParent,pWin,
                    k_update_hover_location);//k_menuHitDetected);
  8461                        L10075:
  8462                        	.line	1261
  8463 04:2290: F4 04 00     	pea	#^~~k_update_hover_location
  8464 04:2293: F4 A6 3C     	pea	#<~~k_update_hover_location
  8465 04:2296: D4 0F        	pei	<L360+pWin_1+2
  8466 04:2298: D4 0D        	pei	<L360+pWin_1
  8467 04:229A: D4 17        	pei	<L360+pParent_1+2
  8468 04:229C: D4 15        	pei	<L360+pParent_1
  8469 04:229E: 22 AA 3B 04  	jsl	~~k_add_child_window
  8470                        ;
  8471                        ;			//k_debug_strings("k_user_Create
                    Menu:F","After k_add_child_window");
  8472                        ;
  8473                        ;			k_nodelist_naddtolist(_k_windowM
                    anager_WindowObjectList,NL_TYPE_WINDOW_OBJ,(ULONG)k_getHandl
                    eFromWindow(pWin),pWin);
  8474                        	.line	1265
  8475 04:22A2: D4 0F        	pei	<L360+pWin_1+2
  8476 04:22A4: D4 0D        	pei	<L360+pWin_1
  8477 04:22A6: D4 0F        	pei	<L360+pWin_1+2
  8478 04:22A8: D4 0D        	pei	<L360+pWin_1
  8479 04:22AA: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
  8480 04:22AE: 85 01        	sta	<R0
  8481 04:22B0: 86 03        	stx	<R0+2
  8482 04:22B2: D4 03        	pei	<R0+2
  8483 04:22B4: D4 01        	pei	<R0
  8484 04:22B6: F4 02 00     	pea	#<$2
  8485 04:22B9: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
  8486 04:22BC: 48           	pha
  8487 04:22BD: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
  8488 04:22C0: 48           	pha
  8489 04:22C1: 22 xx xx xx  	jsl	~~k_nodelist_naddtolist
  8490                        ;
  8491                        ;			//k_debug_strings("k_user_Create
                    Menu:F","After k_nodelist_addtolist");
  8492                        ;
  Mon Dec  7 2020 11:19                                                Page 163


  8493                        ;			k_send_window_message(k_getHandl
                    eFromWindow(pWin),FX_CREATE_WINDOW,NULL,0);
  8494                        	.line	1269
  8495 04:22C5: F4 00 00     	pea	#<$0
  8496 04:22C8: F4 00 00     	pea	#^$0
  8497 04:22CB: F4 00 00     	pea	#<$0
  8498 04:22CE: F4 03 FF     	pea	#<$ff03
  8499 04:22D1: D4 0F        	pei	<L360+pWin_1+2
  8500 04:22D3: D4 0D        	pei	<L360+pWin_1
  8501 04:22D5: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
  8502 04:22D9: 85 01        	sta	<R0
  8503 04:22DB: 86 03        	stx	<R0+2
  8504 04:22DD: DA           	phx
  8505 04:22DE: 48           	pha
  8506 04:22DF: 22 xx xx xx  	jsl	~~k_send_window_message
  8507                        ;
  8508                        ;			//k_debug_strings("k_user_Create
                    Menu:F","After k_send_window_message");
  8509                        ;		}
  8510                        	.line	1272
  8511                        ;	}
  8512                        L10070:
  8513                        	.line	1273
  8514                        ;	return pWin;
  8515                        L10069:
  8516                        	.line	1274
  8517 04:22E3: A6 0F        	ldx	<L360+pWin_1+2
  8518 04:22E5: A5 0D        	lda	<L360+pWin_1
  8519                        L369:
  8520 04:22E7: A8           	tay
  8521 04:22E8: A5 3A        	lda	<L359+2
  8522 04:22EA: 85 46        	sta	<L359+2+12
  8523 04:22EC: A5 39        	lda	<L359+1
  8524 04:22EE: 85 45        	sta	<L359+1+12
  8525 04:22F0: 2B           	pld
  8526 04:22F1: 3B           	tsc
  8527 04:22F2: 18           	clc
  8528 04:22F3: 69 44 00     	adc	#L359+12
  8529 04:22F6: 1B           	tcs
  8530 04:22F7: 98           	tya
  8531 04:22F8: 6B           	rtl
  8532                        ;}
  8533                        	.line	1275
  8534                        	.endblock	1275
  8535             00000038   L359	equ	56
  8536             00000005   L360	equ	5
  8537 04:22F9:              	ends
  8538                        	efunc
  8539                        	.endfunc	1275,5,56
  8540                        	.line	1275
  8541                        	data
  8542                        L358:
  8543 00:0584: 6D 65 6E 75  	db	$6D,$65,$6E,$75,$57,$69,$6E,$64,$6F,$77,
                    $43,$6C,$61,$73,$73
       00:0588: 57 69 6E 64 
       00:058C: 6F 77 43 6C 
       00:0590: 61 73 73 
  8544 00:0593: 00 6B 5F 75  	db	$00,$6B,$5F,$75,$73,$65,$72,$5F,$43,$72,
  Mon Dec  7 2020 11:19                                                Page 164


                    $65,$61,$74,$65,$4D
       00:0597: 73 65 72 5F 
       00:059B: 43 72 65 61 
       00:059F: 74 65 4D 
  8545 00:05A2: 65 6E 75 0D  	db	$65,$6E,$75,$0D,$0A,$00,$50,$72,$6F,$63,
                    $65,$73,$73,$20,$49
       00:05A6: 0A 00 50 72 
       00:05AA: 6F 63 65 73 
       00:05AE: 73 20 49 
  8546 00:05B1: 64 3A 00 23  	db	$64,$3A,$00,$23,$6D,$65,$6E,$75,$62,$61,
                    $72,$00,$6B,$5F,$75
       00:05B5: 6D 65 6E 75 
       00:05B9: 62 61 72 00 
       00:05BD: 6B 5F 75 
  8547 00:05C0: 73 65 72 5F  	db	$73,$65,$72,$5F,$43,$72,$65,$61,$74,$65,
                    $4D,$65,$6E,$75,$3A
       00:05C4: 43 72 65 61 
       00:05C8: 74 65 4D 65 
       00:05CC: 6E 75 3A 
  8548 00:05CF: 46 00 41 66  	db	$46,$00,$41,$66,$74,$65,$72,$20,$63,$6C,
                    $69,$63,$6B,$61,$62
       00:05D3: 74 65 72 20 
       00:05D7: 63 6C 69 63 
       00:05DB: 6B 61 62 
  8549 00:05DE: 6C 65 00     	db	$6C,$65,$00
  8550 00:05E1:              	ends
  8551                        ;
  8552                        ;BOOL menuWindowProc(PFXOSMESSAGE pMsg)
  8553                        ;{
  8554                        	.line	1277
  8555                        	.line	1278
  8556                        	WINMAN
  8557                        	xdef	~~menuWindowProc
  8558                        	func
  8559                        	.function	1278
  8560                        ~~menuWindowProc:
  8561                        	longa	on
  8562                        	longi	on
  8563 04:22F9: 3B           	tsc
  8564 04:22FA: 38           	sec
  8565 04:22FB: E9 38 00     	sbc	#L371
  8566 04:22FE: 1B           	tcs
  8567 04:22FF: 0B           	phd
  8568 04:2300: 5B           	tcd
  8569             00000004   pMsg_0	set	4
  8570                        	.block	1278
  8571                        ;	HWND hWnd = NULL;
  8572                        ;	PWINDOW pWin = NULL;
  8573                        ;	PFXPROCESS p = NULL;
  8574                        ;	PFXSTRING  fxstr = NULL;
  8575                        ;	LPCHAR title = NULL;
  8576                        ;	UCHAR localBuffer[16];
  8577                        ;	PFXNODE node = NULL;
  8578                        ;	RECT rect;
  8579                        ;	if(pMsg!=NULL)
  8580             00000000   hWnd_1	set	0
  8581             00000004   pWin_1	set	4
  8582             00000008   p_1	set	8
  Mon Dec  7 2020 11:19                                                Page 165


  8583             0000000C   fxstr_1	set	12
  8584             00000010   title_1	set	16
  8585             00000014   localBuffer_1	set	20
  8586             00000024   node_1	set	36
  8587             00000028   rect_1	set	40
  8588                        	.sym	hWnd,0,129,1,32
  8589                        	.sym	pWin,4,138,1,32,27
  8590                        	.sym	p,8,138,1,32,17
  8591                        	.sym	fxstr,12,138,1,32,50
  8592                        	.sym	title,16,142,1,32
  8593                        	.sym	localBuffer,20,110,1,0,16
  8594                        	.sym	node,36,138,1,32,2
  8595                        	.sym	rect,40,10,1,64,22
  8596                        	.sym	pMsg,4,138,6,32,13
  8597 04:2301: 64 09        	stz	<L372+hWnd_1
  8598 04:2303: 64 0B        	stz	<L372+hWnd_1+2
  8599 04:2305: 64 0D        	stz	<L372+pWin_1
  8600 04:2307: 64 0F        	stz	<L372+pWin_1+2
  8601 04:2309: 64 11        	stz	<L372+p_1
  8602 04:230B: 64 13        	stz	<L372+p_1+2
  8603 04:230D: 64 15        	stz	<L372+fxstr_1
  8604 04:230F: 64 17        	stz	<L372+fxstr_1+2
  8605 04:2311: 64 19        	stz	<L372+title_1
  8606 04:2313: 64 1B        	stz	<L372+title_1+2
  8607 04:2315: 64 2D        	stz	<L372+node_1
  8608 04:2317: 64 2F        	stz	<L372+node_1+2
  8609                        	.line	1287
  8610                        ;	{
  8611 04:2319: A5 3C        	lda	<L371+pMsg_0
  8612 04:231B: 05 3E        	ora	<L371+pMsg_0+2
  8613 04:231D: D0 03        	bne	L374
  8614 04:231F: 82 AA 02     	brl	L10076
  8615                        L374:
  8616                        	.line	1288
  8617                        ;		p = k_exec_get_current_process();
  8618                        	.line	1289
  8619 04:2322: 22 xx xx xx  	jsl	~~k_exec_get_current_process
  8620 04:2326: 85 11        	sta	<L372+p_1
  8621 04:2328: 86 13        	stx	<L372+p_1+2
  8622                        ;
  8623                        ;		pWin = k_getWindowFromHandle(pMsg->hwnd)
                    ;
  8624                        	.line	1291
  8625 04:232A: A0 0C 00     	ldy	#$c
  8626 04:232D: B7 3C        	lda	[<L371+pMsg_0],Y
  8627 04:232F: 48           	pha
  8628 04:2330: A0 0A 00     	ldy	#$a
  8629 04:2333: B7 3C        	lda	[<L371+pMsg_0],Y
  8630 04:2335: 48           	pha
  8631 04:2336: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
  8632 04:233A: 85 0D        	sta	<L372+pWin_1
  8633 04:233C: 86 0F        	stx	<L372+pWin_1+2
  8634                        ;
  8635                        ;		//k_debug_long("consoleWindowProc::Proce
                    ssId:",p->procId);
  8636                        ;
  8637                        ;		switch(pMsg->type)
  8638                        	.line	1295
  Mon Dec  7 2020 11:19                                                Page 166


  8639 04:233E: A0 08 00     	ldy	#$8
  8640 04:2341: B7 3C        	lda	[<L371+pMsg_0],Y
  8641 04:2343: 82 66 02     	brl	L10077
  8642                        ;		{
  8643                        	.line	1296
  8644                        ;		case FX_CREATE_WINDOW:
  8645                        	.line	1297
  8646                        L10079:
  8647                        ;			k_debug_string("menuWindowProc::
                    FX_CREATE_WINDOW\r\n");
  8648                        	.line	1298
  8649 04:2346: F4 xx xx     	pea	#^L370
  8650 04:2349: F4 xx xx     	pea	#<L370
  8651 04:234C: 22 xx xx xx  	jsl	~~k_debug_string
  8652                        ;			//k_debug_long("menuWindowProc::
                    heap:",umm_free_heap_size());
  8653                        ;			//k_debug_integer("menuWindowPro
                    c::MessageId:",pMsg->type);
  8654                        ;
  8655                        ;			pWin->windowData = k_mem_allocat
                    e_heap(sizeof(MENUANCHOR));
  8656                        	.line	1302
  8657 04:2350: F4 12 00     	pea	#<$12
  8658 04:2353: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  8659 04:2357: 85 01        	sta	<R0
  8660 04:2359: 86 03        	stx	<R0+2
  8661 04:235B: A5 01        	lda	<R0
  8662 04:235D: A0 45 01     	ldy	#$145
  8663 04:2360: 97 0D        	sta	[<L372+pWin_1],Y
  8664 04:2362: A5 03        	lda	<R0+2
  8665 04:2364: A0 47 01     	ldy	#$147
  8666 04:2367: 97 0D        	sta	[<L372+pWin_1],Y
  8667                        ;			((PMENUANCHOR)pWin->windowData)-
                    >renderLayoutX = 3 * FONTW;
  8668                        	.line	1303
  8669 04:2369: A0 45 01     	ldy	#$145
  8670 04:236C: B7 0D        	lda	[<L372+pWin_1],Y
  8671 04:236E: 85 01        	sta	<R0
  8672 04:2370: A0 47 01     	ldy	#$147
  8673 04:2373: B7 0D        	lda	[<L372+pWin_1],Y
  8674 04:2375: 85 03        	sta	<R0+2
  8675 04:2377: 22 xx xx xx  	jsl	~~k_font_getFontWidth
  8676 04:237B: 85 05        	sta	<R1
  8677 04:237D: A5 05        	lda	<R1
  8678 04:237F: 0A           	asl	A
  8679 04:2380: 65 05        	adc	<R1
  8680 04:2382: A0 04 00     	ldy	#$4
  8681 04:2385: 97 01        	sta	[<R0],Y
  8682                        ;			((PMENUANCHOR)pWin->windowData)-
                    >renderLayoutY = 2;
  8683                        	.line	1304
  8684 04:2387: A0 45 01     	ldy	#$145
  8685 04:238A: B7 0D        	lda	[<L372+pWin_1],Y
  8686 04:238C: 85 01        	sta	<R0
  8687 04:238E: A0 47 01     	ldy	#$147
  8688 04:2391: B7 0D        	lda	[<L372+pWin_1],Y
  8689 04:2393: 85 03        	sta	<R0+2
  8690 04:2395: A9 02 00     	lda	#$2
  Mon Dec  7 2020 11:19                                                Page 167


  8691 04:2398: A0 06 00     	ldy	#$6
  8692 04:239B: 97 01        	sta	[<R0],Y
  8693                        ;
  8694                        ;			//k_debug_pointer("menuWindowPro
                    c::pWin->hMenu:",pWin->hMenu);
  8695                        ;			if(pWin->hMenu)
  8696                        	.line	1307
  8697                        ;			{
  8698 04:239D: A0 38 01     	ldy	#$138
  8699 04:23A0: B7 0D        	lda	[<L372+pWin_1],Y
  8700 04:23A2: A0 3A 01     	ldy	#$13a
  8701 04:23A5: 17 0D        	ora	[<L372+pWin_1],Y
  8702 04:23A7: D0 03        	bne	L375
  8703 04:23A9: 82 F5 00     	brl	L10080
  8704                        L375:
  8705                        	.line	1308
  8706                        ;
  8707                        ;				k_nodelist_foreach_type(
                    ((PMENU)pWin->hMenu)->subMenus,
  8708                        	.line	1310
  8709                        ;							
                    			NL_TYPE_WINDOW_MENU,
  8710                        ;							
                    			pMsg->hwnd,
  8711                        ;							
                    			k_iterate_menus);
  8712 04:23AC: F4 04 00     	pea	#^~~k_iterate_menus
  8713 04:23AF: F4 62 26     	pea	#<~~k_iterate_menus
  8714 04:23B2: A0 0C 00     	ldy	#$c
  8715 04:23B5: B7 3C        	lda	[<L371+pMsg_0],Y
  8716 04:23B7: 48           	pha
  8717 04:23B8: A0 0A 00     	ldy	#$a
  8718 04:23BB: B7 3C        	lda	[<L371+pMsg_0],Y
  8719 04:23BD: 48           	pha
  8720 04:23BE: F4 03 00     	pea	#<$3
  8721 04:23C1: A0 38 01     	ldy	#$138
  8722 04:23C4: B7 0D        	lda	[<L372+pWin_1],Y
  8723 04:23C6: 85 01        	sta	<R0
  8724 04:23C8: A0 3A 01     	ldy	#$13a
  8725 04:23CB: B7 0D        	lda	[<L372+pWin_1],Y
  8726 04:23CD: 85 03        	sta	<R0+2
  8727 04:23CF: A0 15 00     	ldy	#$15
  8728 04:23D2: B7 01        	lda	[<R0],Y
  8729 04:23D4: 48           	pha
  8730 04:23D5: A0 13 00     	ldy	#$13
  8731 04:23D8: B7 01        	lda	[<R0],Y
  8732 04:23DA: 48           	pha
  8733 04:23DB: 22 xx xx xx  	jsl	~~k_nodelist_foreach_type
  8734                        ;
  8735                        ;
  8736                        ;				if(((PMENU)pWin->hMenu)-
                    >subMenus)
  8737                        	.line	1316
  8738                        ;				{
  8739 04:23DF: A0 38 01     	ldy	#$138
  8740 04:23E2: B7 0D        	lda	[<L372+pWin_1],Y
  8741 04:23E4: 85 01        	sta	<R0
  8742 04:23E6: A0 3A 01     	ldy	#$13a
  Mon Dec  7 2020 11:19                                                Page 168


  8743 04:23E9: B7 0D        	lda	[<L372+pWin_1],Y
  8744 04:23EB: 85 03        	sta	<R0+2
  8745 04:23ED: A0 13 00     	ldy	#$13
  8746 04:23F0: B7 01        	lda	[<R0],Y
  8747 04:23F2: A0 15 00     	ldy	#$15
  8748 04:23F5: 17 01        	ora	[<R0],Y
  8749 04:23F7: D0 03        	bne	L376
  8750 04:23F9: 82 A5 00     	brl	L10081
  8751                        L376:
  8752                        	.line	1317
  8753                        ;					k_vdraw_ui_menu_
                    ex( pWin->win_x,
  8754                        	.line	1318
  8755                        ;							
                    			pWin->win_y,
  8756                        ;							
                    			pWin->win_width,
  8757                        ;							
                    			pWin->win_height,
  8758                        ;							
                    			NULL, //"", //((PFXSTRING)((PMENU)pWin->
                    hMenu)->subMenus->listData)->buffer,
  8759                        ;							
                    			k_getUIGadgetColor(),
  8760                        ;							
                    			k_getUIMenuColor(),
  8761                        ;							
                    			BITMAP_BACK);
  8762 04:23FC: F4 10 00     	pea	#<$10
  8763 04:23FF: 22 xx xx xx  	jsl	~~k_getUIMenuColor
  8764 04:2403: 48           	pha
  8765 04:2404: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
  8766 04:2408: 48           	pha
  8767 04:2409: F4 00 00     	pea	#^$0
  8768 04:240C: F4 00 00     	pea	#<$0
  8769 04:240F: A0 0E 00     	ldy	#$e
  8770 04:2412: B7 0D        	lda	[<L372+pWin_1],Y
  8771 04:2414: 48           	pha
  8772 04:2415: A0 0C 00     	ldy	#$c
  8773 04:2418: B7 0D        	lda	[<L372+pWin_1],Y
  8774 04:241A: 48           	pha
  8775 04:241B: A0 0A 00     	ldy	#$a
  8776 04:241E: B7 0D        	lda	[<L372+pWin_1],Y
  8777 04:2420: 48           	pha
  8778 04:2421: A0 08 00     	ldy	#$8
  8779 04:2424: B7 0D        	lda	[<L372+pWin_1],Y
  8780 04:2426: 48           	pha
  8781 04:2427: 22 xx xx xx  	jsl	~~k_vdraw_ui_menu_ex
  8782                        ;
  8783                        ;					//k_put_wingadge
                    t_point(WINICON_TITLE_BCLOSE,pWin->win_x + 2,pWin->win_y + 2
                     ,k_getUIGadgetColor());
  8784                        ;
  8785                        ;					k_draw_text_poin
                    t_with_font_ex("\x80\x81",(LPCSTR)k_user_getFontClass("AMIGO
                    8x8"),pWin->win_x + 2,pWin->win_y + 2,k_getUIGadgetColor(),B
                    ITMAP_BACK);
  8786                        	.line	1329
  Mon Dec  7 2020 11:19                                                Page 169


  8787 04:242B: F4 10 00     	pea	#<$10
  8788 04:242E: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
  8789 04:2432: 48           	pha
  8790 04:2433: 18           	clc
  8791 04:2434: A9 02 00     	lda	#$2
  8792 04:2437: A0 0A 00     	ldy	#$a
  8793 04:243A: 77 0D        	adc	[<L372+pWin_1],Y
  8794 04:243C: 48           	pha
  8795 04:243D: 18           	clc
  8796 04:243E: A9 02 00     	lda	#$2
  8797 04:2441: A0 08 00     	ldy	#$8
  8798 04:2444: 77 0D        	adc	[<L372+pWin_1],Y
  8799 04:2446: 48           	pha
  8800 04:2447: F4 xx xx     	pea	#^L370+38
  8801 04:244A: F4 xx xx     	pea	#<L370+38
  8802 04:244D: 22 D1 10 04  	jsl	~~k_user_getFontClass
  8803 04:2451: 85 01        	sta	<R0
  8804 04:2453: 86 03        	stx	<R0+2
  8805 04:2455: DA           	phx
  8806 04:2456: 48           	pha
  8807 04:2457: F4 xx xx     	pea	#^L370+35
  8808 04:245A: F4 xx xx     	pea	#<L370+35
  8809 04:245D: 22 xx xx xx  	jsl	~~k_draw_text_point_with_font_ex
  8810                        ;					//k_draw_text_po
                    int_with_font_ex("\x80\x81",BM437AMIGO8x8,pWin->win_x + 2,pW
                    in->win_y + 2,k_getUIGadgetColor(),BITMAP_BACK);
  8811                        ;
  8812                        ;					if(pWin->hMenu &
                    & ((PMENU)pWin->hMenu)->subMenus)
  8813                        	.line	1332
  8814                        ;					{
  8815 04:2461: A0 38 01     	ldy	#$138
  8816 04:2464: B7 0D        	lda	[<L372+pWin_1],Y
  8817 04:2466: A0 3A 01     	ldy	#$13a
  8818 04:2469: 17 0D        	ora	[<L372+pWin_1],Y
  8819 04:246B: D0 03        	bne	L377
  8820 04:246D: 82 31 00     	brl	L10082
  8821                        L377:
  8822 04:2470: A0 38 01     	ldy	#$138
  8823 04:2473: B7 0D        	lda	[<L372+pWin_1],Y
  8824 04:2475: 85 01        	sta	<R0
  8825 04:2477: A0 3A 01     	ldy	#$13a
  8826 04:247A: B7 0D        	lda	[<L372+pWin_1],Y
  8827 04:247C: 85 03        	sta	<R0+2
  8828 04:247E: A0 13 00     	ldy	#$13
  8829 04:2481: B7 01        	lda	[<R0],Y
  8830 04:2483: A0 15 00     	ldy	#$15
  8831 04:2486: 17 01        	ora	[<R0],Y
  8832 04:2488: D0 03        	bne	L378
  8833 04:248A: 82 14 00     	brl	L10082
  8834                        L378:
  8835                        	.line	1333
  8836                        ;						//((PMEN
                    U)pWin->hMenu)->hWndOwner = pWin->pParentWindow; // temp for
                     a test
  8837                        ;						//k_debu
                    g_strings("menuWindowProc::FX_MOUSE_ENTER:hWndOwner:title:",
                     k_getWindowFromHandle(pWin->pParentWindow)->win_title );
  Mon Dec  7 2020 11:19                                                Page 170


  8838                        ;
  8839                        ;
  8840                        ;						_k_user_
                    send_child_message(pWin,FX_SHOW_WINDOW,NULL,0);
  8841                        	.line	1338
  8842 04:248D: F4 00 00     	pea	#<$0
  8843 04:2490: F4 00 00     	pea	#^$0
  8844 04:2493: F4 00 00     	pea	#<$0
  8845 04:2496: F4 05 FB     	pea	#<$fb05
  8846 04:2499: D4 0F        	pei	<L372+pWin_1+2
  8847 04:249B: D4 0D        	pei	<L372+pWin_1
  8848 04:249D: 22 4F 4E 04  	jsl	~~_k_user_send_child_message
  8849                        ;
  8850                        ;						//fxstr 
                    = k_fxstring_init(128);
  8851                        ;
  8852                        ;						//k_debu
                    g_strings("menuWindowProc::FX_CREATE_WINDOW:fxstr:",fxstr->b
                    uffer);
  8853                        ;						//((PMEN
                    U)pWin->hMenu)->subMenus->listData = fxstr;
  8854                        ;						//k_debu
                    g_strings("menuWindowProc::FX_CREATE_WINDOW:title:",title);
  8855                        ;					}
  8856                        	.line	1345
  8857                        ;
  8858                        ;
  8859                        ;				}
  8860                        L10082:
  8861                        	.line	1348
  8862                        ;
  8863                        ;
  8864                        ;
  8865                        ;				//k_draw_menu(pWin->hMen
                    u,15,3);
  8866                        ;
  8867                        ;			}
  8868                        L10081:
  8869                        	.line	1354
  8870                        ;			//k_debug_string("menuWindowProc
                    ::FX_CREATE_WINDOW:k_vdraw_ui_menu\r\n");
  8871                        ;			break;
  8872                        L10080:
  8873                        	.line	1356
  8874 04:24A1: 82 28 01     	brl	L10078
  8875                        ;		case FX_REDRAW_WINDOW:
  8876                        	.line	1357
  8877                        L10083:
  8878                        ;			k_debug_string("menuWindowProc::
                    FX_REDRAW_WINDOW\r\n");
  8879                        	.line	1358
  8880 04:24A4: F4 xx xx     	pea	#^L370+47
  8881 04:24A7: F4 xx xx     	pea	#<L370+47
  8882 04:24AA: 22 xx xx xx  	jsl	~~k_debug_string
  8883                        ;			break;
  8884                        	.line	1359
  8885 04:24AE: 82 1B 01     	brl	L10078
  8886                        ;		case FX_PROCESS_TIMER:
  Mon Dec  7 2020 11:19                                                Page 171


  8887                        	.line	1360
  8888                        L10084:
  8889                        ;			//k_debug_string("menuWindowProc
                    ::FX_PROCESS_TIMER\r\n");
  8890                        ;
  8891                        ;			hWnd = k_user_findWindow("#menub
                    ar");
  8892                        	.line	1363
  8893 04:24B1: F4 xx xx     	pea	#^L370+82
  8894 04:24B4: F4 xx xx     	pea	#<L370+82
  8895 04:24B7: 22 B8 05 04  	jsl	~~k_user_findWindow
  8896 04:24BB: 85 09        	sta	<L372+hWnd_1
  8897 04:24BD: 86 0B        	stx	<L372+hWnd_1+2
  8898                        ;			rect.x = k_getWindowFromHandle(h
                    Wnd)->win_width - (15 * FONTW);
  8899                        	.line	1364
  8900 04:24BF: 22 xx xx xx  	jsl	~~k_font_getFontWidth
  8901 04:24C3: 85 01        	sta	<R0
  8902 04:24C5: A5 01        	lda	<R0
  8903 04:24C7: A2 0F 00     	ldx	#<$f
  8904                        	xref	~~~mul
  8905 04:24CA: 22 xx xx xx  	jsl	~~~mul
  8906 04:24CE: 85 01        	sta	<R0
  8907 04:24D0: D4 0B        	pei	<L372+hWnd_1+2
  8908 04:24D2: D4 09        	pei	<L372+hWnd_1
  8909 04:24D4: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
  8910 04:24D8: 85 05        	sta	<R1
  8911 04:24DA: 86 07        	stx	<R1+2
  8912 04:24DC: 38           	sec
  8913 04:24DD: A0 0C 00     	ldy	#$c
  8914 04:24E0: B7 05        	lda	[<R1],Y
  8915 04:24E2: E5 01        	sbc	<R0
  8916 04:24E4: 85 31        	sta	<L372+rect_1
  8917                        ;			rect.y = 2;
  8918                        	.line	1365
  8919 04:24E6: A9 02 00     	lda	#$2
  8920 04:24E9: 85 33        	sta	<L372+rect_1+2
  8921                        ;			k_user_DrawWindowTextToPointWith
                    Font(hWnd,"\xAF\xAF\xAF\xAF\xAF\xAF\xAF\xAF",k_getUIMenuColo
                    r(),&rect,(LPCSTR)k_user_getFontClass("FXOS8x8"));
  8922                        	.line	1366
  8923 04:24EB: F4 xx xx     	pea	#^L370+100
  8924 04:24EE: F4 xx xx     	pea	#<L370+100
  8925 04:24F1: 22 D1 10 04  	jsl	~~k_user_getFontClass
  8926 04:24F5: 85 01        	sta	<R0
  8927 04:24F7: 86 03        	stx	<R0+2
  8928 04:24F9: DA           	phx
  8929 04:24FA: 48           	pha
  8930 04:24FB: F4 00 00     	pea	#0
  8931 04:24FE: 18           	clc
  8932 04:24FF: 7B           	tdc
  8933 04:2500: 69 31 00     	adc	#<L372+rect_1
  8934 04:2503: 48           	pha
  8935 04:2504: 22 xx xx xx  	jsl	~~k_getUIMenuColor
  8936 04:2508: 48           	pha
  8937 04:2509: F4 xx xx     	pea	#^L370+91
  8938 04:250C: F4 xx xx     	pea	#<L370+91
  8939 04:250F: D4 0B        	pei	<L372+hWnd_1+2
  Mon Dec  7 2020 11:19                                                Page 172


  8940 04:2511: D4 09        	pei	<L372+hWnd_1
  8941 04:2513: 22 4D 14 04  	jsl	~~k_user_DrawWindowTextToPointWithFont
  8942                        ;
  8943                        ;			rect.x = k_getWindowFromHandle(h
                    Wnd)->win_width - (15 * FONTW);
  8944                        	.line	1368
  8945 04:2517: 22 xx xx xx  	jsl	~~k_font_getFontWidth
  8946 04:251B: 85 01        	sta	<R0
  8947 04:251D: A5 01        	lda	<R0
  8948 04:251F: A2 0F 00     	ldx	#<$f
  8949                        	xref	~~~mul
  8950 04:2522: 22 xx xx xx  	jsl	~~~mul
  8951 04:2526: 85 01        	sta	<R0
  8952 04:2528: D4 0B        	pei	<L372+hWnd_1+2
  8953 04:252A: D4 09        	pei	<L372+hWnd_1
  8954 04:252C: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
  8955 04:2530: 85 05        	sta	<R1
  8956 04:2532: 86 07        	stx	<R1+2
  8957 04:2534: 38           	sec
  8958 04:2535: A0 0C 00     	ldy	#$c
  8959 04:2538: B7 05        	lda	[<R1],Y
  8960 04:253A: E5 01        	sbc	<R0
  8961 04:253C: 85 31        	sta	<L372+rect_1
  8962                        ;			rect.y = 2;
  8963                        	.line	1369
  8964 04:253E: A9 02 00     	lda	#$2
  8965 04:2541: 85 33        	sta	<L372+rect_1+2
  8966                        ;			k_user_DrawWindowTextToPointWith
                    Font(hWnd,k_get_localtime_string(localBuffer),k_getUIGadgetC
                    olor(),&rect,(LPCSTR)k_user_getFontClass("TINYTYPE8x8"));
  8967                        	.line	1370
  8968 04:2543: F4 xx xx     	pea	#^L370+108
  8969 04:2546: F4 xx xx     	pea	#<L370+108
  8970 04:2549: 22 D1 10 04  	jsl	~~k_user_getFontClass
  8971 04:254D: 85 01        	sta	<R0
  8972 04:254F: 86 03        	stx	<R0+2
  8973 04:2551: DA           	phx
  8974 04:2552: 48           	pha
  8975 04:2553: F4 00 00     	pea	#0
  8976 04:2556: 18           	clc
  8977 04:2557: 7B           	tdc
  8978 04:2558: 69 31 00     	adc	#<L372+rect_1
  8979 04:255B: 48           	pha
  8980 04:255C: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
  8981 04:2560: 48           	pha
  8982 04:2561: F4 00 00     	pea	#0
  8983 04:2564: 18           	clc
  8984 04:2565: 7B           	tdc
  8985 04:2566: 69 1D 00     	adc	#<L372+localBuffer_1
  8986 04:2569: 48           	pha
  8987 04:256A: 22 xx xx xx  	jsl	~~k_get_localtime_string
  8988 04:256E: 85 05        	sta	<R1
  8989 04:2570: 86 07        	stx	<R1+2
  8990 04:2572: DA           	phx
  8991 04:2573: 48           	pha
  8992 04:2574: D4 0B        	pei	<L372+hWnd_1+2
  8993 04:2576: D4 09        	pei	<L372+hWnd_1
  8994 04:2578: 22 4D 14 04  	jsl	~~k_user_DrawWindowTextToPointWithFont
  Mon Dec  7 2020 11:19                                                Page 173


  8995                        ;
  8996                        ;
  8997                        ;			break;
  8998                        	.line	1373
  8999 04:257C: 82 4D 00     	brl	L10078
  9000                        ;		case FX_LBUTTON_DOWN:
  9001                        	.line	1374
  9002                        L10085:
  9003                        ;			if(pMsg->type!=FX_PROCESS)
  9004                        	.line	1375
  9005                        ;			{
  9006 04:257F: A0 08 00     	ldy	#$8
  9007 04:2582: B7 3C        	lda	[<L371+pMsg_0],Y
  9008 04:2584: C9 00 FF     	cmp	#<$ff00
  9009 04:2587: D0 03        	bne	L379
  9010 04:2589: 82 00 00     	brl	L10086
  9011                        L379:
  9012                        	.line	1376
  9013                        ;				//k_debug_integer("conso
                    leWindowProc::ProcessId:",p->procId);
  9014                        ;				//k_debug_integer("menuW
                    indowProc::FX_LBUTTON_DOWN:X:", *((INT*)&pMsg->data[1])  );
  9015                        ;				//k_debug_integer("menuW
                    indowProc::FX_LBUTTON_DOWN:Y:", *((INT*)&pMsg->data[3])  );
  9016                        ;
  9017                        ;				//k_debug_pointer("menuW
                    indowProc::pChildHitList:",pWin->pChildHitList);
  9018                        ;
  9019                        ;				//if(pWin->pChildHitList
                    )
  9020                        ;				//	k_debug_nodelist
                    _with_data( pWin->pChildHitList->listhead, debug_window_node
                     );
  9021                        ;
  9022                        ;
  9023                        ;				//k_shadow_bitblt(0,0, 6
                    40, 480, 1,1);
  9024                        ;
  9025                        ;			}
  9026                        	.line	1389
  9027                        ;			break;
  9028                        L10086:
  9029                        	.line	1390
  9030 04:258C: 82 3D 00     	brl	L10078
  9031                        ;
  9032                        ;		case FX_MOUSE_ENTER:
  9033                        	.line	1392
  9034                        L10087:
  9035                        ;			k_debug_string("menuWindowProc::
                    FX_MOUSE_ENTER\r\n");
  9036                        	.line	1393
  9037 04:258F: F4 xx xx     	pea	#^L370+120
  9038 04:2592: F4 xx xx     	pea	#<L370+120
  9039 04:2595: 22 xx xx xx  	jsl	~~k_debug_string
  9040                        ;
  9041                        ;			/*
  9042                        ;			if(((PMENU)pWin->hMenu)->subMenu
                    s)
  Mon Dec  7 2020 11:19                                                Page 174


  9043                        ;			{
  9044                        ;				k_vdraw_ui_menu(pWin->wi
                    n_x,pWin->win_y,
  9045                        ;							
                    	pWin->win_width,
  9046                        ;							
                    	pWin->win_height,
  9047                        ;							
                    	"", //((PFXSTRING)((PMENU)pWin->hMenu)->subMenus->listDa
                    ta)->buffer,
  9048                        ;							
                    	4,3);
  9049                        ;
  9050                        ;
  9051                        ;				if(pWin->hMenu && ((PMEN
                    U)pWin->hMenu)->subMenus)
  9052                        ;				{
  9053                        ;					//((PMENU)pWin->
                    hMenu)->hWndOwner = pWin->pParentWindow; // temp for a test
  9054                        ;					//k_debug_string
                    s("menuWindowProc::FX_MOUSE_ENTER:hWndOwner:title:", k_getWi
                    ndowFromHandle(pWin->pParentWindow)->win_title );
  9055                        ;
  9056                        ;
  9057                        ;					_k_user_send_chi
                    ld_message(pWin,FX_SHOW_WINDOW,NULL,0);
  9058                        ;
  9059                        ;					//fxstr = k_fxst
                    ring_init(128);
  9060                        ;
  9061                        ;					//k_debug_string
                    s("menuWindowProc::FX_CREATE_WINDOW:fxstr:",fxstr->buffer);
  9062                        ;					//((PMENU)pWin->
                    hMenu)->subMenus->listData = fxstr;
  9063                        ;					//k_debug_string
                    s("menuWindowProc::FX_CREATE_WINDOW:title:",title);
  9064                        ;				}
  9065                        ;
  9066                        ;
  9067                        ;			}
  9068                        ;			*/
  9069                        ;			break;
  9070                        	.line	1423
  9071 04:2599: 82 30 00     	brl	L10078
  9072                        ;		case FX_MOUSE_EXIT:
  9073                        	.line	1424
  9074                        L10088:
  9075                        ;			k_debug_string("menuWindowProc::
                    FX_MOUSE_EXIT\r\n");
  9076                        	.line	1425
  9077 04:259C: F4 xx xx     	pea	#^L370+153
  9078 04:259F: F4 xx xx     	pea	#<L370+153
  9079 04:25A2: 22 xx xx xx  	jsl	~~k_debug_string
  9080                        ;			/*
  9081                        ;			k_debug_strings("menuWindowProc:
                    :FX_MOUSE_EXIT:title:",(LPCHAR)((PMENU)pWin->hMenu)->pCaptio
                    n);
  9082                        ;
  Mon Dec  7 2020 11:19                                                Page 175


  9083                        ;			((PMENUANCHOR)pWin->windowData)-
                    >renderLayoutX = 2 + FONTW;
  9084                        ;			((PMENUANCHOR)pWin->windowData)-
                    >renderLayoutY = 2 + FONTW;
  9085                        ;
  9086                        ;			if(((PMENU)pWin->hMenu)->pCaptio
                    n)
  9087                        ;			{
  9088                        ;				_k_user_send_child_messa
                    ge(pWin,FX_HIDE_WINDOW,NULL,0);
  9089                        ;
  9090                        ;				k_mem_deallocate_heap((L
                    PVOID)((PMENU)pWin->hMenu)->pCaption);
  9091                        ;
  9092                        ;				title = k_string_replace
                    (CONST_WB_MENU_TITLE,"%s1", k_strip_padding(k_longtodec(k_ge
                    tZeroPage()->availableHeapMemoryK,localBuffer)) );
  9093                        ;				((PMENU)pWin->hMenu)->pC
                    aption = k_string_replace(title,"%s2", k_strip_padding(k_lon
                    gtodec(k_getZeroPage()->availableHeapMemoryK,localBuffer)));
  9094                        ;
  9095                        ;
  9096                        ;				k_vdraw_ui_menu(pWin->wi
                    n_x,pWin->win_y,
  9097                        ;							
                    	pWin->win_width,
  9098                        ;							
                    	pWin->win_height,
  9099                        ;							
                    	((PMENU)pWin->hMenu)->pCaption,
  9100                        ;							
                    	15,3);
  9101                        ;
  9102                        ;				k_mem_deallocate_heap(ti
                    tle);
  9103                        ;
  9104                        ;			}
  9105                        ;			*/
  9106                        ;			break;
  9107                        	.line	1452
  9108 04:25A6: 82 23 00     	brl	L10078
  9109                        ;
  9110                        ;		default:
  9111                        	.line	1454
  9112                        L10089:
  9113                        ;			break;
  9114                        	.line	1455
  9115 04:25A9: 82 20 00     	brl	L10078
  9116                        ;		}
  9117                        	.line	1456
  9118                        L10077:
  9119                        	xref	~~~swt
  9120 04:25AC: 22 xx xx xx  	jsl	~~~swt
  9121 04:25B0: 06 00        	dw	6
  9122 04:25B2: 01 0F        	dw	3841
  9123 04:25B4: 8E 25        	dw	L10087-1
  9124 04:25B6: 02 0F        	dw	3842
  9125 04:25B8: 9B 25        	dw	L10088-1
  Mon Dec  7 2020 11:19                                                Page 176


  9126 04:25BA: 04 0F        	dw	3844
  9127 04:25BC: 7E 25        	dw	L10085-1
  9128 04:25BE: 07 FB        	dw	64263
  9129 04:25C0: A3 24        	dw	L10083-1
  9130 04:25C2: 03 FF        	dw	65283
  9131 04:25C4: 45 23        	dw	L10079-1
  9132 04:25C6: F1 FF        	dw	65521
  9133 04:25C8: B0 24        	dw	L10084-1
  9134 04:25CA: A8 25        	dw	L10089-1
  9135                        L10078:
  9136                        ;	}
  9137                        	.line	1457
  9138                        ;
  9139                        ;	return TRUE;
  9140                        L10076:
  9141                        	.line	1459
  9142 04:25CC: A9 01 00     	lda	#$1
  9143                        L380:
  9144 04:25CF: A8           	tay
  9145 04:25D0: A5 3A        	lda	<L371+2
  9146 04:25D2: 85 3E        	sta	<L371+2+4
  9147 04:25D4: A5 39        	lda	<L371+1
  9148 04:25D6: 85 3D        	sta	<L371+1+4
  9149 04:25D8: 2B           	pld
  9150 04:25D9: 3B           	tsc
  9151 04:25DA: 18           	clc
  9152 04:25DB: 69 3C 00     	adc	#L371+4
  9153 04:25DE: 1B           	tcs
  9154 04:25DF: 98           	tya
  9155 04:25E0: 6B           	rtl
  9156                        ;}
  9157                        	.line	1460
  9158                        	.endblock	1460
  9159             00000038   L371	equ	56
  9160             00000009   L372	equ	9
  9161 04:25E1:              	ends
  9162                        	efunc
  9163                        	.endfunc	1460,9,56
  9164                        	.line	1460
  9165                        	data
  9166                        L370:
  9167 00:05E1: 6D 65 6E 75  	db	$6D,$65,$6E,$75,$57,$69,$6E,$64,$6F,$77,
                    $50,$72,$6F,$63,$3A
       00:05E5: 57 69 6E 64 
       00:05E9: 6F 77 50 72 
       00:05ED: 6F 63 3A 
  9168 00:05F0: 3A 46 58 5F  	db	$3A,$46,$58,$5F,$43,$52,$45,$41,$54,$45,
                    $5F,$57,$49,$4E,$44
       00:05F4: 43 52 45 41 
       00:05F8: 54 45 5F 57 
       00:05FC: 49 4E 44 
  9169 00:05FF: 4F 57 0D 0A  	db	$4F,$57,$0D,$0A,$00,$FFFFFF80,$FFFFFF81,
                    $00,$41,$4D,$49,$47,$4F,$38,$78
       00:0603: 00 80 81 00 
       00:0607: 41 4D 49 47 
       00:060B: 4F 38 78 
  9170 00:060E: 38 00 6D 65  	db	$38,$00,$6D,$65,$6E,$75,$57,$69,$6E,$64,
                    $6F,$77,$50,$72,$6F
  Mon Dec  7 2020 11:19                                                Page 177


       00:0612: 6E 75 57 69 
       00:0616: 6E 64 6F 77 
       00:061A: 50 72 6F 
  9171 00:061D: 63 3A 3A 46  	db	$63,$3A,$3A,$46,$58,$5F,$52,$45,$44,$52,
                    $41,$57,$5F,$57,$49
       00:0621: 58 5F 52 45 
       00:0625: 44 52 41 57 
       00:0629: 5F 57 49 
  9172 00:062C: 4E 44 4F 57  	db	$4E,$44,$4F,$57,$0D,$0A,$00,$23,$6D,$65,
                    $6E,$75,$62,$61,$72
       00:0630: 0D 0A 00 23 
       00:0634: 6D 65 6E 75 
       00:0638: 62 61 72 
  9173 00:063B: 00 AF AF AF  	db	$00,$FFFFFFAF,$FFFFFFAF,$FFFFFFAF,$FFFFF
                    FAF,$FFFFFFAF,$FFFFFFAF,$FFFFFFAF,$FFFFFFAF,$00,$46,$58,$4F,
                    $53,$38
       00:063F: AF AF AF AF 
       00:0643: AF 00 46 58 
       00:0647: 4F 53 38 
  9174 00:064A: 78 38 00 54  	db	$78,$38,$00,$54,$49,$4E,$59,$54,$59,$50,
                    $45,$38,$78,$38,$00
       00:064E: 49 4E 59 54 
       00:0652: 59 50 45 38 
       00:0656: 78 38 00 
  9175 00:0659: 6D 65 6E 75  	db	$6D,$65,$6E,$75,$57,$69,$6E,$64,$6F,$77,
                    $50,$72,$6F,$63,$3A
       00:065D: 57 69 6E 64 
       00:0661: 6F 77 50 72 
       00:0665: 6F 63 3A 
  9176 00:0668: 3A 46 58 5F  	db	$3A,$46,$58,$5F,$4D,$4F,$55,$53,$45,$5F,
                    $45,$4E,$54,$45,$52
       00:066C: 4D 4F 55 53 
       00:0670: 45 5F 45 4E 
       00:0674: 54 45 52 
  9177 00:0677: 0D 0A 00 6D  	db	$0D,$0A,$00,$6D,$65,$6E,$75,$57,$69,$6E,
                    $64,$6F,$77,$50,$72
       00:067B: 65 6E 75 57 
       00:067F: 69 6E 64 6F 
       00:0683: 77 50 72 
  9178 00:0686: 6F 63 3A 3A  	db	$6F,$63,$3A,$3A,$46,$58,$5F,$4D,$4F,$55,
                    $53,$45,$5F,$45,$58
       00:068A: 46 58 5F 4D 
       00:068E: 4F 55 53 45 
       00:0692: 5F 45 58 
  9179 00:0695: 49 54 0D 0A  	db	$49,$54,$0D,$0A,$00
       00:0699: 00 
  9180 00:069A:              	ends
  9181                        ;
  9182                        ;void k_iterate_windows_for_redraw(LPVOID ctx,LPVO
                    ID data)
  9183                        ;{
  9184                        	.line	1462
  9185                        	.line	1463
  9186                        	WINMAN
  9187                        	xdef	~~k_iterate_windows_for_redraw
  9188                        	func
  9189                        	.function	1463
  9190                        ~~k_iterate_windows_for_redraw:
  Mon Dec  7 2020 11:19                                                Page 178


  9191                        	longa	on
  9192                        	longi	on
  9193 04:25E1: 3B           	tsc
  9194 04:25E2: 38           	sec
  9195 04:25E3: E9 08 00     	sbc	#L382
  9196 04:25E6: 1B           	tcs
  9197 04:25E7: 0B           	phd
  9198 04:25E8: 5B           	tcd
  9199             00000004   ctx_0	set	4
  9200             00000008   data_0	set	8
  9201                        	.block	1463
  9202                        ;	PWINDOW     pWin = (PWINDOW)data;
  9203                        ;
  9204                        ;	if(data)
  9205             00000000   pWin_1	set	0
  9206                        	.sym	pWin,0,138,1,32,27
  9207                        	.sym	ctx,4,129,6,32
  9208                        	.sym	data,8,129,6,32
  9209 04:25E9: A5 10        	lda	<L382+data_0
  9210 04:25EB: 85 05        	sta	<L383+pWin_1
  9211 04:25ED: A5 12        	lda	<L382+data_0+2
  9212 04:25EF: 85 07        	sta	<L383+pWin_1+2
  9213                        	.line	1466
  9214                        ;	{
  9215 04:25F1: A5 10        	lda	<L382+data_0
  9216 04:25F3: 05 12        	ora	<L382+data_0+2
  9217 04:25F5: D0 03        	bne	L385
  9218 04:25F7: 82 58 00     	brl	L10090
  9219                        L385:
  9220                        	.line	1467
  9221                        ;		if(ctx!=data)
  9222                        	.line	1468
  9223                        ;		{
  9224 04:25FA: A5 0C        	lda	<L382+ctx_0
  9225 04:25FC: C5 10        	cmp	<L382+data_0
  9226 04:25FE: D0 04        	bne	L386
  9227 04:2600: A5 0E        	lda	<L382+ctx_0+2
  9228 04:2602: C5 12        	cmp	<L382+data_0+2
  9229                        L386:
  9230 04:2604: D0 03        	bne	L387
  9231 04:2606: 82 49 00     	brl	L10091
  9232                        L387:
  9233                        	.line	1469
  9234                        ;			k_vdraw_ui_window(pWin,
  9235                        	.line	1470
  9236                        ;							
                      pWin->style,
  9237                        ;							
                      pWin->win_x,
  9238                        ;							
                      pWin->win_y,
  9239                        ;							
                      pWin->win_height,
  9240                        ;							
                      pWin->win_width,
  9241                        ;							
                      pWin->win_title,
  9242                        ;							
  Mon Dec  7 2020 11:19                                                Page 179


                      k_getUIMenuColor(),
  9243                        ;							
                      k_getUIBackgroundColor());
  9244 04:2609: 22 xx xx xx  	jsl	~~k_getUIBackgroundColor
  9245 04:260D: 48           	pha
  9246 04:260E: 22 xx xx xx  	jsl	~~k_getUIMenuColor
  9247 04:2612: 48           	pha
  9248 04:2613: 18           	clc
  9249 04:2614: A9 D4 00     	lda	#$d4
  9250 04:2617: 65 05        	adc	<L383+pWin_1
  9251 04:2619: 85 01        	sta	<R0
  9252 04:261B: A9 00 00     	lda	#$0
  9253 04:261E: 65 07        	adc	<L383+pWin_1+2
  9254 04:2620: 85 03        	sta	<R0+2
  9255 04:2622: D4 03        	pei	<R0+2
  9256 04:2624: D4 01        	pei	<R0
  9257 04:2626: A0 0C 00     	ldy	#$c
  9258 04:2629: B7 05        	lda	[<L383+pWin_1],Y
  9259 04:262B: 48           	pha
  9260 04:262C: A0 0E 00     	ldy	#$e
  9261 04:262F: B7 05        	lda	[<L383+pWin_1],Y
  9262 04:2631: 48           	pha
  9263 04:2632: A0 0A 00     	ldy	#$a
  9264 04:2635: B7 05        	lda	[<L383+pWin_1],Y
  9265 04:2637: 48           	pha
  9266 04:2638: A0 08 00     	ldy	#$8
  9267 04:263B: B7 05        	lda	[<L383+pWin_1],Y
  9268 04:263D: 48           	pha
  9269 04:263E: A0 04 00     	ldy	#$4
  9270 04:2641: B7 05        	lda	[<L383+pWin_1],Y
  9271 04:2643: 48           	pha
  9272 04:2644: A0 02 00     	ldy	#$2
  9273 04:2647: B7 05        	lda	[<L383+pWin_1],Y
  9274 04:2649: 48           	pha
  9275 04:264A: D4 07        	pei	<L383+pWin_1+2
  9276 04:264C: D4 05        	pei	<L383+pWin_1
  9277 04:264E: 22 xx xx xx  	jsl	~~k_vdraw_ui_window
  9278                        ;		}
  9279                        	.line	1479
  9280                        ;	}
  9281                        L10091:
  9282                        	.line	1480
  9283                        ;}
  9284                        L10090:
  9285                        	.line	1481
  9286                        L388:
  9287 04:2652: A5 0A        	lda	<L382+2
  9288 04:2654: 85 12        	sta	<L382+2+8
  9289 04:2656: A5 09        	lda	<L382+1
  9290 04:2658: 85 11        	sta	<L382+1+8
  9291 04:265A: 2B           	pld
  9292 04:265B: 3B           	tsc
  9293 04:265C: 18           	clc
  9294 04:265D: 69 10 00     	adc	#L382+8
  9295 04:2660: 1B           	tcs
  9296 04:2661: 6B           	rtl
  9297                        	.endblock	1481
  9298             00000008   L382	equ	8
  Mon Dec  7 2020 11:19                                                Page 180


  9299             00000005   L383	equ	5
  9300 04:2662:              	ends
  9301                        	efunc
  9302                        	.endfunc	1481,5,8
  9303                        	.line	1481
  9304                        ;
  9305                        ;
  9306                        ;void k_iterate_menus(LPVOID ctx,LPVOID data)
  9307                        ;{
  9308                        	.line	1484
  9309                        	.line	1485
  9310                        	WINMAN
  9311                        	xdef	~~k_iterate_menus
  9312                        	func
  9313                        	.function	1485
  9314                        ~~k_iterate_menus:
  9315                        	longa	on
  9316                        	longi	on
  9317 04:2662: 3B           	tsc
  9318 04:2663: 38           	sec
  9319 04:2664: E9 18 00     	sbc	#L389
  9320 04:2667: 1B           	tcs
  9321 04:2668: 0B           	phd
  9322 04:2669: 5B           	tcd
  9323             00000004   ctx_0	set	4
  9324             00000008   data_0	set	8
  9325                        	.block	1485
  9326                        ;	PWINDOW     pWin = NULL;
  9327                        ;	PMENUANCHOR pMenuAnchor = NULL;
  9328                        ;	PFXSTRING   fxstr = NULL;
  9329                        ;	if(data)
  9330             00000000   pWin_1	set	0
  9331             00000004   pMenuAnchor_1	set	4
  9332             00000008   fxstr_1	set	8
  9333                        	.sym	pWin,0,138,1,32,27
  9334                        	.sym	pMenuAnchor,4,138,1,32,38
  9335                        	.sym	fxstr,8,138,1,32,50
  9336                        	.sym	ctx,4,129,6,32
  9337                        	.sym	data,8,129,6,32
  9338 04:266A: 64 0D        	stz	<L390+pWin_1
  9339 04:266C: 64 0F        	stz	<L390+pWin_1+2
  9340 04:266E: 64 11        	stz	<L390+pMenuAnchor_1
  9341 04:2670: 64 13        	stz	<L390+pMenuAnchor_1+2
  9342 04:2672: 64 15        	stz	<L390+fxstr_1
  9343 04:2674: 64 17        	stz	<L390+fxstr_1+2
  9344                        	.line	1489
  9345                        ;	{
  9346 04:2676: A5 20        	lda	<L389+data_0
  9347 04:2678: 05 22        	ora	<L389+data_0+2
  9348 04:267A: D0 03        	bne	L392
  9349 04:267C: 82 E7 00     	brl	L10092
  9350                        L392:
  9351                        	.line	1490
  9352                        ;		k_debug_strings("k_iterate_menus:",(LPCH
                    AR)((PMENU)data)->pCaption) ;
  9353                        	.line	1491
  9354 04:267F: A0 11 00     	ldy	#$11
  9355 04:2682: B7 20        	lda	[<L389+data_0],Y
  Mon Dec  7 2020 11:19                                                Page 181


  9356 04:2684: 48           	pha
  9357 04:2685: A0 0F 00     	ldy	#$f
  9358 04:2688: B7 20        	lda	[<L389+data_0],Y
  9359 04:268A: 48           	pha
  9360 04:268B: F4 xx xx     	pea	#^L381
  9361 04:268E: F4 xx xx     	pea	#<L381
  9362 04:2691: 22 xx xx xx  	jsl	~~k_debug_strings
  9363                        ;
  9364                        ;		if(ctx)
  9365                        	.line	1493
  9366                        ;		{
  9367 04:2695: A5 1C        	lda	<L389+ctx_0
  9368 04:2697: 05 1E        	ora	<L389+ctx_0+2
  9369 04:2699: D0 03        	bne	L393
  9370 04:269B: 82 C8 00     	brl	L10093
  9371                        L393:
  9372                        	.line	1494
  9373                        ;			//fxstr = (PFXSTRING)ctx;
  9374                        ;			//k_fxstring_add(fxstr,(LPCHAR)(
                    (PMENU)data)->pCaption);
  9375                        ;			//k_fxstring_add(fxstr,"  ");
  9376                        ;			pWin = (PWINDOW)ctx;
  9377                        	.line	1498
  9378 04:269E: A5 1C        	lda	<L389+ctx_0
  9379 04:26A0: 85 0D        	sta	<L390+pWin_1
  9380 04:26A2: A5 1E        	lda	<L389+ctx_0+2
  9381 04:26A4: 85 0F        	sta	<L390+pWin_1+2
  9382                        ;			pMenuAnchor = (PMENUANCHOR)pWin-
                    >windowData;
  9383                        	.line	1499
  9384 04:26A6: A0 45 01     	ldy	#$145
  9385 04:26A9: B7 0D        	lda	[<L390+pWin_1],Y
  9386 04:26AB: 85 11        	sta	<L390+pMenuAnchor_1
  9387 04:26AD: A0 47 01     	ldy	#$147
  9388 04:26B0: B7 0D        	lda	[<L390+pWin_1],Y
  9389 04:26B2: 85 13        	sta	<L390+pMenuAnchor_1+2
  9390                        ;
  9391                        ;
  9392                        ;			pWin = k_user_CreateMenuAnchor(k
                    _getHandleFromWindow(pWin),
  9393                        	.line	1502
  9394                        ;					                
                    ((PMENU)data)->pCaption,
  9395                        ;							
                    		(PMENU)data,
  9396                        ;							
                    		pMenuAnchor->renderLayoutX,
  9397                        ;							
                    		pMenuAnchor->renderLayoutY,
  9398                        ;							
                    		(strlen(((PMENU)data)->pCaption)*FONTW) + (FONTW
                    /2),
  9399                        ;							
                    		FONTH + (FONTW/4));
  9400 04:26B4: 22 xx xx xx  	jsl	~~k_font_getFontWidth
  9401 04:26B8: 85 05        	sta	<R1
  9402 04:26BA: A5 05        	lda	<R1
  9403 04:26BC: 4A           	lsr	A
  Mon Dec  7 2020 11:19                                                Page 182


  9404 04:26BD: 4A           	lsr	A
  9405 04:26BE: 85 01        	sta	<R0
  9406 04:26C0: 22 xx xx xx  	jsl	~~k_font_getFontHeight
  9407 04:26C4: 85 05        	sta	<R1
  9408 04:26C6: 18           	clc
  9409 04:26C7: A5 05        	lda	<R1
  9410 04:26C9: 65 01        	adc	<R0
  9411 04:26CB: 48           	pha
  9412 04:26CC: 22 xx xx xx  	jsl	~~k_font_getFontWidth
  9413 04:26D0: 85 05        	sta	<R1
  9414 04:26D2: A5 05        	lda	<R1
  9415 04:26D4: 4A           	lsr	A
  9416 04:26D5: 85 01        	sta	<R0
  9417 04:26D7: 22 xx xx xx  	jsl	~~k_font_getFontWidth
  9418 04:26DB: 85 05        	sta	<R1
  9419 04:26DD: A0 11 00     	ldy	#$11
  9420 04:26E0: B7 20        	lda	[<L389+data_0],Y
  9421 04:26E2: 48           	pha
  9422 04:26E3: A0 0F 00     	ldy	#$f
  9423 04:26E6: B7 20        	lda	[<L389+data_0],Y
  9424 04:26E8: 48           	pha
  9425 04:26E9: 22 xx xx xx  	jsl	~~strlen
  9426 04:26ED: 85 09        	sta	<R2
  9427 04:26EF: A5 09        	lda	<R2
  9428 04:26F1: A6 05        	ldx	<R1
  9429                        	xref	~~~mul
  9430 04:26F3: 22 xx xx xx  	jsl	~~~mul
  9431 04:26F7: 85 05        	sta	<R1
  9432 04:26F9: 18           	clc
  9433 04:26FA: A5 05        	lda	<R1
  9434 04:26FC: 65 01        	adc	<R0
  9435 04:26FE: 48           	pha
  9436 04:26FF: A0 06 00     	ldy	#$6
  9437 04:2702: B7 11        	lda	[<L390+pMenuAnchor_1],Y
  9438 04:2704: 48           	pha
  9439 04:2705: A0 04 00     	ldy	#$4
  9440 04:2708: B7 11        	lda	[<L390+pMenuAnchor_1],Y
  9441 04:270A: 48           	pha
  9442 04:270B: D4 22        	pei	<L389+data_0+2
  9443 04:270D: D4 20        	pei	<L389+data_0
  9444 04:270F: A0 11 00     	ldy	#$11
  9445 04:2712: B7 20        	lda	[<L389+data_0],Y
  9446 04:2714: 48           	pha
  9447 04:2715: A0 0F 00     	ldy	#$f
  9448 04:2718: B7 20        	lda	[<L389+data_0],Y
  9449 04:271A: 48           	pha
  9450 04:271B: D4 0F        	pei	<L390+pWin_1+2
  9451 04:271D: D4 0D        	pei	<L390+pWin_1
  9452 04:271F: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
  9453 04:2723: 85 01        	sta	<R0
  9454 04:2725: 86 03        	stx	<R0+2
  9455 04:2727: DA           	phx
  9456 04:2728: 48           	pha
  9457 04:2729: 22 29 29 04  	jsl	~~k_user_CreateMenuAnchor
  9458 04:272D: 85 0D        	sta	<L390+pWin_1
  9459 04:272F: 86 0F        	stx	<L390+pWin_1+2
  9460                        ;
  9461                        ;			//pMenuAnchor->renderLayoutX+=(s
  Mon Dec  7 2020 11:19                                                Page 183


                    trlen(((PMENU)data)->pCaption)*FONTW + (FONTW/2));
  9462                        ;			pMenuAnchor->renderLayoutX+=pWin
                    ->win_width;
  9463                        	.line	1511
  9464 04:2731: 18           	clc
  9465 04:2732: A9 04 00     	lda	#$4
  9466 04:2735: 65 11        	adc	<L390+pMenuAnchor_1
  9467 04:2737: 85 01        	sta	<R0
  9468 04:2739: A9 00 00     	lda	#$0
  9469 04:273C: 65 13        	adc	<L390+pMenuAnchor_1+2
  9470 04:273E: 85 03        	sta	<R0+2
  9471 04:2740: 18           	clc
  9472 04:2741: A7 01        	lda	[<R0]
  9473 04:2743: A0 0C 00     	ldy	#$c
  9474 04:2746: 77 0D        	adc	[<L390+pWin_1],Y
  9475 04:2748: 87 01        	sta	[<R0]
  9476                        ;			pMenuAnchor->renderLayoutX+=(1*F
                    ONTW);
  9477                        	.line	1512
  9478 04:274A: 18           	clc
  9479 04:274B: A9 04 00     	lda	#$4
  9480 04:274E: 65 11        	adc	<L390+pMenuAnchor_1
  9481 04:2750: 85 01        	sta	<R0
  9482 04:2752: A9 00 00     	lda	#$0
  9483 04:2755: 65 13        	adc	<L390+pMenuAnchor_1+2
  9484 04:2757: 85 03        	sta	<R0+2
  9485 04:2759: 22 xx xx xx  	jsl	~~k_font_getFontWidth
  9486 04:275D: 85 05        	sta	<R1
  9487 04:275F: 18           	clc
  9488 04:2760: A5 05        	lda	<R1
  9489 04:2762: 67 01        	adc	[<R0]
  9490 04:2764: 87 01        	sta	[<R0]
  9491                        ;
  9492                        ;
  9493                        ;
  9494                        ;		}
  9495                        	.line	1516
  9496                        ;
  9497                        ;	}
  9498                        L10093:
  9499                        	.line	1518
  9500                        ;}
  9501                        L10092:
  9502                        	.line	1519
  9503                        L394:
  9504 04:2766: A5 1A        	lda	<L389+2
  9505 04:2768: 85 22        	sta	<L389+2+8
  9506 04:276A: A5 19        	lda	<L389+1
  9507 04:276C: 85 21        	sta	<L389+1+8
  9508 04:276E: 2B           	pld
  9509 04:276F: 3B           	tsc
  9510 04:2770: 18           	clc
  9511 04:2771: 69 20 00     	adc	#L389+8
  9512 04:2774: 1B           	tcs
  9513 04:2775: 6B           	rtl
  9514                        	.endblock	1519
  9515             00000018   L389	equ	24
  9516             0000000D   L390	equ	13
  Mon Dec  7 2020 11:19                                                Page 184


  9517 04:2776:              	ends
  9518                        	efunc
  9519                        	.endfunc	1519,13,24
  9520                        	.line	1519
  9521                        	data
  9522                        L381:
  9523 00:069A: 6B 5F 69 74  	db	$6B,$5F,$69,$74,$65,$72,$61,$74,$65,$5F,
                    $6D,$65,$6E,$75,$73
       00:069E: 65 72 61 74 
       00:06A2: 65 5F 6D 65 
       00:06A6: 6E 75 73 
  9524 00:06A9: 3A 00        	db	$3A,$00
  9525 00:06AB:              	ends
  9526                        ;
  9527                        ;void k_iterate_set_menu_state(LPVOID ctx,LPVOID d
                    ata)
  9528                        ;{
  9529                        	.line	1521
  9530                        	.line	1522
  9531                        	WINMAN
  9532                        	xdef	~~k_iterate_set_menu_state
  9533                        	func
  9534                        	.function	1522
  9535                        ~~k_iterate_set_menu_state:
  9536                        	longa	on
  9537                        	longi	on
  9538 04:2776: 3B           	tsc
  9539 04:2777: 38           	sec
  9540 04:2778: E9 14 00     	sbc	#L396
  9541 04:277B: 1B           	tcs
  9542 04:277C: 0B           	phd
  9543 04:277D: 5B           	tcd
  9544             00000004   ctx_0	set	4
  9545             00000008   data_0	set	8
  9546                        	.block	1522
  9547                        ;	PWINDOW     pWin = NULL;
  9548                        ;	PMENUANCHOR pMenuAnchor = NULL;
  9549                        ;	PFXSTRING   fxstr = NULL;
  9550                        ;	if(data)
  9551             00000000   pWin_1	set	0
  9552             00000004   pMenuAnchor_1	set	4
  9553             00000008   fxstr_1	set	8
  9554                        	.sym	pWin,0,138,1,32,27
  9555                        	.sym	pMenuAnchor,4,138,1,32,38
  9556                        	.sym	fxstr,8,138,1,32,50
  9557                        	.sym	ctx,4,129,6,32
  9558                        	.sym	data,8,129,6,32
  9559 04:277E: 64 09        	stz	<L397+pWin_1
  9560 04:2780: 64 0B        	stz	<L397+pWin_1+2
  9561 04:2782: 64 0D        	stz	<L397+pMenuAnchor_1
  9562 04:2784: 64 0F        	stz	<L397+pMenuAnchor_1+2
  9563 04:2786: 64 11        	stz	<L397+fxstr_1
  9564 04:2788: 64 13        	stz	<L397+fxstr_1+2
  9565                        	.line	1526
  9566                        ;	{
  9567 04:278A: A5 1C        	lda	<L396+data_0
  9568 04:278C: 05 1E        	ora	<L396+data_0+2
  9569 04:278E: D0 03        	bne	L399
  Mon Dec  7 2020 11:19                                                Page 185


  9570 04:2790: 82 96 00     	brl	L10094
  9571                        L399:
  9572                        	.line	1527
  9573                        ;		k_debug_strings("k_iterate_set_menu_stat
                    e:caption:",(LPCHAR)((PMENU)data)->pCaption) ;
  9574                        	.line	1528
  9575 04:2793: A0 11 00     	ldy	#$11
  9576 04:2796: B7 1C        	lda	[<L396+data_0],Y
  9577 04:2798: 48           	pha
  9578 04:2799: A0 0F 00     	ldy	#$f
  9579 04:279C: B7 1C        	lda	[<L396+data_0],Y
  9580 04:279E: 48           	pha
  9581 04:279F: F4 xx xx     	pea	#^L395
  9582 04:27A2: F4 xx xx     	pea	#<L395
  9583 04:27A5: 22 xx xx xx  	jsl	~~k_debug_strings
  9584                        ;		k_debug_integer("k_iterate_set_menu_stat
                    e:itemid:",((PMENU)data)->itemId) ;
  9585                        	.line	1529
  9586 04:27A9: A0 0D 00     	ldy	#$d
  9587 04:27AC: B7 1C        	lda	[<L396+data_0],Y
  9588 04:27AE: 48           	pha
  9589 04:27AF: F4 xx xx     	pea	#^L395+34
  9590 04:27B2: F4 xx xx     	pea	#<L395+34
  9591 04:27B5: 22 xx xx xx  	jsl	~~k_debug_integer
  9592                        ;
  9593                        ;		if(ctx)
  9594                        	.line	1531
  9595                        ;		{
  9596 04:27B9: A5 18        	lda	<L396+ctx_0
  9597 04:27BB: 05 1A        	ora	<L396+ctx_0+2
  9598 04:27BD: D0 03        	bne	L400
  9599 04:27BF: 82 67 00     	brl	L10095
  9600                        L400:
  9601                        	.line	1532
  9602                        ;			k_debug_pointer("k_iterate_set_m
                    enu_state:ctx:",ctx) ;
  9603                        	.line	1533
  9604 04:27C2: D4 1A        	pei	<L396+ctx_0+2
  9605 04:27C4: D4 18        	pei	<L396+ctx_0
  9606 04:27C6: F4 xx xx     	pea	#^L395+67
  9607 04:27C9: F4 xx xx     	pea	#<L395+67
  9608 04:27CC: 22 xx xx xx  	jsl	~~k_debug_pointer
  9609                        ;
  9610                        ;			k_debug_integer("k_iterate_set_m
                    enu_state:ctx:id:",HIWORD((DWORD)ctx));
  9611                        	.line	1535
  9612 04:27D0: D4 1A        	pei	<L396+ctx_0+2
  9613 04:27D2: D4 18        	pei	<L396+ctx_0
  9614 04:27D4: A9 10 00     	lda	#$10
  9615                        	xref	~~~llsr
  9616 04:27D7: 22 xx xx xx  	jsl	~~~llsr
  9617 04:27DB: 85 01        	sta	<R0
  9618 04:27DD: 86 03        	stx	<R0+2
  9619 04:27DF: A5 01        	lda	<R0
  9620 04:27E1: 85 05        	sta	<R1
  9621 04:27E3: 64 07        	stz	<R1+2
  9622 04:27E5: D4 05        	pei	<R1
  9623 04:27E7: F4 xx xx     	pea	#^L395+97
  Mon Dec  7 2020 11:19                                                Page 186


  9624 04:27EA: F4 xx xx     	pea	#<L395+97
  9625 04:27ED: 22 xx xx xx  	jsl	~~k_debug_integer
  9626                        ;			k_debug_integer("k_iterate_set_m
                    enu_state:ctx:state:" ,LOWORD((DWORD)ctx));
  9627                        	.line	1536
  9628 04:27F1: D4 18        	pei	<L396+ctx_0
  9629 04:27F3: F4 xx xx     	pea	#^L395+130
  9630 04:27F6: F4 xx xx     	pea	#<L395+130
  9631 04:27F9: 22 xx xx xx  	jsl	~~k_debug_integer
  9632                        ;			if(((PMENU)data)->itemId == HIWO
                    RD((DWORD)ctx))
  9633                        	.line	1537
  9634                        ;			{
  9635 04:27FD: D4 1A        	pei	<L396+ctx_0+2
  9636 04:27FF: D4 18        	pei	<L396+ctx_0
  9637 04:2801: A9 10 00     	lda	#$10
  9638                        	xref	~~~llsr
  9639 04:2804: 22 xx xx xx  	jsl	~~~llsr
  9640 04:2808: 85 01        	sta	<R0
  9641 04:280A: 86 03        	stx	<R0+2
  9642 04:280C: A5 01        	lda	<R0
  9643 04:280E: 85 05        	sta	<R1
  9644 04:2810: 64 07        	stz	<R1+2
  9645 04:2812: A5 05        	lda	<R1
  9646 04:2814: A0 0D 00     	ldy	#$d
  9647 04:2817: D7 1C        	cmp	[<L396+data_0],Y
  9648 04:2819: F0 03        	beq	L401
  9649 04:281B: 82 0B 00     	brl	L10096
  9650                        L401:
  9651                        	.line	1538
  9652                        ;				((PMENU)data)->chromeLef
                    t = LOWORD((DWORD)ctx);
  9653                        	.line	1539
  9654 04:281E: E2 20        	sep	#$20
  9655                        	longa	off
  9656 04:2820: A5 18        	lda	<L396+ctx_0
  9657 04:2822: A0 0A 00     	ldy	#$a
  9658 04:2825: 97 1C        	sta	[<L396+data_0],Y
  9659 04:2827: C2 20        	rep	#$20
  9660                        	longa	on
  9661                        ;			}
  9662                        	.line	1540
  9663                        ;		}
  9664                        L10096:
  9665                        	.line	1541
  9666                        ;
  9667                        ;	}
  9668                        L10095:
  9669                        	.line	1543
  9670                        ;}
  9671                        L10094:
  9672                        	.line	1544
  9673                        L402:
  9674 04:2829: A5 16        	lda	<L396+2
  9675 04:282B: 85 1E        	sta	<L396+2+8
  9676 04:282D: A5 15        	lda	<L396+1
  9677 04:282F: 85 1D        	sta	<L396+1+8
  9678 04:2831: 2B           	pld
  Mon Dec  7 2020 11:19                                                Page 187


  9679 04:2832: 3B           	tsc
  9680 04:2833: 18           	clc
  9681 04:2834: 69 1C 00     	adc	#L396+8
  9682 04:2837: 1B           	tcs
  9683 04:2838: 6B           	rtl
  9684                        	.endblock	1544
  9685             00000014   L396	equ	20
  9686             00000009   L397	equ	9
  9687 04:2839:              	ends
  9688                        	efunc
  9689                        	.endfunc	1544,9,20
  9690                        	.line	1544
  9691                        	data
  9692                        L395:
  9693 00:06AB: 6B 5F 69 74  	db	$6B,$5F,$69,$74,$65,$72,$61,$74,$65,$5F,
                    $73,$65,$74,$5F,$6D
       00:06AF: 65 72 61 74 
       00:06B3: 65 5F 73 65 
       00:06B7: 74 5F 6D 
  9694 00:06BA: 65 6E 75 5F  	db	$65,$6E,$75,$5F,$73,$74,$61,$74,$65,$3A,
                    $63,$61,$70,$74,$69
       00:06BE: 73 74 61 74 
       00:06C2: 65 3A 63 61 
       00:06C6: 70 74 69 
  9695 00:06C9: 6F 6E 3A 00  	db	$6F,$6E,$3A,$00,$6B,$5F,$69,$74,$65,$72,
                    $61,$74,$65,$5F,$73
       00:06CD: 6B 5F 69 74 
       00:06D1: 65 72 61 74 
       00:06D5: 65 5F 73 
  9696 00:06D8: 65 74 5F 6D  	db	$65,$74,$5F,$6D,$65,$6E,$75,$5F,$73,$74,
                    $61,$74,$65,$3A,$69
       00:06DC: 65 6E 75 5F 
       00:06E0: 73 74 61 74 
       00:06E4: 65 3A 69 
  9697 00:06E7: 74 65 6D 69  	db	$74,$65,$6D,$69,$64,$3A,$00,$6B,$5F,$69,
                    $74,$65,$72,$61,$74
       00:06EB: 64 3A 00 6B 
       00:06EF: 5F 69 74 65 
       00:06F3: 72 61 74 
  9698 00:06F6: 65 5F 73 65  	db	$65,$5F,$73,$65,$74,$5F,$6D,$65,$6E,$75,
                    $5F,$73,$74,$61,$74
       00:06FA: 74 5F 6D 65 
       00:06FE: 6E 75 5F 73 
       00:0702: 74 61 74 
  9699 00:0705: 65 3A 63 74  	db	$65,$3A,$63,$74,$78,$3A,$00,$6B,$5F,$69,
                    $74,$65,$72,$61,$74
       00:0709: 78 3A 00 6B 
       00:070D: 5F 69 74 65 
       00:0711: 72 61 74 
  9700 00:0714: 65 5F 73 65  	db	$65,$5F,$73,$65,$74,$5F,$6D,$65,$6E,$75,
                    $5F,$73,$74,$61,$74
       00:0718: 74 5F 6D 65 
       00:071C: 6E 75 5F 73 
       00:0720: 74 61 74 
  9701 00:0723: 65 3A 63 74  	db	$65,$3A,$63,$74,$78,$3A,$69,$64,$3A,$00,
                    $6B,$5F,$69,$74,$65
       00:0727: 78 3A 69 64 
       00:072B: 3A 00 6B 5F 
  Mon Dec  7 2020 11:19                                                Page 188


       00:072F: 69 74 65 
  9702 00:0732: 72 61 74 65  	db	$72,$61,$74,$65,$5F,$73,$65,$74,$5F,$6D,
                    $65,$6E,$75,$5F,$73
       00:0736: 5F 73 65 74 
       00:073A: 5F 6D 65 6E 
       00:073E: 75 5F 73 
  9703 00:0741: 74 61 74 65  	db	$74,$61,$74,$65,$3A,$63,$74,$78,$3A,$73,
                    $74,$61,$74,$65,$3A
       00:0745: 3A 63 74 78 
       00:0749: 3A 73 74 61 
       00:074D: 74 65 3A 
  9704 00:0750: 00           	db	$00
  9705 00:0751:              	ends
  9706                        ;
  9707                        ;void k_iterate_dropdown_menu_captions(LPVOID ctx,
                    LPVOID data)
  9708                        ;{
  9709                        	.line	1546
  9710                        	.line	1547
  9711                        	WINMAN
  9712                        	xdef	~~k_iterate_dropdown_menu_captions
  9713                        	func
  9714                        	.function	1547
  9715                        ~~k_iterate_dropdown_menu_captions:
  9716                        	longa	on
  9717                        	longi	on
  9718 04:2839: 3B           	tsc
  9719 04:283A: 38           	sec
  9720 04:283B: E9 22 00     	sbc	#L404
  9721 04:283E: 1B           	tcs
  9722 04:283F: 0B           	phd
  9723 04:2840: 5B           	tcd
  9724             00000004   ctx_0	set	4
  9725             00000008   data_0	set	8
  9726                        	.block	1547
  9727                        ;	PWINDOW     pWin = NULL;
  9728                        ;	PWINDOW     pItem = NULL;
  9729                        ;	PMENUANCHOR pMenuAnchor = NULL;
  9730                        ;	LPCSTR FAR*	captions;
  9731                        ;	LPCSTR 		caption;
  9732                        ;	UINT		i = 0;
  9733                        ;
  9734                        ;	if(data)
  9735             00000000   pWin_1	set	0
  9736             00000004   pItem_1	set	4
  9737             00000008   pMenuAnchor_1	set	8
  9738             0000000C   captions_1	set	12
  9739             00000010   caption_1	set	16
  9740             00000014   i_1	set	20
  9741                        	.sym	pWin,0,138,1,32,27
  9742                        	.sym	pItem,4,138,1,32,27
  9743                        	.sym	pMenuAnchor,8,138,1,32,38
  9744                        	.sym	captions,12,1166,1,32
  9745                        	.sym	caption,16,142,1,32
  9746                        	.sym	i,20,16,1,16
  9747                        	.sym	ctx,4,129,6,32
  9748                        	.sym	data,8,129,6,32
  9749 04:2841: 64 0D        	stz	<L405+pWin_1
  Mon Dec  7 2020 11:19                                                Page 189


  9750 04:2843: 64 0F        	stz	<L405+pWin_1+2
  9751 04:2845: 64 11        	stz	<L405+pItem_1
  9752 04:2847: 64 13        	stz	<L405+pItem_1+2
  9753 04:2849: 64 15        	stz	<L405+pMenuAnchor_1
  9754 04:284B: 64 17        	stz	<L405+pMenuAnchor_1+2
  9755 04:284D: 64 21        	stz	<L405+i_1
  9756                        	.line	1555
  9757                        ;	{
  9758 04:284F: A5 2A        	lda	<L404+data_0
  9759 04:2851: 05 2C        	ora	<L404+data_0+2
  9760 04:2853: D0 03        	bne	L407
  9761 04:2855: 82 C1 00     	brl	L10097
  9762                        L407:
  9763                        	.line	1556
  9764                        ;		k_debug_strings("k_iterate_dropdown_menu
                    s:",(LPCHAR)((PMENU)data)->pCaption) ;
  9765                        	.line	1557
  9766 04:2858: A0 11 00     	ldy	#$11
  9767 04:285B: B7 2A        	lda	[<L404+data_0],Y
  9768 04:285D: 48           	pha
  9769 04:285E: A0 0F 00     	ldy	#$f
  9770 04:2861: B7 2A        	lda	[<L404+data_0],Y
  9771 04:2863: 48           	pha
  9772 04:2864: F4 xx xx     	pea	#^L403
  9773 04:2867: F4 xx xx     	pea	#<L403
  9774 04:286A: 22 xx xx xx  	jsl	~~k_debug_strings
  9775                        ;
  9776                        ;		if(ctx)
  9777                        	.line	1559
  9778                        ;		{
  9779 04:286E: A5 26        	lda	<L404+ctx_0
  9780 04:2870: 05 28        	ora	<L404+ctx_0+2
  9781 04:2872: D0 03        	bne	L408
  9782 04:2874: 82 A2 00     	brl	L10098
  9783                        L408:
  9784                        	.line	1560
  9785                        ;			captions = (LPCSTR FAR*)ctx;
  9786                        	.line	1561
  9787 04:2877: A5 26        	lda	<L404+ctx_0
  9788 04:2879: 85 19        	sta	<L405+captions_1
  9789 04:287B: A5 28        	lda	<L404+ctx_0+2
  9790 04:287D: 85 1B        	sta	<L405+captions_1+2
  9791                        ;
  9792                        ;			while(captions[i])
  9793                        	.line	1563
  9794                        L10099:
  9795 04:287F: A5 21        	lda	<L405+i_1
  9796 04:2881: 85 05        	sta	<R1
  9797 04:2883: 64 07        	stz	<R1+2
  9798 04:2885: D4 07        	pei	<R1+2
  9799 04:2887: D4 05        	pei	<R1
  9800 04:2889: A9 02 00     	lda	#$2
  9801                        	xref	~~~lasl
  9802 04:288C: 22 xx xx xx  	jsl	~~~lasl
  9803 04:2890: 85 01        	sta	<R0
  9804 04:2892: 86 03        	stx	<R0+2
  9805 04:2894: 18           	clc
  9806 04:2895: A5 19        	lda	<L405+captions_1
  Mon Dec  7 2020 11:19                                                Page 190


  9807 04:2897: 65 01        	adc	<R0
  9808 04:2899: 85 09        	sta	<R2
  9809 04:289B: A5 1B        	lda	<L405+captions_1+2
  9810 04:289D: 65 03        	adc	<R0+2
  9811 04:289F: 85 0B        	sta	<R2+2
  9812 04:28A1: A7 09        	lda	[<R2]
  9813 04:28A3: A0 02 00     	ldy	#$2
  9814 04:28A6: 17 09        	ora	[<R2],Y
  9815 04:28A8: D0 03        	bne	L409
  9816 04:28AA: 82 05 00     	brl	L10100
  9817                        L409:
  9818                        ;			{
  9819                        	.line	1564
  9820                        ;				i++;
  9821                        	.line	1565
  9822 04:28AD: E6 21        	inc	<L405+i_1
  9823                        ;			}
  9824                        	.line	1566
  9825 04:28AF: 82 CD FF     	brl	L10099
  9826                        L10100:
  9827                        ;
  9828                        ;			captions[i] = (LPCSTR)((PMENU)da
                    ta)->pCaption;
  9829                        	.line	1568
  9830 04:28B2: A5 21        	lda	<L405+i_1
  9831 04:28B4: 85 05        	sta	<R1
  9832 04:28B6: 64 07        	stz	<R1+2
  9833 04:28B8: D4 07        	pei	<R1+2
  9834 04:28BA: D4 05        	pei	<R1
  9835 04:28BC: A9 02 00     	lda	#$2
  9836                        	xref	~~~lasl
  9837 04:28BF: 22 xx xx xx  	jsl	~~~lasl
  9838 04:28C3: 85 01        	sta	<R0
  9839 04:28C5: 86 03        	stx	<R0+2
  9840 04:28C7: 18           	clc
  9841 04:28C8: A5 19        	lda	<L405+captions_1
  9842 04:28CA: 65 01        	adc	<R0
  9843 04:28CC: 85 09        	sta	<R2
  9844 04:28CE: A5 1B        	lda	<L405+captions_1+2
  9845 04:28D0: 65 03        	adc	<R0+2
  9846 04:28D2: 85 0B        	sta	<R2+2
  9847 04:28D4: A0 0F 00     	ldy	#$f
  9848 04:28D7: B7 2A        	lda	[<L404+data_0],Y
  9849 04:28D9: 87 09        	sta	[<R2]
  9850 04:28DB: A0 11 00     	ldy	#$11
  9851 04:28DE: B7 2A        	lda	[<L404+data_0],Y
  9852 04:28E0: A0 02 00     	ldy	#$2
  9853 04:28E3: 97 09        	sta	[<R2],Y
  9854                        ;			captions[i+1] = NULL;
  9855                        	.line	1569
  9856 04:28E5: A5 21        	lda	<L405+i_1
  9857 04:28E7: 1A           	ina
  9858 04:28E8: 85 05        	sta	<R1
  9859 04:28EA: A5 05        	lda	<R1
  9860 04:28EC: 85 05        	sta	<R1
  9861 04:28EE: 64 07        	stz	<R1+2
  9862 04:28F0: D4 07        	pei	<R1+2
  9863 04:28F2: D4 05        	pei	<R1
  Mon Dec  7 2020 11:19                                                Page 191


  9864 04:28F4: A9 02 00     	lda	#$2
  9865                        	xref	~~~lasl
  9866 04:28F7: 22 xx xx xx  	jsl	~~~lasl
  9867 04:28FB: 85 01        	sta	<R0
  9868 04:28FD: 86 03        	stx	<R0+2
  9869 04:28FF: 18           	clc
  9870 04:2900: A5 19        	lda	<L405+captions_1
  9871 04:2902: 65 01        	adc	<R0
  9872 04:2904: 85 09        	sta	<R2
  9873 04:2906: A5 1B        	lda	<L405+captions_1+2
  9874 04:2908: 65 03        	adc	<R0+2
  9875 04:290A: 85 0B        	sta	<R2+2
  9876 04:290C: A9 00 00     	lda	#$0
  9877 04:290F: 87 09        	sta	[<R2]
  9878 04:2911: A9 00 00     	lda	#$0
  9879 04:2914: A0 02 00     	ldy	#$2
  9880 04:2917: 97 09        	sta	[<R2],Y
  9881                        ;		}
  9882                        	.line	1570
  9883                        ;
  9884                        ;	}
  9885                        L10098:
  9886                        	.line	1572
  9887                        ;}
  9888                        L10097:
  9889                        	.line	1573
  9890                        L410:
  9891 04:2919: A5 24        	lda	<L404+2
  9892 04:291B: 85 2C        	sta	<L404+2+8
  9893 04:291D: A5 23        	lda	<L404+1
  9894 04:291F: 85 2B        	sta	<L404+1+8
  9895 04:2921: 2B           	pld
  9896 04:2922: 3B           	tsc
  9897 04:2923: 18           	clc
  9898 04:2924: 69 2A 00     	adc	#L404+8
  9899 04:2927: 1B           	tcs
  9900 04:2928: 6B           	rtl
  9901                        	.endblock	1573
  9902             00000022   L404	equ	34
  9903             0000000D   L405	equ	13
  9904 04:2929:              	ends
  9905                        	efunc
  9906                        	.endfunc	1573,13,34
  9907                        	.line	1573
  9908                        	data
  9909                        L403:
  9910 00:0751: 6B 5F 69 74  	db	$6B,$5F,$69,$74,$65,$72,$61,$74,$65,$5F,
                    $64,$72,$6F,$70,$64
       00:0755: 65 72 61 74 
       00:0759: 65 5F 64 72 
       00:075D: 6F 70 64 
  9911 00:0760: 6F 77 6E 5F  	db	$6F,$77,$6E,$5F,$6D,$65,$6E,$75,$73,$3A,
                    $00
       00:0764: 6D 65 6E 75 
       00:0768: 73 3A 00 
  9912 00:076B:              	ends
  9913                        ;
  9914                        ;
  Mon Dec  7 2020 11:19                                                Page 192


  9915                        ;PWINDOW	k_user_CreateMenuAnchor(HWND hWndParent,
                    LPCSTR caption,HMENU hMenu,int x,int y,int width,int height)
  9916                        ;{
  9917                        	.line	1576
  9918                        	.line	1577
  9919                        	WINMAN
  9920                        	xdef	~~k_user_CreateMenuAnchor
  9921                        	func
  9922                        	.function	1577
  9923                        ~~k_user_CreateMenuAnchor:
  9924                        	longa	on
  9925                        	longi	on
  9926 04:2929: 3B           	tsc
  9927 04:292A: 38           	sec
  9928 04:292B: E9 0C 00     	sbc	#L412
  9929 04:292E: 1B           	tcs
  9930 04:292F: 0B           	phd
  9931 04:2930: 5B           	tcd
  9932             00000004   hWndParent_0	set	4
  9933             00000008   caption_0	set	8
  9934             0000000C   hMenu_0	set	12
  9935             00000010   x_0	set	16
  9936             00000012   y_0	set	18
  9937             00000014   width_0	set	20
  9938             00000016   height_0	set	22
  9939                        	.block	1577
  9940                        ;	PWINDOW pWin = NULL;
  9941                        ;
  9942                        ;	//k_debug_strings("k_user_CreateMenuAnchor:","En
                    ter");
  9943                        ;
  9944                        ;	pWin = k_user_CreateWindow(FXWS_VISIBLE,
  9945             00000000   pWin_1	set	0
  9946                        	.sym	pWin,0,138,1,32,27
  9947                        	.sym	hWndParent,4,129,6,32
  9948                        	.sym	caption,8,142,6,32
  9949                        	.sym	hMenu,12,129,6,32
  9950                        	.sym	x,16,5,6,16
  9951                        	.sym	y,18,5,6,16
  9952                        	.sym	width,20,5,6,16
  9953                        	.sym	height,22,5,6,16
  9954 04:2931: 64 09        	stz	<L413+pWin_1
  9955 04:2933: 64 0B        	stz	<L413+pWin_1+2
  9956                        	.line	1582
  9957                        ;							
                       "menuAnchorWindowClass",
  9958                        ;							
                        caption,
  9959                        ;							
                    	x,y,
  9960                        ;							
                    	width,height,
  9961                        ;							
                    	hWndParent,
  9962                        ;							
                    	hMenu,
  9963                        ;							
                    	NULL);
  Mon Dec  7 2020 11:19                                                Page 193


  9964 04:2935: F4 00 00     	pea	#^$0
  9965 04:2938: F4 00 00     	pea	#<$0
  9966 04:293B: D4 1A        	pei	<L412+hMenu_0+2
  9967 04:293D: D4 18        	pei	<L412+hMenu_0
  9968 04:293F: D4 12        	pei	<L412+hWndParent_0+2
  9969 04:2941: D4 10        	pei	<L412+hWndParent_0
  9970 04:2943: D4 22        	pei	<L412+height_0
  9971 04:2945: D4 20        	pei	<L412+width_0
  9972 04:2947: D4 1E        	pei	<L412+y_0
  9973 04:2949: D4 1C        	pei	<L412+x_0
  9974 04:294B: D4 16        	pei	<L412+caption_0+2
  9975 04:294D: D4 14        	pei	<L412+caption_0
  9976 04:294F: F4 xx xx     	pea	#^L411
  9977 04:2952: F4 xx xx     	pea	#<L411
  9978 04:2955: F4 00 00     	pea	#^$1
  9979 04:2958: F4 01 00     	pea	#<$1
  9980 04:295B: 22 FB 16 04  	jsl	~~k_user_CreateWindow
  9981 04:295F: 85 09        	sta	<L413+pWin_1
  9982 04:2961: 86 0B        	stx	<L413+pWin_1+2
  9983                        ;	if(pWin)
  9984                        	.line	1590
  9985                        ;	{
  9986 04:2963: A5 09        	lda	<L413+pWin_1
  9987 04:2965: 05 0B        	ora	<L413+pWin_1+2
  9988 04:2967: D0 03        	bne	L415
  9989 04:2969: 82 4F 00     	brl	L10101
  9990                        L415:
  9991                        	.line	1591
  9992                        ;
  9993                        ;		//k_add_child_window(k_getWindowFromHand
                    le(hWndParent),pWin,k_update_hover_location);
  9994                        ;
  9995                        ;		//k_debug_strings("k_user_CreateButton:"
                    ,"k_send_window_message");
  9996                        ;		k_send_window_message(k_getHandleFromWin
                    dow(pWin),FX_CREATE_WINDOW,NULL,0);
  9997                        	.line	1596
  9998 04:296C: F4 00 00     	pea	#<$0
  9999 04:296F: F4 00 00     	pea	#^$0
 10000 04:2972: F4 00 00     	pea	#<$0
 10001 04:2975: F4 03 FF     	pea	#<$ff03
 10002 04:2978: D4 0B        	pei	<L413+pWin_1+2
 10003 04:297A: D4 09        	pei	<L413+pWin_1
 10004 04:297C: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
 10005 04:2980: 85 01        	sta	<R0
 10006 04:2982: 86 03        	stx	<R0+2
 10007 04:2984: DA           	phx
 10008 04:2985: 48           	pha
 10009 04:2986: 22 xx xx xx  	jsl	~~k_send_window_message
 10010                        ;		//k_debug_strings("k_user_CreateButton:"
                    ,"k_send_command_message");
 10011                        ;		k_send_command_message(k_getHandleFromWi
                    ndow(pWin),FX_CONTROL_COMMAND,CTL_CMD_CAPTION,0,(ULONG)k_str
                    ing_copy_string(caption),0L);
 10012                        	.line	1598
 10013 04:298A: F4 00 00     	pea	#^$0
 10014 04:298D: F4 00 00     	pea	#<$0
 10015 04:2990: D4 16        	pei	<L412+caption_0+2
  Mon Dec  7 2020 11:19                                                Page 194


 10016 04:2992: D4 14        	pei	<L412+caption_0
 10017 04:2994: 22 xx xx xx  	jsl	~~k_string_copy_string
 10018 04:2998: 85 01        	sta	<R0
 10019 04:299A: 86 03        	stx	<R0+2
 10020 04:299C: D4 03        	pei	<R0+2
 10021 04:299E: D4 01        	pei	<R0
 10022 04:29A0: F4 00 00     	pea	#<$0
 10023 04:29A3: F4 01 00     	pea	#<$1
 10024 04:29A6: F4 00 FA     	pea	#<$fa00
 10025 04:29A9: D4 0B        	pei	<L413+pWin_1+2
 10026 04:29AB: D4 09        	pei	<L413+pWin_1
 10027 04:29AD: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
 10028 04:29B1: 85 05        	sta	<R1
 10029 04:29B3: 86 07        	stx	<R1+2
 10030 04:29B5: DA           	phx
 10031 04:29B6: 48           	pha
 10032 04:29B7: 22 xx xx xx  	jsl	~~k_send_command_message
 10033                        ;
 10034                        ;	}
 10035                        	.line	1600
 10036                        ;
 10037                        ;	//k_debug_strings("k_user_CreateMenuAnchor:","Ex
                    it");
 10038                        ;
 10039                        ;	return pWin;
 10040                        L10101:
 10041                        	.line	1604
 10042 04:29BB: A6 0B        	ldx	<L413+pWin_1+2
 10043 04:29BD: A5 09        	lda	<L413+pWin_1
 10044                        L416:
 10045 04:29BF: A8           	tay
 10046 04:29C0: A5 0E        	lda	<L412+2
 10047 04:29C2: 85 22        	sta	<L412+2+20
 10048 04:29C4: A5 0D        	lda	<L412+1
 10049 04:29C6: 85 21        	sta	<L412+1+20
 10050 04:29C8: 2B           	pld
 10051 04:29C9: 3B           	tsc
 10052 04:29CA: 18           	clc
 10053 04:29CB: 69 20 00     	adc	#L412+20
 10054 04:29CE: 1B           	tcs
 10055 04:29CF: 98           	tya
 10056 04:29D0: 6B           	rtl
 10057                        ;}
 10058                        	.line	1605
 10059                        	.endblock	1605
 10060             0000000C   L412	equ	12
 10061             00000009   L413	equ	9
 10062 04:29D1:              	ends
 10063                        	efunc
 10064                        	.endfunc	1605,9,12
 10065                        	.line	1605
 10066                        	data
 10067                        L411:
 10068 00:076B: 6D 65 6E 75  	db	$6D,$65,$6E,$75,$41,$6E,$63,$68,$6F,$72,
                    $57,$69,$6E,$64,$6F
       00:076F: 41 6E 63 68 
       00:0773: 6F 72 57 69 
       00:0777: 6E 64 6F 
  Mon Dec  7 2020 11:19                                                Page 195


 10069 00:077A: 77 43 6C 61  	db	$77,$43,$6C,$61,$73,$73,$00
       00:077E: 73 73 00 
 10070 00:0781:              	ends
 10071                        ;
 10072                        ;BOOL menuAnchorWindowProc(PFXOSMESSAGE pMsg)
 10073                        ;{
 10074                        	.line	1607
 10075                        	.line	1608
 10076                        	WINMAN
 10077                        	xdef	~~menuAnchorWindowProc
 10078                        	func
 10079                        	.function	1608
 10080                        ~~menuAnchorWindowProc:
 10081                        	longa	on
 10082                        	longi	on
 10083 04:29D1: 3B           	tsc
 10084 04:29D2: 38           	sec
 10085 04:29D3: E9 16 00     	sbc	#L418
 10086 04:29D6: 1B           	tcs
 10087 04:29D7: 0B           	phd
 10088 04:29D8: 5B           	tcd
 10089             00000004   pMsg_0	set	4
 10090                        	.block	1608
 10091                        ;	PFXPROCESS p = NULL;
 10092                        ;	PWINDOW	   pWin = NULL;
 10093                        ;	PMENUANCHOR	   pMenuAnchor = NULL;
 10094                        ;
 10095                        ;	UINT	   size = 0;
 10096                        ;
 10097                        ;	if(pMsg!=NULL)
 10098             00000000   p_1	set	0
 10099             00000004   pWin_1	set	4
 10100             00000008   pMenuAnchor_1	set	8
 10101             0000000C   size_1	set	12
 10102                        	.sym	p,0,138,1,32,17
 10103                        	.sym	pWin,4,138,1,32,27
 10104                        	.sym	pMenuAnchor,8,138,1,32,38
 10105                        	.sym	size,12,16,1,16
 10106                        	.sym	pMsg,4,138,6,32,13
 10107 04:29D9: 64 09        	stz	<L419+p_1
 10108 04:29DB: 64 0B        	stz	<L419+p_1+2
 10109 04:29DD: 64 0D        	stz	<L419+pWin_1
 10110 04:29DF: 64 0F        	stz	<L419+pWin_1+2
 10111 04:29E1: 64 11        	stz	<L419+pMenuAnchor_1
 10112 04:29E3: 64 13        	stz	<L419+pMenuAnchor_1+2
 10113 04:29E5: 64 15        	stz	<L419+size_1
 10114                        	.line	1615
 10115                        ;	{
 10116 04:29E7: A5 1A        	lda	<L418+pMsg_0
 10117 04:29E9: 05 1C        	ora	<L418+pMsg_0+2
 10118 04:29EB: D0 03        	bne	L421
 10119 04:29ED: 82 87 02     	brl	L10102
 10120                        L421:
 10121                        	.line	1616
 10122                        ;		p = k_exec_get_current_process();
 10123                        	.line	1617
 10124 04:29F0: 22 xx xx xx  	jsl	~~k_exec_get_current_process
 10125 04:29F4: 85 09        	sta	<L419+p_1
  Mon Dec  7 2020 11:19                                                Page 196


 10126 04:29F6: 86 0B        	stx	<L419+p_1+2
 10127                        ;		pWin = k_getWindowFromHandle(pMsg->hwnd)
                    ;
 10128                        	.line	1618
 10129 04:29F8: A0 0C 00     	ldy	#$c
 10130 04:29FB: B7 1A        	lda	[<L418+pMsg_0],Y
 10131 04:29FD: 48           	pha
 10132 04:29FE: A0 0A 00     	ldy	#$a
 10133 04:2A01: B7 1A        	lda	[<L418+pMsg_0],Y
 10134 04:2A03: 48           	pha
 10135 04:2A04: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
 10136 04:2A08: 85 0D        	sta	<L419+pWin_1
 10137 04:2A0A: 86 0F        	stx	<L419+pWin_1+2
 10138                        ;		pMenuAnchor = (PMENUANCHOR)pWin->windowD
                    ata;
 10139                        	.line	1619
 10140 04:2A0C: A0 45 01     	ldy	#$145
 10141 04:2A0F: B7 0D        	lda	[<L419+pWin_1],Y
 10142 04:2A11: 85 11        	sta	<L419+pMenuAnchor_1
 10143 04:2A13: A0 47 01     	ldy	#$147
 10144 04:2A16: B7 0D        	lda	[<L419+pWin_1],Y
 10145 04:2A18: 85 13        	sta	<L419+pMenuAnchor_1+2
 10146                        ;		//pButton = ((PBUTTON)pWin->windowData);
 10147                        ;		//k_debug_long("consoleWindowProc::Proce
                    ssId:",p->procId);
 10148                        ;
 10149                        ;		switch(pMsg->type)
 10150                        	.line	1623
 10151 04:2A1A: A0 08 00     	ldy	#$8
 10152 04:2A1D: B7 1A        	lda	[<L418+pMsg_0],Y
 10153 04:2A1F: 82 25 02     	brl	L10103
 10154                        ;		{
 10155                        	.line	1624
 10156                        ;		case FX_CREATE_WINDOW:
 10157                        	.line	1625
 10158                        L10105:
 10159                        ;			//k_debug_long("menuAnchorWindow
                    Proc::ProcessId:",p->procId);
 10160                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_CREATE_WINDOW\r\n");
 10161                        	.line	1627
 10162 04:2A22: F4 xx xx     	pea	#^L417
 10163 04:2A25: F4 xx xx     	pea	#<L417
 10164 04:2A28: 22 xx xx xx  	jsl	~~k_debug_string
 10165                        ;
 10166                        ;			//pWin->windowData = k_mem_alloc
                    ate_heap(sizeof(BUTTON));
 10167                        ;			pWin->windowData = k_mem_allocat
                    e_heap(sizeof(MENUANCHOR));
 10168                        	.line	1630
 10169 04:2A2C: F4 12 00     	pea	#<$12
 10170 04:2A2F: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 10171 04:2A33: 85 01        	sta	<R0
 10172 04:2A35: 86 03        	stx	<R0+2
 10173 04:2A37: A5 01        	lda	<R0
 10174 04:2A39: A0 45 01     	ldy	#$145
 10175 04:2A3C: 97 0D        	sta	[<L419+pWin_1],Y
 10176 04:2A3E: A5 03        	lda	<R0+2
  Mon Dec  7 2020 11:19                                                Page 197


 10177 04:2A40: A0 47 01     	ldy	#$147
 10178 04:2A43: 97 0D        	sta	[<L419+pWin_1],Y
 10179                        ;			(pMenuAnchor)->renderLayoutX = p
                    Win->win_x + FONTW;
 10180                        	.line	1631
 10181 04:2A45: 22 xx xx xx  	jsl	~~k_font_getFontWidth
 10182 04:2A49: 85 01        	sta	<R0
 10183 04:2A4B: 18           	clc
 10184 04:2A4C: A5 01        	lda	<R0
 10185 04:2A4E: A0 08 00     	ldy	#$8
 10186 04:2A51: 77 0D        	adc	[<L419+pWin_1],Y
 10187 04:2A53: A0 04 00     	ldy	#$4
 10188 04:2A56: 97 11        	sta	[<L419+pMenuAnchor_1],Y
 10189                        ;			(pMenuAnchor)->renderLayoutY = p
                    Win->win_y + FONTH;
 10190                        	.line	1632
 10191 04:2A58: 22 xx xx xx  	jsl	~~k_font_getFontHeight
 10192 04:2A5C: 85 01        	sta	<R0
 10193 04:2A5E: 18           	clc
 10194 04:2A5F: A5 01        	lda	<R0
 10195 04:2A61: A0 0A 00     	ldy	#$a
 10196 04:2A64: 77 0D        	adc	[<L419+pWin_1],Y
 10197 04:2A66: A0 06 00     	ldy	#$6
 10198 04:2A69: 97 11        	sta	[<L419+pMenuAnchor_1],Y
 10199                        ;
 10200                        ;			break;
 10201                        	.line	1634
 10202 04:2A6B: 82 09 02     	brl	L10104
 10203                        ;		case FX_REDRAW_WINDOW:
 10204                        	.line	1635
 10205                        L10106:
 10206                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_REDRAW_WINDOW\r\n");
 10207                        	.line	1636
 10208 04:2A6E: F4 xx xx     	pea	#^L417+41
 10209 04:2A71: F4 xx xx     	pea	#<L417+41
 10210 04:2A74: 22 xx xx xx  	jsl	~~k_debug_string
 10211                        ;			break;
 10212                        	.line	1637
 10213 04:2A78: 82 FC 01     	brl	L10104
 10214                        ;
 10215                        ;		case FX_HIDE_WINDOW:
 10216                        	.line	1639
 10217                        L10107:
 10218                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_HIDE_WINDOW\r\n");
 10219                        	.line	1640
 10220 04:2A7B: F4 xx xx     	pea	#^L417+82
 10221 04:2A7E: F4 xx xx     	pea	#<L417+82
 10222 04:2A81: 22 xx xx xx  	jsl	~~k_debug_string
 10223                        ;
 10224                        ;			pWin->isVisible = FALSE;
 10225                        	.line	1642
 10226 04:2A85: E2 20        	sep	#$20
 10227                        	longa	off
 10228 04:2A87: A9 00        	lda	#$0
 10229 04:2A89: A0 44 01     	ldy	#$144
 10230 04:2A8C: 97 0D        	sta	[<L419+pWin_1],Y
  Mon Dec  7 2020 11:19                                                Page 198


 10231 04:2A8E: C2 20        	rep	#$20
 10232                        	longa	on
 10233                        ;
 10234                        ;			break;
 10235                        	.line	1644
 10236 04:2A90: 82 E4 01     	brl	L10104
 10237                        ;		case FX_SHOW_WINDOW:
 10238                        	.line	1645
 10239                        L10108:
 10240                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_SHOW_WINDOW\r\n");
 10241                        	.line	1646
 10242 04:2A93: F4 xx xx     	pea	#^L417+121
 10243 04:2A96: F4 xx xx     	pea	#<L417+121
 10244 04:2A99: 22 xx xx xx  	jsl	~~k_debug_string
 10245                        ;
 10246                        ;			pWin->isVisible = TRUE;
 10247                        	.line	1648
 10248 04:2A9D: E2 20        	sep	#$20
 10249                        	longa	off
 10250 04:2A9F: A9 01        	lda	#$1
 10251 04:2AA1: A0 44 01     	ldy	#$144
 10252 04:2AA4: 97 0D        	sta	[<L419+pWin_1],Y
 10253 04:2AA6: C2 20        	rep	#$20
 10254                        	longa	on
 10255                        ;			k_func_drawAnchorText(pWin,k_get
                    UIGadgetColor(),k_getUIMenuColor());
 10256                        	.line	1649
 10257 04:2AA8: 22 xx xx xx  	jsl	~~k_getUIMenuColor
 10258 04:2AAC: 48           	pha
 10259 04:2AAD: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 10260 04:2AB1: 48           	pha
 10261 04:2AB2: D4 0F        	pei	<L419+pWin_1+2
 10262 04:2AB4: D4 0D        	pei	<L419+pWin_1
 10263 04:2AB6: 22 8C 2C 04  	jsl	~~k_func_drawAnchorText
 10264                        ;
 10265                        ;			break;
 10266                        	.line	1651
 10267 04:2ABA: 82 BA 01     	brl	L10104
 10268                        ;		case FX_DRAW_WINDOW:
 10269                        	.line	1652
 10270                        L10109:
 10271                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_DRAW_WINDOW\r\n");
 10272                        	.line	1653
 10273 04:2ABD: F4 xx xx     	pea	#^L417+160
 10274 04:2AC0: F4 xx xx     	pea	#<L417+160
 10275 04:2AC3: 22 xx xx xx  	jsl	~~k_debug_string
 10276                        ;			if(pWin->isVisible)
 10277                        	.line	1654
 10278                        ;			{
 10279 04:2AC7: A0 44 01     	ldy	#$144
 10280 04:2ACA: B7 0D        	lda	[<L419+pWin_1],Y
 10281 04:2ACC: 29 FF 00     	and	#$ff
 10282 04:2ACF: D0 03        	bne	L422
 10283 04:2AD1: 82 12 00     	brl	L10110
 10284                        L422:
 10285                        	.line	1655
  Mon Dec  7 2020 11:19                                                Page 199


 10286                        ;				k_func_drawAnchorText(pW
                    in,k_getUIGadgetColor(),k_getUIMenuColor());
 10287                        	.line	1656
 10288 04:2AD4: 22 xx xx xx  	jsl	~~k_getUIMenuColor
 10289 04:2AD8: 48           	pha
 10290 04:2AD9: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 10291 04:2ADD: 48           	pha
 10292 04:2ADE: D4 0F        	pei	<L419+pWin_1+2
 10293 04:2AE0: D4 0D        	pei	<L419+pWin_1
 10294 04:2AE2: 22 8C 2C 04  	jsl	~~k_func_drawAnchorText
 10295                        ;			}
 10296                        	.line	1657
 10297                        ;
 10298                        ;			break;
 10299                        L10110:
 10300                        	.line	1659
 10301 04:2AE6: 82 8E 01     	brl	L10104
 10302                        ;		case FX_LBUTTON_DOWN:
 10303                        	.line	1660
 10304                        L10111:
 10305                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_LBUTTON_DOWN\r\n");
 10306                        	.line	1661
 10307 04:2AE9: F4 xx xx     	pea	#^L417+199
 10308 04:2AEC: F4 xx xx     	pea	#<L417+199
 10309 04:2AEF: 22 xx xx xx  	jsl	~~k_debug_string
 10310                        ;
 10311                        ;
 10312                        ;			if(pMenuAnchor->droppedWindow &&
                     !pMenuAnchor->droppedWindow->isClosed)
 10313                        	.line	1664
 10314                        ;			{
 10315 04:2AF3: A0 0E 00     	ldy	#$e
 10316 04:2AF6: B7 11        	lda	[<L419+pMenuAnchor_1],Y
 10317 04:2AF8: A0 10 00     	ldy	#$10
 10318 04:2AFB: 17 11        	ora	[<L419+pMenuAnchor_1],Y
 10319 04:2AFD: D0 03        	bne	L423
 10320 04:2AFF: 82 28 00     	brl	L10112
 10321                        L423:
 10322 04:2B02: A0 0E 00     	ldy	#$e
 10323 04:2B05: B7 11        	lda	[<L419+pMenuAnchor_1],Y
 10324 04:2B07: 85 01        	sta	<R0
 10325 04:2B09: A0 10 00     	ldy	#$10
 10326 04:2B0C: B7 11        	lda	[<L419+pMenuAnchor_1],Y
 10327 04:2B0E: 85 03        	sta	<R0+2
 10328 04:2B10: A0 61 01     	ldy	#$161
 10329 04:2B13: B7 01        	lda	[<R0],Y
 10330 04:2B15: 29 FF 00     	and	#$ff
 10331 04:2B18: F0 03        	beq	L424
 10332 04:2B1A: 82 0D 00     	brl	L10112
 10333                        L424:
 10334                        	.line	1665
 10335                        ;
 10336                        ;				k_debug_string("menuAnch
                    orWindowProc::WINDOW STILL DROPPED\r\n");
 10337                        	.line	1667
 10338 04:2B1D: F4 xx xx     	pea	#^L417+239
 10339 04:2B20: F4 xx xx     	pea	#<L417+239
  Mon Dec  7 2020 11:19                                                Page 200


 10340 04:2B23: 22 xx xx xx  	jsl	~~k_debug_string
 10341                        ;			}
 10342                        	.line	1668
 10343                        ;			else
 10344 04:2B27: 82 63 00     	brl	L10113
 10345                        L10112:
 10346                        ;			{
 10347                        	.line	1670
 10348                        ;				pMenuAnchor->droppedWind
                    ow =
 10349                        	.line	1671
 10350                        ;				k_user_CreateMenuDropDow
                    n(k_user_getDesktopWindow(),
 10351                        ;							
                    			  ((PMENU)pWin->hMenu)->pCaption,
 10352                        ;							
                    			  (PMENU)pWin->hMenu,
 10353                        ;							
                    			  pWin->win_x,
 10354                        ;							
                    			  pWin->win_y + pWin->win_height + 1,
 10355                        ;							
                    			  -1,-1);
 10356 04:2B2A: F4 FF FF     	pea	#<$ffffffff
 10357 04:2B2D: F4 FF FF     	pea	#<$ffffffff
 10358 04:2B30: 18           	clc
 10359 04:2B31: A0 0A 00     	ldy	#$a
 10360 04:2B34: B7 0D        	lda	[<L419+pWin_1],Y
 10361 04:2B36: A0 0E 00     	ldy	#$e
 10362 04:2B39: 77 0D        	adc	[<L419+pWin_1],Y
 10363 04:2B3B: 85 01        	sta	<R0
 10364 04:2B3D: A5 01        	lda	<R0
 10365 04:2B3F: 1A           	ina
 10366 04:2B40: 48           	pha
 10367 04:2B41: A0 08 00     	ldy	#$8
 10368 04:2B44: B7 0D        	lda	[<L419+pWin_1],Y
 10369 04:2B46: 48           	pha
 10370 04:2B47: A0 3A 01     	ldy	#$13a
 10371 04:2B4A: B7 0D        	lda	[<L419+pWin_1],Y
 10372 04:2B4C: 48           	pha
 10373 04:2B4D: A0 38 01     	ldy	#$138
 10374 04:2B50: B7 0D        	lda	[<L419+pWin_1],Y
 10375 04:2B52: 48           	pha
 10376 04:2B53: A0 38 01     	ldy	#$138
 10377 04:2B56: B7 0D        	lda	[<L419+pWin_1],Y
 10378 04:2B58: 85 01        	sta	<R0
 10379 04:2B5A: A0 3A 01     	ldy	#$13a
 10380 04:2B5D: B7 0D        	lda	[<L419+pWin_1],Y
 10381 04:2B5F: 85 03        	sta	<R0+2
 10382 04:2B61: A0 11 00     	ldy	#$11
 10383 04:2B64: B7 01        	lda	[<R0],Y
 10384 04:2B66: 48           	pha
 10385 04:2B67: A0 0F 00     	ldy	#$f
 10386 04:2B6A: B7 01        	lda	[<R0],Y
 10387 04:2B6C: 48           	pha
 10388 04:2B6D: 22 15 06 04  	jsl	~~k_user_getDesktopWindow
 10389 04:2B71: 85 01        	sta	<R0
 10390 04:2B73: 86 03        	stx	<R0+2
  Mon Dec  7 2020 11:19                                                Page 201


 10391 04:2B75: DA           	phx
 10392 04:2B76: 48           	pha
 10393 04:2B77: 22 6F 2F 04  	jsl	~~k_user_CreateMenuDropDown
 10394 04:2B7B: 85 05        	sta	<R1
 10395 04:2B7D: 86 07        	stx	<R1+2
 10396 04:2B7F: A5 05        	lda	<R1
 10397 04:2B81: A0 0E 00     	ldy	#$e
 10398 04:2B84: 97 11        	sta	[<L419+pMenuAnchor_1],Y
 10399 04:2B86: A5 07        	lda	<R1+2
 10400 04:2B88: A0 10 00     	ldy	#$10
 10401 04:2B8B: 97 11        	sta	[<L419+pMenuAnchor_1],Y
 10402                        ;			}
 10403                        	.line	1678
 10404                        L10113:
 10405                        ;			break;
 10406                        	.line	1679
 10407 04:2B8D: 82 E7 00     	brl	L10104
 10408                        ;		case FX_LBUTTON_UP:
 10409                        	.line	1680
 10410                        L10114:
 10411                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_LBUTTON_UP\r\n");
 10412                        	.line	1681
 10413 04:2B90: F4 xx xx     	pea	#^L417+284
 10414 04:2B93: F4 xx xx     	pea	#<L417+284
 10415 04:2B96: 22 xx xx xx  	jsl	~~k_debug_string
 10416                        ;			break;
 10417                        	.line	1682
 10418 04:2B9A: 82 DA 00     	brl	L10104
 10419                        ;		case FX_MOUSE_ENTER:
 10420                        	.line	1683
 10421                        L10115:
 10422                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_MOUSE_ENTER\r\n");
 10423                        	.line	1684
 10424 04:2B9D: F4 xx xx     	pea	#^L417+322
 10425 04:2BA0: F4 xx xx     	pea	#<L417+322
 10426 04:2BA3: 22 xx xx xx  	jsl	~~k_debug_string
 10427                        ;			k_func_drawAnchorText(pWin,k_get
                    UIMenuColor(),k_getUIGadgetColor());
 10428                        	.line	1685
 10429 04:2BA7: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 10430 04:2BAB: 48           	pha
 10431 04:2BAC: 22 xx xx xx  	jsl	~~k_getUIMenuColor
 10432 04:2BB0: 48           	pha
 10433 04:2BB1: D4 0F        	pei	<L419+pWin_1+2
 10434 04:2BB3: D4 0D        	pei	<L419+pWin_1
 10435 04:2BB5: 22 8C 2C 04  	jsl	~~k_func_drawAnchorText
 10436                        ;
 10437                        ;			break;
 10438                        	.line	1687
 10439 04:2BB9: 82 BB 00     	brl	L10104
 10440                        ;		case FX_MOUSE_EXIT:
 10441                        	.line	1688
 10442                        L10116:
 10443                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_MOUSE_EXIT\r\n");
 10444                        	.line	1689
  Mon Dec  7 2020 11:19                                                Page 202


 10445 04:2BBC: F4 xx xx     	pea	#^L417+361
 10446 04:2BBF: F4 xx xx     	pea	#<L417+361
 10447 04:2BC2: 22 xx xx xx  	jsl	~~k_debug_string
 10448                        ;			k_func_drawAnchorText(pWin,k_get
                    UIGadgetColor(),k_getUIMenuColor());
 10449                        	.line	1690
 10450 04:2BC6: 22 xx xx xx  	jsl	~~k_getUIMenuColor
 10451 04:2BCA: 48           	pha
 10452 04:2BCB: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 10453 04:2BCF: 48           	pha
 10454 04:2BD0: D4 0F        	pei	<L419+pWin_1+2
 10455 04:2BD2: D4 0D        	pei	<L419+pWin_1
 10456 04:2BD4: 22 8C 2C 04  	jsl	~~k_func_drawAnchorText
 10457                        ;			break;
 10458                        	.line	1691
 10459 04:2BD8: 82 9C 00     	brl	L10104
 10460                        ;		case FX_CONTROL_COMMAND:
 10461                        	.line	1692
 10462                        L10117:
 10463                        ;			k_debug_string("menuAnchorWindow
                    Proc::FX_CONTROL_COMMAND\r\n");
 10464                        	.line	1693
 10465 04:2BDB: F4 xx xx     	pea	#^L417+399
 10466 04:2BDE: F4 xx xx     	pea	#<L417+399
 10467 04:2BE1: 22 xx xx xx  	jsl	~~k_debug_string
 10468                        ;
 10469                        ;			if( ((PFXCMDMESSAGE)pMsg)->cmdCI
                    d == CTL_CMD_CAPTION )
 10470                        	.line	1695
 10471                        ;			{
 10472 04:2BE5: A0 16 00     	ldy	#$16
 10473 04:2BE8: B7 1A        	lda	[<L418+pMsg_0],Y
 10474 04:2BEA: C9 01 00     	cmp	#<$1
 10475 04:2BED: F0 03        	beq	L425
 10476 04:2BEF: 82 4F 00     	brl	L10118
 10477                        L425:
 10478                        	.line	1696
 10479                        ;				pMenuAnchor->pCaption = 
                    (LPCHAR)((PFXCMDMESSAGE)pMsg)->parameter1;
 10480                        	.line	1697
 10481 04:2BF2: A0 1A 00     	ldy	#$1a
 10482 04:2BF5: B7 1A        	lda	[<L418+pMsg_0],Y
 10483 04:2BF7: 87 11        	sta	[<L419+pMenuAnchor_1]
 10484 04:2BF9: A0 1C 00     	ldy	#$1c
 10485 04:2BFC: B7 1A        	lda	[<L418+pMsg_0],Y
 10486 04:2BFE: A0 02 00     	ldy	#$2
 10487 04:2C01: 97 11        	sta	[<L419+pMenuAnchor_1],Y
 10488                        ;
 10489                        ;				if(pMenuAnchor->pCaption
                     && pWin->isVisible)
 10490                        	.line	1699
 10491                        ;				{
 10492 04:2C03: A7 11        	lda	[<L419+pMenuAnchor_1]
 10493 04:2C05: A0 02 00     	ldy	#$2
 10494 04:2C08: 17 11        	ora	[<L419+pMenuAnchor_1],Y
 10495 04:2C0A: D0 03        	bne	L426
 10496 04:2C0C: 82 32 00     	brl	L10119
 10497                        L426:
  Mon Dec  7 2020 11:19                                                Page 203


 10498 04:2C0F: A0 44 01     	ldy	#$144
 10499 04:2C12: B7 0D        	lda	[<L419+pWin_1],Y
 10500 04:2C14: 29 FF 00     	and	#$ff
 10501 04:2C17: D0 03        	bne	L427
 10502 04:2C19: 82 25 00     	brl	L10119
 10503                        L427:
 10504                        	.line	1700
 10505                        ;					k_debug_strings(
                    "menuAnchorWindowProc::CTL_CMD_CAPTION:", (LPCHAR)pMenuAncho
                    r->pCaption );
 10506                        	.line	1701
 10507 04:2C1C: A0 02 00     	ldy	#$2
 10508 04:2C1F: B7 11        	lda	[<L419+pMenuAnchor_1],Y
 10509 04:2C21: 48           	pha
 10510 04:2C22: A7 11        	lda	[<L419+pMenuAnchor_1]
 10511 04:2C24: 48           	pha
 10512 04:2C25: F4 xx xx     	pea	#^L417+442
 10513 04:2C28: F4 xx xx     	pea	#<L417+442
 10514 04:2C2B: 22 xx xx xx  	jsl	~~k_debug_strings
 10515                        ;					k_func_drawAncho
                    rText(pWin,k_getUIGadgetColor(),k_getUIMenuColor());
 10516                        	.line	1702
 10517 04:2C2F: 22 xx xx xx  	jsl	~~k_getUIMenuColor
 10518 04:2C33: 48           	pha
 10519 04:2C34: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 10520 04:2C38: 48           	pha
 10521 04:2C39: D4 0F        	pei	<L419+pWin_1+2
 10522 04:2C3B: D4 0D        	pei	<L419+pWin_1
 10523 04:2C3D: 22 8C 2C 04  	jsl	~~k_func_drawAnchorText
 10524                        ;				}
 10525                        	.line	1703
 10526                        ;			}
 10527                        L10119:
 10528                        	.line	1704
 10529                        ;
 10530                        ;			break;
 10531                        L10118:
 10532                        	.line	1706
 10533 04:2C41: 82 33 00     	brl	L10104
 10534                        ;		default:
 10535                        	.line	1707
 10536                        L10120:
 10537                        ;			break;
 10538                        	.line	1708
 10539 04:2C44: 82 30 00     	brl	L10104
 10540                        ;		}
 10541                        	.line	1709
 10542                        L10103:
 10543                        	xref	~~~swt
 10544 04:2C47: 22 xx xx xx  	jsl	~~~swt
 10545 04:2C4B: 0A 00        	dw	10
 10546 04:2C4D: 01 0F        	dw	3841
 10547 04:2C4F: 9C 2B        	dw	L10115-1
 10548 04:2C51: 02 0F        	dw	3842
 10549 04:2C53: BB 2B        	dw	L10116-1
 10550 04:2C55: 04 0F        	dw	3844
 10551 04:2C57: E8 2A        	dw	L10111-1
 10552 04:2C59: 06 0F        	dw	3846
  Mon Dec  7 2020 11:19                                                Page 204


 10553 04:2C5B: 8F 2B        	dw	L10114-1
 10554 04:2C5D: 00 FA        	dw	64000
 10555 04:2C5F: DA 2B        	dw	L10117-1
 10556 04:2C61: 00 FB        	dw	64256
 10557 04:2C63: BC 2A        	dw	L10109-1
 10558 04:2C65: 05 FB        	dw	64261
 10559 04:2C67: 92 2A        	dw	L10108-1
 10560 04:2C69: 06 FB        	dw	64262
 10561 04:2C6B: 7A 2A        	dw	L10107-1
 10562 04:2C6D: 07 FB        	dw	64263
 10563 04:2C6F: 6D 2A        	dw	L10106-1
 10564 04:2C71: 03 FF        	dw	65283
 10565 04:2C73: 21 2A        	dw	L10105-1
 10566 04:2C75: 43 2C        	dw	L10120-1
 10567                        L10104:
 10568                        ;	}
 10569                        	.line	1710
 10570                        ;
 10571                        ;	return TRUE;
 10572                        L10102:
 10573                        	.line	1712
 10574 04:2C77: A9 01 00     	lda	#$1
 10575                        L428:
 10576 04:2C7A: A8           	tay
 10577 04:2C7B: A5 18        	lda	<L418+2
 10578 04:2C7D: 85 1C        	sta	<L418+2+4
 10579 04:2C7F: A5 17        	lda	<L418+1
 10580 04:2C81: 85 1B        	sta	<L418+1+4
 10581 04:2C83: 2B           	pld
 10582 04:2C84: 3B           	tsc
 10583 04:2C85: 18           	clc
 10584 04:2C86: 69 1A 00     	adc	#L418+4
 10585 04:2C89: 1B           	tcs
 10586 04:2C8A: 98           	tya
 10587 04:2C8B: 6B           	rtl
 10588                        ;
 10589                        ;}
 10590                        	.line	1714
 10591                        	.endblock	1714
 10592             00000016   L418	equ	22
 10593             00000009   L419	equ	9
 10594 04:2C8C:              	ends
 10595                        	efunc
 10596                        	.endfunc	1714,9,22
 10597                        	.line	1714
 10598                        	data
 10599                        L417:
 10600 00:0781: 6D 65 6E 75  	db	$6D,$65,$6E,$75,$41,$6E,$63,$68,$6F,$72,
                    $57,$69,$6E,$64,$6F
       00:0785: 41 6E 63 68 
       00:0789: 6F 72 57 69 
       00:078D: 6E 64 6F 
 10601 00:0790: 77 50 72 6F  	db	$77,$50,$72,$6F,$63,$3A,$3A,$46,$58,$5F,
                    $43,$52,$45,$41,$54
       00:0794: 63 3A 3A 46 
       00:0798: 58 5F 43 52 
       00:079C: 45 41 54 
 10602 00:079F: 45 5F 57 49  	db	$45,$5F,$57,$49,$4E,$44,$4F,$57,$0D,$0A,
  Mon Dec  7 2020 11:19                                                Page 205


                    $00,$6D,$65,$6E,$75
       00:07A3: 4E 44 4F 57 
       00:07A7: 0D 0A 00 6D 
       00:07AB: 65 6E 75 
 10603 00:07AE: 41 6E 63 68  	db	$41,$6E,$63,$68,$6F,$72,$57,$69,$6E,$64,
                    $6F,$77,$50,$72,$6F
       00:07B2: 6F 72 57 69 
       00:07B6: 6E 64 6F 77 
       00:07BA: 50 72 6F 
 10604 00:07BD: 63 3A 3A 46  	db	$63,$3A,$3A,$46,$58,$5F,$52,$45,$44,$52,
                    $41,$57,$5F,$57,$49
       00:07C1: 58 5F 52 45 
       00:07C5: 44 52 41 57 
       00:07C9: 5F 57 49 
 10605 00:07CC: 4E 44 4F 57  	db	$4E,$44,$4F,$57,$0D,$0A,$00,$6D,$65,$6E,
                    $75,$41,$6E,$63,$68
       00:07D0: 0D 0A 00 6D 
       00:07D4: 65 6E 75 41 
       00:07D8: 6E 63 68 
 10606 00:07DB: 6F 72 57 69  	db	$6F,$72,$57,$69,$6E,$64,$6F,$77,$50,$72,
                    $6F,$63,$3A,$3A,$46
       00:07DF: 6E 64 6F 77 
       00:07E3: 50 72 6F 63 
       00:07E7: 3A 3A 46 
 10607 00:07EA: 58 5F 48 49  	db	$58,$5F,$48,$49,$44,$45,$5F,$57,$49,$4E,
                    $44,$4F,$57,$0D,$0A
       00:07EE: 44 45 5F 57 
       00:07F2: 49 4E 44 4F 
       00:07F6: 57 0D 0A 
 10608 00:07F9: 00 6D 65 6E  	db	$00,$6D,$65,$6E,$75,$41,$6E,$63,$68,$6F,
                    $72,$57,$69,$6E,$64
       00:07FD: 75 41 6E 63 
       00:0801: 68 6F 72 57 
       00:0805: 69 6E 64 
 10609 00:0808: 6F 77 50 72  	db	$6F,$77,$50,$72,$6F,$63,$3A,$3A,$46,$58,
                    $5F,$53,$48,$4F,$57
       00:080C: 6F 63 3A 3A 
       00:0810: 46 58 5F 53 
       00:0814: 48 4F 57 
 10610 00:0817: 5F 57 49 4E  	db	$5F,$57,$49,$4E,$44,$4F,$57,$0D,$0A,$00,
                    $6D,$65,$6E,$75,$41
       00:081B: 44 4F 57 0D 
       00:081F: 0A 00 6D 65 
       00:0823: 6E 75 41 
 10611 00:0826: 6E 63 68 6F  	db	$6E,$63,$68,$6F,$72,$57,$69,$6E,$64,$6F,
                    $77,$50,$72,$6F,$63
       00:082A: 72 57 69 6E 
       00:082E: 64 6F 77 50 
       00:0832: 72 6F 63 
 10612 00:0835: 3A 3A 46 58  	db	$3A,$3A,$46,$58,$5F,$44,$52,$41,$57,$5F,
                    $57,$49,$4E,$44,$4F
       00:0839: 5F 44 52 41 
       00:083D: 57 5F 57 49 
       00:0841: 4E 44 4F 
 10613 00:0844: 57 0D 0A 00  	db	$57,$0D,$0A,$00,$6D,$65,$6E,$75,$41,$6E,
                    $63,$68,$6F,$72,$57
       00:0848: 6D 65 6E 75 
       00:084C: 41 6E 63 68 
  Mon Dec  7 2020 11:19                                                Page 206


       00:0850: 6F 72 57 
 10614 00:0853: 69 6E 64 6F  	db	$69,$6E,$64,$6F,$77,$50,$72,$6F,$63,$3A,
                    $3A,$46,$58,$5F,$4C
       00:0857: 77 50 72 6F 
       00:085B: 63 3A 3A 46 
       00:085F: 58 5F 4C 
 10615 00:0862: 42 55 54 54  	db	$42,$55,$54,$54,$4F,$4E,$5F,$44,$4F,$57,
                    $4E,$0D,$0A,$00,$6D
       00:0866: 4F 4E 5F 44 
       00:086A: 4F 57 4E 0D 
       00:086E: 0A 00 6D 
 10616 00:0871: 65 6E 75 41  	db	$65,$6E,$75,$41,$6E,$63,$68,$6F,$72,$57,
                    $69,$6E,$64,$6F,$77
       00:0875: 6E 63 68 6F 
       00:0879: 72 57 69 6E 
       00:087D: 64 6F 77 
 10617 00:0880: 50 72 6F 63  	db	$50,$72,$6F,$63,$3A,$3A,$57,$49,$4E,$44,
                    $4F,$57,$20,$53,$54
       00:0884: 3A 3A 57 49 
       00:0888: 4E 44 4F 57 
       00:088C: 20 53 54 
 10618 00:088F: 49 4C 4C 20  	db	$49,$4C,$4C,$20,$44,$52,$4F,$50,$50,$45,
                    $44,$0D,$0A,$00,$6D
       00:0893: 44 52 4F 50 
       00:0897: 50 45 44 0D 
       00:089B: 0A 00 6D 
 10619 00:089E: 65 6E 75 41  	db	$65,$6E,$75,$41,$6E,$63,$68,$6F,$72,$57,
                    $69,$6E,$64,$6F,$77
       00:08A2: 6E 63 68 6F 
       00:08A6: 72 57 69 6E 
       00:08AA: 64 6F 77 
 10620 00:08AD: 50 72 6F 63  	db	$50,$72,$6F,$63,$3A,$3A,$46,$58,$5F,$4C,
                    $42,$55,$54,$54,$4F
       00:08B1: 3A 3A 46 58 
       00:08B5: 5F 4C 42 55 
       00:08B9: 54 54 4F 
 10621 00:08BC: 4E 5F 55 50  	db	$4E,$5F,$55,$50,$0D,$0A,$00,$6D,$65,$6E,
                    $75,$41,$6E,$63,$68
       00:08C0: 0D 0A 00 6D 
       00:08C4: 65 6E 75 41 
       00:08C8: 6E 63 68 
 10622 00:08CB: 6F 72 57 69  	db	$6F,$72,$57,$69,$6E,$64,$6F,$77,$50,$72,
                    $6F,$63,$3A,$3A,$46
       00:08CF: 6E 64 6F 77 
       00:08D3: 50 72 6F 63 
       00:08D7: 3A 3A 46 
 10623 00:08DA: 58 5F 4D 4F  	db	$58,$5F,$4D,$4F,$55,$53,$45,$5F,$45,$4E,
                    $54,$45,$52,$0D,$0A
       00:08DE: 55 53 45 5F 
       00:08E2: 45 4E 54 45 
       00:08E6: 52 0D 0A 
 10624 00:08E9: 00 6D 65 6E  	db	$00,$6D,$65,$6E,$75,$41,$6E,$63,$68,$6F,
                    $72,$57,$69,$6E,$64
       00:08ED: 75 41 6E 63 
       00:08F1: 68 6F 72 57 
       00:08F5: 69 6E 64 
 10625 00:08F8: 6F 77 50 72  	db	$6F,$77,$50,$72,$6F,$63,$3A,$3A,$46,$58,
                    $5F,$4D,$4F,$55,$53
  Mon Dec  7 2020 11:19                                                Page 207


       00:08FC: 6F 63 3A 3A 
       00:0900: 46 58 5F 4D 
       00:0904: 4F 55 53 
 10626 00:0907: 45 5F 45 58  	db	$45,$5F,$45,$58,$49,$54,$0D,$0A,$00,$6D,
                    $65,$6E,$75,$41,$6E
       00:090B: 49 54 0D 0A 
       00:090F: 00 6D 65 6E 
       00:0913: 75 41 6E 
 10627 00:0916: 63 68 6F 72  	db	$63,$68,$6F,$72,$57,$69,$6E,$64,$6F,$77,
                    $50,$72,$6F,$63,$3A
       00:091A: 57 69 6E 64 
       00:091E: 6F 77 50 72 
       00:0922: 6F 63 3A 
 10628 00:0925: 3A 46 58 5F  	db	$3A,$46,$58,$5F,$43,$4F,$4E,$54,$52,$4F,
                    $4C,$5F,$43,$4F,$4D
       00:0929: 43 4F 4E 54 
       00:092D: 52 4F 4C 5F 
       00:0931: 43 4F 4D 
 10629 00:0934: 4D 41 4E 44  	db	$4D,$41,$4E,$44,$0D,$0A,$00,$6D,$65,$6E,
                    $75,$41,$6E,$63,$68
       00:0938: 0D 0A 00 6D 
       00:093C: 65 6E 75 41 
       00:0940: 6E 63 68 
 10630 00:0943: 6F 72 57 69  	db	$6F,$72,$57,$69,$6E,$64,$6F,$77,$50,$72,
                    $6F,$63,$3A,$3A,$43
       00:0947: 6E 64 6F 77 
       00:094B: 50 72 6F 63 
       00:094F: 3A 3A 43 
 10631 00:0952: 54 4C 5F 43  	db	$54,$4C,$5F,$43,$4D,$44,$5F,$43,$41,$50,
                    $54,$49,$4F,$4E,$3A
       00:0956: 4D 44 5F 43 
       00:095A: 41 50 54 49 
       00:095E: 4F 4E 3A 
 10632 00:0961: 00           	db	$00
 10633 00:0962:              	ends
 10634                        ;
 10635                        ;void k_func_drawAnchorText(PWINDOW pWin,UINT font
                    Color,UINT menuColor)
 10636                        ;{
 10637                        	.line	1716
 10638                        	.line	1717
 10639                        	WINMAN
 10640                        	xdef	~~k_func_drawAnchorText
 10641                        	func
 10642                        	.function	1717
 10643                        ~~k_func_drawAnchorText:
 10644                        	longa	on
 10645                        	longi	on
 10646 04:2C8C: 3B           	tsc
 10647 04:2C8D: 38           	sec
 10648 04:2C8E: E9 0C 00     	sbc	#L430
 10649 04:2C91: 1B           	tcs
 10650 04:2C92: 0B           	phd
 10651 04:2C93: 5B           	tcd
 10652             00000004   pWin_0	set	4
 10653             00000008   fontColor_0	set	8
 10654             0000000A   menuColor_0	set	10
 10655                        	.block	1717
  Mon Dec  7 2020 11:19                                                Page 208


 10656                        ;	k_vdma_fill_rect(pWin->win_x ,
 10657                        	.sym	pWin,4,138,6,32,27
 10658                        	.sym	fontColor,8,16,6,16
 10659                        	.sym	menuColor,10,16,6,16
 10660                        	.line	1718
 10661                        ;					 pWin->win_y,
 10662                        ;					 pWin->win_width
                    ,
 10663                        ;					 pWin->win_heigh
                    t,
 10664                        ;					 menuColor);
 10665 04:2C94: D4 16        	pei	<L430+menuColor_0
 10666 04:2C96: A0 0E 00     	ldy	#$e
 10667 04:2C99: B7 10        	lda	[<L430+pWin_0],Y
 10668 04:2C9B: 48           	pha
 10669 04:2C9C: A0 0C 00     	ldy	#$c
 10670 04:2C9F: B7 10        	lda	[<L430+pWin_0],Y
 10671 04:2CA1: 48           	pha
 10672 04:2CA2: A0 00 00     	ldy	#$0
 10673 04:2CA5: 5A           	phy
 10674 04:2CA6: A0 0A 00     	ldy	#$a
 10675 04:2CA9: B7 10        	lda	[<L430+pWin_0],Y
 10676 04:2CAB: 7A           	ply
 10677 04:2CAC: 2A           	rol	A
 10678 04:2CAD: 6A           	ror	A
 10679 04:2CAE: 10 01        	bpl	L433
 10680 04:2CB0: 88           	dey
 10681                        L433:
 10682 04:2CB1: 85 01        	sta	<R0
 10683 04:2CB3: 84 03        	sty	<R0+2
 10684 04:2CB5: D4 03        	pei	<R0+2
 10685 04:2CB7: D4 01        	pei	<R0
 10686 04:2CB9: A0 00 00     	ldy	#$0
 10687 04:2CBC: 5A           	phy
 10688 04:2CBD: A0 08 00     	ldy	#$8
 10689 04:2CC0: B7 10        	lda	[<L430+pWin_0],Y
 10690 04:2CC2: 7A           	ply
 10691 04:2CC3: 2A           	rol	A
 10692 04:2CC4: 6A           	ror	A
 10693 04:2CC5: 10 01        	bpl	L434
 10694 04:2CC7: 88           	dey
 10695                        L434:
 10696 04:2CC8: 85 05        	sta	<R1
 10697 04:2CCA: 84 07        	sty	<R1+2
 10698 04:2CCC: D4 07        	pei	<R1+2
 10699 04:2CCE: D4 05        	pei	<R1
 10700 04:2CD0: 22 xx xx xx  	jsl	~~k_vdma_fill_rect
 10701                        ;
 10702                        ;	k_draw_text_point(((PMENUANCHOR)pWin->windowData
                    )->pCaption,
 10703                        	.line	1724
 10704                        ;	          	  	  //pWin->win_x + (pWin-
                    >win_width/2)  - (((PMENUANCHOR)pWin->windowData)->captionPi
                    xelWidth/2) - 2,
 10705                        ;					  //Win->win_y +
                     (pWin->win_height/2) - (FONTH/2)     ,
 10706                        ;					  pWin->win_x + 
                    (pWin->win_width/2) - (strlen(((PMENUANCHOR)pWin->windowData
  Mon Dec  7 2020 11:19                                                Page 209


                    )->pCaption) * FONTW/2)  ,
 10707                        ;					  pWin->win_y + 
                    (pWin->win_height/2) - (FONTH/2),
 10708                        ;					  fontColor) ;
 10709 04:2CD4: D4 14        	pei	<L430+fontColor_0
 10710 04:2CD6: 22 xx xx xx  	jsl	~~k_font_getFontHeight
 10711 04:2CDA: 85 05        	sta	<R1
 10712 04:2CDC: A5 05        	lda	<R1
 10713 04:2CDE: 4A           	lsr	A
 10714 04:2CDF: 85 01        	sta	<R0
 10715 04:2CE1: A0 0E 00     	ldy	#$e
 10716 04:2CE4: B7 10        	lda	[<L430+pWin_0],Y
 10717 04:2CE6: A2 02 00     	ldx	#<$2
 10718                        	xref	~~~div
 10719 04:2CE9: 22 xx xx xx  	jsl	~~~div
 10720 04:2CED: 85 05        	sta	<R1
 10721 04:2CEF: 18           	clc
 10722 04:2CF0: A5 05        	lda	<R1
 10723 04:2CF2: A0 0A 00     	ldy	#$a
 10724 04:2CF5: 77 10        	adc	[<L430+pWin_0],Y
 10725 04:2CF7: 85 09        	sta	<R2
 10726 04:2CF9: 38           	sec
 10727 04:2CFA: A5 09        	lda	<R2
 10728 04:2CFC: E5 01        	sbc	<R0
 10729 04:2CFE: 48           	pha
 10730 04:2CFF: 22 xx xx xx  	jsl	~~k_font_getFontWidth
 10731 04:2D03: 85 05        	sta	<R1
 10732 04:2D05: A0 45 01     	ldy	#$145
 10733 04:2D08: B7 10        	lda	[<L430+pWin_0],Y
 10734 04:2D0A: 85 09        	sta	<R2
 10735 04:2D0C: A0 47 01     	ldy	#$147
 10736 04:2D0F: B7 10        	lda	[<L430+pWin_0],Y
 10737 04:2D11: 85 0B        	sta	<R2+2
 10738 04:2D13: A0 02 00     	ldy	#$2
 10739 04:2D16: B7 09        	lda	[<R2],Y
 10740 04:2D18: 48           	pha
 10741 04:2D19: A7 09        	lda	[<R2]
 10742 04:2D1B: 48           	pha
 10743 04:2D1C: 22 xx xx xx  	jsl	~~strlen
 10744 04:2D20: 85 09        	sta	<R2
 10745 04:2D22: A5 09        	lda	<R2
 10746 04:2D24: A6 05        	ldx	<R1
 10747                        	xref	~~~mul
 10748 04:2D26: 22 xx xx xx  	jsl	~~~mul
 10749 04:2D2A: 85 05        	sta	<R1
 10750 04:2D2C: A5 05        	lda	<R1
 10751 04:2D2E: 4A           	lsr	A
 10752 04:2D2F: 85 01        	sta	<R0
 10753 04:2D31: A0 0C 00     	ldy	#$c
 10754 04:2D34: B7 10        	lda	[<L430+pWin_0],Y
 10755 04:2D36: A2 02 00     	ldx	#<$2
 10756                        	xref	~~~div
 10757 04:2D39: 22 xx xx xx  	jsl	~~~div
 10758 04:2D3D: 85 05        	sta	<R1
 10759 04:2D3F: 18           	clc
 10760 04:2D40: A5 05        	lda	<R1
 10761 04:2D42: A0 08 00     	ldy	#$8
 10762 04:2D45: 77 10        	adc	[<L430+pWin_0],Y
  Mon Dec  7 2020 11:19                                                Page 210


 10763 04:2D47: 85 09        	sta	<R2
 10764 04:2D49: 38           	sec
 10765 04:2D4A: A5 09        	lda	<R2
 10766 04:2D4C: E5 01        	sbc	<R0
 10767 04:2D4E: 48           	pha
 10768 04:2D4F: A0 45 01     	ldy	#$145
 10769 04:2D52: B7 10        	lda	[<L430+pWin_0],Y
 10770 04:2D54: 85 01        	sta	<R0
 10771 04:2D56: A0 47 01     	ldy	#$147
 10772 04:2D59: B7 10        	lda	[<L430+pWin_0],Y
 10773 04:2D5B: 85 03        	sta	<R0+2
 10774 04:2D5D: A0 02 00     	ldy	#$2
 10775 04:2D60: B7 01        	lda	[<R0],Y
 10776 04:2D62: 48           	pha
 10777 04:2D63: A7 01        	lda	[<R0]
 10778 04:2D65: 48           	pha
 10779 04:2D66: 22 xx xx xx  	jsl	~~k_draw_text_point
 10780                        ;
 10781                        ;}
 10782                        	.line	1731
 10783                        L435:
 10784 04:2D6A: A5 0E        	lda	<L430+2
 10785 04:2D6C: 85 16        	sta	<L430+2+8
 10786 04:2D6E: A5 0D        	lda	<L430+1
 10787 04:2D70: 85 15        	sta	<L430+1+8
 10788 04:2D72: 2B           	pld
 10789 04:2D73: 3B           	tsc
 10790 04:2D74: 18           	clc
 10791 04:2D75: 69 14 00     	adc	#L430+8
 10792 04:2D78: 1B           	tcs
 10793 04:2D79: 6B           	rtl
 10794                        	.endblock	1731
 10795             0000000C   L430	equ	12
 10796             0000000D   L431	equ	13
 10797 04:2D7A:              	ends
 10798                        	efunc
 10799                        	.endfunc	1731,13,12
 10800                        	.line	1731
 10801                        ;
 10802                        ;
 10803                        ;void k_size_dropdown_menus(LPVOID ctx,LPVOID data
                    )
 10804                        ;{
 10805                        	.line	1734
 10806                        	.line	1735
 10807                        	WINMAN
 10808                        	xdef	~~k_size_dropdown_menus
 10809                        	func
 10810                        	.function	1735
 10811                        ~~k_size_dropdown_menus:
 10812                        	longa	on
 10813                        	longi	on
 10814 04:2D7A: 3B           	tsc
 10815 04:2D7B: 38           	sec
 10816 04:2D7C: E9 20 00     	sbc	#L436
 10817 04:2D7F: 1B           	tcs
 10818 04:2D80: 0B           	phd
 10819 04:2D81: 5B           	tcd
  Mon Dec  7 2020 11:19                                                Page 211


 10820             00000004   ctx_0	set	4
 10821             00000008   data_0	set	8
 10822                        	.block	1735
 10823                        ;	int i = 0;
 10824                        ;	//PRECT prect = ctx;
 10825                        ;	PWINDOW pMenuItem = NULL;
 10826                        ;	PMENUDROPDOWNDATA pmdd = (PMENUDROPDOWNDATA)ctx;
 10827                        ;	PMENU pMenu = (PMENU)data;
 10828                        ;	UINT  size = 0;
 10829                        ;
 10830                        ;	//k_debug_strings("k_size_dropdown_menus:","Ente
                    r");
 10831                        ;
 10832                        ;	if(pMenu->pCaption)
 10833             00000000   i_1	set	0
 10834             00000002   pMenuItem_1	set	2
 10835             00000006   pmdd_1	set	6
 10836             0000000A   pMenu_1	set	10
 10837             0000000E   size_1	set	14
 10838                        	.sym	i,0,5,1,16
 10839                        	.sym	pMenuItem,2,138,1,32,27
 10840                        	.sym	pmdd,6,138,1,32,33
 10841                        	.sym	pMenu,10,138,1,32,31
 10842                        	.sym	size,14,16,1,16
 10843                        	.sym	ctx,4,129,6,32
 10844                        	.sym	data,8,129,6,32
 10845 04:2D82: 64 11        	stz	<L437+i_1
 10846 04:2D84: 64 13        	stz	<L437+pMenuItem_1
 10847 04:2D86: 64 15        	stz	<L437+pMenuItem_1+2
 10848 04:2D88: A5 24        	lda	<L436+ctx_0
 10849 04:2D8A: 85 17        	sta	<L437+pmdd_1
 10850 04:2D8C: A5 26        	lda	<L436+ctx_0+2
 10851 04:2D8E: 85 19        	sta	<L437+pmdd_1+2
 10852 04:2D90: A5 28        	lda	<L436+data_0
 10853 04:2D92: 85 1B        	sta	<L437+pMenu_1
 10854 04:2D94: A5 2A        	lda	<L436+data_0+2
 10855 04:2D96: 85 1D        	sta	<L437+pMenu_1+2
 10856 04:2D98: 64 1F        	stz	<L437+size_1
 10857                        	.line	1745
 10858                        ;	{
 10859 04:2D9A: A0 0F 00     	ldy	#$f
 10860 04:2D9D: B7 1B        	lda	[<L437+pMenu_1],Y
 10861 04:2D9F: A0 11 00     	ldy	#$11
 10862 04:2DA2: 17 1B        	ora	[<L437+pMenu_1],Y
 10863 04:2DA4: D0 03        	bne	L439
 10864 04:2DA6: 82 B6 01     	brl	L10121
 10865                        L439:
 10866                        	.line	1746
 10867                        ;		//k_debug_integer("k_size_dropdown_menus
                    :height:",pmdd->rect.height);
 10868                        ;		//k_debug_strings("k_size_dropdown_menus
                    :",(LPCHAR)pMenu->pCaption);
 10869                        ;
 10870                        ;		while(pmdd->captions[i])
 10871                        	.line	1750
 10872                        L10122:
 10873 04:2DA9: A0 00 00     	ldy	#$0
 10874 04:2DAC: A5 11        	lda	<L437+i_1
  Mon Dec  7 2020 11:19                                                Page 212


 10875 04:2DAE: 10 01        	bpl	L440
 10876 04:2DB0: 88           	dey
 10877                        L440:
 10878 04:2DB1: 85 05        	sta	<R1
 10879 04:2DB3: 84 07        	sty	<R1+2
 10880 04:2DB5: D4 07        	pei	<R1+2
 10881 04:2DB7: D4 05        	pei	<R1
 10882 04:2DB9: A9 02 00     	lda	#$2
 10883                        	xref	~~~lasl
 10884 04:2DBC: 22 xx xx xx  	jsl	~~~lasl
 10885 04:2DC0: 85 01        	sta	<R0
 10886 04:2DC2: 86 03        	stx	<R0+2
 10887 04:2DC4: 18           	clc
 10888 04:2DC5: A9 0C 00     	lda	#$c
 10889 04:2DC8: 65 17        	adc	<L437+pmdd_1
 10890 04:2DCA: 85 09        	sta	<R2
 10891 04:2DCC: A9 00 00     	lda	#$0
 10892 04:2DCF: 65 19        	adc	<L437+pmdd_1+2
 10893 04:2DD1: 85 0B        	sta	<R2+2
 10894 04:2DD3: 18           	clc
 10895 04:2DD4: A5 09        	lda	<R2
 10896 04:2DD6: 65 01        	adc	<R0
 10897 04:2DD8: 85 0D        	sta	<R3
 10898 04:2DDA: A5 0B        	lda	<R2+2
 10899 04:2DDC: 65 03        	adc	<R0+2
 10900 04:2DDE: 85 0F        	sta	<R3+2
 10901 04:2DE0: A7 0D        	lda	[<R3]
 10902 04:2DE2: A0 02 00     	ldy	#$2
 10903 04:2DE5: 17 0D        	ora	[<R3],Y
 10904 04:2DE7: D0 03        	bne	L441
 10905 04:2DE9: 82 05 00     	brl	L10123
 10906                        L441:
 10907                        ;		{
 10908                        	.line	1751
 10909                        ;			i++;
 10910                        	.line	1752
 10911 04:2DEC: E6 11        	inc	<L437+i_1
 10912                        ;		}
 10913                        	.line	1753
 10914 04:2DEE: 82 B8 FF     	brl	L10122
 10915                        L10123:
 10916                        ;		pmdd->ids[i] = pMenu->itemId;
 10917                        	.line	1754
 10918 04:2DF1: A0 00 00     	ldy	#$0
 10919 04:2DF4: A5 11        	lda	<L437+i_1
 10920 04:2DF6: 10 01        	bpl	L442
 10921 04:2DF8: 88           	dey
 10922                        L442:
 10923 04:2DF9: 85 05        	sta	<R1
 10924 04:2DFB: 84 07        	sty	<R1+2
 10925 04:2DFD: D4 07        	pei	<R1+2
 10926 04:2DFF: D4 05        	pei	<R1
 10927 04:2E01: A9 01 00     	lda	#$1
 10928                        	xref	~~~lasl
 10929 04:2E04: 22 xx xx xx  	jsl	~~~lasl
 10930 04:2E08: 85 01        	sta	<R0
 10931 04:2E0A: 86 03        	stx	<R0+2
 10932 04:2E0C: 18           	clc
  Mon Dec  7 2020 11:19                                                Page 213


 10933 04:2E0D: A9 84 00     	lda	#$84
 10934 04:2E10: 65 17        	adc	<L437+pmdd_1
 10935 04:2E12: 85 09        	sta	<R2
 10936 04:2E14: A9 00 00     	lda	#$0
 10937 04:2E17: 65 19        	adc	<L437+pmdd_1+2
 10938 04:2E19: 85 0B        	sta	<R2+2
 10939 04:2E1B: 18           	clc
 10940 04:2E1C: A5 09        	lda	<R2
 10941 04:2E1E: 65 01        	adc	<R0
 10942 04:2E20: 85 0D        	sta	<R3
 10943 04:2E22: A5 0B        	lda	<R2+2
 10944 04:2E24: 65 03        	adc	<R0+2
 10945 04:2E26: 85 0F        	sta	<R3+2
 10946 04:2E28: A0 0D 00     	ldy	#$d
 10947 04:2E2B: B7 1B        	lda	[<L437+pMenu_1],Y
 10948 04:2E2D: 87 0D        	sta	[<R3]
 10949                        ;		//k_debug_integer("k_size_dropdown_menus
                    :id:",pmdd->ids[i]);
 10950                        ;
 10951                        ;		pmdd->captions[i] = (LPCSTR)((PMENU)data
                    )->pCaption;
 10952                        	.line	1757
 10953 04:2E2F: A0 00 00     	ldy	#$0
 10954 04:2E32: A5 11        	lda	<L437+i_1
 10955 04:2E34: 10 01        	bpl	L443
 10956 04:2E36: 88           	dey
 10957                        L443:
 10958 04:2E37: 85 05        	sta	<R1
 10959 04:2E39: 84 07        	sty	<R1+2
 10960 04:2E3B: D4 07        	pei	<R1+2
 10961 04:2E3D: D4 05        	pei	<R1
 10962 04:2E3F: A9 02 00     	lda	#$2
 10963                        	xref	~~~lasl
 10964 04:2E42: 22 xx xx xx  	jsl	~~~lasl
 10965 04:2E46: 85 01        	sta	<R0
 10966 04:2E48: 86 03        	stx	<R0+2
 10967 04:2E4A: 18           	clc
 10968 04:2E4B: A9 0C 00     	lda	#$c
 10969 04:2E4E: 65 17        	adc	<L437+pmdd_1
 10970 04:2E50: 85 09        	sta	<R2
 10971 04:2E52: A9 00 00     	lda	#$0
 10972 04:2E55: 65 19        	adc	<L437+pmdd_1+2
 10973 04:2E57: 85 0B        	sta	<R2+2
 10974 04:2E59: 18           	clc
 10975 04:2E5A: A5 09        	lda	<R2
 10976 04:2E5C: 65 01        	adc	<R0
 10977 04:2E5E: 85 0D        	sta	<R3
 10978 04:2E60: A5 0B        	lda	<R2+2
 10979 04:2E62: 65 03        	adc	<R0+2
 10980 04:2E64: 85 0F        	sta	<R3+2
 10981 04:2E66: A0 0F 00     	ldy	#$f
 10982 04:2E69: B7 28        	lda	[<L436+data_0],Y
 10983 04:2E6B: 87 0D        	sta	[<R3]
 10984 04:2E6D: A0 11 00     	ldy	#$11
 10985 04:2E70: B7 28        	lda	[<L436+data_0],Y
 10986 04:2E72: A0 02 00     	ldy	#$2
 10987 04:2E75: 97 0D        	sta	[<R3],Y
 10988                        ;		//k_debug_strings("k_size_dropdown_menus
  Mon Dec  7 2020 11:19                                                Page 214


                    :",(LPCHAR)pmdd->captions[i]);
 10989                        ;		pmdd->chrome[i] = 0;
 10990                        	.line	1759
 10991 04:2E77: 18           	clc
 10992 04:2E78: A9 6C 00     	lda	#$6c
 10993 04:2E7B: 65 11        	adc	<L437+i_1
 10994 04:2E7D: 85 01        	sta	<R0
 10995 04:2E7F: E2 20        	sep	#$20
 10996                        	longa	off
 10997 04:2E81: A9 00        	lda	#$0
 10998 04:2E83: A4 01        	ldy	<R0
 10999 04:2E85: 97 17        	sta	[<L437+pmdd_1],Y
 11000 04:2E87: C2 20        	rep	#$20
 11001                        	longa	on
 11002                        ;		if(pMenu->chromeLeft != 0)
 11003                        	.line	1760
 11004                        ;		{
 11005 04:2E89: A0 0A 00     	ldy	#$a
 11006 04:2E8C: B7 1B        	lda	[<L437+pMenu_1],Y
 11007 04:2E8E: 29 FF 00     	and	#$ff
 11008 04:2E91: D0 03        	bne	L444
 11009 04:2E93: 82 15 00     	brl	L10124
 11010                        L444:
 11011                        	.line	1761
 11012                        ;			pmdd->chrome[i] = pMenu->chromeL
                    eft;
 11013                        	.line	1762
 11014 04:2E96: 18           	clc
 11015 04:2E97: A9 6C 00     	lda	#$6c
 11016 04:2E9A: 65 11        	adc	<L437+i_1
 11017 04:2E9C: 85 01        	sta	<R0
 11018 04:2E9E: E2 20        	sep	#$20
 11019                        	longa	off
 11020 04:2EA0: A0 0A 00     	ldy	#$a
 11021 04:2EA3: B7 1B        	lda	[<L437+pMenu_1],Y
 11022 04:2EA5: A4 01        	ldy	<R0
 11023 04:2EA7: 97 17        	sta	[<L437+pmdd_1],Y
 11024 04:2EA9: C2 20        	rep	#$20
 11025                        	longa	on
 11026                        ;			//k_debug_integer("k_size_dropdo
                    wn_menus **CHECKED**:",pmdd->chrome[i]);
 11027                        ;		}
 11028                        	.line	1764
 11029                        ;
 11030                        ;		pmdd->captions[i+1] = NULL;
 11031                        L10124:
 11032                        	.line	1766
 11033 04:2EAB: A5 11        	lda	<L437+i_1
 11034 04:2EAD: 1A           	ina
 11035 04:2EAE: 85 05        	sta	<R1
 11036 04:2EB0: A0 00 00     	ldy	#$0
 11037 04:2EB3: A5 05        	lda	<R1
 11038 04:2EB5: 10 01        	bpl	L445
 11039 04:2EB7: 88           	dey
 11040                        L445:
 11041 04:2EB8: 85 05        	sta	<R1
 11042 04:2EBA: 84 07        	sty	<R1+2
 11043 04:2EBC: D4 07        	pei	<R1+2
  Mon Dec  7 2020 11:19                                                Page 215


 11044 04:2EBE: D4 05        	pei	<R1
 11045 04:2EC0: A9 02 00     	lda	#$2
 11046                        	xref	~~~lasl
 11047 04:2EC3: 22 xx xx xx  	jsl	~~~lasl
 11048 04:2EC7: 85 01        	sta	<R0
 11049 04:2EC9: 86 03        	stx	<R0+2
 11050 04:2ECB: 18           	clc
 11051 04:2ECC: A9 0C 00     	lda	#$c
 11052 04:2ECF: 65 17        	adc	<L437+pmdd_1
 11053 04:2ED1: 85 09        	sta	<R2
 11054 04:2ED3: A9 00 00     	lda	#$0
 11055 04:2ED6: 65 19        	adc	<L437+pmdd_1+2
 11056 04:2ED8: 85 0B        	sta	<R2+2
 11057 04:2EDA: 18           	clc
 11058 04:2EDB: A5 09        	lda	<R2
 11059 04:2EDD: 65 01        	adc	<R0
 11060 04:2EDF: 85 0D        	sta	<R3
 11061 04:2EE1: A5 0B        	lda	<R2+2
 11062 04:2EE3: 65 03        	adc	<R0+2
 11063 04:2EE5: 85 0F        	sta	<R3+2
 11064 04:2EE7: A9 00 00     	lda	#$0
 11065 04:2EEA: 87 0D        	sta	[<R3]
 11066 04:2EEC: A9 00 00     	lda	#$0
 11067 04:2EEF: A0 02 00     	ldy	#$2
 11068 04:2EF2: 97 0D        	sta	[<R3],Y
 11069                        ;
 11070                        ;
 11071                        ;		size = (strlen(pMenu->pCaption) + 2)* FO
                    NTW;
 11072                        	.line	1769
 11073 04:2EF4: 22 xx xx xx  	jsl	~~k_font_getFontWidth
 11074 04:2EF8: 85 01        	sta	<R0
 11075 04:2EFA: A0 11 00     	ldy	#$11
 11076 04:2EFD: B7 1B        	lda	[<L437+pMenu_1],Y
 11077 04:2EFF: 48           	pha
 11078 04:2F00: A0 0F 00     	ldy	#$f
 11079 04:2F03: B7 1B        	lda	[<L437+pMenu_1],Y
 11080 04:2F05: 48           	pha
 11081 04:2F06: 22 xx xx xx  	jsl	~~strlen
 11082 04:2F0A: 85 05        	sta	<R1
 11083 04:2F0C: 18           	clc
 11084 04:2F0D: A9 02 00     	lda	#$2
 11085 04:2F10: 65 05        	adc	<R1
 11086 04:2F12: 85 09        	sta	<R2
 11087 04:2F14: A5 09        	lda	<R2
 11088 04:2F16: A6 01        	ldx	<R0
 11089                        	xref	~~~mul
 11090 04:2F18: 22 xx xx xx  	jsl	~~~mul
 11091 04:2F1C: 85 1F        	sta	<L437+size_1
 11092                        ;		//k_debug_integer("k_size_dropdown_menus
                    :size:",size);
 11093                        ;
 11094                        ;
 11095                        ;
 11096                        ;		if(size > pmdd->rect.width)
 11097                        	.line	1774
 11098                        ;			pmdd->rect.width = size;
 11099 04:2F1E: A0 08 00     	ldy	#$8
  Mon Dec  7 2020 11:19                                                Page 216


 11100 04:2F21: B7 17        	lda	[<L437+pmdd_1],Y
 11101 04:2F23: C5 1F        	cmp	<L437+size_1
 11102 04:2F25: 90 03        	bcc	L446
 11103 04:2F27: 82 07 00     	brl	L10125
 11104                        L446:
 11105                        	.line	1775
 11106 04:2F2A: A5 1F        	lda	<L437+size_1
 11107 04:2F2C: A0 08 00     	ldy	#$8
 11108 04:2F2F: 97 17        	sta	[<L437+pmdd_1],Y
 11109                        ;		pmdd->rect.height+=(FONTH + FONTH/2);
 11110                        L10125:
 11111                        	.line	1776
 11112 04:2F31: 18           	clc
 11113 04:2F32: A9 0A 00     	lda	#$a
 11114 04:2F35: 65 17        	adc	<L437+pmdd_1
 11115 04:2F37: 85 01        	sta	<R0
 11116 04:2F39: A9 00 00     	lda	#$0
 11117 04:2F3C: 65 19        	adc	<L437+pmdd_1+2
 11118 04:2F3E: 85 03        	sta	<R0+2
 11119 04:2F40: 22 xx xx xx  	jsl	~~k_font_getFontHeight
 11120 04:2F44: 85 05        	sta	<R1
 11121 04:2F46: 22 xx xx xx  	jsl	~~k_font_getFontHeight
 11122 04:2F4A: 85 0D        	sta	<R3
 11123 04:2F4C: A5 0D        	lda	<R3
 11124 04:2F4E: 4A           	lsr	A
 11125 04:2F4F: 85 09        	sta	<R2
 11126 04:2F51: 18           	clc
 11127 04:2F52: A5 09        	lda	<R2
 11128 04:2F54: 65 05        	adc	<R1
 11129 04:2F56: 85 0D        	sta	<R3
 11130 04:2F58: 18           	clc
 11131 04:2F59: A5 0D        	lda	<R3
 11132 04:2F5B: 67 01        	adc	[<R0]
 11133 04:2F5D: 87 01        	sta	[<R0]
 11134                        ;	}
 11135                        	.line	1777
 11136                        ;}
 11137                        L10121:
 11138                        	.line	1778
 11139                        L447:
 11140 04:2F5F: A5 22        	lda	<L436+2
 11141 04:2F61: 85 2A        	sta	<L436+2+8
 11142 04:2F63: A5 21        	lda	<L436+1
 11143 04:2F65: 85 29        	sta	<L436+1+8
 11144 04:2F67: 2B           	pld
 11145 04:2F68: 3B           	tsc
 11146 04:2F69: 18           	clc
 11147 04:2F6A: 69 28 00     	adc	#L436+8
 11148 04:2F6D: 1B           	tcs
 11149 04:2F6E: 6B           	rtl
 11150                        	.endblock	1778
 11151             00000020   L436	equ	32
 11152             00000011   L437	equ	17
 11153 04:2F6F:              	ends
 11154                        	efunc
 11155                        	.endfunc	1778,17,32
 11156                        	.line	1778
 11157                        ;
  Mon Dec  7 2020 11:19                                                Page 217


 11158                        ;
 11159                        ;
 11160                        ;
 11161                        ;PWINDOW	k_user_CreateMenuDropDown(HWND hWndParen
                    t,LPCSTR caption,HMENU hMenu,int x,int y,int width,int heigh
                    t)
 11162                        ;{
 11163                        	.line	1783
 11164                        	.line	1784
 11165                        	WINMAN
 11166                        	xdef	~~k_user_CreateMenuDropDown
 11167                        	func
 11168                        	.function	1784
 11169                        ~~k_user_CreateMenuDropDown:
 11170                        	longa	on
 11171                        	longi	on
 11172 04:2F6F: 3B           	tsc
 11173 04:2F70: 38           	sec
 11174 04:2F71: E9 26 00     	sbc	#L448
 11175 04:2F74: 1B           	tcs
 11176 04:2F75: 0B           	phd
 11177 04:2F76: 5B           	tcd
 11178             00000004   hWndParent_0	set	4
 11179             00000008   caption_0	set	8
 11180             0000000C   hMenu_0	set	12
 11181             00000010   x_0	set	16
 11182             00000012   y_0	set	18
 11183             00000014   width_0	set	20
 11184             00000016   height_0	set	22
 11185                        	.block	1784
 11186                        ;	PWINDOW pWin  = NULL;
 11187                        ;	PMENU   pMenu = NULL;
 11188                        ;	PMENUDROPDOWNDATA pddmData = NULL;
 11189                        ;	RECT rect;
 11190                        ;	int i;
 11191                        ;	k_debug_strings("k_user_CreateMenuDropDown:","En
                    ter");
 11192             00000000   pWin_1	set	0
 11193             00000004   pMenu_1	set	4
 11194             00000008   pddmData_1	set	8
 11195             0000000C   rect_1	set	12
 11196             00000014   i_1	set	20
 11197                        	.sym	pWin,0,138,1,32,27
 11198                        	.sym	pMenu,4,138,1,32,31
 11199                        	.sym	pddmData,8,138,1,32,33
 11200                        	.sym	rect,12,10,1,64,22
 11201                        	.sym	i,20,5,1,16
 11202                        	.sym	hWndParent,4,129,6,32
 11203                        	.sym	caption,8,142,6,32
 11204                        	.sym	hMenu,12,129,6,32
 11205                        	.sym	x,16,5,6,16
 11206                        	.sym	y,18,5,6,16
 11207                        	.sym	width,20,5,6,16
 11208                        	.sym	height,22,5,6,16
 11209 04:2F77: 64 11        	stz	<L449+pWin_1
 11210 04:2F79: 64 13        	stz	<L449+pWin_1+2
 11211 04:2F7B: 64 15        	stz	<L449+pMenu_1
 11212 04:2F7D: 64 17        	stz	<L449+pMenu_1+2
  Mon Dec  7 2020 11:19                                                Page 218


 11213 04:2F7F: 64 19        	stz	<L449+pddmData_1
 11214 04:2F81: 64 1B        	stz	<L449+pddmData_1+2
 11215                        	.line	1790
 11216 04:2F83: F4 xx xx     	pea	#^L429+27
 11217 04:2F86: F4 xx xx     	pea	#<L429+27
 11218 04:2F89: F4 xx xx     	pea	#^L429
 11219 04:2F8C: F4 xx xx     	pea	#<L429
 11220 04:2F8F: 22 xx xx xx  	jsl	~~k_debug_strings
 11221                        ;
 11222                        ;
 11223                        ;	if(hMenu)
 11224                        	.line	1793
 11225                        ;	{
 11226 04:2F93: A5 32        	lda	<L448+hMenu_0
 11227 04:2F95: 05 34        	ora	<L448+hMenu_0+2
 11228 04:2F97: D0 03        	bne	L451
 11229 04:2F99: 82 5E 01     	brl	L10126
 11230                        L451:
 11231                        	.line	1794
 11232                        ;		rect.x = 0;
 11233                        	.line	1795
 11234 04:2F9C: 64 1D        	stz	<L449+rect_1
 11235                        ;		rect.y = 0;
 11236                        	.line	1796
 11237 04:2F9E: 64 1F        	stz	<L449+rect_1+2
 11238                        ;		rect.height = 0;
 11239                        	.line	1797
 11240 04:2FA0: 64 23        	stz	<L449+rect_1+6
 11241                        ;		rect.width = 0;
 11242                        	.line	1798
 11243 04:2FA2: 64 21        	stz	<L449+rect_1+4
 11244                        ;		pMenu = (PMENU)hMenu;
 11245                        	.line	1799
 11246 04:2FA4: A5 32        	lda	<L448+hMenu_0
 11247 04:2FA6: 85 15        	sta	<L449+pMenu_1
 11248 04:2FA8: A5 34        	lda	<L448+hMenu_0+2
 11249 04:2FAA: 85 17        	sta	<L449+pMenu_1+2
 11250                        ;
 11251                        ;		pddmData = (PMENUDROPDOWNDATA)k_mem_allo
                    cate_heap(sizeof(MENUDROPDOWNDATA));
 11252                        	.line	1801
 11253 04:2FAC: F4 BE 01     	pea	#<$1be
 11254 04:2FAF: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 11255 04:2FB3: 85 19        	sta	<L449+pddmData_1
 11256 04:2FB5: 86 1B        	stx	<L449+pddmData_1+2
 11257                        ;
 11258                        ;		if(pddmData)
 11259                        	.line	1803
 11260                        ;		{
 11261 04:2FB7: A5 19        	lda	<L449+pddmData_1
 11262 04:2FB9: 05 1B        	ora	<L449+pddmData_1+2
 11263 04:2FBB: D0 03        	bne	L452
 11264 04:2FBD: 82 3A 01     	brl	L10127
 11265                        L452:
 11266                        	.line	1804
 11267                        ;			memset(pddmData,0,sizeof(MENUDRO
                    PDOWNDATA));
 11268                        	.line	1805
  Mon Dec  7 2020 11:19                                                Page 219


 11269 04:2FC0: F4 BE 01     	pea	#<$1be
 11270 04:2FC3: F4 00 00     	pea	#<$0
 11271 04:2FC6: D4 1B        	pei	<L449+pddmData_1+2
 11272 04:2FC8: D4 19        	pei	<L449+pddmData_1
 11273 04:2FCA: 22 xx xx xx  	jsl	~~memset
 11274                        ;
 11275                        ;			k_debug_pointer("k_user_CreateMe
                    nuDropDown:pMenu:",pMenu);
 11276                        	.line	1807
 11277 04:2FCE: D4 17        	pei	<L449+pMenu_1+2
 11278 04:2FD0: D4 15        	pei	<L449+pMenu_1
 11279 04:2FD2: F4 xx xx     	pea	#^L429+33
 11280 04:2FD5: F4 xx xx     	pea	#<L429+33
 11281 04:2FD8: 22 xx xx xx  	jsl	~~k_debug_pointer
 11282                        ;
 11283                        ;			k_nodelist_foreach_type(pMenu->s
                    ubMenus,
 11284                        	.line	1809
 11285                        ;							
                    		NL_TYPE_WINDOW_MENU,
 11286                        ;							
                    		pddmData,
 11287                        ;							
                    		k_size_dropdown_menus);
 11288 04:2FDC: F4 04 00     	pea	#^~~k_size_dropdown_menus
 11289 04:2FDF: F4 7A 2D     	pea	#<~~k_size_dropdown_menus
 11290 04:2FE2: D4 1B        	pei	<L449+pddmData_1+2
 11291 04:2FE4: D4 19        	pei	<L449+pddmData_1
 11292 04:2FE6: F4 03 00     	pea	#<$3
 11293 04:2FE9: A0 15 00     	ldy	#$15
 11294 04:2FEC: B7 15        	lda	[<L449+pMenu_1],Y
 11295 04:2FEE: 48           	pha
 11296 04:2FEF: A0 13 00     	ldy	#$13
 11297 04:2FF2: B7 15        	lda	[<L449+pMenu_1],Y
 11298 04:2FF4: 48           	pha
 11299 04:2FF5: 22 xx xx xx  	jsl	~~k_nodelist_foreach_type
 11300                        ;
 11301                        ;
 11302                        ;			pWin = k_user_CreateWindow(FXWS_
                    VISIBLE | FXWS_BORDER,
 11303                        	.line	1815
 11304                        ;							
                    		   "menuDropDownWindowClass",
 11305                        ;							
                    			caption,
 11306                        ;							
                    			x,y,
 11307                        ;							
                    			pddmData->rect.width,
 11308                        ;							
                    			pddmData->rect.height,
 11309                        ;							
                    			hWndParent,//k_user_getDesktopWindow(),
 11310                        ;							
                    			(HMENU)hMenu,
 11311                        ;							
                    			NULL);
 11312 04:2FF9: F4 00 00     	pea	#^$0
  Mon Dec  7 2020 11:19                                                Page 220


 11313 04:2FFC: F4 00 00     	pea	#<$0
 11314 04:2FFF: D4 34        	pei	<L448+hMenu_0+2
 11315 04:3001: D4 32        	pei	<L448+hMenu_0
 11316 04:3003: D4 2C        	pei	<L448+hWndParent_0+2
 11317 04:3005: D4 2A        	pei	<L448+hWndParent_0
 11318 04:3007: A0 0A 00     	ldy	#$a
 11319 04:300A: B7 19        	lda	[<L449+pddmData_1],Y
 11320 04:300C: 48           	pha
 11321 04:300D: A0 08 00     	ldy	#$8
 11322 04:3010: B7 19        	lda	[<L449+pddmData_1],Y
 11323 04:3012: 48           	pha
 11324 04:3013: D4 38        	pei	<L448+y_0
 11325 04:3015: D4 36        	pei	<L448+x_0
 11326 04:3017: D4 30        	pei	<L448+caption_0+2
 11327 04:3019: D4 2E        	pei	<L448+caption_0
 11328 04:301B: F4 xx xx     	pea	#^L429+66
 11329 04:301E: F4 xx xx     	pea	#<L429+66
 11330 04:3021: F4 01 00     	pea	#^$10001
 11331 04:3024: F4 01 00     	pea	#<$10001
 11332 04:3027: 22 FB 16 04  	jsl	~~k_user_CreateWindow
 11333 04:302B: 85 11        	sta	<L449+pWin_1
 11334 04:302D: 86 13        	stx	<L449+pWin_1+2
 11335                        ;
 11336                        ;			//k_debug_pointer("k_user_Create
                    MenuDropDown:pWin:",pWin);
 11337                        ;			if(pWin)
 11338                        	.line	1826
 11339                        ;			{
 11340 04:302F: A5 11        	lda	<L449+pWin_1
 11341 04:3031: 05 13        	ora	<L449+pWin_1+2
 11342 04:3033: D0 03        	bne	L453
 11343 04:3035: 82 C2 00     	brl	L10128
 11344                        L453:
 11345                        	.line	1827
 11346                        ;				pWin->windowData = pddmD
                    ata;
 11347                        	.line	1828
 11348 04:3038: A5 19        	lda	<L449+pddmData_1
 11349 04:303A: A0 45 01     	ldy	#$145
 11350 04:303D: 97 11        	sta	[<L449+pWin_1],Y
 11351 04:303F: A5 1B        	lda	<L449+pddmData_1+2
 11352 04:3041: A0 47 01     	ldy	#$147
 11353 04:3044: 97 11        	sta	[<L449+pWin_1],Y
 11354                        ;
 11355                        ;				pddmData->pParent = pWin
                    ;
 11356                        	.line	1830
 11357 04:3046: A5 11        	lda	<L449+pWin_1
 11358 04:3048: 87 19        	sta	[<L449+pddmData_1]
 11359 04:304A: A5 13        	lda	<L449+pWin_1+2
 11360 04:304C: A0 02 00     	ldy	#$2
 11361 04:304F: 97 19        	sta	[<L449+pddmData_1],Y
 11362                        ;				pddmData->selected = -1;
 11363                        	.line	1831
 11364 04:3051: A9 FF FF     	lda	#$ffff
 11365 04:3054: A0 BC 01     	ldy	#$1bc
 11366 04:3057: 97 19        	sta	[<L449+pddmData_1],Y
 11367                        ;
  Mon Dec  7 2020 11:19                                                Page 221


 11368                        ;				/*
 11369                        ;
 11370                        ;				k_debug_integer("k_user_
                    CreateMenuDropDown::win_x:", pWin->win_x);
 11371                        ;				k_debug_integer("k_user_
                    CreateMenuDropDown::win_y:", pWin->win_y);
 11372                        ;				k_debug_integer("k_user_
                    CreateMenuDropDown::rect.width:", pddmData->rect.width);
 11373                        ;				k_debug_integer("k_user_
                    CreateMenuDropDown::rect.height:", pddmData->rect.height);
 11374                        ;
 11375                        ;
 11376                        ;				k_debug_pointer("k_user_
                    CreateMenuDropDown:pWin:",pWin);
 11377                        ;				k_debug_pointer("k_user_
                    CreateMenuDropDown:ParentWin:",k_getWindowFromHandle(hWndPar
                    ent));
 11378                        ;				*/
 11379                        ;				for(i=0;i<24;i++)
 11380                        	.line	1844
 11381 04:3059: 64 25        	stz	<L449+i_1
 11382                        L10131:
 11383                        ;				{
 11384                        	.line	1845
 11385                        ;					if(pddmData->cap
                    tions[i])
 11386                        	.line	1846
 11387                        ;						k_debug_
                    strings("k_user_CreateMenuDropDown[pddmData]::caption:", (LP
                    STR)pddmData->captions[i]);
 11388 04:305B: A0 00 00     	ldy	#$0
 11389 04:305E: A5 25        	lda	<L449+i_1
 11390 04:3060: 10 01        	bpl	L454
 11391 04:3062: 88           	dey
 11392                        L454:
 11393 04:3063: 85 05        	sta	<R1
 11394 04:3065: 84 07        	sty	<R1+2
 11395 04:3067: D4 07        	pei	<R1+2
 11396 04:3069: D4 05        	pei	<R1
 11397 04:306B: A9 02 00     	lda	#$2
 11398                        	xref	~~~lasl
 11399 04:306E: 22 xx xx xx  	jsl	~~~lasl
 11400 04:3072: 85 01        	sta	<R0
 11401 04:3074: 86 03        	stx	<R0+2
 11402 04:3076: 18           	clc
 11403 04:3077: A9 0C 00     	lda	#$c
 11404 04:307A: 65 19        	adc	<L449+pddmData_1
 11405 04:307C: 85 09        	sta	<R2
 11406 04:307E: A9 00 00     	lda	#$0
 11407 04:3081: 65 1B        	adc	<L449+pddmData_1+2
 11408 04:3083: 85 0B        	sta	<R2+2
 11409 04:3085: 18           	clc
 11410 04:3086: A5 09        	lda	<R2
 11411 04:3088: 65 01        	adc	<R0
 11412 04:308A: 85 0D        	sta	<R3
 11413 04:308C: A5 0B        	lda	<R2+2
 11414 04:308E: 65 03        	adc	<R0+2
 11415 04:3090: 85 0F        	sta	<R3+2
  Mon Dec  7 2020 11:19                                                Page 222


 11416 04:3092: A7 0D        	lda	[<R3]
 11417 04:3094: A0 02 00     	ldy	#$2
 11418 04:3097: 17 0D        	ora	[<R3],Y
 11419 04:3099: D0 03        	bne	L455
 11420 04:309B: 82 4A 00     	brl	L10132
 11421                        L455:
 11422                        	.line	1847
 11423 04:309E: A0 00 00     	ldy	#$0
 11424 04:30A1: A5 25        	lda	<L449+i_1
 11425 04:30A3: 10 01        	bpl	L456
 11426 04:30A5: 88           	dey
 11427                        L456:
 11428 04:30A6: 85 05        	sta	<R1
 11429 04:30A8: 84 07        	sty	<R1+2
 11430 04:30AA: D4 07        	pei	<R1+2
 11431 04:30AC: D4 05        	pei	<R1
 11432 04:30AE: A9 02 00     	lda	#$2
 11433                        	xref	~~~lasl
 11434 04:30B1: 22 xx xx xx  	jsl	~~~lasl
 11435 04:30B5: 85 01        	sta	<R0
 11436 04:30B7: 86 03        	stx	<R0+2
 11437 04:30B9: 18           	clc
 11438 04:30BA: A9 0C 00     	lda	#$c
 11439 04:30BD: 65 19        	adc	<L449+pddmData_1
 11440 04:30BF: 85 09        	sta	<R2
 11441 04:30C1: A9 00 00     	lda	#$0
 11442 04:30C4: 65 1B        	adc	<L449+pddmData_1+2
 11443 04:30C6: 85 0B        	sta	<R2+2
 11444 04:30C8: 18           	clc
 11445 04:30C9: A5 09        	lda	<R2
 11446 04:30CB: 65 01        	adc	<R0
 11447 04:30CD: 85 0D        	sta	<R3
 11448 04:30CF: A5 0B        	lda	<R2+2
 11449 04:30D1: 65 03        	adc	<R0+2
 11450 04:30D3: 85 0F        	sta	<R3+2
 11451 04:30D5: A0 02 00     	ldy	#$2
 11452 04:30D8: B7 0D        	lda	[<R3],Y
 11453 04:30DA: 48           	pha
 11454 04:30DB: A7 0D        	lda	[<R3]
 11455 04:30DD: 48           	pha
 11456 04:30DE: F4 xx xx     	pea	#^L429+90
 11457 04:30E1: F4 xx xx     	pea	#<L429+90
 11458 04:30E4: 22 xx xx xx  	jsl	~~k_debug_strings
 11459                        ;				}
 11460                        L10132:
 11461                        	.line	1848
 11462                        L10129:
 11463 04:30E8: E6 25        	inc	<L449+i_1
 11464 04:30EA: 38           	sec
 11465 04:30EB: A5 25        	lda	<L449+i_1
 11466 04:30ED: E9 18 00     	sbc	#<$18
 11467 04:30F0: 70 03        	bvs	L457
 11468 04:30F2: 49 00 80     	eor	#$8000
 11469                        L457:
 11470 04:30F5: 30 03        	bmi	L458
 11471 04:30F7: 82 61 FF     	brl	L10131
 11472                        L458:
 11473                        L10130:
  Mon Dec  7 2020 11:19                                                Page 223


 11474                        ;			}
 11475                        	.line	1849
 11476                        ;		}
 11477                        L10128:
 11478                        	.line	1850
 11479                        ;	}
 11480                        L10127:
 11481                        	.line	1851
 11482                        ;
 11483                        ;	k_debug_strings("k_user_CreateMenuDropDown:","Ex
                    it");
 11484                        L10126:
 11485                        	.line	1853
 11486 04:30FA: F4 xx xx     	pea	#^L429+163
 11487 04:30FD: F4 xx xx     	pea	#<L429+163
 11488 04:3100: F4 xx xx     	pea	#^L429+136
 11489 04:3103: F4 xx xx     	pea	#<L429+136
 11490 04:3106: 22 xx xx xx  	jsl	~~k_debug_strings
 11491                        ;
 11492                        ;	return pWin;
 11493                        	.line	1855
 11494 04:310A: A6 13        	ldx	<L449+pWin_1+2
 11495 04:310C: A5 11        	lda	<L449+pWin_1
 11496                        L459:
 11497 04:310E: A8           	tay
 11498 04:310F: A5 28        	lda	<L448+2
 11499 04:3111: 85 3C        	sta	<L448+2+20
 11500 04:3113: A5 27        	lda	<L448+1
 11501 04:3115: 85 3B        	sta	<L448+1+20
 11502 04:3117: 2B           	pld
 11503 04:3118: 3B           	tsc
 11504 04:3119: 18           	clc
 11505 04:311A: 69 3A 00     	adc	#L448+20
 11506 04:311D: 1B           	tcs
 11507 04:311E: 98           	tya
 11508 04:311F: 6B           	rtl
 11509                        ;}
 11510                        	.line	1856
 11511                        	.endblock	1856
 11512             00000026   L448	equ	38
 11513             00000011   L449	equ	17
 11514 04:3120:              	ends
 11515                        	efunc
 11516                        	.endfunc	1856,17,38
 11517                        	.line	1856
 11518                        	data
 11519                        L429:
 11520 00:0962: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$43,$72,$65,
                    $61,$74,$65,$4D,$65
       00:0966: 65 72 5F 43 
       00:096A: 72 65 61 74 
       00:096E: 65 4D 65 
 11521 00:0971: 6E 75 44 72  	db	$6E,$75,$44,$72,$6F,$70,$44,$6F,$77,$6E,
                    $3A,$00,$45,$6E,$74
       00:0975: 6F 70 44 6F 
       00:0979: 77 6E 3A 00 
       00:097D: 45 6E 74 
 11522 00:0980: 65 72 00 6B  	db	$65,$72,$00,$6B,$5F,$75,$73,$65,$72,$5F,
  Mon Dec  7 2020 11:19                                                Page 224


                    $43,$72,$65,$61,$74
       00:0984: 5F 75 73 65 
       00:0988: 72 5F 43 72 
       00:098C: 65 61 74 
 11523 00:098F: 65 4D 65 6E  	db	$65,$4D,$65,$6E,$75,$44,$72,$6F,$70,$44,
                    $6F,$77,$6E,$3A,$70
       00:0993: 75 44 72 6F 
       00:0997: 70 44 6F 77 
       00:099B: 6E 3A 70 
 11524 00:099E: 4D 65 6E 75  	db	$4D,$65,$6E,$75,$3A,$00,$6D,$65,$6E,$75,
                    $44,$72,$6F,$70,$44
       00:09A2: 3A 00 6D 65 
       00:09A6: 6E 75 44 72 
       00:09AA: 6F 70 44 
 11525 00:09AD: 6F 77 6E 57  	db	$6F,$77,$6E,$57,$69,$6E,$64,$6F,$77,$43,
                    $6C,$61,$73,$73,$00
       00:09B1: 69 6E 64 6F 
       00:09B5: 77 43 6C 61 
       00:09B9: 73 73 00 
 11526 00:09BC: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$43,$72,$65,
                    $61,$74,$65,$4D,$65
       00:09C0: 65 72 5F 43 
       00:09C4: 72 65 61 74 
       00:09C8: 65 4D 65 
 11527 00:09CB: 6E 75 44 72  	db	$6E,$75,$44,$72,$6F,$70,$44,$6F,$77,$6E,
                    $5B,$70,$64,$64,$6D
       00:09CF: 6F 70 44 6F 
       00:09D3: 77 6E 5B 70 
       00:09D7: 64 64 6D 
 11528 00:09DA: 44 61 74 61  	db	$44,$61,$74,$61,$5D,$3A,$3A,$63,$61,$70,
                    $74,$69,$6F,$6E,$3A
       00:09DE: 5D 3A 3A 63 
       00:09E2: 61 70 74 69 
       00:09E6: 6F 6E 3A 
 11529 00:09E9: 00 6B 5F 75  	db	$00,$6B,$5F,$75,$73,$65,$72,$5F,$43,$72,
                    $65,$61,$74,$65,$4D
       00:09ED: 73 65 72 5F 
       00:09F1: 43 72 65 61 
       00:09F5: 74 65 4D 
 11530 00:09F8: 65 6E 75 44  	db	$65,$6E,$75,$44,$72,$6F,$70,$44,$6F,$77,
                    $6E,$3A,$00,$45,$78
       00:09FC: 72 6F 70 44 
       00:0A00: 6F 77 6E 3A 
       00:0A04: 00 45 78 
 11531 00:0A07: 69 74 00     	db	$69,$74,$00
 11532 00:0A0A:              	ends
 11533                        ;
 11534                        ;
 11535                        ;BOOL menuDropDownWindowProc(PFXOSMESSAGE pMsg)
 11536                        ;{
 11537                        	.line	1859
 11538                        	.line	1860
 11539                        	WINMAN
 11540                        	xdef	~~menuDropDownWindowProc
 11541                        	func
 11542                        	.function	1860
 11543                        ~~menuDropDownWindowProc:
 11544                        	longa	on
  Mon Dec  7 2020 11:19                                                Page 225


 11545                        	longi	on
 11546 04:3120: 3B           	tsc
 11547 04:3121: 38           	sec
 11548 04:3122: E9 92 00     	sbc	#L461
 11549 04:3125: 1B           	tcs
 11550 04:3126: 0B           	phd
 11551 04:3127: 5B           	tcd
 11552             00000004   pMsg_0	set	4
 11553                        	.block	1860
 11554                        ;	PFXPROCESS p = NULL;
 11555                        ;	PWINDOW	   pWin = NULL;
 11556                        ;	PBUTTON	   pButton = NULL;
 11557                        ;	//LPCSTR	   captions[] = {"About FX/OS...
                    ",NULL};
 11558                        ;	LPCSTR	   captions[25];
 11559                        ;	UINT	   size = 0;
 11560                        ;	UINT	   cy = 0;
 11561                        ;	PMENU	   pMenu = NULL;
 11562                        ;	PMENUDROPDOWNDATA pddmData = NULL;
 11563                        ;	int i;
 11564                        ;
 11565                        ;	if(pMsg!=NULL)
 11566             00000000   p_1	set	0
 11567             00000004   pWin_1	set	4
 11568             00000008   pButton_1	set	8
 11569             0000000C   captions_1	set	12
 11570             00000070   size_1	set	112
 11571             00000072   cy_1	set	114
 11572             00000074   pMenu_1	set	116
 11573             00000078   pddmData_1	set	120
 11574             0000007C   i_1	set	124
 11575                        	.sym	p,0,138,1,32,17
 11576                        	.sym	pWin,4,138,1,32,27
 11577                        	.sym	pButton,8,138,1,32,34
 11578                        	.sym	captions,12,1134,1,32,25
 11579                        	.sym	size,112,16,1,16
 11580                        	.sym	cy,114,16,1,16
 11581                        	.sym	pMenu,116,138,1,32,31
 11582                        	.sym	pddmData,120,138,1,32,33
 11583                        	.sym	i,124,5,1,16
 11584                        	.sym	pMsg,4,138,6,32,13
 11585 04:3128: 64 15        	stz	<L462+p_1
 11586 04:312A: 64 17        	stz	<L462+p_1+2
 11587 04:312C: 64 19        	stz	<L462+pWin_1
 11588 04:312E: 64 1B        	stz	<L462+pWin_1+2
 11589 04:3130: 64 1D        	stz	<L462+pButton_1
 11590 04:3132: 64 1F        	stz	<L462+pButton_1+2
 11591 04:3134: 64 85        	stz	<L462+size_1
 11592 04:3136: 64 87        	stz	<L462+cy_1
 11593 04:3138: 64 89        	stz	<L462+pMenu_1
 11594 04:313A: 64 8B        	stz	<L462+pMenu_1+2
 11595 04:313C: 64 8D        	stz	<L462+pddmData_1
 11596 04:313E: 64 8F        	stz	<L462+pddmData_1+2
 11597                        	.line	1872
 11598                        ;	{
 11599 04:3140: A5 96        	lda	<L461+pMsg_0
 11600 04:3142: 05 98        	ora	<L461+pMsg_0+2
 11601 04:3144: D0 03        	bne	L464
  Mon Dec  7 2020 11:19                                                Page 226


 11602 04:3146: 82 9D 03     	brl	L10133
 11603                        L464:
 11604                        	.line	1873
 11605                        ;		p = k_exec_get_current_process();
 11606                        	.line	1874
 11607 04:3149: 22 xx xx xx  	jsl	~~k_exec_get_current_process
 11608 04:314D: 85 15        	sta	<L462+p_1
 11609 04:314F: 86 17        	stx	<L462+p_1+2
 11610                        ;		pWin = k_getWindowFromHandle(pMsg->hwnd)
                    ;
 11611                        	.line	1875
 11612 04:3151: A0 0C 00     	ldy	#$c
 11613 04:3154: B7 96        	lda	[<L461+pMsg_0],Y
 11614 04:3156: 48           	pha
 11615 04:3157: A0 0A 00     	ldy	#$a
 11616 04:315A: B7 96        	lda	[<L461+pMsg_0],Y
 11617 04:315C: 48           	pha
 11618 04:315D: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
 11619 04:3161: 85 19        	sta	<L462+pWin_1
 11620 04:3163: 86 1B        	stx	<L462+pWin_1+2
 11621                        ;		//pButton = ((PBUTTON)pWin->windowData);
 11622                        ;
 11623                        ;		switch(pMsg->type)
 11624                        	.line	1878
 11625 04:3165: A0 08 00     	ldy	#$8
 11626 04:3168: B7 96        	lda	[<L461+pMsg_0],Y
 11627 04:316A: 82 4D 03     	brl	L10134
 11628                        ;		{
 11629                        	.line	1879
 11630                        ;		case FX_CREATE_WINDOW:
 11631                        	.line	1880
 11632                        L10136:
 11633                        ;			//k_debug_long("menuDropDownWind
                    owProc::ProcessId:",p->procId);
 11634                        ;			k_debug_string("menuDropDownWind
                    owProc::FX_CREATE_WINDOW\r\n");
 11635                        	.line	1882
 11636 04:316D: F4 xx xx     	pea	#^L460
 11637 04:3170: F4 xx xx     	pea	#<L460
 11638 04:3173: 22 xx xx xx  	jsl	~~k_debug_string
 11639                        ;
 11640                        ;			pWin->isVisible = TRUE;
 11641                        	.line	1884
 11642 04:3177: E2 20        	sep	#$20
 11643                        	longa	off
 11644 04:3179: A9 01        	lda	#$1
 11645 04:317B: A0 44 01     	ldy	#$144
 11646 04:317E: 97 19        	sta	[<L462+pWin_1],Y
 11647 04:3180: C2 20        	rep	#$20
 11648                        	longa	on
 11649                        ;
 11650                        ;			/*
 11651                        ;			k_scratch_save_bitblt(pWin->win_
                    x,
 11652                        ;							
                    	  pWin->win_y,
 11653                        ;							
                    	  pWin->win_width,
  Mon Dec  7 2020 11:19                                                Page 227


 11654                        ;							
                    	  pWin->win_height, 0, 0);
 11655                        ;			*/
 11656                        ;			pddmData = (PMENUDROPDOWNDATA)pW
                    in->windowData;
 11657                        	.line	1892
 11658 04:3182: A0 45 01     	ldy	#$145
 11659 04:3185: B7 19        	lda	[<L462+pWin_1],Y
 11660 04:3187: 85 8D        	sta	<L462+pddmData_1
 11661 04:3189: A0 47 01     	ldy	#$147
 11662 04:318C: B7 19        	lda	[<L462+pWin_1],Y
 11663 04:318E: 85 8F        	sta	<L462+pddmData_1+2
 11664                        ;			/*
 11665                        ;			for(i=0;i<24;i++)
 11666                        ;			{
 11667                        ;				if(pddmData->captions[i]
                    )
 11668                        ;					k_debug_strings(
                    "menuDropDownWindowProc[pddmData]::caption:", (LPSTR)pddmDat
                    a->captions[i]);
 11669                        ;			}
 11670                        ;			*/
 11671                        ;			break;
 11672                        	.line	1900
 11673 04:3190: 82 53 03     	brl	L10135
 11674                        ;		case FX_DRAW_WINDOW:
 11675                        	.line	1901
 11676                        L10137:
 11677                        ;			k_debug_string("menuDropDownWind
                    owProc::FX_DRAW_WINDOW\r\n");
 11678                        	.line	1902
 11679 04:3193: F4 xx xx     	pea	#^L460+43
 11680 04:3196: F4 xx xx     	pea	#<L460+43
 11681 04:3199: 22 xx xx xx  	jsl	~~k_debug_string
 11682                        ;
 11683                        ;			pddmData = (PMENUDROPDOWNDATA)pW
                    in->windowData;
 11684                        	.line	1904
 11685 04:319D: A0 45 01     	ldy	#$145
 11686 04:31A0: B7 19        	lda	[<L462+pWin_1],Y
 11687 04:31A2: 85 8D        	sta	<L462+pddmData_1
 11688 04:31A4: A0 47 01     	ldy	#$147
 11689 04:31A7: B7 19        	lda	[<L462+pWin_1],Y
 11690 04:31A9: 85 8F        	sta	<L462+pddmData_1+2
 11691                        ;			if(pddmData)
 11692                        	.line	1905
 11693                        ;			{
 11694 04:31AB: A5 8D        	lda	<L462+pddmData_1
 11695 04:31AD: 05 8F        	ora	<L462+pddmData_1+2
 11696 04:31AF: D0 03        	bne	L465
 11697 04:31B1: 82 56 00     	brl	L10138
 11698                        L465:
 11699                        	.line	1906
 11700                        ;				k_create_context_menu_in
                    _window_ex(pWin,
 11701                        	.line	1907
 11702                        ;						        
                                    -1,
  Mon Dec  7 2020 11:19                                                Page 228


 11703                        ;							
                    				    -1,
 11704                        ;						        
                                    pWin->win_x,
 11705                        ;							
                    				    pWin->win_y,
 11706                        ;							
                    				    pWin->win_width,
 11707                        ;							
                    				    pWin->win_height,
 11708                        ;							
                    				    pddmData->captions,
 11709                        ;							
                    					pddmData->chrome,
 11710                        ;							
                    				    k_getUIGadgetColor(),
 11711                        ;							
                    				    k_getUIMenuColor());
 11712 04:31B4: 22 xx xx xx  	jsl	~~k_getUIMenuColor
 11713 04:31B8: 48           	pha
 11714 04:31B9: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 11715 04:31BD: 48           	pha
 11716 04:31BE: 18           	clc
 11717 04:31BF: A9 6C 00     	lda	#$6c
 11718 04:31C2: 65 8D        	adc	<L462+pddmData_1
 11719 04:31C4: 85 01        	sta	<R0
 11720 04:31C6: A9 00 00     	lda	#$0
 11721 04:31C9: 65 8F        	adc	<L462+pddmData_1+2
 11722 04:31CB: 85 03        	sta	<R0+2
 11723 04:31CD: D4 03        	pei	<R0+2
 11724 04:31CF: D4 01        	pei	<R0
 11725 04:31D1: 18           	clc
 11726 04:31D2: A9 0C 00     	lda	#$c
 11727 04:31D5: 65 8D        	adc	<L462+pddmData_1
 11728 04:31D7: 85 05        	sta	<R1
 11729 04:31D9: A9 00 00     	lda	#$0
 11730 04:31DC: 65 8F        	adc	<L462+pddmData_1+2
 11731 04:31DE: 85 07        	sta	<R1+2
 11732 04:31E0: D4 07        	pei	<R1+2
 11733 04:31E2: D4 05        	pei	<R1
 11734 04:31E4: A0 0E 00     	ldy	#$e
 11735 04:31E7: B7 19        	lda	[<L462+pWin_1],Y
 11736 04:31E9: 48           	pha
 11737 04:31EA: A0 0C 00     	ldy	#$c
 11738 04:31ED: B7 19        	lda	[<L462+pWin_1],Y
 11739 04:31EF: 48           	pha
 11740 04:31F0: A0 0A 00     	ldy	#$a
 11741 04:31F3: B7 19        	lda	[<L462+pWin_1],Y
 11742 04:31F5: 48           	pha
 11743 04:31F6: A0 08 00     	ldy	#$8
 11744 04:31F9: B7 19        	lda	[<L462+pWin_1],Y
 11745 04:31FB: 48           	pha
 11746 04:31FC: F4 FF FF     	pea	#<$ffffffff
 11747 04:31FF: F4 FF FF     	pea	#<$ffffffff
 11748 04:3202: D4 1B        	pei	<L462+pWin_1+2
 11749 04:3204: D4 19        	pei	<L462+pWin_1
 11750 04:3206: 22 xx xx xx  	jsl	~~k_create_context_menu_in_window_ex
 11751                        ;
  Mon Dec  7 2020 11:19                                                Page 229


 11752                        ;			}
 11753                        	.line	1919
 11754                        ;
 11755                        ;			break;
 11756                        L10138:
 11757                        	.line	1921
 11758 04:320A: 82 D9 02     	brl	L10135
 11759                        ;		case FX_LBUTTON_DOWN:
 11760                        	.line	1922
 11761                        L10139:
 11762                        ;			k_debug_string("menuDropDownWind
                    owProc::FX_LBUTTON_DOWN\r\n");
 11763                        	.line	1923
 11764 04:320D: F4 xx xx     	pea	#^L460+84
 11765 04:3210: F4 xx xx     	pea	#<L460+84
 11766 04:3213: 22 xx xx xx  	jsl	~~k_debug_string
 11767                        ;
 11768                        ;			pddmData = (PMENUDROPDOWNDATA)pW
                    in->windowData;
 11769                        	.line	1925
 11770 04:3217: A0 45 01     	ldy	#$145
 11771 04:321A: B7 19        	lda	[<L462+pWin_1],Y
 11772 04:321C: 85 8D        	sta	<L462+pddmData_1
 11773 04:321E: A0 47 01     	ldy	#$147
 11774 04:3221: B7 19        	lda	[<L462+pWin_1],Y
 11775 04:3223: 85 8F        	sta	<L462+pddmData_1+2
 11776                        ;			if(pddmData->selected!=-1)
 11777                        	.line	1926
 11778                        ;			{
 11779 04:3225: A0 BC 01     	ldy	#$1bc
 11780 04:3228: B7 8D        	lda	[<L462+pddmData_1],Y
 11781 04:322A: C9 FF FF     	cmp	#<$ffffffff
 11782 04:322D: D0 03        	bne	L466
 11783 04:322F: 82 31 01     	brl	L10140
 11784                        L466:
 11785                        	.line	1927
 11786                        ;				/*
 11787                        ;				k_scratch_restore_bitblt
                    (0,0,
 11788                        ;							
                    			 pWin->win_width,
 11789                        ;							
                    			 pWin->win_height,
 11790                        ;							
                    			 pWin->win_x,
 11791                        ;							
                    			 pWin->win_y);
 11792                        ;				*/
 11793                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,
 11794                        	.line	1935
 11795                        ;							
                    		pWin->win_y,
 11796                        ;							
                    		pWin->win_width,
 11797                        ;							
                    		pWin->win_height,
 11798                        ;							
  Mon Dec  7 2020 11:19                                                Page 230


                    		0,
 11799                        ;							
                    		0x00);
 11800 04:3232: F4 00 00     	pea	#<$0
 11801 04:3235: F4 00 00     	pea	#<$0
 11802 04:3238: A0 0E 00     	ldy	#$e
 11803 04:323B: B7 19        	lda	[<L462+pWin_1],Y
 11804 04:323D: 48           	pha
 11805 04:323E: A0 0C 00     	ldy	#$c
 11806 04:3241: B7 19        	lda	[<L462+pWin_1],Y
 11807 04:3243: 48           	pha
 11808 04:3244: A0 00 00     	ldy	#$0
 11809 04:3247: 5A           	phy
 11810 04:3248: A0 0A 00     	ldy	#$a
 11811 04:324B: B7 19        	lda	[<L462+pWin_1],Y
 11812 04:324D: 7A           	ply
 11813 04:324E: 2A           	rol	A
 11814 04:324F: 6A           	ror	A
 11815 04:3250: 10 01        	bpl	L467
 11816 04:3252: 88           	dey
 11817                        L467:
 11818 04:3253: 85 01        	sta	<R0
 11819 04:3255: 84 03        	sty	<R0+2
 11820 04:3257: D4 03        	pei	<R0+2
 11821 04:3259: D4 01        	pei	<R0
 11822 04:325B: A0 00 00     	ldy	#$0
 11823 04:325E: 5A           	phy
 11824 04:325F: A0 08 00     	ldy	#$8
 11825 04:3262: B7 19        	lda	[<L462+pWin_1],Y
 11826 04:3264: 7A           	ply
 11827 04:3265: 2A           	rol	A
 11828 04:3266: 6A           	ror	A
 11829 04:3267: 10 01        	bpl	L468
 11830 04:3269: 88           	dey
 11831                        L468:
 11832 04:326A: 85 05        	sta	<R1
 11833 04:326C: 84 07        	sty	<R1+2
 11834 04:326E: D4 07        	pei	<R1+2
 11835 04:3270: D4 05        	pei	<R1
 11836 04:3272: 22 xx xx xx  	jsl	~~k_vdma_fill_rect_ex
 11837                        ;
 11838                        ;				pWin->isVisible = FALSE;
 11839                        	.line	1942
 11840 04:3276: E2 20        	sep	#$20
 11841                        	longa	off
 11842 04:3278: A9 00        	lda	#$0
 11843 04:327A: A0 44 01     	ldy	#$144
 11844 04:327D: 97 19        	sta	[<L462+pWin_1],Y
 11845 04:327F: C2 20        	rep	#$20
 11846                        	longa	on
 11847                        ;
 11848                        ;				k_debug_pointer("k_size_
                    dropdown_menus:hwnd:",pMsg->hwnd);
 11849                        	.line	1944
 11850 04:3281: A0 0C 00     	ldy	#$c
 11851 04:3284: B7 96        	lda	[<L461+pMsg_0],Y
 11852 04:3286: 48           	pha
 11853 04:3287: A0 0A 00     	ldy	#$a
  Mon Dec  7 2020 11:19                                                Page 231


 11854 04:328A: B7 96        	lda	[<L461+pMsg_0],Y
 11855 04:328C: 48           	pha
 11856 04:328D: F4 xx xx     	pea	#^L460+126
 11857 04:3290: F4 xx xx     	pea	#<L460+126
 11858 04:3293: 22 xx xx xx  	jsl	~~k_debug_pointer
 11859                        ;				k_debug_integer("k_size_
                    dropdown_menus:id:",pddmData->selected);
 11860                        	.line	1945
 11861 04:3297: A0 BC 01     	ldy	#$1bc
 11862 04:329A: B7 8D        	lda	[<L462+pddmData_1],Y
 11863 04:329C: 48           	pha
 11864 04:329D: F4 xx xx     	pea	#^L460+154
 11865 04:32A0: F4 xx xx     	pea	#<L460+154
 11866 04:32A3: 22 xx xx xx  	jsl	~~k_debug_integer
 11867                        ;				k_debug_integer("k_size_
                    dropdown_menus:id:",pddmData->ids[pddmData->selected]);
 11868                        	.line	1946
 11869 04:32A7: A0 BC 01     	ldy	#$1bc
 11870 04:32AA: B7 8D        	lda	[<L462+pddmData_1],Y
 11871 04:32AC: 85 05        	sta	<R1
 11872 04:32AE: 64 07        	stz	<R1+2
 11873 04:32B0: D4 07        	pei	<R1+2
 11874 04:32B2: D4 05        	pei	<R1
 11875 04:32B4: A9 01 00     	lda	#$1
 11876                        	xref	~~~lasl
 11877 04:32B7: 22 xx xx xx  	jsl	~~~lasl
 11878 04:32BB: 85 01        	sta	<R0
 11879 04:32BD: 86 03        	stx	<R0+2
 11880 04:32BF: 18           	clc
 11881 04:32C0: A9 84 00     	lda	#$84
 11882 04:32C3: 65 8D        	adc	<L462+pddmData_1
 11883 04:32C5: 85 09        	sta	<R2
 11884 04:32C7: A9 00 00     	lda	#$0
 11885 04:32CA: 65 8F        	adc	<L462+pddmData_1+2
 11886 04:32CC: 85 0B        	sta	<R2+2
 11887 04:32CE: 18           	clc
 11888 04:32CF: A5 09        	lda	<R2
 11889 04:32D1: 65 01        	adc	<R0
 11890 04:32D3: 85 0D        	sta	<R3
 11891 04:32D5: A5 0B        	lda	<R2+2
 11892 04:32D7: 65 03        	adc	<R0+2
 11893 04:32D9: 85 0F        	sta	<R3+2
 11894 04:32DB: A7 0D        	lda	[<R3]
 11895 04:32DD: 48           	pha
 11896 04:32DE: F4 xx xx     	pea	#^L460+180
 11897 04:32E1: F4 xx xx     	pea	#<L460+180
 11898 04:32E4: 22 xx xx xx  	jsl	~~k_debug_integer
 11899                        ;
 11900                        ;
 11901                        ;
 11902                        ;
 11903                        ;				k_send_command_message(p
                    Win->pParentWindow,
 11904                        	.line	1951
 11905                        ;						 	
                     	 	   FX_MENU_COMMAND,
 11906                        ;							
                    		   CTL_MENU_SELECTED,
  Mon Dec  7 2020 11:19                                                Page 232


 11907                        ;							
                    		   pddmData->ids[pddmData->selected],
 11908                        ;							
                    		   pddmData->selected,
 11909                        ;							
                    		   (ULONG)pWin->hMenu);
 11910 04:32E8: A0 3A 01     	ldy	#$13a
 11911 04:32EB: B7 19        	lda	[<L462+pWin_1],Y
 11912 04:32ED: 48           	pha
 11913 04:32EE: A0 38 01     	ldy	#$138
 11914 04:32F1: B7 19        	lda	[<L462+pWin_1],Y
 11915 04:32F3: 48           	pha
 11916 04:32F4: A0 BC 01     	ldy	#$1bc
 11917 04:32F7: B7 8D        	lda	[<L462+pddmData_1],Y
 11918 04:32F9: 85 01        	sta	<R0
 11919 04:32FB: 64 03        	stz	<R0+2
 11920 04:32FD: D4 03        	pei	<R0+2
 11921 04:32FF: D4 01        	pei	<R0
 11922 04:3301: A0 BC 01     	ldy	#$1bc
 11923 04:3304: B7 8D        	lda	[<L462+pddmData_1],Y
 11924 04:3306: 85 09        	sta	<R2
 11925 04:3308: 64 0B        	stz	<R2+2
 11926 04:330A: D4 0B        	pei	<R2+2
 11927 04:330C: D4 09        	pei	<R2
 11928 04:330E: A9 01 00     	lda	#$1
 11929                        	xref	~~~lasl
 11930 04:3311: 22 xx xx xx  	jsl	~~~lasl
 11931 04:3315: 85 05        	sta	<R1
 11932 04:3317: 86 07        	stx	<R1+2
 11933 04:3319: 18           	clc
 11934 04:331A: A9 84 00     	lda	#$84
 11935 04:331D: 65 8D        	adc	<L462+pddmData_1
 11936 04:331F: 85 0D        	sta	<R3
 11937 04:3321: A9 00 00     	lda	#$0
 11938 04:3324: 65 8F        	adc	<L462+pddmData_1+2
 11939 04:3326: 85 0F        	sta	<R3+2
 11940 04:3328: 18           	clc
 11941 04:3329: A5 0D        	lda	<R3
 11942 04:332B: 65 05        	adc	<R1
 11943 04:332D: 85 11        	sta	<17
 11944 04:332F: A5 0F        	lda	<R3+2
 11945 04:3331: 65 07        	adc	<R1+2
 11946 04:3333: 85 13        	sta	<17+2
 11947 04:3335: A7 11        	lda	[<17]
 11948 04:3337: 48           	pha
 11949 04:3338: F4 01 00     	pea	#<$1
 11950 04:333B: F4 01 FA     	pea	#<$fa01
 11951 04:333E: A0 36 01     	ldy	#$136
 11952 04:3341: B7 19        	lda	[<L462+pWin_1],Y
 11953 04:3343: 48           	pha
 11954 04:3344: A0 34 01     	ldy	#$134
 11955 04:3347: B7 19        	lda	[<L462+pWin_1],Y
 11956 04:3349: 48           	pha
 11957 04:334A: 22 xx xx xx  	jsl	~~k_send_command_message
 11958                        ;
 11959                        ;				return FALSE;
 11960                        	.line	1958
 11961 04:334E: A9 00 00     	lda	#$0
  Mon Dec  7 2020 11:19                                                Page 233


 11962                        L469:
 11963 04:3351: A8           	tay
 11964 04:3352: A5 94        	lda	<L461+2
 11965 04:3354: 85 98        	sta	<L461+2+4
 11966 04:3356: A5 93        	lda	<L461+1
 11967 04:3358: 85 97        	sta	<L461+1+4
 11968 04:335A: 2B           	pld
 11969 04:335B: 3B           	tsc
 11970 04:335C: 18           	clc
 11971 04:335D: 69 96 00     	adc	#L461+4
 11972 04:3360: 1B           	tcs
 11973 04:3361: 98           	tya
 11974 04:3362: 6B           	rtl
 11975                        ;			}
 11976                        	.line	1959
 11977                        ;
 11978                        ;			break;
 11979                        L10140:
 11980                        	.line	1961
 11981 04:3363: 82 80 01     	brl	L10135
 11982                        ;
 11983                        ;		case FX_LBUTTON_UP:
 11984                        	.line	1963
 11985                        L10141:
 11986                        ;			k_debug_string("menuDropDownWind
                    owProc::FX_LBUTTON_UP\r\n");
 11987                        	.line	1964
 11988 04:3366: F4 xx xx     	pea	#^L460+206
 11989 04:3369: F4 xx xx     	pea	#<L460+206
 11990 04:336C: 22 xx xx xx  	jsl	~~k_debug_string
 11991                        ;			break;
 11992                        	.line	1965
 11993 04:3370: 82 73 01     	brl	L10135
 11994                        ;		case FX_MOUSE_ENTER:
 11995                        	.line	1966
 11996                        L10142:
 11997                        ;			k_debug_string("menuDropDownWind
                    owProc::FX_MOUSE_ENTER\r\n");
 11998                        	.line	1967
 11999 04:3373: F4 xx xx     	pea	#^L460+246
 12000 04:3376: F4 xx xx     	pea	#<L460+246
 12001 04:3379: 22 xx xx xx  	jsl	~~k_debug_string
 12002                        ;
 12003                        ;			break;
 12004                        	.line	1969
 12005 04:337D: 82 66 01     	brl	L10135
 12006                        ;		case FX_MOUSE_MOVE:
 12007                        	.line	1970
 12008                        L10143:
 12009                        ;
 12010                        ;			cy = *((INT*)&pMsg->data[3]) - p
                    Win->win_y;
 12011                        	.line	1972
 12012 04:3380: 38           	sec
 12013 04:3381: A0 19 00     	ldy	#$19
 12014 04:3384: B7 96        	lda	[<L461+pMsg_0],Y
 12015 04:3386: A0 0A 00     	ldy	#$a
 12016 04:3389: F7 19        	sbc	[<L462+pWin_1],Y
  Mon Dec  7 2020 11:19                                                Page 234


 12017 04:338B: 85 87        	sta	<L462+cy_1
 12018                        ;
 12019                        ;			if(cy > 4 &&  cy < (pWin->win_y+
                    pWin->win_height))
 12020                        	.line	1974
 12021                        ;			{
 12022 04:338D: A9 04 00     	lda	#$4
 12023 04:3390: C5 87        	cmp	<L462+cy_1
 12024 04:3392: 90 03        	bcc	L470
 12025 04:3394: 82 AB 00     	brl	L10144
 12026                        L470:
 12027 04:3397: 18           	clc
 12028 04:3398: A0 0A 00     	ldy	#$a
 12029 04:339B: B7 19        	lda	[<L462+pWin_1],Y
 12030 04:339D: A0 0E 00     	ldy	#$e
 12031 04:33A0: 77 19        	adc	[<L462+pWin_1],Y
 12032 04:33A2: 85 01        	sta	<R0
 12033 04:33A4: A5 87        	lda	<L462+cy_1
 12034 04:33A6: C5 01        	cmp	<R0
 12035 04:33A8: 90 03        	bcc	L471
 12036 04:33AA: 82 95 00     	brl	L10144
 12037                        L471:
 12038                        	.line	1975
 12039                        ;				size = (INT)((cy - 4)/10
                    );
 12040                        	.line	1976
 12041 04:33AD: 18           	clc
 12042 04:33AE: A9 FC FF     	lda	#$fffc
 12043 04:33B1: 65 87        	adc	<L462+cy_1
 12044 04:33B3: 85 01        	sta	<R0
 12045 04:33B5: A5 01        	lda	<R0
 12046 04:33B7: A2 0A 00     	ldx	#<$a
 12047                        	xref	~~~udv
 12048 04:33BA: 22 xx xx xx  	jsl	~~~udv
 12049 04:33BE: 85 85        	sta	<L462+size_1
 12050                        ;
 12051                        ;				pddmData = (PMENUDROPDOW
                    NDATA)pWin->windowData;
 12052                        	.line	1978
 12053 04:33C0: A0 45 01     	ldy	#$145
 12054 04:33C3: B7 19        	lda	[<L462+pWin_1],Y
 12055 04:33C5: 85 8D        	sta	<L462+pddmData_1
 12056 04:33C7: A0 47 01     	ldy	#$147
 12057 04:33CA: B7 19        	lda	[<L462+pWin_1],Y
 12058 04:33CC: 85 8F        	sta	<L462+pddmData_1+2
 12059                        ;				if(pddmData)
 12060                        	.line	1979
 12061                        ;				{
 12062 04:33CE: A5 8D        	lda	<L462+pddmData_1
 12063 04:33D0: 05 8F        	ora	<L462+pddmData_1+2
 12064 04:33D2: D0 03        	bne	L472
 12065 04:33D4: 82 6B 00     	brl	L10145
 12066                        L472:
 12067                        	.line	1980
 12068                        ;					if(pddmData->sel
                    ected!=size)
 12069                        	.line	1981
 12070                        ;					{
  Mon Dec  7 2020 11:19                                                Page 235


 12071 04:33D7: A0 BC 01     	ldy	#$1bc
 12072 04:33DA: B7 8D        	lda	[<L462+pddmData_1],Y
 12073 04:33DC: C5 85        	cmp	<L462+size_1
 12074 04:33DE: D0 03        	bne	L473
 12075 04:33E0: 82 5F 00     	brl	L10146
 12076                        L473:
 12077                        	.line	1982
 12078                        ;						k_create
                    _context_menu_in_window_ex(pWin,
 12079                        	.line	1983
 12080                        ;							
                    						    size,
 12081                        ;							
                    							pddmData
                    ->selected,
 12082                        ;							
                    						    pWin->win_x,
 12083                        ;							
                    						    pWin->win_y,
 12084                        ;							
                    						    pWin->win_wi
                    dth,
 12085                        ;							
                    						    pWin->win_he
                    ight,
 12086                        ;							
                    						    pddmData->ca
                    ptions,
 12087                        ;							
                    							pddmData
                    ->chrome,
 12088                        ;							
                    						    k_getUIGadge
                    tColor(),
 12089                        ;							
                    						    k_getUIMenuC
                    olor());
 12090 04:33E3: 22 xx xx xx  	jsl	~~k_getUIMenuColor
 12091 04:33E7: 48           	pha
 12092 04:33E8: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 12093 04:33EC: 48           	pha
 12094 04:33ED: 18           	clc
 12095 04:33EE: A9 6C 00     	lda	#$6c
 12096 04:33F1: 65 8D        	adc	<L462+pddmData_1
 12097 04:33F3: 85 01        	sta	<R0
 12098 04:33F5: A9 00 00     	lda	#$0
 12099 04:33F8: 65 8F        	adc	<L462+pddmData_1+2
 12100 04:33FA: 85 03        	sta	<R0+2
 12101 04:33FC: D4 03        	pei	<R0+2
 12102 04:33FE: D4 01        	pei	<R0
 12103 04:3400: 18           	clc
 12104 04:3401: A9 0C 00     	lda	#$c
 12105 04:3404: 65 8D        	adc	<L462+pddmData_1
 12106 04:3406: 85 05        	sta	<R1
 12107 04:3408: A9 00 00     	lda	#$0
 12108 04:340B: 65 8F        	adc	<L462+pddmData_1+2
 12109 04:340D: 85 07        	sta	<R1+2
 12110 04:340F: D4 07        	pei	<R1+2
  Mon Dec  7 2020 11:19                                                Page 236


 12111 04:3411: D4 05        	pei	<R1
 12112 04:3413: A0 0E 00     	ldy	#$e
 12113 04:3416: B7 19        	lda	[<L462+pWin_1],Y
 12114 04:3418: 48           	pha
 12115 04:3419: A0 0C 00     	ldy	#$c
 12116 04:341C: B7 19        	lda	[<L462+pWin_1],Y
 12117 04:341E: 48           	pha
 12118 04:341F: A0 0A 00     	ldy	#$a
 12119 04:3422: B7 19        	lda	[<L462+pWin_1],Y
 12120 04:3424: 48           	pha
 12121 04:3425: A0 08 00     	ldy	#$8
 12122 04:3428: B7 19        	lda	[<L462+pWin_1],Y
 12123 04:342A: 48           	pha
 12124 04:342B: A0 BC 01     	ldy	#$1bc
 12125 04:342E: B7 8D        	lda	[<L462+pddmData_1],Y
 12126 04:3430: 48           	pha
 12127 04:3431: D4 85        	pei	<L462+size_1
 12128 04:3433: D4 1B        	pei	<L462+pWin_1+2
 12129 04:3435: D4 19        	pei	<L462+pWin_1
 12130 04:3437: 22 xx xx xx  	jsl	~~k_create_context_menu_in_window_ex
 12131                        ;						pddmData
                    ->selected = size;
 12132                        	.line	1994
 12133 04:343B: A5 85        	lda	<L462+size_1
 12134 04:343D: A0 BC 01     	ldy	#$1bc
 12135 04:3440: 97 8D        	sta	[<L462+pddmData_1],Y
 12136                        ;					}
 12137                        	.line	1995
 12138                        ;				}
 12139                        L10146:
 12140                        	.line	1996
 12141                        ;			}
 12142                        L10145:
 12143                        	.line	1997
 12144                        ;
 12145                        ;
 12146                        ;			break;
 12147                        L10144:
 12148                        	.line	2000
 12149 04:3442: 82 A1 00     	brl	L10135
 12150                        ;
 12151                        ;		case FX_MOUSE_EXIT:
 12152                        	.line	2002
 12153                        L10147:
 12154                        ;			k_debug_string("menuDropDownWind
                    owProc::FX_MOUSE_EXIT\r\n");
 12155                        	.line	2003
 12156 04:3445: F4 xx xx     	pea	#^L460+287
 12157 04:3448: F4 xx xx     	pea	#<L460+287
 12158 04:344B: 22 xx xx xx  	jsl	~~k_debug_string
 12159                        ;			/*
 12160                        ;			k_scratch_restore_bitblt(0,0,
 12161                        ;							
                    		 pWin->win_width,
 12162                        ;							
                    		 pWin->win_height,
 12163                        ;							
                    		 pWin->win_x,
  Mon Dec  7 2020 11:19                                                Page 237


 12164                        ;							
                    		 pWin->win_y);
 12165                        ;
 12166                        ;			*/
 12167                        ;			k_vdma_fill_rect_ex(pWin->win_x,
 12168                        	.line	2012
 12169                        ;					 	 	
                     	 pWin->win_y,
 12170                        ;							
                    	 pWin->win_width,
 12171                        ;							
                    	 pWin->win_height,
 12172                        ;							
                    	 0,
 12173                        ;							
                    	 0x00);
 12174 04:344F: F4 00 00     	pea	#<$0
 12175 04:3452: F4 00 00     	pea	#<$0
 12176 04:3455: A0 0E 00     	ldy	#$e
 12177 04:3458: B7 19        	lda	[<L462+pWin_1],Y
 12178 04:345A: 48           	pha
 12179 04:345B: A0 0C 00     	ldy	#$c
 12180 04:345E: B7 19        	lda	[<L462+pWin_1],Y
 12181 04:3460: 48           	pha
 12182 04:3461: A0 00 00     	ldy	#$0
 12183 04:3464: 5A           	phy
 12184 04:3465: A0 0A 00     	ldy	#$a
 12185 04:3468: B7 19        	lda	[<L462+pWin_1],Y
 12186 04:346A: 7A           	ply
 12187 04:346B: 2A           	rol	A
 12188 04:346C: 6A           	ror	A
 12189 04:346D: 10 01        	bpl	L474
 12190 04:346F: 88           	dey
 12191                        L474:
 12192 04:3470: 85 01        	sta	<R0
 12193 04:3472: 84 03        	sty	<R0+2
 12194 04:3474: D4 03        	pei	<R0+2
 12195 04:3476: D4 01        	pei	<R0
 12196 04:3478: A0 00 00     	ldy	#$0
 12197 04:347B: 5A           	phy
 12198 04:347C: A0 08 00     	ldy	#$8
 12199 04:347F: B7 19        	lda	[<L462+pWin_1],Y
 12200 04:3481: 7A           	ply
 12201 04:3482: 2A           	rol	A
 12202 04:3483: 6A           	ror	A
 12203 04:3484: 10 01        	bpl	L475
 12204 04:3486: 88           	dey
 12205                        L475:
 12206 04:3487: 85 05        	sta	<R1
 12207 04:3489: 84 07        	sty	<R1+2
 12208 04:348B: D4 07        	pei	<R1+2
 12209 04:348D: D4 05        	pei	<R1
 12210 04:348F: 22 xx xx xx  	jsl	~~k_vdma_fill_rect_ex
 12211                        ;
 12212                        ;			pWin->isVisible = FALSE;
 12213                        	.line	2019
 12214 04:3493: E2 20        	sep	#$20
 12215                        	longa	off
  Mon Dec  7 2020 11:19                                                Page 238


 12216 04:3495: A9 00        	lda	#$0
 12217 04:3497: A0 44 01     	ldy	#$144
 12218 04:349A: 97 19        	sta	[<L462+pWin_1],Y
 12219 04:349C: C2 20        	rep	#$20
 12220                        	longa	on
 12221                        ;
 12222                        ;			return FALSE;
 12223                        	.line	2021
 12224 04:349E: A9 00 00     	lda	#$0
 12225 04:34A1: 82 AD FE     	brl	L469
 12226                        ;
 12227                        ;			break;
 12228                        	.line	2023
 12229                        ;		case FX_CONTROL_COMMAND:
 12230                        	.line	2024
 12231                        L10148:
 12232                        ;		case FX_MENU_COMMAND:
 12233                        	.line	2025
 12234                        L10149:
 12235                        ;			k_debug_integer("menuDropDownWin
                    dowProc::FX_MENU_COMMAND:",pMsg->type);
 12236                        	.line	2026
 12237 04:34A4: A0 08 00     	ldy	#$8
 12238 04:34A7: B7 96        	lda	[<L461+pMsg_0],Y
 12239 04:34A9: 48           	pha
 12240 04:34AA: F4 xx xx     	pea	#^L460+327
 12241 04:34AD: F4 xx xx     	pea	#<L460+327
 12242 04:34B0: 22 xx xx xx  	jsl	~~k_debug_integer
 12243                        ;			break;
 12244                        	.line	2027
 12245 04:34B4: 82 2F 00     	brl	L10135
 12246                        ;		default:
 12247                        	.line	2028
 12248                        L10150:
 12249                        ;			//DefWindowProc(pMsg);
 12250                        ;			break;
 12251                        	.line	2030
 12252 04:34B7: 82 2C 00     	brl	L10135
 12253                        ;		}
 12254                        	.line	2031
 12255                        L10134:
 12256                        	xref	~~~swt
 12257 04:34BA: 22 xx xx xx  	jsl	~~~swt
 12258 04:34BE: 09 00        	dw	9
 12259 04:34C0: 01 0F        	dw	3841
 12260 04:34C2: 72 33        	dw	L10142-1
 12261 04:34C4: 02 0F        	dw	3842
 12262 04:34C6: 44 34        	dw	L10147-1
 12263 04:34C8: 03 0F        	dw	3843
 12264 04:34CA: 7F 33        	dw	L10143-1
 12265 04:34CC: 04 0F        	dw	3844
 12266 04:34CE: 0C 32        	dw	L10139-1
 12267 04:34D0: 06 0F        	dw	3846
 12268 04:34D2: 65 33        	dw	L10141-1
 12269 04:34D4: 00 FA        	dw	64000
 12270 04:34D6: A3 34        	dw	L10148-1
 12271 04:34D8: 01 FA        	dw	64001
 12272 04:34DA: A3 34        	dw	L10149-1
  Mon Dec  7 2020 11:19                                                Page 239


 12273 04:34DC: 00 FB        	dw	64256
 12274 04:34DE: 92 31        	dw	L10137-1
 12275 04:34E0: 03 FF        	dw	65283
 12276 04:34E2: 6C 31        	dw	L10136-1
 12277 04:34E4: B6 34        	dw	L10150-1
 12278                        L10135:
 12279                        ;	}
 12280                        	.line	2032
 12281                        ;
 12282                        ;	return TRUE;
 12283                        L10133:
 12284                        	.line	2034
 12285 04:34E6: A9 01 00     	lda	#$1
 12286 04:34E9: 82 65 FE     	brl	L469
 12287                        ;
 12288                        ;}
 12289                        	.line	2036
 12290                        	.endblock	2036
 12291             00000092   L461	equ	146
 12292             00000015   L462	equ	21
 12293 04:34EC:              	ends
 12294                        	efunc
 12295                        	.endfunc	2036,21,146
 12296                        	.line	2036
 12297                        	data
 12298                        L460:
 12299 00:0A0A: 6D 65 6E 75  	db	$6D,$65,$6E,$75,$44,$72,$6F,$70,$44,$6F,
                    $77,$6E,$57,$69,$6E
       00:0A0E: 44 72 6F 70 
       00:0A12: 44 6F 77 6E 
       00:0A16: 57 69 6E 
 12300 00:0A19: 64 6F 77 50  	db	$64,$6F,$77,$50,$72,$6F,$63,$3A,$3A,$46,
                    $58,$5F,$43,$52,$45
       00:0A1D: 72 6F 63 3A 
       00:0A21: 3A 46 58 5F 
       00:0A25: 43 52 45 
 12301 00:0A28: 41 54 45 5F  	db	$41,$54,$45,$5F,$57,$49,$4E,$44,$4F,$57,
                    $0D,$0A,$00,$6D,$65
       00:0A2C: 57 49 4E 44 
       00:0A30: 4F 57 0D 0A 
       00:0A34: 00 6D 65 
 12302 00:0A37: 6E 75 44 72  	db	$6E,$75,$44,$72,$6F,$70,$44,$6F,$77,$6E,
                    $57,$69,$6E,$64,$6F
       00:0A3B: 6F 70 44 6F 
       00:0A3F: 77 6E 57 69 
       00:0A43: 6E 64 6F 
 12303 00:0A46: 77 50 72 6F  	db	$77,$50,$72,$6F,$63,$3A,$3A,$46,$58,$5F,
                    $44,$52,$41,$57,$5F
       00:0A4A: 63 3A 3A 46 
       00:0A4E: 58 5F 44 52 
       00:0A52: 41 57 5F 
 12304 00:0A55: 57 49 4E 44  	db	$57,$49,$4E,$44,$4F,$57,$0D,$0A,$00,$6D,
                    $65,$6E,$75,$44,$72
       00:0A59: 4F 57 0D 0A 
       00:0A5D: 00 6D 65 6E 
       00:0A61: 75 44 72 
 12305 00:0A64: 6F 70 44 6F  	db	$6F,$70,$44,$6F,$77,$6E,$57,$69,$6E,$64,
                    $6F,$77,$50,$72,$6F
  Mon Dec  7 2020 11:19                                                Page 240


       00:0A68: 77 6E 57 69 
       00:0A6C: 6E 64 6F 77 
       00:0A70: 50 72 6F 
 12306 00:0A73: 63 3A 3A 46  	db	$63,$3A,$3A,$46,$58,$5F,$4C,$42,$55,$54,
                    $54,$4F,$4E,$5F,$44
       00:0A77: 58 5F 4C 42 
       00:0A7B: 55 54 54 4F 
       00:0A7F: 4E 5F 44 
 12307 00:0A82: 4F 57 4E 0D  	db	$4F,$57,$4E,$0D,$0A,$00,$6B,$5F,$73,$69,
                    $7A,$65,$5F,$64,$72
       00:0A86: 0A 00 6B 5F 
       00:0A8A: 73 69 7A 65 
       00:0A8E: 5F 64 72 
 12308 00:0A91: 6F 70 64 6F  	db	$6F,$70,$64,$6F,$77,$6E,$5F,$6D,$65,$6E,
                    $75,$73,$3A,$68,$77
       00:0A95: 77 6E 5F 6D 
       00:0A99: 65 6E 75 73 
       00:0A9D: 3A 68 77 
 12309 00:0AA0: 6E 64 3A 00  	db	$6E,$64,$3A,$00,$6B,$5F,$73,$69,$7A,$65,
                    $5F,$64,$72,$6F,$70
       00:0AA4: 6B 5F 73 69 
       00:0AA8: 7A 65 5F 64 
       00:0AAC: 72 6F 70 
 12310 00:0AAF: 64 6F 77 6E  	db	$64,$6F,$77,$6E,$5F,$6D,$65,$6E,$75,$73,
                    $3A,$69,$64,$3A,$00
       00:0AB3: 5F 6D 65 6E 
       00:0AB7: 75 73 3A 69 
       00:0ABB: 64 3A 00 
 12311 00:0ABE: 6B 5F 73 69  	db	$6B,$5F,$73,$69,$7A,$65,$5F,$64,$72,$6F,
                    $70,$64,$6F,$77,$6E
       00:0AC2: 7A 65 5F 64 
       00:0AC6: 72 6F 70 64 
       00:0ACA: 6F 77 6E 
 12312 00:0ACD: 5F 6D 65 6E  	db	$5F,$6D,$65,$6E,$75,$73,$3A,$69,$64,$3A,
                    $00,$6D,$65,$6E,$75
       00:0AD1: 75 73 3A 69 
       00:0AD5: 64 3A 00 6D 
       00:0AD9: 65 6E 75 
 12313 00:0ADC: 44 72 6F 70  	db	$44,$72,$6F,$70,$44,$6F,$77,$6E,$57,$69,
                    $6E,$64,$6F,$77,$50
       00:0AE0: 44 6F 77 6E 
       00:0AE4: 57 69 6E 64 
       00:0AE8: 6F 77 50 
 12314 00:0AEB: 72 6F 63 3A  	db	$72,$6F,$63,$3A,$3A,$46,$58,$5F,$4C,$42,
                    $55,$54,$54,$4F,$4E
       00:0AEF: 3A 46 58 5F 
       00:0AF3: 4C 42 55 54 
       00:0AF7: 54 4F 4E 
 12315 00:0AFA: 5F 55 50 0D  	db	$5F,$55,$50,$0D,$0A,$00,$6D,$65,$6E,$75,
                    $44,$72,$6F,$70,$44
       00:0AFE: 0A 00 6D 65 
       00:0B02: 6E 75 44 72 
       00:0B06: 6F 70 44 
 12316 00:0B09: 6F 77 6E 57  	db	$6F,$77,$6E,$57,$69,$6E,$64,$6F,$77,$50,
                    $72,$6F,$63,$3A,$3A
       00:0B0D: 69 6E 64 6F 
       00:0B11: 77 50 72 6F 
       00:0B15: 63 3A 3A 
  Mon Dec  7 2020 11:19                                                Page 241


 12317 00:0B18: 46 58 5F 4D  	db	$46,$58,$5F,$4D,$4F,$55,$53,$45,$5F,$45,
                    $4E,$54,$45,$52,$0D
       00:0B1C: 4F 55 53 45 
       00:0B20: 5F 45 4E 54 
       00:0B24: 45 52 0D 
 12318 00:0B27: 0A 00 6D 65  	db	$0A,$00,$6D,$65,$6E,$75,$44,$72,$6F,$70,
                    $44,$6F,$77,$6E,$57
       00:0B2B: 6E 75 44 72 
       00:0B2F: 6F 70 44 6F 
       00:0B33: 77 6E 57 
 12319 00:0B36: 69 6E 64 6F  	db	$69,$6E,$64,$6F,$77,$50,$72,$6F,$63,$3A,
                    $3A,$46,$58,$5F,$4D
       00:0B3A: 77 50 72 6F 
       00:0B3E: 63 3A 3A 46 
       00:0B42: 58 5F 4D 
 12320 00:0B45: 4F 55 53 45  	db	$4F,$55,$53,$45,$5F,$45,$58,$49,$54,$0D,
                    $0A,$00,$6D,$65,$6E
       00:0B49: 5F 45 58 49 
       00:0B4D: 54 0D 0A 00 
       00:0B51: 6D 65 6E 
 12321 00:0B54: 75 44 72 6F  	db	$75,$44,$72,$6F,$70,$44,$6F,$77,$6E,$57,
                    $69,$6E,$64,$6F,$77
       00:0B58: 70 44 6F 77 
       00:0B5C: 6E 57 69 6E 
       00:0B60: 64 6F 77 
 12322 00:0B63: 50 72 6F 63  	db	$50,$72,$6F,$63,$3A,$3A,$46,$58,$5F,$4D,
                    $45,$4E,$55,$5F,$43
       00:0B67: 3A 3A 46 58 
       00:0B6B: 5F 4D 45 4E 
       00:0B6F: 55 5F 43 
 12323 00:0B72: 4F 4D 4D 41  	db	$4F,$4D,$4D,$41,$4E,$44,$3A,$00
       00:0B76: 4E 44 3A 00 
 12324 00:0B7A:              	ends
 12325                        ;
 12326                        ;/*
 12327                        ;PWINDOW	k_user_CreateMenuDropItem(HWND hWndParen
                    t,LPCSTR caption,HMENU hMenu,int x,int y,int width,int heigh
                    t)
 12328                        ;{
 12329                        ;	PWINDOW pWin = NULL;
 12330                        ;
 12331                        ;	k_debug_strings("k_user_CreateMenuDropItem:","En
                    ter");
 12332                        ;
 12333                        ;	pWin = k_user_CreateWindow(0,
 12334                        ;							
                       "menuItemWindowClass",
 12335                        ;							
                        caption,
 12336                        ;							
                    	x,y,
 12337                        ;							
                    	width,height,
 12338                        ;							
                    	hWndParent,
 12339                        ;							
                    	hMenu,
 12340                        ;							
  Mon Dec  7 2020 11:19                                                Page 242


                    	NULL);
 12341                        ;	if(pWin)
 12342                        ;	{
 12343                        ;		//k_add_child_window(k_getWindowFromHand
                    le(hWndParent),pWin,k_update_hover_location);
 12344                        ;		//k_debug_strings("k_user_CreateButton:"
                    ,"k_send_window_message");
 12345                        ;		k_send_window_message(k_getHandleFromWin
                    dow(pWin),FX_CREATE_WINDOW,NULL,0);
 12346                        ;		//k_send_command_message(k_getHandleFrom
                    Window(pWin),FX_CONTROL_COMMAND,CTL_CMD_CAPTION,0,(ULONG)k_s
                    tring_copy_string(caption),0L);
 12347                        ;	}
 12348                        ;
 12349                        ;	//k_debug_strings("k_user_CreateMenuAnchor:","Ex
                    it");
 12350                        ;
 12351                        ;	return pWin;
 12352                        ;}
 12353                        ;
 12354                        ;BOOL menuItemWindowProc(PFXOSMESSAGE pMsg)
 12355                        ;{
 12356                        ;	PFXPROCESS p = NULL;
 12357                        ;	PWINDOW	   pWin = NULL;
 12358                        ;	PBUTTON	   pButton = NULL;
 12359                        ;	//LPCSTR	   captions[] = {"About FX/OS...
                    ",NULL};
 12360                        ;	LPCSTR	   captions[25];
 12361                        ;	UINT	   size = 0;
 12362                        ;	PMENU	   pMenu = NULL;
 12363                        ;	PMENUDROPDOWNDATA pddmData = NULL;
 12364                        ;
 12365                        ;	if(pMsg!=NULL)
 12366                        ;	{
 12367                        ;		p = k_exec_get_current_process();
 12368                        ;		pWin = k_getWindowFromHandle(pMsg->hwnd)
                    ;
 12369                        ;		//pButton = ((PBUTTON)pWin->windowData);
 12370                        ;		//k_debug_long("consoleWindowProc::Proce
                    ssId:",p->procId);
 12371                        ;
 12372                        ;		switch(pMsg->type)
 12373                        ;		{
 12374                        ;		case FX_CREATE_WINDOW:
 12375                        ;			//k_debug_long("menuDropDownWind
                    owProc::ProcessId:",p->procId);
 12376                        ;			k_debug_strings("menuItemWindowP
                    roc::FX_CREATE_WINDOW:",pWin->win_title);
 12377                        ;			break;
 12378                        ;		case FX_MOUSE_ENTER:
 12379                        ;			//k_debug_long("menuDropDownWind
                    owProc::ProcessId:",p->procId);
 12380                        ;			k_debug_strings("menuItemWindowP
                    roc::FX_MOUSE_ENTER:",pWin->win_title);
 12381                        ;
 12382                        ;			//k_vdma_fill_rect(pWin->win_x,p
                    Win->win_y,pWin->win_width,pWin->win_height,k_getUIGadgetCol
                    or());
  Mon Dec  7 2020 11:19                                                Page 243


 12383                        ;			//k_draw_text_point(pWin->win_ti
                    tle,pWin->win_x,pWin->win_y,k_getUIMenuColor());
 12384                        ;
 12385                        ;
 12386                        ;			break;
 12387                        ;		case FX_MOUSE_EXIT:
 12388                        ;			//k_debug_long("menuDropDownWind
                    owProc::ProcessId:",p->procId);
 12389                        ;			k_debug_strings("menuItemWindowP
                    roc::FX_MOUSE_EXIT:",pWin->win_title);
 12390                        ;
 12391                        ;			//k_vdma_fill_rect(pWin->win_x,p
                    Win->win_y,pWin->win_width,pWin->win_height,k_getUIMenuColor
                    ());
 12392                        ;			//k_draw_text_point(pWin->win_ti
                    tle,pWin->win_x,pWin->win_y,k_getUIGadgetColor());
 12393                        ;			break;
 12394                        ;		case FX_DRAW_WINDOW:
 12395                        ;
 12396                        ;			break;
 12397                        ;		case FX_CONTROL_COMMAND:
 12398                        ;			break;
 12399                        ;
 12400                        ;		default:
 12401                        ;			break;
 12402                        ;		}
 12403                        ;	}
 12404                        ;	return TRUE;
 12405                        ;}
 12406                        ;*/
 12407                        ;
 12408                        ;
 12409                        ;PWINDOW	k_user_CreateButton(HWND hWndParent,LPCS
                    TR caption,UINT buttonId,int x,int y,int width,int height)
 12410                        ;{
 12411                        	.line	2121
 12412                        	.line	2122
 12413                        	WINMAN
 12414                        	xdef	~~k_user_CreateButton
 12415                        	func
 12416                        	.function	2122
 12417                        ~~k_user_CreateButton:
 12418                        	longa	on
 12419                        	longi	on
 12420 04:34EC: 3B           	tsc
 12421 04:34ED: 38           	sec
 12422 04:34EE: E9 14 00     	sbc	#L477
 12423 04:34F1: 1B           	tcs
 12424 04:34F2: 0B           	phd
 12425 04:34F3: 5B           	tcd
 12426             00000004   hWndParent_0	set	4
 12427             00000008   caption_0	set	8
 12428             0000000C   buttonId_0	set	12
 12429             0000000E   x_0	set	14
 12430             00000010   y_0	set	16
 12431             00000012   width_0	set	18
 12432             00000014   height_0	set	20
 12433                        	.block	2122
  Mon Dec  7 2020 11:19                                                Page 244


 12434                        ;	PWINDOW pWin = NULL;
 12435                        ;	PWINDOW pParent = NULL;
 12436                        ;
 12437                        ;	//k_debug_strings("k_user_CreateButton:","Enter"
                    );
 12438                        ;
 12439                        ;	if(width < 0)
 12440             00000000   pWin_1	set	0
 12441             00000004   pParent_1	set	4
 12442                        	.sym	pWin,0,138,1,32,27
 12443                        	.sym	pParent,4,138,1,32,27
 12444                        	.sym	hWndParent,4,129,6,32
 12445                        	.sym	caption,8,142,6,32
 12446                        	.sym	buttonId,12,16,6,16
 12447                        	.sym	x,14,5,6,16
 12448                        	.sym	y,16,5,6,16
 12449                        	.sym	width,18,5,6,16
 12450                        	.sym	height,20,5,6,16
 12451 04:34F4: 64 0D        	stz	<L478+pWin_1
 12452 04:34F6: 64 0F        	stz	<L478+pWin_1+2
 12453 04:34F8: 64 11        	stz	<L478+pParent_1
 12454 04:34FA: 64 13        	stz	<L478+pParent_1+2
 12455                        	.line	2128
 12456                        ;		width = (FONTW * strlen(caption)) + (2 *
                     FONTW);
 12457 04:34FC: A5 26        	lda	<L477+width_0
 12458 04:34FE: 30 03        	bmi	L480
 12459 04:3500: 82 2C 00     	brl	L10151
 12460                        L480:
 12461                        	.line	2129
 12462 04:3503: 22 xx xx xx  	jsl	~~k_font_getFontWidth
 12463 04:3507: 85 05        	sta	<R1
 12464 04:3509: A5 05        	lda	<R1
 12465 04:350B: 0A           	asl	A
 12466 04:350C: 85 01        	sta	<R0
 12467 04:350E: D4 1E        	pei	<L477+caption_0+2
 12468 04:3510: D4 1C        	pei	<L477+caption_0
 12469 04:3512: 22 xx xx xx  	jsl	~~strlen
 12470 04:3516: 85 05        	sta	<R1
 12471 04:3518: 22 xx xx xx  	jsl	~~k_font_getFontWidth
 12472 04:351C: 85 09        	sta	<R2
 12473 04:351E: A5 09        	lda	<R2
 12474 04:3520: A6 05        	ldx	<R1
 12475                        	xref	~~~mul
 12476 04:3522: 22 xx xx xx  	jsl	~~~mul
 12477 04:3526: 85 05        	sta	<R1
 12478 04:3528: 18           	clc
 12479 04:3529: A5 05        	lda	<R1
 12480 04:352B: 65 01        	adc	<R0
 12481 04:352D: 85 26        	sta	<L477+width_0
 12482                        ;	if(height < 0)
 12483                        L10151:
 12484                        	.line	2130
 12485                        ;		height = FONTH * 3;
 12486 04:352F: A5 28        	lda	<L477+height_0
 12487 04:3531: 30 03        	bmi	L481
 12488 04:3533: 82 0D 00     	brl	L10152
 12489                        L481:
  Mon Dec  7 2020 11:19                                                Page 245


 12490                        	.line	2131
 12491 04:3536: 22 xx xx xx  	jsl	~~k_font_getFontHeight
 12492 04:353A: 85 01        	sta	<R0
 12493 04:353C: A5 01        	lda	<R0
 12494 04:353E: 0A           	asl	A
 12495 04:353F: 65 01        	adc	<R0
 12496 04:3541: 85 28        	sta	<L477+height_0
 12497                        ;
 12498                        ;
 12499                        ;	k_debug_integer("k_user_CreateButton:cx:",x);
 12500                        L10152:
 12501                        	.line	2134
 12502 04:3543: D4 22        	pei	<L477+x_0
 12503 04:3545: F4 xx xx     	pea	#^L476
 12504 04:3548: F4 xx xx     	pea	#<L476
 12505 04:354B: 22 xx xx xx  	jsl	~~k_debug_integer
 12506                        ;	k_debug_integer("k_user_CreateButton:cy:",y);
 12507                        	.line	2135
 12508 04:354F: D4 24        	pei	<L477+y_0
 12509 04:3551: F4 xx xx     	pea	#^L476+24
 12510 04:3554: F4 xx xx     	pea	#<L476+24
 12511 04:3557: 22 xx xx xx  	jsl	~~k_debug_integer
 12512                        ;	k_debug_integer("k_user_CreateButton:width:",wid
                    th);
 12513                        	.line	2136
 12514 04:355B: D4 26        	pei	<L477+width_0
 12515 04:355D: F4 xx xx     	pea	#^L476+48
 12516 04:3560: F4 xx xx     	pea	#<L476+48
 12517 04:3563: 22 xx xx xx  	jsl	~~k_debug_integer
 12518                        ;	k_debug_integer("k_user_CreateButton:height:",he
                    ight);
 12519                        	.line	2137
 12520 04:3567: D4 28        	pei	<L477+height_0
 12521 04:3569: F4 xx xx     	pea	#^L476+75
 12522 04:356C: F4 xx xx     	pea	#<L476+75
 12523 04:356F: 22 xx xx xx  	jsl	~~k_debug_integer
 12524                        ;
 12525                        ;	pWin = k_user_CreateWindow(FXWS_BORDER | FXWS_VI
                    SIBLE,
 12526                        	.line	2139
 12527                        ;							
                       "buttonWindowClass",
 12528                        ;							
                    	caption,
 12529                        ;							
                    	x,y,
 12530                        ;							
                    	width,height,
 12531                        ;							
                    	hWndParent,
 12532                        ;							
                    	(HMENU)buttonId,
 12533                        ;							
                    	NULL);
 12534 04:3573: F4 00 00     	pea	#^$0
 12535 04:3576: F4 00 00     	pea	#<$0
 12536 04:3579: A0 00 00     	ldy	#$0
 12537 04:357C: A5 20        	lda	<L477+buttonId_0
  Mon Dec  7 2020 11:19                                                Page 246


 12538 04:357E: 10 01        	bpl	L482
 12539 04:3580: 88           	dey
 12540                        L482:
 12541 04:3581: 85 01        	sta	<R0
 12542 04:3583: 84 03        	sty	<R0+2
 12543 04:3585: D4 03        	pei	<R0+2
 12544 04:3587: D4 01        	pei	<R0
 12545 04:3589: D4 1A        	pei	<L477+hWndParent_0+2
 12546 04:358B: D4 18        	pei	<L477+hWndParent_0
 12547 04:358D: D4 28        	pei	<L477+height_0
 12548 04:358F: D4 26        	pei	<L477+width_0
 12549 04:3591: D4 24        	pei	<L477+y_0
 12550 04:3593: D4 22        	pei	<L477+x_0
 12551 04:3595: D4 1E        	pei	<L477+caption_0+2
 12552 04:3597: D4 1C        	pei	<L477+caption_0
 12553 04:3599: F4 xx xx     	pea	#^L476+103
 12554 04:359C: F4 xx xx     	pea	#<L476+103
 12555 04:359F: F4 01 00     	pea	#^$10001
 12556 04:35A2: F4 01 00     	pea	#<$10001
 12557 04:35A5: 22 FB 16 04  	jsl	~~k_user_CreateWindow
 12558 04:35A9: 85 0D        	sta	<L478+pWin_1
 12559 04:35AB: 86 0F        	stx	<L478+pWin_1+2
 12560                        ;
 12561                        ;	k_debug_integer("k_user_CreateButtonA:cx:",pWin-
                    >win_x);
 12562                        	.line	2148
 12563 04:35AD: A0 08 00     	ldy	#$8
 12564 04:35B0: B7 0D        	lda	[<L478+pWin_1],Y
 12565 04:35B2: 48           	pha
 12566 04:35B3: F4 xx xx     	pea	#^L476+121
 12567 04:35B6: F4 xx xx     	pea	#<L476+121
 12568 04:35B9: 22 xx xx xx  	jsl	~~k_debug_integer
 12569                        ;	k_debug_integer("k_user_CreateButtonA:cy:",pWin-
                    >win_y);
 12570                        	.line	2149
 12571 04:35BD: A0 0A 00     	ldy	#$a
 12572 04:35C0: B7 0D        	lda	[<L478+pWin_1],Y
 12573 04:35C2: 48           	pha
 12574 04:35C3: F4 xx xx     	pea	#^L476+146
 12575 04:35C6: F4 xx xx     	pea	#<L476+146
 12576 04:35C9: 22 xx xx xx  	jsl	~~k_debug_integer
 12577                        ;	k_debug_integer("k_user_CreateButtonA:width:",pW
                    in->win_width);
 12578                        	.line	2150
 12579 04:35CD: A0 0C 00     	ldy	#$c
 12580 04:35D0: B7 0D        	lda	[<L478+pWin_1],Y
 12581 04:35D2: 48           	pha
 12582 04:35D3: F4 xx xx     	pea	#^L476+171
 12583 04:35D6: F4 xx xx     	pea	#<L476+171
 12584 04:35D9: 22 xx xx xx  	jsl	~~k_debug_integer
 12585                        ;	k_debug_integer("k_user_CreateButtonA:height:",p
                    Win->win_height);
 12586                        	.line	2151
 12587 04:35DD: A0 0E 00     	ldy	#$e
 12588 04:35E0: B7 0D        	lda	[<L478+pWin_1],Y
 12589 04:35E2: 48           	pha
 12590 04:35E3: F4 xx xx     	pea	#^L476+199
 12591 04:35E6: F4 xx xx     	pea	#<L476+199
  Mon Dec  7 2020 11:19                                                Page 247


 12592 04:35E9: 22 xx xx xx  	jsl	~~k_debug_integer
 12593                        ;
 12594                        ;
 12595                        ;	if(pWin)
 12596                        	.line	2154
 12597                        ;	{
 12598 04:35ED: A5 0D        	lda	<L478+pWin_1
 12599 04:35EF: 05 0F        	ora	<L478+pWin_1+2
 12600 04:35F1: D0 03        	bne	L483
 12601 04:35F3: 82 4F 00     	brl	L10153
 12602                        L483:
 12603                        	.line	2155
 12604                        ;		//k_add_child_window(k_getWindowFromHand
                    le(hWndParent),pWin,k_update_hover_location);//k_buttonHitDe
                    tected);
 12605                        ;
 12606                        ;		//k_debug_strings("k_user_CreateButton:"
                    ,"k_send_window_message");
 12607                        ;		k_send_window_message(k_getHandleFromWin
                    dow(pWin),FX_CREATE_WINDOW,NULL,0);
 12608                        	.line	2159
 12609 04:35F6: F4 00 00     	pea	#<$0
 12610 04:35F9: F4 00 00     	pea	#^$0
 12611 04:35FC: F4 00 00     	pea	#<$0
 12612 04:35FF: F4 03 FF     	pea	#<$ff03
 12613 04:3602: D4 0F        	pei	<L478+pWin_1+2
 12614 04:3604: D4 0D        	pei	<L478+pWin_1
 12615 04:3606: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
 12616 04:360A: 85 01        	sta	<R0
 12617 04:360C: 86 03        	stx	<R0+2
 12618 04:360E: DA           	phx
 12619 04:360F: 48           	pha
 12620 04:3610: 22 xx xx xx  	jsl	~~k_send_window_message
 12621                        ;		//k_debug_strings("k_user_CreateButton:"
                    ,"k_send_command_message");
 12622                        ;		k_send_command_message(k_getHandleFromWi
                    ndow(pWin),FX_CONTROL_COMMAND,CTL_CMD_CAPTION,0,(ULONG)k_str
                    ing_copy_string(caption),0L);
 12623                        	.line	2161
 12624 04:3614: F4 00 00     	pea	#^$0
 12625 04:3617: F4 00 00     	pea	#<$0
 12626 04:361A: D4 1E        	pei	<L477+caption_0+2
 12627 04:361C: D4 1C        	pei	<L477+caption_0
 12628 04:361E: 22 xx xx xx  	jsl	~~k_string_copy_string
 12629 04:3622: 85 01        	sta	<R0
 12630 04:3624: 86 03        	stx	<R0+2
 12631 04:3626: D4 03        	pei	<R0+2
 12632 04:3628: D4 01        	pei	<R0
 12633 04:362A: F4 00 00     	pea	#<$0
 12634 04:362D: F4 01 00     	pea	#<$1
 12635 04:3630: F4 00 FA     	pea	#<$fa00
 12636 04:3633: D4 0F        	pei	<L478+pWin_1+2
 12637 04:3635: D4 0D        	pei	<L478+pWin_1
 12638 04:3637: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
 12639 04:363B: 85 05        	sta	<R1
 12640 04:363D: 86 07        	stx	<R1+2
 12641 04:363F: DA           	phx
 12642 04:3640: 48           	pha
  Mon Dec  7 2020 11:19                                                Page 248


 12643 04:3641: 22 xx xx xx  	jsl	~~k_send_command_message
 12644                        ;
 12645                        ;	}
 12646                        	.line	2163
 12647                        ;
 12648                        ;	//k_debug_strings("k_user_CreateButton:","Exit")
                    ;
 12649                        ;
 12650                        ;	return pWin;
 12651                        L10153:
 12652                        	.line	2167
 12653 04:3645: A6 0F        	ldx	<L478+pWin_1+2
 12654 04:3647: A5 0D        	lda	<L478+pWin_1
 12655                        L484:
 12656 04:3649: A8           	tay
 12657 04:364A: A5 16        	lda	<L477+2
 12658 04:364C: 85 28        	sta	<L477+2+18
 12659 04:364E: A5 15        	lda	<L477+1
 12660 04:3650: 85 27        	sta	<L477+1+18
 12661 04:3652: 2B           	pld
 12662 04:3653: 3B           	tsc
 12663 04:3654: 18           	clc
 12664 04:3655: 69 26 00     	adc	#L477+18
 12665 04:3658: 1B           	tcs
 12666 04:3659: 98           	tya
 12667 04:365A: 6B           	rtl
 12668                        ;}
 12669                        	.line	2168
 12670                        	.endblock	2168
 12671             00000014   L477	equ	20
 12672             0000000D   L478	equ	13
 12673 04:365B:              	ends
 12674                        	efunc
 12675                        	.endfunc	2168,13,20
 12676                        	.line	2168
 12677                        	data
 12678                        L476:
 12679 00:0B7A: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$43,$72,$65,
                    $61,$74,$65,$42,$75
       00:0B7E: 65 72 5F 43 
       00:0B82: 72 65 61 74 
       00:0B86: 65 42 75 
 12680 00:0B89: 74 74 6F 6E  	db	$74,$74,$6F,$6E,$3A,$63,$78,$3A,$00,$6B,
                    $5F,$75,$73,$65,$72
       00:0B8D: 3A 63 78 3A 
       00:0B91: 00 6B 5F 75 
       00:0B95: 73 65 72 
 12681 00:0B98: 5F 43 72 65  	db	$5F,$43,$72,$65,$61,$74,$65,$42,$75,$74,
                    $74,$6F,$6E,$3A,$63
       00:0B9C: 61 74 65 42 
       00:0BA0: 75 74 74 6F 
       00:0BA4: 6E 3A 63 
 12682 00:0BA7: 79 3A 00 6B  	db	$79,$3A,$00,$6B,$5F,$75,$73,$65,$72,$5F,
                    $43,$72,$65,$61,$74
       00:0BAB: 5F 75 73 65 
       00:0BAF: 72 5F 43 72 
       00:0BB3: 65 61 74 
 12683 00:0BB6: 65 42 75 74  	db	$65,$42,$75,$74,$74,$6F,$6E,$3A,$77,$69,
  Mon Dec  7 2020 11:19                                                Page 249


                    $64,$74,$68,$3A,$00
       00:0BBA: 74 6F 6E 3A 
       00:0BBE: 77 69 64 74 
       00:0BC2: 68 3A 00 
 12684 00:0BC5: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$43,$72,$65,
                    $61,$74,$65,$42,$75
       00:0BC9: 65 72 5F 43 
       00:0BCD: 72 65 61 74 
       00:0BD1: 65 42 75 
 12685 00:0BD4: 74 74 6F 6E  	db	$74,$74,$6F,$6E,$3A,$68,$65,$69,$67,$68,
                    $74,$3A,$00,$62,$75
       00:0BD8: 3A 68 65 69 
       00:0BDC: 67 68 74 3A 
       00:0BE0: 00 62 75 
 12686 00:0BE3: 74 74 6F 6E  	db	$74,$74,$6F,$6E,$57,$69,$6E,$64,$6F,$77,
                    $43,$6C,$61,$73,$73
       00:0BE7: 57 69 6E 64 
       00:0BEB: 6F 77 43 6C 
       00:0BEF: 61 73 73 
 12687 00:0BF2: 00 6B 5F 75  	db	$00,$6B,$5F,$75,$73,$65,$72,$5F,$43,$72,
                    $65,$61,$74,$65,$42
       00:0BF6: 73 65 72 5F 
       00:0BFA: 43 72 65 61 
       00:0BFE: 74 65 42 
 12688 00:0C01: 75 74 74 6F  	db	$75,$74,$74,$6F,$6E,$41,$3A,$63,$78,$3A,
                    $00,$6B,$5F,$75,$73
       00:0C05: 6E 41 3A 63 
       00:0C09: 78 3A 00 6B 
       00:0C0D: 5F 75 73 
 12689 00:0C10: 65 72 5F 43  	db	$65,$72,$5F,$43,$72,$65,$61,$74,$65,$42,
                    $75,$74,$74,$6F,$6E
       00:0C14: 72 65 61 74 
       00:0C18: 65 42 75 74 
       00:0C1C: 74 6F 6E 
 12690 00:0C1F: 41 3A 63 79  	db	$41,$3A,$63,$79,$3A,$00,$6B,$5F,$75,$73,
                    $65,$72,$5F,$43,$72
       00:0C23: 3A 00 6B 5F 
       00:0C27: 75 73 65 72 
       00:0C2B: 5F 43 72 
 12691 00:0C2E: 65 61 74 65  	db	$65,$61,$74,$65,$42,$75,$74,$74,$6F,$6E,
                    $41,$3A,$77,$69,$64
       00:0C32: 42 75 74 74 
       00:0C36: 6F 6E 41 3A 
       00:0C3A: 77 69 64 
 12692 00:0C3D: 74 68 3A 00  	db	$74,$68,$3A,$00,$6B,$5F,$75,$73,$65,$72,
                    $5F,$43,$72,$65,$61
       00:0C41: 6B 5F 75 73 
       00:0C45: 65 72 5F 43 
       00:0C49: 72 65 61 
 12693 00:0C4C: 74 65 42 75  	db	$74,$65,$42,$75,$74,$74,$6F,$6E,$41,$3A,
                    $68,$65,$69,$67,$68
       00:0C50: 74 74 6F 6E 
       00:0C54: 41 3A 68 65 
       00:0C58: 69 67 68 
 12694 00:0C5B: 74 3A 00     	db	$74,$3A,$00
 12695 00:0C5E:              	ends
 12696                        ;
 12697                        ;BOOL buttonWindowProc(PFXOSMESSAGE pMsg)
  Mon Dec  7 2020 11:19                                                Page 250


 12698                        ;{
 12699                        	.line	2170
 12700                        	.line	2171
 12701                        	WINMAN
 12702                        	xdef	~~buttonWindowProc
 12703                        	func
 12704                        	.function	2171
 12705                        ~~buttonWindowProc:
 12706                        	longa	on
 12707                        	longi	on
 12708 04:365B: 3B           	tsc
 12709 04:365C: 38           	sec
 12710 04:365D: E9 1A 00     	sbc	#L486
 12711 04:3660: 1B           	tcs
 12712 04:3661: 0B           	phd
 12713 04:3662: 5B           	tcd
 12714             00000004   pMsg_0	set	4
 12715                        	.block	2171
 12716                        ;	PFXPROCESS p = NULL;
 12717                        ;	PWINDOW	   pWin = NULL;
 12718                        ;	PBUTTON	   pButton = NULL;
 12719                        ;	UINT	   size = 0;
 12720                        ;
 12721                        ;	if(pMsg!=NULL)
 12722             00000000   p_1	set	0
 12723             00000004   pWin_1	set	4
 12724             00000008   pButton_1	set	8
 12725             0000000C   size_1	set	12
 12726                        	.sym	p,0,138,1,32,17
 12727                        	.sym	pWin,4,138,1,32,27
 12728                        	.sym	pButton,8,138,1,32,34
 12729                        	.sym	size,12,16,1,16
 12730                        	.sym	pMsg,4,138,6,32,13
 12731 04:3663: 64 0D        	stz	<L487+p_1
 12732 04:3665: 64 0F        	stz	<L487+p_1+2
 12733 04:3667: 64 11        	stz	<L487+pWin_1
 12734 04:3669: 64 13        	stz	<L487+pWin_1+2
 12735 04:366B: 64 15        	stz	<L487+pButton_1
 12736 04:366D: 64 17        	stz	<L487+pButton_1+2
 12737 04:366F: 64 19        	stz	<L487+size_1
 12738                        	.line	2177
 12739                        ;	{
 12740 04:3671: A5 1E        	lda	<L486+pMsg_0
 12741 04:3673: 05 20        	ora	<L486+pMsg_0+2
 12742 04:3675: D0 03        	bne	L489
 12743 04:3677: 82 1B 05     	brl	L10154
 12744                        L489:
 12745                        	.line	2178
 12746                        ;		p = k_exec_get_current_process();
 12747                        	.line	2179
 12748 04:367A: 22 xx xx xx  	jsl	~~k_exec_get_current_process
 12749 04:367E: 85 0D        	sta	<L487+p_1
 12750 04:3680: 86 0F        	stx	<L487+p_1+2
 12751                        ;		pWin = k_getWindowFromHandle(pMsg->hwnd)
                    ;
 12752                        	.line	2180
 12753 04:3682: A0 0C 00     	ldy	#$c
 12754 04:3685: B7 1E        	lda	[<L486+pMsg_0],Y
  Mon Dec  7 2020 11:19                                                Page 251


 12755 04:3687: 48           	pha
 12756 04:3688: A0 0A 00     	ldy	#$a
 12757 04:368B: B7 1E        	lda	[<L486+pMsg_0],Y
 12758 04:368D: 48           	pha
 12759 04:368E: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
 12760 04:3692: 85 11        	sta	<L487+pWin_1
 12761 04:3694: 86 13        	stx	<L487+pWin_1+2
 12762                        ;		pButton = ((PBUTTON)pWin->windowData);
 12763                        	.line	2181
 12764 04:3696: A0 45 01     	ldy	#$145
 12765 04:3699: B7 11        	lda	[<L487+pWin_1],Y
 12766 04:369B: 85 15        	sta	<L487+pButton_1
 12767 04:369D: A0 47 01     	ldy	#$147
 12768 04:36A0: B7 11        	lda	[<L487+pWin_1],Y
 12769 04:36A2: 85 17        	sta	<L487+pButton_1+2
 12770                        ;		//k_debug_long("consoleWindowProc::Proce
                    ssId:",p->procId);
 12771                        ;
 12772                        ;		switch(pMsg->type)
 12773                        	.line	2184
 12774 04:36A4: A0 08 00     	ldy	#$8
 12775 04:36A7: B7 1E        	lda	[<L486+pMsg_0],Y
 12776 04:36A9: 82 C1 04     	brl	L10155
 12777                        ;		{
 12778                        	.line	2185
 12779                        ;		case FX_CREATE_WINDOW:
 12780                        	.line	2186
 12781                        L10157:
 12782                        ;			//k_debug_long("buttonWindowProc
                    ::ProcessId:",p->procId);
 12783                        ;			//k_debug_string("buttonWindowPr
                    oc::FX_CREATE_WINDOW\r\n");
 12784                        ;
 12785                        ;			pWin->windowData = k_mem_allocat
                    e_heap(sizeof(BUTTON));
 12786                        	.line	2190
 12787 04:36AC: F4 0A 00     	pea	#<$a
 12788 04:36AF: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 12789 04:36B3: 85 01        	sta	<R0
 12790 04:36B5: 86 03        	stx	<R0+2
 12791 04:36B7: A5 01        	lda	<R0
 12792 04:36B9: A0 45 01     	ldy	#$145
 12793 04:36BC: 97 11        	sta	[<L487+pWin_1],Y
 12794 04:36BE: A5 03        	lda	<R0+2
 12795 04:36C0: A0 47 01     	ldy	#$147
 12796 04:36C3: 97 11        	sta	[<L487+pWin_1],Y
 12797                        ;
 12798                        ;
 12799                        ;			k_vdraw_ui_window(pWin,
 12800                        	.line	2193
 12801                        ;							
                      FXWS_BORDER | FXWS_VISIBLE,
 12802                        ;							
                      pWin->win_x ,pWin->win_y,
 12803                        ;							
                      pWin->win_height,pWin->win_width,
 12804                        ;							
                      pWin->win_title,
  Mon Dec  7 2020 11:19                                                Page 252


 12805                        ;							
                      k_getUIGadgetColor(), k_getUIMenuColor());
 12806 04:36C5: 22 xx xx xx  	jsl	~~k_getUIMenuColor
 12807 04:36C9: 48           	pha
 12808 04:36CA: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 12809 04:36CE: 48           	pha
 12810 04:36CF: 18           	clc
 12811 04:36D0: A9 D4 00     	lda	#$d4
 12812 04:36D3: 65 11        	adc	<L487+pWin_1
 12813 04:36D5: 85 01        	sta	<R0
 12814 04:36D7: A9 00 00     	lda	#$0
 12815 04:36DA: 65 13        	adc	<L487+pWin_1+2
 12816 04:36DC: 85 03        	sta	<R0+2
 12817 04:36DE: D4 03        	pei	<R0+2
 12818 04:36E0: D4 01        	pei	<R0
 12819 04:36E2: A0 0C 00     	ldy	#$c
 12820 04:36E5: B7 11        	lda	[<L487+pWin_1],Y
 12821 04:36E7: 48           	pha
 12822 04:36E8: A0 0E 00     	ldy	#$e
 12823 04:36EB: B7 11        	lda	[<L487+pWin_1],Y
 12824 04:36ED: 48           	pha
 12825 04:36EE: A0 0A 00     	ldy	#$a
 12826 04:36F1: B7 11        	lda	[<L487+pWin_1],Y
 12827 04:36F3: 48           	pha
 12828 04:36F4: A0 08 00     	ldy	#$8
 12829 04:36F7: B7 11        	lda	[<L487+pWin_1],Y
 12830 04:36F9: 48           	pha
 12831 04:36FA: F4 01 00     	pea	#^$10001
 12832 04:36FD: F4 01 00     	pea	#<$10001
 12833 04:3700: D4 13        	pei	<L487+pWin_1+2
 12834 04:3702: D4 11        	pei	<L487+pWin_1
 12835 04:3704: 22 xx xx xx  	jsl	~~k_vdraw_ui_window
 12836                        ;
 12837                        ;
 12838                        ;			break;
 12839                        	.line	2201
 12840 04:3708: 82 8A 04     	brl	L10156
 12841                        ;		case FX_DRAW_WINDOW:
 12842                        	.line	2202
 12843                        L10158:
 12844                        ;			k_debug_pointer("buttonWindowPro
                    c::FX_DRAW_WINDOW:",pButton);
 12845                        	.line	2203
 12846 04:370B: D4 17        	pei	<L487+pButton_1+2
 12847 04:370D: D4 15        	pei	<L487+pButton_1
 12848 04:370F: F4 xx xx     	pea	#^L485
 12849 04:3712: F4 xx xx     	pea	#<L485
 12850 04:3715: 22 xx xx xx  	jsl	~~k_debug_pointer
 12851                        ;			if(pButton)
 12852                        	.line	2204
 12853                        ;			{
 12854 04:3719: A5 15        	lda	<L487+pButton_1
 12855 04:371B: 05 17        	ora	<L487+pButton_1+2
 12856 04:371D: D0 03        	bne	L490
 12857 04:371F: 82 B6 00     	brl	L10159
 12858                        L490:
 12859                        	.line	2205
 12860                        ;				k_vdraw_ui_window(pWin,F
  Mon Dec  7 2020 11:19                                                Page 253


                    XWS_BORDER | FXWS_VISIBLE,
 12861                        	.line	2206
 12862                        ;							
                    	  pWin->win_x ,pWin->win_y,
 12863                        ;							
                    	  pWin->win_height,pWin->win_width,
 12864                        ;							
                    	  pWin->win_title,
 12865                        ;							
                    	  k_getUIGadgetColor(), k_getUIMenuColor());
 12866 04:3722: 22 xx xx xx  	jsl	~~k_getUIMenuColor
 12867 04:3726: 48           	pha
 12868 04:3727: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 12869 04:372B: 48           	pha
 12870 04:372C: 18           	clc
 12871 04:372D: A9 D4 00     	lda	#$d4
 12872 04:3730: 65 11        	adc	<L487+pWin_1
 12873 04:3732: 85 01        	sta	<R0
 12874 04:3734: A9 00 00     	lda	#$0
 12875 04:3737: 65 13        	adc	<L487+pWin_1+2
 12876 04:3739: 85 03        	sta	<R0+2
 12877 04:373B: D4 03        	pei	<R0+2
 12878 04:373D: D4 01        	pei	<R0
 12879 04:373F: A0 0C 00     	ldy	#$c
 12880 04:3742: B7 11        	lda	[<L487+pWin_1],Y
 12881 04:3744: 48           	pha
 12882 04:3745: A0 0E 00     	ldy	#$e
 12883 04:3748: B7 11        	lda	[<L487+pWin_1],Y
 12884 04:374A: 48           	pha
 12885 04:374B: A0 0A 00     	ldy	#$a
 12886 04:374E: B7 11        	lda	[<L487+pWin_1],Y
 12887 04:3750: 48           	pha
 12888 04:3751: A0 08 00     	ldy	#$8
 12889 04:3754: B7 11        	lda	[<L487+pWin_1],Y
 12890 04:3756: 48           	pha
 12891 04:3757: F4 01 00     	pea	#^$10001
 12892 04:375A: F4 01 00     	pea	#<$10001
 12893 04:375D: D4 13        	pei	<L487+pWin_1+2
 12894 04:375F: D4 11        	pei	<L487+pWin_1
 12895 04:3761: 22 xx xx xx  	jsl	~~k_vdraw_ui_window
 12896                        ;
 12897                        ;				size = strlen(pButton->p
                    Caption) * FONTW;
 12898                        	.line	2212
 12899 04:3765: 22 xx xx xx  	jsl	~~k_font_getFontWidth
 12900 04:3769: 85 01        	sta	<R0
 12901 04:376B: A0 02 00     	ldy	#$2
 12902 04:376E: B7 15        	lda	[<L487+pButton_1],Y
 12903 04:3770: 48           	pha
 12904 04:3771: A7 15        	lda	[<L487+pButton_1]
 12905 04:3773: 48           	pha
 12906 04:3774: 22 xx xx xx  	jsl	~~strlen
 12907 04:3778: 85 05        	sta	<R1
 12908 04:377A: A5 05        	lda	<R1
 12909 04:377C: A6 01        	ldx	<R0
 12910                        	xref	~~~mul
 12911 04:377E: 22 xx xx xx  	jsl	~~~mul
 12912 04:3782: 85 19        	sta	<L487+size_1
  Mon Dec  7 2020 11:19                                                Page 254


 12913                        ;				k_draw_text_point(pButto
                    n->pCaption,
 12914                        	.line	2213
 12915                        ;							
                    	  pWin->win_x + (pWin->win_width/2)  - (size/2),
 12916                        ;							
                    	  pWin->win_y + (pWin->win_height/2) - (4),k_getUIGadget
                    Color());
 12917 04:3784: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 12918 04:3788: 48           	pha
 12919 04:3789: A0 0E 00     	ldy	#$e
 12920 04:378C: B7 11        	lda	[<L487+pWin_1],Y
 12921 04:378E: A2 02 00     	ldx	#<$2
 12922                        	xref	~~~div
 12923 04:3791: 22 xx xx xx  	jsl	~~~div
 12924 04:3795: 85 01        	sta	<R0
 12925 04:3797: 18           	clc
 12926 04:3798: A5 01        	lda	<R0
 12927 04:379A: A0 0A 00     	ldy	#$a
 12928 04:379D: 77 11        	adc	[<L487+pWin_1],Y
 12929 04:379F: 85 05        	sta	<R1
 12930 04:37A1: 18           	clc
 12931 04:37A2: A9 FC FF     	lda	#$fffc
 12932 04:37A5: 65 05        	adc	<R1
 12933 04:37A7: 48           	pha
 12934 04:37A8: A5 19        	lda	<L487+size_1
 12935 04:37AA: 4A           	lsr	A
 12936 04:37AB: 85 01        	sta	<R0
 12937 04:37AD: A0 0C 00     	ldy	#$c
 12938 04:37B0: B7 11        	lda	[<L487+pWin_1],Y
 12939 04:37B2: A2 02 00     	ldx	#<$2
 12940                        	xref	~~~div
 12941 04:37B5: 22 xx xx xx  	jsl	~~~div
 12942 04:37B9: 85 05        	sta	<R1
 12943 04:37BB: 18           	clc
 12944 04:37BC: A5 05        	lda	<R1
 12945 04:37BE: A0 08 00     	ldy	#$8
 12946 04:37C1: 77 11        	adc	[<L487+pWin_1],Y
 12947 04:37C3: 85 09        	sta	<R2
 12948 04:37C5: 38           	sec
 12949 04:37C6: A5 09        	lda	<R2
 12950 04:37C8: E5 01        	sbc	<R0
 12951 04:37CA: 48           	pha
 12952 04:37CB: A0 02 00     	ldy	#$2
 12953 04:37CE: B7 15        	lda	[<L487+pButton_1],Y
 12954 04:37D0: 48           	pha
 12955 04:37D1: A7 15        	lda	[<L487+pButton_1]
 12956 04:37D3: 48           	pha
 12957 04:37D4: 22 xx xx xx  	jsl	~~k_draw_text_point
 12958                        ;			}
 12959                        	.line	2216
 12960                        ;			break;
 12961                        L10159:
 12962                        	.line	2217
 12963 04:37D8: 82 BA 03     	brl	L10156
 12964                        ;		case FX_REDRAW_WINDOW:
 12965                        	.line	2218
 12966                        L10160:
  Mon Dec  7 2020 11:19                                                Page 255


 12967                        ;			k_debug_string("buttonWindowProc
                    ::FX_REDRAW_WINDOW\r\n");
 12968                        	.line	2219
 12969 04:37DB: F4 xx xx     	pea	#^L485+34
 12970 04:37DE: F4 xx xx     	pea	#<L485+34
 12971 04:37E1: 22 xx xx xx  	jsl	~~k_debug_string
 12972                        ;			break;
 12973                        	.line	2220
 12974 04:37E5: 82 AD 03     	brl	L10156
 12975                        ;
 12976                        ;		case FX_LBUTTON_DOWN:
 12977                        	.line	2222
 12978                        L10161:
 12979                        ;			k_debug_string("buttonWindowProc
                    ::FX_LBUTTON_DOWN\r\n");
 12980                        	.line	2223
 12981 04:37E8: F4 xx xx     	pea	#^L485+71
 12982 04:37EB: F4 xx xx     	pea	#<L485+71
 12983 04:37EE: 22 xx xx xx  	jsl	~~k_debug_string
 12984                        ;
 12985                        ;
 12986                        ;			if(pButton->pCaption)
 12987                        	.line	2226
 12988                        ;			{
 12989 04:37F2: A7 15        	lda	[<L487+pButton_1]
 12990 04:37F4: A0 02 00     	ldy	#$2
 12991 04:37F7: 17 15        	ora	[<L487+pButton_1],Y
 12992 04:37F9: D0 03        	bne	L491
 12993 04:37FB: 82 B8 01     	brl	L10162
 12994                        L491:
 12995                        	.line	2227
 12996                        ;				//k_debug_strings("butto
                    nWindowProc::CTL_CMD_CAPTION:", (LPCHAR)pButton->pCaption );
 12997                        ;
 12998                        ;				k_vdraw_ui_window(pWin,F
                    XWS_BORDER | FXWS_VISIBLE,
 12999                        	.line	2230
 13000                        ;							
                    	  pWin->win_x ,pWin->win_y,
 13001                        ;							
                    	  pWin->win_height,pWin->win_width,
 13002                        ;							
                    	  pWin->win_title,
 13003                        ;							
                    	  k_getUIGadgetColor(), k_getUIMenuColor());
 13004 04:37FE: 22 xx xx xx  	jsl	~~k_getUIMenuColor
 13005 04:3802: 48           	pha
 13006 04:3803: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 13007 04:3807: 48           	pha
 13008 04:3808: 18           	clc
 13009 04:3809: A9 D4 00     	lda	#$d4
 13010 04:380C: 65 11        	adc	<L487+pWin_1
 13011 04:380E: 85 01        	sta	<R0
 13012 04:3810: A9 00 00     	lda	#$0
 13013 04:3813: 65 13        	adc	<L487+pWin_1+2
 13014 04:3815: 85 03        	sta	<R0+2
 13015 04:3817: D4 03        	pei	<R0+2
 13016 04:3819: D4 01        	pei	<R0
  Mon Dec  7 2020 11:19                                                Page 256


 13017 04:381B: A0 0C 00     	ldy	#$c
 13018 04:381E: B7 11        	lda	[<L487+pWin_1],Y
 13019 04:3820: 48           	pha
 13020 04:3821: A0 0E 00     	ldy	#$e
 13021 04:3824: B7 11        	lda	[<L487+pWin_1],Y
 13022 04:3826: 48           	pha
 13023 04:3827: A0 0A 00     	ldy	#$a
 13024 04:382A: B7 11        	lda	[<L487+pWin_1],Y
 13025 04:382C: 48           	pha
 13026 04:382D: A0 08 00     	ldy	#$8
 13027 04:3830: B7 11        	lda	[<L487+pWin_1],Y
 13028 04:3832: 48           	pha
 13029 04:3833: F4 01 00     	pea	#^$10001
 13030 04:3836: F4 01 00     	pea	#<$10001
 13031 04:3839: D4 13        	pei	<L487+pWin_1+2
 13032 04:383B: D4 11        	pei	<L487+pWin_1
 13033 04:383D: 22 xx xx xx  	jsl	~~k_vdraw_ui_window
 13034                        ;
 13035                        ;				/*
 13036                        ;				k_draw_line(pWin->win_x 
                    + 1 ,pWin->win_y + 1,
 13037                        ;						    pWin
                    ->win_x + 1,
 13038                        ;							
                    pWin->win_y + pWin->win_height - 1 , 0);
 13039                        ;
 13040                        ;				k_draw_line(pWin->win_x 
                    + 1 ,pWin->win_y + pWin->win_height - 1,
 13041                        ;						    pWin
                    ->win_x + pWin->win_width - 1,pWin->win_y + pWin->win_height
                     - 1 , 0);
 13042                        ;
 13043                        ;				*/
 13044                        ;
 13045                        ;				k_draw_line(pWin->win_x 
                    + 1 ,
 13046                        	.line	2246
 13047                        ;							
                    pWin->win_y + 1,
 13048                        ;						    pWin
                    ->win_x + pWin->win_width - 1,
 13049                        ;							
                    pWin->win_y + 1,
 13050                        ;							
                    0);
 13051 04:3841: F4 00 00     	pea	#<$0
 13052 04:3844: A0 0A 00     	ldy	#$a
 13053 04:3847: B7 11        	lda	[<L487+pWin_1],Y
 13054 04:3849: 1A           	ina
 13055 04:384A: 48           	pha
 13056 04:384B: 18           	clc
 13057 04:384C: A0 08 00     	ldy	#$8
 13058 04:384F: B7 11        	lda	[<L487+pWin_1],Y
 13059 04:3851: A0 0C 00     	ldy	#$c
 13060 04:3854: 77 11        	adc	[<L487+pWin_1],Y
 13061 04:3856: 85 01        	sta	<R0
 13062 04:3858: 18           	clc
 13063 04:3859: A9 FF FF     	lda	#$ffff
  Mon Dec  7 2020 11:19                                                Page 257


 13064 04:385C: 65 01        	adc	<R0
 13065 04:385E: 48           	pha
 13066 04:385F: A0 0A 00     	ldy	#$a
 13067 04:3862: B7 11        	lda	[<L487+pWin_1],Y
 13068 04:3864: 1A           	ina
 13069 04:3865: 48           	pha
 13070 04:3866: A0 08 00     	ldy	#$8
 13071 04:3869: B7 11        	lda	[<L487+pWin_1],Y
 13072 04:386B: 1A           	ina
 13073 04:386C: 48           	pha
 13074 04:386D: 22 xx xx xx  	jsl	~~k_draw_line
 13075                        ;
 13076                        ;				k_draw_line(pWin->win_x 
                    + 1 ,
 13077                        	.line	2252
 13078                        ;							
                    pWin->win_y + 2,
 13079                        ;						    pWin
                    ->win_x + pWin->win_width - 1,
 13080                        ;							
                    pWin->win_y + 2,
 13081                        ;							
                    0);
 13082 04:3871: F4 00 00     	pea	#<$0
 13083 04:3874: 18           	clc
 13084 04:3875: A9 02 00     	lda	#$2
 13085 04:3878: A0 0A 00     	ldy	#$a
 13086 04:387B: 77 11        	adc	[<L487+pWin_1],Y
 13087 04:387D: 48           	pha
 13088 04:387E: 18           	clc
 13089 04:387F: A0 08 00     	ldy	#$8
 13090 04:3882: B7 11        	lda	[<L487+pWin_1],Y
 13091 04:3884: A0 0C 00     	ldy	#$c
 13092 04:3887: 77 11        	adc	[<L487+pWin_1],Y
 13093 04:3889: 85 01        	sta	<R0
 13094 04:388B: 18           	clc
 13095 04:388C: A9 FF FF     	lda	#$ffff
 13096 04:388F: 65 01        	adc	<R0
 13097 04:3891: 48           	pha
 13098 04:3892: 18           	clc
 13099 04:3893: A9 02 00     	lda	#$2
 13100 04:3896: A0 0A 00     	ldy	#$a
 13101 04:3899: 77 11        	adc	[<L487+pWin_1],Y
 13102 04:389B: 48           	pha
 13103 04:389C: A0 08 00     	ldy	#$8
 13104 04:389F: B7 11        	lda	[<L487+pWin_1],Y
 13105 04:38A1: 1A           	ina
 13106 04:38A2: 48           	pha
 13107 04:38A3: 22 xx xx xx  	jsl	~~k_draw_line
 13108                        ;
 13109                        ;
 13110                        ;				k_draw_line(pWin->win_x 
                    + pWin->win_width  - 1,
 13111                        	.line	2259
 13112                        ;							
                    pWin->win_y + 1 ,
 13113                        ;						    pWin
                    ->win_x + pWin->win_width  - 1,
  Mon Dec  7 2020 11:19                                                Page 258


 13114                        ;							
                    pWin->win_y + pWin->win_height - 1,
 13115                        ;							
                    0);
 13116 04:38A7: F4 00 00     	pea	#<$0
 13117 04:38AA: 18           	clc
 13118 04:38AB: A0 0A 00     	ldy	#$a
 13119 04:38AE: B7 11        	lda	[<L487+pWin_1],Y
 13120 04:38B0: A0 0E 00     	ldy	#$e
 13121 04:38B3: 77 11        	adc	[<L487+pWin_1],Y
 13122 04:38B5: 85 01        	sta	<R0
 13123 04:38B7: 18           	clc
 13124 04:38B8: A9 FF FF     	lda	#$ffff
 13125 04:38BB: 65 01        	adc	<R0
 13126 04:38BD: 48           	pha
 13127 04:38BE: 18           	clc
 13128 04:38BF: A0 08 00     	ldy	#$8
 13129 04:38C2: B7 11        	lda	[<L487+pWin_1],Y
 13130 04:38C4: A0 0C 00     	ldy	#$c
 13131 04:38C7: 77 11        	adc	[<L487+pWin_1],Y
 13132 04:38C9: 85 01        	sta	<R0
 13133 04:38CB: 18           	clc
 13134 04:38CC: A9 FF FF     	lda	#$ffff
 13135 04:38CF: 65 01        	adc	<R0
 13136 04:38D1: 48           	pha
 13137 04:38D2: A0 0A 00     	ldy	#$a
 13138 04:38D5: B7 11        	lda	[<L487+pWin_1],Y
 13139 04:38D7: 1A           	ina
 13140 04:38D8: 48           	pha
 13141 04:38D9: 18           	clc
 13142 04:38DA: A0 08 00     	ldy	#$8
 13143 04:38DD: B7 11        	lda	[<L487+pWin_1],Y
 13144 04:38DF: A0 0C 00     	ldy	#$c
 13145 04:38E2: 77 11        	adc	[<L487+pWin_1],Y
 13146 04:38E4: 85 01        	sta	<R0
 13147 04:38E6: 18           	clc
 13148 04:38E7: A9 FF FF     	lda	#$ffff
 13149 04:38EA: 65 01        	adc	<R0
 13150 04:38EC: 48           	pha
 13151 04:38ED: 22 xx xx xx  	jsl	~~k_draw_line
 13152                        ;
 13153                        ;				k_draw_line(pWin->win_x 
                    + pWin->win_width  - 2,
 13154                        	.line	2265
 13155                        ;							
                    pWin->win_y + 1,
 13156                        ;						    pWin
                    ->win_x + pWin->win_width  - 2,
 13157                        ;							
                    pWin->win_y + pWin->win_height - 1,
 13158                        ;							
                    0);
 13159 04:38F1: F4 00 00     	pea	#<$0
 13160 04:38F4: 18           	clc
 13161 04:38F5: A0 0A 00     	ldy	#$a
 13162 04:38F8: B7 11        	lda	[<L487+pWin_1],Y
 13163 04:38FA: A0 0E 00     	ldy	#$e
 13164 04:38FD: 77 11        	adc	[<L487+pWin_1],Y
  Mon Dec  7 2020 11:19                                                Page 259


 13165 04:38FF: 85 01        	sta	<R0
 13166 04:3901: 18           	clc
 13167 04:3902: A9 FF FF     	lda	#$ffff
 13168 04:3905: 65 01        	adc	<R0
 13169 04:3907: 48           	pha
 13170 04:3908: 18           	clc
 13171 04:3909: A0 08 00     	ldy	#$8
 13172 04:390C: B7 11        	lda	[<L487+pWin_1],Y
 13173 04:390E: A0 0C 00     	ldy	#$c
 13174 04:3911: 77 11        	adc	[<L487+pWin_1],Y
 13175 04:3913: 85 01        	sta	<R0
 13176 04:3915: 18           	clc
 13177 04:3916: A9 FE FF     	lda	#$fffe
 13178 04:3919: 65 01        	adc	<R0
 13179 04:391B: 48           	pha
 13180 04:391C: A0 0A 00     	ldy	#$a
 13181 04:391F: B7 11        	lda	[<L487+pWin_1],Y
 13182 04:3921: 1A           	ina
 13183 04:3922: 48           	pha
 13184 04:3923: 18           	clc
 13185 04:3924: A0 08 00     	ldy	#$8
 13186 04:3927: B7 11        	lda	[<L487+pWin_1],Y
 13187 04:3929: A0 0C 00     	ldy	#$c
 13188 04:392C: 77 11        	adc	[<L487+pWin_1],Y
 13189 04:392E: 85 01        	sta	<R0
 13190 04:3930: 18           	clc
 13191 04:3931: A9 FE FF     	lda	#$fffe
 13192 04:3934: 65 01        	adc	<R0
 13193 04:3936: 48           	pha
 13194 04:3937: 22 xx xx xx  	jsl	~~k_draw_line
 13195                        ;
 13196                        ;
 13197                        ;
 13198                        ;				size = strlen(pButton->p
                    Caption) * FONTW;
 13199                        	.line	2273
 13200 04:393B: 22 xx xx xx  	jsl	~~k_font_getFontWidth
 13201 04:393F: 85 01        	sta	<R0
 13202 04:3941: A0 02 00     	ldy	#$2
 13203 04:3944: B7 15        	lda	[<L487+pButton_1],Y
 13204 04:3946: 48           	pha
 13205 04:3947: A7 15        	lda	[<L487+pButton_1]
 13206 04:3949: 48           	pha
 13207 04:394A: 22 xx xx xx  	jsl	~~strlen
 13208 04:394E: 85 05        	sta	<R1
 13209 04:3950: A5 05        	lda	<R1
 13210 04:3952: A6 01        	ldx	<R0
 13211                        	xref	~~~mul
 13212 04:3954: 22 xx xx xx  	jsl	~~~mul
 13213 04:3958: 85 19        	sta	<L487+size_1
 13214                        ;				k_draw_text_point(pButto
                    n->pCaption,
 13215                        	.line	2274
 13216                        ;						        
                      pWin->win_x + (pWin->win_width/2)  - (size/2) - 2,
 13217                        ;							
                    	  pWin->win_y + (pWin->win_height/2) - (4) + 2     , k_g
                    etUIGadgetColor()) ;
  Mon Dec  7 2020 11:19                                                Page 260


 13218 04:395A: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 13219 04:395E: 48           	pha
 13220 04:395F: A0 0E 00     	ldy	#$e
 13221 04:3962: B7 11        	lda	[<L487+pWin_1],Y
 13222 04:3964: A2 02 00     	ldx	#<$2
 13223                        	xref	~~~div
 13224 04:3967: 22 xx xx xx  	jsl	~~~div
 13225 04:396B: 85 01        	sta	<R0
 13226 04:396D: 18           	clc
 13227 04:396E: A5 01        	lda	<R0
 13228 04:3970: A0 0A 00     	ldy	#$a
 13229 04:3973: 77 11        	adc	[<L487+pWin_1],Y
 13230 04:3975: 85 05        	sta	<R1
 13231 04:3977: 18           	clc
 13232 04:3978: A9 FE FF     	lda	#$fffe
 13233 04:397B: 65 05        	adc	<R1
 13234 04:397D: 48           	pha
 13235 04:397E: A5 19        	lda	<L487+size_1
 13236 04:3980: 4A           	lsr	A
 13237 04:3981: 85 01        	sta	<R0
 13238 04:3983: A0 0C 00     	ldy	#$c
 13239 04:3986: B7 11        	lda	[<L487+pWin_1],Y
 13240 04:3988: A2 02 00     	ldx	#<$2
 13241                        	xref	~~~div
 13242 04:398B: 22 xx xx xx  	jsl	~~~div
 13243 04:398F: 85 05        	sta	<R1
 13244 04:3991: 18           	clc
 13245 04:3992: A5 05        	lda	<R1
 13246 04:3994: A0 08 00     	ldy	#$8
 13247 04:3997: 77 11        	adc	[<L487+pWin_1],Y
 13248 04:3999: 85 09        	sta	<R2
 13249 04:399B: 38           	sec
 13250 04:399C: A5 09        	lda	<R2
 13251 04:399E: E5 01        	sbc	<R0
 13252 04:39A0: 85 05        	sta	<R1
 13253 04:39A2: 18           	clc
 13254 04:39A3: A9 FE FF     	lda	#$fffe
 13255 04:39A6: 65 05        	adc	<R1
 13256 04:39A8: 48           	pha
 13257 04:39A9: A0 02 00     	ldy	#$2
 13258 04:39AC: B7 15        	lda	[<L487+pButton_1],Y
 13259 04:39AE: 48           	pha
 13260 04:39AF: A7 15        	lda	[<L487+pButton_1]
 13261 04:39B1: 48           	pha
 13262 04:39B2: 22 xx xx xx  	jsl	~~k_draw_text_point
 13263                        ;			}
 13264                        	.line	2277
 13265                        ;
 13266                        ;
 13267                        ;			break;
 13268                        L10162:
 13269                        	.line	2280
 13270 04:39B6: 82 DC 01     	brl	L10156
 13271                        ;
 13272                        ;		case FX_LBUTTON_UP:
 13273                        	.line	2282
 13274                        L10163:
 13275                        ;			k_debug_string("buttonWindowProc
  Mon Dec  7 2020 11:19                                                Page 261


                    ::FX_LBUTTON_UP\r\n");
 13276                        	.line	2283
 13277 04:39B9: F4 xx xx     	pea	#^L485+107
 13278 04:39BC: F4 xx xx     	pea	#<L485+107
 13279 04:39BF: 22 xx xx xx  	jsl	~~k_debug_string
 13280                        ;			if(pButton->pCaption)
 13281                        	.line	2284
 13282                        ;			{
 13283 04:39C3: A7 15        	lda	[<L487+pButton_1]
 13284 04:39C5: A0 02 00     	ldy	#$2
 13285 04:39C8: 17 15        	ora	[<L487+pButton_1],Y
 13286 04:39CA: D0 03        	bne	L492
 13287 04:39CC: 82 B6 00     	brl	L10164
 13288                        L492:
 13289                        	.line	2285
 13290                        ;				//k_debug_strings("butto
                    nWindowProc::CTL_CMD_CAPTION:", (LPCHAR)pButton->pCaption );
 13291                        ;
 13292                        ;				k_vdraw_ui_window(pWin,F
                    XWS_BORDER | FXWS_VISIBLE,
 13293                        	.line	2288
 13294                        ;							
                    	  pWin->win_x ,pWin->win_y,
 13295                        ;							
                    	  pWin->win_height,pWin->win_width,
 13296                        ;							
                    	  pWin->win_title,
 13297                        ;							
                    	  k_getUIGadgetColor(), k_getUIMenuColor());
 13298 04:39CF: 22 xx xx xx  	jsl	~~k_getUIMenuColor
 13299 04:39D3: 48           	pha
 13300 04:39D4: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 13301 04:39D8: 48           	pha
 13302 04:39D9: 18           	clc
 13303 04:39DA: A9 D4 00     	lda	#$d4
 13304 04:39DD: 65 11        	adc	<L487+pWin_1
 13305 04:39DF: 85 01        	sta	<R0
 13306 04:39E1: A9 00 00     	lda	#$0
 13307 04:39E4: 65 13        	adc	<L487+pWin_1+2
 13308 04:39E6: 85 03        	sta	<R0+2
 13309 04:39E8: D4 03        	pei	<R0+2
 13310 04:39EA: D4 01        	pei	<R0
 13311 04:39EC: A0 0C 00     	ldy	#$c
 13312 04:39EF: B7 11        	lda	[<L487+pWin_1],Y
 13313 04:39F1: 48           	pha
 13314 04:39F2: A0 0E 00     	ldy	#$e
 13315 04:39F5: B7 11        	lda	[<L487+pWin_1],Y
 13316 04:39F7: 48           	pha
 13317 04:39F8: A0 0A 00     	ldy	#$a
 13318 04:39FB: B7 11        	lda	[<L487+pWin_1],Y
 13319 04:39FD: 48           	pha
 13320 04:39FE: A0 08 00     	ldy	#$8
 13321 04:3A01: B7 11        	lda	[<L487+pWin_1],Y
 13322 04:3A03: 48           	pha
 13323 04:3A04: F4 01 00     	pea	#^$10001
 13324 04:3A07: F4 01 00     	pea	#<$10001
 13325 04:3A0A: D4 13        	pei	<L487+pWin_1+2
 13326 04:3A0C: D4 11        	pei	<L487+pWin_1
  Mon Dec  7 2020 11:19                                                Page 262


 13327 04:3A0E: 22 xx xx xx  	jsl	~~k_vdraw_ui_window
 13328                        ;
 13329                        ;				size = strlen(pButton->p
                    Caption) * FONTW;
 13330                        	.line	2294
 13331 04:3A12: 22 xx xx xx  	jsl	~~k_font_getFontWidth
 13332 04:3A16: 85 01        	sta	<R0
 13333 04:3A18: A0 02 00     	ldy	#$2
 13334 04:3A1B: B7 15        	lda	[<L487+pButton_1],Y
 13335 04:3A1D: 48           	pha
 13336 04:3A1E: A7 15        	lda	[<L487+pButton_1]
 13337 04:3A20: 48           	pha
 13338 04:3A21: 22 xx xx xx  	jsl	~~strlen
 13339 04:3A25: 85 05        	sta	<R1
 13340 04:3A27: A5 05        	lda	<R1
 13341 04:3A29: A6 01        	ldx	<R0
 13342                        	xref	~~~mul
 13343 04:3A2B: 22 xx xx xx  	jsl	~~~mul
 13344 04:3A2F: 85 19        	sta	<L487+size_1
 13345                        ;				k_draw_text_point(pButto
                    n->pCaption,
 13346                        	.line	2295
 13347                        ;						        
                      pWin->win_x + (pWin->win_width/2)  - (size/2),
 13348                        ;							
                    	  pWin->win_y + (pWin->win_height/2) - (4),k_getUIGadget
                    Color());
 13349 04:3A31: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 13350 04:3A35: 48           	pha
 13351 04:3A36: A0 0E 00     	ldy	#$e
 13352 04:3A39: B7 11        	lda	[<L487+pWin_1],Y
 13353 04:3A3B: A2 02 00     	ldx	#<$2
 13354                        	xref	~~~div
 13355 04:3A3E: 22 xx xx xx  	jsl	~~~div
 13356 04:3A42: 85 01        	sta	<R0
 13357 04:3A44: 18           	clc
 13358 04:3A45: A5 01        	lda	<R0
 13359 04:3A47: A0 0A 00     	ldy	#$a
 13360 04:3A4A: 77 11        	adc	[<L487+pWin_1],Y
 13361 04:3A4C: 85 05        	sta	<R1
 13362 04:3A4E: 18           	clc
 13363 04:3A4F: A9 FC FF     	lda	#$fffc
 13364 04:3A52: 65 05        	adc	<R1
 13365 04:3A54: 48           	pha
 13366 04:3A55: A5 19        	lda	<L487+size_1
 13367 04:3A57: 4A           	lsr	A
 13368 04:3A58: 85 01        	sta	<R0
 13369 04:3A5A: A0 0C 00     	ldy	#$c
 13370 04:3A5D: B7 11        	lda	[<L487+pWin_1],Y
 13371 04:3A5F: A2 02 00     	ldx	#<$2
 13372                        	xref	~~~div
 13373 04:3A62: 22 xx xx xx  	jsl	~~~div
 13374 04:3A66: 85 05        	sta	<R1
 13375 04:3A68: 18           	clc
 13376 04:3A69: A5 05        	lda	<R1
 13377 04:3A6B: A0 08 00     	ldy	#$8
 13378 04:3A6E: 77 11        	adc	[<L487+pWin_1],Y
 13379 04:3A70: 85 09        	sta	<R2
  Mon Dec  7 2020 11:19                                                Page 263


 13380 04:3A72: 38           	sec
 13381 04:3A73: A5 09        	lda	<R2
 13382 04:3A75: E5 01        	sbc	<R0
 13383 04:3A77: 48           	pha
 13384 04:3A78: A0 02 00     	ldy	#$2
 13385 04:3A7B: B7 15        	lda	[<L487+pButton_1],Y
 13386 04:3A7D: 48           	pha
 13387 04:3A7E: A7 15        	lda	[<L487+pButton_1]
 13388 04:3A80: 48           	pha
 13389 04:3A81: 22 xx xx xx  	jsl	~~k_draw_text_point
 13390                        ;			}
 13391                        	.line	2298
 13392                        ;
 13393                        ;			//k_send_command_message(pWin->p
                    ParentWindow,FX_CONTROL_COMMAND,LOWORD((ULONG)pWin->hMenu),0
                    ,0L,0L);
 13394                        ;
 13395                        ;			k_send_command_message(pWin->pPa
                    rentWindow,FX_CONTROL_COMMAND,CTL_BUTTON_SELECTED,LOWORD((UL
                    ONG)pWin->hMenu),0L,0L);
 13396                        L10164:
 13397                        	.line	2302
 13398 04:3A85: F4 00 00     	pea	#^$0
 13399 04:3A88: F4 00 00     	pea	#<$0
 13400 04:3A8B: F4 00 00     	pea	#^$0
 13401 04:3A8E: F4 00 00     	pea	#<$0
 13402 04:3A91: A0 38 01     	ldy	#$138
 13403 04:3A94: B7 11        	lda	[<L487+pWin_1],Y
 13404 04:3A96: 48           	pha
 13405 04:3A97: F4 02 00     	pea	#<$2
 13406 04:3A9A: F4 00 FA     	pea	#<$fa00
 13407 04:3A9D: A0 36 01     	ldy	#$136
 13408 04:3AA0: B7 11        	lda	[<L487+pWin_1],Y
 13409 04:3AA2: 48           	pha
 13410 04:3AA3: A0 34 01     	ldy	#$134
 13411 04:3AA6: B7 11        	lda	[<L487+pWin_1],Y
 13412 04:3AA8: 48           	pha
 13413 04:3AA9: 22 xx xx xx  	jsl	~~k_send_command_message
 13414                        ;
 13415                        ;			break;
 13416                        	.line	2304
 13417 04:3AAD: 82 E5 00     	brl	L10156
 13418                        ;		case FX_MOUSE_ENTER:
 13419                        	.line	2305
 13420                        L10165:
 13421                        ;			k_debug_string("buttonWindowProc
                    ::FX_MOUSE_ENTER\r\n");
 13422                        	.line	2306
 13423 04:3AB0: F4 xx xx     	pea	#^L485+141
 13424 04:3AB3: F4 xx xx     	pea	#<L485+141
 13425 04:3AB6: 22 xx xx xx  	jsl	~~k_debug_string
 13426                        ;
 13427                        ;			break;
 13428                        	.line	2308
 13429 04:3ABA: 82 D8 00     	brl	L10156
 13430                        ;		case FX_MOUSE_EXIT:
 13431                        	.line	2309
 13432                        L10166:
  Mon Dec  7 2020 11:19                                                Page 264


 13433                        ;			k_debug_string("buttonWindowProc
                    ::FX_MOUSE_EXIT\r\n");
 13434                        	.line	2310
 13435 04:3ABD: F4 xx xx     	pea	#^L485+176
 13436 04:3AC0: F4 xx xx     	pea	#<L485+176
 13437 04:3AC3: 22 xx xx xx  	jsl	~~k_debug_string
 13438                        ;
 13439                        ;			break;
 13440                        	.line	2312
 13441 04:3AC7: 82 CB 00     	brl	L10156
 13442                        ;
 13443                        ;		case FX_CONTROL_COMMAND:
 13444                        	.line	2314
 13445                        L10167:
 13446                        ;			//k_debug_string("buttonWindowPr
                    oc::FX_CONTROL_COMMAND\r\n");
 13447                        ;
 13448                        ;
 13449                        ;
 13450                        ;			if( ((PFXCMDMESSAGE)pMsg)->cmdCI
                    d == CTL_CMD_CAPTION )
 13451                        	.line	2319
 13452                        ;			{
 13453 04:3ACA: A0 16 00     	ldy	#$16
 13454 04:3ACD: B7 1E        	lda	[<L486+pMsg_0],Y
 13455 04:3ACF: C9 01 00     	cmp	#<$1
 13456 04:3AD2: F0 03        	beq	L493
 13457 04:3AD4: 82 90 00     	brl	L10168
 13458                        L493:
 13459                        	.line	2320
 13460                        ;				pButton->pCaption = (LPC
                    HAR)((PFXCMDMESSAGE)pMsg)->parameter1;
 13461                        	.line	2321
 13462 04:3AD7: A0 1A 00     	ldy	#$1a
 13463 04:3ADA: B7 1E        	lda	[<L486+pMsg_0],Y
 13464 04:3ADC: 87 15        	sta	[<L487+pButton_1]
 13465 04:3ADE: A0 1C 00     	ldy	#$1c
 13466 04:3AE1: B7 1E        	lda	[<L486+pMsg_0],Y
 13467 04:3AE3: A0 02 00     	ldy	#$2
 13468 04:3AE6: 97 15        	sta	[<L487+pButton_1],Y
 13469                        ;
 13470                        ;				if(pButton->pCaption)
 13471                        	.line	2323
 13472                        ;				{
 13473 04:3AE8: A7 15        	lda	[<L487+pButton_1]
 13474 04:3AEA: A0 02 00     	ldy	#$2
 13475 04:3AED: 17 15        	ora	[<L487+pButton_1],Y
 13476 04:3AEF: D0 03        	bne	L494
 13477 04:3AF1: 82 73 00     	brl	L10169
 13478                        L494:
 13479                        	.line	2324
 13480                        ;					//k_debug_string
                    s("buttonWindowProc::CTL_CMD_CAPTION:", (LPCHAR)pButton->pCa
                    ption );
 13481                        ;
 13482                        ;					size = strlen(pB
                    utton->pCaption) * FONTW;
 13483                        	.line	2327
  Mon Dec  7 2020 11:19                                                Page 265


 13484 04:3AF4: 22 xx xx xx  	jsl	~~k_font_getFontWidth
 13485 04:3AF8: 85 01        	sta	<R0
 13486 04:3AFA: A0 02 00     	ldy	#$2
 13487 04:3AFD: B7 15        	lda	[<L487+pButton_1],Y
 13488 04:3AFF: 48           	pha
 13489 04:3B00: A7 15        	lda	[<L487+pButton_1]
 13490 04:3B02: 48           	pha
 13491 04:3B03: 22 xx xx xx  	jsl	~~strlen
 13492 04:3B07: 85 05        	sta	<R1
 13493 04:3B09: A5 05        	lda	<R1
 13494 04:3B0B: A6 01        	ldx	<R0
 13495                        	xref	~~~mul
 13496 04:3B0D: 22 xx xx xx  	jsl	~~~mul
 13497 04:3B11: 85 19        	sta	<L487+size_1
 13498                        ;					k_draw_text_poin
                    t(pButton->pCaption,
 13499                        	.line	2328
 13500                        ;							
                              pWin->win_x + (pWin->win_width/2)  - (size/2),
 13501                        ;							
                    		  pWin->win_y + (pWin->win_height/2) - (4),k_get
                    UIGadgetColor());
 13502 04:3B13: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
 13503 04:3B17: 48           	pha
 13504 04:3B18: A0 0E 00     	ldy	#$e
 13505 04:3B1B: B7 11        	lda	[<L487+pWin_1],Y
 13506 04:3B1D: A2 02 00     	ldx	#<$2
 13507                        	xref	~~~div
 13508 04:3B20: 22 xx xx xx  	jsl	~~~div
 13509 04:3B24: 85 01        	sta	<R0
 13510 04:3B26: 18           	clc
 13511 04:3B27: A5 01        	lda	<R0
 13512 04:3B29: A0 0A 00     	ldy	#$a
 13513 04:3B2C: 77 11        	adc	[<L487+pWin_1],Y
 13514 04:3B2E: 85 05        	sta	<R1
 13515 04:3B30: 18           	clc
 13516 04:3B31: A9 FC FF     	lda	#$fffc
 13517 04:3B34: 65 05        	adc	<R1
 13518 04:3B36: 48           	pha
 13519 04:3B37: A5 19        	lda	<L487+size_1
 13520 04:3B39: 4A           	lsr	A
 13521 04:3B3A: 85 01        	sta	<R0
 13522 04:3B3C: A0 0C 00     	ldy	#$c
 13523 04:3B3F: B7 11        	lda	[<L487+pWin_1],Y
 13524 04:3B41: A2 02 00     	ldx	#<$2
 13525                        	xref	~~~div
 13526 04:3B44: 22 xx xx xx  	jsl	~~~div
 13527 04:3B48: 85 05        	sta	<R1
 13528 04:3B4A: 18           	clc
 13529 04:3B4B: A5 05        	lda	<R1
 13530 04:3B4D: A0 08 00     	ldy	#$8
 13531 04:3B50: 77 11        	adc	[<L487+pWin_1],Y
 13532 04:3B52: 85 09        	sta	<R2
 13533 04:3B54: 38           	sec
 13534 04:3B55: A5 09        	lda	<R2
 13535 04:3B57: E5 01        	sbc	<R0
 13536 04:3B59: 48           	pha
 13537 04:3B5A: A0 02 00     	ldy	#$2
  Mon Dec  7 2020 11:19                                                Page 266


 13538 04:3B5D: B7 15        	lda	[<L487+pButton_1],Y
 13539 04:3B5F: 48           	pha
 13540 04:3B60: A7 15        	lda	[<L487+pButton_1]
 13541 04:3B62: 48           	pha
 13542 04:3B63: 22 xx xx xx  	jsl	~~k_draw_text_point
 13543                        ;				}
 13544                        	.line	2331
 13545                        ;			}
 13546                        L10169:
 13547                        	.line	2332
 13548                        ;
 13549                        ;			break;
 13550                        L10168:
 13551                        	.line	2334
 13552 04:3B67: 82 2B 00     	brl	L10156
 13553                        ;		default:
 13554                        	.line	2335
 13555                        L10170:
 13556                        ;			break;
 13557                        	.line	2336
 13558 04:3B6A: 82 28 00     	brl	L10156
 13559                        ;		}
 13560                        	.line	2337
 13561                        L10155:
 13562                        	xref	~~~swt
 13563 04:3B6D: 22 xx xx xx  	jsl	~~~swt
 13564 04:3B71: 08 00        	dw	8
 13565 04:3B73: 01 0F        	dw	3841
 13566 04:3B75: AF 3A        	dw	L10165-1
 13567 04:3B77: 02 0F        	dw	3842
 13568 04:3B79: BC 3A        	dw	L10166-1
 13569 04:3B7B: 04 0F        	dw	3844
 13570 04:3B7D: E7 37        	dw	L10161-1
 13571 04:3B7F: 06 0F        	dw	3846
 13572 04:3B81: B8 39        	dw	L10163-1
 13573 04:3B83: 00 FA        	dw	64000
 13574 04:3B85: C9 3A        	dw	L10167-1
 13575 04:3B87: 00 FB        	dw	64256
 13576 04:3B89: 0A 37        	dw	L10158-1
 13577 04:3B8B: 07 FB        	dw	64263
 13578 04:3B8D: DA 37        	dw	L10160-1
 13579 04:3B8F: 03 FF        	dw	65283
 13580 04:3B91: AB 36        	dw	L10157-1
 13581 04:3B93: 69 3B        	dw	L10170-1
 13582                        L10156:
 13583                        ;	}
 13584                        	.line	2338
 13585                        ;
 13586                        ;	return TRUE;
 13587                        L10154:
 13588                        	.line	2340
 13589 04:3B95: A9 01 00     	lda	#$1
 13590                        L495:
 13591 04:3B98: A8           	tay
 13592 04:3B99: A5 1C        	lda	<L486+2
 13593 04:3B9B: 85 20        	sta	<L486+2+4
 13594 04:3B9D: A5 1B        	lda	<L486+1
 13595 04:3B9F: 85 1F        	sta	<L486+1+4
  Mon Dec  7 2020 11:19                                                Page 267


 13596 04:3BA1: 2B           	pld
 13597 04:3BA2: 3B           	tsc
 13598 04:3BA3: 18           	clc
 13599 04:3BA4: 69 1E 00     	adc	#L486+4
 13600 04:3BA7: 1B           	tcs
 13601 04:3BA8: 98           	tya
 13602 04:3BA9: 6B           	rtl
 13603                        ;
 13604                        ;}
 13605                        	.line	2342
 13606                        	.endblock	2342
 13607             0000001A   L486	equ	26
 13608             0000000D   L487	equ	13
 13609 04:3BAA:              	ends
 13610                        	efunc
 13611                        	.endfunc	2342,13,26
 13612                        	.line	2342
 13613                        	data
 13614                        L485:
 13615 00:0C5E: 62 75 74 74  	db	$62,$75,$74,$74,$6F,$6E,$57,$69,$6E,$64,
                    $6F,$77,$50,$72,$6F
       00:0C62: 6F 6E 57 69 
       00:0C66: 6E 64 6F 77 
       00:0C6A: 50 72 6F 
 13616 00:0C6D: 63 3A 3A 46  	db	$63,$3A,$3A,$46,$58,$5F,$44,$52,$41,$57,
                    $5F,$57,$49,$4E,$44
       00:0C71: 58 5F 44 52 
       00:0C75: 41 57 5F 57 
       00:0C79: 49 4E 44 
 13617 00:0C7C: 4F 57 3A 00  	db	$4F,$57,$3A,$00,$62,$75,$74,$74,$6F,$6E,
                    $57,$69,$6E,$64,$6F
       00:0C80: 62 75 74 74 
       00:0C84: 6F 6E 57 69 
       00:0C88: 6E 64 6F 
 13618 00:0C8B: 77 50 72 6F  	db	$77,$50,$72,$6F,$63,$3A,$3A,$46,$58,$5F,
                    $52,$45,$44,$52,$41
       00:0C8F: 63 3A 3A 46 
       00:0C93: 58 5F 52 45 
       00:0C97: 44 52 41 
 13619 00:0C9A: 57 5F 57 49  	db	$57,$5F,$57,$49,$4E,$44,$4F,$57,$0D,$0A,
                    $00,$62,$75,$74,$74
       00:0C9E: 4E 44 4F 57 
       00:0CA2: 0D 0A 00 62 
       00:0CA6: 75 74 74 
 13620 00:0CA9: 6F 6E 57 69  	db	$6F,$6E,$57,$69,$6E,$64,$6F,$77,$50,$72,
                    $6F,$63,$3A,$3A,$46
       00:0CAD: 6E 64 6F 77 
       00:0CB1: 50 72 6F 63 
       00:0CB5: 3A 3A 46 
 13621 00:0CB8: 58 5F 4C 42  	db	$58,$5F,$4C,$42,$55,$54,$54,$4F,$4E,$5F,
                    $44,$4F,$57,$4E,$0D
       00:0CBC: 55 54 54 4F 
       00:0CC0: 4E 5F 44 4F 
       00:0CC4: 57 4E 0D 
 13622 00:0CC7: 0A 00 62 75  	db	$0A,$00,$62,$75,$74,$74,$6F,$6E,$57,$69,
                    $6E,$64,$6F,$77,$50
       00:0CCB: 74 74 6F 6E 
       00:0CCF: 57 69 6E 64 
  Mon Dec  7 2020 11:19                                                Page 268


       00:0CD3: 6F 77 50 
 13623 00:0CD6: 72 6F 63 3A  	db	$72,$6F,$63,$3A,$3A,$46,$58,$5F,$4C,$42,
                    $55,$54,$54,$4F,$4E
       00:0CDA: 3A 46 58 5F 
       00:0CDE: 4C 42 55 54 
       00:0CE2: 54 4F 4E 
 13624 00:0CE5: 5F 55 50 0D  	db	$5F,$55,$50,$0D,$0A,$00,$62,$75,$74,$74,
                    $6F,$6E,$57,$69,$6E
       00:0CE9: 0A 00 62 75 
       00:0CED: 74 74 6F 6E 
       00:0CF1: 57 69 6E 
 13625 00:0CF4: 64 6F 77 50  	db	$64,$6F,$77,$50,$72,$6F,$63,$3A,$3A,$46,
                    $58,$5F,$4D,$4F,$55
       00:0CF8: 72 6F 63 3A 
       00:0CFC: 3A 46 58 5F 
       00:0D00: 4D 4F 55 
 13626 00:0D03: 53 45 5F 45  	db	$53,$45,$5F,$45,$4E,$54,$45,$52,$0D,$0A,
                    $00,$62,$75,$74,$74
       00:0D07: 4E 54 45 52 
       00:0D0B: 0D 0A 00 62 
       00:0D0F: 75 74 74 
 13627 00:0D12: 6F 6E 57 69  	db	$6F,$6E,$57,$69,$6E,$64,$6F,$77,$50,$72,
                    $6F,$63,$3A,$3A,$46
       00:0D16: 6E 64 6F 77 
       00:0D1A: 50 72 6F 63 
       00:0D1E: 3A 3A 46 
 13628 00:0D21: 58 5F 4D 4F  	db	$58,$5F,$4D,$4F,$55,$53,$45,$5F,$45,$58,
                    $49,$54,$0D,$0A,$00
       00:0D25: 55 53 45 5F 
       00:0D29: 45 58 49 54 
       00:0D2D: 0D 0A 00 
 13629 00:0D30:              	ends
 13630                        ;
 13631                        ;
 13632                        ;
 13633                        ;
 13634                        ;BOOL k_add_child_window(PWINDOW pParent,PWINDOW p
                    Child,OBJECTCLICKED objclickCallback)
 13635                        ;{
 13636                        	.line	2347
 13637                        	.line	2348
 13638                        	WINMAN
 13639                        	xdef	~~k_add_child_window
 13640                        	func
 13641                        	.function	2348
 13642                        ~~k_add_child_window:
 13643                        	longa	on
 13644                        	longi	on
 13645 04:3BAA: 3B           	tsc
 13646 04:3BAB: 38           	sec
 13647 04:3BAC: E9 09 00     	sbc	#L497
 13648 04:3BAF: 1B           	tcs
 13649 04:3BB0: 0B           	phd
 13650 04:3BB1: 5B           	tcd
 13651             00000004   pParent_0	set	4
 13652             00000008   pChild_0	set	8
 13653             0000000C   objclickCallback_0	set	12
 13654                        	.block	2348
  Mon Dec  7 2020 11:19                                                Page 269


 13655                        ;	BOOL bRet = FALSE;
 13656                        ;
 13657                        ;	PFXNODE new = NULL;
 13658                        ;
 13659                        ;	if(pParent && pChild)
 13660             00000000   bRet_1	set	0
 13661             00000001   new_1	set	1
 13662                        	.sym	bRet,0,14,1,8
 13663                        	.sym	new,1,138,1,32,2
 13664                        	.sym	pParent,4,138,6,32,27
 13665                        	.sym	pChild,8,138,6,32,27
 13666                        	.sym	objclickCallback,12,641,6,32
 13667 04:3BB2: E2 20        	sep	#$20
 13668                        	longa	off
 13669 04:3BB4: 64 05        	stz	<L498+bRet_1
 13670 04:3BB6: C2 20        	rep	#$20
 13671                        	longa	on
 13672 04:3BB8: 64 06        	stz	<L498+new_1
 13673 04:3BBA: 64 08        	stz	<L498+new_1+2
 13674                        	.line	2353
 13675                        ;	{
 13676 04:3BBC: A5 0D        	lda	<L497+pParent_0
 13677 04:3BBE: 05 0F        	ora	<L497+pParent_0+2
 13678 04:3BC0: D0 03        	bne	L500
 13679 04:3BC2: 82 CA 00     	brl	L10171
 13680                        L500:
 13681 04:3BC5: A5 11        	lda	<L497+pChild_0
 13682 04:3BC7: 05 13        	ora	<L497+pChild_0+2
 13683 04:3BC9: D0 03        	bne	L501
 13684 04:3BCB: 82 C1 00     	brl	L10171
 13685                        L501:
 13686                        	.line	2354
 13687                        ;		new = k_nodelist_ncreate(NL_TYPE_WINDOW_
                    OBJ,(ULONG)k_getHandleFromWindow(pChild),pChild,NULL,NULL);
 13688                        	.line	2355
 13689 04:3BCE: F4 00 00     	pea	#^$0
 13690 04:3BD1: F4 00 00     	pea	#<$0
 13691 04:3BD4: F4 00 00     	pea	#^$0
 13692 04:3BD7: F4 00 00     	pea	#<$0
 13693 04:3BDA: D4 13        	pei	<L497+pChild_0+2
 13694 04:3BDC: D4 11        	pei	<L497+pChild_0
 13695 04:3BDE: D4 13        	pei	<L497+pChild_0+2
 13696 04:3BE0: D4 11        	pei	<L497+pChild_0
 13697 04:3BE2: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
 13698 04:3BE6: 85 01        	sta	<R0
 13699 04:3BE8: 86 03        	stx	<R0+2
 13700 04:3BEA: D4 03        	pei	<R0+2
 13701 04:3BEC: D4 01        	pei	<R0
 13702 04:3BEE: F4 02 00     	pea	#<$2
 13703 04:3BF1: 22 xx xx xx  	jsl	~~k_nodelist_ncreate
 13704 04:3BF5: 85 06        	sta	<L498+new_1
 13705 04:3BF7: 86 08        	stx	<L498+new_1+2
 13706                        ;		//k_debug_strings("Created Child node:",
                    pChild->win_title);
 13707                        ;
 13708                        ;		if(!pParent->pChildWindows)
 13709                        	.line	2358
 13710                        ;		{
  Mon Dec  7 2020 11:19                                                Page 270


 13711 04:3BF9: A0 3C 01     	ldy	#$13c
 13712 04:3BFC: B7 0D        	lda	[<L497+pParent_0],Y
 13713 04:3BFE: A0 3E 01     	ldy	#$13e
 13714 04:3C01: 17 0D        	ora	[<L497+pParent_0],Y
 13715 04:3C03: F0 03        	beq	L502
 13716 04:3C05: 82 22 00     	brl	L10172
 13717                        L502:
 13718                        	.line	2359
 13719                        ;			pParent->pChildWindows = k_nodel
                    ist_allocate_list("_child_window_class_list" ,k_deallocate_w
                    indow_object);
 13720                        	.line	2360
 13721 04:3C08: F4 04 00     	pea	#^~~k_deallocate_window_object
 13722 04:3C0B: F4 18 00     	pea	#<~~k_deallocate_window_object
 13723 04:3C0E: F4 xx xx     	pea	#^L496
 13724 04:3C11: F4 xx xx     	pea	#<L496
 13725 04:3C14: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
 13726 04:3C18: 85 01        	sta	<R0
 13727 04:3C1A: 86 03        	stx	<R0+2
 13728 04:3C1C: A5 01        	lda	<R0
 13729 04:3C1E: A0 3C 01     	ldy	#$13c
 13730 04:3C21: 97 0D        	sta	[<L497+pParent_0],Y
 13731 04:3C23: A5 03        	lda	<R0+2
 13732 04:3C25: A0 3E 01     	ldy	#$13e
 13733 04:3C28: 97 0D        	sta	[<L497+pParent_0],Y
 13734                        ;			//k_debug_pointer("k_add_child_w
                    indow:pChildWindows created:",pParent->pChildWindows);
 13735                        ;		}
 13736                        	.line	2362
 13737                        ;
 13738                        ;		if(!pParent->pChildHitList)
 13739                        L10172:
 13740                        	.line	2364
 13741                        ;		{
 13742 04:3C2A: A0 40 01     	ldy	#$140
 13743 04:3C2D: B7 0D        	lda	[<L497+pParent_0],Y
 13744 04:3C2F: A0 42 01     	ldy	#$142
 13745 04:3C32: 17 0D        	ora	[<L497+pParent_0],Y
 13746 04:3C34: F0 03        	beq	L503
 13747 04:3C36: 82 22 00     	brl	L10173
 13748                        L503:
 13749                        	.line	2365
 13750                        ;			pParent->pChildHitList = k_nodel
                    ist_allocate_list("_child_hit_list" ,k_deallocate_hit_class)
                    ;
 13751                        	.line	2366
 13752 04:3C39: F4 04 00     	pea	#^~~k_deallocate_hit_class
 13753 04:3C3C: F4 13 01     	pea	#<~~k_deallocate_hit_class
 13754 04:3C3F: F4 xx xx     	pea	#^L496+25
 13755 04:3C42: F4 xx xx     	pea	#<L496+25
 13756 04:3C45: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
 13757 04:3C49: 85 01        	sta	<R0
 13758 04:3C4B: 86 03        	stx	<R0+2
 13759 04:3C4D: A5 01        	lda	<R0
 13760 04:3C4F: A0 40 01     	ldy	#$140
 13761 04:3C52: 97 0D        	sta	[<L497+pParent_0],Y
 13762 04:3C54: A5 03        	lda	<R0+2
 13763 04:3C56: A0 42 01     	ldy	#$142
  Mon Dec  7 2020 11:19                                                Page 271


 13764 04:3C59: 97 0D        	sta	[<L497+pParent_0],Y
 13765                        ;			//k_debug_pointer("k_add_child_w
                    indow:pChildHitList created:",pParent->pChildHitList);
 13766                        ;		}
 13767                        	.line	2368
 13768                        ;
 13769                        ;		//k_debug_pointer("k_add_child_window:pC
                    hildWindows:",pParent->pChildWindows);
 13770                        ;		//k_debug_pointer("k_add_child_window:pC
                    hildHitList:",pParent->pChildHitList);
 13771                        ;
 13772                        ;		k_nodelist_addnodetolist(pParent->pChild
                    Windows,new);
 13773                        L10173:
 13774                        	.line	2373
 13775 04:3C5B: D4 08        	pei	<L498+new_1+2
 13776 04:3C5D: D4 06        	pei	<L498+new_1
 13777 04:3C5F: A0 3E 01     	ldy	#$13e
 13778 04:3C62: B7 0D        	lda	[<L497+pParent_0],Y
 13779 04:3C64: 48           	pha
 13780 04:3C65: A0 3C 01     	ldy	#$13c
 13781 04:3C68: B7 0D        	lda	[<L497+pParent_0],Y
 13782 04:3C6A: 48           	pha
 13783 04:3C6B: 22 xx xx xx  	jsl	~~k_nodelist_addnodetolist
 13784                        ;
 13785                        ;		//k_debug_strings("Node List for:",pPare
                    nt->win_title);
 13786                        ;		//k_debug_nodelist(pParent->pChildWindow
                    s->listhead->next);
 13787                        ;		k_attach_mouse_detection_local(pParent->
                    pChildHitList,pChild,objclickCallback);
 13788                        	.line	2377
 13789 04:3C6F: D4 17        	pei	<L497+objclickCallback_0+2
 13790 04:3C71: D4 15        	pei	<L497+objclickCallback_0
 13791 04:3C73: D4 13        	pei	<L497+pChild_0+2
 13792 04:3C75: D4 11        	pei	<L497+pChild_0
 13793 04:3C77: A0 42 01     	ldy	#$142
 13794 04:3C7A: B7 0D        	lda	[<L497+pParent_0],Y
 13795 04:3C7C: 48           	pha
 13796 04:3C7D: A0 40 01     	ldy	#$140
 13797 04:3C80: B7 0D        	lda	[<L497+pParent_0],Y
 13798 04:3C82: 48           	pha
 13799 04:3C83: 22 20 3F 04  	jsl	~~k_attach_mouse_detection_local
 13800                        ;
 13801                        ;		bRet = TRUE;
 13802                        	.line	2379
 13803 04:3C87: E2 20        	sep	#$20
 13804                        	longa	off
 13805 04:3C89: A9 01        	lda	#$1
 13806 04:3C8B: 85 05        	sta	<L498+bRet_1
 13807 04:3C8D: C2 20        	rep	#$20
 13808                        	longa	on
 13809                        ;	}
 13810                        	.line	2380
 13811                        ;
 13812                        ;	return bRet;
 13813                        L10171:
 13814                        	.line	2382
  Mon Dec  7 2020 11:19                                                Page 272


 13815 04:3C8F: A5 05        	lda	<L498+bRet_1
 13816 04:3C91: 29 FF 00     	and	#$ff
 13817                        L504:
 13818 04:3C94: A8           	tay
 13819 04:3C95: A5 0B        	lda	<L497+2
 13820 04:3C97: 85 17        	sta	<L497+2+12
 13821 04:3C99: A5 0A        	lda	<L497+1
 13822 04:3C9B: 85 16        	sta	<L497+1+12
 13823 04:3C9D: 2B           	pld
 13824 04:3C9E: 3B           	tsc
 13825 04:3C9F: 18           	clc
 13826 04:3CA0: 69 15 00     	adc	#L497+12
 13827 04:3CA3: 1B           	tcs
 13828 04:3CA4: 98           	tya
 13829 04:3CA5: 6B           	rtl
 13830                        ;}
 13831                        	.line	2383
 13832                        	.endblock	2383
 13833             00000009   L497	equ	9
 13834             00000005   L498	equ	5
 13835 04:3CA6:              	ends
 13836                        	efunc
 13837                        	.endfunc	2383,5,9
 13838                        	.line	2383
 13839                        	data
 13840                        L496:
 13841 00:0D30: 5F 63 68 69  	db	$5F,$63,$68,$69,$6C,$64,$5F,$77,$69,$6E,
                    $64,$6F,$77,$5F,$63
       00:0D34: 6C 64 5F 77 
       00:0D38: 69 6E 64 6F 
       00:0D3C: 77 5F 63 
 13842 00:0D3F: 6C 61 73 73  	db	$6C,$61,$73,$73,$5F,$6C,$69,$73,$74,$00,
                    $5F,$63,$68,$69,$6C
       00:0D43: 5F 6C 69 73 
       00:0D47: 74 00 5F 63 
       00:0D4B: 68 69 6C 
 13843 00:0D4E: 64 5F 68 69  	db	$64,$5F,$68,$69,$74,$5F,$6C,$69,$73,$74,
                    $00
       00:0D52: 74 5F 6C 69 
       00:0D56: 73 74 00 
 13844 00:0D59:              	ends
 13845                        ;
 13846                        ;void k_update_hover_location(PWINDOW pWin)
 13847                        ;{
 13848                        	.line	2385
 13849                        	.line	2386
 13850                        	WINMAN
 13851                        	xdef	~~k_update_hover_location
 13852                        	func
 13853                        	.function	2386
 13854                        ~~k_update_hover_location:
 13855                        	longa	on
 13856                        	longi	on
 13857 04:3CA6: 3B           	tsc
 13858 04:3CA7: 38           	sec
 13859 04:3CA8: E9 08 00     	sbc	#L506
 13860 04:3CAB: 1B           	tcs
 13861 04:3CAC: 0B           	phd
  Mon Dec  7 2020 11:19                                                Page 273


 13862 04:3CAD: 5B           	tcd
 13863             00000004   pWin_0	set	4
 13864                        	.block	2386
 13865                        ;	PWINDOW pOld = NULL;
 13866                        ;
 13867                        ;	//k_debug_strings("k_update_hover_location::pWin
                    :",pWin->win_title);
 13868                        ;
 13869                        ;	//k_debug_strings("k_menuHitDetected::pWin:",pWi
                    n->win_title);
 13870                        ;
 13871                        ;	if(_k_windowManager_WindowObjectList->listData!=
                    pWin)
 13872             00000000   pOld_1	set	0
 13873                        	.sym	pOld,0,138,1,32,27
 13874                        	.sym	pWin,4,138,6,32,27
 13875 04:3CAE: 64 05        	stz	<L507+pOld_1
 13876 04:3CB0: 64 07        	stz	<L507+pOld_1+2
 13877                        	.line	2393
 13878                        ;	{
 13879 04:3CB2: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
 13880 04:3CB5: 85 01        	sta	<R0
 13881 04:3CB7: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
 13882 04:3CBA: 85 03        	sta	<R0+2
 13883 04:3CBC: A0 04 00     	ldy	#$4
 13884 04:3CBF: B7 01        	lda	[<R0],Y
 13885 04:3CC1: C5 0C        	cmp	<L506+pWin_0
 13886 04:3CC3: D0 07        	bne	L509
 13887 04:3CC5: A0 06 00     	ldy	#$6
 13888 04:3CC8: B7 01        	lda	[<R0],Y
 13889 04:3CCA: C5 0E        	cmp	<L506+pWin_0+2
 13890                        L509:
 13891 04:3CCC: D0 03        	bne	L510
 13892 04:3CCE: 82 8E 00     	brl	L10174
 13893                        L510:
 13894                        	.line	2394
 13895                        ;		if(_k_windowManager_WindowObjectList->li
                    stData != NULL)
 13896                        	.line	2395
 13897                        ;		{
 13898 04:3CD1: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
 13899 04:3CD4: 85 01        	sta	<R0
 13900 04:3CD6: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
 13901 04:3CD9: 85 03        	sta	<R0+2
 13902 04:3CDB: A0 04 00     	ldy	#$4
 13903 04:3CDE: B7 01        	lda	[<R0],Y
 13904 04:3CE0: A0 06 00     	ldy	#$6
 13905 04:3CE3: 17 01        	ora	[<R0],Y
 13906 04:3CE5: D0 03        	bne	L511
 13907 04:3CE7: 82 18 00     	brl	L10175
 13908                        L511:
 13909                        	.line	2396
 13910                        ;			pOld = _k_windowManager_WindowOb
                    jectList->listData;
 13911                        	.line	2397
 13912 04:3CEA: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
 13913 04:3CED: 85 01        	sta	<R0
 13914 04:3CEF: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
  Mon Dec  7 2020 11:19                                                Page 274


 13915 04:3CF2: 85 03        	sta	<R0+2
 13916 04:3CF4: A0 04 00     	ldy	#$4
 13917 04:3CF7: B7 01        	lda	[<R0],Y
 13918 04:3CF9: 85 05        	sta	<L507+pOld_1
 13919 04:3CFB: A0 06 00     	ldy	#$6
 13920 04:3CFE: B7 01        	lda	[<R0],Y
 13921 04:3D00: 85 07        	sta	<L507+pOld_1+2
 13922                        ;			//k_debug_strings("k_Detected::p
                    Old:",pOld->win_title);
 13923                        ;			/*
 13924                        ;			k_vdraw_ui_window(FXWS_OVERLAPPE
                    D,
 13925                        ;							
                      pWin->win_x ,pWin->win_y,
 13926                        ;							
                      pWin->win_height,pWin->win_width,
 13927                        ;							
                      (LPCHAR)pWin->win_title,
 13928                        ;							
                      15, 3);*/
 13929                        ;		}
 13930                        	.line	2405
 13931                        ;		_k_windowManager_WindowObjectList->listD
                    ata=pWin;
 13932                        L10175:
 13933                        	.line	2406
 13934 04:3D02: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
 13935 04:3D05: 85 01        	sta	<R0
 13936 04:3D07: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
 13937 04:3D0A: 85 03        	sta	<R0+2
 13938 04:3D0C: A5 0C        	lda	<L506+pWin_0
 13939 04:3D0E: A0 04 00     	ldy	#$4
 13940 04:3D11: 97 01        	sta	[<R0],Y
 13941 04:3D13: A5 0E        	lda	<L506+pWin_0+2
 13942 04:3D15: A0 06 00     	ldy	#$6
 13943 04:3D18: 97 01        	sta	[<R0],Y
 13944                        ;
 13945                        ;		k_send_window_message(k_getHandleFromWin
                    dow(pWin),FX_MOUSE_ENTER,NULL,0);
 13946                        	.line	2408
 13947 04:3D1A: F4 00 00     	pea	#<$0
 13948 04:3D1D: F4 00 00     	pea	#^$0
 13949 04:3D20: F4 00 00     	pea	#<$0
 13950 04:3D23: F4 01 0F     	pea	#<$f01
 13951 04:3D26: D4 0E        	pei	<L506+pWin_0+2
 13952 04:3D28: D4 0C        	pei	<L506+pWin_0
 13953 04:3D2A: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
 13954 04:3D2E: 85 01        	sta	<R0
 13955 04:3D30: 86 03        	stx	<R0+2
 13956 04:3D32: DA           	phx
 13957 04:3D33: 48           	pha
 13958 04:3D34: 22 xx xx xx  	jsl	~~k_send_window_message
 13959                        ;		if(pOld)
 13960                        	.line	2409
 13961                        ;		{
 13962 04:3D38: A5 05        	lda	<L507+pOld_1
 13963 04:3D3A: 05 07        	ora	<L507+pOld_1+2
 13964 04:3D3C: D0 03        	bne	L512
  Mon Dec  7 2020 11:19                                                Page 275


 13965 04:3D3E: 82 1E 00     	brl	L10176
 13966                        L512:
 13967                        	.line	2410
 13968                        ;			k_send_window_message(k_getHandl
                    eFromWindow(pOld),FX_MOUSE_EXIT,NULL,0);
 13969                        	.line	2411
 13970 04:3D41: F4 00 00     	pea	#<$0
 13971 04:3D44: F4 00 00     	pea	#^$0
 13972 04:3D47: F4 00 00     	pea	#<$0
 13973 04:3D4A: F4 02 0F     	pea	#<$f02
 13974 04:3D4D: D4 07        	pei	<L507+pOld_1+2
 13975 04:3D4F: D4 05        	pei	<L507+pOld_1
 13976 04:3D51: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
 13977 04:3D55: 85 01        	sta	<R0
 13978 04:3D57: 86 03        	stx	<R0+2
 13979 04:3D59: DA           	phx
 13980 04:3D5A: 48           	pha
 13981 04:3D5B: 22 xx xx xx  	jsl	~~k_send_window_message
 13982                        ;		}
 13983                        	.line	2412
 13984                        ;		//k_send_window_message(k_getHandleFromW
                    indow(pWin),FX_MOUSE_ENTER,NULL,0);
 13985                        ;	}
 13986                        L10176:
 13987                        	.line	2414
 13988                        ;
 13989                        ;}
 13990                        L10174:
 13991                        	.line	2416
 13992                        L513:
 13993 04:3D5F: A5 0A        	lda	<L506+2
 13994 04:3D61: 85 0E        	sta	<L506+2+4
 13995 04:3D63: A5 09        	lda	<L506+1
 13996 04:3D65: 85 0D        	sta	<L506+1+4
 13997 04:3D67: 2B           	pld
 13998 04:3D68: 3B           	tsc
 13999 04:3D69: 18           	clc
 14000 04:3D6A: 69 0C 00     	adc	#L506+4
 14001 04:3D6D: 1B           	tcs
 14002 04:3D6E: 6B           	rtl
 14003                        	.endblock	2416
 14004             00000008   L506	equ	8
 14005             00000005   L507	equ	5
 14006 04:3D6F:              	ends
 14007                        	efunc
 14008                        	.endfunc	2416,5,8
 14009                        	.line	2416
 14010                        ;
 14011                        ;HWND k_user_getFocusWindow()
 14012                        ;{
 14013                        	.line	2418
 14014                        	.line	2419
 14015                        	WINMAN
 14016                        	xdef	~~k_user_getFocusWindow
 14017                        	func
 14018                        	.function	2419
 14019                        ~~k_user_getFocusWindow:
 14020                        	longa	on
  Mon Dec  7 2020 11:19                                                Page 276


 14021                        	longi	on
 14022 04:3D6F: 3B           	tsc
 14023 04:3D70: 38           	sec
 14024 04:3D71: E9 04 00     	sbc	#L514
 14025 04:3D74: 1B           	tcs
 14026 04:3D75: 0B           	phd
 14027 04:3D76: 5B           	tcd
 14028                        	.block	2419
 14029                        ;	return k_getHandleFromWindow((PWINDOW) _k_window
                    Manager_WindowObjectList->listData);
 14030                        	.line	2420
 14031 04:3D77: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList
 14032 04:3D7A: 85 01        	sta	<R0
 14033 04:3D7C: AD xx xx     	lda	|~~_k_windowManager_WindowObjectList+2
 14034 04:3D7F: 85 03        	sta	<R0+2
 14035 04:3D81: A0 06 00     	ldy	#$6
 14036 04:3D84: B7 01        	lda	[<R0],Y
 14037 04:3D86: 48           	pha
 14038 04:3D87: A0 04 00     	ldy	#$4
 14039 04:3D8A: B7 01        	lda	[<R0],Y
 14040 04:3D8C: 48           	pha
 14041 04:3D8D: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
 14042 04:3D91: 85 01        	sta	<R0
 14043 04:3D93: 86 03        	stx	<R0+2
 14044 04:3D95: A6 03        	ldx	<R0+2
 14045 04:3D97: A5 01        	lda	<R0
 14046                        L517:
 14047 04:3D99: A8           	tay
 14048 04:3D9A: 2B           	pld
 14049 04:3D9B: 3B           	tsc
 14050 04:3D9C: 18           	clc
 14051 04:3D9D: 69 04 00     	adc	#L514
 14052 04:3DA0: 1B           	tcs
 14053 04:3DA1: 98           	tya
 14054 04:3DA2: 6B           	rtl
 14055                        ;}
 14056                        	.line	2421
 14057                        	.endblock	2421
 14058             00000004   L514	equ	4
 14059             00000005   L515	equ	5
 14060 04:3DA3:              	ends
 14061                        	efunc
 14062                        	.endfunc	2421,5,4
 14063                        	.line	2421
 14064                        ;
 14065                        ;BOOL find_child_window(LPVOID ctx,LPVOID data)
 14066                        ;{
 14067                        	.line	2423
 14068                        	.line	2424
 14069                        	WINMAN
 14070                        	xdef	~~find_child_window
 14071                        	func
 14072                        	.function	2424
 14073                        ~~find_child_window:
 14074                        	longa	on
 14075                        	longi	on
 14076 04:3DA3: 3B           	tsc
 14077 04:3DA4: 38           	sec
  Mon Dec  7 2020 11:19                                                Page 277


 14078 04:3DA5: E9 08 00     	sbc	#L518
 14079 04:3DA8: 1B           	tcs
 14080 04:3DA9: 0B           	phd
 14081 04:3DAA: 5B           	tcd
 14082             00000004   ctx_0	set	4
 14083             00000008   data_0	set	8
 14084                        	.block	2424
 14085                        ;	PWINDOW pChild = (PWINDOW)ctx;
 14086                        ;
 14087                        ;	if(ctx && data)
 14088             00000000   pChild_1	set	0
 14089                        	.sym	pChild,0,138,1,32,27
 14090                        	.sym	ctx,4,129,6,32
 14091                        	.sym	data,8,129,6,32
 14092 04:3DAB: A5 0C        	lda	<L518+ctx_0
 14093 04:3DAD: 85 05        	sta	<L519+pChild_1
 14094 04:3DAF: A5 0E        	lda	<L518+ctx_0+2
 14095 04:3DB1: 85 07        	sta	<L519+pChild_1+2
 14096                        	.line	2427
 14097                        ;	{
 14098 04:3DB3: A5 0C        	lda	<L518+ctx_0
 14099 04:3DB5: 05 0E        	ora	<L518+ctx_0+2
 14100 04:3DB7: D0 03        	bne	L521
 14101 04:3DB9: 82 33 00     	brl	L10177
 14102                        L521:
 14103 04:3DBC: A5 10        	lda	<L518+data_0
 14104 04:3DBE: 05 12        	ora	<L518+data_0+2
 14105 04:3DC0: D0 03        	bne	L522
 14106 04:3DC2: 82 2A 00     	brl	L10177
 14107                        L522:
 14108                        	.line	2428
 14109                        ;		return (pChild == data);
 14110                        	.line	2429
 14111 04:3DC5: 64 01        	stz	<R0
 14112 04:3DC7: A5 05        	lda	<L519+pChild_1
 14113 04:3DC9: C5 10        	cmp	<L518+data_0
 14114 04:3DCB: D0 04        	bne	L524
 14115 04:3DCD: A5 07        	lda	<L519+pChild_1+2
 14116 04:3DCF: C5 12        	cmp	<L518+data_0+2
 14117                        L524:
 14118 04:3DD1: F0 03        	beq	L525
 14119 04:3DD3: 82 02 00     	brl	L523
 14120                        L525:
 14121 04:3DD6: E6 01        	inc	<R0
 14122                        L523:
 14123 04:3DD8: A5 01        	lda	<R0
 14124 04:3DDA: 29 FF 00     	and	#$ff
 14125                        L526:
 14126 04:3DDD: A8           	tay
 14127 04:3DDE: A5 0A        	lda	<L518+2
 14128 04:3DE0: 85 12        	sta	<L518+2+8
 14129 04:3DE2: A5 09        	lda	<L518+1
 14130 04:3DE4: 85 11        	sta	<L518+1+8
 14131 04:3DE6: 2B           	pld
 14132 04:3DE7: 3B           	tsc
 14133 04:3DE8: 18           	clc
 14134 04:3DE9: 69 10 00     	adc	#L518+8
 14135 04:3DEC: 1B           	tcs
  Mon Dec  7 2020 11:19                                                Page 278


 14136 04:3DED: 98           	tya
 14137 04:3DEE: 6B           	rtl
 14138                        ;	}
 14139                        	.line	2430
 14140                        ;
 14141                        ;	return FALSE;
 14142                        L10177:
 14143                        	.line	2432
 14144 04:3DEF: A9 00 00     	lda	#$0
 14145 04:3DF2: 82 E8 FF     	brl	L526
 14146                        ;}
 14147                        	.line	2433
 14148                        	.endblock	2433
 14149             00000008   L518	equ	8
 14150             00000005   L519	equ	5
 14151 04:3DF5:              	ends
 14152                        	efunc
 14153                        	.endfunc	2433,5,8
 14154                        	.line	2433
 14155                        ;
 14156                        ;BOOL k_user_IsChildWindow(HWND hWndParent,HWND hW
                    ndChild)
 14157                        ;{
 14158                        	.line	2435
 14159                        	.line	2436
 14160                        	WINMAN
 14161                        	xdef	~~k_user_IsChildWindow
 14162                        	func
 14163                        	.function	2436
 14164                        ~~k_user_IsChildWindow:
 14165                        	longa	on
 14166                        	longi	on
 14167 04:3DF5: 3B           	tsc
 14168 04:3DF6: 38           	sec
 14169 04:3DF7: E9 09 00     	sbc	#L527
 14170 04:3DFA: 1B           	tcs
 14171 04:3DFB: 0B           	phd
 14172 04:3DFC: 5B           	tcd
 14173             00000004   hWndParent_0	set	4
 14174             00000008   hWndChild_0	set	8
 14175                        	.block	2436
 14176                        ;	BOOL bRet = FALSE;
 14177                        ;
 14178                        ;	PWINDOW pWin = NULL;
 14179                        ;
 14180                        ;	if(hWndParent && hWndChild)
 14181             00000000   bRet_1	set	0
 14182             00000001   pWin_1	set	1
 14183                        	.sym	bRet,0,14,1,8
 14184                        	.sym	pWin,1,138,1,32,27
 14185                        	.sym	hWndParent,4,129,6,32
 14186                        	.sym	hWndChild,8,129,6,32
 14187 04:3DFD: E2 20        	sep	#$20
 14188                        	longa	off
 14189 04:3DFF: 64 05        	stz	<L528+bRet_1
 14190 04:3E01: C2 20        	rep	#$20
 14191                        	longa	on
 14192 04:3E03: 64 06        	stz	<L528+pWin_1
  Mon Dec  7 2020 11:19                                                Page 279


 14193 04:3E05: 64 08        	stz	<L528+pWin_1+2
 14194                        	.line	2441
 14195                        ;	{
 14196 04:3E07: A5 0D        	lda	<L527+hWndParent_0
 14197 04:3E09: 05 0F        	ora	<L527+hWndParent_0+2
 14198 04:3E0B: D0 03        	bne	L530
 14199 04:3E0D: 82 51 00     	brl	L10178
 14200                        L530:
 14201 04:3E10: A5 11        	lda	<L527+hWndChild_0
 14202 04:3E12: 05 13        	ora	<L527+hWndChild_0+2
 14203 04:3E14: D0 03        	bne	L531
 14204 04:3E16: 82 48 00     	brl	L10178
 14205                        L531:
 14206                        	.line	2442
 14207                        ;		pWin = k_getWindowFromHandle(hWndParent)
                    ;
 14208                        	.line	2443
 14209 04:3E19: D4 0F        	pei	<L527+hWndParent_0+2
 14210 04:3E1B: D4 0D        	pei	<L527+hWndParent_0
 14211 04:3E1D: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
 14212 04:3E21: 85 06        	sta	<L528+pWin_1
 14213 04:3E23: 86 08        	stx	<L528+pWin_1+2
 14214                        ;		if(pWin && pWin->pChildWindows)
 14215                        	.line	2444
 14216                        ;		{
 14217 04:3E25: A5 06        	lda	<L528+pWin_1
 14218 04:3E27: 05 08        	ora	<L528+pWin_1+2
 14219 04:3E29: D0 03        	bne	L532
 14220 04:3E2B: 82 33 00     	brl	L10179
 14221                        L532:
 14222 04:3E2E: A0 3C 01     	ldy	#$13c
 14223 04:3E31: B7 06        	lda	[<L528+pWin_1],Y
 14224 04:3E33: A0 3E 01     	ldy	#$13e
 14225 04:3E36: 17 06        	ora	[<L528+pWin_1],Y
 14226 04:3E38: D0 03        	bne	L533
 14227 04:3E3A: 82 24 00     	brl	L10179
 14228                        L533:
 14229                        	.line	2445
 14230                        ;			k_nodelist_foreach_until_listdat
                    a(pWin->pChildWindows,k_getWindowFromHandle(hWndChild),find_
                    child_window);
 14231                        	.line	2446
 14232 04:3E3D: F4 04 00     	pea	#^~~find_child_window
 14233 04:3E40: F4 A3 3D     	pea	#<~~find_child_window
 14234 04:3E43: D4 13        	pei	<L527+hWndChild_0+2
 14235 04:3E45: D4 11        	pei	<L527+hWndChild_0
 14236 04:3E47: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
 14237 04:3E4B: 85 01        	sta	<R0
 14238 04:3E4D: 86 03        	stx	<R0+2
 14239 04:3E4F: DA           	phx
 14240 04:3E50: 48           	pha
 14241 04:3E51: A0 3E 01     	ldy	#$13e
 14242 04:3E54: B7 06        	lda	[<L528+pWin_1],Y
 14243 04:3E56: 48           	pha
 14244 04:3E57: A0 3C 01     	ldy	#$13c
 14245 04:3E5A: B7 06        	lda	[<L528+pWin_1],Y
 14246 04:3E5C: 48           	pha
 14247 04:3E5D: 22 xx xx xx  	jsl	~~k_nodelist_foreach_until_listdata
  Mon Dec  7 2020 11:19                                                Page 280


 14248                        ;		}
 14249                        	.line	2447
 14250                        ;	}
 14251                        L10179:
 14252                        	.line	2448
 14253                        ;
 14254                        ;	return bRet;
 14255                        L10178:
 14256                        	.line	2450
 14257 04:3E61: A5 05        	lda	<L528+bRet_1
 14258 04:3E63: 29 FF 00     	and	#$ff
 14259                        L534:
 14260 04:3E66: A8           	tay
 14261 04:3E67: A5 0B        	lda	<L527+2
 14262 04:3E69: 85 13        	sta	<L527+2+8
 14263 04:3E6B: A5 0A        	lda	<L527+1
 14264 04:3E6D: 85 12        	sta	<L527+1+8
 14265 04:3E6F: 2B           	pld
 14266 04:3E70: 3B           	tsc
 14267 04:3E71: 18           	clc
 14268 04:3E72: 69 11 00     	adc	#L527+8
 14269 04:3E75: 1B           	tcs
 14270 04:3E76: 98           	tya
 14271 04:3E77: 6B           	rtl
 14272                        ;}
 14273                        	.line	2451
 14274                        	.endblock	2451
 14275             00000009   L527	equ	9
 14276             00000005   L528	equ	5
 14277 04:3E78:              	ends
 14278                        	efunc
 14279                        	.endfunc	2451,5,9
 14280                        	.line	2451
 14281                        ;
 14282                        ;/*
 14283                        ;void k_buttonHitDetected(PWINDOW pWin)
 14284                        ;{
 14285                        ;	k_update_hover_location(pWin);
 14286                        ;}
 14287                        ;
 14288                        ;void k_menuHitDetected(PWINDOW pWin)
 14289                        ;{
 14290                        ;	k_update_hover_location(pWin);
 14291                        ;}
 14292                        ;
 14293                        ;
 14294                        ;void k_windowHitDetected(PWINDOW pWin)
 14295                        ;{
 14296                        ;	k_update_hover_location(pWin);
 14297                        ;}
 14298                        ;*/
 14299                        ;int k_attach_mouse_detection(PWINDOW pWin,OBJECTC
                    LICKED objclickCallback)
 14300                        ;{
 14301                        	.line	2470
 14302                        	.line	2471
 14303                        	WINMAN
 14304                        	xdef	~~k_attach_mouse_detection
  Mon Dec  7 2020 11:19                                                Page 281


 14305                        	func
 14306                        	.function	2471
 14307                        ~~k_attach_mouse_detection:
 14308                        	longa	on
 14309                        	longi	on
 14310 04:3E78: 3B           	tsc
 14311 04:3E79: 38           	sec
 14312 04:3E7A: E9 06 00     	sbc	#L535
 14313 04:3E7D: 1B           	tcs
 14314 04:3E7E: 0B           	phd
 14315 04:3E7F: 5B           	tcd
 14316             00000004   pWin_0	set	4
 14317             00000008   objclickCallback_0	set	8
 14318                        	.block	2471
 14319                        ;	PCLICKDETECTED pcd = NULL;
 14320                        ;
 14321                        ;	int retCode = 0;
 14322                        ;
 14323                        ;	if(pWin)
 14324             00000000   pcd_1	set	0
 14325             00000004   retCode_1	set	4
 14326                        	.sym	pcd,0,138,1,32,61
 14327                        	.sym	retCode,4,5,1,16
 14328                        	.sym	pWin,4,138,6,32,27
 14329                        	.sym	objclickCallback,8,641,6,32
 14330 04:3E80: 64 01        	stz	<L536+pcd_1
 14331 04:3E82: 64 03        	stz	<L536+pcd_1+2
 14332 04:3E84: 64 05        	stz	<L536+retCode_1
 14333                        	.line	2476
 14334                        ;	{
 14335 04:3E86: A5 0A        	lda	<L535+pWin_0
 14336 04:3E88: 05 0C        	ora	<L535+pWin_0+2
 14337 04:3E8A: D0 03        	bne	L538
 14338 04:3E8C: 82 35 00     	brl	L10180
 14339                        L538:
 14340                        	.line	2477
 14341                        ;		pcd = k_mem_allocate_heap(sizeof(CLICKDE
                    TECTED));
 14342                        	.line	2478
 14343 04:3E8F: F4 08 00     	pea	#<$8
 14344 04:3E92: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 14345 04:3E96: 85 01        	sta	<L536+pcd_1
 14346 04:3E98: 86 03        	stx	<L536+pcd_1+2
 14347                        ;		if(pcd)
 14348                        	.line	2479
 14349                        ;		{
 14350 04:3E9A: A5 01        	lda	<L536+pcd_1
 14351 04:3E9C: 05 03        	ora	<L536+pcd_1+2
 14352 04:3E9E: D0 03        	bne	L539
 14353 04:3EA0: 82 21 00     	brl	L10181
 14354                        L539:
 14355                        	.line	2480
 14356                        ;			pcd->window  = pWin;
 14357                        	.line	2481
 14358 04:3EA3: A5 0A        	lda	<L535+pWin_0
 14359 04:3EA5: 87 01        	sta	[<L536+pcd_1]
 14360 04:3EA7: A5 0C        	lda	<L535+pWin_0+2
 14361 04:3EA9: A0 02 00     	ldy	#$2
  Mon Dec  7 2020 11:19                                                Page 282


 14362 04:3EAC: 97 01        	sta	[<L536+pcd_1],Y
 14363                        ;			pcd->handler = objclickCallback;
 14364                        	.line	2482
 14365 04:3EAE: A5 0E        	lda	<L535+objclickCallback_0
 14366 04:3EB0: A0 04 00     	ldy	#$4
 14367 04:3EB3: 97 01        	sta	[<L536+pcd_1],Y
 14368 04:3EB5: A5 10        	lda	<L535+objclickCallback_0+2
 14369 04:3EB7: A0 06 00     	ldy	#$6
 14370 04:3EBA: 97 01        	sta	[<L536+pcd_1],Y
 14371                        ;			k_add_object_hit_node(pcd);
 14372                        	.line	2483
 14373 04:3EBC: D4 03        	pei	<L536+pcd_1+2
 14374 04:3EBE: D4 01        	pei	<L536+pcd_1
 14375 04:3EC0: 22 D8 3E 04  	jsl	~~k_add_object_hit_node
 14376                        ;		}
 14377                        	.line	2484
 14378                        ;	}
 14379                        L10181:
 14380                        	.line	2485
 14381                        ;
 14382                        ;	return retCode;
 14383                        L10180:
 14384                        	.line	2487
 14385 04:3EC4: A5 05        	lda	<L536+retCode_1
 14386                        L540:
 14387 04:3EC6: A8           	tay
 14388 04:3EC7: A5 08        	lda	<L535+2
 14389 04:3EC9: 85 10        	sta	<L535+2+8
 14390 04:3ECB: A5 07        	lda	<L535+1
 14391 04:3ECD: 85 0F        	sta	<L535+1+8
 14392 04:3ECF: 2B           	pld
 14393 04:3ED0: 3B           	tsc
 14394 04:3ED1: 18           	clc
 14395 04:3ED2: 69 0E 00     	adc	#L535+8
 14396 04:3ED5: 1B           	tcs
 14397 04:3ED6: 98           	tya
 14398 04:3ED7: 6B           	rtl
 14399                        ;}
 14400                        	.line	2488
 14401                        	.endblock	2488
 14402             00000006   L535	equ	6
 14403             00000001   L536	equ	1
 14404 04:3ED8:              	ends
 14405                        	efunc
 14406                        	.endfunc	2488,1,6
 14407                        	.line	2488
 14408                        ;
 14409                        ;void k_add_object_hit_node(PCLICKDETECTED pcd)
 14410                        ;{
 14411                        	.line	2490
 14412                        	.line	2491
 14413                        	WINMAN
 14414                        	xdef	~~k_add_object_hit_node
 14415                        	func
 14416                        	.function	2491
 14417                        ~~k_add_object_hit_node:
 14418                        	longa	on
 14419                        	longi	on
  Mon Dec  7 2020 11:19                                                Page 283


 14420 04:3ED8: 3B           	tsc
 14421 04:3ED9: 38           	sec
 14422 04:3EDA: E9 08 00     	sbc	#L541
 14423 04:3EDD: 1B           	tcs
 14424 04:3EDE: 0B           	phd
 14425 04:3EDF: 5B           	tcd
 14426             00000004   pcd_0	set	4
 14427                        	.block	2491
 14428                        ;	PFXNODE new = NULL;
 14429                        ;	//k_debug_pointer("k_add_object_hit_node:",pcd);
 14430                        ;
 14431                        ;	new = k_nodelist_naddtolist_tohead(_k_windowMana
                    ger_ObjectHitList,1,(ULONG)k_getHandleFromWindow(pcd->window
                    ),pcd);
 14432             00000000   new_1	set	0
 14433                        	.sym	new,0,138,1,32,2
 14434                        	.sym	pcd,4,138,6,32,61
 14435 04:3EE0: 64 05        	stz	<L542+new_1
 14436 04:3EE2: 64 07        	stz	<L542+new_1+2
 14437                        	.line	2495
 14438 04:3EE4: D4 0E        	pei	<L541+pcd_0+2
 14439 04:3EE6: D4 0C        	pei	<L541+pcd_0
 14440 04:3EE8: A0 02 00     	ldy	#$2
 14441 04:3EEB: B7 0C        	lda	[<L541+pcd_0],Y
 14442 04:3EED: 48           	pha
 14443 04:3EEE: A7 0C        	lda	[<L541+pcd_0]
 14444 04:3EF0: 48           	pha
 14445 04:3EF1: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
 14446 04:3EF5: 85 01        	sta	<R0
 14447 04:3EF7: 86 03        	stx	<R0+2
 14448 04:3EF9: D4 03        	pei	<R0+2
 14449 04:3EFB: D4 01        	pei	<R0
 14450 04:3EFD: F4 01 00     	pea	#<$1
 14451 04:3F00: AD xx xx     	lda	|~~_k_windowManager_ObjectHitList+2
 14452 04:3F03: 48           	pha
 14453 04:3F04: AD xx xx     	lda	|~~_k_windowManager_ObjectHitList
 14454 04:3F07: 48           	pha
 14455 04:3F08: 22 xx xx xx  	jsl	~~k_nodelist_naddtolist_tohead
 14456 04:3F0C: 85 05        	sta	<L542+new_1
 14457 04:3F0E: 86 07        	stx	<L542+new_1+2
 14458                        ;	/*
 14459                        ;	if(pcd->window->pParentWindow == k_user_getDeskt
                    opWindow())
 14460                        ;	{
 14461                        ;
 14462                        ;		k_debug_strings("*** k_add_object_hit_no
                    de to HEAD:",pcd->window->win_title);
 14463                        ;		k_debug_pointer("***                    
                        WINDOW:",pcd->window);
 14464                        ;
 14465                        ;		k_debug_nodelist(_k_windowManager_Object
                    HitList->listhead->next);
 14466                        ;		k_debug_nodelist(((PWINDOW)pcd->window->
                    pParentWindow)->pChildHitList->listhead->next);
 14467                        ;
 14468                        ;
 14469                        ;		_k_windowManager_ObjectHitList->listData
                     = new;
  Mon Dec  7 2020 11:19                                                Page 284


 14470                        ;
 14471                        ;	}
 14472                        ;	*/
 14473                        ;
 14474                        ;}
 14475                        	.line	2512
 14476                        L544:
 14477 04:3F10: A5 0A        	lda	<L541+2
 14478 04:3F12: 85 0E        	sta	<L541+2+4
 14479 04:3F14: A5 09        	lda	<L541+1
 14480 04:3F16: 85 0D        	sta	<L541+1+4
 14481 04:3F18: 2B           	pld
 14482 04:3F19: 3B           	tsc
 14483 04:3F1A: 18           	clc
 14484 04:3F1B: 69 0C 00     	adc	#L541+4
 14485 04:3F1E: 1B           	tcs
 14486 04:3F1F: 6B           	rtl
 14487                        	.endblock	2512
 14488             00000008   L541	equ	8
 14489             00000005   L542	equ	5
 14490 04:3F20:              	ends
 14491                        	efunc
 14492                        	.endfunc	2512,5,8
 14493                        	.line	2512
 14494                        ;
 14495                        ;int k_attach_mouse_detection_local(PFXNODELIST li
                    st,PWINDOW pWin,OBJECTCLICKED objclickCallback)
 14496                        ;{
 14497                        	.line	2514
 14498                        	.line	2515
 14499                        	WINMAN
 14500                        	xdef	~~k_attach_mouse_detection_local
 14501                        	func
 14502                        	.function	2515
 14503                        ~~k_attach_mouse_detection_local:
 14504                        	longa	on
 14505                        	longi	on
 14506 04:3F20: 3B           	tsc
 14507 04:3F21: 38           	sec
 14508 04:3F22: E9 06 00     	sbc	#L545
 14509 04:3F25: 1B           	tcs
 14510 04:3F26: 0B           	phd
 14511 04:3F27: 5B           	tcd
 14512             00000004   list_0	set	4
 14513             00000008   pWin_0	set	8
 14514             0000000C   objclickCallback_0	set	12
 14515                        	.block	2515
 14516                        ;	PCLICKDETECTED pcd = NULL;
 14517                        ;
 14518                        ;	int retCode = 0;
 14519                        ;
 14520                        ;	//k_debug_pointer("k_attach_mouse_detection_loca
                    l:",pWin);
 14521                        ;
 14522                        ;	if(pWin)
 14523             00000000   pcd_1	set	0
 14524             00000004   retCode_1	set	4
 14525                        	.sym	pcd,0,138,1,32,61
  Mon Dec  7 2020 11:19                                                Page 285


 14526                        	.sym	retCode,4,5,1,16
 14527                        	.sym	list,4,138,6,32,3
 14528                        	.sym	pWin,8,138,6,32,27
 14529                        	.sym	objclickCallback,12,641,6,32
 14530 04:3F28: 64 01        	stz	<L546+pcd_1
 14531 04:3F2A: 64 03        	stz	<L546+pcd_1+2
 14532 04:3F2C: 64 05        	stz	<L546+retCode_1
 14533                        	.line	2522
 14534                        ;	{
 14535 04:3F2E: A5 0E        	lda	<L545+pWin_0
 14536 04:3F30: 05 10        	ora	<L545+pWin_0+2
 14537 04:3F32: D0 03        	bne	L548
 14538 04:3F34: 82 39 00     	brl	L10182
 14539                        L548:
 14540                        	.line	2523
 14541                        ;		pcd = k_mem_allocate_heap(sizeof(CLICKDE
                    TECTED));
 14542                        	.line	2524
 14543 04:3F37: F4 08 00     	pea	#<$8
 14544 04:3F3A: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 14545 04:3F3E: 85 01        	sta	<L546+pcd_1
 14546 04:3F40: 86 03        	stx	<L546+pcd_1+2
 14547                        ;		if(pcd)
 14548                        	.line	2525
 14549                        ;		{
 14550 04:3F42: A5 01        	lda	<L546+pcd_1
 14551 04:3F44: 05 03        	ora	<L546+pcd_1+2
 14552 04:3F46: D0 03        	bne	L549
 14553 04:3F48: 82 25 00     	brl	L10183
 14554                        L549:
 14555                        	.line	2526
 14556                        ;			pcd->window  = pWin;
 14557                        	.line	2527
 14558 04:3F4B: A5 0E        	lda	<L545+pWin_0
 14559 04:3F4D: 87 01        	sta	[<L546+pcd_1]
 14560 04:3F4F: A5 10        	lda	<L545+pWin_0+2
 14561 04:3F51: A0 02 00     	ldy	#$2
 14562 04:3F54: 97 01        	sta	[<L546+pcd_1],Y
 14563                        ;			pcd->handler = objclickCallback;
 14564                        	.line	2528
 14565 04:3F56: A5 12        	lda	<L545+objclickCallback_0
 14566 04:3F58: A0 04 00     	ldy	#$4
 14567 04:3F5B: 97 01        	sta	[<L546+pcd_1],Y
 14568 04:3F5D: A5 14        	lda	<L545+objclickCallback_0+2
 14569 04:3F5F: A0 06 00     	ldy	#$6
 14570 04:3F62: 97 01        	sta	[<L546+pcd_1],Y
 14571                        ;			k_add_object_hit_node_local(list
                    ,pcd);
 14572                        	.line	2529
 14573 04:3F64: D4 03        	pei	<L546+pcd_1+2
 14574 04:3F66: D4 01        	pei	<L546+pcd_1
 14575 04:3F68: D4 0C        	pei	<L545+list_0+2
 14576 04:3F6A: D4 0A        	pei	<L545+list_0
 14577 04:3F6C: 22 84 3F 04  	jsl	~~k_add_object_hit_node_local
 14578                        ;		}
 14579                        	.line	2530
 14580                        ;	}
 14581                        L10183:
  Mon Dec  7 2020 11:19                                                Page 286


 14582                        	.line	2531
 14583                        ;
 14584                        ;	return retCode;
 14585                        L10182:
 14586                        	.line	2533
 14587 04:3F70: A5 05        	lda	<L546+retCode_1
 14588                        L550:
 14589 04:3F72: A8           	tay
 14590 04:3F73: A5 08        	lda	<L545+2
 14591 04:3F75: 85 14        	sta	<L545+2+12
 14592 04:3F77: A5 07        	lda	<L545+1
 14593 04:3F79: 85 13        	sta	<L545+1+12
 14594 04:3F7B: 2B           	pld
 14595 04:3F7C: 3B           	tsc
 14596 04:3F7D: 18           	clc
 14597 04:3F7E: 69 12 00     	adc	#L545+12
 14598 04:3F81: 1B           	tcs
 14599 04:3F82: 98           	tya
 14600 04:3F83: 6B           	rtl
 14601                        ;}
 14602                        	.line	2534
 14603                        	.endblock	2534
 14604             00000006   L545	equ	6
 14605             00000001   L546	equ	1
 14606 04:3F84:              	ends
 14607                        	efunc
 14608                        	.endfunc	2534,1,6
 14609                        	.line	2534
 14610                        ;
 14611                        ;
 14612                        ;void k_add_object_hit_node_local(PFXNODELIST list
                    ,PCLICKDETECTED pcd)
 14613                        ;{
 14614                        	.line	2537
 14615                        	.line	2538
 14616                        	WINMAN
 14617                        	xdef	~~k_add_object_hit_node_local
 14618                        	func
 14619                        	.function	2538
 14620                        ~~k_add_object_hit_node_local:
 14621                        	longa	on
 14622                        	longi	on
 14623 04:3F84: 3B           	tsc
 14624 04:3F85: 38           	sec
 14625 04:3F86: E9 04 00     	sbc	#L551
 14626 04:3F89: 1B           	tcs
 14627 04:3F8A: 0B           	phd
 14628 04:3F8B: 5B           	tcd
 14629             00000004   list_0	set	4
 14630             00000008   pcd_0	set	8
 14631                        	.block	2538
 14632                        ;	//k_debug_pointer("k_add_object_hit_node_local:"
                    ,pcd);
 14633                        ;	//k_nodelist_naddtolist(list,1,pcd->window->win_
                    title,pcd);
 14634                        ;
 14635                        ;	//if(pcd->window->pParentWindow == k_user_getDes
                    ktopWindow())
  Mon Dec  7 2020 11:19                                                Page 287


 14636                        ;	//	k_nodelist_naddtolist_tohead(list,1,(ULO
                    NG)k_getHandleFromWindow(pcd->window),pcd);
 14637                        ;	//else
 14638                        ;		k_nodelist_naddtolist(list,1,(ULONG)k_ge
                    tHandleFromWindow(pcd->window),pcd);
 14639                        	.sym	list,4,138,6,32,3
 14640                        	.sym	pcd,8,138,6,32,61
 14641                        	.line	2545
 14642 04:3F8C: D4 0E        	pei	<L551+pcd_0+2
 14643 04:3F8E: D4 0C        	pei	<L551+pcd_0
 14644 04:3F90: A0 02 00     	ldy	#$2
 14645 04:3F93: B7 0C        	lda	[<L551+pcd_0],Y
 14646 04:3F95: 48           	pha
 14647 04:3F96: A7 0C        	lda	[<L551+pcd_0]
 14648 04:3F98: 48           	pha
 14649 04:3F99: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
 14650 04:3F9D: 85 01        	sta	<R0
 14651 04:3F9F: 86 03        	stx	<R0+2
 14652 04:3FA1: D4 03        	pei	<R0+2
 14653 04:3FA3: D4 01        	pei	<R0
 14654 04:3FA5: F4 01 00     	pea	#<$1
 14655 04:3FA8: D4 0A        	pei	<L551+list_0+2
 14656 04:3FAA: D4 08        	pei	<L551+list_0
 14657 04:3FAC: 22 xx xx xx  	jsl	~~k_nodelist_naddtolist
 14658                        ;
 14659                        ;
 14660                        ;}
 14661                        	.line	2548
 14662                        L554:
 14663 04:3FB0: A5 06        	lda	<L551+2
 14664 04:3FB2: 85 0E        	sta	<L551+2+8
 14665 04:3FB4: A5 05        	lda	<L551+1
 14666 04:3FB6: 85 0D        	sta	<L551+1+8
 14667 04:3FB8: 2B           	pld
 14668 04:3FB9: 3B           	tsc
 14669 04:3FBA: 18           	clc
 14670 04:3FBB: 69 0C 00     	adc	#L551+8
 14671 04:3FBE: 1B           	tcs
 14672 04:3FBF: 6B           	rtl
 14673                        	.endblock	2548
 14674             00000004   L551	equ	4
 14675             00000005   L552	equ	5
 14676 04:3FC0:              	ends
 14677                        	efunc
 14678                        	.endfunc	2548,5,4
 14679                        	.line	2548
 14680                        ;
 14681                        ;/*
 14682                        ;PFXNODE k_point_in_nodeslist(int x,int y)
 14683                        ;{
 14684                        ;	PFXNODE found = NULL;
 14685                        ;	LPCHAR ctx = "";
 14686                        ;	PFXNODE ptr = NULL;
 14687                        ;
 14688                        ;	RECT r;
 14689                        ;	int i = 0;
 14690                        ;	int index = -1;
 14691                        ;
  Mon Dec  7 2020 11:19                                                Page 288


 14692                        ;	//k_debug_string("k_point_in_nodes\r\n");
 14693                        ;
 14694                        ;	if(_k_windowManager_ObjectHitList!=NULL)
 14695                        ;	{
 14696                        ;		r = ((PCLICKABLE)((PCLICKDETECTED)((PFXN
                    ODE)_k_windowManager_ObjectHitList->listData)->data)->window
                    ->clickable)->area;
 14697                        ;		if(x >=r.x && x<(r.x+r.width))
 14698                        ;		{
 14699                        ;			if(y >=r.y && y<(r.y+r.height))
 14700                        ;			{
 14701                        ;				//k_debug_pointer("CURRE
                    NT ACTIVE OBJECT:",_k_windowManager_ObjectHitList->listData)
                    ;
 14702                        ;				return (PFXNODE)_k_windo
                    wManager_ObjectHitList->listData;
 14703                        ;			}
 14704                        ;		}
 14705                        ;
 14706                        ;
 14707                        ;		ptr = k_nodelist_getfirstnode(_k_windowM
                    anager_ObjectHitList);
 14708                        ;		while(ptr!=NULL)
 14709                        ;		{
 14710                        ;			//k_debug_pointer("FOUND HIT ITE
                    M:",ptr);
 14711                        ;			r = ((PCLICKABLE)((PCLICKDETECTE
                    D)ptr->data)->window->clickable)->area;
 14712                        ;			if(x >=r.x && x<(r.x+r.width))
 14713                        ;			{
 14714                        ;				if(y >=r.y && y<(r.y+r.h
                    eight))
 14715                        ;				{
 14716                        ;					found = ptr;
 14717                        ;					_k_windowManager
                    _ObjectHitList->listData = found;
 14718                        ;					break;
 14719                        ;				}
 14720                        ;			}
 14721                        ;			ptr = ptr->next;
 14722                        ;		}
 14723                        ;	}
 14724                        ;
 14725                        ;	return found;
 14726                        ;}
 14727                        ;*/
 14728                        ;PFXNODE k_point_in_nodeslist(int x,int y)
 14729                        ;{
 14730                        	.line	2597
 14731                        	.line	2598
 14732                        	WINMAN
 14733                        	xdef	~~k_point_in_nodeslist
 14734                        	func
 14735                        	.function	2598
 14736                        ~~k_point_in_nodeslist:
 14737                        	longa	on
 14738                        	longi	on
 14739 04:3FC0: 3B           	tsc
  Mon Dec  7 2020 11:19                                                Page 289


 14740 04:3FC1: 38           	sec
 14741 04:3FC2: E9 04 00     	sbc	#L555
 14742 04:3FC5: 1B           	tcs
 14743 04:3FC6: 0B           	phd
 14744 04:3FC7: 5B           	tcd
 14745             00000004   x_0	set	4
 14746             00000006   y_0	set	6
 14747                        	.block	2598
 14748                        ;	return k_point_in_any_nodeslist(_k_windowManager
                    _ObjectHitList,x,y);
 14749                        	.sym	x,4,5,6,16
 14750                        	.sym	y,6,5,6,16
 14751                        	.line	2599
 14752 04:3FC8: D4 0A        	pei	<L555+y_0
 14753 04:3FCA: D4 08        	pei	<L555+x_0
 14754 04:3FCC: AD xx xx     	lda	|~~_k_windowManager_ObjectHitList+2
 14755 04:3FCF: 48           	pha
 14756 04:3FD0: AD xx xx     	lda	|~~_k_windowManager_ObjectHitList
 14757 04:3FD3: 48           	pha
 14758 04:3FD4: 22 F2 3F 04  	jsl	~~k_point_in_any_nodeslist
 14759 04:3FD8: 85 01        	sta	<R0
 14760 04:3FDA: 86 03        	stx	<R0+2
 14761 04:3FDC: A6 03        	ldx	<R0+2
 14762 04:3FDE: A5 01        	lda	<R0
 14763                        L558:
 14764 04:3FE0: A8           	tay
 14765 04:3FE1: A5 06        	lda	<L555+2
 14766 04:3FE3: 85 0A        	sta	<L555+2+4
 14767 04:3FE5: A5 05        	lda	<L555+1
 14768 04:3FE7: 85 09        	sta	<L555+1+4
 14769 04:3FE9: 2B           	pld
 14770 04:3FEA: 3B           	tsc
 14771 04:3FEB: 18           	clc
 14772 04:3FEC: 69 08 00     	adc	#L555+4
 14773 04:3FEF: 1B           	tcs
 14774 04:3FF0: 98           	tya
 14775 04:3FF1: 6B           	rtl
 14776                        ;}
 14777                        	.line	2600
 14778                        	.endblock	2600
 14779             00000004   L555	equ	4
 14780             00000005   L556	equ	5
 14781 04:3FF2:              	ends
 14782                        	efunc
 14783                        	.endfunc	2600,5,4
 14784                        	.line	2600
 14785                        ;
 14786                        ;PFXNODE k_point_in_any_nodeslist(PFXNODELIST hitL
                    ist,int x,int y)
 14787                        ;{
 14788                        	.line	2602
 14789                        	.line	2603
 14790                        	WINMAN
 14791                        	xdef	~~k_point_in_any_nodeslist
 14792                        	func
 14793                        	.function	2603
 14794                        ~~k_point_in_any_nodeslist:
 14795                        	longa	on
  Mon Dec  7 2020 11:19                                                Page 290


 14796                        	longi	on
 14797 04:3FF2: 3B           	tsc
 14798 04:3FF3: 38           	sec
 14799 04:3FF4: E9 20 00     	sbc	#L559
 14800 04:3FF7: 1B           	tcs
 14801 04:3FF8: 0B           	phd
 14802 04:3FF9: 5B           	tcd
 14803             00000004   hitList_0	set	4
 14804             00000008   x_0	set	8
 14805             0000000A   y_0	set	10
 14806                        	.block	2603
 14807                        ;	PFXNODE found = NULL;
 14808                        ;	LPCHAR ctx = "";
 14809                        ;	PFXNODE ptr = NULL;
 14810                        ;
 14811                        ;	RECT r;
 14812                        ;	int i = 0;
 14813                        ;	int index = -1;
 14814                        ;
 14815                        ;	//k_debug_pointer("k_point_in_any_nodeslist:",hi
                    tList);
 14816                        ;
 14817                        ;	if(hitList!=NULL)
 14818             00000000   found_1	set	0
 14819             00000004   ctx_1	set	4
 14820             00000008   ptr_1	set	8
 14821             0000000C   r_1	set	12
 14822             00000014   i_1	set	20
 14823             00000016   index_1	set	22
 14824                        	.sym	found,0,138,1,32,2
 14825                        	.sym	ctx,4,142,1,32
 14826                        	.sym	ptr,8,138,1,32,2
 14827                        	.sym	r,12,10,1,64,22
 14828                        	.sym	i,20,5,1,16
 14829                        	.sym	index,22,5,1,16
 14830                        	.sym	hitList,4,138,6,32,3
 14831                        	.sym	x,8,5,6,16
 14832                        	.sym	y,10,5,6,16
 14833 04:3FFA: 64 09        	stz	<L560+found_1
 14834 04:3FFC: 64 0B        	stz	<L560+found_1+2
 14835 04:3FFE: A9 xx xx     	lda	#<L505
 14836 04:4001: 85 0D        	sta	<L560+ctx_1
 14837 04:4003: A9 xx xx     	lda	#^L505
 14838 04:4006: 85 0F        	sta	<L560+ctx_1+2
 14839 04:4008: 64 11        	stz	<L560+ptr_1
 14840 04:400A: 64 13        	stz	<L560+ptr_1+2
 14841 04:400C: 64 1D        	stz	<L560+i_1
 14842 04:400E: A9 FF FF     	lda	#$ffff
 14843 04:4011: 85 1F        	sta	<L560+index_1
 14844                        	.line	2614
 14845                        ;	{
 14846 04:4013: A5 24        	lda	<L559+hitList_0
 14847 04:4015: 05 26        	ora	<L559+hitList_0+2
 14848 04:4017: D0 03        	bne	L562
 14849 04:4019: 82 07 04     	brl	L10184
 14850                        L562:
 14851                        	.line	2615
 14852                        ;		//k_debug_pointer("k_point_in_any_nodesl
  Mon Dec  7 2020 11:19                                                Page 291


                    ist:data:",((PFXNODE)hitList->listData)->data);
 14853                        ;		//k_debug_pointer("k_point_in_any_nodesl
                    ist:window:",((PCLICKDETECTED)((PFXNODE)hitList->listData)->
                    data)->window);
 14854                        ;		//k_debug_pointer("k_point_in_any_nodesl
                    ist:clickable:",((PCLICKDETECTED)((PFXNODE)hitList->listData
                    )->data)->window->clickable);
 14855                        ;
 14856                        ;		if(hitList->listData && ((PFXNODE)hitLis
                    t->listData)->data && ((PCLICKDETECTED)((PFXNODE)hitList->li
                    stData)->data)->window && ((PCLICKDETECTED)((PFXNODE)hitList
                    ->listData)->data)->window->clickable)
 14857                        	.line	2620
 14858                        ;		{
 14859 04:401C: A0 04 00     	ldy	#$4
 14860 04:401F: B7 24        	lda	[<L559+hitList_0],Y
 14861 04:4021: A0 06 00     	ldy	#$6
 14862 04:4024: 17 24        	ora	[<L559+hitList_0],Y
 14863 04:4026: D0 03        	bne	L563
 14864 04:4028: 82 7B 01     	brl	L10185
 14865                        L563:
 14866 04:402B: A0 04 00     	ldy	#$4
 14867 04:402E: B7 24        	lda	[<L559+hitList_0],Y
 14868 04:4030: 85 01        	sta	<R0
 14869 04:4032: A0 06 00     	ldy	#$6
 14870 04:4035: B7 24        	lda	[<L559+hitList_0],Y
 14871 04:4037: 85 03        	sta	<R0+2
 14872 04:4039: A0 02 00     	ldy	#$2
 14873 04:403C: B7 01        	lda	[<R0],Y
 14874 04:403E: A0 04 00     	ldy	#$4
 14875 04:4041: 17 01        	ora	[<R0],Y
 14876 04:4043: D0 03        	bne	L564
 14877 04:4045: 82 5E 01     	brl	L10185
 14878                        L564:
 14879 04:4048: A0 04 00     	ldy	#$4
 14880 04:404B: B7 24        	lda	[<L559+hitList_0],Y
 14881 04:404D: 85 01        	sta	<R0
 14882 04:404F: A0 06 00     	ldy	#$6
 14883 04:4052: B7 24        	lda	[<L559+hitList_0],Y
 14884 04:4054: 85 03        	sta	<R0+2
 14885 04:4056: A0 02 00     	ldy	#$2
 14886 04:4059: B7 01        	lda	[<R0],Y
 14887 04:405B: 85 05        	sta	<R1
 14888 04:405D: A0 04 00     	ldy	#$4
 14889 04:4060: B7 01        	lda	[<R0],Y
 14890 04:4062: 85 07        	sta	<R1+2
 14891 04:4064: A7 05        	lda	[<R1]
 14892 04:4066: A0 02 00     	ldy	#$2
 14893 04:4069: 17 05        	ora	[<R1],Y
 14894 04:406B: D0 03        	bne	L565
 14895 04:406D: 82 36 01     	brl	L10185
 14896                        L565:
 14897 04:4070: A0 04 00     	ldy	#$4
 14898 04:4073: B7 24        	lda	[<L559+hitList_0],Y
 14899 04:4075: 85 01        	sta	<R0
 14900 04:4077: A0 06 00     	ldy	#$6
 14901 04:407A: B7 24        	lda	[<L559+hitList_0],Y
 14902 04:407C: 85 03        	sta	<R0+2
  Mon Dec  7 2020 11:19                                                Page 292


 14903 04:407E: A0 02 00     	ldy	#$2
 14904 04:4081: B7 01        	lda	[<R0],Y
 14905 04:4083: 85 05        	sta	<R1
 14906 04:4085: A0 04 00     	ldy	#$4
 14907 04:4088: B7 01        	lda	[<R0],Y
 14908 04:408A: 85 07        	sta	<R1+2
 14909 04:408C: A7 05        	lda	[<R1]
 14910 04:408E: 85 01        	sta	<R0
 14911 04:4090: A0 02 00     	ldy	#$2
 14912 04:4093: B7 05        	lda	[<R1],Y
 14913 04:4095: 85 03        	sta	<R0+2
 14914 04:4097: A0 D0 00     	ldy	#$d0
 14915 04:409A: B7 01        	lda	[<R0],Y
 14916 04:409C: A0 D2 00     	ldy	#$d2
 14917 04:409F: 17 01        	ora	[<R0],Y
 14918 04:40A1: D0 03        	bne	L566
 14919 04:40A3: 82 00 01     	brl	L10185
 14920                        L566:
 14921                        	.line	2621
 14922                        ;			r = ((PCLICKABLE)((PCLICKDETECTE
                    D)((PFXNODE)hitList->listData)->data)->window->clickable)->a
                    rea;
 14923                        	.line	2622
 14924 04:40A6: A0 04 00     	ldy	#$4
 14925 04:40A9: B7 24        	lda	[<L559+hitList_0],Y
 14926 04:40AB: 85 01        	sta	<R0
 14927 04:40AD: A0 06 00     	ldy	#$6
 14928 04:40B0: B7 24        	lda	[<L559+hitList_0],Y
 14929 04:40B2: 85 03        	sta	<R0+2
 14930 04:40B4: A0 02 00     	ldy	#$2
 14931 04:40B7: B7 01        	lda	[<R0],Y
 14932 04:40B9: 85 05        	sta	<R1
 14933 04:40BB: A0 04 00     	ldy	#$4
 14934 04:40BE: B7 01        	lda	[<R0],Y
 14935 04:40C0: 85 07        	sta	<R1+2
 14936 04:40C2: A7 05        	lda	[<R1]
 14937 04:40C4: 85 01        	sta	<R0
 14938 04:40C6: A0 02 00     	ldy	#$2
 14939 04:40C9: B7 05        	lda	[<R1],Y
 14940 04:40CB: 85 03        	sta	<R0+2
 14941 04:40CD: A0 D2 00     	ldy	#$d2
 14942 04:40D0: B7 01        	lda	[<R0],Y
 14943 04:40D2: 48           	pha
 14944 04:40D3: A0 D0 00     	ldy	#$d0
 14945 04:40D6: B7 01        	lda	[<R0],Y
 14946 04:40D8: 48           	pha
 14947 04:40D9: 18           	clc
 14948 04:40DA: 7B           	tdc
 14949 04:40DB: 69 15 00     	adc	#<L560+r_1
 14950 04:40DE: 85 01        	sta	<R0
 14951 04:40E0: A9 00 00     	lda	#$0
 14952 04:40E3: 85 03        	sta	<R0+2
 14953 04:40E5: D4 03        	pei	<R0+2
 14954 04:40E7: D4 01        	pei	<R0
 14955 04:40E9: A9 08 00     	lda	#$8
 14956                        	xref	~~~fmov
 14957 04:40EC: 22 xx xx xx  	jsl	~~~fmov
 14958                        ;			if(x >=r.x && x<(r.x+r.width))
  Mon Dec  7 2020 11:19                                                Page 293


 14959                        	.line	2623
 14960                        ;			{
 14961 04:40F0: 38           	sec
 14962 04:40F1: A5 28        	lda	<L559+x_0
 14963 04:40F3: E5 15        	sbc	<L560+r_1
 14964 04:40F5: 70 03        	bvs	L567
 14965 04:40F7: 49 00 80     	eor	#$8000
 14966                        L567:
 14967 04:40FA: 30 03        	bmi	L568
 14968 04:40FC: 82 A7 00     	brl	L10186
 14969                        L568:
 14970 04:40FF: 18           	clc
 14971 04:4100: A5 15        	lda	<L560+r_1
 14972 04:4102: 65 19        	adc	<L560+r_1+4
 14973 04:4104: 85 01        	sta	<R0
 14974 04:4106: 38           	sec
 14975 04:4107: A5 28        	lda	<L559+x_0
 14976 04:4109: E5 01        	sbc	<R0
 14977 04:410B: 70 03        	bvs	L569
 14978 04:410D: 49 00 80     	eor	#$8000
 14979                        L569:
 14980 04:4110: 10 03        	bpl	L570
 14981 04:4112: 82 91 00     	brl	L10186
 14982                        L570:
 14983                        	.line	2624
 14984                        ;				if(y >=r.y && y<(r.y+r.h
                    eight))
 14985                        	.line	2625
 14986                        ;				{
 14987 04:4115: 38           	sec
 14988 04:4116: A5 2A        	lda	<L559+y_0
 14989 04:4118: E5 17        	sbc	<L560+r_1+2
 14990 04:411A: 70 03        	bvs	L571
 14991 04:411C: 49 00 80     	eor	#$8000
 14992                        L571:
 14993 04:411F: 30 03        	bmi	L572
 14994 04:4121: 82 82 00     	brl	L10187
 14995                        L572:
 14996 04:4124: 18           	clc
 14997 04:4125: A5 17        	lda	<L560+r_1+2
 14998 04:4127: 65 1B        	adc	<L560+r_1+6
 14999 04:4129: 85 01        	sta	<R0
 15000 04:412B: 38           	sec
 15001 04:412C: A5 2A        	lda	<L559+y_0
 15002 04:412E: E5 01        	sbc	<R0
 15003 04:4130: 70 03        	bvs	L573
 15004 04:4132: 49 00 80     	eor	#$8000
 15005                        L573:
 15006 04:4135: 10 03        	bpl	L574
 15007 04:4137: 82 6C 00     	brl	L10187
 15008                        L574:
 15009                        	.line	2626
 15010                        ;					//k_debug_pointe
                    r("CURRENT ACTIVE OBJECT:",_k_windowManager_ObjectHitList->l
                    istData);
 15011                        ;					found = k_point_
                    in_any_nodeslist(  ((PCLICKDETECTED)((PFXNODE)hitList->listD
                    ata)->data)->window->pChildHitList,x,y);
  Mon Dec  7 2020 11:19                                                Page 294


 15012                        	.line	2628
 15013 04:413A: D4 2A        	pei	<L559+y_0
 15014 04:413C: D4 28        	pei	<L559+x_0
 15015 04:413E: A0 04 00     	ldy	#$4
 15016 04:4141: B7 24        	lda	[<L559+hitList_0],Y
 15017 04:4143: 85 01        	sta	<R0
 15018 04:4145: A0 06 00     	ldy	#$6
 15019 04:4148: B7 24        	lda	[<L559+hitList_0],Y
 15020 04:414A: 85 03        	sta	<R0+2
 15021 04:414C: A0 02 00     	ldy	#$2
 15022 04:414F: B7 01        	lda	[<R0],Y
 15023 04:4151: 85 05        	sta	<R1
 15024 04:4153: A0 04 00     	ldy	#$4
 15025 04:4156: B7 01        	lda	[<R0],Y
 15026 04:4158: 85 07        	sta	<R1+2
 15027 04:415A: A7 05        	lda	[<R1]
 15028 04:415C: 85 01        	sta	<R0
 15029 04:415E: A0 02 00     	ldy	#$2
 15030 04:4161: B7 05        	lda	[<R1],Y
 15031 04:4163: 85 03        	sta	<R0+2
 15032 04:4165: A0 42 01     	ldy	#$142
 15033 04:4168: B7 01        	lda	[<R0],Y
 15034 04:416A: 48           	pha
 15035 04:416B: A0 40 01     	ldy	#$140
 15036 04:416E: B7 01        	lda	[<R0],Y
 15037 04:4170: 48           	pha
 15038 04:4171: 22 F2 3F 04  	jsl	~~k_point_in_any_nodeslist
 15039 04:4175: 85 09        	sta	<L560+found_1
 15040 04:4177: 86 0B        	stx	<L560+found_1+2
 15041                        ;					if(found)
 15042                        	.line	2629
 15043                        ;						return f
                    ound;
 15044 04:4179: A5 09        	lda	<L560+found_1
 15045 04:417B: 05 0B        	ora	<L560+found_1+2
 15046 04:417D: D0 03        	bne	L575
 15047 04:417F: 82 16 00     	brl	L10188
 15048                        L575:
 15049                        	.line	2630
 15050 04:4182: A6 0B        	ldx	<L560+found_1+2
 15051 04:4184: A5 09        	lda	<L560+found_1
 15052                        L576:
 15053 04:4186: A8           	tay
 15054 04:4187: A5 22        	lda	<L559+2
 15055 04:4189: 85 2A        	sta	<L559+2+8
 15056 04:418B: A5 21        	lda	<L559+1
 15057 04:418D: 85 29        	sta	<L559+1+8
 15058 04:418F: 2B           	pld
 15059 04:4190: 3B           	tsc
 15060 04:4191: 18           	clc
 15061 04:4192: 69 28 00     	adc	#L559+8
 15062 04:4195: 1B           	tcs
 15063 04:4196: 98           	tya
 15064 04:4197: 6B           	rtl
 15065                        ;
 15066                        ;					return (PFXNODE)
                    hitList->listData;
 15067                        L10188:
  Mon Dec  7 2020 11:19                                                Page 295


 15068                        	.line	2632
 15069 04:4198: A0 06 00     	ldy	#$6
 15070 04:419B: B7 24        	lda	[<L559+hitList_0],Y
 15071 04:419D: AA           	tax
 15072 04:419E: A0 04 00     	ldy	#$4
 15073 04:41A1: B7 24        	lda	[<L559+hitList_0],Y
 15074 04:41A3: 82 E0 FF     	brl	L576
 15075                        ;				}
 15076                        	.line	2633
 15077                        ;			}
 15078                        L10187:
 15079                        	.line	2634
 15080                        ;		}
 15081                        L10186:
 15082                        	.line	2635
 15083                        ;
 15084                        ;		ptr = k_nodelist_getfirstnode(hitList);
 15085                        L10185:
 15086                        	.line	2637
 15087 04:41A6: D4 26        	pei	<L559+hitList_0+2
 15088 04:41A8: D4 24        	pei	<L559+hitList_0
 15089 04:41AA: 22 xx xx xx  	jsl	~~k_nodelist_getfirstnode
 15090 04:41AE: 85 11        	sta	<L560+ptr_1
 15091 04:41B0: 86 13        	stx	<L560+ptr_1+2
 15092                        ;		while(ptr!=NULL)
 15093                        	.line	2638
 15094                        L10189:
 15095 04:41B2: A5 11        	lda	<L560+ptr_1
 15096 04:41B4: 05 13        	ora	<L560+ptr_1+2
 15097 04:41B6: D0 03        	bne	L577
 15098 04:41B8: 82 68 02     	brl	L10190
 15099                        L577:
 15100                        ;		{
 15101                        	.line	2639
 15102                        ;			//k_debug_pointer("FOUND HIT CHE
                    CK ITEM:",ptr);
 15103                        ;			found = k_point_in_any_nodeslist
                    (NULL,x,y); //k_point_in_any_nodeslist(((PCLICKDETECTED)ptr-
                    >data)->window->pChildHitList,x,y);
 15104                        	.line	2641
 15105 04:41BB: D4 2A        	pei	<L559+y_0
 15106 04:41BD: D4 28        	pei	<L559+x_0
 15107 04:41BF: F4 00 00     	pea	#^$0
 15108 04:41C2: F4 00 00     	pea	#<$0
 15109 04:41C5: 22 F2 3F 04  	jsl	~~k_point_in_any_nodeslist
 15110 04:41C9: 85 09        	sta	<L560+found_1
 15111 04:41CB: 86 0B        	stx	<L560+found_1+2
 15112                        ;			if(!found)
 15113                        	.line	2642
 15114                        ;			{
 15115 04:41CD: A5 09        	lda	<L560+found_1
 15116 04:41CF: 05 0B        	ora	<L560+found_1+2
 15117 04:41D1: F0 03        	beq	L578
 15118 04:41D3: 82 4A 02     	brl	L10191
 15119                        L578:
 15120                        	.line	2643
 15121                        ;				r = ((PCLICKABLE)((PCLIC
                    KDETECTED)ptr->data)->window->clickable)->area;
  Mon Dec  7 2020 11:19                                                Page 296


 15122                        	.line	2644
 15123 04:41D6: A0 02 00     	ldy	#$2
 15124 04:41D9: B7 11        	lda	[<L560+ptr_1],Y
 15125 04:41DB: 85 01        	sta	<R0
 15126 04:41DD: A0 04 00     	ldy	#$4
 15127 04:41E0: B7 11        	lda	[<L560+ptr_1],Y
 15128 04:41E2: 85 03        	sta	<R0+2
 15129 04:41E4: A7 01        	lda	[<R0]
 15130 04:41E6: 85 05        	sta	<R1
 15131 04:41E8: A0 02 00     	ldy	#$2
 15132 04:41EB: B7 01        	lda	[<R0],Y
 15133 04:41ED: 85 07        	sta	<R1+2
 15134 04:41EF: A0 D2 00     	ldy	#$d2
 15135 04:41F2: B7 05        	lda	[<R1],Y
 15136 04:41F4: 48           	pha
 15137 04:41F5: A0 D0 00     	ldy	#$d0
 15138 04:41F8: B7 05        	lda	[<R1],Y
 15139 04:41FA: 48           	pha
 15140 04:41FB: 18           	clc
 15141 04:41FC: 7B           	tdc
 15142 04:41FD: 69 15 00     	adc	#<L560+r_1
 15143 04:4200: 85 01        	sta	<R0
 15144 04:4202: A9 00 00     	lda	#$0
 15145 04:4205: 85 03        	sta	<R0+2
 15146 04:4207: D4 03        	pei	<R0+2
 15147 04:4209: D4 01        	pei	<R0
 15148 04:420B: A9 08 00     	lda	#$8
 15149                        	xref	~~~fmov
 15150 04:420E: 22 xx xx xx  	jsl	~~~fmov
 15151                        ;				if(x >=r.x && x<(r.x+r.w
                    idth))
 15152                        	.line	2645
 15153                        ;				{
 15154 04:4212: 38           	sec
 15155 04:4213: A5 28        	lda	<L559+x_0
 15156 04:4215: E5 15        	sbc	<L560+r_1
 15157 04:4217: 70 03        	bvs	L579
 15158 04:4219: 49 00 80     	eor	#$8000
 15159                        L579:
 15160 04:421C: 30 03        	bmi	L580
 15161 04:421E: 82 8E 00     	brl	L10192
 15162                        L580:
 15163 04:4221: 18           	clc
 15164 04:4222: A5 15        	lda	<L560+r_1
 15165 04:4224: 65 19        	adc	<L560+r_1+4
 15166 04:4226: 85 01        	sta	<R0
 15167 04:4228: 38           	sec
 15168 04:4229: A5 28        	lda	<L559+x_0
 15169 04:422B: E5 01        	sbc	<R0
 15170 04:422D: 70 03        	bvs	L581
 15171 04:422F: 49 00 80     	eor	#$8000
 15172                        L581:
 15173 04:4232: 10 03        	bpl	L582
 15174 04:4234: 82 78 00     	brl	L10192
 15175                        L582:
 15176                        	.line	2646
 15177                        ;					if(y >=r.y && y<
                    (r.y+r.height))
  Mon Dec  7 2020 11:19                                                Page 297


 15178                        	.line	2647
 15179                        ;					{
 15180 04:4237: 38           	sec
 15181 04:4238: A5 2A        	lda	<L559+y_0
 15182 04:423A: E5 17        	sbc	<L560+r_1+2
 15183 04:423C: 70 03        	bvs	L583
 15184 04:423E: 49 00 80     	eor	#$8000
 15185                        L583:
 15186 04:4241: 30 03        	bmi	L584
 15187 04:4243: 82 69 00     	brl	L10193
 15188                        L584:
 15189 04:4246: 18           	clc
 15190 04:4247: A5 17        	lda	<L560+r_1+2
 15191 04:4249: 65 1B        	adc	<L560+r_1+6
 15192 04:424B: 85 01        	sta	<R0
 15193 04:424D: 38           	sec
 15194 04:424E: A5 2A        	lda	<L559+y_0
 15195 04:4250: E5 01        	sbc	<R0
 15196 04:4252: 70 03        	bvs	L585
 15197 04:4254: 49 00 80     	eor	#$8000
 15198                        L585:
 15199 04:4257: 10 03        	bpl	L586
 15200 04:4259: 82 53 00     	brl	L10193
 15201                        L586:
 15202                        	.line	2648
 15203                        ;						//found 
                    = ptr;
 15204                        ;
 15205                        ;						found = 
                     k_point_in_any_nodeslist( ((PCLICKDETECTED)ptr->data)->wind
                    ow->pChildHitList   ,x,y); // k_point_in_any_nodeslist(((PCL
                    ICKDETECTED)ptr->data)->window->pChildHitList,x,y);
 15206                        	.line	2651
 15207 04:425C: D4 2A        	pei	<L559+y_0
 15208 04:425E: D4 28        	pei	<L559+x_0
 15209 04:4260: A0 02 00     	ldy	#$2
 15210 04:4263: B7 11        	lda	[<L560+ptr_1],Y
 15211 04:4265: 85 01        	sta	<R0
 15212 04:4267: A0 04 00     	ldy	#$4
 15213 04:426A: B7 11        	lda	[<L560+ptr_1],Y
 15214 04:426C: 85 03        	sta	<R0+2
 15215 04:426E: A7 01        	lda	[<R0]
 15216 04:4270: 85 05        	sta	<R1
 15217 04:4272: A0 02 00     	ldy	#$2
 15218 04:4275: B7 01        	lda	[<R0],Y
 15219 04:4277: 85 07        	sta	<R1+2
 15220 04:4279: A0 42 01     	ldy	#$142
 15221 04:427C: B7 05        	lda	[<R1],Y
 15222 04:427E: 48           	pha
 15223 04:427F: A0 40 01     	ldy	#$140
 15224 04:4282: B7 05        	lda	[<R1],Y
 15225 04:4284: 48           	pha
 15226 04:4285: 22 F2 3F 04  	jsl	~~k_point_in_any_nodeslist
 15227 04:4289: 85 09        	sta	<L560+found_1
 15228 04:428B: 86 0B        	stx	<L560+found_1+2
 15229                        ;						if(!foun
                    d)
 15230                        	.line	2652
  Mon Dec  7 2020 11:19                                                Page 298


 15231                        ;						{
 15232 04:428D: A5 09        	lda	<L560+found_1
 15233 04:428F: 05 0B        	ora	<L560+found_1+2
 15234 04:4291: F0 03        	beq	L587
 15235 04:4293: 82 08 00     	brl	L10194
 15236                        L587:
 15237                        	.line	2653
 15238                        ;							
                    found = ptr;
 15239                        	.line	2654
 15240 04:4296: A5 11        	lda	<L560+ptr_1
 15241 04:4298: 85 09        	sta	<L560+found_1
 15242 04:429A: A5 13        	lda	<L560+ptr_1+2
 15243 04:429C: 85 0B        	sta	<L560+found_1+2
 15244                        ;						}
 15245                        	.line	2655
 15246                        ;
 15247                        ;						hitList-
                    >listData = found;
 15248                        L10194:
 15249                        	.line	2657
 15250 04:429E: A5 09        	lda	<L560+found_1
 15251 04:42A0: A0 04 00     	ldy	#$4
 15252 04:42A3: 97 24        	sta	[<L559+hitList_0],Y
 15253 04:42A5: A5 0B        	lda	<L560+found_1+2
 15254 04:42A7: A0 06 00     	ldy	#$6
 15255 04:42AA: 97 24        	sta	[<L559+hitList_0],Y
 15256                        ;						break;
 15257                        	.line	2658
 15258 04:42AC: 82 74 01     	brl	L10190
 15259                        ;					}
 15260                        	.line	2659
 15261                        ;				}
 15262                        L10193:
 15263                        	.line	2660
 15264                        ;				ptr = ptr->next;
 15265                        L10192:
 15266                        	.line	2661
 15267 04:42AF: A0 0A 00     	ldy	#$a
 15268 04:42B2: B7 11        	lda	[<L560+ptr_1],Y
 15269 04:42B4: 85 01        	sta	<R0
 15270 04:42B6: A0 0C 00     	ldy	#$c
 15271 04:42B9: B7 11        	lda	[<L560+ptr_1],Y
 15272 04:42BB: 85 03        	sta	<R0+2
 15273 04:42BD: A5 01        	lda	<R0
 15274 04:42BF: 85 11        	sta	<L560+ptr_1
 15275 04:42C1: A5 03        	lda	<R0+2
 15276 04:42C3: 85 13        	sta	<L560+ptr_1+2
 15277                        ;
 15278                        ;				if(ptr)
 15279                        	.line	2663
 15280                        ;				{
 15281 04:42C5: A5 11        	lda	<L560+ptr_1
 15282 04:42C7: 05 13        	ora	<L560+ptr_1+2
 15283 04:42C9: D0 03        	bne	L588
 15284 04:42CB: 82 52 01     	brl	L10195
 15285                        L588:
 15286                        	.line	2664
  Mon Dec  7 2020 11:19                                                Page 299


 15287                        ;					if(((PCLICKDETEC
                    TED)ptr->data)->window && ((PCLICKDETECTED)ptr->data)->windo
                    w->isClosed)
 15288                        	.line	2665
 15289                        ;					{
 15290 04:42CE: A0 02 00     	ldy	#$2
 15291 04:42D1: B7 11        	lda	[<L560+ptr_1],Y
 15292 04:42D3: 85 01        	sta	<R0
 15293 04:42D5: A0 04 00     	ldy	#$4
 15294 04:42D8: B7 11        	lda	[<L560+ptr_1],Y
 15295 04:42DA: 85 03        	sta	<R0+2
 15296 04:42DC: A7 01        	lda	[<R0]
 15297 04:42DE: A0 02 00     	ldy	#$2
 15298 04:42E1: 17 01        	ora	[<R0],Y
 15299 04:42E3: D0 03        	bne	L589
 15300 04:42E5: 82 38 01     	brl	L10196
 15301                        L589:
 15302 04:42E8: A0 02 00     	ldy	#$2
 15303 04:42EB: B7 11        	lda	[<L560+ptr_1],Y
 15304 04:42ED: 85 01        	sta	<R0
 15305 04:42EF: A0 04 00     	ldy	#$4
 15306 04:42F2: B7 11        	lda	[<L560+ptr_1],Y
 15307 04:42F4: 85 03        	sta	<R0+2
 15308 04:42F6: A7 01        	lda	[<R0]
 15309 04:42F8: 85 05        	sta	<R1
 15310 04:42FA: A0 02 00     	ldy	#$2
 15311 04:42FD: B7 01        	lda	[<R0],Y
 15312 04:42FF: 85 07        	sta	<R1+2
 15313 04:4301: A0 61 01     	ldy	#$161
 15314 04:4304: B7 05        	lda	[<R1],Y
 15315 04:4306: 29 FF 00     	and	#$ff
 15316 04:4309: D0 03        	bne	L590
 15317 04:430B: 82 12 01     	brl	L10196
 15318                        L590:
 15319                        	.line	2666
 15320                        ;						((PCLICK
                    DETECTED)ptr->data)->window->win_title[31] = 0;
 15321                        	.line	2667
 15322 04:430E: A0 02 00     	ldy	#$2
 15323 04:4311: B7 11        	lda	[<L560+ptr_1],Y
 15324 04:4313: 85 01        	sta	<R0
 15325 04:4315: A0 04 00     	ldy	#$4
 15326 04:4318: B7 11        	lda	[<L560+ptr_1],Y
 15327 04:431A: 85 03        	sta	<R0+2
 15328 04:431C: A7 01        	lda	[<R0]
 15329 04:431E: 85 05        	sta	<R1
 15330 04:4320: A0 02 00     	ldy	#$2
 15331 04:4323: B7 01        	lda	[<R0],Y
 15332 04:4325: 85 07        	sta	<R1+2
 15333 04:4327: E2 20        	sep	#$20
 15334                        	longa	off
 15335 04:4329: A9 00        	lda	#$0
 15336 04:432B: A0 F3 00     	ldy	#$f3
 15337 04:432E: 97 05        	sta	[<R1],Y
 15338 04:4330: C2 20        	rep	#$20
 15339                        	longa	on
 15340                        ;
 15341                        ;						if(((PCL
  Mon Dec  7 2020 11:19                                                Page 300


                    ICKDETECTED)ptr->data)->window->win_title)
 15342                        	.line	2669
 15343                        ;							
                    k_debug_strings("k_point_in_any_nodeslist::removing closed w
                    indow:",((PCLICKDETECTED)ptr->data)->window->win_title);
 15344 04:4332: A0 02 00     	ldy	#$2
 15345 04:4335: B7 11        	lda	[<L560+ptr_1],Y
 15346 04:4337: 85 01        	sta	<R0
 15347 04:4339: A0 04 00     	ldy	#$4
 15348 04:433C: B7 11        	lda	[<L560+ptr_1],Y
 15349 04:433E: 85 03        	sta	<R0+2
 15350 04:4340: 18           	clc
 15351 04:4341: A9 D4 00     	lda	#$d4
 15352 04:4344: 67 01        	adc	[<R0]
 15353 04:4346: 85 05        	sta	<R1
 15354 04:4348: A9 00 00     	lda	#$0
 15355 04:434B: A0 02 00     	ldy	#$2
 15356 04:434E: 77 01        	adc	[<R0],Y
 15357 04:4350: 85 07        	sta	<R1+2
 15358 04:4352: A5 05        	lda	<R1
 15359 04:4354: 05 07        	ora	<R1+2
 15360 04:4356: D0 03        	bne	L591
 15361 04:4358: 82 31 00     	brl	L10197
 15362                        L591:
 15363                        	.line	2670
 15364 04:435B: A0 02 00     	ldy	#$2
 15365 04:435E: B7 11        	lda	[<L560+ptr_1],Y
 15366 04:4360: 85 01        	sta	<R0
 15367 04:4362: A0 04 00     	ldy	#$4
 15368 04:4365: B7 11        	lda	[<L560+ptr_1],Y
 15369 04:4367: 85 03        	sta	<R0+2
 15370 04:4369: 18           	clc
 15371 04:436A: A9 D4 00     	lda	#$d4
 15372 04:436D: 67 01        	adc	[<R0]
 15373 04:436F: 85 05        	sta	<R1
 15374 04:4371: A9 00 00     	lda	#$0
 15375 04:4374: A0 02 00     	ldy	#$2
 15376 04:4377: 77 01        	adc	[<R0],Y
 15377 04:4379: 85 07        	sta	<R1+2
 15378 04:437B: D4 07        	pei	<R1+2
 15379 04:437D: D4 05        	pei	<R1
 15380 04:437F: F4 xx xx     	pea	#^L505+1
 15381 04:4382: F4 xx xx     	pea	#<L505+1
 15382 04:4385: 22 xx xx xx  	jsl	~~k_debug_strings
 15383                        ;						else
 15384 04:4389: 82 10 00     	brl	L10198
 15385                        L10197:
 15386                        ;							
                    k_debug_strings("k_point_in_any_nodeslist::removing closed w
                    indow:","NO NAME");
 15387                        	.line	2672
 15388 04:438C: F4 xx xx     	pea	#^L505+101
 15389 04:438F: F4 xx xx     	pea	#<L505+101
 15390 04:4392: F4 xx xx     	pea	#^L505+51
 15391 04:4395: F4 xx xx     	pea	#<L505+51
 15392 04:4398: 22 xx xx xx  	jsl	~~k_debug_strings
 15393                        L10198:
 15394                        ;
  Mon Dec  7 2020 11:19                                                Page 301


 15395                        ;						found = 
                    ptr->next;
 15396                        	.line	2674
 15397 04:439C: A0 0A 00     	ldy	#$a
 15398 04:439F: B7 11        	lda	[<L560+ptr_1],Y
 15399 04:43A1: 85 09        	sta	<L560+found_1
 15400 04:43A3: A0 0C 00     	ldy	#$c
 15401 04:43A6: B7 11        	lda	[<L560+ptr_1],Y
 15402 04:43A8: 85 0B        	sta	<L560+found_1+2
 15403                        ;
 15404                        ;						if(ptr->
                    last)
 15405                        	.line	2676
 15406                        ;							
                    ptr->last->next = ptr->next;
 15407 04:43AA: A0 06 00     	ldy	#$6
 15408 04:43AD: B7 11        	lda	[<L560+ptr_1],Y
 15409 04:43AF: A0 08 00     	ldy	#$8
 15410 04:43B2: 17 11        	ora	[<L560+ptr_1],Y
 15411 04:43B4: D0 03        	bne	L592
 15412 04:43B6: 82 22 00     	brl	L10199
 15413                        L592:
 15414                        	.line	2677
 15415 04:43B9: A0 06 00     	ldy	#$6
 15416 04:43BC: B7 11        	lda	[<L560+ptr_1],Y
 15417 04:43BE: 85 01        	sta	<R0
 15418 04:43C0: A0 08 00     	ldy	#$8
 15419 04:43C3: B7 11        	lda	[<L560+ptr_1],Y
 15420 04:43C5: 85 03        	sta	<R0+2
 15421 04:43C7: A0 0A 00     	ldy	#$a
 15422 04:43CA: B7 11        	lda	[<L560+ptr_1],Y
 15423 04:43CC: A0 0A 00     	ldy	#$a
 15424 04:43CF: 97 01        	sta	[<R0],Y
 15425 04:43D1: A0 0C 00     	ldy	#$c
 15426 04:43D4: B7 11        	lda	[<L560+ptr_1],Y
 15427 04:43D6: A0 0C 00     	ldy	#$c
 15428 04:43D9: 97 01        	sta	[<R0],Y
 15429                        ;						if(ptr->
                    next)
 15430                        L10199:
 15431                        	.line	2678
 15432                        ;							
                    ptr->next->last = ptr->last;
 15433 04:43DB: A0 0A 00     	ldy	#$a
 15434 04:43DE: B7 11        	lda	[<L560+ptr_1],Y
 15435 04:43E0: A0 0C 00     	ldy	#$c
 15436 04:43E3: 17 11        	ora	[<L560+ptr_1],Y
 15437 04:43E5: D0 03        	bne	L593
 15438 04:43E7: 82 22 00     	brl	L10200
 15439                        L593:
 15440                        	.line	2679
 15441 04:43EA: A0 0A 00     	ldy	#$a
 15442 04:43ED: B7 11        	lda	[<L560+ptr_1],Y
 15443 04:43EF: 85 01        	sta	<R0
 15444 04:43F1: A0 0C 00     	ldy	#$c
 15445 04:43F4: B7 11        	lda	[<L560+ptr_1],Y
 15446 04:43F6: 85 03        	sta	<R0+2
 15447 04:43F8: A0 06 00     	ldy	#$6
  Mon Dec  7 2020 11:19                                                Page 302


 15448 04:43FB: B7 11        	lda	[<L560+ptr_1],Y
 15449 04:43FD: A0 06 00     	ldy	#$6
 15450 04:4400: 97 01        	sta	[<R0],Y
 15451 04:4402: A0 08 00     	ldy	#$8
 15452 04:4405: B7 11        	lda	[<L560+ptr_1],Y
 15453 04:4407: A0 08 00     	ldy	#$8
 15454 04:440A: 97 01        	sta	[<R0],Y
 15455                        ;
 15456                        ;						//k_mem_
                    deallocate_heap(ptr->data);
 15457                        ;						k_mem_de
                    allocate_heap(ptr);
 15458                        L10200:
 15459                        	.line	2682
 15460 04:440C: D4 13        	pei	<L560+ptr_1+2
 15461 04:440E: D4 11        	pei	<L560+ptr_1
 15462 04:4410: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 15463                        ;
 15464                        ;						ptr = fo
                    und;
 15465                        	.line	2684
 15466 04:4414: A5 09        	lda	<L560+found_1
 15467 04:4416: 85 11        	sta	<L560+ptr_1
 15468 04:4418: A5 0B        	lda	<L560+found_1+2
 15469 04:441A: 85 13        	sta	<L560+ptr_1+2
 15470                        ;						found = 
                    NULL;
 15471                        	.line	2685
 15472 04:441C: 64 09        	stz	<L560+found_1
 15473 04:441E: 64 0B        	stz	<L560+found_1+2
 15474                        ;					}
 15475                        	.line	2686
 15476                        ;				}
 15477                        L10196:
 15478                        	.line	2687
 15479                        ;			}
 15480                        L10195:
 15481                        	.line	2688
 15482                        ;		}
 15483                        L10191:
 15484                        	.line	2689
 15485 04:4420: 82 8F FD     	brl	L10189
 15486                        L10190:
 15487                        ;	}
 15488                        	.line	2690
 15489                        ;
 15490                        ;	//k_debug_pointer("k_point_in_any_nodeslist:",fo
                    und);
 15491                        ;
 15492                        ;	return found;
 15493                        L10184:
 15494                        	.line	2694
 15495 04:4423: A6 0B        	ldx	<L560+found_1+2
 15496 04:4425: A5 09        	lda	<L560+found_1
 15497 04:4427: 82 5C FD     	brl	L576
 15498                        ;}
 15499                        	.line	2695
 15500                        	.endblock	2695
  Mon Dec  7 2020 11:19                                                Page 303


 15501             00000020   L559	equ	32
 15502             00000009   L560	equ	9
 15503 04:442A:              	ends
 15504                        	efunc
 15505                        	.endfunc	2695,9,32
 15506                        	.line	2695
 15507                        	data
 15508                        L505:
 15509 00:0D59: 00 6B 5F 70  	db	$00,$6B,$5F,$70,$6F,$69,$6E,$74,$5F,$69,
                    $6E,$5F,$61,$6E,$79
       00:0D5D: 6F 69 6E 74 
       00:0D61: 5F 69 6E 5F 
       00:0D65: 61 6E 79 
 15510 00:0D68: 5F 6E 6F 64  	db	$5F,$6E,$6F,$64,$65,$73,$6C,$69,$73,$74,
                    $3A,$3A,$72,$65,$6D
       00:0D6C: 65 73 6C 69 
       00:0D70: 73 74 3A 3A 
       00:0D74: 72 65 6D 
 15511 00:0D77: 6F 76 69 6E  	db	$6F,$76,$69,$6E,$67,$20,$63,$6C,$6F,$73,
                    $65,$64,$20,$77,$69
       00:0D7B: 67 20 63 6C 
       00:0D7F: 6F 73 65 64 
       00:0D83: 20 77 69 
 15512 00:0D86: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$3A,$00,$6B,$5F,$70,$6F,
                    $69,$6E,$74,$5F,$69
       00:0D8A: 3A 00 6B 5F 
       00:0D8E: 70 6F 69 6E 
       00:0D92: 74 5F 69 
 15513 00:0D95: 6E 5F 61 6E  	db	$6E,$5F,$61,$6E,$79,$5F,$6E,$6F,$64,$65,
                    $73,$6C,$69,$73,$74
       00:0D99: 79 5F 6E 6F 
       00:0D9D: 64 65 73 6C 
       00:0DA1: 69 73 74 
 15514 00:0DA4: 3A 3A 72 65  	db	$3A,$3A,$72,$65,$6D,$6F,$76,$69,$6E,$67,
                    $20,$63,$6C,$6F,$73
       00:0DA8: 6D 6F 76 69 
       00:0DAC: 6E 67 20 63 
       00:0DB0: 6C 6F 73 
 15515 00:0DB3: 65 64 20 77  	db	$65,$64,$20,$77,$69,$6E,$64,$6F,$77,$3A,
                    $00,$4E,$4F,$20,$4E
       00:0DB7: 69 6E 64 6F 
       00:0DBB: 77 3A 00 4E 
       00:0DBF: 4F 20 4E 
 15516 00:0DC2: 41 4D 45 00  	db	$41,$4D,$45,$00
 15517 00:0DC6:              	ends
 15518                        ;
 15519                        ;
 15520                        ;PFXNODE k_point_in_depth_nodeslist(PFXNODELIST hi
                    tList,int x,int y)
 15521                        ;{
 15522                        	.line	2698
 15523                        	.line	2699
 15524                        	WINMAN
 15525                        	xdef	~~k_point_in_depth_nodeslist
 15526                        	func
 15527                        	.function	2699
 15528                        ~~k_point_in_depth_nodeslist:
 15529                        	longa	on
  Mon Dec  7 2020 11:19                                                Page 304


 15530                        	longi	on
 15531 04:442A: 3B           	tsc
 15532 04:442B: 38           	sec
 15533 04:442C: E9 20 00     	sbc	#L595
 15534 04:442F: 1B           	tcs
 15535 04:4430: 0B           	phd
 15536 04:4431: 5B           	tcd
 15537             00000004   hitList_0	set	4
 15538             00000008   x_0	set	8
 15539             0000000A   y_0	set	10
 15540                        	.block	2699
 15541                        ;	PFXNODE found = NULL;
 15542                        ;	LPCHAR ctx = "";
 15543                        ;	PFXNODE ptr = NULL;
 15544                        ;
 15545                        ;	RECT r;
 15546                        ;	int i = 0;
 15547                        ;	int index = -1;
 15548                        ;
 15549                        ;	//k_debug_pointer("k_point_in_any_nodeslist:",hi
                    tList);
 15550                        ;
 15551                        ;	if(hitList!=NULL)
 15552             00000000   found_1	set	0
 15553             00000004   ctx_1	set	4
 15554             00000008   ptr_1	set	8
 15555             0000000C   r_1	set	12
 15556             00000014   i_1	set	20
 15557             00000016   index_1	set	22
 15558                        	.sym	found,0,138,1,32,2
 15559                        	.sym	ctx,4,142,1,32
 15560                        	.sym	ptr,8,138,1,32,2
 15561                        	.sym	r,12,10,1,64,22
 15562                        	.sym	i,20,5,1,16
 15563                        	.sym	index,22,5,1,16
 15564                        	.sym	hitList,4,138,6,32,3
 15565                        	.sym	x,8,5,6,16
 15566                        	.sym	y,10,5,6,16
 15567 04:4432: 64 09        	stz	<L596+found_1
 15568 04:4434: 64 0B        	stz	<L596+found_1+2
 15569 04:4436: A9 xx xx     	lda	#<L594
 15570 04:4439: 85 0D        	sta	<L596+ctx_1
 15571 04:443B: A9 xx xx     	lda	#^L594
 15572 04:443E: 85 0F        	sta	<L596+ctx_1+2
 15573 04:4440: 64 11        	stz	<L596+ptr_1
 15574 04:4442: 64 13        	stz	<L596+ptr_1+2
 15575 04:4444: 64 1D        	stz	<L596+i_1
 15576 04:4446: A9 FF FF     	lda	#$ffff
 15577 04:4449: 85 1F        	sta	<L596+index_1
 15578                        	.line	2710
 15579                        ;	{
 15580 04:444B: A5 24        	lda	<L595+hitList_0
 15581 04:444D: 05 26        	ora	<L595+hitList_0+2
 15582 04:444F: D0 03        	bne	L598
 15583 04:4451: 82 BD 02     	brl	L10201
 15584                        L598:
 15585                        	.line	2711
 15586                        ;		//k_debug_pointer("k_point_in_any_nodesl
  Mon Dec  7 2020 11:19                                                Page 305


                    ist:data:",((PFXNODE)hitList->listData)->data);
 15587                        ;		//k_debug_pointer("k_point_in_any_nodesl
                    ist:window:",((PCLICKDETECTED)((PFXNODE)hitList->listData)->
                    data)->window);
 15588                        ;		//k_debug_pointer("k_point_in_any_nodesl
                    ist:clickable:",((PCLICKDETECTED)((PFXNODE)hitList->listData
                    )->data)->window->clickable);
 15589                        ;
 15590                        ;		if(hitList->listData && ((PFXNODE)hitLis
                    t->listData)->data && ((PCLICKDETECTED)((PFXNODE)hitList->li
                    stData)->data)->window && ((PCLICKDETECTED)((PFXNODE)hitList
                    ->listData)->data)->window->clickable)
 15591                        	.line	2716
 15592                        ;		{
 15593 04:4454: A0 04 00     	ldy	#$4
 15594 04:4457: B7 24        	lda	[<L595+hitList_0],Y
 15595 04:4459: A0 06 00     	ldy	#$6
 15596 04:445C: 17 24        	ora	[<L595+hitList_0],Y
 15597 04:445E: D0 03        	bne	L599
 15598 04:4460: 82 65 01     	brl	L10202
 15599                        L599:
 15600 04:4463: A0 04 00     	ldy	#$4
 15601 04:4466: B7 24        	lda	[<L595+hitList_0],Y
 15602 04:4468: 85 01        	sta	<R0
 15603 04:446A: A0 06 00     	ldy	#$6
 15604 04:446D: B7 24        	lda	[<L595+hitList_0],Y
 15605 04:446F: 85 03        	sta	<R0+2
 15606 04:4471: A0 02 00     	ldy	#$2
 15607 04:4474: B7 01        	lda	[<R0],Y
 15608 04:4476: A0 04 00     	ldy	#$4
 15609 04:4479: 17 01        	ora	[<R0],Y
 15610 04:447B: D0 03        	bne	L600
 15611 04:447D: 82 48 01     	brl	L10202
 15612                        L600:
 15613 04:4480: A0 04 00     	ldy	#$4
 15614 04:4483: B7 24        	lda	[<L595+hitList_0],Y
 15615 04:4485: 85 01        	sta	<R0
 15616 04:4487: A0 06 00     	ldy	#$6
 15617 04:448A: B7 24        	lda	[<L595+hitList_0],Y
 15618 04:448C: 85 03        	sta	<R0+2
 15619 04:448E: A0 02 00     	ldy	#$2
 15620 04:4491: B7 01        	lda	[<R0],Y
 15621 04:4493: 85 05        	sta	<R1
 15622 04:4495: A0 04 00     	ldy	#$4
 15623 04:4498: B7 01        	lda	[<R0],Y
 15624 04:449A: 85 07        	sta	<R1+2
 15625 04:449C: A7 05        	lda	[<R1]
 15626 04:449E: A0 02 00     	ldy	#$2
 15627 04:44A1: 17 05        	ora	[<R1],Y
 15628 04:44A3: D0 03        	bne	L601
 15629 04:44A5: 82 20 01     	brl	L10202
 15630                        L601:
 15631 04:44A8: A0 04 00     	ldy	#$4
 15632 04:44AB: B7 24        	lda	[<L595+hitList_0],Y
 15633 04:44AD: 85 01        	sta	<R0
 15634 04:44AF: A0 06 00     	ldy	#$6
 15635 04:44B2: B7 24        	lda	[<L595+hitList_0],Y
 15636 04:44B4: 85 03        	sta	<R0+2
  Mon Dec  7 2020 11:19                                                Page 306


 15637 04:44B6: A0 02 00     	ldy	#$2
 15638 04:44B9: B7 01        	lda	[<R0],Y
 15639 04:44BB: 85 05        	sta	<R1
 15640 04:44BD: A0 04 00     	ldy	#$4
 15641 04:44C0: B7 01        	lda	[<R0],Y
 15642 04:44C2: 85 07        	sta	<R1+2
 15643 04:44C4: A7 05        	lda	[<R1]
 15644 04:44C6: 85 01        	sta	<R0
 15645 04:44C8: A0 02 00     	ldy	#$2
 15646 04:44CB: B7 05        	lda	[<R1],Y
 15647 04:44CD: 85 03        	sta	<R0+2
 15648 04:44CF: A0 D0 00     	ldy	#$d0
 15649 04:44D2: B7 01        	lda	[<R0],Y
 15650 04:44D4: A0 D2 00     	ldy	#$d2
 15651 04:44D7: 17 01        	ora	[<R0],Y
 15652 04:44D9: D0 03        	bne	L602
 15653 04:44DB: 82 EA 00     	brl	L10202
 15654                        L602:
 15655                        	.line	2717
 15656                        ;			r = ((PCLICKABLE)((PCLICKDETECTE
                    D)((PFXNODE)hitList->listData)->data)->window->clickable)->a
                    rea;
 15657                        	.line	2718
 15658 04:44DE: A0 04 00     	ldy	#$4
 15659 04:44E1: B7 24        	lda	[<L595+hitList_0],Y
 15660 04:44E3: 85 01        	sta	<R0
 15661 04:44E5: A0 06 00     	ldy	#$6
 15662 04:44E8: B7 24        	lda	[<L595+hitList_0],Y
 15663 04:44EA: 85 03        	sta	<R0+2
 15664 04:44EC: A0 02 00     	ldy	#$2
 15665 04:44EF: B7 01        	lda	[<R0],Y
 15666 04:44F1: 85 05        	sta	<R1
 15667 04:44F3: A0 04 00     	ldy	#$4
 15668 04:44F6: B7 01        	lda	[<R0],Y
 15669 04:44F8: 85 07        	sta	<R1+2
 15670 04:44FA: A7 05        	lda	[<R1]
 15671 04:44FC: 85 01        	sta	<R0
 15672 04:44FE: A0 02 00     	ldy	#$2
 15673 04:4501: B7 05        	lda	[<R1],Y
 15674 04:4503: 85 03        	sta	<R0+2
 15675 04:4505: A0 D2 00     	ldy	#$d2
 15676 04:4508: B7 01        	lda	[<R0],Y
 15677 04:450A: 48           	pha
 15678 04:450B: A0 D0 00     	ldy	#$d0
 15679 04:450E: B7 01        	lda	[<R0],Y
 15680 04:4510: 48           	pha
 15681 04:4511: 18           	clc
 15682 04:4512: 7B           	tdc
 15683 04:4513: 69 15 00     	adc	#<L596+r_1
 15684 04:4516: 85 01        	sta	<R0
 15685 04:4518: A9 00 00     	lda	#$0
 15686 04:451B: 85 03        	sta	<R0+2
 15687 04:451D: D4 03        	pei	<R0+2
 15688 04:451F: D4 01        	pei	<R0
 15689 04:4521: A9 08 00     	lda	#$8
 15690                        	xref	~~~fmov
 15691 04:4524: 22 xx xx xx  	jsl	~~~fmov
 15692                        ;			if(x >=r.x && x<(r.x+r.width))
  Mon Dec  7 2020 11:19                                                Page 307


 15693                        	.line	2719
 15694                        ;			{
 15695 04:4528: 38           	sec
 15696 04:4529: A5 28        	lda	<L595+x_0
 15697 04:452B: E5 15        	sbc	<L596+r_1
 15698 04:452D: 70 03        	bvs	L603
 15699 04:452F: 49 00 80     	eor	#$8000
 15700                        L603:
 15701 04:4532: 30 03        	bmi	L604
 15702 04:4534: 82 91 00     	brl	L10203
 15703                        L604:
 15704 04:4537: 18           	clc
 15705 04:4538: A5 15        	lda	<L596+r_1
 15706 04:453A: 65 19        	adc	<L596+r_1+4
 15707 04:453C: 85 01        	sta	<R0
 15708 04:453E: 38           	sec
 15709 04:453F: A5 28        	lda	<L595+x_0
 15710 04:4541: E5 01        	sbc	<R0
 15711 04:4543: 70 03        	bvs	L605
 15712 04:4545: 49 00 80     	eor	#$8000
 15713                        L605:
 15714 04:4548: 10 03        	bpl	L606
 15715 04:454A: 82 7B 00     	brl	L10203
 15716                        L606:
 15717                        	.line	2720
 15718                        ;				if(y >=r.y && y<(r.y+r.h
                    eight))
 15719                        	.line	2721
 15720                        ;				{
 15721 04:454D: 38           	sec
 15722 04:454E: A5 2A        	lda	<L595+y_0
 15723 04:4550: E5 17        	sbc	<L596+r_1+2
 15724 04:4552: 70 03        	bvs	L607
 15725 04:4554: 49 00 80     	eor	#$8000
 15726                        L607:
 15727 04:4557: 30 03        	bmi	L608
 15728 04:4559: 82 6C 00     	brl	L10204
 15729                        L608:
 15730 04:455C: 18           	clc
 15731 04:455D: A5 17        	lda	<L596+r_1+2
 15732 04:455F: 65 1B        	adc	<L596+r_1+6
 15733 04:4561: 85 01        	sta	<R0
 15734 04:4563: 38           	sec
 15735 04:4564: A5 2A        	lda	<L595+y_0
 15736 04:4566: E5 01        	sbc	<R0
 15737 04:4568: 70 03        	bvs	L609
 15738 04:456A: 49 00 80     	eor	#$8000
 15739                        L609:
 15740 04:456D: 10 03        	bpl	L610
 15741 04:456F: 82 56 00     	brl	L10204
 15742                        L610:
 15743                        	.line	2722
 15744                        ;					//k_debug_pointe
                    r("CURRENT ACTIVE OBJECT:",_k_windowManager_ObjectHitList->l
                    istData);
 15745                        ;					found = k_point_
                    in_depth_nodeslist(  ((PCLICKDETECTED)((PFXNODE)hitList->lis
                    tData)->data)->window->pChildHitList,x,y);
  Mon Dec  7 2020 11:19                                                Page 308


 15746                        	.line	2724
 15747 04:4572: D4 2A        	pei	<L595+y_0
 15748 04:4574: D4 28        	pei	<L595+x_0
 15749 04:4576: A0 04 00     	ldy	#$4
 15750 04:4579: B7 24        	lda	[<L595+hitList_0],Y
 15751 04:457B: 85 01        	sta	<R0
 15752 04:457D: A0 06 00     	ldy	#$6
 15753 04:4580: B7 24        	lda	[<L595+hitList_0],Y
 15754 04:4582: 85 03        	sta	<R0+2
 15755 04:4584: A0 02 00     	ldy	#$2
 15756 04:4587: B7 01        	lda	[<R0],Y
 15757 04:4589: 85 05        	sta	<R1
 15758 04:458B: A0 04 00     	ldy	#$4
 15759 04:458E: B7 01        	lda	[<R0],Y
 15760 04:4590: 85 07        	sta	<R1+2
 15761 04:4592: A7 05        	lda	[<R1]
 15762 04:4594: 85 01        	sta	<R0
 15763 04:4596: A0 02 00     	ldy	#$2
 15764 04:4599: B7 05        	lda	[<R1],Y
 15765 04:459B: 85 03        	sta	<R0+2
 15766 04:459D: A0 42 01     	ldy	#$142
 15767 04:45A0: B7 01        	lda	[<R0],Y
 15768 04:45A2: 48           	pha
 15769 04:45A3: A0 40 01     	ldy	#$140
 15770 04:45A6: B7 01        	lda	[<R0],Y
 15771 04:45A8: 48           	pha
 15772 04:45A9: 22 2A 44 04  	jsl	~~k_point_in_depth_nodeslist
 15773 04:45AD: 85 09        	sta	<L596+found_1
 15774 04:45AF: 86 0B        	stx	<L596+found_1+2
 15775                        ;					if(!found)
 15776                        	.line	2725
 15777                        ;						found = 
                    (PFXNODE)hitList->listData;
 15778 04:45B1: A5 09        	lda	<L596+found_1
 15779 04:45B3: 05 0B        	ora	<L596+found_1+2
 15780 04:45B5: F0 03        	beq	L611
 15781 04:45B7: 82 0E 00     	brl	L10205
 15782                        L611:
 15783                        	.line	2726
 15784 04:45BA: A0 04 00     	ldy	#$4
 15785 04:45BD: B7 24        	lda	[<L595+hitList_0],Y
 15786 04:45BF: 85 09        	sta	<L596+found_1
 15787 04:45C1: A0 06 00     	ldy	#$6
 15788 04:45C4: B7 24        	lda	[<L595+hitList_0],Y
 15789 04:45C6: 85 0B        	sta	<L596+found_1+2
 15790                        ;				}
 15791                        L10205:
 15792                        	.line	2727
 15793                        ;			}
 15794                        L10204:
 15795                        	.line	2728
 15796                        ;		}
 15797                        L10203:
 15798                        	.line	2729
 15799                        ;
 15800                        ;		if(found)
 15801                        L10202:
 15802                        	.line	2731
  Mon Dec  7 2020 11:19                                                Page 309


 15803                        ;			return found;
 15804 04:45C8: A5 09        	lda	<L596+found_1
 15805 04:45CA: 05 0B        	ora	<L596+found_1+2
 15806 04:45CC: D0 03        	bne	L612
 15807 04:45CE: 82 16 00     	brl	L10206
 15808                        L612:
 15809                        	.line	2732
 15810 04:45D1: A6 0B        	ldx	<L596+found_1+2
 15811 04:45D3: A5 09        	lda	<L596+found_1
 15812                        L613:
 15813 04:45D5: A8           	tay
 15814 04:45D6: A5 22        	lda	<L595+2
 15815 04:45D8: 85 2A        	sta	<L595+2+8
 15816 04:45DA: A5 21        	lda	<L595+1
 15817 04:45DC: 85 29        	sta	<L595+1+8
 15818 04:45DE: 2B           	pld
 15819 04:45DF: 3B           	tsc
 15820 04:45E0: 18           	clc
 15821 04:45E1: 69 28 00     	adc	#L595+8
 15822 04:45E4: 1B           	tcs
 15823 04:45E5: 98           	tya
 15824 04:45E6: 6B           	rtl
 15825                        ;
 15826                        ;		ptr = k_nodelist_getfirstnode(hitList);
 15827                        L10206:
 15828                        	.line	2734
 15829 04:45E7: D4 26        	pei	<L595+hitList_0+2
 15830 04:45E9: D4 24        	pei	<L595+hitList_0
 15831 04:45EB: 22 xx xx xx  	jsl	~~k_nodelist_getfirstnode
 15832 04:45EF: 85 11        	sta	<L596+ptr_1
 15833 04:45F1: 86 13        	stx	<L596+ptr_1+2
 15834                        ;		while(ptr!=NULL)
 15835                        	.line	2735
 15836                        L10207:
 15837 04:45F3: A5 11        	lda	<L596+ptr_1
 15838 04:45F5: 05 13        	ora	<L596+ptr_1+2
 15839 04:45F7: D0 03        	bne	L614
 15840 04:45F9: 82 15 01     	brl	L10208
 15841                        L614:
 15842                        ;		{
 15843                        	.line	2736
 15844                        ;			//k_debug_pointer("FOUND HIT CHE
                    CK ITEM:",ptr);
 15845                        ;			found = k_point_in_any_nodeslist
                    (NULL,x,y); //k_point_in_any_nodeslist(((PCLICKDETECTED)ptr-
                    >data)->window->pChildHitList,x,y);
 15846                        	.line	2738
 15847 04:45FC: D4 2A        	pei	<L595+y_0
 15848 04:45FE: D4 28        	pei	<L595+x_0
 15849 04:4600: F4 00 00     	pea	#^$0
 15850 04:4603: F4 00 00     	pea	#<$0
 15851 04:4606: 22 F2 3F 04  	jsl	~~k_point_in_any_nodeslist
 15852 04:460A: 85 09        	sta	<L596+found_1
 15853 04:460C: 86 0B        	stx	<L596+found_1+2
 15854                        ;			if(!found)
 15855                        	.line	2739
 15856                        ;			{
 15857 04:460E: A5 09        	lda	<L596+found_1
  Mon Dec  7 2020 11:19                                                Page 310


 15858 04:4610: 05 0B        	ora	<L596+found_1+2
 15859 04:4612: F0 03        	beq	L615
 15860 04:4614: 82 F7 00     	brl	L10209
 15861                        L615:
 15862                        	.line	2740
 15863                        ;				r = ((PCLICKABLE)((PCLIC
                    KDETECTED)ptr->data)->window->clickable)->area;
 15864                        	.line	2741
 15865 04:4617: A0 02 00     	ldy	#$2
 15866 04:461A: B7 11        	lda	[<L596+ptr_1],Y
 15867 04:461C: 85 01        	sta	<R0
 15868 04:461E: A0 04 00     	ldy	#$4
 15869 04:4621: B7 11        	lda	[<L596+ptr_1],Y
 15870 04:4623: 85 03        	sta	<R0+2
 15871 04:4625: A7 01        	lda	[<R0]
 15872 04:4627: 85 05        	sta	<R1
 15873 04:4629: A0 02 00     	ldy	#$2
 15874 04:462C: B7 01        	lda	[<R0],Y
 15875 04:462E: 85 07        	sta	<R1+2
 15876 04:4630: A0 D2 00     	ldy	#$d2
 15877 04:4633: B7 05        	lda	[<R1],Y
 15878 04:4635: 48           	pha
 15879 04:4636: A0 D0 00     	ldy	#$d0
 15880 04:4639: B7 05        	lda	[<R1],Y
 15881 04:463B: 48           	pha
 15882 04:463C: 18           	clc
 15883 04:463D: 7B           	tdc
 15884 04:463E: 69 15 00     	adc	#<L596+r_1
 15885 04:4641: 85 01        	sta	<R0
 15886 04:4643: A9 00 00     	lda	#$0
 15887 04:4646: 85 03        	sta	<R0+2
 15888 04:4648: D4 03        	pei	<R0+2
 15889 04:464A: D4 01        	pei	<R0
 15890 04:464C: A9 08 00     	lda	#$8
 15891                        	xref	~~~fmov
 15892 04:464F: 22 xx xx xx  	jsl	~~~fmov
 15893                        ;				if(x >=r.x && x<(r.x+r.w
                    idth))
 15894                        	.line	2742
 15895                        ;				{
 15896 04:4653: 38           	sec
 15897 04:4654: A5 28        	lda	<L595+x_0
 15898 04:4656: E5 15        	sbc	<L596+r_1
 15899 04:4658: 70 03        	bvs	L616
 15900 04:465A: 49 00 80     	eor	#$8000
 15901                        L616:
 15902 04:465D: 30 03        	bmi	L617
 15903 04:465F: 82 8E 00     	brl	L10210
 15904                        L617:
 15905 04:4662: 18           	clc
 15906 04:4663: A5 15        	lda	<L596+r_1
 15907 04:4665: 65 19        	adc	<L596+r_1+4
 15908 04:4667: 85 01        	sta	<R0
 15909 04:4669: 38           	sec
 15910 04:466A: A5 28        	lda	<L595+x_0
 15911 04:466C: E5 01        	sbc	<R0
 15912 04:466E: 70 03        	bvs	L618
 15913 04:4670: 49 00 80     	eor	#$8000
  Mon Dec  7 2020 11:19                                                Page 311


 15914                        L618:
 15915 04:4673: 10 03        	bpl	L619
 15916 04:4675: 82 78 00     	brl	L10210
 15917                        L619:
 15918                        	.line	2743
 15919                        ;					if(y >=r.y && y<
                    (r.y+r.height))
 15920                        	.line	2744
 15921                        ;					{
 15922 04:4678: 38           	sec
 15923 04:4679: A5 2A        	lda	<L595+y_0
 15924 04:467B: E5 17        	sbc	<L596+r_1+2
 15925 04:467D: 70 03        	bvs	L620
 15926 04:467F: 49 00 80     	eor	#$8000
 15927                        L620:
 15928 04:4682: 30 03        	bmi	L621
 15929 04:4684: 82 69 00     	brl	L10211
 15930                        L621:
 15931 04:4687: 18           	clc
 15932 04:4688: A5 17        	lda	<L596+r_1+2
 15933 04:468A: 65 1B        	adc	<L596+r_1+6
 15934 04:468C: 85 01        	sta	<R0
 15935 04:468E: 38           	sec
 15936 04:468F: A5 2A        	lda	<L595+y_0
 15937 04:4691: E5 01        	sbc	<R0
 15938 04:4693: 70 03        	bvs	L622
 15939 04:4695: 49 00 80     	eor	#$8000
 15940                        L622:
 15941 04:4698: 10 03        	bpl	L623
 15942 04:469A: 82 53 00     	brl	L10211
 15943                        L623:
 15944                        	.line	2745
 15945                        ;						//found 
                    = ptr;
 15946                        ;
 15947                        ;						found = 
                     k_point_in_depth_nodeslist( ((PCLICKDETECTED)ptr->data)->wi
                    ndow->pChildHitList   ,x,y); // k_point_in_any_nodeslist(((P
                    CLICKDETECTED)ptr->data)->window->pChildHitList,x,y);
 15948                        	.line	2748
 15949 04:469D: D4 2A        	pei	<L595+y_0
 15950 04:469F: D4 28        	pei	<L595+x_0
 15951 04:46A1: A0 02 00     	ldy	#$2
 15952 04:46A4: B7 11        	lda	[<L596+ptr_1],Y
 15953 04:46A6: 85 01        	sta	<R0
 15954 04:46A8: A0 04 00     	ldy	#$4
 15955 04:46AB: B7 11        	lda	[<L596+ptr_1],Y
 15956 04:46AD: 85 03        	sta	<R0+2
 15957 04:46AF: A7 01        	lda	[<R0]
 15958 04:46B1: 85 05        	sta	<R1
 15959 04:46B3: A0 02 00     	ldy	#$2
 15960 04:46B6: B7 01        	lda	[<R0],Y
 15961 04:46B8: 85 07        	sta	<R1+2
 15962 04:46BA: A0 42 01     	ldy	#$142
 15963 04:46BD: B7 05        	lda	[<R1],Y
 15964 04:46BF: 48           	pha
 15965 04:46C0: A0 40 01     	ldy	#$140
 15966 04:46C3: B7 05        	lda	[<R1],Y
  Mon Dec  7 2020 11:19                                                Page 312


 15967 04:46C5: 48           	pha
 15968 04:46C6: 22 2A 44 04  	jsl	~~k_point_in_depth_nodeslist
 15969 04:46CA: 85 09        	sta	<L596+found_1
 15970 04:46CC: 86 0B        	stx	<L596+found_1+2
 15971                        ;						if(!foun
                    d)
 15972                        	.line	2749
 15973                        ;						{
 15974 04:46CE: A5 09        	lda	<L596+found_1
 15975 04:46D0: 05 0B        	ora	<L596+found_1+2
 15976 04:46D2: F0 03        	beq	L624
 15977 04:46D4: 82 08 00     	brl	L10212
 15978                        L624:
 15979                        	.line	2750
 15980                        ;							
                    found = ptr;
 15981                        	.line	2751
 15982 04:46D7: A5 11        	lda	<L596+ptr_1
 15983 04:46D9: 85 09        	sta	<L596+found_1
 15984 04:46DB: A5 13        	lda	<L596+ptr_1+2
 15985 04:46DD: 85 0B        	sta	<L596+found_1+2
 15986                        ;						}
 15987                        	.line	2752
 15988                        ;
 15989                        ;						hitList-
                    >listData = found;
 15990                        L10212:
 15991                        	.line	2754
 15992 04:46DF: A5 09        	lda	<L596+found_1
 15993 04:46E1: A0 04 00     	ldy	#$4
 15994 04:46E4: 97 24        	sta	[<L595+hitList_0],Y
 15995 04:46E6: A5 0B        	lda	<L596+found_1+2
 15996 04:46E8: A0 06 00     	ldy	#$6
 15997 04:46EB: 97 24        	sta	[<L595+hitList_0],Y
 15998                        ;						break;
 15999                        	.line	2755
 16000 04:46ED: 82 21 00     	brl	L10208
 16001                        ;					}
 16002                        	.line	2756
 16003                        ;				}
 16004                        L10211:
 16005                        	.line	2757
 16006                        ;
 16007                        ;				// CLEANUP CLOSED CLOSED
                     WINDOWS
 16008                        ;				ptr = ptr->next;
 16009                        L10210:
 16010                        	.line	2760
 16011 04:46F0: A0 0A 00     	ldy	#$a
 16012 04:46F3: B7 11        	lda	[<L596+ptr_1],Y
 16013 04:46F5: 85 01        	sta	<R0
 16014 04:46F7: A0 0C 00     	ldy	#$c
 16015 04:46FA: B7 11        	lda	[<L596+ptr_1],Y
 16016 04:46FC: 85 03        	sta	<R0+2
 16017 04:46FE: A5 01        	lda	<R0
 16018 04:4700: 85 11        	sta	<L596+ptr_1
 16019 04:4702: A5 03        	lda	<R0+2
 16020 04:4704: 85 13        	sta	<L596+ptr_1+2
  Mon Dec  7 2020 11:19                                                Page 313


 16021                        ;
 16022                        ;				k_remove_closed_windows_
                    from_list(ptr);
 16023                        	.line	2762
 16024 04:4706: D4 13        	pei	<L596+ptr_1+2
 16025 04:4708: D4 11        	pei	<L596+ptr_1
 16026 04:470A: 22 2A 49 04  	jsl	~~k_remove_closed_windows_from_list
 16027                        ;				/*
 16028                        ;				if(((PCLICKDETECTED)ptr-
                    >data)->window->isClosed)
 16029                        ;				{
 16030                        ;					((PCLICKDETECTED
                    )ptr->data)->window->win_title[31] = 0;
 16031                        ;					k_debug_strings(
                    "k_point_in_any_nodeslist::removing closed window:",((PCLICK
                    DETECTED)ptr->data)->window->win_title);
 16032                        ;
 16033                        ;					found = ptr->nex
                    t;
 16034                        ;
 16035                        ;					if(ptr->last)
 16036                        ;						ptr->las
                    t->next = ptr->next;
 16037                        ;					if(ptr->next)
 16038                        ;						ptr->nex
                    t->last = ptr->last;
 16039                        ;
 16040                        ;					//k_mem_dealloca
                    te_heap(ptr->data);
 16041                        ;					k_mem_deallocate
                    _heap(ptr);
 16042                        ;
 16043                        ;					ptr = found;
 16044                        ;					found = NULL;
 16045                        ;				}
 16046                        ;				*/
 16047                        ;			}
 16048                        	.line	2783
 16049                        ;		}
 16050                        L10209:
 16051                        	.line	2784
 16052 04:470E: 82 E2 FE     	brl	L10207
 16053                        L10208:
 16054                        ;	}
 16055                        	.line	2785
 16056                        ;
 16057                        ;	//k_debug_pointer("k_point_in_any_nodeslist:",fo
                    und);
 16058                        ;
 16059                        ;	return found;
 16060                        L10201:
 16061                        	.line	2789
 16062 04:4711: A6 0B        	ldx	<L596+found_1+2
 16063 04:4713: A5 09        	lda	<L596+found_1
 16064 04:4715: 82 BD FE     	brl	L613
 16065                        ;}
 16066                        	.line	2790
 16067                        	.endblock	2790
  Mon Dec  7 2020 11:19                                                Page 314


 16068             00000020   L595	equ	32
 16069             00000009   L596	equ	9
 16070 04:4718:              	ends
 16071                        	efunc
 16072                        	.endfunc	2790,9,32
 16073                        	.line	2790
 16074                        	data
 16075                        L594:
 16076 00:0DC6: 00           	db	$00
 16077 00:0DC7:              	ends
 16078                        ;
 16079                        ;VOID k_point_hit_resetdepth_nodeslist(PFXNODELIST
                     hitList,int depth)
 16080                        ;{
 16081                        	.line	2792
 16082                        	.line	2793
 16083                        	WINMAN
 16084                        	xdef	~~k_point_hit_resetdepth_nodeslist
 16085                        	func
 16086                        	.function	2793
 16087                        ~~k_point_hit_resetdepth_nodeslist:
 16088                        	longa	on
 16089                        	longi	on
 16090 04:4718: 3B           	tsc
 16091 04:4719: 38           	sec
 16092 04:471A: E9 10 00     	sbc	#L626
 16093 04:471D: 1B           	tcs
 16094 04:471E: 0B           	phd
 16095 04:471F: 5B           	tcd
 16096             00000004   hitList_0	set	4
 16097             00000008   depth_0	set	8
 16098                        	.block	2793
 16099                        ;	PCLICKABLE c 	 = NULL;
 16100                        ;	PFXNODE    ptr   = NULL;
 16101                        ;
 16102                        ;	ptr = k_nodelist_getfirstnode(hitList);
 16103             00000000   c_1	set	0
 16104             00000004   ptr_1	set	4
 16105                        	.sym	c,0,138,1,32,24
 16106                        	.sym	ptr,4,138,1,32,2
 16107                        	.sym	hitList,4,138,6,32,3
 16108                        	.sym	depth,8,5,6,16
 16109 04:4720: 64 09        	stz	<L627+c_1
 16110 04:4722: 64 0B        	stz	<L627+c_1+2
 16111 04:4724: 64 0D        	stz	<L627+ptr_1
 16112 04:4726: 64 0F        	stz	<L627+ptr_1+2
 16113                        	.line	2797
 16114 04:4728: D4 16        	pei	<L626+hitList_0+2
 16115 04:472A: D4 14        	pei	<L626+hitList_0
 16116 04:472C: 22 xx xx xx  	jsl	~~k_nodelist_getfirstnode
 16117 04:4730: 85 0D        	sta	<L627+ptr_1
 16118 04:4732: 86 0F        	stx	<L627+ptr_1+2
 16119                        ;	while(ptr!=NULL)
 16120                        	.line	2798
 16121                        L10213:
 16122 04:4734: A5 0D        	lda	<L627+ptr_1
 16123 04:4736: 05 0F        	ora	<L627+ptr_1+2
 16124 04:4738: D0 03        	bne	L629
  Mon Dec  7 2020 11:19                                                Page 315


 16125 04:473A: 82 47 00     	brl	L10214
 16126                        L629:
 16127                        ;	{
 16128                        	.line	2799
 16129                        ;		((PCLICKABLE)((PCLICKDETECTED)ptr->data)
                    ->window->clickable)->z = depth;
 16130                        	.line	2800
 16131 04:473D: A0 02 00     	ldy	#$2
 16132 04:4740: B7 0D        	lda	[<L627+ptr_1],Y
 16133 04:4742: 85 01        	sta	<R0
 16134 04:4744: A0 04 00     	ldy	#$4
 16135 04:4747: B7 0D        	lda	[<L627+ptr_1],Y
 16136 04:4749: 85 03        	sta	<R0+2
 16137 04:474B: A7 01        	lda	[<R0]
 16138 04:474D: 85 05        	sta	<R1
 16139 04:474F: A0 02 00     	ldy	#$2
 16140 04:4752: B7 01        	lda	[<R0],Y
 16141 04:4754: 85 07        	sta	<R1+2
 16142 04:4756: A0 D0 00     	ldy	#$d0
 16143 04:4759: B7 05        	lda	[<R1],Y
 16144 04:475B: 85 01        	sta	<R0
 16145 04:475D: A0 D2 00     	ldy	#$d2
 16146 04:4760: B7 05        	lda	[<R1],Y
 16147 04:4762: 85 03        	sta	<R0+2
 16148 04:4764: A5 18        	lda	<L626+depth_0
 16149 04:4766: A0 08 00     	ldy	#$8
 16150 04:4769: 97 01        	sta	[<R0],Y
 16151                        ;		ptr = ptr->next;
 16152                        	.line	2801
 16153 04:476B: A0 0A 00     	ldy	#$a
 16154 04:476E: B7 0D        	lda	[<L627+ptr_1],Y
 16155 04:4770: 85 01        	sta	<R0
 16156 04:4772: A0 0C 00     	ldy	#$c
 16157 04:4775: B7 0D        	lda	[<L627+ptr_1],Y
 16158 04:4777: 85 03        	sta	<R0+2
 16159 04:4779: A5 01        	lda	<R0
 16160 04:477B: 85 0D        	sta	<L627+ptr_1
 16161 04:477D: A5 03        	lda	<R0+2
 16162 04:477F: 85 0F        	sta	<L627+ptr_1+2
 16163                        ;	}
 16164                        	.line	2802
 16165 04:4781: 82 B0 FF     	brl	L10213
 16166                        L10214:
 16167                        ;}
 16168                        	.line	2803
 16169                        L630:
 16170 04:4784: A5 12        	lda	<L626+2
 16171 04:4786: 85 18        	sta	<L626+2+6
 16172 04:4788: A5 11        	lda	<L626+1
 16173 04:478A: 85 17        	sta	<L626+1+6
 16174 04:478C: 2B           	pld
 16175 04:478D: 3B           	tsc
 16176 04:478E: 18           	clc
 16177 04:478F: 69 16 00     	adc	#L626+6
 16178 04:4792: 1B           	tcs
 16179 04:4793: 6B           	rtl
 16180                        	.endblock	2803
 16181             00000010   L626	equ	16
  Mon Dec  7 2020 11:19                                                Page 316


 16182             00000009   L627	equ	9
 16183 04:4794:              	ends
 16184                        	efunc
 16185                        	.endfunc	2803,9,16
 16186                        	.line	2803
 16187                        ;
 16188                        ;PFXNODE k_point_hit_scan(int x,int y)
 16189                        ;{
 16190                        	.line	2805
 16191                        	.line	2806
 16192                        	WINMAN
 16193                        	xdef	~~k_point_hit_scan
 16194                        	func
 16195                        	.function	2806
 16196                        ~~k_point_hit_scan:
 16197                        	longa	on
 16198                        	longi	on
 16199 04:4794: 3B           	tsc
 16200 04:4795: 38           	sec
 16201 04:4796: E9 04 00     	sbc	#L631
 16202 04:4799: 1B           	tcs
 16203 04:479A: 0B           	phd
 16204 04:479B: 5B           	tcd
 16205             00000004   x_0	set	4
 16206             00000006   y_0	set	6
 16207                        	.block	2806
 16208                        ;	//return k_point_hit_scan_nodeslist(_k_windowMan
                    ager_ObjectHitList,x,y);
 16209                        ;	return k_point_hit_scan_nodeslist(((PWINDOW)k_us
                    er_getDesktopWindow())->pChildHitList,x,y);
 16210                        	.sym	x,4,5,6,16
 16211                        	.sym	y,6,5,6,16
 16212                        	.line	2808
 16213 04:479C: D4 0A        	pei	<L631+y_0
 16214 04:479E: D4 08        	pei	<L631+x_0
 16215 04:47A0: 22 15 06 04  	jsl	~~k_user_getDesktopWindow
 16216 04:47A4: 85 01        	sta	<R0
 16217 04:47A6: 86 03        	stx	<R0+2
 16218 04:47A8: A0 42 01     	ldy	#$142
 16219 04:47AB: B7 01        	lda	[<R0],Y
 16220 04:47AD: 48           	pha
 16221 04:47AE: A0 40 01     	ldy	#$140
 16222 04:47B1: B7 01        	lda	[<R0],Y
 16223 04:47B3: 48           	pha
 16224 04:47B4: 22 D2 47 04  	jsl	~~k_point_hit_scan_nodeslist
 16225 04:47B8: 85 01        	sta	<R0
 16226 04:47BA: 86 03        	stx	<R0+2
 16227 04:47BC: A6 03        	ldx	<R0+2
 16228 04:47BE: A5 01        	lda	<R0
 16229                        L634:
 16230 04:47C0: A8           	tay
 16231 04:47C1: A5 06        	lda	<L631+2
 16232 04:47C3: 85 0A        	sta	<L631+2+4
 16233 04:47C5: A5 05        	lda	<L631+1
 16234 04:47C7: 85 09        	sta	<L631+1+4
 16235 04:47C9: 2B           	pld
 16236 04:47CA: 3B           	tsc
 16237 04:47CB: 18           	clc
  Mon Dec  7 2020 11:19                                                Page 317


 16238 04:47CC: 69 08 00     	adc	#L631+4
 16239 04:47CF: 1B           	tcs
 16240 04:47D0: 98           	tya
 16241 04:47D1: 6B           	rtl
 16242                        ;
 16243                        ;}
 16244                        	.line	2810
 16245                        	.endblock	2810
 16246             00000004   L631	equ	4
 16247             00000005   L632	equ	5
 16248 04:47D2:              	ends
 16249                        	efunc
 16250                        	.endfunc	2810,5,4
 16251                        	.line	2810
 16252                        ;
 16253                        ;PFXNODE k_point_hit_scan_nodeslist(PFXNODELIST hi
                    tList,int x,int y)
 16254                        ;{
 16255                        	.line	2812
 16256                        	.line	2813
 16257                        	WINMAN
 16258                        	xdef	~~k_point_hit_scan_nodeslist
 16259                        	func
 16260                        	.function	2813
 16261                        ~~k_point_hit_scan_nodeslist:
 16262                        	longa	on
 16263                        	longi	on
 16264 04:47D2: 3B           	tsc
 16265 04:47D3: 38           	sec
 16266 04:47D4: E9 20 00     	sbc	#L635
 16267 04:47D7: 1B           	tcs
 16268 04:47D8: 0B           	phd
 16269 04:47D9: 5B           	tcd
 16270             00000004   hitList_0	set	4
 16271             00000008   x_0	set	8
 16272             0000000A   y_0	set	10
 16273                        	.block	2813
 16274                        ;	RECT r;
 16275                        ;	PCLICKABLE c 	 = NULL;
 16276                        ;	PFXNODE    ptr   = NULL;
 16277                        ;	PCLICKABLE found = NULL;
 16278                        ;	PFXNODE    nodeFound = NULL;
 16279                        ;
 16280                        ;
 16281                        ;	ptr = k_nodelist_getfirstnode(hitList);
 16282             00000000   r_1	set	0
 16283             00000008   c_1	set	8
 16284             0000000C   ptr_1	set	12
 16285             00000010   found_1	set	16
 16286             00000014   nodeFound_1	set	20
 16287                        	.sym	r,0,10,1,64,22
 16288                        	.sym	c,8,138,1,32,24
 16289                        	.sym	ptr,12,138,1,32,2
 16290                        	.sym	found,16,138,1,32,24
 16291                        	.sym	nodeFound,20,138,1,32,2
 16292                        	.sym	hitList,4,138,6,32,3
 16293                        	.sym	x,8,5,6,16
 16294                        	.sym	y,10,5,6,16
  Mon Dec  7 2020 11:19                                                Page 318


 16295 04:47DA: 64 11        	stz	<L636+c_1
 16296 04:47DC: 64 13        	stz	<L636+c_1+2
 16297 04:47DE: 64 15        	stz	<L636+ptr_1
 16298 04:47E0: 64 17        	stz	<L636+ptr_1+2
 16299 04:47E2: 64 19        	stz	<L636+found_1
 16300 04:47E4: 64 1B        	stz	<L636+found_1+2
 16301 04:47E6: 64 1D        	stz	<L636+nodeFound_1
 16302 04:47E8: 64 1F        	stz	<L636+nodeFound_1+2
 16303                        	.line	2821
 16304 04:47EA: D4 26        	pei	<L635+hitList_0+2
 16305 04:47EC: D4 24        	pei	<L635+hitList_0
 16306 04:47EE: 22 xx xx xx  	jsl	~~k_nodelist_getfirstnode
 16307 04:47F2: 85 15        	sta	<L636+ptr_1
 16308 04:47F4: 86 17        	stx	<L636+ptr_1+2
 16309                        ;	while(ptr!=NULL)
 16310                        	.line	2822
 16311                        L10215:
 16312 04:47F6: A5 15        	lda	<L636+ptr_1
 16313 04:47F8: 05 17        	ora	<L636+ptr_1+2
 16314 04:47FA: D0 03        	bne	L638
 16315 04:47FC: 82 0C 01     	brl	L10216
 16316                        L638:
 16317                        ;	{
 16318                        	.line	2823
 16319                        ;		//ptr = k_remove_closed_windows_from_lis
                    t(ptr);
 16320                        ;		if(!HITTOWND(ptr)->isClosed)
 16321                        	.line	2825
 16322                        ;		{
 16323 04:47FF: A0 02 00     	ldy	#$2
 16324 04:4802: B7 15        	lda	[<L636+ptr_1],Y
 16325 04:4804: 85 01        	sta	<R0
 16326 04:4806: A0 04 00     	ldy	#$4
 16327 04:4809: B7 15        	lda	[<L636+ptr_1],Y
 16328 04:480B: 85 03        	sta	<R0+2
 16329 04:480D: A7 01        	lda	[<R0]
 16330 04:480F: 85 05        	sta	<R1
 16331 04:4811: A0 02 00     	ldy	#$2
 16332 04:4814: B7 01        	lda	[<R0],Y
 16333 04:4816: 85 07        	sta	<R1+2
 16334 04:4818: A0 61 01     	ldy	#$161
 16335 04:481B: B7 05        	lda	[<R1],Y
 16336 04:481D: 29 FF 00     	and	#$ff
 16337 04:4820: F0 03        	beq	L639
 16338 04:4822: 82 CD 00     	brl	L10217
 16339                        L639:
 16340                        	.line	2826
 16341                        ;			c = ((PCLICKABLE)((PCLICKDETECTE
                    D)ptr->data)->window->clickable);
 16342                        	.line	2827
 16343 04:4825: A0 02 00     	ldy	#$2
 16344 04:4828: B7 15        	lda	[<L636+ptr_1],Y
 16345 04:482A: 85 01        	sta	<R0
 16346 04:482C: A0 04 00     	ldy	#$4
 16347 04:482F: B7 15        	lda	[<L636+ptr_1],Y
 16348 04:4831: 85 03        	sta	<R0+2
 16349 04:4833: A7 01        	lda	[<R0]
 16350 04:4835: 85 05        	sta	<R1
  Mon Dec  7 2020 11:19                                                Page 319


 16351 04:4837: A0 02 00     	ldy	#$2
 16352 04:483A: B7 01        	lda	[<R0],Y
 16353 04:483C: 85 07        	sta	<R1+2
 16354 04:483E: A0 D0 00     	ldy	#$d0
 16355 04:4841: B7 05        	lda	[<R1],Y
 16356 04:4843: 85 11        	sta	<L636+c_1
 16357 04:4845: A0 D2 00     	ldy	#$d2
 16358 04:4848: B7 05        	lda	[<R1],Y
 16359 04:484A: 85 13        	sta	<L636+c_1+2
 16360                        ;
 16361                        ;			r = c->area;
 16362                        	.line	2829
 16363 04:484C: D4 13        	pei	<L636+c_1+2
 16364 04:484E: D4 11        	pei	<L636+c_1
 16365 04:4850: 18           	clc
 16366 04:4851: 7B           	tdc
 16367 04:4852: 69 09 00     	adc	#<L636+r_1
 16368 04:4855: 85 01        	sta	<R0
 16369 04:4857: A9 00 00     	lda	#$0
 16370 04:485A: 85 03        	sta	<R0+2
 16371 04:485C: D4 03        	pei	<R0+2
 16372 04:485E: D4 01        	pei	<R0
 16373 04:4860: A9 08 00     	lda	#$8
 16374                        	xref	~~~fmov
 16375 04:4863: 22 xx xx xx  	jsl	~~~fmov
 16376                        ;			if(x >=r.x && x<(r.x+r.width))
 16377                        	.line	2830
 16378                        ;			{
 16379 04:4867: 38           	sec
 16380 04:4868: A5 28        	lda	<L635+x_0
 16381 04:486A: E5 09        	sbc	<L636+r_1
 16382 04:486C: 70 03        	bvs	L640
 16383 04:486E: 49 00 80     	eor	#$8000
 16384                        L640:
 16385 04:4871: 30 03        	bmi	L641
 16386 04:4873: 82 7C 00     	brl	L10218
 16387                        L641:
 16388 04:4876: 18           	clc
 16389 04:4877: A5 09        	lda	<L636+r_1
 16390 04:4879: 65 0D        	adc	<L636+r_1+4
 16391 04:487B: 85 01        	sta	<R0
 16392 04:487D: 38           	sec
 16393 04:487E: A5 28        	lda	<L635+x_0
 16394 04:4880: E5 01        	sbc	<R0
 16395 04:4882: 70 03        	bvs	L642
 16396 04:4884: 49 00 80     	eor	#$8000
 16397                        L642:
 16398 04:4887: 10 03        	bpl	L643
 16399 04:4889: 82 66 00     	brl	L10218
 16400                        L643:
 16401                        	.line	2831
 16402                        ;				if(y >=r.y && y<(r.y+r.h
                    eight))
 16403                        	.line	2832
 16404                        ;				{
 16405 04:488C: 38           	sec
 16406 04:488D: A5 2A        	lda	<L635+y_0
 16407 04:488F: E5 0B        	sbc	<L636+r_1+2
  Mon Dec  7 2020 11:19                                                Page 320


 16408 04:4891: 70 03        	bvs	L644
 16409 04:4893: 49 00 80     	eor	#$8000
 16410                        L644:
 16411 04:4896: 30 03        	bmi	L645
 16412 04:4898: 82 57 00     	brl	L10219
 16413                        L645:
 16414 04:489B: 18           	clc
 16415 04:489C: A5 0B        	lda	<L636+r_1+2
 16416 04:489E: 65 0F        	adc	<L636+r_1+6
 16417 04:48A0: 85 01        	sta	<R0
 16418 04:48A2: 38           	sec
 16419 04:48A3: A5 2A        	lda	<L635+y_0
 16420 04:48A5: E5 01        	sbc	<R0
 16421 04:48A7: 70 03        	bvs	L646
 16422 04:48A9: 49 00 80     	eor	#$8000
 16423                        L646:
 16424 04:48AC: 10 03        	bpl	L647
 16425 04:48AE: 82 41 00     	brl	L10219
 16426                        L647:
 16427                        	.line	2833
 16428                        ;					if(!found)
 16429                        	.line	2834
 16430                        ;					{
 16431 04:48B1: A5 19        	lda	<L636+found_1
 16432 04:48B3: 05 1B        	ora	<L636+found_1+2
 16433 04:48B5: F0 03        	beq	L648
 16434 04:48B7: 82 13 00     	brl	L10220
 16435                        L648:
 16436                        	.line	2835
 16437                        ;						found = 
                    c;
 16438                        	.line	2836
 16439 04:48BA: A5 11        	lda	<L636+c_1
 16440 04:48BC: 85 19        	sta	<L636+found_1
 16441 04:48BE: A5 13        	lda	<L636+c_1+2
 16442 04:48C0: 85 1B        	sta	<L636+found_1+2
 16443                        ;						nodeFoun
                    d = ptr;
 16444                        	.line	2837
 16445 04:48C2: A5 15        	lda	<L636+ptr_1
 16446 04:48C4: 85 1D        	sta	<L636+nodeFound_1
 16447 04:48C6: A5 17        	lda	<L636+ptr_1+2
 16448 04:48C8: 85 1F        	sta	<L636+nodeFound_1+2
 16449                        ;					}
 16450                        	.line	2838
 16451                        ;					else
 16452 04:48CA: 82 25 00     	brl	L10221
 16453                        L10220:
 16454                        ;					{
 16455                        	.line	2840
 16456                        ;						if(c->z 
                    > found->z)
 16457                        	.line	2841
 16458                        ;						{
 16459 04:48CD: 38           	sec
 16460 04:48CE: A0 08 00     	ldy	#$8
 16461 04:48D1: B7 19        	lda	[<L636+found_1],Y
 16462 04:48D3: A0 08 00     	ldy	#$8
  Mon Dec  7 2020 11:19                                                Page 321


 16463 04:48D6: F7 11        	sbc	[<L636+c_1],Y
 16464 04:48D8: 70 03        	bvs	L649
 16465 04:48DA: 49 00 80     	eor	#$8000
 16466                        L649:
 16467 04:48DD: 10 03        	bpl	L650
 16468 04:48DF: 82 10 00     	brl	L10222
 16469                        L650:
 16470                        	.line	2842
 16471                        ;							
                    found = c;
 16472                        	.line	2843
 16473 04:48E2: A5 11        	lda	<L636+c_1
 16474 04:48E4: 85 19        	sta	<L636+found_1
 16475 04:48E6: A5 13        	lda	<L636+c_1+2
 16476 04:48E8: 85 1B        	sta	<L636+found_1+2
 16477                        ;							
                    nodeFound = ptr;
 16478                        	.line	2844
 16479 04:48EA: A5 15        	lda	<L636+ptr_1
 16480 04:48EC: 85 1D        	sta	<L636+nodeFound_1
 16481 04:48EE: A5 17        	lda	<L636+ptr_1+2
 16482 04:48F0: 85 1F        	sta	<L636+nodeFound_1+2
 16483                        ;							
                    //k_debug_strings("k_point_hit_scan_nodeslist:","Found Highe
                    r");
 16484                        ;							
                    //debug_window_node(NULL,((PCLICKDETECTED)nodeFound->data)->
                    window);
 16485                        ;						}
 16486                        	.line	2847
 16487                        ;					}
 16488                        L10222:
 16489                        	.line	2848
 16490                        L10221:
 16491                        ;				}
 16492                        	.line	2849
 16493                        ;			}
 16494                        L10219:
 16495                        	.line	2850
 16496                        ;		}
 16497                        L10218:
 16498                        	.line	2851
 16499                        ;		// CLEANUP CLOSED CLOSED WINDOWS
 16500                        ;		ptr = ptr->next;
 16501                        L10217:
 16502                        	.line	2853
 16503 04:48F2: A0 0A 00     	ldy	#$a
 16504 04:48F5: B7 15        	lda	[<L636+ptr_1],Y
 16505 04:48F7: 85 01        	sta	<R0
 16506 04:48F9: A0 0C 00     	ldy	#$c
 16507 04:48FC: B7 15        	lda	[<L636+ptr_1],Y
 16508 04:48FE: 85 03        	sta	<R0+2
 16509 04:4900: A5 01        	lda	<R0
 16510 04:4902: 85 15        	sta	<L636+ptr_1
 16511 04:4904: A5 03        	lda	<R0+2
 16512 04:4906: 85 17        	sta	<L636+ptr_1+2
 16513                        ;	}
 16514                        	.line	2854
  Mon Dec  7 2020 11:19                                                Page 322


 16515 04:4908: 82 EB FE     	brl	L10215
 16516                        L10216:
 16517                        ;
 16518                        ;	//k_debug_pointer("k_point_hit_scan_nodeslist:",
                    nodeFound);
 16519                        ;	if(nodeFound)
 16520                        	.line	2857
 16521                        ;	{
 16522 04:490B: A5 1D        	lda	<L636+nodeFound_1
 16523 04:490D: 05 1F        	ora	<L636+nodeFound_1+2
 16524 04:490F: D0 03        	bne	L651
 16525 04:4911: 82 00 00     	brl	L10223
 16526                        L651:
 16527                        	.line	2858
 16528                        ;		//k_debug_pointer("k_point_hit_scan_node
                    slist:window:",((PCLICKDETECTED)nodeFound->data)->window);
 16529                        ;		//k_debug_pointer("k_point_hit_scan_node
                    slist:inside:",((PCLICKDETECTED)nodeFound->data)->window->wi
                    n_title);
 16530                        ;
 16531                        ;		//debug_window_node(NULL,((PCLICKDETECTE
                    D)nodeFound->data)->window);
 16532                        ;	}
 16533                        	.line	2863
 16534                        ;
 16535                        ;	return nodeFound;
 16536                        L10223:
 16537                        	.line	2865
 16538 04:4914: A6 1F        	ldx	<L636+nodeFound_1+2
 16539 04:4916: A5 1D        	lda	<L636+nodeFound_1
 16540                        L652:
 16541 04:4918: A8           	tay
 16542 04:4919: A5 22        	lda	<L635+2
 16543 04:491B: 85 2A        	sta	<L635+2+8
 16544 04:491D: A5 21        	lda	<L635+1
 16545 04:491F: 85 29        	sta	<L635+1+8
 16546 04:4921: 2B           	pld
 16547 04:4922: 3B           	tsc
 16548 04:4923: 18           	clc
 16549 04:4924: 69 28 00     	adc	#L635+8
 16550 04:4927: 1B           	tcs
 16551 04:4928: 98           	tya
 16552 04:4929: 6B           	rtl
 16553                        ;}
 16554                        	.line	2866
 16555                        	.endblock	2866
 16556             00000020   L635	equ	32
 16557             00000009   L636	equ	9
 16558 04:492A:              	ends
 16559                        	efunc
 16560                        	.endfunc	2866,9,32
 16561                        	.line	2866
 16562                        ;
 16563                        ;
 16564                        ;
 16565                        ;PFXNODE k_remove_closed_windows_from_list(PFXNODE
                     ptr)
 16566                        ;{
  Mon Dec  7 2020 11:19                                                Page 323


 16567                        	.line	2870
 16568                        	.line	2871
 16569                        	WINMAN
 16570                        	xdef	~~k_remove_closed_windows_from_list
 16571                        	func
 16572                        	.function	2871
 16573                        ~~k_remove_closed_windows_from_list:
 16574                        	longa	on
 16575                        	longi	on
 16576 04:492A: 3B           	tsc
 16577 04:492B: 38           	sec
 16578 04:492C: E9 0C 00     	sbc	#L653
 16579 04:492F: 1B           	tcs
 16580 04:4930: 0B           	phd
 16581 04:4931: 5B           	tcd
 16582             00000004   ptr_0	set	4
 16583                        	.block	2871
 16584                        ;	PFXNODE tmp = ptr;
 16585                        ;
 16586                        ;	if(((PCLICKDETECTED)ptr->data)->window && ((PCLI
                    CKDETECTED)ptr->data)->window->isClosed)
 16587             00000000   tmp_1	set	0
 16588                        	.sym	tmp,0,138,1,32,2
 16589                        	.sym	ptr,4,138,6,32,2
 16590 04:4932: A5 10        	lda	<L653+ptr_0
 16591 04:4934: 85 09        	sta	<L654+tmp_1
 16592 04:4936: A5 12        	lda	<L653+ptr_0+2
 16593 04:4938: 85 0B        	sta	<L654+tmp_1+2
 16594                        	.line	2874
 16595                        ;	{
 16596 04:493A: A0 02 00     	ldy	#$2
 16597 04:493D: B7 10        	lda	[<L653+ptr_0],Y
 16598 04:493F: 85 01        	sta	<R0
 16599 04:4941: A0 04 00     	ldy	#$4
 16600 04:4944: B7 10        	lda	[<L653+ptr_0],Y
 16601 04:4946: 85 03        	sta	<R0+2
 16602 04:4948: A7 01        	lda	[<R0]
 16603 04:494A: A0 02 00     	ldy	#$2
 16604 04:494D: 17 01        	ora	[<R0],Y
 16605 04:494F: D0 03        	bne	L656
 16606 04:4951: 82 38 01     	brl	L10224
 16607                        L656:
 16608 04:4954: A0 02 00     	ldy	#$2
 16609 04:4957: B7 10        	lda	[<L653+ptr_0],Y
 16610 04:4959: 85 01        	sta	<R0
 16611 04:495B: A0 04 00     	ldy	#$4
 16612 04:495E: B7 10        	lda	[<L653+ptr_0],Y
 16613 04:4960: 85 03        	sta	<R0+2
 16614 04:4962: A7 01        	lda	[<R0]
 16615 04:4964: 85 05        	sta	<R1
 16616 04:4966: A0 02 00     	ldy	#$2
 16617 04:4969: B7 01        	lda	[<R0],Y
 16618 04:496B: 85 07        	sta	<R1+2
 16619 04:496D: A0 61 01     	ldy	#$161
 16620 04:4970: B7 05        	lda	[<R1],Y
 16621 04:4972: 29 FF 00     	and	#$ff
 16622 04:4975: D0 03        	bne	L657
 16623 04:4977: 82 12 01     	brl	L10224
  Mon Dec  7 2020 11:19                                                Page 324


 16624                        L657:
 16625                        	.line	2875
 16626                        ;		((PCLICKDETECTED)ptr->data)->window->win
                    _title[31] = 0;
 16627                        	.line	2876
 16628 04:497A: A0 02 00     	ldy	#$2
 16629 04:497D: B7 10        	lda	[<L653+ptr_0],Y
 16630 04:497F: 85 01        	sta	<R0
 16631 04:4981: A0 04 00     	ldy	#$4
 16632 04:4984: B7 10        	lda	[<L653+ptr_0],Y
 16633 04:4986: 85 03        	sta	<R0+2
 16634 04:4988: A7 01        	lda	[<R0]
 16635 04:498A: 85 05        	sta	<R1
 16636 04:498C: A0 02 00     	ldy	#$2
 16637 04:498F: B7 01        	lda	[<R0],Y
 16638 04:4991: 85 07        	sta	<R1+2
 16639 04:4993: E2 20        	sep	#$20
 16640                        	longa	off
 16641 04:4995: A9 00        	lda	#$0
 16642 04:4997: A0 F3 00     	ldy	#$f3
 16643 04:499A: 97 05        	sta	[<R1],Y
 16644 04:499C: C2 20        	rep	#$20
 16645                        	longa	on
 16646                        ;
 16647                        ;
 16648                        ;		//k_debug_strings("k_point_in_any_nodesl
                    ist::removing closed window:",((PCLICKDETECTED)ptr->data)->w
                    indow->win_title);
 16649                        ;		if(((PCLICKDETECTED)ptr->data)->window->
                    win_title)
 16650                        	.line	2880
 16651                        ;			k_debug_strings("k_remove_closed
                    _windows_from_list::removing closed window:",((PCLICKDETECTE
                    D)ptr->data)->window->win_title);
 16652 04:499E: A0 02 00     	ldy	#$2
 16653 04:49A1: B7 10        	lda	[<L653+ptr_0],Y
 16654 04:49A3: 85 01        	sta	<R0
 16655 04:49A5: A0 04 00     	ldy	#$4
 16656 04:49A8: B7 10        	lda	[<L653+ptr_0],Y
 16657 04:49AA: 85 03        	sta	<R0+2
 16658 04:49AC: 18           	clc
 16659 04:49AD: A9 D4 00     	lda	#$d4
 16660 04:49B0: 67 01        	adc	[<R0]
 16661 04:49B2: 85 05        	sta	<R1
 16662 04:49B4: A9 00 00     	lda	#$0
 16663 04:49B7: A0 02 00     	ldy	#$2
 16664 04:49BA: 77 01        	adc	[<R0],Y
 16665 04:49BC: 85 07        	sta	<R1+2
 16666 04:49BE: A5 05        	lda	<R1
 16667 04:49C0: 05 07        	ora	<R1+2
 16668 04:49C2: D0 03        	bne	L658
 16669 04:49C4: 82 31 00     	brl	L10225
 16670                        L658:
 16671                        	.line	2881
 16672 04:49C7: A0 02 00     	ldy	#$2
 16673 04:49CA: B7 10        	lda	[<L653+ptr_0],Y
 16674 04:49CC: 85 01        	sta	<R0
 16675 04:49CE: A0 04 00     	ldy	#$4
  Mon Dec  7 2020 11:19                                                Page 325


 16676 04:49D1: B7 10        	lda	[<L653+ptr_0],Y
 16677 04:49D3: 85 03        	sta	<R0+2
 16678 04:49D5: 18           	clc
 16679 04:49D6: A9 D4 00     	lda	#$d4
 16680 04:49D9: 67 01        	adc	[<R0]
 16681 04:49DB: 85 05        	sta	<R1
 16682 04:49DD: A9 00 00     	lda	#$0
 16683 04:49E0: A0 02 00     	ldy	#$2
 16684 04:49E3: 77 01        	adc	[<R0],Y
 16685 04:49E5: 85 07        	sta	<R1+2
 16686 04:49E7: D4 07        	pei	<R1+2
 16687 04:49E9: D4 05        	pei	<R1
 16688 04:49EB: F4 xx xx     	pea	#^L625
 16689 04:49EE: F4 xx xx     	pea	#<L625
 16690 04:49F1: 22 xx xx xx  	jsl	~~k_debug_strings
 16691                        ;		else
 16692 04:49F5: 82 10 00     	brl	L10226
 16693                        L10225:
 16694                        ;			k_debug_strings("k_remove_closed
                    _windows_from_list::removing closed window:","NO NAME");
 16695                        	.line	2883
 16696 04:49F8: F4 xx xx     	pea	#^L625+118
 16697 04:49FB: F4 xx xx     	pea	#<L625+118
 16698 04:49FE: F4 xx xx     	pea	#^L625+59
 16699 04:4A01: F4 xx xx     	pea	#<L625+59
 16700 04:4A04: 22 xx xx xx  	jsl	~~k_debug_strings
 16701                        L10226:
 16702                        ;
 16703                        ;
 16704                        ;
 16705                        ;		tmp = ptr->next;
 16706                        	.line	2887
 16707 04:4A08: A0 0A 00     	ldy	#$a
 16708 04:4A0B: B7 10        	lda	[<L653+ptr_0],Y
 16709 04:4A0D: 85 09        	sta	<L654+tmp_1
 16710 04:4A0F: A0 0C 00     	ldy	#$c
 16711 04:4A12: B7 10        	lda	[<L653+ptr_0],Y
 16712 04:4A14: 85 0B        	sta	<L654+tmp_1+2
 16713                        ;
 16714                        ;		if(ptr->last)
 16715                        	.line	2889
 16716                        ;			ptr->last->next = ptr->next;
 16717 04:4A16: A0 06 00     	ldy	#$6
 16718 04:4A19: B7 10        	lda	[<L653+ptr_0],Y
 16719 04:4A1B: A0 08 00     	ldy	#$8
 16720 04:4A1E: 17 10        	ora	[<L653+ptr_0],Y
 16721 04:4A20: D0 03        	bne	L659
 16722 04:4A22: 82 22 00     	brl	L10227
 16723                        L659:
 16724                        	.line	2890
 16725 04:4A25: A0 06 00     	ldy	#$6
 16726 04:4A28: B7 10        	lda	[<L653+ptr_0],Y
 16727 04:4A2A: 85 01        	sta	<R0
 16728 04:4A2C: A0 08 00     	ldy	#$8
 16729 04:4A2F: B7 10        	lda	[<L653+ptr_0],Y
 16730 04:4A31: 85 03        	sta	<R0+2
 16731 04:4A33: A0 0A 00     	ldy	#$a
 16732 04:4A36: B7 10        	lda	[<L653+ptr_0],Y
  Mon Dec  7 2020 11:19                                                Page 326


 16733 04:4A38: A0 0A 00     	ldy	#$a
 16734 04:4A3B: 97 01        	sta	[<R0],Y
 16735 04:4A3D: A0 0C 00     	ldy	#$c
 16736 04:4A40: B7 10        	lda	[<L653+ptr_0],Y
 16737 04:4A42: A0 0C 00     	ldy	#$c
 16738 04:4A45: 97 01        	sta	[<R0],Y
 16739                        ;		if(ptr->next)
 16740                        L10227:
 16741                        	.line	2891
 16742                        ;			ptr->next->last = ptr->last;
 16743 04:4A47: A0 0A 00     	ldy	#$a
 16744 04:4A4A: B7 10        	lda	[<L653+ptr_0],Y
 16745 04:4A4C: A0 0C 00     	ldy	#$c
 16746 04:4A4F: 17 10        	ora	[<L653+ptr_0],Y
 16747 04:4A51: D0 03        	bne	L660
 16748 04:4A53: 82 22 00     	brl	L10228
 16749                        L660:
 16750                        	.line	2892
 16751 04:4A56: A0 0A 00     	ldy	#$a
 16752 04:4A59: B7 10        	lda	[<L653+ptr_0],Y
 16753 04:4A5B: 85 01        	sta	<R0
 16754 04:4A5D: A0 0C 00     	ldy	#$c
 16755 04:4A60: B7 10        	lda	[<L653+ptr_0],Y
 16756 04:4A62: 85 03        	sta	<R0+2
 16757 04:4A64: A0 06 00     	ldy	#$6
 16758 04:4A67: B7 10        	lda	[<L653+ptr_0],Y
 16759 04:4A69: A0 06 00     	ldy	#$6
 16760 04:4A6C: 97 01        	sta	[<R0],Y
 16761 04:4A6E: A0 08 00     	ldy	#$8
 16762 04:4A71: B7 10        	lda	[<L653+ptr_0],Y
 16763 04:4A73: A0 08 00     	ldy	#$8
 16764 04:4A76: 97 01        	sta	[<R0],Y
 16765                        ;
 16766                        ;		//k_mem_deallocate_heap(ptr->data);
 16767                        ;		k_mem_deallocate_heap(ptr);
 16768                        L10228:
 16769                        	.line	2895
 16770 04:4A78: D4 12        	pei	<L653+ptr_0+2
 16771 04:4A7A: D4 10        	pei	<L653+ptr_0
 16772 04:4A7C: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 16773                        ;
 16774                        ;		ptr = tmp;
 16775                        	.line	2897
 16776 04:4A80: A5 09        	lda	<L654+tmp_1
 16777 04:4A82: 85 10        	sta	<L653+ptr_0
 16778 04:4A84: A5 0B        	lda	<L654+tmp_1+2
 16779 04:4A86: 85 12        	sta	<L653+ptr_0+2
 16780                        ;		tmp = NULL;
 16781                        	.line	2898
 16782 04:4A88: 64 09        	stz	<L654+tmp_1
 16783 04:4A8A: 64 0B        	stz	<L654+tmp_1+2
 16784                        ;	}
 16785                        	.line	2899
 16786                        ;
 16787                        ;	return ptr;
 16788                        L10224:
 16789                        	.line	2901
 16790 04:4A8C: A6 12        	ldx	<L653+ptr_0+2
  Mon Dec  7 2020 11:19                                                Page 327


 16791 04:4A8E: A5 10        	lda	<L653+ptr_0
 16792                        L661:
 16793 04:4A90: A8           	tay
 16794 04:4A91: A5 0E        	lda	<L653+2
 16795 04:4A93: 85 12        	sta	<L653+2+4
 16796 04:4A95: A5 0D        	lda	<L653+1
 16797 04:4A97: 85 11        	sta	<L653+1+4
 16798 04:4A99: 2B           	pld
 16799 04:4A9A: 3B           	tsc
 16800 04:4A9B: 18           	clc
 16801 04:4A9C: 69 10 00     	adc	#L653+4
 16802 04:4A9F: 1B           	tcs
 16803 04:4AA0: 98           	tya
 16804 04:4AA1: 6B           	rtl
 16805                        ;}
 16806                        	.line	2902
 16807                        	.endblock	2902
 16808             0000000C   L653	equ	12
 16809             00000009   L654	equ	9
 16810 04:4AA2:              	ends
 16811                        	efunc
 16812                        	.endfunc	2902,9,12
 16813                        	.line	2902
 16814                        	data
 16815                        L625:
 16816 00:0DC7: 6B 5F 72 65  	db	$6B,$5F,$72,$65,$6D,$6F,$76,$65,$5F,$63,
                    $6C,$6F,$73,$65,$64
       00:0DCB: 6D 6F 76 65 
       00:0DCF: 5F 63 6C 6F 
       00:0DD3: 73 65 64 
 16817 00:0DD6: 5F 77 69 6E  	db	$5F,$77,$69,$6E,$64,$6F,$77,$73,$5F,$66,
                    $72,$6F,$6D,$5F,$6C
       00:0DDA: 64 6F 77 73 
       00:0DDE: 5F 66 72 6F 
       00:0DE2: 6D 5F 6C 
 16818 00:0DE5: 69 73 74 3A  	db	$69,$73,$74,$3A,$3A,$72,$65,$6D,$6F,$76,
                    $69,$6E,$67,$20,$63
       00:0DE9: 3A 72 65 6D 
       00:0DED: 6F 76 69 6E 
       00:0DF1: 67 20 63 
 16819 00:0DF4: 6C 6F 73 65  	db	$6C,$6F,$73,$65,$64,$20,$77,$69,$6E,$64,
                    $6F,$77,$3A,$00,$6B
       00:0DF8: 64 20 77 69 
       00:0DFC: 6E 64 6F 77 
       00:0E00: 3A 00 6B 
 16820 00:0E03: 5F 72 65 6D  	db	$5F,$72,$65,$6D,$6F,$76,$65,$5F,$63,$6C,
                    $6F,$73,$65,$64,$5F
       00:0E07: 6F 76 65 5F 
       00:0E0B: 63 6C 6F 73 
       00:0E0F: 65 64 5F 
 16821 00:0E12: 77 69 6E 64  	db	$77,$69,$6E,$64,$6F,$77,$73,$5F,$66,$72,
                    $6F,$6D,$5F,$6C,$69
       00:0E16: 6F 77 73 5F 
       00:0E1A: 66 72 6F 6D 
       00:0E1E: 5F 6C 69 
 16822 00:0E21: 73 74 3A 3A  	db	$73,$74,$3A,$3A,$72,$65,$6D,$6F,$76,$69,
                    $6E,$67,$20,$63,$6C
       00:0E25: 72 65 6D 6F 
  Mon Dec  7 2020 11:19                                                Page 328


       00:0E29: 76 69 6E 67 
       00:0E2D: 20 63 6C 
 16823 00:0E30: 6F 73 65 64  	db	$6F,$73,$65,$64,$20,$77,$69,$6E,$64,$6F,
                    $77,$3A,$00,$4E,$4F
       00:0E34: 20 77 69 6E 
       00:0E38: 64 6F 77 3A 
       00:0E3C: 00 4E 4F 
 16824 00:0E3F: 20 4E 41 4D  	db	$20,$4E,$41,$4D,$45,$00
       00:0E43: 45 00 
 16825 00:0E45:              	ends
 16826                        ;
 16827                        ;
 16828                        ;BOOL k_user_ShowWindow(HWND hWnd,UINT showFlag)
 16829                        ;{
 16830                        	.line	2905
 16831                        	.line	2906
 16832                        	WINMAN
 16833                        	xdef	~~k_user_ShowWindow
 16834                        	func
 16835                        	.function	2906
 16836                        ~~k_user_ShowWindow:
 16837                        	longa	on
 16838                        	longi	on
 16839 04:4AA2: 3B           	tsc
 16840 04:4AA3: 38           	sec
 16841 04:4AA4: E9 00 00     	sbc	#L663
 16842 04:4AA7: 1B           	tcs
 16843 04:4AA8: 0B           	phd
 16844 04:4AA9: 5B           	tcd
 16845             00000004   hWnd_0	set	4
 16846             00000008   showFlag_0	set	8
 16847                        	.block	2906
 16848                        ;	return FALSE;
 16849                        	.sym	hWnd,4,129,6,32
 16850                        	.sym	showFlag,8,16,6,16
 16851                        	.line	2907
 16852 04:4AAA: A9 00 00     	lda	#$0
 16853                        L666:
 16854 04:4AAD: A8           	tay
 16855 04:4AAE: A5 02        	lda	<L663+2
 16856 04:4AB0: 85 08        	sta	<L663+2+6
 16857 04:4AB2: A5 01        	lda	<L663+1
 16858 04:4AB4: 85 07        	sta	<L663+1+6
 16859 04:4AB6: 2B           	pld
 16860 04:4AB7: 3B           	tsc
 16861 04:4AB8: 18           	clc
 16862 04:4AB9: 69 06 00     	adc	#L663+6
 16863 04:4ABC: 1B           	tcs
 16864 04:4ABD: 98           	tya
 16865 04:4ABE: 6B           	rtl
 16866                        ;}
 16867                        	.line	2908
 16868                        	.endblock	2908
 16869             00000000   L663	equ	0
 16870             00000001   L664	equ	1
 16871 04:4ABF:              	ends
 16872                        	efunc
 16873                        	.endfunc	2908,1,0
  Mon Dec  7 2020 11:19                                                Page 329


 16874                        	.line	2908
 16875                        ;
 16876                        ;
 16877                        ;PPOINT k_user_ClientToGlobalCoordinates(HWND hWnd
                    ,PPOINT point)
 16878                        ;{
 16879                        	.line	2911
 16880                        	.line	2912
 16881                        	WINMAN
 16882                        	xdef	~~k_user_ClientToGlobalCoordinates
 16883                        	func
 16884                        	.function	2912
 16885                        ~~k_user_ClientToGlobalCoordinates:
 16886                        	longa	on
 16887                        	longi	on
 16888 04:4ABF: 3B           	tsc
 16889 04:4AC0: 38           	sec
 16890 04:4AC1: E9 08 00     	sbc	#L667
 16891 04:4AC4: 1B           	tcs
 16892 04:4AC5: 0B           	phd
 16893 04:4AC6: 5B           	tcd
 16894             00000004   hWnd_0	set	4
 16895             00000008   point_0	set	8
 16896                        	.block	2912
 16897                        ;	PWINDOW pWin	 = k_getWindowFromHandle(hWnd);
 16898                        ;	PWINDOW pParent  = NULL;
 16899                        ;
 16900                        ;	if(pWin)
 16901             00000000   pWin_1	set	0
 16902             00000004   pParent_1	set	4
 16903                        	.sym	pWin,0,138,1,32,27
 16904                        	.sym	pParent,4,138,1,32,27
 16905                        	.sym	hWnd,4,129,6,32
 16906                        	.sym	point,8,138,6,32,21
 16907 04:4AC7: D4 0E        	pei	<L667+hWnd_0+2
 16908 04:4AC9: D4 0C        	pei	<L667+hWnd_0
 16909 04:4ACB: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
 16910 04:4ACF: 85 01        	sta	<L668+pWin_1
 16911 04:4AD1: 86 03        	stx	<L668+pWin_1+2
 16912 04:4AD3: 64 05        	stz	<L668+pParent_1
 16913 04:4AD5: 64 07        	stz	<L668+pParent_1+2
 16914                        	.line	2916
 16915                        ;	{
 16916 04:4AD7: A5 01        	lda	<L668+pWin_1
 16917 04:4AD9: 05 03        	ora	<L668+pWin_1+2
 16918 04:4ADB: D0 03        	bne	L670
 16919 04:4ADD: 82 20 00     	brl	L10229
 16920                        L670:
 16921                        	.line	2917
 16922                        ;		pParent = k_getWindowFromHandle(pWin->pP
                    arentWindow);
 16923                        	.line	2918
 16924 04:4AE0: A0 36 01     	ldy	#$136
 16925 04:4AE3: B7 01        	lda	[<L668+pWin_1],Y
 16926 04:4AE5: 48           	pha
 16927 04:4AE6: A0 34 01     	ldy	#$134
 16928 04:4AE9: B7 01        	lda	[<L668+pWin_1],Y
 16929 04:4AEB: 48           	pha
  Mon Dec  7 2020 11:19                                                Page 330


 16930 04:4AEC: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
 16931 04:4AF0: 85 05        	sta	<L668+pParent_1
 16932 04:4AF2: 86 07        	stx	<L668+pParent_1+2
 16933                        ;		if(pParent)
 16934                        	.line	2919
 16935                        ;		{
 16936 04:4AF4: A5 05        	lda	<L668+pParent_1
 16937 04:4AF6: 05 07        	ora	<L668+pParent_1+2
 16938 04:4AF8: D0 03        	bne	L671
 16939 04:4AFA: 82 03 00     	brl	L10230
 16940                        L671:
 16941                        	.line	2920
 16942                        ;		}
 16943                        	.line	2921
 16944                        ;		else
 16945 04:4AFD: 82 00 00     	brl	L10231
 16946                        L10230:
 16947                        ;		{
 16948                        	.line	2923
 16949                        ;
 16950                        ;		}
 16951                        	.line	2925
 16952                        L10231:
 16953                        ;	}
 16954                        	.line	2926
 16955                        ;
 16956                        ;
 16957                        ;	return point;
 16958                        L10229:
 16959                        	.line	2929
 16960 04:4B00: A6 12        	ldx	<L667+point_0+2
 16961 04:4B02: A5 10        	lda	<L667+point_0
 16962                        L672:
 16963 04:4B04: A8           	tay
 16964 04:4B05: A5 0A        	lda	<L667+2
 16965 04:4B07: 85 12        	sta	<L667+2+8
 16966 04:4B09: A5 09        	lda	<L667+1
 16967 04:4B0B: 85 11        	sta	<L667+1+8
 16968 04:4B0D: 2B           	pld
 16969 04:4B0E: 3B           	tsc
 16970 04:4B0F: 18           	clc
 16971 04:4B10: 69 10 00     	adc	#L667+8
 16972 04:4B13: 1B           	tcs
 16973 04:4B14: 98           	tya
 16974 04:4B15: 6B           	rtl
 16975                        ;}
 16976                        	.line	2930
 16977                        	.endblock	2930
 16978             00000008   L667	equ	8
 16979             00000001   L668	equ	1
 16980 04:4B16:              	ends
 16981                        	efunc
 16982                        	.endfunc	2930,1,8
 16983                        	.line	2930
 16984                        ;
 16985                        ;
 16986                        ;PPOINT k_user_GlobalToClientCoordinates(HWND hWnd
                    ,PPOINT point)
  Mon Dec  7 2020 11:19                                                Page 331


 16987                        ;{
 16988                        	.line	2933
 16989                        	.line	2934
 16990                        	WINMAN
 16991                        	xdef	~~k_user_GlobalToClientCoordinates
 16992                        	func
 16993                        	.function	2934
 16994                        ~~k_user_GlobalToClientCoordinates:
 16995                        	longa	on
 16996                        	longi	on
 16997 04:4B16: 3B           	tsc
 16998 04:4B17: 38           	sec
 16999 04:4B18: E9 08 00     	sbc	#L673
 17000 04:4B1B: 1B           	tcs
 17001 04:4B1C: 0B           	phd
 17002 04:4B1D: 5B           	tcd
 17003             00000004   hWnd_0	set	4
 17004             00000008   point_0	set	8
 17005                        	.block	2934
 17006                        ;	PWINDOW pWin	 = k_getWindowFromHandle(hWnd);
 17007                        ;	PWINDOW pParent  = NULL;
 17008                        ;
 17009                        ;	if(pWin)
 17010             00000000   pWin_1	set	0
 17011             00000004   pParent_1	set	4
 17012                        	.sym	pWin,0,138,1,32,27
 17013                        	.sym	pParent,4,138,1,32,27
 17014                        	.sym	hWnd,4,129,6,32
 17015                        	.sym	point,8,138,6,32,21
 17016 04:4B1E: D4 0E        	pei	<L673+hWnd_0+2
 17017 04:4B20: D4 0C        	pei	<L673+hWnd_0
 17018 04:4B22: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
 17019 04:4B26: 85 01        	sta	<L674+pWin_1
 17020 04:4B28: 86 03        	stx	<L674+pWin_1+2
 17021 04:4B2A: 64 05        	stz	<L674+pParent_1
 17022 04:4B2C: 64 07        	stz	<L674+pParent_1+2
 17023                        	.line	2938
 17024                        ;	{
 17025 04:4B2E: A5 01        	lda	<L674+pWin_1
 17026 04:4B30: 05 03        	ora	<L674+pWin_1+2
 17027 04:4B32: D0 03        	bne	L676
 17028 04:4B34: 82 20 00     	brl	L10232
 17029                        L676:
 17030                        	.line	2939
 17031                        ;		pParent = k_getWindowFromHandle(pWin->pP
                    arentWindow);
 17032                        	.line	2940
 17033 04:4B37: A0 36 01     	ldy	#$136
 17034 04:4B3A: B7 01        	lda	[<L674+pWin_1],Y
 17035 04:4B3C: 48           	pha
 17036 04:4B3D: A0 34 01     	ldy	#$134
 17037 04:4B40: B7 01        	lda	[<L674+pWin_1],Y
 17038 04:4B42: 48           	pha
 17039 04:4B43: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
 17040 04:4B47: 85 05        	sta	<L674+pParent_1
 17041 04:4B49: 86 07        	stx	<L674+pParent_1+2
 17042                        ;		if(pParent)
 17043                        	.line	2941
  Mon Dec  7 2020 11:19                                                Page 332


 17044                        ;		{
 17045 04:4B4B: A5 05        	lda	<L674+pParent_1
 17046 04:4B4D: 05 07        	ora	<L674+pParent_1+2
 17047 04:4B4F: D0 03        	bne	L677
 17048 04:4B51: 82 03 00     	brl	L10233
 17049                        L677:
 17050                        	.line	2942
 17051                        ;
 17052                        ;		}
 17053                        	.line	2944
 17054                        ;		else
 17055 04:4B54: 82 00 00     	brl	L10234
 17056                        L10233:
 17057                        ;		{
 17058                        	.line	2946
 17059                        ;
 17060                        ;		}
 17061                        	.line	2948
 17062                        L10234:
 17063                        ;	}
 17064                        	.line	2949
 17065                        ;
 17066                        ;	return point;
 17067                        L10232:
 17068                        	.line	2951
 17069 04:4B57: A6 12        	ldx	<L673+point_0+2
 17070 04:4B59: A5 10        	lda	<L673+point_0
 17071                        L678:
 17072 04:4B5B: A8           	tay
 17073 04:4B5C: A5 0A        	lda	<L673+2
 17074 04:4B5E: 85 12        	sta	<L673+2+8
 17075 04:4B60: A5 09        	lda	<L673+1
 17076 04:4B62: 85 11        	sta	<L673+1+8
 17077 04:4B64: 2B           	pld
 17078 04:4B65: 3B           	tsc
 17079 04:4B66: 18           	clc
 17080 04:4B67: 69 10 00     	adc	#L673+8
 17081 04:4B6A: 1B           	tcs
 17082 04:4B6B: 98           	tya
 17083 04:4B6C: 6B           	rtl
 17084                        ;}
 17085                        	.line	2952
 17086                        	.endblock	2952
 17087             00000008   L673	equ	8
 17088             00000001   L674	equ	1
 17089 04:4B6D:              	ends
 17090                        	efunc
 17091                        	.endfunc	2952,1,8
 17092                        	.line	2952
 17093                        ;
 17094                        ;
 17095                        ;BOOL gadgetWindowProc(PFXOSMESSAGE pMsg)
 17096                        ;{
 17097                        	.line	2955
 17098                        	.line	2956
 17099                        	WINMAN
 17100                        	xdef	~~gadgetWindowProc
 17101                        	func
  Mon Dec  7 2020 11:19                                                Page 333


 17102                        	.function	2956
 17103                        ~~gadgetWindowProc:
 17104                        	longa	on
 17105                        	longi	on
 17106 04:4B6D: 3B           	tsc
 17107 04:4B6E: 38           	sec
 17108 04:4B6F: E9 04 00     	sbc	#L679
 17109 04:4B72: 1B           	tcs
 17110 04:4B73: 0B           	phd
 17111 04:4B74: 5B           	tcd
 17112             00000004   pMsg_0	set	4
 17113                        	.block	2956
 17114                        ;	PFXPROCESS p = NULL;
 17115                        ;
 17116                        ;	if(pMsg!=NULL)
 17117             00000000   p_1	set	0
 17118                        	.sym	p,0,138,1,32,17
 17119                        	.sym	pMsg,4,138,6,32,13
 17120 04:4B75: 64 01        	stz	<L680+p_1
 17121 04:4B77: 64 03        	stz	<L680+p_1+2
 17122                        	.line	2959
 17123                        ;	{
 17124 04:4B79: A5 08        	lda	<L679+pMsg_0
 17125 04:4B7B: 05 0A        	ora	<L679+pMsg_0+2
 17126 04:4B7D: D0 03        	bne	L682
 17127 04:4B7F: 82 66 00     	brl	L10235
 17128                        L682:
 17129                        	.line	2960
 17130                        ;		p = k_exec_get_current_process();
 17131                        	.line	2961
 17132 04:4B82: 22 xx xx xx  	jsl	~~k_exec_get_current_process
 17133 04:4B86: 85 01        	sta	<L680+p_1
 17134 04:4B88: 86 03        	stx	<L680+p_1+2
 17135                        ;
 17136                        ;		//k_debug_long("consoleWindowProc::Proce
                    ssId:",p->procId);
 17137                        ;
 17138                        ;		switch(pMsg->type)
 17139                        	.line	2965
 17140 04:4B8A: A0 08 00     	ldy	#$8
 17141 04:4B8D: B7 08        	lda	[<L679+pMsg_0],Y
 17142 04:4B8F: 82 46 00     	brl	L10236
 17143                        ;		{
 17144                        	.line	2966
 17145                        ;		case FX_CREATE_WINDOW:
 17146                        	.line	2967
 17147                        L10238:
 17148                        ;			k_debug_long("gadgetWindowProc::
                    ProcessId:",p->procId);
 17149                        	.line	2968
 17150 04:4B92: A0 04 00     	ldy	#$4
 17151 04:4B95: B7 01        	lda	[<L680+p_1],Y
 17152 04:4B97: 48           	pha
 17153 04:4B98: A0 02 00     	ldy	#$2
 17154 04:4B9B: B7 01        	lda	[<L680+p_1],Y
 17155 04:4B9D: 48           	pha
 17156 04:4B9E: F4 xx xx     	pea	#^L662
 17157 04:4BA1: F4 xx xx     	pea	#<L662
  Mon Dec  7 2020 11:19                                                Page 334


 17158 04:4BA4: 22 xx xx xx  	jsl	~~k_debug_long
 17159                        ;			k_debug_integer("gadgetWindowPro
                    c::MessageId:",pMsg->type);
 17160                        	.line	2969
 17161 04:4BA8: A0 08 00     	ldy	#$8
 17162 04:4BAB: B7 08        	lda	[<L679+pMsg_0],Y
 17163 04:4BAD: 48           	pha
 17164 04:4BAE: F4 xx xx     	pea	#^L662+29
 17165 04:4BB1: F4 xx xx     	pea	#<L662+29
 17166 04:4BB4: 22 xx xx xx  	jsl	~~k_debug_integer
 17167                        ;			break;
 17168                        	.line	2970
 17169 04:4BB8: 82 2D 00     	brl	L10237
 17170                        ;		case FX_LBUTTON_DOWN:
 17171                        	.line	2971
 17172                        L10239:
 17173                        ;			if(pMsg->type!=FX_PROCESS)
 17174                        	.line	2972
 17175                        ;			{
 17176 04:4BBB: A0 08 00     	ldy	#$8
 17177 04:4BBE: B7 08        	lda	[<L679+pMsg_0],Y
 17178 04:4BC0: C9 00 FF     	cmp	#<$ff00
 17179 04:4BC3: D0 03        	bne	L683
 17180 04:4BC5: 82 0A 00     	brl	L10240
 17181                        L683:
 17182                        	.line	2973
 17183                        ;				//k_debug_integer("conso
                    leWindowProc::ProcessId:",p->procId);
 17184                        ;				k_debug_string("gadgetWi
                    ndowProc::FX_MBUTTON_DOWN\r\n");
 17185                        	.line	2975
 17186 04:4BC8: F4 xx xx     	pea	#^L662+58
 17187 04:4BCB: F4 xx xx     	pea	#<L662+58
 17188 04:4BCE: 22 xx xx xx  	jsl	~~k_debug_string
 17189                        ;			}
 17190                        	.line	2976
 17191                        ;
 17192                        ;			break;
 17193                        L10240:
 17194                        	.line	2978
 17195 04:4BD2: 82 13 00     	brl	L10237
 17196                        ;		default:
 17197                        	.line	2979
 17198                        L10241:
 17199                        ;			break;
 17200                        	.line	2980
 17201 04:4BD5: 82 10 00     	brl	L10237
 17202                        ;		}
 17203                        	.line	2981
 17204                        L10236:
 17205                        	xref	~~~swt
 17206 04:4BD8: 22 xx xx xx  	jsl	~~~swt
 17207 04:4BDC: 02 00        	dw	2
 17208 04:4BDE: 04 0F        	dw	3844
 17209 04:4BE0: BA 4B        	dw	L10239-1
 17210 04:4BE2: 03 FF        	dw	65283
 17211 04:4BE4: 91 4B        	dw	L10238-1
 17212 04:4BE6: D4 4B        	dw	L10241-1
  Mon Dec  7 2020 11:19                                                Page 335


 17213                        L10237:
 17214                        ;	}
 17215                        	.line	2982
 17216                        ;
 17217                        ;	return TRUE;
 17218                        L10235:
 17219                        	.line	2984
 17220 04:4BE8: A9 01 00     	lda	#$1
 17221                        L684:
 17222 04:4BEB: A8           	tay
 17223 04:4BEC: A5 06        	lda	<L679+2
 17224 04:4BEE: 85 0A        	sta	<L679+2+4
 17225 04:4BF0: A5 05        	lda	<L679+1
 17226 04:4BF2: 85 09        	sta	<L679+1+4
 17227 04:4BF4: 2B           	pld
 17228 04:4BF5: 3B           	tsc
 17229 04:4BF6: 18           	clc
 17230 04:4BF7: 69 08 00     	adc	#L679+4
 17231 04:4BFA: 1B           	tcs
 17232 04:4BFB: 98           	tya
 17233 04:4BFC: 6B           	rtl
 17234                        ;}
 17235                        	.line	2985
 17236                        	.endblock	2985
 17237             00000004   L679	equ	4
 17238             00000001   L680	equ	1
 17239 04:4BFD:              	ends
 17240                        	efunc
 17241                        	.endfunc	2985,1,4
 17242                        	.line	2985
 17243                        	data
 17244                        L662:
 17245 00:0E45: 67 61 64 67  	db	$67,$61,$64,$67,$65,$74,$57,$69,$6E,$64,
                    $6F,$77,$50,$72,$6F
       00:0E49: 65 74 57 69 
       00:0E4D: 6E 64 6F 77 
       00:0E51: 50 72 6F 
 17246 00:0E54: 63 3A 3A 50  	db	$63,$3A,$3A,$50,$72,$6F,$63,$65,$73,$73,
                    $49,$64,$3A,$00,$67
       00:0E58: 72 6F 63 65 
       00:0E5C: 73 73 49 64 
       00:0E60: 3A 00 67 
 17247 00:0E63: 61 64 67 65  	db	$61,$64,$67,$65,$74,$57,$69,$6E,$64,$6F,
                    $77,$50,$72,$6F,$63
       00:0E67: 74 57 69 6E 
       00:0E6B: 64 6F 77 50 
       00:0E6F: 72 6F 63 
 17248 00:0E72: 3A 3A 4D 65  	db	$3A,$3A,$4D,$65,$73,$73,$61,$67,$65,$49,
                    $64,$3A,$00,$67,$61
       00:0E76: 73 73 61 67 
       00:0E7A: 65 49 64 3A 
       00:0E7E: 00 67 61 
 17249 00:0E81: 64 67 65 74  	db	$64,$67,$65,$74,$57,$69,$6E,$64,$6F,$77,
                    $50,$72,$6F,$63,$3A
       00:0E85: 57 69 6E 64 
       00:0E89: 6F 77 50 72 
       00:0E8D: 6F 63 3A 
 17250 00:0E90: 3A 46 58 5F  	db	$3A,$46,$58,$5F,$4D,$42,$55,$54,$54,$4F,
  Mon Dec  7 2020 11:19                                                Page 336


                    $4E,$5F,$44,$4F,$57
       00:0E94: 4D 42 55 54 
       00:0E98: 54 4F 4E 5F 
       00:0E9C: 44 4F 57 
 17251 00:0E9F: 4E 0D 0A 00  	db	$4E,$0D,$0A,$00
 17252 00:0EA3:              	ends
 17253                        ;
 17254                        ;int k_user_getSystemMetric(UINT flag)
 17255                        ;{
 17256                        	.line	2987
 17257                        	.line	2988
 17258                        	WINMAN
 17259                        	xdef	~~k_user_getSystemMetric
 17260                        	func
 17261                        	.function	2988
 17262                        ~~k_user_getSystemMetric:
 17263                        	longa	on
 17264                        	longi	on
 17265 04:4BFD: 3B           	tsc
 17266 04:4BFE: 38           	sec
 17267 04:4BFF: E9 0E 00     	sbc	#L686
 17268 04:4C02: 1B           	tcs
 17269 04:4C03: 0B           	phd
 17270 04:4C04: 5B           	tcd
 17271             00000004   flag_0	set	4
 17272                        	.block	2988
 17273                        ;	FONTMETRIC fm;
 17274                        ;
 17275                        ;	int metric = -1;
 17276                        ;
 17277                        ;
 17278                        ;	switch(flag)
 17279             00000000   fm_1	set	0
 17280             00000004   metric_1	set	4
 17281                        	.sym	fm,0,10,1,32,29
 17282                        	.sym	metric,4,5,1,16
 17283                        	.sym	flag,4,16,6,16
 17284 04:4C05: A9 FF FF     	lda	#$ffff
 17285 04:4C08: 85 0D        	sta	<L687+metric_1
 17286                        	.line	2994
 17287 04:4C0A: A5 12        	lda	<L686+flag_0
 17288 04:4C0C: 82 D3 00     	brl	L10242
 17289                        ;	{
 17290                        	.line	2995
 17291                        ;	case SM_CYMENUSIZE:
 17292                        	.line	2996
 17293                        L10244:
 17294                        ;		k_get_font_metrics(&fm);
 17295                        	.line	2997
 17296 04:4C0F: F4 00 00     	pea	#0
 17297 04:4C12: 18           	clc
 17298 04:4C13: 7B           	tdc
 17299 04:4C14: 69 09 00     	adc	#<L687+fm_1
 17300 04:4C17: 48           	pha
 17301 04:4C18: 22 xx xx xx  	jsl	~~k_get_font_metrics
 17302                        ;
 17303                        ;		metric = fm.height + (int)(fm.width/2) +
                     1;
  Mon Dec  7 2020 11:19                                                Page 337


 17304                        	.line	2999
 17305 04:4C1C: A5 09        	lda	<L687+fm_1
 17306 04:4C1E: A2 02 00     	ldx	#<$2
 17307                        	xref	~~~div
 17308 04:4C21: 22 xx xx xx  	jsl	~~~div
 17309 04:4C25: 85 01        	sta	<R0
 17310 04:4C27: 18           	clc
 17311 04:4C28: A5 01        	lda	<R0
 17312 04:4C2A: 65 0B        	adc	<L687+fm_1+2
 17313 04:4C2C: 85 05        	sta	<R1
 17314 04:4C2E: A5 05        	lda	<R1
 17315 04:4C30: 1A           	ina
 17316 04:4C31: 85 0D        	sta	<L687+metric_1
 17317                        ;
 17318                        ;		break;
 17319                        	.line	3001
 17320 04:4C33: 82 FC 00     	brl	L10243
 17321                        ;	case SM_CXMENUSIZE:
 17322                        	.line	3002
 17323                        L10245:
 17324                        ;		metric = 640;
 17325                        	.line	3003
 17326 04:4C36: A9 80 02     	lda	#$280
 17327 04:4C39: 85 0D        	sta	<L687+metric_1
 17328                        ;		break;
 17329                        	.line	3004
 17330 04:4C3B: 82 F4 00     	brl	L10243
 17331                        ;	case SM_CXFULLSCREEN:
 17332                        	.line	3005
 17333                        L10246:
 17334                        ;		if(k_get_video_mode() > 2)
 17335                        	.line	3006
 17336                        ;			metric = 800;
 17337 04:4C3E: 22 xx xx xx  	jsl	~~k_get_video_mode
 17338 04:4C42: 85 01        	sta	<R0
 17339 04:4C44: A9 02 00     	lda	#$2
 17340 04:4C47: C5 01        	cmp	<R0
 17341 04:4C49: 90 03        	bcc	L689
 17342 04:4C4B: 82 08 00     	brl	L10247
 17343                        L689:
 17344                        	.line	3007
 17345 04:4C4E: A9 20 03     	lda	#$320
 17346 04:4C51: 85 0D        	sta	<L687+metric_1
 17347                        ;		else
 17348 04:4C53: 82 05 00     	brl	L10248
 17349                        L10247:
 17350                        ;			metric = 640;
 17351                        	.line	3009
 17352 04:4C56: A9 80 02     	lda	#$280
 17353 04:4C59: 85 0D        	sta	<L687+metric_1
 17354                        L10248:
 17355                        ;		break;
 17356                        	.line	3010
 17357 04:4C5B: 82 D4 00     	brl	L10243
 17358                        ;	case SM_CYFULLSCREEN:
 17359                        	.line	3011
 17360                        L10249:
 17361                        ;		if(k_get_video_mode() > 2)
  Mon Dec  7 2020 11:19                                                Page 338


 17362                        	.line	3012
 17363                        ;			metric = 600;
 17364 04:4C5E: 22 xx xx xx  	jsl	~~k_get_video_mode
 17365 04:4C62: 85 01        	sta	<R0
 17366 04:4C64: A9 02 00     	lda	#$2
 17367 04:4C67: C5 01        	cmp	<R0
 17368 04:4C69: 90 03        	bcc	L690
 17369 04:4C6B: 82 08 00     	brl	L10250
 17370                        L690:
 17371                        	.line	3013
 17372 04:4C6E: A9 58 02     	lda	#$258
 17373 04:4C71: 85 0D        	sta	<L687+metric_1
 17374                        ;		else
 17375 04:4C73: 82 05 00     	brl	L10251
 17376                        L10250:
 17377                        ;			metric = 480;
 17378                        	.line	3015
 17379 04:4C76: A9 E0 01     	lda	#$1e0
 17380 04:4C79: 85 0D        	sta	<L687+metric_1
 17381                        L10251:
 17382                        ;		break;
 17383                        	.line	3016
 17384 04:4C7B: 82 B4 00     	brl	L10243
 17385                        ;	case SM_CXFRAME:
 17386                        	.line	3017
 17387                        L10252:
 17388                        ;		metric = 2;
 17389                        	.line	3018
 17390 04:4C7E: A9 02 00     	lda	#$2
 17391 04:4C81: 85 0D        	sta	<L687+metric_1
 17392                        ;		break;
 17393                        	.line	3019
 17394 04:4C83: 82 AC 00     	brl	L10243
 17395                        ;	case SM_CYFRAME:
 17396                        	.line	3020
 17397                        L10253:
 17398                        ;		metric = 2;
 17399                        	.line	3021
 17400 04:4C86: A9 02 00     	lda	#$2
 17401 04:4C89: 85 0D        	sta	<L687+metric_1
 17402                        ;		break;
 17403                        	.line	3022
 17404 04:4C8B: 82 A4 00     	brl	L10243
 17405                        ;	case SM_CXBORDER:
 17406                        	.line	3023
 17407                        L10254:
 17408                        ;		metric = 1;
 17409                        	.line	3024
 17410 04:4C8E: A9 01 00     	lda	#$1
 17411 04:4C91: 85 0D        	sta	<L687+metric_1
 17412                        ;		break;
 17413                        	.line	3025
 17414 04:4C93: 82 9C 00     	brl	L10243
 17415                        ;	case SM_CYBORDER:
 17416                        	.line	3026
 17417                        L10255:
 17418                        ;		metric = 1;
 17419                        	.line	3027
  Mon Dec  7 2020 11:19                                                Page 339


 17420 04:4C96: A9 01 00     	lda	#$1
 17421 04:4C99: 85 0D        	sta	<L687+metric_1
 17422                        ;		break;
 17423                        	.line	3028
 17424 04:4C9B: 82 94 00     	brl	L10243
 17425                        ;	case SM_CXVSCROLL:
 17426                        	.line	3029
 17427                        L10256:
 17428                        ;		metric = FONTH + 1;
 17429                        	.line	3030
 17430 04:4C9E: 22 xx xx xx  	jsl	~~k_font_getFontHeight
 17431 04:4CA2: 85 01        	sta	<R0
 17432 04:4CA4: A5 01        	lda	<R0
 17433 04:4CA6: 1A           	ina
 17434 04:4CA7: 85 0D        	sta	<L687+metric_1
 17435                        ;		break;
 17436                        	.line	3031
 17437 04:4CA9: 82 86 00     	brl	L10243
 17438                        ;	case SM_CYHSCROLL:
 17439                        	.line	3032
 17440                        L10257:
 17441                        ;		metric = FONTW + 1;
 17442                        	.line	3033
 17443 04:4CAC: 22 xx xx xx  	jsl	~~k_font_getFontWidth
 17444 04:4CB0: 85 01        	sta	<R0
 17445 04:4CB2: A5 01        	lda	<R0
 17446 04:4CB4: 1A           	ina
 17447 04:4CB5: 85 0D        	sta	<L687+metric_1
 17448                        ;		break;
 17449                        	.line	3034
 17450 04:4CB7: 82 78 00     	brl	L10243
 17451                        ;	case SM_CYSMCAPTION:
 17452                        	.line	3035
 17453                        L10258:
 17454                        ;		metric = 10;
 17455                        	.line	3036
 17456 04:4CBA: A9 0A 00     	lda	#$a
 17457 04:4CBD: 85 0D        	sta	<L687+metric_1
 17458                        ;		break;
 17459                        	.line	3037
 17460 04:4CBF: 82 70 00     	brl	L10243
 17461                        ;	case SM_CXICON:
 17462                        	.line	3038
 17463                        L10259:
 17464                        ;	case SM_CYICON:
 17465                        	.line	3039
 17466                        L10260:
 17467                        ;		metric = 16;
 17468                        	.line	3040
 17469 04:4CC2: A9 10 00     	lda	#$10
 17470 04:4CC5: 85 0D        	sta	<L687+metric_1
 17471                        ;		break;
 17472                        	.line	3041
 17473 04:4CC7: 82 68 00     	brl	L10243
 17474                        ;	case SM_CXDLGFRAME: // or SM_CXFIXEDFRAME
 17475                        	.line	3042
 17476                        L10261:
 17477                        ;	case SM_CYDLGFRAME: // or SM_CYFIXEDFRAME
  Mon Dec  7 2020 11:19                                                Page 340


 17478                        	.line	3043
 17479                        L10262:
 17480                        ;		metric = 4;
 17481                        	.line	3044
 17482 04:4CCA: A9 04 00     	lda	#$4
 17483 04:4CCD: 85 0D        	sta	<L687+metric_1
 17484                        ;		break;
 17485                        	.line	3045
 17486 04:4CCF: 82 60 00     	brl	L10243
 17487                        ;	case SM_CYCAPTION:
 17488                        	.line	3046
 17489                        L10263:
 17490                        ;		metric = 2;
 17491                        	.line	3047
 17492 04:4CD2: A9 02 00     	lda	#$2
 17493 04:4CD5: 85 0D        	sta	<L687+metric_1
 17494                        ;		break;
 17495                        	.line	3048
 17496 04:4CD7: 82 58 00     	brl	L10243
 17497                        ;
 17498                        ;	case SM_CXGADGET:
 17499                        	.line	3050
 17500                        L10264:
 17501                        ;	case SM_CYGADGET:
 17502                        	.line	3051
 17503                        L10265:
 17504                        ;		metric = 8;
 17505                        	.line	3052
 17506 04:4CDA: A9 08 00     	lda	#$8
 17507 04:4CDD: 85 0D        	sta	<L687+metric_1
 17508                        ;		break;
 17509                        	.line	3053
 17510 04:4CDF: 82 50 00     	brl	L10243
 17511                        ;
 17512                        ;	}
 17513                        	.line	3055
 17514                        L10242:
 17515                        	xref	~~~swt
 17516 04:4CE2: 22 xx xx xx  	jsl	~~~swt
 17517 04:4CE6: 12 00        	dw	18
 17518 04:4CE8: 02 00        	dw	2
 17519 04:4CEA: 9D 4C        	dw	L10256-1
 17520 04:4CEC: 03 00        	dw	3
 17521 04:4CEE: AB 4C        	dw	L10257-1
 17522 04:4CF0: 04 00        	dw	4
 17523 04:4CF2: D1 4C        	dw	L10263-1
 17524 04:4CF4: 05 00        	dw	5
 17525 04:4CF6: 8D 4C        	dw	L10254-1
 17526 04:4CF8: 06 00        	dw	6
 17527 04:4CFA: 95 4C        	dw	L10255-1
 17528 04:4CFC: 07 00        	dw	7
 17529 04:4CFE: C9 4C        	dw	L10261-1
 17530 04:4D00: 08 00        	dw	8
 17531 04:4D02: C9 4C        	dw	L10262-1
 17532 04:4D04: 0B 00        	dw	11
 17533 04:4D06: C1 4C        	dw	L10259-1
 17534 04:4D08: 0C 00        	dw	12
 17535 04:4D0A: C1 4C        	dw	L10260-1
  Mon Dec  7 2020 11:19                                                Page 341


 17536 04:4D0C: 10 00        	dw	16
 17537 04:4D0E: 3D 4C        	dw	L10246-1
 17538 04:4D10: 11 00        	dw	17
 17539 04:4D12: 5D 4C        	dw	L10249-1
 17540 04:4D14: 18 00        	dw	24
 17541 04:4D16: D9 4C        	dw	L10264-1
 17542 04:4D18: 19 00        	dw	25
 17543 04:4D1A: D9 4C        	dw	L10265-1
 17544 04:4D1C: 20 00        	dw	32
 17545 04:4D1E: 7D 4C        	dw	L10252-1
 17546 04:4D20: 21 00        	dw	33
 17547 04:4D22: 85 4C        	dw	L10253-1
 17548 04:4D24: 33 00        	dw	51
 17549 04:4D26: B9 4C        	dw	L10258-1
 17550 04:4D28: 36 00        	dw	54
 17551 04:4D2A: 35 4C        	dw	L10245-1
 17552 04:4D2C: 37 00        	dw	55
 17553 04:4D2E: 0E 4C        	dw	L10244-1
 17554 04:4D30: 31 4D        	dw	L10243-1
 17555                        L10243:
 17556                        ;
 17557                        ;	return metric;
 17558                        	.line	3057
 17559 04:4D32: A5 0D        	lda	<L687+metric_1
 17560                        L691:
 17561 04:4D34: A8           	tay
 17562 04:4D35: A5 10        	lda	<L686+2
 17563 04:4D37: 85 12        	sta	<L686+2+2
 17564 04:4D39: A5 0F        	lda	<L686+1
 17565 04:4D3B: 85 11        	sta	<L686+1+2
 17566 04:4D3D: 2B           	pld
 17567 04:4D3E: 3B           	tsc
 17568 04:4D3F: 18           	clc
 17569 04:4D40: 69 10 00     	adc	#L686+2
 17570 04:4D43: 1B           	tcs
 17571 04:4D44: 98           	tya
 17572 04:4D45: 6B           	rtl
 17573                        ;}
 17574                        	.line	3058
 17575                        	.endblock	3058
 17576             0000000E   L686	equ	14
 17577             00000009   L687	equ	9
 17578 04:4D46:              	ends
 17579                        	efunc
 17580                        	.endfunc	3058,9,14
 17581                        	.line	3058
 17582                        ;
 17583                        ;void k_text_callback(PWINDOW textWindow)
 17584                        ;{
 17585                        	.line	3060
 17586                        	.line	3061
 17587                        	WINMAN
 17588                        	xdef	~~k_text_callback
 17589                        	func
 17590                        	.function	3061
 17591                        ~~k_text_callback:
 17592                        	longa	on
 17593                        	longi	on
  Mon Dec  7 2020 11:19                                                Page 342


 17594 04:4D46: 3B           	tsc
 17595 04:4D47: 38           	sec
 17596 04:4D48: E9 04 00     	sbc	#L692
 17597 04:4D4B: 1B           	tcs
 17598 04:4D4C: 0B           	phd
 17599 04:4D4D: 5B           	tcd
 17600             00000004   textWindow_0	set	4
 17601                        	.block	3061
 17602                        ;	k_debug_message("k_text_callback:clicked:",textW
                    indow->win_class);
 17603                        	.sym	textWindow,4,138,6,32,27
 17604                        	.line	3062
 17605 04:4D4E: 18           	clc
 17606 04:4D4F: A9 F6 00     	lda	#$f6
 17607 04:4D52: 65 08        	adc	<L692+textWindow_0
 17608 04:4D54: 85 01        	sta	<R0
 17609 04:4D56: A9 00 00     	lda	#$0
 17610 04:4D59: 65 0A        	adc	<L692+textWindow_0+2
 17611 04:4D5B: 85 03        	sta	<R0+2
 17612 04:4D5D: D4 03        	pei	<R0+2
 17613 04:4D5F: D4 01        	pei	<R0
 17614 04:4D61: F4 xx xx     	pea	#^L685
 17615 04:4D64: F4 xx xx     	pea	#<L685
 17616 04:4D67: 22 xx xx xx  	jsl	~~k_debug_message
 17617                        ;	//k_send_message(NULL,FX_WINDOW_TOFRONT,NULL,0);
 17618                        ;	return;
 17619                        	.line	3064
 17620                        L695:
 17621 04:4D6B: A5 06        	lda	<L692+2
 17622 04:4D6D: 85 0A        	sta	<L692+2+4
 17623 04:4D6F: A5 05        	lda	<L692+1
 17624 04:4D71: 85 09        	sta	<L692+1+4
 17625 04:4D73: 2B           	pld
 17626 04:4D74: 3B           	tsc
 17627 04:4D75: 18           	clc
 17628 04:4D76: 69 08 00     	adc	#L692+4
 17629 04:4D79: 1B           	tcs
 17630 04:4D7A: 6B           	rtl
 17631                        ;}
 17632                        	.line	3065
 17633                        	.endblock	3065
 17634             00000004   L692	equ	4
 17635             00000005   L693	equ	5
 17636 04:4D7B:              	ends
 17637                        	efunc
 17638                        	.endfunc	3065,5,4
 17639                        	.line	3065
 17640                        	data
 17641                        L685:
 17642 00:0EA3: 6B 5F 74 65  	db	$6B,$5F,$74,$65,$78,$74,$5F,$63,$61,$6C,
                    $6C,$62,$61,$63,$6B
       00:0EA7: 78 74 5F 63 
       00:0EAB: 61 6C 6C 62 
       00:0EAF: 61 63 6B 
 17643 00:0EB2: 3A 63 6C 69  	db	$3A,$63,$6C,$69,$63,$6B,$65,$64,$3A,$00
       00:0EB6: 63 6B 65 64 
       00:0EBA: 3A 00 
 17644 00:0EBC:              	ends
  Mon Dec  7 2020 11:19                                                Page 343


 17645                        ;
 17646                        ;
 17647                        ;int k_render_text(HWND pParent,LPCSTR clickableTe
                    xt,int cx,int cy,char color,OBJECTCLICKED callback)
 17648                        ;{
 17649                        	.line	3068
 17650                        	.line	3069
 17651                        	WINMAN
 17652                        	xdef	~~k_render_text
 17653                        	func
 17654                        	.function	3069
 17655                        ~~k_render_text:
 17656                        	longa	on
 17657                        	longi	on
 17658 04:4D7B: 3B           	tsc
 17659 04:4D7C: 38           	sec
 17660 04:4D7D: E9 0C 00     	sbc	#L697
 17661 04:4D80: 1B           	tcs
 17662 04:4D81: 0B           	phd
 17663 04:4D82: 5B           	tcd
 17664             00000004   pParent_0	set	4
 17665             00000008   clickableText_0	set	8
 17666             0000000C   cx_0	set	12
 17667             0000000E   cy_0	set	14
 17668             00000010   color_0	set	16
 17669             00000012   callback_0	set	18
 17670                        	.block	3069
 17671                        ;	PCLICKDETECTED pcd = NULL;
 17672                        ;	int pos = 0;
 17673                        ;	int retCode = 0;
 17674                        ;
 17675                        ;	pos = k_draw_text_point(clickableText,cx,cy,colo
                    r);
 17676             00000000   pcd_1	set	0
 17677             00000004   pos_1	set	4
 17678             00000006   retCode_1	set	6
 17679                        	.sym	pcd,0,138,1,32,61
 17680                        	.sym	pos,4,5,1,16
 17681                        	.sym	retCode,6,5,1,16
 17682                        	.sym	pParent,4,129,6,32
 17683                        	.sym	clickableText,8,142,6,32
 17684                        	.sym	cx,12,5,6,16
 17685                        	.sym	cy,14,5,6,16
 17686                        	.sym	color,16,14,6,8
 17687                        	.sym	callback,18,641,6,32
 17688 04:4D83: 64 05        	stz	<L698+pcd_1
 17689 04:4D85: 64 07        	stz	<L698+pcd_1+2
 17690 04:4D87: 64 09        	stz	<L698+pos_1
 17691 04:4D89: 64 0B        	stz	<L698+retCode_1
 17692                        	.line	3074
 17693 04:4D8B: D4 1C        	pei	<L697+color_0
 17694 04:4D8D: D4 1A        	pei	<L697+cy_0
 17695 04:4D8F: D4 18        	pei	<L697+cx_0
 17696 04:4D91: D4 16        	pei	<L697+clickableText_0+2
 17697 04:4D93: D4 14        	pei	<L697+clickableText_0
 17698 04:4D95: 22 xx xx xx  	jsl	~~k_draw_text_point
 17699 04:4D99: 85 09        	sta	<L698+pos_1
 17700                        ;
  Mon Dec  7 2020 11:19                                                Page 344


 17701                        ;	pcd = k_mem_allocate_heap(sizeof(CLICKDETECTED))
                    ;
 17702                        	.line	3076
 17703 04:4D9B: F4 08 00     	pea	#<$8
 17704 04:4D9E: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 17705 04:4DA2: 85 05        	sta	<L698+pcd_1
 17706 04:4DA4: 86 07        	stx	<L698+pcd_1+2
 17707                        ;	if(pcd)
 17708                        	.line	3077
 17709                        ;	{
 17710 04:4DA6: A5 05        	lda	<L698+pcd_1
 17711 04:4DA8: 05 07        	ora	<L698+pcd_1+2
 17712 04:4DAA: D0 03        	bne	L700
 17713 04:4DAC: 82 8C 00     	brl	L10266
 17714                        L700:
 17715                        	.line	3078
 17716                        ;		pcd->window  = k_create_ui_window_class(
                    cx,cy,FONTH,pos - cx,"text","text",NULL);
 17717                        	.line	3079
 17718 04:4DAF: F4 00 00     	pea	#^$0
 17719 04:4DB2: F4 00 00     	pea	#<$0
 17720 04:4DB5: F4 xx xx     	pea	#^L696+5
 17721 04:4DB8: F4 xx xx     	pea	#<L696+5
 17722 04:4DBB: F4 xx xx     	pea	#^L696
 17723 04:4DBE: F4 xx xx     	pea	#<L696
 17724 04:4DC1: 38           	sec
 17725 04:4DC2: A5 09        	lda	<L698+pos_1
 17726 04:4DC4: E5 18        	sbc	<L697+cx_0
 17727 04:4DC6: 48           	pha
 17728 04:4DC7: 22 xx xx xx  	jsl	~~k_font_getFontHeight
 17729 04:4DCB: 48           	pha
 17730 04:4DCC: D4 1A        	pei	<L697+cy_0
 17731 04:4DCE: D4 18        	pei	<L697+cx_0
 17732 04:4DD0: 22 xx xx xx  	jsl	~~k_create_ui_window_class
 17733 04:4DD4: 85 01        	sta	<R0
 17734 04:4DD6: 86 03        	stx	<R0+2
 17735 04:4DD8: A5 01        	lda	<R0
 17736 04:4DDA: 87 05        	sta	[<L698+pcd_1]
 17737 04:4DDC: A5 03        	lda	<R0+2
 17738 04:4DDE: A0 02 00     	ldy	#$2
 17739 04:4DE1: 97 05        	sta	[<L698+pcd_1],Y
 17740                        ;		pcd->handler = callback;
 17741                        	.line	3080
 17742 04:4DE3: A5 1E        	lda	<L697+callback_0
 17743 04:4DE5: A0 04 00     	ldy	#$4
 17744 04:4DE8: 97 05        	sta	[<L698+pcd_1],Y
 17745 04:4DEA: A5 20        	lda	<L697+callback_0+2
 17746 04:4DEC: A0 06 00     	ldy	#$6
 17747 04:4DEF: 97 05        	sta	[<L698+pcd_1],Y
 17748                        ;		//k_add_window_hit_node(pcd);
 17749                        ;
 17750                        ;		if(pParent)
 17751                        	.line	3083
 17752                        ;			k_attach_mouse_detection_local(k
                    _getWindowFromHandle(pParent)->pChildHitList,pcd->window ,k_
                    update_hover_location);
 17753 04:4DF1: A5 10        	lda	<L697+pParent_0
 17754 04:4DF3: 05 12        	ora	<L697+pParent_0+2
  Mon Dec  7 2020 11:19                                                Page 345


 17755 04:4DF5: D0 03        	bne	L701
 17756 04:4DF7: 82 2E 00     	brl	L10267
 17757                        L701:
 17758                        	.line	3084
 17759 04:4DFA: F4 04 00     	pea	#^~~k_update_hover_location
 17760 04:4DFD: F4 A6 3C     	pea	#<~~k_update_hover_location
 17761 04:4E00: A0 02 00     	ldy	#$2
 17762 04:4E03: B7 05        	lda	[<L698+pcd_1],Y
 17763 04:4E05: 48           	pha
 17764 04:4E06: A7 05        	lda	[<L698+pcd_1]
 17765 04:4E08: 48           	pha
 17766 04:4E09: D4 12        	pei	<L697+pParent_0+2
 17767 04:4E0B: D4 10        	pei	<L697+pParent_0
 17768 04:4E0D: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
 17769 04:4E11: 85 01        	sta	<R0
 17770 04:4E13: 86 03        	stx	<R0+2
 17771 04:4E15: A0 42 01     	ldy	#$142
 17772 04:4E18: B7 01        	lda	[<R0],Y
 17773 04:4E1A: 48           	pha
 17774 04:4E1B: A0 40 01     	ldy	#$140
 17775 04:4E1E: B7 01        	lda	[<R0],Y
 17776 04:4E20: 48           	pha
 17777 04:4E21: 22 20 3F 04  	jsl	~~k_attach_mouse_detection_local
 17778                        ;		else
 17779 04:4E25: 82 13 00     	brl	L10268
 17780                        L10267:
 17781                        ;			k_attach_mouse_detection(pcd->wi
                    ndow,k_update_hover_location);
 17782                        	.line	3086
 17783 04:4E28: F4 04 00     	pea	#^~~k_update_hover_location
 17784 04:4E2B: F4 A6 3C     	pea	#<~~k_update_hover_location
 17785 04:4E2E: A0 02 00     	ldy	#$2
 17786 04:4E31: B7 05        	lda	[<L698+pcd_1],Y
 17787 04:4E33: 48           	pha
 17788 04:4E34: A7 05        	lda	[<L698+pcd_1]
 17789 04:4E36: 48           	pha
 17790 04:4E37: 22 78 3E 04  	jsl	~~k_attach_mouse_detection
 17791                        L10268:
 17792                        ;	}
 17793                        	.line	3087
 17794                        ;
 17795                        ;	return retCode;
 17796                        L10266:
 17797                        	.line	3089
 17798 04:4E3B: A5 0B        	lda	<L698+retCode_1
 17799                        L702:
 17800 04:4E3D: A8           	tay
 17801 04:4E3E: A5 0E        	lda	<L697+2
 17802 04:4E40: 85 20        	sta	<L697+2+18
 17803 04:4E42: A5 0D        	lda	<L697+1
 17804 04:4E44: 85 1F        	sta	<L697+1+18
 17805 04:4E46: 2B           	pld
 17806 04:4E47: 3B           	tsc
 17807 04:4E48: 18           	clc
 17808 04:4E49: 69 1E 00     	adc	#L697+18
 17809 04:4E4C: 1B           	tcs
 17810 04:4E4D: 98           	tya
 17811 04:4E4E: 6B           	rtl
  Mon Dec  7 2020 11:19                                                Page 346


 17812                        ;}
 17813                        	.line	3090
 17814                        	.endblock	3090
 17815             0000000C   L697	equ	12
 17816             00000005   L698	equ	5
 17817 04:4E4F:              	ends
 17818                        	efunc
 17819                        	.endfunc	3090,5,12
 17820                        	.line	3090
 17821                        	data
 17822                        L696:
 17823 00:0EBC: 74 65 78 74  	db	$74,$65,$78,$74,$00,$74,$65,$78,$74,$00
       00:0EC0: 00 74 65 78 
       00:0EC4: 74 00 
 17824 00:0EC6:              	ends
 17825                        ;
 17826                        ;BOOL _k_user_send_child_message(HWND hParentWindo
                    w,MSGTYPE type,LPVOID data,UINT size)
 17827                        ;{
 17828                        	.line	3092
 17829                        	.line	3093
 17830                        	WINMAN
 17831                        	xdef	~~_k_user_send_child_message
 17832                        	func
 17833                        	.function	3093
 17834                        ~~_k_user_send_child_message:
 17835                        	longa	on
 17836                        	longi	on
 17837 04:4E4F: 3B           	tsc
 17838 04:4E50: 38           	sec
 17839 04:4E51: E9 0C 00     	sbc	#L704
 17840 04:4E54: 1B           	tcs
 17841 04:4E55: 0B           	phd
 17842 04:4E56: 5B           	tcd
 17843             00000004   hParentWindow_0	set	4
 17844             00000008   type_0	set	8
 17845             0000000A   data_0	set	10
 17846             0000000E   size_0	set	14
 17847                        	.block	3093
 17848                        ;
 17849                        ;	EACHCHILD_MSG 	msgData;
 17850                        ;	PWINDOW pWin = k_getWindowFromHandle(hParentWind
                    ow);
 17851                        ;
 17852                        ;	if(pWin && pWin->pChildWindows)
 17853             00000000   msgData_1	set	0
 17854             00000008   pWin_1	set	8
 17855                        	.sym	msgData,0,10,1,64,63
 17856                        	.sym	pWin,8,138,1,32,27
 17857                        	.sym	hParentWindow,4,129,6,32
 17858                        	.sym	type,8,16,6,16
 17859                        	.sym	data,10,129,6,32
 17860                        	.sym	size,14,16,6,16
 17861 04:4E57: D4 12        	pei	<L704+hParentWindow_0+2
 17862 04:4E59: D4 10        	pei	<L704+hParentWindow_0
 17863 04:4E5B: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
 17864 04:4E5F: 85 09        	sta	<L705+pWin_1
 17865 04:4E61: 86 0B        	stx	<L705+pWin_1+2
  Mon Dec  7 2020 11:19                                                Page 347


 17866                        	.line	3098
 17867                        ;	{
 17868 04:4E63: A5 09        	lda	<L705+pWin_1
 17869 04:4E65: 05 0B        	ora	<L705+pWin_1+2
 17870 04:4E67: D0 03        	bne	L707
 17871 04:4E69: 82 3E 00     	brl	L10269
 17872                        L707:
 17873 04:4E6C: A0 3C 01     	ldy	#$13c
 17874 04:4E6F: B7 09        	lda	[<L705+pWin_1],Y
 17875 04:4E71: A0 3E 01     	ldy	#$13e
 17876 04:4E74: 17 09        	ora	[<L705+pWin_1],Y
 17877 04:4E76: D0 03        	bne	L708
 17878 04:4E78: 82 2F 00     	brl	L10269
 17879                        L708:
 17880                        	.line	3099
 17881                        ;		msgData.msgType 	= type;
 17882                        	.line	3100
 17883 04:4E7B: A5 14        	lda	<L704+type_0
 17884 04:4E7D: 85 01        	sta	<L705+msgData_1
 17885                        ;		msgData.msgData 	= data;
 17886                        	.line	3101
 17887 04:4E7F: A5 16        	lda	<L704+data_0
 17888 04:4E81: 85 03        	sta	<L705+msgData_1+2
 17889 04:4E83: A5 18        	lda	<L704+data_0+2
 17890 04:4E85: 85 05        	sta	<L705+msgData_1+4
 17891                        ;		msgData.dataSize 	= size;
 17892                        	.line	3102
 17893 04:4E87: A5 1A        	lda	<L704+size_0
 17894 04:4E89: 85 07        	sta	<L705+msgData_1+6
 17895                        ;
 17896                        ;		k_nodelist_foreach_listdata(pWin->pChild
                    Windows,
 17897                        	.line	3104
 17898                        ;							
                    		(LPVOID)&msgData,
 17899                        ;							
                    		k_iterate_children);
 17900 04:4E8B: F4 04 00     	pea	#^~~k_iterate_children
 17901 04:4E8E: F4 BF 4E     	pea	#<~~k_iterate_children
 17902 04:4E91: F4 00 00     	pea	#0
 17903 04:4E94: 18           	clc
 17904 04:4E95: 7B           	tdc
 17905 04:4E96: 69 01 00     	adc	#<L705+msgData_1
 17906 04:4E99: 48           	pha
 17907 04:4E9A: A0 3E 01     	ldy	#$13e
 17908 04:4E9D: B7 09        	lda	[<L705+pWin_1],Y
 17909 04:4E9F: 48           	pha
 17910 04:4EA0: A0 3C 01     	ldy	#$13c
 17911 04:4EA3: B7 09        	lda	[<L705+pWin_1],Y
 17912 04:4EA5: 48           	pha
 17913 04:4EA6: 22 xx xx xx  	jsl	~~k_nodelist_foreach_listdata
 17914                        ;	}
 17915                        	.line	3107
 17916                        ;
 17917                        ;	return TRUE;
 17918                        L10269:
 17919                        	.line	3109
 17920 04:4EAA: A9 01 00     	lda	#$1
  Mon Dec  7 2020 11:19                                                Page 348


 17921                        L709:
 17922 04:4EAD: A8           	tay
 17923 04:4EAE: A5 0E        	lda	<L704+2
 17924 04:4EB0: 85 1A        	sta	<L704+2+12
 17925 04:4EB2: A5 0D        	lda	<L704+1
 17926 04:4EB4: 85 19        	sta	<L704+1+12
 17927 04:4EB6: 2B           	pld
 17928 04:4EB7: 3B           	tsc
 17929 04:4EB8: 18           	clc
 17930 04:4EB9: 69 18 00     	adc	#L704+12
 17931 04:4EBC: 1B           	tcs
 17932 04:4EBD: 98           	tya
 17933 04:4EBE: 6B           	rtl
 17934                        ;}
 17935                        	.line	3110
 17936                        	.endblock	3110
 17937             0000000C   L704	equ	12
 17938             00000001   L705	equ	1
 17939 04:4EBF:              	ends
 17940                        	efunc
 17941                        	.endfunc	3110,1,12
 17942                        	.line	3110
 17943                        ;
 17944                        ;
 17945                        ;void k_iterate_children(LPVOID ctx,LPVOID data)
 17946                        ;{
 17947                        	.line	3113
 17948                        	.line	3114
 17949                        	WINMAN
 17950                        	xdef	~~k_iterate_children
 17951                        	func
 17952                        	.function	3114
 17953                        ~~k_iterate_children:
 17954                        	longa	on
 17955                        	longi	on
 17956 04:4EBF: 3B           	tsc
 17957 04:4EC0: 38           	sec
 17958 04:4EC1: E9 0C 00     	sbc	#L710
 17959 04:4EC4: 1B           	tcs
 17960 04:4EC5: 0B           	phd
 17961 04:4EC6: 5B           	tcd
 17962             00000004   ctx_0	set	4
 17963             00000008   data_0	set	8
 17964                        	.block	3114
 17965                        ;	PWINDOW 		pWin   = ((PWINDOW)data)
                    ;
 17966                        ;	PEACHCHILD_MSG 	pChildMsg = (PEACHCHILD_MSG)ctx;
 17967                        ;
 17968                        ;	if(pWin && pChildMsg)
 17969             00000000   pWin_1	set	0
 17970             00000004   pChildMsg_1	set	4
 17971                        	.sym	pWin,0,138,1,32,27
 17972                        	.sym	pChildMsg,4,138,1,32,63
 17973                        	.sym	ctx,4,129,6,32
 17974                        	.sym	data,8,129,6,32
 17975 04:4EC7: A5 14        	lda	<L710+data_0
 17976 04:4EC9: 85 05        	sta	<L711+pWin_1
 17977 04:4ECB: A5 16        	lda	<L710+data_0+2
  Mon Dec  7 2020 11:19                                                Page 349


 17978 04:4ECD: 85 07        	sta	<L711+pWin_1+2
 17979 04:4ECF: A5 10        	lda	<L710+ctx_0
 17980 04:4ED1: 85 09        	sta	<L711+pChildMsg_1
 17981 04:4ED3: A5 12        	lda	<L710+ctx_0+2
 17982 04:4ED5: 85 0B        	sta	<L711+pChildMsg_1+2
 17983                        	.line	3118
 17984                        ;	{
 17985 04:4ED7: A5 05        	lda	<L711+pWin_1
 17986 04:4ED9: 05 07        	ora	<L711+pWin_1+2
 17987 04:4EDB: D0 03        	bne	L713
 17988 04:4EDD: 82 4A 00     	brl	L10270
 17989                        L713:
 17990 04:4EE0: A5 09        	lda	<L711+pChildMsg_1
 17991 04:4EE2: 05 0B        	ora	<L711+pChildMsg_1+2
 17992 04:4EE4: D0 03        	bne	L714
 17993 04:4EE6: 82 41 00     	brl	L10270
 17994                        L714:
 17995                        	.line	3119
 17996                        ;		if(!pWin->isClosed && !pWin->isClosing)
 17997                        	.line	3120
 17998                        ;			k_send_window_message(k_getHandl
                    eFromWindow(pWin),pChildMsg->msgType,pChildMsg->msgData,pChi
                    ldMsg->dataSize);
 17999 04:4EE9: A0 61 01     	ldy	#$161
 18000 04:4EEC: B7 05        	lda	[<L711+pWin_1],Y
 18001 04:4EEE: 29 FF 00     	and	#$ff
 18002 04:4EF1: F0 03        	beq	L715
 18003 04:4EF3: 82 34 00     	brl	L10271
 18004                        L715:
 18005 04:4EF6: A0 62 01     	ldy	#$162
 18006 04:4EF9: B7 05        	lda	[<L711+pWin_1],Y
 18007 04:4EFB: 29 FF 00     	and	#$ff
 18008 04:4EFE: F0 03        	beq	L716
 18009 04:4F00: 82 27 00     	brl	L10271
 18010                        L716:
 18011                        	.line	3121
 18012 04:4F03: A0 06 00     	ldy	#$6
 18013 04:4F06: B7 09        	lda	[<L711+pChildMsg_1],Y
 18014 04:4F08: 48           	pha
 18015 04:4F09: A0 04 00     	ldy	#$4
 18016 04:4F0C: B7 09        	lda	[<L711+pChildMsg_1],Y
 18017 04:4F0E: 48           	pha
 18018 04:4F0F: A0 02 00     	ldy	#$2
 18019 04:4F12: B7 09        	lda	[<L711+pChildMsg_1],Y
 18020 04:4F14: 48           	pha
 18021 04:4F15: A7 09        	lda	[<L711+pChildMsg_1]
 18022 04:4F17: 48           	pha
 18023 04:4F18: D4 07        	pei	<L711+pWin_1+2
 18024 04:4F1A: D4 05        	pei	<L711+pWin_1
 18025 04:4F1C: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
 18026 04:4F20: 85 01        	sta	<R0
 18027 04:4F22: 86 03        	stx	<R0+2
 18028 04:4F24: DA           	phx
 18029 04:4F25: 48           	pha
 18030 04:4F26: 22 xx xx xx  	jsl	~~k_send_window_message
 18031                        ;	}
 18032                        L10271:
 18033                        	.line	3122
  Mon Dec  7 2020 11:19                                                Page 350


 18034                        ;}
 18035                        L10270:
 18036                        	.line	3123
 18037                        L717:
 18038 04:4F2A: A5 0E        	lda	<L710+2
 18039 04:4F2C: 85 16        	sta	<L710+2+8
 18040 04:4F2E: A5 0D        	lda	<L710+1
 18041 04:4F30: 85 15        	sta	<L710+1+8
 18042 04:4F32: 2B           	pld
 18043 04:4F33: 3B           	tsc
 18044 04:4F34: 18           	clc
 18045 04:4F35: 69 14 00     	adc	#L710+8
 18046 04:4F38: 1B           	tcs
 18047 04:4F39: 6B           	rtl
 18048                        	.endblock	3123
 18049             0000000C   L710	equ	12
 18050             00000005   L711	equ	5
 18051 04:4F3A:              	ends
 18052                        	efunc
 18053                        	.endfunc	3123,5,12
 18054                        	.line	3123
 18055                        ;
 18056                        ;
 18057                        ;void debug_window_node(LPVOID ctx,LPVOID data)
 18058                        ;{
 18059                        	.line	3126
 18060                        	.line	3127
 18061                        	WINMAN
 18062                        	xdef	~~debug_window_node
 18063                        	func
 18064                        	.function	3127
 18065                        ~~debug_window_node:
 18066                        	longa	on
 18067                        	longi	on
 18068 04:4F3A: 3B           	tsc
 18069 04:4F3B: 38           	sec
 18070 04:4F3C: E9 08 00     	sbc	#L718
 18071 04:4F3F: 1B           	tcs
 18072 04:4F40: 0B           	phd
 18073 04:4F41: 5B           	tcd
 18074             00000004   ctx_0	set	4
 18075             00000008   data_0	set	8
 18076                        	.block	3127
 18077                        ;	PWINDOW pWin = (PWINDOW)data;
 18078                        ;	if(pWin)
 18079             00000000   pWin_1	set	0
 18080                        	.sym	pWin,0,138,1,32,27
 18081                        	.sym	ctx,4,129,6,32
 18082                        	.sym	data,8,129,6,32
 18083 04:4F42: A5 10        	lda	<L718+data_0
 18084 04:4F44: 85 05        	sta	<L719+pWin_1
 18085 04:4F46: A5 12        	lda	<L718+data_0+2
 18086 04:4F48: 85 07        	sta	<L719+pWin_1+2
 18087                        	.line	3129
 18088                        ;	{
 18089 04:4F4A: A5 05        	lda	<L719+pWin_1
 18090 04:4F4C: 05 07        	ora	<L719+pWin_1+2
 18091 04:4F4E: D0 03        	bne	L721
  Mon Dec  7 2020 11:19                                                Page 351


 18092 04:4F50: 82 F4 00     	brl	L10272
 18093                        L721:
 18094                        	.line	3130
 18095                        ;		pWin->win_title[31] = 0;
 18096                        	.line	3131
 18097 04:4F53: E2 20        	sep	#$20
 18098                        	longa	off
 18099 04:4F55: A9 00        	lda	#$0
 18100 04:4F57: A0 F3 00     	ldy	#$f3
 18101 04:4F5A: 97 05        	sta	[<L719+pWin_1],Y
 18102 04:4F5C: C2 20        	rep	#$20
 18103                        	longa	on
 18104                        ;		pWin->win_class[15] = 0;
 18105                        	.line	3132
 18106 04:4F5E: E2 20        	sep	#$20
 18107                        	longa	off
 18108 04:4F60: A9 00        	lda	#$0
 18109 04:4F62: A0 05 01     	ldy	#$105
 18110 04:4F65: 97 05        	sta	[<L719+pWin_1],Y
 18111 04:4F67: C2 20        	rep	#$20
 18112                        	longa	on
 18113                        ;		k_debug_strings("      WINDOW TITLE:",pW
                    in->win_title);
 18114                        	.line	3133
 18115 04:4F69: 18           	clc
 18116 04:4F6A: A9 D4 00     	lda	#$d4
 18117 04:4F6D: 65 05        	adc	<L719+pWin_1
 18118 04:4F6F: 85 01        	sta	<R0
 18119 04:4F71: A9 00 00     	lda	#$0
 18120 04:4F74: 65 07        	adc	<L719+pWin_1+2
 18121 04:4F76: 85 03        	sta	<R0+2
 18122 04:4F78: D4 03        	pei	<R0+2
 18123 04:4F7A: D4 01        	pei	<R0
 18124 04:4F7C: F4 xx xx     	pea	#^L703
 18125 04:4F7F: F4 xx xx     	pea	#<L703
 18126 04:4F82: 22 xx xx xx  	jsl	~~k_debug_strings
 18127                        ;		k_debug_strings("      WINDOW CLASS:",pW
                    in->win_class);
 18128                        	.line	3134
 18129 04:4F86: 18           	clc
 18130 04:4F87: A9 F6 00     	lda	#$f6
 18131 04:4F8A: 65 05        	adc	<L719+pWin_1
 18132 04:4F8C: 85 01        	sta	<R0
 18133 04:4F8E: A9 00 00     	lda	#$0
 18134 04:4F91: 65 07        	adc	<L719+pWin_1+2
 18135 04:4F93: 85 03        	sta	<R0+2
 18136 04:4F95: D4 03        	pei	<R0+2
 18137 04:4F97: D4 01        	pei	<R0
 18138 04:4F99: F4 xx xx     	pea	#^L703+20
 18139 04:4F9C: F4 xx xx     	pea	#<L703+20
 18140 04:4F9F: 22 xx xx xx  	jsl	~~k_debug_strings
 18141                        ;		k_debug_long   ("      WINDOW   PID:",pW
                    in->procid);
 18142                        	.line	3135
 18143 04:4FA3: A0 2E 01     	ldy	#$12e
 18144 04:4FA6: B7 05        	lda	[<L719+pWin_1],Y
 18145 04:4FA8: 48           	pha
 18146 04:4FA9: A0 2C 01     	ldy	#$12c
  Mon Dec  7 2020 11:19                                                Page 352


 18147 04:4FAC: B7 05        	lda	[<L719+pWin_1],Y
 18148 04:4FAE: 48           	pha
 18149 04:4FAF: F4 xx xx     	pea	#^L703+40
 18150 04:4FB2: F4 xx xx     	pea	#<L703+40
 18151 04:4FB5: 22 xx xx xx  	jsl	~~k_debug_long
 18152                        ;		k_debug_pointer("      WINDOW   PTR:",pW
                    in);
 18153                        	.line	3136
 18154 04:4FB9: D4 07        	pei	<L719+pWin_1+2
 18155 04:4FBB: D4 05        	pei	<L719+pWin_1
 18156 04:4FBD: F4 xx xx     	pea	#^L703+60
 18157 04:4FC0: F4 xx xx     	pea	#<L703+60
 18158 04:4FC3: 22 xx xx xx  	jsl	~~k_debug_pointer
 18159                        ;		k_debug_pointer("      WINDOW  PPTR:",pW
                    in->pParentWindow);
 18160                        	.line	3137
 18161 04:4FC7: A0 36 01     	ldy	#$136
 18162 04:4FCA: B7 05        	lda	[<L719+pWin_1],Y
 18163 04:4FCC: 48           	pha
 18164 04:4FCD: A0 34 01     	ldy	#$134
 18165 04:4FD0: B7 05        	lda	[<L719+pWin_1],Y
 18166 04:4FD2: 48           	pha
 18167 04:4FD3: F4 xx xx     	pea	#^L703+80
 18168 04:4FD6: F4 xx xx     	pea	#<L703+80
 18169 04:4FD9: 22 xx xx xx  	jsl	~~k_debug_pointer
 18170                        ;		k_debug_pointer("      WINDOW  CPTR:",pW
                    in->pChildWindows);
 18171                        	.line	3138
 18172 04:4FDD: A0 3E 01     	ldy	#$13e
 18173 04:4FE0: B7 05        	lda	[<L719+pWin_1],Y
 18174 04:4FE2: 48           	pha
 18175 04:4FE3: A0 3C 01     	ldy	#$13c
 18176 04:4FE6: B7 05        	lda	[<L719+pWin_1],Y
 18177 04:4FE8: 48           	pha
 18178 04:4FE9: F4 xx xx     	pea	#^L703+100
 18179 04:4FEC: F4 xx xx     	pea	#<L703+100
 18180 04:4FEF: 22 xx xx xx  	jsl	~~k_debug_pointer
 18181                        ;		k_debug_pointer("      WINDOW  HPTR:",pW
                    in->pChildHitList);
 18182                        	.line	3139
 18183 04:4FF3: A0 42 01     	ldy	#$142
 18184 04:4FF6: B7 05        	lda	[<L719+pWin_1],Y
 18185 04:4FF8: 48           	pha
 18186 04:4FF9: A0 40 01     	ldy	#$140
 18187 04:4FFC: B7 05        	lda	[<L719+pWin_1],Y
 18188 04:4FFE: 48           	pha
 18189 04:4FFF: F4 xx xx     	pea	#^L703+120
 18190 04:5002: F4 xx xx     	pea	#<L703+120
 18191 04:5005: 22 xx xx xx  	jsl	~~k_debug_pointer
 18192                        ;		k_debug_integer("      WINDOW     X:",pW
                    in->win_x);
 18193                        	.line	3140
 18194 04:5009: A0 08 00     	ldy	#$8
 18195 04:500C: B7 05        	lda	[<L719+pWin_1],Y
 18196 04:500E: 48           	pha
 18197 04:500F: F4 xx xx     	pea	#^L703+140
 18198 04:5012: F4 xx xx     	pea	#<L703+140
 18199 04:5015: 22 xx xx xx  	jsl	~~k_debug_integer
  Mon Dec  7 2020 11:19                                                Page 353


 18200                        ;		k_debug_integer("      WINDOW     Y:",pW
                    in->win_y);
 18201                        	.line	3141
 18202 04:5019: A0 0A 00     	ldy	#$a
 18203 04:501C: B7 05        	lda	[<L719+pWin_1],Y
 18204 04:501E: 48           	pha
 18205 04:501F: F4 xx xx     	pea	#^L703+160
 18206 04:5022: F4 xx xx     	pea	#<L703+160
 18207 04:5025: 22 xx xx xx  	jsl	~~k_debug_integer
 18208                        ;
 18209                        ;		k_debug_integer("      WINDOW     Z:",((
                    PCLICKABLE)pWin->clickable)->z);
 18210                        	.line	3143
 18211 04:5029: A0 D0 00     	ldy	#$d0
 18212 04:502C: B7 05        	lda	[<L719+pWin_1],Y
 18213 04:502E: 85 01        	sta	<R0
 18214 04:5030: A0 D2 00     	ldy	#$d2
 18215 04:5033: B7 05        	lda	[<L719+pWin_1],Y
 18216 04:5035: 85 03        	sta	<R0+2
 18217 04:5037: A0 08 00     	ldy	#$8
 18218 04:503A: B7 01        	lda	[<R0],Y
 18219 04:503C: 48           	pha
 18220 04:503D: F4 xx xx     	pea	#^L703+180
 18221 04:5040: F4 xx xx     	pea	#<L703+180
 18222 04:5043: 22 xx xx xx  	jsl	~~k_debug_integer
 18223                        ;	}
 18224                        	.line	3144
 18225                        ;}
 18226                        L10272:
 18227                        	.line	3145
 18228                        L722:
 18229 04:5047: A5 0A        	lda	<L718+2
 18230 04:5049: 85 12        	sta	<L718+2+8
 18231 04:504B: A5 09        	lda	<L718+1
 18232 04:504D: 85 11        	sta	<L718+1+8
 18233 04:504F: 2B           	pld
 18234 04:5050: 3B           	tsc
 18235 04:5051: 18           	clc
 18236 04:5052: 69 10 00     	adc	#L718+8
 18237 04:5055: 1B           	tcs
 18238 04:5056: 6B           	rtl
 18239                        	.endblock	3145
 18240             00000008   L718	equ	8
 18241             00000005   L719	equ	5
 18242 04:5057:              	ends
 18243                        	efunc
 18244                        	.endfunc	3145,5,8
 18245                        	.line	3145
 18246                        	data
 18247                        L703:
 18248 00:0EC6: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$57,$49,$4E,$44,
                    $4F,$57,$20,$54,$49
       00:0ECA: 20 20 57 49 
       00:0ECE: 4E 44 4F 57 
       00:0ED2: 20 54 49 
 18249 00:0ED5: 54 4C 45 3A  	db	$54,$4C,$45,$3A,$00,$20,$20,$20,$20,$20,
                    $20,$57,$49,$4E,$44
       00:0ED9: 00 20 20 20 
  Mon Dec  7 2020 11:19                                                Page 354


       00:0EDD: 20 20 20 57 
       00:0EE1: 49 4E 44 
 18250 00:0EE4: 4F 57 20 43  	db	$4F,$57,$20,$43,$4C,$41,$53,$53,$3A,$00,
                    $20,$20,$20,$20,$20
       00:0EE8: 4C 41 53 53 
       00:0EEC: 3A 00 20 20 
       00:0EF0: 20 20 20 
 18251 00:0EF3: 20 57 49 4E  	db	$20,$57,$49,$4E,$44,$4F,$57,$20,$20,$20,
                    $50,$49,$44,$3A,$00
       00:0EF7: 44 4F 57 20 
       00:0EFB: 20 20 50 49 
       00:0EFF: 44 3A 00 
 18252 00:0F02: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$57,$49,$4E,$44,
                    $4F,$57,$20,$20,$20
       00:0F06: 20 20 57 49 
       00:0F0A: 4E 44 4F 57 
       00:0F0E: 20 20 20 
 18253 00:0F11: 50 54 52 3A  	db	$50,$54,$52,$3A,$00,$20,$20,$20,$20,$20,
                    $20,$57,$49,$4E,$44
       00:0F15: 00 20 20 20 
       00:0F19: 20 20 20 57 
       00:0F1D: 49 4E 44 
 18254 00:0F20: 4F 57 20 20  	db	$4F,$57,$20,$20,$50,$50,$54,$52,$3A,$00,
                    $20,$20,$20,$20,$20
       00:0F24: 50 50 54 52 
       00:0F28: 3A 00 20 20 
       00:0F2C: 20 20 20 
 18255 00:0F2F: 20 57 49 4E  	db	$20,$57,$49,$4E,$44,$4F,$57,$20,$20,$43,
                    $50,$54,$52,$3A,$00
       00:0F33: 44 4F 57 20 
       00:0F37: 20 43 50 54 
       00:0F3B: 52 3A 00 
 18256 00:0F3E: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$57,$49,$4E,$44,
                    $4F,$57,$20,$20,$48
       00:0F42: 20 20 57 49 
       00:0F46: 4E 44 4F 57 
       00:0F4A: 20 20 48 
 18257 00:0F4D: 50 54 52 3A  	db	$50,$54,$52,$3A,$00,$20,$20,$20,$20,$20,
                    $20,$57,$49,$4E,$44
       00:0F51: 00 20 20 20 
       00:0F55: 20 20 20 57 
       00:0F59: 49 4E 44 
 18258 00:0F5C: 4F 57 20 20  	db	$4F,$57,$20,$20,$20,$20,$20,$58,$3A,$00,
                    $20,$20,$20,$20,$20
       00:0F60: 20 20 20 58 
       00:0F64: 3A 00 20 20 
       00:0F68: 20 20 20 
 18259 00:0F6B: 20 57 49 4E  	db	$20,$57,$49,$4E,$44,$4F,$57,$20,$20,$20,
                    $20,$20,$59,$3A,$00
       00:0F6F: 44 4F 57 20 
       00:0F73: 20 20 20 20 
       00:0F77: 59 3A 00 
 18260 00:0F7A: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$57,$49,$4E,$44,
                    $4F,$57,$20,$20,$20
       00:0F7E: 20 20 57 49 
       00:0F82: 4E 44 4F 57 
       00:0F86: 20 20 20 
 18261 00:0F89: 20 20 5A 3A  	db	$20,$20,$5A,$3A,$00
  Mon Dec  7 2020 11:19                                                Page 355


       00:0F8D: 00 
 18262 00:0F8E:              	ends
 18263                        ;
 18264                        ;void debug_clickable_node(LPVOID ctx,LPVOID data)
 18265                        ;{
 18266                        	.line	3147
 18267                        	.line	3148
 18268                        	WINMAN
 18269                        	xdef	~~debug_clickable_node
 18270                        	func
 18271                        	.function	3148
 18272                        ~~debug_clickable_node:
 18273                        	longa	on
 18274                        	longi	on
 18275 04:5057: 3B           	tsc
 18276 04:5058: 38           	sec
 18277 04:5059: E9 0C 00     	sbc	#L724
 18278 04:505C: 1B           	tcs
 18279 04:505D: 0B           	phd
 18280 04:505E: 5B           	tcd
 18281             00000004   ctx_0	set	4
 18282             00000008   data_0	set	8
 18283                        	.block	3148
 18284                        ;	PCLICKDETECTED pclickable = ((PCLICKDETECTED)dat
                    a);
 18285                        ;	if(pclickable)
 18286             00000000   pclickable_1	set	0
 18287                        	.sym	pclickable,0,138,1,32,61
 18288                        	.sym	ctx,4,129,6,32
 18289                        	.sym	data,8,129,6,32
 18290 04:505F: A5 14        	lda	<L724+data_0
 18291 04:5061: 85 05        	sta	<L725+pclickable_1
 18292 04:5063: A5 16        	lda	<L724+data_0+2
 18293 04:5065: 85 07        	sta	<L725+pclickable_1+2
 18294                        	.line	3150
 18295                        ;	{
 18296 04:5067: A5 05        	lda	<L725+pclickable_1
 18297 04:5069: 05 07        	ora	<L725+pclickable_1+2
 18298 04:506B: D0 03        	bne	L727
 18299 04:506D: 82 08 01     	brl	L10273
 18300                        L727:
 18301                        	.line	3151
 18302                        ;		PWINDOW pWin = pclickable->window;
 18303                        ;		if(pWin)
 18304                        	.block	3153
 18305             00000004   pWin_2	set	4
 18306                        	.sym	pWin,4,138,1,32,27
 18307 04:5070: A7 05        	lda	[<L725+pclickable_1]
 18308 04:5072: 85 09        	sta	<L725+pWin_2
 18309 04:5074: A0 02 00     	ldy	#$2
 18310 04:5077: B7 05        	lda	[<L725+pclickable_1],Y
 18311 04:5079: 85 0B        	sta	<L725+pWin_2+2
 18312                        	.line	3153
 18313                        ;		{
 18314 04:507B: A5 09        	lda	<L725+pWin_2
 18315 04:507D: 05 0B        	ora	<L725+pWin_2+2
 18316 04:507F: D0 03        	bne	L729
 18317 04:5081: 82 F4 00     	brl	L10274
  Mon Dec  7 2020 11:19                                                Page 356


 18318                        L729:
 18319                        	.line	3154
 18320                        ;			pWin->win_title[31] = 0;
 18321                        	.line	3155
 18322 04:5084: E2 20        	sep	#$20
 18323                        	longa	off
 18324 04:5086: A9 00        	lda	#$0
 18325 04:5088: A0 F3 00     	ldy	#$f3
 18326 04:508B: 97 09        	sta	[<L725+pWin_2],Y
 18327 04:508D: C2 20        	rep	#$20
 18328                        	longa	on
 18329                        ;			pWin->win_class[15] = 0;
 18330                        	.line	3156
 18331 04:508F: E2 20        	sep	#$20
 18332                        	longa	off
 18333 04:5091: A9 00        	lda	#$0
 18334 04:5093: A0 05 01     	ldy	#$105
 18335 04:5096: 97 09        	sta	[<L725+pWin_2],Y
 18336 04:5098: C2 20        	rep	#$20
 18337                        	longa	on
 18338                        ;			k_debug_strings("      WINDOW TI
                    TLE:",pWin->win_title);
 18339                        	.line	3157
 18340 04:509A: 18           	clc
 18341 04:509B: A9 D4 00     	lda	#$d4
 18342 04:509E: 65 09        	adc	<L725+pWin_2
 18343 04:50A0: 85 01        	sta	<R0
 18344 04:50A2: A9 00 00     	lda	#$0
 18345 04:50A5: 65 0B        	adc	<L725+pWin_2+2
 18346 04:50A7: 85 03        	sta	<R0+2
 18347 04:50A9: D4 03        	pei	<R0+2
 18348 04:50AB: D4 01        	pei	<R0
 18349 04:50AD: F4 xx xx     	pea	#^L723
 18350 04:50B0: F4 xx xx     	pea	#<L723
 18351 04:50B3: 22 xx xx xx  	jsl	~~k_debug_strings
 18352                        ;			k_debug_pointer("      WINDOW CL
                    ASS:",pWin->win_class);
 18353                        	.line	3158
 18354 04:50B7: 18           	clc
 18355 04:50B8: A9 F6 00     	lda	#$f6
 18356 04:50BB: 65 09        	adc	<L725+pWin_2
 18357 04:50BD: 85 01        	sta	<R0
 18358 04:50BF: A9 00 00     	lda	#$0
 18359 04:50C2: 65 0B        	adc	<L725+pWin_2+2
 18360 04:50C4: 85 03        	sta	<R0+2
 18361 04:50C6: D4 03        	pei	<R0+2
 18362 04:50C8: D4 01        	pei	<R0
 18363 04:50CA: F4 xx xx     	pea	#^L723+20
 18364 04:50CD: F4 xx xx     	pea	#<L723+20
 18365 04:50D0: 22 xx xx xx  	jsl	~~k_debug_pointer
 18366                        ;			k_debug_long   ("      WINDOW   
                    PID:",pWin->procid);
 18367                        	.line	3159
 18368 04:50D4: A0 2E 01     	ldy	#$12e
 18369 04:50D7: B7 09        	lda	[<L725+pWin_2],Y
 18370 04:50D9: 48           	pha
 18371 04:50DA: A0 2C 01     	ldy	#$12c
 18372 04:50DD: B7 09        	lda	[<L725+pWin_2],Y
  Mon Dec  7 2020 11:19                                                Page 357


 18373 04:50DF: 48           	pha
 18374 04:50E0: F4 xx xx     	pea	#^L723+40
 18375 04:50E3: F4 xx xx     	pea	#<L723+40
 18376 04:50E6: 22 xx xx xx  	jsl	~~k_debug_long
 18377                        ;			k_debug_pointer("      WINDOW   
                    PTR:",pWin);
 18378                        	.line	3160
 18379 04:50EA: D4 0B        	pei	<L725+pWin_2+2
 18380 04:50EC: D4 09        	pei	<L725+pWin_2
 18381 04:50EE: F4 xx xx     	pea	#^L723+60
 18382 04:50F1: F4 xx xx     	pea	#<L723+60
 18383 04:50F4: 22 xx xx xx  	jsl	~~k_debug_pointer
 18384                        ;			k_debug_pointer("      WINDOW  P
                    PTR:",pWin->pParentWindow);
 18385                        	.line	3161
 18386 04:50F8: A0 36 01     	ldy	#$136
 18387 04:50FB: B7 09        	lda	[<L725+pWin_2],Y
 18388 04:50FD: 48           	pha
 18389 04:50FE: A0 34 01     	ldy	#$134
 18390 04:5101: B7 09        	lda	[<L725+pWin_2],Y
 18391 04:5103: 48           	pha
 18392 04:5104: F4 xx xx     	pea	#^L723+80
 18393 04:5107: F4 xx xx     	pea	#<L723+80
 18394 04:510A: 22 xx xx xx  	jsl	~~k_debug_pointer
 18395                        ;			k_debug_pointer("      WINDOW  C
                    PTR:",pWin->pChildWindows);
 18396                        	.line	3162
 18397 04:510E: A0 3E 01     	ldy	#$13e
 18398 04:5111: B7 09        	lda	[<L725+pWin_2],Y
 18399 04:5113: 48           	pha
 18400 04:5114: A0 3C 01     	ldy	#$13c
 18401 04:5117: B7 09        	lda	[<L725+pWin_2],Y
 18402 04:5119: 48           	pha
 18403 04:511A: F4 xx xx     	pea	#^L723+100
 18404 04:511D: F4 xx xx     	pea	#<L723+100
 18405 04:5120: 22 xx xx xx  	jsl	~~k_debug_pointer
 18406                        ;			k_debug_pointer("      WINDOW  H
                    PTR:",pWin->pChildHitList);
 18407                        	.line	3163
 18408 04:5124: A0 42 01     	ldy	#$142
 18409 04:5127: B7 09        	lda	[<L725+pWin_2],Y
 18410 04:5129: 48           	pha
 18411 04:512A: A0 40 01     	ldy	#$140
 18412 04:512D: B7 09        	lda	[<L725+pWin_2],Y
 18413 04:512F: 48           	pha
 18414 04:5130: F4 xx xx     	pea	#^L723+120
 18415 04:5133: F4 xx xx     	pea	#<L723+120
 18416 04:5136: 22 xx xx xx  	jsl	~~k_debug_pointer
 18417                        ;			k_debug_integer("      WINDOW   
                      X:",pWin->win_x);
 18418                        	.line	3164
 18419 04:513A: A0 08 00     	ldy	#$8
 18420 04:513D: B7 09        	lda	[<L725+pWin_2],Y
 18421 04:513F: 48           	pha
 18422 04:5140: F4 xx xx     	pea	#^L723+140
 18423 04:5143: F4 xx xx     	pea	#<L723+140
 18424 04:5146: 22 xx xx xx  	jsl	~~k_debug_integer
 18425                        ;			k_debug_integer("      WINDOW   
  Mon Dec  7 2020 11:19                                                Page 358


                      Y:",pWin->win_y);
 18426                        	.line	3165
 18427 04:514A: A0 0A 00     	ldy	#$a
 18428 04:514D: B7 09        	lda	[<L725+pWin_2],Y
 18429 04:514F: 48           	pha
 18430 04:5150: F4 xx xx     	pea	#^L723+160
 18431 04:5153: F4 xx xx     	pea	#<L723+160
 18432 04:5156: 22 xx xx xx  	jsl	~~k_debug_integer
 18433                        ;			k_debug_integer("      WINDOW   
                      Z:",((PCLICKABLE)pWin->clickable)->z);
 18434                        	.line	3166
 18435 04:515A: A0 D0 00     	ldy	#$d0
 18436 04:515D: B7 09        	lda	[<L725+pWin_2],Y
 18437 04:515F: 85 01        	sta	<R0
 18438 04:5161: A0 D2 00     	ldy	#$d2
 18439 04:5164: B7 09        	lda	[<L725+pWin_2],Y
 18440 04:5166: 85 03        	sta	<R0+2
 18441 04:5168: A0 08 00     	ldy	#$8
 18442 04:516B: B7 01        	lda	[<R0],Y
 18443 04:516D: 48           	pha
 18444 04:516E: F4 xx xx     	pea	#^L723+180
 18445 04:5171: F4 xx xx     	pea	#<L723+180
 18446 04:5174: 22 xx xx xx  	jsl	~~k_debug_integer
 18447                        ;		}
 18448                        	.line	3167
 18449                        ;	}
 18450                        L10274:
 18451                        	.endblock	3168
 18452                        	.line	3168
 18453                        ;}
 18454                        L10273:
 18455                        	.line	3169
 18456                        L730:
 18457 04:5178: A5 0E        	lda	<L724+2
 18458 04:517A: 85 16        	sta	<L724+2+8
 18459 04:517C: A5 0D        	lda	<L724+1
 18460 04:517E: 85 15        	sta	<L724+1+8
 18461 04:5180: 2B           	pld
 18462 04:5181: 3B           	tsc
 18463 04:5182: 18           	clc
 18464 04:5183: 69 14 00     	adc	#L724+8
 18465 04:5186: 1B           	tcs
 18466 04:5187: 6B           	rtl
 18467                        	.endblock	3169
 18468             0000000C   L724	equ	12
 18469             00000005   L725	equ	5
 18470 04:5188:              	ends
 18471                        	efunc
 18472                        	.endfunc	3169,5,12
 18473                        	.line	3169
 18474                        	data
 18475                        L723:
 18476 00:0F8E: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$57,$49,$4E,$44,
                    $4F,$57,$20,$54,$49
       00:0F92: 20 20 57 49 
       00:0F96: 4E 44 4F 57 
       00:0F9A: 20 54 49 
 18477 00:0F9D: 54 4C 45 3A  	db	$54,$4C,$45,$3A,$00,$20,$20,$20,$20,$20,
  Mon Dec  7 2020 11:19                                                Page 359


                    $20,$57,$49,$4E,$44
       00:0FA1: 00 20 20 20 
       00:0FA5: 20 20 20 57 
       00:0FA9: 49 4E 44 
 18478 00:0FAC: 4F 57 20 43  	db	$4F,$57,$20,$43,$4C,$41,$53,$53,$3A,$00,
                    $20,$20,$20,$20,$20
       00:0FB0: 4C 41 53 53 
       00:0FB4: 3A 00 20 20 
       00:0FB8: 20 20 20 
 18479 00:0FBB: 20 57 49 4E  	db	$20,$57,$49,$4E,$44,$4F,$57,$20,$20,$20,
                    $50,$49,$44,$3A,$00
       00:0FBF: 44 4F 57 20 
       00:0FC3: 20 20 50 49 
       00:0FC7: 44 3A 00 
 18480 00:0FCA: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$57,$49,$4E,$44,
                    $4F,$57,$20,$20,$20
       00:0FCE: 20 20 57 49 
       00:0FD2: 4E 44 4F 57 
       00:0FD6: 20 20 20 
 18481 00:0FD9: 50 54 52 3A  	db	$50,$54,$52,$3A,$00,$20,$20,$20,$20,$20,
                    $20,$57,$49,$4E,$44
       00:0FDD: 00 20 20 20 
       00:0FE1: 20 20 20 57 
       00:0FE5: 49 4E 44 
 18482 00:0FE8: 4F 57 20 20  	db	$4F,$57,$20,$20,$50,$50,$54,$52,$3A,$00,
                    $20,$20,$20,$20,$20
       00:0FEC: 50 50 54 52 
       00:0FF0: 3A 00 20 20 
       00:0FF4: 20 20 20 
 18483 00:0FF7: 20 57 49 4E  	db	$20,$57,$49,$4E,$44,$4F,$57,$20,$20,$43,
                    $50,$54,$52,$3A,$00
       00:0FFB: 44 4F 57 20 
       00:0FFF: 20 43 50 54 
       00:1003: 52 3A 00 
 18484 00:1006: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$57,$49,$4E,$44,
                    $4F,$57,$20,$20,$48
       00:100A: 20 20 57 49 
       00:100E: 4E 44 4F 57 
       00:1012: 20 20 48 
 18485 00:1015: 50 54 52 3A  	db	$50,$54,$52,$3A,$00,$20,$20,$20,$20,$20,
                    $20,$57,$49,$4E,$44
       00:1019: 00 20 20 20 
       00:101D: 20 20 20 57 
       00:1021: 49 4E 44 
 18486 00:1024: 4F 57 20 20  	db	$4F,$57,$20,$20,$20,$20,$20,$58,$3A,$00,
                    $20,$20,$20,$20,$20
       00:1028: 20 20 20 58 
       00:102C: 3A 00 20 20 
       00:1030: 20 20 20 
 18487 00:1033: 20 57 49 4E  	db	$20,$57,$49,$4E,$44,$4F,$57,$20,$20,$20,
                    $20,$20,$59,$3A,$00
       00:1037: 44 4F 57 20 
       00:103B: 20 20 20 20 
       00:103F: 59 3A 00 
 18488 00:1042: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$57,$49,$4E,$44,
                    $4F,$57,$20,$20,$20
       00:1046: 20 20 57 49 
       00:104A: 4E 44 4F 57 
  Mon Dec  7 2020 11:19                                                Page 360


       00:104E: 20 20 20 
 18489 00:1051: 20 20 5A 3A  	db	$20,$20,$5A,$3A,$00
       00:1055: 00 
 18490 00:1056:              	ends
 18491                        ;
 18492                        ;BOOL DefWindowProc(PFXOSMESSAGE pMsg)
 18493                        ;{
 18494                        	.line	3171
 18495                        	.line	3172
 18496                        	WINMAN
 18497                        	xdef	~~DefWindowProc
 18498                        	func
 18499                        	.function	3172
 18500                        ~~DefWindowProc:
 18501                        	longa	on
 18502                        	longi	on
 18503 04:5188: 3B           	tsc
 18504 04:5189: 38           	sec
 18505 04:518A: E9 3B 00     	sbc	#L732
 18506 04:518D: 1B           	tcs
 18507 04:518E: 0B           	phd
 18508 04:518F: 5B           	tcd
 18509             00000004   pMsg_0	set	4
 18510                        	.block	3172
 18511                        ;	PFXPROCESS p = NULL;
 18512                        ;	PWINDOW	   pWin = NULL;
 18513                        ;	PPOINT 	   ppoint = NULL;
 18514                        ;	RECT 	   clientRect;
 18515                        ;	INT 	   cx,cy,dx,dy,bx,by,gx,gy,index;
 18516                        ;	PFXNODE	   pNode = NULL;
 18517                        ;	PDRAGDATA  defPrcData = NULL;
 18518                        ;
 18519                        ;	BOOL bRet = TRUE;
 18520                        ;
 18521                        ;	if(pMsg)
 18522             00000000   p_1	set	0
 18523             00000004   pWin_1	set	4
 18524             00000008   ppoint_1	set	8
 18525             0000000C   clientRect_1	set	12
 18526             00000014   cx_1	set	20
 18527             00000016   cy_1	set	22
 18528             00000018   dx_1	set	24
 18529             0000001A   dy_1	set	26
 18530             0000001C   bx_1	set	28
 18531             0000001E   by_1	set	30
 18532             00000020   gx_1	set	32
 18533             00000022   gy_1	set	34
 18534             00000024   index_1	set	36
 18535             00000026   pNode_1	set	38
 18536             0000002A   defPrcData_1	set	42
 18537             0000002E   bRet_1	set	46
 18538                        	.sym	p,0,138,1,32,17
 18539                        	.sym	pWin,4,138,1,32,27
 18540                        	.sym	ppoint,8,138,1,32,21
 18541                        	.sym	clientRect,12,10,1,64,22
 18542                        	.sym	cx,20,5,1,16
 18543                        	.sym	cy,22,5,1,16
 18544                        	.sym	dx,24,5,1,16
  Mon Dec  7 2020 11:19                                                Page 361


 18545                        	.sym	dy,26,5,1,16
 18546                        	.sym	bx,28,5,1,16
 18547                        	.sym	by,30,5,1,16
 18548                        	.sym	gx,32,5,1,16
 18549                        	.sym	gy,34,5,1,16
 18550                        	.sym	index,36,5,1,16
 18551                        	.sym	pNode,38,138,1,32,2
 18552                        	.sym	defPrcData,42,138,1,32,26
 18553                        	.sym	bRet,46,14,1,8
 18554                        	.sym	pMsg,4,138,6,32,13
 18555 04:5190: 64 0D        	stz	<L733+p_1
 18556 04:5192: 64 0F        	stz	<L733+p_1+2
 18557 04:5194: 64 11        	stz	<L733+pWin_1
 18558 04:5196: 64 13        	stz	<L733+pWin_1+2
 18559 04:5198: 64 15        	stz	<L733+ppoint_1
 18560 04:519A: 64 17        	stz	<L733+ppoint_1+2
 18561 04:519C: 64 33        	stz	<L733+pNode_1
 18562 04:519E: 64 35        	stz	<L733+pNode_1+2
 18563 04:51A0: 64 37        	stz	<L733+defPrcData_1
 18564 04:51A2: 64 39        	stz	<L733+defPrcData_1+2
 18565 04:51A4: E2 20        	sep	#$20
 18566                        	longa	off
 18567 04:51A6: A9 01        	lda	#$1
 18568 04:51A8: 85 3B        	sta	<L733+bRet_1
 18569 04:51AA: C2 20        	rep	#$20
 18570                        	longa	on
 18571                        	.line	3183
 18572                        ;	{
 18573 04:51AC: A5 3F        	lda	<L732+pMsg_0
 18574 04:51AE: 05 41        	ora	<L732+pMsg_0+2
 18575 04:51B0: D0 03        	bne	L735
 18576 04:51B2: 82 FC 0A     	brl	L10275
 18577                        L735:
 18578                        	.line	3184
 18579                        ;		pWin = k_getWindowFromHandle(pMsg->hwnd)
                    ;
 18580                        	.line	3185
 18581 04:51B5: A0 0C 00     	ldy	#$c
 18582 04:51B8: B7 3F        	lda	[<L732+pMsg_0],Y
 18583 04:51BA: 48           	pha
 18584 04:51BB: A0 0A 00     	ldy	#$a
 18585 04:51BE: B7 3F        	lda	[<L732+pMsg_0],Y
 18586 04:51C0: 48           	pha
 18587 04:51C1: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
 18588 04:51C5: 85 11        	sta	<L733+pWin_1
 18589 04:51C7: 86 13        	stx	<L733+pWin_1+2
 18590                        ;
 18591                        ;		defPrcData = (PDRAGDATA)k_user_GetWindow
                    Data(pMsg->hwnd,CLIENTDATA_DEFAULT);
 18592                        	.line	3187
 18593 04:51C9: F4 00 00     	pea	#<$0
 18594 04:51CC: A0 0C 00     	ldy	#$c
 18595 04:51CF: B7 3F        	lda	[<L732+pMsg_0],Y
 18596 04:51D1: 48           	pha
 18597 04:51D2: A0 0A 00     	ldy	#$a
 18598 04:51D5: B7 3F        	lda	[<L732+pMsg_0],Y
 18599 04:51D7: 48           	pha
 18600 04:51D8: 22 B1 1D 04  	jsl	~~k_user_GetWindowData
  Mon Dec  7 2020 11:19                                                Page 362


 18601 04:51DC: 85 37        	sta	<L733+defPrcData_1
 18602 04:51DE: 86 39        	stx	<L733+defPrcData_1+2
 18603                        ;		if(defPrcData == NULL)
 18604                        	.line	3188
 18605                        ;		{
 18606 04:51E0: A5 37        	lda	<L733+defPrcData_1
 18607 04:51E2: 05 39        	ora	<L733+defPrcData_1+2
 18608 04:51E4: F0 03        	beq	L736
 18609 04:51E6: 82 46 00     	brl	L10276
 18610                        L736:
 18611                        	.line	3189
 18612                        ;			k_debug_pointer("DefWndProc::def
                    PrcData[create]:pMsg->hwnd:",pMsg->hwnd);
 18613                        	.line	3190
 18614 04:51E9: A0 0C 00     	ldy	#$c
 18615 04:51EC: B7 3F        	lda	[<L732+pMsg_0],Y
 18616 04:51EE: 48           	pha
 18617 04:51EF: A0 0A 00     	ldy	#$a
 18618 04:51F2: B7 3F        	lda	[<L732+pMsg_0],Y
 18619 04:51F4: 48           	pha
 18620 04:51F5: F4 xx xx     	pea	#^L731
 18621 04:51F8: F4 xx xx     	pea	#<L731
 18622 04:51FB: 22 xx xx xx  	jsl	~~k_debug_pointer
 18623                        ;			defPrcData = (PDRAGDATA)k_mem_al
                    locate_heap(sizeof(DRAGDATA));
 18624                        	.line	3191
 18625 04:51FF: F4 14 00     	pea	#<$14
 18626 04:5202: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 18627 04:5206: 85 37        	sta	<L733+defPrcData_1
 18628 04:5208: 86 39        	stx	<L733+defPrcData_1+2
 18629                        ;			k_user_SetWindowData(pMsg->hwnd,
                    CLIENTDATA_DEFAULT,(LPVOID)defPrcData);
 18630                        	.line	3192
 18631 04:520A: D4 39        	pei	<L733+defPrcData_1+2
 18632 04:520C: D4 37        	pei	<L733+defPrcData_1
 18633 04:520E: F4 00 00     	pea	#<$0
 18634 04:5211: A0 0C 00     	ldy	#$c
 18635 04:5214: B7 3F        	lda	[<L732+pMsg_0],Y
 18636 04:5216: 48           	pha
 18637 04:5217: A0 0A 00     	ldy	#$a
 18638 04:521A: B7 3F        	lda	[<L732+pMsg_0],Y
 18639 04:521C: 48           	pha
 18640 04:521D: 22 1C 1D 04  	jsl	~~k_user_SetWindowData
 18641                        ;			memset(defPrcData,0,sizeof(DRAGD
                    ATA));
 18642                        	.line	3193
 18643 04:5221: F4 14 00     	pea	#<$14
 18644 04:5224: F4 00 00     	pea	#<$0
 18645 04:5227: D4 39        	pei	<L733+defPrcData_1+2
 18646 04:5229: D4 37        	pei	<L733+defPrcData_1
 18647 04:522B: 22 xx xx xx  	jsl	~~memset
 18648                        ;		}
 18649                        	.line	3194
 18650                        ;
 18651                        ;		//k_debug_pointer("DefWndProc::defPrcDat
                    a:",defPrcData);
 18652                        ;
 18653                        ;		//k_debug_integer(" *** DefWndProc::Type
  Mon Dec  7 2020 11:19                                                Page 363


                    :",pMsg->type);
 18654                        ;		if(pMsg!=NULL)
 18655                        L10276:
 18656                        	.line	3199
 18657                        ;		{
 18658 04:522F: A5 3F        	lda	<L732+pMsg_0
 18659 04:5231: 05 41        	ora	<L732+pMsg_0+2
 18660 04:5233: D0 03        	bne	L737
 18661 04:5235: 82 79 0A     	brl	L10277
 18662                        L737:
 18663                        	.line	3200
 18664                        ;			p = k_exec_get_current_process()
                    ;
 18665                        	.line	3201
 18666 04:5238: 22 xx xx xx  	jsl	~~k_exec_get_current_process
 18667 04:523C: 85 0D        	sta	<L733+p_1
 18668 04:523E: 86 0F        	stx	<L733+p_1+2
 18669                        ;			switch(pMsg->type)
 18670                        	.line	3202
 18671 04:5240: A0 08 00     	ldy	#$8
 18672 04:5243: B7 3F        	lda	[<L732+pMsg_0],Y
 18673 04:5245: 82 1D 0A     	brl	L10278
 18674                        ;			{
 18675                        	.line	3203
 18676                        ;			case FX_FOCUS_WINDOW:
 18677                        	.line	3204
 18678                        L10280:
 18679                        ;				k_debug_strings("DefWind
                    owProc::FX_FOCUS_WINDOW:",pWin->win_title);
 18680                        	.line	3205
 18681 04:5248: 18           	clc
 18682 04:5249: A9 D4 00     	lda	#$d4
 18683 04:524C: 65 11        	adc	<L733+pWin_1
 18684 04:524E: 85 01        	sta	<R0
 18685 04:5250: A9 00 00     	lda	#$0
 18686 04:5253: 65 13        	adc	<L733+pWin_1+2
 18687 04:5255: 85 03        	sta	<R0+2
 18688 04:5257: D4 03        	pei	<R0+2
 18689 04:5259: D4 01        	pei	<R0
 18690 04:525B: F4 xx xx     	pea	#^L731+43
 18691 04:525E: F4 xx xx     	pea	#<L731+43
 18692 04:5261: 22 xx xx xx  	jsl	~~k_debug_strings
 18693                        ;
 18694                        ;					k_vdraw_ui_windo
                    w(pWin,
 18695                        	.line	3207
 18696                        ;							
                    		  pWin->style,
 18697                        ;							
                    		  pWin->win_x,
 18698                        ;							
                    		  pWin->win_y,
 18699                        ;							
                    		  pWin->win_height,
 18700                        ;							
                    		  pWin->win_width,
 18701                        ;							
                    		  pWin->win_title,
  Mon Dec  7 2020 11:19                                                Page 364


 18702                        ;							
                    		  k_getUIMenuColor(),
 18703                        ;							
                    		  k_getUIBackgroundColor());
 18704 04:5265: 22 xx xx xx  	jsl	~~k_getUIBackgroundColor
 18705 04:5269: 48           	pha
 18706 04:526A: 22 xx xx xx  	jsl	~~k_getUIMenuColor
 18707 04:526E: 48           	pha
 18708 04:526F: 18           	clc
 18709 04:5270: A9 D4 00     	lda	#$d4
 18710 04:5273: 65 11        	adc	<L733+pWin_1
 18711 04:5275: 85 01        	sta	<R0
 18712 04:5277: A9 00 00     	lda	#$0
 18713 04:527A: 65 13        	adc	<L733+pWin_1+2
 18714 04:527C: 85 03        	sta	<R0+2
 18715 04:527E: D4 03        	pei	<R0+2
 18716 04:5280: D4 01        	pei	<R0
 18717 04:5282: A0 0C 00     	ldy	#$c
 18718 04:5285: B7 11        	lda	[<L733+pWin_1],Y
 18719 04:5287: 48           	pha
 18720 04:5288: A0 0E 00     	ldy	#$e
 18721 04:528B: B7 11        	lda	[<L733+pWin_1],Y
 18722 04:528D: 48           	pha
 18723 04:528E: A0 0A 00     	ldy	#$a
 18724 04:5291: B7 11        	lda	[<L733+pWin_1],Y
 18725 04:5293: 48           	pha
 18726 04:5294: A0 08 00     	ldy	#$8
 18727 04:5297: B7 11        	lda	[<L733+pWin_1],Y
 18728 04:5299: 48           	pha
 18729 04:529A: A0 04 00     	ldy	#$4
 18730 04:529D: B7 11        	lda	[<L733+pWin_1],Y
 18731 04:529F: 48           	pha
 18732 04:52A0: A0 02 00     	ldy	#$2
 18733 04:52A3: B7 11        	lda	[<L733+pWin_1],Y
 18734 04:52A5: 48           	pha
 18735 04:52A6: D4 13        	pei	<L733+pWin_1+2
 18736 04:52A8: D4 11        	pei	<L733+pWin_1
 18737 04:52AA: 22 xx xx xx  	jsl	~~k_vdraw_ui_window
 18738                        ;
 18739                        ;					pNode = k_nodeli
                    st_remove_obj(k_nodelist_getfirstnode(_k_windowManager_Windo
                    wRedrawList),(ULONG)pWin);
 18740                        	.line	3217
 18741 04:52AE: D4 13        	pei	<L733+pWin_1+2
 18742 04:52B0: D4 11        	pei	<L733+pWin_1
 18743 04:52B2: AD xx xx     	lda	|~~_k_windowManager_WindowRedrawList+2
 18744 04:52B5: 48           	pha
 18745 04:52B6: AD xx xx     	lda	|~~_k_windowManager_WindowRedrawList
 18746 04:52B9: 48           	pha
 18747 04:52BA: 22 xx xx xx  	jsl	~~k_nodelist_getfirstnode
 18748 04:52BE: 85 01        	sta	<R0
 18749 04:52C0: 86 03        	stx	<R0+2
 18750 04:52C2: DA           	phx
 18751 04:52C3: 48           	pha
 18752 04:52C4: 22 xx xx xx  	jsl	~~k_nodelist_remove_obj
 18753 04:52C8: 85 33        	sta	<L733+pNode_1
 18754 04:52CA: 86 35        	stx	<L733+pNode_1+2
 18755                        ;					if(pNode)
  Mon Dec  7 2020 11:19                                                Page 365


 18756                        	.line	3218
 18757                        ;					{
 18758 04:52CC: A5 33        	lda	<L733+pNode_1
 18759 04:52CE: 05 35        	ora	<L733+pNode_1+2
 18760 04:52D0: D0 03        	bne	L738
 18761 04:52D2: 82 19 00     	brl	L10281
 18762                        L738:
 18763                        	.line	3219
 18764                        ;						k_debug_
                    pointer("DefWindowProc::FX_FOCUS_WINDOW:k_nodelist_remove_ob
                    j:",pNode->data);
 18765                        	.line	3220
 18766 04:52D5: A0 04 00     	ldy	#$4
 18767 04:52D8: B7 33        	lda	[<L733+pNode_1],Y
 18768 04:52DA: 48           	pha
 18769 04:52DB: A0 02 00     	ldy	#$2
 18770 04:52DE: B7 33        	lda	[<L733+pNode_1],Y
 18771 04:52E0: 48           	pha
 18772 04:52E1: F4 xx xx     	pea	#^L731+75
 18773 04:52E4: F4 xx xx     	pea	#<L731+75
 18774 04:52E7: 22 xx xx xx  	jsl	~~k_debug_pointer
 18775                        ;					}
 18776                        	.line	3221
 18777                        ;					else
 18778 04:52EB: 82 10 00     	brl	L10282
 18779                        L10281:
 18780                        ;					{
 18781                        	.line	3223
 18782                        ;						k_debug_
                    strings("DefWindowProc::FX_FOCUS_WINDOW:k_nodelist_remove_ob
                    j:","NO CURRENT NODE");
 18783                        	.line	3224
 18784 04:52EE: F4 xx xx     	pea	#^L731+183
 18785 04:52F1: F4 xx xx     	pea	#<L731+183
 18786 04:52F4: F4 xx xx     	pea	#^L731+129
 18787 04:52F7: F4 xx xx     	pea	#<L731+129
 18788 04:52FA: 22 xx xx xx  	jsl	~~k_debug_strings
 18789                        ;					}
 18790                        	.line	3225
 18791                        L10282:
 18792                        ;					k_nodelist_naddt
                    olist(_k_windowManager_WindowRedrawList,NL_TYPE_WINDOW_OBJ,(
                    ULONG)pWin,pWin);
 18793                        	.line	3226
 18794 04:52FE: D4 13        	pei	<L733+pWin_1+2
 18795 04:5300: D4 11        	pei	<L733+pWin_1
 18796 04:5302: D4 13        	pei	<L733+pWin_1+2
 18797 04:5304: D4 11        	pei	<L733+pWin_1
 18798 04:5306: F4 02 00     	pea	#<$2
 18799 04:5309: AD xx xx     	lda	|~~_k_windowManager_WindowRedrawList+2
 18800 04:530C: 48           	pha
 18801 04:530D: AD xx xx     	lda	|~~_k_windowManager_WindowRedrawList
 18802 04:5310: 48           	pha
 18803 04:5311: 22 xx xx xx  	jsl	~~k_nodelist_naddtolist
 18804                        ;					k_debug_pointer(
                    "DefWindowProc::FX_FOCUS_WINDOW:k_nodelist_naddtolist:",pWin
                    );
 18805                        	.line	3227
  Mon Dec  7 2020 11:19                                                Page 366


 18806 04:5315: D4 13        	pei	<L733+pWin_1+2
 18807 04:5317: D4 11        	pei	<L733+pWin_1
 18808 04:5319: F4 xx xx     	pea	#^L731+199
 18809 04:531C: F4 xx xx     	pea	#<L731+199
 18810 04:531F: 22 xx xx xx  	jsl	~~k_debug_pointer
 18811                        ;					//k_switch_windo
                    w_page(pMsg->hwnd,BITMAP_FRONT,BITMAP_BACK,FALSE);
 18812                        ;					k_debug_nodelist
                    _with_data( k_nodelist_getfirstnode(_k_windowManager_WindowR
                    edrawList), debug_window_node );
 18813                        	.line	3229
 18814 04:5323: F4 04 00     	pea	#^~~debug_window_node
 18815 04:5326: F4 3A 4F     	pea	#<~~debug_window_node
 18816 04:5329: AD xx xx     	lda	|~~_k_windowManager_WindowRedrawList+2
 18817 04:532C: 48           	pha
 18818 04:532D: AD xx xx     	lda	|~~_k_windowManager_WindowRedrawList
 18819 04:5330: 48           	pha
 18820 04:5331: 22 xx xx xx  	jsl	~~k_nodelist_getfirstnode
 18821 04:5335: 85 01        	sta	<R0
 18822 04:5337: 86 03        	stx	<R0+2
 18823 04:5339: DA           	phx
 18824 04:533A: 48           	pha
 18825 04:533B: 22 xx xx xx  	jsl	~~k_debug_nodelist_with_data
 18826                        ;				break;
 18827                        	.line	3230
 18828 04:533F: 82 6F 09     	brl	L10279
 18829                        ;			case FX_NC_FOCUS_LOST:
 18830                        	.line	3231
 18831                        L10283:
 18832                        ;				k_debug_strings("DefWind
                    owProc::FX_NC_FOCUS_LOST:",pWin->win_title);
 18833                        	.line	3232
 18834 04:5342: 18           	clc
 18835 04:5343: A9 D4 00     	lda	#$d4
 18836 04:5346: 65 11        	adc	<L733+pWin_1
 18837 04:5348: 85 01        	sta	<R0
 18838 04:534A: A9 00 00     	lda	#$0
 18839 04:534D: 65 13        	adc	<L733+pWin_1+2
 18840 04:534F: 85 03        	sta	<R0+2
 18841 04:5351: D4 03        	pei	<R0+2
 18842 04:5353: D4 01        	pei	<R0
 18843 04:5355: F4 xx xx     	pea	#^L731+253
 18844 04:5358: F4 xx xx     	pea	#<L731+253
 18845 04:535B: 22 xx xx xx  	jsl	~~k_debug_strings
 18846                        ;
 18847                        ;				//k_switch_window_page(p
                    Msg->hwnd,BITMAP_BACK,BITMAP_FRONT,TRUE);
 18848                        ;
 18849                        ;				break;
 18850                        	.line	3236
 18851 04:535F: 82 4F 09     	brl	L10279
 18852                        ;			case FX_FOCUS_LOST:
 18853                        	.line	3237
 18854                        L10284:
 18855                        ;				k_debug_strings("DefWind
                    owProc::FX_FOCUS_LOST:",pWin->win_title);
 18856                        	.line	3238
 18857 04:5362: 18           	clc
  Mon Dec  7 2020 11:19                                                Page 367


 18858 04:5363: A9 D4 00     	lda	#$d4
 18859 04:5366: 65 11        	adc	<L733+pWin_1
 18860 04:5368: 85 01        	sta	<R0
 18861 04:536A: A9 00 00     	lda	#$0
 18862 04:536D: 65 13        	adc	<L733+pWin_1+2
 18863 04:536F: 85 03        	sta	<R0+2
 18864 04:5371: D4 03        	pei	<R0+2
 18865 04:5373: D4 01        	pei	<R0
 18866 04:5375: F4 xx xx     	pea	#^L731+286
 18867 04:5378: F4 xx xx     	pea	#<L731+286
 18868 04:537B: 22 xx xx xx  	jsl	~~k_debug_strings
 18869                        ;
 18870                        ;				//k_switch_window_page(p
                    Msg->hwnd,BITMAP_BACK,BITMAP_FRONT,TRUE);
 18871                        ;
 18872                        ;				break;
 18873                        	.line	3242
 18874 04:537F: 82 2F 09     	brl	L10279
 18875                        ;			case FX_RESIZE_WINDOW_START:
 18876                        	.line	3243
 18877                        L10285:
 18878                        ;				k_debug_strings("DefWind
                    owProc::FX_RESIZE_WINDOW_START:",pWin->win_title);
 18879                        	.line	3244
 18880 04:5382: 18           	clc
 18881 04:5383: A9 D4 00     	lda	#$d4
 18882 04:5386: 65 11        	adc	<L733+pWin_1
 18883 04:5388: 85 01        	sta	<R0
 18884 04:538A: A9 00 00     	lda	#$0
 18885 04:538D: 65 13        	adc	<L733+pWin_1+2
 18886 04:538F: 85 03        	sta	<R0+2
 18887 04:5391: D4 03        	pei	<R0+2
 18888 04:5393: D4 01        	pei	<R0
 18889 04:5395: F4 xx xx     	pea	#^L731+316
 18890 04:5398: F4 xx xx     	pea	#<L731+316
 18891 04:539B: 22 xx xx xx  	jsl	~~k_debug_strings
 18892                        ;				k_user_StartWindowForRes
                    ize(pMsg->hwnd,defPrcData->area.width,defPrcData->area.heigh
                    t);
 18893                        	.line	3245
 18894 04:539F: A0 06 00     	ldy	#$6
 18895 04:53A2: B7 37        	lda	[<L733+defPrcData_1],Y
 18896 04:53A4: 48           	pha
 18897 04:53A5: A0 04 00     	ldy	#$4
 18898 04:53A8: B7 37        	lda	[<L733+defPrcData_1],Y
 18899 04:53AA: 48           	pha
 18900 04:53AB: A0 0C 00     	ldy	#$c
 18901 04:53AE: B7 3F        	lda	[<L732+pMsg_0],Y
 18902 04:53B0: 48           	pha
 18903 04:53B1: A0 0A 00     	ldy	#$a
 18904 04:53B4: B7 3F        	lda	[<L732+pMsg_0],Y
 18905 04:53B6: 48           	pha
 18906 04:53B7: 22 93 5E 04  	jsl	~~k_user_StartWindowForResize
 18907                        ;				break;
 18908                        	.line	3246
 18909 04:53BB: 82 F3 08     	brl	L10279
 18910                        ;			case FX_RESIZE_WINDOW_END:
 18911                        	.line	3247
  Mon Dec  7 2020 11:19                                                Page 368


 18912                        L10286:
 18913                        ;				k_debug_strings("DefWind
                    owProc::FX_RESIZE_WINDOW_END:",pWin->win_title);
 18914                        	.line	3248
 18915 04:53BE: 18           	clc
 18916 04:53BF: A9 D4 00     	lda	#$d4
 18917 04:53C2: 65 11        	adc	<L733+pWin_1
 18918 04:53C4: 85 01        	sta	<R0
 18919 04:53C6: A9 00 00     	lda	#$0
 18920 04:53C9: 65 13        	adc	<L733+pWin_1+2
 18921 04:53CB: 85 03        	sta	<R0+2
 18922 04:53CD: D4 03        	pei	<R0+2
 18923 04:53CF: D4 01        	pei	<R0
 18924 04:53D1: F4 xx xx     	pea	#^L731+355
 18925 04:53D4: F4 xx xx     	pea	#<L731+355
 18926 04:53D7: 22 xx xx xx  	jsl	~~k_debug_strings
 18927                        ;				k_user_EndWindowForResiz
                    e(pMsg->hwnd,defPrcData->area.width,defPrcData->area.height)
                    ;
 18928                        	.line	3249
 18929 04:53DB: A0 06 00     	ldy	#$6
 18930 04:53DE: B7 37        	lda	[<L733+defPrcData_1],Y
 18931 04:53E0: 48           	pha
 18932 04:53E1: A0 04 00     	ldy	#$4
 18933 04:53E4: B7 37        	lda	[<L733+defPrcData_1],Y
 18934 04:53E6: 48           	pha
 18935 04:53E7: A0 0C 00     	ldy	#$c
 18936 04:53EA: B7 3F        	lda	[<L732+pMsg_0],Y
 18937 04:53EC: 48           	pha
 18938 04:53ED: A0 0A 00     	ldy	#$a
 18939 04:53F0: B7 3F        	lda	[<L732+pMsg_0],Y
 18940 04:53F2: 48           	pha
 18941 04:53F3: 22 74 5F 04  	jsl	~~k_user_EndWindowForResize
 18942                        ;				break;
 18943                        	.line	3250
 18944 04:53F7: 82 B7 08     	brl	L10279
 18945                        ;			case FX_DRAG_WINDOW_START:
 18946                        	.line	3251
 18947                        L10287:
 18948                        ;				k_debug_strings("DefWind
                    owProc::FX_DRAG_WINDOW_START:",pWin->win_title);
 18949                        	.line	3252
 18950 04:53FA: 18           	clc
 18951 04:53FB: A9 D4 00     	lda	#$d4
 18952 04:53FE: 65 11        	adc	<L733+pWin_1
 18953 04:5400: 85 01        	sta	<R0
 18954 04:5402: A9 00 00     	lda	#$0
 18955 04:5405: 65 13        	adc	<L733+pWin_1+2
 18956 04:5407: 85 03        	sta	<R0+2
 18957 04:5409: D4 03        	pei	<R0+2
 18958 04:540B: D4 01        	pei	<R0
 18959 04:540D: F4 xx xx     	pea	#^L731+392
 18960 04:5410: F4 xx xx     	pea	#<L731+392
 18961 04:5413: 22 xx xx xx  	jsl	~~k_debug_strings
 18962                        ;				k_user_StartWindowForDra
                    g(pMsg->hwnd,defPrcData->area.width,defPrcData->area.height)
                    ;
 18963                        	.line	3253
  Mon Dec  7 2020 11:19                                                Page 369


 18964 04:5417: A0 06 00     	ldy	#$6
 18965 04:541A: B7 37        	lda	[<L733+defPrcData_1],Y
 18966 04:541C: 48           	pha
 18967 04:541D: A0 04 00     	ldy	#$4
 18968 04:5420: B7 37        	lda	[<L733+defPrcData_1],Y
 18969 04:5422: 48           	pha
 18970 04:5423: A0 0C 00     	ldy	#$c
 18971 04:5426: B7 3F        	lda	[<L732+pMsg_0],Y
 18972 04:5428: 48           	pha
 18973 04:5429: A0 0A 00     	ldy	#$a
 18974 04:542C: B7 3F        	lda	[<L732+pMsg_0],Y
 18975 04:542E: 48           	pha
 18976 04:542F: 22 89 5D 04  	jsl	~~k_user_StartWindowForDrag
 18977                        ;				break;
 18978                        	.line	3254
 18979 04:5433: 82 7B 08     	brl	L10279
 18980                        ;			case FX_DRAG_WINDOW_END:
 18981                        	.line	3255
 18982                        L10288:
 18983                        ;				k_debug_strings("DefWind
                    owProc::FX_DRAG_WINDOW_END:",pWin->win_title);
 18984                        	.line	3256
 18985 04:5436: 18           	clc
 18986 04:5437: A9 D4 00     	lda	#$d4
 18987 04:543A: 65 11        	adc	<L733+pWin_1
 18988 04:543C: 85 01        	sta	<R0
 18989 04:543E: A9 00 00     	lda	#$0
 18990 04:5441: 65 13        	adc	<L733+pWin_1+2
 18991 04:5443: 85 03        	sta	<R0+2
 18992 04:5445: D4 03        	pei	<R0+2
 18993 04:5447: D4 01        	pei	<R0
 18994 04:5449: F4 xx xx     	pea	#^L731+429
 18995 04:544C: F4 xx xx     	pea	#<L731+429
 18996 04:544F: 22 xx xx xx  	jsl	~~k_debug_strings
 18997                        ;				k_user_RedrawWindows(pWi
                    n);
 18998                        	.line	3257
 18999 04:5453: D4 13        	pei	<L733+pWin_1+2
 19000 04:5455: D4 11        	pei	<L733+pWin_1
 19001 04:5457: 22 9F 67 04  	jsl	~~k_user_RedrawWindows
 19002                        ;				k_user_EndWindowForDrag(
                    pMsg->hwnd,defPrcData->area.width,defPrcData->area.height);
 19003                        	.line	3258
 19004 04:545B: A0 06 00     	ldy	#$6
 19005 04:545E: B7 37        	lda	[<L733+defPrcData_1],Y
 19006 04:5460: 48           	pha
 19007 04:5461: A0 04 00     	ldy	#$4
 19008 04:5464: B7 37        	lda	[<L733+defPrcData_1],Y
 19009 04:5466: 48           	pha
 19010 04:5467: A0 0C 00     	ldy	#$c
 19011 04:546A: B7 3F        	lda	[<L732+pMsg_0],Y
 19012 04:546C: 48           	pha
 19013 04:546D: A0 0A 00     	ldy	#$a
 19014 04:5470: B7 3F        	lda	[<L732+pMsg_0],Y
 19015 04:5472: 48           	pha
 19016 04:5473: 22 C8 5C 04  	jsl	~~k_user_EndWindowForDrag
 19017                        ;				break;
 19018                        	.line	3259
  Mon Dec  7 2020 11:19                                                Page 370


 19019 04:5477: 82 37 08     	brl	L10279
 19020                        ;			case FX_WINDOW_CLOSE:
 19021                        	.line	3260
 19022                        L10289:
 19023                        ;				k_debug_strings("DefWind
                    owProc::FX_WINDOW_CLOSE:",pWin->win_title);
 19024                        	.line	3261
 19025 04:547A: 18           	clc
 19026 04:547B: A9 D4 00     	lda	#$d4
 19027 04:547E: 65 11        	adc	<L733+pWin_1
 19028 04:5480: 85 01        	sta	<R0
 19029 04:5482: A9 00 00     	lda	#$0
 19030 04:5485: 65 13        	adc	<L733+pWin_1+2
 19031 04:5487: 85 03        	sta	<R0+2
 19032 04:5489: D4 03        	pei	<R0+2
 19033 04:548B: D4 01        	pei	<R0
 19034 04:548D: F4 xx xx     	pea	#^L731+464
 19035 04:5490: F4 xx xx     	pea	#<L731+464
 19036 04:5493: 22 xx xx xx  	jsl	~~k_debug_strings
 19037                        ;				bRet = k_user_DestroyWin
                    dow(pMsg->hwnd);
 19038                        	.line	3262
 19039 04:5497: A0 0C 00     	ldy	#$c
 19040 04:549A: B7 3F        	lda	[<L732+pMsg_0],Y
 19041 04:549C: 48           	pha
 19042 04:549D: A0 0A 00     	ldy	#$a
 19043 04:54A0: B7 3F        	lda	[<L732+pMsg_0],Y
 19044 04:54A2: 48           	pha
 19045 04:54A3: 22 EA 15 04  	jsl	~~k_user_DestroyWindow
 19046 04:54A7: E2 20        	sep	#$20
 19047                        	longa	off
 19048 04:54A9: 85 3B        	sta	<L733+bRet_1
 19049 04:54AB: C2 20        	rep	#$20
 19050                        	longa	on
 19051                        ;				break;
 19052                        	.line	3263
 19053 04:54AD: 82 01 08     	brl	L10279
 19054                        ;			case FX_RESIZE_WINDOW:
 19055                        	.line	3264
 19056                        L10290:
 19057                        ;				k_debug_strings("DefWind
                    owProc::FX_RESIZE_WINDOW:",pWin->win_title);
 19058                        	.line	3265
 19059 04:54B0: 18           	clc
 19060 04:54B1: A9 D4 00     	lda	#$d4
 19061 04:54B4: 65 11        	adc	<L733+pWin_1
 19062 04:54B6: 85 01        	sta	<R0
 19063 04:54B8: A9 00 00     	lda	#$0
 19064 04:54BB: 65 13        	adc	<L733+pWin_1+2
 19065 04:54BD: 85 03        	sta	<R0+2
 19066 04:54BF: D4 03        	pei	<R0+2
 19067 04:54C1: D4 01        	pei	<R0
 19068 04:54C3: F4 xx xx     	pea	#^L731+496
 19069 04:54C6: F4 xx xx     	pea	#<L731+496
 19070 04:54C9: 22 xx xx xx  	jsl	~~k_debug_strings
 19071                        ;				break;
 19072                        	.line	3266
 19073 04:54CD: 82 E1 07     	brl	L10279
  Mon Dec  7 2020 11:19                                                Page 371


 19074                        ;			case FX_LBUTTON_DOWN:
 19075                        	.line	3267
 19076                        L10291:
 19077                        ;				k_debug_strings("DefWind
                    owProc::FX_LBUTTON_DOWN:",pWin->win_title);
 19078                        	.line	3268
 19079 04:54D0: 18           	clc
 19080 04:54D1: A9 D4 00     	lda	#$d4
 19081 04:54D4: 65 11        	adc	<L733+pWin_1
 19082 04:54D6: 85 01        	sta	<R0
 19083 04:54D8: A9 00 00     	lda	#$0
 19084 04:54DB: 65 13        	adc	<L733+pWin_1+2
 19085 04:54DD: 85 03        	sta	<R0+2
 19086 04:54DF: D4 03        	pei	<R0+2
 19087 04:54E1: D4 01        	pei	<R0
 19088 04:54E3: F4 xx xx     	pea	#^L731+529
 19089 04:54E6: F4 xx xx     	pea	#<L731+529
 19090 04:54E9: 22 xx xx xx  	jsl	~~k_debug_strings
 19091                        ;				break;
 19092                        	.line	3269
 19093 04:54ED: 82 C1 07     	brl	L10279
 19094                        ;			case FX_DRAW_NONCLIENT:
 19095                        	.line	3270
 19096                        L10292:
 19097                        ;
 19098                        ;				k_debug_string("DefWindo
                    wProc::FX_DRAW_NONCLIENT\r\n");
 19099                        	.line	3272
 19100 04:54F0: F4 xx xx     	pea	#^L731+561
 19101 04:54F3: F4 xx xx     	pea	#<L731+561
 19102 04:54F6: 22 xx xx xx  	jsl	~~k_debug_string
 19103                        ;				k_vdraw_ui_window(pWin,
 19104                        	.line	3273
 19105                        ;							
                    	  pWin->style,
 19106                        ;							
                    	  pWin->win_x,
 19107                        ;							
                    	  pWin->win_y,
 19108                        ;							
                    	  pWin->win_height,
 19109                        ;							
                    	  pWin->win_width,
 19110                        ;							
                    	  pWin->win_title,
 19111                        ;							
                    	  k_getUIMenuColor(),
 19112                        ;							
                    	  k_getUIBackgroundColor());
 19113 04:54FA: 22 xx xx xx  	jsl	~~k_getUIBackgroundColor
 19114 04:54FE: 48           	pha
 19115 04:54FF: 22 xx xx xx  	jsl	~~k_getUIMenuColor
 19116 04:5503: 48           	pha
 19117 04:5504: 18           	clc
 19118 04:5505: A9 D4 00     	lda	#$d4
 19119 04:5508: 65 11        	adc	<L733+pWin_1
 19120 04:550A: 85 01        	sta	<R0
 19121 04:550C: A9 00 00     	lda	#$0
  Mon Dec  7 2020 11:19                                                Page 372


 19122 04:550F: 65 13        	adc	<L733+pWin_1+2
 19123 04:5511: 85 03        	sta	<R0+2
 19124 04:5513: D4 03        	pei	<R0+2
 19125 04:5515: D4 01        	pei	<R0
 19126 04:5517: A0 0C 00     	ldy	#$c
 19127 04:551A: B7 11        	lda	[<L733+pWin_1],Y
 19128 04:551C: 48           	pha
 19129 04:551D: A0 0E 00     	ldy	#$e
 19130 04:5520: B7 11        	lda	[<L733+pWin_1],Y
 19131 04:5522: 48           	pha
 19132 04:5523: A0 0A 00     	ldy	#$a
 19133 04:5526: B7 11        	lda	[<L733+pWin_1],Y
 19134 04:5528: 48           	pha
 19135 04:5529: A0 08 00     	ldy	#$8
 19136 04:552C: B7 11        	lda	[<L733+pWin_1],Y
 19137 04:552E: 48           	pha
 19138 04:552F: A0 04 00     	ldy	#$4
 19139 04:5532: B7 11        	lda	[<L733+pWin_1],Y
 19140 04:5534: 48           	pha
 19141 04:5535: A0 02 00     	ldy	#$2
 19142 04:5538: B7 11        	lda	[<L733+pWin_1],Y
 19143 04:553A: 48           	pha
 19144 04:553B: D4 13        	pei	<L733+pWin_1+2
 19145 04:553D: D4 11        	pei	<L733+pWin_1
 19146 04:553F: 22 xx xx xx  	jsl	~~k_vdraw_ui_window
 19147                        ;				break;
 19148                        	.line	3282
 19149 04:5543: 82 6B 07     	brl	L10279
 19150                        ;			case FX_MOVE_WINDOW:
 19151                        	.line	3283
 19152                        L10293:
 19153                        ;				k_user_MoveWindow(pMsg->
                    hwnd,((PPOINT)pMsg->pheap)->x,((PPOINT)pMsg->pheap)->y);
 19154                        	.line	3284
 19155 04:5546: A0 0E 00     	ldy	#$e
 19156 04:5549: B7 3F        	lda	[<L732+pMsg_0],Y
 19157 04:554B: 85 01        	sta	<R0
 19158 04:554D: A0 10 00     	ldy	#$10
 19159 04:5550: B7 3F        	lda	[<L732+pMsg_0],Y
 19160 04:5552: 85 03        	sta	<R0+2
 19161 04:5554: A0 02 00     	ldy	#$2
 19162 04:5557: B7 01        	lda	[<R0],Y
 19163 04:5559: 48           	pha
 19164 04:555A: A0 0E 00     	ldy	#$e
 19165 04:555D: B7 3F        	lda	[<L732+pMsg_0],Y
 19166 04:555F: 85 01        	sta	<R0
 19167 04:5561: A0 10 00     	ldy	#$10
 19168 04:5564: B7 3F        	lda	[<L732+pMsg_0],Y
 19169 04:5566: 85 03        	sta	<R0+2
 19170 04:5568: A7 01        	lda	[<R0]
 19171 04:556A: 48           	pha
 19172 04:556B: A0 0C 00     	ldy	#$c
 19173 04:556E: B7 3F        	lda	[<L732+pMsg_0],Y
 19174 04:5570: 48           	pha
 19175 04:5571: A0 0A 00     	ldy	#$a
 19176 04:5574: B7 3F        	lda	[<L732+pMsg_0],Y
 19177 04:5576: 48           	pha
 19178 04:5577: 22 00 08 04  	jsl	~~k_user_MoveWindow
  Mon Dec  7 2020 11:19                                                Page 373


 19179                        ;
 19180                        ;
 19181                        ;				break;
 19182                        	.line	3287
 19183 04:557B: 82 33 07     	brl	L10279
 19184                        ;			case FX_NC_MOUSE_MOVE:
 19185                        	.line	3288
 19186                        L10294:
 19187                        ;				k_debug_string("DefWindo
                    wProc::FX_NC_MOUSE_MOVE\r\n");
 19188                        	.line	3289
 19189 04:557E: F4 xx xx     	pea	#^L731+596
 19190 04:5581: F4 xx xx     	pea	#<L731+596
 19191 04:5584: 22 xx xx xx  	jsl	~~k_debug_string
 19192                        ;
 19193                        ;
 19194                        ;				cx = MSG_GETMOUSE_X(pMsg
                    );
 19195                        	.line	3292
 19196 04:5588: A0 17 00     	ldy	#$17
 19197 04:558B: B7 3F        	lda	[<L732+pMsg_0],Y
 19198 04:558D: 85 21        	sta	<L733+cx_1
 19199                        ;				cy = MSG_GETMOUSE_Y(pMsg
                    );
 19200                        	.line	3293
 19201 04:558F: A0 19 00     	ldy	#$19
 19202 04:5592: B7 3F        	lda	[<L732+pMsg_0],Y
 19203 04:5594: 85 23        	sta	<L733+cy_1
 19204                        ;				dx = (cx - pWin->win_x);
 19205                        	.line	3294
 19206 04:5596: 38           	sec
 19207 04:5597: A5 21        	lda	<L733+cx_1
 19208 04:5599: A0 08 00     	ldy	#$8
 19209 04:559C: F7 11        	sbc	[<L733+pWin_1],Y
 19210 04:559E: 85 25        	sta	<L733+dx_1
 19211                        ;				dy = (cy - pWin->win_y);
 19212                        	.line	3295
 19213 04:55A0: 38           	sec
 19214 04:55A1: A5 23        	lda	<L733+cy_1
 19215 04:55A3: A0 0A 00     	ldy	#$a
 19216 04:55A6: F7 11        	sbc	[<L733+pWin_1],Y
 19217 04:55A8: 85 27        	sta	<L733+dy_1
 19218                        ;
 19219                        ;				k_user_setMousePointer("
                    ARROW");
 19220                        	.line	3297
 19221 04:55AA: F4 xx xx     	pea	#^L731+630
 19222 04:55AD: F4 xx xx     	pea	#<L731+630
 19223 04:55B0: 22 B5 11 04  	jsl	~~k_user_setMousePointer
 19224                        ;				for(index = 0;index<8;in
                    dex++)
 19225                        	.line	3298
 19226 04:55B4: 64 31        	stz	<L733+index_1
 19227                        L10297:
 19228                        ;				{
 19229                        	.line	3299
 19230                        ;					if(k_is_inside_r
                    ect(&pWin->nonclientGadgets[index].area,cx,cy))
  Mon Dec  7 2020 11:19                                                Page 374


 19231                        	.line	3300
 19232                        ;					{
 19233 04:55B6: D4 23        	pei	<L733+cy_1
 19234 04:55B8: D4 21        	pei	<L733+cx_1
 19235 04:55BA: A0 00 00     	ldy	#$0
 19236 04:55BD: A5 31        	lda	<L733+index_1
 19237 04:55BF: 10 01        	bpl	L739
 19238 04:55C1: 88           	dey
 19239                        L739:
 19240 04:55C2: 85 01        	sta	<R0
 19241 04:55C4: 84 03        	sty	<R0+2
 19242 04:55C6: F4 00 00     	pea	#^$b
 19243 04:55C9: F4 0B 00     	pea	#<$b
 19244 04:55CC: D4 03        	pei	<R0+2
 19245 04:55CE: D4 01        	pei	<R0
 19246                        	xref	~~~lmul
 19247 04:55D0: 22 xx xx xx  	jsl	~~~lmul
 19248 04:55D4: 85 01        	sta	<R0
 19249 04:55D6: 86 03        	stx	<R0+2
 19250 04:55D8: 18           	clc
 19251 04:55D9: A9 20 00     	lda	#$20
 19252 04:55DC: 65 01        	adc	<R0
 19253 04:55DE: 85 05        	sta	<R1
 19254 04:55E0: A9 00 00     	lda	#$0
 19255 04:55E3: 65 03        	adc	<R0+2
 19256 04:55E5: 85 07        	sta	<R1+2
 19257 04:55E7: 18           	clc
 19258 04:55E8: A5 11        	lda	<L733+pWin_1
 19259 04:55EA: 65 05        	adc	<R1
 19260 04:55EC: 85 01        	sta	<R0
 19261 04:55EE: A5 13        	lda	<L733+pWin_1+2
 19262 04:55F0: 65 07        	adc	<R1+2
 19263 04:55F2: 85 03        	sta	<R0+2
 19264 04:55F4: D4 03        	pei	<R0+2
 19265 04:55F6: D4 01        	pei	<R0
 19266 04:55F8: 22 xx xx xx  	jsl	~~k_is_inside_rect
 19267 04:55FC: AA           	tax
 19268 04:55FD: D0 03        	bne	L740
 19269 04:55FF: 82 98 00     	brl	L10298
 19270                        L740:
 19271                        	.line	3301
 19272                        ;						k_debug_
                    integer("DefWindowProc::nonclientGadgets:rect:hit:",pWin->no
                    nclientGadgets[index].msgType);
 19273                        	.line	3302
 19274 04:5602: A0 00 00     	ldy	#$0
 19275 04:5605: A5 31        	lda	<L733+index_1
 19276 04:5607: 10 01        	bpl	L741
 19277 04:5609: 88           	dey
 19278                        L741:
 19279 04:560A: 85 01        	sta	<R0
 19280 04:560C: 84 03        	sty	<R0+2
 19281 04:560E: F4 00 00     	pea	#^$b
 19282 04:5611: F4 0B 00     	pea	#<$b
 19283 04:5614: D4 03        	pei	<R0+2
 19284 04:5616: D4 01        	pei	<R0
 19285                        	xref	~~~lmul
 19286 04:5618: 22 xx xx xx  	jsl	~~~lmul
  Mon Dec  7 2020 11:19                                                Page 375


 19287 04:561C: 85 01        	sta	<R0
 19288 04:561E: 86 03        	stx	<R0+2
 19289 04:5620: 18           	clc
 19290 04:5621: A9 28 00     	lda	#$28
 19291 04:5624: 65 11        	adc	<L733+pWin_1
 19292 04:5626: 85 05        	sta	<R1
 19293 04:5628: A9 00 00     	lda	#$0
 19294 04:562B: 65 13        	adc	<L733+pWin_1+2
 19295 04:562D: 85 07        	sta	<R1+2
 19296 04:562F: 18           	clc
 19297 04:5630: A5 05        	lda	<R1
 19298 04:5632: 65 01        	adc	<R0
 19299 04:5634: 85 09        	sta	<R2
 19300 04:5636: A5 07        	lda	<R1+2
 19301 04:5638: 65 03        	adc	<R0+2
 19302 04:563A: 85 0B        	sta	<R2+2
 19303 04:563C: A7 09        	lda	[<R2]
 19304 04:563E: 48           	pha
 19305 04:563F: F4 xx xx     	pea	#^L731+636
 19306 04:5642: F4 xx xx     	pea	#<L731+636
 19307 04:5645: 22 xx xx xx  	jsl	~~k_debug_integer
 19308                        ;
 19309                        ;						if(pWin-
                    >nonclientGadgets[index].msgType == FX_RESIZE_WINDOW)
 19310                        	.line	3304
 19311                        ;							
                    k_user_setMousePointer("RESIZE");
 19312 04:5649: A0 00 00     	ldy	#$0
 19313 04:564C: A5 31        	lda	<L733+index_1
 19314 04:564E: 10 01        	bpl	L742
 19315 04:5650: 88           	dey
 19316                        L742:
 19317 04:5651: 85 01        	sta	<R0
 19318 04:5653: 84 03        	sty	<R0+2
 19319 04:5655: F4 00 00     	pea	#^$b
 19320 04:5658: F4 0B 00     	pea	#<$b
 19321 04:565B: D4 03        	pei	<R0+2
 19322 04:565D: D4 01        	pei	<R0
 19323                        	xref	~~~lmul
 19324 04:565F: 22 xx xx xx  	jsl	~~~lmul
 19325 04:5663: 85 01        	sta	<R0
 19326 04:5665: 86 03        	stx	<R0+2
 19327 04:5667: 18           	clc
 19328 04:5668: A9 28 00     	lda	#$28
 19329 04:566B: 65 11        	adc	<L733+pWin_1
 19330 04:566D: 85 05        	sta	<R1
 19331 04:566F: A9 00 00     	lda	#$0
 19332 04:5672: 65 13        	adc	<L733+pWin_1+2
 19333 04:5674: 85 07        	sta	<R1+2
 19334 04:5676: 18           	clc
 19335 04:5677: A5 05        	lda	<R1
 19336 04:5679: 65 01        	adc	<R0
 19337 04:567B: 85 09        	sta	<R2
 19338 04:567D: A5 07        	lda	<R1+2
 19339 04:567F: 65 03        	adc	<R0+2
 19340 04:5681: 85 0B        	sta	<R2+2
 19341 04:5683: A7 09        	lda	[<R2]
 19342 04:5685: C9 0F FB     	cmp	#<$fb0f
  Mon Dec  7 2020 11:19                                                Page 376


 19343 04:5688: F0 03        	beq	L743
 19344 04:568A: 82 0A 00     	brl	L10299
 19345                        L743:
 19346                        	.line	3305
 19347 04:568D: F4 xx xx     	pea	#^L731+678
 19348 04:5690: F4 xx xx     	pea	#<L731+678
 19349 04:5693: 22 B5 11 04  	jsl	~~k_user_setMousePointer
 19350                        ;
 19351                        ;						break;
 19352                        L10299:
 19353                        	.line	3307
 19354 04:5697: 82 12 00     	brl	L10296
 19355                        ;					}
 19356                        	.line	3308
 19357                        ;				}
 19358                        L10298:
 19359                        	.line	3309
 19360                        L10295:
 19361 04:569A: E6 31        	inc	<L733+index_1
 19362 04:569C: 38           	sec
 19363 04:569D: A5 31        	lda	<L733+index_1
 19364 04:569F: E9 08 00     	sbc	#<$8
 19365 04:56A2: 70 03        	bvs	L744
 19366 04:56A4: 49 00 80     	eor	#$8000
 19367                        L744:
 19368 04:56A7: 30 03        	bmi	L745
 19369 04:56A9: 82 0A FF     	brl	L10297
 19370                        L745:
 19371                        L10296:
 19372                        ;				/*
 19373                        ;				if(pWin->style & FXWS_SY
                    SMENU)
 19374                        ;				{
 19375                        ;					gx = k_user_getS
                    ystemMetric(SM_CXGADGET);
 19376                        ;					gy = k_user_getS
                    ystemMetric(SM_CYGADGET);
 19377                        ;					bx = k_user_getS
                    ystemMetric(SM_CXBORDER);
 19378                        ;					by = k_user_getS
                    ystemMetric(SM_CYBORDER);
 19379                        ;
 19380                        ;					if((dx > bx) && 
                    (dx < (bx + gx)))
 19381                        ;					{
 19382                        ;						if((dy >
                     by) && (dy < (by + gy)))
 19383                        ;						{
 19384                        ;							
                    k_debug_string("DefWindowProc::FX_NC_MOUSE_MOVE:CLOSEBOX\r\n
                    ");
 19385                        ;						}
 19386                        ;					}
 19387                        ;				}
 19388                        ;				*/
 19389                        ;
 19390                        ;
 19391                        ;				k_debug_integer("DefWind
  Mon Dec  7 2020 11:19                                                Page 377


                    owProc::FX_NC_MOUSE_MOVE:cx:",cx);
 19392                        	.line	3329
 19393 04:56AC: D4 21        	pei	<L733+cx_1
 19394 04:56AE: F4 xx xx     	pea	#^L731+685
 19395 04:56B1: F4 xx xx     	pea	#<L731+685
 19396 04:56B4: 22 xx xx xx  	jsl	~~k_debug_integer
 19397                        ;				k_debug_integer("DefWind
                    owProc::FX_NC_MOUSE_MOVE:cy:",cy);
 19398                        	.line	3330
 19399 04:56B8: D4 23        	pei	<L733+cy_1
 19400 04:56BA: F4 xx xx     	pea	#^L731+721
 19401 04:56BD: F4 xx xx     	pea	#<L731+721
 19402 04:56C0: 22 xx xx xx  	jsl	~~k_debug_integer
 19403                        ;				//k_debug_integer("DefWi
                    ndowProc::FX_NC_MOUSE_MOVE:dx:",dx);
 19404                        ;				//k_debug_integer("DefWi
                    ndowProc::FX_NC_MOUSE_MOVE:dy:",dy);
 19405                        ;
 19406                        ;				break;
 19407                        	.line	3334
 19408 04:56C4: 82 EA 05     	brl	L10279
 19409                        ;			case FX_NC_LBUTTON_DOWN:
 19410                        	.line	3335
 19411                        L10300:
 19412                        ;				k_debug_pointer("DefWind
                    owProc::FX_NC_LBUTTON_DOWN:",pMsg->hwnd);
 19413                        	.line	3336
 19414 04:56C7: A0 0C 00     	ldy	#$c
 19415 04:56CA: B7 3F        	lda	[<L732+pMsg_0],Y
 19416 04:56CC: 48           	pha
 19417 04:56CD: A0 0A 00     	ldy	#$a
 19418 04:56D0: B7 3F        	lda	[<L732+pMsg_0],Y
 19419 04:56D2: 48           	pha
 19420 04:56D3: F4 xx xx     	pea	#^L731+757
 19421 04:56D6: F4 xx xx     	pea	#<L731+757
 19422 04:56D9: 22 xx xx xx  	jsl	~~k_debug_pointer
 19423                        ;
 19424                        ;				cx = MSG_GETMOUSE_X(pMsg
                    );
 19425                        	.line	3338
 19426 04:56DD: A0 17 00     	ldy	#$17
 19427 04:56E0: B7 3F        	lda	[<L732+pMsg_0],Y
 19428 04:56E2: 85 21        	sta	<L733+cx_1
 19429                        ;				cy = MSG_GETMOUSE_Y(pMsg
                    );
 19430                        	.line	3339
 19431 04:56E4: A0 19 00     	ldy	#$19
 19432 04:56E7: B7 3F        	lda	[<L732+pMsg_0],Y
 19433 04:56E9: 85 23        	sta	<L733+cy_1
 19434                        ;
 19435                        ;				for(index = 0;index<8;in
                    dex++)
 19436                        	.line	3341
 19437 04:56EB: 64 31        	stz	<L733+index_1
 19438                        L10303:
 19439                        ;				{
 19440                        	.line	3342
 19441                        ;					//k_debug_rect("
  Mon Dec  7 2020 11:19                                                Page 378


                    testWindowProc::nonclientGadgets:rect:",&pWin->nonclientGadg
                    ets[index].area);
 19442                        ;					if(k_is_inside_r
                    ect(&pWin->nonclientGadgets[index].area,cx,cy))
 19443                        	.line	3344
 19444                        ;					{
 19445 04:56ED: D4 23        	pei	<L733+cy_1
 19446 04:56EF: D4 21        	pei	<L733+cx_1
 19447 04:56F1: A0 00 00     	ldy	#$0
 19448 04:56F4: A5 31        	lda	<L733+index_1
 19449 04:56F6: 10 01        	bpl	L746
 19450 04:56F8: 88           	dey
 19451                        L746:
 19452 04:56F9: 85 01        	sta	<R0
 19453 04:56FB: 84 03        	sty	<R0+2
 19454 04:56FD: F4 00 00     	pea	#^$b
 19455 04:5700: F4 0B 00     	pea	#<$b
 19456 04:5703: D4 03        	pei	<R0+2
 19457 04:5705: D4 01        	pei	<R0
 19458                        	xref	~~~lmul
 19459 04:5707: 22 xx xx xx  	jsl	~~~lmul
 19460 04:570B: 85 01        	sta	<R0
 19461 04:570D: 86 03        	stx	<R0+2
 19462 04:570F: 18           	clc
 19463 04:5710: A9 20 00     	lda	#$20
 19464 04:5713: 65 01        	adc	<R0
 19465 04:5715: 85 05        	sta	<R1
 19466 04:5717: A9 00 00     	lda	#$0
 19467 04:571A: 65 03        	adc	<R0+2
 19468 04:571C: 85 07        	sta	<R1+2
 19469 04:571E: 18           	clc
 19470 04:571F: A5 11        	lda	<L733+pWin_1
 19471 04:5721: 65 05        	adc	<R1
 19472 04:5723: 85 01        	sta	<R0
 19473 04:5725: A5 13        	lda	<L733+pWin_1+2
 19474 04:5727: 65 07        	adc	<R1+2
 19475 04:5729: 85 03        	sta	<R0+2
 19476 04:572B: D4 03        	pei	<R0+2
 19477 04:572D: D4 01        	pei	<R0
 19478 04:572F: 22 xx xx xx  	jsl	~~k_is_inside_rect
 19479 04:5733: AA           	tax
 19480 04:5734: D0 03        	bne	L747
 19481 04:5736: 82 5C 01     	brl	L10304
 19482                        L747:
 19483                        	.line	3345
 19484                        ;						k_debug_
                    integer("DefWindowProc::nonclientGadgets:rect:hit:",pWin->no
                    nclientGadgets[index].msgType);
 19485                        	.line	3346
 19486 04:5739: A0 00 00     	ldy	#$0
 19487 04:573C: A5 31        	lda	<L733+index_1
 19488 04:573E: 10 01        	bpl	L748
 19489 04:5740: 88           	dey
 19490                        L748:
 19491 04:5741: 85 01        	sta	<R0
 19492 04:5743: 84 03        	sty	<R0+2
 19493 04:5745: F4 00 00     	pea	#^$b
 19494 04:5748: F4 0B 00     	pea	#<$b
  Mon Dec  7 2020 11:19                                                Page 379


 19495 04:574B: D4 03        	pei	<R0+2
 19496 04:574D: D4 01        	pei	<R0
 19497                        	xref	~~~lmul
 19498 04:574F: 22 xx xx xx  	jsl	~~~lmul
 19499 04:5753: 85 01        	sta	<R0
 19500 04:5755: 86 03        	stx	<R0+2
 19501 04:5757: 18           	clc
 19502 04:5758: A9 28 00     	lda	#$28
 19503 04:575B: 65 11        	adc	<L733+pWin_1
 19504 04:575D: 85 05        	sta	<R1
 19505 04:575F: A9 00 00     	lda	#$0
 19506 04:5762: 65 13        	adc	<L733+pWin_1+2
 19507 04:5764: 85 07        	sta	<R1+2
 19508 04:5766: 18           	clc
 19509 04:5767: A5 05        	lda	<R1
 19510 04:5769: 65 01        	adc	<R0
 19511 04:576B: 85 09        	sta	<R2
 19512 04:576D: A5 07        	lda	<R1+2
 19513 04:576F: 65 03        	adc	<R0+2
 19514 04:5771: 85 0B        	sta	<R2+2
 19515 04:5773: A7 09        	lda	[<R2]
 19516 04:5775: 48           	pha
 19517 04:5776: F4 xx xx     	pea	#^L731+792
 19518 04:5779: F4 xx xx     	pea	#<L731+792
 19519 04:577C: 22 xx xx xx  	jsl	~~k_debug_integer
 19520                        ;
 19521                        ;						switch(p
                    Win->nonclientGadgets[index].msgType)
 19522                        	.line	3348
 19523 04:5780: A0 00 00     	ldy	#$0
 19524 04:5783: A5 31        	lda	<L733+index_1
 19525 04:5785: 10 01        	bpl	L749
 19526 04:5787: 88           	dey
 19527                        L749:
 19528 04:5788: 85 01        	sta	<R0
 19529 04:578A: 84 03        	sty	<R0+2
 19530 04:578C: F4 00 00     	pea	#^$b
 19531 04:578F: F4 0B 00     	pea	#<$b
 19532 04:5792: D4 03        	pei	<R0+2
 19533 04:5794: D4 01        	pei	<R0
 19534                        	xref	~~~lmul
 19535 04:5796: 22 xx xx xx  	jsl	~~~lmul
 19536 04:579A: 85 01        	sta	<R0
 19537 04:579C: 86 03        	stx	<R0+2
 19538 04:579E: 18           	clc
 19539 04:579F: A9 28 00     	lda	#$28
 19540 04:57A2: 65 11        	adc	<L733+pWin_1
 19541 04:57A4: 85 05        	sta	<R1
 19542 04:57A6: A9 00 00     	lda	#$0
 19543 04:57A9: 65 13        	adc	<L733+pWin_1+2
 19544 04:57AB: 85 07        	sta	<R1+2
 19545 04:57AD: 18           	clc
 19546 04:57AE: A5 05        	lda	<R1
 19547 04:57B0: 65 01        	adc	<R0
 19548 04:57B2: 85 09        	sta	<R2
 19549 04:57B4: A5 07        	lda	<R1+2
 19550 04:57B6: 65 03        	adc	<R0+2
 19551 04:57B8: 85 0B        	sta	<R2+2
  Mon Dec  7 2020 11:19                                                Page 380


 19552 04:57BA: A7 09        	lda	[<R2]
 19553 04:57BC: 82 C3 00     	brl	L10305
 19554                        ;						{
 19555                        	.line	3349
 19556                        ;						case FX_
                    DRAG_WINDOW:
 19557                        	.line	3350
 19558                        L10307:
 19559                        ;							
                    //k_user_StartWindowForDrag(pMsg->hwnd,cx,cy);
 19560                        ;							
                    defPrcData->area.width = cx;
 19561                        	.line	3352
 19562 04:57BF: A5 21        	lda	<L733+cx_1
 19563 04:57C1: A0 04 00     	ldy	#$4
 19564 04:57C4: 97 37        	sta	[<L733+defPrcData_1],Y
 19565                        ;							
                    defPrcData->area.height = cy;
 19566                        	.line	3353
 19567 04:57C6: A5 23        	lda	<L733+cy_1
 19568 04:57C8: A0 06 00     	ldy	#$6
 19569 04:57CB: 97 37        	sta	[<L733+defPrcData_1],Y
 19570                        ;							
                    k_send_window_message(pMsg->hwnd,FX_DRAG_WINDOW_START,NULL,0
                    );
 19571                        	.line	3354
 19572 04:57CD: F4 00 00     	pea	#<$0
 19573 04:57D0: F4 00 00     	pea	#^$0
 19574 04:57D3: F4 00 00     	pea	#<$0
 19575 04:57D6: F4 0D FB     	pea	#<$fb0d
 19576 04:57D9: A0 0C 00     	ldy	#$c
 19577 04:57DC: B7 3F        	lda	[<L732+pMsg_0],Y
 19578 04:57DE: 48           	pha
 19579 04:57DF: A0 0A 00     	ldy	#$a
 19580 04:57E2: B7 3F        	lda	[<L732+pMsg_0],Y
 19581 04:57E4: 48           	pha
 19582 04:57E5: 22 xx xx xx  	jsl	~~k_send_window_message
 19583                        ;							
                    break;
 19584                        	.line	3355
 19585 04:57E9: 82 A6 00     	brl	L10306
 19586                        ;						case FX_
                    RESIZE_WINDOW:
 19587                        	.line	3356
 19588                        L10308:
 19589                        ;							
                    k_debug_strings("DefWindowProc::FX_NC_LBUTTON_DOWN:","FX_RES
                    IZE_WINDOW");
 19590                        	.line	3357
 19591 04:57EC: F4 xx xx     	pea	#^L731+869
 19592 04:57EF: F4 xx xx     	pea	#<L731+869
 19593 04:57F2: F4 xx xx     	pea	#^L731+834
 19594 04:57F5: F4 xx xx     	pea	#<L731+834
 19595 04:57F8: 22 xx xx xx  	jsl	~~k_debug_strings
 19596                        ;
 19597                        ;							
                    defPrcData->area.width = cx;
 19598                        	.line	3359
  Mon Dec  7 2020 11:19                                                Page 381


 19599 04:57FC: A5 21        	lda	<L733+cx_1
 19600 04:57FE: A0 04 00     	ldy	#$4
 19601 04:5801: 97 37        	sta	[<L733+defPrcData_1],Y
 19602                        ;							
                    defPrcData->area.height = cy;
 19603                        	.line	3360
 19604 04:5803: A5 23        	lda	<L733+cy_1
 19605 04:5805: A0 06 00     	ldy	#$6
 19606 04:5808: 97 37        	sta	[<L733+defPrcData_1],Y
 19607                        ;							
                    k_send_window_message(pMsg->hwnd,FX_RESIZE_WINDOW_START,NULL
                    ,0);
 19608                        	.line	3361
 19609 04:580A: F4 00 00     	pea	#<$0
 19610 04:580D: F4 00 00     	pea	#^$0
 19611 04:5810: F4 00 00     	pea	#<$0
 19612 04:5813: F4 0B FB     	pea	#<$fb0b
 19613 04:5816: A0 0C 00     	ldy	#$c
 19614 04:5819: B7 3F        	lda	[<L732+pMsg_0],Y
 19615 04:581B: 48           	pha
 19616 04:581C: A0 0A 00     	ldy	#$a
 19617 04:581F: B7 3F        	lda	[<L732+pMsg_0],Y
 19618 04:5821: 48           	pha
 19619 04:5822: 22 xx xx xx  	jsl	~~k_send_window_message
 19620                        ;							
                    break;
 19621                        	.line	3362
 19622 04:5826: 82 69 00     	brl	L10306
 19623                        ;						default:
 19624                        	.line	3363
 19625                        L10309:
 19626                        ;							
                    k_send_window_message(pMsg->hwnd,pWin->nonclientGadgets[inde
                    x].msgType,NULL,0);
 19627                        	.line	3364
 19628 04:5829: F4 00 00     	pea	#<$0
 19629 04:582C: F4 00 00     	pea	#^$0
 19630 04:582F: F4 00 00     	pea	#<$0
 19631 04:5832: A0 00 00     	ldy	#$0
 19632 04:5835: A5 31        	lda	<L733+index_1
 19633 04:5837: 10 01        	bpl	L750
 19634 04:5839: 88           	dey
 19635                        L750:
 19636 04:583A: 85 01        	sta	<R0
 19637 04:583C: 84 03        	sty	<R0+2
 19638 04:583E: F4 00 00     	pea	#^$b
 19639 04:5841: F4 0B 00     	pea	#<$b
 19640 04:5844: D4 03        	pei	<R0+2
 19641 04:5846: D4 01        	pei	<R0
 19642                        	xref	~~~lmul
 19643 04:5848: 22 xx xx xx  	jsl	~~~lmul
 19644 04:584C: 85 01        	sta	<R0
 19645 04:584E: 86 03        	stx	<R0+2
 19646 04:5850: 18           	clc
 19647 04:5851: A9 28 00     	lda	#$28
 19648 04:5854: 65 11        	adc	<L733+pWin_1
 19649 04:5856: 85 05        	sta	<R1
 19650 04:5858: A9 00 00     	lda	#$0
  Mon Dec  7 2020 11:19                                                Page 382


 19651 04:585B: 65 13        	adc	<L733+pWin_1+2
 19652 04:585D: 85 07        	sta	<R1+2
 19653 04:585F: 18           	clc
 19654 04:5860: A5 05        	lda	<R1
 19655 04:5862: 65 01        	adc	<R0
 19656 04:5864: 85 09        	sta	<R2
 19657 04:5866: A5 07        	lda	<R1+2
 19658 04:5868: 65 03        	adc	<R0+2
 19659 04:586A: 85 0B        	sta	<R2+2
 19660 04:586C: A7 09        	lda	[<R2]
 19661 04:586E: 48           	pha
 19662 04:586F: A0 0C 00     	ldy	#$c
 19663 04:5872: B7 3F        	lda	[<L732+pMsg_0],Y
 19664 04:5874: 48           	pha
 19665 04:5875: A0 0A 00     	ldy	#$a
 19666 04:5878: B7 3F        	lda	[<L732+pMsg_0],Y
 19667 04:587A: 48           	pha
 19668 04:587B: 22 xx xx xx  	jsl	~~k_send_window_message
 19669                        ;							
                    break;
 19670                        	.line	3365
 19671 04:587F: 82 10 00     	brl	L10306
 19672                        ;						}
 19673                        	.line	3366
 19674                        L10305:
 19675                        	xref	~~~swt
 19676 04:5882: 22 xx xx xx  	jsl	~~~swt
 19677 04:5886: 02 00        	dw	2
 19678 04:5888: 0F FB        	dw	64271
 19679 04:588A: EB 57        	dw	L10308-1
 19680 04:588C: 10 FB        	dw	64272
 19681 04:588E: BE 57        	dw	L10307-1
 19682 04:5890: 28 58        	dw	L10309-1
 19683                        L10306:
 19684                        ;						/*
 19685                        ;						if(pWin-
                    >nonclientGadgets[index].msgType == FX_DRAG_WINDOW)
 19686                        ;						{
 19687                        ;							
                    k_debug_strings("DefWindowProc::nonclientGadgets:rect:hit:",
                    "FX_NC_LBUTTON_DOWN:FX_DRAG_WINDOW");
 19688                        ;							
                    k_user_StartWindowForDrag(pMsg->hwnd,cx,cy);
 19689                        ;						}
 19690                        ;						else
 19691                        ;							
                    k_send_window_message(pMsg->hwnd,pWin->nonclientGadgets[inde
                    x].msgType,NULL,0);
 19692                        ;						*/
 19693                        ;						break;
 19694                        	.line	3376
 19695 04:5892: 82 12 00     	brl	L10302
 19696                        ;					}
 19697                        	.line	3377
 19698                        ;				}
 19699                        L10304:
 19700                        	.line	3378
 19701                        L10301:
  Mon Dec  7 2020 11:19                                                Page 383


 19702 04:5895: E6 31        	inc	<L733+index_1
 19703 04:5897: 38           	sec
 19704 04:5898: A5 31        	lda	<L733+index_1
 19705 04:589A: E9 08 00     	sbc	#<$8
 19706 04:589D: 70 03        	bvs	L751
 19707 04:589F: 49 00 80     	eor	#$8000
 19708                        L751:
 19709 04:58A2: 30 03        	bmi	L752
 19710 04:58A4: 82 46 FE     	brl	L10303
 19711                        L752:
 19712                        L10302:
 19713                        ;
 19714                        ;				//k_event_lock_focus_ex(
                    pMsg->hwnd,TRUE);
 19715                        ;
 19716                        ;				//k_user_StartWindowForD
                    rag(pMsg->hwnd,cx,cy);
 19717                        ;
 19718                        ;				/*
 19719                        ;				if(defPrcData)
 19720                        ;				{
 19721                        ;					defPrcData->canD
                    rag = FALSE;
 19722                        ;				}
 19723                        ;				cx = MSG_GETMOUSE_X(pMsg
                    );
 19724                        ;				cy = MSG_GETMOUSE_Y(pMsg
                    );
 19725                        ;				dx = (cx - pWin->win_x);
 19726                        ;				dy = (cy - pWin->win_y);
 19727                        ;
 19728                        ;
 19729                        ;				k_debug_integer("DefWind
                    owProc::nonclientGadgets:rect:cx:",cx);
 19730                        ;				k_debug_integer("DefWind
                    owProc::nonclientGadgets:rect:cy:",cy);
 19731                        ;
 19732                        ;
 19733                        ;				for(index = 0;index<8;in
                    dex++)
 19734                        ;				{
 19735                        ;					//k_debug_rect("
                    testWindowProc::nonclientGadgets:rect:",&pWin->nonclientGadg
                    ets[index].area);
 19736                        ;
 19737                        ;					if(k_is_inside_r
                    ect(&pWin->nonclientGadgets[index].area,cx,cy))
 19738                        ;					{
 19739                        ;						k_debug_
                    integer("DefWindowProc::nonclientGadgets:rect:hit:",pWin->no
                    nclientGadgets[index].msgType);
 19740                        ;						k_send_w
                    indow_message(pMsg->hwnd,pWin->nonclientGadgets[index].msgTy
                    pe,NULL,0);
 19741                        ;						break;
 19742                        ;					}
 19743                        ;				}
 19744                        ;
  Mon Dec  7 2020 11:19                                                Page 384


 19745                        ;				// push window to backgr
                    ound before frame drag
 19746                        ;				k_switch_window_page(pMs
                    g->hwnd,BITMAP_BACK,BITMAP_FRONT,TRUE);
 19747                        ;
 19748                        ;				if(defPrcData)
 19749                        ;				{
 19750                        ;					defPrcData->area
                    .x = cx;
 19751                        ;					defPrcData->area
                    .y = cy;
 19752                        ;
 19753                        ;					defPrcData->xoff
                    set = cx - pWin->win_x;
 19754                        ;					defPrcData->yoff
                    set = cy - pWin->win_y;
 19755                        ;
 19756                        ;					k_debug_integer(
                    "DefWindowProc::FX_NC_LBUTTON_DRAG:rect:defPrcData->xoffset:
                    ",defPrcData->xoffset);
 19757                        ;					k_debug_integer(
                    "DefWindowProc::FX_NC_LBUTTON_DRAG:rect:defPrcData->yoffset:
                    ",defPrcData->yoffset);
 19758                        ;
 19759                        ;				}
 19760                        ;
 19761                        ;
 19762                        ;
 19763                        ;				k_draw_rect(pWin->win_x,
 19764                        ;							
                    pWin->win_y,
 19765                        ;							
                    pWin->win_x + pWin->win_width,
 19766                        ;							
                    pWin->win_y + pWin->win_height,
 19767                        ;							
                    DEFAULT_WIN_HIGHLIGHT_COLOR,
 19768                        ;							
                    BITMAP_NOBRUSH,
 19769                        ;							
                    BITMAP_FRONT);
 19770                        ;				*/
 19771                        ;
 19772                        ;				/*
 19773                        ;				if(pWin->style & FXWS_SY
                    SMENU)
 19774                        ;				{
 19775                        ;					gx = k_user_getS
                    ystemMetric(SM_CXGADGET);
 19776                        ;					gy = k_user_getS
                    ystemMetric(SM_CYGADGET);
 19777                        ;					bx = k_user_getS
                    ystemMetric(SM_CXBORDER);
 19778                        ;					by = k_user_getS
                    ystemMetric(SM_CYBORDER);
 19779                        ;
 19780                        ;					if((dx > bx) && 
                    (dx < (bx + gx)))
  Mon Dec  7 2020 11:19                                                Page 385


 19781                        ;					{
 19782                        ;						if((dy >
                     by) && (dy < (by + gy)))
 19783                        ;						{
 19784                        ;							
                    k_debug_string("DefWindowProc::FX_NC_LBUTTON_DOWN:CLOSEBOX\r
                    \n");
 19785                        ;						}
 19786                        ;					}
 19787                        ;				}
 19788                        ;
 19789                        ;				k_debug_integer("DefWind
                    owProc::FX_NC_LBUTTON_DOWN:cx:",cx);
 19790                        ;				k_debug_integer("DefWind
                    owProc::FX_NC_LBUTTON_DOWN:cy:",cy);
 19791                        ;				k_debug_integer("DefWind
                    owProc::FX_NC_LBUTTON_DOWN:dx:",dx);
 19792                        ;				k_debug_integer("DefWind
                    owProc::FX_NC_LBUTTON_DOWN:dy:",dy);
 19793                        ;				*/
 19794                        ;				break;
 19795                        	.line	3460
 19796 04:58A7: 82 07 04     	brl	L10279
 19797                        ;
 19798                        ;			case FX_NC_LBUTTON_DRAG:
 19799                        	.line	3462
 19800                        L10310:
 19801                        ;				k_debug_string("DefWindo
                    wProc::FX_NC_LBUTTON_DRAG\r\n");
 19802                        	.line	3463
 19803 04:58AA: F4 xx xx     	pea	#^L731+886
 19804 04:58AD: F4 xx xx     	pea	#<L731+886
 19805 04:58B0: 22 xx xx xx  	jsl	~~k_debug_string
 19806                        ;
 19807                        ;				cx = MSG_GETMOUSE_X(pMsg
                    );
 19808                        	.line	3465
 19809 04:58B4: A0 17 00     	ldy	#$17
 19810 04:58B7: B7 3F        	lda	[<L732+pMsg_0],Y
 19811 04:58B9: 85 21        	sta	<L733+cx_1
 19812                        ;				cy = MSG_GETMOUSE_Y(pMsg
                    );
 19813                        	.line	3466
 19814 04:58BB: A0 19 00     	ldy	#$19
 19815 04:58BE: B7 3F        	lda	[<L732+pMsg_0],Y
 19816 04:58C0: 85 23        	sta	<L733+cy_1
 19817                        ;				dx = (cx - pWin->win_x);
 19818                        	.line	3467
 19819 04:58C2: 38           	sec
 19820 04:58C3: A5 21        	lda	<L733+cx_1
 19821 04:58C5: A0 08 00     	ldy	#$8
 19822 04:58C8: F7 11        	sbc	[<L733+pWin_1],Y
 19823 04:58CA: 85 25        	sta	<L733+dx_1
 19824                        ;				dy = (cy - pWin->win_y);
 19825                        	.line	3468
 19826 04:58CC: 38           	sec
 19827 04:58CD: A5 23        	lda	<L733+cy_1
 19828 04:58CF: A0 0A 00     	ldy	#$a
  Mon Dec  7 2020 11:19                                                Page 386


 19829 04:58D2: F7 11        	sbc	[<L733+pWin_1],Y
 19830 04:58D4: 85 27        	sta	<L733+dy_1
 19831                        ;
 19832                        ;
 19833                        ;				if(defPrcData)
 19834                        	.line	3471
 19835                        ;				{
 19836 04:58D6: A5 37        	lda	<L733+defPrcData_1
 19837 04:58D8: 05 39        	ora	<L733+defPrcData_1+2
 19838 04:58DA: D0 03        	bne	L753
 19839 04:58DC: 82 04 01     	brl	L10311
 19840                        L753:
 19841                        	.line	3472
 19842                        ;					if(defPrcData->i
                    sDrag == TRUE)
 19843                        	.line	3473
 19844                        ;					{
 19845 04:58DF: E2 20        	sep	#$20
 19846                        	longa	off
 19847 04:58E1: A0 10 00     	ldy	#$10
 19848 04:58E4: B7 37        	lda	[<L733+defPrcData_1],Y
 19849 04:58E6: C9 01        	cmp	#<$1
 19850 04:58E8: C2 20        	rep	#$20
 19851                        	longa	on
 19852 04:58EA: F0 03        	beq	L754
 19853 04:58EC: 82 9A 00     	brl	L10312
 19854                        L754:
 19855                        	.line	3474
 19856                        ;						//k_debu
                    g_integer("DefWindowProc::FX_NC_LBUTTON_DRAG:rect:defPrcData
                    ->area.x:",defPrcData->area.x);
 19857                        ;						//k_debu
                    g_integer("DefWindowProc::FX_NC_LBUTTON_DRAG:rect:defPrcData
                    ->area.y:",defPrcData->area.y);
 19858                        ;
 19859                        ;						k_draw_r
                    ect(defPrcData->area.x,
 19860                        	.line	3478
 19861                        ;							
                    		defPrcData->area.y,
 19862                        ;							
                    		defPrcData->area.x + pWin->win_width - 1,
 19863                        ;							
                    		defPrcData->area.y + pWin->win_height - 1,
 19864                        ;							
                    		FILLCOLOR_TRANSPARENT,
 19865                        ;							
                    		BITMAP_NOBRUSH,
 19866                        ;							
                    		BITMAP_FRONT);
 19867 04:58EF: F4 00 00     	pea	#<$0
 19868 04:58F2: F4 00 00     	pea	#<$0
 19869 04:58F5: F4 00 00     	pea	#<$0
 19870 04:58F8: 18           	clc
 19871 04:58F9: A0 02 00     	ldy	#$2
 19872 04:58FC: B7 37        	lda	[<L733+defPrcData_1],Y
 19873 04:58FE: A0 0E 00     	ldy	#$e
 19874 04:5901: 77 11        	adc	[<L733+pWin_1],Y
  Mon Dec  7 2020 11:19                                                Page 387


 19875 04:5903: 85 01        	sta	<R0
 19876 04:5905: 18           	clc
 19877 04:5906: A9 FF FF     	lda	#$ffff
 19878 04:5909: 65 01        	adc	<R0
 19879 04:590B: 48           	pha
 19880 04:590C: 18           	clc
 19881 04:590D: A7 37        	lda	[<L733+defPrcData_1]
 19882 04:590F: A0 0C 00     	ldy	#$c
 19883 04:5912: 77 11        	adc	[<L733+pWin_1],Y
 19884 04:5914: 85 01        	sta	<R0
 19885 04:5916: 18           	clc
 19886 04:5917: A9 FF FF     	lda	#$ffff
 19887 04:591A: 65 01        	adc	<R0
 19888 04:591C: 48           	pha
 19889 04:591D: A0 02 00     	ldy	#$2
 19890 04:5920: B7 37        	lda	[<L733+defPrcData_1],Y
 19891 04:5922: 48           	pha
 19892 04:5923: A7 37        	lda	[<L733+defPrcData_1]
 19893 04:5925: 48           	pha
 19894 04:5926: 22 xx xx xx  	jsl	~~k_draw_rect
 19895                        ;
 19896                        ;						defPrcDa
                    ta->area.x = cx - defPrcData->xoffset + 1;
 19897                        	.line	3486
 19898 04:592A: 38           	sec
 19899 04:592B: A5 21        	lda	<L733+cx_1
 19900 04:592D: A0 08 00     	ldy	#$8
 19901 04:5930: F7 37        	sbc	[<L733+defPrcData_1],Y
 19902 04:5932: 85 01        	sta	<R0
 19903 04:5934: A5 01        	lda	<R0
 19904 04:5936: 1A           	ina
 19905 04:5937: 87 37        	sta	[<L733+defPrcData_1]
 19906                        ;						defPrcDa
                    ta->area.y = cy - defPrcData->yoffset + 1;
 19907                        	.line	3487
 19908 04:5939: 38           	sec
 19909 04:593A: A5 23        	lda	<L733+cy_1
 19910 04:593C: A0 0A 00     	ldy	#$a
 19911 04:593F: F7 37        	sbc	[<L733+defPrcData_1],Y
 19912 04:5941: 85 01        	sta	<R0
 19913 04:5943: A5 01        	lda	<R0
 19914 04:5945: 1A           	ina
 19915 04:5946: A0 02 00     	ldy	#$2
 19916 04:5949: 97 37        	sta	[<L733+defPrcData_1],Y
 19917                        ;
 19918                        ;						k_draw_r
                    ect(defPrcData->area.x,
 19919                        	.line	3489
 19920                        ;							
                    		defPrcData->area.y,
 19921                        ;							
                    		defPrcData->area.x + pWin->win_width - 1,
 19922                        ;							
                    		defPrcData->area.y + pWin->win_height - 1,
 19923                        ;							
                    		DEFAULT_WIN_HIGHLIGHT_COLOR,
 19924                        ;							
                    		BITMAP_NOBRUSH,
  Mon Dec  7 2020 11:19                                                Page 388


 19925                        ;							
                    		BITMAP_FRONT);
 19926 04:594B: F4 00 00     	pea	#<$0
 19927 04:594E: F4 00 00     	pea	#<$0
 19928 04:5951: F4 03 00     	pea	#<$3
 19929 04:5954: 18           	clc
 19930 04:5955: A0 02 00     	ldy	#$2
 19931 04:5958: B7 37        	lda	[<L733+defPrcData_1],Y
 19932 04:595A: A0 0E 00     	ldy	#$e
 19933 04:595D: 77 11        	adc	[<L733+pWin_1],Y
 19934 04:595F: 85 01        	sta	<R0
 19935 04:5961: 18           	clc
 19936 04:5962: A9 FF FF     	lda	#$ffff
 19937 04:5965: 65 01        	adc	<R0
 19938 04:5967: 48           	pha
 19939 04:5968: 18           	clc
 19940 04:5969: A7 37        	lda	[<L733+defPrcData_1]
 19941 04:596B: A0 0C 00     	ldy	#$c
 19942 04:596E: 77 11        	adc	[<L733+pWin_1],Y
 19943 04:5970: 85 01        	sta	<R0
 19944 04:5972: 18           	clc
 19945 04:5973: A9 FF FF     	lda	#$ffff
 19946 04:5976: 65 01        	adc	<R0
 19947 04:5978: 48           	pha
 19948 04:5979: A0 02 00     	ldy	#$2
 19949 04:597C: B7 37        	lda	[<L733+defPrcData_1],Y
 19950 04:597E: 48           	pha
 19951 04:597F: A7 37        	lda	[<L733+defPrcData_1]
 19952 04:5981: 48           	pha
 19953 04:5982: 22 xx xx xx  	jsl	~~k_draw_rect
 19954                        ;					}
 19955                        	.line	3496
 19956                        ;					else if(defPrcDa
                    ta->isResize == TRUE)
 19957 04:5986: 82 5A 00     	brl	L10313
 19958                        L10312:
 19959                        	.line	3497
 19960                        ;					{
 19961 04:5989: E2 20        	sep	#$20
 19962                        	longa	off
 19963 04:598B: A0 11 00     	ldy	#$11
 19964 04:598E: B7 37        	lda	[<L733+defPrcData_1],Y
 19965 04:5990: C9 01        	cmp	#<$1
 19966 04:5992: C2 20        	rep	#$20
 19967                        	longa	on
 19968 04:5994: F0 03        	beq	L755
 19969 04:5996: 82 4A 00     	brl	L10314
 19970                        L755:
 19971                        	.line	3498
 19972                        ;
 19973                        ;						k_draw_r
                    ect(pWin->win_x,
 19974                        	.line	3500
 19975                        ;							
                    		pWin->win_y,
 19976                        ;							
                    		defPrcData->area.x,
 19977                        ;							
  Mon Dec  7 2020 11:19                                                Page 389


                    		defPrcData->area.y,
 19978                        ;							
                    		FILLCOLOR_TRANSPARENT,
 19979                        ;							
                    		BITMAP_NOBRUSH,
 19980                        ;							
                    		BITMAP_FRONT);
 19981 04:5999: F4 00 00     	pea	#<$0
 19982 04:599C: F4 00 00     	pea	#<$0
 19983 04:599F: F4 00 00     	pea	#<$0
 19984 04:59A2: A0 02 00     	ldy	#$2
 19985 04:59A5: B7 37        	lda	[<L733+defPrcData_1],Y
 19986 04:59A7: 48           	pha
 19987 04:59A8: A7 37        	lda	[<L733+defPrcData_1]
 19988 04:59AA: 48           	pha
 19989 04:59AB: A0 0A 00     	ldy	#$a
 19990 04:59AE: B7 11        	lda	[<L733+pWin_1],Y
 19991 04:59B0: 48           	pha
 19992 04:59B1: A0 08 00     	ldy	#$8
 19993 04:59B4: B7 11        	lda	[<L733+pWin_1],Y
 19994 04:59B6: 48           	pha
 19995 04:59B7: 22 xx xx xx  	jsl	~~k_draw_rect
 19996                        ;
 19997                        ;						defPrcDa
                    ta->area.x = cx;
 19998                        	.line	3508
 19999 04:59BB: A5 21        	lda	<L733+cx_1
 20000 04:59BD: 87 37        	sta	[<L733+defPrcData_1]
 20001                        ;						defPrcDa
                    ta->area.y = cy;
 20002                        	.line	3509
 20003 04:59BF: A5 23        	lda	<L733+cy_1
 20004 04:59C1: A0 02 00     	ldy	#$2
 20005 04:59C4: 97 37        	sta	[<L733+defPrcData_1],Y
 20006                        ;
 20007                        ;
 20008                        ;						k_draw_r
                    ect(pWin->win_x,
 20009                        	.line	3512
 20010                        ;						        
                     	pWin->win_y,
 20011                        ;							
                    		cx,
 20012                        ;							
                    		cy,
 20013                        ;							
                    		DEFAULT_WIN_HIGHLIGHT_COLOR,
 20014                        ;							
                    		BITMAP_NOBRUSH,
 20015                        ;							
                    		BITMAP_FRONT);
 20016 04:59C6: F4 00 00     	pea	#<$0
 20017 04:59C9: F4 00 00     	pea	#<$0
 20018 04:59CC: F4 03 00     	pea	#<$3
 20019 04:59CF: D4 23        	pei	<L733+cy_1
 20020 04:59D1: D4 21        	pei	<L733+cx_1
 20021 04:59D3: A0 0A 00     	ldy	#$a
 20022 04:59D6: B7 11        	lda	[<L733+pWin_1],Y
  Mon Dec  7 2020 11:19                                                Page 390


 20023 04:59D8: 48           	pha
 20024 04:59D9: A0 08 00     	ldy	#$8
 20025 04:59DC: B7 11        	lda	[<L733+pWin_1],Y
 20026 04:59DE: 48           	pha
 20027 04:59DF: 22 xx xx xx  	jsl	~~k_draw_rect
 20028                        ;
 20029                        ;
 20030                        ;					}
 20031                        	.line	3521
 20032                        ;
 20033                        ;				}
 20034                        L10314:
 20035                        L10313:
 20036                        	.line	3523
 20037                        ;
 20038                        ;				k_debug_integer("DefWind
                    owProc::FX_NC_LBUTTON_DRAG:rect:defPrcData->area.x:",defPrcD
                    ata->area.x);
 20039                        L10311:
 20040                        	.line	3525
 20041 04:59E3: A7 37        	lda	[<L733+defPrcData_1]
 20042 04:59E5: 48           	pha
 20043 04:59E6: F4 xx xx     	pea	#^L731+922
 20044 04:59E9: F4 xx xx     	pea	#<L731+922
 20045 04:59EC: 22 xx xx xx  	jsl	~~k_debug_integer
 20046                        ;				k_debug_integer("DefWind
                    owProc::FX_NC_LBUTTON_DRAG:rect:defPrcData->area.y:",defPrcD
                    ata->area.y);
 20047                        	.line	3526
 20048 04:59F0: A0 02 00     	ldy	#$2
 20049 04:59F3: B7 37        	lda	[<L733+defPrcData_1],Y
 20050 04:59F5: 48           	pha
 20051 04:59F6: F4 xx xx     	pea	#^L731+981
 20052 04:59F9: F4 xx xx     	pea	#<L731+981
 20053 04:59FC: 22 xx xx xx  	jsl	~~k_debug_integer
 20054                        ;
 20055                        ;				//k_debug_integer("DefWi
                    ndowProc::FX_NC_LBUTTON_DRAG:rect:cx:",cx);
 20056                        ;				//k_debug_integer("DefWi
                    ndowProc::FX_NC_LBUTTON_DRAG:rect:cy:",cy);
 20057                        ;
 20058                        ;				break;
 20059                        	.line	3531
 20060 04:5A00: 82 AE 02     	brl	L10279
 20061                        ;			case FX_NC_LBUTTON_UP:
 20062                        	.line	3532
 20063                        L10315:
 20064                        ;				k_debug_pointer("DefWind
                    owProc::FX_NC_LBUTTON_UP:",pMsg->hwnd);
 20065                        	.line	3533
 20066 04:5A03: A0 0C 00     	ldy	#$c
 20067 04:5A06: B7 3F        	lda	[<L732+pMsg_0],Y
 20068 04:5A08: 48           	pha
 20069 04:5A09: A0 0A 00     	ldy	#$a
 20070 04:5A0C: B7 3F        	lda	[<L732+pMsg_0],Y
 20071 04:5A0E: 48           	pha
 20072 04:5A0F: F4 xx xx     	pea	#^L731+1040
 20073 04:5A12: F4 xx xx     	pea	#<L731+1040
  Mon Dec  7 2020 11:19                                                Page 391


 20074 04:5A15: 22 xx xx xx  	jsl	~~k_debug_pointer
 20075                        ;
 20076                        ;				k_debug_integer("DefWind
                    owProc::FX_NC_LBUTTON_UP:rect:defPrcData->area.x:",defPrcDat
                    a->area.x);
 20077                        	.line	3535
 20078 04:5A19: A7 37        	lda	[<L733+defPrcData_1]
 20079 04:5A1B: 48           	pha
 20080 04:5A1C: F4 xx xx     	pea	#^L731+1073
 20081 04:5A1F: F4 xx xx     	pea	#<L731+1073
 20082 04:5A22: 22 xx xx xx  	jsl	~~k_debug_integer
 20083                        ;				k_debug_integer("DefWind
                    owProc::FX_NC_LBUTTON_UP:rect:defPrcData->area.y:",defPrcDat
                    a->area.y);
 20084                        	.line	3536
 20085 04:5A26: A0 02 00     	ldy	#$2
 20086 04:5A29: B7 37        	lda	[<L733+defPrcData_1],Y
 20087 04:5A2B: 48           	pha
 20088 04:5A2C: F4 xx xx     	pea	#^L731+1130
 20089 04:5A2F: F4 xx xx     	pea	#<L731+1130
 20090 04:5A32: 22 xx xx xx  	jsl	~~k_debug_integer
 20091                        ;
 20092                        ;				cx = MSG_GETMOUSE_X(pMsg
                    );
 20093                        	.line	3538
 20094 04:5A36: A0 17 00     	ldy	#$17
 20095 04:5A39: B7 3F        	lda	[<L732+pMsg_0],Y
 20096 04:5A3B: 85 21        	sta	<L733+cx_1
 20097                        ;				cy = MSG_GETMOUSE_Y(pMsg
                    );
 20098                        	.line	3539
 20099 04:5A3D: A0 19 00     	ldy	#$19
 20100 04:5A40: B7 3F        	lda	[<L732+pMsg_0],Y
 20101 04:5A42: 85 23        	sta	<L733+cy_1
 20102                        ;
 20103                        ;
 20104                        ;				if(defPrcData->isDrag)
 20105                        	.line	3542
 20106                        ;				{
 20107 04:5A44: A0 10 00     	ldy	#$10
 20108 04:5A47: B7 37        	lda	[<L733+defPrcData_1],Y
 20109 04:5A49: 29 FF 00     	and	#$ff
 20110 04:5A4C: D0 03        	bne	L756
 20111 04:5A4E: 82 2D 00     	brl	L10316
 20112                        L756:
 20113                        	.line	3543
 20114                        ;					defPrcData->area
                    .width = cx;
 20115                        	.line	3544
 20116 04:5A51: A5 21        	lda	<L733+cx_1
 20117 04:5A53: A0 04 00     	ldy	#$4
 20118 04:5A56: 97 37        	sta	[<L733+defPrcData_1],Y
 20119                        ;					defPrcData->area
                    .height = cy;
 20120                        	.line	3545
 20121 04:5A58: A5 23        	lda	<L733+cy_1
 20122 04:5A5A: A0 06 00     	ldy	#$6
 20123 04:5A5D: 97 37        	sta	[<L733+defPrcData_1],Y
  Mon Dec  7 2020 11:19                                                Page 392


 20124                        ;					k_send_window_me
                    ssage(pMsg->hwnd,FX_DRAG_WINDOW_END,NULL,0);
 20125                        	.line	3546
 20126 04:5A5F: F4 00 00     	pea	#<$0
 20127 04:5A62: F4 00 00     	pea	#^$0
 20128 04:5A65: F4 00 00     	pea	#<$0
 20129 04:5A68: F4 0E FB     	pea	#<$fb0e
 20130 04:5A6B: A0 0C 00     	ldy	#$c
 20131 04:5A6E: B7 3F        	lda	[<L732+pMsg_0],Y
 20132 04:5A70: 48           	pha
 20133 04:5A71: A0 0A 00     	ldy	#$a
 20134 04:5A74: B7 3F        	lda	[<L732+pMsg_0],Y
 20135 04:5A76: 48           	pha
 20136 04:5A77: 22 xx xx xx  	jsl	~~k_send_window_message
 20137                        ;				}
 20138                        	.line	3547
 20139                        ;				else if(defPrcData->isRe
                    size)
 20140 04:5A7B: 82 54 00     	brl	L10317
 20141                        L10316:
 20142                        	.line	3548
 20143                        ;				{
 20144 04:5A7E: A0 11 00     	ldy	#$11
 20145 04:5A81: B7 37        	lda	[<L733+defPrcData_1],Y
 20146 04:5A83: 29 FF 00     	and	#$ff
 20147 04:5A86: D0 03        	bne	L757
 20148 04:5A88: 82 47 00     	brl	L10318
 20149                        L757:
 20150                        	.line	3549
 20151                        ;					defPrcData->area
                    .width = cx;
 20152                        	.line	3550
 20153 04:5A8B: A5 21        	lda	<L733+cx_1
 20154 04:5A8D: A0 04 00     	ldy	#$4
 20155 04:5A90: 97 37        	sta	[<L733+defPrcData_1],Y
 20156                        ;					defPrcData->area
                    .height = cy;
 20157                        	.line	3551
 20158 04:5A92: A5 23        	lda	<L733+cy_1
 20159 04:5A94: A0 06 00     	ldy	#$6
 20160 04:5A97: 97 37        	sta	[<L733+defPrcData_1],Y
 20161                        ;
 20162                        ;					k_debug_integer(
                    "DefWindowProc::FX_NC_LBUTTON_UP:rect:defPrcData->area.x:",d
                    efPrcData->area.x);
 20163                        	.line	3553
 20164 04:5A99: A7 37        	lda	[<L733+defPrcData_1]
 20165 04:5A9B: 48           	pha
 20166 04:5A9C: F4 xx xx     	pea	#^L731+1187
 20167 04:5A9F: F4 xx xx     	pea	#<L731+1187
 20168 04:5AA2: 22 xx xx xx  	jsl	~~k_debug_integer
 20169                        ;					k_debug_integer(
                    "DefWindowProc::FX_NC_LBUTTON_UP:rect:defPrcData->area.y:",d
                    efPrcData->area.y);
 20170                        	.line	3554
 20171 04:5AA6: A0 02 00     	ldy	#$2
 20172 04:5AA9: B7 37        	lda	[<L733+defPrcData_1],Y
 20173 04:5AAB: 48           	pha
  Mon Dec  7 2020 11:19                                                Page 393


 20174 04:5AAC: F4 xx xx     	pea	#^L731+1244
 20175 04:5AAF: F4 xx xx     	pea	#<L731+1244
 20176 04:5AB2: 22 xx xx xx  	jsl	~~k_debug_integer
 20177                        ;
 20178                        ;
 20179                        ;					k_send_window_me
                    ssage(pMsg->hwnd,FX_RESIZE_WINDOW_END,NULL,0);
 20180                        	.line	3557
 20181 04:5AB6: F4 00 00     	pea	#<$0
 20182 04:5AB9: F4 00 00     	pea	#^$0
 20183 04:5ABC: F4 00 00     	pea	#<$0
 20184 04:5ABF: F4 0C FB     	pea	#<$fb0c
 20185 04:5AC2: A0 0C 00     	ldy	#$c
 20186 04:5AC5: B7 3F        	lda	[<L732+pMsg_0],Y
 20187 04:5AC7: 48           	pha
 20188 04:5AC8: A0 0A 00     	ldy	#$a
 20189 04:5ACB: B7 3F        	lda	[<L732+pMsg_0],Y
 20190 04:5ACD: 48           	pha
 20191 04:5ACE: 22 xx xx xx  	jsl	~~k_send_window_message
 20192                        ;				}
 20193                        	.line	3558
 20194                        ;
 20195                        ;				switch(pWin->nonclientGa
                    dgets[index].msgType)
 20196                        L10318:
 20197                        L10317:
 20198                        	.line	3560
 20199 04:5AD2: A0 00 00     	ldy	#$0
 20200 04:5AD5: A5 31        	lda	<L733+index_1
 20201 04:5AD7: 10 01        	bpl	L758
 20202 04:5AD9: 88           	dey
 20203                        L758:
 20204 04:5ADA: 85 01        	sta	<R0
 20205 04:5ADC: 84 03        	sty	<R0+2
 20206 04:5ADE: F4 00 00     	pea	#^$b
 20207 04:5AE1: F4 0B 00     	pea	#<$b
 20208 04:5AE4: D4 03        	pei	<R0+2
 20209 04:5AE6: D4 01        	pei	<R0
 20210                        	xref	~~~lmul
 20211 04:5AE8: 22 xx xx xx  	jsl	~~~lmul
 20212 04:5AEC: 85 01        	sta	<R0
 20213 04:5AEE: 86 03        	stx	<R0+2
 20214 04:5AF0: 18           	clc
 20215 04:5AF1: A9 28 00     	lda	#$28
 20216 04:5AF4: 65 11        	adc	<L733+pWin_1
 20217 04:5AF6: 85 05        	sta	<R1
 20218 04:5AF8: A9 00 00     	lda	#$0
 20219 04:5AFB: 65 13        	adc	<L733+pWin_1+2
 20220 04:5AFD: 85 07        	sta	<R1+2
 20221 04:5AFF: 18           	clc
 20222 04:5B00: A5 05        	lda	<R1
 20223 04:5B02: 65 01        	adc	<R0
 20224 04:5B04: 85 09        	sta	<R2
 20225 04:5B06: A5 07        	lda	<R1+2
 20226 04:5B08: 65 03        	adc	<R0+2
 20227 04:5B0A: 85 0B        	sta	<R2+2
 20228 04:5B0C: A7 09        	lda	[<R2]
 20229 04:5B0E: 82 59 00     	brl	L10319
  Mon Dec  7 2020 11:19                                                Page 394


 20230                        ;				{
 20231                        	.line	3561
 20232                        ;				default:
 20233                        	.line	3562
 20234                        L10321:
 20235                        ;					k_send_window_me
                    ssage(pMsg->hwnd,pWin->nonclientGadgets[index].msgType,NULL,
                    0);
 20236                        	.line	3563
 20237 04:5B11: F4 00 00     	pea	#<$0
 20238 04:5B14: F4 00 00     	pea	#^$0
 20239 04:5B17: F4 00 00     	pea	#<$0
 20240 04:5B1A: A0 00 00     	ldy	#$0
 20241 04:5B1D: A5 31        	lda	<L733+index_1
 20242 04:5B1F: 10 01        	bpl	L759
 20243 04:5B21: 88           	dey
 20244                        L759:
 20245 04:5B22: 85 01        	sta	<R0
 20246 04:5B24: 84 03        	sty	<R0+2
 20247 04:5B26: F4 00 00     	pea	#^$b
 20248 04:5B29: F4 0B 00     	pea	#<$b
 20249 04:5B2C: D4 03        	pei	<R0+2
 20250 04:5B2E: D4 01        	pei	<R0
 20251                        	xref	~~~lmul
 20252 04:5B30: 22 xx xx xx  	jsl	~~~lmul
 20253 04:5B34: 85 01        	sta	<R0
 20254 04:5B36: 86 03        	stx	<R0+2
 20255 04:5B38: 18           	clc
 20256 04:5B39: A9 28 00     	lda	#$28
 20257 04:5B3C: 65 11        	adc	<L733+pWin_1
 20258 04:5B3E: 85 05        	sta	<R1
 20259 04:5B40: A9 00 00     	lda	#$0
 20260 04:5B43: 65 13        	adc	<L733+pWin_1+2
 20261 04:5B45: 85 07        	sta	<R1+2
 20262 04:5B47: 18           	clc
 20263 04:5B48: A5 05        	lda	<R1
 20264 04:5B4A: 65 01        	adc	<R0
 20265 04:5B4C: 85 09        	sta	<R2
 20266 04:5B4E: A5 07        	lda	<R1+2
 20267 04:5B50: 65 03        	adc	<R0+2
 20268 04:5B52: 85 0B        	sta	<R2+2
 20269 04:5B54: A7 09        	lda	[<R2]
 20270 04:5B56: 48           	pha
 20271 04:5B57: A0 0C 00     	ldy	#$c
 20272 04:5B5A: B7 3F        	lda	[<L732+pMsg_0],Y
 20273 04:5B5C: 48           	pha
 20274 04:5B5D: A0 0A 00     	ldy	#$a
 20275 04:5B60: B7 3F        	lda	[<L732+pMsg_0],Y
 20276 04:5B62: 48           	pha
 20277 04:5B63: 22 xx xx xx  	jsl	~~k_send_window_message
 20278                        ;					break;
 20279                        	.line	3564
 20280 04:5B67: 82 08 00     	brl	L10320
 20281                        ;				}
 20282                        	.line	3565
 20283                        L10319:
 20284                        	xref	~~~swt
 20285 04:5B6A: 22 xx xx xx  	jsl	~~~swt
  Mon Dec  7 2020 11:19                                                Page 395


 20286 04:5B6E: 00 00        	dw	0
 20287 04:5B70: 10 5B        	dw	L10321-1
 20288                        L10320:
 20289                        ;
 20290                        ;
 20291                        ;				if(defPrcData)
 20292                        	.line	3568
 20293                        ;					defPrcData->canD
                    rag = FALSE;
 20294 04:5B72: A5 37        	lda	<L733+defPrcData_1
 20295 04:5B74: 05 39        	ora	<L733+defPrcData_1+2
 20296 04:5B76: D0 03        	bne	L760
 20297 04:5B78: 82 0B 00     	brl	L10322
 20298                        L760:
 20299                        	.line	3569
 20300 04:5B7B: E2 20        	sep	#$20
 20301                        	longa	off
 20302 04:5B7D: A9 00        	lda	#$0
 20303 04:5B7F: A0 12 00     	ldy	#$12
 20304 04:5B82: 97 37        	sta	[<L733+defPrcData_1],Y
 20305 04:5B84: C2 20        	rep	#$20
 20306                        	longa	on
 20307                        ;
 20308                        ;				break;
 20309                        L10322:
 20310                        	.line	3571
 20311 04:5B86: 82 28 01     	brl	L10279
 20312                        ;			case FX_NC_RBUTTON_DOWN:
 20313                        	.line	3572
 20314                        L10323:
 20315                        ;				k_debug_string("DefWindo
                    wProc::FX_NC_RBUTTON_DOWN\r\n");
 20316                        	.line	3573
 20317 04:5B89: F4 xx xx     	pea	#^L731+1301
 20318 04:5B8C: F4 xx xx     	pea	#<L731+1301
 20319 04:5B8F: 22 xx xx xx  	jsl	~~k_debug_string
 20320                        ;
 20321                        ;				cx = MSG_GETMOUSE_X(pMsg
                    );
 20322                        	.line	3575
 20323 04:5B93: A0 17 00     	ldy	#$17
 20324 04:5B96: B7 3F        	lda	[<L732+pMsg_0],Y
 20325 04:5B98: 85 21        	sta	<L733+cx_1
 20326                        ;				cy = MSG_GETMOUSE_Y(pMsg
                    );
 20327                        	.line	3576
 20328 04:5B9A: A0 19 00     	ldy	#$19
 20329 04:5B9D: B7 3F        	lda	[<L732+pMsg_0],Y
 20330 04:5B9F: 85 23        	sta	<L733+cy_1
 20331                        ;
 20332                        ;				dx = (cx - pWin->win_x);
 20333                        	.line	3578
 20334 04:5BA1: 38           	sec
 20335 04:5BA2: A5 21        	lda	<L733+cx_1
 20336 04:5BA4: A0 08 00     	ldy	#$8
 20337 04:5BA7: F7 11        	sbc	[<L733+pWin_1],Y
 20338 04:5BA9: 85 25        	sta	<L733+dx_1
 20339                        ;				dy = (cy - pWin->win_y);
  Mon Dec  7 2020 11:19                                                Page 396


 20340                        	.line	3579
 20341 04:5BAB: 38           	sec
 20342 04:5BAC: A5 23        	lda	<L733+cy_1
 20343 04:5BAE: A0 0A 00     	ldy	#$a
 20344 04:5BB1: F7 11        	sbc	[<L733+pWin_1],Y
 20345 04:5BB3: 85 27        	sta	<L733+dy_1
 20346                        ;
 20347                        ;
 20348                        ;				for(index = 0;index<8;in
                    dex++)
 20349                        	.line	3582
 20350 04:5BB5: 64 31        	stz	<L733+index_1
 20351                        L10326:
 20352                        ;				{
 20353                        	.line	3583
 20354                        ;					//k_debug_rect("
                    testWindowProc::nonclientGadgets:rect:",&pWin->nonclientGadg
                    ets[index].area);
 20355                        ;
 20356                        ;					if(k_is_inside_r
                    ect(&pWin->nonclientGadgets[index].area,cx,cy))
 20357                        	.line	3586
 20358                        ;					{
 20359 04:5BB7: D4 23        	pei	<L733+cy_1
 20360 04:5BB9: D4 21        	pei	<L733+cx_1
 20361 04:5BBB: A0 00 00     	ldy	#$0
 20362 04:5BBE: A5 31        	lda	<L733+index_1
 20363 04:5BC0: 10 01        	bpl	L761
 20364 04:5BC2: 88           	dey
 20365                        L761:
 20366 04:5BC3: 85 01        	sta	<R0
 20367 04:5BC5: 84 03        	sty	<R0+2
 20368 04:5BC7: F4 00 00     	pea	#^$b
 20369 04:5BCA: F4 0B 00     	pea	#<$b
 20370 04:5BCD: D4 03        	pei	<R0+2
 20371 04:5BCF: D4 01        	pei	<R0
 20372                        	xref	~~~lmul
 20373 04:5BD1: 22 xx xx xx  	jsl	~~~lmul
 20374 04:5BD5: 85 01        	sta	<R0
 20375 04:5BD7: 86 03        	stx	<R0+2
 20376 04:5BD9: 18           	clc
 20377 04:5BDA: A9 20 00     	lda	#$20
 20378 04:5BDD: 65 01        	adc	<R0
 20379 04:5BDF: 85 05        	sta	<R1
 20380 04:5BE1: A9 00 00     	lda	#$0
 20381 04:5BE4: 65 03        	adc	<R0+2
 20382 04:5BE6: 85 07        	sta	<R1+2
 20383 04:5BE8: 18           	clc
 20384 04:5BE9: A5 11        	lda	<L733+pWin_1
 20385 04:5BEB: 65 05        	adc	<R1
 20386 04:5BED: 85 01        	sta	<R0
 20387 04:5BEF: A5 13        	lda	<L733+pWin_1+2
 20388 04:5BF1: 65 07        	adc	<R1+2
 20389 04:5BF3: 85 03        	sta	<R0+2
 20390 04:5BF5: D4 03        	pei	<R0+2
 20391 04:5BF7: D4 01        	pei	<R0
 20392 04:5BF9: 22 xx xx xx  	jsl	~~k_is_inside_rect
 20393 04:5BFD: AA           	tax
  Mon Dec  7 2020 11:19                                                Page 397


 20394 04:5BFE: D0 03        	bne	L762
 20395 04:5C00: 82 4A 00     	brl	L10327
 20396                        L762:
 20397                        	.line	3587
 20398                        ;						k_debug_
                    integer("testWindowProc::nonclientGadgets:rect:hit:",pWin->n
                    onclientGadgets[index].msgType);
 20399                        	.line	3588
 20400 04:5C03: A0 00 00     	ldy	#$0
 20401 04:5C06: A5 31        	lda	<L733+index_1
 20402 04:5C08: 10 01        	bpl	L763
 20403 04:5C0A: 88           	dey
 20404                        L763:
 20405 04:5C0B: 85 01        	sta	<R0
 20406 04:5C0D: 84 03        	sty	<R0+2
 20407 04:5C0F: F4 00 00     	pea	#^$b
 20408 04:5C12: F4 0B 00     	pea	#<$b
 20409 04:5C15: D4 03        	pei	<R0+2
 20410 04:5C17: D4 01        	pei	<R0
 20411                        	xref	~~~lmul
 20412 04:5C19: 22 xx xx xx  	jsl	~~~lmul
 20413 04:5C1D: 85 01        	sta	<R0
 20414 04:5C1F: 86 03        	stx	<R0+2
 20415 04:5C21: 18           	clc
 20416 04:5C22: A9 28 00     	lda	#$28
 20417 04:5C25: 65 11        	adc	<L733+pWin_1
 20418 04:5C27: 85 05        	sta	<R1
 20419 04:5C29: A9 00 00     	lda	#$0
 20420 04:5C2C: 65 13        	adc	<L733+pWin_1+2
 20421 04:5C2E: 85 07        	sta	<R1+2
 20422 04:5C30: 18           	clc
 20423 04:5C31: A5 05        	lda	<R1
 20424 04:5C33: 65 01        	adc	<R0
 20425 04:5C35: 85 09        	sta	<R2
 20426 04:5C37: A5 07        	lda	<R1+2
 20427 04:5C39: 65 03        	adc	<R0+2
 20428 04:5C3B: 85 0B        	sta	<R2+2
 20429 04:5C3D: A7 09        	lda	[<R2]
 20430 04:5C3F: 48           	pha
 20431 04:5C40: F4 xx xx     	pea	#^L731+1337
 20432 04:5C43: F4 xx xx     	pea	#<L731+1337
 20433 04:5C46: 22 xx xx xx  	jsl	~~k_debug_integer
 20434                        ;						break;
 20435                        	.line	3589
 20436 04:5C4A: 82 12 00     	brl	L10325
 20437                        ;					}
 20438                        	.line	3590
 20439                        ;				}
 20440                        L10327:
 20441                        	.line	3591
 20442                        L10324:
 20443 04:5C4D: E6 31        	inc	<L733+index_1
 20444 04:5C4F: 38           	sec
 20445 04:5C50: A5 31        	lda	<L733+index_1
 20446 04:5C52: E9 08 00     	sbc	#<$8
 20447 04:5C55: 70 03        	bvs	L764
 20448 04:5C57: 49 00 80     	eor	#$8000
 20449                        L764:
  Mon Dec  7 2020 11:19                                                Page 398


 20450 04:5C5A: 30 03        	bmi	L765
 20451 04:5C5C: 82 58 FF     	brl	L10326
 20452                        L765:
 20453                        L10325:
 20454                        ;
 20455                        ;
 20456                        ;
 20457                        ;
 20458                        ;				/*
 20459                        ;				if(pWin->style & FXWS_SY
                    SMENU)
 20460                        ;				{
 20461                        ;					gx = k_user_getS
                    ystemMetric(SM_CXGADGET);
 20462                        ;					gy = k_user_getS
                    ystemMetric(SM_CYGADGET);
 20463                        ;					bx = k_user_getS
                    ystemMetric(SM_CXBORDER);
 20464                        ;					by = k_user_getS
                    ystemMetric(SM_CYBORDER);
 20465                        ;
 20466                        ;					if((dx > bx) && 
                    (dx < (bx + gx)))
 20467                        ;					{
 20468                        ;						if((dy >
                     by) && (dy < (by + gy)))
 20469                        ;						{
 20470                        ;							
                    k_debug_string("DefWindowProc::FX_NC_RBUTTON_DOWN:CLOSEBOX\r
                    \n");
 20471                        ;						}
 20472                        ;					}
 20473                        ;				}
 20474                        ;
 20475                        ;				k_debug_integer("DefWind
                    owProc::FX_NC_RBUTTON_DOWN:cx:",cx);
 20476                        ;				k_debug_integer("DefWind
                    owProc::FX_NC_RBUTTON_DOWN:cy:",cy);
 20477                        ;				k_debug_integer("DefWind
                    owProc::FX_NC_RBUTTON_DOWN:dx:",dx);
 20478                        ;				k_debug_integer("DefWind
                    owProc::FX_NC_RBUTTON_DOWN:dy:",dy);
 20479                        ;				*/
 20480                        ;				break;
 20481                        	.line	3618
 20482 04:5C5F: 82 4F 00     	brl	L10279
 20483                        ;			default:
 20484                        	.line	3619
 20485                        L10328:
 20486                        ;				break;
 20487                        	.line	3620
 20488 04:5C62: 82 4C 00     	brl	L10279
 20489                        ;			}
 20490                        	.line	3621
 20491                        L10278:
 20492                        	xref	~~~swt
 20493 04:5C65: 22 xx xx xx  	jsl	~~~swt
 20494 04:5C69: 11 00        	dw	17
  Mon Dec  7 2020 11:19                                                Page 399


 20495 04:5C6B: 04 0F        	dw	3844
 20496 04:5C6D: CF 54        	dw	L10291-1
 20497 04:5C6F: 13 0F        	dw	3859
 20498 04:5C71: 47 52        	dw	L10280-1
 20499 04:5C73: 14 0F        	dw	3860
 20500 04:5C75: 61 53        	dw	L10284-1
 20501 04:5C77: 03 8F        	dw	36611
 20502 04:5C79: 7D 55        	dw	L10294-1
 20503 04:5C7B: 04 8F        	dw	36612
 20504 04:5C7D: C6 56        	dw	L10300-1
 20505 04:5C7F: 05 8F        	dw	36613
 20506 04:5C81: A9 58        	dw	L10310-1
 20507 04:5C83: 06 8F        	dw	36614
 20508 04:5C85: 02 5A        	dw	L10315-1
 20509 04:5C87: 08 8F        	dw	36616
 20510 04:5C89: 88 5B        	dw	L10323-1
 20511 04:5C8B: 14 8F        	dw	36628
 20512 04:5C8D: 41 53        	dw	L10283-1
 20513 04:5C8F: 01 FB        	dw	64257
 20514 04:5C91: EF 54        	dw	L10292-1
 20515 04:5C93: 08 FB        	dw	64264
 20516 04:5C95: 45 55        	dw	L10293-1
 20517 04:5C97: 0B FB        	dw	64267
 20518 04:5C99: 81 53        	dw	L10285-1
 20519 04:5C9B: 0C FB        	dw	64268
 20520 04:5C9D: BD 53        	dw	L10286-1
 20521 04:5C9F: 0D FB        	dw	64269
 20522 04:5CA1: F9 53        	dw	L10287-1
 20523 04:5CA3: 0E FB        	dw	64270
 20524 04:5CA5: 35 54        	dw	L10288-1
 20525 04:5CA7: 0F FB        	dw	64271
 20526 04:5CA9: AF 54        	dw	L10290-1
 20527 04:5CAB: FF FB        	dw	64511
 20528 04:5CAD: 79 54        	dw	L10289-1
 20529 04:5CAF: 61 5C        	dw	L10328-1
 20530                        L10279:
 20531                        ;		}
 20532                        	.line	3622
 20533                        ;	}
 20534                        L10277:
 20535                        	.line	3623
 20536                        ;	return bRet;
 20537                        L10275:
 20538                        	.line	3624
 20539 04:5CB1: A5 3B        	lda	<L733+bRet_1
 20540 04:5CB3: 29 FF 00     	and	#$ff
 20541                        L766:
 20542 04:5CB6: A8           	tay
 20543 04:5CB7: A5 3D        	lda	<L732+2
 20544 04:5CB9: 85 41        	sta	<L732+2+4
 20545 04:5CBB: A5 3C        	lda	<L732+1
 20546 04:5CBD: 85 40        	sta	<L732+1+4
 20547 04:5CBF: 2B           	pld
 20548 04:5CC0: 3B           	tsc
 20549 04:5CC1: 18           	clc
 20550 04:5CC2: 69 3F 00     	adc	#L732+4
 20551 04:5CC5: 1B           	tcs
 20552 04:5CC6: 98           	tya
  Mon Dec  7 2020 11:19                                                Page 400


 20553 04:5CC7: 6B           	rtl
 20554                        ;}
 20555                        	.line	3625
 20556                        	.endblock	3625
 20557             0000003B   L732	equ	59
 20558             0000000D   L733	equ	13
 20559 04:5CC8:              	ends
 20560                        	efunc
 20561                        	.endfunc	3625,13,59
 20562                        	.line	3625
 20563                        	data
 20564                        L731:
 20565 00:1056: 44 65 66 57  	db	$44,$65,$66,$57,$6E,$64,$50,$72,$6F,$63,
                    $3A,$3A,$64,$65,$66
       00:105A: 6E 64 50 72 
       00:105E: 6F 63 3A 3A 
       00:1062: 64 65 66 
 20566 00:1065: 50 72 63 44  	db	$50,$72,$63,$44,$61,$74,$61,$5B,$63,$72,
                    $65,$61,$74,$65,$5D
       00:1069: 61 74 61 5B 
       00:106D: 63 72 65 61 
       00:1071: 74 65 5D 
 20567 00:1074: 3A 70 4D 73  	db	$3A,$70,$4D,$73,$67,$2D,$3E,$68,$77,$6E,
                    $64,$3A,$00,$44,$65
       00:1078: 67 2D 3E 68 
       00:107C: 77 6E 64 3A 
       00:1080: 00 44 65 
 20568 00:1083: 66 57 69 6E  	db	$66,$57,$69,$6E,$64,$6F,$77,$50,$72,$6F,
                    $63,$3A,$3A,$46,$58
       00:1087: 64 6F 77 50 
       00:108B: 72 6F 63 3A 
       00:108F: 3A 46 58 
 20569 00:1092: 5F 46 4F 43  	db	$5F,$46,$4F,$43,$55,$53,$5F,$57,$49,$4E,
                    $44,$4F,$57,$3A,$00
       00:1096: 55 53 5F 57 
       00:109A: 49 4E 44 4F 
       00:109E: 57 3A 00 
 20570 00:10A1: 44 65 66 57  	db	$44,$65,$66,$57,$69,$6E,$64,$6F,$77,$50,
                    $72,$6F,$63,$3A,$3A
       00:10A5: 69 6E 64 6F 
       00:10A9: 77 50 72 6F 
       00:10AD: 63 3A 3A 
 20571 00:10B0: 46 58 5F 46  	db	$46,$58,$5F,$46,$4F,$43,$55,$53,$5F,$57,
                    $49,$4E,$44,$4F,$57
       00:10B4: 4F 43 55 53 
       00:10B8: 5F 57 49 4E 
       00:10BC: 44 4F 57 
 20572 00:10BF: 3A 6B 5F 6E  	db	$3A,$6B,$5F,$6E,$6F,$64,$65,$6C,$69,$73,
                    $74,$5F,$72,$65,$6D
       00:10C3: 6F 64 65 6C 
       00:10C7: 69 73 74 5F 
       00:10CB: 72 65 6D 
 20573 00:10CE: 6F 76 65 5F  	db	$6F,$76,$65,$5F,$6F,$62,$6A,$3A,$00,$44,
                    $65,$66,$57,$69,$6E
       00:10D2: 6F 62 6A 3A 
       00:10D6: 00 44 65 66 
       00:10DA: 57 69 6E 
 20574 00:10DD: 64 6F 77 50  	db	$64,$6F,$77,$50,$72,$6F,$63,$3A,$3A,$46,
  Mon Dec  7 2020 11:19                                                Page 401


                    $58,$5F,$46,$4F,$43
       00:10E1: 72 6F 63 3A 
       00:10E5: 3A 46 58 5F 
       00:10E9: 46 4F 43 
 20575 00:10EC: 55 53 5F 57  	db	$55,$53,$5F,$57,$49,$4E,$44,$4F,$57,$3A,
                    $6B,$5F,$6E,$6F,$64
       00:10F0: 49 4E 44 4F 
       00:10F4: 57 3A 6B 5F 
       00:10F8: 6E 6F 64 
 20576 00:10FB: 65 6C 69 73  	db	$65,$6C,$69,$73,$74,$5F,$72,$65,$6D,$6F,
                    $76,$65,$5F,$6F,$62
       00:10FF: 74 5F 72 65 
       00:1103: 6D 6F 76 65 
       00:1107: 5F 6F 62 
 20577 00:110A: 6A 3A 00 4E  	db	$6A,$3A,$00,$4E,$4F,$20,$43,$55,$52,$52,
                    $45,$4E,$54,$20,$4E
       00:110E: 4F 20 43 55 
       00:1112: 52 52 45 4E 
       00:1116: 54 20 4E 
 20578 00:1119: 4F 44 45 00  	db	$4F,$44,$45,$00,$44,$65,$66,$57,$69,$6E,
                    $64,$6F,$77,$50,$72
       00:111D: 44 65 66 57 
       00:1121: 69 6E 64 6F 
       00:1125: 77 50 72 
 20579 00:1128: 6F 63 3A 3A  	db	$6F,$63,$3A,$3A,$46,$58,$5F,$46,$4F,$43,
                    $55,$53,$5F,$57,$49
       00:112C: 46 58 5F 46 
       00:1130: 4F 43 55 53 
       00:1134: 5F 57 49 
 20580 00:1137: 4E 44 4F 57  	db	$4E,$44,$4F,$57,$3A,$6B,$5F,$6E,$6F,$64,
                    $65,$6C,$69,$73,$74
       00:113B: 3A 6B 5F 6E 
       00:113F: 6F 64 65 6C 
       00:1143: 69 73 74 
 20581 00:1146: 5F 6E 61 64  	db	$5F,$6E,$61,$64,$64,$74,$6F,$6C,$69,$73,
                    $74,$3A,$00,$44,$65
       00:114A: 64 74 6F 6C 
       00:114E: 69 73 74 3A 
       00:1152: 00 44 65 
 20582 00:1155: 66 57 69 6E  	db	$66,$57,$69,$6E,$64,$6F,$77,$50,$72,$6F,
                    $63,$3A,$3A,$46,$58
       00:1159: 64 6F 77 50 
       00:115D: 72 6F 63 3A 
       00:1161: 3A 46 58 
 20583 00:1164: 5F 4E 43 5F  	db	$5F,$4E,$43,$5F,$46,$4F,$43,$55,$53,$5F,
                    $4C,$4F,$53,$54,$3A
       00:1168: 46 4F 43 55 
       00:116C: 53 5F 4C 4F 
       00:1170: 53 54 3A 
 20584 00:1173: 00 44 65 66  	db	$00,$44,$65,$66,$57,$69,$6E,$64,$6F,$77,
                    $50,$72,$6F,$63,$3A
       00:1177: 57 69 6E 64 
       00:117B: 6F 77 50 72 
       00:117F: 6F 63 3A 
 20585 00:1182: 3A 46 58 5F  	db	$3A,$46,$58,$5F,$46,$4F,$43,$55,$53,$5F,
                    $4C,$4F,$53,$54,$3A
       00:1186: 46 4F 43 55 
       00:118A: 53 5F 4C 4F 
  Mon Dec  7 2020 11:19                                                Page 402


       00:118E: 53 54 3A 
 20586 00:1191: 00 44 65 66  	db	$00,$44,$65,$66,$57,$69,$6E,$64,$6F,$77,
                    $50,$72,$6F,$63,$3A
       00:1195: 57 69 6E 64 
       00:1199: 6F 77 50 72 
       00:119D: 6F 63 3A 
 20587 00:11A0: 3A 46 58 5F  	db	$3A,$46,$58,$5F,$52,$45,$53,$49,$5A,$45,
                    $5F,$57,$49,$4E,$44
       00:11A4: 52 45 53 49 
       00:11A8: 5A 45 5F 57 
       00:11AC: 49 4E 44 
 20588 00:11AF: 4F 57 5F 53  	db	$4F,$57,$5F,$53,$54,$41,$52,$54,$3A,$00,
                    $44,$65,$66,$57,$69
       00:11B3: 54 41 52 54 
       00:11B7: 3A 00 44 65 
       00:11BB: 66 57 69 
 20589 00:11BE: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$50,$72,$6F,$63,$3A,$3A,
                    $46,$58,$5F,$52,$45
       00:11C2: 50 72 6F 63 
       00:11C6: 3A 3A 46 58 
       00:11CA: 5F 52 45 
 20590 00:11CD: 53 49 5A 45  	db	$53,$49,$5A,$45,$5F,$57,$49,$4E,$44,$4F,
                    $57,$5F,$45,$4E,$44
       00:11D1: 5F 57 49 4E 
       00:11D5: 44 4F 57 5F 
       00:11D9: 45 4E 44 
 20591 00:11DC: 3A 00 44 65  	db	$3A,$00,$44,$65,$66,$57,$69,$6E,$64,$6F,
                    $77,$50,$72,$6F,$63
       00:11E0: 66 57 69 6E 
       00:11E4: 64 6F 77 50 
       00:11E8: 72 6F 63 
 20592 00:11EB: 3A 3A 46 58  	db	$3A,$3A,$46,$58,$5F,$44,$52,$41,$47,$5F,
                    $57,$49,$4E,$44,$4F
       00:11EF: 5F 44 52 41 
       00:11F3: 47 5F 57 49 
       00:11F7: 4E 44 4F 
 20593 00:11FA: 57 5F 53 54  	db	$57,$5F,$53,$54,$41,$52,$54,$3A,$00,$44,
                    $65,$66,$57,$69,$6E
       00:11FE: 41 52 54 3A 
       00:1202: 00 44 65 66 
       00:1206: 57 69 6E 
 20594 00:1209: 64 6F 77 50  	db	$64,$6F,$77,$50,$72,$6F,$63,$3A,$3A,$46,
                    $58,$5F,$44,$52,$41
       00:120D: 72 6F 63 3A 
       00:1211: 3A 46 58 5F 
       00:1215: 44 52 41 
 20595 00:1218: 47 5F 57 49  	db	$47,$5F,$57,$49,$4E,$44,$4F,$57,$5F,$45,
                    $4E,$44,$3A,$00,$44
       00:121C: 4E 44 4F 57 
       00:1220: 5F 45 4E 44 
       00:1224: 3A 00 44 
 20596 00:1227: 65 66 57 69  	db	$65,$66,$57,$69,$6E,$64,$6F,$77,$50,$72,
                    $6F,$63,$3A,$3A,$46
       00:122B: 6E 64 6F 77 
       00:122F: 50 72 6F 63 
       00:1233: 3A 3A 46 
 20597 00:1236: 58 5F 57 49  	db	$58,$5F,$57,$49,$4E,$44,$4F,$57,$5F,$43,
                    $4C,$4F,$53,$45,$3A
  Mon Dec  7 2020 11:19                                                Page 403


       00:123A: 4E 44 4F 57 
       00:123E: 5F 43 4C 4F 
       00:1242: 53 45 3A 
 20598 00:1245: 00 44 65 66  	db	$00,$44,$65,$66,$57,$69,$6E,$64,$6F,$77,
                    $50,$72,$6F,$63,$3A
       00:1249: 57 69 6E 64 
       00:124D: 6F 77 50 72 
       00:1251: 6F 63 3A 
 20599 00:1254: 3A 46 58 5F  	db	$3A,$46,$58,$5F,$52,$45,$53,$49,$5A,$45,
                    $5F,$57,$49,$4E,$44
       00:1258: 52 45 53 49 
       00:125C: 5A 45 5F 57 
       00:1260: 49 4E 44 
 20600 00:1263: 4F 57 3A 00  	db	$4F,$57,$3A,$00,$44,$65,$66,$57,$69,$6E,
                    $64,$6F,$77,$50,$72
       00:1267: 44 65 66 57 
       00:126B: 69 6E 64 6F 
       00:126F: 77 50 72 
 20601 00:1272: 6F 63 3A 3A  	db	$6F,$63,$3A,$3A,$46,$58,$5F,$4C,$42,$55,
                    $54,$54,$4F,$4E,$5F
       00:1276: 46 58 5F 4C 
       00:127A: 42 55 54 54 
       00:127E: 4F 4E 5F 
 20602 00:1281: 44 4F 57 4E  	db	$44,$4F,$57,$4E,$3A,$00,$44,$65,$66,$57,
                    $69,$6E,$64,$6F,$77
       00:1285: 3A 00 44 65 
       00:1289: 66 57 69 6E 
       00:128D: 64 6F 77 
 20603 00:1290: 50 72 6F 63  	db	$50,$72,$6F,$63,$3A,$3A,$46,$58,$5F,$44,
                    $52,$41,$57,$5F,$4E
       00:1294: 3A 3A 46 58 
       00:1298: 5F 44 52 41 
       00:129C: 57 5F 4E 
 20604 00:129F: 4F 4E 43 4C  	db	$4F,$4E,$43,$4C,$49,$45,$4E,$54,$0D,$0A,
                    $00,$44,$65,$66,$57
       00:12A3: 49 45 4E 54 
       00:12A7: 0D 0A 00 44 
       00:12AB: 65 66 57 
 20605 00:12AE: 69 6E 64 6F  	db	$69,$6E,$64,$6F,$77,$50,$72,$6F,$63,$3A,
                    $3A,$46,$58,$5F,$4E
       00:12B2: 77 50 72 6F 
       00:12B6: 63 3A 3A 46 
       00:12BA: 58 5F 4E 
 20606 00:12BD: 43 5F 4D 4F  	db	$43,$5F,$4D,$4F,$55,$53,$45,$5F,$4D,$4F,
                    $56,$45,$0D,$0A,$00
       00:12C1: 55 53 45 5F 
       00:12C5: 4D 4F 56 45 
       00:12C9: 0D 0A 00 
 20607 00:12CC: 41 52 52 4F  	db	$41,$52,$52,$4F,$57,$00,$44,$65,$66,$57,
                    $69,$6E,$64,$6F,$77
       00:12D0: 57 00 44 65 
       00:12D4: 66 57 69 6E 
       00:12D8: 64 6F 77 
 20608 00:12DB: 50 72 6F 63  	db	$50,$72,$6F,$63,$3A,$3A,$6E,$6F,$6E,$63,
                    $6C,$69,$65,$6E,$74
       00:12DF: 3A 3A 6E 6F 
       00:12E3: 6E 63 6C 69 
       00:12E7: 65 6E 74 
  Mon Dec  7 2020 11:19                                                Page 404


 20609 00:12EA: 47 61 64 67  	db	$47,$61,$64,$67,$65,$74,$73,$3A,$72,$65,
                    $63,$74,$3A,$68,$69
       00:12EE: 65 74 73 3A 
       00:12F2: 72 65 63 74 
       00:12F6: 3A 68 69 
 20610 00:12F9: 74 3A 00 52  	db	$74,$3A,$00,$52,$45,$53,$49,$5A,$45,$00,
                    $44,$65,$66,$57,$69
       00:12FD: 45 53 49 5A 
       00:1301: 45 00 44 65 
       00:1305: 66 57 69 
 20611 00:1308: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$50,$72,$6F,$63,$3A,$3A,
                    $46,$58,$5F,$4E,$43
       00:130C: 50 72 6F 63 
       00:1310: 3A 3A 46 58 
       00:1314: 5F 4E 43 
 20612 00:1317: 5F 4D 4F 55  	db	$5F,$4D,$4F,$55,$53,$45,$5F,$4D,$4F,$56,
                    $45,$3A,$63,$78,$3A
       00:131B: 53 45 5F 4D 
       00:131F: 4F 56 45 3A 
       00:1323: 63 78 3A 
 20613 00:1326: 00 44 65 66  	db	$00,$44,$65,$66,$57,$69,$6E,$64,$6F,$77,
                    $50,$72,$6F,$63,$3A
       00:132A: 57 69 6E 64 
       00:132E: 6F 77 50 72 
       00:1332: 6F 63 3A 
 20614 00:1335: 3A 46 58 5F  	db	$3A,$46,$58,$5F,$4E,$43,$5F,$4D,$4F,$55,
                    $53,$45,$5F,$4D,$4F
       00:1339: 4E 43 5F 4D 
       00:133D: 4F 55 53 45 
       00:1341: 5F 4D 4F 
 20615 00:1344: 56 45 3A 63  	db	$56,$45,$3A,$63,$79,$3A,$00,$44,$65,$66,
                    $57,$69,$6E,$64,$6F
       00:1348: 79 3A 00 44 
       00:134C: 65 66 57 69 
       00:1350: 6E 64 6F 
 20616 00:1353: 77 50 72 6F  	db	$77,$50,$72,$6F,$63,$3A,$3A,$46,$58,$5F,
                    $4E,$43,$5F,$4C,$42
       00:1357: 63 3A 3A 46 
       00:135B: 58 5F 4E 43 
       00:135F: 5F 4C 42 
 20617 00:1362: 55 54 54 4F  	db	$55,$54,$54,$4F,$4E,$5F,$44,$4F,$57,$4E,
                    $3A,$00,$44,$65,$66
       00:1366: 4E 5F 44 4F 
       00:136A: 57 4E 3A 00 
       00:136E: 44 65 66 
 20618 00:1371: 57 69 6E 64  	db	$57,$69,$6E,$64,$6F,$77,$50,$72,$6F,$63,
                    $3A,$3A,$6E,$6F,$6E
       00:1375: 6F 77 50 72 
       00:1379: 6F 63 3A 3A 
       00:137D: 6E 6F 6E 
 20619 00:1380: 63 6C 69 65  	db	$63,$6C,$69,$65,$6E,$74,$47,$61,$64,$67,
                    $65,$74,$73,$3A,$72
       00:1384: 6E 74 47 61 
       00:1388: 64 67 65 74 
       00:138C: 73 3A 72 
 20620 00:138F: 65 63 74 3A  	db	$65,$63,$74,$3A,$68,$69,$74,$3A,$00,$44,
                    $65,$66,$57,$69,$6E
       00:1393: 68 69 74 3A 
  Mon Dec  7 2020 11:19                                                Page 405


       00:1397: 00 44 65 66 
       00:139B: 57 69 6E 
 20621 00:139E: 64 6F 77 50  	db	$64,$6F,$77,$50,$72,$6F,$63,$3A,$3A,$46,
                    $58,$5F,$4E,$43,$5F
       00:13A2: 72 6F 63 3A 
       00:13A6: 3A 46 58 5F 
       00:13AA: 4E 43 5F 
 20622 00:13AD: 4C 42 55 54  	db	$4C,$42,$55,$54,$54,$4F,$4E,$5F,$44,$4F,
                    $57,$4E,$3A,$00,$46
       00:13B1: 54 4F 4E 5F 
       00:13B5: 44 4F 57 4E 
       00:13B9: 3A 00 46 
 20623 00:13BC: 58 5F 52 45  	db	$58,$5F,$52,$45,$53,$49,$5A,$45,$5F,$57,
                    $49,$4E,$44,$4F,$57
       00:13C0: 53 49 5A 45 
       00:13C4: 5F 57 49 4E 
       00:13C8: 44 4F 57 
 20624 00:13CB: 00 44 65 66  	db	$00,$44,$65,$66,$57,$69,$6E,$64,$6F,$77,
                    $50,$72,$6F,$63,$3A
       00:13CF: 57 69 6E 64 
       00:13D3: 6F 77 50 72 
       00:13D7: 6F 63 3A 
 20625 00:13DA: 3A 46 58 5F  	db	$3A,$46,$58,$5F,$4E,$43,$5F,$4C,$42,$55,
                    $54,$54,$4F,$4E,$5F
       00:13DE: 4E 43 5F 4C 
       00:13E2: 42 55 54 54 
       00:13E6: 4F 4E 5F 
 20626 00:13E9: 44 52 41 47  	db	$44,$52,$41,$47,$0D,$0A,$00,$44,$65,$66,
                    $57,$69,$6E,$64,$6F
       00:13ED: 0D 0A 00 44 
       00:13F1: 65 66 57 69 
       00:13F5: 6E 64 6F 
 20627 00:13F8: 77 50 72 6F  	db	$77,$50,$72,$6F,$63,$3A,$3A,$46,$58,$5F,
                    $4E,$43,$5F,$4C,$42
       00:13FC: 63 3A 3A 46 
       00:1400: 58 5F 4E 43 
       00:1404: 5F 4C 42 
 20628 00:1407: 55 54 54 4F  	db	$55,$54,$54,$4F,$4E,$5F,$44,$52,$41,$47,
                    $3A,$72,$65,$63,$74
       00:140B: 4E 5F 44 52 
       00:140F: 41 47 3A 72 
       00:1413: 65 63 74 
 20629 00:1416: 3A 64 65 66  	db	$3A,$64,$65,$66,$50,$72,$63,$44,$61,$74,
                    $61,$2D,$3E,$61,$72
       00:141A: 50 72 63 44 
       00:141E: 61 74 61 2D 
       00:1422: 3E 61 72 
 20630 00:1425: 65 61 2E 78  	db	$65,$61,$2E,$78,$3A,$00,$44,$65,$66,$57,
                    $69,$6E,$64,$6F,$77
       00:1429: 3A 00 44 65 
       00:142D: 66 57 69 6E 
       00:1431: 64 6F 77 
 20631 00:1434: 50 72 6F 63  	db	$50,$72,$6F,$63,$3A,$3A,$46,$58,$5F,$4E,
                    $43,$5F,$4C,$42,$55
       00:1438: 3A 3A 46 58 
       00:143C: 5F 4E 43 5F 
       00:1440: 4C 42 55 
 20632 00:1443: 54 54 4F 4E  	db	$54,$54,$4F,$4E,$5F,$44,$52,$41,$47,$3A,
  Mon Dec  7 2020 11:19                                                Page 406


                    $72,$65,$63,$74,$3A
       00:1447: 5F 44 52 41 
       00:144B: 47 3A 72 65 
       00:144F: 63 74 3A 
 20633 00:1452: 64 65 66 50  	db	$64,$65,$66,$50,$72,$63,$44,$61,$74,$61,
                    $2D,$3E,$61,$72,$65
       00:1456: 72 63 44 61 
       00:145A: 74 61 2D 3E 
       00:145E: 61 72 65 
 20634 00:1461: 61 2E 79 3A  	db	$61,$2E,$79,$3A,$00,$44,$65,$66,$57,$69,
                    $6E,$64,$6F,$77,$50
       00:1465: 00 44 65 66 
       00:1469: 57 69 6E 64 
       00:146D: 6F 77 50 
 20635 00:1470: 72 6F 63 3A  	db	$72,$6F,$63,$3A,$3A,$46,$58,$5F,$4E,$43,
                    $5F,$4C,$42,$55,$54
       00:1474: 3A 46 58 5F 
       00:1478: 4E 43 5F 4C 
       00:147C: 42 55 54 
 20636 00:147F: 54 4F 4E 5F  	db	$54,$4F,$4E,$5F,$55,$50,$3A,$00,$44,$65,
                    $66,$57,$69,$6E,$64
       00:1483: 55 50 3A 00 
       00:1487: 44 65 66 57 
       00:148B: 69 6E 64 
 20637 00:148E: 6F 77 50 72  	db	$6F,$77,$50,$72,$6F,$63,$3A,$3A,$46,$58,
                    $5F,$4E,$43,$5F,$4C
       00:1492: 6F 63 3A 3A 
       00:1496: 46 58 5F 4E 
       00:149A: 43 5F 4C 
 20638 00:149D: 42 55 54 54  	db	$42,$55,$54,$54,$4F,$4E,$5F,$55,$50,$3A,
                    $72,$65,$63,$74,$3A
       00:14A1: 4F 4E 5F 55 
       00:14A5: 50 3A 72 65 
       00:14A9: 63 74 3A 
 20639 00:14AC: 64 65 66 50  	db	$64,$65,$66,$50,$72,$63,$44,$61,$74,$61,
                    $2D,$3E,$61,$72,$65
       00:14B0: 72 63 44 61 
       00:14B4: 74 61 2D 3E 
       00:14B8: 61 72 65 
 20640 00:14BB: 61 2E 78 3A  	db	$61,$2E,$78,$3A,$00,$44,$65,$66,$57,$69,
                    $6E,$64,$6F,$77,$50
       00:14BF: 00 44 65 66 
       00:14C3: 57 69 6E 64 
       00:14C7: 6F 77 50 
 20641 00:14CA: 72 6F 63 3A  	db	$72,$6F,$63,$3A,$3A,$46,$58,$5F,$4E,$43,
                    $5F,$4C,$42,$55,$54
       00:14CE: 3A 46 58 5F 
       00:14D2: 4E 43 5F 4C 
       00:14D6: 42 55 54 
 20642 00:14D9: 54 4F 4E 5F  	db	$54,$4F,$4E,$5F,$55,$50,$3A,$72,$65,$63,
                    $74,$3A,$64,$65,$66
       00:14DD: 55 50 3A 72 
       00:14E1: 65 63 74 3A 
       00:14E5: 64 65 66 
 20643 00:14E8: 50 72 63 44  	db	$50,$72,$63,$44,$61,$74,$61,$2D,$3E,$61,
                    $72,$65,$61,$2E,$79
       00:14EC: 61 74 61 2D 
       00:14F0: 3E 61 72 65 
  Mon Dec  7 2020 11:19                                                Page 407


       00:14F4: 61 2E 79 
 20644 00:14F7: 3A 00 44 65  	db	$3A,$00,$44,$65,$66,$57,$69,$6E,$64,$6F,
                    $77,$50,$72,$6F,$63
       00:14FB: 66 57 69 6E 
       00:14FF: 64 6F 77 50 
       00:1503: 72 6F 63 
 20645 00:1506: 3A 3A 46 58  	db	$3A,$3A,$46,$58,$5F,$4E,$43,$5F,$4C,$42,
                    $55,$54,$54,$4F,$4E
       00:150A: 5F 4E 43 5F 
       00:150E: 4C 42 55 54 
       00:1512: 54 4F 4E 
 20646 00:1515: 5F 55 50 3A  	db	$5F,$55,$50,$3A,$72,$65,$63,$74,$3A,$64,
                    $65,$66,$50,$72,$63
       00:1519: 72 65 63 74 
       00:151D: 3A 64 65 66 
       00:1521: 50 72 63 
 20647 00:1524: 44 61 74 61  	db	$44,$61,$74,$61,$2D,$3E,$61,$72,$65,$61,
                    $2E,$78,$3A,$00,$44
       00:1528: 2D 3E 61 72 
       00:152C: 65 61 2E 78 
       00:1530: 3A 00 44 
 20648 00:1533: 65 66 57 69  	db	$65,$66,$57,$69,$6E,$64,$6F,$77,$50,$72,
                    $6F,$63,$3A,$3A,$46
       00:1537: 6E 64 6F 77 
       00:153B: 50 72 6F 63 
       00:153F: 3A 3A 46 
 20649 00:1542: 58 5F 4E 43  	db	$58,$5F,$4E,$43,$5F,$4C,$42,$55,$54,$54,
                    $4F,$4E,$5F,$55,$50
       00:1546: 5F 4C 42 55 
       00:154A: 54 54 4F 4E 
       00:154E: 5F 55 50 
 20650 00:1551: 3A 72 65 63  	db	$3A,$72,$65,$63,$74,$3A,$64,$65,$66,$50,
                    $72,$63,$44,$61,$74
       00:1555: 74 3A 64 65 
       00:1559: 66 50 72 63 
       00:155D: 44 61 74 
 20651 00:1560: 61 2D 3E 61  	db	$61,$2D,$3E,$61,$72,$65,$61,$2E,$79,$3A,
                    $00,$44,$65,$66,$57
       00:1564: 72 65 61 2E 
       00:1568: 79 3A 00 44 
       00:156C: 65 66 57 
 20652 00:156F: 69 6E 64 6F  	db	$69,$6E,$64,$6F,$77,$50,$72,$6F,$63,$3A,
                    $3A,$46,$58,$5F,$4E
       00:1573: 77 50 72 6F 
       00:1577: 63 3A 3A 46 
       00:157B: 58 5F 4E 
 20653 00:157E: 43 5F 52 42  	db	$43,$5F,$52,$42,$55,$54,$54,$4F,$4E,$5F,
                    $44,$4F,$57,$4E,$0D
       00:1582: 55 54 54 4F 
       00:1586: 4E 5F 44 4F 
       00:158A: 57 4E 0D 
 20654 00:158D: 0A 00 74 65  	db	$0A,$00,$74,$65,$73,$74,$57,$69,$6E,$64,
                    $6F,$77,$50,$72,$6F
       00:1591: 73 74 57 69 
       00:1595: 6E 64 6F 77 
       00:1599: 50 72 6F 
 20655 00:159C: 63 3A 3A 6E  	db	$63,$3A,$3A,$6E,$6F,$6E,$63,$6C,$69,$65,
                    $6E,$74,$47,$61,$64
  Mon Dec  7 2020 11:19                                                Page 408


       00:15A0: 6F 6E 63 6C 
       00:15A4: 69 65 6E 74 
       00:15A8: 47 61 64 
 20656 00:15AB: 67 65 74 73  	db	$67,$65,$74,$73,$3A,$72,$65,$63,$74,$3A,
                    $68,$69,$74,$3A,$00
       00:15AF: 3A 72 65 63 
       00:15B3: 74 3A 68 69 
       00:15B7: 74 3A 00 
 20657 00:15BA:              	ends
 20658                        ;
 20659                        ;void k_user_EndWindowForDrag(HWND hWnd,int cx,int
                     cy)
 20660                        ;{
 20661                        	.line	3627
 20662                        	.line	3628
 20663                        	WINMAN
 20664                        	xdef	~~k_user_EndWindowForDrag
 20665                        	func
 20666                        	.function	3628
 20667                        ~~k_user_EndWindowForDrag:
 20668                        	longa	on
 20669                        	longi	on
 20670 04:5CC8: 3B           	tsc
 20671 04:5CC9: 38           	sec
 20672 04:5CCA: E9 0C 00     	sbc	#L768
 20673 04:5CCD: 1B           	tcs
 20674 04:5CCE: 0B           	phd
 20675 04:5CCF: 5B           	tcd
 20676             00000004   hWnd_0	set	4
 20677             00000008   cx_0	set	8
 20678             0000000A   cy_0	set	10
 20679                        	.block	3628
 20680                        ;	PWINDOW   pWin = NULL;
 20681                        ;	PDRAGDATA defPrcData = NULL;
 20682                        ;
 20683                        ;	if(hWnd)
 20684             00000000   pWin_1	set	0
 20685             00000004   defPrcData_1	set	4
 20686                        	.sym	pWin,0,138,1,32,27
 20687                        	.sym	defPrcData,4,138,1,32,26
 20688                        	.sym	hWnd,4,129,6,32
 20689                        	.sym	cx,8,5,6,16
 20690                        	.sym	cy,10,5,6,16
 20691 04:5CD0: 64 05        	stz	<L769+pWin_1
 20692 04:5CD2: 64 07        	stz	<L769+pWin_1+2
 20693 04:5CD4: 64 09        	stz	<L769+defPrcData_1
 20694 04:5CD6: 64 0B        	stz	<L769+defPrcData_1+2
 20695                        	.line	3632
 20696                        ;	{
 20697 04:5CD8: A5 10        	lda	<L768+hWnd_0
 20698 04:5CDA: 05 12        	ora	<L768+hWnd_0+2
 20699 04:5CDC: D0 03        	bne	L771
 20700 04:5CDE: 82 98 00     	brl	L10329
 20701                        L771:
 20702                        	.line	3633
 20703                        ;		pWin = k_getWindowFromHandle(hWnd);
 20704                        	.line	3634
 20705 04:5CE1: D4 12        	pei	<L768+hWnd_0+2
  Mon Dec  7 2020 11:19                                                Page 409


 20706 04:5CE3: D4 10        	pei	<L768+hWnd_0
 20707 04:5CE5: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
 20708 04:5CE9: 85 05        	sta	<L769+pWin_1
 20709 04:5CEB: 86 07        	stx	<L769+pWin_1+2
 20710                        ;
 20711                        ;		if(pWin)
 20712                        	.line	3636
 20713                        ;		{
 20714 04:5CED: A5 05        	lda	<L769+pWin_1
 20715 04:5CEF: 05 07        	ora	<L769+pWin_1+2
 20716 04:5CF1: D0 03        	bne	L772
 20717 04:5CF3: 82 7F 00     	brl	L10330
 20718                        L772:
 20719                        	.line	3637
 20720                        ;			defPrcData = (PDRAGDATA)k_user_G
                    etWindowData(hWnd,CLIENTDATA_DEFAULT);
 20721                        	.line	3638
 20722 04:5CF6: F4 00 00     	pea	#<$0
 20723 04:5CF9: D4 12        	pei	<L768+hWnd_0+2
 20724 04:5CFB: D4 10        	pei	<L768+hWnd_0
 20725 04:5CFD: 22 B1 1D 04  	jsl	~~k_user_GetWindowData
 20726 04:5D01: 85 09        	sta	<L769+defPrcData_1
 20727 04:5D03: 86 0B        	stx	<L769+defPrcData_1+2
 20728                        ;			if(defPrcData != NULL)
 20729                        	.line	3639
 20730                        ;			{
 20731 04:5D05: A5 09        	lda	<L769+defPrcData_1
 20732 04:5D07: 05 0B        	ora	<L769+defPrcData_1+2
 20733 04:5D09: D0 03        	bne	L773
 20734 04:5D0B: 82 67 00     	brl	L10331
 20735                        L773:
 20736                        	.line	3640
 20737                        ;				k_draw_rect(defPrcData->
                    area.x,
 20738                        	.line	3641
 20739                        ;							
                    defPrcData->area.y,
 20740                        ;							
                    defPrcData->area.x + pWin->win_width  - 1,
 20741                        ;							
                    defPrcData->area.y + pWin->win_height - 1,
 20742                        ;							
                    FILLCOLOR_TRANSPARENT,
 20743                        ;							
                    BITMAP_NOBRUSH,
 20744                        ;							
                    BITMAP_FRONT);
 20745 04:5D0E: F4 00 00     	pea	#<$0
 20746 04:5D11: F4 00 00     	pea	#<$0
 20747 04:5D14: F4 00 00     	pea	#<$0
 20748 04:5D17: 18           	clc
 20749 04:5D18: A0 02 00     	ldy	#$2
 20750 04:5D1B: B7 09        	lda	[<L769+defPrcData_1],Y
 20751 04:5D1D: A0 0E 00     	ldy	#$e
 20752 04:5D20: 77 05        	adc	[<L769+pWin_1],Y
 20753 04:5D22: 85 01        	sta	<R0
 20754 04:5D24: 18           	clc
 20755 04:5D25: A9 FF FF     	lda	#$ffff
  Mon Dec  7 2020 11:19                                                Page 410


 20756 04:5D28: 65 01        	adc	<R0
 20757 04:5D2A: 48           	pha
 20758 04:5D2B: 18           	clc
 20759 04:5D2C: A7 09        	lda	[<L769+defPrcData_1]
 20760 04:5D2E: A0 0C 00     	ldy	#$c
 20761 04:5D31: 77 05        	adc	[<L769+pWin_1],Y
 20762 04:5D33: 85 01        	sta	<R0
 20763 04:5D35: 18           	clc
 20764 04:5D36: A9 FF FF     	lda	#$ffff
 20765 04:5D39: 65 01        	adc	<R0
 20766 04:5D3B: 48           	pha
 20767 04:5D3C: A0 02 00     	ldy	#$2
 20768 04:5D3F: B7 09        	lda	[<L769+defPrcData_1],Y
 20769 04:5D41: 48           	pha
 20770 04:5D42: A7 09        	lda	[<L769+defPrcData_1]
 20771 04:5D44: 48           	pha
 20772 04:5D45: 22 xx xx xx  	jsl	~~k_draw_rect
 20773                        ;				if(defPrcData->isDrag)
 20774                        	.line	3648
 20775                        ;				{
 20776 04:5D49: A0 10 00     	ldy	#$10
 20777 04:5D4C: B7 09        	lda	[<L769+defPrcData_1],Y
 20778 04:5D4E: 29 FF 00     	and	#$ff
 20779 04:5D51: D0 03        	bne	L774
 20780 04:5D53: 82 11 00     	brl	L10332
 20781                        L774:
 20782                        	.line	3649
 20783                        ;					k_user_MoveWindo
                    w_ex(hWnd,defPrcData->area.x,defPrcData->area.y);
 20784                        	.line	3650
 20785 04:5D56: A0 02 00     	ldy	#$2
 20786 04:5D59: B7 09        	lda	[<L769+defPrcData_1],Y
 20787 04:5D5B: 48           	pha
 20788 04:5D5C: A7 09        	lda	[<L769+defPrcData_1]
 20789 04:5D5E: 48           	pha
 20790 04:5D5F: D4 12        	pei	<L768+hWnd_0+2
 20791 04:5D61: D4 10        	pei	<L768+hWnd_0
 20792 04:5D63: 22 15 0A 04  	jsl	~~k_user_MoveWindow_ex
 20793                        ;				}
 20794                        	.line	3651
 20795                        ;				//k_switch_window_page(h
                    Wnd,BITMAP_FRONT,BITMAP_BACK,FALSE);
 20796                        ;
 20797                        ;				memset(defPrcData,0,size
                    of(DRAGDATA));
 20798                        L10332:
 20799                        	.line	3654
 20800 04:5D67: F4 14 00     	pea	#<$14
 20801 04:5D6A: F4 00 00     	pea	#<$0
 20802 04:5D6D: D4 0B        	pei	<L769+defPrcData_1+2
 20803 04:5D6F: D4 09        	pei	<L769+defPrcData_1
 20804 04:5D71: 22 xx xx xx  	jsl	~~memset
 20805                        ;			}
 20806                        	.line	3655
 20807                        ;		}
 20808                        L10331:
 20809                        	.line	3656
 20810                        ;		k_event_unlock_focus();
  Mon Dec  7 2020 11:19                                                Page 411


 20811                        L10330:
 20812                        	.line	3657
 20813 04:5D75: 22 xx xx xx  	jsl	~~k_event_unlock_focus
 20814                        ;	}
 20815                        	.line	3658
 20816                        ;}
 20817                        L10329:
 20818                        	.line	3659
 20819                        L775:
 20820 04:5D79: A5 0E        	lda	<L768+2
 20821 04:5D7B: 85 16        	sta	<L768+2+8
 20822 04:5D7D: A5 0D        	lda	<L768+1
 20823 04:5D7F: 85 15        	sta	<L768+1+8
 20824 04:5D81: 2B           	pld
 20825 04:5D82: 3B           	tsc
 20826 04:5D83: 18           	clc
 20827 04:5D84: 69 14 00     	adc	#L768+8
 20828 04:5D87: 1B           	tcs
 20829 04:5D88: 6B           	rtl
 20830                        	.endblock	3659
 20831             0000000C   L768	equ	12
 20832             00000005   L769	equ	5
 20833 04:5D89:              	ends
 20834                        	efunc
 20835                        	.endfunc	3659,5,12
 20836                        	.line	3659
 20837                        ;
 20838                        ;void k_user_StartWindowForDrag(HWND hWnd,int cx,i
                    nt cy)
 20839                        ;{
 20840                        	.line	3661
 20841                        	.line	3662
 20842                        	WINMAN
 20843                        	xdef	~~k_user_StartWindowForDrag
 20844                        	func
 20845                        	.function	3662
 20846                        ~~k_user_StartWindowForDrag:
 20847                        	longa	on
 20848                        	longi	on
 20849 04:5D89: 3B           	tsc
 20850 04:5D8A: 38           	sec
 20851 04:5D8B: E9 0C 00     	sbc	#L776
 20852 04:5D8E: 1B           	tcs
 20853 04:5D8F: 0B           	phd
 20854 04:5D90: 5B           	tcd
 20855             00000004   hWnd_0	set	4
 20856             00000008   cx_0	set	8
 20857             0000000A   cy_0	set	10
 20858                        	.block	3662
 20859                        ;	PWINDOW   pWin = NULL;
 20860                        ;	PDRAGDATA defPrcData = NULL;
 20861                        ;
 20862                        ;	if(hWnd)
 20863             00000000   pWin_1	set	0
 20864             00000004   defPrcData_1	set	4
 20865                        	.sym	pWin,0,138,1,32,27
 20866                        	.sym	defPrcData,4,138,1,32,26
 20867                        	.sym	hWnd,4,129,6,32
  Mon Dec  7 2020 11:19                                                Page 412


 20868                        	.sym	cx,8,5,6,16
 20869                        	.sym	cy,10,5,6,16
 20870 04:5D91: 64 05        	stz	<L777+pWin_1
 20871 04:5D93: 64 07        	stz	<L777+pWin_1+2
 20872 04:5D95: 64 09        	stz	<L777+defPrcData_1
 20873 04:5D97: 64 0B        	stz	<L777+defPrcData_1+2
 20874                        	.line	3666
 20875                        ;	{
 20876 04:5D99: A5 10        	lda	<L776+hWnd_0
 20877 04:5D9B: 05 12        	ora	<L776+hWnd_0+2
 20878 04:5D9D: D0 03        	bne	L779
 20879 04:5D9F: 82 E1 00     	brl	L10333
 20880                        L779:
 20881                        	.line	3667
 20882                        ;		k_event_lock_focus_ex(hWnd,TRUE);
 20883                        	.line	3668
 20884 04:5DA2: F4 01 00     	pea	#<$1
 20885 04:5DA5: D4 12        	pei	<L776+hWnd_0+2
 20886 04:5DA7: D4 10        	pei	<L776+hWnd_0
 20887 04:5DA9: 22 xx xx xx  	jsl	~~k_event_lock_focus_ex
 20888                        ;
 20889                        ;		pWin = k_getWindowFromHandle(hWnd);
 20890                        	.line	3670
 20891 04:5DAD: D4 12        	pei	<L776+hWnd_0+2
 20892 04:5DAF: D4 10        	pei	<L776+hWnd_0
 20893 04:5DB1: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
 20894 04:5DB5: 85 05        	sta	<L777+pWin_1
 20895 04:5DB7: 86 07        	stx	<L777+pWin_1+2
 20896                        ;
 20897                        ;		if(pWin)
 20898                        	.line	3672
 20899                        ;		{
 20900 04:5DB9: A5 05        	lda	<L777+pWin_1
 20901 04:5DBB: 05 07        	ora	<L777+pWin_1+2
 20902 04:5DBD: D0 03        	bne	L780
 20903 04:5DBF: 82 C1 00     	brl	L10334
 20904                        L780:
 20905                        	.line	3673
 20906                        ;			defPrcData = (PDRAGDATA)k_user_G
                    etWindowData(hWnd,CLIENTDATA_DEFAULT);
 20907                        	.line	3674
 20908 04:5DC2: F4 00 00     	pea	#<$0
 20909 04:5DC5: D4 12        	pei	<L776+hWnd_0+2
 20910 04:5DC7: D4 10        	pei	<L776+hWnd_0
 20911 04:5DC9: 22 B1 1D 04  	jsl	~~k_user_GetWindowData
 20912 04:5DCD: 85 09        	sta	<L777+defPrcData_1
 20913 04:5DCF: 86 0B        	stx	<L777+defPrcData_1+2
 20914                        ;			if(defPrcData != NULL)
 20915                        	.line	3675
 20916                        ;			{
 20917 04:5DD1: A5 09        	lda	<L777+defPrcData_1
 20918 04:5DD3: 05 0B        	ora	<L777+defPrcData_1+2
 20919 04:5DD5: D0 03        	bne	L781
 20920 04:5DD7: 82 A9 00     	brl	L10335
 20921                        L781:
 20922                        	.line	3676
 20923                        ;				//k_switch_window_page(h
                    Wnd,BITMAP_BACK,BITMAP_FRONT,TRUE);
  Mon Dec  7 2020 11:19                                                Page 413


 20924                        ;
 20925                        ;				k_debug_integer("k_user_
                    StartWindowForDrag:cx:",cx);
 20926                        	.line	3679
 20927 04:5DDA: D4 14        	pei	<L776+cx_0
 20928 04:5DDC: F4 xx xx     	pea	#^L767
 20929 04:5DDF: F4 xx xx     	pea	#<L767
 20930 04:5DE2: 22 xx xx xx  	jsl	~~k_debug_integer
 20931                        ;				k_debug_integer("k_user_
                    StartWindowForDrag:cy:",cy);
 20932                        	.line	3680
 20933 04:5DE6: D4 16        	pei	<L776+cy_0
 20934 04:5DE8: F4 xx xx     	pea	#^L767+30
 20935 04:5DEB: F4 xx xx     	pea	#<L767+30
 20936 04:5DEE: 22 xx xx xx  	jsl	~~k_debug_integer
 20937                        ;
 20938                        ;
 20939                        ;				defPrcData->area.x = cx;
 20940                        	.line	3683
 20941 04:5DF2: A5 14        	lda	<L776+cx_0
 20942 04:5DF4: 87 09        	sta	[<L777+defPrcData_1]
 20943                        ;				defPrcData->area.y = cy;
 20944                        	.line	3684
 20945 04:5DF6: A5 16        	lda	<L776+cy_0
 20946 04:5DF8: A0 02 00     	ldy	#$2
 20947 04:5DFB: 97 09        	sta	[<L777+defPrcData_1],Y
 20948                        ;
 20949                        ;				defPrcData->xoffset = cx
                     - pWin->win_x;
 20950                        	.line	3686
 20951 04:5DFD: 38           	sec
 20952 04:5DFE: A5 14        	lda	<L776+cx_0
 20953 04:5E00: A0 08 00     	ldy	#$8
 20954 04:5E03: F7 05        	sbc	[<L777+pWin_1],Y
 20955 04:5E05: A0 08 00     	ldy	#$8
 20956 04:5E08: 97 09        	sta	[<L777+defPrcData_1],Y
 20957                        ;				defPrcData->yoffset = cy
                     - pWin->win_y;
 20958                        	.line	3687
 20959 04:5E0A: 38           	sec
 20960 04:5E0B: A5 16        	lda	<L776+cy_0
 20961 04:5E0D: A0 0A 00     	ldy	#$a
 20962 04:5E10: F7 05        	sbc	[<L777+pWin_1],Y
 20963 04:5E12: A0 0A 00     	ldy	#$a
 20964 04:5E15: 97 09        	sta	[<L777+defPrcData_1],Y
 20965                        ;
 20966                        ;				k_debug_integer("k_user_
                    StartWindowForDrag:defPrcData->xoffset:",defPrcData->xoffset
                    );
 20967                        	.line	3689
 20968 04:5E17: A0 08 00     	ldy	#$8
 20969 04:5E1A: B7 09        	lda	[<L777+defPrcData_1],Y
 20970 04:5E1C: 48           	pha
 20971 04:5E1D: F4 xx xx     	pea	#^L767+60
 20972 04:5E20: F4 xx xx     	pea	#<L767+60
 20973 04:5E23: 22 xx xx xx  	jsl	~~k_debug_integer
 20974                        ;				k_debug_integer("k_user_
                    StartWindowForDrag:defPrcData->yoffset:",defPrcData->yoffset
  Mon Dec  7 2020 11:19                                                Page 414


                    );
 20975                        	.line	3690
 20976 04:5E27: A0 0A 00     	ldy	#$a
 20977 04:5E2A: B7 09        	lda	[<L777+defPrcData_1],Y
 20978 04:5E2C: 48           	pha
 20979 04:5E2D: F4 xx xx     	pea	#^L767+107
 20980 04:5E30: F4 xx xx     	pea	#<L767+107
 20981 04:5E33: 22 xx xx xx  	jsl	~~k_debug_integer
 20982                        ;
 20983                        ;
 20984                        ;				k_draw_rect(pWin->win_x,
 20985                        	.line	3693
 20986                        ;							
                    pWin->win_y,
 20987                        ;							
                    pWin->win_x + pWin->win_width  - 1,
 20988                        ;							
                    pWin->win_y + pWin->win_height - 1,
 20989                        ;							
                    DEFAULT_WIN_HIGHLIGHT_COLOR,
 20990                        ;							
                    BITMAP_NOBRUSH,
 20991                        ;							
                    BITMAP_FRONT);
 20992 04:5E37: F4 00 00     	pea	#<$0
 20993 04:5E3A: F4 00 00     	pea	#<$0
 20994 04:5E3D: F4 03 00     	pea	#<$3
 20995 04:5E40: 18           	clc
 20996 04:5E41: A0 0A 00     	ldy	#$a
 20997 04:5E44: B7 05        	lda	[<L777+pWin_1],Y
 20998 04:5E46: A0 0E 00     	ldy	#$e
 20999 04:5E49: 77 05        	adc	[<L777+pWin_1],Y
 21000 04:5E4B: 85 01        	sta	<R0
 21001 04:5E4D: 18           	clc
 21002 04:5E4E: A9 FF FF     	lda	#$ffff
 21003 04:5E51: 65 01        	adc	<R0
 21004 04:5E53: 48           	pha
 21005 04:5E54: 18           	clc
 21006 04:5E55: A0 08 00     	ldy	#$8
 21007 04:5E58: B7 05        	lda	[<L777+pWin_1],Y
 21008 04:5E5A: A0 0C 00     	ldy	#$c
 21009 04:5E5D: 77 05        	adc	[<L777+pWin_1],Y
 21010 04:5E5F: 85 01        	sta	<R0
 21011 04:5E61: 18           	clc
 21012 04:5E62: A9 FF FF     	lda	#$ffff
 21013 04:5E65: 65 01        	adc	<R0
 21014 04:5E67: 48           	pha
 21015 04:5E68: A0 0A 00     	ldy	#$a
 21016 04:5E6B: B7 05        	lda	[<L777+pWin_1],Y
 21017 04:5E6D: 48           	pha
 21018 04:5E6E: A0 08 00     	ldy	#$8
 21019 04:5E71: B7 05        	lda	[<L777+pWin_1],Y
 21020 04:5E73: 48           	pha
 21021 04:5E74: 22 xx xx xx  	jsl	~~k_draw_rect
 21022                        ;
 21023                        ;
 21024                        ;				defPrcData->isDrag = TRU
                    E;
  Mon Dec  7 2020 11:19                                                Page 415


 21025                        	.line	3702
 21026 04:5E78: E2 20        	sep	#$20
 21027                        	longa	off
 21028 04:5E7A: A9 01        	lda	#$1
 21029 04:5E7C: A0 10 00     	ldy	#$10
 21030 04:5E7F: 97 09        	sta	[<L777+defPrcData_1],Y
 21031 04:5E81: C2 20        	rep	#$20
 21032                        	longa	on
 21033                        ;			}
 21034                        	.line	3703
 21035                        ;		}
 21036                        L10335:
 21037                        	.line	3704
 21038                        ;	}
 21039                        L10334:
 21040                        	.line	3705
 21041                        ;
 21042                        ;}
 21043                        L10333:
 21044                        	.line	3707
 21045                        L782:
 21046 04:5E83: A5 0E        	lda	<L776+2
 21047 04:5E85: 85 16        	sta	<L776+2+8
 21048 04:5E87: A5 0D        	lda	<L776+1
 21049 04:5E89: 85 15        	sta	<L776+1+8
 21050 04:5E8B: 2B           	pld
 21051 04:5E8C: 3B           	tsc
 21052 04:5E8D: 18           	clc
 21053 04:5E8E: 69 14 00     	adc	#L776+8
 21054 04:5E91: 1B           	tcs
 21055 04:5E92: 6B           	rtl
 21056                        	.endblock	3707
 21057             0000000C   L776	equ	12
 21058             00000005   L777	equ	5
 21059 04:5E93:              	ends
 21060                        	efunc
 21061                        	.endfunc	3707,5,12
 21062                        	.line	3707
 21063                        	data
 21064                        L767:
 21065 00:15BA: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$53,$74,$61,
                    $72,$74,$57,$69,$6E
       00:15BE: 65 72 5F 53 
       00:15C2: 74 61 72 74 
       00:15C6: 57 69 6E 
 21066 00:15C9: 64 6F 77 46  	db	$64,$6F,$77,$46,$6F,$72,$44,$72,$61,$67,
                    $3A,$63,$78,$3A,$00
       00:15CD: 6F 72 44 72 
       00:15D1: 61 67 3A 63 
       00:15D5: 78 3A 00 
 21067 00:15D8: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$53,$74,$61,
                    $72,$74,$57,$69,$6E
       00:15DC: 65 72 5F 53 
       00:15E0: 74 61 72 74 
       00:15E4: 57 69 6E 
 21068 00:15E7: 64 6F 77 46  	db	$64,$6F,$77,$46,$6F,$72,$44,$72,$61,$67,
                    $3A,$63,$79,$3A,$00
       00:15EB: 6F 72 44 72 
  Mon Dec  7 2020 11:19                                                Page 416


       00:15EF: 61 67 3A 63 
       00:15F3: 79 3A 00 
 21069 00:15F6: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$53,$74,$61,
                    $72,$74,$57,$69,$6E
       00:15FA: 65 72 5F 53 
       00:15FE: 74 61 72 74 
       00:1602: 57 69 6E 
 21070 00:1605: 64 6F 77 46  	db	$64,$6F,$77,$46,$6F,$72,$44,$72,$61,$67,
                    $3A,$64,$65,$66,$50
       00:1609: 6F 72 44 72 
       00:160D: 61 67 3A 64 
       00:1611: 65 66 50 
 21071 00:1614: 72 63 44 61  	db	$72,$63,$44,$61,$74,$61,$2D,$3E,$78,$6F,
                    $66,$66,$73,$65,$74
       00:1618: 74 61 2D 3E 
       00:161C: 78 6F 66 66 
       00:1620: 73 65 74 
 21072 00:1623: 3A 00 6B 5F  	db	$3A,$00,$6B,$5F,$75,$73,$65,$72,$5F,$53,
                    $74,$61,$72,$74,$57
       00:1627: 75 73 65 72 
       00:162B: 5F 53 74 61 
       00:162F: 72 74 57 
 21073 00:1632: 69 6E 64 6F  	db	$69,$6E,$64,$6F,$77,$46,$6F,$72,$44,$72,
                    $61,$67,$3A,$64,$65
       00:1636: 77 46 6F 72 
       00:163A: 44 72 61 67 
       00:163E: 3A 64 65 
 21074 00:1641: 66 50 72 63  	db	$66,$50,$72,$63,$44,$61,$74,$61,$2D,$3E,
                    $79,$6F,$66,$66,$73
       00:1645: 44 61 74 61 
       00:1649: 2D 3E 79 6F 
       00:164D: 66 66 73 
 21075 00:1650: 65 74 3A 00  	db	$65,$74,$3A,$00
 21076 00:1654:              	ends
 21077                        ;
 21078                        ;void k_user_StartWindowForResize(HWND hWnd,int cx
                    ,int cy)
 21079                        ;{
 21080                        	.line	3709
 21081                        	.line	3710
 21082                        	WINMAN
 21083                        	xdef	~~k_user_StartWindowForResize
 21084                        	func
 21085                        	.function	3710
 21086                        ~~k_user_StartWindowForResize:
 21087                        	longa	on
 21088                        	longi	on
 21089 04:5E93: 3B           	tsc
 21090 04:5E94: 38           	sec
 21091 04:5E95: E9 0C 00     	sbc	#L784
 21092 04:5E98: 1B           	tcs
 21093 04:5E99: 0B           	phd
 21094 04:5E9A: 5B           	tcd
 21095             00000004   hWnd_0	set	4
 21096             00000008   cx_0	set	8
 21097             0000000A   cy_0	set	10
 21098                        	.block	3710
 21099                        ;	PWINDOW   pWin = NULL;
  Mon Dec  7 2020 11:19                                                Page 417


 21100                        ;	PDRAGDATA defPrcData = NULL;
 21101                        ;
 21102                        ;	if(hWnd)
 21103             00000000   pWin_1	set	0
 21104             00000004   defPrcData_1	set	4
 21105                        	.sym	pWin,0,138,1,32,27
 21106                        	.sym	defPrcData,4,138,1,32,26
 21107                        	.sym	hWnd,4,129,6,32
 21108                        	.sym	cx,8,5,6,16
 21109                        	.sym	cy,10,5,6,16
 21110 04:5E9B: 64 05        	stz	<L785+pWin_1
 21111 04:5E9D: 64 07        	stz	<L785+pWin_1+2
 21112 04:5E9F: 64 09        	stz	<L785+defPrcData_1
 21113 04:5EA1: 64 0B        	stz	<L785+defPrcData_1+2
 21114                        	.line	3714
 21115                        ;	{
 21116 04:5EA3: A5 10        	lda	<L784+hWnd_0
 21117 04:5EA5: 05 12        	ora	<L784+hWnd_0+2
 21118 04:5EA7: D0 03        	bne	L787
 21119 04:5EA9: 82 B8 00     	brl	L10336
 21120                        L787:
 21121                        	.line	3715
 21122                        ;		k_event_lock_focus_ex(hWnd,TRUE);
 21123                        	.line	3716
 21124 04:5EAC: F4 01 00     	pea	#<$1
 21125 04:5EAF: D4 12        	pei	<L784+hWnd_0+2
 21126 04:5EB1: D4 10        	pei	<L784+hWnd_0
 21127 04:5EB3: 22 xx xx xx  	jsl	~~k_event_lock_focus_ex
 21128                        ;
 21129                        ;		pWin = k_getWindowFromHandle(hWnd);
 21130                        	.line	3718
 21131 04:5EB7: D4 12        	pei	<L784+hWnd_0+2
 21132 04:5EB9: D4 10        	pei	<L784+hWnd_0
 21133 04:5EBB: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
 21134 04:5EBF: 85 05        	sta	<L785+pWin_1
 21135 04:5EC1: 86 07        	stx	<L785+pWin_1+2
 21136                        ;
 21137                        ;		if(pWin)
 21138                        	.line	3720
 21139                        ;		{
 21140 04:5EC3: A5 05        	lda	<L785+pWin_1
 21141 04:5EC5: 05 07        	ora	<L785+pWin_1+2
 21142 04:5EC7: D0 03        	bne	L788
 21143 04:5EC9: 82 98 00     	brl	L10337
 21144                        L788:
 21145                        	.line	3721
 21146                        ;			defPrcData = (PDRAGDATA)k_user_G
                    etWindowData(hWnd,CLIENTDATA_DEFAULT);
 21147                        	.line	3722
 21148 04:5ECC: F4 00 00     	pea	#<$0
 21149 04:5ECF: D4 12        	pei	<L784+hWnd_0+2
 21150 04:5ED1: D4 10        	pei	<L784+hWnd_0
 21151 04:5ED3: 22 B1 1D 04  	jsl	~~k_user_GetWindowData
 21152 04:5ED7: 85 09        	sta	<L785+defPrcData_1
 21153 04:5ED9: 86 0B        	stx	<L785+defPrcData_1+2
 21154                        ;			if(defPrcData != NULL)
 21155                        	.line	3723
 21156                        ;			{
  Mon Dec  7 2020 11:19                                                Page 418


 21157 04:5EDB: A5 09        	lda	<L785+defPrcData_1
 21158 04:5EDD: 05 0B        	ora	<L785+defPrcData_1+2
 21159 04:5EDF: D0 03        	bne	L789
 21160 04:5EE1: 82 80 00     	brl	L10338
 21161                        L789:
 21162                        	.line	3724
 21163                        ;				k_switch_window_page(hWn
                    d,BITMAP_BACK,BITMAP_FRONT,TRUE);
 21164                        	.line	3725
 21165 04:5EE4: F4 01 00     	pea	#<$1
 21166 04:5EE7: F4 00 00     	pea	#<$0
 21167 04:5EEA: F4 10 00     	pea	#<$10
 21168 04:5EED: D4 12        	pei	<L784+hWnd_0+2
 21169 04:5EEF: D4 10        	pei	<L784+hWnd_0
 21170 04:5EF1: 22 F4 64 04  	jsl	~~k_switch_window_page
 21171                        ;
 21172                        ;				k_debug_integer("k_user_
                    StartWindowForResize:cx:",cx);
 21173                        	.line	3727
 21174 04:5EF5: D4 14        	pei	<L784+cx_0
 21175 04:5EF7: F4 xx xx     	pea	#^L783
 21176 04:5EFA: F4 xx xx     	pea	#<L783
 21177 04:5EFD: 22 xx xx xx  	jsl	~~k_debug_integer
 21178                        ;				k_debug_integer("k_user_
                    StartWindowForResize:cy:",cy);
 21179                        	.line	3728
 21180 04:5F01: D4 16        	pei	<L784+cy_0
 21181 04:5F03: F4 xx xx     	pea	#^L783+32
 21182 04:5F06: F4 xx xx     	pea	#<L783+32
 21183 04:5F09: 22 xx xx xx  	jsl	~~k_debug_integer
 21184                        ;
 21185                        ;
 21186                        ;				defPrcData->area.x = cx;
 21187                        	.line	3731
 21188 04:5F0D: A5 14        	lda	<L784+cx_0
 21189 04:5F0F: 87 09        	sta	[<L785+defPrcData_1]
 21190                        ;				defPrcData->area.y = cy;
 21191                        	.line	3732
 21192 04:5F11: A5 16        	lda	<L784+cy_0
 21193 04:5F13: A0 02 00     	ldy	#$2
 21194 04:5F16: 97 09        	sta	[<L785+defPrcData_1],Y
 21195                        ;
 21196                        ;				k_draw_rect(pWin->win_x,
 21197                        	.line	3734
 21198                        ;							
                    pWin->win_y,
 21199                        ;							
                    pWin->win_x + pWin->win_width  - 1,
 21200                        ;							
                    pWin->win_y + pWin->win_height - 1,
 21201                        ;							
                    DEFAULT_WIN_HIGHLIGHT_COLOR,
 21202                        ;							
                    BITMAP_NOBRUSH,
 21203                        ;							
                    BITMAP_FRONT);
 21204 04:5F18: F4 00 00     	pea	#<$0
 21205 04:5F1B: F4 00 00     	pea	#<$0
  Mon Dec  7 2020 11:19                                                Page 419


 21206 04:5F1E: F4 03 00     	pea	#<$3
 21207 04:5F21: 18           	clc
 21208 04:5F22: A0 0A 00     	ldy	#$a
 21209 04:5F25: B7 05        	lda	[<L785+pWin_1],Y
 21210 04:5F27: A0 0E 00     	ldy	#$e
 21211 04:5F2A: 77 05        	adc	[<L785+pWin_1],Y
 21212 04:5F2C: 85 01        	sta	<R0
 21213 04:5F2E: 18           	clc
 21214 04:5F2F: A9 FF FF     	lda	#$ffff
 21215 04:5F32: 65 01        	adc	<R0
 21216 04:5F34: 48           	pha
 21217 04:5F35: 18           	clc
 21218 04:5F36: A0 08 00     	ldy	#$8
 21219 04:5F39: B7 05        	lda	[<L785+pWin_1],Y
 21220 04:5F3B: A0 0C 00     	ldy	#$c
 21221 04:5F3E: 77 05        	adc	[<L785+pWin_1],Y
 21222 04:5F40: 85 01        	sta	<R0
 21223 04:5F42: 18           	clc
 21224 04:5F43: A9 FF FF     	lda	#$ffff
 21225 04:5F46: 65 01        	adc	<R0
 21226 04:5F48: 48           	pha
 21227 04:5F49: A0 0A 00     	ldy	#$a
 21228 04:5F4C: B7 05        	lda	[<L785+pWin_1],Y
 21229 04:5F4E: 48           	pha
 21230 04:5F4F: A0 08 00     	ldy	#$8
 21231 04:5F52: B7 05        	lda	[<L785+pWin_1],Y
 21232 04:5F54: 48           	pha
 21233 04:5F55: 22 xx xx xx  	jsl	~~k_draw_rect
 21234                        ;
 21235                        ;
 21236                        ;				defPrcData->isResize = T
                    RUE;
 21237                        	.line	3743
 21238 04:5F59: E2 20        	sep	#$20
 21239                        	longa	off
 21240 04:5F5B: A9 01        	lda	#$1
 21241 04:5F5D: A0 11 00     	ldy	#$11
 21242 04:5F60: 97 09        	sta	[<L785+defPrcData_1],Y
 21243 04:5F62: C2 20        	rep	#$20
 21244                        	longa	on
 21245                        ;			}
 21246                        	.line	3744
 21247                        ;		}
 21248                        L10338:
 21249                        	.line	3745
 21250                        ;	}
 21251                        L10337:
 21252                        	.line	3746
 21253                        ;
 21254                        ;}
 21255                        L10336:
 21256                        	.line	3748
 21257                        L790:
 21258 04:5F64: A5 0E        	lda	<L784+2
 21259 04:5F66: 85 16        	sta	<L784+2+8
 21260 04:5F68: A5 0D        	lda	<L784+1
 21261 04:5F6A: 85 15        	sta	<L784+1+8
 21262 04:5F6C: 2B           	pld
  Mon Dec  7 2020 11:19                                                Page 420


 21263 04:5F6D: 3B           	tsc
 21264 04:5F6E: 18           	clc
 21265 04:5F6F: 69 14 00     	adc	#L784+8
 21266 04:5F72: 1B           	tcs
 21267 04:5F73: 6B           	rtl
 21268                        	.endblock	3748
 21269             0000000C   L784	equ	12
 21270             00000005   L785	equ	5
 21271 04:5F74:              	ends
 21272                        	efunc
 21273                        	.endfunc	3748,5,12
 21274                        	.line	3748
 21275                        	data
 21276                        L783:
 21277 00:1654: 6B 5F 75 73  	db	$6B,$5F,$75,$73,$65,$72,$5F,$53,$74,$61,
                    $72,$74,$57,$69,$6E
       00:1658: 65 72 5F 53 
       00:165C: 74 61 72 74 
       00:1660: 57 69 6E 
 21278 00:1663: 64 6F 77 46  	db	$64,$6F,$77,$46,$6F,$72,$52,$65,$73,$69,
                    $7A,$65,$3A,$63,$78
       00:1667: 6F 72 52 65 
       00:166B: 73 69 7A 65 
       00:166F: 3A 63 78 
 21279 00:1672: 3A 00 6B 5F  	db	$3A,$00,$6B,$5F,$75,$73,$65,$72,$5F,$53,
                    $74,$61,$72,$74,$57
       00:1676: 75 73 65 72 
       00:167A: 5F 53 74 61 
       00:167E: 72 74 57 
 21280 00:1681: 69 6E 64 6F  	db	$69,$6E,$64,$6F,$77,$46,$6F,$72,$52,$65,
                    $73,$69,$7A,$65,$3A
       00:1685: 77 46 6F 72 
       00:1689: 52 65 73 69 
       00:168D: 7A 65 3A 
 21281 00:1690: 63 79 3A 00  	db	$63,$79,$3A,$00
 21282 00:1694:              	ends
 21283                        ;
 21284                        ;
 21285                        ;void k_user_EndWindowForResize(HWND hWnd,int cx,i
                    nt cy)
 21286                        ;{
 21287                        	.line	3751
 21288                        	.line	3752
 21289                        	WINMAN
 21290                        	xdef	~~k_user_EndWindowForResize
 21291                        	func
 21292                        	.function	3752
 21293                        ~~k_user_EndWindowForResize:
 21294                        	longa	on
 21295                        	longi	on
 21296 04:5F74: 3B           	tsc
 21297 04:5F75: 38           	sec
 21298 04:5F76: E9 08 00     	sbc	#L792
 21299 04:5F79: 1B           	tcs
 21300 04:5F7A: 0B           	phd
 21301 04:5F7B: 5B           	tcd
 21302             00000004   hWnd_0	set	4
 21303             00000008   cx_0	set	8
  Mon Dec  7 2020 11:19                                                Page 421


 21304             0000000A   cy_0	set	10
 21305                        	.block	3752
 21306                        ;	PWINDOW   pWin = NULL;
 21307                        ;	PDRAGDATA defPrcData = NULL;
 21308                        ;
 21309                        ;	if(hWnd)
 21310             00000000   pWin_1	set	0
 21311             00000004   defPrcData_1	set	4
 21312                        	.sym	pWin,0,138,1,32,27
 21313                        	.sym	defPrcData,4,138,1,32,26
 21314                        	.sym	hWnd,4,129,6,32
 21315                        	.sym	cx,8,5,6,16
 21316                        	.sym	cy,10,5,6,16
 21317 04:5F7C: 64 01        	stz	<L793+pWin_1
 21318 04:5F7E: 64 03        	stz	<L793+pWin_1+2
 21319 04:5F80: 64 05        	stz	<L793+defPrcData_1
 21320 04:5F82: 64 07        	stz	<L793+defPrcData_1+2
 21321                        	.line	3756
 21322                        ;	{
 21323 04:5F84: A5 0C        	lda	<L792+hWnd_0
 21324 04:5F86: 05 0E        	ora	<L792+hWnd_0+2
 21325 04:5F88: D0 03        	bne	L795
 21326 04:5F8A: 82 95 00     	brl	L10339
 21327                        L795:
 21328                        	.line	3757
 21329                        ;		pWin = k_getWindowFromHandle(hWnd);
 21330                        	.line	3758
 21331 04:5F8D: D4 0E        	pei	<L792+hWnd_0+2
 21332 04:5F8F: D4 0C        	pei	<L792+hWnd_0
 21333 04:5F91: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
 21334 04:5F95: 85 01        	sta	<L793+pWin_1
 21335 04:5F97: 86 03        	stx	<L793+pWin_1+2
 21336                        ;
 21337                        ;		if(pWin)
 21338                        	.line	3760
 21339                        ;		{
 21340 04:5F99: A5 01        	lda	<L793+pWin_1
 21341 04:5F9B: 05 03        	ora	<L793+pWin_1+2
 21342 04:5F9D: D0 03        	bne	L796
 21343 04:5F9F: 82 72 00     	brl	L10340
 21344                        L796:
 21345                        	.line	3761
 21346                        ;			defPrcData = (PDRAGDATA)k_user_G
                    etWindowData(hWnd,CLIENTDATA_DEFAULT);
 21347                        	.line	3762
 21348 04:5FA2: F4 00 00     	pea	#<$0
 21349 04:5FA5: D4 0E        	pei	<L792+hWnd_0+2
 21350 04:5FA7: D4 0C        	pei	<L792+hWnd_0
 21351 04:5FA9: 22 B1 1D 04  	jsl	~~k_user_GetWindowData
 21352 04:5FAD: 85 05        	sta	<L793+defPrcData_1
 21353 04:5FAF: 86 07        	stx	<L793+defPrcData_1+2
 21354                        ;			if(defPrcData != NULL)
 21355                        	.line	3763
 21356                        ;			{
 21357 04:5FB1: A5 05        	lda	<L793+defPrcData_1
 21358 04:5FB3: 05 07        	ora	<L793+defPrcData_1+2
 21359 04:5FB5: D0 03        	bne	L797
 21360 04:5FB7: 82 5A 00     	brl	L10341
  Mon Dec  7 2020 11:19                                                Page 422


 21361                        L797:
 21362                        	.line	3764
 21363                        ;				k_draw_rect(pWin->win_x,
 21364                        	.line	3765
 21365                        ;							
                    pWin->win_y,
 21366                        ;							
                    defPrcData->area.x,
 21367                        ;							
                    defPrcData->area.y,
 21368                        ;							
                    FILLCOLOR_TRANSPARENT,
 21369                        ;							
                    BITMAP_NOBRUSH,
 21370                        ;							
                    BITMAP_FRONT);
 21371 04:5FBA: F4 00 00     	pea	#<$0
 21372 04:5FBD: F4 00 00     	pea	#<$0
 21373 04:5FC0: F4 00 00     	pea	#<$0
 21374 04:5FC3: A0 02 00     	ldy	#$2
 21375 04:5FC6: B7 05        	lda	[<L793+defPrcData_1],Y
 21376 04:5FC8: 48           	pha
 21377 04:5FC9: A7 05        	lda	[<L793+defPrcData_1]
 21378 04:5FCB: 48           	pha
 21379 04:5FCC: A0 0A 00     	ldy	#$a
 21380 04:5FCF: B7 01        	lda	[<L793+pWin_1],Y
 21381 04:5FD1: 48           	pha
 21382 04:5FD2: A0 08 00     	ldy	#$8
 21383 04:5FD5: B7 01        	lda	[<L793+pWin_1],Y
 21384 04:5FD7: 48           	pha
 21385 04:5FD8: 22 xx xx xx  	jsl	~~k_draw_rect
 21386                        ;				if(defPrcData->isResize)
 21387                        	.line	3772
 21388                        ;				{
 21389 04:5FDC: A0 11 00     	ldy	#$11
 21390 04:5FDF: B7 05        	lda	[<L793+defPrcData_1],Y
 21391 04:5FE1: 29 FF 00     	and	#$ff
 21392 04:5FE4: D0 03        	bne	L798
 21393 04:5FE6: 82 0C 00     	brl	L10342
 21394                        L798:
 21395                        	.line	3773
 21396                        ;					k_user_ResizeWin
                    dow_ex(hWnd,cx,cy);
 21397                        	.line	3774
 21398 04:5FE9: D4 12        	pei	<L792+cy_0
 21399 04:5FEB: D4 10        	pei	<L792+cx_0
 21400 04:5FED: D4 0E        	pei	<L792+hWnd_0+2
 21401 04:5FEF: D4 0C        	pei	<L792+hWnd_0
 21402 04:5FF1: 22 70 0C 04  	jsl	~~k_user_ResizeWindow_ex
 21403                        ;				}
 21404                        	.line	3775
 21405                        ;				k_switch_window_page(hWn
                    d,BITMAP_FRONT,BITMAP_BACK,FALSE);
 21406                        L10342:
 21407                        	.line	3776
 21408 04:5FF5: F4 00 00     	pea	#<$0
 21409 04:5FF8: F4 10 00     	pea	#<$10
 21410 04:5FFB: F4 00 00     	pea	#<$0
  Mon Dec  7 2020 11:19                                                Page 423


 21411 04:5FFE: D4 0E        	pei	<L792+hWnd_0+2
 21412 04:6000: D4 0C        	pei	<L792+hWnd_0
 21413 04:6002: 22 F4 64 04  	jsl	~~k_switch_window_page
 21414                        ;
 21415                        ;				memset(defPrcData,0,size
                    of(DRAGDATA));
 21416                        	.line	3778
 21417 04:6006: F4 14 00     	pea	#<$14
 21418 04:6009: F4 00 00     	pea	#<$0
 21419 04:600C: D4 07        	pei	<L793+defPrcData_1+2
 21420 04:600E: D4 05        	pei	<L793+defPrcData_1
 21421 04:6010: 22 xx xx xx  	jsl	~~memset
 21422                        ;			}
 21423                        	.line	3779
 21424                        ;		}
 21425                        L10341:
 21426                        	.line	3780
 21427                        ;		k_event_unlock_focus();
 21428                        L10340:
 21429                        	.line	3781
 21430 04:6014: 22 xx xx xx  	jsl	~~k_event_unlock_focus
 21431                        ;		k_user_setMousePointer("ARROW");
 21432                        	.line	3782
 21433 04:6018: F4 xx xx     	pea	#^L791
 21434 04:601B: F4 xx xx     	pea	#<L791
 21435 04:601E: 22 B5 11 04  	jsl	~~k_user_setMousePointer
 21436                        ;	}
 21437                        	.line	3783
 21438                        ;}
 21439                        L10339:
 21440                        	.line	3784
 21441                        L799:
 21442 04:6022: A5 0A        	lda	<L792+2
 21443 04:6024: 85 12        	sta	<L792+2+8
 21444 04:6026: A5 09        	lda	<L792+1
 21445 04:6028: 85 11        	sta	<L792+1+8
 21446 04:602A: 2B           	pld
 21447 04:602B: 3B           	tsc
 21448 04:602C: 18           	clc
 21449 04:602D: 69 10 00     	adc	#L792+8
 21450 04:6030: 1B           	tcs
 21451 04:6031: 6B           	rtl
 21452                        	.endblock	3784
 21453             00000008   L792	equ	8
 21454             00000001   L793	equ	1
 21455 04:6032:              	ends
 21456                        	efunc
 21457                        	.endfunc	3784,1,8
 21458                        	.line	3784
 21459                        	data
 21460                        L791:
 21461 00:1694: 41 52 52 4F  	db	$41,$52,$52,$4F,$57,$00
       00:1698: 57 00 
 21462 00:169A:              	ends
 21463                        ;
 21464                        ;
 21465                        ;BOOL DlgWindowProc(PFXOSMESSAGE pMsg)
 21466                        ;{
  Mon Dec  7 2020 11:19                                                Page 424


 21467                        	.line	3787
 21468                        	.line	3788
 21469                        	WINMAN
 21470                        	xdef	~~DlgWindowProc
 21471                        	func
 21472                        	.function	3788
 21473                        ~~DlgWindowProc:
 21474                        	longa	on
 21475                        	longi	on
 21476 04:6032: 3B           	tsc
 21477 04:6033: 38           	sec
 21478 04:6034: E9 0C 00     	sbc	#L801
 21479 04:6037: 1B           	tcs
 21480 04:6038: 0B           	phd
 21481 04:6039: 5B           	tcd
 21482             00000004   pMsg_0	set	4
 21483                        	.block	3788
 21484                        ;	PFXPROCESS p = NULL;
 21485                        ;	PWINDOW	   pWin = NULL;
 21486                        ;
 21487                        ;
 21488                        ;	if(pMsg)
 21489             00000000   p_1	set	0
 21490             00000004   pWin_1	set	4
 21491                        	.sym	p,0,138,1,32,17
 21492                        	.sym	pWin,4,138,1,32,27
 21493                        	.sym	pMsg,4,138,6,32,13
 21494 04:603A: 64 05        	stz	<L802+p_1
 21495 04:603C: 64 07        	stz	<L802+p_1+2
 21496 04:603E: 64 09        	stz	<L802+pWin_1
 21497 04:6040: 64 0B        	stz	<L802+pWin_1+2
 21498                        	.line	3793
 21499                        ;	{
 21500 04:6042: A5 10        	lda	<L801+pMsg_0
 21501 04:6044: 05 12        	ora	<L801+pMsg_0+2
 21502 04:6046: D0 03        	bne	L804
 21503 04:6048: 82 EE 00     	brl	L10343
 21504                        L804:
 21505                        	.line	3794
 21506                        ;		pWin = k_getWindowFromHandle(pMsg->hwnd)
                    ;
 21507                        	.line	3795
 21508 04:604B: A0 0C 00     	ldy	#$c
 21509 04:604E: B7 10        	lda	[<L801+pMsg_0],Y
 21510 04:6050: 48           	pha
 21511 04:6051: A0 0A 00     	ldy	#$a
 21512 04:6054: B7 10        	lda	[<L801+pMsg_0],Y
 21513 04:6056: 48           	pha
 21514 04:6057: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
 21515 04:605B: 85 09        	sta	<L802+pWin_1
 21516 04:605D: 86 0B        	stx	<L802+pWin_1+2
 21517                        ;		if(pMsg!=NULL)
 21518                        	.line	3796
 21519                        ;		{
 21520 04:605F: A5 10        	lda	<L801+pMsg_0
 21521 04:6061: 05 12        	ora	<L801+pMsg_0+2
 21522 04:6063: D0 03        	bne	L805
 21523 04:6065: 82 D1 00     	brl	L10344
  Mon Dec  7 2020 11:19                                                Page 425


 21524                        L805:
 21525                        	.line	3797
 21526                        ;			p = k_exec_get_current_process()
                    ;
 21527                        	.line	3798
 21528 04:6068: 22 xx xx xx  	jsl	~~k_exec_get_current_process
 21529 04:606C: 85 05        	sta	<L802+p_1
 21530 04:606E: 86 07        	stx	<L802+p_1+2
 21531                        ;			switch(pMsg->type)
 21532                        	.line	3799
 21533 04:6070: A0 08 00     	ldy	#$8
 21534 04:6073: B7 10        	lda	[<L801+pMsg_0],Y
 21535 04:6075: 82 AD 00     	brl	L10345
 21536                        ;			{
 21537                        	.line	3800
 21538                        ;			case FX_DRAW_NONCLIENT:
 21539                        	.line	3801
 21540                        L10347:
 21541                        ;				k_vdraw_ui_window(pWin,
 21542                        	.line	3802
 21543                        ;						        
                      pWin->style,
 21544                        ;							
                    	  pWin->win_x,
 21545                        ;							
                    	  pWin->win_y,
 21546                        ;							
                    	  pWin->win_height,
 21547                        ;							
                    	  pWin->win_width,
 21548                        ;							
                    	  pWin->win_title,
 21549                        ;							
                    	  15,
 21550                        ;							
                    	  15);
 21551 04:6078: F4 0F 00     	pea	#<$f
 21552 04:607B: F4 0F 00     	pea	#<$f
 21553 04:607E: 18           	clc
 21554 04:607F: A9 D4 00     	lda	#$d4
 21555 04:6082: 65 09        	adc	<L802+pWin_1
 21556 04:6084: 85 01        	sta	<R0
 21557 04:6086: A9 00 00     	lda	#$0
 21558 04:6089: 65 0B        	adc	<L802+pWin_1+2
 21559 04:608B: 85 03        	sta	<R0+2
 21560 04:608D: D4 03        	pei	<R0+2
 21561 04:608F: D4 01        	pei	<R0
 21562 04:6091: A0 0C 00     	ldy	#$c
 21563 04:6094: B7 09        	lda	[<L802+pWin_1],Y
 21564 04:6096: 48           	pha
 21565 04:6097: A0 0E 00     	ldy	#$e
 21566 04:609A: B7 09        	lda	[<L802+pWin_1],Y
 21567 04:609C: 48           	pha
 21568 04:609D: A0 0A 00     	ldy	#$a
 21569 04:60A0: B7 09        	lda	[<L802+pWin_1],Y
 21570 04:60A2: 48           	pha
 21571 04:60A3: A0 08 00     	ldy	#$8
 21572 04:60A6: B7 09        	lda	[<L802+pWin_1],Y
  Mon Dec  7 2020 11:19                                                Page 426


 21573 04:60A8: 48           	pha
 21574 04:60A9: A0 04 00     	ldy	#$4
 21575 04:60AC: B7 09        	lda	[<L802+pWin_1],Y
 21576 04:60AE: 48           	pha
 21577 04:60AF: A0 02 00     	ldy	#$2
 21578 04:60B2: B7 09        	lda	[<L802+pWin_1],Y
 21579 04:60B4: 48           	pha
 21580 04:60B5: D4 0B        	pei	<L802+pWin_1+2
 21581 04:60B7: D4 09        	pei	<L802+pWin_1
 21582 04:60B9: 22 xx xx xx  	jsl	~~k_vdraw_ui_window
 21583                        ;				break;
 21584                        	.line	3811
 21585 04:60BD: 82 79 00     	brl	L10346
 21586                        ;
 21587                        ;			case FX_MOUSE_ENTER:
 21588                        	.line	3813
 21589                        L10348:
 21590                        ;				k_debug_strings("DlgWind
                    owProc::FX_MOUSE_ENTER",pWin->win_title);
 21591                        	.line	3814
 21592 04:60C0: 18           	clc
 21593 04:60C1: A9 D4 00     	lda	#$d4
 21594 04:60C4: 65 09        	adc	<L802+pWin_1
 21595 04:60C6: 85 01        	sta	<R0
 21596 04:60C8: A9 00 00     	lda	#$0
 21597 04:60CB: 65 0B        	adc	<L802+pWin_1+2
 21598 04:60CD: 85 03        	sta	<R0+2
 21599 04:60CF: D4 03        	pei	<R0+2
 21600 04:60D1: D4 01        	pei	<R0
 21601 04:60D3: F4 xx xx     	pea	#^L800
 21602 04:60D6: F4 xx xx     	pea	#<L800
 21603 04:60D9: 22 xx xx xx  	jsl	~~k_debug_strings
 21604                        ;				break;
 21605                        	.line	3815
 21606 04:60DD: 82 59 00     	brl	L10346
 21607                        ;			case FX_MOUSE_EXIT:
 21608                        	.line	3816
 21609                        L10349:
 21610                        ;				k_debug_strings("DlgWind
                    owProc::FX_MOUSE_EXIT",pWin->win_title);
 21611                        	.line	3817
 21612 04:60E0: 18           	clc
 21613 04:60E1: A9 D4 00     	lda	#$d4
 21614 04:60E4: 65 09        	adc	<L802+pWin_1
 21615 04:60E6: 85 01        	sta	<R0
 21616 04:60E8: A9 00 00     	lda	#$0
 21617 04:60EB: 65 0B        	adc	<L802+pWin_1+2
 21618 04:60ED: 85 03        	sta	<R0+2
 21619 04:60EF: D4 03        	pei	<R0+2
 21620 04:60F1: D4 01        	pei	<R0
 21621 04:60F3: F4 xx xx     	pea	#^L800+30
 21622 04:60F6: F4 xx xx     	pea	#<L800+30
 21623 04:60F9: 22 xx xx xx  	jsl	~~k_debug_strings
 21624                        ;				break;
 21625                        	.line	3818
 21626 04:60FD: 82 39 00     	brl	L10346
 21627                        ;			default:
 21628                        	.line	3819
  Mon Dec  7 2020 11:19                                                Page 427


 21629                        L10350:
 21630                        ;				return DefWindowProc(pMs
                    g);
 21631                        	.line	3820
 21632 04:6100: D4 12        	pei	<L801+pMsg_0+2
 21633 04:6102: D4 10        	pei	<L801+pMsg_0
 21634 04:6104: 22 88 51 04  	jsl	~~DefWindowProc
 21635 04:6108: E2 20        	sep	#$20
 21636                        	longa	off
 21637 04:610A: 85 01        	sta	<R0
 21638 04:610C: C2 20        	rep	#$20
 21639                        	longa	on
 21640 04:610E: A5 01        	lda	<R0
 21641 04:6110: 29 FF 00     	and	#$ff
 21642                        L806:
 21643 04:6113: A8           	tay
 21644 04:6114: A5 0E        	lda	<L801+2
 21645 04:6116: 85 12        	sta	<L801+2+4
 21646 04:6118: A5 0D        	lda	<L801+1
 21647 04:611A: 85 11        	sta	<L801+1+4
 21648 04:611C: 2B           	pld
 21649 04:611D: 3B           	tsc
 21650 04:611E: 18           	clc
 21651 04:611F: 69 10 00     	adc	#L801+4
 21652 04:6122: 1B           	tcs
 21653 04:6123: 98           	tya
 21654 04:6124: 6B           	rtl
 21655                        ;			}
 21656                        	.line	3821
 21657                        L10345:
 21658                        	xref	~~~swt
 21659 04:6125: 22 xx xx xx  	jsl	~~~swt
 21660 04:6129: 03 00        	dw	3
 21661 04:612B: 01 0F        	dw	3841
 21662 04:612D: BF 60        	dw	L10348-1
 21663 04:612F: 02 0F        	dw	3842
 21664 04:6131: DF 60        	dw	L10349-1
 21665 04:6133: 01 FB        	dw	64257
 21666 04:6135: 77 60        	dw	L10347-1
 21667 04:6137: FF 60        	dw	L10350-1
 21668                        L10346:
 21669                        ;		}
 21670                        	.line	3822
 21671                        ;	}
 21672                        L10344:
 21673                        	.line	3823
 21674                        ;	return TRUE;
 21675                        L10343:
 21676                        	.line	3824
 21677 04:6139: A9 01 00     	lda	#$1
 21678 04:613C: 82 D4 FF     	brl	L806
 21679                        ;}
 21680                        	.line	3825
 21681                        	.endblock	3825
 21682             0000000C   L801	equ	12
 21683             00000005   L802	equ	5
 21684 04:613F:              	ends
 21685                        	efunc
  Mon Dec  7 2020 11:19                                                Page 428


 21686                        	.endfunc	3825,5,12
 21687                        	.line	3825
 21688                        	data
 21689                        L800:
 21690 00:169A: 44 6C 67 57  	db	$44,$6C,$67,$57,$69,$6E,$64,$6F,$77,$50,
                    $72,$6F,$63,$3A,$3A
       00:169E: 69 6E 64 6F 
       00:16A2: 77 50 72 6F 
       00:16A6: 63 3A 3A 
 21691 00:16A9: 46 58 5F 4D  	db	$46,$58,$5F,$4D,$4F,$55,$53,$45,$5F,$45,
                    $4E,$54,$45,$52,$00
       00:16AD: 4F 55 53 45 
       00:16B1: 5F 45 4E 54 
       00:16B5: 45 52 00 
 21692 00:16B8: 44 6C 67 57  	db	$44,$6C,$67,$57,$69,$6E,$64,$6F,$77,$50,
                    $72,$6F,$63,$3A,$3A
       00:16BC: 69 6E 64 6F 
       00:16C0: 77 50 72 6F 
       00:16C4: 63 3A 3A 
 21693 00:16C7: 46 58 5F 4D  	db	$46,$58,$5F,$4D,$4F,$55,$53,$45,$5F,$45,
                    $58,$49,$54,$00
       00:16CB: 4F 55 53 45 
       00:16CF: 5F 45 58 49 
       00:16D3: 54 00 
 21694 00:16D5:              	ends
 21695                        ;
 21696                        ;BOOL DlgAboutWindowProc(PFXOSMESSAGE pMsg)
 21697                        ;{
 21698                        	.line	3827
 21699                        	.line	3828
 21700                        	WINMAN
 21701                        	xdef	~~DlgAboutWindowProc
 21702                        	func
 21703                        	.function	3828
 21704                        ~~DlgAboutWindowProc:
 21705                        	longa	on
 21706                        	longi	on
 21707 04:613F: 3B           	tsc
 21708 04:6140: 38           	sec
 21709 04:6141: E9 22 00     	sbc	#L808
 21710 04:6144: 1B           	tcs
 21711 04:6145: 0B           	phd
 21712 04:6146: 5B           	tcd
 21713             00000004   pMsg_0	set	4
 21714                        	.block	3828
 21715                        ;	PFXPROCESS p = NULL;
 21716                        ;	PWINDOW	   pWin = NULL;
 21717                        ;	PWINDOW	   pButton = NULL;
 21718                        ;	RECT	   rect;
 21719                        ;	PPOINT 	   ppoint = NULL;
 21720                        ;	int 	   row = 0;
 21721                        ;
 21722                        ;	if(pMsg)
 21723             00000000   p_1	set	0
 21724             00000004   pWin_1	set	4
 21725             00000008   pButton_1	set	8
 21726             0000000C   rect_1	set	12
 21727             00000014   ppoint_1	set	20
  Mon Dec  7 2020 11:19                                                Page 429


 21728             00000018   row_1	set	24
 21729                        	.sym	p,0,138,1,32,17
 21730                        	.sym	pWin,4,138,1,32,27
 21731                        	.sym	pButton,8,138,1,32,27
 21732                        	.sym	rect,12,10,1,64,22
 21733                        	.sym	ppoint,20,138,1,32,21
 21734                        	.sym	row,24,5,1,16
 21735                        	.sym	pMsg,4,138,6,32,13
 21736 04:6147: 64 09        	stz	<L809+p_1
 21737 04:6149: 64 0B        	stz	<L809+p_1+2
 21738 04:614B: 64 0D        	stz	<L809+pWin_1
 21739 04:614D: 64 0F        	stz	<L809+pWin_1+2
 21740 04:614F: 64 11        	stz	<L809+pButton_1
 21741 04:6151: 64 13        	stz	<L809+pButton_1+2
 21742 04:6153: 64 1D        	stz	<L809+ppoint_1
 21743 04:6155: 64 1F        	stz	<L809+ppoint_1+2
 21744 04:6157: 64 21        	stz	<L809+row_1
 21745                        	.line	3836
 21746                        ;	{
 21747 04:6159: A5 26        	lda	<L808+pMsg_0
 21748 04:615B: 05 28        	ora	<L808+pMsg_0+2
 21749 04:615D: D0 03        	bne	L811
 21750 04:615F: 82 0E 03     	brl	L10351
 21751                        L811:
 21752                        	.line	3837
 21753                        ;		pWin = k_getWindowFromHandle(pMsg->hwnd)
                    ;
 21754                        	.line	3838
 21755 04:6162: A0 0C 00     	ldy	#$c
 21756 04:6165: B7 26        	lda	[<L808+pMsg_0],Y
 21757 04:6167: 48           	pha
 21758 04:6168: A0 0A 00     	ldy	#$a
 21759 04:616B: B7 26        	lda	[<L808+pMsg_0],Y
 21760 04:616D: 48           	pha
 21761 04:616E: 22 F9 0F 04  	jsl	~~k_getWindowFromHandle
 21762 04:6172: 85 0D        	sta	<L809+pWin_1
 21763 04:6174: 86 0F        	stx	<L809+pWin_1+2
 21764                        ;		if(pWin!=NULL)
 21765                        	.line	3839
 21766                        ;		{
 21767 04:6176: A5 0D        	lda	<L809+pWin_1
 21768 04:6178: 05 0F        	ora	<L809+pWin_1+2
 21769 04:617A: D0 03        	bne	L812
 21770 04:617C: 82 F1 02     	brl	L10352
 21771                        L812:
 21772                        	.line	3840
 21773                        ;			//k_debug_integer(" *** DlgAbout
                    WindowProc:WndProc::Type:",pMsg->type);
 21774                        ;
 21775                        ;			p = k_exec_get_current_process()
                    ;
 21776                        	.line	3843
 21777 04:617F: 22 xx xx xx  	jsl	~~k_exec_get_current_process
 21778 04:6183: 85 09        	sta	<L809+p_1
 21779 04:6185: 86 0B        	stx	<L809+p_1+2
 21780                        ;			switch(pMsg->type)
 21781                        	.line	3844
 21782 04:6187: A0 08 00     	ldy	#$8
  Mon Dec  7 2020 11:19                                                Page 430


 21783 04:618A: B7 26        	lda	[<L808+pMsg_0],Y
 21784 04:618C: 82 C5 02     	brl	L10353
 21785                        ;			{
 21786                        	.line	3845
 21787                        ;			case FX_CREATE_WINDOW:
 21788                        	.line	3846
 21789                        L10355:
 21790                        ;				//k_user_CreateButton(pM
                    sg->hwnd,"Ok",0x8801,0,0,-1,-1);
 21791                        ;				pButton = k_user_CreateB
                    utton(pMsg->hwnd,"OK",0x8801,140,130,-1,-1);
 21792                        	.line	3848
 21793 04:618F: F4 FF FF     	pea	#<$ffffffff
 21794 04:6192: F4 FF FF     	pea	#<$ffffffff
 21795 04:6195: F4 82 00     	pea	#<$82
 21796 04:6198: F4 8C 00     	pea	#<$8c
 21797 04:619B: F4 01 88     	pea	#<$8801
 21798 04:619E: F4 xx xx     	pea	#^L807
 21799 04:61A1: F4 xx xx     	pea	#<L807
 21800 04:61A4: A0 0C 00     	ldy	#$c
 21801 04:61A7: B7 26        	lda	[<L808+pMsg_0],Y
 21802 04:61A9: 48           	pha
 21803 04:61AA: A0 0A 00     	ldy	#$a
 21804 04:61AD: B7 26        	lda	[<L808+pMsg_0],Y
 21805 04:61AF: 48           	pha
 21806 04:61B0: 22 EC 34 04  	jsl	~~k_user_CreateButton
 21807 04:61B4: 85 11        	sta	<L809+pButton_1
 21808 04:61B6: 86 13        	stx	<L809+pButton_1+2
 21809                        ;				//pButton = k_user_Creat
                    eButton(k_user_getDesktopWindow(),"Ok",0x8801,10,10,-1,-1);
 21810                        ;				k_user_CenterBottomWindo
                    w(pButton);
 21811                        	.line	3850
 21812 04:61B8: D4 13        	pei	<L809+pButton_1+2
 21813 04:61BA: D4 11        	pei	<L809+pButton_1
 21814 04:61BC: 22 08 07 04  	jsl	~~k_user_CenterBottomWindow
 21815                        ;				break;
 21816                        	.line	3851
 21817 04:61C0: 82 AD 02     	brl	L10354
 21818                        ;			/*
 21819                        ;			case FX_DRAW_NONCLIENT:
 21820                        ;
 21821                        ;
 21822                        ;				k_vdraw_ui_window(pWin,p
                    Win->style,
 21823                        ;							
                    	  pWin->win_x,
 21824                        ;							
                    	  pWin->win_y,
 21825                        ;							
                    	  pWin->win_height,
 21826                        ;							
                    	  pWin->win_width,
 21827                        ;							
                    	  pWin->win_title,
 21828                        ;							
                    	  15,
 21829                        ;							
  Mon Dec  7 2020 11:19                                                Page 431


                    	  15);
 21830                        ;
 21831                        ;				//k_draw_text_point(pWin
                    ->win_title);
 21832                        ;
 21833                        ;				//k_draw_text_point_with
                    _font("About FX/OS...",Bm437ATI8x16,100,100,0);
 21834                        ;				//k_draw_text_point_with
                    _font("About FX/OS...",Bm437ATI6x8,100,120,0);
 21835                        ;				//k_draw_text_point_with
                    _font("About FX/OS...",Bm437ToshibaLCD8x8,100,130,0);
 21836                        ;				//k_draw_text_point_with
                    _font("About FX/OS...",(LPCSTR)k_user_getFontClass("TINYTYPE
                    8x8"),100,130,0);
 21837                        ;				//k_draw_text_point_with
                    _font("About FX/OS...",(LPCSTR)k_user_getFontClass("FANTASY8
                    x8"),100,140,0);
 21838                        ;				//k_draw_text_point_with
                    _font("About FX/OS...",(LPCSTR)k_user_getFontClass("Italics8
                    x8"),100,150,0);
 21839                        ;
 21840                        ;				//k_draw_text_point_with
                    _font("\x80\x81",(LPCSTR)k_user_getFontClass("AMIGO8x8"),100
                    ,160,0);
 21841                        ;
 21842                        ;
 21843                        ;				//k_draw_text_point_with
                    _font("\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8A\x8B\x8C\
                    x8D\x8E\x8F",(LPCSTR)k_user_getFontClass("FXOS8x8"),50,100,1
                    5);
 21844                        ;				//k_draw_text_point_with
                    _font("\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9A\x9B\x9C\
                    x9D\x9E\x9F",(LPCSTR)k_user_getFontClass("FXOS8x8"),50,110,1
                    5);
 21845                        ;				//k_draw_text_point_with
                    _font("\xA0\xA1\xA2\xA3\xA4\xA5\xA6\xA7\xA8\xA9\xAA\xAB\xAC\
                    xAD\xAE\xAF",(LPCSTR)k_user_getFontClass("FXOS8x8"),50,120,1
                    5);
 21846                        ;
 21847                        ;
 21848                        ;				//k_draw_text_point("Abo
                    ut FX/OS...",100,180,0);
 21849                        ;
 21850                        ;				break;
 21851                        ;				*/
 21852                        ;			case FX_DRAW_WINDOW:
 21853                        	.line	3886
 21854                        L10356:
 21855                        ;				k_debug_strings("DlgAbou
                    tWindowProc::FX_DRAW_WINDOW","");
 21856                        	.line	3887
 21857 04:61C3: F4 xx xx     	pea	#^L807+38
 21858 04:61C6: F4 xx xx     	pea	#<L807+38
 21859 04:61C9: F4 xx xx     	pea	#^L807+3
 21860 04:61CC: F4 xx xx     	pea	#<L807+3
 21861 04:61CF: 22 xx xx xx  	jsl	~~k_debug_strings
 21862                        ;
 21863                        ;				row = 10;
  Mon Dec  7 2020 11:19                                                Page 432


 21864                        	.line	3889
 21865 04:61D3: A9 0A 00     	lda	#$a
 21866 04:61D6: 85 21        	sta	<L809+row_1
 21867                        ;				rect.x = 10;
 21868                        	.line	3890
 21869 04:61D8: A9 0A 00     	lda	#$a
 21870 04:61DB: 85 15        	sta	<L809+rect_1
 21871                        ;				rect.y = row;
 21872                        	.line	3891
 21873 04:61DD: A5 21        	lda	<L809+row_1
 21874 04:61DF: 85 17        	sta	<L809+rect_1+2
 21875                        ;				k_user_DrawWindowTextToP
                    oint(k_getHandleFromWindow(pWin),"FX/OS Foenix Workspace",0,
                    &rect);
 21876                        	.line	3892
 21877 04:61E1: F4 00 00     	pea	#0
 21878 04:61E4: 18           	clc
 21879 04:61E5: 7B           	tdc
 21880 04:61E6: 69 15 00     	adc	#<L809+rect_1
 21881 04:61E9: 48           	pha
 21882 04:61EA: F4 00 00     	pea	#<$0
 21883 04:61ED: F4 xx xx     	pea	#^L807+39
 21884 04:61F0: F4 xx xx     	pea	#<L807+39
 21885 04:61F3: D4 0F        	pei	<L809+pWin_1+2
 21886 04:61F5: D4 0D        	pei	<L809+pWin_1
 21887 04:61F7: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
 21888 04:61FB: 85 01        	sta	<R0
 21889 04:61FD: 86 03        	stx	<R0+2
 21890 04:61FF: DA           	phx
 21891 04:6200: 48           	pha
 21892 04:6201: 22 F6 13 04  	jsl	~~k_user_DrawWindowTextToPoint
 21893                        ;				row+=30;
 21894                        	.line	3893
 21895 04:6205: 18           	clc
 21896 04:6206: A9 1E 00     	lda	#$1e
 21897 04:6209: 65 21        	adc	<L809+row_1
 21898 04:620B: 85 21        	sta	<L809+row_1
 21899                        ;
 21900                        ;				rect.x = 10;
 21901                        	.line	3895
 21902 04:620D: A9 0A 00     	lda	#$a
 21903 04:6210: 85 15        	sta	<L809+rect_1
 21904                        ;				rect.y = row;
 21905                        	.line	3896
 21906 04:6212: A5 21        	lda	<L809+row_1
 21907 04:6214: 85 17        	sta	<L809+rect_1+2
 21908                        ;				k_user_DrawWindowTextToP
                    ointWithFont(k_getHandleFromWindow(pWin),
 21909                        	.line	3897
 21910                        ;							
                    						 "Prerelease 1.0
                    .1 Beta",
 21911                        ;						        
                                         0,&rect,(LPCSTR)k_user_getFontClass("TI
                    NYTYPE8x8"));
 21912 04:6216: F4 xx xx     	pea	#^L807+84
 21913 04:6219: F4 xx xx     	pea	#<L807+84
 21914 04:621C: 22 D1 10 04  	jsl	~~k_user_getFontClass
  Mon Dec  7 2020 11:19                                                Page 433


 21915 04:6220: 85 01        	sta	<R0
 21916 04:6222: 86 03        	stx	<R0+2
 21917 04:6224: DA           	phx
 21918 04:6225: 48           	pha
 21919 04:6226: F4 00 00     	pea	#0
 21920 04:6229: 18           	clc
 21921 04:622A: 7B           	tdc
 21922 04:622B: 69 15 00     	adc	#<L809+rect_1
 21923 04:622E: 48           	pha
 21924 04:622F: F4 00 00     	pea	#<$0
 21925 04:6232: F4 xx xx     	pea	#^L807+62
 21926 04:6235: F4 xx xx     	pea	#<L807+62
 21927 04:6238: D4 0F        	pei	<L809+pWin_1+2
 21928 04:623A: D4 0D        	pei	<L809+pWin_1
 21929 04:623C: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
 21930 04:6240: 85 05        	sta	<R1
 21931 04:6242: 86 07        	stx	<R1+2
 21932 04:6244: DA           	phx
 21933 04:6245: 48           	pha
 21934 04:6246: 22 4D 14 04  	jsl	~~k_user_DrawWindowTextToPointWithFont
 21935                        ;				row+=10;
 21936                        	.line	3900
 21937 04:624A: 18           	clc
 21938 04:624B: A9 0A 00     	lda	#$a
 21939 04:624E: 65 21        	adc	<L809+row_1
 21940 04:6250: 85 21        	sta	<L809+row_1
 21941                        ;				rect.x = 10;
 21942                        	.line	3901
 21943 04:6252: A9 0A 00     	lda	#$a
 21944 04:6255: 85 15        	sta	<L809+rect_1
 21945                        ;				rect.y = row;
 21946                        	.line	3902
 21947 04:6257: A5 21        	lda	<L809+row_1
 21948 04:6259: 85 17        	sta	<L809+rect_1+2
 21949                        ;				k_user_DrawWindowTextToP
                    ointWithFont(k_getHandleFromWindow(pWin),
 21950                        	.line	3903
 21951                        ;							
                    						 "December 1, 20
                    20",
 21952                        ;						        
                                         0,&rect,(LPCSTR)k_user_getFontClass("TI
                    NYTYPE8x8"));
 21953 04:625B: F4 xx xx     	pea	#^L807+113
 21954 04:625E: F4 xx xx     	pea	#<L807+113
 21955 04:6261: 22 D1 10 04  	jsl	~~k_user_getFontClass
 21956 04:6265: 85 01        	sta	<R0
 21957 04:6267: 86 03        	stx	<R0+2
 21958 04:6269: DA           	phx
 21959 04:626A: 48           	pha
 21960 04:626B: F4 00 00     	pea	#0
 21961 04:626E: 18           	clc
 21962 04:626F: 7B           	tdc
 21963 04:6270: 69 15 00     	adc	#<L809+rect_1
 21964 04:6273: 48           	pha
 21965 04:6274: F4 00 00     	pea	#<$0
 21966 04:6277: F4 xx xx     	pea	#^L807+96
 21967 04:627A: F4 xx xx     	pea	#<L807+96
  Mon Dec  7 2020 11:19                                                Page 434


 21968 04:627D: D4 0F        	pei	<L809+pWin_1+2
 21969 04:627F: D4 0D        	pei	<L809+pWin_1
 21970 04:6281: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
 21971 04:6285: 85 05        	sta	<R1
 21972 04:6287: 86 07        	stx	<R1+2
 21973 04:6289: DA           	phx
 21974 04:628A: 48           	pha
 21975 04:628B: 22 4D 14 04  	jsl	~~k_user_DrawWindowTextToPointWithFont
 21976                        ;				row+=10;
 21977                        	.line	3906
 21978 04:628F: 18           	clc
 21979 04:6290: A9 0A 00     	lda	#$a
 21980 04:6293: 65 21        	adc	<L809+row_1
 21981 04:6295: 85 21        	sta	<L809+row_1
 21982                        ;
 21983                        ;				rect.x = 10;
 21984                        	.line	3908
 21985 04:6297: A9 0A 00     	lda	#$a
 21986 04:629A: 85 15        	sta	<L809+rect_1
 21987                        ;				rect.y = row;
 21988                        	.line	3909
 21989 04:629C: A5 21        	lda	<L809+row_1
 21990 04:629E: 85 17        	sta	<L809+rect_1+2
 21991                        ;				k_user_DrawWindowTextToP
                    ointWithFont(k_getHandleFromWindow(pWin),
 21992                        	.line	3910
 21993                        ;							
                    						 "Copyright (c) 
                    2020, Mike Bush",
 21994                        ;						        
                                         0,&rect,(LPCSTR)k_user_getFontClass("TI
                    NYTYPE8x8"));
 21995 04:62A0: F4 xx xx     	pea	#^L807+155
 21996 04:62A3: F4 xx xx     	pea	#<L807+155
 21997 04:62A6: 22 D1 10 04  	jsl	~~k_user_getFontClass
 21998 04:62AA: 85 01        	sta	<R0
 21999 04:62AC: 86 03        	stx	<R0+2
 22000 04:62AE: DA           	phx
 22001 04:62AF: 48           	pha
 22002 04:62B0: F4 00 00     	pea	#0
 22003 04:62B3: 18           	clc
 22004 04:62B4: 7B           	tdc
 22005 04:62B5: 69 15 00     	adc	#<L809+rect_1
 22006 04:62B8: 48           	pha
 22007 04:62B9: F4 00 00     	pea	#<$0
 22008 04:62BC: F4 xx xx     	pea	#^L807+125
 22009 04:62BF: F4 xx xx     	pea	#<L807+125
 22010 04:62C2: D4 0F        	pei	<L809+pWin_1+2
 22011 04:62C4: D4 0D        	pei	<L809+pWin_1
 22012 04:62C6: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
 22013 04:62CA: 85 05        	sta	<R1
 22014 04:62CC: 86 07        	stx	<R1+2
 22015 04:62CE: DA           	phx
 22016 04:62CF: 48           	pha
 22017 04:62D0: 22 4D 14 04  	jsl	~~k_user_DrawWindowTextToPointWithFont
 22018                        ;				row+=15;
 22019                        	.line	3913
 22020 04:62D4: 18           	clc
  Mon Dec  7 2020 11:19                                                Page 435


 22021 04:62D5: A9 0F 00     	lda	#$f
 22022 04:62D8: 65 21        	adc	<L809+row_1
 22023 04:62DA: 85 21        	sta	<L809+row_1
 22024                        ;
 22025                        ;				rect.x = 20;
 22026                        	.line	3915
 22027 04:62DC: A9 14 00     	lda	#$14
 22028 04:62DF: 85 15        	sta	<L809+rect_1
 22029                        ;				rect.y = row;
 22030                        	.line	3916
 22031 04:62E1: A5 21        	lda	<L809+row_1
 22032 04:62E3: 85 17        	sta	<L809+rect_1+2
 22033                        ;				k_user_DrawWindowTextToP
                    ointWithFont(k_getHandleFromWindow(pWin),
 22034                        	.line	3917
 22035                        ;							
                    						 "Author: Mike B
                    ush",
 22036                        ;						        
                                         0,&rect,(LPCSTR)k_user_getFontClass("TI
                    NYTYPE8x8"));
 22037 04:62E5: F4 xx xx     	pea	#^L807+185
 22038 04:62E8: F4 xx xx     	pea	#<L807+185
 22039 04:62EB: 22 D1 10 04  	jsl	~~k_user_getFontClass
 22040 04:62EF: 85 01        	sta	<R0
 22041 04:62F1: 86 03        	stx	<R0+2
 22042 04:62F3: DA           	phx
 22043 04:62F4: 48           	pha
 22044 04:62F5: F4 00 00     	pea	#0
 22045 04:62F8: 18           	clc
 22046 04:62F9: 7B           	tdc
 22047 04:62FA: 69 15 00     	adc	#<L809+rect_1
 22048 04:62FD: 48           	pha
 22049 04:62FE: F4 00 00     	pea	#<$0
 22050 04:6301: F4 xx xx     	pea	#^L807+167
 22051 04:6304: F4 xx xx     	pea	#<L807+167
 22052 04:6307: D4 0F        	pei	<L809+pWin_1+2
 22053 04:6309: D4 0D        	pei	<L809+pWin_1
 22054 04:630B: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
 22055 04:630F: 85 05        	sta	<R1
 22056 04:6311: 86 07        	stx	<R1+2
 22057 04:6313: DA           	phx
 22058 04:6314: 48           	pha
 22059 04:6315: 22 4D 14 04  	jsl	~~k_user_DrawWindowTextToPointWithFont
 22060                        ;				row+=15;
 22061                        	.line	3920
 22062 04:6319: 18           	clc
 22063 04:631A: A9 0F 00     	lda	#$f
 22064 04:631D: 65 21        	adc	<L809+row_1
 22065 04:631F: 85 21        	sta	<L809+row_1
 22066                        ;
 22067                        ;				rect.x = 20;
 22068                        	.line	3922
 22069 04:6321: A9 14 00     	lda	#$14
 22070 04:6324: 85 15        	sta	<L809+rect_1
 22071                        ;				rect.y = row;
 22072                        	.line	3923
 22073 04:6326: A5 21        	lda	<L809+row_1
  Mon Dec  7 2020 11:19                                                Page 436


 22074 04:6328: 85 17        	sta	<L809+rect_1+2
 22075                        ;				k_user_DrawWindowTextToP
                    ointWithFont(k_getHandleFromWindow(pWin),
 22076                        	.line	3924
 22077                        ;							
                    						 "Special Thanks
                    : Stefany Allaire",
 22078                        ;						        
                                         0,&rect,(LPCSTR)k_user_getFontClass("TI
                    NYTYPE8x8"));
 22079 04:632A: F4 xx xx     	pea	#^L807+229
 22080 04:632D: F4 xx xx     	pea	#<L807+229
 22081 04:6330: 22 D1 10 04  	jsl	~~k_user_getFontClass
 22082 04:6334: 85 01        	sta	<R0
 22083 04:6336: 86 03        	stx	<R0+2
 22084 04:6338: DA           	phx
 22085 04:6339: 48           	pha
 22086 04:633A: F4 00 00     	pea	#0
 22087 04:633D: 18           	clc
 22088 04:633E: 7B           	tdc
 22089 04:633F: 69 15 00     	adc	#<L809+rect_1
 22090 04:6342: 48           	pha
 22091 04:6343: F4 00 00     	pea	#<$0
 22092 04:6346: F4 xx xx     	pea	#^L807+197
 22093 04:6349: F4 xx xx     	pea	#<L807+197
 22094 04:634C: D4 0F        	pei	<L809+pWin_1+2
 22095 04:634E: D4 0D        	pei	<L809+pWin_1
 22096 04:6350: 22 DB 0F 04  	jsl	~~k_getHandleFromWindow
 22097 04:6354: 85 05        	sta	<R1
 22098 04:6356: 86 07        	stx	<R1+2
 22099 04:6358: DA           	phx
 22100 04:6359: 48           	pha
 22101 04:635A: 22 4D 14 04  	jsl	~~k_user_DrawWindowTextToPointWithFont
 22102                        ;
 22103                        ;				ppoint = (PPOINT)k_mem_a
                    llocate_heap(sizeof(POINT));
 22104                        	.line	3928
 22105 04:635E: F4 04 00     	pea	#<$4
 22106 04:6361: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 22107 04:6365: 85 1D        	sta	<L809+ppoint_1
 22108 04:6367: 86 1F        	stx	<L809+ppoint_1+2
 22109                        ;				ppoint->x = 0;
 22110                        	.line	3929
 22111 04:6369: A9 00 00     	lda	#$0
 22112 04:636C: 87 1D        	sta	[<L809+ppoint_1]
 22113                        ;				ppoint->y = 0;
 22114                        	.line	3930
 22115 04:636E: A9 00 00     	lda	#$0
 22116 04:6371: A0 02 00     	ldy	#$2
 22117 04:6374: 97 1D        	sta	[<L809+ppoint_1],Y
 22118                        ;
 22119                        ;				//_k_user_send_child_mes
                    sage(pWin,FX_MOVE_WINDOW,ppoint,sizeof(POINT));
 22120                        ;				_k_user_send_child_messa
                    ge(pWin,FX_DRAW_WINDOW,NULL,0);
 22121                        	.line	3933
 22122 04:6376: F4 00 00     	pea	#<$0
 22123 04:6379: F4 00 00     	pea	#^$0
  Mon Dec  7 2020 11:19                                                Page 437


 22124 04:637C: F4 00 00     	pea	#<$0
 22125 04:637F: F4 00 FB     	pea	#<$fb00
 22126 04:6382: D4 0F        	pei	<L809+pWin_1+2
 22127 04:6384: D4 0D        	pei	<L809+pWin_1
 22128 04:6386: 22 4F 4E 04  	jsl	~~_k_user_send_child_message
 22129                        ;
 22130                        ;				break;
 22131                        	.line	3935
 22132 04:638A: 82 E3 00     	brl	L10354
 22133                        ;			case FX_CONTROL_COMMAND:
 22134                        	.line	3936
 22135                        L10357:
 22136                        ;				k_debug_string("DlgAbout
                    WindowProc::FX_CONTROL_COMMAND\r\n");
 22137                        	.line	3937
 22138 04:638D: F4 xx xx     	pea	#^L807+241
 22139 04:6390: F4 xx xx     	pea	#<L807+241
 22140 04:6393: 22 xx xx xx  	jsl	~~k_debug_string
 22141                        ;				k_debug_integer("DlgAbou
                    tWindowProc::ID:",((PFXCMDMESSAGE)pMsg)->cmdMId);
 22142                        	.line	3938
 22143 04:6397: A0 18 00     	ldy	#$18
 22144 04:639A: B7 26        	lda	[<L808+pMsg_0],Y
 22145 04:639C: 48           	pha
 22146 04:639D: F4 xx xx     	pea	#^L807+282
 22147 04:63A0: F4 xx xx     	pea	#<L807+282
 22148 04:63A3: 22 xx xx xx  	jsl	~~k_debug_integer
 22149                        ;				if( ((PFXCMDMESSAGE)pMsg
                    )->cmdCId == CTL_BUTTON_SELECTED)
 22150                        	.line	3939
 22151                        ;				{
 22152 04:63A7: A0 16 00     	ldy	#$16
 22153 04:63AA: B7 26        	lda	[<L808+pMsg_0],Y
 22154 04:63AC: C9 02 00     	cmp	#<$2
 22155 04:63AF: F0 03        	beq	L813
 22156 04:63B1: 82 38 00     	brl	L10358
 22157                        L813:
 22158                        	.line	3940
 22159                        ;					pWin->isVisible 
                    = FALSE;
 22160                        	.line	3941
 22161 04:63B4: E2 20        	sep	#$20
 22162                        	longa	off
 22163 04:63B6: A9 00        	lda	#$0
 22164 04:63B8: A0 44 01     	ldy	#$144
 22165 04:63BB: 97 0D        	sta	[<L809+pWin_1],Y
 22166 04:63BD: C2 20        	rep	#$20
 22167                        	longa	on
 22168                        ;					if(((PFXCMDMESSA
                    GE)pMsg)->cmdMId == 0x8801)
 22169                        	.line	3942
 22170                        ;					{
 22171 04:63BF: A0 18 00     	ldy	#$18
 22172 04:63C2: B7 26        	lda	[<L808+pMsg_0],Y
 22173 04:63C4: C9 01 88     	cmp	#<$8801
 22174 04:63C7: F0 03        	beq	L814
 22175 04:63C9: 82 20 00     	brl	L10359
 22176                        L814:
  Mon Dec  7 2020 11:19                                                Page 438


 22177                        	.line	3943
 22178                        ;						k_debug_
                    integer("DlgAboutWindowProc::k_user_CloseWindow:",((PFXCMDME
                    SSAGE)pMsg)->cmdMId);
 22179                        	.line	3944
 22180 04:63CC: A0 18 00     	ldy	#$18
 22181 04:63CF: B7 26        	lda	[<L808+pMsg_0],Y
 22182 04:63D1: 48           	pha
 22183 04:63D2: F4 xx xx     	pea	#^L807+306
 22184 04:63D5: F4 xx xx     	pea	#<L807+306
 22185 04:63D8: 22 xx xx xx  	jsl	~~k_debug_integer
 22186                        ;						k_user_C
                    loseWindow(pMsg->hwnd);
 22187                        	.line	3945
 22188 04:63DC: A0 0C 00     	ldy	#$c
 22189 04:63DF: B7 26        	lda	[<L808+pMsg_0],Y
 22190 04:63E1: 48           	pha
 22191 04:63E2: A0 0A 00     	ldy	#$a
 22192 04:63E5: B7 26        	lda	[<L808+pMsg_0],Y
 22193 04:63E7: 48           	pha
 22194 04:63E8: 22 91 15 04  	jsl	~~k_user_CloseWindow
 22195                        ;						//return
                     FALSE;
 22196                        ;					}
 22197                        	.line	3947
 22198                        ;				}
 22199                        L10359:
 22200                        	.line	3948
 22201                        ;				break;
 22202                        L10358:
 22203                        	.line	3949
 22204 04:63EC: 82 81 00     	brl	L10354
 22205                        ;			case FX_MOUSE_ENTER:
 22206                        	.line	3950
 22207                        L10360:
 22208                        ;				k_debug_strings("DlgAbou
                    tWindowProc::FX_MOUSE_ENTER:",pWin->win_title);
 22209                        	.line	3951
 22210 04:63EF: 18           	clc
 22211 04:63F0: A9 D4 00     	lda	#$d4
 22212 04:63F3: 65 0D        	adc	<L809+pWin_1
 22213 04:63F5: 85 01        	sta	<R0
 22214 04:63F7: A9 00 00     	lda	#$0
 22215 04:63FA: 65 0F        	adc	<L809+pWin_1+2
 22216 04:63FC: 85 03        	sta	<R0+2
 22217 04:63FE: D4 03        	pei	<R0+2
 22218 04:6400: D4 01        	pei	<R0
 22219 04:6402: F4 xx xx     	pea	#^L807+346
 22220 04:6405: F4 xx xx     	pea	#<L807+346
 22221 04:6408: 22 xx xx xx  	jsl	~~k_debug_strings
 22222                        ;				break;
 22223                        	.line	3952
 22224 04:640C: 82 61 00     	brl	L10354
 22225                        ;			case FX_MOUSE_EXIT:
 22226                        	.line	3953
 22227                        L10361:
 22228                        ;				k_debug_strings("DlgAbou
                    tWindowProc::FX_MOUSE_EXIT:",pWin->win_title);
  Mon Dec  7 2020 11:19                                                Page 439


 22229                        	.line	3954
 22230 04:640F: 18           	clc
 22231 04:6410: A9 D4 00     	lda	#$d4
 22232 04:6413: 65 0D        	adc	<L809+pWin_1
 22233 04:6415: 85 01        	sta	<R0
 22234 04:6417: A9 00 00     	lda	#$0
 22235 04:641A: 65 0F        	adc	<L809+pWin_1+2
 22236 04:641C: 85 03        	sta	<R0+2
 22237 04:641E: D4 03        	pei	<R0+2
 22238 04:6420: D4 01        	pei	<R0
 22239 04:6422: F4 xx xx     	pea	#^L807+382
 22240 04:6425: F4 xx xx     	pea	#<L807+382
 22241 04:6428: 22 xx xx xx  	jsl	~~k_debug_strings
 22242                        ;				break;
 22243                        	.line	3955
 22244 04:642C: 82 41 00     	brl	L10354
 22245                        ;			/*
 22246                        ;			case FX_WINDOW_CLOSE:
 22247                        ;				k_debug_strings("DlgAbou
                    tWindowProc::FX_WINDOW_CLOSE:",pWin->win_title);
 22248                        ;				return FALSE;
 22249                        ;				*/
 22250                        ;			default:
 22251                        	.line	3961
 22252                        L10362:
 22253                        ;				return DlgWindowProc(pMs
                    g);
 22254                        	.line	3962
 22255 04:642F: D4 28        	pei	<L808+pMsg_0+2
 22256 04:6431: D4 26        	pei	<L808+pMsg_0
 22257 04:6433: 22 32 60 04  	jsl	~~DlgWindowProc
 22258 04:6437: E2 20        	sep	#$20
 22259                        	longa	off
 22260 04:6439: 85 01        	sta	<R0
 22261 04:643B: C2 20        	rep	#$20
 22262                        	longa	on
 22263 04:643D: A5 01        	lda	<R0
 22264 04:643F: 29 FF 00     	and	#$ff
 22265                        L815:
 22266 04:6442: A8           	tay
 22267 04:6443: A5 24        	lda	<L808+2
 22268 04:6445: 85 28        	sta	<L808+2+4
 22269 04:6447: A5 23        	lda	<L808+1
 22270 04:6449: 85 27        	sta	<L808+1+4
 22271 04:644B: 2B           	pld
 22272 04:644C: 3B           	tsc
 22273 04:644D: 18           	clc
 22274 04:644E: 69 26 00     	adc	#L808+4
 22275 04:6451: 1B           	tcs
 22276 04:6452: 98           	tya
 22277 04:6453: 6B           	rtl
 22278                        ;				break;
 22279                        	.line	3963
 22280                        ;			}
 22281                        	.line	3964
 22282                        L10353:
 22283                        	xref	~~~swt
 22284 04:6454: 22 xx xx xx  	jsl	~~~swt
  Mon Dec  7 2020 11:19                                                Page 440


 22285 04:6458: 05 00        	dw	5
 22286 04:645A: 01 0F        	dw	3841
 22287 04:645C: EE 63        	dw	L10360-1
 22288 04:645E: 02 0F        	dw	3842
 22289 04:6460: 0E 64        	dw	L10361-1
 22290 04:6462: 00 FA        	dw	64000
 22291 04:6464: 8C 63        	dw	L10357-1
 22292 04:6466: 00 FB        	dw	64256
 22293 04:6468: C2 61        	dw	L10356-1
 22294 04:646A: 03 FF        	dw	65283
 22295 04:646C: 8E 61        	dw	L10355-1
 22296 04:646E: 2E 64        	dw	L10362-1
 22297                        L10354:
 22298                        ;		}
 22299                        	.line	3965
 22300                        ;	}
 22301                        L10352:
 22302                        	.line	3966
 22303                        ;	return TRUE;
 22304                        L10351:
 22305                        	.line	3967
 22306 04:6470: A9 01 00     	lda	#$1
 22307 04:6473: 82 CC FF     	brl	L815
 22308                        ;}
 22309                        	.line	3968
 22310                        	.endblock	3968
 22311             00000022   L808	equ	34
 22312             00000009   L809	equ	9
 22313 04:6476:              	ends
 22314                        	efunc
 22315                        	.endfunc	3968,9,34
 22316                        	.line	3968
 22317                        	data
 22318                        L807:
 22319 00:16D5: 4F 4B 00 44  	db	$4F,$4B,$00,$44,$6C,$67,$41,$62,$6F,$75,
                    $74,$57,$69,$6E,$64
       00:16D9: 6C 67 41 62 
       00:16DD: 6F 75 74 57 
       00:16E1: 69 6E 64 
 22320 00:16E4: 6F 77 50 72  	db	$6F,$77,$50,$72,$6F,$63,$3A,$3A,$46,$58,
                    $5F,$44,$52,$41,$57
       00:16E8: 6F 63 3A 3A 
       00:16EC: 46 58 5F 44 
       00:16F0: 52 41 57 
 22321 00:16F3: 5F 57 49 4E  	db	$5F,$57,$49,$4E,$44,$4F,$57,$00,$00,$46,
                    $58,$2F,$4F,$53,$20
       00:16F7: 44 4F 57 00 
       00:16FB: 00 46 58 2F 
       00:16FF: 4F 53 20 
 22322 00:1702: 46 6F 65 6E  	db	$46,$6F,$65,$6E,$69,$78,$20,$57,$6F,$72,
                    $6B,$73,$70,$61,$63
       00:1706: 69 78 20 57 
       00:170A: 6F 72 6B 73 
       00:170E: 70 61 63 
 22323 00:1711: 65 00 50 72  	db	$65,$00,$50,$72,$65,$72,$65,$6C,$65,$61,
                    $73,$65,$20,$31,$2E
       00:1715: 65 72 65 6C 
       00:1719: 65 61 73 65 
  Mon Dec  7 2020 11:19                                                Page 441


       00:171D: 20 31 2E 
 22324 00:1720: 30 2E 31 20  	db	$30,$2E,$31,$20,$42,$65,$74,$61,$00,$54,
                    $49,$4E,$59,$54,$59
       00:1724: 42 65 74 61 
       00:1728: 00 54 49 4E 
       00:172C: 59 54 59 
 22325 00:172F: 50 45 38 78  	db	$50,$45,$38,$78,$38,$00,$44,$65,$63,$65,
                    $6D,$62,$65,$72,$20
       00:1733: 38 00 44 65 
       00:1737: 63 65 6D 62 
       00:173B: 65 72 20 
 22326 00:173E: 31 2C 20 32  	db	$31,$2C,$20,$32,$30,$32,$30,$00,$54,$49,
                    $4E,$59,$54,$59,$50
       00:1742: 30 32 30 00 
       00:1746: 54 49 4E 59 
       00:174A: 54 59 50 
 22327 00:174D: 45 38 78 38  	db	$45,$38,$78,$38,$00,$43,$6F,$70,$79,$72,
                    $69,$67,$68,$74,$20
       00:1751: 00 43 6F 70 
       00:1755: 79 72 69 67 
       00:1759: 68 74 20 
 22328 00:175C: 28 63 29 20  	db	$28,$63,$29,$20,$32,$30,$32,$30,$2C,$20,
                    $4D,$69,$6B,$65,$20
       00:1760: 32 30 32 30 
       00:1764: 2C 20 4D 69 
       00:1768: 6B 65 20 
 22329 00:176B: 42 75 73 68  	db	$42,$75,$73,$68,$00,$54,$49,$4E,$59,$54,
                    $59,$50,$45,$38,$78
       00:176F: 00 54 49 4E 
       00:1773: 59 54 59 50 
       00:1777: 45 38 78 
 22330 00:177A: 38 00 41 75  	db	$38,$00,$41,$75,$74,$68,$6F,$72,$3A,$20,
                    $4D,$69,$6B,$65,$20
       00:177E: 74 68 6F 72 
       00:1782: 3A 20 4D 69 
       00:1786: 6B 65 20 
 22331 00:1789: 42 75 73 68  	db	$42,$75,$73,$68,$00,$54,$49,$4E,$59,$54,
                    $59,$50,$45,$38,$78
       00:178D: 00 54 49 4E 
       00:1791: 59 54 59 50 
       00:1795: 45 38 78 
 22332 00:1798: 38 00 53 70  	db	$38,$00,$53,$70,$65,$63,$69,$61,$6C,$20,
                    $54,$68,$61,$6E,$6B
       00:179C: 65 63 69 61 
       00:17A0: 6C 20 54 68 
       00:17A4: 61 6E 6B 
 22333 00:17A7: 73 3A 20 53  	db	$73,$3A,$20,$53,$74,$65,$66,$61,$6E,$79,
                    $20,$41,$6C,$6C,$61
       00:17AB: 74 65 66 61 
       00:17AF: 6E 79 20 41 
       00:17B3: 6C 6C 61 
 22334 00:17B6: 69 72 65 00  	db	$69,$72,$65,$00,$54,$49,$4E,$59,$54,$59,
                    $50,$45,$38,$78,$38
       00:17BA: 54 49 4E 59 
       00:17BE: 54 59 50 45 
       00:17C2: 38 78 38 
 22335 00:17C5: 00 44 6C 67  	db	$00,$44,$6C,$67,$41,$62,$6F,$75,$74,$57,
                    $69,$6E,$64,$6F,$77
  Mon Dec  7 2020 11:19                                                Page 442


       00:17C9: 41 62 6F 75 
       00:17CD: 74 57 69 6E 
       00:17D1: 64 6F 77 
 22336 00:17D4: 50 72 6F 63  	db	$50,$72,$6F,$63,$3A,$3A,$46,$58,$5F,$43,
                    $4F,$4E,$54,$52,$4F
       00:17D8: 3A 3A 46 58 
       00:17DC: 5F 43 4F 4E 
       00:17E0: 54 52 4F 
 22337 00:17E3: 4C 5F 43 4F  	db	$4C,$5F,$43,$4F,$4D,$4D,$41,$4E,$44,$0D,
                    $0A,$00,$44,$6C,$67
       00:17E7: 4D 4D 41 4E 
       00:17EB: 44 0D 0A 00 
       00:17EF: 44 6C 67 
 22338 00:17F2: 41 62 6F 75  	db	$41,$62,$6F,$75,$74,$57,$69,$6E,$64,$6F,
                    $77,$50,$72,$6F,$63
       00:17F6: 74 57 69 6E 
       00:17FA: 64 6F 77 50 
       00:17FE: 72 6F 63 
 22339 00:1801: 3A 3A 49 44  	db	$3A,$3A,$49,$44,$3A,$00,$44,$6C,$67,$41,
                    $62,$6F,$75,$74,$57
       00:1805: 3A 00 44 6C 
       00:1809: 67 41 62 6F 
       00:180D: 75 74 57 
 22340 00:1810: 69 6E 64 6F  	db	$69,$6E,$64,$6F,$77,$50,$72,$6F,$63,$3A,
                    $3A,$6B,$5F,$75,$73
       00:1814: 77 50 72 6F 
       00:1818: 63 3A 3A 6B 
       00:181C: 5F 75 73 
 22341 00:181F: 65 72 5F 43  	db	$65,$72,$5F,$43,$6C,$6F,$73,$65,$57,$69,
                    $6E,$64,$6F,$77,$3A
       00:1823: 6C 6F 73 65 
       00:1827: 57 69 6E 64 
       00:182B: 6F 77 3A 
 22342 00:182E: 00 44 6C 67  	db	$00,$44,$6C,$67,$41,$62,$6F,$75,$74,$57,
                    $69,$6E,$64,$6F,$77
       00:1832: 41 62 6F 75 
       00:1836: 74 57 69 6E 
       00:183A: 64 6F 77 
 22343 00:183D: 50 72 6F 63  	db	$50,$72,$6F,$63,$3A,$3A,$46,$58,$5F,$4D,
                    $4F,$55,$53,$45,$5F
       00:1841: 3A 3A 46 58 
       00:1845: 5F 4D 4F 55 
       00:1849: 53 45 5F 
 22344 00:184C: 45 4E 54 45  	db	$45,$4E,$54,$45,$52,$3A,$00,$44,$6C,$67,
                    $41,$62,$6F,$75,$74
       00:1850: 52 3A 00 44 
       00:1854: 6C 67 41 62 
       00:1858: 6F 75 74 
 22345 00:185B: 57 69 6E 64  	db	$57,$69,$6E,$64,$6F,$77,$50,$72,$6F,$63,
                    $3A,$3A,$46,$58,$5F
       00:185F: 6F 77 50 72 
       00:1863: 6F 63 3A 3A 
       00:1867: 46 58 5F 
 22346 00:186A: 4D 4F 55 53  	db	$4D,$4F,$55,$53,$45,$5F,$45,$58,$49,$54,
                    $3A,$00
       00:186E: 45 5F 45 58 
       00:1872: 49 54 3A 00 
 22347 00:1876:              	ends
  Mon Dec  7 2020 11:19                                                Page 443


 22348                        ;
 22349                        ;BOOL k_user_SetMenuState(HMENU hMenu,UINT cmdId,U
                    INT state)
 22350                        ;{
 22351                        	.line	3970
 22352                        	.line	3971
 22353                        	WINMAN
 22354                        	xdef	~~k_user_SetMenuState
 22355                        	func
 22356                        	.function	3971
 22357                        ~~k_user_SetMenuState:
 22358                        	longa	on
 22359                        	longi	on
 22360 04:6476: 3B           	tsc
 22361 04:6477: 38           	sec
 22362 04:6478: E9 18 00     	sbc	#L817
 22363 04:647B: 1B           	tcs
 22364 04:647C: 0B           	phd
 22365 04:647D: 5B           	tcd
 22366             00000004   hMenu_0	set	4
 22367             00000008   cmdId_0	set	8
 22368             0000000A   state_0	set	10
 22369                        	.block	3971
 22370                        ;	PMENU pMenu = (PMENU)hMenu;
 22371                        ;
 22372                        ;	if(pMenu)
 22373             00000000   pMenu_1	set	0
 22374                        	.sym	pMenu,0,138,1,32,31
 22375                        	.sym	hMenu,4,129,6,32
 22376                        	.sym	cmdId,8,16,6,16
 22377                        	.sym	state,10,16,6,16
 22378 04:647E: A5 1C        	lda	<L817+hMenu_0
 22379 04:6480: 85 11        	sta	<L818+pMenu_1
 22380 04:6482: A5 1E        	lda	<L817+hMenu_0+2
 22381 04:6484: 85 13        	sta	<L818+pMenu_1+2
 22382                        	.line	3974
 22383                        ;	{
 22384 04:6486: A5 11        	lda	<L818+pMenu_1
 22385 04:6488: 05 13        	ora	<L818+pMenu_1+2
 22386 04:648A: D0 03        	bne	L820
 22387 04:648C: 82 50 00     	brl	L10363
 22388                        L820:
 22389                        	.line	3975
 22390                        ;		PFXNODELIST menus = pMenu->subMenus;
 22391                        ;		k_nodelist_foreach_type(menus,
 22392                        	.block	3977
 22393             00000004   menus_2	set	4
 22394                        	.sym	menus,4,138,1,32,3
 22395 04:648F: A0 13 00     	ldy	#$13
 22396 04:6492: B7 11        	lda	[<L818+pMenu_1],Y
 22397 04:6494: 85 15        	sta	<L818+menus_2
 22398 04:6496: A0 15 00     	ldy	#$15
 22399 04:6499: B7 11        	lda	[<L818+pMenu_1],Y
 22400 04:649B: 85 17        	sta	<L818+menus_2+2
 22401                        	.line	3977
 22402                        ;							
                    	NL_TYPE_WINDOW_MENU,
 22403                        ;							
  Mon Dec  7 2020 11:19                                                Page 444


                    	(LPVOID)MAKELONG(state,cmdId),
 22404                        ;							
                    	k_iterate_set_menu_state);
 22405 04:649D: F4 04 00     	pea	#^~~k_iterate_set_menu_state
 22406 04:64A0: F4 76 27     	pea	#<~~k_iterate_set_menu_state
 22407 04:64A3: A5 20        	lda	<L817+cmdId_0
 22408 04:64A5: 85 05        	sta	<R1
 22409 04:64A7: 64 07        	stz	<R1+2
 22410 04:64A9: D4 07        	pei	<R1+2
 22411 04:64AB: D4 05        	pei	<R1
 22412 04:64AD: A9 10 00     	lda	#$10
 22413                        	xref	~~~lasl
 22414 04:64B0: 22 xx xx xx  	jsl	~~~lasl
 22415 04:64B4: 85 01        	sta	<R0
 22416 04:64B6: 86 03        	stx	<R0+2
 22417 04:64B8: A0 00 00     	ldy	#$0
 22418 04:64BB: A5 22        	lda	<L817+state_0
 22419 04:64BD: 10 01        	bpl	L822
 22420 04:64BF: 88           	dey
 22421                        L822:
 22422 04:64C0: 85 09        	sta	<R2
 22423 04:64C2: 84 0B        	sty	<R2+2
 22424 04:64C4: A5 09        	lda	<R2
 22425 04:64C6: 05 01        	ora	<R0
 22426 04:64C8: 85 0D        	sta	<R3
 22427 04:64CA: A5 0B        	lda	<R2+2
 22428 04:64CC: 05 03        	ora	<R0+2
 22429 04:64CE: 85 0F        	sta	<R3+2
 22430 04:64D0: D4 0F        	pei	<R3+2
 22431 04:64D2: D4 0D        	pei	<R3
 22432 04:64D4: F4 03 00     	pea	#<$3
 22433 04:64D7: D4 17        	pei	<L818+menus_2+2
 22434 04:64D9: D4 15        	pei	<L818+menus_2
 22435 04:64DB: 22 xx xx xx  	jsl	~~k_nodelist_foreach_type
 22436                        ;	}
 22437                        	.endblock	3981
 22438                        	.line	3981
 22439                        ;
 22440                        ;	return TRUE;
 22441                        L10363:
 22442                        	.line	3983
 22443 04:64DF: A9 01 00     	lda	#$1
 22444                        L823:
 22445 04:64E2: A8           	tay
 22446 04:64E3: A5 1A        	lda	<L817+2
 22447 04:64E5: 85 22        	sta	<L817+2+8
 22448 04:64E7: A5 19        	lda	<L817+1
 22449 04:64E9: 85 21        	sta	<L817+1+8
 22450 04:64EB: 2B           	pld
 22451 04:64EC: 3B           	tsc
 22452 04:64ED: 18           	clc
 22453 04:64EE: 69 20 00     	adc	#L817+8
 22454 04:64F1: 1B           	tcs
 22455 04:64F2: 98           	tya
 22456 04:64F3: 6B           	rtl
 22457                        ;}
 22458                        	.line	3984
 22459                        	.endblock	3984
  Mon Dec  7 2020 11:19                                                Page 445


 22460             00000018   L817	equ	24
 22461             00000011   L818	equ	17
 22462 04:64F4:              	ends
 22463                        	efunc
 22464                        	.endfunc	3984,17,24
 22465                        	.line	3984
 22466                        ;
 22467                        ;VOID k_switch_window_page(HWND hWnd,UINT toPage,U
                    INT fromPage,BOOL bFillSrc)
 22468                        ;{
 22469                        	.line	3986
 22470                        	.line	3987
 22471                        	WINMAN
 22472                        	xdef	~~k_switch_window_page
 22473                        	func
 22474                        	.function	3987
 22475                        ~~k_switch_window_page:
 22476                        	longa	on
 22477                        	longi	on
 22478 04:64F4: 3B           	tsc
 22479 04:64F5: 38           	sec
 22480 04:64F6: E9 24 00     	sbc	#L824
 22481 04:64F9: 1B           	tcs
 22482 04:64FA: 0B           	phd
 22483 04:64FB: 5B           	tcd
 22484             00000004   hWnd_0	set	4
 22485             00000008   toPage_0	set	8
 22486             0000000A   fromPage_0	set	10
 22487             0000000C   bFillSrc_0	set	12
 22488                        	.block	3987
 22489                        ;	RECT winRect;
 22490                        ;	LONG offset  = 0L;
 22491                        ;	LPVOID pSrc  = (LPVOID)(((LONG)fromPage << 16) &
                     0xFF0000);
 22492                        ;	LPVOID pDest = (LPVOID)(((LONG)toPage   << 16) &
                     0xFF0000);
 22493                        ;
 22494                        ;	//k_debug_pointer("k_switch_window_page:toPage:"
                      ,pDest);
 22495                        ;	//k_debug_pointer("k_switch_window_page:fromPage
                    :",pSrc);
 22496                        ;
 22497                        ;	k_getWindowRect(hWnd,&winRect);
 22498             00000000   winRect_1	set	0
 22499             00000008   offset_1	set	8
 22500             0000000C   pSrc_1	set	12
 22501             00000010   pDest_1	set	16
 22502                        	.sym	winRect,0,10,1,64,22
 22503                        	.sym	offset,8,7,1,32
 22504                        	.sym	pSrc,12,129,1,32
 22505                        	.sym	pDest,16,129,1,32
 22506                        	.sym	hWnd,4,129,6,32
 22507                        	.sym	toPage,8,16,6,16
 22508                        	.sym	fromPage,10,16,6,16
 22509                        	.sym	bFillSrc,12,14,6,8
 22510 04:64FC: 64 19        	stz	<L825+offset_1
 22511 04:64FE: 64 1B        	stz	<L825+offset_1+2
 22512 04:6500: A5 2E        	lda	<L824+fromPage_0
  Mon Dec  7 2020 11:19                                                Page 446


 22513 04:6502: 85 05        	sta	<R1
 22514 04:6504: 64 07        	stz	<R1+2
 22515 04:6506: D4 07        	pei	<R1+2
 22516 04:6508: D4 05        	pei	<R1
 22517 04:650A: A9 10 00     	lda	#$10
 22518                        	xref	~~~lasl
 22519 04:650D: 22 xx xx xx  	jsl	~~~lasl
 22520 04:6511: 85 01        	sta	<R0
 22521 04:6513: 86 03        	stx	<R0+2
 22522 04:6515: 64 09        	stz	<R2
 22523 04:6517: A5 03        	lda	<R0+2
 22524 04:6519: 29 FF 00     	and	#^$ff0000
 22525 04:651C: 85 0B        	sta	<R2+2
 22526 04:651E: A5 09        	lda	<R2
 22527 04:6520: 85 1D        	sta	<L825+pSrc_1
 22528 04:6522: A5 0B        	lda	<R2+2
 22529 04:6524: 85 1F        	sta	<L825+pSrc_1+2
 22530 04:6526: A5 2C        	lda	<L824+toPage_0
 22531 04:6528: 85 09        	sta	<R2
 22532 04:652A: 64 0B        	stz	<R2+2
 22533 04:652C: D4 0B        	pei	<R2+2
 22534 04:652E: D4 09        	pei	<R2
 22535 04:6530: A9 10 00     	lda	#$10
 22536                        	xref	~~~lasl
 22537 04:6533: 22 xx xx xx  	jsl	~~~lasl
 22538 04:6537: 85 01        	sta	<R0
 22539 04:6539: 86 03        	stx	<R0+2
 22540 04:653B: 64 0D        	stz	<R3
 22541 04:653D: A5 03        	lda	<R0+2
 22542 04:653F: 29 FF 00     	and	#^$ff0000
 22543 04:6542: 85 0F        	sta	<R3+2
 22544 04:6544: A5 0D        	lda	<R3
 22545 04:6546: 85 21        	sta	<L825+pDest_1
 22546 04:6548: A5 0F        	lda	<R3+2
 22547 04:654A: 85 23        	sta	<L825+pDest_1+2
 22548                        	.line	3996
 22549 04:654C: F4 00 00     	pea	#0
 22550 04:654F: 18           	clc
 22551 04:6550: 7B           	tdc
 22552 04:6551: 69 11 00     	adc	#<L825+winRect_1
 22553 04:6554: 48           	pha
 22554 04:6555: D4 2A        	pei	<L824+hWnd_0+2
 22555 04:6557: D4 28        	pei	<L824+hWnd_0
 22556 04:6559: 22 17 10 04  	jsl	~~k_getWindowRect
 22557                        ;	offset = k_gui_get_pixel_offset(winRect.x,winRec
                    t.y);
 22558                        	.line	3997
 22559 04:655D: D4 13        	pei	<L825+winRect_1+2
 22560 04:655F: D4 11        	pei	<L825+winRect_1
 22561 04:6561: 22 xx xx xx  	jsl	~~k_gui_get_pixel_offset
 22562 04:6565: 85 19        	sta	<L825+offset_1
 22563 04:6567: 86 1B        	stx	<L825+offset_1+2
 22564                        ;
 22565                        ;	pDest = (LPVOID)( (LONG)pDest | offset);
 22566                        	.line	3999
 22567 04:6569: A5 19        	lda	<L825+offset_1
 22568 04:656B: 05 21        	ora	<L825+pDest_1
 22569 04:656D: 85 01        	sta	<R0
  Mon Dec  7 2020 11:19                                                Page 447


 22570 04:656F: A5 1B        	lda	<L825+offset_1+2
 22571 04:6571: 05 23        	ora	<L825+pDest_1+2
 22572 04:6573: 85 03        	sta	<R0+2
 22573 04:6575: A5 01        	lda	<R0
 22574 04:6577: 85 21        	sta	<L825+pDest_1
 22575 04:6579: A5 03        	lda	<R0+2
 22576 04:657B: 85 23        	sta	<L825+pDest_1+2
 22577                        ;	pSrc  = (LPVOID)( (LONG)pSrc  | offset);
 22578                        	.line	4000
 22579 04:657D: A5 19        	lda	<L825+offset_1
 22580 04:657F: 05 1D        	ora	<L825+pSrc_1
 22581 04:6581: 85 01        	sta	<R0
 22582 04:6583: A5 1B        	lda	<L825+offset_1+2
 22583 04:6585: 05 1F        	ora	<L825+pSrc_1+2
 22584 04:6587: 85 03        	sta	<R0+2
 22585 04:6589: A5 01        	lda	<R0
 22586 04:658B: 85 1D        	sta	<L825+pSrc_1
 22587 04:658D: A5 03        	lda	<R0+2
 22588 04:658F: 85 1F        	sta	<L825+pSrc_1+2
 22589                        ;
 22590                        ;	//k_debug_pointer("k_switch_window_page:toPage:"
                      ,pDest);
 22591                        ;	//k_debug_pointer("k_switch_window_page:fromPage
                    :",pSrc);
 22592                        ;
 22593                        ;
 22594                        ;	k_vdma_copy_address_ex(pDest,pSrc,winRect.width,
                    winRect.height);
 22595                        	.line	4006
 22596 04:6591: D4 17        	pei	<L825+winRect_1+6
 22597 04:6593: D4 15        	pei	<L825+winRect_1+4
 22598 04:6595: D4 1F        	pei	<L825+pSrc_1+2
 22599 04:6597: D4 1D        	pei	<L825+pSrc_1
 22600 04:6599: D4 23        	pei	<L825+pDest_1+2
 22601 04:659B: D4 21        	pei	<L825+pDest_1
 22602 04:659D: 22 xx xx xx  	jsl	~~k_vdma_copy_address_ex
 22603                        ;	if(bFillSrc)
 22604                        	.line	4007
 22605                        ;		k_vdma_fill_rect_ex(winRect.x,winRect.y,
                    winRect.width,winRect.height,FILLCOLOR_TRANSPARENT,fromPage)
                    ;
 22606 04:65A1: A5 30        	lda	<L824+bFillSrc_0
 22607 04:65A3: 29 FF 00     	and	#$ff
 22608 04:65A6: D0 03        	bne	L827
 22609 04:65A8: 82 2D 00     	brl	L10364
 22610                        L827:
 22611                        	.line	4008
 22612 04:65AB: D4 2E        	pei	<L824+fromPage_0
 22613 04:65AD: F4 00 00     	pea	#<$0
 22614 04:65B0: D4 17        	pei	<L825+winRect_1+6
 22615 04:65B2: D4 15        	pei	<L825+winRect_1+4
 22616 04:65B4: A0 00 00     	ldy	#$0
 22617 04:65B7: A5 13        	lda	<L825+winRect_1+2
 22618 04:65B9: 10 01        	bpl	L828
 22619 04:65BB: 88           	dey
 22620                        L828:
 22621 04:65BC: 85 01        	sta	<R0
 22622 04:65BE: 84 03        	sty	<R0+2
  Mon Dec  7 2020 11:19                                                Page 448


 22623 04:65C0: D4 03        	pei	<R0+2
 22624 04:65C2: D4 01        	pei	<R0
 22625 04:65C4: A0 00 00     	ldy	#$0
 22626 04:65C7: A5 11        	lda	<L825+winRect_1
 22627 04:65C9: 10 01        	bpl	L829
 22628 04:65CB: 88           	dey
 22629                        L829:
 22630 04:65CC: 85 05        	sta	<R1
 22631 04:65CE: 84 07        	sty	<R1+2
 22632 04:65D0: D4 07        	pei	<R1+2
 22633 04:65D2: D4 05        	pei	<R1
 22634 04:65D4: 22 xx xx xx  	jsl	~~k_vdma_fill_rect_ex
 22635                        ;}
 22636                        L10364:
 22637                        	.line	4009
 22638                        L830:
 22639 04:65D8: A5 26        	lda	<L824+2
 22640 04:65DA: 85 30        	sta	<L824+2+10
 22641 04:65DC: A5 25        	lda	<L824+1
 22642 04:65DE: 85 2F        	sta	<L824+1+10
 22643 04:65E0: 2B           	pld
 22644 04:65E1: 3B           	tsc
 22645 04:65E2: 18           	clc
 22646 04:65E3: 69 2E 00     	adc	#L824+10
 22647 04:65E6: 1B           	tcs
 22648 04:65E7: 6B           	rtl
 22649                        	.endblock	4009
 22650             00000024   L824	equ	36
 22651             00000011   L825	equ	17
 22652 04:65E8:              	ends
 22653                        	efunc
 22654                        	.endfunc	4009,17,36
 22655                        	.line	4009
 22656                        ;
 22657                        ;VOID k_copy_window_region(HWND hWnd,UINT toPage,U
                    INT fromPage)
 22658                        ;{
 22659                        	.line	4011
 22660                        	.line	4012
 22661                        	WINMAN
 22662                        	xdef	~~k_copy_window_region
 22663                        	func
 22664                        	.function	4012
 22665                        ~~k_copy_window_region:
 22666                        	longa	on
 22667                        	longi	on
 22668 04:65E8: 3B           	tsc
 22669 04:65E9: 38           	sec
 22670 04:65EA: E9 24 00     	sbc	#L831
 22671 04:65ED: 1B           	tcs
 22672 04:65EE: 0B           	phd
 22673 04:65EF: 5B           	tcd
 22674             00000004   hWnd_0	set	4
 22675             00000008   toPage_0	set	8
 22676             0000000A   fromPage_0	set	10
 22677                        	.block	4012
 22678                        ;	RECT winRect;
 22679                        ;	LONG offset  = 0L;
  Mon Dec  7 2020 11:19                                                Page 449


 22680                        ;	LPVOID pSrc  = (LPVOID)(((LONG)fromPage << 16) &
                     0xFF0000);
 22681                        ;	LPVOID pDest = (LPVOID)(((LONG)toPage   << 16) &
                     0xFF0000);
 22682                        ;
 22683                        ;	k_debug_pointer("k_copy_window_region:toPage:"  
                    ,pDest);
 22684             00000000   winRect_1	set	0
 22685             00000008   offset_1	set	8
 22686             0000000C   pSrc_1	set	12
 22687             00000010   pDest_1	set	16
 22688                        	.sym	winRect,0,10,1,64,22
 22689                        	.sym	offset,8,7,1,32
 22690                        	.sym	pSrc,12,129,1,32
 22691                        	.sym	pDest,16,129,1,32
 22692                        	.sym	hWnd,4,129,6,32
 22693                        	.sym	toPage,8,16,6,16
 22694                        	.sym	fromPage,10,16,6,16
 22695 04:65F0: 64 19        	stz	<L832+offset_1
 22696 04:65F2: 64 1B        	stz	<L832+offset_1+2
 22697 04:65F4: A5 2E        	lda	<L831+fromPage_0
 22698 04:65F6: 85 05        	sta	<R1
 22699 04:65F8: 64 07        	stz	<R1+2
 22700 04:65FA: D4 07        	pei	<R1+2
 22701 04:65FC: D4 05        	pei	<R1
 22702 04:65FE: A9 10 00     	lda	#$10
 22703                        	xref	~~~lasl
 22704 04:6601: 22 xx xx xx  	jsl	~~~lasl
 22705 04:6605: 85 01        	sta	<R0
 22706 04:6607: 86 03        	stx	<R0+2
 22707 04:6609: 64 09        	stz	<R2
 22708 04:660B: A5 03        	lda	<R0+2
 22709 04:660D: 29 FF 00     	and	#^$ff0000
 22710 04:6610: 85 0B        	sta	<R2+2
 22711 04:6612: A5 09        	lda	<R2
 22712 04:6614: 85 1D        	sta	<L832+pSrc_1
 22713 04:6616: A5 0B        	lda	<R2+2
 22714 04:6618: 85 1F        	sta	<L832+pSrc_1+2
 22715 04:661A: A5 2C        	lda	<L831+toPage_0
 22716 04:661C: 85 09        	sta	<R2
 22717 04:661E: 64 0B        	stz	<R2+2
 22718 04:6620: D4 0B        	pei	<R2+2
 22719 04:6622: D4 09        	pei	<R2
 22720 04:6624: A9 10 00     	lda	#$10
 22721                        	xref	~~~lasl
 22722 04:6627: 22 xx xx xx  	jsl	~~~lasl
 22723 04:662B: 85 01        	sta	<R0
 22724 04:662D: 86 03        	stx	<R0+2
 22725 04:662F: 64 0D        	stz	<R3
 22726 04:6631: A5 03        	lda	<R0+2
 22727 04:6633: 29 FF 00     	and	#^$ff0000
 22728 04:6636: 85 0F        	sta	<R3+2
 22729 04:6638: A5 0D        	lda	<R3
 22730 04:663A: 85 21        	sta	<L832+pDest_1
 22731 04:663C: A5 0F        	lda	<R3+2
 22732 04:663E: 85 23        	sta	<L832+pDest_1+2
 22733                        	.line	4018
 22734 04:6640: D4 23        	pei	<L832+pDest_1+2
  Mon Dec  7 2020 11:19                                                Page 450


 22735 04:6642: D4 21        	pei	<L832+pDest_1
 22736 04:6644: F4 xx xx     	pea	#^L816
 22737 04:6647: F4 xx xx     	pea	#<L816
 22738 04:664A: 22 xx xx xx  	jsl	~~k_debug_pointer
 22739                        ;	k_debug_pointer("k_copy_window_region:fromPage:"
                    ,pSrc);
 22740                        	.line	4019
 22741 04:664E: D4 1F        	pei	<L832+pSrc_1+2
 22742 04:6650: D4 1D        	pei	<L832+pSrc_1
 22743 04:6652: F4 xx xx     	pea	#^L816+29
 22744 04:6655: F4 xx xx     	pea	#<L816+29
 22745 04:6658: 22 xx xx xx  	jsl	~~k_debug_pointer
 22746                        ;
 22747                        ;	k_getWindowRect(hWnd,&winRect);
 22748                        	.line	4021
 22749 04:665C: F4 00 00     	pea	#0
 22750 04:665F: 18           	clc
 22751 04:6660: 7B           	tdc
 22752 04:6661: 69 11 00     	adc	#<L832+winRect_1
 22753 04:6664: 48           	pha
 22754 04:6665: D4 2A        	pei	<L831+hWnd_0+2
 22755 04:6667: D4 28        	pei	<L831+hWnd_0
 22756 04:6669: 22 17 10 04  	jsl	~~k_getWindowRect
 22757                        ;	offset = k_gui_get_pixel_offset(winRect.x,winRec
                    t.y);
 22758                        	.line	4022
 22759 04:666D: D4 13        	pei	<L832+winRect_1+2
 22760 04:666F: D4 11        	pei	<L832+winRect_1
 22761 04:6671: 22 xx xx xx  	jsl	~~k_gui_get_pixel_offset
 22762 04:6675: 85 19        	sta	<L832+offset_1
 22763 04:6677: 86 1B        	stx	<L832+offset_1+2
 22764                        ;
 22765                        ;	pDest = (LPVOID)( (LONG)pDest | offset);
 22766                        	.line	4024
 22767 04:6679: A5 19        	lda	<L832+offset_1
 22768 04:667B: 05 21        	ora	<L832+pDest_1
 22769 04:667D: 85 01        	sta	<R0
 22770 04:667F: A5 1B        	lda	<L832+offset_1+2
 22771 04:6681: 05 23        	ora	<L832+pDest_1+2
 22772 04:6683: 85 03        	sta	<R0+2
 22773 04:6685: A5 01        	lda	<R0
 22774 04:6687: 85 21        	sta	<L832+pDest_1
 22775 04:6689: A5 03        	lda	<R0+2
 22776 04:668B: 85 23        	sta	<L832+pDest_1+2
 22777                        ;	pSrc  = (LPVOID)( (LONG)pSrc  | offset);
 22778                        	.line	4025
 22779 04:668D: A5 19        	lda	<L832+offset_1
 22780 04:668F: 05 1D        	ora	<L832+pSrc_1
 22781 04:6691: 85 01        	sta	<R0
 22782 04:6693: A5 1B        	lda	<L832+offset_1+2
 22783 04:6695: 05 1F        	ora	<L832+pSrc_1+2
 22784 04:6697: 85 03        	sta	<R0+2
 22785 04:6699: A5 01        	lda	<R0
 22786 04:669B: 85 1D        	sta	<L832+pSrc_1
 22787 04:669D: A5 03        	lda	<R0+2
 22788 04:669F: 85 1F        	sta	<L832+pSrc_1+2
 22789                        ;
 22790                        ;	k_debug_pointer("k_copy_window_region:pDest:"  ,
  Mon Dec  7 2020 11:19                                                Page 451


                    pDest);
 22791                        	.line	4027
 22792 04:66A1: D4 23        	pei	<L832+pDest_1+2
 22793 04:66A3: D4 21        	pei	<L832+pDest_1
 22794 04:66A5: F4 xx xx     	pea	#^L816+60
 22795 04:66A8: F4 xx xx     	pea	#<L816+60
 22796 04:66AB: 22 xx xx xx  	jsl	~~k_debug_pointer
 22797                        ;	k_debug_pointer("k_copy_window_region:pSrc:",pSr
                    c);
 22798                        	.line	4028
 22799 04:66AF: D4 1F        	pei	<L832+pSrc_1+2
 22800 04:66B1: D4 1D        	pei	<L832+pSrc_1
 22801 04:66B3: F4 xx xx     	pea	#^L816+88
 22802 04:66B6: F4 xx xx     	pea	#<L816+88
 22803 04:66B9: 22 xx xx xx  	jsl	~~k_debug_pointer
 22804                        ;
 22805                        ;
 22806                        ;	k_vdma_copy_address_ex(pDest,pSrc,winRect.width,
                    winRect.height);
 22807                        	.line	4031
 22808 04:66BD: D4 17        	pei	<L832+winRect_1+6
 22809 04:66BF: D4 15        	pei	<L832+winRect_1+4
 22810 04:66C1: D4 1F        	pei	<L832+pSrc_1+2
 22811 04:66C3: D4 1D        	pei	<L832+pSrc_1
 22812 04:66C5: D4 23        	pei	<L832+pDest_1+2
 22813 04:66C7: D4 21        	pei	<L832+pDest_1
 22814 04:66C9: 22 xx xx xx  	jsl	~~k_vdma_copy_address_ex
 22815                        ;}
 22816                        	.line	4032
 22817                        L834:
 22818 04:66CD: A5 26        	lda	<L831+2
 22819 04:66CF: 85 2E        	sta	<L831+2+8
 22820 04:66D1: A5 25        	lda	<L831+1
 22821 04:66D3: 85 2D        	sta	<L831+1+8
 22822 04:66D5: 2B           	pld
 22823 04:66D6: 3B           	tsc
 22824 04:66D7: 18           	clc
 22825 04:66D8: 69 2C 00     	adc	#L831+8
 22826 04:66DB: 1B           	tcs
 22827 04:66DC: 6B           	rtl
 22828                        	.endblock	4032
 22829             00000024   L831	equ	36
 22830             00000011   L832	equ	17
 22831 04:66DD:              	ends
 22832                        	efunc
 22833                        	.endfunc	4032,17,36
 22834                        	.line	4032
 22835                        	data
 22836                        L816:
 22837 00:1876: 6B 5F 63 6F  	db	$6B,$5F,$63,$6F,$70,$79,$5F,$77,$69,$6E,
                    $64,$6F,$77,$5F,$72
       00:187A: 70 79 5F 77 
       00:187E: 69 6E 64 6F 
       00:1882: 77 5F 72 
 22838 00:1885: 65 67 69 6F  	db	$65,$67,$69,$6F,$6E,$3A,$74,$6F,$50,$61,
                    $67,$65,$3A,$00,$6B
       00:1889: 6E 3A 74 6F 
       00:188D: 50 61 67 65 
  Mon Dec  7 2020 11:19                                                Page 452


       00:1891: 3A 00 6B 
 22839 00:1894: 5F 63 6F 70  	db	$5F,$63,$6F,$70,$79,$5F,$77,$69,$6E,$64,
                    $6F,$77,$5F,$72,$65
       00:1898: 79 5F 77 69 
       00:189C: 6E 64 6F 77 
       00:18A0: 5F 72 65 
 22840 00:18A3: 67 69 6F 6E  	db	$67,$69,$6F,$6E,$3A,$66,$72,$6F,$6D,$50,
                    $61,$67,$65,$3A,$00
       00:18A7: 3A 66 72 6F 
       00:18AB: 6D 50 61 67 
       00:18AF: 65 3A 00 
 22841 00:18B2: 6B 5F 63 6F  	db	$6B,$5F,$63,$6F,$70,$79,$5F,$77,$69,$6E,
                    $64,$6F,$77,$5F,$72
       00:18B6: 70 79 5F 77 
       00:18BA: 69 6E 64 6F 
       00:18BE: 77 5F 72 
 22842 00:18C1: 65 67 69 6F  	db	$65,$67,$69,$6F,$6E,$3A,$70,$44,$65,$73,
                    $74,$3A,$00,$6B,$5F
       00:18C5: 6E 3A 70 44 
       00:18C9: 65 73 74 3A 
       00:18CD: 00 6B 5F 
 22843 00:18D0: 63 6F 70 79  	db	$63,$6F,$70,$79,$5F,$77,$69,$6E,$64,$6F,
                    $77,$5F,$72,$65,$67
       00:18D4: 5F 77 69 6E 
       00:18D8: 64 6F 77 5F 
       00:18DC: 72 65 67 
 22844 00:18DF: 69 6F 6E 3A  	db	$69,$6F,$6E,$3A,$70,$53,$72,$63,$3A,$00
       00:18E3: 70 53 72 63 
       00:18E7: 3A 00 
 22845 00:18E9:              	ends
 22846                        ;
 22847                        ;LPVOID k_copy_window_page_region(UINT srcPage,int
                     x,int y,int width,int height,UINT destPage,int dx,int dy)
 22848                        ;{
 22849                        	.line	4034
 22850                        	.line	4035
 22851                        	WINMAN
 22852                        	xdef	~~k_copy_window_page_region
 22853                        	func
 22854                        	.function	4035
 22855                        ~~k_copy_window_page_region:
 22856                        	longa	on
 22857                        	longi	on
 22858 04:66DD: 3B           	tsc
 22859 04:66DE: 38           	sec
 22860 04:66DF: E9 20 00     	sbc	#L836
 22861 04:66E2: 1B           	tcs
 22862 04:66E3: 0B           	phd
 22863 04:66E4: 5B           	tcd
 22864             00000004   srcPage_0	set	4
 22865             00000006   x_0	set	6
 22866             00000008   y_0	set	8
 22867             0000000A   width_0	set	10
 22868             0000000C   height_0	set	12
 22869             0000000E   destPage_0	set	14
 22870             00000010   dx_0	set	16
 22871             00000012   dy_0	set	18
 22872                        	.block	4035
  Mon Dec  7 2020 11:19                                                Page 453


 22873                        ;	LONG soffset  = 0L;
 22874                        ;	LONG doffset  = 0L;
 22875                        ;
 22876                        ;	LPVOID pSrc  = (LPVOID)(((LONG)srcPage    << 16)
                     & 0xFF0000);
 22877                        ;	LPVOID pDest = (LPVOID)(((LONG)destPage   << 16)
                     & 0xFF0000);
 22878                        ;
 22879                        ;	soffset = k_gui_get_pixel_offset(x,y);
 22880             00000000   soffset_1	set	0
 22881             00000004   doffset_1	set	4
 22882             00000008   pSrc_1	set	8
 22883             0000000C   pDest_1	set	12
 22884                        	.sym	soffset,0,7,1,32
 22885                        	.sym	doffset,4,7,1,32
 22886                        	.sym	pSrc,8,129,1,32
 22887                        	.sym	pDest,12,129,1,32
 22888                        	.sym	srcPage,4,16,6,16
 22889                        	.sym	x,6,5,6,16
 22890                        	.sym	y,8,5,6,16
 22891                        	.sym	width,10,5,6,16
 22892                        	.sym	height,12,5,6,16
 22893                        	.sym	destPage,14,16,6,16
 22894                        	.sym	dx,16,5,6,16
 22895                        	.sym	dy,18,5,6,16
 22896 04:66E5: 64 11        	stz	<L837+soffset_1
 22897 04:66E7: 64 13        	stz	<L837+soffset_1+2
 22898 04:66E9: 64 15        	stz	<L837+doffset_1
 22899 04:66EB: 64 17        	stz	<L837+doffset_1+2
 22900 04:66ED: A5 24        	lda	<L836+srcPage_0
 22901 04:66EF: 85 05        	sta	<R1
 22902 04:66F1: 64 07        	stz	<R1+2
 22903 04:66F3: D4 07        	pei	<R1+2
 22904 04:66F5: D4 05        	pei	<R1
 22905 04:66F7: A9 10 00     	lda	#$10
 22906                        	xref	~~~lasl
 22907 04:66FA: 22 xx xx xx  	jsl	~~~lasl
 22908 04:66FE: 85 01        	sta	<R0
 22909 04:6700: 86 03        	stx	<R0+2
 22910 04:6702: 64 09        	stz	<R2
 22911 04:6704: A5 03        	lda	<R0+2
 22912 04:6706: 29 FF 00     	and	#^$ff0000
 22913 04:6709: 85 0B        	sta	<R2+2
 22914 04:670B: A5 09        	lda	<R2
 22915 04:670D: 85 19        	sta	<L837+pSrc_1
 22916 04:670F: A5 0B        	lda	<R2+2
 22917 04:6711: 85 1B        	sta	<L837+pSrc_1+2
 22918 04:6713: A5 2E        	lda	<L836+destPage_0
 22919 04:6715: 85 09        	sta	<R2
 22920 04:6717: 64 0B        	stz	<R2+2
 22921 04:6719: D4 0B        	pei	<R2+2
 22922 04:671B: D4 09        	pei	<R2
 22923 04:671D: A9 10 00     	lda	#$10
 22924                        	xref	~~~lasl
 22925 04:6720: 22 xx xx xx  	jsl	~~~lasl
 22926 04:6724: 85 01        	sta	<R0
 22927 04:6726: 86 03        	stx	<R0+2
 22928 04:6728: 64 0D        	stz	<R3
  Mon Dec  7 2020 11:19                                                Page 454


 22929 04:672A: A5 03        	lda	<R0+2
 22930 04:672C: 29 FF 00     	and	#^$ff0000
 22931 04:672F: 85 0F        	sta	<R3+2
 22932 04:6731: A5 0D        	lda	<R3
 22933 04:6733: 85 1D        	sta	<L837+pDest_1
 22934 04:6735: A5 0F        	lda	<R3+2
 22935 04:6737: 85 1F        	sta	<L837+pDest_1+2
 22936                        	.line	4042
 22937 04:6739: D4 28        	pei	<L836+y_0
 22938 04:673B: D4 26        	pei	<L836+x_0
 22939 04:673D: 22 xx xx xx  	jsl	~~k_gui_get_pixel_offset
 22940 04:6741: 85 11        	sta	<L837+soffset_1
 22941 04:6743: 86 13        	stx	<L837+soffset_1+2
 22942                        ;	pSrc  = (LPVOID)( (LONG)pSrc  | soffset);
 22943                        	.line	4043
 22944 04:6745: A5 11        	lda	<L837+soffset_1
 22945 04:6747: 05 19        	ora	<L837+pSrc_1
 22946 04:6749: 85 01        	sta	<R0
 22947 04:674B: A5 13        	lda	<L837+soffset_1+2
 22948 04:674D: 05 1B        	ora	<L837+pSrc_1+2
 22949 04:674F: 85 03        	sta	<R0+2
 22950 04:6751: A5 01        	lda	<R0
 22951 04:6753: 85 19        	sta	<L837+pSrc_1
 22952 04:6755: A5 03        	lda	<R0+2
 22953 04:6757: 85 1B        	sta	<L837+pSrc_1+2
 22954                        ;
 22955                        ;	doffset = k_gui_get_pixel_offset(dx,dy);
 22956                        	.line	4045
 22957 04:6759: D4 32        	pei	<L836+dy_0
 22958 04:675B: D4 30        	pei	<L836+dx_0
 22959 04:675D: 22 xx xx xx  	jsl	~~k_gui_get_pixel_offset
 22960 04:6761: 85 15        	sta	<L837+doffset_1
 22961 04:6763: 86 17        	stx	<L837+doffset_1+2
 22962                        ;	pDest = (LPVOID)( (LONG)pDest | doffset);
 22963                        	.line	4046
 22964 04:6765: A5 15        	lda	<L837+doffset_1
 22965 04:6767: 05 1D        	ora	<L837+pDest_1
 22966 04:6769: 85 01        	sta	<R0
 22967 04:676B: A5 17        	lda	<L837+doffset_1+2
 22968 04:676D: 05 1F        	ora	<L837+pDest_1+2
 22969 04:676F: 85 03        	sta	<R0+2
 22970 04:6771: A5 01        	lda	<R0
 22971 04:6773: 85 1D        	sta	<L837+pDest_1
 22972 04:6775: A5 03        	lda	<R0+2
 22973 04:6777: 85 1F        	sta	<L837+pDest_1+2
 22974                        ;
 22975                        ;	k_vdma_copy_address_ex(pDest,pSrc,width,height);
 22976                        	.line	4048
 22977 04:6779: D4 2C        	pei	<L836+height_0
 22978 04:677B: D4 2A        	pei	<L836+width_0
 22979 04:677D: D4 1B        	pei	<L837+pSrc_1+2
 22980 04:677F: D4 19        	pei	<L837+pSrc_1
 22981 04:6781: D4 1F        	pei	<L837+pDest_1+2
 22982 04:6783: D4 1D        	pei	<L837+pDest_1
 22983 04:6785: 22 xx xx xx  	jsl	~~k_vdma_copy_address_ex
 22984                        ;
 22985                        ;
 22986                        ;	return pDest;
  Mon Dec  7 2020 11:19                                                Page 455


 22987                        	.line	4051
 22988 04:6789: A6 1F        	ldx	<L837+pDest_1+2
 22989 04:678B: A5 1D        	lda	<L837+pDest_1
 22990                        L839:
 22991 04:678D: A8           	tay
 22992 04:678E: A5 22        	lda	<L836+2
 22993 04:6790: 85 32        	sta	<L836+2+16
 22994 04:6792: A5 21        	lda	<L836+1
 22995 04:6794: 85 31        	sta	<L836+1+16
 22996 04:6796: 2B           	pld
 22997 04:6797: 3B           	tsc
 22998 04:6798: 18           	clc
 22999 04:6799: 69 30 00     	adc	#L836+16
 23000 04:679C: 1B           	tcs
 23001 04:679D: 98           	tya
 23002 04:679E: 6B           	rtl
 23003                        ;}
 23004                        	.line	4052
 23005                        	.endblock	4052
 23006             00000020   L836	equ	32
 23007             00000011   L837	equ	17
 23008 04:679F:              	ends
 23009                        	efunc
 23010                        	.endfunc	4052,17,32
 23011                        	.line	4052
 23012                        ;
 23013                        ;VOID k_user_RedrawWindows(LPVOID context)
 23014                        ;{
 23015                        	.line	4054
 23016                        	.line	4055
 23017                        	WINMAN
 23018                        	xdef	~~k_user_RedrawWindows
 23019                        	func
 23020                        	.function	4055
 23021                        ~~k_user_RedrawWindows:
 23022                        	longa	on
 23023                        	longi	on
 23024 04:679F: 3B           	tsc
 23025 04:67A0: 38           	sec
 23026 04:67A1: E9 00 00     	sbc	#L840
 23027 04:67A4: 1B           	tcs
 23028 04:67A5: 0B           	phd
 23029 04:67A6: 5B           	tcd
 23030             00000004   context_0	set	4
 23031                        	.block	4055
 23032                        ;	k_nodelist_foreach_type(_k_windowManager_WindowR
                    edrawList,
 23033                        	.sym	context,4,129,6,32
 23034                        	.line	4056
 23035                        ;						    NL_T
                    YPE_WINDOW_OBJ,
 23036                        ;							
                    context,
 23037                        ;						    k_it
                    erate_windows_for_redraw);
 23038 04:67A7: F4 04 00     	pea	#^~~k_iterate_windows_for_redraw
 23039 04:67AA: F4 E1 25     	pea	#<~~k_iterate_windows_for_redraw
 23040 04:67AD: D4 06        	pei	<L840+context_0+2
  Mon Dec  7 2020 11:19                                                Page 456


 23041 04:67AF: D4 04        	pei	<L840+context_0
 23042 04:67B1: F4 02 00     	pea	#<$2
 23043 04:67B4: AD xx xx     	lda	|~~_k_windowManager_WindowRedrawList+2
 23044 04:67B7: 48           	pha
 23045 04:67B8: AD xx xx     	lda	|~~_k_windowManager_WindowRedrawList
 23046 04:67BB: 48           	pha
 23047 04:67BC: 22 xx xx xx  	jsl	~~k_nodelist_foreach_type
 23048                        ;
 23049                        ;}
 23050                        	.line	4061
 23051                        L843:
 23052 04:67C0: A5 02        	lda	<L840+2
 23053 04:67C2: 85 06        	sta	<L840+2+4
 23054 04:67C4: A5 01        	lda	<L840+1
 23055 04:67C6: 85 05        	sta	<L840+1+4
 23056 04:67C8: 2B           	pld
 23057 04:67C9: 3B           	tsc
 23058 04:67CA: 18           	clc
 23059 04:67CB: 69 04 00     	adc	#L840+4
 23060 04:67CE: 1B           	tcs
 23061 04:67CF: 6B           	rtl
 23062                        	.endblock	4061
 23063             00000000   L840	equ	0
 23064             00000001   L841	equ	1
 23065 04:67D0:              	ends
 23066                        	efunc
 23067                        	.endfunc	4061,1,0
 23068                        	.line	4061
 23069                        ;
 23070                        	.line	4061
 23071                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanagerV2.c",4054
 23072                        	xref	~~k_draw_rect
 23073                        	xref	~~k_is_inside_rect
 23074                        	xref	~~hscrollbarWindowProc
 23075                        	xref	~~vscrollbarWindowProc
 23076                        	xref	~~k_gui_set_mousepointer
 23077                        	xref	~~k_font_getFontWidth
 23078                        	xref	~~k_font_getFontHeight
 23079                        	xref	~~k_create_ui_window_class
 23080                        	xref	~~k_create_context_menu_in_window_ex
 23081                        	xref	~~k_vdma_copy_address_ex
 23082                        	xref	~~k_vdma_fill_rect_ex
 23083                        	xref	~~k_vdma_fill_rect
 23084                        	xref	~~k_vdraw_ui_window
 23085                        	xref	~~k_get_font_metrics
 23086                        	xref	~~k_draw_text_point_with_font_ex
 23087                        	xref	~~k_draw_text_point_with_font
 23088                        	xref	~~k_draw_text_point
 23089                        	xref	~~k_draw_line
 23090                        	xref	~~k_gui_get_pixel_offset
 23091                        	xref	~~k_get_video_mode
 23092                        	xref	~~k_getUIGadgetColor
 23093                        	xref	~~k_getUIMenuColor
 23094                        	xref	~~k_getUIBackgroundColor
 23095                        	xref	~~k_vdraw_ui_menu_ex
 23096                        	xref	~~k_mem_deallocate_heap
 23097                        	xref	~~k_mem_allocate_heap
  Mon Dec  7 2020 11:19                                                Page 457


 23098                        	xref	~~k_send_command_message
 23099                        	xref	~~k_send_window_message
 23100                        	xref	~~k_event_unlock_focus
 23101                        	xref	~~k_event_lock_focus_ex
 23102                        	xref	~~k_exec_get_current_process
 23103                        	xref	~~k_get_localtime_string
 23104                        	xref	~~k_string_copy_string
 23105                        	xref	~~k_debug_nodelist_with_data
 23106                        	xref	~~k_debug_nodelist
 23107                        	xref	~~k_debug_rect
 23108                        	xref	~~k_debug_strings
 23109                        	xref	~~k_debug_message
 23110                        	xref	~~k_debug_long
 23111                        	xref	~~k_debug_integer
 23112                        	xref	~~k_debug_pointer
 23113                        	xref	~~k_debug_string
 23114                        	xref	~~k_nodelist_foreach_listdata_remove
 23115                        	xref	~~k_nodelist_foreach_until_listdata
 23116                        	xref	~~k_nodelist_foreach_listdata
 23117                        	xref	~~k_nodelist_foreach_type
 23118                        	xref	~~k_nodelist_getfirstnode
 23119                        	xref	~~k_nodelist_searchByName
 23120                        	xref	~~k_nodelist_addnodetolist
 23121                        	xref	~~k_nodelist_naddtolist
 23122                        	xref	~~k_nodelist_naddtolist_tohead
 23123                        	xref	~~k_nodelist_addtolist
 23124                        	xref	~~k_nodelist_deallocate_list
 23125                        	xref	~~k_nodelist_allocate_list
 23126                        	xref	~~k_nodelist_remove_obj
 23127                        	xref	~~k_nodelist_ncreate
 23128                        	xref	~~strlen
 23129                        	xref	~~strcpy
 23130                        	xref	~~strcmp
 23131                        	xref	~~memset
 23132                        	xref	~~MOUSE_POINTER_RESIZE
 23133                        	xref	~~MOUSE_POINTER_HOURGLASS
 23134                        	xref	~~MOUSE_POINTER_HELP
 23135                        	xref	~~MOUSE_POINTER_ARROW
 23136                        	xref	~~BM437FXOS8x8
 23137                        	xref	~~BM4378X8ITAL
 23138                        	xref	~~BM437AMIGO8x8
 23139                        	xref	~~BM437FANTASY
 23140                        	xref	~~BM437TINYTYPE8x8
 23141                        	xref	~~Bm437ATI6x8
 23142                        	xref	~~Bm437ATI8x16
 23143                        	xref	~~Bm437ToshibaLCD8x8
 23144                        	.sym	~~k_draw_rect,~~k_draw_rect,69,18,0
 23145                        	.sym	~~k_is_inside_rect,~~k_is_inside_rect,69
                    ,18,0
 23146                        	.sym	~~k_point_in_depth_nodeslist,~~k_point_i
                    n_depth_nodeslist,1098,2,32,2
 23147                        	.sym	~~k_user_CreateWindowEx,~~k_user_CreateW
                    indowEx,1098,2,32,28
 23148                        	.sym	~~k_user_SelectColorIntoContext,~~k_user
                    _SelectColorIntoContext,65,2,0
 23149                        	.sym	~~k_user_SelectFontIntoContext,~~k_user_
                    SelectFontIntoContext,65,2,0
 23150                        	.sym	~~k_user_ReleaseWindowDrawingContext,~~k
  Mon Dec  7 2020 11:19                                                Page 458


                    _user_ReleaseWindowDrawingContext,65,2,0
 23151                        	.sym	~~k_user_GetWindowDrawingContext,~~k_use
                    r_GetWindowDrawingContext,1089,2,32
 23152                        	.sym	~~k_user_GetFont,~~k_user_GetFont,1089,2
                    ,32
 23153                        	.sym	~~k_user_getWindowClass,~~k_user_getWind
                    owClass,1098,2,32,23
 23154                        	.sym	~~k_update_focus_history,~~k_update_focu
                    s_history,78,2,0
 23155                        	.sym	~~k_deallocate_menu_resource,~~k_dealloc
                    ate_menu_resource,65,2,0
 23156                        	.sym	~~k_deallocate_icon_object,~~k_deallocat
                    e_icon_object,65,2,0
 23157                        	.sym	~~_k_windowManager_CursorList,~~_k_windo
                    wManager_CursorList,138,3,32,3
 23158                        	.sym	~~_k_windowManager_FontList,~~_k_windowM
                    anager_FontList,138,3,32,3
 23159                        	.sym	~~_k_windowManager_IconList,~~_k_windowM
                    anager_IconList,138,3,32,3
 23160                        	.sym	~~_k_windowManager_WindowMenuList,~~_k_w
                    indowManager_WindowMenuList,138,3,32,3
 23161                        	.sym	~~_k_windowManager_ObjectHitList,~~_k_wi
                    ndowManager_ObjectHitList,138,3,32,3
 23162                        	.sym	~~_k_windowManager_WindowRedrawList,~~_k
                    _windowManager_WindowRedrawList,138,3,32,3
 23163                        	.sym	~~_k_windowManager_WindowObjectList,~~_k
                    _windowManager_WindowObjectList,138,3,32,3
 23164                        	.sym	~~_k_windowManager_WindowClassList,~~_k_
                    windowManager_WindowClassList,138,3,32,3
 23165                        	.sym	~~debug_clickable_node,~~debug_clickable
                    _node,65,2,0
 23166                        	.sym	~~debug_window_node,~~debug_window_node,
                    65,2,0
 23167                        	.sym	~~k_is_window_closed,~~k_is_window_close
                    d,78,2,0
 23168                        	.sym	~~k_size_dropdown_menus,~~k_size_dropdow
                    n_menus,65,2,0
 23169                        	.sym	~~find_window_caption,~~find_window_capt
                    ion,78,2,0
 23170                        	.sym	~~find_child_window,~~find_child_window,
                    78,2,0
 23171                        	.sym	~~k_iterate_children,~~k_iterate_childre
                    n,65,2,0
 23172                        	.sym	~~k_iterate_dropdown_menu_captions,~~k_i
                    terate_dropdown_menu_captions,65,2,0
 23173                        	.sym	~~k_iterate_set_menu_state,~~k_iterate_s
                    et_menu_state,65,2,0
 23174                        	.sym	~~k_iterate_menus,~~k_iterate_menus,65,2
                    ,0
 23175                        	.sym	~~k_iterate_windows_for_redraw,~~k_itera
                    te_windows_for_redraw,65,2,0
 23176                        	.sym	~~_k_user_send_child_message,~~_k_user_s
                    end_child_message,78,2,0
 23177                        	.sym	PEACHCHILD_MSG,0,138,14,32,63
 23178                        	.sym	EACHCHILD_MSG,0,10,14,64,63
 23179                        	.sym	~~k_copy_window_page_region,~~k_copy_win
                    dow_page_region,1089,2,32
 23180                        	.sym	~~k_copy_window_region,~~k_copy_window_r
  Mon Dec  7 2020 11:19                                                Page 459


                    egion,65,2,0
 23181                        	.sym	~~k_switch_window_page,~~k_switch_window
                    _page,65,2,0
 23182                        	.sym	~~menuDropDownWindowProc,~~menuDropDownW
                    indowProc,78,2,0
 23183                        	.sym	~~menuAnchorWindowProc,~~menuAnchorWindo
                    wProc,78,2,0
 23184                        	.sym	~~gadgetWindowProc,~~gadgetWindowProc,78
                    ,2,0
 23185                        	.sym	~~menuWindowProc,~~menuWindowProc,78,2,0
 23186                        	.sym	~~hscrollbarWindowProc,~~hscrollbarWindo
                    wProc,78,18,0
 23187                        	.sym	~~vscrollbarWindowProc,~~vscrollbarWindo
                    wProc,78,18,0
 23188                        	.sym	~~buttonWindowProc,~~buttonWindowProc,78
                    ,2,0
 23189                        	.sym	~~DlgAboutWindowProc,~~DlgAboutWindowPro
                    c,78,2,0
 23190                        	.sym	~~DlgWindowProc,~~DlgWindowProc,78,2,0
 23191                        	.sym	~~DefWindowProc,~~DefWindowProc,78,2,0
 23192                        	.sym	~~k_clean_closed_windows,~~k_clean_close
                    d_windows,65,2,0
 23193                        	.sym	~~k_deallocate_cursor_object,~~k_dealloc
                    ate_cursor_object,65,2,0
 23194                        	.sym	~~k_deallocate_font_object,~~k_deallocat
                    e_font_object,65,2,0
 23195                        	.sym	~~k_deallocate_hit_class,~~k_deallocate_
                    hit_class,65,2,0
 23196                        	.sym	~~k_deallocate_menu_object,~~k_deallocat
                    e_menu_object,65,2,0
 23197                        	.sym	~~k_deallocate_window_object,~~k_dealloc
                    ate_window_object,65,2,0
 23198                        	.sym	~~k_deallocate_window_class,~~k_dealloca
                    te_window_class,65,2,0
 23199                        	.sym	~~k_func_drawAnchorText,~~k_func_drawAnc
                    horText,65,2,0
 23200                        	.sym	~~k_render_text,~~k_render_text,69,2,0
 23201                        	.sym	~~k_text_callback,~~k_text_callback,65,2
                    ,0
 23202                        	.sym	~~k_point_hit_scan_nodeslist,~~k_point_h
                    it_scan_nodeslist,1098,2,32,2
 23203                        	.sym	~~k_point_hit_resetdepth_nodeslist,~~k_p
                    oint_hit_resetdepth_nodeslist,65,2,0
 23204                        	.sym	~~k_point_hit_scan,~~k_point_hit_scan,10
                    98,2,32,2
 23205                        	.sym	~~k_remove_closed_windows_from_list,~~k_
                    remove_closed_windows_from_list,1098,2,32,2
 23206                        	.sym	~~k_update_hover_location,~~k_update_hov
                    er_location,65,2,0
 23207                        	.sym	~~k_add_object_hit_node_local,~~k_add_ob
                    ject_hit_node_local,65,2,0
 23208                        	.sym	~~k_attach_mouse_detection_local,~~k_att
                    ach_mouse_detection_local,69,2,0
 23209                        	.sym	~~k_point_in_any_nodeslist,~~k_point_in_
                    any_nodeslist,1098,2,32,2
 23210                        	.sym	~~k_point_in_nodeslist,~~k_point_in_node
                    slist,1098,2,32,2
 23211                        	.sym	~~k_add_object_hit_node,~~k_add_object_h
  Mon Dec  7 2020 11:19                                                Page 460


                    it_node,65,2,0
 23212                        	.sym	~~k_attach_mouse_detection,~~k_attach_mo
                    use_detection,69,2,0
 23213                        	.sym	~~k_add_child_window,~~k_add_child_windo
                    w,78,2,0
 23214                        	.sym	~~k_user_FillClientRect,~~k_user_FillCli
                    entRect,1098,2,32,22
 23215                        	.sym	~~k_user_DrawWindowTextToPointWithFont,~
                    ~k_user_DrawWindowTextToPointWithFont,80,2,0
 23216                        	.sym	~~k_user_DrawWindowTextToPoint,~~k_user_
                    DrawWindowTextToPoint,80,2,0
 23217                        	.sym	~~k_user_DrawText,~~k_user_DrawText,80,2
                    ,0
 23218                        	.sym	~~k_user_RedrawWindows,~~k_user_RedrawWi
                    ndows,65,2,0
 23219                        	.sym	~~k_user_EndWindowForResize,~~k_user_End
                    WindowForResize,65,2,0
 23220                        	.sym	~~k_user_StartWindowForResize,~~k_user_S
                    tartWindowForResize,65,2,0
 23221                        	.sym	~~k_user_EndWindowForDrag,~~k_user_EndWi
                    ndowForDrag,65,2,0
 23222                        	.sym	~~k_user_StartWindowForDrag,~~k_user_Sta
                    rtWindowForDrag,65,2,0
 23223                        	.sym	~~k_user_CopyRect,~~k_user_CopyRect,65,2
                    ,0
 23224                        	.sym	~~k_user_ClearRect,~~k_user_ClearRect,65
                    ,2,0
 23225                        	.sym	~~k_user_SetRect,~~k_user_SetRect,65,2,0
 23226                        	.sym	~~k_user_IsChildWindow,~~k_user_IsChildW
                    indow,78,2,0
 23227                        	.sym	~~k_user_getFocusWindow,~~k_user_getFocu
                    sWindow,1089,2,32
 23228                        	.sym	~~k_user_ResizeWindow_ex,~~k_user_Resize
                    Window_ex,65,2,0
 23229                        	.sym	~~k_user_MoveWindow_ex,~~k_user_MoveWind
                    ow_ex,65,2,0
 23230                        	.sym	~~k_user_MoveWindow,~~k_user_MoveWindow,
                    65,2,0
 23231                        	.sym	~~k_user_CenterBottomWindow,~~k_user_Cen
                    terBottomWindow,65,2,0
 23232                        	.sym	~~k_user_CenterWindow,~~k_user_CenterWin
                    dow,65,2,0
 23233                        	.sym	~~k_user_CreateButton,~~k_user_CreateBut
                    ton,1098,2,32,27
 23234                        	.sym	~~k_user_SetMenuState,~~k_user_SetMenuSt
                    ate,78,2,0
 23235                        	.sym	~~k_user_CreateMenuDropDown,~~k_user_Cre
                    ateMenuDropDown,1098,2,32,27
 23236                        	.sym	~~k_user_CreateMenuAnchor,~~k_user_Creat
                    eMenuAnchor,1098,2,32,27
 23237                        	.sym	~~k_user_AddMenuItem,~~k_user_AddMenuIte
                    m,1089,2,32
 23238                        	.sym	~~k_user_CreateMenuResource,~~k_user_Cre
                    ateMenuResource,1089,2,32
 23239                        	.sym	~~k_user_CreateMenu,~~k_user_CreateMenu,
                    1098,2,32,27
 23240                        	.sym	~~k_user_GlobalToClientCoordinates,~~k_u
                    ser_GlobalToClientCoordinates,1098,2,32,21
  Mon Dec  7 2020 11:19                                                Page 461


 23241                        	.sym	~~k_user_ClientToGlobalCoordinates,~~k_u
                    ser_ClientToGlobalCoordinates,1098,2,32,21
 23242                        	.sym	~~k_user_ShowWindow,~~k_user_ShowWindow,
                    78,2,0
 23243                        	.sym	~~k_user_setMousePointer,~~k_user_setMou
                    sePointer,1089,2,32
 23244                        	.sym	~~k_user_getMousePointerClass,~~k_user_g
                    etMousePointerClass,1089,2,32
 23245                        	.sym	~~k_user_getFontClass,~~k_user_getFontCl
                    ass,1089,2,32
 23246                        	.sym	~~k_user_RegisterFontClass,~~k_user_Regi
                    sterFontClass,1089,2,32
 23247                        	.sym	~~k_user_RegisterMousePointerClass,~~k_u
                    ser_RegisterMousePointerClass,1089,2,32
 23248                        	.sym	~~k_user_DestroyWindow,~~k_user_DestroyW
                    indow,78,2,0
 23249                        	.sym	~~k_user_CloseWindow,~~k_user_CloseWindo
                    w,78,2,0
 23250                        	.sym	~~k_user_LoadDialog,~~k_user_LoadDialog,
                    1098,2,32,27
 23251                        	.sym	~~k_user_GetWindowData,~~k_user_GetWindo
                    wData,1089,2,32
 23252                        	.sym	~~k_user_SetWindowData,~~k_user_SetWindo
                    wData,1089,2,32
 23253                        	.sym	~~k_user_CreateWindow,~~k_user_CreateWin
                    dow,1098,2,32,27
 23254                        	.sym	~~k_user_RegisterWindowClass,~~k_user_Re
                    gisterWindowClass,1089,2,32
 23255                        	.sym	~~k_user_CreateWindowClass,~~k_user_Crea
                    teWindowClass,1098,2,32,23
 23256                        	.sym	~~k_user_getSystemMetric,~~k_user_getSys
                    temMetric,69,2,0
 23257                        	.sym	~~k_user_findWindow,~~k_user_findWindow,
                    1089,2,32
 23258                        	.sym	~~k_user_getDesktopWindow,~~k_user_getDe
                    sktopWindow,1089,2,32
 23259                        	.sym	~~k_user_SetWindowTitle,~~k_user_SetWind
                    owTitle,65,2,0
 23260                        	.sym	~~k_getWindowRect,~~k_getWindowRect,80,2
                    ,0
 23261                        	.sym	~~k_getHandleFromWindow,~~k_getHandleFro
                    mWindow,1089,2,32
 23262                        	.sym	~~k_getWindowFromHandle,~~k_getWindowFro
                    mHandle,1098,2,32,27
 23263                        	.sym	~~k_getWindowClassList,~~k_getWindowClas
                    sList,1098,2,32,2
 23264                        	.sym	~~k_getWindowList,~~k_getWindowList,1098
                    ,2,32,2
 23265                        	.sym	~~k_getWindowHitList,~~k_getWindowHitLis
                    t,1098,2,32,2
 23266                        	.sym	~~k_getWindowManagerHitList,~~k_getWindo
                    wManagerHitList,1098,2,32,3
 23267                        	.sym	~~k_getWindowManagerClassList,~~k_getWin
                    dowManagerClassList,1098,2,32,3
 23268                        	.sym	~~k_getWindowManagerList,~~k_getWindowMa
                    nagerList,1098,2,32,3
 23269                        	.sym	~~k_initializeWindowManager,~~k_initiali
                    zeWindowManager,78,2,0
  Mon Dec  7 2020 11:19                                                Page 462


 23270                        	.sym	~~k_gui_set_mousepointer,~~k_gui_set_mou
                    sepointer,65,18,0
 23271                        	.sym	~~k_font_getFontWidth,~~k_font_getFontWi
                    dth,80,18,0
 23272                        	.sym	~~k_font_getFontHeight,~~k_font_getFontH
                    eight,80,18,0
 23273                        	.sym	~~k_create_ui_window_class,~~k_create_ui
                    _window_class,1098,18,32,27
 23274                        	.sym	~~k_create_context_menu_in_window_ex,~~k
                    _create_context_menu_in_window_ex,1098,18,32,31
 23275                        	.sym	~~k_vdma_copy_address_ex,~~k_vdma_copy_a
                    ddress_ex,65,18,0
 23276                        	.sym	~~k_vdma_fill_rect_ex,~~k_vdma_fill_rect
                    _ex,65,18,0
 23277                        	.sym	~~k_vdma_fill_rect,~~k_vdma_fill_rect,65
                    ,18,0
 23278                        	.sym	~~k_vdraw_ui_window,~~k_vdraw_ui_window,
                    65,18,0
 23279                        	.sym	~~k_get_font_metrics,~~k_get_font_metric
                    s,69,18,0
 23280                        	.sym	~~k_draw_text_point_with_font_ex,~~k_dra
                    w_text_point_with_font_ex,69,18,0
 23281                        	.sym	~~k_draw_text_point_with_font,~~k_draw_t
                    ext_point_with_font,69,18,0
 23282                        	.sym	~~k_draw_text_point,~~k_draw_text_point,
                    69,18,0
 23283                        	.sym	~~k_draw_line,~~k_draw_line,65,18,0
 23284                        	.sym	~~k_gui_get_pixel_offset,~~k_gui_get_pix
                    el_offset,71,18,0
 23285                        	.sym	~~k_get_video_mode,~~k_get_video_mode,80
                    ,18,0
 23286                        	.sym	~~k_getUIGadgetColor,~~k_getUIGadgetColo
                    r,69,18,0
 23287                        	.sym	~~k_getUIMenuColor,~~k_getUIMenuColor,69
                    ,18,0
 23288                        	.sym	~~k_getUIBackgroundColor,~~k_getUIBackgr
                    oundColor,69,18,0
 23289                        	.sym	PCUR_PALETTE_MAP,0,138,14,32,62
 23290                        	.sym	CUR_PALETTE_MAP,0,10,14,400,62
 23291                        	.sym	~~k_vdraw_ui_menu_ex,~~k_vdraw_ui_menu_e
                    x,1098,18,32,31
 23292                        	.sym	PCLICKDETECTED,0,138,14,32,61
 23293                        	.sym	CLICKDETECTED,0,10,14,64,61
 23294                        	.sym	OBJECTCLICKED,0,641,14,32
 23295                        	.sym	~~MOUSE_POINTER_RESIZE,~~MOUSE_POINTER_R
                    ESIZE,110,18,0,0
 23296                        	.sym	~~MOUSE_POINTER_HOURGLASS,~~MOUSE_POINTE
                    R_HOURGLASS,110,18,0,0
 23297                        	.sym	~~MOUSE_POINTER_HELP,~~MOUSE_POINTER_HEL
                    P,110,18,0,0
 23298                        	.sym	~~MOUSE_POINTER_ARROW,~~MOUSE_POINTER_AR
                    ROW,110,18,0,0
 23299                        	.sym	~~BM437FXOS8x8,~~BM437FXOS8x8,110,18,0,0
 23300                        	.sym	~~BM4378X8ITAL,~~BM4378X8ITAL,110,18,0,0
 23301                        	.sym	~~BM437AMIGO8x8,~~BM437AMIGO8x8,110,18,0
                    ,0
 23302                        	.sym	~~BM437FANTASY,~~BM437FANTASY,110,18,0,0
 23303                        	.sym	~~BM437TINYTYPE8x8,~~BM437TINYTYPE8x8,11
  Mon Dec  7 2020 11:19                                                Page 463


                    0,18,0,0
 23304                        	.sym	~~Bm437ATI6x8,~~Bm437ATI6x8,110,18,0,0
 23305                        	.sym	~~Bm437ATI8x16,~~Bm437ATI8x16,110,18,0,0
 23306                        	.sym	~~Bm437ToshibaLCD8x8,~~Bm437ToshibaLCD8x
                    8,110,18,0,0
 23307                        	.sym	~~k_mem_deallocate_heap,~~k_mem_dealloca
                    te_heap,65,18,0
 23308                        	.sym	~~k_mem_allocate_heap,~~k_mem_allocate_h
                    eap,1089,18,32
 23309                        	.sym	MemoryCallback,0,641,14,32
 23310                        	.sym	PFXMEMORYMAP,0,138,14,32,60
 23311                        	.sym	FXMEMORYMAP,0,10,14,2072,60
 23312                        	.sym	UMM_HEAP_INFO,0,10,14,256,59
 23313                        	.sym	PCOMMANDARGS,0,138,14,32,58
 23314                        	.sym	COMMANDARGS,0,10,14,64,58
 23315                        	.sym	PTOKENIZESTATE,0,133,14,32
 23316                        	.sym	TOKENIZESTATE,0,5,14,16
 23317                        	.sym	PTOKEN,0,138,14,32,57
 23318                        	.sym	TOKEN,0,10,14,64,57
 23319                        	.sym	PTOKENTYPE,0,133,14,32
 23320                        	.sym	TOKENTYPE,0,5,14,16
 23321                        	.sym	FXCommandHandler,0,656,14,32
 23322                        	.sym	PCONSOLECTX,0,138,14,32,56
 23323                        	.sym	CONSOLECTX,0,10,14,1144,56
 23324                        	.sym	PSPINNERCTX,0,138,14,32,55
 23325                        	.sym	SPINNERCTX,0,10,14,48,55
 23326                        	.sym	~~k_send_command_message,~~k_send_comman
                    d_message,78,18,0
 23327                        	.sym	~~k_send_window_message,~~k_send_window_
                    message,78,18,0
 23328                        	.sym	~~k_event_unlock_focus,~~k_event_unlock_
                    focus,1089,18,32
 23329                        	.sym	~~k_event_lock_focus_ex,~~k_event_lock_f
                    ocus_ex,78,18,0
 23330                        	.sym	PMOUSE_MSG_STATE,0,138,14,32,54
 23331                        	.sym	MOUSE_MSG_STATE,0,10,14,184,54
 23332                        	.sym	PFXEVENTPROCESS,0,138,14,32,53
 23333                        	.sym	FXEVENTPROCESS,0,10,14,64,53
 23334                        	.sym	FXIDLEPROCESS,0,641,14,32
 23335                        	.sym	FXEventProc,0,641,14,32
 23336                        	.sym	PMOUSEMSGDATA,0,138,14,32,52
 23337                        	.sym	MOUSEMSGDATA,0,10,14,64,52
 23338                        	.sym	MSGIRQ,0,5,14,16
 23339                        	.sym	MAINLOOPARGS,0,10,14,16,51
 23340                        	.sym	~~k_exec_get_current_process,~~k_exec_ge
                    t_current_process,1098,18,32,17
 23341                        	.sym	~~k_get_localtime_string,~~k_get_localti
                    me_string,1102,18,32
 23342                        	.sym	~~k_string_copy_string,~~k_string_copy_s
                    tring,1102,18,32
 23343                        	.sym	PFXSTRING,0,138,14,32,50
 23344                        	.sym	FXSTRING,0,10,14,64,50
 23345                        	.sym	DEVICEDRIVER_COMMAND,0,656,14,32
 23346                        	.sym	DEVICEDRIVER_UNLOAD,0,654,14,32
 23347                        	.sym	DEVICEDRIVER_WRITE,0,656,14,32
 23348                        	.sym	DEVICEDRIVER_READ,0,656,14,32
 23349                        	.sym	DEVICEDRIVER_LOAD,0,654,14,32
 23350                        	.sym	PFX_BLOCK_DEVICE_DRIVER,0,138,14,32,49
  Mon Dec  7 2020 11:19                                                Page 464


 23351                        	.sym	FX_BLOCK_DEVICE_DRIVER,0,10,14,1448,49
 23352                        	.sym	PFX_DEVICE_DRIVER,0,138,14,32,48
 23353                        	.sym	FX_DEVICE_DRIVER,0,10,14,1416,48
 23354                        	.sym	~~k_debug_nodelist_with_data,~~k_debug_n
                    odelist_with_data,65,18,0
 23355                        	.sym	~~k_debug_nodelist,~~k_debug_nodelist,65
                    ,18,0
 23356                        	.sym	~~k_debug_rect,~~k_debug_rect,65,18,0
 23357                        	.sym	~~k_debug_strings,~~k_debug_strings,65,1
                    8,0
 23358                        	.sym	~~k_debug_message,~~k_debug_message,65,1
                    8,0
 23359                        	.sym	~~k_debug_long,~~k_debug_long,65,18,0
 23360                        	.sym	~~k_debug_integer,~~k_debug_integer,65,1
                    8,0
 23361                        	.sym	~~k_debug_pointer,~~k_debug_pointer,65,1
                    8,0
 23362                        	.sym	~~k_debug_string,~~k_debug_string,65,18,
                    0
 23363                        	.sym	PDEBUGBYTEBITS,0,138,14,32,47
 23364                        	.sym	DEBUGBYTEBITS,0,10,14,8,47
 23365                        	.sym	PFXENVIRONMENT,0,138,14,32,46
 23366                        	.sym	FXENVIRONMENT,0,10,14,96,46
 23367                        	.sym	PFXZERPOPAGE,0,138,14,32,45
 23368                        	.sym	FXZERPOPAGE,0,10,14,448,45
 23369                        	.sym	KERNELTRAPCALL,0,641,14,32
 23370                        	.sym	~~k_nodelist_foreach_listdata_remove,~~k
                    _nodelist_foreach_listdata_remove,65,18,0
 23371                        	.sym	~~k_nodelist_foreach_until_listdata,~~k_
                    nodelist_foreach_until_listdata,1098,18,32,2
 23372                        	.sym	~~k_nodelist_foreach_listdata,~~k_nodeli
                    st_foreach_listdata,65,18,0
 23373                        	.sym	~~k_nodelist_foreach_type,~~k_nodelist_f
                    oreach_type,65,18,0
 23374                        	.sym	FOREACHNODEUNTIL,0,654,14,32
 23375                        	.sym	FOREACHNODE,0,641,14,32
 23376                        	.sym	~~k_nodelist_getfirstnode,~~k_nodelist_g
                    etfirstnode,1098,18,32,2
 23377                        	.sym	~~k_nodelist_searchByName,~~k_nodelist_s
                    earchByName,1098,18,32,2
 23378                        	.sym	~~k_nodelist_addnodetolist,~~k_nodelist_
                    addnodetolist,1098,18,32,2
 23379                        	.sym	~~k_nodelist_naddtolist,~~k_nodelist_nad
                    dtolist,1098,18,32,2
 23380                        	.sym	~~k_nodelist_naddtolist_tohead,~~k_nodel
                    ist_naddtolist_tohead,1098,18,32,2
 23381                        	.sym	~~k_nodelist_addtolist,~~k_nodelist_addt
                    olist,1098,18,32,2
 23382                        	.sym	~~k_nodelist_deallocate_list,~~k_nodelis
                    t_deallocate_list,65,18,0
 23383                        	.sym	~~k_nodelist_allocate_list,~~k_nodelist_
                    allocate_list,1098,18,32,3
 23384                        	.sym	~~k_nodelist_remove_obj,~~k_nodelist_rem
                    ove_obj,1098,18,32,2
 23385                        	.sym	~~k_nodelist_ncreate,~~k_nodelist_ncreat
                    e,1098,18,32,2
 23386                        	.sym	~~strlen,~~strlen,80,18,0
 23387                        	.sym	~~strcpy,~~strcpy,1102,18,32
  Mon Dec  7 2020 11:19                                                Page 465


 23388                        	.sym	~~strcmp,~~strcmp,69,18,0
 23389                        	.sym	~~memset,~~memset,1089,18,32
 23390                        	.sym	Boolean_T,0,5,14,16
 23391                        	.sym	ldiv_t,0,10,14,64,43
 23392                        	.sym	div_t,0,10,14,32,42
 23393                        	.sym	wctype_t,0,16,14,16
 23394                        	.sym	wint_t,0,16,14,16
 23395                        	.sym	wchar_t,0,14,14,8
 23396                        	.sym	ptrdiff_t,0,7,14,32
 23397                        	.sym	size_t,0,16,14,16
 23398                        	.sym	PFXCOMBUFFER,0,138,14,32,41
 23399                        	.sym	FXCOMBUFFER,0,10,14,2080,41
 23400                        	.sym	PSUBMENULIST,0,138,14,32,40
 23401                        	.sym	SUBMENULIST,0,10,14,40,40
 23402                        	.sym	HSUBMENU,0,7,14,32
 23403                        	.sym	PSUBMENU,0,138,14,32,39
 23404                        	.sym	SUBMENU,0,10,14,64,39
 23405                        	.sym	MenuAction,0,641,14,32
 23406                        	.sym	PMENUANCHOR,0,138,14,32,38
 23407                        	.sym	MENUANCHOR,0,10,14,144,38
 23408                        	.sym	PTEXTBOX,0,138,14,32,37
 23409                        	.sym	TEXTBOX,0,10,14,144,37
 23410                        	.sym	PLISTBOX,0,138,14,32,36
 23411                        	.sym	LISTBOX,0,10,14,240,36
 23412                        	.sym	PSCROLLBAR,0,138,14,32,35
 23413                        	.sym	SCROLLBAR,0,10,14,192,35
 23414                        	.sym	PBUTTON,0,138,14,32,34
 23415                        	.sym	BUTTON,0,10,14,80,34
 23416                        	.sym	PMENUDROPDOWNDATA,0,138,14,32,33
 23417                        	.sym	MENUDROPDOWNDATA,0,10,14,3568,33
 23418                        	.sym	PMENUTAG,0,138,14,32,32
 23419                        	.sym	MENUTAG,0,10,14,112,32
 23420                        	.sym	PMENU,0,138,14,32,31
 23421                        	.sym	MENU,0,10,14,248,31
 23422                        	.sym	HMENURESOURCE,0,129,14,32
 23423                        	.sym	HTEXTBOX,0,7,14,32
 23424                        	.sym	PTEXTBOXX,0,138,14,32,30
 23425                        	.sym	TEXTBOXX,0,10,14,112,30
 23426                        	.sym	FONTMETRIC,0,10,14,32,29
 23427                        	.sym	TITLE,0,142,14,32
 23428                        	.sym	PHANDLE,0,1153,14,32
 23429                        	.sym	HANDLE,0,129,14,32
 23430                        	.sym	PWINDOWEX,0,138,14,32,28
 23431                        	.sym	WINDOWEX,0,10,14,2704,28
 23432                        	.sym	PWINDOW,0,138,14,32,27
 23433                        	.sym	WINDOW,0,10,14,2840,27
 23434                        	.sym	PDRAGDATA,0,138,14,32,26
 23435                        	.sym	DRAGDATA,0,10,14,160,26
 23436                        	.sym	PNCCLICKABLE,0,138,14,32,25
 23437                        	.sym	NCCLICKABLE,0,10,14,88,25
 23438                        	.sym	HCLICKABLE,0,7,14,32
 23439                        	.sym	PCLICKABLE,0,138,14,32,24
 23440                        	.sym	CLICKABLE,0,10,14,88,24
 23441                        	.sym	PWNDCLASS,0,138,14,32,23
 23442                        	.sym	WNDCLASS,0,10,14,256,23
 23443                        	.sym	HBRUSH,0,129,14,32
 23444                        	.sym	HCURSOR,0,129,14,32
 23445                        	.sym	HICON,0,129,14,32
  Mon Dec  7 2020 11:19                                                Page 466


 23446                        	.sym	HINSTANCE,0,129,14,32
 23447                        	.sym	FXWndProc,0,654,14,32
 23448                        	.sym	PRECT,0,138,14,32,22
 23449                        	.sym	RECT,0,10,14,64,22
 23450                        	.sym	PPOINT,0,138,14,32,21
 23451                        	.sym	POINT,0,10,14,32,21
 23452                        	.sym	PFXPROPERTY,0,138,14,32,19
 23453                        	.sym	FXPROPERTY,0,10,14,384,19
 23454                        	.sym	SCANCODE,0,14,14,8
 23455                        	.sym	KEYCODE,0,14,14,8
 23456                        	.sym	PFXPROCESSMESSAGE,0,138,14,32,18
 23457                        	.sym	FXPROCESSMESSAGE,0,10,14,112,18
 23458                        	.sym	PFXPROCESS,0,138,14,32,17
 23459                        	.sym	FXPROCESS,0,10,14,800,17
 23460                        	.sym	PDESKTOP_CONTROL,0,138,14,32,16
 23461                        	.sym	DESKTOP_CONTROL,0,10,14,392,16
 23462                        	.sym	PCONSOLE_CONTROL,0,138,14,32,15
 23463                        	.sym	CONSOLE_CONTROL,0,10,14,448,15
 23464                        	.sym	FXProcessProc,0,641,14,32
 23465                        	.sym	PFXCMDMESSAGE,0,138,14,32,14
 23466                        	.sym	FXCMDMESSAGE,0,10,14,304,14
 23467                        	.sym	PFXOSMESSAGE,0,138,14,32,13
 23468                        	.sym	FXOSMESSAGE,0,10,14,304,13
 23469                        	.sym	PINT_REGS,0,138,14,32,12
 23470                        	.sym	INT_REGS,0,10,14,104,12
 23471                        	.sym	TASK_STACK,0,10,14,32,11
 23472                        	.sym	TASK,0,10,14,48,10
 23473                        	.sym	PIRQDATA,0,138,14,32,9
 23474                        	.sym	IRQDATA,0,10,14,48,9
 23475                        	.sym	HMENU,0,129,14,32
 23476                        	.sym	HWND,0,129,14,32
 23477                        	.sym	MSGDATA,0,14,14,8
 23478                        	.sym	MSGDEST,0,18,14,32
 23479                        	.sym	MSGSRC,0,18,14,32
 23480                        	.sym	MSGTYPE,0,16,14,16
 23481                        	.sym	PROCESS_RESOURCE_LIST,0,138,14,32,3
 23482                        	.sym	PROCESS_TLS_LIST,0,138,14,32,3
 23483                        	.sym	SEMAPHORE_LIST,0,138,14,32,3
 23484                        	.sym	FILE_BLOCK_LIST,0,138,14,32,3
 23485                        	.sym	FILE_PATH_LIST,0,138,14,32,3
 23486                        	.sym	PROCEDURE_LIST,0,138,14,32,3
 23487                        	.sym	FILE_HANDLE,0,138,14,32,8
 23488                        	.sym	FILE_BLOCK,0,10,14,552,8
 23489                        	.sym	SEMAPHORE,0,10,14,16,7
 23490                        	.sym	PPROCESS_SIGNAL,0,138,14,32,6
 23491                        	.sym	PROCESS_SIGNAL,0,10,14,16,6
 23492                        	.sym	KRESULT,0,18,14,32
 23493                        	.sym	PKERNEL_ERROR,0,138,14,32,5
 23494                        	.sym	KERNEL_ERROR,0,10,14,32,5
 23495                        	.sym	PROCESS_STATUS,0,16,14,16
 23496                        	.sym	FILE_PATH_NAME,0,142,14,32
 23497                        	.sym	PROCESS_RESOURCE,0,129,14,32
 23498                        	.sym	PROCESS_TLS,0,129,14,32
 23499                        	.sym	PROCESS_CTX,0,129,14,32
 23500                        	.sym	USERID,0,16,14,16
 23501                        	.sym	PROCESS_ID,0,18,14,32
 23502                        	.sym	PROCESS_BANK,0,14,14,8
 23503                        	.sym	PFXQUEUE,0,138,14,32,4
  Mon Dec  7 2020 11:19                                                Page 467


 23504                        	.sym	FXQUEUE,0,10,14,80,4
 23505                        	.sym	PFXNODELIST,0,138,14,32,3
 23506                        	.sym	FXNODELIST,0,10,14,96,3
 23507                        	.sym	NodeListDeallocator,0,641,14,32
 23508                        	.sym	PFXNODE,0,138,14,32,2
 23509                        	.sym	FXNODE,0,10,14,384,2
 23510                        	.sym	PBYTEBITS,0,138,14,32,1
 23511                        	.sym	BYTEBITS,0,10,14,8,1
 23512                        	.sym	HCOLOR,0,129,14,32
 23513                        	.sym	HFONT,0,129,14,32
 23514                        	.sym	HDC,0,129,14,32
 23515                        	.sym	HPOINTER,0,129,14,32
 23516                        	.sym	uint32_t,0,18,14,32
 23517                        	.sym	uint8_t,0,14,14,8
 23518                        	.sym	PFAR,0,142,14,32
 23519                        	.sym	LPBOOL,0,142,14,32
 23520                        	.sym	BOOL,0,14,14,8
 23521                        	.sym	DWORD,0,18,14,32
 23522                        	.sym	ULONG,0,18,14,32
 23523                        	.sym	LPLONG,0,135,14,32
 23524                        	.sym	LONG,0,7,14,32
 23525                        	.sym	PUINT,0,144,14,32
 23526                        	.sym	USHORT,0,16,14,16
 23527                        	.sym	UINT,0,16,14,16
 23528                        	.sym	INT,0,5,14,16
 23529                        	.sym	WORD,0,5,14,16
 23530                        	.sym	PBYTE,0,142,14,32
 23531                        	.sym	BYTE,0,14,14,8
 23532                        	.sym	UCHAR,0,14,14,8
 23533                        	.sym	LPWCSTR,0,142,14,32
 23534                        	.sym	LPCSTR,0,142,14,32
 23535                        	.sym	LPSTR,0,142,14,32
 23536                        	.sym	LPCHAR,0,142,14,32
 23537                        	.sym	CHAR,0,14,14,8
 23538                        	.sym	LPVOID,0,129,14,32
 23539                        	.sym	VOID,0,1,14,32
 23540                        	end


      Lines assembled: 23540
      Errors: 0
