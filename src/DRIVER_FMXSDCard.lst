  Sat Jul 10 2021  1:15                                                Page 1


                     ***************************************
                     **      WDC 65C816 Macro Assembler   **
                     **                                   **
                     **     Version 3.49.1- Feb  6 2006    **
                     ***************************************

     1                        ;:ts=8
     2             00000001   R0	equ	1
     3             00000005   R1	equ	5
     4             00000009   R2	equ	9
     5             0000000D   R3	equ	13
     6                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\drivers\DRIVER_FMXSDCard.c",0
     7                        ;#include "fxos.h"
     8                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
     9                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
    10                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stddef.h",0
    11                        	.line	88
    12                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",43
    13                        	.stag	fake1_,32,1
    14                        	.member	quot,0,5,8,16
    15                        	.member	rem,16,5,8,16
    16                        	.eos
    17                        	.stag	fake2_,64,2
    18                        	.member	quot,0,7,8,32
    19                        	.member	rem,32,7,8,32
    20                        	.eos
    21                        	.stag	int_sqrt,32,3
    22                        	.member	sqrt,0,16,8,16
    23                        	.member	frac,16,16,8,16
    24                        	.eos
    25                        	.line	205
    26                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",4
    27                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
    28                        	.line	134
    29                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",5
    30                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    ctype.h",0
    31                        	.line	103
    32                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",6
    33                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
    34                        	.stag	_fx_bytebits,8,4
    35                        	.member	b7,0,14,17,1
    36                        	.member	b6,1,14,17,1
    37                        	.member	b5,2,14,17,1
    38                        	.member	b4,3,14,17,1
    39                        	.member	b3,4,14,17,1
    40                        	.member	b2,5,14,17,1
    41                        	.member	b1,6,14,17,1
  Sat Jul 10 2021  1:15                                                Page 2


    42                        	.member	b0,7,14,17,1
    43                        	.eos
    44                        	.stag	_fx_node,384,5
    45                        	.member	type,0,14,8,8
    46                        	.member	Reserved0,8,14,8,8
    47                        	.member	data,16,129,8,32
    48                        	.member	last,48,138,8,32,5
    49                        	.member	next,80,138,8,32,5
    50                        	.member	name,112,110,8,0,32
    51                        	.member	Reserved1,368,16,8,16
    52                        	.eos
    53                        	.stag	_fx_nodelist,96,6
    54                        	.member	listhead,0,138,8,32,5
    55                        	.member	listData,32,129,8,32
    56                        	.member	deallocator,64,641,8,32
    57                        	.eos
    58                        	.stag	_fx_queue,80,7
    59                        	.member	count,0,5,8,16
    60                        	.member	front,16,138,8,32,5
    61                        	.member	rear,48,138,8,32,5
    62                        	.eos
    63                        	.stag	fake8_,32,8
    64                        	.member	subsystem,0,14,8,8
    65                        	.member	level,8,14,8,8
    66                        	.member	error,16,16,8,16
    67                        	.eos
    68                        	.stag	_fx_process_signal,16,9
    69                        	.member	cbSize,0,16,8,16
    70                        	.eos
    71                        	.stag	_fx_semaphore,16,10
    72                        	.member	reserved,0,5,8,16
    73                        	.eos
    74                        	.stag	_fx_fileBlock,552,11
    75                        	.member	openCount,0,16,8,16
    76                        	.member	lockCount,16,16,8,16
    77                        	.member	dirty,32,14,8,8
    78                        	.member	fileBuffer,40,110,8,0,64
    79                        	.eos
    80                        	.stag	_fx_irq_data,48,12
    81                        	.member	line,0,5,8,16
    82                        	.member	keycode,16,142,8,32
    83                        	.eos
    84                        	.stag	_task,48,13
    85                        	.member	SPL,0,14,8,8
    86                        	.member	SPH,8,14,8,8
    87                        	.member	pstack,16,142,8,32
    88                        	.eos
    89                        	.stag	_task_stack,32,14
    90                        	.member	SS,0,142,8,32
    91                        	.eos
    92                        	.stag	int_regs,104,15
    93                        	.member	PB,0,14,8,8
    94                        	.member	PH,8,14,8,8
    95                        	.member	PL,16,14,8,8
    96                        	.member	PP,24,14,8,8
    97                        	.member	DB,32,14,8,8
    98                        	.member	DH,40,14,8,8
    99                        	.member	DL,48,14,8,8
  Sat Jul 10 2021  1:15                                                Page 3


   100                        	.member	AH,56,14,8,8
   101                        	.member	AL,64,14,8,8
   102                        	.member	XH,72,14,8,8
   103                        	.member	XL,80,14,8,8
   104                        	.member	YH,88,14,8,8
   105                        	.member	YL,96,14,8,8
   106                        	.eos
   107                        	.stag	_fx_eventMessage,304,16
   108                        	.member	src,0,18,8,32
   109                        	.member	dest,32,18,8,32
   110                        	.member	type,64,16,8,16
   111                        	.member	hwnd,80,129,8,32
   112                        	.member	pheap,112,129,8,32
   113                        	.member	msgTime,144,18,8,32
   114                        	.member	data,176,110,8,0,16
   115                        	.eos
   116                        	.stag	_fx_cmdMessage,304,17
   117                        	.member	src,0,18,8,32
   118                        	.member	dest,32,18,8,32
   119                        	.member	type,64,16,8,16
   120                        	.member	hwnd,80,129,8,32
   121                        	.member	pheap,112,129,8,32
   122                        	.member	msgTime,144,18,8,32
   123                        	.member	cmdCId,176,16,8,16
   124                        	.member	cmdMId,192,16,8,16
   125                        	.member	parameter1,208,18,8,32
   126                        	.member	parameter2,240,18,8,32
   127                        	.member	parameter3,272,18,8,32
   128                        	.eos
   129                        	.stag	_fx_console_ctl,448,18
   130                        	.member	maxCols,0,5,8,16
   131                        	.member	maxRows,16,5,8,16
   132                        	.member	curX,32,5,8,16
   133                        	.member	curY,48,5,8,16
   134                        	.member	fgColor,64,5,8,16
   135                        	.member	bgColor,80,5,8,16
   136                        	.member	mode,96,14,8,8
   137                        	.member	kbBuffer,104,101,8,0,16
   138                        	.member	screenBuffer,360,142,8,32
   139                        	.member	desktopMode,392,14,8,8
   140                        	.member	lastMouseButton,400,5,8,16
   141                        	.member	lastMouseX,416,5,8,16
   142                        	.member	lastMouseY,432,5,8,16
   143                        	.eos
   144                        	.stag	_fx_desktop_ctl,392,19
   145                        	.member	desktopMode,0,14,8,8
   146                        	.member	cursorCtl,8,5,8,16
   147                        	.member	cursorState,24,5,8,16
   148                        	.member	backgroundColor,40,5,8,16
   149                        	.member	foregroundColor,56,5,8,16
   150                        	.member	menuMode,72,5,8,16
   151                        	.member	lastMouseButton,88,5,8,16
   152                        	.member	lastMouseX,104,5,8,16
   153                        	.member	lastMouseY,120,5,8,16
   154                        	.member	currentDiskName,136,142,8,32
   155                        	.member	diskNodes,168,129,8,32
   156                        	.member	titleNodes,200,129,8,32
   157                        	.member	menuNodes,232,129,8,32
  Sat Jul 10 2021  1:15                                                Page 4


   158                        	.member	iconNodes,264,129,8,32
   159                        	.member	windowNodes,296,129,8,32
   160                        	.member	fontNodes,328,129,8,32
   161                        	.member	wndProc,360,138,8,32,6
   162                        	.eos
   163                        	.stag	_fx_process,800,20
   164                        	.member	cbSize,0,5,8,16
   165                        	.member	procId,16,18,8,32
   166                        	.member	parentId,48,18,8,32
   167                        	.member	ctx,80,129,8,32
   168                        	.member	userId,112,16,8,16
   169                        	.member	status,128,16,8,16
   170                        	.member	foregroundActive,144,14,8,8
   171                        	.member	tls,152,1121,8,32,8
   172                        	.member	commandLine,408,142,8,32
   173                        	.member	semaphores,440,138,8,32,6
   174                        	.member	fileHandles,472,138,8,32,6
   175                        	.member	pathList,504,138,8,32,6
   176                        	.member	resources,536,138,8,32,6
   177                        	.member	timerAware,568,14,8,8
   178                        	.member	timerTicks,576,112,8,0,2
   179                        	.member	timerTickCount,608,112,8,0,2
   180                        	.member	kernelError,640,10,8,32,8
   181                        	.member	consoleCtl,672,138,8,32,18
   182                        	.member	desktopCtl,704,138,8,32,19
   183                        	.member	execProc,736,641,8,32
   184                        	.member	startupArgs,768,129,8,32
   185                        	.eos
   186                        	.stag	_fxProcessMessage,112,21
   187                        	.member	src,0,18,8,32
   188                        	.member	dest,32,18,8,32
   189                        	.member	type,64,16,8,16
   190                        	.member	processInfo,80,138,8,32,20
   191                        	.eos
   192                        	.stag	_k_key_state,112,22
   193                        	.member	scanCode,0,14,8,8
   194                        	.member	isShifted,8,14,8,8
   195                        	.member	isAlt,16,14,8,8
   196                        	.member	isExtended,24,14,8,8
   197                        	.member	isCapsLock,32,14,8,8
   198                        	.member	isNumLock,40,14,8,8
   199                        	.member	isScrollLock,48,14,8,8
   200                        	.member	keyChar,56,16,8,16
   201                        	.member	scanTime,72,18,8,32
   202                        	.member	ledStatus,104,14,8,8
   203                        	.eos
   204                        	.stag	_fx_property,384,23
   205                        	.member	name,0,110,8,0,16
   206                        	.member	value,128,110,8,0,32
   207                        	.eos
   208                        	.utag	_24bitPointer,32,24
   209                        	.member	address,0,142,11,32
   210                        	.member	bytes,0,110,11,0,4
   211                        	.eos
   212                        	.stag	_PointStruct,32,25
   213                        	.member	x,0,5,8,16
   214                        	.member	y,16,5,8,16
   215                        	.eos
  Sat Jul 10 2021  1:15                                                Page 5


   216                        	.stag	_RectStruct,112,26
   217                        	.member	x,0,5,8,16
   218                        	.member	y,16,5,8,16
   219                        	.member	z,32,18,8,32
   220                        	.member	width,64,5,8,16
   221                        	.member	height,80,5,8,16
   222                        	.member	attr,96,5,8,16
   223                        	.eos
   224                        	.stag	fake27_,96,27
   225                        	.member	name,0,142,8,32
   226                        	.member	topLeft,32,10,8,32,25
   227                        	.member	bottomRight,64,10,8,32,25
   228                        	.eos
   229                        	.stag	fake28_,112,28
   230                        	.member	x,0,5,8,16
   231                        	.member	y,16,5,8,16
   232                        	.member	z,32,5,8,16
   233                        	.member	width,48,5,8,16
   234                        	.member	height,64,5,8,16
   235                        	.member	data,80,18,8,32
   236                        	.eos
   237                        	.stag	_k_WindowClass,272,29
   238                        	.member	cbSize,0,16,8,16
   239                        	.member	style,16,16,8,16
   240                        	.member	styleEx,32,16,8,16
   241                        	.member	pWndProc,48,654,8,32
   242                        	.member	hInstance,80,129,8,32
   243                        	.member	hIcon,112,129,8,32
   244                        	.member	hCursor,144,129,8,32
   245                        	.member	hbrBackground,176,129,8,32
   246                        	.member	lpszMenuName,208,142,8,32
   247                        	.member	lpszClassName,240,142,8,32
   248                        	.eos
   249                        	.stag	_ClickableRect,152,30
   250                        	.member	area,0,10,8,112,26
   251                        	.member	z,112,18,8,32
   252                        	.member	enabled,144,14,8,8
   253                        	.eos
   254                        	.stag	_NCClickableRect,136,31
   255                        	.member	area,0,10,8,112,26
   256                        	.member	msgType,112,16,8,16
   257                        	.member	enabled,128,14,8,8
   258                        	.eos
   259                        	.stag	_DragData,216,32
   260                        	.member	area,0,10,8,112,26
   261                        	.member	xoffset,112,5,8,16
   262                        	.member	yoffset,128,5,8,16
   263                        	.member	msgType,144,16,8,16
   264                        	.member	ncAction,160,16,8,16
   265                        	.member	isDrag,176,14,8,8
   266                        	.member	isResize,184,14,8,8
   267                        	.member	canDrag,192,14,8,8
   268                        	.member	canDrop,200,14,8,8
   269                        	.member	didDrag,208,14,8,8
   270                        	.eos
   271                        	.stag	_k_WindowStruct,3904,33
   272                        	.member	cbSize,0,16,8,16
   273                        	.member	style,16,18,8,32
  Sat Jul 10 2021  1:15                                                Page 6


   274                        	.member	styleEx,48,18,8,32
   275                        	.member	win_id,80,5,8,16
   276                        	.member	win_x,96,5,8,16
   277                        	.member	win_y,112,5,8,16
   278                        	.member	win_width,128,5,8,16
   279                        	.member	win_height,144,5,8,16
   280                        	.member	win_xoffset,160,5,8,16
   281                        	.member	win_yoffset,176,5,8,16
   282                        	.member	win_cxoffset,192,5,8,16
   283                        	.member	win_cyoffset,208,5,8,16
   284                        	.member	wndRect,224,10,8,112,26
   285                        	.member	clientRect,336,10,8,112,26
   286                        	.member	nonclientGadgets,448,106,8,0,31,16
   287                        	.member	clickable,2624,129,8,32
   288                        	.member	win_title,2656,110,8,0,32
   289                        	.member	Reserved0,2912,16,8,16
   290                        	.member	win_class,2928,110,8,0,16
   291                        	.member	win_class_name,3056,110,8,0,32
   292                        	.member	nBitmapLayer,3312,16,8,16
   293                        	.member	bgRegion,3328,129,8,32
   294                        	.member	procid,3360,18,8,32
   295                        	.member	pWndClass,3392,138,8,32,29
   296                        	.member	pParentWindow,3424,129,8,32
   297                        	.member	hMenu,3456,129,8,32
   298                        	.member	hPointer,3488,129,8,32
   299                        	.member	hBackground,3520,129,8,32
   300                        	.member	pChildWindows,3552,138,8,32,6
   301                        	.member	pChildHitList,3584,138,8,32,6
   302                        	.member	isVisible,3616,14,8,8
   303                        	.member	windowData,3624,129,8,32
   304                        	.member	clientData,3656,1121,8,32,6
   305                        	.member	isClosed,3848,14,8,8
   306                        	.member	isClosing,3856,14,8,8
   307                        	.member	isDesktop,3864,14,8,8
   308                        	.member	clickableNode,3872,138,8,32,5
   309                        	.eos
   310                        	.stag	_k_WindowStructEx,3880,34
   311                        	.member	cbSize,0,16,8,16
   312                        	.member	style,16,18,8,32
   313                        	.member	styleEx,48,18,8,32
   314                        	.member	win_id,80,5,8,16
   315                        	.member	win_x,96,5,8,16
   316                        	.member	win_y,112,5,8,16
   317                        	.member	win_width,128,5,8,16
   318                        	.member	win_height,144,5,8,16
   319                        	.member	win_xoffset,160,5,8,16
   320                        	.member	win_yoffset,176,5,8,16
   321                        	.member	win_cxoffset,192,5,8,16
   322                        	.member	win_cyoffset,208,5,8,16
   323                        	.member	wndRect,224,10,8,112,26
   324                        	.member	clientRect,336,10,8,112,26
   325                        	.member	nonclientGadgets,448,106,8,0,31,16
   326                        	.member	clickable,2624,129,8,32
   327                        	.member	win_title,2656,110,8,0,32
   328                        	.member	Reserved0,2912,16,8,16
   329                        	.member	win_class,2928,110,8,0,16
   330                        	.member	nBitmapLayer,3056,16,8,16
   331                        	.member	procid,3072,18,8,32
  Sat Jul 10 2021  1:15                                                Page 7


   332                        	.member	pWndClass,3104,138,8,32,29
   333                        	.member	pParentWindow,3136,129,8,32
   334                        	.member	hMenu,3168,129,8,32
   335                        	.member	hPointer,3200,129,8,32
   336                        	.member	hBackground,3232,129,8,32
   337                        	.member	pChildWindows,3264,138,8,32,6
   338                        	.member	pChildHitList,3296,138,8,32,6
   339                        	.member	isVisible,3328,14,8,8
   340                        	.member	windowData,3336,129,8,32
   341                        	.member	clientData,3368,1121,8,32,4
   342                        	.member	isClosed,3496,14,8,8
   343                        	.member	hWnd,3504,129,8,32
   344                        	.member	localRect,3536,10,8,112,26
   345                        	.member	globalRect,3648,10,8,112,26
   346                        	.member	clientOffsetRect,3760,10,8,112,26
   347                        	.member	isDesktop,3872,14,8,8
   348                        	.eos
   349                        	.stag	_FontMetric,32,35
   350                        	.member	width,0,5,8,16
   351                        	.member	height,16,5,8,16
   352                        	.eos
   353                        	.stag	_MenuStruct,280,36
   354                        	.member	cx,0,5,8,16
   355                        	.member	cy,16,5,8,16
   356                        	.member	width,32,5,8,16
   357                        	.member	height,48,5,8,16
   358                        	.member	fcolor,64,14,8,8
   359                        	.member	bcolor,72,14,8,8
   360                        	.member	chromeLeft,80,14,8,8
   361                        	.member	chromeRight1,88,14,8,8
   362                        	.member	chromeRight2,96,14,8,8
   363                        	.member	hFont,104,129,8,32
   364                        	.member	itemId,136,16,8,16
   365                        	.member	pCaption,152,142,8,32
   366                        	.member	subMenus,184,138,8,32,6
   367                        	.member	pBackground,216,129,8,32
   368                        	.member	hWndOwner,248,129,8,32
   369                        	.eos
   370                        	.stag	fake37_,160,37
   371                        	.member	menuId,0,16,8,16
   372                        	.member	caption,16,142,8,32
   373                        	.member	rect,48,10,8,112,26
   374                        	.eos
   375                        	.stag	fake38_,5152,38
   376                        	.member	pParent,0,138,8,32,33
   377                        	.member	rect,32,10,8,112,26
   378                        	.member	captions,144,1134,8,32,24
   379                        	.member	chrome,912,110,8,0,24
   380                        	.member	ids,1104,112,8,0,24
   381                        	.member	clickable,1488,106,8,0,30,24
   382                        	.member	selected,5136,16,8,16
   383                        	.eos
   384                        	.stag	_fx_button_t,96,39
   385                        	.member	pCaption,0,142,8,32
   386                        	.member	cCaption,32,16,8,16
   387                        	.member	data,48,129,8,32
   388                        	.member	captionPixelWidth,80,16,8,16
   389                        	.eos
  Sat Jul 10 2021  1:15                                                Page 8


   390                        	.stag	_fx_scrollbar_t,240,40
   391                        	.member	min,0,16,8,16
   392                        	.member	max,16,16,8,16
   393                        	.member	increment,32,16,8,16
   394                        	.member	stopsize,48,16,8,16
   395                        	.member	location,64,5,8,16
   396                        	.member	state,80,5,8,16
   397                        	.member	rectThumb,96,10,8,112,26
   398                        	.member	data,208,129,8,32
   399                        	.eos
   400                        	.stag	_fx_listbox_t,240,41
   401                        	.member	pos,0,5,8,16
   402                        	.member	selected,16,16,8,16
   403                        	.member	offsetX,32,5,8,16
   404                        	.member	offsetY,48,5,8,16
   405                        	.member	inc,64,5,8,16
   406                        	.member	direction,80,5,8,16
   407                        	.member	top,96,5,8,16
   408                        	.member	bottom,112,5,8,16
   409                        	.member	indexTop,128,5,8,16
   410                        	.member	indexBottom,144,5,8,16
   411                        	.member	maxItems,160,16,8,16
   412                        	.member	fontSet,176,142,8,32
   413                        	.member	data,208,129,8,32
   414                        	.eos
   415                        	.stag	_fx_textbox_t,144,42
   416                        	.member	pos,0,5,8,16
   417                        	.member	selected,16,16,8,16
   418                        	.member	offsetX,32,5,8,16
   419                        	.member	offsetY,48,5,8,16
   420                        	.member	isShifted,64,14,8,8
   421                        	.member	cursorState,72,14,8,8
   422                        	.member	fontSet,80,142,8,32
   423                        	.member	data,112,129,8,32
   424                        	.eos
   425                        	.stag	_fx_msgbox_t,144,43
   426                        	.member	pos,0,5,8,16
   427                        	.member	selected,16,16,8,16
   428                        	.member	offsetX,32,5,8,16
   429                        	.member	offsetY,48,5,8,16
   430                        	.member	isShifted,64,14,8,8
   431                        	.member	cursorState,72,14,8,8
   432                        	.member	fontSet,80,142,8,32
   433                        	.member	data,112,129,8,32
   434                        	.eos
   435                        	.stag	_fx_menuAnchor_t,272,44
   436                        	.member	pCaption,0,142,8,32
   437                        	.member	renderLayoutX,32,16,8,16
   438                        	.member	renderLayoutY,48,16,8,16
   439                        	.member	captionPixelWidth,64,16,8,16
   440                        	.member	data,80,129,8,32
   441                        	.member	droppedWindow,112,138,8,32,33
   442                        	.member	bytes,144,110,8,0,16
   443                        	.eos
   444                        	.stag	_SubMenuStruct,64,45
   445                        	.member	caption,0,142,8,32
   446                        	.member	action,32,641,8,32
   447                        	.eos
  Sat Jul 10 2021  1:15                                                Page 9


   448                        	.stag	_SubMenuListStruct,40,46
   449                        	.member	cMenus,0,14,8,8
   450                        	.member	psubmenus,8,9354,8,32,45
   451                        	.eos
   452                        	.stag	_fx_ComBuffer,2080,47
   453                        	.member	cbSize,0,16,8,16
   454                        	.member	cbBuffer,16,16,8,16
   455                        	.member	buffer,32,110,8,0,256
   456                        	.eos
   457                        	.stag	_fx_resource_header,72,48
   458                        	.member	magic,0,110,8,0,4
   459                        	.member	major,32,14,8,8
   460                        	.member	minor,40,14,8,8
   461                        	.member	type,48,14,8,8
   462                        	.member	reserved,56,14,8,8
   463                        	.member	resheaderSize,64,14,8,8
   464                        	.eos
   465                        	.stag	_fx_resource_header_font,144,49
   466                        	.member	title,0,110,8,0,16
   467                        	.member	height,128,14,8,8
   468                        	.member	width,136,14,8,8
   469                        	.eos
   470                        	.line	1010
   471                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",8
   472                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstringtable.h",0
   473                        	.line	89
   474                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",9
   475                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256u.h",0
   476                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   477                        	.line	1010
   478                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256u.h",5
   479                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fmx_vicky.h",0
   480                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   481                        	.line	1010
   482                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fmx_vicky.h",11
   483                        	.line	72
   484                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256u.h",6
   485                        	.line	1960
   486                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",16
   487                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",0
   488                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   489                        	.line	30
   490                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",5
   491                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
  Sat Jul 10 2021  1:15                                                Page 10


                    space\FXOSv1\src\fxnode.h",0
   492                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   493                        	.line	1010
   494                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",11
   495                        	.line	114
   496                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",6
   497                        	.stag	_fx_api_call_table,8192,50
   498                        	.member	call_table,0,1121,8,32,256
   499                        	.eos
   500                        	.stag	_fx_zero_page,824,51
   501                        	.member	fxos_mouse_byte_0,0,14,8,8
   502                        	.member	fxos_mouse_byte_1,8,14,8,8
   503                        	.member	fxos_mouse_byte_2,16,14,8,8
   504                        	.member	fxos_mouse_byte_t,24,14,8,8
   505                        	.member	fxos_mouse_byte_x_l,32,14,8,8
   506                        	.member	fxos_mouse_byte_x_h,40,14,8,8
   507                        	.member	fxos_mouse_byte_y_l,48,14,8,8
   508                        	.member	fxos_mouse_byte_y_h,56,14,8,8
   509                        	.member	fxos_key_byte_0,64,14,8,8
   510                        	.member	fxos_key_byte_1,72,14,8,8
   511                        	.member	fxos_key_byte_2,80,14,8,8
   512                        	.member	fxos_mouse_ctl,88,14,8,8
   513                        	.member	fxos_mouse_index,96,14,8,8
   514                        	.member	fxos_mouse_status,104,14,8,8
   515                        	.member	fxos_mouse_dbg_1,112,18,8,32
   516                        	.member	fxos_mouse_dbg_2,144,18,8,32
   517                        	.member	fxos_mouse_dbg_3,176,18,8,32
   518                        	.member	fxos_vicky_byte_0,208,14,8,8
   519                        	.member	fxos_vicky_byte_1,216,14,8,8
   520                        	.member	fxos_vicky_byte_2,224,14,8,8
   521                        	.member	VersionMajor,232,16,8,16
   522                        	.member	VersionMinor,248,16,8,16
   523                        	.member	VersionRelease,264,16,8,16
   524                        	.member	topMemory,280,18,8,32
   525                        	.member	bottomMemory,312,18,8,32
   526                        	.member	availableMemory,344,18,8,32
   527                        	.member	availableMemoryK,376,18,8,32
   528                        	.member	availableHeapMemory,408,18,8,32
   529                        	.member	availableHeapMemoryK,440,18,8,32
   530                        	.member	fxos_console_row,472,16,8,16
   531                        	.member	fxos_console_col,488,16,8,16
   532                        	.member	executive,504,129,8,32
   533                        	.member	eventmanager,536,129,8,32
   534                        	.member	devicemanager,568,129,8,32
   535                        	.member	windowmanager,600,129,8,32
   536                        	.member	fxos_kernel_api,632,138,8,32,50
   537                        	.member	fxos_dos_api,664,138,8,32,50
   538                        	.member	fxos_gfx_api,696,138,8,32,50
   539                        	.member	fxos_gui_api,728,138,8,32,50
   540                        	.member	fxos_con_api,760,138,8,32,50
   541                        	.member	fxos_reserved_2_api,792,138,8,32,50
   542                        	.eos
   543                        	.stag	_fx_environment,96,52
   544                        	.member	variables,0,142,8,32
   545                        	.member	reserved1,32,5,8,16
  Sat Jul 10 2021  1:15                                                Page 11


   546                        	.member	reserved2,48,5,8,16
   547                        	.member	reserved3,64,5,8,16
   548                        	.member	reserved4,80,5,8,16
   549                        	.eos
   550                        	.stag	_debug_byte_bits,8,53
   551                        	.member	bit7,0,14,17,1
   552                        	.member	bit6,1,14,17,1
   553                        	.member	bit5,2,14,17,1
   554                        	.member	bit4,3,14,17,1
   555                        	.member	bit3,4,14,17,1
   556                        	.member	bit2,5,14,17,1
   557                        	.member	bit1,6,14,17,1
   558                        	.member	bit0,7,14,17,1
   559                        	.eos
   560                        	.stag	_k_segmentheader,160,54
   561                        	.member	version_major,0,14,8,8
   562                        	.member	version_minor,8,14,8,8
   563                        	.member	length,16,5,8,16
   564                        	.member	segment_start_addr,32,7,8,32
   565                        	.member	segment_end_addr,64,7,8,32
   566                        	.member	segment_size,96,7,8,32
   567                        	.member	main_entry_addr,128,7,8,32
   568                        	.eos
   569                        	.stag	_fx_device_driver,776,55
   570                        	.member	name,0,110,8,0,32
   571                        	.member	version,256,110,8,0,16
   572                        	.member	hmajor,384,110,8,0,8
   573                        	.member	hminor,448,110,8,0,8
   574                        	.member	type,512,14,8,8
   575                        	.member	designation,520,110,8,0,6
   576                        	.member	reserved_1,568,16,8,16
   577                        	.member	f_driver_irq,584,129,8,32
   578                        	.member	driver_context,616,129,8,32
   579                        	.member	f_driver_load,648,129,8,32
   580                        	.member	f_driver_read,680,129,8,32
   581                        	.member	f_driver_write,712,129,8,32
   582                        	.member	f_driver_unload,744,129,8,32
   583                        	.eos
   584                        	.stag	_fx_block_device_driver,808,56
   585                        	.member	name,0,110,8,0,32
   586                        	.member	version,256,110,8,0,16
   587                        	.member	hmajor,384,110,8,0,8
   588                        	.member	hminor,448,110,8,0,8
   589                        	.member	type,512,14,8,8
   590                        	.member	designation,520,110,8,0,6
   591                        	.member	reserved_1,568,16,8,16
   592                        	.member	f_driver_irq,584,129,8,32
   593                        	.member	driver_context,616,129,8,32
   594                        	.member	f_driver_load,648,129,8,32
   595                        	.member	f_driver_read,680,129,8,32
   596                        	.member	f_driver_write,712,129,8,32
   597                        	.member	f_driver_unload,744,129,8,32
   598                        	.member	f_driver_command,776,129,8,32
   599                        	.eos
   600                        	.line	400
   601                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",22
   602                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
  Sat Jul 10 2021  1:15                                                Page 12


                    space\FXOSv1\src\fxconsole.h",0
   603                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   604                        	.line	134
   605                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",5
   606                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   607                        	.line	205
   608                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",6
   609                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   610                        	.line	1010
   611                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",7
   612                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256u.h",0
   613                        	.line	1960
   614                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",12
   615                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",0
   616                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   617                        	.line	205
   618                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",5
   619                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   620                        	.line	134
   621                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",6
   622                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   623                        	.line	1010
   624                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",7
   625                        	.stag	_fx_string,64,57
   626                        	.member	size,0,16,8,16
   627                        	.member	pos,16,5,8,16
   628                        	.member	buffer,32,142,8,32
   629                        	.eos
   630                        	.line	139
   631                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",17
   632                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",0
   633                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   634                        	.line	30
   635                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",5
   636                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxexec.h",0
   637                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   638                        	.line	1010
  Sat Jul 10 2021  1:15                                                Page 13


   639                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxexec.h",5
   640                        	.stag	_fxos_executive_vtable,128,58
   641                        	.member	Init,0,8833,8,32
   642                        	.member	Configure,32,656,8,32
   643                        	.member	Query,64,656,8,32
   644                        	.member	Uninit,96,641,8,32
   645                        	.eos
   646                        	.line	86
   647                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",6
   648                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   649                        	.line	114
   650                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",7
   651                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",0
   652                        	.line	208
   653                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",8
   654                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",0
   655                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   656                        	.line	30
   657                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",5
   658                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",0
   659                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   660                        	.line	30
   661                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",5
   662                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc_cfg.h",0
   663                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos_build_parameters.h",0
   664                        	.line	35
   665                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc_cfg.h",8
   666                        	.stag	UMM_HEAP_INFO_t,256,59
   667                        	.member	totalEntries,0,18,8,32
   668                        	.member	usedEntries,32,18,8,32
   669                        	.member	freeEntries,64,18,8,32
   670                        	.member	totalBlocks,96,18,8,32
   671                        	.member	usedBlocks,128,18,8,32
   672                        	.member	freeBlocks,160,18,8,32
   673                        	.member	maxFreeContiguousBlocks,192,18,8,32
   674                        	.member	blockSize,224,18,8,32
   675                        	.eos
   676                        	.line	199
   677                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",6
   678                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc.h",0
   679                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
  Sat Jul 10 2021  1:15                                                Page 14


                    space\FXOSv1\src\fxtypes.h",0
   680                        	.line	1010
   681                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc.h",11
   682                        	.line	24
   683                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",7
   684                        	.stag	_fx_memory_map,2072,60
   685                        	.member	availableMemory,0,18,8,32
   686                        	.member	valid_segments,32,110,8,0,255
   687                        	.eos
   688                        	.stag	_fx_ipc_port,144,61
   689                        	.member	id,0,18,8,32
   690                        	.member	type,32,14,8,8
   691                        	.member	name,40,138,8,32,57
   692                        	.member	time,72,18,8,32
   693                        	.member	queue,104,138,8,32,7
   694                        	.member	reserved_1,136,14,8,8
   695                        	.eos
   696                        	.line	105
   697                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",6
   698                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",0
   699                        	.line	564
   700                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",7
   701                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.h",0
   702                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",0
   703                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   704                        	.line	1010
   705                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",6
   706                        	.line	74
   707                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.h",5
   708                        	.stag	_click_detected,64,62
   709                        	.member	window,0,138,8,32,33
   710                        	.member	handler,32,641,8,32
   711                        	.eos
   712                        	.stag	_current_palette_map,400,63
   713                        	.member	CUR_DESKTOP,0,5,8,16
   714                        	.member	CUR_BACKGROUND,16,5,8,16
   715                        	.member	CUR_FONT,32,5,8,16
   716                        	.member	CUR_SELECTED_FONT,48,5,8,16
   717                        	.member	CUR_HIGHLIGHT_COLOR,64,5,8,16
   718                        	.member	CUR_WINDOWFRAME,80,5,8,16
   719                        	.member	CUR_WINDOWBORDER,96,5,8,16
   720                        	.member	CUR_WINDOWSHADOW,112,5,8,16
   721                        	.member	CUR_MENU,128,5,8,16
   722                        	.member	CUR_GADGET,144,5,8,16
   723                        	.member	CUR_COLOR,160,101,8,0,15
   724                        	.eos
   725                        	.line	359
   726                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
  Sat Jul 10 2021  1:15                                                Page 15


                    space\FXOSv1\src\fxwindowmanager.h",8
   727                        	.stag	_fxos_winman_vtable,160,64
   728                        	.member	Events,0,641,8,32
   729                        	.member	ConfigureWindowManager,32,656,8,32
   730                        	.member	ProcessWindowEvent,64,8833,8,32
   731                        	.member	QueryWindowManager,96,656,8,32
   732                        	.member	DoWndProcs,128,641,8,32
   733                        	.eos
   734                        	.stag	fake65_,64,65
   735                        	.member	type,0,16,8,16
   736                        	.member	size,16,16,8,16
   737                        	.member	desktopAction,32,129,8,32
   738                        	.eos
   739                        	.stag	fake66_,96,66
   740                        	.member	type,0,16,8,16
   741                        	.member	caption,16,138,8,32,57
   742                        	.member	buttonType,48,16,8,16
   743                        	.member	x,64,5,8,16
   744                        	.member	y,80,5,8,16
   745                        	.eos
   746                        	.stag	_childMessage_t,64,67
   747                        	.member	msgType,0,16,8,16
   748                        	.member	msgData,16,129,8,32
   749                        	.member	dataSize,48,16,8,16
   750                        	.eos
   751                        	.line	581
   752                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",9
   753                        	.stag	_fx_main_loopvars,16,68
   754                        	.member	dummy,0,5,8,16
   755                        	.eos
   756                        	.stag	_fxMouseMessageData,64,69
   757                        	.member	button1,0,14,8,8
   758                        	.member	button2,8,14,8,8
   759                        	.member	button3,16,14,8,8
   760                        	.member	button4,24,14,8,8
   761                        	.member	x,32,16,8,16
   762                        	.member	y,48,16,8,16
   763                        	.eos
   764                        	.utag	marshalled_data,32,70
   765                        	.member	byteValue,0,14,11,8
   766                        	.member	verbValue,0,110,11,0,2
   767                        	.member	intValue,0,16,11,16
   768                        	.member	longValue,0,18,11,32
   769                        	.member	pointerValue,0,129,11,32
   770                        	.eos
   771                        	.stag	_fx_eventProcess,64,71
   772                        	.member	process,0,138,8,32,20
   773                        	.member	eventProc,32,641,8,32
   774                        	.eos
   775                        	.stag	_mouse_msg_state,184,72
   776                        	.member	lastEvent,0,18,8,32
   777                        	.member	buttonLeftDown,32,14,8,8
   778                        	.member	lastLeftDown,40,18,8,32
   779                        	.member	buttonRightDown,72,14,8,8
   780                        	.member	lastRightDown,80,18,8,32
   781                        	.member	buttonMiddleDown,112,14,8,8
   782                        	.member	lastMiddleDown,120,18,8,32
  Sat Jul 10 2021  1:15                                                Page 16


   783                        	.member	lastX,152,16,8,16
   784                        	.member	lastY,168,16,8,16
   785                        	.eos
   786                        	.stag	_fxos_eventmanager_vtable,192,73
   787                        	.member	EventQueue,0,138,8,32,7
   788                        	.member	Init,32,8833,8,32
   789                        	.member	Run,64,656,8,32
   790                        	.member	Configure,96,656,8,32
   791                        	.member	Query,128,656,8,32
   792                        	.member	Uninit,160,641,8,32
   793                        	.eos
   794                        	.stag	_k_clipboard_data,168,74
   795                        	.member	type,0,14,8,8
   796                        	.member	readable,8,110,8,0,16
   797                        	.member	data,136,129,8,32
   798                        	.eos
   799                        	.line	564
   800                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",18
   801                        	.stag	_fx_spinner_ctx,48,75
   802                        	.member	index,0,5,8,16
   803                        	.member	spinner,16,142,8,32
   804                        	.eos
   805                        	.stag	_fx_console_ctx,1144,76
   806                        	.member	lineBufferIndex,0,5,8,16
   807                        	.member	lineBuffer,16,110,8,0,128
   808                        	.member	isShifted,1040,14,8,8
   809                        	.member	userData,1048,129,8,32
   810                        	.member	screenBuffer,1080,129,8,32
   811                        	.member	Reserved1,1112,129,8,32
   812                        	.eos
   813                        	.stag	_token,64,77
   814                        	.member	type,0,5,8,16
   815                        	.member	depth,16,16,8,16
   816                        	.member	text,32,142,8,32
   817                        	.eos
   818                        	.stag	_command_args,64,78
   819                        	.member	proc,0,656,8,32
   820                        	.member	tokens,32,138,8,32,5
   821                        	.eos
   822                        	.line	208
   823                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",23
   824                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",0
   825                        	.line	139
   826                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",24
   827                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   828                        	.line	114
   829                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",25
   830                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\ff.h",0
   831                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\ffconf.h",0
   832                        	.line	298
  Sat Jul 10 2021  1:15                                                Page 17


   833                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\ff.h",29
   834                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   835                        	.line	1010
   836                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\ff.h",30
   837                        	.stag	fake79_,4504,79
   838                        	.member	fs_type,0,14,8,8
   839                        	.member	pdrv,8,14,8,8
   840                        	.member	n_fats,16,14,8,8
   841                        	.member	wflag,24,14,8,8
   842                        	.member	fsi_flag,32,14,8,8
   843                        	.member	id,40,5,8,16
   844                        	.member	n_rootdir,56,5,8,16
   845                        	.member	csize,72,5,8,16
   846                        	.member	lfnbuf,88,144,8,32
   847                        	.member	last_clst,120,18,8,32
   848                        	.member	free_clst,152,18,8,32
   849                        	.member	n_fatent,184,18,8,32
   850                        	.member	fsize,216,18,8,32
   851                        	.member	volbase,248,18,8,32
   852                        	.member	fatbase,280,18,8,32
   853                        	.member	dirbase,312,18,8,32
   854                        	.member	database,344,18,8,32
   855                        	.member	winsect,376,18,8,32
   856                        	.member	win,408,110,8,0,512
   857                        	.eos
   858                        	.stag	fake80_,128,80
   859                        	.member	fs,0,138,8,32,79
   860                        	.member	id,32,5,8,16
   861                        	.member	attr,48,14,8,8
   862                        	.member	stat,56,14,8,8
   863                        	.member	sclust,64,18,8,32
   864                        	.member	objsize,96,18,8,32
   865                        	.eos
   866                        	.stag	fake81_,4400,81
   867                        	.member	obj,0,10,8,128,80
   868                        	.member	flag,128,14,8,8
   869                        	.member	err,136,14,8,8
   870                        	.member	fptr,144,18,8,32
   871                        	.member	clust,176,18,8,32
   872                        	.member	sect,208,18,8,32
   873                        	.member	dir_sect,240,18,8,32
   874                        	.member	dir_ptr,272,142,8,32
   875                        	.member	buf,304,110,8,0,512
   876                        	.eos
   877                        	.stag	fake82_,416,82
   878                        	.member	obj,0,10,8,128,80
   879                        	.member	dptr,128,18,8,32
   880                        	.member	clust,160,18,8,32
   881                        	.member	sect,192,18,8,32
   882                        	.member	dir,224,142,8,32
   883                        	.member	fn,256,110,8,0,12
   884                        	.member	blk_ofs,352,18,8,32
   885                        	.member	pat,384,142,8,32
   886                        	.eos
   887                        	.stag	fake83_,2224,83
  Sat Jul 10 2021  1:15                                                Page 18


   888                        	.member	fsize,0,18,8,32
   889                        	.member	fdate,32,5,8,16
   890                        	.member	ftime,48,5,8,16
   891                        	.member	fattrib,64,14,8,8
   892                        	.member	altname,72,110,8,0,13
   893                        	.member	fname,176,110,8,0,256
   894                        	.eos
   895                        	.stag	fake84_,80,84
   896                        	.member	fmt,0,14,8,8
   897                        	.member	n_fat,8,14,8,8
   898                        	.member	align,16,16,8,16
   899                        	.member	n_root,32,16,8,16
   900                        	.member	au_size,48,18,8,32
   901                        	.eos
   902                        	.line	429
   903                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",26
   904                        	.line	30
   905                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\drivers\DRIVER_FMXSDCard.c",1
   906                        ;#include "fxdos.h"
   907                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxdos.h",0
   908                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   909                        	.line	1010
   910                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxdos.h",5
   911                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\ff.h",0
   912                        	.line	429
   913                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxdos.h",6
   914                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\diskio.h",0
   915                        	.line	85
   916                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxdos.h",7
   917                        	.stag	_fx_sd_direntry,256,85
   918                        	.member	filename,0,110,8,0,11
   919                        	.member	type,88,14,8,8
   920                        	.member	attrs,96,110,8,0,20
   921                        	.eos
   922                        	.stag	_fx_info,416,86
   923                        	.member	stgName,0,110,8,0,32
   924                        	.member	Reserved1,256,14,8,8
   925                        	.member	stgType,264,16,8,16
   926                        	.member	Reserved2,280,14,8,8
   927                        	.member	stgReserved,288,110,8,0,16
   928                        	.eos
   929                        	.stag	_fx_fileinfo,136,87
   930                        	.member	type,0,14,8,8
   931                        	.member	pFilename,8,142,8,32
   932                        	.member	lSize,40,18,8,32
   933                        	.member	lcreateDate,72,18,8,32
   934                        	.member	lchangeDate,104,18,8,32
   935                        	.eos
   936                        	.stag	_FX_FAT_DIR_INFO,256,88
  Sat Jul 10 2021  1:15                                                Page 19


   937                        	.member	DIR_Name,0,110,8,0,11
   938                        	.member	DIR_Attr,88,14,8,8
   939                        	.member	DIR_NTRes,96,14,8,8
   940                        	.member	DIR_CrtTimeTenth,104,14,8,8
   941                        	.member	DIR_CrtTime,112,16,8,16
   942                        	.member	DIR_CrtDate,128,16,8,16
   943                        	.member	DIR_LstAccDate,144,16,8,16
   944                        	.member	DIR_FstClusHI,160,16,8,16
   945                        	.member	DIR_WrtTime,176,16,8,16
   946                        	.member	DIR_WrtDate,192,16,8,16
   947                        	.member	DIR_FstClusLO,208,16,8,16
   948                        	.member	DIR_FileSize,224,18,8,32
   949                        	.eos
   950                        	.stag	fat_extBS_32,416,89
   951                        	.member	table_size_32,0,18,8,32
   952                        	.member	extended_flags,32,16,8,16
   953                        	.member	fat_version,48,16,8,16
   954                        	.member	root_cluster,64,18,8,32
   955                        	.member	fat_info,96,16,8,16
   956                        	.member	backup_BS_sector,112,16,8,16
   957                        	.member	reserved_0,128,110,8,0,12
   958                        	.member	drive_number,224,14,8,8
   959                        	.member	reserved_1,232,14,8,8
   960                        	.member	boot_signature,240,14,8,8
   961                        	.member	volume_id,248,16,8,16
   962                        	.member	volume_label,264,110,8,0,11
   963                        	.member	fat_type_label,352,110,8,0,8
   964                        	.eos
   965                        	.stag	fat_extBS_16,192,90
   966                        	.member	bios_drive_num,0,14,8,8
   967                        	.member	reserved1,8,14,8,8
   968                        	.member	boot_signature,16,14,8,8
   969                        	.member	volume_id,24,16,8,16
   970                        	.member	volume_label,40,110,8,0,11
   971                        	.member	fat_type_label,128,110,8,0,8
   972                        	.eos
   973                        	.stag	fat_BS,688,91
   974                        	.member	bootjmp,0,110,8,0,3
   975                        	.member	oem_name,24,110,8,0,8
   976                        	.member	bytes_per_sector,88,16,8,16
   977                        	.member	sectors_per_cluster,104,14,8,8
   978                        	.member	reserved_sector_count,112,16,8,16
   979                        	.member	table_count,128,14,8,8
   980                        	.member	root_entry_count,136,16,8,16
   981                        	.member	total_sectors_16,152,16,8,16
   982                        	.member	media_type,168,14,8,8
   983                        	.member	table_size_16,176,16,8,16
   984                        	.member	sectors_per_track,192,16,8,16
   985                        	.member	head_side_count,208,16,8,16
   986                        	.member	hidden_sector_count,224,16,8,16
   987                        	.member	total_sectors_32,240,16,8,16
   988                        	.member	extended_section,256,110,8,0,54
   989                        	.eos
   990                        	.stag	__FATBootSector,928,92
   991                        	.member	bootjmp,0,110,8,0,3
   992                        	.member	oem_name,24,110,8,0,8
   993                        	.member	bytes_per_sector,88,16,8,16
   994                        	.member	sectors_per_cluster,104,14,8,8
  Sat Jul 10 2021  1:15                                                Page 20


   995                        	.member	reserved_sector_count,112,16,8,16
   996                        	.member	fat_table_count,128,14,8,8
   997                        	.member	root_entry_count,136,16,8,16
   998                        	.member	total_sectors_16,152,16,8,16
   999                        	.member	media_type,168,14,8,8
  1000                        	.member	sectors_per_fat,176,16,8,16
  1001                        	.member	sectors_per_track,192,16,8,16
  1002                        	.member	head_side_count,208,16,8,16
  1003                        	.member	hidden_sector_count,224,18,8,32
  1004                        	.member	total_sectors_32,256,18,8,32
  1005                        	.member	drive_number,288,14,8,8
  1006                        	.member	reserved1,296,14,8,8
  1007                        	.member	boot_sig,304,14,8,8
  1008                        	.member	vol_id,312,18,8,32
  1009                        	.member	vol_name,344,110,8,0,11
  1010                        	.member	file_system_type,432,110,8,0,8
  1011                        	.member	extended_section,496,110,8,0,54
  1012                        	.eos
  1013                        	.stag	__PARTITIONTABLE,128,93
  1014                        	.member	first_byte,0,14,8,8
  1015                        	.member	start_chs,8,110,8,0,3
  1016                        	.member	partition_type,32,14,8,8
  1017                        	.member	end_chs,40,110,8,0,3
  1018                        	.member	start_sector,64,18,8,32
  1019                        	.member	length_sectors,96,18,8,32
  1020                        	.eos
  1021                        	.stag	fake94_,4096,94
  1022                        	.member	jmp,0,110,8,0,3
  1023                        	.member	oem,24,110,8,0,8
  1024                        	.member	sector_size,88,15,8,16
  1025                        	.member	sectors_per_cluster,104,14,8,8
  1026                        	.member	reserved_sectors,112,15,8,16
  1027                        	.member	number_ok_dos_fats,128,14,8,8
  1028                        	.member	root_dir_entries,136,15,8,16
  1029                        	.member	total_sectors_short,152,15,8,16
  1030                        	.member	media_descriptor,168,14,8,8
  1031                        	.member	fat_size_sectors,176,15,8,16
  1032                        	.member	sectors_per_track,192,15,8,16
  1033                        	.member	number_ok_dos_heads,208,15,8,16
  1034                        	.member	hidden_sectors,224,18,8,32
  1035                        	.member	total_sectors_long,256,18,8,32
  1036                        	.member	drive_number,288,14,8,8
  1037                        	.member	current_head,296,14,8,8
  1038                        	.member	boot_signature,304,14,8,8
  1039                        	.member	volume_id,312,18,8,32
  1040                        	.member	volume_label,344,110,8,0,11
  1041                        	.member	fs_type,432,110,8,0,8
  1042                        	.member	boot_code,496,110,8,0,448
  1043                        	.member	boot_sector_signature,4080,15,8,16
  1044                        	.eos
  1045                        	.stag	__FAT16ENTRY,256,95
  1046                        	.member	filename,0,110,8,0,8
  1047                        	.member	ext,64,110,8,0,3
  1048                        	.member	attributes,88,14,8,8
  1049                        	.member	reserved,96,110,8,0,10
  1050                        	.member	modify_time,176,16,8,16
  1051                        	.member	modify_date,192,16,8,16
  1052                        	.member	starting_cluster,208,16,8,16
  Sat Jul 10 2021  1:15                                                Page 21


  1053                        	.member	file_size,224,18,8,32
  1054                        	.eos
  1055                        	.stag	__FAT16ENTRYLONG,288,96
  1056                        	.member	filename,0,110,8,0,8
  1057                        	.member	ext,64,110,8,0,3
  1058                        	.member	attributes,88,14,8,8
  1059                        	.member	reserved,96,110,8,0,10
  1060                        	.member	modify_time,176,16,8,16
  1061                        	.member	modify_date,192,16,8,16
  1062                        	.member	starting_cluster,208,16,8,16
  1063                        	.member	file_size,224,18,8,32
  1064                        	.member	plongfileName,256,142,8,32
  1065                        	.eos
  1066                        	.stag	_LongFileName,256,97
  1067                        	.member	sequenceNo,0,14,8,8
  1068                        	.member	fileName_Part1,8,110,8,0,10
  1069                        	.member	fileattribute,88,14,8,8
  1070                        	.member	type,96,14,8,8
  1071                        	.member	checksum,104,14,8,8
  1072                        	.member	fileName_Part2,112,110,8,0,12
  1073                        	.member	fstclusLO,208,5,8,16
  1074                        	.member	fileName_Part3,224,110,8,0,4
  1075                        	.eos
  1076                        	.stag	_IDSECTOR,2048,98
  1077                        	.member	wGenConfig,0,16,8,16
  1078                        	.member	wNumCyls,16,16,8,16
  1079                        	.member	wReserved,32,16,8,16
  1080                        	.member	wNumHeads,48,16,8,16
  1081                        	.member	wBytesPerTrack,64,16,8,16
  1082                        	.member	wBytesPerSector,80,16,8,16
  1083                        	.member	wSectorsPerTrack,96,16,8,16
  1084                        	.member	wVendorUnique,112,112,8,0,3
  1085                        	.member	sSerialNumber,160,110,8,0,20
  1086                        	.member	wBufferType,320,16,8,16
  1087                        	.member	wBufferSize,336,16,8,16
  1088                        	.member	wECCSize,352,16,8,16
  1089                        	.member	sFirmwareRev,368,110,8,0,8
  1090                        	.member	sModelNumber,432,110,8,0,40
  1091                        	.member	wMoreVendorUnique,752,16,8,16
  1092                        	.member	wDoubleWordIO,768,16,8,16
  1093                        	.member	wCapabilities,784,16,8,16
  1094                        	.member	wReserved1,800,16,8,16
  1095                        	.member	wPIOTiming,816,16,8,16
  1096                        	.member	wDMATiming,832,16,8,16
  1097                        	.member	wBS,848,16,8,16
  1098                        	.member	wNumCurrentCyls,864,16,8,16
  1099                        	.member	wNumCurrentHeads,880,16,8,16
  1100                        	.member	wNumCurrentSectorsPerTrack,896,16,8,16
  1101                        	.member	ulCurrentSectorCapacity,912,18,8,32
  1102                        	.member	wMultSectorStuff,944,16,8,16
  1103                        	.member	ulTotalAddressableSectors,960,18,8,32
  1104                        	.member	wSingleWordDMA,992,16,8,16
  1105                        	.member	wMultiWordDMA,1008,16,8,16
  1106                        	.member	bReserved,1024,110,8,0,128
  1107                        	.eos
  1108                        	.stag	fake99_,16,99
  1109                        	.member	Reserved1,0,16,17,1
  1110                        	.member	Retired3,1,16,17,1
  Sat Jul 10 2021  1:15                                                Page 22


  1111                        	.member	ResponseIncomplete,2,16,17,1
  1112                        	.member	Retired2,3,16,17,3
  1113                        	.member	FixedDevice,6,16,17,1
  1114                        	.member	RemovableMedia,7,16,17,1
  1115                        	.member	Retired1,8,16,17,7
  1116                        	.member	DeviceType,15,16,17,1
  1117                        	.eos
  1118                        	.stag	fake100_,16,100
  1119                        	.member	FeatureSupported,0,16,17,1
  1120                        	.member	Reserved,1,16,17,15
  1121                        	.eos
  1122                        	.stag	fake101_,32,101
  1123                        	.member	CurrentLongPhysicalSectorAlignment,0,14,
                    17,2
  1124                        	.member	ReservedByte49,2,14,17,6
  1125                        	.member	DmaSupported,8,14,17,1
  1126                        	.member	LbaSupported,9,14,17,1
  1127                        	.member	IordyDisable,10,14,17,1
  1128                        	.member	IordySupported,11,14,17,1
  1129                        	.member	Reserved1,12,14,17,1
  1130                        	.member	StandybyTimerSupport,13,14,17,1
  1131                        	.member	Reserved2,14,14,17,2
  1132                        	.member	ReservedWord50,16,16,8,16
  1133                        	.eos
  1134                        	.stag	fake102_,16,102
  1135                        	.member	ZonedCapabilities,0,16,17,2
  1136                        	.member	NonVolatileWriteCache,2,16,17,1
  1137                        	.member	ExtendedUserAddressableSectorsSupported,
                    3,16,17,1
  1138                        	.member	DeviceEncryptsAllUserData,4,16,17,1
  1139                        	.member	ReadZeroAfterTrimSupported,5,16,17,1
  1140                        	.member	Optional28BitCommandsSupported,6,16,17,1
  1141                        	.member	IEEE1667,7,16,17,1
  1142                        	.member	DownloadMicrocodeDmaSupported,8,16,17,1
  1143                        	.member	SetMaxSetPasswordUnlockDmaSupported,9,16
                    ,17,1
  1144                        	.member	WriteBufferDmaSupported,10,16,17,1
  1145                        	.member	ReadBufferDmaSupported,11,16,17,1
  1146                        	.member	DeviceConfigIdentifySetDmaSupported,12,1
                    6,17,1
  1147                        	.member	LPSAERCSupported,13,16,17,1
  1148                        	.member	DeterministicReadAfterTrimSupported,14,1
                    6,17,1
  1149                        	.member	CFastSpecSupported,15,16,17,1
  1150                        	.eos
  1151                        	.stag	fake103_,32,103
  1152                        	.member	Reserved0,0,16,17,1
  1153                        	.member	SataGen1,1,16,17,1
  1154                        	.member	SataGen2,2,16,17,1
  1155                        	.member	SataGen3,3,16,17,1
  1156                        	.member	Reserved1,4,16,17,4
  1157                        	.member	NCQ,8,16,17,1
  1158                        	.member	HIPM,9,16,17,1
  1159                        	.member	PhyEvents,10,16,17,1
  1160                        	.member	NcqUnload,11,16,17,1
  1161                        	.member	NcqPriority,12,16,17,1
  1162                        	.member	HostAutoPS,13,16,17,1
  1163                        	.member	DeviceAutoPS,14,16,17,1
  Sat Jul 10 2021  1:15                                                Page 23


  1164                        	.member	ReadLogDMA,15,16,17,1
  1165                        	.member	Reserved2,16,16,17,1
  1166                        	.member	CurrentSpeed,17,16,17,3
  1167                        	.member	NcqStreaming,20,16,17,1
  1168                        	.member	NcqQueueMgmt,21,16,17,1
  1169                        	.member	NcqReceiveSend,22,16,17,1
  1170                        	.member	DEVSLPtoReducedPwrState,23,16,17,1
  1171                        	.member	Reserved3,24,16,17,8
  1172                        	.eos
  1173                        	.stag	fake104_,16,104
  1174                        	.member	Reserved0,0,16,17,1
  1175                        	.member	NonZeroOffsets,1,16,17,1
  1176                        	.member	DmaSetupAutoActivate,2,16,17,1
  1177                        	.member	DIPM,3,16,17,1
  1178                        	.member	InOrderData,4,16,17,1
  1179                        	.member	HardwareFeatureControl,5,16,17,1
  1180                        	.member	SoftwareSettingsPreservation,6,16,17,1
  1181                        	.member	NCQAutosense,7,16,17,1
  1182                        	.member	DEVSLP,8,16,17,1
  1183                        	.member	HybridInformation,9,16,17,1
  1184                        	.member	Reserved1,10,16,17,6
  1185                        	.eos
  1186                        	.stag	fake105_,16,105
  1187                        	.member	Reserved0,0,16,17,1
  1188                        	.member	NonZeroOffsets,1,16,17,1
  1189                        	.member	DmaSetupAutoActivate,2,16,17,1
  1190                        	.member	DIPM,3,16,17,1
  1191                        	.member	InOrderData,4,16,17,1
  1192                        	.member	HardwareFeatureControl,5,16,17,1
  1193                        	.member	SoftwareSettingsPreservation,6,16,17,1
  1194                        	.member	DeviceAutoPS,7,16,17,1
  1195                        	.member	DEVSLP,8,16,17,1
  1196                        	.member	HybridInformation,9,16,17,1
  1197                        	.member	Reserved1,10,16,17,6
  1198                        	.eos
  1199                        	.stag	fake106_,48,106
  1200                        	.member	SmartCommands,0,16,17,1
  1201                        	.member	SecurityMode,1,16,17,1
  1202                        	.member	RemovableMediaFeature,2,16,17,1
  1203                        	.member	PowerManagement,3,16,17,1
  1204                        	.member	Reserved1,4,16,17,1
  1205                        	.member	WriteCache,5,16,17,1
  1206                        	.member	LookAhead,6,16,17,1
  1207                        	.member	ReleaseInterrupt,7,16,17,1
  1208                        	.member	ServiceInterrupt,8,16,17,1
  1209                        	.member	DeviceReset,9,16,17,1
  1210                        	.member	HostProtectedArea,10,16,17,1
  1211                        	.member	Obsolete1,11,16,17,1
  1212                        	.member	WriteBuffer,12,16,17,1
  1213                        	.member	ReadBuffer,13,16,17,1
  1214                        	.member	Nop,14,16,17,1
  1215                        	.member	Obsolete2,15,16,17,1
  1216                        	.member	DownloadMicrocode,16,16,17,1
  1217                        	.member	DmaQueued,17,16,17,1
  1218                        	.member	Cfa,18,16,17,1
  1219                        	.member	AdvancedPm,19,16,17,1
  1220                        	.member	Msn,20,16,17,1
  1221                        	.member	PowerUpInStandby,21,16,17,1
  Sat Jul 10 2021  1:15                                                Page 24


  1222                        	.member	ManualPowerUp,22,16,17,1
  1223                        	.member	Reserved2,23,16,17,1
  1224                        	.member	SetMax,24,16,17,1
  1225                        	.member	Acoustics,25,16,17,1
  1226                        	.member	BigLba,26,16,17,1
  1227                        	.member	DeviceConfigOverlay,27,16,17,1
  1228                        	.member	FlushCache,28,16,17,1
  1229                        	.member	FlushCacheExt,29,16,17,1
  1230                        	.member	WordValid83,30,16,17,2
  1231                        	.member	SmartErrorLog,32,16,17,1
  1232                        	.member	SmartSelfTest,33,16,17,1
  1233                        	.member	MediaSerialNumber,34,16,17,1
  1234                        	.member	MediaCardPassThrough,35,16,17,1
  1235                        	.member	StreamingFeature,36,16,17,1
  1236                        	.member	GpLogging,37,16,17,1
  1237                        	.member	WriteFua,38,16,17,1
  1238                        	.member	WriteQueuedFua,39,16,17,1
  1239                        	.member	WWN64Bit,40,16,17,1
  1240                        	.member	URGReadStream,41,16,17,1
  1241                        	.member	URGWriteStream,42,16,17,1
  1242                        	.member	ReservedForTechReport,43,16,17,2
  1243                        	.member	IdleWithUnloadFeature,45,16,17,1
  1244                        	.member	WordValid,46,16,17,2
  1245                        	.eos
  1246                        	.stag	fake107_,48,107
  1247                        	.member	SmartCommands,0,16,17,1
  1248                        	.member	SecurityMode,1,16,17,1
  1249                        	.member	RemovableMediaFeature,2,16,17,1
  1250                        	.member	PowerManagement,3,16,17,1
  1251                        	.member	Reserved1,4,16,17,1
  1252                        	.member	WriteCache,5,16,17,1
  1253                        	.member	LookAhead,6,16,17,1
  1254                        	.member	ReleaseInterrupt,7,16,17,1
  1255                        	.member	ServiceInterrupt,8,16,17,1
  1256                        	.member	DeviceReset,9,16,17,1
  1257                        	.member	HostProtectedArea,10,16,17,1
  1258                        	.member	Obsolete1,11,16,17,1
  1259                        	.member	WriteBuffer,12,16,17,1
  1260                        	.member	ReadBuffer,13,16,17,1
  1261                        	.member	Nop,14,16,17,1
  1262                        	.member	Obsolete2,15,16,17,1
  1263                        	.member	DownloadMicrocode,16,16,17,1
  1264                        	.member	DmaQueued,17,16,17,1
  1265                        	.member	Cfa,18,16,17,1
  1266                        	.member	AdvancedPm,19,16,17,1
  1267                        	.member	Msn,20,16,17,1
  1268                        	.member	PowerUpInStandby,21,16,17,1
  1269                        	.member	ManualPowerUp,22,16,17,1
  1270                        	.member	Reserved2,23,16,17,1
  1271                        	.member	SetMax,24,16,17,1
  1272                        	.member	Acoustics,25,16,17,1
  1273                        	.member	BigLba,26,16,17,1
  1274                        	.member	DeviceConfigOverlay,27,16,17,1
  1275                        	.member	FlushCache,28,16,17,1
  1276                        	.member	FlushCacheExt,29,16,17,1
  1277                        	.member	Resrved3,30,16,17,1
  1278                        	.member	Words119_120Valid,31,16,17,1
  1279                        	.member	SmartErrorLog,32,16,17,1
  Sat Jul 10 2021  1:15                                                Page 25


  1280                        	.member	SmartSelfTest,33,16,17,1
  1281                        	.member	MediaSerialNumber,34,16,17,1
  1282                        	.member	MediaCardPassThrough,35,16,17,1
  1283                        	.member	StreamingFeature,36,16,17,1
  1284                        	.member	GpLogging,37,16,17,1
  1285                        	.member	WriteFua,38,16,17,1
  1286                        	.member	WriteQueuedFua,39,16,17,1
  1287                        	.member	WWN64Bit,40,16,17,1
  1288                        	.member	URGReadStream,41,16,17,1
  1289                        	.member	URGWriteStream,42,16,17,1
  1290                        	.member	ReservedForTechReport,43,16,17,2
  1291                        	.member	IdleWithUnloadFeature,45,16,17,1
  1292                        	.member	Reserved4,46,16,17,2
  1293                        	.eos
  1294                        	.stag	fake108_,16,108
  1295                        	.member	TimeRequired,0,16,17,15
  1296                        	.member	ExtendedTimeReported,15,16,17,1
  1297                        	.eos
  1298                        	.stag	fake109_,16,109
  1299                        	.member	TimeRequired,0,16,17,15
  1300                        	.member	ExtendedTimeReported,15,16,17,1
  1301                        	.eos
  1302                        	.stag	fake110_,16,110
  1303                        	.member	LogicalSectorsPerPhysicalSector,0,16,17,
                    4
  1304                        	.member	Reserved0,4,16,17,8
  1305                        	.member	LogicalSectorLongerThan256Words,12,16,17
                    ,1
  1306                        	.member	MultipleLogicalSectorsPerPhysicalSector,
                    13,16,17,1
  1307                        	.member	Reserved1,14,16,17,2
  1308                        	.eos
  1309                        	.stag	fake111_,16,111
  1310                        	.member	ReservedForDrqTechnicalReport,0,16,17,1
  1311                        	.member	WriteReadVerify,1,16,17,1
  1312                        	.member	WriteUncorrectableExt,2,16,17,1
  1313                        	.member	ReadWriteLogDmaExt,3,16,17,1
  1314                        	.member	DownloadMicrocodeMode3,4,16,17,1
  1315                        	.member	FreefallControl,5,16,17,1
  1316                        	.member	SenseDataReporting,6,16,17,1
  1317                        	.member	ExtendedPowerConditions,7,16,17,1
  1318                        	.member	Reserved0,8,16,17,6
  1319                        	.member	WordValid,14,16,17,2
  1320                        	.eos
  1321                        	.stag	fake112_,16,112
  1322                        	.member	ReservedForDrqTechnicalReport,0,16,17,1
  1323                        	.member	WriteReadVerify,1,16,17,1
  1324                        	.member	WriteUncorrectableExt,2,16,17,1
  1325                        	.member	ReadWriteLogDmaExt,3,16,17,1
  1326                        	.member	DownloadMicrocodeMode3,4,16,17,1
  1327                        	.member	FreefallControl,5,16,17,1
  1328                        	.member	SenseDataReporting,6,16,17,1
  1329                        	.member	ExtendedPowerConditions,7,16,17,1
  1330                        	.member	Reserved0,8,16,17,6
  1331                        	.member	Reserved1,14,16,17,2
  1332                        	.eos
  1333                        	.stag	fake113_,16,113
  1334                        	.member	SecuritySupported,0,16,17,1
  Sat Jul 10 2021  1:15                                                Page 26


  1335                        	.member	SecurityEnabled,1,16,17,1
  1336                        	.member	SecurityLocked,2,16,17,1
  1337                        	.member	SecurityFrozen,3,16,17,1
  1338                        	.member	SecurityCountExpired,4,16,17,1
  1339                        	.member	EnhancedSecurityEraseSupported,5,16,17,1
  1340                        	.member	Reserved0,6,16,17,2
  1341                        	.member	SecurityLevel,8,16,17,1
  1342                        	.member	Reserved1,9,16,17,7
  1343                        	.eos
  1344                        	.stag	fake114_,16,114
  1345                        	.member	MaximumCurrentInMA,0,16,17,12
  1346                        	.member	CfaPowerMode1Disabled,12,16,17,1
  1347                        	.member	CfaPowerMode1Required,13,16,17,1
  1348                        	.member	Reserved0,14,16,17,1
  1349                        	.member	Word160Supported,15,16,17,1
  1350                        	.eos
  1351                        	.stag	fake115_,16,115
  1352                        	.member	SupportsTrim,0,16,17,1
  1353                        	.member	Reserved0,1,16,17,15
  1354                        	.eos
  1355                        	.stag	fake116_,16,116
  1356                        	.member	Supported,0,16,17,1
  1357                        	.member	Reserved0,1,16,17,1
  1358                        	.member	WriteSameSuported,2,16,17,1
  1359                        	.member	ErrorRecoveryControlSupported,3,16,17,1
  1360                        	.member	FeatureControlSuported,4,16,17,1
  1361                        	.member	DataTablesSuported,5,16,17,1
  1362                        	.member	Reserved1,6,16,17,6
  1363                        	.member	VendorSpecific,12,16,17,4
  1364                        	.eos
  1365                        	.stag	fake117_,16,117
  1366                        	.member	AlignmentOfLogicalWithinPhysical,0,16,17
                    ,14
  1367                        	.member	Word209Supported,14,16,17,1
  1368                        	.member	Reserved0,15,16,17,1
  1369                        	.eos
  1370                        	.stag	fake118_,16,118
  1371                        	.member	NVCachePowerModeEnabled,0,16,17,1
  1372                        	.member	Reserved0,1,16,17,3
  1373                        	.member	NVCacheFeatureSetEnabled,4,16,17,1
  1374                        	.member	Reserved1,5,16,17,3
  1375                        	.member	NVCachePowerModeVersion,8,16,17,4
  1376                        	.member	NVCacheFeatureSetVersion,12,16,17,4
  1377                        	.eos
  1378                        	.stag	fake119_,16,119
  1379                        	.member	NVCacheEstimatedTimeToSpinUpInSeconds,0,
                    14,8,8
  1380                        	.member	Reserved,8,14,8,8
  1381                        	.eos
  1382                        	.stag	fake120_,16,120
  1383                        	.member	MajorVersion,0,16,17,12
  1384                        	.member	TransportType,12,16,17,4
  1385                        	.eos
  1386                        	.stag	_IDENTIFY_DEVICE_DATA,4096,121
  1387                        	.member	GeneralConfiguration,0,10,8,16,99
  1388                        	.member	NumCylinders,16,16,8,16
  1389                        	.member	SpecificConfiguration,32,16,8,16
  1390                        	.member	NumHeads,48,16,8,16
  Sat Jul 10 2021  1:15                                                Page 27


  1391                        	.member	Retired1Bytes,64,110,8,0,4
  1392                        	.member	NumSectorsPerTrack,96,16,8,16
  1393                        	.member	VendorUnique1Bytes,112,110,8,0,6
  1394                        	.member	SerialNumber,160,110,8,0,20
  1395                        	.member	Retired2,320,112,8,0,2
  1396                        	.member	Obsolete1,352,16,8,16
  1397                        	.member	FirmwareRevision,368,110,8,0,8
  1398                        	.member	ModelNumber,432,110,8,0,40
  1399                        	.member	MaximumBlockTransfer,752,14,8,8
  1400                        	.member	VendorUnique2,760,14,8,8
  1401                        	.member	TrustedComputing,768,10,8,16,100
  1402                        	.member	Capabilities,784,10,8,32,101
  1403                        	.member	ObsoleteWords51,816,112,8,0,2
  1404                        	.member	TranslationFieldsValid,848,16,17,3
  1405                        	.member	Reserved3,851,16,17,5
  1406                        	.member	FreeFallControlSensitivity,856,16,17,8
  1407                        	.member	NumberOfCurrentCylinders,864,16,8,16
  1408                        	.member	NumberOfCurrentHeads,880,16,8,16
  1409                        	.member	CurrentSectorsPerTrack,896,16,8,16
  1410                        	.member	CurrentSectorCapacity,912,18,8,32
  1411                        	.member	CurrentMultiSectorSetting,944,14,8,8
  1412                        	.member	MultiSectorSettingValid,952,14,17,1
  1413                        	.member	ReservedByte59,953,14,17,3
  1414                        	.member	SanitizeFeatureSupported,956,14,17,1
  1415                        	.member	CryptoScrambleExtCommandSupported,957,14
                    ,17,1
  1416                        	.member	OverwriteExtCommandSupported,958,14,17,1
  1417                        	.member	BlockEraseExtCommandSupported,959,14,17,
                    1
  1418                        	.member	UserAddressableSectors,960,18,8,32
  1419                        	.member	ObsoleteWord62,992,16,8,16
  1420                        	.member	MultiWordDMASupport,1008,16,17,8
  1421                        	.member	MultiWordDMAActive,1016,16,17,8
  1422                        	.member	AdvancedPIOModes,1024,16,17,8
  1423                        	.member	ReservedByte64,1032,16,17,8
  1424                        	.member	MinimumMWXferCycleTime,1040,16,8,16
  1425                        	.member	RecommendedMWXferCycleTime,1056,16,8,16
  1426                        	.member	MinimumPIOCycleTime,1072,16,8,16
  1427                        	.member	MinimumPIOCycleTimeIORDY,1088,16,8,16
  1428                        	.member	AdditionalSupported,1104,10,8,16,102
  1429                        	.member	ReservedWords70,1120,112,8,0,5
  1430                        	.member	QueueDepth,1200,16,17,5
  1431                        	.member	ReservedWord75,1205,16,17,11
  1432                        	.member	SerialAtaCapabilities,1216,10,8,32,103
  1433                        	.member	SerialAtaFeaturesSupported,1248,10,8,16,
                    104
  1434                        	.member	SerialAtaFeaturesEnabled,1264,10,8,16,10
                    5
  1435                        	.member	MajorRevision,1280,16,8,16
  1436                        	.member	MinorRevision,1296,16,8,16
  1437                        	.member	CommandSetSupport,1312,10,8,48,106
  1438                        	.member	CommandSetActive,1360,10,8,48,107
  1439                        	.member	UltraDMASupport,1408,16,17,8
  1440                        	.member	UltraDMAActive,1416,16,17,8
  1441                        	.member	NormalSecurityEraseUnit,1424,10,8,16,108
  1442                        	.member	EnhancedSecurityEraseUnit,1440,10,8,16,1
                    09
  1443                        	.member	CurrentAPMLevel,1456,16,17,8
  Sat Jul 10 2021  1:15                                                Page 28


  1444                        	.member	ReservedWord91,1464,16,17,8
  1445                        	.member	MasterPasswordID,1472,16,8,16
  1446                        	.member	HardwareResetResult,1488,16,8,16
  1447                        	.member	CurrentAcousticValue,1504,16,17,8
  1448                        	.member	RecommendedAcousticValue,1512,16,17,8
  1449                        	.member	StreamMinRequestSize,1520,16,8,16
  1450                        	.member	StreamingTransferTimeDMA,1536,16,8,16
  1451                        	.member	StreamingAccessLatencyDMAPIO,1552,16,8,1
                    6
  1452                        	.member	StreamingPerfGranularity,1568,18,8,32
  1453                        	.member	Max48BitLBA,1600,114,8,0,2
  1454                        	.member	StreamingTransferTime,1664,16,8,16
  1455                        	.member	DsmCap,1680,16,8,16
  1456                        	.member	PhysicalLogicalSectorSize,1696,10,8,16,1
                    10
  1457                        	.member	InterSeekDelay,1712,16,8,16
  1458                        	.member	WorldWideName,1728,112,8,0,4
  1459                        	.member	ReservedForWorldWideName128,1792,112,8,0
                    ,4
  1460                        	.member	ReservedForTlcTechnicalReport,1856,16,8,
                    16
  1461                        	.member	WordsPerLogicalSector,1872,112,8,0,2
  1462                        	.member	CommandSetSupportExt,1904,10,8,16,111
  1463                        	.member	CommandSetActiveExt,1920,10,8,16,112
  1464                        	.member	ReservedForExpandedSupportandActive,1936
                    ,112,8,0,6
  1465                        	.member	MsnSupport,2032,16,17,2
  1466                        	.member	ReservedWord127,2034,16,17,14
  1467                        	.member	SecurityStatus,2048,10,8,16,113
  1468                        	.member	ReservedWord129,2064,112,8,0,31
  1469                        	.member	CfaPowerMode1,2560,10,8,16,114
  1470                        	.member	ReservedForCfaWord161,2576,112,8,0,7
  1471                        	.member	NominalFormFactor,2688,16,17,4
  1472                        	.member	ReservedWord168,2692,16,17,12
  1473                        	.member	DataSetManagementFeature,2704,10,8,16,11
                    5
  1474                        	.member	AdditionalProductID,2720,112,8,0,4
  1475                        	.member	ReservedForCfaWord174,2784,112,8,0,2
  1476                        	.member	CurrentMediaSerialNumber,2816,112,8,0,30
  1477                        	.member	SCTCommandTransport,3296,10,8,16,116
  1478                        	.member	ReservedWord207,3312,112,8,0,2
  1479                        	.member	BlockAlignment,3344,10,8,16,117
  1480                        	.member	WriteReadVerifySectorCountMode3Only,3360
                    ,112,8,0,2
  1481                        	.member	WriteReadVerifySectorCountMode2Only,3392
                    ,112,8,0,2
  1482                        	.member	NVCacheCapabilities,3424,10,8,16,118
  1483                        	.member	NVCacheSizeLSW,3440,16,8,16
  1484                        	.member	NVCacheSizeMSW,3456,16,8,16
  1485                        	.member	NominalMediaRotationRate,3472,16,8,16
  1486                        	.member	ReservedWord218,3488,16,8,16
  1487                        	.member	NVCacheOptions,3504,10,8,16,119
  1488                        	.member	WriteReadVerifySectorCountMode,3520,16,1
                    7,8
  1489                        	.member	ReservedWord220,3528,16,17,8
  1490                        	.member	ReservedWord221,3536,16,8,16
  1491                        	.member	TransportMajorVersion,3552,10,8,16,120
  1492                        	.member	TransportMinorVersion,3568,16,8,16
  Sat Jul 10 2021  1:15                                                Page 29


  1493                        	.member	ReservedWord224,3584,112,8,0,6
  1494                        	.member	ExtendedNumberOfUserAddressableSectors,3
                    680,114,8,0,2
  1495                        	.member	MinBlocksPerDownloadMicrocodeMode03,3744
                    ,16,8,16
  1496                        	.member	MaxBlocksPerDownloadMicrocodeMode03,3760
                    ,16,8,16
  1497                        	.member	ReservedWord236,3776,112,8,0,19
  1498                        	.member	Signature,4080,16,17,8
  1499                        	.member	CheckSum,4088,16,17,8
  1500                        	.eos
  1501                        	.stag	_FXDosDevice,5744,122
  1502                        	.member	type,0,14,8,8
  1503                        	.member	initialized,8,14,8,8
  1504                        	.member	devdata,16,129,8,32
  1505                        	.member	devstatus,48,14,8,8
  1506                        	.member	bootSector,56,10,8,928,92
  1507                        	.member	partitionTable,984,10,8,128,93
  1508                        	.member	fileAllocationTable,1112,110,8,0,512
  1509                        	.member	bsOffset,5208,18,8,32
  1510                        	.member	rootDirSectors,5240,18,8,32
  1511                        	.member	root_entry_count,5272,5,8,16
  1512                        	.member	rootEntriesPerPage,5288,5,8,16
  1513                        	.member	sectors_per_cluster,5304,5,8,16
  1514                        	.member	firstDataSector,5320,18,8,32
  1515                        	.member	fatTableOffset,5352,18,8,32
  1516                        	.member	volume_name,5384,110,8,0,12
  1517                        	.member	root_volume_name,5480,110,8,0,12
  1518                        	.member	errorCode,5576,14,8,8
  1519                        	.member	pfInit,5584,641,8,32
  1520                        	.member	pfReset,5616,641,8,32
  1521                        	.member	pfUninit,5648,641,8,32
  1522                        	.member	pfReader,5680,654,8,32
  1523                        	.member	pfWriter,5712,654,8,32
  1524                        	.eos
  1525                        	.utag	item,32,123
  1526                        	.member	dir,0,138,11,32,82
  1527                        	.member	file,0,138,11,32,81
  1528                        	.member	fileInfo,0,138,11,32,83
  1529                        	.eos
  1530                        	.stag	_dos_handle,80,124
  1531                        	.member	fs,0,138,8,32,79
  1532                        	.member	fr,32,5,8,16
  1533                        	.member	path,48,142,8,32
  1534                        	.eos
  1535                        	.line	800
  1536                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\drivers\DRIVER_FMXSDCard.c",2
  1537                        ;#include "fxmemorymanager.h"
  1538                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",0
  1539                        	.line	105
  1540                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\drivers\DRIVER_FMXSDCard.c",3
  1541                        ;
  1542                        ;
  1543                        ;#include "drivers/DRIVER_SDC.h"
  1544                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
  Sat Jul 10 2021  1:15                                                Page 30


                    space\FXOSv1\src\drivers/DRIVER_SDC.h",0
  1545                        SDCS05	section	offset $04:1DB0
  1546 04:1DB0:              	ends
  1547                        	data
  1548                        ~~_k_driver_base:
  1549 00:0000: B0 1D 04 00  	dl	$41DB0
  1550 00:0004:              	ends
  1551                        	.line	7
  1552                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\drivers\DRIVER_FMXSDCard.c",6
  1553                        ;//#pragma section CODE=FMXSDCard,offset $08:A500
  1554                        ;
  1555                        ;UCHAR k_sd_initialize(void);
  1556                        ;BOOL  k_pc_initialize(void);
  1557                        ;UCHAR k_read_sd_sector(unsigned long offset,LPCHA
                    R receiveBuffer);
  1558                        ;UCHAR k_write_sd_sector(unsigned long offset,LPCH
                    AR receiveBuffer);
  1559                        ;UCHAR k_read_sd_command(UINT command,LPVOID buffe
                    r);
  1560                        ;
  1561                        ;static FX_BLOCK_DEVICE_DRIVER DRIVER_FMXSDCard = 
                    {
  1562                        	data
  1563                        ~~DRIVER_FMXSDCard:
  1564                        ;							
                    				"DRIVER_FMXSDCard\0",
  1565 00:0004: 44 52 49 56  	db	$44,$52,$49,$56,$45,$52,$5F,$46,$4D,$58
       00:0008: 45 52 5F 46 
       00:000C: 4D 58 
  1566 00:000E: 53 44 43 61  	db	$53,$44,$43,$61,$72,$64,$0,$0
       00:0012: 72 64 00 00 
  1567 00:0016:              	ds	14
  1568                        ;							
                    				"v1.0.0\0",
  1569 00:0024: 76 31 2E 30  	db	$76,$31,$2E,$30,$2E,$30,$0,$0
       00:0028: 2E 30 00 00 
  1570 00:002C:              	ds	8
  1571                        ;							
                    				"A\0",//"C\0",
  1572 00:0034: 41 00 00     	db	$41,$0,$0
  1573 00:0037:              	ds	5
  1574                        ;							
                    				"1\0",//"4\0",
  1575 00:003C: 31 00 00     	db	$31,$0,$0
  1576 00:003F:              	ds	5
  1577                        ;							
                    				DRIVER_TYPE_SDCARD,
  1578 00:0044: 06           	db	$6
  1579                        ;							
                    				"SD:\0",
  1580 00:0045: 53 44 3A 00  	db	$53,$44,$3A,$0,$0
       00:0049: 00 
  1581 00:004A:              	ds	1
  1582                        ;							
                    				0,
  1583 00:004B: 00 00        	dw	$0
  1584                        ;							
  Sat Jul 10 2021  1:15                                                Page 31


                    				NULL,
  1585 00:004D: 00 00 00 00  	dl	$0
  1586                        ;							
                    				NULL,
  1587 00:0051: 00 00 00 00  	dl	$0
  1588                        ;							
                    				k_sd_initialize,
  1589 00:0055: 08 21 04 00  	dl	~~k_sd_initialize
  1590                        ;							
                    				k_read_sd_sector,
  1591 00:0059: 37 1E 04 00  	dl	~~k_read_sd_sector
  1592                        ;							
                    				k_write_sd_sector,
  1593 00:005D: 0E 1F 04 00  	dl	~~k_write_sd_sector
  1594                        ;							
                    				NULL,
  1595 00:0061: 00 00 00 00  	dl	$0
  1596                        ;							
                    				k_read_sd_command
  1597                        ;							
                    	          };
  1598 00:0065: 1A 1E 04 00  	dl	~~k_read_sd_command
  1599 00:0069:              	ends
  1600                        ;
  1601                        ;PFX_DEVICE_DRIVER DEVICE_SD = &DRIVER_FMXSDCard;
  1602                        	data
  1603                        	xdef	~~DEVICE_SD
  1604                        ~~DEVICE_SD:
  1605 00:0069: xx xx xx xx  	dl	~~DRIVER_FMXSDCard
  1606 00:006D:              	ends
  1607                        ;
  1608                        ;static PFX_DEVICE_DRIVER f_get_driver(LPCSTR majo
                    r,LPCSTR minor)
  1609                        ;{
  1610                        	.line	34
  1611                        	.line	35
  1612                        	SDCS05
  1613                        	func
  1614                        	.function	35
  1615                        ~~f_get_driver:
  1616                        	longa	on
  1617                        	longi	on
  1618 04:1DB0: 3B           	tsc
  1619 04:1DB1: 38           	sec
  1620 04:1DB2: E9 04 00     	sbc	#L2
  1621 04:1DB5: 1B           	tcs
  1622 04:1DB6: 0B           	phd
  1623 04:1DB7: 5B           	tcd
  1624             00000004   major_0	set	4
  1625             00000008   minor_0	set	8
  1626                        	.block	35
  1627                        ;	return &DRIVER_FMXSDCard;
  1628                        	.sym	major,4,142,6,32
  1629                        	.sym	minor,8,142,6,32
  1630                        	.line	36
  1631 04:1DB8: A9 xx xx     	lda	#<~~DRIVER_FMXSDCard
  1632 04:1DBB: 85 01        	sta	<R0
  1633                        	xref	_BEG_DATA
  Sat Jul 10 2021  1:15                                                Page 32


  1634 04:1DBD: A9 xx xx     	lda	#_BEG_DATA>>16
  1635 04:1DC0: 85 03        	sta	<R0+2
  1636 04:1DC2: A6 03        	ldx	<R0+2
  1637 04:1DC4: A5 01        	lda	<R0
  1638                        L5:
  1639 04:1DC6: A8           	tay
  1640 04:1DC7: A5 06        	lda	<L2+2
  1641 04:1DC9: 85 0E        	sta	<L2+2+8
  1642 04:1DCB: A5 05        	lda	<L2+1
  1643 04:1DCD: 85 0D        	sta	<L2+1+8
  1644 04:1DCF: 2B           	pld
  1645 04:1DD0: 3B           	tsc
  1646 04:1DD1: 18           	clc
  1647 04:1DD2: 69 0C 00     	adc	#L2+8
  1648 04:1DD5: 1B           	tcs
  1649 04:1DD6: 98           	tya
  1650 04:1DD7: 6B           	rtl
  1651                        ;}
  1652                        	.line	37
  1653                        	.endblock	37
  1654             00000004   L2	equ	4
  1655             00000005   L3	equ	5
  1656 04:1DD8:              	ends
  1657                        	efunc
  1658                        	.endfunc	37,5,4
  1659                        	.line	37
  1660                        ;
  1661                        ;#if defined(USE_FX256_FMX) || defined(USE_FX256_U
                    )
  1662                        ;
  1663                        ;VOID k_sd_reset(VOID)
  1664                        ;{
  1665                        	.line	41
  1666                        	.line	42
  1667                        	SDCS05
  1668                        	xdef	~~k_sd_reset
  1669                        	func
  1670                        	.function	42
  1671                        ~~k_sd_reset:
  1672                        	longa	on
  1673                        	longi	on
  1674 04:1DD8: 3B           	tsc
  1675 04:1DD9: 38           	sec
  1676 04:1DDA: E9 01 00     	sbc	#L6
  1677 04:1DDD: 1B           	tcs
  1678 04:1DDE: 0B           	phd
  1679 04:1DDF: 5B           	tcd
  1680                        	.block	42
  1681                        ;	BYTE s = 0;
  1682                        ;
  1683                        ;	SDC_CONTROL_REG[0] = 1;
  1684             00000000   s_1	set	0
  1685                        	.sym	s,0,14,1,8
  1686 04:1DE0: E2 20        	sep	#$20
  1687                        	longa	off
  1688 04:1DE2: 64 01        	stz	<L7+s_1
  1689 04:1DE4: C2 20        	rep	#$20
  1690                        	longa	on
  Sat Jul 10 2021  1:15                                                Page 33


  1691                        	.line	45
  1692 04:1DE6: E2 20        	sep	#$20
  1693                        	longa	off
  1694 04:1DE8: A9 01        	lda	#$1
  1695 04:1DEA: 8F 01 EA AF  	sta	>11528705
  1696 04:1DEE: C2 20        	rep	#$20
  1697                        	longa	on
  1698                        ;
  1699                        ;	s = SDC_TRANS_BUSY;
  1700                        	.line	47
  1701 04:1DF0: E2 20        	sep	#$20
  1702                        	longa	off
  1703 04:1DF2: A9 01        	lda	#$1
  1704 04:1DF4: 85 01        	sta	<L7+s_1
  1705 04:1DF6: C2 20        	rep	#$20
  1706                        	longa	on
  1707                        ;	while(s & SDC_TRANS_BUSY)
  1708                        	.line	48
  1709                        L10001:
  1710 04:1DF8: E2 20        	sep	#$20
  1711                        	longa	off
  1712 04:1DFA: A5 01        	lda	<L7+s_1
  1713 04:1DFC: 29 01        	and	#<$1
  1714 04:1DFE: C2 20        	rep	#$20
  1715                        	longa	on
  1716 04:1E00: D0 03        	bne	L9
  1717 04:1E02: 82 0D 00     	brl	L10002
  1718                        L9:
  1719                        ;	{
  1720                        	.line	49
  1721                        ;		s = SDC_TRANS_STATUS_REG[0];
  1722                        	.line	50
  1723 04:1E05: E2 20        	sep	#$20
  1724                        	longa	off
  1725 04:1E07: AF 04 EA AF  	lda	>11528708
  1726 04:1E0B: 85 01        	sta	<L7+s_1
  1727 04:1E0D: C2 20        	rep	#$20
  1728                        	longa	on
  1729                        ;	}
  1730                        	.line	51
  1731 04:1E0F: 82 E6 FF     	brl	L10001
  1732                        L10002:
  1733                        ;}
  1734                        	.line	52
  1735                        L10:
  1736 04:1E12: 2B           	pld
  1737 04:1E13: 3B           	tsc
  1738 04:1E14: 18           	clc
  1739 04:1E15: 69 01 00     	adc	#L6
  1740 04:1E18: 1B           	tcs
  1741 04:1E19: 6B           	rtl
  1742                        	.endblock	52
  1743             00000001   L6	equ	1
  1744             00000001   L7	equ	1
  1745 04:1E1A:              	ends
  1746                        	efunc
  1747                        	.endfunc	52,1,1
  1748                        	.line	52
  Sat Jul 10 2021  1:15                                                Page 34


  1749                        ;
  1750                        ;UCHAR k_read_sd_command(UINT command,LPVOID buffe
                    r)
  1751                        ;{
  1752                        	.line	54
  1753                        	.line	55
  1754                        	SDCS05
  1755                        	xdef	~~k_read_sd_command
  1756                        	func
  1757                        	.function	55
  1758                        ~~k_read_sd_command:
  1759                        	longa	on
  1760                        	longi	on
  1761 04:1E1A: 3B           	tsc
  1762 04:1E1B: 38           	sec
  1763 04:1E1C: E9 00 00     	sbc	#L11
  1764 04:1E1F: 1B           	tcs
  1765 04:1E20: 0B           	phd
  1766 04:1E21: 5B           	tcd
  1767             00000004   command_0	set	4
  1768             00000006   buffer_0	set	6
  1769                        	.block	55
  1770                        ;	return 0;
  1771                        	.sym	command,4,16,6,16
  1772                        	.sym	buffer,6,129,6,32
  1773                        	.line	56
  1774 04:1E22: A9 00 00     	lda	#$0
  1775                        L14:
  1776 04:1E25: A8           	tay
  1777 04:1E26: A5 02        	lda	<L11+2
  1778 04:1E28: 85 08        	sta	<L11+2+6
  1779 04:1E2A: A5 01        	lda	<L11+1
  1780 04:1E2C: 85 07        	sta	<L11+1+6
  1781 04:1E2E: 2B           	pld
  1782 04:1E2F: 3B           	tsc
  1783 04:1E30: 18           	clc
  1784 04:1E31: 69 06 00     	adc	#L11+6
  1785 04:1E34: 1B           	tcs
  1786 04:1E35: 98           	tya
  1787 04:1E36: 6B           	rtl
  1788                        ;}
  1789                        	.line	57
  1790                        	.endblock	57
  1791             00000000   L11	equ	0
  1792             00000001   L12	equ	1
  1793 04:1E37:              	ends
  1794                        	efunc
  1795                        	.endfunc	57,1,0
  1796                        	.line	57
  1797                        ;
  1798                        ;UCHAR k_read_sd_sector(unsigned long offset,LPCHA
                    R receiveBuffer)
  1799                        ;{
  1800                        	.line	59
  1801                        	.line	60
  1802                        	SDCS05
  1803                        	xdef	~~k_read_sd_sector
  1804                        	func
  Sat Jul 10 2021  1:15                                                Page 35


  1805                        	.function	60
  1806                        ~~k_read_sd_sector:
  1807                        	longa	on
  1808                        	longi	on
  1809 04:1E37: 3B           	tsc
  1810 04:1E38: 38           	sec
  1811 04:1E39: E9 10 00     	sbc	#L15
  1812 04:1E3C: 1B           	tcs
  1813 04:1E3D: 0B           	phd
  1814 04:1E3E: 5B           	tcd
  1815             00000004   offset_0	set	4
  1816             00000008   receiveBuffer_0	set	8
  1817                        	.block	60
  1818                        ;	UCHAR	errorCode = 0;
  1819                        ;	UCHAR	s;
  1820                        ;	UCHAR	fifoLO;
  1821                        ;	UCHAR	fifoHI;
  1822                        ;	UINT	size;
  1823                        ;	UINT	x;
  1824                        ;
  1825                        ;	//if(k_user_IsOSDebug())
  1826                        ;	//k_debug_long("k_read_sd_sector offset:",offset
                    );
  1827                        ;
  1828                        ;	*((unsigned long*)(&SDC_SD_ADDR_7_0_REG[0])) = o
                    ffset;
  1829             00000000   errorCode_1	set	0
  1830             00000001   s_1	set	1
  1831             00000002   fifoLO_1	set	2
  1832             00000003   fifoHI_1	set	3
  1833             00000004   size_1	set	4
  1834             00000006   x_1	set	6
  1835                        	.sym	errorCode,0,14,1,8
  1836                        	.sym	s,1,14,1,8
  1837                        	.sym	fifoLO,2,14,1,8
  1838                        	.sym	fifoHI,3,14,1,8
  1839                        	.sym	size,4,16,1,16
  1840                        	.sym	x,6,16,1,16
  1841                        	.sym	offset,4,18,6,32
  1842                        	.sym	receiveBuffer,8,142,6,32
  1843 04:1E3F: E2 20        	sep	#$20
  1844                        	longa	off
  1845 04:1E41: 64 09        	stz	<L16+errorCode_1
  1846 04:1E43: C2 20        	rep	#$20
  1847                        	longa	on
  1848                        	.line	71
  1849 04:1E45: A5 14        	lda	<L15+offset_0
  1850 04:1E47: 8F 07 EA AF  	sta	>11528711
  1851 04:1E4B: A5 16        	lda	<L15+offset_0+2
  1852 04:1E4D: 8F 09 EA AF  	sta	>11528711+2
  1853                        ;
  1854                        ;	SDC_TRANS_TYPE_REG[0]    = SDC_TRANS_READ_BLK;
  1855                        	.line	73
  1856 04:1E51: E2 20        	sep	#$20
  1857                        	longa	off
  1858 04:1E53: A9 02        	lda	#$2
  1859 04:1E55: 8F 02 EA AF  	sta	>11528706
  1860 04:1E59: C2 20        	rep	#$20
  Sat Jul 10 2021  1:15                                                Page 36


  1861                        	longa	on
  1862                        ;	SDC_TRANS_CONTROL_REG[0] = SDC_TRANS_START;
  1863                        	.line	74
  1864 04:1E5B: E2 20        	sep	#$20
  1865                        	longa	off
  1866 04:1E5D: A9 01        	lda	#$1
  1867 04:1E5F: 8F 03 EA AF  	sta	>11528707
  1868 04:1E63: C2 20        	rep	#$20
  1869                        	longa	on
  1870                        ;
  1871                        ;	s = SDC_TRANS_BUSY;
  1872                        	.line	76
  1873 04:1E65: E2 20        	sep	#$20
  1874                        	longa	off
  1875 04:1E67: A9 01        	lda	#$1
  1876 04:1E69: 85 0A        	sta	<L16+s_1
  1877 04:1E6B: C2 20        	rep	#$20
  1878                        	longa	on
  1879                        ;	while(s & SDC_TRANS_BUSY)
  1880                        	.line	77
  1881                        L10003:
  1882 04:1E6D: E2 20        	sep	#$20
  1883                        	longa	off
  1884 04:1E6F: A5 0A        	lda	<L16+s_1
  1885 04:1E71: 29 01        	and	#<$1
  1886 04:1E73: C2 20        	rep	#$20
  1887                        	longa	on
  1888 04:1E75: D0 03        	bne	L18
  1889 04:1E77: 82 0D 00     	brl	L10004
  1890                        L18:
  1891                        ;	{
  1892                        	.line	78
  1893                        ;		s = SDC_TRANS_STATUS_REG[0];
  1894                        	.line	79
  1895 04:1E7A: E2 20        	sep	#$20
  1896                        	longa	off
  1897 04:1E7C: AF 04 EA AF  	lda	>11528708
  1898 04:1E80: 85 0A        	sta	<L16+s_1
  1899 04:1E82: C2 20        	rep	#$20
  1900                        	longa	on
  1901                        ;	}
  1902                        	.line	80
  1903 04:1E84: 82 E6 FF     	brl	L10003
  1904                        L10004:
  1905                        ;
  1906                        ;	fifoLO = SDC_RX_FIFO_DATA_CNT_LO[0];
  1907                        	.line	82
  1908 04:1E87: E2 20        	sep	#$20
  1909                        	longa	off
  1910 04:1E89: AF 13 EA AF  	lda	>11528723
  1911 04:1E8D: 85 0B        	sta	<L16+fifoLO_1
  1912 04:1E8F: C2 20        	rep	#$20
  1913                        	longa	on
  1914                        ;	fifoHI = SDC_RX_FIFO_DATA_CNT_HI[0];
  1915                        	.line	83
  1916 04:1E91: E2 20        	sep	#$20
  1917                        	longa	off
  1918 04:1E93: AF 12 EA AF  	lda	>11528722
  Sat Jul 10 2021  1:15                                                Page 37


  1919 04:1E97: 85 0C        	sta	<L16+fifoHI_1
  1920 04:1E99: C2 20        	rep	#$20
  1921                        	longa	on
  1922                        ;
  1923                        ;	size = MAKEWORD(fifoLO,fifoHI);
  1924                        	.line	85
  1925 04:1E9B: A5 0C        	lda	<L16+fifoHI_1
  1926 04:1E9D: 29 FF 00     	and	#$ff
  1927 04:1EA0: 85 05        	sta	<R1
  1928 04:1EA2: A5 05        	lda	<R1
  1929 04:1EA4: EB           	xba
  1930 04:1EA5: 29 00 FF     	and	#$ff00
  1931 04:1EA8: 85 01        	sta	<R0
  1932 04:1EAA: A5 0B        	lda	<L16+fifoLO_1
  1933 04:1EAC: 29 FF 00     	and	#$ff
  1934 04:1EAF: 85 05        	sta	<R1
  1935 04:1EB1: A5 05        	lda	<R1
  1936 04:1EB3: 05 01        	ora	<R0
  1937 04:1EB5: 85 0D        	sta	<L16+size_1
  1938                        ;
  1939                        ;	//k_debug_integer("readSDSector size:",size);
  1940                        ;
  1941                        ;	for(x=0;x<SDC_BUFFER_SIZE;x++)
  1942                        	.line	89
  1943 04:1EB7: 64 0F        	stz	<L16+x_1
  1944                        L10007:
  1945                        ;	{
  1946                        	.line	90
  1947                        ;		receiveBuffer[x] = SDC_RX_FIFO_DATA_REG[
                    0];
  1948                        	.line	91
  1949 04:1EB9: E2 20        	sep	#$20
  1950                        	longa	off
  1951 04:1EBB: AF 10 EA AF  	lda	>11528720
  1952 04:1EBF: A4 0F        	ldy	<L16+x_1
  1953 04:1EC1: 97 18        	sta	[<L15+receiveBuffer_0],Y
  1954 04:1EC3: C2 20        	rep	#$20
  1955                        	longa	on
  1956                        ;	}
  1957                        	.line	92
  1958                        L10005:
  1959 04:1EC5: E6 0F        	inc	<L16+x_1
  1960 04:1EC7: A5 0F        	lda	<L16+x_1
  1961 04:1EC9: C9 00 02     	cmp	#<$200
  1962 04:1ECC: B0 03        	bcs	L19
  1963 04:1ECE: 82 E8 FF     	brl	L10007
  1964                        L19:
  1965                        L10006:
  1966                        ;	//k_debug_byte_array("k_read_sd_sector:",receive
                    Buffer,512);
  1967                        ;
  1968                        ;	errorCode = SDC_TRANS_ERROR_REG[0] & 0x0C;
  1969                        	.line	95
  1970 04:1ED1: E2 20        	sep	#$20
  1971                        	longa	off
  1972 04:1ED3: AF 05 EA AF  	lda	>11528709
  1973 04:1ED7: 29 0C        	and	#<$c
  1974 04:1ED9: 85 09        	sta	<L16+errorCode_1
  Sat Jul 10 2021  1:15                                                Page 38


  1975 04:1EDB: C2 20        	rep	#$20
  1976                        	longa	on
  1977                        ;
  1978                        ;	if(errorCode)
  1979                        	.line	97
  1980                        ;	{
  1981 04:1EDD: A5 09        	lda	<L16+errorCode_1
  1982 04:1EDF: 29 FF 00     	and	#$ff
  1983 04:1EE2: D0 03        	bne	L20
  1984 04:1EE4: 82 10 00     	brl	L10008
  1985                        L20:
  1986                        	.line	98
  1987                        ;		k_debug_integer("k_read_sd_sector errorC
                    ode:",errorCode);
  1988                        	.line	99
  1989 04:1EE7: A5 09        	lda	<L16+errorCode_1
  1990 04:1EE9: 29 FF 00     	and	#$ff
  1991 04:1EEC: 48           	pha
  1992 04:1EED: F4 xx xx     	pea	#^L1
  1993 04:1EF0: F4 xx xx     	pea	#<L1
  1994 04:1EF3: 22 xx xx xx  	jsl	~~k_debug_integer
  1995                        ;	}
  1996                        	.line	100
  1997                        ;	//if(k_user_IsOSDebug())
  1998                        ;	//k_debug_integer("k_read_sd_sector errorCode:",
                    errorCode);
  1999                        ;
  2000                        ;	//k_debug_byte_array("readSDSector::data:",recei
                    veBuffer,512);
  2001                        ;
  2002                        ;	return errorCode;
  2003                        L10008:
  2004                        	.line	106
  2005 04:1EF7: A5 09        	lda	<L16+errorCode_1
  2006 04:1EF9: 29 FF 00     	and	#$ff
  2007                        L21:
  2008 04:1EFC: A8           	tay
  2009 04:1EFD: A5 12        	lda	<L15+2
  2010 04:1EFF: 85 1A        	sta	<L15+2+8
  2011 04:1F01: A5 11        	lda	<L15+1
  2012 04:1F03: 85 19        	sta	<L15+1+8
  2013 04:1F05: 2B           	pld
  2014 04:1F06: 3B           	tsc
  2015 04:1F07: 18           	clc
  2016 04:1F08: 69 18 00     	adc	#L15+8
  2017 04:1F0B: 1B           	tcs
  2018 04:1F0C: 98           	tya
  2019 04:1F0D: 6B           	rtl
  2020                        ;}
  2021                        	.line	107
  2022                        	.endblock	107
  2023             00000010   L15	equ	16
  2024             00000009   L16	equ	9
  2025 04:1F0E:              	ends
  2026                        	efunc
  2027                        	.endfunc	107,9,16
  2028                        	.line	107
  2029                        	data
  Sat Jul 10 2021  1:15                                                Page 39


  2030                        L1:
  2031 00:006D: 6B 5F 72 65  	db	$6B,$5F,$72,$65,$61,$64,$5F,$73,$64,$5F,
                    $73,$65,$63,$74,$6F
       00:0071: 61 64 5F 73 
       00:0075: 64 5F 73 65 
       00:0079: 63 74 6F 
  2032 00:007C: 72 20 65 72  	db	$72,$20,$65,$72,$72,$6F,$72,$43,$6F,$64,
                    $65,$3A,$00
       00:0080: 72 6F 72 43 
       00:0084: 6F 64 65 3A 
       00:0088: 00 
  2033 00:0089:              	ends
  2034                        ;
  2035                        ;UCHAR k_write_sd_sector(unsigned long offset,LPCH
                    AR sendBuffer)
  2036                        ;{
  2037                        	.line	109
  2038                        	.line	110
  2039                        	SDCS05
  2040                        	xdef	~~k_write_sd_sector
  2041                        	func
  2042                        	.function	110
  2043                        ~~k_write_sd_sector:
  2044                        	longa	on
  2045                        	longi	on
  2046 04:1F0E: 3B           	tsc
  2047 04:1F0F: 38           	sec
  2048 04:1F10: E9 04 00     	sbc	#L23
  2049 04:1F13: 1B           	tcs
  2050 04:1F14: 0B           	phd
  2051 04:1F15: 5B           	tcd
  2052             00000004   offset_0	set	4
  2053             00000008   sendBuffer_0	set	8
  2054                        	.block	110
  2055                        ;	UCHAR	errorCode;
  2056                        ;	UCHAR	s;
  2057                        ;	UINT	x;
  2058                        ;
  2059                        ;	//k_debug_long("k_write_sd_sector::offset:",offs
                    et);
  2060                        ;	//k_debug_byte_array("k_write_sd_sector::k_debug
                    _byte_array:",sendBuffer,512);
  2061                        ;
  2062                        ;	//SDC_TX_FIFO_CTRL_REG[0] = 1;
  2063                        ;
  2064                        ;	for(x=0;x<SDC_BUFFER_SIZE;x++)
  2065             00000000   errorCode_1	set	0
  2066             00000001   s_1	set	1
  2067             00000002   x_1	set	2
  2068                        	.sym	errorCode,0,14,1,8
  2069                        	.sym	s,1,14,1,8
  2070                        	.sym	x,2,16,1,16
  2071                        	.sym	offset,4,18,6,32
  2072                        	.sym	sendBuffer,8,142,6,32
  2073                        	.line	120
  2074 04:1F16: 64 03        	stz	<L24+x_1
  2075                        L10011:
  2076                        ;	{
  Sat Jul 10 2021  1:15                                                Page 40


  2077                        	.line	121
  2078                        ;		SDC_TX_FIFO_DATA_REG[0] = sendBuffer[x];
  2079                        	.line	122
  2080 04:1F18: E2 20        	sep	#$20
  2081                        	longa	off
  2082 04:1F1A: A4 03        	ldy	<L24+x_1
  2083 04:1F1C: B7 0C        	lda	[<L23+sendBuffer_0],Y
  2084 04:1F1E: 8F 20 EA AF  	sta	>11528736
  2085 04:1F22: C2 20        	rep	#$20
  2086                        	longa	on
  2087                        ;	}
  2088                        	.line	123
  2089                        L10009:
  2090 04:1F24: E6 03        	inc	<L24+x_1
  2091 04:1F26: A5 03        	lda	<L24+x_1
  2092 04:1F28: C9 00 02     	cmp	#<$200
  2093 04:1F2B: B0 03        	bcs	L26
  2094 04:1F2D: 82 E8 FF     	brl	L10011
  2095                        L26:
  2096                        L10010:
  2097                        ;
  2098                        ;	*((unsigned long*)(&SDC_SD_ADDR_7_0_REG[0])) = o
                    ffset;
  2099                        	.line	125
  2100 04:1F30: A5 08        	lda	<L23+offset_0
  2101 04:1F32: 8F 07 EA AF  	sta	>11528711
  2102 04:1F36: A5 0A        	lda	<L23+offset_0+2
  2103 04:1F38: 8F 09 EA AF  	sta	>11528711+2
  2104                        ;
  2105                        ;
  2106                        ;	SDC_TRANS_TYPE_REG[0]    = SDC_TRANS_WRITE_BLK;
  2107                        	.line	128
  2108 04:1F3C: E2 20        	sep	#$20
  2109                        	longa	off
  2110 04:1F3E: A9 03        	lda	#$3
  2111 04:1F40: 8F 02 EA AF  	sta	>11528706
  2112 04:1F44: C2 20        	rep	#$20
  2113                        	longa	on
  2114                        ;	SDC_TRANS_CONTROL_REG[0] = SDC_TRANS_START;
  2115                        	.line	129
  2116 04:1F46: E2 20        	sep	#$20
  2117                        	longa	off
  2118 04:1F48: A9 01        	lda	#$1
  2119 04:1F4A: 8F 03 EA AF  	sta	>11528707
  2120 04:1F4E: C2 20        	rep	#$20
  2121                        	longa	on
  2122                        ;
  2123                        ;	s = SDC_TRANS_BUSY;
  2124                        	.line	131
  2125 04:1F50: E2 20        	sep	#$20
  2126                        	longa	off
  2127 04:1F52: A9 01        	lda	#$1
  2128 04:1F54: 85 02        	sta	<L24+s_1
  2129 04:1F56: C2 20        	rep	#$20
  2130                        	longa	on
  2131                        ;	while(s & SDC_TRANS_BUSY)
  2132                        	.line	132
  2133                        L10012:
  Sat Jul 10 2021  1:15                                                Page 41


  2134 04:1F58: E2 20        	sep	#$20
  2135                        	longa	off
  2136 04:1F5A: A5 02        	lda	<L24+s_1
  2137 04:1F5C: 29 01        	and	#<$1
  2138 04:1F5E: C2 20        	rep	#$20
  2139                        	longa	on
  2140 04:1F60: D0 03        	bne	L27
  2141 04:1F62: 82 0D 00     	brl	L10013
  2142                        L27:
  2143                        ;	{
  2144                        	.line	133
  2145                        ;		s = SDC_TRANS_STATUS_REG[0];
  2146                        	.line	134
  2147 04:1F65: E2 20        	sep	#$20
  2148                        	longa	off
  2149 04:1F67: AF 04 EA AF  	lda	>11528708
  2150 04:1F6B: 85 02        	sta	<L24+s_1
  2151 04:1F6D: C2 20        	rep	#$20
  2152                        	longa	on
  2153                        ;	}
  2154                        	.line	135
  2155 04:1F6F: 82 E6 FF     	brl	L10012
  2156                        L10013:
  2157                        ;
  2158                        ;	errorCode = SDC_TRANS_ERROR_REG[0] & 0x33;
  2159                        	.line	137
  2160 04:1F72: E2 20        	sep	#$20
  2161                        	longa	off
  2162 04:1F74: AF 05 EA AF  	lda	>11528709
  2163 04:1F78: 29 33        	and	#<$33
  2164 04:1F7A: 85 01        	sta	<L24+errorCode_1
  2165 04:1F7C: C2 20        	rep	#$20
  2166                        	longa	on
  2167                        ;
  2168                        ;	//k_debug_long("writeSDSector::errorCode:",error
                    Code);
  2169                        ;
  2170                        ;	return errorCode;
  2171                        	.line	141
  2172 04:1F7E: A5 01        	lda	<L24+errorCode_1
  2173 04:1F80: 29 FF 00     	and	#$ff
  2174                        L28:
  2175 04:1F83: A8           	tay
  2176 04:1F84: A5 06        	lda	<L23+2
  2177 04:1F86: 85 0E        	sta	<L23+2+8
  2178 04:1F88: A5 05        	lda	<L23+1
  2179 04:1F8A: 85 0D        	sta	<L23+1+8
  2180 04:1F8C: 2B           	pld
  2181 04:1F8D: 3B           	tsc
  2182 04:1F8E: 18           	clc
  2183 04:1F8F: 69 0C 00     	adc	#L23+8
  2184 04:1F92: 1B           	tcs
  2185 04:1F93: 98           	tya
  2186 04:1F94: 6B           	rtl
  2187                        ;}
  2188                        	.line	142
  2189                        	.endblock	142
  2190             00000004   L23	equ	4
  Sat Jul 10 2021  1:15                                                Page 42


  2191             00000001   L24	equ	1
  2192 04:1F95:              	ends
  2193                        	efunc
  2194                        	.endfunc	142,1,4
  2195                        	.line	142
  2196                        ;
  2197                        ;
  2198                        ;UINT readCluster(unsigned long offset,UINT sector
                    sPerCluster,LPCHAR receiveBuffer,ULONG file_size)
  2199                        ;{
  2200                        	.line	145
  2201                        	.line	146
  2202                        	SDCS05
  2203                        	xdef	~~readCluster
  2204                        	func
  2205                        	.function	146
  2206                        ~~readCluster:
  2207                        	longa	on
  2208                        	longi	on
  2209 04:1F95: 3B           	tsc
  2210 04:1F96: 38           	sec
  2211 04:1F97: E9 0E 00     	sbc	#L29
  2212 04:1F9A: 1B           	tcs
  2213 04:1F9B: 0B           	phd
  2214 04:1F9C: 5B           	tcd
  2215             00000004   offset_0	set	4
  2216             00000008   sectorsPerCluster_0	set	8
  2217             0000000A   receiveBuffer_0	set	10
  2218             0000000E   file_size_0	set	14
  2219                        	.block	146
  2220                        ;	UINT c = 0;
  2221                        ;	ULONG read = 0;
  2222                        ;
  2223                        ;
  2224                        ;	k_debug_long("readCluster::offset:",offset);
  2225             00000000   c_1	set	0
  2226             00000002   read_1	set	2
  2227                        	.sym	c,0,16,1,16
  2228                        	.sym	read,2,18,1,32
  2229                        	.sym	offset,4,18,6,32
  2230                        	.sym	sectorsPerCluster,8,16,6,16
  2231                        	.sym	receiveBuffer,10,142,6,32
  2232                        	.sym	file_size,14,18,6,32
  2233 04:1F9D: 64 09        	stz	<L30+c_1
  2234 04:1F9F: 64 0B        	stz	<L30+read_1
  2235 04:1FA1: 64 0D        	stz	<L30+read_1+2
  2236                        	.line	151
  2237 04:1FA3: D4 14        	pei	<L29+offset_0+2
  2238 04:1FA5: D4 12        	pei	<L29+offset_0
  2239 04:1FA7: F4 xx xx     	pea	#^L22
  2240 04:1FAA: F4 xx xx     	pea	#<L22
  2241 04:1FAD: 22 xx xx xx  	jsl	~~k_debug_long
  2242                        ;	for(c=0;c<sectorsPerCluster;c++)
  2243                        	.line	152
  2244 04:1FB1: 64 09        	stz	<L30+c_1
  2245 04:1FB3: 82 7D 00     	brl	L10017
  2246                        L10016:
  2247                        ;	{
  Sat Jul 10 2021  1:15                                                Page 43


  2248                        	.line	153
  2249                        ;		k_read_sd_sector(offset + (sectorsPerClu
                    ster * c),receiveBuffer);
  2250                        	.line	154
  2251 04:1FB6: D4 1A        	pei	<L29+receiveBuffer_0+2
  2252 04:1FB8: D4 18        	pei	<L29+receiveBuffer_0
  2253 04:1FBA: A5 16        	lda	<L29+sectorsPerCluster_0
  2254 04:1FBC: A6 09        	ldx	<L30+c_1
  2255                        	xref	~~~mul
  2256 04:1FBE: 22 xx xx xx  	jsl	~~~mul
  2257 04:1FC2: 85 01        	sta	<R0
  2258 04:1FC4: A5 01        	lda	<R0
  2259 04:1FC6: 85 01        	sta	<R0
  2260 04:1FC8: 64 03        	stz	<R0+2
  2261 04:1FCA: 18           	clc
  2262 04:1FCB: A5 01        	lda	<R0
  2263 04:1FCD: 65 12        	adc	<L29+offset_0
  2264 04:1FCF: 85 05        	sta	<R1
  2265 04:1FD1: A5 03        	lda	<R0+2
  2266 04:1FD3: 65 14        	adc	<L29+offset_0+2
  2267 04:1FD5: 85 07        	sta	<R1+2
  2268 04:1FD7: D4 07        	pei	<R1+2
  2269 04:1FD9: D4 05        	pei	<R1
  2270 04:1FDB: 22 37 1E 04  	jsl	~~k_read_sd_sector
  2271                        ;		read+=512;
  2272                        	.line	155
  2273 04:1FDF: 18           	clc
  2274 04:1FE0: A9 00 02     	lda	#$200
  2275 04:1FE3: 65 0B        	adc	<L30+read_1
  2276 04:1FE5: 85 0B        	sta	<L30+read_1
  2277 04:1FE7: 90 02        	bcc	L32
  2278 04:1FE9: E6 0D        	inc	<L30+read_1+2
  2279                        L32:
  2280                        ;		//k_debug_long("file_size:",file_size);
  2281                        ;		//k_debug_long("read:",read);
  2282                        ;		if(read > file_size)
  2283                        	.line	158
  2284                        ;			k_debug_byte_array("SECTOR:",rec
                    eiveBuffer,file_size);
  2285 04:1FEB: A5 1C        	lda	<L29+file_size_0
  2286 04:1FED: C5 0B        	cmp	<L30+read_1
  2287 04:1FEF: A5 1E        	lda	<L29+file_size_0+2
  2288 04:1FF1: E5 0D        	sbc	<L30+read_1+2
  2289 04:1FF3: 90 03        	bcc	L33
  2290 04:1FF5: 82 15 00     	brl	L10018
  2291                        L33:
  2292                        	.line	159
  2293 04:1FF8: D4 1E        	pei	<L29+file_size_0+2
  2294 04:1FFA: D4 1C        	pei	<L29+file_size_0
  2295 04:1FFC: D4 1A        	pei	<L29+receiveBuffer_0+2
  2296 04:1FFE: D4 18        	pei	<L29+receiveBuffer_0
  2297 04:2000: F4 xx xx     	pea	#^L22+21
  2298 04:2003: F4 xx xx     	pea	#<L22+21
  2299 04:2006: 22 xx xx xx  	jsl	~~k_debug_byte_array
  2300                        ;		else
  2301 04:200A: 82 14 00     	brl	L10019
  2302                        L10018:
  2303                        ;			k_debug_byte_array("SECTOR:",rec
  Sat Jul 10 2021  1:15                                                Page 44


                    eiveBuffer,512);
  2304                        	.line	161
  2305 04:200D: F4 00 00     	pea	#^$200
  2306 04:2010: F4 00 02     	pea	#<$200
  2307 04:2013: D4 1A        	pei	<L29+receiveBuffer_0+2
  2308 04:2015: D4 18        	pei	<L29+receiveBuffer_0
  2309 04:2017: F4 xx xx     	pea	#^L22+29
  2310 04:201A: F4 xx xx     	pea	#<L22+29
  2311 04:201D: 22 xx xx xx  	jsl	~~k_debug_byte_array
  2312                        L10019:
  2313                        ;
  2314                        ;		if(read > file_size)
  2315                        	.line	163
  2316                        ;		{
  2317 04:2021: A5 1C        	lda	<L29+file_size_0
  2318 04:2023: C5 0B        	cmp	<L30+read_1
  2319 04:2025: A5 1E        	lda	<L29+file_size_0+2
  2320 04:2027: E5 0D        	sbc	<L30+read_1+2
  2321 04:2029: 90 03        	bcc	L34
  2322 04:202B: 82 03 00     	brl	L10020
  2323                        L34:
  2324                        	.line	164
  2325                        ;			break;
  2326                        	.line	165
  2327 04:202E: 82 0B 00     	brl	L10015
  2328                        ;		}
  2329                        	.line	166
  2330                        ;	}
  2331                        L10020:
  2332                        	.line	167
  2333                        L10014:
  2334 04:2031: E6 09        	inc	<L30+c_1
  2335                        L10017:
  2336 04:2033: A5 09        	lda	<L30+c_1
  2337 04:2035: C5 16        	cmp	<L29+sectorsPerCluster_0
  2338 04:2037: B0 03        	bcs	L35
  2339 04:2039: 82 7A FF     	brl	L10016
  2340                        L35:
  2341                        L10015:
  2342                        ;
  2343                        ;	return 0;
  2344                        	.line	169
  2345 04:203C: A9 00 00     	lda	#$0
  2346                        L36:
  2347 04:203F: A8           	tay
  2348 04:2040: A5 10        	lda	<L29+2
  2349 04:2042: 85 1E        	sta	<L29+2+14
  2350 04:2044: A5 0F        	lda	<L29+1
  2351 04:2046: 85 1D        	sta	<L29+1+14
  2352 04:2048: 2B           	pld
  2353 04:2049: 3B           	tsc
  2354 04:204A: 18           	clc
  2355 04:204B: 69 1C 00     	adc	#L29+14
  2356 04:204E: 1B           	tcs
  2357 04:204F: 98           	tya
  2358 04:2050: 6B           	rtl
  2359                        ;}
  2360                        	.line	170
  Sat Jul 10 2021  1:15                                                Page 45


  2361                        	.endblock	170
  2362             0000000E   L29	equ	14
  2363             00000009   L30	equ	9
  2364 04:2051:              	ends
  2365                        	efunc
  2366                        	.endfunc	170,9,14
  2367                        	.line	170
  2368                        	data
  2369                        L22:
  2370 00:0089: 72 65 61 64  	db	$72,$65,$61,$64,$43,$6C,$75,$73,$74,$65,
                    $72,$3A,$3A,$6F,$66
       00:008D: 43 6C 75 73 
       00:0091: 74 65 72 3A 
       00:0095: 3A 6F 66 
  2371 00:0098: 66 73 65 74  	db	$66,$73,$65,$74,$3A,$00,$53,$45,$43,$54,
                    $4F,$52,$3A,$00,$53
       00:009C: 3A 00 53 45 
       00:00A0: 43 54 4F 52 
       00:00A4: 3A 00 53 
  2372 00:00A7: 45 43 54 4F  	db	$45,$43,$54,$4F,$52,$3A,$00
       00:00AB: 52 3A 00 
  2373 00:00AE:              	ends
  2374                        ;
  2375                        ;/*
  2376                        ;LPCHAR readClusterToMemory(unsigned long offset,U
                    INT sectorsPerCluster,LPCHAR receiveBuffer,ULONG file_size)
  2377                        ;{
  2378                        ;	UINT c = 0;
  2379                        ;	ULONG read = 0;
  2380                        ;	PBITMAPFILEHEADER pheader = NULL;
  2381                        ;	PBITMAPINFOHEADER pinfo = NULL;
  2382                        ;	LPCHAR imageStart = NULL;
  2383                        ;
  2384                        ;	for(c=0;c<sectorsPerCluster;c++)
  2385                        ;	{
  2386                        ;		readSDSector(offset + (sectorsPerCluster
                     * c) + read,receiveBuffer);
  2387                        ;		read+=512;
  2388                        ;		//k_debug_long("file_size:",file_size);
  2389                        ;		//k_debug_long("read:",read);
  2390                        ;		if(receiveBuffer == SHADOW_BANK_0)
  2391                        ;		{
  2392                        ;			pheader = (PBITMAPFILEHEADER)rec
                    eiveBuffer;
  2393                        ;
  2394                        ;		    k_debug_integer("bfType:",pheader->b
                    fType);
  2395                        ;			k_debug_long("bfSize:",pheader->
                    bfSize);
  2396                        ;			k_debug_long("bfOffBits:",pheade
                    r->bfOffBits);
  2397                        ;
  2398                        ;
  2399                        ;			pinfo = (PBITMAPINFOHEADER)&rece
                    iveBuffer[sizeof(BITMAPFILEHEADER)];
  2400                        ;
  2401                        ;			k_debug_long("height:",pinfo->bi
                    Height);
  Sat Jul 10 2021  1:15                                                Page 46


  2402                        ;			k_debug_long("width:",pinfo->biW
                    idth);
  2403                        ;
  2404                        ;			k_debug_integer("biPlanes:",pinf
                    o->biPlanes); //specifies the number of color planes, must b
                    e 1
  2405                        ;			k_debug_integer("biBitCount:",pi
                    nfo->biBitCount); //specifies the number of bit per pixel
  2406                        ;			k_debug_long("biCompression:",pi
                    nfo->biCompression);//spcifies the type of compression
  2407                        ;			k_debug_long("biSizeImage:",pinf
                    o->biSizeImage);  //size of image in bytes
  2408                        ;			k_debug_long("biXPelsPerMeter:",
                    pinfo->biXPelsPerMeter);  //number of pixels per meter in x 
                    axis
  2409                        ;			k_debug_long("biYPelsPerMeter:",
                    pinfo->biYPelsPerMeter);  //number of pixels per meter in y 
                    axis
  2410                        ;
  2411                        ;			imageStart = &receiveBuffer[phea
                    der->bfOffBits];
  2412                        ;		}
  2413                        ;
  2414                        ;		//receiveBuffer = &(receiveBuffer[read])
                    ;
  2415                        ;		//k_debug_byte_array("SECTOR:",receiveBu
                    ffer,512);
  2416                        ;		receiveBuffer+=512L;
  2417                        ;		//k_debug_pointer("readClusterToMemory::
                    receiveBuffer:",receiveBuffer);
  2418                        ;
  2419                        ;		if(read > file_size)
  2420                        ;		{
  2421                        ;			break;
  2422                        ;		}
  2423                        ;	}
  2424                        ;
  2425                        ;	return receiveBuffer;
  2426                        ;}
  2427                        ;
  2428                        ;
  2429                        ;LPCHAR readBitmapData(LPCHAR bitmapBuffer)
  2430                        ;{
  2431                        ;	PBITMAPFILEHEADER pheader = NULL;
  2432                        ;	PBITMAPINFOHEADER pinfo = NULL;
  2433                        ;	LPCHAR imageStart = NULL;
  2434                        ;
  2435                        ;	if(bitmapBuffer)
  2436                        ;	{
  2437                        ;		pheader = (PBITMAPFILEHEADER)bitmapBuffe
                    r;
  2438                        ;
  2439                        ;		k_debug_integer("bfType:",pheader->bfTyp
                    e);
  2440                        ;		k_debug_long("bfSize:",pheader->bfSize);
  2441                        ;		k_debug_long("bfOffBits:",pheader->bfOff
                    Bits);
  2442                        ;
  Sat Jul 10 2021  1:15                                                Page 47


  2443                        ;		pinfo = (PBITMAPINFOHEADER)&bitmapBuffer
                    [sizeof(BITMAPFILEHEADER)];
  2444                        ;
  2445                        ;		k_debug_long("height:",pinfo->biHeight);
  2446                        ;		k_debug_long("width:",pinfo->biWidth);
  2447                        ;
  2448                        ;		k_debug_integer("biPlanes:",pinfo->biPla
                    nes); //specifies the number of color planes, must be 1
  2449                        ;		k_debug_integer("biBitCount:",pinfo->biB
                    itCount); //specifies the number of bit per pixel
  2450                        ;		k_debug_long("biCompression:",pinfo->biC
                    ompression);//spcifies the type of compression
  2451                        ;		k_debug_long("biSizeImage:",pinfo->biSiz
                    eImage);  //size of image in bytes
  2452                        ;		k_debug_long("biXPelsPerMeter:",pinfo->b
                    iXPelsPerMeter);  //number of pixels per meter in x axis
  2453                        ;		k_debug_long("biYPelsPerMeter:",pinfo->b
                    iYPelsPerMeter);  //number of pixels per meter in y axis
  2454                        ;
  2455                        ;		imageStart = &bitmapBuffer[pheader->bfOf
                    fBits];
  2456                        ;	}
  2457                        ;
  2458                        ;	return imageStart;
  2459                        ;}
  2460                        ;*/
  2461                        ;
  2462                        ;BOOL k_read_volume_name(PFAT16ENTRY entry,PFXDOSD
                    EVICE pdev)
  2463                        ;{
  2464                        	.line	259
  2465                        	.line	260
  2466                        	SDCS05
  2467                        	xdef	~~k_read_volume_name
  2468                        	func
  2469                        	.function	260
  2470                        ~~k_read_volume_name:
  2471                        	longa	on
  2472                        	longi	on
  2473 04:2051: 3B           	tsc
  2474 04:2052: 38           	sec
  2475 04:2053: E9 09 00     	sbc	#L38
  2476 04:2056: 1B           	tcs
  2477 04:2057: 0B           	phd
  2478 04:2058: 5B           	tcd
  2479             00000004   entry_0	set	4
  2480             00000008   pdev_0	set	8
  2481                        	.block	260
  2482                        ;	BOOL bRet = FALSE;
  2483                        ;
  2484                        ;	if(entry && pdev)
  2485             00000000   bRet_1	set	0
  2486                        	.sym	bRet,0,14,1,8
  2487                        	.sym	entry,4,138,6,32,95
  2488                        	.sym	pdev,8,138,6,32,122
  2489 04:2059: E2 20        	sep	#$20
  2490                        	longa	off
  2491 04:205B: 64 09        	stz	<L39+bRet_1
  Sat Jul 10 2021  1:15                                                Page 48


  2492 04:205D: C2 20        	rep	#$20
  2493                        	longa	on
  2494                        	.line	263
  2495                        ;	{
  2496 04:205F: A5 0D        	lda	<L38+entry_0
  2497 04:2061: 05 0F        	ora	<L38+entry_0+2
  2498 04:2063: D0 03        	bne	L41
  2499 04:2065: 82 89 00     	brl	L10021
  2500                        L41:
  2501 04:2068: A5 11        	lda	<L38+pdev_0
  2502 04:206A: 05 13        	ora	<L38+pdev_0+2
  2503 04:206C: D0 03        	bne	L42
  2504 04:206E: 82 80 00     	brl	L10021
  2505                        L42:
  2506                        	.line	264
  2507                        ;    	if(entry->attributes == 0x08)
  2508                        	.line	265
  2509                        ;		{
  2510 04:2071: E2 20        	sep	#$20
  2511                        	longa	off
  2512 04:2073: A0 0B 00     	ldy	#$b
  2513 04:2076: B7 0D        	lda	[<L38+entry_0],Y
  2514 04:2078: C9 08        	cmp	#<$8
  2515 04:207A: C2 20        	rep	#$20
  2516                        	longa	on
  2517 04:207C: F0 03        	beq	L43
  2518 04:207E: 82 70 00     	brl	L10022
  2519                        L43:
  2520                        	.line	266
  2521                        ;    		memset(pdev->root_volume_name,0,
                    12);
  2522                        	.line	267
  2523 04:2081: F4 0C 00     	pea	#<$c
  2524 04:2084: F4 00 00     	pea	#<$0
  2525 04:2087: 18           	clc
  2526 04:2088: A9 AD 02     	lda	#$2ad
  2527 04:208B: 65 11        	adc	<L38+pdev_0
  2528 04:208D: 85 01        	sta	<R0
  2529 04:208F: A9 00 00     	lda	#$0
  2530 04:2092: 65 13        	adc	<L38+pdev_0+2
  2531 04:2094: 85 03        	sta	<R0+2
  2532 04:2096: D4 03        	pei	<R0+2
  2533 04:2098: D4 01        	pei	<R0
  2534 04:209A: 22 xx xx xx  	jsl	~~memset
  2535                        ;
  2536                        ;    		strncpy(pdev->root_volume_name,e
                    ntry->filename,8);
  2537                        	.line	269
  2538 04:209E: F4 08 00     	pea	#<$8
  2539 04:20A1: D4 0F        	pei	<L38+entry_0+2
  2540 04:20A3: D4 0D        	pei	<L38+entry_0
  2541 04:20A5: 18           	clc
  2542 04:20A6: A9 AD 02     	lda	#$2ad
  2543 04:20A9: 65 11        	adc	<L38+pdev_0
  2544 04:20AB: 85 01        	sta	<R0
  2545 04:20AD: A9 00 00     	lda	#$0
  2546 04:20B0: 65 13        	adc	<L38+pdev_0+2
  2547 04:20B2: 85 03        	sta	<R0+2
  Sat Jul 10 2021  1:15                                                Page 49


  2548 04:20B4: D4 03        	pei	<R0+2
  2549 04:20B6: D4 01        	pei	<R0
  2550 04:20B8: 22 xx xx xx  	jsl	~~strncpy
  2551                        ;    		strncpy(&pdev->root_volume_name[
                    8],entry->ext,3);
  2552                        	.line	270
  2553 04:20BC: F4 03 00     	pea	#<$3
  2554 04:20BF: 18           	clc
  2555 04:20C0: A9 08 00     	lda	#$8
  2556 04:20C3: 65 0D        	adc	<L38+entry_0
  2557 04:20C5: 85 01        	sta	<R0
  2558 04:20C7: A9 00 00     	lda	#$0
  2559 04:20CA: 65 0F        	adc	<L38+entry_0+2
  2560 04:20CC: 85 03        	sta	<R0+2
  2561 04:20CE: D4 03        	pei	<R0+2
  2562 04:20D0: D4 01        	pei	<R0
  2563 04:20D2: 18           	clc
  2564 04:20D3: A9 B5 02     	lda	#$2b5
  2565 04:20D6: 65 11        	adc	<L38+pdev_0
  2566 04:20D8: 85 05        	sta	<R1
  2567 04:20DA: A9 00 00     	lda	#$0
  2568 04:20DD: 65 13        	adc	<L38+pdev_0+2
  2569 04:20DF: 85 07        	sta	<R1+2
  2570 04:20E1: D4 07        	pei	<R1+2
  2571 04:20E3: D4 05        	pei	<R1
  2572 04:20E5: 22 xx xx xx  	jsl	~~strncpy
  2573                        ;
  2574                        ;    		bRet = TRUE;
  2575                        	.line	272
  2576 04:20E9: E2 20        	sep	#$20
  2577                        	longa	off
  2578 04:20EB: A9 01        	lda	#$1
  2579 04:20ED: 85 09        	sta	<L39+bRet_1
  2580 04:20EF: C2 20        	rep	#$20
  2581                        	longa	on
  2582                        ;		}
  2583                        	.line	273
  2584                        ;	}
  2585                        L10022:
  2586                        	.line	274
  2587                        ;
  2588                        ;	return bRet;
  2589                        L10021:
  2590                        	.line	276
  2591 04:20F1: A5 09        	lda	<L39+bRet_1
  2592 04:20F3: 29 FF 00     	and	#$ff
  2593                        L44:
  2594 04:20F6: A8           	tay
  2595 04:20F7: A5 0B        	lda	<L38+2
  2596 04:20F9: 85 13        	sta	<L38+2+8
  2597 04:20FB: A5 0A        	lda	<L38+1
  2598 04:20FD: 85 12        	sta	<L38+1+8
  2599 04:20FF: 2B           	pld
  2600 04:2100: 3B           	tsc
  2601 04:2101: 18           	clc
  2602 04:2102: 69 11 00     	adc	#L38+8
  2603 04:2105: 1B           	tcs
  2604 04:2106: 98           	tya
  Sat Jul 10 2021  1:15                                                Page 50


  2605 04:2107: 6B           	rtl
  2606                        ;}
  2607                        	.line	277
  2608                        	.endblock	277
  2609             00000009   L38	equ	9
  2610             00000009   L39	equ	9
  2611 04:2108:              	ends
  2612                        	efunc
  2613                        	.endfunc	277,9,9
  2614                        	.line	277
  2615                        ;
  2616                        ;
  2617                        ;
  2618                        ;UCHAR k_sd_initialize(void)
  2619                        ;{
  2620                        	.line	281
  2621                        	.line	282
  2622                        	SDCS05
  2623                        	xdef	~~k_sd_initialize
  2624                        	func
  2625                        	.function	282
  2626                        ~~k_sd_initialize:
  2627                        	longa	on
  2628                        	longi	on
  2629 04:2108: 3B           	tsc
  2630 04:2109: 38           	sec
  2631 04:210A: E9 02 00     	sbc	#L45
  2632 04:210D: 1B           	tcs
  2633 04:210E: 0B           	phd
  2634 04:210F: 5B           	tcd
  2635                        	.block	282
  2636                        ;	UCHAR s;
  2637                        ;	UCHAR errorCode;
  2638                        ;
  2639                        ;	k_debug_string("***k_sd_initialize 1\r\n");
  2640             00000000   s_1	set	0
  2641             00000001   errorCode_1	set	1
  2642                        	.sym	s,0,14,1,8
  2643                        	.sym	errorCode,1,14,1,8
  2644                        	.line	286
  2645 04:2110: F4 xx xx     	pea	#^L37
  2646 04:2113: F4 xx xx     	pea	#<L37
  2647 04:2116: 22 xx xx xx  	jsl	~~k_debug_string
  2648                        ;
  2649                        ;	SDC_TRANS_TYPE_REG[0]    = SDC_TRANS_INIT_SD;
  2650                        	.line	288
  2651 04:211A: E2 20        	sep	#$20
  2652                        	longa	off
  2653 04:211C: A9 01        	lda	#$1
  2654 04:211E: 8F 02 EA AF  	sta	>11528706
  2655 04:2122: C2 20        	rep	#$20
  2656                        	longa	on
  2657                        ;    SDC_TRANS_CONTROL_REG[0] = SDC_TRANS_START;
  2658                        	.line	289
  2659 04:2124: E2 20        	sep	#$20
  2660                        	longa	off
  2661 04:2126: A9 01        	lda	#$1
  2662 04:2128: 8F 03 EA AF  	sta	>11528707
  Sat Jul 10 2021  1:15                                                Page 51


  2663 04:212C: C2 20        	rep	#$20
  2664                        	longa	on
  2665                        ;
  2666                        ;    s = SDC_TRANS_BUSY;
  2667                        	.line	291
  2668 04:212E: E2 20        	sep	#$20
  2669                        	longa	off
  2670 04:2130: A9 01        	lda	#$1
  2671 04:2132: 85 01        	sta	<L46+s_1
  2672 04:2134: C2 20        	rep	#$20
  2673                        	longa	on
  2674                        ;    while(s & SDC_TRANS_BUSY)
  2675                        	.line	292
  2676                        L10023:
  2677 04:2136: E2 20        	sep	#$20
  2678                        	longa	off
  2679 04:2138: A5 01        	lda	<L46+s_1
  2680 04:213A: 29 01        	and	#<$1
  2681 04:213C: C2 20        	rep	#$20
  2682                        	longa	on
  2683 04:213E: D0 03        	bne	L48
  2684 04:2140: 82 0D 00     	brl	L10024
  2685                        L48:
  2686                        ;    {
  2687                        	.line	293
  2688                        ;    	s = SDC_TRANS_STATUS_REG[0];
  2689                        	.line	294
  2690 04:2143: E2 20        	sep	#$20
  2691                        	longa	off
  2692 04:2145: AF 04 EA AF  	lda	>11528708
  2693 04:2149: 85 01        	sta	<L46+s_1
  2694 04:214B: C2 20        	rep	#$20
  2695                        	longa	on
  2696                        ;   	}
  2697                        	.line	295
  2698 04:214D: 82 E6 FF     	brl	L10023
  2699                        L10024:
  2700                        ;
  2701                        ;    k_debug_integer("***k_sd_initialize errorCode
                    :",errorCode);
  2702                        	.line	297
  2703 04:2150: A5 02        	lda	<L46+errorCode_1
  2704 04:2152: 29 FF 00     	and	#$ff
  2705 04:2155: 48           	pha
  2706 04:2156: F4 xx xx     	pea	#^L37+23
  2707 04:2159: F4 xx xx     	pea	#<L37+23
  2708 04:215C: 22 xx xx xx  	jsl	~~k_debug_integer
  2709                        ;
  2710                        ;    return TRUE;
  2711                        	.line	299
  2712 04:2160: A9 01 00     	lda	#$1
  2713                        L49:
  2714 04:2163: A8           	tay
  2715 04:2164: 2B           	pld
  2716 04:2165: 3B           	tsc
  2717 04:2166: 18           	clc
  2718 04:2167: 69 02 00     	adc	#L45
  2719 04:216A: 1B           	tcs
  Sat Jul 10 2021  1:15                                                Page 52


  2720 04:216B: 98           	tya
  2721 04:216C: 6B           	rtl
  2722                        ;}
  2723                        	.line	300
  2724                        	.endblock	300
  2725             00000002   L45	equ	2
  2726             00000001   L46	equ	1
  2727 04:216D:              	ends
  2728                        	efunc
  2729                        	.endfunc	300,1,2
  2730                        	.line	300
  2731                        	data
  2732                        L37:
  2733 00:00AE: 2A 2A 2A 6B  	db	$2A,$2A,$2A,$6B,$5F,$73,$64,$5F,$69,$6E,
                    $69,$74,$69,$61,$6C
       00:00B2: 5F 73 64 5F 
       00:00B6: 69 6E 69 74 
       00:00BA: 69 61 6C 
  2734 00:00BD: 69 7A 65 20  	db	$69,$7A,$65,$20,$31,$0D,$0A,$00,$2A,$2A,
                    $2A,$6B,$5F,$73,$64
       00:00C1: 31 0D 0A 00 
       00:00C5: 2A 2A 2A 6B 
       00:00C9: 5F 73 64 
  2735 00:00CC: 5F 69 6E 69  	db	$5F,$69,$6E,$69,$74,$69,$61,$6C,$69,$7A,
                    $65,$20,$65,$72,$72
       00:00D0: 74 69 61 6C 
       00:00D4: 69 7A 65 20 
       00:00D8: 65 72 72 
  2736 00:00DB: 6F 72 43 6F  	db	$6F,$72,$43,$6F,$64,$65,$3A,$00
       00:00DF: 64 65 3A 00 
  2737 00:00E3:              	ends
  2738                        ;
  2739                        ;#ifdef FALSE_DISABLED
  2740                        ;
  2741                        ;UCHAR k_sd_check_drive(VOID)
  2742                        ;{
  2743                        ;	INT x = 0;
  2744                        ;	INT i = 0;
  2745                        ;	INT size = 0;
  2746                        ;
  2747                        ;	UCHAR	errorCode;
  2748                        ;	CHAR	byte;
  2749                        ;
  2750                        ;	//UCHAR	fifoLO;
  2751                        ;	//UCHAR	fifoHI;
  2752                        ;	UCHAR	s;
  2753                        ;
  2754                        ;	ULONG next = -1;
  2755                        ;	INT root_entry_count     = 0;
  2756                        ;	INT rootEntriesPerPage	 = 0;
  2757                        ;	INT sectors_per_cluster  = 0;
  2758                        ;
  2759                        ;	PFATBOOTSECTOR pFATBS = NULL;
  2760                        ;	PPARTITIONTABLE pPartTable = NULL;
  2761                        ;	PFAT16ENTRY  pentry = NULL;
  2762                        ;	PUINT pFAT1 = NULL;
  2763                        ;
  2764                        ;	unsigned long offset = 0L;
  Sat Jul 10 2021  1:15                                                Page 53


  2765                        ;	unsigned long bsOffset = 0L;
  2766                        ;	unsigned long fatTable = 0L;
  2767                        ;	unsigned long rootDirSectors = 0L;// 0x010000D2;
  2768                        ;	unsigned long data = 0L;// 0x010000D2;
  2769                        ;
  2770                        ;	unsigned long firstDataSector = 0L;// 0x010000D2
                    ;
  2771                        ;
  2772                        ;	k_debug_string("***k_sd_full_test 1\r\n");
  2773                        ;
  2774                        ;	SDC_TRANS_TYPE_REG[0]    = SDC_TRANS_INIT_SD;
  2775                        ;    SDC_TRANS_CONTROL_REG[0] = SDC_TRANS_START;
  2776                        ;
  2777                        ;    s = SDC_TRANS_BUSY;
  2778                        ;    while(s & SDC_TRANS_BUSY)
  2779                        ;    {
  2780                        ;    	s = SDC_TRANS_STATUS_REG[0];
  2781                        ;   	}
  2782                        ;
  2783                        ;    errorCode = SDC_TRANS_ERROR_REG[0];
  2784                        ;
  2785                        ;    k_debug_integer("***k_sd_reset errorCode:",er
                    rorCode);
  2786                        ;
  2787                        ;    if(!errorCode)
  2788                        ;    {
  2789                        ;		GABE_MSTR_CTRL[0] |= GABE_CTRL_SDC_LED;
  2790                        ;
  2791                        ;		errorCode = readSDSector(0,sectorBuffer)
                    ;
  2792                        ;
  2793                        ;		for(x=0;x<4;x++)
  2794                        ;		{
  2795                        ;			pPartTable = (PPARTITIONTABLE)&s
                    ectorBuffer[FAT_PARTITION_TABLE_1 + (0x10 * x)];
  2796                        ;
  2797                        ;			k_debug_hex ("***k_sd_reset firs
                    t_byte:",pPartTable->first_byte);
  2798                        ;			k_debug_hex ("***k_sd_reset star
                    t_chs0:",pPartTable->start_chs[0]);
  2799                        ;			k_debug_hex ("***k_sd_reset star
                    t_chs1:",pPartTable->start_chs[1]);
  2800                        ;			k_debug_hex ("***k_sd_reset star
                    t_chs2:",pPartTable->start_chs[2]);
  2801                        ;			k_debug_hex ("***k_sd_reset part
                    ition_type:",(INT)pPartTable->partition_type);
  2802                        ;			k_debug_hex ("***k_sd_reset end_
                    chs0:",pPartTable->end_chs[0]);
  2803                        ;			k_debug_hex ("***k_sd_reset end_
                    chs1:",pPartTable->end_chs[1]);
  2804                        ;			k_debug_hex ("***k_sd_reset end_
                    chs2:",pPartTable->end_chs[2]);
  2805                        ;			k_debug_long("***k_sd_reset star
                    t_sector:",pPartTable->start_sector);
  2806                        ;			k_debug_long("***k_sd_reset leng
                    th_sectors:",pPartTable->length_sectors);
  2807                        ;
  2808                        ;			if(pPartTable->partition_type ==
  Sat Jul 10 2021  1:15                                                Page 54


                     FAT_PARTITION_TYPE_DOS30 ||
  2809                        ;			   pPartTable->partition_type ==
                     FAT_PARTITION_TYPE_DOS33 ||
  2810                        ;			   pPartTable->partition_type ==
                     FAT_PARTITION_TYPE_DOS70)
  2811                        ;			{
  2812                        ;				k_debug_hex("FAT16 files
                    ystem found from partition:", pPartTable->partition_type);
  2813                        ;				break;
  2814                        ;			}
  2815                        ;		}
  2816                        ;
  2817                        ;		memcpy(&fxdosDevice.partitionTable,&sect
                    orBuffer[FAT_PARTITION_TABLE_1 + (0x10 * x)],sizeof(PARTITIO
                    NTABLE));
  2818                        ;		k_debug_hex ("***fxdosDevice first_byte:
                    ",fxdosDevice.partitionTable.first_byte);
  2819                        ;		k_debug_hex ("***fxdosDevice start_chs0:
                    ",fxdosDevice.partitionTable.start_chs[0]);
  2820                        ;		k_debug_hex ("***fxdosDevice start_chs1:
                    ",fxdosDevice.partitionTable.start_chs[1]);
  2821                        ;		k_debug_hex ("***fxdosDevice start_chs2:
                    ",fxdosDevice.partitionTable.start_chs[2]);
  2822                        ;		k_debug_hex ("***fxdosDevice partition_t
                    ype:",(INT)fxdosDevice.partitionTable.partition_type);
  2823                        ;		k_debug_hex ("***fxdosDevice end_chs0:",
                    fxdosDevice.partitionTable.end_chs[0]);
  2824                        ;		k_debug_hex ("***fxdosDevice end_chs1:",
                    fxdosDevice.partitionTable.end_chs[1]);
  2825                        ;		k_debug_hex ("***fxdosDevice end_chs2:",
                    fxdosDevice.partitionTable.end_chs[2]);
  2826                        ;		k_debug_long("***fxdosDevice start_secto
                    r:",fxdosDevice.partitionTable.start_sector);
  2827                        ;		k_debug_long("***fxdosDevice length_sect
                    ors:",fxdosDevice.partitionTable.length_sectors);
  2828                        ;
  2829                        ;
  2830                        ;		bsOffset = (pPartTable->start_sector * F
                    AT_PAGE_SIZE);
  2831                        ;		fxdosDevice.bsOffset = (pPartTable->star
                    t_sector * FAT_PAGE_SIZE);
  2832                        ;
  2833                        ;		errorCode = readSDSector(bsOffset,sector
                    Buffer);
  2834                        ;		fxdosDevice.errorCode = errorCode;//read
                    SDSector(bsOffset,sectorBuffer);
  2835                        ;		if(!errorCode)
  2836                        ;		{
  2837                        ;			pFATBS = (PFATBOOTSECTOR)sectorB
                    uffer;
  2838                        ;
  2839                        ;
  2840                        ;
  2841                        ;			k_debug_integer("***k_sd_reset b
                    ytes_per_sector:",(INT)pFATBS->bytes_per_sector);
  2842                        ;			k_debug_integer("***k_sd_reset s
                    ectors_per_cluster:",(INT)pFATBS->sectors_per_cluster);
  2843                        ;			k_debug_integer("***k_sd_reset r
  Sat Jul 10 2021  1:15                                                Page 55


                    eserved_sector_count:",(INT)pFATBS->reserved_sector_count);
  2844                        ;			k_debug_integer("***k_sd_reset t
                    able_count:",(INT)pFATBS->fat_table_count);
  2845                        ;			k_debug_integer("***k_sd_reset r
                    oot_entry_count:",(INT)pFATBS->root_entry_count);
  2846                        ;			k_debug_integer("***k_sd_reset t
                    otal_sectors_16:",(INT)pFATBS->total_sectors_16);
  2847                        ;			k_debug_integer("***k_sd_reset m
                    edia_type:",(INT)pFATBS->media_type);
  2848                        ;			k_debug_integer("***k_sd_reset s
                    ectors_per_fat:",(INT)pFATBS->sectors_per_fat);
  2849                        ;			k_debug_integer("***k_sd_reset s
                    ectors_per_track:",(INT)pFATBS->sectors_per_track);
  2850                        ;			k_debug_integer("***k_sd_reset h
                    ead_side_count:",(INT)pFATBS->head_side_count);
  2851                        ;			k_debug_integer("***k_sd_reset h
                    idden_sector_count:",(INT)pFATBS->hidden_sector_count);
  2852                        ;			k_debug_integer("***k_sd_reset t
                    otal_sectors_32:",(INT)pFATBS->total_sectors_32);
  2853                        ;
  2854                        ;
  2855                        ;			memcpy(&fxdosDevice.bootSector,s
                    ectorBuffer,sizeof(FATBOOTSECTOR));
  2856                        ;
  2857                        ;			k_debug_integer("***fxdosDevice 
                    bytes_per_sector:",(INT)fxdosDevice.bootSector.bytes_per_sec
                    tor);
  2858                        ;			k_debug_integer("***fxdosDevice 
                    sectors_per_cluster:",(INT)fxdosDevice.bootSector.sectors_pe
                    r_cluster);
  2859                        ;			k_debug_integer("***fxdosDevice 
                    reserved_sector_count:",(INT)fxdosDevice.bootSector.reserved
                    _sector_count);
  2860                        ;			k_debug_integer("***fxdosDevice 
                    table_count:",(INT)fxdosDevice.bootSector.fat_table_count);
  2861                        ;			k_debug_integer("***fxdosDevice 
                    root_entry_count:",(INT)fxdosDevice.bootSector.root_entry_co
                    unt);
  2862                        ;			k_debug_integer("***fxdosDevice 
                    total_sectors_16:",(INT)fxdosDevice.bootSector.total_sectors
                    _16);
  2863                        ;			k_debug_integer("***fxdosDevice 
                    media_type:",(INT)fxdosDevice.bootSector.media_type);
  2864                        ;			k_debug_integer("***fxdosDevice 
                    sectors_per_fat:",(INT)fxdosDevice.bootSector.sectors_per_fa
                    t);
  2865                        ;			k_debug_integer("***fxdosDevice 
                    sectors_per_track:",(INT)fxdosDevice.bootSector.sectors_per_
                    track);
  2866                        ;			k_debug_integer("***fxdosDevice 
                    head_side_count:",(INT)fxdosDevice.bootSector.head_side_coun
                    t);
  2867                        ;			k_debug_integer("***fxdosDevice 
                    hidden_sector_count:",(INT)fxdosDevice.bootSector.hidden_sec
                    tor_count);
  2868                        ;			k_debug_integer("***fxdosDevice 
                    total_sectors_32:",(INT)fxdosDevice.bootSector.total_sectors
                    _32);
  Sat Jul 10 2021  1:15                                                Page 56


  2869                        ;
  2870                        ;
  2871                        ;			k_debug_nstring(pFATBS->vol_name
                    ,11);
  2872                        ;			k_debug_string("\r\n");
  2873                        ;			k_debug_nstring(pFATBS->file_sys
                    tem_type,8);
  2874                        ;			k_debug_string("\r\n");
  2875                        ;
  2876                        ;			strncpy(fxdosDevice.volume_name,
                    pFATBS->vol_name,11);
  2877                        ;			fxdosDevice.volume_name[11] = 0;
  2878                        ;			k_debug_strings("***fxdosDevice 
                    Volume Name:",fxdosDevice.volume_name);
  2879                        ;
  2880                        ;			root_entry_count = pFATBS->root_
                    entry_count;
  2881                        ;			fxdosDevice.root_entry_count = p
                    FATBS->root_entry_count;
  2882                        ;
  2883                        ;			fatTable       = bsOffset + (pFA
                    TBS->bytes_per_sector * pFATBS->reserved_sector_count);
  2884                        ;			rootDirSectors = bsOffset + (((U
                    LONG)pFATBS->reserved_sector_count + ((ULONG)pFATBS->sectors
                    _per_fat * (ULONG)pFATBS->fat_table_count)) * (ULONG)pFATBS-
                    >bytes_per_sector);
  2885                        ;			sectors_per_cluster = (INT)pFATB
                    S->sectors_per_cluster;
  2886                        ;
  2887                        ;			k_debug_long("***k_sd_reset fatT
                    able:",fatTable);
  2888                        ;
  2889                        ;			fxdosDevice.fatTableOffset = bsO
                    ffset + (pFATBS->bytes_per_sector * pFATBS->reserved_sector_
                    count);
  2890                        ;			fxdosDevice.rootDirSectors = bsO
                    ffset + (((ULONG)pFATBS->reserved_sector_count + ((ULONG)pFA
                    TBS->sectors_per_fat * (ULONG)pFATBS->fat_table_count)) * (U
                    LONG)pFATBS->bytes_per_sector);
  2891                        ;			fxdosDevice.sectors_per_cluster 
                    = (INT)pFATBS->sectors_per_cluster;
  2892                        ;
  2893                        ;			k_debug_long("***fxdosDevice fat
                    Table:",fxdosDevice.fatTableOffset);
  2894                        ;
  2895                        ;
  2896                        ;
  2897                        ;			if(readSDSector(fatTable,sectorB
                    uffer) == 0)
  2898                        ;			{
  2899                        ;				pFAT1 = (PUINT)sectorBuf
                    fer;
  2900                        ;				memcpy(&fxdosDevice.file
                    AllocationTable,sectorBuffer,FAT_PAGE_SIZE);
  2901                        ;				//k_debug_byte_array("FA
                    T ENTRIES:",sectorBuffer,512);
  2902                        ;				/*
  2903                        ;				i = 0;
  Sat Jul 10 2021  1:15                                                Page 57


  2904                        ;				x = 0xFFFF;
  2905                        ;				while(x)
  2906                        ;				{
  2907                        ;					x = ((INT*)fileA
                    llocationTable1)[i++];
  2908                        ;					k_debug_integer(
                    "FAT ENTRY:",x);
  2909                        ;				}
  2910                        ;				*/
  2911                        ;			}
  2912                        ;
  2913                        ;
  2914                        ;			//rootDirSectors = bsOffset + ((
                    (ULONG)pFATBS->reserved_sector_count + ((ULONG)pFATBS->secto
                    rs_per_fat * (ULONG)pFATBS->fat_table_count)) * (ULONG)pFATB
                    S->bytes_per_sector);
  2915                        ;
  2916                        ;			k_debug_long("***k_sd_reset root
                     offset:",rootDirSectors);
  2917                        ;			k_debug_long("***k_sd_reset root
                     sizeof(FAT16ENTRY):",sizeof(FAT16ENTRY));
  2918                        ;			k_debug_long("***k_sd_reset root
                     root_entry_count:",root_entry_count);
  2919                        ;			k_debug_long("***k_sd_reset root
                     root_entry_count/sizeof(FAT16ENTRY):",root_entry_count/size
                    of(FAT16ENTRY));
  2920                        ;
  2921                        ;			k_debug_long("***fxdosDevice roo
                    t offset:",fxdosDevice.rootDirSectors);
  2922                        ;			k_debug_long("***fxdosDevice roo
                    t sizeof(FAT16ENTRY):",sizeof(FAT16ENTRY));
  2923                        ;			k_debug_long("***fxdosDevice roo
                    t root_entry_count:",fxdosDevice.root_entry_count);
  2924                        ;			k_debug_long("***fxdosDevice roo
                    t root_entry_count/sizeof(FAT16ENTRY):",fxdosDevice.root_ent
                    ry_count/sizeof(FAT16ENTRY));
  2925                        ;
  2926                        ;			/*
  2927                        ;			if(readSDSector(rootDirSectors,s
                    ectorBuffer) == 0)
  2928                        ;			{
  2929                        ;				//k_debug_byte_array("FA
                    T ENTRIES:",sectorBuffer,size);
  2930                        ;				k_debug_integer("FAT roo
                    t_entry_count:",root_entry_count);
  2931                        ;				for(i=0; i<root_entry_co
                    unt; i++)
  2932                        ;				{
  2933                        ;					if(i * sizeof(FA
                    T16ENTRY) > (512 - sizeof(FAT16ENTRY)))
  2934                        ;					{
  2935                        ;
  2936                        ;					}
  2937                        ;
  2938                        ;					pentry = (PFAT16
                    ENTRY)&sectorBuffer[i * sizeof(FAT16ENTRY)];
  2939                        ;					data = print_fil
                    e_info(pentry);
  Sat Jul 10 2021  1:15                                                Page 58


  2940                        ;					if(data > 0)
  2941                        ;					{
  2942                        ;						k_debug_
                    long("bsOffset:",bsOffset);
  2943                        ;						k_debug_
                    long("Cluster Offset + bsOffset:",data + bsOffset);
  2944                        ;
  2945                        ;						//((N  
                    2) * BPB_SecPerClus) + FirstDataSector;
  2946                        ;
  2947                        ;						firstDat
                    aSector = (INT)fxdosDevice.bootSector.reserved_sector_count 
                    + ((INT)pFATBS->fat_table_count * 512) + fxdosDevice.rootDir
                    Sectors;
  2948                        ;
  2949                        ;
  2950                        ;						k_debug_
                    long("Cluster Offset Calculated:",((data - 2) * fxdosDevice.
                    sectors_per_cluster) + firstDataSector);
  2951                        ;
  2952                        ;						k_debug_
                    long("FAT Entry:",((UINT*)(&fxdosDevice.fileAllocationTable)
                    )[data]);
  2953                        ;
  2954                        ;
  2955                        ;						if(readS
                    DSector(data + bsOffset,fatfileBuffer) == 0)
  2956                        ;						{
  2957                        ;							
                    k_debug_byte_array("CONTENT:\r\n",fatfileBuffer,512);
  2958                        ;						}
  2959                        ;
  2960                        ;						if( memc
                    mp(pentry->filename,"TEST1",5) == 0 )
  2961                        ;						{
  2962                        ;							
                    //k_debug_string("** Found TEST1\r\n");
  2963                        ;							
                    //k_debug_long("** Found TEST1 size:",pentry->file_size);
  2964                        ;
  2965                        ;							
                    //memset(fatfileBuffer,0,512);
  2966                        ;							
                    memcpy(fatfileBuffer,"AUTOMATION!      ",pentry->file_size);
  2967                        ;
  2968                        ;							
                    writeSDSector(data + bsOffset,fatfileBuffer);
  2969                        ;						}
  2970                        ;					}
  2971                        ;				}
  2972                        ;			}
  2973                        ;			*/
  2974                        ;
  2975                        ;
  2976                        ;			rootEntriesPerPage = root_entry_
                    count/sizeof(FAT16ENTRY);
  2977                        ;			fxdosDevice.rootEntriesPerPage =
                     root_entry_count/sizeof(FAT16ENTRY);
  Sat Jul 10 2021  1:15                                                Page 59


  2978                        ;
  2979                        ;			for(i=0; i<rootEntriesPerPage; i
                    ++)
  2980                        ;			{
  2981                        ;				if(readSDSector(rootDirS
                    ectors,sectorBuffer) == 0)
  2982                        ;				{
  2983                        ;					for(x=0; x<rootE
                    ntriesPerPage; x++)
  2984                        ;					{
  2985                        ;						pentry =
                     (PFAT16ENTRY)&sectorBuffer[x * sizeof(FAT16ENTRY)];
  2986                        ;						//data =
                     print_file_info(pentry);
  2987                        ;
  2988                        ;						/*
  2989                        ;						if(data 
                    && pFAT1)
  2990                        ;						{
  2991                        ;							
                    LPCHAR videoMem = SHADOW_BANK_0;
  2992                        ;
  2993                        ;							
                    k_debug_integer("FILE FIRST CLUSTER 1:",pentry->starting_clu
                    ster);
  2994                        ;
  2995                        ;							
                    next = pentry->starting_cluster;
  2996                        ;							
                    while(next!=65528L && next!=0L && next!=65535L)
  2997                        ;							
                    {
  2998                        ;							
                    	k_debug_integer("FILE FAT CLUSTER 2:",next);
  2999                        ;
  3000                        ;							
                    	if(next!=65528L && next!=0L && next!=65535L)
  3001                        ;							
                    	{
  3002                        ;							
                    		k_debug_integer("FILE FAT CLUSTER 3:",next);
  3003                        ;							
                    		if( memcmp(pentry->filename,"LOGO1",5) == 0 )
  3004                        ;							
                    		{
  3005                        ;							
                    			videoMem = readClusterToMemory(getCluste
                    rLocationByIndex(next) + bsOffset,sectors_per_cluster,videoM
                    em,pentry->file_size);
  3006                        ;							
                    		}
  3007                        ;							
                    		else
  3008                        ;							
                    		{
  3009                        ;							
                    			 videoMem = NULL;
  3010                        ;							
  Sat Jul 10 2021  1:15                                                Page 60


                    		}
  3011                        ;							
                    		next = pFAT1[next];
  3012                        ;							
                    	}
  3013                        ;							
                    }
  3014                        ;
  3015                        ;							
                    if(videoMem)
  3016                        ;							
                    {
  3017                        ;							
                    	readBitmapData(SHADOW_BANK_0);
  3018                        ;							
                    }
  3019                        ;						}
  3020                        ;						*/
  3021                        ;						/*
  3022                        ;						if(data 
                    > 0)
  3023                        ;						{
  3024                        ;							
                    if(readSDSector(data + bsOffset,fatfileBuffer) == 0)
  3025                        ;							
                    {
  3026                        ;							
                    	k_debug_strings("\tCONTENT:\r\n\t\t",fatfileBuffer);
  3027                        ;							
                    }
  3028                        ;
  3029                        ;							
                    if( memcmp(pentry->filename,"TEST1",5) == 0 )
  3030                        ;							
                    {
  3031                        ;							
                    	//k_debug_string("** Found TEST1\r\n");
  3032                        ;							
                    	//k_debug_long("** Found TEST1 size:",pentry->file_size)
                    ;
  3033                        ;
  3034                        ;							
                    	//memset(fatfileBuffer,0,512);
  3035                        ;							
                    	memcpy(fatfileBuffer,"AUTOMATION!      ",pentry->file_si
                    ze);
  3036                        ;
  3037                        ;							
                    	writeSDSector(data + bsOffset,fatfileBuffer);
  3038                        ;							
                    }
  3039                        ;						}
  3040                        ;						*/
  3041                        ;					}
  3042                        ;				}
  3043                        ;
  3044                        ;				rootDirSectors+=512;
  3045                        ;
  Sat Jul 10 2021  1:15                                                Page 61


  3046                        ;			}
  3047                        ;
  3048                        ;
  3049                        ;
  3050                        ;		}
  3051                        ;
  3052                        ;    }
  3053                        ;
  3054                        ;    GABE_MSTR_CTRL[0] = GABE_MSTR_CTRL[0] & (~GAB
                    E_CTRL_SDC_LED);
  3055                        ;
  3056                        ;	return 0;
  3057                        ;}
  3058                        ;
  3059                        ;#endif
  3060                        ;
  3061                        ;#ifdef FALSE_DISABLED
  3062                        ;
  3063                        ;UCHAR k_sd_full_test(VOID)
  3064                        ;{
  3065                        ;	INT x = 0;
  3066                        ;	INT i = 0;
  3067                        ;	INT size = 0;
  3068                        ;
  3069                        ;	UCHAR	errorCode;
  3070                        ;	CHAR	byte;
  3071                        ;
  3072                        ;	//UCHAR	fifoLO;
  3073                        ;	//UCHAR	fifoHI;
  3074                        ;	UCHAR	s;
  3075                        ;
  3076                        ;	ULONG next = -1;
  3077                        ;	INT root_entry_count     = 0;
  3078                        ;	INT rootEntriesPerPage	 = 0;
  3079                        ;	INT sectors_per_cluster  = 0;
  3080                        ;
  3081                        ;	PFATBOOTSECTOR pFATBS = NULL;
  3082                        ;	PPARTITIONTABLE pPartTable = NULL;
  3083                        ;	PFAT16ENTRY  pentry = NULL;
  3084                        ;	PUINT pFAT1 = NULL;
  3085                        ;
  3086                        ;	unsigned long offset = 0L;
  3087                        ;	unsigned long bsOffset = 0L;
  3088                        ;	unsigned long fatTable = 0L;
  3089                        ;	unsigned long rootDirSectors = 0L;// 0x010000D2;
  3090                        ;	unsigned long data = 0L;// 0x010000D2;
  3091                        ;
  3092                        ;	unsigned long firstDataSector = 0L;// 0x010000D2
                    ;
  3093                        ;
  3094                        ;	k_debug_string("***k_sd_full_test 1\r\n");
  3095                        ;
  3096                        ;	SDC_TRANS_TYPE_REG[0]    = SDC_TRANS_INIT_SD;
  3097                        ;    SDC_TRANS_CONTROL_REG[0] = SDC_TRANS_START;
  3098                        ;
  3099                        ;    s = SDC_TRANS_BUSY;
  3100                        ;    while(s & SDC_TRANS_BUSY)
  3101                        ;    {
  Sat Jul 10 2021  1:15                                                Page 62


  3102                        ;    	s = SDC_TRANS_STATUS_REG[0];
  3103                        ;   	}
  3104                        ;
  3105                        ;    errorCode = SDC_TRANS_ERROR_REG[0];
  3106                        ;
  3107                        ;    k_debug_integer("***k_sd_reset errorCode:",er
                    rorCode);
  3108                        ;
  3109                        ;    if(!errorCode)
  3110                        ;    {
  3111                        ;		GABE_MSTR_CTRL[0] |= GABE_CTRL_SDC_LED;
  3112                        ;
  3113                        ;		errorCode = readSDSector(0,sectorBuffer)
                    ;
  3114                        ;
  3115                        ;		for(x=0;x<4;x++)
  3116                        ;		{
  3117                        ;			pPartTable = (PPARTITIONTABLE)&s
                    ectorBuffer[FAT_PARTITION_TABLE_1 + (0x10 * x)];
  3118                        ;
  3119                        ;			k_debug_hex ("***k_sd_reset firs
                    t_byte:",pPartTable->first_byte);
  3120                        ;			k_debug_hex ("***k_sd_reset star
                    t_chs0:",pPartTable->start_chs[0]);
  3121                        ;			k_debug_hex ("***k_sd_reset star
                    t_chs1:",pPartTable->start_chs[1]);
  3122                        ;			k_debug_hex ("***k_sd_reset star
                    t_chs2:",pPartTable->start_chs[2]);
  3123                        ;			k_debug_hex ("***k_sd_reset part
                    ition_type:",(INT)pPartTable->partition_type);
  3124                        ;			k_debug_hex ("***k_sd_reset end_
                    chs0:",pPartTable->end_chs[0]);
  3125                        ;			k_debug_hex ("***k_sd_reset end_
                    chs1:",pPartTable->end_chs[1]);
  3126                        ;			k_debug_hex ("***k_sd_reset end_
                    chs2:",pPartTable->end_chs[2]);
  3127                        ;			k_debug_long("***k_sd_reset star
                    t_sector:",pPartTable->start_sector);
  3128                        ;			k_debug_long("***k_sd_reset leng
                    th_sectors:",pPartTable->length_sectors);
  3129                        ;
  3130                        ;			if(pPartTable->partition_type ==
                     FAT_PARTITION_TYPE_DOS30 ||
  3131                        ;			   pPartTable->partition_type ==
                     FAT_PARTITION_TYPE_DOS33 ||
  3132                        ;			   pPartTable->partition_type ==
                     FAT_PARTITION_TYPE_DOS70)
  3133                        ;			{
  3134                        ;				k_debug_hex("FAT16 files
                    ystem found from partition:", pPartTable->partition_type);
  3135                        ;				break;
  3136                        ;			}
  3137                        ;		}
  3138                        ;
  3139                        ;		memcpy(&fxdosDevice.partitionTable,&sect
                    orBuffer[FAT_PARTITION_TABLE_1 + (0x10 * x)],sizeof(PARTITIO
                    NTABLE));
  3140                        ;		k_debug_hex ("***fxdosDevice first_byte:
  Sat Jul 10 2021  1:15                                                Page 63


                    ",fxdosDevice.partitionTable.first_byte);
  3141                        ;		k_debug_hex ("***fxdosDevice start_chs0:
                    ",fxdosDevice.partitionTable.start_chs[0]);
  3142                        ;		k_debug_hex ("***fxdosDevice start_chs1:
                    ",fxdosDevice.partitionTable.start_chs[1]);
  3143                        ;		k_debug_hex ("***fxdosDevice start_chs2:
                    ",fxdosDevice.partitionTable.start_chs[2]);
  3144                        ;		k_debug_hex ("***fxdosDevice partition_t
                    ype:",(INT)fxdosDevice.partitionTable.partition_type);
  3145                        ;		k_debug_hex ("***fxdosDevice end_chs0:",
                    fxdosDevice.partitionTable.end_chs[0]);
  3146                        ;		k_debug_hex ("***fxdosDevice end_chs1:",
                    fxdosDevice.partitionTable.end_chs[1]);
  3147                        ;		k_debug_hex ("***fxdosDevice end_chs2:",
                    fxdosDevice.partitionTable.end_chs[2]);
  3148                        ;		k_debug_long("***fxdosDevice start_secto
                    r:",fxdosDevice.partitionTable.start_sector);
  3149                        ;		k_debug_long("***fxdosDevice length_sect
                    ors:",fxdosDevice.partitionTable.length_sectors);
  3150                        ;
  3151                        ;
  3152                        ;		bsOffset = (pPartTable->start_sector * F
                    AT_PAGE_SIZE);
  3153                        ;		fxdosDevice.bsOffset = (pPartTable->star
                    t_sector * FAT_PAGE_SIZE);
  3154                        ;
  3155                        ;		errorCode = readSDSector(bsOffset,sector
                    Buffer);
  3156                        ;		fxdosDevice.errorCode = readSDSector(bsO
                    ffset,sectorBuffer);
  3157                        ;		if(!errorCode)
  3158                        ;		{
  3159                        ;			pFATBS = (PFATBOOTSECTOR)sectorB
                    uffer;
  3160                        ;
  3161                        ;
  3162                        ;
  3163                        ;			k_debug_integer("***k_sd_reset b
                    ytes_per_sector:",(INT)pFATBS->bytes_per_sector);
  3164                        ;			k_debug_integer("***k_sd_reset s
                    ectors_per_cluster:",(INT)pFATBS->sectors_per_cluster);
  3165                        ;			k_debug_integer("***k_sd_reset r
                    eserved_sector_count:",(INT)pFATBS->reserved_sector_count);
  3166                        ;			k_debug_integer("***k_sd_reset t
                    able_count:",(INT)pFATBS->fat_table_count);
  3167                        ;			k_debug_integer("***k_sd_reset r
                    oot_entry_count:",(INT)pFATBS->root_entry_count);
  3168                        ;			k_debug_integer("***k_sd_reset t
                    otal_sectors_16:",(INT)pFATBS->total_sectors_16);
  3169                        ;			k_debug_integer("***k_sd_reset m
                    edia_type:",(INT)pFATBS->media_type);
  3170                        ;			k_debug_integer("***k_sd_reset s
                    ectors_per_fat:",(INT)pFATBS->sectors_per_fat);
  3171                        ;			k_debug_integer("***k_sd_reset s
                    ectors_per_track:",(INT)pFATBS->sectors_per_track);
  3172                        ;			k_debug_integer("***k_sd_reset h
                    ead_side_count:",(INT)pFATBS->head_side_count);
  3173                        ;			k_debug_integer("***k_sd_reset h
  Sat Jul 10 2021  1:15                                                Page 64


                    idden_sector_count:",(INT)pFATBS->hidden_sector_count);
  3174                        ;			k_debug_integer("***k_sd_reset t
                    otal_sectors_32:",(INT)pFATBS->total_sectors_32);
  3175                        ;
  3176                        ;
  3177                        ;			memcpy(&fxdosDevice.bootSector,s
                    ectorBuffer,sizeof(FATBOOTSECTOR));
  3178                        ;
  3179                        ;			k_debug_integer("***fxdosDevice 
                    bytes_per_sector:",(INT)fxdosDevice.bootSector.bytes_per_sec
                    tor);
  3180                        ;			k_debug_integer("***fxdosDevice 
                    sectors_per_cluster:",(INT)fxdosDevice.bootSector.sectors_pe
                    r_cluster);
  3181                        ;			k_debug_integer("***fxdosDevice 
                    reserved_sector_count:",(INT)fxdosDevice.bootSector.reserved
                    _sector_count);
  3182                        ;			k_debug_integer("***fxdosDevice 
                    table_count:",(INT)fxdosDevice.bootSector.fat_table_count);
  3183                        ;			k_debug_integer("***fxdosDevice 
                    root_entry_count:",(INT)fxdosDevice.bootSector.root_entry_co
                    unt);
  3184                        ;			k_debug_integer("***fxdosDevice 
                    total_sectors_16:",(INT)fxdosDevice.bootSector.total_sectors
                    _16);
  3185                        ;			k_debug_integer("***fxdosDevice 
                    media_type:",(INT)fxdosDevice.bootSector.media_type);
  3186                        ;			k_debug_integer("***fxdosDevice 
                    sectors_per_fat:",(INT)fxdosDevice.bootSector.sectors_per_fa
                    t);
  3187                        ;			k_debug_integer("***fxdosDevice 
                    sectors_per_track:",(INT)fxdosDevice.bootSector.sectors_per_
                    track);
  3188                        ;			k_debug_integer("***fxdosDevice 
                    head_side_count:",(INT)fxdosDevice.bootSector.head_side_coun
                    t);
  3189                        ;			k_debug_integer("***fxdosDevice 
                    hidden_sector_count:",(INT)fxdosDevice.bootSector.hidden_sec
                    tor_count);
  3190                        ;			k_debug_integer("***fxdosDevice 
                    total_sectors_32:",(INT)fxdosDevice.bootSector.total_sectors
                    _32);
  3191                        ;
  3192                        ;
  3193                        ;			k_debug_nstring(pFATBS->vol_name
                    ,11);
  3194                        ;			k_debug_string("\r\n");
  3195                        ;			k_debug_nstring(pFATBS->file_sys
                    tem_type,8);
  3196                        ;			k_debug_string("\r\n");
  3197                        ;
  3198                        ;			strncpy(fxdosDevice.volume_name,
                    pFATBS->vol_name,11);
  3199                        ;			fxdosDevice.volume_name[11] = 0;
  3200                        ;			k_debug_strings("***fxdosDevice 
                    Volume Name:",fxdosDevice.volume_name);
  3201                        ;
  3202                        ;			root_entry_count = pFATBS->root_
  Sat Jul 10 2021  1:15                                                Page 65


                    entry_count;
  3203                        ;			fxdosDevice.root_entry_count = p
                    FATBS->root_entry_count;
  3204                        ;
  3205                        ;			fatTable       = bsOffset + (pFA
                    TBS->bytes_per_sector * pFATBS->reserved_sector_count);
  3206                        ;			rootDirSectors = bsOffset + (((U
                    LONG)pFATBS->reserved_sector_count + ((ULONG)pFATBS->sectors
                    _per_fat * (ULONG)pFATBS->fat_table_count)) * (ULONG)pFATBS-
                    >bytes_per_sector);
  3207                        ;			sectors_per_cluster = (INT)pFATB
                    S->sectors_per_cluster;
  3208                        ;
  3209                        ;			k_debug_long("***k_sd_reset fatT
                    able:",fatTable);
  3210                        ;
  3211                        ;			fxdosDevice.fatTableOffset = bsO
                    ffset + (pFATBS->bytes_per_sector * pFATBS->reserved_sector_
                    count);
  3212                        ;			fxdosDevice.rootDirSectors = bsO
                    ffset + (((ULONG)pFATBS->reserved_sector_count + ((ULONG)pFA
                    TBS->sectors_per_fat * (ULONG)pFATBS->fat_table_count)) * (U
                    LONG)pFATBS->bytes_per_sector);
  3213                        ;			fxdosDevice.sectors_per_cluster 
                    = (INT)pFATBS->sectors_per_cluster;
  3214                        ;
  3215                        ;			k_debug_long("***fxdosDevice fat
                    Table:",fxdosDevice.fatTableOffset);
  3216                        ;
  3217                        ;
  3218                        ;
  3219                        ;			if(readSDSector(fatTable,sectorB
                    uffer) == 0)
  3220                        ;			{
  3221                        ;				pFAT1 = (PUINT)sectorBuf
                    fer;
  3222                        ;				memcpy(&fxdosDevice.file
                    AllocationTable,sectorBuffer,FAT_PAGE_SIZE);
  3223                        ;				//k_debug_byte_array("FA
                    T ENTRIES:",sectorBuffer,512);
  3224                        ;				/*
  3225                        ;				i = 0;
  3226                        ;				x = 0xFFFF;
  3227                        ;				while(x)
  3228                        ;				{
  3229                        ;					x = ((INT*)fileA
                    llocationTable1)[i++];
  3230                        ;					k_debug_integer(
                    "FAT ENTRY:",x);
  3231                        ;				}
  3232                        ;				*/
  3233                        ;			}
  3234                        ;
  3235                        ;
  3236                        ;			//rootDirSectors = bsOffset + ((
                    (ULONG)pFATBS->reserved_sector_count + ((ULONG)pFATBS->secto
                    rs_per_fat * (ULONG)pFATBS->fat_table_count)) * (ULONG)pFATB
                    S->bytes_per_sector);
  Sat Jul 10 2021  1:15                                                Page 66


  3237                        ;
  3238                        ;			k_debug_long("***k_sd_reset root
                     offset:",rootDirSectors);
  3239                        ;			k_debug_long("***k_sd_reset root
                     sizeof(FAT16ENTRY):",sizeof(FAT16ENTRY));
  3240                        ;			k_debug_long("***k_sd_reset root
                     root_entry_count:",root_entry_count);
  3241                        ;			k_debug_long("***k_sd_reset root
                     root_entry_count/sizeof(FAT16ENTRY):",root_entry_count/size
                    of(FAT16ENTRY));
  3242                        ;
  3243                        ;			k_debug_long("***fxdosDevice roo
                    t offset:",fxdosDevice.rootDirSectors);
  3244                        ;			k_debug_long("***fxdosDevice roo
                    t sizeof(FAT16ENTRY):",sizeof(FAT16ENTRY));
  3245                        ;			k_debug_long("***fxdosDevice roo
                    t root_entry_count:",fxdosDevice.root_entry_count);
  3246                        ;			k_debug_long("***fxdosDevice roo
                    t root_entry_count/sizeof(FAT16ENTRY):",fxdosDevice.root_ent
                    ry_count/sizeof(FAT16ENTRY));
  3247                        ;
  3248                        ;
  3249                        ;			if(readSDSector(rootDirSectors,s
                    ectorBuffer) == 0)
  3250                        ;			{
  3251                        ;				//k_debug_byte_array("FA
                    T ENTRIES:",sectorBuffer,size);
  3252                        ;				k_debug_integer("FAT roo
                    t_entry_count:",root_entry_count);
  3253                        ;				for(i=0; i<root_entry_co
                    unt; i++)
  3254                        ;				{
  3255                        ;					if(i * sizeof(FA
                    T16ENTRY) > (512 - sizeof(FAT16ENTRY)))
  3256                        ;					{
  3257                        ;
  3258                        ;					}
  3259                        ;
  3260                        ;					pentry = (PFAT16
                    ENTRY)&sectorBuffer[i * sizeof(FAT16ENTRY)];
  3261                        ;					data = print_fil
                    e_info(pentry);
  3262                        ;					if(data > 0)
  3263                        ;					{
  3264                        ;						k_debug_
                    long("bsOffset:",bsOffset);
  3265                        ;						k_debug_
                    long("Cluster Offset + bsOffset:",data + bsOffset);
  3266                        ;
  3267                        ;						//((N  
                    2) * BPB_SecPerClus) + FirstDataSector;
  3268                        ;
  3269                        ;						firstDat
                    aSector = (INT)fxdosDevice.bootSector.reserved_sector_count 
                    + ((INT)pFATBS->fat_table_count * 512) + fxdosDevice.rootDir
                    Sectors;
  3270                        ;
  3271                        ;
  Sat Jul 10 2021  1:15                                                Page 67


  3272                        ;						k_debug_
                    long("Cluster Offset Calculated:",((data - 2) * fxdosDevice.
                    sectors_per_cluster) + firstDataSector);
  3273                        ;
  3274                        ;						k_debug_
                    long("FAT Entry:",((UINT*)(&fxdosDevice.fileAllocationTable)
                    )[data]);
  3275                        ;
  3276                        ;
  3277                        ;						if(readS
                    DSector(data + bsOffset,fatfileBuffer) == 0)
  3278                        ;						{
  3279                        ;							
                    k_debug_byte_array("CONTENT:\r\n",fatfileBuffer,512);
  3280                        ;						}
  3281                        ;
  3282                        ;						if( memc
                    mp(pentry->filename,"TEST1",5) == 0 )
  3283                        ;						{
  3284                        ;							
                    //k_debug_string("** Found TEST1\r\n");
  3285                        ;							
                    //k_debug_long("** Found TEST1 size:",pentry->file_size);
  3286                        ;
  3287                        ;							
                    //memset(fatfileBuffer,0,512);
  3288                        ;							
                    memcpy(fatfileBuffer,"AUTOMATION!      ",pentry->file_size);
  3289                        ;
  3290                        ;							
                    writeSDSector(data + bsOffset,fatfileBuffer);
  3291                        ;						}
  3292                        ;					}
  3293                        ;				}
  3294                        ;			}
  3295                        ;
  3296                        ;			/*
  3297                        ;			typedef struct _FXDosDevice
  3298                        ;			{
  3299                        ;				FATBOOTSECTOR  bootSecto
                    r;
  3300                        ;				PARTITIONTABLE partition
                    Table;
  3301                        ;				UCHAR 		   fileA
                    llocationTable[512];
  3302                        ;				ULONG		   bsOff
                    set;
  3303                        ;				ULONG 		   rootD
                    irSectors;
  3304                        ;				INT 		   root_
                    entry_count;
  3305                        ;				INT            rootEntri
                    esPerPage;
  3306                        ;				INT 		   secto
                    rs_per_cluster;
  3307                        ;				volume_name
  3308                        ;				UCHAR		   error
                    Code;
  Sat Jul 10 2021  1:15                                                Page 68


  3309                        ;			}FXDOSDEVICE;
  3310                        ;				*/
  3311                        ;			rootEntriesPerPage = root_entry_
                    count/sizeof(FAT16ENTRY);
  3312                        ;			fxdosDevice.rootEntriesPerPage =
                     root_entry_count/sizeof(FAT16ENTRY);
  3313                        ;
  3314                        ;			for(i=0; i<rootEntriesPerPage; i
                    ++)
  3315                        ;			{
  3316                        ;				if(readSDSector(rootDirS
                    ectors,sectorBuffer) == 0)
  3317                        ;				{
  3318                        ;					for(x=0; x<rootE
                    ntriesPerPage; x++)
  3319                        ;					{
  3320                        ;						pentry =
                     (PFAT16ENTRY)&sectorBuffer[x * sizeof(FAT16ENTRY)];
  3321                        ;						data = p
                    rint_file_info(pentry);
  3322                        ;
  3323                        ;						/*
  3324                        ;						if(data 
                    && pFAT1)
  3325                        ;						{
  3326                        ;							
                    LPCHAR videoMem = SHADOW_BANK_0;
  3327                        ;
  3328                        ;							
                    k_debug_integer("FILE FIRST CLUSTER 1:",pentry->starting_clu
                    ster);
  3329                        ;
  3330                        ;							
                    next = pentry->starting_cluster;
  3331                        ;							
                    while(next!=65528L && next!=0L && next!=65535L)
  3332                        ;							
                    {
  3333                        ;							
                    	k_debug_integer("FILE FAT CLUSTER 2:",next);
  3334                        ;
  3335                        ;							
                    	if(next!=65528L && next!=0L && next!=65535L)
  3336                        ;							
                    	{
  3337                        ;							
                    		k_debug_integer("FILE FAT CLUSTER 3:",next);
  3338                        ;							
                    		if( memcmp(pentry->filename,"LOGO1",5) == 0 )
  3339                        ;							
                    		{
  3340                        ;							
                    			videoMem = readClusterToMemory(getCluste
                    rLocationByIndex(next) + bsOffset,sectors_per_cluster,videoM
                    em,pentry->file_size);
  3341                        ;							
                    		}
  3342                        ;							
  Sat Jul 10 2021  1:15                                                Page 69


                    		else
  3343                        ;							
                    		{
  3344                        ;							
                    			 videoMem = NULL;
  3345                        ;							
                    		}
  3346                        ;							
                    		next = pFAT1[next];
  3347                        ;							
                    	}
  3348                        ;							
                    }
  3349                        ;
  3350                        ;							
                    if(videoMem)
  3351                        ;							
                    {
  3352                        ;							
                    	readBitmapData(SHADOW_BANK_0);
  3353                        ;							
                    }
  3354                        ;						}
  3355                        ;						*/
  3356                        ;						/*
  3357                        ;						if(data 
                    > 0)
  3358                        ;						{
  3359                        ;							
                    if(readSDSector(data + bsOffset,fatfileBuffer) == 0)
  3360                        ;							
                    {
  3361                        ;							
                    	k_debug_strings("\tCONTENT:\r\n\t\t",fatfileBuffer);
  3362                        ;							
                    }
  3363                        ;
  3364                        ;							
                    if( memcmp(pentry->filename,"TEST1",5) == 0 )
  3365                        ;							
                    {
  3366                        ;							
                    	//k_debug_string("** Found TEST1\r\n");
  3367                        ;							
                    	//k_debug_long("** Found TEST1 size:",pentry->file_size)
                    ;
  3368                        ;
  3369                        ;							
                    	//memset(fatfileBuffer,0,512);
  3370                        ;							
                    	memcpy(fatfileBuffer,"AUTOMATION!      ",pentry->file_si
                    ze);
  3371                        ;
  3372                        ;							
                    	writeSDSector(data + bsOffset,fatfileBuffer);
  3373                        ;							
                    }
  3374                        ;						}
  Sat Jul 10 2021  1:15                                                Page 70


  3375                        ;						*/
  3376                        ;					}
  3377                        ;				}
  3378                        ;
  3379                        ;				rootDirSectors+=512;
  3380                        ;
  3381                        ;			}
  3382                        ;
  3383                        ;
  3384                        ;
  3385                        ;		}
  3386                        ;
  3387                        ;    }
  3388                        ;
  3389                        ;    GABE_MSTR_CTRL[0] = GABE_MSTR_CTRL[0] & (~GAB
                    E_CTRL_SDC_LED);
  3390                        ;
  3391                        ;	return 0;
  3392                        ;}
  3393                        ;
  3394                        ;
  3395                        ;
  3396                        ;UCHAR k_sd_reset_safe(VOID)
  3397                        ;{
  3398                        ;
  3399                        ;
  3400                        ;	INT x = 0;
  3401                        ;	INT i = 0;
  3402                        ;	INT size = 0;
  3403                        ;
  3404                        ;	UCHAR	errorCode;
  3405                        ;	CHAR	byte;
  3406                        ;
  3407                        ;	//UCHAR	fifoLO;
  3408                        ;	//UCHAR	fifoHI;
  3409                        ;	UCHAR	s;
  3410                        ;
  3411                        ;	ULONG next = -1;
  3412                        ;	INT root_entry_count     = 0;
  3413                        ;	INT rootEntriesPerPage	 = 0;
  3414                        ;	INT sectors_per_cluster  = 0;
  3415                        ;
  3416                        ;	PFATBOOTSECTOR pFATBS = NULL;
  3417                        ;	PPARTITIONTABLE pPartTable = NULL;
  3418                        ;	PFAT16ENTRY  pentry = NULL;
  3419                        ;	PUINT pFAT1 = NULL;
  3420                        ;
  3421                        ;	unsigned long offset = 0L;
  3422                        ;	unsigned long bsOffset = 0L;
  3423                        ;	unsigned long fatTable = 0L;
  3424                        ;	unsigned long rootDirSectors = 0L;// 0x010000D2;
  3425                        ;	unsigned long data = 0L;// 0x010000D2;
  3426                        ;
  3427                        ;	k_debug_string("***k_sd_reset_safe 1\r\n");
  3428                        ;
  3429                        ;	SDC_TRANS_TYPE_REG[0]    = SDC_TRANS_INIT_SD;
  3430                        ;    SDC_TRANS_CONTROL_REG[0] = SDC_TRANS_START;
  3431                        ;
  Sat Jul 10 2021  1:15                                                Page 71


  3432                        ;    s = SDC_TRANS_BUSY;
  3433                        ;    while(s & SDC_TRANS_BUSY)
  3434                        ;    {
  3435                        ;    	s = SDC_TRANS_STATUS_REG[0];
  3436                        ;   	}
  3437                        ;
  3438                        ;    errorCode = SDC_TRANS_ERROR_REG[0];
  3439                        ;
  3440                        ;    k_debug_integer("***k_sd_reset errorCode:",er
                    rorCode);
  3441                        ;
  3442                        ;    if(!errorCode)
  3443                        ;    {
  3444                        ;		GABE_MSTR_CTRL[0] |= GABE_CTRL_SDC_LED;
  3445                        ;
  3446                        ;		errorCode = readSDSector(0,sectorBuffer)
                    ;
  3447                        ;
  3448                        ;		for(x=0;x<4;x++)
  3449                        ;		{
  3450                        ;			pPartTable = (PPARTITIONTABLE)&s
                    ectorBuffer[FAT_PARTITION_TABLE_1 + (0x10 * x)];
  3451                        ;
  3452                        ;			k_debug_hex ("***k_sd_reset firs
                    t_byte:",pPartTable->first_byte);
  3453                        ;			k_debug_hex ("***k_sd_reset star
                    t_chs0:",pPartTable->start_chs[0]);
  3454                        ;			k_debug_hex ( "***k_sd_reset sta
                    rt_chs1:",pPartTable->start_chs[1]);
  3455                        ;			k_debug_hex ("***k_sd_reset star
                    t_chs2:",pPartTable->start_chs[2]);
  3456                        ;			k_debug_hex ("***k_sd_reset part
                    ition_type:",(INT)pPartTable->partition_type);
  3457                        ;			k_debug_hex ("***k_sd_reset end_
                    chs0:",pPartTable->end_chs[0]);
  3458                        ;			k_debug_hex ("***k_sd_reset end_
                    chs1:",pPartTable->end_chs[1]);
  3459                        ;			k_debug_hex ("***k_sd_reset end_
                    chs2:",pPartTable->end_chs[2]);
  3460                        ;			k_debug_long("***k_sd_reset star
                    t_sector:",pPartTable->start_sector);
  3461                        ;			k_debug_long("***k_sd_reset leng
                    th_sectors:",pPartTable->length_sectors);
  3462                        ;
  3463                        ;			if(pPartTable->partition_type ==
                     FAT_PARTITION_TYPE_DOS30 ||
  3464                        ;			   pPartTable->partition_type ==
                     FAT_PARTITION_TYPE_DOS33 ||
  3465                        ;			   pPartTable->partition_type ==
                     FAT_PARTITION_TYPE_DOS70)
  3466                        ;			{
  3467                        ;				k_debug_hex("FAT16 files
                    ystem found from partition:", pPartTable->partition_type);
  3468                        ;				break;
  3469                        ;			}
  3470                        ;		}
  3471                        ;
  3472                        ;		bsOffset = (pPartTable->start_sector * F
  Sat Jul 10 2021  1:15                                                Page 72


                    AT_PAGE_SIZE);
  3473                        ;
  3474                        ;		errorCode = readSDSector(bsOffset,sector
                    Buffer);
  3475                        ;		if(!errorCode)
  3476                        ;		{
  3477                        ;			pFATBS = (PFATBOOTSECTOR)sectorB
                    uffer;
  3478                        ;
  3479                        ;			k_debug_integer("***k_sd_reset b
                    ytes_per_sector:",(INT)pFATBS->bytes_per_sector);
  3480                        ;			k_debug_integer("***k_sd_reset s
                    ectors_per_cluster:",(INT)pFATBS->sectors_per_cluster);
  3481                        ;			k_debug_integer("***k_sd_reset r
                    eserved_sector_count:",(INT)pFATBS->reserved_sector_count);
  3482                        ;			k_debug_integer("***k_sd_reset t
                    able_count:",(INT)pFATBS->fat_table_count);
  3483                        ;			k_debug_integer("***k_sd_reset r
                    oot_entry_count:",(INT)pFATBS->root_entry_count);
  3484                        ;			k_debug_integer("***k_sd_reset t
                    otal_sectors_16:",(INT)pFATBS->total_sectors_16);
  3485                        ;			k_debug_integer("***k_sd_reset m
                    edia_type:",(INT)pFATBS->media_type);
  3486                        ;			k_debug_integer("***k_sd_reset s
                    ectors_per_fat:",(INT)pFATBS->sectors_per_fat);
  3487                        ;			k_debug_integer("***k_sd_reset s
                    ectors_per_track:",(INT)pFATBS->sectors_per_track);
  3488                        ;			k_debug_integer("***k_sd_reset h
                    ead_side_count:",(INT)pFATBS->head_side_count);
  3489                        ;			k_debug_integer("***k_sd_reset h
                    idden_sector_count:",(INT)pFATBS->hidden_sector_count);
  3490                        ;			k_debug_integer("***k_sd_reset t
                    otal_sectors_32:",(INT)pFATBS->total_sectors_32);
  3491                        ;
  3492                        ;			k_debug_nstring(pFATBS->vol_name
                    ,11);
  3493                        ;			k_debug_string("\r\n");
  3494                        ;			k_debug_nstring(pFATBS->file_sys
                    tem_type,8);
  3495                        ;			k_debug_string("\r\n");
  3496                        ;
  3497                        ;			root_entry_count = pFATBS->root_
                    entry_count;
  3498                        ;
  3499                        ;			fatTable       = bsOffset + (pFA
                    TBS->bytes_per_sector * pFATBS->reserved_sector_count);
  3500                        ;			rootDirSectors = bsOffset + (((U
                    LONG)pFATBS->reserved_sector_count + ((ULONG)pFATBS->sectors
                    _per_fat * (ULONG)pFATBS->fat_table_count)) * (ULONG)pFATBS-
                    >bytes_per_sector);
  3501                        ;			sectors_per_cluster = (INT)pFATB
                    S->sectors_per_cluster;
  3502                        ;
  3503                        ;			k_debug_long("***k_sd_reset fatT
                    able:",fatTable);
  3504                        ;
  3505                        ;
  3506                        ;			if(readSDSector(fatTable,sectorB
  Sat Jul 10 2021  1:15                                                Page 73


                    uffer) == 0)
  3507                        ;			{
  3508                        ;				pFAT1 = (PUINT)sectorBuf
                    fer;
  3509                        ;				//k_debug_byte_array("FA
                    T ENTRIES:",sectorBuffer,512);
  3510                        ;				/*
  3511                        ;				i = 0;
  3512                        ;				x = 0xFFFF;
  3513                        ;				while(x)
  3514                        ;				{
  3515                        ;					x = ((INT*)fileA
                    llocationTable1)[i++];
  3516                        ;					k_debug_integer(
                    "FAT ENTRY:",x);
  3517                        ;				}
  3518                        ;				*/
  3519                        ;			}
  3520                        ;
  3521                        ;
  3522                        ;			//rootDirSectors = bsOffset + ((
                    (ULONG)pFATBS->reserved_sector_count + ((ULONG)pFATBS->secto
                    rs_per_fat * (ULONG)pFATBS->fat_table_count)) * (ULONG)pFATB
                    S->bytes_per_sector);
  3523                        ;
  3524                        ;			k_debug_long("***k_sd_reset root
                     offset:",rootDirSectors);
  3525                        ;
  3526                        ;			k_debug_long("***k_sd_reset root
                     sizeof(FAT16ENTRY):",sizeof(FAT16ENTRY));
  3527                        ;			k_debug_long("***k_sd_reset root
                     root_entry_count:",root_entry_count);
  3528                        ;			k_debug_long("***k_sd_reset root
                     root_entry_count/sizeof(FAT16ENTRY):",root_entry_count/size
                    of(FAT16ENTRY));
  3529                        ;
  3530                        ;			/*
  3531                        ;			if(readSDSector(rootDirSectors,s
                    ectorBuffer) == 0)
  3532                        ;			{
  3533                        ;				//k_debug_byte_array("FA
                    T ENTRIES:",sectorBuffer,size);
  3534                        ;				//k_debug_integer("FAT r
                    oot_entry_count:",root_entry_count);
  3535                        ;				for(i=0; i<root_entry_co
                    unt; i++)
  3536                        ;				{
  3537                        ;					if(i * sizeof(FA
                    T16ENTRY) > (512 - sizeof(FAT16ENTRY)))
  3538                        ;					{
  3539                        ;
  3540                        ;					}
  3541                        ;
  3542                        ;					pentry = (PFAT16
                    ENTRY)&sectorBuffer[i * sizeof(FAT16ENTRY)];
  3543                        ;					data = print_fil
                    e_info(pentry);
  3544                        ;					if(data > 0)
  Sat Jul 10 2021  1:15                                                Page 74


  3545                        ;					{
  3546                        ;						if(readS
                    DSector(data + bsOffset,fatfileBuffer) == 0)
  3547                        ;						{
  3548                        ;							
                    k_debug_strings("\tCONTENT:\r\n\t\t",fatfileBuffer);
  3549                        ;						}
  3550                        ;
  3551                        ;						if( memc
                    mp(pentry->filename,"TEST1",5) == 0 )
  3552                        ;						{
  3553                        ;							
                    //k_debug_string("** Found TEST1\r\n");
  3554                        ;							
                    //k_debug_long("** Found TEST1 size:",pentry->file_size);
  3555                        ;
  3556                        ;							
                    //memset(fatfileBuffer,0,512);
  3557                        ;							
                    memcpy(fatfileBuffer,"AUTOMATION!      ",pentry->file_size);
  3558                        ;
  3559                        ;							
                    writeSDSector(data + bsOffset,fatfileBuffer);
  3560                        ;						}
  3561                        ;					}
  3562                        ;				}
  3563                        ;			}
  3564                        ;			*/
  3565                        ;
  3566                        ;			rootEntriesPerPage = root_entry_
                    count/sizeof(FAT16ENTRY);
  3567                        ;
  3568                        ;			for(i=0; i<rootEntriesPerPage; i
                    ++)
  3569                        ;			{
  3570                        ;				if(readSDSector(rootDirS
                    ectors,sectorBuffer) == 0)
  3571                        ;				{
  3572                        ;					for(x=0; x<rootE
                    ntriesPerPage; x++)
  3573                        ;					{
  3574                        ;						pentry =
                     (PFAT16ENTRY)&sectorBuffer[x * sizeof(FAT16ENTRY)];
  3575                        ;						data = p
                    rint_file_info(pentry);
  3576                        ;
  3577                        ;						/*
  3578                        ;						if(data 
                    && pFAT1)
  3579                        ;						{
  3580                        ;							
                    LPCHAR videoMem = SHADOW_BANK_0;
  3581                        ;
  3582                        ;							
                    k_debug_integer("FILE FIRST CLUSTER 1:",pentry->starting_clu
                    ster);
  3583                        ;
  3584                        ;							
  Sat Jul 10 2021  1:15                                                Page 75


                    next = pentry->starting_cluster;
  3585                        ;							
                    while(next!=65528L && next!=0L && next!=65535L)
  3586                        ;							
                    {
  3587                        ;							
                    	k_debug_integer("FILE FAT CLUSTER 2:",next);
  3588                        ;
  3589                        ;							
                    	if(next!=65528L && next!=0L && next!=65535L)
  3590                        ;							
                    	{
  3591                        ;							
                    		k_debug_integer("FILE FAT CLUSTER 3:",next);
  3592                        ;							
                    		if( memcmp(pentry->filename,"LOGO1",5) == 0 )
  3593                        ;							
                    		{
  3594                        ;							
                    			videoMem = readClusterToMemory(getCluste
                    rLocationByIndex(next) + bsOffset,sectors_per_cluster,videoM
                    em,pentry->file_size);
  3595                        ;							
                    		}
  3596                        ;							
                    		else
  3597                        ;							
                    		{
  3598                        ;							
                    			 videoMem = NULL;
  3599                        ;							
                    		}
  3600                        ;							
                    		next = pFAT1[next];
  3601                        ;							
                    	}
  3602                        ;							
                    }
  3603                        ;
  3604                        ;							
                    if(videoMem)
  3605                        ;							
                    {
  3606                        ;							
                    	readBitmapData(SHADOW_BANK_0);
  3607                        ;							
                    }
  3608                        ;						}
  3609                        ;						*/
  3610                        ;						/*
  3611                        ;						if(data 
                    > 0)
  3612                        ;						{
  3613                        ;							
                    if(readSDSector(data + bsOffset,fatfileBuffer) == 0)
  3614                        ;							
                    {
  3615                        ;							
  Sat Jul 10 2021  1:15                                                Page 76


                    	k_debug_strings("\tCONTENT:\r\n\t\t",fatfileBuffer);
  3616                        ;							
                    }
  3617                        ;
  3618                        ;							
                    if( memcmp(pentry->filename,"TEST1",5) == 0 )
  3619                        ;							
                    {
  3620                        ;							
                    	//k_debug_string("** Found TEST1\r\n");
  3621                        ;							
                    	//k_debug_long("** Found TEST1 size:",pentry->file_size)
                    ;
  3622                        ;
  3623                        ;							
                    	//memset(fatfileBuffer,0,512);
  3624                        ;							
                    	memcpy(fatfileBuffer,"AUTOMATION!      ",pentry->file_si
                    ze);
  3625                        ;
  3626                        ;							
                    	writeSDSector(data + bsOffset,fatfileBuffer);
  3627                        ;							
                    }
  3628                        ;						}
  3629                        ;						*/
  3630                        ;					}
  3631                        ;				}
  3632                        ;
  3633                        ;				rootDirSectors+=512;
  3634                        ;
  3635                        ;			}
  3636                        ;
  3637                        ;
  3638                        ;
  3639                        ;		}
  3640                        ;
  3641                        ;    }
  3642                        ;
  3643                        ;    GABE_MSTR_CTRL[0] = GABE_MSTR_CTRL[0] & (~GAB
                    E_CTRL_SDC_LED);
  3644                        ;
  3645                        ;	return 0;
  3646                        ;}
  3647                        ;
  3648                        ;#endif
  3649                        ;
  3650                        ;/*
  3651                        ;void k_sd_dos_init(PFXDOSDEVICE pfxdosDevice)
  3652                        ;{
  3653                        ;	UINT s = 0;
  3654                        ;
  3655                        ;	k_debug_string("k_sd_dos_init...\r\n");
  3656                        ;
  3657                        ;	SDC_TRANS_TYPE_REG[0]    = SDC_TRANS_INIT_SD;
  3658                        ;    SDC_TRANS_CONTROL_REG[0] = SDC_TRANS_START;
  3659                        ;
  3660                        ;    s = SDC_TRANS_BUSY;
  Sat Jul 10 2021  1:15                                                Page 77


  3661                        ;    while(s & SDC_TRANS_BUSY)
  3662                        ;    {
  3663                        ;    	s = SDC_TRANS_STATUS_REG[0];
  3664                        ;   	}
  3665                        ;
  3666                        ;
  3667                        ;    pfxdosDevice->devstatus = SDC_TRANS_ERROR_REG
                    [0];
  3668                        ;    if(!pfxdosDevice->devstatus)
  3669                        ;    	pfxdosDevice->initialized = TRUE;
  3670                        ;
  3671                        ;    k_debug_bits("k_sd_dos_init:",pfxdosDevice->d
                    evstatus);
  3672                        ;}
  3673                        ;
  3674                        ;void k_hd_dos_init(PFXDOSDEVICE pfxdosDevice)
  3675                        ;{
  3676                        ;	k_debug_string("k_hd_dos_init...\r\n");
  3677                        ;
  3678                        ;	k_ide_init();
  3679                        ;
  3680                        ;	pfxdosDevice->initialized = TRUE;
  3681                        ;	pfxdosDevice->devdata = (PIDENTIFY_DEVICE_DATA)k
                    _ide_get_info();
  3682                        ;	pfxdosDevice->devstatus = 0;
  3683                        ;}
  3684                        ;
  3685                        ;void k_fd_dos_init(PFXDOSDEVICE pfxdosDevice)
  3686                        ;{
  3687                        ;	k_debug_string("k_fd_dos_init...\r\n");
  3688                        ;
  3689                        ;
  3690                        ;	pfxdosDevice->initialized = TRUE;
  3691                        ;	//floppy_init();
  3692                        ;	k_fd_init();
  3693                        ;}
  3694                        ;
  3695                        ;UCHAR k_read_fd_sector(unsigned long offset,LPCHA
                    R receiveBuffer)
  3696                        ;{
  3697                        ;	int pres = 0;
  3698                        ;	k_debug_long("k_read_fd_sector:",offset);
  3699                        ;
  3700                        ;
  3701                        ;//offset = offset / 512;
  3702                        ;//
  3703                        ;//	if(offset == 0L)
  3704                        ;//		memcpy(receiveBuffer,FAT12BOOT,5
                    12);
  3705                        ;//	else if(offset == 19L)
  3706                        ;//		memcpy(receiveBuffer,FAT12ROOT,5
                    12);
  3707                        ;//
  3708                        ;//	return 0;
  3709                        ;
  3710                        ;	//pres = floppy_present();
  3711                        ;	k_debug_long("k_read_fd_sector():", pres);
  3712                        ;
  Sat Jul 10 2021  1:15                                                Page 78


  3713                        ;	//floppy_read(receiveBuffer, offset, 1);
  3714                        ;	k_fd_read_sector(receiveBuffer, offset);
  3715                        ;
  3716                        ;	return 0;
  3717                        ;}
  3718                        ;
  3719                        ;
  3720                        ;
  3721                        ;
  3722                        ;UCHAR k_sd_status(VOID)
  3723                        ;{
  3724                        ;	return 0;
  3725                        ;}
  3726                        ;
  3727                        ;BOOL k_sd_ispresent(void)
  3728                        ;{
  3729                        ;	UCHAR errorCode = 0;
  3730                        ;
  3731                        ;	errorCode = k_sd_initialize();
  3732                        ;	k_debug_integer("k_sd_ispresent:", errorCode);
  3733                        ;
  3734                        ;	if(errorCode)
  3735                        ;		return FALSE;
  3736                        ;	else
  3737                        ;		return TRUE;
  3738                        ;}
  3739                        ;
  3740                        ;UCHAR k_sd_waitforirq(void)
  3741                        ;{
  3742                        ;	return 0;
  3743                        ;}
  3744                        ;
  3745                        ;PFXDOSDEVICE k_sd_mount(void)
  3746                        ;{
  3747                        ;	PFXDOSDEVICE device = NULL;
  3748                        ;
  3749                        ;	if(k_sd_ispresent())
  3750                        ;	{
  3751                        ;		device = k_create_dos_device(FXDOS_SDC);
  3752                        ;	}
  3753                        ;
  3754                        ;	return device;
  3755                        ;}
  3756                        ;
  3757                        ;BOOL k_sd_openfile(LPCHAR filename)
  3758                        ;{
  3759                        ;	k_debug_string("k_sd_openfile::filename:");
  3760                        ;	k_debug_string(filename);
  3761                        ;	k_debug_string("\r\n");
  3762                        ;
  3763                        ;	return FALSE;
  3764                        ;}
  3765                        ;
  3766                        ;BOOL k_sd_setfilename(LPCHAR filename)
  3767                        ;{
  3768                        ;	k_debug_string("k_sd_setfilename::filename:");
  3769                        ;	k_debug_string(filename);
  3770                        ;	k_debug_string("\r\n");
  Sat Jul 10 2021  1:15                                                Page 79


  3771                        ;
  3772                        ;
  3773                        ;	return TRUE;
  3774                        ;}
  3775                        ;
  3776                        ;
  3777                        ;PFXNODE k_sd_read_dir(void)
  3778                        ;{
  3779                        ;	return NULL;
  3780                        ;}
  3781                        ;
  3782                        ;void k_sd_search_dir(LPCHAR searchString)
  3783                        ;{
  3784                        ;}
  3785                        ;
  3786                        ;
  3787                        ;UINT k_read_disk_sector(LPCHAR buf, ULONG iLbaSta
                    rt, UCHAR iSectorCount)
  3788                        ;{
  3789                        ;	return 0;
  3790                        ;}
  3791                        ;
  3792                        ;UCHAR k_sd_cmd_and_irq( UCHAR mCmd )
  3793                        ;{
  3794                        ;	return 0;
  3795                        ;}
  3796                        ;
  3797                        ;UCHAR k_sd_disk_req_sense( void )
  3798                        ;{
  3799                        ;	return 0;
  3800                        ;}
  3801                        ;
  3802                        ;BOOL k_sd_read_vol(PDISKINFO pdiskInfo)
  3803                        ;{
  3804                        ;	//k_sd_reset();
  3805                        ;
  3806                        ;	//k_sd_test();
  3807                        ;
  3808                        ;	return FALSE;
  3809                        ;}
  3810                        ;
  3811                        ;BOOL k_sd_write_file(LPCHAR fileName,LPVOID fileB
                    uffer,UINT fileSize)
  3812                        ;{
  3813                        ;	return FALSE;
  3814                        ;}
  3815                        ;
  3816                        ;BOOL k_sd_read_file(LPCHAR fileName,LPVOID fileBu
                    ffer,UINT fileSize)
  3817                        ;{
  3818                        ;	return FALSE;
  3819                        ;}
  3820                        ;
  3821                        ;BOOL k_sd_create_dir(LPCHAR dirName)
  3822                        ;{
  3823                        ;	return FALSE;
  3824                        ;}
  3825                        ;
  Sat Jul 10 2021  1:15                                                Page 80


  3826                        ;BOOL k_sd_getdirinfo(P_FAT_DIR_INFO pdirName)
  3827                        ;{
  3828                        ;	return FALSE;
  3829                        ;}
  3830                        ;
  3831                        ;BOOL k_sd_delete(LPCHAR dirOrFileName)
  3832                        ;{
  3833                        ;	return FALSE;
  3834                        ;}
  3835                        ;
  3836                        ;BOOL k_sd_close(UCHAR update)
  3837                        ;{
  3838                        ;	return FALSE;
  3839                        ;}
  3840                        ;
  3841                        ;void k_sd_sendcmd(UCHAR command)
  3842                        ;{
  3843                        ;}
  3844                        ;
  3845                        ;void k_sd_senddta(UCHAR data)
  3846                        ;{
  3847                        ;}
  3848                        ;
  3849                        ;void k_sd_cmd_delay(void)
  3850                        ;{
  3851                        ;
  3852                        ;}
  3853                        ;
  3854                        ;void k_sd_dta_delay(void)
  3855                        ;{
  3856                        ;
  3857                        ;}
  3858                        ;
  3859                        ;
  3860                        ;UCHAR k_sd_createfile( LPCHAR name )
  3861                        ;{
  3862                        ;	return 0;
  3863                        ;}
  3864                        ;
  3865                        ;UCHAR	k_sd_read_block( PUCHAR buf )
  3866                        ;{
  3867                        ;
  3868                        ;	return 0;
  3869                        ;}
  3870                        ;
  3871                        ;
  3872                        ;void k_sd_write_host_block( PUCHAR buf, UCHAR len
                     )
  3873                        ;{
  3874                        ;
  3875                        ;}
  3876                        ;
  3877                        ;void k_sd_write_ofs_blocks( PUCHAR buf, UCHAR ofs
                    , UCHAR len )
  3878                        ;{
  3879                        ;
  3880                        ;}
  3881                        ;
  Sat Jul 10 2021  1:15                                                Page 81


  3882                        ;UCHAR k_sd_byte_locate( ULONG offset )
  3883                        ;{
  3884                        ;	return 0;
  3885                        ;}
  3886                        ;
  3887                        ;UCHAR k_sd_byte_read( PUCHAR buf, UINT ReqCount, 
                    PUINT RealCount )
  3888                        ;{
  3889                        ;
  3890                        ;	return 0;
  3891                        ;}
  3892                        ;
  3893                        ;
  3894                        ;UCHAR k_sd_byte_write( LPCHAR buf, UINT ReqCount,
                     PUINT RealCount )
  3895                        ;{
  3896                        ;	return 0;
  3897                        ;}
  3898                        ;
  3899                        ;UCHAR k_sd_write_req_block( PUCHAR buf )
  3900                        ;{
  3901                        ;	return 0;
  3902                        ;}
  3903                        ;
  3904                        ;void k_sd_test(void)
  3905                        ;{
  3906                        ;
  3907                        ;	DISKINFO di;
  3908                        ;	FAT_DIR_INFO dirName;
  3909                        ;
  3910                        ;	if (k_sd_initialize())
  3911                        ;	{
  3912                        ;		k_debug_string("k_sd_test::initialized..
                    .\r\n");
  3913                        ;		if (k_sd_ispresent())
  3914                        ;		{
  3915                        ;			k_debug_string("k_sd_test::card 
                    present...\r\n");
  3916                        ;
  3917                        ;			if (k_sd_mount())
  3918                        ;			{
  3919                        ;				k_debug_string("k_sd_tes
                    t::card mounted...\r\n");
  3920                        ;
  3921                        ;				k_debug_string("k_sd_tes
                    t::k_sd_read_dir...\r\n");
  3922                        ;
  3923                        ;				//k_sd_read_vol(&di);
  3924                        ;				//k_sd_search_dir("*VOL"
                    );
  3925                        ;
  3926                        ;				//k_sd_read_dir();
  3927                        ;
  3928                        ;
  3929                        ;
  3930                        ;			}
  3931                        ;			else
  3932                        ;			{
  Sat Jul 10 2021  1:15                                                Page 82


  3933                        ;				k_debug_string("k_sd_tes
                    t::card NOT mounted...\r\n");
  3934                        ;			}
  3935                        ;		}
  3936                        ;		else
  3937                        ;		{
  3938                        ;			k_debug_string("k_sd_test::card 
                    NOT present...\r\n");
  3939                        ;		}
  3940                        ;	}
  3941                        ;	else
  3942                        ;	{
  3943                        ;		k_debug_string("k_sd_test::NOT initializ
                    ed...\r\n");
  3944                        ;	}
  3945                        ;}
  3946                        ;*/
  3947                        ;
  3948                        ;#endif
  3949                        ;
  3950                        ;
  3951                        	.line	1512
  3952                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\drivers\DRIVER_FMXSDCard.c",281
  3953                        	xref	~~k_debug_byte_array
  3954                        	xref	~~k_debug_long
  3955                        	xref	~~k_debug_integer
  3956                        	xref	~~k_debug_string
  3957                        	xref	~~strncpy
  3958                        	xref	~~memset
  3959                        	.sym	~~readCluster,~~readCluster,80,2,0
  3960                        	.sym	~~k_sd_reset,~~k_sd_reset,65,2,0
  3961                        	.sym	~~f_get_driver,~~f_get_driver,1098,3,32,
                    55
  3962                        	.sym	~~DEVICE_SD,~~DEVICE_SD,138,2,32,55
  3963                        	.sym	~~DRIVER_FMXSDCard,~~DRIVER_FMXSDCard,10
                    ,3,808,56
  3964                        	.sym	~~k_read_sd_command,~~k_read_sd_command,
                    78,2,0
  3965                        	.sym	~~k_write_sd_sector,~~k_write_sd_sector,
                    78,2,0
  3966                        	.sym	~~k_read_sd_sector,~~k_read_sd_sector,78
                    ,2,0
  3967                        	.sym	~~k_sd_initialize,~~k_sd_initialize,78,2
                    ,0
  3968                        	.sym	~~_k_driver_base,~~_k_driver_base,129,3,
                    32
  3969                        	.sym	~~k_read_volume_name,~~k_read_volume_nam
                    e,78,2,0
  3970                        	.sym	PDOSHANDLE,0,138,14,32,124
  3971                        	.sym	DOSHANDLE,0,10,14,80,124
  3972                        	.sym	PFXDOSDEVICE,0,138,14,32,122
  3973                        	.sym	FXDOSDEVICE,0,10,14,5744,122
  3974                        	.sym	DOSINITDEVICE,0,641,14,32
  3975                        	.sym	DOSSECTORWRITER,0,654,14,32
  3976                        	.sym	DOSSECTORREADER,0,654,14,32
  3977                        	.sym	PIDENTIFY_DEVICE_DATA,0,138,14,32,121
  3978                        	.sym	IDENTIFY_DEVICE_DATA,0,10,14,4096,121
  Sat Jul 10 2021  1:15                                                Page 83


  3979                        	.sym	PIDSECTOR,0,138,14,32,98
  3980                        	.sym	IDSECTOR,0,10,14,2048,98
  3981                        	.sym	PLFN,0,138,14,32,97
  3982                        	.sym	LFN,0,10,14,256,97
  3983                        	.sym	PFAT16ENTRYLONG,0,138,14,32,96
  3984                        	.sym	FAT16ENTRYLONG,0,10,14,288,96
  3985                        	.sym	PFAT16ENTRY,0,138,14,32,95
  3986                        	.sym	FAT16ENTRY,0,10,14,256,95
  3987                        	.sym	Fat16BootSector,0,10,14,4096,94
  3988                        	.sym	PPARTITIONTABLE,0,138,14,32,93
  3989                        	.sym	PARTITIONTABLE,0,10,14,128,93
  3990                        	.sym	PFATBOOTSECTOR,0,138,14,32,92
  3991                        	.sym	FATBOOTSECTOR,0,10,14,928,92
  3992                        	.sym	fat_BS_t,0,10,14,688,91
  3993                        	.sym	fat_extBS_16_t,0,10,14,192,90
  3994                        	.sym	PFAT32EXT,0,138,14,32,89
  3995                        	.sym	fat_extBS_32_t,0,10,14,416,89
  3996                        	.sym	P_FX_FAT_DIR_INFO,0,138,14,32,88
  3997                        	.sym	FX_FAT_DIR_INFO,0,10,14,256,88
  3998                        	.sym	PFILEINFO,0,138,14,32,87
  3999                        	.sym	FILEINFO,0,10,14,136,87
  4000                        	.sym	PDISKINFO,0,138,14,32,86
  4001                        	.sym	DISKINFO,0,10,14,416,86
  4002                        	.sym	PDIRENTRY,0,138,14,32,85
  4003                        	.sym	DIRENTRY,0,10,14,256,85
  4004                        	.sym	DRESULT,0,5,14,16
  4005                        	.sym	DSTATUS,0,14,14,8
  4006                        	.sym	FRESULT,0,5,14,16
  4007                        	.sym	MKFS_PARM,0,10,14,80,84
  4008                        	.sym	FILINFO,0,10,14,2224,83
  4009                        	.sym	DIR,0,10,14,416,82
  4010                        	.sym	FIL,0,10,14,4400,81
  4011                        	.sym	FFOBJID,0,10,14,128,80
  4012                        	.sym	FATFS,0,10,14,4504,79
  4013                        	.sym	LBA_t,0,18,14,32
  4014                        	.sym	FSIZE_t,0,18,14,32
  4015                        	.sym	TCHAR,0,14,14,8
  4016                        	.sym	PCOMMANDARGS,0,138,14,32,78
  4017                        	.sym	COMMANDARGS,0,10,14,64,78
  4018                        	.sym	PTOKENIZESTATE,0,133,14,32
  4019                        	.sym	TOKENIZESTATE,0,5,14,16
  4020                        	.sym	PTOKEN,0,138,14,32,77
  4021                        	.sym	TOKEN,0,10,14,64,77
  4022                        	.sym	PTOKENTYPE,0,133,14,32
  4023                        	.sym	TOKENTYPE,0,5,14,16
  4024                        	.sym	FXCommandHandler,0,656,14,32
  4025                        	.sym	PCONSOLECTX,0,138,14,32,76
  4026                        	.sym	CONSOLECTX,0,10,14,1144,76
  4027                        	.sym	PSPINNERCTX,0,138,14,32,75
  4028                        	.sym	SPINNERCTX,0,10,14,48,75
  4029                        	.sym	HCLIP,0,138,14,32,74
  4030                        	.sym	PCLIPBOARD_DATA,0,138,14,32,74
  4031                        	.sym	CLIPBOARD_DATA,0,10,14,168,74
  4032                        	.sym	PEVENTMANAGER,0,138,14,32,73
  4033                        	.sym	EVENTMANAGER,0,10,14,192,73
  4034                        	.sym	EV_RUN,0,656,14,32
  4035                        	.sym	EV_QUERY_METRIC,0,656,14,32
  4036                        	.sym	EV_CONFIGURE,0,656,14,32
  Sat Jul 10 2021  1:15                                                Page 84


  4037                        	.sym	EV_UNINIT,0,641,14,32
  4038                        	.sym	EV_INIT,0,8833,14,32
  4039                        	.sym	PMOUSE_MSG_STATE,0,138,14,32,72
  4040                        	.sym	MOUSE_MSG_STATE,0,10,14,184,72
  4041                        	.sym	PFXEVENTPROCESS,0,138,14,32,71
  4042                        	.sym	FXEVENTPROCESS,0,10,14,64,71
  4043                        	.sym	PMARSHALDATA,0,139,14,32,70
  4044                        	.sym	MARSHALDATA,0,11,14,32,70
  4045                        	.sym	FXIDLEPROCESS,0,641,14,32
  4046                        	.sym	FXEventProc,0,641,14,32
  4047                        	.sym	PMOUSEMSGDATA,0,138,14,32,69
  4048                        	.sym	MOUSEMSGDATA,0,10,14,64,69
  4049                        	.sym	MSGIRQ,0,5,14,16
  4050                        	.sym	MAINLOOPARGS,0,10,14,16,68
  4051                        	.sym	PEACHCHILD_MSG,0,138,14,32,67
  4052                        	.sym	EACHCHILD_MSG,0,10,14,64,67
  4053                        	.sym	PMSGBOX_DATA,0,138,14,32,66
  4054                        	.sym	MSGBOX_DATA,0,10,14,96,66
  4055                        	.sym	PDESKTOP_DATA,0,138,14,32,65
  4056                        	.sym	DESKTOP_DATA,0,10,14,64,65
  4057                        	.sym	PWINDOWMANAGER,0,138,14,32,64
  4058                        	.sym	WINDOWMANAGER,0,10,14,160,64
  4059                        	.sym	WM_DOPROCS,0,641,14,32
  4060                        	.sym	WM_QUERY_METRIC,0,656,14,32
  4061                        	.sym	WM_CONFIGURE,0,656,14,32
  4062                        	.sym	WM_HANDLE_EVENT,0,8833,14,32
  4063                        	.sym	WM_EVENTS,0,641,14,32
  4064                        	.sym	PCUR_PALETTE_MAP,0,138,14,32,63
  4065                        	.sym	CUR_PALETTE_MAP,0,10,14,400,63
  4066                        	.sym	PCLICKDETECTED,0,138,14,32,62
  4067                        	.sym	CLICKDETECTED,0,10,14,64,62
  4068                        	.sym	OBJECTCLICKED,0,641,14,32
  4069                        	.sym	PIPCPORT,0,138,14,32,61
  4070                        	.sym	IPCPORT,0,10,14,144,61
  4071                        	.sym	MemoryCallback,0,641,14,32
  4072                        	.sym	PFXMEMORYMAP,0,138,14,32,60
  4073                        	.sym	FXMEMORYMAP,0,10,14,2072,60
  4074                        	.sym	UMM_HEAP_INFO,0,10,14,256,59
  4075                        	.sym	PEXECUTIVE,0,138,14,32,58
  4076                        	.sym	EXECUTIVE,0,10,14,128,58
  4077                        	.sym	EX_QUERY_METRIC,0,656,14,32
  4078                        	.sym	EX_CONFIGURE,0,656,14,32
  4079                        	.sym	EX_UNINIT,0,641,14,32
  4080                        	.sym	EX_INIT,0,8833,14,32
  4081                        	.sym	PFXSTRING,0,138,14,32,57
  4082                        	.sym	FXSTRING,0,10,14,64,57
  4083                        	.sym	DEVICEDRIVER_COMMAND,0,656,14,32
  4084                        	.sym	DEVICEDRIVER_UNLOAD,0,654,14,32
  4085                        	.sym	DEVICEDRIVER_WRITE,0,656,14,32
  4086                        	.sym	DEVICEDRIVER_READ,0,656,14,32
  4087                        	.sym	DEVICEDRIVER_LOAD,0,654,14,32
  4088                        	.sym	DEVICEDRIVER_IRQ,0,654,14,32
  4089                        	.sym	PFX_BLOCK_DEVICE_DRIVER,0,138,14,32,56
  4090                        	.sym	FX_BLOCK_DEVICE_DRIVER,0,10,14,808,56
  4091                        	.sym	GETDRIVERDEF,0,8842,14,32,55
  4092                        	.sym	PFX_DEVICE_DRIVER,0,138,14,32,55
  4093                        	.sym	FX_DEVICE_DRIVER,0,10,14,776,55
  4094                        	.sym	~~k_debug_byte_array,~~k_debug_byte_arra
  Sat Jul 10 2021  1:15                                                Page 85


                    y,65,18,0
  4095                        	.sym	~~k_debug_long,~~k_debug_long,65,18,0
  4096                        	.sym	~~k_debug_integer,~~k_debug_integer,65,1
                    8,0
  4097                        	.sym	~~k_debug_string,~~k_debug_string,65,18,
                    0
  4098                        	.sym	PSEGMENTHEADER,0,138,14,32,54
  4099                        	.sym	SEGMENTHEADER,0,10,14,160,54
  4100                        	.sym	PDEBUGBYTEBITS,0,138,14,32,53
  4101                        	.sym	DEBUGBYTEBITS,0,10,14,8,53
  4102                        	.sym	PFXENVIRONMENT,0,138,14,32,52
  4103                        	.sym	FXENVIRONMENT,0,10,14,96,52
  4104                        	.sym	PFXZEROPAGE,0,138,14,32,51
  4105                        	.sym	FXZEROPAGE,0,10,14,824,51
  4106                        	.sym	KERNELTRAPCALL,0,641,14,32
  4107                        	.sym	PFXKERNEL_API_CALLTABLE,0,138,14,32,50
  4108                        	.sym	FXKERNEL_API_CALLTABLE,0,10,14,8192,50
  4109                        	.sym	FOREACHNODEUNTIL,0,654,14,32
  4110                        	.sym	FOREACHNODE,0,641,14,32
  4111                        	.sym	PFXRFHEADER_FONT,0,138,14,32,49
  4112                        	.sym	FXRFHEADER_FONT,0,10,14,144,49
  4113                        	.sym	PFXRFHEADER,0,138,14,32,48
  4114                        	.sym	FXRFHEADER,0,10,14,72,48
  4115                        	.sym	PFXCOMBUFFER,0,138,14,32,47
  4116                        	.sym	FXCOMBUFFER,0,10,14,2080,47
  4117                        	.sym	PSUBMENULIST,0,138,14,32,46
  4118                        	.sym	SUBMENULIST,0,10,14,40,46
  4119                        	.sym	HSUBMENU,0,7,14,32
  4120                        	.sym	PSUBMENU,0,138,14,32,45
  4121                        	.sym	SUBMENU,0,10,14,64,45
  4122                        	.sym	MenuAction,0,641,14,32
  4123                        	.sym	PMENUANCHOR,0,138,14,32,44
  4124                        	.sym	MENUANCHOR,0,10,14,272,44
  4125                        	.sym	PMSGBOX,0,138,14,32,43
  4126                        	.sym	MSGBOX,0,10,14,144,43
  4127                        	.sym	PTEXTBOX,0,138,14,32,42
  4128                        	.sym	TEXTBOX,0,10,14,144,42
  4129                        	.sym	PLISTBOX,0,138,14,32,41
  4130                        	.sym	LISTBOX,0,10,14,240,41
  4131                        	.sym	PSCROLLBAR,0,138,14,32,40
  4132                        	.sym	SCROLLBAR,0,10,14,240,40
  4133                        	.sym	PBUTTON,0,138,14,32,39
  4134                        	.sym	BUTTON,0,10,14,96,39
  4135                        	.sym	PMENUDROPDOWNDATA,0,138,14,32,38
  4136                        	.sym	MENUDROPDOWNDATA,0,10,14,5152,38
  4137                        	.sym	PMENUTAG,0,138,14,32,37
  4138                        	.sym	MENUTAG,0,10,14,160,37
  4139                        	.sym	PMENU,0,138,14,32,36
  4140                        	.sym	MENU,0,10,14,280,36
  4141                        	.sym	HMENURESOURCE,0,129,14,32
  4142                        	.sym	FONTMETRIC,0,10,14,32,35
  4143                        	.sym	TITLE,0,142,14,32
  4144                        	.sym	PHANDLE,0,1153,14,32
  4145                        	.sym	HANDLE,0,129,14,32
  4146                        	.sym	PWINDOWEX,0,138,14,32,34
  4147                        	.sym	WINDOWEX,0,10,14,3880,34
  4148                        	.sym	PWINDOW,0,138,14,32,33
  4149                        	.sym	WINDOW,0,10,14,3904,33
  Sat Jul 10 2021  1:15                                                Page 86


  4150                        	.sym	PDRAGDATA,0,138,14,32,32
  4151                        	.sym	DRAGDATA,0,10,14,216,32
  4152                        	.sym	PNCCLICKABLE,0,138,14,32,31
  4153                        	.sym	NCCLICKABLE,0,10,14,136,31
  4154                        	.sym	HCLICKABLE,0,7,14,32
  4155                        	.sym	PCLICKABLE,0,138,14,32,30
  4156                        	.sym	CLICKABLE,0,10,14,152,30
  4157                        	.sym	PWNDCLASS,0,138,14,32,29
  4158                        	.sym	WNDCLASS,0,10,14,272,29
  4159                        	.sym	HBRUSH,0,129,14,32
  4160                        	.sym	HCURSOR,0,129,14,32
  4161                        	.sym	HICON,0,129,14,32
  4162                        	.sym	HINSTANCE,0,129,14,32
  4163                        	.sym	FXWndProc,0,654,14,32
  4164                        	.sym	PDRECT,0,138,14,32,28
  4165                        	.sym	DRECT,0,10,14,112,28
  4166                        	.sym	PRECTP,0,138,14,32,27
  4167                        	.sym	RECTP,0,10,14,96,27
  4168                        	.sym	PRECT,0,138,14,32,26
  4169                        	.sym	RECT,0,10,14,112,26
  4170                        	.sym	PPOINT,0,138,14,32,25
  4171                        	.sym	POINT,0,10,14,32,25
  4172                        	.sym	PFXPROPERTY,0,138,14,32,23
  4173                        	.sym	FXPROPERTY,0,10,14,384,23
  4174                        	.sym	PKEYSTATE,0,138,14,32,22
  4175                        	.sym	KEYSTATE,0,10,14,112,22
  4176                        	.sym	SCANCODE,0,14,14,8
  4177                        	.sym	KEYCODE,0,16,14,16
  4178                        	.sym	PFXPROCESSMESSAGE,0,138,14,32,21
  4179                        	.sym	FXPROCESSMESSAGE,0,10,14,112,21
  4180                        	.sym	PFXPROCESS,0,138,14,32,20
  4181                        	.sym	FXPROCESS,0,10,14,800,20
  4182                        	.sym	PDESKTOP_CONTROL,0,138,14,32,19
  4183                        	.sym	DESKTOP_CONTROL,0,10,14,392,19
  4184                        	.sym	PCONSOLE_CONTROL,0,138,14,32,18
  4185                        	.sym	CONSOLE_CONTROL,0,10,14,448,18
  4186                        	.sym	FXProcessProc,0,641,14,32
  4187                        	.sym	PFXCMDMESSAGE,0,138,14,32,17
  4188                        	.sym	FXCMDMESSAGE,0,10,14,304,17
  4189                        	.sym	PFXOSMESSAGE,0,138,14,32,16
  4190                        	.sym	FXOSMESSAGE,0,10,14,304,16
  4191                        	.sym	PINT_REGS,0,138,14,32,15
  4192                        	.sym	INT_REGS,0,10,14,104,15
  4193                        	.sym	TASK_STACK,0,10,14,32,14
  4194                        	.sym	TASK,0,10,14,48,13
  4195                        	.sym	PIRQDATA,0,138,14,32,12
  4196                        	.sym	IRQDATA,0,10,14,48,12
  4197                        	.sym	HMENU,0,129,14,32
  4198                        	.sym	HWND,0,129,14,32
  4199                        	.sym	MSGDATA,0,14,14,8
  4200                        	.sym	MSGDEST,0,18,14,32
  4201                        	.sym	MSGSRC,0,18,14,32
  4202                        	.sym	MSGTYPE,0,16,14,16
  4203                        	.sym	PROCESS_RESOURCE_LIST,0,138,14,32,6
  4204                        	.sym	PROCESS_TLS_LIST,0,138,14,32,6
  4205                        	.sym	SEMAPHORE_LIST,0,138,14,32,6
  4206                        	.sym	FILE_BLOCK_LIST,0,138,14,32,6
  4207                        	.sym	FILE_PATH_LIST,0,138,14,32,6
  Sat Jul 10 2021  1:15                                                Page 87


  4208                        	.sym	PROCEDURE_LIST,0,138,14,32,6
  4209                        	.sym	FILE_HANDLE,0,138,14,32,11
  4210                        	.sym	FILE_BLOCK,0,10,14,552,11
  4211                        	.sym	SEMAPHORE,0,10,14,16,10
  4212                        	.sym	PPROCESS_SIGNAL,0,138,14,32,9
  4213                        	.sym	PROCESS_SIGNAL,0,10,14,16,9
  4214                        	.sym	KRESULT,0,18,14,32
  4215                        	.sym	PKERNEL_ERROR,0,138,14,32,8
  4216                        	.sym	KERNEL_ERROR,0,10,14,32,8
  4217                        	.sym	PROCESS_STATUS,0,16,14,16
  4218                        	.sym	FILE_PATH_NAME,0,142,14,32
  4219                        	.sym	PROCESS_RESOURCE,0,129,14,32
  4220                        	.sym	PROCESS_TLS,0,129,14,32
  4221                        	.sym	PROCESS_CTX,0,129,14,32
  4222                        	.sym	USERID,0,16,14,16
  4223                        	.sym	PROCESS_ID,0,18,14,32
  4224                        	.sym	PROCESS_BANK,0,14,14,8
  4225                        	.sym	PFXQUEUE,0,138,14,32,7
  4226                        	.sym	FXQUEUE,0,10,14,80,7
  4227                        	.sym	PFXNODELIST,0,138,14,32,6
  4228                        	.sym	FXNODELIST,0,10,14,96,6
  4229                        	.sym	NodeListDeallocator,0,641,14,32
  4230                        	.sym	PFXNODE,0,138,14,32,5
  4231                        	.sym	FXNODE,0,10,14,384,5
  4232                        	.sym	PBYTEBITS,0,138,14,32,4
  4233                        	.sym	BYTEBITS,0,10,14,8,4
  4234                        	.sym	HRESULT,0,18,14,32
  4235                        	.sym	LPWCHAR,0,144,14,32
  4236                        	.sym	WCHAR,0,16,14,16
  4237                        	.sym	HCOLOR,0,129,14,32
  4238                        	.sym	HFONT,0,129,14,32
  4239                        	.sym	HDC,0,129,14,32
  4240                        	.sym	HPOINTER,0,129,14,32
  4241                        	.sym	uint32_t,0,18,14,32
  4242                        	.sym	uint8_t,0,14,14,8
  4243                        	.sym	LPBOOL,0,142,14,32
  4244                        	.sym	BOOL,0,14,14,8
  4245                        	.sym	DWORD,0,18,14,32
  4246                        	.sym	ULONG,0,18,14,32
  4247                        	.sym	LPLONG,0,135,14,32
  4248                        	.sym	LONG,0,7,14,32
  4249                        	.sym	PUINT,0,144,14,32
  4250                        	.sym	USHORT,0,16,14,16
  4251                        	.sym	UINT,0,16,14,16
  4252                        	.sym	INT,0,5,14,16
  4253                        	.sym	WORD,0,5,14,16
  4254                        	.sym	PBYTE,0,142,14,32
  4255                        	.sym	BYTE,0,14,14,8
  4256                        	.sym	IOPORT,0,142,14,32
  4257                        	.sym	PUCHAR,0,142,14,32
  4258                        	.sym	UCHAR,0,14,14,8
  4259                        	.sym	LPWCSTR,0,142,14,32
  4260                        	.sym	LPCSTR,0,142,14,32
  4261                        	.sym	LPSTR,0,142,14,32
  4262                        	.sym	LPCHAR,0,142,14,32
  4263                        	.sym	CHAR,0,14,14,8
  4264                        	.sym	LPVOID,0,129,14,32
  4265                        	.sym	VOID,0,1,14,32
  Sat Jul 10 2021  1:15                                                Page 88


  4266                        	.sym	~~strncpy,~~strncpy,1102,18,32
  4267                        	.sym	~~memset,~~memset,1089,18,32
  4268                        	.sym	Boolean_T,0,5,14,16
  4269                        	.sym	ldiv_t,0,10,14,64,2
  4270                        	.sym	div_t,0,10,14,32,1
  4271                        	.sym	wctype_t,0,16,14,16
  4272                        	.sym	wint_t,0,16,14,16
  4273                        	.sym	wchar_t,0,14,14,8
  4274                        	.sym	ptrdiff_t,0,7,14,32
  4275                        	.sym	size_t,0,16,14,16
  4276                        	end


      Lines assembled: 4276
      Errors: 0
