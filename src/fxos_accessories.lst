  Mon Sep 27 2021  9:39                                                Page 1


                     ***************************************
                     **      WDC 65C816 Macro Assembler   **
                     **                                   **
                     **     Version 1.00- Aug 10 2021    **
                     ***************************************

     1                        ;:ts=8
     2             00000001   R0	equ	1
     3             00000005   R1	equ	5
     4             00000009   R2	equ	9
     5             0000000D   R3	equ	13
     6                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos_accessories.c",0
     7                        ;
     8                        ;
     9                        ;#include "fxos_accessories.h"
    10                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos_accessories.h",0
    11                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",0
    12                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
    13                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stddef.h",0
    14                        	.line	88
    15                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",43
    16                        	.stag	fake1_,32,1
    17                        	.member	quot,0,5,8,16
    18                        	.member	rem,16,5,8,16
    19                        	.eos
    20                        	.stag	fake2_,64,2
    21                        	.member	quot,0,7,8,32
    22                        	.member	rem,32,7,8,32
    23                        	.eos
    24                        	.stag	int_sqrt,32,3
    25                        	.member	sqrt,0,16,8,16
    26                        	.member	frac,16,16,8,16
    27                        	.eos
    28                        	.line	205
    29                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",4
    30                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
    31                        	.line	134
    32                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",5
    33                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    ctype.h",0
    34                        	.line	103
    35                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",6
    36                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
    37                        	.stag	_fx_bytebits,8,4
    38                        	.member	b7,0,14,17,1
    39                        	.member	b6,1,14,17,1
    40                        	.member	b5,2,14,17,1
  Mon Sep 27 2021  9:39                                                Page 2


    41                        	.member	b4,3,14,17,1
    42                        	.member	b3,4,14,17,1
    43                        	.member	b2,5,14,17,1
    44                        	.member	b1,6,14,17,1
    45                        	.member	b0,7,14,17,1
    46                        	.eos
    47                        	.stag	_fx_node,384,5
    48                        	.member	type,0,14,8,8
    49                        	.member	Reserved0,8,14,8,8
    50                        	.member	data,16,129,8,32
    51                        	.member	last,48,138,8,32,5
    52                        	.member	next,80,138,8,32,5
    53                        	.member	name,112,110,8,0,32
    54                        	.member	Reserved1,368,16,8,16
    55                        	.eos
    56                        	.stag	_fx_nodelist,96,6
    57                        	.member	listhead,0,138,8,32,5
    58                        	.member	listData,32,129,8,32
    59                        	.member	deallocator,64,641,8,32
    60                        	.eos
    61                        	.stag	_fx_queue,80,7
    62                        	.member	count,0,5,8,16
    63                        	.member	front,16,138,8,32,5
    64                        	.member	rear,48,138,8,32,5
    65                        	.eos
    66                        	.stag	fake8_,32,8
    67                        	.member	subsystem,0,14,8,8
    68                        	.member	level,8,14,8,8
    69                        	.member	error,16,16,8,16
    70                        	.eos
    71                        	.stag	_fx_process_signal,16,9
    72                        	.member	cbSize,0,16,8,16
    73                        	.eos
    74                        	.stag	_fx_semaphore,16,10
    75                        	.member	reserved,0,5,8,16
    76                        	.eos
    77                        	.stag	_fx_fileBlock,552,11
    78                        	.member	openCount,0,16,8,16
    79                        	.member	lockCount,16,16,8,16
    80                        	.member	dirty,32,14,8,8
    81                        	.member	fileBuffer,40,110,8,0,64
    82                        	.eos
    83                        	.stag	_fx_irq_data,48,12
    84                        	.member	line,0,5,8,16
    85                        	.member	keycode,16,142,8,32
    86                        	.eos
    87                        	.stag	_task,48,13
    88                        	.member	SPL,0,14,8,8
    89                        	.member	SPH,8,14,8,8
    90                        	.member	pstack,16,142,8,32
    91                        	.eos
    92                        	.stag	_task_stack,32,14
    93                        	.member	SS,0,142,8,32
    94                        	.eos
    95                        	.stag	int_regs,104,15
    96                        	.member	PB,0,14,8,8
    97                        	.member	PH,8,14,8,8
    98                        	.member	PL,16,14,8,8
  Mon Sep 27 2021  9:39                                                Page 3


    99                        	.member	PP,24,14,8,8
   100                        	.member	DB,32,14,8,8
   101                        	.member	DH,40,14,8,8
   102                        	.member	DL,48,14,8,8
   103                        	.member	AH,56,14,8,8
   104                        	.member	AL,64,14,8,8
   105                        	.member	XH,72,14,8,8
   106                        	.member	XL,80,14,8,8
   107                        	.member	YH,88,14,8,8
   108                        	.member	YL,96,14,8,8
   109                        	.eos
   110                        	.stag	_fx_eventMessage,312,16
   111                        	.member	src,0,18,8,32
   112                        	.member	dest,32,18,8,32
   113                        	.member	type,64,16,8,16
   114                        	.member	hwnd,80,129,8,32
   115                        	.member	pheap,112,129,8,32
   116                        	.member	msgTime,144,18,8,32
   117                        	.member	data,176,110,8,0,16
   118                        	.member	attr,304,14,8,8
   119                        	.eos
   120                        	.stag	_fx_cmdMessage,312,17
   121                        	.member	src,0,18,8,32
   122                        	.member	dest,32,18,8,32
   123                        	.member	type,64,16,8,16
   124                        	.member	hwnd,80,129,8,32
   125                        	.member	pheap,112,129,8,32
   126                        	.member	msgTime,144,18,8,32
   127                        	.member	cmdCId,176,16,8,16
   128                        	.member	cmdMId,192,16,8,16
   129                        	.member	parameter1,208,18,8,32
   130                        	.member	parameter2,240,18,8,32
   131                        	.member	parameter3,272,18,8,32
   132                        	.member	attr,304,14,8,8
   133                        	.eos
   134                        	.stag	_fx_console_ctl,448,18
   135                        	.member	maxCols,0,5,8,16
   136                        	.member	maxRows,16,5,8,16
   137                        	.member	curX,32,5,8,16
   138                        	.member	curY,48,5,8,16
   139                        	.member	fgColor,64,5,8,16
   140                        	.member	bgColor,80,5,8,16
   141                        	.member	mode,96,14,8,8
   142                        	.member	kbBuffer,104,101,8,0,16
   143                        	.member	screenBuffer,360,142,8,32
   144                        	.member	desktopMode,392,14,8,8
   145                        	.member	lastMouseButton,400,5,8,16
   146                        	.member	lastMouseX,416,5,8,16
   147                        	.member	lastMouseY,432,5,8,16
   148                        	.eos
   149                        	.stag	_fx_desktop_ctl,392,19
   150                        	.member	desktopMode,0,14,8,8
   151                        	.member	cursorCtl,8,5,8,16
   152                        	.member	cursorState,24,5,8,16
   153                        	.member	backgroundColor,40,5,8,16
   154                        	.member	foregroundColor,56,5,8,16
   155                        	.member	menuMode,72,5,8,16
   156                        	.member	lastMouseButton,88,5,8,16
  Mon Sep 27 2021  9:39                                                Page 4


   157                        	.member	lastMouseX,104,5,8,16
   158                        	.member	lastMouseY,120,5,8,16
   159                        	.member	currentDiskName,136,142,8,32
   160                        	.member	diskNodes,168,129,8,32
   161                        	.member	titleNodes,200,129,8,32
   162                        	.member	menuNodes,232,129,8,32
   163                        	.member	iconNodes,264,129,8,32
   164                        	.member	windowNodes,296,129,8,32
   165                        	.member	fontNodes,328,129,8,32
   166                        	.member	wndProc,360,138,8,32,6
   167                        	.eos
   168                        	.stag	_fx_process,800,20
   169                        	.member	cbSize,0,5,8,16
   170                        	.member	procId,16,18,8,32
   171                        	.member	parentId,48,18,8,32
   172                        	.member	ctx,80,129,8,32
   173                        	.member	userId,112,16,8,16
   174                        	.member	status,128,16,8,16
   175                        	.member	foregroundActive,144,14,8,8
   176                        	.member	tls,152,1121,8,32,8
   177                        	.member	commandLine,408,142,8,32
   178                        	.member	semaphores,440,138,8,32,6
   179                        	.member	fileHandles,472,138,8,32,6
   180                        	.member	pathList,504,138,8,32,6
   181                        	.member	resources,536,138,8,32,6
   182                        	.member	timerAware,568,14,8,8
   183                        	.member	timerTicks,576,112,8,0,2
   184                        	.member	timerTickCount,608,112,8,0,2
   185                        	.member	kernelError,640,10,8,32,8
   186                        	.member	consoleCtl,672,138,8,32,18
   187                        	.member	desktopCtl,704,138,8,32,19
   188                        	.member	execProc,736,641,8,32
   189                        	.member	startupArgs,768,129,8,32
   190                        	.eos
   191                        	.stag	_fxProcessMessage,112,21
   192                        	.member	src,0,18,8,32
   193                        	.member	dest,32,18,8,32
   194                        	.member	type,64,16,8,16
   195                        	.member	processInfo,80,138,8,32,20
   196                        	.eos
   197                        	.stag	_k_key_state,112,22
   198                        	.member	scanCode,0,14,8,8
   199                        	.member	isShifted,8,14,8,8
   200                        	.member	isAlt,16,14,8,8
   201                        	.member	isExtended,24,14,8,8
   202                        	.member	isCapsLock,32,14,8,8
   203                        	.member	isNumLock,40,14,8,8
   204                        	.member	isScrollLock,48,14,8,8
   205                        	.member	keyChar,56,16,8,16
   206                        	.member	scanTime,72,18,8,32
   207                        	.member	ledStatus,104,14,8,8
   208                        	.eos
   209                        	.stag	_fx_property,384,23
   210                        	.member	name,0,110,8,0,16
   211                        	.member	value,128,110,8,0,32
   212                        	.eos
   213                        	.utag	_24bitPointer,32,24
   214                        	.member	address,0,142,11,32
  Mon Sep 27 2021  9:39                                                Page 5


   215                        	.member	bytes,0,110,11,0,4
   216                        	.eos
   217                        	.stag	_PointStruct,32,25
   218                        	.member	x,0,5,8,16
   219                        	.member	y,16,5,8,16
   220                        	.eos
   221                        	.stag	_RectStruct,112,26
   222                        	.member	x,0,5,8,16
   223                        	.member	y,16,5,8,16
   224                        	.member	z,32,18,8,32
   225                        	.member	width,64,5,8,16
   226                        	.member	height,80,5,8,16
   227                        	.member	attr,96,5,8,16
   228                        	.eos
   229                        	.stag	fake27_,96,27
   230                        	.member	name,0,142,8,32
   231                        	.member	topLeft,32,10,8,32,25
   232                        	.member	bottomRight,64,10,8,32,25
   233                        	.eos
   234                        	.stag	fake28_,112,28
   235                        	.member	x,0,5,8,16
   236                        	.member	y,16,5,8,16
   237                        	.member	z,32,5,8,16
   238                        	.member	width,48,5,8,16
   239                        	.member	height,64,5,8,16
   240                        	.member	data,80,18,8,32
   241                        	.eos
   242                        	.stag	_k_WindowClass,272,29
   243                        	.member	cbSize,0,16,8,16
   244                        	.member	style,16,16,8,16
   245                        	.member	styleEx,32,16,8,16
   246                        	.member	pWndProc,48,654,8,32
   247                        	.member	hInstance,80,129,8,32
   248                        	.member	hIcon,112,129,8,32
   249                        	.member	hCursor,144,129,8,32
   250                        	.member	hbrBackground,176,129,8,32
   251                        	.member	lpszMenuName,208,142,8,32
   252                        	.member	lpszClassName,240,142,8,32
   253                        	.eos
   254                        	.stag	_ClickableRect,152,30
   255                        	.member	area,0,10,8,112,26
   256                        	.member	z,112,18,8,32
   257                        	.member	enabled,144,14,8,8
   258                        	.eos
   259                        	.stag	_NCClickableRect,136,31
   260                        	.member	area,0,10,8,112,26
   261                        	.member	msgType,112,16,8,16
   262                        	.member	enabled,128,14,8,8
   263                        	.eos
   264                        	.stag	_DragData,216,32
   265                        	.member	area,0,10,8,112,26
   266                        	.member	xoffset,112,5,8,16
   267                        	.member	yoffset,128,5,8,16
   268                        	.member	msgType,144,16,8,16
   269                        	.member	ncAction,160,16,8,16
   270                        	.member	isDrag,176,14,8,8
   271                        	.member	isResize,184,14,8,8
   272                        	.member	canDrag,192,14,8,8
  Mon Sep 27 2021  9:39                                                Page 6


   273                        	.member	canDrop,200,14,8,8
   274                        	.member	didDrag,208,14,8,8
   275                        	.eos
   276                        	.stag	_k_WindowStruct,3904,33
   277                        	.member	cbSize,0,16,8,16
   278                        	.member	style,16,18,8,32
   279                        	.member	styleEx,48,18,8,32
   280                        	.member	win_id,80,5,8,16
   281                        	.member	win_x,96,5,8,16
   282                        	.member	win_y,112,5,8,16
   283                        	.member	win_width,128,5,8,16
   284                        	.member	win_height,144,5,8,16
   285                        	.member	win_xoffset,160,5,8,16
   286                        	.member	win_yoffset,176,5,8,16
   287                        	.member	win_cxoffset,192,5,8,16
   288                        	.member	win_cyoffset,208,5,8,16
   289                        	.member	wndRect,224,10,8,112,26
   290                        	.member	clientRect,336,10,8,112,26
   291                        	.member	nonclientGadgets,448,106,8,0,31,16
   292                        	.member	clickable,2624,129,8,32
   293                        	.member	win_title,2656,110,8,0,32
   294                        	.member	Reserved0,2912,16,8,16
   295                        	.member	win_class,2928,110,8,0,16
   296                        	.member	win_class_name,3056,110,8,0,32
   297                        	.member	nBitmapLayer,3312,16,8,16
   298                        	.member	bgRegion,3328,129,8,32
   299                        	.member	procid,3360,18,8,32
   300                        	.member	pWndClass,3392,138,8,32,29
   301                        	.member	pParentWindow,3424,129,8,32
   302                        	.member	hMenu,3456,129,8,32
   303                        	.member	hPointer,3488,129,8,32
   304                        	.member	hBackground,3520,129,8,32
   305                        	.member	pChildWindows,3552,138,8,32,6
   306                        	.member	pChildHitList,3584,138,8,32,6
   307                        	.member	isVisible,3616,14,8,8
   308                        	.member	windowData,3624,129,8,32
   309                        	.member	clientData,3656,1121,8,32,6
   310                        	.member	isClosed,3848,14,8,8
   311                        	.member	isClosing,3856,14,8,8
   312                        	.member	isDesktop,3864,14,8,8
   313                        	.member	clickableNode,3872,138,8,32,5
   314                        	.eos
   315                        	.stag	_k_WindowStructEx,3880,34
   316                        	.member	cbSize,0,16,8,16
   317                        	.member	style,16,18,8,32
   318                        	.member	styleEx,48,18,8,32
   319                        	.member	win_id,80,5,8,16
   320                        	.member	win_x,96,5,8,16
   321                        	.member	win_y,112,5,8,16
   322                        	.member	win_width,128,5,8,16
   323                        	.member	win_height,144,5,8,16
   324                        	.member	win_xoffset,160,5,8,16
   325                        	.member	win_yoffset,176,5,8,16
   326                        	.member	win_cxoffset,192,5,8,16
   327                        	.member	win_cyoffset,208,5,8,16
   328                        	.member	wndRect,224,10,8,112,26
   329                        	.member	clientRect,336,10,8,112,26
   330                        	.member	nonclientGadgets,448,106,8,0,31,16
  Mon Sep 27 2021  9:39                                                Page 7


   331                        	.member	clickable,2624,129,8,32
   332                        	.member	win_title,2656,110,8,0,32
   333                        	.member	Reserved0,2912,16,8,16
   334                        	.member	win_class,2928,110,8,0,16
   335                        	.member	nBitmapLayer,3056,16,8,16
   336                        	.member	procid,3072,18,8,32
   337                        	.member	pWndClass,3104,138,8,32,29
   338                        	.member	pParentWindow,3136,129,8,32
   339                        	.member	hMenu,3168,129,8,32
   340                        	.member	hPointer,3200,129,8,32
   341                        	.member	hBackground,3232,129,8,32
   342                        	.member	pChildWindows,3264,138,8,32,6
   343                        	.member	pChildHitList,3296,138,8,32,6
   344                        	.member	isVisible,3328,14,8,8
   345                        	.member	windowData,3336,129,8,32
   346                        	.member	clientData,3368,1121,8,32,4
   347                        	.member	isClosed,3496,14,8,8
   348                        	.member	hWnd,3504,129,8,32
   349                        	.member	localRect,3536,10,8,112,26
   350                        	.member	globalRect,3648,10,8,112,26
   351                        	.member	clientOffsetRect,3760,10,8,112,26
   352                        	.member	isDesktop,3872,14,8,8
   353                        	.eos
   354                        	.stag	_FontMetric,32,35
   355                        	.member	width,0,5,8,16
   356                        	.member	height,16,5,8,16
   357                        	.eos
   358                        	.stag	_MenuStruct,280,36
   359                        	.member	cx,0,5,8,16
   360                        	.member	cy,16,5,8,16
   361                        	.member	width,32,5,8,16
   362                        	.member	height,48,5,8,16
   363                        	.member	fcolor,64,14,8,8
   364                        	.member	bcolor,72,14,8,8
   365                        	.member	chromeLeft,80,14,8,8
   366                        	.member	chromeRight1,88,14,8,8
   367                        	.member	chromeRight2,96,14,8,8
   368                        	.member	hFont,104,129,8,32
   369                        	.member	itemId,136,16,8,16
   370                        	.member	pCaption,152,142,8,32
   371                        	.member	subMenus,184,138,8,32,6
   372                        	.member	pBackground,216,129,8,32
   373                        	.member	hWndOwner,248,129,8,32
   374                        	.eos
   375                        	.stag	fake37_,160,37
   376                        	.member	menuId,0,16,8,16
   377                        	.member	caption,16,142,8,32
   378                        	.member	rect,48,10,8,112,26
   379                        	.eos
   380                        	.stag	fake38_,5152,38
   381                        	.member	pParent,0,138,8,32,33
   382                        	.member	rect,32,10,8,112,26
   383                        	.member	captions,144,1134,8,32,24
   384                        	.member	chrome,912,110,8,0,24
   385                        	.member	ids,1104,112,8,0,24
   386                        	.member	clickable,1488,106,8,0,30,24
   387                        	.member	selected,5136,16,8,16
   388                        	.eos
  Mon Sep 27 2021  9:39                                                Page 8


   389                        	.stag	_fx_button_t,96,39
   390                        	.member	pCaption,0,142,8,32
   391                        	.member	cCaption,32,16,8,16
   392                        	.member	data,48,129,8,32
   393                        	.member	captionPixelWidth,80,16,8,16
   394                        	.eos
   395                        	.stag	_fx_scrollbar_t,240,40
   396                        	.member	min,0,16,8,16
   397                        	.member	max,16,16,8,16
   398                        	.member	increment,32,16,8,16
   399                        	.member	stopsize,48,16,8,16
   400                        	.member	location,64,5,8,16
   401                        	.member	state,80,5,8,16
   402                        	.member	rectThumb,96,10,8,112,26
   403                        	.member	data,208,129,8,32
   404                        	.eos
   405                        	.stag	_fx_listbox_t,240,41
   406                        	.member	pos,0,5,8,16
   407                        	.member	selected,16,16,8,16
   408                        	.member	offsetX,32,5,8,16
   409                        	.member	offsetY,48,5,8,16
   410                        	.member	inc,64,5,8,16
   411                        	.member	direction,80,5,8,16
   412                        	.member	top,96,5,8,16
   413                        	.member	bottom,112,5,8,16
   414                        	.member	indexTop,128,5,8,16
   415                        	.member	indexBottom,144,5,8,16
   416                        	.member	maxItems,160,16,8,16
   417                        	.member	fontSet,176,142,8,32
   418                        	.member	data,208,129,8,32
   419                        	.eos
   420                        	.stag	_fx_textbox_t,144,42
   421                        	.member	pos,0,5,8,16
   422                        	.member	selected,16,16,8,16
   423                        	.member	offsetX,32,5,8,16
   424                        	.member	offsetY,48,5,8,16
   425                        	.member	isShifted,64,14,8,8
   426                        	.member	cursorState,72,14,8,8
   427                        	.member	fontSet,80,142,8,32
   428                        	.member	data,112,129,8,32
   429                        	.eos
   430                        	.stag	_fx_msgbox_t,144,43
   431                        	.member	pos,0,5,8,16
   432                        	.member	selected,16,16,8,16
   433                        	.member	offsetX,32,5,8,16
   434                        	.member	offsetY,48,5,8,16
   435                        	.member	isShifted,64,14,8,8
   436                        	.member	cursorState,72,14,8,8
   437                        	.member	fontSet,80,142,8,32
   438                        	.member	data,112,129,8,32
   439                        	.eos
   440                        	.stag	_fx_menuAnchor_t,272,44
   441                        	.member	pCaption,0,142,8,32
   442                        	.member	renderLayoutX,32,16,8,16
   443                        	.member	renderLayoutY,48,16,8,16
   444                        	.member	captionPixelWidth,64,16,8,16
   445                        	.member	data,80,129,8,32
   446                        	.member	droppedWindow,112,138,8,32,33
  Mon Sep 27 2021  9:39                                                Page 9


   447                        	.member	bytes,144,110,8,0,16
   448                        	.eos
   449                        	.stag	_SubMenuStruct,64,45
   450                        	.member	caption,0,142,8,32
   451                        	.member	action,32,641,8,32
   452                        	.eos
   453                        	.stag	_SubMenuListStruct,40,46
   454                        	.member	cMenus,0,14,8,8
   455                        	.member	psubmenus,8,9354,8,32,45
   456                        	.eos
   457                        	.stag	_fx_ComBuffer,2080,47
   458                        	.member	cbSize,0,16,8,16
   459                        	.member	cbBuffer,16,16,8,16
   460                        	.member	buffer,32,110,8,0,256
   461                        	.eos
   462                        	.stag	_fx_resource_header,72,48
   463                        	.member	magic,0,110,8,0,4
   464                        	.member	major,32,14,8,8
   465                        	.member	minor,40,14,8,8
   466                        	.member	type,48,14,8,8
   467                        	.member	reserved,56,14,8,8
   468                        	.member	resheaderSize,64,14,8,8
   469                        	.eos
   470                        	.stag	_fx_resource_header_font,144,49
   471                        	.member	title,0,110,8,0,16
   472                        	.member	height,128,14,8,8
   473                        	.member	width,136,14,8,8
   474                        	.eos
   475                        	.stag	_fx_resource_string,32,50
   476                        	.member	locale,0,110,8,0,2
   477                        	.member	entries,16,16,8,16
   478                        	.eos
   479                        	.stag	_fx_resource_string_entry,40,51
   480                        	.member	index,0,16,8,16
   481                        	.member	length,16,16,8,16
   482                        	.member	data,32,14,8,8
   483                        	.eos
   484                        	.line	1064
   485                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",8
   486                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxstringtable.h",0
   487                        	.line	90
   488                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",9
   489                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxc256u.h",0
   490                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   491                        	.line	1064
   492                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxc256u.h",5
   493                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fmx_vicky.h",0
   494                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   495                        	.line	1064
   496                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
  Mon Sep 27 2021  9:39                                                Page 10


                    space\FXOS-Beta\src\fmx_vicky.h",11
   497                        	.line	72
   498                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxc256u.h",6
   499                        	.line	1963
   500                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",16
   501                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxkernel.h",0
   502                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",0
   503                        	.line	30
   504                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxkernel.h",5
   505                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxnode.h",0
   506                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   507                        	.line	1064
   508                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxnode.h",11
   509                        	.line	118
   510                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxkernel.h",6
   511                        	.stag	_fx_api_call_table,8192,52
   512                        	.member	call_table,0,1121,8,32,256
   513                        	.eos
   514                        	.stag	_fx_zero_page_irq_data,32,53
   515                        	.member	data,0,110,8,0,4
   516                        	.eos
   517                        	.stag	_fx_zero_page,720,54
   518                        	.member	fxos_mouse_byte_0,0,14,8,8
   519                        	.member	fxos_mouse_byte_1,8,14,8,8
   520                        	.member	fxos_mouse_byte_2,16,14,8,8
   521                        	.member	fxos_mouse_byte_t,24,14,8,8
   522                        	.member	fxos_mouse_byte_x_l,32,14,8,8
   523                        	.member	fxos_mouse_byte_x_h,40,14,8,8
   524                        	.member	fxos_mouse_byte_y_l,48,14,8,8
   525                        	.member	fxos_mouse_byte_y_h,56,14,8,8
   526                        	.member	fxos_key_byte_0,64,14,8,8
   527                        	.member	fxos_key_byte_1,72,14,8,8
   528                        	.member	fxos_key_byte_2,80,14,8,8
   529                        	.member	fxos_mouse_ctl,88,14,8,8
   530                        	.member	fxos_mouse_index,96,14,8,8
   531                        	.member	fxos_mouse_status,104,14,8,8
   532                        	.member	Endianness,112,16,8,16
   533                        	.member	VersionMajor,128,16,8,16
   534                        	.member	VersionMinor,144,16,8,16
   535                        	.member	VersionRelease,160,16,8,16
   536                        	.member	topMemory,176,18,8,32
   537                        	.member	bottomMemory,208,18,8,32
   538                        	.member	availableMemory,240,18,8,32
   539                        	.member	availableMemoryK,272,18,8,32
   540                        	.member	availableHeapMemory,304,18,8,32
   541                        	.member	availableHeapMemoryK,336,18,8,32
   542                        	.member	fxos_console_row,368,16,8,16
   543                        	.member	fxos_console_col,384,16,8,16
   544                        	.member	executive,400,129,8,32
  Mon Sep 27 2021  9:39                                                Page 11


   545                        	.member	eventmanager,432,129,8,32
   546                        	.member	devicemanager,464,129,8,32
   547                        	.member	windowmanager,496,129,8,32
   548                        	.member	fxos_kernel_api,528,138,8,32,52
   549                        	.member	fxos_dos_api,560,138,8,32,52
   550                        	.member	fxos_gfx_api,592,138,8,32,52
   551                        	.member	fxos_gui_api,624,138,8,32,52
   552                        	.member	fxos_con_api,656,138,8,32,52
   553                        	.member	fxos_reserved_2_api,688,138,8,32,52
   554                        	.eos
   555                        	.stag	_fx_environment,96,55
   556                        	.member	variables,0,142,8,32
   557                        	.member	reserved1,32,5,8,16
   558                        	.member	reserved2,48,5,8,16
   559                        	.member	reserved3,64,5,8,16
   560                        	.member	reserved4,80,5,8,16
   561                        	.eos
   562                        	.stag	_debug_byte_bits,8,56
   563                        	.member	bit7,0,14,17,1
   564                        	.member	bit6,1,14,17,1
   565                        	.member	bit5,2,14,17,1
   566                        	.member	bit4,3,14,17,1
   567                        	.member	bit3,4,14,17,1
   568                        	.member	bit2,5,14,17,1
   569                        	.member	bit1,6,14,17,1
   570                        	.member	bit0,7,14,17,1
   571                        	.eos
   572                        	.stag	_k_segmentheader,160,57
   573                        	.member	version_major,0,14,8,8
   574                        	.member	version_minor,8,14,8,8
   575                        	.member	length,16,5,8,16
   576                        	.member	segment_start_addr,32,7,8,32
   577                        	.member	segment_end_addr,64,7,8,32
   578                        	.member	segment_size,96,7,8,32
   579                        	.member	main_entry_addr,128,7,8,32
   580                        	.eos
   581                        	.stag	_fx_device_driver,776,58
   582                        	.member	name,0,110,8,0,32
   583                        	.member	version,256,110,8,0,16
   584                        	.member	hmajor,384,110,8,0,8
   585                        	.member	hminor,448,110,8,0,8
   586                        	.member	type,512,14,8,8
   587                        	.member	designation,520,110,8,0,6
   588                        	.member	irq_ctl,568,16,8,16
   589                        	.member	f_driver_irq,584,129,8,32
   590                        	.member	driver_context,616,129,8,32
   591                        	.member	f_driver_load,648,129,8,32
   592                        	.member	f_driver_read,680,129,8,32
   593                        	.member	f_driver_write,712,129,8,32
   594                        	.member	f_driver_unload,744,129,8,32
   595                        	.eos
   596                        	.stag	_fx_block_device_driver,808,59
   597                        	.member	name,0,110,8,0,32
   598                        	.member	version,256,110,8,0,16
   599                        	.member	hmajor,384,110,8,0,8
   600                        	.member	hminor,448,110,8,0,8
   601                        	.member	type,512,14,8,8
   602                        	.member	designation,520,110,8,0,6
  Mon Sep 27 2021  9:39                                                Page 12


   603                        	.member	irq_ctl,568,16,8,16
   604                        	.member	f_driver_irq,584,129,8,32
   605                        	.member	driver_context,616,129,8,32
   606                        	.member	f_driver_load,648,129,8,32
   607                        	.member	f_driver_read,680,129,8,32
   608                        	.member	f_driver_write,712,129,8,32
   609                        	.member	f_driver_unload,744,129,8,32
   610                        	.member	f_driver_command,776,129,8,32
   611                        	.eos
   612                        	.stag	_k_irq_chain,128,60
   613                        	.member	handlers,0,5217,8,32,4
   614                        	.eos
   615                        	.line	475
   616                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",22
   617                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",0
   618                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   619                        	.line	134
   620                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",5
   621                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   622                        	.line	205
   623                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",6
   624                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   625                        	.line	1064
   626                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",7
   627                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxc256u.h",0
   628                        	.line	1963
   629                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",12
   630                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxstring.h",0
   631                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   632                        	.line	205
   633                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxstring.h",5
   634                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   635                        	.line	134
   636                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxstring.h",6
   637                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   638                        	.line	1064
   639                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxstring.h",7
   640                        	.stag	_fx_string,64,61
   641                        	.member	size,0,16,8,16
   642                        	.member	pos,16,5,8,16
   643                        	.member	buffer,32,142,8,32
  Mon Sep 27 2021  9:39                                                Page 13


   644                        	.eos
   645                        	.line	141
   646                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",17
   647                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxeventmanager.h",0
   648                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",0
   649                        	.line	30
   650                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxeventmanager.h",5
   651                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxexec.h",0
   652                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   653                        	.line	1064
   654                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxexec.h",5
   655                        	.stag	_fxos_executive_vtable,128,62
   656                        	.member	Init,0,8833,8,32
   657                        	.member	Configure,32,656,8,32
   658                        	.member	Query,64,656,8,32
   659                        	.member	Uninit,96,641,8,32
   660                        	.eos
   661                        	.line	86
   662                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxeventmanager.h",6
   663                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxnode.h",0
   664                        	.line	118
   665                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxeventmanager.h",7
   666                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",0
   667                        	.line	208
   668                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxeventmanager.h",8
   669                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxwindowmanager.h",0
   670                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",0
   671                        	.line	30
   672                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxwindowmanager.h",5
   673                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxmemorymanager.h",0
   674                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",0
   675                        	.line	30
   676                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxmemorymanager.h",5
   677                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\umm_malloc_cfg.h",0
   678                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos_build_parameters.h",0
   679                        	.line	35
   680                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\umm_malloc_cfg.h",8
  Mon Sep 27 2021  9:39                                                Page 14


   681                        	.stag	UMM_HEAP_INFO_t,256,63
   682                        	.member	totalEntries,0,18,8,32
   683                        	.member	usedEntries,32,18,8,32
   684                        	.member	freeEntries,64,18,8,32
   685                        	.member	totalBlocks,96,18,8,32
   686                        	.member	usedBlocks,128,18,8,32
   687                        	.member	freeBlocks,160,18,8,32
   688                        	.member	maxFreeContiguousBlocks,192,18,8,32
   689                        	.member	blockSize,224,18,8,32
   690                        	.eos
   691                        	.line	199
   692                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxmemorymanager.h",6
   693                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\umm_malloc.h",0
   694                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   695                        	.line	1064
   696                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\umm_malloc.h",11
   697                        	.line	24
   698                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxmemorymanager.h",7
   699                        	.stag	_fx_memory_map,2072,64
   700                        	.member	availableMemory,0,18,8,32
   701                        	.member	valid_segments,32,110,8,0,255
   702                        	.eos
   703                        	.stag	_fx_ipc_port,144,65
   704                        	.member	id,0,18,8,32
   705                        	.member	type,32,14,8,8
   706                        	.member	name,40,138,8,32,61
   707                        	.member	time,72,18,8,32
   708                        	.member	queue,104,138,8,32,7
   709                        	.member	reserved_1,136,14,8,8
   710                        	.eos
   711                        	.stag	_k_mem_alloc_header,80,66
   712                        	.member	user,0,14,8,8
   713                        	.member	attr,8,14,8,8
   714                        	.member	size,16,18,8,32
   715                        	.member	virtual,48,129,8,32
   716                        	.eos
   717                        	.line	129
   718                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxwindowmanager.h",6
   719                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxeventmanager.h",0
   720                        	.line	572
   721                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxwindowmanager.h",7
   722                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxgfx.h",0
   723                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxfont.h",0
   724                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   725                        	.line	1064
   726                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxfont.h",6
  Mon Sep 27 2021  9:39                                                Page 15


   727                        	.line	74
   728                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxgfx.h",5
   729                        	.stag	_click_detected,64,67
   730                        	.member	window,0,138,8,32,33
   731                        	.member	handler,32,641,8,32
   732                        	.eos
   733                        	.stag	_current_palette_map,400,68
   734                        	.member	CUR_DESKTOP,0,5,8,16
   735                        	.member	CUR_BACKGROUND,16,5,8,16
   736                        	.member	CUR_FONT,32,5,8,16
   737                        	.member	CUR_SELECTED_FONT,48,5,8,16
   738                        	.member	CUR_HIGHLIGHT_COLOR,64,5,8,16
   739                        	.member	CUR_WINDOWFRAME,80,5,8,16
   740                        	.member	CUR_WINDOWBORDER,96,5,8,16
   741                        	.member	CUR_WINDOWSHADOW,112,5,8,16
   742                        	.member	CUR_MENU,128,5,8,16
   743                        	.member	CUR_GADGET,144,5,8,16
   744                        	.member	CUR_COLOR,160,101,8,0,15
   745                        	.eos
   746                        	.line	370
   747                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxwindowmanager.h",8
   748                        	.stag	_fxos_winman_vtable,160,69
   749                        	.member	Events,0,641,8,32
   750                        	.member	ConfigureWindowManager,32,656,8,32
   751                        	.member	ProcessWindowEvent,64,8833,8,32
   752                        	.member	QueryWindowManager,96,656,8,32
   753                        	.member	DoWndProcs,128,641,8,32
   754                        	.eos
   755                        	.stag	fake70_,64,70
   756                        	.member	type,0,16,8,16
   757                        	.member	size,16,16,8,16
   758                        	.member	desktopAction,32,129,8,32
   759                        	.eos
   760                        	.stag	fake71_,96,71
   761                        	.member	type,0,16,8,16
   762                        	.member	caption,16,138,8,32,61
   763                        	.member	buttonType,48,16,8,16
   764                        	.member	x,64,5,8,16
   765                        	.member	y,80,5,8,16
   766                        	.eos
   767                        	.stag	_childMessage_t,64,72
   768                        	.member	msgType,0,16,8,16
   769                        	.member	msgData,16,129,8,32
   770                        	.member	dataSize,48,16,8,16
   771                        	.eos
   772                        	.line	594
   773                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxeventmanager.h",9
   774                        	.stag	_fx_main_loopvars,16,73
   775                        	.member	dummy,0,5,8,16
   776                        	.eos
   777                        	.stag	_fxMouseMessageData,64,74
   778                        	.member	button1,0,14,8,8
   779                        	.member	button2,8,14,8,8
   780                        	.member	button3,16,14,8,8
   781                        	.member	button4,24,14,8,8
  Mon Sep 27 2021  9:39                                                Page 16


   782                        	.member	x,32,16,8,16
   783                        	.member	y,48,16,8,16
   784                        	.eos
   785                        	.utag	marshalled_data,32,75
   786                        	.member	byteValue,0,14,11,8
   787                        	.member	verbValue,0,110,11,0,2
   788                        	.member	intValue,0,16,11,16
   789                        	.member	longValue,0,18,11,32
   790                        	.member	pointerValue,0,129,11,32
   791                        	.eos
   792                        	.stag	_fx_eventProcess,64,76
   793                        	.member	process,0,138,8,32,20
   794                        	.member	eventProc,32,641,8,32
   795                        	.eos
   796                        	.stag	_mouse_msg_state,184,77
   797                        	.member	lastEvent,0,18,8,32
   798                        	.member	buttonLeftDown,32,14,8,8
   799                        	.member	lastLeftDown,40,18,8,32
   800                        	.member	buttonRightDown,72,14,8,8
   801                        	.member	lastRightDown,80,18,8,32
   802                        	.member	buttonMiddleDown,112,14,8,8
   803                        	.member	lastMiddleDown,120,18,8,32
   804                        	.member	lastX,152,16,8,16
   805                        	.member	lastY,168,16,8,16
   806                        	.eos
   807                        	.stag	_fxos_eventmanager_vtable,192,78
   808                        	.member	EventQueue,0,138,8,32,7
   809                        	.member	Init,32,8833,8,32
   810                        	.member	Run,64,656,8,32
   811                        	.member	Configure,96,656,8,32
   812                        	.member	Query,128,656,8,32
   813                        	.member	Uninit,160,641,8,32
   814                        	.eos
   815                        	.stag	_k_clipboard_data,168,79
   816                        	.member	type,0,14,8,8
   817                        	.member	readable,8,110,8,0,16
   818                        	.member	data,136,129,8,32
   819                        	.eos
   820                        	.line	572
   821                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",18
   822                        	.stag	_fx_spinner_ctx,48,80
   823                        	.member	index,0,5,8,16
   824                        	.member	spinner,16,142,8,32
   825                        	.eos
   826                        	.stag	_fx_console_ctx,1144,81
   827                        	.member	lineBufferIndex,0,5,8,16
   828                        	.member	lineBuffer,16,110,8,0,128
   829                        	.member	isShifted,1040,14,8,8
   830                        	.member	userData,1048,129,8,32
   831                        	.member	screenBuffer,1080,129,8,32
   832                        	.member	Reserved1,1112,129,8,32
   833                        	.eos
   834                        	.stag	_token,64,82
   835                        	.member	type,0,5,8,16
   836                        	.member	depth,16,16,8,16
   837                        	.member	text,32,142,8,32
   838                        	.eos
  Mon Sep 27 2021  9:39                                                Page 17


   839                        	.stag	_command_args,64,83
   840                        	.member	proc,0,656,8,32
   841                        	.member	tokens,32,138,8,32,5
   842                        	.eos
   843                        	.line	208
   844                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",23
   845                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxstring.h",0
   846                        	.line	141
   847                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",24
   848                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxnode.h",0
   849                        	.line	118
   850                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",25
   851                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\ff/ff.h",0
   852                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\ff/ffconf.h",0
   853                        	.line	298
   854                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\ff/ff.h",29
   855                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   856                        	.line	1064
   857                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\ff/ff.h",30
   858                        	.stag	fake84_,4504,84
   859                        	.member	fs_type,0,14,8,8
   860                        	.member	pdrv,8,14,8,8
   861                        	.member	n_fats,16,14,8,8
   862                        	.member	wflag,24,14,8,8
   863                        	.member	fsi_flag,32,14,8,8
   864                        	.member	id,40,5,8,16
   865                        	.member	n_rootdir,56,5,8,16
   866                        	.member	csize,72,5,8,16
   867                        	.member	lfnbuf,88,144,8,32
   868                        	.member	last_clst,120,18,8,32
   869                        	.member	free_clst,152,18,8,32
   870                        	.member	n_fatent,184,18,8,32
   871                        	.member	fsize,216,18,8,32
   872                        	.member	volbase,248,18,8,32
   873                        	.member	fatbase,280,18,8,32
   874                        	.member	dirbase,312,18,8,32
   875                        	.member	database,344,18,8,32
   876                        	.member	winsect,376,18,8,32
   877                        	.member	win,408,110,8,0,512
   878                        	.eos
   879                        	.stag	fake85_,128,85
   880                        	.member	fs,0,138,8,32,84
   881                        	.member	id,32,5,8,16
   882                        	.member	attr,48,14,8,8
   883                        	.member	stat,56,14,8,8
   884                        	.member	sclust,64,18,8,32
   885                        	.member	objsize,96,18,8,32
   886                        	.eos
  Mon Sep 27 2021  9:39                                                Page 18


   887                        	.stag	fake86_,4400,86
   888                        	.member	obj,0,10,8,128,85
   889                        	.member	flag,128,14,8,8
   890                        	.member	err,136,14,8,8
   891                        	.member	fptr,144,18,8,32
   892                        	.member	clust,176,18,8,32
   893                        	.member	sect,208,18,8,32
   894                        	.member	dir_sect,240,18,8,32
   895                        	.member	dir_ptr,272,142,8,32
   896                        	.member	buf,304,110,8,0,512
   897                        	.eos
   898                        	.stag	fake87_,416,87
   899                        	.member	obj,0,10,8,128,85
   900                        	.member	dptr,128,18,8,32
   901                        	.member	clust,160,18,8,32
   902                        	.member	sect,192,18,8,32
   903                        	.member	dir,224,142,8,32
   904                        	.member	fn,256,110,8,0,12
   905                        	.member	blk_ofs,352,18,8,32
   906                        	.member	pat,384,142,8,32
   907                        	.eos
   908                        	.stag	fake88_,2224,88
   909                        	.member	fsize,0,18,8,32
   910                        	.member	fdate,32,5,8,16
   911                        	.member	ftime,48,5,8,16
   912                        	.member	fattrib,64,14,8,8
   913                        	.member	altname,72,110,8,0,13
   914                        	.member	fname,176,110,8,0,256
   915                        	.eos
   916                        	.stag	fake89_,80,89
   917                        	.member	fmt,0,14,8,8
   918                        	.member	n_fat,8,14,8,8
   919                        	.member	align,16,16,8,16
   920                        	.member	n_root,32,16,8,16
   921                        	.member	au_size,48,18,8,32
   922                        	.eos
   923                        	.line	429
   924                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",26
   925                        	.line	30
   926                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos_accessories.h",11
   927                        	.line	18
   928                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos_accessories.c",3
   929                        ;
   930                        ;//#pragma section CODE=DTACSRY,offset $03:9000
   931                        ;#pragma section CODE=DTACSRY,offset $06:91F0
   932                        DTACSRY	section	offset $06:91F0
   933 06:91F0:              	ends
   934                        ;
   935                        ;BOOL CalculatorWindowProc(PFXOSMESSAGE pMsg);
   936                        ;BOOL PaletteWindowProc(PFXOSMESSAGE pMsg);
   937                        ;
   938                        ;BOOL foreach_colors(LPVOID ctx,LPVOID data);
   939                        ;
   940                        ;/////////////////////////////////////////////////
                    ////////////
  Mon Sep 27 2021  9:39                                                Page 19


   941                        ;// OK because calculator is a single instance app
                    lication
   942                        ;/////////////////////////////////////////////////
                    ////////////
   943                        ;static PWINDOW hWndInstance = NULL;
   944                        	data
   945                        ~~hWndInstance:
   946 00:0000: 00 00 00 00  	dl	$0
   947 00:0004:              	ends
   948                        ;static PWINDOW hWndInstancePalette = NULL;
   949                        	data
   950                        ~~hWndInstancePalette:
   951 00:0004: 00 00 00 00  	dl	$0
   952 00:0008:              	ends
   953                        ;static PWINDOW pTextBox = NULL;
   954                        	data
   955                        ~~pTextBox:
   956 00:0008: 00 00 00 00  	dl	$0
   957 00:000C:              	ends
   958                        ;static int  d1 = 0;
   959                        	data
   960                        ~~d1:
   961 00:000C: 00 00        	dw	$0
   962 00:000E:              	ends
   963                        ;static int  d2 = 0;
   964                        	data
   965                        ~~d2:
   966 00:000E: 00 00        	dw	$0
   967 00:0010:              	ends
   968                        ;static int  operator = 0;
   969                        	data
   970                        ~~operator:
   971 00:0010: 00 00        	dw	$0
   972 00:0012:              	ends
   973                        ;static int  doop = 0;
   974                        	data
   975                        ~~doop:
   976 00:0012: 00 00        	dw	$0
   977 00:0014:              	ends
   978                        ;static int  fun = 1;
   979                        	data
   980                        ~~fun:
   981 00:0014: 01 00        	dw	$1
   982 00:0016:              	ends
   983                        ;//
   984                        ;// App Entry
   985                        ;//
   986                        ;VOID FXCalculator(PFXOSMESSAGE pMsg)
   987                        ;{
   988                        	.line	27
   989                        	.line	28
   990                        	DTACSRY
   991                        	xdef	~~FXCalculator
   992                        	func
   993                        	.function	28
   994                        ~~FXCalculator:
   995                        	longa	on
   996                        	longi	on
  Mon Sep 27 2021  9:39                                                Page 20


   997 06:91F0: 3B           	tsc
   998 06:91F1: 38           	sec
   999 06:91F2: E9 08 00     	sbc	#L2
  1000 06:91F5: 1B           	tcs
  1001 06:91F6: 0B           	phd
  1002 06:91F7: 5B           	tcd
  1003             00000004   pMsg_0	set	4
  1004                        	.block	28
  1005                        ;	PFXPROCESS p = NULL;
  1006                        ;
  1007                        ;	if(pMsg!=NULL)
  1008             00000000   p_1	set	0
  1009                        	.sym	p,0,138,1,32,20
  1010                        	.sym	pMsg,4,138,6,32,16
  1011 06:91F8: 64 05        	stz	<L3+p_1
  1012 06:91FA: 64 07        	stz	<L3+p_1+2
  1013                        	.line	31
  1014                        ;	{
  1015 06:91FC: A5 0C        	lda	<L2+pMsg_0
  1016 06:91FE: 05 0E        	ora	<L2+pMsg_0+2
  1017 06:9200: D0 03        	bne	L5
  1018 06:9202: 82 19 01     	brl	L10001
  1019                        L5:
  1020                        	.line	32
  1021                        ;		p = k_exec_get_current_process();
  1022                        	.line	33
  1023 06:9205: 22 xx xx xx  	jsl	~~k_exec_get_current_process
  1024 06:9209: 85 05        	sta	<L3+p_1
  1025 06:920B: 86 07        	stx	<L3+p_1+2
  1026                        ;
  1027                        ;		switch(pMsg->type)
  1028                        	.line	35
  1029 06:920D: A0 08 00     	ldy	#$8
  1030 06:9210: B7 0C        	lda	[<L2+pMsg_0],Y
  1031 06:9212: 82 F9 00     	brl	L10002
  1032                        ;		{
  1033                        	.line	36
  1034                        ;		case FX_INIT_MESSAGE:
  1035                        	.line	37
  1036                        L10004:
  1037                        ;			if(p!=NULL)
  1038                        	.line	38
  1039                        ;			{
  1040 06:9215: A5 05        	lda	<L3+p_1
  1041 06:9217: 05 07        	ora	<L3+p_1+2
  1042 06:9219: D0 03        	bne	L6
  1043 06:921B: 82 B6 00     	brl	L10005
  1044                        L6:
  1045                        	.line	39
  1046                        ;				k_debug_long("FXCalculat
                    or::FX_INIT_MESSAGE::ProcessId:",p->procId);
  1047                        	.line	40
  1048 06:921E: A0 04 00     	ldy	#$4
  1049 06:9221: B7 05        	lda	[<L3+p_1],Y
  1050 06:9223: 48           	pha
  1051 06:9224: A0 02 00     	ldy	#$2
  1052 06:9227: B7 05        	lda	[<L3+p_1],Y
  1053 06:9229: 48           	pha
  Mon Sep 27 2021  9:39                                                Page 21


  1054 06:922A: F4 xx xx     	pea	#^L1
  1055 06:922D: F4 xx xx     	pea	#<L1
  1056 06:9230: 22 xx xx xx  	jsl	~~k_debug_long
  1057                        ;
  1058                        ;				if(hWndInstance == NULL)
  1059                        	.line	42
  1060                        ;				{
  1061 06:9234: AD xx xx     	lda	|~~hWndInstance
  1062 06:9237: 0D xx xx     	ora	|~~hWndInstance+2
  1063 06:923A: F0 03        	beq	L7
  1064 06:923C: 82 6F 00     	brl	L10006
  1065                        L7:
  1066                        	.line	43
  1067                        ;					k_user_CreateWin
                    dowClassEx("fxCalculatorWindowClass",NULL,0,FXWSX_ALWAYS_BAC
                    KPLANE,NULL,NULL,NULL,CalculatorWindowProc);
  1068                        	.line	44
  1069 06:923F: F4 06 00     	pea	#^~~CalculatorWindowProc
  1070 06:9242: F4 2E 93     	pea	#<~~CalculatorWindowProc
  1071 06:9245: F4 00 00     	pea	#^$0
  1072 06:9248: F4 00 00     	pea	#<$0
  1073 06:924B: F4 00 00     	pea	#^$0
  1074 06:924E: F4 00 00     	pea	#<$0
  1075 06:9251: F4 00 00     	pea	#^$0
  1076 06:9254: F4 00 00     	pea	#<$0
  1077 06:9257: F4 00 00     	pea	#<$0
  1078 06:925A: F4 00 00     	pea	#<$0
  1079 06:925D: F4 00 00     	pea	#^$0
  1080 06:9260: F4 00 00     	pea	#<$0
  1081 06:9263: F4 xx xx     	pea	#^L1+42
  1082 06:9266: F4 xx xx     	pea	#<L1+42
  1083 06:9269: 22 xx xx xx  	jsl	~~k_user_CreateWindowClassEx
  1084                        ;					hWndInstance = k
                    _user_CreateWindow(FXWS_THICKFRAME | FXWS_CAPTION | FXWS_VIS
                    IBLE | FXWS_SYSMENU | FXWS_POPUP,
  1085                        	.line	45
  1086                        ;							
                    							"fxCalcu
                    latorWindowClass",
  1087                        ;							
                    							"FX/Calc
                    ulator",
  1088                        ;							
                    							100,100,
  1089                        ;							
                    							200,225,
  1090                        ;							
                    							k_user_g
                    etDesktopWindow(),
  1091                        ;							
                    							NULL,
  1092                        ;							
                    							NULL);
  1093 06:926D: F4 00 00     	pea	#^$0
  1094 06:9270: F4 00 00     	pea	#<$0
  1095 06:9273: F4 00 00     	pea	#^$0
  1096 06:9276: F4 00 00     	pea	#<$0
  1097 06:9279: 22 xx xx xx  	jsl	~~k_user_getDesktopWindow
  Mon Sep 27 2021  9:39                                                Page 22


  1098 06:927D: 85 01        	sta	<R0
  1099 06:927F: 86 03        	stx	<R0+2
  1100 06:9281: DA           	phx
  1101 06:9282: 48           	pha
  1102 06:9283: F4 E1 00     	pea	#<$e1
  1103 06:9286: F4 C8 00     	pea	#<$c8
  1104 06:9289: F4 64 00     	pea	#<$64
  1105 06:928C: F4 64 00     	pea	#<$64
  1106 06:928F: F4 xx xx     	pea	#^L1+90
  1107 06:9292: F4 xx xx     	pea	#<L1+90
  1108 06:9295: F4 xx xx     	pea	#^L1+66
  1109 06:9298: F4 xx xx     	pea	#<L1+66
  1110 06:929B: F4 22 00     	pea	#^$22000d
  1111 06:929E: F4 0D 00     	pea	#<$22000d
  1112 06:92A1: 22 xx xx xx  	jsl	~~k_user_CreateWindow
  1113 06:92A5: 8D xx xx     	sta	|~~hWndInstance
  1114 06:92A8: 8E xx xx     	stx	|~~hWndInstance+2
  1115                        ;				}
  1116                        	.line	53
  1117                        ;				else
  1118 06:92AB: 82 26 00     	brl	L10007
  1119                        L10006:
  1120                        ;				{
  1121                        	.line	55
  1122                        ;					k_debug_long("FX
                    Calculator::FX_INIT_MESSAGE::EXIT:",p->procId);
  1123                        	.line	56
  1124 06:92AE: A0 04 00     	ldy	#$4
  1125 06:92B1: B7 05        	lda	[<L3+p_1],Y
  1126 06:92B3: 48           	pha
  1127 06:92B4: A0 02 00     	ldy	#$2
  1128 06:92B7: B7 05        	lda	[<L3+p_1],Y
  1129 06:92B9: 48           	pha
  1130 06:92BA: F4 xx xx     	pea	#^L1+104
  1131 06:92BD: F4 xx xx     	pea	#<L1+104
  1132 06:92C0: 22 xx xx xx  	jsl	~~k_debug_long
  1133                        ;					k_exec_signal_te
                    rminate(p->procId);
  1134                        	.line	57
  1135 06:92C4: A0 04 00     	ldy	#$4
  1136 06:92C7: B7 05        	lda	[<L3+p_1],Y
  1137 06:92C9: 48           	pha
  1138 06:92CA: A0 02 00     	ldy	#$2
  1139 06:92CD: B7 05        	lda	[<L3+p_1],Y
  1140 06:92CF: 48           	pha
  1141 06:92D0: 22 xx xx xx  	jsl	~~k_exec_signal_terminate
  1142                        ;				}
  1143                        	.line	58
  1144                        L10007:
  1145                        ;			}
  1146                        	.line	59
  1147                        ;			break;
  1148                        L10005:
  1149                        	.line	60
  1150 06:92D4: 82 47 00     	brl	L10003
  1151                        ;		case FX_PROCESS:
  1152                        	.line	61
  1153                        L10008:
  Mon Sep 27 2021  9:39                                                Page 23


  1154                        ;			if(hWndInstance == NULL)
  1155                        	.line	62
  1156                        ;			{
  1157 06:92D7: AD xx xx     	lda	|~~hWndInstance
  1158 06:92DA: 0D xx xx     	ora	|~~hWndInstance+2
  1159 06:92DD: F0 03        	beq	L8
  1160 06:92DF: 82 26 00     	brl	L10009
  1161                        L8:
  1162                        	.line	63
  1163                        ;				k_debug_long("FXCalculat
                    or::FX_PROCESS::EXIT:",p->procId);
  1164                        	.line	64
  1165 06:92E2: A0 04 00     	ldy	#$4
  1166 06:92E5: B7 05        	lda	[<L3+p_1],Y
  1167 06:92E7: 48           	pha
  1168 06:92E8: A0 02 00     	ldy	#$2
  1169 06:92EB: B7 05        	lda	[<L3+p_1],Y
  1170 06:92ED: 48           	pha
  1171 06:92EE: F4 xx xx     	pea	#^L1+141
  1172 06:92F1: F4 xx xx     	pea	#<L1+141
  1173 06:92F4: 22 xx xx xx  	jsl	~~k_debug_long
  1174                        ;				k_exec_signal_terminate(
                    p->procId);
  1175                        	.line	65
  1176 06:92F8: A0 04 00     	ldy	#$4
  1177 06:92FB: B7 05        	lda	[<L3+p_1],Y
  1178 06:92FD: 48           	pha
  1179 06:92FE: A0 02 00     	ldy	#$2
  1180 06:9301: B7 05        	lda	[<L3+p_1],Y
  1181 06:9303: 48           	pha
  1182 06:9304: 22 xx xx xx  	jsl	~~k_exec_signal_terminate
  1183                        ;			}
  1184                        	.line	66
  1185                        ;			break;
  1186                        L10009:
  1187                        	.line	67
  1188 06:9308: 82 13 00     	brl	L10003
  1189                        ;		default:
  1190                        	.line	68
  1191                        L10010:
  1192                        ;			break;
  1193                        	.line	69
  1194 06:930B: 82 10 00     	brl	L10003
  1195                        ;		}
  1196                        	.line	70
  1197                        L10002:
  1198                        	xref	~~~swt
  1199 06:930E: 22 xx xx xx  	jsl	~~~swt
  1200 06:9312: 02 00        	dw	2
  1201 06:9314: 00 FF        	dw	65280
  1202 06:9316: D6 92        	dw	L10008-1
  1203 06:9318: 01 FF        	dw	65281
  1204 06:931A: 14 92        	dw	L10004-1
  1205 06:931C: 0A 93        	dw	L10010-1
  1206                        L10003:
  1207                        ;	}
  1208                        	.line	71
  1209                        ;
  Mon Sep 27 2021  9:39                                                Page 24


  1210                        ;	return;
  1211                        L10001:
  1212                        	.line	73
  1213                        L9:
  1214 06:931E: A5 0A        	lda	<L2+2
  1215 06:9320: 85 0E        	sta	<L2+2+4
  1216 06:9322: A5 09        	lda	<L2+1
  1217 06:9324: 85 0D        	sta	<L2+1+4
  1218 06:9326: 2B           	pld
  1219 06:9327: 3B           	tsc
  1220 06:9328: 18           	clc
  1221 06:9329: 69 0C 00     	adc	#L2+4
  1222 06:932C: 1B           	tcs
  1223 06:932D: 6B           	rtl
  1224                        ;}
  1225                        	.line	74
  1226                        	.endblock	74
  1227             00000008   L2	equ	8
  1228             00000005   L3	equ	5
  1229 06:932E:              	ends
  1230                        	efunc
  1231                        	.endfunc	74,5,8
  1232                        	.line	74
  1233                        	data
  1234                        L1:
  1235 00:0016: 46 58 43 61  	db	$46,$58,$43,$61,$6C,$63,$75,$6C,$61,$74,
                    $6F,$72,$3A,$3A,$46
       00:001A: 6C 63 75 6C 
       00:001E: 61 74 6F 72 
       00:0022: 3A 3A 46 
  1236 00:0025: 58 5F 49 4E  	db	$58,$5F,$49,$4E,$49,$54,$5F,$4D,$45,$53,
                    $53,$41,$47,$45,$3A
       00:0029: 49 54 5F 4D 
       00:002D: 45 53 53 41 
       00:0031: 47 45 3A 
  1237 00:0034: 3A 50 72 6F  	db	$3A,$50,$72,$6F,$63,$65,$73,$73,$49,$64,
                    $3A,$00,$66,$78,$43
       00:0038: 63 65 73 73 
       00:003C: 49 64 3A 00 
       00:0040: 66 78 43 
  1238 00:0043: 61 6C 63 75  	db	$61,$6C,$63,$75,$6C,$61,$74,$6F,$72,$57,
                    $69,$6E,$64,$6F,$77
       00:0047: 6C 61 74 6F 
       00:004B: 72 57 69 6E 
       00:004F: 64 6F 77 
  1239 00:0052: 43 6C 61 73  	db	$43,$6C,$61,$73,$73,$00,$66,$78,$43,$61,
                    $6C,$63,$75,$6C,$61
       00:0056: 73 00 66 78 
       00:005A: 43 61 6C 63 
       00:005E: 75 6C 61 
  1240 00:0061: 74 6F 72 57  	db	$74,$6F,$72,$57,$69,$6E,$64,$6F,$77,$43,
                    $6C,$61,$73,$73,$00
       00:0065: 69 6E 64 6F 
       00:0069: 77 43 6C 61 
       00:006D: 73 73 00 
  1241 00:0070: 46 58 2F 43  	db	$46,$58,$2F,$43,$61,$6C,$63,$75,$6C,$61,
                    $74,$6F,$72,$00,$46
       00:0074: 61 6C 63 75 
  Mon Sep 27 2021  9:39                                                Page 25


       00:0078: 6C 61 74 6F 
       00:007C: 72 00 46 
  1242 00:007F: 58 43 61 6C  	db	$58,$43,$61,$6C,$63,$75,$6C,$61,$74,$6F,
                    $72,$3A,$3A,$46,$58
       00:0083: 63 75 6C 61 
       00:0087: 74 6F 72 3A 
       00:008B: 3A 46 58 
  1243 00:008E: 5F 49 4E 49  	db	$5F,$49,$4E,$49,$54,$5F,$4D,$45,$53,$53,
                    $41,$47,$45,$3A,$3A
       00:0092: 54 5F 4D 45 
       00:0096: 53 53 41 47 
       00:009A: 45 3A 3A 
  1244 00:009D: 45 58 49 54  	db	$45,$58,$49,$54,$3A,$00,$46,$58,$43,$61,
                    $6C,$63,$75,$6C,$61
       00:00A1: 3A 00 46 58 
       00:00A5: 43 61 6C 63 
       00:00A9: 75 6C 61 
  1245 00:00AC: 74 6F 72 3A  	db	$74,$6F,$72,$3A,$3A,$46,$58,$5F,$50,$52,
                    $4F,$43,$45,$53,$53
       00:00B0: 3A 46 58 5F 
       00:00B4: 50 52 4F 43 
       00:00B8: 45 53 53 
  1246 00:00BB: 3A 3A 45 58  	db	$3A,$3A,$45,$58,$49,$54,$3A,$00
       00:00BF: 49 54 3A 00 
  1247 00:00C3:              	ends
  1248                        ;
  1249                        ;
  1250                        ;#define CALC_BUTTON_ASPECT	   (32)
  1251                        ;#define CALC_BUTTON_SPACING	   (8)
  1252                        ;#define CALC_BUTTON_OFFSET_X   (20)
  1253                        ;#define CALC_BUTTON_OFFSET_Y   (28)
  1254                        ;#define CALC_ADD_COL(a)  	   (a+=(CALC_BUT
                    TON_SPACING + CALC_BUTTON_ASPECT))
  1255                        ;#define CALC_ADD_ROW(a)  	   (b+=(CALC_BUT
                    TON_SPACING + CALC_BUTTON_ASPECT))
  1256                        ;
  1257                        ;#define CALC_OP_ADD	   	(1)
  1258                        ;#define CALC_OP_SUB	   	(2)
  1259                        ;#define CALC_OP_MUL	   	(3)
  1260                        ;#define CALC_OP_DIV	   	(4)
  1261                        ;#define CALC_OP_EQU	   	(5)
  1262                        ;
  1263                        ;#define CALC_BUTTON_1	(0x8801)
  1264                        ;#define CALC_BUTTON_2	(0x8802)
  1265                        ;#define CALC_BUTTON_3	(0x8803)
  1266                        ;#define CALC_BUTTON_4	(0x8804)
  1267                        ;#define CALC_BUTTON_5	(0x8805)
  1268                        ;#define CALC_BUTTON_6	(0x8806)
  1269                        ;#define CALC_BUTTON_7	(0x8807)
  1270                        ;#define CALC_BUTTON_8	(0x8808)
  1271                        ;#define CALC_BUTTON_9	(0x8809)
  1272                        ;#define CALC_BUTTON_0	(0x8800)
  1273                        ;#define CALC_BUTTON_END (0x880A)
  1274                        ;
  1275                        ;#define CALC_BUTTON_ADD	(0x8813)
  1276                        ;#define CALC_BUTTON_SUB	(0x8823)
  1277                        ;#define CALC_BUTTON_MUL	(0x8833)
  1278                        ;#define CALC_BUTTON_DIV	(0x8843)
  Mon Sep 27 2021  9:39                                                Page 26


  1279                        ;#define CALC_BUTTON_EQU	(0x8853)
  1280                        ;#define CALC_BUTTON_CLR	(0x8863)
  1281                        ;
  1282                        ;#define CALC_TEXTBOX	(0x8601)
  1283                        ;/////////////////////////////////////
  1284                        ;// Window Procedure
  1285                        ;/////////////////////////////////////
  1286                        ;BOOL CalculatorWindowProc(PFXOSMESSAGE pMsg)
  1287                        ;{
  1288                        	.line	113
  1289                        	.line	114
  1290                        	DTACSRY
  1291                        	xdef	~~CalculatorWindowProc
  1292                        	func
  1293                        	.function	114
  1294                        ~~CalculatorWindowProc:
  1295                        	longa	on
  1296                        	longi	on
  1297 06:932E: 3B           	tsc
  1298 06:932F: 38           	sec
  1299 06:9330: E9 3A 00     	sbc	#L11
  1300 06:9333: 1B           	tcs
  1301 06:9334: 0B           	phd
  1302 06:9335: 5B           	tcd
  1303             00000004   pMsg_0	set	4
  1304                        	.block	114
  1305                        ;	PFXPROCESS 	p = NULL;
  1306                        ;	PWINDOW 	pWin = NULL;
  1307                        ;	INT 		xindex = 0;
  1308                        ;	INT 		yindex = 0;
  1309                        ;	RECT 		winRect;
  1310                        ;	UINT 		cmdId;
  1311                        ;	int 		value = 0;
  1312                        ;	CHAR 		opCode[16];
  1313                        ;
  1314                        ;	PTEXTBOX textbox;
  1315                        ;
  1316                        ;	if(pMsg!=NULL)
  1317             00000000   p_1	set	0
  1318             00000004   pWin_1	set	4
  1319             00000008   xindex_1	set	8
  1320             0000000A   yindex_1	set	10
  1321             0000000C   winRect_1	set	12
  1322             0000001A   cmdId_1	set	26
  1323             0000001C   value_1	set	28
  1324             0000001E   opCode_1	set	30
  1325             0000002E   textbox_1	set	46
  1326                        	.sym	p,0,138,1,32,20
  1327                        	.sym	pWin,4,138,1,32,33
  1328                        	.sym	xindex,8,5,1,16
  1329                        	.sym	yindex,10,5,1,16
  1330                        	.sym	winRect,12,10,1,112,26
  1331                        	.sym	cmdId,26,16,1,16
  1332                        	.sym	value,28,5,1,16
  1333                        	.sym	opCode,30,110,1,0,16
  1334                        	.sym	textbox,46,138,1,32,42
  1335                        	.sym	pMsg,4,138,6,32,16
  1336 06:9336: 64 09        	stz	<L12+p_1
  Mon Sep 27 2021  9:39                                                Page 27


  1337 06:9338: 64 0B        	stz	<L12+p_1+2
  1338 06:933A: 64 0D        	stz	<L12+pWin_1
  1339 06:933C: 64 0F        	stz	<L12+pWin_1+2
  1340 06:933E: 64 11        	stz	<L12+xindex_1
  1341 06:9340: 64 13        	stz	<L12+yindex_1
  1342 06:9342: 64 25        	stz	<L12+value_1
  1343                        	.line	126
  1344                        ;	{
  1345 06:9344: A5 3E        	lda	<L11+pMsg_0
  1346 06:9346: 05 40        	ora	<L11+pMsg_0+2
  1347 06:9348: D0 03        	bne	L14
  1348 06:934A: 82 1C 07     	brl	L10011
  1349                        L14:
  1350                        	.line	127
  1351                        ;		p = k_exec_get_current_process();
  1352                        	.line	128
  1353 06:934D: 22 xx xx xx  	jsl	~~k_exec_get_current_process
  1354 06:9351: 85 09        	sta	<L12+p_1
  1355 06:9353: 86 0B        	stx	<L12+p_1+2
  1356                        ;
  1357                        ;		switch(pMsg->type)
  1358                        	.line	130
  1359 06:9355: A0 08 00     	ldy	#$8
  1360 06:9358: B7 3E        	lda	[<L11+pMsg_0],Y
  1361 06:935A: 82 F4 06     	brl	L10012
  1362                        ;		{
  1363                        	.line	131
  1364                        ;		case FX_WINDOW_CLOSE:
  1365                        	.line	132
  1366                        L10014:
  1367                        ;			hWndInstance = NULL;
  1368                        	.line	133
  1369 06:935D: 9C xx xx     	stz	|~~hWndInstance
  1370 06:9360: 9C xx xx     	stz	|~~hWndInstance+2
  1371                        ;			return DefWindowProc(pMsg);
  1372                        	.line	134
  1373 06:9363: D4 40        	pei	<L11+pMsg_0+2
  1374 06:9365: D4 3E        	pei	<L11+pMsg_0
  1375 06:9367: 22 xx xx xx  	jsl	~~DefWindowProc
  1376 06:936B: E2 20        	sep	#$20
  1377                        	longa	off
  1378 06:936D: 85 01        	sta	<R0
  1379 06:936F: C2 20        	rep	#$20
  1380                        	longa	on
  1381 06:9371: A5 01        	lda	<R0
  1382 06:9373: 29 FF 00     	and	#$ff
  1383                        L15:
  1384 06:9376: A8           	tay
  1385 06:9377: A5 3C        	lda	<L11+2
  1386 06:9379: 85 40        	sta	<L11+2+4
  1387 06:937B: A5 3B        	lda	<L11+1
  1388 06:937D: 85 3F        	sta	<L11+1+4
  1389 06:937F: 2B           	pld
  1390 06:9380: 3B           	tsc
  1391 06:9381: 18           	clc
  1392 06:9382: 69 3E 00     	adc	#L11+4
  1393 06:9385: 1B           	tcs
  1394 06:9386: 98           	tya
  Mon Sep 27 2021  9:39                                                Page 28


  1395 06:9387: 6B           	rtl
  1396                        ;			break;
  1397                        	.line	135
  1398                        ;		case FX_CREATE_WINDOW:
  1399                        	.line	136
  1400                        L10015:
  1401                        ;			if(p)
  1402                        	.line	137
  1403                        ;			{
  1404 06:9388: A5 09        	lda	<L12+p_1
  1405 06:938A: 05 0B        	ora	<L12+p_1+2
  1406 06:938C: D0 03        	bne	L16
  1407 06:938E: 82 32 03     	brl	L10016
  1408                        L16:
  1409                        	.line	138
  1410                        ;				k_debug_long("fxCalculat
                    orWindowProc::FX_CREATE_WINDOW:",p->procId);
  1411                        	.line	139
  1412 06:9391: A0 04 00     	ldy	#$4
  1413 06:9394: B7 09        	lda	[<L12+p_1],Y
  1414 06:9396: 48           	pha
  1415 06:9397: A0 02 00     	ldy	#$2
  1416 06:939A: B7 09        	lda	[<L12+p_1],Y
  1417 06:939C: 48           	pha
  1418 06:939D: F4 xx xx     	pea	#^L10
  1419 06:93A0: F4 xx xx     	pea	#<L10
  1420 06:93A3: 22 xx xx xx  	jsl	~~k_debug_long
  1421                        ;
  1422                        ;				pWin = k_getWindowFromHa
                    ndle(pMsg->hwnd);
  1423                        	.line	141
  1424 06:93A7: A0 0C 00     	ldy	#$c
  1425 06:93AA: B7 3E        	lda	[<L11+pMsg_0],Y
  1426 06:93AC: 48           	pha
  1427 06:93AD: A0 0A 00     	ldy	#$a
  1428 06:93B0: B7 3E        	lda	[<L11+pMsg_0],Y
  1429 06:93B2: 48           	pha
  1430 06:93B3: 22 xx xx xx  	jsl	~~k_getWindowFromHandle
  1431 06:93B7: 85 0D        	sta	<L12+pWin_1
  1432 06:93B9: 86 0F        	stx	<L12+pWin_1+2
  1433                        ;				if(pWin)
  1434                        	.line	142
  1435                        ;				{
  1436 06:93BB: A5 0D        	lda	<L12+pWin_1
  1437 06:93BD: 05 0F        	ora	<L12+pWin_1+2
  1438 06:93BF: D0 03        	bne	L17
  1439 06:93C1: 82 FF 02     	brl	L10017
  1440                        L17:
  1441                        	.line	143
  1442                        ;					pWin->hBackgroun
                    d = ((LPVOID)(ULONG)0xAF);
  1443                        	.line	144
  1444 06:93C4: A9 AF 00     	lda	#$af
  1445 06:93C7: A0 B8 01     	ldy	#$1b8
  1446 06:93CA: 97 0D        	sta	[<L12+pWin_1],Y
  1447 06:93CC: A9 00 00     	lda	#$0
  1448 06:93CF: A0 BA 01     	ldy	#$1ba
  1449 06:93D2: 97 0D        	sta	[<L12+pWin_1],Y
  Mon Sep 27 2021  9:39                                                Page 29


  1450                        ;
  1451                        ;					pTextBox = k_use
                    r_CreateTextBox(pMsg->hwnd,
  1452                        	.line	146
  1453                        ;							
                    			            "CALC_TEXTBOX",
  1454                        ;							
                    						CALC_TEXTBOX,
  1455                        ;							
                    						CTL_TEXTBOX_SING
                    LE,
  1456                        ;							
                    						CALC_BUTTON_OFFS
                    ET_X,
  1457                        ;							
                    						CALC_BUTTON_OFFS
                    ET_Y,
  1458                        ;							
                    						(CALC_BUTTON_ASP
                    ECT*4) + (CALC_BUTTON_SPACING*3),
  1459                        ;							
                    						-1);
  1460 06:93D4: F4 FF FF     	pea	#<$ffffffff
  1461 06:93D7: F4 98 00     	pea	#<$98
  1462 06:93DA: F4 1C 00     	pea	#<$1c
  1463 06:93DD: F4 14 00     	pea	#<$14
  1464 06:93E0: F4 00 00     	pea	#<$0
  1465 06:93E3: F4 01 86     	pea	#<$8601
  1466 06:93E6: F4 xx xx     	pea	#^L10+42
  1467 06:93E9: F4 xx xx     	pea	#<L10+42
  1468 06:93EC: A0 0C 00     	ldy	#$c
  1469 06:93EF: B7 3E        	lda	[<L11+pMsg_0],Y
  1470 06:93F1: 48           	pha
  1471 06:93F2: A0 0A 00     	ldy	#$a
  1472 06:93F5: B7 3E        	lda	[<L11+pMsg_0],Y
  1473 06:93F7: 48           	pha
  1474 06:93F8: 22 xx xx xx  	jsl	~~k_user_CreateTextBox
  1475 06:93FC: 8D xx xx     	sta	|~~pTextBox
  1476 06:93FF: 8E xx xx     	stx	|~~pTextBox+2
  1477                        ;
  1478                        ;					xindex = CALC_BU
                    TTON_OFFSET_X;
  1479                        	.line	155
  1480 06:9402: A9 14 00     	lda	#$14
  1481 06:9405: 85 11        	sta	<L12+xindex_1
  1482                        ;					yindex = CALC_BU
                    TTON_OFFSET_Y + (CALC_BUTTON_SPACING * 3);
  1483                        	.line	156
  1484 06:9407: A9 34 00     	lda	#$34
  1485 06:940A: 85 13        	sta	<L12+yindex_1
  1486                        ;					k_user_CreateBut
                    ton(pMsg->hwnd,"1",CALC_BUTTON_1,xindex,yindex,CALC_BUTTON_A
                    SPECT,CALC_BUTTON_ASPECT);CALC_ADD_COL(xindex);
  1487                        	.line	157
  1488 06:940C: F4 20 00     	pea	#<$20
  1489 06:940F: F4 20 00     	pea	#<$20
  1490 06:9412: D4 13        	pei	<L12+yindex_1
  1491 06:9414: D4 11        	pei	<L12+xindex_1
  Mon Sep 27 2021  9:39                                                Page 30


  1492 06:9416: F4 01 88     	pea	#<$8801
  1493 06:9419: F4 xx xx     	pea	#^L10+55
  1494 06:941C: F4 xx xx     	pea	#<L10+55
  1495 06:941F: A0 0C 00     	ldy	#$c
  1496 06:9422: B7 3E        	lda	[<L11+pMsg_0],Y
  1497 06:9424: 48           	pha
  1498 06:9425: A0 0A 00     	ldy	#$a
  1499 06:9428: B7 3E        	lda	[<L11+pMsg_0],Y
  1500 06:942A: 48           	pha
  1501 06:942B: 22 xx xx xx  	jsl	~~k_user_CreateButton
  1502                        	.line	157
  1503 06:942F: 18           	clc
  1504 06:9430: A9 28 00     	lda	#$28
  1505 06:9433: 65 11        	adc	<L12+xindex_1
  1506 06:9435: 85 11        	sta	<L12+xindex_1
  1507                        ;					k_user_CreateBut
                    ton(pMsg->hwnd,"2",CALC_BUTTON_2,xindex,yindex,CALC_BUTTON_A
                    SPECT,CALC_BUTTON_ASPECT);CALC_ADD_COL(xindex);
  1508                        	.line	158
  1509 06:9437: F4 20 00     	pea	#<$20
  1510 06:943A: F4 20 00     	pea	#<$20
  1511 06:943D: D4 13        	pei	<L12+yindex_1
  1512 06:943F: D4 11        	pei	<L12+xindex_1
  1513 06:9441: F4 02 88     	pea	#<$8802
  1514 06:9444: F4 xx xx     	pea	#^L10+57
  1515 06:9447: F4 xx xx     	pea	#<L10+57
  1516 06:944A: A0 0C 00     	ldy	#$c
  1517 06:944D: B7 3E        	lda	[<L11+pMsg_0],Y
  1518 06:944F: 48           	pha
  1519 06:9450: A0 0A 00     	ldy	#$a
  1520 06:9453: B7 3E        	lda	[<L11+pMsg_0],Y
  1521 06:9455: 48           	pha
  1522 06:9456: 22 xx xx xx  	jsl	~~k_user_CreateButton
  1523                        	.line	158
  1524 06:945A: 18           	clc
  1525 06:945B: A9 28 00     	lda	#$28
  1526 06:945E: 65 11        	adc	<L12+xindex_1
  1527 06:9460: 85 11        	sta	<L12+xindex_1
  1528                        ;					k_user_CreateBut
                    ton(pMsg->hwnd,"3",CALC_BUTTON_3,xindex,yindex,CALC_BUTTON_A
                    SPECT,CALC_BUTTON_ASPECT);CALC_ADD_COL(xindex);
  1529                        	.line	159
  1530 06:9462: F4 20 00     	pea	#<$20
  1531 06:9465: F4 20 00     	pea	#<$20
  1532 06:9468: D4 13        	pei	<L12+yindex_1
  1533 06:946A: D4 11        	pei	<L12+xindex_1
  1534 06:946C: F4 03 88     	pea	#<$8803
  1535 06:946F: F4 xx xx     	pea	#^L10+59
  1536 06:9472: F4 xx xx     	pea	#<L10+59
  1537 06:9475: A0 0C 00     	ldy	#$c
  1538 06:9478: B7 3E        	lda	[<L11+pMsg_0],Y
  1539 06:947A: 48           	pha
  1540 06:947B: A0 0A 00     	ldy	#$a
  1541 06:947E: B7 3E        	lda	[<L11+pMsg_0],Y
  1542 06:9480: 48           	pha
  1543 06:9481: 22 xx xx xx  	jsl	~~k_user_CreateButton
  1544                        	.line	159
  1545 06:9485: 18           	clc
  Mon Sep 27 2021  9:39                                                Page 31


  1546 06:9486: A9 28 00     	lda	#$28
  1547 06:9489: 65 11        	adc	<L12+xindex_1
  1548 06:948B: 85 11        	sta	<L12+xindex_1
  1549                        ;					k_user_CreateBut
                    ton(pMsg->hwnd,"+",CALC_BUTTON_ADD,xindex,yindex,CALC_BUTTON
                    _ASPECT,CALC_BUTTON_ASPECT);
  1550                        	.line	160
  1551 06:948D: F4 20 00     	pea	#<$20
  1552 06:9490: F4 20 00     	pea	#<$20
  1553 06:9493: D4 13        	pei	<L12+yindex_1
  1554 06:9495: D4 11        	pei	<L12+xindex_1
  1555 06:9497: F4 13 88     	pea	#<$8813
  1556 06:949A: F4 xx xx     	pea	#^L10+61
  1557 06:949D: F4 xx xx     	pea	#<L10+61
  1558 06:94A0: A0 0C 00     	ldy	#$c
  1559 06:94A3: B7 3E        	lda	[<L11+pMsg_0],Y
  1560 06:94A5: 48           	pha
  1561 06:94A6: A0 0A 00     	ldy	#$a
  1562 06:94A9: B7 3E        	lda	[<L11+pMsg_0],Y
  1563 06:94AB: 48           	pha
  1564 06:94AC: 22 xx xx xx  	jsl	~~k_user_CreateButton
  1565                        ;
  1566                        ;					xindex = CALC_BU
                    TTON_OFFSET_X;
  1567                        	.line	162
  1568 06:94B0: A9 14 00     	lda	#$14
  1569 06:94B3: 85 11        	sta	<L12+xindex_1
  1570                        ;					yindex+=(CALC_BU
                    TTON_SPACING + CALC_BUTTON_ASPECT);
  1571                        	.line	163
  1572 06:94B5: 18           	clc
  1573 06:94B6: A9 28 00     	lda	#$28
  1574 06:94B9: 65 13        	adc	<L12+yindex_1
  1575 06:94BB: 85 13        	sta	<L12+yindex_1
  1576                        ;					k_user_CreateBut
                    ton(pMsg->hwnd,"4",CALC_BUTTON_4,xindex,yindex,CALC_BUTTON_A
                    SPECT,CALC_BUTTON_ASPECT);CALC_ADD_COL(xindex);
  1577                        	.line	164
  1578 06:94BD: F4 20 00     	pea	#<$20
  1579 06:94C0: F4 20 00     	pea	#<$20
  1580 06:94C3: D4 13        	pei	<L12+yindex_1
  1581 06:94C5: D4 11        	pei	<L12+xindex_1
  1582 06:94C7: F4 04 88     	pea	#<$8804
  1583 06:94CA: F4 xx xx     	pea	#^L10+63
  1584 06:94CD: F4 xx xx     	pea	#<L10+63
  1585 06:94D0: A0 0C 00     	ldy	#$c
  1586 06:94D3: B7 3E        	lda	[<L11+pMsg_0],Y
  1587 06:94D5: 48           	pha
  1588 06:94D6: A0 0A 00     	ldy	#$a
  1589 06:94D9: B7 3E        	lda	[<L11+pMsg_0],Y
  1590 06:94DB: 48           	pha
  1591 06:94DC: 22 xx xx xx  	jsl	~~k_user_CreateButton
  1592                        	.line	164
  1593 06:94E0: 18           	clc
  1594 06:94E1: A9 28 00     	lda	#$28
  1595 06:94E4: 65 11        	adc	<L12+xindex_1
  1596 06:94E6: 85 11        	sta	<L12+xindex_1
  1597                        ;					k_user_CreateBut
  Mon Sep 27 2021  9:39                                                Page 32


                    ton(pMsg->hwnd,"5",CALC_BUTTON_5,xindex,yindex,CALC_BUTTON_A
                    SPECT,CALC_BUTTON_ASPECT);CALC_ADD_COL(xindex);
  1598                        	.line	165
  1599 06:94E8: F4 20 00     	pea	#<$20
  1600 06:94EB: F4 20 00     	pea	#<$20
  1601 06:94EE: D4 13        	pei	<L12+yindex_1
  1602 06:94F0: D4 11        	pei	<L12+xindex_1
  1603 06:94F2: F4 05 88     	pea	#<$8805
  1604 06:94F5: F4 xx xx     	pea	#^L10+65
  1605 06:94F8: F4 xx xx     	pea	#<L10+65
  1606 06:94FB: A0 0C 00     	ldy	#$c
  1607 06:94FE: B7 3E        	lda	[<L11+pMsg_0],Y
  1608 06:9500: 48           	pha
  1609 06:9501: A0 0A 00     	ldy	#$a
  1610 06:9504: B7 3E        	lda	[<L11+pMsg_0],Y
  1611 06:9506: 48           	pha
  1612 06:9507: 22 xx xx xx  	jsl	~~k_user_CreateButton
  1613                        	.line	165
  1614 06:950B: 18           	clc
  1615 06:950C: A9 28 00     	lda	#$28
  1616 06:950F: 65 11        	adc	<L12+xindex_1
  1617 06:9511: 85 11        	sta	<L12+xindex_1
  1618                        ;					k_user_CreateBut
                    ton(pMsg->hwnd,"6",CALC_BUTTON_6,xindex,yindex,CALC_BUTTON_A
                    SPECT,CALC_BUTTON_ASPECT);CALC_ADD_COL(xindex);
  1619                        	.line	166
  1620 06:9513: F4 20 00     	pea	#<$20
  1621 06:9516: F4 20 00     	pea	#<$20
  1622 06:9519: D4 13        	pei	<L12+yindex_1
  1623 06:951B: D4 11        	pei	<L12+xindex_1
  1624 06:951D: F4 06 88     	pea	#<$8806
  1625 06:9520: F4 xx xx     	pea	#^L10+67
  1626 06:9523: F4 xx xx     	pea	#<L10+67
  1627 06:9526: A0 0C 00     	ldy	#$c
  1628 06:9529: B7 3E        	lda	[<L11+pMsg_0],Y
  1629 06:952B: 48           	pha
  1630 06:952C: A0 0A 00     	ldy	#$a
  1631 06:952F: B7 3E        	lda	[<L11+pMsg_0],Y
  1632 06:9531: 48           	pha
  1633 06:9532: 22 xx xx xx  	jsl	~~k_user_CreateButton
  1634                        	.line	166
  1635 06:9536: 18           	clc
  1636 06:9537: A9 28 00     	lda	#$28
  1637 06:953A: 65 11        	adc	<L12+xindex_1
  1638 06:953C: 85 11        	sta	<L12+xindex_1
  1639                        ;					k_user_CreateBut
                    ton(pMsg->hwnd,"-",CALC_BUTTON_SUB,xindex,yindex,CALC_BUTTON
                    _ASPECT,CALC_BUTTON_ASPECT);
  1640                        	.line	167
  1641 06:953E: F4 20 00     	pea	#<$20
  1642 06:9541: F4 20 00     	pea	#<$20
  1643 06:9544: D4 13        	pei	<L12+yindex_1
  1644 06:9546: D4 11        	pei	<L12+xindex_1
  1645 06:9548: F4 23 88     	pea	#<$8823
  1646 06:954B: F4 xx xx     	pea	#^L10+69
  1647 06:954E: F4 xx xx     	pea	#<L10+69
  1648 06:9551: A0 0C 00     	ldy	#$c
  1649 06:9554: B7 3E        	lda	[<L11+pMsg_0],Y
  Mon Sep 27 2021  9:39                                                Page 33


  1650 06:9556: 48           	pha
  1651 06:9557: A0 0A 00     	ldy	#$a
  1652 06:955A: B7 3E        	lda	[<L11+pMsg_0],Y
  1653 06:955C: 48           	pha
  1654 06:955D: 22 xx xx xx  	jsl	~~k_user_CreateButton
  1655                        ;
  1656                        ;					xindex = CALC_BU
                    TTON_OFFSET_X;
  1657                        	.line	169
  1658 06:9561: A9 14 00     	lda	#$14
  1659 06:9564: 85 11        	sta	<L12+xindex_1
  1660                        ;					yindex+=(CALC_BU
                    TTON_SPACING + CALC_BUTTON_ASPECT);
  1661                        	.line	170
  1662 06:9566: 18           	clc
  1663 06:9567: A9 28 00     	lda	#$28
  1664 06:956A: 65 13        	adc	<L12+yindex_1
  1665 06:956C: 85 13        	sta	<L12+yindex_1
  1666                        ;					k_user_CreateBut
                    ton(pMsg->hwnd,"7",CALC_BUTTON_7,xindex,yindex,CALC_BUTTON_A
                    SPECT,CALC_BUTTON_ASPECT);CALC_ADD_COL(xindex);
  1667                        	.line	171
  1668 06:956E: F4 20 00     	pea	#<$20
  1669 06:9571: F4 20 00     	pea	#<$20
  1670 06:9574: D4 13        	pei	<L12+yindex_1
  1671 06:9576: D4 11        	pei	<L12+xindex_1
  1672 06:9578: F4 07 88     	pea	#<$8807
  1673 06:957B: F4 xx xx     	pea	#^L10+71
  1674 06:957E: F4 xx xx     	pea	#<L10+71
  1675 06:9581: A0 0C 00     	ldy	#$c
  1676 06:9584: B7 3E        	lda	[<L11+pMsg_0],Y
  1677 06:9586: 48           	pha
  1678 06:9587: A0 0A 00     	ldy	#$a
  1679 06:958A: B7 3E        	lda	[<L11+pMsg_0],Y
  1680 06:958C: 48           	pha
  1681 06:958D: 22 xx xx xx  	jsl	~~k_user_CreateButton
  1682                        	.line	171
  1683 06:9591: 18           	clc
  1684 06:9592: A9 28 00     	lda	#$28
  1685 06:9595: 65 11        	adc	<L12+xindex_1
  1686 06:9597: 85 11        	sta	<L12+xindex_1
  1687                        ;					k_user_CreateBut
                    ton(pMsg->hwnd,"8",CALC_BUTTON_8,xindex,yindex,CALC_BUTTON_A
                    SPECT,CALC_BUTTON_ASPECT);CALC_ADD_COL(xindex);
  1688                        	.line	172
  1689 06:9599: F4 20 00     	pea	#<$20
  1690 06:959C: F4 20 00     	pea	#<$20
  1691 06:959F: D4 13        	pei	<L12+yindex_1
  1692 06:95A1: D4 11        	pei	<L12+xindex_1
  1693 06:95A3: F4 08 88     	pea	#<$8808
  1694 06:95A6: F4 xx xx     	pea	#^L10+73
  1695 06:95A9: F4 xx xx     	pea	#<L10+73
  1696 06:95AC: A0 0C 00     	ldy	#$c
  1697 06:95AF: B7 3E        	lda	[<L11+pMsg_0],Y
  1698 06:95B1: 48           	pha
  1699 06:95B2: A0 0A 00     	ldy	#$a
  1700 06:95B5: B7 3E        	lda	[<L11+pMsg_0],Y
  1701 06:95B7: 48           	pha
  Mon Sep 27 2021  9:39                                                Page 34


  1702 06:95B8: 22 xx xx xx  	jsl	~~k_user_CreateButton
  1703                        	.line	172
  1704 06:95BC: 18           	clc
  1705 06:95BD: A9 28 00     	lda	#$28
  1706 06:95C0: 65 11        	adc	<L12+xindex_1
  1707 06:95C2: 85 11        	sta	<L12+xindex_1
  1708                        ;					k_user_CreateBut
                    ton(pMsg->hwnd,"9",CALC_BUTTON_9,xindex,yindex,CALC_BUTTON_A
                    SPECT,CALC_BUTTON_ASPECT);CALC_ADD_COL(xindex);
  1709                        	.line	173
  1710 06:95C4: F4 20 00     	pea	#<$20
  1711 06:95C7: F4 20 00     	pea	#<$20
  1712 06:95CA: D4 13        	pei	<L12+yindex_1
  1713 06:95CC: D4 11        	pei	<L12+xindex_1
  1714 06:95CE: F4 09 88     	pea	#<$8809
  1715 06:95D1: F4 xx xx     	pea	#^L10+75
  1716 06:95D4: F4 xx xx     	pea	#<L10+75
  1717 06:95D7: A0 0C 00     	ldy	#$c
  1718 06:95DA: B7 3E        	lda	[<L11+pMsg_0],Y
  1719 06:95DC: 48           	pha
  1720 06:95DD: A0 0A 00     	ldy	#$a
  1721 06:95E0: B7 3E        	lda	[<L11+pMsg_0],Y
  1722 06:95E2: 48           	pha
  1723 06:95E3: 22 xx xx xx  	jsl	~~k_user_CreateButton
  1724                        	.line	173
  1725 06:95E7: 18           	clc
  1726 06:95E8: A9 28 00     	lda	#$28
  1727 06:95EB: 65 11        	adc	<L12+xindex_1
  1728 06:95ED: 85 11        	sta	<L12+xindex_1
  1729                        ;					k_user_CreateBut
                    ton(pMsg->hwnd,"*",CALC_BUTTON_MUL,xindex,yindex,CALC_BUTTON
                    _ASPECT,CALC_BUTTON_ASPECT);
  1730                        	.line	174
  1731 06:95EF: F4 20 00     	pea	#<$20
  1732 06:95F2: F4 20 00     	pea	#<$20
  1733 06:95F5: D4 13        	pei	<L12+yindex_1
  1734 06:95F7: D4 11        	pei	<L12+xindex_1
  1735 06:95F9: F4 33 88     	pea	#<$8833
  1736 06:95FC: F4 xx xx     	pea	#^L10+77
  1737 06:95FF: F4 xx xx     	pea	#<L10+77
  1738 06:9602: A0 0C 00     	ldy	#$c
  1739 06:9605: B7 3E        	lda	[<L11+pMsg_0],Y
  1740 06:9607: 48           	pha
  1741 06:9608: A0 0A 00     	ldy	#$a
  1742 06:960B: B7 3E        	lda	[<L11+pMsg_0],Y
  1743 06:960D: 48           	pha
  1744 06:960E: 22 xx xx xx  	jsl	~~k_user_CreateButton
  1745                        ;
  1746                        ;					xindex = CALC_BU
                    TTON_OFFSET_X;
  1747                        	.line	176
  1748 06:9612: A9 14 00     	lda	#$14
  1749 06:9615: 85 11        	sta	<L12+xindex_1
  1750                        ;					yindex+=(CALC_BU
                    TTON_SPACING + CALC_BUTTON_ASPECT);
  1751                        	.line	177
  1752 06:9617: 18           	clc
  1753 06:9618: A9 28 00     	lda	#$28
  Mon Sep 27 2021  9:39                                                Page 35


  1754 06:961B: 65 13        	adc	<L12+yindex_1
  1755 06:961D: 85 13        	sta	<L12+yindex_1
  1756                        ;					k_user_CreateBut
                    ton(pMsg->hwnd,"0",CALC_BUTTON_0,xindex,yindex,CALC_BUTTON_A
                    SPECT,CALC_BUTTON_ASPECT);CALC_ADD_COL(xindex);
  1757                        	.line	178
  1758 06:961F: F4 20 00     	pea	#<$20
  1759 06:9622: F4 20 00     	pea	#<$20
  1760 06:9625: D4 13        	pei	<L12+yindex_1
  1761 06:9627: D4 11        	pei	<L12+xindex_1
  1762 06:9629: F4 00 88     	pea	#<$8800
  1763 06:962C: F4 xx xx     	pea	#^L10+79
  1764 06:962F: F4 xx xx     	pea	#<L10+79
  1765 06:9632: A0 0C 00     	ldy	#$c
  1766 06:9635: B7 3E        	lda	[<L11+pMsg_0],Y
  1767 06:9637: 48           	pha
  1768 06:9638: A0 0A 00     	ldy	#$a
  1769 06:963B: B7 3E        	lda	[<L11+pMsg_0],Y
  1770 06:963D: 48           	pha
  1771 06:963E: 22 xx xx xx  	jsl	~~k_user_CreateButton
  1772                        	.line	178
  1773 06:9642: 18           	clc
  1774 06:9643: A9 28 00     	lda	#$28
  1775 06:9646: 65 11        	adc	<L12+xindex_1
  1776 06:9648: 85 11        	sta	<L12+xindex_1
  1777                        ;					k_user_CreateBut
                    ton(pMsg->hwnd,"=",CALC_BUTTON_EQU,xindex,yindex,CALC_BUTTON
                    _ASPECT,CALC_BUTTON_ASPECT);CALC_ADD_COL(xindex);
  1778                        	.line	179
  1779 06:964A: F4 20 00     	pea	#<$20
  1780 06:964D: F4 20 00     	pea	#<$20
  1781 06:9650: D4 13        	pei	<L12+yindex_1
  1782 06:9652: D4 11        	pei	<L12+xindex_1
  1783 06:9654: F4 53 88     	pea	#<$8853
  1784 06:9657: F4 xx xx     	pea	#^L10+81
  1785 06:965A: F4 xx xx     	pea	#<L10+81
  1786 06:965D: A0 0C 00     	ldy	#$c
  1787 06:9660: B7 3E        	lda	[<L11+pMsg_0],Y
  1788 06:9662: 48           	pha
  1789 06:9663: A0 0A 00     	ldy	#$a
  1790 06:9666: B7 3E        	lda	[<L11+pMsg_0],Y
  1791 06:9668: 48           	pha
  1792 06:9669: 22 xx xx xx  	jsl	~~k_user_CreateButton
  1793                        	.line	179
  1794 06:966D: 18           	clc
  1795 06:966E: A9 28 00     	lda	#$28
  1796 06:9671: 65 11        	adc	<L12+xindex_1
  1797 06:9673: 85 11        	sta	<L12+xindex_1
  1798                        ;					k_user_CreateBut
                    ton(pMsg->hwnd,"C",CALC_BUTTON_CLR,xindex,yindex,CALC_BUTTON
                    _ASPECT,CALC_BUTTON_ASPECT);CALC_ADD_COL(xindex);
  1799                        	.line	180
  1800 06:9675: F4 20 00     	pea	#<$20
  1801 06:9678: F4 20 00     	pea	#<$20
  1802 06:967B: D4 13        	pei	<L12+yindex_1
  1803 06:967D: D4 11        	pei	<L12+xindex_1
  1804 06:967F: F4 63 88     	pea	#<$8863
  1805 06:9682: F4 xx xx     	pea	#^L10+83
  Mon Sep 27 2021  9:39                                                Page 36


  1806 06:9685: F4 xx xx     	pea	#<L10+83
  1807 06:9688: A0 0C 00     	ldy	#$c
  1808 06:968B: B7 3E        	lda	[<L11+pMsg_0],Y
  1809 06:968D: 48           	pha
  1810 06:968E: A0 0A 00     	ldy	#$a
  1811 06:9691: B7 3E        	lda	[<L11+pMsg_0],Y
  1812 06:9693: 48           	pha
  1813 06:9694: 22 xx xx xx  	jsl	~~k_user_CreateButton
  1814                        	.line	180
  1815 06:9698: 18           	clc
  1816 06:9699: A9 28 00     	lda	#$28
  1817 06:969C: 65 11        	adc	<L12+xindex_1
  1818 06:969E: 85 11        	sta	<L12+xindex_1
  1819                        ;					k_user_CreateBut
                    ton(pMsg->hwnd,"/",CALC_BUTTON_DIV,xindex,yindex,CALC_BUTTON
                    _ASPECT,CALC_BUTTON_ASPECT);
  1820                        	.line	181
  1821 06:96A0: F4 20 00     	pea	#<$20
  1822 06:96A3: F4 20 00     	pea	#<$20
  1823 06:96A6: D4 13        	pei	<L12+yindex_1
  1824 06:96A8: D4 11        	pei	<L12+xindex_1
  1825 06:96AA: F4 43 88     	pea	#<$8843
  1826 06:96AD: F4 xx xx     	pea	#^L10+85
  1827 06:96B0: F4 xx xx     	pea	#<L10+85
  1828 06:96B3: A0 0C 00     	ldy	#$c
  1829 06:96B6: B7 3E        	lda	[<L11+pMsg_0],Y
  1830 06:96B8: 48           	pha
  1831 06:96B9: A0 0A 00     	ldy	#$a
  1832 06:96BC: B7 3E        	lda	[<L11+pMsg_0],Y
  1833 06:96BE: 48           	pha
  1834 06:96BF: 22 xx xx xx  	jsl	~~k_user_CreateButton
  1835                        ;
  1836                        ;				}
  1837                        	.line	183
  1838                        ;			}
  1839                        L10017:
  1840                        	.line	184
  1841                        ;			return TRUE;
  1842                        L10016:
  1843                        	.line	185
  1844 06:96C3: A9 01 00     	lda	#$1
  1845 06:96C6: 82 AD FC     	brl	L15
  1846                        ;			break;
  1847                        	.line	186
  1848                        ;
  1849                        ;		case FX_DRAW_WINDOW:
  1850                        	.line	188
  1851                        L10018:
  1852                        ;			pWin = k_getWindowFromHandle(pMs
                    g->hwnd);
  1853                        	.line	189
  1854 06:96C9: A0 0C 00     	ldy	#$c
  1855 06:96CC: B7 3E        	lda	[<L11+pMsg_0],Y
  1856 06:96CE: 48           	pha
  1857 06:96CF: A0 0A 00     	ldy	#$a
  1858 06:96D2: B7 3E        	lda	[<L11+pMsg_0],Y
  1859 06:96D4: 48           	pha
  1860 06:96D5: 22 xx xx xx  	jsl	~~k_getWindowFromHandle
  Mon Sep 27 2021  9:39                                                Page 37


  1861 06:96D9: 85 0D        	sta	<L12+pWin_1
  1862 06:96DB: 86 0F        	stx	<L12+pWin_1+2
  1863                        ;			if(pWin)
  1864                        	.line	190
  1865                        ;			{
  1866 06:96DD: A5 0D        	lda	<L12+pWin_1
  1867 06:96DF: 05 0F        	ora	<L12+pWin_1+2
  1868 06:96E1: D0 03        	bne	L18
  1869 06:96E3: 82 47 00     	brl	L10019
  1870                        L18:
  1871                        	.line	191
  1872                        ;				k_vdma_fill_rect_ex(pWin
                    ->clientRect.x,
  1873                        	.line	192
  1874                        ;							
                    		pWin->clientRect.y,
  1875                        ;							
                    		pWin->clientRect.width,
  1876                        ;							
                    		pWin->clientRect.height,
  1877                        ;							
                    		1,//(UINT)((ULONG)pWin->hBackground),
  1878                        ;							
                    		pWin->nBitmapLayer);
  1879 06:96E6: A0 9E 01     	ldy	#$19e
  1880 06:96E9: B7 0D        	lda	[<L12+pWin_1],Y
  1881 06:96EB: 48           	pha
  1882 06:96EC: F4 01 00     	pea	#<$1
  1883 06:96EF: A0 34 00     	ldy	#$34
  1884 06:96F2: B7 0D        	lda	[<L12+pWin_1],Y
  1885 06:96F4: 48           	pha
  1886 06:96F5: A0 32 00     	ldy	#$32
  1887 06:96F8: B7 0D        	lda	[<L12+pWin_1],Y
  1888 06:96FA: 48           	pha
  1889 06:96FB: A0 00 00     	ldy	#$0
  1890 06:96FE: 5A           	phy
  1891 06:96FF: A0 2C 00     	ldy	#$2c
  1892 06:9702: B7 0D        	lda	[<L12+pWin_1],Y
  1893 06:9704: 7A           	ply
  1894 06:9705: 2A           	rol	A
  1895 06:9706: 6A           	ror	A
  1896 06:9707: 10 01        	bpl	L19
  1897 06:9709: 88           	dey
  1898                        L19:
  1899 06:970A: 85 01        	sta	<R0
  1900 06:970C: 84 03        	sty	<R0+2
  1901 06:970E: D4 03        	pei	<R0+2
  1902 06:9710: D4 01        	pei	<R0
  1903 06:9712: A0 00 00     	ldy	#$0
  1904 06:9715: 5A           	phy
  1905 06:9716: A0 2A 00     	ldy	#$2a
  1906 06:9719: B7 0D        	lda	[<L12+pWin_1],Y
  1907 06:971B: 7A           	ply
  1908 06:971C: 2A           	rol	A
  1909 06:971D: 6A           	ror	A
  1910 06:971E: 10 01        	bpl	L20
  1911 06:9720: 88           	dey
  1912                        L20:
  Mon Sep 27 2021  9:39                                                Page 38


  1913 06:9721: 85 05        	sta	<R1
  1914 06:9723: 84 07        	sty	<R1+2
  1915 06:9725: D4 07        	pei	<R1+2
  1916 06:9727: D4 05        	pei	<R1
  1917 06:9729: 22 xx xx xx  	jsl	~~k_vdma_fill_rect_ex
  1918                        ;			}
  1919                        	.line	198
  1920                        ;			break;
  1921                        L10019:
  1922                        	.line	199
  1923 06:972D: 82 39 03     	brl	L10013
  1924                        ;		case FX_CONTROL_COMMAND:
  1925                        	.line	200
  1926                        L10020:
  1927                        ;			if( ((PFXCMDMESSAGE)pMsg)->cmdCI
                    d == CTL_BUTTON_SELECTED)
  1928                        	.line	201
  1929                        ;			{
  1930 06:9730: A0 16 00     	ldy	#$16
  1931 06:9733: B7 3E        	lda	[<L11+pMsg_0],Y
  1932 06:9735: C9 02 00     	cmp	#<$2
  1933 06:9738: F0 03        	beq	L21
  1934 06:973A: 82 0B 03     	brl	L10021
  1935                        L21:
  1936                        	.line	202
  1937                        ;				cmdId = ((PFXCMDMESSAGE)
                    pMsg)->cmdMId;
  1938                        	.line	203
  1939 06:973D: A0 18 00     	ldy	#$18
  1940 06:9740: B7 3E        	lda	[<L11+pMsg_0],Y
  1941 06:9742: 85 23        	sta	<L12+cmdId_1
  1942                        ;
  1943                        ;				if(cmdId < CALC_BUTTON_E
                    ND)
  1944                        	.line	205
  1945                        ;				{
  1946 06:9744: A5 23        	lda	<L12+cmdId_1
  1947 06:9746: C9 0A 88     	cmp	#<$880a
  1948 06:9749: 90 03        	bcc	L22
  1949 06:974B: 82 44 00     	brl	L10022
  1950                        L22:
  1951                        	.line	206
  1952                        ;					value = (INT)(((
                    UINT)cmdId) - ((UINT)CALC_BUTTON_0));
  1953                        	.line	207
  1954 06:974E: 18           	clc
  1955 06:974F: A9 00 78     	lda	#$7800
  1956 06:9752: 65 23        	adc	<L12+cmdId_1
  1957 06:9754: 85 25        	sta	<L12+value_1
  1958                        ;					k_send_command_m
                    essage(k_getHandleFromWindow(pTextBox),
  1959                        	.line	208
  1960                        ;							
                                   FX_CONTROL_COMMAND,CTL_CMD_CAPTION,0,
  1961                        ;							
                    			   (ULONG)k_string_append_integer("",val
                    ue),0L);
  1962 06:9756: F4 00 00     	pea	#^$0
  Mon Sep 27 2021  9:39                                                Page 39


  1963 06:9759: F4 00 00     	pea	#<$0
  1964 06:975C: D4 25        	pei	<L12+value_1
  1965 06:975E: F4 xx xx     	pea	#^L10+87
  1966 06:9761: F4 xx xx     	pea	#<L10+87
  1967 06:9764: 22 xx xx xx  	jsl	~~k_string_append_integer
  1968 06:9768: 85 01        	sta	<R0
  1969 06:976A: 86 03        	stx	<R0+2
  1970 06:976C: D4 03        	pei	<R0+2
  1971 06:976E: D4 01        	pei	<R0
  1972 06:9770: F4 00 00     	pea	#<$0
  1973 06:9773: F4 01 00     	pea	#<$1
  1974 06:9776: F4 00 FA     	pea	#<$fa00
  1975 06:9779: AD xx xx     	lda	|~~pTextBox+2
  1976 06:977C: 48           	pha
  1977 06:977D: AD xx xx     	lda	|~~pTextBox
  1978 06:9780: 48           	pha
  1979 06:9781: 22 xx xx xx  	jsl	~~k_getHandleFromWindow
  1980 06:9785: 85 05        	sta	<R1
  1981 06:9787: 86 07        	stx	<R1+2
  1982 06:9789: DA           	phx
  1983 06:978A: 48           	pha
  1984 06:978B: 22 xx xx xx  	jsl	~~k_send_command_message
  1985                        ;
  1986                        ;				}
  1987                        	.line	212
  1988                        ;				else
  1989 06:978F: 82 B6 02     	brl	L10023
  1990                        L10022:
  1991                        ;				{
  1992                        	.line	214
  1993                        ;					textbox = (PTEXT
                    BOX)pTextBox->windowData;
  1994                        	.line	215
  1995 06:9792: AD xx xx     	lda	|~~pTextBox
  1996 06:9795: 85 01        	sta	<R0
  1997 06:9797: AD xx xx     	lda	|~~pTextBox+2
  1998 06:979A: 85 03        	sta	<R0+2
  1999 06:979C: A0 C5 01     	ldy	#$1c5
  2000 06:979F: B7 01        	lda	[<R0],Y
  2001 06:97A1: 85 37        	sta	<L12+textbox_1
  2002 06:97A3: A0 C7 01     	ldy	#$1c7
  2003 06:97A6: B7 01        	lda	[<R0],Y
  2004 06:97A8: 85 39        	sta	<L12+textbox_1+2
  2005                        ;
  2006                        ;					switch(cmdId)
  2007                        	.line	217
  2008 06:97AA: A5 23        	lda	<L12+cmdId_1
  2009 06:97AC: 82 8B 00     	brl	L10024
  2010                        ;					{
  2011                        	.line	218
  2012                        ;					case CALC_BUTTON
                    _ADD:
  2013                        	.line	219
  2014                        L10026:
  2015                        ;						strcpy(o
                    pCode,"+");
  2016                        	.line	220
  2017 06:97AF: F4 xx xx     	pea	#^L10+88
  Mon Sep 27 2021  9:39                                                Page 40


  2018 06:97B2: F4 xx xx     	pea	#<L10+88
  2019 06:97B5: F4 00 00     	pea	#0
  2020 06:97B8: 18           	clc
  2021 06:97B9: 7B           	tdc
  2022 06:97BA: 69 27 00     	adc	#<L12+opCode_1
  2023 06:97BD: 48           	pha
  2024 06:97BE: 22 xx xx xx  	jsl	~~strcpy
  2025                        ;						operator
                     = CALC_OP_ADD;
  2026                        	.line	221
  2027 06:97C2: A9 01 00     	lda	#$1
  2028 06:97C5: 8D xx xx     	sta	|~~operator
  2029                        ;						break;
  2030                        	.line	222
  2031 06:97C8: 82 8F 00     	brl	L10025
  2032                        ;					case CALC_BUTTON
                    _SUB:
  2033                        	.line	223
  2034                        L10027:
  2035                        ;						strcpy(o
                    pCode,"-");
  2036                        	.line	224
  2037 06:97CB: F4 xx xx     	pea	#^L10+90
  2038 06:97CE: F4 xx xx     	pea	#<L10+90
  2039 06:97D1: F4 00 00     	pea	#0
  2040 06:97D4: 18           	clc
  2041 06:97D5: 7B           	tdc
  2042 06:97D6: 69 27 00     	adc	#<L12+opCode_1
  2043 06:97D9: 48           	pha
  2044 06:97DA: 22 xx xx xx  	jsl	~~strcpy
  2045                        ;						operator
                     = CALC_OP_SUB;
  2046                        	.line	225
  2047 06:97DE: A9 02 00     	lda	#$2
  2048 06:97E1: 8D xx xx     	sta	|~~operator
  2049                        ;						break;
  2050                        	.line	226
  2051 06:97E4: 82 73 00     	brl	L10025
  2052                        ;					case CALC_BUTTON
                    _MUL:
  2053                        	.line	227
  2054                        L10028:
  2055                        ;						strcpy(o
                    pCode,"x");
  2056                        	.line	228
  2057 06:97E7: F4 xx xx     	pea	#^L10+92
  2058 06:97EA: F4 xx xx     	pea	#<L10+92
  2059 06:97ED: F4 00 00     	pea	#0
  2060 06:97F0: 18           	clc
  2061 06:97F1: 7B           	tdc
  2062 06:97F2: 69 27 00     	adc	#<L12+opCode_1
  2063 06:97F5: 48           	pha
  2064 06:97F6: 22 xx xx xx  	jsl	~~strcpy
  2065                        ;						operator
                     = CALC_OP_MUL;
  2066                        	.line	229
  2067 06:97FA: A9 03 00     	lda	#$3
  2068 06:97FD: 8D xx xx     	sta	|~~operator
  Mon Sep 27 2021  9:39                                                Page 41


  2069                        ;						break;
  2070                        	.line	230
  2071 06:9800: 82 57 00     	brl	L10025
  2072                        ;					case CALC_BUTTON
                    _DIV:
  2073                        	.line	231
  2074                        L10029:
  2075                        ;						strcpy(o
                    pCode,"/");
  2076                        	.line	232
  2077 06:9803: F4 xx xx     	pea	#^L10+94
  2078 06:9806: F4 xx xx     	pea	#<L10+94
  2079 06:9809: F4 00 00     	pea	#0
  2080 06:980C: 18           	clc
  2081 06:980D: 7B           	tdc
  2082 06:980E: 69 27 00     	adc	#<L12+opCode_1
  2083 06:9811: 48           	pha
  2084 06:9812: 22 xx xx xx  	jsl	~~strcpy
  2085                        ;						operator
                     = CALC_OP_DIV;
  2086                        	.line	233
  2087 06:9816: A9 04 00     	lda	#$4
  2088 06:9819: 8D xx xx     	sta	|~~operator
  2089                        ;						break;
  2090                        	.line	234
  2091 06:981C: 82 3B 00     	brl	L10025
  2092                        ;					case CALC_BUTTON
                    _EQU:
  2093                        	.line	235
  2094                        L10030:
  2095                        ;						doop = o
                    perator;
  2096                        	.line	236
  2097 06:981F: AD xx xx     	lda	|~~operator
  2098 06:9822: 8D xx xx     	sta	|~~doop
  2099                        ;						operator
                     = CALC_OP_EQU;
  2100                        	.line	237
  2101 06:9825: A9 05 00     	lda	#$5
  2102 06:9828: 8D xx xx     	sta	|~~operator
  2103                        ;						break;
  2104                        	.line	238
  2105 06:982B: 82 2C 00     	brl	L10025
  2106                        ;					case CALC_BUTTON
                    _CLR:
  2107                        	.line	239
  2108                        L10031:
  2109                        ;						operator
                     = -1;
  2110                        	.line	240
  2111 06:982E: A9 FF FF     	lda	#$ffff
  2112 06:9831: 8D xx xx     	sta	|~~operator
  2113                        ;						break;
  2114                        	.line	241
  2115 06:9834: 82 23 00     	brl	L10025
  2116                        ;					default:
  2117                        	.line	242
  2118                        L10032:
  Mon Sep 27 2021  9:39                                                Page 42


  2119                        ;						break;
  2120                        	.line	243
  2121 06:9837: 82 20 00     	brl	L10025
  2122                        ;					}
  2123                        	.line	244
  2124                        L10024:
  2125                        	xref	~~~swt
  2126 06:983A: 22 xx xx xx  	jsl	~~~swt
  2127 06:983E: 06 00        	dw	6
  2128 06:9840: 13 88        	dw	34835
  2129 06:9842: AE 97        	dw	L10026-1
  2130 06:9844: 23 88        	dw	34851
  2131 06:9846: CA 97        	dw	L10027-1
  2132 06:9848: 33 88        	dw	34867
  2133 06:984A: E6 97        	dw	L10028-1
  2134 06:984C: 43 88        	dw	34883
  2135 06:984E: 02 98        	dw	L10029-1
  2136 06:9850: 53 88        	dw	34899
  2137 06:9852: 1E 98        	dw	L10030-1
  2138 06:9854: 63 88        	dw	34915
  2139 06:9856: 2D 98        	dw	L10031-1
  2140 06:9858: 36 98        	dw	L10032-1
  2141                        L10025:
  2142                        ;
  2143                        ;					if(operator > 0 
                    && operator < CALC_OP_EQU)
  2144                        	.line	246
  2145                        ;					{
  2146 06:985A: 38           	sec
  2147 06:985B: A9 00 00     	lda	#$0
  2148 06:985E: ED xx xx     	sbc	|~~operator
  2149 06:9861: 70 03        	bvs	L23
  2150 06:9863: 49 00 80     	eor	#$8000
  2151                        L23:
  2152 06:9866: 10 03        	bpl	L24
  2153 06:9868: 82 5E 00     	brl	L10033
  2154                        L24:
  2155 06:986B: AD xx xx     	lda	|~~operator
  2156 06:986E: 30 0A        	bmi	L25
  2157 06:9870: 3A           	dea
  2158 06:9871: 3A           	dea
  2159 06:9872: 3A           	dea
  2160 06:9873: 3A           	dea
  2161 06:9874: 3A           	dea
  2162 06:9875: 30 03        	bmi	L25
  2163 06:9877: 82 4F 00     	brl	L10033
  2164                        L25:
  2165                        	.line	247
  2166                        ;						d1 = ato
                    i(((PFXSTRING)textbox->data)->buffer);
  2167                        	.line	248
  2168 06:987A: A0 0E 00     	ldy	#$e
  2169 06:987D: B7 37        	lda	[<L12+textbox_1],Y
  2170 06:987F: 85 01        	sta	<R0
  2171 06:9881: A0 10 00     	ldy	#$10
  2172 06:9884: B7 37        	lda	[<L12+textbox_1],Y
  2173 06:9886: 85 03        	sta	<R0+2
  2174 06:9888: A0 06 00     	ldy	#$6
  Mon Sep 27 2021  9:39                                                Page 43


  2175 06:988B: B7 01        	lda	[<R0],Y
  2176 06:988D: 48           	pha
  2177 06:988E: A0 04 00     	ldy	#$4
  2178 06:9891: B7 01        	lda	[<R0],Y
  2179 06:9893: 48           	pha
  2180 06:9894: 22 xx xx xx  	jsl	~~atoi
  2181 06:9898: 8D xx xx     	sta	|~~d1
  2182                        ;						k_send_c
                    ommand_message(k_getHandleFromWindow(pTextBox),
  2183                        	.line	249
  2184                        ;							
                    				   FX_CONTROL_COMMAND,CTL_CMD_CA
                    PTION,0,
  2185                        ;							
                    				   0L,
  2186                        ;							
                    				   0L);
  2187 06:989B: F4 00 00     	pea	#^$0
  2188 06:989E: F4 00 00     	pea	#<$0
  2189 06:98A1: F4 00 00     	pea	#^$0
  2190 06:98A4: F4 00 00     	pea	#<$0
  2191 06:98A7: F4 00 00     	pea	#<$0
  2192 06:98AA: F4 01 00     	pea	#<$1
  2193 06:98AD: F4 00 FA     	pea	#<$fa00
  2194 06:98B0: AD xx xx     	lda	|~~pTextBox+2
  2195 06:98B3: 48           	pha
  2196 06:98B4: AD xx xx     	lda	|~~pTextBox
  2197 06:98B7: 48           	pha
  2198 06:98B8: 22 xx xx xx  	jsl	~~k_getHandleFromWindow
  2199 06:98BC: 85 01        	sta	<R0
  2200 06:98BE: 86 03        	stx	<R0+2
  2201 06:98C0: DA           	phx
  2202 06:98C1: 48           	pha
  2203 06:98C2: 22 xx xx xx  	jsl	~~k_send_command_message
  2204                        ;					}
  2205                        	.line	253
  2206                        ;					else if(operator
                     == CALC_OP_EQU)
  2207 06:98C6: 82 7F 01     	brl	L10034
  2208                        L10033:
  2209                        	.line	254
  2210                        ;					{
  2211 06:98C9: AD xx xx     	lda	|~~operator
  2212 06:98CC: C9 05 00     	cmp	#<$5
  2213 06:98CF: F0 03        	beq	L26
  2214 06:98D1: 82 EB 00     	brl	L10035
  2215                        L26:
  2216                        	.line	255
  2217                        ;						d2 = ato
                    i(((PFXSTRING)textbox->data)->buffer);
  2218                        	.line	256
  2219 06:98D4: A0 0E 00     	ldy	#$e
  2220 06:98D7: B7 37        	lda	[<L12+textbox_1],Y
  2221 06:98D9: 85 01        	sta	<R0
  2222 06:98DB: A0 10 00     	ldy	#$10
  2223 06:98DE: B7 37        	lda	[<L12+textbox_1],Y
  2224 06:98E0: 85 03        	sta	<R0+2
  2225 06:98E2: A0 06 00     	ldy	#$6
  Mon Sep 27 2021  9:39                                                Page 44


  2226 06:98E5: B7 01        	lda	[<R0],Y
  2227 06:98E7: 48           	pha
  2228 06:98E8: A0 04 00     	ldy	#$4
  2229 06:98EB: B7 01        	lda	[<R0],Y
  2230 06:98ED: 48           	pha
  2231 06:98EE: 22 xx xx xx  	jsl	~~atoi
  2232 06:98F2: 8D xx xx     	sta	|~~d2
  2233                        ;						k_send_c
                    ommand_message(k_getHandleFromWindow(pTextBox),
  2234                        	.line	257
  2235                        ;							
                    				   FX_CONTROL_COMMAND,CTL_CMD_CA
                    PTION,0,
  2236                        ;							
                    				   0L,
  2237                        ;							
                    				   0L);
  2238 06:98F5: F4 00 00     	pea	#^$0
  2239 06:98F8: F4 00 00     	pea	#<$0
  2240 06:98FB: F4 00 00     	pea	#^$0
  2241 06:98FE: F4 00 00     	pea	#<$0
  2242 06:9901: F4 00 00     	pea	#<$0
  2243 06:9904: F4 01 00     	pea	#<$1
  2244 06:9907: F4 00 FA     	pea	#<$fa00
  2245 06:990A: AD xx xx     	lda	|~~pTextBox+2
  2246 06:990D: 48           	pha
  2247 06:990E: AD xx xx     	lda	|~~pTextBox
  2248 06:9911: 48           	pha
  2249 06:9912: 22 xx xx xx  	jsl	~~k_getHandleFromWindow
  2250 06:9916: 85 01        	sta	<R0
  2251 06:9918: 86 03        	stx	<R0+2
  2252 06:991A: DA           	phx
  2253 06:991B: 48           	pha
  2254 06:991C: 22 xx xx xx  	jsl	~~k_send_command_message
  2255                        ;						switch(d
                    oop)
  2256                        	.line	261
  2257 06:9920: AD xx xx     	lda	|~~doop
  2258 06:9923: 82 39 00     	brl	L10036
  2259                        ;						{
  2260                        	.line	262
  2261                        ;						case CAL
                    C_OP_ADD:
  2262                        	.line	263
  2263                        L10038:
  2264                        ;							
                    value = d1 + d2;
  2265                        	.line	264
  2266 06:9926: 18           	clc
  2267 06:9927: AD xx xx     	lda	|~~d1
  2268 06:992A: 6D xx xx     	adc	|~~d2
  2269 06:992D: 85 25        	sta	<L12+value_1
  2270                        ;							
                    break;
  2271                        	.line	265
  2272 06:992F: 82 3F 00     	brl	L10037
  2273                        ;						case CAL
                    C_OP_SUB:
  Mon Sep 27 2021  9:39                                                Page 45


  2274                        	.line	266
  2275                        L10039:
  2276                        ;							
                    value = d1 - d2;
  2277                        	.line	267
  2278 06:9932: 38           	sec
  2279 06:9933: AD xx xx     	lda	|~~d1
  2280 06:9936: ED xx xx     	sbc	|~~d2
  2281 06:9939: 85 25        	sta	<L12+value_1
  2282                        ;							
                    break;
  2283                        	.line	268
  2284 06:993B: 82 33 00     	brl	L10037
  2285                        ;						case CAL
                    C_OP_MUL:
  2286                        	.line	269
  2287                        L10040:
  2288                        ;							
                    value = d1 * d2;
  2289                        	.line	270
  2290 06:993E: AD xx xx     	lda	|~~d1
  2291 06:9941: AE xx xx     	ldx	|~~d2
  2292                        	xref	~~~mul
  2293 06:9944: 22 xx xx xx  	jsl	~~~mul
  2294 06:9948: 85 25        	sta	<L12+value_1
  2295                        ;							
                    break;
  2296                        	.line	271
  2297 06:994A: 82 24 00     	brl	L10037
  2298                        ;						case CAL
                    C_OP_DIV:
  2299                        	.line	272
  2300                        L10041:
  2301                        ;							
                    value = d1 / d2;
  2302                        	.line	273
  2303 06:994D: AD xx xx     	lda	|~~d1
  2304 06:9950: AE xx xx     	ldx	|~~d2
  2305                        	xref	~~~div
  2306 06:9953: 22 xx xx xx  	jsl	~~~div
  2307 06:9957: 85 25        	sta	<L12+value_1
  2308                        ;							
                    break;
  2309                        	.line	274
  2310 06:9959: 82 15 00     	brl	L10037
  2311                        ;						default:
  2312                        	.line	275
  2313                        L10042:
  2314                        ;							
                    break;
  2315                        	.line	276
  2316 06:995C: 82 12 00     	brl	L10037
  2317                        ;						}
  2318                        	.line	277
  2319                        L10036:
  2320                        	xref	~~~fsw
  2321 06:995F: 22 xx xx xx  	jsl	~~~fsw
  2322 06:9963: 01 00        	dw	1
  Mon Sep 27 2021  9:39                                                Page 46


  2323 06:9965: 04 00        	dw	4
  2324 06:9967: 5B 99        	dw	L10042-1
  2325 06:9969: 25 99        	dw	L10038-1
  2326 06:996B: 31 99        	dw	L10039-1
  2327 06:996D: 3D 99        	dw	L10040-1
  2328 06:996F: 4C 99        	dw	L10041-1
  2329                        L10037:
  2330                        ;
  2331                        ;						k_send_c
                    ommand_message(k_getHandleFromWindow(pTextBox),
  2332                        	.line	279
  2333                        ;							
                    				   FX_CONTROL_COMMAND,CTL_CMD_CA
                    PTION,0,
  2334                        ;							
                    				   (ULONG)k_string_append_intege
                    r("",value),
  2335                        ;							
                    				   0L);
  2336 06:9971: F4 00 00     	pea	#^$0
  2337 06:9974: F4 00 00     	pea	#<$0
  2338 06:9977: D4 25        	pei	<L12+value_1
  2339 06:9979: F4 xx xx     	pea	#^L10+96
  2340 06:997C: F4 xx xx     	pea	#<L10+96
  2341 06:997F: 22 xx xx xx  	jsl	~~k_string_append_integer
  2342 06:9983: 85 01        	sta	<R0
  2343 06:9985: 86 03        	stx	<R0+2
  2344 06:9987: D4 03        	pei	<R0+2
  2345 06:9989: D4 01        	pei	<R0
  2346 06:998B: F4 00 00     	pea	#<$0
  2347 06:998E: F4 01 00     	pea	#<$1
  2348 06:9991: F4 00 FA     	pea	#<$fa00
  2349 06:9994: AD xx xx     	lda	|~~pTextBox+2
  2350 06:9997: 48           	pha
  2351 06:9998: AD xx xx     	lda	|~~pTextBox
  2352 06:999B: 48           	pha
  2353 06:999C: 22 xx xx xx  	jsl	~~k_getHandleFromWindow
  2354 06:99A0: 85 05        	sta	<R1
  2355 06:99A2: 86 07        	stx	<R1+2
  2356 06:99A4: DA           	phx
  2357 06:99A5: 48           	pha
  2358 06:99A6: 22 xx xx xx  	jsl	~~k_send_command_message
  2359                        ;						d1=0;
  2360                        	.line	283
  2361 06:99AA: 9C xx xx     	stz	|~~d1
  2362                        ;						d2=0;
  2363                        	.line	284
  2364 06:99AD: 9C xx xx     	stz	|~~d2
  2365                        ;						doop = -
                    1;
  2366                        	.line	285
  2367 06:99B0: A9 FF FF     	lda	#$ffff
  2368 06:99B3: 8D xx xx     	sta	|~~doop
  2369                        ;						operator
                     = -1;
  2370                        	.line	286
  2371 06:99B6: A9 FF FF     	lda	#$ffff
  2372 06:99B9: 8D xx xx     	sta	|~~operator
  Mon Sep 27 2021  9:39                                                Page 47


  2373                        ;					}
  2374                        	.line	287
  2375                        ;					else if(operator
                     < 0)
  2376 06:99BC: 82 89 00     	brl	L10043
  2377                        L10035:
  2378                        	.line	288
  2379                        ;					{
  2380 06:99BF: AD xx xx     	lda	|~~operator
  2381 06:99C2: 30 03        	bmi	L27
  2382 06:99C4: 82 81 00     	brl	L10044
  2383                        L27:
  2384                        	.line	289
  2385                        ;						fun++;
  2386                        	.line	290
  2387 06:99C7: EE xx xx     	inc	|~~fun
  2388                        ;						if(fun >
                     14)
  2389                        	.line	291
  2390                        ;							
                    fun = 1;
  2391 06:99CA: 38           	sec
  2392 06:99CB: A9 0E 00     	lda	#$e
  2393 06:99CE: ED xx xx     	sbc	|~~fun
  2394 06:99D1: 70 03        	bvs	L28
  2395 06:99D3: 49 00 80     	eor	#$8000
  2396                        L28:
  2397 06:99D6: 10 03        	bpl	L29
  2398 06:99D8: 82 06 00     	brl	L10045
  2399                        L29:
  2400                        	.line	292
  2401 06:99DB: A9 01 00     	lda	#$1
  2402 06:99DE: 8D xx xx     	sta	|~~fun
  2403                        ;
  2404                        ;						// clear
                     textbox
  2405                        ;						k_send_c
                    ommand_message(k_getHandleFromWindow(pTextBox),
  2406                        L10045:
  2407                        	.line	295
  2408                        ;							
                    				   FX_CONTROL_COMMAND,CTL_CMD_CA
                    PTION,0,
  2409                        ;							
                    				   0L,
  2410                        ;							
                    				   0L);
  2411 06:99E1: F4 00 00     	pea	#^$0
  2412 06:99E4: F4 00 00     	pea	#<$0
  2413 06:99E7: F4 00 00     	pea	#^$0
  2414 06:99EA: F4 00 00     	pea	#<$0
  2415 06:99ED: F4 00 00     	pea	#<$0
  2416 06:99F0: F4 01 00     	pea	#<$1
  2417 06:99F3: F4 00 FA     	pea	#<$fa00
  2418 06:99F6: AD xx xx     	lda	|~~pTextBox+2
  2419 06:99F9: 48           	pha
  2420 06:99FA: AD xx xx     	lda	|~~pTextBox
  2421 06:99FD: 48           	pha
  Mon Sep 27 2021  9:39                                                Page 48


  2422 06:99FE: 22 xx xx xx  	jsl	~~k_getHandleFromWindow
  2423 06:9A02: 85 01        	sta	<R0
  2424 06:9A04: 86 03        	stx	<R0+2
  2425 06:9A06: DA           	phx
  2426 06:9A07: 48           	pha
  2427 06:9A08: 22 xx xx xx  	jsl	~~k_send_command_message
  2428                        ;						// chang
                    e textbox background color
  2429                        ;						k_send_c
                    ommand_message(k_getHandleFromWindow(pTextBox),
  2430                        	.line	300
  2431                        ;							
                    				   FX_CONTROL_COMMAND,CTL_CMD_BG
                    COLOR,0,
  2432                        ;							
                    				   (ULONG)fun,
  2433                        ;							
                    				   0L);
  2434 06:9A0C: F4 00 00     	pea	#^$0
  2435 06:9A0F: F4 00 00     	pea	#<$0
  2436 06:9A12: A0 00 00     	ldy	#$0
  2437 06:9A15: AD xx xx     	lda	|~~fun
  2438 06:9A18: 10 01        	bpl	L30
  2439 06:9A1A: 88           	dey
  2440                        L30:
  2441 06:9A1B: 85 01        	sta	<R0
  2442 06:9A1D: 84 03        	sty	<R0+2
  2443 06:9A1F: D4 03        	pei	<R0+2
  2444 06:9A21: D4 01        	pei	<R0
  2445 06:9A23: F4 00 00     	pea	#<$0
  2446 06:9A26: F4 03 00     	pea	#<$3
  2447 06:9A29: F4 00 FA     	pea	#<$fa00
  2448 06:9A2C: AD xx xx     	lda	|~~pTextBox+2
  2449 06:9A2F: 48           	pha
  2450 06:9A30: AD xx xx     	lda	|~~pTextBox
  2451 06:9A33: 48           	pha
  2452 06:9A34: 22 xx xx xx  	jsl	~~k_getHandleFromWindow
  2453 06:9A38: 85 05        	sta	<R1
  2454 06:9A3A: 86 07        	stx	<R1+2
  2455 06:9A3C: DA           	phx
  2456 06:9A3D: 48           	pha
  2457 06:9A3E: 22 xx xx xx  	jsl	~~k_send_command_message
  2458                        ;
  2459                        ;						return T
                    RUE;
  2460                        	.line	305
  2461 06:9A42: A9 01 00     	lda	#$1
  2462 06:9A45: 82 2E F9     	brl	L15
  2463                        ;					}
  2464                        	.line	306
  2465                        ;				}
  2466                        L10044:
  2467                        L10043:
  2468                        L10034:
  2469                        	.line	307
  2470                        L10023:
  2471                        ;			}
  2472                        	.line	308
  Mon Sep 27 2021  9:39                                                Page 49


  2473                        ;			return TRUE;
  2474                        L10021:
  2475                        	.line	309
  2476 06:9A48: A9 01 00     	lda	#$1
  2477 06:9A4B: 82 28 F9     	brl	L15
  2478                        ;			break;
  2479                        	.line	310
  2480                        ;		default:
  2481                        	.line	311
  2482                        L10046:
  2483                        ;			break;
  2484                        	.line	312
  2485 06:9A4E: 82 18 00     	brl	L10013
  2486                        ;		}
  2487                        	.line	313
  2488                        L10012:
  2489                        	xref	~~~swt
  2490 06:9A51: 22 xx xx xx  	jsl	~~~swt
  2491 06:9A55: 04 00        	dw	4
  2492 06:9A57: 00 FA        	dw	64000
  2493 06:9A59: 2F 97        	dw	L10020-1
  2494 06:9A5B: 00 FB        	dw	64256
  2495 06:9A5D: C8 96        	dw	L10018-1
  2496 06:9A5F: FF FB        	dw	64511
  2497 06:9A61: 5C 93        	dw	L10014-1
  2498 06:9A63: 03 FF        	dw	65283
  2499 06:9A65: 87 93        	dw	L10015-1
  2500 06:9A67: 4D 9A        	dw	L10046-1
  2501                        L10013:
  2502                        ;	}
  2503                        	.line	314
  2504                        ;
  2505                        ;	return DefWindowProc(pMsg);
  2506                        L10011:
  2507                        	.line	316
  2508 06:9A69: D4 40        	pei	<L11+pMsg_0+2
  2509 06:9A6B: D4 3E        	pei	<L11+pMsg_0
  2510 06:9A6D: 22 xx xx xx  	jsl	~~DefWindowProc
  2511 06:9A71: E2 20        	sep	#$20
  2512                        	longa	off
  2513 06:9A73: 85 01        	sta	<R0
  2514 06:9A75: C2 20        	rep	#$20
  2515                        	longa	on
  2516 06:9A77: A5 01        	lda	<R0
  2517 06:9A79: 29 FF 00     	and	#$ff
  2518 06:9A7C: 82 F7 F8     	brl	L15
  2519                        ;}
  2520                        	.line	317
  2521                        	.endblock	317
  2522             0000003A   L11	equ	58
  2523             00000009   L12	equ	9
  2524 06:9A7F:              	ends
  2525                        	efunc
  2526                        	.endfunc	317,9,58
  2527                        	.line	317
  2528                        	data
  2529                        L10:
  2530 00:00C3: 66 78 43 61  	db	$66,$78,$43,$61,$6C,$63,$75,$6C,$61,$74,
  Mon Sep 27 2021  9:39                                                Page 50


                    $6F,$72,$57,$69,$6E
       00:00C7: 6C 63 75 6C 
       00:00CB: 61 74 6F 72 
       00:00CF: 57 69 6E 
  2531 00:00D2: 64 6F 77 50  	db	$64,$6F,$77,$50,$72,$6F,$63,$3A,$3A,$46,
                    $58,$5F,$43,$52,$45
       00:00D6: 72 6F 63 3A 
       00:00DA: 3A 46 58 5F 
       00:00DE: 43 52 45 
  2532 00:00E1: 41 54 45 5F  	db	$41,$54,$45,$5F,$57,$49,$4E,$44,$4F,$57,
                    $3A,$00,$43,$41,$4C
       00:00E5: 57 49 4E 44 
       00:00E9: 4F 57 3A 00 
       00:00ED: 43 41 4C 
  2533 00:00F0: 43 5F 54 45  	db	$43,$5F,$54,$45,$58,$54,$42,$4F,$58,$00,
                    $31,$00,$32,$00,$33
       00:00F4: 58 54 42 4F 
       00:00F8: 58 00 31 00 
       00:00FC: 32 00 33 
  2534 00:00FF: 00 2B 00 34  	db	$00,$2B,$00,$34,$00,$35,$00,$36,$00,$2D,
                    $00,$37,$00,$38,$00
       00:0103: 00 35 00 36 
       00:0107: 00 2D 00 37 
       00:010B: 00 38 00 
  2535 00:010E: 39 00 2A 00  	db	$39,$00,$2A,$00,$30,$00,$3D,$00,$43,$00,
                    $2F,$00,$00,$2B,$00
       00:0112: 30 00 3D 00 
       00:0116: 43 00 2F 00 
       00:011A: 00 2B 00 
  2536 00:011D: 2D 00 78 00  	db	$2D,$00,$78,$00,$2F,$00,$00
       00:0121: 2F 00 00 
  2537 00:0124:              	ends
  2538                        ;/////////////////////////////////////////////////
                    /////
  2539                        ;//  palette tool
  2540                        ;/////////////////////////////////////////////////
                    /////
  2541                        ;#define COLOR_SELECT_SIZE	(16)
  2542                        ;#define COLOR_SWATCH_SIZE	(64)
  2543                        ;
  2544                        ;
  2545                        ;typedef struct
  2546                        ;{
  2547                        ;	BOOL bInit;
  2548                        ;	UINT cColor;
  2549                        ;	PFXNODE node;
  2550                        ;	PFXNODE selectedNode;
  2551                        ;	PFXNODELIST colorHits;
  2552                        ;}
  2553                        	.stag	fake90_,120,90
  2554                        	.member	bInit,0,14,8,8
  2555                        	.member	cColor,8,16,8,16
  2556                        	.member	node,24,138,8,32,5
  2557                        	.member	selectedNode,56,138,8,32,5
  2558                        	.member	colorHits,88,138,8,32,6
  2559                        	.eos
  2560                        ;PALETTECONTROL;
  2561                        ;typedef PALETTECONTROL FAR* PPALETTECONTROL;
  Mon Sep 27 2021  9:39                                                Page 51


  2562                        ;
  2563                        ;VOID FXPaletteAccessory(PFXOSMESSAGE pMsg)
  2564                        ;{
  2565                        	.line	336
  2566                        	.line	337
  2567                        	DTACSRY
  2568                        	xdef	~~FXPaletteAccessory
  2569                        	func
  2570                        	.function	337
  2571                        ~~FXPaletteAccessory:
  2572                        	longa	on
  2573                        	longi	on
  2574 06:9A7F: 3B           	tsc
  2575 06:9A80: 38           	sec
  2576 06:9A81: E9 18 00     	sbc	#L32
  2577 06:9A84: 1B           	tcs
  2578 06:9A85: 0B           	phd
  2579 06:9A86: 5B           	tcd
  2580             00000004   pMsg_0	set	4
  2581                        	.block	337
  2582                        ;	PFXPROCESS p = NULL;
  2583                        ;	PPALETTECONTROL ppc = NULL;
  2584                        ;
  2585                        ;	if(pMsg!=NULL)
  2586             00000000   p_1	set	0
  2587             00000004   ppc_1	set	4
  2588                        	.sym	p,0,138,1,32,20
  2589                        	.sym	ppc,4,138,1,32,90
  2590                        	.sym	pMsg,4,138,6,32,16
  2591 06:9A87: 64 11        	stz	<L33+p_1
  2592 06:9A89: 64 13        	stz	<L33+p_1+2
  2593 06:9A8B: 64 15        	stz	<L33+ppc_1
  2594 06:9A8D: 64 17        	stz	<L33+ppc_1+2
  2595                        	.line	341
  2596                        ;	{
  2597 06:9A8F: A5 1C        	lda	<L32+pMsg_0
  2598 06:9A91: 05 1E        	ora	<L32+pMsg_0+2
  2599 06:9A93: D0 03        	bne	L35
  2600 06:9A95: 82 4D 01     	brl	L10047
  2601                        L35:
  2602                        	.line	342
  2603                        ;		p = k_exec_get_current_process();
  2604                        	.line	343
  2605 06:9A98: 22 xx xx xx  	jsl	~~k_exec_get_current_process
  2606 06:9A9C: 85 11        	sta	<L33+p_1
  2607 06:9A9E: 86 13        	stx	<L33+p_1+2
  2608                        ;
  2609                        ;		switch(pMsg->type)
  2610                        	.line	345
  2611 06:9AA0: A0 08 00     	ldy	#$8
  2612 06:9AA3: B7 1C        	lda	[<L32+pMsg_0],Y
  2613 06:9AA5: 82 2D 01     	brl	L10048
  2614                        ;		{
  2615                        	.line	346
  2616                        ;		case FX_INIT_MESSAGE:
  2617                        	.line	347
  2618                        L10050:
  2619                        ;			if(p!=NULL)
  Mon Sep 27 2021  9:39                                                Page 52


  2620                        	.line	348
  2621                        ;			{
  2622 06:9AA8: A5 11        	lda	<L33+p_1
  2623 06:9AAA: 05 13        	ora	<L33+p_1+2
  2624 06:9AAC: D0 03        	bne	L36
  2625 06:9AAE: 82 EA 00     	brl	L10051
  2626                        L36:
  2627                        	.line	349
  2628                        ;				k_debug_long("FXPaletteA
                    ccessory::FX_INIT_MESSAGE::ProcessId:",p->procId);
  2629                        	.line	350
  2630 06:9AB1: A0 04 00     	ldy	#$4
  2631 06:9AB4: B7 11        	lda	[<L33+p_1],Y
  2632 06:9AB6: 48           	pha
  2633 06:9AB7: A0 02 00     	ldy	#$2
  2634 06:9ABA: B7 11        	lda	[<L33+p_1],Y
  2635 06:9ABC: 48           	pha
  2636 06:9ABD: F4 xx xx     	pea	#^L31
  2637 06:9AC0: F4 xx xx     	pea	#<L31
  2638 06:9AC3: 22 xx xx xx  	jsl	~~k_debug_long
  2639                        ;
  2640                        ;				if(hWndInstancePalette =
                    = NULL)
  2641                        	.line	352
  2642                        ;				{
  2643 06:9AC7: AD xx xx     	lda	|~~hWndInstancePalette
  2644 06:9ACA: 0D xx xx     	ora	|~~hWndInstancePalette+2
  2645 06:9ACD: F0 03        	beq	L37
  2646 06:9ACF: 82 A3 00     	brl	L10052
  2647                        L37:
  2648                        	.line	353
  2649                        ;					k_user_CreateWin
                    dowClassEx("fxPaletteWindowClass",NULL,0,FXWSX_ALWAYS_BACKPL
                    ANE,NULL,NULL,NULL,PaletteWindowProc);
  2650                        	.line	354
  2651 06:9AD2: F4 06 00     	pea	#^~~PaletteWindowProc
  2652 06:9AD5: F4 D7 9D     	pea	#<~~PaletteWindowProc
  2653 06:9AD8: F4 00 00     	pea	#^$0
  2654 06:9ADB: F4 00 00     	pea	#<$0
  2655 06:9ADE: F4 00 00     	pea	#^$0
  2656 06:9AE1: F4 00 00     	pea	#<$0
  2657 06:9AE4: F4 00 00     	pea	#^$0
  2658 06:9AE7: F4 00 00     	pea	#<$0
  2659 06:9AEA: F4 00 00     	pea	#<$0
  2660 06:9AED: F4 00 00     	pea	#<$0
  2661 06:9AF0: F4 00 00     	pea	#^$0
  2662 06:9AF3: F4 00 00     	pea	#<$0
  2663 06:9AF6: F4 xx xx     	pea	#^L31+48
  2664 06:9AF9: F4 xx xx     	pea	#<L31+48
  2665 06:9AFC: 22 xx xx xx  	jsl	~~k_user_CreateWindowClassEx
  2666                        ;					hWndInstancePale
                    tte = k_user_CreateWindow(FXWS_THICKFRAME | FXWS_CAPTION | F
                    XWS_VISIBLE | FXWS_SYSMENU | FXWS_POPUP,
  2667                        	.line	355
  2668                        ;							
                    							"fxPalet
                    teWindowClass",
  2669                        ;							
  Mon Sep 27 2021  9:39                                                Page 53


                    							"Palette
                     Tool",
  2670                        ;							
                    							100,100,
  2671                        ;							
                    							326   + 
                    (2 * k_user_getSystemMetric(SM_CXBORDER)),
  2672                        ;							
                    							16*16 + 
                    k_user_getSystemMetric(SM_CYBORDER) +  (2 *+ k_user_getSyste
                    mMetric(SM_CYFRAME_DEFAULT)),
  2673                        ;							
                    							k_user_g
                    etDesktopWindow(),
  2674                        ;							
                    							NULL,
  2675                        ;							
                    							NULL);
  2676 06:9B00: F4 00 00     	pea	#^$0
  2677 06:9B03: F4 00 00     	pea	#<$0
  2678 06:9B06: F4 00 00     	pea	#^$0
  2679 06:9B09: F4 00 00     	pea	#<$0
  2680 06:9B0C: 22 xx xx xx  	jsl	~~k_user_getDesktopWindow
  2681 06:9B10: 85 01        	sta	<R0
  2682 06:9B12: 86 03        	stx	<R0+2
  2683 06:9B14: DA           	phx
  2684 06:9B15: 48           	pha
  2685 06:9B16: F4 02 00     	pea	#<$2
  2686 06:9B19: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
  2687 06:9B1D: 85 09        	sta	<R2
  2688 06:9B1F: A5 09        	lda	<R2
  2689 06:9B21: 0A           	asl	A
  2690 06:9B22: 85 05        	sta	<R1
  2691 06:9B24: F4 06 00     	pea	#<$6
  2692 06:9B27: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
  2693 06:9B2B: 85 09        	sta	<R2
  2694 06:9B2D: 18           	clc
  2695 06:9B2E: A5 09        	lda	<R2
  2696 06:9B30: 65 05        	adc	<R1
  2697 06:9B32: 85 0D        	sta	<R3
  2698 06:9B34: 18           	clc
  2699 06:9B35: A9 00 01     	lda	#$100
  2700 06:9B38: 65 0D        	adc	<R3
  2701 06:9B3A: 48           	pha
  2702 06:9B3B: F4 05 00     	pea	#<$5
  2703 06:9B3E: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
  2704 06:9B42: 85 09        	sta	<R2
  2705 06:9B44: A5 09        	lda	<R2
  2706 06:9B46: 0A           	asl	A
  2707 06:9B47: 85 05        	sta	<R1
  2708 06:9B49: 18           	clc
  2709 06:9B4A: A9 46 01     	lda	#$146
  2710 06:9B4D: 65 05        	adc	<R1
  2711 06:9B4F: 48           	pha
  2712 06:9B50: F4 64 00     	pea	#<$64
  2713 06:9B53: F4 64 00     	pea	#<$64
  2714 06:9B56: F4 xx xx     	pea	#^L31+90
  2715 06:9B59: F4 xx xx     	pea	#<L31+90
  Mon Sep 27 2021  9:39                                                Page 54


  2716 06:9B5C: F4 xx xx     	pea	#^L31+69
  2717 06:9B5F: F4 xx xx     	pea	#<L31+69
  2718 06:9B62: F4 22 00     	pea	#^$22000d
  2719 06:9B65: F4 0D 00     	pea	#<$22000d
  2720 06:9B68: 22 xx xx xx  	jsl	~~k_user_CreateWindow
  2721 06:9B6C: 8D xx xx     	sta	|~~hWndInstancePalette
  2722 06:9B6F: 8E xx xx     	stx	|~~hWndInstancePalette+2
  2723                        ;
  2724                        ;					//k_user_CreateV
                    erticalScrollBar(hWndInstancePalette,"R",0x8801);
  2725                        ;					//k_user_CreateV
                    erticalScrollBar(hWndInstancePalette,"G",0x8802);
  2726                        ;					//k_user_CreateV
                    erticalScrollBar(hWndInstancePalette,"B",0x8803);
  2727                        ;
  2728                        ;				}
  2729                        	.line	369
  2730                        ;				else
  2731 06:9B72: 82 26 00     	brl	L10053
  2732                        L10052:
  2733                        ;				{
  2734                        	.line	371
  2735                        ;					k_debug_long("FX
                    PaletteAccessory::FX_INIT_MESSAGE::EXIT:",p->procId);
  2736                        	.line	372
  2737 06:9B75: A0 04 00     	ldy	#$4
  2738 06:9B78: B7 11        	lda	[<L33+p_1],Y
  2739 06:9B7A: 48           	pha
  2740 06:9B7B: A0 02 00     	ldy	#$2
  2741 06:9B7E: B7 11        	lda	[<L33+p_1],Y
  2742 06:9B80: 48           	pha
  2743 06:9B81: F4 xx xx     	pea	#^L31+103
  2744 06:9B84: F4 xx xx     	pea	#<L31+103
  2745 06:9B87: 22 xx xx xx  	jsl	~~k_debug_long
  2746                        ;					k_exec_signal_te
                    rminate(p->procId);
  2747                        	.line	373
  2748 06:9B8B: A0 04 00     	ldy	#$4
  2749 06:9B8E: B7 11        	lda	[<L33+p_1],Y
  2750 06:9B90: 48           	pha
  2751 06:9B91: A0 02 00     	ldy	#$2
  2752 06:9B94: B7 11        	lda	[<L33+p_1],Y
  2753 06:9B96: 48           	pha
  2754 06:9B97: 22 xx xx xx  	jsl	~~k_exec_signal_terminate
  2755                        ;				}
  2756                        	.line	374
  2757                        L10053:
  2758                        ;			}
  2759                        	.line	375
  2760                        ;			break;
  2761                        L10051:
  2762                        	.line	376
  2763 06:9B9B: 82 47 00     	brl	L10049
  2764                        ;		case FX_PROCESS:
  2765                        	.line	377
  2766                        L10054:
  2767                        ;			if(hWndInstancePalette == NULL)
  2768                        	.line	378
  Mon Sep 27 2021  9:39                                                Page 55


  2769                        ;			{
  2770 06:9B9E: AD xx xx     	lda	|~~hWndInstancePalette
  2771 06:9BA1: 0D xx xx     	ora	|~~hWndInstancePalette+2
  2772 06:9BA4: F0 03        	beq	L38
  2773 06:9BA6: 82 26 00     	brl	L10055
  2774                        L38:
  2775                        	.line	379
  2776                        ;				k_debug_long("FXPaletteA
                    ccessory::FX_PROCESS::EXIT:",p->procId);
  2777                        	.line	380
  2778 06:9BA9: A0 04 00     	ldy	#$4
  2779 06:9BAC: B7 11        	lda	[<L33+p_1],Y
  2780 06:9BAE: 48           	pha
  2781 06:9BAF: A0 02 00     	ldy	#$2
  2782 06:9BB2: B7 11        	lda	[<L33+p_1],Y
  2783 06:9BB4: 48           	pha
  2784 06:9BB5: F4 xx xx     	pea	#^L31+146
  2785 06:9BB8: F4 xx xx     	pea	#<L31+146
  2786 06:9BBB: 22 xx xx xx  	jsl	~~k_debug_long
  2787                        ;				k_exec_signal_terminate(
                    p->procId);
  2788                        	.line	381
  2789 06:9BBF: A0 04 00     	ldy	#$4
  2790 06:9BC2: B7 11        	lda	[<L33+p_1],Y
  2791 06:9BC4: 48           	pha
  2792 06:9BC5: A0 02 00     	ldy	#$2
  2793 06:9BC8: B7 11        	lda	[<L33+p_1],Y
  2794 06:9BCA: 48           	pha
  2795 06:9BCB: 22 xx xx xx  	jsl	~~k_exec_signal_terminate
  2796                        ;			}
  2797                        	.line	382
  2798                        ;			break;
  2799                        L10055:
  2800                        	.line	383
  2801 06:9BCF: 82 13 00     	brl	L10049
  2802                        ;		default:
  2803                        	.line	384
  2804                        L10056:
  2805                        ;			break;
  2806                        	.line	385
  2807 06:9BD2: 82 10 00     	brl	L10049
  2808                        ;		}
  2809                        	.line	386
  2810                        L10048:
  2811                        	xref	~~~swt
  2812 06:9BD5: 22 xx xx xx  	jsl	~~~swt
  2813 06:9BD9: 02 00        	dw	2
  2814 06:9BDB: 00 FF        	dw	65280
  2815 06:9BDD: 9D 9B        	dw	L10054-1
  2816 06:9BDF: 01 FF        	dw	65281
  2817 06:9BE1: A7 9A        	dw	L10050-1
  2818 06:9BE3: D1 9B        	dw	L10056-1
  2819                        L10049:
  2820                        ;	}
  2821                        	.line	387
  2822                        ;
  2823                        ;	return;
  2824                        L10047:
  Mon Sep 27 2021  9:39                                                Page 56


  2825                        	.line	389
  2826                        L39:
  2827 06:9BE5: A5 1A        	lda	<L32+2
  2828 06:9BE7: 85 1E        	sta	<L32+2+4
  2829 06:9BE9: A5 19        	lda	<L32+1
  2830 06:9BEB: 85 1D        	sta	<L32+1+4
  2831 06:9BED: 2B           	pld
  2832 06:9BEE: 3B           	tsc
  2833 06:9BEF: 18           	clc
  2834 06:9BF0: 69 1C 00     	adc	#L32+4
  2835 06:9BF3: 1B           	tcs
  2836 06:9BF4: 6B           	rtl
  2837                        ;}
  2838                        	.line	390
  2839                        	.endblock	390
  2840             00000018   L32	equ	24
  2841             00000011   L33	equ	17
  2842 06:9BF5:              	ends
  2843                        	efunc
  2844                        	.endfunc	390,17,24
  2845                        	.line	390
  2846                        	data
  2847                        L31:
  2848 00:0124: 46 58 50 61  	db	$46,$58,$50,$61,$6C,$65,$74,$74,$65,$41,
                    $63,$63,$65,$73,$73
       00:0128: 6C 65 74 74 
       00:012C: 65 41 63 63 
       00:0130: 65 73 73 
  2849 00:0133: 6F 72 79 3A  	db	$6F,$72,$79,$3A,$3A,$46,$58,$5F,$49,$4E,
                    $49,$54,$5F,$4D,$45
       00:0137: 3A 46 58 5F 
       00:013B: 49 4E 49 54 
       00:013F: 5F 4D 45 
  2850 00:0142: 53 53 41 47  	db	$53,$53,$41,$47,$45,$3A,$3A,$50,$72,$6F,
                    $63,$65,$73,$73,$49
       00:0146: 45 3A 3A 50 
       00:014A: 72 6F 63 65 
       00:014E: 73 73 49 
  2851 00:0151: 64 3A 00 66  	db	$64,$3A,$00,$66,$78,$50,$61,$6C,$65,$74,
                    $74,$65,$57,$69,$6E
       00:0155: 78 50 61 6C 
       00:0159: 65 74 74 65 
       00:015D: 57 69 6E 
  2852 00:0160: 64 6F 77 43  	db	$64,$6F,$77,$43,$6C,$61,$73,$73,$00,$66,
                    $78,$50,$61,$6C,$65
       00:0164: 6C 61 73 73 
       00:0168: 00 66 78 50 
       00:016C: 61 6C 65 
  2853 00:016F: 74 74 65 57  	db	$74,$74,$65,$57,$69,$6E,$64,$6F,$77,$43,
                    $6C,$61,$73,$73,$00
       00:0173: 69 6E 64 6F 
       00:0177: 77 43 6C 61 
       00:017B: 73 73 00 
  2854 00:017E: 50 61 6C 65  	db	$50,$61,$6C,$65,$74,$74,$65,$20,$54,$6F,
                    $6F,$6C,$00,$46,$58
       00:0182: 74 74 65 20 
       00:0186: 54 6F 6F 6C 
       00:018A: 00 46 58 
  Mon Sep 27 2021  9:39                                                Page 57


  2855 00:018D: 50 61 6C 65  	db	$50,$61,$6C,$65,$74,$74,$65,$41,$63,$63,
                    $65,$73,$73,$6F,$72
       00:0191: 74 74 65 41 
       00:0195: 63 63 65 73 
       00:0199: 73 6F 72 
  2856 00:019C: 79 3A 3A 46  	db	$79,$3A,$3A,$46,$58,$5F,$49,$4E,$49,$54,
                    $5F,$4D,$45,$53,$53
       00:01A0: 58 5F 49 4E 
       00:01A4: 49 54 5F 4D 
       00:01A8: 45 53 53 
  2857 00:01AB: 41 47 45 3A  	db	$41,$47,$45,$3A,$3A,$45,$58,$49,$54,$3A,
                    $00,$46,$58,$50,$61
       00:01AF: 3A 45 58 49 
       00:01B3: 54 3A 00 46 
       00:01B7: 58 50 61 
  2858 00:01BA: 6C 65 74 74  	db	$6C,$65,$74,$74,$65,$41,$63,$63,$65,$73,
                    $73,$6F,$72,$79,$3A
       00:01BE: 65 41 63 63 
       00:01C2: 65 73 73 6F 
       00:01C6: 72 79 3A 
  2859 00:01C9: 3A 46 58 5F  	db	$3A,$46,$58,$5F,$50,$52,$4F,$43,$45,$53,
                    $53,$3A,$3A,$45,$58
       00:01CD: 50 52 4F 43 
       00:01D1: 45 53 53 3A 
       00:01D5: 3A 45 58 
  2860 00:01D8: 49 54 3A 00  	db	$49,$54,$3A,$00
  2861 00:01DC:              	ends
  2862                        ;
  2863                        ;BOOL foreach_colors(LPVOID ctx,LPVOID data)
  2864                        ;{
  2865                        	.line	392
  2866                        	.line	393
  2867                        	DTACSRY
  2868                        	xdef	~~foreach_colors
  2869                        	func
  2870                        	.function	393
  2871                        ~~foreach_colors:
  2872                        	longa	on
  2873                        	longi	on
  2874 06:9BF5: 3B           	tsc
  2875 06:9BF6: 38           	sec
  2876 06:9BF7: E9 0C 00     	sbc	#L41
  2877 06:9BFA: 1B           	tcs
  2878 06:9BFB: 0B           	phd
  2879 06:9BFC: 5B           	tcd
  2880             00000004   ctx_0	set	4
  2881             00000008   data_0	set	8
  2882                        	.block	393
  2883                        ;	PPOINT  p = ((PPOINT)ctx);
  2884                        ;	PDRECT 	r = ((PDRECT)data);
  2885                        ;
  2886                        ;	if(p->x >=r->x && p->x<(r->x+r->width))
  2887             00000000   p_1	set	0
  2888             00000004   r_1	set	4
  2889                        	.sym	p,0,138,1,32,25
  2890                        	.sym	r,4,138,1,32,28
  2891                        	.sym	ctx,4,129,6,32
  2892                        	.sym	data,8,129,6,32
  Mon Sep 27 2021  9:39                                                Page 58


  2893 06:9BFD: A5 10        	lda	<L41+ctx_0
  2894 06:9BFF: 85 05        	sta	<L42+p_1
  2895 06:9C01: A5 12        	lda	<L41+ctx_0+2
  2896 06:9C03: 85 07        	sta	<L42+p_1+2
  2897 06:9C05: A5 14        	lda	<L41+data_0
  2898 06:9C07: 85 09        	sta	<L42+r_1
  2899 06:9C09: A5 16        	lda	<L41+data_0+2
  2900 06:9C0B: 85 0B        	sta	<L42+r_1+2
  2901                        	.line	397
  2902                        ;	{
  2903 06:9C0D: 38           	sec
  2904 06:9C0E: A7 05        	lda	[<L42+p_1]
  2905 06:9C10: E7 09        	sbc	[<L42+r_1]
  2906 06:9C12: 70 03        	bvs	L44
  2907 06:9C14: 49 00 80     	eor	#$8000
  2908                        L44:
  2909 06:9C17: 30 03        	bmi	L45
  2910 06:9C19: 82 62 00     	brl	L10057
  2911                        L45:
  2912 06:9C1C: 18           	clc
  2913 06:9C1D: A7 09        	lda	[<L42+r_1]
  2914 06:9C1F: A0 06 00     	ldy	#$6
  2915 06:9C22: 77 09        	adc	[<L42+r_1],Y
  2916 06:9C24: 85 01        	sta	<R0
  2917 06:9C26: 38           	sec
  2918 06:9C27: A7 05        	lda	[<L42+p_1]
  2919 06:9C29: E5 01        	sbc	<R0
  2920 06:9C2B: 70 03        	bvs	L46
  2921 06:9C2D: 49 00 80     	eor	#$8000
  2922                        L46:
  2923 06:9C30: 10 03        	bpl	L47
  2924 06:9C32: 82 49 00     	brl	L10057
  2925                        L47:
  2926                        	.line	398
  2927                        ;		if(p->y >=r->y && p->y<(r->y+r->height))
  2928                        	.line	399
  2929                        ;		{
  2930 06:9C35: 38           	sec
  2931 06:9C36: A0 02 00     	ldy	#$2
  2932 06:9C39: B7 05        	lda	[<L42+p_1],Y
  2933 06:9C3B: A0 02 00     	ldy	#$2
  2934 06:9C3E: F7 09        	sbc	[<L42+r_1],Y
  2935 06:9C40: 70 03        	bvs	L48
  2936 06:9C42: 49 00 80     	eor	#$8000
  2937                        L48:
  2938 06:9C45: 30 03        	bmi	L49
  2939 06:9C47: 82 34 00     	brl	L10058
  2940                        L49:
  2941 06:9C4A: 18           	clc
  2942 06:9C4B: A0 02 00     	ldy	#$2
  2943 06:9C4E: B7 09        	lda	[<L42+r_1],Y
  2944 06:9C50: A0 08 00     	ldy	#$8
  2945 06:9C53: 77 09        	adc	[<L42+r_1],Y
  2946 06:9C55: 85 01        	sta	<R0
  2947 06:9C57: 38           	sec
  2948 06:9C58: A0 02 00     	ldy	#$2
  2949 06:9C5B: B7 05        	lda	[<L42+p_1],Y
  2950 06:9C5D: E5 01        	sbc	<R0
  Mon Sep 27 2021  9:39                                                Page 59


  2951 06:9C5F: 70 03        	bvs	L50
  2952 06:9C61: 49 00 80     	eor	#$8000
  2953                        L50:
  2954 06:9C64: 10 03        	bpl	L51
  2955 06:9C66: 82 15 00     	brl	L10058
  2956                        L51:
  2957                        	.line	400
  2958                        ;			return TRUE;
  2959                        	.line	401
  2960 06:9C69: A9 01 00     	lda	#$1
  2961                        L52:
  2962 06:9C6C: A8           	tay
  2963 06:9C6D: A5 0E        	lda	<L41+2
  2964 06:9C6F: 85 16        	sta	<L41+2+8
  2965 06:9C71: A5 0D        	lda	<L41+1
  2966 06:9C73: 85 15        	sta	<L41+1+8
  2967 06:9C75: 2B           	pld
  2968 06:9C76: 3B           	tsc
  2969 06:9C77: 18           	clc
  2970 06:9C78: 69 14 00     	adc	#L41+8
  2971 06:9C7B: 1B           	tcs
  2972 06:9C7C: 98           	tya
  2973 06:9C7D: 6B           	rtl
  2974                        ;		}
  2975                        	.line	402
  2976                        ;	}
  2977                        L10058:
  2978                        	.line	403
  2979                        ;
  2980                        ;	return FALSE;
  2981                        L10057:
  2982                        	.line	405
  2983 06:9C7E: A9 00 00     	lda	#$0
  2984 06:9C81: 82 E8 FF     	brl	L52
  2985                        ;}
  2986                        	.line	406
  2987                        	.endblock	406
  2988             0000000C   L41	equ	12
  2989             00000005   L42	equ	5
  2990 06:9C84:              	ends
  2991                        	efunc
  2992                        	.endfunc	406,5,12
  2993                        	.line	406
  2994                        ;
  2995                        ;VOID deallocate_rect(LPCSTR name,LPVOID pdata)
  2996                        ;{
  2997                        	.line	408
  2998                        	.line	409
  2999                        	DTACSRY
  3000                        	xdef	~~deallocate_rect
  3001                        	func
  3002                        	.function	409
  3003                        ~~deallocate_rect:
  3004                        	longa	on
  3005                        	longi	on
  3006 06:9C84: 3B           	tsc
  3007 06:9C85: 38           	sec
  3008 06:9C86: E9 00 00     	sbc	#L53
  Mon Sep 27 2021  9:39                                                Page 60


  3009 06:9C89: 1B           	tcs
  3010 06:9C8A: 0B           	phd
  3011 06:9C8B: 5B           	tcd
  3012             00000004   name_0	set	4
  3013             00000008   pdata_0	set	8
  3014                        	.block	409
  3015                        ;	if(pdata)
  3016                        	.sym	name,4,142,6,32
  3017                        	.sym	pdata,8,129,6,32
  3018                        	.line	410
  3019                        ;	{
  3020 06:9C8C: A5 08        	lda	<L53+pdata_0
  3021 06:9C8E: 05 0A        	ora	<L53+pdata_0+2
  3022 06:9C90: D0 03        	bne	L56
  3023 06:9C92: 82 08 00     	brl	L10059
  3024                        L56:
  3025                        	.line	411
  3026                        ;		k_mem_deallocate_heap(pdata);
  3027                        	.line	412
  3028 06:9C95: D4 0A        	pei	<L53+pdata_0+2
  3029 06:9C97: D4 08        	pei	<L53+pdata_0
  3030 06:9C99: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
  3031                        ;	}
  3032                        	.line	413
  3033                        ;}
  3034                        L10059:
  3035                        	.line	414
  3036                        L57:
  3037 06:9C9D: A5 02        	lda	<L53+2
  3038 06:9C9F: 85 0A        	sta	<L53+2+8
  3039 06:9CA1: A5 01        	lda	<L53+1
  3040 06:9CA3: 85 09        	sta	<L53+1+8
  3041 06:9CA5: 2B           	pld
  3042 06:9CA6: 3B           	tsc
  3043 06:9CA7: 18           	clc
  3044 06:9CA8: 69 08 00     	adc	#L53+8
  3045 06:9CAB: 1B           	tcs
  3046 06:9CAC: 6B           	rtl
  3047                        	.endblock	414
  3048             00000000   L53	equ	0
  3049             00000001   L54	equ	1
  3050 06:9CAD:              	ends
  3051                        	efunc
  3052                        	.endfunc	414,1,0
  3053                        	.line	414
  3054                        ;
  3055                        ;VOID drawSwatchInfo(PWINDOW pWin,PPALETTECONTROL 
                    ppc)
  3056                        ;{
  3057                        	.line	416
  3058                        	.line	417
  3059                        	DTACSRY
  3060                        	xdef	~~drawSwatchInfo
  3061                        	func
  3062                        	.function	417
  3063                        ~~drawSwatchInfo:
  3064                        	longa	on
  3065                        	longi	on
  Mon Sep 27 2021  9:39                                                Page 61


  3066 06:9CAD: 3B           	tsc
  3067 06:9CAE: 38           	sec
  3068 06:9CAF: E9 1A 00     	sbc	#L58
  3069 06:9CB2: 1B           	tcs
  3070 06:9CB3: 0B           	phd
  3071 06:9CB4: 5B           	tcd
  3072             00000004   pWin_0	set	4
  3073             00000008   ppc_0	set	8
  3074                        	.block	417
  3075                        ;	int cx = 0;
  3076                        ;	CHAR hexBuffer[16];
  3077                        ;
  3078                        ;	if(ppc->cColor!=-1)
  3079             00000000   cx_1	set	0
  3080             00000002   hexBuffer_1	set	2
  3081                        	.sym	cx,0,5,1,16
  3082                        	.sym	hexBuffer,2,110,1,0,16
  3083                        	.sym	pWin,4,138,6,32,33
  3084                        	.sym	ppc,8,138,6,32,90
  3085 06:9CB5: 64 09        	stz	<L59+cx_1
  3086                        	.line	421
  3087                        ;	{
  3088 06:9CB7: A0 01 00     	ldy	#$1
  3089 06:9CBA: B7 22        	lda	[<L58+ppc_0],Y
  3090 06:9CBC: C9 FF FF     	cmp	#<$ffffffff
  3091 06:9CBF: D0 03        	bne	L61
  3092 06:9CC1: 82 03 01     	brl	L10060
  3093                        L61:
  3094                        	.line	422
  3095                        ;		k_vdma_fill_rect_ex(pWin->clientRect.x +
                     256,
  3096                        	.line	423
  3097                        ;							
                    pWin->clientRect.y,
  3098                        ;							
                    COLOR_SWATCH_SIZE,
  3099                        ;							
                    COLOR_SWATCH_SIZE,
  3100                        ;							
                    ppc->cColor,
  3101                        ;							
                    pWin->nBitmapLayer);
  3102 06:9CC4: A0 9E 01     	ldy	#$19e
  3103 06:9CC7: B7 1E        	lda	[<L58+pWin_0],Y
  3104 06:9CC9: 48           	pha
  3105 06:9CCA: A0 01 00     	ldy	#$1
  3106 06:9CCD: B7 22        	lda	[<L58+ppc_0],Y
  3107 06:9CCF: 48           	pha
  3108 06:9CD0: F4 40 00     	pea	#<$40
  3109 06:9CD3: F4 40 00     	pea	#<$40
  3110 06:9CD6: A0 00 00     	ldy	#$0
  3111 06:9CD9: 5A           	phy
  3112 06:9CDA: A0 2C 00     	ldy	#$2c
  3113 06:9CDD: B7 1E        	lda	[<L58+pWin_0],Y
  3114 06:9CDF: 7A           	ply
  3115 06:9CE0: 2A           	rol	A
  3116 06:9CE1: 6A           	ror	A
  3117 06:9CE2: 10 01        	bpl	L62
  Mon Sep 27 2021  9:39                                                Page 62


  3118 06:9CE4: 88           	dey
  3119                        L62:
  3120 06:9CE5: 85 01        	sta	<R0
  3121 06:9CE7: 84 03        	sty	<R0+2
  3122 06:9CE9: D4 03        	pei	<R0+2
  3123 06:9CEB: D4 01        	pei	<R0
  3124 06:9CED: 18           	clc
  3125 06:9CEE: A9 00 01     	lda	#$100
  3126 06:9CF1: A0 2A 00     	ldy	#$2a
  3127 06:9CF4: 77 1E        	adc	[<L58+pWin_0],Y
  3128 06:9CF6: 85 05        	sta	<R1
  3129 06:9CF8: A0 00 00     	ldy	#$0
  3130 06:9CFB: A5 05        	lda	<R1
  3131 06:9CFD: 10 01        	bpl	L63
  3132 06:9CFF: 88           	dey
  3133                        L63:
  3134 06:9D00: 85 05        	sta	<R1
  3135 06:9D02: 84 07        	sty	<R1+2
  3136 06:9D04: D4 07        	pei	<R1+2
  3137 06:9D06: D4 05        	pei	<R1
  3138 06:9D08: 22 xx xx xx  	jsl	~~k_vdma_fill_rect_ex
  3139                        ;
  3140                        ;		k_vdma_fill_rect_ex(pWin->clientRect.x +
                     256,
  3141                        	.line	430
  3142                        ;							
                    pWin->clientRect.y + 64 ,
  3143                        ;							
                    COLOR_SWATCH_SIZE,
  3144                        ;							
                    COLOR_SWATCH_SIZE,
  3145                        ;							
                    k_getUIMenuColor(),
  3146                        ;							
                    pWin->nBitmapLayer);
  3147 06:9D0C: A0 9E 01     	ldy	#$19e
  3148 06:9D0F: B7 1E        	lda	[<L58+pWin_0],Y
  3149 06:9D11: 48           	pha
  3150 06:9D12: 22 xx xx xx  	jsl	~~k_getUIMenuColor
  3151 06:9D16: 48           	pha
  3152 06:9D17: F4 40 00     	pea	#<$40
  3153 06:9D1A: F4 40 00     	pea	#<$40
  3154 06:9D1D: 18           	clc
  3155 06:9D1E: A9 40 00     	lda	#$40
  3156 06:9D21: A0 2C 00     	ldy	#$2c
  3157 06:9D24: 77 1E        	adc	[<L58+pWin_0],Y
  3158 06:9D26: 85 01        	sta	<R0
  3159 06:9D28: A0 00 00     	ldy	#$0
  3160 06:9D2B: A5 01        	lda	<R0
  3161 06:9D2D: 10 01        	bpl	L64
  3162 06:9D2F: 88           	dey
  3163                        L64:
  3164 06:9D30: 85 01        	sta	<R0
  3165 06:9D32: 84 03        	sty	<R0+2
  3166 06:9D34: D4 03        	pei	<R0+2
  3167 06:9D36: D4 01        	pei	<R0
  3168 06:9D38: 18           	clc
  3169 06:9D39: A9 00 01     	lda	#$100
  Mon Sep 27 2021  9:39                                                Page 63


  3170 06:9D3C: A0 2A 00     	ldy	#$2a
  3171 06:9D3F: 77 1E        	adc	[<L58+pWin_0],Y
  3172 06:9D41: 85 05        	sta	<R1
  3173 06:9D43: A0 00 00     	ldy	#$0
  3174 06:9D46: A5 05        	lda	<R1
  3175 06:9D48: 10 01        	bpl	L65
  3176 06:9D4A: 88           	dey
  3177                        L65:
  3178 06:9D4B: 85 05        	sta	<R1
  3179 06:9D4D: 84 07        	sty	<R1+2
  3180 06:9D4F: D4 07        	pei	<R1+2
  3181 06:9D51: D4 05        	pei	<R1
  3182 06:9D53: 22 xx xx xx  	jsl	~~k_vdma_fill_rect_ex
  3183                        ;
  3184                        ;		cx = k_draw_text_point_ex("ID:",
  3185                        	.line	437
  3186                        ;							
                    	  pWin->clientRect.x + 260,
  3187                        ;							
                    	  pWin->clientRect.y + 64 ,
  3188                        ;							
                    	  k_getUIGadgetColor(),
  3189                        ;							
                    	  pWin->nBitmapLayer);
  3190 06:9D57: A0 9E 01     	ldy	#$19e
  3191 06:9D5A: B7 1E        	lda	[<L58+pWin_0],Y
  3192 06:9D5C: 48           	pha
  3193 06:9D5D: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
  3194 06:9D61: 48           	pha
  3195 06:9D62: 18           	clc
  3196 06:9D63: A9 40 00     	lda	#$40
  3197 06:9D66: A0 2C 00     	ldy	#$2c
  3198 06:9D69: 77 1E        	adc	[<L58+pWin_0],Y
  3199 06:9D6B: 48           	pha
  3200 06:9D6C: 18           	clc
  3201 06:9D6D: A9 04 01     	lda	#$104
  3202 06:9D70: A0 2A 00     	ldy	#$2a
  3203 06:9D73: 77 1E        	adc	[<L58+pWin_0],Y
  3204 06:9D75: 48           	pha
  3205 06:9D76: F4 xx xx     	pea	#^L40
  3206 06:9D79: F4 xx xx     	pea	#<L40
  3207 06:9D7C: 22 xx xx xx  	jsl	~~k_draw_text_point_ex
  3208 06:9D80: 85 09        	sta	<L59+cx_1
  3209                        ;
  3210                        ;		cx = k_draw_text_point_ex(k_bytetohex(pp
                    c->cColor,hexBuffer),
  3211                        	.line	443
  3212                        ;							
                    	 pWin->clientRect.x + 260 + cx,
  3213                        ;							
                    	 pWin->clientRect.y + 64 ,
  3214                        ;							
                    	 k_getUIGadgetColor(),
  3215                        ;							
                    	 pWin->nBitmapLayer);
  3216 06:9D82: A0 9E 01     	ldy	#$19e
  3217 06:9D85: B7 1E        	lda	[<L58+pWin_0],Y
  3218 06:9D87: 48           	pha
  Mon Sep 27 2021  9:39                                                Page 64


  3219 06:9D88: 22 xx xx xx  	jsl	~~k_getUIGadgetColor
  3220 06:9D8C: 48           	pha
  3221 06:9D8D: 18           	clc
  3222 06:9D8E: A9 40 00     	lda	#$40
  3223 06:9D91: A0 2C 00     	ldy	#$2c
  3224 06:9D94: 77 1E        	adc	[<L58+pWin_0],Y
  3225 06:9D96: 48           	pha
  3226 06:9D97: 18           	clc
  3227 06:9D98: A0 2A 00     	ldy	#$2a
  3228 06:9D9B: B7 1E        	lda	[<L58+pWin_0],Y
  3229 06:9D9D: 65 09        	adc	<L59+cx_1
  3230 06:9D9F: 85 01        	sta	<R0
  3231 06:9DA1: 18           	clc
  3232 06:9DA2: A9 04 01     	lda	#$104
  3233 06:9DA5: 65 01        	adc	<R0
  3234 06:9DA7: 48           	pha
  3235 06:9DA8: F4 00 00     	pea	#0
  3236 06:9DAB: 18           	clc
  3237 06:9DAC: 7B           	tdc
  3238 06:9DAD: 69 0B 00     	adc	#<L59+hexBuffer_1
  3239 06:9DB0: 48           	pha
  3240 06:9DB1: A0 01 00     	ldy	#$1
  3241 06:9DB4: B7 22        	lda	[<L58+ppc_0],Y
  3242 06:9DB6: 48           	pha
  3243 06:9DB7: 22 xx xx xx  	jsl	~~k_bytetohex
  3244 06:9DBB: 85 01        	sta	<R0
  3245 06:9DBD: 86 03        	stx	<R0+2
  3246 06:9DBF: DA           	phx
  3247 06:9DC0: 48           	pha
  3248 06:9DC1: 22 xx xx xx  	jsl	~~k_draw_text_point_ex
  3249 06:9DC5: 85 09        	sta	<L59+cx_1
  3250                        ;	}
  3251                        	.line	448
  3252                        ;}
  3253                        L10060:
  3254                        	.line	449
  3255                        L66:
  3256 06:9DC7: A5 1C        	lda	<L58+2
  3257 06:9DC9: 85 24        	sta	<L58+2+8
  3258 06:9DCB: A5 1B        	lda	<L58+1
  3259 06:9DCD: 85 23        	sta	<L58+1+8
  3260 06:9DCF: 2B           	pld
  3261 06:9DD0: 3B           	tsc
  3262 06:9DD1: 18           	clc
  3263 06:9DD2: 69 22 00     	adc	#L58+8
  3264 06:9DD5: 1B           	tcs
  3265 06:9DD6: 6B           	rtl
  3266                        	.endblock	449
  3267             0000001A   L58	equ	26
  3268             00000009   L59	equ	9
  3269 06:9DD7:              	ends
  3270                        	efunc
  3271                        	.endfunc	449,9,26
  3272                        	.line	449
  3273                        	data
  3274                        L40:
  3275 00:01DC: 49 44 3A 00  	db	$49,$44,$3A,$00
  3276 00:01E0:              	ends
  Mon Sep 27 2021  9:39                                                Page 65


  3277                        ;
  3278                        ;BOOL PaletteWindowProc(PFXOSMESSAGE pMsg)
  3279                        ;{
  3280                        	.line	451
  3281                        	.line	452
  3282                        	DTACSRY
  3283                        	xdef	~~PaletteWindowProc
  3284                        	func
  3285                        	.function	452
  3286                        ~~PaletteWindowProc:
  3287                        	longa	on
  3288                        	longi	on
  3289 06:9DD7: 3B           	tsc
  3290 06:9DD8: 38           	sec
  3291 06:9DD9: E9 36 00     	sbc	#L68
  3292 06:9DDC: 1B           	tcs
  3293 06:9DDD: 0B           	phd
  3294 06:9DDE: 5B           	tcd
  3295             00000004   pMsg_0	set	4
  3296                        	.block	452
  3297                        ;	PFXPROCESS 	p 	 = NULL;
  3298                        ;	PWINDOW 	pWin = NULL;
  3299                        ;	INT 		xindex = 0;
  3300                        ;	INT 		yindex = 0;
  3301                        ;	INT 		value  = 0;
  3302                        ;	INT			cx,cy;
  3303                        ;	PPALETTECONTROL ppc = NULL;
  3304                        ;	PDRECT prect = NULL;
  3305                        ;	PFXNODE node = NULL;
  3306                        ;	PFXNODE nodeSelected = NULL;
  3307                        ;
  3308                        ;	POINT point;
  3309                        ;
  3310                        ;	if(pMsg!=NULL)
  3311             00000000   p_1	set	0
  3312             00000004   pWin_1	set	4
  3313             00000008   xindex_1	set	8
  3314             0000000A   yindex_1	set	10
  3315             0000000C   value_1	set	12
  3316             0000000E   cx_1	set	14
  3317             00000010   cy_1	set	16
  3318             00000012   ppc_1	set	18
  3319             00000016   prect_1	set	22
  3320             0000001A   node_1	set	26
  3321             0000001E   nodeSelected_1	set	30
  3322             00000022   point_1	set	34
  3323                        	.sym	p,0,138,1,32,20
  3324                        	.sym	pWin,4,138,1,32,33
  3325                        	.sym	xindex,8,5,1,16
  3326                        	.sym	yindex,10,5,1,16
  3327                        	.sym	value,12,5,1,16
  3328                        	.sym	cx,14,5,1,16
  3329                        	.sym	cy,16,5,1,16
  3330                        	.sym	ppc,18,138,1,32,90
  3331                        	.sym	prect,22,138,1,32,28
  3332                        	.sym	node,26,138,1,32,5
  3333                        	.sym	nodeSelected,30,138,1,32,5
  3334                        	.sym	point,34,10,1,32,25
  Mon Sep 27 2021  9:39                                                Page 66


  3335                        	.sym	pMsg,4,138,6,32,16
  3336 06:9DDF: 64 11        	stz	<L69+p_1
  3337 06:9DE1: 64 13        	stz	<L69+p_1+2
  3338 06:9DE3: 64 15        	stz	<L69+pWin_1
  3339 06:9DE5: 64 17        	stz	<L69+pWin_1+2
  3340 06:9DE7: 64 19        	stz	<L69+xindex_1
  3341 06:9DE9: 64 1B        	stz	<L69+yindex_1
  3342 06:9DEB: 64 1D        	stz	<L69+value_1
  3343 06:9DED: 64 23        	stz	<L69+ppc_1
  3344 06:9DEF: 64 25        	stz	<L69+ppc_1+2
  3345 06:9DF1: 64 27        	stz	<L69+prect_1
  3346 06:9DF3: 64 29        	stz	<L69+prect_1+2
  3347 06:9DF5: 64 2B        	stz	<L69+node_1
  3348 06:9DF7: 64 2D        	stz	<L69+node_1+2
  3349 06:9DF9: 64 2F        	stz	<L69+nodeSelected_1
  3350 06:9DFB: 64 31        	stz	<L69+nodeSelected_1+2
  3351                        	.line	466
  3352                        ;	{
  3353 06:9DFD: A5 3A        	lda	<L68+pMsg_0
  3354 06:9DFF: 05 3C        	ora	<L68+pMsg_0+2
  3355 06:9E01: D0 03        	bne	L71
  3356 06:9E03: 82 B1 06     	brl	L10061
  3357                        L71:
  3358                        	.line	467
  3359                        ;		p = k_exec_get_current_process();
  3360                        	.line	468
  3361 06:9E06: 22 xx xx xx  	jsl	~~k_exec_get_current_process
  3362 06:9E0A: 85 11        	sta	<L69+p_1
  3363 06:9E0C: 86 13        	stx	<L69+p_1+2
  3364                        ;
  3365                        ;		switch(pMsg->type)
  3366                        	.line	470
  3367 06:9E0E: A0 08 00     	ldy	#$8
  3368 06:9E11: B7 3A        	lda	[<L68+pMsg_0],Y
  3369 06:9E13: 82 7D 06     	brl	L10062
  3370                        ;		{
  3371                        	.line	471
  3372                        ;		case FX_WINDOW_CLOSE:
  3373                        	.line	472
  3374                        L10064:
  3375                        ;
  3376                        ;			pWin = k_getWindowFromHandle(pMs
                    g->hwnd);
  3377                        	.line	474
  3378 06:9E16: A0 0C 00     	ldy	#$c
  3379 06:9E19: B7 3A        	lda	[<L68+pMsg_0],Y
  3380 06:9E1B: 48           	pha
  3381 06:9E1C: A0 0A 00     	ldy	#$a
  3382 06:9E1F: B7 3A        	lda	[<L68+pMsg_0],Y
  3383 06:9E21: 48           	pha
  3384 06:9E22: 22 xx xx xx  	jsl	~~k_getWindowFromHandle
  3385 06:9E26: 85 15        	sta	<L69+pWin_1
  3386 06:9E28: 86 17        	stx	<L69+pWin_1+2
  3387                        ;			if(pWin)
  3388                        	.line	475
  3389                        ;			{
  3390 06:9E2A: A5 15        	lda	<L69+pWin_1
  3391 06:9E2C: 05 17        	ora	<L69+pWin_1+2
  Mon Sep 27 2021  9:39                                                Page 67


  3392 06:9E2E: D0 03        	bne	L72
  3393 06:9E30: 82 9C 00     	brl	L10065
  3394                        L72:
  3395                        	.line	476
  3396                        ;				ppc = ((PPALETTECONTROL)
                    pWin->windowData);
  3397                        	.line	477
  3398 06:9E33: A0 C5 01     	ldy	#$1c5
  3399 06:9E36: B7 15        	lda	[<L69+pWin_1],Y
  3400 06:9E38: 85 23        	sta	<L69+ppc_1
  3401 06:9E3A: A0 C7 01     	ldy	#$1c7
  3402 06:9E3D: B7 15        	lda	[<L69+pWin_1],Y
  3403 06:9E3F: 85 25        	sta	<L69+ppc_1+2
  3404                        ;				ppc->bInit = FALSE;
  3405                        	.line	478
  3406 06:9E41: E2 20        	sep	#$20
  3407                        	longa	off
  3408 06:9E43: A9 00        	lda	#$0
  3409 06:9E45: 87 23        	sta	[<L69+ppc_1]
  3410 06:9E47: C2 20        	rep	#$20
  3411                        	longa	on
  3412                        ;
  3413                        ;				if(ppc->selectedNode)
  3414                        	.line	480
  3415                        ;				{
  3416 06:9E49: A0 07 00     	ldy	#$7
  3417 06:9E4C: B7 23        	lda	[<L69+ppc_1],Y
  3418 06:9E4E: A0 09 00     	ldy	#$9
  3419 06:9E51: 17 23        	ora	[<L69+ppc_1],Y
  3420 06:9E53: D0 03        	bne	L73
  3421 06:9E55: 82 77 00     	brl	L10066
  3422                        L73:
  3423                        	.line	481
  3424                        ;					prect = (PDRECT)
                    (ppc->selectedNode->data);
  3425                        	.line	482
  3426 06:9E58: A0 07 00     	ldy	#$7
  3427 06:9E5B: B7 23        	lda	[<L69+ppc_1],Y
  3428 06:9E5D: 85 01        	sta	<R0
  3429 06:9E5F: A0 09 00     	ldy	#$9
  3430 06:9E62: B7 23        	lda	[<L69+ppc_1],Y
  3431 06:9E64: 85 03        	sta	<R0+2
  3432 06:9E66: A0 02 00     	ldy	#$2
  3433 06:9E69: B7 01        	lda	[<R0],Y
  3434 06:9E6B: 85 27        	sta	<L69+prect_1
  3435 06:9E6D: A0 04 00     	ldy	#$4
  3436 06:9E70: B7 01        	lda	[<R0],Y
  3437 06:9E72: 85 29        	sta	<L69+prect_1+2
  3438                        ;
  3439                        ;					k_draw_rect(prec
                    t->x,
  3440                        	.line	484
  3441                        ;							
                    	prect->y,
  3442                        ;							
                    	prect->x + prect->width - 1,
  3443                        ;							
                    	prect->y + prect->height - 1,
  Mon Sep 27 2021  9:39                                                Page 68


  3444                        ;							
                    	FILLCOLOR_TRANSPARENT,
  3445                        ;							
                    	NULL,
  3446                        ;							
                    	BITMAP_FRONT);
  3447 06:9E74: F4 00 00     	pea	#<$0
  3448 06:9E77: F4 00 00     	pea	#<$0
  3449 06:9E7A: F4 00 00     	pea	#<$0
  3450 06:9E7D: 18           	clc
  3451 06:9E7E: A0 02 00     	ldy	#$2
  3452 06:9E81: B7 27        	lda	[<L69+prect_1],Y
  3453 06:9E83: A0 08 00     	ldy	#$8
  3454 06:9E86: 77 27        	adc	[<L69+prect_1],Y
  3455 06:9E88: 85 01        	sta	<R0
  3456 06:9E8A: 18           	clc
  3457 06:9E8B: A9 FF FF     	lda	#$ffff
  3458 06:9E8E: 65 01        	adc	<R0
  3459 06:9E90: 48           	pha
  3460 06:9E91: 18           	clc
  3461 06:9E92: A7 27        	lda	[<L69+prect_1]
  3462 06:9E94: A0 06 00     	ldy	#$6
  3463 06:9E97: 77 27        	adc	[<L69+prect_1],Y
  3464 06:9E99: 85 01        	sta	<R0
  3465 06:9E9B: 18           	clc
  3466 06:9E9C: A9 FF FF     	lda	#$ffff
  3467 06:9E9F: 65 01        	adc	<R0
  3468 06:9EA1: 48           	pha
  3469 06:9EA2: A0 02 00     	ldy	#$2
  3470 06:9EA5: B7 27        	lda	[<L69+prect_1],Y
  3471 06:9EA7: 48           	pha
  3472 06:9EA8: A7 27        	lda	[<L69+prect_1]
  3473 06:9EAA: 48           	pha
  3474 06:9EAB: 22 xx xx xx  	jsl	~~k_draw_rect
  3475                        ;
  3476                        ;
  3477                        ;					k_nodelist_clear
                    _list(ppc->colorHits);
  3478                        	.line	493
  3479 06:9EAF: A0 0D 00     	ldy	#$d
  3480 06:9EB2: B7 23        	lda	[<L69+ppc_1],Y
  3481 06:9EB4: 48           	pha
  3482 06:9EB5: A0 0B 00     	ldy	#$b
  3483 06:9EB8: B7 23        	lda	[<L69+ppc_1],Y
  3484 06:9EBA: 48           	pha
  3485 06:9EBB: 22 xx xx xx  	jsl	~~k_nodelist_clear_list
  3486                        ;					k_nodelist_deall
                    ocate_list(ppc->colorHits);
  3487                        	.line	494
  3488 06:9EBF: A0 0D 00     	ldy	#$d
  3489 06:9EC2: B7 23        	lda	[<L69+ppc_1],Y
  3490 06:9EC4: 48           	pha
  3491 06:9EC5: A0 0B 00     	ldy	#$b
  3492 06:9EC8: B7 23        	lda	[<L69+ppc_1],Y
  3493 06:9ECA: 48           	pha
  3494 06:9ECB: 22 xx xx xx  	jsl	~~k_nodelist_deallocate_list
  3495                        ;				}
  3496                        	.line	495
  Mon Sep 27 2021  9:39                                                Page 69


  3497                        ;
  3498                        ;			}
  3499                        L10066:
  3500                        	.line	497
  3501                        ;			break;
  3502                        L10065:
  3503                        	.line	498
  3504 06:9ECF: 82 E5 05     	brl	L10063
  3505                        ;		case FX_CREATE_WINDOW:
  3506                        	.line	499
  3507                        L10067:
  3508                        ;			if(p)
  3509                        	.line	500
  3510                        ;			{
  3511 06:9ED2: A5 11        	lda	<L69+p_1
  3512 06:9ED4: 05 13        	ora	<L69+p_1+2
  3513 06:9ED6: D0 03        	bne	L74
  3514 06:9ED8: 82 AF 00     	brl	L10068
  3515                        L74:
  3516                        	.line	501
  3517                        ;				k_debug_long("PaletteWin
                    dowProc::FX_CREATE_WINDOW:",p->procId);
  3518                        	.line	502
  3519 06:9EDB: A0 04 00     	ldy	#$4
  3520 06:9EDE: B7 11        	lda	[<L69+p_1],Y
  3521 06:9EE0: 48           	pha
  3522 06:9EE1: A0 02 00     	ldy	#$2
  3523 06:9EE4: B7 11        	lda	[<L69+p_1],Y
  3524 06:9EE6: 48           	pha
  3525 06:9EE7: F4 xx xx     	pea	#^L67
  3526 06:9EEA: F4 xx xx     	pea	#<L67
  3527 06:9EED: 22 xx xx xx  	jsl	~~k_debug_long
  3528                        ;
  3529                        ;				pWin = k_getWindowFromHa
                    ndle(pMsg->hwnd);
  3530                        	.line	504
  3531 06:9EF1: A0 0C 00     	ldy	#$c
  3532 06:9EF4: B7 3A        	lda	[<L68+pMsg_0],Y
  3533 06:9EF6: 48           	pha
  3534 06:9EF7: A0 0A 00     	ldy	#$a
  3535 06:9EFA: B7 3A        	lda	[<L68+pMsg_0],Y
  3536 06:9EFC: 48           	pha
  3537 06:9EFD: 22 xx xx xx  	jsl	~~k_getWindowFromHandle
  3538 06:9F01: 85 15        	sta	<L69+pWin_1
  3539 06:9F03: 86 17        	stx	<L69+pWin_1+2
  3540                        ;				if(pWin)
  3541                        	.line	505
  3542                        ;				{
  3543 06:9F05: A5 15        	lda	<L69+pWin_1
  3544 06:9F07: 05 17        	ora	<L69+pWin_1+2
  3545 06:9F09: D0 03        	bne	L75
  3546 06:9F0B: 82 7C 00     	brl	L10069
  3547                        L75:
  3548                        	.line	506
  3549                        ;					pWin->hBackgroun
                    d = COLORBRUSH(k_getUIMenuColor());
  3550                        	.line	507
  3551 06:9F0E: 22 xx xx xx  	jsl	~~k_getUIMenuColor
  Mon Sep 27 2021  9:39                                                Page 70


  3552 06:9F12: 85 01        	sta	<R0
  3553 06:9F14: A0 00 00     	ldy	#$0
  3554 06:9F17: A5 01        	lda	<R0
  3555 06:9F19: 10 01        	bpl	L76
  3556 06:9F1B: 88           	dey
  3557                        L76:
  3558 06:9F1C: 85 01        	sta	<R0
  3559 06:9F1E: 84 03        	sty	<R0+2
  3560 06:9F20: A5 01        	lda	<R0
  3561 06:9F22: A0 B8 01     	ldy	#$1b8
  3562 06:9F25: 97 15        	sta	[<L69+pWin_1],Y
  3563 06:9F27: A5 03        	lda	<R0+2
  3564 06:9F29: A0 BA 01     	ldy	#$1ba
  3565 06:9F2C: 97 15        	sta	[<L69+pWin_1],Y
  3566                        ;
  3567                        ;					pWin->windowData
                     = k_mem_allocate_heap(sizeof(PALETTECONTROL));
  3568                        	.line	509
  3569 06:9F2E: F4 00 00     	pea	#^$f
  3570 06:9F31: F4 0F 00     	pea	#<$f
  3571 06:9F34: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  3572 06:9F38: 85 01        	sta	<R0
  3573 06:9F3A: 86 03        	stx	<R0+2
  3574 06:9F3C: A5 01        	lda	<R0
  3575 06:9F3E: A0 C5 01     	ldy	#$1c5
  3576 06:9F41: 97 15        	sta	[<L69+pWin_1],Y
  3577 06:9F43: A5 03        	lda	<R0+2
  3578 06:9F45: A0 C7 01     	ldy	#$1c7
  3579 06:9F48: 97 15        	sta	[<L69+pWin_1],Y
  3580                        ;
  3581                        ;					ppc = ((PPALETTE
                    CONTROL)pWin->windowData);
  3582                        	.line	511
  3583 06:9F4A: A0 C5 01     	ldy	#$1c5
  3584 06:9F4D: B7 15        	lda	[<L69+pWin_1],Y
  3585 06:9F4F: 85 23        	sta	<L69+ppc_1
  3586 06:9F51: A0 C7 01     	ldy	#$1c7
  3587 06:9F54: B7 15        	lda	[<L69+pWin_1],Y
  3588 06:9F56: 85 25        	sta	<L69+ppc_1+2
  3589                        ;					ppc->bInit = FAL
                    SE;
  3590                        	.line	512
  3591 06:9F58: E2 20        	sep	#$20
  3592                        	longa	off
  3593 06:9F5A: A9 00        	lda	#$0
  3594 06:9F5C: 87 23        	sta	[<L69+ppc_1]
  3595 06:9F5E: C2 20        	rep	#$20
  3596                        	longa	on
  3597                        ;					ppc->cColor = -1
                    ;
  3598                        	.line	513
  3599 06:9F60: A9 FF FF     	lda	#$ffff
  3600 06:9F63: A0 01 00     	ldy	#$1
  3601 06:9F66: 97 23        	sta	[<L69+ppc_1],Y
  3602                        ;					ppc->colorHits =
                     k_nodelist_allocate_list("_palette_color_list",deallocate_r
                    ect);
  3603                        	.line	514
  Mon Sep 27 2021  9:39                                                Page 71


  3604 06:9F68: F4 06 00     	pea	#^~~deallocate_rect
  3605 06:9F6B: F4 84 9C     	pea	#<~~deallocate_rect
  3606 06:9F6E: F4 xx xx     	pea	#^L67+37
  3607 06:9F71: F4 xx xx     	pea	#<L67+37
  3608 06:9F74: 22 xx xx xx  	jsl	~~k_nodelist_allocate_list
  3609 06:9F78: 85 01        	sta	<R0
  3610 06:9F7A: 86 03        	stx	<R0+2
  3611 06:9F7C: A5 01        	lda	<R0
  3612 06:9F7E: A0 0B 00     	ldy	#$b
  3613 06:9F81: 97 23        	sta	[<L69+ppc_1],Y
  3614 06:9F83: A5 03        	lda	<R0+2
  3615 06:9F85: A0 0D 00     	ldy	#$d
  3616 06:9F88: 97 23        	sta	[<L69+ppc_1],Y
  3617                        ;				}
  3618                        	.line	515
  3619                        ;			}
  3620                        L10069:
  3621                        	.line	516
  3622                        ;			return TRUE;
  3623                        L10068:
  3624                        	.line	517
  3625 06:9F8A: A9 01 00     	lda	#$1
  3626                        L77:
  3627 06:9F8D: A8           	tay
  3628 06:9F8E: A5 38        	lda	<L68+2
  3629 06:9F90: 85 3C        	sta	<L68+2+4
  3630 06:9F92: A5 37        	lda	<L68+1
  3631 06:9F94: 85 3B        	sta	<L68+1+4
  3632 06:9F96: 2B           	pld
  3633 06:9F97: 3B           	tsc
  3634 06:9F98: 18           	clc
  3635 06:9F99: 69 3A 00     	adc	#L68+4
  3636 06:9F9C: 1B           	tcs
  3637 06:9F9D: 98           	tya
  3638 06:9F9E: 6B           	rtl
  3639                        ;			break;
  3640                        	.line	518
  3641                        ;
  3642                        ;		case FX_DRAW_WINDOW:
  3643                        	.line	520
  3644                        L10070:
  3645                        ;			pWin = k_getWindowFromHandle(pMs
                    g->hwnd);
  3646                        	.line	521
  3647 06:9F9F: A0 0C 00     	ldy	#$c
  3648 06:9FA2: B7 3A        	lda	[<L68+pMsg_0],Y
  3649 06:9FA4: 48           	pha
  3650 06:9FA5: A0 0A 00     	ldy	#$a
  3651 06:9FA8: B7 3A        	lda	[<L68+pMsg_0],Y
  3652 06:9FAA: 48           	pha
  3653 06:9FAB: 22 xx xx xx  	jsl	~~k_getWindowFromHandle
  3654 06:9FAF: 85 15        	sta	<L69+pWin_1
  3655 06:9FB1: 86 17        	stx	<L69+pWin_1+2
  3656                        ;			if(pWin)
  3657                        	.line	522
  3658                        ;			{
  3659 06:9FB3: A5 15        	lda	<L69+pWin_1
  3660 06:9FB5: 05 17        	ora	<L69+pWin_1+2
  Mon Sep 27 2021  9:39                                                Page 72


  3661 06:9FB7: D0 03        	bne	L78
  3662 06:9FB9: 82 D2 01     	brl	L10071
  3663                        L78:
  3664                        	.line	523
  3665                        ;				ppc = ((PPALETTECONTROL)
                    pWin->windowData);
  3666                        	.line	524
  3667 06:9FBC: A0 C5 01     	ldy	#$1c5
  3668 06:9FBF: B7 15        	lda	[<L69+pWin_1],Y
  3669 06:9FC1: 85 23        	sta	<L69+ppc_1
  3670 06:9FC3: A0 C7 01     	ldy	#$1c7
  3671 06:9FC6: B7 15        	lda	[<L69+pWin_1],Y
  3672 06:9FC8: 85 25        	sta	<L69+ppc_1+2
  3673                        ;
  3674                        ;
  3675                        ;				k_vdma_fill_rect_ex(pWin
                    ->clientRect.x,
  3676                        	.line	527
  3677                        ;							
                    		pWin->clientRect.y,
  3678                        ;							
                    		pWin->clientRect.width,
  3679                        ;							
                    		pWin->clientRect.height,
  3680                        ;							
                    		BRUSHCOLOR(pWin->hBackground),
  3681                        ;							
                    		pWin->nBitmapLayer);
  3682 06:9FCA: A0 9E 01     	ldy	#$19e
  3683 06:9FCD: B7 15        	lda	[<L69+pWin_1],Y
  3684 06:9FCF: 48           	pha
  3685 06:9FD0: A0 B8 01     	ldy	#$1b8
  3686 06:9FD3: B7 15        	lda	[<L69+pWin_1],Y
  3687 06:9FD5: 48           	pha
  3688 06:9FD6: A0 34 00     	ldy	#$34
  3689 06:9FD9: B7 15        	lda	[<L69+pWin_1],Y
  3690 06:9FDB: 48           	pha
  3691 06:9FDC: A0 32 00     	ldy	#$32
  3692 06:9FDF: B7 15        	lda	[<L69+pWin_1],Y
  3693 06:9FE1: 48           	pha
  3694 06:9FE2: A0 00 00     	ldy	#$0
  3695 06:9FE5: 5A           	phy
  3696 06:9FE6: A0 2C 00     	ldy	#$2c
  3697 06:9FE9: B7 15        	lda	[<L69+pWin_1],Y
  3698 06:9FEB: 7A           	ply
  3699 06:9FEC: 2A           	rol	A
  3700 06:9FED: 6A           	ror	A
  3701 06:9FEE: 10 01        	bpl	L79
  3702 06:9FF0: 88           	dey
  3703                        L79:
  3704 06:9FF1: 85 01        	sta	<R0
  3705 06:9FF3: 84 03        	sty	<R0+2
  3706 06:9FF5: D4 03        	pei	<R0+2
  3707 06:9FF7: D4 01        	pei	<R0
  3708 06:9FF9: A0 00 00     	ldy	#$0
  3709 06:9FFC: 5A           	phy
  3710 06:9FFD: A0 2A 00     	ldy	#$2a
  3711 06:A000: B7 15        	lda	[<L69+pWin_1],Y
  Mon Sep 27 2021  9:39                                                Page 73


  3712 06:A002: 7A           	ply
  3713 06:A003: 2A           	rol	A
  3714 06:A004: 6A           	ror	A
  3715 06:A005: 10 01        	bpl	L80
  3716 06:A007: 88           	dey
  3717                        L80:
  3718 06:A008: 85 05        	sta	<R1
  3719 06:A00A: 84 07        	sty	<R1+2
  3720 06:A00C: D4 07        	pei	<R1+2
  3721 06:A00E: D4 05        	pei	<R1
  3722 06:A010: 22 xx xx xx  	jsl	~~k_vdma_fill_rect_ex
  3723                        ;
  3724                        ;
  3725                        ;				value = 0;
  3726                        	.line	535
  3727 06:A014: 64 1D        	stz	<L69+value_1
  3728                        ;
  3729                        ;				for(yindex = 0;yindex<16
                    ;yindex++)
  3730                        	.line	537
  3731 06:A016: 64 1B        	stz	<L69+yindex_1
  3732                        L10074:
  3733                        ;				{
  3734                        	.line	538
  3735                        ;					for(xindex = 0;x
                    index<16;xindex++)
  3736                        	.line	539
  3737 06:A018: 64 19        	stz	<L69+xindex_1
  3738                        L10077:
  3739                        ;					{
  3740                        	.line	540
  3741                        ;						k_vdma_f
                    ill_rect_ex(pWin->clientRect.x + (xindex * COLOR_SELECT_SIZE
                    ),
  3742                        	.line	541
  3743                        ;							
                    				pWin->clientRect.y + (yindex * C
                    OLOR_SELECT_SIZE),
  3744                        ;							
                    				COLOR_SELECT_SIZE,
  3745                        ;							
                    				COLOR_SELECT_SIZE,
  3746                        ;							
                    				value++,
  3747                        ;							
                    				pWin->nBitmapLayer);
  3748 06:A01A: A0 9E 01     	ldy	#$19e
  3749 06:A01D: B7 15        	lda	[<L69+pWin_1],Y
  3750 06:A01F: 48           	pha
  3751 06:A020: A5 1D        	lda	<L69+value_1
  3752 06:A022: 85 01        	sta	<R0
  3753 06:A024: E6 1D        	inc	<L69+value_1
  3754 06:A026: D4 01        	pei	<R0
  3755 06:A028: F4 10 00     	pea	#<$10
  3756 06:A02B: F4 10 00     	pea	#<$10
  3757 06:A02E: A5 1B        	lda	<L69+yindex_1
  3758 06:A030: 0A           	asl	A
  3759 06:A031: 0A           	asl	A
  Mon Sep 27 2021  9:39                                                Page 74


  3760 06:A032: 0A           	asl	A
  3761 06:A033: 0A           	asl	A
  3762 06:A034: 85 05        	sta	<R1
  3763 06:A036: 18           	clc
  3764 06:A037: A5 05        	lda	<R1
  3765 06:A039: A0 2C 00     	ldy	#$2c
  3766 06:A03C: 77 15        	adc	[<L69+pWin_1],Y
  3767 06:A03E: 85 09        	sta	<R2
  3768 06:A040: A0 00 00     	ldy	#$0
  3769 06:A043: A5 09        	lda	<R2
  3770 06:A045: 10 01        	bpl	L81
  3771 06:A047: 88           	dey
  3772                        L81:
  3773 06:A048: 85 05        	sta	<R1
  3774 06:A04A: 84 07        	sty	<R1+2
  3775 06:A04C: D4 07        	pei	<R1+2
  3776 06:A04E: D4 05        	pei	<R1
  3777 06:A050: A5 19        	lda	<L69+xindex_1
  3778 06:A052: 0A           	asl	A
  3779 06:A053: 0A           	asl	A
  3780 06:A054: 0A           	asl	A
  3781 06:A055: 0A           	asl	A
  3782 06:A056: 85 09        	sta	<R2
  3783 06:A058: 18           	clc
  3784 06:A059: A5 09        	lda	<R2
  3785 06:A05B: A0 2A 00     	ldy	#$2a
  3786 06:A05E: 77 15        	adc	[<L69+pWin_1],Y
  3787 06:A060: 85 0D        	sta	<R3
  3788 06:A062: A0 00 00     	ldy	#$0
  3789 06:A065: A5 0D        	lda	<R3
  3790 06:A067: 10 01        	bpl	L82
  3791 06:A069: 88           	dey
  3792                        L82:
  3793 06:A06A: 85 09        	sta	<R2
  3794 06:A06C: 84 0B        	sty	<R2+2
  3795 06:A06E: D4 0B        	pei	<R2+2
  3796 06:A070: D4 09        	pei	<R2
  3797 06:A072: 22 xx xx xx  	jsl	~~k_vdma_fill_rect_ex
  3798                        ;					}
  3799                        	.line	547
  3800                        L10075:
  3801 06:A076: E6 19        	inc	<L69+xindex_1
  3802 06:A078: 38           	sec
  3803 06:A079: A5 19        	lda	<L69+xindex_1
  3804 06:A07B: E9 10 00     	sbc	#<$10
  3805 06:A07E: 70 03        	bvs	L83
  3806 06:A080: 49 00 80     	eor	#$8000
  3807                        L83:
  3808 06:A083: 30 03        	bmi	L84
  3809 06:A085: 82 92 FF     	brl	L10077
  3810                        L84:
  3811                        L10076:
  3812                        ;				}
  3813                        	.line	548
  3814                        L10072:
  3815 06:A088: E6 1B        	inc	<L69+yindex_1
  3816 06:A08A: 38           	sec
  3817 06:A08B: A5 1B        	lda	<L69+yindex_1
  Mon Sep 27 2021  9:39                                                Page 75


  3818 06:A08D: E9 10 00     	sbc	#<$10
  3819 06:A090: 70 03        	bvs	L85
  3820 06:A092: 49 00 80     	eor	#$8000
  3821                        L85:
  3822 06:A095: 30 03        	bmi	L86
  3823 06:A097: 82 7E FF     	brl	L10074
  3824                        L86:
  3825                        L10073:
  3826                        ;
  3827                        ;				drawSwatchInfo(pWin,ppc)
                    ;
  3828                        	.line	550
  3829 06:A09A: D4 25        	pei	<L69+ppc_1+2
  3830 06:A09C: D4 23        	pei	<L69+ppc_1
  3831 06:A09E: D4 17        	pei	<L69+pWin_1+2
  3832 06:A0A0: D4 15        	pei	<L69+pWin_1
  3833 06:A0A2: 22 AD 9C 06  	jsl	~~drawSwatchInfo
  3834                        ;
  3835                        ;				k_user_setMousePointer(P
                    OINTER_STYLE_HOURGLASS);
  3836                        	.line	552
  3837 06:A0A6: F4 xx xx     	pea	#^L67+57
  3838 06:A0A9: F4 xx xx     	pea	#<L67+57
  3839 06:A0AC: 22 xx xx xx  	jsl	~~k_user_setMousePointer
  3840                        ;
  3841                        ;				if(!ppc->bInit)
  3842                        	.line	554
  3843                        ;				{
  3844 06:A0B0: A7 23        	lda	[<L69+ppc_1]
  3845 06:A0B2: 29 FF 00     	and	#$ff
  3846 06:A0B5: F0 03        	beq	L87
  3847 06:A0B7: 82 CA 00     	brl	L10078
  3848                        L87:
  3849                        	.line	555
  3850                        ;					k_nodelist_clear
                    _list(ppc->colorHits);
  3851                        	.line	556
  3852 06:A0BA: A0 0D 00     	ldy	#$d
  3853 06:A0BD: B7 23        	lda	[<L69+ppc_1],Y
  3854 06:A0BF: 48           	pha
  3855 06:A0C0: A0 0B 00     	ldy	#$b
  3856 06:A0C3: B7 23        	lda	[<L69+ppc_1],Y
  3857 06:A0C5: 48           	pha
  3858 06:A0C6: 22 xx xx xx  	jsl	~~k_nodelist_clear_list
  3859                        ;
  3860                        ;					value = 0;
  3861                        	.line	558
  3862 06:A0CA: 64 1D        	stz	<L69+value_1
  3863                        ;
  3864                        ;					for(yindex = 0;y
                    index<16;yindex++)
  3865                        	.line	560
  3866 06:A0CC: 64 1B        	stz	<L69+yindex_1
  3867                        L10081:
  3868                        ;					{
  3869                        	.line	561
  3870                        ;						for(xind
                    ex = 0;xindex<16;xindex++)
  Mon Sep 27 2021  9:39                                                Page 76


  3871                        	.line	562
  3872 06:A0CE: 64 19        	stz	<L69+xindex_1
  3873                        L10084:
  3874                        ;						{
  3875                        	.line	563
  3876                        ;							
                    prect = k_mem_allocate_heap(sizeof(DRECT));
  3877                        	.line	564
  3878 06:A0D0: F4 00 00     	pea	#^$e
  3879 06:A0D3: F4 0E 00     	pea	#<$e
  3880 06:A0D6: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  3881 06:A0DA: 85 27        	sta	<L69+prect_1
  3882 06:A0DC: 86 29        	stx	<L69+prect_1+2
  3883                        ;
  3884                        ;							
                    prect->x = pWin->clientRect.x + (xindex * COLOR_SELECT_SIZE)
                    ;
  3885                        	.line	566
  3886 06:A0DE: A5 19        	lda	<L69+xindex_1
  3887 06:A0E0: 0A           	asl	A
  3888 06:A0E1: 0A           	asl	A
  3889 06:A0E2: 0A           	asl	A
  3890 06:A0E3: 0A           	asl	A
  3891 06:A0E4: 85 01        	sta	<R0
  3892 06:A0E6: 18           	clc
  3893 06:A0E7: A5 01        	lda	<R0
  3894 06:A0E9: A0 2A 00     	ldy	#$2a
  3895 06:A0EC: 77 15        	adc	[<L69+pWin_1],Y
  3896 06:A0EE: 87 27        	sta	[<L69+prect_1]
  3897                        ;							
                    prect->y = pWin->clientRect.y + (yindex * COLOR_SELECT_SIZE)
                    ;
  3898                        	.line	567
  3899 06:A0F0: A5 1B        	lda	<L69+yindex_1
  3900 06:A0F2: 0A           	asl	A
  3901 06:A0F3: 0A           	asl	A
  3902 06:A0F4: 0A           	asl	A
  3903 06:A0F5: 0A           	asl	A
  3904 06:A0F6: 85 01        	sta	<R0
  3905 06:A0F8: 18           	clc
  3906 06:A0F9: A5 01        	lda	<R0
  3907 06:A0FB: A0 2C 00     	ldy	#$2c
  3908 06:A0FE: 77 15        	adc	[<L69+pWin_1],Y
  3909 06:A100: A0 02 00     	ldy	#$2
  3910 06:A103: 97 27        	sta	[<L69+prect_1],Y
  3911                        ;							
                    prect->width  = COLOR_SELECT_SIZE;
  3912                        	.line	568
  3913 06:A105: A9 10 00     	lda	#$10
  3914 06:A108: A0 06 00     	ldy	#$6
  3915 06:A10B: 97 27        	sta	[<L69+prect_1],Y
  3916                        ;							
                    prect->height = COLOR_SELECT_SIZE;
  3917                        	.line	569
  3918 06:A10D: A9 10 00     	lda	#$10
  3919 06:A110: A0 08 00     	ldy	#$8
  3920 06:A113: 97 27        	sta	[<L69+prect_1],Y
  3921                        ;							
  Mon Sep 27 2021  9:39                                                Page 77


                    prect->data = (ULONG)value++;
  3922                        	.line	570
  3923 06:A115: A0 00 00     	ldy	#$0
  3924 06:A118: A5 1D        	lda	<L69+value_1
  3925 06:A11A: 10 01        	bpl	L88
  3926 06:A11C: 88           	dey
  3927                        L88:
  3928 06:A11D: 85 01        	sta	<R0
  3929 06:A11F: 84 03        	sty	<R0+2
  3930 06:A121: A5 01        	lda	<R0
  3931 06:A123: A0 0A 00     	ldy	#$a
  3932 06:A126: 97 27        	sta	[<L69+prect_1],Y
  3933 06:A128: A5 03        	lda	<R0+2
  3934 06:A12A: A0 0C 00     	ldy	#$c
  3935 06:A12D: 97 27        	sta	[<L69+prect_1],Y
  3936 06:A12F: E6 1D        	inc	<L69+value_1
  3937                        ;
  3938                        ;							
                    k_nodelist_naddtolist(ppc->colorHits,1,(ULONG)value,prect);
  3939                        	.line	572
  3940 06:A131: D4 29        	pei	<L69+prect_1+2
  3941 06:A133: D4 27        	pei	<L69+prect_1
  3942 06:A135: A0 00 00     	ldy	#$0
  3943 06:A138: A5 1D        	lda	<L69+value_1
  3944 06:A13A: 10 01        	bpl	L89
  3945 06:A13C: 88           	dey
  3946                        L89:
  3947 06:A13D: 85 01        	sta	<R0
  3948 06:A13F: 84 03        	sty	<R0+2
  3949 06:A141: D4 03        	pei	<R0+2
  3950 06:A143: D4 01        	pei	<R0
  3951 06:A145: F4 01 00     	pea	#<$1
  3952 06:A148: A0 0D 00     	ldy	#$d
  3953 06:A14B: B7 23        	lda	[<L69+ppc_1],Y
  3954 06:A14D: 48           	pha
  3955 06:A14E: A0 0B 00     	ldy	#$b
  3956 06:A151: B7 23        	lda	[<L69+ppc_1],Y
  3957 06:A153: 48           	pha
  3958 06:A154: 22 xx xx xx  	jsl	~~k_nodelist_naddtolist
  3959                        ;						}
  3960                        	.line	573
  3961                        L10082:
  3962 06:A158: E6 19        	inc	<L69+xindex_1
  3963 06:A15A: 38           	sec
  3964 06:A15B: A5 19        	lda	<L69+xindex_1
  3965 06:A15D: E9 10 00     	sbc	#<$10
  3966 06:A160: 70 03        	bvs	L90
  3967 06:A162: 49 00 80     	eor	#$8000
  3968                        L90:
  3969 06:A165: 30 03        	bmi	L91
  3970 06:A167: 82 66 FF     	brl	L10084
  3971                        L91:
  3972                        L10083:
  3973                        ;					}
  3974                        	.line	574
  3975                        L10079:
  3976 06:A16A: E6 1B        	inc	<L69+yindex_1
  3977 06:A16C: 38           	sec
  Mon Sep 27 2021  9:39                                                Page 78


  3978 06:A16D: A5 1B        	lda	<L69+yindex_1
  3979 06:A16F: E9 10 00     	sbc	#<$10
  3980 06:A172: 70 03        	bvs	L92
  3981 06:A174: 49 00 80     	eor	#$8000
  3982                        L92:
  3983 06:A177: 30 03        	bmi	L93
  3984 06:A179: 82 52 FF     	brl	L10081
  3985                        L93:
  3986                        L10080:
  3987                        ;					ppc->bInit = TRU
                    E;
  3988                        	.line	575
  3989 06:A17C: E2 20        	sep	#$20
  3990                        	longa	off
  3991 06:A17E: A9 01        	lda	#$1
  3992 06:A180: 87 23        	sta	[<L69+ppc_1]
  3993 06:A182: C2 20        	rep	#$20
  3994                        	longa	on
  3995                        ;				}
  3996                        	.line	576
  3997                        ;
  3998                        ;				k_user_setMousePointer(P
                    OINTER_STYLE_ARROW);
  3999                        L10078:
  4000                        	.line	578
  4001 06:A184: F4 xx xx     	pea	#^L67+67
  4002 06:A187: F4 xx xx     	pea	#<L67+67
  4003 06:A18A: 22 xx xx xx  	jsl	~~k_user_setMousePointer
  4004                        ;
  4005                        ;			}
  4006                        	.line	580
  4007                        ;			break;
  4008                        L10071:
  4009                        	.line	581
  4010 06:A18E: 82 26 03     	brl	L10063
  4011                        ;		case FX_CONTROL_COMMAND:
  4012                        	.line	582
  4013                        L10085:
  4014                        ;			break;
  4015                        	.line	583
  4016 06:A191: 82 23 03     	brl	L10063
  4017                        ;		case FX_DRAG_WINDOW_END:
  4018                        	.line	584
  4019                        L10086:
  4020                        ;			pWin = k_getWindowFromHandle(pMs
                    g->hwnd);
  4021                        	.line	585
  4022 06:A194: A0 0C 00     	ldy	#$c
  4023 06:A197: B7 3A        	lda	[<L68+pMsg_0],Y
  4024 06:A199: 48           	pha
  4025 06:A19A: A0 0A 00     	ldy	#$a
  4026 06:A19D: B7 3A        	lda	[<L68+pMsg_0],Y
  4027 06:A19F: 48           	pha
  4028 06:A1A0: 22 xx xx xx  	jsl	~~k_getWindowFromHandle
  4029 06:A1A4: 85 15        	sta	<L69+pWin_1
  4030 06:A1A6: 86 17        	stx	<L69+pWin_1+2
  4031                        ;			if(pWin)
  4032                        	.line	586
  Mon Sep 27 2021  9:39                                                Page 79


  4033                        ;			{
  4034 06:A1A8: A5 15        	lda	<L69+pWin_1
  4035 06:A1AA: 05 17        	ora	<L69+pWin_1+2
  4036 06:A1AC: D0 03        	bne	L94
  4037 06:A1AE: 82 AC 00     	brl	L10087
  4038                        L94:
  4039                        	.line	587
  4040                        ;				ppc = ((PPALETTECONTROL)
                    pWin->windowData);
  4041                        	.line	588
  4042 06:A1B1: A0 C5 01     	ldy	#$1c5
  4043 06:A1B4: B7 15        	lda	[<L69+pWin_1],Y
  4044 06:A1B6: 85 23        	sta	<L69+ppc_1
  4045 06:A1B8: A0 C7 01     	ldy	#$1c7
  4046 06:A1BB: B7 15        	lda	[<L69+pWin_1],Y
  4047 06:A1BD: 85 25        	sta	<L69+ppc_1+2
  4048                        ;				ppc->bInit = FALSE;
  4049                        	.line	589
  4050 06:A1BF: E2 20        	sep	#$20
  4051                        	longa	off
  4052 06:A1C1: A9 00        	lda	#$0
  4053 06:A1C3: 87 23        	sta	[<L69+ppc_1]
  4054 06:A1C5: C2 20        	rep	#$20
  4055                        	longa	on
  4056                        ;
  4057                        ;				if(ppc->selectedNode)
  4058                        	.line	591
  4059                        ;				{
  4060 06:A1C7: A0 07 00     	ldy	#$7
  4061 06:A1CA: B7 23        	lda	[<L69+ppc_1],Y
  4062 06:A1CC: A0 09 00     	ldy	#$9
  4063 06:A1CF: 17 23        	ora	[<L69+ppc_1],Y
  4064 06:A1D1: D0 03        	bne	L95
  4065 06:A1D3: 82 87 00     	brl	L10088
  4066                        L95:
  4067                        	.line	592
  4068                        ;					prect = (PDRECT)
                    (ppc->selectedNode->data);
  4069                        	.line	593
  4070 06:A1D6: A0 07 00     	ldy	#$7
  4071 06:A1D9: B7 23        	lda	[<L69+ppc_1],Y
  4072 06:A1DB: 85 01        	sta	<R0
  4073 06:A1DD: A0 09 00     	ldy	#$9
  4074 06:A1E0: B7 23        	lda	[<L69+ppc_1],Y
  4075 06:A1E2: 85 03        	sta	<R0+2
  4076 06:A1E4: A0 02 00     	ldy	#$2
  4077 06:A1E7: B7 01        	lda	[<R0],Y
  4078 06:A1E9: 85 27        	sta	<L69+prect_1
  4079 06:A1EB: A0 04 00     	ldy	#$4
  4080 06:A1EE: B7 01        	lda	[<R0],Y
  4081 06:A1F0: 85 29        	sta	<L69+prect_1+2
  4082                        ;
  4083                        ;					k_draw_rect(prec
                    t->x,
  4084                        	.line	595
  4085                        ;							
                    	prect->y,
  4086                        ;							
  Mon Sep 27 2021  9:39                                                Page 80


                    	prect->x + prect->width - 1,
  4087                        ;							
                    	prect->y + prect->height - 1,
  4088                        ;							
                    	FILLCOLOR_TRANSPARENT,
  4089                        ;							
                    	NULL,
  4090                        ;							
                    	BITMAP_FRONT);
  4091 06:A1F2: F4 00 00     	pea	#<$0
  4092 06:A1F5: F4 00 00     	pea	#<$0
  4093 06:A1F8: F4 00 00     	pea	#<$0
  4094 06:A1FB: 18           	clc
  4095 06:A1FC: A0 02 00     	ldy	#$2
  4096 06:A1FF: B7 27        	lda	[<L69+prect_1],Y
  4097 06:A201: A0 08 00     	ldy	#$8
  4098 06:A204: 77 27        	adc	[<L69+prect_1],Y
  4099 06:A206: 85 01        	sta	<R0
  4100 06:A208: 18           	clc
  4101 06:A209: A9 FF FF     	lda	#$ffff
  4102 06:A20C: 65 01        	adc	<R0
  4103 06:A20E: 48           	pha
  4104 06:A20F: 18           	clc
  4105 06:A210: A7 27        	lda	[<L69+prect_1]
  4106 06:A212: A0 06 00     	ldy	#$6
  4107 06:A215: 77 27        	adc	[<L69+prect_1],Y
  4108 06:A217: 85 01        	sta	<R0
  4109 06:A219: 18           	clc
  4110 06:A21A: A9 FF FF     	lda	#$ffff
  4111 06:A21D: 65 01        	adc	<R0
  4112 06:A21F: 48           	pha
  4113 06:A220: A0 02 00     	ldy	#$2
  4114 06:A223: B7 27        	lda	[<L69+prect_1],Y
  4115 06:A225: 48           	pha
  4116 06:A226: A7 27        	lda	[<L69+prect_1]
  4117 06:A228: 48           	pha
  4118 06:A229: 22 xx xx xx  	jsl	~~k_draw_rect
  4119                        ;
  4120                        ;
  4121                        ;					k_nodelist_clear
                    _list(ppc->colorHits);
  4122                        	.line	604
  4123 06:A22D: A0 0D 00     	ldy	#$d
  4124 06:A230: B7 23        	lda	[<L69+ppc_1],Y
  4125 06:A232: 48           	pha
  4126 06:A233: A0 0B 00     	ldy	#$b
  4127 06:A236: B7 23        	lda	[<L69+ppc_1],Y
  4128 06:A238: 48           	pha
  4129 06:A239: 22 xx xx xx  	jsl	~~k_nodelist_clear_list
  4130                        ;					ppc->node = NULL
                    ;
  4131                        	.line	605
  4132 06:A23D: A9 00 00     	lda	#$0
  4133 06:A240: A0 03 00     	ldy	#$3
  4134 06:A243: 97 23        	sta	[<L69+ppc_1],Y
  4135 06:A245: A9 00 00     	lda	#$0
  4136 06:A248: A0 05 00     	ldy	#$5
  4137 06:A24B: 97 23        	sta	[<L69+ppc_1],Y
  Mon Sep 27 2021  9:39                                                Page 81


  4138                        ;					ppc->selectedNod
                    e = NULL;
  4139                        	.line	606
  4140 06:A24D: A9 00 00     	lda	#$0
  4141 06:A250: A0 07 00     	ldy	#$7
  4142 06:A253: 97 23        	sta	[<L69+ppc_1],Y
  4143 06:A255: A9 00 00     	lda	#$0
  4144 06:A258: A0 09 00     	ldy	#$9
  4145 06:A25B: 97 23        	sta	[<L69+ppc_1],Y
  4146                        ;				}
  4147                        	.line	607
  4148                        ;
  4149                        ;			}
  4150                        L10088:
  4151                        	.line	609
  4152                        ;			break;
  4153                        L10087:
  4154                        	.line	610
  4155 06:A25D: 82 57 02     	brl	L10063
  4156                        ;		case FX_LBUTTON_DOWN:
  4157                        	.line	611
  4158                        L10089:
  4159                        ;			pWin = k_getWindowFromHandle(pMs
                    g->hwnd);
  4160                        	.line	612
  4161 06:A260: A0 0C 00     	ldy	#$c
  4162 06:A263: B7 3A        	lda	[<L68+pMsg_0],Y
  4163 06:A265: 48           	pha
  4164 06:A266: A0 0A 00     	ldy	#$a
  4165 06:A269: B7 3A        	lda	[<L68+pMsg_0],Y
  4166 06:A26B: 48           	pha
  4167 06:A26C: 22 xx xx xx  	jsl	~~k_getWindowFromHandle
  4168 06:A270: 85 15        	sta	<L69+pWin_1
  4169 06:A272: 86 17        	stx	<L69+pWin_1+2
  4170                        ;			if(pWin)
  4171                        	.line	613
  4172                        ;			{
  4173 06:A274: A5 15        	lda	<L69+pWin_1
  4174 06:A276: 05 17        	ora	<L69+pWin_1+2
  4175 06:A278: D0 03        	bne	L96
  4176 06:A27A: 82 0F 01     	brl	L10090
  4177                        L96:
  4178                        	.line	614
  4179                        ;				ppc = ((PPALETTECONTROL)
                    pWin->windowData);
  4180                        	.line	615
  4181 06:A27D: A0 C5 01     	ldy	#$1c5
  4182 06:A280: B7 15        	lda	[<L69+pWin_1],Y
  4183 06:A282: 85 23        	sta	<L69+ppc_1
  4184 06:A284: A0 C7 01     	ldy	#$1c7
  4185 06:A287: B7 15        	lda	[<L69+pWin_1],Y
  4186 06:A289: 85 25        	sta	<L69+ppc_1+2
  4187                        ;				if(ppc && ppc->node)
  4188                        	.line	616
  4189                        ;				{
  4190 06:A28B: A5 23        	lda	<L69+ppc_1
  4191 06:A28D: 05 25        	ora	<L69+ppc_1+2
  4192 06:A28F: D0 03        	bne	L97
  Mon Sep 27 2021  9:39                                                Page 82


  4193 06:A291: 82 F8 00     	brl	L10091
  4194                        L97:
  4195 06:A294: A0 03 00     	ldy	#$3
  4196 06:A297: B7 23        	lda	[<L69+ppc_1],Y
  4197 06:A299: A0 05 00     	ldy	#$5
  4198 06:A29C: 17 23        	ora	[<L69+ppc_1],Y
  4199 06:A29E: D0 03        	bne	L98
  4200 06:A2A0: 82 E9 00     	brl	L10091
  4201                        L98:
  4202                        	.line	617
  4203                        ;					if(ppc->selected
                    Node)
  4204                        	.line	618
  4205                        ;					{
  4206 06:A2A3: A0 07 00     	ldy	#$7
  4207 06:A2A6: B7 23        	lda	[<L69+ppc_1],Y
  4208 06:A2A8: A0 09 00     	ldy	#$9
  4209 06:A2AB: 17 23        	ora	[<L69+ppc_1],Y
  4210 06:A2AD: D0 03        	bne	L99
  4211 06:A2AF: 82 57 00     	brl	L10092
  4212                        L99:
  4213                        	.line	619
  4214                        ;						prect = 
                    (PDRECT)(ppc->selectedNode->data);
  4215                        	.line	620
  4216 06:A2B2: A0 07 00     	ldy	#$7
  4217 06:A2B5: B7 23        	lda	[<L69+ppc_1],Y
  4218 06:A2B7: 85 01        	sta	<R0
  4219 06:A2B9: A0 09 00     	ldy	#$9
  4220 06:A2BC: B7 23        	lda	[<L69+ppc_1],Y
  4221 06:A2BE: 85 03        	sta	<R0+2
  4222 06:A2C0: A0 02 00     	ldy	#$2
  4223 06:A2C3: B7 01        	lda	[<R0],Y
  4224 06:A2C5: 85 27        	sta	<L69+prect_1
  4225 06:A2C7: A0 04 00     	ldy	#$4
  4226 06:A2CA: B7 01        	lda	[<R0],Y
  4227 06:A2CC: 85 29        	sta	<L69+prect_1+2
  4228                        ;
  4229                        ;						k_draw_r
                    ect(prect->x,
  4230                        	.line	622
  4231                        ;							
                    		prect->y,
  4232                        ;							
                    		prect->x + prect->width - 1,
  4233                        ;							
                    		prect->y + prect->height - 1,
  4234                        ;							
                    		FILLCOLOR_TRANSPARENT,
  4235                        ;							
                    		NULL,
  4236                        ;							
                    		BITMAP_FRONT);
  4237 06:A2CE: F4 00 00     	pea	#<$0
  4238 06:A2D1: F4 00 00     	pea	#<$0
  4239 06:A2D4: F4 00 00     	pea	#<$0
  4240 06:A2D7: 18           	clc
  4241 06:A2D8: A0 02 00     	ldy	#$2
  Mon Sep 27 2021  9:39                                                Page 83


  4242 06:A2DB: B7 27        	lda	[<L69+prect_1],Y
  4243 06:A2DD: A0 08 00     	ldy	#$8
  4244 06:A2E0: 77 27        	adc	[<L69+prect_1],Y
  4245 06:A2E2: 85 01        	sta	<R0
  4246 06:A2E4: 18           	clc
  4247 06:A2E5: A9 FF FF     	lda	#$ffff
  4248 06:A2E8: 65 01        	adc	<R0
  4249 06:A2EA: 48           	pha
  4250 06:A2EB: 18           	clc
  4251 06:A2EC: A7 27        	lda	[<L69+prect_1]
  4252 06:A2EE: A0 06 00     	ldy	#$6
  4253 06:A2F1: 77 27        	adc	[<L69+prect_1],Y
  4254 06:A2F3: 85 01        	sta	<R0
  4255 06:A2F5: 18           	clc
  4256 06:A2F6: A9 FF FF     	lda	#$ffff
  4257 06:A2F9: 65 01        	adc	<R0
  4258 06:A2FB: 48           	pha
  4259 06:A2FC: A0 02 00     	ldy	#$2
  4260 06:A2FF: B7 27        	lda	[<L69+prect_1],Y
  4261 06:A301: 48           	pha
  4262 06:A302: A7 27        	lda	[<L69+prect_1]
  4263 06:A304: 48           	pha
  4264 06:A305: 22 xx xx xx  	jsl	~~k_draw_rect
  4265                        ;					}
  4266                        	.line	629
  4267                        ;
  4268                        ;					prect = (PDRECT)
                    (ppc->node->data);
  4269                        L10092:
  4270                        	.line	631
  4271 06:A309: A0 03 00     	ldy	#$3
  4272 06:A30C: B7 23        	lda	[<L69+ppc_1],Y
  4273 06:A30E: 85 01        	sta	<R0
  4274 06:A310: A0 05 00     	ldy	#$5
  4275 06:A313: B7 23        	lda	[<L69+ppc_1],Y
  4276 06:A315: 85 03        	sta	<R0+2
  4277 06:A317: A0 02 00     	ldy	#$2
  4278 06:A31A: B7 01        	lda	[<R0],Y
  4279 06:A31C: 85 27        	sta	<L69+prect_1
  4280 06:A31E: A0 04 00     	ldy	#$4
  4281 06:A321: B7 01        	lda	[<R0],Y
  4282 06:A323: 85 29        	sta	<L69+prect_1+2
  4283                        ;					ppc->cColor = (U
                    INT)prect->data;
  4284                        	.line	632
  4285 06:A325: A0 0A 00     	ldy	#$a
  4286 06:A328: B7 27        	lda	[<L69+prect_1],Y
  4287 06:A32A: A0 01 00     	ldy	#$1
  4288 06:A32D: 97 23        	sta	[<L69+ppc_1],Y
  4289                        ;
  4290                        ;
  4291                        ;					k_draw_rect(prec
                    t->x,
  4292                        	.line	635
  4293                        ;							
                    	prect->y,
  4294                        ;							
                    	prect->x + prect->width - 1,
  Mon Sep 27 2021  9:39                                                Page 84


  4295                        ;							
                    	prect->y + prect->height - 1,
  4296                        ;							
                    	k_getUIMenuColor(),
  4297                        ;							
                    	NULL,
  4298                        ;							
                    	BITMAP_FRONT);
  4299 06:A32F: F4 00 00     	pea	#<$0
  4300 06:A332: F4 00 00     	pea	#<$0
  4301 06:A335: 22 xx xx xx  	jsl	~~k_getUIMenuColor
  4302 06:A339: 48           	pha
  4303 06:A33A: 18           	clc
  4304 06:A33B: A0 02 00     	ldy	#$2
  4305 06:A33E: B7 27        	lda	[<L69+prect_1],Y
  4306 06:A340: A0 08 00     	ldy	#$8
  4307 06:A343: 77 27        	adc	[<L69+prect_1],Y
  4308 06:A345: 85 01        	sta	<R0
  4309 06:A347: 18           	clc
  4310 06:A348: A9 FF FF     	lda	#$ffff
  4311 06:A34B: 65 01        	adc	<R0
  4312 06:A34D: 48           	pha
  4313 06:A34E: 18           	clc
  4314 06:A34F: A7 27        	lda	[<L69+prect_1]
  4315 06:A351: A0 06 00     	ldy	#$6
  4316 06:A354: 77 27        	adc	[<L69+prect_1],Y
  4317 06:A356: 85 01        	sta	<R0
  4318 06:A358: 18           	clc
  4319 06:A359: A9 FF FF     	lda	#$ffff
  4320 06:A35C: 65 01        	adc	<R0
  4321 06:A35E: 48           	pha
  4322 06:A35F: A0 02 00     	ldy	#$2
  4323 06:A362: B7 27        	lda	[<L69+prect_1],Y
  4324 06:A364: 48           	pha
  4325 06:A365: A7 27        	lda	[<L69+prect_1]
  4326 06:A367: 48           	pha
  4327 06:A368: 22 xx xx xx  	jsl	~~k_draw_rect
  4328                        ;
  4329                        ;					ppc->selectedNod
                    e = ppc->node;
  4330                        	.line	643
  4331 06:A36C: A0 03 00     	ldy	#$3
  4332 06:A36F: B7 23        	lda	[<L69+ppc_1],Y
  4333 06:A371: A0 07 00     	ldy	#$7
  4334 06:A374: 97 23        	sta	[<L69+ppc_1],Y
  4335 06:A376: A0 05 00     	ldy	#$5
  4336 06:A379: B7 23        	lda	[<L69+ppc_1],Y
  4337 06:A37B: A0 09 00     	ldy	#$9
  4338 06:A37E: 97 23        	sta	[<L69+ppc_1],Y
  4339                        ;
  4340                        ;					drawSwatchInfo(p
                    Win,ppc);
  4341                        	.line	645
  4342 06:A380: D4 25        	pei	<L69+ppc_1+2
  4343 06:A382: D4 23        	pei	<L69+ppc_1
  4344 06:A384: D4 17        	pei	<L69+pWin_1+2
  4345 06:A386: D4 15        	pei	<L69+pWin_1
  4346 06:A388: 22 AD 9C 06  	jsl	~~drawSwatchInfo
  Mon Sep 27 2021  9:39                                                Page 85


  4347                        ;				}
  4348                        	.line	646
  4349                        ;			}
  4350                        L10091:
  4351                        	.line	647
  4352                        ;			return TRUE;
  4353                        L10090:
  4354                        	.line	648
  4355 06:A38C: A9 01 00     	lda	#$1
  4356 06:A38F: 82 FB FB     	brl	L77
  4357                        ;		case FX_MOUSE_MOVE:
  4358                        	.line	649
  4359                        L10093:
  4360                        ;
  4361                        ;			pWin = k_getWindowFromHandle(pMs
                    g->hwnd);
  4362                        	.line	651
  4363 06:A392: A0 0C 00     	ldy	#$c
  4364 06:A395: B7 3A        	lda	[<L68+pMsg_0],Y
  4365 06:A397: 48           	pha
  4366 06:A398: A0 0A 00     	ldy	#$a
  4367 06:A39B: B7 3A        	lda	[<L68+pMsg_0],Y
  4368 06:A39D: 48           	pha
  4369 06:A39E: 22 xx xx xx  	jsl	~~k_getWindowFromHandle
  4370 06:A3A2: 85 15        	sta	<L69+pWin_1
  4371 06:A3A4: 86 17        	stx	<L69+pWin_1+2
  4372                        ;			if(pWin && pWin == k_user_get_fo
                    cus_window())
  4373                        	.line	652
  4374                        ;			{
  4375 06:A3A6: A5 15        	lda	<L69+pWin_1
  4376 06:A3A8: 05 17        	ora	<L69+pWin_1+2
  4377 06:A3AA: D0 03        	bne	L100
  4378 06:A3AC: 82 DE 00     	brl	L10094
  4379                        L100:
  4380 06:A3AF: 22 xx xx xx  	jsl	~~k_user_get_focus_window
  4381 06:A3B3: 85 01        	sta	<R0
  4382 06:A3B5: 86 03        	stx	<R0+2
  4383 06:A3B7: A5 01        	lda	<R0
  4384 06:A3B9: C5 15        	cmp	<L69+pWin_1
  4385 06:A3BB: D0 04        	bne	L101
  4386 06:A3BD: A5 03        	lda	<R0+2
  4387 06:A3BF: C5 17        	cmp	<L69+pWin_1+2
  4388                        L101:
  4389 06:A3C1: F0 03        	beq	L102
  4390 06:A3C3: 82 C7 00     	brl	L10094
  4391                        L102:
  4392                        	.line	653
  4393                        ;				ppc = ((PPALETTECONTROL)
                    pWin->windowData);
  4394                        	.line	654
  4395 06:A3C6: A0 C5 01     	ldy	#$1c5
  4396 06:A3C9: B7 15        	lda	[<L69+pWin_1],Y
  4397 06:A3CB: 85 23        	sta	<L69+ppc_1
  4398 06:A3CD: A0 C7 01     	ldy	#$1c7
  4399 06:A3D0: B7 15        	lda	[<L69+pWin_1],Y
  4400 06:A3D2: 85 25        	sta	<L69+ppc_1+2
  4401                        ;
  Mon Sep 27 2021  9:39                                                Page 86


  4402                        ;				point.x = MSG_GETMOUSE_X
                    (pMsg);
  4403                        	.line	656
  4404 06:A3D4: A0 17 00     	ldy	#$17
  4405 06:A3D7: B7 3A        	lda	[<L68+pMsg_0],Y
  4406 06:A3D9: 85 33        	sta	<L69+point_1
  4407                        ;				point.y = MSG_GETMOUSE_Y
                    (pMsg);
  4408                        	.line	657
  4409 06:A3DB: A0 19 00     	ldy	#$19
  4410 06:A3DE: B7 3A        	lda	[<L68+pMsg_0],Y
  4411 06:A3E0: 85 35        	sta	<L69+point_1+2
  4412                        ;
  4413                        ;				node = k_nodelist_foreac
                    h_until_listdata(ppc->colorHits,
  4414                        	.line	659
  4415                        ;							
                    							 &point,
  4416                        ;							
                    							 foreach
                    _colors);
  4417 06:A3E2: F4 06 00     	pea	#^~~foreach_colors
  4418 06:A3E5: F4 F5 9B     	pea	#<~~foreach_colors
  4419 06:A3E8: F4 00 00     	pea	#0
  4420 06:A3EB: 18           	clc
  4421 06:A3EC: 7B           	tdc
  4422 06:A3ED: 69 33 00     	adc	#<L69+point_1
  4423 06:A3F0: 48           	pha
  4424 06:A3F1: A0 0D 00     	ldy	#$d
  4425 06:A3F4: B7 23        	lda	[<L69+ppc_1],Y
  4426 06:A3F6: 48           	pha
  4427 06:A3F7: A0 0B 00     	ldy	#$b
  4428 06:A3FA: B7 23        	lda	[<L69+ppc_1],Y
  4429 06:A3FC: 48           	pha
  4430 06:A3FD: 22 xx xx xx  	jsl	~~k_nodelist_foreach_until_listdata
  4431 06:A401: 85 2B        	sta	<L69+node_1
  4432 06:A403: 86 2D        	stx	<L69+node_1+2
  4433                        ;				if(node)
  4434                        	.line	662
  4435                        ;				{
  4436 06:A405: A5 2B        	lda	<L69+node_1
  4437 06:A407: 05 2D        	ora	<L69+node_1+2
  4438 06:A409: D0 03        	bne	L103
  4439 06:A40B: 82 7F 00     	brl	L10095
  4440                        L103:
  4441                        	.line	663
  4442                        ;					prect = (PDRECT)
                    node->data;
  4443                        	.line	664
  4444 06:A40E: A0 02 00     	ldy	#$2
  4445 06:A411: B7 2B        	lda	[<L69+node_1],Y
  4446 06:A413: 85 27        	sta	<L69+prect_1
  4447 06:A415: A0 04 00     	ldy	#$4
  4448 06:A418: B7 2B        	lda	[<L69+node_1],Y
  4449 06:A41A: 85 29        	sta	<L69+prect_1+2
  4450                        ;
  4451                        ;					if(k_user_IsOSDe
                    bug())
  Mon Sep 27 2021  9:39                                                Page 87


  4452                        	.line	666
  4453                        ;					{
  4454 06:A41C: 22 xx xx xx  	jsl	~~k_user_IsOSDebug
  4455 06:A420: 29 FF 00     	and	#$ff
  4456 06:A423: D0 03        	bne	L104
  4457 06:A425: 82 48 00     	brl	L10096
  4458                        L104:
  4459                        	.line	667
  4460                        ;						k_vdma_f
                    ill_rect_ex(pWin->clientRect.x + 256,
  4461                        	.line	668
  4462                        ;							
                    				pWin->clientRect.y,
  4463                        ;							
                    				COLOR_SWATCH_SIZE,
  4464                        ;							
                    				COLOR_SWATCH_SIZE,
  4465                        ;							
                    				(UINT)prect->data,
  4466                        ;							
                    				pWin->nBitmapLayer);
  4467 06:A428: A0 9E 01     	ldy	#$19e
  4468 06:A42B: B7 15        	lda	[<L69+pWin_1],Y
  4469 06:A42D: 48           	pha
  4470 06:A42E: A0 0A 00     	ldy	#$a
  4471 06:A431: B7 27        	lda	[<L69+prect_1],Y
  4472 06:A433: 48           	pha
  4473 06:A434: F4 40 00     	pea	#<$40
  4474 06:A437: F4 40 00     	pea	#<$40
  4475 06:A43A: A0 00 00     	ldy	#$0
  4476 06:A43D: 5A           	phy
  4477 06:A43E: A0 2C 00     	ldy	#$2c
  4478 06:A441: B7 15        	lda	[<L69+pWin_1],Y
  4479 06:A443: 7A           	ply
  4480 06:A444: 2A           	rol	A
  4481 06:A445: 6A           	ror	A
  4482 06:A446: 10 01        	bpl	L105
  4483 06:A448: 88           	dey
  4484                        L105:
  4485 06:A449: 85 01        	sta	<R0
  4486 06:A44B: 84 03        	sty	<R0+2
  4487 06:A44D: D4 03        	pei	<R0+2
  4488 06:A44F: D4 01        	pei	<R0
  4489 06:A451: 18           	clc
  4490 06:A452: A9 00 01     	lda	#$100
  4491 06:A455: A0 2A 00     	ldy	#$2a
  4492 06:A458: 77 15        	adc	[<L69+pWin_1],Y
  4493 06:A45A: 85 05        	sta	<R1
  4494 06:A45C: A0 00 00     	ldy	#$0
  4495 06:A45F: A5 05        	lda	<R1
  4496 06:A461: 10 01        	bpl	L106
  4497 06:A463: 88           	dey
  4498                        L106:
  4499 06:A464: 85 05        	sta	<R1
  4500 06:A466: 84 07        	sty	<R1+2
  4501 06:A468: D4 07        	pei	<R1+2
  4502 06:A46A: D4 05        	pei	<R1
  4503 06:A46C: 22 xx xx xx  	jsl	~~k_vdma_fill_rect_ex
  Mon Sep 27 2021  9:39                                                Page 88


  4504                        ;					}
  4505                        	.line	674
  4506                        ;
  4507                        ;					if(ppc->cColor !
                    = (UINT)prect->data)
  4508                        L10096:
  4509                        	.line	676
  4510                        ;					{
  4511 06:A470: A0 0A 00     	ldy	#$a
  4512 06:A473: B7 27        	lda	[<L69+prect_1],Y
  4513 06:A475: A0 01 00     	ldy	#$1
  4514 06:A478: D7 23        	cmp	[<L69+ppc_1],Y
  4515 06:A47A: D0 03        	bne	L107
  4516 06:A47C: 82 0E 00     	brl	L10097
  4517                        L107:
  4518                        	.line	677
  4519                        ;						ppc->nod
                    e = node;
  4520                        	.line	678
  4521 06:A47F: A5 2B        	lda	<L69+node_1
  4522 06:A481: A0 03 00     	ldy	#$3
  4523 06:A484: 97 23        	sta	[<L69+ppc_1],Y
  4524 06:A486: A5 2D        	lda	<L69+node_1+2
  4525 06:A488: A0 05 00     	ldy	#$5
  4526 06:A48B: 97 23        	sta	[<L69+ppc_1],Y
  4527                        ;					}
  4528                        	.line	679
  4529                        ;				}
  4530                        L10097:
  4531                        	.line	680
  4532                        ;			}
  4533                        L10095:
  4534                        	.line	681
  4535                        ;			/*
  4536                        ;			else
  4537                        ;			{
  4538                        ;				k_debug_string("PaletteW
                    indowProc::FX_MOUSE_MOVE::NOT IN FOCUS\r\n");
  4539                        ;			}
  4540                        ;			*/
  4541                        ;			break;
  4542                        L10094:
  4543                        	.line	688
  4544 06:A48D: 82 27 00     	brl	L10063
  4545                        ;		default:
  4546                        	.line	689
  4547                        L10098:
  4548                        ;			break;
  4549                        	.line	690
  4550 06:A490: 82 24 00     	brl	L10063
  4551                        ;		}
  4552                        	.line	691
  4553                        L10062:
  4554                        	xref	~~~swt
  4555 06:A493: 22 xx xx xx  	jsl	~~~swt
  4556 06:A497: 07 00        	dw	7
  4557 06:A499: 03 0F        	dw	3843
  4558 06:A49B: 91 A3        	dw	L10093-1
  Mon Sep 27 2021  9:39                                                Page 89


  4559 06:A49D: 04 0F        	dw	3844
  4560 06:A49F: 5F A2        	dw	L10089-1
  4561 06:A4A1: 00 FA        	dw	64000
  4562 06:A4A3: 90 A1        	dw	L10085-1
  4563 06:A4A5: 00 FB        	dw	64256
  4564 06:A4A7: 9E 9F        	dw	L10070-1
  4565 06:A4A9: 0E FB        	dw	64270
  4566 06:A4AB: 93 A1        	dw	L10086-1
  4567 06:A4AD: FF FB        	dw	64511
  4568 06:A4AF: 15 9E        	dw	L10064-1
  4569 06:A4B1: 03 FF        	dw	65283
  4570 06:A4B3: D1 9E        	dw	L10067-1
  4571 06:A4B5: 8F A4        	dw	L10098-1
  4572                        L10063:
  4573                        ;	}
  4574                        	.line	692
  4575                        ;
  4576                        ;	return DefWindowProc(pMsg);
  4577                        L10061:
  4578                        	.line	694
  4579 06:A4B7: D4 3C        	pei	<L68+pMsg_0+2
  4580 06:A4B9: D4 3A        	pei	<L68+pMsg_0
  4581 06:A4BB: 22 xx xx xx  	jsl	~~DefWindowProc
  4582 06:A4BF: E2 20        	sep	#$20
  4583                        	longa	off
  4584 06:A4C1: 85 01        	sta	<R0
  4585 06:A4C3: C2 20        	rep	#$20
  4586                        	longa	on
  4587 06:A4C5: A5 01        	lda	<R0
  4588 06:A4C7: 29 FF 00     	and	#$ff
  4589 06:A4CA: 82 C0 FA     	brl	L77
  4590                        ;}
  4591                        	.line	695
  4592                        	.endblock	695
  4593             00000036   L68	equ	54
  4594             00000011   L69	equ	17
  4595 06:A4CD:              	ends
  4596                        	efunc
  4597                        	.endfunc	695,17,54
  4598                        	.line	695
  4599                        	data
  4600                        L67:
  4601 00:01E0: 50 61 6C 65  	db	$50,$61,$6C,$65,$74,$74,$65,$57,$69,$6E,
                    $64,$6F,$77,$50,$72
       00:01E4: 74 74 65 57 
       00:01E8: 69 6E 64 6F 
       00:01EC: 77 50 72 
  4602 00:01EF: 6F 63 3A 3A  	db	$6F,$63,$3A,$3A,$46,$58,$5F,$43,$52,$45,
                    $41,$54,$45,$5F,$57
       00:01F3: 46 58 5F 43 
       00:01F7: 52 45 41 54 
       00:01FB: 45 5F 57 
  4603 00:01FE: 49 4E 44 4F  	db	$49,$4E,$44,$4F,$57,$3A,$00,$5F,$70,$61,
                    $6C,$65,$74,$74,$65
       00:0202: 57 3A 00 5F 
       00:0206: 70 61 6C 65 
       00:020A: 74 74 65 
  4604 00:020D: 5F 63 6F 6C  	db	$5F,$63,$6F,$6C,$6F,$72,$5F,$6C,$69,$73,
  Mon Sep 27 2021  9:39                                                Page 90


                    $74,$00,$48,$4F,$55
       00:0211: 6F 72 5F 6C 
       00:0215: 69 73 74 00 
       00:0219: 48 4F 55 
  4605 00:021C: 52 47 4C 41  	db	$52,$47,$4C,$41,$53,$53,$00,$41,$52,$52,
                    $4F,$57,$00
       00:0220: 53 53 00 41 
       00:0224: 52 52 4F 57 
       00:0228: 00 
  4606 00:0229:              	ends
  4607                        ;
  4608                        	.line	695
  4609                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos_accessories.c",451
  4610                        	xref	~~k_send_command_message
  4611                        	xref	~~DefWindowProc
  4612                        	xref	~~k_user_CreateTextBox
  4613                        	xref	~~k_user_CreateButton
  4614                        	xref	~~k_user_setMousePointer
  4615                        	xref	~~k_user_get_focus_window
  4616                        	xref	~~k_user_CreateWindow
  4617                        	xref	~~k_user_CreateWindowClassEx
  4618                        	xref	~~k_user_getSystemMetric
  4619                        	xref	~~k_user_getDesktopWindow
  4620                        	xref	~~k_getHandleFromWindow
  4621                        	xref	~~k_getWindowFromHandle
  4622                        	xref	~~k_vdma_fill_rect_ex
  4623                        	xref	~~k_draw_text_point_ex
  4624                        	xref	~~k_draw_rect
  4625                        	xref	~~k_getUIGadgetColor
  4626                        	xref	~~k_getUIMenuColor
  4627                        	xref	~~k_mem_deallocate_heap
  4628                        	xref	~~k_mem_allocate_heap
  4629                        	xref	~~k_exec_signal_terminate
  4630                        	xref	~~k_exec_get_current_process
  4631                        	xref	~~k_string_append_integer
  4632                        	xref	~~k_bytetohex
  4633                        	xref	~~k_user_IsOSDebug
  4634                        	xref	~~k_debug_long
  4635                        	xref	~~k_nodelist_foreach_until_listdata
  4636                        	xref	~~k_nodelist_clear_list
  4637                        	xref	~~k_nodelist_naddtolist
  4638                        	xref	~~k_nodelist_deallocate_list
  4639                        	xref	~~k_nodelist_allocate_list
  4640                        	xref	~~strcpy
  4641                        	xref	~~atoi
  4642                        	.sym	~~drawSwatchInfo,~~drawSwatchInfo,65,2,0
  4643                        	.sym	~~deallocate_rect,~~deallocate_rect,65,2
                    ,0
  4644                        	.sym	PPALETTECONTROL,0,138,14,32,90
  4645                        	.sym	PALETTECONTROL,0,10,14,120,90
  4646                        	.sym	~~fun,~~fun,5,3,16
  4647                        	.sym	~~doop,~~doop,5,3,16
  4648                        	.sym	~~operator,~~operator,5,3,16
  4649                        	.sym	~~d2,~~d2,5,3,16
  4650                        	.sym	~~d1,~~d1,5,3,16
  4651                        	.sym	~~pTextBox,~~pTextBox,138,3,32,33
  4652                        	.sym	~~hWndInstancePalette,~~hWndInstancePale
  Mon Sep 27 2021  9:39                                                Page 91


                    tte,138,3,32,33
  4653                        	.sym	~~hWndInstance,~~hWndInstance,138,3,32,3
                    3
  4654                        	.sym	~~foreach_colors,~~foreach_colors,78,2,0
  4655                        	.sym	~~PaletteWindowProc,~~PaletteWindowProc,
                    78,2,0
  4656                        	.sym	~~CalculatorWindowProc,~~CalculatorWindo
                    wProc,78,2,0
  4657                        	.sym	~~FXPaletteAccessory,~~FXPaletteAccessor
                    y,65,2,0
  4658                        	.sym	~~FXCalculator,~~FXCalculator,65,2,0
  4659                        	.sym	FRESULT,0,5,14,16
  4660                        	.sym	MKFS_PARM,0,10,14,80,89
  4661                        	.sym	FILINFO,0,10,14,2224,88
  4662                        	.sym	DIR,0,10,14,416,87
  4663                        	.sym	FIL,0,10,14,4400,86
  4664                        	.sym	FFOBJID,0,10,14,128,85
  4665                        	.sym	FATFS,0,10,14,4504,84
  4666                        	.sym	LBA_t,0,18,14,32
  4667                        	.sym	FSIZE_t,0,18,14,32
  4668                        	.sym	TCHAR,0,14,14,8
  4669                        	.sym	PCOMMANDARGS,0,138,14,32,83
  4670                        	.sym	COMMANDARGS,0,10,14,64,83
  4671                        	.sym	PTOKENIZESTATE,0,133,14,32
  4672                        	.sym	TOKENIZESTATE,0,5,14,16
  4673                        	.sym	PTOKEN,0,138,14,32,82
  4674                        	.sym	TOKEN,0,10,14,64,82
  4675                        	.sym	PTOKENTYPE,0,133,14,32
  4676                        	.sym	TOKENTYPE,0,5,14,16
  4677                        	.sym	FXCommandHandler,0,656,14,32
  4678                        	.sym	PCONSOLECTX,0,138,14,32,81
  4679                        	.sym	CONSOLECTX,0,10,14,1144,81
  4680                        	.sym	PSPINNERCTX,0,138,14,32,80
  4681                        	.sym	SPINNERCTX,0,10,14,48,80
  4682                        	.sym	HCLIP,0,138,14,32,79
  4683                        	.sym	PCLIPBOARD_DATA,0,138,14,32,79
  4684                        	.sym	CLIPBOARD_DATA,0,10,14,168,79
  4685                        	.sym	~~k_send_command_message,~~k_send_comman
                    d_message,78,18,0
  4686                        	.sym	PEVENTMANAGER,0,138,14,32,78
  4687                        	.sym	EVENTMANAGER,0,10,14,192,78
  4688                        	.sym	EV_RUN,0,656,14,32
  4689                        	.sym	EV_QUERY_METRIC,0,656,14,32
  4690                        	.sym	EV_CONFIGURE,0,656,14,32
  4691                        	.sym	EV_UNINIT,0,641,14,32
  4692                        	.sym	EV_INIT,0,8833,14,32
  4693                        	.sym	PMOUSE_MSG_STATE,0,138,14,32,77
  4694                        	.sym	MOUSE_MSG_STATE,0,10,14,184,77
  4695                        	.sym	PFXEVENTPROCESS,0,138,14,32,76
  4696                        	.sym	FXEVENTPROCESS,0,10,14,64,76
  4697                        	.sym	FXASYNCPROCESS,0,641,14,32
  4698                        	.sym	PMARSHALDATA,0,139,14,32,75
  4699                        	.sym	MARSHALDATA,0,11,14,32,75
  4700                        	.sym	FXIDLEPROCESS,0,641,14,32
  4701                        	.sym	FXEventProc,0,641,14,32
  4702                        	.sym	PMOUSEMSGDATA,0,138,14,32,74
  4703                        	.sym	MOUSEMSGDATA,0,10,14,64,74
  4704                        	.sym	MSGIRQ,0,5,14,16
  Mon Sep 27 2021  9:39                                                Page 92


  4705                        	.sym	MAINLOOPARGS,0,10,14,16,73
  4706                        	.sym	PEACHCHILD_MSG,0,138,14,32,72
  4707                        	.sym	EACHCHILD_MSG,0,10,14,64,72
  4708                        	.sym	~~DefWindowProc,~~DefWindowProc,78,18,0
  4709                        	.sym	PMSGBOX_DATA,0,138,14,32,71
  4710                        	.sym	MSGBOX_DATA,0,10,14,96,71
  4711                        	.sym	PDESKTOP_DATA,0,138,14,32,70
  4712                        	.sym	DESKTOP_DATA,0,10,14,64,70
  4713                        	.sym	~~k_user_CreateTextBox,~~k_user_CreateTe
                    xtBox,1098,18,32,33
  4714                        	.sym	~~k_user_CreateButton,~~k_user_CreateBut
                    ton,1098,18,32,33
  4715                        	.sym	~~k_user_setMousePointer,~~k_user_setMou
                    sePointer,1089,18,32
  4716                        	.sym	~~k_user_get_focus_window,~~k_user_get_f
                    ocus_window,1089,18,32
  4717                        	.sym	~~k_user_CreateWindow,~~k_user_CreateWin
                    dow,1098,18,32,33
  4718                        	.sym	~~k_user_CreateWindowClassEx,~~k_user_Cr
                    eateWindowClassEx,1098,18,32,29
  4719                        	.sym	~~k_user_getSystemMetric,~~k_user_getSys
                    temMetric,69,18,0
  4720                        	.sym	~~k_user_getDesktopWindow,~~k_user_getDe
                    sktopWindow,1089,18,32
  4721                        	.sym	~~k_getHandleFromWindow,~~k_getHandleFro
                    mWindow,1089,18,32
  4722                        	.sym	~~k_getWindowFromHandle,~~k_getWindowFro
                    mHandle,1098,18,32,33
  4723                        	.sym	PWINDOWMANAGER,0,138,14,32,69
  4724                        	.sym	WINDOWMANAGER,0,10,14,160,69
  4725                        	.sym	WM_DOPROCS,0,641,14,32
  4726                        	.sym	WM_QUERY_METRIC,0,656,14,32
  4727                        	.sym	WM_CONFIGURE,0,656,14,32
  4728                        	.sym	WM_HANDLE_EVENT,0,8833,14,32
  4729                        	.sym	WM_EVENTS,0,641,14,32
  4730                        	.sym	~~k_vdma_fill_rect_ex,~~k_vdma_fill_rect
                    _ex,65,18,0
  4731                        	.sym	~~k_draw_text_point_ex,~~k_draw_text_poi
                    nt_ex,69,18,0
  4732                        	.sym	~~k_draw_rect,~~k_draw_rect,65,18,0
  4733                        	.sym	~~k_getUIGadgetColor,~~k_getUIGadgetColo
                    r,69,18,0
  4734                        	.sym	~~k_getUIMenuColor,~~k_getUIMenuColor,69
                    ,18,0
  4735                        	.sym	PCUR_PALETTE_MAP,0,138,14,32,68
  4736                        	.sym	CUR_PALETTE_MAP,0,10,14,400,68
  4737                        	.sym	PCLICKDETECTED,0,138,14,32,67
  4738                        	.sym	CLICKDETECTED,0,10,14,64,67
  4739                        	.sym	OBJECTCLICKED,0,641,14,32
  4740                        	.sym	PALLOCATIONHEADER,0,138,14,32,66
  4741                        	.sym	ALLOCATIONHEADER,0,10,14,80,66
  4742                        	.sym	PIPCPORT,0,138,14,32,65
  4743                        	.sym	IPCPORT,0,10,14,144,65
  4744                        	.sym	~~k_mem_deallocate_heap,~~k_mem_dealloca
                    te_heap,65,18,0
  4745                        	.sym	~~k_mem_allocate_heap,~~k_mem_allocate_h
                    eap,1089,18,32
  4746                        	.sym	MemoryCallback,0,641,14,32
  Mon Sep 27 2021  9:39                                                Page 93


  4747                        	.sym	PFXMEMORYMAP,0,138,14,32,64
  4748                        	.sym	FXMEMORYMAP,0,10,14,2072,64
  4749                        	.sym	UMM_HEAP_INFO,0,10,14,256,63
  4750                        	.sym	~~k_exec_signal_terminate,~~k_exec_signa
                    l_terminate,78,18,0
  4751                        	.sym	~~k_exec_get_current_process,~~k_exec_ge
                    t_current_process,1098,18,32,20
  4752                        	.sym	PEXECUTIVE,0,138,14,32,62
  4753                        	.sym	EXECUTIVE,0,10,14,128,62
  4754                        	.sym	EX_QUERY_METRIC,0,656,14,32
  4755                        	.sym	EX_CONFIGURE,0,656,14,32
  4756                        	.sym	EX_UNINIT,0,641,14,32
  4757                        	.sym	EX_INIT,0,8833,14,32
  4758                        	.sym	~~k_string_append_integer,~~k_string_app
                    end_integer,1102,18,32
  4759                        	.sym	~~k_bytetohex,~~k_bytetohex,1102,18,32
  4760                        	.sym	PFXSTRING,0,138,14,32,61
  4761                        	.sym	FXSTRING,0,10,14,64,61
  4762                        	.sym	PIRQCHAIN,0,138,14,32,60
  4763                        	.sym	IRQCHAIN,0,10,14,128,60
  4764                        	.sym	DEVICEDRIVER_COMMAND,0,654,14,32
  4765                        	.sym	DEVICEDRIVER_UNLOAD,0,654,14,32
  4766                        	.sym	DEVICEDRIVER_WRITE,0,654,14,32
  4767                        	.sym	DEVICEDRIVER_READ,0,654,14,32
  4768                        	.sym	DEVICEDRIVER_LOAD,0,654,14,32
  4769                        	.sym	DEVICEDRIVER_IRQ,0,641,14,32
  4770                        	.sym	PFX_BLOCK_DEVICE_DRIVER,0,138,14,32,59
  4771                        	.sym	FX_BLOCK_DEVICE_DRIVER,0,10,14,808,59
  4772                        	.sym	GETDRIVERDEF,0,8842,14,32,58
  4773                        	.sym	PFX_DEVICE_DRIVER,0,138,14,32,58
  4774                        	.sym	FX_DEVICE_DRIVER,0,10,14,776,58
  4775                        	.sym	~~k_user_IsOSDebug,~~k_user_IsOSDebug,78
                    ,18,0
  4776                        	.sym	~~k_debug_long,~~k_debug_long,65,18,0
  4777                        	.sym	PSEGMENTHEADER,0,138,14,32,57
  4778                        	.sym	SEGMENTHEADER,0,10,14,160,57
  4779                        	.sym	PDEBUGBYTEBITS,0,138,14,32,56
  4780                        	.sym	DEBUGBYTEBITS,0,10,14,8,56
  4781                        	.sym	PFXENVIRONMENT,0,138,14,32,55
  4782                        	.sym	FXENVIRONMENT,0,10,14,96,55
  4783                        	.sym	PFXZEROPAGE,0,138,14,32,54
  4784                        	.sym	FXZEROPAGE,0,10,14,720,54
  4785                        	.sym	IRQBUFFER,0,10,14,32,53
  4786                        	.sym	KERNELTRAPCALL,0,641,14,32
  4787                        	.sym	PFXKERNEL_API_CALLTABLE,0,138,14,32,52
  4788                        	.sym	FXKERNEL_API_CALLTABLE,0,10,14,8192,52
  4789                        	.sym	~~k_nodelist_foreach_until_listdata,~~k_
                    nodelist_foreach_until_listdata,1098,18,32,5
  4790                        	.sym	FOREACHNODEUNTIL,0,654,14,32
  4791                        	.sym	FOREACHNODE,0,641,14,32
  4792                        	.sym	~~k_nodelist_clear_list,~~k_nodelist_cle
                    ar_list,1098,18,32,6
  4793                        	.sym	~~k_nodelist_naddtolist,~~k_nodelist_nad
                    dtolist,1098,18,32,5
  4794                        	.sym	~~k_nodelist_deallocate_list,~~k_nodelis
                    t_deallocate_list,65,18,0
  4795                        	.sym	~~k_nodelist_allocate_list,~~k_nodelist_
                    allocate_list,1098,18,32,6
  Mon Sep 27 2021  9:39                                                Page 94


  4796                        	.sym	PFXRFHEADER_STRING_ENTRY,0,138,14,32,51
  4797                        	.sym	FXRFHEADER_STRING_ENTRY,0,10,14,40,51
  4798                        	.sym	PFXRFHEADER_STRING,0,138,14,32,50
  4799                        	.sym	FXRFHEADER_STRING,0,10,14,32,50
  4800                        	.sym	PFXRFHEADER_FONT,0,138,14,32,49
  4801                        	.sym	FXRFHEADER_FONT,0,10,14,144,49
  4802                        	.sym	PFXRFHEADER,0,138,14,32,48
  4803                        	.sym	FXRFHEADER,0,10,14,72,48
  4804                        	.sym	PFXCOMBUFFER,0,138,14,32,47
  4805                        	.sym	FXCOMBUFFER,0,10,14,2080,47
  4806                        	.sym	PSUBMENULIST,0,138,14,32,46
  4807                        	.sym	SUBMENULIST,0,10,14,40,46
  4808                        	.sym	HSUBMENU,0,7,14,32
  4809                        	.sym	PSUBMENU,0,138,14,32,45
  4810                        	.sym	SUBMENU,0,10,14,64,45
  4811                        	.sym	MenuAction,0,641,14,32
  4812                        	.sym	PMENUANCHOR,0,138,14,32,44
  4813                        	.sym	MENUANCHOR,0,10,14,272,44
  4814                        	.sym	PMSGBOX,0,138,14,32,43
  4815                        	.sym	MSGBOX,0,10,14,144,43
  4816                        	.sym	PTEXTBOX,0,138,14,32,42
  4817                        	.sym	TEXTBOX,0,10,14,144,42
  4818                        	.sym	PLISTBOX,0,138,14,32,41
  4819                        	.sym	LISTBOX,0,10,14,240,41
  4820                        	.sym	PSCROLLBAR,0,138,14,32,40
  4821                        	.sym	SCROLLBAR,0,10,14,240,40
  4822                        	.sym	PBUTTON,0,138,14,32,39
  4823                        	.sym	BUTTON,0,10,14,96,39
  4824                        	.sym	PMENUDROPDOWNDATA,0,138,14,32,38
  4825                        	.sym	MENUDROPDOWNDATA,0,10,14,5152,38
  4826                        	.sym	PMENUTAG,0,138,14,32,37
  4827                        	.sym	MENUTAG,0,10,14,160,37
  4828                        	.sym	PMENU,0,138,14,32,36
  4829                        	.sym	MENU,0,10,14,280,36
  4830                        	.sym	HMENURESOURCE,0,129,14,32
  4831                        	.sym	FONTMETRIC,0,10,14,32,35
  4832                        	.sym	TITLE,0,142,14,32
  4833                        	.sym	PHANDLE,0,1153,14,32
  4834                        	.sym	HANDLE,0,129,14,32
  4835                        	.sym	PWINDOWEX,0,138,14,32,34
  4836                        	.sym	WINDOWEX,0,10,14,3880,34
  4837                        	.sym	PWINDOW,0,138,14,32,33
  4838                        	.sym	WINDOW,0,10,14,3904,33
  4839                        	.sym	PDRAGDATA,0,138,14,32,32
  4840                        	.sym	DRAGDATA,0,10,14,216,32
  4841                        	.sym	PNCCLICKABLE,0,138,14,32,31
  4842                        	.sym	NCCLICKABLE,0,10,14,136,31
  4843                        	.sym	HCLICKABLE,0,7,14,32
  4844                        	.sym	PCLICKABLE,0,138,14,32,30
  4845                        	.sym	CLICKABLE,0,10,14,152,30
  4846                        	.sym	PWNDCLASS,0,138,14,32,29
  4847                        	.sym	WNDCLASS,0,10,14,272,29
  4848                        	.sym	HBRUSH,0,129,14,32
  4849                        	.sym	HCURSOR,0,129,14,32
  4850                        	.sym	HICON,0,129,14,32
  4851                        	.sym	HINSTANCE,0,129,14,32
  4852                        	.sym	FXWndProc,0,654,14,32
  4853                        	.sym	PDRECT,0,138,14,32,28
  Mon Sep 27 2021  9:39                                                Page 95


  4854                        	.sym	DRECT,0,10,14,112,28
  4855                        	.sym	PRECTP,0,138,14,32,27
  4856                        	.sym	RECTP,0,10,14,96,27
  4857                        	.sym	PRECT,0,138,14,32,26
  4858                        	.sym	RECT,0,10,14,112,26
  4859                        	.sym	PPOINT,0,138,14,32,25
  4860                        	.sym	POINT,0,10,14,32,25
  4861                        	.sym	PFXPROPERTY,0,138,14,32,23
  4862                        	.sym	FXPROPERTY,0,10,14,384,23
  4863                        	.sym	PKEYSTATE,0,138,14,32,22
  4864                        	.sym	KEYSTATE,0,10,14,112,22
  4865                        	.sym	SCANCODE,0,14,14,8
  4866                        	.sym	KEYCODE,0,16,14,16
  4867                        	.sym	PFXPROCESSMESSAGE,0,138,14,32,21
  4868                        	.sym	FXPROCESSMESSAGE,0,10,14,112,21
  4869                        	.sym	PFXPROCESS,0,138,14,32,20
  4870                        	.sym	FXPROCESS,0,10,14,800,20
  4871                        	.sym	PDESKTOP_CONTROL,0,138,14,32,19
  4872                        	.sym	DESKTOP_CONTROL,0,10,14,392,19
  4873                        	.sym	PCONSOLE_CONTROL,0,138,14,32,18
  4874                        	.sym	CONSOLE_CONTROL,0,10,14,448,18
  4875                        	.sym	FXProcessProc,0,641,14,32
  4876                        	.sym	PFXCMDMESSAGE,0,138,14,32,17
  4877                        	.sym	FXCMDMESSAGE,0,10,14,312,17
  4878                        	.sym	PFXOSMESSAGE,0,138,14,32,16
  4879                        	.sym	FXOSMESSAGE,0,10,14,312,16
  4880                        	.sym	PINT_REGS,0,138,14,32,15
  4881                        	.sym	INT_REGS,0,10,14,104,15
  4882                        	.sym	TASK_STACK,0,10,14,32,14
  4883                        	.sym	TASK,0,10,14,48,13
  4884                        	.sym	PIRQDATA,0,138,14,32,12
  4885                        	.sym	IRQDATA,0,10,14,48,12
  4886                        	.sym	HMENU,0,129,14,32
  4887                        	.sym	HWND,0,129,14,32
  4888                        	.sym	MSGDATA,0,14,14,8
  4889                        	.sym	MSGDEST,0,18,14,32
  4890                        	.sym	MSGSRC,0,18,14,32
  4891                        	.sym	MSGTYPE,0,16,14,16
  4892                        	.sym	PROCESS_RESOURCE_LIST,0,138,14,32,6
  4893                        	.sym	PROCESS_TLS_LIST,0,138,14,32,6
  4894                        	.sym	SEMAPHORE_LIST,0,138,14,32,6
  4895                        	.sym	FILE_BLOCK_LIST,0,138,14,32,6
  4896                        	.sym	FILE_PATH_LIST,0,138,14,32,6
  4897                        	.sym	PROCEDURE_LIST,0,138,14,32,6
  4898                        	.sym	FILE_HANDLE,0,138,14,32,11
  4899                        	.sym	FILE_BLOCK,0,10,14,552,11
  4900                        	.sym	SEMAPHORE,0,10,14,16,10
  4901                        	.sym	PPROCESS_SIGNAL,0,138,14,32,9
  4902                        	.sym	PROCESS_SIGNAL,0,10,14,16,9
  4903                        	.sym	KRESULT,0,18,14,32
  4904                        	.sym	PKERNEL_ERROR,0,138,14,32,8
  4905                        	.sym	KERNEL_ERROR,0,10,14,32,8
  4906                        	.sym	PROCESS_STATUS,0,16,14,16
  4907                        	.sym	FILE_PATH_NAME,0,142,14,32
  4908                        	.sym	PROCESS_RESOURCE,0,129,14,32
  4909                        	.sym	PROCESS_TLS,0,129,14,32
  4910                        	.sym	PROCESS_CTX,0,129,14,32
  4911                        	.sym	USERID,0,16,14,16
  Mon Sep 27 2021  9:39                                                Page 96


  4912                        	.sym	PROCESS_ID,0,18,14,32
  4913                        	.sym	PROCESS_BANK,0,14,14,8
  4914                        	.sym	PFXQUEUE,0,138,14,32,7
  4915                        	.sym	FXQUEUE,0,10,14,80,7
  4916                        	.sym	PFXNODELIST,0,138,14,32,6
  4917                        	.sym	FXNODELIST,0,10,14,96,6
  4918                        	.sym	NodeListDeallocator,0,641,14,32
  4919                        	.sym	PFXNODE,0,138,14,32,5
  4920                        	.sym	FXNODE,0,10,14,384,5
  4921                        	.sym	PBYTEBITS,0,138,14,32,4
  4922                        	.sym	BYTEBITS,0,10,14,8,4
  4923                        	.sym	HRESULT,0,18,14,32
  4924                        	.sym	LPWCHAR,0,144,14,32
  4925                        	.sym	WCHAR,0,16,14,16
  4926                        	.sym	HSTRINGTABLE,0,129,14,32
  4927                        	.sym	HCOLOR,0,129,14,32
  4928                        	.sym	HFONT,0,129,14,32
  4929                        	.sym	HDC,0,129,14,32
  4930                        	.sym	HPOINTER,0,129,14,32
  4931                        	.sym	uint32_t,0,18,14,32
  4932                        	.sym	uint8_t,0,14,14,8
  4933                        	.sym	LPBOOL,0,142,14,32
  4934                        	.sym	BOOL,0,14,14,8
  4935                        	.sym	DWORD,0,18,14,32
  4936                        	.sym	ULONG,0,18,14,32
  4937                        	.sym	LPLONG,0,135,14,32
  4938                        	.sym	LONG,0,7,14,32
  4939                        	.sym	PUINT,0,144,14,32
  4940                        	.sym	USHORT,0,16,14,16
  4941                        	.sym	UINT,0,16,14,16
  4942                        	.sym	INT,0,5,14,16
  4943                        	.sym	WORD,0,5,14,16
  4944                        	.sym	PBYTE,0,142,14,32
  4945                        	.sym	BYTE,0,14,14,8
  4946                        	.sym	IOPORT,0,142,14,32
  4947                        	.sym	PUCHAR,0,142,14,32
  4948                        	.sym	UCHAR,0,14,14,8
  4949                        	.sym	LPWCSTR,0,142,14,32
  4950                        	.sym	LPCSTR,0,142,14,32
  4951                        	.sym	LPSTR,0,142,14,32
  4952                        	.sym	LPCHAR,0,142,14,32
  4953                        	.sym	CHAR,0,14,14,8
  4954                        	.sym	PUINT_32,0,146,14,32
  4955                        	.sym	UINT_32,0,18,14,32
  4956                        	.sym	PUINT_16,0,144,14,32
  4957                        	.sym	UINT_16,0,16,14,16
  4958                        	.sym	PUINT_8,0,142,14,32
  4959                        	.sym	UINT_8,0,14,14,8
  4960                        	.sym	LPVOID,0,129,14,32
  4961                        	.sym	VOID,0,1,14,32
  4962                        	.sym	~~strcpy,~~strcpy,1102,18,32
  4963                        	.sym	Boolean_T,0,5,14,16
  4964                        	.sym	~~atoi,~~atoi,69,18,0
  4965                        	.sym	ldiv_t,0,10,14,64,2
  4966                        	.sym	div_t,0,10,14,32,1
  4967                        	.sym	wctype_t,0,16,14,16
  4968                        	.sym	wint_t,0,16,14,16
  4969                        	.sym	wchar_t,0,14,14,8
  Mon Sep 27 2021  9:39                                                Page 97


  4970                        	.sym	ptrdiff_t,0,7,14,32
  4971                        	.sym	size_t,0,16,14,16
  4972                        	end


      Lines assembled: 4972
      Errors: 0
