  Sat Jul 10 2021  1:15                                                Page 1


                     ***************************************
                     **      WDC 65C816 Macro Assembler   **
                     **                                   **
                     **     Version 3.49.1- Feb  6 2006    **
                     ***************************************

     1                        ;:ts=8
     2             00000001   R0	equ	1
     3             00000005   R1	equ	5
     4             00000009   R2	equ	9
     5             0000000D   R3	equ	13
     6                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.c",0
     7                        ;
     8                        ;#include "fxconsole.h"
     9                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",0
    10                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
    11                        	.line	134
    12                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",5
    13                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
    14                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stddef.h",0
    15                        	.line	88
    16                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",43
    17                        	.stag	fake1_,32,1
    18                        	.member	quot,0,5,8,16
    19                        	.member	rem,16,5,8,16
    20                        	.eos
    21                        	.stag	fake2_,64,2
    22                        	.member	quot,0,7,8,32
    23                        	.member	rem,32,7,8,32
    24                        	.eos
    25                        	.stag	int_sqrt,32,3
    26                        	.member	sqrt,0,16,8,16
    27                        	.member	frac,16,16,8,16
    28                        	.eos
    29                        	.line	205
    30                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",6
    31                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
    32                        	.stag	_fx_bytebits,8,4
    33                        	.member	b7,0,14,17,1
    34                        	.member	b6,1,14,17,1
    35                        	.member	b5,2,14,17,1
    36                        	.member	b4,3,14,17,1
    37                        	.member	b3,4,14,17,1
    38                        	.member	b2,5,14,17,1
    39                        	.member	b1,6,14,17,1
    40                        	.member	b0,7,14,17,1
    41                        	.eos
    42                        	.stag	_fx_node,384,5
    43                        	.member	type,0,14,8,8
  Sat Jul 10 2021  1:15                                                Page 2


    44                        	.member	Reserved0,8,14,8,8
    45                        	.member	data,16,129,8,32
    46                        	.member	last,48,138,8,32,5
    47                        	.member	next,80,138,8,32,5
    48                        	.member	name,112,110,8,0,32
    49                        	.member	Reserved1,368,16,8,16
    50                        	.eos
    51                        	.stag	_fx_nodelist,96,6
    52                        	.member	listhead,0,138,8,32,5
    53                        	.member	listData,32,129,8,32
    54                        	.member	deallocator,64,641,8,32
    55                        	.eos
    56                        	.stag	_fx_queue,80,7
    57                        	.member	count,0,5,8,16
    58                        	.member	front,16,138,8,32,5
    59                        	.member	rear,48,138,8,32,5
    60                        	.eos
    61                        	.stag	fake8_,32,8
    62                        	.member	subsystem,0,14,8,8
    63                        	.member	level,8,14,8,8
    64                        	.member	error,16,16,8,16
    65                        	.eos
    66                        	.stag	_fx_process_signal,16,9
    67                        	.member	cbSize,0,16,8,16
    68                        	.eos
    69                        	.stag	_fx_semaphore,16,10
    70                        	.member	reserved,0,5,8,16
    71                        	.eos
    72                        	.stag	_fx_fileBlock,552,11
    73                        	.member	openCount,0,16,8,16
    74                        	.member	lockCount,16,16,8,16
    75                        	.member	dirty,32,14,8,8
    76                        	.member	fileBuffer,40,110,8,0,64
    77                        	.eos
    78                        	.stag	_fx_irq_data,48,12
    79                        	.member	line,0,5,8,16
    80                        	.member	keycode,16,142,8,32
    81                        	.eos
    82                        	.stag	_task,48,13
    83                        	.member	SPL,0,14,8,8
    84                        	.member	SPH,8,14,8,8
    85                        	.member	pstack,16,142,8,32
    86                        	.eos
    87                        	.stag	_task_stack,32,14
    88                        	.member	SS,0,142,8,32
    89                        	.eos
    90                        	.stag	int_regs,104,15
    91                        	.member	PB,0,14,8,8
    92                        	.member	PH,8,14,8,8
    93                        	.member	PL,16,14,8,8
    94                        	.member	PP,24,14,8,8
    95                        	.member	DB,32,14,8,8
    96                        	.member	DH,40,14,8,8
    97                        	.member	DL,48,14,8,8
    98                        	.member	AH,56,14,8,8
    99                        	.member	AL,64,14,8,8
   100                        	.member	XH,72,14,8,8
   101                        	.member	XL,80,14,8,8
  Sat Jul 10 2021  1:15                                                Page 3


   102                        	.member	YH,88,14,8,8
   103                        	.member	YL,96,14,8,8
   104                        	.eos
   105                        	.stag	_fx_eventMessage,304,16
   106                        	.member	src,0,18,8,32
   107                        	.member	dest,32,18,8,32
   108                        	.member	type,64,16,8,16
   109                        	.member	hwnd,80,129,8,32
   110                        	.member	pheap,112,129,8,32
   111                        	.member	msgTime,144,18,8,32
   112                        	.member	data,176,110,8,0,16
   113                        	.eos
   114                        	.stag	_fx_cmdMessage,304,17
   115                        	.member	src,0,18,8,32
   116                        	.member	dest,32,18,8,32
   117                        	.member	type,64,16,8,16
   118                        	.member	hwnd,80,129,8,32
   119                        	.member	pheap,112,129,8,32
   120                        	.member	msgTime,144,18,8,32
   121                        	.member	cmdCId,176,16,8,16
   122                        	.member	cmdMId,192,16,8,16
   123                        	.member	parameter1,208,18,8,32
   124                        	.member	parameter2,240,18,8,32
   125                        	.member	parameter3,272,18,8,32
   126                        	.eos
   127                        	.stag	_fx_console_ctl,448,18
   128                        	.member	maxCols,0,5,8,16
   129                        	.member	maxRows,16,5,8,16
   130                        	.member	curX,32,5,8,16
   131                        	.member	curY,48,5,8,16
   132                        	.member	fgColor,64,5,8,16
   133                        	.member	bgColor,80,5,8,16
   134                        	.member	mode,96,14,8,8
   135                        	.member	kbBuffer,104,101,8,0,16
   136                        	.member	screenBuffer,360,142,8,32
   137                        	.member	desktopMode,392,14,8,8
   138                        	.member	lastMouseButton,400,5,8,16
   139                        	.member	lastMouseX,416,5,8,16
   140                        	.member	lastMouseY,432,5,8,16
   141                        	.eos
   142                        	.stag	_fx_desktop_ctl,392,19
   143                        	.member	desktopMode,0,14,8,8
   144                        	.member	cursorCtl,8,5,8,16
   145                        	.member	cursorState,24,5,8,16
   146                        	.member	backgroundColor,40,5,8,16
   147                        	.member	foregroundColor,56,5,8,16
   148                        	.member	menuMode,72,5,8,16
   149                        	.member	lastMouseButton,88,5,8,16
   150                        	.member	lastMouseX,104,5,8,16
   151                        	.member	lastMouseY,120,5,8,16
   152                        	.member	currentDiskName,136,142,8,32
   153                        	.member	diskNodes,168,129,8,32
   154                        	.member	titleNodes,200,129,8,32
   155                        	.member	menuNodes,232,129,8,32
   156                        	.member	iconNodes,264,129,8,32
   157                        	.member	windowNodes,296,129,8,32
   158                        	.member	fontNodes,328,129,8,32
   159                        	.member	wndProc,360,138,8,32,6
  Sat Jul 10 2021  1:15                                                Page 4


   160                        	.eos
   161                        	.stag	_fx_process,800,20
   162                        	.member	cbSize,0,5,8,16
   163                        	.member	procId,16,18,8,32
   164                        	.member	parentId,48,18,8,32
   165                        	.member	ctx,80,129,8,32
   166                        	.member	userId,112,16,8,16
   167                        	.member	status,128,16,8,16
   168                        	.member	foregroundActive,144,14,8,8
   169                        	.member	tls,152,1121,8,32,8
   170                        	.member	commandLine,408,142,8,32
   171                        	.member	semaphores,440,138,8,32,6
   172                        	.member	fileHandles,472,138,8,32,6
   173                        	.member	pathList,504,138,8,32,6
   174                        	.member	resources,536,138,8,32,6
   175                        	.member	timerAware,568,14,8,8
   176                        	.member	timerTicks,576,112,8,0,2
   177                        	.member	timerTickCount,608,112,8,0,2
   178                        	.member	kernelError,640,10,8,32,8
   179                        	.member	consoleCtl,672,138,8,32,18
   180                        	.member	desktopCtl,704,138,8,32,19
   181                        	.member	execProc,736,641,8,32
   182                        	.member	startupArgs,768,129,8,32
   183                        	.eos
   184                        	.stag	_fxProcessMessage,112,21
   185                        	.member	src,0,18,8,32
   186                        	.member	dest,32,18,8,32
   187                        	.member	type,64,16,8,16
   188                        	.member	processInfo,80,138,8,32,20
   189                        	.eos
   190                        	.stag	_k_key_state,112,22
   191                        	.member	scanCode,0,14,8,8
   192                        	.member	isShifted,8,14,8,8
   193                        	.member	isAlt,16,14,8,8
   194                        	.member	isExtended,24,14,8,8
   195                        	.member	isCapsLock,32,14,8,8
   196                        	.member	isNumLock,40,14,8,8
   197                        	.member	isScrollLock,48,14,8,8
   198                        	.member	keyChar,56,16,8,16
   199                        	.member	scanTime,72,18,8,32
   200                        	.member	ledStatus,104,14,8,8
   201                        	.eos
   202                        	.stag	_fx_property,384,23
   203                        	.member	name,0,110,8,0,16
   204                        	.member	value,128,110,8,0,32
   205                        	.eos
   206                        	.utag	_24bitPointer,32,24
   207                        	.member	address,0,142,11,32
   208                        	.member	bytes,0,110,11,0,4
   209                        	.eos
   210                        	.stag	_PointStruct,32,25
   211                        	.member	x,0,5,8,16
   212                        	.member	y,16,5,8,16
   213                        	.eos
   214                        	.stag	_RectStruct,112,26
   215                        	.member	x,0,5,8,16
   216                        	.member	y,16,5,8,16
   217                        	.member	z,32,18,8,32
  Sat Jul 10 2021  1:15                                                Page 5


   218                        	.member	width,64,5,8,16
   219                        	.member	height,80,5,8,16
   220                        	.member	attr,96,5,8,16
   221                        	.eos
   222                        	.stag	fake27_,96,27
   223                        	.member	name,0,142,8,32
   224                        	.member	topLeft,32,10,8,32,25
   225                        	.member	bottomRight,64,10,8,32,25
   226                        	.eos
   227                        	.stag	fake28_,112,28
   228                        	.member	x,0,5,8,16
   229                        	.member	y,16,5,8,16
   230                        	.member	z,32,5,8,16
   231                        	.member	width,48,5,8,16
   232                        	.member	height,64,5,8,16
   233                        	.member	data,80,18,8,32
   234                        	.eos
   235                        	.stag	_k_WindowClass,272,29
   236                        	.member	cbSize,0,16,8,16
   237                        	.member	style,16,16,8,16
   238                        	.member	styleEx,32,16,8,16
   239                        	.member	pWndProc,48,654,8,32
   240                        	.member	hInstance,80,129,8,32
   241                        	.member	hIcon,112,129,8,32
   242                        	.member	hCursor,144,129,8,32
   243                        	.member	hbrBackground,176,129,8,32
   244                        	.member	lpszMenuName,208,142,8,32
   245                        	.member	lpszClassName,240,142,8,32
   246                        	.eos
   247                        	.stag	_ClickableRect,152,30
   248                        	.member	area,0,10,8,112,26
   249                        	.member	z,112,18,8,32
   250                        	.member	enabled,144,14,8,8
   251                        	.eos
   252                        	.stag	_NCClickableRect,136,31
   253                        	.member	area,0,10,8,112,26
   254                        	.member	msgType,112,16,8,16
   255                        	.member	enabled,128,14,8,8
   256                        	.eos
   257                        	.stag	_DragData,216,32
   258                        	.member	area,0,10,8,112,26
   259                        	.member	xoffset,112,5,8,16
   260                        	.member	yoffset,128,5,8,16
   261                        	.member	msgType,144,16,8,16
   262                        	.member	ncAction,160,16,8,16
   263                        	.member	isDrag,176,14,8,8
   264                        	.member	isResize,184,14,8,8
   265                        	.member	canDrag,192,14,8,8
   266                        	.member	canDrop,200,14,8,8
   267                        	.member	didDrag,208,14,8,8
   268                        	.eos
   269                        	.stag	_k_WindowStruct,3904,33
   270                        	.member	cbSize,0,16,8,16
   271                        	.member	style,16,18,8,32
   272                        	.member	styleEx,48,18,8,32
   273                        	.member	win_id,80,5,8,16
   274                        	.member	win_x,96,5,8,16
   275                        	.member	win_y,112,5,8,16
  Sat Jul 10 2021  1:15                                                Page 6


   276                        	.member	win_width,128,5,8,16
   277                        	.member	win_height,144,5,8,16
   278                        	.member	win_xoffset,160,5,8,16
   279                        	.member	win_yoffset,176,5,8,16
   280                        	.member	win_cxoffset,192,5,8,16
   281                        	.member	win_cyoffset,208,5,8,16
   282                        	.member	wndRect,224,10,8,112,26
   283                        	.member	clientRect,336,10,8,112,26
   284                        	.member	nonclientGadgets,448,106,8,0,31,16
   285                        	.member	clickable,2624,129,8,32
   286                        	.member	win_title,2656,110,8,0,32
   287                        	.member	Reserved0,2912,16,8,16
   288                        	.member	win_class,2928,110,8,0,16
   289                        	.member	win_class_name,3056,110,8,0,32
   290                        	.member	nBitmapLayer,3312,16,8,16
   291                        	.member	bgRegion,3328,129,8,32
   292                        	.member	procid,3360,18,8,32
   293                        	.member	pWndClass,3392,138,8,32,29
   294                        	.member	pParentWindow,3424,129,8,32
   295                        	.member	hMenu,3456,129,8,32
   296                        	.member	hPointer,3488,129,8,32
   297                        	.member	hBackground,3520,129,8,32
   298                        	.member	pChildWindows,3552,138,8,32,6
   299                        	.member	pChildHitList,3584,138,8,32,6
   300                        	.member	isVisible,3616,14,8,8
   301                        	.member	windowData,3624,129,8,32
   302                        	.member	clientData,3656,1121,8,32,6
   303                        	.member	isClosed,3848,14,8,8
   304                        	.member	isClosing,3856,14,8,8
   305                        	.member	isDesktop,3864,14,8,8
   306                        	.member	clickableNode,3872,138,8,32,5
   307                        	.eos
   308                        	.stag	_k_WindowStructEx,3880,34
   309                        	.member	cbSize,0,16,8,16
   310                        	.member	style,16,18,8,32
   311                        	.member	styleEx,48,18,8,32
   312                        	.member	win_id,80,5,8,16
   313                        	.member	win_x,96,5,8,16
   314                        	.member	win_y,112,5,8,16
   315                        	.member	win_width,128,5,8,16
   316                        	.member	win_height,144,5,8,16
   317                        	.member	win_xoffset,160,5,8,16
   318                        	.member	win_yoffset,176,5,8,16
   319                        	.member	win_cxoffset,192,5,8,16
   320                        	.member	win_cyoffset,208,5,8,16
   321                        	.member	wndRect,224,10,8,112,26
   322                        	.member	clientRect,336,10,8,112,26
   323                        	.member	nonclientGadgets,448,106,8,0,31,16
   324                        	.member	clickable,2624,129,8,32
   325                        	.member	win_title,2656,110,8,0,32
   326                        	.member	Reserved0,2912,16,8,16
   327                        	.member	win_class,2928,110,8,0,16
   328                        	.member	nBitmapLayer,3056,16,8,16
   329                        	.member	procid,3072,18,8,32
   330                        	.member	pWndClass,3104,138,8,32,29
   331                        	.member	pParentWindow,3136,129,8,32
   332                        	.member	hMenu,3168,129,8,32
   333                        	.member	hPointer,3200,129,8,32
  Sat Jul 10 2021  1:15                                                Page 7


   334                        	.member	hBackground,3232,129,8,32
   335                        	.member	pChildWindows,3264,138,8,32,6
   336                        	.member	pChildHitList,3296,138,8,32,6
   337                        	.member	isVisible,3328,14,8,8
   338                        	.member	windowData,3336,129,8,32
   339                        	.member	clientData,3368,1121,8,32,4
   340                        	.member	isClosed,3496,14,8,8
   341                        	.member	hWnd,3504,129,8,32
   342                        	.member	localRect,3536,10,8,112,26
   343                        	.member	globalRect,3648,10,8,112,26
   344                        	.member	clientOffsetRect,3760,10,8,112,26
   345                        	.member	isDesktop,3872,14,8,8
   346                        	.eos
   347                        	.stag	_FontMetric,32,35
   348                        	.member	width,0,5,8,16
   349                        	.member	height,16,5,8,16
   350                        	.eos
   351                        	.stag	_MenuStruct,280,36
   352                        	.member	cx,0,5,8,16
   353                        	.member	cy,16,5,8,16
   354                        	.member	width,32,5,8,16
   355                        	.member	height,48,5,8,16
   356                        	.member	fcolor,64,14,8,8
   357                        	.member	bcolor,72,14,8,8
   358                        	.member	chromeLeft,80,14,8,8
   359                        	.member	chromeRight1,88,14,8,8
   360                        	.member	chromeRight2,96,14,8,8
   361                        	.member	hFont,104,129,8,32
   362                        	.member	itemId,136,16,8,16
   363                        	.member	pCaption,152,142,8,32
   364                        	.member	subMenus,184,138,8,32,6
   365                        	.member	pBackground,216,129,8,32
   366                        	.member	hWndOwner,248,129,8,32
   367                        	.eos
   368                        	.stag	fake37_,160,37
   369                        	.member	menuId,0,16,8,16
   370                        	.member	caption,16,142,8,32
   371                        	.member	rect,48,10,8,112,26
   372                        	.eos
   373                        	.stag	fake38_,5152,38
   374                        	.member	pParent,0,138,8,32,33
   375                        	.member	rect,32,10,8,112,26
   376                        	.member	captions,144,1134,8,32,24
   377                        	.member	chrome,912,110,8,0,24
   378                        	.member	ids,1104,112,8,0,24
   379                        	.member	clickable,1488,106,8,0,30,24
   380                        	.member	selected,5136,16,8,16
   381                        	.eos
   382                        	.stag	_fx_button_t,96,39
   383                        	.member	pCaption,0,142,8,32
   384                        	.member	cCaption,32,16,8,16
   385                        	.member	data,48,129,8,32
   386                        	.member	captionPixelWidth,80,16,8,16
   387                        	.eos
   388                        	.stag	_fx_scrollbar_t,240,40
   389                        	.member	min,0,16,8,16
   390                        	.member	max,16,16,8,16
   391                        	.member	increment,32,16,8,16
  Sat Jul 10 2021  1:15                                                Page 8


   392                        	.member	stopsize,48,16,8,16
   393                        	.member	location,64,5,8,16
   394                        	.member	state,80,5,8,16
   395                        	.member	rectThumb,96,10,8,112,26
   396                        	.member	data,208,129,8,32
   397                        	.eos
   398                        	.stag	_fx_listbox_t,240,41
   399                        	.member	pos,0,5,8,16
   400                        	.member	selected,16,16,8,16
   401                        	.member	offsetX,32,5,8,16
   402                        	.member	offsetY,48,5,8,16
   403                        	.member	inc,64,5,8,16
   404                        	.member	direction,80,5,8,16
   405                        	.member	top,96,5,8,16
   406                        	.member	bottom,112,5,8,16
   407                        	.member	indexTop,128,5,8,16
   408                        	.member	indexBottom,144,5,8,16
   409                        	.member	maxItems,160,16,8,16
   410                        	.member	fontSet,176,142,8,32
   411                        	.member	data,208,129,8,32
   412                        	.eos
   413                        	.stag	_fx_textbox_t,144,42
   414                        	.member	pos,0,5,8,16
   415                        	.member	selected,16,16,8,16
   416                        	.member	offsetX,32,5,8,16
   417                        	.member	offsetY,48,5,8,16
   418                        	.member	isShifted,64,14,8,8
   419                        	.member	cursorState,72,14,8,8
   420                        	.member	fontSet,80,142,8,32
   421                        	.member	data,112,129,8,32
   422                        	.eos
   423                        	.stag	_fx_msgbox_t,144,43
   424                        	.member	pos,0,5,8,16
   425                        	.member	selected,16,16,8,16
   426                        	.member	offsetX,32,5,8,16
   427                        	.member	offsetY,48,5,8,16
   428                        	.member	isShifted,64,14,8,8
   429                        	.member	cursorState,72,14,8,8
   430                        	.member	fontSet,80,142,8,32
   431                        	.member	data,112,129,8,32
   432                        	.eos
   433                        	.stag	_fx_menuAnchor_t,272,44
   434                        	.member	pCaption,0,142,8,32
   435                        	.member	renderLayoutX,32,16,8,16
   436                        	.member	renderLayoutY,48,16,8,16
   437                        	.member	captionPixelWidth,64,16,8,16
   438                        	.member	data,80,129,8,32
   439                        	.member	droppedWindow,112,138,8,32,33
   440                        	.member	bytes,144,110,8,0,16
   441                        	.eos
   442                        	.stag	_SubMenuStruct,64,45
   443                        	.member	caption,0,142,8,32
   444                        	.member	action,32,641,8,32
   445                        	.eos
   446                        	.stag	_SubMenuListStruct,40,46
   447                        	.member	cMenus,0,14,8,8
   448                        	.member	psubmenus,8,9354,8,32,45
   449                        	.eos
  Sat Jul 10 2021  1:15                                                Page 9


   450                        	.stag	_fx_ComBuffer,2080,47
   451                        	.member	cbSize,0,16,8,16
   452                        	.member	cbBuffer,16,16,8,16
   453                        	.member	buffer,32,110,8,0,256
   454                        	.eos
   455                        	.stag	_fx_resource_header,72,48
   456                        	.member	magic,0,110,8,0,4
   457                        	.member	major,32,14,8,8
   458                        	.member	minor,40,14,8,8
   459                        	.member	type,48,14,8,8
   460                        	.member	reserved,56,14,8,8
   461                        	.member	resheaderSize,64,14,8,8
   462                        	.eos
   463                        	.stag	_fx_resource_header_font,144,49
   464                        	.member	title,0,110,8,0,16
   465                        	.member	height,128,14,8,8
   466                        	.member	width,136,14,8,8
   467                        	.eos
   468                        	.line	1010
   469                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",7
   470                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256u.h",0
   471                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   472                        	.line	1010
   473                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256u.h",5
   474                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fmx_vicky.h",0
   475                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   476                        	.line	1010
   477                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fmx_vicky.h",11
   478                        	.line	72
   479                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256u.h",6
   480                        	.line	1960
   481                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",12
   482                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",0
   483                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   484                        	.line	205
   485                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",5
   486                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   487                        	.line	134
   488                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",6
   489                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   490                        	.line	1010
   491                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",7
  Sat Jul 10 2021  1:15                                                Page 10


   492                        	.stag	_fx_string,64,50
   493                        	.member	size,0,16,8,16
   494                        	.member	pos,16,5,8,16
   495                        	.member	buffer,32,142,8,32
   496                        	.eos
   497                        	.line	139
   498                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",17
   499                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",0
   500                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   501                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   502                        	.line	205
   503                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",4
   504                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   505                        	.line	134
   506                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",5
   507                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    ctype.h",0
   508                        	.line	103
   509                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",6
   510                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   511                        	.line	1010
   512                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",8
   513                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstringtable.h",0
   514                        	.line	89
   515                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",9
   516                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256u.h",0
   517                        	.line	1960
   518                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",16
   519                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",0
   520                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   521                        	.line	30
   522                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",5
   523                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   524                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   525                        	.line	1010
   526                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",11
   527                        	.line	114
   528                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
  Sat Jul 10 2021  1:15                                                Page 11


                    space\FXOSv1\src\fxkernel.h",6
   529                        	.stag	_fx_api_call_table,8192,51
   530                        	.member	call_table,0,1121,8,32,256
   531                        	.eos
   532                        	.stag	_fx_zero_page,824,52
   533                        	.member	fxos_mouse_byte_0,0,14,8,8
   534                        	.member	fxos_mouse_byte_1,8,14,8,8
   535                        	.member	fxos_mouse_byte_2,16,14,8,8
   536                        	.member	fxos_mouse_byte_t,24,14,8,8
   537                        	.member	fxos_mouse_byte_x_l,32,14,8,8
   538                        	.member	fxos_mouse_byte_x_h,40,14,8,8
   539                        	.member	fxos_mouse_byte_y_l,48,14,8,8
   540                        	.member	fxos_mouse_byte_y_h,56,14,8,8
   541                        	.member	fxos_key_byte_0,64,14,8,8
   542                        	.member	fxos_key_byte_1,72,14,8,8
   543                        	.member	fxos_key_byte_2,80,14,8,8
   544                        	.member	fxos_mouse_ctl,88,14,8,8
   545                        	.member	fxos_mouse_index,96,14,8,8
   546                        	.member	fxos_mouse_status,104,14,8,8
   547                        	.member	fxos_mouse_dbg_1,112,18,8,32
   548                        	.member	fxos_mouse_dbg_2,144,18,8,32
   549                        	.member	fxos_mouse_dbg_3,176,18,8,32
   550                        	.member	fxos_vicky_byte_0,208,14,8,8
   551                        	.member	fxos_vicky_byte_1,216,14,8,8
   552                        	.member	fxos_vicky_byte_2,224,14,8,8
   553                        	.member	VersionMajor,232,16,8,16
   554                        	.member	VersionMinor,248,16,8,16
   555                        	.member	VersionRelease,264,16,8,16
   556                        	.member	topMemory,280,18,8,32
   557                        	.member	bottomMemory,312,18,8,32
   558                        	.member	availableMemory,344,18,8,32
   559                        	.member	availableMemoryK,376,18,8,32
   560                        	.member	availableHeapMemory,408,18,8,32
   561                        	.member	availableHeapMemoryK,440,18,8,32
   562                        	.member	fxos_console_row,472,16,8,16
   563                        	.member	fxos_console_col,488,16,8,16
   564                        	.member	executive,504,129,8,32
   565                        	.member	eventmanager,536,129,8,32
   566                        	.member	devicemanager,568,129,8,32
   567                        	.member	windowmanager,600,129,8,32
   568                        	.member	fxos_kernel_api,632,138,8,32,51
   569                        	.member	fxos_dos_api,664,138,8,32,51
   570                        	.member	fxos_gfx_api,696,138,8,32,51
   571                        	.member	fxos_gui_api,728,138,8,32,51
   572                        	.member	fxos_con_api,760,138,8,32,51
   573                        	.member	fxos_reserved_2_api,792,138,8,32,51
   574                        	.eos
   575                        	.stag	_fx_environment,96,53
   576                        	.member	variables,0,142,8,32
   577                        	.member	reserved1,32,5,8,16
   578                        	.member	reserved2,48,5,8,16
   579                        	.member	reserved3,64,5,8,16
   580                        	.member	reserved4,80,5,8,16
   581                        	.eos
   582                        	.stag	_debug_byte_bits,8,54
   583                        	.member	bit7,0,14,17,1
   584                        	.member	bit6,1,14,17,1
   585                        	.member	bit5,2,14,17,1
  Sat Jul 10 2021  1:15                                                Page 12


   586                        	.member	bit4,3,14,17,1
   587                        	.member	bit3,4,14,17,1
   588                        	.member	bit2,5,14,17,1
   589                        	.member	bit1,6,14,17,1
   590                        	.member	bit0,7,14,17,1
   591                        	.eos
   592                        	.stag	_k_segmentheader,160,55
   593                        	.member	version_major,0,14,8,8
   594                        	.member	version_minor,8,14,8,8
   595                        	.member	length,16,5,8,16
   596                        	.member	segment_start_addr,32,7,8,32
   597                        	.member	segment_end_addr,64,7,8,32
   598                        	.member	segment_size,96,7,8,32
   599                        	.member	main_entry_addr,128,7,8,32
   600                        	.eos
   601                        	.stag	_fx_device_driver,776,56
   602                        	.member	name,0,110,8,0,32
   603                        	.member	version,256,110,8,0,16
   604                        	.member	hmajor,384,110,8,0,8
   605                        	.member	hminor,448,110,8,0,8
   606                        	.member	type,512,14,8,8
   607                        	.member	designation,520,110,8,0,6
   608                        	.member	reserved_1,568,16,8,16
   609                        	.member	f_driver_irq,584,129,8,32
   610                        	.member	driver_context,616,129,8,32
   611                        	.member	f_driver_load,648,129,8,32
   612                        	.member	f_driver_read,680,129,8,32
   613                        	.member	f_driver_write,712,129,8,32
   614                        	.member	f_driver_unload,744,129,8,32
   615                        	.eos
   616                        	.stag	_fx_block_device_driver,808,57
   617                        	.member	name,0,110,8,0,32
   618                        	.member	version,256,110,8,0,16
   619                        	.member	hmajor,384,110,8,0,8
   620                        	.member	hminor,448,110,8,0,8
   621                        	.member	type,512,14,8,8
   622                        	.member	designation,520,110,8,0,6
   623                        	.member	reserved_1,568,16,8,16
   624                        	.member	f_driver_irq,584,129,8,32
   625                        	.member	driver_context,616,129,8,32
   626                        	.member	f_driver_load,648,129,8,32
   627                        	.member	f_driver_read,680,129,8,32
   628                        	.member	f_driver_write,712,129,8,32
   629                        	.member	f_driver_unload,744,129,8,32
   630                        	.member	f_driver_command,776,129,8,32
   631                        	.eos
   632                        	.line	400
   633                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",22
   634                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",0
   635                        	.line	208
   636                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",23
   637                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",0
   638                        	.line	139
   639                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
  Sat Jul 10 2021  1:15                                                Page 13


                    space\FXOSv1\src\fxos.h",24
   640                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   641                        	.line	114
   642                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",25
   643                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\ff.h",0
   644                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\ffconf.h",0
   645                        	.line	298
   646                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\ff.h",29
   647                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   648                        	.line	1010
   649                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\ff.h",30
   650                        	.stag	fake58_,4504,58
   651                        	.member	fs_type,0,14,8,8
   652                        	.member	pdrv,8,14,8,8
   653                        	.member	n_fats,16,14,8,8
   654                        	.member	wflag,24,14,8,8
   655                        	.member	fsi_flag,32,14,8,8
   656                        	.member	id,40,5,8,16
   657                        	.member	n_rootdir,56,5,8,16
   658                        	.member	csize,72,5,8,16
   659                        	.member	lfnbuf,88,144,8,32
   660                        	.member	last_clst,120,18,8,32
   661                        	.member	free_clst,152,18,8,32
   662                        	.member	n_fatent,184,18,8,32
   663                        	.member	fsize,216,18,8,32
   664                        	.member	volbase,248,18,8,32
   665                        	.member	fatbase,280,18,8,32
   666                        	.member	dirbase,312,18,8,32
   667                        	.member	database,344,18,8,32
   668                        	.member	winsect,376,18,8,32
   669                        	.member	win,408,110,8,0,512
   670                        	.eos
   671                        	.stag	fake59_,128,59
   672                        	.member	fs,0,138,8,32,58
   673                        	.member	id,32,5,8,16
   674                        	.member	attr,48,14,8,8
   675                        	.member	stat,56,14,8,8
   676                        	.member	sclust,64,18,8,32
   677                        	.member	objsize,96,18,8,32
   678                        	.eos
   679                        	.stag	fake60_,4400,60
   680                        	.member	obj,0,10,8,128,59
   681                        	.member	flag,128,14,8,8
   682                        	.member	err,136,14,8,8
   683                        	.member	fptr,144,18,8,32
   684                        	.member	clust,176,18,8,32
   685                        	.member	sect,208,18,8,32
   686                        	.member	dir_sect,240,18,8,32
   687                        	.member	dir_ptr,272,142,8,32
   688                        	.member	buf,304,110,8,0,512
   689                        	.eos
  Sat Jul 10 2021  1:15                                                Page 14


   690                        	.stag	fake61_,416,61
   691                        	.member	obj,0,10,8,128,59
   692                        	.member	dptr,128,18,8,32
   693                        	.member	clust,160,18,8,32
   694                        	.member	sect,192,18,8,32
   695                        	.member	dir,224,142,8,32
   696                        	.member	fn,256,110,8,0,12
   697                        	.member	blk_ofs,352,18,8,32
   698                        	.member	pat,384,142,8,32
   699                        	.eos
   700                        	.stag	fake62_,2224,62
   701                        	.member	fsize,0,18,8,32
   702                        	.member	fdate,32,5,8,16
   703                        	.member	ftime,48,5,8,16
   704                        	.member	fattrib,64,14,8,8
   705                        	.member	altname,72,110,8,0,13
   706                        	.member	fname,176,110,8,0,256
   707                        	.eos
   708                        	.stag	fake63_,80,63
   709                        	.member	fmt,0,14,8,8
   710                        	.member	n_fat,8,14,8,8
   711                        	.member	align,16,16,8,16
   712                        	.member	n_root,32,16,8,16
   713                        	.member	au_size,48,18,8,32
   714                        	.eos
   715                        	.line	429
   716                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",26
   717                        	.line	30
   718                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",5
   719                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxexec.h",0
   720                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   721                        	.line	1010
   722                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxexec.h",5
   723                        	.stag	_fxos_executive_vtable,128,64
   724                        	.member	Init,0,8833,8,32
   725                        	.member	Configure,32,656,8,32
   726                        	.member	Query,64,656,8,32
   727                        	.member	Uninit,96,641,8,32
   728                        	.eos
   729                        	.line	86
   730                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",6
   731                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   732                        	.line	114
   733                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",7
   734                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",0
   735                        	.line	208
   736                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",8
   737                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
  Sat Jul 10 2021  1:15                                                Page 15


                    space\FXOSv1\src\fxwindowmanager.h",0
   738                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   739                        	.line	30
   740                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",5
   741                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",0
   742                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   743                        	.line	30
   744                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",5
   745                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc_cfg.h",0
   746                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos_build_parameters.h",0
   747                        	.line	35
   748                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc_cfg.h",8
   749                        	.stag	UMM_HEAP_INFO_t,256,65
   750                        	.member	totalEntries,0,18,8,32
   751                        	.member	usedEntries,32,18,8,32
   752                        	.member	freeEntries,64,18,8,32
   753                        	.member	totalBlocks,96,18,8,32
   754                        	.member	usedBlocks,128,18,8,32
   755                        	.member	freeBlocks,160,18,8,32
   756                        	.member	maxFreeContiguousBlocks,192,18,8,32
   757                        	.member	blockSize,224,18,8,32
   758                        	.eos
   759                        	.line	199
   760                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",6
   761                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc.h",0
   762                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   763                        	.line	1010
   764                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc.h",11
   765                        	.line	24
   766                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",7
   767                        	.stag	_fx_memory_map,2072,66
   768                        	.member	availableMemory,0,18,8,32
   769                        	.member	valid_segments,32,110,8,0,255
   770                        	.eos
   771                        	.stag	_fx_ipc_port,144,67
   772                        	.member	id,0,18,8,32
   773                        	.member	type,32,14,8,8
   774                        	.member	name,40,138,8,32,50
   775                        	.member	time,72,18,8,32
   776                        	.member	queue,104,138,8,32,7
   777                        	.member	reserved_1,136,14,8,8
   778                        	.eos
   779                        	.line	105
   780                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",6
  Sat Jul 10 2021  1:15                                                Page 16


   781                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",0
   782                        	.line	564
   783                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",7
   784                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.h",0
   785                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",0
   786                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   787                        	.line	1010
   788                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",6
   789                        	.line	74
   790                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.h",5
   791                        	.stag	_click_detected,64,68
   792                        	.member	window,0,138,8,32,33
   793                        	.member	handler,32,641,8,32
   794                        	.eos
   795                        	.stag	_current_palette_map,400,69
   796                        	.member	CUR_DESKTOP,0,5,8,16
   797                        	.member	CUR_BACKGROUND,16,5,8,16
   798                        	.member	CUR_FONT,32,5,8,16
   799                        	.member	CUR_SELECTED_FONT,48,5,8,16
   800                        	.member	CUR_HIGHLIGHT_COLOR,64,5,8,16
   801                        	.member	CUR_WINDOWFRAME,80,5,8,16
   802                        	.member	CUR_WINDOWBORDER,96,5,8,16
   803                        	.member	CUR_WINDOWSHADOW,112,5,8,16
   804                        	.member	CUR_MENU,128,5,8,16
   805                        	.member	CUR_GADGET,144,5,8,16
   806                        	.member	CUR_COLOR,160,101,8,0,15
   807                        	.eos
   808                        	.line	359
   809                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",8
   810                        	.stag	_fxos_winman_vtable,160,70
   811                        	.member	Events,0,641,8,32
   812                        	.member	ConfigureWindowManager,32,656,8,32
   813                        	.member	ProcessWindowEvent,64,8833,8,32
   814                        	.member	QueryWindowManager,96,656,8,32
   815                        	.member	DoWndProcs,128,641,8,32
   816                        	.eos
   817                        	.stag	fake71_,64,71
   818                        	.member	type,0,16,8,16
   819                        	.member	size,16,16,8,16
   820                        	.member	desktopAction,32,129,8,32
   821                        	.eos
   822                        	.stag	fake72_,96,72
   823                        	.member	type,0,16,8,16
   824                        	.member	caption,16,138,8,32,50
   825                        	.member	buttonType,48,16,8,16
   826                        	.member	x,64,5,8,16
   827                        	.member	y,80,5,8,16
   828                        	.eos
   829                        	.stag	_childMessage_t,64,73
   830                        	.member	msgType,0,16,8,16
  Sat Jul 10 2021  1:15                                                Page 17


   831                        	.member	msgData,16,129,8,32
   832                        	.member	dataSize,48,16,8,16
   833                        	.eos
   834                        	.line	581
   835                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",9
   836                        	.stag	_fx_main_loopvars,16,74
   837                        	.member	dummy,0,5,8,16
   838                        	.eos
   839                        	.stag	_fxMouseMessageData,64,75
   840                        	.member	button1,0,14,8,8
   841                        	.member	button2,8,14,8,8
   842                        	.member	button3,16,14,8,8
   843                        	.member	button4,24,14,8,8
   844                        	.member	x,32,16,8,16
   845                        	.member	y,48,16,8,16
   846                        	.eos
   847                        	.utag	marshalled_data,32,76
   848                        	.member	byteValue,0,14,11,8
   849                        	.member	verbValue,0,110,11,0,2
   850                        	.member	intValue,0,16,11,16
   851                        	.member	longValue,0,18,11,32
   852                        	.member	pointerValue,0,129,11,32
   853                        	.eos
   854                        	.stag	_fx_eventProcess,64,77
   855                        	.member	process,0,138,8,32,20
   856                        	.member	eventProc,32,641,8,32
   857                        	.eos
   858                        	.stag	_mouse_msg_state,184,78
   859                        	.member	lastEvent,0,18,8,32
   860                        	.member	buttonLeftDown,32,14,8,8
   861                        	.member	lastLeftDown,40,18,8,32
   862                        	.member	buttonRightDown,72,14,8,8
   863                        	.member	lastRightDown,80,18,8,32
   864                        	.member	buttonMiddleDown,112,14,8,8
   865                        	.member	lastMiddleDown,120,18,8,32
   866                        	.member	lastX,152,16,8,16
   867                        	.member	lastY,168,16,8,16
   868                        	.eos
   869                        	.stag	_fxos_eventmanager_vtable,192,79
   870                        	.member	EventQueue,0,138,8,32,7
   871                        	.member	Init,32,8833,8,32
   872                        	.member	Run,64,656,8,32
   873                        	.member	Configure,96,656,8,32
   874                        	.member	Query,128,656,8,32
   875                        	.member	Uninit,160,641,8,32
   876                        	.eos
   877                        	.stag	_k_clipboard_data,168,80
   878                        	.member	type,0,14,8,8
   879                        	.member	readable,8,110,8,0,16
   880                        	.member	data,136,129,8,32
   881                        	.eos
   882                        	.line	564
   883                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",18
   884                        	.stag	_fx_spinner_ctx,48,81
   885                        	.member	index,0,5,8,16
   886                        	.member	spinner,16,142,8,32
  Sat Jul 10 2021  1:15                                                Page 18


   887                        	.eos
   888                        	.stag	_fx_console_ctx,1144,82
   889                        	.member	lineBufferIndex,0,5,8,16
   890                        	.member	lineBuffer,16,110,8,0,128
   891                        	.member	isShifted,1040,14,8,8
   892                        	.member	userData,1048,129,8,32
   893                        	.member	screenBuffer,1080,129,8,32
   894                        	.member	Reserved1,1112,129,8,32
   895                        	.eos
   896                        	.stag	_token,64,83
   897                        	.member	type,0,5,8,16
   898                        	.member	depth,16,16,8,16
   899                        	.member	text,32,142,8,32
   900                        	.eos
   901                        	.stag	_command_args,64,84
   902                        	.member	proc,0,656,8,32
   903                        	.member	tokens,32,138,8,32,5
   904                        	.eos
   905                        	.line	208
   906                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.c",2
   907                        ;#include "fxdos.h"
   908                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxdos.h",0
   909                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   910                        	.line	1010
   911                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxdos.h",5
   912                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\ff.h",0
   913                        	.line	429
   914                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxdos.h",6
   915                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\diskio.h",0
   916                        	.line	85
   917                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxdos.h",7
   918                        	.stag	_fx_sd_direntry,256,85
   919                        	.member	filename,0,110,8,0,11
   920                        	.member	type,88,14,8,8
   921                        	.member	attrs,96,110,8,0,20
   922                        	.eos
   923                        	.stag	_fx_info,416,86
   924                        	.member	stgName,0,110,8,0,32
   925                        	.member	Reserved1,256,14,8,8
   926                        	.member	stgType,264,16,8,16
   927                        	.member	Reserved2,280,14,8,8
   928                        	.member	stgReserved,288,110,8,0,16
   929                        	.eos
   930                        	.stag	_fx_fileinfo,136,87
   931                        	.member	type,0,14,8,8
   932                        	.member	pFilename,8,142,8,32
   933                        	.member	lSize,40,18,8,32
   934                        	.member	lcreateDate,72,18,8,32
   935                        	.member	lchangeDate,104,18,8,32
   936                        	.eos
  Sat Jul 10 2021  1:15                                                Page 19


   937                        	.stag	_FX_FAT_DIR_INFO,256,88
   938                        	.member	DIR_Name,0,110,8,0,11
   939                        	.member	DIR_Attr,88,14,8,8
   940                        	.member	DIR_NTRes,96,14,8,8
   941                        	.member	DIR_CrtTimeTenth,104,14,8,8
   942                        	.member	DIR_CrtTime,112,16,8,16
   943                        	.member	DIR_CrtDate,128,16,8,16
   944                        	.member	DIR_LstAccDate,144,16,8,16
   945                        	.member	DIR_FstClusHI,160,16,8,16
   946                        	.member	DIR_WrtTime,176,16,8,16
   947                        	.member	DIR_WrtDate,192,16,8,16
   948                        	.member	DIR_FstClusLO,208,16,8,16
   949                        	.member	DIR_FileSize,224,18,8,32
   950                        	.eos
   951                        	.stag	fat_extBS_32,416,89
   952                        	.member	table_size_32,0,18,8,32
   953                        	.member	extended_flags,32,16,8,16
   954                        	.member	fat_version,48,16,8,16
   955                        	.member	root_cluster,64,18,8,32
   956                        	.member	fat_info,96,16,8,16
   957                        	.member	backup_BS_sector,112,16,8,16
   958                        	.member	reserved_0,128,110,8,0,12
   959                        	.member	drive_number,224,14,8,8
   960                        	.member	reserved_1,232,14,8,8
   961                        	.member	boot_signature,240,14,8,8
   962                        	.member	volume_id,248,16,8,16
   963                        	.member	volume_label,264,110,8,0,11
   964                        	.member	fat_type_label,352,110,8,0,8
   965                        	.eos
   966                        	.stag	fat_extBS_16,192,90
   967                        	.member	bios_drive_num,0,14,8,8
   968                        	.member	reserved1,8,14,8,8
   969                        	.member	boot_signature,16,14,8,8
   970                        	.member	volume_id,24,16,8,16
   971                        	.member	volume_label,40,110,8,0,11
   972                        	.member	fat_type_label,128,110,8,0,8
   973                        	.eos
   974                        	.stag	fat_BS,688,91
   975                        	.member	bootjmp,0,110,8,0,3
   976                        	.member	oem_name,24,110,8,0,8
   977                        	.member	bytes_per_sector,88,16,8,16
   978                        	.member	sectors_per_cluster,104,14,8,8
   979                        	.member	reserved_sector_count,112,16,8,16
   980                        	.member	table_count,128,14,8,8
   981                        	.member	root_entry_count,136,16,8,16
   982                        	.member	total_sectors_16,152,16,8,16
   983                        	.member	media_type,168,14,8,8
   984                        	.member	table_size_16,176,16,8,16
   985                        	.member	sectors_per_track,192,16,8,16
   986                        	.member	head_side_count,208,16,8,16
   987                        	.member	hidden_sector_count,224,16,8,16
   988                        	.member	total_sectors_32,240,16,8,16
   989                        	.member	extended_section,256,110,8,0,54
   990                        	.eos
   991                        	.stag	__FATBootSector,928,92
   992                        	.member	bootjmp,0,110,8,0,3
   993                        	.member	oem_name,24,110,8,0,8
   994                        	.member	bytes_per_sector,88,16,8,16
  Sat Jul 10 2021  1:15                                                Page 20


   995                        	.member	sectors_per_cluster,104,14,8,8
   996                        	.member	reserved_sector_count,112,16,8,16
   997                        	.member	fat_table_count,128,14,8,8
   998                        	.member	root_entry_count,136,16,8,16
   999                        	.member	total_sectors_16,152,16,8,16
  1000                        	.member	media_type,168,14,8,8
  1001                        	.member	sectors_per_fat,176,16,8,16
  1002                        	.member	sectors_per_track,192,16,8,16
  1003                        	.member	head_side_count,208,16,8,16
  1004                        	.member	hidden_sector_count,224,18,8,32
  1005                        	.member	total_sectors_32,256,18,8,32
  1006                        	.member	drive_number,288,14,8,8
  1007                        	.member	reserved1,296,14,8,8
  1008                        	.member	boot_sig,304,14,8,8
  1009                        	.member	vol_id,312,18,8,32
  1010                        	.member	vol_name,344,110,8,0,11
  1011                        	.member	file_system_type,432,110,8,0,8
  1012                        	.member	extended_section,496,110,8,0,54
  1013                        	.eos
  1014                        	.stag	__PARTITIONTABLE,128,93
  1015                        	.member	first_byte,0,14,8,8
  1016                        	.member	start_chs,8,110,8,0,3
  1017                        	.member	partition_type,32,14,8,8
  1018                        	.member	end_chs,40,110,8,0,3
  1019                        	.member	start_sector,64,18,8,32
  1020                        	.member	length_sectors,96,18,8,32
  1021                        	.eos
  1022                        	.stag	fake94_,4096,94
  1023                        	.member	jmp,0,110,8,0,3
  1024                        	.member	oem,24,110,8,0,8
  1025                        	.member	sector_size,88,15,8,16
  1026                        	.member	sectors_per_cluster,104,14,8,8
  1027                        	.member	reserved_sectors,112,15,8,16
  1028                        	.member	number_ok_dos_fats,128,14,8,8
  1029                        	.member	root_dir_entries,136,15,8,16
  1030                        	.member	total_sectors_short,152,15,8,16
  1031                        	.member	media_descriptor,168,14,8,8
  1032                        	.member	fat_size_sectors,176,15,8,16
  1033                        	.member	sectors_per_track,192,15,8,16
  1034                        	.member	number_ok_dos_heads,208,15,8,16
  1035                        	.member	hidden_sectors,224,18,8,32
  1036                        	.member	total_sectors_long,256,18,8,32
  1037                        	.member	drive_number,288,14,8,8
  1038                        	.member	current_head,296,14,8,8
  1039                        	.member	boot_signature,304,14,8,8
  1040                        	.member	volume_id,312,18,8,32
  1041                        	.member	volume_label,344,110,8,0,11
  1042                        	.member	fs_type,432,110,8,0,8
  1043                        	.member	boot_code,496,110,8,0,448
  1044                        	.member	boot_sector_signature,4080,15,8,16
  1045                        	.eos
  1046                        	.stag	__FAT16ENTRY,256,95
  1047                        	.member	filename,0,110,8,0,8
  1048                        	.member	ext,64,110,8,0,3
  1049                        	.member	attributes,88,14,8,8
  1050                        	.member	reserved,96,110,8,0,10
  1051                        	.member	modify_time,176,16,8,16
  1052                        	.member	modify_date,192,16,8,16
  Sat Jul 10 2021  1:15                                                Page 21


  1053                        	.member	starting_cluster,208,16,8,16
  1054                        	.member	file_size,224,18,8,32
  1055                        	.eos
  1056                        	.stag	__FAT16ENTRYLONG,288,96
  1057                        	.member	filename,0,110,8,0,8
  1058                        	.member	ext,64,110,8,0,3
  1059                        	.member	attributes,88,14,8,8
  1060                        	.member	reserved,96,110,8,0,10
  1061                        	.member	modify_time,176,16,8,16
  1062                        	.member	modify_date,192,16,8,16
  1063                        	.member	starting_cluster,208,16,8,16
  1064                        	.member	file_size,224,18,8,32
  1065                        	.member	plongfileName,256,142,8,32
  1066                        	.eos
  1067                        	.stag	_LongFileName,256,97
  1068                        	.member	sequenceNo,0,14,8,8
  1069                        	.member	fileName_Part1,8,110,8,0,10
  1070                        	.member	fileattribute,88,14,8,8
  1071                        	.member	type,96,14,8,8
  1072                        	.member	checksum,104,14,8,8
  1073                        	.member	fileName_Part2,112,110,8,0,12
  1074                        	.member	fstclusLO,208,5,8,16
  1075                        	.member	fileName_Part3,224,110,8,0,4
  1076                        	.eos
  1077                        	.stag	_IDSECTOR,2048,98
  1078                        	.member	wGenConfig,0,16,8,16
  1079                        	.member	wNumCyls,16,16,8,16
  1080                        	.member	wReserved,32,16,8,16
  1081                        	.member	wNumHeads,48,16,8,16
  1082                        	.member	wBytesPerTrack,64,16,8,16
  1083                        	.member	wBytesPerSector,80,16,8,16
  1084                        	.member	wSectorsPerTrack,96,16,8,16
  1085                        	.member	wVendorUnique,112,112,8,0,3
  1086                        	.member	sSerialNumber,160,110,8,0,20
  1087                        	.member	wBufferType,320,16,8,16
  1088                        	.member	wBufferSize,336,16,8,16
  1089                        	.member	wECCSize,352,16,8,16
  1090                        	.member	sFirmwareRev,368,110,8,0,8
  1091                        	.member	sModelNumber,432,110,8,0,40
  1092                        	.member	wMoreVendorUnique,752,16,8,16
  1093                        	.member	wDoubleWordIO,768,16,8,16
  1094                        	.member	wCapabilities,784,16,8,16
  1095                        	.member	wReserved1,800,16,8,16
  1096                        	.member	wPIOTiming,816,16,8,16
  1097                        	.member	wDMATiming,832,16,8,16
  1098                        	.member	wBS,848,16,8,16
  1099                        	.member	wNumCurrentCyls,864,16,8,16
  1100                        	.member	wNumCurrentHeads,880,16,8,16
  1101                        	.member	wNumCurrentSectorsPerTrack,896,16,8,16
  1102                        	.member	ulCurrentSectorCapacity,912,18,8,32
  1103                        	.member	wMultSectorStuff,944,16,8,16
  1104                        	.member	ulTotalAddressableSectors,960,18,8,32
  1105                        	.member	wSingleWordDMA,992,16,8,16
  1106                        	.member	wMultiWordDMA,1008,16,8,16
  1107                        	.member	bReserved,1024,110,8,0,128
  1108                        	.eos
  1109                        	.stag	fake99_,16,99
  1110                        	.member	Reserved1,0,16,17,1
  Sat Jul 10 2021  1:15                                                Page 22


  1111                        	.member	Retired3,1,16,17,1
  1112                        	.member	ResponseIncomplete,2,16,17,1
  1113                        	.member	Retired2,3,16,17,3
  1114                        	.member	FixedDevice,6,16,17,1
  1115                        	.member	RemovableMedia,7,16,17,1
  1116                        	.member	Retired1,8,16,17,7
  1117                        	.member	DeviceType,15,16,17,1
  1118                        	.eos
  1119                        	.stag	fake100_,16,100
  1120                        	.member	FeatureSupported,0,16,17,1
  1121                        	.member	Reserved,1,16,17,15
  1122                        	.eos
  1123                        	.stag	fake101_,32,101
  1124                        	.member	CurrentLongPhysicalSectorAlignment,0,14,
                    17,2
  1125                        	.member	ReservedByte49,2,14,17,6
  1126                        	.member	DmaSupported,8,14,17,1
  1127                        	.member	LbaSupported,9,14,17,1
  1128                        	.member	IordyDisable,10,14,17,1
  1129                        	.member	IordySupported,11,14,17,1
  1130                        	.member	Reserved1,12,14,17,1
  1131                        	.member	StandybyTimerSupport,13,14,17,1
  1132                        	.member	Reserved2,14,14,17,2
  1133                        	.member	ReservedWord50,16,16,8,16
  1134                        	.eos
  1135                        	.stag	fake102_,16,102
  1136                        	.member	ZonedCapabilities,0,16,17,2
  1137                        	.member	NonVolatileWriteCache,2,16,17,1
  1138                        	.member	ExtendedUserAddressableSectorsSupported,
                    3,16,17,1
  1139                        	.member	DeviceEncryptsAllUserData,4,16,17,1
  1140                        	.member	ReadZeroAfterTrimSupported,5,16,17,1
  1141                        	.member	Optional28BitCommandsSupported,6,16,17,1
  1142                        	.member	IEEE1667,7,16,17,1
  1143                        	.member	DownloadMicrocodeDmaSupported,8,16,17,1
  1144                        	.member	SetMaxSetPasswordUnlockDmaSupported,9,16
                    ,17,1
  1145                        	.member	WriteBufferDmaSupported,10,16,17,1
  1146                        	.member	ReadBufferDmaSupported,11,16,17,1
  1147                        	.member	DeviceConfigIdentifySetDmaSupported,12,1
                    6,17,1
  1148                        	.member	LPSAERCSupported,13,16,17,1
  1149                        	.member	DeterministicReadAfterTrimSupported,14,1
                    6,17,1
  1150                        	.member	CFastSpecSupported,15,16,17,1
  1151                        	.eos
  1152                        	.stag	fake103_,32,103
  1153                        	.member	Reserved0,0,16,17,1
  1154                        	.member	SataGen1,1,16,17,1
  1155                        	.member	SataGen2,2,16,17,1
  1156                        	.member	SataGen3,3,16,17,1
  1157                        	.member	Reserved1,4,16,17,4
  1158                        	.member	NCQ,8,16,17,1
  1159                        	.member	HIPM,9,16,17,1
  1160                        	.member	PhyEvents,10,16,17,1
  1161                        	.member	NcqUnload,11,16,17,1
  1162                        	.member	NcqPriority,12,16,17,1
  1163                        	.member	HostAutoPS,13,16,17,1
  Sat Jul 10 2021  1:15                                                Page 23


  1164                        	.member	DeviceAutoPS,14,16,17,1
  1165                        	.member	ReadLogDMA,15,16,17,1
  1166                        	.member	Reserved2,16,16,17,1
  1167                        	.member	CurrentSpeed,17,16,17,3
  1168                        	.member	NcqStreaming,20,16,17,1
  1169                        	.member	NcqQueueMgmt,21,16,17,1
  1170                        	.member	NcqReceiveSend,22,16,17,1
  1171                        	.member	DEVSLPtoReducedPwrState,23,16,17,1
  1172                        	.member	Reserved3,24,16,17,8
  1173                        	.eos
  1174                        	.stag	fake104_,16,104
  1175                        	.member	Reserved0,0,16,17,1
  1176                        	.member	NonZeroOffsets,1,16,17,1
  1177                        	.member	DmaSetupAutoActivate,2,16,17,1
  1178                        	.member	DIPM,3,16,17,1
  1179                        	.member	InOrderData,4,16,17,1
  1180                        	.member	HardwareFeatureControl,5,16,17,1
  1181                        	.member	SoftwareSettingsPreservation,6,16,17,1
  1182                        	.member	NCQAutosense,7,16,17,1
  1183                        	.member	DEVSLP,8,16,17,1
  1184                        	.member	HybridInformation,9,16,17,1
  1185                        	.member	Reserved1,10,16,17,6
  1186                        	.eos
  1187                        	.stag	fake105_,16,105
  1188                        	.member	Reserved0,0,16,17,1
  1189                        	.member	NonZeroOffsets,1,16,17,1
  1190                        	.member	DmaSetupAutoActivate,2,16,17,1
  1191                        	.member	DIPM,3,16,17,1
  1192                        	.member	InOrderData,4,16,17,1
  1193                        	.member	HardwareFeatureControl,5,16,17,1
  1194                        	.member	SoftwareSettingsPreservation,6,16,17,1
  1195                        	.member	DeviceAutoPS,7,16,17,1
  1196                        	.member	DEVSLP,8,16,17,1
  1197                        	.member	HybridInformation,9,16,17,1
  1198                        	.member	Reserved1,10,16,17,6
  1199                        	.eos
  1200                        	.stag	fake106_,48,106
  1201                        	.member	SmartCommands,0,16,17,1
  1202                        	.member	SecurityMode,1,16,17,1
  1203                        	.member	RemovableMediaFeature,2,16,17,1
  1204                        	.member	PowerManagement,3,16,17,1
  1205                        	.member	Reserved1,4,16,17,1
  1206                        	.member	WriteCache,5,16,17,1
  1207                        	.member	LookAhead,6,16,17,1
  1208                        	.member	ReleaseInterrupt,7,16,17,1
  1209                        	.member	ServiceInterrupt,8,16,17,1
  1210                        	.member	DeviceReset,9,16,17,1
  1211                        	.member	HostProtectedArea,10,16,17,1
  1212                        	.member	Obsolete1,11,16,17,1
  1213                        	.member	WriteBuffer,12,16,17,1
  1214                        	.member	ReadBuffer,13,16,17,1
  1215                        	.member	Nop,14,16,17,1
  1216                        	.member	Obsolete2,15,16,17,1
  1217                        	.member	DownloadMicrocode,16,16,17,1
  1218                        	.member	DmaQueued,17,16,17,1
  1219                        	.member	Cfa,18,16,17,1
  1220                        	.member	AdvancedPm,19,16,17,1
  1221                        	.member	Msn,20,16,17,1
  Sat Jul 10 2021  1:15                                                Page 24


  1222                        	.member	PowerUpInStandby,21,16,17,1
  1223                        	.member	ManualPowerUp,22,16,17,1
  1224                        	.member	Reserved2,23,16,17,1
  1225                        	.member	SetMax,24,16,17,1
  1226                        	.member	Acoustics,25,16,17,1
  1227                        	.member	BigLba,26,16,17,1
  1228                        	.member	DeviceConfigOverlay,27,16,17,1
  1229                        	.member	FlushCache,28,16,17,1
  1230                        	.member	FlushCacheExt,29,16,17,1
  1231                        	.member	WordValid83,30,16,17,2
  1232                        	.member	SmartErrorLog,32,16,17,1
  1233                        	.member	SmartSelfTest,33,16,17,1
  1234                        	.member	MediaSerialNumber,34,16,17,1
  1235                        	.member	MediaCardPassThrough,35,16,17,1
  1236                        	.member	StreamingFeature,36,16,17,1
  1237                        	.member	GpLogging,37,16,17,1
  1238                        	.member	WriteFua,38,16,17,1
  1239                        	.member	WriteQueuedFua,39,16,17,1
  1240                        	.member	WWN64Bit,40,16,17,1
  1241                        	.member	URGReadStream,41,16,17,1
  1242                        	.member	URGWriteStream,42,16,17,1
  1243                        	.member	ReservedForTechReport,43,16,17,2
  1244                        	.member	IdleWithUnloadFeature,45,16,17,1
  1245                        	.member	WordValid,46,16,17,2
  1246                        	.eos
  1247                        	.stag	fake107_,48,107
  1248                        	.member	SmartCommands,0,16,17,1
  1249                        	.member	SecurityMode,1,16,17,1
  1250                        	.member	RemovableMediaFeature,2,16,17,1
  1251                        	.member	PowerManagement,3,16,17,1
  1252                        	.member	Reserved1,4,16,17,1
  1253                        	.member	WriteCache,5,16,17,1
  1254                        	.member	LookAhead,6,16,17,1
  1255                        	.member	ReleaseInterrupt,7,16,17,1
  1256                        	.member	ServiceInterrupt,8,16,17,1
  1257                        	.member	DeviceReset,9,16,17,1
  1258                        	.member	HostProtectedArea,10,16,17,1
  1259                        	.member	Obsolete1,11,16,17,1
  1260                        	.member	WriteBuffer,12,16,17,1
  1261                        	.member	ReadBuffer,13,16,17,1
  1262                        	.member	Nop,14,16,17,1
  1263                        	.member	Obsolete2,15,16,17,1
  1264                        	.member	DownloadMicrocode,16,16,17,1
  1265                        	.member	DmaQueued,17,16,17,1
  1266                        	.member	Cfa,18,16,17,1
  1267                        	.member	AdvancedPm,19,16,17,1
  1268                        	.member	Msn,20,16,17,1
  1269                        	.member	PowerUpInStandby,21,16,17,1
  1270                        	.member	ManualPowerUp,22,16,17,1
  1271                        	.member	Reserved2,23,16,17,1
  1272                        	.member	SetMax,24,16,17,1
  1273                        	.member	Acoustics,25,16,17,1
  1274                        	.member	BigLba,26,16,17,1
  1275                        	.member	DeviceConfigOverlay,27,16,17,1
  1276                        	.member	FlushCache,28,16,17,1
  1277                        	.member	FlushCacheExt,29,16,17,1
  1278                        	.member	Resrved3,30,16,17,1
  1279                        	.member	Words119_120Valid,31,16,17,1
  Sat Jul 10 2021  1:15                                                Page 25


  1280                        	.member	SmartErrorLog,32,16,17,1
  1281                        	.member	SmartSelfTest,33,16,17,1
  1282                        	.member	MediaSerialNumber,34,16,17,1
  1283                        	.member	MediaCardPassThrough,35,16,17,1
  1284                        	.member	StreamingFeature,36,16,17,1
  1285                        	.member	GpLogging,37,16,17,1
  1286                        	.member	WriteFua,38,16,17,1
  1287                        	.member	WriteQueuedFua,39,16,17,1
  1288                        	.member	WWN64Bit,40,16,17,1
  1289                        	.member	URGReadStream,41,16,17,1
  1290                        	.member	URGWriteStream,42,16,17,1
  1291                        	.member	ReservedForTechReport,43,16,17,2
  1292                        	.member	IdleWithUnloadFeature,45,16,17,1
  1293                        	.member	Reserved4,46,16,17,2
  1294                        	.eos
  1295                        	.stag	fake108_,16,108
  1296                        	.member	TimeRequired,0,16,17,15
  1297                        	.member	ExtendedTimeReported,15,16,17,1
  1298                        	.eos
  1299                        	.stag	fake109_,16,109
  1300                        	.member	TimeRequired,0,16,17,15
  1301                        	.member	ExtendedTimeReported,15,16,17,1
  1302                        	.eos
  1303                        	.stag	fake110_,16,110
  1304                        	.member	LogicalSectorsPerPhysicalSector,0,16,17,
                    4
  1305                        	.member	Reserved0,4,16,17,8
  1306                        	.member	LogicalSectorLongerThan256Words,12,16,17
                    ,1
  1307                        	.member	MultipleLogicalSectorsPerPhysicalSector,
                    13,16,17,1
  1308                        	.member	Reserved1,14,16,17,2
  1309                        	.eos
  1310                        	.stag	fake111_,16,111
  1311                        	.member	ReservedForDrqTechnicalReport,0,16,17,1
  1312                        	.member	WriteReadVerify,1,16,17,1
  1313                        	.member	WriteUncorrectableExt,2,16,17,1
  1314                        	.member	ReadWriteLogDmaExt,3,16,17,1
  1315                        	.member	DownloadMicrocodeMode3,4,16,17,1
  1316                        	.member	FreefallControl,5,16,17,1
  1317                        	.member	SenseDataReporting,6,16,17,1
  1318                        	.member	ExtendedPowerConditions,7,16,17,1
  1319                        	.member	Reserved0,8,16,17,6
  1320                        	.member	WordValid,14,16,17,2
  1321                        	.eos
  1322                        	.stag	fake112_,16,112
  1323                        	.member	ReservedForDrqTechnicalReport,0,16,17,1
  1324                        	.member	WriteReadVerify,1,16,17,1
  1325                        	.member	WriteUncorrectableExt,2,16,17,1
  1326                        	.member	ReadWriteLogDmaExt,3,16,17,1
  1327                        	.member	DownloadMicrocodeMode3,4,16,17,1
  1328                        	.member	FreefallControl,5,16,17,1
  1329                        	.member	SenseDataReporting,6,16,17,1
  1330                        	.member	ExtendedPowerConditions,7,16,17,1
  1331                        	.member	Reserved0,8,16,17,6
  1332                        	.member	Reserved1,14,16,17,2
  1333                        	.eos
  1334                        	.stag	fake113_,16,113
  Sat Jul 10 2021  1:15                                                Page 26


  1335                        	.member	SecuritySupported,0,16,17,1
  1336                        	.member	SecurityEnabled,1,16,17,1
  1337                        	.member	SecurityLocked,2,16,17,1
  1338                        	.member	SecurityFrozen,3,16,17,1
  1339                        	.member	SecurityCountExpired,4,16,17,1
  1340                        	.member	EnhancedSecurityEraseSupported,5,16,17,1
  1341                        	.member	Reserved0,6,16,17,2
  1342                        	.member	SecurityLevel,8,16,17,1
  1343                        	.member	Reserved1,9,16,17,7
  1344                        	.eos
  1345                        	.stag	fake114_,16,114
  1346                        	.member	MaximumCurrentInMA,0,16,17,12
  1347                        	.member	CfaPowerMode1Disabled,12,16,17,1
  1348                        	.member	CfaPowerMode1Required,13,16,17,1
  1349                        	.member	Reserved0,14,16,17,1
  1350                        	.member	Word160Supported,15,16,17,1
  1351                        	.eos
  1352                        	.stag	fake115_,16,115
  1353                        	.member	SupportsTrim,0,16,17,1
  1354                        	.member	Reserved0,1,16,17,15
  1355                        	.eos
  1356                        	.stag	fake116_,16,116
  1357                        	.member	Supported,0,16,17,1
  1358                        	.member	Reserved0,1,16,17,1
  1359                        	.member	WriteSameSuported,2,16,17,1
  1360                        	.member	ErrorRecoveryControlSupported,3,16,17,1
  1361                        	.member	FeatureControlSuported,4,16,17,1
  1362                        	.member	DataTablesSuported,5,16,17,1
  1363                        	.member	Reserved1,6,16,17,6
  1364                        	.member	VendorSpecific,12,16,17,4
  1365                        	.eos
  1366                        	.stag	fake117_,16,117
  1367                        	.member	AlignmentOfLogicalWithinPhysical,0,16,17
                    ,14
  1368                        	.member	Word209Supported,14,16,17,1
  1369                        	.member	Reserved0,15,16,17,1
  1370                        	.eos
  1371                        	.stag	fake118_,16,118
  1372                        	.member	NVCachePowerModeEnabled,0,16,17,1
  1373                        	.member	Reserved0,1,16,17,3
  1374                        	.member	NVCacheFeatureSetEnabled,4,16,17,1
  1375                        	.member	Reserved1,5,16,17,3
  1376                        	.member	NVCachePowerModeVersion,8,16,17,4
  1377                        	.member	NVCacheFeatureSetVersion,12,16,17,4
  1378                        	.eos
  1379                        	.stag	fake119_,16,119
  1380                        	.member	NVCacheEstimatedTimeToSpinUpInSeconds,0,
                    14,8,8
  1381                        	.member	Reserved,8,14,8,8
  1382                        	.eos
  1383                        	.stag	fake120_,16,120
  1384                        	.member	MajorVersion,0,16,17,12
  1385                        	.member	TransportType,12,16,17,4
  1386                        	.eos
  1387                        	.stag	_IDENTIFY_DEVICE_DATA,4096,121
  1388                        	.member	GeneralConfiguration,0,10,8,16,99
  1389                        	.member	NumCylinders,16,16,8,16
  1390                        	.member	SpecificConfiguration,32,16,8,16
  Sat Jul 10 2021  1:15                                                Page 27


  1391                        	.member	NumHeads,48,16,8,16
  1392                        	.member	Retired1Bytes,64,110,8,0,4
  1393                        	.member	NumSectorsPerTrack,96,16,8,16
  1394                        	.member	VendorUnique1Bytes,112,110,8,0,6
  1395                        	.member	SerialNumber,160,110,8,0,20
  1396                        	.member	Retired2,320,112,8,0,2
  1397                        	.member	Obsolete1,352,16,8,16
  1398                        	.member	FirmwareRevision,368,110,8,0,8
  1399                        	.member	ModelNumber,432,110,8,0,40
  1400                        	.member	MaximumBlockTransfer,752,14,8,8
  1401                        	.member	VendorUnique2,760,14,8,8
  1402                        	.member	TrustedComputing,768,10,8,16,100
  1403                        	.member	Capabilities,784,10,8,32,101
  1404                        	.member	ObsoleteWords51,816,112,8,0,2
  1405                        	.member	TranslationFieldsValid,848,16,17,3
  1406                        	.member	Reserved3,851,16,17,5
  1407                        	.member	FreeFallControlSensitivity,856,16,17,8
  1408                        	.member	NumberOfCurrentCylinders,864,16,8,16
  1409                        	.member	NumberOfCurrentHeads,880,16,8,16
  1410                        	.member	CurrentSectorsPerTrack,896,16,8,16
  1411                        	.member	CurrentSectorCapacity,912,18,8,32
  1412                        	.member	CurrentMultiSectorSetting,944,14,8,8
  1413                        	.member	MultiSectorSettingValid,952,14,17,1
  1414                        	.member	ReservedByte59,953,14,17,3
  1415                        	.member	SanitizeFeatureSupported,956,14,17,1
  1416                        	.member	CryptoScrambleExtCommandSupported,957,14
                    ,17,1
  1417                        	.member	OverwriteExtCommandSupported,958,14,17,1
  1418                        	.member	BlockEraseExtCommandSupported,959,14,17,
                    1
  1419                        	.member	UserAddressableSectors,960,18,8,32
  1420                        	.member	ObsoleteWord62,992,16,8,16
  1421                        	.member	MultiWordDMASupport,1008,16,17,8
  1422                        	.member	MultiWordDMAActive,1016,16,17,8
  1423                        	.member	AdvancedPIOModes,1024,16,17,8
  1424                        	.member	ReservedByte64,1032,16,17,8
  1425                        	.member	MinimumMWXferCycleTime,1040,16,8,16
  1426                        	.member	RecommendedMWXferCycleTime,1056,16,8,16
  1427                        	.member	MinimumPIOCycleTime,1072,16,8,16
  1428                        	.member	MinimumPIOCycleTimeIORDY,1088,16,8,16
  1429                        	.member	AdditionalSupported,1104,10,8,16,102
  1430                        	.member	ReservedWords70,1120,112,8,0,5
  1431                        	.member	QueueDepth,1200,16,17,5
  1432                        	.member	ReservedWord75,1205,16,17,11
  1433                        	.member	SerialAtaCapabilities,1216,10,8,32,103
  1434                        	.member	SerialAtaFeaturesSupported,1248,10,8,16,
                    104
  1435                        	.member	SerialAtaFeaturesEnabled,1264,10,8,16,10
                    5
  1436                        	.member	MajorRevision,1280,16,8,16
  1437                        	.member	MinorRevision,1296,16,8,16
  1438                        	.member	CommandSetSupport,1312,10,8,48,106
  1439                        	.member	CommandSetActive,1360,10,8,48,107
  1440                        	.member	UltraDMASupport,1408,16,17,8
  1441                        	.member	UltraDMAActive,1416,16,17,8
  1442                        	.member	NormalSecurityEraseUnit,1424,10,8,16,108
  1443                        	.member	EnhancedSecurityEraseUnit,1440,10,8,16,1
                    09
  Sat Jul 10 2021  1:15                                                Page 28


  1444                        	.member	CurrentAPMLevel,1456,16,17,8
  1445                        	.member	ReservedWord91,1464,16,17,8
  1446                        	.member	MasterPasswordID,1472,16,8,16
  1447                        	.member	HardwareResetResult,1488,16,8,16
  1448                        	.member	CurrentAcousticValue,1504,16,17,8
  1449                        	.member	RecommendedAcousticValue,1512,16,17,8
  1450                        	.member	StreamMinRequestSize,1520,16,8,16
  1451                        	.member	StreamingTransferTimeDMA,1536,16,8,16
  1452                        	.member	StreamingAccessLatencyDMAPIO,1552,16,8,1
                    6
  1453                        	.member	StreamingPerfGranularity,1568,18,8,32
  1454                        	.member	Max48BitLBA,1600,114,8,0,2
  1455                        	.member	StreamingTransferTime,1664,16,8,16
  1456                        	.member	DsmCap,1680,16,8,16
  1457                        	.member	PhysicalLogicalSectorSize,1696,10,8,16,1
                    10
  1458                        	.member	InterSeekDelay,1712,16,8,16
  1459                        	.member	WorldWideName,1728,112,8,0,4
  1460                        	.member	ReservedForWorldWideName128,1792,112,8,0
                    ,4
  1461                        	.member	ReservedForTlcTechnicalReport,1856,16,8,
                    16
  1462                        	.member	WordsPerLogicalSector,1872,112,8,0,2
  1463                        	.member	CommandSetSupportExt,1904,10,8,16,111
  1464                        	.member	CommandSetActiveExt,1920,10,8,16,112
  1465                        	.member	ReservedForExpandedSupportandActive,1936
                    ,112,8,0,6
  1466                        	.member	MsnSupport,2032,16,17,2
  1467                        	.member	ReservedWord127,2034,16,17,14
  1468                        	.member	SecurityStatus,2048,10,8,16,113
  1469                        	.member	ReservedWord129,2064,112,8,0,31
  1470                        	.member	CfaPowerMode1,2560,10,8,16,114
  1471                        	.member	ReservedForCfaWord161,2576,112,8,0,7
  1472                        	.member	NominalFormFactor,2688,16,17,4
  1473                        	.member	ReservedWord168,2692,16,17,12
  1474                        	.member	DataSetManagementFeature,2704,10,8,16,11
                    5
  1475                        	.member	AdditionalProductID,2720,112,8,0,4
  1476                        	.member	ReservedForCfaWord174,2784,112,8,0,2
  1477                        	.member	CurrentMediaSerialNumber,2816,112,8,0,30
  1478                        	.member	SCTCommandTransport,3296,10,8,16,116
  1479                        	.member	ReservedWord207,3312,112,8,0,2
  1480                        	.member	BlockAlignment,3344,10,8,16,117
  1481                        	.member	WriteReadVerifySectorCountMode3Only,3360
                    ,112,8,0,2
  1482                        	.member	WriteReadVerifySectorCountMode2Only,3392
                    ,112,8,0,2
  1483                        	.member	NVCacheCapabilities,3424,10,8,16,118
  1484                        	.member	NVCacheSizeLSW,3440,16,8,16
  1485                        	.member	NVCacheSizeMSW,3456,16,8,16
  1486                        	.member	NominalMediaRotationRate,3472,16,8,16
  1487                        	.member	ReservedWord218,3488,16,8,16
  1488                        	.member	NVCacheOptions,3504,10,8,16,119
  1489                        	.member	WriteReadVerifySectorCountMode,3520,16,1
                    7,8
  1490                        	.member	ReservedWord220,3528,16,17,8
  1491                        	.member	ReservedWord221,3536,16,8,16
  1492                        	.member	TransportMajorVersion,3552,10,8,16,120
  Sat Jul 10 2021  1:15                                                Page 29


  1493                        	.member	TransportMinorVersion,3568,16,8,16
  1494                        	.member	ReservedWord224,3584,112,8,0,6
  1495                        	.member	ExtendedNumberOfUserAddressableSectors,3
                    680,114,8,0,2
  1496                        	.member	MinBlocksPerDownloadMicrocodeMode03,3744
                    ,16,8,16
  1497                        	.member	MaxBlocksPerDownloadMicrocodeMode03,3760
                    ,16,8,16
  1498                        	.member	ReservedWord236,3776,112,8,0,19
  1499                        	.member	Signature,4080,16,17,8
  1500                        	.member	CheckSum,4088,16,17,8
  1501                        	.eos
  1502                        	.stag	_FXDosDevice,5744,122
  1503                        	.member	type,0,14,8,8
  1504                        	.member	initialized,8,14,8,8
  1505                        	.member	devdata,16,129,8,32
  1506                        	.member	devstatus,48,14,8,8
  1507                        	.member	bootSector,56,10,8,928,92
  1508                        	.member	partitionTable,984,10,8,128,93
  1509                        	.member	fileAllocationTable,1112,110,8,0,512
  1510                        	.member	bsOffset,5208,18,8,32
  1511                        	.member	rootDirSectors,5240,18,8,32
  1512                        	.member	root_entry_count,5272,5,8,16
  1513                        	.member	rootEntriesPerPage,5288,5,8,16
  1514                        	.member	sectors_per_cluster,5304,5,8,16
  1515                        	.member	firstDataSector,5320,18,8,32
  1516                        	.member	fatTableOffset,5352,18,8,32
  1517                        	.member	volume_name,5384,110,8,0,12
  1518                        	.member	root_volume_name,5480,110,8,0,12
  1519                        	.member	errorCode,5576,14,8,8
  1520                        	.member	pfInit,5584,641,8,32
  1521                        	.member	pfReset,5616,641,8,32
  1522                        	.member	pfUninit,5648,641,8,32
  1523                        	.member	pfReader,5680,654,8,32
  1524                        	.member	pfWriter,5712,654,8,32
  1525                        	.eos
  1526                        	.utag	item,32,123
  1527                        	.member	dir,0,138,11,32,61
  1528                        	.member	file,0,138,11,32,60
  1529                        	.member	fileInfo,0,138,11,32,62
  1530                        	.eos
  1531                        	.stag	_dos_handle,80,124
  1532                        	.member	fs,0,138,8,32,58
  1533                        	.member	fr,32,5,8,16
  1534                        	.member	path,48,142,8,32
  1535                        	.eos
  1536                        	.line	800
  1537                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.c",3
  1538                        ;#include "fxnode.h"
  1539                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
  1540                        	.line	114
  1541                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.c",4
  1542                        ;#include "fxmemorymanager.h"
  1543                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",0
  Sat Jul 10 2021  1:15                                                Page 30


  1544                        	.line	105
  1545                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.c",5
  1546                        ;#include "fxgui.h"
  1547                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.h",0
  1548                        	.line	359
  1549                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.c",6
  1550                        ;
  1551                        ;static int 	_k_window_index = 0;
  1552                        	data
  1553                        ~~_k_window_index:
  1554 00:0000: 00 00        	dw	$0
  1555 00:0002:              	ends
  1556                        ;static WINDOW _k_window_list[10];
  1557                        ;
  1558                        ;static LPCHAR console_commands[] = {"cls","vol","
                    dir","tsd","desktop","fcolor","bcolor","init","newdir","task
                    s","front","back",
  1559                        	data
  1560                        ~~console_commands:
  1561 00:0002: xx xx xx xx  	dl	L1+0
  1562 00:0006: xx xx xx xx  	dl	L1+4
  1563 00:000A: xx xx xx xx  	dl	L1+8
  1564 00:000E: xx xx xx xx  	dl	L1+12
  1565 00:0012: xx xx xx xx  	dl	L1+16
  1566 00:0016: xx xx xx xx  	dl	L1+24
  1567 00:001A: xx xx xx xx  	dl	L1+31
  1568 00:001E: xx xx xx xx  	dl	L1+38
  1569 00:0022: xx xx xx xx  	dl	L1+43
  1570 00:0026: xx xx xx xx  	dl	L1+50
  1571 00:002A: xx xx xx xx  	dl	L1+56
  1572 00:002E: xx xx xx xx  	dl	L1+62
  1573                        ;							
                     	 	"chdir","display","window","send","start",
  1574 00:0032: xx xx xx xx  	dl	L1+67
  1575 00:0036: xx xx xx xx  	dl	L1+73
  1576 00:003A: xx xx xx xx  	dl	L1+81
  1577 00:003E: xx xx xx xx  	dl	L1+88
  1578 00:0042: xx xx xx xx  	dl	L1+93
  1579                        ;							
                    		"time","exit","pause","resume","lineup",
  1580 00:0046: xx xx xx xx  	dl	L1+99
  1581 00:004A: xx xx xx xx  	dl	L1+104
  1582 00:004E: xx xx xx xx  	dl	L1+109
  1583 00:0052: xx xx xx xx  	dl	L1+115
  1584 00:0056: xx xx xx xx  	dl	L1+122
  1585                        ;							
                    		NULL};
  1586 00:005A: 00 00 00 00  	dl	$0
  1587 00:005E:              	ends
  1588                        	data
  1589                        L1:
  1590 00:005E: 63 6C 73 00  	db	$63,$6C,$73,$00,$76,$6F,$6C,$00,$64,$69,
                    $72,$00,$74,$73,$64
       00:0062: 76 6F 6C 00 
       00:0066: 64 69 72 00 
  Sat Jul 10 2021  1:15                                                Page 31


       00:006A: 74 73 64 
  1591 00:006D: 00 64 65 73  	db	$00,$64,$65,$73,$6B,$74,$6F,$70,$00,$66,
                    $63,$6F,$6C,$6F,$72
       00:0071: 6B 74 6F 70 
       00:0075: 00 66 63 6F 
       00:0079: 6C 6F 72 
  1592 00:007C: 00 62 63 6F  	db	$00,$62,$63,$6F,$6C,$6F,$72,$00,$69,$6E,
                    $69,$74,$00,$6E,$65
       00:0080: 6C 6F 72 00 
       00:0084: 69 6E 69 74 
       00:0088: 00 6E 65 
  1593 00:008B: 77 64 69 72  	db	$77,$64,$69,$72,$00,$74,$61,$73,$6B,$73,
                    $00,$66,$72,$6F,$6E
       00:008F: 00 74 61 73 
       00:0093: 6B 73 00 66 
       00:0097: 72 6F 6E 
  1594 00:009A: 74 00 62 61  	db	$74,$00,$62,$61,$63,$6B,$00,$63,$68,$64,
                    $69,$72,$00,$64,$69
       00:009E: 63 6B 00 63 
       00:00A2: 68 64 69 72 
       00:00A6: 00 64 69 
  1595 00:00A9: 73 70 6C 61  	db	$73,$70,$6C,$61,$79,$00,$77,$69,$6E,$64,
                    $6F,$77,$00,$73,$65
       00:00AD: 79 00 77 69 
       00:00B1: 6E 64 6F 77 
       00:00B5: 00 73 65 
  1596 00:00B8: 6E 64 00 73  	db	$6E,$64,$00,$73,$74,$61,$72,$74,$00,$74,
                    $69,$6D,$65,$00,$65
       00:00BC: 74 61 72 74 
       00:00C0: 00 74 69 6D 
       00:00C4: 65 00 65 
  1597 00:00C7: 78 69 74 00  	db	$78,$69,$74,$00,$70,$61,$75,$73,$65,$00,
                    $72,$65,$73,$75,$6D
       00:00CB: 70 61 75 73 
       00:00CF: 65 00 72 65 
       00:00D3: 73 75 6D 
  1598 00:00D6: 65 00 6C 69  	db	$65,$00,$6C,$69,$6E,$65,$75,$70,$00
       00:00DA: 6E 65 75 70 
       00:00DE: 00 
  1599 00:00DF:              	ends
  1600                        ;static FXCommandHandler console_command_proc[] = 
                    {cmd_CLEAR,cmd_VOL,cmd_DIR,cmd_TESTSD,cmd_WORKBENCH,
  1601                        	data
  1602                        ~~console_command_proc:
  1603 00:00DF: xx xx xx xx  	dl	~~cmd_CLEAR
  1604 00:00E3: xx xx xx xx  	dl	~~cmd_VOL
  1605 00:00E7: xx xx xx xx  	dl	~~cmd_DIR
  1606 00:00EB: xx xx xx xx  	dl	~~cmd_TESTSD
  1607 00:00EF: xx xx xx xx  	dl	~~cmd_WORKBENCH
  1608                        ;		                                        
                      cmd_FCOLOR,cmd_BCOLOR,cmd_INIT,cmd_NEWDIR,cmd_TASKS,
  1609 00:00F3: xx xx xx xx  	dl	~~cmd_FCOLOR
  1610 00:00F7: xx xx xx xx  	dl	~~cmd_BCOLOR
  1611 00:00FB: xx xx xx xx  	dl	~~cmd_INIT
  1612 00:00FF: xx xx xx xx  	dl	~~cmd_NEWDIR
  1613 00:0103: xx xx xx xx  	dl	~~cmd_TASKS
  1614                        ;							
                    					  cmd_FRONT,cmd_BACK,cmd
  Sat Jul 10 2021  1:15                                                Page 32


                    _CHRDIR,cmd_DISPLAY,
  1615 00:0107: xx xx xx xx  	dl	~~cmd_FRONT
  1616 00:010B: xx xx xx xx  	dl	~~cmd_BACK
  1617 00:010F: xx xx xx xx  	dl	~~cmd_CHRDIR
  1618 00:0113: xx xx xx xx  	dl	~~cmd_DISPLAY
  1619                        ;							
                    					  cmd_Window,
  1620 00:0117: xx xx xx xx  	dl	~~cmd_Window
  1621                        ;							
                    					  cmd_SEND,
  1622 00:011B: xx xx xx xx  	dl	~~cmd_SEND
  1623                        ;							
                    					  cmd_START,
  1624 00:011F: xx xx xx xx  	dl	~~cmd_START
  1625                        ;							
                    					  cmd_TIME,
  1626 00:0123: xx xx xx xx  	dl	~~cmd_TIME
  1627                        ;							
                    					  cmd_EXIT,cmd_PAUSE,cmd
                    _RESUME,
  1628 00:0127: xx xx xx xx  	dl	~~cmd_EXIT
  1629 00:012B: xx xx xx xx  	dl	~~cmd_PAUSE
  1630 00:012F: xx xx xx xx  	dl	~~cmd_RESUME
  1631                        ;							
                    					  cmd_LINEUP,
  1632 00:0133: xx xx xx xx  	dl	~~cmd_LINEUP
  1633                        ;							
                    					  NULL};
  1634 00:0137: 00 00 00 00  	dl	$0
  1635 00:013B:              	ends
  1636                        ;
  1637                        ;static char consolespinner[] = {'|','/','-','\\'}
                    ;
  1638                        	data
  1639                        ~~consolespinner:
  1640 00:013B: 7C 2F 2D 5C  	db	$7C,$2F,$2D,$5C
  1641 00:013F:              	ends
  1642                        ;
  1643                        ;static SPINNERCTX consolespinctx;
  1644                        ;
  1645                        ;static UINT cursorFlashInterval  = 0;
  1646                        	data
  1647                        ~~cursorFlashInterval:
  1648 00:013F: 00 00        	dw	$0
  1649 00:0141:              	ends
  1650                        ;static UINT cursorCurrentColor   = 15;
  1651                        	data
  1652                        ~~cursorCurrentColor:
  1653 00:0141: 0F 00        	dw	$F
  1654 00:0143:              	ends
  1655                        ;
  1656                        ;static LPCHAR tokentypeNames[] = { "WORD",
  1657                        	data
  1658                        ~~tokentypeNames:
  1659 00:0143: xx xx xx xx  	dl	L2+0
  1660                        ;"NUMBER","STRING","LABEL","LINE","EQUALS",
  1661 00:0147: xx xx xx xx  	dl	L2+5
  1662 00:014B: xx xx xx xx  	dl	L2+12
  Sat Jul 10 2021  1:15                                                Page 33


  1663 00:014F: xx xx xx xx  	dl	L2+19
  1664 00:0153: xx xx xx xx  	dl	L2+25
  1665 00:0157: xx xx xx xx  	dl	L2+30
  1666                        ;"OPERATOR","LEFT_PAREN", "RIGHT_PAREN", "EOF", "C
                    OMMA", "LEFT_BLOCK",
  1667 00:015B: xx xx xx xx  	dl	L2+37
  1668 00:015F: xx xx xx xx  	dl	L2+46
  1669 00:0163: xx xx xx xx  	dl	L2+57
  1670 00:0167: xx xx xx xx  	dl	L2+69
  1671 00:016B: xx xx xx xx  	dl	L2+73
  1672 00:016F: xx xx xx xx  	dl	L2+79
  1673                        ;"RIGHT_BLOCK", "BANG", "NOTEQUAL", "ANNOTATION",
  1674 00:0173: xx xx xx xx  	dl	L2+90
  1675 00:0177: xx xx xx xx  	dl	L2+102
  1676 00:017B: xx xx xx xx  	dl	L2+107
  1677 00:017F: xx xx xx xx  	dl	L2+116
  1678                        ;"GTE", "LTE", "GT", "LT", "PERIOD", "POINTER", "N
                    OOP",
  1679 00:0183: xx xx xx xx  	dl	L2+127
  1680 00:0187: xx xx xx xx  	dl	L2+131
  1681 00:018B: xx xx xx xx  	dl	L2+135
  1682 00:018F: xx xx xx xx  	dl	L2+138
  1683 00:0193: xx xx xx xx  	dl	L2+141
  1684 00:0197: xx xx xx xx  	dl	L2+148
  1685 00:019B: xx xx xx xx  	dl	L2+156
  1686                        ;"START_BLOCK", "END_BLOCK","AND","OR","VARIADIC",
                     "DOLLAR"};
  1687 00:019F: xx xx xx xx  	dl	L2+161
  1688 00:01A3: xx xx xx xx  	dl	L2+173
  1689 00:01A7: xx xx xx xx  	dl	L2+183
  1690 00:01AB: xx xx xx xx  	dl	L2+187
  1691 00:01AF: xx xx xx xx  	dl	L2+190
  1692 00:01B3: xx xx xx xx  	dl	L2+199
  1693 00:01B7:              	ends
  1694                        	data
  1695                        L2:
  1696 00:01B7: 57 4F 52 44  	db	$57,$4F,$52,$44,$00,$4E,$55,$4D,$42,$45,
                    $52,$00,$53,$54,$52
       00:01BB: 00 4E 55 4D 
       00:01BF: 42 45 52 00 
       00:01C3: 53 54 52 
  1697 00:01C6: 49 4E 47 00  	db	$49,$4E,$47,$00,$4C,$41,$42,$45,$4C,$00,
                    $4C,$49,$4E,$45,$00
       00:01CA: 4C 41 42 45 
       00:01CE: 4C 00 4C 49 
       00:01D2: 4E 45 00 
  1698 00:01D5: 45 51 55 41  	db	$45,$51,$55,$41,$4C,$53,$00,$4F,$50,$45,
                    $52,$41,$54,$4F,$52
       00:01D9: 4C 53 00 4F 
       00:01DD: 50 45 52 41 
       00:01E1: 54 4F 52 
  1699 00:01E4: 00 4C 45 46  	db	$00,$4C,$45,$46,$54,$5F,$50,$41,$52,$45,
                    $4E,$00,$52,$49,$47
       00:01E8: 54 5F 50 41 
       00:01EC: 52 45 4E 00 
       00:01F0: 52 49 47 
  1700 00:01F3: 48 54 5F 50  	db	$48,$54,$5F,$50,$41,$52,$45,$4E,$00,$45,
                    $4F,$46,$00,$43,$4F
  Sat Jul 10 2021  1:15                                                Page 34


       00:01F7: 41 52 45 4E 
       00:01FB: 00 45 4F 46 
       00:01FF: 00 43 4F 
  1701 00:0202: 4D 4D 41 00  	db	$4D,$4D,$41,$00,$4C,$45,$46,$54,$5F,$42,
                    $4C,$4F,$43,$4B,$00
       00:0206: 4C 45 46 54 
       00:020A: 5F 42 4C 4F 
       00:020E: 43 4B 00 
  1702 00:0211: 52 49 47 48  	db	$52,$49,$47,$48,$54,$5F,$42,$4C,$4F,$43,
                    $4B,$00,$42,$41,$4E
       00:0215: 54 5F 42 4C 
       00:0219: 4F 43 4B 00 
       00:021D: 42 41 4E 
  1703 00:0220: 47 00 4E 4F  	db	$47,$00,$4E,$4F,$54,$45,$51,$55,$41,$4C,
                    $00,$41,$4E,$4E,$4F
       00:0224: 54 45 51 55 
       00:0228: 41 4C 00 41 
       00:022C: 4E 4E 4F 
  1704 00:022F: 54 41 54 49  	db	$54,$41,$54,$49,$4F,$4E,$00,$47,$54,$45,
                    $00,$4C,$54,$45,$00
       00:0233: 4F 4E 00 47 
       00:0237: 54 45 00 4C 
       00:023B: 54 45 00 
  1705 00:023E: 47 54 00 4C  	db	$47,$54,$00,$4C,$54,$00,$50,$45,$52,$49,
                    $4F,$44,$00,$50,$4F
       00:0242: 54 00 50 45 
       00:0246: 52 49 4F 44 
       00:024A: 00 50 4F 
  1706 00:024D: 49 4E 54 45  	db	$49,$4E,$54,$45,$52,$00,$4E,$4F,$4F,$50,
                    $00,$53,$54,$41,$52
       00:0251: 52 00 4E 4F 
       00:0255: 4F 50 00 53 
       00:0259: 54 41 52 
  1707 00:025C: 54 5F 42 4C  	db	$54,$5F,$42,$4C,$4F,$43,$4B,$00,$45,$4E,
                    $44,$5F,$42,$4C,$4F
       00:0260: 4F 43 4B 00 
       00:0264: 45 4E 44 5F 
       00:0268: 42 4C 4F 
  1708 00:026B: 43 4B 00 41  	db	$43,$4B,$00,$41,$4E,$44,$00,$4F,$52,$00,
                    $56,$41,$52,$49,$41
       00:026F: 4E 44 00 4F 
       00:0273: 52 00 56 41 
       00:0277: 52 49 41 
  1709 00:027A: 44 49 43 00  	db	$44,$49,$43,$00,$44,$4F,$4C,$4C,$41,$52,
                    $00
       00:027E: 44 4F 4C 4C 
       00:0282: 41 52 00 
  1710 00:0285:              	ends
  1711                        ;
  1712                        ;static consoleBuffer[56][72];
  1713                        ;//static consoleBufferTemp[56][72];
  1714                        ;//#pragma section CODE=CONSOLE,offset $07:0000
  1715                        ;
  1716                        ;VOID k_initialize_text(VOID)
  1717                        ;{
  1718                        	.line	44
  1719                        	.line	45
  1720                        	code
  Sat Jul 10 2021  1:15                                                Page 35


  1721                        	xdef	~~k_initialize_text
  1722                        	func
  1723                        	.function	45
  1724                        ~~k_initialize_text:
  1725                        	longa	on
  1726                        	longi	on
  1727 00:0000: 3B           	tsc
  1728 00:0001: 38           	sec
  1729 00:0002: E9 00 00     	sbc	#L4
  1730 00:0005: 1B           	tcs
  1731 00:0006: 0B           	phd
  1732 00:0007: 5B           	tcd
  1733                        	.block	45
  1734                        ;	//k_debug_string("k_initialize_text\r\n");
  1735                        ;	*((int FAR *)COLS_VISIBLE)  =  72;
  1736                        	.line	47
  1737 00:0008: A9 48 00     	lda	#$48
  1738 00:000B: 8F 0F 00 00  	sta	>15
  1739                        ;	*((int FAR *)LINES_VISIBLE) =  56;
  1740                        	.line	48
  1741 00:000F: A9 38 00     	lda	#$38
  1742 00:0012: 8F 13 00 00  	sta	>19
  1743                        ;	*((int FAR *)COLS_PER_LINE) = 128;
  1744                        	.line	49
  1745 00:0016: A9 80 00     	lda	#$80
  1746 00:0019: 8F 11 00 00  	sta	>17
  1747                        ;	*((int FAR *)LINES_MAX) 	=  64;
  1748                        	.line	50
  1749 00:001D: A9 40 00     	lda	#$40
  1750 00:0020: 8F 15 00 00  	sta	>21
  1751                        ;}
  1752                        	.line	51
  1753                        L7:
  1754 00:0024: 2B           	pld
  1755 00:0025: 3B           	tsc
  1756 00:0026: 18           	clc
  1757 00:0027: 69 00 00     	adc	#L4
  1758 00:002A: 1B           	tcs
  1759 00:002B: 6B           	rtl
  1760                        	.endblock	51
  1761             00000000   L4	equ	0
  1762             00000001   L5	equ	1
  1763                        	ends
  1764                        	efunc
  1765                        	.endfunc	51,1,0
  1766                        	.line	51
  1767                        ;
  1768                        ;void k_init_spinner(PSPINNERCTX ctx)
  1769                        ;{
  1770                        	.line	53
  1771                        	.line	54
  1772                        	code
  1773                        	xdef	~~k_init_spinner
  1774                        	func
  1775                        	.function	54
  1776                        ~~k_init_spinner:
  1777                        	longa	on
  1778                        	longi	on
  Sat Jul 10 2021  1:15                                                Page 36


  1779 00:002C: 3B           	tsc
  1780 00:002D: 38           	sec
  1781 00:002E: E9 04 00     	sbc	#L8
  1782 00:0031: 1B           	tcs
  1783 00:0032: 0B           	phd
  1784 00:0033: 5B           	tcd
  1785             00000004   ctx_0	set	4
  1786                        	.block	54
  1787                        ;	ctx->spinner = consolespinner;
  1788                        	.sym	ctx,4,138,6,32,81
  1789                        	.line	55
  1790 00:0034: A9 xx xx     	lda	#<~~consolespinner
  1791 00:0037: 85 01        	sta	<R0
  1792                        	xref	_BEG_DATA
  1793 00:0039: A9 xx xx     	lda	#_BEG_DATA>>16
  1794 00:003C: 85 03        	sta	<R0+2
  1795 00:003E: A5 01        	lda	<R0
  1796 00:0040: A0 02 00     	ldy	#$2
  1797 00:0043: 97 08        	sta	[<L8+ctx_0],Y
  1798 00:0045: A5 03        	lda	<R0+2
  1799 00:0047: A0 04 00     	ldy	#$4
  1800 00:004A: 97 08        	sta	[<L8+ctx_0],Y
  1801                        ;	ctx->index = 0;
  1802                        	.line	56
  1803 00:004C: A9 00 00     	lda	#$0
  1804 00:004F: 87 08        	sta	[<L8+ctx_0]
  1805                        ;}
  1806                        	.line	57
  1807                        L11:
  1808 00:0051: A5 06        	lda	<L8+2
  1809 00:0053: 85 0A        	sta	<L8+2+4
  1810 00:0055: A5 05        	lda	<L8+1
  1811 00:0057: 85 09        	sta	<L8+1+4
  1812 00:0059: 2B           	pld
  1813 00:005A: 3B           	tsc
  1814 00:005B: 18           	clc
  1815 00:005C: 69 08 00     	adc	#L8+4
  1816 00:005F: 1B           	tcs
  1817 00:0060: 6B           	rtl
  1818                        	.endblock	57
  1819             00000004   L8	equ	4
  1820             00000005   L9	equ	5
  1821                        	ends
  1822                        	efunc
  1823                        	.endfunc	57,5,4
  1824                        	.line	57
  1825                        ;
  1826                        ;void k_updatespinner(int pos,int line,PSPINNERCTX
                     ctx)
  1827                        ;{
  1828                        	.line	59
  1829                        	.line	60
  1830                        	code
  1831                        	xdef	~~k_updatespinner
  1832                        	func
  1833                        	.function	60
  1834                        ~~k_updatespinner:
  1835                        	longa	on
  Sat Jul 10 2021  1:15                                                Page 37


  1836                        	longi	on
  1837 00:0061: 3B           	tsc
  1838 00:0062: 38           	sec
  1839 00:0063: E9 04 00     	sbc	#L12
  1840 00:0066: 1B           	tcs
  1841 00:0067: 0B           	phd
  1842 00:0068: 5B           	tcd
  1843             00000004   pos_0	set	4
  1844             00000006   line_0	set	6
  1845             00000008   ctx_0	set	8
  1846                        	.block	60
  1847                        ;	k_put_char(pos,line,consolespinner[ctx->index++]
                    ,15,0);
  1848                        	.sym	pos,4,5,6,16
  1849                        	.sym	line,6,5,6,16
  1850                        	.sym	ctx,8,138,6,32,81
  1851                        	.line	61
  1852 00:0069: F4 00 00     	pea	#<$0
  1853 00:006C: F4 0F 00     	pea	#<$f
  1854 00:006F: A7 0C        	lda	[<L12+ctx_0]
  1855 00:0071: 85 01        	sta	<R0
  1856 00:0073: A7 0C        	lda	[<L12+ctx_0]
  1857 00:0075: 1A           	ina
  1858 00:0076: 87 0C        	sta	[<L12+ctx_0]
  1859 00:0078: A6 01        	ldx	<R0
  1860 00:007A: BD xx xx     	lda	|~~consolespinner,X
  1861 00:007D: 48           	pha
  1862 00:007E: D4 0A        	pei	<L12+line_0
  1863 00:0080: D4 08        	pei	<L12+pos_0
  1864 00:0082: 22 xx xx xx  	jsl	~~k_put_char
  1865                        ;	if(ctx->index>3) ctx->index = 0;
  1866                        	.line	62
  1867 00:0086: 38           	sec
  1868 00:0087: A9 03 00     	lda	#$3
  1869 00:008A: E7 0C        	sbc	[<L12+ctx_0]
  1870 00:008C: 70 03        	bvs	L15
  1871 00:008E: 49 00 80     	eor	#$8000
  1872                        L15:
  1873 00:0091: 10 03        	bpl	L16
  1874 00:0093: 82 05 00     	brl	L10001
  1875                        L16:
  1876                        	.line	62
  1877 00:0096: A9 00 00     	lda	#$0
  1878 00:0099: 87 0C        	sta	[<L12+ctx_0]
  1879                        ;}
  1880                        L10001:
  1881                        	.line	63
  1882                        L17:
  1883 00:009B: A5 06        	lda	<L12+2
  1884 00:009D: 85 0E        	sta	<L12+2+8
  1885 00:009F: A5 05        	lda	<L12+1
  1886 00:00A1: 85 0D        	sta	<L12+1+8
  1887 00:00A3: 2B           	pld
  1888 00:00A4: 3B           	tsc
  1889 00:00A5: 18           	clc
  1890 00:00A6: 69 0C 00     	adc	#L12+8
  1891 00:00A9: 1B           	tcs
  1892 00:00AA: 6B           	rtl
  Sat Jul 10 2021  1:15                                                Page 38


  1893                        	.endblock	63
  1894             00000004   L12	equ	4
  1895             00000005   L13	equ	5
  1896                        	ends
  1897                        	efunc
  1898                        	.endfunc	63,5,4
  1899                        	.line	63
  1900                        ;
  1901                        ;int k_initialize_text_fonts(UINT flag)
  1902                        ;{
  1903                        	.line	65
  1904                        	.line	66
  1905                        	code
  1906                        	xdef	~~k_initialize_text_fonts
  1907                        	func
  1908                        	.function	66
  1909                        ~~k_initialize_text_fonts:
  1910                        	longa	on
  1911                        	longi	on
  1912 00:00AB: 3B           	tsc
  1913 00:00AC: 38           	sec
  1914 00:00AD: E9 0A 00     	sbc	#L18
  1915 00:00B0: 1B           	tcs
  1916 00:00B1: 0B           	phd
  1917 00:00B2: 5B           	tcd
  1918             00000004   flag_0	set	4
  1919                        	.block	66
  1920                        ;
  1921                        ;	int i = 0;
  1922                        ;
  1923                        ;	LPSTR font = EGAFONT;
  1924                        ;	//LPSTR font = BM437_ATI_8X8_Font_Set;
  1925                        ;
  1926                        ;	for(i=0;i<0x800;i++)
  1927             00000000   i_1	set	0
  1928             00000002   font_1	set	2
  1929                        	.sym	i,0,5,1,16
  1930                        	.sym	font,2,142,1,32
  1931                        	.sym	flag,4,16,6,16
  1932 00:00B3: 64 05        	stz	<L19+i_1
  1933 00:00B5: A9 xx xx     	lda	#<~~EGAFONT
  1934 00:00B8: 85 07        	sta	<L19+font_1
  1935 00:00BA: A9 xx xx     	lda	#^~~EGAFONT
  1936 00:00BD: 85 09        	sta	<L19+font_1+2
  1937                        	.line	73
  1938 00:00BF: 64 05        	stz	<L19+i_1
  1939                        L10004:
  1940                        ;	{
  1941                        	.line	74
  1942                        ;		//FONT_MEMORY_BANK0[i] = FONT_4_BANK0[i]
                    ;
  1943                        ;		FONT_MEMORY_BANK0[i] = font[i];
  1944                        	.line	76
  1945 00:00C1: A9 00 00     	lda	#$0
  1946 00:00C4: 85 01        	sta	<R0
  1947 00:00C6: A9 AF 00     	lda	#$af
  1948 00:00C9: 85 03        	sta	<R0+2
  1949 00:00CB: E2 20        	sep	#$20
  Sat Jul 10 2021  1:15                                                Page 39


  1950                        	longa	off
  1951 00:00CD: A4 05        	ldy	<L19+i_1
  1952 00:00CF: B7 07        	lda	[<L19+font_1],Y
  1953 00:00D1: A4 05        	ldy	<L19+i_1
  1954 00:00D3: 97 01        	sta	[<R0],Y
  1955 00:00D5: C2 20        	rep	#$20
  1956                        	longa	on
  1957                        ;		//FONT_MEMORY_BANK1[i] = BM437_ATI_8X8_F
                    ont_Set[i];
  1958                        ;		FONT_MEMORY_BANK1[i] = font[i];
  1959                        	.line	78
  1960 00:00D7: A9 00 88     	lda	#$8800
  1961 00:00DA: 85 01        	sta	<R0
  1962 00:00DC: A9 AF 00     	lda	#$af
  1963 00:00DF: 85 03        	sta	<R0+2
  1964 00:00E1: E2 20        	sep	#$20
  1965                        	longa	off
  1966 00:00E3: A4 05        	ldy	<L19+i_1
  1967 00:00E5: B7 07        	lda	[<L19+font_1],Y
  1968 00:00E7: A4 05        	ldy	<L19+i_1
  1969 00:00E9: 97 01        	sta	[<R0],Y
  1970 00:00EB: C2 20        	rep	#$20
  1971                        	longa	on
  1972                        ;	}
  1973                        	.line	79
  1974                        L10002:
  1975 00:00ED: E6 05        	inc	<L19+i_1
  1976 00:00EF: 38           	sec
  1977 00:00F0: A5 05        	lda	<L19+i_1
  1978 00:00F2: E9 00 08     	sbc	#<$800
  1979 00:00F5: 70 03        	bvs	L21
  1980 00:00F7: 49 00 80     	eor	#$8000
  1981                        L21:
  1982 00:00FA: 30 03        	bmi	L22
  1983 00:00FC: 82 C2 FF     	brl	L10004
  1984                        L22:
  1985                        L10003:
  1986                        ;
  1987                        ;	return 0;
  1988                        	.line	81
  1989 00:00FF: A9 00 00     	lda	#$0
  1990                        L23:
  1991 00:0102: A8           	tay
  1992 00:0103: A5 0C        	lda	<L18+2
  1993 00:0105: 85 0E        	sta	<L18+2+2
  1994 00:0107: A5 0B        	lda	<L18+1
  1995 00:0109: 85 0D        	sta	<L18+1+2
  1996 00:010B: 2B           	pld
  1997 00:010C: 3B           	tsc
  1998 00:010D: 18           	clc
  1999 00:010E: 69 0C 00     	adc	#L18+2
  2000 00:0111: 1B           	tcs
  2001 00:0112: 98           	tya
  2002 00:0113: 6B           	rtl
  2003                        ;}
  2004                        	.line	82
  2005                        	.endblock	82
  2006             0000000A   L18	equ	10
  Sat Jul 10 2021  1:15                                                Page 40


  2007             00000005   L19	equ	5
  2008                        	ends
  2009                        	efunc
  2010                        	.endfunc	82,5,10
  2011                        	.line	82
  2012                        ;
  2013                        ;void k_scroll_screen(PFXPROCESS p)
  2014                        ;{
  2015                        	.line	84
  2016                        	.line	85
  2017                        	code
  2018                        	xdef	~~k_scroll_screen
  2019                        	func
  2020                        	.function	85
  2021                        ~~k_scroll_screen:
  2022                        	longa	on
  2023                        	longi	on
  2024 00:0114: 3B           	tsc
  2025 00:0115: 38           	sec
  2026 00:0116: E9 14 00     	sbc	#L24
  2027 00:0119: 1B           	tcs
  2028 00:011A: 0B           	phd
  2029 00:011B: 5B           	tcd
  2030             00000004   p_0	set	4
  2031                        	.block	85
  2032                        ;	int i = 0;
  2033                        ;	int j = 0;
  2034                        ;
  2035                        ;	for(i=0;i<(p->consoleCtl->maxCols - 1);i++)
  2036             00000000   i_1	set	0
  2037             00000002   j_1	set	2
  2038                        	.sym	i,0,5,1,16
  2039                        	.sym	j,2,5,1,16
  2040                        	.sym	p,4,138,6,32,20
  2041 00:011C: 64 11        	stz	<L25+i_1
  2042 00:011E: 64 13        	stz	<L25+j_1
  2043                        	.line	89
  2044 00:0120: 64 11        	stz	<L25+i_1
  2045 00:0122: 82 61 00     	brl	L10008
  2046                        L10007:
  2047                        ;	{
  2048                        	.line	90
  2049                        ;		for(j=0;j<p->consoleCtl->maxRows;j++)
  2050                        	.line	91
  2051 00:0125: 64 13        	stz	<L25+j_1
  2052 00:0127: 82 3A 00     	brl	L10012
  2053                        L10011:
  2054                        ;		{
  2055                        	.line	92
  2056                        ;			consoleBuffer[i][j] = consoleBuf
                    fer[i+1][j];
  2057                        	.line	93
  2058 00:012A: A5 13        	lda	<L25+j_1
  2059 00:012C: 0A           	asl	A
  2060 00:012D: 85 01        	sta	<R0
  2061 00:012F: A5 11        	lda	<L25+i_1
  2062 00:0131: A2 90 00     	ldx	#<$90
  2063                        	xref	~~~mul
  Sat Jul 10 2021  1:15                                                Page 41


  2064 00:0134: 22 xx xx xx  	jsl	~~~mul
  2065 00:0138: 85 05        	sta	<R1
  2066 00:013A: 18           	clc
  2067 00:013B: A5 05        	lda	<R1
  2068 00:013D: 65 01        	adc	<R0
  2069 00:013F: 85 09        	sta	<R2
  2070 00:0141: A5 13        	lda	<L25+j_1
  2071 00:0143: 0A           	asl	A
  2072 00:0144: 85 01        	sta	<R0
  2073 00:0146: A5 11        	lda	<L25+i_1
  2074 00:0148: A2 90 00     	ldx	#<$90
  2075                        	xref	~~~mul
  2076 00:014B: 22 xx xx xx  	jsl	~~~mul
  2077 00:014F: 85 05        	sta	<R1
  2078 00:0151: 18           	clc
  2079 00:0152: A5 05        	lda	<R1
  2080 00:0154: 65 01        	adc	<R0
  2081 00:0156: 85 0D        	sta	<R3
  2082 00:0158: A6 0D        	ldx	<R3
  2083 00:015A: BD xx xx     	lda	|~~consoleBuffer+144,X
  2084 00:015D: A6 09        	ldx	<R2
  2085 00:015F: 9D xx xx     	sta	|~~consoleBuffer,X
  2086                        ;		}
  2087                        	.line	94
  2088                        L10009:
  2089 00:0162: E6 13        	inc	<L25+j_1
  2090                        L10012:
  2091 00:0164: A0 54 00     	ldy	#$54
  2092 00:0167: B7 18        	lda	[<L24+p_0],Y
  2093 00:0169: 85 01        	sta	<R0
  2094 00:016B: A0 56 00     	ldy	#$56
  2095 00:016E: B7 18        	lda	[<L24+p_0],Y
  2096 00:0170: 85 03        	sta	<R0+2
  2097 00:0172: 38           	sec
  2098 00:0173: A5 13        	lda	<L25+j_1
  2099 00:0175: A0 02 00     	ldy	#$2
  2100 00:0178: F7 01        	sbc	[<R0],Y
  2101 00:017A: 70 03        	bvs	L27
  2102 00:017C: 49 00 80     	eor	#$8000
  2103                        L27:
  2104 00:017F: 30 03        	bmi	L28
  2105 00:0181: 82 A6 FF     	brl	L10011
  2106                        L28:
  2107                        L10010:
  2108                        ;	}
  2109                        	.line	95
  2110                        L10005:
  2111 00:0184: E6 11        	inc	<L25+i_1
  2112                        L10008:
  2113 00:0186: A0 54 00     	ldy	#$54
  2114 00:0189: B7 18        	lda	[<L24+p_0],Y
  2115 00:018B: 85 01        	sta	<R0
  2116 00:018D: A0 56 00     	ldy	#$56
  2117 00:0190: B7 18        	lda	[<L24+p_0],Y
  2118 00:0192: 85 03        	sta	<R0+2
  2119 00:0194: 18           	clc
  2120 00:0195: A9 FF FF     	lda	#$ffff
  2121 00:0198: 67 01        	adc	[<R0]
  Sat Jul 10 2021  1:15                                                Page 42


  2122 00:019A: 85 05        	sta	<R1
  2123 00:019C: 38           	sec
  2124 00:019D: A5 11        	lda	<L25+i_1
  2125 00:019F: E5 05        	sbc	<R1
  2126 00:01A1: 70 03        	bvs	L29
  2127 00:01A3: 49 00 80     	eor	#$8000
  2128                        L29:
  2129 00:01A6: 30 03        	bmi	L30
  2130 00:01A8: 82 7A FF     	brl	L10007
  2131                        L30:
  2132                        L10006:
  2133                        ;
  2134                        ;	for(i=0;i<p->consoleCtl->maxCols;i++)
  2135                        	.line	97
  2136 00:01AB: 64 11        	stz	<L25+i_1
  2137 00:01AD: 82 54 00     	brl	L10016
  2138                        L10015:
  2139                        ;	{
  2140                        	.line	98
  2141                        ;		for(j=0;j<p->consoleCtl->maxRows;j++)
  2142                        	.line	99
  2143 00:01B0: 64 13        	stz	<L25+j_1
  2144 00:01B2: 82 2D 00     	brl	L10020
  2145                        L10019:
  2146                        ;		{
  2147                        	.line	100
  2148                        ;			k_put_char(j,i,consoleBuffer[i][
                    j],15,0);
  2149                        	.line	101
  2150 00:01B5: F4 00 00     	pea	#<$0
  2151 00:01B8: F4 0F 00     	pea	#<$f
  2152 00:01BB: A5 13        	lda	<L25+j_1
  2153 00:01BD: 0A           	asl	A
  2154 00:01BE: 85 01        	sta	<R0
  2155 00:01C0: A5 11        	lda	<L25+i_1
  2156 00:01C2: A2 90 00     	ldx	#<$90
  2157                        	xref	~~~mul
  2158 00:01C5: 22 xx xx xx  	jsl	~~~mul
  2159 00:01C9: 85 05        	sta	<R1
  2160 00:01CB: 18           	clc
  2161 00:01CC: A5 05        	lda	<R1
  2162 00:01CE: 65 01        	adc	<R0
  2163 00:01D0: 85 09        	sta	<R2
  2164 00:01D2: A6 09        	ldx	<R2
  2165 00:01D4: BD xx xx     	lda	|~~consoleBuffer,X
  2166 00:01D7: 48           	pha
  2167 00:01D8: D4 11        	pei	<L25+i_1
  2168 00:01DA: D4 13        	pei	<L25+j_1
  2169 00:01DC: 22 xx xx xx  	jsl	~~k_put_char
  2170                        ;		}
  2171                        	.line	102
  2172                        L10017:
  2173 00:01E0: E6 13        	inc	<L25+j_1
  2174                        L10020:
  2175 00:01E2: A0 54 00     	ldy	#$54
  2176 00:01E5: B7 18        	lda	[<L24+p_0],Y
  2177 00:01E7: 85 01        	sta	<R0
  2178 00:01E9: A0 56 00     	ldy	#$56
  Sat Jul 10 2021  1:15                                                Page 43


  2179 00:01EC: B7 18        	lda	[<L24+p_0],Y
  2180 00:01EE: 85 03        	sta	<R0+2
  2181 00:01F0: 38           	sec
  2182 00:01F1: A5 13        	lda	<L25+j_1
  2183 00:01F3: A0 02 00     	ldy	#$2
  2184 00:01F6: F7 01        	sbc	[<R0],Y
  2185 00:01F8: 70 03        	bvs	L31
  2186 00:01FA: 49 00 80     	eor	#$8000
  2187                        L31:
  2188 00:01FD: 30 03        	bmi	L32
  2189 00:01FF: 82 B3 FF     	brl	L10019
  2190                        L32:
  2191                        L10018:
  2192                        ;	}
  2193                        	.line	103
  2194                        L10013:
  2195 00:0202: E6 11        	inc	<L25+i_1
  2196                        L10016:
  2197 00:0204: A0 54 00     	ldy	#$54
  2198 00:0207: B7 18        	lda	[<L24+p_0],Y
  2199 00:0209: 85 01        	sta	<R0
  2200 00:020B: A0 56 00     	ldy	#$56
  2201 00:020E: B7 18        	lda	[<L24+p_0],Y
  2202 00:0210: 85 03        	sta	<R0+2
  2203 00:0212: 38           	sec
  2204 00:0213: A5 11        	lda	<L25+i_1
  2205 00:0215: E7 01        	sbc	[<R0]
  2206 00:0217: 70 03        	bvs	L33
  2207 00:0219: 49 00 80     	eor	#$8000
  2208                        L33:
  2209 00:021C: 30 03        	bmi	L34
  2210 00:021E: 82 8F FF     	brl	L10015
  2211                        L34:
  2212                        L10014:
  2213                        ;
  2214                        ;	p->consoleCtl->curX = 0;
  2215                        	.line	105
  2216 00:0221: A0 54 00     	ldy	#$54
  2217 00:0224: B7 18        	lda	[<L24+p_0],Y
  2218 00:0226: 85 01        	sta	<R0
  2219 00:0228: A0 56 00     	ldy	#$56
  2220 00:022B: B7 18        	lda	[<L24+p_0],Y
  2221 00:022D: 85 03        	sta	<R0+2
  2222 00:022F: A9 00 00     	lda	#$0
  2223 00:0232: A0 04 00     	ldy	#$4
  2224 00:0235: 97 01        	sta	[<R0],Y
  2225                        ;	p->consoleCtl->curY--;
  2226                        	.line	106
  2227 00:0237: A0 54 00     	ldy	#$54
  2228 00:023A: B7 18        	lda	[<L24+p_0],Y
  2229 00:023C: 85 01        	sta	<R0
  2230 00:023E: A0 56 00     	ldy	#$56
  2231 00:0241: B7 18        	lda	[<L24+p_0],Y
  2232 00:0243: 85 03        	sta	<R0+2
  2233 00:0245: 18           	clc
  2234 00:0246: A9 FF FF     	lda	#$ffff
  2235 00:0249: A0 06 00     	ldy	#$6
  2236 00:024C: 77 01        	adc	[<R0],Y
  Sat Jul 10 2021  1:15                                                Page 44


  2237 00:024E: A0 06 00     	ldy	#$6
  2238 00:0251: 97 01        	sta	[<R0],Y
  2239                        ;}
  2240                        	.line	107
  2241                        L35:
  2242 00:0253: A5 16        	lda	<L24+2
  2243 00:0255: 85 1A        	sta	<L24+2+4
  2244 00:0257: A5 15        	lda	<L24+1
  2245 00:0259: 85 19        	sta	<L24+1+4
  2246 00:025B: 2B           	pld
  2247 00:025C: 3B           	tsc
  2248 00:025D: 18           	clc
  2249 00:025E: 69 18 00     	adc	#L24+4
  2250 00:0261: 1B           	tcs
  2251 00:0262: 6B           	rtl
  2252                        	.endblock	107
  2253             00000014   L24	equ	20
  2254             00000011   L25	equ	17
  2255                        	ends
  2256                        	efunc
  2257                        	.endfunc	107,17,20
  2258                        	.line	107
  2259                        ;
  2260                        ;int k_get_cols_visible(void)
  2261                        ;{
  2262                        	.line	109
  2263                        	.line	110
  2264                        	code
  2265                        	xdef	~~k_get_cols_visible
  2266                        	func
  2267                        	.function	110
  2268                        ~~k_get_cols_visible:
  2269                        	longa	on
  2270                        	longi	on
  2271 00:0263: 3B           	tsc
  2272 00:0264: 38           	sec
  2273 00:0265: E9 00 00     	sbc	#L36
  2274 00:0268: 1B           	tcs
  2275 00:0269: 0B           	phd
  2276 00:026A: 5B           	tcd
  2277                        	.block	110
  2278                        ;	//return *((int*)(&((COLS_VISIBLE)[0]))); //2 By
                    tes Columns visible per screen line. A virtual line can be l
                    onger than displayed, up to COLS_PER_LINE long. Default  80
  2279                        ;	return *((int FAR *)COLS_VISIBLE);
  2280                        	.line	112
  2281 00:026B: AF 0F 00 00  	lda	>15
  2282                        L39:
  2283 00:026F: A8           	tay
  2284 00:0270: 2B           	pld
  2285 00:0271: 3B           	tsc
  2286 00:0272: 18           	clc
  2287 00:0273: 69 00 00     	adc	#L36
  2288 00:0276: 1B           	tcs
  2289 00:0277: 98           	tya
  2290 00:0278: 6B           	rtl
  2291                        ;}
  2292                        	.line	113
  Sat Jul 10 2021  1:15                                                Page 45


  2293                        	.endblock	113
  2294             00000000   L36	equ	0
  2295             00000001   L37	equ	1
  2296                        	ends
  2297                        	efunc
  2298                        	.endfunc	113,1,0
  2299                        	.line	113
  2300                        ;
  2301                        ;int k_get_cols_per_line(void)
  2302                        ;{
  2303                        	.line	115
  2304                        	.line	116
  2305                        	code
  2306                        	xdef	~~k_get_cols_per_line
  2307                        	func
  2308                        	.function	116
  2309                        ~~k_get_cols_per_line:
  2310                        	longa	on
  2311                        	longi	on
  2312 00:0279: 3B           	tsc
  2313 00:027A: 38           	sec
  2314 00:027B: E9 00 00     	sbc	#L40
  2315 00:027E: 1B           	tcs
  2316 00:027F: 0B           	phd
  2317 00:0280: 5B           	tcd
  2318                        	.block	116
  2319                        ;	return *((int*)COLS_PER_LINE); //2 Bytes Columns
                     visible per screen line. A virtual line can be longer than 
                    displayed, up to COLS_PER_LINE long. Default  80
  2320                        	.line	117
  2321 00:0281: AF 11 00 00  	lda	>17
  2322                        L43:
  2323 00:0285: A8           	tay
  2324 00:0286: 2B           	pld
  2325 00:0287: 3B           	tsc
  2326 00:0288: 18           	clc
  2327 00:0289: 69 00 00     	adc	#L40
  2328 00:028C: 1B           	tcs
  2329 00:028D: 98           	tya
  2330 00:028E: 6B           	rtl
  2331                        ;}
  2332                        	.line	118
  2333                        	.endblock	118
  2334             00000000   L40	equ	0
  2335             00000001   L41	equ	1
  2336                        	ends
  2337                        	efunc
  2338                        	.endfunc	118,1,0
  2339                        	.line	118
  2340                        ;
  2341                        ;int k_get_lines_visible(void)
  2342                        ;{
  2343                        	.line	120
  2344                        	.line	121
  2345                        	code
  2346                        	xdef	~~k_get_lines_visible
  2347                        	func
  2348                        	.function	121
  Sat Jul 10 2021  1:15                                                Page 46


  2349                        ~~k_get_lines_visible:
  2350                        	longa	on
  2351                        	longi	on
  2352 00:028F: 3B           	tsc
  2353 00:0290: 38           	sec
  2354 00:0291: E9 00 00     	sbc	#L44
  2355 00:0294: 1B           	tcs
  2356 00:0295: 0B           	phd
  2357 00:0296: 5B           	tcd
  2358                        	.block	121
  2359                        ;	return *((int*)LINES_VISIBLE); //2 Bytes Columns
                     visible per screen line. A virtual line can be longer than 
                    displayed, up to COLS_PER_LINE long. Default  80
  2360                        	.line	122
  2361 00:0297: AF 13 00 00  	lda	>19
  2362                        L47:
  2363 00:029B: A8           	tay
  2364 00:029C: 2B           	pld
  2365 00:029D: 3B           	tsc
  2366 00:029E: 18           	clc
  2367 00:029F: 69 00 00     	adc	#L44
  2368 00:02A2: 1B           	tcs
  2369 00:02A3: 98           	tya
  2370 00:02A4: 6B           	rtl
  2371                        ;}
  2372                        	.line	123
  2373                        	.endblock	123
  2374             00000000   L44	equ	0
  2375             00000001   L45	equ	1
  2376                        	ends
  2377                        	efunc
  2378                        	.endfunc	123,1,0
  2379                        	.line	123
  2380                        ;
  2381                        ;int k_get_lines_max(void)
  2382                        ;{
  2383                        	.line	125
  2384                        	.line	126
  2385                        	code
  2386                        	xdef	~~k_get_lines_max
  2387                        	func
  2388                        	.function	126
  2389                        ~~k_get_lines_max:
  2390                        	longa	on
  2391                        	longi	on
  2392 00:02A5: 3B           	tsc
  2393 00:02A6: 38           	sec
  2394 00:02A7: E9 00 00     	sbc	#L48
  2395 00:02AA: 1B           	tcs
  2396 00:02AB: 0B           	phd
  2397 00:02AC: 5B           	tcd
  2398                        	.block	126
  2399                        ;	return *((int*)LINES_MAX); //2 Bytes Columns vis
                    ible per screen line. A virtual line can be longer than disp
                    layed, up to COLS_PER_LINE long. Default  80
  2400                        	.line	127
  2401 00:02AD: AF 15 00 00  	lda	>21
  2402                        L51:
  Sat Jul 10 2021  1:15                                                Page 47


  2403 00:02B1: A8           	tay
  2404 00:02B2: 2B           	pld
  2405 00:02B3: 3B           	tsc
  2406 00:02B4: 18           	clc
  2407 00:02B5: 69 00 00     	adc	#L48
  2408 00:02B8: 1B           	tcs
  2409 00:02B9: 98           	tya
  2410 00:02BA: 6B           	rtl
  2411                        ;}
  2412                        	.line	128
  2413                        	.endblock	128
  2414             00000000   L48	equ	0
  2415             00000001   L49	equ	1
  2416                        	ends
  2417                        	efunc
  2418                        	.endfunc	128,1,0
  2419                        	.line	128
  2420                        ;
  2421                        ;void k_enable_text_mode(void)
  2422                        ;{
  2423                        	.line	130
  2424                        	.line	131
  2425                        	code
  2426                        	xdef	~~k_enable_text_mode
  2427                        	func
  2428                        	.function	131
  2429                        ~~k_enable_text_mode:
  2430                        	longa	on
  2431                        	longi	on
  2432 00:02BB: 3B           	tsc
  2433 00:02BC: 38           	sec
  2434 00:02BD: E9 04 00     	sbc	#L52
  2435 00:02C0: 1B           	tcs
  2436 00:02C1: 0B           	phd
  2437 00:02C2: 5B           	tcd
  2438                        	.block	131
  2439                        ;	int i = 0;
  2440                        ;	int j = 0;
  2441                        ;
  2442                        ;	k_clear_console();
  2443             00000000   i_1	set	0
  2444             00000002   j_1	set	2
  2445                        	.sym	i,0,5,1,16
  2446                        	.sym	j,2,5,1,16
  2447 00:02C3: 64 01        	stz	<L53+i_1
  2448 00:02C5: 64 03        	stz	<L53+j_1
  2449                        	.line	135
  2450 00:02C7: 22 xx xx xx  	jsl	~~k_clear_console
  2451                        ;	k_clear_screen(0);
  2452                        	.line	136
  2453 00:02CB: F4 00 00     	pea	#<$0
  2454 00:02CE: 22 xx xx xx  	jsl	~~k_clear_screen
  2455                        ;
  2456                        ;	//k_debug_string("k_enable_bitmap_mode RESET 1a.
                    ..\r\n");
  2457                        ;
  2458                        ;	MASTER_CTRL_REG_H[0] = MSTR_CTRL_VIDEO_MODE0;
  2459                        	.line	140
  Sat Jul 10 2021  1:15                                                Page 48


  2460 00:02D2: E2 20        	sep	#$20
  2461                        	longa	off
  2462 00:02D4: A9 01        	lda	#$1
  2463 00:02D6: 8F 01 00 AF  	sta	>11468801
  2464 00:02DA: C2 20        	rep	#$20
  2465                        	longa	on
  2466                        ;	MASTER_CTRL_REG_L[0] = MSTR_CTRL_TEXT_MODE_EN;
  2467                        	.line	141
  2468 00:02DC: E2 20        	sep	#$20
  2469                        	longa	off
  2470 00:02DE: A9 01        	lda	#$1
  2471 00:02E0: 8F 00 00 AF  	sta	>11468800
  2472 00:02E4: C2 20        	rep	#$20
  2473                        	longa	on
  2474                        ;
  2475                        ;	for(i=3200;i>0;i--)
  2476                        	.line	143
  2477 00:02E6: A9 80 0C     	lda	#$c80
  2478 00:02E9: 85 01        	sta	<L53+i_1
  2479                        L10023:
  2480                        ;	{
  2481                        	.line	144
  2482                        ;		for(j=0;j<256;j++)
  2483                        	.line	145
  2484 00:02EB: 64 03        	stz	<L53+j_1
  2485                        L10026:
  2486                        ;		{
  2487                        	.line	146
  2488                        ;			asm NOP;
  2489                        	.line	147
  2490                        	asmstart
  2491 00:02ED: EA           	NOP
  2492                        	asmend
  2493                        ;		}
  2494                        	.line	148
  2495                        L10024:
  2496 00:02EE: E6 03        	inc	<L53+j_1
  2497 00:02F0: 38           	sec
  2498 00:02F1: A5 03        	lda	<L53+j_1
  2499 00:02F3: E9 00 01     	sbc	#<$100
  2500 00:02F6: 70 03        	bvs	L55
  2501 00:02F8: 49 00 80     	eor	#$8000
  2502                        L55:
  2503 00:02FB: 30 03        	bmi	L56
  2504 00:02FD: 82 ED FF     	brl	L10026
  2505                        L56:
  2506                        L10025:
  2507                        ;	}
  2508                        	.line	149
  2509                        L10021:
  2510 00:0300: C6 01        	dec	<L53+i_1
  2511 00:0302: 38           	sec
  2512 00:0303: A9 00 00     	lda	#$0
  2513 00:0306: E5 01        	sbc	<L53+i_1
  2514 00:0308: 70 03        	bvs	L57
  2515 00:030A: 49 00 80     	eor	#$8000
  2516                        L57:
  2517 00:030D: 30 03        	bmi	L58
  Sat Jul 10 2021  1:15                                                Page 49


  2518 00:030F: 82 D9 FF     	brl	L10023
  2519                        L58:
  2520                        L10022:
  2521                        ;
  2522                        ;	//k_debug_string("k_enable_bitmap_mode RESET 1b.
                    ..\r\n");
  2523                        ;	//k_clear_console();
  2524                        ;	//k_clear_screen(0);
  2525                        ;
  2526                        ;	MASTER_CTRL_REG_H[0] = MSTR_CTRL_VIDEO_MODE0;
  2527                        	.line	155
  2528 00:0312: E2 20        	sep	#$20
  2529                        	longa	off
  2530 00:0314: A9 01        	lda	#$1
  2531 00:0316: 8F 01 00 AF  	sta	>11468801
  2532 00:031A: C2 20        	rep	#$20
  2533                        	longa	on
  2534                        ;	MASTER_CTRL_REG_L[0] = MSTR_CTRL_TEXT_MODE_EN;
  2535                        	.line	156
  2536 00:031C: E2 20        	sep	#$20
  2537                        	longa	off
  2538 00:031E: A9 01        	lda	#$1
  2539 00:0320: 8F 00 00 AF  	sta	>11468800
  2540 00:0324: C2 20        	rep	#$20
  2541                        	longa	on
  2542                        ;
  2543                        ;	for(i=3200;i>0;i--)
  2544                        	.line	158
  2545 00:0326: A9 80 0C     	lda	#$c80
  2546 00:0329: 85 01        	sta	<L53+i_1
  2547                        L10029:
  2548                        ;	{
  2549                        	.line	159
  2550                        ;		for(j=0;j<256;j++)
  2551                        	.line	160
  2552 00:032B: 64 03        	stz	<L53+j_1
  2553                        L10032:
  2554                        ;		{
  2555                        	.line	161
  2556                        ;			asm NOP;
  2557                        	.line	162
  2558                        	asmstart
  2559 00:032D: EA           	NOP
  2560                        	asmend
  2561                        ;		}
  2562                        	.line	163
  2563                        L10030:
  2564 00:032E: E6 03        	inc	<L53+j_1
  2565 00:0330: 38           	sec
  2566 00:0331: A5 03        	lda	<L53+j_1
  2567 00:0333: E9 00 01     	sbc	#<$100
  2568 00:0336: 70 03        	bvs	L59
  2569 00:0338: 49 00 80     	eor	#$8000
  2570                        L59:
  2571 00:033B: 30 03        	bmi	L60
  2572 00:033D: 82 ED FF     	brl	L10032
  2573                        L60:
  2574                        L10031:
  Sat Jul 10 2021  1:15                                                Page 50


  2575                        ;	}
  2576                        	.line	164
  2577                        L10027:
  2578 00:0340: C6 01        	dec	<L53+i_1
  2579 00:0342: 38           	sec
  2580 00:0343: A9 00 00     	lda	#$0
  2581 00:0346: E5 01        	sbc	<L53+i_1
  2582 00:0348: 70 03        	bvs	L61
  2583 00:034A: 49 00 80     	eor	#$8000
  2584                        L61:
  2585 00:034D: 30 03        	bmi	L62
  2586 00:034F: 82 D9 FF     	brl	L10029
  2587                        L62:
  2588                        L10028:
  2589                        ;
  2590                        ;	//k_debug_string("k_enable_bitmap_mode RESET 1c.
                    ..\r\n");
  2591                        ;	//k_clear_console();
  2592                        ;	//k_clear_screen(0);
  2593                        ;
  2594                        ;	MASTER_CTRL_REG_H[0] = MSTR_CTRL_VIDEO_MODE0;
  2595                        	.line	170
  2596 00:0352: E2 20        	sep	#$20
  2597                        	longa	off
  2598 00:0354: A9 01        	lda	#$1
  2599 00:0356: 8F 01 00 AF  	sta	>11468801
  2600 00:035A: C2 20        	rep	#$20
  2601                        	longa	on
  2602                        ;	MASTER_CTRL_REG_L[0] = MSTR_CTRL_TEXT_MODE_EN;
  2603                        	.line	171
  2604 00:035C: E2 20        	sep	#$20
  2605                        	longa	off
  2606 00:035E: A9 01        	lda	#$1
  2607 00:0360: 8F 00 00 AF  	sta	>11468800
  2608 00:0364: C2 20        	rep	#$20
  2609                        	longa	on
  2610                        ;
  2611                        ;	for(i=3200;i>0;i--)
  2612                        	.line	173
  2613 00:0366: A9 80 0C     	lda	#$c80
  2614 00:0369: 85 01        	sta	<L53+i_1
  2615                        L10035:
  2616                        ;	{
  2617                        	.line	174
  2618                        ;		for(j=0;j<256;j++)
  2619                        	.line	175
  2620 00:036B: 64 03        	stz	<L53+j_1
  2621                        L10038:
  2622                        ;		{
  2623                        	.line	176
  2624                        ;			asm NOP;
  2625                        	.line	177
  2626                        	asmstart
  2627 00:036D: EA           	NOP
  2628                        	asmend
  2629                        ;		}
  2630                        	.line	178
  2631                        L10036:
  Sat Jul 10 2021  1:15                                                Page 51


  2632 00:036E: E6 03        	inc	<L53+j_1
  2633 00:0370: 38           	sec
  2634 00:0371: A5 03        	lda	<L53+j_1
  2635 00:0373: E9 00 01     	sbc	#<$100
  2636 00:0376: 70 03        	bvs	L63
  2637 00:0378: 49 00 80     	eor	#$8000
  2638                        L63:
  2639 00:037B: 30 03        	bmi	L64
  2640 00:037D: 82 ED FF     	brl	L10038
  2641                        L64:
  2642                        L10037:
  2643                        ;	}
  2644                        	.line	179
  2645                        L10033:
  2646 00:0380: C6 01        	dec	<L53+i_1
  2647 00:0382: 38           	sec
  2648 00:0383: A9 00 00     	lda	#$0
  2649 00:0386: E5 01        	sbc	<L53+i_1
  2650 00:0388: 70 03        	bvs	L65
  2651 00:038A: 49 00 80     	eor	#$8000
  2652                        L65:
  2653 00:038D: 30 03        	bmi	L66
  2654 00:038F: 82 D9 FF     	brl	L10035
  2655                        L66:
  2656                        L10034:
  2657                        ;
  2658                        ;
  2659                        ;	//k_debug_string("k_enable_text_mode RESET 1...\
                    r\n");
  2660                        ;	//k_clear_console();
  2661                        ;	//k_clear_screen(0);
  2662                        ;
  2663                        ;	MASTER_CTRL_REG_H[0] = 0x00;
  2664                        	.line	186
  2665 00:0392: E2 20        	sep	#$20
  2666                        	longa	off
  2667 00:0394: A9 00        	lda	#$0
  2668 00:0396: 8F 01 00 AF  	sta	>11468801
  2669 00:039A: C2 20        	rep	#$20
  2670                        	longa	on
  2671                        ;	MASTER_CTRL_REG_L[0] = MSTR_CTRL_TEXT_MODE_EN;
  2672                        	.line	187
  2673 00:039C: E2 20        	sep	#$20
  2674                        	longa	off
  2675 00:039E: A9 01        	lda	#$1
  2676 00:03A0: 8F 00 00 AF  	sta	>11468800
  2677 00:03A4: C2 20        	rep	#$20
  2678                        	longa	on
  2679                        ;
  2680                        ;	for(i=32;i>0;i--)
  2681                        	.line	189
  2682 00:03A6: A9 20 00     	lda	#$20
  2683 00:03A9: 85 01        	sta	<L53+i_1
  2684                        L10041:
  2685                        ;	{
  2686                        	.line	190
  2687                        ;		for(j=0;j<256;j++)
  2688                        	.line	191
  Sat Jul 10 2021  1:15                                                Page 52


  2689 00:03AB: 64 03        	stz	<L53+j_1
  2690                        L10044:
  2691                        ;		{
  2692                        	.line	192
  2693                        ;			asm NOP;
  2694                        	.line	193
  2695                        	asmstart
  2696 00:03AD: EA           	NOP
  2697                        	asmend
  2698                        ;		}
  2699                        	.line	194
  2700                        L10042:
  2701 00:03AE: E6 03        	inc	<L53+j_1
  2702 00:03B0: 38           	sec
  2703 00:03B1: A5 03        	lda	<L53+j_1
  2704 00:03B3: E9 00 01     	sbc	#<$100
  2705 00:03B6: 70 03        	bvs	L67
  2706 00:03B8: 49 00 80     	eor	#$8000
  2707                        L67:
  2708 00:03BB: 30 03        	bmi	L68
  2709 00:03BD: 82 ED FF     	brl	L10044
  2710                        L68:
  2711                        L10043:
  2712                        ;	}
  2713                        	.line	195
  2714                        L10039:
  2715 00:03C0: C6 01        	dec	<L53+i_1
  2716 00:03C2: 38           	sec
  2717 00:03C3: A9 00 00     	lda	#$0
  2718 00:03C6: E5 01        	sbc	<L53+i_1
  2719 00:03C8: 70 03        	bvs	L69
  2720 00:03CA: 49 00 80     	eor	#$8000
  2721                        L69:
  2722 00:03CD: 30 03        	bmi	L70
  2723 00:03CF: 82 D9 FF     	brl	L10041
  2724                        L70:
  2725                        L10040:
  2726                        ;
  2727                        ;	//k_clear_console();
  2728                        ;	//k_clear_screen(0);
  2729                        ;
  2730                        ;	//k_debug_string("k_enable_text_mode RESET 2...\
                    r\n");
  2731                        ;	MASTER_CTRL_REG_H[0] = 0x00;
  2732                        	.line	201
  2733 00:03D2: E2 20        	sep	#$20
  2734                        	longa	off
  2735 00:03D4: A9 00        	lda	#$0
  2736 00:03D6: 8F 01 00 AF  	sta	>11468801
  2737 00:03DA: C2 20        	rep	#$20
  2738                        	longa	on
  2739                        ;	MASTER_CTRL_REG_L[0] = MSTR_CTRL_TEXT_MODE_EN;
  2740                        	.line	202
  2741 00:03DC: E2 20        	sep	#$20
  2742                        	longa	off
  2743 00:03DE: A9 01        	lda	#$1
  2744 00:03E0: 8F 00 00 AF  	sta	>11468800
  2745 00:03E4: C2 20        	rep	#$20
  Sat Jul 10 2021  1:15                                                Page 53


  2746                        	longa	on
  2747                        ;
  2748                        ;	for(i=32;i>0;i--)
  2749                        	.line	204
  2750 00:03E6: A9 20 00     	lda	#$20
  2751 00:03E9: 85 01        	sta	<L53+i_1
  2752                        L10047:
  2753                        ;	{
  2754                        	.line	205
  2755                        ;		for(j=0;j<256;j++)
  2756                        	.line	206
  2757 00:03EB: 64 03        	stz	<L53+j_1
  2758                        L10050:
  2759                        ;		{
  2760                        	.line	207
  2761                        ;			asm NOP;
  2762                        	.line	208
  2763                        	asmstart
  2764 00:03ED: EA           	NOP
  2765                        	asmend
  2766                        ;		}
  2767                        	.line	209
  2768                        L10048:
  2769 00:03EE: E6 03        	inc	<L53+j_1
  2770 00:03F0: 38           	sec
  2771 00:03F1: A5 03        	lda	<L53+j_1
  2772 00:03F3: E9 00 01     	sbc	#<$100
  2773 00:03F6: 70 03        	bvs	L71
  2774 00:03F8: 49 00 80     	eor	#$8000
  2775                        L71:
  2776 00:03FB: 30 03        	bmi	L72
  2777 00:03FD: 82 ED FF     	brl	L10050
  2778                        L72:
  2779                        L10049:
  2780                        ;	}
  2781                        	.line	210
  2782                        L10045:
  2783 00:0400: C6 01        	dec	<L53+i_1
  2784 00:0402: 38           	sec
  2785 00:0403: A9 00 00     	lda	#$0
  2786 00:0406: E5 01        	sbc	<L53+i_1
  2787 00:0408: 70 03        	bvs	L73
  2788 00:040A: 49 00 80     	eor	#$8000
  2789                        L73:
  2790 00:040D: 30 03        	bmi	L74
  2791 00:040F: 82 D9 FF     	brl	L10047
  2792                        L74:
  2793                        L10046:
  2794                        ;
  2795                        ;	//k_debug_string("k_enable_text_mode RESET 3...\
                    r\n");
  2796                        ;	MASTER_CTRL_REG_H[0] = 0x00;
  2797                        	.line	213
  2798 00:0412: E2 20        	sep	#$20
  2799                        	longa	off
  2800 00:0414: A9 00        	lda	#$0
  2801 00:0416: 8F 01 00 AF  	sta	>11468801
  2802 00:041A: C2 20        	rep	#$20
  Sat Jul 10 2021  1:15                                                Page 54


  2803                        	longa	on
  2804                        ;	MASTER_CTRL_REG_L[0] = MSTR_CTRL_TEXT_MODE_EN;
  2805                        	.line	214
  2806 00:041C: E2 20        	sep	#$20
  2807                        	longa	off
  2808 00:041E: A9 01        	lda	#$1
  2809 00:0420: 8F 00 00 AF  	sta	>11468800
  2810 00:0424: C2 20        	rep	#$20
  2811                        	longa	on
  2812                        ;
  2813                        ;	for(i=32;i>0;i--)
  2814                        	.line	216
  2815 00:0426: A9 20 00     	lda	#$20
  2816 00:0429: 85 01        	sta	<L53+i_1
  2817                        L10053:
  2818                        ;	{
  2819                        	.line	217
  2820                        ;		for(j=0;j<256;j++)
  2821                        	.line	218
  2822 00:042B: 64 03        	stz	<L53+j_1
  2823                        L10056:
  2824                        ;		{
  2825                        	.line	219
  2826                        ;			asm NOP;
  2827                        	.line	220
  2828                        	asmstart
  2829 00:042D: EA           	NOP
  2830                        	asmend
  2831                        ;		}
  2832                        	.line	221
  2833                        L10054:
  2834 00:042E: E6 03        	inc	<L53+j_1
  2835 00:0430: 38           	sec
  2836 00:0431: A5 03        	lda	<L53+j_1
  2837 00:0433: E9 00 01     	sbc	#<$100
  2838 00:0436: 70 03        	bvs	L75
  2839 00:0438: 49 00 80     	eor	#$8000
  2840                        L75:
  2841 00:043B: 30 03        	bmi	L76
  2842 00:043D: 82 ED FF     	brl	L10056
  2843                        L76:
  2844                        L10055:
  2845                        ;	}
  2846                        	.line	222
  2847                        L10051:
  2848 00:0440: C6 01        	dec	<L53+i_1
  2849 00:0442: 38           	sec
  2850 00:0443: A9 00 00     	lda	#$0
  2851 00:0446: E5 01        	sbc	<L53+i_1
  2852 00:0448: 70 03        	bvs	L77
  2853 00:044A: 49 00 80     	eor	#$8000
  2854                        L77:
  2855 00:044D: 30 03        	bmi	L78
  2856 00:044F: 82 D9 FF     	brl	L10053
  2857                        L78:
  2858                        L10052:
  2859                        ;#asm
  2860                        	.line	223
  Sat Jul 10 2021  1:15                                                Page 55


  2861                        ;	NOP
  2862                        ;	NOP
  2863                        ;	NOP
  2864                        ;	NOP
  2865                        ;	NOP
  2866                        ;	NOP
  2867                        ;	NOP
  2868                        ;	NOP
  2869                        ;#endasm
  2870                        	asmstart
  2871 00:0452: EA           	NOP
  2872 00:0453: EA           	NOP
  2873 00:0454: EA           	NOP
  2874 00:0455: EA           	NOP
  2875 00:0456: EA           	NOP
  2876 00:0457: EA           	NOP
  2877 00:0458: EA           	NOP
  2878 00:0459: EA           	NOP
  2879                        	asmend
  2880                        ;
  2881                        ;	//MASTER_CTRL_REG_L[0] = MSTR_CTRL_DISABLE_VID;
  2882                        ;
  2883                        ;#asm
  2884                        	.line	236
  2885                        ;	NOP
  2886                        ;	NOP
  2887                        ;	NOP
  2888                        ;	NOP
  2889                        ;	NOP
  2890                        ;	NOP
  2891                        ;	NOP
  2892                        ;	NOP
  2893                        ;#endasm
  2894                        	asmstart
  2895 00:045A: EA           	NOP
  2896 00:045B: EA           	NOP
  2897 00:045C: EA           	NOP
  2898 00:045D: EA           	NOP
  2899 00:045E: EA           	NOP
  2900 00:045F: EA           	NOP
  2901 00:0460: EA           	NOP
  2902 00:0461: EA           	NOP
  2903                        	asmend
  2904                        ;
  2905                        ;	//MASTER_CTRL_REG_H[0] = 0;
  2906                        ;	MASTER_CTRL_REG_L[0] = MSTR_CTRL_TEXT_MODE_EN;
  2907                        	.line	248
  2908 00:0462: E2 20        	sep	#$20
  2909                        	longa	off
  2910 00:0464: A9 01        	lda	#$1
  2911 00:0466: 8F 00 00 AF  	sta	>11468800
  2912 00:046A: C2 20        	rep	#$20
  2913                        	longa	on
  2914                        ;
  2915                        ;}
  2916                        	.line	250
  2917                        L79:
  2918 00:046C: 2B           	pld
  Sat Jul 10 2021  1:15                                                Page 56


  2919 00:046D: 3B           	tsc
  2920 00:046E: 18           	clc
  2921 00:046F: 69 04 00     	adc	#L52
  2922 00:0472: 1B           	tcs
  2923 00:0473: 6B           	rtl
  2924                        	.endblock	250
  2925             00000004   L52	equ	4
  2926             00000001   L53	equ	1
  2927                        	ends
  2928                        	efunc
  2929                        	.endfunc	250,1,4
  2930                        	.line	250
  2931                        ;
  2932                        ;void k_enable_border(void)
  2933                        ;{
  2934                        	.line	252
  2935                        	.line	253
  2936                        	code
  2937                        	xdef	~~k_enable_border
  2938                        	func
  2939                        	.function	253
  2940                        ~~k_enable_border:
  2941                        	longa	on
  2942                        	longi	on
  2943 00:0474: 3B           	tsc
  2944 00:0475: 38           	sec
  2945 00:0476: E9 00 00     	sbc	#L80
  2946 00:0479: 1B           	tcs
  2947 00:047A: 0B           	phd
  2948 00:047B: 5B           	tcd
  2949                        	.block	253
  2950                        ;	BORDER_CTRL_REG[0] = BORDER_CTRL_ENABLE;
  2951                        	.line	254
  2952 00:047C: E2 20        	sep	#$20
  2953                        	longa	off
  2954 00:047E: A9 01        	lda	#$1
  2955 00:0480: 8F 04 00 AF  	sta	>11468804
  2956 00:0484: C2 20        	rep	#$20
  2957                        	longa	on
  2958                        ;}
  2959                        	.line	255
  2960                        L83:
  2961 00:0486: 2B           	pld
  2962 00:0487: 3B           	tsc
  2963 00:0488: 18           	clc
  2964 00:0489: 69 00 00     	adc	#L80
  2965 00:048C: 1B           	tcs
  2966 00:048D: 6B           	rtl
  2967                        	.endblock	255
  2968             00000000   L80	equ	0
  2969             00000001   L81	equ	1
  2970                        	ends
  2971                        	efunc
  2972                        	.endfunc	255,1,0
  2973                        	.line	255
  2974                        ;
  2975                        ;void k_disable_border(void)
  2976                        ;{
  Sat Jul 10 2021  1:15                                                Page 57


  2977                        	.line	257
  2978                        	.line	258
  2979                        	code
  2980                        	xdef	~~k_disable_border
  2981                        	func
  2982                        	.function	258
  2983                        ~~k_disable_border:
  2984                        	longa	on
  2985                        	longi	on
  2986 00:048E: 3B           	tsc
  2987 00:048F: 38           	sec
  2988 00:0490: E9 00 00     	sbc	#L84
  2989 00:0493: 1B           	tcs
  2990 00:0494: 0B           	phd
  2991 00:0495: 5B           	tcd
  2992                        	.block	258
  2993                        ;	BORDER_CTRL_REG[0] = 0x00 ;
  2994                        	.line	259
  2995 00:0496: E2 20        	sep	#$20
  2996                        	longa	off
  2997 00:0498: A9 00        	lda	#$0
  2998 00:049A: 8F 04 00 AF  	sta	>11468804
  2999 00:049E: C2 20        	rep	#$20
  3000                        	longa	on
  3001                        ;}
  3002                        	.line	260
  3003                        L87:
  3004 00:04A0: 2B           	pld
  3005 00:04A1: 3B           	tsc
  3006 00:04A2: 18           	clc
  3007 00:04A3: 69 00 00     	adc	#L84
  3008 00:04A6: 1B           	tcs
  3009 00:04A7: 6B           	rtl
  3010                        	.endblock	260
  3011             00000000   L84	equ	0
  3012             00000001   L85	equ	1
  3013                        	ends
  3014                        	efunc
  3015                        	.endfunc	260,1,0
  3016                        	.line	260
  3017                        ;
  3018                        ;void k_set_border(int x,int y,char r,char g,char 
                    b)
  3019                        ;{
  3020                        	.line	262
  3021                        	.line	263
  3022                        	code
  3023                        	xdef	~~k_set_border
  3024                        	func
  3025                        	.function	263
  3026                        ~~k_set_border:
  3027                        	longa	on
  3028                        	longi	on
  3029 00:04A8: 3B           	tsc
  3030 00:04A9: 38           	sec
  3031 00:04AA: E9 00 00     	sbc	#L88
  3032 00:04AD: 1B           	tcs
  3033 00:04AE: 0B           	phd
  Sat Jul 10 2021  1:15                                                Page 58


  3034 00:04AF: 5B           	tcd
  3035             00000004   x_0	set	4
  3036             00000006   y_0	set	6
  3037             00000008   r_0	set	8
  3038             0000000A   g_0	set	10
  3039             0000000C   b_0	set	12
  3040                        	.block	263
  3041                        ;	BORDER_COLOR_B[0] = b;
  3042                        	.sym	x,4,5,6,16
  3043                        	.sym	y,6,5,6,16
  3044                        	.sym	r,8,14,6,8
  3045                        	.sym	g,10,14,6,8
  3046                        	.sym	b,12,14,6,8
  3047                        	.line	264
  3048 00:04B0: E2 20        	sep	#$20
  3049                        	longa	off
  3050 00:04B2: A5 0C        	lda	<L88+b_0
  3051 00:04B4: 8F 05 00 AF  	sta	>11468805
  3052 00:04B8: C2 20        	rep	#$20
  3053                        	longa	on
  3054                        ;	BORDER_COLOR_G[0] = g;
  3055                        	.line	265
  3056 00:04BA: E2 20        	sep	#$20
  3057                        	longa	off
  3058 00:04BC: A5 0A        	lda	<L88+g_0
  3059 00:04BE: 8F 06 00 AF  	sta	>11468806
  3060 00:04C2: C2 20        	rep	#$20
  3061                        	longa	on
  3062                        ;	BORDER_COLOR_R[0] = r;
  3063                        	.line	266
  3064 00:04C4: E2 20        	sep	#$20
  3065                        	longa	off
  3066 00:04C6: A5 08        	lda	<L88+r_0
  3067 00:04C8: 8F 07 00 AF  	sta	>11468807
  3068 00:04CC: C2 20        	rep	#$20
  3069                        	longa	on
  3070                        ;
  3071                        ;    *BORDER_X_SIZE = x;
  3072                        	.line	268
  3073 00:04CE: E2 20        	sep	#$20
  3074                        	longa	off
  3075 00:04D0: A5 04        	lda	<L88+x_0
  3076 00:04D2: 8F 08 00 AF  	sta	>11468808
  3077 00:04D6: C2 20        	rep	#$20
  3078                        	longa	on
  3079                        ;    *BORDER_Y_SIZE = y;
  3080                        	.line	269
  3081 00:04D8: E2 20        	sep	#$20
  3082                        	longa	off
  3083 00:04DA: A5 06        	lda	<L88+y_0
  3084 00:04DC: 8F 09 00 AF  	sta	>11468809
  3085 00:04E0: C2 20        	rep	#$20
  3086                        	longa	on
  3087                        ;}
  3088                        	.line	270
  3089                        L91:
  3090 00:04E2: A5 02        	lda	<L88+2
  3091 00:04E4: 85 0C        	sta	<L88+2+10
  Sat Jul 10 2021  1:15                                                Page 59


  3092 00:04E6: A5 01        	lda	<L88+1
  3093 00:04E8: 85 0B        	sta	<L88+1+10
  3094 00:04EA: 2B           	pld
  3095 00:04EB: 3B           	tsc
  3096 00:04EC: 18           	clc
  3097 00:04ED: 69 0A 00     	adc	#L88+10
  3098 00:04F0: 1B           	tcs
  3099 00:04F1: 6B           	rtl
  3100                        	.endblock	270
  3101             00000000   L88	equ	0
  3102             00000001   L89	equ	1
  3103                        	ends
  3104                        	efunc
  3105                        	.endfunc	270,1,0
  3106                        	.line	270
  3107                        ;
  3108                        ;void k_set_border_color(char r,char g,char b)
  3109                        ;{
  3110                        	.line	272
  3111                        	.line	273
  3112                        	code
  3113                        	xdef	~~k_set_border_color
  3114                        	func
  3115                        	.function	273
  3116                        ~~k_set_border_color:
  3117                        	longa	on
  3118                        	longi	on
  3119 00:04F2: 3B           	tsc
  3120 00:04F3: 38           	sec
  3121 00:04F4: E9 00 00     	sbc	#L92
  3122 00:04F7: 1B           	tcs
  3123 00:04F8: 0B           	phd
  3124 00:04F9: 5B           	tcd
  3125             00000004   r_0	set	4
  3126             00000006   g_0	set	6
  3127             00000008   b_0	set	8
  3128                        	.block	273
  3129                        ;	BORDER_COLOR_B[0] = b;
  3130                        	.sym	r,4,14,6,8
  3131                        	.sym	g,6,14,6,8
  3132                        	.sym	b,8,14,6,8
  3133                        	.line	274
  3134 00:04FA: E2 20        	sep	#$20
  3135                        	longa	off
  3136 00:04FC: A5 08        	lda	<L92+b_0
  3137 00:04FE: 8F 05 00 AF  	sta	>11468805
  3138 00:0502: C2 20        	rep	#$20
  3139                        	longa	on
  3140                        ;	BORDER_COLOR_G[0] = g;
  3141                        	.line	275
  3142 00:0504: E2 20        	sep	#$20
  3143                        	longa	off
  3144 00:0506: A5 06        	lda	<L92+g_0
  3145 00:0508: 8F 06 00 AF  	sta	>11468806
  3146 00:050C: C2 20        	rep	#$20
  3147                        	longa	on
  3148                        ;	BORDER_COLOR_R[0] = r;
  3149                        	.line	276
  Sat Jul 10 2021  1:15                                                Page 60


  3150 00:050E: E2 20        	sep	#$20
  3151                        	longa	off
  3152 00:0510: A5 04        	lda	<L92+r_0
  3153 00:0512: 8F 07 00 AF  	sta	>11468807
  3154 00:0516: C2 20        	rep	#$20
  3155                        	longa	on
  3156                        ;}
  3157                        	.line	277
  3158                        L95:
  3159 00:0518: A5 02        	lda	<L92+2
  3160 00:051A: 85 08        	sta	<L92+2+6
  3161 00:051C: A5 01        	lda	<L92+1
  3162 00:051E: 85 07        	sta	<L92+1+6
  3163 00:0520: 2B           	pld
  3164 00:0521: 3B           	tsc
  3165 00:0522: 18           	clc
  3166 00:0523: 69 06 00     	adc	#L92+6
  3167 00:0526: 1B           	tcs
  3168 00:0527: 6B           	rtl
  3169                        	.endblock	277
  3170             00000000   L92	equ	0
  3171             00000001   L93	equ	1
  3172                        	ends
  3173                        	efunc
  3174                        	.endfunc	277,1,0
  3175                        	.line	277
  3176                        ;
  3177                        ;void k_clear_screen(int bcolor)
  3178                        ;{
  3179                        	.line	279
  3180                        	.line	280
  3181                        	code
  3182                        	xdef	~~k_clear_screen
  3183                        	func
  3184                        	.function	280
  3185                        ~~k_clear_screen:
  3186                        	longa	on
  3187                        	longi	on
  3188 00:0528: 3B           	tsc
  3189 00:0529: 38           	sec
  3190 00:052A: E9 00 00     	sbc	#L96
  3191 00:052D: 1B           	tcs
  3192 00:052E: 0B           	phd
  3193 00:052F: 5B           	tcd
  3194             00000004   bcolor_0	set	4
  3195                        	.block	280
  3196                        ;	//memset((unsigned char FAR *)0xAFA000,0,0xAFA00
                    0 + 0xC000);
  3197                        ;	//memset((unsigned char FAR *)0xAFC000,bcolor,0x
                    AFA000 + 0xC000);
  3198                        ;	memset((unsigned char FAR *)0xAFA000,0,0xC000);
  3199                        	.sym	bcolor,4,5,6,16
  3200                        	.line	283
  3201 00:0530: F4 00 C0     	pea	#<$c000
  3202 00:0533: F4 00 00     	pea	#<$0
  3203 00:0536: F4 AF 00     	pea	#^$afa000
  3204 00:0539: F4 00 A0     	pea	#<$afa000
  3205 00:053C: 22 xx xx xx  	jsl	~~memset
  Sat Jul 10 2021  1:15                                                Page 61


  3206                        ;	memset((unsigned char FAR *)0xAFC000,bcolor,0xC0
                    00);
  3207                        	.line	284
  3208 00:0540: F4 00 C0     	pea	#<$c000
  3209 00:0543: D4 04        	pei	<L96+bcolor_0
  3210 00:0545: F4 AF 00     	pea	#^$afc000
  3211 00:0548: F4 00 C0     	pea	#<$afc000
  3212 00:054B: 22 xx xx xx  	jsl	~~memset
  3213                        ;
  3214                        ;}
  3215                        	.line	286
  3216                        L99:
  3217 00:054F: A5 02        	lda	<L96+2
  3218 00:0551: 85 04        	sta	<L96+2+2
  3219 00:0553: A5 01        	lda	<L96+1
  3220 00:0555: 85 03        	sta	<L96+1+2
  3221 00:0557: 2B           	pld
  3222 00:0558: 3B           	tsc
  3223 00:0559: 18           	clc
  3224 00:055A: 69 02 00     	adc	#L96+2
  3225 00:055D: 1B           	tcs
  3226 00:055E: 6B           	rtl
  3227                        	.endblock	286
  3228             00000000   L96	equ	0
  3229             00000001   L97	equ	1
  3230                        	ends
  3231                        	efunc
  3232                        	.endfunc	286,1,0
  3233                        	.line	286
  3234                        ;
  3235                        ;void k_clear_console(VOID)
  3236                        ;{
  3237                        	.line	288
  3238                        	.line	289
  3239                        	code
  3240                        	xdef	~~k_clear_console
  3241                        	func
  3242                        	.function	289
  3243                        ~~k_clear_console:
  3244                        	longa	on
  3245                        	longi	on
  3246 00:055F: 3B           	tsc
  3247 00:0560: 38           	sec
  3248 00:0561: E9 04 00     	sbc	#L100
  3249 00:0564: 1B           	tcs
  3250 00:0565: 0B           	phd
  3251 00:0566: 5B           	tcd
  3252                        	.block	289
  3253                        ;	PFXZEROPAGE zp = k_getZeroPage();
  3254                        ;	if(zp)
  3255             00000000   zp_1	set	0
  3256                        	.sym	zp,0,138,1,32,52
  3257 00:0567: 22 xx xx xx  	jsl	~~k_getZeroPage
  3258 00:056B: 85 01        	sta	<L101+zp_1
  3259 00:056D: 86 03        	stx	<L101+zp_1+2
  3260                        	.line	291
  3261                        ;	{
  3262 00:056F: A5 01        	lda	<L101+zp_1
  Sat Jul 10 2021  1:15                                                Page 62


  3263 00:0571: 05 03        	ora	<L101+zp_1+2
  3264 00:0573: D0 03        	bne	L103
  3265 00:0575: 82 17 00     	brl	L10057
  3266                        L103:
  3267                        	.line	292
  3268                        ;		k_clear_screen(0x00);
  3269                        	.line	293
  3270 00:0578: F4 00 00     	pea	#<$0
  3271 00:057B: 22 xx xx xx  	jsl	~~k_clear_screen
  3272                        ;		zp->fxos_console_col = 0;
  3273                        	.line	294
  3274 00:057F: A9 00 00     	lda	#$0
  3275 00:0582: A0 3D 00     	ldy	#$3d
  3276 00:0585: 97 01        	sta	[<L101+zp_1],Y
  3277                        ;		zp->fxos_console_row = 0;
  3278                        	.line	295
  3279 00:0587: A9 00 00     	lda	#$0
  3280 00:058A: A0 3B 00     	ldy	#$3b
  3281 00:058D: 97 01        	sta	[<L101+zp_1],Y
  3282                        ;	}
  3283                        	.line	296
  3284                        ;}
  3285                        L10057:
  3286                        	.line	297
  3287                        L104:
  3288 00:058F: 2B           	pld
  3289 00:0590: 3B           	tsc
  3290 00:0591: 18           	clc
  3291 00:0592: 69 04 00     	adc	#L100
  3292 00:0595: 1B           	tcs
  3293 00:0596: 6B           	rtl
  3294                        	.endblock	297
  3295             00000004   L100	equ	4
  3296             00000001   L101	equ	1
  3297                        	ends
  3298                        	efunc
  3299                        	.endfunc	297,1,4
  3300                        	.line	297
  3301                        ;
  3302                        ;void k_pos_console(int row,int col)
  3303                        ;{
  3304                        	.line	299
  3305                        	.line	300
  3306                        	code
  3307                        	xdef	~~k_pos_console
  3308                        	func
  3309                        	.function	300
  3310                        ~~k_pos_console:
  3311                        	longa	on
  3312                        	longi	on
  3313 00:0597: 3B           	tsc
  3314 00:0598: 38           	sec
  3315 00:0599: E9 04 00     	sbc	#L105
  3316 00:059C: 1B           	tcs
  3317 00:059D: 0B           	phd
  3318 00:059E: 5B           	tcd
  3319             00000004   row_0	set	4
  3320             00000006   col_0	set	6
  Sat Jul 10 2021  1:15                                                Page 63


  3321                        	.block	300
  3322                        ;	PFXZEROPAGE zp = k_getZeroPage();
  3323                        ;	if(zp)
  3324             00000000   zp_1	set	0
  3325                        	.sym	zp,0,138,1,32,52
  3326                        	.sym	row,4,5,6,16
  3327                        	.sym	col,6,5,6,16
  3328 00:059F: 22 xx xx xx  	jsl	~~k_getZeroPage
  3329 00:05A3: 85 01        	sta	<L106+zp_1
  3330 00:05A5: 86 03        	stx	<L106+zp_1+2
  3331                        	.line	302
  3332                        ;	{
  3333 00:05A7: A5 01        	lda	<L106+zp_1
  3334 00:05A9: 05 03        	ora	<L106+zp_1+2
  3335 00:05AB: D0 03        	bne	L108
  3336 00:05AD: 82 0E 00     	brl	L10058
  3337                        L108:
  3338                        	.line	303
  3339                        ;		zp->fxos_console_col = col;
  3340                        	.line	304
  3341 00:05B0: A5 0A        	lda	<L105+col_0
  3342 00:05B2: A0 3D 00     	ldy	#$3d
  3343 00:05B5: 97 01        	sta	[<L106+zp_1],Y
  3344                        ;		zp->fxos_console_row = row;
  3345                        	.line	305
  3346 00:05B7: A5 08        	lda	<L105+row_0
  3347 00:05B9: A0 3B 00     	ldy	#$3b
  3348 00:05BC: 97 01        	sta	[<L106+zp_1],Y
  3349                        ;	}
  3350                        	.line	306
  3351                        ;}
  3352                        L10058:
  3353                        	.line	307
  3354                        L109:
  3355 00:05BE: A5 06        	lda	<L105+2
  3356 00:05C0: 85 0A        	sta	<L105+2+4
  3357 00:05C2: A5 05        	lda	<L105+1
  3358 00:05C4: 85 09        	sta	<L105+1+4
  3359 00:05C6: 2B           	pld
  3360 00:05C7: 3B           	tsc
  3361 00:05C8: 18           	clc
  3362 00:05C9: 69 08 00     	adc	#L105+4
  3363 00:05CC: 1B           	tcs
  3364 00:05CD: 6B           	rtl
  3365                        	.endblock	307
  3366             00000004   L105	equ	4
  3367             00000001   L106	equ	1
  3368                        	ends
  3369                        	efunc
  3370                        	.endfunc	307,1,4
  3371                        	.line	307
  3372                        ;
  3373                        ;int k_row_console()
  3374                        ;{
  3375                        	.line	309
  3376                        	.line	310
  3377                        	code
  3378                        	xdef	~~k_row_console
  Sat Jul 10 2021  1:15                                                Page 64


  3379                        	func
  3380                        	.function	310
  3381                        ~~k_row_console:
  3382                        	longa	on
  3383                        	longi	on
  3384 00:05CE: 3B           	tsc
  3385 00:05CF: 38           	sec
  3386 00:05D0: E9 04 00     	sbc	#L110
  3387 00:05D3: 1B           	tcs
  3388 00:05D4: 0B           	phd
  3389 00:05D5: 5B           	tcd
  3390                        	.block	310
  3391                        ;	PFXZEROPAGE zp = k_getZeroPage();
  3392                        ;	if(zp)
  3393             00000000   zp_1	set	0
  3394                        	.sym	zp,0,138,1,32,52
  3395 00:05D6: 22 xx xx xx  	jsl	~~k_getZeroPage
  3396 00:05DA: 85 01        	sta	<L111+zp_1
  3397 00:05DC: 86 03        	stx	<L111+zp_1+2
  3398                        	.line	312
  3399                        ;	{
  3400 00:05DE: A5 01        	lda	<L111+zp_1
  3401 00:05E0: 05 03        	ora	<L111+zp_1+2
  3402 00:05E2: D0 03        	bne	L113
  3403 00:05E4: 82 0F 00     	brl	L10059
  3404                        L113:
  3405                        	.line	313
  3406                        ;		return zp->fxos_console_row;
  3407                        	.line	314
  3408 00:05E7: A0 3B 00     	ldy	#$3b
  3409 00:05EA: B7 01        	lda	[<L111+zp_1],Y
  3410                        L114:
  3411 00:05EC: A8           	tay
  3412 00:05ED: 2B           	pld
  3413 00:05EE: 3B           	tsc
  3414 00:05EF: 18           	clc
  3415 00:05F0: 69 04 00     	adc	#L110
  3416 00:05F3: 1B           	tcs
  3417 00:05F4: 98           	tya
  3418 00:05F5: 6B           	rtl
  3419                        ;	}
  3420                        	.line	315
  3421                        ;
  3422                        ;	return 0;
  3423                        L10059:
  3424                        	.line	317
  3425 00:05F6: A9 00 00     	lda	#$0
  3426 00:05F9: 82 F0 FF     	brl	L114
  3427                        ;}
  3428                        	.line	318
  3429                        	.endblock	318
  3430             00000004   L110	equ	4
  3431             00000001   L111	equ	1
  3432                        	ends
  3433                        	efunc
  3434                        	.endfunc	318,1,4
  3435                        	.line	318
  3436                        ;
  Sat Jul 10 2021  1:15                                                Page 65


  3437                        ;int k_col_console()
  3438                        ;{
  3439                        	.line	320
  3440                        	.line	321
  3441                        	code
  3442                        	xdef	~~k_col_console
  3443                        	func
  3444                        	.function	321
  3445                        ~~k_col_console:
  3446                        	longa	on
  3447                        	longi	on
  3448 00:05FC: 3B           	tsc
  3449 00:05FD: 38           	sec
  3450 00:05FE: E9 04 00     	sbc	#L115
  3451 00:0601: 1B           	tcs
  3452 00:0602: 0B           	phd
  3453 00:0603: 5B           	tcd
  3454                        	.block	321
  3455                        ;	PFXZEROPAGE zp = k_getZeroPage();
  3456                        ;	if(zp)
  3457             00000000   zp_1	set	0
  3458                        	.sym	zp,0,138,1,32,52
  3459 00:0604: 22 xx xx xx  	jsl	~~k_getZeroPage
  3460 00:0608: 85 01        	sta	<L116+zp_1
  3461 00:060A: 86 03        	stx	<L116+zp_1+2
  3462                        	.line	323
  3463                        ;	{
  3464 00:060C: A5 01        	lda	<L116+zp_1
  3465 00:060E: 05 03        	ora	<L116+zp_1+2
  3466 00:0610: D0 03        	bne	L118
  3467 00:0612: 82 0F 00     	brl	L10060
  3468                        L118:
  3469                        	.line	324
  3470                        ;		return zp->fxos_console_col;
  3471                        	.line	325
  3472 00:0615: A0 3D 00     	ldy	#$3d
  3473 00:0618: B7 01        	lda	[<L116+zp_1],Y
  3474                        L119:
  3475 00:061A: A8           	tay
  3476 00:061B: 2B           	pld
  3477 00:061C: 3B           	tsc
  3478 00:061D: 18           	clc
  3479 00:061E: 69 04 00     	adc	#L115
  3480 00:0621: 1B           	tcs
  3481 00:0622: 98           	tya
  3482 00:0623: 6B           	rtl
  3483                        ;	}
  3484                        	.line	326
  3485                        ;
  3486                        ;	return 0;
  3487                        L10060:
  3488                        	.line	328
  3489 00:0624: A9 00 00     	lda	#$0
  3490 00:0627: 82 F0 FF     	brl	L119
  3491                        ;}
  3492                        	.line	329
  3493                        	.endblock	329
  3494             00000004   L115	equ	4
  Sat Jul 10 2021  1:15                                                Page 66


  3495             00000001   L116	equ	1
  3496                        	ends
  3497                        	efunc
  3498                        	.endfunc	329,1,4
  3499                        	.line	329
  3500                        ;
  3501                        ;int k_write_console(LPCSTR message)
  3502                        ;{
  3503                        	.line	331
  3504                        	.line	332
  3505                        	code
  3506                        	xdef	~~k_write_console
  3507                        	func
  3508                        	.function	332
  3509                        ~~k_write_console:
  3510                        	longa	on
  3511                        	longi	on
  3512 00:062A: 3B           	tsc
  3513 00:062B: 38           	sec
  3514 00:062C: E9 18 00     	sbc	#L120
  3515 00:062F: 1B           	tcs
  3516 00:0630: 0B           	phd
  3517 00:0631: 5B           	tcd
  3518             00000004   message_0	set	4
  3519                        	.block	332
  3520                        ;	LPCSTR token = "\n";
  3521                        ;	LPCHAR line = NULL;
  3522                        ;	LPCHAR cl = NULL;
  3523                        ;	PFXZEROPAGE zp = k_getZeroPage();
  3524                        ;	if(zp)
  3525             00000000   token_1	set	0
  3526             00000004   line_1	set	4
  3527             00000008   cl_1	set	8
  3528             0000000C   zp_1	set	12
  3529                        	.sym	token,0,142,1,32
  3530                        	.sym	line,4,142,1,32
  3531                        	.sym	cl,8,142,1,32
  3532                        	.sym	zp,12,138,1,32,52
  3533                        	.sym	message,4,142,6,32
  3534 00:0632: A9 xx xx     	lda	#<L3
  3535 00:0635: 85 05        	sta	<L121+token_1
  3536 00:0637: A9 xx xx     	lda	#^L3
  3537 00:063A: 85 07        	sta	<L121+token_1+2
  3538 00:063C: 64 09        	stz	<L121+line_1
  3539 00:063E: 64 0B        	stz	<L121+line_1+2
  3540 00:0640: 64 0D        	stz	<L121+cl_1
  3541 00:0642: 64 0F        	stz	<L121+cl_1+2
  3542 00:0644: 22 xx xx xx  	jsl	~~k_getZeroPage
  3543 00:0648: 85 11        	sta	<L121+zp_1
  3544 00:064A: 86 13        	stx	<L121+zp_1+2
  3545                        	.line	337
  3546                        ;	{
  3547 00:064C: A5 11        	lda	<L121+zp_1
  3548 00:064E: 05 13        	ora	<L121+zp_1+2
  3549 00:0650: D0 03        	bne	L123
  3550 00:0652: 82 18 01     	brl	L10061
  3551                        L123:
  3552                        	.line	338
  Sat Jul 10 2021  1:15                                                Page 67


  3553                        ;		line = k_mem_allocate_heap(strlen(messag
                    e) + 1);
  3554                        	.line	339
  3555 00:0655: D4 1E        	pei	<L120+message_0+2
  3556 00:0657: D4 1C        	pei	<L120+message_0
  3557 00:0659: 22 xx xx xx  	jsl	~~strlen
  3558 00:065D: 85 01        	sta	<R0
  3559 00:065F: A5 01        	lda	<R0
  3560 00:0661: 1A           	ina
  3561 00:0662: 48           	pha
  3562 00:0663: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  3563 00:0667: 85 09        	sta	<L121+line_1
  3564 00:0669: 86 0B        	stx	<L121+line_1+2
  3565                        ;		//strcpy(line,message);
  3566                        ;
  3567                        ;
  3568                        ;
  3569                        ;
  3570                        ;		if(strchr(message,'\n'))
  3571                        	.line	345
  3572                        ;		{
  3573 00:066B: F4 0A 00     	pea	#<$a
  3574 00:066E: D4 1E        	pei	<L120+message_0+2
  3575 00:0670: D4 1C        	pei	<L120+message_0
  3576 00:0672: 22 xx xx xx  	jsl	~~strchr
  3577 00:0676: 85 01        	sta	<R0
  3578 00:0678: 86 03        	stx	<R0+2
  3579 00:067A: A5 01        	lda	<R0
  3580 00:067C: 05 03        	ora	<R0+2
  3581 00:067E: D0 03        	bne	L124
  3582 00:0680: 82 B4 00     	brl	L10062
  3583                        L124:
  3584                        	.line	346
  3585                        ;			int c = 0;
  3586                        ;			int lc = 0;
  3587                        ;			line[0] = 0;
  3588                        	.block	349
  3589             00000010   c_2	set	16
  3590             00000012   lc_2	set	18
  3591                        	.sym	c,16,5,1,16
  3592                        	.sym	lc,18,5,1,16
  3593 00:0683: 64 15        	stz	<L121+c_2
  3594 00:0685: 64 17        	stz	<L121+lc_2
  3595                        	.line	349
  3596 00:0687: E2 20        	sep	#$20
  3597                        	longa	off
  3598 00:0689: A9 00        	lda	#$0
  3599 00:068B: 87 09        	sta	[<L121+line_1]
  3600 00:068D: C2 20        	rep	#$20
  3601                        	longa	on
  3602                        ;			while(message[c]!=0)
  3603                        	.line	350
  3604                        L10063:
  3605 00:068F: A4 15        	ldy	<L121+c_2
  3606 00:0691: B7 1C        	lda	[<L120+message_0],Y
  3607 00:0693: 29 FF 00     	and	#$ff
  3608 00:0696: D0 03        	bne	L126
  3609 00:0698: 82 70 00     	brl	L10064
  Sat Jul 10 2021  1:15                                                Page 68


  3610                        L126:
  3611                        ;			{
  3612                        	.line	351
  3613                        ;				if(message[c] == '\n')
  3614                        	.line	352
  3615                        ;				{
  3616 00:069B: E2 20        	sep	#$20
  3617                        	longa	off
  3618 00:069D: A4 15        	ldy	<L121+c_2
  3619 00:069F: B7 1C        	lda	[<L120+message_0],Y
  3620 00:06A1: C9 0A        	cmp	#<$a
  3621 00:06A3: C2 20        	rep	#$20
  3622                        	longa	on
  3623 00:06A5: F0 03        	beq	L127
  3624 00:06A7: 82 4E 00     	brl	L10065
  3625                        L127:
  3626                        	.line	353
  3627                        ;					//k_debug_string
                    ("found lf\r\n");
  3628                        ;					if(line[0]!=0)
  3629                        	.line	355
  3630                        ;					{
  3631 00:06AA: A7 09        	lda	[<L121+line_1]
  3632 00:06AC: 29 FF 00     	and	#$ff
  3633 00:06AF: D0 03        	bne	L128
  3634 00:06B1: 82 24 00     	brl	L10066
  3635                        L128:
  3636                        	.line	356
  3637                        ;						//k_debu
                    g_strings("line:",(LPSTR)line);
  3638                        ;						line[lc]
                     = 0;
  3639                        	.line	358
  3640 00:06B4: E2 20        	sep	#$20
  3641                        	longa	off
  3642 00:06B6: A9 00        	lda	#$0
  3643 00:06B8: A4 17        	ldy	<L121+lc_2
  3644 00:06BA: 97 09        	sta	[<L121+line_1],Y
  3645 00:06BC: C2 20        	rep	#$20
  3646                        	longa	on
  3647                        ;						k_put_st
                    ring(zp->fxos_console_col,zp->fxos_console_row,(LPSTR)line,0
                    x0F,0x00);
  3648                        	.line	359
  3649 00:06BE: F4 00 00     	pea	#<$0
  3650 00:06C1: F4 0F 00     	pea	#<$f
  3651 00:06C4: D4 0B        	pei	<L121+line_1+2
  3652 00:06C6: D4 09        	pei	<L121+line_1
  3653 00:06C8: A0 3B 00     	ldy	#$3b
  3654 00:06CB: B7 11        	lda	[<L121+zp_1],Y
  3655 00:06CD: 48           	pha
  3656 00:06CE: A0 3D 00     	ldy	#$3d
  3657 00:06D1: B7 11        	lda	[<L121+zp_1],Y
  3658 00:06D3: 48           	pha
  3659 00:06D4: 22 xx xx xx  	jsl	~~k_put_string
  3660                        ;					}
  3661                        	.line	360
  3662                        ;					zp->fxos_console
  Sat Jul 10 2021  1:15                                                Page 69


                    _row++;
  3663                        L10066:
  3664                        	.line	361
  3665 00:06D8: A0 3B 00     	ldy	#$3b
  3666 00:06DB: B7 11        	lda	[<L121+zp_1],Y
  3667 00:06DD: 1A           	ina
  3668 00:06DE: A0 3B 00     	ldy	#$3b
  3669 00:06E1: 97 11        	sta	[<L121+zp_1],Y
  3670                        ;					zp->fxos_console
                    _col = 0;
  3671                        	.line	362
  3672 00:06E3: A9 00 00     	lda	#$0
  3673 00:06E6: A0 3D 00     	ldy	#$3d
  3674 00:06E9: 97 11        	sta	[<L121+zp_1],Y
  3675                        ;					line[0] = 0;
  3676                        	.line	363
  3677 00:06EB: E2 20        	sep	#$20
  3678                        	longa	off
  3679 00:06ED: A9 00        	lda	#$0
  3680 00:06EF: 87 09        	sta	[<L121+line_1]
  3681 00:06F1: C2 20        	rep	#$20
  3682                        	longa	on
  3683                        ;					lc = 0;
  3684                        	.line	364
  3685 00:06F3: 64 17        	stz	<L121+lc_2
  3686                        ;				}
  3687                        	.line	365
  3688                        ;				else
  3689 00:06F5: 82 0E 00     	brl	L10067
  3690                        L10065:
  3691                        ;				{
  3692                        	.line	367
  3693                        ;					//k_debug_string
                    ("found c\r\n");
  3694                        ;					line[lc] = messa
                    ge[c];
  3695                        	.line	369
  3696 00:06F8: E2 20        	sep	#$20
  3697                        	longa	off
  3698 00:06FA: A4 15        	ldy	<L121+c_2
  3699 00:06FC: B7 1C        	lda	[<L120+message_0],Y
  3700 00:06FE: A4 17        	ldy	<L121+lc_2
  3701 00:0700: 97 09        	sta	[<L121+line_1],Y
  3702 00:0702: C2 20        	rep	#$20
  3703                        	longa	on
  3704                        ;					lc++;
  3705                        	.line	370
  3706 00:0704: E6 17        	inc	<L121+lc_2
  3707                        ;				}
  3708                        	.line	371
  3709                        L10067:
  3710                        ;				c++;
  3711                        	.line	372
  3712 00:0706: E6 15        	inc	<L121+c_2
  3713                        ;			}
  3714                        	.line	373
  3715 00:0708: 82 84 FF     	brl	L10063
  3716                        L10064:
  Sat Jul 10 2021  1:15                                                Page 70


  3717                        ;
  3718                        ;			if(line[0]!=0)
  3719                        	.line	375
  3720                        ;			{
  3721 00:070B: A7 09        	lda	[<L121+line_1]
  3722 00:070D: 29 FF 00     	and	#$ff
  3723 00:0710: D0 03        	bne	L129
  3724 00:0712: 82 1F 00     	brl	L10068
  3725                        L129:
  3726                        	.line	376
  3727                        ;				//k_debug_string("found 
                    last\r\n");
  3728                        ;				zp->fxos_console_col = k
                    _put_string(zp->fxos_console_col,zp->fxos_console_row,(LPSTR
                    )line,0x0F,0x00);
  3729                        	.line	378
  3730 00:0715: F4 00 00     	pea	#<$0
  3731 00:0718: F4 0F 00     	pea	#<$f
  3732 00:071B: D4 0B        	pei	<L121+line_1+2
  3733 00:071D: D4 09        	pei	<L121+line_1
  3734 00:071F: A0 3B 00     	ldy	#$3b
  3735 00:0722: B7 11        	lda	[<L121+zp_1],Y
  3736 00:0724: 48           	pha
  3737 00:0725: A0 3D 00     	ldy	#$3d
  3738 00:0728: B7 11        	lda	[<L121+zp_1],Y
  3739 00:072A: 48           	pha
  3740 00:072B: 22 xx xx xx  	jsl	~~k_put_string
  3741 00:072F: A0 3D 00     	ldy	#$3d
  3742 00:0732: 97 11        	sta	[<L121+zp_1],Y
  3743                        ;			}
  3744                        	.line	379
  3745                        ;
  3746                        ;			/*
  3747                        ;			cl = strtok(line,token);
  3748                        ;			while(cl)
  3749                        ;			{
  3750                        ;				k_put_string(zp->fxos_co
                    nsole_col,zp->fxos_console_row++,(LPSTR)cl,0x0F,0x00);
  3751                        ;				zp->fxos_console_col = 0
                    ;
  3752                        ;				cl = strtok(NULL,token);
  3753                        ;			}
  3754                        ;			*/
  3755                        ;		}
  3756                        L10068:
  3757                        	.endblock	390
  3758                        	.line	390
  3759                        ;		else
  3760 00:0734: 82 1F 00     	brl	L10069
  3761                        L10062:
  3762                        ;		{
  3763                        	.line	392
  3764                        ;			//k_debug_string("found no char\
                    r\n");
  3765                        ;			zp->fxos_console_col = k_put_str
                    ing(zp->fxos_console_col,zp->fxos_console_row,(LPSTR)message
                    ,0x0F,0x00);
  3766                        	.line	394
  Sat Jul 10 2021  1:15                                                Page 71


  3767 00:0737: F4 00 00     	pea	#<$0
  3768 00:073A: F4 0F 00     	pea	#<$f
  3769 00:073D: D4 1E        	pei	<L120+message_0+2
  3770 00:073F: D4 1C        	pei	<L120+message_0
  3771 00:0741: A0 3B 00     	ldy	#$3b
  3772 00:0744: B7 11        	lda	[<L121+zp_1],Y
  3773 00:0746: 48           	pha
  3774 00:0747: A0 3D 00     	ldy	#$3d
  3775 00:074A: B7 11        	lda	[<L121+zp_1],Y
  3776 00:074C: 48           	pha
  3777 00:074D: 22 xx xx xx  	jsl	~~k_put_string
  3778 00:0751: A0 3D 00     	ldy	#$3d
  3779 00:0754: 97 11        	sta	[<L121+zp_1],Y
  3780                        ;		}
  3781                        	.line	395
  3782                        L10069:
  3783                        ;		return zp->fxos_console_col;
  3784                        	.line	396
  3785 00:0756: A0 3D 00     	ldy	#$3d
  3786 00:0759: B7 11        	lda	[<L121+zp_1],Y
  3787                        L130:
  3788 00:075B: A8           	tay
  3789 00:075C: A5 1A        	lda	<L120+2
  3790 00:075E: 85 1E        	sta	<L120+2+4
  3791 00:0760: A5 19        	lda	<L120+1
  3792 00:0762: 85 1D        	sta	<L120+1+4
  3793 00:0764: 2B           	pld
  3794 00:0765: 3B           	tsc
  3795 00:0766: 18           	clc
  3796 00:0767: 69 1C 00     	adc	#L120+4
  3797 00:076A: 1B           	tcs
  3798 00:076B: 98           	tya
  3799 00:076C: 6B           	rtl
  3800                        ;	}
  3801                        	.line	397
  3802                        ;	return 0;
  3803                        L10061:
  3804                        	.line	398
  3805 00:076D: A9 00 00     	lda	#$0
  3806 00:0770: 82 E8 FF     	brl	L130
  3807                        ;}
  3808                        	.line	399
  3809                        	.endblock	399
  3810             00000018   L120	equ	24
  3811             00000005   L121	equ	5
  3812                        	ends
  3813                        	efunc
  3814                        	.endfunc	399,5,24
  3815                        	.line	399
  3816                        	data
  3817                        L3:
  3818 00:0285: 0A 00        	db	$0A,$00
  3819 00:0287:              	ends
  3820                        ;
  3821                        ;int k_put_string(int col,int row,char * text,int 
                    fcolor,int bcolor)
  3822                        ;{
  3823                        	.line	401
  Sat Jul 10 2021  1:15                                                Page 72


  3824                        	.line	402
  3825                        	code
  3826                        	xdef	~~k_put_string
  3827                        	func
  3828                        	.function	402
  3829                        ~~k_put_string:
  3830                        	longa	on
  3831                        	longi	on
  3832 00:0773: 3B           	tsc
  3833 00:0774: 38           	sec
  3834 00:0775: E9 04 00     	sbc	#L132
  3835 00:0778: 1B           	tcs
  3836 00:0779: 0B           	phd
  3837 00:077A: 5B           	tcd
  3838             00000004   col_0	set	4
  3839             00000006   row_0	set	6
  3840             00000008   text_0	set	8
  3841             0000000C   fcolor_0	set	12
  3842             0000000E   bcolor_0	set	14
  3843                        	.block	402
  3844                        ;	char * ptr = text;
  3845                        ;	while(*ptr)
  3846             00000000   ptr_1	set	0
  3847                        	.sym	ptr,0,142,1,32
  3848                        	.sym	col,4,5,6,16
  3849                        	.sym	row,6,5,6,16
  3850                        	.sym	text,8,142,6,32
  3851                        	.sym	fcolor,12,5,6,16
  3852                        	.sym	bcolor,14,5,6,16
  3853 00:077B: A5 0C        	lda	<L132+text_0
  3854 00:077D: 85 01        	sta	<L133+ptr_1
  3855 00:077F: A5 0E        	lda	<L132+text_0+2
  3856 00:0781: 85 03        	sta	<L133+ptr_1+2
  3857                        	.line	404
  3858                        L10070:
  3859 00:0783: A7 01        	lda	[<L133+ptr_1]
  3860 00:0785: 29 FF 00     	and	#$ff
  3861 00:0788: D0 03        	bne	L135
  3862 00:078A: 82 1A 00     	brl	L10071
  3863                        L135:
  3864                        ;	{
  3865                        	.line	405
  3866                        ;		k_put_char(col,row,*ptr,fcolor,bcolor);
  3867                        	.line	406
  3868 00:078D: D4 12        	pei	<L132+bcolor_0
  3869 00:078F: D4 10        	pei	<L132+fcolor_0
  3870 00:0791: A7 01        	lda	[<L133+ptr_1]
  3871 00:0793: 48           	pha
  3872 00:0794: D4 0A        	pei	<L132+row_0
  3873 00:0796: D4 08        	pei	<L132+col_0
  3874 00:0798: 22 xx xx xx  	jsl	~~k_put_char
  3875                        ;		col++;
  3876                        	.line	407
  3877 00:079C: E6 08        	inc	<L132+col_0
  3878                        ;		ptr++;
  3879                        	.line	408
  3880 00:079E: E6 01        	inc	<L133+ptr_1
  3881 00:07A0: D0 02        	bne	L136
  Sat Jul 10 2021  1:15                                                Page 73


  3882 00:07A2: E6 03        	inc	<L133+ptr_1+2
  3883                        L136:
  3884                        ;	}
  3885                        	.line	409
  3886 00:07A4: 82 DC FF     	brl	L10070
  3887                        L10071:
  3888                        ;
  3889                        ;	return col;
  3890                        	.line	411
  3891 00:07A7: A5 08        	lda	<L132+col_0
  3892                        L137:
  3893 00:07A9: A8           	tay
  3894 00:07AA: A5 06        	lda	<L132+2
  3895 00:07AC: 85 12        	sta	<L132+2+12
  3896 00:07AE: A5 05        	lda	<L132+1
  3897 00:07B0: 85 11        	sta	<L132+1+12
  3898 00:07B2: 2B           	pld
  3899 00:07B3: 3B           	tsc
  3900 00:07B4: 18           	clc
  3901 00:07B5: 69 10 00     	adc	#L132+12
  3902 00:07B8: 1B           	tcs
  3903 00:07B9: 98           	tya
  3904 00:07BA: 6B           	rtl
  3905                        ;}
  3906                        	.line	412
  3907                        	.endblock	412
  3908             00000004   L132	equ	4
  3909             00000001   L133	equ	1
  3910                        	ends
  3911                        	efunc
  3912                        	.endfunc	412,1,4
  3913                        	.line	412
  3914                        ;
  3915                        ;int k_put_string_buffer(int col,int row,char * te
                    xt,LPVOID buffer)
  3916                        ;{
  3917                        	.line	414
  3918                        	.line	415
  3919                        	code
  3920                        	xdef	~~k_put_string_buffer
  3921                        	func
  3922                        	.function	415
  3923                        ~~k_put_string_buffer:
  3924                        	longa	on
  3925                        	longi	on
  3926 00:07BB: 3B           	tsc
  3927 00:07BC: 38           	sec
  3928 00:07BD: E9 04 00     	sbc	#L138
  3929 00:07C0: 1B           	tcs
  3930 00:07C1: 0B           	phd
  3931 00:07C2: 5B           	tcd
  3932             00000004   col_0	set	4
  3933             00000006   row_0	set	6
  3934             00000008   text_0	set	8
  3935             0000000C   buffer_0	set	12
  3936                        	.block	415
  3937                        ;	char * ptr = text;
  3938                        ;	while(*ptr)
  Sat Jul 10 2021  1:15                                                Page 74


  3939             00000000   ptr_1	set	0
  3940                        	.sym	ptr,0,142,1,32
  3941                        	.sym	col,4,5,6,16
  3942                        	.sym	row,6,5,6,16
  3943                        	.sym	text,8,142,6,32
  3944                        	.sym	buffer,12,129,6,32
  3945 00:07C3: A5 0C        	lda	<L138+text_0
  3946 00:07C5: 85 01        	sta	<L139+ptr_1
  3947 00:07C7: A5 0E        	lda	<L138+text_0+2
  3948 00:07C9: 85 03        	sta	<L139+ptr_1+2
  3949                        	.line	417
  3950                        L10072:
  3951 00:07CB: A7 01        	lda	[<L139+ptr_1]
  3952 00:07CD: 29 FF 00     	and	#$ff
  3953 00:07D0: D0 03        	bne	L141
  3954 00:07D2: 82 0B 00     	brl	L10073
  3955                        L141:
  3956                        ;	{
  3957                        	.line	418
  3958                        ;		//((LPSTR)buffer)[col][row];
  3959                        ;		col++;
  3960                        	.line	420
  3961 00:07D5: E6 08        	inc	<L138+col_0
  3962                        ;		ptr++;
  3963                        	.line	421
  3964 00:07D7: E6 01        	inc	<L139+ptr_1
  3965 00:07D9: D0 02        	bne	L142
  3966 00:07DB: E6 03        	inc	<L139+ptr_1+2
  3967                        L142:
  3968                        ;	}
  3969                        	.line	422
  3970 00:07DD: 82 EB FF     	brl	L10072
  3971                        L10073:
  3972                        ;
  3973                        ;	return col;
  3974                        	.line	424
  3975 00:07E0: A5 08        	lda	<L138+col_0
  3976                        L143:
  3977 00:07E2: A8           	tay
  3978 00:07E3: A5 06        	lda	<L138+2
  3979 00:07E5: 85 12        	sta	<L138+2+12
  3980 00:07E7: A5 05        	lda	<L138+1
  3981 00:07E9: 85 11        	sta	<L138+1+12
  3982 00:07EB: 2B           	pld
  3983 00:07EC: 3B           	tsc
  3984 00:07ED: 18           	clc
  3985 00:07EE: 69 10 00     	adc	#L138+12
  3986 00:07F1: 1B           	tcs
  3987 00:07F2: 98           	tya
  3988 00:07F3: 6B           	rtl
  3989                        ;}
  3990                        	.line	425
  3991                        	.endblock	425
  3992             00000004   L138	equ	4
  3993             00000001   L139	equ	1
  3994                        	ends
  3995                        	efunc
  3996                        	.endfunc	425,1,4
  Sat Jul 10 2021  1:15                                                Page 75


  3997                        	.line	425
  3998                        ;
  3999                        ;int k_put_color(int col,int row,char * textColor)
  4000                        ;{
  4001                        	.line	427
  4002                        	.line	428
  4003                        	code
  4004                        	xdef	~~k_put_color
  4005                        	func
  4006                        	.function	428
  4007                        ~~k_put_color:
  4008                        	longa	on
  4009                        	longi	on
  4010 00:07F4: 3B           	tsc
  4011 00:07F5: 38           	sec
  4012 00:07F6: E9 0C 00     	sbc	#L144
  4013 00:07F9: 1B           	tcs
  4014 00:07FA: 0B           	phd
  4015 00:07FB: 5B           	tcd
  4016             00000004   col_0	set	4
  4017             00000006   row_0	set	6
  4018             00000008   textColor_0	set	8
  4019                        	.block	428
  4020                        ;	char * ptr = textColor;
  4021                        ;	col++;
  4022             00000000   ptr_1	set	0
  4023                        	.sym	ptr,0,142,1,32
  4024                        	.sym	col,4,5,6,16
  4025                        	.sym	row,6,5,6,16
  4026                        	.sym	textColor,8,142,6,32
  4027 00:07FC: A5 14        	lda	<L144+textColor_0
  4028 00:07FE: 85 09        	sta	<L145+ptr_1
  4029 00:0800: A5 16        	lda	<L144+textColor_0+2
  4030 00:0802: 85 0B        	sta	<L145+ptr_1+2
  4031                        	.line	430
  4032 00:0804: E6 10        	inc	<L144+col_0
  4033                        ;	while(*ptr)
  4034                        	.line	431
  4035                        L10074:
  4036 00:0806: A7 09        	lda	[<L145+ptr_1]
  4037 00:0808: 29 FF 00     	and	#$ff
  4038 00:080B: D0 03        	bne	L147
  4039 00:080D: 82 31 00     	brl	L10075
  4040                        L147:
  4041                        ;	{
  4042                        	.line	432
  4043                        ;		//CS_COLOR_MEM_PTR[128 * row + col] = *p
                    tr;
  4044                        ;		CS_COLOR_MEM_PTR[80 * row + col] = *ptr;
  4045                        	.line	434
  4046 00:0810: A5 12        	lda	<L144+row_0
  4047 00:0812: A2 50 00     	ldx	#<$50
  4048                        	xref	~~~mul
  4049 00:0815: 22 xx xx xx  	jsl	~~~mul
  4050 00:0819: 85 01        	sta	<R0
  4051 00:081B: 18           	clc
  4052 00:081C: A5 01        	lda	<R0
  4053 00:081E: 65 10        	adc	<L144+col_0
  Sat Jul 10 2021  1:15                                                Page 76


  4054 00:0820: 85 05        	sta	<R1
  4055 00:0822: A9 00 C0     	lda	#$c000
  4056 00:0825: 85 01        	sta	<R0
  4057 00:0827: A9 AF 00     	lda	#$af
  4058 00:082A: 85 03        	sta	<R0+2
  4059 00:082C: E2 20        	sep	#$20
  4060                        	longa	off
  4061 00:082E: A7 09        	lda	[<L145+ptr_1]
  4062 00:0830: A4 05        	ldy	<R1
  4063 00:0832: 97 01        	sta	[<R0],Y
  4064 00:0834: C2 20        	rep	#$20
  4065                        	longa	on
  4066                        ;		col++;
  4067                        	.line	435
  4068 00:0836: E6 10        	inc	<L144+col_0
  4069                        ;		ptr++;
  4070                        	.line	436
  4071 00:0838: E6 09        	inc	<L145+ptr_1
  4072 00:083A: D0 02        	bne	L148
  4073 00:083C: E6 0B        	inc	<L145+ptr_1+2
  4074                        L148:
  4075                        ;	}
  4076                        	.line	437
  4077 00:083E: 82 C5 FF     	brl	L10074
  4078                        L10075:
  4079                        ;
  4080                        ;	return col;
  4081                        	.line	439
  4082 00:0841: A5 10        	lda	<L144+col_0
  4083                        L149:
  4084 00:0843: A8           	tay
  4085 00:0844: A5 0E        	lda	<L144+2
  4086 00:0846: 85 16        	sta	<L144+2+8
  4087 00:0848: A5 0D        	lda	<L144+1
  4088 00:084A: 85 15        	sta	<L144+1+8
  4089 00:084C: 2B           	pld
  4090 00:084D: 3B           	tsc
  4091 00:084E: 18           	clc
  4092 00:084F: 69 14 00     	adc	#L144+8
  4093 00:0852: 1B           	tcs
  4094 00:0853: 98           	tya
  4095 00:0854: 6B           	rtl
  4096                        ;}
  4097                        	.line	440
  4098                        	.endblock	440
  4099             0000000C   L144	equ	12
  4100             00000009   L145	equ	9
  4101                        	ends
  4102                        	efunc
  4103                        	.endfunc	440,9,12
  4104                        	.line	440
  4105                        ;
  4106                        ;/*
  4107                        ;int k_put_string(int col,int row,char * text,int 
                    fcolor,int bcolor)
  4108                        ;{
  4109                        ;	int tcolor = 0;
  4110                        ;	char * ptr = text;
  Sat Jul 10 2021  1:15                                                Page 77


  4111                        ;	while(*ptr)
  4112                        ;	{
  4113                        ;		if(*ptr == '\\')
  4114                        ;		{
  4115                        ;			ptr++;
  4116                        ;			tcolor = *ptr;
  4117                        ;			k_debug_hex("tcolor:",(UCHAR)tco
                    lor);
  4118                        ;			ptr+=2;
  4119                        ;			k_debug_char("char:",*ptr);
  4120                        ;			k_put_char(col,row,*ptr,tcolor,b
                    color);
  4121                        ;		}
  4122                        ;		else
  4123                        ;		{
  4124                        ;			k_put_char(col,row,*ptr,fcolor,b
                    color);
  4125                        ;		}
  4126                        ;		col++;
  4127                        ;		ptr++;
  4128                        ;	}
  4129                        ;
  4130                        ;	return col;
  4131                        ;}
  4132                        ;*/
  4133                        ;
  4134                        ;void k_put_char(int col,int row,char c,int fcolor
                    ,int bcolor)
  4135                        ;{
  4136                        	.line	470
  4137                        	.line	471
  4138                        	code
  4139                        	xdef	~~k_put_char
  4140                        	func
  4141                        	.function	471
  4142                        ~~k_put_char:
  4143                        	longa	on
  4144                        	longi	on
  4145 00:0855: 3B           	tsc
  4146 00:0856: 38           	sec
  4147 00:0857: E9 0C 00     	sbc	#L150
  4148 00:085A: 1B           	tcs
  4149 00:085B: 0B           	phd
  4150 00:085C: 5B           	tcd
  4151             00000004   col_0	set	4
  4152             00000006   row_0	set	6
  4153             00000008   c_0	set	8
  4154             0000000A   fcolor_0	set	10
  4155             0000000C   bcolor_0	set	12
  4156                        	.block	471
  4157                        ;#ifdef USE_FX256_FMX
  4158                        ;	col++;
  4159                        ;	CS_TEXT_MEM_PTR[80 * row + col ] = c;
  4160                        ;	//CS_COLOR_MEM_PTR[80 * row + col] = ((fcolor & 
                    0x0F) << 4 + (bcolor & 0x0F));
  4161                        ;	//CS_COLOR_MEM_PTR[80 * row + col] = ((fcolor & 
                    0x00FF) << 8 + (bcolor & 0x00FF));
  4162                        ;	CS_COLOR_MEM_PTR[80 * row + col] = ((fcolor & 0x
  Sat Jul 10 2021  1:15                                                Page 78


                    0F) << 4 + (bcolor & 0x0F));
  4163                        ;#elif USE_FX256_U
  4164                        ;	col++;
  4165                        	.sym	col,4,5,6,16
  4166                        	.sym	row,6,5,6,16
  4167                        	.sym	c,8,14,6,8
  4168                        	.sym	fcolor,10,5,6,16
  4169                        	.sym	bcolor,12,5,6,16
  4170                        	.line	479
  4171 00:085D: E6 10        	inc	<L150+col_0
  4172                        ;	CS_TEXT_MEM_PTR[80 * row + col ] = c;
  4173                        	.line	480
  4174 00:085F: A5 12        	lda	<L150+row_0
  4175 00:0861: A2 50 00     	ldx	#<$50
  4176                        	xref	~~~mul
  4177 00:0864: 22 xx xx xx  	jsl	~~~mul
  4178 00:0868: 85 01        	sta	<R0
  4179 00:086A: 18           	clc
  4180 00:086B: A5 01        	lda	<R0
  4181 00:086D: 65 10        	adc	<L150+col_0
  4182 00:086F: 85 05        	sta	<R1
  4183 00:0871: A9 00 A0     	lda	#$a000
  4184 00:0874: 85 01        	sta	<R0
  4185 00:0876: A9 AF 00     	lda	#$af
  4186 00:0879: 85 03        	sta	<R0+2
  4187 00:087B: E2 20        	sep	#$20
  4188                        	longa	off
  4189 00:087D: A5 14        	lda	<L150+c_0
  4190 00:087F: A4 05        	ldy	<R1
  4191 00:0881: 97 01        	sta	[<R0],Y
  4192 00:0883: C2 20        	rep	#$20
  4193                        	longa	on
  4194                        ;	CS_COLOR_MEM_PTR[80 * row + col] = ((fcolor & 0x
                    0F) << 4 + (bcolor & 0x0F));
  4195                        	.line	481
  4196 00:0885: A5 12        	lda	<L150+row_0
  4197 00:0887: A2 50 00     	ldx	#<$50
  4198                        	xref	~~~mul
  4199 00:088A: 22 xx xx xx  	jsl	~~~mul
  4200 00:088E: 85 01        	sta	<R0
  4201 00:0890: 18           	clc
  4202 00:0891: A5 01        	lda	<R0
  4203 00:0893: 65 10        	adc	<L150+col_0
  4204 00:0895: 85 05        	sta	<R1
  4205 00:0897: A9 00 C0     	lda	#$c000
  4206 00:089A: 85 01        	sta	<R0
  4207 00:089C: A9 AF 00     	lda	#$af
  4208 00:089F: 85 03        	sta	<R0+2
  4209 00:08A1: A5 18        	lda	<L150+bcolor_0
  4210 00:08A3: 29 0F 00     	and	#<$f
  4211 00:08A6: 85 09        	sta	<R2
  4212 00:08A8: 18           	clc
  4213 00:08A9: A9 04 00     	lda	#$4
  4214 00:08AC: 65 09        	adc	<R2
  4215 00:08AE: 48           	pha
  4216 00:08AF: A5 16        	lda	<L150+fcolor_0
  4217 00:08B1: 29 0F 00     	and	#<$f
  4218 00:08B4: FA           	plx
  Sat Jul 10 2021  1:15                                                Page 79


  4219                        	xref	~~~asl
  4220 00:08B5: 22 xx xx xx  	jsl	~~~asl
  4221 00:08B9: E2 20        	sep	#$20
  4222                        	longa	off
  4223 00:08BB: A4 05        	ldy	<R1
  4224 00:08BD: 97 01        	sta	[<R0],Y
  4225 00:08BF: C2 20        	rep	#$20
  4226                        	longa	on
  4227                        ;#else
  4228                        ;	CS_TEXT_MEM_PTR[128 * row + col] = c;
  4229                        ;	CS_COLOR_MEM_PTR[128 * row + col] = ((fcolor & 0
                    x0F) << 4 + (bcolor & 0x0F));
  4230                        ;#endif
  4231                        ;}
  4232                        	.line	486
  4233                        L153:
  4234 00:08C1: A5 0E        	lda	<L150+2
  4235 00:08C3: 85 18        	sta	<L150+2+10
  4236 00:08C5: A5 0D        	lda	<L150+1
  4237 00:08C7: 85 17        	sta	<L150+1+10
  4238 00:08C9: 2B           	pld
  4239 00:08CA: 3B           	tsc
  4240 00:08CB: 18           	clc
  4241 00:08CC: 69 16 00     	adc	#L150+10
  4242 00:08CF: 1B           	tcs
  4243 00:08D0: 6B           	rtl
  4244                        	.endblock	486
  4245             0000000C   L150	equ	12
  4246             0000000D   L151	equ	13
  4247                        	ends
  4248                        	efunc
  4249                        	.endfunc	486,13,12
  4250                        	.line	486
  4251                        ;
  4252                        ;void k_set_background(int col,int row,int bcolor)
  4253                        ;{
  4254                        	.line	488
  4255                        	.line	489
  4256                        	code
  4257                        	xdef	~~k_set_background
  4258                        	func
  4259                        	.function	489
  4260                        ~~k_set_background:
  4261                        	longa	on
  4262                        	longi	on
  4263 00:08D1: 3B           	tsc
  4264 00:08D2: 38           	sec
  4265 00:08D3: E9 0C 00     	sbc	#L154
  4266 00:08D6: 1B           	tcs
  4267 00:08D7: 0B           	phd
  4268 00:08D8: 5B           	tcd
  4269             00000004   col_0	set	4
  4270             00000006   row_0	set	6
  4271             00000008   bcolor_0	set	8
  4272                        	.block	489
  4273                        ;	((unsigned char FAR *)(0xAFC000 + (128 * row) + 
                    col))[0] =  bcolor;
  4274                        	.sym	col,4,5,6,16
  Sat Jul 10 2021  1:15                                                Page 80


  4275                        	.sym	row,6,5,6,16
  4276                        	.sym	bcolor,8,5,6,16
  4277                        	.line	490
  4278 00:08D9: A0 00 00     	ldy	#$0
  4279 00:08DC: A5 10        	lda	<L154+col_0
  4280 00:08DE: 10 01        	bpl	L157
  4281 00:08E0: 88           	dey
  4282                        L157:
  4283 00:08E1: 85 01        	sta	<R0
  4284 00:08E3: 84 03        	sty	<R0+2
  4285 00:08E5: A5 12        	lda	<L154+row_0
  4286 00:08E7: A2 07 00     	ldx	#<$7
  4287                        	xref	~~~asl
  4288 00:08EA: 22 xx xx xx  	jsl	~~~asl
  4289 00:08EE: 85 05        	sta	<R1
  4290 00:08F0: A0 00 00     	ldy	#$0
  4291 00:08F3: A5 05        	lda	<R1
  4292 00:08F5: 10 01        	bpl	L158
  4293 00:08F7: 88           	dey
  4294                        L158:
  4295 00:08F8: 85 05        	sta	<R1
  4296 00:08FA: 84 07        	sty	<R1+2
  4297 00:08FC: 18           	clc
  4298 00:08FD: A5 05        	lda	<R1
  4299 00:08FF: 65 01        	adc	<R0
  4300 00:0901: 85 09        	sta	<R2
  4301 00:0903: A5 07        	lda	<R1+2
  4302 00:0905: 65 03        	adc	<R0+2
  4303 00:0907: 85 0B        	sta	<R2+2
  4304 00:0909: 18           	clc
  4305 00:090A: A9 00 C0     	lda	#$c000
  4306 00:090D: 65 09        	adc	<R2
  4307 00:090F: 85 01        	sta	<R0
  4308 00:0911: A9 AF 00     	lda	#$af
  4309 00:0914: 65 0B        	adc	<R2+2
  4310 00:0916: 85 03        	sta	<R0+2
  4311 00:0918: E2 20        	sep	#$20
  4312                        	longa	off
  4313 00:091A: A5 14        	lda	<L154+bcolor_0
  4314 00:091C: 87 01        	sta	[<R0]
  4315 00:091E: C2 20        	rep	#$20
  4316                        	longa	on
  4317                        ;}
  4318                        	.line	491
  4319                        L159:
  4320 00:0920: A5 0E        	lda	<L154+2
  4321 00:0922: 85 14        	sta	<L154+2+6
  4322 00:0924: A5 0D        	lda	<L154+1
  4323 00:0926: 85 13        	sta	<L154+1+6
  4324 00:0928: 2B           	pld
  4325 00:0929: 3B           	tsc
  4326 00:092A: 18           	clc
  4327 00:092B: 69 12 00     	adc	#L154+6
  4328 00:092E: 1B           	tcs
  4329 00:092F: 6B           	rtl
  4330                        	.endblock	491
  4331             0000000C   L154	equ	12
  4332             0000000D   L155	equ	13
  Sat Jul 10 2021  1:15                                                Page 81


  4333                        	ends
  4334                        	efunc
  4335                        	.endfunc	491,13,12
  4336                        	.line	491
  4337                        ;
  4338                        ;void k_set_text_font_page(UINT page)
  4339                        ;{
  4340                        	.line	493
  4341                        	.line	494
  4342                        	code
  4343                        	xdef	~~k_set_text_font_page
  4344                        	func
  4345                        	.function	494
  4346                        ~~k_set_text_font_page:
  4347                        	longa	on
  4348                        	longi	on
  4349 00:0930: 3B           	tsc
  4350 00:0931: 38           	sec
  4351 00:0932: E9 00 00     	sbc	#L160
  4352 00:0935: 1B           	tcs
  4353 00:0936: 0B           	phd
  4354 00:0937: 5B           	tcd
  4355             00000004   page_0	set	4
  4356                        	.block	494
  4357                        ;	/*
  4358                        ;	if(page)
  4359                        ;		VKY_TXT_CURSOR_CTRL_REG[0] = 0x13;
  4360                        ;	else
  4361                        ;		VKY_TXT_CURSOR_CTRL_REG[0] = 0x0B;
  4362                        ;	*/
  4363                        ;}
  4364                        	.sym	page,4,16,6,16
  4365                        	.line	501
  4366                        L163:
  4367 00:0938: A5 02        	lda	<L160+2
  4368 00:093A: 85 04        	sta	<L160+2+2
  4369 00:093C: A5 01        	lda	<L160+1
  4370 00:093E: 85 03        	sta	<L160+1+2
  4371 00:0940: 2B           	pld
  4372 00:0941: 3B           	tsc
  4373 00:0942: 18           	clc
  4374 00:0943: 69 02 00     	adc	#L160+2
  4375 00:0946: 1B           	tcs
  4376 00:0947: 6B           	rtl
  4377                        	.endblock	501
  4378             00000000   L160	equ	0
  4379             00000001   L161	equ	1
  4380                        	ends
  4381                        	efunc
  4382                        	.endfunc	501,1,0
  4383                        	.line	501
  4384                        ;
  4385                        ;void k_enable_text_cursor(UINT page)
  4386                        ;{
  4387                        	.line	503
  4388                        	.line	504
  4389                        	code
  4390                        	xdef	~~k_enable_text_cursor
  Sat Jul 10 2021  1:15                                                Page 82


  4391                        	func
  4392                        	.function	504
  4393                        ~~k_enable_text_cursor:
  4394                        	longa	on
  4395                        	longi	on
  4396 00:0948: 3B           	tsc
  4397 00:0949: 38           	sec
  4398 00:094A: E9 00 00     	sbc	#L164
  4399 00:094D: 1B           	tcs
  4400 00:094E: 0B           	phd
  4401 00:094F: 5B           	tcd
  4402             00000004   page_0	set	4
  4403                        	.block	504
  4404                        ;	CURCOLOR[0] = 15;
  4405                        	.sym	page,4,16,6,16
  4406                        	.line	505
  4407 00:0950: E2 20        	sep	#$20
  4408                        	longa	off
  4409 00:0952: A9 0F        	lda	#$f
  4410 00:0954: 8F 1E 00 00  	sta	>30
  4411 00:0958: C2 20        	rep	#$20
  4412                        	longa	on
  4413                        ;	VKY_TXT_CURSOR_CTRL_REG[0] = 0;
  4414                        	.line	506
  4415 00:095A: E2 20        	sep	#$20
  4416                        	longa	off
  4417 00:095C: A9 00        	lda	#$0
  4418 00:095E: 8F 10 00 AF  	sta	>11468816
  4419 00:0962: C2 20        	rep	#$20
  4420                        	longa	on
  4421                        ;	//VKY_TXT_CURSOR_CHAR_REG[0] = 0x00;  // FULL BL
                    OCK
  4422                        ;	VKY_TXT_CURSOR_CHAR_REG[0] = 0xA0;  // FULL BLOC
                    K
  4423                        	.line	508
  4424 00:0964: E2 20        	sep	#$20
  4425                        	longa	off
  4426 00:0966: A9 A0        	lda	#$a0
  4427 00:0968: 8F 12 00 AF  	sta	>11468818
  4428 00:096C: C2 20        	rep	#$20
  4429                        	longa	on
  4430                        ;	//VKY_TXT_CURSOR_CTRL_REG[0] = 0x03;  // ENABLE,
                     FLASH RATE 0
  4431                        ;	//VKY_TXT_CURSOR_CTRL_REG[0] = 0x0B;  // ENABLE,
                     FLASH RATE 0
  4432                        ;	//VKY_TXT_CURSOR_CTRL_REG[0] = 0x13;
  4433                        ;
  4434                        ;	//k_set_text_font_page(page);
  4435                        ;
  4436                        ;	//VKY_TXT_CURSOR_COLR_REG[0] = 0xF0;
  4437                        ;	VKY_TXT_CURSOR_COLR_REG[0] = 0x00;
  4438                        	.line	516
  4439 00:096E: E2 20        	sep	#$20
  4440                        	longa	off
  4441 00:0970: A9 00        	lda	#$0
  4442 00:0972: 8F 13 00 AF  	sta	>11468819
  4443 00:0976: C2 20        	rep	#$20
  4444                        	longa	on
  Sat Jul 10 2021  1:15                                                Page 83


  4445                        ;	VKY_TXT_CURSOR_Y_REG_L[0]  = (UCHAR)0;
  4446                        	.line	517
  4447 00:0978: E2 20        	sep	#$20
  4448                        	longa	off
  4449 00:097A: A9 00        	lda	#$0
  4450 00:097C: 8F 16 00 AF  	sta	>11468822
  4451 00:0980: C2 20        	rep	#$20
  4452                        	longa	on
  4453                        ;	VKY_TXT_CURSOR_X_REG_L[0]  = (UCHAR)0;
  4454                        	.line	518
  4455 00:0982: E2 20        	sep	#$20
  4456                        	longa	off
  4457 00:0984: A9 00        	lda	#$0
  4458 00:0986: 8F 14 00 AF  	sta	>11468820
  4459 00:098A: C2 20        	rep	#$20
  4460                        	longa	on
  4461                        ;	VKY_TXT_CURSOR_Y_REG_H[0]  = (UCHAR)0;
  4462                        	.line	519
  4463 00:098C: E2 20        	sep	#$20
  4464                        	longa	off
  4465 00:098E: A9 00        	lda	#$0
  4466 00:0990: 8F 17 00 AF  	sta	>11468823
  4467 00:0994: C2 20        	rep	#$20
  4468                        	longa	on
  4469                        ;	VKY_TXT_CURSOR_X_REG_H[0]  = (UCHAR)0;
  4470                        	.line	520
  4471 00:0996: E2 20        	sep	#$20
  4472                        	longa	off
  4473 00:0998: A9 00        	lda	#$0
  4474 00:099A: 8F 15 00 AF  	sta	>11468821
  4475 00:099E: C2 20        	rep	#$20
  4476                        	longa	on
  4477                        ;}
  4478                        	.line	521
  4479                        L167:
  4480 00:09A0: A5 02        	lda	<L164+2
  4481 00:09A2: 85 04        	sta	<L164+2+2
  4482 00:09A4: A5 01        	lda	<L164+1
  4483 00:09A6: 85 03        	sta	<L164+1+2
  4484 00:09A8: 2B           	pld
  4485 00:09A9: 3B           	tsc
  4486 00:09AA: 18           	clc
  4487 00:09AB: 69 02 00     	adc	#L164+2
  4488 00:09AE: 1B           	tcs
  4489 00:09AF: 6B           	rtl
  4490                        	.endblock	521
  4491             00000000   L164	equ	0
  4492             00000001   L165	equ	1
  4493                        	ends
  4494                        	efunc
  4495                        	.endfunc	521,1,0
  4496                        	.line	521
  4497                        ;
  4498                        ;void k_set_cursor_position(int x,int y)
  4499                        ;{
  4500                        	.line	523
  4501                        	.line	524
  4502                        	code
  Sat Jul 10 2021  1:15                                                Page 84


  4503                        	xdef	~~k_set_cursor_position
  4504                        	func
  4505                        	.function	524
  4506                        ~~k_set_cursor_position:
  4507                        	longa	on
  4508                        	longi	on
  4509 00:09B0: 3B           	tsc
  4510 00:09B1: 38           	sec
  4511 00:09B2: E9 00 00     	sbc	#L168
  4512 00:09B5: 1B           	tcs
  4513 00:09B6: 0B           	phd
  4514 00:09B7: 5B           	tcd
  4515             00000004   x_0	set	4
  4516             00000006   y_0	set	6
  4517                        	.block	524
  4518                        ;	VKY_TXT_CURSOR_Y_REG_L[0] = (UCHAR)y;
  4519                        	.sym	x,4,5,6,16
  4520                        	.sym	y,6,5,6,16
  4521                        	.line	525
  4522 00:09B8: E2 20        	sep	#$20
  4523                        	longa	off
  4524 00:09BA: A5 06        	lda	<L168+y_0
  4525 00:09BC: 8F 16 00 AF  	sta	>11468822
  4526 00:09C0: C2 20        	rep	#$20
  4527                        	longa	on
  4528                        ;	VKY_TXT_CURSOR_X_REG_L[0] = (UCHAR)x;
  4529                        	.line	526
  4530 00:09C2: E2 20        	sep	#$20
  4531                        	longa	off
  4532 00:09C4: A5 04        	lda	<L168+x_0
  4533 00:09C6: 8F 14 00 AF  	sta	>11468820
  4534 00:09CA: C2 20        	rep	#$20
  4535                        	longa	on
  4536                        ;	VKY_TXT_CURSOR_Y_REG_H[0] = (UCHAR)0;
  4537                        	.line	527
  4538 00:09CC: E2 20        	sep	#$20
  4539                        	longa	off
  4540 00:09CE: A9 00        	lda	#$0
  4541 00:09D0: 8F 17 00 AF  	sta	>11468823
  4542 00:09D4: C2 20        	rep	#$20
  4543                        	longa	on
  4544                        ;	VKY_TXT_CURSOR_X_REG_H[0] = (UCHAR)0;
  4545                        	.line	528
  4546 00:09D6: E2 20        	sep	#$20
  4547                        	longa	off
  4548 00:09D8: A9 00        	lda	#$0
  4549 00:09DA: 8F 15 00 AF  	sta	>11468821
  4550 00:09DE: C2 20        	rep	#$20
  4551                        	longa	on
  4552                        ;}
  4553                        	.line	529
  4554                        L171:
  4555 00:09E0: A5 02        	lda	<L168+2
  4556 00:09E2: 85 06        	sta	<L168+2+4
  4557 00:09E4: A5 01        	lda	<L168+1
  4558 00:09E6: 85 05        	sta	<L168+1+4
  4559 00:09E8: 2B           	pld
  4560 00:09E9: 3B           	tsc
  Sat Jul 10 2021  1:15                                                Page 85


  4561 00:09EA: 18           	clc
  4562 00:09EB: 69 04 00     	adc	#L168+4
  4563 00:09EE: 1B           	tcs
  4564 00:09EF: 6B           	rtl
  4565                        	.endblock	529
  4566             00000000   L168	equ	0
  4567             00000001   L169	equ	1
  4568                        	ends
  4569                        	efunc
  4570                        	.endfunc	529,1,0
  4571                        	.line	529
  4572                        ;
  4573                        ;void k_create_text_window(PRECT prect,TITLE title
                    ,PHANDLE phandle)
  4574                        ;{
  4575                        	.line	531
  4576                        	.line	532
  4577                        	code
  4578                        	xdef	~~k_create_text_window
  4579                        	func
  4580                        	.function	532
  4581                        ~~k_create_text_window:
  4582                        	longa	on
  4583                        	longi	on
  4584 00:09F0: 3B           	tsc
  4585 00:09F1: 38           	sec
  4586 00:09F2: E9 0E 00     	sbc	#L172
  4587 00:09F5: 1B           	tcs
  4588 00:09F6: 0B           	phd
  4589 00:09F7: 5B           	tcd
  4590             00000004   prect_0	set	4
  4591             00000008   title_0	set	8
  4592             0000000C   phandle_0	set	12
  4593                        	.block	532
  4594                        ;	int index = -1;
  4595                        ;	PWINDOW pwin = NULL;
  4596                        ;
  4597                        ;	//k_put_char(0,1,'a',5,0);
  4598                        ;
  4599                        ;	index = _k_window_index++;
  4600             00000000   index_1	set	0
  4601             00000002   pwin_1	set	2
  4602                        	.sym	index,0,5,1,16
  4603                        	.sym	pwin,2,138,1,32,33
  4604                        	.sym	prect,4,138,6,32,26
  4605                        	.sym	title,8,142,6,32
  4606                        	.sym	phandle,12,1153,6,32
  4607 00:09F8: A9 FF FF     	lda	#$ffff
  4608 00:09FB: 85 09        	sta	<L173+index_1
  4609 00:09FD: 64 0B        	stz	<L173+pwin_1
  4610 00:09FF: 64 0D        	stz	<L173+pwin_1+2
  4611                        	.line	538
  4612 00:0A01: AD xx xx     	lda	|~~_k_window_index
  4613 00:0A04: 85 09        	sta	<L173+index_1
  4614 00:0A06: EE xx xx     	inc	|~~_k_window_index
  4615                        ;
  4616                        ;	//k_put_char(0,1,'b',5,0);
  4617                        ;
  Sat Jul 10 2021  1:15                                                Page 86


  4618                        ;	pwin = &_k_window_list[index];
  4619                        	.line	542
  4620 00:0A09: A5 09        	lda	<L173+index_1
  4621 00:0A0B: A2 E8 01     	ldx	#<$1e8
  4622                        	xref	~~~mul
  4623 00:0A0E: 22 xx xx xx  	jsl	~~~mul
  4624 00:0A12: 85 01        	sta	<R0
  4625 00:0A14: 18           	clc
  4626 00:0A15: A9 xx xx     	lda	#<~~_k_window_list
  4627 00:0A18: 65 01        	adc	<R0
  4628 00:0A1A: 85 05        	sta	<R1
  4629 00:0A1C: A5 05        	lda	<R1
  4630 00:0A1E: 85 0B        	sta	<L173+pwin_1
  4631                        	xref	_BEG_DATA
  4632 00:0A20: A9 xx xx     	lda	#_BEG_DATA>>16
  4633 00:0A23: 85 0D        	sta	<L173+pwin_1+2
  4634                        ;
  4635                        ;	pwin->win_x = prect->x;
  4636                        	.line	544
  4637 00:0A25: A7 12        	lda	[<L172+prect_0]
  4638 00:0A27: A0 0C 00     	ldy	#$c
  4639 00:0A2A: 97 0B        	sta	[<L173+pwin_1],Y
  4640                        ;	pwin->win_y = prect->y;
  4641                        	.line	545
  4642 00:0A2C: A0 02 00     	ldy	#$2
  4643 00:0A2F: B7 12        	lda	[<L172+prect_0],Y
  4644 00:0A31: A0 0E 00     	ldy	#$e
  4645 00:0A34: 97 0B        	sta	[<L173+pwin_1],Y
  4646                        ;	pwin->win_width = prect->width;
  4647                        	.line	546
  4648 00:0A36: A0 08 00     	ldy	#$8
  4649 00:0A39: B7 12        	lda	[<L172+prect_0],Y
  4650 00:0A3B: A0 10 00     	ldy	#$10
  4651 00:0A3E: 97 0B        	sta	[<L173+pwin_1],Y
  4652                        ;	pwin->win_height = prect->height;
  4653                        	.line	547
  4654 00:0A40: A0 0A 00     	ldy	#$a
  4655 00:0A43: B7 12        	lda	[<L172+prect_0],Y
  4656 00:0A45: A0 12 00     	ldy	#$12
  4657 00:0A48: 97 0B        	sta	[<L173+pwin_1],Y
  4658                        ;
  4659                        ;	//k_put_char(0,1,'c',5,0);
  4660                        ;
  4661                        ;	strcpy(pwin->win_title,title);
  4662                        	.line	551
  4663 00:0A4A: D4 18        	pei	<L172+title_0+2
  4664 00:0A4C: D4 16        	pei	<L172+title_0
  4665 00:0A4E: 18           	clc
  4666 00:0A4F: A9 4C 01     	lda	#$14c
  4667 00:0A52: 65 0B        	adc	<L173+pwin_1
  4668 00:0A54: 85 01        	sta	<R0
  4669 00:0A56: A9 00 00     	lda	#$0
  4670 00:0A59: 65 0D        	adc	<L173+pwin_1+2
  4671 00:0A5B: 85 03        	sta	<R0+2
  4672 00:0A5D: D4 03        	pei	<R0+2
  4673 00:0A5F: D4 01        	pei	<R0
  4674 00:0A61: 22 xx xx xx  	jsl	~~strcpy
  4675                        ;
  Sat Jul 10 2021  1:15                                                Page 87


  4676                        ;	//k_put_char(0,1,'d',5,0);
  4677                        ;
  4678                        ;	k_window_draw(pwin->win_x,pwin->win_y,pwin->win_
                    width,pwin->win_height,pwin->win_title);
  4679                        	.line	555
  4680 00:0A65: 18           	clc
  4681 00:0A66: A9 4C 01     	lda	#$14c
  4682 00:0A69: 65 0B        	adc	<L173+pwin_1
  4683 00:0A6B: 85 01        	sta	<R0
  4684 00:0A6D: A9 00 00     	lda	#$0
  4685 00:0A70: 65 0D        	adc	<L173+pwin_1+2
  4686 00:0A72: 85 03        	sta	<R0+2
  4687 00:0A74: D4 03        	pei	<R0+2
  4688 00:0A76: D4 01        	pei	<R0
  4689 00:0A78: A0 12 00     	ldy	#$12
  4690 00:0A7B: B7 0B        	lda	[<L173+pwin_1],Y
  4691 00:0A7D: 48           	pha
  4692 00:0A7E: A0 10 00     	ldy	#$10
  4693 00:0A81: B7 0B        	lda	[<L173+pwin_1],Y
  4694 00:0A83: 48           	pha
  4695 00:0A84: A0 0E 00     	ldy	#$e
  4696 00:0A87: B7 0B        	lda	[<L173+pwin_1],Y
  4697 00:0A89: 48           	pha
  4698 00:0A8A: A0 0C 00     	ldy	#$c
  4699 00:0A8D: B7 0B        	lda	[<L173+pwin_1],Y
  4700 00:0A8F: 48           	pha
  4701 00:0A90: 22 xx xx xx  	jsl	~~k_window_draw
  4702                        ;
  4703                        ;	//k_put_char(0,1,'e',5,0);
  4704                        ;
  4705                        ;	*phandle = (LPVOID)index;
  4706                        	.line	559
  4707 00:0A94: A0 00 00     	ldy	#$0
  4708 00:0A97: A5 09        	lda	<L173+index_1
  4709 00:0A99: 10 01        	bpl	L175
  4710 00:0A9B: 88           	dey
  4711                        L175:
  4712 00:0A9C: 85 01        	sta	<R0
  4713 00:0A9E: 84 03        	sty	<R0+2
  4714 00:0AA0: A5 01        	lda	<R0
  4715 00:0AA2: 87 1A        	sta	[<L172+phandle_0]
  4716 00:0AA4: A5 03        	lda	<R0+2
  4717 00:0AA6: A0 02 00     	ldy	#$2
  4718 00:0AA9: 97 1A        	sta	[<L172+phandle_0],Y
  4719                        ;
  4720                        ;	return;
  4721                        	.line	561
  4722                        L176:
  4723 00:0AAB: A5 10        	lda	<L172+2
  4724 00:0AAD: 85 1C        	sta	<L172+2+12
  4725 00:0AAF: A5 0F        	lda	<L172+1
  4726 00:0AB1: 85 1B        	sta	<L172+1+12
  4727 00:0AB3: 2B           	pld
  4728 00:0AB4: 3B           	tsc
  4729 00:0AB5: 18           	clc
  4730 00:0AB6: 69 1A 00     	adc	#L172+12
  4731 00:0AB9: 1B           	tcs
  4732 00:0ABA: 6B           	rtl
  Sat Jul 10 2021  1:15                                                Page 88


  4733                        ;}
  4734                        	.line	562
  4735                        	.endblock	562
  4736             0000000E   L172	equ	14
  4737             00000009   L173	equ	9
  4738                        	ends
  4739                        	efunc
  4740                        	.endfunc	562,9,14
  4741                        	.line	562
  4742                        ;
  4743                        ;void k_text_mode_dialog(int x,int y,int width,int
                     height,LPCSTR message)
  4744                        ;{
  4745                        	.line	564
  4746                        	.line	565
  4747                        	code
  4748                        	xdef	~~k_text_mode_dialog
  4749                        	func
  4750                        	.function	565
  4751                        ~~k_text_mode_dialog:
  4752                        	longa	on
  4753                        	longi	on
  4754 00:0ABB: 3B           	tsc
  4755 00:0ABC: 38           	sec
  4756 00:0ABD: E9 08 00     	sbc	#L177
  4757 00:0AC0: 1B           	tcs
  4758 00:0AC1: 0B           	phd
  4759 00:0AC2: 5B           	tcd
  4760             00000004   x_0	set	4
  4761             00000006   y_0	set	6
  4762             00000008   width_0	set	8
  4763             0000000A   height_0	set	10
  4764             0000000C   message_0	set	12
  4765                        	.block	565
  4766                        ;	int pos  = x;
  4767                        ;	int line = y;
  4768                        ;
  4769                        ;	pos = k_put_string(pos,line,CONST_TBOX_TL_STR,15
                    ,0);
  4770             00000000   pos_1	set	0
  4771             00000002   line_1	set	2
  4772                        	.sym	pos,0,5,1,16
  4773                        	.sym	line,2,5,1,16
  4774                        	.sym	x,4,5,6,16
  4775                        	.sym	y,6,5,6,16
  4776                        	.sym	width,8,5,6,16
  4777                        	.sym	height,10,5,6,16
  4778                        	.sym	message,12,142,6,32
  4779 00:0AC3: A5 0C        	lda	<L177+x_0
  4780 00:0AC5: 85 05        	sta	<L178+pos_1
  4781 00:0AC7: A5 0E        	lda	<L177+y_0
  4782 00:0AC9: 85 07        	sta	<L178+line_1
  4783                        	.line	569
  4784 00:0ACB: F4 00 00     	pea	#<$0
  4785 00:0ACE: F4 0F 00     	pea	#<$f
  4786 00:0AD1: F4 xx xx     	pea	#^L131
  4787 00:0AD4: F4 xx xx     	pea	#<L131
  4788 00:0AD7: D4 07        	pei	<L178+line_1
  Sat Jul 10 2021  1:15                                                Page 89


  4789 00:0AD9: D4 05        	pei	<L178+pos_1
  4790 00:0ADB: 22 xx xx xx  	jsl	~~k_put_string
  4791 00:0ADF: 85 05        	sta	<L178+pos_1
  4792                        ;	while(pos < x + width)
  4793                        	.line	570
  4794                        L10076:
  4795 00:0AE1: 18           	clc
  4796 00:0AE2: A5 0C        	lda	<L177+x_0
  4797 00:0AE4: 65 10        	adc	<L177+width_0
  4798 00:0AE6: 85 01        	sta	<R0
  4799 00:0AE8: 38           	sec
  4800 00:0AE9: A5 05        	lda	<L178+pos_1
  4801 00:0AEB: E5 01        	sbc	<R0
  4802 00:0AED: 70 03        	bvs	L180
  4803 00:0AEF: 49 00 80     	eor	#$8000
  4804                        L180:
  4805 00:0AF2: 10 03        	bpl	L181
  4806 00:0AF4: 82 19 00     	brl	L10077
  4807                        L181:
  4808                        ;	{
  4809                        	.line	571
  4810                        ;		pos = k_put_string(pos,line,CONST_TBOX_T
                    OP_STR,15,0);
  4811                        	.line	572
  4812 00:0AF7: F4 00 00     	pea	#<$0
  4813 00:0AFA: F4 0F 00     	pea	#<$f
  4814 00:0AFD: F4 xx xx     	pea	#^L131+2
  4815 00:0B00: F4 xx xx     	pea	#<L131+2
  4816 00:0B03: D4 07        	pei	<L178+line_1
  4817 00:0B05: D4 05        	pei	<L178+pos_1
  4818 00:0B07: 22 xx xx xx  	jsl	~~k_put_string
  4819 00:0B0B: 85 05        	sta	<L178+pos_1
  4820                        ;	}
  4821                        	.line	573
  4822 00:0B0D: 82 D1 FF     	brl	L10076
  4823                        L10077:
  4824                        ;	k_put_string(pos,line,CONST_TBOX_TR_STR,15,0);
  4825                        	.line	574
  4826 00:0B10: F4 00 00     	pea	#<$0
  4827 00:0B13: F4 0F 00     	pea	#<$f
  4828 00:0B16: F4 xx xx     	pea	#^L131+4
  4829 00:0B19: F4 xx xx     	pea	#<L131+4
  4830 00:0B1C: D4 07        	pei	<L178+line_1
  4831 00:0B1E: D4 05        	pei	<L178+pos_1
  4832 00:0B20: 22 xx xx xx  	jsl	~~k_put_string
  4833                        ;	line++;
  4834                        	.line	575
  4835 00:0B24: E6 07        	inc	<L178+line_1
  4836                        ;
  4837                        ;	while(line < y + height)
  4838                        	.line	577
  4839                        L10078:
  4840 00:0B26: 18           	clc
  4841 00:0B27: A5 0E        	lda	<L177+y_0
  4842 00:0B29: 65 12        	adc	<L177+height_0
  4843 00:0B2B: 85 01        	sta	<R0
  4844 00:0B2D: 38           	sec
  4845 00:0B2E: A5 07        	lda	<L178+line_1
  Sat Jul 10 2021  1:15                                                Page 90


  4846 00:0B30: E5 01        	sbc	<R0
  4847 00:0B32: 70 03        	bvs	L182
  4848 00:0B34: 49 00 80     	eor	#$8000
  4849                        L182:
  4850 00:0B37: 10 03        	bpl	L183
  4851 00:0B39: 82 2D 00     	brl	L10079
  4852                        L183:
  4853                        ;	{
  4854                        	.line	578
  4855                        ;		k_put_string(x,line,CONST_TBOX_LEFT_STR,
                    15,0);
  4856                        	.line	579
  4857 00:0B3C: F4 00 00     	pea	#<$0
  4858 00:0B3F: F4 0F 00     	pea	#<$f
  4859 00:0B42: F4 xx xx     	pea	#^L131+6
  4860 00:0B45: F4 xx xx     	pea	#<L131+6
  4861 00:0B48: D4 07        	pei	<L178+line_1
  4862 00:0B4A: D4 0C        	pei	<L177+x_0
  4863 00:0B4C: 22 xx xx xx  	jsl	~~k_put_string
  4864                        ;		k_put_string(pos,line,CONST_TBOX_RIGHT_S
                    TR,15,0);
  4865                        	.line	580
  4866 00:0B50: F4 00 00     	pea	#<$0
  4867 00:0B53: F4 0F 00     	pea	#<$f
  4868 00:0B56: F4 xx xx     	pea	#^L131+8
  4869 00:0B59: F4 xx xx     	pea	#<L131+8
  4870 00:0B5C: D4 07        	pei	<L178+line_1
  4871 00:0B5E: D4 05        	pei	<L178+pos_1
  4872 00:0B60: 22 xx xx xx  	jsl	~~k_put_string
  4873                        ;		line++;
  4874                        	.line	581
  4875 00:0B64: E6 07        	inc	<L178+line_1
  4876                        ;	}
  4877                        	.line	582
  4878 00:0B66: 82 BD FF     	brl	L10078
  4879                        L10079:
  4880                        ;	pos = x;
  4881                        	.line	583
  4882 00:0B69: A5 0C        	lda	<L177+x_0
  4883 00:0B6B: 85 05        	sta	<L178+pos_1
  4884                        ;	pos = k_put_string(pos,line,CONST_TBOX_BL_STR,15
                    ,0);
  4885                        	.line	584
  4886 00:0B6D: F4 00 00     	pea	#<$0
  4887 00:0B70: F4 0F 00     	pea	#<$f
  4888 00:0B73: F4 xx xx     	pea	#^L131+10
  4889 00:0B76: F4 xx xx     	pea	#<L131+10
  4890 00:0B79: D4 07        	pei	<L178+line_1
  4891 00:0B7B: D4 05        	pei	<L178+pos_1
  4892 00:0B7D: 22 xx xx xx  	jsl	~~k_put_string
  4893 00:0B81: 85 05        	sta	<L178+pos_1
  4894                        ;	while(pos < x + width)
  4895                        	.line	585
  4896                        L10080:
  4897 00:0B83: 18           	clc
  4898 00:0B84: A5 0C        	lda	<L177+x_0
  4899 00:0B86: 65 10        	adc	<L177+width_0
  4900 00:0B88: 85 01        	sta	<R0
  Sat Jul 10 2021  1:15                                                Page 91


  4901 00:0B8A: 38           	sec
  4902 00:0B8B: A5 05        	lda	<L178+pos_1
  4903 00:0B8D: E5 01        	sbc	<R0
  4904 00:0B8F: 70 03        	bvs	L184
  4905 00:0B91: 49 00 80     	eor	#$8000
  4906                        L184:
  4907 00:0B94: 10 03        	bpl	L185
  4908 00:0B96: 82 19 00     	brl	L10081
  4909                        L185:
  4910                        ;	{
  4911                        	.line	586
  4912                        ;		pos = k_put_string(pos,line,CONST_TBOX_B
                    OTTOM_STR,15,0);
  4913                        	.line	587
  4914 00:0B99: F4 00 00     	pea	#<$0
  4915 00:0B9C: F4 0F 00     	pea	#<$f
  4916 00:0B9F: F4 xx xx     	pea	#^L131+12
  4917 00:0BA2: F4 xx xx     	pea	#<L131+12
  4918 00:0BA5: D4 07        	pei	<L178+line_1
  4919 00:0BA7: D4 05        	pei	<L178+pos_1
  4920 00:0BA9: 22 xx xx xx  	jsl	~~k_put_string
  4921 00:0BAD: 85 05        	sta	<L178+pos_1
  4922                        ;	}
  4923                        	.line	588
  4924 00:0BAF: 82 D1 FF     	brl	L10080
  4925                        L10081:
  4926                        ;	pos = k_put_string(pos,line,CONST_TBOX_BR_STR,15
                    ,0);
  4927                        	.line	589
  4928 00:0BB2: F4 00 00     	pea	#<$0
  4929 00:0BB5: F4 0F 00     	pea	#<$f
  4930 00:0BB8: F4 xx xx     	pea	#^L131+14
  4931 00:0BBB: F4 xx xx     	pea	#<L131+14
  4932 00:0BBE: D4 07        	pei	<L178+line_1
  4933 00:0BC0: D4 05        	pei	<L178+pos_1
  4934 00:0BC2: 22 xx xx xx  	jsl	~~k_put_string
  4935 00:0BC6: 85 05        	sta	<L178+pos_1
  4936                        ;
  4937                        ;	/*
  4938                        ;	pos = 1;
  4939                        ;	pos = k_put_string(pos,line,boxside,15,0);
  4940                        ;	pos = 70;
  4941                        ;	pos = k_put_string(pos,line,boxside,15,0);
  4942                        ;	line++;
  4943                        ;	pos = 1;
  4944                        ;	pos = k_put_string(pos,line,boxside,15,0);
  4945                        ;	pos = k_put_string(pos,line,CONST_EXCEPTION_TITL
                    E,15,0);
  4946                        ;	//pos = k_put_string(pos,line,k_longtodec(_k_exe
                    c_context,_brk_Buffer),15,0);
  4947                        ;	pos = k_put_string(pos,line,k_longtodec(_k_exec_
                    context,_brk_Buffer),15,0);
  4948                        ;	//pos = k_put_string(pos,line,k_longtodec(_k_exe
                    c_context,_brk_Buffer),15,0);
  4949                        ;	//pos++;
  4950                        ;	//pos = k_put_string(pos,line,k_longtodec(   ,_b
                    rk_Buffer),15,0);
  4951                        ;
  Sat Jul 10 2021  1:15                                                Page 92


  4952                        ;	pos = k_put_string(pos,line,":",15,0);
  4953                        ;	pos = k_put_string(pos,line,k_longtodec(_k_exec_
                    error,_brk_Buffer),15,0);
  4954                        ;	pos = 70;
  4955                        ;	pos = k_put_string(pos,line,boxside,15,0);
  4956                        ;	line++;
  4957                        ;	pos = 1;
  4958                        ;	pos = k_put_string(pos,line,boxside,15,0);
  4959                        ;	pos = k_put_string(pos,line,"",15,0);
  4960                        ;	pos = 70;
  4961                        ;	pos = k_put_string(pos,line,boxside,15,0);
  4962                        ;	line++;
  4963                        ;	pos = 1;
  4964                        ;	pos = k_put_string(pos,line,boxside,15,0);
  4965                        ;	pos = k_put_string(pos,line,_k_exec_message,15,0
                    );
  4966                        ;	pos = 70;
  4967                        ;	pos = k_put_string(pos,line,boxside,15,0);
  4968                        ;	line++;
  4969                        ;	pos = 1;
  4970                        ;	pos = k_put_string(pos,line,boxside,15,0);
  4971                        ;	pos = 70;
  4972                        ;	pos = k_put_string(pos,line,boxside,15,0);
  4973                        ;	line++;
  4974                        ;	pos = 1;
  4975                        ;	pos = k_put_string(pos,line,boxbottom,15,0);
  4976                        ;	*/
  4977                        ;
  4978                        ;}
  4979                        	.line	632
  4980                        L186:
  4981 00:0BC8: A5 0A        	lda	<L177+2
  4982 00:0BCA: 85 16        	sta	<L177+2+12
  4983 00:0BCC: A5 09        	lda	<L177+1
  4984 00:0BCE: 85 15        	sta	<L177+1+12
  4985 00:0BD0: 2B           	pld
  4986 00:0BD1: 3B           	tsc
  4987 00:0BD2: 18           	clc
  4988 00:0BD3: 69 14 00     	adc	#L177+12
  4989 00:0BD6: 1B           	tcs
  4990 00:0BD7: 6B           	rtl
  4991                        	.endblock	632
  4992             00000008   L177	equ	8
  4993             00000005   L178	equ	5
  4994                        	ends
  4995                        	efunc
  4996                        	.endfunc	632,5,8
  4997                        	.line	632
  4998                        	data
  4999                        L131:
  5000 00:0287: D6 00 C4 00  	db	$D6,$00,$FFFFFFC4,$00,$FFFFFFB7,$00,$FFF
                    FFFBA,$00,$FFFFFFBA,$00,$FFFFFFD3,$00,$FFFFFFC4,$00,$FFFFFFB
                    D
       00:028B: B7 00 BA 00 
       00:028F: BA 00 D3 00 
       00:0293: C4 00 BD 
  5001 00:0296: 00           	db	$00
  5002 00:0297:              	ends
  Sat Jul 10 2021  1:15                                                Page 93


  5003                        ;
  5004                        ;void k_window_draw(int bx,int by,int bw,int bh,ch
                    ar FAR* title)
  5005                        ;{
  5006                        	.line	634
  5007                        	.line	635
  5008                        	code
  5009                        	xdef	~~k_window_draw
  5010                        	func
  5011                        	.function	635
  5012                        ~~k_window_draw:
  5013                        	longa	on
  5014                        	longi	on
  5015 00:0BD8: 3B           	tsc
  5016 00:0BD9: 38           	sec
  5017 00:0BDA: E9 0C 00     	sbc	#L188
  5018 00:0BDD: 1B           	tcs
  5019 00:0BDE: 0B           	phd
  5020 00:0BDF: 5B           	tcd
  5021             00000004   bx_0	set	4
  5022             00000006   by_0	set	6
  5023             00000008   bw_0	set	8
  5024             0000000A   bh_0	set	10
  5025             0000000C   title_0	set	12
  5026                        	.block	635
  5027                        ;	int i = 0;
  5028                        ;	int k = 0;
  5029                        ;
  5030                        ;	k_put_char(0,1,'z',5,0);
  5031             00000000   i_1	set	0
  5032             00000002   k_1	set	2
  5033                        	.sym	i,0,5,1,16
  5034                        	.sym	k,2,5,1,16
  5035                        	.sym	bx,4,5,6,16
  5036                        	.sym	by,6,5,6,16
  5037                        	.sym	bw,8,5,6,16
  5038                        	.sym	bh,10,5,6,16
  5039                        	.sym	title,12,142,6,32
  5040 00:0BE0: 64 09        	stz	<L189+i_1
  5041 00:0BE2: 64 0B        	stz	<L189+k_1
  5042                        	.line	639
  5043 00:0BE4: F4 00 00     	pea	#<$0
  5044 00:0BE7: F4 05 00     	pea	#<$5
  5045 00:0BEA: F4 7A 00     	pea	#<$7a
  5046 00:0BED: F4 01 00     	pea	#<$1
  5047 00:0BF0: F4 00 00     	pea	#<$0
  5048 00:0BF3: 22 xx xx xx  	jsl	~~k_put_char
  5049                        ;
  5050                        ;	k_window_draw_background(bx,by,bw,bh,(char)8);
  5051                        	.line	641
  5052 00:0BF7: F4 08 00     	pea	#<$8
  5053 00:0BFA: D4 16        	pei	<L188+bh_0
  5054 00:0BFC: D4 14        	pei	<L188+bw_0
  5055 00:0BFE: D4 12        	pei	<L188+by_0
  5056 00:0C00: D4 10        	pei	<L188+bx_0
  5057 00:0C02: 22 xx xx xx  	jsl	~~k_window_draw_background
  5058                        ;
  5059                        ;	k_put_char(0,1,'y',5,0);
  Sat Jul 10 2021  1:15                                                Page 94


  5060                        	.line	643
  5061 00:0C06: F4 00 00     	pea	#<$0
  5062 00:0C09: F4 05 00     	pea	#<$5
  5063 00:0C0C: F4 79 00     	pea	#<$79
  5064 00:0C0F: F4 01 00     	pea	#<$1
  5065 00:0C12: F4 00 00     	pea	#<$0
  5066 00:0C15: 22 xx xx xx  	jsl	~~k_put_char
  5067                        ;
  5068                        ;	for(k=by;k<(by+bh);k++)
  5069                        	.line	645
  5070 00:0C19: A5 12        	lda	<L188+by_0
  5071 00:0C1B: 85 0B        	sta	<L189+k_1
  5072 00:0C1D: 82 4E 01     	brl	L10085
  5073                        L10084:
  5074                        ;	{
  5075                        	.line	646
  5076                        ;		if(k == by ||  k == (by + 2))
  5077                        	.line	647
  5078                        ;		{
  5079 00:0C20: A5 0B        	lda	<L189+k_1
  5080 00:0C22: C5 12        	cmp	<L188+by_0
  5081 00:0C24: D0 03        	bne	L192
  5082 00:0C26: 82 11 00     	brl	L191
  5083                        L192:
  5084 00:0C29: 18           	clc
  5085 00:0C2A: A9 02 00     	lda	#$2
  5086 00:0C2D: 65 12        	adc	<L188+by_0
  5087 00:0C2F: 85 01        	sta	<R0
  5088 00:0C31: A5 01        	lda	<R0
  5089 00:0C33: C5 0B        	cmp	<L189+k_1
  5090 00:0C35: F0 03        	beq	L193
  5091 00:0C37: 82 83 00     	brl	L10086
  5092                        L193:
  5093                        L191:
  5094                        	.line	648
  5095                        ;			k_put_char(bx     ,k,WIN_BORDER_
                    CHAR_CORNER_TLEFT,15,0);
  5096                        	.line	649
  5097 00:0C3A: F4 00 00     	pea	#<$0
  5098 00:0C3D: F4 0F 00     	pea	#<$f
  5099 00:0C40: F4 D6 00     	pea	#<$d6
  5100 00:0C43: D4 0B        	pei	<L189+k_1
  5101 00:0C45: D4 10        	pei	<L188+bx_0
  5102 00:0C47: 22 xx xx xx  	jsl	~~k_put_char
  5103                        ;			k_put_char(bx+bw-1,k,WIN_BORDER_
                    CHAR_CORNER_TRIGHT,15,0);
  5104                        	.line	650
  5105 00:0C4B: F4 00 00     	pea	#<$0
  5106 00:0C4E: F4 0F 00     	pea	#<$f
  5107 00:0C51: F4 B7 00     	pea	#<$b7
  5108 00:0C54: D4 0B        	pei	<L189+k_1
  5109 00:0C56: 18           	clc
  5110 00:0C57: A5 10        	lda	<L188+bx_0
  5111 00:0C59: 65 14        	adc	<L188+bw_0
  5112 00:0C5B: 85 01        	sta	<R0
  5113 00:0C5D: 18           	clc
  5114 00:0C5E: A9 FF FF     	lda	#$ffff
  5115 00:0C61: 65 01        	adc	<R0
  Sat Jul 10 2021  1:15                                                Page 95


  5116 00:0C63: 48           	pha
  5117 00:0C64: 22 xx xx xx  	jsl	~~k_put_char
  5118                        ;			for(i=bx+1;i<(bx+bw-1);i++)
  5119                        	.line	651
  5120 00:0C68: A5 10        	lda	<L188+bx_0
  5121 00:0C6A: 1A           	ina
  5122 00:0C6B: 85 09        	sta	<L189+i_1
  5123 00:0C6D: 82 13 00     	brl	L10090
  5124                        L10089:
  5125                        ;			{
  5126                        	.line	652
  5127                        ;				k_put_char(i,k,WIN_BORDE
                    R_CHAR_TOP,15,0);
  5128                        	.line	653
  5129 00:0C70: F4 00 00     	pea	#<$0
  5130 00:0C73: F4 0F 00     	pea	#<$f
  5131 00:0C76: F4 C4 00     	pea	#<$c4
  5132 00:0C79: D4 0B        	pei	<L189+k_1
  5133 00:0C7B: D4 09        	pei	<L189+i_1
  5134 00:0C7D: 22 xx xx xx  	jsl	~~k_put_char
  5135                        ;			}
  5136                        	.line	654
  5137                        L10087:
  5138 00:0C81: E6 09        	inc	<L189+i_1
  5139                        L10090:
  5140 00:0C83: 18           	clc
  5141 00:0C84: A5 10        	lda	<L188+bx_0
  5142 00:0C86: 65 14        	adc	<L188+bw_0
  5143 00:0C88: 85 01        	sta	<R0
  5144 00:0C8A: 18           	clc
  5145 00:0C8B: A9 FF FF     	lda	#$ffff
  5146 00:0C8E: 65 01        	adc	<R0
  5147 00:0C90: 85 05        	sta	<R1
  5148 00:0C92: 38           	sec
  5149 00:0C93: A5 09        	lda	<L189+i_1
  5150 00:0C95: E5 05        	sbc	<R1
  5151 00:0C97: 70 03        	bvs	L194
  5152 00:0C99: 49 00 80     	eor	#$8000
  5153                        L194:
  5154 00:0C9C: 30 03        	bmi	L195
  5155 00:0C9E: 82 CF FF     	brl	L10089
  5156                        L195:
  5157                        L10088:
  5158                        ;			k_put_string(bx+2,by+1,title,15,
                    0);
  5159                        	.line	655
  5160 00:0CA1: F4 00 00     	pea	#<$0
  5161 00:0CA4: F4 0F 00     	pea	#<$f
  5162 00:0CA7: D4 1A        	pei	<L188+title_0+2
  5163 00:0CA9: D4 18        	pei	<L188+title_0
  5164 00:0CAB: A5 12        	lda	<L188+by_0
  5165 00:0CAD: 1A           	ina
  5166 00:0CAE: 48           	pha
  5167 00:0CAF: 18           	clc
  5168 00:0CB0: A9 02 00     	lda	#$2
  5169 00:0CB3: 65 10        	adc	<L188+bx_0
  5170 00:0CB5: 48           	pha
  5171 00:0CB6: 22 xx xx xx  	jsl	~~k_put_string
  Sat Jul 10 2021  1:15                                                Page 96


  5172                        ;			//k_put_char(bx     ,k,WIN_BORDE
                    R_CHAR_CORNER_EDGE,15,0);
  5173                        ;			//k_put_char(bx+bw-1,k,WIN_BORDE
                    R_CHAR_CORNER_EDGE,15,0);
  5174                        ;
  5175                        ;		}
  5176                        	.line	659
  5177                        ;		/*
  5178                        ;		else if(k == (by + 1))
  5179                        ;		{
  5180                        ;			k_put_char(bx     ,k,WIN_BORDER_
                    CHAR_CORNER_EDGE,15,0);
  5181                        ;			k_put_char(bx+bw-1,k,WIN_BORDER_
                    CHAR_CORNER_EDGE,15,0);
  5182                        ;			for(i=bx+1;i<(bx+bw-1);i++)
  5183                        ;			{
  5184                        ;				k_put_char(i,k,'=',15,0)
                    ;
  5185                        ;			}
  5186                        ;		}
  5187                        ;		*/
  5188                        ;		else if(k == (by + bh - 1))
  5189 00:0CBA: 82 AF 00     	brl	L10091
  5190                        L10086:
  5191                        	.line	671
  5192                        ;		{
  5193 00:0CBD: 18           	clc
  5194 00:0CBE: A5 12        	lda	<L188+by_0
  5195 00:0CC0: 65 16        	adc	<L188+bh_0
  5196 00:0CC2: 85 01        	sta	<R0
  5197 00:0CC4: 18           	clc
  5198 00:0CC5: A9 FF FF     	lda	#$ffff
  5199 00:0CC8: 65 01        	adc	<R0
  5200 00:0CCA: 85 05        	sta	<R1
  5201 00:0CCC: A5 05        	lda	<R1
  5202 00:0CCE: C5 0B        	cmp	<L189+k_1
  5203 00:0CD0: F0 03        	beq	L196
  5204 00:0CD2: 82 69 00     	brl	L10092
  5205                        L196:
  5206                        	.line	672
  5207                        ;			for(i=bx;i<(bx+bw-1);i++)
  5208                        	.line	673
  5209 00:0CD5: A5 10        	lda	<L188+bx_0
  5210 00:0CD7: 85 09        	sta	<L189+i_1
  5211 00:0CD9: 82 13 00     	brl	L10096
  5212                        L10095:
  5213                        ;			{
  5214                        	.line	674
  5215                        ;				k_put_char(i,k,WIN_BORDE
                    R_CHAR_BOTTOM,15,0);
  5216                        	.line	675
  5217 00:0CDC: F4 00 00     	pea	#<$0
  5218 00:0CDF: F4 0F 00     	pea	#<$f
  5219 00:0CE2: F4 C4 00     	pea	#<$c4
  5220 00:0CE5: D4 0B        	pei	<L189+k_1
  5221 00:0CE7: D4 09        	pei	<L189+i_1
  5222 00:0CE9: 22 xx xx xx  	jsl	~~k_put_char
  5223                        ;			}
  Sat Jul 10 2021  1:15                                                Page 97


  5224                        	.line	676
  5225                        L10093:
  5226 00:0CED: E6 09        	inc	<L189+i_1
  5227                        L10096:
  5228 00:0CEF: 18           	clc
  5229 00:0CF0: A5 10        	lda	<L188+bx_0
  5230 00:0CF2: 65 14        	adc	<L188+bw_0
  5231 00:0CF4: 85 01        	sta	<R0
  5232 00:0CF6: 18           	clc
  5233 00:0CF7: A9 FF FF     	lda	#$ffff
  5234 00:0CFA: 65 01        	adc	<R0
  5235 00:0CFC: 85 05        	sta	<R1
  5236 00:0CFE: 38           	sec
  5237 00:0CFF: A5 09        	lda	<L189+i_1
  5238 00:0D01: E5 05        	sbc	<R1
  5239 00:0D03: 70 03        	bvs	L197
  5240 00:0D05: 49 00 80     	eor	#$8000
  5241                        L197:
  5242 00:0D08: 30 03        	bmi	L198
  5243 00:0D0A: 82 CF FF     	brl	L10095
  5244                        L198:
  5245                        L10094:
  5246                        ;			k_put_char(bx     ,k,WIN_BORDER_
                    CHAR_CORNER_BLEFT,15,0);
  5247                        	.line	677
  5248 00:0D0D: F4 00 00     	pea	#<$0
  5249 00:0D10: F4 0F 00     	pea	#<$f
  5250 00:0D13: F4 D3 00     	pea	#<$d3
  5251 00:0D16: D4 0B        	pei	<L189+k_1
  5252 00:0D18: D4 10        	pei	<L188+bx_0
  5253 00:0D1A: 22 xx xx xx  	jsl	~~k_put_char
  5254                        ;			k_put_char(bx+bw-1,k,WIN_BORDER_
                    CHAR_CORNER_BRIGHT,15,0);
  5255                        	.line	678
  5256 00:0D1E: F4 00 00     	pea	#<$0
  5257 00:0D21: F4 0F 00     	pea	#<$f
  5258 00:0D24: F4 D3 00     	pea	#<$d3
  5259 00:0D27: D4 0B        	pei	<L189+k_1
  5260 00:0D29: 18           	clc
  5261 00:0D2A: A5 10        	lda	<L188+bx_0
  5262 00:0D2C: 65 14        	adc	<L188+bw_0
  5263 00:0D2E: 85 01        	sta	<R0
  5264 00:0D30: 18           	clc
  5265 00:0D31: A9 FF FF     	lda	#$ffff
  5266 00:0D34: 65 01        	adc	<R0
  5267 00:0D36: 48           	pha
  5268 00:0D37: 22 xx xx xx  	jsl	~~k_put_char
  5269                        ;		}
  5270                        	.line	679
  5271                        ;		else
  5272 00:0D3B: 82 2E 00     	brl	L10097
  5273                        L10092:
  5274                        ;		{
  5275                        	.line	681
  5276                        ;			k_put_char(bx     ,k,WIN_BORDER_
                    CHAR_EDGE,15,0);
  5277                        	.line	682
  5278 00:0D3E: F4 00 00     	pea	#<$0
  Sat Jul 10 2021  1:15                                                Page 98


  5279 00:0D41: F4 0F 00     	pea	#<$f
  5280 00:0D44: F4 BA 00     	pea	#<$ba
  5281 00:0D47: D4 0B        	pei	<L189+k_1
  5282 00:0D49: D4 10        	pei	<L188+bx_0
  5283 00:0D4B: 22 xx xx xx  	jsl	~~k_put_char
  5284                        ;			k_put_char(bx+bw-1,k,WIN_BORDER_
                    CHAR_EDGE,15,0);
  5285                        	.line	683
  5286 00:0D4F: F4 00 00     	pea	#<$0
  5287 00:0D52: F4 0F 00     	pea	#<$f
  5288 00:0D55: F4 BA 00     	pea	#<$ba
  5289 00:0D58: D4 0B        	pei	<L189+k_1
  5290 00:0D5A: 18           	clc
  5291 00:0D5B: A5 10        	lda	<L188+bx_0
  5292 00:0D5D: 65 14        	adc	<L188+bw_0
  5293 00:0D5F: 85 01        	sta	<R0
  5294 00:0D61: 18           	clc
  5295 00:0D62: A9 FF FF     	lda	#$ffff
  5296 00:0D65: 65 01        	adc	<R0
  5297 00:0D67: 48           	pha
  5298 00:0D68: 22 xx xx xx  	jsl	~~k_put_char
  5299                        ;		}
  5300                        	.line	684
  5301                        L10097:
  5302                        L10091:
  5303                        ;	}
  5304                        	.line	685
  5305                        L10082:
  5306 00:0D6C: E6 0B        	inc	<L189+k_1
  5307                        L10085:
  5308 00:0D6E: 18           	clc
  5309 00:0D6F: A5 12        	lda	<L188+by_0
  5310 00:0D71: 65 16        	adc	<L188+bh_0
  5311 00:0D73: 85 01        	sta	<R0
  5312 00:0D75: 38           	sec
  5313 00:0D76: A5 0B        	lda	<L189+k_1
  5314 00:0D78: E5 01        	sbc	<R0
  5315 00:0D7A: 70 03        	bvs	L199
  5316 00:0D7C: 49 00 80     	eor	#$8000
  5317                        L199:
  5318 00:0D7F: 30 03        	bmi	L200
  5319 00:0D81: 82 9C FE     	brl	L10084
  5320                        L200:
  5321                        L10083:
  5322                        ;
  5323                        ;	k_put_char(0,1,'x',5,0);
  5324                        	.line	687
  5325 00:0D84: F4 00 00     	pea	#<$0
  5326 00:0D87: F4 05 00     	pea	#<$5
  5327 00:0D8A: F4 78 00     	pea	#<$78
  5328 00:0D8D: F4 01 00     	pea	#<$1
  5329 00:0D90: F4 00 00     	pea	#<$0
  5330 00:0D93: 22 xx xx xx  	jsl	~~k_put_char
  5331                        ;
  5332                        ;}
  5333                        	.line	689
  5334                        L201:
  5335 00:0D97: A5 0E        	lda	<L188+2
  Sat Jul 10 2021  1:15                                                Page 99


  5336 00:0D99: 85 1A        	sta	<L188+2+12
  5337 00:0D9B: A5 0D        	lda	<L188+1
  5338 00:0D9D: 85 19        	sta	<L188+1+12
  5339 00:0D9F: 2B           	pld
  5340 00:0DA0: 3B           	tsc
  5341 00:0DA1: 18           	clc
  5342 00:0DA2: 69 18 00     	adc	#L188+12
  5343 00:0DA5: 1B           	tcs
  5344 00:0DA6: 6B           	rtl
  5345                        	.endblock	689
  5346             0000000C   L188	equ	12
  5347             00000009   L189	equ	9
  5348                        	ends
  5349                        	efunc
  5350                        	.endfunc	689,9,12
  5351                        	.line	689
  5352                        ;
  5353                        ;void k_window_draw_background(int bx,int by, int 
                    bw,int bh,char bcolor)
  5354                        ;{
  5355                        	.line	691
  5356                        	.line	692
  5357                        	code
  5358                        	xdef	~~k_window_draw_background
  5359                        	func
  5360                        	.function	692
  5361                        ~~k_window_draw_background:
  5362                        	longa	on
  5363                        	longi	on
  5364 00:0DA7: 3B           	tsc
  5365 00:0DA8: 38           	sec
  5366 00:0DA9: E9 08 00     	sbc	#L202
  5367 00:0DAC: 1B           	tcs
  5368 00:0DAD: 0B           	phd
  5369 00:0DAE: 5B           	tcd
  5370             00000004   bx_0	set	4
  5371             00000006   by_0	set	6
  5372             00000008   bw_0	set	8
  5373             0000000A   bh_0	set	10
  5374             0000000C   bcolor_0	set	12
  5375                        	.block	692
  5376                        ;	int i = 0;
  5377                        ;	int k = 0;
  5378                        ;
  5379                        ;	k_put_char(0,1,'w',5,0);
  5380             00000000   i_1	set	0
  5381             00000002   k_1	set	2
  5382                        	.sym	i,0,5,1,16
  5383                        	.sym	k,2,5,1,16
  5384                        	.sym	bx,4,5,6,16
  5385                        	.sym	by,6,5,6,16
  5386                        	.sym	bw,8,5,6,16
  5387                        	.sym	bh,10,5,6,16
  5388                        	.sym	bcolor,12,14,6,8
  5389 00:0DAF: 64 05        	stz	<L203+i_1
  5390 00:0DB1: 64 07        	stz	<L203+k_1
  5391                        	.line	696
  5392 00:0DB3: F4 00 00     	pea	#<$0
  Sat Jul 10 2021  1:15                                                Page 100


  5393 00:0DB6: F4 05 00     	pea	#<$5
  5394 00:0DB9: F4 77 00     	pea	#<$77
  5395 00:0DBC: F4 01 00     	pea	#<$1
  5396 00:0DBF: F4 00 00     	pea	#<$0
  5397 00:0DC2: 22 xx xx xx  	jsl	~~k_put_char
  5398                        ;
  5399                        ;	for(k=by;k<(by + bh);k++)
  5400                        	.line	698
  5401 00:0DC6: A5 0E        	lda	<L202+by_0
  5402 00:0DC8: 85 07        	sta	<L203+k_1
  5403 00:0DCA: 82 58 00     	brl	L10101
  5404                        L10100:
  5405                        ;	{
  5406                        	.line	699
  5407                        ;		k_put_char(0,1,'u',5,0);
  5408                        	.line	700
  5409 00:0DCD: F4 00 00     	pea	#<$0
  5410 00:0DD0: F4 05 00     	pea	#<$5
  5411 00:0DD3: F4 75 00     	pea	#<$75
  5412 00:0DD6: F4 01 00     	pea	#<$1
  5413 00:0DD9: F4 00 00     	pea	#<$0
  5414 00:0DDC: 22 xx xx xx  	jsl	~~k_put_char
  5415                        ;		for(i=bx;i<(bx+bw);i++)
  5416                        	.line	701
  5417 00:0DE0: A5 0C        	lda	<L202+bx_0
  5418 00:0DE2: 85 05        	sta	<L203+i_1
  5419 00:0DE4: 82 26 00     	brl	L10105
  5420                        L10104:
  5421                        ;		{
  5422                        	.line	702
  5423                        ;			//k_set_background(i,k,bcolor);
  5424                        ;			k_put_char(i,k,' ',0,15);
  5425                        	.line	704
  5426 00:0DE7: F4 0F 00     	pea	#<$f
  5427 00:0DEA: F4 00 00     	pea	#<$0
  5428 00:0DED: F4 20 00     	pea	#<$20
  5429 00:0DF0: D4 07        	pei	<L203+k_1
  5430 00:0DF2: D4 05        	pei	<L203+i_1
  5431 00:0DF4: 22 xx xx xx  	jsl	~~k_put_char
  5432                        ;			k_put_char(0,1,'t',5,0);
  5433                        	.line	705
  5434 00:0DF8: F4 00 00     	pea	#<$0
  5435 00:0DFB: F4 05 00     	pea	#<$5
  5436 00:0DFE: F4 74 00     	pea	#<$74
  5437 00:0E01: F4 01 00     	pea	#<$1
  5438 00:0E04: F4 00 00     	pea	#<$0
  5439 00:0E07: 22 xx xx xx  	jsl	~~k_put_char
  5440                        ;		}
  5441                        	.line	706
  5442                        L10102:
  5443 00:0E0B: E6 05        	inc	<L203+i_1
  5444                        L10105:
  5445 00:0E0D: 18           	clc
  5446 00:0E0E: A5 0C        	lda	<L202+bx_0
  5447 00:0E10: 65 10        	adc	<L202+bw_0
  5448 00:0E12: 85 01        	sta	<R0
  5449 00:0E14: 38           	sec
  5450 00:0E15: A5 05        	lda	<L203+i_1
  Sat Jul 10 2021  1:15                                                Page 101


  5451 00:0E17: E5 01        	sbc	<R0
  5452 00:0E19: 70 03        	bvs	L205
  5453 00:0E1B: 49 00 80     	eor	#$8000
  5454                        L205:
  5455 00:0E1E: 30 03        	bmi	L206
  5456 00:0E20: 82 C4 FF     	brl	L10104
  5457                        L206:
  5458                        L10103:
  5459                        ;	}
  5460                        	.line	707
  5461                        L10098:
  5462 00:0E23: E6 07        	inc	<L203+k_1
  5463                        L10101:
  5464 00:0E25: 18           	clc
  5465 00:0E26: A5 0E        	lda	<L202+by_0
  5466 00:0E28: 65 12        	adc	<L202+bh_0
  5467 00:0E2A: 85 01        	sta	<R0
  5468 00:0E2C: 38           	sec
  5469 00:0E2D: A5 07        	lda	<L203+k_1
  5470 00:0E2F: E5 01        	sbc	<R0
  5471 00:0E31: 70 03        	bvs	L207
  5472 00:0E33: 49 00 80     	eor	#$8000
  5473                        L207:
  5474 00:0E36: 30 03        	bmi	L208
  5475 00:0E38: 82 92 FF     	brl	L10100
  5476                        L208:
  5477                        L10099:
  5478                        ;
  5479                        ;	k_put_char(0,1,'v',5,0);
  5480                        	.line	709
  5481 00:0E3B: F4 00 00     	pea	#<$0
  5482 00:0E3E: F4 05 00     	pea	#<$5
  5483 00:0E41: F4 76 00     	pea	#<$76
  5484 00:0E44: F4 01 00     	pea	#<$1
  5485 00:0E47: F4 00 00     	pea	#<$0
  5486 00:0E4A: 22 xx xx xx  	jsl	~~k_put_char
  5487                        ;}
  5488                        	.line	710
  5489                        L209:
  5490 00:0E4E: A5 0A        	lda	<L202+2
  5491 00:0E50: 85 14        	sta	<L202+2+10
  5492 00:0E52: A5 09        	lda	<L202+1
  5493 00:0E54: 85 13        	sta	<L202+1+10
  5494 00:0E56: 2B           	pld
  5495 00:0E57: 3B           	tsc
  5496 00:0E58: 18           	clc
  5497 00:0E59: 69 12 00     	adc	#L202+10
  5498 00:0E5C: 1B           	tcs
  5499 00:0E5D: 6B           	rtl
  5500                        	.endblock	710
  5501             00000008   L202	equ	8
  5502             00000005   L203	equ	5
  5503                        	ends
  5504                        	efunc
  5505                        	.endfunc	710,5,8
  5506                        	.line	710
  5507                        ;
  5508                        ;BOOL consoleWindowProc(PFXOSMESSAGE pMsg)
  Sat Jul 10 2021  1:15                                                Page 102


  5509                        ;{
  5510                        	.line	712
  5511                        	.line	713
  5512                        	code
  5513                        	xdef	~~consoleWindowProc
  5514                        	func
  5515                        	.function	713
  5516                        ~~consoleWindowProc:
  5517                        	longa	on
  5518                        	longi	on
  5519 00:0E5E: 3B           	tsc
  5520 00:0E5F: 38           	sec
  5521 00:0E60: E9 04 00     	sbc	#L210
  5522 00:0E63: 1B           	tcs
  5523 00:0E64: 0B           	phd
  5524 00:0E65: 5B           	tcd
  5525             00000004   pMsg_0	set	4
  5526                        	.block	713
  5527                        ;	PFXPROCESS p = NULL;
  5528                        ;
  5529                        ;	if(pMsg!=NULL)
  5530             00000000   p_1	set	0
  5531                        	.sym	p,0,138,1,32,20
  5532                        	.sym	pMsg,4,138,6,32,16
  5533 00:0E66: 64 01        	stz	<L211+p_1
  5534 00:0E68: 64 03        	stz	<L211+p_1+2
  5535                        	.line	716
  5536                        ;	{
  5537 00:0E6A: A5 08        	lda	<L210+pMsg_0
  5538 00:0E6C: 05 0A        	ora	<L210+pMsg_0+2
  5539 00:0E6E: D0 03        	bne	L213
  5540 00:0E70: 82 66 00     	brl	L10106
  5541                        L213:
  5542                        	.line	717
  5543                        ;		p = k_exec_get_current_process();
  5544                        	.line	718
  5545 00:0E73: 22 xx xx xx  	jsl	~~k_exec_get_current_process
  5546 00:0E77: 85 01        	sta	<L211+p_1
  5547 00:0E79: 86 03        	stx	<L211+p_1+2
  5548                        ;
  5549                        ;		//k_debug_long("consoleWindowProc::Proce
                    ssId:",p->procId);
  5550                        ;
  5551                        ;		switch(pMsg->type)
  5552                        	.line	722
  5553 00:0E7B: A0 08 00     	ldy	#$8
  5554 00:0E7E: B7 08        	lda	[<L210+pMsg_0],Y
  5555 00:0E80: 82 46 00     	brl	L10107
  5556                        ;		{
  5557                        	.line	723
  5558                        ;		case FX_CREATE_WINDOW:
  5559                        	.line	724
  5560                        L10109:
  5561                        ;			k_debug_long("consoleWindowProc:
                    :ProcessId:",p->procId);
  5562                        	.line	725
  5563 00:0E83: A0 04 00     	ldy	#$4
  5564 00:0E86: B7 01        	lda	[<L211+p_1],Y
  Sat Jul 10 2021  1:15                                                Page 103


  5565 00:0E88: 48           	pha
  5566 00:0E89: A0 02 00     	ldy	#$2
  5567 00:0E8C: B7 01        	lda	[<L211+p_1],Y
  5568 00:0E8E: 48           	pha
  5569 00:0E8F: F4 xx xx     	pea	#^L187
  5570 00:0E92: F4 xx xx     	pea	#<L187
  5571 00:0E95: 22 xx xx xx  	jsl	~~k_debug_long
  5572                        ;			k_debug_integer("consoleWindowPr
                    oc::MessageId:",pMsg->type);
  5573                        	.line	726
  5574 00:0E99: A0 08 00     	ldy	#$8
  5575 00:0E9C: B7 08        	lda	[<L210+pMsg_0],Y
  5576 00:0E9E: 48           	pha
  5577 00:0E9F: F4 xx xx     	pea	#^L187+30
  5578 00:0EA2: F4 xx xx     	pea	#<L187+30
  5579 00:0EA5: 22 xx xx xx  	jsl	~~k_debug_integer
  5580                        ;			break;
  5581                        	.line	727
  5582 00:0EA9: 82 2D 00     	brl	L10108
  5583                        ;		case FX_MBUTTON_DOWN:
  5584                        	.line	728
  5585                        L10110:
  5586                        ;			if(pMsg->type!=FX_PROCESS)
  5587                        	.line	729
  5588                        ;			{
  5589 00:0EAC: A0 08 00     	ldy	#$8
  5590 00:0EAF: B7 08        	lda	[<L210+pMsg_0],Y
  5591 00:0EB1: C9 00 FF     	cmp	#<$ff00
  5592 00:0EB4: D0 03        	bne	L214
  5593 00:0EB6: 82 0A 00     	brl	L10111
  5594                        L214:
  5595                        	.line	730
  5596                        ;				//k_debug_integer("conso
                    leWindowProc::ProcessId:",p->procId);
  5597                        ;				k_debug_string("consoleW
                    indowProc::FX_MBUTTON_DOWN\r\n");
  5598                        	.line	732
  5599 00:0EB9: F4 xx xx     	pea	#^L187+60
  5600 00:0EBC: F4 xx xx     	pea	#<L187+60
  5601 00:0EBF: 22 xx xx xx  	jsl	~~k_debug_string
  5602                        ;			}
  5603                        	.line	733
  5604                        ;
  5605                        ;			break;
  5606                        L10111:
  5607                        	.line	735
  5608 00:0EC3: 82 13 00     	brl	L10108
  5609                        ;		default:
  5610                        	.line	736
  5611                        L10112:
  5612                        ;			break;
  5613                        	.line	737
  5614 00:0EC6: 82 10 00     	brl	L10108
  5615                        ;		}
  5616                        	.line	738
  5617                        L10107:
  5618                        	xref	~~~swt
  5619 00:0EC9: 22 xx xx xx  	jsl	~~~swt
  Sat Jul 10 2021  1:15                                                Page 104


  5620 00:0ECD: 02 00        	dw	2
  5621 00:0ECF: 0C 0F        	dw	3852
  5622 00:0ED1: xx xx        	dw	L10110-1
  5623 00:0ED3: 03 FF        	dw	65283
  5624 00:0ED5: xx xx        	dw	L10109-1
  5625 00:0ED7: xx xx        	dw	L10112-1
  5626                        L10108:
  5627                        ;	}
  5628                        	.line	739
  5629                        ;
  5630                        ;	return TRUE;
  5631                        L10106:
  5632                        	.line	741
  5633 00:0ED9: A9 01 00     	lda	#$1
  5634                        L215:
  5635 00:0EDC: A8           	tay
  5636 00:0EDD: A5 06        	lda	<L210+2
  5637 00:0EDF: 85 0A        	sta	<L210+2+4
  5638 00:0EE1: A5 05        	lda	<L210+1
  5639 00:0EE3: 85 09        	sta	<L210+1+4
  5640 00:0EE5: 2B           	pld
  5641 00:0EE6: 3B           	tsc
  5642 00:0EE7: 18           	clc
  5643 00:0EE8: 69 08 00     	adc	#L210+4
  5644 00:0EEB: 1B           	tcs
  5645 00:0EEC: 98           	tya
  5646 00:0EED: 6B           	rtl
  5647                        ;}
  5648                        	.line	742
  5649                        	.endblock	742
  5650             00000004   L210	equ	4
  5651             00000001   L211	equ	1
  5652                        	ends
  5653                        	efunc
  5654                        	.endfunc	742,1,4
  5655                        	.line	742
  5656                        	data
  5657                        L187:
  5658 00:0297: 63 6F 6E 73  	db	$63,$6F,$6E,$73,$6F,$6C,$65,$57,$69,$6E,
                    $64,$6F,$77,$50,$72
       00:029B: 6F 6C 65 57 
       00:029F: 69 6E 64 6F 
       00:02A3: 77 50 72 
  5659 00:02A6: 6F 63 3A 3A  	db	$6F,$63,$3A,$3A,$50,$72,$6F,$63,$65,$73,
                    $73,$49,$64,$3A,$00
       00:02AA: 50 72 6F 63 
       00:02AE: 65 73 73 49 
       00:02B2: 64 3A 00 
  5660 00:02B5: 63 6F 6E 73  	db	$63,$6F,$6E,$73,$6F,$6C,$65,$57,$69,$6E,
                    $64,$6F,$77,$50,$72
       00:02B9: 6F 6C 65 57 
       00:02BD: 69 6E 64 6F 
       00:02C1: 77 50 72 
  5661 00:02C4: 6F 63 3A 3A  	db	$6F,$63,$3A,$3A,$4D,$65,$73,$73,$61,$67,
                    $65,$49,$64,$3A,$00
       00:02C8: 4D 65 73 73 
       00:02CC: 61 67 65 49 
       00:02D0: 64 3A 00 
  Sat Jul 10 2021  1:15                                                Page 105


  5662 00:02D3: 63 6F 6E 73  	db	$63,$6F,$6E,$73,$6F,$6C,$65,$57,$69,$6E,
                    $64,$6F,$77,$50,$72
       00:02D7: 6F 6C 65 57 
       00:02DB: 69 6E 64 6F 
       00:02DF: 77 50 72 
  5663 00:02E2: 6F 63 3A 3A  	db	$6F,$63,$3A,$3A,$46,$58,$5F,$4D,$42,$55,
                    $54,$54,$4F,$4E,$5F
       00:02E6: 46 58 5F 4D 
       00:02EA: 42 55 54 54 
       00:02EE: 4F 4E 5F 
  5664 00:02F1: 44 4F 57 4E  	db	$44,$4F,$57,$4E,$0D,$0A,$00
       00:02F5: 0D 0A 00 
  5665 00:02F8:              	ends
  5666                        ;
  5667                        ;
  5668                        ;void DefConsoleProc(PFXOSMESSAGE pMsg)
  5669                        ;{
  5670                        	.line	745
  5671                        	.line	746
  5672                        	code
  5673                        	xdef	~~DefConsoleProc
  5674                        	func
  5675                        	.function	746
  5676                        ~~DefConsoleProc:
  5677                        	longa	on
  5678                        	longi	on
  5679 00:0EEE: 3B           	tsc
  5680 00:0EEF: 38           	sec
  5681 00:0EF0: E9 30 00     	sbc	#L217
  5682 00:0EF3: 1B           	tcs
  5683 00:0EF4: 0B           	phd
  5684 00:0EF5: 5B           	tcd
  5685             00000004   pMsg_0	set	4
  5686                        	.block	746
  5687                        ;	LPCHAR ptr = NULL;
  5688                        ;	PFXPROCESS p = NULL;
  5689                        ;	PCONSOLECTX pctx = NULL;
  5690                        ;	BYTE decodedKey = 0;
  5691                        ;	int i = 0;
  5692                        ;	int j = 0;
  5693                        ;	int temp1;
  5694                        ;	int temp2;
  5695                        ;	UINT temp3;
  5696                        ;	BYTE serial;
  5697                        ;	PCLICKDETECTED pcd;
  5698                        ;	LPSTR captionText = NULL;
  5699                        ;	PFXNODE  clickNode = NULL;
  5700                        ;
  5701                        ;	//k_debug_string("DefConsoleProc enter\r\n");
  5702                        ;	if(pMsg!=NULL)
  5703             00000000   ptr_1	set	0
  5704             00000004   p_1	set	4
  5705             00000008   pctx_1	set	8
  5706             0000000C   decodedKey_1	set	12
  5707             0000000D   i_1	set	13
  5708             0000000F   j_1	set	15
  5709             00000011   temp1_1	set	17
  5710             00000013   temp2_1	set	19
  Sat Jul 10 2021  1:15                                                Page 106


  5711             00000015   temp3_1	set	21
  5712             00000017   serial_1	set	23
  5713             00000018   pcd_1	set	24
  5714             0000001C   captionText_1	set	28
  5715             00000020   clickNode_1	set	32
  5716                        	.sym	ptr,0,142,1,32
  5717                        	.sym	p,4,138,1,32,20
  5718                        	.sym	pctx,8,138,1,32,82
  5719                        	.sym	decodedKey,12,14,1,8
  5720                        	.sym	i,13,5,1,16
  5721                        	.sym	j,15,5,1,16
  5722                        	.sym	temp1,17,5,1,16
  5723                        	.sym	temp2,19,5,1,16
  5724                        	.sym	temp3,21,16,1,16
  5725                        	.sym	serial,23,14,1,8
  5726                        	.sym	pcd,24,138,1,32,68
  5727                        	.sym	captionText,28,142,1,32
  5728                        	.sym	clickNode,32,138,1,32,5
  5729                        	.sym	pMsg,4,138,6,32,16
  5730 00:0EF6: 64 0D        	stz	<L218+ptr_1
  5731 00:0EF8: 64 0F        	stz	<L218+ptr_1+2
  5732 00:0EFA: 64 11        	stz	<L218+p_1
  5733 00:0EFC: 64 13        	stz	<L218+p_1+2
  5734 00:0EFE: 64 15        	stz	<L218+pctx_1
  5735 00:0F00: 64 17        	stz	<L218+pctx_1+2
  5736 00:0F02: E2 20        	sep	#$20
  5737                        	longa	off
  5738 00:0F04: 64 19        	stz	<L218+decodedKey_1
  5739 00:0F06: C2 20        	rep	#$20
  5740                        	longa	on
  5741 00:0F08: 64 1A        	stz	<L218+i_1
  5742 00:0F0A: 64 1C        	stz	<L218+j_1
  5743 00:0F0C: 64 29        	stz	<L218+captionText_1
  5744 00:0F0E: 64 2B        	stz	<L218+captionText_1+2
  5745 00:0F10: 64 2D        	stz	<L218+clickNode_1
  5746 00:0F12: 64 2F        	stz	<L218+clickNode_1+2
  5747                        	.line	762
  5748                        ;	{
  5749 00:0F14: A5 34        	lda	<L217+pMsg_0
  5750 00:0F16: 05 36        	ora	<L217+pMsg_0+2
  5751 00:0F18: D0 03        	bne	L220
  5752 00:0F1A: 82 A0 12     	brl	L10113
  5753                        L220:
  5754                        	.line	763
  5755                        ;		p = k_exec_get_current_process();
  5756                        	.line	764
  5757 00:0F1D: 22 xx xx xx  	jsl	~~k_exec_get_current_process
  5758 00:0F21: 85 11        	sta	<L218+p_1
  5759 00:0F23: 86 13        	stx	<L218+p_1+2
  5760                        ;
  5761                        ;		if(p)
  5762                        	.line	766
  5763                        ;		{
  5764 00:0F25: A5 11        	lda	<L218+p_1
  5765 00:0F27: 05 13        	ora	<L218+p_1+2
  5766 00:0F29: D0 03        	bne	L221
  5767 00:0F2B: 82 0E 00     	brl	L10114
  5768                        L221:
  Sat Jul 10 2021  1:15                                                Page 107


  5769                        	.line	767
  5770                        ;			pctx = (PCONSOLECTX)p->ctx;
  5771                        	.line	768
  5772 00:0F2E: A0 0A 00     	ldy	#$a
  5773 00:0F31: B7 11        	lda	[<L218+p_1],Y
  5774 00:0F33: 85 15        	sta	<L218+pctx_1
  5775 00:0F35: A0 0C 00     	ldy	#$c
  5776 00:0F38: B7 11        	lda	[<L218+p_1],Y
  5777 00:0F3A: 85 17        	sta	<L218+pctx_1+2
  5778                        ;			//k_debug_pointer("DefConsolePro
                    c::pctx:",pctx);
  5779                        ;			//k_debug_pointer("DefConsolePro
                    c::pctx->userData:",pctx->userData);
  5780                        ;		}
  5781                        	.line	771
  5782                        ;
  5783                        ;		switch(pMsg->type)
  5784                        L10114:
  5785                        	.line	773
  5786 00:0F3C: A0 08 00     	ldy	#$8
  5787 00:0F3F: B7 34        	lda	[<L217+pMsg_0],Y
  5788 00:0F41: 82 21 12     	brl	L10115
  5789                        ;		{
  5790                        	.line	774
  5791                        ;		case FX_INIT_MESSAGE:
  5792                        	.line	775
  5793                        L10117:
  5794                        ;			if(p!=NULL)
  5795                        	.line	776
  5796                        ;			{
  5797 00:0F44: A5 11        	lda	<L218+p_1
  5798 00:0F46: 05 13        	ora	<L218+p_1+2
  5799 00:0F48: D0 03        	bne	L222
  5800 00:0F4A: 82 D2 02     	brl	L10118
  5801                        L222:
  5802                        	.line	777
  5803                        ;				k_debug_long("DefConsole
                    Proc::ProcessId:",p->procId);
  5804                        	.line	778
  5805 00:0F4D: A0 04 00     	ldy	#$4
  5806 00:0F50: B7 11        	lda	[<L218+p_1],Y
  5807 00:0F52: 48           	pha
  5808 00:0F53: A0 02 00     	ldy	#$2
  5809 00:0F56: B7 11        	lda	[<L218+p_1],Y
  5810 00:0F58: 48           	pha
  5811 00:0F59: F4 xx xx     	pea	#^L216
  5812 00:0F5C: F4 xx xx     	pea	#<L216
  5813 00:0F5F: 22 xx xx xx  	jsl	~~k_debug_long
  5814                        ;
  5815                        ;				k_clear_screen(0);
  5816                        	.line	780
  5817 00:0F63: F4 00 00     	pea	#<$0
  5818 00:0F66: 22 xx xx xx  	jsl	~~k_clear_screen
  5819                        ;
  5820                        ;				p->consoleCtl = (PCONSOL
                    E_CONTROL)k_mem_allocate_heap(sizeof(CONSOLE_CONTROL));
  5821                        	.line	782
  5822 00:0F6A: F4 38 00     	pea	#<$38
  Sat Jul 10 2021  1:15                                                Page 108


  5823 00:0F6D: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  5824 00:0F71: 85 01        	sta	<R0
  5825 00:0F73: 86 03        	stx	<R0+2
  5826 00:0F75: A5 01        	lda	<R0
  5827 00:0F77: A0 54 00     	ldy	#$54
  5828 00:0F7A: 97 11        	sta	[<L218+p_1],Y
  5829 00:0F7C: A5 03        	lda	<R0+2
  5830 00:0F7E: A0 56 00     	ldy	#$56
  5831 00:0F81: 97 11        	sta	[<L218+p_1],Y
  5832                        ;				if(p->consoleCtl!=NULL)
  5833                        	.line	783
  5834                        ;				{
  5835 00:0F83: A0 54 00     	ldy	#$54
  5836 00:0F86: B7 11        	lda	[<L218+p_1],Y
  5837 00:0F88: A0 56 00     	ldy	#$56
  5838 00:0F8B: 17 11        	ora	[<L218+p_1],Y
  5839 00:0F8D: D0 03        	bne	L223
  5840 00:0F8F: 82 8A 02     	brl	L10119
  5841                        L223:
  5842                        	.line	784
  5843                        ;					p->consoleCtl->b
                    gColor = 0;
  5844                        	.line	785
  5845 00:0F92: A0 54 00     	ldy	#$54
  5846 00:0F95: B7 11        	lda	[<L218+p_1],Y
  5847 00:0F97: 85 01        	sta	<R0
  5848 00:0F99: A0 56 00     	ldy	#$56
  5849 00:0F9C: B7 11        	lda	[<L218+p_1],Y
  5850 00:0F9E: 85 03        	sta	<R0+2
  5851 00:0FA0: A9 00 00     	lda	#$0
  5852 00:0FA3: A0 0A 00     	ldy	#$a
  5853 00:0FA6: 97 01        	sta	[<R0],Y
  5854                        ;					p->consoleCtl->c
                    urX    = 0;
  5855                        	.line	786
  5856 00:0FA8: A0 54 00     	ldy	#$54
  5857 00:0FAB: B7 11        	lda	[<L218+p_1],Y
  5858 00:0FAD: 85 01        	sta	<R0
  5859 00:0FAF: A0 56 00     	ldy	#$56
  5860 00:0FB2: B7 11        	lda	[<L218+p_1],Y
  5861 00:0FB4: 85 03        	sta	<R0+2
  5862 00:0FB6: A9 00 00     	lda	#$0
  5863 00:0FB9: A0 04 00     	ldy	#$4
  5864 00:0FBC: 97 01        	sta	[<R0],Y
  5865                        ;					p->consoleCtl->c
                    urY    = 0;
  5866                        	.line	787
  5867 00:0FBE: A0 54 00     	ldy	#$54
  5868 00:0FC1: B7 11        	lda	[<L218+p_1],Y
  5869 00:0FC3: 85 01        	sta	<R0
  5870 00:0FC5: A0 56 00     	ldy	#$56
  5871 00:0FC8: B7 11        	lda	[<L218+p_1],Y
  5872 00:0FCA: 85 03        	sta	<R0+2
  5873 00:0FCC: A9 00 00     	lda	#$0
  5874 00:0FCF: A0 06 00     	ldy	#$6
  5875 00:0FD2: 97 01        	sta	[<R0],Y
  5876                        ;					p->consoleCtl->f
                    gColor = 15;
  Sat Jul 10 2021  1:15                                                Page 109


  5877                        	.line	788
  5878 00:0FD4: A0 54 00     	ldy	#$54
  5879 00:0FD7: B7 11        	lda	[<L218+p_1],Y
  5880 00:0FD9: 85 01        	sta	<R0
  5881 00:0FDB: A0 56 00     	ldy	#$56
  5882 00:0FDE: B7 11        	lda	[<L218+p_1],Y
  5883 00:0FE0: 85 03        	sta	<R0+2
  5884 00:0FE2: A9 0F 00     	lda	#$f
  5885 00:0FE5: A0 08 00     	ldy	#$8
  5886 00:0FE8: 97 01        	sta	[<R0],Y
  5887                        ;					p->consoleCtl->m
                    axCols = k_get_cols_visible();
  5888                        	.line	789
  5889 00:0FEA: A0 54 00     	ldy	#$54
  5890 00:0FED: B7 11        	lda	[<L218+p_1],Y
  5891 00:0FEF: 85 01        	sta	<R0
  5892 00:0FF1: A0 56 00     	ldy	#$56
  5893 00:0FF4: B7 11        	lda	[<L218+p_1],Y
  5894 00:0FF6: 85 03        	sta	<R0+2
  5895 00:0FF8: 22 xx xx xx  	jsl	~~k_get_cols_visible
  5896 00:0FFC: 87 01        	sta	[<R0]
  5897                        ;					p->consoleCtl->m
                    axRows = k_get_lines_visible();
  5898                        	.line	790
  5899 00:0FFE: A0 54 00     	ldy	#$54
  5900 00:1001: B7 11        	lda	[<L218+p_1],Y
  5901 00:1003: 85 01        	sta	<R0
  5902 00:1005: A0 56 00     	ldy	#$56
  5903 00:1008: B7 11        	lda	[<L218+p_1],Y
  5904 00:100A: 85 03        	sta	<R0+2
  5905 00:100C: 22 xx xx xx  	jsl	~~k_get_lines_visible
  5906 00:1010: A0 02 00     	ldy	#$2
  5907 00:1013: 97 01        	sta	[<R0],Y
  5908                        ;					p->consoleCtl->d
                    esktopMode = FALSE;
  5909                        	.line	791
  5910 00:1015: A0 54 00     	ldy	#$54
  5911 00:1018: B7 11        	lda	[<L218+p_1],Y
  5912 00:101A: 85 01        	sta	<R0
  5913 00:101C: A0 56 00     	ldy	#$56
  5914 00:101F: B7 11        	lda	[<L218+p_1],Y
  5915 00:1021: 85 03        	sta	<R0+2
  5916 00:1023: E2 20        	sep	#$20
  5917                        	longa	off
  5918 00:1025: A9 00        	lda	#$0
  5919 00:1027: A0 31 00     	ldy	#$31
  5920 00:102A: 97 01        	sta	[<R0],Y
  5921 00:102C: C2 20        	rep	#$20
  5922                        	longa	on
  5923                        ;
  5924                        ;					k_set_cursor_pos
                    ition(p->consoleCtl->curX,p->consoleCtl->curY);
  5925                        	.line	793
  5926 00:102E: A0 54 00     	ldy	#$54
  5927 00:1031: B7 11        	lda	[<L218+p_1],Y
  5928 00:1033: 85 01        	sta	<R0
  5929 00:1035: A0 56 00     	ldy	#$56
  5930 00:1038: B7 11        	lda	[<L218+p_1],Y
  Sat Jul 10 2021  1:15                                                Page 110


  5931 00:103A: 85 03        	sta	<R0+2
  5932 00:103C: A0 06 00     	ldy	#$6
  5933 00:103F: B7 01        	lda	[<R0],Y
  5934 00:1041: 48           	pha
  5935 00:1042: A0 54 00     	ldy	#$54
  5936 00:1045: B7 11        	lda	[<L218+p_1],Y
  5937 00:1047: 85 01        	sta	<R0
  5938 00:1049: A0 56 00     	ldy	#$56
  5939 00:104C: B7 11        	lda	[<L218+p_1],Y
  5940 00:104E: 85 03        	sta	<R0+2
  5941 00:1050: A0 04 00     	ldy	#$4
  5942 00:1053: B7 01        	lda	[<R0],Y
  5943 00:1055: 48           	pha
  5944 00:1056: 22 xx xx xx  	jsl	~~k_set_cursor_position
  5945                        ;
  5946                        ;					k_debug_integer(
                    "maxCols:",p->consoleCtl->maxCols);
  5947                        	.line	795
  5948 00:105A: A0 54 00     	ldy	#$54
  5949 00:105D: B7 11        	lda	[<L218+p_1],Y
  5950 00:105F: 85 01        	sta	<R0
  5951 00:1061: A0 56 00     	ldy	#$56
  5952 00:1064: B7 11        	lda	[<L218+p_1],Y
  5953 00:1066: 85 03        	sta	<R0+2
  5954 00:1068: A7 01        	lda	[<R0]
  5955 00:106A: 48           	pha
  5956 00:106B: F4 xx xx     	pea	#^L216+27
  5957 00:106E: F4 xx xx     	pea	#<L216+27
  5958 00:1071: 22 xx xx xx  	jsl	~~k_debug_integer
  5959                        ;					k_debug_integer(
                    "maxRows:",p->consoleCtl->maxRows);
  5960                        	.line	796
  5961 00:1075: A0 54 00     	ldy	#$54
  5962 00:1078: B7 11        	lda	[<L218+p_1],Y
  5963 00:107A: 85 01        	sta	<R0
  5964 00:107C: A0 56 00     	ldy	#$56
  5965 00:107F: B7 11        	lda	[<L218+p_1],Y
  5966 00:1081: 85 03        	sta	<R0+2
  5967 00:1083: A0 02 00     	ldy	#$2
  5968 00:1086: B7 01        	lda	[<R0],Y
  5969 00:1088: 48           	pha
  5970 00:1089: F4 xx xx     	pea	#^L216+36
  5971 00:108C: F4 xx xx     	pea	#<L216+36
  5972 00:108F: 22 xx xx xx  	jsl	~~k_debug_integer
  5973                        ;
  5974                        ;					for(i=0;i<56;i++
                    )
  5975                        	.line	798
  5976 00:1093: 64 1A        	stz	<L218+i_1
  5977                        L10122:
  5978                        ;						for(j=0;
                    j<72;j++)
  5979                        	.line	799
  5980 00:1095: 64 1C        	stz	<L218+j_1
  5981                        L10125:
  5982                        ;							
                    consoleBuffer[i][j] = 0;
  5983                        	.line	800
  Sat Jul 10 2021  1:15                                                Page 111


  5984 00:1097: A5 1C        	lda	<L218+j_1
  5985 00:1099: 0A           	asl	A
  5986 00:109A: 85 01        	sta	<R0
  5987 00:109C: A5 1A        	lda	<L218+i_1
  5988 00:109E: A2 90 00     	ldx	#<$90
  5989                        	xref	~~~mul
  5990 00:10A1: 22 xx xx xx  	jsl	~~~mul
  5991 00:10A5: 85 05        	sta	<R1
  5992 00:10A7: 18           	clc
  5993 00:10A8: A5 05        	lda	<R1
  5994 00:10AA: 65 01        	adc	<R0
  5995 00:10AC: 85 09        	sta	<R2
  5996 00:10AE: A9 00 00     	lda	#$0
  5997 00:10B1: A6 09        	ldx	<R2
  5998 00:10B3: 9D xx xx     	sta	|~~consoleBuffer,X
  5999                        L10123:
  6000 00:10B6: E6 1C        	inc	<L218+j_1
  6001 00:10B8: 38           	sec
  6002 00:10B9: A5 1C        	lda	<L218+j_1
  6003 00:10BB: E9 48 00     	sbc	#<$48
  6004 00:10BE: 70 03        	bvs	L224
  6005 00:10C0: 49 00 80     	eor	#$8000
  6006                        L224:
  6007 00:10C3: 30 03        	bmi	L225
  6008 00:10C5: 82 CF FF     	brl	L10125
  6009                        L225:
  6010                        L10124:
  6011                        L10120:
  6012 00:10C8: E6 1A        	inc	<L218+i_1
  6013 00:10CA: 38           	sec
  6014 00:10CB: A5 1A        	lda	<L218+i_1
  6015 00:10CD: E9 38 00     	sbc	#<$38
  6016 00:10D0: 70 03        	bvs	L226
  6017 00:10D2: 49 00 80     	eor	#$8000
  6018                        L226:
  6019 00:10D5: 30 03        	bmi	L227
  6020 00:10D7: 82 BB FF     	brl	L10122
  6021                        L227:
  6022                        L10121:
  6023                        ;
  6024                        ;					p->ctx = k_mem_a
                    llocate_heap(sizeof(CONSOLECTX));
  6025                        	.line	802
  6026 00:10DA: F4 8F 00     	pea	#<$8f
  6027 00:10DD: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  6028 00:10E1: 85 01        	sta	<R0
  6029 00:10E3: 86 03        	stx	<R0+2
  6030 00:10E5: A5 01        	lda	<R0
  6031 00:10E7: A0 0A 00     	ldy	#$a
  6032 00:10EA: 97 11        	sta	[<L218+p_1],Y
  6033 00:10EC: A5 03        	lda	<R0+2
  6034 00:10EE: A0 0C 00     	ldy	#$c
  6035 00:10F1: 97 11        	sta	[<L218+p_1],Y
  6036                        ;					if(p->ctx!=NULL)
  6037                        	.line	803
  6038                        ;					{
  6039 00:10F3: A0 0A 00     	ldy	#$a
  6040 00:10F6: B7 11        	lda	[<L218+p_1],Y
  Sat Jul 10 2021  1:15                                                Page 112


  6041 00:10F8: A0 0C 00     	ldy	#$c
  6042 00:10FB: 17 11        	ora	[<L218+p_1],Y
  6043 00:10FD: D0 03        	bne	L228
  6044 00:10FF: 82 F7 00     	brl	L10126
  6045                        L228:
  6046                        	.line	804
  6047                        ;						k_debug_
                    pointer("DefConsoleProc::pctx:",p->ctx);
  6048                        	.line	805
  6049 00:1102: A0 0C 00     	ldy	#$c
  6050 00:1105: B7 11        	lda	[<L218+p_1],Y
  6051 00:1107: 48           	pha
  6052 00:1108: A0 0A 00     	ldy	#$a
  6053 00:110B: B7 11        	lda	[<L218+p_1],Y
  6054 00:110D: 48           	pha
  6055 00:110E: F4 xx xx     	pea	#^L216+45
  6056 00:1111: F4 xx xx     	pea	#<L216+45
  6057 00:1114: 22 xx xx xx  	jsl	~~k_debug_pointer
  6058                        ;
  6059                        ;						pctx = (
                    PCONSOLECTX)p->ctx;
  6060                        	.line	807
  6061 00:1118: A0 0A 00     	ldy	#$a
  6062 00:111B: B7 11        	lda	[<L218+p_1],Y
  6063 00:111D: 85 15        	sta	<L218+pctx_1
  6064 00:111F: A0 0C 00     	ldy	#$c
  6065 00:1122: B7 11        	lda	[<L218+p_1],Y
  6066 00:1124: 85 17        	sta	<L218+pctx_1+2
  6067                        ;						memset(p
                    ctx->lineBuffer,0,128);
  6068                        	.line	808
  6069 00:1126: F4 80 00     	pea	#<$80
  6070 00:1129: F4 00 00     	pea	#<$0
  6071 00:112C: 18           	clc
  6072 00:112D: A9 02 00     	lda	#$2
  6073 00:1130: 65 15        	adc	<L218+pctx_1
  6074 00:1132: 85 01        	sta	<R0
  6075 00:1134: A9 00 00     	lda	#$0
  6076 00:1137: 65 17        	adc	<L218+pctx_1+2
  6077 00:1139: 85 03        	sta	<R0+2
  6078 00:113B: D4 03        	pei	<R0+2
  6079 00:113D: D4 01        	pei	<R0
  6080 00:113F: 22 xx xx xx  	jsl	~~memset
  6081                        ;						pctx->li
                    neBufferIndex = 0;
  6082                        	.line	809
  6083 00:1143: A9 00 00     	lda	#$0
  6084 00:1146: 87 15        	sta	[<L218+pctx_1]
  6085                        ;
  6086                        ;						pctx->us
                    erData = k_mem_allocate_heap(sizeof(FXCOMBUFFER));
  6087                        	.line	811
  6088 00:1148: F4 04 01     	pea	#<$104
  6089 00:114B: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  6090 00:114F: 85 01        	sta	<R0
  6091 00:1151: 86 03        	stx	<R0+2
  6092 00:1153: A5 01        	lda	<R0
  6093 00:1155: A0 83 00     	ldy	#$83
  Sat Jul 10 2021  1:15                                                Page 113


  6094 00:1158: 97 15        	sta	[<L218+pctx_1],Y
  6095 00:115A: A5 03        	lda	<R0+2
  6096 00:115C: A0 85 00     	ldy	#$85
  6097 00:115F: 97 15        	sta	[<L218+pctx_1],Y
  6098                        ;						k_debug_
                    pointer("DefConsoleProc::pctx->userData:",pctx->userData);
  6099                        	.line	812
  6100 00:1161: A0 85 00     	ldy	#$85
  6101 00:1164: B7 15        	lda	[<L218+pctx_1],Y
  6102 00:1166: 48           	pha
  6103 00:1167: A0 83 00     	ldy	#$83
  6104 00:116A: B7 15        	lda	[<L218+pctx_1],Y
  6105 00:116C: 48           	pha
  6106 00:116D: F4 xx xx     	pea	#^L216+67
  6107 00:1170: F4 xx xx     	pea	#<L216+67
  6108 00:1173: 22 xx xx xx  	jsl	~~k_debug_pointer
  6109                        ;
  6110                        ;						if(pctx-
                    >userData)
  6111                        	.line	814
  6112                        ;							
                    memset(pctx->userData ,0,sizeof(FXCOMBUFFER));
  6113 00:1177: A0 83 00     	ldy	#$83
  6114 00:117A: B7 15        	lda	[<L218+pctx_1],Y
  6115 00:117C: A0 85 00     	ldy	#$85
  6116 00:117F: 17 15        	ora	[<L218+pctx_1],Y
  6117 00:1181: D0 03        	bne	L229
  6118 00:1183: 82 16 00     	brl	L10127
  6119                        L229:
  6120                        	.line	815
  6121 00:1186: F4 04 01     	pea	#<$104
  6122 00:1189: F4 00 00     	pea	#<$0
  6123 00:118C: A0 85 00     	ldy	#$85
  6124 00:118F: B7 15        	lda	[<L218+pctx_1],Y
  6125 00:1191: 48           	pha
  6126 00:1192: A0 83 00     	ldy	#$83
  6127 00:1195: B7 15        	lda	[<L218+pctx_1],Y
  6128 00:1197: 48           	pha
  6129 00:1198: 22 xx xx xx  	jsl	~~memset
  6130                        ;
  6131                        ;						((PFXCOM
                    BUFFER)(pctx->userData))->cbSize = sizeof(FXCOMBUFFER);
  6132                        L10127:
  6133                        	.line	817
  6134 00:119C: A0 83 00     	ldy	#$83
  6135 00:119F: B7 15        	lda	[<L218+pctx_1],Y
  6136 00:11A1: 85 01        	sta	<R0
  6137 00:11A3: A0 85 00     	ldy	#$85
  6138 00:11A6: B7 15        	lda	[<L218+pctx_1],Y
  6139 00:11A8: 85 03        	sta	<R0+2
  6140 00:11AA: A9 04 01     	lda	#$104
  6141 00:11AD: 87 01        	sta	[<R0]
  6142                        ;						((PFXCOM
                    BUFFER)(pctx->userData))->cbBuffer = 0;
  6143                        	.line	818
  6144 00:11AF: A0 83 00     	ldy	#$83
  6145 00:11B2: B7 15        	lda	[<L218+pctx_1],Y
  6146 00:11B4: 85 01        	sta	<R0
  Sat Jul 10 2021  1:15                                                Page 114


  6147 00:11B6: A0 85 00     	ldy	#$85
  6148 00:11B9: B7 15        	lda	[<L218+pctx_1],Y
  6149 00:11BB: 85 03        	sta	<R0+2
  6150 00:11BD: A9 00 00     	lda	#$0
  6151 00:11C0: A0 02 00     	ldy	#$2
  6152 00:11C3: 97 01        	sta	[<R0],Y
  6153                        ;						k_debug_
                    long("DefConsoleProc::ProcessId:",p->procId);
  6154                        	.line	819
  6155 00:11C5: A0 04 00     	ldy	#$4
  6156 00:11C8: B7 11        	lda	[<L218+p_1],Y
  6157 00:11CA: 48           	pha
  6158 00:11CB: A0 02 00     	ldy	#$2
  6159 00:11CE: B7 11        	lda	[<L218+p_1],Y
  6160 00:11D0: 48           	pha
  6161 00:11D1: F4 xx xx     	pea	#^L216+99
  6162 00:11D4: F4 xx xx     	pea	#<L216+99
  6163 00:11D7: 22 xx xx xx  	jsl	~~k_debug_long
  6164                        ;						k_debug_
                    integer("DefConsoleProc::FX_PROCESS:COM1-COUNT:",((PFXCOMBUF
                    FER)(pctx->userData))->cbBuffer);
  6165                        	.line	820
  6166 00:11DB: A0 83 00     	ldy	#$83
  6167 00:11DE: B7 15        	lda	[<L218+pctx_1],Y
  6168 00:11E0: 85 01        	sta	<R0
  6169 00:11E2: A0 85 00     	ldy	#$85
  6170 00:11E5: B7 15        	lda	[<L218+pctx_1],Y
  6171 00:11E7: 85 03        	sta	<R0+2
  6172 00:11E9: A0 02 00     	ldy	#$2
  6173 00:11EC: B7 01        	lda	[<R0],Y
  6174 00:11EE: 48           	pha
  6175 00:11EF: F4 xx xx     	pea	#^L216+126
  6176 00:11F2: F4 xx xx     	pea	#<L216+126
  6177 00:11F5: 22 xx xx xx  	jsl	~~k_debug_integer
  6178                        ;
  6179                        ;					}
  6180                        	.line	822
  6181                        ;
  6182                        ;					k_initialize_tex
                    t_fonts(0);
  6183                        L10126:
  6184                        	.line	824
  6185 00:11F9: F4 00 00     	pea	#<$0
  6186 00:11FC: 22 xx xx xx  	jsl	~~k_initialize_text_fonts
  6187                        ;
  6188                        ;					k_enable_text_mo
                    de();
  6189                        	.line	826
  6190 00:1200: 22 xx xx xx  	jsl	~~k_enable_text_mode
  6191                        ;					setColors();
  6192                        	.line	827
  6193 00:1204: 22 xx xx xx  	jsl	~~setColors
  6194                        ;
  6195                        ;					//k_enable_text_
                    cursor(1);
  6196                        ;					k_enable_text_cu
                    rsor(0);
  6197                        	.line	830
  Sat Jul 10 2021  1:15                                                Page 115


  6198 00:1208: F4 00 00     	pea	#<$0
  6199 00:120B: 22 xx xx xx  	jsl	~~k_enable_text_cursor
  6200                        ;
  6201                        ;
  6202                        ;					//k_set_cursor_p
                    osition(p->consoleCtl->curX,
  6203                        ;					//		
                                  p->consoleCtl->curY);
  6204                        ;					//k_set_cursor_p
                    osition(20,20);
  6205                        ;
  6206                        ;
  6207                        ;					k_debug_integer(
                    "DefConsoleProc::Initial-lineBufferIndex:",pctx->lineBufferI
                    ndex);
  6208                        	.line	838
  6209 00:120F: A7 15        	lda	[<L218+pctx_1]
  6210 00:1211: 48           	pha
  6211 00:1212: F4 xx xx     	pea	#^L216+165
  6212 00:1215: F4 xx xx     	pea	#<L216+165
  6213 00:1218: 22 xx xx xx  	jsl	~~k_debug_integer
  6214                        ;
  6215                        ;
  6216                        ;					//k_user_CreateW
                    indowClass("consoleWindowClass",NULL,0,NULL,NULL,NULL,consol
                    eWindowProc);
  6217                        ;
  6218                        ;					//UART1_BASE[1] 
                    = 0x01;
  6219                        ;
  6220                        ;				}
  6221                        	.line	845
  6222                        ;			}
  6223                        L10119:
  6224                        	.line	846
  6225                        ;			else
  6226 00:121C: 82 0A 00     	brl	L10128
  6227                        L10118:
  6228                        ;				k_debug_string("DefConso
                    leProc::FX_INIT_MESSAGE\r\n");
  6229                        	.line	848
  6230 00:121F: F4 xx xx     	pea	#^L216+206
  6231 00:1222: F4 xx xx     	pea	#<L216+206
  6232 00:1225: 22 xx xx xx  	jsl	~~k_debug_string
  6233                        L10128:
  6234                        ;			k_init_spinner(&consolespinctx);
  6235                        	.line	849
  6236 00:1229: A9 xx xx     	lda	#<~~consolespinctx
  6237 00:122C: 85 01        	sta	<R0
  6238                        	xref	_BEG_DATA
  6239 00:122E: A9 xx xx     	lda	#_BEG_DATA>>16
  6240 00:1231: 85 03        	sta	<R0+2
  6241 00:1233: D4 03        	pei	<R0+2
  6242 00:1235: D4 01        	pei	<R0
  6243 00:1237: 22 xx xx xx  	jsl	~~k_init_spinner
  6244                        ;			break;
  6245                        	.line	850
  6246 00:123B: 82 7F 0F     	brl	L10116
  Sat Jul 10 2021  1:15                                                Page 116


  6247                        ;		case FX_UNINIT_MESSAGE:
  6248                        	.line	851
  6249                        L10129:
  6250                        ;			break;
  6251                        	.line	852
  6252 00:123E: 82 7C 0F     	brl	L10116
  6253                        ;		case FX_KEY_UP:
  6254                        	.line	853
  6255                        L10130:
  6256                        ;			//k_debug_integer("DefConsolePro
                    c::FX_KEY_UP0:",pMsg->data[0]);
  6257                        ;			//k_debug_integer("DefConsolePro
                    c::FX_KEY_UP1:",pMsg->data[1]);
  6258                        ;			//k_debug_integer("DefConsolePro
                    c::FX_KEY_UP2:",pMsg->data[2]);
  6259                        ;			//k_debug_integer("DefConsolePro
                    c::isShifted:",pctx->isShifted);
  6260                        ;			if(pMsg->data[0] == 182 || pMsg-
                    >data[0] == 170)
  6261                        	.line	858
  6262                        ;			{
  6263 00:1241: E2 20        	sep	#$20
  6264                        	longa	off
  6265 00:1243: A0 16 00     	ldy	#$16
  6266 00:1246: B7 34        	lda	[<L217+pMsg_0],Y
  6267 00:1248: C9 B6        	cmp	#<$b6
  6268 00:124A: C2 20        	rep	#$20
  6269                        	longa	on
  6270 00:124C: D0 03        	bne	L231
  6271 00:124E: 82 10 00     	brl	L230
  6272                        L231:
  6273 00:1251: E2 20        	sep	#$20
  6274                        	longa	off
  6275 00:1253: A0 16 00     	ldy	#$16
  6276 00:1256: B7 34        	lda	[<L217+pMsg_0],Y
  6277 00:1258: C9 AA        	cmp	#<$aa
  6278 00:125A: C2 20        	rep	#$20
  6279                        	longa	on
  6280 00:125C: F0 03        	beq	L232
  6281 00:125E: 82 0E 00     	brl	L10131
  6282                        L232:
  6283                        L230:
  6284                        	.line	859
  6285                        ;				pctx->isShifted = FALSE;
  6286                        	.line	860
  6287 00:1261: E2 20        	sep	#$20
  6288                        	longa	off
  6289 00:1263: A9 00        	lda	#$0
  6290 00:1265: A0 82 00     	ldy	#$82
  6291 00:1268: 97 15        	sta	[<L218+pctx_1],Y
  6292 00:126A: C2 20        	rep	#$20
  6293                        	longa	on
  6294                        ;			}
  6295                        	.line	861
  6296                        ;			else
  6297 00:126C: 82 00 00     	brl	L10132
  6298                        L10131:
  6299                        ;			{
  Sat Jul 10 2021  1:15                                                Page 117


  6300                        	.line	863
  6301                        ;
  6302                        ;			}
  6303                        	.line	865
  6304                        L10132:
  6305                        ;			break;
  6306                        	.line	866
  6307 00:126F: 82 4B 0F     	brl	L10116
  6308                        ;		case FX_KEY_DOWN:
  6309                        	.line	867
  6310                        L10133:
  6311                        ;			//if(p!=NULL)
  6312                        ;			//	k_debug_integer("DefCons
                    oleProc::ProcessId:",p->procId);
  6313                        ;			//k_debug_integer("DefConsolePro
                    c::FX_KEY_DOWN0:",pMsg->data[0]);
  6314                        ;			//k_debug_integer("DefConsolePro
                    c::FX_KEY_DOWN1:",pMsg->data[1]);
  6315                        ;			//k_debug_integer("DefConsolePro
                    c::FX_KEY_DOWN2:",pMsg->data[2]);
  6316                        ;			//k_debug_integer("DefConsolePro
                    c::isShifted:",pctx->isShifted);
  6317                        ;
  6318                        ;			//k_debug_integer("DefConsolePro
                    c::curX:",p->consoleCtl->curX);
  6319                        ;			//k_debug_integer("DefConsolePro
                    c::curY:",p->consoleCtl->curY);
  6320                        ;
  6321                        ;			if(pMsg->data[0] == 54 || pMsg->
                    data[0] == 42)
  6322                        	.line	878
  6323                        ;			{
  6324 00:1272: E2 20        	sep	#$20
  6325                        	longa	off
  6326 00:1274: A0 16 00     	ldy	#$16
  6327 00:1277: B7 34        	lda	[<L217+pMsg_0],Y
  6328 00:1279: C9 36        	cmp	#<$36
  6329 00:127B: C2 20        	rep	#$20
  6330                        	longa	on
  6331 00:127D: D0 03        	bne	L234
  6332 00:127F: 82 10 00     	brl	L233
  6333                        L234:
  6334 00:1282: E2 20        	sep	#$20
  6335                        	longa	off
  6336 00:1284: A0 16 00     	ldy	#$16
  6337 00:1287: B7 34        	lda	[<L217+pMsg_0],Y
  6338 00:1289: C9 2A        	cmp	#<$2a
  6339 00:128B: C2 20        	rep	#$20
  6340                        	longa	on
  6341 00:128D: F0 03        	beq	L235
  6342 00:128F: 82 0E 00     	brl	L10134
  6343                        L235:
  6344                        L233:
  6345                        	.line	879
  6346                        ;				pctx->isShifted = TRUE;
  6347                        	.line	880
  6348 00:1292: E2 20        	sep	#$20
  6349                        	longa	off
  Sat Jul 10 2021  1:15                                                Page 118


  6350 00:1294: A9 01        	lda	#$1
  6351 00:1296: A0 82 00     	ldy	#$82
  6352 00:1299: 97 15        	sta	[<L218+pctx_1],Y
  6353 00:129B: C2 20        	rep	#$20
  6354                        	longa	on
  6355                        ;			}
  6356                        	.line	881
  6357                        ;			else
  6358 00:129D: 82 59 04     	brl	L10135
  6359                        L10134:
  6360                        ;			{
  6361                        	.line	883
  6362                        ;				if(pMsg->data[2] == 13)
  6363                        	.line	884
  6364                        ;				{
  6365 00:12A0: E2 20        	sep	#$20
  6366                        	longa	off
  6367 00:12A2: A0 18 00     	ldy	#$18
  6368 00:12A5: B7 34        	lda	[<L217+pMsg_0],Y
  6369 00:12A7: C9 0D        	cmp	#<$d
  6370 00:12A9: C2 20        	rep	#$20
  6371                        	longa	on
  6372 00:12AB: F0 03        	beq	L236
  6373 00:12AD: 82 AF 00     	brl	L10136
  6374                        L236:
  6375                        	.line	885
  6376                        ;					k_put_char(p->co
                    nsoleCtl->curX,
  6377                        	.line	886
  6378                        ;							
                    			   p->consoleCtl->curY,
  6379                        ;							
                    			   95,
  6380                        ;							
                    			   0,0);
  6381 00:12B0: F4 00 00     	pea	#<$0
  6382 00:12B3: F4 00 00     	pea	#<$0
  6383 00:12B6: F4 5F 00     	pea	#<$5f
  6384 00:12B9: A0 54 00     	ldy	#$54
  6385 00:12BC: B7 11        	lda	[<L218+p_1],Y
  6386 00:12BE: 85 01        	sta	<R0
  6387 00:12C0: A0 56 00     	ldy	#$56
  6388 00:12C3: B7 11        	lda	[<L218+p_1],Y
  6389 00:12C5: 85 03        	sta	<R0+2
  6390 00:12C7: A0 06 00     	ldy	#$6
  6391 00:12CA: B7 01        	lda	[<R0],Y
  6392 00:12CC: 48           	pha
  6393 00:12CD: A0 54 00     	ldy	#$54
  6394 00:12D0: B7 11        	lda	[<L218+p_1],Y
  6395 00:12D2: 85 01        	sta	<R0
  6396 00:12D4: A0 56 00     	ldy	#$56
  6397 00:12D7: B7 11        	lda	[<L218+p_1],Y
  6398 00:12D9: 85 03        	sta	<R0+2
  6399 00:12DB: A0 04 00     	ldy	#$4
  6400 00:12DE: B7 01        	lda	[<R0],Y
  6401 00:12E0: 48           	pha
  6402 00:12E1: 22 xx xx xx  	jsl	~~k_put_char
  6403                        ;
  Sat Jul 10 2021  1:15                                                Page 119


  6404                        ;					p->consoleCtl->c
                    urX = 0;
  6405                        	.line	891
  6406 00:12E5: A0 54 00     	ldy	#$54
  6407 00:12E8: B7 11        	lda	[<L218+p_1],Y
  6408 00:12EA: 85 01        	sta	<R0
  6409 00:12EC: A0 56 00     	ldy	#$56
  6410 00:12EF: B7 11        	lda	[<L218+p_1],Y
  6411 00:12F1: 85 03        	sta	<R0+2
  6412 00:12F3: A9 00 00     	lda	#$0
  6413 00:12F6: A0 04 00     	ldy	#$4
  6414 00:12F9: 97 01        	sta	[<R0],Y
  6415                        ;					p->consoleCtl->c
                    urY++;
  6416                        	.line	892
  6417 00:12FB: A0 54 00     	ldy	#$54
  6418 00:12FE: B7 11        	lda	[<L218+p_1],Y
  6419 00:1300: 85 01        	sta	<R0
  6420 00:1302: A0 56 00     	ldy	#$56
  6421 00:1305: B7 11        	lda	[<L218+p_1],Y
  6422 00:1307: 85 03        	sta	<R0+2
  6423 00:1309: A0 06 00     	ldy	#$6
  6424 00:130C: B7 01        	lda	[<R0],Y
  6425 00:130E: 1A           	ina
  6426 00:130F: A0 06 00     	ldy	#$6
  6427 00:1312: 97 01        	sta	[<R0],Y
  6428                        ;
  6429                        ;					if(pctx->lineBuf
                    fer!=NULL && pctx->lineBufferIndex > 0)
  6430                        	.line	894
  6431                        ;					{
  6432 00:1314: 18           	clc
  6433 00:1315: A9 02 00     	lda	#$2
  6434 00:1318: 65 15        	adc	<L218+pctx_1
  6435 00:131A: 85 01        	sta	<R0
  6436 00:131C: A9 00 00     	lda	#$0
  6437 00:131F: 65 17        	adc	<L218+pctx_1+2
  6438 00:1321: 85 03        	sta	<R0+2
  6439 00:1323: A5 01        	lda	<R0
  6440 00:1325: 05 03        	ora	<R0+2
  6441 00:1327: D0 03        	bne	L237
  6442 00:1329: 82 2B 00     	brl	L10137
  6443                        L237:
  6444 00:132C: 38           	sec
  6445 00:132D: A9 00 00     	lda	#$0
  6446 00:1330: E7 15        	sbc	[<L218+pctx_1]
  6447 00:1332: 70 03        	bvs	L238
  6448 00:1334: 49 00 80     	eor	#$8000
  6449                        L238:
  6450 00:1337: 10 03        	bpl	L239
  6451 00:1339: 82 1B 00     	brl	L10137
  6452                        L239:
  6453                        	.line	895
  6454                        ;						k_consol
                    e_process_command(pctx->lineBuffer,p);
  6455                        	.line	896
  6456 00:133C: D4 13        	pei	<L218+p_1+2
  6457 00:133E: D4 11        	pei	<L218+p_1
  Sat Jul 10 2021  1:15                                                Page 120


  6458 00:1340: 18           	clc
  6459 00:1341: A9 02 00     	lda	#$2
  6460 00:1344: 65 15        	adc	<L218+pctx_1
  6461 00:1346: 85 01        	sta	<R0
  6462 00:1348: A9 00 00     	lda	#$0
  6463 00:134B: 65 17        	adc	<L218+pctx_1+2
  6464 00:134D: 85 03        	sta	<R0+2
  6465 00:134F: D4 03        	pei	<R0+2
  6466 00:1351: D4 01        	pei	<R0
  6467 00:1353: 22 xx xx xx  	jsl	~~k_console_process_command
  6468                        ;						//k_debu
                    g_string("DefConsoleProc::FX_KEY_DOWN:k_console_process_comm
                    and\r\n");
  6469                        ;					}
  6470                        	.line	898
  6471                        ;					pctx->lineBuffer
                    Index = 0;
  6472                        L10137:
  6473                        	.line	899
  6474 00:1357: A9 00 00     	lda	#$0
  6475 00:135A: 87 15        	sta	[<L218+pctx_1]
  6476                        ;
  6477                        ;				}
  6478                        	.line	901
  6479                        ;				else if(pMsg->data[2] ==
                     8)
  6480 00:135C: 82 5C 03     	brl	L10138
  6481                        L10136:
  6482                        	.line	902
  6483                        ;				{
  6484 00:135F: E2 20        	sep	#$20
  6485                        	longa	off
  6486 00:1361: A0 18 00     	ldy	#$18
  6487 00:1364: B7 34        	lda	[<L217+pMsg_0],Y
  6488 00:1366: C9 08        	cmp	#<$8
  6489 00:1368: C2 20        	rep	#$20
  6490                        	longa	on
  6491 00:136A: F0 03        	beq	L240
  6492 00:136C: 82 47 01     	brl	L10139
  6493                        L240:
  6494                        	.line	903
  6495                        ;					k_put_char(p->co
                    nsoleCtl->curX,
  6496                        	.line	904
  6497                        ;							
                    			   p->consoleCtl->curY,
  6498                        ;							
                    			   95,
  6499                        ;							
                    			   0,0);
  6500 00:136F: F4 00 00     	pea	#<$0
  6501 00:1372: F4 00 00     	pea	#<$0
  6502 00:1375: F4 5F 00     	pea	#<$5f
  6503 00:1378: A0 54 00     	ldy	#$54
  6504 00:137B: B7 11        	lda	[<L218+p_1],Y
  6505 00:137D: 85 01        	sta	<R0
  6506 00:137F: A0 56 00     	ldy	#$56
  6507 00:1382: B7 11        	lda	[<L218+p_1],Y
  Sat Jul 10 2021  1:15                                                Page 121


  6508 00:1384: 85 03        	sta	<R0+2
  6509 00:1386: A0 06 00     	ldy	#$6
  6510 00:1389: B7 01        	lda	[<R0],Y
  6511 00:138B: 48           	pha
  6512 00:138C: A0 54 00     	ldy	#$54
  6513 00:138F: B7 11        	lda	[<L218+p_1],Y
  6514 00:1391: 85 01        	sta	<R0
  6515 00:1393: A0 56 00     	ldy	#$56
  6516 00:1396: B7 11        	lda	[<L218+p_1],Y
  6517 00:1398: 85 03        	sta	<R0+2
  6518 00:139A: A0 04 00     	ldy	#$4
  6519 00:139D: B7 01        	lda	[<R0],Y
  6520 00:139F: 48           	pha
  6521 00:13A0: 22 xx xx xx  	jsl	~~k_put_char
  6522                        ;
  6523                        ;					p->consoleCtl->c
                    urX--;
  6524                        	.line	909
  6525 00:13A4: A0 54 00     	ldy	#$54
  6526 00:13A7: B7 11        	lda	[<L218+p_1],Y
  6527 00:13A9: 85 01        	sta	<R0
  6528 00:13AB: A0 56 00     	ldy	#$56
  6529 00:13AE: B7 11        	lda	[<L218+p_1],Y
  6530 00:13B0: 85 03        	sta	<R0+2
  6531 00:13B2: 18           	clc
  6532 00:13B3: A9 FF FF     	lda	#$ffff
  6533 00:13B6: A0 04 00     	ldy	#$4
  6534 00:13B9: 77 01        	adc	[<R0],Y
  6535 00:13BB: A0 04 00     	ldy	#$4
  6536 00:13BE: 97 01        	sta	[<R0],Y
  6537                        ;					if(p->consoleCtl
                    ->curX < 0)
  6538                        	.line	910
  6539                        ;					{
  6540 00:13C0: A0 54 00     	ldy	#$54
  6541 00:13C3: B7 11        	lda	[<L218+p_1],Y
  6542 00:13C5: 85 01        	sta	<R0
  6543 00:13C7: A0 56 00     	ldy	#$56
  6544 00:13CA: B7 11        	lda	[<L218+p_1],Y
  6545 00:13CC: 85 03        	sta	<R0+2
  6546 00:13CE: A0 04 00     	ldy	#$4
  6547 00:13D1: B7 01        	lda	[<R0],Y
  6548 00:13D3: 30 03        	bmi	L241
  6549 00:13D5: 82 3F 00     	brl	L10140
  6550                        L241:
  6551                        	.line	911
  6552                        ;						p->conso
                    leCtl->curX = p->consoleCtl->maxCols;
  6553                        	.line	912
  6554 00:13D8: A0 54 00     	ldy	#$54
  6555 00:13DB: B7 11        	lda	[<L218+p_1],Y
  6556 00:13DD: 85 01        	sta	<R0
  6557 00:13DF: A0 56 00     	ldy	#$56
  6558 00:13E2: B7 11        	lda	[<L218+p_1],Y
  6559 00:13E4: 85 03        	sta	<R0+2
  6560 00:13E6: A0 54 00     	ldy	#$54
  6561 00:13E9: B7 11        	lda	[<L218+p_1],Y
  6562 00:13EB: 85 05        	sta	<R1
  Sat Jul 10 2021  1:15                                                Page 122


  6563 00:13ED: A0 56 00     	ldy	#$56
  6564 00:13F0: B7 11        	lda	[<L218+p_1],Y
  6565 00:13F2: 85 07        	sta	<R1+2
  6566 00:13F4: A7 05        	lda	[<R1]
  6567 00:13F6: A0 04 00     	ldy	#$4
  6568 00:13F9: 97 01        	sta	[<R0],Y
  6569                        ;						p->conso
                    leCtl->curY--;
  6570                        	.line	913
  6571 00:13FB: A0 54 00     	ldy	#$54
  6572 00:13FE: B7 11        	lda	[<L218+p_1],Y
  6573 00:1400: 85 01        	sta	<R0
  6574 00:1402: A0 56 00     	ldy	#$56
  6575 00:1405: B7 11        	lda	[<L218+p_1],Y
  6576 00:1407: 85 03        	sta	<R0+2
  6577 00:1409: 18           	clc
  6578 00:140A: A9 FF FF     	lda	#$ffff
  6579 00:140D: A0 06 00     	ldy	#$6
  6580 00:1410: 77 01        	adc	[<R0],Y
  6581 00:1412: A0 06 00     	ldy	#$6
  6582 00:1415: 97 01        	sta	[<R0],Y
  6583                        ;					}
  6584                        	.line	914
  6585                        ;
  6586                        ;					pctx->lineBuffer
                    [pctx->lineBufferIndex] = 0;
  6587                        L10140:
  6588                        	.line	916
  6589 00:1417: A7 15        	lda	[<L218+pctx_1]
  6590 00:1419: 85 01        	sta	<R0
  6591 00:141B: 18           	clc
  6592 00:141C: A9 02 00     	lda	#$2
  6593 00:141F: 65 01        	adc	<R0
  6594 00:1421: 85 05        	sta	<R1
  6595 00:1423: E2 20        	sep	#$20
  6596                        	longa	off
  6597 00:1425: A9 00        	lda	#$0
  6598 00:1427: A4 05        	ldy	<R1
  6599 00:1429: 97 15        	sta	[<L218+pctx_1],Y
  6600 00:142B: C2 20        	rep	#$20
  6601                        	longa	on
  6602                        ;					pctx->lineBuffer
                    Index = pctx->lineBufferIndex - 1;
  6603                        	.line	917
  6604 00:142D: 18           	clc
  6605 00:142E: A9 FF FF     	lda	#$ffff
  6606 00:1431: 67 15        	adc	[<L218+pctx_1]
  6607 00:1433: 87 15        	sta	[<L218+pctx_1]
  6608                        ;					if(pctx->lineBuf
                    ferIndex < 0)
  6609                        	.line	918
  6610                        ;						pctx->li
                    neBufferIndex = 0;
  6611 00:1435: A7 15        	lda	[<L218+pctx_1]
  6612 00:1437: 30 03        	bmi	L242
  6613 00:1439: 82 05 00     	brl	L10141
  6614                        L242:
  6615                        	.line	919
  Sat Jul 10 2021  1:15                                                Page 123


  6616 00:143C: A9 00 00     	lda	#$0
  6617 00:143F: 87 15        	sta	[<L218+pctx_1]
  6618                        ;
  6619                        ;					pctx->lineBuffer
                    [pctx->lineBufferIndex] = 0;
  6620                        L10141:
  6621                        	.line	921
  6622 00:1441: A7 15        	lda	[<L218+pctx_1]
  6623 00:1443: 85 01        	sta	<R0
  6624 00:1445: 18           	clc
  6625 00:1446: A9 02 00     	lda	#$2
  6626 00:1449: 65 01        	adc	<R0
  6627 00:144B: 85 05        	sta	<R1
  6628 00:144D: E2 20        	sep	#$20
  6629                        	longa	off
  6630 00:144F: A9 00        	lda	#$0
  6631 00:1451: A4 05        	ldy	<R1
  6632 00:1453: 97 15        	sta	[<L218+pctx_1],Y
  6633 00:1455: C2 20        	rep	#$20
  6634                        	longa	on
  6635                        ;
  6636                        ;					if(p->consoleCtl
                    ->curY < 0)
  6637                        	.line	923
  6638                        ;						p->conso
                    leCtl->curY = 0;
  6639 00:1457: A0 54 00     	ldy	#$54
  6640 00:145A: B7 11        	lda	[<L218+p_1],Y
  6641 00:145C: 85 01        	sta	<R0
  6642 00:145E: A0 56 00     	ldy	#$56
  6643 00:1461: B7 11        	lda	[<L218+p_1],Y
  6644 00:1463: 85 03        	sta	<R0+2
  6645 00:1465: A0 06 00     	ldy	#$6
  6646 00:1468: B7 01        	lda	[<R0],Y
  6647 00:146A: 30 03        	bmi	L243
  6648 00:146C: 82 16 00     	brl	L10142
  6649                        L243:
  6650                        	.line	924
  6651 00:146F: A0 54 00     	ldy	#$54
  6652 00:1472: B7 11        	lda	[<L218+p_1],Y
  6653 00:1474: 85 01        	sta	<R0
  6654 00:1476: A0 56 00     	ldy	#$56
  6655 00:1479: B7 11        	lda	[<L218+p_1],Y
  6656 00:147B: 85 03        	sta	<R0+2
  6657 00:147D: A9 00 00     	lda	#$0
  6658 00:1480: A0 06 00     	ldy	#$6
  6659 00:1483: 97 01        	sta	[<R0],Y
  6660                        ;					if(p->consoleCtl
                    ->curX < 0)
  6661                        L10142:
  6662                        	.line	925
  6663                        ;						p->conso
                    leCtl->curX = 0;
  6664 00:1485: A0 54 00     	ldy	#$54
  6665 00:1488: B7 11        	lda	[<L218+p_1],Y
  6666 00:148A: 85 01        	sta	<R0
  6667 00:148C: A0 56 00     	ldy	#$56
  6668 00:148F: B7 11        	lda	[<L218+p_1],Y
  Sat Jul 10 2021  1:15                                                Page 124


  6669 00:1491: 85 03        	sta	<R0+2
  6670 00:1493: A0 04 00     	ldy	#$4
  6671 00:1496: B7 01        	lda	[<R0],Y
  6672 00:1498: 30 03        	bmi	L244
  6673 00:149A: 82 16 00     	brl	L10143
  6674                        L244:
  6675                        	.line	926
  6676 00:149D: A0 54 00     	ldy	#$54
  6677 00:14A0: B7 11        	lda	[<L218+p_1],Y
  6678 00:14A2: 85 01        	sta	<R0
  6679 00:14A4: A0 56 00     	ldy	#$56
  6680 00:14A7: B7 11        	lda	[<L218+p_1],Y
  6681 00:14A9: 85 03        	sta	<R0+2
  6682 00:14AB: A9 00 00     	lda	#$0
  6683 00:14AE: A0 04 00     	ldy	#$4
  6684 00:14B1: 97 01        	sta	[<R0],Y
  6685                        ;				}
  6686                        L10143:
  6687                        	.line	927
  6688                        ;				else
  6689 00:14B3: 82 05 02     	brl	L10144
  6690                        L10139:
  6691                        ;				{
  6692                        	.line	929
  6693                        ;					k_debug_integer(
                    "DefConsoleProc::lineBufferIndexA:",pctx->lineBufferIndex);
  6694                        	.line	930
  6695 00:14B6: A7 15        	lda	[<L218+pctx_1]
  6696 00:14B8: 48           	pha
  6697 00:14B9: F4 xx xx     	pea	#^L216+240
  6698 00:14BC: F4 xx xx     	pea	#<L216+240
  6699 00:14BF: 22 xx xx xx  	jsl	~~k_debug_integer
  6700                        ;
  6701                        ;					if(pctx->isShift
                    ed)
  6702                        	.line	932
  6703                        ;						decodedK
                    ey = k_getKeyboardChar(pMsg->data[0],pMsg->data[1],pctx->isS
                    hifted,0);
  6704 00:14C3: A0 82 00     	ldy	#$82
  6705 00:14C6: B7 15        	lda	[<L218+pctx_1],Y
  6706 00:14C8: 29 FF 00     	and	#$ff
  6707 00:14CB: D0 03        	bne	L245
  6708 00:14CD: 82 28 00     	brl	L10145
  6709                        L245:
  6710                        	.line	933
  6711 00:14D0: F4 00 00     	pea	#<$0
  6712 00:14D3: A0 82 00     	ldy	#$82
  6713 00:14D6: B7 15        	lda	[<L218+pctx_1],Y
  6714 00:14D8: 29 FF 00     	and	#$ff
  6715 00:14DB: 48           	pha
  6716 00:14DC: A0 17 00     	ldy	#$17
  6717 00:14DF: B7 34        	lda	[<L217+pMsg_0],Y
  6718 00:14E1: 29 FF 00     	and	#$ff
  6719 00:14E4: 48           	pha
  6720 00:14E5: A0 16 00     	ldy	#$16
  6721 00:14E8: B7 34        	lda	[<L217+pMsg_0],Y
  6722 00:14EA: 48           	pha
  Sat Jul 10 2021  1:15                                                Page 125


  6723 00:14EB: 22 xx xx xx  	jsl	~~k_getKeyboardChar
  6724 00:14EF: E2 20        	sep	#$20
  6725                        	longa	off
  6726 00:14F1: 85 19        	sta	<L218+decodedKey_1
  6727 00:14F3: C2 20        	rep	#$20
  6728                        	longa	on
  6729                        ;					else
  6730 00:14F5: 82 0B 00     	brl	L10146
  6731                        L10145:
  6732                        ;						decodedK
                    ey = pMsg->data[2];
  6733                        	.line	935
  6734 00:14F8: E2 20        	sep	#$20
  6735                        	longa	off
  6736 00:14FA: A0 18 00     	ldy	#$18
  6737 00:14FD: B7 34        	lda	[<L217+pMsg_0],Y
  6738 00:14FF: 85 19        	sta	<L218+decodedKey_1
  6739 00:1501: C2 20        	rep	#$20
  6740                        	longa	on
  6741                        L10146:
  6742                        ;
  6743                        ;					pctx->lineBuffer
                    [pctx->lineBufferIndex] = decodedKey;
  6744                        	.line	937
  6745 00:1503: A7 15        	lda	[<L218+pctx_1]
  6746 00:1505: 85 01        	sta	<R0
  6747 00:1507: 18           	clc
  6748 00:1508: A9 02 00     	lda	#$2
  6749 00:150B: 65 01        	adc	<R0
  6750 00:150D: 85 05        	sta	<R1
  6751 00:150F: E2 20        	sep	#$20
  6752                        	longa	off
  6753 00:1511: A5 19        	lda	<L218+decodedKey_1
  6754 00:1513: A4 05        	ldy	<R1
  6755 00:1515: 97 15        	sta	[<L218+pctx_1],Y
  6756 00:1517: C2 20        	rep	#$20
  6757                        	longa	on
  6758                        ;
  6759                        ;					//k_debug_char("
                    KEY:",decodedKey);
  6760                        ;
  6761                        ;
  6762                        ;					if(p->consoleCtl
                    ->desktopMode)
  6763                        	.line	942
  6764                        ;					{
  6765 00:1519: A0 54 00     	ldy	#$54
  6766 00:151C: B7 11        	lda	[<L218+p_1],Y
  6767 00:151E: 85 01        	sta	<R0
  6768 00:1520: A0 56 00     	ldy	#$56
  6769 00:1523: B7 11        	lda	[<L218+p_1],Y
  6770 00:1525: 85 03        	sta	<R0+2
  6771 00:1527: A0 31 00     	ldy	#$31
  6772 00:152A: B7 01        	lda	[<R0],Y
  6773 00:152C: 29 FF 00     	and	#$ff
  6774 00:152F: D0 03        	bne	L246
  6775 00:1531: 82 45 00     	brl	L10147
  6776                        L246:
  Sat Jul 10 2021  1:15                                                Page 126


  6777                        	.line	943
  6778                        ;
  6779                        ;						k_put_fo
                    nt(decodedKey,p->consoleCtl->curX,p->consoleCtl->curY,p->con
                    soleCtl->fgColor);
  6780                        	.line	945
  6781 00:1534: A0 54 00     	ldy	#$54
  6782 00:1537: B7 11        	lda	[<L218+p_1],Y
  6783 00:1539: 85 01        	sta	<R0
  6784 00:153B: A0 56 00     	ldy	#$56
  6785 00:153E: B7 11        	lda	[<L218+p_1],Y
  6786 00:1540: 85 03        	sta	<R0+2
  6787 00:1542: A0 08 00     	ldy	#$8
  6788 00:1545: B7 01        	lda	[<R0],Y
  6789 00:1547: 48           	pha
  6790 00:1548: A0 54 00     	ldy	#$54
  6791 00:154B: B7 11        	lda	[<L218+p_1],Y
  6792 00:154D: 85 05        	sta	<R1
  6793 00:154F: A0 56 00     	ldy	#$56
  6794 00:1552: B7 11        	lda	[<L218+p_1],Y
  6795 00:1554: 85 07        	sta	<R1+2
  6796 00:1556: A0 06 00     	ldy	#$6
  6797 00:1559: B7 05        	lda	[<R1],Y
  6798 00:155B: 48           	pha
  6799 00:155C: A0 54 00     	ldy	#$54
  6800 00:155F: B7 11        	lda	[<L218+p_1],Y
  6801 00:1561: 85 05        	sta	<R1
  6802 00:1563: A0 56 00     	ldy	#$56
  6803 00:1566: B7 11        	lda	[<L218+p_1],Y
  6804 00:1568: 85 07        	sta	<R1+2
  6805 00:156A: A0 04 00     	ldy	#$4
  6806 00:156D: B7 05        	lda	[<R1],Y
  6807 00:156F: 48           	pha
  6808 00:1570: D4 19        	pei	<L218+decodedKey_1
  6809 00:1572: 22 xx xx xx  	jsl	~~k_put_font
  6810                        ;
  6811                        ;					}
  6812                        	.line	947
  6813                        ;					else
  6814 00:1576: 82 88 00     	brl	L10148
  6815                        L10147:
  6816                        ;					{
  6817                        	.line	949
  6818                        ;
  6819                        ;						k_put_ch
                    ar(p->consoleCtl->curX,
  6820                        	.line	951
  6821                        ;							
                    	   p->consoleCtl->curY,
  6822                        ;							
                    	   decodedKey,
  6823                        ;							
                    	   p->consoleCtl->fgColor,0);
  6824 00:1579: F4 00 00     	pea	#<$0
  6825 00:157C: A0 54 00     	ldy	#$54
  6826 00:157F: B7 11        	lda	[<L218+p_1],Y
  6827 00:1581: 85 01        	sta	<R0
  6828 00:1583: A0 56 00     	ldy	#$56
  Sat Jul 10 2021  1:15                                                Page 127


  6829 00:1586: B7 11        	lda	[<L218+p_1],Y
  6830 00:1588: 85 03        	sta	<R0+2
  6831 00:158A: A0 08 00     	ldy	#$8
  6832 00:158D: B7 01        	lda	[<R0],Y
  6833 00:158F: 48           	pha
  6834 00:1590: D4 19        	pei	<L218+decodedKey_1
  6835 00:1592: A0 54 00     	ldy	#$54
  6836 00:1595: B7 11        	lda	[<L218+p_1],Y
  6837 00:1597: 85 01        	sta	<R0
  6838 00:1599: A0 56 00     	ldy	#$56
  6839 00:159C: B7 11        	lda	[<L218+p_1],Y
  6840 00:159E: 85 03        	sta	<R0+2
  6841 00:15A0: A0 06 00     	ldy	#$6
  6842 00:15A3: B7 01        	lda	[<R0],Y
  6843 00:15A5: 48           	pha
  6844 00:15A6: A0 54 00     	ldy	#$54
  6845 00:15A9: B7 11        	lda	[<L218+p_1],Y
  6846 00:15AB: 85 01        	sta	<R0
  6847 00:15AD: A0 56 00     	ldy	#$56
  6848 00:15B0: B7 11        	lda	[<L218+p_1],Y
  6849 00:15B2: 85 03        	sta	<R0+2
  6850 00:15B4: A0 04 00     	ldy	#$4
  6851 00:15B7: B7 01        	lda	[<R0],Y
  6852 00:15B9: 48           	pha
  6853 00:15BA: 22 xx xx xx  	jsl	~~k_put_char
  6854                        ;						consoleB
                    uffer[p->consoleCtl->curY][p->consoleCtl->curX] = decodedKey
                    ;
  6855                        	.line	955
  6856 00:15BE: A0 54 00     	ldy	#$54
  6857 00:15C1: B7 11        	lda	[<L218+p_1],Y
  6858 00:15C3: 85 05        	sta	<R1
  6859 00:15C5: A0 56 00     	ldy	#$56
  6860 00:15C8: B7 11        	lda	[<L218+p_1],Y
  6861 00:15CA: 85 07        	sta	<R1+2
  6862 00:15CC: A0 04 00     	ldy	#$4
  6863 00:15CF: B7 05        	lda	[<R1],Y
  6864 00:15D1: 0A           	asl	A
  6865 00:15D2: 85 01        	sta	<R0
  6866 00:15D4: A0 54 00     	ldy	#$54
  6867 00:15D7: B7 11        	lda	[<L218+p_1],Y
  6868 00:15D9: 85 05        	sta	<R1
  6869 00:15DB: A0 56 00     	ldy	#$56
  6870 00:15DE: B7 11        	lda	[<L218+p_1],Y
  6871 00:15E0: 85 07        	sta	<R1+2
  6872 00:15E2: A0 06 00     	ldy	#$6
  6873 00:15E5: B7 05        	lda	[<R1],Y
  6874 00:15E7: A2 90 00     	ldx	#<$90
  6875                        	xref	~~~mul
  6876 00:15EA: 22 xx xx xx  	jsl	~~~mul
  6877 00:15EE: 85 05        	sta	<R1
  6878 00:15F0: 18           	clc
  6879 00:15F1: A5 05        	lda	<R1
  6880 00:15F3: 65 01        	adc	<R0
  6881 00:15F5: 85 09        	sta	<R2
  6882 00:15F7: A5 19        	lda	<L218+decodedKey_1
  6883 00:15F9: 29 FF 00     	and	#$ff
  6884 00:15FC: A6 09        	ldx	<R2
  Sat Jul 10 2021  1:15                                                Page 128


  6885 00:15FE: 9D xx xx     	sta	|~~consoleBuffer,X
  6886                        ;					}
  6887                        	.line	956
  6888                        L10148:
  6889                        ;
  6890                        ;					pctx->lineBuffer
                    Index = pctx->lineBufferIndex+1;
  6891                        	.line	958
  6892 00:1601: A7 15        	lda	[<L218+pctx_1]
  6893 00:1603: 1A           	ina
  6894 00:1604: 87 15        	sta	[<L218+pctx_1]
  6895                        ;					pctx->lineBuffer
                    [pctx->lineBufferIndex] = 0;
  6896                        	.line	959
  6897 00:1606: A7 15        	lda	[<L218+pctx_1]
  6898 00:1608: 85 01        	sta	<R0
  6899 00:160A: 18           	clc
  6900 00:160B: A9 02 00     	lda	#$2
  6901 00:160E: 65 01        	adc	<R0
  6902 00:1610: 85 05        	sta	<R1
  6903 00:1612: E2 20        	sep	#$20
  6904                        	longa	off
  6905 00:1614: A9 00        	lda	#$0
  6906 00:1616: A4 05        	ldy	<R1
  6907 00:1618: 97 15        	sta	[<L218+pctx_1],Y
  6908 00:161A: C2 20        	rep	#$20
  6909                        	longa	on
  6910                        ;
  6911                        ;					if(pctx->lineBuf
                    ferIndex > 127)
  6912                        	.line	961
  6913                        ;					{
  6914 00:161C: 38           	sec
  6915 00:161D: A9 7F 00     	lda	#$7f
  6916 00:1620: E7 15        	sbc	[<L218+pctx_1]
  6917 00:1622: 70 03        	bvs	L247
  6918 00:1624: 49 00 80     	eor	#$8000
  6919                        L247:
  6920 00:1627: 10 03        	bpl	L248
  6921 00:1629: 82 19 00     	brl	L10149
  6922                        L248:
  6923                        	.line	962
  6924                        ;						k_exec_t
                    hrow_exception(0,0,"lineBufferIndex too large",-1);
  6925                        	.line	963
  6926 00:162C: F4 FF FF     	pea	#<$ffffffff
  6927 00:162F: F4 xx xx     	pea	#^L216+274
  6928 00:1632: F4 xx xx     	pea	#<L216+274
  6929 00:1635: F4 00 00     	pea	#^$0
  6930 00:1638: F4 00 00     	pea	#<$0
  6931 00:163B: F4 00 00     	pea	#^$0
  6932 00:163E: F4 00 00     	pea	#<$0
  6933 00:1641: 22 xx xx xx  	jsl	~~k_exec_throw_exception
  6934                        ;					}
  6935                        	.line	964
  6936                        ;					//k_debug_intege
                    r("DefConsoleProc::lineBufferIndexB:",pctx->lineBufferIndex)
                    ;
  Sat Jul 10 2021  1:15                                                Page 129


  6937                        ;					//k_debug_string
                    ("DefConsoleProc::lineBuffer:");
  6938                        ;					//k_debug_string
                    (pctx->lineBuffer);
  6939                        ;					//k_debug_string
                    ("\r\n");
  6940                        ;
  6941                        ;					p->consoleCtl->c
                    urX++;
  6942                        L10149:
  6943                        	.line	970
  6944 00:1645: A0 54 00     	ldy	#$54
  6945 00:1648: B7 11        	lda	[<L218+p_1],Y
  6946 00:164A: 85 01        	sta	<R0
  6947 00:164C: A0 56 00     	ldy	#$56
  6948 00:164F: B7 11        	lda	[<L218+p_1],Y
  6949 00:1651: 85 03        	sta	<R0+2
  6950 00:1653: A0 04 00     	ldy	#$4
  6951 00:1656: B7 01        	lda	[<R0],Y
  6952 00:1658: 1A           	ina
  6953 00:1659: A0 04 00     	ldy	#$4
  6954 00:165C: 97 01        	sta	[<R0],Y
  6955                        ;					if(p->consoleCtl
                    ->curX >= p->consoleCtl->maxCols)
  6956                        	.line	971
  6957                        ;					{
  6958 00:165E: A0 54 00     	ldy	#$54
  6959 00:1661: B7 11        	lda	[<L218+p_1],Y
  6960 00:1663: 85 01        	sta	<R0
  6961 00:1665: A0 56 00     	ldy	#$56
  6962 00:1668: B7 11        	lda	[<L218+p_1],Y
  6963 00:166A: 85 03        	sta	<R0+2
  6964 00:166C: A0 54 00     	ldy	#$54
  6965 00:166F: B7 11        	lda	[<L218+p_1],Y
  6966 00:1671: 85 05        	sta	<R1
  6967 00:1673: A0 56 00     	ldy	#$56
  6968 00:1676: B7 11        	lda	[<L218+p_1],Y
  6969 00:1678: 85 07        	sta	<R1+2
  6970 00:167A: 38           	sec
  6971 00:167B: A0 04 00     	ldy	#$4
  6972 00:167E: B7 05        	lda	[<R1],Y
  6973 00:1680: E7 01        	sbc	[<R0]
  6974 00:1682: 70 03        	bvs	L249
  6975 00:1684: 49 00 80     	eor	#$8000
  6976                        L249:
  6977 00:1687: 30 03        	bmi	L250
  6978 00:1689: 82 2F 00     	brl	L10150
  6979                        L250:
  6980                        	.line	972
  6981                        ;						p->conso
                    leCtl->curX = 0;
  6982                        	.line	973
  6983 00:168C: A0 54 00     	ldy	#$54
  6984 00:168F: B7 11        	lda	[<L218+p_1],Y
  6985 00:1691: 85 01        	sta	<R0
  6986 00:1693: A0 56 00     	ldy	#$56
  6987 00:1696: B7 11        	lda	[<L218+p_1],Y
  6988 00:1698: 85 03        	sta	<R0+2
  Sat Jul 10 2021  1:15                                                Page 130


  6989 00:169A: A9 00 00     	lda	#$0
  6990 00:169D: A0 04 00     	ldy	#$4
  6991 00:16A0: 97 01        	sta	[<R0],Y
  6992                        ;						p->conso
                    leCtl->curY++;
  6993                        	.line	974
  6994 00:16A2: A0 54 00     	ldy	#$54
  6995 00:16A5: B7 11        	lda	[<L218+p_1],Y
  6996 00:16A7: 85 01        	sta	<R0
  6997 00:16A9: A0 56 00     	ldy	#$56
  6998 00:16AC: B7 11        	lda	[<L218+p_1],Y
  6999 00:16AE: 85 03        	sta	<R0+2
  7000 00:16B0: A0 06 00     	ldy	#$6
  7001 00:16B3: B7 01        	lda	[<R0],Y
  7002 00:16B5: 1A           	ina
  7003 00:16B6: A0 06 00     	ldy	#$6
  7004 00:16B9: 97 01        	sta	[<R0],Y
  7005                        ;					}
  7006                        	.line	975
  7007                        ;				}
  7008                        L10150:
  7009                        	.line	976
  7010                        L10144:
  7011                        L10138:
  7012                        ;
  7013                        ;				if(p->consoleCtl->curY >
                     50)
  7014                        	.line	978
  7015                        ;				{
  7016 00:16BB: A0 54 00     	ldy	#$54
  7017 00:16BE: B7 11        	lda	[<L218+p_1],Y
  7018 00:16C0: 85 01        	sta	<R0
  7019 00:16C2: A0 56 00     	ldy	#$56
  7020 00:16C5: B7 11        	lda	[<L218+p_1],Y
  7021 00:16C7: 85 03        	sta	<R0+2
  7022 00:16C9: 38           	sec
  7023 00:16CA: A9 32 00     	lda	#$32
  7024 00:16CD: A0 06 00     	ldy	#$6
  7025 00:16D0: F7 01        	sbc	[<R0],Y
  7026 00:16D2: 70 03        	bvs	L251
  7027 00:16D4: 49 00 80     	eor	#$8000
  7028                        L251:
  7029 00:16D7: 10 03        	bpl	L252
  7030 00:16D9: 82 1D 00     	brl	L10151
  7031                        L252:
  7032                        	.line	979
  7033                        ;					k_send_process_c
                    ommand_message(p,FX_SCROLLBAR_COMMAND,CTL_VERT_SCROLL,0,1L,0
                    L);
  7034                        	.line	980
  7035 00:16DC: F4 00 00     	pea	#^$0
  7036 00:16DF: F4 00 00     	pea	#<$0
  7037 00:16E2: F4 00 00     	pea	#^$1
  7038 00:16E5: F4 01 00     	pea	#<$1
  7039 00:16E8: F4 00 00     	pea	#<$0
  7040 00:16EB: F4 01 00     	pea	#<$1
  7041 00:16EE: F4 02 FA     	pea	#<$fa02
  7042 00:16F1: D4 13        	pei	<L218+p_1+2
  Sat Jul 10 2021  1:15                                                Page 131


  7043 00:16F3: D4 11        	pei	<L218+p_1
  7044 00:16F5: 22 xx xx xx  	jsl	~~k_send_process_command_message
  7045                        ;				}
  7046                        	.line	981
  7047                        ;			}
  7048                        L10151:
  7049                        	.line	982
  7050                        L10135:
  7051                        ;
  7052                        ;			//k_enable_text_cursor();
  7053                        ;			//k_set_cursor_position(p->conso
                    leCtl->curX+1,p->consoleCtl->curY);
  7054                        ;			//k_set_cursor_position(20,20);
  7055                        ;
  7056                        ;			break;
  7057                        	.line	988
  7058 00:16F9: 82 C1 0A     	brl	L10116
  7059                        ;		case FX_DISK_INSERT:
  7060                        	.line	989
  7061                        L10152:
  7062                        ;
  7063                        ;			k_debug_string("DefConsoleProc::
                    DISK-INSERT:");
  7064                        	.line	991
  7065 00:16FC: F4 xx xx     	pea	#^L216+300
  7066 00:16FF: F4 xx xx     	pea	#<L216+300
  7067 00:1702: 22 xx xx xx  	jsl	~~k_debug_string
  7068                        ;			if(((PDISKINFO)pMsg->pheap)->stg
                    Name)
  7069                        	.line	992
  7070                        ;			{
  7071 00:1706: A0 0E 00     	ldy	#$e
  7072 00:1709: B7 34        	lda	[<L217+pMsg_0],Y
  7073 00:170B: A0 10 00     	ldy	#$10
  7074 00:170E: 17 34        	ora	[<L217+pMsg_0],Y
  7075 00:1710: D0 03        	bne	L253
  7076 00:1712: 82 13 00     	brl	L10153
  7077                        L253:
  7078                        	.line	993
  7079                        ;				k_debug_string(((PDISKIN
                    FO)pMsg->pheap)->stgName);
  7080                        	.line	994
  7081 00:1715: A0 10 00     	ldy	#$10
  7082 00:1718: B7 34        	lda	[<L217+pMsg_0],Y
  7083 00:171A: 48           	pha
  7084 00:171B: A0 0E 00     	ldy	#$e
  7085 00:171E: B7 34        	lda	[<L217+pMsg_0],Y
  7086 00:1720: 48           	pha
  7087 00:1721: 22 xx xx xx  	jsl	~~k_debug_string
  7088                        ;			}
  7089                        	.line	995
  7090                        ;			else
  7091 00:1725: 82 0A 00     	brl	L10154
  7092                        L10153:
  7093                        ;			{
  7094                        	.line	997
  7095                        ;				k_debug_string("NULL");
  7096                        	.line	998
  Sat Jul 10 2021  1:15                                                Page 132


  7097 00:1728: F4 xx xx     	pea	#^L216+329
  7098 00:172B: F4 xx xx     	pea	#<L216+329
  7099 00:172E: 22 xx xx xx  	jsl	~~k_debug_string
  7100                        ;			}
  7101                        	.line	999
  7102                        L10154:
  7103                        ;			k_debug_string("\r\n");
  7104                        	.line	1000
  7105 00:1732: F4 xx xx     	pea	#^L216+334
  7106 00:1735: F4 xx xx     	pea	#<L216+334
  7107 00:1738: 22 xx xx xx  	jsl	~~k_debug_string
  7108                        ;
  7109                        ;			((PDISKINFO)pMsg->pheap)->stgNam
                    e[31] = 0;
  7110                        	.line	1002
  7111 00:173C: A0 0E 00     	ldy	#$e
  7112 00:173F: B7 34        	lda	[<L217+pMsg_0],Y
  7113 00:1741: 85 01        	sta	<R0
  7114 00:1743: A0 10 00     	ldy	#$10
  7115 00:1746: B7 34        	lda	[<L217+pMsg_0],Y
  7116 00:1748: 85 03        	sta	<R0+2
  7117 00:174A: E2 20        	sep	#$20
  7118                        	longa	off
  7119 00:174C: A9 00        	lda	#$0
  7120 00:174E: A0 1F 00     	ldy	#$1f
  7121 00:1751: 97 01        	sta	[<R0],Y
  7122 00:1753: C2 20        	rep	#$20
  7123                        	longa	on
  7124                        ;
  7125                        ;			if(p->consoleCtl->desktopMode)
  7126                        	.line	1004
  7127                        ;			{
  7128 00:1755: A0 54 00     	ldy	#$54
  7129 00:1758: B7 11        	lda	[<L218+p_1],Y
  7130 00:175A: 85 01        	sta	<R0
  7131 00:175C: A0 56 00     	ldy	#$56
  7132 00:175F: B7 11        	lda	[<L218+p_1],Y
  7133 00:1761: 85 03        	sta	<R0+2
  7134 00:1763: A0 31 00     	ldy	#$31
  7135 00:1766: B7 01        	lda	[<R0],Y
  7136 00:1768: 29 FF 00     	and	#$ff
  7137 00:176B: D0 03        	bne	L254
  7138 00:176D: 82 B9 02     	brl	L10155
  7139                        L254:
  7140                        	.line	1005
  7141                        ;				if(p->desktopCtl->curren
                    tDiskName && strcmp( k_to_uppercase(  ((PDISKINFO)pMsg->phea
                    p)->stgName),p->desktopCtl->currentDiskName) == 0)
  7142                        	.line	1006
  7143                        ;				{
  7144 00:1770: A0 58 00     	ldy	#$58
  7145 00:1773: B7 11        	lda	[<L218+p_1],Y
  7146 00:1775: 85 01        	sta	<R0
  7147 00:1777: A0 5A 00     	ldy	#$5a
  7148 00:177A: B7 11        	lda	[<L218+p_1],Y
  7149 00:177C: 85 03        	sta	<R0+2
  7150 00:177E: A0 11 00     	ldy	#$11
  7151 00:1781: B7 01        	lda	[<R0],Y
  Sat Jul 10 2021  1:15                                                Page 133


  7152 00:1783: A0 13 00     	ldy	#$13
  7153 00:1786: 17 01        	ora	[<R0],Y
  7154 00:1788: D0 03        	bne	L255
  7155 00:178A: 82 47 00     	brl	L10156
  7156                        L255:
  7157 00:178D: A0 58 00     	ldy	#$58
  7158 00:1790: B7 11        	lda	[<L218+p_1],Y
  7159 00:1792: 85 01        	sta	<R0
  7160 00:1794: A0 5A 00     	ldy	#$5a
  7161 00:1797: B7 11        	lda	[<L218+p_1],Y
  7162 00:1799: 85 03        	sta	<R0+2
  7163 00:179B: A0 13 00     	ldy	#$13
  7164 00:179E: B7 01        	lda	[<R0],Y
  7165 00:17A0: 48           	pha
  7166 00:17A1: A0 11 00     	ldy	#$11
  7167 00:17A4: B7 01        	lda	[<R0],Y
  7168 00:17A6: 48           	pha
  7169 00:17A7: A0 10 00     	ldy	#$10
  7170 00:17AA: B7 34        	lda	[<L217+pMsg_0],Y
  7171 00:17AC: 48           	pha
  7172 00:17AD: A0 0E 00     	ldy	#$e
  7173 00:17B0: B7 34        	lda	[<L217+pMsg_0],Y
  7174 00:17B2: 48           	pha
  7175 00:17B3: 22 xx xx xx  	jsl	~~k_to_uppercase
  7176 00:17B7: 85 01        	sta	<R0
  7177 00:17B9: 86 03        	stx	<R0+2
  7178 00:17BB: DA           	phx
  7179 00:17BC: 48           	pha
  7180 00:17BD: 22 xx xx xx  	jsl	~~strcmp
  7181 00:17C1: AA           	tax
  7182 00:17C2: F0 03        	beq	L256
  7183 00:17C4: 82 0D 00     	brl	L10156
  7184                        L256:
  7185                        	.line	1007
  7186                        ;					k_debug_string("
                    DefConsoleProc::DISK-INSERT:NO-CHANGE\r\n");
  7187                        	.line	1008
  7188 00:17C7: F4 xx xx     	pea	#^L216+337
  7189 00:17CA: F4 xx xx     	pea	#<L216+337
  7190 00:17CD: 22 xx xx xx  	jsl	~~k_debug_string
  7191                        ;				}
  7192                        	.line	1009
  7193                        ;				else
  7194 00:17D1: 82 52 02     	brl	L10157
  7195                        L10156:
  7196                        ;				{
  7197                        	.line	1011
  7198                        ;
  7199                        ;
  7200                        ;					if(p->desktopCtl
                    ->currentDiskName)
  7201                        	.line	1014
  7202                        ;					{
  7203 00:17D4: A0 58 00     	ldy	#$58
  7204 00:17D7: B7 11        	lda	[<L218+p_1],Y
  7205 00:17D9: 85 01        	sta	<R0
  7206 00:17DB: A0 5A 00     	ldy	#$5a
  7207 00:17DE: B7 11        	lda	[<L218+p_1],Y
  Sat Jul 10 2021  1:15                                                Page 134


  7208 00:17E0: 85 03        	sta	<R0+2
  7209 00:17E2: A0 11 00     	ldy	#$11
  7210 00:17E5: B7 01        	lda	[<R0],Y
  7211 00:17E7: A0 13 00     	ldy	#$13
  7212 00:17EA: 17 01        	ora	[<R0],Y
  7213 00:17EC: D0 03        	bne	L257
  7214 00:17EE: 82 B7 00     	brl	L10158
  7215                        L257:
  7216                        	.line	1015
  7217                        ;						temp1 = 
                    strlen(p->desktopCtl->currentDiskName);
  7218                        	.line	1016
  7219 00:17F1: A0 58 00     	ldy	#$58
  7220 00:17F4: B7 11        	lda	[<L218+p_1],Y
  7221 00:17F6: 85 01        	sta	<R0
  7222 00:17F8: A0 5A 00     	ldy	#$5a
  7223 00:17FB: B7 11        	lda	[<L218+p_1],Y
  7224 00:17FD: 85 03        	sta	<R0+2
  7225 00:17FF: A0 13 00     	ldy	#$13
  7226 00:1802: B7 01        	lda	[<R0],Y
  7227 00:1804: 48           	pha
  7228 00:1805: A0 11 00     	ldy	#$11
  7229 00:1808: B7 01        	lda	[<R0],Y
  7230 00:180A: 48           	pha
  7231 00:180B: 22 xx xx xx  	jsl	~~strlen
  7232 00:180F: 85 1E        	sta	<L218+temp1_1
  7233                        ;						temp2 = 
                    (temp1*4);
  7234                        	.line	1017
  7235 00:1811: A5 1E        	lda	<L218+temp1_1
  7236 00:1813: 0A           	asl	A
  7237 00:1814: 0A           	asl	A
  7238 00:1815: 85 20        	sta	<L218+temp2_1
  7239                        ;						k_put_wi
                    nicon_point(ICON_DISK,640 - (40 + temp2/2),20,p->desktopCtl-
                    >backgroundColor,PAINTMODE_BACKGROUND);
  7240                        	.line	1018
  7241 00:1817: F4 F0 00     	pea	#<$f0
  7242 00:181A: A0 58 00     	ldy	#$58
  7243 00:181D: B7 11        	lda	[<L218+p_1],Y
  7244 00:181F: 85 01        	sta	<R0
  7245 00:1821: A0 5A 00     	ldy	#$5a
  7246 00:1824: B7 11        	lda	[<L218+p_1],Y
  7247 00:1826: 85 03        	sta	<R0+2
  7248 00:1828: A0 05 00     	ldy	#$5
  7249 00:182B: B7 01        	lda	[<R0],Y
  7250 00:182D: 48           	pha
  7251 00:182E: F4 14 00     	pea	#<$14
  7252 00:1831: A5 20        	lda	<L218+temp2_1
  7253 00:1833: A2 02 00     	ldx	#<$2
  7254                        	xref	~~~div
  7255 00:1836: 22 xx xx xx  	jsl	~~~div
  7256 00:183A: 85 01        	sta	<R0
  7257 00:183C: 18           	clc
  7258 00:183D: A9 28 00     	lda	#$28
  7259 00:1840: 65 01        	adc	<R0
  7260 00:1842: 85 05        	sta	<R1
  7261 00:1844: 38           	sec
  Sat Jul 10 2021  1:15                                                Page 135


  7262 00:1845: A9 80 02     	lda	#$280
  7263 00:1848: E5 05        	sbc	<R1
  7264 00:184A: 48           	pha
  7265 00:184B: F4 03 00     	pea	#<$3
  7266 00:184E: 22 xx xx xx  	jsl	~~k_put_winicon_point
  7267                        ;						k_draw_t
                    ext_point(p->desktopCtl->currentDiskName,640 - (35 + temp2/2
                    ) - (temp2),40,p->desktopCtl->backgroundColor);
  7268                        	.line	1019
  7269 00:1852: A0 58 00     	ldy	#$58
  7270 00:1855: B7 11        	lda	[<L218+p_1],Y
  7271 00:1857: 85 01        	sta	<R0
  7272 00:1859: A0 5A 00     	ldy	#$5a
  7273 00:185C: B7 11        	lda	[<L218+p_1],Y
  7274 00:185E: 85 03        	sta	<R0+2
  7275 00:1860: A0 05 00     	ldy	#$5
  7276 00:1863: B7 01        	lda	[<R0],Y
  7277 00:1865: 48           	pha
  7278 00:1866: F4 28 00     	pea	#<$28
  7279 00:1869: A5 20        	lda	<L218+temp2_1
  7280 00:186B: A2 02 00     	ldx	#<$2
  7281                        	xref	~~~div
  7282 00:186E: 22 xx xx xx  	jsl	~~~div
  7283 00:1872: 85 05        	sta	<R1
  7284 00:1874: 18           	clc
  7285 00:1875: A9 23 00     	lda	#$23
  7286 00:1878: 65 05        	adc	<R1
  7287 00:187A: 85 09        	sta	<R2
  7288 00:187C: 38           	sec
  7289 00:187D: A9 80 02     	lda	#$280
  7290 00:1880: E5 09        	sbc	<R2
  7291 00:1882: 85 05        	sta	<R1
  7292 00:1884: 38           	sec
  7293 00:1885: A5 05        	lda	<R1
  7294 00:1887: E5 20        	sbc	<L218+temp2_1
  7295 00:1889: 48           	pha
  7296 00:188A: A0 58 00     	ldy	#$58
  7297 00:188D: B7 11        	lda	[<L218+p_1],Y
  7298 00:188F: 85 05        	sta	<R1
  7299 00:1891: A0 5A 00     	ldy	#$5a
  7300 00:1894: B7 11        	lda	[<L218+p_1],Y
  7301 00:1896: 85 07        	sta	<R1+2
  7302 00:1898: A0 13 00     	ldy	#$13
  7303 00:189B: B7 05        	lda	[<R1],Y
  7304 00:189D: 48           	pha
  7305 00:189E: A0 11 00     	ldy	#$11
  7306 00:18A1: B7 05        	lda	[<R1],Y
  7307 00:18A3: 48           	pha
  7308 00:18A4: 22 xx xx xx  	jsl	~~k_draw_text_point
  7309                        ;					}
  7310                        	.line	1020
  7311                        ;
  7312                        ;					temp1 = strlen((
                    (PDISKINFO)pMsg->pheap)->stgName);
  7313                        L10158:
  7314                        	.line	1022
  7315 00:18A8: A0 10 00     	ldy	#$10
  7316 00:18AB: B7 34        	lda	[<L217+pMsg_0],Y
  Sat Jul 10 2021  1:15                                                Page 136


  7317 00:18AD: 48           	pha
  7318 00:18AE: A0 0E 00     	ldy	#$e
  7319 00:18B1: B7 34        	lda	[<L217+pMsg_0],Y
  7320 00:18B3: 48           	pha
  7321 00:18B4: 22 xx xx xx  	jsl	~~strlen
  7322 00:18B8: 85 1E        	sta	<L218+temp1_1
  7323                        ;					temp2 = (temp1*4
                    );
  7324                        	.line	1023
  7325 00:18BA: A5 1E        	lda	<L218+temp1_1
  7326 00:18BC: 0A           	asl	A
  7327 00:18BD: 0A           	asl	A
  7328 00:18BE: 85 20        	sta	<L218+temp2_1
  7329                        ;
  7330                        ;					k_put_winicon_po
                    int(ICON_DISK,640 - (40 + temp2/2),20,0,PAINTMODE_DEFAULT);
  7331                        	.line	1025
  7332 00:18C0: F4 00 00     	pea	#<$0
  7333 00:18C3: F4 00 00     	pea	#<$0
  7334 00:18C6: F4 14 00     	pea	#<$14
  7335 00:18C9: A5 20        	lda	<L218+temp2_1
  7336 00:18CB: A2 02 00     	ldx	#<$2
  7337                        	xref	~~~div
  7338 00:18CE: 22 xx xx xx  	jsl	~~~div
  7339 00:18D2: 85 01        	sta	<R0
  7340 00:18D4: 18           	clc
  7341 00:18D5: A9 28 00     	lda	#$28
  7342 00:18D8: 65 01        	adc	<R0
  7343 00:18DA: 85 05        	sta	<R1
  7344 00:18DC: 38           	sec
  7345 00:18DD: A9 80 02     	lda	#$280
  7346 00:18E0: E5 05        	sbc	<R1
  7347 00:18E2: 48           	pha
  7348 00:18E3: F4 03 00     	pea	#<$3
  7349 00:18E6: 22 xx xx xx  	jsl	~~k_put_winicon_point
  7350                        ;					k_draw_text_poin
                    t(k_to_uppercase(((PDISKINFO)pMsg->pheap)->stgName),640 - (3
                    5 + temp2/2) - (temp2),40,0);
  7351                        	.line	1026
  7352 00:18EA: F4 00 00     	pea	#<$0
  7353 00:18ED: F4 28 00     	pea	#<$28
  7354 00:18F0: A5 20        	lda	<L218+temp2_1
  7355 00:18F2: A2 02 00     	ldx	#<$2
  7356                        	xref	~~~div
  7357 00:18F5: 22 xx xx xx  	jsl	~~~div
  7358 00:18F9: 85 01        	sta	<R0
  7359 00:18FB: 18           	clc
  7360 00:18FC: A9 23 00     	lda	#$23
  7361 00:18FF: 65 01        	adc	<R0
  7362 00:1901: 85 05        	sta	<R1
  7363 00:1903: 38           	sec
  7364 00:1904: A9 80 02     	lda	#$280
  7365 00:1907: E5 05        	sbc	<R1
  7366 00:1909: 85 01        	sta	<R0
  7367 00:190B: 38           	sec
  7368 00:190C: A5 01        	lda	<R0
  7369 00:190E: E5 20        	sbc	<L218+temp2_1
  7370 00:1910: 48           	pha
  Sat Jul 10 2021  1:15                                                Page 137


  7371 00:1911: A0 10 00     	ldy	#$10
  7372 00:1914: B7 34        	lda	[<L217+pMsg_0],Y
  7373 00:1916: 48           	pha
  7374 00:1917: A0 0E 00     	ldy	#$e
  7375 00:191A: B7 34        	lda	[<L217+pMsg_0],Y
  7376 00:191C: 48           	pha
  7377 00:191D: 22 xx xx xx  	jsl	~~k_to_uppercase
  7378 00:1921: 85 01        	sta	<R0
  7379 00:1923: 86 03        	stx	<R0+2
  7380 00:1925: DA           	phx
  7381 00:1926: 48           	pha
  7382 00:1927: 22 xx xx xx  	jsl	~~k_draw_text_point
  7383                        ;
  7384                        ;					if(p->desktopCtl
                    ->currentDiskName!=NULL)
  7385                        	.line	1028
  7386                        ;						k_mem_de
                    allocate_heap(p->desktopCtl->currentDiskName);
  7387 00:192B: A0 58 00     	ldy	#$58
  7388 00:192E: B7 11        	lda	[<L218+p_1],Y
  7389 00:1930: 85 01        	sta	<R0
  7390 00:1932: A0 5A 00     	ldy	#$5a
  7391 00:1935: B7 11        	lda	[<L218+p_1],Y
  7392 00:1937: 85 03        	sta	<R0+2
  7393 00:1939: A0 11 00     	ldy	#$11
  7394 00:193C: B7 01        	lda	[<R0],Y
  7395 00:193E: A0 13 00     	ldy	#$13
  7396 00:1941: 17 01        	ora	[<R0],Y
  7397 00:1943: D0 03        	bne	L258
  7398 00:1945: 82 1E 00     	brl	L10159
  7399                        L258:
  7400                        	.line	1029
  7401 00:1948: A0 58 00     	ldy	#$58
  7402 00:194B: B7 11        	lda	[<L218+p_1],Y
  7403 00:194D: 85 01        	sta	<R0
  7404 00:194F: A0 5A 00     	ldy	#$5a
  7405 00:1952: B7 11        	lda	[<L218+p_1],Y
  7406 00:1954: 85 03        	sta	<R0+2
  7407 00:1956: A0 13 00     	ldy	#$13
  7408 00:1959: B7 01        	lda	[<R0],Y
  7409 00:195B: 48           	pha
  7410 00:195C: A0 11 00     	ldy	#$11
  7411 00:195F: B7 01        	lda	[<R0],Y
  7412 00:1961: 48           	pha
  7413 00:1962: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
  7414                        ;
  7415                        ;					p->desktopCtl->c
                    urrentDiskName = k_string_copy_string(((PDISKINFO)pMsg->phea
                    p)->stgName);
  7416                        L10159:
  7417                        	.line	1031
  7418 00:1966: A0 58 00     	ldy	#$58
  7419 00:1969: B7 11        	lda	[<L218+p_1],Y
  7420 00:196B: 85 01        	sta	<R0
  7421 00:196D: A0 5A 00     	ldy	#$5a
  7422 00:1970: B7 11        	lda	[<L218+p_1],Y
  7423 00:1972: 85 03        	sta	<R0+2
  7424 00:1974: A0 10 00     	ldy	#$10
  Sat Jul 10 2021  1:15                                                Page 138


  7425 00:1977: B7 34        	lda	[<L217+pMsg_0],Y
  7426 00:1979: 48           	pha
  7427 00:197A: A0 0E 00     	ldy	#$e
  7428 00:197D: B7 34        	lda	[<L217+pMsg_0],Y
  7429 00:197F: 48           	pha
  7430 00:1980: 22 xx xx xx  	jsl	~~k_string_copy_string
  7431 00:1984: 85 05        	sta	<R1
  7432 00:1986: 86 07        	stx	<R1+2
  7433 00:1988: A5 05        	lda	<R1
  7434 00:198A: A0 11 00     	ldy	#$11
  7435 00:198D: 97 01        	sta	[<R0],Y
  7436 00:198F: A5 07        	lda	<R1+2
  7437 00:1991: A0 13 00     	ldy	#$13
  7438 00:1994: 97 01        	sta	[<R0],Y
  7439                        ;
  7440                        ;					pcd = k_mem_allo
                    cate_heap(sizeof(CLICKDETECTED));
  7441                        	.line	1033
  7442 00:1996: F4 08 00     	pea	#<$8
  7443 00:1999: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  7444 00:199D: 85 25        	sta	<L218+pcd_1
  7445 00:199F: 86 27        	stx	<L218+pcd_1+2
  7446                        ;					if(pcd)
  7447                        	.line	1034
  7448                        ;					{
  7449 00:19A1: A5 25        	lda	<L218+pcd_1
  7450 00:19A3: 05 27        	ora	<L218+pcd_1+2
  7451 00:19A5: D0 03        	bne	L259
  7452 00:19A7: 82 58 00     	brl	L10160
  7453                        L259:
  7454                        	.line	1035
  7455                        ;						pcd->win
                    dow  = k_create_ui_window_class(640 - (40 + temp2/2),20,ICON
                    H,ICONW,"disk","icon",NULL);
  7456                        	.line	1036
  7457 00:19AA: F4 00 00     	pea	#^$0
  7458 00:19AD: F4 00 00     	pea	#<$0
  7459 00:19B0: F4 xx xx     	pea	#^L216+382
  7460 00:19B3: F4 xx xx     	pea	#<L216+382
  7461 00:19B6: F4 xx xx     	pea	#^L216+377
  7462 00:19B9: F4 xx xx     	pea	#<L216+377
  7463 00:19BC: F4 10 00     	pea	#<$10
  7464 00:19BF: F4 10 00     	pea	#<$10
  7465 00:19C2: F4 14 00     	pea	#<$14
  7466 00:19C5: A5 20        	lda	<L218+temp2_1
  7467 00:19C7: A2 02 00     	ldx	#<$2
  7468                        	xref	~~~div
  7469 00:19CA: 22 xx xx xx  	jsl	~~~div
  7470 00:19CE: 85 01        	sta	<R0
  7471 00:19D0: 18           	clc
  7472 00:19D1: A9 28 00     	lda	#$28
  7473 00:19D4: 65 01        	adc	<R0
  7474 00:19D6: 85 05        	sta	<R1
  7475 00:19D8: 38           	sec
  7476 00:19D9: A9 80 02     	lda	#$280
  7477 00:19DC: E5 05        	sbc	<R1
  7478 00:19DE: 48           	pha
  7479 00:19DF: 22 xx xx xx  	jsl	~~k_create_ui_window_class
  Sat Jul 10 2021  1:15                                                Page 139


  7480 00:19E3: 85 01        	sta	<R0
  7481 00:19E5: 86 03        	stx	<R0+2
  7482 00:19E7: A5 01        	lda	<R0
  7483 00:19E9: 87 25        	sta	[<L218+pcd_1]
  7484 00:19EB: A5 03        	lda	<R0+2
  7485 00:19ED: A0 02 00     	ldy	#$2
  7486 00:19F0: 97 25        	sta	[<L218+pcd_1],Y
  7487                        ;						pcd->han
                    dler = ObjectClicked;
  7488                        	.line	1037
  7489 00:19F2: A9 xx xx     	lda	#<~~ObjectClicked
  7490 00:19F5: A0 04 00     	ldy	#$4
  7491 00:19F8: 97 25        	sta	[<L218+pcd_1],Y
  7492 00:19FA: A9 xx xx     	lda	#^~~ObjectClicked
  7493 00:19FD: A0 06 00     	ldy	#$6
  7494 00:1A00: 97 25        	sta	[<L218+pcd_1],Y
  7495                        ;						//k_add_
                    window_hit_node(pcd);
  7496                        ;					}
  7497                        	.line	1039
  7498                        ;
  7499                        ;					k_debug_message(
                    "DefConsoleProc::DISK-INSERT:DISK:",p->desktopCtl->currentDi
                    skName);
  7500                        L10160:
  7501                        	.line	1041
  7502 00:1A02: A0 58 00     	ldy	#$58
  7503 00:1A05: B7 11        	lda	[<L218+p_1],Y
  7504 00:1A07: 85 01        	sta	<R0
  7505 00:1A09: A0 5A 00     	ldy	#$5a
  7506 00:1A0C: B7 11        	lda	[<L218+p_1],Y
  7507 00:1A0E: 85 03        	sta	<R0+2
  7508 00:1A10: A0 13 00     	ldy	#$13
  7509 00:1A13: B7 01        	lda	[<R0],Y
  7510 00:1A15: 48           	pha
  7511 00:1A16: A0 11 00     	ldy	#$11
  7512 00:1A19: B7 01        	lda	[<R0],Y
  7513 00:1A1B: 48           	pha
  7514 00:1A1C: F4 xx xx     	pea	#^L216+387
  7515 00:1A1F: F4 xx xx     	pea	#<L216+387
  7516 00:1A22: 22 xx xx xx  	jsl	~~k_debug_message
  7517                        ;				}
  7518                        	.line	1042
  7519                        L10157:
  7520                        ;			}
  7521                        	.line	1043
  7522                        ;			else
  7523 00:1A26: 82 34 00     	brl	L10161
  7524                        L10155:
  7525                        ;			{
  7526                        	.line	1045
  7527                        ;				if(pMsg && pMsg->pheap)
  7528                        	.line	1046
  7529                        ;					k_put_string(0,5
                    1,((PDISKINFO)pMsg->pheap)->stgName,15,0);
  7530 00:1A29: A5 34        	lda	<L217+pMsg_0
  7531 00:1A2B: 05 36        	ora	<L217+pMsg_0+2
  7532 00:1A2D: D0 03        	bne	L260
  Sat Jul 10 2021  1:15                                                Page 140


  7533 00:1A2F: 82 2B 00     	brl	L10162
  7534                        L260:
  7535 00:1A32: A0 0E 00     	ldy	#$e
  7536 00:1A35: B7 34        	lda	[<L217+pMsg_0],Y
  7537 00:1A37: A0 10 00     	ldy	#$10
  7538 00:1A3A: 17 34        	ora	[<L217+pMsg_0],Y
  7539 00:1A3C: D0 03        	bne	L261
  7540 00:1A3E: 82 1C 00     	brl	L10162
  7541                        L261:
  7542                        	.line	1047
  7543 00:1A41: F4 00 00     	pea	#<$0
  7544 00:1A44: F4 0F 00     	pea	#<$f
  7545 00:1A47: A0 10 00     	ldy	#$10
  7546 00:1A4A: B7 34        	lda	[<L217+pMsg_0],Y
  7547 00:1A4C: 48           	pha
  7548 00:1A4D: A0 0E 00     	ldy	#$e
  7549 00:1A50: B7 34        	lda	[<L217+pMsg_0],Y
  7550 00:1A52: 48           	pha
  7551 00:1A53: F4 33 00     	pea	#<$33
  7552 00:1A56: F4 00 00     	pea	#<$0
  7553 00:1A59: 22 xx xx xx  	jsl	~~k_put_string
  7554                        ;			}
  7555                        L10162:
  7556                        	.line	1048
  7557                        L10161:
  7558                        ;
  7559                        ;			break;
  7560                        	.line	1050
  7561 00:1A5D: 82 5D 07     	brl	L10116
  7562                        ;		case FX_DISK_REMOVE:
  7563                        	.line	1051
  7564                        L10163:
  7565                        ;
  7566                        ;			k_debug_string("DefConsoleProc::
                    DISK-REMOVE\r\n");
  7567                        	.line	1053
  7568 00:1A60: F4 xx xx     	pea	#^L216+421
  7569 00:1A63: F4 xx xx     	pea	#<L216+421
  7570 00:1A66: 22 xx xx xx  	jsl	~~k_debug_string
  7571                        ;
  7572                        ;			if(p->consoleCtl->desktopMode )
  7573                        	.line	1055
  7574                        ;			{
  7575 00:1A6A: A0 54 00     	ldy	#$54
  7576 00:1A6D: B7 11        	lda	[<L218+p_1],Y
  7577 00:1A6F: 85 01        	sta	<R0
  7578 00:1A71: A0 56 00     	ldy	#$56
  7579 00:1A74: B7 11        	lda	[<L218+p_1],Y
  7580 00:1A76: 85 03        	sta	<R0+2
  7581 00:1A78: A0 31 00     	ldy	#$31
  7582 00:1A7B: B7 01        	lda	[<R0],Y
  7583 00:1A7D: 29 FF 00     	and	#$ff
  7584 00:1A80: D0 03        	bne	L262
  7585 00:1A82: 82 72 01     	brl	L10164
  7586                        L262:
  7587                        	.line	1056
  7588                        ;				if(p->desktopCtl->curren
                    tDiskName)
  Sat Jul 10 2021  1:15                                                Page 141


  7589                        	.line	1057
  7590                        ;				{
  7591 00:1A85: A0 58 00     	ldy	#$58
  7592 00:1A88: B7 11        	lda	[<L218+p_1],Y
  7593 00:1A8A: 85 01        	sta	<R0
  7594 00:1A8C: A0 5A 00     	ldy	#$5a
  7595 00:1A8F: B7 11        	lda	[<L218+p_1],Y
  7596 00:1A91: 85 03        	sta	<R0+2
  7597 00:1A93: A0 11 00     	ldy	#$11
  7598 00:1A96: B7 01        	lda	[<R0],Y
  7599 00:1A98: A0 13 00     	ldy	#$13
  7600 00:1A9B: 17 01        	ora	[<R0],Y
  7601 00:1A9D: D0 03        	bne	L263
  7602 00:1A9F: 82 52 01     	brl	L10165
  7603                        L263:
  7604                        	.line	1058
  7605                        ;					k_debug_message(
                    "DefConsoleProc::DISK-REMOVE:DISK:",p->desktopCtl->currentDi
                    skName);
  7606                        	.line	1059
  7607 00:1AA2: A0 58 00     	ldy	#$58
  7608 00:1AA5: B7 11        	lda	[<L218+p_1],Y
  7609 00:1AA7: 85 01        	sta	<R0
  7610 00:1AA9: A0 5A 00     	ldy	#$5a
  7611 00:1AAC: B7 11        	lda	[<L218+p_1],Y
  7612 00:1AAE: 85 03        	sta	<R0+2
  7613 00:1AB0: A0 13 00     	ldy	#$13
  7614 00:1AB3: B7 01        	lda	[<R0],Y
  7615 00:1AB5: 48           	pha
  7616 00:1AB6: A0 11 00     	ldy	#$11
  7617 00:1AB9: B7 01        	lda	[<R0],Y
  7618 00:1ABB: 48           	pha
  7619 00:1ABC: F4 xx xx     	pea	#^L216+451
  7620 00:1ABF: F4 xx xx     	pea	#<L216+451
  7621 00:1AC2: 22 xx xx xx  	jsl	~~k_debug_message
  7622                        ;					k_debug_integer(
                    "DefConsoleProc::DISK-REMOVE:backgroundColor:",p->desktopCtl
                    ->backgroundColor);
  7623                        	.line	1060
  7624 00:1AC6: A0 58 00     	ldy	#$58
  7625 00:1AC9: B7 11        	lda	[<L218+p_1],Y
  7626 00:1ACB: 85 01        	sta	<R0
  7627 00:1ACD: A0 5A 00     	ldy	#$5a
  7628 00:1AD0: B7 11        	lda	[<L218+p_1],Y
  7629 00:1AD2: 85 03        	sta	<R0+2
  7630 00:1AD4: A0 05 00     	ldy	#$5
  7631 00:1AD7: B7 01        	lda	[<R0],Y
  7632 00:1AD9: 48           	pha
  7633 00:1ADA: F4 xx xx     	pea	#^L216+485
  7634 00:1ADD: F4 xx xx     	pea	#<L216+485
  7635 00:1AE0: 22 xx xx xx  	jsl	~~k_debug_integer
  7636                        ;
  7637                        ;					temp1 = strlen(p
                    ->desktopCtl->currentDiskName);
  7638                        	.line	1062
  7639 00:1AE4: A0 58 00     	ldy	#$58
  7640 00:1AE7: B7 11        	lda	[<L218+p_1],Y
  7641 00:1AE9: 85 01        	sta	<R0
  Sat Jul 10 2021  1:15                                                Page 142


  7642 00:1AEB: A0 5A 00     	ldy	#$5a
  7643 00:1AEE: B7 11        	lda	[<L218+p_1],Y
  7644 00:1AF0: 85 03        	sta	<R0+2
  7645 00:1AF2: A0 13 00     	ldy	#$13
  7646 00:1AF5: B7 01        	lda	[<R0],Y
  7647 00:1AF7: 48           	pha
  7648 00:1AF8: A0 11 00     	ldy	#$11
  7649 00:1AFB: B7 01        	lda	[<R0],Y
  7650 00:1AFD: 48           	pha
  7651 00:1AFE: 22 xx xx xx  	jsl	~~strlen
  7652 00:1B02: 85 1E        	sta	<L218+temp1_1
  7653                        ;					temp2 = (temp1*4
                    );
  7654                        	.line	1063
  7655 00:1B04: A5 1E        	lda	<L218+temp1_1
  7656 00:1B06: 0A           	asl	A
  7657 00:1B07: 0A           	asl	A
  7658 00:1B08: 85 20        	sta	<L218+temp2_1
  7659                        ;
  7660                        ;					k_put_winicon_po
                    int(ICON_DISK,640 - (40 + temp2/2),20,p->desktopCtl->backgro
                    undColor,PAINTMODE_BACKGROUND);
  7661                        	.line	1065
  7662 00:1B0A: F4 F0 00     	pea	#<$f0
  7663 00:1B0D: A0 58 00     	ldy	#$58
  7664 00:1B10: B7 11        	lda	[<L218+p_1],Y
  7665 00:1B12: 85 01        	sta	<R0
  7666 00:1B14: A0 5A 00     	ldy	#$5a
  7667 00:1B17: B7 11        	lda	[<L218+p_1],Y
  7668 00:1B19: 85 03        	sta	<R0+2
  7669 00:1B1B: A0 05 00     	ldy	#$5
  7670 00:1B1E: B7 01        	lda	[<R0],Y
  7671 00:1B20: 48           	pha
  7672 00:1B21: F4 14 00     	pea	#<$14
  7673 00:1B24: A5 20        	lda	<L218+temp2_1
  7674 00:1B26: A2 02 00     	ldx	#<$2
  7675                        	xref	~~~div
  7676 00:1B29: 22 xx xx xx  	jsl	~~~div
  7677 00:1B2D: 85 01        	sta	<R0
  7678 00:1B2F: 18           	clc
  7679 00:1B30: A9 28 00     	lda	#$28
  7680 00:1B33: 65 01        	adc	<R0
  7681 00:1B35: 85 05        	sta	<R1
  7682 00:1B37: 38           	sec
  7683 00:1B38: A9 80 02     	lda	#$280
  7684 00:1B3B: E5 05        	sbc	<R1
  7685 00:1B3D: 48           	pha
  7686 00:1B3E: F4 03 00     	pea	#<$3
  7687 00:1B41: 22 xx xx xx  	jsl	~~k_put_winicon_point
  7688                        ;					k_draw_text_poin
                    t(p->desktopCtl->currentDiskName,640 - (35 + temp2/2) - (tem
                    p2),40,p->desktopCtl->backgroundColor);
  7689                        	.line	1066
  7690 00:1B45: A0 58 00     	ldy	#$58
  7691 00:1B48: B7 11        	lda	[<L218+p_1],Y
  7692 00:1B4A: 85 01        	sta	<R0
  7693 00:1B4C: A0 5A 00     	ldy	#$5a
  7694 00:1B4F: B7 11        	lda	[<L218+p_1],Y
  Sat Jul 10 2021  1:15                                                Page 143


  7695 00:1B51: 85 03        	sta	<R0+2
  7696 00:1B53: A0 05 00     	ldy	#$5
  7697 00:1B56: B7 01        	lda	[<R0],Y
  7698 00:1B58: 48           	pha
  7699 00:1B59: F4 28 00     	pea	#<$28
  7700 00:1B5C: A5 20        	lda	<L218+temp2_1
  7701 00:1B5E: A2 02 00     	ldx	#<$2
  7702                        	xref	~~~div
  7703 00:1B61: 22 xx xx xx  	jsl	~~~div
  7704 00:1B65: 85 05        	sta	<R1
  7705 00:1B67: 18           	clc
  7706 00:1B68: A9 23 00     	lda	#$23
  7707 00:1B6B: 65 05        	adc	<R1
  7708 00:1B6D: 85 09        	sta	<R2
  7709 00:1B6F: 38           	sec
  7710 00:1B70: A9 80 02     	lda	#$280
  7711 00:1B73: E5 09        	sbc	<R2
  7712 00:1B75: 85 05        	sta	<R1
  7713 00:1B77: 38           	sec
  7714 00:1B78: A5 05        	lda	<R1
  7715 00:1B7A: E5 20        	sbc	<L218+temp2_1
  7716 00:1B7C: 48           	pha
  7717 00:1B7D: A0 58 00     	ldy	#$58
  7718 00:1B80: B7 11        	lda	[<L218+p_1],Y
  7719 00:1B82: 85 05        	sta	<R1
  7720 00:1B84: A0 5A 00     	ldy	#$5a
  7721 00:1B87: B7 11        	lda	[<L218+p_1],Y
  7722 00:1B89: 85 07        	sta	<R1+2
  7723 00:1B8B: A0 13 00     	ldy	#$13
  7724 00:1B8E: B7 05        	lda	[<R1],Y
  7725 00:1B90: 48           	pha
  7726 00:1B91: A0 11 00     	ldy	#$11
  7727 00:1B94: B7 05        	lda	[<R1],Y
  7728 00:1B96: 48           	pha
  7729 00:1B97: 22 xx xx xx  	jsl	~~k_draw_text_point
  7730                        ;
  7731                        ;					if(p->desktopCtl
                    ->currentDiskName!=NULL)
  7732                        	.line	1068
  7733                        ;						k_mem_de
                    allocate_heap(p->desktopCtl->currentDiskName);
  7734 00:1B9B: A0 58 00     	ldy	#$58
  7735 00:1B9E: B7 11        	lda	[<L218+p_1],Y
  7736 00:1BA0: 85 01        	sta	<R0
  7737 00:1BA2: A0 5A 00     	ldy	#$5a
  7738 00:1BA5: B7 11        	lda	[<L218+p_1],Y
  7739 00:1BA7: 85 03        	sta	<R0+2
  7740 00:1BA9: A0 11 00     	ldy	#$11
  7741 00:1BAC: B7 01        	lda	[<R0],Y
  7742 00:1BAE: A0 13 00     	ldy	#$13
  7743 00:1BB1: 17 01        	ora	[<R0],Y
  7744 00:1BB3: D0 03        	bne	L264
  7745 00:1BB5: 82 1E 00     	brl	L10166
  7746                        L264:
  7747                        	.line	1069
  7748 00:1BB8: A0 58 00     	ldy	#$58
  7749 00:1BBB: B7 11        	lda	[<L218+p_1],Y
  7750 00:1BBD: 85 01        	sta	<R0
  Sat Jul 10 2021  1:15                                                Page 144


  7751 00:1BBF: A0 5A 00     	ldy	#$5a
  7752 00:1BC2: B7 11        	lda	[<L218+p_1],Y
  7753 00:1BC4: 85 03        	sta	<R0+2
  7754 00:1BC6: A0 13 00     	ldy	#$13
  7755 00:1BC9: B7 01        	lda	[<R0],Y
  7756 00:1BCB: 48           	pha
  7757 00:1BCC: A0 11 00     	ldy	#$11
  7758 00:1BCF: B7 01        	lda	[<R0],Y
  7759 00:1BD1: 48           	pha
  7760 00:1BD2: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
  7761                        ;
  7762                        ;					p->desktopCtl->c
                    urrentDiskName = NULL;
  7763                        L10166:
  7764                        	.line	1071
  7765 00:1BD6: A0 58 00     	ldy	#$58
  7766 00:1BD9: B7 11        	lda	[<L218+p_1],Y
  7767 00:1BDB: 85 01        	sta	<R0
  7768 00:1BDD: A0 5A 00     	ldy	#$5a
  7769 00:1BE0: B7 11        	lda	[<L218+p_1],Y
  7770 00:1BE2: 85 03        	sta	<R0+2
  7771 00:1BE4: A9 00 00     	lda	#$0
  7772 00:1BE7: A0 11 00     	ldy	#$11
  7773 00:1BEA: 97 01        	sta	[<R0],Y
  7774 00:1BEC: A9 00 00     	lda	#$0
  7775 00:1BEF: A0 13 00     	ldy	#$13
  7776 00:1BF2: 97 01        	sta	[<R0],Y
  7777                        ;				}
  7778                        	.line	1072
  7779                        ;			}
  7780                        L10165:
  7781                        	.line	1073
  7782                        ;			else
  7783 00:1BF4: 82 16 00     	brl	L10167
  7784                        L10164:
  7785                        ;				k_put_string(0,51,"No Di
                    sk Detected                               ",15,0);
  7786                        	.line	1075
  7787 00:1BF7: F4 00 00     	pea	#<$0
  7788 00:1BFA: F4 0F 00     	pea	#<$f
  7789 00:1BFD: F4 xx xx     	pea	#^L216+530
  7790 00:1C00: F4 xx xx     	pea	#<L216+530
  7791 00:1C03: F4 33 00     	pea	#<$33
  7792 00:1C06: F4 00 00     	pea	#<$0
  7793 00:1C09: 22 xx xx xx  	jsl	~~k_put_string
  7794                        L10167:
  7795                        ;
  7796                        ;			break;
  7797                        	.line	1077
  7798 00:1C0D: 82 AD 05     	brl	L10116
  7799                        ;		case FX_APP_MESSAGE:
  7800                        	.line	1078
  7801                        L10168:
  7802                        ;			k_debug_string("DefConsoleProc::
                    FX_APP_MESSAGE\r\n");
  7803                        	.line	1079
  7804 00:1C10: F4 xx xx     	pea	#^L216+578
  7805 00:1C13: F4 xx xx     	pea	#<L216+578
  Sat Jul 10 2021  1:15                                                Page 145


  7806 00:1C16: 22 xx xx xx  	jsl	~~k_debug_string
  7807                        ;			if(pMsg->pheap)
  7808                        	.line	1080
  7809                        ;			{
  7810 00:1C1A: A0 0E 00     	ldy	#$e
  7811 00:1C1D: B7 34        	lda	[<L217+pMsg_0],Y
  7812 00:1C1F: A0 10 00     	ldy	#$10
  7813 00:1C22: 17 34        	ora	[<L217+pMsg_0],Y
  7814 00:1C24: D0 03        	bne	L265
  7815 00:1C26: 82 7F 00     	brl	L10169
  7816                        L265:
  7817                        	.line	1081
  7818                        ;				if(((PCOMMANDARGS)pMsg->
                    pheap)->proc)
  7819                        	.line	1082
  7820                        ;				{
  7821 00:1C29: A0 0E 00     	ldy	#$e
  7822 00:1C2C: B7 34        	lda	[<L217+pMsg_0],Y
  7823 00:1C2E: 85 01        	sta	<R0
  7824 00:1C30: A0 10 00     	ldy	#$10
  7825 00:1C33: B7 34        	lda	[<L217+pMsg_0],Y
  7826 00:1C35: 85 03        	sta	<R0+2
  7827 00:1C37: A7 01        	lda	[<R0]
  7828 00:1C39: A0 02 00     	ldy	#$2
  7829 00:1C3C: 17 01        	ora	[<R0],Y
  7830 00:1C3E: D0 03        	bne	L266
  7831 00:1C40: 82 3B 00     	brl	L10170
  7832                        L266:
  7833                        	.line	1083
  7834                        ;					((PCOMMANDARGS)p
                    Msg->pheap)->proc(p,((PCOMMANDARGS)pMsg->pheap)->tokens);
  7835                        	.line	1084
  7836 00:1C43: A0 0E 00     	ldy	#$e
  7837 00:1C46: B7 34        	lda	[<L217+pMsg_0],Y
  7838 00:1C48: 85 01        	sta	<R0
  7839 00:1C4A: A0 10 00     	ldy	#$10
  7840 00:1C4D: B7 34        	lda	[<L217+pMsg_0],Y
  7841 00:1C4F: 85 03        	sta	<R0+2
  7842 00:1C51: A0 06 00     	ldy	#$6
  7843 00:1C54: B7 01        	lda	[<R0],Y
  7844 00:1C56: 48           	pha
  7845 00:1C57: A0 04 00     	ldy	#$4
  7846 00:1C5A: B7 01        	lda	[<R0],Y
  7847 00:1C5C: 48           	pha
  7848 00:1C5D: D4 13        	pei	<L218+p_1+2
  7849 00:1C5F: D4 11        	pei	<L218+p_1
  7850 00:1C61: A0 0E 00     	ldy	#$e
  7851 00:1C64: B7 34        	lda	[<L217+pMsg_0],Y
  7852 00:1C66: 85 01        	sta	<R0
  7853 00:1C68: A0 10 00     	ldy	#$10
  7854 00:1C6B: B7 34        	lda	[<L217+pMsg_0],Y
  7855 00:1C6D: 85 03        	sta	<R0+2
  7856 00:1C6F: A0 02 00     	ldy	#$2
  7857 00:1C72: B7 01        	lda	[<R0],Y
  7858 00:1C74: AA           	tax
  7859 00:1C75: A7 01        	lda	[<R0]
  7860                        	xref	~~~lcal
  7861 00:1C77: 22 xx xx xx  	jsl	~~~lcal
  Sat Jul 10 2021  1:15                                                Page 146


  7862                        ;					//((FXCommandHan
                    dler)pMsg->pheap)(p);
  7863                        ;				}
  7864                        	.line	1086
  7865                        ;				else
  7866 00:1C7B: 82 0A 00     	brl	L10171
  7867                        L10170:
  7868                        ;				{
  7869                        	.line	1088
  7870                        ;					k_debug_string("
                    DefConsoleProc::FX_APP_MESSAGE BAD PROC\r\n");
  7871                        	.line	1089
  7872 00:1C7E: F4 xx xx     	pea	#^L216+611
  7873 00:1C81: F4 xx xx     	pea	#<L216+611
  7874 00:1C84: 22 xx xx xx  	jsl	~~k_debug_string
  7875                        ;				}
  7876                        	.line	1090
  7877                        L10171:
  7878                        ;
  7879                        ;				k_mem_deallocate_heap(pM
                    sg->pheap);
  7880                        	.line	1092
  7881 00:1C88: A0 10 00     	ldy	#$10
  7882 00:1C8B: B7 34        	lda	[<L217+pMsg_0],Y
  7883 00:1C8D: 48           	pha
  7884 00:1C8E: A0 0E 00     	ldy	#$e
  7885 00:1C91: B7 34        	lda	[<L217+pMsg_0],Y
  7886 00:1C93: 48           	pha
  7887 00:1C94: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
  7888                        ;				pMsg->pheap = NULL;
  7889                        	.line	1093
  7890 00:1C98: A9 00 00     	lda	#$0
  7891 00:1C9B: A0 0E 00     	ldy	#$e
  7892 00:1C9E: 97 34        	sta	[<L217+pMsg_0],Y
  7893 00:1CA0: A9 00 00     	lda	#$0
  7894 00:1CA3: A0 10 00     	ldy	#$10
  7895 00:1CA6: 97 34        	sta	[<L217+pMsg_0],Y
  7896                        ;			}
  7897                        	.line	1094
  7898                        ;			k_debug_string("DefConsoleProc::
                    FX_APP_MESSAGE exit\r\n");
  7899                        L10169:
  7900                        	.line	1095
  7901 00:1CA8: F4 xx xx     	pea	#^L216+653
  7902 00:1CAB: F4 xx xx     	pea	#<L216+653
  7903 00:1CAE: 22 xx xx xx  	jsl	~~k_debug_string
  7904                        ;			break;
  7905                        	.line	1096
  7906 00:1CB2: 82 08 05     	brl	L10116
  7907                        ;		case FX_MOUSE_MOVE:
  7908                        	.line	1097
  7909                        L10172:
  7910                        ;			//if(p->consoleCtl->desktopMode 
                    )
  7911                        ;			//	OnMouse(p,pMsg->data[0],
                    MAKEWORD(pMsg->data[1],pMsg->data[2]),MAKEWORD(pMsg->data[3]
                    ,pMsg->data[4]));
  7912                        ;
  Sat Jul 10 2021  1:15                                                Page 147


  7913                        ;
  7914                        ;			break;
  7915                        	.line	1102
  7916 00:1CB5: 82 05 05     	brl	L10116
  7917                        ;
  7918                        ;		case FX_RBUTTON_DOWN:
  7919                        	.line	1104
  7920                        L10173:
  7921                        ;			k_debug_string("DefConsoleProc::
                    FX_RBUTTON_DOWN\r\n");
  7922                        	.line	1105
  7923 00:1CB8: F4 xx xx     	pea	#^L216+691
  7924 00:1CBB: F4 xx xx     	pea	#<L216+691
  7925 00:1CBE: 22 xx xx xx  	jsl	~~k_debug_string
  7926                        ;			//k_exec_throw_exception(0xFF000
                    000,1,"Test Exception Mode Messages",-1);
  7927                        ;			break;
  7928                        	.line	1107
  7929 00:1CC2: 82 F8 04     	brl	L10116
  7930                        ;
  7931                        ;		case FX_LBUTTON_DOWN:
  7932                        	.line	1109
  7933                        L10174:
  7934                        ;			k_debug_string("DefConsoleProc::
                    FX_LBUTTON_DOWN\r\n");
  7935                        	.line	1110
  7936 00:1CC5: F4 xx xx     	pea	#^L216+725
  7937 00:1CC8: F4 xx xx     	pea	#<L216+725
  7938 00:1CCB: 22 xx xx xx  	jsl	~~k_debug_string
  7939                        ;
  7940                        ;
  7941                        ;			break;
  7942                        	.line	1113
  7943 00:1CCF: 82 EB 04     	brl	L10116
  7944                        ;		case FX_LBUTTON_UP:
  7945                        	.line	1114
  7946                        L10175:
  7947                        ;			k_debug_string("DefConsoleProc::
                    FX_LBUTTON_UP\r\n");
  7948                        	.line	1115
  7949 00:1CD2: F4 xx xx     	pea	#^L216+759
  7950 00:1CD5: F4 xx xx     	pea	#<L216+759
  7951 00:1CD8: 22 xx xx xx  	jsl	~~k_debug_string
  7952                        ;			break;
  7953                        	.line	1116
  7954 00:1CDC: 82 DE 04     	brl	L10116
  7955                        ;		case FX_LBUTTON_DRAG:
  7956                        	.line	1117
  7957                        L10176:
  7958                        ;			k_debug_string("DefConsoleProc::
                    FX_LBUTTON_DRAG\r\n");
  7959                        	.line	1118
  7960 00:1CDF: F4 xx xx     	pea	#^L216+791
  7961 00:1CE2: F4 xx xx     	pea	#<L216+791
  7962 00:1CE5: 22 xx xx xx  	jsl	~~k_debug_string
  7963                        ;			break;
  7964                        	.line	1119
  7965 00:1CE9: 82 D1 04     	brl	L10116
  Sat Jul 10 2021  1:15                                                Page 148


  7966                        ;		case FX_LBUTTON_DBLCLICK:
  7967                        	.line	1120
  7968                        L10177:
  7969                        ;			k_debug_string("DefConsoleProc::
                    FX_LBUTTON_DBLCLICK\r\n");
  7970                        	.line	1121
  7971 00:1CEC: F4 xx xx     	pea	#^L216+825
  7972 00:1CEF: F4 xx xx     	pea	#<L216+825
  7973 00:1CF2: 22 xx xx xx  	jsl	~~k_debug_string
  7974                        ;			break;
  7975                        	.line	1122
  7976 00:1CF6: 82 C4 04     	brl	L10116
  7977                        ;
  7978                        ;		case FX_WINDOW_TOFRONT:
  7979                        	.line	1124
  7980                        L10178:
  7981                        ;			k_debug_string("DefConsoleProc::
                    FX_WINDOW_TOFRONT\r\n");
  7982                        	.line	1125
  7983 00:1CF9: F4 xx xx     	pea	#^L216+863
  7984 00:1CFC: F4 xx xx     	pea	#<L216+863
  7985 00:1CFF: 22 xx xx xx  	jsl	~~k_debug_string
  7986                        ;
  7987                        ;			k_vdraw_ui_window(NULL,FXWS_OVER
                    LAPPED,25,25,200,300,"Clicked FRONT",15,3);
  7988                        	.line	1127
  7989 00:1D03: F4 03 00     	pea	#<$3
  7990 00:1D06: F4 0F 00     	pea	#<$f
  7991 00:1D09: F4 xx xx     	pea	#^L216+899
  7992 00:1D0C: F4 xx xx     	pea	#<L216+899
  7993 00:1D0F: F4 2C 01     	pea	#<$12c
  7994 00:1D12: F4 C8 00     	pea	#<$c8
  7995 00:1D15: F4 19 00     	pea	#<$19
  7996 00:1D18: F4 19 00     	pea	#<$19
  7997 00:1D1B: F4 00 00     	pea	#^$0
  7998 00:1D1E: F4 00 00     	pea	#<$0
  7999 00:1D21: F4 00 00     	pea	#^$0
  8000 00:1D24: F4 00 00     	pea	#<$0
  8001 00:1D27: 22 xx xx xx  	jsl	~~k_vdraw_ui_window
  8002                        ;
  8003                        ;			break;
  8004                        	.line	1129
  8005 00:1D2B: 82 8F 04     	brl	L10116
  8006                        ;		case FX_WINDOW_TOBACK:
  8007                        	.line	1130
  8008                        L10179:
  8009                        ;			k_debug_string("DefConsoleProc::
                    FX_WINDOW_TOBACK\r\n");
  8010                        	.line	1131
  8011 00:1D2E: F4 xx xx     	pea	#^L216+913
  8012 00:1D31: F4 xx xx     	pea	#<L216+913
  8013 00:1D34: 22 xx xx xx  	jsl	~~k_debug_string
  8014                        ;
  8015                        ;			k_vdraw_ui_window(NULL,FXWS_OVER
                    LAPPED,250,250,150,200,"Clicked BACK",15,3);
  8016                        	.line	1133
  8017 00:1D38: F4 03 00     	pea	#<$3
  8018 00:1D3B: F4 0F 00     	pea	#<$f
  Sat Jul 10 2021  1:15                                                Page 149


  8019 00:1D3E: F4 xx xx     	pea	#^L216+948
  8020 00:1D41: F4 xx xx     	pea	#<L216+948
  8021 00:1D44: F4 C8 00     	pea	#<$c8
  8022 00:1D47: F4 96 00     	pea	#<$96
  8023 00:1D4A: F4 FA 00     	pea	#<$fa
  8024 00:1D4D: F4 FA 00     	pea	#<$fa
  8025 00:1D50: F4 00 00     	pea	#^$0
  8026 00:1D53: F4 00 00     	pea	#<$0
  8027 00:1D56: F4 00 00     	pea	#^$0
  8028 00:1D59: F4 00 00     	pea	#<$0
  8029 00:1D5C: 22 xx xx xx  	jsl	~~k_vdraw_ui_window
  8030                        ;
  8031                        ;			break;
  8032                        	.line	1135
  8033 00:1D60: 82 5A 04     	brl	L10116
  8034                        ;		case FX_COM1_DATA:
  8035                        	.line	1136
  8036                        L10180:
  8037                        ;			//if(pMsg->data[0]>64)
  8038                        ;			//	k_debug_char("DefConsole
                    Proc::FX_COM1_DATA:",(CHAR)pMsg->data[0]);
  8039                        ;			break;
  8040                        	.line	1139
  8041 00:1D63: 82 57 04     	brl	L10116
  8042                        ;		case FX_COM2_DATA:
  8043                        	.line	1140
  8044                        L10181:
  8045                        ;			//k_debug_string("DefConsoleProc
                    ::FX_COM2_DATA\r\n");
  8046                        ;			break;
  8047                        	.line	1142
  8048 00:1D66: 82 54 04     	brl	L10116
  8049                        ;		case FX_PROCESS:
  8050                        	.line	1143
  8051                        L10182:
  8052                        ;			//k_debug_string("DefConsoleProc
                    ::FX_PROCESS\r\n");
  8053                        ;
  8054                        ;			pctx = (PCONSOLECTX)p->ctx;
  8055                        	.line	1146
  8056 00:1D69: A0 0A 00     	ldy	#$a
  8057 00:1D6C: B7 11        	lda	[<L218+p_1],Y
  8058 00:1D6E: 85 15        	sta	<L218+pctx_1
  8059 00:1D70: A0 0C 00     	ldy	#$c
  8060 00:1D73: B7 11        	lda	[<L218+p_1],Y
  8061 00:1D75: 85 17        	sta	<L218+pctx_1+2
  8062                        ;
  8063                        ;
  8064                        ;			//k_updatespinner(3,40,&consoles
                    pinctx);
  8065                        ;			/*
  8066                        ;			for(i=0;i<100;i++)
  8067                        ;			{
  8068                        ;				asm NOP;
  8069                        ;			}
  8070                        ;			*/
  8071                        ;
  8072                        ;			if(((PFXCOMBUFFER)(pctx->userDat
  Sat Jul 10 2021  1:15                                                Page 150


                    a))->cbBuffer == -1)
  8073                        	.line	1157
  8074                        ;			{
  8075 00:1D77: A0 83 00     	ldy	#$83
  8076 00:1D7A: B7 15        	lda	[<L218+pctx_1],Y
  8077 00:1D7C: 85 01        	sta	<R0
  8078 00:1D7E: A0 85 00     	ldy	#$85
  8079 00:1D81: B7 15        	lda	[<L218+pctx_1],Y
  8080 00:1D83: 85 03        	sta	<R0+2
  8081 00:1D85: A0 02 00     	ldy	#$2
  8082 00:1D88: B7 01        	lda	[<R0],Y
  8083 00:1D8A: C9 FF FF     	cmp	#<$ffffffff
  8084 00:1D8D: F0 03        	beq	L267
  8085 00:1D8F: 82 F2 00     	brl	L10183
  8086                        L267:
  8087                        	.line	1158
  8088                        ;				ptr = strtok(((PFXCOMBUF
                    FER)(pctx->userData))->buffer, "\n");
  8089                        	.line	1159
  8090 00:1D92: F4 xx xx     	pea	#^L216+961
  8091 00:1D95: F4 xx xx     	pea	#<L216+961
  8092 00:1D98: 18           	clc
  8093 00:1D99: A9 04 00     	lda	#$4
  8094 00:1D9C: A0 83 00     	ldy	#$83
  8095 00:1D9F: 77 15        	adc	[<L218+pctx_1],Y
  8096 00:1DA1: 85 01        	sta	<R0
  8097 00:1DA3: A9 00 00     	lda	#$0
  8098 00:1DA6: A0 85 00     	ldy	#$85
  8099 00:1DA9: 77 15        	adc	[<L218+pctx_1],Y
  8100 00:1DAB: 85 03        	sta	<R0+2
  8101 00:1DAD: D4 03        	pei	<R0+2
  8102 00:1DAF: D4 01        	pei	<R0
  8103 00:1DB1: 22 xx xx xx  	jsl	~~strtok
  8104 00:1DB5: 85 0D        	sta	<L218+ptr_1
  8105 00:1DB7: 86 0F        	stx	<L218+ptr_1+2
  8106                        ;
  8107                        ;				while( ptr != NULL )
  8108                        	.line	1161
  8109                        L10184:
  8110 00:1DB9: A5 0D        	lda	<L218+ptr_1
  8111 00:1DBB: 05 0F        	ora	<L218+ptr_1+2
  8112 00:1DBD: D0 03        	bne	L268
  8113 00:1DBF: 82 89 00     	brl	L10185
  8114                        L268:
  8115                        ;				{
  8116                        	.line	1162
  8117                        ;					if(*ptr!='%')
  8118                        	.line	1163
  8119                        ;					{
  8120 00:1DC2: E2 20        	sep	#$20
  8121                        	longa	off
  8122 00:1DC4: A7 0D        	lda	[<L218+ptr_1]
  8123 00:1DC6: C9 25        	cmp	#<$25
  8124 00:1DC8: C2 20        	rep	#$20
  8125                        	longa	on
  8126 00:1DCA: D0 03        	bne	L269
  8127 00:1DCC: 82 65 00     	brl	L10186
  8128                        L269:
  Sat Jul 10 2021  1:15                                                Page 151


  8129                        	.line	1164
  8130                        ;						k_put_st
                    ring(p->consoleCtl->curX,p->consoleCtl->curY,ptr,15,0);
  8131                        	.line	1165
  8132 00:1DCF: F4 00 00     	pea	#<$0
  8133 00:1DD2: F4 0F 00     	pea	#<$f
  8134 00:1DD5: D4 0F        	pei	<L218+ptr_1+2
  8135 00:1DD7: D4 0D        	pei	<L218+ptr_1
  8136 00:1DD9: A0 54 00     	ldy	#$54
  8137 00:1DDC: B7 11        	lda	[<L218+p_1],Y
  8138 00:1DDE: 85 01        	sta	<R0
  8139 00:1DE0: A0 56 00     	ldy	#$56
  8140 00:1DE3: B7 11        	lda	[<L218+p_1],Y
  8141 00:1DE5: 85 03        	sta	<R0+2
  8142 00:1DE7: A0 06 00     	ldy	#$6
  8143 00:1DEA: B7 01        	lda	[<R0],Y
  8144 00:1DEC: 48           	pha
  8145 00:1DED: A0 54 00     	ldy	#$54
  8146 00:1DF0: B7 11        	lda	[<L218+p_1],Y
  8147 00:1DF2: 85 01        	sta	<R0
  8148 00:1DF4: A0 56 00     	ldy	#$56
  8149 00:1DF7: B7 11        	lda	[<L218+p_1],Y
  8150 00:1DF9: 85 03        	sta	<R0+2
  8151 00:1DFB: A0 04 00     	ldy	#$4
  8152 00:1DFE: B7 01        	lda	[<R0],Y
  8153 00:1E00: 48           	pha
  8154 00:1E01: 22 xx xx xx  	jsl	~~k_put_string
  8155                        ;						p->conso
                    leCtl->curX = 0;
  8156                        	.line	1166
  8157 00:1E05: A0 54 00     	ldy	#$54
  8158 00:1E08: B7 11        	lda	[<L218+p_1],Y
  8159 00:1E0A: 85 01        	sta	<R0
  8160 00:1E0C: A0 56 00     	ldy	#$56
  8161 00:1E0F: B7 11        	lda	[<L218+p_1],Y
  8162 00:1E11: 85 03        	sta	<R0+2
  8163 00:1E13: A9 00 00     	lda	#$0
  8164 00:1E16: A0 04 00     	ldy	#$4
  8165 00:1E19: 97 01        	sta	[<R0],Y
  8166                        ;						p->conso
                    leCtl->curY++;
  8167                        	.line	1167
  8168 00:1E1B: A0 54 00     	ldy	#$54
  8169 00:1E1E: B7 11        	lda	[<L218+p_1],Y
  8170 00:1E20: 85 01        	sta	<R0
  8171 00:1E22: A0 56 00     	ldy	#$56
  8172 00:1E25: B7 11        	lda	[<L218+p_1],Y
  8173 00:1E27: 85 03        	sta	<R0+2
  8174 00:1E29: A0 06 00     	ldy	#$6
  8175 00:1E2C: B7 01        	lda	[<R0],Y
  8176 00:1E2E: 1A           	ina
  8177 00:1E2F: A0 06 00     	ldy	#$6
  8178 00:1E32: 97 01        	sta	[<R0],Y
  8179                        ;					}
  8180                        	.line	1168
  8181                        ;					ptr = strtok(NUL
                    L, "\n");
  8182                        L10186:
  Sat Jul 10 2021  1:15                                                Page 152


  8183                        	.line	1169
  8184 00:1E34: F4 xx xx     	pea	#^L216+963
  8185 00:1E37: F4 xx xx     	pea	#<L216+963
  8186 00:1E3A: F4 00 00     	pea	#^$0
  8187 00:1E3D: F4 00 00     	pea	#<$0
  8188 00:1E40: 22 xx xx xx  	jsl	~~strtok
  8189 00:1E44: 85 0D        	sta	<L218+ptr_1
  8190 00:1E46: 86 0F        	stx	<L218+ptr_1+2
  8191                        ;				}
  8192                        	.line	1170
  8193 00:1E48: 82 6E FF     	brl	L10184
  8194                        L10185:
  8195                        ;
  8196                        ;				((PFXCOMBUFFER)(pctx->us
                    erData))->cbBuffer = 0;
  8197                        	.line	1172
  8198 00:1E4B: A0 83 00     	ldy	#$83
  8199 00:1E4E: B7 15        	lda	[<L218+pctx_1],Y
  8200 00:1E50: 85 01        	sta	<R0
  8201 00:1E52: A0 85 00     	ldy	#$85
  8202 00:1E55: B7 15        	lda	[<L218+pctx_1],Y
  8203 00:1E57: 85 03        	sta	<R0+2
  8204 00:1E59: A9 00 00     	lda	#$0
  8205 00:1E5C: A0 02 00     	ldy	#$2
  8206 00:1E5F: 97 01        	sta	[<R0],Y
  8207                        ;				memset(((PFXCOMBUFFER)(p
                    ctx->userData))->buffer,0,256);
  8208                        	.line	1173
  8209 00:1E61: F4 00 01     	pea	#<$100
  8210 00:1E64: F4 00 00     	pea	#<$0
  8211 00:1E67: 18           	clc
  8212 00:1E68: A9 04 00     	lda	#$4
  8213 00:1E6B: A0 83 00     	ldy	#$83
  8214 00:1E6E: 77 15        	adc	[<L218+pctx_1],Y
  8215 00:1E70: 85 01        	sta	<R0
  8216 00:1E72: A9 00 00     	lda	#$0
  8217 00:1E75: A0 85 00     	ldy	#$85
  8218 00:1E78: 77 15        	adc	[<L218+pctx_1],Y
  8219 00:1E7A: 85 03        	sta	<R0+2
  8220 00:1E7C: D4 03        	pei	<R0+2
  8221 00:1E7E: D4 01        	pei	<R0
  8222 00:1E80: 22 xx xx xx  	jsl	~~memset
  8223                        ;			}
  8224                        	.line	1174
  8225                        ;
  8226                        ;			//k_debug_integer("DefConsolePro
                    c::FX_PROCESS:COM1 DATA:",serial);
  8227                        ;			while(UART1_BASE[UART_LSR] & 0x0
                    1)
  8228                        L10183:
  8229                        	.line	1177
  8230                        L10187:
  8231 00:1E84: E2 20        	sep	#$20
  8232                        	longa	off
  8233 00:1E86: AF FD 18 AF  	lda	>11475197
  8234 00:1E8A: 29 01        	and	#<$1
  8235 00:1E8C: C2 20        	rep	#$20
  8236                        	longa	on
  Sat Jul 10 2021  1:15                                                Page 153


  8237 00:1E8E: D0 03        	bne	L270
  8238 00:1E90: 82 B9 00     	brl	L10188
  8239                        L270:
  8240                        ;			{
  8241                        	.line	1178
  8242                        ;				serial = UART1_BASE[0];
  8243                        	.line	1179
  8244 00:1E93: E2 20        	sep	#$20
  8245                        	longa	off
  8246 00:1E95: AF F8 18 AF  	lda	>11475192
  8247 00:1E99: 85 24        	sta	<L218+serial_1
  8248 00:1E9B: C2 20        	rep	#$20
  8249                        	longa	on
  8250                        ;
  8251                        ;				//k_debug_long("DefConso
                    leProc::ProcessId:",p->procId);
  8252                        ;				//k_debug_pointer("DefCo
                    nsoleProc::p->ctx:",p->ctx);
  8253                        ;				//k_debug_pointer("DefCo
                    nsoleProc::pctx->userData:",pctx->userData);
  8254                        ;				//k_debug_hex("DefConsol
                    eProc::FX_PROCESS:COM1 DATA:",serial);
  8255                        ;
  8256                        ;				temp3 = ((PFXCOMBUFFER)(
                    pctx->userData))->cbBuffer;
  8257                        	.line	1186
  8258 00:1E9D: A0 83 00     	ldy	#$83
  8259 00:1EA0: B7 15        	lda	[<L218+pctx_1],Y
  8260 00:1EA2: 85 01        	sta	<R0
  8261 00:1EA4: A0 85 00     	ldy	#$85
  8262 00:1EA7: B7 15        	lda	[<L218+pctx_1],Y
  8263 00:1EA9: 85 03        	sta	<R0+2
  8264 00:1EAB: A0 02 00     	ldy	#$2
  8265 00:1EAE: B7 01        	lda	[<R0],Y
  8266 00:1EB0: 85 22        	sta	<L218+temp3_1
  8267                        ;
  8268                        ;				//k_debug_integer("DefCo
                    nsoleProc::FX_PROCESS:COM1-COUNT:",temp3);
  8269                        ;
  8270                        ;				((PFXCOMBUFFER)(pctx->us
                    erData))->buffer[temp3] = (UCHAR)serial;
  8271                        	.line	1190
  8272 00:1EB2: A0 83 00     	ldy	#$83
  8273 00:1EB5: B7 15        	lda	[<L218+pctx_1],Y
  8274 00:1EB7: 85 01        	sta	<R0
  8275 00:1EB9: A0 85 00     	ldy	#$85
  8276 00:1EBC: B7 15        	lda	[<L218+pctx_1],Y
  8277 00:1EBE: 85 03        	sta	<R0+2
  8278 00:1EC0: 18           	clc
  8279 00:1EC1: A9 04 00     	lda	#$4
  8280 00:1EC4: 65 22        	adc	<L218+temp3_1
  8281 00:1EC6: 85 05        	sta	<R1
  8282 00:1EC8: E2 20        	sep	#$20
  8283                        	longa	off
  8284 00:1ECA: A5 24        	lda	<L218+serial_1
  8285 00:1ECC: A4 05        	ldy	<R1
  8286 00:1ECE: 97 01        	sta	[<R0],Y
  8287 00:1ED0: C2 20        	rep	#$20
  Sat Jul 10 2021  1:15                                                Page 154


  8288                        	longa	on
  8289                        ;				((PFXCOMBUFFER)(pctx->us
                    erData))->cbBuffer++;
  8290                        	.line	1191
  8291 00:1ED2: A0 83 00     	ldy	#$83
  8292 00:1ED5: B7 15        	lda	[<L218+pctx_1],Y
  8293 00:1ED7: 85 01        	sta	<R0
  8294 00:1ED9: A0 85 00     	ldy	#$85
  8295 00:1EDC: B7 15        	lda	[<L218+pctx_1],Y
  8296 00:1EDE: 85 03        	sta	<R0+2
  8297 00:1EE0: A0 02 00     	ldy	#$2
  8298 00:1EE3: B7 01        	lda	[<R0],Y
  8299 00:1EE5: 1A           	ina
  8300 00:1EE6: A0 02 00     	ldy	#$2
  8301 00:1EE9: 97 01        	sta	[<R0],Y
  8302                        ;
  8303                        ;				//if(serial == 13)
  8304                        ;				if(((PFXCOMBUFFER)(pctx-
                    >userData))->cbBuffer > 255 || serial == '\n')
  8305                        	.line	1194
  8306                        ;				{
  8307 00:1EEB: A0 83 00     	ldy	#$83
  8308 00:1EEE: B7 15        	lda	[<L218+pctx_1],Y
  8309 00:1EF0: 85 01        	sta	<R0
  8310 00:1EF2: A0 85 00     	ldy	#$85
  8311 00:1EF5: B7 15        	lda	[<L218+pctx_1],Y
  8312 00:1EF7: 85 03        	sta	<R0+2
  8313 00:1EF9: A9 FF 00     	lda	#$ff
  8314 00:1EFC: A0 02 00     	ldy	#$2
  8315 00:1EFF: D7 01        	cmp	[<R0],Y
  8316 00:1F01: B0 03        	bcs	L272
  8317 00:1F03: 82 0D 00     	brl	L271
  8318                        L272:
  8319 00:1F06: E2 20        	sep	#$20
  8320                        	longa	off
  8321 00:1F08: A5 24        	lda	<L218+serial_1
  8322 00:1F0A: C9 0A        	cmp	#<$a
  8323 00:1F0C: C2 20        	rep	#$20
  8324                        	longa	on
  8325 00:1F0E: F0 03        	beq	L273
  8326 00:1F10: 82 36 00     	brl	L10189
  8327                        L273:
  8328                        L271:
  8329                        	.line	1195
  8330                        ;					//k_debug_string
                    s("DefConsoleProc::FX_PROCESS:COM1-BUFFER:",((PFXCOMBUFFER)(
                    pctx->userData))->buffer);
  8331                        ;					k_debug_string((
                    (PFXCOMBUFFER)(pctx->userData))->buffer);
  8332                        	.line	1197
  8333 00:1F13: 18           	clc
  8334 00:1F14: A9 04 00     	lda	#$4
  8335 00:1F17: A0 83 00     	ldy	#$83
  8336 00:1F1A: 77 15        	adc	[<L218+pctx_1],Y
  8337 00:1F1C: 85 01        	sta	<R0
  8338 00:1F1E: A9 00 00     	lda	#$0
  8339 00:1F21: A0 85 00     	ldy	#$85
  8340 00:1F24: 77 15        	adc	[<L218+pctx_1],Y
  Sat Jul 10 2021  1:15                                                Page 155


  8341 00:1F26: 85 03        	sta	<R0+2
  8342 00:1F28: D4 03        	pei	<R0+2
  8343 00:1F2A: D4 01        	pei	<R0
  8344 00:1F2C: 22 xx xx xx  	jsl	~~k_debug_string
  8345                        ;					//k_debug_hex("D
                    efConsoleProc::FX_PROCESS:COM1 DATA:",serial);
  8346                        ;					//k_debug_intege
                    r("DefConsoleProc::FX_PROCESS:COM1-COUNT:",temp3);
  8347                        ;					((PFXCOMBUFFER)(
                    pctx->userData))->cbBuffer = -1;
  8348                        	.line	1200
  8349 00:1F30: A0 83 00     	ldy	#$83
  8350 00:1F33: B7 15        	lda	[<L218+pctx_1],Y
  8351 00:1F35: 85 01        	sta	<R0
  8352 00:1F37: A0 85 00     	ldy	#$85
  8353 00:1F3A: B7 15        	lda	[<L218+pctx_1],Y
  8354 00:1F3C: 85 03        	sta	<R0+2
  8355 00:1F3E: A9 FF FF     	lda	#$ffff
  8356 00:1F41: A0 02 00     	ldy	#$2
  8357 00:1F44: 97 01        	sta	[<R0],Y
  8358                        ;					//memset(((PFXCO
                    MBUFFER)(pctx->userData))->buffer,0,32);
  8359                        ;					break;
  8360                        	.line	1202
  8361 00:1F46: 82 03 00     	brl	L10188
  8362                        ;				}
  8363                        	.line	1203
  8364                        ;			}
  8365                        L10189:
  8366                        	.line	1204
  8367 00:1F49: 82 38 FF     	brl	L10187
  8368                        L10188:
  8369                        ;
  8370                        ;			//k_debug_integer("DefConsolePro
                    c::FX_PROCESS:lineBufferIndex:",pctx->lineBufferIndex);
  8371                        ;			break;
  8372                        	.line	1207
  8373 00:1F4C: 82 6E 02     	brl	L10116
  8374                        ;		case FX_CONTROL_COMMAND:
  8375                        	.line	1208
  8376                        L10190:
  8377                        ;			k_debug_string("DefConsoleProc::
                    FX_CONTROL_COMMAND\r\n");
  8378                        	.line	1209
  8379 00:1F4F: F4 xx xx     	pea	#^L216+965
  8380 00:1F52: F4 xx xx     	pea	#<L216+965
  8381 00:1F55: 22 xx xx xx  	jsl	~~k_debug_string
  8382                        ;			if( MSGCMDID(pMsg) == CTL_CMD_CA
                    PTION )
  8383                        	.line	1210
  8384                        ;			{
  8385 00:1F59: A0 16 00     	ldy	#$16
  8386 00:1F5C: B7 34        	lda	[<L217+pMsg_0],Y
  8387 00:1F5E: C9 01 00     	cmp	#<$1
  8388 00:1F61: F0 03        	beq	L274
  8389 00:1F63: 82 50 01     	brl	L10191
  8390                        L274:
  8391                        	.line	1211
  Sat Jul 10 2021  1:15                                                Page 156


  8392                        ;				captionText = (LPCHAR)MS
                    GCMDPARM1(pMsg);
  8393                        	.line	1212
  8394 00:1F66: A0 1A 00     	ldy	#$1a
  8395 00:1F69: B7 34        	lda	[<L217+pMsg_0],Y
  8396 00:1F6B: 85 29        	sta	<L218+captionText_1
  8397 00:1F6D: A0 1C 00     	ldy	#$1c
  8398 00:1F70: B7 34        	lda	[<L217+pMsg_0],Y
  8399 00:1F72: 85 2B        	sta	<L218+captionText_1+2
  8400                        ;				if(captionText)
  8401                        	.line	1213
  8402                        ;				{
  8403 00:1F74: A5 29        	lda	<L218+captionText_1
  8404 00:1F76: 05 2B        	ora	<L218+captionText_1+2
  8405 00:1F78: D0 03        	bne	L275
  8406 00:1F7A: 82 39 01     	brl	L10192
  8407                        L275:
  8408                        	.line	1214
  8409                        ;					k_debug_strings(
                    "DefConsoleProc::CTL_CMD_CAPTION:",captionText);
  8410                        	.line	1215
  8411 00:1F7D: D4 2B        	pei	<L218+captionText_1+2
  8412 00:1F7F: D4 29        	pei	<L218+captionText_1
  8413 00:1F81: F4 xx xx     	pea	#^L216+1002
  8414 00:1F84: F4 xx xx     	pea	#<L216+1002
  8415 00:1F87: 22 xx xx xx  	jsl	~~k_debug_strings
  8416                        ;
  8417                        ;					p->consoleCtl->c
                    urX = 0;
  8418                        	.line	1217
  8419 00:1F8B: A0 54 00     	ldy	#$54
  8420 00:1F8E: B7 11        	lda	[<L218+p_1],Y
  8421 00:1F90: 85 01        	sta	<R0
  8422 00:1F92: A0 56 00     	ldy	#$56
  8423 00:1F95: B7 11        	lda	[<L218+p_1],Y
  8424 00:1F97: 85 03        	sta	<R0+2
  8425 00:1F99: A9 00 00     	lda	#$0
  8426 00:1F9C: A0 04 00     	ldy	#$4
  8427 00:1F9F: 97 01        	sta	[<R0],Y
  8428                        ;					//p->consoleCtl-
                    >curY++;
  8429                        ;
  8430                        ;					k_put_string(p->
                    consoleCtl->curX,p->consoleCtl->curY,captionText,15,0);
  8431                        	.line	1220
  8432 00:1FA1: F4 00 00     	pea	#<$0
  8433 00:1FA4: F4 0F 00     	pea	#<$f
  8434 00:1FA7: D4 2B        	pei	<L218+captionText_1+2
  8435 00:1FA9: D4 29        	pei	<L218+captionText_1
  8436 00:1FAB: A0 54 00     	ldy	#$54
  8437 00:1FAE: B7 11        	lda	[<L218+p_1],Y
  8438 00:1FB0: 85 01        	sta	<R0
  8439 00:1FB2: A0 56 00     	ldy	#$56
  8440 00:1FB5: B7 11        	lda	[<L218+p_1],Y
  8441 00:1FB7: 85 03        	sta	<R0+2
  8442 00:1FB9: A0 06 00     	ldy	#$6
  8443 00:1FBC: B7 01        	lda	[<R0],Y
  8444 00:1FBE: 48           	pha
  Sat Jul 10 2021  1:15                                                Page 157


  8445 00:1FBF: A0 54 00     	ldy	#$54
  8446 00:1FC2: B7 11        	lda	[<L218+p_1],Y
  8447 00:1FC4: 85 01        	sta	<R0
  8448 00:1FC6: A0 56 00     	ldy	#$56
  8449 00:1FC9: B7 11        	lda	[<L218+p_1],Y
  8450 00:1FCB: 85 03        	sta	<R0+2
  8451 00:1FCD: A0 04 00     	ldy	#$4
  8452 00:1FD0: B7 01        	lda	[<R0],Y
  8453 00:1FD2: 48           	pha
  8454 00:1FD3: 22 xx xx xx  	jsl	~~k_put_string
  8455                        ;
  8456                        ;					i=p->consoleCtl-
                    >curX;
  8457                        	.line	1222
  8458 00:1FD7: A0 54 00     	ldy	#$54
  8459 00:1FDA: B7 11        	lda	[<L218+p_1],Y
  8460 00:1FDC: 85 01        	sta	<R0
  8461 00:1FDE: A0 56 00     	ldy	#$56
  8462 00:1FE1: B7 11        	lda	[<L218+p_1],Y
  8463 00:1FE3: 85 03        	sta	<R0+2
  8464 00:1FE5: A0 04 00     	ldy	#$4
  8465 00:1FE8: B7 01        	lda	[<R0],Y
  8466 00:1FEA: 85 1A        	sta	<L218+i_1
  8467                        ;					ptr = captionTex
                    t;
  8468                        	.line	1223
  8469 00:1FEC: A5 29        	lda	<L218+captionText_1
  8470 00:1FEE: 85 0D        	sta	<L218+ptr_1
  8471 00:1FF0: A5 2B        	lda	<L218+captionText_1+2
  8472 00:1FF2: 85 0F        	sta	<L218+ptr_1+2
  8473                        ;					while(*ptr)
  8474                        	.line	1224
  8475                        L10193:
  8476 00:1FF4: A7 0D        	lda	[<L218+ptr_1]
  8477 00:1FF6: 29 FF 00     	and	#$ff
  8478 00:1FF9: D0 03        	bne	L276
  8479 00:1FFB: 82 3D 00     	brl	L10194
  8480                        L276:
  8481                        ;					{
  8482                        	.line	1225
  8483                        ;						consoleB
                    uffer[p->consoleCtl->curY][i] = *ptr;
  8484                        	.line	1226
  8485 00:1FFE: A5 1A        	lda	<L218+i_1
  8486 00:2000: 0A           	asl	A
  8487 00:2001: 85 01        	sta	<R0
  8488 00:2003: A0 54 00     	ldy	#$54
  8489 00:2006: B7 11        	lda	[<L218+p_1],Y
  8490 00:2008: 85 05        	sta	<R1
  8491 00:200A: A0 56 00     	ldy	#$56
  8492 00:200D: B7 11        	lda	[<L218+p_1],Y
  8493 00:200F: 85 07        	sta	<R1+2
  8494 00:2011: A0 06 00     	ldy	#$6
  8495 00:2014: B7 05        	lda	[<R1],Y
  8496 00:2016: A2 90 00     	ldx	#<$90
  8497                        	xref	~~~mul
  8498 00:2019: 22 xx xx xx  	jsl	~~~mul
  8499 00:201D: 85 05        	sta	<R1
  Sat Jul 10 2021  1:15                                                Page 158


  8500 00:201F: 18           	clc
  8501 00:2020: A5 05        	lda	<R1
  8502 00:2022: 65 01        	adc	<R0
  8503 00:2024: 85 09        	sta	<R2
  8504 00:2026: A7 0D        	lda	[<L218+ptr_1]
  8505 00:2028: 29 FF 00     	and	#$ff
  8506 00:202B: A6 09        	ldx	<R2
  8507 00:202D: 9D xx xx     	sta	|~~consoleBuffer,X
  8508                        ;						i++;
  8509                        	.line	1227
  8510 00:2030: E6 1A        	inc	<L218+i_1
  8511                        ;						ptr++;
  8512                        	.line	1228
  8513 00:2032: E6 0D        	inc	<L218+ptr_1
  8514 00:2034: D0 02        	bne	L277
  8515 00:2036: E6 0F        	inc	<L218+ptr_1+2
  8516                        L277:
  8517                        ;					}
  8518                        	.line	1229
  8519 00:2038: 82 B9 FF     	brl	L10193
  8520                        L10194:
  8521                        ;
  8522                        ;					p->consoleCtl->c
                    urX = 0;
  8523                        	.line	1231
  8524 00:203B: A0 54 00     	ldy	#$54
  8525 00:203E: B7 11        	lda	[<L218+p_1],Y
  8526 00:2040: 85 01        	sta	<R0
  8527 00:2042: A0 56 00     	ldy	#$56
  8528 00:2045: B7 11        	lda	[<L218+p_1],Y
  8529 00:2047: 85 03        	sta	<R0+2
  8530 00:2049: A9 00 00     	lda	#$0
  8531 00:204C: A0 04 00     	ldy	#$4
  8532 00:204F: 97 01        	sta	[<R0],Y
  8533                        ;					p->consoleCtl->c
                    urY++;
  8534                        	.line	1232
  8535 00:2051: A0 54 00     	ldy	#$54
  8536 00:2054: B7 11        	lda	[<L218+p_1],Y
  8537 00:2056: 85 01        	sta	<R0
  8538 00:2058: A0 56 00     	ldy	#$56
  8539 00:205B: B7 11        	lda	[<L218+p_1],Y
  8540 00:205D: 85 03        	sta	<R0+2
  8541 00:205F: A0 06 00     	ldy	#$6
  8542 00:2062: B7 01        	lda	[<R0],Y
  8543 00:2064: 1A           	ina
  8544 00:2065: A0 06 00     	ldy	#$6
  8545 00:2068: 97 01        	sta	[<R0],Y
  8546                        ;
  8547                        ;					k_debug_integer(
                    "DefConsoleProc::curY:",p->consoleCtl->curY);
  8548                        	.line	1234
  8549 00:206A: A0 54 00     	ldy	#$54
  8550 00:206D: B7 11        	lda	[<L218+p_1],Y
  8551 00:206F: 85 01        	sta	<R0
  8552 00:2071: A0 56 00     	ldy	#$56
  8553 00:2074: B7 11        	lda	[<L218+p_1],Y
  8554 00:2076: 85 03        	sta	<R0+2
  Sat Jul 10 2021  1:15                                                Page 159


  8555 00:2078: A0 06 00     	ldy	#$6
  8556 00:207B: B7 01        	lda	[<R0],Y
  8557 00:207D: 48           	pha
  8558 00:207E: F4 xx xx     	pea	#^L216+1035
  8559 00:2081: F4 xx xx     	pea	#<L216+1035
  8560 00:2084: 22 xx xx xx  	jsl	~~k_debug_integer
  8561                        ;
  8562                        ;					if(p->consoleCtl
                    ->curY > 50)
  8563                        	.line	1236
  8564                        ;					{
  8565 00:2088: A0 54 00     	ldy	#$54
  8566 00:208B: B7 11        	lda	[<L218+p_1],Y
  8567 00:208D: 85 01        	sta	<R0
  8568 00:208F: A0 56 00     	ldy	#$56
  8569 00:2092: B7 11        	lda	[<L218+p_1],Y
  8570 00:2094: 85 03        	sta	<R0+2
  8571 00:2096: 38           	sec
  8572 00:2097: A9 32 00     	lda	#$32
  8573 00:209A: A0 06 00     	ldy	#$6
  8574 00:209D: F7 01        	sbc	[<R0],Y
  8575 00:209F: 70 03        	bvs	L278
  8576 00:20A1: 49 00 80     	eor	#$8000
  8577                        L278:
  8578 00:20A4: 10 03        	bpl	L279
  8579 00:20A6: 82 08 00     	brl	L10195
  8580                        L279:
  8581                        	.line	1237
  8582                        ;						k_scroll
                    _screen(p);
  8583                        	.line	1238
  8584 00:20A9: D4 13        	pei	<L218+p_1+2
  8585 00:20AB: D4 11        	pei	<L218+p_1
  8586 00:20AD: 22 xx xx xx  	jsl	~~k_scroll_screen
  8587                        ;					}
  8588                        	.line	1239
  8589                        ;
  8590                        ;					pctx->lineBuffer
                    Index = 0;
  8591                        L10195:
  8592                        	.line	1241
  8593 00:20B1: A9 00 00     	lda	#$0
  8594 00:20B4: 87 15        	sta	[<L218+pctx_1]
  8595                        ;				}
  8596                        	.line	1242
  8597                        ;			}
  8598                        L10192:
  8599                        	.line	1243
  8600                        ;			break;
  8601                        L10191:
  8602                        	.line	1244
  8603 00:20B6: 82 04 01     	brl	L10116
  8604                        ;		case FX_SCROLLBAR_COMMAND:
  8605                        	.line	1245
  8606                        L10196:
  8607                        ;			 if( MSGCMDID(pMsg) == CTL_VERT_
                    SCROLL )
  8608                        	.line	1246
  Sat Jul 10 2021  1:15                                                Page 160


  8609                        ;			{
  8610 00:20B9: A0 16 00     	ldy	#$16
  8611 00:20BC: B7 34        	lda	[<L217+pMsg_0],Y
  8612 00:20BE: C9 01 00     	cmp	#<$1
  8613 00:20C1: F0 03        	beq	L280
  8614 00:20C3: 82 2E 00     	brl	L10197
  8615                        L280:
  8616                        	.line	1247
  8617                        ;				captionText = (LPCHAR)MS
                    GCMDPARM1(pMsg);
  8618                        	.line	1248
  8619 00:20C6: A0 1A 00     	ldy	#$1a
  8620 00:20C9: B7 34        	lda	[<L217+pMsg_0],Y
  8621 00:20CB: 85 29        	sta	<L218+captionText_1
  8622 00:20CD: A0 1C 00     	ldy	#$1c
  8623 00:20D0: B7 34        	lda	[<L217+pMsg_0],Y
  8624 00:20D2: 85 2B        	sta	<L218+captionText_1+2
  8625                        ;				if(captionText)
  8626                        	.line	1249
  8627                        ;				{
  8628 00:20D4: A5 29        	lda	<L218+captionText_1
  8629 00:20D6: 05 2B        	ora	<L218+captionText_1+2
  8630 00:20D8: D0 03        	bne	L281
  8631 00:20DA: 82 17 00     	brl	L10198
  8632                        L281:
  8633                        	.line	1250
  8634                        ;					k_debug_string("
                    DefConsoleProc::CTL_VERT_SCROLL\r\n");
  8635                        	.line	1251
  8636 00:20DD: F4 xx xx     	pea	#^L216+1057
  8637 00:20E0: F4 xx xx     	pea	#<L216+1057
  8638 00:20E3: 22 xx xx xx  	jsl	~~k_debug_string
  8639                        ;
  8640                        ;					/*
  8641                        ;					for(i=0;i<55;i++
                    )
  8642                        ;					{
  8643                        ;						for(j=0;
                    j<72;j++)
  8644                        ;						{
  8645                        ;							
                    consoleBuffer[i][j] = consoleBuffer[i+1][j];
  8646                        ;						}
  8647                        ;					}
  8648                        ;
  8649                        ;					for(i=0;i<56;i++
                    )
  8650                        ;					{
  8651                        ;						for(j=0;
                    j<72;j++)
  8652                        ;						{
  8653                        ;							
                    k_put_char(j,i,consoleBuffer[i][j],15,0);
  8654                        ;						}
  8655                        ;					}
  8656                        ;
  8657                        ;					p->consoleCtl->c
                    urX = 0;
  Sat Jul 10 2021  1:15                                                Page 161


  8658                        ;					p->consoleCtl->c
                    urY--;
  8659                        ;					*/
  8660                        ;					k_scroll_screen(
                    p);
  8661                        	.line	1273
  8662 00:20E7: D4 13        	pei	<L218+p_1+2
  8663 00:20E9: D4 11        	pei	<L218+p_1
  8664 00:20EB: 22 xx xx xx  	jsl	~~k_scroll_screen
  8665                        ;
  8666                        ;					pctx->lineBuffer
                    Index = 0;
  8667                        	.line	1275
  8668 00:20EF: A9 00 00     	lda	#$0
  8669 00:20F2: 87 15        	sta	[<L218+pctx_1]
  8670                        ;				}
  8671                        	.line	1276
  8672                        ;			}
  8673                        L10198:
  8674                        	.line	1277
  8675                        ;
  8676                        ;			break;
  8677                        L10197:
  8678                        	.line	1279
  8679 00:20F4: 82 C6 00     	brl	L10116
  8680                        ;
  8681                        ;		default:
  8682                        	.line	1281
  8683                        L10199:
  8684                        ;			//k_updatespinner(2,40,&consoles
                    pinctx);
  8685                        ;
  8686                        ;			cursorFlashInterval++;
  8687                        	.line	1284
  8688 00:20F7: EE xx xx     	inc	|~~cursorFlashInterval
  8689                        ;
  8690                        ;			if(cursorFlashInterval > 10)
  8691                        	.line	1286
  8692                        ;			{
  8693 00:20FA: A9 0A 00     	lda	#$a
  8694 00:20FD: CD xx xx     	cmp	|~~cursorFlashInterval
  8695 00:2100: 90 03        	bcc	L282
  8696 00:2102: 82 27 00     	brl	L10200
  8697                        L282:
  8698                        	.line	1287
  8699                        ;				if(cursorCurrentColor ==
                     0)
  8700                        	.line	1288
  8701                        ;					cursorCurrentCol
                    or = p->consoleCtl->fgColor;
  8702 00:2105: AD xx xx     	lda	|~~cursorCurrentColor
  8703 00:2108: F0 03        	beq	L283
  8704 00:210A: 82 19 00     	brl	L10201
  8705                        L283:
  8706                        	.line	1289
  8707 00:210D: A0 54 00     	ldy	#$54
  8708 00:2110: B7 11        	lda	[<L218+p_1],Y
  8709 00:2112: 85 01        	sta	<R0
  Sat Jul 10 2021  1:15                                                Page 162


  8710 00:2114: A0 56 00     	ldy	#$56
  8711 00:2117: B7 11        	lda	[<L218+p_1],Y
  8712 00:2119: 85 03        	sta	<R0+2
  8713 00:211B: A0 08 00     	ldy	#$8
  8714 00:211E: B7 01        	lda	[<R0],Y
  8715 00:2120: 8D xx xx     	sta	|~~cursorCurrentColor
  8716                        ;				else
  8717 00:2123: 82 03 00     	brl	L10202
  8718                        L10201:
  8719                        ;					cursorCurrentCol
                    or = 0;
  8720                        	.line	1291
  8721 00:2126: 9C xx xx     	stz	|~~cursorCurrentColor
  8722                        L10202:
  8723                        ;
  8724                        ;				cursorFlashInterval = 0;
  8725                        	.line	1293
  8726 00:2129: 9C xx xx     	stz	|~~cursorFlashInterval
  8727                        ;			}
  8728                        	.line	1294
  8729                        ;
  8730                        ;			k_put_char(p->consoleCtl->curX,
  8731                        L10200:
  8732                        	.line	1296
  8733                        ;					   p->consoleCtl
                    ->curY,
  8734                        ;					   95,
  8735                        ;					   cursorCurrent
                    Color,0);
  8736 00:212C: F4 00 00     	pea	#<$0
  8737 00:212F: AD xx xx     	lda	|~~cursorCurrentColor
  8738 00:2132: 48           	pha
  8739 00:2133: F4 5F 00     	pea	#<$5f
  8740 00:2136: A0 54 00     	ldy	#$54
  8741 00:2139: B7 11        	lda	[<L218+p_1],Y
  8742 00:213B: 85 01        	sta	<R0
  8743 00:213D: A0 56 00     	ldy	#$56
  8744 00:2140: B7 11        	lda	[<L218+p_1],Y
  8745 00:2142: 85 03        	sta	<R0+2
  8746 00:2144: A0 06 00     	ldy	#$6
  8747 00:2147: B7 01        	lda	[<R0],Y
  8748 00:2149: 48           	pha
  8749 00:214A: A0 54 00     	ldy	#$54
  8750 00:214D: B7 11        	lda	[<L218+p_1],Y
  8751 00:214F: 85 01        	sta	<R0
  8752 00:2151: A0 56 00     	ldy	#$56
  8753 00:2154: B7 11        	lda	[<L218+p_1],Y
  8754 00:2156: 85 03        	sta	<R0+2
  8755 00:2158: A0 04 00     	ldy	#$4
  8756 00:215B: B7 01        	lda	[<R0],Y
  8757 00:215D: 48           	pha
  8758 00:215E: 22 xx xx xx  	jsl	~~k_put_char
  8759                        ;
  8760                        ;
  8761                        ;			break;
  8762                        	.line	1302
  8763 00:2162: 82 58 00     	brl	L10116
  8764                        ;		}
  Sat Jul 10 2021  1:15                                                Page 163


  8765                        	.line	1303
  8766                        L10115:
  8767                        	xref	~~~swt
  8768 00:2165: 22 xx xx xx  	jsl	~~~swt
  8769 00:2169: 14 00        	dw	20
  8770 00:216B: 03 0F        	dw	3843
  8771 00:216D: xx xx        	dw	L10172-1
  8772 00:216F: 04 0F        	dw	3844
  8773 00:2171: xx xx        	dw	L10174-1
  8774 00:2173: 05 0F        	dw	3845
  8775 00:2175: xx xx        	dw	L10176-1
  8776 00:2177: 06 0F        	dw	3846
  8777 00:2179: xx xx        	dw	L10175-1
  8778 00:217B: 07 0F        	dw	3847
  8779 00:217D: xx xx        	dw	L10177-1
  8780 00:217F: 08 0F        	dw	3848
  8781 00:2181: xx xx        	dw	L10173-1
  8782 00:2183: 10 0F        	dw	3856
  8783 00:2185: xx xx        	dw	L10133-1
  8784 00:2187: 12 0F        	dw	3858
  8785 00:2189: xx xx        	dw	L10130-1
  8786 00:218B: 20 0F        	dw	3872
  8787 00:218D: xx xx        	dw	L10152-1
  8788 00:218F: 22 0F        	dw	3874
  8789 00:2191: xx xx        	dw	L10163-1
  8790 00:2193: 30 0F        	dw	3888
  8791 00:2195: xx xx        	dw	L10178-1
  8792 00:2197: 31 0F        	dw	3889
  8793 00:2199: xx xx        	dw	L10179-1
  8794 00:219B: 00 FA        	dw	64000
  8795 00:219D: xx xx        	dw	L10190-1
  8796 00:219F: 02 FA        	dw	64002
  8797 00:21A1: xx xx        	dw	L10196-1
  8798 00:21A3: 00 FC        	dw	64512
  8799 00:21A5: xx xx        	dw	L10180-1
  8800 00:21A7: 01 FC        	dw	64513
  8801 00:21A9: xx xx        	dw	L10181-1
  8802 00:21AB: 00 FF        	dw	65280
  8803 00:21AD: xx xx        	dw	L10182-1
  8804 00:21AF: 01 FF        	dw	65281
  8805 00:21B1: xx xx        	dw	L10117-1
  8806 00:21B3: 02 FF        	dw	65282
  8807 00:21B5: xx xx        	dw	L10129-1
  8808 00:21B7: F0 FF        	dw	65520
  8809 00:21B9: xx xx        	dw	L10168-1
  8810 00:21BB: xx xx        	dw	L10199-1
  8811                        L10116:
  8812                        ;	}
  8813                        	.line	1304
  8814                        ;	//k_debug_string("DefConsoleProc exit\r\n");
  8815                        ;}
  8816                        L10113:
  8817                        	.line	1306
  8818                        L284:
  8819 00:21BD: A5 32        	lda	<L217+2
  8820 00:21BF: 85 36        	sta	<L217+2+4
  8821 00:21C1: A5 31        	lda	<L217+1
  8822 00:21C3: 85 35        	sta	<L217+1+4
  Sat Jul 10 2021  1:15                                                Page 164


  8823 00:21C5: 2B           	pld
  8824 00:21C6: 3B           	tsc
  8825 00:21C7: 18           	clc
  8826 00:21C8: 69 34 00     	adc	#L217+4
  8827 00:21CB: 1B           	tcs
  8828 00:21CC: 6B           	rtl
  8829                        	.endblock	1306
  8830             00000030   L217	equ	48
  8831             0000000D   L218	equ	13
  8832                        	ends
  8833                        	efunc
  8834                        	.endfunc	1306,13,48
  8835                        	.line	1306
  8836                        	data
  8837                        L216:
  8838 00:02F8: 44 65 66 43  	db	$44,$65,$66,$43,$6F,$6E,$73,$6F,$6C,$65,
                    $50,$72,$6F,$63,$3A
       00:02FC: 6F 6E 73 6F 
       00:0300: 6C 65 50 72 
       00:0304: 6F 63 3A 
  8839 00:0307: 3A 50 72 6F  	db	$3A,$50,$72,$6F,$63,$65,$73,$73,$49,$64,
                    $3A,$00,$6D,$61,$78
       00:030B: 63 65 73 73 
       00:030F: 49 64 3A 00 
       00:0313: 6D 61 78 
  8840 00:0316: 43 6F 6C 73  	db	$43,$6F,$6C,$73,$3A,$00,$6D,$61,$78,$52,
                    $6F,$77,$73,$3A,$00
       00:031A: 3A 00 6D 61 
       00:031E: 78 52 6F 77 
       00:0322: 73 3A 00 
  8841 00:0325: 44 65 66 43  	db	$44,$65,$66,$43,$6F,$6E,$73,$6F,$6C,$65,
                    $50,$72,$6F,$63,$3A
       00:0329: 6F 6E 73 6F 
       00:032D: 6C 65 50 72 
       00:0331: 6F 63 3A 
  8842 00:0334: 3A 70 63 74  	db	$3A,$70,$63,$74,$78,$3A,$00,$44,$65,$66,
                    $43,$6F,$6E,$73,$6F
       00:0338: 78 3A 00 44 
       00:033C: 65 66 43 6F 
       00:0340: 6E 73 6F 
  8843 00:0343: 6C 65 50 72  	db	$6C,$65,$50,$72,$6F,$63,$3A,$3A,$70,$63,
                    $74,$78,$2D,$3E,$75
       00:0347: 6F 63 3A 3A 
       00:034B: 70 63 74 78 
       00:034F: 2D 3E 75 
  8844 00:0352: 73 65 72 44  	db	$73,$65,$72,$44,$61,$74,$61,$3A,$00,$44,
                    $65,$66,$43,$6F,$6E
       00:0356: 61 74 61 3A 
       00:035A: 00 44 65 66 
       00:035E: 43 6F 6E 
  8845 00:0361: 73 6F 6C 65  	db	$73,$6F,$6C,$65,$50,$72,$6F,$63,$3A,$3A,
                    $50,$72,$6F,$63,$65
       00:0365: 50 72 6F 63 
       00:0369: 3A 3A 50 72 
       00:036D: 6F 63 65 
  8846 00:0370: 73 73 49 64  	db	$73,$73,$49,$64,$3A,$00,$44,$65,$66,$43,
                    $6F,$6E,$73,$6F,$6C
       00:0374: 3A 00 44 65 
  Sat Jul 10 2021  1:15                                                Page 165


       00:0378: 66 43 6F 6E 
       00:037C: 73 6F 6C 
  8847 00:037F: 65 50 72 6F  	db	$65,$50,$72,$6F,$63,$3A,$3A,$46,$58,$5F,
                    $50,$52,$4F,$43,$45
       00:0383: 63 3A 3A 46 
       00:0387: 58 5F 50 52 
       00:038B: 4F 43 45 
  8848 00:038E: 53 53 3A 43  	db	$53,$53,$3A,$43,$4F,$4D,$31,$2D,$43,$4F,
                    $55,$4E,$54,$3A,$00
       00:0392: 4F 4D 31 2D 
       00:0396: 43 4F 55 4E 
       00:039A: 54 3A 00 
  8849 00:039D: 44 65 66 43  	db	$44,$65,$66,$43,$6F,$6E,$73,$6F,$6C,$65,
                    $50,$72,$6F,$63,$3A
       00:03A1: 6F 6E 73 6F 
       00:03A5: 6C 65 50 72 
       00:03A9: 6F 63 3A 
  8850 00:03AC: 3A 49 6E 69  	db	$3A,$49,$6E,$69,$74,$69,$61,$6C,$2D,$6C,
                    $69,$6E,$65,$42,$75
       00:03B0: 74 69 61 6C 
       00:03B4: 2D 6C 69 6E 
       00:03B8: 65 42 75 
  8851 00:03BB: 66 66 65 72  	db	$66,$66,$65,$72,$49,$6E,$64,$65,$78,$3A,
                    $00,$44,$65,$66,$43
       00:03BF: 49 6E 64 65 
       00:03C3: 78 3A 00 44 
       00:03C7: 65 66 43 
  8852 00:03CA: 6F 6E 73 6F  	db	$6F,$6E,$73,$6F,$6C,$65,$50,$72,$6F,$63,
                    $3A,$3A,$46,$58,$5F
       00:03CE: 6C 65 50 72 
       00:03D2: 6F 63 3A 3A 
       00:03D6: 46 58 5F 
  8853 00:03D9: 49 4E 49 54  	db	$49,$4E,$49,$54,$5F,$4D,$45,$53,$53,$41,
                    $47,$45,$0D,$0A,$00
       00:03DD: 5F 4D 45 53 
       00:03E1: 53 41 47 45 
       00:03E5: 0D 0A 00 
  8854 00:03E8: 44 65 66 43  	db	$44,$65,$66,$43,$6F,$6E,$73,$6F,$6C,$65,
                    $50,$72,$6F,$63,$3A
       00:03EC: 6F 6E 73 6F 
       00:03F0: 6C 65 50 72 
       00:03F4: 6F 63 3A 
  8855 00:03F7: 3A 6C 69 6E  	db	$3A,$6C,$69,$6E,$65,$42,$75,$66,$66,$65,
                    $72,$49,$6E,$64,$65
       00:03FB: 65 42 75 66 
       00:03FF: 66 65 72 49 
       00:0403: 6E 64 65 
  8856 00:0406: 78 41 3A 00  	db	$78,$41,$3A,$00,$6C,$69,$6E,$65,$42,$75,
                    $66,$66,$65,$72,$49
       00:040A: 6C 69 6E 65 
       00:040E: 42 75 66 66 
       00:0412: 65 72 49 
  8857 00:0415: 6E 64 65 78  	db	$6E,$64,$65,$78,$20,$74,$6F,$6F,$20,$6C,
                    $61,$72,$67,$65,$00
       00:0419: 20 74 6F 6F 
       00:041D: 20 6C 61 72 
       00:0421: 67 65 00 
  8858 00:0424: 44 65 66 43  	db	$44,$65,$66,$43,$6F,$6E,$73,$6F,$6C,$65,
  Sat Jul 10 2021  1:15                                                Page 166


                    $50,$72,$6F,$63,$3A
       00:0428: 6F 6E 73 6F 
       00:042C: 6C 65 50 72 
       00:0430: 6F 63 3A 
  8859 00:0433: 3A 44 49 53  	db	$3A,$44,$49,$53,$4B,$2D,$49,$4E,$53,$45,
                    $52,$54,$3A,$00,$4E
       00:0437: 4B 2D 49 4E 
       00:043B: 53 45 52 54 
       00:043F: 3A 00 4E 
  8860 00:0442: 55 4C 4C 00  	db	$55,$4C,$4C,$00,$0D,$0A,$00,$44,$65,$66,
                    $43,$6F,$6E,$73,$6F
       00:0446: 0D 0A 00 44 
       00:044A: 65 66 43 6F 
       00:044E: 6E 73 6F 
  8861 00:0451: 6C 65 50 72  	db	$6C,$65,$50,$72,$6F,$63,$3A,$3A,$44,$49,
                    $53,$4B,$2D,$49,$4E
       00:0455: 6F 63 3A 3A 
       00:0459: 44 49 53 4B 
       00:045D: 2D 49 4E 
  8862 00:0460: 53 45 52 54  	db	$53,$45,$52,$54,$3A,$4E,$4F,$2D,$43,$48,
                    $41,$4E,$47,$45,$0D
       00:0464: 3A 4E 4F 2D 
       00:0468: 43 48 41 4E 
       00:046C: 47 45 0D 
  8863 00:046F: 0A 00 64 69  	db	$0A,$00,$64,$69,$73,$6B,$00,$69,$63,$6F,
                    $6E,$00,$44,$65,$66
       00:0473: 73 6B 00 69 
       00:0477: 63 6F 6E 00 
       00:047B: 44 65 66 
  8864 00:047E: 43 6F 6E 73  	db	$43,$6F,$6E,$73,$6F,$6C,$65,$50,$72,$6F,
                    $63,$3A,$3A,$44,$49
       00:0482: 6F 6C 65 50 
       00:0486: 72 6F 63 3A 
       00:048A: 3A 44 49 
  8865 00:048D: 53 4B 2D 49  	db	$53,$4B,$2D,$49,$4E,$53,$45,$52,$54,$3A,
                    $44,$49,$53,$4B,$3A
       00:0491: 4E 53 45 52 
       00:0495: 54 3A 44 49 
       00:0499: 53 4B 3A 
  8866 00:049C: 00 44 65 66  	db	$00,$44,$65,$66,$43,$6F,$6E,$73,$6F,$6C,
                    $65,$50,$72,$6F,$63
       00:04A0: 43 6F 6E 73 
       00:04A4: 6F 6C 65 50 
       00:04A8: 72 6F 63 
  8867 00:04AB: 3A 3A 44 49  	db	$3A,$3A,$44,$49,$53,$4B,$2D,$52,$45,$4D,
                    $4F,$56,$45,$0D,$0A
       00:04AF: 53 4B 2D 52 
       00:04B3: 45 4D 4F 56 
       00:04B7: 45 0D 0A 
  8868 00:04BA: 00 44 65 66  	db	$00,$44,$65,$66,$43,$6F,$6E,$73,$6F,$6C,
                    $65,$50,$72,$6F,$63
       00:04BE: 43 6F 6E 73 
       00:04C2: 6F 6C 65 50 
       00:04C6: 72 6F 63 
  8869 00:04C9: 3A 3A 44 49  	db	$3A,$3A,$44,$49,$53,$4B,$2D,$52,$45,$4D,
                    $4F,$56,$45,$3A,$44
       00:04CD: 53 4B 2D 52 
       00:04D1: 45 4D 4F 56 
  Sat Jul 10 2021  1:15                                                Page 167


       00:04D5: 45 3A 44 
  8870 00:04D8: 49 53 4B 3A  	db	$49,$53,$4B,$3A,$00,$44,$65,$66,$43,$6F,
                    $6E,$73,$6F,$6C,$65
       00:04DC: 00 44 65 66 
       00:04E0: 43 6F 6E 73 
       00:04E4: 6F 6C 65 
  8871 00:04E7: 50 72 6F 63  	db	$50,$72,$6F,$63,$3A,$3A,$44,$49,$53,$4B,
                    $2D,$52,$45,$4D,$4F
       00:04EB: 3A 3A 44 49 
       00:04EF: 53 4B 2D 52 
       00:04F3: 45 4D 4F 
  8872 00:04F6: 56 45 3A 62  	db	$56,$45,$3A,$62,$61,$63,$6B,$67,$72,$6F,
                    $75,$6E,$64,$43,$6F
       00:04FA: 61 63 6B 67 
       00:04FE: 72 6F 75 6E 
       00:0502: 64 43 6F 
  8873 00:0505: 6C 6F 72 3A  	db	$6C,$6F,$72,$3A,$00,$4E,$6F,$20,$44,$69,
                    $73,$6B,$20,$44,$65
       00:0509: 00 4E 6F 20 
       00:050D: 44 69 73 6B 
       00:0511: 20 44 65 
  8874 00:0514: 74 65 63 74  	db	$74,$65,$63,$74,$65,$64,$20,$20,$20,$20,
                    $20,$20,$20,$20,$20
       00:0518: 65 64 20 20 
       00:051C: 20 20 20 20 
       00:0520: 20 20 20 
  8875 00:0523: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$20,$20,$20,$20,
                    $20,$20,$20,$20,$20
       00:0527: 20 20 20 20 
       00:052B: 20 20 20 20 
       00:052F: 20 20 20 
  8876 00:0532: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$20,$00,$44,$65,
                    $66,$43,$6F,$6E,$73
       00:0536: 20 20 20 00 
       00:053A: 44 65 66 43 
       00:053E: 6F 6E 73 
  8877 00:0541: 6F 6C 65 50  	db	$6F,$6C,$65,$50,$72,$6F,$63,$3A,$3A,$46,
                    $58,$5F,$41,$50,$50
       00:0545: 72 6F 63 3A 
       00:0549: 3A 46 58 5F 
       00:054D: 41 50 50 
  8878 00:0550: 5F 4D 45 53  	db	$5F,$4D,$45,$53,$53,$41,$47,$45,$0D,$0A,
                    $00,$44,$65,$66,$43
       00:0554: 53 41 47 45 
       00:0558: 0D 0A 00 44 
       00:055C: 65 66 43 
  8879 00:055F: 6F 6E 73 6F  	db	$6F,$6E,$73,$6F,$6C,$65,$50,$72,$6F,$63,
                    $3A,$3A,$46,$58,$5F
       00:0563: 6C 65 50 72 
       00:0567: 6F 63 3A 3A 
       00:056B: 46 58 5F 
  8880 00:056E: 41 50 50 5F  	db	$41,$50,$50,$5F,$4D,$45,$53,$53,$41,$47,
                    $45,$20,$42,$41,$44
       00:0572: 4D 45 53 53 
       00:0576: 41 47 45 20 
       00:057A: 42 41 44 
  8881 00:057D: 20 50 52 4F  	db	$20,$50,$52,$4F,$43,$0D,$0A,$00,$44,$65,
                    $66,$43,$6F,$6E,$73
  Sat Jul 10 2021  1:15                                                Page 168


       00:0581: 43 0D 0A 00 
       00:0585: 44 65 66 43 
       00:0589: 6F 6E 73 
  8882 00:058C: 6F 6C 65 50  	db	$6F,$6C,$65,$50,$72,$6F,$63,$3A,$3A,$46,
                    $58,$5F,$41,$50,$50
       00:0590: 72 6F 63 3A 
       00:0594: 3A 46 58 5F 
       00:0598: 41 50 50 
  8883 00:059B: 5F 4D 45 53  	db	$5F,$4D,$45,$53,$53,$41,$47,$45,$20,$65,
                    $78,$69,$74,$0D,$0A
       00:059F: 53 41 47 45 
       00:05A3: 20 65 78 69 
       00:05A7: 74 0D 0A 
  8884 00:05AA: 00 44 65 66  	db	$00,$44,$65,$66,$43,$6F,$6E,$73,$6F,$6C,
                    $65,$50,$72,$6F,$63
       00:05AE: 43 6F 6E 73 
       00:05B2: 6F 6C 65 50 
       00:05B6: 72 6F 63 
  8885 00:05B9: 3A 3A 46 58  	db	$3A,$3A,$46,$58,$5F,$52,$42,$55,$54,$54,
                    $4F,$4E,$5F,$44,$4F
       00:05BD: 5F 52 42 55 
       00:05C1: 54 54 4F 4E 
       00:05C5: 5F 44 4F 
  8886 00:05C8: 57 4E 0D 0A  	db	$57,$4E,$0D,$0A,$00,$44,$65,$66,$43,$6F,
                    $6E,$73,$6F,$6C,$65
       00:05CC: 00 44 65 66 
       00:05D0: 43 6F 6E 73 
       00:05D4: 6F 6C 65 
  8887 00:05D7: 50 72 6F 63  	db	$50,$72,$6F,$63,$3A,$3A,$46,$58,$5F,$4C,
                    $42,$55,$54,$54,$4F
       00:05DB: 3A 3A 46 58 
       00:05DF: 5F 4C 42 55 
       00:05E3: 54 54 4F 
  8888 00:05E6: 4E 5F 44 4F  	db	$4E,$5F,$44,$4F,$57,$4E,$0D,$0A,$00,$44,
                    $65,$66,$43,$6F,$6E
       00:05EA: 57 4E 0D 0A 
       00:05EE: 00 44 65 66 
       00:05F2: 43 6F 6E 
  8889 00:05F5: 73 6F 6C 65  	db	$73,$6F,$6C,$65,$50,$72,$6F,$63,$3A,$3A,
                    $46,$58,$5F,$4C,$42
       00:05F9: 50 72 6F 63 
       00:05FD: 3A 3A 46 58 
       00:0601: 5F 4C 42 
  8890 00:0604: 55 54 54 4F  	db	$55,$54,$54,$4F,$4E,$5F,$55,$50,$0D,$0A,
                    $00,$44,$65,$66,$43
       00:0608: 4E 5F 55 50 
       00:060C: 0D 0A 00 44 
       00:0610: 65 66 43 
  8891 00:0613: 6F 6E 73 6F  	db	$6F,$6E,$73,$6F,$6C,$65,$50,$72,$6F,$63,
                    $3A,$3A,$46,$58,$5F
       00:0617: 6C 65 50 72 
       00:061B: 6F 63 3A 3A 
       00:061F: 46 58 5F 
  8892 00:0622: 4C 42 55 54  	db	$4C,$42,$55,$54,$54,$4F,$4E,$5F,$44,$52,
                    $41,$47,$0D,$0A,$00
       00:0626: 54 4F 4E 5F 
       00:062A: 44 52 41 47 
       00:062E: 0D 0A 00 
  Sat Jul 10 2021  1:15                                                Page 169


  8893 00:0631: 44 65 66 43  	db	$44,$65,$66,$43,$6F,$6E,$73,$6F,$6C,$65,
                    $50,$72,$6F,$63,$3A
       00:0635: 6F 6E 73 6F 
       00:0639: 6C 65 50 72 
       00:063D: 6F 63 3A 
  8894 00:0640: 3A 46 58 5F  	db	$3A,$46,$58,$5F,$4C,$42,$55,$54,$54,$4F,
                    $4E,$5F,$44,$42,$4C
       00:0644: 4C 42 55 54 
       00:0648: 54 4F 4E 5F 
       00:064C: 44 42 4C 
  8895 00:064F: 43 4C 49 43  	db	$43,$4C,$49,$43,$4B,$0D,$0A,$00,$44,$65,
                    $66,$43,$6F,$6E,$73
       00:0653: 4B 0D 0A 00 
       00:0657: 44 65 66 43 
       00:065B: 6F 6E 73 
  8896 00:065E: 6F 6C 65 50  	db	$6F,$6C,$65,$50,$72,$6F,$63,$3A,$3A,$46,
                    $58,$5F,$57,$49,$4E
       00:0662: 72 6F 63 3A 
       00:0666: 3A 46 58 5F 
       00:066A: 57 49 4E 
  8897 00:066D: 44 4F 57 5F  	db	$44,$4F,$57,$5F,$54,$4F,$46,$52,$4F,$4E,
                    $54,$0D,$0A,$00,$43
       00:0671: 54 4F 46 52 
       00:0675: 4F 4E 54 0D 
       00:0679: 0A 00 43 
  8898 00:067C: 6C 69 63 6B  	db	$6C,$69,$63,$6B,$65,$64,$20,$46,$52,$4F,
                    $4E,$54,$00,$44,$65
       00:0680: 65 64 20 46 
       00:0684: 52 4F 4E 54 
       00:0688: 00 44 65 
  8899 00:068B: 66 43 6F 6E  	db	$66,$43,$6F,$6E,$73,$6F,$6C,$65,$50,$72,
                    $6F,$63,$3A,$3A,$46
       00:068F: 73 6F 6C 65 
       00:0693: 50 72 6F 63 
       00:0697: 3A 3A 46 
  8900 00:069A: 58 5F 57 49  	db	$58,$5F,$57,$49,$4E,$44,$4F,$57,$5F,$54,
                    $4F,$42,$41,$43,$4B
       00:069E: 4E 44 4F 57 
       00:06A2: 5F 54 4F 42 
       00:06A6: 41 43 4B 
  8901 00:06A9: 0D 0A 00 43  	db	$0D,$0A,$00,$43,$6C,$69,$63,$6B,$65,$64,
                    $20,$42,$41,$43,$4B
       00:06AD: 6C 69 63 6B 
       00:06B1: 65 64 20 42 
       00:06B5: 41 43 4B 
  8902 00:06B8: 00 0A 00 0A  	db	$00,$0A,$00,$0A,$00,$44,$65,$66,$43,$6F,
                    $6E,$73,$6F,$6C,$65
       00:06BC: 00 44 65 66 
       00:06C0: 43 6F 6E 73 
       00:06C4: 6F 6C 65 
  8903 00:06C7: 50 72 6F 63  	db	$50,$72,$6F,$63,$3A,$3A,$46,$58,$5F,$43,
                    $4F,$4E,$54,$52,$4F
       00:06CB: 3A 3A 46 58 
       00:06CF: 5F 43 4F 4E 
       00:06D3: 54 52 4F 
  8904 00:06D6: 4C 5F 43 4F  	db	$4C,$5F,$43,$4F,$4D,$4D,$41,$4E,$44,$0D,
                    $0A,$00,$44,$65,$66
       00:06DA: 4D 4D 41 4E 
  Sat Jul 10 2021  1:15                                                Page 170


       00:06DE: 44 0D 0A 00 
       00:06E2: 44 65 66 
  8905 00:06E5: 43 6F 6E 73  	db	$43,$6F,$6E,$73,$6F,$6C,$65,$50,$72,$6F,
                    $63,$3A,$3A,$43,$54
       00:06E9: 6F 6C 65 50 
       00:06ED: 72 6F 63 3A 
       00:06F1: 3A 43 54 
  8906 00:06F4: 4C 5F 43 4D  	db	$4C,$5F,$43,$4D,$44,$5F,$43,$41,$50,$54,
                    $49,$4F,$4E,$3A,$00
       00:06F8: 44 5F 43 41 
       00:06FC: 50 54 49 4F 
       00:0700: 4E 3A 00 
  8907 00:0703: 44 65 66 43  	db	$44,$65,$66,$43,$6F,$6E,$73,$6F,$6C,$65,
                    $50,$72,$6F,$63,$3A
       00:0707: 6F 6E 73 6F 
       00:070B: 6C 65 50 72 
       00:070F: 6F 63 3A 
  8908 00:0712: 3A 63 75 72  	db	$3A,$63,$75,$72,$59,$3A,$00,$44,$65,$66,
                    $43,$6F,$6E,$73,$6F
       00:0716: 59 3A 00 44 
       00:071A: 65 66 43 6F 
       00:071E: 6E 73 6F 
  8909 00:0721: 6C 65 50 72  	db	$6C,$65,$50,$72,$6F,$63,$3A,$3A,$43,$54,
                    $4C,$5F,$56,$45,$52
       00:0725: 6F 63 3A 3A 
       00:0729: 43 54 4C 5F 
       00:072D: 56 45 52 
  8910 00:0730: 54 5F 53 43  	db	$54,$5F,$53,$43,$52,$4F,$4C,$4C,$0D,$0A,
                    $00
       00:0734: 52 4F 4C 4C 
       00:0738: 0D 0A 00 
  8911 00:073B:              	ends
  8912                        ;
  8913                        ;void ObjectClicked(PWINDOW console)
  8914                        ;{
  8915                        	.line	1308
  8916                        	.line	1309
  8917                        	code
  8918                        	xdef	~~ObjectClicked
  8919                        	func
  8920                        	.function	1309
  8921                        ~~ObjectClicked:
  8922                        	longa	on
  8923                        	longi	on
  8924 00:21CD: 3B           	tsc
  8925 00:21CE: 38           	sec
  8926 00:21CF: E9 10 00     	sbc	#L286
  8927 00:21D2: 1B           	tcs
  8928 00:21D3: 0B           	phd
  8929 00:21D4: 5B           	tcd
  8930             00000004   console_0	set	4
  8931                        	.block	1309
  8932                        ;	int temp1 = 0;
  8933                        ;	int temp2 = 0;
  8934                        ;	PFXPROCESS p = k_exec_get_current_process();
  8935                        ;
  8936                        ;	k_debug_string("ObjectClicked!!\r\n");
  8937             00000000   temp1_1	set	0
  Sat Jul 10 2021  1:15                                                Page 171


  8938             00000002   temp2_1	set	2
  8939             00000004   p_1	set	4
  8940                        	.sym	temp1,0,5,1,16
  8941                        	.sym	temp2,2,5,1,16
  8942                        	.sym	p,4,138,1,32,20
  8943                        	.sym	console,4,138,6,32,33
  8944 00:21D5: 64 09        	stz	<L287+temp1_1
  8945 00:21D7: 64 0B        	stz	<L287+temp2_1
  8946 00:21D9: 22 xx xx xx  	jsl	~~k_exec_get_current_process
  8947 00:21DD: 85 0D        	sta	<L287+p_1
  8948 00:21DF: 86 0F        	stx	<L287+p_1+2
  8949                        	.line	1314
  8950 00:21E1: F4 xx xx     	pea	#^L285
  8951 00:21E4: F4 xx xx     	pea	#<L285
  8952 00:21E7: 22 xx xx xx  	jsl	~~k_debug_string
  8953                        ;	if(p->desktopCtl->currentDiskName)
  8954                        	.line	1315
  8955                        ;	{
  8956 00:21EB: A0 58 00     	ldy	#$58
  8957 00:21EE: B7 0D        	lda	[<L287+p_1],Y
  8958 00:21F0: 85 01        	sta	<R0
  8959 00:21F2: A0 5A 00     	ldy	#$5a
  8960 00:21F5: B7 0D        	lda	[<L287+p_1],Y
  8961 00:21F7: 85 03        	sta	<R0+2
  8962 00:21F9: A0 11 00     	ldy	#$11
  8963 00:21FC: B7 01        	lda	[<R0],Y
  8964 00:21FE: A0 13 00     	ldy	#$13
  8965 00:2201: 17 01        	ora	[<R0],Y
  8966 00:2203: D0 03        	bne	L289
  8967 00:2205: 82 9F 00     	brl	L10203
  8968                        L289:
  8969                        	.line	1316
  8970                        ;		temp1 = strlen(p->desktopCtl->currentDis
                    kName);
  8971                        	.line	1317
  8972 00:2208: A0 58 00     	ldy	#$58
  8973 00:220B: B7 0D        	lda	[<L287+p_1],Y
  8974 00:220D: 85 01        	sta	<R0
  8975 00:220F: A0 5A 00     	ldy	#$5a
  8976 00:2212: B7 0D        	lda	[<L287+p_1],Y
  8977 00:2214: 85 03        	sta	<R0+2
  8978 00:2216: A0 13 00     	ldy	#$13
  8979 00:2219: B7 01        	lda	[<R0],Y
  8980 00:221B: 48           	pha
  8981 00:221C: A0 11 00     	ldy	#$11
  8982 00:221F: B7 01        	lda	[<R0],Y
  8983 00:2221: 48           	pha
  8984 00:2222: 22 xx xx xx  	jsl	~~strlen
  8985 00:2226: 85 09        	sta	<L287+temp1_1
  8986                        ;		temp2 = (temp1*4);
  8987                        	.line	1318
  8988 00:2228: A5 09        	lda	<L287+temp1_1
  8989 00:222A: 0A           	asl	A
  8990 00:222B: 0A           	asl	A
  8991 00:222C: 85 0B        	sta	<L287+temp2_1
  8992                        ;		k_put_winicon_point(ICON_DISK,640 - (40 
                    + temp2/2),20,6,PAINTMODE_HIGHLIGHT);
  8993                        	.line	1319
  Sat Jul 10 2021  1:15                                                Page 172


  8994 00:222E: F4 F1 00     	pea	#<$f1
  8995 00:2231: F4 06 00     	pea	#<$6
  8996 00:2234: F4 14 00     	pea	#<$14
  8997 00:2237: A5 0B        	lda	<L287+temp2_1
  8998 00:2239: A2 02 00     	ldx	#<$2
  8999                        	xref	~~~div
  9000 00:223C: 22 xx xx xx  	jsl	~~~div
  9001 00:2240: 85 01        	sta	<R0
  9002 00:2242: 18           	clc
  9003 00:2243: A9 28 00     	lda	#$28
  9004 00:2246: 65 01        	adc	<R0
  9005 00:2248: 85 05        	sta	<R1
  9006 00:224A: 38           	sec
  9007 00:224B: A9 80 02     	lda	#$280
  9008 00:224E: E5 05        	sbc	<R1
  9009 00:2250: 48           	pha
  9010 00:2251: F4 03 00     	pea	#<$3
  9011 00:2254: 22 xx xx xx  	jsl	~~k_put_winicon_point
  9012                        ;		k_draw_text_point(k_to_uppercase(p->desk
                    topCtl->currentDiskName),640 - (35 + temp2/2) - (temp2),40,0
                    );
  9013                        	.line	1320
  9014 00:2258: F4 00 00     	pea	#<$0
  9015 00:225B: F4 28 00     	pea	#<$28
  9016 00:225E: A5 0B        	lda	<L287+temp2_1
  9017 00:2260: A2 02 00     	ldx	#<$2
  9018                        	xref	~~~div
  9019 00:2263: 22 xx xx xx  	jsl	~~~div
  9020 00:2267: 85 01        	sta	<R0
  9021 00:2269: 18           	clc
  9022 00:226A: A9 23 00     	lda	#$23
  9023 00:226D: 65 01        	adc	<R0
  9024 00:226F: 85 05        	sta	<R1
  9025 00:2271: 38           	sec
  9026 00:2272: A9 80 02     	lda	#$280
  9027 00:2275: E5 05        	sbc	<R1
  9028 00:2277: 85 01        	sta	<R0
  9029 00:2279: 38           	sec
  9030 00:227A: A5 01        	lda	<R0
  9031 00:227C: E5 0B        	sbc	<L287+temp2_1
  9032 00:227E: 48           	pha
  9033 00:227F: A0 58 00     	ldy	#$58
  9034 00:2282: B7 0D        	lda	[<L287+p_1],Y
  9035 00:2284: 85 01        	sta	<R0
  9036 00:2286: A0 5A 00     	ldy	#$5a
  9037 00:2289: B7 0D        	lda	[<L287+p_1],Y
  9038 00:228B: 85 03        	sta	<R0+2
  9039 00:228D: A0 13 00     	ldy	#$13
  9040 00:2290: B7 01        	lda	[<R0],Y
  9041 00:2292: 48           	pha
  9042 00:2293: A0 11 00     	ldy	#$11
  9043 00:2296: B7 01        	lda	[<R0],Y
  9044 00:2298: 48           	pha
  9045 00:2299: 22 xx xx xx  	jsl	~~k_to_uppercase
  9046 00:229D: 85 01        	sta	<R0
  9047 00:229F: 86 03        	stx	<R0+2
  9048 00:22A1: DA           	phx
  9049 00:22A2: 48           	pha
  Sat Jul 10 2021  1:15                                                Page 173


  9050 00:22A3: 22 xx xx xx  	jsl	~~k_draw_text_point
  9051                        ;	}
  9052                        	.line	1321
  9053                        ;}
  9054                        L10203:
  9055                        	.line	1322
  9056                        L290:
  9057 00:22A7: A5 12        	lda	<L286+2
  9058 00:22A9: 85 16        	sta	<L286+2+4
  9059 00:22AB: A5 11        	lda	<L286+1
  9060 00:22AD: 85 15        	sta	<L286+1+4
  9061 00:22AF: 2B           	pld
  9062 00:22B0: 3B           	tsc
  9063 00:22B1: 18           	clc
  9064 00:22B2: 69 14 00     	adc	#L286+4
  9065 00:22B5: 1B           	tcs
  9066 00:22B6: 6B           	rtl
  9067                        	.endblock	1322
  9068             00000010   L286	equ	16
  9069             00000009   L287	equ	9
  9070                        	ends
  9071                        	efunc
  9072                        	.endfunc	1322,9,16
  9073                        	.line	1322
  9074                        	data
  9075                        L285:
  9076 00:073B: 4F 62 6A 65  	db	$4F,$62,$6A,$65,$63,$74,$43,$6C,$69,$63,
                    $6B,$65,$64,$21,$21
       00:073F: 63 74 43 6C 
       00:0743: 69 63 6B 65 
       00:0747: 64 21 21 
  9077 00:074A: 0D 0A 00     	db	$0D,$0A,$00
  9078 00:074D:              	ends
  9079                        ;
  9080                        ;
  9081                        ;
  9082                        ;void DefConsoleProc2(PFXOSMESSAGE pMsg)
  9083                        ;{
  9084                        	.line	1326
  9085                        	.line	1327
  9086                        	code
  9087                        	xdef	~~DefConsoleProc2
  9088                        	func
  9089                        	.function	1327
  9090                        ~~DefConsoleProc2:
  9091                        	longa	on
  9092                        	longi	on
  9093 00:22B7: 3B           	tsc
  9094 00:22B8: 38           	sec
  9095 00:22B9: E9 0E 00     	sbc	#L292
  9096 00:22BC: 1B           	tcs
  9097 00:22BD: 0B           	phd
  9098 00:22BE: 5B           	tcd
  9099             00000004   pMsg_0	set	4
  9100                        	.block	1327
  9101                        ;
  9102                        ;	PSPINNERCTX pconsolespinctx = NULL;
  9103                        ;	PFXPROCESS p = NULL;
  Sat Jul 10 2021  1:15                                                Page 174


  9104                        ;	int i = 0;
  9105                        ;
  9106                        ;	//k_debug_string("DefConsoleProc enter\r\n");
  9107                        ;	if(pMsg!=NULL)
  9108             00000000   pconsolespinctx_1	set	0
  9109             00000004   p_1	set	4
  9110             00000008   i_1	set	8
  9111                        	.sym	pconsolespinctx,0,138,1,32,81
  9112                        	.sym	p,4,138,1,32,20
  9113                        	.sym	i,8,5,1,16
  9114                        	.sym	pMsg,4,138,6,32,16
  9115 00:22BF: 64 05        	stz	<L293+pconsolespinctx_1
  9116 00:22C1: 64 07        	stz	<L293+pconsolespinctx_1+2
  9117 00:22C3: 64 09        	stz	<L293+p_1
  9118 00:22C5: 64 0B        	stz	<L293+p_1+2
  9119 00:22C7: 64 0D        	stz	<L293+i_1
  9120                        	.line	1334
  9121                        ;	{
  9122 00:22C9: A5 12        	lda	<L292+pMsg_0
  9123 00:22CB: 05 14        	ora	<L292+pMsg_0+2
  9124 00:22CD: D0 03        	bne	L295
  9125 00:22CF: 82 7C 01     	brl	L10204
  9126                        L295:
  9127                        	.line	1335
  9128                        ;		p = k_exec_get_current_process();
  9129                        	.line	1336
  9130 00:22D2: 22 xx xx xx  	jsl	~~k_exec_get_current_process
  9131 00:22D6: 85 09        	sta	<L293+p_1
  9132 00:22D8: 86 0B        	stx	<L293+p_1+2
  9133                        ;
  9134                        ;		switch(pMsg->type)
  9135                        	.line	1338
  9136 00:22DA: A0 08 00     	ldy	#$8
  9137 00:22DD: B7 12        	lda	[<L292+pMsg_0],Y
  9138 00:22DF: 82 54 01     	brl	L10205
  9139                        ;		{
  9140                        	.line	1339
  9141                        ;		case FX_INIT_MESSAGE:
  9142                        	.line	1340
  9143                        L10207:
  9144                        ;
  9145                        ;
  9146                        ;			pconsolespinctx = (PSPINNERCTX)k
                    _mem_allocate_heap(sizeof(SPINNERCTX));
  9147                        	.line	1343
  9148 00:22E2: F4 06 00     	pea	#<$6
  9149 00:22E5: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  9150 00:22E9: 85 05        	sta	<L293+pconsolespinctx_1
  9151 00:22EB: 86 07        	stx	<L293+pconsolespinctx_1+2
  9152                        ;			pconsolespinctx->spinner = conso
                    lespinner;
  9153                        	.line	1344
  9154 00:22ED: A9 xx xx     	lda	#<~~consolespinner
  9155 00:22F0: 85 01        	sta	<R0
  9156                        	xref	_BEG_DATA
  9157 00:22F2: A9 xx xx     	lda	#_BEG_DATA>>16
  9158 00:22F5: 85 03        	sta	<R0+2
  9159 00:22F7: A5 01        	lda	<R0
  Sat Jul 10 2021  1:15                                                Page 175


  9160 00:22F9: A0 02 00     	ldy	#$2
  9161 00:22FC: 97 05        	sta	[<L293+pconsolespinctx_1],Y
  9162 00:22FE: A5 03        	lda	<R0+2
  9163 00:2300: A0 04 00     	ldy	#$4
  9164 00:2303: 97 05        	sta	[<L293+pconsolespinctx_1],Y
  9165                        ;			p->tls[0] = (LPVOID)pconsolespin
                    ctx;
  9166                        	.line	1345
  9167 00:2305: A5 05        	lda	<L293+pconsolespinctx_1
  9168 00:2307: A0 13 00     	ldy	#$13
  9169 00:230A: 97 09        	sta	[<L293+p_1],Y
  9170 00:230C: A5 07        	lda	<L293+pconsolespinctx_1+2
  9171 00:230E: A0 15 00     	ldy	#$15
  9172 00:2311: 97 09        	sta	[<L293+p_1],Y
  9173                        ;			p->tls[1] = (PRECT)k_mem_allocat
                    e_heap(sizeof(RECT));
  9174                        	.line	1346
  9175 00:2313: F4 0E 00     	pea	#<$e
  9176 00:2316: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  9177 00:231A: 85 01        	sta	<R0
  9178 00:231C: 86 03        	stx	<R0+2
  9179 00:231E: A5 01        	lda	<R0
  9180 00:2320: A0 17 00     	ldy	#$17
  9181 00:2323: 97 09        	sta	[<L293+p_1],Y
  9182 00:2325: A5 03        	lda	<R0+2
  9183 00:2327: A0 19 00     	ldy	#$19
  9184 00:232A: 97 09        	sta	[<L293+p_1],Y
  9185                        ;
  9186                        ;
  9187                        ;			i = (int)((long)(p->startupArgs)
                    );
  9188                        	.line	1349
  9189 00:232C: A0 60 00     	ldy	#$60
  9190 00:232F: B7 09        	lda	[<L293+p_1],Y
  9191 00:2331: 85 0D        	sta	<L293+i_1
  9192                        ;			k_debug_integer("DefConsoleProc2
                    ::FX_PROCESS:",i);
  9193                        	.line	1350
  9194 00:2333: D4 0D        	pei	<L293+i_1
  9195 00:2335: F4 xx xx     	pea	#^L291
  9196 00:2338: F4 xx xx     	pea	#<L291
  9197 00:233B: 22 xx xx xx  	jsl	~~k_debug_integer
  9198                        ;
  9199                        ;
  9200                        ;			if(p!=NULL)
  9201                        	.line	1353
  9202                        ;				k_debug_long("DefConsole
                    Proc2::ProcessId:",p->procId);
  9203 00:233F: A5 09        	lda	<L293+p_1
  9204 00:2341: 05 0B        	ora	<L293+p_1+2
  9205 00:2343: D0 03        	bne	L296
  9206 00:2345: 82 19 00     	brl	L10208
  9207                        L296:
  9208                        	.line	1354
  9209 00:2348: A0 04 00     	ldy	#$4
  9210 00:234B: B7 09        	lda	[<L293+p_1],Y
  9211 00:234D: 48           	pha
  9212 00:234E: A0 02 00     	ldy	#$2
  Sat Jul 10 2021  1:15                                                Page 176


  9213 00:2351: B7 09        	lda	[<L293+p_1],Y
  9214 00:2353: 48           	pha
  9215 00:2354: F4 xx xx     	pea	#^L291+29
  9216 00:2357: F4 xx xx     	pea	#<L291+29
  9217 00:235A: 22 xx xx xx  	jsl	~~k_debug_long
  9218                        ;			else
  9219 00:235E: 82 0A 00     	brl	L10209
  9220                        L10208:
  9221                        ;				k_debug_string("DefConso
                    leProc2::FX_INIT_MESSAGE\r\n");
  9222                        	.line	1356
  9223 00:2361: F4 xx xx     	pea	#^L291+57
  9224 00:2364: F4 xx xx     	pea	#<L291+57
  9225 00:2367: 22 xx xx xx  	jsl	~~k_debug_string
  9226                        L10209:
  9227                        ;
  9228                        ;
  9229                        ;
  9230                        ;			k_init_spinner(pconsolespinctx);
  9231                        	.line	1360
  9232 00:236B: D4 07        	pei	<L293+pconsolespinctx_1+2
  9233 00:236D: D4 05        	pei	<L293+pconsolespinctx_1
  9234 00:236F: 22 xx xx xx  	jsl	~~k_init_spinner
  9235                        ;
  9236                        ;
  9237                        ;
  9238                        ;
  9239                        ;			//k_sd_test();
  9240                        ;			break;
  9241                        	.line	1366
  9242 00:2373: 82 D8 00     	brl	L10206
  9243                        ;		case FX_UNINIT_MESSAGE:
  9244                        	.line	1367
  9245                        L10210:
  9246                        ;			k_debug_string("DefConsoleProc2:
                    :FX_UNINIT_MESSAGE\r\n");
  9247                        	.line	1368
  9248 00:2376: F4 xx xx     	pea	#^L291+92
  9249 00:2379: F4 xx xx     	pea	#<L291+92
  9250 00:237C: 22 xx xx xx  	jsl	~~k_debug_string
  9251                        ;			if(p->tls[1])
  9252                        	.line	1369
  9253                        ;				k_mem_deallocate_heap(p-
                    >tls[1]);
  9254 00:2380: A0 17 00     	ldy	#$17
  9255 00:2383: B7 09        	lda	[<L293+p_1],Y
  9256 00:2385: A0 19 00     	ldy	#$19
  9257 00:2388: 17 09        	ora	[<L293+p_1],Y
  9258 00:238A: D0 03        	bne	L297
  9259 00:238C: 82 10 00     	brl	L10211
  9260                        L297:
  9261                        	.line	1370
  9262 00:238F: A0 19 00     	ldy	#$19
  9263 00:2392: B7 09        	lda	[<L293+p_1],Y
  9264 00:2394: 48           	pha
  9265 00:2395: A0 17 00     	ldy	#$17
  9266 00:2398: B7 09        	lda	[<L293+p_1],Y
  9267 00:239A: 48           	pha
  Sat Jul 10 2021  1:15                                                Page 177


  9268 00:239B: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
  9269                        ;			break;
  9270                        L10211:
  9271                        	.line	1371
  9272 00:239F: 82 AC 00     	brl	L10206
  9273                        ;		case FX_KEY_DOWN:
  9274                        	.line	1372
  9275                        L10212:
  9276                        ;			if(p!=NULL && p->foregroundActiv
                    e)
  9277                        	.line	1373
  9278                        ;			{
  9279 00:23A2: A5 09        	lda	<L293+p_1
  9280 00:23A4: 05 0B        	ora	<L293+p_1+2
  9281 00:23A6: D0 03        	bne	L298
  9282 00:23A8: 82 23 00     	brl	L10213
  9283                        L298:
  9284 00:23AB: A0 12 00     	ldy	#$12
  9285 00:23AE: B7 09        	lda	[<L293+p_1],Y
  9286 00:23B0: 29 FF 00     	and	#$ff
  9287 00:23B3: D0 03        	bne	L299
  9288 00:23B5: 82 16 00     	brl	L10213
  9289                        L299:
  9290                        	.line	1374
  9291                        ;				//if(p!=NULL)
  9292                        ;				//	k_debug_integer(
                    "DefConso-leProc::ProcessId:",p->procId);
  9293                        ;				k_put_char(3 ,46,pMsg->d
                    ata[2],15,0);
  9294                        	.line	1377
  9295 00:23B8: F4 00 00     	pea	#<$0
  9296 00:23BB: F4 0F 00     	pea	#<$f
  9297 00:23BE: A0 18 00     	ldy	#$18
  9298 00:23C1: B7 12        	lda	[<L292+pMsg_0],Y
  9299 00:23C3: 48           	pha
  9300 00:23C4: F4 2E 00     	pea	#<$2e
  9301 00:23C7: F4 03 00     	pea	#<$3
  9302 00:23CA: 22 xx xx xx  	jsl	~~k_put_char
  9303                        ;			}
  9304                        	.line	1378
  9305                        ;			break;
  9306                        L10213:
  9307                        	.line	1379
  9308 00:23CE: 82 7D 00     	brl	L10206
  9309                        ;		case FX_PROCESS:
  9310                        	.line	1380
  9311                        L10214:
  9312                        ;
  9313                        ;			pconsolespinctx = (PSPINNERCTX)p
                    ->tls[0];
  9314                        	.line	1382
  9315 00:23D1: A0 13 00     	ldy	#$13
  9316 00:23D4: B7 09        	lda	[<L293+p_1],Y
  9317 00:23D6: 85 05        	sta	<L293+pconsolespinctx_1
  9318 00:23D8: A0 15 00     	ldy	#$15
  9319 00:23DB: B7 09        	lda	[<L293+p_1],Y
  9320 00:23DD: 85 07        	sta	<L293+pconsolespinctx_1+2
  9321                        ;
  Sat Jul 10 2021  1:15                                                Page 178


  9322                        ;			//k_debug_string("DefConsoleProc
                    ::FX_PROCESS\r\n");
  9323                        ;			i = (int)((long)(p->startupArgs)
                    );
  9324                        	.line	1385
  9325 00:23DF: A0 60 00     	ldy	#$60
  9326 00:23E2: B7 09        	lda	[<L293+p_1],Y
  9327 00:23E4: 85 0D        	sta	<L293+i_1
  9328                        ;			k_updatespinner(3 + i,39,pconsol
                    espinctx);
  9329                        	.line	1386
  9330 00:23E6: D4 07        	pei	<L293+pconsolespinctx_1+2
  9331 00:23E8: D4 05        	pei	<L293+pconsolespinctx_1
  9332 00:23EA: F4 27 00     	pea	#<$27
  9333 00:23ED: 18           	clc
  9334 00:23EE: A9 03 00     	lda	#$3
  9335 00:23F1: 65 0D        	adc	<L293+i_1
  9336 00:23F3: 48           	pha
  9337 00:23F4: 22 xx xx xx  	jsl	~~k_updatespinner
  9338                        ;			//k_debug_integer("DefConsolePro
                    c2::FX_PROCESS:",i);
  9339                        ;
  9340                        ;			if(p->tls[1])
  9341                        	.line	1389
  9342                        ;			{
  9343 00:23F8: A0 17 00     	ldy	#$17
  9344 00:23FB: B7 09        	lda	[<L293+p_1],Y
  9345 00:23FD: A0 19 00     	ldy	#$19
  9346 00:2400: 17 09        	ora	[<L293+p_1],Y
  9347 00:2402: D0 03        	bne	L300
  9348 00:2404: 82 29 00     	brl	L10215
  9349                        L300:
  9350                        	.line	1390
  9351                        ;				((PRECT)(p->tls[1]))->x 
                    = 0;
  9352                        	.line	1391
  9353 00:2407: A0 17 00     	ldy	#$17
  9354 00:240A: B7 09        	lda	[<L293+p_1],Y
  9355 00:240C: 85 01        	sta	<R0
  9356 00:240E: A0 19 00     	ldy	#$19
  9357 00:2411: B7 09        	lda	[<L293+p_1],Y
  9358 00:2413: 85 03        	sta	<R0+2
  9359 00:2415: A9 00 00     	lda	#$0
  9360 00:2418: 87 01        	sta	[<R0]
  9361                        ;				((PRECT)(p->tls[1]))->y 
                    = 0;
  9362                        	.line	1392
  9363 00:241A: A0 17 00     	ldy	#$17
  9364 00:241D: B7 09        	lda	[<L293+p_1],Y
  9365 00:241F: 85 01        	sta	<R0
  9366 00:2421: A0 19 00     	ldy	#$19
  9367 00:2424: B7 09        	lda	[<L293+p_1],Y
  9368 00:2426: 85 03        	sta	<R0+2
  9369 00:2428: A9 00 00     	lda	#$0
  9370 00:242B: A0 02 00     	ldy	#$2
  9371 00:242E: 97 01        	sta	[<R0],Y
  9372                        ;			}
  9373                        	.line	1393
  Sat Jul 10 2021  1:15                                                Page 179


  9374                        ;			/*
  9375                        ;			for(i=0;i<1000;i++)
  9376                        ;			{
  9377                        ;				asm NOP;
  9378                        ;			}
  9379                        ;			*/
  9380                        ;			//k_debug_integer("DefConsolePro
                    c2::FX_PROCESS:",i++);
  9381                        ;			break;
  9382                        L10215:
  9383                        	.line	1401
  9384 00:2430: 82 1B 00     	brl	L10206
  9385                        ;		default:
  9386                        	.line	1402
  9387                        L10216:
  9388                        ;			//k_updatespinner(3,40,&consoles
                    pinctx);
  9389                        ;			break;
  9390                        	.line	1404
  9391 00:2433: 82 18 00     	brl	L10206
  9392                        ;		}
  9393                        	.line	1405
  9394                        L10205:
  9395                        	xref	~~~swt
  9396 00:2436: 22 xx xx xx  	jsl	~~~swt
  9397 00:243A: 04 00        	dw	4
  9398 00:243C: 10 0F        	dw	3856
  9399 00:243E: xx xx        	dw	L10212-1
  9400 00:2440: 00 FF        	dw	65280
  9401 00:2442: xx xx        	dw	L10214-1
  9402 00:2444: 01 FF        	dw	65281
  9403 00:2446: xx xx        	dw	L10207-1
  9404 00:2448: 02 FF        	dw	65282
  9405 00:244A: xx xx        	dw	L10210-1
  9406 00:244C: xx xx        	dw	L10216-1
  9407                        L10206:
  9408                        ;	}
  9409                        	.line	1406
  9410                        ;	//k_debug_string("DefConsoleProc exit\r\n");
  9411                        ;}
  9412                        L10204:
  9413                        	.line	1408
  9414                        L301:
  9415 00:244E: A5 10        	lda	<L292+2
  9416 00:2450: 85 14        	sta	<L292+2+4
  9417 00:2452: A5 0F        	lda	<L292+1
  9418 00:2454: 85 13        	sta	<L292+1+4
  9419 00:2456: 2B           	pld
  9420 00:2457: 3B           	tsc
  9421 00:2458: 18           	clc
  9422 00:2459: 69 12 00     	adc	#L292+4
  9423 00:245C: 1B           	tcs
  9424 00:245D: 6B           	rtl
  9425                        	.endblock	1408
  9426             0000000E   L292	equ	14
  9427             00000005   L293	equ	5
  9428                        	ends
  9429                        	efunc
  Sat Jul 10 2021  1:15                                                Page 180


  9430                        	.endfunc	1408,5,14
  9431                        	.line	1408
  9432                        	data
  9433                        L291:
  9434 00:074D: 44 65 66 43  	db	$44,$65,$66,$43,$6F,$6E,$73,$6F,$6C,$65,
                    $50,$72,$6F,$63,$32
       00:0751: 6F 6E 73 6F 
       00:0755: 6C 65 50 72 
       00:0759: 6F 63 32 
  9435 00:075C: 3A 3A 46 58  	db	$3A,$3A,$46,$58,$5F,$50,$52,$4F,$43,$45,
                    $53,$53,$3A,$00,$44
       00:0760: 5F 50 52 4F 
       00:0764: 43 45 53 53 
       00:0768: 3A 00 44 
  9436 00:076B: 65 66 43 6F  	db	$65,$66,$43,$6F,$6E,$73,$6F,$6C,$65,$50,
                    $72,$6F,$63,$32,$3A
       00:076F: 6E 73 6F 6C 
       00:0773: 65 50 72 6F 
       00:0777: 63 32 3A 
  9437 00:077A: 3A 50 72 6F  	db	$3A,$50,$72,$6F,$63,$65,$73,$73,$49,$64,
                    $3A,$00,$44,$65,$66
       00:077E: 63 65 73 73 
       00:0782: 49 64 3A 00 
       00:0786: 44 65 66 
  9438 00:0789: 43 6F 6E 73  	db	$43,$6F,$6E,$73,$6F,$6C,$65,$50,$72,$6F,
                    $63,$32,$3A,$3A,$46
       00:078D: 6F 6C 65 50 
       00:0791: 72 6F 63 32 
       00:0795: 3A 3A 46 
  9439 00:0798: 58 5F 49 4E  	db	$58,$5F,$49,$4E,$49,$54,$5F,$4D,$45,$53,
                    $53,$41,$47,$45,$0D
       00:079C: 49 54 5F 4D 
       00:07A0: 45 53 53 41 
       00:07A4: 47 45 0D 
  9440 00:07A7: 0A 00 44 65  	db	$0A,$00,$44,$65,$66,$43,$6F,$6E,$73,$6F,
                    $6C,$65,$50,$72,$6F
       00:07AB: 66 43 6F 6E 
       00:07AF: 73 6F 6C 65 
       00:07B3: 50 72 6F 
  9441 00:07B6: 63 32 3A 3A  	db	$63,$32,$3A,$3A,$46,$58,$5F,$55,$4E,$49,
                    $4E,$49,$54,$5F,$4D
       00:07BA: 46 58 5F 55 
       00:07BE: 4E 49 4E 49 
       00:07C2: 54 5F 4D 
  9442 00:07C5: 45 53 53 41  	db	$45,$53,$53,$41,$47,$45,$0D,$0A,$00
       00:07C9: 47 45 0D 0A 
       00:07CD: 00 
  9443 00:07CE:              	ends
  9444                        ;
  9445                        ;void DefConsoleProc3(PFXOSMESSAGE pMsg)
  9446                        ;{
  9447                        	.line	1410
  9448                        	.line	1411
  9449                        	code
  9450                        	xdef	~~DefConsoleProc3
  9451                        	func
  9452                        	.function	1411
  9453                        ~~DefConsoleProc3:
  Sat Jul 10 2021  1:15                                                Page 181


  9454                        	longa	on
  9455                        	longi	on
  9456 00:245E: 3B           	tsc
  9457 00:245F: 38           	sec
  9458 00:2460: E9 0E 00     	sbc	#L303
  9459 00:2463: 1B           	tcs
  9460 00:2464: 0B           	phd
  9461 00:2465: 5B           	tcd
  9462             00000004   pMsg_0	set	4
  9463                        	.block	1411
  9464                        ;	PSPINNERCTX pconsolespinctx = NULL;
  9465                        ;	PFXPROCESS p = NULL;
  9466                        ;	int i = 0;
  9467                        ;
  9468                        ;	//k_debug_string("DefConsoleProc enter\r\n");
  9469                        ;	if(pMsg!=NULL)
  9470             00000000   pconsolespinctx_1	set	0
  9471             00000004   p_1	set	4
  9472             00000008   i_1	set	8
  9473                        	.sym	pconsolespinctx,0,138,1,32,81
  9474                        	.sym	p,4,138,1,32,20
  9475                        	.sym	i,8,5,1,16
  9476                        	.sym	pMsg,4,138,6,32,16
  9477 00:2466: 64 05        	stz	<L304+pconsolespinctx_1
  9478 00:2468: 64 07        	stz	<L304+pconsolespinctx_1+2
  9479 00:246A: 64 09        	stz	<L304+p_1
  9480 00:246C: 64 0B        	stz	<L304+p_1+2
  9481 00:246E: 64 0D        	stz	<L304+i_1
  9482                        	.line	1417
  9483                        ;	{
  9484 00:2470: A5 12        	lda	<L303+pMsg_0
  9485 00:2472: 05 14        	ora	<L303+pMsg_0+2
  9486 00:2474: D0 03        	bne	L306
  9487 00:2476: 82 FE 00     	brl	L10217
  9488                        L306:
  9489                        	.line	1418
  9490                        ;		p = k_exec_get_current_process();
  9491                        	.line	1419
  9492 00:2479: 22 xx xx xx  	jsl	~~k_exec_get_current_process
  9493 00:247D: 85 09        	sta	<L304+p_1
  9494 00:247F: 86 0B        	stx	<L304+p_1+2
  9495                        ;
  9496                        ;		switch(pMsg->type)
  9497                        	.line	1421
  9498 00:2481: A0 08 00     	ldy	#$8
  9499 00:2484: B7 12        	lda	[<L303+pMsg_0],Y
  9500 00:2486: 82 DA 00     	brl	L10218
  9501                        ;		{
  9502                        	.line	1422
  9503                        ;		case FX_INIT_MESSAGE:
  9504                        	.line	1423
  9505                        L10220:
  9506                        ;
  9507                        ;			pconsolespinctx = (PSPINNERCTX)k
                    _mem_allocate_heap(sizeof(SPINNERCTX));
  9508                        	.line	1425
  9509 00:2489: F4 06 00     	pea	#<$6
  9510 00:248C: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  Sat Jul 10 2021  1:15                                                Page 182


  9511 00:2490: 85 05        	sta	<L304+pconsolespinctx_1
  9512 00:2492: 86 07        	stx	<L304+pconsolespinctx_1+2
  9513                        ;			pconsolespinctx->spinner = conso
                    lespinner;
  9514                        	.line	1426
  9515 00:2494: A9 xx xx     	lda	#<~~consolespinner
  9516 00:2497: 85 01        	sta	<R0
  9517                        	xref	_BEG_DATA
  9518 00:2499: A9 xx xx     	lda	#_BEG_DATA>>16
  9519 00:249C: 85 03        	sta	<R0+2
  9520 00:249E: A5 01        	lda	<R0
  9521 00:24A0: A0 02 00     	ldy	#$2
  9522 00:24A3: 97 05        	sta	[<L304+pconsolespinctx_1],Y
  9523 00:24A5: A5 03        	lda	<R0+2
  9524 00:24A7: A0 04 00     	ldy	#$4
  9525 00:24AA: 97 05        	sta	[<L304+pconsolespinctx_1],Y
  9526                        ;			p->tls[0] = (LPVOID)pconsolespin
                    ctx;
  9527                        	.line	1427
  9528 00:24AC: A5 05        	lda	<L304+pconsolespinctx_1
  9529 00:24AE: A0 13 00     	ldy	#$13
  9530 00:24B1: 97 09        	sta	[<L304+p_1],Y
  9531 00:24B3: A5 07        	lda	<L304+pconsolespinctx_1+2
  9532 00:24B5: A0 15 00     	ldy	#$15
  9533 00:24B8: 97 09        	sta	[<L304+p_1],Y
  9534                        ;
  9535                        ;			i = (int)(long)((PFXPROCESSMESSA
                    GE)pMsg)->processInfo->startupArgs;
  9536                        	.line	1429
  9537 00:24BA: A0 0A 00     	ldy	#$a
  9538 00:24BD: B7 12        	lda	[<L303+pMsg_0],Y
  9539 00:24BF: 85 01        	sta	<R0
  9540 00:24C1: A0 0C 00     	ldy	#$c
  9541 00:24C4: B7 12        	lda	[<L303+pMsg_0],Y
  9542 00:24C6: 85 03        	sta	<R0+2
  9543 00:24C8: A0 60 00     	ldy	#$60
  9544 00:24CB: B7 01        	lda	[<R0],Y
  9545 00:24CD: 85 0D        	sta	<L304+i_1
  9546                        ;			k_debug_integer("DefConsoleProc3
                    ::FX_PROCESS:",i);
  9547                        	.line	1430
  9548 00:24CF: D4 0D        	pei	<L304+i_1
  9549 00:24D1: F4 xx xx     	pea	#^L302
  9550 00:24D4: F4 xx xx     	pea	#<L302
  9551 00:24D7: 22 xx xx xx  	jsl	~~k_debug_integer
  9552                        ;
  9553                        ;			if(p!=NULL)
  9554                        	.line	1432
  9555                        ;				k_debug_long("DefConsole
                    Proc3::ProcessId:",p->procId);
  9556 00:24DB: A5 09        	lda	<L304+p_1
  9557 00:24DD: 05 0B        	ora	<L304+p_1+2
  9558 00:24DF: D0 03        	bne	L307
  9559 00:24E1: 82 19 00     	brl	L10221
  9560                        L307:
  9561                        	.line	1433
  9562 00:24E4: A0 04 00     	ldy	#$4
  9563 00:24E7: B7 09        	lda	[<L304+p_1],Y
  Sat Jul 10 2021  1:15                                                Page 183


  9564 00:24E9: 48           	pha
  9565 00:24EA: A0 02 00     	ldy	#$2
  9566 00:24ED: B7 09        	lda	[<L304+p_1],Y
  9567 00:24EF: 48           	pha
  9568 00:24F0: F4 xx xx     	pea	#^L302+29
  9569 00:24F3: F4 xx xx     	pea	#<L302+29
  9570 00:24F6: 22 xx xx xx  	jsl	~~k_debug_long
  9571                        ;			else
  9572 00:24FA: 82 0A 00     	brl	L10222
  9573                        L10221:
  9574                        ;				k_debug_string("DefConso
                    leProc3::FX_INIT_MESSAGE\r\n");
  9575                        	.line	1435
  9576 00:24FD: F4 xx xx     	pea	#^L302+57
  9577 00:2500: F4 xx xx     	pea	#<L302+57
  9578 00:2503: 22 xx xx xx  	jsl	~~k_debug_string
  9579                        L10222:
  9580                        ;			k_init_spinner(pconsolespinctx);
  9581                        	.line	1436
  9582 00:2507: D4 07        	pei	<L304+pconsolespinctx_1+2
  9583 00:2509: D4 05        	pei	<L304+pconsolespinctx_1
  9584 00:250B: 22 xx xx xx  	jsl	~~k_init_spinner
  9585                        ;
  9586                        ;			//k_sd_test();
  9587                        ;			break;
  9588                        	.line	1439
  9589 00:250F: 82 65 00     	brl	L10219
  9590                        ;		case FX_KEY_DOWN:
  9591                        	.line	1440
  9592                        L10223:
  9593                        ;			if(p!=NULL && p->foregroundActiv
                    e)
  9594                        	.line	1441
  9595                        ;			{
  9596 00:2512: A5 09        	lda	<L304+p_1
  9597 00:2514: 05 0B        	ora	<L304+p_1+2
  9598 00:2516: D0 03        	bne	L308
  9599 00:2518: 82 23 00     	brl	L10224
  9600                        L308:
  9601 00:251B: A0 12 00     	ldy	#$12
  9602 00:251E: B7 09        	lda	[<L304+p_1],Y
  9603 00:2520: 29 FF 00     	and	#$ff
  9604 00:2523: D0 03        	bne	L309
  9605 00:2525: 82 16 00     	brl	L10224
  9606                        L309:
  9607                        	.line	1442
  9608                        ;				//if(p!=NULL)
  9609                        ;				//	k_debug_integer(
                    "DefConso-leProc::ProcessId:",p->procId);
  9610                        ;
  9611                        ;				k_put_char(1,46,pMsg->da
                    ta[2],15,0);
  9612                        	.line	1446
  9613 00:2528: F4 00 00     	pea	#<$0
  9614 00:252B: F4 0F 00     	pea	#<$f
  9615 00:252E: A0 18 00     	ldy	#$18
  9616 00:2531: B7 12        	lda	[<L303+pMsg_0],Y
  9617 00:2533: 48           	pha
  Sat Jul 10 2021  1:15                                                Page 184


  9618 00:2534: F4 2E 00     	pea	#<$2e
  9619 00:2537: F4 01 00     	pea	#<$1
  9620 00:253A: 22 xx xx xx  	jsl	~~k_put_char
  9621                        ;			}
  9622                        	.line	1447
  9623                        ;			break;
  9624                        L10224:
  9625                        	.line	1448
  9626 00:253E: 82 36 00     	brl	L10219
  9627                        ;		case FX_PROCESS:
  9628                        	.line	1449
  9629                        L10225:
  9630                        ;			pconsolespinctx = (PSPINNERCTX)p
                    ->tls[0];
  9631                        	.line	1450
  9632 00:2541: A0 13 00     	ldy	#$13
  9633 00:2544: B7 09        	lda	[<L304+p_1],Y
  9634 00:2546: 85 05        	sta	<L304+pconsolespinctx_1
  9635 00:2548: A0 15 00     	ldy	#$15
  9636 00:254B: B7 09        	lda	[<L304+p_1],Y
  9637 00:254D: 85 07        	sta	<L304+pconsolespinctx_1+2
  9638                        ;			//k_debug_string("DefConsoleProc
                    ::FX_PROCESS\r\n");
  9639                        ;			k_updatespinner(3,41,pconsolespi
                    nctx);
  9640                        	.line	1452
  9641 00:254F: D4 07        	pei	<L304+pconsolespinctx_1+2
  9642 00:2551: D4 05        	pei	<L304+pconsolespinctx_1
  9643 00:2553: F4 29 00     	pea	#<$29
  9644 00:2556: F4 03 00     	pea	#<$3
  9645 00:2559: 22 xx xx xx  	jsl	~~k_updatespinner
  9646                        ;			//k_debug_integer("DefConsolePro
                    c3::FX_PROCESS:",i++);
  9647                        ;			break;
  9648                        	.line	1454
  9649 00:255D: 82 17 00     	brl	L10219
  9650                        ;		default:
  9651                        	.line	1455
  9652                        L10226:
  9653                        ;			//k_updatespinner(3,40,&consoles
                    pinctx);
  9654                        ;			break;
  9655                        	.line	1457
  9656 00:2560: 82 14 00     	brl	L10219
  9657                        ;		}
  9658                        	.line	1458
  9659                        L10218:
  9660                        	xref	~~~swt
  9661 00:2563: 22 xx xx xx  	jsl	~~~swt
  9662 00:2567: 03 00        	dw	3
  9663 00:2569: 10 0F        	dw	3856
  9664 00:256B: xx xx        	dw	L10223-1
  9665 00:256D: 00 FF        	dw	65280
  9666 00:256F: xx xx        	dw	L10225-1
  9667 00:2571: 01 FF        	dw	65281
  9668 00:2573: xx xx        	dw	L10220-1
  9669 00:2575: xx xx        	dw	L10226-1
  9670                        L10219:
  Sat Jul 10 2021  1:15                                                Page 185


  9671                        ;	}
  9672                        	.line	1459
  9673                        ;	//k_debug_string("DefConsoleProc exit\r\n");
  9674                        ;}
  9675                        L10217:
  9676                        	.line	1461
  9677                        L310:
  9678 00:2577: A5 10        	lda	<L303+2
  9679 00:2579: 85 14        	sta	<L303+2+4
  9680 00:257B: A5 0F        	lda	<L303+1
  9681 00:257D: 85 13        	sta	<L303+1+4
  9682 00:257F: 2B           	pld
  9683 00:2580: 3B           	tsc
  9684 00:2581: 18           	clc
  9685 00:2582: 69 12 00     	adc	#L303+4
  9686 00:2585: 1B           	tcs
  9687 00:2586: 6B           	rtl
  9688                        	.endblock	1461
  9689             0000000E   L303	equ	14
  9690             00000005   L304	equ	5
  9691                        	ends
  9692                        	efunc
  9693                        	.endfunc	1461,5,14
  9694                        	.line	1461
  9695                        	data
  9696                        L302:
  9697 00:07CE: 44 65 66 43  	db	$44,$65,$66,$43,$6F,$6E,$73,$6F,$6C,$65,
                    $50,$72,$6F,$63,$33
       00:07D2: 6F 6E 73 6F 
       00:07D6: 6C 65 50 72 
       00:07DA: 6F 63 33 
  9698 00:07DD: 3A 3A 46 58  	db	$3A,$3A,$46,$58,$5F,$50,$52,$4F,$43,$45,
                    $53,$53,$3A,$00,$44
       00:07E1: 5F 50 52 4F 
       00:07E5: 43 45 53 53 
       00:07E9: 3A 00 44 
  9699 00:07EC: 65 66 43 6F  	db	$65,$66,$43,$6F,$6E,$73,$6F,$6C,$65,$50,
                    $72,$6F,$63,$33,$3A
       00:07F0: 6E 73 6F 6C 
       00:07F4: 65 50 72 6F 
       00:07F8: 63 33 3A 
  9700 00:07FB: 3A 50 72 6F  	db	$3A,$50,$72,$6F,$63,$65,$73,$73,$49,$64,
                    $3A,$00,$44,$65,$66
       00:07FF: 63 65 73 73 
       00:0803: 49 64 3A 00 
       00:0807: 44 65 66 
  9701 00:080A: 43 6F 6E 73  	db	$43,$6F,$6E,$73,$6F,$6C,$65,$50,$72,$6F,
                    $63,$33,$3A,$3A,$46
       00:080E: 6F 6C 65 50 
       00:0812: 72 6F 63 33 
       00:0816: 3A 3A 46 
  9702 00:0819: 58 5F 49 4E  	db	$58,$5F,$49,$4E,$49,$54,$5F,$4D,$45,$53,
                    $53,$41,$47,$45,$0D
       00:081D: 49 54 5F 4D 
       00:0821: 45 53 53 41 
       00:0825: 47 45 0D 
  9703 00:0828: 0A 00        	db	$0A,$00
  9704 00:082A:              	ends
  Sat Jul 10 2021  1:15                                                Page 186


  9705                        ;
  9706                        ;
  9707                        ;VOID k_console_process_command(LPCHAR commandLine
                    ,PFXPROCESS process)
  9708                        ;{
  9709                        	.line	1464
  9710                        	.line	1465
  9711                        	code
  9712                        	xdef	~~k_console_process_command
  9713                        	func
  9714                        	.function	1465
  9715                        ~~k_console_process_command:
  9716                        	longa	on
  9717                        	longi	on
  9718 00:2587: 3B           	tsc
  9719 00:2588: 38           	sec
  9720 00:2589: E9 24 00     	sbc	#L312
  9721 00:258C: 1B           	tcs
  9722 00:258D: 0B           	phd
  9723 00:258E: 5B           	tcd
  9724             00000004   commandLine_0	set	4
  9725             00000008   process_0	set	8
  9726                        	.block	1465
  9727                        ;	int index = 0;
  9728                        ;	int pos = 0;
  9729                        ;	LPCHAR cptr  = console_commands[0];
  9730                        ;	LPCHAR match = NULL;
  9731                        ;
  9732                        ;	PCOMMANDARGS args = NULL;
  9733                        ;
  9734                        ;	PFXNODE tokens = NULL;
  9735                        ;	PFXNODE t = NULL;
  9736                        ;
  9737                        ;	FXCommandHandler handler = NULL;
  9738                        ;
  9739                        ;	k_debug_string("k_console_process_command::enter
                    :");
  9740             00000000   index_1	set	0
  9741             00000002   pos_1	set	2
  9742             00000004   cptr_1	set	4
  9743             00000008   match_1	set	8
  9744             0000000C   args_1	set	12
  9745             00000010   tokens_1	set	16
  9746             00000014   t_1	set	20
  9747             00000018   handler_1	set	24
  9748                        	.sym	index,0,5,1,16
  9749                        	.sym	pos,2,5,1,16
  9750                        	.sym	cptr,4,142,1,32
  9751                        	.sym	match,8,142,1,32
  9752                        	.sym	args,12,138,1,32,84
  9753                        	.sym	tokens,16,138,1,32,5
  9754                        	.sym	t,20,138,1,32,5
  9755                        	.sym	handler,24,656,1,32
  9756                        	.sym	commandLine,4,142,6,32
  9757                        	.sym	process,8,138,6,32,20
  9758 00:258F: 64 09        	stz	<L313+index_1
  9759 00:2591: 64 0B        	stz	<L313+pos_1
  9760 00:2593: AD xx xx     	lda	|~~console_commands
  Sat Jul 10 2021  1:15                                                Page 187


  9761 00:2596: 85 0D        	sta	<L313+cptr_1
  9762 00:2598: AD xx xx     	lda	|~~console_commands+2
  9763 00:259B: 85 0F        	sta	<L313+cptr_1+2
  9764 00:259D: 64 11        	stz	<L313+match_1
  9765 00:259F: 64 13        	stz	<L313+match_1+2
  9766 00:25A1: 64 15        	stz	<L313+args_1
  9767 00:25A3: 64 17        	stz	<L313+args_1+2
  9768 00:25A5: 64 19        	stz	<L313+tokens_1
  9769 00:25A7: 64 1B        	stz	<L313+tokens_1+2
  9770 00:25A9: 64 1D        	stz	<L313+t_1
  9771 00:25AB: 64 1F        	stz	<L313+t_1+2
  9772 00:25AD: 64 21        	stz	<L313+handler_1
  9773 00:25AF: 64 23        	stz	<L313+handler_1+2
  9774                        	.line	1478
  9775 00:25B1: F4 xx xx     	pea	#^L311
  9776 00:25B4: F4 xx xx     	pea	#<L311
  9777 00:25B7: 22 xx xx xx  	jsl	~~k_debug_string
  9778                        ;	k_debug_string(commandLine);
  9779                        	.line	1479
  9780 00:25BB: D4 2A        	pei	<L312+commandLine_0+2
  9781 00:25BD: D4 28        	pei	<L312+commandLine_0
  9782 00:25BF: 22 xx xx xx  	jsl	~~k_debug_string
  9783                        ;	k_debug_string("\r\n");
  9784                        	.line	1480
  9785 00:25C3: F4 xx xx     	pea	#^L311+34
  9786 00:25C6: F4 xx xx     	pea	#<L311+34
  9787 00:25C9: 22 xx xx xx  	jsl	~~k_debug_string
  9788                        ;
  9789                        ;
  9790                        ;	while(cptr)
  9791                        	.line	1483
  9792                        L10227:
  9793 00:25CD: A5 0D        	lda	<L313+cptr_1
  9794 00:25CF: 05 0F        	ora	<L313+cptr_1+2
  9795 00:25D1: D0 03        	bne	L315
  9796 00:25D3: 82 F8 00     	brl	L10228
  9797                        L315:
  9798                        ;	{
  9799                        	.line	1484
  9800                        ;		//k_debug_string(cptr);
  9801                        ;		//k_debug_string("\r\n");
  9802                        ;		match = strstr(commandLine,cptr);
  9803                        	.line	1487
  9804 00:25D6: D4 0F        	pei	<L313+cptr_1+2
  9805 00:25D8: D4 0D        	pei	<L313+cptr_1
  9806 00:25DA: D4 2A        	pei	<L312+commandLine_0+2
  9807 00:25DC: D4 28        	pei	<L312+commandLine_0
  9808 00:25DE: 22 xx xx xx  	jsl	~~strstr
  9809 00:25E2: 85 11        	sta	<L313+match_1
  9810 00:25E4: 86 13        	stx	<L313+match_1+2
  9811                        ;		if(match == commandLine)
  9812                        	.line	1488
  9813                        ;		{
  9814 00:25E6: A5 11        	lda	<L313+match_1
  9815 00:25E8: C5 28        	cmp	<L312+commandLine_0
  9816 00:25EA: D0 04        	bne	L316
  9817 00:25EC: A5 13        	lda	<L313+match_1+2
  9818 00:25EE: C5 2A        	cmp	<L312+commandLine_0+2
  Sat Jul 10 2021  1:15                                                Page 188


  9819                        L316:
  9820 00:25F0: F0 03        	beq	L317
  9821 00:25F2: 82 BB 00     	brl	L10229
  9822                        L317:
  9823                        	.line	1489
  9824                        ;			k_put_string(0,49,"             
                                                                               "
                    ,15,0);
  9825                        	.line	1490
  9826 00:25F5: F4 00 00     	pea	#<$0
  9827 00:25F8: F4 0F 00     	pea	#<$f
  9828 00:25FB: F4 xx xx     	pea	#^L311+37
  9829 00:25FE: F4 xx xx     	pea	#<L311+37
  9830 00:2601: F4 31 00     	pea	#<$31
  9831 00:2604: F4 00 00     	pea	#<$0
  9832 00:2607: 22 xx xx xx  	jsl	~~k_put_string
  9833                        ;			k_put_string(0,50,"             
                                                                               "
                    ,15,0);
  9834                        	.line	1491
  9835 00:260B: F4 00 00     	pea	#<$0
  9836 00:260E: F4 0F 00     	pea	#<$f
  9837 00:2611: F4 xx xx     	pea	#^L311+110
  9838 00:2614: F4 xx xx     	pea	#<L311+110
  9839 00:2617: F4 32 00     	pea	#<$32
  9840 00:261A: F4 00 00     	pea	#<$0
  9841 00:261D: 22 xx xx xx  	jsl	~~k_put_string
  9842                        ;
  9843                        ;			tokens = tokenize(commandLine);
  9844                        	.line	1493
  9845 00:2621: D4 2A        	pei	<L312+commandLine_0+2
  9846 00:2623: D4 28        	pei	<L312+commandLine_0
  9847 00:2625: 22 xx xx xx  	jsl	~~tokenize
  9848 00:2629: 85 19        	sta	<L313+tokens_1
  9849 00:262B: 86 1B        	stx	<L313+tokens_1+2
  9850                        ;			if(tokens)
  9851                        	.line	1494
  9852                        ;			{
  9853 00:262D: A5 19        	lda	<L313+tokens_1
  9854 00:262F: 05 1B        	ora	<L313+tokens_1+2
  9855 00:2631: D0 03        	bne	L318
  9856 00:2633: 82 08 00     	brl	L10230
  9857                        L318:
  9858                        	.line	1495
  9859                        ;				t = tokens;
  9860                        	.line	1496
  9861 00:2636: A5 19        	lda	<L313+tokens_1
  9862 00:2638: 85 1D        	sta	<L313+t_1
  9863 00:263A: A5 1B        	lda	<L313+tokens_1+2
  9864 00:263C: 85 1F        	sta	<L313+t_1+2
  9865                        ;				/*
  9866                        ;				while(t)
  9867                        ;				{
  9868                        ;					if(t)
  9869                        ;					{
  9870                        ;						k_debug_
                    string("TOKEN:");
  9871                        ;						if( ((PT
  Sat Jul 10 2021  1:15                                                Page 189


                    OKEN)t->data)->text)
  9872                        ;						{
  9873                        ;							
                    k_debug_string(((PTOKEN)t->data)->text );
  9874                        ;						}
  9875                        ;						else
  9876                        ;							
                    k_debug_string("NO NAME");
  9877                        ;
  9878                        ;						k_debug_
                    string("(");
  9879                        ;						k_debug_
                    string( token_to_string ( ((PTOKEN)t->data)->type  ));
  9880                        ;						k_debug_
                    string(")");
  9881                        ;						k_debug_
                    string("\r\n");
  9882                        ;						t = t->n
                    ext;
  9883                        ;					}
  9884                        ;				}
  9885                        ;				*/
  9886                        ;			}
  9887                        	.line	1518
  9888                        ;
  9889                        ;			//pos = k_put_string(pos,49,"FOU
                    ND COMMAND:",15,0);
  9890                        ;			//k_put_string(pos,49,cptr,15,0)
                    ;
  9891                        ;
  9892                        ;			k_debug_strings("k_console_proce
                    ss_command::found:",cptr);
  9893                        L10230:
  9894                        	.line	1523
  9895 00:263E: D4 0F        	pei	<L313+cptr_1+2
  9896 00:2640: D4 0D        	pei	<L313+cptr_1
  9897 00:2642: F4 xx xx     	pea	#^L311+183
  9898 00:2645: F4 xx xx     	pea	#<L311+183
  9899 00:2648: 22 xx xx xx  	jsl	~~k_debug_strings
  9900                        ;
  9901                        ;			// execute command handler
  9902                        ;			if(console_command_proc[index]!=
                    NULL)
  9903                        	.line	1526
  9904                        ;			{
  9905 00:264C: A5 09        	lda	<L313+index_1
  9906 00:264E: 0A           	asl	A
  9907 00:264F: 0A           	asl	A
  9908 00:2650: 85 01        	sta	<R0
  9909 00:2652: 18           	clc
  9910 00:2653: A9 xx xx     	lda	#<~~console_command_proc
  9911 00:2656: 65 01        	adc	<R0
  9912 00:2658: 85 05        	sta	<R1
  9913 00:265A: B2 05        	lda	(<R1)
  9914 00:265C: A0 02 00     	ldy	#$2
  9915 00:265F: 11 05        	ora	(<R1),Y
  9916 00:2661: D0 03        	bne	L319
  9917 00:2663: 82 47 00     	brl	L10231
  Sat Jul 10 2021  1:15                                                Page 190


  9918                        L319:
  9919                        	.line	1527
  9920                        ;				//console_command_proc[i
                    ndex](process);
  9921                        ;
  9922                        ;				//handler = console_comm
                    and_proc[index];
  9923                        ;
  9924                        ;				args = k_mem_allocate_he
                    ap(sizeof(COMMANDARGS));
  9925                        	.line	1532
  9926 00:2666: F4 08 00     	pea	#<$8
  9927 00:2669: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  9928 00:266D: 85 15        	sta	<L313+args_1
  9929 00:266F: 86 17        	stx	<L313+args_1+2
  9930                        ;				args->proc = console_com
                    mand_proc[index];
  9931                        	.line	1533
  9932 00:2671: A5 09        	lda	<L313+index_1
  9933 00:2673: 0A           	asl	A
  9934 00:2674: 0A           	asl	A
  9935 00:2675: 85 01        	sta	<R0
  9936 00:2677: 18           	clc
  9937 00:2678: A9 xx xx     	lda	#<~~console_command_proc
  9938 00:267B: 65 01        	adc	<R0
  9939 00:267D: 85 05        	sta	<R1
  9940 00:267F: B2 05        	lda	(<R1)
  9941 00:2681: 87 15        	sta	[<L313+args_1]
  9942 00:2683: A0 02 00     	ldy	#$2
  9943 00:2686: B1 05        	lda	(<R1),Y
  9944 00:2688: A0 02 00     	ldy	#$2
  9945 00:268B: 97 15        	sta	[<L313+args_1],Y
  9946                        ;				args->tokens = tokens;
  9947                        	.line	1534
  9948 00:268D: A5 19        	lda	<L313+tokens_1
  9949 00:268F: A0 04 00     	ldy	#$4
  9950 00:2692: 97 15        	sta	[<L313+args_1],Y
  9951 00:2694: A5 1B        	lda	<L313+tokens_1+2
  9952 00:2696: A0 06 00     	ldy	#$6
  9953 00:2699: 97 15        	sta	[<L313+args_1],Y
  9954                        ;
  9955                        ;				//k_debug_integer("k_con
                    sole_process_command::presend:",index);
  9956                        ;				//k_send_message(process
                    ,FX_APP_MESSAGE,handler,-1);
  9957                        ;				k_send_message(process,F
                    X_APP_MESSAGE,args,-1);
  9958                        	.line	1538
  9959 00:269B: F4 FF FF     	pea	#<$ffffffff
  9960 00:269E: D4 17        	pei	<L313+args_1+2
  9961 00:26A0: D4 15        	pei	<L313+args_1
  9962 00:26A2: F4 F0 FF     	pea	#<$fff0
  9963 00:26A5: D4 2E        	pei	<L312+process_0+2
  9964 00:26A7: D4 2C        	pei	<L312+process_0
  9965 00:26A9: 22 xx xx xx  	jsl	~~k_send_message
  9966                        ;				//k_debug_pointer("k_con
                    sole_process_command::postsend:",handler);
  9967                        ;
  Sat Jul 10 2021  1:15                                                Page 191


  9968                        ;			}
  9969                        	.line	1541
  9970                        ;			break;
  9971                        L10231:
  9972                        	.line	1542
  9973 00:26AD: 82 1E 00     	brl	L10228
  9974                        ;		}
  9975                        	.line	1543
  9976                        ;		cptr = console_commands[++index];
  9977                        L10229:
  9978                        	.line	1544
  9979 00:26B0: E6 09        	inc	<L313+index_1
  9980 00:26B2: A5 09        	lda	<L313+index_1
  9981 00:26B4: 0A           	asl	A
  9982 00:26B5: 0A           	asl	A
  9983 00:26B6: 85 01        	sta	<R0
  9984 00:26B8: 18           	clc
  9985 00:26B9: A9 xx xx     	lda	#<~~console_commands
  9986 00:26BC: 65 01        	adc	<R0
  9987 00:26BE: 85 05        	sta	<R1
  9988 00:26C0: B2 05        	lda	(<R1)
  9989 00:26C2: 85 0D        	sta	<L313+cptr_1
  9990 00:26C4: A0 02 00     	ldy	#$2
  9991 00:26C7: B1 05        	lda	(<R1),Y
  9992 00:26C9: 85 0F        	sta	<L313+cptr_1+2
  9993                        ;	}
  9994                        	.line	1545
  9995 00:26CB: 82 FF FE     	brl	L10227
  9996                        L10228:
  9997                        ;
  9998                        ;
  9999                        ;	//if(commandLine!=NULL)
 10000                        ;	//	k_put_string(0,50,commandLine,15,0);
 10001                        ;
 10002                        ;	k_debug_string("k_console_process_command::exit\
                    r\n");
 10003                        	.line	1551
 10004 00:26CE: F4 xx xx     	pea	#^L311+217
 10005 00:26D1: F4 xx xx     	pea	#<L311+217
 10006 00:26D4: 22 xx xx xx  	jsl	~~k_debug_string
 10007                        ;
 10008                        ;	return;
 10009                        	.line	1553
 10010                        L320:
 10011 00:26D8: A5 26        	lda	<L312+2
 10012 00:26DA: 85 2E        	sta	<L312+2+8
 10013 00:26DC: A5 25        	lda	<L312+1
 10014 00:26DE: 85 2D        	sta	<L312+1+8
 10015 00:26E0: 2B           	pld
 10016 00:26E1: 3B           	tsc
 10017 00:26E2: 18           	clc
 10018 00:26E3: 69 2C 00     	adc	#L312+8
 10019 00:26E6: 1B           	tcs
 10020 00:26E7: 6B           	rtl
 10021                        ;}
 10022                        	.line	1554
 10023                        	.endblock	1554
 10024             00000024   L312	equ	36
  Sat Jul 10 2021  1:15                                                Page 192


 10025             00000009   L313	equ	9
 10026                        	ends
 10027                        	efunc
 10028                        	.endfunc	1554,9,36
 10029                        	.line	1554
 10030                        	data
 10031                        L311:
 10032 00:082A: 6B 5F 63 6F  	db	$6B,$5F,$63,$6F,$6E,$73,$6F,$6C,$65,$5F,
                    $70,$72,$6F,$63,$65
       00:082E: 6E 73 6F 6C 
       00:0832: 65 5F 70 72 
       00:0836: 6F 63 65 
 10033 00:0839: 73 73 5F 63  	db	$73,$73,$5F,$63,$6F,$6D,$6D,$61,$6E,$64,
                    $3A,$3A,$65,$6E,$74
       00:083D: 6F 6D 6D 61 
       00:0841: 6E 64 3A 3A 
       00:0845: 65 6E 74 
 10034 00:0848: 65 72 3A 00  	db	$65,$72,$3A,$00,$0D,$0A,$00,$20,$20,$20,
                    $20,$20,$20,$20,$20
       00:084C: 0D 0A 00 20 
       00:0850: 20 20 20 20 
       00:0854: 20 20 20 
 10035 00:0857: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$20,$20,$20,$20,
                    $20,$20,$20,$20,$20
       00:085B: 20 20 20 20 
       00:085F: 20 20 20 20 
       00:0863: 20 20 20 
 10036 00:0866: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$20,$20,$20,$20,
                    $20,$20,$20,$20,$20
       00:086A: 20 20 20 20 
       00:086E: 20 20 20 20 
       00:0872: 20 20 20 
 10037 00:0875: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$20,$20,$20,$20,
                    $20,$20,$20,$20,$20
       00:0879: 20 20 20 20 
       00:087D: 20 20 20 20 
       00:0881: 20 20 20 
 10038 00:0884: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$20,$20,$20,$20,
                    $20,$20,$20,$20,$20
       00:0888: 20 20 20 20 
       00:088C: 20 20 20 20 
       00:0890: 20 20 20 
 10039 00:0893: 20 20 20 20  	db	$20,$20,$20,$20,$00,$20,$20,$20,$20,$20,
                    $20,$20,$20,$20,$20
       00:0897: 00 20 20 20 
       00:089B: 20 20 20 20 
       00:089F: 20 20 20 
 10040 00:08A2: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$20,$20,$20,$20,
                    $20,$20,$20,$20,$20
       00:08A6: 20 20 20 20 
       00:08AA: 20 20 20 20 
       00:08AE: 20 20 20 
 10041 00:08B1: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$20,$20,$20,$20,
                    $20,$20,$20,$20,$20
       00:08B5: 20 20 20 20 
       00:08B9: 20 20 20 20 
       00:08BD: 20 20 20 
 10042 00:08C0: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$20,$20,$20,$20,
  Sat Jul 10 2021  1:15                                                Page 193


                    $20,$20,$20,$20,$20
       00:08C4: 20 20 20 20 
       00:08C8: 20 20 20 20 
       00:08CC: 20 20 20 
 10043 00:08CF: 20 20 20 20  	db	$20,$20,$20,$20,$20,$20,$20,$20,$20,$20,
                    $20,$20,$20,$20,$20
       00:08D3: 20 20 20 20 
       00:08D7: 20 20 20 20 
       00:08DB: 20 20 20 
 10044 00:08DE: 20 20 00 6B  	db	$20,$20,$00,$6B,$5F,$63,$6F,$6E,$73,$6F,
                    $6C,$65,$5F,$70,$72
       00:08E2: 5F 63 6F 6E 
       00:08E6: 73 6F 6C 65 
       00:08EA: 5F 70 72 
 10045 00:08ED: 6F 63 65 73  	db	$6F,$63,$65,$73,$73,$5F,$63,$6F,$6D,$6D,
                    $61,$6E,$64,$3A,$3A
       00:08F1: 73 5F 63 6F 
       00:08F5: 6D 6D 61 6E 
       00:08F9: 64 3A 3A 
 10046 00:08FC: 66 6F 75 6E  	db	$66,$6F,$75,$6E,$64,$3A,$00,$6B,$5F,$63,
                    $6F,$6E,$73,$6F,$6C
       00:0900: 64 3A 00 6B 
       00:0904: 5F 63 6F 6E 
       00:0908: 73 6F 6C 
 10047 00:090B: 65 5F 70 72  	db	$65,$5F,$70,$72,$6F,$63,$65,$73,$73,$5F,
                    $63,$6F,$6D,$6D,$61
       00:090F: 6F 63 65 73 
       00:0913: 73 5F 63 6F 
       00:0917: 6D 6D 61 
 10048 00:091A: 6E 64 3A 3A  	db	$6E,$64,$3A,$3A,$65,$78,$69,$74,$0D,$0A,
                    $00
       00:091E: 65 78 69 74 
       00:0922: 0D 0A 00 
 10049 00:0925:              	ends
 10050                        ;/*
 10051                        ;VOID foreach_file_entry(LPVOID ctx,LPVOID data)
 10052                        ;{
 10053                        ;	CHAR buffer[16];
 10054                        ;	int pos = 0;
 10055                        ;	PFXPROCESS process = (PFXPROCESS)ctx;
 10056                        ;
 10057                        ;	pos = k_put_string(0,process->consoleCtl->curY,(
                    (PFILEINFO)data)->pFilename,15,0);
 10058                        ;	pos = k_put_string(20,process->consoleCtl->curY,
                    k_replace_padding( k_longtodec(  ((PFILEINFO)data)->lSize,bu
                    ffer ),' '),15,0);
 10059                        ;	pos++;
 10060                        ;	if(((PFILEINFO)data)->type == ATTR_DIRECTORY)
 10061                        ;		pos = k_put_string(pos,process->consoleC
                    tl->curY,"directory",15,0);
 10062                        ;	else
 10063                        ;		pos = k_put_string(pos,process->consoleC
                    tl->curY,"bytes",15,0);
 10064                        ;
 10065                        ;	process->consoleCtl->curY++;
 10066                        ;}
 10067                        ;*/
 10068                        ;
  Sat Jul 10 2021  1:15                                                Page 194


 10069                        ;LPCHAR token_to_string(TOKENTYPE tt)
 10070                        ;{
 10071                        	.line	1574
 10072                        	.line	1575
 10073                        	code
 10074                        	xdef	~~token_to_string
 10075                        	func
 10076                        	.function	1575
 10077                        ~~token_to_string:
 10078                        	longa	on
 10079                        	longi	on
 10080 00:26E8: 3B           	tsc
 10081 00:26E9: 38           	sec
 10082 00:26EA: E9 08 00     	sbc	#L322
 10083 00:26ED: 1B           	tcs
 10084 00:26EE: 0B           	phd
 10085 00:26EF: 5B           	tcd
 10086             00000004   tt_0	set	4
 10087                        	.block	1575
 10088                        ;	return tokentypeNames[tt];
 10089                        	.sym	tt,4,5,6,16
 10090                        	.line	1576
 10091 00:26F0: A5 0C        	lda	<L322+tt_0
 10092 00:26F2: 0A           	asl	A
 10093 00:26F3: 0A           	asl	A
 10094 00:26F4: 85 01        	sta	<R0
 10095 00:26F6: 18           	clc
 10096 00:26F7: A9 xx xx     	lda	#<~~tokentypeNames
 10097 00:26FA: 65 01        	adc	<R0
 10098 00:26FC: 85 05        	sta	<R1
 10099 00:26FE: A0 02 00     	ldy	#$2
 10100 00:2701: B1 05        	lda	(<R1),Y
 10101 00:2703: AA           	tax
 10102 00:2704: B2 05        	lda	(<R1)
 10103                        L325:
 10104 00:2706: A8           	tay
 10105 00:2707: A5 0A        	lda	<L322+2
 10106 00:2709: 85 0C        	sta	<L322+2+2
 10107 00:270B: A5 09        	lda	<L322+1
 10108 00:270D: 85 0B        	sta	<L322+1+2
 10109 00:270F: 2B           	pld
 10110 00:2710: 3B           	tsc
 10111 00:2711: 18           	clc
 10112 00:2712: 69 0A 00     	adc	#L322+2
 10113 00:2715: 1B           	tcs
 10114 00:2716: 98           	tya
 10115 00:2717: 6B           	rtl
 10116                        ;}
 10117                        	.line	1577
 10118                        	.endblock	1577
 10119             00000008   L322	equ	8
 10120             00000009   L323	equ	9
 10121                        	ends
 10122                        	efunc
 10123                        	.endfunc	1577,9,8
 10124                        	.line	1577
 10125                        ;
 10126                        ;PTOKEN newToken(PFXSTRING name,TOKENTYPE type)
  Sat Jul 10 2021  1:15                                                Page 195


 10127                        ;{
 10128                        	.line	1579
 10129                        	.line	1580
 10130                        	code
 10131                        	xdef	~~newToken
 10132                        	func
 10133                        	.function	1580
 10134                        ~~newToken:
 10135                        	longa	on
 10136                        	longi	on
 10137 00:2718: 3B           	tsc
 10138 00:2719: 38           	sec
 10139 00:271A: E9 08 00     	sbc	#L326
 10140 00:271D: 1B           	tcs
 10141 00:271E: 0B           	phd
 10142 00:271F: 5B           	tcd
 10143             00000004   name_0	set	4
 10144             00000008   type_0	set	8
 10145                        	.block	1580
 10146                        ;	PTOKEN t = (PTOKEN)k_mem_allocate_heap(sizeof(TO
                    KEN));
 10147                        ;	if(t)
 10148             00000000   t_1	set	0
 10149                        	.sym	t,0,138,1,32,83
 10150                        	.sym	name,4,138,6,32,50
 10151                        	.sym	type,8,5,6,16
 10152 00:2720: F4 08 00     	pea	#<$8
 10153 00:2723: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 10154 00:2727: 85 05        	sta	<L327+t_1
 10155 00:2729: 86 07        	stx	<L327+t_1+2
 10156                        	.line	1582
 10157                        ;	{
 10158 00:272B: A5 05        	lda	<L327+t_1
 10159 00:272D: 05 07        	ora	<L327+t_1+2
 10160 00:272F: D0 03        	bne	L329
 10161 00:2731: 82 26 00     	brl	L10232
 10162                        L329:
 10163                        	.line	1583
 10164                        ;		t->type = type;
 10165                        	.line	1584
 10166 00:2734: A5 10        	lda	<L326+type_0
 10167 00:2736: 87 05        	sta	[<L327+t_1]
 10168                        ;		t->depth = 0;
 10169                        	.line	1585
 10170 00:2738: A9 00 00     	lda	#$0
 10171 00:273B: A0 02 00     	ldy	#$2
 10172 00:273E: 97 05        	sta	[<L327+t_1],Y
 10173                        ;		t->text = k_fxstring_copy_string(name);
 10174                        	.line	1586
 10175 00:2740: D4 0E        	pei	<L326+name_0+2
 10176 00:2742: D4 0C        	pei	<L326+name_0
 10177 00:2744: 22 xx xx xx  	jsl	~~k_fxstring_copy_string
 10178 00:2748: 85 01        	sta	<R0
 10179 00:274A: 86 03        	stx	<R0+2
 10180 00:274C: A5 01        	lda	<R0
 10181 00:274E: A0 04 00     	ldy	#$4
 10182 00:2751: 97 05        	sta	[<L327+t_1],Y
 10183 00:2753: A5 03        	lda	<R0+2
  Sat Jul 10 2021  1:15                                                Page 196


 10184 00:2755: A0 06 00     	ldy	#$6
 10185 00:2758: 97 05        	sta	[<L327+t_1],Y
 10186                        ;	}
 10187                        	.line	1587
 10188                        ;	return t;
 10189                        L10232:
 10190                        	.line	1588
 10191 00:275A: A6 07        	ldx	<L327+t_1+2
 10192 00:275C: A5 05        	lda	<L327+t_1
 10193                        L330:
 10194 00:275E: A8           	tay
 10195 00:275F: A5 0A        	lda	<L326+2
 10196 00:2761: 85 10        	sta	<L326+2+6
 10197 00:2763: A5 09        	lda	<L326+1
 10198 00:2765: 85 0F        	sta	<L326+1+6
 10199 00:2767: 2B           	pld
 10200 00:2768: 3B           	tsc
 10201 00:2769: 18           	clc
 10202 00:276A: 69 0E 00     	adc	#L326+6
 10203 00:276D: 1B           	tcs
 10204 00:276E: 98           	tya
 10205 00:276F: 6B           	rtl
 10206                        ;}
 10207                        	.line	1589
 10208                        	.endblock	1589
 10209             00000008   L326	equ	8
 10210             00000005   L327	equ	5
 10211                        	ends
 10212                        	efunc
 10213                        	.endfunc	1589,5,8
 10214                        	.line	1589
 10215                        ;/*
 10216                        ;void sig_walk(LPVOID signature,LPVOID pdata)
 10217                        ;{
 10218                        ;	PTOKEN t = ((PTOKEN)pdata);
 10219                        ;
 10220                        ;	((LPCHAR)signature)[0]++;
 10221                        ;	((LPCHAR)signature)[((LPCHAR)signature)[0]] = (t
                    ->type + 65);
 10222                        ;
 10223                        ;	//k_debug_integer("sig count:",((LPCHAR)signatur
                    e)[0]);
 10224                        ;	k_debug_integer("sig id:",((LPCHAR)signature)[0]
                    );
 10225                        ;	//k_debug_integer("sig type:",((LPCHAR)signature
                    )[((LPCHAR)signature)[0]]);
 10226                        ;	k_debug_char("sig type:",((LPCHAR)signature)[((L
                    PCHAR)signature)[0]] );
 10227                        ;}
 10228                        ;
 10229                        ;VOID getTokenSig(PFXNODE tokens,LPVOID signature)
 10230                        ;{
 10231                        ;	memset(signature,0xFF,8);
 10232                        ;	((LPCHAR)signature)[0] = 0;
 10233                        ;
 10234                        ;	k_nodelist_foreach_data(tokens->next,signature,s
                    ig_walk);
 10235                        ;
  Sat Jul 10 2021  1:15                                                Page 197


 10236                        ;	((LPCHAR)signature)[((LPCHAR)signature)[0] + 1] 
                    = 0;
 10237                        ;	((LPCHAR)signature)[0] ='#';
 10238                        ;
 10239                        ;	k_debug_strings("string-sig:",((LPCHAR)signature
                    ));
 10240                        ;}
 10241                        ;*/
 10242                        ;void sig_walk(LPVOID signature,LPVOID pdata)
 10243                        ;{
 10244                        	.line	1617
 10245                        	.line	1618
 10246                        	code
 10247                        	xdef	~~sig_walk
 10248                        	func
 10249                        	.function	1618
 10250                        ~~sig_walk:
 10251                        	longa	on
 10252                        	longi	on
 10253 00:2770: 3B           	tsc
 10254 00:2771: 38           	sec
 10255 00:2772: E9 0A 00     	sbc	#L331
 10256 00:2775: 1B           	tcs
 10257 00:2776: 0B           	phd
 10258 00:2777: 5B           	tcd
 10259             00000004   signature_0	set	4
 10260             00000008   pdata_0	set	8
 10261                        	.block	1618
 10262                        ;	CHAR end[2];
 10263                        ;	PTOKEN t = ((PTOKEN)pdata);
 10264                        ;
 10265                        ;	if(t)
 10266             00000000   end_1	set	0
 10267             00000002   t_1	set	2
 10268                        	.sym	end,0,110,1,0,2
 10269                        	.sym	t,2,138,1,32,83
 10270                        	.sym	signature,4,129,6,32
 10271                        	.sym	pdata,8,129,6,32
 10272 00:2778: A5 12        	lda	<L331+pdata_0
 10273 00:277A: 85 07        	sta	<L332+t_1
 10274 00:277C: A5 14        	lda	<L331+pdata_0+2
 10275 00:277E: 85 09        	sta	<L332+t_1+2
 10276                        	.line	1622
 10277                        ;	{
 10278 00:2780: A5 07        	lda	<L332+t_1
 10279 00:2782: 05 09        	ora	<L332+t_1+2
 10280 00:2784: D0 03        	bne	L334
 10281 00:2786: 82 50 00     	brl	L10233
 10282                        L334:
 10283                        	.line	1623
 10284                        ;		if(t->type == 0xFF)
 10285                        	.line	1624
 10286                        ;			end[0] = '#';
 10287 00:2789: A7 07        	lda	[<L332+t_1]
 10288 00:278B: C9 FF 00     	cmp	#<$ff
 10289 00:278E: F0 03        	beq	L335
 10290 00:2790: 82 0B 00     	brl	L10234
 10291                        L335:
  Sat Jul 10 2021  1:15                                                Page 198


 10292                        	.line	1625
 10293 00:2793: E2 20        	sep	#$20
 10294                        	longa	off
 10295 00:2795: A9 23        	lda	#$23
 10296 00:2797: 85 05        	sta	<L332+end_1
 10297 00:2799: C2 20        	rep	#$20
 10298                        	longa	on
 10299                        ;		else
 10300 00:279B: 82 10 00     	brl	L10235
 10301                        L10234:
 10302                        ;			end[0] = (t->type + 65);
 10303                        	.line	1627
 10304 00:279E: 18           	clc
 10305 00:279F: A9 41 00     	lda	#$41
 10306 00:27A2: 67 07        	adc	[<L332+t_1]
 10307 00:27A4: 85 01        	sta	<R0
 10308 00:27A6: E2 20        	sep	#$20
 10309                        	longa	off
 10310 00:27A8: A5 01        	lda	<R0
 10311 00:27AA: 85 05        	sta	<L332+end_1
 10312 00:27AC: C2 20        	rep	#$20
 10313                        	longa	on
 10314                        L10235:
 10315                        ;		end[1] = 0;
 10316                        	.line	1628
 10317 00:27AE: E2 20        	sep	#$20
 10318                        	longa	off
 10319 00:27B0: 64 06        	stz	<L332+end_1+1
 10320 00:27B2: C2 20        	rep	#$20
 10321                        	longa	on
 10322                        ;
 10323                        ;		strcat((LPCHAR)signature,end);
 10324                        	.line	1630
 10325 00:27B4: F4 00 00     	pea	#0
 10326 00:27B7: 18           	clc
 10327 00:27B8: 7B           	tdc
 10328 00:27B9: 69 05 00     	adc	#<L332+end_1
 10329 00:27BC: 48           	pha
 10330 00:27BD: D4 10        	pei	<L331+signature_0+2
 10331 00:27BF: D4 0E        	pei	<L331+signature_0
 10332 00:27C1: 22 xx xx xx  	jsl	~~strcat
 10333                        ;
 10334                        ;		//k_debug_integer("sig count:",((LPCHAR)
                    signature)[0]);
 10335                        ;		//k_debug_integer("sig id:",((LPCHAR)sig
                    nature)[0]);
 10336                        ;		//k_debug_integer("sig type:",((LPCHAR)s
                    ignature)[((LPCHAR)signature)[0]]);
 10337                        ;		k_debug_char("sig type:",(t->type + 65))
                    ;
 10338                        	.line	1635
 10339 00:27C5: 18           	clc
 10340 00:27C6: A9 41 00     	lda	#$41
 10341 00:27C9: 67 07        	adc	[<L332+t_1]
 10342 00:27CB: 48           	pha
 10343 00:27CC: F4 xx xx     	pea	#^L321
 10344 00:27CF: F4 xx xx     	pea	#<L321
 10345 00:27D2: 22 xx xx xx  	jsl	~~k_debug_char
  Sat Jul 10 2021  1:15                                                Page 199


 10346                        ;	}
 10347                        	.line	1636
 10348                        ;	else
 10349 00:27D6: 82 18 00     	brl	L10236
 10350                        L10233:
 10351                        ;	{
 10352                        	.line	1638
 10353                        ;		strcat((LPCHAR)signature,"#");
 10354                        	.line	1639
 10355 00:27D9: F4 xx xx     	pea	#^L321+10
 10356 00:27DC: F4 xx xx     	pea	#<L321+10
 10357 00:27DF: D4 10        	pei	<L331+signature_0+2
 10358 00:27E1: D4 0E        	pei	<L331+signature_0
 10359 00:27E3: 22 xx xx xx  	jsl	~~strcat
 10360                        ;		k_debug_string("sig_walk:NO DATA");
 10361                        	.line	1640
 10362 00:27E7: F4 xx xx     	pea	#^L321+12
 10363 00:27EA: F4 xx xx     	pea	#<L321+12
 10364 00:27ED: 22 xx xx xx  	jsl	~~k_debug_string
 10365                        ;	}
 10366                        	.line	1641
 10367                        L10236:
 10368                        ;}
 10369                        	.line	1642
 10370                        L336:
 10371 00:27F1: A5 0C        	lda	<L331+2
 10372 00:27F3: 85 14        	sta	<L331+2+8
 10373 00:27F5: A5 0B        	lda	<L331+1
 10374 00:27F7: 85 13        	sta	<L331+1+8
 10375 00:27F9: 2B           	pld
 10376 00:27FA: 3B           	tsc
 10377 00:27FB: 18           	clc
 10378 00:27FC: 69 12 00     	adc	#L331+8
 10379 00:27FF: 1B           	tcs
 10380 00:2800: 6B           	rtl
 10381                        	.endblock	1642
 10382             0000000A   L331	equ	10
 10383             00000005   L332	equ	5
 10384                        	ends
 10385                        	efunc
 10386                        	.endfunc	1642,5,10
 10387                        	.line	1642
 10388                        	data
 10389                        L321:
 10390 00:0925: 73 69 67 20  	db	$73,$69,$67,$20,$74,$79,$70,$65,$3A,$00,
                    $23,$00,$73,$69,$67
       00:0929: 74 79 70 65 
       00:092D: 3A 00 23 00 
       00:0931: 73 69 67 
 10391 00:0934: 5F 77 61 6C  	db	$5F,$77,$61,$6C,$6B,$3A,$4E,$4F,$20,$44,
                    $41,$54,$41,$00
       00:0938: 6B 3A 4E 4F 
       00:093C: 20 44 41 54 
       00:0940: 41 00 
 10392 00:0942:              	ends
 10393                        ;
 10394                        ;VOID getTokenSig(PFXNODE tokens,LPVOID signature)
 10395                        ;{
  Sat Jul 10 2021  1:15                                                Page 200


 10396                        	.line	1644
 10397                        	.line	1645
 10398                        	code
 10399                        	xdef	~~getTokenSig
 10400                        	func
 10401                        	.function	1645
 10402                        ~~getTokenSig:
 10403                        	longa	on
 10404                        	longi	on
 10405 00:2801: 3B           	tsc
 10406 00:2802: 38           	sec
 10407 00:2803: E9 00 00     	sbc	#L338
 10408 00:2806: 1B           	tcs
 10409 00:2807: 0B           	phd
 10410 00:2808: 5B           	tcd
 10411             00000004   tokens_0	set	4
 10412             00000008   signature_0	set	8
 10413                        	.block	1645
 10414                        ;	memset(signature,0,8);
 10415                        	.sym	tokens,4,138,6,32,5
 10416                        	.sym	signature,8,129,6,32
 10417                        	.line	1646
 10418 00:2809: F4 08 00     	pea	#<$8
 10419 00:280C: F4 00 00     	pea	#<$0
 10420 00:280F: D4 0A        	pei	<L338+signature_0+2
 10421 00:2811: D4 08        	pei	<L338+signature_0
 10422 00:2813: 22 xx xx xx  	jsl	~~memset
 10423                        ;	//((LPCHAR)signature)[0] = 0;
 10424                        ;
 10425                        ;	k_nodelist_foreach_data(tokens,signature,sig_wal
                    k);
 10426                        	.line	1649
 10427 00:2817: F4 xx xx     	pea	#^~~sig_walk
 10428 00:281A: F4 xx xx     	pea	#<~~sig_walk
 10429 00:281D: D4 0A        	pei	<L338+signature_0+2
 10430 00:281F: D4 08        	pei	<L338+signature_0
 10431 00:2821: D4 06        	pei	<L338+tokens_0+2
 10432 00:2823: D4 04        	pei	<L338+tokens_0
 10433 00:2825: 22 xx xx xx  	jsl	~~k_nodelist_foreach_data
 10434                        ;
 10435                        ;	//((LPCHAR)signature)[((LPCHAR)signature)[0] + 1
                    ] = 0;
 10436                        ;	//((LPCHAR)signature)[0] ='#';
 10437                        ;
 10438                        ;	k_debug_strings("string-sig:",((LPCHAR)signature
                    ));
 10439                        	.line	1654
 10440 00:2829: D4 0A        	pei	<L338+signature_0+2
 10441 00:282B: D4 08        	pei	<L338+signature_0
 10442 00:282D: F4 xx xx     	pea	#^L337
 10443 00:2830: F4 xx xx     	pea	#<L337
 10444 00:2833: 22 xx xx xx  	jsl	~~k_debug_strings
 10445                        ;}
 10446                        	.line	1655
 10447                        L341:
 10448 00:2837: A5 02        	lda	<L338+2
 10449 00:2839: 85 0A        	sta	<L338+2+8
 10450 00:283B: A5 01        	lda	<L338+1
  Sat Jul 10 2021  1:15                                                Page 201


 10451 00:283D: 85 09        	sta	<L338+1+8
 10452 00:283F: 2B           	pld
 10453 00:2840: 3B           	tsc
 10454 00:2841: 18           	clc
 10455 00:2842: 69 08 00     	adc	#L338+8
 10456 00:2845: 1B           	tcs
 10457 00:2846: 6B           	rtl
 10458                        	.endblock	1655
 10459             00000000   L338	equ	0
 10460             00000001   L339	equ	1
 10461                        	ends
 10462                        	efunc
 10463                        	.endfunc	1655,1,0
 10464                        	.line	1655
 10465                        	data
 10466                        L337:
 10467 00:0942: 73 74 72 69  	db	$73,$74,$72,$69,$6E,$67,$2D,$73,$69,$67,
                    $3A,$00
       00:0946: 6E 67 2D 73 
       00:094A: 69 67 3A 00 
 10468 00:094E:              	ends
 10469                        ;
 10470                        ;
 10471                        ;
 10472                        ;PFXNODE tokenize(LPCHAR source)
 10473                        ;{
 10474                        	.line	1659
 10475                        	.line	1660
 10476                        	code
 10477                        	xdef	~~tokenize
 10478                        	func
 10479                        	.function	1660
 10480                        ~~tokenize:
 10481                        	longa	on
 10482                        	longi	on
 10483 00:2847: 3B           	tsc
 10484 00:2848: 38           	sec
 10485 00:2849: E9 51 00     	sbc	#L343
 10486 00:284C: 1B           	tcs
 10487 00:284D: 0B           	phd
 10488 00:284E: 5B           	tcd
 10489             00000004   source_0	set	4
 10490                        	.block	1660
 10491                        ;
 10492                        ;	INT 	  i = 0;
 10493                        ;	CHAR 	  c = 0;
 10494                        ;	CHAR      toString[2];
 10495                        ;	INT 	  nestedIf = 0;
 10496                        ;	UINT sourceLength = 0;
 10497                        ;	LPCHAR	  charTokens = "\n=+-/<*>(),";
 10498                        ;	//PFXSTRING charTokens = NULL;
 10499                        ;	PFXSTRING token    = NULL;
 10500                        ;	PFXNODE   tokens   = NULL;
 10501                        ;	PTOKEN    tok	   = NULL;
 10502                        ;	TOKENIZESTATE state = STATE_DEFAULT;
 10503                        ;	TOKENTYPE tokenTypes[] = {
 10504                        	data
 10505                        L346:
  Sat Jul 10 2021  1:15                                                Page 202


 10506                        ;							
                    	TTYPE_LINE, TTYPE_EQUALS, TTYPE_OPERATOR,
 10507 00:094E: 04 00 05 00  	dw	$4,$5,$6
       00:0952: 06 00 
 10508                        ;							
                    	TTYPE_OPERATOR, TTYPE_OPERATOR,TTYPE_OPERATOR,
 10509 00:0954: 06 00 06 00  	dw	$6,$6,$6
       00:0958: 06 00 
 10510                        ;							
                    	TTYPE_OPERATOR, TTYPE_OPERATOR,
 10511 00:095A: 06 00 06 00  	dw	$6,$6
 10512                        ;							
                    	TTYPE_LEFT_PAREN, TTYPE_RIGHT_PAREN, TTYPE_COMMA
 10513 00:095E: 07 00 08 00  	dw	$7,$8
 10514                        ;							
                      };
 10515 00:0962: 0A 00        	dw	$A
 10516 00:0964:              	ends
 10517                        ;
 10518                        ;
 10519                        ;	source = k_fxstring_add(k_fxstring_new(source,st
                    rlen(source) + 2)," ");
 10520             00000000   i_1	set	0
 10521             00000002   c_1	set	2
 10522             00000003   toString_1	set	3
 10523             00000005   nestedIf_1	set	5
 10524             00000007   sourceLength_1	set	7
 10525             00000009   charTokens_1	set	9
 10526             0000000D   token_1	set	13
 10527             00000011   tokens_1	set	17
 10528             00000015   tok_1	set	21
 10529             00000019   state_1	set	25
 10530             0000001B   tokenTypes_1	set	27
 10531                        	.sym	i,0,5,1,16
 10532                        	.sym	c,2,14,1,8
 10533                        	.sym	toString,3,110,1,0,2
 10534                        	.sym	nestedIf,5,5,1,16
 10535                        	.sym	sourceLength,7,16,1,16
 10536                        	.sym	charTokens,9,142,1,32
 10537                        	.sym	token,13,138,1,32,50
 10538                        	.sym	tokens,17,138,1,32,5
 10539                        	.sym	tok,21,138,1,32,83
 10540                        	.sym	state,25,5,1,16
 10541                        	.sym	tokenTypes,27,101,1,0,11
 10542                        	.sym	source,4,142,6,32
 10543 00:284F: 64 21        	stz	<L344+i_1
 10544 00:2851: E2 20        	sep	#$20
 10545                        	longa	off
 10546 00:2853: 64 23        	stz	<L344+c_1
 10547 00:2855: C2 20        	rep	#$20
 10548                        	longa	on
 10549 00:2857: 64 26        	stz	<L344+nestedIf_1
 10550 00:2859: 64 28        	stz	<L344+sourceLength_1
 10551 00:285B: A9 xx xx     	lda	#<L342
 10552 00:285E: 85 2A        	sta	<L344+charTokens_1
 10553 00:2860: A9 xx xx     	lda	#^L342
 10554 00:2863: 85 2C        	sta	<L344+charTokens_1+2
 10555 00:2865: 64 2E        	stz	<L344+token_1
  Sat Jul 10 2021  1:15                                                Page 203


 10556 00:2867: 64 30        	stz	<L344+token_1+2
 10557 00:2869: 64 32        	stz	<L344+tokens_1
 10558 00:286B: 64 34        	stz	<L344+tokens_1+2
 10559 00:286D: 64 36        	stz	<L344+tok_1
 10560 00:286F: 64 38        	stz	<L344+tok_1+2
 10561 00:2871: 64 3A        	stz	<L344+state_1
 10562 00:2873: F4 xx xx     	pea	#^L346
 10563 00:2876: F4 xx xx     	pea	#<L346
 10564 00:2879: 18           	clc
 10565 00:287A: 7B           	tdc
 10566 00:287B: 69 3C 00     	adc	#<L344+tokenTypes_1
 10567 00:287E: 85 01        	sta	<R0
 10568 00:2880: A9 00 00     	lda	#$0
 10569 00:2883: 85 03        	sta	<R0+2
 10570 00:2885: D4 03        	pei	<R0+2
 10571 00:2887: D4 01        	pei	<R0
 10572 00:2889: A9 16 00     	lda	#$16
 10573                        	xref	~~~fmov
 10574 00:288C: 22 xx xx xx  	jsl	~~~fmov
 10575                        	.line	1681
 10576 00:2890: F4 xx xx     	pea	#^L342+12
 10577 00:2893: F4 xx xx     	pea	#<L342+12
 10578 00:2896: D4 57        	pei	<L343+source_0+2
 10579 00:2898: D4 55        	pei	<L343+source_0
 10580 00:289A: 22 xx xx xx  	jsl	~~strlen
 10581 00:289E: 85 01        	sta	<R0
 10582 00:28A0: 18           	clc
 10583 00:28A1: A9 02 00     	lda	#$2
 10584 00:28A4: 65 01        	adc	<R0
 10585 00:28A6: 48           	pha
 10586 00:28A7: D4 57        	pei	<L343+source_0+2
 10587 00:28A9: D4 55        	pei	<L343+source_0
 10588 00:28AB: 22 xx xx xx  	jsl	~~k_fxstring_new
 10589 00:28AF: 85 01        	sta	<R0
 10590 00:28B1: 86 03        	stx	<R0+2
 10591 00:28B3: DA           	phx
 10592 00:28B4: 48           	pha
 10593 00:28B5: 22 xx xx xx  	jsl	~~k_fxstring_add
 10594 00:28B9: 85 55        	sta	<L343+source_0
 10595 00:28BB: 86 57        	stx	<L343+source_0+2
 10596                        ;
 10597                        ;
 10598                        ;	k_debug_message("SOURCE LINE:",source);
 10599                        	.line	1684
 10600 00:28BD: D4 57        	pei	<L343+source_0+2
 10601 00:28BF: D4 55        	pei	<L343+source_0
 10602 00:28C1: F4 xx xx     	pea	#^L342+14
 10603 00:28C4: F4 xx xx     	pea	#<L342+14
 10604 00:28C7: 22 xx xx xx  	jsl	~~k_debug_message
 10605                        ;
 10606                        ;	sourceLength = strlen(source);
 10607                        	.line	1686
 10608 00:28CB: D4 57        	pei	<L343+source_0+2
 10609 00:28CD: D4 55        	pei	<L343+source_0
 10610 00:28CF: 22 xx xx xx  	jsl	~~strlen
 10611 00:28D3: 85 28        	sta	<L344+sourceLength_1
 10612                        ;
 10613                        ;	k_debug_integer("SOURCE sourceLength:",sourceLen
  Sat Jul 10 2021  1:15                                                Page 204


                    gth);
 10614                        	.line	1688
 10615 00:28D5: D4 28        	pei	<L344+sourceLength_1
 10616 00:28D7: F4 xx xx     	pea	#^L342+27
 10617 00:28DA: F4 xx xx     	pea	#<L342+27
 10618 00:28DD: 22 xx xx xx  	jsl	~~k_debug_integer
 10619                        ;
 10620                        ;	//tokens = k_nodelist_init(26,"signature", newTo
                    ken( k_fxstring_new("#",2),0xFF));
 10621                        ;	tokens = k_nodelist_init(26,"signature", NULL);
 10622                        	.line	1691
 10623 00:28E1: F4 00 00     	pea	#^$0
 10624 00:28E4: F4 00 00     	pea	#<$0
 10625 00:28E7: F4 xx xx     	pea	#^L342+48
 10626 00:28EA: F4 xx xx     	pea	#<L342+48
 10627 00:28ED: F4 1A 00     	pea	#<$1a
 10628 00:28F0: 22 xx xx xx  	jsl	~~k_nodelist_init
 10629 00:28F4: 85 32        	sta	<L344+tokens_1
 10630 00:28F6: 86 34        	stx	<L344+tokens_1+2
 10631                        ;
 10632                        ;	token = k_fxstring_init(256);
 10633                        	.line	1693
 10634 00:28F8: F4 00 01     	pea	#<$100
 10635 00:28FB: 22 xx xx xx  	jsl	~~k_fxstring_init
 10636 00:28FF: 85 2E        	sta	<L344+token_1
 10637 00:2901: 86 30        	stx	<L344+token_1+2
 10638                        ;	//charTokens = k_fxstring_new("\n=+-/<*>(),",16)
                    ;
 10639                        ;	// Scan through the code one character at a time
                    , building up the list
 10640                        ;	// of tokens.
 10641                        ;	for (i = 0; i < sourceLength; i++)
 10642                        	.line	1697
 10643 00:2903: 64 21        	stz	<L344+i_1
 10644 00:2905: 82 C0 03     	brl	L10240
 10645                        L10239:
 10646                        ;	{
 10647                        	.line	1698
 10648                        ;		c = source[i];
 10649                        	.line	1699
 10650 00:2908: E2 20        	sep	#$20
 10651                        	longa	off
 10652 00:290A: A4 21        	ldy	<L344+i_1
 10653 00:290C: B7 55        	lda	[<L343+source_0],Y
 10654 00:290E: 85 23        	sta	<L344+c_1
 10655 00:2910: C2 20        	rep	#$20
 10656                        	longa	on
 10657                        ;
 10658                        ;		//k_debug_char("SOURCE CHAR:",c);
 10659                        ;		//k_debug_hex("SOURCE HEX:",c);
 10660                        ;
 10661                        ;		switch (state)
 10662                        	.line	1704
 10663 00:2912: A5 3A        	lda	<L344+state_1
 10664 00:2914: 82 9B 03     	brl	L10241
 10665                        ;		{
 10666                        	.line	1705
 10667                        ;		case STATE_DEFAULT:
  Sat Jul 10 2021  1:15                                                Page 205


 10668                        	.line	1706
 10669                        L10243:
 10670                        ;			if (k_string_indexOf(charTokens,
                    c) != -1)
 10671                        	.line	1707
 10672                        ;			{
 10673 00:2917: D4 23        	pei	<L344+c_1
 10674 00:2919: D4 2C        	pei	<L344+charTokens_1+2
 10675 00:291B: D4 2A        	pei	<L344+charTokens_1
 10676 00:291D: 22 xx xx xx  	jsl	~~k_string_indexOf
 10677 00:2921: 85 01        	sta	<R0
 10678 00:2923: A5 01        	lda	<R0
 10679 00:2925: C9 FF FF     	cmp	#<$ffffffff
 10680 00:2928: D0 03        	bne	L347
 10681 00:292A: 82 D9 00     	brl	L10244
 10682                        L347:
 10683                        	.line	1708
 10684                        ;				//k_debug_integer("TOKEN
                     TYPE:",tokenTypes[k_string_indexOf(charTokens,c)]);
 10685                        ;
 10686                        ;				k_nodelist_add(tokens,k_
                    nodelist_create(tokenTypes[k_string_indexOf(charTokens,c)],"
                    token",
 10687                        	.line	1711
 10688                        ;						        
                                            newToken( k_fxstring_new(k_string_to
                    String(c,toString),2) ,
 10689                        ;						        
                                            		  tokenTypes[k_string_in
                    dexOf(charTokens,c)]),NULL,NULL)
 10690                        ;						        
                                            );
 10691 00:292D: F4 00 00     	pea	#^$0
 10692 00:2930: F4 00 00     	pea	#<$0
 10693 00:2933: F4 00 00     	pea	#^$0
 10694 00:2936: F4 00 00     	pea	#<$0
 10695 00:2939: D4 23        	pei	<L344+c_1
 10696 00:293B: D4 2C        	pei	<L344+charTokens_1+2
 10697 00:293D: D4 2A        	pei	<L344+charTokens_1
 10698 00:293F: 22 xx xx xx  	jsl	~~k_string_indexOf
 10699 00:2943: 85 05        	sta	<R1
 10700 00:2945: A0 00 00     	ldy	#$0
 10701 00:2948: A5 05        	lda	<R1
 10702 00:294A: 10 01        	bpl	L348
 10703 00:294C: 88           	dey
 10704                        L348:
 10705 00:294D: 85 05        	sta	<R1
 10706 00:294F: 84 07        	sty	<R1+2
 10707 00:2951: D4 07        	pei	<R1+2
 10708 00:2953: D4 05        	pei	<R1
 10709 00:2955: A9 01 00     	lda	#$1
 10710                        	xref	~~~lasl
 10711 00:2958: 22 xx xx xx  	jsl	~~~lasl
 10712 00:295C: 85 01        	sta	<R0
 10713 00:295E: 86 03        	stx	<R0+2
 10714 00:2960: 18           	clc
 10715 00:2961: 7B           	tdc
 10716 00:2962: 69 3C 00     	adc	#<L344+tokenTypes_1
  Sat Jul 10 2021  1:15                                                Page 206


 10717 00:2965: 85 09        	sta	<R2
 10718 00:2967: A9 00 00     	lda	#$0
 10719 00:296A: 85 0B        	sta	<R2+2
 10720 00:296C: 18           	clc
 10721 00:296D: A5 09        	lda	<R2
 10722 00:296F: 65 01        	adc	<R0
 10723 00:2971: 85 0D        	sta	<R3
 10724 00:2973: A5 0B        	lda	<R2+2
 10725 00:2975: 65 03        	adc	<R0+2
 10726 00:2977: 85 0F        	sta	<R3+2
 10727 00:2979: A7 0D        	lda	[<R3]
 10728 00:297B: 48           	pha
 10729 00:297C: F4 02 00     	pea	#<$2
 10730 00:297F: F4 00 00     	pea	#0
 10731 00:2982: 18           	clc
 10732 00:2983: 7B           	tdc
 10733 00:2984: 69 24 00     	adc	#<L344+toString_1
 10734 00:2987: 48           	pha
 10735 00:2988: D4 23        	pei	<L344+c_1
 10736 00:298A: 22 xx xx xx  	jsl	~~k_string_toString
 10737 00:298E: 85 01        	sta	<R0
 10738 00:2990: 86 03        	stx	<R0+2
 10739 00:2992: DA           	phx
 10740 00:2993: 48           	pha
 10741 00:2994: 22 xx xx xx  	jsl	~~k_fxstring_new
 10742 00:2998: 85 09        	sta	<R2
 10743 00:299A: 86 0B        	stx	<R2+2
 10744 00:299C: DA           	phx
 10745 00:299D: 48           	pha
 10746 00:299E: 22 xx xx xx  	jsl	~~newToken
 10747 00:29A2: 85 0D        	sta	<R3
 10748 00:29A4: 86 0F        	stx	<R3+2
 10749 00:29A6: DA           	phx
 10750 00:29A7: 48           	pha
 10751 00:29A8: F4 xx xx     	pea	#^L342+58
 10752 00:29AB: F4 xx xx     	pea	#<L342+58
 10753 00:29AE: D4 23        	pei	<L344+c_1
 10754 00:29B0: D4 2C        	pei	<L344+charTokens_1+2
 10755 00:29B2: D4 2A        	pei	<L344+charTokens_1
 10756 00:29B4: 22 xx xx xx  	jsl	~~k_string_indexOf
 10757 00:29B8: 85 15        	sta	<21
 10758 00:29BA: A0 00 00     	ldy	#$0
 10759 00:29BD: A5 15        	lda	<21
 10760 00:29BF: 10 01        	bpl	L349
 10761 00:29C1: 88           	dey
 10762                        L349:
 10763 00:29C2: 85 15        	sta	<21
 10764 00:29C4: 84 17        	sty	<21+2
 10765 00:29C6: D4 17        	pei	<21+2
 10766 00:29C8: D4 15        	pei	<21
 10767 00:29CA: A9 01 00     	lda	#$1
 10768                        	xref	~~~lasl
 10769 00:29CD: 22 xx xx xx  	jsl	~~~lasl
 10770 00:29D1: 85 11        	sta	<17
 10771 00:29D3: 86 13        	stx	<17+2
 10772 00:29D5: 18           	clc
 10773 00:29D6: 7B           	tdc
 10774 00:29D7: 69 3C 00     	adc	#<L344+tokenTypes_1
  Sat Jul 10 2021  1:15                                                Page 207


 10775 00:29DA: 85 19        	sta	<25
 10776 00:29DC: A9 00 00     	lda	#$0
 10777 00:29DF: 85 1B        	sta	<25+2
 10778 00:29E1: 18           	clc
 10779 00:29E2: A5 19        	lda	<25
 10780 00:29E4: 65 11        	adc	<17
 10781 00:29E6: 85 1D        	sta	<29
 10782 00:29E8: A5 1B        	lda	<25+2
 10783 00:29EA: 65 13        	adc	<17+2
 10784 00:29EC: 85 1F        	sta	<29+2
 10785 00:29EE: A7 1D        	lda	[<29]
 10786 00:29F0: 48           	pha
 10787 00:29F1: 22 xx xx xx  	jsl	~~k_nodelist_create
 10788 00:29F5: 85 11        	sta	<17
 10789 00:29F7: 86 13        	stx	<17+2
 10790 00:29F9: DA           	phx
 10791 00:29FA: 48           	pha
 10792 00:29FB: D4 34        	pei	<L344+tokens_1+2
 10793 00:29FD: D4 32        	pei	<L344+tokens_1
 10794 00:29FF: 22 xx xx xx  	jsl	~~k_nodelist_add
 10795                        ;				//tokens.add(new Token(C
                    haracter.toString(c), tokenTypes[charTokens.indexOf(c)]));
 10796                        ;			}
 10797                        	.line	1716
 10798                        ;			else if (isalpha(c))
 10799 00:2A03: 82 79 00     	brl	L10245
 10800                        L10244:
 10801                        	.line	1717
 10802                        ;			{
 10803 00:2A06: A5 23        	lda	<L344+c_1
 10804 00:2A08: 29 FF 00     	and	#$ff
 10805 00:2A0B: 85 01        	sta	<R0
 10806 00:2A0D: E2 20        	sep	#$20
 10807                        	longa	off
 10808 00:2A0F: A6 01        	ldx	<R0
 10809 00:2A11: BD xx xx     	lda	|~~_ctype+1,X
 10810 00:2A14: 29 03        	and	#<$3
 10811 00:2A16: C2 20        	rep	#$20
 10812                        	longa	on
 10813 00:2A18: D0 03        	bne	L350
 10814 00:2A1A: 82 12 00     	brl	L10246
 10815                        L350:
 10816                        	.line	1718
 10817                        ;				k_fxstring_addchar(token
                    ,c);
 10818                        	.line	1719
 10819 00:2A1D: D4 23        	pei	<L344+c_1
 10820 00:2A1F: D4 30        	pei	<L344+token_1+2
 10821 00:2A21: D4 2E        	pei	<L344+token_1
 10822 00:2A23: 22 xx xx xx  	jsl	~~k_fxstring_addchar
 10823                        ;				state = STATE_WORD;
 10824                        	.line	1720
 10825 00:2A27: A9 01 00     	lda	#$1
 10826 00:2A2A: 85 3A        	sta	<L344+state_1
 10827                        ;			}
 10828                        	.line	1721
 10829                        ;			else if (isdigit(c))
 10830 00:2A2C: 82 50 00     	brl	L10247
  Sat Jul 10 2021  1:15                                                Page 208


 10831                        L10246:
 10832                        	.line	1722
 10833                        ;			{
 10834 00:2A2F: A5 23        	lda	<L344+c_1
 10835 00:2A31: 29 FF 00     	and	#$ff
 10836 00:2A34: 85 01        	sta	<R0
 10837 00:2A36: E2 20        	sep	#$20
 10838                        	longa	off
 10839 00:2A38: A6 01        	ldx	<R0
 10840 00:2A3A: BD xx xx     	lda	|~~_ctype+1,X
 10841 00:2A3D: 29 04        	and	#<$4
 10842 00:2A3F: C2 20        	rep	#$20
 10843                        	longa	on
 10844 00:2A41: D0 03        	bne	L351
 10845 00:2A43: 82 12 00     	brl	L10248
 10846                        L351:
 10847                        	.line	1723
 10848                        ;				k_fxstring_addchar(token
                    ,c);
 10849                        	.line	1724
 10850 00:2A46: D4 23        	pei	<L344+c_1
 10851 00:2A48: D4 30        	pei	<L344+token_1+2
 10852 00:2A4A: D4 2E        	pei	<L344+token_1
 10853 00:2A4C: 22 xx xx xx  	jsl	~~k_fxstring_addchar
 10854                        ;				state = STATE_NUMBER;
 10855                        	.line	1725
 10856 00:2A50: A9 02 00     	lda	#$2
 10857 00:2A53: 85 3A        	sta	<L344+state_1
 10858                        ;			}
 10859                        	.line	1726
 10860                        ;			else if (c == '"')
 10861 00:2A55: 82 27 00     	brl	L10249
 10862                        L10248:
 10863                        	.line	1727
 10864                        ;			{
 10865 00:2A58: E2 20        	sep	#$20
 10866                        	longa	off
 10867 00:2A5A: A5 23        	lda	<L344+c_1
 10868 00:2A5C: C9 22        	cmp	#<$22
 10869 00:2A5E: C2 20        	rep	#$20
 10870                        	longa	on
 10871 00:2A60: F0 03        	beq	L352
 10872 00:2A62: 82 08 00     	brl	L10250
 10873                        L352:
 10874                        	.line	1728
 10875                        ;				state = STATE_STRING;
 10876                        	.line	1729
 10877 00:2A65: A9 03 00     	lda	#$3
 10878 00:2A68: 85 3A        	sta	<L344+state_1
 10879                        ;			}
 10880                        	.line	1730
 10881                        ;			else if (c == '\'')
 10882 00:2A6A: 82 12 00     	brl	L10251
 10883                        L10250:
 10884                        	.line	1731
 10885                        ;			{
 10886 00:2A6D: E2 20        	sep	#$20
 10887                        	longa	off
  Sat Jul 10 2021  1:15                                                Page 209


 10888 00:2A6F: A5 23        	lda	<L344+c_1
 10889 00:2A71: C9 27        	cmp	#<$27
 10890 00:2A73: C2 20        	rep	#$20
 10891                        	longa	on
 10892 00:2A75: F0 03        	beq	L353
 10893 00:2A77: 82 05 00     	brl	L10252
 10894                        L353:
 10895                        	.line	1732
 10896                        ;				state = STATE_COMMENT;
 10897                        	.line	1733
 10898 00:2A7A: A9 04 00     	lda	#$4
 10899 00:2A7D: 85 3A        	sta	<L344+state_1
 10900                        ;			}
 10901                        	.line	1734
 10902                        ;
 10903                        ;			break;
 10904                        L10252:
 10905                        L10251:
 10906                        L10249:
 10907                        L10247:
 10908                        L10245:
 10909                        	.line	1736
 10910 00:2A7F: 82 44 02     	brl	L10242
 10911                        ;
 10912                        ;		case STATE_WORD:
 10913                        	.line	1738
 10914                        L10253:
 10915                        ;			if (isalpha(c) || isdigit(c))
 10916                        	.line	1739
 10917                        ;			{
 10918 00:2A82: A5 23        	lda	<L344+c_1
 10919 00:2A84: 29 FF 00     	and	#$ff
 10920 00:2A87: 85 01        	sta	<R0
 10921 00:2A89: E2 20        	sep	#$20
 10922                        	longa	off
 10923 00:2A8B: A6 01        	ldx	<R0
 10924 00:2A8D: BD xx xx     	lda	|~~_ctype+1,X
 10925 00:2A90: 29 03        	and	#<$3
 10926 00:2A92: C2 20        	rep	#$20
 10927                        	longa	on
 10928 00:2A94: F0 03        	beq	L355
 10929 00:2A96: 82 17 00     	brl	L354
 10930                        L355:
 10931 00:2A99: A5 23        	lda	<L344+c_1
 10932 00:2A9B: 29 FF 00     	and	#$ff
 10933 00:2A9E: 85 05        	sta	<R1
 10934 00:2AA0: E2 20        	sep	#$20
 10935                        	longa	off
 10936 00:2AA2: A6 05        	ldx	<R1
 10937 00:2AA4: BD xx xx     	lda	|~~_ctype+1,X
 10938 00:2AA7: 29 04        	and	#<$4
 10939 00:2AA9: C2 20        	rep	#$20
 10940                        	longa	on
 10941 00:2AAB: D0 03        	bne	L356
 10942 00:2AAD: 82 0D 00     	brl	L10254
 10943                        L356:
 10944                        L354:
 10945                        	.line	1740
  Sat Jul 10 2021  1:15                                                Page 210


 10946                        ;				k_fxstring_addchar(token
                    ,c);
 10947                        	.line	1741
 10948 00:2AB0: D4 23        	pei	<L344+c_1
 10949 00:2AB2: D4 30        	pei	<L344+token_1+2
 10950 00:2AB4: D4 2E        	pei	<L344+token_1
 10951 00:2AB6: 22 xx xx xx  	jsl	~~k_fxstring_addchar
 10952                        ;			}
 10953                        	.line	1742
 10954                        ;			else if (c == '.')
 10955 00:2ABA: 82 EF 00     	brl	L10255
 10956                        L10254:
 10957                        	.line	1743
 10958                        ;			{
 10959 00:2ABD: E2 20        	sep	#$20
 10960                        	longa	off
 10961 00:2ABF: A5 23        	lda	<L344+c_1
 10962 00:2AC1: C9 2E        	cmp	#<$2e
 10963 00:2AC3: C2 20        	rep	#$20
 10964                        	longa	on
 10965 00:2AC5: F0 03        	beq	L357
 10966 00:2AC7: 82 0D 00     	brl	L10256
 10967                        L357:
 10968                        	.line	1744
 10969                        ;				k_fxstring_addchar(token
                    ,c);
 10970                        	.line	1745
 10971 00:2ACA: D4 23        	pei	<L344+c_1
 10972 00:2ACC: D4 30        	pei	<L344+token_1+2
 10973 00:2ACE: D4 2E        	pei	<L344+token_1
 10974 00:2AD0: 22 xx xx xx  	jsl	~~k_fxstring_addchar
 10975                        ;			}
 10976                        	.line	1746
 10977                        ;			else if (c == '_')
 10978 00:2AD4: 82 D5 00     	brl	L10257
 10979                        L10256:
 10980                        	.line	1747
 10981                        ;			{
 10982 00:2AD7: E2 20        	sep	#$20
 10983                        	longa	off
 10984 00:2AD9: A5 23        	lda	<L344+c_1
 10985 00:2ADB: C9 5F        	cmp	#<$5f
 10986 00:2ADD: C2 20        	rep	#$20
 10987                        	longa	on
 10988 00:2ADF: F0 03        	beq	L358
 10989 00:2AE1: 82 0D 00     	brl	L10258
 10990                        L358:
 10991                        	.line	1748
 10992                        ;				k_fxstring_addchar(token
                    ,c);
 10993                        	.line	1749
 10994 00:2AE4: D4 23        	pei	<L344+c_1
 10995 00:2AE6: D4 30        	pei	<L344+token_1+2
 10996 00:2AE8: D4 2E        	pei	<L344+token_1
 10997 00:2AEA: 22 xx xx xx  	jsl	~~k_fxstring_addchar
 10998                        ;			}
 10999                        	.line	1750
 11000                        ;			else if (c == '[')
  Sat Jul 10 2021  1:15                                                Page 211


 11001 00:2AEE: 82 BB 00     	brl	L10259
 11002                        L10258:
 11003                        	.line	1751
 11004                        ;			{
 11005 00:2AF1: E2 20        	sep	#$20
 11006                        	longa	off
 11007 00:2AF3: A5 23        	lda	<L344+c_1
 11008 00:2AF5: C9 5B        	cmp	#<$5b
 11009 00:2AF7: C2 20        	rep	#$20
 11010                        	longa	on
 11011 00:2AF9: F0 03        	beq	L359
 11012 00:2AFB: 82 0D 00     	brl	L10260
 11013                        L359:
 11014                        	.line	1752
 11015                        ;				k_fxstring_addchar(token
                    ,c);
 11016                        	.line	1753
 11017 00:2AFE: D4 23        	pei	<L344+c_1
 11018 00:2B00: D4 30        	pei	<L344+token_1+2
 11019 00:2B02: D4 2E        	pei	<L344+token_1
 11020 00:2B04: 22 xx xx xx  	jsl	~~k_fxstring_addchar
 11021                        ;			}
 11022                        	.line	1754
 11023                        ;			else if (c == ']')
 11024 00:2B08: 82 A1 00     	brl	L10261
 11025                        L10260:
 11026                        	.line	1755
 11027                        ;			{
 11028 00:2B0B: E2 20        	sep	#$20
 11029                        	longa	off
 11030 00:2B0D: A5 23        	lda	<L344+c_1
 11031 00:2B0F: C9 5D        	cmp	#<$5d
 11032 00:2B11: C2 20        	rep	#$20
 11033                        	longa	on
 11034 00:2B13: F0 03        	beq	L360
 11035 00:2B15: 82 0D 00     	brl	L10262
 11036                        L360:
 11037                        	.line	1756
 11038                        ;				k_fxstring_addchar(token
                    ,c);
 11039                        	.line	1757
 11040 00:2B18: D4 23        	pei	<L344+c_1
 11041 00:2B1A: D4 30        	pei	<L344+token_1+2
 11042 00:2B1C: D4 2E        	pei	<L344+token_1
 11043 00:2B1E: 22 xx xx xx  	jsl	~~k_fxstring_addchar
 11044                        ;			}
 11045                        	.line	1758
 11046                        ;			/*
 11047                        ;			else if (c == ':')
 11048                        ;			{
 11049                        ;				k_nodelist_add(tokens,k_
                    nodelist_create(TTYPE_LABEL,"token",newToken(token, TTYPE_LA
                    BEL),NULL,NULL));
 11050                        ;
 11051                        ;				k_fxstring_reinit(token)
                    ;
 11052                        ;				state = STATE_DEFAULT;
 11053                        ;			}
  Sat Jul 10 2021  1:15                                                Page 212


 11054                        ;			*/
 11055                        ;			else
 11056 00:2B22: 82 87 00     	brl	L10263
 11057                        L10262:
 11058                        ;			{
 11059                        	.line	1769
 11060                        ;				tok = newToken(token, TT
                    YPE_WORD);
 11061                        	.line	1770
 11062 00:2B25: F4 00 00     	pea	#<$0
 11063 00:2B28: D4 30        	pei	<L344+token_1+2
 11064 00:2B2A: D4 2E        	pei	<L344+token_1
 11065 00:2B2C: 22 xx xx xx  	jsl	~~newToken
 11066 00:2B30: 85 36        	sta	<L344+tok_1
 11067 00:2B32: 86 38        	stx	<L344+tok_1+2
 11068                        ;
 11069                        ;				if (k_fxstring_equals(to
                    ken,"if"))
 11070                        	.line	1772
 11071                        ;				{
 11072 00:2B34: F4 xx xx     	pea	#^L342+64
 11073 00:2B37: F4 xx xx     	pea	#<L342+64
 11074 00:2B3A: D4 30        	pei	<L344+token_1+2
 11075 00:2B3C: D4 2E        	pei	<L344+token_1
 11076 00:2B3E: 22 xx xx xx  	jsl	~~k_fxstring_equals
 11077 00:2B42: 29 FF 00     	and	#$ff
 11078 00:2B45: D0 03        	bne	L361
 11079 00:2B47: 82 0C 00     	brl	L10264
 11080                        L361:
 11081                        	.line	1773
 11082                        ;					tok->depth = nes
                    tedIf;
 11083                        	.line	1774
 11084 00:2B4A: A5 26        	lda	<L344+nestedIf_1
 11085 00:2B4C: A0 02 00     	ldy	#$2
 11086 00:2B4F: 97 36        	sta	[<L344+tok_1],Y
 11087                        ;					nestedIf++;
 11088                        	.line	1775
 11089 00:2B51: E6 26        	inc	<L344+nestedIf_1
 11090                        ;				}
 11091                        	.line	1776
 11092                        ;				else if (k_fxstring_equa
                    ls(token,"endif"))
 11093 00:2B53: 82 1F 00     	brl	L10265
 11094                        L10264:
 11095                        	.line	1777
 11096                        ;				{
 11097 00:2B56: F4 xx xx     	pea	#^L342+67
 11098 00:2B59: F4 xx xx     	pea	#<L342+67
 11099 00:2B5C: D4 30        	pei	<L344+token_1+2
 11100 00:2B5E: D4 2E        	pei	<L344+token_1
 11101 00:2B60: 22 xx xx xx  	jsl	~~k_fxstring_equals
 11102 00:2B64: 29 FF 00     	and	#$ff
 11103 00:2B67: D0 03        	bne	L362
 11104 00:2B69: 82 09 00     	brl	L10266
 11105                        L362:
 11106                        	.line	1778
 11107                        ;					nestedIf--;
  Sat Jul 10 2021  1:15                                                Page 213


 11108                        	.line	1779
 11109 00:2B6C: C6 26        	dec	<L344+nestedIf_1
 11110                        ;					tok->depth = nes
                    tedIf;
 11111                        	.line	1780
 11112 00:2B6E: A5 26        	lda	<L344+nestedIf_1
 11113 00:2B70: A0 02 00     	ldy	#$2
 11114 00:2B73: 97 36        	sta	[<L344+tok_1],Y
 11115                        ;				}
 11116                        	.line	1781
 11117                        ;
 11118                        ;				k_nodelist_add(tokens,k_
                    nodelist_create(tok->type,"token",tok,NULL,NULL));
 11119                        L10266:
 11120                        L10265:
 11121                        	.line	1783
 11122 00:2B75: F4 00 00     	pea	#^$0
 11123 00:2B78: F4 00 00     	pea	#<$0
 11124 00:2B7B: F4 00 00     	pea	#^$0
 11125 00:2B7E: F4 00 00     	pea	#<$0
 11126 00:2B81: D4 38        	pei	<L344+tok_1+2
 11127 00:2B83: D4 36        	pei	<L344+tok_1
 11128 00:2B85: F4 xx xx     	pea	#^L342+73
 11129 00:2B88: F4 xx xx     	pea	#<L342+73
 11130 00:2B8B: A7 36        	lda	[<L344+tok_1]
 11131 00:2B8D: 48           	pha
 11132 00:2B8E: 22 xx xx xx  	jsl	~~k_nodelist_create
 11133 00:2B92: 85 01        	sta	<R0
 11134 00:2B94: 86 03        	stx	<R0+2
 11135 00:2B96: DA           	phx
 11136 00:2B97: 48           	pha
 11137 00:2B98: D4 34        	pei	<L344+tokens_1+2
 11138 00:2B9A: D4 32        	pei	<L344+tokens_1
 11139 00:2B9C: 22 xx xx xx  	jsl	~~k_nodelist_add
 11140                        ;				k_fxstring_reinit(token)
                    ;
 11141                        	.line	1784
 11142 00:2BA0: D4 30        	pei	<L344+token_1+2
 11143 00:2BA2: D4 2E        	pei	<L344+token_1
 11144 00:2BA4: 22 xx xx xx  	jsl	~~k_fxstring_reinit
 11145                        ;				state = STATE_DEFAULT;
 11146                        	.line	1785
 11147 00:2BA8: 64 3A        	stz	<L344+state_1
 11148                        ;				i--; // Reprocess this c
                    haracter in the default state.
 11149                        	.line	1786
 11150 00:2BAA: C6 21        	dec	<L344+i_1
 11151                        ;			}
 11152                        	.line	1787
 11153                        L10263:
 11154                        L10261:
 11155                        L10259:
 11156                        L10257:
 11157                        L10255:
 11158                        ;			break;
 11159                        	.line	1788
 11160 00:2BAC: 82 17 01     	brl	L10242
 11161                        ;
  Sat Jul 10 2021  1:15                                                Page 214


 11162                        ;		case STATE_NUMBER:
 11163                        	.line	1790
 11164                        L10267:
 11165                        ;			// HACK: Negative numbers and fl
                    oating points aren't supported.
 11166                        ;			// To get a negative number, jus
                    t do 0 - <your number>.
 11167                        ;			// To get a floating point, divi
                    de.
 11168                        ;			if (isdigit(c))
 11169                        	.line	1794
 11170                        ;			{
 11171 00:2BAF: A5 23        	lda	<L344+c_1
 11172 00:2BB1: 29 FF 00     	and	#$ff
 11173 00:2BB4: 85 01        	sta	<R0
 11174 00:2BB6: E2 20        	sep	#$20
 11175                        	longa	off
 11176 00:2BB8: A6 01        	ldx	<R0
 11177 00:2BBA: BD xx xx     	lda	|~~_ctype+1,X
 11178 00:2BBD: 29 04        	and	#<$4
 11179 00:2BBF: C2 20        	rep	#$20
 11180                        	longa	on
 11181 00:2BC1: D0 03        	bne	L363
 11182 00:2BC3: 82 0D 00     	brl	L10268
 11183                        L363:
 11184                        	.line	1795
 11185                        ;				k_fxstring_addchar(token
                    ,c);
 11186                        	.line	1796
 11187 00:2BC6: D4 23        	pei	<L344+c_1
 11188 00:2BC8: D4 30        	pei	<L344+token_1+2
 11189 00:2BCA: D4 2E        	pei	<L344+token_1
 11190 00:2BCC: 22 xx xx xx  	jsl	~~k_fxstring_addchar
 11191                        ;			}
 11192                        	.line	1797
 11193                        ;			else if (c == '.')
 11194 00:2BD0: 82 5E 00     	brl	L10269
 11195                        L10268:
 11196                        	.line	1798
 11197                        ;			{
 11198 00:2BD3: E2 20        	sep	#$20
 11199                        	longa	off
 11200 00:2BD5: A5 23        	lda	<L344+c_1
 11201 00:2BD7: C9 2E        	cmp	#<$2e
 11202 00:2BD9: C2 20        	rep	#$20
 11203                        	longa	on
 11204 00:2BDB: F0 03        	beq	L364
 11205 00:2BDD: 82 0D 00     	brl	L10270
 11206                        L364:
 11207                        	.line	1799
 11208                        ;				k_fxstring_addchar(token
                    ,c);
 11209                        	.line	1800
 11210 00:2BE0: D4 23        	pei	<L344+c_1
 11211 00:2BE2: D4 30        	pei	<L344+token_1+2
 11212 00:2BE4: D4 2E        	pei	<L344+token_1
 11213 00:2BE6: 22 xx xx xx  	jsl	~~k_fxstring_addchar
 11214                        ;			}
  Sat Jul 10 2021  1:15                                                Page 215


 11215                        	.line	1801
 11216                        ;			else
 11217 00:2BEA: 82 44 00     	brl	L10271
 11218                        L10270:
 11219                        ;			{
 11220                        	.line	1803
 11221                        ;				k_nodelist_add(tokens,k_
                    nodelist_create(TTYPE_NUMBER,"token",newToken(token, TTYPE_N
                    UMBER),NULL,NULL));
 11222                        	.line	1804
 11223 00:2BED: F4 00 00     	pea	#^$0
 11224 00:2BF0: F4 00 00     	pea	#<$0
 11225 00:2BF3: F4 00 00     	pea	#^$0
 11226 00:2BF6: F4 00 00     	pea	#<$0
 11227 00:2BF9: F4 01 00     	pea	#<$1
 11228 00:2BFC: D4 30        	pei	<L344+token_1+2
 11229 00:2BFE: D4 2E        	pei	<L344+token_1
 11230 00:2C00: 22 xx xx xx  	jsl	~~newToken
 11231 00:2C04: 85 01        	sta	<R0
 11232 00:2C06: 86 03        	stx	<R0+2
 11233 00:2C08: DA           	phx
 11234 00:2C09: 48           	pha
 11235 00:2C0A: F4 xx xx     	pea	#^L342+79
 11236 00:2C0D: F4 xx xx     	pea	#<L342+79
 11237 00:2C10: F4 01 00     	pea	#<$1
 11238 00:2C13: 22 xx xx xx  	jsl	~~k_nodelist_create
 11239 00:2C17: 85 05        	sta	<R1
 11240 00:2C19: 86 07        	stx	<R1+2
 11241 00:2C1B: DA           	phx
 11242 00:2C1C: 48           	pha
 11243 00:2C1D: D4 34        	pei	<L344+tokens_1+2
 11244 00:2C1F: D4 32        	pei	<L344+tokens_1
 11245 00:2C21: 22 xx xx xx  	jsl	~~k_nodelist_add
 11246                        ;				k_fxstring_reinit(token)
                    ;
 11247                        	.line	1805
 11248 00:2C25: D4 30        	pei	<L344+token_1+2
 11249 00:2C27: D4 2E        	pei	<L344+token_1
 11250 00:2C29: 22 xx xx xx  	jsl	~~k_fxstring_reinit
 11251                        ;				state = STATE_DEFAULT;
 11252                        	.line	1806
 11253 00:2C2D: 64 3A        	stz	<L344+state_1
 11254                        ;				i--; // Reprocess this c
                    haracter in the default state.
 11255                        	.line	1807
 11256 00:2C2F: C6 21        	dec	<L344+i_1
 11257                        ;			}
 11258                        	.line	1808
 11259                        L10271:
 11260                        L10269:
 11261                        ;			break;
 11262                        	.line	1809
 11263 00:2C31: 82 92 00     	brl	L10242
 11264                        ;
 11265                        ;		case STATE_STRING:
 11266                        	.line	1811
 11267                        L10272:
 11268                        ;			if (c == '"' || c == '\n')
  Sat Jul 10 2021  1:15                                                Page 216


 11269                        	.line	1812
 11270                        ;			{
 11271 00:2C34: E2 20        	sep	#$20
 11272                        	longa	off
 11273 00:2C36: A5 23        	lda	<L344+c_1
 11274 00:2C38: C9 22        	cmp	#<$22
 11275 00:2C3A: C2 20        	rep	#$20
 11276                        	longa	on
 11277 00:2C3C: D0 03        	bne	L366
 11278 00:2C3E: 82 0D 00     	brl	L365
 11279                        L366:
 11280 00:2C41: E2 20        	sep	#$20
 11281                        	longa	off
 11282 00:2C43: A5 23        	lda	<L344+c_1
 11283 00:2C45: C9 0A        	cmp	#<$a
 11284 00:2C47: C2 20        	rep	#$20
 11285                        	longa	on
 11286 00:2C49: F0 03        	beq	L367
 11287 00:2C4B: 82 45 00     	brl	L10273
 11288                        L367:
 11289                        L365:
 11290                        	.line	1813
 11291                        ;				k_nodelist_add(tokens,k_
                    nodelist_create(TTYPE_STRING,"token",newToken(token, TTYPE_S
                    TRING),NULL,NULL));
 11292                        	.line	1814
 11293 00:2C4E: F4 00 00     	pea	#^$0
 11294 00:2C51: F4 00 00     	pea	#<$0
 11295 00:2C54: F4 00 00     	pea	#^$0
 11296 00:2C57: F4 00 00     	pea	#<$0
 11297 00:2C5A: F4 02 00     	pea	#<$2
 11298 00:2C5D: D4 30        	pei	<L344+token_1+2
 11299 00:2C5F: D4 2E        	pei	<L344+token_1
 11300 00:2C61: 22 xx xx xx  	jsl	~~newToken
 11301 00:2C65: 85 01        	sta	<R0
 11302 00:2C67: 86 03        	stx	<R0+2
 11303 00:2C69: DA           	phx
 11304 00:2C6A: 48           	pha
 11305 00:2C6B: F4 xx xx     	pea	#^L342+85
 11306 00:2C6E: F4 xx xx     	pea	#<L342+85
 11307 00:2C71: F4 02 00     	pea	#<$2
 11308 00:2C74: 22 xx xx xx  	jsl	~~k_nodelist_create
 11309 00:2C78: 85 05        	sta	<R1
 11310 00:2C7A: 86 07        	stx	<R1+2
 11311 00:2C7C: DA           	phx
 11312 00:2C7D: 48           	pha
 11313 00:2C7E: D4 34        	pei	<L344+tokens_1+2
 11314 00:2C80: D4 32        	pei	<L344+tokens_1
 11315 00:2C82: 22 xx xx xx  	jsl	~~k_nodelist_add
 11316                        ;
 11317                        ;				k_fxstring_reinit(token)
                    ;
 11318                        	.line	1816
 11319 00:2C86: D4 30        	pei	<L344+token_1+2
 11320 00:2C88: D4 2E        	pei	<L344+token_1
 11321 00:2C8A: 22 xx xx xx  	jsl	~~k_fxstring_reinit
 11322                        ;				state = STATE_DEFAULT;
 11323                        	.line	1817
  Sat Jul 10 2021  1:15                                                Page 217


 11324 00:2C8E: 64 3A        	stz	<L344+state_1
 11325                        ;			}
 11326                        	.line	1818
 11327                        ;			else
 11328 00:2C90: 82 0A 00     	brl	L10274
 11329                        L10273:
 11330                        ;			{
 11331                        	.line	1820
 11332                        ;				k_fxstring_addchar(token
                    ,c);
 11333                        	.line	1821
 11334 00:2C93: D4 23        	pei	<L344+c_1
 11335 00:2C95: D4 30        	pei	<L344+token_1+2
 11336 00:2C97: D4 2E        	pei	<L344+token_1
 11337 00:2C99: 22 xx xx xx  	jsl	~~k_fxstring_addchar
 11338                        ;			}
 11339                        	.line	1822
 11340                        L10274:
 11341                        ;			break;
 11342                        	.line	1823
 11343 00:2C9D: 82 26 00     	brl	L10242
 11344                        ;
 11345                        ;		case STATE_COMMENT:
 11346                        	.line	1825
 11347                        L10275:
 11348                        ;			if (c == '\n')
 11349                        	.line	1826
 11350                        ;			{
 11351 00:2CA0: E2 20        	sep	#$20
 11352                        	longa	off
 11353 00:2CA2: A5 23        	lda	<L344+c_1
 11354 00:2CA4: C9 0A        	cmp	#<$a
 11355 00:2CA6: C2 20        	rep	#$20
 11356                        	longa	on
 11357 00:2CA8: F0 03        	beq	L368
 11358 00:2CAA: 82 02 00     	brl	L10276
 11359                        L368:
 11360                        	.line	1827
 11361                        ;				state = STATE_DEFAULT;
 11362                        	.line	1828
 11363 00:2CAD: 64 3A        	stz	<L344+state_1
 11364                        ;			}
 11365                        	.line	1829
 11366                        ;			break;
 11367                        L10276:
 11368                        	.line	1830
 11369 00:2CAF: 82 14 00     	brl	L10242
 11370                        ;		}
 11371                        	.line	1831
 11372                        L10241:
 11373                        	xref	~~~fsw
 11374 00:2CB2: 22 xx xx xx  	jsl	~~~fsw
 11375 00:2CB6: 00 00        	dw	0
 11376 00:2CB8: 05 00        	dw	5
 11377 00:2CBA: xx xx        	dw	L10242-1
 11378 00:2CBC: xx xx        	dw	L10243-1
 11379 00:2CBE: xx xx        	dw	L10253-1
 11380 00:2CC0: xx xx        	dw	L10267-1
  Sat Jul 10 2021  1:15                                                Page 218


 11381 00:2CC2: xx xx        	dw	L10272-1
 11382 00:2CC4: xx xx        	dw	L10275-1
 11383                        L10242:
 11384                        ;	}
 11385                        	.line	1832
 11386                        L10237:
 11387 00:2CC6: E6 21        	inc	<L344+i_1
 11388                        L10240:
 11389 00:2CC8: A5 21        	lda	<L344+i_1
 11390 00:2CCA: C5 28        	cmp	<L344+sourceLength_1
 11391 00:2CCC: B0 03        	bcs	L369
 11392 00:2CCE: 82 37 FC     	brl	L10239
 11393                        L369:
 11394                        L10238:
 11395                        ;
 11396                        ;	return tokens;
 11397                        	.line	1834
 11398 00:2CD1: A6 34        	ldx	<L344+tokens_1+2
 11399 00:2CD3: A5 32        	lda	<L344+tokens_1
 11400                        L370:
 11401 00:2CD5: A8           	tay
 11402 00:2CD6: A5 53        	lda	<L343+2
 11403 00:2CD8: 85 57        	sta	<L343+2+4
 11404 00:2CDA: A5 52        	lda	<L343+1
 11405 00:2CDC: 85 56        	sta	<L343+1+4
 11406 00:2CDE: 2B           	pld
 11407 00:2CDF: 3B           	tsc
 11408 00:2CE0: 18           	clc
 11409 00:2CE1: 69 55 00     	adc	#L343+4
 11410 00:2CE4: 1B           	tcs
 11411 00:2CE5: 98           	tya
 11412 00:2CE6: 6B           	rtl
 11413                        ;
 11414                        ;	//return NULL;
 11415                        ;}
 11416                        	.line	1837
 11417                        	.endblock	1837
 11418             00000051   L343	equ	81
 11419             00000021   L344	equ	33
 11420                        	ends
 11421                        	efunc
 11422                        	.endfunc	1837,33,81
 11423                        	.line	1837
 11424                        	data
 11425                        L342:
 11426 00:0964: 0A 3D 2B 2D  	db	$0A,$3D,$2B,$2D,$2F,$3C,$2A,$3E,$28,$29,
                    $2C,$00,$20,$00,$53
       00:0968: 2F 3C 2A 3E 
       00:096C: 28 29 2C 00 
       00:0970: 20 00 53 
 11427 00:0973: 4F 55 52 43  	db	$4F,$55,$52,$43,$45,$20,$4C,$49,$4E,$45,
                    $3A,$00,$53,$4F,$55
       00:0977: 45 20 4C 49 
       00:097B: 4E 45 3A 00 
       00:097F: 53 4F 55 
 11428 00:0982: 52 43 45 20  	db	$52,$43,$45,$20,$73,$6F,$75,$72,$63,$65,
                    $4C,$65,$6E,$67,$74
       00:0986: 73 6F 75 72 
  Sat Jul 10 2021  1:15                                                Page 219


       00:098A: 63 65 4C 65 
       00:098E: 6E 67 74 
 11429 00:0991: 68 3A 00 73  	db	$68,$3A,$00,$73,$69,$67,$6E,$61,$74,$75,
                    $72,$65,$00,$74,$6F
       00:0995: 69 67 6E 61 
       00:0999: 74 75 72 65 
       00:099D: 00 74 6F 
 11430 00:09A0: 6B 65 6E 00  	db	$6B,$65,$6E,$00,$69,$66,$00,$65,$6E,$64,
                    $69,$66,$00,$74,$6F
       00:09A4: 69 66 00 65 
       00:09A8: 6E 64 69 66 
       00:09AC: 00 74 6F 
 11431 00:09AF: 6B 65 6E 00  	db	$6B,$65,$6E,$00,$74,$6F,$6B,$65,$6E,$00,
                    $74,$6F,$6B,$65,$6E
       00:09B3: 74 6F 6B 65 
       00:09B7: 6E 00 74 6F 
       00:09BB: 6B 65 6E 
 11432 00:09BE: 00           	db	$00
 11433 00:09BF:              	ends
 11434                        ;
 11435                        ;
 11436                        	.line	1838
 11437                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.c",1659
 11438                        	xref	~~cmd_LINEUP
 11439                        	xref	~~cmd_RESUME
 11440                        	xref	~~cmd_PAUSE
 11441                        	xref	~~cmd_TIME
 11442                        	xref	~~cmd_EXIT
 11443                        	xref	~~cmd_START
 11444                        	xref	~~cmd_Window
 11445                        	xref	~~cmd_SEND
 11446                        	xref	~~cmd_DISPLAY
 11447                        	xref	~~cmd_CHRDIR
 11448                        	xref	~~cmd_TASKS
 11449                        	xref	~~cmd_BACK
 11450                        	xref	~~cmd_FRONT
 11451                        	xref	~~cmd_NEWDIR
 11452                        	xref	~~cmd_INIT
 11453                        	xref	~~cmd_BCOLOR
 11454                        	xref	~~cmd_FCOLOR
 11455                        	xref	~~cmd_VOL
 11456                        	xref	~~cmd_DIR
 11457                        	xref	~~cmd_TESTSD
 11458                        	xref	~~cmd_WORKBENCH
 11459                        	xref	~~cmd_CLEAR
 11460                        	xref	~~k_send_process_command_message
 11461                        	xref	~~k_send_message
 11462                        	xref	~~k_getKeyboardChar
 11463                        	xref	~~k_create_ui_window_class
 11464                        	xref	~~k_vdraw_ui_window
 11465                        	xref	~~k_put_winicon_point
 11466                        	xref	~~k_draw_text_point
 11467                        	xref	~~k_put_font
 11468                        	xref	~~setColors
 11469                        	xref	~~k_mem_deallocate_heap
 11470                        	xref	~~k_mem_allocate_heap
 11471                        	xref	~~k_exec_get_current_process
  Sat Jul 10 2021  1:15                                                Page 220


 11472                        	xref	~~k_exec_throw_exception
 11473                        	xref	~~k_debug_strings
 11474                        	xref	~~k_debug_message
 11475                        	xref	~~k_debug_long
 11476                        	xref	~~k_debug_integer
 11477                        	xref	~~k_debug_pointer
 11478                        	xref	~~k_debug_char
 11479                        	xref	~~k_debug_string
 11480                        	xref	~~k_getZeroPage
 11481                        	xref	~~k_nodelist_foreach_data
 11482                        	xref	~~k_nodelist_add
 11483                        	xref	~~k_nodelist_create
 11484                        	xref	~~k_nodelist_init
 11485                        	xref	~~k_to_uppercase
 11486                        	xref	~~k_string_copy_string
 11487                        	xref	~~k_string_toString
 11488                        	xref	~~k_string_indexOf
 11489                        	xref	~~k_fxstring_equals
 11490                        	xref	~~k_fxstring_copy_string
 11491                        	xref	~~k_fxstring_add
 11492                        	xref	~~k_fxstring_addchar
 11493                        	xref	~~k_fxstring_reinit
 11494                        	xref	~~k_fxstring_new
 11495                        	xref	~~k_fxstring_init
 11496                        	xref	~~strtok
 11497                        	xref	~~strstr
 11498                        	xref	~~strlen
 11499                        	xref	~~strcpy
 11500                        	xref	~~strcmp
 11501                        	xref	~~strchr
 11502                        	xref	~~strcat
 11503                        	xref	~~memset
 11504                        	udata
 11505                        ~~consoleBuffer
 11506 00:0000:              	ds	8064
 11507 00:1F80:              	ends
 11508                        	udata
 11509                        ~~consolespinctx
 11510 00:1F80:              	ds	6
 11511 00:1F86:              	ends
 11512                        	udata
 11513                        ~~_k_window_list
 11514 00:1F86:              	ds	4880
 11515 00:3296:              	ends
 11516                        	xref	~~EGAFONT
 11517                        	xref	~~_ctype
 11518                        	.sym	~~consoleWindowProc,~~consoleWindowProc,
                    78,2,0
 11519                        	.sym	~~k_set_background,~~k_set_background,65
                    ,2,0
 11520                        	.sym	~~k_scroll_screen,~~k_scroll_screen,65,2
                    ,0
 11521                        	.sym	~~consoleBuffer,~~consoleBuffer,869,3,0,
                    56,72
 11522                        	.sym	~~tokentypeNames,~~tokentypeNames,1134,3
                    ,32,29
 11523                        	.sym	~~cursorCurrentColor,~~cursorCurrentColo
                    r,16,3,16
  Sat Jul 10 2021  1:15                                                Page 221


 11524                        	.sym	~~cursorFlashInterval,~~cursorFlashInter
                    val,16,3,16
 11525                        	.sym	~~consolespinctx,~~consolespinctx,10,3,4
                    8,81
 11526                        	.sym	~~consolespinner,~~consolespinner,110,3,
                    0,4
 11527                        	.sym	~~console_command_proc,~~console_command
                    _proc,5232,3,32,23
 11528                        	.sym	~~console_commands,~~console_commands,11
                    34,3,32,23
 11529                        	.sym	~~_k_window_list,~~_k_window_list,106,3,
                    0,33,10
 11530                        	.sym	~~_k_window_index,~~_k_window_index,5,3,
                    16
 11531                        	.sym	PDOSHANDLE,0,138,14,32,124
 11532                        	.sym	DOSHANDLE,0,10,14,80,124
 11533                        	.sym	PFXDOSDEVICE,0,138,14,32,122
 11534                        	.sym	FXDOSDEVICE,0,10,14,5744,122
 11535                        	.sym	DOSINITDEVICE,0,641,14,32
 11536                        	.sym	DOSSECTORWRITER,0,654,14,32
 11537                        	.sym	DOSSECTORREADER,0,654,14,32
 11538                        	.sym	PIDENTIFY_DEVICE_DATA,0,138,14,32,121
 11539                        	.sym	IDENTIFY_DEVICE_DATA,0,10,14,4096,121
 11540                        	.sym	PIDSECTOR,0,138,14,32,98
 11541                        	.sym	IDSECTOR,0,10,14,2048,98
 11542                        	.sym	PLFN,0,138,14,32,97
 11543                        	.sym	LFN,0,10,14,256,97
 11544                        	.sym	PFAT16ENTRYLONG,0,138,14,32,96
 11545                        	.sym	FAT16ENTRYLONG,0,10,14,288,96
 11546                        	.sym	PFAT16ENTRY,0,138,14,32,95
 11547                        	.sym	FAT16ENTRY,0,10,14,256,95
 11548                        	.sym	Fat16BootSector,0,10,14,4096,94
 11549                        	.sym	PPARTITIONTABLE,0,138,14,32,93
 11550                        	.sym	PARTITIONTABLE,0,10,14,128,93
 11551                        	.sym	PFATBOOTSECTOR,0,138,14,32,92
 11552                        	.sym	FATBOOTSECTOR,0,10,14,928,92
 11553                        	.sym	fat_BS_t,0,10,14,688,91
 11554                        	.sym	fat_extBS_16_t,0,10,14,192,90
 11555                        	.sym	PFAT32EXT,0,138,14,32,89
 11556                        	.sym	fat_extBS_32_t,0,10,14,416,89
 11557                        	.sym	P_FX_FAT_DIR_INFO,0,138,14,32,88
 11558                        	.sym	FX_FAT_DIR_INFO,0,10,14,256,88
 11559                        	.sym	PFILEINFO,0,138,14,32,87
 11560                        	.sym	FILEINFO,0,10,14,136,87
 11561                        	.sym	PDISKINFO,0,138,14,32,86
 11562                        	.sym	DISKINFO,0,10,14,416,86
 11563                        	.sym	PDIRENTRY,0,138,14,32,85
 11564                        	.sym	DIRENTRY,0,10,14,256,85
 11565                        	.sym	DRESULT,0,5,14,16
 11566                        	.sym	DSTATUS,0,14,14,8
 11567                        	.sym	~~cmd_LINEUP,~~cmd_LINEUP,80,18,0
 11568                        	.sym	~~cmd_RESUME,~~cmd_RESUME,80,18,0
 11569                        	.sym	~~cmd_PAUSE,~~cmd_PAUSE,80,18,0
 11570                        	.sym	~~cmd_TIME,~~cmd_TIME,80,18,0
 11571                        	.sym	~~cmd_EXIT,~~cmd_EXIT,80,18,0
 11572                        	.sym	~~cmd_START,~~cmd_START,80,18,0
 11573                        	.sym	~~cmd_Window,~~cmd_Window,80,18,0
 11574                        	.sym	~~cmd_SEND,~~cmd_SEND,80,18,0
  Sat Jul 10 2021  1:15                                                Page 222


 11575                        	.sym	~~cmd_DISPLAY,~~cmd_DISPLAY,80,18,0
 11576                        	.sym	~~cmd_CHRDIR,~~cmd_CHRDIR,80,18,0
 11577                        	.sym	~~cmd_TASKS,~~cmd_TASKS,80,18,0
 11578                        	.sym	~~cmd_BACK,~~cmd_BACK,80,18,0
 11579                        	.sym	~~cmd_FRONT,~~cmd_FRONT,80,18,0
 11580                        	.sym	~~cmd_NEWDIR,~~cmd_NEWDIR,80,18,0
 11581                        	.sym	~~cmd_INIT,~~cmd_INIT,80,18,0
 11582                        	.sym	~~cmd_BCOLOR,~~cmd_BCOLOR,80,18,0
 11583                        	.sym	~~cmd_FCOLOR,~~cmd_FCOLOR,80,18,0
 11584                        	.sym	~~cmd_VOL,~~cmd_VOL,80,18,0
 11585                        	.sym	~~cmd_DIR,~~cmd_DIR,80,18,0
 11586                        	.sym	~~cmd_TESTSD,~~cmd_TESTSD,80,18,0
 11587                        	.sym	~~cmd_WORKBENCH,~~cmd_WORKBENCH,80,18,0
 11588                        	.sym	~~cmd_CLEAR,~~cmd_CLEAR,80,18,0
 11589                        	.sym	~~getTokenSig,~~getTokenSig,65,2,0
 11590                        	.sym	~~sig_walk,~~sig_walk,65,2,0
 11591                        	.sym	~~newToken,~~newToken,1098,2,32,83
 11592                        	.sym	~~token_to_string,~~token_to_string,1102
                    ,2,32
 11593                        	.sym	~~tokenize,~~tokenize,1098,2,32,5
 11594                        	.sym	~~DefConsoleProc3,~~DefConsoleProc3,65,2
                    ,0
 11595                        	.sym	~~DefConsoleProc2,~~DefConsoleProc2,65,2
                    ,0
 11596                        	.sym	~~ObjectClicked,~~ObjectClicked,65,2,0
 11597                        	.sym	~~DefConsoleProc,~~DefConsoleProc,65,2,0
 11598                        	.sym	~~k_console_process_command,~~k_console_
                    process_command,65,2,0
 11599                        	.sym	~~k_create_text_window,~~k_create_text_w
                    indow,65,2,0
 11600                        	.sym	~~k_col_console,~~k_col_console,69,2,0
 11601                        	.sym	~~k_row_console,~~k_row_console,69,2,0
 11602                        	.sym	~~k_pos_console,~~k_pos_console,65,2,0
 11603                        	.sym	~~k_clear_console,~~k_clear_console,65,2
                    ,0
 11604                        	.sym	~~k_write_console,~~k_write_console,69,2
                    ,0
 11605                        	.sym	~~k_window_draw,~~k_window_draw,65,2,0
 11606                        	.sym	~~k_text_mode_dialog,~~k_text_mode_dialo
                    g,65,2,0
 11607                        	.sym	~~k_put_color,~~k_put_color,69,2,0
 11608                        	.sym	~~k_put_string_buffer,~~k_put_string_buf
                    fer,69,2,0
 11609                        	.sym	~~k_put_string,~~k_put_string,69,2,0
 11610                        	.sym	~~k_put_char,~~k_put_char,65,2,0
 11611                        	.sym	~~k_clear_screen,~~k_clear_screen,65,2,0
 11612                        	.sym	~~k_set_cursor_position,~~k_set_cursor_p
                    osition,65,2,0
 11613                        	.sym	~~k_enable_text_cursor,~~k_enable_text_c
                    ursor,65,2,0
 11614                        	.sym	~~k_set_text_font_page,~~k_set_text_font
                    _page,65,2,0
 11615                        	.sym	~~k_set_border,~~k_set_border,65,2,0
 11616                        	.sym	~~k_set_border_color,~~k_set_border_colo
                    r,65,2,0
 11617                        	.sym	~~k_disable_border,~~k_disable_border,65
                    ,2,0
 11618                        	.sym	~~k_enable_border,~~k_enable_border,65,2
  Sat Jul 10 2021  1:15                                                Page 223


                    ,0
 11619                        	.sym	~~k_get_lines_max,~~k_get_lines_max,69,2
                    ,0
 11620                        	.sym	~~k_get_lines_visible,~~k_get_lines_visi
                    ble,69,2,0
 11621                        	.sym	~~k_get_cols_per_line,~~k_get_cols_per_l
                    ine,69,2,0
 11622                        	.sym	~~k_get_cols_visible,~~k_get_cols_visibl
                    e,69,2,0
 11623                        	.sym	~~k_initialize_text_fonts,~~k_initialize
                    _text_fonts,69,2,0
 11624                        	.sym	~~k_initialize_text,~~k_initialize_text,
                    65,2,0
 11625                        	.sym	~~k_updatespinner,~~k_updatespinner,65,2
                    ,0
 11626                        	.sym	~~k_init_spinner,~~k_init_spinner,65,2,0
 11627                        	.sym	PCOMMANDARGS,0,138,14,32,84
 11628                        	.sym	COMMANDARGS,0,10,14,64,84
 11629                        	.sym	PTOKENIZESTATE,0,133,14,32
 11630                        	.sym	TOKENIZESTATE,0,5,14,16
 11631                        	.sym	PTOKEN,0,138,14,32,83
 11632                        	.sym	TOKEN,0,10,14,64,83
 11633                        	.sym	PTOKENTYPE,0,133,14,32
 11634                        	.sym	TOKENTYPE,0,5,14,16
 11635                        	.sym	FXCommandHandler,0,656,14,32
 11636                        	.sym	PCONSOLECTX,0,138,14,32,82
 11637                        	.sym	CONSOLECTX,0,10,14,1144,82
 11638                        	.sym	PSPINNERCTX,0,138,14,32,81
 11639                        	.sym	SPINNERCTX,0,10,14,48,81
 11640                        	.sym	HCLIP,0,138,14,32,80
 11641                        	.sym	PCLIPBOARD_DATA,0,138,14,32,80
 11642                        	.sym	CLIPBOARD_DATA,0,10,14,168,80
 11643                        	.sym	~~k_send_process_command_message,~~k_sen
                    d_process_command_message,78,18,0
 11644                        	.sym	~~k_send_message,~~k_send_message,78,18,
                    0
 11645                        	.sym	~~k_getKeyboardChar,~~k_getKeyboardChar,
                    80,18,0
 11646                        	.sym	PEVENTMANAGER,0,138,14,32,79
 11647                        	.sym	EVENTMANAGER,0,10,14,192,79
 11648                        	.sym	EV_RUN,0,656,14,32
 11649                        	.sym	EV_QUERY_METRIC,0,656,14,32
 11650                        	.sym	EV_CONFIGURE,0,656,14,32
 11651                        	.sym	EV_UNINIT,0,641,14,32
 11652                        	.sym	EV_INIT,0,8833,14,32
 11653                        	.sym	PMOUSE_MSG_STATE,0,138,14,32,78
 11654                        	.sym	MOUSE_MSG_STATE,0,10,14,184,78
 11655                        	.sym	PFXEVENTPROCESS,0,138,14,32,77
 11656                        	.sym	FXEVENTPROCESS,0,10,14,64,77
 11657                        	.sym	PMARSHALDATA,0,139,14,32,76
 11658                        	.sym	MARSHALDATA,0,11,14,32,76
 11659                        	.sym	FXIDLEPROCESS,0,641,14,32
 11660                        	.sym	FXEventProc,0,641,14,32
 11661                        	.sym	PMOUSEMSGDATA,0,138,14,32,75
 11662                        	.sym	MOUSEMSGDATA,0,10,14,64,75
 11663                        	.sym	MSGIRQ,0,5,14,16
 11664                        	.sym	MAINLOOPARGS,0,10,14,16,74
 11665                        	.sym	PEACHCHILD_MSG,0,138,14,32,73
  Sat Jul 10 2021  1:15                                                Page 224


 11666                        	.sym	EACHCHILD_MSG,0,10,14,64,73
 11667                        	.sym	PMSGBOX_DATA,0,138,14,32,72
 11668                        	.sym	MSGBOX_DATA,0,10,14,96,72
 11669                        	.sym	PDESKTOP_DATA,0,138,14,32,71
 11670                        	.sym	DESKTOP_DATA,0,10,14,64,71
 11671                        	.sym	PWINDOWMANAGER,0,138,14,32,70
 11672                        	.sym	WINDOWMANAGER,0,10,14,160,70
 11673                        	.sym	WM_DOPROCS,0,641,14,32
 11674                        	.sym	WM_QUERY_METRIC,0,656,14,32
 11675                        	.sym	WM_CONFIGURE,0,656,14,32
 11676                        	.sym	WM_HANDLE_EVENT,0,8833,14,32
 11677                        	.sym	WM_EVENTS,0,641,14,32
 11678                        	.sym	~~k_create_ui_window_class,~~k_create_ui
                    _window_class,1098,18,32,33
 11679                        	.sym	~~k_vdraw_ui_window,~~k_vdraw_ui_window,
                    65,18,0
 11680                        	.sym	~~k_put_winicon_point,~~k_put_winicon_po
                    int,69,18,0
 11681                        	.sym	~~k_window_draw_background,~~k_window_dr
                    aw_background,65,2,0
 11682                        	.sym	~~k_draw_text_point,~~k_draw_text_point,
                    69,18,0
 11683                        	.sym	~~k_put_font,~~k_put_font,65,18,0
 11684                        	.sym	~~setColors,~~setColors,65,18,0
 11685                        	.sym	~~k_enable_text_mode,~~k_enable_text_mod
                    e,65,2,0
 11686                        	.sym	PCUR_PALETTE_MAP,0,138,14,32,69
 11687                        	.sym	CUR_PALETTE_MAP,0,10,14,400,69
 11688                        	.sym	PCLICKDETECTED,0,138,14,32,68
 11689                        	.sym	CLICKDETECTED,0,10,14,64,68
 11690                        	.sym	OBJECTCLICKED,0,641,14,32
 11691                        	.sym	~~EGAFONT,~~EGAFONT,110,18,0,0
 11692                        	.sym	PIPCPORT,0,138,14,32,67
 11693                        	.sym	IPCPORT,0,10,14,144,67
 11694                        	.sym	~~k_mem_deallocate_heap,~~k_mem_dealloca
                    te_heap,65,18,0
 11695                        	.sym	~~k_mem_allocate_heap,~~k_mem_allocate_h
                    eap,1089,18,32
 11696                        	.sym	MemoryCallback,0,641,14,32
 11697                        	.sym	PFXMEMORYMAP,0,138,14,32,66
 11698                        	.sym	FXMEMORYMAP,0,10,14,2072,66
 11699                        	.sym	UMM_HEAP_INFO,0,10,14,256,65
 11700                        	.sym	~~k_exec_get_current_process,~~k_exec_ge
                    t_current_process,1098,18,32,20
 11701                        	.sym	~~k_exec_throw_exception,~~k_exec_throw_
                    exception,65,18,0
 11702                        	.sym	PEXECUTIVE,0,138,14,32,64
 11703                        	.sym	EXECUTIVE,0,10,14,128,64
 11704                        	.sym	EX_QUERY_METRIC,0,656,14,32
 11705                        	.sym	EX_CONFIGURE,0,656,14,32
 11706                        	.sym	EX_UNINIT,0,641,14,32
 11707                        	.sym	EX_INIT,0,8833,14,32
 11708                        	.sym	FRESULT,0,5,14,16
 11709                        	.sym	MKFS_PARM,0,10,14,80,63
 11710                        	.sym	FILINFO,0,10,14,2224,62
 11711                        	.sym	DIR,0,10,14,416,61
 11712                        	.sym	FIL,0,10,14,4400,60
 11713                        	.sym	FFOBJID,0,10,14,128,59
  Sat Jul 10 2021  1:15                                                Page 225


 11714                        	.sym	FATFS,0,10,14,4504,58
 11715                        	.sym	LBA_t,0,18,14,32
 11716                        	.sym	FSIZE_t,0,18,14,32
 11717                        	.sym	TCHAR,0,14,14,8
 11718                        	.sym	DEVICEDRIVER_COMMAND,0,656,14,32
 11719                        	.sym	DEVICEDRIVER_UNLOAD,0,654,14,32
 11720                        	.sym	DEVICEDRIVER_WRITE,0,656,14,32
 11721                        	.sym	DEVICEDRIVER_READ,0,656,14,32
 11722                        	.sym	DEVICEDRIVER_LOAD,0,654,14,32
 11723                        	.sym	DEVICEDRIVER_IRQ,0,654,14,32
 11724                        	.sym	PFX_BLOCK_DEVICE_DRIVER,0,138,14,32,57
 11725                        	.sym	FX_BLOCK_DEVICE_DRIVER,0,10,14,808,57
 11726                        	.sym	GETDRIVERDEF,0,8842,14,32,56
 11727                        	.sym	PFX_DEVICE_DRIVER,0,138,14,32,56
 11728                        	.sym	FX_DEVICE_DRIVER,0,10,14,776,56
 11729                        	.sym	~~k_debug_strings,~~k_debug_strings,65,1
                    8,0
 11730                        	.sym	~~k_debug_message,~~k_debug_message,65,1
                    8,0
 11731                        	.sym	~~k_debug_long,~~k_debug_long,65,18,0
 11732                        	.sym	~~k_debug_integer,~~k_debug_integer,65,1
                    8,0
 11733                        	.sym	~~k_debug_pointer,~~k_debug_pointer,65,1
                    8,0
 11734                        	.sym	~~k_debug_char,~~k_debug_char,65,18,0
 11735                        	.sym	~~k_debug_string,~~k_debug_string,65,18,
                    0
 11736                        	.sym	PSEGMENTHEADER,0,138,14,32,55
 11737                        	.sym	SEGMENTHEADER,0,10,14,160,55
 11738                        	.sym	~~k_getZeroPage,~~k_getZeroPage,1098,18,
                    32,52
 11739                        	.sym	PDEBUGBYTEBITS,0,138,14,32,54
 11740                        	.sym	DEBUGBYTEBITS,0,10,14,8,54
 11741                        	.sym	PFXENVIRONMENT,0,138,14,32,53
 11742                        	.sym	FXENVIRONMENT,0,10,14,96,53
 11743                        	.sym	PFXZEROPAGE,0,138,14,32,52
 11744                        	.sym	FXZEROPAGE,0,10,14,824,52
 11745                        	.sym	KERNELTRAPCALL,0,641,14,32
 11746                        	.sym	PFXKERNEL_API_CALLTABLE,0,138,14,32,51
 11747                        	.sym	FXKERNEL_API_CALLTABLE,0,10,14,8192,51
 11748                        	.sym	~~k_nodelist_foreach_data,~~k_nodelist_f
                    oreach_data,65,18,0
 11749                        	.sym	FOREACHNODEUNTIL,0,654,14,32
 11750                        	.sym	FOREACHNODE,0,641,14,32
 11751                        	.sym	~~k_nodelist_add,~~k_nodelist_add,65,18,
                    0
 11752                        	.sym	~~k_nodelist_create,~~k_nodelist_create,
                    1098,18,32,5
 11753                        	.sym	~~k_nodelist_init,~~k_nodelist_init,1098
                    ,18,32,5
 11754                        	.sym	~~_ctype,~~_ctype,110,18,0,0
 11755                        	.sym	~~k_to_uppercase,~~k_to_uppercase,1102,1
                    8,32
 11756                        	.sym	~~k_string_copy_string,~~k_string_copy_s
                    tring,1102,18,32
 11757                        	.sym	~~k_string_toString,~~k_string_toString,
                    1102,18,32
 11758                        	.sym	~~k_string_indexOf,~~k_string_indexOf,69
  Sat Jul 10 2021  1:15                                                Page 226


                    ,18,0
 11759                        	.sym	~~k_fxstring_equals,~~k_fxstring_equals,
                    78,18,0
 11760                        	.sym	~~k_fxstring_copy_string,~~k_fxstring_co
                    py_string,1102,18,32
 11761                        	.sym	~~k_fxstring_add,~~k_fxstring_add,1102,1
                    8,32
 11762                        	.sym	~~k_fxstring_addchar,~~k_fxstring_addcha
                    r,1102,18,32
 11763                        	.sym	~~k_fxstring_reinit,~~k_fxstring_reinit,
                    1098,18,32,50
 11764                        	.sym	~~k_fxstring_new,~~k_fxstring_new,1098,1
                    8,32,50
 11765                        	.sym	~~k_fxstring_init,~~k_fxstring_init,1098
                    ,18,32,50
 11766                        	.sym	PFXSTRING,0,138,14,32,50
 11767                        	.sym	FXSTRING,0,10,14,64,50
 11768                        	.sym	PFXRFHEADER_FONT,0,138,14,32,49
 11769                        	.sym	FXRFHEADER_FONT,0,10,14,144,49
 11770                        	.sym	PFXRFHEADER,0,138,14,32,48
 11771                        	.sym	FXRFHEADER,0,10,14,72,48
 11772                        	.sym	PFXCOMBUFFER,0,138,14,32,47
 11773                        	.sym	FXCOMBUFFER,0,10,14,2080,47
 11774                        	.sym	PSUBMENULIST,0,138,14,32,46
 11775                        	.sym	SUBMENULIST,0,10,14,40,46
 11776                        	.sym	HSUBMENU,0,7,14,32
 11777                        	.sym	PSUBMENU,0,138,14,32,45
 11778                        	.sym	SUBMENU,0,10,14,64,45
 11779                        	.sym	MenuAction,0,641,14,32
 11780                        	.sym	PMENUANCHOR,0,138,14,32,44
 11781                        	.sym	MENUANCHOR,0,10,14,272,44
 11782                        	.sym	PMSGBOX,0,138,14,32,43
 11783                        	.sym	MSGBOX,0,10,14,144,43
 11784                        	.sym	PTEXTBOX,0,138,14,32,42
 11785                        	.sym	TEXTBOX,0,10,14,144,42
 11786                        	.sym	PLISTBOX,0,138,14,32,41
 11787                        	.sym	LISTBOX,0,10,14,240,41
 11788                        	.sym	PSCROLLBAR,0,138,14,32,40
 11789                        	.sym	SCROLLBAR,0,10,14,240,40
 11790                        	.sym	PBUTTON,0,138,14,32,39
 11791                        	.sym	BUTTON,0,10,14,96,39
 11792                        	.sym	PMENUDROPDOWNDATA,0,138,14,32,38
 11793                        	.sym	MENUDROPDOWNDATA,0,10,14,5152,38
 11794                        	.sym	PMENUTAG,0,138,14,32,37
 11795                        	.sym	MENUTAG,0,10,14,160,37
 11796                        	.sym	PMENU,0,138,14,32,36
 11797                        	.sym	MENU,0,10,14,280,36
 11798                        	.sym	HMENURESOURCE,0,129,14,32
 11799                        	.sym	FONTMETRIC,0,10,14,32,35
 11800                        	.sym	TITLE,0,142,14,32
 11801                        	.sym	PHANDLE,0,1153,14,32
 11802                        	.sym	HANDLE,0,129,14,32
 11803                        	.sym	PWINDOWEX,0,138,14,32,34
 11804                        	.sym	WINDOWEX,0,10,14,3880,34
 11805                        	.sym	PWINDOW,0,138,14,32,33
 11806                        	.sym	WINDOW,0,10,14,3904,33
 11807                        	.sym	PDRAGDATA,0,138,14,32,32
 11808                        	.sym	DRAGDATA,0,10,14,216,32
  Sat Jul 10 2021  1:15                                                Page 227


 11809                        	.sym	PNCCLICKABLE,0,138,14,32,31
 11810                        	.sym	NCCLICKABLE,0,10,14,136,31
 11811                        	.sym	HCLICKABLE,0,7,14,32
 11812                        	.sym	PCLICKABLE,0,138,14,32,30
 11813                        	.sym	CLICKABLE,0,10,14,152,30
 11814                        	.sym	PWNDCLASS,0,138,14,32,29
 11815                        	.sym	WNDCLASS,0,10,14,272,29
 11816                        	.sym	HBRUSH,0,129,14,32
 11817                        	.sym	HCURSOR,0,129,14,32
 11818                        	.sym	HICON,0,129,14,32
 11819                        	.sym	HINSTANCE,0,129,14,32
 11820                        	.sym	FXWndProc,0,654,14,32
 11821                        	.sym	PDRECT,0,138,14,32,28
 11822                        	.sym	DRECT,0,10,14,112,28
 11823                        	.sym	PRECTP,0,138,14,32,27
 11824                        	.sym	RECTP,0,10,14,96,27
 11825                        	.sym	PRECT,0,138,14,32,26
 11826                        	.sym	RECT,0,10,14,112,26
 11827                        	.sym	PPOINT,0,138,14,32,25
 11828                        	.sym	POINT,0,10,14,32,25
 11829                        	.sym	PFXPROPERTY,0,138,14,32,23
 11830                        	.sym	FXPROPERTY,0,10,14,384,23
 11831                        	.sym	PKEYSTATE,0,138,14,32,22
 11832                        	.sym	KEYSTATE,0,10,14,112,22
 11833                        	.sym	SCANCODE,0,14,14,8
 11834                        	.sym	KEYCODE,0,16,14,16
 11835                        	.sym	PFXPROCESSMESSAGE,0,138,14,32,21
 11836                        	.sym	FXPROCESSMESSAGE,0,10,14,112,21
 11837                        	.sym	PFXPROCESS,0,138,14,32,20
 11838                        	.sym	FXPROCESS,0,10,14,800,20
 11839                        	.sym	PDESKTOP_CONTROL,0,138,14,32,19
 11840                        	.sym	DESKTOP_CONTROL,0,10,14,392,19
 11841                        	.sym	PCONSOLE_CONTROL,0,138,14,32,18
 11842                        	.sym	CONSOLE_CONTROL,0,10,14,448,18
 11843                        	.sym	FXProcessProc,0,641,14,32
 11844                        	.sym	PFXCMDMESSAGE,0,138,14,32,17
 11845                        	.sym	FXCMDMESSAGE,0,10,14,304,17
 11846                        	.sym	PFXOSMESSAGE,0,138,14,32,16
 11847                        	.sym	FXOSMESSAGE,0,10,14,304,16
 11848                        	.sym	PINT_REGS,0,138,14,32,15
 11849                        	.sym	INT_REGS,0,10,14,104,15
 11850                        	.sym	TASK_STACK,0,10,14,32,14
 11851                        	.sym	TASK,0,10,14,48,13
 11852                        	.sym	PIRQDATA,0,138,14,32,12
 11853                        	.sym	IRQDATA,0,10,14,48,12
 11854                        	.sym	HMENU,0,129,14,32
 11855                        	.sym	HWND,0,129,14,32
 11856                        	.sym	MSGDATA,0,14,14,8
 11857                        	.sym	MSGDEST,0,18,14,32
 11858                        	.sym	MSGSRC,0,18,14,32
 11859                        	.sym	MSGTYPE,0,16,14,16
 11860                        	.sym	PROCESS_RESOURCE_LIST,0,138,14,32,6
 11861                        	.sym	PROCESS_TLS_LIST,0,138,14,32,6
 11862                        	.sym	SEMAPHORE_LIST,0,138,14,32,6
 11863                        	.sym	FILE_BLOCK_LIST,0,138,14,32,6
 11864                        	.sym	FILE_PATH_LIST,0,138,14,32,6
 11865                        	.sym	PROCEDURE_LIST,0,138,14,32,6
 11866                        	.sym	FILE_HANDLE,0,138,14,32,11
  Sat Jul 10 2021  1:15                                                Page 228


 11867                        	.sym	FILE_BLOCK,0,10,14,552,11
 11868                        	.sym	SEMAPHORE,0,10,14,16,10
 11869                        	.sym	PPROCESS_SIGNAL,0,138,14,32,9
 11870                        	.sym	PROCESS_SIGNAL,0,10,14,16,9
 11871                        	.sym	KRESULT,0,18,14,32
 11872                        	.sym	PKERNEL_ERROR,0,138,14,32,8
 11873                        	.sym	KERNEL_ERROR,0,10,14,32,8
 11874                        	.sym	PROCESS_STATUS,0,16,14,16
 11875                        	.sym	FILE_PATH_NAME,0,142,14,32
 11876                        	.sym	PROCESS_RESOURCE,0,129,14,32
 11877                        	.sym	PROCESS_TLS,0,129,14,32
 11878                        	.sym	PROCESS_CTX,0,129,14,32
 11879                        	.sym	USERID,0,16,14,16
 11880                        	.sym	PROCESS_ID,0,18,14,32
 11881                        	.sym	PROCESS_BANK,0,14,14,8
 11882                        	.sym	PFXQUEUE,0,138,14,32,7
 11883                        	.sym	FXQUEUE,0,10,14,80,7
 11884                        	.sym	PFXNODELIST,0,138,14,32,6
 11885                        	.sym	FXNODELIST,0,10,14,96,6
 11886                        	.sym	NodeListDeallocator,0,641,14,32
 11887                        	.sym	PFXNODE,0,138,14,32,5
 11888                        	.sym	FXNODE,0,10,14,384,5
 11889                        	.sym	PBYTEBITS,0,138,14,32,4
 11890                        	.sym	BYTEBITS,0,10,14,8,4
 11891                        	.sym	HRESULT,0,18,14,32
 11892                        	.sym	LPWCHAR,0,144,14,32
 11893                        	.sym	WCHAR,0,16,14,16
 11894                        	.sym	HCOLOR,0,129,14,32
 11895                        	.sym	HFONT,0,129,14,32
 11896                        	.sym	HDC,0,129,14,32
 11897                        	.sym	HPOINTER,0,129,14,32
 11898                        	.sym	uint32_t,0,18,14,32
 11899                        	.sym	uint8_t,0,14,14,8
 11900                        	.sym	LPBOOL,0,142,14,32
 11901                        	.sym	BOOL,0,14,14,8
 11902                        	.sym	DWORD,0,18,14,32
 11903                        	.sym	ULONG,0,18,14,32
 11904                        	.sym	LPLONG,0,135,14,32
 11905                        	.sym	LONG,0,7,14,32
 11906                        	.sym	PUINT,0,144,14,32
 11907                        	.sym	USHORT,0,16,14,16
 11908                        	.sym	UINT,0,16,14,16
 11909                        	.sym	INT,0,5,14,16
 11910                        	.sym	WORD,0,5,14,16
 11911                        	.sym	PBYTE,0,142,14,32
 11912                        	.sym	BYTE,0,14,14,8
 11913                        	.sym	IOPORT,0,142,14,32
 11914                        	.sym	PUCHAR,0,142,14,32
 11915                        	.sym	UCHAR,0,14,14,8
 11916                        	.sym	LPWCSTR,0,142,14,32
 11917                        	.sym	LPCSTR,0,142,14,32
 11918                        	.sym	LPSTR,0,142,14,32
 11919                        	.sym	LPCHAR,0,142,14,32
 11920                        	.sym	CHAR,0,14,14,8
 11921                        	.sym	LPVOID,0,129,14,32
 11922                        	.sym	VOID,0,1,14,32
 11923                        	.sym	ldiv_t,0,10,14,64,2
 11924                        	.sym	div_t,0,10,14,32,1
  Sat Jul 10 2021  1:15                                                Page 229


 11925                        	.sym	wctype_t,0,16,14,16
 11926                        	.sym	wint_t,0,16,14,16
 11927                        	.sym	wchar_t,0,14,14,8
 11928                        	.sym	ptrdiff_t,0,7,14,32
 11929                        	.sym	~~strtok,~~strtok,1102,18,32
 11930                        	.sym	~~strstr,~~strstr,1102,18,32
 11931                        	.sym	~~strlen,~~strlen,80,18,0
 11932                        	.sym	~~strcpy,~~strcpy,1102,18,32
 11933                        	.sym	~~strcmp,~~strcmp,69,18,0
 11934                        	.sym	~~strchr,~~strchr,1102,18,32
 11935                        	.sym	~~strcat,~~strcat,1102,18,32
 11936                        	.sym	~~memset,~~memset,1089,18,32
 11937                        	.sym	Boolean_T,0,5,14,16
 11938                        	.sym	size_t,0,16,14,16
 11939                        	end


      Lines assembled: 11939
      Errors: 0
