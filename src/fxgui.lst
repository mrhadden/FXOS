  Sat Jul 10 2021  1:15                                                Page 1


                     ***************************************
                     **      WDC 65C816 Macro Assembler   **
                     **                                   **
                     **     Version 3.49.1- Feb  6 2006    **
                     ***************************************

     1                        ;:ts=8
     2             00000001   R0	equ	1
     3             00000005   R1	equ	5
     4             00000009   R2	equ	9
     5             0000000D   R3	equ	13
     6                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxguiV4.c",0
     7                        ;#include "fxos.h"
     8                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
     9                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
    10                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stddef.h",0
    11                        	.line	88
    12                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",43
    13                        	.stag	fake1_,32,1
    14                        	.member	quot,0,5,8,16
    15                        	.member	rem,16,5,8,16
    16                        	.eos
    17                        	.stag	fake2_,64,2
    18                        	.member	quot,0,7,8,32
    19                        	.member	rem,32,7,8,32
    20                        	.eos
    21                        	.stag	int_sqrt,32,3
    22                        	.member	sqrt,0,16,8,16
    23                        	.member	frac,16,16,8,16
    24                        	.eos
    25                        	.line	205
    26                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",4
    27                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
    28                        	.line	134
    29                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",5
    30                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    ctype.h",0
    31                        	.line	103
    32                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",6
    33                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
    34                        	.stag	_fx_bytebits,8,4
    35                        	.member	b7,0,14,17,1
    36                        	.member	b6,1,14,17,1
    37                        	.member	b5,2,14,17,1
    38                        	.member	b4,3,14,17,1
    39                        	.member	b3,4,14,17,1
    40                        	.member	b2,5,14,17,1
    41                        	.member	b1,6,14,17,1
  Sat Jul 10 2021  1:15                                                Page 2


    42                        	.member	b0,7,14,17,1
    43                        	.eos
    44                        	.stag	_fx_node,384,5
    45                        	.member	type,0,14,8,8
    46                        	.member	Reserved0,8,14,8,8
    47                        	.member	data,16,129,8,32
    48                        	.member	last,48,138,8,32,5
    49                        	.member	next,80,138,8,32,5
    50                        	.member	name,112,110,8,0,32
    51                        	.member	Reserved1,368,16,8,16
    52                        	.eos
    53                        	.stag	_fx_nodelist,96,6
    54                        	.member	listhead,0,138,8,32,5
    55                        	.member	listData,32,129,8,32
    56                        	.member	deallocator,64,641,8,32
    57                        	.eos
    58                        	.stag	_fx_queue,80,7
    59                        	.member	count,0,5,8,16
    60                        	.member	front,16,138,8,32,5
    61                        	.member	rear,48,138,8,32,5
    62                        	.eos
    63                        	.stag	fake8_,32,8
    64                        	.member	subsystem,0,14,8,8
    65                        	.member	level,8,14,8,8
    66                        	.member	error,16,16,8,16
    67                        	.eos
    68                        	.stag	_fx_process_signal,16,9
    69                        	.member	cbSize,0,16,8,16
    70                        	.eos
    71                        	.stag	_fx_semaphore,16,10
    72                        	.member	reserved,0,5,8,16
    73                        	.eos
    74                        	.stag	_fx_fileBlock,552,11
    75                        	.member	openCount,0,16,8,16
    76                        	.member	lockCount,16,16,8,16
    77                        	.member	dirty,32,14,8,8
    78                        	.member	fileBuffer,40,110,8,0,64
    79                        	.eos
    80                        	.stag	_fx_irq_data,48,12
    81                        	.member	line,0,5,8,16
    82                        	.member	keycode,16,142,8,32
    83                        	.eos
    84                        	.stag	_task,48,13
    85                        	.member	SPL,0,14,8,8
    86                        	.member	SPH,8,14,8,8
    87                        	.member	pstack,16,142,8,32
    88                        	.eos
    89                        	.stag	_task_stack,32,14
    90                        	.member	SS,0,142,8,32
    91                        	.eos
    92                        	.stag	int_regs,104,15
    93                        	.member	PB,0,14,8,8
    94                        	.member	PH,8,14,8,8
    95                        	.member	PL,16,14,8,8
    96                        	.member	PP,24,14,8,8
    97                        	.member	DB,32,14,8,8
    98                        	.member	DH,40,14,8,8
    99                        	.member	DL,48,14,8,8
  Sat Jul 10 2021  1:15                                                Page 3


   100                        	.member	AH,56,14,8,8
   101                        	.member	AL,64,14,8,8
   102                        	.member	XH,72,14,8,8
   103                        	.member	XL,80,14,8,8
   104                        	.member	YH,88,14,8,8
   105                        	.member	YL,96,14,8,8
   106                        	.eos
   107                        	.stag	_fx_eventMessage,304,16
   108                        	.member	src,0,18,8,32
   109                        	.member	dest,32,18,8,32
   110                        	.member	type,64,16,8,16
   111                        	.member	hwnd,80,129,8,32
   112                        	.member	pheap,112,129,8,32
   113                        	.member	msgTime,144,18,8,32
   114                        	.member	data,176,110,8,0,16
   115                        	.eos
   116                        	.stag	_fx_cmdMessage,304,17
   117                        	.member	src,0,18,8,32
   118                        	.member	dest,32,18,8,32
   119                        	.member	type,64,16,8,16
   120                        	.member	hwnd,80,129,8,32
   121                        	.member	pheap,112,129,8,32
   122                        	.member	msgTime,144,18,8,32
   123                        	.member	cmdCId,176,16,8,16
   124                        	.member	cmdMId,192,16,8,16
   125                        	.member	parameter1,208,18,8,32
   126                        	.member	parameter2,240,18,8,32
   127                        	.member	parameter3,272,18,8,32
   128                        	.eos
   129                        	.stag	_fx_console_ctl,448,18
   130                        	.member	maxCols,0,5,8,16
   131                        	.member	maxRows,16,5,8,16
   132                        	.member	curX,32,5,8,16
   133                        	.member	curY,48,5,8,16
   134                        	.member	fgColor,64,5,8,16
   135                        	.member	bgColor,80,5,8,16
   136                        	.member	mode,96,14,8,8
   137                        	.member	kbBuffer,104,101,8,0,16
   138                        	.member	screenBuffer,360,142,8,32
   139                        	.member	desktopMode,392,14,8,8
   140                        	.member	lastMouseButton,400,5,8,16
   141                        	.member	lastMouseX,416,5,8,16
   142                        	.member	lastMouseY,432,5,8,16
   143                        	.eos
   144                        	.stag	_fx_desktop_ctl,392,19
   145                        	.member	desktopMode,0,14,8,8
   146                        	.member	cursorCtl,8,5,8,16
   147                        	.member	cursorState,24,5,8,16
   148                        	.member	backgroundColor,40,5,8,16
   149                        	.member	foregroundColor,56,5,8,16
   150                        	.member	menuMode,72,5,8,16
   151                        	.member	lastMouseButton,88,5,8,16
   152                        	.member	lastMouseX,104,5,8,16
   153                        	.member	lastMouseY,120,5,8,16
   154                        	.member	currentDiskName,136,142,8,32
   155                        	.member	diskNodes,168,129,8,32
   156                        	.member	titleNodes,200,129,8,32
   157                        	.member	menuNodes,232,129,8,32
  Sat Jul 10 2021  1:15                                                Page 4


   158                        	.member	iconNodes,264,129,8,32
   159                        	.member	windowNodes,296,129,8,32
   160                        	.member	fontNodes,328,129,8,32
   161                        	.member	wndProc,360,138,8,32,6
   162                        	.eos
   163                        	.stag	_fx_process,800,20
   164                        	.member	cbSize,0,5,8,16
   165                        	.member	procId,16,18,8,32
   166                        	.member	parentId,48,18,8,32
   167                        	.member	ctx,80,129,8,32
   168                        	.member	userId,112,16,8,16
   169                        	.member	status,128,16,8,16
   170                        	.member	foregroundActive,144,14,8,8
   171                        	.member	tls,152,1121,8,32,8
   172                        	.member	commandLine,408,142,8,32
   173                        	.member	semaphores,440,138,8,32,6
   174                        	.member	fileHandles,472,138,8,32,6
   175                        	.member	pathList,504,138,8,32,6
   176                        	.member	resources,536,138,8,32,6
   177                        	.member	timerAware,568,14,8,8
   178                        	.member	timerTicks,576,112,8,0,2
   179                        	.member	timerTickCount,608,112,8,0,2
   180                        	.member	kernelError,640,10,8,32,8
   181                        	.member	consoleCtl,672,138,8,32,18
   182                        	.member	desktopCtl,704,138,8,32,19
   183                        	.member	execProc,736,641,8,32
   184                        	.member	startupArgs,768,129,8,32
   185                        	.eos
   186                        	.stag	_fxProcessMessage,112,21
   187                        	.member	src,0,18,8,32
   188                        	.member	dest,32,18,8,32
   189                        	.member	type,64,16,8,16
   190                        	.member	processInfo,80,138,8,32,20
   191                        	.eos
   192                        	.stag	_k_key_state,112,22
   193                        	.member	scanCode,0,14,8,8
   194                        	.member	isShifted,8,14,8,8
   195                        	.member	isAlt,16,14,8,8
   196                        	.member	isExtended,24,14,8,8
   197                        	.member	isCapsLock,32,14,8,8
   198                        	.member	isNumLock,40,14,8,8
   199                        	.member	isScrollLock,48,14,8,8
   200                        	.member	keyChar,56,16,8,16
   201                        	.member	scanTime,72,18,8,32
   202                        	.member	ledStatus,104,14,8,8
   203                        	.eos
   204                        	.stag	_fx_property,384,23
   205                        	.member	name,0,110,8,0,16
   206                        	.member	value,128,110,8,0,32
   207                        	.eos
   208                        	.utag	_24bitPointer,32,24
   209                        	.member	address,0,142,11,32
   210                        	.member	bytes,0,110,11,0,4
   211                        	.eos
   212                        	.stag	_PointStruct,32,25
   213                        	.member	x,0,5,8,16
   214                        	.member	y,16,5,8,16
   215                        	.eos
  Sat Jul 10 2021  1:15                                                Page 5


   216                        	.stag	_RectStruct,112,26
   217                        	.member	x,0,5,8,16
   218                        	.member	y,16,5,8,16
   219                        	.member	z,32,18,8,32
   220                        	.member	width,64,5,8,16
   221                        	.member	height,80,5,8,16
   222                        	.member	attr,96,5,8,16
   223                        	.eos
   224                        	.stag	fake27_,96,27
   225                        	.member	name,0,142,8,32
   226                        	.member	topLeft,32,10,8,32,25
   227                        	.member	bottomRight,64,10,8,32,25
   228                        	.eos
   229                        	.stag	fake28_,112,28
   230                        	.member	x,0,5,8,16
   231                        	.member	y,16,5,8,16
   232                        	.member	z,32,5,8,16
   233                        	.member	width,48,5,8,16
   234                        	.member	height,64,5,8,16
   235                        	.member	data,80,18,8,32
   236                        	.eos
   237                        	.stag	_k_WindowClass,272,29
   238                        	.member	cbSize,0,16,8,16
   239                        	.member	style,16,16,8,16
   240                        	.member	styleEx,32,16,8,16
   241                        	.member	pWndProc,48,654,8,32
   242                        	.member	hInstance,80,129,8,32
   243                        	.member	hIcon,112,129,8,32
   244                        	.member	hCursor,144,129,8,32
   245                        	.member	hbrBackground,176,129,8,32
   246                        	.member	lpszMenuName,208,142,8,32
   247                        	.member	lpszClassName,240,142,8,32
   248                        	.eos
   249                        	.stag	_ClickableRect,152,30
   250                        	.member	area,0,10,8,112,26
   251                        	.member	z,112,18,8,32
   252                        	.member	enabled,144,14,8,8
   253                        	.eos
   254                        	.stag	_NCClickableRect,136,31
   255                        	.member	area,0,10,8,112,26
   256                        	.member	msgType,112,16,8,16
   257                        	.member	enabled,128,14,8,8
   258                        	.eos
   259                        	.stag	_DragData,216,32
   260                        	.member	area,0,10,8,112,26
   261                        	.member	xoffset,112,5,8,16
   262                        	.member	yoffset,128,5,8,16
   263                        	.member	msgType,144,16,8,16
   264                        	.member	ncAction,160,16,8,16
   265                        	.member	isDrag,176,14,8,8
   266                        	.member	isResize,184,14,8,8
   267                        	.member	canDrag,192,14,8,8
   268                        	.member	canDrop,200,14,8,8
   269                        	.member	didDrag,208,14,8,8
   270                        	.eos
   271                        	.stag	_k_WindowStruct,3904,33
   272                        	.member	cbSize,0,16,8,16
   273                        	.member	style,16,18,8,32
  Sat Jul 10 2021  1:15                                                Page 6


   274                        	.member	styleEx,48,18,8,32
   275                        	.member	win_id,80,5,8,16
   276                        	.member	win_x,96,5,8,16
   277                        	.member	win_y,112,5,8,16
   278                        	.member	win_width,128,5,8,16
   279                        	.member	win_height,144,5,8,16
   280                        	.member	win_xoffset,160,5,8,16
   281                        	.member	win_yoffset,176,5,8,16
   282                        	.member	win_cxoffset,192,5,8,16
   283                        	.member	win_cyoffset,208,5,8,16
   284                        	.member	wndRect,224,10,8,112,26
   285                        	.member	clientRect,336,10,8,112,26
   286                        	.member	nonclientGadgets,448,106,8,0,31,16
   287                        	.member	clickable,2624,129,8,32
   288                        	.member	win_title,2656,110,8,0,32
   289                        	.member	Reserved0,2912,16,8,16
   290                        	.member	win_class,2928,110,8,0,16
   291                        	.member	win_class_name,3056,110,8,0,32
   292                        	.member	nBitmapLayer,3312,16,8,16
   293                        	.member	bgRegion,3328,129,8,32
   294                        	.member	procid,3360,18,8,32
   295                        	.member	pWndClass,3392,138,8,32,29
   296                        	.member	pParentWindow,3424,129,8,32
   297                        	.member	hMenu,3456,129,8,32
   298                        	.member	hPointer,3488,129,8,32
   299                        	.member	hBackground,3520,129,8,32
   300                        	.member	pChildWindows,3552,138,8,32,6
   301                        	.member	pChildHitList,3584,138,8,32,6
   302                        	.member	isVisible,3616,14,8,8
   303                        	.member	windowData,3624,129,8,32
   304                        	.member	clientData,3656,1121,8,32,6
   305                        	.member	isClosed,3848,14,8,8
   306                        	.member	isClosing,3856,14,8,8
   307                        	.member	isDesktop,3864,14,8,8
   308                        	.member	clickableNode,3872,138,8,32,5
   309                        	.eos
   310                        	.stag	_k_WindowStructEx,3880,34
   311                        	.member	cbSize,0,16,8,16
   312                        	.member	style,16,18,8,32
   313                        	.member	styleEx,48,18,8,32
   314                        	.member	win_id,80,5,8,16
   315                        	.member	win_x,96,5,8,16
   316                        	.member	win_y,112,5,8,16
   317                        	.member	win_width,128,5,8,16
   318                        	.member	win_height,144,5,8,16
   319                        	.member	win_xoffset,160,5,8,16
   320                        	.member	win_yoffset,176,5,8,16
   321                        	.member	win_cxoffset,192,5,8,16
   322                        	.member	win_cyoffset,208,5,8,16
   323                        	.member	wndRect,224,10,8,112,26
   324                        	.member	clientRect,336,10,8,112,26
   325                        	.member	nonclientGadgets,448,106,8,0,31,16
   326                        	.member	clickable,2624,129,8,32
   327                        	.member	win_title,2656,110,8,0,32
   328                        	.member	Reserved0,2912,16,8,16
   329                        	.member	win_class,2928,110,8,0,16
   330                        	.member	nBitmapLayer,3056,16,8,16
   331                        	.member	procid,3072,18,8,32
  Sat Jul 10 2021  1:15                                                Page 7


   332                        	.member	pWndClass,3104,138,8,32,29
   333                        	.member	pParentWindow,3136,129,8,32
   334                        	.member	hMenu,3168,129,8,32
   335                        	.member	hPointer,3200,129,8,32
   336                        	.member	hBackground,3232,129,8,32
   337                        	.member	pChildWindows,3264,138,8,32,6
   338                        	.member	pChildHitList,3296,138,8,32,6
   339                        	.member	isVisible,3328,14,8,8
   340                        	.member	windowData,3336,129,8,32
   341                        	.member	clientData,3368,1121,8,32,4
   342                        	.member	isClosed,3496,14,8,8
   343                        	.member	hWnd,3504,129,8,32
   344                        	.member	localRect,3536,10,8,112,26
   345                        	.member	globalRect,3648,10,8,112,26
   346                        	.member	clientOffsetRect,3760,10,8,112,26
   347                        	.member	isDesktop,3872,14,8,8
   348                        	.eos
   349                        	.stag	_FontMetric,32,35
   350                        	.member	width,0,5,8,16
   351                        	.member	height,16,5,8,16
   352                        	.eos
   353                        	.stag	_MenuStruct,280,36
   354                        	.member	cx,0,5,8,16
   355                        	.member	cy,16,5,8,16
   356                        	.member	width,32,5,8,16
   357                        	.member	height,48,5,8,16
   358                        	.member	fcolor,64,14,8,8
   359                        	.member	bcolor,72,14,8,8
   360                        	.member	chromeLeft,80,14,8,8
   361                        	.member	chromeRight1,88,14,8,8
   362                        	.member	chromeRight2,96,14,8,8
   363                        	.member	hFont,104,129,8,32
   364                        	.member	itemId,136,16,8,16
   365                        	.member	pCaption,152,142,8,32
   366                        	.member	subMenus,184,138,8,32,6
   367                        	.member	pBackground,216,129,8,32
   368                        	.member	hWndOwner,248,129,8,32
   369                        	.eos
   370                        	.stag	fake37_,160,37
   371                        	.member	menuId,0,16,8,16
   372                        	.member	caption,16,142,8,32
   373                        	.member	rect,48,10,8,112,26
   374                        	.eos
   375                        	.stag	fake38_,5152,38
   376                        	.member	pParent,0,138,8,32,33
   377                        	.member	rect,32,10,8,112,26
   378                        	.member	captions,144,1134,8,32,24
   379                        	.member	chrome,912,110,8,0,24
   380                        	.member	ids,1104,112,8,0,24
   381                        	.member	clickable,1488,106,8,0,30,24
   382                        	.member	selected,5136,16,8,16
   383                        	.eos
   384                        	.stag	_fx_button_t,96,39
   385                        	.member	pCaption,0,142,8,32
   386                        	.member	cCaption,32,16,8,16
   387                        	.member	data,48,129,8,32
   388                        	.member	captionPixelWidth,80,16,8,16
   389                        	.eos
  Sat Jul 10 2021  1:15                                                Page 8


   390                        	.stag	_fx_scrollbar_t,240,40
   391                        	.member	min,0,16,8,16
   392                        	.member	max,16,16,8,16
   393                        	.member	increment,32,16,8,16
   394                        	.member	stopsize,48,16,8,16
   395                        	.member	location,64,5,8,16
   396                        	.member	state,80,5,8,16
   397                        	.member	rectThumb,96,10,8,112,26
   398                        	.member	data,208,129,8,32
   399                        	.eos
   400                        	.stag	_fx_listbox_t,240,41
   401                        	.member	pos,0,5,8,16
   402                        	.member	selected,16,16,8,16
   403                        	.member	offsetX,32,5,8,16
   404                        	.member	offsetY,48,5,8,16
   405                        	.member	inc,64,5,8,16
   406                        	.member	direction,80,5,8,16
   407                        	.member	top,96,5,8,16
   408                        	.member	bottom,112,5,8,16
   409                        	.member	indexTop,128,5,8,16
   410                        	.member	indexBottom,144,5,8,16
   411                        	.member	maxItems,160,16,8,16
   412                        	.member	fontSet,176,142,8,32
   413                        	.member	data,208,129,8,32
   414                        	.eos
   415                        	.stag	_fx_textbox_t,144,42
   416                        	.member	pos,0,5,8,16
   417                        	.member	selected,16,16,8,16
   418                        	.member	offsetX,32,5,8,16
   419                        	.member	offsetY,48,5,8,16
   420                        	.member	isShifted,64,14,8,8
   421                        	.member	cursorState,72,14,8,8
   422                        	.member	fontSet,80,142,8,32
   423                        	.member	data,112,129,8,32
   424                        	.eos
   425                        	.stag	_fx_msgbox_t,144,43
   426                        	.member	pos,0,5,8,16
   427                        	.member	selected,16,16,8,16
   428                        	.member	offsetX,32,5,8,16
   429                        	.member	offsetY,48,5,8,16
   430                        	.member	isShifted,64,14,8,8
   431                        	.member	cursorState,72,14,8,8
   432                        	.member	fontSet,80,142,8,32
   433                        	.member	data,112,129,8,32
   434                        	.eos
   435                        	.stag	_fx_menuAnchor_t,272,44
   436                        	.member	pCaption,0,142,8,32
   437                        	.member	renderLayoutX,32,16,8,16
   438                        	.member	renderLayoutY,48,16,8,16
   439                        	.member	captionPixelWidth,64,16,8,16
   440                        	.member	data,80,129,8,32
   441                        	.member	droppedWindow,112,138,8,32,33
   442                        	.member	bytes,144,110,8,0,16
   443                        	.eos
   444                        	.stag	_SubMenuStruct,64,45
   445                        	.member	caption,0,142,8,32
   446                        	.member	action,32,641,8,32
   447                        	.eos
  Sat Jul 10 2021  1:15                                                Page 9


   448                        	.stag	_SubMenuListStruct,40,46
   449                        	.member	cMenus,0,14,8,8
   450                        	.member	psubmenus,8,9354,8,32,45
   451                        	.eos
   452                        	.stag	_fx_ComBuffer,2080,47
   453                        	.member	cbSize,0,16,8,16
   454                        	.member	cbBuffer,16,16,8,16
   455                        	.member	buffer,32,110,8,0,256
   456                        	.eos
   457                        	.stag	_fx_resource_header,72,48
   458                        	.member	magic,0,110,8,0,4
   459                        	.member	major,32,14,8,8
   460                        	.member	minor,40,14,8,8
   461                        	.member	type,48,14,8,8
   462                        	.member	reserved,56,14,8,8
   463                        	.member	resheaderSize,64,14,8,8
   464                        	.eos
   465                        	.stag	_fx_resource_header_font,144,49
   466                        	.member	title,0,110,8,0,16
   467                        	.member	height,128,14,8,8
   468                        	.member	width,136,14,8,8
   469                        	.eos
   470                        	.line	1010
   471                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",8
   472                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstringtable.h",0
   473                        	.line	89
   474                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",9
   475                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256u.h",0
   476                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   477                        	.line	1010
   478                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256u.h",5
   479                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fmx_vicky.h",0
   480                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   481                        	.line	1010
   482                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fmx_vicky.h",11
   483                        	.line	72
   484                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256u.h",6
   485                        	.line	1960
   486                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",16
   487                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",0
   488                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   489                        	.line	30
   490                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",5
   491                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
  Sat Jul 10 2021  1:15                                                Page 10


                    space\FXOSv1\src\fxnode.h",0
   492                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   493                        	.line	1010
   494                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",11
   495                        	.line	114
   496                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",6
   497                        	.stag	_fx_api_call_table,8192,50
   498                        	.member	call_table,0,1121,8,32,256
   499                        	.eos
   500                        	.stag	_fx_zero_page,824,51
   501                        	.member	fxos_mouse_byte_0,0,14,8,8
   502                        	.member	fxos_mouse_byte_1,8,14,8,8
   503                        	.member	fxos_mouse_byte_2,16,14,8,8
   504                        	.member	fxos_mouse_byte_t,24,14,8,8
   505                        	.member	fxos_mouse_byte_x_l,32,14,8,8
   506                        	.member	fxos_mouse_byte_x_h,40,14,8,8
   507                        	.member	fxos_mouse_byte_y_l,48,14,8,8
   508                        	.member	fxos_mouse_byte_y_h,56,14,8,8
   509                        	.member	fxos_key_byte_0,64,14,8,8
   510                        	.member	fxos_key_byte_1,72,14,8,8
   511                        	.member	fxos_key_byte_2,80,14,8,8
   512                        	.member	fxos_mouse_ctl,88,14,8,8
   513                        	.member	fxos_mouse_index,96,14,8,8
   514                        	.member	fxos_mouse_status,104,14,8,8
   515                        	.member	fxos_mouse_dbg_1,112,18,8,32
   516                        	.member	fxos_mouse_dbg_2,144,18,8,32
   517                        	.member	fxos_mouse_dbg_3,176,18,8,32
   518                        	.member	fxos_vicky_byte_0,208,14,8,8
   519                        	.member	fxos_vicky_byte_1,216,14,8,8
   520                        	.member	fxos_vicky_byte_2,224,14,8,8
   521                        	.member	VersionMajor,232,16,8,16
   522                        	.member	VersionMinor,248,16,8,16
   523                        	.member	VersionRelease,264,16,8,16
   524                        	.member	topMemory,280,18,8,32
   525                        	.member	bottomMemory,312,18,8,32
   526                        	.member	availableMemory,344,18,8,32
   527                        	.member	availableMemoryK,376,18,8,32
   528                        	.member	availableHeapMemory,408,18,8,32
   529                        	.member	availableHeapMemoryK,440,18,8,32
   530                        	.member	fxos_console_row,472,16,8,16
   531                        	.member	fxos_console_col,488,16,8,16
   532                        	.member	executive,504,129,8,32
   533                        	.member	eventmanager,536,129,8,32
   534                        	.member	devicemanager,568,129,8,32
   535                        	.member	windowmanager,600,129,8,32
   536                        	.member	fxos_kernel_api,632,138,8,32,50
   537                        	.member	fxos_dos_api,664,138,8,32,50
   538                        	.member	fxos_gfx_api,696,138,8,32,50
   539                        	.member	fxos_gui_api,728,138,8,32,50
   540                        	.member	fxos_con_api,760,138,8,32,50
   541                        	.member	fxos_reserved_2_api,792,138,8,32,50
   542                        	.eos
   543                        	.stag	_fx_environment,96,52
   544                        	.member	variables,0,142,8,32
   545                        	.member	reserved1,32,5,8,16
  Sat Jul 10 2021  1:15                                                Page 11


   546                        	.member	reserved2,48,5,8,16
   547                        	.member	reserved3,64,5,8,16
   548                        	.member	reserved4,80,5,8,16
   549                        	.eos
   550                        	.stag	_debug_byte_bits,8,53
   551                        	.member	bit7,0,14,17,1
   552                        	.member	bit6,1,14,17,1
   553                        	.member	bit5,2,14,17,1
   554                        	.member	bit4,3,14,17,1
   555                        	.member	bit3,4,14,17,1
   556                        	.member	bit2,5,14,17,1
   557                        	.member	bit1,6,14,17,1
   558                        	.member	bit0,7,14,17,1
   559                        	.eos
   560                        	.stag	_k_segmentheader,160,54
   561                        	.member	version_major,0,14,8,8
   562                        	.member	version_minor,8,14,8,8
   563                        	.member	length,16,5,8,16
   564                        	.member	segment_start_addr,32,7,8,32
   565                        	.member	segment_end_addr,64,7,8,32
   566                        	.member	segment_size,96,7,8,32
   567                        	.member	main_entry_addr,128,7,8,32
   568                        	.eos
   569                        	.stag	_fx_device_driver,776,55
   570                        	.member	name,0,110,8,0,32
   571                        	.member	version,256,110,8,0,16
   572                        	.member	hmajor,384,110,8,0,8
   573                        	.member	hminor,448,110,8,0,8
   574                        	.member	type,512,14,8,8
   575                        	.member	designation,520,110,8,0,6
   576                        	.member	reserved_1,568,16,8,16
   577                        	.member	f_driver_irq,584,129,8,32
   578                        	.member	driver_context,616,129,8,32
   579                        	.member	f_driver_load,648,129,8,32
   580                        	.member	f_driver_read,680,129,8,32
   581                        	.member	f_driver_write,712,129,8,32
   582                        	.member	f_driver_unload,744,129,8,32
   583                        	.eos
   584                        	.stag	_fx_block_device_driver,808,56
   585                        	.member	name,0,110,8,0,32
   586                        	.member	version,256,110,8,0,16
   587                        	.member	hmajor,384,110,8,0,8
   588                        	.member	hminor,448,110,8,0,8
   589                        	.member	type,512,14,8,8
   590                        	.member	designation,520,110,8,0,6
   591                        	.member	reserved_1,568,16,8,16
   592                        	.member	f_driver_irq,584,129,8,32
   593                        	.member	driver_context,616,129,8,32
   594                        	.member	f_driver_load,648,129,8,32
   595                        	.member	f_driver_read,680,129,8,32
   596                        	.member	f_driver_write,712,129,8,32
   597                        	.member	f_driver_unload,744,129,8,32
   598                        	.member	f_driver_command,776,129,8,32
   599                        	.eos
   600                        	.line	400
   601                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",22
   602                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
  Sat Jul 10 2021  1:15                                                Page 12


                    space\FXOSv1\src\fxconsole.h",0
   603                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   604                        	.line	134
   605                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",5
   606                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   607                        	.line	205
   608                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",6
   609                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   610                        	.line	1010
   611                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",7
   612                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256u.h",0
   613                        	.line	1960
   614                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",12
   615                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",0
   616                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   617                        	.line	205
   618                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",5
   619                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   620                        	.line	134
   621                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",6
   622                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   623                        	.line	1010
   624                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",7
   625                        	.stag	_fx_string,64,57
   626                        	.member	size,0,16,8,16
   627                        	.member	pos,16,5,8,16
   628                        	.member	buffer,32,142,8,32
   629                        	.eos
   630                        	.line	139
   631                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",17
   632                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",0
   633                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   634                        	.line	30
   635                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",5
   636                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxexec.h",0
   637                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   638                        	.line	1010
  Sat Jul 10 2021  1:15                                                Page 13


   639                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxexec.h",5
   640                        	.stag	_fxos_executive_vtable,128,58
   641                        	.member	Init,0,8833,8,32
   642                        	.member	Configure,32,656,8,32
   643                        	.member	Query,64,656,8,32
   644                        	.member	Uninit,96,641,8,32
   645                        	.eos
   646                        	.line	86
   647                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",6
   648                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   649                        	.line	114
   650                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",7
   651                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",0
   652                        	.line	208
   653                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",8
   654                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",0
   655                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   656                        	.line	30
   657                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",5
   658                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",0
   659                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   660                        	.line	30
   661                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",5
   662                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc_cfg.h",0
   663                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos_build_parameters.h",0
   664                        	.line	35
   665                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc_cfg.h",8
   666                        	.stag	UMM_HEAP_INFO_t,256,59
   667                        	.member	totalEntries,0,18,8,32
   668                        	.member	usedEntries,32,18,8,32
   669                        	.member	freeEntries,64,18,8,32
   670                        	.member	totalBlocks,96,18,8,32
   671                        	.member	usedBlocks,128,18,8,32
   672                        	.member	freeBlocks,160,18,8,32
   673                        	.member	maxFreeContiguousBlocks,192,18,8,32
   674                        	.member	blockSize,224,18,8,32
   675                        	.eos
   676                        	.line	199
   677                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",6
   678                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc.h",0
   679                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
  Sat Jul 10 2021  1:15                                                Page 14


                    space\FXOSv1\src\fxtypes.h",0
   680                        	.line	1010
   681                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc.h",11
   682                        	.line	24
   683                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",7
   684                        	.stag	_fx_memory_map,2072,60
   685                        	.member	availableMemory,0,18,8,32
   686                        	.member	valid_segments,32,110,8,0,255
   687                        	.eos
   688                        	.stag	_fx_ipc_port,144,61
   689                        	.member	id,0,18,8,32
   690                        	.member	type,32,14,8,8
   691                        	.member	name,40,138,8,32,57
   692                        	.member	time,72,18,8,32
   693                        	.member	queue,104,138,8,32,7
   694                        	.member	reserved_1,136,14,8,8
   695                        	.eos
   696                        	.line	105
   697                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",6
   698                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",0
   699                        	.line	564
   700                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",7
   701                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.h",0
   702                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",0
   703                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   704                        	.line	1010
   705                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",6
   706                        	.line	74
   707                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.h",5
   708                        	.stag	_click_detected,64,62
   709                        	.member	window,0,138,8,32,33
   710                        	.member	handler,32,641,8,32
   711                        	.eos
   712                        	.stag	_current_palette_map,400,63
   713                        	.member	CUR_DESKTOP,0,5,8,16
   714                        	.member	CUR_BACKGROUND,16,5,8,16
   715                        	.member	CUR_FONT,32,5,8,16
   716                        	.member	CUR_SELECTED_FONT,48,5,8,16
   717                        	.member	CUR_HIGHLIGHT_COLOR,64,5,8,16
   718                        	.member	CUR_WINDOWFRAME,80,5,8,16
   719                        	.member	CUR_WINDOWBORDER,96,5,8,16
   720                        	.member	CUR_WINDOWSHADOW,112,5,8,16
   721                        	.member	CUR_MENU,128,5,8,16
   722                        	.member	CUR_GADGET,144,5,8,16
   723                        	.member	CUR_COLOR,160,101,8,0,15
   724                        	.eos
   725                        	.line	359
   726                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
  Sat Jul 10 2021  1:15                                                Page 15


                    space\FXOSv1\src\fxwindowmanager.h",8
   727                        	.stag	_fxos_winman_vtable,160,64
   728                        	.member	Events,0,641,8,32
   729                        	.member	ConfigureWindowManager,32,656,8,32
   730                        	.member	ProcessWindowEvent,64,8833,8,32
   731                        	.member	QueryWindowManager,96,656,8,32
   732                        	.member	DoWndProcs,128,641,8,32
   733                        	.eos
   734                        	.stag	fake65_,64,65
   735                        	.member	type,0,16,8,16
   736                        	.member	size,16,16,8,16
   737                        	.member	desktopAction,32,129,8,32
   738                        	.eos
   739                        	.stag	fake66_,96,66
   740                        	.member	type,0,16,8,16
   741                        	.member	caption,16,138,8,32,57
   742                        	.member	buttonType,48,16,8,16
   743                        	.member	x,64,5,8,16
   744                        	.member	y,80,5,8,16
   745                        	.eos
   746                        	.stag	_childMessage_t,64,67
   747                        	.member	msgType,0,16,8,16
   748                        	.member	msgData,16,129,8,32
   749                        	.member	dataSize,48,16,8,16
   750                        	.eos
   751                        	.line	581
   752                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",9
   753                        	.stag	_fx_main_loopvars,16,68
   754                        	.member	dummy,0,5,8,16
   755                        	.eos
   756                        	.stag	_fxMouseMessageData,64,69
   757                        	.member	button1,0,14,8,8
   758                        	.member	button2,8,14,8,8
   759                        	.member	button3,16,14,8,8
   760                        	.member	button4,24,14,8,8
   761                        	.member	x,32,16,8,16
   762                        	.member	y,48,16,8,16
   763                        	.eos
   764                        	.utag	marshalled_data,32,70
   765                        	.member	byteValue,0,14,11,8
   766                        	.member	verbValue,0,110,11,0,2
   767                        	.member	intValue,0,16,11,16
   768                        	.member	longValue,0,18,11,32
   769                        	.member	pointerValue,0,129,11,32
   770                        	.eos
   771                        	.stag	_fx_eventProcess,64,71
   772                        	.member	process,0,138,8,32,20
   773                        	.member	eventProc,32,641,8,32
   774                        	.eos
   775                        	.stag	_mouse_msg_state,184,72
   776                        	.member	lastEvent,0,18,8,32
   777                        	.member	buttonLeftDown,32,14,8,8
   778                        	.member	lastLeftDown,40,18,8,32
   779                        	.member	buttonRightDown,72,14,8,8
   780                        	.member	lastRightDown,80,18,8,32
   781                        	.member	buttonMiddleDown,112,14,8,8
   782                        	.member	lastMiddleDown,120,18,8,32
  Sat Jul 10 2021  1:15                                                Page 16


   783                        	.member	lastX,152,16,8,16
   784                        	.member	lastY,168,16,8,16
   785                        	.eos
   786                        	.stag	_fxos_eventmanager_vtable,192,73
   787                        	.member	EventQueue,0,138,8,32,7
   788                        	.member	Init,32,8833,8,32
   789                        	.member	Run,64,656,8,32
   790                        	.member	Configure,96,656,8,32
   791                        	.member	Query,128,656,8,32
   792                        	.member	Uninit,160,641,8,32
   793                        	.eos
   794                        	.stag	_k_clipboard_data,168,74
   795                        	.member	type,0,14,8,8
   796                        	.member	readable,8,110,8,0,16
   797                        	.member	data,136,129,8,32
   798                        	.eos
   799                        	.line	564
   800                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",18
   801                        	.stag	_fx_spinner_ctx,48,75
   802                        	.member	index,0,5,8,16
   803                        	.member	spinner,16,142,8,32
   804                        	.eos
   805                        	.stag	_fx_console_ctx,1144,76
   806                        	.member	lineBufferIndex,0,5,8,16
   807                        	.member	lineBuffer,16,110,8,0,128
   808                        	.member	isShifted,1040,14,8,8
   809                        	.member	userData,1048,129,8,32
   810                        	.member	screenBuffer,1080,129,8,32
   811                        	.member	Reserved1,1112,129,8,32
   812                        	.eos
   813                        	.stag	_token,64,77
   814                        	.member	type,0,5,8,16
   815                        	.member	depth,16,16,8,16
   816                        	.member	text,32,142,8,32
   817                        	.eos
   818                        	.stag	_command_args,64,78
   819                        	.member	proc,0,656,8,32
   820                        	.member	tokens,32,138,8,32,5
   821                        	.eos
   822                        	.line	208
   823                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",23
   824                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",0
   825                        	.line	139
   826                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",24
   827                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   828                        	.line	114
   829                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",25
   830                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\ff.h",0
   831                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\ffconf.h",0
   832                        	.line	298
  Sat Jul 10 2021  1:15                                                Page 17


   833                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\ff.h",29
   834                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   835                        	.line	1010
   836                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\ff.h",30
   837                        	.stag	fake79_,4504,79
   838                        	.member	fs_type,0,14,8,8
   839                        	.member	pdrv,8,14,8,8
   840                        	.member	n_fats,16,14,8,8
   841                        	.member	wflag,24,14,8,8
   842                        	.member	fsi_flag,32,14,8,8
   843                        	.member	id,40,5,8,16
   844                        	.member	n_rootdir,56,5,8,16
   845                        	.member	csize,72,5,8,16
   846                        	.member	lfnbuf,88,144,8,32
   847                        	.member	last_clst,120,18,8,32
   848                        	.member	free_clst,152,18,8,32
   849                        	.member	n_fatent,184,18,8,32
   850                        	.member	fsize,216,18,8,32
   851                        	.member	volbase,248,18,8,32
   852                        	.member	fatbase,280,18,8,32
   853                        	.member	dirbase,312,18,8,32
   854                        	.member	database,344,18,8,32
   855                        	.member	winsect,376,18,8,32
   856                        	.member	win,408,110,8,0,512
   857                        	.eos
   858                        	.stag	fake80_,128,80
   859                        	.member	fs,0,138,8,32,79
   860                        	.member	id,32,5,8,16
   861                        	.member	attr,48,14,8,8
   862                        	.member	stat,56,14,8,8
   863                        	.member	sclust,64,18,8,32
   864                        	.member	objsize,96,18,8,32
   865                        	.eos
   866                        	.stag	fake81_,4400,81
   867                        	.member	obj,0,10,8,128,80
   868                        	.member	flag,128,14,8,8
   869                        	.member	err,136,14,8,8
   870                        	.member	fptr,144,18,8,32
   871                        	.member	clust,176,18,8,32
   872                        	.member	sect,208,18,8,32
   873                        	.member	dir_sect,240,18,8,32
   874                        	.member	dir_ptr,272,142,8,32
   875                        	.member	buf,304,110,8,0,512
   876                        	.eos
   877                        	.stag	fake82_,416,82
   878                        	.member	obj,0,10,8,128,80
   879                        	.member	dptr,128,18,8,32
   880                        	.member	clust,160,18,8,32
   881                        	.member	sect,192,18,8,32
   882                        	.member	dir,224,142,8,32
   883                        	.member	fn,256,110,8,0,12
   884                        	.member	blk_ofs,352,18,8,32
   885                        	.member	pat,384,142,8,32
   886                        	.eos
   887                        	.stag	fake83_,2224,83
  Sat Jul 10 2021  1:15                                                Page 18


   888                        	.member	fsize,0,18,8,32
   889                        	.member	fdate,32,5,8,16
   890                        	.member	ftime,48,5,8,16
   891                        	.member	fattrib,64,14,8,8
   892                        	.member	altname,72,110,8,0,13
   893                        	.member	fname,176,110,8,0,256
   894                        	.eos
   895                        	.stag	fake84_,80,84
   896                        	.member	fmt,0,14,8,8
   897                        	.member	n_fat,8,14,8,8
   898                        	.member	align,16,16,8,16
   899                        	.member	n_root,32,16,8,16
   900                        	.member	au_size,48,18,8,32
   901                        	.eos
   902                        	.line	429
   903                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",26
   904                        	.line	30
   905                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxguiV4.c",1
   906                        ;#include "fxmemorymanager.h"
   907                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",0
   908                        	.line	105
   909                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxguiV4.c",2
   910                        ;#include "fxwindowmanager.h"
   911                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",0
   912                        	.line	581
   913                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxguiV4.c",3
   914                        ;#include "fxfont.h"
   915                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",0
   916                        	.line	74
   917                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxguiV4.c",4
   918                        ;#include "fxgui.h"
   919                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.h",0
   920                        	.line	359
   921                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxguiV4.c",5
   922                        ;
   923                        ;
   924                        ;VOID readBMP(LPCSTR path);
   925                        ;
   926                        ;#define BITMAP_SEG0   ((char FAR*)0xB00000)
   927                        ;#define BITMAP_SEG1   ((char FAR*)0xB10000)
   928                        ;#define BITMAP_SEG2   ((char FAR*)0xB20000)
   929                        ;#define BITMAP_SEG3   ((char FAR*)0xB30000)
   930                        ;#define BITMAP_SEG4   ((char FAR*)0xB40000)
   931                        ;
   932                        ;#define BITMAP0_SEG0   ((char FAR*)0xB00000)
   933                        ;#define BITMAP0_SEG1   ((char FAR*)0xB10000)
   934                        ;#define BITMAP0_SEG2   ((char FAR*)0xB20000)
   935                        ;#define BITMAP0_SEG3   ((char FAR*)0xB30000)
  Sat Jul 10 2021  1:15                                                Page 19


   936                        ;#define BITMAP0_SEG4   ((char FAR*)0xB40000)
   937                        ;#define BITMAP1_SEG0   ((char FAR*)0xB00000)
   938                        ;#define BITMAP1_SEG1   ((char FAR*)0xB10000)
   939                        ;#define BITMAP1_SEG2   ((char FAR*)0xB20000)
   940                        ;#define BITMAP1_SEG3   ((char FAR*)0xB30000)
   941                        ;#define BITMAP1_SEG4   ((char FAR*)0xB40000)
   942                        ;
   943                        ;
   944                        ;#define GUI_POINT_LIMIT_X_LO  	(0)
   945                        ;#define GUI_POINT_LIMIT_Y_LO  	(0)
   946                        ;
   947                        ;#define GUI_POINT_LIMIT_X_HI  	(639)
   948                        ;#define GUI_POINT_LIMIT_Y_HI  	(479)
   949                        ;
   950                        ;static CHAR FAR TEXT_CAPTION_BLOCK[] = {0x00};
   951                        	data
   952                        ~~TEXT_CAPTION_BLOCK:
   953 00:0000: 00           	db	$0
   954 00:0001:              	ends
   955                        ;
   956                        ;static LPSTR TITLE_LINES_640x480 = NULL;
   957                        	data
   958                        ~~TITLE_LINES_640x480:
   959 00:0001: 00 00 00 00  	dl	$0
   960 00:0005:              	ends
   961                        ;
   962                        ;static CHAR FAR TEXT_FG_COLORS[] =
   963                        	data
   964                        ~~TEXT_FG_COLORS:
   965                        ;{
   966                        ;	0x00,0x00,0x00,0xFF,
   967 00:0005: 00 00 00 FF  	db	$0,$0,$0,$FF
   968                        ;	0x00,0x00,0x80,0xFF,
   969 00:0009: 00 00 80 FF  	db	$0,$0,$80,$FF
   970                        ;	0x00,0x80,0x00,0xFF,
   971 00:000D: 00 80 00 FF  	db	$0,$80,$0,$FF
   972                        ;	0x80,0x00,0x00,0xFF,
   973 00:0011: 80 00 00 FF  	db	$80,$0,$0,$FF
   974                        ;	0x00,0x80,0x80,0xFF,
   975 00:0015: 00 80 80 FF  	db	$0,$80,$80,$FF
   976                        ;	0x80,0x80,0x00,0xFF,
   977 00:0019: 80 80 00 FF  	db	$80,$80,$0,$FF
   978                        ;	0x80,0x00,0x80,0xFF,
   979 00:001D: 80 00 80 FF  	db	$80,$0,$80,$FF
   980                        ;	0x80,0x80,0x80,0xFF,
   981 00:0021: 80 80 80 FF  	db	$80,$80,$80,$FF
   982                        ;	0x00,0x45,0xFF,0xFF,
   983 00:0025: 00 45 FF FF  	db	$0,$45,$FF,$FF
   984                        ;	0x13,0x45,0x8B,0xFF,
   985 00:0029: 13 45 8B FF  	db	$13,$45,$8B,$FF
   986                        ;	0x00,0x00,0x20,0xFF,
   987 00:002D: 00 00 20 FF  	db	$0,$0,$20,$FF
   988                        ;	0x00,0x20,0x00,0xFF,
   989 00:0031: 00 20 00 FF  	db	$0,$20,$0,$FF
   990                        ;	0x20,0x00,0x00,0xFF,
   991 00:0035: 20 00 00 FF  	db	$20,$0,$0,$FF
   992                        ;	0x20,0x20,0x20,0xFF,
   993 00:0039: 20 20 20 FF  	db	$20,$20,$20,$FF
  Sat Jul 10 2021  1:15                                                Page 20


   994                        ;	0x40,0x40,0x40,0xFF,
   995 00:003D: 40 40 40 FF  	db	$40,$40,$40,$FF
   996                        ;	0xFF,0xFF,0xFF,0xFF,
   997 00:0041: FF FF FF FF  	db	$FF,$FF,$FF,$FF
   998                        ;
   999                        ;};
  1000 00:0045:              	ends
  1001                        ;
  1002                        ;static CHAR FAR TEXT_BG_COLORS[] =
  1003                        	data
  1004                        ~~TEXT_BG_COLORS:
  1005                        ;{
  1006                        ;
  1007                        ;	0x00,0x00,0x00,0xFF,
  1008 00:0045: 00 00 00 FF  	db	$0,$0,$0,$FF
  1009                        ;	0x00,0x00,0x80,0xFF,
  1010 00:0049: 00 00 80 FF  	db	$0,$0,$80,$FF
  1011                        ;	0x00,0x80,0x00,0xFF,
  1012 00:004D: 00 80 00 FF  	db	$0,$80,$0,$FF
  1013                        ;	0x80,0x00,0x00,0xFF,
  1014 00:0051: 80 00 00 FF  	db	$80,$0,$0,$FF
  1015                        ;	0x00,0x20,0x20,0xFF,
  1016 00:0055: 00 20 20 FF  	db	$0,$20,$20,$FF
  1017                        ;	0x20,0x20,0x00,0xFF,
  1018 00:0059: 20 20 00 FF  	db	$20,$20,$0,$FF
  1019                        ;	0x20,0x00,0x20,0xFF,
  1020 00:005D: 20 00 20 FF  	db	$20,$0,$20,$FF
  1021                        ;	0x20,0x20,0x20,0xFF,
  1022 00:0061: 20 20 20 FF  	db	$20,$20,$20,$FF
  1023                        ;	0x1E,0x69,0xD2,0xFF,
  1024 00:0065: 1E 69 D2 FF  	db	$1E,$69,$D2,$FF
  1025                        ;	0x13,0x45,0x8B,0xFF,
  1026 00:0069: 13 45 8B FF  	db	$13,$45,$8B,$FF
  1027                        ;	0x00,0x00,0x20,0xFF,
  1028 00:006D: 00 00 20 FF  	db	$0,$0,$20,$FF
  1029                        ;	0x00,0x20,0x00,0xFF,
  1030 00:0071: 00 20 00 FF  	db	$0,$20,$0,$FF
  1031                        ;	0x40,0x00,0x00,0xFF,
  1032 00:0075: 40 00 00 FF  	db	$40,$0,$0,$FF
  1033                        ;	0x10,0x10,0x10,0xFF,
  1034 00:0079: 10 10 10 FF  	db	$10,$10,$10,$FF
  1035                        ;	0x40,0x40,0x40,0xFF,
  1036 00:007D: 40 40 40 FF  	db	$40,$40,$40,$FF
  1037                        ;	0xFF,0xFF,0xFF,0xFF,
  1038 00:0081: FF FF FF FF  	db	$FF,$FF,$FF,$FF
  1039                        ;};
  1040 00:0085:              	ends
  1041                        ;
  1042                        ;CHAR FAR MOUSE_POINTER_HELP[] =
  1043                        	data
  1044                        	xdef	~~MOUSE_POINTER_HELP
  1045                        ~~MOUSE_POINTER_HELP:
  1046                        ;{
  1047                        ;	0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x0
                    1,0x01,0x01,0x00,0x00,0x00,0x00,
  1048 00:0085: 00 00 00 01  	db	$0,$0,$0,$1,$1,$1,$1,$1,$1,$1
       00:0089: 01 01 01 01 
       00:008D: 01 01 
  Sat Jul 10 2021  1:15                                                Page 21


  1049 00:008F: 01 01 00 00  	db	$1,$1,$0,$0,$0,$0
       00:0093: 00 00 
  1050                        ;	0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0x01,0x00,0x00,0x00,
  1051 00:0095: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0099: FF FF FF FF 
       00:009D: FF FF 
  1052 00:009F: FF FF 01 00  	db	$FF,$FF,$1,$0,$0,$0
       00:00A3: 00 00 
  1053                        ;	0x00,0x01,0xFF,0xFF,0xFF,0x01,0x01,0x01,0x01,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  1054 00:00A5: 00 01 FF FF  	db	$0,$1,$FF,$FF,$FF,$1,$1,$1,$1,$1
       00:00A9: FF 01 01 01 
       00:00AD: 01 01 
  1055 00:00AF: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00B3: 00 00 
  1056                        ;	0x00,0x01,0xFF,0xFF,0x01,0x01,0x00,0x00,0x00,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  1057 00:00B5: 00 01 FF FF  	db	$0,$1,$FF,$FF,$1,$1,$0,$0,$0,$1
       00:00B9: 01 01 00 00 
       00:00BD: 00 01 
  1058 00:00BF: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00C3: 00 00 
  1059                        ;	0x00,0x01,0xFF,0xFF,0x01,0x00,0x00,0x00,0x00,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  1060 00:00C5: 00 01 FF FF  	db	$0,$1,$FF,$FF,$1,$0,$0,$0,$0,$1
       00:00C9: 01 00 00 00 
       00:00CD: 00 01 
  1061 00:00CF: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00D3: 00 00 
  1062                        ;	0x00,0x01,0xFF,0xFF,0x01,0x00,0x00,0x00,0x00,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  1063 00:00D5: 00 01 FF FF  	db	$0,$1,$FF,$FF,$1,$0,$0,$0,$0,$1
       00:00D9: 01 00 00 00 
       00:00DD: 00 01 
  1064 00:00DF: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00E3: 00 00 
  1065                        ;	0x00,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  1066 00:00E5: 00 01 01 01  	db	$0,$1,$1,$1,$1,$0,$0,$0,$0,$1
       00:00E9: 01 00 00 00 
       00:00ED: 00 01 
  1067 00:00EF: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00F3: 00 00 
  1068                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0xF
                    F,0xFF,0xFF,0x01,0x00,0x00,0x00,
  1069 00:00F5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$1,$1,$FF
       00:00F9: 00 00 00 01 
       00:00FD: 01 FF 
  1070 00:00FF: FF FF 01 00  	db	$FF,$FF,$1,$0,$0,$0
       00:0103: 00 00 
  1071                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xF
                    F,0xFF,0x01,0x00,0x00,0x00,0x00,
  1072 00:0105: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$1,$FF,$FF
       00:0109: 00 00 00 01 
       00:010D: FF FF 
  1073 00:010F: FF 01 00 00  	db	$FF,$1,$0,$0,$0,$0
       00:0113: 00 00 
  Sat Jul 10 2021  1:15                                                Page 22


  1074                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0xFF,0xF
                    F,0xFF,0x00,0x00,0x00,0x00,0x00,
  1075 00:0115: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$1,$1,$FF,$FF
       00:0119: 00 01 01 01 
       00:011D: FF FF 
  1076 00:011F: FF 00 00 00  	db	$FF,$0,$0,$0,$0,$0
       00:0123: 00 00 
  1077                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0x0
                    1,0x01,0x00,0x00,0x00,0x00,0x00,
  1078 00:0125: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$FF,$FF,$1
       00:0129: 00 01 FF FF 
       00:012D: FF 01 
  1079 00:012F: 01 00 00 00  	db	$1,$0,$0,$0,$0,$0
       00:0133: 00 00 
  1080                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0x0
                    1,0x00,0x00,0x00,0x00,0x00,0x00,
  1081 00:0135: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$FF,$FF,$1
       00:0139: 00 01 FF FF 
       00:013D: FF 01 
  1082 00:013F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0143: 00 00 
  1083                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1084 00:0145: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$1,$1,$0
       00:0149: 00 00 01 01 
       00:014D: 01 00 
  1085 00:014F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0153: 00 00 
  1086                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0x0
                    1,0x00,0x00,0x00,0x00,0x00,0x00,
  1087 00:0155: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$FF,$FF,$1
       00:0159: 00 01 FF FF 
       00:015D: FF 01 
  1088 00:015F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0163: 00 00 
  1089                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0x0
                    1,0x00,0x00,0x00,0x00,0x00,0x00,
  1090 00:0165: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$FF,$FF,$1
       00:0169: 00 01 FF FF 
       00:016D: FF 01 
  1091 00:016F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0173: 00 00 
  1092                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x0
                    1,0x00,0x00,0x00,0x00,0x00,0x00
  1093 00:0175: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$1,$1,$1,$1
       00:0179: 00 01 01 01 
       00:017D: 01 01 
  1094 00:017F: 00 00 00 00  	db	$0,$0,$0,$0,$0
       00:0183: 00 
  1095                        ;};
  1096 00:0184: 00           	db	$0
  1097 00:0185:              	ends
  1098                        ;
  1099                        ;CHAR FAR MOUSE_POINTER_HOURGLASS[] =
  1100                        	data
  1101                        	xdef	~~MOUSE_POINTER_HOURGLASS
  1102                        ~~MOUSE_POINTER_HOURGLASS:
  1103                        ;{
  Sat Jul 10 2021  1:15                                                Page 23


  1104                        ;		0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,
                    0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,
  1105 00:0185: 00 00 01 01  	db	$0,$0,$1,$1,$1,$1,$1,$1,$1,$1
       00:0189: 01 01 01 01 
       00:018D: 01 01 
  1106 00:018F: 01 01 01 01  	db	$1,$1,$1,$1,$0,$0
       00:0193: 00 00 
  1107                        ;		0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,
                    0xFF,0xFF,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  1108 00:0195: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0199: FF FF FF FF 
       00:019D: FF FF 
  1109 00:019F: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:01A3: 00 00 
  1110                        ;		0x00,0x00,0x01,0x01,0xFF,0x55,0x55,0x55,
                    0x55,0x55,0x55,0xFF,0x01,0x00,0x00,0x00,
  1111 00:01A5: 00 00 01 01  	db	$0,$0,$1,$1,$FF,$55,$55,$55,$55,$55
       00:01A9: FF 55 55 55 
       00:01AD: 55 55 
  1112 00:01AF: 55 FF 01 00  	db	$55,$FF,$1,$0,$0,$0
       00:01B3: 00 00 
  1113                        ;		0x00,0x00,0x00,0x01,0xFF,0xFF,0x55,0x55,
                    0x55,0x55,0xFF,0xFF,0x01,0x00,0x00,0x00,
  1114 00:01B5: 00 00 00 01  	db	$0,$0,$0,$1,$FF,$FF,$55,$55,$55,$55
       00:01B9: FF FF 55 55 
       00:01BD: 55 55 
  1115 00:01BF: FF FF 01 00  	db	$FF,$FF,$1,$0,$0,$0
       00:01C3: 00 00 
  1116                        ;		0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0x55,
                    0x55,0xFF,0xFF,0x01,0x00,0x00,0x00,0x00,
  1117 00:01C5: 00 00 00 00  	db	$0,$0,$0,$0,$1,$FF,$FF,$55,$55,$FF
       00:01C9: 01 FF FF 55 
       00:01CD: 55 FF 
  1118 00:01CF: FF 01 00 00  	db	$FF,$1,$0,$0,$0,$0
       00:01D3: 00 00 
  1119                        ;		0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0x55,
                    0x55,0xFF,0x01,0x00,0x00,0x00,0x00,0x00,
  1120 00:01D5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$55,$55,$FF
       00:01D9: 00 01 FF 55 
       00:01DD: 55 FF 
  1121 00:01DF: 01 00 00 00  	db	$1,$0,$0,$0,$0,$0
       00:01E3: 00 00 
  1122                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,
                    0x55,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
  1123 00:01E5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$FF,$55,$1
       00:01E9: 00 00 01 FF 
       00:01ED: 55 01 
  1124 00:01EF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:01F3: 00 00 
  1125                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x55,
                    0xFF,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
  1126 00:01F5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$55,$FF,$1
       00:01F9: 00 00 01 55 
       00:01FD: FF 01 
  1127 00:01FF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0203: 00 00 
  1128                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,
                    0x55,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
  Sat Jul 10 2021  1:15                                                Page 24


  1129 00:0205: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$FF,$55,$1
       00:0209: 00 00 01 FF 
       00:020D: 55 01 
  1130 00:020F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0213: 00 00 
  1131                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x55,
                    0xFF,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
  1132 00:0215: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$55,$FF,$1
       00:0219: 00 00 01 55 
       00:021D: FF 01 
  1133 00:021F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0223: 00 00 
  1134                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,
                    0x55,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
  1135 00:0225: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$FF,$55,$1
       00:0229: 00 00 01 FF 
       00:022D: 55 01 
  1136 00:022F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0233: 00 00 
  1137                        ;		0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0x55,
                    0xFF,0xFF,0x01,0x00,0x00,0x00,0x00,0x00,
  1138 00:0235: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$55,$FF,$FF
       00:0239: 00 01 FF 55 
       00:023D: FF FF 
  1139 00:023F: 01 00 00 00  	db	$1,$0,$0,$0,$0,$0
       00:0243: 00 00 
  1140                        ;		0x00,0x00,0x00,0x00,0x01,0xFF,0x55,0x55,
                    0x55,0x55,0xFF,0x01,0x00,0x00,0x00,0x00,
  1141 00:0245: 00 00 00 00  	db	$0,$0,$0,$0,$1,$FF,$55,$55,$55,$55
       00:0249: 01 FF 55 55 
       00:024D: 55 55 
  1142 00:024F: FF 01 00 00  	db	$FF,$1,$0,$0,$0,$0
       00:0253: 00 00 
  1143                        ;		0x00,0x00,0x01,0x01,0xFF,0x55,0x55,0x55,
                    0x55,0x55,0x55,0xFF,0x01,0x00,0x00,0x00,
  1144 00:0255: 00 00 01 01  	db	$0,$0,$1,$1,$FF,$55,$55,$55,$55,$55
       00:0259: FF 55 55 55 
       00:025D: 55 55 
  1145 00:025F: 55 FF 01 00  	db	$55,$FF,$1,$0,$0,$0
       00:0263: 00 00 
  1146                        ;		0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,
                    0xFF,0xFF,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  1147 00:0265: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0269: FF FF FF FF 
       00:026D: FF FF 
  1148 00:026F: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:0273: 00 00 
  1149                        ;		0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,
                    0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00
  1150 00:0275: 00 00 01 01  	db	$0,$0,$1,$1,$1,$1,$1,$1,$1,$1
       00:0279: 01 01 01 01 
       00:027D: 01 01 
  1151 00:027F: 01 01 01 01  	db	$1,$1,$1,$1,$0
       00:0283: 00 
  1152                        ;};
  1153 00:0284: 00           	db	$0
  1154 00:0285:              	ends
  1155                        ;
  Sat Jul 10 2021  1:15                                                Page 25


  1156                        ;CHAR FAR MOUSE_POINTER_ARROW[] =
  1157                        	data
  1158                        	xdef	~~MOUSE_POINTER_ARROW
  1159                        ~~MOUSE_POINTER_ARROW:
  1160                        ;{
  1161                        ;	0xFF,0x55,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1162 00:0285: FF 55 00 00  	db	$FF,$55,$0,$0,$0,$0,$0,$0,$0,$0
       00:0289: 00 00 00 00 
       00:028D: 00 00 
  1163 00:028F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0293: 00 00 
  1164                        ;	0x01,0xFF,0x55,0x55,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1165 00:0295: 01 FF 55 55  	db	$1,$FF,$55,$55,$0,$0,$0,$0,$0,$0
       00:0299: 00 00 00 00 
       00:029D: 00 00 
  1166 00:029F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02A3: 00 00 
  1167                        ;	0x00,0x01,0xFF,0xFF,0x55,0x55,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1168 00:02A5: 00 01 FF FF  	db	$0,$1,$FF,$FF,$55,$55,$0,$0,$0,$0
       00:02A9: 55 55 00 00 
       00:02AD: 00 00 
  1169 00:02AF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02B3: 00 00 
  1170                        ;	0x00,0x01,0xFF,0xFF,0xFF,0xFF,0x55,0x55,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1171 00:02B5: 00 01 FF FF  	db	$0,$1,$FF,$FF,$FF,$FF,$55,$55,$0,$0
       00:02B9: FF FF 55 55 
       00:02BD: 00 00 
  1172 00:02BF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02C3: 00 00 
  1173                        ;	0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,0x55,0x5
                    5,0x00,0x00,0x00,0x00,0x00,0x00,
  1174 00:02C5: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$55,$55
       00:02C9: FF FF FF FF 
       00:02CD: 55 55 
  1175 00:02CF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02D3: 00 00 
  1176                        ;	0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0x00,0x00,0x00,0x00,0x00,0x00,
  1177 00:02D5: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:02D9: FF FF FF FF 
       00:02DD: FF FF 
  1178 00:02DF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02E3: 00 00 
  1179                        ;	0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1180 00:02E5: 00 00 00 01  	db	$0,$0,$0,$1,$FF,$FF,$FF,$FF,$0,$0
       00:02E9: FF FF FF FF 
       00:02ED: 00 00 
  1181 00:02EF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02F3: 00 00 
  1182                        ;	0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0x55,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1183 00:02F5: 00 00 00 01  	db	$0,$0,$0,$1,$FF,$FF,$FF,$FF,$55,$0
       00:02F9: FF FF FF FF 
  Sat Jul 10 2021  1:15                                                Page 26


       00:02FD: 55 00 
  1184 00:02FF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0303: 00 00 
  1185                        ;	0x00,0x00,0x00,0x00,0x01,0xFF,0x00,0x01,0xFF,0x5
                    5,0x00,0x00,0x00,0x00,0x00,0x00,
  1186 00:0305: 00 00 00 00  	db	$0,$0,$0,$0,$1,$FF,$0,$1,$FF,$55
       00:0309: 01 FF 00 01 
       00:030D: FF 55 
  1187 00:030F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0313: 00 00 
  1188                        ;	0x00,0x00,0x00,0x00,0x01,0xFF,0x00,0x00,0x01,0xF
                    F,0x55,0x00,0x00,0x00,0x00,0x00,
  1189 00:0315: 00 00 00 00  	db	$0,$0,$0,$0,$1,$FF,$0,$0,$1,$FF
       00:0319: 01 FF 00 00 
       00:031D: 01 FF 
  1190 00:031F: 55 00 00 00  	db	$55,$0,$0,$0,$0,$0
       00:0323: 00 00 
  1191                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    1,0xFF,0x55,0x00,0x00,0x00,0x00,
  1192 00:0325: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$1
       00:0329: 00 00 00 00 
       00:032D: 00 01 
  1193 00:032F: FF 55 00 00  	db	$FF,$55,$0,$0,$0,$0
       00:0333: 00 00 
  1194                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x01,0xFF,0x00,0x00,0x00,0x00,
  1195 00:0335: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0339: 00 00 00 00 
       00:033D: 00 00 
  1196 00:033F: 01 FF 00 00  	db	$1,$FF,$0,$0,$0,$0
       00:0343: 00 00 
  1197                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1198 00:0345: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0349: 00 00 00 00 
       00:034D: 00 00 
  1199 00:034F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0353: 00 00 
  1200                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1201 00:0355: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0359: 00 00 00 00 
       00:035D: 00 00 
  1202 00:035F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0363: 00 00 
  1203                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1204 00:0365: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0369: 00 00 00 00 
       00:036D: 00 00 
  1205 00:036F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0373: 00 00 
  1206                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1207 00:0375: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0379: 00 00 00 00 
       00:037D: 00 00 
  1208 00:037F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
  Sat Jul 10 2021  1:15                                                Page 27


       00:0383: 00 00 
  1209                        ;};
  1210 00:0385:              	ends
  1211                        ;
  1212                        ;
  1213                        ;CHAR FAR MOUSE_POINTER_RESIZE[] =
  1214                        	data
  1215                        	xdef	~~MOUSE_POINTER_RESIZE
  1216                        ~~MOUSE_POINTER_RESIZE:
  1217                        ;{
  1218                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1219 00:0385: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$0,$0,$0
       00:0389: FF FF FF 00 
       00:038D: 00 00 
  1220 00:038F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0393: 00 00 
  1221                        ;	0xFF,0xFF,0x01,0x01,0x01,0x01,0x01,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1222 00:0395: FF FF 01 01  	db	$FF,$FF,$1,$1,$1,$1,$1,$0,$0,$0
       00:0399: 01 01 01 00 
       00:039D: 00 00 
  1223 00:039F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:03A3: 00 00 
  1224                        ;	0xFF,0x01,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1225 00:03A5: FF 01 FF 00  	db	$FF,$1,$FF,$0,$0,$0,$0,$0,$0,$0
       00:03A9: 00 00 00 00 
       00:03AD: 00 00 
  1226 00:03AF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:03B3: 00 00 
  1227                        ;	0xFF,0x01,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1228 00:03B5: FF 01 00 FF  	db	$FF,$1,$0,$FF,$0,$0,$0,$0,$0,$0
       00:03B9: 00 00 00 00 
       00:03BD: 00 00 
  1229 00:03BF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:03C3: 00 00 
  1230                        ;	0xFF,0x01,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1231 00:03C5: FF 01 00 00  	db	$FF,$1,$0,$0,$FF,$0,$0,$0,$0,$0
       00:03C9: FF 00 00 00 
       00:03CD: 00 00 
  1232 00:03CF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:03D3: 00 00 
  1233                        ;	0xFF,0x01,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x0
                    0,0x00,0xFF,0x01,0x00,0x00,0x00,
  1234 00:03D5: FF 01 00 00  	db	$FF,$1,$0,$0,$0,$FF,$0,$0,$0,$0
       00:03D9: 00 FF 00 00 
       00:03DD: 00 00 
  1235 00:03DF: 00 FF 01 00  	db	$0,$FF,$1,$0,$0,$0
       00:03E3: 00 00 
  1236                        ;	0xFF,0x01,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x0
                    0,0x00,0xFF,0x01,0x00,0x00,0x00,
  1237 00:03E5: FF 01 00 00  	db	$FF,$1,$0,$0,$0,$0,$FF,$0,$0,$0
       00:03E9: 00 00 FF 00 
       00:03ED: 00 00 
  1238 00:03EF: 00 FF 01 00  	db	$0,$FF,$1,$0,$0,$0
  Sat Jul 10 2021  1:15                                                Page 28


       00:03F3: 00 00 
  1239                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x0
                    0,0x00,0xFF,0x01,0x00,0x00,0x00,
  1240 00:03F5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$FF,$0,$0
       00:03F9: 00 00 00 FF 
       00:03FD: 00 00 
  1241 00:03FF: 00 FF 01 00  	db	$0,$FF,$1,$0,$0,$0
       00:0403: 00 00 
  1242                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x0
                    0,0x00,0xFF,0x01,0x00,0x00,0x00,
  1243 00:0405: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$FF,$0
       00:0409: 00 00 00 00 
       00:040D: FF 00 
  1244 00:040F: 00 FF 01 00  	db	$0,$FF,$1,$0,$0,$0
       00:0413: 00 00 
  1245                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF
                    F,0x00,0xFF,0x01,0x00,0x00,0x00,
  1246 00:0415: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$FF
       00:0419: 00 00 00 00 
       00:041D: 00 FF 
  1247 00:041F: 00 FF 01 00  	db	$0,$FF,$1,$0,$0,$0
       00:0423: 00 00 
  1248                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0xFF,0xFF,0x01,0x00,0x00,0x00,
  1249 00:0425: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0429: 00 00 00 00 
       00:042D: 00 00 
  1250 00:042F: FF FF 01 00  	db	$FF,$FF,$1,$0,$0,$0
       00:0433: 00 00 
  1251                        ;	0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0x01,0x00,0x00,0x00,
  1252 00:0435: 00 00 00 00  	db	$0,$0,$0,$0,$0,$FF,$FF,$FF,$FF,$FF
       00:0439: 00 FF FF FF 
       00:043D: FF FF 
  1253 00:043F: FF FF 01 00  	db	$FF,$FF,$1,$0,$0,$0
       00:0443: 00 00 
  1254                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x0
                    1,0x01,0x01,0x01,0x00,0x00,0x00,
  1255 00:0445: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$1,$1,$1,$1
       00:0449: 00 01 01 01 
       00:044D: 01 01 
  1256 00:044F: 01 01 01 00  	db	$1,$1,$1,$0,$0,$0
       00:0453: 00 00 
  1257                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1258 00:0455: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0459: 00 00 00 00 
       00:045D: 00 00 
  1259 00:045F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0463: 00 00 
  1260                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1261 00:0465: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0469: 00 00 00 00 
       00:046D: 00 00 
  1262 00:046F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0473: 00 00 
  1263                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
  Sat Jul 10 2021  1:15                                                Page 29


                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1264 00:0475: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0479: 00 00 00 00 
       00:047D: 00 00 
  1265 00:047F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0483: 00 00 
  1266                        ;};
  1267 00:0485:              	ends
  1268                        ;
  1269                        ;/*
  1270                        ;CHAR FAR MOUSE_POINTER_RESIZE[] =
  1271                        ;{
  1272                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1273                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1274                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1275                        ;	0x00,0x00,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1276                        ;	0x00,0x00,0xFF,0xFF,0x01,0x01,0x01,0x01,0x01,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1277                        ;	0x00,0x00,0xFF,0x01,0xFF,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1278                        ;	0x00,0x00,0xFF,0x01,0x00,0xFF,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1279                        ;	0x00,0x00,0xFF,0x01,0x00,0x00,0xFF,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1280                        ;	0x00,0x00,0xFF,0x01,0x00,0x00,0x00,0xFF,0x00,0x0
                    0,0x00,0x00,0x00,0xFF,0x01,0x00,
  1281                        ;	0x00,0x00,0xFF,0x01,0x00,0x00,0x00,0x00,0xFF,0x0
                    0,0x00,0x00,0x00,0xFF,0x01,0x00,
  1282                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF
                    F,0x00,0x00,0x00,0xFF,0x01,0x00,
  1283                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0xFF,0x00,0x00,0xFF,0x01,0x00,
  1284                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0xFF,0x00,0xFF,0x01,0x00,
  1285                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0xFF,0xFF,0x01,0x00,
  1286                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0x01,0x00,
  1287                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x0
                    1,0x01,0x01,0x01,0x01,0x01,0x00,
  1288                        ;};
  1289                        ; */
  1290                        ;
  1291                        ;CHAR FAR MOUSE_POINTER_EMPTY[] =
  1292                        	data
  1293                        	xdef	~~MOUSE_POINTER_EMPTY
  1294                        ~~MOUSE_POINTER_EMPTY:
  1295                        ;{
  1296                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1297 00:0485: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0489: 00 00 00 00 
       00:048D: 00 00 
  1298 00:048F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
  Sat Jul 10 2021  1:15                                                Page 30


       00:0493: 00 00 
  1299                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1300 00:0495: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0499: 00 00 00 00 
       00:049D: 00 00 
  1301 00:049F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04A3: 00 00 
  1302                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1303 00:04A5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:04A9: 00 00 00 00 
       00:04AD: 00 00 
  1304 00:04AF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04B3: 00 00 
  1305                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1306 00:04B5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:04B9: 00 00 00 00 
       00:04BD: 00 00 
  1307 00:04BF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04C3: 00 00 
  1308                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1309 00:04C5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:04C9: 00 00 00 00 
       00:04CD: 00 00 
  1310 00:04CF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04D3: 00 00 
  1311                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1312 00:04D5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:04D9: 00 00 00 00 
       00:04DD: 00 00 
  1313 00:04DF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04E3: 00 00 
  1314                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1315 00:04E5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:04E9: 00 00 00 00 
       00:04ED: 00 00 
  1316 00:04EF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04F3: 00 00 
  1317                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1318 00:04F5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:04F9: 00 00 00 00 
       00:04FD: 00 00 
  1319 00:04FF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0503: 00 00 
  1320                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1321 00:0505: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0509: 00 00 00 00 
       00:050D: 00 00 
  1322 00:050F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0513: 00 00 
  1323                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
  Sat Jul 10 2021  1:15                                                Page 31


                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1324 00:0515: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0519: 00 00 00 00 
       00:051D: 00 00 
  1325 00:051F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0523: 00 00 
  1326                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1327 00:0525: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0529: 00 00 00 00 
       00:052D: 00 00 
  1328 00:052F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0533: 00 00 
  1329                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1330 00:0535: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0539: 00 00 00 00 
       00:053D: 00 00 
  1331 00:053F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0543: 00 00 
  1332                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1333 00:0545: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0549: 00 00 00 00 
       00:054D: 00 00 
  1334 00:054F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0553: 00 00 
  1335                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1336 00:0555: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0559: 00 00 00 00 
       00:055D: 00 00 
  1337 00:055F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0563: 00 00 
  1338                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1339 00:0565: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0569: 00 00 00 00 
       00:056D: 00 00 
  1340 00:056F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0573: 00 00 
  1341                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00
  1342 00:0575: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0579: 00 00 00 00 
       00:057D: 00 00 
  1343 00:057F: 00 00 00 00  	db	$0,$0,$0,$0,$0
       00:0583: 00 
  1344                        ;};
  1345 00:0584: 00           	db	$0
  1346 00:0585:              	ends
  1347                        ;
  1348                        ;static CHAR BG_FILL_LINE_ODD[] =
  1349                        	data
  1350                        ~~BG_FILL_LINE_ODD:
  1351                        ;{
  1352                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1353 00:0585: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
  Sat Jul 10 2021  1:15                                                Page 32


       00:0589: AA AA AA AA 
  1354                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1355 00:058D: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:0591: AA AA AA AA 
  1356                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1357 00:0595: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:0599: AA AA AA AA 
  1358                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1359 00:059D: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:05A1: AA AA AA AA 
  1360                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1361 00:05A5: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:05A9: AA AA AA AA 
  1362                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1363 00:05AD: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:05B1: AA AA AA AA 
  1364                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1365 00:05B5: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:05B9: AA AA AA AA 
  1366                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1367 00:05BD: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:05C1: AA AA AA AA 
  1368                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1369 00:05C5: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:05C9: AA AA AA AA 
  1370                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA
  1371 00:05CD: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:05D1: AA AA AA 
  1372                        ;};
  1373 00:05D4: AA           	db	$AA
  1374 00:05D5:              	ends
  1375                        ;
  1376                        ;static CHAR BG_FILL_LINE_EVEN[] =
  1377                        	data
  1378                        ~~BG_FILL_LINE_EVEN:
  1379                        ;{
  1380                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1381 00:05D5: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:05D9: 55 55 55 55 
  1382                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1383 00:05DD: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:05E1: 55 55 55 55 
  1384                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1385 00:05E5: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:05E9: 55 55 55 55 
  1386                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1387 00:05ED: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:05F1: 55 55 55 55 
  1388                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1389 00:05F5: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:05F9: 55 55 55 55 
  1390                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1391 00:05FD: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:0601: 55 55 55 55 
  1392                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1393 00:0605: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:0609: 55 55 55 55 
  1394                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  Sat Jul 10 2021  1:15                                                Page 33


  1395 00:060D: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:0611: 55 55 55 55 
  1396                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1397 00:0615: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:0619: 55 55 55 55 
  1398                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55
  1399 00:061D: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55
       00:0621: 55 55 55 
  1400                        ;};
  1401 00:0624: 55           	db	$55
  1402 00:0625:              	ends
  1403                        ;
  1404                        ;
  1405                        ;static CUR_PALETTE_MAP _k_currentPalatte;
  1406                        ;
  1407                        ;#define GRP_LUT_BASE_ADDR GRPH_LUT0_PTR
  1408                        ;
  1409                        ;#define GUI_CACHE_RESERVE1  (0)
  1410                        ;#define GUI_CACHE_RESERVE2  (2)
  1411                        ;#define GUI_CACHE_START     (4)
  1412                        ;#define GUI_CACHE_FRONT		((ULONG)0x000000
                    )
  1413                        ;#define GUI_CACHE_BACK		((ULONG)0x080000
                    )
  1414                        ;//#define GUI_CACHE_PAGE		((ULONG)0x100000
                    )
  1415                        ;// testing
  1416                        ;#define GUI_CACHE_PAGE		((ULONG)0x100000
                    )
  1417                        ;
  1418                        ;#define GUI_CACHE_WIDTH		(320)
  1419                        ;#define GUI_CACHE_HEIGHT	(16)
  1420                        ;//
  1421                        ;#define GUI_CACHE_SIZE		(60)
  1422                        ;#define GUI_CACHE_PAGE_OFFSET(s)   ((5120L * ((LO
                    NG)s - (LONG)(s % 2))) + 320L * (LONG)(s % 2))
  1423                        ;
  1424                        ;static BYTE _k_guiCacheSlots[GUI_CACHE_SIZE];
  1425                        ;
  1426                        ;#pragma section CODE=GFX,offset $06:0000
  1427                        GFX	section	offset $06:0000
  1428 06:0000:              	ends
  1429                        ;
  1430                        ;PRECT k_new_RECT(LPCSTR name, int x,int y,int wid
                    th,int height, int z, int scaler)
  1431                        ;{
  1432                        	.line	255
  1433                        	.line	256
  1434                        	GFX
  1435                        	xdef	~~k_new_RECT
  1436                        	func
  1437                        	.function	256
  1438                        ~~k_new_RECT:
  1439                        	longa	on
  1440                        	longi	on
  1441 06:0000: 3B           	tsc
  1442 06:0001: 38           	sec
  1443 06:0002: E9 08 00     	sbc	#L2
  Sat Jul 10 2021  1:15                                                Page 34


  1444 06:0005: 1B           	tcs
  1445 06:0006: 0B           	phd
  1446 06:0007: 5B           	tcd
  1447             00000004   name_0	set	4
  1448             00000008   x_0	set	8
  1449             0000000A   y_0	set	10
  1450             0000000C   width_0	set	12
  1451             0000000E   height_0	set	14
  1452             00000010   z_0	set	16
  1453             00000012   scaler_0	set	18
  1454                        	.block	256
  1455                        ;	PRECT r = k_mem_allocate_heap(sizeof(RECT));
  1456                        ;	if(r)
  1457             00000000   r_1	set	0
  1458                        	.sym	r,0,138,1,32,26
  1459                        	.sym	name,4,142,6,32
  1460                        	.sym	x,8,5,6,16
  1461                        	.sym	y,10,5,6,16
  1462                        	.sym	width,12,5,6,16
  1463                        	.sym	height,14,5,6,16
  1464                        	.sym	z,16,5,6,16
  1465                        	.sym	scaler,18,5,6,16
  1466 06:0008: F4 0E 00     	pea	#<$e
  1467 06:000B: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  1468 06:000F: 85 05        	sta	<L3+r_1
  1469 06:0011: 86 07        	stx	<L3+r_1+2
  1470                        	.line	258
  1471                        ;	{
  1472 06:0013: A5 05        	lda	<L3+r_1
  1473 06:0015: 05 07        	ora	<L3+r_1+2
  1474 06:0017: D0 03        	bne	L5
  1475 06:0019: 82 1A 00     	brl	L10001
  1476                        L5:
  1477                        	.line	259
  1478                        ;		r->z = z;
  1479                        	.line	260
  1480 06:001C: A0 00 00     	ldy	#$0
  1481 06:001F: A5 18        	lda	<L2+z_0
  1482 06:0021: 10 01        	bpl	L6
  1483 06:0023: 88           	dey
  1484                        L6:
  1485 06:0024: 85 01        	sta	<R0
  1486 06:0026: 84 03        	sty	<R0+2
  1487 06:0028: A5 01        	lda	<R0
  1488 06:002A: A0 04 00     	ldy	#$4
  1489 06:002D: 97 05        	sta	[<L3+r_1],Y
  1490 06:002F: A5 03        	lda	<R0+2
  1491 06:0031: A0 06 00     	ldy	#$6
  1492 06:0034: 97 05        	sta	[<L3+r_1],Y
  1493                        ;		//r->scaler = scaler;
  1494                        ;		r->x;
  1495                        	.line	262
  1496                        ;		r->y;
  1497                        	.line	263
  1498                        ;		r->width;
  1499                        	.line	264
  1500                        ;		r->height;
  1501                        	.line	265
  Sat Jul 10 2021  1:15                                                Page 35


  1502                        ;		/*
  1503                        ;		r->z = z;
  1504                        ;		r->scaler = scaler;
  1505                        ;		r->x/scaler+(i),
  1506                        ;		r->y/scaler+(j),
  1507                        ;		r->width/scaler - ((k + i)),
  1508                        ;		r->height/scaler - ((l + j)));
  1509                        ;		*/
  1510                        ;	}
  1511                        	.line	274
  1512                        ;	return r;
  1513                        L10001:
  1514                        	.line	275
  1515 06:0036: A6 07        	ldx	<L3+r_1+2
  1516 06:0038: A5 05        	lda	<L3+r_1
  1517                        L7:
  1518 06:003A: A8           	tay
  1519 06:003B: A5 0A        	lda	<L2+2
  1520 06:003D: 85 1A        	sta	<L2+2+16
  1521 06:003F: A5 09        	lda	<L2+1
  1522 06:0041: 85 19        	sta	<L2+1+16
  1523 06:0043: 2B           	pld
  1524 06:0044: 3B           	tsc
  1525 06:0045: 18           	clc
  1526 06:0046: 69 18 00     	adc	#L2+16
  1527 06:0049: 1B           	tcs
  1528 06:004A: 98           	tya
  1529 06:004B: 6B           	rtl
  1530                        ;}
  1531                        	.line	276
  1532                        	.endblock	276
  1533             00000008   L2	equ	8
  1534             00000005   L3	equ	5
  1535 06:004C:              	ends
  1536                        	efunc
  1537                        	.endfunc	276,5,8
  1538                        	.line	276
  1539                        ;
  1540                        ;PRECTP k_new_RECTP(LPCSTR name, int x,int y,int w
                    idth,int height)
  1541                        ;{
  1542                        	.line	278
  1543                        	.line	279
  1544                        	GFX
  1545                        	xdef	~~k_new_RECTP
  1546                        	func
  1547                        	.function	279
  1548                        ~~k_new_RECTP:
  1549                        	longa	on
  1550                        	longi	on
  1551 06:004C: 3B           	tsc
  1552 06:004D: 38           	sec
  1553 06:004E: E9 04 00     	sbc	#L8
  1554 06:0051: 1B           	tcs
  1555 06:0052: 0B           	phd
  1556 06:0053: 5B           	tcd
  1557             00000004   name_0	set	4
  1558             00000008   x_0	set	8
  Sat Jul 10 2021  1:15                                                Page 36


  1559             0000000A   y_0	set	10
  1560             0000000C   width_0	set	12
  1561             0000000E   height_0	set	14
  1562                        	.block	279
  1563                        ;	PRECTP r = k_mem_allocate_heap(sizeof(PRECTP));
  1564                        ;	if(r)
  1565             00000000   r_1	set	0
  1566                        	.sym	r,0,138,1,32,27
  1567                        	.sym	name,4,142,6,32
  1568                        	.sym	x,8,5,6,16
  1569                        	.sym	y,10,5,6,16
  1570                        	.sym	width,12,5,6,16
  1571                        	.sym	height,14,5,6,16
  1572 06:0054: F4 04 00     	pea	#<$4
  1573 06:0057: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  1574 06:005B: 85 01        	sta	<L9+r_1
  1575 06:005D: 86 03        	stx	<L9+r_1+2
  1576                        	.line	281
  1577                        ;	{
  1578 06:005F: A5 01        	lda	<L9+r_1
  1579 06:0061: 05 03        	ora	<L9+r_1+2
  1580 06:0063: D0 03        	bne	L11
  1581 06:0065: 82 22 00     	brl	L10002
  1582                        L11:
  1583                        	.line	282
  1584                        ;		r->topLeft.x = x;
  1585                        	.line	283
  1586 06:0068: A5 0C        	lda	<L8+x_0
  1587 06:006A: A0 04 00     	ldy	#$4
  1588 06:006D: 97 01        	sta	[<L9+r_1],Y
  1589                        ;		r->topLeft.y = y;
  1590                        	.line	284
  1591 06:006F: A5 0E        	lda	<L8+y_0
  1592 06:0071: A0 06 00     	ldy	#$6
  1593 06:0074: 97 01        	sta	[<L9+r_1],Y
  1594                        ;
  1595                        ;		r->bottomRight.x = x + width;
  1596                        	.line	286
  1597 06:0076: 18           	clc
  1598 06:0077: A5 0C        	lda	<L8+x_0
  1599 06:0079: 65 10        	adc	<L8+width_0
  1600 06:007B: A0 08 00     	ldy	#$8
  1601 06:007E: 97 01        	sta	[<L9+r_1],Y
  1602                        ;		r->bottomRight.y = y + height;
  1603                        	.line	287
  1604 06:0080: 18           	clc
  1605 06:0081: A5 0E        	lda	<L8+y_0
  1606 06:0083: 65 12        	adc	<L8+height_0
  1607 06:0085: A0 0A 00     	ldy	#$a
  1608 06:0088: 97 01        	sta	[<L9+r_1],Y
  1609                        ;	}
  1610                        	.line	288
  1611                        ;	return r;
  1612                        L10002:
  1613                        	.line	289
  1614 06:008A: A6 03        	ldx	<L9+r_1+2
  1615 06:008C: A5 01        	lda	<L9+r_1
  1616                        L12:
  Sat Jul 10 2021  1:15                                                Page 37


  1617 06:008E: A8           	tay
  1618 06:008F: A5 06        	lda	<L8+2
  1619 06:0091: 85 12        	sta	<L8+2+12
  1620 06:0093: A5 05        	lda	<L8+1
  1621 06:0095: 85 11        	sta	<L8+1+12
  1622 06:0097: 2B           	pld
  1623 06:0098: 3B           	tsc
  1624 06:0099: 18           	clc
  1625 06:009A: 69 10 00     	adc	#L8+12
  1626 06:009D: 1B           	tcs
  1627 06:009E: 98           	tya
  1628 06:009F: 6B           	rtl
  1629                        ;}
  1630                        	.line	290
  1631                        	.endblock	290
  1632             00000004   L8	equ	4
  1633             00000001   L9	equ	1
  1634 06:00A0:              	ends
  1635                        	efunc
  1636                        	.endfunc	290,1,4
  1637                        	.line	290
  1638                        ;
  1639                        ;/*
  1640                        ;RECT(r.name + "-child",
  1641                        ;							
                    r.x/RECT.scaler+(i),
  1642                        ;							
                    r.y/RECT.scaler+(j),
  1643                        ;							
                    r.width/RECT.scaler - ((k + i)),
  1644                        ;							
                    r.height/RECT.scaler - ((l + j)));
  1645                        ;*/
  1646                        ;VOID k_ToRECT(PRECTP prectp,PRECT prect,LPCSTR na
                    me)
  1647                        ;{
  1648                        	.line	299
  1649                        	.line	300
  1650                        	GFX
  1651                        	xdef	~~k_ToRECT
  1652                        	func
  1653                        	.function	300
  1654                        ~~k_ToRECT:
  1655                        	longa	on
  1656                        	longi	on
  1657 06:00A0: 3B           	tsc
  1658 06:00A1: 38           	sec
  1659 06:00A2: E9 00 00     	sbc	#L13
  1660 06:00A5: 1B           	tcs
  1661 06:00A6: 0B           	phd
  1662 06:00A7: 5B           	tcd
  1663             00000004   prectp_0	set	4
  1664             00000008   prect_0	set	8
  1665             0000000C   name_0	set	12
  1666                        	.block	300
  1667                        ;	if(prect && prectp)
  1668                        	.sym	prectp,4,138,6,32,27
  1669                        	.sym	prect,8,138,6,32,26
  Sat Jul 10 2021  1:15                                                Page 38


  1670                        	.sym	name,12,142,6,32
  1671                        	.line	301
  1672                        ;	{
  1673 06:00A8: A5 08        	lda	<L13+prect_0
  1674 06:00AA: 05 0A        	ora	<L13+prect_0+2
  1675 06:00AC: D0 03        	bne	L16
  1676 06:00AE: 82 3A 00     	brl	L10003
  1677                        L16:
  1678 06:00B1: A5 04        	lda	<L13+prectp_0
  1679 06:00B3: 05 06        	ora	<L13+prectp_0+2
  1680 06:00B5: D0 03        	bne	L17
  1681 06:00B7: 82 31 00     	brl	L10003
  1682                        L17:
  1683                        	.line	302
  1684                        ;
  1685                        ;		prect->x = prectp->topLeft.x;
  1686                        	.line	304
  1687 06:00BA: A0 04 00     	ldy	#$4
  1688 06:00BD: B7 04        	lda	[<L13+prectp_0],Y
  1689 06:00BF: 87 08        	sta	[<L13+prect_0]
  1690                        ;		prect->y = prectp->topLeft.y;
  1691                        	.line	305
  1692 06:00C1: A0 06 00     	ldy	#$6
  1693 06:00C4: B7 04        	lda	[<L13+prectp_0],Y
  1694 06:00C6: A0 02 00     	ldy	#$2
  1695 06:00C9: 97 08        	sta	[<L13+prect_0],Y
  1696                        ;
  1697                        ;		prect->width  = prectp->bottomRight.x - 
                    prectp->topLeft.x;
  1698                        	.line	307
  1699 06:00CB: 38           	sec
  1700 06:00CC: A0 08 00     	ldy	#$8
  1701 06:00CF: B7 04        	lda	[<L13+prectp_0],Y
  1702 06:00D1: A0 04 00     	ldy	#$4
  1703 06:00D4: F7 04        	sbc	[<L13+prectp_0],Y
  1704 06:00D6: A0 08 00     	ldy	#$8
  1705 06:00D9: 97 08        	sta	[<L13+prect_0],Y
  1706                        ;		prect->height = prectp->bottomRight.y - 
                    prectp->topLeft.y;
  1707                        	.line	308
  1708 06:00DB: 38           	sec
  1709 06:00DC: A0 0A 00     	ldy	#$a
  1710 06:00DF: B7 04        	lda	[<L13+prectp_0],Y
  1711 06:00E1: A0 06 00     	ldy	#$6
  1712 06:00E4: F7 04        	sbc	[<L13+prectp_0],Y
  1713 06:00E6: A0 0A 00     	ldy	#$a
  1714 06:00E9: 97 08        	sta	[<L13+prect_0],Y
  1715                        ;
  1716                        ;	}
  1717                        	.line	310
  1718                        ;}
  1719                        L10003:
  1720                        	.line	311
  1721                        L18:
  1722 06:00EB: A5 02        	lda	<L13+2
  1723 06:00ED: 85 0E        	sta	<L13+2+12
  1724 06:00EF: A5 01        	lda	<L13+1
  1725 06:00F1: 85 0D        	sta	<L13+1+12
  Sat Jul 10 2021  1:15                                                Page 39


  1726 06:00F3: 2B           	pld
  1727 06:00F4: 3B           	tsc
  1728 06:00F5: 18           	clc
  1729 06:00F6: 69 0C 00     	adc	#L13+12
  1730 06:00F9: 1B           	tcs
  1731 06:00FA: 6B           	rtl
  1732                        	.endblock	311
  1733             00000000   L13	equ	0
  1734             00000001   L14	equ	1
  1735 06:00FB:              	ends
  1736                        	efunc
  1737                        	.endfunc	311,1,0
  1738                        	.line	311
  1739                        ;
  1740                        ;VOID k_ToRECTP(PRECT pr,PRECTP prectp)
  1741                        ;{
  1742                        	.line	313
  1743                        	.line	314
  1744                        	GFX
  1745                        	xdef	~~k_ToRECTP
  1746                        	func
  1747                        	.function	314
  1748                        ~~k_ToRECTP:
  1749                        	longa	on
  1750                        	longi	on
  1751 06:00FB: 3B           	tsc
  1752 06:00FC: 38           	sec
  1753 06:00FD: E9 00 00     	sbc	#L19
  1754 06:0100: 1B           	tcs
  1755 06:0101: 0B           	phd
  1756 06:0102: 5B           	tcd
  1757             00000004   pr_0	set	4
  1758             00000008   prectp_0	set	8
  1759                        	.block	314
  1760                        ;	if(pr && prectp)
  1761                        	.sym	pr,4,138,6,32,26
  1762                        	.sym	prectp,8,138,6,32,27
  1763                        	.line	315
  1764                        ;	{
  1765 06:0103: A5 04        	lda	<L19+pr_0
  1766 06:0105: 05 06        	ora	<L19+pr_0+2
  1767 06:0107: D0 03        	bne	L22
  1768 06:0109: 82 37 00     	brl	L10004
  1769                        L22:
  1770 06:010C: A5 08        	lda	<L19+prectp_0
  1771 06:010E: 05 0A        	ora	<L19+prectp_0+2
  1772 06:0110: D0 03        	bne	L23
  1773 06:0112: 82 2E 00     	brl	L10004
  1774                        L23:
  1775                        	.line	316
  1776                        ;		prectp->topLeft.x = pr->x;
  1777                        	.line	317
  1778 06:0115: A7 04        	lda	[<L19+pr_0]
  1779 06:0117: A0 04 00     	ldy	#$4
  1780 06:011A: 97 08        	sta	[<L19+prectp_0],Y
  1781                        ;		prectp->topLeft.y = pr->y;
  1782                        	.line	318
  1783 06:011C: A0 02 00     	ldy	#$2
  Sat Jul 10 2021  1:15                                                Page 40


  1784 06:011F: B7 04        	lda	[<L19+pr_0],Y
  1785 06:0121: A0 06 00     	ldy	#$6
  1786 06:0124: 97 08        	sta	[<L19+prectp_0],Y
  1787                        ;
  1788                        ;		prectp->bottomRight.x = pr->x + pr->widt
                    h;
  1789                        	.line	320
  1790 06:0126: 18           	clc
  1791 06:0127: A7 04        	lda	[<L19+pr_0]
  1792 06:0129: A0 08 00     	ldy	#$8
  1793 06:012C: 77 04        	adc	[<L19+pr_0],Y
  1794 06:012E: A0 08 00     	ldy	#$8
  1795 06:0131: 97 08        	sta	[<L19+prectp_0],Y
  1796                        ;		prectp->bottomRight.y = pr->y + pr->heig
                    ht;
  1797                        	.line	321
  1798 06:0133: 18           	clc
  1799 06:0134: A0 02 00     	ldy	#$2
  1800 06:0137: B7 04        	lda	[<L19+pr_0],Y
  1801 06:0139: A0 0A 00     	ldy	#$a
  1802 06:013C: 77 04        	adc	[<L19+pr_0],Y
  1803 06:013E: A0 0A 00     	ldy	#$a
  1804 06:0141: 97 08        	sta	[<L19+prectp_0],Y
  1805                        ;	}
  1806                        	.line	322
  1807                        ;}
  1808                        L10004:
  1809                        	.line	323
  1810                        L24:
  1811 06:0143: A5 02        	lda	<L19+2
  1812 06:0145: 85 0A        	sta	<L19+2+8
  1813 06:0147: A5 01        	lda	<L19+1
  1814 06:0149: 85 09        	sta	<L19+1+8
  1815 06:014B: 2B           	pld
  1816 06:014C: 3B           	tsc
  1817 06:014D: 18           	clc
  1818 06:014E: 69 08 00     	adc	#L19+8
  1819 06:0151: 1B           	tcs
  1820 06:0152: 6B           	rtl
  1821                        	.endblock	323
  1822             00000000   L19	equ	0
  1823             00000001   L20	equ	1
  1824 06:0153:              	ends
  1825                        	efunc
  1826                        	.endfunc	323,1,0
  1827                        	.line	323
  1828                        ;
  1829                        ;
  1830                        ;VOID k_gui_init_image_cache_slot()
  1831                        ;{
  1832                        	.line	326
  1833                        	.line	327
  1834                        	GFX
  1835                        	xdef	~~k_gui_init_image_cache_slot
  1836                        	func
  1837                        	.function	327
  1838                        ~~k_gui_init_image_cache_slot:
  1839                        	longa	on
  Sat Jul 10 2021  1:15                                                Page 41


  1840                        	longi	on
  1841 06:0153: 3B           	tsc
  1842 06:0154: 38           	sec
  1843 06:0155: E9 02 00     	sbc	#L25
  1844 06:0158: 1B           	tcs
  1845 06:0159: 0B           	phd
  1846 06:015A: 5B           	tcd
  1847                        	.block	327
  1848                        ;	int i = 0;
  1849                        ;
  1850                        ;	for(i=0;i<GUI_CACHE_SIZE;i++)
  1851             00000000   i_1	set	0
  1852                        	.sym	i,0,5,1,16
  1853 06:015B: 64 01        	stz	<L26+i_1
  1854                        	.line	330
  1855 06:015D: 64 01        	stz	<L26+i_1
  1856                        L10007:
  1857                        ;		_k_guiCacheSlots[i] = FALSE;
  1858                        	.line	331
  1859 06:015F: E2 20        	sep	#$20
  1860                        	longa	off
  1861 06:0161: A9 00        	lda	#$0
  1862 06:0163: A6 01        	ldx	<L26+i_1
  1863 06:0165: 9D xx xx     	sta	|~~_k_guiCacheSlots,X
  1864 06:0168: C2 20        	rep	#$20
  1865                        	longa	on
  1866                        L10005:
  1867 06:016A: E6 01        	inc	<L26+i_1
  1868 06:016C: 38           	sec
  1869 06:016D: A5 01        	lda	<L26+i_1
  1870 06:016F: E9 3C 00     	sbc	#<$3c
  1871 06:0172: 70 03        	bvs	L28
  1872 06:0174: 49 00 80     	eor	#$8000
  1873                        L28:
  1874 06:0177: 30 03        	bmi	L29
  1875 06:0179: 82 E3 FF     	brl	L10007
  1876                        L29:
  1877                        L10006:
  1878                        ;}
  1879                        	.line	332
  1880                        L30:
  1881 06:017C: 2B           	pld
  1882 06:017D: 3B           	tsc
  1883 06:017E: 18           	clc
  1884 06:017F: 69 02 00     	adc	#L25
  1885 06:0182: 1B           	tcs
  1886 06:0183: 6B           	rtl
  1887                        	.endblock	332
  1888             00000002   L25	equ	2
  1889             00000001   L26	equ	1
  1890 06:0184:              	ends
  1891                        	efunc
  1892                        	.endfunc	332,1,2
  1893                        	.line	332
  1894                        ;
  1895                        ;UINT k_gui_alloc_image_cache_slot()
  1896                        ;{
  1897                        	.line	334
  Sat Jul 10 2021  1:15                                                Page 42


  1898                        	.line	335
  1899                        	GFX
  1900                        	xdef	~~k_gui_alloc_image_cache_slot
  1901                        	func
  1902                        	.function	335
  1903                        ~~k_gui_alloc_image_cache_slot:
  1904                        	longa	on
  1905                        	longi	on
  1906 06:0184: 3B           	tsc
  1907 06:0185: 38           	sec
  1908 06:0186: E9 04 00     	sbc	#L31
  1909 06:0189: 1B           	tcs
  1910 06:018A: 0B           	phd
  1911 06:018B: 5B           	tcd
  1912                        	.block	335
  1913                        ;	UINT index = -1;
  1914                        ;	int i = 0;
  1915                        ;
  1916                        ;	for(i=GUI_CACHE_START;i<GUI_CACHE_SIZE;i++)
  1917             00000000   index_1	set	0
  1918             00000002   i_1	set	2
  1919                        	.sym	index,0,16,1,16
  1920                        	.sym	i,2,5,1,16
  1921 06:018C: A9 FF FF     	lda	#$ffff
  1922 06:018F: 85 01        	sta	<L32+index_1
  1923 06:0191: 64 03        	stz	<L32+i_1
  1924                        	.line	339
  1925 06:0193: A9 04 00     	lda	#$4
  1926 06:0196: 85 03        	sta	<L32+i_1
  1927                        L10010:
  1928                        ;	{
  1929                        	.line	340
  1930                        ;		if(!_k_guiCacheSlots[i])
  1931                        	.line	341
  1932                        ;		{
  1933 06:0198: A6 03        	ldx	<L32+i_1
  1934 06:019A: BD xx xx     	lda	|~~_k_guiCacheSlots,X
  1935 06:019D: 29 FF 00     	and	#$ff
  1936 06:01A0: F0 03        	beq	L34
  1937 06:01A2: 82 12 00     	brl	L10011
  1938                        L34:
  1939                        	.line	342
  1940                        ;			_k_guiCacheSlots[i] = TRUE;
  1941                        	.line	343
  1942 06:01A5: E2 20        	sep	#$20
  1943                        	longa	off
  1944 06:01A7: A9 01        	lda	#$1
  1945 06:01A9: A6 03        	ldx	<L32+i_1
  1946 06:01AB: 9D xx xx     	sta	|~~_k_guiCacheSlots,X
  1947 06:01AE: C2 20        	rep	#$20
  1948                        	longa	on
  1949                        ;			index = i;
  1950                        	.line	344
  1951 06:01B0: A5 03        	lda	<L32+i_1
  1952 06:01B2: 85 01        	sta	<L32+index_1
  1953                        ;			break;
  1954                        	.line	345
  1955 06:01B4: 82 12 00     	brl	L10009
  Sat Jul 10 2021  1:15                                                Page 43


  1956                        ;		}
  1957                        	.line	346
  1958                        ;	}
  1959                        L10011:
  1960                        	.line	347
  1961                        L10008:
  1962 06:01B7: E6 03        	inc	<L32+i_1
  1963 06:01B9: 38           	sec
  1964 06:01BA: A5 03        	lda	<L32+i_1
  1965 06:01BC: E9 3C 00     	sbc	#<$3c
  1966 06:01BF: 70 03        	bvs	L35
  1967 06:01C1: 49 00 80     	eor	#$8000
  1968                        L35:
  1969 06:01C4: 30 03        	bmi	L36
  1970 06:01C6: 82 CF FF     	brl	L10010
  1971                        L36:
  1972                        L10009:
  1973                        ;
  1974                        ;	//k_debug_integer("k_gui_alloc_image_cache_slot:
                    index:",index);
  1975                        ;
  1976                        ;	return index;
  1977                        	.line	351
  1978 06:01C9: A5 01        	lda	<L32+index_1
  1979                        L37:
  1980 06:01CB: A8           	tay
  1981 06:01CC: 2B           	pld
  1982 06:01CD: 3B           	tsc
  1983 06:01CE: 18           	clc
  1984 06:01CF: 69 04 00     	adc	#L31
  1985 06:01D2: 1B           	tcs
  1986 06:01D3: 98           	tya
  1987 06:01D4: 6B           	rtl
  1988                        ;}
  1989                        	.line	352
  1990                        	.endblock	352
  1991             00000004   L31	equ	4
  1992             00000001   L32	equ	1
  1993 06:01D5:              	ends
  1994                        	efunc
  1995                        	.endfunc	352,1,4
  1996                        	.line	352
  1997                        ;
  1998                        ;VOID k_gui_free_image_cache_slot(UINT slotIndex)
  1999                        ;{
  2000                        	.line	354
  2001                        	.line	355
  2002                        	GFX
  2003                        	xdef	~~k_gui_free_image_cache_slot
  2004                        	func
  2005                        	.function	355
  2006                        ~~k_gui_free_image_cache_slot:
  2007                        	longa	on
  2008                        	longi	on
  2009 06:01D5: 3B           	tsc
  2010 06:01D6: 38           	sec
  2011 06:01D7: E9 00 00     	sbc	#L38
  2012 06:01DA: 1B           	tcs
  Sat Jul 10 2021  1:15                                                Page 44


  2013 06:01DB: 0B           	phd
  2014 06:01DC: 5B           	tcd
  2015             00000004   slotIndex_0	set	4
  2016                        	.block	355
  2017                        ;	if(slotIndex >= GUI_CACHE_START)
  2018                        	.sym	slotIndex,4,16,6,16
  2019                        	.line	356
  2020                        ;		_k_guiCacheSlots[slotIndex] = FALSE;
  2021 06:01DD: A5 04        	lda	<L38+slotIndex_0
  2022 06:01DF: C9 04 00     	cmp	#<$4
  2023 06:01E2: B0 03        	bcs	L41
  2024 06:01E4: 82 0B 00     	brl	L10012
  2025                        L41:
  2026                        	.line	357
  2027 06:01E7: E2 20        	sep	#$20
  2028                        	longa	off
  2029 06:01E9: A9 00        	lda	#$0
  2030 06:01EB: A6 04        	ldx	<L38+slotIndex_0
  2031 06:01ED: 9D xx xx     	sta	|~~_k_guiCacheSlots,X
  2032 06:01F0: C2 20        	rep	#$20
  2033                        	longa	on
  2034                        ;}
  2035                        L10012:
  2036                        	.line	358
  2037                        L42:
  2038 06:01F2: A5 02        	lda	<L38+2
  2039 06:01F4: 85 04        	sta	<L38+2+2
  2040 06:01F6: A5 01        	lda	<L38+1
  2041 06:01F8: 85 03        	sta	<L38+1+2
  2042 06:01FA: 2B           	pld
  2043 06:01FB: 3B           	tsc
  2044 06:01FC: 18           	clc
  2045 06:01FD: 69 02 00     	adc	#L38+2
  2046 06:0200: 1B           	tcs
  2047 06:0201: 6B           	rtl
  2048                        	.endblock	358
  2049             00000000   L38	equ	0
  2050             00000001   L39	equ	1
  2051 06:0202:              	ends
  2052                        	efunc
  2053                        	.endfunc	358,1,0
  2054                        	.line	358
  2055                        ;
  2056                        ;
  2057                        ;UINT k_gui_set_image_cache(ULONG srcVMARelPage,PR
                    ECT prect)
  2058                        ;{
  2059                        	.line	361
  2060                        	.line	362
  2061                        	GFX
  2062                        	xdef	~~k_gui_set_image_cache
  2063                        	func
  2064                        	.function	362
  2065                        ~~k_gui_set_image_cache:
  2066                        	longa	on
  2067                        	longi	on
  2068 06:0202: 3B           	tsc
  2069 06:0203: 38           	sec
  Sat Jul 10 2021  1:15                                                Page 45


  2070 06:0204: E9 16 00     	sbc	#L43
  2071 06:0207: 1B           	tcs
  2072 06:0208: 0B           	phd
  2073 06:0209: 5B           	tcd
  2074             00000004   srcVMARelPage_0	set	4
  2075             00000008   prect_0	set	8
  2076                        	.block	362
  2077                        ;	UINT slot;
  2078                        ;
  2079                        ;	int cw = prect->width < GUI_CACHE_WIDTH  ? prect
                    ->width  : GUI_CACHE_WIDTH;
  2080                        ;	int ch = prect->height< GUI_CACHE_HEIGHT ? prect
                    ->height : GUI_CACHE_HEIGHT;
  2081                        ;
  2082                        ;	//k_debug_pointer("k_gui_set_image_cache:srcVMAR
                    elPage:",srcVMARelPage);
  2083                        ;
  2084                        ;	slot = k_gui_alloc_image_cache_slot();
  2085             00000000   slot_1	set	0
  2086             00000002   cw_1	set	2
  2087             00000004   ch_1	set	4
  2088                        	.sym	slot,0,16,1,16
  2089                        	.sym	cw,2,5,1,16
  2090                        	.sym	ch,4,5,1,16
  2091                        	.sym	srcVMARelPage,4,18,6,32
  2092                        	.sym	prect,8,138,6,32,26
  2093 06:020A: 38           	sec
  2094 06:020B: A0 08 00     	ldy	#$8
  2095 06:020E: B7 1E        	lda	[<L43+prect_0],Y
  2096 06:0210: E9 40 01     	sbc	#<$140
  2097 06:0213: 70 03        	bvs	L47
  2098 06:0215: 49 00 80     	eor	#$8000
  2099                        L47:
  2100 06:0218: 10 03        	bpl	L48
  2101 06:021A: 82 07 00     	brl	L46
  2102                        L48:
  2103 06:021D: A0 08 00     	ldy	#$8
  2104 06:0220: B7 1E        	lda	[<L43+prect_0],Y
  2105 06:0222: 80 03        	bra	L49
  2106                        L46:
  2107 06:0224: A9 40 01     	lda	#$140
  2108                        L49:
  2109 06:0227: 85 13        	sta	<L44+cw_1
  2110 06:0229: 38           	sec
  2111 06:022A: A0 0A 00     	ldy	#$a
  2112 06:022D: B7 1E        	lda	[<L43+prect_0],Y
  2113 06:022F: E9 10 00     	sbc	#<$10
  2114 06:0232: 70 03        	bvs	L51
  2115 06:0234: 49 00 80     	eor	#$8000
  2116                        L51:
  2117 06:0237: 10 03        	bpl	L52
  2118 06:0239: 82 07 00     	brl	L50
  2119                        L52:
  2120 06:023C: A0 0A 00     	ldy	#$a
  2121 06:023F: B7 1E        	lda	[<L43+prect_0],Y
  2122 06:0241: 80 03        	bra	L53
  2123                        L50:
  2124 06:0243: A9 10 00     	lda	#$10
  Sat Jul 10 2021  1:15                                                Page 46


  2125                        L53:
  2126 06:0246: 85 15        	sta	<L44+ch_1
  2127                        	.line	370
  2128 06:0248: 22 84 01 06  	jsl	~~k_gui_alloc_image_cache_slot
  2129 06:024C: 85 11        	sta	<L44+slot_1
  2130                        ;	if(slot!=-1)
  2131                        	.line	371
  2132                        ;	{
  2133 06:024E: A5 11        	lda	<L44+slot_1
  2134 06:0250: C9 FF FF     	cmp	#<$ffffffff
  2135 06:0253: D0 03        	bne	L54
  2136 06:0255: 82 9B 00     	brl	L10013
  2137                        L54:
  2138                        	.line	372
  2139                        ;		k_vdma_copy_address_ex((LPSTR)(GUI_CACHE
                    _PAGE + GUI_CACHE_PAGE_OFFSET(slot)),
  2140                        	.line	373
  2141                        ;							
                       (LPSTR)(srcVMARelPage  + k_gui_get_pixel_offset(prect->x,
                    prect->y)),
  2142                        ;							
                       cw,ch);
  2143 06:0258: D4 15        	pei	<L44+ch_1
  2144 06:025A: D4 13        	pei	<L44+cw_1
  2145 06:025C: A0 02 00     	ldy	#$2
  2146 06:025F: B7 1E        	lda	[<L43+prect_0],Y
  2147 06:0261: 48           	pha
  2148 06:0262: A7 1E        	lda	[<L43+prect_0]
  2149 06:0264: 48           	pha
  2150 06:0265: 22 B4 07 06  	jsl	~~k_gui_get_pixel_offset
  2151 06:0269: 85 01        	sta	<R0
  2152 06:026B: 86 03        	stx	<R0+2
  2153 06:026D: 18           	clc
  2154 06:026E: A5 01        	lda	<R0
  2155 06:0270: 65 1A        	adc	<L43+srcVMARelPage_0
  2156 06:0272: 85 05        	sta	<R1
  2157 06:0274: A5 03        	lda	<R0+2
  2158 06:0276: 65 1C        	adc	<L43+srcVMARelPage_0+2
  2159 06:0278: 85 07        	sta	<R1+2
  2160 06:027A: D4 07        	pei	<R1+2
  2161 06:027C: D4 05        	pei	<R1
  2162 06:027E: A5 11        	lda	<L44+slot_1
  2163 06:0280: 29 01 00     	and	#<$1
  2164 06:0283: 85 01        	sta	<R0
  2165 06:0285: A5 01        	lda	<R0
  2166 06:0287: 85 01        	sta	<R0
  2167 06:0289: 64 03        	stz	<R0+2
  2168 06:028B: A5 11        	lda	<L44+slot_1
  2169 06:028D: 85 09        	sta	<R2
  2170 06:028F: 64 0B        	stz	<R2+2
  2171 06:0291: 38           	sec
  2172 06:0292: A5 09        	lda	<R2
  2173 06:0294: E5 01        	sbc	<R0
  2174 06:0296: 85 0D        	sta	<R3
  2175 06:0298: A5 0B        	lda	<R2+2
  2176 06:029A: E5 03        	sbc	<R0+2
  2177 06:029C: 85 0F        	sta	<R3+2
  2178 06:029E: F4 00 00     	pea	#^$1400
  Sat Jul 10 2021  1:15                                                Page 47


  2179 06:02A1: F4 00 14     	pea	#<$1400
  2180 06:02A4: D4 0F        	pei	<R3+2
  2181 06:02A6: D4 0D        	pei	<R3
  2182                        	xref	~~~lmul
  2183 06:02A8: 22 xx xx xx  	jsl	~~~lmul
  2184 06:02AC: 85 01        	sta	<R0
  2185 06:02AE: 86 03        	stx	<R0+2
  2186 06:02B0: A5 11        	lda	<L44+slot_1
  2187 06:02B2: 29 01 00     	and	#<$1
  2188 06:02B5: 85 09        	sta	<R2
  2189 06:02B7: A5 09        	lda	<R2
  2190 06:02B9: 85 09        	sta	<R2
  2191 06:02BB: 64 0B        	stz	<R2+2
  2192 06:02BD: F4 00 00     	pea	#^$140
  2193 06:02C0: F4 40 01     	pea	#<$140
  2194 06:02C3: D4 0B        	pei	<R2+2
  2195 06:02C5: D4 09        	pei	<R2
  2196                        	xref	~~~lmul
  2197 06:02C7: 22 xx xx xx  	jsl	~~~lmul
  2198 06:02CB: 85 09        	sta	<R2
  2199 06:02CD: 86 0B        	stx	<R2+2
  2200 06:02CF: 18           	clc
  2201 06:02D0: A5 09        	lda	<R2
  2202 06:02D2: 65 01        	adc	<R0
  2203 06:02D4: 85 0D        	sta	<R3
  2204 06:02D6: A5 0B        	lda	<R2+2
  2205 06:02D8: 65 03        	adc	<R0+2
  2206 06:02DA: 85 0F        	sta	<R3+2
  2207 06:02DC: 18           	clc
  2208 06:02DD: A9 00 00     	lda	#$0
  2209 06:02E0: 65 0D        	adc	<R3
  2210 06:02E2: 85 01        	sta	<R0
  2211 06:02E4: A9 10 00     	lda	#$10
  2212 06:02E7: 65 0F        	adc	<R3+2
  2213 06:02E9: 85 03        	sta	<R0+2
  2214 06:02EB: D4 03        	pei	<R0+2
  2215 06:02ED: D4 01        	pei	<R0
  2216 06:02EF: 22 19 83 06  	jsl	~~k_vdma_copy_address_ex
  2217                        ;	}
  2218                        	.line	376
  2219                        ;
  2220                        ;	k_debug_integer("k_gui_set_image_cache:slot:",sl
                    ot);
  2221                        L10013:
  2222                        	.line	378
  2223 06:02F3: D4 11        	pei	<L44+slot_1
  2224 06:02F5: F4 xx xx     	pea	#^L1
  2225 06:02F8: F4 xx xx     	pea	#<L1
  2226 06:02FB: 22 xx xx xx  	jsl	~~k_debug_integer
  2227                        ;
  2228                        ;	return slot;
  2229                        	.line	380
  2230 06:02FF: A5 11        	lda	<L44+slot_1
  2231                        L55:
  2232 06:0301: A8           	tay
  2233 06:0302: A5 18        	lda	<L43+2
  2234 06:0304: 85 20        	sta	<L43+2+8
  2235 06:0306: A5 17        	lda	<L43+1
  Sat Jul 10 2021  1:15                                                Page 48


  2236 06:0308: 85 1F        	sta	<L43+1+8
  2237 06:030A: 2B           	pld
  2238 06:030B: 3B           	tsc
  2239 06:030C: 18           	clc
  2240 06:030D: 69 1E 00     	adc	#L43+8
  2241 06:0310: 1B           	tcs
  2242 06:0311: 98           	tya
  2243 06:0312: 6B           	rtl
  2244                        ;}
  2245                        	.line	381
  2246                        	.endblock	381
  2247             00000016   L43	equ	22
  2248             00000011   L44	equ	17
  2249 06:0313:              	ends
  2250                        	efunc
  2251                        	.endfunc	381,17,22
  2252                        	.line	381
  2253                        	data
  2254                        L1:
  2255 00:0625: 6B 5F 67 75  	db	$6B,$5F,$67,$75,$69,$5F,$73,$65,$74,$5F,
                    $69,$6D,$61,$67,$65
       00:0629: 69 5F 73 65 
       00:062D: 74 5F 69 6D 
       00:0631: 61 67 65 
  2256 00:0634: 5F 63 61 63  	db	$5F,$63,$61,$63,$68,$65,$3A,$73,$6C,$6F,
                    $74,$3A,$00
       00:0638: 68 65 3A 73 
       00:063C: 6C 6F 74 3A 
       00:0640: 00 
  2257 00:0641:              	ends
  2258                        ;
  2259                        ;BOOL k_gui_get_image_cache(UINT slot,ULONG destVM
                    ARelPage,PRECT prect)
  2260                        ;{
  2261                        	.line	383
  2262                        	.line	384
  2263                        	GFX
  2264                        	xdef	~~k_gui_get_image_cache
  2265                        	func
  2266                        	.function	384
  2267                        ~~k_gui_get_image_cache:
  2268                        	longa	on
  2269                        	longi	on
  2270 06:0313: 3B           	tsc
  2271 06:0314: 38           	sec
  2272 06:0315: E9 1A 00     	sbc	#L57
  2273 06:0318: 1B           	tcs
  2274 06:0319: 0B           	phd
  2275 06:031A: 5B           	tcd
  2276             00000004   slot_0	set	4
  2277             00000006   destVMARelPage_0	set	6
  2278             0000000A   prect_0	set	10
  2279                        	.block	384
  2280                        ;	LPSTR pDst = NULL;
  2281                        ;	int cw;
  2282                        ;	int ch;
  2283                        ;	int clippingOffset = 0;
  2284                        ;
  Sat Jul 10 2021  1:15                                                Page 49


  2285                        ;	if(prect->x < GUI_POINT_LIMIT_X_LO)
  2286             00000000   pDst_1	set	0
  2287             00000004   cw_1	set	4
  2288             00000006   ch_1	set	6
  2289             00000008   clippingOffset_1	set	8
  2290                        	.sym	pDst,0,142,1,32
  2291                        	.sym	cw,4,5,1,16
  2292                        	.sym	ch,6,5,1,16
  2293                        	.sym	clippingOffset,8,5,1,16
  2294                        	.sym	slot,4,16,6,16
  2295                        	.sym	destVMARelPage,6,18,6,32
  2296                        	.sym	prect,10,138,6,32,26
  2297 06:031B: 64 11        	stz	<L58+pDst_1
  2298 06:031D: 64 13        	stz	<L58+pDst_1+2
  2299 06:031F: 64 19        	stz	<L58+clippingOffset_1
  2300                        	.line	390
  2301                        ;	{
  2302 06:0321: A7 24        	lda	[<L57+prect_0]
  2303 06:0323: 30 03        	bmi	L60
  2304 06:0325: 82 72 00     	brl	L10014
  2305                        L60:
  2306                        	.line	391
  2307                        ;		k_debug_integer("k_gui_get_image_cache::
                    x-over:-x:",(int)prect->x);
  2308                        	.line	392
  2309 06:0328: A7 24        	lda	[<L57+prect_0]
  2310 06:032A: 48           	pha
  2311 06:032B: F4 xx xx     	pea	#^L56
  2312 06:032E: F4 xx xx     	pea	#<L56
  2313 06:0331: 22 xx xx xx  	jsl	~~k_debug_integer
  2314                        ;		k_debug_integer("k_gui_get_image_cache::
                    x-over:-width:",(int)prect->width);
  2315                        	.line	393
  2316 06:0335: A0 08 00     	ldy	#$8
  2317 06:0338: B7 24        	lda	[<L57+prect_0],Y
  2318 06:033A: 48           	pha
  2319 06:033B: F4 xx xx     	pea	#^L56+34
  2320 06:033E: F4 xx xx     	pea	#<L56+34
  2321 06:0341: 22 xx xx xx  	jsl	~~k_debug_integer
  2322                        ;		prect->width = (prect->width + prect->x)
                    ;
  2323                        	.line	394
  2324 06:0345: 18           	clc
  2325 06:0346: A0 08 00     	ldy	#$8
  2326 06:0349: B7 24        	lda	[<L57+prect_0],Y
  2327 06:034B: 67 24        	adc	[<L57+prect_0]
  2328 06:034D: A0 08 00     	ldy	#$8
  2329 06:0350: 97 24        	sta	[<L57+prect_0],Y
  2330                        ;
  2331                        ;		if(prect->width < 0)
  2332                        	.line	396
  2333                        ;			return FALSE;
  2334 06:0352: A0 08 00     	ldy	#$8
  2335 06:0355: B7 24        	lda	[<L57+prect_0],Y
  2336 06:0357: 30 03        	bmi	L61
  2337 06:0359: 82 15 00     	brl	L10015
  2338                        L61:
  2339                        	.line	397
  Sat Jul 10 2021  1:15                                                Page 50


  2340 06:035C: A9 00 00     	lda	#$0
  2341                        L62:
  2342 06:035F: A8           	tay
  2343 06:0360: A5 1C        	lda	<L57+2
  2344 06:0362: 85 26        	sta	<L57+2+10
  2345 06:0364: A5 1B        	lda	<L57+1
  2346 06:0366: 85 25        	sta	<L57+1+10
  2347 06:0368: 2B           	pld
  2348 06:0369: 3B           	tsc
  2349 06:036A: 18           	clc
  2350 06:036B: 69 24 00     	adc	#L57+10
  2351 06:036E: 1B           	tcs
  2352 06:036F: 98           	tya
  2353 06:0370: 6B           	rtl
  2354                        ;
  2355                        ;		clippingOffset = (prect->x * (-1));
  2356                        L10015:
  2357                        	.line	399
  2358 06:0371: 38           	sec
  2359 06:0372: A9 00 00     	lda	#$0
  2360 06:0375: E7 24        	sbc	[<L57+prect_0]
  2361 06:0377: 85 19        	sta	<L58+clippingOffset_1
  2362                        ;
  2363                        ;		prect->x =  GUI_POINT_LIMIT_X_LO;
  2364                        	.line	401
  2365 06:0379: A9 00 00     	lda	#$0
  2366 06:037C: 87 24        	sta	[<L57+prect_0]
  2367                        ;		k_debug_integer("k_gui_get_image_cache::
                    x-over:clippingOffset:",clippingOffset);
  2368                        	.line	402
  2369 06:037E: D4 19        	pei	<L58+clippingOffset_1
  2370 06:0380: F4 xx xx     	pea	#^L56+72
  2371 06:0383: F4 xx xx     	pea	#<L56+72
  2372 06:0386: 22 xx xx xx  	jsl	~~k_debug_integer
  2373                        ;		k_debug_integer("k_gui_get_image_cache::
                    x-over:width:",(int)prect->width);
  2374                        	.line	403
  2375 06:038A: A0 08 00     	ldy	#$8
  2376 06:038D: B7 24        	lda	[<L57+prect_0],Y
  2377 06:038F: 48           	pha
  2378 06:0390: F4 xx xx     	pea	#^L56+118
  2379 06:0393: F4 xx xx     	pea	#<L56+118
  2380 06:0396: 22 xx xx xx  	jsl	~~k_debug_integer
  2381                        ;	}
  2382                        	.line	404
  2383                        ;
  2384                        ;	if(prect->y < GUI_POINT_LIMIT_Y_LO)
  2385                        L10014:
  2386                        	.line	406
  2387                        ;	{
  2388 06:039A: A0 02 00     	ldy	#$2
  2389 06:039D: B7 24        	lda	[<L57+prect_0],Y
  2390 06:039F: 30 03        	bmi	L63
  2391 06:03A1: 82 18 00     	brl	L10016
  2392                        L63:
  2393                        	.line	407
  2394                        ;		prect->height = (prect->height + prect->
                    y);
  Sat Jul 10 2021  1:15                                                Page 51


  2395                        	.line	408
  2396 06:03A4: 18           	clc
  2397 06:03A5: A0 0A 00     	ldy	#$a
  2398 06:03A8: B7 24        	lda	[<L57+prect_0],Y
  2399 06:03AA: A0 02 00     	ldy	#$2
  2400 06:03AD: 77 24        	adc	[<L57+prect_0],Y
  2401 06:03AF: A0 0A 00     	ldy	#$a
  2402 06:03B2: 97 24        	sta	[<L57+prect_0],Y
  2403                        ;		prect->y = GUI_POINT_LIMIT_Y_LO;
  2404                        	.line	409
  2405 06:03B4: A9 00 00     	lda	#$0
  2406 06:03B7: A0 02 00     	ldy	#$2
  2407 06:03BA: 97 24        	sta	[<L57+prect_0],Y
  2408                        ;	}
  2409                        	.line	410
  2410                        ;
  2411                        ;	if(prect->x > GUI_POINT_LIMIT_X_HI)
  2412                        L10016:
  2413                        	.line	412
  2414                        ;		prect->x = GUI_POINT_LIMIT_X_HI - 1;
  2415 06:03BC: 38           	sec
  2416 06:03BD: A9 7F 02     	lda	#$27f
  2417 06:03C0: E7 24        	sbc	[<L57+prect_0]
  2418 06:03C2: 70 03        	bvs	L64
  2419 06:03C4: 49 00 80     	eor	#$8000
  2420                        L64:
  2421 06:03C7: 10 03        	bpl	L65
  2422 06:03C9: 82 05 00     	brl	L10017
  2423                        L65:
  2424                        	.line	413
  2425 06:03CC: A9 7E 02     	lda	#$27e
  2426 06:03CF: 87 24        	sta	[<L57+prect_0]
  2427                        ;
  2428                        ;	if(prect->y > GUI_POINT_LIMIT_Y_HI)
  2429                        L10017:
  2430                        	.line	415
  2431                        ;		prect->y = GUI_POINT_LIMIT_Y_HI - 1;
  2432 06:03D1: 38           	sec
  2433 06:03D2: A9 DF 01     	lda	#$1df
  2434 06:03D5: A0 02 00     	ldy	#$2
  2435 06:03D8: F7 24        	sbc	[<L57+prect_0],Y
  2436 06:03DA: 70 03        	bvs	L66
  2437 06:03DC: 49 00 80     	eor	#$8000
  2438                        L66:
  2439 06:03DF: 10 03        	bpl	L67
  2440 06:03E1: 82 08 00     	brl	L10018
  2441                        L67:
  2442                        	.line	416
  2443 06:03E4: A9 DE 01     	lda	#$1de
  2444 06:03E7: A0 02 00     	ldy	#$2
  2445 06:03EA: 97 24        	sta	[<L57+prect_0],Y
  2446                        ;
  2447                        ;	if(prect->x + prect->width > GUI_POINT_LIMIT_X_H
                    I)
  2448                        L10018:
  2449                        	.line	418
  2450                        ;	{
  2451 06:03EC: 18           	clc
  Sat Jul 10 2021  1:15                                                Page 52


  2452 06:03ED: A7 24        	lda	[<L57+prect_0]
  2453 06:03EF: A0 08 00     	ldy	#$8
  2454 06:03F2: 77 24        	adc	[<L57+prect_0],Y
  2455 06:03F4: 85 01        	sta	<R0
  2456 06:03F6: 38           	sec
  2457 06:03F7: A9 7F 02     	lda	#$27f
  2458 06:03FA: E5 01        	sbc	<R0
  2459 06:03FC: 70 03        	bvs	L68
  2460 06:03FE: 49 00 80     	eor	#$8000
  2461                        L68:
  2462 06:0401: 10 03        	bpl	L69
  2463 06:0403: 82 38 00     	brl	L10019
  2464                        L69:
  2465                        	.line	419
  2466                        ;		k_debug_integer("k_gui_get_image_cache::
                    x-over:x:",prect->x);
  2467                        	.line	420
  2468 06:0406: A7 24        	lda	[<L57+prect_0]
  2469 06:0408: 48           	pha
  2470 06:0409: F4 xx xx     	pea	#^L56+155
  2471 06:040C: F4 xx xx     	pea	#<L56+155
  2472 06:040F: 22 xx xx xx  	jsl	~~k_debug_integer
  2473                        ;		k_debug_integer("k_gui_get_image_cache::
                    x-over:width:",prect->width);
  2474                        	.line	421
  2475 06:0413: A0 08 00     	ldy	#$8
  2476 06:0416: B7 24        	lda	[<L57+prect_0],Y
  2477 06:0418: 48           	pha
  2478 06:0419: F4 xx xx     	pea	#^L56+188
  2479 06:041C: F4 xx xx     	pea	#<L56+188
  2480 06:041F: 22 xx xx xx  	jsl	~~k_debug_integer
  2481                        ;
  2482                        ;		prect->width = GUI_POINT_LIMIT_X_HI - pr
                    ect->x;
  2483                        	.line	423
  2484 06:0423: 38           	sec
  2485 06:0424: A9 7F 02     	lda	#$27f
  2486 06:0427: E7 24        	sbc	[<L57+prect_0]
  2487 06:0429: A0 08 00     	ldy	#$8
  2488 06:042C: 97 24        	sta	[<L57+prect_0],Y
  2489                        ;
  2490                        ;		k_debug_integer("k_gui_get_image_cache::
                    x-over:width:adjusted:",prect->width);
  2491                        	.line	425
  2492 06:042E: A0 08 00     	ldy	#$8
  2493 06:0431: B7 24        	lda	[<L57+prect_0],Y
  2494 06:0433: 48           	pha
  2495 06:0434: F4 xx xx     	pea	#^L56+225
  2496 06:0437: F4 xx xx     	pea	#<L56+225
  2497 06:043A: 22 xx xx xx  	jsl	~~k_debug_integer
  2498                        ;	}
  2499                        	.line	426
  2500                        ;
  2501                        ;	if(prect->y + prect->height > GUI_POINT_LIMIT_Y_
                    HI)
  2502                        L10019:
  2503                        	.line	428
  2504                        ;	{
  Sat Jul 10 2021  1:15                                                Page 53


  2505 06:043E: 18           	clc
  2506 06:043F: A0 02 00     	ldy	#$2
  2507 06:0442: B7 24        	lda	[<L57+prect_0],Y
  2508 06:0444: A0 0A 00     	ldy	#$a
  2509 06:0447: 77 24        	adc	[<L57+prect_0],Y
  2510 06:0449: 85 01        	sta	<R0
  2511 06:044B: 38           	sec
  2512 06:044C: A9 DF 01     	lda	#$1df
  2513 06:044F: E5 01        	sbc	<R0
  2514 06:0451: 70 03        	bvs	L70
  2515 06:0453: 49 00 80     	eor	#$8000
  2516                        L70:
  2517 06:0456: 10 03        	bpl	L71
  2518 06:0458: 82 3E 00     	brl	L10020
  2519                        L71:
  2520                        	.line	429
  2521                        ;		k_debug_integer("k_gui_get_image_cache::
                    y-over:y:",prect->y);
  2522                        	.line	430
  2523 06:045B: A0 02 00     	ldy	#$2
  2524 06:045E: B7 24        	lda	[<L57+prect_0],Y
  2525 06:0460: 48           	pha
  2526 06:0461: F4 xx xx     	pea	#^L56+271
  2527 06:0464: F4 xx xx     	pea	#<L56+271
  2528 06:0467: 22 xx xx xx  	jsl	~~k_debug_integer
  2529                        ;		k_debug_integer("k_gui_get_image_cache::
                    y-over:height:",prect->height);
  2530                        	.line	431
  2531 06:046B: A0 0A 00     	ldy	#$a
  2532 06:046E: B7 24        	lda	[<L57+prect_0],Y
  2533 06:0470: 48           	pha
  2534 06:0471: F4 xx xx     	pea	#^L56+304
  2535 06:0474: F4 xx xx     	pea	#<L56+304
  2536 06:0477: 22 xx xx xx  	jsl	~~k_debug_integer
  2537                        ;
  2538                        ;		prect->height = GUI_POINT_LIMIT_Y_HI - p
                    rect->y;
  2539                        	.line	433
  2540 06:047B: 38           	sec
  2541 06:047C: A9 DF 01     	lda	#$1df
  2542 06:047F: A0 02 00     	ldy	#$2
  2543 06:0482: F7 24        	sbc	[<L57+prect_0],Y
  2544 06:0484: A0 0A 00     	ldy	#$a
  2545 06:0487: 97 24        	sta	[<L57+prect_0],Y
  2546                        ;
  2547                        ;		k_debug_integer("k_gui_get_image_cache::
                    y-over:height:adjusted:",prect->height);
  2548                        	.line	435
  2549 06:0489: A0 0A 00     	ldy	#$a
  2550 06:048C: B7 24        	lda	[<L57+prect_0],Y
  2551 06:048E: 48           	pha
  2552 06:048F: F4 xx xx     	pea	#^L56+342
  2553 06:0492: F4 xx xx     	pea	#<L56+342
  2554 06:0495: 22 xx xx xx  	jsl	~~k_debug_integer
  2555                        ;	}
  2556                        	.line	436
  2557                        ;
  2558                        ;
  Sat Jul 10 2021  1:15                                                Page 54


  2559                        ;	cw = (prect->width < GUI_CACHE_WIDTH ) ? prect->
                    width  : GUI_CACHE_WIDTH;
  2560                        L10020:
  2561                        	.line	439
  2562 06:0499: 38           	sec
  2563 06:049A: A0 08 00     	ldy	#$8
  2564 06:049D: B7 24        	lda	[<L57+prect_0],Y
  2565 06:049F: E9 40 01     	sbc	#<$140
  2566 06:04A2: 70 03        	bvs	L73
  2567 06:04A4: 49 00 80     	eor	#$8000
  2568                        L73:
  2569 06:04A7: 10 03        	bpl	L74
  2570 06:04A9: 82 07 00     	brl	L72
  2571                        L74:
  2572 06:04AC: A0 08 00     	ldy	#$8
  2573 06:04AF: B7 24        	lda	[<L57+prect_0],Y
  2574 06:04B1: 80 03        	bra	L75
  2575                        L72:
  2576 06:04B3: A9 40 01     	lda	#$140
  2577                        L75:
  2578 06:04B6: 85 15        	sta	<L58+cw_1
  2579                        ;	ch = (prect->height< GUI_CACHE_HEIGHT) ? prect->
                    height : GUI_CACHE_HEIGHT;
  2580                        	.line	440
  2581 06:04B8: 38           	sec
  2582 06:04B9: A0 0A 00     	ldy	#$a
  2583 06:04BC: B7 24        	lda	[<L57+prect_0],Y
  2584 06:04BE: E9 10 00     	sbc	#<$10
  2585 06:04C1: 70 03        	bvs	L77
  2586 06:04C3: 49 00 80     	eor	#$8000
  2587                        L77:
  2588 06:04C6: 10 03        	bpl	L78
  2589 06:04C8: 82 07 00     	brl	L76
  2590                        L78:
  2591 06:04CB: A0 0A 00     	ldy	#$a
  2592 06:04CE: B7 24        	lda	[<L57+prect_0],Y
  2593 06:04D0: 80 03        	bra	L79
  2594                        L76:
  2595 06:04D2: A9 10 00     	lda	#$10
  2596                        L79:
  2597 06:04D5: 85 17        	sta	<L58+ch_1
  2598                        ;
  2599                        ;
  2600                        ;	if(slot < GUI_CACHE_SIZE)
  2601                        	.line	443
  2602                        ;	{
  2603 06:04D7: A5 1E        	lda	<L57+slot_0
  2604 06:04D9: C9 3C 00     	cmp	#<$3c
  2605 06:04DC: 90 03        	bcc	L80
  2606 06:04DE: 82 CD 00     	brl	L10021
  2607                        L80:
  2608                        	.line	444
  2609                        ;		if(slot < GUI_CACHE_START)
  2610                        	.line	445
  2611                        ;		{
  2612 06:04E1: A5 1E        	lda	<L57+slot_0
  2613 06:04E3: C9 04 00     	cmp	#<$4
  2614 06:04E6: 90 03        	bcc	L81
  Sat Jul 10 2021  1:15                                                Page 55


  2615 06:04E8: 82 07 00     	brl	L10022
  2616                        L81:
  2617                        	.line	446
  2618                        ;			cw = prect->width;
  2619                        	.line	447
  2620 06:04EB: A0 08 00     	ldy	#$8
  2621 06:04EE: B7 24        	lda	[<L57+prect_0],Y
  2622 06:04F0: 85 15        	sta	<L58+cw_1
  2623                        ;		}
  2624                        	.line	448
  2625                        ;		//k_debug_integer("k_gui_get_image_cache
                    ::slot:",slot);
  2626                        ;		//k_debug_integer("k_gui_get_image_cache
                    ::cw:",cw);
  2627                        ;		//k_debug_integer("k_gui_get_image_cache
                    ::ch:",ch);
  2628                        ;
  2629                        ;		pDst = (LPSTR)(destVMARelPage + k_gui_ge
                    t_pixel_offset(prect->x,prect->y));
  2630                        L10022:
  2631                        	.line	453
  2632 06:04F2: A0 02 00     	ldy	#$2
  2633 06:04F5: B7 24        	lda	[<L57+prect_0],Y
  2634 06:04F7: 48           	pha
  2635 06:04F8: A7 24        	lda	[<L57+prect_0]
  2636 06:04FA: 48           	pha
  2637 06:04FB: 22 B4 07 06  	jsl	~~k_gui_get_pixel_offset
  2638 06:04FF: 85 01        	sta	<R0
  2639 06:0501: 86 03        	stx	<R0+2
  2640 06:0503: 18           	clc
  2641 06:0504: A5 01        	lda	<R0
  2642 06:0506: 65 20        	adc	<L57+destVMARelPage_0
  2643 06:0508: 85 05        	sta	<R1
  2644 06:050A: A5 03        	lda	<R0+2
  2645 06:050C: 65 22        	adc	<L57+destVMARelPage_0+2
  2646 06:050E: 85 07        	sta	<R1+2
  2647 06:0510: A5 05        	lda	<R1
  2648 06:0512: 85 11        	sta	<L58+pDst_1
  2649 06:0514: A5 07        	lda	<R1+2
  2650 06:0516: 85 13        	sta	<L58+pDst_1+2
  2651                        ;
  2652                        ;		//k_debug_pointer("k_gui_get_image_cache
                    ::pDst:",pDst);
  2653                        ;
  2654                        ;		k_vdma_copy_address_ex(pDst,
  2655                        	.line	457
  2656                        ;							
                       (LPSTR)(GUI_CACHE_PAGE + (GUI_CACHE_PAGE_OFFSET(slot) + c
                    lippingOffset)),
  2657                        ;							
                       cw,ch);
  2658 06:0518: D4 17        	pei	<L58+ch_1
  2659 06:051A: D4 15        	pei	<L58+cw_1
  2660 06:051C: A0 00 00     	ldy	#$0
  2661 06:051F: A5 19        	lda	<L58+clippingOffset_1
  2662 06:0521: 10 01        	bpl	L82
  2663 06:0523: 88           	dey
  2664                        L82:
  Sat Jul 10 2021  1:15                                                Page 56


  2665 06:0524: 85 01        	sta	<R0
  2666 06:0526: 84 03        	sty	<R0+2
  2667 06:0528: A5 1E        	lda	<L57+slot_0
  2668 06:052A: 29 01 00     	and	#<$1
  2669 06:052D: 85 05        	sta	<R1
  2670 06:052F: A5 05        	lda	<R1
  2671 06:0531: 85 05        	sta	<R1
  2672 06:0533: 64 07        	stz	<R1+2
  2673 06:0535: A5 1E        	lda	<L57+slot_0
  2674 06:0537: 85 09        	sta	<R2
  2675 06:0539: 64 0B        	stz	<R2+2
  2676 06:053B: 38           	sec
  2677 06:053C: A5 09        	lda	<R2
  2678 06:053E: E5 05        	sbc	<R1
  2679 06:0540: 85 0D        	sta	<R3
  2680 06:0542: A5 0B        	lda	<R2+2
  2681 06:0544: E5 07        	sbc	<R1+2
  2682 06:0546: 85 0F        	sta	<R3+2
  2683 06:0548: F4 00 00     	pea	#^$1400
  2684 06:054B: F4 00 14     	pea	#<$1400
  2685 06:054E: D4 0F        	pei	<R3+2
  2686 06:0550: D4 0D        	pei	<R3
  2687                        	xref	~~~lmul
  2688 06:0552: 22 xx xx xx  	jsl	~~~lmul
  2689 06:0556: 85 05        	sta	<R1
  2690 06:0558: 86 07        	stx	<R1+2
  2691 06:055A: A5 1E        	lda	<L57+slot_0
  2692 06:055C: 29 01 00     	and	#<$1
  2693 06:055F: 85 09        	sta	<R2
  2694 06:0561: A5 09        	lda	<R2
  2695 06:0563: 85 09        	sta	<R2
  2696 06:0565: 64 0B        	stz	<R2+2
  2697 06:0567: F4 00 00     	pea	#^$140
  2698 06:056A: F4 40 01     	pea	#<$140
  2699 06:056D: D4 0B        	pei	<R2+2
  2700 06:056F: D4 09        	pei	<R2
  2701                        	xref	~~~lmul
  2702 06:0571: 22 xx xx xx  	jsl	~~~lmul
  2703 06:0575: 85 09        	sta	<R2
  2704 06:0577: 86 0B        	stx	<R2+2
  2705 06:0579: 18           	clc
  2706 06:057A: A5 09        	lda	<R2
  2707 06:057C: 65 05        	adc	<R1
  2708 06:057E: 85 0D        	sta	<R3
  2709 06:0580: A5 0B        	lda	<R2+2
  2710 06:0582: 65 07        	adc	<R1+2
  2711 06:0584: 85 0F        	sta	<R3+2
  2712 06:0586: 18           	clc
  2713 06:0587: A5 0D        	lda	<R3
  2714 06:0589: 65 01        	adc	<R0
  2715 06:058B: 85 05        	sta	<R1
  2716 06:058D: A5 0F        	lda	<R3+2
  2717 06:058F: 65 03        	adc	<R0+2
  2718 06:0591: 85 07        	sta	<R1+2
  2719 06:0593: 18           	clc
  2720 06:0594: A9 00 00     	lda	#$0
  2721 06:0597: 65 05        	adc	<R1
  2722 06:0599: 85 01        	sta	<R0
  Sat Jul 10 2021  1:15                                                Page 57


  2723 06:059B: A9 10 00     	lda	#$10
  2724 06:059E: 65 07        	adc	<R1+2
  2725 06:05A0: 85 03        	sta	<R0+2
  2726 06:05A2: D4 03        	pei	<R0+2
  2727 06:05A4: D4 01        	pei	<R0
  2728 06:05A6: D4 13        	pei	<L58+pDst_1+2
  2729 06:05A8: D4 11        	pei	<L58+pDst_1
  2730 06:05AA: 22 19 83 06  	jsl	~~k_vdma_copy_address_ex
  2731                        ;	}
  2732                        	.line	460
  2733                        ;
  2734                        ;	return TRUE;
  2735                        L10021:
  2736                        	.line	462
  2737 06:05AE: A9 01 00     	lda	#$1
  2738 06:05B1: 82 AB FD     	brl	L62
  2739                        ;}
  2740                        	.line	463
  2741                        	.endblock	463
  2742             0000001A   L57	equ	26
  2743             00000011   L58	equ	17
  2744 06:05B4:              	ends
  2745                        	efunc
  2746                        	.endfunc	463,17,26
  2747                        	.line	463
  2748                        	data
  2749                        L56:
  2750 00:0641: 6B 5F 67 75  	db	$6B,$5F,$67,$75,$69,$5F,$67,$65,$74,$5F,
                    $69,$6D,$61,$67,$65
       00:0645: 69 5F 67 65 
       00:0649: 74 5F 69 6D 
       00:064D: 61 67 65 
  2751 00:0650: 5F 63 61 63  	db	$5F,$63,$61,$63,$68,$65,$3A,$3A,$78,$2D,
                    $6F,$76,$65,$72,$3A
       00:0654: 68 65 3A 3A 
       00:0658: 78 2D 6F 76 
       00:065C: 65 72 3A 
  2752 00:065F: 2D 78 3A 00  	db	$2D,$78,$3A,$00,$6B,$5F,$67,$75,$69,$5F,
                    $67,$65,$74,$5F,$69
       00:0663: 6B 5F 67 75 
       00:0667: 69 5F 67 65 
       00:066B: 74 5F 69 
  2753 00:066E: 6D 61 67 65  	db	$6D,$61,$67,$65,$5F,$63,$61,$63,$68,$65,
                    $3A,$3A,$78,$2D,$6F
       00:0672: 5F 63 61 63 
       00:0676: 68 65 3A 3A 
       00:067A: 78 2D 6F 
  2754 00:067D: 76 65 72 3A  	db	$76,$65,$72,$3A,$2D,$77,$69,$64,$74,$68,
                    $3A,$00,$6B,$5F,$67
       00:0681: 2D 77 69 64 
       00:0685: 74 68 3A 00 
       00:0689: 6B 5F 67 
  2755 00:068C: 75 69 5F 67  	db	$75,$69,$5F,$67,$65,$74,$5F,$69,$6D,$61,
                    $67,$65,$5F,$63,$61
       00:0690: 65 74 5F 69 
       00:0694: 6D 61 67 65 
       00:0698: 5F 63 61 
  2756 00:069B: 63 68 65 3A  	db	$63,$68,$65,$3A,$3A,$78,$2D,$6F,$76,$65,
  Sat Jul 10 2021  1:15                                                Page 58


                    $72,$3A,$63,$6C,$69
       00:069F: 3A 78 2D 6F 
       00:06A3: 76 65 72 3A 
       00:06A7: 63 6C 69 
  2757 00:06AA: 70 70 69 6E  	db	$70,$70,$69,$6E,$67,$4F,$66,$66,$73,$65,
                    $74,$3A,$00,$6B,$5F
       00:06AE: 67 4F 66 66 
       00:06B2: 73 65 74 3A 
       00:06B6: 00 6B 5F 
  2758 00:06B9: 67 75 69 5F  	db	$67,$75,$69,$5F,$67,$65,$74,$5F,$69,$6D,
                    $61,$67,$65,$5F,$63
       00:06BD: 67 65 74 5F 
       00:06C1: 69 6D 61 67 
       00:06C5: 65 5F 63 
  2759 00:06C8: 61 63 68 65  	db	$61,$63,$68,$65,$3A,$3A,$78,$2D,$6F,$76,
                    $65,$72,$3A,$77,$69
       00:06CC: 3A 3A 78 2D 
       00:06D0: 6F 76 65 72 
       00:06D4: 3A 77 69 
  2760 00:06D7: 64 74 68 3A  	db	$64,$74,$68,$3A,$00,$6B,$5F,$67,$75,$69,
                    $5F,$67,$65,$74,$5F
       00:06DB: 00 6B 5F 67 
       00:06DF: 75 69 5F 67 
       00:06E3: 65 74 5F 
  2761 00:06E6: 69 6D 61 67  	db	$69,$6D,$61,$67,$65,$5F,$63,$61,$63,$68,
                    $65,$3A,$3A,$78,$2D
       00:06EA: 65 5F 63 61 
       00:06EE: 63 68 65 3A 
       00:06F2: 3A 78 2D 
  2762 00:06F5: 6F 76 65 72  	db	$6F,$76,$65,$72,$3A,$78,$3A,$00,$6B,$5F,
                    $67,$75,$69,$5F,$67
       00:06F9: 3A 78 3A 00 
       00:06FD: 6B 5F 67 75 
       00:0701: 69 5F 67 
  2763 00:0704: 65 74 5F 69  	db	$65,$74,$5F,$69,$6D,$61,$67,$65,$5F,$63,
                    $61,$63,$68,$65,$3A
       00:0708: 6D 61 67 65 
       00:070C: 5F 63 61 63 
       00:0710: 68 65 3A 
  2764 00:0713: 3A 78 2D 6F  	db	$3A,$78,$2D,$6F,$76,$65,$72,$3A,$77,$69,
                    $64,$74,$68,$3A,$00
       00:0717: 76 65 72 3A 
       00:071B: 77 69 64 74 
       00:071F: 68 3A 00 
  2765 00:0722: 6B 5F 67 75  	db	$6B,$5F,$67,$75,$69,$5F,$67,$65,$74,$5F,
                    $69,$6D,$61,$67,$65
       00:0726: 69 5F 67 65 
       00:072A: 74 5F 69 6D 
       00:072E: 61 67 65 
  2766 00:0731: 5F 63 61 63  	db	$5F,$63,$61,$63,$68,$65,$3A,$3A,$78,$2D,
                    $6F,$76,$65,$72,$3A
       00:0735: 68 65 3A 3A 
       00:0739: 78 2D 6F 76 
       00:073D: 65 72 3A 
  2767 00:0740: 77 69 64 74  	db	$77,$69,$64,$74,$68,$3A,$61,$64,$6A,$75,
                    $73,$74,$65,$64,$3A
       00:0744: 68 3A 61 64 
       00:0748: 6A 75 73 74 
  Sat Jul 10 2021  1:15                                                Page 59


       00:074C: 65 64 3A 
  2768 00:074F: 00 6B 5F 67  	db	$00,$6B,$5F,$67,$75,$69,$5F,$67,$65,$74,
                    $5F,$69,$6D,$61,$67
       00:0753: 75 69 5F 67 
       00:0757: 65 74 5F 69 
       00:075B: 6D 61 67 
  2769 00:075E: 65 5F 63 61  	db	$65,$5F,$63,$61,$63,$68,$65,$3A,$3A,$79,
                    $2D,$6F,$76,$65,$72
       00:0762: 63 68 65 3A 
       00:0766: 3A 79 2D 6F 
       00:076A: 76 65 72 
  2770 00:076D: 3A 79 3A 00  	db	$3A,$79,$3A,$00,$6B,$5F,$67,$75,$69,$5F,
                    $67,$65,$74,$5F,$69
       00:0771: 6B 5F 67 75 
       00:0775: 69 5F 67 65 
       00:0779: 74 5F 69 
  2771 00:077C: 6D 61 67 65  	db	$6D,$61,$67,$65,$5F,$63,$61,$63,$68,$65,
                    $3A,$3A,$79,$2D,$6F
       00:0780: 5F 63 61 63 
       00:0784: 68 65 3A 3A 
       00:0788: 79 2D 6F 
  2772 00:078B: 76 65 72 3A  	db	$76,$65,$72,$3A,$68,$65,$69,$67,$68,$74,
                    $3A,$00,$6B,$5F,$67
       00:078F: 68 65 69 67 
       00:0793: 68 74 3A 00 
       00:0797: 6B 5F 67 
  2773 00:079A: 75 69 5F 67  	db	$75,$69,$5F,$67,$65,$74,$5F,$69,$6D,$61,
                    $67,$65,$5F,$63,$61
       00:079E: 65 74 5F 69 
       00:07A2: 6D 61 67 65 
       00:07A6: 5F 63 61 
  2774 00:07A9: 63 68 65 3A  	db	$63,$68,$65,$3A,$3A,$79,$2D,$6F,$76,$65,
                    $72,$3A,$68,$65,$69
       00:07AD: 3A 79 2D 6F 
       00:07B1: 76 65 72 3A 
       00:07B5: 68 65 69 
  2775 00:07B8: 67 68 74 3A  	db	$67,$68,$74,$3A,$61,$64,$6A,$75,$73,$74,
                    $65,$64,$3A,$00
       00:07BC: 61 64 6A 75 
       00:07C0: 73 74 65 64 
       00:07C4: 3A 00 
  2776 00:07C6:              	ends
  2777                        ;
  2778                        ;void k_copy_rect(PRECT psrc,PRECT pdst)
  2779                        ;{
  2780                        	.line	465
  2781                        	.line	466
  2782                        	GFX
  2783                        	xdef	~~k_copy_rect
  2784                        	func
  2785                        	.function	466
  2786                        ~~k_copy_rect:
  2787                        	longa	on
  2788                        	longi	on
  2789 06:05B4: 3B           	tsc
  2790 06:05B5: 38           	sec
  2791 06:05B6: E9 00 00     	sbc	#L84
  2792 06:05B9: 1B           	tcs
  Sat Jul 10 2021  1:15                                                Page 60


  2793 06:05BA: 0B           	phd
  2794 06:05BB: 5B           	tcd
  2795             00000004   psrc_0	set	4
  2796             00000008   pdst_0	set	8
  2797                        	.block	466
  2798                        ;	if(psrc && pdst)
  2799                        	.sym	psrc,4,138,6,32,26
  2800                        	.sym	pdst,8,138,6,32,26
  2801                        	.line	467
  2802                        ;	{
  2803 06:05BC: A5 04        	lda	<L84+psrc_0
  2804 06:05BE: 05 06        	ora	<L84+psrc_0+2
  2805 06:05C0: D0 03        	bne	L87
  2806 06:05C2: 82 2B 00     	brl	L10023
  2807                        L87:
  2808 06:05C5: A5 08        	lda	<L84+pdst_0
  2809 06:05C7: 05 0A        	ora	<L84+pdst_0+2
  2810 06:05C9: D0 03        	bne	L88
  2811 06:05CB: 82 22 00     	brl	L10023
  2812                        L88:
  2813                        	.line	468
  2814                        ;		pdst->x  	  = psrc->x;
  2815                        	.line	469
  2816 06:05CE: A7 04        	lda	[<L84+psrc_0]
  2817 06:05D0: 87 08        	sta	[<L84+pdst_0]
  2818                        ;		pdst->y 	  = psrc->y;
  2819                        	.line	470
  2820 06:05D2: A0 02 00     	ldy	#$2
  2821 06:05D5: B7 04        	lda	[<L84+psrc_0],Y
  2822 06:05D7: A0 02 00     	ldy	#$2
  2823 06:05DA: 97 08        	sta	[<L84+pdst_0],Y
  2824                        ;		pdst->width  =	psrc->width;
  2825                        	.line	471
  2826 06:05DC: A0 08 00     	ldy	#$8
  2827 06:05DF: B7 04        	lda	[<L84+psrc_0],Y
  2828 06:05E1: A0 08 00     	ldy	#$8
  2829 06:05E4: 97 08        	sta	[<L84+pdst_0],Y
  2830                        ;		pdst->height =	psrc->height;
  2831                        	.line	472
  2832 06:05E6: A0 0A 00     	ldy	#$a
  2833 06:05E9: B7 04        	lda	[<L84+psrc_0],Y
  2834 06:05EB: A0 0A 00     	ldy	#$a
  2835 06:05EE: 97 08        	sta	[<L84+pdst_0],Y
  2836                        ;	}
  2837                        	.line	473
  2838                        ;}
  2839                        L10023:
  2840                        	.line	474
  2841                        L89:
  2842 06:05F0: A5 02        	lda	<L84+2
  2843 06:05F2: 85 0A        	sta	<L84+2+8
  2844 06:05F4: A5 01        	lda	<L84+1
  2845 06:05F6: 85 09        	sta	<L84+1+8
  2846 06:05F8: 2B           	pld
  2847 06:05F9: 3B           	tsc
  2848 06:05FA: 18           	clc
  2849 06:05FB: 69 08 00     	adc	#L84+8
  2850 06:05FE: 1B           	tcs
  Sat Jul 10 2021  1:15                                                Page 61


  2851 06:05FF: 6B           	rtl
  2852                        	.endblock	474
  2853             00000000   L84	equ	0
  2854             00000001   L85	equ	1
  2855 06:0600:              	ends
  2856                        	efunc
  2857                        	.endfunc	474,1,0
  2858                        	.line	474
  2859                        ;
  2860                        ;void k_set_rect(PRECT prect,int x,int y, int widt
                    h,int height)
  2861                        ;{
  2862                        	.line	476
  2863                        	.line	477
  2864                        	GFX
  2865                        	xdef	~~k_set_rect
  2866                        	func
  2867                        	.function	477
  2868                        ~~k_set_rect:
  2869                        	longa	on
  2870                        	longi	on
  2871 06:0600: 3B           	tsc
  2872 06:0601: 38           	sec
  2873 06:0602: E9 00 00     	sbc	#L90
  2874 06:0605: 1B           	tcs
  2875 06:0606: 0B           	phd
  2876 06:0607: 5B           	tcd
  2877             00000004   prect_0	set	4
  2878             00000008   x_0	set	8
  2879             0000000A   y_0	set	10
  2880             0000000C   width_0	set	12
  2881             0000000E   height_0	set	14
  2882                        	.block	477
  2883                        ;	if(prect)
  2884                        	.sym	prect,4,138,6,32,26
  2885                        	.sym	x,8,5,6,16
  2886                        	.sym	y,10,5,6,16
  2887                        	.sym	width,12,5,6,16
  2888                        	.sym	height,14,5,6,16
  2889                        	.line	478
  2890                        ;	{
  2891 06:0608: A5 04        	lda	<L90+prect_0
  2892 06:060A: 05 06        	ora	<L90+prect_0+2
  2893 06:060C: D0 03        	bne	L93
  2894 06:060E: 82 19 00     	brl	L10024
  2895                        L93:
  2896                        	.line	479
  2897                        ;		prect->x = x;
  2898                        	.line	480
  2899 06:0611: A5 08        	lda	<L90+x_0
  2900 06:0613: 87 04        	sta	[<L90+prect_0]
  2901                        ;		prect->y = y;
  2902                        	.line	481
  2903 06:0615: A5 0A        	lda	<L90+y_0
  2904 06:0617: A0 02 00     	ldy	#$2
  2905 06:061A: 97 04        	sta	[<L90+prect_0],Y
  2906                        ;		prect->width = width;
  2907                        	.line	482
  Sat Jul 10 2021  1:15                                                Page 62


  2908 06:061C: A5 0C        	lda	<L90+width_0
  2909 06:061E: A0 08 00     	ldy	#$8
  2910 06:0621: 97 04        	sta	[<L90+prect_0],Y
  2911                        ;		prect->height = height;
  2912                        	.line	483
  2913 06:0623: A5 0E        	lda	<L90+height_0
  2914 06:0625: A0 0A 00     	ldy	#$a
  2915 06:0628: 97 04        	sta	[<L90+prect_0],Y
  2916                        ;	}
  2917                        	.line	484
  2918                        ;}
  2919                        L10024:
  2920                        	.line	485
  2921                        L94:
  2922 06:062A: A5 02        	lda	<L90+2
  2923 06:062C: 85 0E        	sta	<L90+2+12
  2924 06:062E: A5 01        	lda	<L90+1
  2925 06:0630: 85 0D        	sta	<L90+1+12
  2926 06:0632: 2B           	pld
  2927 06:0633: 3B           	tsc
  2928 06:0634: 18           	clc
  2929 06:0635: 69 0C 00     	adc	#L90+12
  2930 06:0638: 1B           	tcs
  2931 06:0639: 6B           	rtl
  2932                        	.endblock	485
  2933             00000000   L90	equ	0
  2934             00000001   L91	equ	1
  2935 06:063A:              	ends
  2936                        	efunc
  2937                        	.endfunc	485,1,0
  2938                        	.line	485
  2939                        ;
  2940                        ;
  2941                        ;INT k_is_overlapped_rect(PRECT r1,PRECT r2)
  2942                        ;{
  2943                        	.line	488
  2944                        	.line	489
  2945                        	GFX
  2946                        	xdef	~~k_is_overlapped_rect
  2947                        	func
  2948                        	.function	489
  2949                        ~~k_is_overlapped_rect:
  2950                        	longa	on
  2951                        	longi	on
  2952 06:063A: 3B           	tsc
  2953 06:063B: 38           	sec
  2954 06:063C: E9 10 00     	sbc	#L95
  2955 06:063F: 1B           	tcs
  2956 06:0640: 0B           	phd
  2957 06:0641: 5B           	tcd
  2958             00000004   r1_0	set	4
  2959             00000008   r2_0	set	8
  2960                        	.block	489
  2961                        ;	POINT rLeft1;
  2962                        ;	POINT rRight1;
  2963                        ;	POINT rLeft2;
  2964                        ;	POINT rRight2;
  2965                        ;
  Sat Jul 10 2021  1:15                                                Page 63


  2966                        ;	rLeft1.x = r1->x;
  2967             00000000   rLeft1_1	set	0
  2968             00000004   rRight1_1	set	4
  2969             00000008   rLeft2_1	set	8
  2970             0000000C   rRight2_1	set	12
  2971                        	.sym	rLeft1,0,10,1,32,25
  2972                        	.sym	rRight1,4,10,1,32,25
  2973                        	.sym	rLeft2,8,10,1,32,25
  2974                        	.sym	rRight2,12,10,1,32,25
  2975                        	.sym	r1,4,138,6,32,26
  2976                        	.sym	r2,8,138,6,32,26
  2977                        	.line	495
  2978 06:0642: A7 14        	lda	[<L95+r1_0]
  2979 06:0644: 85 01        	sta	<L96+rLeft1_1
  2980                        ;	rLeft1.y = r1->y;
  2981                        	.line	496
  2982 06:0646: A0 02 00     	ldy	#$2
  2983 06:0649: B7 14        	lda	[<L95+r1_0],Y
  2984 06:064B: 85 03        	sta	<L96+rLeft1_1+2
  2985                        ;	rRight1.x = r1->x + r1->width;
  2986                        	.line	497
  2987 06:064D: 18           	clc
  2988 06:064E: A7 14        	lda	[<L95+r1_0]
  2989 06:0650: A0 08 00     	ldy	#$8
  2990 06:0653: 77 14        	adc	[<L95+r1_0],Y
  2991 06:0655: 85 05        	sta	<L96+rRight1_1
  2992                        ;	rRight1.y = r1->y + r1->height;
  2993                        	.line	498
  2994 06:0657: 18           	clc
  2995 06:0658: A0 02 00     	ldy	#$2
  2996 06:065B: B7 14        	lda	[<L95+r1_0],Y
  2997 06:065D: A0 0A 00     	ldy	#$a
  2998 06:0660: 77 14        	adc	[<L95+r1_0],Y
  2999 06:0662: 85 07        	sta	<L96+rRight1_1+2
  3000                        ;
  3001                        ;	rLeft2.x = r2->x;
  3002                        	.line	500
  3003 06:0664: A7 18        	lda	[<L95+r2_0]
  3004 06:0666: 85 09        	sta	<L96+rLeft2_1
  3005                        ;	rLeft2.y = r2->y;
  3006                        	.line	501
  3007 06:0668: A0 02 00     	ldy	#$2
  3008 06:066B: B7 18        	lda	[<L95+r2_0],Y
  3009 06:066D: 85 0B        	sta	<L96+rLeft2_1+2
  3010                        ;	rRight2.x = r2->x + r2->width;
  3011                        	.line	502
  3012 06:066F: 18           	clc
  3013 06:0670: A7 18        	lda	[<L95+r2_0]
  3014 06:0672: A0 08 00     	ldy	#$8
  3015 06:0675: 77 18        	adc	[<L95+r2_0],Y
  3016 06:0677: 85 0D        	sta	<L96+rRight2_1
  3017                        ;	rRight2.y = r2->y + r2->height;
  3018                        	.line	503
  3019 06:0679: 18           	clc
  3020 06:067A: A0 02 00     	ldy	#$2
  3021 06:067D: B7 18        	lda	[<L95+r2_0],Y
  3022 06:067F: A0 0A 00     	ldy	#$a
  3023 06:0682: 77 18        	adc	[<L95+r2_0],Y
  Sat Jul 10 2021  1:15                                                Page 64


  3024 06:0684: 85 0F        	sta	<L96+rRight2_1+2
  3025                        ;
  3026                        ;	//k_debug_rect("k_is_overlapped_rect::r1:",r1);
  3027                        ;//	k_debug_rect("k_is_overlapped_rect::r2:"
                    ,r2);
  3028                        ;
  3029                        ;	//k_debug_integer("A:",k_is_overlapped_rect_poin
                    ts(&rLeft1,&rRight1,&rLeft2,&rRight2));
  3030                        ;	//k_debug_integer("B:",k_is_overlapped_rect_poin
                    ts(&rLeft2,&rRight2,&rLeft1,&rRight1));
  3031                        ;
  3032                        ;	return k_is_overlapped_rect_points(&rLeft1,&rRig
                    ht1,&rLeft2,&rRight2);
  3033                        	.line	511
  3034 06:0686: F4 00 00     	pea	#0
  3035 06:0689: 18           	clc
  3036 06:068A: 7B           	tdc
  3037 06:068B: 69 0D 00     	adc	#<L96+rRight2_1
  3038 06:068E: 48           	pha
  3039 06:068F: F4 00 00     	pea	#0
  3040 06:0692: 18           	clc
  3041 06:0693: 7B           	tdc
  3042 06:0694: 69 09 00     	adc	#<L96+rLeft2_1
  3043 06:0697: 48           	pha
  3044 06:0698: F4 00 00     	pea	#0
  3045 06:069B: 18           	clc
  3046 06:069C: 7B           	tdc
  3047 06:069D: 69 05 00     	adc	#<L96+rRight1_1
  3048 06:06A0: 48           	pha
  3049 06:06A1: F4 00 00     	pea	#0
  3050 06:06A4: 18           	clc
  3051 06:06A5: 7B           	tdc
  3052 06:06A6: 69 01 00     	adc	#<L96+rLeft1_1
  3053 06:06A9: 48           	pha
  3054 06:06AA: 22 C0 06 06  	jsl	~~k_is_overlapped_rect_points
  3055                        L98:
  3056 06:06AE: A8           	tay
  3057 06:06AF: A5 12        	lda	<L95+2
  3058 06:06B1: 85 1A        	sta	<L95+2+8
  3059 06:06B3: A5 11        	lda	<L95+1
  3060 06:06B5: 85 19        	sta	<L95+1+8
  3061 06:06B7: 2B           	pld
  3062 06:06B8: 3B           	tsc
  3063 06:06B9: 18           	clc
  3064 06:06BA: 69 18 00     	adc	#L95+8
  3065 06:06BD: 1B           	tcs
  3066 06:06BE: 98           	tya
  3067 06:06BF: 6B           	rtl
  3068                        ;}
  3069                        	.line	512
  3070                        	.endblock	512
  3071             00000010   L95	equ	16
  3072             00000001   L96	equ	1
  3073 06:06C0:              	ends
  3074                        	efunc
  3075                        	.endfunc	512,1,16
  3076                        	.line	512
  3077                        ;
  Sat Jul 10 2021  1:15                                                Page 65


  3078                        ;// Returns true if two rectangles (l1, r1) and (l
                    2, r2) overlap
  3079                        ;INT k_is_overlapped_rect_points(PPOINT left1, PPO
                    INT right1, PPOINT left2, PPOINT right2)
  3080                        ;{
  3081                        	.line	515
  3082                        	.line	516
  3083                        	GFX
  3084                        	xdef	~~k_is_overlapped_rect_points
  3085                        	func
  3086                        	.function	516
  3087                        ~~k_is_overlapped_rect_points:
  3088                        	longa	on
  3089                        	longi	on
  3090 06:06C0: 3B           	tsc
  3091 06:06C1: 38           	sec
  3092 06:06C2: E9 00 00     	sbc	#L99
  3093 06:06C5: 1B           	tcs
  3094 06:06C6: 0B           	phd
  3095 06:06C7: 5B           	tcd
  3096             00000004   left1_0	set	4
  3097             00000008   right1_0	set	8
  3098             0000000C   left2_0	set	12
  3099             00000010   right2_0	set	16
  3100                        	.block	516
  3101                        ;	// If one rectangle is on left side of other
  3102                        ;	// (l1.x > r2.x) this happens when the first rec
                    tangle(l1,r1) is totally on the right of the second rectangl
                    e(l2,r2).
  3103                        ;	// (l2.x > r1.x) this happens when the second re
                    ctangle(l2,r2) is totally on the right of the first rectangl
                    e(l1,r1).
  3104                        ;	//k_debug_integer("k_is_overlapped_rect_points::
                    condition1:left1->x >= right2->x:",left1->x >= right2->x);
  3105                        ;	//k_debug_integer("k_is_overlapped_rect_points::
                    condition1:left2->x >= right1->x:",left2->x >= right1->x);
  3106                        ;
  3107                        ;
  3108                        ;	if (left1->x >= right2->x || left2->x >= right1-
                    >x) //if (l1.x >= r2.x || l2.x >= r1.x)
  3109                        	.sym	left1,4,138,6,32,25
  3110                        	.sym	right1,8,138,6,32,25
  3111                        	.sym	left2,12,138,6,32,25
  3112                        	.sym	right2,16,138,6,32,25
  3113                        	.line	524
  3114                        ;	{
  3115 06:06C8: 38           	sec
  3116 06:06C9: A7 04        	lda	[<L99+left1_0]
  3117 06:06CB: E7 10        	sbc	[<L99+right2_0]
  3118 06:06CD: 70 03        	bvs	L103
  3119 06:06CF: 49 00 80     	eor	#$8000
  3120                        L103:
  3121 06:06D2: 10 03        	bpl	L104
  3122 06:06D4: 82 0F 00     	brl	L102
  3123                        L104:
  3124 06:06D7: 38           	sec
  3125 06:06D8: A7 0C        	lda	[<L99+left2_0]
  3126 06:06DA: E7 08        	sbc	[<L99+right1_0]
  Sat Jul 10 2021  1:15                                                Page 66


  3127 06:06DC: 70 03        	bvs	L105
  3128 06:06DE: 49 00 80     	eor	#$8000
  3129                        L105:
  3130 06:06E1: 30 03        	bmi	L106
  3131 06:06E3: 82 15 00     	brl	L10025
  3132                        L106:
  3133                        L102:
  3134                        	.line	525
  3135                        ;		//k_debug_integer("k_is_overlapped_rect_
                    points::condition1:",1);
  3136                        ;		return FALSE;
  3137                        	.line	527
  3138 06:06E6: A9 00 00     	lda	#$0
  3139                        L107:
  3140 06:06E9: A8           	tay
  3141 06:06EA: A5 02        	lda	<L99+2
  3142 06:06EC: 85 12        	sta	<L99+2+16
  3143 06:06EE: A5 01        	lda	<L99+1
  3144 06:06F0: 85 11        	sta	<L99+1+16
  3145 06:06F2: 2B           	pld
  3146 06:06F3: 3B           	tsc
  3147 06:06F4: 18           	clc
  3148 06:06F5: 69 10 00     	adc	#L99+16
  3149 06:06F8: 1B           	tcs
  3150 06:06F9: 98           	tya
  3151 06:06FA: 6B           	rtl
  3152                        ;	}
  3153                        	.line	528
  3154                        ;	// If one rectangle is above other
  3155                        ;	// (l1.y < r2.y) happens when the first rectangl
                    e(l1,r1) is totally below the second rectangle(l2,r2).
  3156                        ;	// (l2.y < r1.y) happens when the second rectang
                    le(l2,r2) is totally below the first rectangle(l1,r1).
  3157                        ;	if (left1->y > right2->y || left2->y > right1->y
                    )
  3158                        L10025:
  3159                        	.line	532
  3160                        ;	{
  3161 06:06FB: 38           	sec
  3162 06:06FC: A0 02 00     	ldy	#$2
  3163 06:06FF: B7 10        	lda	[<L99+right2_0],Y
  3164 06:0701: A0 02 00     	ldy	#$2
  3165 06:0704: F7 04        	sbc	[<L99+left1_0],Y
  3166 06:0706: 70 03        	bvs	L109
  3167 06:0708: 49 00 80     	eor	#$8000
  3168                        L109:
  3169 06:070B: 30 03        	bmi	L110
  3170 06:070D: 82 15 00     	brl	L108
  3171                        L110:
  3172 06:0710: 38           	sec
  3173 06:0711: A0 02 00     	ldy	#$2
  3174 06:0714: B7 08        	lda	[<L99+right1_0],Y
  3175 06:0716: A0 02 00     	ldy	#$2
  3176 06:0719: F7 0C        	sbc	[<L99+left2_0],Y
  3177 06:071B: 70 03        	bvs	L111
  3178 06:071D: 49 00 80     	eor	#$8000
  3179                        L111:
  3180 06:0720: 10 03        	bpl	L112
  Sat Jul 10 2021  1:15                                                Page 67


  3181 06:0722: 82 06 00     	brl	L10026
  3182                        L112:
  3183                        L108:
  3184                        	.line	533
  3185                        ;		//k_debug_integer("k_is_overlapped_rect_
                    points::condition2:L1Y:",left1->y);
  3186                        ;		//k_debug_integer("k_is_overlapped_rect_
                    points::condition2:R2Y:",right2->y);
  3187                        ;		//k_debug_integer("k_is_overlapped_rect_
                    points::condition2:l1->y <= r2->y:",left1->y <= right2->y);
  3188                        ;
  3189                        ;		//k_debug_integer("k_is_overlapped_rect_
                    points::condition2:L2Y:",left2->y);
  3190                        ;		//k_debug_integer("k_is_overlapped_rect_
                    points::condition2:R1Y:",right1->y);
  3191                        ;		//k_debug_integer("k_is_overlapped_rect_
                    points::condition2:l2->y <= r1->y:",left2->y <= right1->y);
  3192                        ;		return FALSE;
  3193                        	.line	541
  3194 06:0725: A9 00 00     	lda	#$0
  3195 06:0728: 82 BE FF     	brl	L107
  3196                        ;	}
  3197                        	.line	542
  3198                        ;	return TRUE;
  3199                        L10026:
  3200                        	.line	543
  3201 06:072B: A9 01 00     	lda	#$1
  3202 06:072E: 82 B8 FF     	brl	L107
  3203                        ;}
  3204                        	.line	544
  3205                        	.endblock	544
  3206             00000000   L99	equ	0
  3207             00000001   L100	equ	1
  3208 06:0731:              	ends
  3209                        	efunc
  3210                        	.endfunc	544,1,0
  3211                        	.line	544
  3212                        ;
  3213                        ;BOOL k_is_inside_rect(PRECT prect, int dx, int dy
                    )
  3214                        ;{
  3215                        	.line	546
  3216                        	.line	547
  3217                        	GFX
  3218                        	xdef	~~k_is_inside_rect
  3219                        	func
  3220                        	.function	547
  3221                        ~~k_is_inside_rect:
  3222                        	longa	on
  3223                        	longi	on
  3224 06:0731: 3B           	tsc
  3225 06:0732: 38           	sec
  3226 06:0733: E9 05 00     	sbc	#L113
  3227 06:0736: 1B           	tcs
  3228 06:0737: 0B           	phd
  3229 06:0738: 5B           	tcd
  3230             00000004   prect_0	set	4
  3231             00000008   dx_0	set	8
  Sat Jul 10 2021  1:15                                                Page 68


  3232             0000000A   dy_0	set	10
  3233                        	.block	547
  3234                        ;	BOOL bRet = FALSE;
  3235                        ;
  3236                        ;	if ((dx > prect->x) && (dx < (prect->x + prect->
                    width)))
  3237             00000000   bRet_1	set	0
  3238                        	.sym	bRet,0,14,1,8
  3239                        	.sym	prect,4,138,6,32,26
  3240                        	.sym	dx,8,5,6,16
  3241                        	.sym	dy,10,5,6,16
  3242 06:0739: E2 20        	sep	#$20
  3243                        	longa	off
  3244 06:073B: 64 05        	stz	<L114+bRet_1
  3245 06:073D: C2 20        	rep	#$20
  3246                        	longa	on
  3247                        	.line	550
  3248                        ;	{
  3249 06:073F: 38           	sec
  3250 06:0740: A7 09        	lda	[<L113+prect_0]
  3251 06:0742: E5 0D        	sbc	<L113+dx_0
  3252 06:0744: 70 03        	bvs	L116
  3253 06:0746: 49 00 80     	eor	#$8000
  3254                        L116:
  3255 06:0749: 10 03        	bpl	L117
  3256 06:074B: 82 4F 00     	brl	L10027
  3257                        L117:
  3258 06:074E: 18           	clc
  3259 06:074F: A7 09        	lda	[<L113+prect_0]
  3260 06:0751: A0 08 00     	ldy	#$8
  3261 06:0754: 77 09        	adc	[<L113+prect_0],Y
  3262 06:0756: 85 01        	sta	<R0
  3263 06:0758: 38           	sec
  3264 06:0759: A5 0D        	lda	<L113+dx_0
  3265 06:075B: E5 01        	sbc	<R0
  3266 06:075D: 70 03        	bvs	L118
  3267 06:075F: 49 00 80     	eor	#$8000
  3268                        L118:
  3269 06:0762: 10 03        	bpl	L119
  3270 06:0764: 82 36 00     	brl	L10027
  3271                        L119:
  3272                        	.line	551
  3273                        ;		if ((dy > prect->y) && (dy < (prect->y +
                     prect->height)))
  3274                        	.line	552
  3275                        ;		{
  3276 06:0767: 38           	sec
  3277 06:0768: A0 02 00     	ldy	#$2
  3278 06:076B: B7 09        	lda	[<L113+prect_0],Y
  3279 06:076D: E5 0F        	sbc	<L113+dy_0
  3280 06:076F: 70 03        	bvs	L120
  3281 06:0771: 49 00 80     	eor	#$8000
  3282                        L120:
  3283 06:0774: 10 03        	bpl	L121
  3284 06:0776: 82 24 00     	brl	L10028
  3285                        L121:
  3286 06:0779: 18           	clc
  3287 06:077A: A0 02 00     	ldy	#$2
  Sat Jul 10 2021  1:15                                                Page 69


  3288 06:077D: B7 09        	lda	[<L113+prect_0],Y
  3289 06:077F: A0 0A 00     	ldy	#$a
  3290 06:0782: 77 09        	adc	[<L113+prect_0],Y
  3291 06:0784: 85 01        	sta	<R0
  3292 06:0786: 38           	sec
  3293 06:0787: A5 0F        	lda	<L113+dy_0
  3294 06:0789: E5 01        	sbc	<R0
  3295 06:078B: 70 03        	bvs	L122
  3296 06:078D: 49 00 80     	eor	#$8000
  3297                        L122:
  3298 06:0790: 10 03        	bpl	L123
  3299 06:0792: 82 08 00     	brl	L10028
  3300                        L123:
  3301                        	.line	553
  3302                        ;			bRet = TRUE;
  3303                        	.line	554
  3304 06:0795: E2 20        	sep	#$20
  3305                        	longa	off
  3306 06:0797: A9 01        	lda	#$1
  3307 06:0799: 85 05        	sta	<L114+bRet_1
  3308 06:079B: C2 20        	rep	#$20
  3309                        	longa	on
  3310                        ;		}
  3311                        	.line	555
  3312                        ;	}
  3313                        L10028:
  3314                        	.line	556
  3315                        ;
  3316                        ;	return bRet;
  3317                        L10027:
  3318                        	.line	558
  3319 06:079D: A5 05        	lda	<L114+bRet_1
  3320 06:079F: 29 FF 00     	and	#$ff
  3321                        L124:
  3322 06:07A2: A8           	tay
  3323 06:07A3: A5 07        	lda	<L113+2
  3324 06:07A5: 85 0F        	sta	<L113+2+8
  3325 06:07A7: A5 06        	lda	<L113+1
  3326 06:07A9: 85 0E        	sta	<L113+1+8
  3327 06:07AB: 2B           	pld
  3328 06:07AC: 3B           	tsc
  3329 06:07AD: 18           	clc
  3330 06:07AE: 69 0D 00     	adc	#L113+8
  3331 06:07B1: 1B           	tcs
  3332 06:07B2: 98           	tya
  3333 06:07B3: 6B           	rtl
  3334                        ;}
  3335                        	.line	559
  3336                        	.endblock	559
  3337             00000005   L113	equ	5
  3338             00000005   L114	equ	5
  3339 06:07B4:              	ends
  3340                        	efunc
  3341                        	.endfunc	559,5,5
  3342                        	.line	559
  3343                        ;
  3344                        ;LONG k_gui_get_pixel_offset(int x,int y)
  3345                        ;{
  Sat Jul 10 2021  1:15                                                Page 70


  3346                        	.line	561
  3347                        	.line	562
  3348                        	GFX
  3349                        	xdef	~~k_gui_get_pixel_offset
  3350                        	func
  3351                        	.function	562
  3352                        ~~k_gui_get_pixel_offset:
  3353                        	longa	on
  3354                        	longi	on
  3355 06:07B4: 3B           	tsc
  3356 06:07B5: 38           	sec
  3357 06:07B6: E9 04 00     	sbc	#L125
  3358 06:07B9: 1B           	tcs
  3359 06:07BA: 0B           	phd
  3360 06:07BB: 5B           	tcd
  3361             00000004   x_0	set	4
  3362             00000006   y_0	set	6
  3363                        	.block	562
  3364                        ;	//return (LPVOID)(( ((long)y) * (640L)) + ((long
                    )x) );
  3365                        ;	return k_gui_get_pixel_offset_width(x,y,640);
  3366                        	.sym	x,4,5,6,16
  3367                        	.sym	y,6,5,6,16
  3368                        	.line	564
  3369 06:07BC: F4 80 02     	pea	#<$280
  3370 06:07BF: D4 0A        	pei	<L125+y_0
  3371 06:07C1: D4 08        	pei	<L125+x_0
  3372 06:07C3: 22 E1 07 06  	jsl	~~k_gui_get_pixel_offset_width
  3373 06:07C7: 85 01        	sta	<R0
  3374 06:07C9: 86 03        	stx	<R0+2
  3375 06:07CB: A6 03        	ldx	<R0+2
  3376 06:07CD: A5 01        	lda	<R0
  3377                        L128:
  3378 06:07CF: A8           	tay
  3379 06:07D0: A5 06        	lda	<L125+2
  3380 06:07D2: 85 0A        	sta	<L125+2+4
  3381 06:07D4: A5 05        	lda	<L125+1
  3382 06:07D6: 85 09        	sta	<L125+1+4
  3383 06:07D8: 2B           	pld
  3384 06:07D9: 3B           	tsc
  3385 06:07DA: 18           	clc
  3386 06:07DB: 69 08 00     	adc	#L125+4
  3387 06:07DE: 1B           	tcs
  3388 06:07DF: 98           	tya
  3389 06:07E0: 6B           	rtl
  3390                        ;}
  3391                        	.line	565
  3392                        	.endblock	565
  3393             00000004   L125	equ	4
  3394             00000005   L126	equ	5
  3395 06:07E1:              	ends
  3396                        	efunc
  3397                        	.endfunc	565,5,4
  3398                        	.line	565
  3399                        ;
  3400                        ;LONG k_gui_get_pixel_offset_width(int x,int y,int
                     width)
  3401                        ;{
  Sat Jul 10 2021  1:15                                                Page 71


  3402                        	.line	567
  3403                        	.line	568
  3404                        	GFX
  3405                        	xdef	~~k_gui_get_pixel_offset_width
  3406                        	func
  3407                        	.function	568
  3408                        ~~k_gui_get_pixel_offset_width:
  3409                        	longa	on
  3410                        	longi	on
  3411 06:07E1: 3B           	tsc
  3412 06:07E2: 38           	sec
  3413 06:07E3: E9 0C 00     	sbc	#L129
  3414 06:07E6: 1B           	tcs
  3415 06:07E7: 0B           	phd
  3416 06:07E8: 5B           	tcd
  3417             00000004   x_0	set	4
  3418             00000006   y_0	set	6
  3419             00000008   width_0	set	8
  3420                        	.block	568
  3421                        ;	return (LONG)(( ((long)y) * ((long)width)) + ((l
                    ong)x) );
  3422                        	.sym	x,4,5,6,16
  3423                        	.sym	y,6,5,6,16
  3424                        	.sym	width,8,5,6,16
  3425                        	.line	569
  3426 06:07E9: A0 00 00     	ldy	#$0
  3427 06:07EC: A5 10        	lda	<L129+x_0
  3428 06:07EE: 10 01        	bpl	L132
  3429 06:07F0: 88           	dey
  3430                        L132:
  3431 06:07F1: 85 01        	sta	<R0
  3432 06:07F3: 84 03        	sty	<R0+2
  3433 06:07F5: A0 00 00     	ldy	#$0
  3434 06:07F8: A5 14        	lda	<L129+width_0
  3435 06:07FA: 10 01        	bpl	L133
  3436 06:07FC: 88           	dey
  3437                        L133:
  3438 06:07FD: 85 05        	sta	<R1
  3439 06:07FF: 84 07        	sty	<R1+2
  3440 06:0801: A0 00 00     	ldy	#$0
  3441 06:0804: A5 12        	lda	<L129+y_0
  3442 06:0806: 10 01        	bpl	L134
  3443 06:0808: 88           	dey
  3444                        L134:
  3445 06:0809: 85 09        	sta	<R2
  3446 06:080B: 84 0B        	sty	<R2+2
  3447 06:080D: D4 07        	pei	<R1+2
  3448 06:080F: D4 05        	pei	<R1
  3449 06:0811: D4 0B        	pei	<R2+2
  3450 06:0813: D4 09        	pei	<R2
  3451                        	xref	~~~lmul
  3452 06:0815: 22 xx xx xx  	jsl	~~~lmul
  3453 06:0819: 85 05        	sta	<R1
  3454 06:081B: 86 07        	stx	<R1+2
  3455 06:081D: 18           	clc
  3456 06:081E: A5 05        	lda	<R1
  3457 06:0820: 65 01        	adc	<R0
  3458 06:0822: 85 09        	sta	<R2
  Sat Jul 10 2021  1:15                                                Page 72


  3459 06:0824: A5 07        	lda	<R1+2
  3460 06:0826: 65 03        	adc	<R0+2
  3461 06:0828: 85 0B        	sta	<R2+2
  3462 06:082A: A6 0B        	ldx	<R2+2
  3463 06:082C: A5 09        	lda	<R2
  3464                        L135:
  3465 06:082E: A8           	tay
  3466 06:082F: A5 0E        	lda	<L129+2
  3467 06:0831: 85 14        	sta	<L129+2+6
  3468 06:0833: A5 0D        	lda	<L129+1
  3469 06:0835: 85 13        	sta	<L129+1+6
  3470 06:0837: 2B           	pld
  3471 06:0838: 3B           	tsc
  3472 06:0839: 18           	clc
  3473 06:083A: 69 12 00     	adc	#L129+6
  3474 06:083D: 1B           	tcs
  3475 06:083E: 98           	tya
  3476 06:083F: 6B           	rtl
  3477                        ;}
  3478                        	.line	570
  3479                        	.endblock	570
  3480             0000000C   L129	equ	12
  3481             0000000D   L130	equ	13
  3482 06:0840:              	ends
  3483                        	efunc
  3484                        	.endfunc	570,13,12
  3485                        	.line	570
  3486                        ;
  3487                        ;void k_set_foreground_palette(char paletteId)
  3488                        ;{
  3489                        	.line	572
  3490                        	.line	573
  3491                        	GFX
  3492                        	xdef	~~k_set_foreground_palette
  3493                        	func
  3494                        	.function	573
  3495                        ~~k_set_foreground_palette:
  3496                        	longa	on
  3497                        	longi	on
  3498 06:0840: 3B           	tsc
  3499 06:0841: 38           	sec
  3500 06:0842: E9 00 00     	sbc	#L136
  3501 06:0845: 1B           	tcs
  3502 06:0846: 0B           	phd
  3503 06:0847: 5B           	tcd
  3504             00000004   paletteId_0	set	4
  3505                        	.block	573
  3506                        ;	FG_CHAR_LUT_PTR[0] = paletteId;
  3507                        	.sym	paletteId,4,14,6,8
  3508                        	.line	574
  3509 06:0848: E2 20        	sep	#$20
  3510                        	longa	off
  3511 06:084A: A5 04        	lda	<L136+paletteId_0
  3512 06:084C: 8F 40 1F AF  	sta	>11476800
  3513 06:0850: C2 20        	rep	#$20
  3514                        	longa	on
  3515                        ;}
  3516                        	.line	575
  Sat Jul 10 2021  1:15                                                Page 73


  3517                        L139:
  3518 06:0852: A5 02        	lda	<L136+2
  3519 06:0854: 85 04        	sta	<L136+2+2
  3520 06:0856: A5 01        	lda	<L136+1
  3521 06:0858: 85 03        	sta	<L136+1+2
  3522 06:085A: 2B           	pld
  3523 06:085B: 3B           	tsc
  3524 06:085C: 18           	clc
  3525 06:085D: 69 02 00     	adc	#L136+2
  3526 06:0860: 1B           	tcs
  3527 06:0861: 6B           	rtl
  3528                        	.endblock	575
  3529             00000000   L136	equ	0
  3530             00000001   L137	equ	1
  3531 06:0862:              	ends
  3532                        	efunc
  3533                        	.endfunc	575,1,0
  3534                        	.line	575
  3535                        ;
  3536                        ;void k_set_text_gamma(char c)
  3537                        ;{
  3538                        	.line	577
  3539                        	.line	578
  3540                        	GFX
  3541                        	xdef	~~k_set_text_gamma
  3542                        	func
  3543                        	.function	578
  3544                        ~~k_set_text_gamma:
  3545                        	longa	on
  3546                        	longi	on
  3547 06:0862: 3B           	tsc
  3548 06:0863: 38           	sec
  3549 06:0864: E9 00 00     	sbc	#L140
  3550 06:0867: 1B           	tcs
  3551 06:0868: 0B           	phd
  3552 06:0869: 5B           	tcd
  3553             00000004   c_0	set	4
  3554                        	.block	578
  3555                        ;	GAMMA_B_LUT_PTR[0] = c;
  3556                        	.sym	c,4,14,6,8
  3557                        	.line	579
  3558 06:086A: E2 20        	sep	#$20
  3559                        	longa	off
  3560 06:086C: A5 04        	lda	<L140+c_0
  3561 06:086E: 8F 00 40 AF  	sta	>11485184
  3562 06:0872: C2 20        	rep	#$20
  3563                        	longa	on
  3564                        ;	GAMMA_G_LUT_PTR[0] = c;
  3565                        	.line	580
  3566 06:0874: E2 20        	sep	#$20
  3567                        	longa	off
  3568 06:0876: A5 04        	lda	<L140+c_0
  3569 06:0878: 8F 00 41 AF  	sta	>11485440
  3570 06:087C: C2 20        	rep	#$20
  3571                        	longa	on
  3572                        ;	GAMMA_R_LUT_PTR[0] = c;
  3573                        	.line	581
  3574 06:087E: E2 20        	sep	#$20
  Sat Jul 10 2021  1:15                                                Page 74


  3575                        	longa	off
  3576 06:0880: A5 04        	lda	<L140+c_0
  3577 06:0882: 8F 00 42 AF  	sta	>11485696
  3578 06:0886: C2 20        	rep	#$20
  3579                        	longa	on
  3580                        ;}
  3581                        	.line	582
  3582                        L143:
  3583 06:0888: A5 02        	lda	<L140+2
  3584 06:088A: 85 04        	sta	<L140+2+2
  3585 06:088C: A5 01        	lda	<L140+1
  3586 06:088E: 85 03        	sta	<L140+1+2
  3587 06:0890: 2B           	pld
  3588 06:0891: 3B           	tsc
  3589 06:0892: 18           	clc
  3590 06:0893: 69 02 00     	adc	#L140+2
  3591 06:0896: 1B           	tcs
  3592 06:0897: 6B           	rtl
  3593                        	.endblock	582
  3594             00000000   L140	equ	0
  3595             00000001   L141	equ	1
  3596 06:0898:              	ends
  3597                        	efunc
  3598                        	.endfunc	582,1,0
  3599                        	.line	582
  3600                        ;
  3601                        ;void k_set_text_color(char c)
  3602                        ;{
  3603                        	.line	584
  3604                        	.line	585
  3605                        	GFX
  3606                        	xdef	~~k_set_text_color
  3607                        	func
  3608                        	.function	585
  3609                        ~~k_set_text_color:
  3610                        	longa	on
  3611                        	longi	on
  3612 06:0898: 3B           	tsc
  3613 06:0899: 38           	sec
  3614 06:089A: E9 00 00     	sbc	#L144
  3615 06:089D: 1B           	tcs
  3616 06:089E: 0B           	phd
  3617 06:089F: 5B           	tcd
  3618             00000004   c_0	set	4
  3619                        	.block	585
  3620                        ;	CURCOLOR_L[0] = c;
  3621                        	.sym	c,4,14,6,8
  3622                        	.line	586
  3623 06:08A0: E2 20        	sep	#$20
  3624                        	longa	off
  3625 06:08A2: A5 04        	lda	<L144+c_0
  3626 06:08A4: 8F 1E 00 00  	sta	>30
  3627 06:08A8: C2 20        	rep	#$20
  3628                        	longa	on
  3629                        ;	CURCOLOR_H[0] = c;
  3630                        	.line	587
  3631 06:08AA: E2 20        	sep	#$20
  3632                        	longa	off
  Sat Jul 10 2021  1:15                                                Page 75


  3633 06:08AC: A5 04        	lda	<L144+c_0
  3634 06:08AE: 8F 1F 00 00  	sta	>31
  3635 06:08B2: C2 20        	rep	#$20
  3636                        	longa	on
  3637                        ;}
  3638                        	.line	588
  3639                        L147:
  3640 06:08B4: A5 02        	lda	<L144+2
  3641 06:08B6: 85 04        	sta	<L144+2+2
  3642 06:08B8: A5 01        	lda	<L144+1
  3643 06:08BA: 85 03        	sta	<L144+1+2
  3644 06:08BC: 2B           	pld
  3645 06:08BD: 3B           	tsc
  3646 06:08BE: 18           	clc
  3647 06:08BF: 69 02 00     	adc	#L144+2
  3648 06:08C2: 1B           	tcs
  3649 06:08C3: 6B           	rtl
  3650                        	.endblock	588
  3651             00000000   L144	equ	0
  3652             00000001   L145	equ	1
  3653 06:08C4:              	ends
  3654                        	efunc
  3655                        	.endfunc	588,1,0
  3656                        	.line	588
  3657                        ;
  3658                        ;VOID k_set_text_colors(VOID)
  3659                        ;{
  3660                        	.line	590
  3661                        	.line	591
  3662                        	GFX
  3663                        	xdef	~~k_set_text_colors
  3664                        	func
  3665                        	.function	591
  3666                        ~~k_set_text_colors:
  3667                        	longa	on
  3668                        	longi	on
  3669 06:08C4: 3B           	tsc
  3670 06:08C5: 38           	sec
  3671 06:08C6: E9 00 00     	sbc	#L148
  3672 06:08C9: 1B           	tcs
  3673 06:08CA: 0B           	phd
  3674 06:08CB: 5B           	tcd
  3675                        	.block	591
  3676                        ;	//k_debug_integer("k_set_text_colors::TEXT_FG_CO
                    LORS:",sizeof(TEXT_FG_COLORS));
  3677                        ;	//k_debug_integer("k_set_text_colors::TEXT_BG_CO
                    LORS:",sizeof(TEXT_BG_COLORS));
  3678                        ;
  3679                        ;	memcpy(FG_CHAR_LUT_PTR,TEXT_FG_COLORS,sizeof(TEX
                    T_FG_COLORS));
  3680                        	.line	595
  3681 06:08CC: F4 40 00     	pea	#<$40
  3682 06:08CF: F4 xx xx     	pea	#^~~TEXT_FG_COLORS
  3683 06:08D2: F4 xx xx     	pea	#<~~TEXT_FG_COLORS
  3684 06:08D5: F4 AF 00     	pea	#^$af1f40
  3685 06:08D8: F4 40 1F     	pea	#<$af1f40
  3686 06:08DB: 22 xx xx xx  	jsl	~~memcpy
  3687                        ;	memcpy(BG_CHAR_LUT_PTR,TEXT_BG_COLORS,sizeof(TEX
  Sat Jul 10 2021  1:15                                                Page 76


                    T_BG_COLORS));
  3688                        	.line	596
  3689 06:08DF: F4 40 00     	pea	#<$40
  3690 06:08E2: F4 xx xx     	pea	#^~~TEXT_BG_COLORS
  3691 06:08E5: F4 xx xx     	pea	#<~~TEXT_BG_COLORS
  3692 06:08E8: F4 AF 00     	pea	#^$af1f80
  3693 06:08EB: F4 80 1F     	pea	#<$af1f80
  3694 06:08EE: 22 xx xx xx  	jsl	~~memcpy
  3695                        ;}
  3696                        	.line	597
  3697                        L151:
  3698 06:08F2: 2B           	pld
  3699 06:08F3: 3B           	tsc
  3700 06:08F4: 18           	clc
  3701 06:08F5: 69 00 00     	adc	#L148
  3702 06:08F8: 1B           	tcs
  3703 06:08F9: 6B           	rtl
  3704                        	.endblock	597
  3705             00000000   L148	equ	0
  3706             00000001   L149	equ	1
  3707 06:08FA:              	ends
  3708                        	efunc
  3709                        	.endfunc	597,1,0
  3710                        	.line	597
  3711                        ;
  3712                        ;
  3713                        ;void setColors(void)
  3714                        ;{
  3715                        	.line	600
  3716                        	.line	601
  3717                        	GFX
  3718                        	xdef	~~setColors
  3719                        	func
  3720                        	.function	601
  3721                        ~~setColors:
  3722                        	longa	on
  3723                        	longi	on
  3724 06:08FA: 3B           	tsc
  3725 06:08FB: 38           	sec
  3726 06:08FC: E9 08 00     	sbc	#L152
  3727 06:08FF: 1B           	tcs
  3728 06:0900: 0B           	phd
  3729 06:0901: 5B           	tcd
  3730                        	.block	601
  3731                        ;	unsigned long colorIndex = 0;
  3732                        ;
  3733                        ;	//colorIndex = 0;
  3734                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3735             00000000   colorIndex_1	set	0
  3736                        	.sym	colorIndex,0,18,1,32
  3737 06:0902: 64 05        	stz	<L153+colorIndex_1
  3738 06:0904: 64 07        	stz	<L153+colorIndex_1+2
  3739                        	.line	605
  3740 06:0906: 18           	clc
  3741 06:0907: A9 00 20     	lda	#$2000
  3742 06:090A: 65 05        	adc	<L153+colorIndex_1
  3743 06:090C: 85 01        	sta	<R0
  3744 06:090E: A9 AF 00     	lda	#$af
  Sat Jul 10 2021  1:15                                                Page 77


  3745 06:0911: 65 07        	adc	<L153+colorIndex_1+2
  3746 06:0913: 85 03        	sta	<R0+2
  3747 06:0915: E2 20        	sep	#$20
  3748                        	longa	off
  3749 06:0917: A9 00        	lda	#$0
  3750 06:0919: 87 01        	sta	[<R0]
  3751 06:091B: C2 20        	rep	#$20
  3752                        	longa	on
  3753 06:091D: E6 05        	inc	<L153+colorIndex_1
  3754 06:091F: D0 02        	bne	L155
  3755 06:0921: E6 07        	inc	<L153+colorIndex_1+2
  3756                        L155:
  3757                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3758                        	.line	606
  3759 06:0923: 18           	clc
  3760 06:0924: A9 00 20     	lda	#$2000
  3761 06:0927: 65 05        	adc	<L153+colorIndex_1
  3762 06:0929: 85 01        	sta	<R0
  3763 06:092B: A9 AF 00     	lda	#$af
  3764 06:092E: 65 07        	adc	<L153+colorIndex_1+2
  3765 06:0930: 85 03        	sta	<R0+2
  3766 06:0932: E2 20        	sep	#$20
  3767                        	longa	off
  3768 06:0934: A9 00        	lda	#$0
  3769 06:0936: 87 01        	sta	[<R0]
  3770 06:0938: C2 20        	rep	#$20
  3771                        	longa	on
  3772 06:093A: E6 05        	inc	<L153+colorIndex_1
  3773 06:093C: D0 02        	bne	L156
  3774 06:093E: E6 07        	inc	<L153+colorIndex_1+2
  3775                        L156:
  3776                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3777                        	.line	607
  3778 06:0940: 18           	clc
  3779 06:0941: A9 00 20     	lda	#$2000
  3780 06:0944: 65 05        	adc	<L153+colorIndex_1
  3781 06:0946: 85 01        	sta	<R0
  3782 06:0948: A9 AF 00     	lda	#$af
  3783 06:094B: 65 07        	adc	<L153+colorIndex_1+2
  3784 06:094D: 85 03        	sta	<R0+2
  3785 06:094F: E2 20        	sep	#$20
  3786                        	longa	off
  3787 06:0951: A9 00        	lda	#$0
  3788 06:0953: 87 01        	sta	[<R0]
  3789 06:0955: C2 20        	rep	#$20
  3790                        	longa	on
  3791 06:0957: E6 05        	inc	<L153+colorIndex_1
  3792 06:0959: D0 02        	bne	L157
  3793 06:095B: E6 07        	inc	<L153+colorIndex_1+2
  3794                        L157:
  3795                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  3796                        	.line	608
  3797 06:095D: 18           	clc
  3798 06:095E: A9 00 20     	lda	#$2000
  3799 06:0961: 65 05        	adc	<L153+colorIndex_1
  3800 06:0963: 85 01        	sta	<R0
  3801 06:0965: A9 AF 00     	lda	#$af
  3802 06:0968: 65 07        	adc	<L153+colorIndex_1+2
  Sat Jul 10 2021  1:15                                                Page 78


  3803 06:096A: 85 03        	sta	<R0+2
  3804 06:096C: E2 20        	sep	#$20
  3805                        	longa	off
  3806 06:096E: A9 FF        	lda	#$ff
  3807 06:0970: 87 01        	sta	[<R0]
  3808 06:0972: C2 20        	rep	#$20
  3809                        	longa	on
  3810 06:0974: E6 05        	inc	<L153+colorIndex_1
  3811 06:0976: D0 02        	bne	L158
  3812 06:0978: E6 07        	inc	<L153+colorIndex_1+2
  3813                        L158:
  3814                        ;
  3815                        ;	//colorIndex = 1 * 4;
  3816                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3817                        	.line	611
  3818 06:097A: 18           	clc
  3819 06:097B: A9 00 20     	lda	#$2000
  3820 06:097E: 65 05        	adc	<L153+colorIndex_1
  3821 06:0980: 85 01        	sta	<R0
  3822 06:0982: A9 AF 00     	lda	#$af
  3823 06:0985: 65 07        	adc	<L153+colorIndex_1+2
  3824 06:0987: 85 03        	sta	<R0+2
  3825 06:0989: E2 20        	sep	#$20
  3826                        	longa	off
  3827 06:098B: A9 00        	lda	#$0
  3828 06:098D: 87 01        	sta	[<R0]
  3829 06:098F: C2 20        	rep	#$20
  3830                        	longa	on
  3831 06:0991: E6 05        	inc	<L153+colorIndex_1
  3832 06:0993: D0 02        	bne	L159
  3833 06:0995: E6 07        	inc	<L153+colorIndex_1+2
  3834                        L159:
  3835                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3836                        	.line	612
  3837 06:0997: 18           	clc
  3838 06:0998: A9 00 20     	lda	#$2000
  3839 06:099B: 65 05        	adc	<L153+colorIndex_1
  3840 06:099D: 85 01        	sta	<R0
  3841 06:099F: A9 AF 00     	lda	#$af
  3842 06:09A2: 65 07        	adc	<L153+colorIndex_1+2
  3843 06:09A4: 85 03        	sta	<R0+2
  3844 06:09A6: E2 20        	sep	#$20
  3845                        	longa	off
  3846 06:09A8: A9 00        	lda	#$0
  3847 06:09AA: 87 01        	sta	[<R0]
  3848 06:09AC: C2 20        	rep	#$20
  3849                        	longa	on
  3850 06:09AE: E6 05        	inc	<L153+colorIndex_1
  3851 06:09B0: D0 02        	bne	L160
  3852 06:09B2: E6 07        	inc	<L153+colorIndex_1+2
  3853                        L160:
  3854                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  3855                        	.line	613
  3856 06:09B4: 18           	clc
  3857 06:09B5: A9 00 20     	lda	#$2000
  3858 06:09B8: 65 05        	adc	<L153+colorIndex_1
  3859 06:09BA: 85 01        	sta	<R0
  3860 06:09BC: A9 AF 00     	lda	#$af
  Sat Jul 10 2021  1:15                                                Page 79


  3861 06:09BF: 65 07        	adc	<L153+colorIndex_1+2
  3862 06:09C1: 85 03        	sta	<R0+2
  3863 06:09C3: E2 20        	sep	#$20
  3864                        	longa	off
  3865 06:09C5: A9 80        	lda	#$80
  3866 06:09C7: 87 01        	sta	[<R0]
  3867 06:09C9: C2 20        	rep	#$20
  3868                        	longa	on
  3869 06:09CB: E6 05        	inc	<L153+colorIndex_1
  3870 06:09CD: D0 02        	bne	L161
  3871 06:09CF: E6 07        	inc	<L153+colorIndex_1+2
  3872                        L161:
  3873                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  3874                        	.line	614
  3875 06:09D1: 18           	clc
  3876 06:09D2: A9 00 20     	lda	#$2000
  3877 06:09D5: 65 05        	adc	<L153+colorIndex_1
  3878 06:09D7: 85 01        	sta	<R0
  3879 06:09D9: A9 AF 00     	lda	#$af
  3880 06:09DC: 65 07        	adc	<L153+colorIndex_1+2
  3881 06:09DE: 85 03        	sta	<R0+2
  3882 06:09E0: E2 20        	sep	#$20
  3883                        	longa	off
  3884 06:09E2: A9 FF        	lda	#$ff
  3885 06:09E4: 87 01        	sta	[<R0]
  3886 06:09E6: C2 20        	rep	#$20
  3887                        	longa	on
  3888 06:09E8: E6 05        	inc	<L153+colorIndex_1
  3889 06:09EA: D0 02        	bne	L162
  3890 06:09EC: E6 07        	inc	<L153+colorIndex_1+2
  3891                        L162:
  3892                        ;
  3893                        ;	//colorIndex = 2 * 4;
  3894                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3895                        	.line	617
  3896 06:09EE: 18           	clc
  3897 06:09EF: A9 00 20     	lda	#$2000
  3898 06:09F2: 65 05        	adc	<L153+colorIndex_1
  3899 06:09F4: 85 01        	sta	<R0
  3900 06:09F6: A9 AF 00     	lda	#$af
  3901 06:09F9: 65 07        	adc	<L153+colorIndex_1+2
  3902 06:09FB: 85 03        	sta	<R0+2
  3903 06:09FD: E2 20        	sep	#$20
  3904                        	longa	off
  3905 06:09FF: A9 00        	lda	#$0
  3906 06:0A01: 87 01        	sta	[<R0]
  3907 06:0A03: C2 20        	rep	#$20
  3908                        	longa	on
  3909 06:0A05: E6 05        	inc	<L153+colorIndex_1
  3910 06:0A07: D0 02        	bne	L163
  3911 06:0A09: E6 07        	inc	<L153+colorIndex_1+2
  3912                        L163:
  3913                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  3914                        	.line	618
  3915 06:0A0B: 18           	clc
  3916 06:0A0C: A9 00 20     	lda	#$2000
  3917 06:0A0F: 65 05        	adc	<L153+colorIndex_1
  3918 06:0A11: 85 01        	sta	<R0
  Sat Jul 10 2021  1:15                                                Page 80


  3919 06:0A13: A9 AF 00     	lda	#$af
  3920 06:0A16: 65 07        	adc	<L153+colorIndex_1+2
  3921 06:0A18: 85 03        	sta	<R0+2
  3922 06:0A1A: E2 20        	sep	#$20
  3923                        	longa	off
  3924 06:0A1C: A9 80        	lda	#$80
  3925 06:0A1E: 87 01        	sta	[<R0]
  3926 06:0A20: C2 20        	rep	#$20
  3927                        	longa	on
  3928 06:0A22: E6 05        	inc	<L153+colorIndex_1
  3929 06:0A24: D0 02        	bne	L164
  3930 06:0A26: E6 07        	inc	<L153+colorIndex_1+2
  3931                        L164:
  3932                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3933                        	.line	619
  3934 06:0A28: 18           	clc
  3935 06:0A29: A9 00 20     	lda	#$2000
  3936 06:0A2C: 65 05        	adc	<L153+colorIndex_1
  3937 06:0A2E: 85 01        	sta	<R0
  3938 06:0A30: A9 AF 00     	lda	#$af
  3939 06:0A33: 65 07        	adc	<L153+colorIndex_1+2
  3940 06:0A35: 85 03        	sta	<R0+2
  3941 06:0A37: E2 20        	sep	#$20
  3942                        	longa	off
  3943 06:0A39: A9 00        	lda	#$0
  3944 06:0A3B: 87 01        	sta	[<R0]
  3945 06:0A3D: C2 20        	rep	#$20
  3946                        	longa	on
  3947 06:0A3F: E6 05        	inc	<L153+colorIndex_1
  3948 06:0A41: D0 02        	bne	L165
  3949 06:0A43: E6 07        	inc	<L153+colorIndex_1+2
  3950                        L165:
  3951                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  3952                        	.line	620
  3953 06:0A45: 18           	clc
  3954 06:0A46: A9 00 20     	lda	#$2000
  3955 06:0A49: 65 05        	adc	<L153+colorIndex_1
  3956 06:0A4B: 85 01        	sta	<R0
  3957 06:0A4D: A9 AF 00     	lda	#$af
  3958 06:0A50: 65 07        	adc	<L153+colorIndex_1+2
  3959 06:0A52: 85 03        	sta	<R0+2
  3960 06:0A54: E2 20        	sep	#$20
  3961                        	longa	off
  3962 06:0A56: A9 FF        	lda	#$ff
  3963 06:0A58: 87 01        	sta	[<R0]
  3964 06:0A5A: C2 20        	rep	#$20
  3965                        	longa	on
  3966 06:0A5C: E6 05        	inc	<L153+colorIndex_1
  3967 06:0A5E: D0 02        	bne	L166
  3968 06:0A60: E6 07        	inc	<L153+colorIndex_1+2
  3969                        L166:
  3970                        ;
  3971                        ;
  3972                        ;	//colorIndex = 3 * 4;
  3973                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  3974                        	.line	624
  3975 06:0A62: 18           	clc
  3976 06:0A63: A9 00 20     	lda	#$2000
  Sat Jul 10 2021  1:15                                                Page 81


  3977 06:0A66: 65 05        	adc	<L153+colorIndex_1
  3978 06:0A68: 85 01        	sta	<R0
  3979 06:0A6A: A9 AF 00     	lda	#$af
  3980 06:0A6D: 65 07        	adc	<L153+colorIndex_1+2
  3981 06:0A6F: 85 03        	sta	<R0+2
  3982 06:0A71: E2 20        	sep	#$20
  3983                        	longa	off
  3984 06:0A73: A9 80        	lda	#$80
  3985 06:0A75: 87 01        	sta	[<R0]
  3986 06:0A77: C2 20        	rep	#$20
  3987                        	longa	on
  3988 06:0A79: E6 05        	inc	<L153+colorIndex_1
  3989 06:0A7B: D0 02        	bne	L167
  3990 06:0A7D: E6 07        	inc	<L153+colorIndex_1+2
  3991                        L167:
  3992                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3993                        	.line	625
  3994 06:0A7F: 18           	clc
  3995 06:0A80: A9 00 20     	lda	#$2000
  3996 06:0A83: 65 05        	adc	<L153+colorIndex_1
  3997 06:0A85: 85 01        	sta	<R0
  3998 06:0A87: A9 AF 00     	lda	#$af
  3999 06:0A8A: 65 07        	adc	<L153+colorIndex_1+2
  4000 06:0A8C: 85 03        	sta	<R0+2
  4001 06:0A8E: E2 20        	sep	#$20
  4002                        	longa	off
  4003 06:0A90: A9 00        	lda	#$0
  4004 06:0A92: 87 01        	sta	[<R0]
  4005 06:0A94: C2 20        	rep	#$20
  4006                        	longa	on
  4007 06:0A96: E6 05        	inc	<L153+colorIndex_1
  4008 06:0A98: D0 02        	bne	L168
  4009 06:0A9A: E6 07        	inc	<L153+colorIndex_1+2
  4010                        L168:
  4011                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4012                        	.line	626
  4013 06:0A9C: 18           	clc
  4014 06:0A9D: A9 00 20     	lda	#$2000
  4015 06:0AA0: 65 05        	adc	<L153+colorIndex_1
  4016 06:0AA2: 85 01        	sta	<R0
  4017 06:0AA4: A9 AF 00     	lda	#$af
  4018 06:0AA7: 65 07        	adc	<L153+colorIndex_1+2
  4019 06:0AA9: 85 03        	sta	<R0+2
  4020 06:0AAB: E2 20        	sep	#$20
  4021                        	longa	off
  4022 06:0AAD: A9 00        	lda	#$0
  4023 06:0AAF: 87 01        	sta	[<R0]
  4024 06:0AB1: C2 20        	rep	#$20
  4025                        	longa	on
  4026 06:0AB3: E6 05        	inc	<L153+colorIndex_1
  4027 06:0AB5: D0 02        	bne	L169
  4028 06:0AB7: E6 07        	inc	<L153+colorIndex_1+2
  4029                        L169:
  4030                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4031                        	.line	627
  4032 06:0AB9: 18           	clc
  4033 06:0ABA: A9 00 20     	lda	#$2000
  4034 06:0ABD: 65 05        	adc	<L153+colorIndex_1
  Sat Jul 10 2021  1:15                                                Page 82


  4035 06:0ABF: 85 01        	sta	<R0
  4036 06:0AC1: A9 AF 00     	lda	#$af
  4037 06:0AC4: 65 07        	adc	<L153+colorIndex_1+2
  4038 06:0AC6: 85 03        	sta	<R0+2
  4039 06:0AC8: E2 20        	sep	#$20
  4040                        	longa	off
  4041 06:0ACA: A9 FF        	lda	#$ff
  4042 06:0ACC: 87 01        	sta	[<R0]
  4043 06:0ACE: C2 20        	rep	#$20
  4044                        	longa	on
  4045 06:0AD0: E6 05        	inc	<L153+colorIndex_1
  4046 06:0AD2: D0 02        	bne	L170
  4047 06:0AD4: E6 07        	inc	<L153+colorIndex_1+2
  4048                        L170:
  4049                        ;
  4050                        ;	//colorIndex = 4 * 4;
  4051                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4052                        	.line	630
  4053 06:0AD6: 18           	clc
  4054 06:0AD7: A9 00 20     	lda	#$2000
  4055 06:0ADA: 65 05        	adc	<L153+colorIndex_1
  4056 06:0ADC: 85 01        	sta	<R0
  4057 06:0ADE: A9 AF 00     	lda	#$af
  4058 06:0AE1: 65 07        	adc	<L153+colorIndex_1+2
  4059 06:0AE3: 85 03        	sta	<R0+2
  4060 06:0AE5: E2 20        	sep	#$20
  4061                        	longa	off
  4062 06:0AE7: A9 00        	lda	#$0
  4063 06:0AE9: 87 01        	sta	[<R0]
  4064 06:0AEB: C2 20        	rep	#$20
  4065                        	longa	on
  4066 06:0AED: E6 05        	inc	<L153+colorIndex_1
  4067 06:0AEF: D0 02        	bne	L171
  4068 06:0AF1: E6 07        	inc	<L153+colorIndex_1+2
  4069                        L171:
  4070                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  4071                        	.line	631
  4072 06:0AF3: 18           	clc
  4073 06:0AF4: A9 00 20     	lda	#$2000
  4074 06:0AF7: 65 05        	adc	<L153+colorIndex_1
  4075 06:0AF9: 85 01        	sta	<R0
  4076 06:0AFB: A9 AF 00     	lda	#$af
  4077 06:0AFE: 65 07        	adc	<L153+colorIndex_1+2
  4078 06:0B00: 85 03        	sta	<R0+2
  4079 06:0B02: E2 20        	sep	#$20
  4080                        	longa	off
  4081 06:0B04: A9 80        	lda	#$80
  4082 06:0B06: 87 01        	sta	[<R0]
  4083 06:0B08: C2 20        	rep	#$20
  4084                        	longa	on
  4085 06:0B0A: E6 05        	inc	<L153+colorIndex_1
  4086 06:0B0C: D0 02        	bne	L172
  4087 06:0B0E: E6 07        	inc	<L153+colorIndex_1+2
  4088                        L172:
  4089                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  4090                        	.line	632
  4091 06:0B10: 18           	clc
  4092 06:0B11: A9 00 20     	lda	#$2000
  Sat Jul 10 2021  1:15                                                Page 83


  4093 06:0B14: 65 05        	adc	<L153+colorIndex_1
  4094 06:0B16: 85 01        	sta	<R0
  4095 06:0B18: A9 AF 00     	lda	#$af
  4096 06:0B1B: 65 07        	adc	<L153+colorIndex_1+2
  4097 06:0B1D: 85 03        	sta	<R0+2
  4098 06:0B1F: E2 20        	sep	#$20
  4099                        	longa	off
  4100 06:0B21: A9 80        	lda	#$80
  4101 06:0B23: 87 01        	sta	[<R0]
  4102 06:0B25: C2 20        	rep	#$20
  4103                        	longa	on
  4104 06:0B27: E6 05        	inc	<L153+colorIndex_1
  4105 06:0B29: D0 02        	bne	L173
  4106 06:0B2B: E6 07        	inc	<L153+colorIndex_1+2
  4107                        L173:
  4108                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4109                        	.line	633
  4110 06:0B2D: 18           	clc
  4111 06:0B2E: A9 00 20     	lda	#$2000
  4112 06:0B31: 65 05        	adc	<L153+colorIndex_1
  4113 06:0B33: 85 01        	sta	<R0
  4114 06:0B35: A9 AF 00     	lda	#$af
  4115 06:0B38: 65 07        	adc	<L153+colorIndex_1+2
  4116 06:0B3A: 85 03        	sta	<R0+2
  4117 06:0B3C: E2 20        	sep	#$20
  4118                        	longa	off
  4119 06:0B3E: A9 FF        	lda	#$ff
  4120 06:0B40: 87 01        	sta	[<R0]
  4121 06:0B42: C2 20        	rep	#$20
  4122                        	longa	on
  4123 06:0B44: E6 05        	inc	<L153+colorIndex_1
  4124 06:0B46: D0 02        	bne	L174
  4125 06:0B48: E6 07        	inc	<L153+colorIndex_1+2
  4126                        L174:
  4127                        ;
  4128                        ;	//colorIndex = 5 * 4;
  4129                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  4130                        	.line	636
  4131 06:0B4A: 18           	clc
  4132 06:0B4B: A9 00 20     	lda	#$2000
  4133 06:0B4E: 65 05        	adc	<L153+colorIndex_1
  4134 06:0B50: 85 01        	sta	<R0
  4135 06:0B52: A9 AF 00     	lda	#$af
  4136 06:0B55: 65 07        	adc	<L153+colorIndex_1+2
  4137 06:0B57: 85 03        	sta	<R0+2
  4138 06:0B59: E2 20        	sep	#$20
  4139                        	longa	off
  4140 06:0B5B: A9 80        	lda	#$80
  4141 06:0B5D: 87 01        	sta	[<R0]
  4142 06:0B5F: C2 20        	rep	#$20
  4143                        	longa	on
  4144 06:0B61: E6 05        	inc	<L153+colorIndex_1
  4145 06:0B63: D0 02        	bne	L175
  4146 06:0B65: E6 07        	inc	<L153+colorIndex_1+2
  4147                        L175:
  4148                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  4149                        	.line	637
  4150 06:0B67: 18           	clc
  Sat Jul 10 2021  1:15                                                Page 84


  4151 06:0B68: A9 00 20     	lda	#$2000
  4152 06:0B6B: 65 05        	adc	<L153+colorIndex_1
  4153 06:0B6D: 85 01        	sta	<R0
  4154 06:0B6F: A9 AF 00     	lda	#$af
  4155 06:0B72: 65 07        	adc	<L153+colorIndex_1+2
  4156 06:0B74: 85 03        	sta	<R0+2
  4157 06:0B76: E2 20        	sep	#$20
  4158                        	longa	off
  4159 06:0B78: A9 80        	lda	#$80
  4160 06:0B7A: 87 01        	sta	[<R0]
  4161 06:0B7C: C2 20        	rep	#$20
  4162                        	longa	on
  4163 06:0B7E: E6 05        	inc	<L153+colorIndex_1
  4164 06:0B80: D0 02        	bne	L176
  4165 06:0B82: E6 07        	inc	<L153+colorIndex_1+2
  4166                        L176:
  4167                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4168                        	.line	638
  4169 06:0B84: 18           	clc
  4170 06:0B85: A9 00 20     	lda	#$2000
  4171 06:0B88: 65 05        	adc	<L153+colorIndex_1
  4172 06:0B8A: 85 01        	sta	<R0
  4173 06:0B8C: A9 AF 00     	lda	#$af
  4174 06:0B8F: 65 07        	adc	<L153+colorIndex_1+2
  4175 06:0B91: 85 03        	sta	<R0+2
  4176 06:0B93: E2 20        	sep	#$20
  4177                        	longa	off
  4178 06:0B95: A9 00        	lda	#$0
  4179 06:0B97: 87 01        	sta	[<R0]
  4180 06:0B99: C2 20        	rep	#$20
  4181                        	longa	on
  4182 06:0B9B: E6 05        	inc	<L153+colorIndex_1
  4183 06:0B9D: D0 02        	bne	L177
  4184 06:0B9F: E6 07        	inc	<L153+colorIndex_1+2
  4185                        L177:
  4186                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4187                        	.line	639
  4188 06:0BA1: 18           	clc
  4189 06:0BA2: A9 00 20     	lda	#$2000
  4190 06:0BA5: 65 05        	adc	<L153+colorIndex_1
  4191 06:0BA7: 85 01        	sta	<R0
  4192 06:0BA9: A9 AF 00     	lda	#$af
  4193 06:0BAC: 65 07        	adc	<L153+colorIndex_1+2
  4194 06:0BAE: 85 03        	sta	<R0+2
  4195 06:0BB0: E2 20        	sep	#$20
  4196                        	longa	off
  4197 06:0BB2: A9 FF        	lda	#$ff
  4198 06:0BB4: 87 01        	sta	[<R0]
  4199 06:0BB6: C2 20        	rep	#$20
  4200                        	longa	on
  4201 06:0BB8: E6 05        	inc	<L153+colorIndex_1
  4202 06:0BBA: D0 02        	bne	L178
  4203 06:0BBC: E6 07        	inc	<L153+colorIndex_1+2
  4204                        L178:
  4205                        ;
  4206                        ;	//colorIndex = 6 * 4;
  4207                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  4208                        	.line	642
  Sat Jul 10 2021  1:15                                                Page 85


  4209 06:0BBE: 18           	clc
  4210 06:0BBF: A9 00 20     	lda	#$2000
  4211 06:0BC2: 65 05        	adc	<L153+colorIndex_1
  4212 06:0BC4: 85 01        	sta	<R0
  4213 06:0BC6: A9 AF 00     	lda	#$af
  4214 06:0BC9: 65 07        	adc	<L153+colorIndex_1+2
  4215 06:0BCB: 85 03        	sta	<R0+2
  4216 06:0BCD: E2 20        	sep	#$20
  4217                        	longa	off
  4218 06:0BCF: A9 80        	lda	#$80
  4219 06:0BD1: 87 01        	sta	[<R0]
  4220 06:0BD3: C2 20        	rep	#$20
  4221                        	longa	on
  4222 06:0BD5: E6 05        	inc	<L153+colorIndex_1
  4223 06:0BD7: D0 02        	bne	L179
  4224 06:0BD9: E6 07        	inc	<L153+colorIndex_1+2
  4225                        L179:
  4226                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4227                        	.line	643
  4228 06:0BDB: 18           	clc
  4229 06:0BDC: A9 00 20     	lda	#$2000
  4230 06:0BDF: 65 05        	adc	<L153+colorIndex_1
  4231 06:0BE1: 85 01        	sta	<R0
  4232 06:0BE3: A9 AF 00     	lda	#$af
  4233 06:0BE6: 65 07        	adc	<L153+colorIndex_1+2
  4234 06:0BE8: 85 03        	sta	<R0+2
  4235 06:0BEA: E2 20        	sep	#$20
  4236                        	longa	off
  4237 06:0BEC: A9 00        	lda	#$0
  4238 06:0BEE: 87 01        	sta	[<R0]
  4239 06:0BF0: C2 20        	rep	#$20
  4240                        	longa	on
  4241 06:0BF2: E6 05        	inc	<L153+colorIndex_1
  4242 06:0BF4: D0 02        	bne	L180
  4243 06:0BF6: E6 07        	inc	<L153+colorIndex_1+2
  4244                        L180:
  4245                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  4246                        	.line	644
  4247 06:0BF8: 18           	clc
  4248 06:0BF9: A9 00 20     	lda	#$2000
  4249 06:0BFC: 65 05        	adc	<L153+colorIndex_1
  4250 06:0BFE: 85 01        	sta	<R0
  4251 06:0C00: A9 AF 00     	lda	#$af
  4252 06:0C03: 65 07        	adc	<L153+colorIndex_1+2
  4253 06:0C05: 85 03        	sta	<R0+2
  4254 06:0C07: E2 20        	sep	#$20
  4255                        	longa	off
  4256 06:0C09: A9 80        	lda	#$80
  4257 06:0C0B: 87 01        	sta	[<R0]
  4258 06:0C0D: C2 20        	rep	#$20
  4259                        	longa	on
  4260 06:0C0F: E6 05        	inc	<L153+colorIndex_1
  4261 06:0C11: D0 02        	bne	L181
  4262 06:0C13: E6 07        	inc	<L153+colorIndex_1+2
  4263                        L181:
  4264                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4265                        	.line	645
  4266 06:0C15: 18           	clc
  Sat Jul 10 2021  1:15                                                Page 86


  4267 06:0C16: A9 00 20     	lda	#$2000
  4268 06:0C19: 65 05        	adc	<L153+colorIndex_1
  4269 06:0C1B: 85 01        	sta	<R0
  4270 06:0C1D: A9 AF 00     	lda	#$af
  4271 06:0C20: 65 07        	adc	<L153+colorIndex_1+2
  4272 06:0C22: 85 03        	sta	<R0+2
  4273 06:0C24: E2 20        	sep	#$20
  4274                        	longa	off
  4275 06:0C26: A9 FF        	lda	#$ff
  4276 06:0C28: 87 01        	sta	[<R0]
  4277 06:0C2A: C2 20        	rep	#$20
  4278                        	longa	on
  4279 06:0C2C: E6 05        	inc	<L153+colorIndex_1
  4280 06:0C2E: D0 02        	bne	L182
  4281 06:0C30: E6 07        	inc	<L153+colorIndex_1+2
  4282                        L182:
  4283                        ;
  4284                        ;	//colorIndex = 7 * 4;
  4285                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4286                        	.line	648
  4287 06:0C32: 18           	clc
  4288 06:0C33: A9 00 20     	lda	#$2000
  4289 06:0C36: 65 05        	adc	<L153+colorIndex_1
  4290 06:0C38: 85 01        	sta	<R0
  4291 06:0C3A: A9 AF 00     	lda	#$af
  4292 06:0C3D: 65 07        	adc	<L153+colorIndex_1+2
  4293 06:0C3F: 85 03        	sta	<R0+2
  4294 06:0C41: E2 20        	sep	#$20
  4295                        	longa	off
  4296 06:0C43: A9 00        	lda	#$0
  4297 06:0C45: 87 01        	sta	[<R0]
  4298 06:0C47: C2 20        	rep	#$20
  4299                        	longa	on
  4300 06:0C49: E6 05        	inc	<L153+colorIndex_1
  4301 06:0C4B: D0 02        	bne	L183
  4302 06:0C4D: E6 07        	inc	<L153+colorIndex_1+2
  4303                        L183:
  4304                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x45;
  4305                        	.line	649
  4306 06:0C4F: 18           	clc
  4307 06:0C50: A9 00 20     	lda	#$2000
  4308 06:0C53: 65 05        	adc	<L153+colorIndex_1
  4309 06:0C55: 85 01        	sta	<R0
  4310 06:0C57: A9 AF 00     	lda	#$af
  4311 06:0C5A: 65 07        	adc	<L153+colorIndex_1+2
  4312 06:0C5C: 85 03        	sta	<R0+2
  4313 06:0C5E: E2 20        	sep	#$20
  4314                        	longa	off
  4315 06:0C60: A9 45        	lda	#$45
  4316 06:0C62: 87 01        	sta	[<R0]
  4317 06:0C64: C2 20        	rep	#$20
  4318                        	longa	on
  4319 06:0C66: E6 05        	inc	<L153+colorIndex_1
  4320 06:0C68: D0 02        	bne	L184
  4321 06:0C6A: E6 07        	inc	<L153+colorIndex_1+2
  4322                        L184:
  4323                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4324                        	.line	650
  Sat Jul 10 2021  1:15                                                Page 87


  4325 06:0C6C: 18           	clc
  4326 06:0C6D: A9 00 20     	lda	#$2000
  4327 06:0C70: 65 05        	adc	<L153+colorIndex_1
  4328 06:0C72: 85 01        	sta	<R0
  4329 06:0C74: A9 AF 00     	lda	#$af
  4330 06:0C77: 65 07        	adc	<L153+colorIndex_1+2
  4331 06:0C79: 85 03        	sta	<R0+2
  4332 06:0C7B: E2 20        	sep	#$20
  4333                        	longa	off
  4334 06:0C7D: A9 FF        	lda	#$ff
  4335 06:0C7F: 87 01        	sta	[<R0]
  4336 06:0C81: C2 20        	rep	#$20
  4337                        	longa	on
  4338 06:0C83: E6 05        	inc	<L153+colorIndex_1
  4339 06:0C85: D0 02        	bne	L185
  4340 06:0C87: E6 07        	inc	<L153+colorIndex_1+2
  4341                        L185:
  4342                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4343                        	.line	651
  4344 06:0C89: 18           	clc
  4345 06:0C8A: A9 00 20     	lda	#$2000
  4346 06:0C8D: 65 05        	adc	<L153+colorIndex_1
  4347 06:0C8F: 85 01        	sta	<R0
  4348 06:0C91: A9 AF 00     	lda	#$af
  4349 06:0C94: 65 07        	adc	<L153+colorIndex_1+2
  4350 06:0C96: 85 03        	sta	<R0+2
  4351 06:0C98: E2 20        	sep	#$20
  4352                        	longa	off
  4353 06:0C9A: A9 FF        	lda	#$ff
  4354 06:0C9C: 87 01        	sta	[<R0]
  4355 06:0C9E: C2 20        	rep	#$20
  4356                        	longa	on
  4357 06:0CA0: E6 05        	inc	<L153+colorIndex_1
  4358 06:0CA2: D0 02        	bne	L186
  4359 06:0CA4: E6 07        	inc	<L153+colorIndex_1+2
  4360                        L186:
  4361                        ;
  4362                        ;	//colorIndex = 8 * 4;
  4363                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x13;
  4364                        	.line	654
  4365 06:0CA6: 18           	clc
  4366 06:0CA7: A9 00 20     	lda	#$2000
  4367 06:0CAA: 65 05        	adc	<L153+colorIndex_1
  4368 06:0CAC: 85 01        	sta	<R0
  4369 06:0CAE: A9 AF 00     	lda	#$af
  4370 06:0CB1: 65 07        	adc	<L153+colorIndex_1+2
  4371 06:0CB3: 85 03        	sta	<R0+2
  4372 06:0CB5: E2 20        	sep	#$20
  4373                        	longa	off
  4374 06:0CB7: A9 13        	lda	#$13
  4375 06:0CB9: 87 01        	sta	[<R0]
  4376 06:0CBB: C2 20        	rep	#$20
  4377                        	longa	on
  4378 06:0CBD: E6 05        	inc	<L153+colorIndex_1
  4379 06:0CBF: D0 02        	bne	L187
  4380 06:0CC1: E6 07        	inc	<L153+colorIndex_1+2
  4381                        L187:
  4382                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x45;
  Sat Jul 10 2021  1:15                                                Page 88


  4383                        	.line	655
  4384 06:0CC3: 18           	clc
  4385 06:0CC4: A9 00 20     	lda	#$2000
  4386 06:0CC7: 65 05        	adc	<L153+colorIndex_1
  4387 06:0CC9: 85 01        	sta	<R0
  4388 06:0CCB: A9 AF 00     	lda	#$af
  4389 06:0CCE: 65 07        	adc	<L153+colorIndex_1+2
  4390 06:0CD0: 85 03        	sta	<R0+2
  4391 06:0CD2: E2 20        	sep	#$20
  4392                        	longa	off
  4393 06:0CD4: A9 45        	lda	#$45
  4394 06:0CD6: 87 01        	sta	[<R0]
  4395 06:0CD8: C2 20        	rep	#$20
  4396                        	longa	on
  4397 06:0CDA: E6 05        	inc	<L153+colorIndex_1
  4398 06:0CDC: D0 02        	bne	L188
  4399 06:0CDE: E6 07        	inc	<L153+colorIndex_1+2
  4400                        L188:
  4401                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x8B;
  4402                        	.line	656
  4403 06:0CE0: 18           	clc
  4404 06:0CE1: A9 00 20     	lda	#$2000
  4405 06:0CE4: 65 05        	adc	<L153+colorIndex_1
  4406 06:0CE6: 85 01        	sta	<R0
  4407 06:0CE8: A9 AF 00     	lda	#$af
  4408 06:0CEB: 65 07        	adc	<L153+colorIndex_1+2
  4409 06:0CED: 85 03        	sta	<R0+2
  4410 06:0CEF: E2 20        	sep	#$20
  4411                        	longa	off
  4412 06:0CF1: A9 8B        	lda	#$8b
  4413 06:0CF3: 87 01        	sta	[<R0]
  4414 06:0CF5: C2 20        	rep	#$20
  4415                        	longa	on
  4416 06:0CF7: E6 05        	inc	<L153+colorIndex_1
  4417 06:0CF9: D0 02        	bne	L189
  4418 06:0CFB: E6 07        	inc	<L153+colorIndex_1+2
  4419                        L189:
  4420                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4421                        	.line	657
  4422 06:0CFD: 18           	clc
  4423 06:0CFE: A9 00 20     	lda	#$2000
  4424 06:0D01: 65 05        	adc	<L153+colorIndex_1
  4425 06:0D03: 85 01        	sta	<R0
  4426 06:0D05: A9 AF 00     	lda	#$af
  4427 06:0D08: 65 07        	adc	<L153+colorIndex_1+2
  4428 06:0D0A: 85 03        	sta	<R0+2
  4429 06:0D0C: E2 20        	sep	#$20
  4430                        	longa	off
  4431 06:0D0E: A9 FF        	lda	#$ff
  4432 06:0D10: 87 01        	sta	[<R0]
  4433 06:0D12: C2 20        	rep	#$20
  4434                        	longa	on
  4435 06:0D14: E6 05        	inc	<L153+colorIndex_1
  4436 06:0D16: D0 02        	bne	L190
  4437 06:0D18: E6 07        	inc	<L153+colorIndex_1+2
  4438                        L190:
  4439                        ;
  4440                        ;	//colorIndex = 9 * 4;
  Sat Jul 10 2021  1:15                                                Page 89


  4441                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4442                        	.line	660
  4443 06:0D1A: 18           	clc
  4444 06:0D1B: A9 00 20     	lda	#$2000
  4445 06:0D1E: 65 05        	adc	<L153+colorIndex_1
  4446 06:0D20: 85 01        	sta	<R0
  4447 06:0D22: A9 AF 00     	lda	#$af
  4448 06:0D25: 65 07        	adc	<L153+colorIndex_1+2
  4449 06:0D27: 85 03        	sta	<R0+2
  4450 06:0D29: E2 20        	sep	#$20
  4451                        	longa	off
  4452 06:0D2B: A9 00        	lda	#$0
  4453 06:0D2D: 87 01        	sta	[<R0]
  4454 06:0D2F: C2 20        	rep	#$20
  4455                        	longa	on
  4456 06:0D31: E6 05        	inc	<L153+colorIndex_1
  4457 06:0D33: D0 02        	bne	L191
  4458 06:0D35: E6 07        	inc	<L153+colorIndex_1+2
  4459                        L191:
  4460                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4461                        	.line	661
  4462 06:0D37: 18           	clc
  4463 06:0D38: A9 00 20     	lda	#$2000
  4464 06:0D3B: 65 05        	adc	<L153+colorIndex_1
  4465 06:0D3D: 85 01        	sta	<R0
  4466 06:0D3F: A9 AF 00     	lda	#$af
  4467 06:0D42: 65 07        	adc	<L153+colorIndex_1+2
  4468 06:0D44: 85 03        	sta	<R0+2
  4469 06:0D46: E2 20        	sep	#$20
  4470                        	longa	off
  4471 06:0D48: A9 00        	lda	#$0
  4472 06:0D4A: 87 01        	sta	[<R0]
  4473 06:0D4C: C2 20        	rep	#$20
  4474                        	longa	on
  4475 06:0D4E: E6 05        	inc	<L153+colorIndex_1
  4476 06:0D50: D0 02        	bne	L192
  4477 06:0D52: E6 07        	inc	<L153+colorIndex_1+2
  4478                        L192:
  4479                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x20;
  4480                        	.line	662
  4481 06:0D54: 18           	clc
  4482 06:0D55: A9 00 20     	lda	#$2000
  4483 06:0D58: 65 05        	adc	<L153+colorIndex_1
  4484 06:0D5A: 85 01        	sta	<R0
  4485 06:0D5C: A9 AF 00     	lda	#$af
  4486 06:0D5F: 65 07        	adc	<L153+colorIndex_1+2
  4487 06:0D61: 85 03        	sta	<R0+2
  4488 06:0D63: E2 20        	sep	#$20
  4489                        	longa	off
  4490 06:0D65: A9 20        	lda	#$20
  4491 06:0D67: 87 01        	sta	[<R0]
  4492 06:0D69: C2 20        	rep	#$20
  4493                        	longa	on
  4494 06:0D6B: E6 05        	inc	<L153+colorIndex_1
  4495 06:0D6D: D0 02        	bne	L193
  4496 06:0D6F: E6 07        	inc	<L153+colorIndex_1+2
  4497                        L193:
  4498                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  Sat Jul 10 2021  1:15                                                Page 90


  4499                        	.line	663
  4500 06:0D71: 18           	clc
  4501 06:0D72: A9 00 20     	lda	#$2000
  4502 06:0D75: 65 05        	adc	<L153+colorIndex_1
  4503 06:0D77: 85 01        	sta	<R0
  4504 06:0D79: A9 AF 00     	lda	#$af
  4505 06:0D7C: 65 07        	adc	<L153+colorIndex_1+2
  4506 06:0D7E: 85 03        	sta	<R0+2
  4507 06:0D80: E2 20        	sep	#$20
  4508                        	longa	off
  4509 06:0D82: A9 FF        	lda	#$ff
  4510 06:0D84: 87 01        	sta	[<R0]
  4511 06:0D86: C2 20        	rep	#$20
  4512                        	longa	on
  4513 06:0D88: E6 05        	inc	<L153+colorIndex_1
  4514 06:0D8A: D0 02        	bne	L194
  4515 06:0D8C: E6 07        	inc	<L153+colorIndex_1+2
  4516                        L194:
  4517                        ;
  4518                        ;	//colorIndex = 10 * 4;
  4519                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4520                        	.line	666
  4521 06:0D8E: 18           	clc
  4522 06:0D8F: A9 00 20     	lda	#$2000
  4523 06:0D92: 65 05        	adc	<L153+colorIndex_1
  4524 06:0D94: 85 01        	sta	<R0
  4525 06:0D96: A9 AF 00     	lda	#$af
  4526 06:0D99: 65 07        	adc	<L153+colorIndex_1+2
  4527 06:0D9B: 85 03        	sta	<R0+2
  4528 06:0D9D: E2 20        	sep	#$20
  4529                        	longa	off
  4530 06:0D9F: A9 00        	lda	#$0
  4531 06:0DA1: 87 01        	sta	[<R0]
  4532 06:0DA3: C2 20        	rep	#$20
  4533                        	longa	on
  4534 06:0DA5: E6 05        	inc	<L153+colorIndex_1
  4535 06:0DA7: D0 02        	bne	L195
  4536 06:0DA9: E6 07        	inc	<L153+colorIndex_1+2
  4537                        L195:
  4538                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x20;
  4539                        	.line	667
  4540 06:0DAB: 18           	clc
  4541 06:0DAC: A9 00 20     	lda	#$2000
  4542 06:0DAF: 65 05        	adc	<L153+colorIndex_1
  4543 06:0DB1: 85 01        	sta	<R0
  4544 06:0DB3: A9 AF 00     	lda	#$af
  4545 06:0DB6: 65 07        	adc	<L153+colorIndex_1+2
  4546 06:0DB8: 85 03        	sta	<R0+2
  4547 06:0DBA: E2 20        	sep	#$20
  4548                        	longa	off
  4549 06:0DBC: A9 20        	lda	#$20
  4550 06:0DBE: 87 01        	sta	[<R0]
  4551 06:0DC0: C2 20        	rep	#$20
  4552                        	longa	on
  4553 06:0DC2: E6 05        	inc	<L153+colorIndex_1
  4554 06:0DC4: D0 02        	bne	L196
  4555 06:0DC6: E6 07        	inc	<L153+colorIndex_1+2
  4556                        L196:
  Sat Jul 10 2021  1:15                                                Page 91


  4557                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4558                        	.line	668
  4559 06:0DC8: 18           	clc
  4560 06:0DC9: A9 00 20     	lda	#$2000
  4561 06:0DCC: 65 05        	adc	<L153+colorIndex_1
  4562 06:0DCE: 85 01        	sta	<R0
  4563 06:0DD0: A9 AF 00     	lda	#$af
  4564 06:0DD3: 65 07        	adc	<L153+colorIndex_1+2
  4565 06:0DD5: 85 03        	sta	<R0+2
  4566 06:0DD7: E2 20        	sep	#$20
  4567                        	longa	off
  4568 06:0DD9: A9 00        	lda	#$0
  4569 06:0DDB: 87 01        	sta	[<R0]
  4570 06:0DDD: C2 20        	rep	#$20
  4571                        	longa	on
  4572 06:0DDF: E6 05        	inc	<L153+colorIndex_1
  4573 06:0DE1: D0 02        	bne	L197
  4574 06:0DE3: E6 07        	inc	<L153+colorIndex_1+2
  4575                        L197:
  4576                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4577                        	.line	669
  4578 06:0DE5: 18           	clc
  4579 06:0DE6: A9 00 20     	lda	#$2000
  4580 06:0DE9: 65 05        	adc	<L153+colorIndex_1
  4581 06:0DEB: 85 01        	sta	<R0
  4582 06:0DED: A9 AF 00     	lda	#$af
  4583 06:0DF0: 65 07        	adc	<L153+colorIndex_1+2
  4584 06:0DF2: 85 03        	sta	<R0+2
  4585 06:0DF4: E2 20        	sep	#$20
  4586                        	longa	off
  4587 06:0DF6: A9 FF        	lda	#$ff
  4588 06:0DF8: 87 01        	sta	[<R0]
  4589 06:0DFA: C2 20        	rep	#$20
  4590                        	longa	on
  4591 06:0DFC: E6 05        	inc	<L153+colorIndex_1
  4592 06:0DFE: D0 02        	bne	L198
  4593 06:0E00: E6 07        	inc	<L153+colorIndex_1+2
  4594                        L198:
  4595                        ;
  4596                        ;	//colorIndex = 11 * 4;
  4597                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x20;
  4598                        	.line	672
  4599 06:0E02: 18           	clc
  4600 06:0E03: A9 00 20     	lda	#$2000
  4601 06:0E06: 65 05        	adc	<L153+colorIndex_1
  4602 06:0E08: 85 01        	sta	<R0
  4603 06:0E0A: A9 AF 00     	lda	#$af
  4604 06:0E0D: 65 07        	adc	<L153+colorIndex_1+2
  4605 06:0E0F: 85 03        	sta	<R0+2
  4606 06:0E11: E2 20        	sep	#$20
  4607                        	longa	off
  4608 06:0E13: A9 20        	lda	#$20
  4609 06:0E15: 87 01        	sta	[<R0]
  4610 06:0E17: C2 20        	rep	#$20
  4611                        	longa	on
  4612 06:0E19: E6 05        	inc	<L153+colorIndex_1
  4613 06:0E1B: D0 02        	bne	L199
  4614 06:0E1D: E6 07        	inc	<L153+colorIndex_1+2
  Sat Jul 10 2021  1:15                                                Page 92


  4615                        L199:
  4616                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4617                        	.line	673
  4618 06:0E1F: 18           	clc
  4619 06:0E20: A9 00 20     	lda	#$2000
  4620 06:0E23: 65 05        	adc	<L153+colorIndex_1
  4621 06:0E25: 85 01        	sta	<R0
  4622 06:0E27: A9 AF 00     	lda	#$af
  4623 06:0E2A: 65 07        	adc	<L153+colorIndex_1+2
  4624 06:0E2C: 85 03        	sta	<R0+2
  4625 06:0E2E: E2 20        	sep	#$20
  4626                        	longa	off
  4627 06:0E30: A9 00        	lda	#$0
  4628 06:0E32: 87 01        	sta	[<R0]
  4629 06:0E34: C2 20        	rep	#$20
  4630                        	longa	on
  4631 06:0E36: E6 05        	inc	<L153+colorIndex_1
  4632 06:0E38: D0 02        	bne	L200
  4633 06:0E3A: E6 07        	inc	<L153+colorIndex_1+2
  4634                        L200:
  4635                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4636                        	.line	674
  4637 06:0E3C: 18           	clc
  4638 06:0E3D: A9 00 20     	lda	#$2000
  4639 06:0E40: 65 05        	adc	<L153+colorIndex_1
  4640 06:0E42: 85 01        	sta	<R0
  4641 06:0E44: A9 AF 00     	lda	#$af
  4642 06:0E47: 65 07        	adc	<L153+colorIndex_1+2
  4643 06:0E49: 85 03        	sta	<R0+2
  4644 06:0E4B: E2 20        	sep	#$20
  4645                        	longa	off
  4646 06:0E4D: A9 00        	lda	#$0
  4647 06:0E4F: 87 01        	sta	[<R0]
  4648 06:0E51: C2 20        	rep	#$20
  4649                        	longa	on
  4650 06:0E53: E6 05        	inc	<L153+colorIndex_1
  4651 06:0E55: D0 02        	bne	L201
  4652 06:0E57: E6 07        	inc	<L153+colorIndex_1+2
  4653                        L201:
  4654                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4655                        	.line	675
  4656 06:0E59: 18           	clc
  4657 06:0E5A: A9 00 20     	lda	#$2000
  4658 06:0E5D: 65 05        	adc	<L153+colorIndex_1
  4659 06:0E5F: 85 01        	sta	<R0
  4660 06:0E61: A9 AF 00     	lda	#$af
  4661 06:0E64: 65 07        	adc	<L153+colorIndex_1+2
  4662 06:0E66: 85 03        	sta	<R0+2
  4663 06:0E68: E2 20        	sep	#$20
  4664                        	longa	off
  4665 06:0E6A: A9 FF        	lda	#$ff
  4666 06:0E6C: 87 01        	sta	[<R0]
  4667 06:0E6E: C2 20        	rep	#$20
  4668                        	longa	on
  4669 06:0E70: E6 05        	inc	<L153+colorIndex_1
  4670 06:0E72: D0 02        	bne	L202
  4671 06:0E74: E6 07        	inc	<L153+colorIndex_1+2
  4672                        L202:
  Sat Jul 10 2021  1:15                                                Page 93


  4673                        ;
  4674                        ;	//colorIndex = 12 * 4;
  4675                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4676                        	.line	678
  4677 06:0E76: 18           	clc
  4678 06:0E77: A9 00 20     	lda	#$2000
  4679 06:0E7A: 65 05        	adc	<L153+colorIndex_1
  4680 06:0E7C: 85 01        	sta	<R0
  4681 06:0E7E: A9 AF 00     	lda	#$af
  4682 06:0E81: 65 07        	adc	<L153+colorIndex_1+2
  4683 06:0E83: 85 03        	sta	<R0+2
  4684 06:0E85: E2 20        	sep	#$20
  4685                        	longa	off
  4686 06:0E87: A9 00        	lda	#$0
  4687 06:0E89: 87 01        	sta	[<R0]
  4688 06:0E8B: C2 20        	rep	#$20
  4689                        	longa	on
  4690 06:0E8D: E6 05        	inc	<L153+colorIndex_1
  4691 06:0E8F: D0 02        	bne	L203
  4692 06:0E91: E6 07        	inc	<L153+colorIndex_1+2
  4693                        L203:
  4694                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4695                        	.line	679
  4696 06:0E93: 18           	clc
  4697 06:0E94: A9 00 20     	lda	#$2000
  4698 06:0E97: 65 05        	adc	<L153+colorIndex_1
  4699 06:0E99: 85 01        	sta	<R0
  4700 06:0E9B: A9 AF 00     	lda	#$af
  4701 06:0E9E: 65 07        	adc	<L153+colorIndex_1+2
  4702 06:0EA0: 85 03        	sta	<R0+2
  4703 06:0EA2: E2 20        	sep	#$20
  4704                        	longa	off
  4705 06:0EA4: A9 00        	lda	#$0
  4706 06:0EA6: 87 01        	sta	[<R0]
  4707 06:0EA8: C2 20        	rep	#$20
  4708                        	longa	on
  4709 06:0EAA: E6 05        	inc	<L153+colorIndex_1
  4710 06:0EAC: D0 02        	bne	L204
  4711 06:0EAE: E6 07        	inc	<L153+colorIndex_1+2
  4712                        L204:
  4713                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4714                        	.line	680
  4715 06:0EB0: 18           	clc
  4716 06:0EB1: A9 00 20     	lda	#$2000
  4717 06:0EB4: 65 05        	adc	<L153+colorIndex_1
  4718 06:0EB6: 85 01        	sta	<R0
  4719 06:0EB8: A9 AF 00     	lda	#$af
  4720 06:0EBB: 65 07        	adc	<L153+colorIndex_1+2
  4721 06:0EBD: 85 03        	sta	<R0+2
  4722 06:0EBF: E2 20        	sep	#$20
  4723                        	longa	off
  4724 06:0EC1: A9 00        	lda	#$0
  4725 06:0EC3: 87 01        	sta	[<R0]
  4726 06:0EC5: C2 20        	rep	#$20
  4727                        	longa	on
  4728 06:0EC7: E6 05        	inc	<L153+colorIndex_1
  4729 06:0EC9: D0 02        	bne	L205
  4730 06:0ECB: E6 07        	inc	<L153+colorIndex_1+2
  Sat Jul 10 2021  1:15                                                Page 94


  4731                        L205:
  4732                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4733                        	.line	681
  4734 06:0ECD: 18           	clc
  4735 06:0ECE: A9 00 20     	lda	#$2000
  4736 06:0ED1: 65 05        	adc	<L153+colorIndex_1
  4737 06:0ED3: 85 01        	sta	<R0
  4738 06:0ED5: A9 AF 00     	lda	#$af
  4739 06:0ED8: 65 07        	adc	<L153+colorIndex_1+2
  4740 06:0EDA: 85 03        	sta	<R0+2
  4741 06:0EDC: E2 20        	sep	#$20
  4742                        	longa	off
  4743 06:0EDE: A9 FF        	lda	#$ff
  4744 06:0EE0: 87 01        	sta	[<R0]
  4745 06:0EE2: C2 20        	rep	#$20
  4746                        	longa	on
  4747 06:0EE4: E6 05        	inc	<L153+colorIndex_1
  4748 06:0EE6: D0 02        	bne	L206
  4749 06:0EE8: E6 07        	inc	<L153+colorIndex_1+2
  4750                        L206:
  4751                        ;
  4752                        ;	//colorIndex = 13 * 4;
  4753                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x50;
  4754                        	.line	684
  4755 06:0EEA: 18           	clc
  4756 06:0EEB: A9 00 20     	lda	#$2000
  4757 06:0EEE: 65 05        	adc	<L153+colorIndex_1
  4758 06:0EF0: 85 01        	sta	<R0
  4759 06:0EF2: A9 AF 00     	lda	#$af
  4760 06:0EF5: 65 07        	adc	<L153+colorIndex_1+2
  4761 06:0EF7: 85 03        	sta	<R0+2
  4762 06:0EF9: E2 20        	sep	#$20
  4763                        	longa	off
  4764 06:0EFB: A9 50        	lda	#$50
  4765 06:0EFD: 87 01        	sta	[<R0]
  4766 06:0EFF: C2 20        	rep	#$20
  4767                        	longa	on
  4768 06:0F01: E6 05        	inc	<L153+colorIndex_1
  4769 06:0F03: D0 02        	bne	L207
  4770 06:0F05: E6 07        	inc	<L153+colorIndex_1+2
  4771                        L207:
  4772                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x50;
  4773                        	.line	685
  4774 06:0F07: 18           	clc
  4775 06:0F08: A9 00 20     	lda	#$2000
  4776 06:0F0B: 65 05        	adc	<L153+colorIndex_1
  4777 06:0F0D: 85 01        	sta	<R0
  4778 06:0F0F: A9 AF 00     	lda	#$af
  4779 06:0F12: 65 07        	adc	<L153+colorIndex_1+2
  4780 06:0F14: 85 03        	sta	<R0+2
  4781 06:0F16: E2 20        	sep	#$20
  4782                        	longa	off
  4783 06:0F18: A9 50        	lda	#$50
  4784 06:0F1A: 87 01        	sta	[<R0]
  4785 06:0F1C: C2 20        	rep	#$20
  4786                        	longa	on
  4787 06:0F1E: E6 05        	inc	<L153+colorIndex_1
  4788 06:0F20: D0 02        	bne	L208
  Sat Jul 10 2021  1:15                                                Page 95


  4789 06:0F22: E6 07        	inc	<L153+colorIndex_1+2
  4790                        L208:
  4791                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x50;
  4792                        	.line	686
  4793 06:0F24: 18           	clc
  4794 06:0F25: A9 00 20     	lda	#$2000
  4795 06:0F28: 65 05        	adc	<L153+colorIndex_1
  4796 06:0F2A: 85 01        	sta	<R0
  4797 06:0F2C: A9 AF 00     	lda	#$af
  4798 06:0F2F: 65 07        	adc	<L153+colorIndex_1+2
  4799 06:0F31: 85 03        	sta	<R0+2
  4800 06:0F33: E2 20        	sep	#$20
  4801                        	longa	off
  4802 06:0F35: A9 50        	lda	#$50
  4803 06:0F37: 87 01        	sta	[<R0]
  4804 06:0F39: C2 20        	rep	#$20
  4805                        	longa	on
  4806 06:0F3B: E6 05        	inc	<L153+colorIndex_1
  4807 06:0F3D: D0 02        	bne	L209
  4808 06:0F3F: E6 07        	inc	<L153+colorIndex_1+2
  4809                        L209:
  4810                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4811                        	.line	687
  4812 06:0F41: 18           	clc
  4813 06:0F42: A9 00 20     	lda	#$2000
  4814 06:0F45: 65 05        	adc	<L153+colorIndex_1
  4815 06:0F47: 85 01        	sta	<R0
  4816 06:0F49: A9 AF 00     	lda	#$af
  4817 06:0F4C: 65 07        	adc	<L153+colorIndex_1+2
  4818 06:0F4E: 85 03        	sta	<R0+2
  4819 06:0F50: E2 20        	sep	#$20
  4820                        	longa	off
  4821 06:0F52: A9 FF        	lda	#$ff
  4822 06:0F54: 87 01        	sta	[<R0]
  4823 06:0F56: C2 20        	rep	#$20
  4824                        	longa	on
  4825 06:0F58: E6 05        	inc	<L153+colorIndex_1
  4826 06:0F5A: D0 02        	bne	L210
  4827 06:0F5C: E6 07        	inc	<L153+colorIndex_1+2
  4828                        L210:
  4829                        ;
  4830                        ;	//colorIndex = 14 * 4;
  4831                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x40;
  4832                        	.line	690
  4833 06:0F5E: 18           	clc
  4834 06:0F5F: A9 00 20     	lda	#$2000
  4835 06:0F62: 65 05        	adc	<L153+colorIndex_1
  4836 06:0F64: 85 01        	sta	<R0
  4837 06:0F66: A9 AF 00     	lda	#$af
  4838 06:0F69: 65 07        	adc	<L153+colorIndex_1+2
  4839 06:0F6B: 85 03        	sta	<R0+2
  4840 06:0F6D: E2 20        	sep	#$20
  4841                        	longa	off
  4842 06:0F6F: A9 40        	lda	#$40
  4843 06:0F71: 87 01        	sta	[<R0]
  4844 06:0F73: C2 20        	rep	#$20
  4845                        	longa	on
  4846 06:0F75: E6 05        	inc	<L153+colorIndex_1
  Sat Jul 10 2021  1:15                                                Page 96


  4847 06:0F77: D0 02        	bne	L211
  4848 06:0F79: E6 07        	inc	<L153+colorIndex_1+2
  4849                        L211:
  4850                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x40;
  4851                        	.line	691
  4852 06:0F7B: 18           	clc
  4853 06:0F7C: A9 00 20     	lda	#$2000
  4854 06:0F7F: 65 05        	adc	<L153+colorIndex_1
  4855 06:0F81: 85 01        	sta	<R0
  4856 06:0F83: A9 AF 00     	lda	#$af
  4857 06:0F86: 65 07        	adc	<L153+colorIndex_1+2
  4858 06:0F88: 85 03        	sta	<R0+2
  4859 06:0F8A: E2 20        	sep	#$20
  4860                        	longa	off
  4861 06:0F8C: A9 40        	lda	#$40
  4862 06:0F8E: 87 01        	sta	[<R0]
  4863 06:0F90: C2 20        	rep	#$20
  4864                        	longa	on
  4865 06:0F92: E6 05        	inc	<L153+colorIndex_1
  4866 06:0F94: D0 02        	bne	L212
  4867 06:0F96: E6 07        	inc	<L153+colorIndex_1+2
  4868                        L212:
  4869                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x40;
  4870                        	.line	692
  4871 06:0F98: 18           	clc
  4872 06:0F99: A9 00 20     	lda	#$2000
  4873 06:0F9C: 65 05        	adc	<L153+colorIndex_1
  4874 06:0F9E: 85 01        	sta	<R0
  4875 06:0FA0: A9 AF 00     	lda	#$af
  4876 06:0FA3: 65 07        	adc	<L153+colorIndex_1+2
  4877 06:0FA5: 85 03        	sta	<R0+2
  4878 06:0FA7: E2 20        	sep	#$20
  4879                        	longa	off
  4880 06:0FA9: A9 40        	lda	#$40
  4881 06:0FAB: 87 01        	sta	[<R0]
  4882 06:0FAD: C2 20        	rep	#$20
  4883                        	longa	on
  4884 06:0FAF: E6 05        	inc	<L153+colorIndex_1
  4885 06:0FB1: D0 02        	bne	L213
  4886 06:0FB3: E6 07        	inc	<L153+colorIndex_1+2
  4887                        L213:
  4888                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4889                        	.line	693
  4890 06:0FB5: 18           	clc
  4891 06:0FB6: A9 00 20     	lda	#$2000
  4892 06:0FB9: 65 05        	adc	<L153+colorIndex_1
  4893 06:0FBB: 85 01        	sta	<R0
  4894 06:0FBD: A9 AF 00     	lda	#$af
  4895 06:0FC0: 65 07        	adc	<L153+colorIndex_1+2
  4896 06:0FC2: 85 03        	sta	<R0+2
  4897 06:0FC4: E2 20        	sep	#$20
  4898                        	longa	off
  4899 06:0FC6: A9 FF        	lda	#$ff
  4900 06:0FC8: 87 01        	sta	[<R0]
  4901 06:0FCA: C2 20        	rep	#$20
  4902                        	longa	on
  4903 06:0FCC: E6 05        	inc	<L153+colorIndex_1
  4904 06:0FCE: D0 02        	bne	L214
  Sat Jul 10 2021  1:15                                                Page 97


  4905 06:0FD0: E6 07        	inc	<L153+colorIndex_1+2
  4906                        L214:
  4907                        ;
  4908                        ;	//colorIndex = 15 * 4;
  4909                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4910                        	.line	696
  4911 06:0FD2: 18           	clc
  4912 06:0FD3: A9 00 20     	lda	#$2000
  4913 06:0FD6: 65 05        	adc	<L153+colorIndex_1
  4914 06:0FD8: 85 01        	sta	<R0
  4915 06:0FDA: A9 AF 00     	lda	#$af
  4916 06:0FDD: 65 07        	adc	<L153+colorIndex_1+2
  4917 06:0FDF: 85 03        	sta	<R0+2
  4918 06:0FE1: E2 20        	sep	#$20
  4919                        	longa	off
  4920 06:0FE3: A9 FF        	lda	#$ff
  4921 06:0FE5: 87 01        	sta	[<R0]
  4922 06:0FE7: C2 20        	rep	#$20
  4923                        	longa	on
  4924 06:0FE9: E6 05        	inc	<L153+colorIndex_1
  4925 06:0FEB: D0 02        	bne	L215
  4926 06:0FED: E6 07        	inc	<L153+colorIndex_1+2
  4927                        L215:
  4928                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4929                        	.line	697
  4930 06:0FEF: 18           	clc
  4931 06:0FF0: A9 00 20     	lda	#$2000
  4932 06:0FF3: 65 05        	adc	<L153+colorIndex_1
  4933 06:0FF5: 85 01        	sta	<R0
  4934 06:0FF7: A9 AF 00     	lda	#$af
  4935 06:0FFA: 65 07        	adc	<L153+colorIndex_1+2
  4936 06:0FFC: 85 03        	sta	<R0+2
  4937 06:0FFE: E2 20        	sep	#$20
  4938                        	longa	off
  4939 06:1000: A9 FF        	lda	#$ff
  4940 06:1002: 87 01        	sta	[<R0]
  4941 06:1004: C2 20        	rep	#$20
  4942                        	longa	on
  4943 06:1006: E6 05        	inc	<L153+colorIndex_1
  4944 06:1008: D0 02        	bne	L216
  4945 06:100A: E6 07        	inc	<L153+colorIndex_1+2
  4946                        L216:
  4947                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4948                        	.line	698
  4949 06:100C: 18           	clc
  4950 06:100D: A9 00 20     	lda	#$2000
  4951 06:1010: 65 05        	adc	<L153+colorIndex_1
  4952 06:1012: 85 01        	sta	<R0
  4953 06:1014: A9 AF 00     	lda	#$af
  4954 06:1017: 65 07        	adc	<L153+colorIndex_1+2
  4955 06:1019: 85 03        	sta	<R0+2
  4956 06:101B: E2 20        	sep	#$20
  4957                        	longa	off
  4958 06:101D: A9 FF        	lda	#$ff
  4959 06:101F: 87 01        	sta	[<R0]
  4960 06:1021: C2 20        	rep	#$20
  4961                        	longa	on
  4962 06:1023: E6 05        	inc	<L153+colorIndex_1
  Sat Jul 10 2021  1:15                                                Page 98


  4963 06:1025: D0 02        	bne	L217
  4964 06:1027: E6 07        	inc	<L153+colorIndex_1+2
  4965                        L217:
  4966                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4967                        	.line	699
  4968 06:1029: 18           	clc
  4969 06:102A: A9 00 20     	lda	#$2000
  4970 06:102D: 65 05        	adc	<L153+colorIndex_1
  4971 06:102F: 85 01        	sta	<R0
  4972 06:1031: A9 AF 00     	lda	#$af
  4973 06:1034: 65 07        	adc	<L153+colorIndex_1+2
  4974 06:1036: 85 03        	sta	<R0+2
  4975 06:1038: E2 20        	sep	#$20
  4976                        	longa	off
  4977 06:103A: A9 FF        	lda	#$ff
  4978 06:103C: 87 01        	sta	[<R0]
  4979 06:103E: C2 20        	rep	#$20
  4980                        	longa	on
  4981 06:1040: E6 05        	inc	<L153+colorIndex_1
  4982 06:1042: D0 02        	bne	L218
  4983 06:1044: E6 07        	inc	<L153+colorIndex_1+2
  4984                        L218:
  4985                        ;
  4986                        ;
  4987                        ;	memset(&_k_currentPalatte,0,sizeof(CUR_PALETTE_M
                    AP));
  4988                        	.line	702
  4989 06:1046: F4 32 00     	pea	#<$32
  4990 06:1049: F4 00 00     	pea	#<$0
  4991 06:104C: A9 xx xx     	lda	#<~~_k_currentPalatte
  4992 06:104F: 85 01        	sta	<R0
  4993                        	xref	_BEG_DATA
  4994 06:1051: A9 xx xx     	lda	#_BEG_DATA>>16
  4995 06:1054: 85 03        	sta	<R0+2
  4996 06:1056: D4 03        	pei	<R0+2
  4997 06:1058: D4 01        	pei	<R0
  4998 06:105A: 22 xx xx xx  	jsl	~~memset
  4999                        ;
  5000                        ;	_k_currentPalatte.CUR_WINDOWFRAME = 0;
  5001                        	.line	704
  5002 06:105E: 9C xx xx     	stz	|~~_k_currentPalatte+10
  5003                        ;	_k_currentPalatte.CUR_DESKTOP = 14;
  5004                        	.line	705
  5005 06:1061: A9 0E 00     	lda	#$e
  5006 06:1064: 8D xx xx     	sta	|~~_k_currentPalatte
  5007                        ;	_k_currentPalatte.CUR_HIGHLIGHT_COLOR = 8;
  5008                        	.line	706
  5009 06:1067: A9 08 00     	lda	#$8
  5010 06:106A: 8D xx xx     	sta	|~~_k_currentPalatte+8
  5011                        ;	_k_currentPalatte.CUR_SELECTED_FONT = 11;
  5012                        	.line	707
  5013 06:106D: A9 0B 00     	lda	#$b
  5014 06:1070: 8D xx xx     	sta	|~~_k_currentPalatte+6
  5015                        ;	_k_currentPalatte.CUR_GADGET = _k_currentPalatte
                    .CUR_WINDOWSHADOW = 12;
  5016                        	.line	708
  5017 06:1073: A9 0C 00     	lda	#$c
  5018 06:1076: 8D xx xx     	sta	|~~_k_currentPalatte+14
  Sat Jul 10 2021  1:15                                                Page 99


  5019 06:1079: A9 0C 00     	lda	#$c
  5020 06:107C: 8D xx xx     	sta	|~~_k_currentPalatte+18
  5021                        ;	_k_currentPalatte.CUR_BACKGROUND = 13;
  5022                        	.line	709
  5023 06:107F: A9 0D 00     	lda	#$d
  5024 06:1082: 8D xx xx     	sta	|~~_k_currentPalatte+2
  5025                        ;	_k_currentPalatte.CUR_FONT = 14;
  5026                        	.line	710
  5027 06:1085: A9 0E 00     	lda	#$e
  5028 06:1088: 8D xx xx     	sta	|~~_k_currentPalatte+4
  5029                        ;	_k_currentPalatte.CUR_WINDOWBORDER = _k_currentP
                    alatte.CUR_MENU = 15;
  5030                        	.line	711
  5031 06:108B: A9 0F 00     	lda	#$f
  5032 06:108E: 8D xx xx     	sta	|~~_k_currentPalatte+16
  5033 06:1091: A9 0F 00     	lda	#$f
  5034 06:1094: 8D xx xx     	sta	|~~_k_currentPalatte+12
  5035                        ;
  5036                        ;	for(colorIndex=0;colorIndex<15;colorIndex++)
  5037                        	.line	713
  5038 06:1097: 64 05        	stz	<L153+colorIndex_1
  5039 06:1099: 64 07        	stz	<L153+colorIndex_1+2
  5040                        L10031:
  5041                        ;	{
  5042                        	.line	714
  5043                        ;		_k_currentPalatte.CUR_COLOR[colorIndex] 
                    = colorIndex;
  5044                        	.line	715
  5045 06:109B: A5 05        	lda	<L153+colorIndex_1
  5046 06:109D: 0A           	asl	A
  5047 06:109E: 85 01        	sta	<R0
  5048 06:10A0: A5 05        	lda	<L153+colorIndex_1
  5049 06:10A2: A6 01        	ldx	<R0
  5050 06:10A4: 9D xx xx     	sta	|~~_k_currentPalatte+20,X
  5051                        ;	}
  5052                        	.line	716
  5053                        L10029:
  5054 06:10A7: E6 05        	inc	<L153+colorIndex_1
  5055 06:10A9: D0 02        	bne	L219
  5056 06:10AB: E6 07        	inc	<L153+colorIndex_1+2
  5057                        L219:
  5058 06:10AD: A5 05        	lda	<L153+colorIndex_1
  5059 06:10AF: C9 0F 00     	cmp	#<$f
  5060 06:10B2: A5 07        	lda	<L153+colorIndex_1+2
  5061 06:10B4: E9 00 00     	sbc	#^$f
  5062 06:10B7: B0 03        	bcs	L220
  5063 06:10B9: 82 DF FF     	brl	L10031
  5064                        L220:
  5065                        L10030:
  5066                        ;
  5067                        ;
  5068                        ;}
  5069                        	.line	719
  5070                        L221:
  5071 06:10BC: 2B           	pld
  5072 06:10BD: 3B           	tsc
  5073 06:10BE: 18           	clc
  5074 06:10BF: 69 08 00     	adc	#L152
  Sat Jul 10 2021  1:15                                                Page 100


  5075 06:10C2: 1B           	tcs
  5076 06:10C3: 6B           	rtl
  5077                        	.endblock	719
  5078             00000008   L152	equ	8
  5079             00000005   L153	equ	5
  5080 06:10C4:              	ends
  5081                        	efunc
  5082                        	.endfunc	719,5,8
  5083                        	.line	719
  5084                        ;
  5085                        ;void defineGrayPalette(void)
  5086                        ;{
  5087                        	.line	721
  5088                        	.line	722
  5089                        	GFX
  5090                        	xdef	~~defineGrayPalette
  5091                        	func
  5092                        	.function	722
  5093                        ~~defineGrayPalette:
  5094                        	longa	on
  5095                        	longi	on
  5096 06:10C4: 3B           	tsc
  5097 06:10C5: 38           	sec
  5098 06:10C6: E9 1E 00     	sbc	#L222
  5099 06:10C9: 1B           	tcs
  5100 06:10CA: 0B           	phd
  5101 06:10CB: 5B           	tcd
  5102                        	.block	722
  5103                        ;	unsigned long colorIndex = 0;
  5104                        ;	int colorShade = 0;
  5105                        ;	char color[] = {0x00,0x00,0x22,0x33,0x44,0x55,0x
                    66,0x77,0x88,0x99,0xAA,0xBB,0xCC,0xDD,0xFF,0xFF};
  5106                        	data
  5107                        L225:
  5108 00:07C6: 00 00 22 33  	db	$0,$0,$22,$33,$44,$55,$66,$77,$88,$99
       00:07CA: 44 55 66 77 
       00:07CE: 88 99 
  5109 00:07D0: AA BB CC DD  	db	$AA,$BB,$CC,$DD,$FF,$FF
       00:07D4: FF FF 
  5110 00:07D6:              	ends
  5111                        ;	
  5112                        ;	for(colorIndex = 0;colorIndex<60;colorIndex+=4)
  5113             00000000   colorIndex_1	set	0
  5114             00000004   colorShade_1	set	4
  5115             00000006   color_1	set	6
  5116                        	.sym	colorIndex,0,18,1,32
  5117                        	.sym	colorShade,4,5,1,16
  5118                        	.sym	color,6,110,1,0,16
  5119 06:10CC: 64 09        	stz	<L223+colorIndex_1
  5120 06:10CE: 64 0B        	stz	<L223+colorIndex_1+2
  5121 06:10D0: 64 0D        	stz	<L223+colorShade_1
  5122 06:10D2: F4 xx xx     	pea	#^L225
  5123 06:10D5: F4 xx xx     	pea	#<L225
  5124 06:10D8: 18           	clc
  5125 06:10D9: 7B           	tdc
  5126 06:10DA: 69 0F 00     	adc	#<L223+color_1
  5127 06:10DD: 85 01        	sta	<R0
  5128 06:10DF: A9 00 00     	lda	#$0
  Sat Jul 10 2021  1:15                                                Page 101


  5129 06:10E2: 85 03        	sta	<R0+2
  5130 06:10E4: D4 03        	pei	<R0+2
  5131 06:10E6: D4 01        	pei	<R0
  5132 06:10E8: A9 10 00     	lda	#$10
  5133                        	xref	~~~fmov
  5134 06:10EB: 22 xx xx xx  	jsl	~~~fmov
  5135                        	.line	727
  5136 06:10EF: 64 09        	stz	<L223+colorIndex_1
  5137 06:10F1: 64 0B        	stz	<L223+colorIndex_1+2
  5138                        L10034:
  5139                        ;	{
  5140                        	.line	728
  5141                        ;		GRP_LUT_BASE_ADDR[colorIndex+0] = color[
                    colorShade];
  5142                        	.line	729
  5143 06:10F3: 18           	clc
  5144 06:10F4: A9 00 20     	lda	#$2000
  5145 06:10F7: 65 09        	adc	<L223+colorIndex_1
  5146 06:10F9: 85 01        	sta	<R0
  5147 06:10FB: A9 AF 00     	lda	#$af
  5148 06:10FE: 65 0B        	adc	<L223+colorIndex_1+2
  5149 06:1100: 85 03        	sta	<R0+2
  5150 06:1102: E2 20        	sep	#$20
  5151                        	longa	off
  5152 06:1104: A6 0D        	ldx	<L223+colorShade_1
  5153 06:1106: B5 0F        	lda	<L223+color_1,X
  5154 06:1108: 87 01        	sta	[<R0]
  5155 06:110A: C2 20        	rep	#$20
  5156                        	longa	on
  5157                        ;		GRP_LUT_BASE_ADDR[colorIndex+1] = color[
                    colorShade];
  5158                        	.line	730
  5159 06:110C: 18           	clc
  5160 06:110D: A9 01 00     	lda	#$1
  5161 06:1110: 69 00 20     	adc	#<$af2000
  5162 06:1113: 85 01        	sta	<R0
  5163 06:1115: A9 00 00     	lda	#$0
  5164 06:1118: 69 AF 00     	adc	#^$af2000
  5165 06:111B: 85 03        	sta	<R0+2
  5166 06:111D: 18           	clc
  5167 06:111E: A5 01        	lda	<R0
  5168 06:1120: 65 09        	adc	<L223+colorIndex_1
  5169 06:1122: 85 05        	sta	<R1
  5170 06:1124: A5 03        	lda	<R0+2
  5171 06:1126: 65 0B        	adc	<L223+colorIndex_1+2
  5172 06:1128: 85 07        	sta	<R1+2
  5173 06:112A: E2 20        	sep	#$20
  5174                        	longa	off
  5175 06:112C: A6 0D        	ldx	<L223+colorShade_1
  5176 06:112E: B5 0F        	lda	<L223+color_1,X
  5177 06:1130: 87 05        	sta	[<R1]
  5178 06:1132: C2 20        	rep	#$20
  5179                        	longa	on
  5180                        ;		GRP_LUT_BASE_ADDR[colorIndex+2] = color[
                    colorShade];
  5181                        	.line	731
  5182 06:1134: 18           	clc
  5183 06:1135: A9 02 00     	lda	#$2
  Sat Jul 10 2021  1:15                                                Page 102


  5184 06:1138: 69 00 20     	adc	#<$af2000
  5185 06:113B: 85 01        	sta	<R0
  5186 06:113D: A9 00 00     	lda	#$0
  5187 06:1140: 69 AF 00     	adc	#^$af2000
  5188 06:1143: 85 03        	sta	<R0+2
  5189 06:1145: 18           	clc
  5190 06:1146: A5 01        	lda	<R0
  5191 06:1148: 65 09        	adc	<L223+colorIndex_1
  5192 06:114A: 85 05        	sta	<R1
  5193 06:114C: A5 03        	lda	<R0+2
  5194 06:114E: 65 0B        	adc	<L223+colorIndex_1+2
  5195 06:1150: 85 07        	sta	<R1+2
  5196 06:1152: E2 20        	sep	#$20
  5197                        	longa	off
  5198 06:1154: A6 0D        	ldx	<L223+colorShade_1
  5199 06:1156: B5 0F        	lda	<L223+color_1,X
  5200 06:1158: 87 05        	sta	[<R1]
  5201 06:115A: C2 20        	rep	#$20
  5202                        	longa	on
  5203                        ;		GRP_LUT_BASE_ADDR[colorIndex+3] = 0xFF;
  5204                        	.line	732
  5205 06:115C: 18           	clc
  5206 06:115D: A9 03 00     	lda	#$3
  5207 06:1160: 69 00 20     	adc	#<$af2000
  5208 06:1163: 85 01        	sta	<R0
  5209 06:1165: A9 00 00     	lda	#$0
  5210 06:1168: 69 AF 00     	adc	#^$af2000
  5211 06:116B: 85 03        	sta	<R0+2
  5212 06:116D: 18           	clc
  5213 06:116E: A5 01        	lda	<R0
  5214 06:1170: 65 09        	adc	<L223+colorIndex_1
  5215 06:1172: 85 05        	sta	<R1
  5216 06:1174: A5 03        	lda	<R0+2
  5217 06:1176: 65 0B        	adc	<L223+colorIndex_1+2
  5218 06:1178: 85 07        	sta	<R1+2
  5219 06:117A: E2 20        	sep	#$20
  5220                        	longa	off
  5221 06:117C: A9 FF        	lda	#$ff
  5222 06:117E: 87 05        	sta	[<R1]
  5223 06:1180: C2 20        	rep	#$20
  5224                        	longa	on
  5225                        ;
  5226                        ;		colorShade++;
  5227                        	.line	734
  5228 06:1182: E6 0D        	inc	<L223+colorShade_1
  5229                        ;	}
  5230                        	.line	735
  5231                        L10032:
  5232 06:1184: 18           	clc
  5233 06:1185: A9 04 00     	lda	#$4
  5234 06:1188: 65 09        	adc	<L223+colorIndex_1
  5235 06:118A: 85 09        	sta	<L223+colorIndex_1
  5236 06:118C: 90 02        	bcc	L226
  5237 06:118E: E6 0B        	inc	<L223+colorIndex_1+2
  5238                        L226:
  5239 06:1190: A5 09        	lda	<L223+colorIndex_1
  5240 06:1192: C9 3C 00     	cmp	#<$3c
  5241 06:1195: A5 0B        	lda	<L223+colorIndex_1+2
  Sat Jul 10 2021  1:15                                                Page 103


  5242 06:1197: E9 00 00     	sbc	#^$3c
  5243 06:119A: B0 03        	bcs	L227
  5244 06:119C: 82 54 FF     	brl	L10034
  5245                        L227:
  5246                        L10033:
  5247                        ;
  5248                        ;	memset(&_k_currentPalatte,0,sizeof(CUR_PALETTE_M
                    AP));
  5249                        	.line	737
  5250 06:119F: F4 32 00     	pea	#<$32
  5251 06:11A2: F4 00 00     	pea	#<$0
  5252 06:11A5: A9 xx xx     	lda	#<~~_k_currentPalatte
  5253 06:11A8: 85 01        	sta	<R0
  5254                        	xref	_BEG_DATA
  5255 06:11AA: A9 xx xx     	lda	#_BEG_DATA>>16
  5256 06:11AD: 85 03        	sta	<R0+2
  5257 06:11AF: D4 03        	pei	<R0+2
  5258 06:11B1: D4 01        	pei	<R0
  5259 06:11B3: 22 xx xx xx  	jsl	~~memset
  5260                        ;
  5261                        ;	_k_currentPalatte.CUR_WINDOWFRAME = 15;
  5262                        	.line	739
  5263 06:11B7: A9 0F 00     	lda	#$f
  5264 06:11BA: 8D xx xx     	sta	|~~_k_currentPalatte+10
  5265                        ;	_k_currentPalatte.CUR_DESKTOP = 3;
  5266                        	.line	740
  5267 06:11BD: A9 03 00     	lda	#$3
  5268 06:11C0: 8D xx xx     	sta	|~~_k_currentPalatte
  5269                        ;	_k_currentPalatte.CUR_HIGHLIGHT_COLOR = 8;
  5270                        	.line	741
  5271 06:11C3: A9 08 00     	lda	#$8
  5272 06:11C6: 8D xx xx     	sta	|~~_k_currentPalatte+8
  5273                        ;	_k_currentPalatte.CUR_SELECTED_FONT = 11;
  5274                        	.line	742
  5275 06:11C9: A9 0B 00     	lda	#$b
  5276 06:11CC: 8D xx xx     	sta	|~~_k_currentPalatte+6
  5277                        ;	_k_currentPalatte.CUR_GADGET = _k_currentPalatte
                    .CUR_WINDOWSHADOW = 1;
  5278                        	.line	743
  5279 06:11CF: A9 01 00     	lda	#$1
  5280 06:11D2: 8D xx xx     	sta	|~~_k_currentPalatte+14
  5281 06:11D5: A9 01 00     	lda	#$1
  5282 06:11D8: 8D xx xx     	sta	|~~_k_currentPalatte+18
  5283                        ;	_k_currentPalatte.CUR_BACKGROUND = 4;
  5284                        	.line	744
  5285 06:11DB: A9 04 00     	lda	#$4
  5286 06:11DE: 8D xx xx     	sta	|~~_k_currentPalatte+2
  5287                        ;	_k_currentPalatte.CUR_FONT = 1;
  5288                        	.line	745
  5289 06:11E1: A9 01 00     	lda	#$1
  5290 06:11E4: 8D xx xx     	sta	|~~_k_currentPalatte+4
  5291                        ;	_k_currentPalatte.CUR_WINDOWBORDER = _k_currentP
                    alatte.CUR_MENU = 15;
  5292                        	.line	746
  5293 06:11E7: A9 0F 00     	lda	#$f
  5294 06:11EA: 8D xx xx     	sta	|~~_k_currentPalatte+16
  5295 06:11ED: A9 0F 00     	lda	#$f
  5296 06:11F0: 8D xx xx     	sta	|~~_k_currentPalatte+12
  Sat Jul 10 2021  1:15                                                Page 104


  5297                        ;
  5298                        ;	for(colorShade=0;colorShade<16;colorShade++)
  5299                        	.line	748
  5300 06:11F3: 64 0D        	stz	<L223+colorShade_1
  5301                        L10037:
  5302                        ;	{
  5303                        	.line	749
  5304                        ;		_k_currentPalatte.CUR_COLOR[colorShade] 
                    = colorShade;
  5305                        	.line	750
  5306 06:11F5: A5 0D        	lda	<L223+colorShade_1
  5307 06:11F7: 0A           	asl	A
  5308 06:11F8: 85 01        	sta	<R0
  5309 06:11FA: A5 0D        	lda	<L223+colorShade_1
  5310 06:11FC: A6 01        	ldx	<R0
  5311 06:11FE: 9D xx xx     	sta	|~~_k_currentPalatte+20,X
  5312                        ;	}
  5313                        	.line	751
  5314                        L10035:
  5315 06:1201: E6 0D        	inc	<L223+colorShade_1
  5316 06:1203: 38           	sec
  5317 06:1204: A5 0D        	lda	<L223+colorShade_1
  5318 06:1206: E9 10 00     	sbc	#<$10
  5319 06:1209: 70 03        	bvs	L228
  5320 06:120B: 49 00 80     	eor	#$8000
  5321                        L228:
  5322 06:120E: 30 03        	bmi	L229
  5323 06:1210: 82 E2 FF     	brl	L10037
  5324                        L229:
  5325                        L10036:
  5326                        ;}
  5327                        	.line	752
  5328                        L230:
  5329 06:1213: 2B           	pld
  5330 06:1214: 3B           	tsc
  5331 06:1215: 18           	clc
  5332 06:1216: 69 1E 00     	adc	#L222
  5333 06:1219: 1B           	tcs
  5334 06:121A: 6B           	rtl
  5335                        	.endblock	752
  5336             0000001E   L222	equ	30
  5337             00000009   L223	equ	9
  5338 06:121B:              	ends
  5339                        	efunc
  5340                        	.endfunc	752,9,30
  5341                        	.line	752
  5342                        ;
  5343                        ;int k_getUIBackgroundColor()
  5344                        ;{
  5345                        	.line	754
  5346                        	.line	755
  5347                        	GFX
  5348                        	xdef	~~k_getUIBackgroundColor
  5349                        	func
  5350                        	.function	755
  5351                        ~~k_getUIBackgroundColor:
  5352                        	longa	on
  5353                        	longi	on
  Sat Jul 10 2021  1:15                                                Page 105


  5354 06:121B: 3B           	tsc
  5355 06:121C: 38           	sec
  5356 06:121D: E9 00 00     	sbc	#L231
  5357 06:1220: 1B           	tcs
  5358 06:1221: 0B           	phd
  5359 06:1222: 5B           	tcd
  5360                        	.block	755
  5361                        ;	return 	_k_currentPalatte.CUR_BACKGROUND;
  5362                        	.line	756
  5363 06:1223: AD xx xx     	lda	|~~_k_currentPalatte+2
  5364                        L234:
  5365 06:1226: A8           	tay
  5366 06:1227: 2B           	pld
  5367 06:1228: 3B           	tsc
  5368 06:1229: 18           	clc
  5369 06:122A: 69 00 00     	adc	#L231
  5370 06:122D: 1B           	tcs
  5371 06:122E: 98           	tya
  5372 06:122F: 6B           	rtl
  5373                        ;}
  5374                        	.line	757
  5375                        	.endblock	757
  5376             00000000   L231	equ	0
  5377             00000001   L232	equ	1
  5378 06:1230:              	ends
  5379                        	efunc
  5380                        	.endfunc	757,1,0
  5381                        	.line	757
  5382                        ;
  5383                        ;int k_getUIDesktopColor()
  5384                        ;{
  5385                        	.line	759
  5386                        	.line	760
  5387                        	GFX
  5388                        	xdef	~~k_getUIDesktopColor
  5389                        	func
  5390                        	.function	760
  5391                        ~~k_getUIDesktopColor:
  5392                        	longa	on
  5393                        	longi	on
  5394 06:1230: 3B           	tsc
  5395 06:1231: 38           	sec
  5396 06:1232: E9 00 00     	sbc	#L235
  5397 06:1235: 1B           	tcs
  5398 06:1236: 0B           	phd
  5399 06:1237: 5B           	tcd
  5400                        	.block	760
  5401                        ;	return 	_k_currentPalatte.CUR_DESKTOP;
  5402                        	.line	761
  5403 06:1238: AD xx xx     	lda	|~~_k_currentPalatte
  5404                        L238:
  5405 06:123B: A8           	tay
  5406 06:123C: 2B           	pld
  5407 06:123D: 3B           	tsc
  5408 06:123E: 18           	clc
  5409 06:123F: 69 00 00     	adc	#L235
  5410 06:1242: 1B           	tcs
  5411 06:1243: 98           	tya
  Sat Jul 10 2021  1:15                                                Page 106


  5412 06:1244: 6B           	rtl
  5413                        ;}
  5414                        	.line	762
  5415                        	.endblock	762
  5416             00000000   L235	equ	0
  5417             00000001   L236	equ	1
  5418 06:1245:              	ends
  5419                        	efunc
  5420                        	.endfunc	762,1,0
  5421                        	.line	762
  5422                        ;
  5423                        ;
  5424                        ;int k_getUIFontColor()
  5425                        ;{
  5426                        	.line	765
  5427                        	.line	766
  5428                        	GFX
  5429                        	xdef	~~k_getUIFontColor
  5430                        	func
  5431                        	.function	766
  5432                        ~~k_getUIFontColor:
  5433                        	longa	on
  5434                        	longi	on
  5435 06:1245: 3B           	tsc
  5436 06:1246: 38           	sec
  5437 06:1247: E9 00 00     	sbc	#L239
  5438 06:124A: 1B           	tcs
  5439 06:124B: 0B           	phd
  5440 06:124C: 5B           	tcd
  5441                        	.block	766
  5442                        ;	return 	_k_currentPalatte.CUR_FONT;
  5443                        	.line	767
  5444 06:124D: AD xx xx     	lda	|~~_k_currentPalatte+4
  5445                        L242:
  5446 06:1250: A8           	tay
  5447 06:1251: 2B           	pld
  5448 06:1252: 3B           	tsc
  5449 06:1253: 18           	clc
  5450 06:1254: 69 00 00     	adc	#L239
  5451 06:1257: 1B           	tcs
  5452 06:1258: 98           	tya
  5453 06:1259: 6B           	rtl
  5454                        ;}
  5455                        	.line	768
  5456                        	.endblock	768
  5457             00000000   L239	equ	0
  5458             00000001   L240	equ	1
  5459 06:125A:              	ends
  5460                        	efunc
  5461                        	.endfunc	768,1,0
  5462                        	.line	768
  5463                        ;
  5464                        ;
  5465                        ;int k_getUIFontSelectedColor()
  5466                        ;{
  5467                        	.line	771
  5468                        	.line	772
  5469                        	GFX
  Sat Jul 10 2021  1:15                                                Page 107


  5470                        	xdef	~~k_getUIFontSelectedColor
  5471                        	func
  5472                        	.function	772
  5473                        ~~k_getUIFontSelectedColor:
  5474                        	longa	on
  5475                        	longi	on
  5476 06:125A: 3B           	tsc
  5477 06:125B: 38           	sec
  5478 06:125C: E9 00 00     	sbc	#L243
  5479 06:125F: 1B           	tcs
  5480 06:1260: 0B           	phd
  5481 06:1261: 5B           	tcd
  5482                        	.block	772
  5483                        ;	return 	_k_currentPalatte.CUR_SELECTED_FONT;
  5484                        	.line	773
  5485 06:1262: AD xx xx     	lda	|~~_k_currentPalatte+6
  5486                        L246:
  5487 06:1265: A8           	tay
  5488 06:1266: 2B           	pld
  5489 06:1267: 3B           	tsc
  5490 06:1268: 18           	clc
  5491 06:1269: 69 00 00     	adc	#L243
  5492 06:126C: 1B           	tcs
  5493 06:126D: 98           	tya
  5494 06:126E: 6B           	rtl
  5495                        ;}
  5496                        	.line	774
  5497                        	.endblock	774
  5498             00000000   L243	equ	0
  5499             00000001   L244	equ	1
  5500 06:126F:              	ends
  5501                        	efunc
  5502                        	.endfunc	774,1,0
  5503                        	.line	774
  5504                        ;
  5505                        ;
  5506                        ;int k_getUIHighlightColor()
  5507                        ;{
  5508                        	.line	777
  5509                        	.line	778
  5510                        	GFX
  5511                        	xdef	~~k_getUIHighlightColor
  5512                        	func
  5513                        	.function	778
  5514                        ~~k_getUIHighlightColor:
  5515                        	longa	on
  5516                        	longi	on
  5517 06:126F: 3B           	tsc
  5518 06:1270: 38           	sec
  5519 06:1271: E9 00 00     	sbc	#L247
  5520 06:1274: 1B           	tcs
  5521 06:1275: 0B           	phd
  5522 06:1276: 5B           	tcd
  5523                        	.block	778
  5524                        ;	return 	_k_currentPalatte.CUR_HIGHLIGHT_COLOR;
  5525                        	.line	779
  5526 06:1277: AD xx xx     	lda	|~~_k_currentPalatte+8
  5527                        L250:
  Sat Jul 10 2021  1:15                                                Page 108


  5528 06:127A: A8           	tay
  5529 06:127B: 2B           	pld
  5530 06:127C: 3B           	tsc
  5531 06:127D: 18           	clc
  5532 06:127E: 69 00 00     	adc	#L247
  5533 06:1281: 1B           	tcs
  5534 06:1282: 98           	tya
  5535 06:1283: 6B           	rtl
  5536                        ;}
  5537                        	.line	780
  5538                        	.endblock	780
  5539             00000000   L247	equ	0
  5540             00000001   L248	equ	1
  5541 06:1284:              	ends
  5542                        	efunc
  5543                        	.endfunc	780,1,0
  5544                        	.line	780
  5545                        ;
  5546                        ;
  5547                        ;int k_getUIWindowFrameColor()
  5548                        ;{
  5549                        	.line	783
  5550                        	.line	784
  5551                        	GFX
  5552                        	xdef	~~k_getUIWindowFrameColor
  5553                        	func
  5554                        	.function	784
  5555                        ~~k_getUIWindowFrameColor:
  5556                        	longa	on
  5557                        	longi	on
  5558 06:1284: 3B           	tsc
  5559 06:1285: 38           	sec
  5560 06:1286: E9 00 00     	sbc	#L251
  5561 06:1289: 1B           	tcs
  5562 06:128A: 0B           	phd
  5563 06:128B: 5B           	tcd
  5564                        	.block	784
  5565                        ;	return 	_k_currentPalatte.CUR_WINDOWFRAME;
  5566                        	.line	785
  5567 06:128C: AD xx xx     	lda	|~~_k_currentPalatte+10
  5568                        L254:
  5569 06:128F: A8           	tay
  5570 06:1290: 2B           	pld
  5571 06:1291: 3B           	tsc
  5572 06:1292: 18           	clc
  5573 06:1293: 69 00 00     	adc	#L251
  5574 06:1296: 1B           	tcs
  5575 06:1297: 98           	tya
  5576 06:1298: 6B           	rtl
  5577                        ;}
  5578                        	.line	786
  5579                        	.endblock	786
  5580             00000000   L251	equ	0
  5581             00000001   L252	equ	1
  5582 06:1299:              	ends
  5583                        	efunc
  5584                        	.endfunc	786,1,0
  5585                        	.line	786
  Sat Jul 10 2021  1:15                                                Page 109


  5586                        ;
  5587                        ;
  5588                        ;int k_getUIWindowBorderColor()
  5589                        ;{
  5590                        	.line	789
  5591                        	.line	790
  5592                        	GFX
  5593                        	xdef	~~k_getUIWindowBorderColor
  5594                        	func
  5595                        	.function	790
  5596                        ~~k_getUIWindowBorderColor:
  5597                        	longa	on
  5598                        	longi	on
  5599 06:1299: 3B           	tsc
  5600 06:129A: 38           	sec
  5601 06:129B: E9 00 00     	sbc	#L255
  5602 06:129E: 1B           	tcs
  5603 06:129F: 0B           	phd
  5604 06:12A0: 5B           	tcd
  5605                        	.block	790
  5606                        ;	return 	_k_currentPalatte.CUR_WINDOWBORDER;
  5607                        	.line	791
  5608 06:12A1: AD xx xx     	lda	|~~_k_currentPalatte+12
  5609                        L258:
  5610 06:12A4: A8           	tay
  5611 06:12A5: 2B           	pld
  5612 06:12A6: 3B           	tsc
  5613 06:12A7: 18           	clc
  5614 06:12A8: 69 00 00     	adc	#L255
  5615 06:12AB: 1B           	tcs
  5616 06:12AC: 98           	tya
  5617 06:12AD: 6B           	rtl
  5618                        ;}
  5619                        	.line	792
  5620                        	.endblock	792
  5621             00000000   L255	equ	0
  5622             00000001   L256	equ	1
  5623 06:12AE:              	ends
  5624                        	efunc
  5625                        	.endfunc	792,1,0
  5626                        	.line	792
  5627                        ;
  5628                        ;
  5629                        ;int k_getUIWindowShadowColor()
  5630                        ;{
  5631                        	.line	795
  5632                        	.line	796
  5633                        	GFX
  5634                        	xdef	~~k_getUIWindowShadowColor
  5635                        	func
  5636                        	.function	796
  5637                        ~~k_getUIWindowShadowColor:
  5638                        	longa	on
  5639                        	longi	on
  5640 06:12AE: 3B           	tsc
  5641 06:12AF: 38           	sec
  5642 06:12B0: E9 00 00     	sbc	#L259
  5643 06:12B3: 1B           	tcs
  Sat Jul 10 2021  1:15                                                Page 110


  5644 06:12B4: 0B           	phd
  5645 06:12B5: 5B           	tcd
  5646                        	.block	796
  5647                        ;	return 	_k_currentPalatte.CUR_WINDOWSHADOW;
  5648                        	.line	797
  5649 06:12B6: AD xx xx     	lda	|~~_k_currentPalatte+14
  5650                        L262:
  5651 06:12B9: A8           	tay
  5652 06:12BA: 2B           	pld
  5653 06:12BB: 3B           	tsc
  5654 06:12BC: 18           	clc
  5655 06:12BD: 69 00 00     	adc	#L259
  5656 06:12C0: 1B           	tcs
  5657 06:12C1: 98           	tya
  5658 06:12C2: 6B           	rtl
  5659                        ;}
  5660                        	.line	798
  5661                        	.endblock	798
  5662             00000000   L259	equ	0
  5663             00000001   L260	equ	1
  5664 06:12C3:              	ends
  5665                        	efunc
  5666                        	.endfunc	798,1,0
  5667                        	.line	798
  5668                        ;
  5669                        ;
  5670                        ;int k_getUIMenuColor()
  5671                        ;{
  5672                        	.line	801
  5673                        	.line	802
  5674                        	GFX
  5675                        	xdef	~~k_getUIMenuColor
  5676                        	func
  5677                        	.function	802
  5678                        ~~k_getUIMenuColor:
  5679                        	longa	on
  5680                        	longi	on
  5681 06:12C3: 3B           	tsc
  5682 06:12C4: 38           	sec
  5683 06:12C5: E9 00 00     	sbc	#L263
  5684 06:12C8: 1B           	tcs
  5685 06:12C9: 0B           	phd
  5686 06:12CA: 5B           	tcd
  5687                        	.block	802
  5688                        ;	return 	_k_currentPalatte.CUR_MENU;
  5689                        	.line	803
  5690 06:12CB: AD xx xx     	lda	|~~_k_currentPalatte+16
  5691                        L266:
  5692 06:12CE: A8           	tay
  5693 06:12CF: 2B           	pld
  5694 06:12D0: 3B           	tsc
  5695 06:12D1: 18           	clc
  5696 06:12D2: 69 00 00     	adc	#L263
  5697 06:12D5: 1B           	tcs
  5698 06:12D6: 98           	tya
  5699 06:12D7: 6B           	rtl
  5700                        ;}
  5701                        	.line	804
  Sat Jul 10 2021  1:15                                                Page 111


  5702                        	.endblock	804
  5703             00000000   L263	equ	0
  5704             00000001   L264	equ	1
  5705 06:12D8:              	ends
  5706                        	efunc
  5707                        	.endfunc	804,1,0
  5708                        	.line	804
  5709                        ;
  5710                        ;
  5711                        ;int k_getUIGadgetColor()
  5712                        ;{
  5713                        	.line	807
  5714                        	.line	808
  5715                        	GFX
  5716                        	xdef	~~k_getUIGadgetColor
  5717                        	func
  5718                        	.function	808
  5719                        ~~k_getUIGadgetColor:
  5720                        	longa	on
  5721                        	longi	on
  5722 06:12D8: 3B           	tsc
  5723 06:12D9: 38           	sec
  5724 06:12DA: E9 00 00     	sbc	#L267
  5725 06:12DD: 1B           	tcs
  5726 06:12DE: 0B           	phd
  5727 06:12DF: 5B           	tcd
  5728                        	.block	808
  5729                        ;	return 	_k_currentPalatte.CUR_GADGET;
  5730                        	.line	809
  5731 06:12E0: AD xx xx     	lda	|~~_k_currentPalatte+18
  5732                        L270:
  5733 06:12E3: A8           	tay
  5734 06:12E4: 2B           	pld
  5735 06:12E5: 3B           	tsc
  5736 06:12E6: 18           	clc
  5737 06:12E7: 69 00 00     	adc	#L267
  5738 06:12EA: 1B           	tcs
  5739 06:12EB: 98           	tya
  5740 06:12EC: 6B           	rtl
  5741                        ;}
  5742                        	.line	810
  5743                        	.endblock	810
  5744             00000000   L267	equ	0
  5745             00000001   L268	equ	1
  5746 06:12ED:              	ends
  5747                        	efunc
  5748                        	.endfunc	810,1,0
  5749                        	.line	810
  5750                        ;
  5751                        ;
  5752                        ;int k_getUIColor(int index)
  5753                        ;{
  5754                        	.line	813
  5755                        	.line	814
  5756                        	GFX
  5757                        	xdef	~~k_getUIColor
  5758                        	func
  5759                        	.function	814
  Sat Jul 10 2021  1:15                                                Page 112


  5760                        ~~k_getUIColor:
  5761                        	longa	on
  5762                        	longi	on
  5763 06:12ED: 3B           	tsc
  5764 06:12EE: 38           	sec
  5765 06:12EF: E9 04 00     	sbc	#L271
  5766 06:12F2: 1B           	tcs
  5767 06:12F3: 0B           	phd
  5768 06:12F4: 5B           	tcd
  5769             00000004   index_0	set	4
  5770                        	.block	814
  5771                        ;	if(index < 1)
  5772                        	.sym	index,4,5,6,16
  5773                        	.line	815
  5774                        ;		index = 1;
  5775 06:12F5: A5 08        	lda	<L271+index_0
  5776 06:12F7: 30 06        	bmi	L274
  5777 06:12F9: 3A           	dea
  5778 06:12FA: 30 03        	bmi	L274
  5779 06:12FC: 82 05 00     	brl	L10038
  5780                        L274:
  5781                        	.line	816
  5782 06:12FF: A9 01 00     	lda	#$1
  5783 06:1302: 85 08        	sta	<L271+index_0
  5784                        ;	if(index > 15)
  5785                        L10038:
  5786                        	.line	817
  5787                        ;		index = 15;
  5788 06:1304: 38           	sec
  5789 06:1305: A9 0F 00     	lda	#$f
  5790 06:1308: E5 08        	sbc	<L271+index_0
  5791 06:130A: 70 03        	bvs	L275
  5792 06:130C: 49 00 80     	eor	#$8000
  5793                        L275:
  5794 06:130F: 10 03        	bpl	L276
  5795 06:1311: 82 05 00     	brl	L10039
  5796                        L276:
  5797                        	.line	818
  5798 06:1314: A9 0F 00     	lda	#$f
  5799 06:1317: 85 08        	sta	<L271+index_0
  5800                        ;
  5801                        ;	return 	_k_currentPalatte.CUR_COLOR[index - 1];
  5802                        L10039:
  5803                        	.line	820
  5804 06:1319: A5 08        	lda	<L271+index_0
  5805 06:131B: 0A           	asl	A
  5806 06:131C: 85 01        	sta	<R0
  5807 06:131E: A6 01        	ldx	<R0
  5808 06:1320: BD xx xx     	lda	|~~_k_currentPalatte+20-2,X
  5809                        L277:
  5810 06:1323: A8           	tay
  5811 06:1324: A5 06        	lda	<L271+2
  5812 06:1326: 85 08        	sta	<L271+2+2
  5813 06:1328: A5 05        	lda	<L271+1
  5814 06:132A: 85 07        	sta	<L271+1+2
  5815 06:132C: 2B           	pld
  5816 06:132D: 3B           	tsc
  5817 06:132E: 18           	clc
  Sat Jul 10 2021  1:15                                                Page 113


  5818 06:132F: 69 06 00     	adc	#L271+2
  5819 06:1332: 1B           	tcs
  5820 06:1333: 98           	tya
  5821 06:1334: 6B           	rtl
  5822                        ;}
  5823                        	.line	821
  5824                        	.endblock	821
  5825             00000004   L271	equ	4
  5826             00000005   L272	equ	5
  5827 06:1335:              	ends
  5828                        	efunc
  5829                        	.endfunc	821,5,4
  5830                        	.line	821
  5831                        ;
  5832                        ;
  5833                        ;
  5834                        ;void k_draw_pixel(long x,long y,char pcolor)
  5835                        ;{
  5836                        	.line	825
  5837                        	.line	826
  5838                        	GFX
  5839                        	xdef	~~k_draw_pixel
  5840                        	func
  5841                        	.function	826
  5842                        ~~k_draw_pixel:
  5843                        	longa	on
  5844                        	longi	on
  5845 06:1335: 3B           	tsc
  5846 06:1336: 38           	sec
  5847 06:1337: E9 08 00     	sbc	#L278
  5848 06:133A: 1B           	tcs
  5849 06:133B: 0B           	phd
  5850 06:133C: 5B           	tcd
  5851             00000004   x_0	set	4
  5852             00000008   y_0	set	8
  5853             0000000C   pcolor_0	set	12
  5854                        	.block	826
  5855                        ;	long pixelLocation = (long)(((long)y * 640L) + (
                    long)x);
  5856                        ;
  5857                        ;	if(x >= GUI_POINT_LIMIT_X_LO && x <= GUI_POINT_L
                    IMIT_X_HI && y >= GUI_POINT_LIMIT_Y_LO && y <= GUI_POINT_LIM
                    IT_Y_HI)
  5858             00000000   pixelLocation_1	set	0
  5859                        	.sym	pixelLocation,0,7,1,32
  5860                        	.sym	x,4,7,6,32
  5861                        	.sym	y,8,7,6,32
  5862                        	.sym	pcolor,12,14,6,8
  5863 06:133D: F4 00 00     	pea	#^$280
  5864 06:1340: F4 80 02     	pea	#<$280
  5865 06:1343: D4 12        	pei	<L278+y_0+2
  5866 06:1345: D4 10        	pei	<L278+y_0
  5867                        	xref	~~~lmul
  5868 06:1347: 22 xx xx xx  	jsl	~~~lmul
  5869 06:134B: 85 01        	sta	<R0
  5870 06:134D: 86 03        	stx	<R0+2
  5871 06:134F: 18           	clc
  5872 06:1350: A5 01        	lda	<R0
  Sat Jul 10 2021  1:15                                                Page 114


  5873 06:1352: 65 0C        	adc	<L278+x_0
  5874 06:1354: 85 05        	sta	<L279+pixelLocation_1
  5875 06:1356: A5 03        	lda	<R0+2
  5876 06:1358: 65 0E        	adc	<L278+x_0+2
  5877 06:135A: 85 07        	sta	<L279+pixelLocation_1+2
  5878                        	.line	829
  5879                        ;		((unsigned char FAR *)BITMAP_BANK_0)[pix
                    elLocation] = (char)pcolor;
  5880 06:135C: A5 0E        	lda	<L278+x_0+2
  5881 06:135E: 10 03        	bpl	L281
  5882 06:1360: 82 48 00     	brl	L10040
  5883                        L281:
  5884 06:1363: 38           	sec
  5885 06:1364: A9 7F 02     	lda	#$27f
  5886 06:1367: E5 0C        	sbc	<L278+x_0
  5887 06:1369: A9 00 00     	lda	#$0
  5888 06:136C: E5 0E        	sbc	<L278+x_0+2
  5889 06:136E: 70 03        	bvs	L282
  5890 06:1370: 49 00 80     	eor	#$8000
  5891                        L282:
  5892 06:1373: 30 03        	bmi	L283
  5893 06:1375: 82 33 00     	brl	L10040
  5894                        L283:
  5895 06:1378: A5 12        	lda	<L278+y_0+2
  5896 06:137A: 10 03        	bpl	L284
  5897 06:137C: 82 2C 00     	brl	L10040
  5898                        L284:
  5899 06:137F: 38           	sec
  5900 06:1380: A9 DF 01     	lda	#$1df
  5901 06:1383: E5 10        	sbc	<L278+y_0
  5902 06:1385: A9 00 00     	lda	#$0
  5903 06:1388: E5 12        	sbc	<L278+y_0+2
  5904 06:138A: 70 03        	bvs	L285
  5905 06:138C: 49 00 80     	eor	#$8000
  5906                        L285:
  5907 06:138F: 30 03        	bmi	L286
  5908 06:1391: 82 17 00     	brl	L10040
  5909                        L286:
  5910                        	.line	830
  5911 06:1394: 18           	clc
  5912 06:1395: A9 00 00     	lda	#$0
  5913 06:1398: 65 05        	adc	<L279+pixelLocation_1
  5914 06:139A: 85 01        	sta	<R0
  5915 06:139C: A9 B0 00     	lda	#$b0
  5916 06:139F: 65 07        	adc	<L279+pixelLocation_1+2
  5917 06:13A1: 85 03        	sta	<R0+2
  5918 06:13A3: E2 20        	sep	#$20
  5919                        	longa	off
  5920 06:13A5: A5 14        	lda	<L278+pcolor_0
  5921 06:13A7: 87 01        	sta	[<R0]
  5922 06:13A9: C2 20        	rep	#$20
  5923                        	longa	on
  5924                        ;	//((unsigned char FAR *)SHADOW_BANK_0)[pixelLoca
                    tion] = (char)pcolor;
  5925                        ;
  5926                        ;
  5927                        ;	//((unsigned char FAR *)BITMAP_BANK_0)[(long)(( 
                    ((long)y) * 640L) + ((long)x) )] = (char)pcolor;
  Sat Jul 10 2021  1:15                                                Page 115


  5928                        ;}
  5929                        L10040:
  5930                        	.line	835
  5931                        L287:
  5932 06:13AB: A5 0A        	lda	<L278+2
  5933 06:13AD: 85 14        	sta	<L278+2+10
  5934 06:13AF: A5 09        	lda	<L278+1
  5935 06:13B1: 85 13        	sta	<L278+1+10
  5936 06:13B3: 2B           	pld
  5937 06:13B4: 3B           	tsc
  5938 06:13B5: 18           	clc
  5939 06:13B6: 69 12 00     	adc	#L278+10
  5940 06:13B9: 1B           	tcs
  5941 06:13BA: 6B           	rtl
  5942                        	.endblock	835
  5943             00000008   L278	equ	8
  5944             00000005   L279	equ	5
  5945 06:13BB:              	ends
  5946                        	efunc
  5947                        	.endfunc	835,5,8
  5948                        	.line	835
  5949                        ;
  5950                        ;void k_draw_pixel_front(long x,long y,char pcolor
                    )
  5951                        ;{
  5952                        	.line	837
  5953                        	.line	838
  5954                        	GFX
  5955                        	xdef	~~k_draw_pixel_front
  5956                        	func
  5957                        	.function	838
  5958                        ~~k_draw_pixel_front:
  5959                        	longa	on
  5960                        	longi	on
  5961 06:13BB: 3B           	tsc
  5962 06:13BC: 38           	sec
  5963 06:13BD: E9 08 00     	sbc	#L288
  5964 06:13C0: 1B           	tcs
  5965 06:13C1: 0B           	phd
  5966 06:13C2: 5B           	tcd
  5967             00000004   x_0	set	4
  5968             00000008   y_0	set	8
  5969             0000000C   pcolor_0	set	12
  5970                        	.block	838
  5971                        ;	if(x >= GUI_POINT_LIMIT_X_LO && x <= GUI_POINT_L
                    IMIT_X_HI && y >= GUI_POINT_LIMIT_Y_LO && y <= GUI_POINT_LIM
                    IT_Y_HI)
  5972                        	.sym	x,4,7,6,32
  5973                        	.sym	y,8,7,6,32
  5974                        	.sym	pcolor,12,14,6,8
  5975                        	.line	839
  5976                        ;		BITMAP_BANK_0[(long)(((long)y * 640L) + 
                    (long)x)] = (char)pcolor;
  5977 06:13C3: A5 0E        	lda	<L288+x_0+2
  5978 06:13C5: 10 03        	bpl	L291
  5979 06:13C7: 82 67 00     	brl	L10041
  5980                        L291:
  5981 06:13CA: 38           	sec
  Sat Jul 10 2021  1:15                                                Page 116


  5982 06:13CB: A9 7F 02     	lda	#$27f
  5983 06:13CE: E5 0C        	sbc	<L288+x_0
  5984 06:13D0: A9 00 00     	lda	#$0
  5985 06:13D3: E5 0E        	sbc	<L288+x_0+2
  5986 06:13D5: 70 03        	bvs	L292
  5987 06:13D7: 49 00 80     	eor	#$8000
  5988                        L292:
  5989 06:13DA: 30 03        	bmi	L293
  5990 06:13DC: 82 52 00     	brl	L10041
  5991                        L293:
  5992 06:13DF: A5 12        	lda	<L288+y_0+2
  5993 06:13E1: 10 03        	bpl	L294
  5994 06:13E3: 82 4B 00     	brl	L10041
  5995                        L294:
  5996 06:13E6: 38           	sec
  5997 06:13E7: A9 DF 01     	lda	#$1df
  5998 06:13EA: E5 10        	sbc	<L288+y_0
  5999 06:13EC: A9 00 00     	lda	#$0
  6000 06:13EF: E5 12        	sbc	<L288+y_0+2
  6001 06:13F1: 70 03        	bvs	L295
  6002 06:13F3: 49 00 80     	eor	#$8000
  6003                        L295:
  6004 06:13F6: 30 03        	bmi	L296
  6005 06:13F8: 82 36 00     	brl	L10041
  6006                        L296:
  6007                        	.line	840
  6008 06:13FB: F4 00 00     	pea	#^$280
  6009 06:13FE: F4 80 02     	pea	#<$280
  6010 06:1401: D4 12        	pei	<L288+y_0+2
  6011 06:1403: D4 10        	pei	<L288+y_0
  6012                        	xref	~~~lmul
  6013 06:1405: 22 xx xx xx  	jsl	~~~lmul
  6014 06:1409: 85 01        	sta	<R0
  6015 06:140B: 86 03        	stx	<R0+2
  6016 06:140D: 18           	clc
  6017 06:140E: A5 01        	lda	<R0
  6018 06:1410: 65 0C        	adc	<L288+x_0
  6019 06:1412: 85 05        	sta	<R1
  6020 06:1414: A5 03        	lda	<R0+2
  6021 06:1416: 65 0E        	adc	<L288+x_0+2
  6022 06:1418: 85 07        	sta	<R1+2
  6023 06:141A: 18           	clc
  6024 06:141B: A9 00 00     	lda	#$0
  6025 06:141E: 65 05        	adc	<R1
  6026 06:1420: 85 01        	sta	<R0
  6027 06:1422: A9 B0 00     	lda	#$b0
  6028 06:1425: 65 07        	adc	<R1+2
  6029 06:1427: 85 03        	sta	<R0+2
  6030 06:1429: E2 20        	sep	#$20
  6031                        	longa	off
  6032 06:142B: A5 14        	lda	<L288+pcolor_0
  6033 06:142D: 87 01        	sta	[<R0]
  6034 06:142F: C2 20        	rep	#$20
  6035                        	longa	on
  6036                        ;}
  6037                        L10041:
  6038                        	.line	841
  6039                        L297:
  Sat Jul 10 2021  1:15                                                Page 117


  6040 06:1431: A5 0A        	lda	<L288+2
  6041 06:1433: 85 14        	sta	<L288+2+10
  6042 06:1435: A5 09        	lda	<L288+1
  6043 06:1437: 85 13        	sta	<L288+1+10
  6044 06:1439: 2B           	pld
  6045 06:143A: 3B           	tsc
  6046 06:143B: 18           	clc
  6047 06:143C: 69 12 00     	adc	#L288+10
  6048 06:143F: 1B           	tcs
  6049 06:1440: 6B           	rtl
  6050                        	.endblock	841
  6051             00000008   L288	equ	8
  6052             00000009   L289	equ	9
  6053 06:1441:              	ends
  6054                        	efunc
  6055                        	.endfunc	841,9,8
  6056                        	.line	841
  6057                        ;
  6058                        ;void k_draw_pixel_back(long x,long y,char pcolor)
  6059                        ;{
  6060                        	.line	843
  6061                        	.line	844
  6062                        	GFX
  6063                        	xdef	~~k_draw_pixel_back
  6064                        	func
  6065                        	.function	844
  6066                        ~~k_draw_pixel_back:
  6067                        	longa	on
  6068                        	longi	on
  6069 06:1441: 3B           	tsc
  6070 06:1442: 38           	sec
  6071 06:1443: E9 08 00     	sbc	#L298
  6072 06:1446: 1B           	tcs
  6073 06:1447: 0B           	phd
  6074 06:1448: 5B           	tcd
  6075             00000004   x_0	set	4
  6076             00000008   y_0	set	8
  6077             0000000C   pcolor_0	set	12
  6078                        	.block	844
  6079                        ;	if(x >= GUI_POINT_LIMIT_X_LO && x <= GUI_POINT_L
                    IMIT_X_HI && y >= GUI_POINT_LIMIT_Y_LO && y <= GUI_POINT_LIM
                    IT_Y_HI)
  6080                        	.sym	x,4,7,6,32
  6081                        	.sym	y,8,7,6,32
  6082                        	.sym	pcolor,12,14,6,8
  6083                        	.line	845
  6084                        ;		BITMAP_BANK_0_PAGE0[(long)(((long)y * 64
                    0L) + (long)x)] = (char)pcolor;
  6085 06:1449: A5 0E        	lda	<L298+x_0+2
  6086 06:144B: 10 03        	bpl	L301
  6087 06:144D: 82 67 00     	brl	L10042
  6088                        L301:
  6089 06:1450: 38           	sec
  6090 06:1451: A9 7F 02     	lda	#$27f
  6091 06:1454: E5 0C        	sbc	<L298+x_0
  6092 06:1456: A9 00 00     	lda	#$0
  6093 06:1459: E5 0E        	sbc	<L298+x_0+2
  6094 06:145B: 70 03        	bvs	L302
  Sat Jul 10 2021  1:15                                                Page 118


  6095 06:145D: 49 00 80     	eor	#$8000
  6096                        L302:
  6097 06:1460: 30 03        	bmi	L303
  6098 06:1462: 82 52 00     	brl	L10042
  6099                        L303:
  6100 06:1465: A5 12        	lda	<L298+y_0+2
  6101 06:1467: 10 03        	bpl	L304
  6102 06:1469: 82 4B 00     	brl	L10042
  6103                        L304:
  6104 06:146C: 38           	sec
  6105 06:146D: A9 DF 01     	lda	#$1df
  6106 06:1470: E5 10        	sbc	<L298+y_0
  6107 06:1472: A9 00 00     	lda	#$0
  6108 06:1475: E5 12        	sbc	<L298+y_0+2
  6109 06:1477: 70 03        	bvs	L305
  6110 06:1479: 49 00 80     	eor	#$8000
  6111                        L305:
  6112 06:147C: 30 03        	bmi	L306
  6113 06:147E: 82 36 00     	brl	L10042
  6114                        L306:
  6115                        	.line	846
  6116 06:1481: F4 00 00     	pea	#^$280
  6117 06:1484: F4 80 02     	pea	#<$280
  6118 06:1487: D4 12        	pei	<L298+y_0+2
  6119 06:1489: D4 10        	pei	<L298+y_0
  6120                        	xref	~~~lmul
  6121 06:148B: 22 xx xx xx  	jsl	~~~lmul
  6122 06:148F: 85 01        	sta	<R0
  6123 06:1491: 86 03        	stx	<R0+2
  6124 06:1493: 18           	clc
  6125 06:1494: A5 01        	lda	<R0
  6126 06:1496: 65 0C        	adc	<L298+x_0
  6127 06:1498: 85 05        	sta	<R1
  6128 06:149A: A5 03        	lda	<R0+2
  6129 06:149C: 65 0E        	adc	<L298+x_0+2
  6130 06:149E: 85 07        	sta	<R1+2
  6131 06:14A0: 18           	clc
  6132 06:14A1: A9 00 00     	lda	#$0
  6133 06:14A4: 65 05        	adc	<R1
  6134 06:14A6: 85 01        	sta	<R0
  6135 06:14A8: A9 B8 00     	lda	#$b8
  6136 06:14AB: 65 07        	adc	<R1+2
  6137 06:14AD: 85 03        	sta	<R0+2
  6138 06:14AF: E2 20        	sep	#$20
  6139                        	longa	off
  6140 06:14B1: A5 14        	lda	<L298+pcolor_0
  6141 06:14B3: 87 01        	sta	[<R0]
  6142 06:14B5: C2 20        	rep	#$20
  6143                        	longa	on
  6144                        ;}
  6145                        L10042:
  6146                        	.line	847
  6147                        L307:
  6148 06:14B7: A5 0A        	lda	<L298+2
  6149 06:14B9: 85 14        	sta	<L298+2+10
  6150 06:14BB: A5 09        	lda	<L298+1
  6151 06:14BD: 85 13        	sta	<L298+1+10
  6152 06:14BF: 2B           	pld
  Sat Jul 10 2021  1:15                                                Page 119


  6153 06:14C0: 3B           	tsc
  6154 06:14C1: 18           	clc
  6155 06:14C2: 69 12 00     	adc	#L298+10
  6156 06:14C5: 1B           	tcs
  6157 06:14C6: 6B           	rtl
  6158                        	.endblock	847
  6159             00000008   L298	equ	8
  6160             00000009   L299	equ	9
  6161 06:14C7:              	ends
  6162                        	efunc
  6163                        	.endfunc	847,9,8
  6164                        	.line	847
  6165                        ;
  6166                        ;
  6167                        ;void k_draw_pixel_D0(long x,long y,char pcolor)
  6168                        ;{
  6169                        	.line	850
  6170                        	.line	851
  6171                        	GFX
  6172                        	xdef	~~k_draw_pixel_D0
  6173                        	func
  6174                        	.function	851
  6175                        ~~k_draw_pixel_D0:
  6176                        	longa	on
  6177                        	longi	on
  6178 06:14C7: 3B           	tsc
  6179 06:14C8: 38           	sec
  6180 06:14C9: E9 08 00     	sbc	#L308
  6181 06:14CC: 1B           	tcs
  6182 06:14CD: 0B           	phd
  6183 06:14CE: 5B           	tcd
  6184             00000004   x_0	set	4
  6185             00000008   y_0	set	8
  6186             0000000C   pcolor_0	set	12
  6187                        	.block	851
  6188                        ;	BITMAP_BANK_0_PAGE2[(long)(((long)y * 640L) + (l
                    ong)x)] = (char)pcolor;
  6189                        	.sym	x,4,7,6,32
  6190                        	.sym	y,8,7,6,32
  6191                        	.sym	pcolor,12,14,6,8
  6192                        	.line	852
  6193 06:14CF: F4 00 00     	pea	#^$280
  6194 06:14D2: F4 80 02     	pea	#<$280
  6195 06:14D5: D4 12        	pei	<L308+y_0+2
  6196 06:14D7: D4 10        	pei	<L308+y_0
  6197                        	xref	~~~lmul
  6198 06:14D9: 22 xx xx xx  	jsl	~~~lmul
  6199 06:14DD: 85 01        	sta	<R0
  6200 06:14DF: 86 03        	stx	<R0+2
  6201 06:14E1: 18           	clc
  6202 06:14E2: A5 01        	lda	<R0
  6203 06:14E4: 65 0C        	adc	<L308+x_0
  6204 06:14E6: 85 05        	sta	<R1
  6205 06:14E8: A5 03        	lda	<R0+2
  6206 06:14EA: 65 0E        	adc	<L308+x_0+2
  6207 06:14EC: 85 07        	sta	<R1+2
  6208 06:14EE: 18           	clc
  6209 06:14EF: A9 00 00     	lda	#$0
  Sat Jul 10 2021  1:15                                                Page 120


  6210 06:14F2: 65 05        	adc	<R1
  6211 06:14F4: 85 01        	sta	<R0
  6212 06:14F6: A9 D0 00     	lda	#$d0
  6213 06:14F9: 65 07        	adc	<R1+2
  6214 06:14FB: 85 03        	sta	<R0+2
  6215 06:14FD: E2 20        	sep	#$20
  6216                        	longa	off
  6217 06:14FF: A5 14        	lda	<L308+pcolor_0
  6218 06:1501: 87 01        	sta	[<R0]
  6219 06:1503: C2 20        	rep	#$20
  6220                        	longa	on
  6221                        ;}
  6222                        	.line	853
  6223                        L311:
  6224 06:1505: A5 0A        	lda	<L308+2
  6225 06:1507: 85 14        	sta	<L308+2+10
  6226 06:1509: A5 09        	lda	<L308+1
  6227 06:150B: 85 13        	sta	<L308+1+10
  6228 06:150D: 2B           	pld
  6229 06:150E: 3B           	tsc
  6230 06:150F: 18           	clc
  6231 06:1510: 69 12 00     	adc	#L308+10
  6232 06:1513: 1B           	tcs
  6233 06:1514: 6B           	rtl
  6234                        	.endblock	853
  6235             00000008   L308	equ	8
  6236             00000009   L309	equ	9
  6237 06:1515:              	ends
  6238                        	efunc
  6239                        	.endfunc	853,9,8
  6240                        	.line	853
  6241                        ;
  6242                        ;
  6243                        ;void k_draw_pixel_ex(long x,long y,char pcolor,UI
                    NT toPage)
  6244                        ;{
  6245                        	.line	856
  6246                        	.line	857
  6247                        	GFX
  6248                        	xdef	~~k_draw_pixel_ex
  6249                        	func
  6250                        	.function	857
  6251                        ~~k_draw_pixel_ex:
  6252                        	longa	on
  6253                        	longi	on
  6254 06:1515: 3B           	tsc
  6255 06:1516: 38           	sec
  6256 06:1517: E9 08 00     	sbc	#L312
  6257 06:151A: 1B           	tcs
  6258 06:151B: 0B           	phd
  6259 06:151C: 5B           	tcd
  6260             00000004   x_0	set	4
  6261             00000008   y_0	set	8
  6262             0000000C   pcolor_0	set	12
  6263             0000000E   toPage_0	set	14
  6264                        	.block	857
  6265                        ;	//LPSTR pDest = NULL;
  6266                        ;	//ULONG addr;
  Sat Jul 10 2021  1:15                                                Page 121


  6267                        ;	//long pixelLocation = (long)(((long)y * 640L) +
                     (long)x);
  6268                        ;
  6269                        ;	//((LPSTR)((LONG)BITMAP_BANK_0 &((LONG)toPage <<
                     16) & 0xFF0000))[pixelLocation] = (char)pcolor;
  6270                        ;	//((unsigned char FAR *)((LONG)BITMAP_BANK_0) & 
                    ((LONG)toPage << 16) & 0xFF0000)))[pixelLocation] = (char)pc
                    olor;
  6271                        ;	/*
  6272                        ;	addr = ((ULONG)BITMAP_BANK_0);
  6273                        ;	addr = addr & (((ULONG)toPage << 16) & 0xFF0000)
                    ;
  6274                        ;
  6275                        ;	pDest = (LPSTR)addr;
  6276                        ;
  6277                        ;	pDest[pixelLocation] = (char)pcolor;
  6278                        ;
  6279                        ;	*/
  6280                        ;	if(x >= GUI_POINT_LIMIT_X_LO && x <= GUI_POINT_L
                    IMIT_X_HI && y >= GUI_POINT_LIMIT_Y_LO && y <= GUI_POINT_LIM
                    IT_Y_HI)
  6281                        	.sym	x,4,7,6,32
  6282                        	.sym	y,8,7,6,32
  6283                        	.sym	pcolor,12,14,6,8
  6284                        	.sym	toPage,14,16,6,16
  6285                        	.line	873
  6286                        ;		((unsigned char FAR *)BITMAP_BANK_0)[(lo
                    ng)(((long)y * 640L) + (long)x)] = (char)pcolor;
  6287 06:151D: A5 0E        	lda	<L312+x_0+2
  6288 06:151F: 10 03        	bpl	L315
  6289 06:1521: 82 67 00     	brl	L10043
  6290                        L315:
  6291 06:1524: 38           	sec
  6292 06:1525: A9 7F 02     	lda	#$27f
  6293 06:1528: E5 0C        	sbc	<L312+x_0
  6294 06:152A: A9 00 00     	lda	#$0
  6295 06:152D: E5 0E        	sbc	<L312+x_0+2
  6296 06:152F: 70 03        	bvs	L316
  6297 06:1531: 49 00 80     	eor	#$8000
  6298                        L316:
  6299 06:1534: 30 03        	bmi	L317
  6300 06:1536: 82 52 00     	brl	L10043
  6301                        L317:
  6302 06:1539: A5 12        	lda	<L312+y_0+2
  6303 06:153B: 10 03        	bpl	L318
  6304 06:153D: 82 4B 00     	brl	L10043
  6305                        L318:
  6306 06:1540: 38           	sec
  6307 06:1541: A9 DF 01     	lda	#$1df
  6308 06:1544: E5 10        	sbc	<L312+y_0
  6309 06:1546: A9 00 00     	lda	#$0
  6310 06:1549: E5 12        	sbc	<L312+y_0+2
  6311 06:154B: 70 03        	bvs	L319
  6312 06:154D: 49 00 80     	eor	#$8000
  6313                        L319:
  6314 06:1550: 30 03        	bmi	L320
  6315 06:1552: 82 36 00     	brl	L10043
  6316                        L320:
  Sat Jul 10 2021  1:15                                                Page 122


  6317                        	.line	874
  6318 06:1555: F4 00 00     	pea	#^$280
  6319 06:1558: F4 80 02     	pea	#<$280
  6320 06:155B: D4 12        	pei	<L312+y_0+2
  6321 06:155D: D4 10        	pei	<L312+y_0
  6322                        	xref	~~~lmul
  6323 06:155F: 22 xx xx xx  	jsl	~~~lmul
  6324 06:1563: 85 01        	sta	<R0
  6325 06:1565: 86 03        	stx	<R0+2
  6326 06:1567: 18           	clc
  6327 06:1568: A5 01        	lda	<R0
  6328 06:156A: 65 0C        	adc	<L312+x_0
  6329 06:156C: 85 05        	sta	<R1
  6330 06:156E: A5 03        	lda	<R0+2
  6331 06:1570: 65 0E        	adc	<L312+x_0+2
  6332 06:1572: 85 07        	sta	<R1+2
  6333 06:1574: 18           	clc
  6334 06:1575: A9 00 00     	lda	#$0
  6335 06:1578: 65 05        	adc	<R1
  6336 06:157A: 85 01        	sta	<R0
  6337 06:157C: A9 B0 00     	lda	#$b0
  6338 06:157F: 65 07        	adc	<R1+2
  6339 06:1581: 85 03        	sta	<R0+2
  6340 06:1583: E2 20        	sep	#$20
  6341                        	longa	off
  6342 06:1585: A5 14        	lda	<L312+pcolor_0
  6343 06:1587: 87 01        	sta	[<R0]
  6344 06:1589: C2 20        	rep	#$20
  6345                        	longa	on
  6346                        ;}
  6347                        L10043:
  6348                        	.line	875
  6349                        L321:
  6350 06:158B: A5 0A        	lda	<L312+2
  6351 06:158D: 85 16        	sta	<L312+2+12
  6352 06:158F: A5 09        	lda	<L312+1
  6353 06:1591: 85 15        	sta	<L312+1+12
  6354 06:1593: 2B           	pld
  6355 06:1594: 3B           	tsc
  6356 06:1595: 18           	clc
  6357 06:1596: 69 14 00     	adc	#L312+12
  6358 06:1599: 1B           	tcs
  6359 06:159A: 6B           	rtl
  6360                        	.endblock	875
  6361             00000008   L312	equ	8
  6362             00000009   L313	equ	9
  6363 06:159B:              	ends
  6364                        	efunc
  6365                        	.endfunc	875,9,8
  6366                        	.line	875
  6367                        ;
  6368                        ;
  6369                        ;void k_draw_segments(int xc, int yc, int x, int y
                    ,int color) 
  6370                        ;{ 
  6371                        	.line	878
  6372                        	.line	879
  6373                        	GFX
  Sat Jul 10 2021  1:15                                                Page 123


  6374                        	xdef	~~k_draw_segments
  6375                        	func
  6376                        	.function	879
  6377                        ~~k_draw_segments:
  6378                        	longa	on
  6379                        	longi	on
  6380 06:159B: 3B           	tsc
  6381 06:159C: 38           	sec
  6382 06:159D: E9 08 00     	sbc	#L322
  6383 06:15A0: 1B           	tcs
  6384 06:15A1: 0B           	phd
  6385 06:15A2: 5B           	tcd
  6386             00000004   xc_0	set	4
  6387             00000006   yc_0	set	6
  6388             00000008   x_0	set	8
  6389             0000000A   y_0	set	10
  6390             0000000C   color_0	set	12
  6391                        	.block	879
  6392                        ;    k_draw_pixel(xc+x, yc+y, color); 
  6393                        	.sym	xc,4,5,6,16
  6394                        	.sym	yc,6,5,6,16
  6395                        	.sym	x,8,5,6,16
  6396                        	.sym	y,10,5,6,16
  6397                        	.sym	color,12,5,6,16
  6398                        	.line	880
  6399 06:15A3: D4 14        	pei	<L322+color_0
  6400 06:15A5: 18           	clc
  6401 06:15A6: A5 0E        	lda	<L322+yc_0
  6402 06:15A8: 65 12        	adc	<L322+y_0
  6403 06:15AA: 85 01        	sta	<R0
  6404 06:15AC: A0 00 00     	ldy	#$0
  6405 06:15AF: A5 01        	lda	<R0
  6406 06:15B1: 10 01        	bpl	L325
  6407 06:15B3: 88           	dey
  6408                        L325:
  6409 06:15B4: 85 01        	sta	<R0
  6410 06:15B6: 84 03        	sty	<R0+2
  6411 06:15B8: D4 03        	pei	<R0+2
  6412 06:15BA: D4 01        	pei	<R0
  6413 06:15BC: 18           	clc
  6414 06:15BD: A5 0C        	lda	<L322+xc_0
  6415 06:15BF: 65 10        	adc	<L322+x_0
  6416 06:15C1: 85 05        	sta	<R1
  6417 06:15C3: A0 00 00     	ldy	#$0
  6418 06:15C6: A5 05        	lda	<R1
  6419 06:15C8: 10 01        	bpl	L326
  6420 06:15CA: 88           	dey
  6421                        L326:
  6422 06:15CB: 85 05        	sta	<R1
  6423 06:15CD: 84 07        	sty	<R1+2
  6424 06:15CF: D4 07        	pei	<R1+2
  6425 06:15D1: D4 05        	pei	<R1
  6426 06:15D3: 22 35 13 06  	jsl	~~k_draw_pixel
  6427                        ;    k_draw_pixel(xc-x, yc+y, color); 
  6428                        	.line	881
  6429 06:15D7: D4 14        	pei	<L322+color_0
  6430 06:15D9: 18           	clc
  6431 06:15DA: A5 0E        	lda	<L322+yc_0
  Sat Jul 10 2021  1:15                                                Page 124


  6432 06:15DC: 65 12        	adc	<L322+y_0
  6433 06:15DE: 85 01        	sta	<R0
  6434 06:15E0: A0 00 00     	ldy	#$0
  6435 06:15E3: A5 01        	lda	<R0
  6436 06:15E5: 10 01        	bpl	L327
  6437 06:15E7: 88           	dey
  6438                        L327:
  6439 06:15E8: 85 01        	sta	<R0
  6440 06:15EA: 84 03        	sty	<R0+2
  6441 06:15EC: D4 03        	pei	<R0+2
  6442 06:15EE: D4 01        	pei	<R0
  6443 06:15F0: 38           	sec
  6444 06:15F1: A5 0C        	lda	<L322+xc_0
  6445 06:15F3: E5 10        	sbc	<L322+x_0
  6446 06:15F5: 85 05        	sta	<R1
  6447 06:15F7: A0 00 00     	ldy	#$0
  6448 06:15FA: A5 05        	lda	<R1
  6449 06:15FC: 10 01        	bpl	L328
  6450 06:15FE: 88           	dey
  6451                        L328:
  6452 06:15FF: 85 05        	sta	<R1
  6453 06:1601: 84 07        	sty	<R1+2
  6454 06:1603: D4 07        	pei	<R1+2
  6455 06:1605: D4 05        	pei	<R1
  6456 06:1607: 22 35 13 06  	jsl	~~k_draw_pixel
  6457                        ;    k_draw_pixel(xc+x, yc-y, color); 
  6458                        	.line	882
  6459 06:160B: D4 14        	pei	<L322+color_0
  6460 06:160D: 38           	sec
  6461 06:160E: A5 0E        	lda	<L322+yc_0
  6462 06:1610: E5 12        	sbc	<L322+y_0
  6463 06:1612: 85 01        	sta	<R0
  6464 06:1614: A0 00 00     	ldy	#$0
  6465 06:1617: A5 01        	lda	<R0
  6466 06:1619: 10 01        	bpl	L329
  6467 06:161B: 88           	dey
  6468                        L329:
  6469 06:161C: 85 01        	sta	<R0
  6470 06:161E: 84 03        	sty	<R0+2
  6471 06:1620: D4 03        	pei	<R0+2
  6472 06:1622: D4 01        	pei	<R0
  6473 06:1624: 18           	clc
  6474 06:1625: A5 0C        	lda	<L322+xc_0
  6475 06:1627: 65 10        	adc	<L322+x_0
  6476 06:1629: 85 05        	sta	<R1
  6477 06:162B: A0 00 00     	ldy	#$0
  6478 06:162E: A5 05        	lda	<R1
  6479 06:1630: 10 01        	bpl	L330
  6480 06:1632: 88           	dey
  6481                        L330:
  6482 06:1633: 85 05        	sta	<R1
  6483 06:1635: 84 07        	sty	<R1+2
  6484 06:1637: D4 07        	pei	<R1+2
  6485 06:1639: D4 05        	pei	<R1
  6486 06:163B: 22 35 13 06  	jsl	~~k_draw_pixel
  6487                        ;    k_draw_pixel(xc-x, yc-y, color); 
  6488                        	.line	883
  6489 06:163F: D4 14        	pei	<L322+color_0
  Sat Jul 10 2021  1:15                                                Page 125


  6490 06:1641: 38           	sec
  6491 06:1642: A5 0E        	lda	<L322+yc_0
  6492 06:1644: E5 12        	sbc	<L322+y_0
  6493 06:1646: 85 01        	sta	<R0
  6494 06:1648: A0 00 00     	ldy	#$0
  6495 06:164B: A5 01        	lda	<R0
  6496 06:164D: 10 01        	bpl	L331
  6497 06:164F: 88           	dey
  6498                        L331:
  6499 06:1650: 85 01        	sta	<R0
  6500 06:1652: 84 03        	sty	<R0+2
  6501 06:1654: D4 03        	pei	<R0+2
  6502 06:1656: D4 01        	pei	<R0
  6503 06:1658: 38           	sec
  6504 06:1659: A5 0C        	lda	<L322+xc_0
  6505 06:165B: E5 10        	sbc	<L322+x_0
  6506 06:165D: 85 05        	sta	<R1
  6507 06:165F: A0 00 00     	ldy	#$0
  6508 06:1662: A5 05        	lda	<R1
  6509 06:1664: 10 01        	bpl	L332
  6510 06:1666: 88           	dey
  6511                        L332:
  6512 06:1667: 85 05        	sta	<R1
  6513 06:1669: 84 07        	sty	<R1+2
  6514 06:166B: D4 07        	pei	<R1+2
  6515 06:166D: D4 05        	pei	<R1
  6516 06:166F: 22 35 13 06  	jsl	~~k_draw_pixel
  6517                        ;    k_draw_pixel(xc+y, yc+x, color); 
  6518                        	.line	884
  6519 06:1673: D4 14        	pei	<L322+color_0
  6520 06:1675: 18           	clc
  6521 06:1676: A5 0E        	lda	<L322+yc_0
  6522 06:1678: 65 10        	adc	<L322+x_0
  6523 06:167A: 85 01        	sta	<R0
  6524 06:167C: A0 00 00     	ldy	#$0
  6525 06:167F: A5 01        	lda	<R0
  6526 06:1681: 10 01        	bpl	L333
  6527 06:1683: 88           	dey
  6528                        L333:
  6529 06:1684: 85 01        	sta	<R0
  6530 06:1686: 84 03        	sty	<R0+2
  6531 06:1688: D4 03        	pei	<R0+2
  6532 06:168A: D4 01        	pei	<R0
  6533 06:168C: 18           	clc
  6534 06:168D: A5 0C        	lda	<L322+xc_0
  6535 06:168F: 65 12        	adc	<L322+y_0
  6536 06:1691: 85 05        	sta	<R1
  6537 06:1693: A0 00 00     	ldy	#$0
  6538 06:1696: A5 05        	lda	<R1
  6539 06:1698: 10 01        	bpl	L334
  6540 06:169A: 88           	dey
  6541                        L334:
  6542 06:169B: 85 05        	sta	<R1
  6543 06:169D: 84 07        	sty	<R1+2
  6544 06:169F: D4 07        	pei	<R1+2
  6545 06:16A1: D4 05        	pei	<R1
  6546 06:16A3: 22 35 13 06  	jsl	~~k_draw_pixel
  6547                        ;    k_draw_pixel(xc-y, yc+x, color); 
  Sat Jul 10 2021  1:15                                                Page 126


  6548                        	.line	885
  6549 06:16A7: D4 14        	pei	<L322+color_0
  6550 06:16A9: 18           	clc
  6551 06:16AA: A5 0E        	lda	<L322+yc_0
  6552 06:16AC: 65 10        	adc	<L322+x_0
  6553 06:16AE: 85 01        	sta	<R0
  6554 06:16B0: A0 00 00     	ldy	#$0
  6555 06:16B3: A5 01        	lda	<R0
  6556 06:16B5: 10 01        	bpl	L335
  6557 06:16B7: 88           	dey
  6558                        L335:
  6559 06:16B8: 85 01        	sta	<R0
  6560 06:16BA: 84 03        	sty	<R0+2
  6561 06:16BC: D4 03        	pei	<R0+2
  6562 06:16BE: D4 01        	pei	<R0
  6563 06:16C0: 38           	sec
  6564 06:16C1: A5 0C        	lda	<L322+xc_0
  6565 06:16C3: E5 12        	sbc	<L322+y_0
  6566 06:16C5: 85 05        	sta	<R1
  6567 06:16C7: A0 00 00     	ldy	#$0
  6568 06:16CA: A5 05        	lda	<R1
  6569 06:16CC: 10 01        	bpl	L336
  6570 06:16CE: 88           	dey
  6571                        L336:
  6572 06:16CF: 85 05        	sta	<R1
  6573 06:16D1: 84 07        	sty	<R1+2
  6574 06:16D3: D4 07        	pei	<R1+2
  6575 06:16D5: D4 05        	pei	<R1
  6576 06:16D7: 22 35 13 06  	jsl	~~k_draw_pixel
  6577                        ;    k_draw_pixel(xc+y, yc-x, color); 
  6578                        	.line	886
  6579 06:16DB: D4 14        	pei	<L322+color_0
  6580 06:16DD: 38           	sec
  6581 06:16DE: A5 0E        	lda	<L322+yc_0
  6582 06:16E0: E5 10        	sbc	<L322+x_0
  6583 06:16E2: 85 01        	sta	<R0
  6584 06:16E4: A0 00 00     	ldy	#$0
  6585 06:16E7: A5 01        	lda	<R0
  6586 06:16E9: 10 01        	bpl	L337
  6587 06:16EB: 88           	dey
  6588                        L337:
  6589 06:16EC: 85 01        	sta	<R0
  6590 06:16EE: 84 03        	sty	<R0+2
  6591 06:16F0: D4 03        	pei	<R0+2
  6592 06:16F2: D4 01        	pei	<R0
  6593 06:16F4: 18           	clc
  6594 06:16F5: A5 0C        	lda	<L322+xc_0
  6595 06:16F7: 65 12        	adc	<L322+y_0
  6596 06:16F9: 85 05        	sta	<R1
  6597 06:16FB: A0 00 00     	ldy	#$0
  6598 06:16FE: A5 05        	lda	<R1
  6599 06:1700: 10 01        	bpl	L338
  6600 06:1702: 88           	dey
  6601                        L338:
  6602 06:1703: 85 05        	sta	<R1
  6603 06:1705: 84 07        	sty	<R1+2
  6604 06:1707: D4 07        	pei	<R1+2
  6605 06:1709: D4 05        	pei	<R1
  Sat Jul 10 2021  1:15                                                Page 127


  6606 06:170B: 22 35 13 06  	jsl	~~k_draw_pixel
  6607                        ;    k_draw_pixel(xc-y, yc-x, color); 
  6608                        	.line	887
  6609 06:170F: D4 14        	pei	<L322+color_0
  6610 06:1711: 38           	sec
  6611 06:1712: A5 0E        	lda	<L322+yc_0
  6612 06:1714: E5 10        	sbc	<L322+x_0
  6613 06:1716: 85 01        	sta	<R0
  6614 06:1718: A0 00 00     	ldy	#$0
  6615 06:171B: A5 01        	lda	<R0
  6616 06:171D: 10 01        	bpl	L339
  6617 06:171F: 88           	dey
  6618                        L339:
  6619 06:1720: 85 01        	sta	<R0
  6620 06:1722: 84 03        	sty	<R0+2
  6621 06:1724: D4 03        	pei	<R0+2
  6622 06:1726: D4 01        	pei	<R0
  6623 06:1728: 38           	sec
  6624 06:1729: A5 0C        	lda	<L322+xc_0
  6625 06:172B: E5 12        	sbc	<L322+y_0
  6626 06:172D: 85 05        	sta	<R1
  6627 06:172F: A0 00 00     	ldy	#$0
  6628 06:1732: A5 05        	lda	<R1
  6629 06:1734: 10 01        	bpl	L340
  6630 06:1736: 88           	dey
  6631                        L340:
  6632 06:1737: 85 05        	sta	<R1
  6633 06:1739: 84 07        	sty	<R1+2
  6634 06:173B: D4 07        	pei	<R1+2
  6635 06:173D: D4 05        	pei	<R1
  6636 06:173F: 22 35 13 06  	jsl	~~k_draw_pixel
  6637                        ;} 
  6638                        	.line	888
  6639                        L341:
  6640 06:1743: A5 0A        	lda	<L322+2
  6641 06:1745: 85 14        	sta	<L322+2+10
  6642 06:1747: A5 09        	lda	<L322+1
  6643 06:1749: 85 13        	sta	<L322+1+10
  6644 06:174B: 2B           	pld
  6645 06:174C: 3B           	tsc
  6646 06:174D: 18           	clc
  6647 06:174E: 69 12 00     	adc	#L322+10
  6648 06:1751: 1B           	tcs
  6649 06:1752: 6B           	rtl
  6650                        	.endblock	888
  6651             00000008   L322	equ	8
  6652             00000009   L323	equ	9
  6653 06:1753:              	ends
  6654                        	efunc
  6655                        	.endfunc	888,9,8
  6656                        	.line	888
  6657                        ;
  6658                        ;void k_draw_filled_segments(int xc, int yc, int x
                    , int y,int color) 
  6659                        ;{ 
  6660                        	.line	890
  6661                        	.line	891
  6662                        	GFX
  Sat Jul 10 2021  1:15                                                Page 128


  6663                        	xdef	~~k_draw_filled_segments
  6664                        	func
  6665                        	.function	891
  6666                        ~~k_draw_filled_segments:
  6667                        	longa	on
  6668                        	longi	on
  6669 06:1753: 3B           	tsc
  6670 06:1754: 38           	sec
  6671 06:1755: E9 08 00     	sbc	#L342
  6672 06:1758: 1B           	tcs
  6673 06:1759: 0B           	phd
  6674 06:175A: 5B           	tcd
  6675             00000004   xc_0	set	4
  6676             00000006   yc_0	set	6
  6677             00000008   x_0	set	8
  6678             0000000A   y_0	set	10
  6679             0000000C   color_0	set	12
  6680                        	.block	891
  6681                        ;    k_draw_pixel(xc+x, yc+y, color); 	    
  6682                        	.sym	xc,4,5,6,16
  6683                        	.sym	yc,6,5,6,16
  6684                        	.sym	x,8,5,6,16
  6685                        	.sym	y,10,5,6,16
  6686                        	.sym	color,12,5,6,16
  6687                        	.line	892
  6688 06:175B: D4 14        	pei	<L342+color_0
  6689 06:175D: 18           	clc
  6690 06:175E: A5 0E        	lda	<L342+yc_0
  6691 06:1760: 65 12        	adc	<L342+y_0
  6692 06:1762: 85 01        	sta	<R0
  6693 06:1764: A0 00 00     	ldy	#$0
  6694 06:1767: A5 01        	lda	<R0
  6695 06:1769: 10 01        	bpl	L345
  6696 06:176B: 88           	dey
  6697                        L345:
  6698 06:176C: 85 01        	sta	<R0
  6699 06:176E: 84 03        	sty	<R0+2
  6700 06:1770: D4 03        	pei	<R0+2
  6701 06:1772: D4 01        	pei	<R0
  6702 06:1774: 18           	clc
  6703 06:1775: A5 0C        	lda	<L342+xc_0
  6704 06:1777: 65 10        	adc	<L342+x_0
  6705 06:1779: 85 05        	sta	<R1
  6706 06:177B: A0 00 00     	ldy	#$0
  6707 06:177E: A5 05        	lda	<R1
  6708 06:1780: 10 01        	bpl	L346
  6709 06:1782: 88           	dey
  6710                        L346:
  6711 06:1783: 85 05        	sta	<R1
  6712 06:1785: 84 07        	sty	<R1+2
  6713 06:1787: D4 07        	pei	<R1+2
  6714 06:1789: D4 05        	pei	<R1
  6715 06:178B: 22 35 13 06  	jsl	~~k_draw_pixel
  6716                        ;	k_draw_pixel(xc-x, yc+y, color); 
  6717                        	.line	893
  6718 06:178F: D4 14        	pei	<L342+color_0
  6719 06:1791: 18           	clc
  6720 06:1792: A5 0E        	lda	<L342+yc_0
  Sat Jul 10 2021  1:15                                                Page 129


  6721 06:1794: 65 12        	adc	<L342+y_0
  6722 06:1796: 85 01        	sta	<R0
  6723 06:1798: A0 00 00     	ldy	#$0
  6724 06:179B: A5 01        	lda	<R0
  6725 06:179D: 10 01        	bpl	L347
  6726 06:179F: 88           	dey
  6727                        L347:
  6728 06:17A0: 85 01        	sta	<R0
  6729 06:17A2: 84 03        	sty	<R0+2
  6730 06:17A4: D4 03        	pei	<R0+2
  6731 06:17A6: D4 01        	pei	<R0
  6732 06:17A8: 38           	sec
  6733 06:17A9: A5 0C        	lda	<L342+xc_0
  6734 06:17AB: E5 10        	sbc	<L342+x_0
  6735 06:17AD: 85 05        	sta	<R1
  6736 06:17AF: A0 00 00     	ldy	#$0
  6737 06:17B2: A5 05        	lda	<R1
  6738 06:17B4: 10 01        	bpl	L348
  6739 06:17B6: 88           	dey
  6740                        L348:
  6741 06:17B7: 85 05        	sta	<R1
  6742 06:17B9: 84 07        	sty	<R1+2
  6743 06:17BB: D4 07        	pei	<R1+2
  6744 06:17BD: D4 05        	pei	<R1
  6745 06:17BF: 22 35 13 06  	jsl	~~k_draw_pixel
  6746                        ;    k_draw_line(xc+x, yc+y, xc-x, yc+y,color);
  6747                        	.line	894
  6748 06:17C3: D4 14        	pei	<L342+color_0
  6749 06:17C5: 18           	clc
  6750 06:17C6: A5 0E        	lda	<L342+yc_0
  6751 06:17C8: 65 12        	adc	<L342+y_0
  6752 06:17CA: 48           	pha
  6753 06:17CB: 38           	sec
  6754 06:17CC: A5 0C        	lda	<L342+xc_0
  6755 06:17CE: E5 10        	sbc	<L342+x_0
  6756 06:17D0: 48           	pha
  6757 06:17D1: 18           	clc
  6758 06:17D2: A5 0E        	lda	<L342+yc_0
  6759 06:17D4: 65 12        	adc	<L342+y_0
  6760 06:17D6: 48           	pha
  6761 06:17D7: 18           	clc
  6762 06:17D8: A5 0C        	lda	<L342+xc_0
  6763 06:17DA: 65 10        	adc	<L342+x_0
  6764 06:17DC: 48           	pha
  6765 06:17DD: 22 C5 1A 06  	jsl	~~k_draw_line
  6766                        ;	
  6767                        ;	
  6768                        ;	k_draw_pixel(xc+x, yc-y, color);     	
  6769                        	.line	897
  6770 06:17E1: D4 14        	pei	<L342+color_0
  6771 06:17E3: 38           	sec
  6772 06:17E4: A5 0E        	lda	<L342+yc_0
  6773 06:17E6: E5 12        	sbc	<L342+y_0
  6774 06:17E8: 85 01        	sta	<R0
  6775 06:17EA: A0 00 00     	ldy	#$0
  6776 06:17ED: A5 01        	lda	<R0
  6777 06:17EF: 10 01        	bpl	L349
  6778 06:17F1: 88           	dey
  Sat Jul 10 2021  1:15                                                Page 130


  6779                        L349:
  6780 06:17F2: 85 01        	sta	<R0
  6781 06:17F4: 84 03        	sty	<R0+2
  6782 06:17F6: D4 03        	pei	<R0+2
  6783 06:17F8: D4 01        	pei	<R0
  6784 06:17FA: 18           	clc
  6785 06:17FB: A5 0C        	lda	<L342+xc_0
  6786 06:17FD: 65 10        	adc	<L342+x_0
  6787 06:17FF: 85 05        	sta	<R1
  6788 06:1801: A0 00 00     	ldy	#$0
  6789 06:1804: A5 05        	lda	<R1
  6790 06:1806: 10 01        	bpl	L350
  6791 06:1808: 88           	dey
  6792                        L350:
  6793 06:1809: 85 05        	sta	<R1
  6794 06:180B: 84 07        	sty	<R1+2
  6795 06:180D: D4 07        	pei	<R1+2
  6796 06:180F: D4 05        	pei	<R1
  6797 06:1811: 22 35 13 06  	jsl	~~k_draw_pixel
  6798                        ;	k_draw_pixel(xc-x, yc-y, color); 
  6799                        	.line	898
  6800 06:1815: D4 14        	pei	<L342+color_0
  6801 06:1817: 38           	sec
  6802 06:1818: A5 0E        	lda	<L342+yc_0
  6803 06:181A: E5 12        	sbc	<L342+y_0
  6804 06:181C: 85 01        	sta	<R0
  6805 06:181E: A0 00 00     	ldy	#$0
  6806 06:1821: A5 01        	lda	<R0
  6807 06:1823: 10 01        	bpl	L351
  6808 06:1825: 88           	dey
  6809                        L351:
  6810 06:1826: 85 01        	sta	<R0
  6811 06:1828: 84 03        	sty	<R0+2
  6812 06:182A: D4 03        	pei	<R0+2
  6813 06:182C: D4 01        	pei	<R0
  6814 06:182E: 38           	sec
  6815 06:182F: A5 0C        	lda	<L342+xc_0
  6816 06:1831: E5 10        	sbc	<L342+x_0
  6817 06:1833: 85 05        	sta	<R1
  6818 06:1835: A0 00 00     	ldy	#$0
  6819 06:1838: A5 05        	lda	<R1
  6820 06:183A: 10 01        	bpl	L352
  6821 06:183C: 88           	dey
  6822                        L352:
  6823 06:183D: 85 05        	sta	<R1
  6824 06:183F: 84 07        	sty	<R1+2
  6825 06:1841: D4 07        	pei	<R1+2
  6826 06:1843: D4 05        	pei	<R1
  6827 06:1845: 22 35 13 06  	jsl	~~k_draw_pixel
  6828                        ;	k_draw_line(xc+x, yc-y, xc-x, yc-y,color);
  6829                        	.line	899
  6830 06:1849: D4 14        	pei	<L342+color_0
  6831 06:184B: 38           	sec
  6832 06:184C: A5 0E        	lda	<L342+yc_0
  6833 06:184E: E5 12        	sbc	<L342+y_0
  6834 06:1850: 48           	pha
  6835 06:1851: 38           	sec
  6836 06:1852: A5 0C        	lda	<L342+xc_0
  Sat Jul 10 2021  1:15                                                Page 131


  6837 06:1854: E5 10        	sbc	<L342+x_0
  6838 06:1856: 48           	pha
  6839 06:1857: 38           	sec
  6840 06:1858: A5 0E        	lda	<L342+yc_0
  6841 06:185A: E5 12        	sbc	<L342+y_0
  6842 06:185C: 48           	pha
  6843 06:185D: 18           	clc
  6844 06:185E: A5 0C        	lda	<L342+xc_0
  6845 06:1860: 65 10        	adc	<L342+x_0
  6846 06:1862: 48           	pha
  6847 06:1863: 22 C5 1A 06  	jsl	~~k_draw_line
  6848                        ;	
  6849                        ;    
  6850                        ;	k_draw_pixel(xc+y, yc+x, color);     
  6851                        	.line	902
  6852 06:1867: D4 14        	pei	<L342+color_0
  6853 06:1869: 18           	clc
  6854 06:186A: A5 0E        	lda	<L342+yc_0
  6855 06:186C: 65 10        	adc	<L342+x_0
  6856 06:186E: 85 01        	sta	<R0
  6857 06:1870: A0 00 00     	ldy	#$0
  6858 06:1873: A5 01        	lda	<R0
  6859 06:1875: 10 01        	bpl	L353
  6860 06:1877: 88           	dey
  6861                        L353:
  6862 06:1878: 85 01        	sta	<R0
  6863 06:187A: 84 03        	sty	<R0+2
  6864 06:187C: D4 03        	pei	<R0+2
  6865 06:187E: D4 01        	pei	<R0
  6866 06:1880: 18           	clc
  6867 06:1881: A5 0C        	lda	<L342+xc_0
  6868 06:1883: 65 12        	adc	<L342+y_0
  6869 06:1885: 85 05        	sta	<R1
  6870 06:1887: A0 00 00     	ldy	#$0
  6871 06:188A: A5 05        	lda	<R1
  6872 06:188C: 10 01        	bpl	L354
  6873 06:188E: 88           	dey
  6874                        L354:
  6875 06:188F: 85 05        	sta	<R1
  6876 06:1891: 84 07        	sty	<R1+2
  6877 06:1893: D4 07        	pei	<R1+2
  6878 06:1895: D4 05        	pei	<R1
  6879 06:1897: 22 35 13 06  	jsl	~~k_draw_pixel
  6880                        ;	k_draw_pixel(xc-y, yc+x, color); 
  6881                        	.line	903
  6882 06:189B: D4 14        	pei	<L342+color_0
  6883 06:189D: 18           	clc
  6884 06:189E: A5 0E        	lda	<L342+yc_0
  6885 06:18A0: 65 10        	adc	<L342+x_0
  6886 06:18A2: 85 01        	sta	<R0
  6887 06:18A4: A0 00 00     	ldy	#$0
  6888 06:18A7: A5 01        	lda	<R0
  6889 06:18A9: 10 01        	bpl	L355
  6890 06:18AB: 88           	dey
  6891                        L355:
  6892 06:18AC: 85 01        	sta	<R0
  6893 06:18AE: 84 03        	sty	<R0+2
  6894 06:18B0: D4 03        	pei	<R0+2
  Sat Jul 10 2021  1:15                                                Page 132


  6895 06:18B2: D4 01        	pei	<R0
  6896 06:18B4: 38           	sec
  6897 06:18B5: A5 0C        	lda	<L342+xc_0
  6898 06:18B7: E5 12        	sbc	<L342+y_0
  6899 06:18B9: 85 05        	sta	<R1
  6900 06:18BB: A0 00 00     	ldy	#$0
  6901 06:18BE: A5 05        	lda	<R1
  6902 06:18C0: 10 01        	bpl	L356
  6903 06:18C2: 88           	dey
  6904                        L356:
  6905 06:18C3: 85 05        	sta	<R1
  6906 06:18C5: 84 07        	sty	<R1+2
  6907 06:18C7: D4 07        	pei	<R1+2
  6908 06:18C9: D4 05        	pei	<R1
  6909 06:18CB: 22 35 13 06  	jsl	~~k_draw_pixel
  6910                        ;	k_draw_line(xc+y, yc+x, xc-y, yc+x,color);	
  6911                        	.line	904
  6912 06:18CF: D4 14        	pei	<L342+color_0
  6913 06:18D1: 18           	clc
  6914 06:18D2: A5 0E        	lda	<L342+yc_0
  6915 06:18D4: 65 10        	adc	<L342+x_0
  6916 06:18D6: 48           	pha
  6917 06:18D7: 38           	sec
  6918 06:18D8: A5 0C        	lda	<L342+xc_0
  6919 06:18DA: E5 12        	sbc	<L342+y_0
  6920 06:18DC: 48           	pha
  6921 06:18DD: 18           	clc
  6922 06:18DE: A5 0E        	lda	<L342+yc_0
  6923 06:18E0: 65 10        	adc	<L342+x_0
  6924 06:18E2: 48           	pha
  6925 06:18E3: 18           	clc
  6926 06:18E4: A5 0C        	lda	<L342+xc_0
  6927 06:18E6: 65 12        	adc	<L342+y_0
  6928 06:18E8: 48           	pha
  6929 06:18E9: 22 C5 1A 06  	jsl	~~k_draw_line
  6930                        ;	
  6931                        ;	k_draw_pixel(xc+y, yc-x, color);  
  6932                        	.line	906
  6933 06:18ED: D4 14        	pei	<L342+color_0
  6934 06:18EF: 38           	sec
  6935 06:18F0: A5 0E        	lda	<L342+yc_0
  6936 06:18F2: E5 10        	sbc	<L342+x_0
  6937 06:18F4: 85 01        	sta	<R0
  6938 06:18F6: A0 00 00     	ldy	#$0
  6939 06:18F9: A5 01        	lda	<R0
  6940 06:18FB: 10 01        	bpl	L357
  6941 06:18FD: 88           	dey
  6942                        L357:
  6943 06:18FE: 85 01        	sta	<R0
  6944 06:1900: 84 03        	sty	<R0+2
  6945 06:1902: D4 03        	pei	<R0+2
  6946 06:1904: D4 01        	pei	<R0
  6947 06:1906: 18           	clc
  6948 06:1907: A5 0C        	lda	<L342+xc_0
  6949 06:1909: 65 12        	adc	<L342+y_0
  6950 06:190B: 85 05        	sta	<R1
  6951 06:190D: A0 00 00     	ldy	#$0
  6952 06:1910: A5 05        	lda	<R1
  Sat Jul 10 2021  1:15                                                Page 133


  6953 06:1912: 10 01        	bpl	L358
  6954 06:1914: 88           	dey
  6955                        L358:
  6956 06:1915: 85 05        	sta	<R1
  6957 06:1917: 84 07        	sty	<R1+2
  6958 06:1919: D4 07        	pei	<R1+2
  6959 06:191B: D4 05        	pei	<R1
  6960 06:191D: 22 35 13 06  	jsl	~~k_draw_pixel
  6961                        ;	k_draw_pixel(xc-y, yc-x, color); 
  6962                        	.line	907
  6963 06:1921: D4 14        	pei	<L342+color_0
  6964 06:1923: 38           	sec
  6965 06:1924: A5 0E        	lda	<L342+yc_0
  6966 06:1926: E5 10        	sbc	<L342+x_0
  6967 06:1928: 85 01        	sta	<R0
  6968 06:192A: A0 00 00     	ldy	#$0
  6969 06:192D: A5 01        	lda	<R0
  6970 06:192F: 10 01        	bpl	L359
  6971 06:1931: 88           	dey
  6972                        L359:
  6973 06:1932: 85 01        	sta	<R0
  6974 06:1934: 84 03        	sty	<R0+2
  6975 06:1936: D4 03        	pei	<R0+2
  6976 06:1938: D4 01        	pei	<R0
  6977 06:193A: 38           	sec
  6978 06:193B: A5 0C        	lda	<L342+xc_0
  6979 06:193D: E5 12        	sbc	<L342+y_0
  6980 06:193F: 85 05        	sta	<R1
  6981 06:1941: A0 00 00     	ldy	#$0
  6982 06:1944: A5 05        	lda	<R1
  6983 06:1946: 10 01        	bpl	L360
  6984 06:1948: 88           	dey
  6985                        L360:
  6986 06:1949: 85 05        	sta	<R1
  6987 06:194B: 84 07        	sty	<R1+2
  6988 06:194D: D4 07        	pei	<R1+2
  6989 06:194F: D4 05        	pei	<R1
  6990 06:1951: 22 35 13 06  	jsl	~~k_draw_pixel
  6991                        ;	k_draw_line(xc+y, yc-x, xc-y, yc-x,color);
  6992                        	.line	908
  6993 06:1955: D4 14        	pei	<L342+color_0
  6994 06:1957: 38           	sec
  6995 06:1958: A5 0E        	lda	<L342+yc_0
  6996 06:195A: E5 10        	sbc	<L342+x_0
  6997 06:195C: 48           	pha
  6998 06:195D: 38           	sec
  6999 06:195E: A5 0C        	lda	<L342+xc_0
  7000 06:1960: E5 12        	sbc	<L342+y_0
  7001 06:1962: 48           	pha
  7002 06:1963: 38           	sec
  7003 06:1964: A5 0E        	lda	<L342+yc_0
  7004 06:1966: E5 10        	sbc	<L342+x_0
  7005 06:1968: 48           	pha
  7006 06:1969: 18           	clc
  7007 06:196A: A5 0C        	lda	<L342+xc_0
  7008 06:196C: 65 12        	adc	<L342+y_0
  7009 06:196E: 48           	pha
  7010 06:196F: 22 C5 1A 06  	jsl	~~k_draw_line
  Sat Jul 10 2021  1:15                                                Page 134


  7011                        ;}
  7012                        	.line	909
  7013                        L361:
  7014 06:1973: A5 0A        	lda	<L342+2
  7015 06:1975: 85 14        	sta	<L342+2+10
  7016 06:1977: A5 09        	lda	<L342+1
  7017 06:1979: 85 13        	sta	<L342+1+10
  7018 06:197B: 2B           	pld
  7019 06:197C: 3B           	tsc
  7020 06:197D: 18           	clc
  7021 06:197E: 69 12 00     	adc	#L342+10
  7022 06:1981: 1B           	tcs
  7023 06:1982: 6B           	rtl
  7024                        	.endblock	909
  7025             00000008   L342	equ	8
  7026             00000009   L343	equ	9
  7027 06:1983:              	ends
  7028                        	efunc
  7029                        	.endfunc	909,9,8
  7030                        	.line	909
  7031                        ;  
  7032                        ;// Function for circle-generation 
  7033                        ;// using Bresenham's algorithm 
  7034                        ;void k_draw_circle(int xc, int yc, int r, int col
                    or) 
  7035                        ;{ 
  7036                        	.line	913
  7037                        	.line	914
  7038                        	GFX
  7039                        	xdef	~~k_draw_circle
  7040                        	func
  7041                        	.function	914
  7042                        ~~k_draw_circle:
  7043                        	longa	on
  7044                        	longi	on
  7045 06:1983: 3B           	tsc
  7046 06:1984: 38           	sec
  7047 06:1985: E9 0E 00     	sbc	#L362
  7048 06:1988: 1B           	tcs
  7049 06:1989: 0B           	phd
  7050 06:198A: 5B           	tcd
  7051             00000004   xc_0	set	4
  7052             00000006   yc_0	set	6
  7053             00000008   r_0	set	8
  7054             0000000A   color_0	set	10
  7055                        	.block	914
  7056                        ;    int x = 0;
  7057                        ;	int y = r; 
  7058                        ;	
  7059                        ;    int d = 3 - 2 * r; 
  7060                        ;	
  7061                        ;    k_draw_segments(xc, yc, x, y, color); 
  7062             00000000   x_1	set	0
  7063             00000002   y_1	set	2
  7064             00000004   d_1	set	4
  7065                        	.sym	x,0,5,1,16
  7066                        	.sym	y,2,5,1,16
  7067                        	.sym	d,4,5,1,16
  Sat Jul 10 2021  1:15                                                Page 135


  7068                        	.sym	xc,4,5,6,16
  7069                        	.sym	yc,6,5,6,16
  7070                        	.sym	r,8,5,6,16
  7071                        	.sym	color,10,5,6,16
  7072 06:198B: 64 09        	stz	<L363+x_1
  7073 06:198D: A5 16        	lda	<L362+r_0
  7074 06:198F: 85 0B        	sta	<L363+y_1
  7075 06:1991: A5 16        	lda	<L362+r_0
  7076 06:1993: 0A           	asl	A
  7077 06:1994: 85 01        	sta	<R0
  7078 06:1996: 38           	sec
  7079 06:1997: A9 03 00     	lda	#$3
  7080 06:199A: E5 01        	sbc	<R0
  7081 06:199C: 85 0D        	sta	<L363+d_1
  7082                        	.line	920
  7083 06:199E: D4 18        	pei	<L362+color_0
  7084 06:19A0: D4 0B        	pei	<L363+y_1
  7085 06:19A2: D4 09        	pei	<L363+x_1
  7086 06:19A4: D4 14        	pei	<L362+yc_0
  7087 06:19A6: D4 12        	pei	<L362+xc_0
  7088 06:19A8: 22 9B 15 06  	jsl	~~k_draw_segments
  7089                        ;	
  7090                        ;    while (y >= x) 
  7091                        	.line	922
  7092                        L10044:
  7093 06:19AC: 38           	sec
  7094 06:19AD: A5 0B        	lda	<L363+y_1
  7095 06:19AF: E5 09        	sbc	<L363+x_1
  7096 06:19B1: 70 03        	bvs	L365
  7097 06:19B3: 49 00 80     	eor	#$8000
  7098                        L365:
  7099 06:19B6: 30 03        	bmi	L366
  7100 06:19B8: 82 59 00     	brl	L10045
  7101                        L366:
  7102                        ;    { 
  7103                        	.line	923
  7104                        ;        // for each pixel we will 
  7105                        ;        // draw all eight pixels 
  7106                        ;          
  7107                        ;        x++; 
  7108                        	.line	927
  7109 06:19BB: E6 09        	inc	<L363+x_1
  7110                        ;  
  7111                        ;        // check for decision parameter 
  7112                        ;        // and correspondingly  
  7113                        ;        // update d, x, y 
  7114                        ;        if (d > 0) 
  7115                        	.line	932
  7116                        ;        { 
  7117 06:19BD: 38           	sec
  7118 06:19BE: A9 00 00     	lda	#$0
  7119 06:19C1: E5 0D        	sbc	<L363+d_1
  7120 06:19C3: 70 03        	bvs	L367
  7121 06:19C5: 49 00 80     	eor	#$8000
  7122                        L367:
  7123 06:19C8: 10 03        	bpl	L368
  7124 06:19CA: 82 21 00     	brl	L10046
  7125                        L368:
  Sat Jul 10 2021  1:15                                                Page 136


  7126                        	.line	933
  7127                        ;            y--;  
  7128                        	.line	934
  7129 06:19CD: C6 0B        	dec	<L363+y_1
  7130                        ;            d = d + 4 * (x - y) + 10; 
  7131                        	.line	935
  7132 06:19CF: 38           	sec
  7133 06:19D0: A5 09        	lda	<L363+x_1
  7134 06:19D2: E5 0B        	sbc	<L363+y_1
  7135 06:19D4: 85 05        	sta	<R1
  7136 06:19D6: A5 05        	lda	<R1
  7137 06:19D8: 0A           	asl	A
  7138 06:19D9: 0A           	asl	A
  7139 06:19DA: 85 01        	sta	<R0
  7140 06:19DC: 18           	clc
  7141 06:19DD: A5 01        	lda	<R0
  7142 06:19DF: 65 0D        	adc	<L363+d_1
  7143 06:19E1: 85 05        	sta	<R1
  7144 06:19E3: 18           	clc
  7145 06:19E4: A9 0A 00     	lda	#$a
  7146 06:19E7: 65 05        	adc	<R1
  7147 06:19E9: 85 0D        	sta	<L363+d_1
  7148                        ;        } 
  7149                        	.line	936
  7150                        ;        else
  7151 06:19EB: 82 15 00     	brl	L10047
  7152                        L10046:
  7153                        ;            d = d + 4 * x + 6; 
  7154                        	.line	938
  7155 06:19EE: A5 09        	lda	<L363+x_1
  7156 06:19F0: 0A           	asl	A
  7157 06:19F1: 0A           	asl	A
  7158 06:19F2: 85 01        	sta	<R0
  7159 06:19F4: 18           	clc
  7160 06:19F5: A5 01        	lda	<R0
  7161 06:19F7: 65 0D        	adc	<L363+d_1
  7162 06:19F9: 85 05        	sta	<R1
  7163 06:19FB: 18           	clc
  7164 06:19FC: A9 06 00     	lda	#$6
  7165 06:19FF: 65 05        	adc	<R1
  7166 06:1A01: 85 0D        	sta	<L363+d_1
  7167                        L10047:
  7168                        ;        k_draw_segments(xc, yc, x, y, color); 
  7169                        	.line	939
  7170 06:1A03: D4 18        	pei	<L362+color_0
  7171 06:1A05: D4 0B        	pei	<L363+y_1
  7172 06:1A07: D4 09        	pei	<L363+x_1
  7173 06:1A09: D4 14        	pei	<L362+yc_0
  7174 06:1A0B: D4 12        	pei	<L362+xc_0
  7175 06:1A0D: 22 9B 15 06  	jsl	~~k_draw_segments
  7176                        ;       
  7177                        ;    } 
  7178                        	.line	941
  7179 06:1A11: 82 98 FF     	brl	L10044
  7180                        L10045:
  7181                        ;} 
  7182                        	.line	942
  7183                        L369:
  Sat Jul 10 2021  1:15                                                Page 137


  7184 06:1A14: A5 10        	lda	<L362+2
  7185 06:1A16: 85 18        	sta	<L362+2+8
  7186 06:1A18: A5 0F        	lda	<L362+1
  7187 06:1A1A: 85 17        	sta	<L362+1+8
  7188 06:1A1C: 2B           	pld
  7189 06:1A1D: 3B           	tsc
  7190 06:1A1E: 18           	clc
  7191 06:1A1F: 69 16 00     	adc	#L362+8
  7192 06:1A22: 1B           	tcs
  7193 06:1A23: 6B           	rtl
  7194                        	.endblock	942
  7195             0000000E   L362	equ	14
  7196             00000009   L363	equ	9
  7197 06:1A24:              	ends
  7198                        	efunc
  7199                        	.endfunc	942,9,14
  7200                        	.line	942
  7201                        ;
  7202                        ;void k_draw_filled_circle(int xc, int yc, int r, 
                    int color) 
  7203                        ;{ 
  7204                        	.line	944
  7205                        	.line	945
  7206                        	GFX
  7207                        	xdef	~~k_draw_filled_circle
  7208                        	func
  7209                        	.function	945
  7210                        ~~k_draw_filled_circle:
  7211                        	longa	on
  7212                        	longi	on
  7213 06:1A24: 3B           	tsc
  7214 06:1A25: 38           	sec
  7215 06:1A26: E9 0E 00     	sbc	#L370
  7216 06:1A29: 1B           	tcs
  7217 06:1A2A: 0B           	phd
  7218 06:1A2B: 5B           	tcd
  7219             00000004   xc_0	set	4
  7220             00000006   yc_0	set	6
  7221             00000008   r_0	set	8
  7222             0000000A   color_0	set	10
  7223                        	.block	945
  7224                        ;    int x = 0;
  7225                        ;	int y = r; 
  7226                        ;	
  7227                        ;    int d = 3 - 2 * r; 
  7228                        ;	
  7229                        ;    k_draw_filled_segments(xc, yc, x, y, color); 
  7230             00000000   x_1	set	0
  7231             00000002   y_1	set	2
  7232             00000004   d_1	set	4
  7233                        	.sym	x,0,5,1,16
  7234                        	.sym	y,2,5,1,16
  7235                        	.sym	d,4,5,1,16
  7236                        	.sym	xc,4,5,6,16
  7237                        	.sym	yc,6,5,6,16
  7238                        	.sym	r,8,5,6,16
  7239                        	.sym	color,10,5,6,16
  7240 06:1A2C: 64 09        	stz	<L371+x_1
  Sat Jul 10 2021  1:15                                                Page 138


  7241 06:1A2E: A5 16        	lda	<L370+r_0
  7242 06:1A30: 85 0B        	sta	<L371+y_1
  7243 06:1A32: A5 16        	lda	<L370+r_0
  7244 06:1A34: 0A           	asl	A
  7245 06:1A35: 85 01        	sta	<R0
  7246 06:1A37: 38           	sec
  7247 06:1A38: A9 03 00     	lda	#$3
  7248 06:1A3B: E5 01        	sbc	<R0
  7249 06:1A3D: 85 0D        	sta	<L371+d_1
  7250                        	.line	951
  7251 06:1A3F: D4 18        	pei	<L370+color_0
  7252 06:1A41: D4 0B        	pei	<L371+y_1
  7253 06:1A43: D4 09        	pei	<L371+x_1
  7254 06:1A45: D4 14        	pei	<L370+yc_0
  7255 06:1A47: D4 12        	pei	<L370+xc_0
  7256 06:1A49: 22 53 17 06  	jsl	~~k_draw_filled_segments
  7257                        ;	
  7258                        ;    while (y >= x) 
  7259                        	.line	953
  7260                        L10048:
  7261 06:1A4D: 38           	sec
  7262 06:1A4E: A5 0B        	lda	<L371+y_1
  7263 06:1A50: E5 09        	sbc	<L371+x_1
  7264 06:1A52: 70 03        	bvs	L373
  7265 06:1A54: 49 00 80     	eor	#$8000
  7266                        L373:
  7267 06:1A57: 30 03        	bmi	L374
  7268 06:1A59: 82 59 00     	brl	L10049
  7269                        L374:
  7270                        ;    { 
  7271                        	.line	954
  7272                        ;        // for each pixel we will 
  7273                        ;        // draw all eight pixels 
  7274                        ;          
  7275                        ;        x++; 
  7276                        	.line	958
  7277 06:1A5C: E6 09        	inc	<L371+x_1
  7278                        ;  
  7279                        ;        // check for decision parameter 
  7280                        ;        // and correspondingly  
  7281                        ;        // update d, x, y 
  7282                        ;        if (d > 0) 
  7283                        	.line	963
  7284                        ;        { 
  7285 06:1A5E: 38           	sec
  7286 06:1A5F: A9 00 00     	lda	#$0
  7287 06:1A62: E5 0D        	sbc	<L371+d_1
  7288 06:1A64: 70 03        	bvs	L375
  7289 06:1A66: 49 00 80     	eor	#$8000
  7290                        L375:
  7291 06:1A69: 10 03        	bpl	L376
  7292 06:1A6B: 82 21 00     	brl	L10050
  7293                        L376:
  7294                        	.line	964
  7295                        ;            y--;  
  7296                        	.line	965
  7297 06:1A6E: C6 0B        	dec	<L371+y_1
  7298                        ;            d = d + 4 * (x - y) + 10; 
  Sat Jul 10 2021  1:15                                                Page 139


  7299                        	.line	966
  7300 06:1A70: 38           	sec
  7301 06:1A71: A5 09        	lda	<L371+x_1
  7302 06:1A73: E5 0B        	sbc	<L371+y_1
  7303 06:1A75: 85 05        	sta	<R1
  7304 06:1A77: A5 05        	lda	<R1
  7305 06:1A79: 0A           	asl	A
  7306 06:1A7A: 0A           	asl	A
  7307 06:1A7B: 85 01        	sta	<R0
  7308 06:1A7D: 18           	clc
  7309 06:1A7E: A5 01        	lda	<R0
  7310 06:1A80: 65 0D        	adc	<L371+d_1
  7311 06:1A82: 85 05        	sta	<R1
  7312 06:1A84: 18           	clc
  7313 06:1A85: A9 0A 00     	lda	#$a
  7314 06:1A88: 65 05        	adc	<R1
  7315 06:1A8A: 85 0D        	sta	<L371+d_1
  7316                        ;        } 
  7317                        	.line	967
  7318                        ;        else
  7319 06:1A8C: 82 15 00     	brl	L10051
  7320                        L10050:
  7321                        ;            d = d + 4 * x + 6; 
  7322                        	.line	969
  7323 06:1A8F: A5 09        	lda	<L371+x_1
  7324 06:1A91: 0A           	asl	A
  7325 06:1A92: 0A           	asl	A
  7326 06:1A93: 85 01        	sta	<R0
  7327 06:1A95: 18           	clc
  7328 06:1A96: A5 01        	lda	<R0
  7329 06:1A98: 65 0D        	adc	<L371+d_1
  7330 06:1A9A: 85 05        	sta	<R1
  7331 06:1A9C: 18           	clc
  7332 06:1A9D: A9 06 00     	lda	#$6
  7333 06:1AA0: 65 05        	adc	<R1
  7334 06:1AA2: 85 0D        	sta	<L371+d_1
  7335                        L10051:
  7336                        ;        k_draw_filled_segments(xc, yc, x, y, colo
                    r); 
  7337                        	.line	970
  7338 06:1AA4: D4 18        	pei	<L370+color_0
  7339 06:1AA6: D4 0B        	pei	<L371+y_1
  7340 06:1AA8: D4 09        	pei	<L371+x_1
  7341 06:1AAA: D4 14        	pei	<L370+yc_0
  7342 06:1AAC: D4 12        	pei	<L370+xc_0
  7343 06:1AAE: 22 53 17 06  	jsl	~~k_draw_filled_segments
  7344                        ;       
  7345                        ;    } 
  7346                        	.line	972
  7347 06:1AB2: 82 98 FF     	brl	L10048
  7348                        L10049:
  7349                        ;} 
  7350                        	.line	973
  7351                        L377:
  7352 06:1AB5: A5 10        	lda	<L370+2
  7353 06:1AB7: 85 18        	sta	<L370+2+8
  7354 06:1AB9: A5 0F        	lda	<L370+1
  7355 06:1ABB: 85 17        	sta	<L370+1+8
  Sat Jul 10 2021  1:15                                                Page 140


  7356 06:1ABD: 2B           	pld
  7357 06:1ABE: 3B           	tsc
  7358 06:1ABF: 18           	clc
  7359 06:1AC0: 69 16 00     	adc	#L370+8
  7360 06:1AC3: 1B           	tcs
  7361 06:1AC4: 6B           	rtl
  7362                        	.endblock	973
  7363             0000000E   L370	equ	14
  7364             00000009   L371	equ	9
  7365 06:1AC5:              	ends
  7366                        	efunc
  7367                        	.endfunc	973,9,14
  7368                        	.line	973
  7369                        ;void k_draw_line(int x0, int y0, int x1, int y1,i
                    nt color)
  7370                        ;{
  7371                        	.line	974
  7372                        	.line	975
  7373                        	GFX
  7374                        	xdef	~~k_draw_line
  7375                        	func
  7376                        	.function	975
  7377                        ~~k_draw_line:
  7378                        	longa	on
  7379                        	longi	on
  7380 06:1AC5: 3B           	tsc
  7381 06:1AC6: 38           	sec
  7382 06:1AC7: E9 00 00     	sbc	#L378
  7383 06:1ACA: 1B           	tcs
  7384 06:1ACB: 0B           	phd
  7385 06:1ACC: 5B           	tcd
  7386             00000004   x0_0	set	4
  7387             00000006   y0_0	set	6
  7388             00000008   x1_0	set	8
  7389             0000000A   y1_0	set	10
  7390             0000000C   color_0	set	12
  7391                        	.block	975
  7392                        ;	k_draw_line_ex(x0, y0, x1, y1,color,BITMAP_FRONT
                    );
  7393                        	.sym	x0,4,5,6,16
  7394                        	.sym	y0,6,5,6,16
  7395                        	.sym	x1,8,5,6,16
  7396                        	.sym	y1,10,5,6,16
  7397                        	.sym	color,12,5,6,16
  7398                        	.line	976
  7399 06:1ACD: F4 00 00     	pea	#<$0
  7400 06:1AD0: D4 0C        	pei	<L378+color_0
  7401 06:1AD2: D4 0A        	pei	<L378+y1_0
  7402 06:1AD4: D4 08        	pei	<L378+x1_0
  7403 06:1AD6: D4 06        	pei	<L378+y0_0
  7404 06:1AD8: D4 04        	pei	<L378+x0_0
  7405 06:1ADA: 22 EE 1A 06  	jsl	~~k_draw_line_ex
  7406                        ;}
  7407                        	.line	977
  7408                        L381:
  7409 06:1ADE: A5 02        	lda	<L378+2
  7410 06:1AE0: 85 0C        	sta	<L378+2+10
  7411 06:1AE2: A5 01        	lda	<L378+1
  Sat Jul 10 2021  1:15                                                Page 141


  7412 06:1AE4: 85 0B        	sta	<L378+1+10
  7413 06:1AE6: 2B           	pld
  7414 06:1AE7: 3B           	tsc
  7415 06:1AE8: 18           	clc
  7416 06:1AE9: 69 0A 00     	adc	#L378+10
  7417 06:1AEC: 1B           	tcs
  7418 06:1AED: 6B           	rtl
  7419                        	.endblock	977
  7420             00000000   L378	equ	0
  7421             00000001   L379	equ	1
  7422 06:1AEE:              	ends
  7423                        	efunc
  7424                        	.endfunc	977,1,0
  7425                        	.line	977
  7426                        ;
  7427                        ;void k_draw_line_ex(int x0, int y0, int x1, int y
                    1,int color,UINT page)
  7428                        ;{
  7429                        	.line	979
  7430                        	.line	980
  7431                        	GFX
  7432                        	xdef	~~k_draw_line_ex
  7433                        	func
  7434                        	.function	980
  7435                        ~~k_draw_line_ex:
  7436                        	longa	on
  7437                        	longi	on
  7438 06:1AEE: 3B           	tsc
  7439 06:1AEF: 38           	sec
  7440 06:1AF0: E9 14 00     	sbc	#L382
  7441 06:1AF3: 1B           	tcs
  7442 06:1AF4: 0B           	phd
  7443 06:1AF5: 5B           	tcd
  7444             00000004   x0_0	set	4
  7445             00000006   y0_0	set	6
  7446             00000008   x1_0	set	8
  7447             0000000A   y1_0	set	10
  7448             0000000C   color_0	set	12
  7449             0000000E   page_0	set	14
  7450                        	.block	980
  7451                        ; 	int dx = abs(x1-x0), sx = x0<x1 ? 1 : -1
                    ;
  7452                        ;	int dy = abs(y1-y0), sy = y0<y1 ? 1 : -1; 
  7453                        ;	int err = (dx>dy ? dx : -dy)/2, e2;
  7454                        ;
  7455                        ;	for(;;)
  7456             00000000   dx_1	set	0
  7457             00000002   sx_1	set	2
  7458             00000004   dy_1	set	4
  7459             00000006   sy_1	set	6
  7460             00000008   err_1	set	8
  7461             0000000A   e2_1	set	10
  7462                        	.sym	dx,0,5,1,16
  7463                        	.sym	sx,2,5,1,16
  7464                        	.sym	dy,4,5,1,16
  7465                        	.sym	sy,6,5,1,16
  7466                        	.sym	err,8,5,1,16
  7467                        	.sym	e2,10,5,1,16
  Sat Jul 10 2021  1:15                                                Page 142


  7468                        	.sym	x0,4,5,6,16
  7469                        	.sym	y0,6,5,6,16
  7470                        	.sym	x1,8,5,6,16
  7471                        	.sym	y1,10,5,6,16
  7472                        	.sym	color,12,5,6,16
  7473                        	.sym	page,14,16,6,16
  7474 06:1AF6: 38           	sec
  7475 06:1AF7: A5 1C        	lda	<L382+x1_0
  7476 06:1AF9: E5 18        	sbc	<L382+x0_0
  7477 06:1AFB: 48           	pha
  7478 06:1AFC: 22 xx xx xx  	jsl	~~abs
  7479 06:1B00: 85 09        	sta	<L383+dx_1
  7480 06:1B02: 38           	sec
  7481 06:1B03: A5 18        	lda	<L382+x0_0
  7482 06:1B05: E5 1C        	sbc	<L382+x1_0
  7483 06:1B07: 70 03        	bvs	L386
  7484 06:1B09: 49 00 80     	eor	#$8000
  7485                        L386:
  7486 06:1B0C: 10 03        	bpl	L387
  7487 06:1B0E: 82 05 00     	brl	L385
  7488                        L387:
  7489 06:1B11: A9 01 00     	lda	#$1
  7490 06:1B14: 80 03        	bra	L388
  7491                        L385:
  7492 06:1B16: A9 FF FF     	lda	#$ffff
  7493                        L388:
  7494 06:1B19: 85 0B        	sta	<L383+sx_1
  7495 06:1B1B: 38           	sec
  7496 06:1B1C: A5 1E        	lda	<L382+y1_0
  7497 06:1B1E: E5 1A        	sbc	<L382+y0_0
  7498 06:1B20: 48           	pha
  7499 06:1B21: 22 xx xx xx  	jsl	~~abs
  7500 06:1B25: 85 0D        	sta	<L383+dy_1
  7501 06:1B27: 38           	sec
  7502 06:1B28: A5 1A        	lda	<L382+y0_0
  7503 06:1B2A: E5 1E        	sbc	<L382+y1_0
  7504 06:1B2C: 70 03        	bvs	L390
  7505 06:1B2E: 49 00 80     	eor	#$8000
  7506                        L390:
  7507 06:1B31: 10 03        	bpl	L391
  7508 06:1B33: 82 05 00     	brl	L389
  7509                        L391:
  7510 06:1B36: A9 01 00     	lda	#$1
  7511 06:1B39: 80 03        	bra	L392
  7512                        L389:
  7513 06:1B3B: A9 FF FF     	lda	#$ffff
  7514                        L392:
  7515 06:1B3E: 85 0F        	sta	<L383+sy_1
  7516 06:1B40: 38           	sec
  7517 06:1B41: A5 0D        	lda	<L383+dy_1
  7518 06:1B43: E5 09        	sbc	<L383+dx_1
  7519 06:1B45: 70 03        	bvs	L394
  7520 06:1B47: 49 00 80     	eor	#$8000
  7521                        L394:
  7522 06:1B4A: 10 03        	bpl	L395
  7523 06:1B4C: 82 04 00     	brl	L393
  7524                        L395:
  7525 06:1B4F: A5 09        	lda	<L383+dx_1
  Sat Jul 10 2021  1:15                                                Page 143


  7526 06:1B51: 80 0A        	bra	L396
  7527                        L393:
  7528 06:1B53: 38           	sec
  7529 06:1B54: A9 00 00     	lda	#$0
  7530 06:1B57: E5 0D        	sbc	<L383+dy_1
  7531 06:1B59: 85 01        	sta	<R0
  7532 06:1B5B: A5 01        	lda	<R0
  7533                        L396:
  7534 06:1B5D: 85 01        	sta	<R0
  7535 06:1B5F: A5 01        	lda	<R0
  7536 06:1B61: A2 02 00     	ldx	#<$2
  7537                        	xref	~~~div
  7538 06:1B64: 22 xx xx xx  	jsl	~~~div
  7539 06:1B68: 85 11        	sta	<L383+err_1
  7540                        	.line	985
  7541                        L10054:
  7542                        ;	{
  7543                        	.line	986
  7544                        ;		switch(page)
  7545                        	.line	987
  7546 06:1B6A: A5 22        	lda	<L382+page_0
  7547 06:1B6C: 82 7B 00     	brl	L10055
  7548                        ;		{
  7549                        	.line	988
  7550                        ;		case BITMAP_BACK:
  7551                        	.line	989
  7552                        L10057:
  7553                        ;			k_draw_pixel_back(x0,y0,color);
  7554                        	.line	990
  7555 06:1B6F: D4 20        	pei	<L382+color_0
  7556 06:1B71: A0 00 00     	ldy	#$0
  7557 06:1B74: A5 1A        	lda	<L382+y0_0
  7558 06:1B76: 10 01        	bpl	L397
  7559 06:1B78: 88           	dey
  7560                        L397:
  7561 06:1B79: 85 01        	sta	<R0
  7562 06:1B7B: 84 03        	sty	<R0+2
  7563 06:1B7D: D4 03        	pei	<R0+2
  7564 06:1B7F: D4 01        	pei	<R0
  7565 06:1B81: A0 00 00     	ldy	#$0
  7566 06:1B84: A5 18        	lda	<L382+x0_0
  7567 06:1B86: 10 01        	bpl	L398
  7568 06:1B88: 88           	dey
  7569                        L398:
  7570 06:1B89: 85 05        	sta	<R1
  7571 06:1B8B: 84 07        	sty	<R1+2
  7572 06:1B8D: D4 07        	pei	<R1+2
  7573 06:1B8F: D4 05        	pei	<R1
  7574 06:1B91: 22 41 14 06  	jsl	~~k_draw_pixel_back
  7575                        ;			break;
  7576                        	.line	991
  7577 06:1B95: 82 62 00     	brl	L10056
  7578                        ;		case 0x20:
  7579                        	.line	992
  7580                        L10058:
  7581                        ;			k_draw_pixel_D0(x0,y0,color);
  7582                        	.line	993
  7583 06:1B98: D4 20        	pei	<L382+color_0
  Sat Jul 10 2021  1:15                                                Page 144


  7584 06:1B9A: A0 00 00     	ldy	#$0
  7585 06:1B9D: A5 1A        	lda	<L382+y0_0
  7586 06:1B9F: 10 01        	bpl	L399
  7587 06:1BA1: 88           	dey
  7588                        L399:
  7589 06:1BA2: 85 01        	sta	<R0
  7590 06:1BA4: 84 03        	sty	<R0+2
  7591 06:1BA6: D4 03        	pei	<R0+2
  7592 06:1BA8: D4 01        	pei	<R0
  7593 06:1BAA: A0 00 00     	ldy	#$0
  7594 06:1BAD: A5 18        	lda	<L382+x0_0
  7595 06:1BAF: 10 01        	bpl	L400
  7596 06:1BB1: 88           	dey
  7597                        L400:
  7598 06:1BB2: 85 05        	sta	<R1
  7599 06:1BB4: 84 07        	sty	<R1+2
  7600 06:1BB6: D4 07        	pei	<R1+2
  7601 06:1BB8: D4 05        	pei	<R1
  7602 06:1BBA: 22 C7 14 06  	jsl	~~k_draw_pixel_D0
  7603                        ;			break;
  7604                        	.line	994
  7605 06:1BBE: 82 39 00     	brl	L10056
  7606                        ;		default:
  7607                        	.line	995
  7608                        L10059:
  7609                        ;			k_draw_pixel_front(x0,y0,color);
  7610                        	.line	996
  7611 06:1BC1: D4 20        	pei	<L382+color_0
  7612 06:1BC3: A0 00 00     	ldy	#$0
  7613 06:1BC6: A5 1A        	lda	<L382+y0_0
  7614 06:1BC8: 10 01        	bpl	L401
  7615 06:1BCA: 88           	dey
  7616                        L401:
  7617 06:1BCB: 85 01        	sta	<R0
  7618 06:1BCD: 84 03        	sty	<R0+2
  7619 06:1BCF: D4 03        	pei	<R0+2
  7620 06:1BD1: D4 01        	pei	<R0
  7621 06:1BD3: A0 00 00     	ldy	#$0
  7622 06:1BD6: A5 18        	lda	<L382+x0_0
  7623 06:1BD8: 10 01        	bpl	L402
  7624 06:1BDA: 88           	dey
  7625                        L402:
  7626 06:1BDB: 85 05        	sta	<R1
  7627 06:1BDD: 84 07        	sty	<R1+2
  7628 06:1BDF: D4 07        	pei	<R1+2
  7629 06:1BE1: D4 05        	pei	<R1
  7630 06:1BE3: 22 BB 13 06  	jsl	~~k_draw_pixel_front
  7631                        ;		}
  7632                        	.line	997
  7633 06:1BE7: 82 10 00     	brl	L10056
  7634                        L10055:
  7635                        	xref	~~~swt
  7636 06:1BEA: 22 xx xx xx  	jsl	~~~swt
  7637 06:1BEE: 02 00        	dw	2
  7638 06:1BF0: 08 00        	dw	8
  7639 06:1BF2: 6E 1B        	dw	L10057-1
  7640 06:1BF4: 20 00        	dw	32
  7641 06:1BF6: 97 1B        	dw	L10058-1
  Sat Jul 10 2021  1:15                                                Page 145


  7642 06:1BF8: C0 1B        	dw	L10059-1
  7643                        L10056:
  7644                        ;
  7645                        ;		//k_draw_pixel_ex(x0,y0,color,page);
  7646                        ;
  7647                        ;		if (x0==x1 && y0==y1) break;
  7648                        	.line	1001
  7649 06:1BFA: A5 18        	lda	<L382+x0_0
  7650 06:1BFC: C5 1C        	cmp	<L382+x1_0
  7651 06:1BFE: F0 03        	beq	L404
  7652 06:1C00: 82 09 00     	brl	L403
  7653                        L404:
  7654 06:1C03: A5 1A        	lda	<L382+y0_0
  7655 06:1C05: C5 1E        	cmp	<L382+y1_0
  7656 06:1C07: D0 03        	bne	L405
  7657 06:1C09: 82 49 00     	brl	L10053
  7658                        L405:
  7659                        L403:
  7660                        ;		e2 = err;
  7661                        	.line	1002
  7662 06:1C0C: A5 11        	lda	<L383+err_1
  7663 06:1C0E: 85 13        	sta	<L383+e2_1
  7664                        ;		if (e2 >-dx) { err -= dy; x0 += sx; }
  7665                        	.line	1003
  7666 06:1C10: 38           	sec
  7667 06:1C11: A9 00 00     	lda	#$0
  7668 06:1C14: E5 09        	sbc	<L383+dx_1
  7669 06:1C16: 85 01        	sta	<R0
  7670 06:1C18: 38           	sec
  7671 06:1C19: A5 01        	lda	<R0
  7672 06:1C1B: E5 13        	sbc	<L383+e2_1
  7673 06:1C1D: 70 03        	bvs	L406
  7674 06:1C1F: 49 00 80     	eor	#$8000
  7675                        L406:
  7676 06:1C22: 10 03        	bpl	L407
  7677 06:1C24: 82 0E 00     	brl	L10060
  7678                        L407:
  7679                        	.line	1003
  7680                        	.line	1003
  7681 06:1C27: 38           	sec
  7682 06:1C28: A5 11        	lda	<L383+err_1
  7683 06:1C2A: E5 0D        	sbc	<L383+dy_1
  7684 06:1C2C: 85 11        	sta	<L383+err_1
  7685                        	.line	1003
  7686 06:1C2E: 18           	clc
  7687 06:1C2F: A5 18        	lda	<L382+x0_0
  7688 06:1C31: 65 0B        	adc	<L383+sx_1
  7689 06:1C33: 85 18        	sta	<L382+x0_0
  7690                        	.line	1003
  7691                        ;		if (e2 < dy) { err += dx; y0 += sy; }
  7692                        L10060:
  7693                        	.line	1004
  7694 06:1C35: 38           	sec
  7695 06:1C36: A5 13        	lda	<L383+e2_1
  7696 06:1C38: E5 0D        	sbc	<L383+dy_1
  7697 06:1C3A: 70 03        	bvs	L408
  7698 06:1C3C: 49 00 80     	eor	#$8000
  7699                        L408:
  Sat Jul 10 2021  1:15                                                Page 146


  7700 06:1C3F: 10 03        	bpl	L409
  7701 06:1C41: 82 0E 00     	brl	L10061
  7702                        L409:
  7703                        	.line	1004
  7704                        	.line	1004
  7705 06:1C44: 18           	clc
  7706 06:1C45: A5 11        	lda	<L383+err_1
  7707 06:1C47: 65 09        	adc	<L383+dx_1
  7708 06:1C49: 85 11        	sta	<L383+err_1
  7709                        	.line	1004
  7710 06:1C4B: 18           	clc
  7711 06:1C4C: A5 1A        	lda	<L382+y0_0
  7712 06:1C4E: 65 0F        	adc	<L383+sy_1
  7713 06:1C50: 85 1A        	sta	<L382+y0_0
  7714                        	.line	1004
  7715                        ;	}
  7716                        L10061:
  7717                        	.line	1005
  7718                        L10052:
  7719 06:1C52: 82 15 FF     	brl	L10054
  7720                        L10053:
  7721                        ;}
  7722                        	.line	1006
  7723                        L410:
  7724 06:1C55: A5 16        	lda	<L382+2
  7725 06:1C57: 85 22        	sta	<L382+2+12
  7726 06:1C59: A5 15        	lda	<L382+1
  7727 06:1C5B: 85 21        	sta	<L382+1+12
  7728 06:1C5D: 2B           	pld
  7729 06:1C5E: 3B           	tsc
  7730 06:1C5F: 18           	clc
  7731 06:1C60: 69 20 00     	adc	#L382+12
  7732 06:1C63: 1B           	tcs
  7733 06:1C64: 6B           	rtl
  7734                        	.endblock	1006
  7735             00000014   L382	equ	20
  7736             00000009   L383	equ	9
  7737 06:1C65:              	ends
  7738                        	efunc
  7739                        	.endfunc	1006,9,20
  7740                        	.line	1006
  7741                        ;
  7742                        ;void k_draw_line_with_pattern(int x0, int y0, int
                     x1, int y1,int color, UINT brush)
  7743                        ;{
  7744                        	.line	1008
  7745                        	.line	1009
  7746                        	GFX
  7747                        	xdef	~~k_draw_line_with_pattern
  7748                        	func
  7749                        	.function	1009
  7750                        ~~k_draw_line_with_pattern:
  7751                        	longa	on
  7752                        	longi	on
  7753 06:1C65: 3B           	tsc
  7754 06:1C66: 38           	sec
  7755 06:1C67: E9 14 00     	sbc	#L411
  7756 06:1C6A: 1B           	tcs
  Sat Jul 10 2021  1:15                                                Page 147


  7757 06:1C6B: 0B           	phd
  7758 06:1C6C: 5B           	tcd
  7759             00000004   x0_0	set	4
  7760             00000006   y0_0	set	6
  7761             00000008   x1_0	set	8
  7762             0000000A   y1_0	set	10
  7763             0000000C   color_0	set	12
  7764             0000000E   brush_0	set	14
  7765                        	.block	1009
  7766                        ; 	int dx = abs(x1-x0), sx = x0<x1 ? 1 : -1
                    ;
  7767                        ;	int dy = abs(y1-y0), sy = y0<y1 ? 1 : -1;
  7768                        ;	int err = (dx>dy ? dx : -dy)/2, e2;
  7769                        ;
  7770                        ;	for(;;)
  7771             00000000   dx_1	set	0
  7772             00000002   sx_1	set	2
  7773             00000004   dy_1	set	4
  7774             00000006   sy_1	set	6
  7775             00000008   err_1	set	8
  7776             0000000A   e2_1	set	10
  7777                        	.sym	dx,0,5,1,16
  7778                        	.sym	sx,2,5,1,16
  7779                        	.sym	dy,4,5,1,16
  7780                        	.sym	sy,6,5,1,16
  7781                        	.sym	err,8,5,1,16
  7782                        	.sym	e2,10,5,1,16
  7783                        	.sym	x0,4,5,6,16
  7784                        	.sym	y0,6,5,6,16
  7785                        	.sym	x1,8,5,6,16
  7786                        	.sym	y1,10,5,6,16
  7787                        	.sym	color,12,5,6,16
  7788                        	.sym	brush,14,16,6,16
  7789 06:1C6D: 38           	sec
  7790 06:1C6E: A5 1C        	lda	<L411+x1_0
  7791 06:1C70: E5 18        	sbc	<L411+x0_0
  7792 06:1C72: 48           	pha
  7793 06:1C73: 22 xx xx xx  	jsl	~~abs
  7794 06:1C77: 85 09        	sta	<L412+dx_1
  7795 06:1C79: 38           	sec
  7796 06:1C7A: A5 18        	lda	<L411+x0_0
  7797 06:1C7C: E5 1C        	sbc	<L411+x1_0
  7798 06:1C7E: 70 03        	bvs	L415
  7799 06:1C80: 49 00 80     	eor	#$8000
  7800                        L415:
  7801 06:1C83: 10 03        	bpl	L416
  7802 06:1C85: 82 05 00     	brl	L414
  7803                        L416:
  7804 06:1C88: A9 01 00     	lda	#$1
  7805 06:1C8B: 80 03        	bra	L417
  7806                        L414:
  7807 06:1C8D: A9 FF FF     	lda	#$ffff
  7808                        L417:
  7809 06:1C90: 85 0B        	sta	<L412+sx_1
  7810 06:1C92: 38           	sec
  7811 06:1C93: A5 1E        	lda	<L411+y1_0
  7812 06:1C95: E5 1A        	sbc	<L411+y0_0
  7813 06:1C97: 48           	pha
  Sat Jul 10 2021  1:15                                                Page 148


  7814 06:1C98: 22 xx xx xx  	jsl	~~abs
  7815 06:1C9C: 85 0D        	sta	<L412+dy_1
  7816 06:1C9E: 38           	sec
  7817 06:1C9F: A5 1A        	lda	<L411+y0_0
  7818 06:1CA1: E5 1E        	sbc	<L411+y1_0
  7819 06:1CA3: 70 03        	bvs	L419
  7820 06:1CA5: 49 00 80     	eor	#$8000
  7821                        L419:
  7822 06:1CA8: 10 03        	bpl	L420
  7823 06:1CAA: 82 05 00     	brl	L418
  7824                        L420:
  7825 06:1CAD: A9 01 00     	lda	#$1
  7826 06:1CB0: 80 03        	bra	L421
  7827                        L418:
  7828 06:1CB2: A9 FF FF     	lda	#$ffff
  7829                        L421:
  7830 06:1CB5: 85 0F        	sta	<L412+sy_1
  7831 06:1CB7: 38           	sec
  7832 06:1CB8: A5 0D        	lda	<L412+dy_1
  7833 06:1CBA: E5 09        	sbc	<L412+dx_1
  7834 06:1CBC: 70 03        	bvs	L423
  7835 06:1CBE: 49 00 80     	eor	#$8000
  7836                        L423:
  7837 06:1CC1: 10 03        	bpl	L424
  7838 06:1CC3: 82 04 00     	brl	L422
  7839                        L424:
  7840 06:1CC6: A5 09        	lda	<L412+dx_1
  7841 06:1CC8: 80 0A        	bra	L425
  7842                        L422:
  7843 06:1CCA: 38           	sec
  7844 06:1CCB: A9 00 00     	lda	#$0
  7845 06:1CCE: E5 0D        	sbc	<L412+dy_1
  7846 06:1CD0: 85 01        	sta	<R0
  7847 06:1CD2: A5 01        	lda	<R0
  7848                        L425:
  7849 06:1CD4: 85 01        	sta	<R0
  7850 06:1CD6: A5 01        	lda	<R0
  7851 06:1CD8: A2 02 00     	ldx	#<$2
  7852                        	xref	~~~div
  7853 06:1CDB: 22 xx xx xx  	jsl	~~~div
  7854 06:1CDF: 85 11        	sta	<L412+err_1
  7855                        	.line	1014
  7856                        L10064:
  7857                        ;	{
  7858                        	.line	1015
  7859                        ;		//if()
  7860                        ;		k_draw_pixel(x0,y0,color);
  7861                        	.line	1017
  7862 06:1CE1: D4 20        	pei	<L411+color_0
  7863 06:1CE3: A0 00 00     	ldy	#$0
  7864 06:1CE6: A5 1A        	lda	<L411+y0_0
  7865 06:1CE8: 10 01        	bpl	L426
  7866 06:1CEA: 88           	dey
  7867                        L426:
  7868 06:1CEB: 85 01        	sta	<R0
  7869 06:1CED: 84 03        	sty	<R0+2
  7870 06:1CEF: D4 03        	pei	<R0+2
  7871 06:1CF1: D4 01        	pei	<R0
  Sat Jul 10 2021  1:15                                                Page 149


  7872 06:1CF3: A0 00 00     	ldy	#$0
  7873 06:1CF6: A5 18        	lda	<L411+x0_0
  7874 06:1CF8: 10 01        	bpl	L427
  7875 06:1CFA: 88           	dey
  7876                        L427:
  7877 06:1CFB: 85 05        	sta	<R1
  7878 06:1CFD: 84 07        	sty	<R1+2
  7879 06:1CFF: D4 07        	pei	<R1+2
  7880 06:1D01: D4 05        	pei	<R1
  7881 06:1D03: 22 35 13 06  	jsl	~~k_draw_pixel
  7882                        ;		if (x0==x1 && y0==y1) break;
  7883                        	.line	1018
  7884 06:1D07: A5 18        	lda	<L411+x0_0
  7885 06:1D09: C5 1C        	cmp	<L411+x1_0
  7886 06:1D0B: F0 03        	beq	L429
  7887 06:1D0D: 82 09 00     	brl	L428
  7888                        L429:
  7889 06:1D10: A5 1A        	lda	<L411+y0_0
  7890 06:1D12: C5 1E        	cmp	<L411+y1_0
  7891 06:1D14: D0 03        	bne	L430
  7892 06:1D16: 82 49 00     	brl	L10063
  7893                        L430:
  7894                        L428:
  7895                        ;		e2 = err;
  7896                        	.line	1019
  7897 06:1D19: A5 11        	lda	<L412+err_1
  7898 06:1D1B: 85 13        	sta	<L412+e2_1
  7899                        ;		if (e2 >-dx) { err -= dy; x0 += sx; }
  7900                        	.line	1020
  7901 06:1D1D: 38           	sec
  7902 06:1D1E: A9 00 00     	lda	#$0
  7903 06:1D21: E5 09        	sbc	<L412+dx_1
  7904 06:1D23: 85 01        	sta	<R0
  7905 06:1D25: 38           	sec
  7906 06:1D26: A5 01        	lda	<R0
  7907 06:1D28: E5 13        	sbc	<L412+e2_1
  7908 06:1D2A: 70 03        	bvs	L431
  7909 06:1D2C: 49 00 80     	eor	#$8000
  7910                        L431:
  7911 06:1D2F: 10 03        	bpl	L432
  7912 06:1D31: 82 0E 00     	brl	L10065
  7913                        L432:
  7914                        	.line	1020
  7915                        	.line	1020
  7916 06:1D34: 38           	sec
  7917 06:1D35: A5 11        	lda	<L412+err_1
  7918 06:1D37: E5 0D        	sbc	<L412+dy_1
  7919 06:1D39: 85 11        	sta	<L412+err_1
  7920                        	.line	1020
  7921 06:1D3B: 18           	clc
  7922 06:1D3C: A5 18        	lda	<L411+x0_0
  7923 06:1D3E: 65 0B        	adc	<L412+sx_1
  7924 06:1D40: 85 18        	sta	<L411+x0_0
  7925                        	.line	1020
  7926                        ;		if (e2 < dy) { err += dx; y0 += sy; }
  7927                        L10065:
  7928                        	.line	1021
  7929 06:1D42: 38           	sec
  Sat Jul 10 2021  1:15                                                Page 150


  7930 06:1D43: A5 13        	lda	<L412+e2_1
  7931 06:1D45: E5 0D        	sbc	<L412+dy_1
  7932 06:1D47: 70 03        	bvs	L433
  7933 06:1D49: 49 00 80     	eor	#$8000
  7934                        L433:
  7935 06:1D4C: 10 03        	bpl	L434
  7936 06:1D4E: 82 0E 00     	brl	L10066
  7937                        L434:
  7938                        	.line	1021
  7939                        	.line	1021
  7940 06:1D51: 18           	clc
  7941 06:1D52: A5 11        	lda	<L412+err_1
  7942 06:1D54: 65 09        	adc	<L412+dx_1
  7943 06:1D56: 85 11        	sta	<L412+err_1
  7944                        	.line	1021
  7945 06:1D58: 18           	clc
  7946 06:1D59: A5 1A        	lda	<L411+y0_0
  7947 06:1D5B: 65 0F        	adc	<L412+sy_1
  7948 06:1D5D: 85 1A        	sta	<L411+y0_0
  7949                        	.line	1021
  7950                        ;	}
  7951                        L10066:
  7952                        	.line	1022
  7953                        L10062:
  7954 06:1D5F: 82 7F FF     	brl	L10064
  7955                        L10063:
  7956                        ;}
  7957                        	.line	1023
  7958                        L435:
  7959 06:1D62: A5 16        	lda	<L411+2
  7960 06:1D64: 85 22        	sta	<L411+2+12
  7961 06:1D66: A5 15        	lda	<L411+1
  7962 06:1D68: 85 21        	sta	<L411+1+12
  7963 06:1D6A: 2B           	pld
  7964 06:1D6B: 3B           	tsc
  7965 06:1D6C: 18           	clc
  7966 06:1D6D: 69 20 00     	adc	#L411+12
  7967 06:1D70: 1B           	tcs
  7968 06:1D71: 6B           	rtl
  7969                        	.endblock	1023
  7970             00000014   L411	equ	20
  7971             00000009   L412	equ	9
  7972 06:1D72:              	ends
  7973                        	efunc
  7974                        	.endfunc	1023,9,20
  7975                        	.line	1023
  7976                        ;
  7977                        ;void k_draw_rect_slow(int left,int top, int right
                    , int bottom, char color)
  7978                        ;{
  7979                        	.line	1025
  7980                        	.line	1026
  7981                        	GFX
  7982                        	xdef	~~k_draw_rect_slow
  7983                        	func
  7984                        	.function	1026
  7985                        ~~k_draw_rect_slow:
  7986                        	longa	on
  Sat Jul 10 2021  1:15                                                Page 151


  7987                        	longi	on
  7988 06:1D72: 3B           	tsc
  7989 06:1D73: 38           	sec
  7990 06:1D74: E9 00 00     	sbc	#L436
  7991 06:1D77: 1B           	tcs
  7992 06:1D78: 0B           	phd
  7993 06:1D79: 5B           	tcd
  7994             00000004   left_0	set	4
  7995             00000006   top_0	set	6
  7996             00000008   right_0	set	8
  7997             0000000A   bottom_0	set	10
  7998             0000000C   color_0	set	12
  7999                        	.block	1026
  8000                        ;	k_draw_line(left,top,right,top,color);
  8001                        	.sym	left,4,5,6,16
  8002                        	.sym	top,6,5,6,16
  8003                        	.sym	right,8,5,6,16
  8004                        	.sym	bottom,10,5,6,16
  8005                        	.sym	color,12,14,6,8
  8006                        	.line	1027
  8007 06:1D7A: A5 0C        	lda	<L436+color_0
  8008 06:1D7C: 29 FF 00     	and	#$ff
  8009 06:1D7F: 48           	pha
  8010 06:1D80: D4 06        	pei	<L436+top_0
  8011 06:1D82: D4 08        	pei	<L436+right_0
  8012 06:1D84: D4 06        	pei	<L436+top_0
  8013 06:1D86: D4 04        	pei	<L436+left_0
  8014 06:1D88: 22 C5 1A 06  	jsl	~~k_draw_line
  8015                        ;	k_draw_line(left,top,left,bottom,color);
  8016                        	.line	1028
  8017 06:1D8C: A5 0C        	lda	<L436+color_0
  8018 06:1D8E: 29 FF 00     	and	#$ff
  8019 06:1D91: 48           	pha
  8020 06:1D92: D4 0A        	pei	<L436+bottom_0
  8021 06:1D94: D4 04        	pei	<L436+left_0
  8022 06:1D96: D4 06        	pei	<L436+top_0
  8023 06:1D98: D4 04        	pei	<L436+left_0
  8024 06:1D9A: 22 C5 1A 06  	jsl	~~k_draw_line
  8025                        ;	k_draw_line(right,top,right,bottom,color);
  8026                        	.line	1029
  8027 06:1D9E: A5 0C        	lda	<L436+color_0
  8028 06:1DA0: 29 FF 00     	and	#$ff
  8029 06:1DA3: 48           	pha
  8030 06:1DA4: D4 0A        	pei	<L436+bottom_0
  8031 06:1DA6: D4 08        	pei	<L436+right_0
  8032 06:1DA8: D4 06        	pei	<L436+top_0
  8033 06:1DAA: D4 08        	pei	<L436+right_0
  8034 06:1DAC: 22 C5 1A 06  	jsl	~~k_draw_line
  8035                        ;	k_draw_line(left,bottom,right,bottom,color);
  8036                        	.line	1030
  8037 06:1DB0: A5 0C        	lda	<L436+color_0
  8038 06:1DB2: 29 FF 00     	and	#$ff
  8039 06:1DB5: 48           	pha
  8040 06:1DB6: D4 0A        	pei	<L436+bottom_0
  8041 06:1DB8: D4 08        	pei	<L436+right_0
  8042 06:1DBA: D4 0A        	pei	<L436+bottom_0
  8043 06:1DBC: D4 04        	pei	<L436+left_0
  8044 06:1DBE: 22 C5 1A 06  	jsl	~~k_draw_line
  Sat Jul 10 2021  1:15                                                Page 152


  8045                        ;}
  8046                        	.line	1031
  8047                        L439:
  8048 06:1DC2: A5 02        	lda	<L436+2
  8049 06:1DC4: 85 0C        	sta	<L436+2+10
  8050 06:1DC6: A5 01        	lda	<L436+1
  8051 06:1DC8: 85 0B        	sta	<L436+1+10
  8052 06:1DCA: 2B           	pld
  8053 06:1DCB: 3B           	tsc
  8054 06:1DCC: 18           	clc
  8055 06:1DCD: 69 0A 00     	adc	#L436+10
  8056 06:1DD0: 1B           	tcs
  8057 06:1DD1: 6B           	rtl
  8058                        	.endblock	1031
  8059             00000000   L436	equ	0
  8060             00000001   L437	equ	1
  8061 06:1DD2:              	ends
  8062                        	efunc
  8063                        	.endfunc	1031,1,0
  8064                        	.line	1031
  8065                        ;
  8066                        ;void k_draw_rect(int left,int top, int right, int
                     bottom, char color,UINT brush,UINT page)
  8067                        ;{
  8068                        	.line	1033
  8069                        	.line	1034
  8070                        	GFX
  8071                        	xdef	~~k_draw_rect
  8072                        	func
  8073                        	.function	1034
  8074                        ~~k_draw_rect:
  8075                        	longa	on
  8076                        	longi	on
  8077 06:1DD2: 3B           	tsc
  8078 06:1DD3: 38           	sec
  8079 06:1DD4: E9 00 00     	sbc	#L440
  8080 06:1DD7: 1B           	tcs
  8081 06:1DD8: 0B           	phd
  8082 06:1DD9: 5B           	tcd
  8083             00000004   left_0	set	4
  8084             00000006   top_0	set	6
  8085             00000008   right_0	set	8
  8086             0000000A   bottom_0	set	10
  8087             0000000C   color_0	set	12
  8088             0000000E   brush_0	set	14
  8089             00000010   page_0	set	16
  8090                        	.block	1034
  8091                        ;	k_draw_line_ex(left,top,right,top,color,page);
  8092                        	.sym	left,4,5,6,16
  8093                        	.sym	top,6,5,6,16
  8094                        	.sym	right,8,5,6,16
  8095                        	.sym	bottom,10,5,6,16
  8096                        	.sym	color,12,14,6,8
  8097                        	.sym	brush,14,16,6,16
  8098                        	.sym	page,16,16,6,16
  8099                        	.line	1035
  8100 06:1DDA: D4 10        	pei	<L440+page_0
  8101 06:1DDC: A5 0C        	lda	<L440+color_0
  Sat Jul 10 2021  1:15                                                Page 153


  8102 06:1DDE: 29 FF 00     	and	#$ff
  8103 06:1DE1: 48           	pha
  8104 06:1DE2: D4 06        	pei	<L440+top_0
  8105 06:1DE4: D4 08        	pei	<L440+right_0
  8106 06:1DE6: D4 06        	pei	<L440+top_0
  8107 06:1DE8: D4 04        	pei	<L440+left_0
  8108 06:1DEA: 22 EE 1A 06  	jsl	~~k_draw_line_ex
  8109                        ;	k_draw_line_ex(left,top,left,bottom,color,page);
  8110                        	.line	1036
  8111 06:1DEE: D4 10        	pei	<L440+page_0
  8112 06:1DF0: A5 0C        	lda	<L440+color_0
  8113 06:1DF2: 29 FF 00     	and	#$ff
  8114 06:1DF5: 48           	pha
  8115 06:1DF6: D4 0A        	pei	<L440+bottom_0
  8116 06:1DF8: D4 04        	pei	<L440+left_0
  8117 06:1DFA: D4 06        	pei	<L440+top_0
  8118 06:1DFC: D4 04        	pei	<L440+left_0
  8119 06:1DFE: 22 EE 1A 06  	jsl	~~k_draw_line_ex
  8120                        ;	k_draw_line_ex(right,top,right,bottom,color,page
                    );
  8121                        	.line	1037
  8122 06:1E02: D4 10        	pei	<L440+page_0
  8123 06:1E04: A5 0C        	lda	<L440+color_0
  8124 06:1E06: 29 FF 00     	and	#$ff
  8125 06:1E09: 48           	pha
  8126 06:1E0A: D4 0A        	pei	<L440+bottom_0
  8127 06:1E0C: D4 08        	pei	<L440+right_0
  8128 06:1E0E: D4 06        	pei	<L440+top_0
  8129 06:1E10: D4 08        	pei	<L440+right_0
  8130 06:1E12: 22 EE 1A 06  	jsl	~~k_draw_line_ex
  8131                        ;	k_draw_line_ex(left,bottom,right,bottom,color,pa
                    ge);
  8132                        	.line	1038
  8133 06:1E16: D4 10        	pei	<L440+page_0
  8134 06:1E18: A5 0C        	lda	<L440+color_0
  8135 06:1E1A: 29 FF 00     	and	#$ff
  8136 06:1E1D: 48           	pha
  8137 06:1E1E: D4 0A        	pei	<L440+bottom_0
  8138 06:1E20: D4 08        	pei	<L440+right_0
  8139 06:1E22: D4 0A        	pei	<L440+bottom_0
  8140 06:1E24: D4 04        	pei	<L440+left_0
  8141 06:1E26: 22 EE 1A 06  	jsl	~~k_draw_line_ex
  8142                        ;}
  8143                        	.line	1039
  8144                        L443:
  8145 06:1E2A: A5 02        	lda	<L440+2
  8146 06:1E2C: 85 10        	sta	<L440+2+14
  8147 06:1E2E: A5 01        	lda	<L440+1
  8148 06:1E30: 85 0F        	sta	<L440+1+14
  8149 06:1E32: 2B           	pld
  8150 06:1E33: 3B           	tsc
  8151 06:1E34: 18           	clc
  8152 06:1E35: 69 0E 00     	adc	#L440+14
  8153 06:1E38: 1B           	tcs
  8154 06:1E39: 6B           	rtl
  8155                        	.endblock	1039
  8156             00000000   L440	equ	0
  8157             00000001   L441	equ	1
  Sat Jul 10 2021  1:15                                                Page 154


  8158 06:1E3A:              	ends
  8159                        	efunc
  8160                        	.endfunc	1039,1,0
  8161                        	.line	1039
  8162                        ;
  8163                        ;void k_draw_rect_ex(PRECT prect, char color,UINT 
                    brush,UINT page)
  8164                        ;{
  8165                        	.line	1041
  8166                        	.line	1042
  8167                        	GFX
  8168                        	xdef	~~k_draw_rect_ex
  8169                        	func
  8170                        	.function	1042
  8171                        ~~k_draw_rect_ex:
  8172                        	longa	on
  8173                        	longi	on
  8174 06:1E3A: 3B           	tsc
  8175 06:1E3B: 38           	sec
  8176 06:1E3C: E9 0C 00     	sbc	#L444
  8177 06:1E3F: 1B           	tcs
  8178 06:1E40: 0B           	phd
  8179 06:1E41: 5B           	tcd
  8180             00000004   prect_0	set	4
  8181             00000008   color_0	set	8
  8182             0000000A   brush_0	set	10
  8183             0000000C   page_0	set	12
  8184                        	.block	1042
  8185                        ;
  8186                        ;	int left   = prect->x ;
  8187                        ;	int top    = prect->y;
  8188                        ;	int right  = prect->x + prect->width  - 1;
  8189                        ;	int bottom = prect->y + prect->height - 1;
  8190                        ;
  8191                        ;	k_draw_rect(left,top, right, bottom, color,brush
                    ,page);
  8192             00000000   left_1	set	0
  8193             00000002   top_1	set	2
  8194             00000004   right_1	set	4
  8195             00000006   bottom_1	set	6
  8196                        	.sym	left,0,5,1,16
  8197                        	.sym	top,2,5,1,16
  8198                        	.sym	right,4,5,1,16
  8199                        	.sym	bottom,6,5,1,16
  8200                        	.sym	prect,4,138,6,32,26
  8201                        	.sym	color,8,14,6,8
  8202                        	.sym	brush,10,16,6,16
  8203                        	.sym	page,12,16,6,16
  8204 06:1E42: A7 10        	lda	[<L444+prect_0]
  8205 06:1E44: 85 05        	sta	<L445+left_1
  8206 06:1E46: A0 02 00     	ldy	#$2
  8207 06:1E49: B7 10        	lda	[<L444+prect_0],Y
  8208 06:1E4B: 85 07        	sta	<L445+top_1
  8209 06:1E4D: 18           	clc
  8210 06:1E4E: A7 10        	lda	[<L444+prect_0]
  8211 06:1E50: A0 08 00     	ldy	#$8
  8212 06:1E53: 77 10        	adc	[<L444+prect_0],Y
  8213 06:1E55: 85 01        	sta	<R0
  Sat Jul 10 2021  1:15                                                Page 155


  8214 06:1E57: 18           	clc
  8215 06:1E58: A9 FF FF     	lda	#$ffff
  8216 06:1E5B: 65 01        	adc	<R0
  8217 06:1E5D: 85 09        	sta	<L445+right_1
  8218 06:1E5F: 18           	clc
  8219 06:1E60: A0 02 00     	ldy	#$2
  8220 06:1E63: B7 10        	lda	[<L444+prect_0],Y
  8221 06:1E65: A0 0A 00     	ldy	#$a
  8222 06:1E68: 77 10        	adc	[<L444+prect_0],Y
  8223 06:1E6A: 85 01        	sta	<R0
  8224 06:1E6C: 18           	clc
  8225 06:1E6D: A9 FF FF     	lda	#$ffff
  8226 06:1E70: 65 01        	adc	<R0
  8227 06:1E72: 85 0B        	sta	<L445+bottom_1
  8228                        	.line	1049
  8229 06:1E74: D4 18        	pei	<L444+page_0
  8230 06:1E76: D4 16        	pei	<L444+brush_0
  8231 06:1E78: D4 14        	pei	<L444+color_0
  8232 06:1E7A: D4 0B        	pei	<L445+bottom_1
  8233 06:1E7C: D4 09        	pei	<L445+right_1
  8234 06:1E7E: D4 07        	pei	<L445+top_1
  8235 06:1E80: D4 05        	pei	<L445+left_1
  8236 06:1E82: 22 D2 1D 06  	jsl	~~k_draw_rect
  8237                        ;}
  8238                        	.line	1050
  8239                        L447:
  8240 06:1E86: A5 0E        	lda	<L444+2
  8241 06:1E88: 85 18        	sta	<L444+2+10
  8242 06:1E8A: A5 0D        	lda	<L444+1
  8243 06:1E8C: 85 17        	sta	<L444+1+10
  8244 06:1E8E: 2B           	pld
  8245 06:1E8F: 3B           	tsc
  8246 06:1E90: 18           	clc
  8247 06:1E91: 69 16 00     	adc	#L444+10
  8248 06:1E94: 1B           	tcs
  8249 06:1E95: 6B           	rtl
  8250                        	.endblock	1050
  8251             0000000C   L444	equ	12
  8252             00000005   L445	equ	5
  8253 06:1E96:              	ends
  8254                        	efunc
  8255                        	.endfunc	1050,5,12
  8256                        	.line	1050
  8257                        ;
  8258                        ;
  8259                        ;void k_draw_filled_rect_slow(int left,int top, in
                    t right, int bottom, char color)
  8260                        ;{
  8261                        	.line	1053
  8262                        	.line	1054
  8263                        	GFX
  8264                        	xdef	~~k_draw_filled_rect_slow
  8265                        	func
  8266                        	.function	1054
  8267                        ~~k_draw_filled_rect_slow:
  8268                        	longa	on
  8269                        	longi	on
  8270 06:1E96: 3B           	tsc
  Sat Jul 10 2021  1:15                                                Page 156


  8271 06:1E97: 38           	sec
  8272 06:1E98: E9 00 00     	sbc	#L448
  8273 06:1E9B: 1B           	tcs
  8274 06:1E9C: 0B           	phd
  8275 06:1E9D: 5B           	tcd
  8276             00000004   left_0	set	4
  8277             00000006   top_0	set	6
  8278             00000008   right_0	set	8
  8279             0000000A   bottom_0	set	10
  8280             0000000C   color_0	set	12
  8281                        	.block	1054
  8282                        ;	
  8283                        ;}
  8284                        	.sym	left,4,5,6,16
  8285                        	.sym	top,6,5,6,16
  8286                        	.sym	right,8,5,6,16
  8287                        	.sym	bottom,10,5,6,16
  8288                        	.sym	color,12,14,6,8
  8289                        	.line	1056
  8290                        L451:
  8291 06:1E9E: A5 02        	lda	<L448+2
  8292 06:1EA0: 85 0C        	sta	<L448+2+10
  8293 06:1EA2: A5 01        	lda	<L448+1
  8294 06:1EA4: 85 0B        	sta	<L448+1+10
  8295 06:1EA6: 2B           	pld
  8296 06:1EA7: 3B           	tsc
  8297 06:1EA8: 18           	clc
  8298 06:1EA9: 69 0A 00     	adc	#L448+10
  8299 06:1EAC: 1B           	tcs
  8300 06:1EAD: 6B           	rtl
  8301                        	.endblock	1056
  8302             00000000   L448	equ	0
  8303             00000001   L449	equ	1
  8304 06:1EAE:              	ends
  8305                        	efunc
  8306                        	.endfunc	1056,1,0
  8307                        	.line	1056
  8308                        ;
  8309                        ;
  8310                        ;int k_put_draw_text(int col,int row,char FAR *tex
                    t,char color,char bcolor)
  8311                        ;{
  8312                        	.line	1059
  8313                        	.line	1060
  8314                        	GFX
  8315                        	xdef	~~k_put_draw_text
  8316                        	func
  8317                        	.function	1060
  8318                        ~~k_put_draw_text:
  8319                        	longa	on
  8320                        	longi	on
  8321 06:1EAE: 3B           	tsc
  8322 06:1EAF: 38           	sec
  8323 06:1EB0: E9 00 00     	sbc	#L452
  8324 06:1EB3: 1B           	tcs
  8325 06:1EB4: 0B           	phd
  8326 06:1EB5: 5B           	tcd
  8327             00000004   col_0	set	4
  Sat Jul 10 2021  1:15                                                Page 157


  8328             00000006   row_0	set	6
  8329             00000008   text_0	set	8
  8330             0000000C   color_0	set	12
  8331             0000000E   bcolor_0	set	14
  8332                        	.block	1060
  8333                        ;	return k_draw_text(text, row, col, color);
  8334                        	.sym	col,4,5,6,16
  8335                        	.sym	row,6,5,6,16
  8336                        	.sym	text,8,142,6,32
  8337                        	.sym	color,12,14,6,8
  8338                        	.sym	bcolor,14,14,6,8
  8339                        	.line	1061
  8340 06:1EB6: D4 0C        	pei	<L452+color_0
  8341 06:1EB8: D4 04        	pei	<L452+col_0
  8342 06:1EBA: D4 06        	pei	<L452+row_0
  8343 06:1EBC: D4 0A        	pei	<L452+text_0+2
  8344 06:1EBE: D4 08        	pei	<L452+text_0
  8345 06:1EC0: 22 D6 1E 06  	jsl	~~k_draw_text
  8346                        L455:
  8347 06:1EC4: A8           	tay
  8348 06:1EC5: A5 02        	lda	<L452+2
  8349 06:1EC7: 85 0E        	sta	<L452+2+12
  8350 06:1EC9: A5 01        	lda	<L452+1
  8351 06:1ECB: 85 0D        	sta	<L452+1+12
  8352 06:1ECD: 2B           	pld
  8353 06:1ECE: 3B           	tsc
  8354 06:1ECF: 18           	clc
  8355 06:1ED0: 69 0C 00     	adc	#L452+12
  8356 06:1ED3: 1B           	tcs
  8357 06:1ED4: 98           	tya
  8358 06:1ED5: 6B           	rtl
  8359                        ;}
  8360                        	.line	1062
  8361                        	.endblock	1062
  8362             00000000   L452	equ	0
  8363             00000001   L453	equ	1
  8364 06:1ED6:              	ends
  8365                        	efunc
  8366                        	.endfunc	1062,1,0
  8367                        	.line	1062
  8368                        ;
  8369                        ;int k_draw_text(char FAR *text,int row,int col,ch
                    ar color)
  8370                        ;{
  8371                        	.line	1064
  8372                        	.line	1065
  8373                        	GFX
  8374                        	xdef	~~k_draw_text
  8375                        	func
  8376                        	.function	1065
  8377                        ~~k_draw_text:
  8378                        	longa	on
  8379                        	longi	on
  8380 06:1ED6: 3B           	tsc
  8381 06:1ED7: 38           	sec
  8382 06:1ED8: E9 04 00     	sbc	#L456
  8383 06:1EDB: 1B           	tcs
  8384 06:1EDC: 0B           	phd
  Sat Jul 10 2021  1:15                                                Page 158


  8385 06:1EDD: 5B           	tcd
  8386             00000004   text_0	set	4
  8387             00000008   row_0	set	8
  8388             0000000A   col_0	set	10
  8389             0000000C   color_0	set	12
  8390                        	.block	1065
  8391                        ;	char FAR * ptr = (text);
  8392                        ;	while(*ptr)
  8393             00000000   ptr_1	set	0
  8394                        	.sym	ptr,0,142,1,32
  8395                        	.sym	text,4,142,6,32
  8396                        	.sym	row,8,5,6,16
  8397                        	.sym	col,10,5,6,16
  8398                        	.sym	color,12,14,6,8
  8399 06:1EDE: A5 08        	lda	<L456+text_0
  8400 06:1EE0: 85 01        	sta	<L457+ptr_1
  8401 06:1EE2: A5 0A        	lda	<L456+text_0+2
  8402 06:1EE4: 85 03        	sta	<L457+ptr_1+2
  8403                        	.line	1067
  8404                        L10067:
  8405 06:1EE6: A7 01        	lda	[<L457+ptr_1]
  8406 06:1EE8: 29 FF 00     	and	#$ff
  8407 06:1EEB: D0 03        	bne	L459
  8408 06:1EED: 82 18 00     	brl	L10068
  8409                        L459:
  8410                        ;	{
  8411                        	.line	1068
  8412                        ;		k_put_font(*ptr,col,row,color);
  8413                        	.line	1069
  8414 06:1EF0: D4 10        	pei	<L456+color_0
  8415 06:1EF2: D4 0C        	pei	<L456+row_0
  8416 06:1EF4: D4 0E        	pei	<L456+col_0
  8417 06:1EF6: A7 01        	lda	[<L457+ptr_1]
  8418 06:1EF8: 48           	pha
  8419 06:1EF9: 22 48 31 06  	jsl	~~k_put_font
  8420                        ;		col++;
  8421                        	.line	1070
  8422 06:1EFD: E6 0E        	inc	<L456+col_0
  8423                        ;		ptr++;
  8424                        	.line	1071
  8425 06:1EFF: E6 01        	inc	<L457+ptr_1
  8426 06:1F01: D0 02        	bne	L460
  8427 06:1F03: E6 03        	inc	<L457+ptr_1+2
  8428                        L460:
  8429                        ;	}
  8430                        	.line	1072
  8431 06:1F05: 82 DE FF     	brl	L10067
  8432                        L10068:
  8433                        ;	
  8434                        ;	return col;
  8435                        	.line	1074
  8436 06:1F08: A5 0E        	lda	<L456+col_0
  8437                        L461:
  8438 06:1F0A: A8           	tay
  8439 06:1F0B: A5 06        	lda	<L456+2
  8440 06:1F0D: 85 10        	sta	<L456+2+10
  8441 06:1F0F: A5 05        	lda	<L456+1
  8442 06:1F11: 85 0F        	sta	<L456+1+10
  Sat Jul 10 2021  1:15                                                Page 159


  8443 06:1F13: 2B           	pld
  8444 06:1F14: 3B           	tsc
  8445 06:1F15: 18           	clc
  8446 06:1F16: 69 0E 00     	adc	#L456+10
  8447 06:1F19: 1B           	tcs
  8448 06:1F1A: 98           	tya
  8449 06:1F1B: 6B           	rtl
  8450                        ;}
  8451                        	.line	1075
  8452                        	.endblock	1075
  8453             00000004   L456	equ	4
  8454             00000001   L457	equ	1
  8455 06:1F1C:              	ends
  8456                        	efunc
  8457                        	.endfunc	1075,1,4
  8458                        	.line	1075
  8459                        ;
  8460                        ;int k_draw_text_point_ex(LPCSTR text,int x,int y,
                    char color,UINT page)
  8461                        ;{
  8462                        	.line	1077
  8463                        	.line	1078
  8464                        	GFX
  8465                        	xdef	~~k_draw_text_point_ex
  8466                        	func
  8467                        	.function	1078
  8468                        ~~k_draw_text_point_ex:
  8469                        	longa	on
  8470                        	longi	on
  8471 06:1F1C: 3B           	tsc
  8472 06:1F1D: 38           	sec
  8473 06:1F1E: E9 12 00     	sbc	#L462
  8474 06:1F21: 1B           	tcs
  8475 06:1F22: 0B           	phd
  8476 06:1F23: 5B           	tcd
  8477             00000004   text_0	set	4
  8478             00000008   x_0	set	8
  8479             0000000A   y_0	set	10
  8480             0000000C   color_0	set	12
  8481             0000000E   page_0	set	14
  8482                        	.block	1078
  8483                        ;	int col = 0;
  8484                        ;	int width = 0;
  8485                        ;	int height = 0;
  8486                        ;	int dx = x;
  8487                        ;	int dy = y;
  8488                        ;
  8489                        ;	LPCSTR ptr = (text);
  8490                        ;
  8491                        ;	width  = Bm437ToshibaLCD8x8[0];
  8492             00000000   col_1	set	0
  8493             00000002   width_1	set	2
  8494             00000004   height_1	set	4
  8495             00000006   dx_1	set	6
  8496             00000008   dy_1	set	8
  8497             0000000A   ptr_1	set	10
  8498                        	.sym	col,0,5,1,16
  8499                        	.sym	width,2,5,1,16
  Sat Jul 10 2021  1:15                                                Page 160


  8500                        	.sym	height,4,5,1,16
  8501                        	.sym	dx,6,5,1,16
  8502                        	.sym	dy,8,5,1,16
  8503                        	.sym	ptr,10,142,1,32
  8504                        	.sym	text,4,142,6,32
  8505                        	.sym	x,8,5,6,16
  8506                        	.sym	y,10,5,6,16
  8507                        	.sym	color,12,14,6,8
  8508                        	.sym	page,14,16,6,16
  8509 06:1F24: 64 05        	stz	<L463+col_1
  8510 06:1F26: 64 07        	stz	<L463+width_1
  8511 06:1F28: 64 09        	stz	<L463+height_1
  8512 06:1F2A: A5 1A        	lda	<L462+x_0
  8513 06:1F2C: 85 0B        	sta	<L463+dx_1
  8514 06:1F2E: A5 1C        	lda	<L462+y_0
  8515 06:1F30: 85 0D        	sta	<L463+dy_1
  8516 06:1F32: A5 16        	lda	<L462+text_0
  8517 06:1F34: 85 0F        	sta	<L463+ptr_1
  8518 06:1F36: A5 18        	lda	<L462+text_0+2
  8519 06:1F38: 85 11        	sta	<L463+ptr_1+2
  8520                        	.line	1087
  8521 06:1F3A: AF xx xx xx  	lda	>~~Bm437ToshibaLCD8x8
  8522 06:1F3E: 29 FF 00     	and	#$ff
  8523 06:1F41: 85 07        	sta	<L463+width_1
  8524                        ;	height = Bm437ToshibaLCD8x8[1];
  8525                        	.line	1088
  8526 06:1F43: AF xx xx xx  	lda	>~~Bm437ToshibaLCD8x8+1
  8527 06:1F47: 29 FF 00     	and	#$ff
  8528 06:1F4A: 85 09        	sta	<L463+height_1
  8529                        ;
  8530                        ;
  8531                        ;	ptr = (text);
  8532                        	.line	1091
  8533 06:1F4C: A5 16        	lda	<L462+text_0
  8534 06:1F4E: 85 0F        	sta	<L463+ptr_1
  8535 06:1F50: A5 18        	lda	<L462+text_0+2
  8536 06:1F52: 85 11        	sta	<L463+ptr_1+2
  8537                        ;	while(*ptr)
  8538                        	.line	1092
  8539                        L10069:
  8540 06:1F54: A7 0F        	lda	[<L463+ptr_1]
  8541 06:1F56: 29 FF 00     	and	#$ff
  8542 06:1F59: D0 03        	bne	L465
  8543 06:1F5B: 82 69 00     	brl	L10070
  8544                        L465:
  8545                        ;	{
  8546                        	.line	1093
  8547                        ;		if(*ptr == 0x0D)
  8548                        	.line	1094
  8549                        ;		{
  8550 06:1F5E: E2 20        	sep	#$20
  8551                        	longa	off
  8552 06:1F60: A7 0F        	lda	[<L463+ptr_1]
  8553 06:1F62: C9 0D        	cmp	#<$d
  8554 06:1F64: C2 20        	rep	#$20
  8555                        	longa	on
  8556 06:1F66: F0 03        	beq	L466
  8557 06:1F68: 82 07 00     	brl	L10071
  Sat Jul 10 2021  1:15                                                Page 161


  8558                        L466:
  8559                        	.line	1095
  8560                        ;			dx = x;
  8561                        	.line	1096
  8562 06:1F6B: A5 1A        	lda	<L462+x_0
  8563 06:1F6D: 85 0B        	sta	<L463+dx_1
  8564                        ;		}
  8565                        	.line	1097
  8566                        ;		else if(*ptr == 0x0A)
  8567 06:1F6F: 82 3F 00     	brl	L10072
  8568                        L10071:
  8569                        	.line	1098
  8570                        ;		{
  8571 06:1F72: E2 20        	sep	#$20
  8572                        	longa	off
  8573 06:1F74: A7 0F        	lda	[<L463+ptr_1]
  8574 06:1F76: C9 0A        	cmp	#<$a
  8575 06:1F78: C2 20        	rep	#$20
  8576                        	longa	on
  8577 06:1F7A: F0 03        	beq	L467
  8578 06:1F7C: 82 10 00     	brl	L10073
  8579                        L467:
  8580                        	.line	1099
  8581                        ;			dy+=FONTH;
  8582                        	.line	1100
  8583 06:1F7F: 22 F1 81 06  	jsl	~~k_font_getFontHeight
  8584 06:1F83: 85 01        	sta	<R0
  8585 06:1F85: 18           	clc
  8586 06:1F86: A5 01        	lda	<R0
  8587 06:1F88: 65 0D        	adc	<L463+dy_1
  8588 06:1F8A: 85 0D        	sta	<L463+dy_1
  8589                        ;		}
  8590                        	.line	1101
  8591                        ;		else
  8592 06:1F8C: 82 22 00     	brl	L10074
  8593                        L10073:
  8594                        ;		{
  8595                        	.line	1103
  8596                        ;			dx+=k_put_binary_variablefont_po
                    int_ex( (LPCHAR)&Bm437ToshibaLCD8x8[2] , *ptr,dx,dy,width,he
                    ight,color,page);
  8597                        	.line	1104
  8598 06:1F8F: D4 20        	pei	<L462+page_0
  8599 06:1F91: D4 1E        	pei	<L462+color_0
  8600 06:1F93: D4 09        	pei	<L463+height_1
  8601 06:1F95: D4 07        	pei	<L463+width_1
  8602 06:1F97: D4 0D        	pei	<L463+dy_1
  8603 06:1F99: D4 0B        	pei	<L463+dx_1
  8604 06:1F9B: A7 0F        	lda	[<L463+ptr_1]
  8605 06:1F9D: 48           	pha
  8606 06:1F9E: F4 xx xx     	pea	#^~~Bm437ToshibaLCD8x8+2
  8607 06:1FA1: F4 xx xx     	pea	#<~~Bm437ToshibaLCD8x8+2
  8608 06:1FA4: 22 A7 29 06  	jsl	~~k_put_binary_variablefont_point_ex
  8609 06:1FA8: 85 01        	sta	<R0
  8610 06:1FAA: 18           	clc
  8611 06:1FAB: A5 01        	lda	<R0
  8612 06:1FAD: 65 0B        	adc	<L463+dx_1
  8613 06:1FAF: 85 0B        	sta	<L463+dx_1
  Sat Jul 10 2021  1:15                                                Page 162


  8614                        ;		}
  8615                        	.line	1105
  8616                        L10074:
  8617                        L10072:
  8618                        ;		ptr++;
  8619                        	.line	1106
  8620 06:1FB1: E6 0F        	inc	<L463+ptr_1
  8621 06:1FB3: D0 02        	bne	L468
  8622 06:1FB5: E6 11        	inc	<L463+ptr_1+2
  8623                        L468:
  8624                        ;		col+=FONTW;
  8625                        	.line	1107
  8626 06:1FB7: 22 06 82 06  	jsl	~~k_font_getFontWidth
  8627 06:1FBB: 85 01        	sta	<R0
  8628 06:1FBD: 18           	clc
  8629 06:1FBE: A5 01        	lda	<R0
  8630 06:1FC0: 65 05        	adc	<L463+col_1
  8631 06:1FC2: 85 05        	sta	<L463+col_1
  8632                        ;	}
  8633                        	.line	1108
  8634 06:1FC4: 82 8D FF     	brl	L10069
  8635                        L10070:
  8636                        ;
  8637                        ;	return col;
  8638                        	.line	1110
  8639 06:1FC7: A5 05        	lda	<L463+col_1
  8640                        L469:
  8641 06:1FC9: A8           	tay
  8642 06:1FCA: A5 14        	lda	<L462+2
  8643 06:1FCC: 85 20        	sta	<L462+2+12
  8644 06:1FCE: A5 13        	lda	<L462+1
  8645 06:1FD0: 85 1F        	sta	<L462+1+12
  8646 06:1FD2: 2B           	pld
  8647 06:1FD3: 3B           	tsc
  8648 06:1FD4: 18           	clc
  8649 06:1FD5: 69 1E 00     	adc	#L462+12
  8650 06:1FD8: 1B           	tcs
  8651 06:1FD9: 98           	tya
  8652 06:1FDA: 6B           	rtl
  8653                        ;}
  8654                        	.line	1111
  8655                        	.endblock	1111
  8656             00000012   L462	equ	18
  8657             00000005   L463	equ	5
  8658 06:1FDB:              	ends
  8659                        	efunc
  8660                        	.endfunc	1111,5,18
  8661                        	.line	1111
  8662                        ;
  8663                        ;
  8664                        ;
  8665                        ;int k_draw_text_point(LPCSTR text,int x,int y,cha
                    r color)
  8666                        ;{
  8667                        	.line	1115
  8668                        	.line	1116
  8669                        	GFX
  8670                        	xdef	~~k_draw_text_point
  Sat Jul 10 2021  1:15                                                Page 163


  8671                        	func
  8672                        	.function	1116
  8673                        ~~k_draw_text_point:
  8674                        	longa	on
  8675                        	longi	on
  8676 06:1FDB: 3B           	tsc
  8677 06:1FDC: 38           	sec
  8678 06:1FDD: E9 0E 00     	sbc	#L470
  8679 06:1FE0: 1B           	tcs
  8680 06:1FE1: 0B           	phd
  8681 06:1FE2: 5B           	tcd
  8682             00000004   text_0	set	4
  8683             00000008   x_0	set	8
  8684             0000000A   y_0	set	10
  8685             0000000C   color_0	set	12
  8686                        	.block	1116
  8687                        ;	int col = 0;
  8688                        ;	int width = 0;
  8689                        ;	int height = 0;
  8690                        ;
  8691                        ;	LPCSTR ptr = (text);
  8692                        ;	
  8693                        ;	width  = Bm437ToshibaLCD8x8[0];
  8694             00000000   col_1	set	0
  8695             00000002   width_1	set	2
  8696             00000004   height_1	set	4
  8697             00000006   ptr_1	set	6
  8698                        	.sym	col,0,5,1,16
  8699                        	.sym	width,2,5,1,16
  8700                        	.sym	height,4,5,1,16
  8701                        	.sym	ptr,6,142,1,32
  8702                        	.sym	text,4,142,6,32
  8703                        	.sym	x,8,5,6,16
  8704                        	.sym	y,10,5,6,16
  8705                        	.sym	color,12,14,6,8
  8706 06:1FE3: 64 05        	stz	<L471+col_1
  8707 06:1FE5: 64 07        	stz	<L471+width_1
  8708 06:1FE7: 64 09        	stz	<L471+height_1
  8709 06:1FE9: A5 12        	lda	<L470+text_0
  8710 06:1FEB: 85 0B        	sta	<L471+ptr_1
  8711 06:1FED: A5 14        	lda	<L470+text_0+2
  8712 06:1FEF: 85 0D        	sta	<L471+ptr_1+2
  8713                        	.line	1123
  8714 06:1FF1: AF xx xx xx  	lda	>~~Bm437ToshibaLCD8x8
  8715 06:1FF5: 29 FF 00     	and	#$ff
  8716 06:1FF8: 85 07        	sta	<L471+width_1
  8717                        ;	height = Bm437ToshibaLCD8x8[1];
  8718                        	.line	1124
  8719 06:1FFA: AF xx xx xx  	lda	>~~Bm437ToshibaLCD8x8+1
  8720 06:1FFE: 29 FF 00     	and	#$ff
  8721 06:2001: 85 09        	sta	<L471+height_1
  8722                        ;
  8723                        ;
  8724                        ;	ptr = (text);
  8725                        	.line	1127
  8726 06:2003: A5 12        	lda	<L470+text_0
  8727 06:2005: 85 0B        	sta	<L471+ptr_1
  8728 06:2007: A5 14        	lda	<L470+text_0+2
  Sat Jul 10 2021  1:15                                                Page 164


  8729 06:2009: 85 0D        	sta	<L471+ptr_1+2
  8730                        ;	while(*ptr)
  8731                        	.line	1128
  8732                        L10075:
  8733 06:200B: A7 0B        	lda	[<L471+ptr_1]
  8734 06:200D: 29 FF 00     	and	#$ff
  8735 06:2010: D0 03        	bne	L473
  8736 06:2012: 82 36 00     	brl	L10076
  8737                        L473:
  8738                        ;	{
  8739                        	.line	1129
  8740                        ;		//x+=k_put_font_point(*ptr,x,y,color);
  8741                        ;
  8742                        ;		//x+=k_put_binary_font_point( Bm437Toshi
                    baLCD8x8 , *ptr,x,y,color);
  8743                        ;		//x+=k_put_binary_font_point( Bm437Amstr
                    adPC1512_2y , *ptr,x,y,color);
  8744                        ;
  8745                        ;		x+=k_put_binary_variablefont_point( (LPC
                    HAR)&Bm437ToshibaLCD8x8[2] , *ptr,x,y,width,height,color);
  8746                        	.line	1135
  8747 06:2015: D4 1A        	pei	<L470+color_0
  8748 06:2017: D4 09        	pei	<L471+height_1
  8749 06:2019: D4 07        	pei	<L471+width_1
  8750 06:201B: D4 18        	pei	<L470+y_0
  8751 06:201D: D4 16        	pei	<L470+x_0
  8752 06:201F: A7 0B        	lda	[<L471+ptr_1]
  8753 06:2021: 48           	pha
  8754 06:2022: F4 xx xx     	pea	#^~~Bm437ToshibaLCD8x8+2
  8755 06:2025: F4 xx xx     	pea	#<~~Bm437ToshibaLCD8x8+2
  8756 06:2028: 22 AD 28 06  	jsl	~~k_put_binary_variablefont_point
  8757 06:202C: 85 01        	sta	<R0
  8758 06:202E: 18           	clc
  8759 06:202F: A5 01        	lda	<R0
  8760 06:2031: 65 16        	adc	<L470+x_0
  8761 06:2033: 85 16        	sta	<L470+x_0
  8762                        ;
  8763                        ;		ptr++;
  8764                        	.line	1137
  8765 06:2035: E6 0B        	inc	<L471+ptr_1
  8766 06:2037: D0 02        	bne	L474
  8767 06:2039: E6 0D        	inc	<L471+ptr_1+2
  8768                        L474:
  8769                        ;		col+=FONTW;
  8770                        	.line	1138
  8771 06:203B: 22 06 82 06  	jsl	~~k_font_getFontWidth
  8772 06:203F: 85 01        	sta	<R0
  8773 06:2041: 18           	clc
  8774 06:2042: A5 01        	lda	<R0
  8775 06:2044: 65 05        	adc	<L471+col_1
  8776 06:2046: 85 05        	sta	<L471+col_1
  8777                        ;	}
  8778                        	.line	1139
  8779 06:2048: 82 C0 FF     	brl	L10075
  8780                        L10076:
  8781                        ;	
  8782                        ;	return col;
  8783                        	.line	1141
  Sat Jul 10 2021  1:15                                                Page 165


  8784 06:204B: A5 05        	lda	<L471+col_1
  8785                        L475:
  8786 06:204D: A8           	tay
  8787 06:204E: A5 10        	lda	<L470+2
  8788 06:2050: 85 1A        	sta	<L470+2+10
  8789 06:2052: A5 0F        	lda	<L470+1
  8790 06:2054: 85 19        	sta	<L470+1+10
  8791 06:2056: 2B           	pld
  8792 06:2057: 3B           	tsc
  8793 06:2058: 18           	clc
  8794 06:2059: 69 18 00     	adc	#L470+10
  8795 06:205C: 1B           	tcs
  8796 06:205D: 98           	tya
  8797 06:205E: 6B           	rtl
  8798                        ;}
  8799                        	.line	1142
  8800                        	.endblock	1142
  8801             0000000E   L470	equ	14
  8802             00000005   L471	equ	5
  8803 06:205F:              	ends
  8804                        	efunc
  8805                        	.endfunc	1142,5,14
  8806                        	.line	1142
  8807                        ;
  8808                        ;int k_gui_DrawText(HWND hWnd,LPCSTR text,HFONT ch
                    arSet,UINT style,PRECT prect,char color,UINT page)
  8809                        ;{
  8810                        	.line	1144
  8811                        	.line	1145
  8812                        	GFX
  8813                        	xdef	~~k_gui_DrawText
  8814                        	func
  8815                        	.function	1145
  8816                        ~~k_gui_DrawText:
  8817                        	longa	on
  8818                        	longi	on
  8819 06:205F: 3B           	tsc
  8820 06:2060: 38           	sec
  8821 06:2061: E9 26 00     	sbc	#L476
  8822 06:2064: 1B           	tcs
  8823 06:2065: 0B           	phd
  8824 06:2066: 5B           	tcd
  8825             00000004   hWnd_0	set	4
  8826             00000008   text_0	set	8
  8827             0000000C   charSet_0	set	12
  8828             00000010   style_0	set	16
  8829             00000012   prect_0	set	18
  8830             00000016   color_0	set	22
  8831             00000018   page_0	set	24
  8832                        	.block	1145
  8833                        ;	int col 	= 0;
  8834                        ;	int fwidth 	= 0;
  8835                        ;	int fheight = 0;
  8836                        ;	int xmax 	= 0;
  8837                        ;	int ymax 	= 0;
  8838                        ;
  8839                        ;	int dx = 0;
  8840                        ;	int dy = 0;
  Sat Jul 10 2021  1:15                                                Page 166


  8841                        ;	int e;
  8842                        ;	int emax;
  8843                        ;	LPCHAR ptr = NULL;
  8844                        ;	LPCHAR fptr = (LPCHAR)(&((LPSTR)charSet)[2]);
  8845                        ;	PWINDOW pWin = (PWINDOW)hWnd;
  8846                        ;	//k_debug_pointer("k_draw_text_rect charSet:",(L
                    PVOID)charSet);
  8847                        ;
  8848                        ;	fwidth  = (INT)(((INT)((LPSTR)charSet)[0]) & 0x0
                    0FF);
  8849             00000000   col_1	set	0
  8850             00000002   fwidth_1	set	2
  8851             00000004   fheight_1	set	4
  8852             00000006   xmax_1	set	6
  8853             00000008   ymax_1	set	8
  8854             0000000A   dx_1	set	10
  8855             0000000C   dy_1	set	12
  8856             0000000E   e_1	set	14
  8857             00000010   emax_1	set	16
  8858             00000012   ptr_1	set	18
  8859             00000016   fptr_1	set	22
  8860             0000001A   pWin_1	set	26
  8861                        	.sym	col,0,5,1,16
  8862                        	.sym	fwidth,2,5,1,16
  8863                        	.sym	fheight,4,5,1,16
  8864                        	.sym	xmax,6,5,1,16
  8865                        	.sym	ymax,8,5,1,16
  8866                        	.sym	dx,10,5,1,16
  8867                        	.sym	dy,12,5,1,16
  8868                        	.sym	e,14,5,1,16
  8869                        	.sym	emax,16,5,1,16
  8870                        	.sym	ptr,18,142,1,32
  8871                        	.sym	fptr,22,142,1,32
  8872                        	.sym	pWin,26,138,1,32,33
  8873                        	.sym	hWnd,4,129,6,32
  8874                        	.sym	text,8,142,6,32
  8875                        	.sym	charSet,12,129,6,32
  8876                        	.sym	style,16,16,6,16
  8877                        	.sym	prect,18,138,6,32,26
  8878                        	.sym	color,22,14,6,8
  8879                        	.sym	page,24,16,6,16
  8880 06:2067: 64 09        	stz	<L477+col_1
  8881 06:2069: 64 0B        	stz	<L477+fwidth_1
  8882 06:206B: 64 0D        	stz	<L477+fheight_1
  8883 06:206D: 64 0F        	stz	<L477+xmax_1
  8884 06:206F: 64 11        	stz	<L477+ymax_1
  8885 06:2071: 64 13        	stz	<L477+dx_1
  8886 06:2073: 64 15        	stz	<L477+dy_1
  8887 06:2075: 64 1B        	stz	<L477+ptr_1
  8888 06:2077: 64 1D        	stz	<L477+ptr_1+2
  8889 06:2079: 18           	clc
  8890 06:207A: A9 02 00     	lda	#$2
  8891 06:207D: 65 32        	adc	<L476+charSet_0
  8892 06:207F: 85 1F        	sta	<L477+fptr_1
  8893 06:2081: A9 00 00     	lda	#$0
  8894 06:2084: 65 34        	adc	<L476+charSet_0+2
  8895 06:2086: 85 21        	sta	<L477+fptr_1+2
  8896 06:2088: A5 2A        	lda	<L476+hWnd_0
  Sat Jul 10 2021  1:15                                                Page 167


  8897 06:208A: 85 23        	sta	<L477+pWin_1
  8898 06:208C: A5 2C        	lda	<L476+hWnd_0+2
  8899 06:208E: 85 25        	sta	<L477+pWin_1+2
  8900                        	.line	1161
  8901 06:2090: A7 32        	lda	[<L476+charSet_0]
  8902 06:2092: 29 FF 00     	and	#<$ff
  8903 06:2095: 85 0B        	sta	<L477+fwidth_1
  8904                        ;	fheight = (INT)(((INT)((LPSTR)charSet)[1]) & 0x0
                    0FF);
  8905                        	.line	1162
  8906 06:2097: A0 01 00     	ldy	#$1
  8907 06:209A: B7 32        	lda	[<L476+charSet_0],Y
  8908 06:209C: 29 FF 00     	and	#<$ff
  8909 06:209F: 85 0D        	sta	<L477+fheight_1
  8910                        ;
  8911                        ;	e    = (style & DTS_ELLIPSES);
  8912                        	.line	1164
  8913 06:20A1: A5 36        	lda	<L476+style_0
  8914 06:20A3: 29 01 00     	and	#<$1
  8915 06:20A6: 85 17        	sta	<L477+e_1
  8916                        ;	dx    = prect->x;
  8917                        	.line	1165
  8918 06:20A8: A7 38        	lda	[<L476+prect_0]
  8919 06:20AA: 85 13        	sta	<L477+dx_1
  8920                        ;	dy    = prect->y;
  8921                        	.line	1166
  8922 06:20AC: A0 02 00     	ldy	#$2
  8923 06:20AF: B7 38        	lda	[<L476+prect_0],Y
  8924 06:20B1: 85 15        	sta	<L477+dy_1
  8925                        ;	emax = 2 * fwidth;
  8926                        	.line	1167
  8927 06:20B3: A5 0B        	lda	<L477+fwidth_1
  8928 06:20B5: 0A           	asl	A
  8929 06:20B6: 85 19        	sta	<L477+emax_1
  8930                        ;	xmax = prect->x + prect->width - 1;
  8931                        	.line	1168
  8932 06:20B8: 18           	clc
  8933 06:20B9: A7 38        	lda	[<L476+prect_0]
  8934 06:20BB: A0 08 00     	ldy	#$8
  8935 06:20BE: 77 38        	adc	[<L476+prect_0],Y
  8936 06:20C0: 85 01        	sta	<R0
  8937 06:20C2: 18           	clc
  8938 06:20C3: A9 FF FF     	lda	#$ffff
  8939 06:20C6: 65 01        	adc	<R0
  8940 06:20C8: 85 0F        	sta	<L477+xmax_1
  8941                        ;	ymax = (pWin->clientRect.y + pWin->clientRect.he
                    ight) - 1;
  8942                        	.line	1169
  8943 06:20CA: 18           	clc
  8944 06:20CB: A0 2C 00     	ldy	#$2c
  8945 06:20CE: B7 23        	lda	[<L477+pWin_1],Y
  8946 06:20D0: A0 34 00     	ldy	#$34
  8947 06:20D3: 77 23        	adc	[<L477+pWin_1],Y
  8948 06:20D5: 85 01        	sta	<R0
  8949 06:20D7: 18           	clc
  8950 06:20D8: A9 FF FF     	lda	#$ffff
  8951 06:20DB: 65 01        	adc	<R0
  8952 06:20DD: 85 11        	sta	<L477+ymax_1
  Sat Jul 10 2021  1:15                                                Page 168


  8953                        ;
  8954                        ;	//k_debug_strings("k_draw_text_point_with_font:f
                    ont text:",(LPSTR)text);
  8955                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont x:",dx);
  8956                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont y:",dy);
  8957                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont xmax:",xmax);
  8958                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont ymax:",ymax);
  8959                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont fwidth:",fwidth);
  8960                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont fheight:",fheight);
  8961                        ;
  8962                        ;
  8963                        ;	if(((prect->y + FONTH) >= ymax) && !(style & DTS
                    _NOCLIP))
  8964                        	.line	1180
  8965                        ;		return -1;
  8966 06:20DF: 22 F1 81 06  	jsl	~~k_font_getFontHeight
  8967 06:20E3: 85 01        	sta	<R0
  8968 06:20E5: 18           	clc
  8969 06:20E6: A5 01        	lda	<R0
  8970 06:20E8: A0 02 00     	ldy	#$2
  8971 06:20EB: 77 38        	adc	[<L476+prect_0],Y
  8972 06:20ED: 85 05        	sta	<R1
  8973 06:20EF: A5 05        	lda	<R1
  8974 06:20F1: C5 11        	cmp	<L477+ymax_1
  8975 06:20F3: B0 03        	bcs	L479
  8976 06:20F5: 82 1F 00     	brl	L10077
  8977                        L479:
  8978 06:20F8: A5 36        	lda	<L476+style_0
  8979 06:20FA: 29 08 00     	and	#<$8
  8980 06:20FD: F0 03        	beq	L480
  8981 06:20FF: 82 15 00     	brl	L10077
  8982                        L480:
  8983                        	.line	1181
  8984 06:2102: A9 FF FF     	lda	#$ffff
  8985                        L481:
  8986 06:2105: A8           	tay
  8987 06:2106: A5 28        	lda	<L476+2
  8988 06:2108: 85 3E        	sta	<L476+2+22
  8989 06:210A: A5 27        	lda	<L476+1
  8990 06:210C: 85 3D        	sta	<L476+1+22
  8991 06:210E: 2B           	pld
  8992 06:210F: 3B           	tsc
  8993 06:2110: 18           	clc
  8994 06:2111: 69 3C 00     	adc	#L476+22
  8995 06:2114: 1B           	tcs
  8996 06:2115: 98           	tya
  8997 06:2116: 6B           	rtl
  8998                        ;
  8999                        ;
  9000                        ;	if(style & DTS_RIGHTJUSTIFY)
  9001                        L10077:
  9002                        	.line	1184
  Sat Jul 10 2021  1:15                                                Page 169


  9003                        ;	{
  9004 06:2117: A5 36        	lda	<L476+style_0
  9005 06:2119: 29 02 00     	and	#<$2
  9006 06:211C: D0 03        	bne	L482
  9007 06:211E: 82 7A 00     	brl	L10078
  9008                        L482:
  9009                        	.line	1185
  9010                        ;		dx = xmax - fwidth;
  9011                        	.line	1186
  9012 06:2121: 38           	sec
  9013 06:2122: A5 0F        	lda	<L477+xmax_1
  9014 06:2124: E5 0B        	sbc	<L477+fwidth_1
  9015 06:2126: 85 13        	sta	<L477+dx_1
  9016                        ;
  9017                        ;		ptr = (LPSTR)&text[strlen(text)];
  9018                        	.line	1188
  9019 06:2128: D4 30        	pei	<L476+text_0+2
  9020 06:212A: D4 2E        	pei	<L476+text_0
  9021 06:212C: 22 xx xx xx  	jsl	~~strlen
  9022 06:2130: 85 01        	sta	<R0
  9023 06:2132: A5 01        	lda	<R0
  9024 06:2134: 85 01        	sta	<R0
  9025 06:2136: 64 03        	stz	<R0+2
  9026 06:2138: 18           	clc
  9027 06:2139: A5 2E        	lda	<L476+text_0
  9028 06:213B: 65 01        	adc	<R0
  9029 06:213D: 85 1B        	sta	<L477+ptr_1
  9030 06:213F: A5 30        	lda	<L476+text_0+2
  9031 06:2141: 65 03        	adc	<R0+2
  9032 06:2143: 85 1D        	sta	<L477+ptr_1+2
  9033                        ;		while(ptr >= text)
  9034                        	.line	1189
  9035                        L10079:
  9036 06:2145: A5 1B        	lda	<L477+ptr_1
  9037 06:2147: C5 2E        	cmp	<L476+text_0
  9038 06:2149: A5 1D        	lda	<L477+ptr_1+2
  9039 06:214B: E5 30        	sbc	<L476+text_0+2
  9040 06:214D: B0 03        	bcs	L483
  9041 06:214F: 82 46 00     	brl	L10080
  9042                        L483:
  9043                        ;		{
  9044                        	.line	1190
  9045                        ;			dx-=k_put_binary_variablefont_po
                    int_ex( fptr,*ptr,dx,prect->y,fwidth,fheight,color,page);
  9046                        	.line	1191
  9047 06:2152: D4 3E        	pei	<L476+page_0
  9048 06:2154: D4 3C        	pei	<L476+color_0
  9049 06:2156: D4 0D        	pei	<L477+fheight_1
  9050 06:2158: D4 0B        	pei	<L477+fwidth_1
  9051 06:215A: A0 02 00     	ldy	#$2
  9052 06:215D: B7 38        	lda	[<L476+prect_0],Y
  9053 06:215F: 48           	pha
  9054 06:2160: D4 13        	pei	<L477+dx_1
  9055 06:2162: A7 1B        	lda	[<L477+ptr_1]
  9056 06:2164: 48           	pha
  9057 06:2165: D4 21        	pei	<L477+fptr_1+2
  9058 06:2167: D4 1F        	pei	<L477+fptr_1
  9059 06:2169: 22 A7 29 06  	jsl	~~k_put_binary_variablefont_point_ex
  Sat Jul 10 2021  1:15                                                Page 170


  9060 06:216D: 85 01        	sta	<R0
  9061 06:216F: 38           	sec
  9062 06:2170: A5 13        	lda	<L477+dx_1
  9063 06:2172: E5 01        	sbc	<R0
  9064 06:2174: 85 13        	sta	<L477+dx_1
  9065                        ;			if(dx < prect->x)
  9066                        	.line	1192
  9067                        ;				break;
  9068 06:2176: 38           	sec
  9069 06:2177: A5 13        	lda	<L477+dx_1
  9070 06:2179: E7 38        	sbc	[<L476+prect_0]
  9071 06:217B: 70 03        	bvs	L484
  9072 06:217D: 49 00 80     	eor	#$8000
  9073                        L484:
  9074 06:2180: 30 03        	bmi	L485
  9075 06:2182: 82 13 00     	brl	L10080
  9076                        L485:
  9077                        ;
  9078                        ;			ptr--;
  9079                        	.line	1195
  9080 06:2185: A5 1B        	lda	<L477+ptr_1
  9081 06:2187: D0 02        	bne	L486
  9082 06:2189: C6 1D        	dec	<L477+ptr_1+2
  9083                        L486:
  9084 06:218B: C6 1B        	dec	<L477+ptr_1
  9085                        ;			col+=8;
  9086                        	.line	1196
  9087 06:218D: 18           	clc
  9088 06:218E: A9 08 00     	lda	#$8
  9089 06:2191: 65 09        	adc	<L477+col_1
  9090 06:2193: 85 09        	sta	<L477+col_1
  9091                        ;		}
  9092                        	.line	1197
  9093 06:2195: 82 AD FF     	brl	L10079
  9094                        L10080:
  9095                        ;	}
  9096                        	.line	1198
  9097                        ;	else
  9098 06:2198: 82 BA 00     	brl	L10081
  9099                        L10078:
  9100                        ;	{
  9101                        	.line	1200
  9102                        ;		ptr = (LPCHAR)(text);
  9103                        	.line	1201
  9104 06:219B: A5 2E        	lda	<L476+text_0
  9105 06:219D: 85 1B        	sta	<L477+ptr_1
  9106 06:219F: A5 30        	lda	<L476+text_0+2
  9107 06:21A1: 85 1D        	sta	<L477+ptr_1+2
  9108                        ;		while(*ptr)
  9109                        	.line	1202
  9110                        L10082:
  9111 06:21A3: A7 1B        	lda	[<L477+ptr_1]
  9112 06:21A5: 29 FF 00     	and	#$ff
  9113 06:21A8: D0 03        	bne	L487
  9114 06:21AA: 82 A8 00     	brl	L10083
  9115                        L487:
  9116                        ;		{
  9117                        	.line	1203
  Sat Jul 10 2021  1:15                                                Page 171


  9118                        ;			if(*ptr == 0x0D)
  9119                        	.line	1204
  9120                        ;			{
  9121 06:21AD: E2 20        	sep	#$20
  9122                        	longa	off
  9123 06:21AF: A7 1B        	lda	[<L477+ptr_1]
  9124 06:21B1: C9 0D        	cmp	#<$d
  9125 06:21B3: C2 20        	rep	#$20
  9126                        	longa	on
  9127 06:21B5: F0 03        	beq	L488
  9128 06:21B7: 82 07 00     	brl	L10084
  9129                        L488:
  9130                        	.line	1205
  9131                        ;				dx = prect->x;
  9132                        	.line	1206
  9133 06:21BA: A7 38        	lda	[<L476+prect_0]
  9134 06:21BC: 85 13        	sta	<L477+dx_1
  9135                        ;			}
  9136                        	.line	1207
  9137                        ;			else if(*ptr == 0x0A)
  9138 06:21BE: 82 59 00     	brl	L10085
  9139                        L10084:
  9140                        	.line	1208
  9141                        ;			{
  9142 06:21C1: E2 20        	sep	#$20
  9143                        	longa	off
  9144 06:21C3: A7 1B        	lda	[<L477+ptr_1]
  9145 06:21C5: C9 0A        	cmp	#<$a
  9146 06:21C7: C2 20        	rep	#$20
  9147                        	longa	on
  9148 06:21C9: F0 03        	beq	L489
  9149 06:21CB: 82 0E 00     	brl	L10086
  9150                        L489:
  9151                        	.line	1209
  9152                        ;				dy+=fheight;
  9153                        	.line	1210
  9154 06:21CE: 18           	clc
  9155 06:21CF: A5 15        	lda	<L477+dy_1
  9156 06:21D1: 65 0D        	adc	<L477+fheight_1
  9157 06:21D3: 85 15        	sta	<L477+dy_1
  9158                        ;				dx = prect->x;
  9159                        	.line	1211
  9160 06:21D5: A7 38        	lda	[<L476+prect_0]
  9161 06:21D7: 85 13        	sta	<L477+dx_1
  9162                        ;			}
  9163                        	.line	1212
  9164                        ;			else
  9165 06:21D9: 82 3E 00     	brl	L10087
  9166                        L10086:
  9167                        ;			{
  9168                        	.line	1214
  9169                        ;				if(dx < xmax && dy < yma
                    x)
  9170                        	.line	1215
  9171                        ;					dx+=k_put_binary
                    _variablefont_point_ex( fptr,*ptr,dx,dy,fwidth,fheight,color
                    ,page);
  9172 06:21DC: 38           	sec
  Sat Jul 10 2021  1:15                                                Page 172


  9173 06:21DD: A5 13        	lda	<L477+dx_1
  9174 06:21DF: E5 0F        	sbc	<L477+xmax_1
  9175 06:21E1: 70 03        	bvs	L490
  9176 06:21E3: 49 00 80     	eor	#$8000
  9177                        L490:
  9178 06:21E6: 10 03        	bpl	L491
  9179 06:21E8: 82 2F 00     	brl	L10088
  9180                        L491:
  9181 06:21EB: 38           	sec
  9182 06:21EC: A5 15        	lda	<L477+dy_1
  9183 06:21EE: E5 11        	sbc	<L477+ymax_1
  9184 06:21F0: 70 03        	bvs	L492
  9185 06:21F2: 49 00 80     	eor	#$8000
  9186                        L492:
  9187 06:21F5: 10 03        	bpl	L493
  9188 06:21F7: 82 20 00     	brl	L10088
  9189                        L493:
  9190                        	.line	1216
  9191 06:21FA: D4 3E        	pei	<L476+page_0
  9192 06:21FC: D4 3C        	pei	<L476+color_0
  9193 06:21FE: D4 0D        	pei	<L477+fheight_1
  9194 06:2200: D4 0B        	pei	<L477+fwidth_1
  9195 06:2202: D4 15        	pei	<L477+dy_1
  9196 06:2204: D4 13        	pei	<L477+dx_1
  9197 06:2206: A7 1B        	lda	[<L477+ptr_1]
  9198 06:2208: 48           	pha
  9199 06:2209: D4 21        	pei	<L477+fptr_1+2
  9200 06:220B: D4 1F        	pei	<L477+fptr_1
  9201 06:220D: 22 A7 29 06  	jsl	~~k_put_binary_variablefont_point_ex
  9202 06:2211: 85 01        	sta	<R0
  9203 06:2213: 18           	clc
  9204 06:2214: A5 01        	lda	<R0
  9205 06:2216: 65 13        	adc	<L477+dx_1
  9206 06:2218: 85 13        	sta	<L477+dx_1
  9207                        ;			}
  9208                        L10088:
  9209                        	.line	1217
  9210                        L10087:
  9211                        L10085:
  9212                        ;
  9213                        ;			//x+=k_put_binary_variablefont_p
                    oint_ex( fptr,*ptr,x,prect->y,fwidth,fheight,color,page);
  9214                        ;			//if(dx > xmax)
  9215                        ;			//	break;
  9216                        ;
  9217                        ;			if(dy > ymax)
  9218                        	.line	1223
  9219                        ;			{
  9220 06:221A: 38           	sec
  9221 06:221B: A5 11        	lda	<L477+ymax_1
  9222 06:221D: E5 15        	sbc	<L477+dy_1
  9223 06:221F: 70 03        	bvs	L494
  9224 06:2221: 49 00 80     	eor	#$8000
  9225                        L494:
  9226 06:2224: 10 03        	bpl	L495
  9227 06:2226: 82 1B 00     	brl	L10089
  9228                        L495:
  9229                        	.line	1224
  Sat Jul 10 2021  1:15                                                Page 173


  9230                        ;				k_debug_integer("k_draw_
                    text_point_with_font:font ymax:",ymax);
  9231                        	.line	1225
  9232 06:2229: D4 11        	pei	<L477+ymax_1
  9233 06:222B: F4 xx xx     	pea	#^L83
  9234 06:222E: F4 xx xx     	pea	#<L83
  9235 06:2231: 22 xx xx xx  	jsl	~~k_debug_integer
  9236                        ;				k_debug_integer("k_draw_
                    text_point_with_font:font dy@max:",dy);
  9237                        	.line	1226
  9238 06:2235: D4 15        	pei	<L477+dy_1
  9239 06:2237: F4 xx xx     	pea	#^L83+39
  9240 06:223A: F4 xx xx     	pea	#<L83+39
  9241 06:223D: 22 xx xx xx  	jsl	~~k_debug_integer
  9242                        ;				break;
  9243                        	.line	1227
  9244 06:2241: 82 11 00     	brl	L10083
  9245                        ;			}
  9246                        	.line	1228
  9247                        ;
  9248                        ;			ptr++;
  9249                        L10089:
  9250                        	.line	1230
  9251 06:2244: E6 1B        	inc	<L477+ptr_1
  9252 06:2246: D0 02        	bne	L496
  9253 06:2248: E6 1D        	inc	<L477+ptr_1+2
  9254                        L496:
  9255                        ;			col+=8;
  9256                        	.line	1231
  9257 06:224A: 18           	clc
  9258 06:224B: A9 08 00     	lda	#$8
  9259 06:224E: 65 09        	adc	<L477+col_1
  9260 06:2250: 85 09        	sta	<L477+col_1
  9261                        ;		}
  9262                        	.line	1232
  9263 06:2252: 82 4E FF     	brl	L10082
  9264                        L10083:
  9265                        ;	}
  9266                        	.line	1233
  9267                        L10081:
  9268                        ;
  9269                        ;
  9270                        ;	return col;
  9271                        	.line	1236
  9272 06:2255: A5 09        	lda	<L477+col_1
  9273 06:2257: 82 AB FE     	brl	L481
  9274                        ;}
  9275                        	.line	1237
  9276                        	.endblock	1237
  9277             00000026   L476	equ	38
  9278             00000009   L477	equ	9
  9279 06:225A:              	ends
  9280                        	efunc
  9281                        	.endfunc	1237,9,38
  9282                        	.line	1237
  9283                        	data
  9284                        L83:
  9285 00:07D6: 6B 5F 64 72  	db	$6B,$5F,$64,$72,$61,$77,$5F,$74,$65,$78,
  Sat Jul 10 2021  1:15                                                Page 174


                    $74,$5F,$70,$6F,$69
       00:07DA: 61 77 5F 74 
       00:07DE: 65 78 74 5F 
       00:07E2: 70 6F 69 
  9286 00:07E5: 6E 74 5F 77  	db	$6E,$74,$5F,$77,$69,$74,$68,$5F,$66,$6F,
                    $6E,$74,$3A,$66,$6F
       00:07E9: 69 74 68 5F 
       00:07ED: 66 6F 6E 74 
       00:07F1: 3A 66 6F 
  9287 00:07F4: 6E 74 20 79  	db	$6E,$74,$20,$79,$6D,$61,$78,$3A,$00,$6B,
                    $5F,$64,$72,$61,$77
       00:07F8: 6D 61 78 3A 
       00:07FC: 00 6B 5F 64 
       00:0800: 72 61 77 
  9288 00:0803: 5F 74 65 78  	db	$5F,$74,$65,$78,$74,$5F,$70,$6F,$69,$6E,
                    $74,$5F,$77,$69,$74
       00:0807: 74 5F 70 6F 
       00:080B: 69 6E 74 5F 
       00:080F: 77 69 74 
  9289 00:0812: 68 5F 66 6F  	db	$68,$5F,$66,$6F,$6E,$74,$3A,$66,$6F,$6E,
                    $74,$20,$64,$79,$40
       00:0816: 6E 74 3A 66 
       00:081A: 6F 6E 74 20 
       00:081E: 64 79 40 
  9290 00:0821: 6D 61 78 3A  	db	$6D,$61,$78,$3A,$00
       00:0825: 00 
  9291 00:0826:              	ends
  9292                        ;
  9293                        ;
  9294                        ;
  9295                        ;int k_draw_text_point_with_font_ex(LPCSTR text,LP
                    CSTR charSet,int x,int y,char color,UINT page)
  9296                        ;{
  9297                        	.line	1241
  9298                        	.line	1242
  9299                        	GFX
  9300                        	xdef	~~k_draw_text_point_with_font_ex
  9301                        	func
  9302                        	.function	1242
  9303                        ~~k_draw_text_point_with_font_ex:
  9304                        	longa	on
  9305                        	longi	on
  9306 06:225A: 3B           	tsc
  9307 06:225B: 38           	sec
  9308 06:225C: E9 12 00     	sbc	#L498
  9309 06:225F: 1B           	tcs
  9310 06:2260: 0B           	phd
  9311 06:2261: 5B           	tcd
  9312             00000004   text_0	set	4
  9313             00000008   charSet_0	set	8
  9314             0000000C   x_0	set	12
  9315             0000000E   y_0	set	14
  9316             00000010   color_0	set	16
  9317             00000012   page_0	set	18
  9318                        	.block	1242
  9319                        ;	int col = 0;
  9320                        ;	int width = 0;
  9321                        ;	int height = 0;
  Sat Jul 10 2021  1:15                                                Page 175


  9322                        ;
  9323                        ;	LPCHAR ptr = NULL;
  9324                        ;
  9325                        ;	//k_debug_pointer("k_draw_text_point_with_font:f
                    ont charSet:",(LPVOID)charSet);
  9326                        ;
  9327                        ;	width  = (INT)(((INT)charSet[0]) & 0x00FF);
  9328             00000000   col_1	set	0
  9329             00000002   width_1	set	2
  9330             00000004   height_1	set	4
  9331             00000006   ptr_1	set	6
  9332                        	.sym	col,0,5,1,16
  9333                        	.sym	width,2,5,1,16
  9334                        	.sym	height,4,5,1,16
  9335                        	.sym	ptr,6,142,1,32
  9336                        	.sym	text,4,142,6,32
  9337                        	.sym	charSet,8,142,6,32
  9338                        	.sym	x,12,5,6,16
  9339                        	.sym	y,14,5,6,16
  9340                        	.sym	color,16,14,6,8
  9341                        	.sym	page,18,16,6,16
  9342 06:2262: 64 09        	stz	<L499+col_1
  9343 06:2264: 64 0B        	stz	<L499+width_1
  9344 06:2266: 64 0D        	stz	<L499+height_1
  9345 06:2268: 64 0F        	stz	<L499+ptr_1
  9346 06:226A: 64 11        	stz	<L499+ptr_1+2
  9347                        	.line	1251
  9348 06:226C: A7 1A        	lda	[<L498+charSet_0]
  9349 06:226E: 29 FF 00     	and	#<$ff
  9350 06:2271: 85 0B        	sta	<L499+width_1
  9351                        ;	height = (INT)(((INT)charSet[1]) & 0x00FF);
  9352                        	.line	1252
  9353 06:2273: A0 01 00     	ldy	#$1
  9354 06:2276: B7 1A        	lda	[<L498+charSet_0],Y
  9355 06:2278: 29 FF 00     	and	#<$ff
  9356 06:227B: 85 0D        	sta	<L499+height_1
  9357                        ;
  9358                        ;
  9359                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont x:",x);
  9360                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont y:",y);
  9361                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont width:",width);
  9362                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont height:",height);
  9363                        ;
  9364                        ;
  9365                        ;	ptr = (LPCHAR)(text);
  9366                        	.line	1261
  9367 06:227D: A5 16        	lda	<L498+text_0
  9368 06:227F: 85 0F        	sta	<L499+ptr_1
  9369 06:2281: A5 18        	lda	<L498+text_0+2
  9370 06:2283: 85 11        	sta	<L499+ptr_1+2
  9371                        ;	while(*ptr)
  9372                        	.line	1262
  9373                        L10090:
  9374 06:2285: A7 0F        	lda	[<L499+ptr_1]
  Sat Jul 10 2021  1:15                                                Page 176


  9375 06:2287: 29 FF 00     	and	#$ff
  9376 06:228A: D0 03        	bne	L501
  9377 06:228C: 82 40 00     	brl	L10091
  9378                        L501:
  9379                        ;	{
  9380                        	.line	1263
  9381                        ;		//x+=k_put_font_point(*ptr,x,y,color);
  9382                        ;
  9383                        ;		x+=k_put_binary_variablefont_point_ex( (
                    LPCHAR)&charSet[2] , *ptr,x,y,width,height,color,page);
  9384                        	.line	1266
  9385 06:228F: D4 24        	pei	<L498+page_0
  9386 06:2291: D4 22        	pei	<L498+color_0
  9387 06:2293: D4 0D        	pei	<L499+height_1
  9388 06:2295: D4 0B        	pei	<L499+width_1
  9389 06:2297: D4 20        	pei	<L498+y_0
  9390 06:2299: D4 1E        	pei	<L498+x_0
  9391 06:229B: A7 0F        	lda	[<L499+ptr_1]
  9392 06:229D: 48           	pha
  9393 06:229E: 18           	clc
  9394 06:229F: A9 02 00     	lda	#$2
  9395 06:22A2: 65 1A        	adc	<L498+charSet_0
  9396 06:22A4: 85 01        	sta	<R0
  9397 06:22A6: A9 00 00     	lda	#$0
  9398 06:22A9: 65 1C        	adc	<L498+charSet_0+2
  9399 06:22AB: 85 03        	sta	<R0+2
  9400 06:22AD: D4 03        	pei	<R0+2
  9401 06:22AF: D4 01        	pei	<R0
  9402 06:22B1: 22 A7 29 06  	jsl	~~k_put_binary_variablefont_point_ex
  9403 06:22B5: 85 05        	sta	<R1
  9404 06:22B7: 18           	clc
  9405 06:22B8: A5 05        	lda	<R1
  9406 06:22BA: 65 1E        	adc	<L498+x_0
  9407 06:22BC: 85 1E        	sta	<L498+x_0
  9408                        ;		//x+=k_put_binary_font_point( Bm437Amstr
                    adPC1512_2y , *ptr,x,y,color);
  9409                        ;
  9410                        ;		ptr++;
  9411                        	.line	1269
  9412 06:22BE: E6 0F        	inc	<L499+ptr_1
  9413 06:22C0: D0 02        	bne	L502
  9414 06:22C2: E6 11        	inc	<L499+ptr_1+2
  9415                        L502:
  9416                        ;		col+=8;
  9417                        	.line	1270
  9418 06:22C4: 18           	clc
  9419 06:22C5: A9 08 00     	lda	#$8
  9420 06:22C8: 65 09        	adc	<L499+col_1
  9421 06:22CA: 85 09        	sta	<L499+col_1
  9422                        ;	}
  9423                        	.line	1271
  9424 06:22CC: 82 B6 FF     	brl	L10090
  9425                        L10091:
  9426                        ;
  9427                        ;	return col;
  9428                        	.line	1273
  9429 06:22CF: A5 09        	lda	<L499+col_1
  9430                        L503:
  Sat Jul 10 2021  1:15                                                Page 177


  9431 06:22D1: A8           	tay
  9432 06:22D2: A5 14        	lda	<L498+2
  9433 06:22D4: 85 24        	sta	<L498+2+16
  9434 06:22D6: A5 13        	lda	<L498+1
  9435 06:22D8: 85 23        	sta	<L498+1+16
  9436 06:22DA: 2B           	pld
  9437 06:22DB: 3B           	tsc
  9438 06:22DC: 18           	clc
  9439 06:22DD: 69 22 00     	adc	#L498+16
  9440 06:22E0: 1B           	tcs
  9441 06:22E1: 98           	tya
  9442 06:22E2: 6B           	rtl
  9443                        ;}
  9444                        	.line	1274
  9445                        	.endblock	1274
  9446             00000012   L498	equ	18
  9447             00000009   L499	equ	9
  9448 06:22E3:              	ends
  9449                        	efunc
  9450                        	.endfunc	1274,9,18
  9451                        	.line	1274
  9452                        ;
  9453                        ;int k_draw_text_point_with_font(LPCSTR text,LPCST
                    R charSet,int x,int y,char color)
  9454                        ;{
  9455                        	.line	1276
  9456                        	.line	1277
  9457                        	GFX
  9458                        	xdef	~~k_draw_text_point_with_font
  9459                        	func
  9460                        	.function	1277
  9461                        ~~k_draw_text_point_with_font:
  9462                        	longa	on
  9463                        	longi	on
  9464 06:22E3: 3B           	tsc
  9465 06:22E4: 38           	sec
  9466 06:22E5: E9 12 00     	sbc	#L504
  9467 06:22E8: 1B           	tcs
  9468 06:22E9: 0B           	phd
  9469 06:22EA: 5B           	tcd
  9470             00000004   text_0	set	4
  9471             00000008   charSet_0	set	8
  9472             0000000C   x_0	set	12
  9473             0000000E   y_0	set	14
  9474             00000010   color_0	set	16
  9475                        	.block	1277
  9476                        ;	int col = 0;
  9477                        ;	int width = 0;
  9478                        ;	int height = 0;
  9479                        ;
  9480                        ;	LPCHAR ptr = NULL;
  9481                        ;
  9482                        ;	//k_debug_pointer("k_draw_text_point_with_font:f
                    ont charSet:",(LPVOID)charSet);
  9483                        ;
  9484                        ;	width  = charSet[0];
  9485             00000000   col_1	set	0
  9486             00000002   width_1	set	2
  Sat Jul 10 2021  1:15                                                Page 178


  9487             00000004   height_1	set	4
  9488             00000006   ptr_1	set	6
  9489                        	.sym	col,0,5,1,16
  9490                        	.sym	width,2,5,1,16
  9491                        	.sym	height,4,5,1,16
  9492                        	.sym	ptr,6,142,1,32
  9493                        	.sym	text,4,142,6,32
  9494                        	.sym	charSet,8,142,6,32
  9495                        	.sym	x,12,5,6,16
  9496                        	.sym	y,14,5,6,16
  9497                        	.sym	color,16,14,6,8
  9498 06:22EB: 64 09        	stz	<L505+col_1
  9499 06:22ED: 64 0B        	stz	<L505+width_1
  9500 06:22EF: 64 0D        	stz	<L505+height_1
  9501 06:22F1: 64 0F        	stz	<L505+ptr_1
  9502 06:22F3: 64 11        	stz	<L505+ptr_1+2
  9503                        	.line	1286
  9504 06:22F5: A7 1A        	lda	[<L504+charSet_0]
  9505 06:22F7: 29 FF 00     	and	#$ff
  9506 06:22FA: 85 0B        	sta	<L505+width_1
  9507                        ;	height = charSet[1];
  9508                        	.line	1287
  9509 06:22FC: A0 01 00     	ldy	#$1
  9510 06:22FF: B7 1A        	lda	[<L504+charSet_0],Y
  9511 06:2301: 29 FF 00     	and	#$ff
  9512 06:2304: 85 0D        	sta	<L505+height_1
  9513                        ;
  9514                        ;
  9515                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont width:",width);
  9516                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont height:",height);
  9517                        ;
  9518                        ;
  9519                        ;	ptr = (LPCHAR)(text);
  9520                        	.line	1294
  9521 06:2306: A5 16        	lda	<L504+text_0
  9522 06:2308: 85 0F        	sta	<L505+ptr_1
  9523 06:230A: A5 18        	lda	<L504+text_0+2
  9524 06:230C: 85 11        	sta	<L505+ptr_1+2
  9525                        ;	while(*ptr)
  9526                        	.line	1295
  9527                        L10092:
  9528 06:230E: A7 0F        	lda	[<L505+ptr_1]
  9529 06:2310: 29 FF 00     	and	#$ff
  9530 06:2313: D0 03        	bne	L507
  9531 06:2315: 82 3E 00     	brl	L10093
  9532                        L507:
  9533                        ;	{
  9534                        	.line	1296
  9535                        ;		//x+=k_put_font_point(*ptr,x,y,color);
  9536                        ;
  9537                        ;		x+=k_put_binary_variablefont_point( (LPC
                    HAR)&charSet[2] , *ptr,x,y,width,height,color);
  9538                        	.line	1299
  9539 06:2318: D4 22        	pei	<L504+color_0
  9540 06:231A: D4 0D        	pei	<L505+height_1
  9541 06:231C: D4 0B        	pei	<L505+width_1
  Sat Jul 10 2021  1:15                                                Page 179


  9542 06:231E: D4 20        	pei	<L504+y_0
  9543 06:2320: D4 1E        	pei	<L504+x_0
  9544 06:2322: A7 0F        	lda	[<L505+ptr_1]
  9545 06:2324: 48           	pha
  9546 06:2325: 18           	clc
  9547 06:2326: A9 02 00     	lda	#$2
  9548 06:2329: 65 1A        	adc	<L504+charSet_0
  9549 06:232B: 85 01        	sta	<R0
  9550 06:232D: A9 00 00     	lda	#$0
  9551 06:2330: 65 1C        	adc	<L504+charSet_0+2
  9552 06:2332: 85 03        	sta	<R0+2
  9553 06:2334: D4 03        	pei	<R0+2
  9554 06:2336: D4 01        	pei	<R0
  9555 06:2338: 22 AD 28 06  	jsl	~~k_put_binary_variablefont_point
  9556 06:233C: 85 05        	sta	<R1
  9557 06:233E: 18           	clc
  9558 06:233F: A5 05        	lda	<R1
  9559 06:2341: 65 1E        	adc	<L504+x_0
  9560 06:2343: 85 1E        	sta	<L504+x_0
  9561                        ;		//x+=k_put_binary_font_point( Bm437Amstr
                    adPC1512_2y , *ptr,x,y,color);
  9562                        ;
  9563                        ;		ptr++;
  9564                        	.line	1302
  9565 06:2345: E6 0F        	inc	<L505+ptr_1
  9566 06:2347: D0 02        	bne	L508
  9567 06:2349: E6 11        	inc	<L505+ptr_1+2
  9568                        L508:
  9569                        ;		col+=8;
  9570                        	.line	1303
  9571 06:234B: 18           	clc
  9572 06:234C: A9 08 00     	lda	#$8
  9573 06:234F: 65 09        	adc	<L505+col_1
  9574 06:2351: 85 09        	sta	<L505+col_1
  9575                        ;	}
  9576                        	.line	1304
  9577 06:2353: 82 B8 FF     	brl	L10092
  9578                        L10093:
  9579                        ;
  9580                        ;	return col;
  9581                        	.line	1306
  9582 06:2356: A5 09        	lda	<L505+col_1
  9583                        L509:
  9584 06:2358: A8           	tay
  9585 06:2359: A5 14        	lda	<L504+2
  9586 06:235B: 85 22        	sta	<L504+2+14
  9587 06:235D: A5 13        	lda	<L504+1
  9588 06:235F: 85 21        	sta	<L504+1+14
  9589 06:2361: 2B           	pld
  9590 06:2362: 3B           	tsc
  9591 06:2363: 18           	clc
  9592 06:2364: 69 20 00     	adc	#L504+14
  9593 06:2367: 1B           	tcs
  9594 06:2368: 98           	tya
  9595 06:2369: 6B           	rtl
  9596                        ;}
  9597                        	.line	1307
  9598                        	.endblock	1307
  Sat Jul 10 2021  1:15                                                Page 180


  9599             00000012   L504	equ	18
  9600             00000009   L505	equ	9
  9601 06:236A:              	ends
  9602                        	efunc
  9603                        	.endfunc	1307,9,18
  9604                        	.line	1307
  9605                        ;
  9606                        ;
  9607                        ;int k_draw_text_scaled(char FAR *text,int row,int
                     col,char color,int scale)
  9608                        ;{
  9609                        	.line	1310
  9610                        	.line	1311
  9611                        	GFX
  9612                        	xdef	~~k_draw_text_scaled
  9613                        	func
  9614                        	.function	1311
  9615                        ~~k_draw_text_scaled:
  9616                        	longa	on
  9617                        	longi	on
  9618 06:236A: 3B           	tsc
  9619 06:236B: 38           	sec
  9620 06:236C: E9 04 00     	sbc	#L510
  9621 06:236F: 1B           	tcs
  9622 06:2370: 0B           	phd
  9623 06:2371: 5B           	tcd
  9624             00000004   text_0	set	4
  9625             00000008   row_0	set	8
  9626             0000000A   col_0	set	10
  9627             0000000C   color_0	set	12
  9628             0000000E   scale_0	set	14
  9629                        	.block	1311
  9630                        ;	char FAR * ptr = (text);
  9631                        ;	while(*ptr)
  9632             00000000   ptr_1	set	0
  9633                        	.sym	ptr,0,142,1,32
  9634                        	.sym	text,4,142,6,32
  9635                        	.sym	row,8,5,6,16
  9636                        	.sym	col,10,5,6,16
  9637                        	.sym	color,12,14,6,8
  9638                        	.sym	scale,14,5,6,16
  9639 06:2372: A5 08        	lda	<L510+text_0
  9640 06:2374: 85 01        	sta	<L511+ptr_1
  9641 06:2376: A5 0A        	lda	<L510+text_0+2
  9642 06:2378: 85 03        	sta	<L511+ptr_1+2
  9643                        	.line	1313
  9644                        L10094:
  9645 06:237A: A7 01        	lda	[<L511+ptr_1]
  9646 06:237C: 29 FF 00     	and	#$ff
  9647 06:237F: D0 03        	bne	L513
  9648 06:2381: 82 1A 00     	brl	L10095
  9649                        L513:
  9650                        ;	{
  9651                        	.line	1314
  9652                        ;		k_put_font_scaled(*ptr,col,row,color,sca
                    le);
  9653                        	.line	1315
  9654 06:2384: D4 12        	pei	<L510+scale_0
  Sat Jul 10 2021  1:15                                                Page 181


  9655 06:2386: D4 10        	pei	<L510+color_0
  9656 06:2388: D4 0C        	pei	<L510+row_0
  9657 06:238A: D4 0E        	pei	<L510+col_0
  9658 06:238C: A7 01        	lda	[<L511+ptr_1]
  9659 06:238E: 48           	pha
  9660 06:238F: 22 DD 32 06  	jsl	~~k_put_font_scaled
  9661                        ;		col++;
  9662                        	.line	1316
  9663 06:2393: E6 0E        	inc	<L510+col_0
  9664                        ;		ptr++;
  9665                        	.line	1317
  9666 06:2395: E6 01        	inc	<L511+ptr_1
  9667 06:2397: D0 02        	bne	L514
  9668 06:2399: E6 03        	inc	<L511+ptr_1+2
  9669                        L514:
  9670                        ;	}
  9671                        	.line	1318
  9672 06:239B: 82 DC FF     	brl	L10094
  9673                        L10095:
  9674                        ;	
  9675                        ;	return col;
  9676                        	.line	1320
  9677 06:239E: A5 0E        	lda	<L510+col_0
  9678                        L515:
  9679 06:23A0: A8           	tay
  9680 06:23A1: A5 06        	lda	<L510+2
  9681 06:23A3: 85 12        	sta	<L510+2+12
  9682 06:23A5: A5 05        	lda	<L510+1
  9683 06:23A7: 85 11        	sta	<L510+1+12
  9684 06:23A9: 2B           	pld
  9685 06:23AA: 3B           	tsc
  9686 06:23AB: 18           	clc
  9687 06:23AC: 69 10 00     	adc	#L510+12
  9688 06:23AF: 1B           	tcs
  9689 06:23B0: 98           	tya
  9690 06:23B1: 6B           	rtl
  9691                        ;}
  9692                        	.line	1321
  9693                        	.endblock	1321
  9694             00000004   L510	equ	4
  9695             00000001   L511	equ	1
  9696 06:23B2:              	ends
  9697                        	efunc
  9698                        	.endfunc	1321,1,4
  9699                        	.line	1321
  9700                        ;
  9701                        ;int k_get_font_metrics(FONTMETRIC FAR *metric)
  9702                        ;{
  9703                        	.line	1323
  9704                        	.line	1324
  9705                        	GFX
  9706                        	xdef	~~k_get_font_metrics
  9707                        	func
  9708                        	.function	1324
  9709                        ~~k_get_font_metrics:
  9710                        	longa	on
  9711                        	longi	on
  9712 06:23B2: 3B           	tsc
  Sat Jul 10 2021  1:15                                                Page 182


  9713 06:23B3: 38           	sec
  9714 06:23B4: E9 00 00     	sbc	#L516
  9715 06:23B7: 1B           	tcs
  9716 06:23B8: 0B           	phd
  9717 06:23B9: 5B           	tcd
  9718             00000004   metric_0	set	4
  9719                        	.block	1324
  9720                        ;	metric->width  = FONTW;
  9721                        	.sym	metric,4,138,6,32,35
  9722                        	.line	1325
  9723 06:23BA: 22 06 82 06  	jsl	~~k_font_getFontWidth
  9724 06:23BE: 87 04        	sta	[<L516+metric_0]
  9725                        ;	metric->height = FONTH;
  9726                        	.line	1326
  9727 06:23C0: 22 F1 81 06  	jsl	~~k_font_getFontHeight
  9728 06:23C4: A0 02 00     	ldy	#$2
  9729 06:23C7: 97 04        	sta	[<L516+metric_0],Y
  9730                        ;	
  9731                        ;	return sizeof(FONTMETRIC);
  9732                        	.line	1328
  9733 06:23C9: A9 04 00     	lda	#$4
  9734                        L519:
  9735 06:23CC: A8           	tay
  9736 06:23CD: A5 02        	lda	<L516+2
  9737 06:23CF: 85 06        	sta	<L516+2+4
  9738 06:23D1: A5 01        	lda	<L516+1
  9739 06:23D3: 85 05        	sta	<L516+1+4
  9740 06:23D5: 2B           	pld
  9741 06:23D6: 3B           	tsc
  9742 06:23D7: 18           	clc
  9743 06:23D8: 69 04 00     	adc	#L516+4
  9744 06:23DB: 1B           	tcs
  9745 06:23DC: 98           	tya
  9746 06:23DD: 6B           	rtl
  9747                        ;}
  9748                        	.line	1329
  9749                        	.endblock	1329
  9750             00000000   L516	equ	0
  9751             00000001   L517	equ	1
  9752 06:23DE:              	ends
  9753                        	efunc
  9754                        	.endfunc	1329,1,0
  9755                        	.line	1329
  9756                        ;
  9757                        ;int k_put_font_point(char outChar,int cx,int cy,c
                    har color)
  9758                        ;{
  9759                        	.line	1331
  9760                        	.line	1332
  9761                        	GFX
  9762                        	xdef	~~k_put_font_point
  9763                        	func
  9764                        	.function	1332
  9765                        ~~k_put_font_point:
  9766                        	longa	on
  9767                        	longi	on
  9768 06:23DE: 3B           	tsc
  9769 06:23DF: 38           	sec
  Sat Jul 10 2021  1:15                                                Page 183


  9770 06:23E0: E9 1D 00     	sbc	#L520
  9771 06:23E3: 1B           	tcs
  9772 06:23E4: 0B           	phd
  9773 06:23E5: 5B           	tcd
  9774             00000004   outChar_0	set	4
  9775             00000006   cx_0	set	6
  9776             00000008   cy_0	set	8
  9777             0000000A   color_0	set	10
  9778                        	.block	1332
  9779                        ;	int x = 0;
  9780                        ;	int y = 0;
  9781                        ;	int textX = cx;
  9782                        ;	int textY = cy;
  9783                        ;
  9784                        ;	char FAR* img = NULL;//fontImg[ix];
  9785                        ;
  9786                        ;	outChar = toupper(outChar); // fix this so we ca
                    n to lower case
  9787             00000000   x_1	set	0
  9788             00000002   y_1	set	2
  9789             00000004   textX_1	set	4
  9790             00000006   textY_1	set	6
  9791             00000008   img_1	set	8
  9792                        	.sym	x,0,5,1,16
  9793                        	.sym	y,2,5,1,16
  9794                        	.sym	textX,4,5,1,16
  9795                        	.sym	textY,6,5,1,16
  9796                        	.sym	img,8,142,1,32
  9797                        	.sym	outChar,4,14,6,8
  9798                        	.sym	cx,6,5,6,16
  9799                        	.sym	cy,8,5,6,16
  9800                        	.sym	color,10,14,6,8
  9801 06:23E6: 64 11        	stz	<L521+x_1
  9802 06:23E8: 64 13        	stz	<L521+y_1
  9803 06:23EA: A5 23        	lda	<L520+cx_0
  9804 06:23EC: 85 15        	sta	<L521+textX_1
  9805 06:23EE: A5 25        	lda	<L520+cy_0
  9806 06:23F0: 85 17        	sta	<L521+textY_1
  9807 06:23F2: 64 19        	stz	<L521+img_1
  9808 06:23F4: 64 1B        	stz	<L521+img_1+2
  9809                        	.line	1340
  9810 06:23F6: A5 21        	lda	<L520+outChar_0
  9811 06:23F8: 29 FF 00     	and	#$ff
  9812 06:23FB: 48           	pha
  9813 06:23FC: 22 xx xx xx  	jsl	~~toupper
  9814 06:2400: E2 20        	sep	#$20
  9815                        	longa	off
  9816 06:2402: 85 21        	sta	<L520+outChar_0
  9817 06:2404: C2 20        	rep	#$20
  9818                        	longa	on
  9819                        ;
  9820                        ;    if(outChar == 32)
  9821                        	.line	1342
  9822                        ;	{
  9823 06:2406: E2 20        	sep	#$20
  9824                        	longa	off
  9825 06:2408: A5 21        	lda	<L520+outChar_0
  9826 06:240A: C9 20        	cmp	#<$20
  Sat Jul 10 2021  1:15                                                Page 184


  9827 06:240C: C2 20        	rep	#$20
  9828                        	longa	on
  9829 06:240E: F0 03        	beq	L523
  9830 06:2410: 82 07 00     	brl	L10096
  9831                        L523:
  9832                        	.line	1343
  9833                        ;	   img = NULL;//fontSpace;
  9834                        	.line	1344
  9835 06:2413: 64 19        	stz	<L521+img_1
  9836 06:2415: 64 1B        	stz	<L521+img_1+2
  9837                        ;    }
  9838                        	.line	1345
  9839                        ;    else
  9840 06:2417: 82 5B 00     	brl	L10097
  9841                        L10096:
  9842                        ;	{
  9843                        	.line	1347
  9844                        ;	    img = fontImg[(int)characterROMMapping[(int)
                    (outChar & 0xFF)]];
  9845                        	.line	1348
  9846 06:241A: A5 21        	lda	<L520+outChar_0
  9847 06:241C: 29 FF 00     	and	#<$ff
  9848 06:241F: 85 09        	sta	<R2
  9849 06:2421: A0 00 00     	ldy	#$0
  9850 06:2424: A5 09        	lda	<R2
  9851 06:2426: 10 01        	bpl	L524
  9852 06:2428: 88           	dey
  9853                        L524:
  9854 06:2429: 85 09        	sta	<R2
  9855 06:242B: 84 0B        	sty	<R2+2
  9856 06:242D: D4 0B        	pei	<R2+2
  9857 06:242F: D4 09        	pei	<R2
  9858 06:2431: A9 01 00     	lda	#$1
  9859                        	xref	~~~lasl
  9860 06:2434: 22 xx xx xx  	jsl	~~~lasl
  9861 06:2438: 85 05        	sta	<R1
  9862 06:243A: 86 07        	stx	<R1+2
  9863 06:243C: 18           	clc
  9864 06:243D: A9 xx xx     	lda	#<~~characterROMMapping
  9865 06:2440: 65 05        	adc	<R1
  9866 06:2442: 85 0D        	sta	<R3
  9867 06:2444: A9 xx xx     	lda	#^~~characterROMMapping
  9868 06:2447: 65 07        	adc	<R1+2
  9869 06:2449: 85 0F        	sta	<R3+2
  9870 06:244B: A0 00 00     	ldy	#$0
  9871 06:244E: A7 0D        	lda	[<R3]
  9872 06:2450: 10 01        	bpl	L525
  9873 06:2452: 88           	dey
  9874                        L525:
  9875 06:2453: 85 05        	sta	<R1
  9876 06:2455: 84 07        	sty	<R1+2
  9877 06:2457: D4 07        	pei	<R1+2
  9878 06:2459: D4 05        	pei	<R1
  9879 06:245B: A9 06 00     	lda	#$6
  9880                        	xref	~~~lasl
  9881 06:245E: 22 xx xx xx  	jsl	~~~lasl
  9882 06:2462: 85 01        	sta	<R0
  9883 06:2464: 86 03        	stx	<R0+2
  Sat Jul 10 2021  1:15                                                Page 185


  9884 06:2466: 18           	clc
  9885 06:2467: A9 xx xx     	lda	#<~~fontImg
  9886 06:246A: 65 01        	adc	<R0
  9887 06:246C: 85 19        	sta	<L521+img_1
  9888 06:246E: A9 xx xx     	lda	#^~~fontImg
  9889 06:2471: 65 03        	adc	<R0+2
  9890 06:2473: 85 1B        	sta	<L521+img_1+2
  9891                        ;	}
  9892                        	.line	1349
  9893                        L10097:
  9894                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
  9895                        ;
  9896                        ;	// get the font 'image'
  9897                        ;        //char *img = fontImg[ix]; 
  9898                        ;        // loop through pixel rows
  9899                        ;	if(img!=NULL)
  9900                        	.line	1355
  9901                        ;	{
  9902 06:2475: A5 19        	lda	<L521+img_1
  9903 06:2477: 05 1B        	ora	<L521+img_1+2
  9904 06:2479: D0 03        	bne	L526
  9905 06:247B: 82 91 00     	brl	L10098
  9906                        L526:
  9907                        	.line	1356
  9908                        ;		for (y = 0; y < FONTH; y++) 
  9909                        	.line	1357
  9910 06:247E: 64 13        	stz	<L521+y_1
  9911 06:2480: 82 7D 00     	brl	L10102
  9912                        L10101:
  9913                        ;		{
  9914                        	.line	1358
  9915                        ;			// loop through pixel columns
  9916                        ;			for (x = 0; x < FONTW; x++) 
  9917                        	.line	1360
  9918 06:2483: 64 11        	stz	<L521+x_1
  9919 06:2485: 82 67 00     	brl	L10106
  9920                        L10105:
  9921                        ;			{
  9922                        	.line	1361
  9923                        ;				// get the pixel value
  9924                        ;				char b = img[y * FONTW +
                     x];
  9925                        ;				if (b > 0) 
  9926                        	.block	1364
  9927             0000000C   b_2	set	12
  9928                        	.sym	b,12,14,1,8
  9929 06:2488: 22 06 82 06  	jsl	~~k_font_getFontWidth
  9930 06:248C: 85 01        	sta	<R0
  9931 06:248E: A5 01        	lda	<R0
  9932 06:2490: A6 13        	ldx	<L521+y_1
  9933                        	xref	~~~mul
  9934 06:2492: 22 xx xx xx  	jsl	~~~mul
  9935 06:2496: 85 01        	sta	<R0
  9936 06:2498: 18           	clc
  9937 06:2499: A5 01        	lda	<R0
  9938 06:249B: 65 11        	adc	<L521+x_1
  9939 06:249D: 85 05        	sta	<R1
  Sat Jul 10 2021  1:15                                                Page 186


  9940 06:249F: E2 20        	sep	#$20
  9941                        	longa	off
  9942 06:24A1: A4 05        	ldy	<R1
  9943 06:24A3: B7 19        	lda	[<L521+img_1],Y
  9944 06:24A5: 85 1D        	sta	<L521+b_2
  9945 06:24A7: C2 20        	rep	#$20
  9946                        	longa	on
  9947                        	.line	1364
  9948                        ;				{ // plot the pixel
  9949 06:24A9: E2 20        	sep	#$20
  9950                        	longa	off
  9951 06:24AB: A9 00        	lda	#$0
  9952 06:24AD: C5 1D        	cmp	<L521+b_2
  9953 06:24AF: C2 20        	rep	#$20
  9954                        	longa	on
  9955 06:24B1: 90 03        	bcc	L528
  9956 06:24B3: 82 37 00     	brl	L10107
  9957                        L528:
  9958                        	.line	1365
  9959                        ;					k_draw_pixel(tex
                    tX + x, textY + y, color);
  9960                        	.line	1366
  9961 06:24B6: D4 27        	pei	<L520+color_0
  9962 06:24B8: 18           	clc
  9963 06:24B9: A5 17        	lda	<L521+textY_1
  9964 06:24BB: 65 13        	adc	<L521+y_1
  9965 06:24BD: 85 01        	sta	<R0
  9966 06:24BF: A0 00 00     	ldy	#$0
  9967 06:24C2: A5 01        	lda	<R0
  9968 06:24C4: 10 01        	bpl	L529
  9969 06:24C6: 88           	dey
  9970                        L529:
  9971 06:24C7: 85 01        	sta	<R0
  9972 06:24C9: 84 03        	sty	<R0+2
  9973 06:24CB: D4 03        	pei	<R0+2
  9974 06:24CD: D4 01        	pei	<R0
  9975 06:24CF: 18           	clc
  9976 06:24D0: A5 15        	lda	<L521+textX_1
  9977 06:24D2: 65 11        	adc	<L521+x_1
  9978 06:24D4: 85 05        	sta	<R1
  9979 06:24D6: A0 00 00     	ldy	#$0
  9980 06:24D9: A5 05        	lda	<R1
  9981 06:24DB: 10 01        	bpl	L530
  9982 06:24DD: 88           	dey
  9983                        L530:
  9984 06:24DE: 85 05        	sta	<R1
  9985 06:24E0: 84 07        	sty	<R1+2
  9986 06:24E2: D4 07        	pei	<R1+2
  9987 06:24E4: D4 05        	pei	<R1
  9988 06:24E6: 22 35 13 06  	jsl	~~k_draw_pixel
  9989                        ;				}
  9990                        	.line	1367
  9991                        ;				else 
  9992 06:24EA: 82 00 00     	brl	L10108
  9993                        L10107:
  9994                        ;				{ 
  9995                        	.line	1369
  9996                        ;					// leave empty (
  Sat Jul 10 2021  1:15                                                Page 187


                    or maybe plot 'text backgr color')
  9997                        ;				}
  9998                        	.line	1371
  9999                        L10108:
 10000                        ;			} // end "for x"
 10001                        	.endblock	1372
 10002                        	.line	1372
 10003                        L10103:
 10004 06:24ED: E6 11        	inc	<L521+x_1
 10005                        L10106:
 10006 06:24EF: 22 06 82 06  	jsl	~~k_font_getFontWidth
 10007 06:24F3: 85 01        	sta	<R0
 10008 06:24F5: A5 11        	lda	<L521+x_1
 10009 06:24F7: C5 01        	cmp	<R0
 10010 06:24F9: B0 03        	bcs	L531
 10011 06:24FB: 82 8A FF     	brl	L10105
 10012                        L531:
 10013                        L10104:
 10014                        ;		} // end "for y"
 10015                        	.line	1373
 10016                        L10099:
 10017 06:24FE: E6 13        	inc	<L521+y_1
 10018                        L10102:
 10019 06:2500: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 10020 06:2504: 85 01        	sta	<R0
 10021 06:2506: A5 13        	lda	<L521+y_1
 10022 06:2508: C5 01        	cmp	<R0
 10023 06:250A: B0 03        	bcs	L532
 10024 06:250C: 82 74 FF     	brl	L10101
 10025                        L532:
 10026                        L10100:
 10027                        ;	}
 10028                        	.line	1374
 10029                        ;	return FONTW;
 10030                        L10098:
 10031                        	.line	1375
 10032 06:250F: 22 06 82 06  	jsl	~~k_font_getFontWidth
 10033                        L533:
 10034 06:2513: A8           	tay
 10035 06:2514: A5 1F        	lda	<L520+2
 10036 06:2516: 85 27        	sta	<L520+2+8
 10037 06:2518: A5 1E        	lda	<L520+1
 10038 06:251A: 85 26        	sta	<L520+1+8
 10039 06:251C: 2B           	pld
 10040 06:251D: 3B           	tsc
 10041 06:251E: 18           	clc
 10042 06:251F: 69 25 00     	adc	#L520+8
 10043 06:2522: 1B           	tcs
 10044 06:2523: 98           	tya
 10045 06:2524: 6B           	rtl
 10046                        ;}
 10047                        	.line	1376
 10048                        	.endblock	1376
 10049             0000001D   L520	equ	29
 10050             00000011   L521	equ	17
 10051 06:2525:              	ends
 10052                        	efunc
 10053                        	.endfunc	1376,17,29
  Sat Jul 10 2021  1:15                                                Page 188


 10054                        	.line	1376
 10055                        ;
 10056                        ;int k_put_binary_font_point(LPCHAR fontSet, char 
                    outChar,int cx,int cy,char color)
 10057                        ;{
 10058                        	.line	1378
 10059                        	.line	1379
 10060                        	GFX
 10061                        	xdef	~~k_put_binary_font_point
 10062                        	func
 10063                        	.function	1379
 10064                        ~~k_put_binary_font_point:
 10065                        	longa	on
 10066                        	longi	on
 10067 06:2525: 3B           	tsc
 10068 06:2526: 38           	sec
 10069 06:2527: E9 18 00     	sbc	#L534
 10070 06:252A: 1B           	tcs
 10071 06:252B: 0B           	phd
 10072 06:252C: 5B           	tcd
 10073             00000004   fontSet_0	set	4
 10074             00000008   outChar_0	set	8
 10075             0000000A   cx_0	set	10
 10076             0000000C   cy_0	set	12
 10077             0000000E   color_0	set	14
 10078                        	.block	1379
 10079                        ;	int x = 0;
 10080                        ;	int y = 0;
 10081                        ;	int textX = cx;
 10082                        ;	int textY = cy;
 10083                        ;
 10084                        ;	unsigned char FAR* img = NULL;//fontImg[ix];
 10085                        ;
 10086                        ;    if(outChar == 32)
 10087             00000000   x_1	set	0
 10088             00000002   y_1	set	2
 10089             00000004   textX_1	set	4
 10090             00000006   textY_1	set	6
 10091             00000008   img_1	set	8
 10092                        	.sym	x,0,5,1,16
 10093                        	.sym	y,2,5,1,16
 10094                        	.sym	textX,4,5,1,16
 10095                        	.sym	textY,6,5,1,16
 10096                        	.sym	img,8,142,1,32
 10097                        	.sym	fontSet,4,142,6,32
 10098                        	.sym	outChar,8,14,6,8
 10099                        	.sym	cx,10,5,6,16
 10100                        	.sym	cy,12,5,6,16
 10101                        	.sym	color,14,14,6,8
 10102 06:252D: 64 09        	stz	<L535+x_1
 10103 06:252F: 64 0B        	stz	<L535+y_1
 10104 06:2531: A5 22        	lda	<L534+cx_0
 10105 06:2533: 85 0D        	sta	<L535+textX_1
 10106 06:2535: A5 24        	lda	<L534+cy_0
 10107 06:2537: 85 0F        	sta	<L535+textY_1
 10108 06:2539: 64 11        	stz	<L535+img_1
 10109 06:253B: 64 13        	stz	<L535+img_1+2
 10110                        	.line	1387
  Sat Jul 10 2021  1:15                                                Page 189


 10111                        ;	{
 10112 06:253D: E2 20        	sep	#$20
 10113                        	longa	off
 10114 06:253F: A5 20        	lda	<L534+outChar_0
 10115 06:2541: C9 20        	cmp	#<$20
 10116 06:2543: C2 20        	rep	#$20
 10117                        	longa	on
 10118 06:2545: F0 03        	beq	L537
 10119 06:2547: 82 07 00     	brl	L10109
 10120                        L537:
 10121                        	.line	1388
 10122                        ;	   img = NULL;//fontSpace;
 10123                        	.line	1389
 10124 06:254A: 64 11        	stz	<L535+img_1
 10125 06:254C: 64 13        	stz	<L535+img_1+2
 10126                        ;    }
 10127                        	.line	1390
 10128                        ;    else
 10129 06:254E: 82 2F 00     	brl	L10110
 10130                        L10109:
 10131                        ;	{
 10132                        	.line	1392
 10133                        ;	    //img = &(fontSet[characterROMMapping[outCha
                    r]]);
 10134                        ;    	img = fontSet+=(8*outChar);
 10135                        	.line	1394
 10136 06:2551: A5 20        	lda	<L534+outChar_0
 10137 06:2553: 29 FF 00     	and	#$ff
 10138 06:2556: 85 05        	sta	<R1
 10139 06:2558: A5 05        	lda	<R1
 10140 06:255A: 0A           	asl	A
 10141 06:255B: 0A           	asl	A
 10142 06:255C: 0A           	asl	A
 10143 06:255D: 85 01        	sta	<R0
 10144 06:255F: A0 00 00     	ldy	#$0
 10145 06:2562: A5 01        	lda	<R0
 10146 06:2564: 10 01        	bpl	L538
 10147 06:2566: 88           	dey
 10148                        L538:
 10149 06:2567: 85 01        	sta	<R0
 10150 06:2569: 84 03        	sty	<R0+2
 10151 06:256B: 18           	clc
 10152 06:256C: A5 1C        	lda	<L534+fontSet_0
 10153 06:256E: 65 01        	adc	<R0
 10154 06:2570: 85 1C        	sta	<L534+fontSet_0
 10155 06:2572: A5 1E        	lda	<L534+fontSet_0+2
 10156 06:2574: 65 03        	adc	<R0+2
 10157 06:2576: 85 1E        	sta	<L534+fontSet_0+2
 10158 06:2578: A5 1C        	lda	<L534+fontSet_0
 10159 06:257A: 85 11        	sta	<L535+img_1
 10160 06:257C: A5 1E        	lda	<L534+fontSet_0+2
 10161 06:257E: 85 13        	sta	<L535+img_1+2
 10162                        ;    	//img = "\xc3\xc3\xc3\xc3\xc3\xc3\xc3\xc
                    3";//&(fontSet[outChar]);
 10163                        ;	}
 10164                        	.line	1396
 10165                        L10110:
 10166                        ;	//printf("putFont:%d\n",characterROMMapping[outC
  Sat Jul 10 2021  1:15                                                Page 190


                    har]);
 10167                        ;
 10168                        ;	// get the font 'image'
 10169                        ;        //char *img = fontImg[ix];
 10170                        ;        // loop through pixel rows
 10171                        ;	if(img!=NULL)
 10172                        	.line	1402
 10173                        ;	{
 10174 06:2580: A5 11        	lda	<L535+img_1
 10175 06:2582: 05 13        	ora	<L535+img_1+2
 10176 06:2584: D0 03        	bne	L539
 10177 06:2586: 82 0E 03     	brl	L10111
 10178                        L539:
 10179                        	.line	1403
 10180                        ;		for (y = 0; y < FONTH; y++)
 10181                        	.line	1404
 10182 06:2589: 64 0B        	stz	<L535+y_1
 10183 06:258B: 82 FA 02     	brl	L10115
 10184                        L10114:
 10185                        ;		{
 10186                        	.line	1405
 10187                        ;			// get the pixel value
 10188                        ;			PBYTEBITS b = (PBYTEBITS)&(img[y
                    ]); //img[y * FONTW + x];
 10189                        ;			if (b->b7 > 0)
 10190                        	.block	1408
 10191             0000000C   b_2	set	12
 10192                        	.sym	b,12,138,1,32,4
 10193 06:258E: A0 00 00     	ldy	#$0
 10194 06:2591: A5 0B        	lda	<L535+y_1
 10195 06:2593: 10 01        	bpl	L541
 10196 06:2595: 88           	dey
 10197                        L541:
 10198 06:2596: 85 01        	sta	<R0
 10199 06:2598: 84 03        	sty	<R0+2
 10200 06:259A: 18           	clc
 10201 06:259B: A5 11        	lda	<L535+img_1
 10202 06:259D: 65 01        	adc	<R0
 10203 06:259F: 85 15        	sta	<L535+b_2
 10204 06:25A1: A5 13        	lda	<L535+img_1+2
 10205 06:25A3: 65 03        	adc	<R0+2
 10206 06:25A5: 85 17        	sta	<L535+b_2+2
 10207                        	.line	1408
 10208                        ;				k_draw_pixel(textX + 7, 
                    textY + y, color);
 10209 06:25A7: E2 20        	sep	#$20
 10210                        	longa	off
 10211 06:25A9: A7 15        	lda	[<L535+b_2]
 10212 06:25AB: 85 01        	sta	<R0
 10213 06:25AD: C2 20        	rep	#$20
 10214                        	longa	on
 10215 06:25AF: E2 20        	sep	#$20
 10216                        	longa	off
 10217 06:25B1: A5 01        	lda	<R0
 10218 06:25B3: 29 01        	and	#<$1
 10219 06:25B5: 85 01        	sta	<R0
 10220 06:25B7: C2 20        	rep	#$20
 10221                        	longa	on
  Sat Jul 10 2021  1:15                                                Page 191


 10222 06:25B9: E2 20        	sep	#$20
 10223                        	longa	off
 10224 06:25BB: A9 00        	lda	#$0
 10225 06:25BD: C5 01        	cmp	<R0
 10226 06:25BF: C2 20        	rep	#$20
 10227                        	longa	on
 10228 06:25C1: 90 03        	bcc	L542
 10229 06:25C3: 82 35 00     	brl	L10116
 10230                        L542:
 10231                        	.line	1409
 10232 06:25C6: D4 26        	pei	<L534+color_0
 10233 06:25C8: 18           	clc
 10234 06:25C9: A5 0F        	lda	<L535+textY_1
 10235 06:25CB: 65 0B        	adc	<L535+y_1
 10236 06:25CD: 85 01        	sta	<R0
 10237 06:25CF: A0 00 00     	ldy	#$0
 10238 06:25D2: A5 01        	lda	<R0
 10239 06:25D4: 10 01        	bpl	L543
 10240 06:25D6: 88           	dey
 10241                        L543:
 10242 06:25D7: 85 01        	sta	<R0
 10243 06:25D9: 84 03        	sty	<R0+2
 10244 06:25DB: D4 03        	pei	<R0+2
 10245 06:25DD: D4 01        	pei	<R0
 10246 06:25DF: 18           	clc
 10247 06:25E0: A9 07 00     	lda	#$7
 10248 06:25E3: 65 0D        	adc	<L535+textX_1
 10249 06:25E5: 85 05        	sta	<R1
 10250 06:25E7: A0 00 00     	ldy	#$0
 10251 06:25EA: A5 05        	lda	<R1
 10252 06:25EC: 10 01        	bpl	L544
 10253 06:25EE: 88           	dey
 10254                        L544:
 10255 06:25EF: 85 05        	sta	<R1
 10256 06:25F1: 84 07        	sty	<R1+2
 10257 06:25F3: D4 07        	pei	<R1+2
 10258 06:25F5: D4 05        	pei	<R1
 10259 06:25F7: 22 35 13 06  	jsl	~~k_draw_pixel
 10260                        ;			if (b->b6 > 0)
 10261                        L10116:
 10262                        	.line	1410
 10263                        ;				k_draw_pixel(textX + 6, 
                    textY + y, color);
 10264 06:25FB: E2 20        	sep	#$20
 10265                        	longa	off
 10266 06:25FD: A7 15        	lda	[<L535+b_2]
 10267 06:25FF: 85 01        	sta	<R0
 10268 06:2601: C2 20        	rep	#$20
 10269                        	longa	on
 10270 06:2603: E2 20        	sep	#$20
 10271                        	longa	off
 10272 06:2605: 46 01        	lsr	<R0
 10273 06:2607: C2 20        	rep	#$20
 10274                        	longa	on
 10275 06:2609: E2 20        	sep	#$20
 10276                        	longa	off
 10277 06:260B: A5 01        	lda	<R0
 10278 06:260D: 29 01        	and	#<$1
  Sat Jul 10 2021  1:15                                                Page 192


 10279 06:260F: 85 01        	sta	<R0
 10280 06:2611: C2 20        	rep	#$20
 10281                        	longa	on
 10282 06:2613: E2 20        	sep	#$20
 10283                        	longa	off
 10284 06:2615: A9 00        	lda	#$0
 10285 06:2617: C5 01        	cmp	<R0
 10286 06:2619: C2 20        	rep	#$20
 10287                        	longa	on
 10288 06:261B: 90 03        	bcc	L545
 10289 06:261D: 82 35 00     	brl	L10117
 10290                        L545:
 10291                        	.line	1411
 10292 06:2620: D4 26        	pei	<L534+color_0
 10293 06:2622: 18           	clc
 10294 06:2623: A5 0F        	lda	<L535+textY_1
 10295 06:2625: 65 0B        	adc	<L535+y_1
 10296 06:2627: 85 01        	sta	<R0
 10297 06:2629: A0 00 00     	ldy	#$0
 10298 06:262C: A5 01        	lda	<R0
 10299 06:262E: 10 01        	bpl	L546
 10300 06:2630: 88           	dey
 10301                        L546:
 10302 06:2631: 85 01        	sta	<R0
 10303 06:2633: 84 03        	sty	<R0+2
 10304 06:2635: D4 03        	pei	<R0+2
 10305 06:2637: D4 01        	pei	<R0
 10306 06:2639: 18           	clc
 10307 06:263A: A9 06 00     	lda	#$6
 10308 06:263D: 65 0D        	adc	<L535+textX_1
 10309 06:263F: 85 05        	sta	<R1
 10310 06:2641: A0 00 00     	ldy	#$0
 10311 06:2644: A5 05        	lda	<R1
 10312 06:2646: 10 01        	bpl	L547
 10313 06:2648: 88           	dey
 10314                        L547:
 10315 06:2649: 85 05        	sta	<R1
 10316 06:264B: 84 07        	sty	<R1+2
 10317 06:264D: D4 07        	pei	<R1+2
 10318 06:264F: D4 05        	pei	<R1
 10319 06:2651: 22 35 13 06  	jsl	~~k_draw_pixel
 10320                        ;			if (b->b5 > 0)
 10321                        L10117:
 10322                        	.line	1412
 10323                        ;				k_draw_pixel(textX + 5, 
                    textY + y, color);
 10324 06:2655: E2 20        	sep	#$20
 10325                        	longa	off
 10326 06:2657: A7 15        	lda	[<L535+b_2]
 10327 06:2659: 85 01        	sta	<R0
 10328 06:265B: C2 20        	rep	#$20
 10329                        	longa	on
 10330 06:265D: E2 20        	sep	#$20
 10331                        	longa	off
 10332 06:265F: 46 01        	lsr	<R0
 10333 06:2661: 46 01        	lsr	<R0
 10334 06:2663: C2 20        	rep	#$20
 10335                        	longa	on
  Sat Jul 10 2021  1:15                                                Page 193


 10336 06:2665: E2 20        	sep	#$20
 10337                        	longa	off
 10338 06:2667: A5 01        	lda	<R0
 10339 06:2669: 29 01        	and	#<$1
 10340 06:266B: 85 01        	sta	<R0
 10341 06:266D: C2 20        	rep	#$20
 10342                        	longa	on
 10343 06:266F: E2 20        	sep	#$20
 10344                        	longa	off
 10345 06:2671: A9 00        	lda	#$0
 10346 06:2673: C5 01        	cmp	<R0
 10347 06:2675: C2 20        	rep	#$20
 10348                        	longa	on
 10349 06:2677: 90 03        	bcc	L548
 10350 06:2679: 82 35 00     	brl	L10118
 10351                        L548:
 10352                        	.line	1413
 10353 06:267C: D4 26        	pei	<L534+color_0
 10354 06:267E: 18           	clc
 10355 06:267F: A5 0F        	lda	<L535+textY_1
 10356 06:2681: 65 0B        	adc	<L535+y_1
 10357 06:2683: 85 01        	sta	<R0
 10358 06:2685: A0 00 00     	ldy	#$0
 10359 06:2688: A5 01        	lda	<R0
 10360 06:268A: 10 01        	bpl	L549
 10361 06:268C: 88           	dey
 10362                        L549:
 10363 06:268D: 85 01        	sta	<R0
 10364 06:268F: 84 03        	sty	<R0+2
 10365 06:2691: D4 03        	pei	<R0+2
 10366 06:2693: D4 01        	pei	<R0
 10367 06:2695: 18           	clc
 10368 06:2696: A9 05 00     	lda	#$5
 10369 06:2699: 65 0D        	adc	<L535+textX_1
 10370 06:269B: 85 05        	sta	<R1
 10371 06:269D: A0 00 00     	ldy	#$0
 10372 06:26A0: A5 05        	lda	<R1
 10373 06:26A2: 10 01        	bpl	L550
 10374 06:26A4: 88           	dey
 10375                        L550:
 10376 06:26A5: 85 05        	sta	<R1
 10377 06:26A7: 84 07        	sty	<R1+2
 10378 06:26A9: D4 07        	pei	<R1+2
 10379 06:26AB: D4 05        	pei	<R1
 10380 06:26AD: 22 35 13 06  	jsl	~~k_draw_pixel
 10381                        ;			if (b->b4 > 0)
 10382                        L10118:
 10383                        	.line	1414
 10384                        ;				k_draw_pixel(textX + 4, 
                    textY + y, color);
 10385 06:26B1: E2 20        	sep	#$20
 10386                        	longa	off
 10387 06:26B3: A7 15        	lda	[<L535+b_2]
 10388 06:26B5: 85 01        	sta	<R0
 10389 06:26B7: C2 20        	rep	#$20
 10390                        	longa	on
 10391 06:26B9: E2 20        	sep	#$20
 10392                        	longa	off
  Sat Jul 10 2021  1:15                                                Page 194


 10393 06:26BB: 46 01        	lsr	<R0
 10394 06:26BD: 46 01        	lsr	<R0
 10395 06:26BF: 46 01        	lsr	<R0
 10396 06:26C1: C2 20        	rep	#$20
 10397                        	longa	on
 10398 06:26C3: E2 20        	sep	#$20
 10399                        	longa	off
 10400 06:26C5: A5 01        	lda	<R0
 10401 06:26C7: 29 01        	and	#<$1
 10402 06:26C9: 85 01        	sta	<R0
 10403 06:26CB: C2 20        	rep	#$20
 10404                        	longa	on
 10405 06:26CD: E2 20        	sep	#$20
 10406                        	longa	off
 10407 06:26CF: A9 00        	lda	#$0
 10408 06:26D1: C5 01        	cmp	<R0
 10409 06:26D3: C2 20        	rep	#$20
 10410                        	longa	on
 10411 06:26D5: 90 03        	bcc	L551
 10412 06:26D7: 82 35 00     	brl	L10119
 10413                        L551:
 10414                        	.line	1415
 10415 06:26DA: D4 26        	pei	<L534+color_0
 10416 06:26DC: 18           	clc
 10417 06:26DD: A5 0F        	lda	<L535+textY_1
 10418 06:26DF: 65 0B        	adc	<L535+y_1
 10419 06:26E1: 85 01        	sta	<R0
 10420 06:26E3: A0 00 00     	ldy	#$0
 10421 06:26E6: A5 01        	lda	<R0
 10422 06:26E8: 10 01        	bpl	L552
 10423 06:26EA: 88           	dey
 10424                        L552:
 10425 06:26EB: 85 01        	sta	<R0
 10426 06:26ED: 84 03        	sty	<R0+2
 10427 06:26EF: D4 03        	pei	<R0+2
 10428 06:26F1: D4 01        	pei	<R0
 10429 06:26F3: 18           	clc
 10430 06:26F4: A9 04 00     	lda	#$4
 10431 06:26F7: 65 0D        	adc	<L535+textX_1
 10432 06:26F9: 85 05        	sta	<R1
 10433 06:26FB: A0 00 00     	ldy	#$0
 10434 06:26FE: A5 05        	lda	<R1
 10435 06:2700: 10 01        	bpl	L553
 10436 06:2702: 88           	dey
 10437                        L553:
 10438 06:2703: 85 05        	sta	<R1
 10439 06:2705: 84 07        	sty	<R1+2
 10440 06:2707: D4 07        	pei	<R1+2
 10441 06:2709: D4 05        	pei	<R1
 10442 06:270B: 22 35 13 06  	jsl	~~k_draw_pixel
 10443                        ;			if (b->b3 > 0)
 10444                        L10119:
 10445                        	.line	1416
 10446                        ;				k_draw_pixel(textX + 3, 
                    textY + y, color);
 10447 06:270F: E2 20        	sep	#$20
 10448                        	longa	off
 10449 06:2711: A7 15        	lda	[<L535+b_2]
  Sat Jul 10 2021  1:15                                                Page 195


 10450 06:2713: 85 01        	sta	<R0
 10451 06:2715: C2 20        	rep	#$20
 10452                        	longa	on
 10453 06:2717: E2 20        	sep	#$20
 10454                        	longa	off
 10455 06:2719: 46 01        	lsr	<R0
 10456 06:271B: 46 01        	lsr	<R0
 10457 06:271D: 46 01        	lsr	<R0
 10458 06:271F: 46 01        	lsr	<R0
 10459 06:2721: C2 20        	rep	#$20
 10460                        	longa	on
 10461 06:2723: E2 20        	sep	#$20
 10462                        	longa	off
 10463 06:2725: A5 01        	lda	<R0
 10464 06:2727: 29 01        	and	#<$1
 10465 06:2729: 85 01        	sta	<R0
 10466 06:272B: C2 20        	rep	#$20
 10467                        	longa	on
 10468 06:272D: E2 20        	sep	#$20
 10469                        	longa	off
 10470 06:272F: A9 00        	lda	#$0
 10471 06:2731: C5 01        	cmp	<R0
 10472 06:2733: C2 20        	rep	#$20
 10473                        	longa	on
 10474 06:2735: 90 03        	bcc	L554
 10475 06:2737: 82 35 00     	brl	L10120
 10476                        L554:
 10477                        	.line	1417
 10478 06:273A: D4 26        	pei	<L534+color_0
 10479 06:273C: 18           	clc
 10480 06:273D: A5 0F        	lda	<L535+textY_1
 10481 06:273F: 65 0B        	adc	<L535+y_1
 10482 06:2741: 85 01        	sta	<R0
 10483 06:2743: A0 00 00     	ldy	#$0
 10484 06:2746: A5 01        	lda	<R0
 10485 06:2748: 10 01        	bpl	L555
 10486 06:274A: 88           	dey
 10487                        L555:
 10488 06:274B: 85 01        	sta	<R0
 10489 06:274D: 84 03        	sty	<R0+2
 10490 06:274F: D4 03        	pei	<R0+2
 10491 06:2751: D4 01        	pei	<R0
 10492 06:2753: 18           	clc
 10493 06:2754: A9 03 00     	lda	#$3
 10494 06:2757: 65 0D        	adc	<L535+textX_1
 10495 06:2759: 85 05        	sta	<R1
 10496 06:275B: A0 00 00     	ldy	#$0
 10497 06:275E: A5 05        	lda	<R1
 10498 06:2760: 10 01        	bpl	L556
 10499 06:2762: 88           	dey
 10500                        L556:
 10501 06:2763: 85 05        	sta	<R1
 10502 06:2765: 84 07        	sty	<R1+2
 10503 06:2767: D4 07        	pei	<R1+2
 10504 06:2769: D4 05        	pei	<R1
 10505 06:276B: 22 35 13 06  	jsl	~~k_draw_pixel
 10506                        ;			if (b->b2 > 0)
 10507                        L10120:
  Sat Jul 10 2021  1:15                                                Page 196


 10508                        	.line	1418
 10509                        ;				k_draw_pixel(textX + 2, 
                    textY + y, color);
 10510 06:276F: E2 20        	sep	#$20
 10511                        	longa	off
 10512 06:2771: A7 15        	lda	[<L535+b_2]
 10513 06:2773: 85 01        	sta	<R0
 10514 06:2775: C2 20        	rep	#$20
 10515                        	longa	on
 10516 06:2777: E2 20        	sep	#$20
 10517                        	longa	off
 10518 06:2779: 46 01        	lsr	<R0
 10519 06:277B: 46 01        	lsr	<R0
 10520 06:277D: 46 01        	lsr	<R0
 10521 06:277F: 46 01        	lsr	<R0
 10522 06:2781: 46 01        	lsr	<R0
 10523 06:2783: C2 20        	rep	#$20
 10524                        	longa	on
 10525 06:2785: E2 20        	sep	#$20
 10526                        	longa	off
 10527 06:2787: A5 01        	lda	<R0
 10528 06:2789: 29 01        	and	#<$1
 10529 06:278B: 85 01        	sta	<R0
 10530 06:278D: C2 20        	rep	#$20
 10531                        	longa	on
 10532 06:278F: E2 20        	sep	#$20
 10533                        	longa	off
 10534 06:2791: A9 00        	lda	#$0
 10535 06:2793: C5 01        	cmp	<R0
 10536 06:2795: C2 20        	rep	#$20
 10537                        	longa	on
 10538 06:2797: 90 03        	bcc	L557
 10539 06:2799: 82 35 00     	brl	L10121
 10540                        L557:
 10541                        	.line	1419
 10542 06:279C: D4 26        	pei	<L534+color_0
 10543 06:279E: 18           	clc
 10544 06:279F: A5 0F        	lda	<L535+textY_1
 10545 06:27A1: 65 0B        	adc	<L535+y_1
 10546 06:27A3: 85 01        	sta	<R0
 10547 06:27A5: A0 00 00     	ldy	#$0
 10548 06:27A8: A5 01        	lda	<R0
 10549 06:27AA: 10 01        	bpl	L558
 10550 06:27AC: 88           	dey
 10551                        L558:
 10552 06:27AD: 85 01        	sta	<R0
 10553 06:27AF: 84 03        	sty	<R0+2
 10554 06:27B1: D4 03        	pei	<R0+2
 10555 06:27B3: D4 01        	pei	<R0
 10556 06:27B5: 18           	clc
 10557 06:27B6: A9 02 00     	lda	#$2
 10558 06:27B9: 65 0D        	adc	<L535+textX_1
 10559 06:27BB: 85 05        	sta	<R1
 10560 06:27BD: A0 00 00     	ldy	#$0
 10561 06:27C0: A5 05        	lda	<R1
 10562 06:27C2: 10 01        	bpl	L559
 10563 06:27C4: 88           	dey
 10564                        L559:
  Sat Jul 10 2021  1:15                                                Page 197


 10565 06:27C5: 85 05        	sta	<R1
 10566 06:27C7: 84 07        	sty	<R1+2
 10567 06:27C9: D4 07        	pei	<R1+2
 10568 06:27CB: D4 05        	pei	<R1
 10569 06:27CD: 22 35 13 06  	jsl	~~k_draw_pixel
 10570                        ;			if (b->b1 > 0)
 10571                        L10121:
 10572                        	.line	1420
 10573                        ;				k_draw_pixel(textX + 1, 
                    textY + y, color);
 10574 06:27D1: E2 20        	sep	#$20
 10575                        	longa	off
 10576 06:27D3: A7 15        	lda	[<L535+b_2]
 10577 06:27D5: 85 01        	sta	<R0
 10578 06:27D7: C2 20        	rep	#$20
 10579                        	longa	on
 10580 06:27D9: E2 20        	sep	#$20
 10581                        	longa	off
 10582 06:27DB: 46 01        	lsr	<R0
 10583 06:27DD: 46 01        	lsr	<R0
 10584 06:27DF: 46 01        	lsr	<R0
 10585 06:27E1: 46 01        	lsr	<R0
 10586 06:27E3: 46 01        	lsr	<R0
 10587 06:27E5: 46 01        	lsr	<R0
 10588 06:27E7: C2 20        	rep	#$20
 10589                        	longa	on
 10590 06:27E9: E2 20        	sep	#$20
 10591                        	longa	off
 10592 06:27EB: A5 01        	lda	<R0
 10593 06:27ED: 29 01        	and	#<$1
 10594 06:27EF: 85 01        	sta	<R0
 10595 06:27F1: C2 20        	rep	#$20
 10596                        	longa	on
 10597 06:27F3: E2 20        	sep	#$20
 10598                        	longa	off
 10599 06:27F5: A9 00        	lda	#$0
 10600 06:27F7: C5 01        	cmp	<R0
 10601 06:27F9: C2 20        	rep	#$20
 10602                        	longa	on
 10603 06:27FB: 90 03        	bcc	L560
 10604 06:27FD: 82 32 00     	brl	L10122
 10605                        L560:
 10606                        	.line	1421
 10607 06:2800: D4 26        	pei	<L534+color_0
 10608 06:2802: 18           	clc
 10609 06:2803: A5 0F        	lda	<L535+textY_1
 10610 06:2805: 65 0B        	adc	<L535+y_1
 10611 06:2807: 85 01        	sta	<R0
 10612 06:2809: A0 00 00     	ldy	#$0
 10613 06:280C: A5 01        	lda	<R0
 10614 06:280E: 10 01        	bpl	L561
 10615 06:2810: 88           	dey
 10616                        L561:
 10617 06:2811: 85 01        	sta	<R0
 10618 06:2813: 84 03        	sty	<R0+2
 10619 06:2815: D4 03        	pei	<R0+2
 10620 06:2817: D4 01        	pei	<R0
 10621 06:2819: A5 0D        	lda	<L535+textX_1
  Sat Jul 10 2021  1:15                                                Page 198


 10622 06:281B: 1A           	ina
 10623 06:281C: 85 05        	sta	<R1
 10624 06:281E: A0 00 00     	ldy	#$0
 10625 06:2821: A5 05        	lda	<R1
 10626 06:2823: 10 01        	bpl	L562
 10627 06:2825: 88           	dey
 10628                        L562:
 10629 06:2826: 85 05        	sta	<R1
 10630 06:2828: 84 07        	sty	<R1+2
 10631 06:282A: D4 07        	pei	<R1+2
 10632 06:282C: D4 05        	pei	<R1
 10633 06:282E: 22 35 13 06  	jsl	~~k_draw_pixel
 10634                        ;			if (b->b0 > 0)
 10635                        L10122:
 10636                        	.line	1422
 10637                        ;				k_draw_pixel(textX + 0, 
                    textY + y, color);
 10638 06:2832: E2 20        	sep	#$20
 10639                        	longa	off
 10640 06:2834: A7 15        	lda	[<L535+b_2]
 10641 06:2836: 85 01        	sta	<R0
 10642 06:2838: C2 20        	rep	#$20
 10643                        	longa	on
 10644 06:283A: E2 20        	sep	#$20
 10645                        	longa	off
 10646 06:283C: 46 01        	lsr	<R0
 10647 06:283E: 46 01        	lsr	<R0
 10648 06:2840: 46 01        	lsr	<R0
 10649 06:2842: 46 01        	lsr	<R0
 10650 06:2844: 46 01        	lsr	<R0
 10651 06:2846: 46 01        	lsr	<R0
 10652 06:2848: 46 01        	lsr	<R0
 10653 06:284A: C2 20        	rep	#$20
 10654                        	longa	on
 10655 06:284C: E2 20        	sep	#$20
 10656                        	longa	off
 10657 06:284E: A9 00        	lda	#$0
 10658 06:2850: C5 01        	cmp	<R0
 10659 06:2852: C2 20        	rep	#$20
 10660                        	longa	on
 10661 06:2854: 90 03        	bcc	L563
 10662 06:2856: 82 2D 00     	brl	L10123
 10663                        L563:
 10664                        	.line	1423
 10665 06:2859: D4 26        	pei	<L534+color_0
 10666 06:285B: 18           	clc
 10667 06:285C: A5 0F        	lda	<L535+textY_1
 10668 06:285E: 65 0B        	adc	<L535+y_1
 10669 06:2860: 85 01        	sta	<R0
 10670 06:2862: A0 00 00     	ldy	#$0
 10671 06:2865: A5 01        	lda	<R0
 10672 06:2867: 10 01        	bpl	L564
 10673 06:2869: 88           	dey
 10674                        L564:
 10675 06:286A: 85 01        	sta	<R0
 10676 06:286C: 84 03        	sty	<R0+2
 10677 06:286E: D4 03        	pei	<R0+2
 10678 06:2870: D4 01        	pei	<R0
  Sat Jul 10 2021  1:15                                                Page 199


 10679 06:2872: A0 00 00     	ldy	#$0
 10680 06:2875: A5 0D        	lda	<L535+textX_1
 10681 06:2877: 10 01        	bpl	L565
 10682 06:2879: 88           	dey
 10683                        L565:
 10684 06:287A: 85 05        	sta	<R1
 10685 06:287C: 84 07        	sty	<R1+2
 10686 06:287E: D4 07        	pei	<R1+2
 10687 06:2880: D4 05        	pei	<R1
 10688 06:2882: 22 35 13 06  	jsl	~~k_draw_pixel
 10689                        ;
 10690                        ;		} // end "for y"
 10691                        L10123:
 10692                        	.endblock	1425
 10693                        	.line	1425
 10694                        L10112:
 10695 06:2886: E6 0B        	inc	<L535+y_1
 10696                        L10115:
 10697 06:2888: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 10698 06:288C: 85 01        	sta	<R0
 10699 06:288E: A5 0B        	lda	<L535+y_1
 10700 06:2890: C5 01        	cmp	<R0
 10701 06:2892: B0 03        	bcs	L566
 10702 06:2894: 82 F7 FC     	brl	L10114
 10703                        L566:
 10704                        L10113:
 10705                        ;	}
 10706                        	.line	1426
 10707                        ;	return FONTW;
 10708                        L10111:
 10709                        	.line	1427
 10710 06:2897: 22 06 82 06  	jsl	~~k_font_getFontWidth
 10711                        L567:
 10712 06:289B: A8           	tay
 10713 06:289C: A5 1A        	lda	<L534+2
 10714 06:289E: 85 26        	sta	<L534+2+12
 10715 06:28A0: A5 19        	lda	<L534+1
 10716 06:28A2: 85 25        	sta	<L534+1+12
 10717 06:28A4: 2B           	pld
 10718 06:28A5: 3B           	tsc
 10719 06:28A6: 18           	clc
 10720 06:28A7: 69 24 00     	adc	#L534+12
 10721 06:28AA: 1B           	tcs
 10722 06:28AB: 98           	tya
 10723 06:28AC: 6B           	rtl
 10724                        ;}
 10725                        	.line	1428
 10726                        	.endblock	1428
 10727             00000018   L534	equ	24
 10728             00000009   L535	equ	9
 10729 06:28AD:              	ends
 10730                        	efunc
 10731                        	.endfunc	1428,9,24
 10732                        	.line	1428
 10733                        ;
 10734                        ;/*
 10735                        ;int k_put_binary_variablefont_point(LPCHAR fontSe
                    t, char outChar,int cx,int cy,int width,int height,char colo
  Sat Jul 10 2021  1:15                                                Page 200


                    r)
 10736                        ;{
 10737                        ;	int x = 0;
 10738                        ;	int y = 0;
 10739                        ;	int textX = cx;
 10740                        ;	int textY = cy;
 10741                        ;
 10742                        ;	unsigned char FAR* img = NULL;//fontImg[ix];
 10743                        ;
 10744                        ;    if(outChar == 32)
 10745                        ;	{
 10746                        ;	   img = NULL;//fontSpace;
 10747                        ;    }
 10748                        ;    else
 10749                        ;	{
 10750                        ;	    //img = &(fontSet[characterROMMapping[outCha
                    r]]);
 10751                        ;    	img = fontSet+=(height*outChar);
 10752                        ;    	//img = "\xc3\xc3\xc3\xc3\xc3\xc3\xc3\xc
                    3";//&(fontSet[outChar]);
 10753                        ;	}
 10754                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 10755                        ;
 10756                        ;	// get the font 'image'
 10757                        ;        //char *img = fontImg[ix];
 10758                        ;        // loop through pixel rows
 10759                        ;	if(img!=NULL)
 10760                        ;	{
 10761                        ;		for (y = 0; y < height; y++)
 10762                        ;		{
 10763                        ;			// get the pixel value
 10764                        ;			PBYTEBITS b = (PBYTEBITS)&(img[y
                    ]); //img[y * FONTW + x];
 10765                        ;			if (b->b7 > 0)
 10766                        ;				k_draw_pixel(textX + 7, 
                    textY + y, color);
 10767                        ;			if (b->b6 > 0)
 10768                        ;				k_draw_pixel(textX + 6, 
                    textY + y, color);
 10769                        ;			if (b->b5 > 0)
 10770                        ;				k_draw_pixel(textX + 5, 
                    textY + y, color);
 10771                        ;			if (b->b4 > 0)
 10772                        ;				k_draw_pixel(textX + 4, 
                    textY + y, color);
 10773                        ;			if (b->b3 > 0)
 10774                        ;				k_draw_pixel(textX + 3, 
                    textY + y, color);
 10775                        ;			if (b->b2 > 0)
 10776                        ;				k_draw_pixel(textX + 2, 
                    textY + y, color);
 10777                        ;			if (b->b1 > 0)
 10778                        ;				k_draw_pixel(textX + 1, 
                    textY + y, color);
 10779                        ;			if (b->b0 > 0)
 10780                        ;				k_draw_pixel(textX + 0, 
                    textY + y, color);
  Sat Jul 10 2021  1:15                                                Page 201


 10781                        ;
 10782                        ;		} // end "for y"
 10783                        ;	}
 10784                        ;	return FONTW;
 10785                        ;}
 10786                        ;*/
 10787                        ;int k_put_binary_variablefont_point(LPCHAR fontSe
                    t, char outChar,int cx,int cy,int width,int height,char colo
                    r)
 10788                        ;{
 10789                        	.line	1483
 10790                        	.line	1484
 10791                        	GFX
 10792                        	xdef	~~k_put_binary_variablefont_point
 10793                        	func
 10794                        	.function	1484
 10795                        ~~k_put_binary_variablefont_point:
 10796                        	longa	on
 10797                        	longi	on
 10798 06:28AD: 3B           	tsc
 10799 06:28AE: 38           	sec
 10800 06:28AF: E9 15 00     	sbc	#L568
 10801 06:28B2: 1B           	tcs
 10802 06:28B3: 0B           	phd
 10803 06:28B4: 5B           	tcd
 10804             00000004   fontSet_0	set	4
 10805             00000008   outChar_0	set	8
 10806             0000000A   cx_0	set	10
 10807             0000000C   cy_0	set	12
 10808             0000000E   width_0	set	14
 10809             00000010   height_0	set	16
 10810             00000012   color_0	set	18
 10811                        	.block	1484
 10812                        ;	int x = 0;
 10813                        ;	int y = 0;
 10814                        ;	int textX = cx;
 10815                        ;	int textY = cy;
 10816                        ;	char tmp;
 10817                        ;
 10818                        ;	unsigned char FAR* img = NULL;//fontImg[ix];
 10819                        ;
 10820                        ;    if(outChar == 32)
 10821             00000000   x_1	set	0
 10822             00000002   y_1	set	2
 10823             00000004   textX_1	set	4
 10824             00000006   textY_1	set	6
 10825             00000008   tmp_1	set	8
 10826             00000009   img_1	set	9
 10827                        	.sym	x,0,5,1,16
 10828                        	.sym	y,2,5,1,16
 10829                        	.sym	textX,4,5,1,16
 10830                        	.sym	textY,6,5,1,16
 10831                        	.sym	tmp,8,14,1,8
 10832                        	.sym	img,9,142,1,32
 10833                        	.sym	fontSet,4,142,6,32
 10834                        	.sym	outChar,8,14,6,8
 10835                        	.sym	cx,10,5,6,16
 10836                        	.sym	cy,12,5,6,16
  Sat Jul 10 2021  1:15                                                Page 202


 10837                        	.sym	width,14,5,6,16
 10838                        	.sym	height,16,5,6,16
 10839                        	.sym	color,18,14,6,8
 10840 06:28B5: 64 09        	stz	<L569+x_1
 10841 06:28B7: 64 0B        	stz	<L569+y_1
 10842 06:28B9: A5 1F        	lda	<L568+cx_0
 10843 06:28BB: 85 0D        	sta	<L569+textX_1
 10844 06:28BD: A5 21        	lda	<L568+cy_0
 10845 06:28BF: 85 0F        	sta	<L569+textY_1
 10846 06:28C1: 64 12        	stz	<L569+img_1
 10847 06:28C3: 64 14        	stz	<L569+img_1+2
 10848                        	.line	1493
 10849                        ;	{
 10850 06:28C5: E2 20        	sep	#$20
 10851                        	longa	off
 10852 06:28C7: A5 1D        	lda	<L568+outChar_0
 10853 06:28C9: C9 20        	cmp	#<$20
 10854 06:28CB: C2 20        	rep	#$20
 10855                        	longa	on
 10856 06:28CD: F0 03        	beq	L571
 10857 06:28CF: 82 07 00     	brl	L10124
 10858                        L571:
 10859                        	.line	1494
 10860                        ;	   img = NULL;//fontSpace;
 10861                        	.line	1495
 10862 06:28D2: 64 12        	stz	<L569+img_1
 10863 06:28D4: 64 14        	stz	<L569+img_1+2
 10864                        ;    }
 10865                        	.line	1496
 10866                        ;    else
 10867 06:28D6: 82 32 00     	brl	L10125
 10868                        L10124:
 10869                        ;	{
 10870                        	.line	1498
 10871                        ;	    //img = &(fontSet[characterROMMapping[outCha
                    r]]);
 10872                        ;    	img = fontSet+=(height*outChar);
 10873                        	.line	1500
 10874 06:28D9: A5 1D        	lda	<L568+outChar_0
 10875 06:28DB: 29 FF 00     	and	#$ff
 10876 06:28DE: 85 01        	sta	<R0
 10877 06:28E0: A5 01        	lda	<R0
 10878 06:28E2: A6 25        	ldx	<L568+height_0
 10879                        	xref	~~~mul
 10880 06:28E4: 22 xx xx xx  	jsl	~~~mul
 10881 06:28E8: 85 01        	sta	<R0
 10882 06:28EA: A0 00 00     	ldy	#$0
 10883 06:28ED: A5 01        	lda	<R0
 10884 06:28EF: 10 01        	bpl	L572
 10885 06:28F1: 88           	dey
 10886                        L572:
 10887 06:28F2: 85 01        	sta	<R0
 10888 06:28F4: 84 03        	sty	<R0+2
 10889 06:28F6: 18           	clc
 10890 06:28F7: A5 19        	lda	<L568+fontSet_0
 10891 06:28F9: 65 01        	adc	<R0
 10892 06:28FB: 85 19        	sta	<L568+fontSet_0
 10893 06:28FD: A5 1B        	lda	<L568+fontSet_0+2
  Sat Jul 10 2021  1:15                                                Page 203


 10894 06:28FF: 65 03        	adc	<R0+2
 10895 06:2901: 85 1B        	sta	<L568+fontSet_0+2
 10896 06:2903: A5 19        	lda	<L568+fontSet_0
 10897 06:2905: 85 12        	sta	<L569+img_1
 10898 06:2907: A5 1B        	lda	<L568+fontSet_0+2
 10899 06:2909: 85 14        	sta	<L569+img_1+2
 10900                        ;    	//img = "\xc3\xc3\xc3\xc3\xc3\xc3\xc3\xc
                    3";//&(fontSet[outChar]);
 10901                        ;	}
 10902                        	.line	1502
 10903                        L10125:
 10904                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 10905                        ;
 10906                        ;	// get the font 'image'
 10907                        ;        //char *img = fontImg[ix];
 10908                        ;        // loop through pixel rows
 10909                        ;	if(img!=NULL)
 10910                        	.line	1508
 10911                        ;	{
 10912 06:290B: A5 12        	lda	<L569+img_1
 10913 06:290D: 05 14        	ora	<L569+img_1+2
 10914 06:290F: D0 03        	bne	L573
 10915 06:2911: 82 7D 00     	brl	L10126
 10916                        L573:
 10917                        	.line	1509
 10918                        ;		for (y = 0; y < height; y++)
 10919                        	.line	1510
 10920 06:2914: 64 0B        	stz	<L569+y_1
 10921 06:2916: 82 69 00     	brl	L10130
 10922                        L10129:
 10923                        ;		{
 10924                        	.line	1511
 10925                        ;			tmp = img[y];
 10926                        	.line	1512
 10927 06:2919: E2 20        	sep	#$20
 10928                        	longa	off
 10929 06:291B: A4 0B        	ldy	<L569+y_1
 10930 06:291D: B7 12        	lda	[<L569+img_1],Y
 10931 06:291F: 85 11        	sta	<L569+tmp_1
 10932 06:2921: C2 20        	rep	#$20
 10933                        	longa	on
 10934                        ;
 10935                        ;			for (x = 0; x < width; x++)
 10936                        	.line	1514
 10937 06:2923: 64 09        	stz	<L569+x_1
 10938 06:2925: 82 49 00     	brl	L10134
 10939                        L10133:
 10940                        ;			{
 10941                        	.line	1515
 10942                        ;				if(tmp & 0x80 )
 10943                        	.line	1516
 10944                        ;					k_draw_pixel(tex
                    tX + x, textY + y, color);
 10945 06:2928: E2 20        	sep	#$20
 10946                        	longa	off
 10947 06:292A: A5 11        	lda	<L569+tmp_1
 10948 06:292C: 29 80        	and	#<$80
  Sat Jul 10 2021  1:15                                                Page 204


 10949 06:292E: C2 20        	rep	#$20
 10950                        	longa	on
 10951 06:2930: D0 03        	bne	L574
 10952 06:2932: 82 34 00     	brl	L10135
 10953                        L574:
 10954                        	.line	1517
 10955 06:2935: D4 27        	pei	<L568+color_0
 10956 06:2937: 18           	clc
 10957 06:2938: A5 0F        	lda	<L569+textY_1
 10958 06:293A: 65 0B        	adc	<L569+y_1
 10959 06:293C: 85 01        	sta	<R0
 10960 06:293E: A0 00 00     	ldy	#$0
 10961 06:2941: A5 01        	lda	<R0
 10962 06:2943: 10 01        	bpl	L575
 10963 06:2945: 88           	dey
 10964                        L575:
 10965 06:2946: 85 01        	sta	<R0
 10966 06:2948: 84 03        	sty	<R0+2
 10967 06:294A: D4 03        	pei	<R0+2
 10968 06:294C: D4 01        	pei	<R0
 10969 06:294E: 18           	clc
 10970 06:294F: A5 0D        	lda	<L569+textX_1
 10971 06:2951: 65 09        	adc	<L569+x_1
 10972 06:2953: 85 05        	sta	<R1
 10973 06:2955: A0 00 00     	ldy	#$0
 10974 06:2958: A5 05        	lda	<R1
 10975 06:295A: 10 01        	bpl	L576
 10976 06:295C: 88           	dey
 10977                        L576:
 10978 06:295D: 85 05        	sta	<R1
 10979 06:295F: 84 07        	sty	<R1+2
 10980 06:2961: D4 07        	pei	<R1+2
 10981 06:2963: D4 05        	pei	<R1
 10982 06:2965: 22 35 13 06  	jsl	~~k_draw_pixel
 10983                        ;
 10984                        ;				tmp = tmp << 1;
 10985                        L10135:
 10986                        	.line	1519
 10987 06:2969: E2 20        	sep	#$20
 10988                        	longa	off
 10989 06:296B: 06 11        	asl	<L569+tmp_1
 10990 06:296D: C2 20        	rep	#$20
 10991                        	longa	on
 10992                        ;			}
 10993                        	.line	1520
 10994                        L10131:
 10995 06:296F: E6 09        	inc	<L569+x_1
 10996                        L10134:
 10997 06:2971: 38           	sec
 10998 06:2972: A5 09        	lda	<L569+x_1
 10999 06:2974: E5 23        	sbc	<L568+width_0
 11000 06:2976: 70 03        	bvs	L577
 11001 06:2978: 49 00 80     	eor	#$8000
 11002                        L577:
 11003 06:297B: 30 03        	bmi	L578
 11004 06:297D: 82 A8 FF     	brl	L10133
 11005                        L578:
 11006                        L10132:
  Sat Jul 10 2021  1:15                                                Page 205


 11007                        ;			// get the pixel value
 11008                        ;			/*
 11009                        ;			PBYTEBITS b = (PBYTEBITS)&(img[y
                    ]); //img[y * FONTW + x];
 11010                        ;			if (b->b7 > 0)
 11011                        ;				k_draw_pixel(textX + 7, 
                    textY + y, color);
 11012                        ;			if (b->b6 > 0)
 11013                        ;				k_draw_pixel(textX + 6, 
                    textY + y, color);
 11014                        ;			if (b->b5 > 0)
 11015                        ;				k_draw_pixel(textX + 5, 
                    textY + y, color);
 11016                        ;			if (b->b4 > 0)
 11017                        ;				k_draw_pixel(textX + 4, 
                    textY + y, color);
 11018                        ;			if (b->b3 > 0)
 11019                        ;				k_draw_pixel(textX + 3, 
                    textY + y, color);
 11020                        ;			if (b->b2 > 0)
 11021                        ;				k_draw_pixel(textX + 2, 
                    textY + y, color);
 11022                        ;			if (b->b1 > 0)
 11023                        ;				k_draw_pixel(textX + 1, 
                    textY + y, color);
 11024                        ;			if (b->b0 > 0)
 11025                        ;				k_draw_pixel(textX + 0, 
                    textY + y, color);
 11026                        ;			*/
 11027                        ;		} // end "for y"
 11028                        	.line	1541
 11029                        L10127:
 11030 06:2980: E6 0B        	inc	<L569+y_1
 11031                        L10130:
 11032 06:2982: 38           	sec
 11033 06:2983: A5 0B        	lda	<L569+y_1
 11034 06:2985: E5 25        	sbc	<L568+height_0
 11035 06:2987: 70 03        	bvs	L579
 11036 06:2989: 49 00 80     	eor	#$8000
 11037                        L579:
 11038 06:298C: 30 03        	bmi	L580
 11039 06:298E: 82 88 FF     	brl	L10129
 11040                        L580:
 11041                        L10128:
 11042                        ;	}
 11043                        	.line	1542
 11044                        ;	return FONTW;
 11045                        L10126:
 11046                        	.line	1543
 11047 06:2991: 22 06 82 06  	jsl	~~k_font_getFontWidth
 11048                        L581:
 11049 06:2995: A8           	tay
 11050 06:2996: A5 17        	lda	<L568+2
 11051 06:2998: 85 27        	sta	<L568+2+16
 11052 06:299A: A5 16        	lda	<L568+1
 11053 06:299C: 85 26        	sta	<L568+1+16
 11054 06:299E: 2B           	pld
 11055 06:299F: 3B           	tsc
  Sat Jul 10 2021  1:15                                                Page 206


 11056 06:29A0: 18           	clc
 11057 06:29A1: 69 25 00     	adc	#L568+16
 11058 06:29A4: 1B           	tcs
 11059 06:29A5: 98           	tya
 11060 06:29A6: 6B           	rtl
 11061                        ;}
 11062                        	.line	1544
 11063                        	.endblock	1544
 11064             00000015   L568	equ	21
 11065             00000009   L569	equ	9
 11066 06:29A7:              	ends
 11067                        	efunc
 11068                        	.endfunc	1544,9,21
 11069                        	.line	1544
 11070                        ;
 11071                        ;
 11072                        ;int k_put_binary_variablefont_point_ex(LPCHAR fon
                    tSet, char outChar,int cx,int cy,int width,int height,char c
                    olor,UINT page)
 11073                        ;{
 11074                        	.line	1547
 11075                        	.line	1548
 11076                        	GFX
 11077                        	xdef	~~k_put_binary_variablefont_point_ex
 11078                        	func
 11079                        	.function	1548
 11080                        ~~k_put_binary_variablefont_point_ex:
 11081                        	longa	on
 11082                        	longi	on
 11083 06:29A7: 3B           	tsc
 11084 06:29A8: 38           	sec
 11085 06:29A9: E9 15 00     	sbc	#L582
 11086 06:29AC: 1B           	tcs
 11087 06:29AD: 0B           	phd
 11088 06:29AE: 5B           	tcd
 11089             00000004   fontSet_0	set	4
 11090             00000008   outChar_0	set	8
 11091             0000000A   cx_0	set	10
 11092             0000000C   cy_0	set	12
 11093             0000000E   width_0	set	14
 11094             00000010   height_0	set	16
 11095             00000012   color_0	set	18
 11096             00000014   page_0	set	20
 11097                        	.block	1548
 11098                        ;	int x = 0;
 11099                        ;	int y = 0;
 11100                        ;	int textX = cx;
 11101                        ;	int textY = cy;
 11102                        ;	char tmp;
 11103                        ;
 11104                        ;	unsigned char FAR* img = NULL;//fontImg[ix];
 11105                        ;
 11106                        ;    if(outChar == 32)
 11107             00000000   x_1	set	0
 11108             00000002   y_1	set	2
 11109             00000004   textX_1	set	4
 11110             00000006   textY_1	set	6
 11111             00000008   tmp_1	set	8
  Sat Jul 10 2021  1:15                                                Page 207


 11112             00000009   img_1	set	9
 11113                        	.sym	x,0,5,1,16
 11114                        	.sym	y,2,5,1,16
 11115                        	.sym	textX,4,5,1,16
 11116                        	.sym	textY,6,5,1,16
 11117                        	.sym	tmp,8,14,1,8
 11118                        	.sym	img,9,142,1,32
 11119                        	.sym	fontSet,4,142,6,32
 11120                        	.sym	outChar,8,14,6,8
 11121                        	.sym	cx,10,5,6,16
 11122                        	.sym	cy,12,5,6,16
 11123                        	.sym	width,14,5,6,16
 11124                        	.sym	height,16,5,6,16
 11125                        	.sym	color,18,14,6,8
 11126                        	.sym	page,20,16,6,16
 11127 06:29AF: 64 09        	stz	<L583+x_1
 11128 06:29B1: 64 0B        	stz	<L583+y_1
 11129 06:29B3: A5 1F        	lda	<L582+cx_0
 11130 06:29B5: 85 0D        	sta	<L583+textX_1
 11131 06:29B7: A5 21        	lda	<L582+cy_0
 11132 06:29B9: 85 0F        	sta	<L583+textY_1
 11133 06:29BB: 64 12        	stz	<L583+img_1
 11134 06:29BD: 64 14        	stz	<L583+img_1+2
 11135                        	.line	1557
 11136                        ;	{
 11137 06:29BF: E2 20        	sep	#$20
 11138                        	longa	off
 11139 06:29C1: A5 1D        	lda	<L582+outChar_0
 11140 06:29C3: C9 20        	cmp	#<$20
 11141 06:29C5: C2 20        	rep	#$20
 11142                        	longa	on
 11143 06:29C7: F0 03        	beq	L585
 11144 06:29C9: 82 07 00     	brl	L10136
 11145                        L585:
 11146                        	.line	1558
 11147                        ;	   img = NULL;//fontSpace;
 11148                        	.line	1559
 11149 06:29CC: 64 12        	stz	<L583+img_1
 11150 06:29CE: 64 14        	stz	<L583+img_1+2
 11151                        ;    }
 11152                        	.line	1560
 11153                        ;    else if(outChar <= 0x0A)
 11154 06:29D0: 82 3E 00     	brl	L10137
 11155                        L10136:
 11156                        	.line	1561
 11157                        ;	{
 11158 06:29D3: E2 20        	sep	#$20
 11159                        	longa	off
 11160 06:29D5: A9 0A        	lda	#$a
 11161 06:29D7: C5 1D        	cmp	<L582+outChar_0
 11162 06:29D9: C2 20        	rep	#$20
 11163                        	longa	on
 11164 06:29DB: B0 03        	bcs	L586
 11165 06:29DD: 82 07 00     	brl	L10138
 11166                        L586:
 11167                        	.line	1562
 11168                        ;	   img = NULL;
 11169                        	.line	1563
  Sat Jul 10 2021  1:15                                                Page 208


 11170 06:29E0: 64 12        	stz	<L583+img_1
 11171 06:29E2: 64 14        	stz	<L583+img_1+2
 11172                        ;    }
 11173                        	.line	1564
 11174                        ;
 11175                        ;    else
 11176 06:29E4: 82 2A 00     	brl	L10139
 11177                        L10138:
 11178                        ;	{
 11179                        	.line	1567
 11180                        ;    	//img = fontSet+=(height*outChar);
 11181                        ;    	img = &fontSet[(height*outChar)];
 11182                        	.line	1569
 11183 06:29E7: A5 1D        	lda	<L582+outChar_0
 11184 06:29E9: 29 FF 00     	and	#$ff
 11185 06:29EC: 85 01        	sta	<R0
 11186 06:29EE: A5 01        	lda	<R0
 11187 06:29F0: A6 25        	ldx	<L582+height_0
 11188                        	xref	~~~mul
 11189 06:29F2: 22 xx xx xx  	jsl	~~~mul
 11190 06:29F6: 85 01        	sta	<R0
 11191 06:29F8: A0 00 00     	ldy	#$0
 11192 06:29FB: A5 01        	lda	<R0
 11193 06:29FD: 10 01        	bpl	L587
 11194 06:29FF: 88           	dey
 11195                        L587:
 11196 06:2A00: 85 01        	sta	<R0
 11197 06:2A02: 84 03        	sty	<R0+2
 11198 06:2A04: 18           	clc
 11199 06:2A05: A5 19        	lda	<L582+fontSet_0
 11200 06:2A07: 65 01        	adc	<R0
 11201 06:2A09: 85 12        	sta	<L583+img_1
 11202 06:2A0B: A5 1B        	lda	<L582+fontSet_0+2
 11203 06:2A0D: 65 03        	adc	<R0+2
 11204 06:2A0F: 85 14        	sta	<L583+img_1+2
 11205                        ;	}
 11206                        	.line	1570
 11207                        L10139:
 11208                        L10137:
 11209                        ;
 11210                        ;    if(img!=NULL)
 11211                        	.line	1572
 11212                        ;	{
 11213 06:2A11: A5 12        	lda	<L583+img_1
 11214 06:2A13: 05 14        	ora	<L583+img_1+2
 11215 06:2A15: D0 03        	bne	L588
 11216 06:2A17: 82 C8 00     	brl	L10140
 11217                        L588:
 11218                        	.line	1573
 11219                        ;		for (y = 0; y < height; y++)
 11220                        	.line	1574
 11221 06:2A1A: 64 0B        	stz	<L583+y_1
 11222 06:2A1C: 82 B4 00     	brl	L10144
 11223                        L10143:
 11224                        ;		{
 11225                        	.line	1575
 11226                        ;			tmp = img[y];
 11227                        	.line	1576
  Sat Jul 10 2021  1:15                                                Page 209


 11228 06:2A1F: E2 20        	sep	#$20
 11229                        	longa	off
 11230 06:2A21: A4 0B        	ldy	<L583+y_1
 11231 06:2A23: B7 12        	lda	[<L583+img_1],Y
 11232 06:2A25: 85 11        	sta	<L583+tmp_1
 11233 06:2A27: C2 20        	rep	#$20
 11234                        	longa	on
 11235                        ;
 11236                        ;			for (x = 0; x < width; x++)
 11237                        	.line	1578
 11238 06:2A29: 64 09        	stz	<L583+x_1
 11239 06:2A2B: 82 94 00     	brl	L10148
 11240                        L10147:
 11241                        ;			{
 11242                        	.line	1579
 11243                        ;				if(tmp & 0x80 )
 11244                        	.line	1580
 11245                        ;				{
 11246 06:2A2E: E2 20        	sep	#$20
 11247                        	longa	off
 11248 06:2A30: A5 11        	lda	<L583+tmp_1
 11249 06:2A32: 29 80        	and	#<$80
 11250 06:2A34: C2 20        	rep	#$20
 11251                        	longa	on
 11252 06:2A36: D0 03        	bne	L589
 11253 06:2A38: 82 7F 00     	brl	L10149
 11254                        L589:
 11255                        	.line	1581
 11256                        ;
 11257                        ;					switch(page)
 11258                        	.line	1583
 11259 06:2A3B: A5 29        	lda	<L582+page_0
 11260 06:2A3D: 82 6E 00     	brl	L10150
 11261                        ;					{
 11262                        	.line	1584
 11263                        ;					case BITMAP_BACK
                    :
 11264                        	.line	1585
 11265                        L10152:
 11266                        ;						k_draw_p
                    ixel_back(textX + x, textY + y,color);
 11267                        	.line	1586
 11268 06:2A40: D4 27        	pei	<L582+color_0
 11269 06:2A42: 18           	clc
 11270 06:2A43: A5 0F        	lda	<L583+textY_1
 11271 06:2A45: 65 0B        	adc	<L583+y_1
 11272 06:2A47: 85 01        	sta	<R0
 11273 06:2A49: A0 00 00     	ldy	#$0
 11274 06:2A4C: A5 01        	lda	<R0
 11275 06:2A4E: 10 01        	bpl	L590
 11276 06:2A50: 88           	dey
 11277                        L590:
 11278 06:2A51: 85 01        	sta	<R0
 11279 06:2A53: 84 03        	sty	<R0+2
 11280 06:2A55: D4 03        	pei	<R0+2
 11281 06:2A57: D4 01        	pei	<R0
 11282 06:2A59: 18           	clc
 11283 06:2A5A: A5 0D        	lda	<L583+textX_1
  Sat Jul 10 2021  1:15                                                Page 210


 11284 06:2A5C: 65 09        	adc	<L583+x_1
 11285 06:2A5E: 85 05        	sta	<R1
 11286 06:2A60: A0 00 00     	ldy	#$0
 11287 06:2A63: A5 05        	lda	<R1
 11288 06:2A65: 10 01        	bpl	L591
 11289 06:2A67: 88           	dey
 11290                        L591:
 11291 06:2A68: 85 05        	sta	<R1
 11292 06:2A6A: 84 07        	sty	<R1+2
 11293 06:2A6C: D4 07        	pei	<R1+2
 11294 06:2A6E: D4 05        	pei	<R1
 11295 06:2A70: 22 41 14 06  	jsl	~~k_draw_pixel_back
 11296                        ;						break;
 11297                        	.line	1587
 11298 06:2A74: 82 43 00     	brl	L10151
 11299                        ;					default:
 11300                        	.line	1588
 11301                        L10153:
 11302                        ;						k_draw_p
                    ixel_front(textX + x, textY + y,color);
 11303                        	.line	1589
 11304 06:2A77: D4 27        	pei	<L582+color_0
 11305 06:2A79: 18           	clc
 11306 06:2A7A: A5 0F        	lda	<L583+textY_1
 11307 06:2A7C: 65 0B        	adc	<L583+y_1
 11308 06:2A7E: 85 01        	sta	<R0
 11309 06:2A80: A0 00 00     	ldy	#$0
 11310 06:2A83: A5 01        	lda	<R0
 11311 06:2A85: 10 01        	bpl	L592
 11312 06:2A87: 88           	dey
 11313                        L592:
 11314 06:2A88: 85 01        	sta	<R0
 11315 06:2A8A: 84 03        	sty	<R0+2
 11316 06:2A8C: D4 03        	pei	<R0+2
 11317 06:2A8E: D4 01        	pei	<R0
 11318 06:2A90: 18           	clc
 11319 06:2A91: A5 0D        	lda	<L583+textX_1
 11320 06:2A93: 65 09        	adc	<L583+x_1
 11321 06:2A95: 85 05        	sta	<R1
 11322 06:2A97: A0 00 00     	ldy	#$0
 11323 06:2A9A: A5 05        	lda	<R1
 11324 06:2A9C: 10 01        	bpl	L593
 11325 06:2A9E: 88           	dey
 11326                        L593:
 11327 06:2A9F: 85 05        	sta	<R1
 11328 06:2AA1: 84 07        	sty	<R1+2
 11329 06:2AA3: D4 07        	pei	<R1+2
 11330 06:2AA5: D4 05        	pei	<R1
 11331 06:2AA7: 22 BB 13 06  	jsl	~~k_draw_pixel_front
 11332                        ;					}
 11333                        	.line	1590
 11334 06:2AAB: 82 0C 00     	brl	L10151
 11335                        L10150:
 11336                        	xref	~~~swt
 11337 06:2AAE: 22 xx xx xx  	jsl	~~~swt
 11338 06:2AB2: 01 00        	dw	1
 11339 06:2AB4: 08 00        	dw	8
 11340 06:2AB6: 3F 2A        	dw	L10152-1
  Sat Jul 10 2021  1:15                                                Page 211


 11341 06:2AB8: 76 2A        	dw	L10153-1
 11342                        L10151:
 11343                        ;					/*
 11344                        ;					//k_draw_pixel_e
                    x(textX + x, textY + y, color, page);
 11345                        ;					if(page)
 11346                        ;						k_draw_p
                    ixel_back(textX + x, textY + y, color);
 11347                        ;					else
 11348                        ;						k_draw_p
                    ixel_front(textX + x, textY + y, color);
 11349                        ;						*/
 11350                        ;				}
 11351                        	.line	1598
 11352                        ;				tmp = tmp << 1;
 11353                        L10149:
 11354                        	.line	1599
 11355 06:2ABA: E2 20        	sep	#$20
 11356                        	longa	off
 11357 06:2ABC: 06 11        	asl	<L583+tmp_1
 11358 06:2ABE: C2 20        	rep	#$20
 11359                        	longa	on
 11360                        ;			}
 11361                        	.line	1600
 11362                        L10145:
 11363 06:2AC0: E6 09        	inc	<L583+x_1
 11364                        L10148:
 11365 06:2AC2: 38           	sec
 11366 06:2AC3: A5 09        	lda	<L583+x_1
 11367 06:2AC5: E5 23        	sbc	<L582+width_0
 11368 06:2AC7: 70 03        	bvs	L594
 11369 06:2AC9: 49 00 80     	eor	#$8000
 11370                        L594:
 11371 06:2ACC: 30 03        	bmi	L595
 11372 06:2ACE: 82 5D FF     	brl	L10147
 11373                        L595:
 11374                        L10146:
 11375                        ;		} // end "for y"
 11376                        	.line	1601
 11377                        L10141:
 11378 06:2AD1: E6 0B        	inc	<L583+y_1
 11379                        L10144:
 11380 06:2AD3: 38           	sec
 11381 06:2AD4: A5 0B        	lda	<L583+y_1
 11382 06:2AD6: E5 25        	sbc	<L582+height_0
 11383 06:2AD8: 70 03        	bvs	L596
 11384 06:2ADA: 49 00 80     	eor	#$8000
 11385                        L596:
 11386 06:2ADD: 30 03        	bmi	L597
 11387 06:2ADF: 82 3D FF     	brl	L10143
 11388                        L597:
 11389                        L10142:
 11390                        ;	}
 11391                        	.line	1602
 11392                        ;	return FONTW;
 11393                        L10140:
 11394                        	.line	1603
 11395 06:2AE2: 22 06 82 06  	jsl	~~k_font_getFontWidth
  Sat Jul 10 2021  1:15                                                Page 212


 11396                        L598:
 11397 06:2AE6: A8           	tay
 11398 06:2AE7: A5 17        	lda	<L582+2
 11399 06:2AE9: 85 29        	sta	<L582+2+18
 11400 06:2AEB: A5 16        	lda	<L582+1
 11401 06:2AED: 85 28        	sta	<L582+1+18
 11402 06:2AEF: 2B           	pld
 11403 06:2AF0: 3B           	tsc
 11404 06:2AF1: 18           	clc
 11405 06:2AF2: 69 27 00     	adc	#L582+18
 11406 06:2AF5: 1B           	tcs
 11407 06:2AF6: 98           	tya
 11408 06:2AF7: 6B           	rtl
 11409                        ;}
 11410                        	.line	1604
 11411                        	.endblock	1604
 11412             00000015   L582	equ	21
 11413             00000009   L583	equ	9
 11414 06:2AF8:              	ends
 11415                        	efunc
 11416                        	.endfunc	1604,9,21
 11417                        	.line	1604
 11418                        ;
 11419                        ;/*
 11420                        ;int k_render_wingadget(char gadgetCode,int cx,int
                     cy,char color,OBJECTCLICKED callback)
 11421                        ;{
 11422                        ;	PCLICKDETECTED pcd = NULL;
 11423                        ;
 11424                        ;	int retCode = 0;
 11425                        ;
 11426                        ;	k_put_wingadget_point(gadgetCode,cx,cy,color);
 11427                        ;
 11428                        ;	pcd = k_mem_allocate_heap(sizeof(CLICKDETECTED))
                    ;
 11429                        ;	if(pcd)
 11430                        ;	{
 11431                        ;		pcd->window  = k_create_ui_window_class(
                    cx,cy,FONTH,FONTW,"disk","gadget",NULL);
 11432                        ;		pcd->handler = callback;
 11433                        ;		k_add_window_hit_node(pcd);
 11434                        ;	}
 11435                        ;
 11436                        ;	return retCode;
 11437                        ;}
 11438                        ;*/
 11439                        ;
 11440                        ;
 11441                        ;int k_put_wingadget_point(char gadgetCode,int cx,
                    int cy,char color)
 11442                        ;{
 11443                        	.line	1628
 11444                        	.line	1629
 11445                        	GFX
 11446                        	xdef	~~k_put_wingadget_point
 11447                        	func
 11448                        	.function	1629
 11449                        ~~k_put_wingadget_point:
  Sat Jul 10 2021  1:15                                                Page 213


 11450                        	longa	on
 11451                        	longi	on
 11452 06:2AF8: 3B           	tsc
 11453 06:2AF9: 38           	sec
 11454 06:2AFA: E9 15 00     	sbc	#L599
 11455 06:2AFD: 1B           	tcs
 11456 06:2AFE: 0B           	phd
 11457 06:2AFF: 5B           	tcd
 11458             00000004   gadgetCode_0	set	4
 11459             00000006   cx_0	set	6
 11460             00000008   cy_0	set	8
 11461             0000000A   color_0	set	10
 11462                        	.block	1629
 11463                        ;	int x = 0;
 11464                        ;	int y = 0;
 11465                        ;	int textX = cx;
 11466                        ;	int textY = cy;
 11467                        ;
 11468                        ;	char FAR* img = NULL;//fontImg[ix];
 11469                        ;
 11470                        ;
 11471                        ;    img = windowChromeImg[(int)(gadgetCode & 0xFF
                    )];
 11472             00000000   x_1	set	0
 11473             00000002   y_1	set	2
 11474             00000004   textX_1	set	4
 11475             00000006   textY_1	set	6
 11476             00000008   img_1	set	8
 11477                        	.sym	x,0,5,1,16
 11478                        	.sym	y,2,5,1,16
 11479                        	.sym	textX,4,5,1,16
 11480                        	.sym	textY,6,5,1,16
 11481                        	.sym	img,8,142,1,32
 11482                        	.sym	gadgetCode,4,14,6,8
 11483                        	.sym	cx,6,5,6,16
 11484                        	.sym	cy,8,5,6,16
 11485                        	.sym	color,10,14,6,8
 11486 06:2B00: 64 09        	stz	<L600+x_1
 11487 06:2B02: 64 0B        	stz	<L600+y_1
 11488 06:2B04: A5 1B        	lda	<L599+cx_0
 11489 06:2B06: 85 0D        	sta	<L600+textX_1
 11490 06:2B08: A5 1D        	lda	<L599+cy_0
 11491 06:2B0A: 85 0F        	sta	<L600+textY_1
 11492 06:2B0C: 64 11        	stz	<L600+img_1
 11493 06:2B0E: 64 13        	stz	<L600+img_1+2
 11494                        	.line	1638
 11495 06:2B10: A5 19        	lda	<L599+gadgetCode_0
 11496 06:2B12: 29 FF 00     	and	#<$ff
 11497 06:2B15: 85 05        	sta	<R1
 11498 06:2B17: A0 00 00     	ldy	#$0
 11499 06:2B1A: A5 05        	lda	<R1
 11500 06:2B1C: 10 01        	bpl	L602
 11501 06:2B1E: 88           	dey
 11502                        L602:
 11503 06:2B1F: 85 05        	sta	<R1
 11504 06:2B21: 84 07        	sty	<R1+2
 11505 06:2B23: D4 07        	pei	<R1+2
 11506 06:2B25: D4 05        	pei	<R1
  Sat Jul 10 2021  1:15                                                Page 214


 11507 06:2B27: A9 06 00     	lda	#$6
 11508                        	xref	~~~lasl
 11509 06:2B2A: 22 xx xx xx  	jsl	~~~lasl
 11510 06:2B2E: 85 01        	sta	<R0
 11511 06:2B30: 86 03        	stx	<R0+2
 11512 06:2B32: 18           	clc
 11513 06:2B33: A9 xx xx     	lda	#<~~windowChromeImg
 11514 06:2B36: 65 01        	adc	<R0
 11515 06:2B38: 85 11        	sta	<L600+img_1
 11516 06:2B3A: A9 xx xx     	lda	#^~~windowChromeImg
 11517 06:2B3D: 65 03        	adc	<R0+2
 11518 06:2B3F: 85 13        	sta	<L600+img_1+2
 11519                        ;	if(img!=NULL)
 11520                        	.line	1639
 11521                        ;	{
 11522 06:2B41: A5 11        	lda	<L600+img_1
 11523 06:2B43: 05 13        	ora	<L600+img_1+2
 11524 06:2B45: D0 03        	bne	L603
 11525 06:2B47: 82 91 00     	brl	L10154
 11526                        L603:
 11527                        	.line	1640
 11528                        ;		for (y = 0; y < FONTH; y++) 
 11529                        	.line	1641
 11530 06:2B4A: 64 0B        	stz	<L600+y_1
 11531 06:2B4C: 82 7D 00     	brl	L10158
 11532                        L10157:
 11533                        ;		{
 11534                        	.line	1642
 11535                        ;			// loop through pixel columns
 11536                        ;			for (x = 0; x < FONTW; x++) 
 11537                        	.line	1644
 11538 06:2B4F: 64 09        	stz	<L600+x_1
 11539 06:2B51: 82 67 00     	brl	L10162
 11540                        L10161:
 11541                        ;			{
 11542                        	.line	1645
 11543                        ;				// get the pixel value
 11544                        ;				char b = img[y * FONTW +
                     x];
 11545                        ;				if (b > 0) 
 11546                        	.block	1648
 11547             0000000C   b_2	set	12
 11548                        	.sym	b,12,14,1,8
 11549 06:2B54: 22 06 82 06  	jsl	~~k_font_getFontWidth
 11550 06:2B58: 85 01        	sta	<R0
 11551 06:2B5A: A5 01        	lda	<R0
 11552 06:2B5C: A6 0B        	ldx	<L600+y_1
 11553                        	xref	~~~mul
 11554 06:2B5E: 22 xx xx xx  	jsl	~~~mul
 11555 06:2B62: 85 01        	sta	<R0
 11556 06:2B64: 18           	clc
 11557 06:2B65: A5 01        	lda	<R0
 11558 06:2B67: 65 09        	adc	<L600+x_1
 11559 06:2B69: 85 05        	sta	<R1
 11560 06:2B6B: E2 20        	sep	#$20
 11561                        	longa	off
 11562 06:2B6D: A4 05        	ldy	<R1
 11563 06:2B6F: B7 11        	lda	[<L600+img_1],Y
  Sat Jul 10 2021  1:15                                                Page 215


 11564 06:2B71: 85 15        	sta	<L600+b_2
 11565 06:2B73: C2 20        	rep	#$20
 11566                        	longa	on
 11567                        	.line	1648
 11568                        ;				{ // plot the pixel
 11569 06:2B75: E2 20        	sep	#$20
 11570                        	longa	off
 11571 06:2B77: A9 00        	lda	#$0
 11572 06:2B79: C5 15        	cmp	<L600+b_2
 11573 06:2B7B: C2 20        	rep	#$20
 11574                        	longa	on
 11575 06:2B7D: 90 03        	bcc	L605
 11576 06:2B7F: 82 37 00     	brl	L10163
 11577                        L605:
 11578                        	.line	1649
 11579                        ;					k_draw_pixel(tex
                    tX + x, textY + y, color);
 11580                        	.line	1650
 11581 06:2B82: D4 1F        	pei	<L599+color_0
 11582 06:2B84: 18           	clc
 11583 06:2B85: A5 0F        	lda	<L600+textY_1
 11584 06:2B87: 65 0B        	adc	<L600+y_1
 11585 06:2B89: 85 01        	sta	<R0
 11586 06:2B8B: A0 00 00     	ldy	#$0
 11587 06:2B8E: A5 01        	lda	<R0
 11588 06:2B90: 10 01        	bpl	L606
 11589 06:2B92: 88           	dey
 11590                        L606:
 11591 06:2B93: 85 01        	sta	<R0
 11592 06:2B95: 84 03        	sty	<R0+2
 11593 06:2B97: D4 03        	pei	<R0+2
 11594 06:2B99: D4 01        	pei	<R0
 11595 06:2B9B: 18           	clc
 11596 06:2B9C: A5 0D        	lda	<L600+textX_1
 11597 06:2B9E: 65 09        	adc	<L600+x_1
 11598 06:2BA0: 85 05        	sta	<R1
 11599 06:2BA2: A0 00 00     	ldy	#$0
 11600 06:2BA5: A5 05        	lda	<R1
 11601 06:2BA7: 10 01        	bpl	L607
 11602 06:2BA9: 88           	dey
 11603                        L607:
 11604 06:2BAA: 85 05        	sta	<R1
 11605 06:2BAC: 84 07        	sty	<R1+2
 11606 06:2BAE: D4 07        	pei	<R1+2
 11607 06:2BB0: D4 05        	pei	<R1
 11608 06:2BB2: 22 35 13 06  	jsl	~~k_draw_pixel
 11609                        ;				}
 11610                        	.line	1651
 11611                        ;				else 
 11612 06:2BB6: 82 00 00     	brl	L10164
 11613                        L10163:
 11614                        ;				{ 
 11615                        	.line	1653
 11616                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 11617                        ;				}
 11618                        	.line	1655
 11619                        L10164:
  Sat Jul 10 2021  1:15                                                Page 216


 11620                        ;			} // end "for x"
 11621                        	.endblock	1656
 11622                        	.line	1656
 11623                        L10159:
 11624 06:2BB9: E6 09        	inc	<L600+x_1
 11625                        L10162:
 11626 06:2BBB: 22 06 82 06  	jsl	~~k_font_getFontWidth
 11627 06:2BBF: 85 01        	sta	<R0
 11628 06:2BC1: A5 09        	lda	<L600+x_1
 11629 06:2BC3: C5 01        	cmp	<R0
 11630 06:2BC5: B0 03        	bcs	L608
 11631 06:2BC7: 82 8A FF     	brl	L10161
 11632                        L608:
 11633                        L10160:
 11634                        ;		} // end "for y"
 11635                        	.line	1657
 11636                        L10155:
 11637 06:2BCA: E6 0B        	inc	<L600+y_1
 11638                        L10158:
 11639 06:2BCC: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 11640 06:2BD0: 85 01        	sta	<R0
 11641 06:2BD2: A5 0B        	lda	<L600+y_1
 11642 06:2BD4: C5 01        	cmp	<R0
 11643 06:2BD6: B0 03        	bcs	L609
 11644 06:2BD8: 82 74 FF     	brl	L10157
 11645                        L609:
 11646                        L10156:
 11647                        ;	}
 11648                        	.line	1658
 11649                        ;	return FONTW;
 11650                        L10154:
 11651                        	.line	1659
 11652 06:2BDB: 22 06 82 06  	jsl	~~k_font_getFontWidth
 11653                        L610:
 11654 06:2BDF: A8           	tay
 11655 06:2BE0: A5 17        	lda	<L599+2
 11656 06:2BE2: 85 1F        	sta	<L599+2+8
 11657 06:2BE4: A5 16        	lda	<L599+1
 11658 06:2BE6: 85 1E        	sta	<L599+1+8
 11659 06:2BE8: 2B           	pld
 11660 06:2BE9: 3B           	tsc
 11661 06:2BEA: 18           	clc
 11662 06:2BEB: 69 1D 00     	adc	#L599+8
 11663 06:2BEE: 1B           	tcs
 11664 06:2BEF: 98           	tya
 11665 06:2BF0: 6B           	rtl
 11666                        ;}
 11667                        	.line	1660
 11668                        	.endblock	1660
 11669             00000015   L599	equ	21
 11670             00000009   L600	equ	9
 11671 06:2BF1:              	ends
 11672                        	efunc
 11673                        	.endfunc	1660,9,21
 11674                        	.line	1660
 11675                        ;
 11676                        ;int k_gui_DrawWidget(HWND hWnd,UINT gadgetId,PREC
                    T prect,UINT color,UINT page)
  Sat Jul 10 2021  1:15                                                Page 217


 11677                        ;{
 11678                        	.line	1662
 11679                        	.line	1663
 11680                        	GFX
 11681                        	xdef	~~k_gui_DrawWidget
 11682                        	func
 11683                        	.function	1663
 11684                        ~~k_gui_DrawWidget:
 11685                        	longa	on
 11686                        	longi	on
 11687 06:2BF1: 3B           	tsc
 11688 06:2BF2: 38           	sec
 11689 06:2BF3: E9 0A 00     	sbc	#L611
 11690 06:2BF6: 1B           	tcs
 11691 06:2BF7: 0B           	phd
 11692 06:2BF8: 5B           	tcd
 11693             00000004   hWnd_0	set	4
 11694             00000008   gadgetId_0	set	8
 11695             0000000A   prect_0	set	10
 11696             0000000E   color_0	set	14
 11697             00000010   page_0	set	16
 11698                        	.block	1663
 11699                        ;	int ymax = ((PWINDOW)hWnd)->clientRect.y + ((PWI
                    NDOW)hWnd)->clientRect.height - 1;
 11700                        ;
 11701                        ;	if(((prect->y + FONTH) >= ymax))
 11702             00000000   ymax_1	set	0
 11703                        	.sym	ymax,0,5,1,16
 11704                        	.sym	hWnd,4,129,6,32
 11705                        	.sym	gadgetId,8,16,6,16
 11706                        	.sym	prect,10,138,6,32,26
 11707                        	.sym	color,14,16,6,16
 11708                        	.sym	page,16,16,6,16
 11709 06:2BF9: 18           	clc
 11710 06:2BFA: A0 2C 00     	ldy	#$2c
 11711 06:2BFD: B7 0E        	lda	[<L611+hWnd_0],Y
 11712 06:2BFF: A0 34 00     	ldy	#$34
 11713 06:2C02: 77 0E        	adc	[<L611+hWnd_0],Y
 11714 06:2C04: 85 01        	sta	<R0
 11715 06:2C06: 18           	clc
 11716 06:2C07: A9 FF FF     	lda	#$ffff
 11717 06:2C0A: 65 01        	adc	<R0
 11718 06:2C0C: 85 09        	sta	<L612+ymax_1
 11719                        	.line	1666
 11720                        ;		return -1;
 11721 06:2C0E: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 11722 06:2C12: 85 01        	sta	<R0
 11723 06:2C14: 18           	clc
 11724 06:2C15: A5 01        	lda	<R0
 11725 06:2C17: A0 02 00     	ldy	#$2
 11726 06:2C1A: 77 14        	adc	[<L611+prect_0],Y
 11727 06:2C1C: 85 05        	sta	<R1
 11728 06:2C1E: A5 05        	lda	<R1
 11729 06:2C20: C5 09        	cmp	<L612+ymax_1
 11730 06:2C22: B0 03        	bcs	L614
 11731 06:2C24: 82 15 00     	brl	L10165
 11732                        L614:
 11733                        	.line	1667
  Sat Jul 10 2021  1:15                                                Page 218


 11734 06:2C27: A9 FF FF     	lda	#$ffff
 11735                        L615:
 11736 06:2C2A: A8           	tay
 11737 06:2C2B: A5 0C        	lda	<L611+2
 11738 06:2C2D: 85 1A        	sta	<L611+2+14
 11739 06:2C2F: A5 0B        	lda	<L611+1
 11740 06:2C31: 85 19        	sta	<L611+1+14
 11741 06:2C33: 2B           	pld
 11742 06:2C34: 3B           	tsc
 11743 06:2C35: 18           	clc
 11744 06:2C36: 69 18 00     	adc	#L611+14
 11745 06:2C39: 1B           	tcs
 11746 06:2C3A: 98           	tya
 11747 06:2C3B: 6B           	rtl
 11748                        ;
 11749                        ;	return k_put_wingadget_point_ex(gadgetId,prect->
                    x,prect->y,color,page);
 11750                        L10165:
 11751                        	.line	1669
 11752 06:2C3C: D4 1A        	pei	<L611+page_0
 11753 06:2C3E: D4 18        	pei	<L611+color_0
 11754 06:2C40: A0 02 00     	ldy	#$2
 11755 06:2C43: B7 14        	lda	[<L611+prect_0],Y
 11756 06:2C45: 48           	pha
 11757 06:2C46: A7 14        	lda	[<L611+prect_0]
 11758 06:2C48: 48           	pha
 11759 06:2C49: D4 12        	pei	<L611+gadgetId_0
 11760 06:2C4B: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 11761 06:2C4F: 82 D8 FF     	brl	L615
 11762                        ;}
 11763                        	.line	1670
 11764                        	.endblock	1670
 11765             0000000A   L611	equ	10
 11766             00000009   L612	equ	9
 11767 06:2C52:              	ends
 11768                        	efunc
 11769                        	.endfunc	1670,9,10
 11770                        	.line	1670
 11771                        ;
 11772                        ;int k_put_wingadget_point_ex(char gadgetCode,int 
                    cx,int cy,char color,UINT page)
 11773                        ;{
 11774                        	.line	1672
 11775                        	.line	1673
 11776                        	GFX
 11777                        	xdef	~~k_put_wingadget_point_ex
 11778                        	func
 11779                        	.function	1673
 11780                        ~~k_put_wingadget_point_ex:
 11781                        	longa	on
 11782                        	longi	on
 11783 06:2C52: 3B           	tsc
 11784 06:2C53: 38           	sec
 11785 06:2C54: E9 15 00     	sbc	#L616
 11786 06:2C57: 1B           	tcs
 11787 06:2C58: 0B           	phd
 11788 06:2C59: 5B           	tcd
 11789             00000004   gadgetCode_0	set	4
  Sat Jul 10 2021  1:15                                                Page 219


 11790             00000006   cx_0	set	6
 11791             00000008   cy_0	set	8
 11792             0000000A   color_0	set	10
 11793             0000000C   page_0	set	12
 11794                        	.block	1673
 11795                        ;	int x = 0;
 11796                        ;	int y = 0;
 11797                        ;	int textX = cx;
 11798                        ;	int textY = cy;
 11799                        ;
 11800                        ;	char FAR* img = NULL;//fontImg[ix];
 11801                        ;
 11802                        ;
 11803                        ;    img = windowChromeImg[(int)(gadgetCode & 0xFF
                    )];
 11804             00000000   x_1	set	0
 11805             00000002   y_1	set	2
 11806             00000004   textX_1	set	4
 11807             00000006   textY_1	set	6
 11808             00000008   img_1	set	8
 11809                        	.sym	x,0,5,1,16
 11810                        	.sym	y,2,5,1,16
 11811                        	.sym	textX,4,5,1,16
 11812                        	.sym	textY,6,5,1,16
 11813                        	.sym	img,8,142,1,32
 11814                        	.sym	gadgetCode,4,14,6,8
 11815                        	.sym	cx,6,5,6,16
 11816                        	.sym	cy,8,5,6,16
 11817                        	.sym	color,10,14,6,8
 11818                        	.sym	page,12,16,6,16
 11819 06:2C5A: 64 09        	stz	<L617+x_1
 11820 06:2C5C: 64 0B        	stz	<L617+y_1
 11821 06:2C5E: A5 1B        	lda	<L616+cx_0
 11822 06:2C60: 85 0D        	sta	<L617+textX_1
 11823 06:2C62: A5 1D        	lda	<L616+cy_0
 11824 06:2C64: 85 0F        	sta	<L617+textY_1
 11825 06:2C66: 64 11        	stz	<L617+img_1
 11826 06:2C68: 64 13        	stz	<L617+img_1+2
 11827                        	.line	1682
 11828 06:2C6A: A5 19        	lda	<L616+gadgetCode_0
 11829 06:2C6C: 29 FF 00     	and	#<$ff
 11830 06:2C6F: 85 05        	sta	<R1
 11831 06:2C71: A0 00 00     	ldy	#$0
 11832 06:2C74: A5 05        	lda	<R1
 11833 06:2C76: 10 01        	bpl	L619
 11834 06:2C78: 88           	dey
 11835                        L619:
 11836 06:2C79: 85 05        	sta	<R1
 11837 06:2C7B: 84 07        	sty	<R1+2
 11838 06:2C7D: D4 07        	pei	<R1+2
 11839 06:2C7F: D4 05        	pei	<R1
 11840 06:2C81: A9 06 00     	lda	#$6
 11841                        	xref	~~~lasl
 11842 06:2C84: 22 xx xx xx  	jsl	~~~lasl
 11843 06:2C88: 85 01        	sta	<R0
 11844 06:2C8A: 86 03        	stx	<R0+2
 11845 06:2C8C: 18           	clc
 11846 06:2C8D: A9 xx xx     	lda	#<~~windowChromeImg
  Sat Jul 10 2021  1:15                                                Page 220


 11847 06:2C90: 65 01        	adc	<R0
 11848 06:2C92: 85 11        	sta	<L617+img_1
 11849 06:2C94: A9 xx xx     	lda	#^~~windowChromeImg
 11850 06:2C97: 65 03        	adc	<R0+2
 11851 06:2C99: 85 13        	sta	<L617+img_1+2
 11852                        ;	if(img!=NULL)
 11853                        	.line	1683
 11854                        ;	{
 11855 06:2C9B: A5 11        	lda	<L617+img_1
 11856 06:2C9D: 05 13        	ora	<L617+img_1+2
 11857 06:2C9F: D0 03        	bne	L620
 11858 06:2CA1: 82 DC 00     	brl	L10166
 11859                        L620:
 11860                        	.line	1684
 11861                        ;		for (y = 0; y < FONTH; y++)
 11862                        	.line	1685
 11863 06:2CA4: 64 0B        	stz	<L617+y_1
 11864 06:2CA6: 82 C8 00     	brl	L10170
 11865                        L10169:
 11866                        ;		{
 11867                        	.line	1686
 11868                        ;			// loop through pixel columns
 11869                        ;			for (x = 0; x < FONTW; x++)
 11870                        	.line	1688
 11871 06:2CA9: 64 09        	stz	<L617+x_1
 11872 06:2CAB: 82 B2 00     	brl	L10174
 11873                        L10173:
 11874                        ;			{
 11875                        	.line	1689
 11876                        ;				// get the pixel value
 11877                        ;				char b = img[y * FONTW +
                     x];
 11878                        ;				if (b > 0)
 11879                        	.block	1692
 11880             0000000C   b_2	set	12
 11881                        	.sym	b,12,14,1,8
 11882 06:2CAE: 22 06 82 06  	jsl	~~k_font_getFontWidth
 11883 06:2CB2: 85 01        	sta	<R0
 11884 06:2CB4: A5 01        	lda	<R0
 11885 06:2CB6: A6 0B        	ldx	<L617+y_1
 11886                        	xref	~~~mul
 11887 06:2CB8: 22 xx xx xx  	jsl	~~~mul
 11888 06:2CBC: 85 01        	sta	<R0
 11889 06:2CBE: 18           	clc
 11890 06:2CBF: A5 01        	lda	<R0
 11891 06:2CC1: 65 09        	adc	<L617+x_1
 11892 06:2CC3: 85 05        	sta	<R1
 11893 06:2CC5: E2 20        	sep	#$20
 11894                        	longa	off
 11895 06:2CC7: A4 05        	ldy	<R1
 11896 06:2CC9: B7 11        	lda	[<L617+img_1],Y
 11897 06:2CCB: 85 15        	sta	<L617+b_2
 11898 06:2CCD: C2 20        	rep	#$20
 11899                        	longa	on
 11900                        	.line	1692
 11901                        ;				{ // plot the pixel
 11902 06:2CCF: E2 20        	sep	#$20
 11903                        	longa	off
  Sat Jul 10 2021  1:15                                                Page 221


 11904 06:2CD1: A9 00        	lda	#$0
 11905 06:2CD3: C5 15        	cmp	<L617+b_2
 11906 06:2CD5: C2 20        	rep	#$20
 11907                        	longa	on
 11908 06:2CD7: 90 03        	bcc	L622
 11909 06:2CD9: 82 82 00     	brl	L10175
 11910                        L622:
 11911                        	.line	1693
 11912                        ;					//k_draw_pixel_e
                    x(textX + x, textY + y, color,page);
 11913                        ;					switch(page)
 11914                        	.line	1695
 11915 06:2CDC: A5 21        	lda	<L616+page_0
 11916 06:2CDE: 82 6E 00     	brl	L10176
 11917                        ;					{
 11918                        	.line	1696
 11919                        ;					case BITMAP_BACK
                    :
 11920                        	.line	1697
 11921                        L10178:
 11922                        ;						k_draw_p
                    ixel_back(textX + x, textY + y,color);
 11923                        	.line	1698
 11924 06:2CE1: D4 1F        	pei	<L616+color_0
 11925 06:2CE3: 18           	clc
 11926 06:2CE4: A5 0F        	lda	<L617+textY_1
 11927 06:2CE6: 65 0B        	adc	<L617+y_1
 11928 06:2CE8: 85 01        	sta	<R0
 11929 06:2CEA: A0 00 00     	ldy	#$0
 11930 06:2CED: A5 01        	lda	<R0
 11931 06:2CEF: 10 01        	bpl	L623
 11932 06:2CF1: 88           	dey
 11933                        L623:
 11934 06:2CF2: 85 01        	sta	<R0
 11935 06:2CF4: 84 03        	sty	<R0+2
 11936 06:2CF6: D4 03        	pei	<R0+2
 11937 06:2CF8: D4 01        	pei	<R0
 11938 06:2CFA: 18           	clc
 11939 06:2CFB: A5 0D        	lda	<L617+textX_1
 11940 06:2CFD: 65 09        	adc	<L617+x_1
 11941 06:2CFF: 85 05        	sta	<R1
 11942 06:2D01: A0 00 00     	ldy	#$0
 11943 06:2D04: A5 05        	lda	<R1
 11944 06:2D06: 10 01        	bpl	L624
 11945 06:2D08: 88           	dey
 11946                        L624:
 11947 06:2D09: 85 05        	sta	<R1
 11948 06:2D0B: 84 07        	sty	<R1+2
 11949 06:2D0D: D4 07        	pei	<R1+2
 11950 06:2D0F: D4 05        	pei	<R1
 11951 06:2D11: 22 41 14 06  	jsl	~~k_draw_pixel_back
 11952                        ;						break;
 11953                        	.line	1699
 11954 06:2D15: 82 43 00     	brl	L10177
 11955                        ;					default:
 11956                        	.line	1700
 11957                        L10179:
 11958                        ;						k_draw_p
  Sat Jul 10 2021  1:15                                                Page 222


                    ixel_front(textX + x, textY + y,color);
 11959                        	.line	1701
 11960 06:2D18: D4 1F        	pei	<L616+color_0
 11961 06:2D1A: 18           	clc
 11962 06:2D1B: A5 0F        	lda	<L617+textY_1
 11963 06:2D1D: 65 0B        	adc	<L617+y_1
 11964 06:2D1F: 85 01        	sta	<R0
 11965 06:2D21: A0 00 00     	ldy	#$0
 11966 06:2D24: A5 01        	lda	<R0
 11967 06:2D26: 10 01        	bpl	L625
 11968 06:2D28: 88           	dey
 11969                        L625:
 11970 06:2D29: 85 01        	sta	<R0
 11971 06:2D2B: 84 03        	sty	<R0+2
 11972 06:2D2D: D4 03        	pei	<R0+2
 11973 06:2D2F: D4 01        	pei	<R0
 11974 06:2D31: 18           	clc
 11975 06:2D32: A5 0D        	lda	<L617+textX_1
 11976 06:2D34: 65 09        	adc	<L617+x_1
 11977 06:2D36: 85 05        	sta	<R1
 11978 06:2D38: A0 00 00     	ldy	#$0
 11979 06:2D3B: A5 05        	lda	<R1
 11980 06:2D3D: 10 01        	bpl	L626
 11981 06:2D3F: 88           	dey
 11982                        L626:
 11983 06:2D40: 85 05        	sta	<R1
 11984 06:2D42: 84 07        	sty	<R1+2
 11985 06:2D44: D4 07        	pei	<R1+2
 11986 06:2D46: D4 05        	pei	<R1
 11987 06:2D48: 22 BB 13 06  	jsl	~~k_draw_pixel_front
 11988                        ;					}
 11989                        	.line	1702
 11990 06:2D4C: 82 0C 00     	brl	L10177
 11991                        L10176:
 11992                        	xref	~~~swt
 11993 06:2D4F: 22 xx xx xx  	jsl	~~~swt
 11994 06:2D53: 01 00        	dw	1
 11995 06:2D55: 08 00        	dw	8
 11996 06:2D57: E0 2C        	dw	L10178-1
 11997 06:2D59: 17 2D        	dw	L10179-1
 11998                        L10177:
 11999                        ;				}
 12000                        	.line	1703
 12001                        ;				else
 12002 06:2D5B: 82 00 00     	brl	L10180
 12003                        L10175:
 12004                        ;				{
 12005                        	.line	1705
 12006                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 12007                        ;				}
 12008                        	.line	1707
 12009                        L10180:
 12010                        ;			} // end "for x"
 12011                        	.endblock	1708
 12012                        	.line	1708
 12013                        L10171:
 12014 06:2D5E: E6 09        	inc	<L617+x_1
  Sat Jul 10 2021  1:15                                                Page 223


 12015                        L10174:
 12016 06:2D60: 22 06 82 06  	jsl	~~k_font_getFontWidth
 12017 06:2D64: 85 01        	sta	<R0
 12018 06:2D66: A5 09        	lda	<L617+x_1
 12019 06:2D68: C5 01        	cmp	<R0
 12020 06:2D6A: B0 03        	bcs	L627
 12021 06:2D6C: 82 3F FF     	brl	L10173
 12022                        L627:
 12023                        L10172:
 12024                        ;		} // end "for y"
 12025                        	.line	1709
 12026                        L10167:
 12027 06:2D6F: E6 0B        	inc	<L617+y_1
 12028                        L10170:
 12029 06:2D71: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 12030 06:2D75: 85 01        	sta	<R0
 12031 06:2D77: A5 0B        	lda	<L617+y_1
 12032 06:2D79: C5 01        	cmp	<R0
 12033 06:2D7B: B0 03        	bcs	L628
 12034 06:2D7D: 82 29 FF     	brl	L10169
 12035                        L628:
 12036                        L10168:
 12037                        ;	}
 12038                        	.line	1710
 12039                        ;	return FONTW;
 12040                        L10166:
 12041                        	.line	1711
 12042 06:2D80: 22 06 82 06  	jsl	~~k_font_getFontWidth
 12043                        L629:
 12044 06:2D84: A8           	tay
 12045 06:2D85: A5 17        	lda	<L616+2
 12046 06:2D87: 85 21        	sta	<L616+2+10
 12047 06:2D89: A5 16        	lda	<L616+1
 12048 06:2D8B: 85 20        	sta	<L616+1+10
 12049 06:2D8D: 2B           	pld
 12050 06:2D8E: 3B           	tsc
 12051 06:2D8F: 18           	clc
 12052 06:2D90: 69 1F 00     	adc	#L616+10
 12053 06:2D93: 1B           	tcs
 12054 06:2D94: 98           	tya
 12055 06:2D95: 6B           	rtl
 12056                        ;}
 12057                        	.line	1712
 12058                        	.endblock	1712
 12059             00000015   L616	equ	21
 12060             00000009   L617	equ	9
 12061 06:2D96:              	ends
 12062                        	efunc
 12063                        	.endfunc	1712,9,21
 12064                        	.line	1712
 12065                        ;
 12066                        ;int k_put_winicon_point(char iconCode,int cx,int 
                    cy,int paletteId,int mode)
 12067                        ;{
 12068                        	.line	1714
 12069                        	.line	1715
 12070                        	GFX
 12071                        	xdef	~~k_put_winicon_point
  Sat Jul 10 2021  1:15                                                Page 224


 12072                        	func
 12073                        	.function	1715
 12074                        ~~k_put_winicon_point:
 12075                        	longa	on
 12076                        	longi	on
 12077 06:2D96: 3B           	tsc
 12078 06:2D97: 38           	sec
 12079 06:2D98: E9 15 00     	sbc	#L630
 12080 06:2D9B: 1B           	tcs
 12081 06:2D9C: 0B           	phd
 12082 06:2D9D: 5B           	tcd
 12083             00000004   iconCode_0	set	4
 12084             00000006   cx_0	set	6
 12085             00000008   cy_0	set	8
 12086             0000000A   paletteId_0	set	10
 12087             0000000C   mode_0	set	12
 12088                        	.block	1715
 12089                        ;	int x = 0;
 12090                        ;	int y = 0;
 12091                        ;	int textX = cx;
 12092                        ;	int textY = cy;
 12093                        ;
 12094                        ;	char FAR* img = NULL;
 12095                        ;	
 12096                        ;    img = windowIconImg[(int)(iconCode & 0xFF)];
 12097             00000000   x_1	set	0
 12098             00000002   y_1	set	2
 12099             00000004   textX_1	set	4
 12100             00000006   textY_1	set	6
 12101             00000008   img_1	set	8
 12102                        	.sym	x,0,5,1,16
 12103                        	.sym	y,2,5,1,16
 12104                        	.sym	textX,4,5,1,16
 12105                        	.sym	textY,6,5,1,16
 12106                        	.sym	img,8,142,1,32
 12107                        	.sym	iconCode,4,14,6,8
 12108                        	.sym	cx,6,5,6,16
 12109                        	.sym	cy,8,5,6,16
 12110                        	.sym	paletteId,10,5,6,16
 12111                        	.sym	mode,12,5,6,16
 12112 06:2D9E: 64 09        	stz	<L631+x_1
 12113 06:2DA0: 64 0B        	stz	<L631+y_1
 12114 06:2DA2: A5 1B        	lda	<L630+cx_0
 12115 06:2DA4: 85 0D        	sta	<L631+textX_1
 12116 06:2DA6: A5 1D        	lda	<L630+cy_0
 12117 06:2DA8: 85 0F        	sta	<L631+textY_1
 12118 06:2DAA: 64 11        	stz	<L631+img_1
 12119 06:2DAC: 64 13        	stz	<L631+img_1+2
 12120                        	.line	1723
 12121 06:2DAE: A5 19        	lda	<L630+iconCode_0
 12122 06:2DB0: 29 FF 00     	and	#<$ff
 12123 06:2DB3: 85 05        	sta	<R1
 12124 06:2DB5: A0 00 00     	ldy	#$0
 12125 06:2DB8: A5 05        	lda	<R1
 12126 06:2DBA: 10 01        	bpl	L633
 12127 06:2DBC: 88           	dey
 12128                        L633:
 12129 06:2DBD: 85 05        	sta	<R1
  Sat Jul 10 2021  1:15                                                Page 225


 12130 06:2DBF: 84 07        	sty	<R1+2
 12131 06:2DC1: D4 07        	pei	<R1+2
 12132 06:2DC3: D4 05        	pei	<R1
 12133 06:2DC5: A9 08 00     	lda	#$8
 12134                        	xref	~~~lasl
 12135 06:2DC8: 22 xx xx xx  	jsl	~~~lasl
 12136 06:2DCC: 85 01        	sta	<R0
 12137 06:2DCE: 86 03        	stx	<R0+2
 12138 06:2DD0: 18           	clc
 12139 06:2DD1: A9 xx xx     	lda	#<~~windowIconImg
 12140 06:2DD4: 65 01        	adc	<R0
 12141 06:2DD6: 85 11        	sta	<L631+img_1
 12142 06:2DD8: A9 xx xx     	lda	#^~~windowIconImg
 12143 06:2DDB: 65 03        	adc	<R0+2
 12144 06:2DDD: 85 13        	sta	<L631+img_1+2
 12145                        ;	if(img!=NULL)
 12146                        	.line	1724
 12147                        ;	{
 12148 06:2DDF: A5 11        	lda	<L631+img_1
 12149 06:2DE1: 05 13        	ora	<L631+img_1+2
 12150 06:2DE3: D0 03        	bne	L634
 12151 06:2DE5: 82 BD 00     	brl	L10181
 12152                        L634:
 12153                        	.line	1725
 12154                        ;		for (y = 0; y < ICONH; y++) 
 12155                        	.line	1726
 12156 06:2DE8: 64 0B        	stz	<L631+y_1
 12157                        L10184:
 12158                        ;		{
 12159                        	.line	1727
 12160                        ;			for (x = 0; x < ICONW; x++) 
 12161                        	.line	1728
 12162 06:2DEA: 64 09        	stz	<L631+x_1
 12163                        L10187:
 12164                        ;			{
 12165                        	.line	1729
 12166                        ;				char b = img[y * ICONW +
                     x];
 12167                        ;				if (b > 0) 
 12168                        	.block	1731
 12169             0000000C   b_2	set	12
 12170                        	.sym	b,12,14,1,8
 12171 06:2DEC: A5 0B        	lda	<L631+y_1
 12172 06:2DEE: 0A           	asl	A
 12173 06:2DEF: 0A           	asl	A
 12174 06:2DF0: 0A           	asl	A
 12175 06:2DF1: 0A           	asl	A
 12176 06:2DF2: 85 01        	sta	<R0
 12177 06:2DF4: 18           	clc
 12178 06:2DF5: A5 01        	lda	<R0
 12179 06:2DF7: 65 09        	adc	<L631+x_1
 12180 06:2DF9: 85 05        	sta	<R1
 12181 06:2DFB: E2 20        	sep	#$20
 12182                        	longa	off
 12183 06:2DFD: A4 05        	ldy	<R1
 12184 06:2DFF: B7 11        	lda	[<L631+img_1],Y
 12185 06:2E01: 85 15        	sta	<L631+b_2
 12186 06:2E03: C2 20        	rep	#$20
  Sat Jul 10 2021  1:15                                                Page 226


 12187                        	longa	on
 12188                        	.line	1731
 12189                        ;				{
 12190 06:2E05: E2 20        	sep	#$20
 12191                        	longa	off
 12192 06:2E07: A9 00        	lda	#$0
 12193 06:2E09: C5 15        	cmp	<L631+b_2
 12194 06:2E0B: C2 20        	rep	#$20
 12195                        	longa	on
 12196 06:2E0D: 90 03        	bcc	L636
 12197 06:2E0F: 82 68 00     	brl	L10188
 12198                        L636:
 12199                        	.line	1732
 12200                        ;					if(mode == PAINT
                    MODE_BACKGROUND)
 12201                        	.line	1733
 12202                        ;						b = pale
                    tteId;
 12203 06:2E12: A5 21        	lda	<L630+mode_0
 12204 06:2E14: C9 F0 00     	cmp	#<$f0
 12205 06:2E17: F0 03        	beq	L637
 12206 06:2E19: 82 08 00     	brl	L10189
 12207                        L637:
 12208                        	.line	1734
 12209 06:2E1C: E2 20        	sep	#$20
 12210                        	longa	off
 12211 06:2E1E: A5 1F        	lda	<L630+paletteId_0
 12212 06:2E20: 85 15        	sta	<L631+b_2
 12213 06:2E22: C2 20        	rep	#$20
 12214                        	longa	on
 12215                        ;
 12216                        ;					if(mode == PAINT
                    MODE_HIGHLIGHT && b == 15)
 12217                        L10189:
 12218                        	.line	1736
 12219                        ;						b = pale
                    tteId;
 12220 06:2E24: A5 21        	lda	<L630+mode_0
 12221 06:2E26: C9 F1 00     	cmp	#<$f1
 12222 06:2E29: F0 03        	beq	L638
 12223 06:2E2B: 82 15 00     	brl	L10190
 12224                        L638:
 12225 06:2E2E: E2 20        	sep	#$20
 12226                        	longa	off
 12227 06:2E30: A5 15        	lda	<L631+b_2
 12228 06:2E32: C9 0F        	cmp	#<$f
 12229 06:2E34: C2 20        	rep	#$20
 12230                        	longa	on
 12231 06:2E36: F0 03        	beq	L639
 12232 06:2E38: 82 08 00     	brl	L10190
 12233                        L639:
 12234                        	.line	1737
 12235 06:2E3B: E2 20        	sep	#$20
 12236                        	longa	off
 12237 06:2E3D: A5 1F        	lda	<L630+paletteId_0
 12238 06:2E3F: 85 15        	sta	<L631+b_2
 12239 06:2E41: C2 20        	rep	#$20
 12240                        	longa	on
  Sat Jul 10 2021  1:15                                                Page 227


 12241                        ;
 12242                        ;					k_draw_pixel(tex
                    tX + x, textY + y, b);
 12243                        L10190:
 12244                        	.line	1739
 12245 06:2E43: D4 15        	pei	<L631+b_2
 12246 06:2E45: 18           	clc
 12247 06:2E46: A5 0F        	lda	<L631+textY_1
 12248 06:2E48: 65 0B        	adc	<L631+y_1
 12249 06:2E4A: 85 01        	sta	<R0
 12250 06:2E4C: A0 00 00     	ldy	#$0
 12251 06:2E4F: A5 01        	lda	<R0
 12252 06:2E51: 10 01        	bpl	L640
 12253 06:2E53: 88           	dey
 12254                        L640:
 12255 06:2E54: 85 01        	sta	<R0
 12256 06:2E56: 84 03        	sty	<R0+2
 12257 06:2E58: D4 03        	pei	<R0+2
 12258 06:2E5A: D4 01        	pei	<R0
 12259 06:2E5C: 18           	clc
 12260 06:2E5D: A5 0D        	lda	<L631+textX_1
 12261 06:2E5F: 65 09        	adc	<L631+x_1
 12262 06:2E61: 85 05        	sta	<R1
 12263 06:2E63: A0 00 00     	ldy	#$0
 12264 06:2E66: A5 05        	lda	<R1
 12265 06:2E68: 10 01        	bpl	L641
 12266 06:2E6A: 88           	dey
 12267                        L641:
 12268 06:2E6B: 85 05        	sta	<R1
 12269 06:2E6D: 84 07        	sty	<R1+2
 12270 06:2E6F: D4 07        	pei	<R1+2
 12271 06:2E71: D4 05        	pei	<R1
 12272 06:2E73: 22 35 13 06  	jsl	~~k_draw_pixel
 12273                        ;				}
 12274                        	.line	1740
 12275                        ;				else 
 12276 06:2E77: 82 07 00     	brl	L10191
 12277                        L10188:
 12278                        ;				{ 
 12279                        	.line	1742
 12280                        ;					if(mode!=PAINTMO
                    DE_DEFAULT)
 12281                        	.line	1743
 12282                        ;					{
 12283 06:2E7A: A5 21        	lda	<L630+mode_0
 12284 06:2E7C: D0 03        	bne	L642
 12285 06:2E7E: 82 00 00     	brl	L10192
 12286                        L642:
 12287                        	.line	1744
 12288                        ;					
 12289                        ;					}
 12290                        	.line	1746
 12291                        ;				}
 12292                        L10192:
 12293                        	.line	1747
 12294                        L10191:
 12295                        ;			}
 12296                        	.endblock	1748
  Sat Jul 10 2021  1:15                                                Page 228


 12297                        	.line	1748
 12298                        L10185:
 12299 06:2E81: E6 09        	inc	<L631+x_1
 12300 06:2E83: 38           	sec
 12301 06:2E84: A5 09        	lda	<L631+x_1
 12302 06:2E86: E9 10 00     	sbc	#<$10
 12303 06:2E89: 70 03        	bvs	L643
 12304 06:2E8B: 49 00 80     	eor	#$8000
 12305                        L643:
 12306 06:2E8E: 30 03        	bmi	L644
 12307 06:2E90: 82 59 FF     	brl	L10187
 12308                        L644:
 12309                        L10186:
 12310                        ;		}
 12311                        	.line	1749
 12312                        L10182:
 12313 06:2E93: E6 0B        	inc	<L631+y_1
 12314 06:2E95: 38           	sec
 12315 06:2E96: A5 0B        	lda	<L631+y_1
 12316 06:2E98: E9 10 00     	sbc	#<$10
 12317 06:2E9B: 70 03        	bvs	L645
 12318 06:2E9D: 49 00 80     	eor	#$8000
 12319                        L645:
 12320 06:2EA0: 30 03        	bmi	L646
 12321 06:2EA2: 82 45 FF     	brl	L10184
 12322                        L646:
 12323                        L10183:
 12324                        ;	}
 12325                        	.line	1750
 12326                        ;	return FONTW;
 12327                        L10181:
 12328                        	.line	1751
 12329 06:2EA5: 22 06 82 06  	jsl	~~k_font_getFontWidth
 12330                        L647:
 12331 06:2EA9: A8           	tay
 12332 06:2EAA: A5 17        	lda	<L630+2
 12333 06:2EAC: 85 21        	sta	<L630+2+10
 12334 06:2EAE: A5 16        	lda	<L630+1
 12335 06:2EB0: 85 20        	sta	<L630+1+10
 12336 06:2EB2: 2B           	pld
 12337 06:2EB3: 3B           	tsc
 12338 06:2EB4: 18           	clc
 12339 06:2EB5: 69 1F 00     	adc	#L630+10
 12340 06:2EB8: 1B           	tcs
 12341 06:2EB9: 98           	tya
 12342 06:2EBA: 6B           	rtl
 12343                        ;}
 12344                        	.line	1752
 12345                        	.endblock	1752
 12346             00000015   L630	equ	21
 12347             00000009   L631	equ	9
 12348 06:2EBB:              	ends
 12349                        	efunc
 12350                        	.endfunc	1752,9,21
 12351                        	.line	1752
 12352                        ;
 12353                        ;int k_put_winicon_point_ex(char iconCode,int cx,i
                    nt cy,int paletteId,int mode,UINT page)
  Sat Jul 10 2021  1:15                                                Page 229


 12354                        ;{
 12355                        	.line	1754
 12356                        	.line	1755
 12357                        	GFX
 12358                        	xdef	~~k_put_winicon_point_ex
 12359                        	func
 12360                        	.function	1755
 12361                        ~~k_put_winicon_point_ex:
 12362                        	longa	on
 12363                        	longi	on
 12364 06:2EBB: 3B           	tsc
 12365 06:2EBC: 38           	sec
 12366 06:2EBD: E9 15 00     	sbc	#L648
 12367 06:2EC0: 1B           	tcs
 12368 06:2EC1: 0B           	phd
 12369 06:2EC2: 5B           	tcd
 12370             00000004   iconCode_0	set	4
 12371             00000006   cx_0	set	6
 12372             00000008   cy_0	set	8
 12373             0000000A   paletteId_0	set	10
 12374             0000000C   mode_0	set	12
 12375             0000000E   page_0	set	14
 12376                        	.block	1755
 12377                        ;	int x = 0;
 12378                        ;	int y = 0;
 12379                        ;	int textX = cx;
 12380                        ;	int textY = cy;
 12381                        ;
 12382                        ;	char FAR* img = NULL;
 12383                        ;
 12384                        ;    img = windowIconImg[(int)(iconCode & 0xFF)];
 12385             00000000   x_1	set	0
 12386             00000002   y_1	set	2
 12387             00000004   textX_1	set	4
 12388             00000006   textY_1	set	6
 12389             00000008   img_1	set	8
 12390                        	.sym	x,0,5,1,16
 12391                        	.sym	y,2,5,1,16
 12392                        	.sym	textX,4,5,1,16
 12393                        	.sym	textY,6,5,1,16
 12394                        	.sym	img,8,142,1,32
 12395                        	.sym	iconCode,4,14,6,8
 12396                        	.sym	cx,6,5,6,16
 12397                        	.sym	cy,8,5,6,16
 12398                        	.sym	paletteId,10,5,6,16
 12399                        	.sym	mode,12,5,6,16
 12400                        	.sym	page,14,16,6,16
 12401 06:2EC3: 64 09        	stz	<L649+x_1
 12402 06:2EC5: 64 0B        	stz	<L649+y_1
 12403 06:2EC7: A5 1B        	lda	<L648+cx_0
 12404 06:2EC9: 85 0D        	sta	<L649+textX_1
 12405 06:2ECB: A5 1D        	lda	<L648+cy_0
 12406 06:2ECD: 85 0F        	sta	<L649+textY_1
 12407 06:2ECF: 64 11        	stz	<L649+img_1
 12408 06:2ED1: 64 13        	stz	<L649+img_1+2
 12409                        	.line	1763
 12410 06:2ED3: A5 19        	lda	<L648+iconCode_0
 12411 06:2ED5: 29 FF 00     	and	#<$ff
  Sat Jul 10 2021  1:15                                                Page 230


 12412 06:2ED8: 85 05        	sta	<R1
 12413 06:2EDA: A0 00 00     	ldy	#$0
 12414 06:2EDD: A5 05        	lda	<R1
 12415 06:2EDF: 10 01        	bpl	L651
 12416 06:2EE1: 88           	dey
 12417                        L651:
 12418 06:2EE2: 85 05        	sta	<R1
 12419 06:2EE4: 84 07        	sty	<R1+2
 12420 06:2EE6: D4 07        	pei	<R1+2
 12421 06:2EE8: D4 05        	pei	<R1
 12422 06:2EEA: A9 08 00     	lda	#$8
 12423                        	xref	~~~lasl
 12424 06:2EED: 22 xx xx xx  	jsl	~~~lasl
 12425 06:2EF1: 85 01        	sta	<R0
 12426 06:2EF3: 86 03        	stx	<R0+2
 12427 06:2EF5: 18           	clc
 12428 06:2EF6: A9 xx xx     	lda	#<~~windowIconImg
 12429 06:2EF9: 65 01        	adc	<R0
 12430 06:2EFB: 85 11        	sta	<L649+img_1
 12431 06:2EFD: A9 xx xx     	lda	#^~~windowIconImg
 12432 06:2F00: 65 03        	adc	<R0+2
 12433 06:2F02: 85 13        	sta	<L649+img_1+2
 12434                        ;	if(img!=NULL)
 12435                        	.line	1764
 12436                        ;	{
 12437 06:2F04: A5 11        	lda	<L649+img_1
 12438 06:2F06: 05 13        	ora	<L649+img_1+2
 12439 06:2F08: D0 03        	bne	L652
 12440 06:2F0A: 82 BF 00     	brl	L10193
 12441                        L652:
 12442                        	.line	1765
 12443                        ;		for (y = 0; y < ICONH; y++)
 12444                        	.line	1766
 12445 06:2F0D: 64 0B        	stz	<L649+y_1
 12446                        L10196:
 12447                        ;		{
 12448                        	.line	1767
 12449                        ;			for (x = 0; x < ICONW; x++)
 12450                        	.line	1768
 12451 06:2F0F: 64 09        	stz	<L649+x_1
 12452                        L10199:
 12453                        ;			{
 12454                        	.line	1769
 12455                        ;				char b = img[y * ICONW +
                     x];
 12456                        ;				if (b > 0)
 12457                        	.block	1771
 12458             0000000C   b_2	set	12
 12459                        	.sym	b,12,14,1,8
 12460 06:2F11: A5 0B        	lda	<L649+y_1
 12461 06:2F13: 0A           	asl	A
 12462 06:2F14: 0A           	asl	A
 12463 06:2F15: 0A           	asl	A
 12464 06:2F16: 0A           	asl	A
 12465 06:2F17: 85 01        	sta	<R0
 12466 06:2F19: 18           	clc
 12467 06:2F1A: A5 01        	lda	<R0
 12468 06:2F1C: 65 09        	adc	<L649+x_1
  Sat Jul 10 2021  1:15                                                Page 231


 12469 06:2F1E: 85 05        	sta	<R1
 12470 06:2F20: E2 20        	sep	#$20
 12471                        	longa	off
 12472 06:2F22: A4 05        	ldy	<R1
 12473 06:2F24: B7 11        	lda	[<L649+img_1],Y
 12474 06:2F26: 85 15        	sta	<L649+b_2
 12475 06:2F28: C2 20        	rep	#$20
 12476                        	longa	on
 12477                        	.line	1771
 12478                        ;				{
 12479 06:2F2A: E2 20        	sep	#$20
 12480                        	longa	off
 12481 06:2F2C: A9 00        	lda	#$0
 12482 06:2F2E: C5 15        	cmp	<L649+b_2
 12483 06:2F30: C2 20        	rep	#$20
 12484                        	longa	on
 12485 06:2F32: 90 03        	bcc	L654
 12486 06:2F34: 82 6A 00     	brl	L10200
 12487                        L654:
 12488                        	.line	1772
 12489                        ;					if(mode == PAINT
                    MODE_BACKGROUND)
 12490                        	.line	1773
 12491                        ;						b = pale
                    tteId;
 12492 06:2F37: A5 21        	lda	<L648+mode_0
 12493 06:2F39: C9 F0 00     	cmp	#<$f0
 12494 06:2F3C: F0 03        	beq	L655
 12495 06:2F3E: 82 08 00     	brl	L10201
 12496                        L655:
 12497                        	.line	1774
 12498 06:2F41: E2 20        	sep	#$20
 12499                        	longa	off
 12500 06:2F43: A5 1F        	lda	<L648+paletteId_0
 12501 06:2F45: 85 15        	sta	<L649+b_2
 12502 06:2F47: C2 20        	rep	#$20
 12503                        	longa	on
 12504                        ;
 12505                        ;					if(mode == PAINT
                    MODE_HIGHLIGHT && b == 15)
 12506                        L10201:
 12507                        	.line	1776
 12508                        ;						b = pale
                    tteId;
 12509 06:2F49: A5 21        	lda	<L648+mode_0
 12510 06:2F4B: C9 F1 00     	cmp	#<$f1
 12511 06:2F4E: F0 03        	beq	L656
 12512 06:2F50: 82 15 00     	brl	L10202
 12513                        L656:
 12514 06:2F53: E2 20        	sep	#$20
 12515                        	longa	off
 12516 06:2F55: A5 15        	lda	<L649+b_2
 12517 06:2F57: C9 0F        	cmp	#<$f
 12518 06:2F59: C2 20        	rep	#$20
 12519                        	longa	on
 12520 06:2F5B: F0 03        	beq	L657
 12521 06:2F5D: 82 08 00     	brl	L10202
 12522                        L657:
  Sat Jul 10 2021  1:15                                                Page 232


 12523                        	.line	1777
 12524 06:2F60: E2 20        	sep	#$20
 12525                        	longa	off
 12526 06:2F62: A5 1F        	lda	<L648+paletteId_0
 12527 06:2F64: 85 15        	sta	<L649+b_2
 12528 06:2F66: C2 20        	rep	#$20
 12529                        	longa	on
 12530                        ;
 12531                        ;					k_draw_pixel_ex(
                    textX + x, textY + y, b, page);
 12532                        L10202:
 12533                        	.line	1779
 12534 06:2F68: D4 23        	pei	<L648+page_0
 12535 06:2F6A: D4 15        	pei	<L649+b_2
 12536 06:2F6C: 18           	clc
 12537 06:2F6D: A5 0F        	lda	<L649+textY_1
 12538 06:2F6F: 65 0B        	adc	<L649+y_1
 12539 06:2F71: 85 01        	sta	<R0
 12540 06:2F73: A0 00 00     	ldy	#$0
 12541 06:2F76: A5 01        	lda	<R0
 12542 06:2F78: 10 01        	bpl	L658
 12543 06:2F7A: 88           	dey
 12544                        L658:
 12545 06:2F7B: 85 01        	sta	<R0
 12546 06:2F7D: 84 03        	sty	<R0+2
 12547 06:2F7F: D4 03        	pei	<R0+2
 12548 06:2F81: D4 01        	pei	<R0
 12549 06:2F83: 18           	clc
 12550 06:2F84: A5 0D        	lda	<L649+textX_1
 12551 06:2F86: 65 09        	adc	<L649+x_1
 12552 06:2F88: 85 05        	sta	<R1
 12553 06:2F8A: A0 00 00     	ldy	#$0
 12554 06:2F8D: A5 05        	lda	<R1
 12555 06:2F8F: 10 01        	bpl	L659
 12556 06:2F91: 88           	dey
 12557                        L659:
 12558 06:2F92: 85 05        	sta	<R1
 12559 06:2F94: 84 07        	sty	<R1+2
 12560 06:2F96: D4 07        	pei	<R1+2
 12561 06:2F98: D4 05        	pei	<R1
 12562 06:2F9A: 22 15 15 06  	jsl	~~k_draw_pixel_ex
 12563                        ;
 12564                        ;
 12565                        ;				}
 12566                        	.line	1782
 12567                        ;				else
 12568 06:2F9E: 82 07 00     	brl	L10203
 12569                        L10200:
 12570                        ;				{
 12571                        	.line	1784
 12572                        ;					if(mode!=PAINTMO
                    DE_DEFAULT)
 12573                        	.line	1785
 12574                        ;					{
 12575 06:2FA1: A5 21        	lda	<L648+mode_0
 12576 06:2FA3: D0 03        	bne	L660
 12577 06:2FA5: 82 00 00     	brl	L10204
 12578                        L660:
  Sat Jul 10 2021  1:15                                                Page 233


 12579                        	.line	1786
 12580                        ;
 12581                        ;					}
 12582                        	.line	1788
 12583                        ;				}
 12584                        L10204:
 12585                        	.line	1789
 12586                        L10203:
 12587                        ;			}
 12588                        	.endblock	1790
 12589                        	.line	1790
 12590                        L10197:
 12591 06:2FA8: E6 09        	inc	<L649+x_1
 12592 06:2FAA: 38           	sec
 12593 06:2FAB: A5 09        	lda	<L649+x_1
 12594 06:2FAD: E9 10 00     	sbc	#<$10
 12595 06:2FB0: 70 03        	bvs	L661
 12596 06:2FB2: 49 00 80     	eor	#$8000
 12597                        L661:
 12598 06:2FB5: 30 03        	bmi	L662
 12599 06:2FB7: 82 57 FF     	brl	L10199
 12600                        L662:
 12601                        L10198:
 12602                        ;		}
 12603                        	.line	1791
 12604                        L10194:
 12605 06:2FBA: E6 0B        	inc	<L649+y_1
 12606 06:2FBC: 38           	sec
 12607 06:2FBD: A5 0B        	lda	<L649+y_1
 12608 06:2FBF: E9 10 00     	sbc	#<$10
 12609 06:2FC2: 70 03        	bvs	L663
 12610 06:2FC4: 49 00 80     	eor	#$8000
 12611                        L663:
 12612 06:2FC7: 30 03        	bmi	L664
 12613 06:2FC9: 82 43 FF     	brl	L10196
 12614                        L664:
 12615                        L10195:
 12616                        ;	}
 12617                        	.line	1792
 12618                        ;	return FONTW;
 12619                        L10193:
 12620                        	.line	1793
 12621 06:2FCC: 22 06 82 06  	jsl	~~k_font_getFontWidth
 12622                        L665:
 12623 06:2FD0: A8           	tay
 12624 06:2FD1: A5 17        	lda	<L648+2
 12625 06:2FD3: 85 23        	sta	<L648+2+12
 12626 06:2FD5: A5 16        	lda	<L648+1
 12627 06:2FD7: 85 22        	sta	<L648+1+12
 12628 06:2FD9: 2B           	pld
 12629 06:2FDA: 3B           	tsc
 12630 06:2FDB: 18           	clc
 12631 06:2FDC: 69 21 00     	adc	#L648+12
 12632 06:2FDF: 1B           	tcs
 12633 06:2FE0: 98           	tya
 12634 06:2FE1: 6B           	rtl
 12635                        ;}
 12636                        	.line	1794
  Sat Jul 10 2021  1:15                                                Page 234


 12637                        	.endblock	1794
 12638             00000015   L648	equ	21
 12639             00000009   L649	equ	9
 12640 06:2FE2:              	ends
 12641                        	efunc
 12642                        	.endfunc	1794,9,21
 12643                        	.line	1794
 12644                        ;
 12645                        ;
 12646                        ;
 12647                        ;/*
 12648                        ; 		//PFXNODE k_point_in_nodes(int x
                    ,int y);
 12649                        ;		//void k_add_window_hit_node(PCLICKDETEC
                    TED pcd);
 12650                        ;
 12651                        ;		PWINDOW k_create_ui_window_class(cx,cy,I
                    CONW,ICONH,LPCHAR title,LPCHAR className,int color, int bgco
                    lor);
 12652                        ;
 12653                        ;		k_add_window_hit_node();
 12654                        ;
 12655                        ;
 12656                        ; */
 12657                        ;
 12658                        ;
 12659                        ;void k_put_winicon_scaled(char iconCode,int cx,in
                    t cy,char paletteId,int mode,int scale)
 12660                        ;{
 12661                        	.line	1810
 12662                        	.line	1811
 12663                        	GFX
 12664                        	xdef	~~k_put_winicon_scaled
 12665                        	func
 12666                        	.function	1811
 12667                        ~~k_put_winicon_scaled:
 12668                        	longa	on
 12669                        	longi	on
 12670 06:2FE2: 3B           	tsc
 12671 06:2FE3: 38           	sec
 12672 06:2FE4: E9 25 00     	sbc	#L666
 12673 06:2FE7: 1B           	tcs
 12674 06:2FE8: 0B           	phd
 12675 06:2FE9: 5B           	tcd
 12676             00000004   iconCode_0	set	4
 12677             00000006   cx_0	set	6
 12678             00000008   cy_0	set	8
 12679             0000000A   paletteId_0	set	10
 12680             0000000C   mode_0	set	12
 12681             0000000E   scale_0	set	14
 12682                        	.block	1811
 12683                        ;	int x = 0;
 12684                        ;	int y = 0;
 12685                        ;
 12686                        ;	int height = ICONH * scale;
 12687                        ;	int width  = ICONW * scale;
 12688                        ;	
 12689                        ;	int textX = cx ;
  Sat Jul 10 2021  1:15                                                Page 235


 12690                        ;	int textY = cy ;
 12691                        ;
 12692                        ;	int px   = 0;
 12693                        ;	int py   = 0;
 12694                        ;	int offx = 0;
 12695                        ;	int offy = 0;
 12696                        ;	int sx   = 0;
 12697                        ;	int sy   = 0;
 12698                        ;
 12699                        ;	char b   = 0;
 12700                        ;
 12701                        ;	char FAR* img = NULL;
 12702                        ;
 12703                        ;	img = windowIconImg[(int)(iconCode & 0xFF)];	
                    //printf("putFont:%d\n",characterROMMapping[outChar]);
 12704             00000000   x_1	set	0
 12705             00000002   y_1	set	2
 12706             00000004   height_1	set	4
 12707             00000006   width_1	set	6
 12708             00000008   textX_1	set	8
 12709             0000000A   textY_1	set	10
 12710             0000000C   px_1	set	12
 12711             0000000E   py_1	set	14
 12712             00000010   offx_1	set	16
 12713             00000012   offy_1	set	18
 12714             00000014   sx_1	set	20
 12715             00000016   sy_1	set	22
 12716             00000018   b_1	set	24
 12717             00000019   img_1	set	25
 12718                        	.sym	x,0,5,1,16
 12719                        	.sym	y,2,5,1,16
 12720                        	.sym	height,4,5,1,16
 12721                        	.sym	width,6,5,1,16
 12722                        	.sym	textX,8,5,1,16
 12723                        	.sym	textY,10,5,1,16
 12724                        	.sym	px,12,5,1,16
 12725                        	.sym	py,14,5,1,16
 12726                        	.sym	offx,16,5,1,16
 12727                        	.sym	offy,18,5,1,16
 12728                        	.sym	sx,20,5,1,16
 12729                        	.sym	sy,22,5,1,16
 12730                        	.sym	b,24,14,1,8
 12731                        	.sym	img,25,142,1,32
 12732                        	.sym	iconCode,4,14,6,8
 12733                        	.sym	cx,6,5,6,16
 12734                        	.sym	cy,8,5,6,16
 12735                        	.sym	paletteId,10,14,6,8
 12736                        	.sym	mode,12,5,6,16
 12737                        	.sym	scale,14,5,6,16
 12738 06:2FEA: 64 09        	stz	<L667+x_1
 12739 06:2FEC: 64 0B        	stz	<L667+y_1
 12740 06:2FEE: A5 33        	lda	<L666+scale_0
 12741 06:2FF0: 0A           	asl	A
 12742 06:2FF1: 0A           	asl	A
 12743 06:2FF2: 0A           	asl	A
 12744 06:2FF3: 0A           	asl	A
 12745 06:2FF4: 85 0D        	sta	<L667+height_1
 12746 06:2FF6: A5 33        	lda	<L666+scale_0
  Sat Jul 10 2021  1:15                                                Page 236


 12747 06:2FF8: 0A           	asl	A
 12748 06:2FF9: 0A           	asl	A
 12749 06:2FFA: 0A           	asl	A
 12750 06:2FFB: 0A           	asl	A
 12751 06:2FFC: 85 0F        	sta	<L667+width_1
 12752 06:2FFE: A5 2B        	lda	<L666+cx_0
 12753 06:3000: 85 11        	sta	<L667+textX_1
 12754 06:3002: A5 2D        	lda	<L666+cy_0
 12755 06:3004: 85 13        	sta	<L667+textY_1
 12756 06:3006: 64 15        	stz	<L667+px_1
 12757 06:3008: 64 17        	stz	<L667+py_1
 12758 06:300A: 64 19        	stz	<L667+offx_1
 12759 06:300C: 64 1B        	stz	<L667+offy_1
 12760 06:300E: 64 1D        	stz	<L667+sx_1
 12761 06:3010: 64 1F        	stz	<L667+sy_1
 12762 06:3012: E2 20        	sep	#$20
 12763                        	longa	off
 12764 06:3014: 64 21        	stz	<L667+b_1
 12765 06:3016: C2 20        	rep	#$20
 12766                        	longa	on
 12767 06:3018: 64 22        	stz	<L667+img_1
 12768 06:301A: 64 24        	stz	<L667+img_1+2
 12769                        	.line	1832
 12770 06:301C: A5 29        	lda	<L666+iconCode_0
 12771 06:301E: 29 FF 00     	and	#<$ff
 12772 06:3021: 85 05        	sta	<R1
 12773 06:3023: A0 00 00     	ldy	#$0
 12774 06:3026: A5 05        	lda	<R1
 12775 06:3028: 10 01        	bpl	L669
 12776 06:302A: 88           	dey
 12777                        L669:
 12778 06:302B: 85 05        	sta	<R1
 12779 06:302D: 84 07        	sty	<R1+2
 12780 06:302F: D4 07        	pei	<R1+2
 12781 06:3031: D4 05        	pei	<R1
 12782 06:3033: A9 08 00     	lda	#$8
 12783                        	xref	~~~lasl
 12784 06:3036: 22 xx xx xx  	jsl	~~~lasl
 12785 06:303A: 85 01        	sta	<R0
 12786 06:303C: 86 03        	stx	<R0+2
 12787 06:303E: 18           	clc
 12788 06:303F: A9 xx xx     	lda	#<~~windowIconImg
 12789 06:3042: 65 01        	adc	<R0
 12790 06:3044: 85 22        	sta	<L667+img_1
 12791 06:3046: A9 xx xx     	lda	#^~~windowIconImg
 12792 06:3049: 65 03        	adc	<R0+2
 12793 06:304B: 85 24        	sta	<L667+img_1+2
 12794                        ;	if(img!=NULL)
 12795                        	.line	1833
 12796                        ;	{
 12797 06:304D: A5 22        	lda	<L667+img_1
 12798 06:304F: 05 24        	ora	<L667+img_1+2
 12799 06:3051: D0 03        	bne	L670
 12800 06:3053: 82 E2 00     	brl	L10205
 12801                        L670:
 12802                        	.line	1834
 12803                        ;		py = 0;
 12804                        	.line	1835
  Sat Jul 10 2021  1:15                                                Page 237


 12805 06:3056: 64 17        	stz	<L667+py_1
 12806                        ;		for (y = 0; y < height; y+=scale) 
 12807                        	.line	1836
 12808 06:3058: 64 0B        	stz	<L667+y_1
 12809 06:305A: 82 CC 00     	brl	L10209
 12810                        L10208:
 12811                        ;		{
 12812                        	.line	1837
 12813                        ;			offy = y;
 12814                        	.line	1838
 12815 06:305D: A5 0B        	lda	<L667+y_1
 12816 06:305F: 85 1B        	sta	<L667+offy_1
 12817                        ;			px   = 0;
 12818                        	.line	1839
 12819 06:3061: 64 15        	stz	<L667+px_1
 12820                        ;			for (x = 0; x < width; x+=scale)
                     
 12821                        	.line	1840
 12822 06:3063: 64 09        	stz	<L667+x_1
 12823 06:3065: 82 A9 00     	brl	L10213
 12824                        L10212:
 12825                        ;			{
 12826                        	.line	1841
 12827                        ;				// get the pixel value
 12828                        ;				offx = x;
 12829                        	.line	1843
 12830 06:3068: A5 09        	lda	<L667+x_1
 12831 06:306A: 85 19        	sta	<L667+offx_1
 12832                        ;				b = img[py * ICONW + px]
                    ;
 12833                        	.line	1844
 12834 06:306C: A5 17        	lda	<L667+py_1
 12835 06:306E: 0A           	asl	A
 12836 06:306F: 0A           	asl	A
 12837 06:3070: 0A           	asl	A
 12838 06:3071: 0A           	asl	A
 12839 06:3072: 85 01        	sta	<R0
 12840 06:3074: 18           	clc
 12841 06:3075: A5 01        	lda	<R0
 12842 06:3077: 65 15        	adc	<L667+px_1
 12843 06:3079: 85 05        	sta	<R1
 12844 06:307B: E2 20        	sep	#$20
 12845                        	longa	off
 12846 06:307D: A4 05        	ldy	<R1
 12847 06:307F: B7 22        	lda	[<L667+img_1],Y
 12848 06:3081: 85 21        	sta	<L667+b_1
 12849 06:3083: C2 20        	rep	#$20
 12850                        	longa	on
 12851                        ;				if (b > -1) 
 12852                        	.line	1845
 12853                        ;				{ // plot the pixel	
                    				
 12854 06:3085: A5 21        	lda	<L667+b_1
 12855 06:3087: 29 FF 00     	and	#$ff
 12856 06:308A: 85 01        	sta	<R0
 12857 06:308C: 38           	sec
 12858 06:308D: A9 FF FF     	lda	#$ffff
 12859 06:3090: E5 01        	sbc	<R0
  Sat Jul 10 2021  1:15                                                Page 238


 12860 06:3092: 70 03        	bvs	L671
 12861 06:3094: 49 00 80     	eor	#$8000
 12862                        L671:
 12863 06:3097: 10 03        	bpl	L672
 12864 06:3099: 82 6C 00     	brl	L10214
 12865                        L672:
 12866                        	.line	1846
 12867                        ;					offy = y;
 12868                        	.line	1847
 12869 06:309C: A5 0B        	lda	<L667+y_1
 12870 06:309E: 85 1B        	sta	<L667+offy_1
 12871                        ;					for(sy=0;sy<scal
                    e;sy++)
 12872                        	.line	1848
 12873 06:30A0: 64 1F        	stz	<L667+sy_1
 12874 06:30A2: 82 54 00     	brl	L10218
 12875                        L10217:
 12876                        ;					{
 12877                        	.line	1849
 12878                        ;						offx = x
                    ;
 12879                        	.line	1850
 12880 06:30A5: A5 09        	lda	<L667+x_1
 12881 06:30A7: 85 19        	sta	<L667+offx_1
 12882                        ;						for(sx=0
                    ;sx<scale;sx++)
 12883                        	.line	1851
 12884 06:30A9: 64 1D        	stz	<L667+sx_1
 12885 06:30AB: 82 38 00     	brl	L10222
 12886                        L10221:
 12887                        ;						{
 12888                        	.line	1852
 12889                        ;							
                    k_draw_pixel(textX + offx, textY + offy, b);
 12890                        	.line	1853
 12891 06:30AE: D4 21        	pei	<L667+b_1
 12892 06:30B0: 18           	clc
 12893 06:30B1: A5 13        	lda	<L667+textY_1
 12894 06:30B3: 65 1B        	adc	<L667+offy_1
 12895 06:30B5: 85 01        	sta	<R0
 12896 06:30B7: A0 00 00     	ldy	#$0
 12897 06:30BA: A5 01        	lda	<R0
 12898 06:30BC: 10 01        	bpl	L673
 12899 06:30BE: 88           	dey
 12900                        L673:
 12901 06:30BF: 85 01        	sta	<R0
 12902 06:30C1: 84 03        	sty	<R0+2
 12903 06:30C3: D4 03        	pei	<R0+2
 12904 06:30C5: D4 01        	pei	<R0
 12905 06:30C7: 18           	clc
 12906 06:30C8: A5 11        	lda	<L667+textX_1
 12907 06:30CA: 65 19        	adc	<L667+offx_1
 12908 06:30CC: 85 05        	sta	<R1
 12909 06:30CE: A0 00 00     	ldy	#$0
 12910 06:30D1: A5 05        	lda	<R1
 12911 06:30D3: 10 01        	bpl	L674
 12912 06:30D5: 88           	dey
 12913                        L674:
  Sat Jul 10 2021  1:15                                                Page 239


 12914 06:30D6: 85 05        	sta	<R1
 12915 06:30D8: 84 07        	sty	<R1+2
 12916 06:30DA: D4 07        	pei	<R1+2
 12917 06:30DC: D4 05        	pei	<R1
 12918 06:30DE: 22 35 13 06  	jsl	~~k_draw_pixel
 12919                        ;							
                    offx++;
 12920                        	.line	1854
 12921 06:30E2: E6 19        	inc	<L667+offx_1
 12922                        ;						}
 12923                        	.line	1855
 12924                        L10219:
 12925 06:30E4: E6 1D        	inc	<L667+sx_1
 12926                        L10222:
 12927 06:30E6: 38           	sec
 12928 06:30E7: A5 1D        	lda	<L667+sx_1
 12929 06:30E9: E5 33        	sbc	<L666+scale_0
 12930 06:30EB: 70 03        	bvs	L675
 12931 06:30ED: 49 00 80     	eor	#$8000
 12932                        L675:
 12933 06:30F0: 30 03        	bmi	L676
 12934 06:30F2: 82 B9 FF     	brl	L10221
 12935                        L676:
 12936                        L10220:
 12937                        ;						offy++;
 12938                        	.line	1856
 12939 06:30F5: E6 1B        	inc	<L667+offy_1
 12940                        ;					}
 12941                        	.line	1857
 12942                        L10215:
 12943 06:30F7: E6 1F        	inc	<L667+sy_1
 12944                        L10218:
 12945 06:30F9: 38           	sec
 12946 06:30FA: A5 1F        	lda	<L667+sy_1
 12947 06:30FC: E5 33        	sbc	<L666+scale_0
 12948 06:30FE: 70 03        	bvs	L677
 12949 06:3100: 49 00 80     	eor	#$8000
 12950                        L677:
 12951 06:3103: 30 03        	bmi	L678
 12952 06:3105: 82 9D FF     	brl	L10217
 12953                        L678:
 12954                        L10216:
 12955                        ;				}
 12956                        	.line	1858
 12957                        ;				px++;
 12958                        L10214:
 12959                        	.line	1859
 12960 06:3108: E6 15        	inc	<L667+px_1
 12961                        ;			} // end "for x"
 12962                        	.line	1860
 12963                        L10210:
 12964 06:310A: 18           	clc
 12965 06:310B: A5 09        	lda	<L667+x_1
 12966 06:310D: 65 33        	adc	<L666+scale_0
 12967 06:310F: 85 09        	sta	<L667+x_1
 12968                        L10213:
 12969 06:3111: 38           	sec
 12970 06:3112: A5 09        	lda	<L667+x_1
  Sat Jul 10 2021  1:15                                                Page 240


 12971 06:3114: E5 0F        	sbc	<L667+width_1
 12972 06:3116: 70 03        	bvs	L679
 12973 06:3118: 49 00 80     	eor	#$8000
 12974                        L679:
 12975 06:311B: 30 03        	bmi	L680
 12976 06:311D: 82 48 FF     	brl	L10212
 12977                        L680:
 12978                        L10211:
 12979                        ;			py++;
 12980                        	.line	1861
 12981 06:3120: E6 17        	inc	<L667+py_1
 12982                        ;		} // end "for y"
 12983                        	.line	1862
 12984                        L10206:
 12985 06:3122: 18           	clc
 12986 06:3123: A5 0B        	lda	<L667+y_1
 12987 06:3125: 65 33        	adc	<L666+scale_0
 12988 06:3127: 85 0B        	sta	<L667+y_1
 12989                        L10209:
 12990 06:3129: 38           	sec
 12991 06:312A: A5 0B        	lda	<L667+y_1
 12992 06:312C: E5 0D        	sbc	<L667+height_1
 12993 06:312E: 70 03        	bvs	L681
 12994 06:3130: 49 00 80     	eor	#$8000
 12995                        L681:
 12996 06:3133: 30 03        	bmi	L682
 12997 06:3135: 82 25 FF     	brl	L10208
 12998                        L682:
 12999                        L10207:
 13000                        ;	}
 13001                        	.line	1863
 13002                        ;}
 13003                        L10205:
 13004                        	.line	1864
 13005                        L683:
 13006 06:3138: A5 27        	lda	<L666+2
 13007 06:313A: 85 33        	sta	<L666+2+12
 13008 06:313C: A5 26        	lda	<L666+1
 13009 06:313E: 85 32        	sta	<L666+1+12
 13010 06:3140: 2B           	pld
 13011 06:3141: 3B           	tsc
 13012 06:3142: 18           	clc
 13013 06:3143: 69 31 00     	adc	#L666+12
 13014 06:3146: 1B           	tcs
 13015 06:3147: 6B           	rtl
 13016                        	.endblock	1864
 13017             00000025   L666	equ	37
 13018             00000009   L667	equ	9
 13019 06:3148:              	ends
 13020                        	efunc
 13021                        	.endfunc	1864,9,37
 13022                        	.line	1864
 13023                        ;
 13024                        ;
 13025                        ;void k_put_font(char outChar,int row,int column,c
                    har color)
 13026                        ;{
 13027                        	.line	1867
  Sat Jul 10 2021  1:15                                                Page 241


 13028                        	.line	1868
 13029                        	GFX
 13030                        	xdef	~~k_put_font
 13031                        	func
 13032                        	.function	1868
 13033                        ~~k_put_font:
 13034                        	longa	on
 13035                        	longi	on
 13036 06:3148: 3B           	tsc
 13037 06:3149: 38           	sec
 13038 06:314A: E9 21 00     	sbc	#L684
 13039 06:314D: 1B           	tcs
 13040 06:314E: 0B           	phd
 13041 06:314F: 5B           	tcd
 13042             00000004   outChar_0	set	4
 13043             00000006   row_0	set	6
 13044             00000008   column_0	set	8
 13045             0000000A   color_0	set	10
 13046                        	.block	1868
 13047                        ;	int x = 0;
 13048                        ;	int y = 0;
 13049                        ;	int textX = row * FONTW;
 13050                        ;	int textY = column * FONTH;
 13051                        ;
 13052                        ;	char FAR* img = NULL;//fontImg[ix];
 13053                        ;
 13054                        ;    if(outChar == 32)
 13055             00000000   x_1	set	0
 13056             00000002   y_1	set	2
 13057             00000004   textX_1	set	4
 13058             00000006   textY_1	set	6
 13059             00000008   img_1	set	8
 13060                        	.sym	x,0,5,1,16
 13061                        	.sym	y,2,5,1,16
 13062                        	.sym	textX,4,5,1,16
 13063                        	.sym	textY,6,5,1,16
 13064                        	.sym	img,8,142,1,32
 13065                        	.sym	outChar,4,14,6,8
 13066                        	.sym	row,6,5,6,16
 13067                        	.sym	column,8,5,6,16
 13068                        	.sym	color,10,14,6,8
 13069 06:3150: 64 15        	stz	<L685+x_1
 13070 06:3152: 64 17        	stz	<L685+y_1
 13071 06:3154: 22 06 82 06  	jsl	~~k_font_getFontWidth
 13072 06:3158: 85 01        	sta	<R0
 13073 06:315A: A5 01        	lda	<R0
 13074 06:315C: A6 27        	ldx	<L684+row_0
 13075                        	xref	~~~mul
 13076 06:315E: 22 xx xx xx  	jsl	~~~mul
 13077 06:3162: 85 19        	sta	<L685+textX_1
 13078 06:3164: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 13079 06:3168: 85 01        	sta	<R0
 13080 06:316A: A5 01        	lda	<R0
 13081 06:316C: A6 29        	ldx	<L684+column_0
 13082                        	xref	~~~mul
 13083 06:316E: 22 xx xx xx  	jsl	~~~mul
 13084 06:3172: 85 1B        	sta	<L685+textY_1
 13085 06:3174: 64 1D        	stz	<L685+img_1
  Sat Jul 10 2021  1:15                                                Page 242


 13086 06:3176: 64 1F        	stz	<L685+img_1+2
 13087                        	.line	1876
 13088                        ;	{
 13089 06:3178: E2 20        	sep	#$20
 13090                        	longa	off
 13091 06:317A: A5 25        	lda	<L684+outChar_0
 13092 06:317C: C9 20        	cmp	#<$20
 13093 06:317E: C2 20        	rep	#$20
 13094                        	longa	on
 13095 06:3180: F0 03        	beq	L687
 13096 06:3182: 82 07 00     	brl	L10223
 13097                        L687:
 13098                        	.line	1877
 13099                        ;	   img = NULL;
 13100                        	.line	1878
 13101 06:3185: 64 1D        	stz	<L685+img_1
 13102 06:3187: 64 1F        	stz	<L685+img_1+2
 13103                        ;    }
 13104                        	.line	1879
 13105                        ;    else
 13106 06:3189: 82 5B 00     	brl	L10224
 13107                        L10223:
 13108                        ;	{
 13109                        	.line	1881
 13110                        ;	    img = fontImg[(int)characterROMMapping[(int)
                    (outChar & 0xFF)]];
 13111                        	.line	1882
 13112 06:318C: A5 25        	lda	<L684+outChar_0
 13113 06:318E: 29 FF 00     	and	#<$ff
 13114 06:3191: 85 09        	sta	<R2
 13115 06:3193: A0 00 00     	ldy	#$0
 13116 06:3196: A5 09        	lda	<R2
 13117 06:3198: 10 01        	bpl	L688
 13118 06:319A: 88           	dey
 13119                        L688:
 13120 06:319B: 85 09        	sta	<R2
 13121 06:319D: 84 0B        	sty	<R2+2
 13122 06:319F: D4 0B        	pei	<R2+2
 13123 06:31A1: D4 09        	pei	<R2
 13124 06:31A3: A9 01 00     	lda	#$1
 13125                        	xref	~~~lasl
 13126 06:31A6: 22 xx xx xx  	jsl	~~~lasl
 13127 06:31AA: 85 05        	sta	<R1
 13128 06:31AC: 86 07        	stx	<R1+2
 13129 06:31AE: 18           	clc
 13130 06:31AF: A9 xx xx     	lda	#<~~characterROMMapping
 13131 06:31B2: 65 05        	adc	<R1
 13132 06:31B4: 85 0D        	sta	<R3
 13133 06:31B6: A9 xx xx     	lda	#^~~characterROMMapping
 13134 06:31B9: 65 07        	adc	<R1+2
 13135 06:31BB: 85 0F        	sta	<R3+2
 13136 06:31BD: A0 00 00     	ldy	#$0
 13137 06:31C0: A7 0D        	lda	[<R3]
 13138 06:31C2: 10 01        	bpl	L689
 13139 06:31C4: 88           	dey
 13140                        L689:
 13141 06:31C5: 85 05        	sta	<R1
 13142 06:31C7: 84 07        	sty	<R1+2
  Sat Jul 10 2021  1:15                                                Page 243


 13143 06:31C9: D4 07        	pei	<R1+2
 13144 06:31CB: D4 05        	pei	<R1
 13145 06:31CD: A9 06 00     	lda	#$6
 13146                        	xref	~~~lasl
 13147 06:31D0: 22 xx xx xx  	jsl	~~~lasl
 13148 06:31D4: 85 01        	sta	<R0
 13149 06:31D6: 86 03        	stx	<R0+2
 13150 06:31D8: 18           	clc
 13151 06:31D9: A9 xx xx     	lda	#<~~fontImg
 13152 06:31DC: 65 01        	adc	<R0
 13153 06:31DE: 85 1D        	sta	<L685+img_1
 13154 06:31E0: A9 xx xx     	lda	#^~~fontImg
 13155 06:31E3: 65 03        	adc	<R0+2
 13156 06:31E5: 85 1F        	sta	<L685+img_1+2
 13157                        ;		//img = fontImg[0x02];
 13158                        ;	}
 13159                        	.line	1884
 13160                        L10224:
 13161                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 13162                        ;
 13163                        ;	// get the font 'image'
 13164                        ;        //char *img = fontImg[ix]; 
 13165                        ;        // loop through pixel rows
 13166                        ;	if(img!=NULL)
 13167                        	.line	1890
 13168                        ;	{
 13169 06:31E7: A5 1D        	lda	<L685+img_1
 13170 06:31E9: 05 1F        	ora	<L685+img_1+2
 13171 06:31EB: D0 03        	bne	L690
 13172 06:31ED: 82 DD 00     	brl	L10225
 13173                        L690:
 13174                        	.line	1891
 13175                        ;		for (y = 0; y < FONTH; y++) 
 13176                        	.line	1892
 13177 06:31F0: 64 17        	stz	<L685+y_1
 13178 06:31F2: 82 C9 00     	brl	L10229
 13179                        L10228:
 13180                        ;		{
 13181                        	.line	1893
 13182                        ;			// loop through pixel columns
 13183                        ;			for (x = 0; x < FONTW; x++) 
 13184                        	.line	1895
 13185 06:31F5: 64 15        	stz	<L685+x_1
 13186 06:31F7: 82 B3 00     	brl	L10233
 13187                        L10232:
 13188                        ;			{
 13189                        	.line	1896
 13190                        ;				// get the pixel value
 13191                        ;				char b = img[y * FONTW +
                     x];
 13192                        ;				if (b > 0) 
 13193                        	.block	1899
 13194             0000000C   b_2	set	12
 13195                        	.sym	b,12,14,1,8
 13196 06:31FA: 22 06 82 06  	jsl	~~k_font_getFontWidth
 13197 06:31FE: 85 01        	sta	<R0
 13198 06:3200: A5 01        	lda	<R0
  Sat Jul 10 2021  1:15                                                Page 244


 13199 06:3202: A6 17        	ldx	<L685+y_1
 13200                        	xref	~~~mul
 13201 06:3204: 22 xx xx xx  	jsl	~~~mul
 13202 06:3208: 85 01        	sta	<R0
 13203 06:320A: 18           	clc
 13204 06:320B: A5 01        	lda	<R0
 13205 06:320D: 65 15        	adc	<L685+x_1
 13206 06:320F: 85 05        	sta	<R1
 13207 06:3211: E2 20        	sep	#$20
 13208                        	longa	off
 13209 06:3213: A4 05        	ldy	<R1
 13210 06:3215: B7 1D        	lda	[<L685+img_1],Y
 13211 06:3217: 85 21        	sta	<L685+b_2
 13212 06:3219: C2 20        	rep	#$20
 13213                        	longa	on
 13214                        	.line	1899
 13215                        ;				{ // plot the pixel
 13216 06:321B: E2 20        	sep	#$20
 13217                        	longa	off
 13218 06:321D: A9 00        	lda	#$0
 13219 06:321F: C5 21        	cmp	<L685+b_2
 13220 06:3221: C2 20        	rep	#$20
 13221                        	longa	on
 13222 06:3223: 90 03        	bcc	L692
 13223 06:3225: 82 83 00     	brl	L10234
 13224                        L692:
 13225                        	.line	1900
 13226                        ;					//k_draw_pixel(t
                    extX + x, textY + y, color);
 13227                        ;					
 13228                        ;					((unsigned char 
                    FAR *)BITMAP_BANK_0)[(long)(( ((long)textY + y) * 640L) + ((
                    long)textX + x) )] = (char)color;
 13229                        	.line	1903
 13230 06:3228: A0 00 00     	ldy	#$0
 13231 06:322B: A5 19        	lda	<L685+textX_1
 13232 06:322D: 10 01        	bpl	L693
 13233 06:322F: 88           	dey
 13234                        L693:
 13235 06:3230: 85 01        	sta	<R0
 13236 06:3232: 84 03        	sty	<R0+2
 13237 06:3234: A0 00 00     	ldy	#$0
 13238 06:3237: A5 15        	lda	<L685+x_1
 13239 06:3239: 10 01        	bpl	L694
 13240 06:323B: 88           	dey
 13241                        L694:
 13242 06:323C: 85 05        	sta	<R1
 13243 06:323E: 84 07        	sty	<R1+2
 13244 06:3240: A0 00 00     	ldy	#$0
 13245 06:3243: A5 17        	lda	<L685+y_1
 13246 06:3245: 10 01        	bpl	L695
 13247 06:3247: 88           	dey
 13248                        L695:
 13249 06:3248: 85 09        	sta	<R2
 13250 06:324A: 84 0B        	sty	<R2+2
 13251 06:324C: A0 00 00     	ldy	#$0
 13252 06:324F: A5 1B        	lda	<L685+textY_1
 13253 06:3251: 10 01        	bpl	L696
  Sat Jul 10 2021  1:15                                                Page 245


 13254 06:3253: 88           	dey
 13255                        L696:
 13256 06:3254: 85 0D        	sta	<R3
 13257 06:3256: 84 0F        	sty	<R3+2
 13258 06:3258: 18           	clc
 13259 06:3259: A5 0D        	lda	<R3
 13260 06:325B: 65 09        	adc	<R2
 13261 06:325D: 85 11        	sta	<17
 13262 06:325F: A5 0F        	lda	<R3+2
 13263 06:3261: 65 0B        	adc	<R2+2
 13264 06:3263: 85 13        	sta	<17+2
 13265 06:3265: F4 00 00     	pea	#^$280
 13266 06:3268: F4 80 02     	pea	#<$280
 13267 06:326B: D4 13        	pei	<17+2
 13268 06:326D: D4 11        	pei	<17
 13269                        	xref	~~~lmul
 13270 06:326F: 22 xx xx xx  	jsl	~~~lmul
 13271 06:3273: 85 09        	sta	<R2
 13272 06:3275: 86 0B        	stx	<R2+2
 13273 06:3277: 18           	clc
 13274 06:3278: A5 09        	lda	<R2
 13275 06:327A: 65 05        	adc	<R1
 13276 06:327C: 85 0D        	sta	<R3
 13277 06:327E: A5 0B        	lda	<R2+2
 13278 06:3280: 65 07        	adc	<R1+2
 13279 06:3282: 85 0F        	sta	<R3+2
 13280 06:3284: 18           	clc
 13281 06:3285: A5 0D        	lda	<R3
 13282 06:3287: 65 01        	adc	<R0
 13283 06:3289: 85 05        	sta	<R1
 13284 06:328B: A5 0F        	lda	<R3+2
 13285 06:328D: 65 03        	adc	<R0+2
 13286 06:328F: 85 07        	sta	<R1+2
 13287 06:3291: 18           	clc
 13288 06:3292: A9 00 00     	lda	#$0
 13289 06:3295: 65 05        	adc	<R1
 13290 06:3297: 85 01        	sta	<R0
 13291 06:3299: A9 B0 00     	lda	#$b0
 13292 06:329C: 65 07        	adc	<R1+2
 13293 06:329E: 85 03        	sta	<R0+2
 13294 06:32A0: E2 20        	sep	#$20
 13295                        	longa	off
 13296 06:32A2: A5 2B        	lda	<L684+color_0
 13297 06:32A4: 87 01        	sta	[<R0]
 13298 06:32A6: C2 20        	rep	#$20
 13299                        	longa	on
 13300                        ;				}
 13301                        	.line	1904
 13302                        ;				else 
 13303 06:32A8: 82 00 00     	brl	L10235
 13304                        L10234:
 13305                        ;				{ 
 13306                        	.line	1906
 13307                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 13308                        ;				}
 13309                        	.line	1908
 13310                        L10235:
  Sat Jul 10 2021  1:15                                                Page 246


 13311                        ;			} // end "for x"
 13312                        	.endblock	1909
 13313                        	.line	1909
 13314                        L10230:
 13315 06:32AB: E6 15        	inc	<L685+x_1
 13316                        L10233:
 13317 06:32AD: 22 06 82 06  	jsl	~~k_font_getFontWidth
 13318 06:32B1: 85 01        	sta	<R0
 13319 06:32B3: A5 15        	lda	<L685+x_1
 13320 06:32B5: C5 01        	cmp	<R0
 13321 06:32B7: B0 03        	bcs	L697
 13322 06:32B9: 82 3E FF     	brl	L10232
 13323                        L697:
 13324                        L10231:
 13325                        ;		} // end "for y"
 13326                        	.line	1910
 13327                        L10226:
 13328 06:32BC: E6 17        	inc	<L685+y_1
 13329                        L10229:
 13330 06:32BE: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 13331 06:32C2: 85 01        	sta	<R0
 13332 06:32C4: A5 17        	lda	<L685+y_1
 13333 06:32C6: C5 01        	cmp	<R0
 13334 06:32C8: B0 03        	bcs	L698
 13335 06:32CA: 82 28 FF     	brl	L10228
 13336                        L698:
 13337                        L10227:
 13338                        ;	}
 13339                        	.line	1911
 13340                        ;}
 13341                        L10225:
 13342                        	.line	1912
 13343                        L699:
 13344 06:32CD: A5 23        	lda	<L684+2
 13345 06:32CF: 85 2B        	sta	<L684+2+8
 13346 06:32D1: A5 22        	lda	<L684+1
 13347 06:32D3: 85 2A        	sta	<L684+1+8
 13348 06:32D5: 2B           	pld
 13349 06:32D6: 3B           	tsc
 13350 06:32D7: 18           	clc
 13351 06:32D8: 69 29 00     	adc	#L684+8
 13352 06:32DB: 1B           	tcs
 13353 06:32DC: 6B           	rtl
 13354                        	.endblock	1912
 13355             00000021   L684	equ	33
 13356             00000015   L685	equ	21
 13357 06:32DD:              	ends
 13358                        	efunc
 13359                        	.endfunc	1912,21,33
 13360                        	.line	1912
 13361                        ;
 13362                        ;void k_put_font_scaled(char outChar,int row,int c
                    olumn,char color,int scale)
 13363                        ;{
 13364                        	.line	1914
 13365                        	.line	1915
 13366                        	GFX
 13367                        	xdef	~~k_put_font_scaled
  Sat Jul 10 2021  1:15                                                Page 247


 13368                        	func
 13369                        	.function	1915
 13370                        ~~k_put_font_scaled:
 13371                        	longa	on
 13372                        	longi	on
 13373 06:32DD: 3B           	tsc
 13374 06:32DE: 38           	sec
 13375 06:32DF: E9 2D 00     	sbc	#L700
 13376 06:32E2: 1B           	tcs
 13377 06:32E3: 0B           	phd
 13378 06:32E4: 5B           	tcd
 13379             00000004   outChar_0	set	4
 13380             00000006   row_0	set	6
 13381             00000008   column_0	set	8
 13382             0000000A   color_0	set	10
 13383             0000000C   scale_0	set	12
 13384                        	.block	1915
 13385                        ;	int x = 0;
 13386                        ;	int y = 0;
 13387                        ;
 13388                        ;	int height = FONTH * scale;
 13389                        ;	int width  = FONTW * scale;
 13390                        ;	
 13391                        ;	int textX = row    * height;
 13392                        ;	int textY = column * width;
 13393                        ;
 13394                        ;	int px   = 0;
 13395                        ;	int py   = 0;
 13396                        ;	int offx = 0;
 13397                        ;	int offy = 0;
 13398                        ;	int sx   = 0;
 13399                        ;	int sy   = 0;
 13400                        ;
 13401                        ;	char b   = 0;
 13402                        ;
 13403                        ;	char FAR* img = NULL;//fontImg[ix];
 13404                        ;
 13405                        ;    if(outChar == 32)
 13406             00000000   x_1	set	0
 13407             00000002   y_1	set	2
 13408             00000004   height_1	set	4
 13409             00000006   width_1	set	6
 13410             00000008   textX_1	set	8
 13411             0000000A   textY_1	set	10
 13412             0000000C   px_1	set	12
 13413             0000000E   py_1	set	14
 13414             00000010   offx_1	set	16
 13415             00000012   offy_1	set	18
 13416             00000014   sx_1	set	20
 13417             00000016   sy_1	set	22
 13418             00000018   b_1	set	24
 13419             00000019   img_1	set	25
 13420                        	.sym	x,0,5,1,16
 13421                        	.sym	y,2,5,1,16
 13422                        	.sym	height,4,5,1,16
 13423                        	.sym	width,6,5,1,16
 13424                        	.sym	textX,8,5,1,16
 13425                        	.sym	textY,10,5,1,16
  Sat Jul 10 2021  1:15                                                Page 248


 13426                        	.sym	px,12,5,1,16
 13427                        	.sym	py,14,5,1,16
 13428                        	.sym	offx,16,5,1,16
 13429                        	.sym	offy,18,5,1,16
 13430                        	.sym	sx,20,5,1,16
 13431                        	.sym	sy,22,5,1,16
 13432                        	.sym	b,24,14,1,8
 13433                        	.sym	img,25,142,1,32
 13434                        	.sym	outChar,4,14,6,8
 13435                        	.sym	row,6,5,6,16
 13436                        	.sym	column,8,5,6,16
 13437                        	.sym	color,10,14,6,8
 13438                        	.sym	scale,12,5,6,16
 13439 06:32E5: 64 11        	stz	<L701+x_1
 13440 06:32E7: 64 13        	stz	<L701+y_1
 13441 06:32E9: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 13442 06:32ED: 85 01        	sta	<R0
 13443 06:32EF: A5 01        	lda	<R0
 13444 06:32F1: A6 39        	ldx	<L700+scale_0
 13445                        	xref	~~~mul
 13446 06:32F3: 22 xx xx xx  	jsl	~~~mul
 13447 06:32F7: 85 15        	sta	<L701+height_1
 13448 06:32F9: 22 06 82 06  	jsl	~~k_font_getFontWidth
 13449 06:32FD: 85 01        	sta	<R0
 13450 06:32FF: A5 01        	lda	<R0
 13451 06:3301: A6 39        	ldx	<L700+scale_0
 13452                        	xref	~~~mul
 13453 06:3303: 22 xx xx xx  	jsl	~~~mul
 13454 06:3307: 85 17        	sta	<L701+width_1
 13455 06:3309: A5 33        	lda	<L700+row_0
 13456 06:330B: A6 15        	ldx	<L701+height_1
 13457                        	xref	~~~mul
 13458 06:330D: 22 xx xx xx  	jsl	~~~mul
 13459 06:3311: 85 19        	sta	<L701+textX_1
 13460 06:3313: A5 35        	lda	<L700+column_0
 13461 06:3315: A6 17        	ldx	<L701+width_1
 13462                        	xref	~~~mul
 13463 06:3317: 22 xx xx xx  	jsl	~~~mul
 13464 06:331B: 85 1B        	sta	<L701+textY_1
 13465 06:331D: 64 1D        	stz	<L701+px_1
 13466 06:331F: 64 1F        	stz	<L701+py_1
 13467 06:3321: 64 21        	stz	<L701+offx_1
 13468 06:3323: 64 23        	stz	<L701+offy_1
 13469 06:3325: 64 25        	stz	<L701+sx_1
 13470 06:3327: 64 27        	stz	<L701+sy_1
 13471 06:3329: E2 20        	sep	#$20
 13472                        	longa	off
 13473 06:332B: 64 29        	stz	<L701+b_1
 13474 06:332D: C2 20        	rep	#$20
 13475                        	longa	on
 13476 06:332F: 64 2A        	stz	<L701+img_1
 13477 06:3331: 64 2C        	stz	<L701+img_1+2
 13478                        	.line	1936
 13479                        ;	{
 13480 06:3333: E2 20        	sep	#$20
 13481                        	longa	off
 13482 06:3335: A5 31        	lda	<L700+outChar_0
 13483 06:3337: C9 20        	cmp	#<$20
  Sat Jul 10 2021  1:15                                                Page 249


 13484 06:3339: C2 20        	rep	#$20
 13485                        	longa	on
 13486 06:333B: F0 03        	beq	L703
 13487 06:333D: 82 07 00     	brl	L10236
 13488                        L703:
 13489                        	.line	1937
 13490                        ;	   img = NULL;//fontSpace;
 13491                        	.line	1938
 13492 06:3340: 64 2A        	stz	<L701+img_1
 13493 06:3342: 64 2C        	stz	<L701+img_1+2
 13494                        ;    }
 13495                        	.line	1939
 13496                        ;    else
 13497 06:3344: 82 5B 00     	brl	L10237
 13498                        L10236:
 13499                        ;	{
 13500                        	.line	1941
 13501                        ;	    img = fontImg[(int)characterROMMapping[(int)
                    (outChar & 0xFF)]];
 13502                        	.line	1942
 13503 06:3347: A5 31        	lda	<L700+outChar_0
 13504 06:3349: 29 FF 00     	and	#<$ff
 13505 06:334C: 85 09        	sta	<R2
 13506 06:334E: A0 00 00     	ldy	#$0
 13507 06:3351: A5 09        	lda	<R2
 13508 06:3353: 10 01        	bpl	L704
 13509 06:3355: 88           	dey
 13510                        L704:
 13511 06:3356: 85 09        	sta	<R2
 13512 06:3358: 84 0B        	sty	<R2+2
 13513 06:335A: D4 0B        	pei	<R2+2
 13514 06:335C: D4 09        	pei	<R2
 13515 06:335E: A9 01 00     	lda	#$1
 13516                        	xref	~~~lasl
 13517 06:3361: 22 xx xx xx  	jsl	~~~lasl
 13518 06:3365: 85 05        	sta	<R1
 13519 06:3367: 86 07        	stx	<R1+2
 13520 06:3369: 18           	clc
 13521 06:336A: A9 xx xx     	lda	#<~~characterROMMapping
 13522 06:336D: 65 05        	adc	<R1
 13523 06:336F: 85 0D        	sta	<R3
 13524 06:3371: A9 xx xx     	lda	#^~~characterROMMapping
 13525 06:3374: 65 07        	adc	<R1+2
 13526 06:3376: 85 0F        	sta	<R3+2
 13527 06:3378: A0 00 00     	ldy	#$0
 13528 06:337B: A7 0D        	lda	[<R3]
 13529 06:337D: 10 01        	bpl	L705
 13530 06:337F: 88           	dey
 13531                        L705:
 13532 06:3380: 85 05        	sta	<R1
 13533 06:3382: 84 07        	sty	<R1+2
 13534 06:3384: D4 07        	pei	<R1+2
 13535 06:3386: D4 05        	pei	<R1
 13536 06:3388: A9 06 00     	lda	#$6
 13537                        	xref	~~~lasl
 13538 06:338B: 22 xx xx xx  	jsl	~~~lasl
 13539 06:338F: 85 01        	sta	<R0
 13540 06:3391: 86 03        	stx	<R0+2
  Sat Jul 10 2021  1:15                                                Page 250


 13541 06:3393: 18           	clc
 13542 06:3394: A9 xx xx     	lda	#<~~fontImg
 13543 06:3397: 65 01        	adc	<R0
 13544 06:3399: 85 2A        	sta	<L701+img_1
 13545 06:339B: A9 xx xx     	lda	#^~~fontImg
 13546 06:339E: 65 03        	adc	<R0+2
 13547 06:33A0: 85 2C        	sta	<L701+img_1+2
 13548                        ;		//img = fontImg[0x01];
 13549                        ;	}
 13550                        	.line	1944
 13551                        L10237:
 13552                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 13553                        ;
 13554                        ;	// get the font 'image'
 13555                        ;        //char *img = fontImg[ix]; 
 13556                        ;        // loop through pixel rows
 13557                        ;	if(img!=NULL)
 13558                        	.line	1950
 13559                        ;	{
 13560 06:33A2: A5 2A        	lda	<L701+img_1
 13561 06:33A4: 05 2C        	ora	<L701+img_1+2
 13562 06:33A6: D0 03        	bne	L706
 13563 06:33A8: 82 E3 00     	brl	L10238
 13564                        L706:
 13565                        	.line	1951
 13566                        ;		py = 0;
 13567                        	.line	1952
 13568 06:33AB: 64 1F        	stz	<L701+py_1
 13569                        ;		for (y = 0; y < height; y+=scale) 
 13570                        	.line	1953
 13571 06:33AD: 64 13        	stz	<L701+y_1
 13572 06:33AF: 82 CD 00     	brl	L10242
 13573                        L10241:
 13574                        ;		{
 13575                        	.line	1954
 13576                        ;			offy = y;
 13577                        	.line	1955
 13578 06:33B2: A5 13        	lda	<L701+y_1
 13579 06:33B4: 85 23        	sta	<L701+offy_1
 13580                        ;			px = 0;
 13581                        	.line	1956
 13582 06:33B6: 64 1D        	stz	<L701+px_1
 13583                        ;			for (x = 0; x < width; x+=scale)
                     
 13584                        	.line	1957
 13585 06:33B8: 64 11        	stz	<L701+x_1
 13586 06:33BA: 82 AA 00     	brl	L10246
 13587                        L10245:
 13588                        ;			{
 13589                        	.line	1958
 13590                        ;				// get the pixel value
 13591                        ;				offx = x;
 13592                        	.line	1960
 13593 06:33BD: A5 11        	lda	<L701+x_1
 13594 06:33BF: 85 21        	sta	<L701+offx_1
 13595                        ;				b = img[py * FONTW + px]
                    ;
  Sat Jul 10 2021  1:15                                                Page 251


 13596                        	.line	1961
 13597 06:33C1: 22 06 82 06  	jsl	~~k_font_getFontWidth
 13598 06:33C5: 85 01        	sta	<R0
 13599 06:33C7: A5 01        	lda	<R0
 13600 06:33C9: A6 1F        	ldx	<L701+py_1
 13601                        	xref	~~~mul
 13602 06:33CB: 22 xx xx xx  	jsl	~~~mul
 13603 06:33CF: 85 01        	sta	<R0
 13604 06:33D1: 18           	clc
 13605 06:33D2: A5 01        	lda	<R0
 13606 06:33D4: 65 1D        	adc	<L701+px_1
 13607 06:33D6: 85 05        	sta	<R1
 13608 06:33D8: E2 20        	sep	#$20
 13609                        	longa	off
 13610 06:33DA: A4 05        	ldy	<R1
 13611 06:33DC: B7 2A        	lda	[<L701+img_1],Y
 13612 06:33DE: 85 29        	sta	<L701+b_1
 13613 06:33E0: C2 20        	rep	#$20
 13614                        	longa	on
 13615                        ;				if (b > 0) 
 13616                        	.line	1962
 13617                        ;				{ // plot the pixel	
                    				
 13618 06:33E2: E2 20        	sep	#$20
 13619                        	longa	off
 13620 06:33E4: A9 00        	lda	#$0
 13621 06:33E6: C5 29        	cmp	<L701+b_1
 13622 06:33E8: C2 20        	rep	#$20
 13623                        	longa	on
 13624 06:33EA: 90 03        	bcc	L707
 13625 06:33EC: 82 6F 00     	brl	L10247
 13626                        L707:
 13627                        	.line	1963
 13628                        ;					offy = y;
 13629                        	.line	1964
 13630 06:33EF: A5 13        	lda	<L701+y_1
 13631 06:33F1: 85 23        	sta	<L701+offy_1
 13632                        ;					for(sy=0;sy<scal
                    e;sy++)
 13633                        	.line	1965
 13634 06:33F3: 64 27        	stz	<L701+sy_1
 13635 06:33F5: 82 54 00     	brl	L10251
 13636                        L10250:
 13637                        ;					{
 13638                        	.line	1966
 13639                        ;						offx = x
                    ;
 13640                        	.line	1967
 13641 06:33F8: A5 11        	lda	<L701+x_1
 13642 06:33FA: 85 21        	sta	<L701+offx_1
 13643                        ;						for(sx=0
                    ;sx<scale;sx++)
 13644                        	.line	1968
 13645 06:33FC: 64 25        	stz	<L701+sx_1
 13646 06:33FE: 82 38 00     	brl	L10255
 13647                        L10254:
 13648                        ;						{
 13649                        	.line	1969
  Sat Jul 10 2021  1:15                                                Page 252


 13650                        ;							
                    k_draw_pixel(textX + offx, textY + offy, color);
 13651                        	.line	1970
 13652 06:3401: D4 37        	pei	<L700+color_0
 13653 06:3403: 18           	clc
 13654 06:3404: A5 1B        	lda	<L701+textY_1
 13655 06:3406: 65 23        	adc	<L701+offy_1
 13656 06:3408: 85 01        	sta	<R0
 13657 06:340A: A0 00 00     	ldy	#$0
 13658 06:340D: A5 01        	lda	<R0
 13659 06:340F: 10 01        	bpl	L708
 13660 06:3411: 88           	dey
 13661                        L708:
 13662 06:3412: 85 01        	sta	<R0
 13663 06:3414: 84 03        	sty	<R0+2
 13664 06:3416: D4 03        	pei	<R0+2
 13665 06:3418: D4 01        	pei	<R0
 13666 06:341A: 18           	clc
 13667 06:341B: A5 19        	lda	<L701+textX_1
 13668 06:341D: 65 21        	adc	<L701+offx_1
 13669 06:341F: 85 05        	sta	<R1
 13670 06:3421: A0 00 00     	ldy	#$0
 13671 06:3424: A5 05        	lda	<R1
 13672 06:3426: 10 01        	bpl	L709
 13673 06:3428: 88           	dey
 13674                        L709:
 13675 06:3429: 85 05        	sta	<R1
 13676 06:342B: 84 07        	sty	<R1+2
 13677 06:342D: D4 07        	pei	<R1+2
 13678 06:342F: D4 05        	pei	<R1
 13679 06:3431: 22 35 13 06  	jsl	~~k_draw_pixel
 13680                        ;							
                    offx++;
 13681                        	.line	1971
 13682 06:3435: E6 21        	inc	<L701+offx_1
 13683                        ;						}
 13684                        	.line	1972
 13685                        L10252:
 13686 06:3437: E6 25        	inc	<L701+sx_1
 13687                        L10255:
 13688 06:3439: 38           	sec
 13689 06:343A: A5 25        	lda	<L701+sx_1
 13690 06:343C: E5 39        	sbc	<L700+scale_0
 13691 06:343E: 70 03        	bvs	L710
 13692 06:3440: 49 00 80     	eor	#$8000
 13693                        L710:
 13694 06:3443: 30 03        	bmi	L711
 13695 06:3445: 82 B9 FF     	brl	L10254
 13696                        L711:
 13697                        L10253:
 13698                        ;						offy++;
 13699                        	.line	1973
 13700 06:3448: E6 23        	inc	<L701+offy_1
 13701                        ;					}
 13702                        	.line	1974
 13703                        L10248:
 13704 06:344A: E6 27        	inc	<L701+sy_1
 13705                        L10251:
  Sat Jul 10 2021  1:15                                                Page 253


 13706 06:344C: 38           	sec
 13707 06:344D: A5 27        	lda	<L701+sy_1
 13708 06:344F: E5 39        	sbc	<L700+scale_0
 13709 06:3451: 70 03        	bvs	L712
 13710 06:3453: 49 00 80     	eor	#$8000
 13711                        L712:
 13712 06:3456: 30 03        	bmi	L713
 13713 06:3458: 82 9D FF     	brl	L10250
 13714                        L713:
 13715                        L10249:
 13716                        ;					
 13717                        ;					//k_draw_pixel(t
                    extX + x, textY + y, color);
 13718                        ;				}
 13719                        	.line	1977
 13720                        ;				else 
 13721 06:345B: 82 00 00     	brl	L10256
 13722                        L10247:
 13723                        ;				{ 
 13724                        	.line	1979
 13725                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 13726                        ;				}
 13727                        	.line	1981
 13728                        L10256:
 13729                        ;				px++;
 13730                        	.line	1982
 13731 06:345E: E6 1D        	inc	<L701+px_1
 13732                        ;			} // end "for x"
 13733                        	.line	1983
 13734                        L10243:
 13735 06:3460: 18           	clc
 13736 06:3461: A5 11        	lda	<L701+x_1
 13737 06:3463: 65 39        	adc	<L700+scale_0
 13738 06:3465: 85 11        	sta	<L701+x_1
 13739                        L10246:
 13740 06:3467: 38           	sec
 13741 06:3468: A5 11        	lda	<L701+x_1
 13742 06:346A: E5 17        	sbc	<L701+width_1
 13743 06:346C: 70 03        	bvs	L714
 13744 06:346E: 49 00 80     	eor	#$8000
 13745                        L714:
 13746 06:3471: 30 03        	bmi	L715
 13747 06:3473: 82 47 FF     	brl	L10245
 13748                        L715:
 13749                        L10244:
 13750                        ;			py++;
 13751                        	.line	1984
 13752 06:3476: E6 1F        	inc	<L701+py_1
 13753                        ;		} // end "for y"
 13754                        	.line	1985
 13755                        L10239:
 13756 06:3478: 18           	clc
 13757 06:3479: A5 13        	lda	<L701+y_1
 13758 06:347B: 65 39        	adc	<L700+scale_0
 13759 06:347D: 85 13        	sta	<L701+y_1
 13760                        L10242:
 13761 06:347F: 38           	sec
  Sat Jul 10 2021  1:15                                                Page 254


 13762 06:3480: A5 13        	lda	<L701+y_1
 13763 06:3482: E5 15        	sbc	<L701+height_1
 13764 06:3484: 70 03        	bvs	L716
 13765 06:3486: 49 00 80     	eor	#$8000
 13766                        L716:
 13767 06:3489: 30 03        	bmi	L717
 13768 06:348B: 82 24 FF     	brl	L10241
 13769                        L717:
 13770                        L10240:
 13771                        ;	}
 13772                        	.line	1986
 13773                        ;}
 13774                        L10238:
 13775                        	.line	1987
 13776                        L718:
 13777 06:348E: A5 2F        	lda	<L700+2
 13778 06:3490: 85 39        	sta	<L700+2+10
 13779 06:3492: A5 2E        	lda	<L700+1
 13780 06:3494: 85 38        	sta	<L700+1+10
 13781 06:3496: 2B           	pld
 13782 06:3497: 3B           	tsc
 13783 06:3498: 18           	clc
 13784 06:3499: 69 37 00     	adc	#L700+10
 13785 06:349C: 1B           	tcs
 13786 06:349D: 6B           	rtl
 13787                        	.endblock	1987
 13788             0000002D   L700	equ	45
 13789             00000011   L701	equ	17
 13790 06:349E:              	ends
 13791                        	efunc
 13792                        	.endfunc	1987,17,45
 13793                        	.line	1987
 13794                        ;
 13795                        ;void k_draw_char(char charCode,int row,int column
                    ,char color)
 13796                        ;{
 13797                        	.line	1989
 13798                        	.line	1990
 13799                        	GFX
 13800                        	xdef	~~k_draw_char
 13801                        	func
 13802                        	.function	1990
 13803                        ~~k_draw_char:
 13804                        	longa	on
 13805                        	longi	on
 13806 06:349E: 3B           	tsc
 13807 06:349F: 38           	sec
 13808 06:34A0: E9 15 00     	sbc	#L719
 13809 06:34A3: 1B           	tcs
 13810 06:34A4: 0B           	phd
 13811 06:34A5: 5B           	tcd
 13812             00000004   charCode_0	set	4
 13813             00000006   row_0	set	6
 13814             00000008   column_0	set	8
 13815             0000000A   color_0	set	10
 13816                        	.block	1990
 13817                        ;	int x = 0;
 13818                        ;	int y = 0;
  Sat Jul 10 2021  1:15                                                Page 255


 13819                        ;
 13820                        ;	int textX = row * FONTH;
 13821                        ;	int textY = column * FONTW;
 13822                        ;	char b = 0;
 13823                        ;
 13824                        ;	char FAR* img = NULL;//fontImg[ix];
 13825                        ;
 13826                        ;    if(charCode == 32)
 13827             00000000   x_1	set	0
 13828             00000002   y_1	set	2
 13829             00000004   textX_1	set	4
 13830             00000006   textY_1	set	6
 13831             00000008   b_1	set	8
 13832             00000009   img_1	set	9
 13833                        	.sym	x,0,5,1,16
 13834                        	.sym	y,2,5,1,16
 13835                        	.sym	textX,4,5,1,16
 13836                        	.sym	textY,6,5,1,16
 13837                        	.sym	b,8,14,1,8
 13838                        	.sym	img,9,142,1,32
 13839                        	.sym	charCode,4,14,6,8
 13840                        	.sym	row,6,5,6,16
 13841                        	.sym	column,8,5,6,16
 13842                        	.sym	color,10,14,6,8
 13843 06:34A6: 64 09        	stz	<L720+x_1
 13844 06:34A8: 64 0B        	stz	<L720+y_1
 13845 06:34AA: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 13846 06:34AE: 85 01        	sta	<R0
 13847 06:34B0: A5 01        	lda	<R0
 13848 06:34B2: A6 1B        	ldx	<L719+row_0
 13849                        	xref	~~~mul
 13850 06:34B4: 22 xx xx xx  	jsl	~~~mul
 13851 06:34B8: 85 0D        	sta	<L720+textX_1
 13852 06:34BA: 22 06 82 06  	jsl	~~k_font_getFontWidth
 13853 06:34BE: 85 01        	sta	<R0
 13854 06:34C0: A5 01        	lda	<R0
 13855 06:34C2: A6 1D        	ldx	<L719+column_0
 13856                        	xref	~~~mul
 13857 06:34C4: 22 xx xx xx  	jsl	~~~mul
 13858 06:34C8: 85 0F        	sta	<L720+textY_1
 13859 06:34CA: E2 20        	sep	#$20
 13860                        	longa	off
 13861 06:34CC: 64 11        	stz	<L720+b_1
 13862 06:34CE: C2 20        	rep	#$20
 13863                        	longa	on
 13864 06:34D0: 64 12        	stz	<L720+img_1
 13865 06:34D2: 64 14        	stz	<L720+img_1+2
 13866                        	.line	2000
 13867                        ;	{
 13868 06:34D4: E2 20        	sep	#$20
 13869                        	longa	off
 13870 06:34D6: A5 19        	lda	<L719+charCode_0
 13871 06:34D8: C9 20        	cmp	#<$20
 13872 06:34DA: C2 20        	rep	#$20
 13873                        	longa	on
 13874 06:34DC: F0 03        	beq	L722
 13875 06:34DE: 82 07 00     	brl	L10257
 13876                        L722:
  Sat Jul 10 2021  1:15                                                Page 256


 13877                        	.line	2001
 13878                        ;	   img = NULL;//fontSpace;
 13879                        	.line	2002
 13880 06:34E1: 64 12        	stz	<L720+img_1
 13881 06:34E3: 64 14        	stz	<L720+img_1+2
 13882                        ;    }
 13883                        	.line	2003
 13884                        ;    else
 13885 06:34E5: 82 31 00     	brl	L10258
 13886                        L10257:
 13887                        ;	{
 13888                        	.line	2005
 13889                        ;	    img = fontImg[charCode & 0xFF];
 13890                        	.line	2006
 13891 06:34E8: A5 19        	lda	<L719+charCode_0
 13892 06:34EA: 29 FF 00     	and	#<$ff
 13893 06:34ED: 85 05        	sta	<R1
 13894 06:34EF: A0 00 00     	ldy	#$0
 13895 06:34F2: A5 05        	lda	<R1
 13896 06:34F4: 10 01        	bpl	L723
 13897 06:34F6: 88           	dey
 13898                        L723:
 13899 06:34F7: 85 05        	sta	<R1
 13900 06:34F9: 84 07        	sty	<R1+2
 13901 06:34FB: D4 07        	pei	<R1+2
 13902 06:34FD: D4 05        	pei	<R1
 13903 06:34FF: A9 06 00     	lda	#$6
 13904                        	xref	~~~lasl
 13905 06:3502: 22 xx xx xx  	jsl	~~~lasl
 13906 06:3506: 85 01        	sta	<R0
 13907 06:3508: 86 03        	stx	<R0+2
 13908 06:350A: 18           	clc
 13909 06:350B: A9 xx xx     	lda	#<~~fontImg
 13910 06:350E: 65 01        	adc	<R0
 13911 06:3510: 85 12        	sta	<L720+img_1
 13912 06:3512: A9 xx xx     	lda	#^~~fontImg
 13913 06:3515: 65 03        	adc	<R0+2
 13914 06:3517: 85 14        	sta	<L720+img_1+2
 13915                        ;	}
 13916                        	.line	2007
 13917                        L10258:
 13918                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 13919                        ;
 13920                        ;	// get the font 'image'
 13921                        ;        //char *img = fontImg[ix]; 
 13922                        ;        // loop through pixel rows
 13923                        ;	if(img!=NULL)
 13924                        	.line	2013
 13925                        ;	{
 13926 06:3519: A5 12        	lda	<L720+img_1
 13927 06:351B: 05 14        	ora	<L720+img_1+2
 13928 06:351D: D0 03        	bne	L724
 13929 06:351F: 82 91 00     	brl	L10259
 13930                        L724:
 13931                        	.line	2014
 13932                        ;		for (y = 0; y < FONTH; y++) 
 13933                        	.line	2015
  Sat Jul 10 2021  1:15                                                Page 257


 13934 06:3522: 64 0B        	stz	<L720+y_1
 13935 06:3524: 82 7D 00     	brl	L10263
 13936                        L10262:
 13937                        ;		{
 13938                        	.line	2016
 13939                        ;			// loop through pixel columns
 13940                        ;			for (x = 0; x < FONTW; x++) 
 13941                        	.line	2018
 13942 06:3527: 64 09        	stz	<L720+x_1
 13943 06:3529: 82 67 00     	brl	L10267
 13944                        L10266:
 13945                        ;			{
 13946                        	.line	2019
 13947                        ;				// get the pixel value
 13948                        ;				b = img[y * FONTW + x];
 13949                        	.line	2021
 13950 06:352C: 22 06 82 06  	jsl	~~k_font_getFontWidth
 13951 06:3530: 85 01        	sta	<R0
 13952 06:3532: A5 01        	lda	<R0
 13953 06:3534: A6 0B        	ldx	<L720+y_1
 13954                        	xref	~~~mul
 13955 06:3536: 22 xx xx xx  	jsl	~~~mul
 13956 06:353A: 85 01        	sta	<R0
 13957 06:353C: 18           	clc
 13958 06:353D: A5 01        	lda	<R0
 13959 06:353F: 65 09        	adc	<L720+x_1
 13960 06:3541: 85 05        	sta	<R1
 13961 06:3543: E2 20        	sep	#$20
 13962                        	longa	off
 13963 06:3545: A4 05        	ldy	<R1
 13964 06:3547: B7 12        	lda	[<L720+img_1],Y
 13965 06:3549: 85 11        	sta	<L720+b_1
 13966 06:354B: C2 20        	rep	#$20
 13967                        	longa	on
 13968                        ;				if (b > 0) 
 13969                        	.line	2022
 13970                        ;				{ // plot the pixel
 13971 06:354D: E2 20        	sep	#$20
 13972                        	longa	off
 13973 06:354F: A9 00        	lda	#$0
 13974 06:3551: C5 11        	cmp	<L720+b_1
 13975 06:3553: C2 20        	rep	#$20
 13976                        	longa	on
 13977 06:3555: 90 03        	bcc	L725
 13978 06:3557: 82 37 00     	brl	L10268
 13979                        L725:
 13980                        	.line	2023
 13981                        ;					k_draw_pixel(tex
                    tX + x, textY + y, color);
 13982                        	.line	2024
 13983 06:355A: D4 1F        	pei	<L719+color_0
 13984 06:355C: 18           	clc
 13985 06:355D: A5 0F        	lda	<L720+textY_1
 13986 06:355F: 65 0B        	adc	<L720+y_1
 13987 06:3561: 85 01        	sta	<R0
 13988 06:3563: A0 00 00     	ldy	#$0
 13989 06:3566: A5 01        	lda	<R0
 13990 06:3568: 10 01        	bpl	L726
  Sat Jul 10 2021  1:15                                                Page 258


 13991 06:356A: 88           	dey
 13992                        L726:
 13993 06:356B: 85 01        	sta	<R0
 13994 06:356D: 84 03        	sty	<R0+2
 13995 06:356F: D4 03        	pei	<R0+2
 13996 06:3571: D4 01        	pei	<R0
 13997 06:3573: 18           	clc
 13998 06:3574: A5 0D        	lda	<L720+textX_1
 13999 06:3576: 65 09        	adc	<L720+x_1
 14000 06:3578: 85 05        	sta	<R1
 14001 06:357A: A0 00 00     	ldy	#$0
 14002 06:357D: A5 05        	lda	<R1
 14003 06:357F: 10 01        	bpl	L727
 14004 06:3581: 88           	dey
 14005                        L727:
 14006 06:3582: 85 05        	sta	<R1
 14007 06:3584: 84 07        	sty	<R1+2
 14008 06:3586: D4 07        	pei	<R1+2
 14009 06:3588: D4 05        	pei	<R1
 14010 06:358A: 22 35 13 06  	jsl	~~k_draw_pixel
 14011                        ;				}
 14012                        	.line	2025
 14013                        ;				else 
 14014 06:358E: 82 00 00     	brl	L10269
 14015                        L10268:
 14016                        ;				{ 
 14017                        	.line	2027
 14018                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 14019                        ;				}
 14020                        	.line	2029
 14021                        L10269:
 14022                        ;			} // end "for x"
 14023                        	.line	2030
 14024                        L10264:
 14025 06:3591: E6 09        	inc	<L720+x_1
 14026                        L10267:
 14027 06:3593: 22 06 82 06  	jsl	~~k_font_getFontWidth
 14028 06:3597: 85 01        	sta	<R0
 14029 06:3599: A5 09        	lda	<L720+x_1
 14030 06:359B: C5 01        	cmp	<R0
 14031 06:359D: B0 03        	bcs	L728
 14032 06:359F: 82 8A FF     	brl	L10266
 14033                        L728:
 14034                        L10265:
 14035                        ;		} // end "for y"
 14036                        	.line	2031
 14037                        L10260:
 14038 06:35A2: E6 0B        	inc	<L720+y_1
 14039                        L10263:
 14040 06:35A4: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 14041 06:35A8: 85 01        	sta	<R0
 14042 06:35AA: A5 0B        	lda	<L720+y_1
 14043 06:35AC: C5 01        	cmp	<R0
 14044 06:35AE: B0 03        	bcs	L729
 14045 06:35B0: 82 74 FF     	brl	L10262
 14046                        L729:
 14047                        L10261:
  Sat Jul 10 2021  1:15                                                Page 259


 14048                        ;	}
 14049                        	.line	2032
 14050                        ;}
 14051                        L10259:
 14052                        	.line	2033
 14053                        L730:
 14054 06:35B3: A5 17        	lda	<L719+2
 14055 06:35B5: 85 1F        	sta	<L719+2+8
 14056 06:35B7: A5 16        	lda	<L719+1
 14057 06:35B9: 85 1E        	sta	<L719+1+8
 14058 06:35BB: 2B           	pld
 14059 06:35BC: 3B           	tsc
 14060 06:35BD: 18           	clc
 14061 06:35BE: 69 1D 00     	adc	#L719+8
 14062 06:35C1: 1B           	tcs
 14063 06:35C2: 6B           	rtl
 14064                        	.endblock	2033
 14065             00000015   L719	equ	21
 14066             00000009   L720	equ	9
 14067 06:35C3:              	ends
 14068                        	efunc
 14069                        	.endfunc	2033,9,21
 14070                        	.line	2033
 14071                        ;
 14072                        ;void k_draw_char_scaled(char charCode,int row,int
                     column,char color,int scale)
 14073                        ;{
 14074                        	.line	2035
 14075                        	.line	2036
 14076                        	GFX
 14077                        	xdef	~~k_draw_char_scaled
 14078                        	func
 14079                        	.function	2036
 14080                        ~~k_draw_char_scaled:
 14081                        	longa	on
 14082                        	longi	on
 14083 06:35C3: 3B           	tsc
 14084 06:35C4: 38           	sec
 14085 06:35C5: E9 25 00     	sbc	#L731
 14086 06:35C8: 1B           	tcs
 14087 06:35C9: 0B           	phd
 14088 06:35CA: 5B           	tcd
 14089             00000004   charCode_0	set	4
 14090             00000006   row_0	set	6
 14091             00000008   column_0	set	8
 14092             0000000A   color_0	set	10
 14093             0000000C   scale_0	set	12
 14094                        	.block	2036
 14095                        ;	int x = 0;
 14096                        ;	int y = 0;
 14097                        ;
 14098                        ;	int height = FONTH * scale;
 14099                        ;	int width  = FONTW * scale;
 14100                        ;	
 14101                        ;	int textX = row    * height;
 14102                        ;	int textY = column * width;
 14103                        ;
 14104                        ;	int px   = 0;
  Sat Jul 10 2021  1:15                                                Page 260


 14105                        ;	int py   = 0;
 14106                        ;	int offx = 0;
 14107                        ;	int offy = 0;
 14108                        ;	int sx   = 0;
 14109                        ;	int sy   = 0;
 14110                        ;
 14111                        ;	char b   = 0;
 14112                        ;
 14113                        ;	char FAR* img = NULL;
 14114                        ;
 14115                        ;    if(charCode == 32)
 14116             00000000   x_1	set	0
 14117             00000002   y_1	set	2
 14118             00000004   height_1	set	4
 14119             00000006   width_1	set	6
 14120             00000008   textX_1	set	8
 14121             0000000A   textY_1	set	10
 14122             0000000C   px_1	set	12
 14123             0000000E   py_1	set	14
 14124             00000010   offx_1	set	16
 14125             00000012   offy_1	set	18
 14126             00000014   sx_1	set	20
 14127             00000016   sy_1	set	22
 14128             00000018   b_1	set	24
 14129             00000019   img_1	set	25
 14130                        	.sym	x,0,5,1,16
 14131                        	.sym	y,2,5,1,16
 14132                        	.sym	height,4,5,1,16
 14133                        	.sym	width,6,5,1,16
 14134                        	.sym	textX,8,5,1,16
 14135                        	.sym	textY,10,5,1,16
 14136                        	.sym	px,12,5,1,16
 14137                        	.sym	py,14,5,1,16
 14138                        	.sym	offx,16,5,1,16
 14139                        	.sym	offy,18,5,1,16
 14140                        	.sym	sx,20,5,1,16
 14141                        	.sym	sy,22,5,1,16
 14142                        	.sym	b,24,14,1,8
 14143                        	.sym	img,25,142,1,32
 14144                        	.sym	charCode,4,14,6,8
 14145                        	.sym	row,6,5,6,16
 14146                        	.sym	column,8,5,6,16
 14147                        	.sym	color,10,14,6,8
 14148                        	.sym	scale,12,5,6,16
 14149 06:35CB: 64 09        	stz	<L732+x_1
 14150 06:35CD: 64 0B        	stz	<L732+y_1
 14151 06:35CF: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 14152 06:35D3: 85 01        	sta	<R0
 14153 06:35D5: A5 01        	lda	<R0
 14154 06:35D7: A6 31        	ldx	<L731+scale_0
 14155                        	xref	~~~mul
 14156 06:35D9: 22 xx xx xx  	jsl	~~~mul
 14157 06:35DD: 85 0D        	sta	<L732+height_1
 14158 06:35DF: 22 06 82 06  	jsl	~~k_font_getFontWidth
 14159 06:35E3: 85 01        	sta	<R0
 14160 06:35E5: A5 01        	lda	<R0
 14161 06:35E7: A6 31        	ldx	<L731+scale_0
 14162                        	xref	~~~mul
  Sat Jul 10 2021  1:15                                                Page 261


 14163 06:35E9: 22 xx xx xx  	jsl	~~~mul
 14164 06:35ED: 85 0F        	sta	<L732+width_1
 14165 06:35EF: A5 2B        	lda	<L731+row_0
 14166 06:35F1: A6 0D        	ldx	<L732+height_1
 14167                        	xref	~~~mul
 14168 06:35F3: 22 xx xx xx  	jsl	~~~mul
 14169 06:35F7: 85 11        	sta	<L732+textX_1
 14170 06:35F9: A5 2D        	lda	<L731+column_0
 14171 06:35FB: A6 0F        	ldx	<L732+width_1
 14172                        	xref	~~~mul
 14173 06:35FD: 22 xx xx xx  	jsl	~~~mul
 14174 06:3601: 85 13        	sta	<L732+textY_1
 14175 06:3603: 64 15        	stz	<L732+px_1
 14176 06:3605: 64 17        	stz	<L732+py_1
 14177 06:3607: 64 19        	stz	<L732+offx_1
 14178 06:3609: 64 1B        	stz	<L732+offy_1
 14179 06:360B: 64 1D        	stz	<L732+sx_1
 14180 06:360D: 64 1F        	stz	<L732+sy_1
 14181 06:360F: E2 20        	sep	#$20
 14182                        	longa	off
 14183 06:3611: 64 21        	stz	<L732+b_1
 14184 06:3613: C2 20        	rep	#$20
 14185                        	longa	on
 14186 06:3615: 64 22        	stz	<L732+img_1
 14187 06:3617: 64 24        	stz	<L732+img_1+2
 14188                        	.line	2057
 14189                        ;	{
 14190 06:3619: E2 20        	sep	#$20
 14191                        	longa	off
 14192 06:361B: A5 29        	lda	<L731+charCode_0
 14193 06:361D: C9 20        	cmp	#<$20
 14194 06:361F: C2 20        	rep	#$20
 14195                        	longa	on
 14196 06:3621: F0 03        	beq	L734
 14197 06:3623: 82 07 00     	brl	L10270
 14198                        L734:
 14199                        	.line	2058
 14200                        ;	   img = NULL;
 14201                        	.line	2059
 14202 06:3626: 64 22        	stz	<L732+img_1
 14203 06:3628: 64 24        	stz	<L732+img_1+2
 14204                        ;    }
 14205                        	.line	2060
 14206                        ;    else
 14207 06:362A: 82 31 00     	brl	L10271
 14208                        L10270:
 14209                        ;	{
 14210                        	.line	2062
 14211                        ;	    img = fontImg[charCode & 0xFF];
 14212                        	.line	2063
 14213 06:362D: A5 29        	lda	<L731+charCode_0
 14214 06:362F: 29 FF 00     	and	#<$ff
 14215 06:3632: 85 05        	sta	<R1
 14216 06:3634: A0 00 00     	ldy	#$0
 14217 06:3637: A5 05        	lda	<R1
 14218 06:3639: 10 01        	bpl	L735
 14219 06:363B: 88           	dey
 14220                        L735:
  Sat Jul 10 2021  1:15                                                Page 262


 14221 06:363C: 85 05        	sta	<R1
 14222 06:363E: 84 07        	sty	<R1+2
 14223 06:3640: D4 07        	pei	<R1+2
 14224 06:3642: D4 05        	pei	<R1
 14225 06:3644: A9 06 00     	lda	#$6
 14226                        	xref	~~~lasl
 14227 06:3647: 22 xx xx xx  	jsl	~~~lasl
 14228 06:364B: 85 01        	sta	<R0
 14229 06:364D: 86 03        	stx	<R0+2
 14230 06:364F: 18           	clc
 14231 06:3650: A9 xx xx     	lda	#<~~fontImg
 14232 06:3653: 65 01        	adc	<R0
 14233 06:3655: 85 22        	sta	<L732+img_1
 14234 06:3657: A9 xx xx     	lda	#^~~fontImg
 14235 06:365A: 65 03        	adc	<R0+2
 14236 06:365C: 85 24        	sta	<L732+img_1+2
 14237                        ;	}
 14238                        	.line	2064
 14239                        L10271:
 14240                        ;
 14241                        ;	if(img!=NULL)
 14242                        	.line	2066
 14243                        ;	{
 14244 06:365E: A5 22        	lda	<L732+img_1
 14245 06:3660: 05 24        	ora	<L732+img_1+2
 14246 06:3662: D0 03        	bne	L736
 14247 06:3664: 82 E3 00     	brl	L10272
 14248                        L736:
 14249                        	.line	2067
 14250                        ;		py = 0;
 14251                        	.line	2068
 14252 06:3667: 64 17        	stz	<L732+py_1
 14253                        ;		for (y = 0; y < height; y+=scale) 
 14254                        	.line	2069
 14255 06:3669: 64 0B        	stz	<L732+y_1
 14256 06:366B: 82 CD 00     	brl	L10276
 14257                        L10275:
 14258                        ;		{
 14259                        	.line	2070
 14260                        ;			offy = y;
 14261                        	.line	2071
 14262 06:366E: A5 0B        	lda	<L732+y_1
 14263 06:3670: 85 1B        	sta	<L732+offy_1
 14264                        ;			px = 0;
 14265                        	.line	2072
 14266 06:3672: 64 15        	stz	<L732+px_1
 14267                        ;			for (x = 0; x < width; x+=scale)
                     
 14268                        	.line	2073
 14269 06:3674: 64 09        	stz	<L732+x_1
 14270 06:3676: 82 AA 00     	brl	L10280
 14271                        L10279:
 14272                        ;			{
 14273                        	.line	2074
 14274                        ;				// get the pixel value
 14275                        ;				offx = x;
 14276                        	.line	2076
 14277 06:3679: A5 09        	lda	<L732+x_1
  Sat Jul 10 2021  1:15                                                Page 263


 14278 06:367B: 85 19        	sta	<L732+offx_1
 14279                        ;				b = img[py * FONTW + px]
                    ;
 14280                        	.line	2077
 14281 06:367D: 22 06 82 06  	jsl	~~k_font_getFontWidth
 14282 06:3681: 85 01        	sta	<R0
 14283 06:3683: A5 01        	lda	<R0
 14284 06:3685: A6 17        	ldx	<L732+py_1
 14285                        	xref	~~~mul
 14286 06:3687: 22 xx xx xx  	jsl	~~~mul
 14287 06:368B: 85 01        	sta	<R0
 14288 06:368D: 18           	clc
 14289 06:368E: A5 01        	lda	<R0
 14290 06:3690: 65 15        	adc	<L732+px_1
 14291 06:3692: 85 05        	sta	<R1
 14292 06:3694: E2 20        	sep	#$20
 14293                        	longa	off
 14294 06:3696: A4 05        	ldy	<R1
 14295 06:3698: B7 22        	lda	[<L732+img_1],Y
 14296 06:369A: 85 21        	sta	<L732+b_1
 14297 06:369C: C2 20        	rep	#$20
 14298                        	longa	on
 14299                        ;				if (b > 0) 
 14300                        	.line	2078
 14301                        ;				{ // plot the pixel	
                    				
 14302 06:369E: E2 20        	sep	#$20
 14303                        	longa	off
 14304 06:36A0: A9 00        	lda	#$0
 14305 06:36A2: C5 21        	cmp	<L732+b_1
 14306 06:36A4: C2 20        	rep	#$20
 14307                        	longa	on
 14308 06:36A6: 90 03        	bcc	L737
 14309 06:36A8: 82 6F 00     	brl	L10281
 14310                        L737:
 14311                        	.line	2079
 14312                        ;					offy = y;
 14313                        	.line	2080
 14314 06:36AB: A5 0B        	lda	<L732+y_1
 14315 06:36AD: 85 1B        	sta	<L732+offy_1
 14316                        ;					for(sy=0;sy<scal
                    e;sy++)
 14317                        	.line	2081
 14318 06:36AF: 64 1F        	stz	<L732+sy_1
 14319 06:36B1: 82 54 00     	brl	L10285
 14320                        L10284:
 14321                        ;					{
 14322                        	.line	2082
 14323                        ;						offx = x
                    ;
 14324                        	.line	2083
 14325 06:36B4: A5 09        	lda	<L732+x_1
 14326 06:36B6: 85 19        	sta	<L732+offx_1
 14327                        ;						for(sx=0
                    ;sx<scale;sx++)
 14328                        	.line	2084
 14329 06:36B8: 64 1D        	stz	<L732+sx_1
 14330 06:36BA: 82 38 00     	brl	L10289
  Sat Jul 10 2021  1:15                                                Page 264


 14331                        L10288:
 14332                        ;						{
 14333                        	.line	2085
 14334                        ;							
                    k_draw_pixel(textX + offx, textY + offy, color);
 14335                        	.line	2086
 14336 06:36BD: D4 2F        	pei	<L731+color_0
 14337 06:36BF: 18           	clc
 14338 06:36C0: A5 13        	lda	<L732+textY_1
 14339 06:36C2: 65 1B        	adc	<L732+offy_1
 14340 06:36C4: 85 01        	sta	<R0
 14341 06:36C6: A0 00 00     	ldy	#$0
 14342 06:36C9: A5 01        	lda	<R0
 14343 06:36CB: 10 01        	bpl	L738
 14344 06:36CD: 88           	dey
 14345                        L738:
 14346 06:36CE: 85 01        	sta	<R0
 14347 06:36D0: 84 03        	sty	<R0+2
 14348 06:36D2: D4 03        	pei	<R0+2
 14349 06:36D4: D4 01        	pei	<R0
 14350 06:36D6: 18           	clc
 14351 06:36D7: A5 11        	lda	<L732+textX_1
 14352 06:36D9: 65 19        	adc	<L732+offx_1
 14353 06:36DB: 85 05        	sta	<R1
 14354 06:36DD: A0 00 00     	ldy	#$0
 14355 06:36E0: A5 05        	lda	<R1
 14356 06:36E2: 10 01        	bpl	L739
 14357 06:36E4: 88           	dey
 14358                        L739:
 14359 06:36E5: 85 05        	sta	<R1
 14360 06:36E7: 84 07        	sty	<R1+2
 14361 06:36E9: D4 07        	pei	<R1+2
 14362 06:36EB: D4 05        	pei	<R1
 14363 06:36ED: 22 35 13 06  	jsl	~~k_draw_pixel
 14364                        ;							
                    offx++;
 14365                        	.line	2087
 14366 06:36F1: E6 19        	inc	<L732+offx_1
 14367                        ;						}
 14368                        	.line	2088
 14369                        L10286:
 14370 06:36F3: E6 1D        	inc	<L732+sx_1
 14371                        L10289:
 14372 06:36F5: 38           	sec
 14373 06:36F6: A5 1D        	lda	<L732+sx_1
 14374 06:36F8: E5 31        	sbc	<L731+scale_0
 14375 06:36FA: 70 03        	bvs	L740
 14376 06:36FC: 49 00 80     	eor	#$8000
 14377                        L740:
 14378 06:36FF: 30 03        	bmi	L741
 14379 06:3701: 82 B9 FF     	brl	L10288
 14380                        L741:
 14381                        L10287:
 14382                        ;						offy++;
 14383                        	.line	2089
 14384 06:3704: E6 1B        	inc	<L732+offy_1
 14385                        ;					}
 14386                        	.line	2090
  Sat Jul 10 2021  1:15                                                Page 265


 14387                        L10282:
 14388 06:3706: E6 1F        	inc	<L732+sy_1
 14389                        L10285:
 14390 06:3708: 38           	sec
 14391 06:3709: A5 1F        	lda	<L732+sy_1
 14392 06:370B: E5 31        	sbc	<L731+scale_0
 14393 06:370D: 70 03        	bvs	L742
 14394 06:370F: 49 00 80     	eor	#$8000
 14395                        L742:
 14396 06:3712: 30 03        	bmi	L743
 14397 06:3714: 82 9D FF     	brl	L10284
 14398                        L743:
 14399                        L10283:
 14400                        ;					
 14401                        ;					//k_draw_pixel(t
                    extX + x, textY + y, color);
 14402                        ;				}
 14403                        	.line	2093
 14404                        ;				else 
 14405 06:3717: 82 00 00     	brl	L10290
 14406                        L10281:
 14407                        ;				{ 
 14408                        	.line	2095
 14409                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 14410                        ;				}
 14411                        	.line	2097
 14412                        L10290:
 14413                        ;				px++;
 14414                        	.line	2098
 14415 06:371A: E6 15        	inc	<L732+px_1
 14416                        ;			} // end "for x"
 14417                        	.line	2099
 14418                        L10277:
 14419 06:371C: 18           	clc
 14420 06:371D: A5 09        	lda	<L732+x_1
 14421 06:371F: 65 31        	adc	<L731+scale_0
 14422 06:3721: 85 09        	sta	<L732+x_1
 14423                        L10280:
 14424 06:3723: 38           	sec
 14425 06:3724: A5 09        	lda	<L732+x_1
 14426 06:3726: E5 0F        	sbc	<L732+width_1
 14427 06:3728: 70 03        	bvs	L744
 14428 06:372A: 49 00 80     	eor	#$8000
 14429                        L744:
 14430 06:372D: 30 03        	bmi	L745
 14431 06:372F: 82 47 FF     	brl	L10279
 14432                        L745:
 14433                        L10278:
 14434                        ;			py++;
 14435                        	.line	2100
 14436 06:3732: E6 17        	inc	<L732+py_1
 14437                        ;		} // end "for y"
 14438                        	.line	2101
 14439                        L10273:
 14440 06:3734: 18           	clc
 14441 06:3735: A5 0B        	lda	<L732+y_1
 14442 06:3737: 65 31        	adc	<L731+scale_0
  Sat Jul 10 2021  1:15                                                Page 266


 14443 06:3739: 85 0B        	sta	<L732+y_1
 14444                        L10276:
 14445 06:373B: 38           	sec
 14446 06:373C: A5 0B        	lda	<L732+y_1
 14447 06:373E: E5 0D        	sbc	<L732+height_1
 14448 06:3740: 70 03        	bvs	L746
 14449 06:3742: 49 00 80     	eor	#$8000
 14450                        L746:
 14451 06:3745: 30 03        	bmi	L747
 14452 06:3747: 82 24 FF     	brl	L10275
 14453                        L747:
 14454                        L10274:
 14455                        ;	}
 14456                        	.line	2102
 14457                        ;}
 14458                        L10272:
 14459                        	.line	2103
 14460                        L748:
 14461 06:374A: A5 27        	lda	<L731+2
 14462 06:374C: 85 31        	sta	<L731+2+10
 14463 06:374E: A5 26        	lda	<L731+1
 14464 06:3750: 85 30        	sta	<L731+1+10
 14465 06:3752: 2B           	pld
 14466 06:3753: 3B           	tsc
 14467 06:3754: 18           	clc
 14468 06:3755: 69 2F 00     	adc	#L731+10
 14469 06:3758: 1B           	tcs
 14470 06:3759: 6B           	rtl
 14471                        	.endblock	2103
 14472             00000025   L731	equ	37
 14473             00000009   L732	equ	9
 14474 06:375A:              	ends
 14475                        	efunc
 14476                        	.endfunc	2103,9,37
 14477                        	.line	2103
 14478                        ;
 14479                        ;
 14480                        ;void k_draw_char_scaled_point(char charCode,int l
                    ocX,int locY,char color,int scale)
 14481                        ;{
 14482                        	.line	2106
 14483                        	.line	2107
 14484                        	GFX
 14485                        	xdef	~~k_draw_char_scaled_point
 14486                        	func
 14487                        	.function	2107
 14488                        ~~k_draw_char_scaled_point:
 14489                        	longa	on
 14490                        	longi	on
 14491 06:375A: 3B           	tsc
 14492 06:375B: 38           	sec
 14493 06:375C: E9 25 00     	sbc	#L749
 14494 06:375F: 1B           	tcs
 14495 06:3760: 0B           	phd
 14496 06:3761: 5B           	tcd
 14497             00000004   charCode_0	set	4
 14498             00000006   locX_0	set	6
 14499             00000008   locY_0	set	8
  Sat Jul 10 2021  1:15                                                Page 267


 14500             0000000A   color_0	set	10
 14501             0000000C   scale_0	set	12
 14502                        	.block	2107
 14503                        ;	int x = 0;
 14504                        ;	int y = 0;
 14505                        ;
 14506                        ;	int height = FONTH * scale;
 14507                        ;	int width  = FONTW * scale;
 14508                        ;	
 14509                        ;	int textX = locX;
 14510                        ;	int textY = locY;
 14511                        ;
 14512                        ;	int px   = 0;
 14513                        ;	int py   = 0;
 14514                        ;	int offx = 0;
 14515                        ;	int offy = 0;
 14516                        ;	int sx   = 0;
 14517                        ;	int sy   = 0;
 14518                        ;
 14519                        ;	char b   = 0;
 14520                        ;
 14521                        ;	char FAR* img = NULL;
 14522                        ;
 14523                        ;    if(charCode == 32)
 14524             00000000   x_1	set	0
 14525             00000002   y_1	set	2
 14526             00000004   height_1	set	4
 14527             00000006   width_1	set	6
 14528             00000008   textX_1	set	8
 14529             0000000A   textY_1	set	10
 14530             0000000C   px_1	set	12
 14531             0000000E   py_1	set	14
 14532             00000010   offx_1	set	16
 14533             00000012   offy_1	set	18
 14534             00000014   sx_1	set	20
 14535             00000016   sy_1	set	22
 14536             00000018   b_1	set	24
 14537             00000019   img_1	set	25
 14538                        	.sym	x,0,5,1,16
 14539                        	.sym	y,2,5,1,16
 14540                        	.sym	height,4,5,1,16
 14541                        	.sym	width,6,5,1,16
 14542                        	.sym	textX,8,5,1,16
 14543                        	.sym	textY,10,5,1,16
 14544                        	.sym	px,12,5,1,16
 14545                        	.sym	py,14,5,1,16
 14546                        	.sym	offx,16,5,1,16
 14547                        	.sym	offy,18,5,1,16
 14548                        	.sym	sx,20,5,1,16
 14549                        	.sym	sy,22,5,1,16
 14550                        	.sym	b,24,14,1,8
 14551                        	.sym	img,25,142,1,32
 14552                        	.sym	charCode,4,14,6,8
 14553                        	.sym	locX,6,5,6,16
 14554                        	.sym	locY,8,5,6,16
 14555                        	.sym	color,10,14,6,8
 14556                        	.sym	scale,12,5,6,16
 14557 06:3762: 64 09        	stz	<L750+x_1
  Sat Jul 10 2021  1:15                                                Page 268


 14558 06:3764: 64 0B        	stz	<L750+y_1
 14559 06:3766: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 14560 06:376A: 85 01        	sta	<R0
 14561 06:376C: A5 01        	lda	<R0
 14562 06:376E: A6 31        	ldx	<L749+scale_0
 14563                        	xref	~~~mul
 14564 06:3770: 22 xx xx xx  	jsl	~~~mul
 14565 06:3774: 85 0D        	sta	<L750+height_1
 14566 06:3776: 22 06 82 06  	jsl	~~k_font_getFontWidth
 14567 06:377A: 85 01        	sta	<R0
 14568 06:377C: A5 01        	lda	<R0
 14569 06:377E: A6 31        	ldx	<L749+scale_0
 14570                        	xref	~~~mul
 14571 06:3780: 22 xx xx xx  	jsl	~~~mul
 14572 06:3784: 85 0F        	sta	<L750+width_1
 14573 06:3786: A5 2B        	lda	<L749+locX_0
 14574 06:3788: 85 11        	sta	<L750+textX_1
 14575 06:378A: A5 2D        	lda	<L749+locY_0
 14576 06:378C: 85 13        	sta	<L750+textY_1
 14577 06:378E: 64 15        	stz	<L750+px_1
 14578 06:3790: 64 17        	stz	<L750+py_1
 14579 06:3792: 64 19        	stz	<L750+offx_1
 14580 06:3794: 64 1B        	stz	<L750+offy_1
 14581 06:3796: 64 1D        	stz	<L750+sx_1
 14582 06:3798: 64 1F        	stz	<L750+sy_1
 14583 06:379A: E2 20        	sep	#$20
 14584                        	longa	off
 14585 06:379C: 64 21        	stz	<L750+b_1
 14586 06:379E: C2 20        	rep	#$20
 14587                        	longa	on
 14588 06:37A0: 64 22        	stz	<L750+img_1
 14589 06:37A2: 64 24        	stz	<L750+img_1+2
 14590                        	.line	2128
 14591                        ;	{
 14592 06:37A4: E2 20        	sep	#$20
 14593                        	longa	off
 14594 06:37A6: A5 29        	lda	<L749+charCode_0
 14595 06:37A8: C9 20        	cmp	#<$20
 14596 06:37AA: C2 20        	rep	#$20
 14597                        	longa	on
 14598 06:37AC: F0 03        	beq	L752
 14599 06:37AE: 82 07 00     	brl	L10291
 14600                        L752:
 14601                        	.line	2129
 14602                        ;	   img = NULL;
 14603                        	.line	2130
 14604 06:37B1: 64 22        	stz	<L750+img_1
 14605 06:37B3: 64 24        	stz	<L750+img_1+2
 14606                        ;    }
 14607                        	.line	2131
 14608                        ;    else
 14609 06:37B5: 82 31 00     	brl	L10292
 14610                        L10291:
 14611                        ;	{
 14612                        	.line	2133
 14613                        ;	    img = fontImg[charCode & 0xFF];
 14614                        	.line	2134
 14615 06:37B8: A5 29        	lda	<L749+charCode_0
  Sat Jul 10 2021  1:15                                                Page 269


 14616 06:37BA: 29 FF 00     	and	#<$ff
 14617 06:37BD: 85 05        	sta	<R1
 14618 06:37BF: A0 00 00     	ldy	#$0
 14619 06:37C2: A5 05        	lda	<R1
 14620 06:37C4: 10 01        	bpl	L753
 14621 06:37C6: 88           	dey
 14622                        L753:
 14623 06:37C7: 85 05        	sta	<R1
 14624 06:37C9: 84 07        	sty	<R1+2
 14625 06:37CB: D4 07        	pei	<R1+2
 14626 06:37CD: D4 05        	pei	<R1
 14627 06:37CF: A9 06 00     	lda	#$6
 14628                        	xref	~~~lasl
 14629 06:37D2: 22 xx xx xx  	jsl	~~~lasl
 14630 06:37D6: 85 01        	sta	<R0
 14631 06:37D8: 86 03        	stx	<R0+2
 14632 06:37DA: 18           	clc
 14633 06:37DB: A9 xx xx     	lda	#<~~fontImg
 14634 06:37DE: 65 01        	adc	<R0
 14635 06:37E0: 85 22        	sta	<L750+img_1
 14636 06:37E2: A9 xx xx     	lda	#^~~fontImg
 14637 06:37E5: 65 03        	adc	<R0+2
 14638 06:37E7: 85 24        	sta	<L750+img_1+2
 14639                        ;	}
 14640                        	.line	2135
 14641                        L10292:
 14642                        ;
 14643                        ;	if(img!=NULL)
 14644                        	.line	2137
 14645                        ;	{
 14646 06:37E9: A5 22        	lda	<L750+img_1
 14647 06:37EB: 05 24        	ora	<L750+img_1+2
 14648 06:37ED: D0 03        	bne	L754
 14649 06:37EF: 82 E3 00     	brl	L10293
 14650                        L754:
 14651                        	.line	2138
 14652                        ;		py = 0;
 14653                        	.line	2139
 14654 06:37F2: 64 17        	stz	<L750+py_1
 14655                        ;		for (y = 0; y < height; y+=scale) 
 14656                        	.line	2140
 14657 06:37F4: 64 0B        	stz	<L750+y_1
 14658 06:37F6: 82 CD 00     	brl	L10297
 14659                        L10296:
 14660                        ;		{
 14661                        	.line	2141
 14662                        ;			offy = y;
 14663                        	.line	2142
 14664 06:37F9: A5 0B        	lda	<L750+y_1
 14665 06:37FB: 85 1B        	sta	<L750+offy_1
 14666                        ;			px = 0;
 14667                        	.line	2143
 14668 06:37FD: 64 15        	stz	<L750+px_1
 14669                        ;			for (x = 0; x < width; x+=scale)
                     
 14670                        	.line	2144
 14671 06:37FF: 64 09        	stz	<L750+x_1
 14672 06:3801: 82 AA 00     	brl	L10301
  Sat Jul 10 2021  1:15                                                Page 270


 14673                        L10300:
 14674                        ;			{
 14675                        	.line	2145
 14676                        ;				// get the pixel value
 14677                        ;				offx = x;
 14678                        	.line	2147
 14679 06:3804: A5 09        	lda	<L750+x_1
 14680 06:3806: 85 19        	sta	<L750+offx_1
 14681                        ;				b = img[py * FONTW + px]
                    ;
 14682                        	.line	2148
 14683 06:3808: 22 06 82 06  	jsl	~~k_font_getFontWidth
 14684 06:380C: 85 01        	sta	<R0
 14685 06:380E: A5 01        	lda	<R0
 14686 06:3810: A6 17        	ldx	<L750+py_1
 14687                        	xref	~~~mul
 14688 06:3812: 22 xx xx xx  	jsl	~~~mul
 14689 06:3816: 85 01        	sta	<R0
 14690 06:3818: 18           	clc
 14691 06:3819: A5 01        	lda	<R0
 14692 06:381B: 65 15        	adc	<L750+px_1
 14693 06:381D: 85 05        	sta	<R1
 14694 06:381F: E2 20        	sep	#$20
 14695                        	longa	off
 14696 06:3821: A4 05        	ldy	<R1
 14697 06:3823: B7 22        	lda	[<L750+img_1],Y
 14698 06:3825: 85 21        	sta	<L750+b_1
 14699 06:3827: C2 20        	rep	#$20
 14700                        	longa	on
 14701                        ;				if (b > 0) 
 14702                        	.line	2149
 14703                        ;				{ // plot the pixel	
                    				
 14704 06:3829: E2 20        	sep	#$20
 14705                        	longa	off
 14706 06:382B: A9 00        	lda	#$0
 14707 06:382D: C5 21        	cmp	<L750+b_1
 14708 06:382F: C2 20        	rep	#$20
 14709                        	longa	on
 14710 06:3831: 90 03        	bcc	L755
 14711 06:3833: 82 6F 00     	brl	L10302
 14712                        L755:
 14713                        	.line	2150
 14714                        ;					offy = y;
 14715                        	.line	2151
 14716 06:3836: A5 0B        	lda	<L750+y_1
 14717 06:3838: 85 1B        	sta	<L750+offy_1
 14718                        ;					for(sy=0;sy<scal
                    e;sy++)
 14719                        	.line	2152
 14720 06:383A: 64 1F        	stz	<L750+sy_1
 14721 06:383C: 82 54 00     	brl	L10306
 14722                        L10305:
 14723                        ;					{
 14724                        	.line	2153
 14725                        ;						offx = x
                    ;
 14726                        	.line	2154
  Sat Jul 10 2021  1:15                                                Page 271


 14727 06:383F: A5 09        	lda	<L750+x_1
 14728 06:3841: 85 19        	sta	<L750+offx_1
 14729                        ;						for(sx=0
                    ;sx<scale;sx++)
 14730                        	.line	2155
 14731 06:3843: 64 1D        	stz	<L750+sx_1
 14732 06:3845: 82 38 00     	brl	L10310
 14733                        L10309:
 14734                        ;						{
 14735                        	.line	2156
 14736                        ;							
                    k_draw_pixel(textX + offx, textY + offy, color);
 14737                        	.line	2157
 14738 06:3848: D4 2F        	pei	<L749+color_0
 14739 06:384A: 18           	clc
 14740 06:384B: A5 13        	lda	<L750+textY_1
 14741 06:384D: 65 1B        	adc	<L750+offy_1
 14742 06:384F: 85 01        	sta	<R0
 14743 06:3851: A0 00 00     	ldy	#$0
 14744 06:3854: A5 01        	lda	<R0
 14745 06:3856: 10 01        	bpl	L756
 14746 06:3858: 88           	dey
 14747                        L756:
 14748 06:3859: 85 01        	sta	<R0
 14749 06:385B: 84 03        	sty	<R0+2
 14750 06:385D: D4 03        	pei	<R0+2
 14751 06:385F: D4 01        	pei	<R0
 14752 06:3861: 18           	clc
 14753 06:3862: A5 11        	lda	<L750+textX_1
 14754 06:3864: 65 19        	adc	<L750+offx_1
 14755 06:3866: 85 05        	sta	<R1
 14756 06:3868: A0 00 00     	ldy	#$0
 14757 06:386B: A5 05        	lda	<R1
 14758 06:386D: 10 01        	bpl	L757
 14759 06:386F: 88           	dey
 14760                        L757:
 14761 06:3870: 85 05        	sta	<R1
 14762 06:3872: 84 07        	sty	<R1+2
 14763 06:3874: D4 07        	pei	<R1+2
 14764 06:3876: D4 05        	pei	<R1
 14765 06:3878: 22 35 13 06  	jsl	~~k_draw_pixel
 14766                        ;							
                    offx++;
 14767                        	.line	2158
 14768 06:387C: E6 19        	inc	<L750+offx_1
 14769                        ;						}
 14770                        	.line	2159
 14771                        L10307:
 14772 06:387E: E6 1D        	inc	<L750+sx_1
 14773                        L10310:
 14774 06:3880: 38           	sec
 14775 06:3881: A5 1D        	lda	<L750+sx_1
 14776 06:3883: E5 31        	sbc	<L749+scale_0
 14777 06:3885: 70 03        	bvs	L758
 14778 06:3887: 49 00 80     	eor	#$8000
 14779                        L758:
 14780 06:388A: 30 03        	bmi	L759
 14781 06:388C: 82 B9 FF     	brl	L10309
  Sat Jul 10 2021  1:15                                                Page 272


 14782                        L759:
 14783                        L10308:
 14784                        ;						offy++;
 14785                        	.line	2160
 14786 06:388F: E6 1B        	inc	<L750+offy_1
 14787                        ;					}
 14788                        	.line	2161
 14789                        L10303:
 14790 06:3891: E6 1F        	inc	<L750+sy_1
 14791                        L10306:
 14792 06:3893: 38           	sec
 14793 06:3894: A5 1F        	lda	<L750+sy_1
 14794 06:3896: E5 31        	sbc	<L749+scale_0
 14795 06:3898: 70 03        	bvs	L760
 14796 06:389A: 49 00 80     	eor	#$8000
 14797                        L760:
 14798 06:389D: 30 03        	bmi	L761
 14799 06:389F: 82 9D FF     	brl	L10305
 14800                        L761:
 14801                        L10304:
 14802                        ;					
 14803                        ;					//k_draw_pixel(t
                    extX + x, textY + y, color);
 14804                        ;				}
 14805                        	.line	2164
 14806                        ;				else 
 14807 06:38A2: 82 00 00     	brl	L10311
 14808                        L10302:
 14809                        ;				{ 
 14810                        	.line	2166
 14811                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 14812                        ;				}
 14813                        	.line	2168
 14814                        L10311:
 14815                        ;				px++;
 14816                        	.line	2169
 14817 06:38A5: E6 15        	inc	<L750+px_1
 14818                        ;			} // end "for x"
 14819                        	.line	2170
 14820                        L10298:
 14821 06:38A7: 18           	clc
 14822 06:38A8: A5 09        	lda	<L750+x_1
 14823 06:38AA: 65 31        	adc	<L749+scale_0
 14824 06:38AC: 85 09        	sta	<L750+x_1
 14825                        L10301:
 14826 06:38AE: 38           	sec
 14827 06:38AF: A5 09        	lda	<L750+x_1
 14828 06:38B1: E5 0F        	sbc	<L750+width_1
 14829 06:38B3: 70 03        	bvs	L762
 14830 06:38B5: 49 00 80     	eor	#$8000
 14831                        L762:
 14832 06:38B8: 30 03        	bmi	L763
 14833 06:38BA: 82 47 FF     	brl	L10300
 14834                        L763:
 14835                        L10299:
 14836                        ;			py++;
 14837                        	.line	2171
  Sat Jul 10 2021  1:15                                                Page 273


 14838 06:38BD: E6 17        	inc	<L750+py_1
 14839                        ;		} // end "for y"
 14840                        	.line	2172
 14841                        L10294:
 14842 06:38BF: 18           	clc
 14843 06:38C0: A5 0B        	lda	<L750+y_1
 14844 06:38C2: 65 31        	adc	<L749+scale_0
 14845 06:38C4: 85 0B        	sta	<L750+y_1
 14846                        L10297:
 14847 06:38C6: 38           	sec
 14848 06:38C7: A5 0B        	lda	<L750+y_1
 14849 06:38C9: E5 0D        	sbc	<L750+height_1
 14850 06:38CB: 70 03        	bvs	L764
 14851 06:38CD: 49 00 80     	eor	#$8000
 14852                        L764:
 14853 06:38D0: 30 03        	bmi	L765
 14854 06:38D2: 82 24 FF     	brl	L10296
 14855                        L765:
 14856                        L10295:
 14857                        ;	}
 14858                        	.line	2173
 14859                        ;}
 14860                        L10293:
 14861                        	.line	2174
 14862                        L766:
 14863 06:38D5: A5 27        	lda	<L749+2
 14864 06:38D7: 85 31        	sta	<L749+2+10
 14865 06:38D9: A5 26        	lda	<L749+1
 14866 06:38DB: 85 30        	sta	<L749+1+10
 14867 06:38DD: 2B           	pld
 14868 06:38DE: 3B           	tsc
 14869 06:38DF: 18           	clc
 14870 06:38E0: 69 2F 00     	adc	#L749+10
 14871 06:38E3: 1B           	tcs
 14872 06:38E4: 6B           	rtl
 14873                        	.endblock	2174
 14874             00000025   L749	equ	37
 14875             00000009   L750	equ	9
 14876 06:38E5:              	ends
 14877                        	efunc
 14878                        	.endfunc	2174,9,37
 14879                        	.line	2174
 14880                        ;
 14881                        ;/*
 14882                        ;void k_render_bitmap_info(int fcolor)
 14883                        ;{
 14884                        ;	int x;
 14885                        ;	int y;
 14886                        ;	int pos = 0;
 14887                        ;	int i = 0;
 14888                        ;	int k = 0;
 14889                        ;	int cv = 0;
 14890                        ;	int cl = 0;
 14891                        ;	int lv = 0;
 14892                        ;	int lm = 0;
 14893                        ;	int bx = 0;
 14894                        ;	int by = 0;
 14895                        ;	int mx = -1;
  Sat Jul 10 2021  1:15                                                Page 274


 14896                        ;	int my = -1;
 14897                        ;	int mb = -1;
 14898                        ;	int bw = 0;
 14899                        ;	int bh = 0;
 14900                        ;	char kbchar = 0;
 14901                        ;
 14902                        ;	version_title = "Version 1.0.0\0";
 14903                        ;
 14904                        ;
 14905                        ;	pos=2;
 14906                        ;	pos=k_put_draw_text(pos,35,"FOENIX C256 VERSION:
                    ",fcolor,0);
 14907                        ;	k_get_c256_major_version(buffer);
 14908                        ;	pos=k_put_draw_text(pos,35,buffer,fcolor,0);
 14909                        ;	k_get_c256_minor_version(buffer);
 14910                        ;	pos=k_put_draw_text(pos,35,buffer,fcolor,0);
 14911                        ;	
 14912                        ;	pos=2;
 14913                        ;	pos=k_put_draw_text(pos,37,"FPGA VERSION:",fcolo
                    r,0);
 14914                        ;	k_get_fpga_date_month(buffer);
 14915                        ;	pos=k_put_draw_text(pos,37,k_pad_string(strbuf,b
                    uffer,'0',2),fcolor,0);
 14916                        ;	pos=k_put_draw_text(pos,37,"/",fcolor,0);
 14917                        ;	k_get_fpga_date_day(buffer);
 14918                        ;	pos=k_put_draw_text(pos,37,k_pad_string(strbuf,b
                    uffer,'0',2),fcolor,0);
 14919                        ;	pos=k_put_draw_text(pos,37,"/",fcolor,0);
 14920                        ;	k_get_fpga_date_year(buffer);
 14921                        ;	pos=k_put_draw_text(pos,37,k_pad_string(strbuf,b
                    uffer,'0',2),fcolor,0);
 14922                        ;
 14923                        ;
 14924                        ;	pos = 2;
 14925                        ;	pos=k_put_draw_text(pos,2,"CURRENT COLOR:",15,0)
                    ;
 14926                        ;	k_itoa(fcolor,buffer,10);
 14927                        ;	pos=k_put_draw_text(pos,2,buffer,15,0);
 14928                        ;
 14929                        ;	pos = 2;
 14930                        ;	k_draw_pixel(0,0,fcolor);
 14931                        ;	pos=k_put_draw_text(pos,3,"READ COLOR AT 0,0 :",
                    15,0);
 14932                        ;	k_itoa(k_get_pixel_color(0,0),buffer,10);
 14933                        ;	pos=k_put_draw_text(pos,3,buffer,15,0);
 14934                        ;
 14935                        ;
 14936                        ;
 14937                        ;	pos = 2;
 14938                        ;	pos=k_put_draw_text(pos,41,"SIZEOF CHAR:",fcolor
                    ,0);
 14939                        ;	k_itoa(sizeof(char),buffer,10);
 14940                        ;	pos=k_put_draw_text(pos,41,buffer,fcolor,0);
 14941                        ;
 14942                        ;	pos = 2;
 14943                        ;	pos=k_put_draw_text(pos,42,"SIZEOF INT:",fcolor,
                    0);
 14944                        ;	k_itoa(sizeof(int),buffer,10);
  Sat Jul 10 2021  1:15                                                Page 275


 14945                        ;	pos=k_put_draw_text(pos,42,buffer,fcolor,0);
 14946                        ;
 14947                        ;	pos = 2;
 14948                        ;	pos=k_put_draw_text(pos,43,"SIZEOF LONG:",fcolor
                    ,0);
 14949                        ;	k_itoa(sizeof(long),buffer,10);
 14950                        ;	pos=k_put_draw_text(pos,43,buffer,fcolor,0);
 14951                        ;
 14952                        ;	pos = 2;
 14953                        ;	pos=k_put_draw_text(pos,44,"SIZEOF CHAR*:",fcolo
                    r,0);
 14954                        ;	k_itoa(sizeof(char*),buffer,10);
 14955                        ;	pos=k_put_draw_text(pos,44,buffer,fcolor,0);
 14956                        ;
 14957                        ;	pos = 2;
 14958                        ;	pos=k_put_draw_text(pos,45,"SIZEOF CHAR FAR*:",f
                    color,0);
 14959                        ;	k_itoa(sizeof(char FAR*),buffer,10);
 14960                        ;	pos=k_put_draw_text(pos,45,buffer,fcolor,0);
 14961                        ;
 14962                        ;
 14963                        ;	pos = 2;
 14964                        ;	pos=k_put_draw_text(pos,46,"SIZEOF UINT:",fcolor
                    ,0);
 14965                        ;	k_itoa(sizeof(unsigned int),buffer,10);
 14966                        ;	pos=k_put_draw_text(pos,46,buffer,fcolor,0);
 14967                        ;
 14968                        ;	pos = 2;
 14969                        ;	pos=k_put_draw_text(pos,47,"SIZEOF ULONG:",fcolo
                    r,0);
 14970                        ;	k_itoa(sizeof(unsigned long),buffer,10);
 14971                        ;	pos=k_put_draw_text(pos,47,buffer,fcolor,0);
 14972                        ;
 14973                        ;}
 14974                        ;*/
 14975                        ;void k_draw_lines(void)
 14976                        ;{
 14977                        	.line	2270
 14978                        	.line	2271
 14979                        	GFX
 14980                        	xdef	~~k_draw_lines
 14981                        	func
 14982                        	.function	2271
 14983                        ~~k_draw_lines:
 14984                        	longa	on
 14985                        	longi	on
 14986 06:38E5: 3B           	tsc
 14987 06:38E6: 38           	sec
 14988 06:38E7: E9 0A 00     	sbc	#L767
 14989 06:38EA: 1B           	tcs
 14990 06:38EB: 0B           	phd
 14991 06:38EC: 5B           	tcd
 14992                        	.block	2271
 14993                        ;	int dx = 0;
 14994                        ;	int dy = 0;
 14995                        ;	int bc = 1;	
 14996                        ;	int dx0 = 0;
 14997                        ;	int dy0 = 0;
  Sat Jul 10 2021  1:15                                                Page 276


 14998                        ;	
 14999                        ;	for(dy=0;dy<480;dy+=5)
 15000             00000000   dx_1	set	0
 15001             00000002   dy_1	set	2
 15002             00000004   bc_1	set	4
 15003             00000006   dx0_1	set	6
 15004             00000008   dy0_1	set	8
 15005                        	.sym	dx,0,5,1,16
 15006                        	.sym	dy,2,5,1,16
 15007                        	.sym	bc,4,5,1,16
 15008                        	.sym	dx0,6,5,1,16
 15009                        	.sym	dy0,8,5,1,16
 15010 06:38ED: 64 01        	stz	<L768+dx_1
 15011 06:38EF: 64 03        	stz	<L768+dy_1
 15012 06:38F1: A9 01 00     	lda	#$1
 15013 06:38F4: 85 05        	sta	<L768+bc_1
 15014 06:38F6: 64 07        	stz	<L768+dx0_1
 15015 06:38F8: 64 09        	stz	<L768+dy0_1
 15016                        	.line	2278
 15017 06:38FA: 64 03        	stz	<L768+dy_1
 15018                        L10314:
 15019                        ;	{
 15020                        	.line	2279
 15021                        ;		//if(dx0!=0 && dy0!=0)
 15022                        ;		//	k_draw_line(0,dy0,dx0,479,0);
 15023                        ;		
 15024                        ;		k_draw_line(0,dy,dx,479,bc);
 15025                        	.line	2283
 15026 06:38FC: D4 05        	pei	<L768+bc_1
 15027 06:38FE: F4 DF 01     	pea	#<$1df
 15028 06:3901: D4 01        	pei	<L768+dx_1
 15029 06:3903: D4 03        	pei	<L768+dy_1
 15030 06:3905: F4 00 00     	pea	#<$0
 15031 06:3908: 22 C5 1A 06  	jsl	~~k_draw_line
 15032                        ;
 15033                        ;		dx0 = dx;
 15034                        	.line	2285
 15035 06:390C: A5 01        	lda	<L768+dx_1
 15036 06:390E: 85 07        	sta	<L768+dx0_1
 15037                        ;		dy0 = dy;
 15038                        	.line	2286
 15039 06:3910: A5 03        	lda	<L768+dy_1
 15040 06:3912: 85 09        	sta	<L768+dy0_1
 15041                        ;		
 15042                        ;		dx+=5;
 15043                        	.line	2288
 15044 06:3914: 18           	clc
 15045 06:3915: A9 05 00     	lda	#$5
 15046 06:3918: 65 01        	adc	<L768+dx_1
 15047 06:391A: 85 01        	sta	<L768+dx_1
 15048                        ;		bc++;
 15049                        	.line	2289
 15050 06:391C: E6 05        	inc	<L768+bc_1
 15051                        ;		if(bc > 15)
 15052                        	.line	2290
 15053                        ;			bc = 1;
 15054 06:391E: 38           	sec
 15055 06:391F: A9 0F 00     	lda	#$f
  Sat Jul 10 2021  1:15                                                Page 277


 15056 06:3922: E5 05        	sbc	<L768+bc_1
 15057 06:3924: 70 03        	bvs	L770
 15058 06:3926: 49 00 80     	eor	#$8000
 15059                        L770:
 15060 06:3929: 10 03        	bpl	L771
 15061 06:392B: 82 05 00     	brl	L10315
 15062                        L771:
 15063                        	.line	2291
 15064 06:392E: A9 01 00     	lda	#$1
 15065 06:3931: 85 05        	sta	<L768+bc_1
 15066                        ;		
 15067                        ;		
 15068                        ;	}
 15069                        L10315:
 15070                        	.line	2294
 15071                        L10312:
 15072 06:3933: 18           	clc
 15073 06:3934: A9 05 00     	lda	#$5
 15074 06:3937: 65 03        	adc	<L768+dy_1
 15075 06:3939: 85 03        	sta	<L768+dy_1
 15076 06:393B: 38           	sec
 15077 06:393C: A5 03        	lda	<L768+dy_1
 15078 06:393E: E9 E0 01     	sbc	#<$1e0
 15079 06:3941: 70 03        	bvs	L772
 15080 06:3943: 49 00 80     	eor	#$8000
 15081                        L772:
 15082 06:3946: 30 03        	bmi	L773
 15083 06:3948: 82 B1 FF     	brl	L10314
 15084                        L773:
 15085                        L10313:
 15086                        ;
 15087                        ;
 15088                        ;	dx=479;
 15089                        	.line	2297
 15090 06:394B: A9 DF 01     	lda	#$1df
 15091 06:394E: 85 01        	sta	<L768+dx_1
 15092                        ;	bc = 1;
 15093                        	.line	2298
 15094 06:3950: A9 01 00     	lda	#$1
 15095 06:3953: 85 05        	sta	<L768+bc_1
 15096                        ;	for(dy=479;dy>=0;dy-=5)
 15097                        	.line	2299
 15098 06:3955: A9 DF 01     	lda	#$1df
 15099 06:3958: 85 03        	sta	<L768+dy_1
 15100                        L10318:
 15101                        ;	{
 15102                        	.line	2300
 15103                        ;		
 15104                        ;		//if(dx!=480 && dy!=480)
 15105                        ;		//	k_draw_line(640,dy,dx,0,15);
 15106                        ;		
 15107                        ;		k_draw_line(639,dy,dx,0,bc);
 15108                        	.line	2305
 15109 06:395A: D4 05        	pei	<L768+bc_1
 15110 06:395C: F4 00 00     	pea	#<$0
 15111 06:395F: D4 01        	pei	<L768+dx_1
 15112 06:3961: D4 03        	pei	<L768+dy_1
 15113 06:3963: F4 7F 02     	pea	#<$27f
  Sat Jul 10 2021  1:15                                                Page 278


 15114 06:3966: 22 C5 1A 06  	jsl	~~k_draw_line
 15115                        ;		
 15116                        ;		dx-=5;
 15117                        	.line	2307
 15118 06:396A: 18           	clc
 15119 06:396B: A9 FB FF     	lda	#$fffb
 15120 06:396E: 65 01        	adc	<L768+dx_1
 15121 06:3970: 85 01        	sta	<L768+dx_1
 15122                        ;		bc++;
 15123                        	.line	2308
 15124 06:3972: E6 05        	inc	<L768+bc_1
 15125                        ;		if(bc > 15)
 15126                        	.line	2309
 15127                        ;			bc = 1;
 15128 06:3974: 38           	sec
 15129 06:3975: A9 0F 00     	lda	#$f
 15130 06:3978: E5 05        	sbc	<L768+bc_1
 15131 06:397A: 70 03        	bvs	L774
 15132 06:397C: 49 00 80     	eor	#$8000
 15133                        L774:
 15134 06:397F: 10 03        	bpl	L775
 15135 06:3981: 82 05 00     	brl	L10319
 15136                        L775:
 15137                        	.line	2310
 15138 06:3984: A9 01 00     	lda	#$1
 15139 06:3987: 85 05        	sta	<L768+bc_1
 15140                        ;	}
 15141                        L10319:
 15142                        	.line	2311
 15143                        L10316:
 15144 06:3989: 18           	clc
 15145 06:398A: A9 FB FF     	lda	#$fffb
 15146 06:398D: 65 03        	adc	<L768+dy_1
 15147 06:398F: 85 03        	sta	<L768+dy_1
 15148 06:3991: A5 03        	lda	<L768+dy_1
 15149 06:3993: 30 03        	bmi	L776
 15150 06:3995: 82 C2 FF     	brl	L10318
 15151                        L776:
 15152                        L10317:
 15153                        ;	
 15154                        ;	/*
 15155                        ;	for(x=0;x<640;x+=10)
 15156                        ;	{
 15157                        ;		
 15158                        ;		for(y=0;y<480;y+=10)
 15159                        ;		{
 15160                        ;			if(x!=0 && y!=0)
 15161                        ;				k_draw_line(x,y,640 - x,
                    480 - y,0);
 15162                        ;			k_draw_line(x,y,640 - x,480 - y,
                    15);
 15163                        ;		}
 15164                        ;		
 15165                        ;	}
 15166                        ;	*/
 15167                        ;}
 15168                        	.line	2326
 15169                        L777:
  Sat Jul 10 2021  1:15                                                Page 279


 15170 06:3998: 2B           	pld
 15171 06:3999: 3B           	tsc
 15172 06:399A: 18           	clc
 15173 06:399B: 69 0A 00     	adc	#L767
 15174 06:399E: 1B           	tcs
 15175 06:399F: 6B           	rtl
 15176                        	.endblock	2326
 15177             0000000A   L767	equ	10
 15178             00000001   L768	equ	1
 15179 06:39A0:              	ends
 15180                        	efunc
 15181                        	.endfunc	2326,1,10
 15182                        	.line	2326
 15183                        ;
 15184                        ;void k_draw_fontset(void)
 15185                        ;{
 15186                        	.line	2328
 15187                        	.line	2329
 15188                        	GFX
 15189                        	xdef	~~k_draw_fontset
 15190                        	func
 15191                        	.function	2329
 15192                        ~~k_draw_fontset:
 15193                        	longa	on
 15194                        	longi	on
 15195 06:39A0: 3B           	tsc
 15196 06:39A1: 38           	sec
 15197 06:39A2: E9 0B 00     	sbc	#L778
 15198 06:39A5: 1B           	tcs
 15199 06:39A6: 0B           	phd
 15200 06:39A7: 5B           	tcd
 15201                        	.block	2329
 15202                        ;	int bx = 0;
 15203                        ;	int by = 29; 
 15204                        ;	int bc = 15;
 15205                        ;	char bf = 1;
 15206                        ;	
 15207                        ;	for(bf=0;bf<64;bf++)
 15208             00000000   bx_1	set	0
 15209             00000002   by_1	set	2
 15210             00000004   bc_1	set	4
 15211             00000006   bf_1	set	6
 15212                        	.sym	bx,0,5,1,16
 15213                        	.sym	by,2,5,1,16
 15214                        	.sym	bc,4,5,1,16
 15215                        	.sym	bf,6,14,1,8
 15216 06:39A8: 64 05        	stz	<L779+bx_1
 15217 06:39AA: A9 1D 00     	lda	#$1d
 15218 06:39AD: 85 07        	sta	<L779+by_1
 15219 06:39AF: A9 0F 00     	lda	#$f
 15220 06:39B2: 85 09        	sta	<L779+bc_1
 15221 06:39B4: E2 20        	sep	#$20
 15222                        	longa	off
 15223 06:39B6: A9 01        	lda	#$1
 15224 06:39B8: 85 0B        	sta	<L779+bf_1
 15225 06:39BA: C2 20        	rep	#$20
 15226                        	longa	on
 15227                        	.line	2335
  Sat Jul 10 2021  1:15                                                Page 280


 15228 06:39BC: E2 20        	sep	#$20
 15229                        	longa	off
 15230 06:39BE: 64 0B        	stz	<L779+bf_1
 15231 06:39C0: C2 20        	rep	#$20
 15232                        	longa	on
 15233 06:39C2: 82 81 00     	brl	L10323
 15234                        L10322:
 15235                        ;	{
 15236                        	.line	2336
 15237                        ;		k_draw_char((char)bf*1,bx,by,bc);
 15238                        	.line	2337
 15239 06:39C5: D4 09        	pei	<L779+bc_1
 15240 06:39C7: D4 07        	pei	<L779+by_1
 15241 06:39C9: D4 05        	pei	<L779+bx_1
 15242 06:39CB: A5 0B        	lda	<L779+bf_1
 15243 06:39CD: 29 FF 00     	and	#$ff
 15244 06:39D0: 48           	pha
 15245 06:39D1: 22 9E 34 06  	jsl	~~k_draw_char
 15246                        ;		k_draw_char((char)bf+64,bx,by + 1,bc);
 15247                        	.line	2338
 15248 06:39D5: D4 09        	pei	<L779+bc_1
 15249 06:39D7: A5 07        	lda	<L779+by_1
 15250 06:39D9: 1A           	ina
 15251 06:39DA: 48           	pha
 15252 06:39DB: D4 05        	pei	<L779+bx_1
 15253 06:39DD: A5 0B        	lda	<L779+bf_1
 15254 06:39DF: 29 FF 00     	and	#$ff
 15255 06:39E2: 85 01        	sta	<R0
 15256 06:39E4: 18           	clc
 15257 06:39E5: A9 40 00     	lda	#$40
 15258 06:39E8: 65 01        	adc	<R0
 15259 06:39EA: 48           	pha
 15260 06:39EB: 22 9E 34 06  	jsl	~~k_draw_char
 15261                        ;		k_draw_char((char)bf+128,bx,by + 2,bc);
 15262                        	.line	2339
 15263 06:39EF: D4 09        	pei	<L779+bc_1
 15264 06:39F1: 18           	clc
 15265 06:39F2: A9 02 00     	lda	#$2
 15266 06:39F5: 65 07        	adc	<L779+by_1
 15267 06:39F7: 48           	pha
 15268 06:39F8: D4 05        	pei	<L779+bx_1
 15269 06:39FA: A5 0B        	lda	<L779+bf_1
 15270 06:39FC: 29 FF 00     	and	#$ff
 15271 06:39FF: 85 01        	sta	<R0
 15272 06:3A01: 18           	clc
 15273 06:3A02: A9 80 00     	lda	#$80
 15274 06:3A05: 65 01        	adc	<R0
 15275 06:3A07: 48           	pha
 15276 06:3A08: 22 9E 34 06  	jsl	~~k_draw_char
 15277                        ;		k_draw_char((char)bf+192,bx,by + 3,bc);
 15278                        	.line	2340
 15279 06:3A0C: D4 09        	pei	<L779+bc_1
 15280 06:3A0E: 18           	clc
 15281 06:3A0F: A9 03 00     	lda	#$3
 15282 06:3A12: 65 07        	adc	<L779+by_1
 15283 06:3A14: 48           	pha
 15284 06:3A15: D4 05        	pei	<L779+bx_1
 15285 06:3A17: A5 0B        	lda	<L779+bf_1
  Sat Jul 10 2021  1:15                                                Page 281


 15286 06:3A19: 29 FF 00     	and	#$ff
 15287 06:3A1C: 85 01        	sta	<R0
 15288 06:3A1E: 18           	clc
 15289 06:3A1F: A9 C0 00     	lda	#$c0
 15290 06:3A22: 65 01        	adc	<R0
 15291 06:3A24: 48           	pha
 15292 06:3A25: 22 9E 34 06  	jsl	~~k_draw_char
 15293                        ;
 15294                        ;
 15295                        ;		if(bc > 15)
 15296                        	.line	2343
 15297                        ;			bc = 1;
 15298 06:3A29: 38           	sec
 15299 06:3A2A: A9 0F 00     	lda	#$f
 15300 06:3A2D: E5 09        	sbc	<L779+bc_1
 15301 06:3A2F: 70 03        	bvs	L781
 15302 06:3A31: 49 00 80     	eor	#$8000
 15303                        L781:
 15304 06:3A34: 10 03        	bpl	L782
 15305 06:3A36: 82 05 00     	brl	L10324
 15306                        L782:
 15307                        	.line	2344
 15308 06:3A39: A9 01 00     	lda	#$1
 15309 06:3A3C: 85 09        	sta	<L779+bc_1
 15310                        ;		
 15311                        ;		bx++;
 15312                        L10324:
 15313                        	.line	2346
 15314 06:3A3E: E6 05        	inc	<L779+bx_1
 15315                        ;	}
 15316                        	.line	2347
 15317                        L10320:
 15318 06:3A40: E2 20        	sep	#$20
 15319                        	longa	off
 15320 06:3A42: E6 0B        	inc	<L779+bf_1
 15321 06:3A44: C2 20        	rep	#$20
 15322                        	longa	on
 15323                        L10323:
 15324 06:3A46: E2 20        	sep	#$20
 15325                        	longa	off
 15326 06:3A48: A5 0B        	lda	<L779+bf_1
 15327 06:3A4A: C9 40        	cmp	#<$40
 15328 06:3A4C: C2 20        	rep	#$20
 15329                        	longa	on
 15330 06:3A4E: B0 03        	bcs	L783
 15331 06:3A50: 82 72 FF     	brl	L10322
 15332                        L783:
 15333                        L10321:
 15334                        ;
 15335                        ;}
 15336                        	.line	2349
 15337                        L784:
 15338 06:3A53: 2B           	pld
 15339 06:3A54: 3B           	tsc
 15340 06:3A55: 18           	clc
 15341 06:3A56: 69 0B 00     	adc	#L778
 15342 06:3A59: 1B           	tcs
 15343 06:3A5A: 6B           	rtl
  Sat Jul 10 2021  1:15                                                Page 282


 15344                        	.endblock	2349
 15345             0000000B   L778	equ	11
 15346             00000005   L779	equ	5
 15347 06:3A5B:              	ends
 15348                        	efunc
 15349                        	.endfunc	2349,5,11
 15350                        	.line	2349
 15351                        ;
 15352                        ;/*
 15353                        ;void k_fill_bank(int bankId,char fcolor)
 15354                        ;{
 15355                        ;	long fill = 0xffffL;
 15356                        ;	
 15357                        ;	if(bankId == 0)
 15358                        ;	{
 15359                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    0,fcolor + 0,fill);
 15360                        ;		((unsigned char FAR *)BITMAP_BANK_0)[fil
                    l] = fcolor;
 15361                        ;	}
 15362                        ;	else if(bankId == 1)
 15363                        ;	{
 15364                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    1,fcolor + 0,fill);
 15365                        ;		((unsigned char FAR *)BITMAP_BANK_1)[fil
                    l] = fcolor;
 15366                        ;	}
 15367                        ;	else if(bankId == 2)
 15368                        ;	{
 15369                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    2,fcolor + 0,fill);
 15370                        ;		((unsigned char FAR *)BITMAP_BANK_2)[fil
                    l] = fcolor;
 15371                        ;	}
 15372                        ;	else if(bankId == 3)
 15373                        ;	{
 15374                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    3,fcolor + 0,fill);
 15375                        ;		((unsigned char FAR *)BITMAP_BANK_3)[fil
                    l] = fcolor;
 15376                        ;	}
 15377                        ;	else if(bankId == 4)
 15378                        ;	{
 15379                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    4,fcolor + 0,fill);
 15380                        ;		((unsigned char FAR *)BITMAP_BANK_4)[fil
                    l] = fcolor;
 15381                        ;	}
 15382                        ;	else if(bankId == 5)
 15383                        ;	{
 15384                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    5,fcolor + 0,fill);
 15385                        ;		((unsigned char FAR *)BITMAP_BANK_5)[fil
                    l] = fcolor;
 15386                        ;	}
 15387                        ;
 15388                        ;}
 15389                        ;*/
  Sat Jul 10 2021  1:15                                                Page 283


 15390                        ;
 15391                        ;
 15392                        ;
 15393                        ;void k_fill_line(int cx,int cy,int width,int colo
                    r)
 15394                        ;{
 15395                        	.line	2392
 15396                        	.line	2393
 15397                        	GFX
 15398                        	xdef	~~k_fill_line
 15399                        	func
 15400                        	.function	2393
 15401                        ~~k_fill_line:
 15402                        	longa	on
 15403                        	longi	on
 15404 06:3A5B: 3B           	tsc
 15405 06:3A5C: 38           	sec
 15406 06:3A5D: E9 0C 00     	sbc	#L785
 15407 06:3A60: 1B           	tcs
 15408 06:3A61: 0B           	phd
 15409 06:3A62: 5B           	tcd
 15410             00000004   cx_0	set	4
 15411             00000006   cy_0	set	6
 15412             00000008   width_0	set	8
 15413             0000000A   color_0	set	10
 15414                        	.block	2393
 15415                        ;
 15416                        ;	long locStart = (long)(( ((long)cy) * 640L) + ((
                    long)cx) );
 15417                        ;	memset(&(((unsigned char FAR *)BITMAP_BANK_0)[lo
                    cStart]),color,width);
 15418             00000000   locStart_1	set	0
 15419                        	.sym	locStart,0,7,1,32
 15420                        	.sym	cx,4,5,6,16
 15421                        	.sym	cy,6,5,6,16
 15422                        	.sym	width,8,5,6,16
 15423                        	.sym	color,10,5,6,16
 15424 06:3A63: A0 00 00     	ldy	#$0
 15425 06:3A66: A5 10        	lda	<L785+cx_0
 15426 06:3A68: 10 01        	bpl	L788
 15427 06:3A6A: 88           	dey
 15428                        L788:
 15429 06:3A6B: 85 01        	sta	<R0
 15430 06:3A6D: 84 03        	sty	<R0+2
 15431 06:3A6F: A0 00 00     	ldy	#$0
 15432 06:3A72: A5 12        	lda	<L785+cy_0
 15433 06:3A74: 10 01        	bpl	L789
 15434 06:3A76: 88           	dey
 15435                        L789:
 15436 06:3A77: 85 05        	sta	<R1
 15437 06:3A79: 84 07        	sty	<R1+2
 15438 06:3A7B: F4 00 00     	pea	#^$280
 15439 06:3A7E: F4 80 02     	pea	#<$280
 15440 06:3A81: D4 07        	pei	<R1+2
 15441 06:3A83: D4 05        	pei	<R1
 15442                        	xref	~~~lmul
 15443 06:3A85: 22 xx xx xx  	jsl	~~~lmul
 15444 06:3A89: 85 05        	sta	<R1
  Sat Jul 10 2021  1:15                                                Page 284


 15445 06:3A8B: 86 07        	stx	<R1+2
 15446 06:3A8D: 18           	clc
 15447 06:3A8E: A5 05        	lda	<R1
 15448 06:3A90: 65 01        	adc	<R0
 15449 06:3A92: 85 09        	sta	<L786+locStart_1
 15450 06:3A94: A5 07        	lda	<R1+2
 15451 06:3A96: 65 03        	adc	<R0+2
 15452 06:3A98: 85 0B        	sta	<L786+locStart_1+2
 15453                        	.line	2396
 15454 06:3A9A: D4 14        	pei	<L785+width_0
 15455 06:3A9C: D4 16        	pei	<L785+color_0
 15456 06:3A9E: 18           	clc
 15457 06:3A9F: A9 00 00     	lda	#$0
 15458 06:3AA2: 65 09        	adc	<L786+locStart_1
 15459 06:3AA4: 85 01        	sta	<R0
 15460 06:3AA6: A9 B0 00     	lda	#$b0
 15461 06:3AA9: 65 0B        	adc	<L786+locStart_1+2
 15462 06:3AAB: 85 03        	sta	<R0+2
 15463 06:3AAD: D4 03        	pei	<R0+2
 15464 06:3AAF: D4 01        	pei	<R0
 15465 06:3AB1: 22 xx xx xx  	jsl	~~memset
 15466                        ;}
 15467                        	.line	2397
 15468                        L790:
 15469 06:3AB5: A5 0E        	lda	<L785+2
 15470 06:3AB7: 85 16        	sta	<L785+2+8
 15471 06:3AB9: A5 0D        	lda	<L785+1
 15472 06:3ABB: 85 15        	sta	<L785+1+8
 15473 06:3ABD: 2B           	pld
 15474 06:3ABE: 3B           	tsc
 15475 06:3ABF: 18           	clc
 15476 06:3AC0: 69 14 00     	adc	#L785+8
 15477 06:3AC3: 1B           	tcs
 15478 06:3AC4: 6B           	rtl
 15479                        	.endblock	2397
 15480             0000000C   L785	equ	12
 15481             00000009   L786	equ	9
 15482 06:3AC5:              	ends
 15483                        	efunc
 15484                        	.endfunc	2397,9,12
 15485                        	.line	2397
 15486                        ;
 15487                        ;void k_vdraw_filled_rect(int cx,int cy,int height
                    ,int width,int color)
 15488                        ;{
 15489                        	.line	2399
 15490                        	.line	2400
 15491                        	GFX
 15492                        	xdef	~~k_vdraw_filled_rect
 15493                        	func
 15494                        	.function	2400
 15495                        ~~k_vdraw_filled_rect:
 15496                        	longa	on
 15497                        	longi	on
 15498 06:3AC5: 3B           	tsc
 15499 06:3AC6: 38           	sec
 15500 06:3AC7: E9 14 00     	sbc	#L791
 15501 06:3ACA: 1B           	tcs
  Sat Jul 10 2021  1:15                                                Page 285


 15502 06:3ACB: 0B           	phd
 15503 06:3ACC: 5B           	tcd
 15504             00000004   cx_0	set	4
 15505             00000006   cy_0	set	6
 15506             00000008   height_0	set	8
 15507             0000000A   width_0	set	10
 15508             0000000C   color_0	set	12
 15509                        	.block	2400
 15510                        ;	int x = 0;
 15511                        ;	int y = 0;
 15512                        ;	int dx = cx + width;
 15513                        ;	int dy = cy + height;
 15514                        ;	
 15515                        ;	if(dx > 639)
 15516             00000000   x_1	set	0
 15517             00000002   y_1	set	2
 15518             00000004   dx_1	set	4
 15519             00000006   dy_1	set	6
 15520                        	.sym	x,0,5,1,16
 15521                        	.sym	y,2,5,1,16
 15522                        	.sym	dx,4,5,1,16
 15523                        	.sym	dy,6,5,1,16
 15524                        	.sym	cx,4,5,6,16
 15525                        	.sym	cy,6,5,6,16
 15526                        	.sym	height,8,5,6,16
 15527                        	.sym	width,10,5,6,16
 15528                        	.sym	color,12,5,6,16
 15529 06:3ACD: 64 09        	stz	<L792+x_1
 15530 06:3ACF: 64 0B        	stz	<L792+y_1
 15531 06:3AD1: 18           	clc
 15532 06:3AD2: A5 18        	lda	<L791+cx_0
 15533 06:3AD4: 65 1E        	adc	<L791+width_0
 15534 06:3AD6: 85 0D        	sta	<L792+dx_1
 15535 06:3AD8: 18           	clc
 15536 06:3AD9: A5 1A        	lda	<L791+cy_0
 15537 06:3ADB: 65 1C        	adc	<L791+height_0
 15538 06:3ADD: 85 0F        	sta	<L792+dy_1
 15539                        	.line	2406
 15540                        ;		dx = 639;
 15541 06:3ADF: 38           	sec
 15542 06:3AE0: A9 7F 02     	lda	#$27f
 15543 06:3AE3: E5 0D        	sbc	<L792+dx_1
 15544 06:3AE5: 70 03        	bvs	L794
 15545 06:3AE7: 49 00 80     	eor	#$8000
 15546                        L794:
 15547 06:3AEA: 10 03        	bpl	L795
 15548 06:3AEC: 82 05 00     	brl	L10325
 15549                        L795:
 15550                        	.line	2407
 15551 06:3AEF: A9 7F 02     	lda	#$27f
 15552 06:3AF2: 85 0D        	sta	<L792+dx_1
 15553                        ;	if(dy > 479)
 15554                        L10325:
 15555                        	.line	2408
 15556                        ;		dy = 479;
 15557 06:3AF4: 38           	sec
 15558 06:3AF5: A9 DF 01     	lda	#$1df
 15559 06:3AF8: E5 0F        	sbc	<L792+dy_1
  Sat Jul 10 2021  1:15                                                Page 286


 15560 06:3AFA: 70 03        	bvs	L796
 15561 06:3AFC: 49 00 80     	eor	#$8000
 15562                        L796:
 15563 06:3AFF: 10 03        	bpl	L797
 15564 06:3B01: 82 05 00     	brl	L10326
 15565                        L797:
 15566                        	.line	2409
 15567 06:3B04: A9 DF 01     	lda	#$1df
 15568 06:3B07: 85 0F        	sta	<L792+dy_1
 15569                        ;	
 15570                        ;	for(y=cy;y<dy;y++)
 15571                        L10326:
 15572                        	.line	2411
 15573 06:3B09: A5 1A        	lda	<L791+cy_0
 15574 06:3B0B: 85 0B        	sta	<L792+y_1
 15575 06:3B0D: 82 39 00     	brl	L10330
 15576                        L10329:
 15577                        ;	{
 15578                        	.line	2412
 15579                        ;		long locStart = (long)(( ((long)y) * 640
                    L) + ((long)cx) );
 15580                        ;		//memset(&(((unsigned char FAR *)SHADOW_
                    BANK_0)[locStart]),color,dx - cx);
 15581                        ;	}
 15582                        	.block	2415
 15583             00000008   locStart_2	set	8
 15584                        	.sym	locStart,8,7,1,32
 15585 06:3B10: A0 00 00     	ldy	#$0
 15586 06:3B13: A5 18        	lda	<L791+cx_0
 15587 06:3B15: 10 01        	bpl	L799
 15588 06:3B17: 88           	dey
 15589                        L799:
 15590 06:3B18: 85 01        	sta	<R0
 15591 06:3B1A: 84 03        	sty	<R0+2
 15592 06:3B1C: A0 00 00     	ldy	#$0
 15593 06:3B1F: A5 0B        	lda	<L792+y_1
 15594 06:3B21: 10 01        	bpl	L800
 15595 06:3B23: 88           	dey
 15596                        L800:
 15597 06:3B24: 85 05        	sta	<R1
 15598 06:3B26: 84 07        	sty	<R1+2
 15599 06:3B28: F4 00 00     	pea	#^$280
 15600 06:3B2B: F4 80 02     	pea	#<$280
 15601 06:3B2E: D4 07        	pei	<R1+2
 15602 06:3B30: D4 05        	pei	<R1
 15603                        	xref	~~~lmul
 15604 06:3B32: 22 xx xx xx  	jsl	~~~lmul
 15605 06:3B36: 85 05        	sta	<R1
 15606 06:3B38: 86 07        	stx	<R1+2
 15607 06:3B3A: 18           	clc
 15608 06:3B3B: A5 05        	lda	<R1
 15609 06:3B3D: 65 01        	adc	<R0
 15610 06:3B3F: 85 11        	sta	<L792+locStart_2
 15611 06:3B41: A5 07        	lda	<R1+2
 15612 06:3B43: 65 03        	adc	<R0+2
 15613 06:3B45: 85 13        	sta	<L792+locStart_2+2
 15614                        	.endblock	2415
 15615                        	.line	2415
  Sat Jul 10 2021  1:15                                                Page 287


 15616                        L10327:
 15617 06:3B47: E6 0B        	inc	<L792+y_1
 15618                        L10330:
 15619 06:3B49: 38           	sec
 15620 06:3B4A: A5 0B        	lda	<L792+y_1
 15621 06:3B4C: E5 0F        	sbc	<L792+dy_1
 15622 06:3B4E: 70 03        	bvs	L801
 15623 06:3B50: 49 00 80     	eor	#$8000
 15624                        L801:
 15625 06:3B53: 30 03        	bmi	L802
 15626 06:3B55: 82 B8 FF     	brl	L10329
 15627                        L802:
 15628                        L10328:
 15629                        ;}
 15630                        	.line	2416
 15631                        L803:
 15632 06:3B58: A5 16        	lda	<L791+2
 15633 06:3B5A: 85 20        	sta	<L791+2+10
 15634 06:3B5C: A5 15        	lda	<L791+1
 15635 06:3B5E: 85 1F        	sta	<L791+1+10
 15636 06:3B60: 2B           	pld
 15637 06:3B61: 3B           	tsc
 15638 06:3B62: 18           	clc
 15639 06:3B63: 69 1E 00     	adc	#L791+10
 15640 06:3B66: 1B           	tcs
 15641 06:3B67: 6B           	rtl
 15642                        	.endblock	2416
 15643             00000014   L791	equ	20
 15644             00000009   L792	equ	9
 15645 06:3B68:              	ends
 15646                        	efunc
 15647                        	.endfunc	2416,9,20
 15648                        	.line	2416
 15649                        ;
 15650                        ;void k_draw_filled_rect(int cx,int cy,int height,
                    int width,int color)
 15651                        ;{
 15652                        	.line	2418
 15653                        	.line	2419
 15654                        	GFX
 15655                        	xdef	~~k_draw_filled_rect
 15656                        	func
 15657                        	.function	2419
 15658                        ~~k_draw_filled_rect:
 15659                        	longa	on
 15660                        	longi	on
 15661 06:3B68: 3B           	tsc
 15662 06:3B69: 38           	sec
 15663 06:3B6A: E9 14 00     	sbc	#L804
 15664 06:3B6D: 1B           	tcs
 15665 06:3B6E: 0B           	phd
 15666 06:3B6F: 5B           	tcd
 15667             00000004   cx_0	set	4
 15668             00000006   cy_0	set	6
 15669             00000008   height_0	set	8
 15670             0000000A   width_0	set	10
 15671             0000000C   color_0	set	12
 15672                        	.block	2419
  Sat Jul 10 2021  1:15                                                Page 288


 15673                        ;	int x = 0;
 15674                        ;	int y = 0;
 15675                        ;	int dx = cx + width;
 15676                        ;	int dy = cy + height;
 15677                        ;	
 15678                        ;	if(dx > 639)
 15679             00000000   x_1	set	0
 15680             00000002   y_1	set	2
 15681             00000004   dx_1	set	4
 15682             00000006   dy_1	set	6
 15683                        	.sym	x,0,5,1,16
 15684                        	.sym	y,2,5,1,16
 15685                        	.sym	dx,4,5,1,16
 15686                        	.sym	dy,6,5,1,16
 15687                        	.sym	cx,4,5,6,16
 15688                        	.sym	cy,6,5,6,16
 15689                        	.sym	height,8,5,6,16
 15690                        	.sym	width,10,5,6,16
 15691                        	.sym	color,12,5,6,16
 15692 06:3B70: 64 09        	stz	<L805+x_1
 15693 06:3B72: 64 0B        	stz	<L805+y_1
 15694 06:3B74: 18           	clc
 15695 06:3B75: A5 18        	lda	<L804+cx_0
 15696 06:3B77: 65 1E        	adc	<L804+width_0
 15697 06:3B79: 85 0D        	sta	<L805+dx_1
 15698 06:3B7B: 18           	clc
 15699 06:3B7C: A5 1A        	lda	<L804+cy_0
 15700 06:3B7E: 65 1C        	adc	<L804+height_0
 15701 06:3B80: 85 0F        	sta	<L805+dy_1
 15702                        	.line	2425
 15703                        ;		dx = 639;
 15704 06:3B82: 38           	sec
 15705 06:3B83: A9 7F 02     	lda	#$27f
 15706 06:3B86: E5 0D        	sbc	<L805+dx_1
 15707 06:3B88: 70 03        	bvs	L807
 15708 06:3B8A: 49 00 80     	eor	#$8000
 15709                        L807:
 15710 06:3B8D: 10 03        	bpl	L808
 15711 06:3B8F: 82 05 00     	brl	L10331
 15712                        L808:
 15713                        	.line	2426
 15714 06:3B92: A9 7F 02     	lda	#$27f
 15715 06:3B95: 85 0D        	sta	<L805+dx_1
 15716                        ;	if(dy > 479)
 15717                        L10331:
 15718                        	.line	2427
 15719                        ;		dy = 479;
 15720 06:3B97: 38           	sec
 15721 06:3B98: A9 DF 01     	lda	#$1df
 15722 06:3B9B: E5 0F        	sbc	<L805+dy_1
 15723 06:3B9D: 70 03        	bvs	L809
 15724 06:3B9F: 49 00 80     	eor	#$8000
 15725                        L809:
 15726 06:3BA2: 10 03        	bpl	L810
 15727 06:3BA4: 82 05 00     	brl	L10332
 15728                        L810:
 15729                        	.line	2428
 15730 06:3BA7: A9 DF 01     	lda	#$1df
  Sat Jul 10 2021  1:15                                                Page 289


 15731 06:3BAA: 85 0F        	sta	<L805+dy_1
 15732                        ;	
 15733                        ;	for(y=cy;y<dy;y++)
 15734                        L10332:
 15735                        	.line	2430
 15736 06:3BAC: A5 1A        	lda	<L804+cy_0
 15737 06:3BAE: 85 0B        	sta	<L805+y_1
 15738 06:3BB0: 82 39 00     	brl	L10336
 15739                        L10335:
 15740                        ;	{
 15741                        	.line	2431
 15742                        ;		long locStart = (long)(( ((long)y) * 640
                    L) + ((long)cx) );
 15743                        ;		//memset(&(((unsigned char FAR *)BITMAP_
                    BANK_0)[locStart]),color,dx - cx);
 15744                        ;	}
 15745                        	.block	2434
 15746             00000008   locStart_2	set	8
 15747                        	.sym	locStart,8,7,1,32
 15748 06:3BB3: A0 00 00     	ldy	#$0
 15749 06:3BB6: A5 18        	lda	<L804+cx_0
 15750 06:3BB8: 10 01        	bpl	L812
 15751 06:3BBA: 88           	dey
 15752                        L812:
 15753 06:3BBB: 85 01        	sta	<R0
 15754 06:3BBD: 84 03        	sty	<R0+2
 15755 06:3BBF: A0 00 00     	ldy	#$0
 15756 06:3BC2: A5 0B        	lda	<L805+y_1
 15757 06:3BC4: 10 01        	bpl	L813
 15758 06:3BC6: 88           	dey
 15759                        L813:
 15760 06:3BC7: 85 05        	sta	<R1
 15761 06:3BC9: 84 07        	sty	<R1+2
 15762 06:3BCB: F4 00 00     	pea	#^$280
 15763 06:3BCE: F4 80 02     	pea	#<$280
 15764 06:3BD1: D4 07        	pei	<R1+2
 15765 06:3BD3: D4 05        	pei	<R1
 15766                        	xref	~~~lmul
 15767 06:3BD5: 22 xx xx xx  	jsl	~~~lmul
 15768 06:3BD9: 85 05        	sta	<R1
 15769 06:3BDB: 86 07        	stx	<R1+2
 15770 06:3BDD: 18           	clc
 15771 06:3BDE: A5 05        	lda	<R1
 15772 06:3BE0: 65 01        	adc	<R0
 15773 06:3BE2: 85 11        	sta	<L805+locStart_2
 15774 06:3BE4: A5 07        	lda	<R1+2
 15775 06:3BE6: 65 03        	adc	<R0+2
 15776 06:3BE8: 85 13        	sta	<L805+locStart_2+2
 15777                        	.endblock	2434
 15778                        	.line	2434
 15779                        L10333:
 15780 06:3BEA: E6 0B        	inc	<L805+y_1
 15781                        L10336:
 15782 06:3BEC: 38           	sec
 15783 06:3BED: A5 0B        	lda	<L805+y_1
 15784 06:3BEF: E5 0F        	sbc	<L805+dy_1
 15785 06:3BF1: 70 03        	bvs	L814
 15786 06:3BF3: 49 00 80     	eor	#$8000
  Sat Jul 10 2021  1:15                                                Page 290


 15787                        L814:
 15788 06:3BF6: 30 03        	bmi	L815
 15789 06:3BF8: 82 B8 FF     	brl	L10335
 15790                        L815:
 15791                        L10334:
 15792                        ;}
 15793                        	.line	2435
 15794                        L816:
 15795 06:3BFB: A5 16        	lda	<L804+2
 15796 06:3BFD: 85 20        	sta	<L804+2+10
 15797 06:3BFF: A5 15        	lda	<L804+1
 15798 06:3C01: 85 1F        	sta	<L804+1+10
 15799 06:3C03: 2B           	pld
 15800 06:3C04: 3B           	tsc
 15801 06:3C05: 18           	clc
 15802 06:3C06: 69 1E 00     	adc	#L804+10
 15803 06:3C09: 1B           	tcs
 15804 06:3C0A: 6B           	rtl
 15805                        	.endblock	2435
 15806             00000014   L804	equ	20
 15807             00000009   L805	equ	9
 15808 06:3C0B:              	ends
 15809                        	efunc
 15810                        	.endfunc	2435,9,20
 15811                        	.line	2435
 15812                        ;
 15813                        ;
 15814                        ;PWINDOW k_create_ui_window_class(int cx,int cy,in
                    t height,int width,LPCHAR title,LPCHAR className,FXWndProc w
                    ndProc)
 15815                        ;{
 15816                        	.line	2438
 15817                        	.line	2439
 15818                        	GFX
 15819                        	xdef	~~k_create_ui_window_class
 15820                        	func
 15821                        	.function	2439
 15822                        ~~k_create_ui_window_class:
 15823                        	longa	on
 15824                        	longi	on
 15825 06:3C0B: 3B           	tsc
 15826 06:3C0C: 38           	sec
 15827 06:3C0D: E9 08 00     	sbc	#L817
 15828 06:3C10: 1B           	tcs
 15829 06:3C11: 0B           	phd
 15830 06:3C12: 5B           	tcd
 15831             00000004   cx_0	set	4
 15832             00000006   cy_0	set	6
 15833             00000008   height_0	set	8
 15834             0000000A   width_0	set	10
 15835             0000000C   title_0	set	12
 15836             00000010   className_0	set	16
 15837             00000014   wndProc_0	set	20
 15838                        	.block	2439
 15839                        ;	PWINDOW pWin = NULL;
 15840                        ;
 15841                        ;	if(className && title)
 15842             00000000   pWin_1	set	0
  Sat Jul 10 2021  1:15                                                Page 291


 15843                        	.sym	pWin,0,138,1,32,33
 15844                        	.sym	cx,4,5,6,16
 15845                        	.sym	cy,6,5,6,16
 15846                        	.sym	height,8,5,6,16
 15847                        	.sym	width,10,5,6,16
 15848                        	.sym	title,12,142,6,32
 15849                        	.sym	className,16,142,6,32
 15850                        	.sym	wndProc,20,654,6,32
 15851 06:3C13: 64 05        	stz	<L818+pWin_1
 15852 06:3C15: 64 07        	stz	<L818+pWin_1+2
 15853                        	.line	2442
 15854                        ;	{
 15855 06:3C17: A5 18        	lda	<L817+className_0
 15856 06:3C19: 05 1A        	ora	<L817+className_0+2
 15857 06:3C1B: D0 03        	bne	L820
 15858 06:3C1D: 82 F6 00     	brl	L10337
 15859                        L820:
 15860 06:3C20: A5 14        	lda	<L817+title_0
 15861 06:3C22: 05 16        	ora	<L817+title_0+2
 15862 06:3C24: D0 03        	bne	L821
 15863 06:3C26: 82 ED 00     	brl	L10337
 15864                        L821:
 15865                        	.line	2443
 15866                        ;		pWin = (PWINDOW)k_mem_allocate_heap(size
                    of(WINDOW));
 15867                        	.line	2444
 15868 06:3C29: F4 E8 01     	pea	#<$1e8
 15869 06:3C2C: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 15870 06:3C30: 85 05        	sta	<L818+pWin_1
 15871 06:3C32: 86 07        	stx	<L818+pWin_1+2
 15872                        ;		if(pWin)
 15873                        	.line	2445
 15874                        ;		{
 15875 06:3C34: A5 05        	lda	<L818+pWin_1
 15876 06:3C36: 05 07        	ora	<L818+pWin_1+2
 15877 06:3C38: D0 03        	bne	L822
 15878 06:3C3A: 82 D9 00     	brl	L10338
 15879                        L822:
 15880                        	.line	2446
 15881                        ;			memset(pWin,0,sizeof(WINDOW));
 15882                        	.line	2447
 15883 06:3C3D: F4 E8 01     	pea	#<$1e8
 15884 06:3C40: F4 00 00     	pea	#<$0
 15885 06:3C43: D4 07        	pei	<L818+pWin_1+2
 15886 06:3C45: D4 05        	pei	<L818+pWin_1
 15887 06:3C47: 22 xx xx xx  	jsl	~~memset
 15888                        ;
 15889                        ;			strcpy(pWin->win_title,title);
 15890                        	.line	2449
 15891 06:3C4B: D4 16        	pei	<L817+title_0+2
 15892 06:3C4D: D4 14        	pei	<L817+title_0
 15893 06:3C4F: 18           	clc
 15894 06:3C50: A9 4C 01     	lda	#$14c
 15895 06:3C53: 65 05        	adc	<L818+pWin_1
 15896 06:3C55: 85 01        	sta	<R0
 15897 06:3C57: A9 00 00     	lda	#$0
 15898 06:3C5A: 65 07        	adc	<L818+pWin_1+2
 15899 06:3C5C: 85 03        	sta	<R0+2
  Sat Jul 10 2021  1:15                                                Page 292


 15900 06:3C5E: D4 03        	pei	<R0+2
 15901 06:3C60: D4 01        	pei	<R0
 15902 06:3C62: 22 xx xx xx  	jsl	~~strcpy
 15903                        ;			strcpy(pWin->win_class,className
                    );
 15904                        	.line	2450
 15905 06:3C66: D4 1A        	pei	<L817+className_0+2
 15906 06:3C68: D4 18        	pei	<L817+className_0
 15907 06:3C6A: 18           	clc
 15908 06:3C6B: A9 6E 01     	lda	#$16e
 15909 06:3C6E: 65 05        	adc	<L818+pWin_1
 15910 06:3C70: 85 01        	sta	<R0
 15911 06:3C72: A9 00 00     	lda	#$0
 15912 06:3C75: 65 07        	adc	<L818+pWin_1+2
 15913 06:3C77: 85 03        	sta	<R0+2
 15914 06:3C79: D4 03        	pei	<R0+2
 15915 06:3C7B: D4 01        	pei	<R0
 15916 06:3C7D: 22 xx xx xx  	jsl	~~strcpy
 15917                        ;			pWin->win_x = cx;
 15918                        	.line	2451
 15919 06:3C81: A5 0C        	lda	<L817+cx_0
 15920 06:3C83: A0 0C 00     	ldy	#$c
 15921 06:3C86: 97 05        	sta	[<L818+pWin_1],Y
 15922                        ;			pWin->win_y = cy;
 15923                        	.line	2452
 15924 06:3C88: A5 0E        	lda	<L817+cy_0
 15925 06:3C8A: A0 0E 00     	ldy	#$e
 15926 06:3C8D: 97 05        	sta	[<L818+pWin_1],Y
 15927                        ;			pWin->win_width  = width;
 15928                        	.line	2453
 15929 06:3C8F: A5 12        	lda	<L817+width_0
 15930 06:3C91: A0 10 00     	ldy	#$10
 15931 06:3C94: 97 05        	sta	[<L818+pWin_1],Y
 15932                        ;			pWin->win_height = height;
 15933                        	.line	2454
 15934 06:3C96: A5 10        	lda	<L817+height_0
 15935 06:3C98: A0 12 00     	ldy	#$12
 15936 06:3C9B: 97 05        	sta	[<L818+pWin_1],Y
 15937                        ;			pWin->clickable = k_mem_allocate
                    _heap(sizeof(CLICKABLE));
 15938                        	.line	2455
 15939 06:3C9D: F4 13 00     	pea	#<$13
 15940 06:3CA0: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 15941 06:3CA4: 85 01        	sta	<R0
 15942 06:3CA6: 86 03        	stx	<R0+2
 15943 06:3CA8: A5 01        	lda	<R0
 15944 06:3CAA: A0 48 01     	ldy	#$148
 15945 06:3CAD: 97 05        	sta	[<L818+pWin_1],Y
 15946 06:3CAF: A5 03        	lda	<R0+2
 15947 06:3CB1: A0 4A 01     	ldy	#$14a
 15948 06:3CB4: 97 05        	sta	[<L818+pWin_1],Y
 15949                        ;			if(pWin->clickable)
 15950                        	.line	2456
 15951                        ;			{
 15952 06:3CB6: A0 48 01     	ldy	#$148
 15953 06:3CB9: B7 05        	lda	[<L818+pWin_1],Y
 15954 06:3CBB: A0 4A 01     	ldy	#$14a
 15955 06:3CBE: 17 05        	ora	[<L818+pWin_1],Y
  Sat Jul 10 2021  1:15                                                Page 293


 15956 06:3CC0: D0 03        	bne	L823
 15957 06:3CC2: 82 51 00     	brl	L10339
 15958                        L823:
 15959                        	.line	2457
 15960                        ;				((PCLICKABLE)pWin->click
                    able)->area.x = cx;
 15961                        	.line	2458
 15962 06:3CC5: A0 48 01     	ldy	#$148
 15963 06:3CC8: B7 05        	lda	[<L818+pWin_1],Y
 15964 06:3CCA: 85 01        	sta	<R0
 15965 06:3CCC: A0 4A 01     	ldy	#$14a
 15966 06:3CCF: B7 05        	lda	[<L818+pWin_1],Y
 15967 06:3CD1: 85 03        	sta	<R0+2
 15968 06:3CD3: A5 0C        	lda	<L817+cx_0
 15969 06:3CD5: 87 01        	sta	[<R0]
 15970                        ;				((PCLICKABLE)pWin->click
                    able)->area.y = cy;
 15971                        	.line	2459
 15972 06:3CD7: A0 48 01     	ldy	#$148
 15973 06:3CDA: B7 05        	lda	[<L818+pWin_1],Y
 15974 06:3CDC: 85 01        	sta	<R0
 15975 06:3CDE: A0 4A 01     	ldy	#$14a
 15976 06:3CE1: B7 05        	lda	[<L818+pWin_1],Y
 15977 06:3CE3: 85 03        	sta	<R0+2
 15978 06:3CE5: A5 0E        	lda	<L817+cy_0
 15979 06:3CE7: A0 02 00     	ldy	#$2
 15980 06:3CEA: 97 01        	sta	[<R0],Y
 15981                        ;				((PCLICKABLE)pWin->click
                    able)->area.height = height;
 15982                        	.line	2460
 15983 06:3CEC: A0 48 01     	ldy	#$148
 15984 06:3CEF: B7 05        	lda	[<L818+pWin_1],Y
 15985 06:3CF1: 85 01        	sta	<R0
 15986 06:3CF3: A0 4A 01     	ldy	#$14a
 15987 06:3CF6: B7 05        	lda	[<L818+pWin_1],Y
 15988 06:3CF8: 85 03        	sta	<R0+2
 15989 06:3CFA: A5 10        	lda	<L817+height_0
 15990 06:3CFC: A0 0A 00     	ldy	#$a
 15991 06:3CFF: 97 01        	sta	[<R0],Y
 15992                        ;				((PCLICKABLE)pWin->click
                    able)->area.width = width;
 15993                        	.line	2461
 15994 06:3D01: A0 48 01     	ldy	#$148
 15995 06:3D04: B7 05        	lda	[<L818+pWin_1],Y
 15996 06:3D06: 85 01        	sta	<R0
 15997 06:3D08: A0 4A 01     	ldy	#$14a
 15998 06:3D0B: B7 05        	lda	[<L818+pWin_1],Y
 15999 06:3D0D: 85 03        	sta	<R0+2
 16000 06:3D0F: A5 12        	lda	<L817+width_0
 16001 06:3D11: A0 08 00     	ldy	#$8
 16002 06:3D14: 97 01        	sta	[<R0],Y
 16003                        ;			}
 16004                        	.line	2462
 16005                        ;			//pWin->WndProc = wndProc;
 16006                        ;		}
 16007                        L10339:
 16008                        	.line	2464
 16009                        ;	}
  Sat Jul 10 2021  1:15                                                Page 294


 16010                        L10338:
 16011                        	.line	2465
 16012                        ;
 16013                        ;	return pWin;
 16014                        L10337:
 16015                        	.line	2467
 16016 06:3D16: A6 07        	ldx	<L818+pWin_1+2
 16017 06:3D18: A5 05        	lda	<L818+pWin_1
 16018                        L824:
 16019 06:3D1A: A8           	tay
 16020 06:3D1B: A5 0A        	lda	<L817+2
 16021 06:3D1D: 85 1E        	sta	<L817+2+20
 16022 06:3D1F: A5 09        	lda	<L817+1
 16023 06:3D21: 85 1D        	sta	<L817+1+20
 16024 06:3D23: 2B           	pld
 16025 06:3D24: 3B           	tsc
 16026 06:3D25: 18           	clc
 16027 06:3D26: 69 1C 00     	adc	#L817+20
 16028 06:3D29: 1B           	tcs
 16029 06:3D2A: 98           	tya
 16030 06:3D2B: 6B           	rtl
 16031                        ;}
 16032                        	.line	2468
 16033                        	.endblock	2468
 16034             00000008   L817	equ	8
 16035             00000005   L818	equ	5
 16036 06:3D2C:              	ends
 16037                        	efunc
 16038                        	.endfunc	2468,5,8
 16039                        	.line	2468
 16040                        ;
 16041                        ;PRECT k_HWNDToWINRECT(HWND hWnd)
 16042                        ;{
 16043                        	.line	2470
 16044                        	.line	2471
 16045                        	GFX
 16046                        	xdef	~~k_HWNDToWINRECT
 16047                        	func
 16048                        	.function	2471
 16049                        ~~k_HWNDToWINRECT:
 16050                        	longa	on
 16051                        	longi	on
 16052 06:3D2C: 3B           	tsc
 16053 06:3D2D: 38           	sec
 16054 06:3D2E: E9 04 00     	sbc	#L825
 16055 06:3D31: 1B           	tcs
 16056 06:3D32: 0B           	phd
 16057 06:3D33: 5B           	tcd
 16058             00000004   hWnd_0	set	4
 16059                        	.block	2471
 16060                        ;
 16061                        ;	((PWINDOW)hWnd)->wndRect.x 		= ((PWIN
                    DOW)hWnd)->win_x;
 16062                        	.sym	hWnd,4,129,6,32
 16063                        	.line	2473
 16064 06:3D34: A0 0C 00     	ldy	#$c
 16065 06:3D37: B7 08        	lda	[<L825+hWnd_0],Y
 16066 06:3D39: A0 1C 00     	ldy	#$1c
  Sat Jul 10 2021  1:15                                                Page 295


 16067 06:3D3C: 97 08        	sta	[<L825+hWnd_0],Y
 16068                        ;	((PWINDOW)hWnd)->wndRect.y 		= ((PWIN
                    DOW)hWnd)->win_y;
 16069                        	.line	2474
 16070 06:3D3E: A0 0E 00     	ldy	#$e
 16071 06:3D41: B7 08        	lda	[<L825+hWnd_0],Y
 16072 06:3D43: A0 1E 00     	ldy	#$1e
 16073 06:3D46: 97 08        	sta	[<L825+hWnd_0],Y
 16074                        ;	((PWINDOW)hWnd)->wndRect.width  = ((PWINDOW)hWnd
                    )->win_width;
 16075                        	.line	2475
 16076 06:3D48: A0 10 00     	ldy	#$10
 16077 06:3D4B: B7 08        	lda	[<L825+hWnd_0],Y
 16078 06:3D4D: A0 24 00     	ldy	#$24
 16079 06:3D50: 97 08        	sta	[<L825+hWnd_0],Y
 16080                        ;	((PWINDOW)hWnd)->wndRect.height = ((PWINDOW)hWnd
                    )->win_height;
 16081                        	.line	2476
 16082 06:3D52: A0 12 00     	ldy	#$12
 16083 06:3D55: B7 08        	lda	[<L825+hWnd_0],Y
 16084 06:3D57: A0 26 00     	ldy	#$26
 16085 06:3D5A: 97 08        	sta	[<L825+hWnd_0],Y
 16086                        ;
 16087                        ;
 16088                        ;	return &(((PWINDOW)hWnd)->wndRect);
 16089                        	.line	2479
 16090 06:3D5C: 18           	clc
 16091 06:3D5D: A9 1C 00     	lda	#$1c
 16092 06:3D60: 65 08        	adc	<L825+hWnd_0
 16093 06:3D62: 85 01        	sta	<R0
 16094 06:3D64: A9 00 00     	lda	#$0
 16095 06:3D67: 65 0A        	adc	<L825+hWnd_0+2
 16096 06:3D69: 85 03        	sta	<R0+2
 16097 06:3D6B: A6 03        	ldx	<R0+2
 16098 06:3D6D: A5 01        	lda	<R0
 16099                        L828:
 16100 06:3D6F: A8           	tay
 16101 06:3D70: A5 06        	lda	<L825+2
 16102 06:3D72: 85 0A        	sta	<L825+2+4
 16103 06:3D74: A5 05        	lda	<L825+1
 16104 06:3D76: 85 09        	sta	<L825+1+4
 16105 06:3D78: 2B           	pld
 16106 06:3D79: 3B           	tsc
 16107 06:3D7A: 18           	clc
 16108 06:3D7B: 69 08 00     	adc	#L825+4
 16109 06:3D7E: 1B           	tcs
 16110 06:3D7F: 98           	tya
 16111 06:3D80: 6B           	rtl
 16112                        ;}
 16113                        	.line	2480
 16114                        	.endblock	2480
 16115             00000004   L825	equ	4
 16116             00000005   L826	equ	5
 16117 06:3D81:              	ends
 16118                        	efunc
 16119                        	.endfunc	2480,5,4
 16120                        	.line	2480
 16121                        ;
  Sat Jul 10 2021  1:15                                                Page 296


 16122                        ;BOOL k_gui_size_nonclient_area(HWND hWnd)
 16123                        ;{
 16124                        	.line	2482
 16125                        	.line	2483
 16126                        	GFX
 16127                        	xdef	~~k_gui_size_nonclient_area
 16128                        	func
 16129                        	.function	2483
 16130                        ~~k_gui_size_nonclient_area:
 16131                        	longa	on
 16132                        	longi	on
 16133 06:3D81: 3B           	tsc
 16134 06:3D82: 38           	sec
 16135 06:3D83: E9 21 00     	sbc	#L829
 16136 06:3D86: 1B           	tcs
 16137 06:3D87: 0B           	phd
 16138 06:3D88: 5B           	tcd
 16139             00000004   hWnd_0	set	4
 16140                        	.block	2483
 16141                        ;	BOOL bRet = FALSE;
 16142                        ;
 16143                        ;	FONTMETRIC metric;
 16144                        ;
 16145                        ;	PWINDOW pWin = (PWINDOW)hWnd;
 16146                        ;
 16147                        ;	PRECT wndRect;
 16148                        ;
 16149                        ;	int borderWidthL = 0;
 16150                        ;	int borderWidthR = 0;
 16151                        ;	int borderWidthT = 0;
 16152                        ;	int borderWidthB = 0;
 16153                        ;
 16154                        ;	ULONG style = pWin->style;
 16155                        ;
 16156                        ;	wndRect    = k_HWNDToWINRECT(hWnd);
 16157             00000000   bRet_1	set	0
 16158             00000001   metric_1	set	1
 16159             00000005   pWin_1	set	5
 16160             00000009   wndRect_1	set	9
 16161             0000000D   borderWidthL_1	set	13
 16162             0000000F   borderWidthR_1	set	15
 16163             00000011   borderWidthT_1	set	17
 16164             00000013   borderWidthB_1	set	19
 16165             00000015   style_1	set	21
 16166                        	.sym	bRet,0,14,1,8
 16167                        	.sym	metric,1,10,1,32,35
 16168                        	.sym	pWin,5,138,1,32,33
 16169                        	.sym	wndRect,9,138,1,32,26
 16170                        	.sym	borderWidthL,13,5,1,16
 16171                        	.sym	borderWidthR,15,5,1,16
 16172                        	.sym	borderWidthT,17,5,1,16
 16173                        	.sym	borderWidthB,19,5,1,16
 16174                        	.sym	style,21,18,1,32
 16175                        	.sym	hWnd,4,129,6,32
 16176 06:3D89: E2 20        	sep	#$20
 16177                        	longa	off
 16178 06:3D8B: 64 09        	stz	<L830+bRet_1
 16179 06:3D8D: C2 20        	rep	#$20
  Sat Jul 10 2021  1:15                                                Page 297


 16180                        	longa	on
 16181 06:3D8F: A5 25        	lda	<L829+hWnd_0
 16182 06:3D91: 85 0E        	sta	<L830+pWin_1
 16183 06:3D93: A5 27        	lda	<L829+hWnd_0+2
 16184 06:3D95: 85 10        	sta	<L830+pWin_1+2
 16185 06:3D97: 64 16        	stz	<L830+borderWidthL_1
 16186 06:3D99: 64 18        	stz	<L830+borderWidthR_1
 16187 06:3D9B: 64 1A        	stz	<L830+borderWidthT_1
 16188 06:3D9D: 64 1C        	stz	<L830+borderWidthB_1
 16189 06:3D9F: A0 02 00     	ldy	#$2
 16190 06:3DA2: B7 0E        	lda	[<L830+pWin_1],Y
 16191 06:3DA4: 85 1E        	sta	<L830+style_1
 16192 06:3DA6: A0 04 00     	ldy	#$4
 16193 06:3DA9: B7 0E        	lda	[<L830+pWin_1],Y
 16194 06:3DAB: 85 20        	sta	<L830+style_1+2
 16195                        	.line	2499
 16196 06:3DAD: D4 27        	pei	<L829+hWnd_0+2
 16197 06:3DAF: D4 25        	pei	<L829+hWnd_0
 16198 06:3DB1: 22 2C 3D 06  	jsl	~~k_HWNDToWINRECT
 16199 06:3DB5: 85 12        	sta	<L830+wndRect_1
 16200 06:3DB7: 86 14        	stx	<L830+wndRect_1+2
 16201                        ;
 16202                        ;	if(style & FXWS_VISIBLE != FXWS_VISIBLE)
 16203                        	.line	2501
 16204                        ;	{
 16205 06:3DB9: 82 23 00     	brl	L10340
 16206                        	.line	2502
 16207                        ;		k_debug_pointer("k_gui_size_nonclient_ar
                    ea::NOT RENDERING:",hWnd);
 16208                        	.line	2503
 16209 06:3DBC: D4 27        	pei	<L829+hWnd_0+2
 16210 06:3DBE: D4 25        	pei	<L829+hWnd_0
 16211 06:3DC0: F4 xx xx     	pea	#^L497
 16212 06:3DC3: F4 xx xx     	pea	#<L497
 16213 06:3DC6: 22 xx xx xx  	jsl	~~k_debug_pointer
 16214                        ;		return FALSE;
 16215                        	.line	2504
 16216 06:3DCA: A9 00 00     	lda	#$0
 16217                        L832:
 16218 06:3DCD: A8           	tay
 16219 06:3DCE: A5 23        	lda	<L829+2
 16220 06:3DD0: 85 27        	sta	<L829+2+4
 16221 06:3DD2: A5 22        	lda	<L829+1
 16222 06:3DD4: 85 26        	sta	<L829+1+4
 16223 06:3DD6: 2B           	pld
 16224 06:3DD7: 3B           	tsc
 16225 06:3DD8: 18           	clc
 16226 06:3DD9: 69 25 00     	adc	#L829+4
 16227 06:3DDC: 1B           	tcs
 16228 06:3DDD: 98           	tya
 16229 06:3DDE: 6B           	rtl
 16230                        ;	}
 16231                        	.line	2505
 16232                        ;
 16233                        ;	if(style & FXWS_THICKFRAME)
 16234                        L10340:
 16235                        	.line	2507
 16236                        ;	{
  Sat Jul 10 2021  1:15                                                Page 298


 16237 06:3DDF: A5 20        	lda	<L830+style_1+2
 16238 06:3DE1: 29 02 00     	and	#^$20000
 16239 06:3DE4: D0 03        	bne	L833
 16240 06:3DE6: 82 17 00     	brl	L10341
 16241                        L833:
 16242                        	.line	2508
 16243                        ;		borderWidthL = SM_CXFRAME_DEFAULT + SM_C
                    XBORDER_DEFAULT;
 16244                        	.line	2509
 16245 06:3DE9: A9 03 00     	lda	#$3
 16246 06:3DEC: 85 16        	sta	<L830+borderWidthL_1
 16247                        ;		borderWidthR = SM_CXFRAME_DEFAULT + SM_C
                    XBORDER_DEFAULT;
 16248                        	.line	2510
 16249 06:3DEE: A9 03 00     	lda	#$3
 16250 06:3DF1: 85 18        	sta	<L830+borderWidthR_1
 16251                        ;		borderWidthT = SM_CYFRAME_DEFAULT + SM_C
                    YBORDER_DEFAULT;
 16252                        	.line	2511
 16253 06:3DF3: A9 03 00     	lda	#$3
 16254 06:3DF6: 85 1A        	sta	<L830+borderWidthT_1
 16255                        ;		borderWidthB = SM_CYFRAME_DEFAULT + SM_C
                    YBORDER_DEFAULT;
 16256                        	.line	2512
 16257 06:3DF8: A9 03 00     	lda	#$3
 16258 06:3DFB: 85 1C        	sta	<L830+borderWidthB_1
 16259                        ;	}
 16260                        	.line	2513
 16261                        ;	else if(style & FXWS_BORDER)
 16262 06:3DFD: 82 3F 00     	brl	L10342
 16263                        L10341:
 16264                        	.line	2514
 16265                        ;	{
 16266 06:3E00: A5 20        	lda	<L830+style_1+2
 16267 06:3E02: 29 01 00     	and	#^$10000
 16268 06:3E05: D0 03        	bne	L834
 16269 06:3E07: 82 17 00     	brl	L10343
 16270                        L834:
 16271                        	.line	2515
 16272                        ;		borderWidthL = SM_CXBORDER_DEFAULT;
 16273                        	.line	2516
 16274 06:3E0A: A9 01 00     	lda	#$1
 16275 06:3E0D: 85 16        	sta	<L830+borderWidthL_1
 16276                        ;		borderWidthR = SM_CXBORDER_DEFAULT;
 16277                        	.line	2517
 16278 06:3E0F: A9 01 00     	lda	#$1
 16279 06:3E12: 85 18        	sta	<L830+borderWidthR_1
 16280                        ;		borderWidthT = SM_CYBORDER_DEFAULT;
 16281                        	.line	2518
 16282 06:3E14: A9 01 00     	lda	#$1
 16283 06:3E17: 85 1A        	sta	<L830+borderWidthT_1
 16284                        ;		borderWidthB = SM_CYBORDER_DEFAULT;
 16285                        	.line	2519
 16286 06:3E19: A9 01 00     	lda	#$1
 16287 06:3E1C: 85 1C        	sta	<L830+borderWidthB_1
 16288                        ;	}
 16289                        	.line	2520
 16290                        ;	else if(style & FXWS_DLGFRAME)
  Sat Jul 10 2021  1:15                                                Page 299


 16291 06:3E1E: 82 1E 00     	brl	L10344
 16292                        L10343:
 16293                        	.line	2521
 16294                        ;	{
 16295 06:3E21: A5 20        	lda	<L830+style_1+2
 16296 06:3E23: 29 04 00     	and	#^$40000
 16297 06:3E26: D0 03        	bne	L835
 16298 06:3E28: 82 14 00     	brl	L10345
 16299                        L835:
 16300                        	.line	2522
 16301                        ;		borderWidthL = SM_CXDLGFRAME_DEFAULT + S
                    M_CXBORDER_DEFAULT;
 16302                        	.line	2523
 16303 06:3E2B: A9 05 00     	lda	#$5
 16304 06:3E2E: 85 16        	sta	<L830+borderWidthL_1
 16305                        ;		borderWidthR = SM_CXDLGFRAME_DEFAULT + S
                    M_CXBORDER_DEFAULT;
 16306                        	.line	2524
 16307 06:3E30: A9 05 00     	lda	#$5
 16308 06:3E33: 85 18        	sta	<L830+borderWidthR_1
 16309                        ;		borderWidthT = SM_CYDLGFRAME_DEFAULT + S
                    M_CYBORDER_DEFAULT;
 16310                        	.line	2525
 16311 06:3E35: A9 05 00     	lda	#$5
 16312 06:3E38: 85 1A        	sta	<L830+borderWidthT_1
 16313                        ;		borderWidthB = SM_CYDLGFRAME_DEFAULT + S
                    M_CYBORDER_DEFAULT;
 16314                        	.line	2526
 16315 06:3E3A: A9 05 00     	lda	#$5
 16316 06:3E3D: 85 1C        	sta	<L830+borderWidthB_1
 16317                        ;	}
 16318                        	.line	2527
 16319                        ;
 16320                        ;	if( ((style & FXWS_CAPTION) == FXWS_CAPTION) || 
                    (style & FXWS_SYSMENU) || (style & FXWS_MINIMIZEBOX) || (sty
                    le & FXWS_MAXIMIZEBOX))
 16321                        L10345:
 16322                        L10344:
 16323                        L10342:
 16324                        	.line	2529
 16325                        ;	{
 16326 06:3E3F: A5 1E        	lda	<L830+style_1
 16327 06:3E41: 29 04 00     	and	#<$4
 16328 06:3E44: 85 01        	sta	<R0
 16329 06:3E46: 64 03        	stz	<R0+2
 16330 06:3E48: A5 01        	lda	<R0
 16331 06:3E4A: C9 04 00     	cmp	#<$4
 16332 06:3E4D: D0 05        	bne	L837
 16333 06:3E4F: A5 03        	lda	<R0+2
 16334 06:3E51: C9 00 00     	cmp	#^$4
 16335                        L837:
 16336 06:3E54: D0 03        	bne	L838
 16337 06:3E56: 82 1E 00     	brl	L836
 16338                        L838:
 16339 06:3E59: A5 1E        	lda	<L830+style_1
 16340 06:3E5B: 29 08 00     	and	#<$8
 16341 06:3E5E: F0 03        	beq	L839
 16342 06:3E60: 82 14 00     	brl	L836
  Sat Jul 10 2021  1:15                                                Page 300


 16343                        L839:
 16344 06:3E63: A5 1E        	lda	<L830+style_1
 16345 06:3E65: 29 20 00     	and	#<$20
 16346 06:3E68: F0 03        	beq	L840
 16347 06:3E6A: 82 0A 00     	brl	L836
 16348                        L840:
 16349 06:3E6D: A5 1E        	lda	<L830+style_1
 16350 06:3E6F: 29 10 00     	and	#<$10
 16351 06:3E72: D0 03        	bne	L841
 16352 06:3E74: 82 08 00     	brl	L10346
 16353                        L841:
 16354                        L836:
 16355                        	.line	2530
 16356                        ;		borderWidthT += SM_CYCAPTION_DEFAULT;
 16357                        	.line	2531
 16358 06:3E77: 18           	clc
 16359 06:3E78: A9 0C 00     	lda	#$c
 16360 06:3E7B: 65 1A        	adc	<L830+borderWidthT_1
 16361 06:3E7D: 85 1A        	sta	<L830+borderWidthT_1
 16362                        ;	}
 16363                        	.line	2532
 16364                        ;
 16365                        ;	//k_debug_rect("k_gui_size_nonclient_area::wndRe
                    ct:", &pWin->wndRect);
 16366                        ;
 16367                        ;	pWin->clientRect.x      = wndRect->x + borderWid
                    thL + SM_CLIENT_BORDER_DEFAULT;
 16368                        L10346:
 16369                        	.line	2536
 16370 06:3E7F: 18           	clc
 16371 06:3E80: A7 12        	lda	[<L830+wndRect_1]
 16372 06:3E82: 65 16        	adc	<L830+borderWidthL_1
 16373 06:3E84: 85 01        	sta	<R0
 16374 06:3E86: A5 01        	lda	<R0
 16375 06:3E88: 1A           	ina
 16376 06:3E89: A0 2A 00     	ldy	#$2a
 16377 06:3E8C: 97 0E        	sta	[<L830+pWin_1],Y
 16378                        ;	pWin->clientRect.y      = wndRect->y + borderWid
                    thT + SM_CLIENT_BORDER_DEFAULT;
 16379                        	.line	2537
 16380 06:3E8E: 18           	clc
 16381 06:3E8F: A0 02 00     	ldy	#$2
 16382 06:3E92: B7 12        	lda	[<L830+wndRect_1],Y
 16383 06:3E94: 65 1A        	adc	<L830+borderWidthT_1
 16384 06:3E96: 85 01        	sta	<R0
 16385 06:3E98: A5 01        	lda	<R0
 16386 06:3E9A: 1A           	ina
 16387 06:3E9B: A0 2C 00     	ldy	#$2c
 16388 06:3E9E: 97 0E        	sta	[<L830+pWin_1],Y
 16389                        ;	pWin->clientRect.width  = wndRect->width  - (bor
                    derWidthL + borderWidthR + SM_CLIENT_BORDER_DEFAULT + SM_CLI
                    ENT_BORDER_DEFAULT);
 16390                        	.line	2538
 16391 06:3EA0: 18           	clc
 16392 06:3EA1: A5 16        	lda	<L830+borderWidthL_1
 16393 06:3EA3: 65 18        	adc	<L830+borderWidthR_1
 16394 06:3EA5: 85 01        	sta	<R0
 16395 06:3EA7: 18           	clc
  Sat Jul 10 2021  1:15                                                Page 301


 16396 06:3EA8: A9 02 00     	lda	#$2
 16397 06:3EAB: 65 01        	adc	<R0
 16398 06:3EAD: 85 05        	sta	<R1
 16399 06:3EAF: 38           	sec
 16400 06:3EB0: A0 08 00     	ldy	#$8
 16401 06:3EB3: B7 12        	lda	[<L830+wndRect_1],Y
 16402 06:3EB5: E5 05        	sbc	<R1
 16403 06:3EB7: A0 32 00     	ldy	#$32
 16404 06:3EBA: 97 0E        	sta	[<L830+pWin_1],Y
 16405                        ;	pWin->clientRect.height = wndRect->height - (bor
                    derWidthT + borderWidthB + SM_CLIENT_BORDER_DEFAULT + SM_CLI
                    ENT_BORDER_DEFAULT);
 16406                        	.line	2539
 16407 06:3EBC: 18           	clc
 16408 06:3EBD: A5 1A        	lda	<L830+borderWidthT_1
 16409 06:3EBF: 65 1C        	adc	<L830+borderWidthB_1
 16410 06:3EC1: 85 01        	sta	<R0
 16411 06:3EC3: 18           	clc
 16412 06:3EC4: A9 02 00     	lda	#$2
 16413 06:3EC7: 65 01        	adc	<R0
 16414 06:3EC9: 85 05        	sta	<R1
 16415 06:3ECB: 38           	sec
 16416 06:3ECC: A0 0A 00     	ldy	#$a
 16417 06:3ECF: B7 12        	lda	[<L830+wndRect_1],Y
 16418 06:3ED1: E5 05        	sbc	<R1
 16419 06:3ED3: A0 34 00     	ldy	#$34
 16420 06:3ED6: 97 0E        	sta	[<L830+pWin_1],Y
 16421                        ;
 16422                        ;	//k_debug_rect("k_gui_size_nonclient_area::clien
                    tRect:", &pWin->clientRect);
 16423                        ;
 16424                        ;	return bRet;
 16425                        	.line	2543
 16426 06:3ED8: A5 09        	lda	<L830+bRet_1
 16427 06:3EDA: 29 FF 00     	and	#$ff
 16428 06:3EDD: 82 ED FE     	brl	L832
 16429                        ;}
 16430                        	.line	2544
 16431                        	.endblock	2544
 16432             00000021   L829	equ	33
 16433             00000009   L830	equ	9
 16434 06:3EE0:              	ends
 16435                        	efunc
 16436                        	.endfunc	2544,9,33
 16437                        	.line	2544
 16438                        	data
 16439                        L497:
 16440 00:0826: 6B 5F 67 75  	db	$6B,$5F,$67,$75,$69,$5F,$73,$69,$7A,$65,
                    $5F,$6E,$6F,$6E,$63
       00:082A: 69 5F 73 69 
       00:082E: 7A 65 5F 6E 
       00:0832: 6F 6E 63 
 16441 00:0835: 6C 69 65 6E  	db	$6C,$69,$65,$6E,$74,$5F,$61,$72,$65,$61,
                    $3A,$3A,$4E,$4F,$54
       00:0839: 74 5F 61 72 
       00:083D: 65 61 3A 3A 
       00:0841: 4E 4F 54 
 16442 00:0844: 20 52 45 4E  	db	$20,$52,$45,$4E,$44,$45,$52,$49,$4E,$47,
  Sat Jul 10 2021  1:15                                                Page 302


                    $3A,$00
       00:0848: 44 45 52 49 
       00:084C: 4E 47 3A 00 
 16443 00:0850:              	ends
 16444                        ;
 16445                        ;
 16446                        ;void k_vdraw_ui_window(PWINDOW pWin,ULONG style,i
                    nt cx,int cy,int height,int width,char FAR *title,int color,
                     int bgcolor)
 16447                        ;{
 16448                        	.line	2547
 16449                        	.line	2548
 16450                        	GFX
 16451                        	xdef	~~k_vdraw_ui_window
 16452                        	func
 16453                        	.function	2548
 16454                        ~~k_vdraw_ui_window:
 16455                        	longa	on
 16456                        	longi	on
 16457 06:3EE0: 3B           	tsc
 16458 06:3EE1: 38           	sec
 16459 06:3EE2: E9 00 00     	sbc	#L843
 16460 06:3EE5: 1B           	tcs
 16461 06:3EE6: 0B           	phd
 16462 06:3EE7: 5B           	tcd
 16463             00000004   pWin_0	set	4
 16464             00000008   style_0	set	8
 16465             0000000C   cx_0	set	12
 16466             0000000E   cy_0	set	14
 16467             00000010   height_0	set	16
 16468             00000012   width_0	set	18
 16469             00000014   title_0	set	20
 16470             00000018   color_0	set	24
 16471             0000001A   bgcolor_0	set	26
 16472                        	.block	2548
 16473                        ;	k_vdraw_ui_window_ex(pWin,style,cx,cy,height,wid
                    th,title,color, bgcolor,BITMAP_BACK);
 16474                        	.sym	pWin,4,138,6,32,33
 16475                        	.sym	style,8,18,6,32
 16476                        	.sym	cx,12,5,6,16
 16477                        	.sym	cy,14,5,6,16
 16478                        	.sym	height,16,5,6,16
 16479                        	.sym	width,18,5,6,16
 16480                        	.sym	title,20,142,6,32
 16481                        	.sym	color,24,5,6,16
 16482                        	.sym	bgcolor,26,5,6,16
 16483                        	.line	2549
 16484 06:3EE8: F4 08 00     	pea	#<$8
 16485 06:3EEB: D4 1A        	pei	<L843+bgcolor_0
 16486 06:3EED: D4 18        	pei	<L843+color_0
 16487 06:3EEF: D4 16        	pei	<L843+title_0+2
 16488 06:3EF1: D4 14        	pei	<L843+title_0
 16489 06:3EF3: D4 12        	pei	<L843+width_0
 16490 06:3EF5: D4 10        	pei	<L843+height_0
 16491 06:3EF7: D4 0E        	pei	<L843+cy_0
 16492 06:3EF9: D4 0C        	pei	<L843+cx_0
 16493 06:3EFB: D4 0A        	pei	<L843+style_0+2
 16494 06:3EFD: D4 08        	pei	<L843+style_0
  Sat Jul 10 2021  1:15                                                Page 303


 16495 06:3EFF: D4 06        	pei	<L843+pWin_0+2
 16496 06:3F01: D4 04        	pei	<L843+pWin_0
 16497 06:3F03: 22 10 4A 06  	jsl	~~k_vdraw_ui_window_ex
 16498                        ;}
 16499                        	.line	2550
 16500                        L846:
 16501 06:3F07: A5 02        	lda	<L843+2
 16502 06:3F09: 85 1A        	sta	<L843+2+24
 16503 06:3F0B: A5 01        	lda	<L843+1
 16504 06:3F0D: 85 19        	sta	<L843+1+24
 16505 06:3F0F: 2B           	pld
 16506 06:3F10: 3B           	tsc
 16507 06:3F11: 18           	clc
 16508 06:3F12: 69 18 00     	adc	#L843+24
 16509 06:3F15: 1B           	tcs
 16510 06:3F16: 6B           	rtl
 16511                        	.endblock	2550
 16512             00000000   L843	equ	0
 16513             00000001   L844	equ	1
 16514 06:3F17:              	ends
 16515                        	efunc
 16516                        	.endfunc	2550,1,0
 16517                        	.line	2550
 16518                        ;
 16519                        ;void k_gui_DrawWindow(HWND hWnd,int color, int bg
                    color)
 16520                        ;{
 16521                        	.line	2552
 16522                        	.line	2553
 16523                        	GFX
 16524                        	xdef	~~k_gui_DrawWindow
 16525                        	func
 16526                        	.function	2553
 16527                        ~~k_gui_DrawWindow:
 16528                        	longa	on
 16529                        	longi	on
 16530 06:3F17: 3B           	tsc
 16531 06:3F18: 38           	sec
 16532 06:3F19: E9 4A 00     	sbc	#L847
 16533 06:3F1C: 1B           	tcs
 16534 06:3F1D: 0B           	phd
 16535 06:3F1E: 5B           	tcd
 16536             00000004   hWnd_0	set	4
 16537             00000008   color_0	set	8
 16538             0000000A   bgcolor_0	set	10
 16539                        	.block	2553
 16540                        ;	FONTMETRIC metric;
 16541                        ;
 16542                        ;	PRECT pwndRect 	  = NULL;
 16543                        ;	PRECT pclientRect = NULL;
 16544                        ;
 16545                        ;	int ncc = 0;
 16546                        ;
 16547                        ;	INT  bIndex       = 0;
 16548                        ;	UINT borderWidth  = 0;
 16549                        ;
 16550                        ;	int cacheTitle 	  = 0L;
 16551                        ;	ULONG style       = 0L;
  Sat Jul 10 2021  1:15                                                Page 304


 16552                        ;	RECT rect;
 16553                        ;
 16554                        ;	int titleOffsetX = 0;
 16555                        ;	int titleOffsetY = 0;
 16556                        ;	int titleScaler  = 0;
 16557                        ;	int tx = 0;
 16558                        ;	int gx,gy,bx,by;
 16559                        ;
 16560                        ;	PWINDOW pWin = (PWINDOW)hWnd;
 16561                        ;	if(pWin)
 16562             00000000   metric_1	set	0
 16563             00000004   pwndRect_1	set	4
 16564             00000008   pclientRect_1	set	8
 16565             0000000C   ncc_1	set	12
 16566             0000000E   bIndex_1	set	14
 16567             00000010   borderWidth_1	set	16
 16568             00000012   cacheTitle_1	set	18
 16569             00000014   style_1	set	20
 16570             00000018   rect_1	set	24
 16571             00000026   titleOffsetX_1	set	38
 16572             00000028   titleOffsetY_1	set	40
 16573             0000002A   titleScaler_1	set	42
 16574             0000002C   tx_1	set	44
 16575             0000002E   gx_1	set	46
 16576             00000030   gy_1	set	48
 16577             00000032   bx_1	set	50
 16578             00000034   by_1	set	52
 16579             00000036   pWin_1	set	54
 16580                        	.sym	metric,0,10,1,32,35
 16581                        	.sym	pwndRect,4,138,1,32,26
 16582                        	.sym	pclientRect,8,138,1,32,26
 16583                        	.sym	ncc,12,5,1,16
 16584                        	.sym	bIndex,14,5,1,16
 16585                        	.sym	borderWidth,16,16,1,16
 16586                        	.sym	cacheTitle,18,5,1,16
 16587                        	.sym	style,20,18,1,32
 16588                        	.sym	rect,24,10,1,112,26
 16589                        	.sym	titleOffsetX,38,5,1,16
 16590                        	.sym	titleOffsetY,40,5,1,16
 16591                        	.sym	titleScaler,42,5,1,16
 16592                        	.sym	tx,44,5,1,16
 16593                        	.sym	gx,46,5,1,16
 16594                        	.sym	gy,48,5,1,16
 16595                        	.sym	bx,50,5,1,16
 16596                        	.sym	by,52,5,1,16
 16597                        	.sym	pWin,54,138,1,32,33
 16598                        	.sym	hWnd,4,129,6,32
 16599                        	.sym	color,8,5,6,16
 16600                        	.sym	bgcolor,10,5,6,16
 16601 06:3F1F: 64 15        	stz	<L848+pwndRect_1
 16602 06:3F21: 64 17        	stz	<L848+pwndRect_1+2
 16603 06:3F23: 64 19        	stz	<L848+pclientRect_1
 16604 06:3F25: 64 1B        	stz	<L848+pclientRect_1+2
 16605 06:3F27: 64 1D        	stz	<L848+ncc_1
 16606 06:3F29: 64 1F        	stz	<L848+bIndex_1
 16607 06:3F2B: 64 21        	stz	<L848+borderWidth_1
 16608 06:3F2D: 64 23        	stz	<L848+cacheTitle_1
 16609 06:3F2F: 64 25        	stz	<L848+style_1
  Sat Jul 10 2021  1:15                                                Page 305


 16610 06:3F31: 64 27        	stz	<L848+style_1+2
 16611 06:3F33: 64 37        	stz	<L848+titleOffsetX_1
 16612 06:3F35: 64 39        	stz	<L848+titleOffsetY_1
 16613 06:3F37: 64 3B        	stz	<L848+titleScaler_1
 16614 06:3F39: 64 3D        	stz	<L848+tx_1
 16615 06:3F3B: A5 4E        	lda	<L847+hWnd_0
 16616 06:3F3D: 85 47        	sta	<L848+pWin_1
 16617 06:3F3F: A5 50        	lda	<L847+hWnd_0+2
 16618 06:3F41: 85 49        	sta	<L848+pWin_1+2
 16619                        	.line	2575
 16620                        ;	{
 16621 06:3F43: A5 47        	lda	<L848+pWin_1
 16622 06:3F45: 05 49        	ora	<L848+pWin_1+2
 16623 06:3F47: D0 03        	bne	L850
 16624 06:3F49: 82 C1 0A     	brl	L10347
 16625                        L850:
 16626                        	.line	2576
 16627                        ;
 16628                        ;		pwndRect 	= &pWin->wndRect;
 16629                        	.line	2578
 16630 06:3F4C: 18           	clc
 16631 06:3F4D: A9 1C 00     	lda	#$1c
 16632 06:3F50: 65 47        	adc	<L848+pWin_1
 16633 06:3F52: 85 15        	sta	<L848+pwndRect_1
 16634 06:3F54: A9 00 00     	lda	#$0
 16635 06:3F57: 65 49        	adc	<L848+pWin_1+2
 16636 06:3F59: 85 17        	sta	<L848+pwndRect_1+2
 16637                        ;		pclientRect = &pWin->clientRect;
 16638                        	.line	2579
 16639 06:3F5B: 18           	clc
 16640 06:3F5C: A9 2A 00     	lda	#$2a
 16641 06:3F5F: 65 47        	adc	<L848+pWin_1
 16642 06:3F61: 85 19        	sta	<L848+pclientRect_1
 16643 06:3F63: A9 00 00     	lda	#$0
 16644 06:3F66: 65 49        	adc	<L848+pWin_1+2
 16645 06:3F68: 85 1B        	sta	<L848+pclientRect_1+2
 16646                        ;
 16647                        ;		style      = pWin->style;
 16648                        	.line	2581
 16649 06:3F6A: A0 02 00     	ldy	#$2
 16650 06:3F6D: B7 47        	lda	[<L848+pWin_1],Y
 16651 06:3F6F: 85 25        	sta	<L848+style_1
 16652 06:3F71: A0 04 00     	ldy	#$4
 16653 06:3F74: B7 47        	lda	[<L848+pWin_1],Y
 16654 06:3F76: 85 27        	sta	<L848+style_1+2
 16655                        ;		cacheTitle = (pWin->styleEx & FXWSX_CACH
                    E_TITLE);
 16656                        	.line	2582
 16657 06:3F78: A0 06 00     	ldy	#$6
 16658 06:3F7B: B7 47        	lda	[<L848+pWin_1],Y
 16659 06:3F7D: 29 02 00     	and	#<$2
 16660 06:3F80: 85 01        	sta	<R0
 16661 06:3F82: 64 03        	stz	<R0+2
 16662 06:3F84: A5 01        	lda	<R0
 16663 06:3F86: 85 23        	sta	<L848+cacheTitle_1
 16664                        ;
 16665                        ;		if(style & FXWS_VISIBLE != FXWS_VISIBLE)
 16666                        	.line	2584
  Sat Jul 10 2021  1:15                                                Page 306


 16667                        ;		{
 16668 06:3F88: 82 1E 00     	brl	L10348
 16669                        	.line	2585
 16670                        ;			k_debug_pointer("k_gui_DrawWindo
                    w::NOT RENDERING:",hWnd);
 16671                        	.line	2586
 16672 06:3F8B: D4 50        	pei	<L847+hWnd_0+2
 16673 06:3F8D: D4 4E        	pei	<L847+hWnd_0
 16674 06:3F8F: F4 xx xx     	pea	#^L842
 16675 06:3F92: F4 xx xx     	pea	#<L842
 16676 06:3F95: 22 xx xx xx  	jsl	~~k_debug_pointer
 16677                        ;			return;
 16678                        	.line	2587
 16679                        L851:
 16680 06:3F99: A5 4C        	lda	<L847+2
 16681 06:3F9B: 85 54        	sta	<L847+2+8
 16682 06:3F9D: A5 4B        	lda	<L847+1
 16683 06:3F9F: 85 53        	sta	<L847+1+8
 16684 06:3FA1: 2B           	pld
 16685 06:3FA2: 3B           	tsc
 16686 06:3FA3: 18           	clc
 16687 06:3FA4: 69 52 00     	adc	#L847+8
 16688 06:3FA7: 1B           	tcs
 16689 06:3FA8: 6B           	rtl
 16690                        ;		}
 16691                        	.line	2588
 16692                        ;
 16693                        ;
 16694                        ;		if(style & FXWS_THICKFRAME)
 16695                        L10348:
 16696                        	.line	2591
 16697                        ;		{
 16698 06:3FA9: A5 27        	lda	<L848+style_1+2
 16699 06:3FAB: 29 02 00     	and	#^$20000
 16700 06:3FAE: D0 03        	bne	L852
 16701 06:3FB0: 82 08 00     	brl	L10349
 16702                        L852:
 16703                        	.line	2592
 16704                        ;			borderWidth = SM_CXFRAME_DEFAULT
                     + SM_CXBORDER_DEFAULT;
 16705                        	.line	2593
 16706 06:3FB3: A9 03 00     	lda	#$3
 16707 06:3FB6: 85 21        	sta	<L848+borderWidth_1
 16708                        ;		}
 16709                        	.line	2594
 16710                        ;		else if(style & FXWS_BORDER)
 16711 06:3FB8: 82 21 00     	brl	L10350
 16712                        L10349:
 16713                        	.line	2595
 16714                        ;		{
 16715 06:3FBB: A5 27        	lda	<L848+style_1+2
 16716 06:3FBD: 29 01 00     	and	#^$10000
 16717 06:3FC0: D0 03        	bne	L853
 16718 06:3FC2: 82 08 00     	brl	L10351
 16719                        L853:
 16720                        	.line	2596
 16721                        ;			borderWidth = SM_CXBORDER_DEFAUL
                    T;
  Sat Jul 10 2021  1:15                                                Page 307


 16722                        	.line	2597
 16723 06:3FC5: A9 01 00     	lda	#$1
 16724 06:3FC8: 85 21        	sta	<L848+borderWidth_1
 16725                        ;		}
 16726                        	.line	2598
 16727                        ;		else if(style & FXWS_DLGFRAME)
 16728 06:3FCA: 82 0F 00     	brl	L10352
 16729                        L10351:
 16730                        	.line	2599
 16731                        ;		{
 16732 06:3FCD: A5 27        	lda	<L848+style_1+2
 16733 06:3FCF: 29 04 00     	and	#^$40000
 16734 06:3FD2: D0 03        	bne	L854
 16735 06:3FD4: 82 05 00     	brl	L10353
 16736                        L854:
 16737                        	.line	2600
 16738                        ;			borderWidth = SM_CXDLGFRAME_DEFA
                    ULT + SM_CXBORDER_DEFAULT;
 16739                        	.line	2601
 16740 06:3FD7: A9 05 00     	lda	#$5
 16741 06:3FDA: 85 21        	sta	<L848+borderWidth_1
 16742                        ;		}
 16743                        	.line	2602
 16744                        ;
 16745                        ;		if(borderWidth > 0)
 16746                        L10353:
 16747                        L10352:
 16748                        L10350:
 16749                        	.line	2604
 16750                        ;		{
 16751 06:3FDC: A9 00 00     	lda	#$0
 16752 06:3FDF: C5 21        	cmp	<L848+borderWidth_1
 16753 06:3FE1: 90 03        	bcc	L855
 16754 06:3FE3: 82 21 01     	brl	L10354
 16755                        L855:
 16756                        	.line	2605
 16757                        ;			if(borderWidth > SM_CXBORDER_DEF
                    AULT)
 16758                        	.line	2606
 16759                        ;			{
 16760 06:3FE6: A9 01 00     	lda	#$1
 16761 06:3FE9: C5 21        	cmp	<L848+borderWidth_1
 16762 06:3FEB: 90 03        	bcc	L856
 16763 06:3FED: 82 42 00     	brl	L10355
 16764                        L856:
 16765                        	.line	2607
 16766                        ;				k_vdma_fill_rect_ex(pwnd
                    Rect->x,
 16767                        	.line	2608
 16768                        ;							
                    		pwndRect->y,
 16769                        ;							
                    		pwndRect->width,
 16770                        ;							
                    		pwndRect->height,
 16771                        ;							
                    		k_getUIWindowBorderColor(),
 16772                        ;						        
  Sat Jul 10 2021  1:15                                                Page 308


                        pWin->nBitmapLayer);
 16773 06:3FF0: A0 9E 01     	ldy	#$19e
 16774 06:3FF3: B7 47        	lda	[<L848+pWin_1],Y
 16775 06:3FF5: 48           	pha
 16776 06:3FF6: 22 99 12 06  	jsl	~~k_getUIWindowBorderColor
 16777 06:3FFA: 48           	pha
 16778 06:3FFB: A0 0A 00     	ldy	#$a
 16779 06:3FFE: B7 15        	lda	[<L848+pwndRect_1],Y
 16780 06:4000: 48           	pha
 16781 06:4001: A0 08 00     	ldy	#$8
 16782 06:4004: B7 15        	lda	[<L848+pwndRect_1],Y
 16783 06:4006: 48           	pha
 16784 06:4007: A0 00 00     	ldy	#$0
 16785 06:400A: 5A           	phy
 16786 06:400B: A0 02 00     	ldy	#$2
 16787 06:400E: B7 15        	lda	[<L848+pwndRect_1],Y
 16788 06:4010: 7A           	ply
 16789 06:4011: 2A           	rol	A
 16790 06:4012: 6A           	ror	A
 16791 06:4013: 10 01        	bpl	L857
 16792 06:4015: 88           	dey
 16793                        L857:
 16794 06:4016: 85 01        	sta	<R0
 16795 06:4018: 84 03        	sty	<R0+2
 16796 06:401A: D4 03        	pei	<R0+2
 16797 06:401C: D4 01        	pei	<R0
 16798 06:401E: A0 00 00     	ldy	#$0
 16799 06:4021: A7 15        	lda	[<L848+pwndRect_1]
 16800 06:4023: 10 01        	bpl	L858
 16801 06:4025: 88           	dey
 16802                        L858:
 16803 06:4026: 85 05        	sta	<R1
 16804 06:4028: 84 07        	sty	<R1+2
 16805 06:402A: D4 07        	pei	<R1+2
 16806 06:402C: D4 05        	pei	<R1
 16807 06:402E: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 16808                        ;
 16809                        ;			}
 16810                        	.line	2615
 16811                        ;
 16812                        ;			for(bIndex=0;bIndex<SM_CXBORDER_
                    DEFAULT;bIndex++)
 16813                        L10355:
 16814                        	.line	2617
 16815 06:4032: 64 1F        	stz	<L848+bIndex_1
 16816                        L10358:
 16817                        ;			{
 16818                        	.line	2618
 16819                        ;				k_draw_rect(pwndRect->x 
                    + bIndex,
 16820                        	.line	2619
 16821                        ;							
                    pwndRect->y + bIndex,
 16822                        ;							
                    PRECTRIGHT(pwndRect)  - bIndex,
 16823                        ;							
                    PRECTBOTTOM(pwndRect) - bIndex,
 16824                        ;							
  Sat Jul 10 2021  1:15                                                Page 309


                    11,
 16825                        ;							
                    0,
 16826                        ;							
                    pWin->nBitmapLayer);
 16827 06:4034: A0 9E 01     	ldy	#$19e
 16828 06:4037: B7 47        	lda	[<L848+pWin_1],Y
 16829 06:4039: 48           	pha
 16830 06:403A: F4 00 00     	pea	#<$0
 16831 06:403D: F4 0B 00     	pea	#<$b
 16832 06:4040: 18           	clc
 16833 06:4041: A0 02 00     	ldy	#$2
 16834 06:4044: B7 15        	lda	[<L848+pwndRect_1],Y
 16835 06:4046: A0 0A 00     	ldy	#$a
 16836 06:4049: 77 15        	adc	[<L848+pwndRect_1],Y
 16837 06:404B: 85 01        	sta	<R0
 16838 06:404D: 18           	clc
 16839 06:404E: A9 FF FF     	lda	#$ffff
 16840 06:4051: 65 01        	adc	<R0
 16841 06:4053: 85 05        	sta	<R1
 16842 06:4055: 38           	sec
 16843 06:4056: A5 05        	lda	<R1
 16844 06:4058: E5 1F        	sbc	<L848+bIndex_1
 16845 06:405A: 48           	pha
 16846 06:405B: 18           	clc
 16847 06:405C: A7 15        	lda	[<L848+pwndRect_1]
 16848 06:405E: A0 08 00     	ldy	#$8
 16849 06:4061: 77 15        	adc	[<L848+pwndRect_1],Y
 16850 06:4063: 85 01        	sta	<R0
 16851 06:4065: 18           	clc
 16852 06:4066: A9 FF FF     	lda	#$ffff
 16853 06:4069: 65 01        	adc	<R0
 16854 06:406B: 85 05        	sta	<R1
 16855 06:406D: 38           	sec
 16856 06:406E: A5 05        	lda	<R1
 16857 06:4070: E5 1F        	sbc	<L848+bIndex_1
 16858 06:4072: 48           	pha
 16859 06:4073: 18           	clc
 16860 06:4074: A0 02 00     	ldy	#$2
 16861 06:4077: B7 15        	lda	[<L848+pwndRect_1],Y
 16862 06:4079: 65 1F        	adc	<L848+bIndex_1
 16863 06:407B: 48           	pha
 16864 06:407C: 18           	clc
 16865 06:407D: A7 15        	lda	[<L848+pwndRect_1]
 16866 06:407F: 65 1F        	adc	<L848+bIndex_1
 16867 06:4081: 48           	pha
 16868 06:4082: 22 D2 1D 06  	jsl	~~k_draw_rect
 16869                        ;			}
 16870                        	.line	2626
 16871                        L10356:
 16872 06:4086: E6 1F        	inc	<L848+bIndex_1
 16873 06:4088: A5 1F        	lda	<L848+bIndex_1
 16874 06:408A: 30 03        	bmi	L859
 16875 06:408C: 3A           	dea
 16876 06:408D: 10 03        	bpl	L860
 16877                        L859:
 16878 06:408F: 82 A2 FF     	brl	L10358
 16879                        L860:
  Sat Jul 10 2021  1:15                                                Page 310


 16880                        L10357:
 16881                        ;
 16882                        ;
 16883                        ;
 16884                        ;			k_draw_rect(pclientRect->x - SM_
                    CLIENT_BORDER_DEFAULT,
 16885                        	.line	2630
 16886                        ;						pclientR
                    ect->y - SM_CLIENT_BORDER_DEFAULT,
 16887                        ;						PRECTRIG
                    HT(pclientRect)  + SM_CLIENT_BORDER_DEFAULT ,
 16888                        ;						PRECTBOT
                    TOM(pclientRect) + SM_CLIENT_BORDER_DEFAULT,
 16889                        ;						11,
 16890                        ;						0,
 16891                        ;						pWin->nB
                    itmapLayer);
 16892 06:4092: A0 9E 01     	ldy	#$19e
 16893 06:4095: B7 47        	lda	[<L848+pWin_1],Y
 16894 06:4097: 48           	pha
 16895 06:4098: F4 00 00     	pea	#<$0
 16896 06:409B: F4 0B 00     	pea	#<$b
 16897 06:409E: 18           	clc
 16898 06:409F: A0 02 00     	ldy	#$2
 16899 06:40A2: B7 19        	lda	[<L848+pclientRect_1],Y
 16900 06:40A4: A0 0A 00     	ldy	#$a
 16901 06:40A7: 77 19        	adc	[<L848+pclientRect_1],Y
 16902 06:40A9: 48           	pha
 16903 06:40AA: 18           	clc
 16904 06:40AB: A7 19        	lda	[<L848+pclientRect_1]
 16905 06:40AD: A0 08 00     	ldy	#$8
 16906 06:40B0: 77 19        	adc	[<L848+pclientRect_1],Y
 16907 06:40B2: 48           	pha
 16908 06:40B3: 18           	clc
 16909 06:40B4: A9 FF FF     	lda	#$ffff
 16910 06:40B7: A0 02 00     	ldy	#$2
 16911 06:40BA: 77 19        	adc	[<L848+pclientRect_1],Y
 16912 06:40BC: 48           	pha
 16913 06:40BD: 18           	clc
 16914 06:40BE: A9 FF FF     	lda	#$ffff
 16915 06:40C1: 67 19        	adc	[<L848+pclientRect_1]
 16916 06:40C3: 48           	pha
 16917 06:40C4: 22 D2 1D 06  	jsl	~~k_draw_rect
 16918                        ;
 16919                        ;			k_vdma_fill_rect_ex(pclientRect-
                    >x,
 16920                        	.line	2638
 16921                        ;							
                    	pclientRect->y,
 16922                        ;							
                    	pclientRect->width ,
 16923                        ;							
                    	pclientRect->height ,
 16924                        ;							
                    	bgcolor,
 16925                        ;					            pWin
                    ->nBitmapLayer);
 16926 06:40C8: A0 9E 01     	ldy	#$19e
  Sat Jul 10 2021  1:15                                                Page 311


 16927 06:40CB: B7 47        	lda	[<L848+pWin_1],Y
 16928 06:40CD: 48           	pha
 16929 06:40CE: D4 54        	pei	<L847+bgcolor_0
 16930 06:40D0: A0 0A 00     	ldy	#$a
 16931 06:40D3: B7 19        	lda	[<L848+pclientRect_1],Y
 16932 06:40D5: 48           	pha
 16933 06:40D6: A0 08 00     	ldy	#$8
 16934 06:40D9: B7 19        	lda	[<L848+pclientRect_1],Y
 16935 06:40DB: 48           	pha
 16936 06:40DC: A0 00 00     	ldy	#$0
 16937 06:40DF: 5A           	phy
 16938 06:40E0: A0 02 00     	ldy	#$2
 16939 06:40E3: B7 19        	lda	[<L848+pclientRect_1],Y
 16940 06:40E5: 7A           	ply
 16941 06:40E6: 2A           	rol	A
 16942 06:40E7: 6A           	ror	A
 16943 06:40E8: 10 01        	bpl	L861
 16944 06:40EA: 88           	dey
 16945                        L861:
 16946 06:40EB: 85 01        	sta	<R0
 16947 06:40ED: 84 03        	sty	<R0+2
 16948 06:40EF: D4 03        	pei	<R0+2
 16949 06:40F1: D4 01        	pei	<R0
 16950 06:40F3: A0 00 00     	ldy	#$0
 16951 06:40F6: A7 19        	lda	[<L848+pclientRect_1]
 16952 06:40F8: 10 01        	bpl	L862
 16953 06:40FA: 88           	dey
 16954                        L862:
 16955 06:40FB: 85 05        	sta	<R1
 16956 06:40FD: 84 07        	sty	<R1+2
 16957 06:40FF: D4 07        	pei	<R1+2
 16958 06:4101: D4 05        	pei	<R1
 16959 06:4103: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 16960                        ;
 16961                        ;		}
 16962                        	.line	2645
 16963                        ;
 16964                        ;		k_get_font_metrics(&metric);
 16965                        L10354:
 16966                        	.line	2647
 16967 06:4107: F4 00 00     	pea	#0
 16968 06:410A: 18           	clc
 16969 06:410B: 7B           	tdc
 16970 06:410C: 69 11 00     	adc	#<L848+metric_1
 16971 06:410F: 48           	pha
 16972 06:4110: 22 B2 23 06  	jsl	~~k_get_font_metrics
 16973                        ;
 16974                        ;		gx = k_user_getSystemMetric(SM_CXGADGET)
                    ;
 16975                        	.line	2649
 16976 06:4114: F4 18 00     	pea	#<$18
 16977 06:4117: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 16978 06:411B: 85 3F        	sta	<L848+gx_1
 16979                        ;		gy = k_user_getSystemMetric(SM_CYGADGET)
                    ;
 16980                        	.line	2650
 16981 06:411D: F4 19 00     	pea	#<$19
 16982 06:4120: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
  Sat Jul 10 2021  1:15                                                Page 312


 16983 06:4124: 85 41        	sta	<L848+gy_1
 16984                        ;		bx = k_user_getSystemMetric(SM_CXBORDER)
                    ;
 16985                        	.line	2651
 16986 06:4126: F4 05 00     	pea	#<$5
 16987 06:4129: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 16988 06:412D: 85 43        	sta	<L848+bx_1
 16989                        ;		by = k_user_getSystemMetric(SM_CYBORDER)
                    ;
 16990                        	.line	2652
 16991 06:412F: F4 06 00     	pea	#<$6
 16992 06:4132: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 16993 06:4136: 85 45        	sta	<L848+by_1
 16994                        ;
 16995                        ;		titleOffsetX = pwndRect->x+SM_TITLE_XGAD
                    GETGAP_DEFAULT;
 16996                        	.line	2654
 16997 06:4138: 18           	clc
 16998 06:4139: A9 04 00     	lda	#$4
 16999 06:413C: 67 15        	adc	[<L848+pwndRect_1]
 17000 06:413E: 85 37        	sta	<L848+titleOffsetX_1
 17001                        ;		titleOffsetY = pwndRect->y+SM_TITLE_YGAD
                    GETGAP_DEFAULT;
 17002                        	.line	2655
 17003 06:4140: 18           	clc
 17004 06:4141: A9 05 00     	lda	#$5
 17005 06:4144: A0 02 00     	ldy	#$2
 17006 06:4147: 77 15        	adc	[<L848+pwndRect_1],Y
 17007 06:4149: 85 39        	sta	<L848+titleOffsetY_1
 17008                        ;
 17009                        ;		if(style & FXWS_SYSMENU)
 17010                        	.line	2657
 17011                        ;		{
 17012 06:414B: A5 25        	lda	<L848+style_1
 17013 06:414D: 29 08 00     	and	#<$8
 17014 06:4150: D0 03        	bne	L863
 17015 06:4152: 82 AA 00     	brl	L10359
 17016                        L863:
 17017                        	.line	2658
 17018                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),
 17019                        	.line	2659
 17020                        ;					   titleOffsetX,
                    titleOffsetY,gx,gx);
 17021 06:4155: D4 3F        	pei	<L848+gx_1
 17022 06:4157: D4 3F        	pei	<L848+gx_1
 17023 06:4159: D4 39        	pei	<L848+titleOffsetY_1
 17024 06:415B: D4 37        	pei	<L848+titleOffsetX_1
 17025 06:415D: A0 00 00     	ldy	#$0
 17026 06:4160: A5 1D        	lda	<L848+ncc_1
 17027 06:4162: 10 01        	bpl	L864
 17028 06:4164: 88           	dey
 17029                        L864:
 17030 06:4165: 85 01        	sta	<R0
 17031 06:4167: 84 03        	sty	<R0+2
 17032 06:4169: F4 00 00     	pea	#^$11
 17033 06:416C: F4 11 00     	pea	#<$11
 17034 06:416F: D4 03        	pei	<R0+2
  Sat Jul 10 2021  1:15                                                Page 313


 17035 06:4171: D4 01        	pei	<R0
 17036                        	xref	~~~lmul
 17037 06:4173: 22 xx xx xx  	jsl	~~~lmul
 17038 06:4177: 85 01        	sta	<R0
 17039 06:4179: 86 03        	stx	<R0+2
 17040 06:417B: 18           	clc
 17041 06:417C: A9 38 00     	lda	#$38
 17042 06:417F: 65 01        	adc	<R0
 17043 06:4181: 85 05        	sta	<R1
 17044 06:4183: A9 00 00     	lda	#$0
 17045 06:4186: 65 03        	adc	<R0+2
 17046 06:4188: 85 07        	sta	<R1+2
 17047 06:418A: 18           	clc
 17048 06:418B: A5 47        	lda	<L848+pWin_1
 17049 06:418D: 65 05        	adc	<R1
 17050 06:418F: 85 01        	sta	<R0
 17051 06:4191: A5 49        	lda	<L848+pWin_1+2
 17052 06:4193: 65 07        	adc	<R1+2
 17053 06:4195: 85 03        	sta	<R0+2
 17054 06:4197: D4 03        	pei	<R0+2
 17055 06:4199: D4 01        	pei	<R0
 17056 06:419B: 22 00 06 06  	jsl	~~k_set_rect
 17057                        ;			pWin->nonclientGadgets[ncc++].ms
                    gType = FX_WINDOW_CLOSE;
 17058                        	.line	2661
 17059 06:419F: A0 00 00     	ldy	#$0
 17060 06:41A2: A5 1D        	lda	<L848+ncc_1
 17061 06:41A4: 10 01        	bpl	L865
 17062 06:41A6: 88           	dey
 17063                        L865:
 17064 06:41A7: 85 01        	sta	<R0
 17065 06:41A9: 84 03        	sty	<R0+2
 17066 06:41AB: F4 00 00     	pea	#^$11
 17067 06:41AE: F4 11 00     	pea	#<$11
 17068 06:41B1: D4 03        	pei	<R0+2
 17069 06:41B3: D4 01        	pei	<R0
 17070                        	xref	~~~lmul
 17071 06:41B5: 22 xx xx xx  	jsl	~~~lmul
 17072 06:41B9: 85 01        	sta	<R0
 17073 06:41BB: 86 03        	stx	<R0+2
 17074 06:41BD: 18           	clc
 17075 06:41BE: A9 46 00     	lda	#$46
 17076 06:41C1: 65 47        	adc	<L848+pWin_1
 17077 06:41C3: 85 05        	sta	<R1
 17078 06:41C5: A9 00 00     	lda	#$0
 17079 06:41C8: 65 49        	adc	<L848+pWin_1+2
 17080 06:41CA: 85 07        	sta	<R1+2
 17081 06:41CC: 18           	clc
 17082 06:41CD: A5 05        	lda	<R1
 17083 06:41CF: 65 01        	adc	<R0
 17084 06:41D1: 85 09        	sta	<R2
 17085 06:41D3: A5 07        	lda	<R1+2
 17086 06:41D5: 65 03        	adc	<R0+2
 17087 06:41D7: 85 0B        	sta	<R2+2
 17088 06:41D9: A9 FF FB     	lda	#$fbff
 17089 06:41DC: 87 09        	sta	[<R2]
 17090 06:41DE: E6 1D        	inc	<L848+ncc_1
 17091                        ;
  Sat Jul 10 2021  1:15                                                Page 314


 17092                        ;			titleOffsetX+=k_put_wingadget_po
                    int_ex(WINICON_TITLE_BCLOSE,
 17093                        	.line	2663
 17094                        ;							
                    					   titleOffsetX,titleOff
                    setY,
 17095                        ;							
                    					   k_getUIGadgetColor(),
 17096                        ;							
                    					   pWin->nBitmapLayer);
 17097 06:41E0: A0 9E 01     	ldy	#$19e
 17098 06:41E3: B7 47        	lda	[<L848+pWin_1],Y
 17099 06:41E5: 48           	pha
 17100 06:41E6: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 17101 06:41EA: 48           	pha
 17102 06:41EB: D4 39        	pei	<L848+titleOffsetY_1
 17103 06:41ED: D4 37        	pei	<L848+titleOffsetX_1
 17104 06:41EF: F4 06 00     	pea	#<$6
 17105 06:41F2: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 17106 06:41F6: 85 01        	sta	<R0
 17107 06:41F8: 18           	clc
 17108 06:41F9: A5 01        	lda	<R0
 17109 06:41FB: 65 37        	adc	<L848+titleOffsetX_1
 17110 06:41FD: 85 37        	sta	<L848+titleOffsetX_1
 17111                        ;		}
 17112                        	.line	2667
 17113                        ;
 17114                        ;
 17115                        ;		if((style & FXWS_CAPTION) == FXWS_CAPTIO
                    N)
 17116                        L10359:
 17117                        	.line	2670
 17118                        ;		{
 17119 06:41FF: A5 25        	lda	<L848+style_1
 17120 06:4201: 29 04 00     	and	#<$4
 17121 06:4204: 85 01        	sta	<R0
 17122 06:4206: 64 03        	stz	<R0+2
 17123 06:4208: A5 01        	lda	<R0
 17124 06:420A: C9 04 00     	cmp	#<$4
 17125 06:420D: D0 05        	bne	L866
 17126 06:420F: A5 03        	lda	<R0+2
 17127 06:4211: C9 00 00     	cmp	#^$4
 17128                        L866:
 17129 06:4214: F0 03        	beq	L867
 17130 06:4216: 82 40 00     	brl	L10360
 17131                        L867:
 17132                        	.line	2671
 17133                        ;			rect.x = titleOffsetX + SM_TITLE
                    _XGADGETGAP_DEFAULT;
 17134                        	.line	2672
 17135 06:4219: 18           	clc
 17136 06:421A: A9 04 00     	lda	#$4
 17137 06:421D: 65 37        	adc	<L848+titleOffsetX_1
 17138 06:421F: 85 29        	sta	<L848+rect_1
 17139                        ;			rect.y = titleOffsetY;
 17140                        	.line	2673
 17141 06:4221: A5 39        	lda	<L848+titleOffsetY_1
 17142 06:4223: 85 2B        	sta	<L848+rect_1+2
  Sat Jul 10 2021  1:15                                                Page 315


 17143                        ;			rect.width  = pwndRect->width - 
                    (titleOffsetX - pwndRect->x) - (SM_TITLE_XGADGETGAP_DEFAULT 
                    + SM_TITLE_XGADGETGAP_DEFAULT);
 17144                        	.line	2674
 17145 06:4225: 38           	sec
 17146 06:4226: A5 37        	lda	<L848+titleOffsetX_1
 17147 06:4228: E7 15        	sbc	[<L848+pwndRect_1]
 17148 06:422A: 85 01        	sta	<R0
 17149 06:422C: 38           	sec
 17150 06:422D: A0 08 00     	ldy	#$8
 17151 06:4230: B7 15        	lda	[<L848+pwndRect_1],Y
 17152 06:4232: E5 01        	sbc	<R0
 17153 06:4234: 85 05        	sta	<R1
 17154 06:4236: 18           	clc
 17155 06:4237: A9 F8 FF     	lda	#$fff8
 17156 06:423A: 65 05        	adc	<R1
 17157 06:423C: 85 31        	sta	<L848+rect_1+8
 17158                        ;			rect.height = 8;
 17159                        	.line	2675
 17160 06:423E: A9 08 00     	lda	#$8
 17161 06:4241: 85 33        	sta	<L848+rect_1+10
 17162                        ;			k_gui_get_image_cache(0,0x080000
                    ,&rect);
 17163                        	.line	2676
 17164 06:4243: F4 00 00     	pea	#0
 17165 06:4246: 18           	clc
 17166 06:4247: 7B           	tdc
 17167 06:4248: 69 29 00     	adc	#<L848+rect_1
 17168 06:424B: 48           	pha
 17169 06:424C: F4 08 00     	pea	#^$80000
 17170 06:424F: F4 00 00     	pea	#<$80000
 17171 06:4252: F4 00 00     	pea	#<$0
 17172 06:4255: 22 13 03 06  	jsl	~~k_gui_get_image_cache
 17173                        ;		}
 17174                        	.line	2677
 17175                        ;
 17176                        ;
 17177                        ;		if((style & FXWS_MINIMIZEBOX) && (style 
                    & FXWS_MAXIMIZEBOX))
 17178                        L10360:
 17179                        	.line	2680
 17180                        ;		{
 17181 06:4259: A5 25        	lda	<L848+style_1
 17182 06:425B: 29 20 00     	and	#<$20
 17183 06:425E: D0 03        	bne	L868
 17184 06:4260: 82 BC 01     	brl	L10361
 17185                        L868:
 17186 06:4263: A5 25        	lda	<L848+style_1
 17187 06:4265: 29 10 00     	and	#<$10
 17188 06:4268: D0 03        	bne	L869
 17189 06:426A: 82 B2 01     	brl	L10361
 17190                        L869:
 17191                        	.line	2681
 17192                        ;			tx = ((pwndRect->x + pwndRect->w
                    idth - 0) - (SM_TITLE_XGADGETGAP_DEFAULT + gx));
 17193                        	.line	2682
 17194 06:426D: 18           	clc
 17195 06:426E: A9 04 00     	lda	#$4
  Sat Jul 10 2021  1:15                                                Page 316


 17196 06:4271: 65 3F        	adc	<L848+gx_1
 17197 06:4273: 85 01        	sta	<R0
 17198 06:4275: 18           	clc
 17199 06:4276: A7 15        	lda	[<L848+pwndRect_1]
 17200 06:4278: A0 08 00     	ldy	#$8
 17201 06:427B: 77 15        	adc	[<L848+pwndRect_1],Y
 17202 06:427D: 85 05        	sta	<R1
 17203 06:427F: 38           	sec
 17204 06:4280: A5 05        	lda	<R1
 17205 06:4282: E5 01        	sbc	<R0
 17206 06:4284: 85 3D        	sta	<L848+tx_1
 17207                        ;
 17208                        ;
 17209                        ;			k_put_wingadget_point_ex(WINICON
                    _BLOCK     ,tx,titleOffsetY,k_getUIWindowBorderColor(),pWin-
                    >nBitmapLayer);
 17210                        	.line	2685
 17211 06:4286: A0 9E 01     	ldy	#$19e
 17212 06:4289: B7 47        	lda	[<L848+pWin_1],Y
 17213 06:428B: 48           	pha
 17214 06:428C: 22 99 12 06  	jsl	~~k_getUIWindowBorderColor
 17215 06:4290: 48           	pha
 17216 06:4291: D4 39        	pei	<L848+titleOffsetY_1
 17217 06:4293: D4 3D        	pei	<L848+tx_1
 17218 06:4295: F4 00 00     	pea	#<$0
 17219 06:4298: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 17220                        ;			k_put_wingadget_point_ex(WINICON
                    _TITLE_BACK,tx,titleOffsetY,k_getUIGadgetColor()      ,pWin-
                    >nBitmapLayer);
 17221                        	.line	2686
 17222 06:429C: A0 9E 01     	ldy	#$19e
 17223 06:429F: B7 47        	lda	[<L848+pWin_1],Y
 17224 06:42A1: 48           	pha
 17225 06:42A2: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 17226 06:42A6: 48           	pha
 17227 06:42A7: D4 39        	pei	<L848+titleOffsetY_1
 17228 06:42A9: D4 3D        	pei	<L848+tx_1
 17229 06:42AB: F4 04 00     	pea	#<$4
 17230 06:42AE: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 17231                        ;			pWin->nonclientGadgets[ncc].msgT
                    ype = FX_MIN_WINDOW;
 17232                        	.line	2687
 17233 06:42B2: A0 00 00     	ldy	#$0
 17234 06:42B5: A5 1D        	lda	<L848+ncc_1
 17235 06:42B7: 10 01        	bpl	L870
 17236 06:42B9: 88           	dey
 17237                        L870:
 17238 06:42BA: 85 01        	sta	<R0
 17239 06:42BC: 84 03        	sty	<R0+2
 17240 06:42BE: F4 00 00     	pea	#^$11
 17241 06:42C1: F4 11 00     	pea	#<$11
 17242 06:42C4: D4 03        	pei	<R0+2
 17243 06:42C6: D4 01        	pei	<R0
 17244                        	xref	~~~lmul
 17245 06:42C8: 22 xx xx xx  	jsl	~~~lmul
 17246 06:42CC: 85 01        	sta	<R0
 17247 06:42CE: 86 03        	stx	<R0+2
 17248 06:42D0: 18           	clc
  Sat Jul 10 2021  1:15                                                Page 317


 17249 06:42D1: A9 46 00     	lda	#$46
 17250 06:42D4: 65 47        	adc	<L848+pWin_1
 17251 06:42D6: 85 05        	sta	<R1
 17252 06:42D8: A9 00 00     	lda	#$0
 17253 06:42DB: 65 49        	adc	<L848+pWin_1+2
 17254 06:42DD: 85 07        	sta	<R1+2
 17255 06:42DF: 18           	clc
 17256 06:42E0: A5 05        	lda	<R1
 17257 06:42E2: 65 01        	adc	<R0
 17258 06:42E4: 85 09        	sta	<R2
 17259 06:42E6: A5 07        	lda	<R1+2
 17260 06:42E8: 65 03        	adc	<R0+2
 17261 06:42EA: 85 0B        	sta	<R2+2
 17262 06:42EC: A9 09 FB     	lda	#$fb09
 17263 06:42EF: 87 09        	sta	[<R2]
 17264                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),tx,titleOffsetY,gx,gx);
 17265                        	.line	2688
 17266 06:42F1: D4 3F        	pei	<L848+gx_1
 17267 06:42F3: D4 3F        	pei	<L848+gx_1
 17268 06:42F5: D4 39        	pei	<L848+titleOffsetY_1
 17269 06:42F7: D4 3D        	pei	<L848+tx_1
 17270 06:42F9: A0 00 00     	ldy	#$0
 17271 06:42FC: A5 1D        	lda	<L848+ncc_1
 17272 06:42FE: 10 01        	bpl	L871
 17273 06:4300: 88           	dey
 17274                        L871:
 17275 06:4301: 85 01        	sta	<R0
 17276 06:4303: 84 03        	sty	<R0+2
 17277 06:4305: F4 00 00     	pea	#^$11
 17278 06:4308: F4 11 00     	pea	#<$11
 17279 06:430B: D4 03        	pei	<R0+2
 17280 06:430D: D4 01        	pei	<R0
 17281                        	xref	~~~lmul
 17282 06:430F: 22 xx xx xx  	jsl	~~~lmul
 17283 06:4313: 85 01        	sta	<R0
 17284 06:4315: 86 03        	stx	<R0+2
 17285 06:4317: 18           	clc
 17286 06:4318: A9 38 00     	lda	#$38
 17287 06:431B: 65 01        	adc	<R0
 17288 06:431D: 85 05        	sta	<R1
 17289 06:431F: A9 00 00     	lda	#$0
 17290 06:4322: 65 03        	adc	<R0+2
 17291 06:4324: 85 07        	sta	<R1+2
 17292 06:4326: 18           	clc
 17293 06:4327: A5 47        	lda	<L848+pWin_1
 17294 06:4329: 65 05        	adc	<R1
 17295 06:432B: 85 01        	sta	<R0
 17296 06:432D: A5 49        	lda	<L848+pWin_1+2
 17297 06:432F: 65 07        	adc	<R1+2
 17298 06:4331: 85 03        	sta	<R0+2
 17299 06:4333: D4 03        	pei	<R0+2
 17300 06:4335: D4 01        	pei	<R0
 17301 06:4337: 22 00 06 06  	jsl	~~k_set_rect
 17302                        ;
 17303                        ;			ncc++;
 17304                        	.line	2690
 17305 06:433B: E6 1D        	inc	<L848+ncc_1
  Sat Jul 10 2021  1:15                                                Page 318


 17306                        ;
 17307                        ;			tx = ((pwndRect->x + pwndRect->w
                    idth - 0) - (SM_TITLE_XGADGETGAP_DEFAULT + gx) - (SM_TITLE_X
                    GADGETGAP_DEFAULT + gx));
 17308                        	.line	2692
 17309 06:433D: 18           	clc
 17310 06:433E: A9 04 00     	lda	#$4
 17311 06:4341: 65 3F        	adc	<L848+gx_1
 17312 06:4343: 85 01        	sta	<R0
 17313 06:4345: 18           	clc
 17314 06:4346: A9 04 00     	lda	#$4
 17315 06:4349: 65 3F        	adc	<L848+gx_1
 17316 06:434B: 85 05        	sta	<R1
 17317 06:434D: 18           	clc
 17318 06:434E: A7 15        	lda	[<L848+pwndRect_1]
 17319 06:4350: A0 08 00     	ldy	#$8
 17320 06:4353: 77 15        	adc	[<L848+pwndRect_1],Y
 17321 06:4355: 85 09        	sta	<R2
 17322 06:4357: 38           	sec
 17323 06:4358: A5 09        	lda	<R2
 17324 06:435A: E5 05        	sbc	<R1
 17325 06:435C: 85 0D        	sta	<R3
 17326 06:435E: 38           	sec
 17327 06:435F: A5 0D        	lda	<R3
 17328 06:4361: E5 01        	sbc	<R0
 17329 06:4363: 85 3D        	sta	<L848+tx_1
 17330                        ;
 17331                        ;			k_put_wingadget_point_ex(WINICON
                    _BLOCK      ,tx,titleOffsetY,k_getUIWindowBorderColor(),pWin
                    ->nBitmapLayer);
 17332                        	.line	2694
 17333 06:4365: A0 9E 01     	ldy	#$19e
 17334 06:4368: B7 47        	lda	[<L848+pWin_1],Y
 17335 06:436A: 48           	pha
 17336 06:436B: 22 99 12 06  	jsl	~~k_getUIWindowBorderColor
 17337 06:436F: 48           	pha
 17338 06:4370: D4 39        	pei	<L848+titleOffsetY_1
 17339 06:4372: D4 3D        	pei	<L848+tx_1
 17340 06:4374: F4 00 00     	pea	#<$0
 17341 06:4377: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 17342                        ;			k_put_wingadget_point_ex(WINICON
                    _TITLE_FRONT,tx,titleOffsetY,k_getUIGadgetColor()      ,pWin
                    ->nBitmapLayer);
 17343                        	.line	2695
 17344 06:437B: A0 9E 01     	ldy	#$19e
 17345 06:437E: B7 47        	lda	[<L848+pWin_1],Y
 17346 06:4380: 48           	pha
 17347 06:4381: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 17348 06:4385: 48           	pha
 17349 06:4386: D4 39        	pei	<L848+titleOffsetY_1
 17350 06:4388: D4 3D        	pei	<L848+tx_1
 17351 06:438A: F4 03 00     	pea	#<$3
 17352 06:438D: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 17353                        ;			pWin->nonclientGadgets[ncc].msgT
                    ype = FX_MAX_WINDOW;
 17354                        	.line	2696
 17355 06:4391: A0 00 00     	ldy	#$0
 17356 06:4394: A5 1D        	lda	<L848+ncc_1
  Sat Jul 10 2021  1:15                                                Page 319


 17357 06:4396: 10 01        	bpl	L872
 17358 06:4398: 88           	dey
 17359                        L872:
 17360 06:4399: 85 01        	sta	<R0
 17361 06:439B: 84 03        	sty	<R0+2
 17362 06:439D: F4 00 00     	pea	#^$11
 17363 06:43A0: F4 11 00     	pea	#<$11
 17364 06:43A3: D4 03        	pei	<R0+2
 17365 06:43A5: D4 01        	pei	<R0
 17366                        	xref	~~~lmul
 17367 06:43A7: 22 xx xx xx  	jsl	~~~lmul
 17368 06:43AB: 85 01        	sta	<R0
 17369 06:43AD: 86 03        	stx	<R0+2
 17370 06:43AF: 18           	clc
 17371 06:43B0: A9 46 00     	lda	#$46
 17372 06:43B3: 65 47        	adc	<L848+pWin_1
 17373 06:43B5: 85 05        	sta	<R1
 17374 06:43B7: A9 00 00     	lda	#$0
 17375 06:43BA: 65 49        	adc	<L848+pWin_1+2
 17376 06:43BC: 85 07        	sta	<R1+2
 17377 06:43BE: 18           	clc
 17378 06:43BF: A5 05        	lda	<R1
 17379 06:43C1: 65 01        	adc	<R0
 17380 06:43C3: 85 09        	sta	<R2
 17381 06:43C5: A5 07        	lda	<R1+2
 17382 06:43C7: 65 03        	adc	<R0+2
 17383 06:43C9: 85 0B        	sta	<R2+2
 17384 06:43CB: A9 0A FB     	lda	#$fb0a
 17385 06:43CE: 87 09        	sta	[<R2]
 17386                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),tx,titleOffsetY,gx,gx);
 17387                        	.line	2697
 17388 06:43D0: D4 3F        	pei	<L848+gx_1
 17389 06:43D2: D4 3F        	pei	<L848+gx_1
 17390 06:43D4: D4 39        	pei	<L848+titleOffsetY_1
 17391 06:43D6: D4 3D        	pei	<L848+tx_1
 17392 06:43D8: A0 00 00     	ldy	#$0
 17393 06:43DB: A5 1D        	lda	<L848+ncc_1
 17394 06:43DD: 10 01        	bpl	L873
 17395 06:43DF: 88           	dey
 17396                        L873:
 17397 06:43E0: 85 01        	sta	<R0
 17398 06:43E2: 84 03        	sty	<R0+2
 17399 06:43E4: F4 00 00     	pea	#^$11
 17400 06:43E7: F4 11 00     	pea	#<$11
 17401 06:43EA: D4 03        	pei	<R0+2
 17402 06:43EC: D4 01        	pei	<R0
 17403                        	xref	~~~lmul
 17404 06:43EE: 22 xx xx xx  	jsl	~~~lmul
 17405 06:43F2: 85 01        	sta	<R0
 17406 06:43F4: 86 03        	stx	<R0+2
 17407 06:43F6: 18           	clc
 17408 06:43F7: A9 38 00     	lda	#$38
 17409 06:43FA: 65 01        	adc	<R0
 17410 06:43FC: 85 05        	sta	<R1
 17411 06:43FE: A9 00 00     	lda	#$0
 17412 06:4401: 65 03        	adc	<R0+2
 17413 06:4403: 85 07        	sta	<R1+2
  Sat Jul 10 2021  1:15                                                Page 320


 17414 06:4405: 18           	clc
 17415 06:4406: A5 47        	lda	<L848+pWin_1
 17416 06:4408: 65 05        	adc	<R1
 17417 06:440A: 85 01        	sta	<R0
 17418 06:440C: A5 49        	lda	<L848+pWin_1+2
 17419 06:440E: 65 07        	adc	<R1+2
 17420 06:4410: 85 03        	sta	<R0+2
 17421 06:4412: D4 03        	pei	<R0+2
 17422 06:4414: D4 01        	pei	<R0
 17423 06:4416: 22 00 06 06  	jsl	~~k_set_rect
 17424                        ;
 17425                        ;			ncc++;
 17426                        	.line	2699
 17427 06:441A: E6 1D        	inc	<L848+ncc_1
 17428                        ;		}
 17429                        	.line	2700
 17430                        ;		else
 17431 06:441C: 82 3C 01     	brl	L10362
 17432                        L10361:
 17433                        ;		{
 17434                        	.line	2702
 17435                        ;			tx = ((pwndRect->x + pwndRect->w
                    idth - 0) - (SM_TITLE_XGADGETGAP_DEFAULT + gx));
 17436                        	.line	2703
 17437 06:441F: 18           	clc
 17438 06:4420: A9 04 00     	lda	#$4
 17439 06:4423: 65 3F        	adc	<L848+gx_1
 17440 06:4425: 85 01        	sta	<R0
 17441 06:4427: 18           	clc
 17442 06:4428: A7 15        	lda	[<L848+pwndRect_1]
 17443 06:442A: A0 08 00     	ldy	#$8
 17444 06:442D: 77 15        	adc	[<L848+pwndRect_1],Y
 17445 06:442F: 85 05        	sta	<R1
 17446 06:4431: 38           	sec
 17447 06:4432: A5 05        	lda	<R1
 17448 06:4434: E5 01        	sbc	<R0
 17449 06:4436: 85 3D        	sta	<L848+tx_1
 17450                        ;
 17451                        ;			k_put_wingadget_point_ex(WINICON
                    _BLOCK,tx,titleOffsetY,k_getUIWindowBorderColor(),pWin->nBit
                    mapLayer);
 17452                        	.line	2705
 17453 06:4438: A0 9E 01     	ldy	#$19e
 17454 06:443B: B7 47        	lda	[<L848+pWin_1],Y
 17455 06:443D: 48           	pha
 17456 06:443E: 22 99 12 06  	jsl	~~k_getUIWindowBorderColor
 17457 06:4442: 48           	pha
 17458 06:4443: D4 39        	pei	<L848+titleOffsetY_1
 17459 06:4445: D4 3D        	pei	<L848+tx_1
 17460 06:4447: F4 00 00     	pea	#<$0
 17461 06:444A: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 17462                        ;			if(style & FXWS_MINIMIZEBOX)
 17463                        	.line	2706
 17464                        ;			{
 17465 06:444E: A5 25        	lda	<L848+style_1
 17466 06:4450: 29 20 00     	and	#<$20
 17467 06:4453: D0 03        	bne	L874
 17468 06:4455: 82 58 00     	brl	L10363
  Sat Jul 10 2021  1:15                                                Page 321


 17469                        L874:
 17470                        	.line	2707
 17471                        ;				k_put_wingadget_point_ex
                    (WINICON_TITLE_BACK,tx,titleOffsetY,k_getUIGadgetColor(),pWi
                    n->nBitmapLayer);
 17472                        	.line	2708
 17473 06:4458: A0 9E 01     	ldy	#$19e
 17474 06:445B: B7 47        	lda	[<L848+pWin_1],Y
 17475 06:445D: 48           	pha
 17476 06:445E: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 17477 06:4462: 48           	pha
 17478 06:4463: D4 39        	pei	<L848+titleOffsetY_1
 17479 06:4465: D4 3D        	pei	<L848+tx_1
 17480 06:4467: F4 04 00     	pea	#<$4
 17481 06:446A: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 17482                        ;				pWin->nonclientGadgets[n
                    cc].msgType = FX_MIN_WINDOW;
 17483                        	.line	2709
 17484 06:446E: A0 00 00     	ldy	#$0
 17485 06:4471: A5 1D        	lda	<L848+ncc_1
 17486 06:4473: 10 01        	bpl	L875
 17487 06:4475: 88           	dey
 17488                        L875:
 17489 06:4476: 85 01        	sta	<R0
 17490 06:4478: 84 03        	sty	<R0+2
 17491 06:447A: F4 00 00     	pea	#^$11
 17492 06:447D: F4 11 00     	pea	#<$11
 17493 06:4480: D4 03        	pei	<R0+2
 17494 06:4482: D4 01        	pei	<R0
 17495                        	xref	~~~lmul
 17496 06:4484: 22 xx xx xx  	jsl	~~~lmul
 17497 06:4488: 85 01        	sta	<R0
 17498 06:448A: 86 03        	stx	<R0+2
 17499 06:448C: 18           	clc
 17500 06:448D: A9 46 00     	lda	#$46
 17501 06:4490: 65 47        	adc	<L848+pWin_1
 17502 06:4492: 85 05        	sta	<R1
 17503 06:4494: A9 00 00     	lda	#$0
 17504 06:4497: 65 49        	adc	<L848+pWin_1+2
 17505 06:4499: 85 07        	sta	<R1+2
 17506 06:449B: 18           	clc
 17507 06:449C: A5 05        	lda	<R1
 17508 06:449E: 65 01        	adc	<R0
 17509 06:44A0: 85 09        	sta	<R2
 17510 06:44A2: A5 07        	lda	<R1+2
 17511 06:44A4: 65 03        	adc	<R0+2
 17512 06:44A6: 85 0B        	sta	<R2+2
 17513 06:44A8: A9 09 FB     	lda	#$fb09
 17514 06:44AB: 87 09        	sta	[<R2]
 17515                        ;			}
 17516                        	.line	2710
 17517                        ;			else if(style & FXWS_MAXIMIZEBOX
                    )
 17518 06:44AD: 82 5F 00     	brl	L10364
 17519                        L10363:
 17520                        	.line	2711
 17521                        ;			{
 17522 06:44B0: A5 25        	lda	<L848+style_1
  Sat Jul 10 2021  1:15                                                Page 322


 17523 06:44B2: 29 10 00     	and	#<$10
 17524 06:44B5: D0 03        	bne	L876
 17525 06:44B7: 82 55 00     	brl	L10365
 17526                        L876:
 17527                        	.line	2712
 17528                        ;				k_put_wingadget_point_ex
                    (WINICON_TITLE_FRONT,tx,titleOffsetY,k_getUIGadgetColor(),pW
                    in->nBitmapLayer);
 17529                        	.line	2713
 17530 06:44BA: A0 9E 01     	ldy	#$19e
 17531 06:44BD: B7 47        	lda	[<L848+pWin_1],Y
 17532 06:44BF: 48           	pha
 17533 06:44C0: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 17534 06:44C4: 48           	pha
 17535 06:44C5: D4 39        	pei	<L848+titleOffsetY_1
 17536 06:44C7: D4 3D        	pei	<L848+tx_1
 17537 06:44C9: F4 03 00     	pea	#<$3
 17538 06:44CC: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 17539                        ;				pWin->nonclientGadgets[n
                    cc].msgType = FX_MAX_WINDOW;
 17540                        	.line	2714
 17541 06:44D0: A0 00 00     	ldy	#$0
 17542 06:44D3: A5 1D        	lda	<L848+ncc_1
 17543 06:44D5: 10 01        	bpl	L877
 17544 06:44D7: 88           	dey
 17545                        L877:
 17546 06:44D8: 85 01        	sta	<R0
 17547 06:44DA: 84 03        	sty	<R0+2
 17548 06:44DC: F4 00 00     	pea	#^$11
 17549 06:44DF: F4 11 00     	pea	#<$11
 17550 06:44E2: D4 03        	pei	<R0+2
 17551 06:44E4: D4 01        	pei	<R0
 17552                        	xref	~~~lmul
 17553 06:44E6: 22 xx xx xx  	jsl	~~~lmul
 17554 06:44EA: 85 01        	sta	<R0
 17555 06:44EC: 86 03        	stx	<R0+2
 17556 06:44EE: 18           	clc
 17557 06:44EF: A9 46 00     	lda	#$46
 17558 06:44F2: 65 47        	adc	<L848+pWin_1
 17559 06:44F4: 85 05        	sta	<R1
 17560 06:44F6: A9 00 00     	lda	#$0
 17561 06:44F9: 65 49        	adc	<L848+pWin_1+2
 17562 06:44FB: 85 07        	sta	<R1+2
 17563 06:44FD: 18           	clc
 17564 06:44FE: A5 05        	lda	<R1
 17565 06:4500: 65 01        	adc	<R0
 17566 06:4502: 85 09        	sta	<R2
 17567 06:4504: A5 07        	lda	<R1+2
 17568 06:4506: 65 03        	adc	<R0+2
 17569 06:4508: 85 0B        	sta	<R2+2
 17570 06:450A: A9 0A FB     	lda	#$fb0a
 17571 06:450D: 87 09        	sta	[<R2]
 17572                        ;			}
 17573                        	.line	2715
 17574                        ;
 17575                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),tx,titleOffsetY,gx,gx);
 17576                        L10365:
  Sat Jul 10 2021  1:15                                                Page 323


 17577                        L10364:
 17578                        	.line	2717
 17579 06:450F: D4 3F        	pei	<L848+gx_1
 17580 06:4511: D4 3F        	pei	<L848+gx_1
 17581 06:4513: D4 39        	pei	<L848+titleOffsetY_1
 17582 06:4515: D4 3D        	pei	<L848+tx_1
 17583 06:4517: A0 00 00     	ldy	#$0
 17584 06:451A: A5 1D        	lda	<L848+ncc_1
 17585 06:451C: 10 01        	bpl	L878
 17586 06:451E: 88           	dey
 17587                        L878:
 17588 06:451F: 85 01        	sta	<R0
 17589 06:4521: 84 03        	sty	<R0+2
 17590 06:4523: F4 00 00     	pea	#^$11
 17591 06:4526: F4 11 00     	pea	#<$11
 17592 06:4529: D4 03        	pei	<R0+2
 17593 06:452B: D4 01        	pei	<R0
 17594                        	xref	~~~lmul
 17595 06:452D: 22 xx xx xx  	jsl	~~~lmul
 17596 06:4531: 85 01        	sta	<R0
 17597 06:4533: 86 03        	stx	<R0+2
 17598 06:4535: 18           	clc
 17599 06:4536: A9 38 00     	lda	#$38
 17600 06:4539: 65 01        	adc	<R0
 17601 06:453B: 85 05        	sta	<R1
 17602 06:453D: A9 00 00     	lda	#$0
 17603 06:4540: 65 03        	adc	<R0+2
 17604 06:4542: 85 07        	sta	<R1+2
 17605 06:4544: 18           	clc
 17606 06:4545: A5 47        	lda	<L848+pWin_1
 17607 06:4547: 65 05        	adc	<R1
 17608 06:4549: 85 01        	sta	<R0
 17609 06:454B: A5 49        	lda	<L848+pWin_1+2
 17610 06:454D: 65 07        	adc	<R1+2
 17611 06:454F: 85 03        	sta	<R0+2
 17612 06:4551: D4 03        	pei	<R0+2
 17613 06:4553: D4 01        	pei	<R0
 17614 06:4555: 22 00 06 06  	jsl	~~k_set_rect
 17615                        ;
 17616                        ;			ncc++;
 17617                        	.line	2719
 17618 06:4559: E6 1D        	inc	<L848+ncc_1
 17619                        ;		}
 17620                        	.line	2720
 17621                        L10362:
 17622                        ;
 17623                        ;
 17624                        ;
 17625                        ;		if((style & FXWS_CAPTION) == FXWS_CAPTIO
                    N)
 17626                        	.line	2724
 17627                        ;		{
 17628 06:455B: A5 25        	lda	<L848+style_1
 17629 06:455D: 29 04 00     	and	#<$4
 17630 06:4560: 85 01        	sta	<R0
 17631 06:4562: 64 03        	stz	<R0+2
 17632 06:4564: A5 01        	lda	<R0
 17633 06:4566: C9 04 00     	cmp	#<$4
  Sat Jul 10 2021  1:15                                                Page 324


 17634 06:4569: D0 05        	bne	L879
 17635 06:456B: A5 03        	lda	<R0+2
 17636 06:456D: C9 00 00     	cmp	#^$4
 17637                        L879:
 17638 06:4570: F0 03        	beq	L880
 17639 06:4572: 82 CD 01     	brl	L10366
 17640                        L880:
 17641                        	.line	2725
 17642                        ;			k_user_SetRect(&rect,
 17643                        	.line	2726
 17644                        ;						   title
                    OffsetX + SM_TITLE_XGADGETGAP_DEFAULT,
 17645                        ;						   title
                    OffsetY,
 17646                        ;						   (strl
                    en(pWin->win_title)*metric.width) + SM_TITLE_XGADGETGAP_DEFA
                    ULT,
 17647                        ;						   metri
                    c.height);
 17648 06:4575: D4 13        	pei	<L848+metric_1+2
 17649 06:4577: 18           	clc
 17650 06:4578: A9 4C 01     	lda	#$14c
 17651 06:457B: 65 47        	adc	<L848+pWin_1
 17652 06:457D: 85 01        	sta	<R0
 17653 06:457F: A9 00 00     	lda	#$0
 17654 06:4582: 65 49        	adc	<L848+pWin_1+2
 17655 06:4584: 85 03        	sta	<R0+2
 17656 06:4586: D4 03        	pei	<R0+2
 17657 06:4588: D4 01        	pei	<R0
 17658 06:458A: 22 xx xx xx  	jsl	~~strlen
 17659 06:458E: 85 05        	sta	<R1
 17660 06:4590: A5 05        	lda	<R1
 17661 06:4592: A6 11        	ldx	<L848+metric_1
 17662                        	xref	~~~mul
 17663 06:4594: 22 xx xx xx  	jsl	~~~mul
 17664 06:4598: 85 05        	sta	<R1
 17665 06:459A: 18           	clc
 17666 06:459B: A9 04 00     	lda	#$4
 17667 06:459E: 65 05        	adc	<R1
 17668 06:45A0: 48           	pha
 17669 06:45A1: D4 39        	pei	<L848+titleOffsetY_1
 17670 06:45A3: 18           	clc
 17671 06:45A4: A9 04 00     	lda	#$4
 17672 06:45A7: 65 37        	adc	<L848+titleOffsetX_1
 17673 06:45A9: 48           	pha
 17674 06:45AA: F4 00 00     	pea	#0
 17675 06:45AD: 18           	clc
 17676 06:45AE: 7B           	tdc
 17677 06:45AF: 69 29 00     	adc	#<L848+rect_1
 17678 06:45B2: 48           	pha
 17679 06:45B3: 22 xx xx xx  	jsl	~~k_user_SetRect
 17680                        ;
 17681                        ;
 17682                        ;			if(pWin->styleEx && pWin->client
                    Data[CLIENTDATA_TITLE])
 17683                        	.line	2733
 17684                        ;			{
 17685 06:45B7: A0 06 00     	ldy	#$6
  Sat Jul 10 2021  1:15                                                Page 325


 17686 06:45BA: B7 47        	lda	[<L848+pWin_1],Y
 17687 06:45BC: A0 08 00     	ldy	#$8
 17688 06:45BF: 17 47        	ora	[<L848+pWin_1],Y
 17689 06:45C1: D0 03        	bne	L881
 17690 06:45C3: 82 2B 00     	brl	L10367
 17691                        L881:
 17692 06:45C6: A0 DD 01     	ldy	#$1dd
 17693 06:45C9: B7 47        	lda	[<L848+pWin_1],Y
 17694 06:45CB: A0 DF 01     	ldy	#$1df
 17695 06:45CE: 17 47        	ora	[<L848+pWin_1],Y
 17696 06:45D0: D0 03        	bne	L882
 17697 06:45D2: 82 1C 00     	brl	L10367
 17698                        L882:
 17699                        	.line	2734
 17700                        ;				k_gui_get_image_cache((U
                    INT)((ULONG)pWin->clientData[CLIENTDATA_TITLE]),GUI_CACHE_BA
                    CK,&rect);
 17701                        	.line	2735
 17702 06:45D5: F4 00 00     	pea	#0
 17703 06:45D8: 18           	clc
 17704 06:45D9: 7B           	tdc
 17705 06:45DA: 69 29 00     	adc	#<L848+rect_1
 17706 06:45DD: 48           	pha
 17707 06:45DE: F4 08 00     	pea	#^$80000
 17708 06:45E1: F4 00 00     	pea	#<$80000
 17709 06:45E4: A0 DD 01     	ldy	#$1dd
 17710 06:45E7: B7 47        	lda	[<L848+pWin_1],Y
 17711 06:45E9: 48           	pha
 17712 06:45EA: 22 13 03 06  	jsl	~~k_gui_get_image_cache
 17713                        ;			}
 17714                        	.line	2736
 17715                        ;			else
 17716 06:45EE: 82 B6 00     	brl	L10368
 17717                        L10367:
 17718                        ;			{
 17719                        	.line	2738
 17720                        ;				k_vdma_fill_rect_ex(rect
                    .x,
 17721                        	.line	2739
 17722                        ;							
                    		rect.y,
 17723                        ;							
                    		(strlen(pWin->win_title)*metric.width) + SM_TITL
                    E_XGADGETGAP_DEFAULT,
 17724                        ;							
                    		metric.height,
 17725                        ;							
                    		k_getUIWindowBorderColor(),
 17726                        ;							
                    		BITMAP_BACK);
 17727 06:45F1: F4 08 00     	pea	#<$8
 17728 06:45F4: 22 99 12 06  	jsl	~~k_getUIWindowBorderColor
 17729 06:45F8: 48           	pha
 17730 06:45F9: D4 13        	pei	<L848+metric_1+2
 17731 06:45FB: 18           	clc
 17732 06:45FC: A9 4C 01     	lda	#$14c
 17733 06:45FF: 65 47        	adc	<L848+pWin_1
 17734 06:4601: 85 01        	sta	<R0
  Sat Jul 10 2021  1:15                                                Page 326


 17735 06:4603: A9 00 00     	lda	#$0
 17736 06:4606: 65 49        	adc	<L848+pWin_1+2
 17737 06:4608: 85 03        	sta	<R0+2
 17738 06:460A: D4 03        	pei	<R0+2
 17739 06:460C: D4 01        	pei	<R0
 17740 06:460E: 22 xx xx xx  	jsl	~~strlen
 17741 06:4612: 85 05        	sta	<R1
 17742 06:4614: A5 05        	lda	<R1
 17743 06:4616: A6 11        	ldx	<L848+metric_1
 17744                        	xref	~~~mul
 17745 06:4618: 22 xx xx xx  	jsl	~~~mul
 17746 06:461C: 85 05        	sta	<R1
 17747 06:461E: 18           	clc
 17748 06:461F: A9 04 00     	lda	#$4
 17749 06:4622: 65 05        	adc	<R1
 17750 06:4624: 48           	pha
 17751 06:4625: A0 00 00     	ldy	#$0
 17752 06:4628: A5 2B        	lda	<L848+rect_1+2
 17753 06:462A: 10 01        	bpl	L883
 17754 06:462C: 88           	dey
 17755                        L883:
 17756 06:462D: 85 05        	sta	<R1
 17757 06:462F: 84 07        	sty	<R1+2
 17758 06:4631: D4 07        	pei	<R1+2
 17759 06:4633: D4 05        	pei	<R1
 17760 06:4635: A0 00 00     	ldy	#$0
 17761 06:4638: A5 29        	lda	<L848+rect_1
 17762 06:463A: 10 01        	bpl	L884
 17763 06:463C: 88           	dey
 17764                        L884:
 17765 06:463D: 85 09        	sta	<R2
 17766 06:463F: 84 0B        	sty	<R2+2
 17767 06:4641: D4 0B        	pei	<R2+2
 17768 06:4643: D4 09        	pei	<R2
 17769 06:4645: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 17770                        ;
 17771                        ;				k_draw_text_point_ex(pWi
                    n->win_title,
 17772                        	.line	2746
 17773                        ;							
                    		 rect.x,
 17774                        ;							
                    		 rect.y,
 17775                        ;							
                    		 k_getUIGadgetColor(),
 17776                        ;							
                    		 pWin->nBitmapLayer);
 17777 06:4649: A0 9E 01     	ldy	#$19e
 17778 06:464C: B7 47        	lda	[<L848+pWin_1],Y
 17779 06:464E: 48           	pha
 17780 06:464F: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 17781 06:4653: 48           	pha
 17782 06:4654: D4 2B        	pei	<L848+rect_1+2
 17783 06:4656: D4 29        	pei	<L848+rect_1
 17784 06:4658: 18           	clc
 17785 06:4659: A9 4C 01     	lda	#$14c
 17786 06:465C: 65 47        	adc	<L848+pWin_1
 17787 06:465E: 85 01        	sta	<R0
  Sat Jul 10 2021  1:15                                                Page 327


 17788 06:4660: A9 00 00     	lda	#$0
 17789 06:4663: 65 49        	adc	<L848+pWin_1+2
 17790 06:4665: 85 03        	sta	<R0+2
 17791 06:4667: D4 03        	pei	<R0+2
 17792 06:4669: D4 01        	pei	<R0
 17793 06:466B: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 17794                        ;
 17795                        ;				if(pWin->styleEx)
 17796                        	.line	2752
 17797                        ;				{
 17798 06:466F: A0 06 00     	ldy	#$6
 17799 06:4672: B7 47        	lda	[<L848+pWin_1],Y
 17800 06:4674: A0 08 00     	ldy	#$8
 17801 06:4677: 17 47        	ora	[<L848+pWin_1],Y
 17802 06:4679: D0 03        	bne	L885
 17803 06:467B: 82 29 00     	brl	L10369
 17804                        L885:
 17805                        	.line	2753
 17806                        ;					pWin->clientData
                    [CLIENTDATA_TITLE] = (LPVOID)((ULONG)k_gui_set_image_cache(G
                    UI_CACHE_BACK,&rect));
 17807                        	.line	2754
 17808 06:467E: F4 00 00     	pea	#0
 17809 06:4681: 18           	clc
 17810 06:4682: 7B           	tdc
 17811 06:4683: 69 29 00     	adc	#<L848+rect_1
 17812 06:4686: 48           	pha
 17813 06:4687: F4 08 00     	pea	#^$80000
 17814 06:468A: F4 00 00     	pea	#<$80000
 17815 06:468D: 22 02 02 06  	jsl	~~k_gui_set_image_cache
 17816 06:4691: 85 01        	sta	<R0
 17817 06:4693: A5 01        	lda	<R0
 17818 06:4695: 85 01        	sta	<R0
 17819 06:4697: 64 03        	stz	<R0+2
 17820 06:4699: A5 01        	lda	<R0
 17821 06:469B: A0 DD 01     	ldy	#$1dd
 17822 06:469E: 97 47        	sta	[<L848+pWin_1],Y
 17823 06:46A0: A5 03        	lda	<R0+2
 17824 06:46A2: A0 DF 01     	ldy	#$1df
 17825 06:46A5: 97 47        	sta	[<L848+pWin_1],Y
 17826                        ;				}
 17827                        	.line	2755
 17828                        ;
 17829                        ;			}
 17830                        L10369:
 17831                        	.line	2757
 17832                        L10368:
 17833                        ;
 17834                        ;
 17835                        ;
 17836                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),
 17837                        	.line	2761
 17838                        ;					   pWin->win_x ,
 17839                        ;					   pWin->win_y,
 17840                        ;					   pWin->win_wid
                    th,
 17841                        ;					   SM_CYCAPTION_
  Sat Jul 10 2021  1:15                                                Page 328


                    DEFAULT);
 17842 06:46A7: F4 0C 00     	pea	#<$c
 17843 06:46AA: A0 10 00     	ldy	#$10
 17844 06:46AD: B7 47        	lda	[<L848+pWin_1],Y
 17845 06:46AF: 48           	pha
 17846 06:46B0: A0 0E 00     	ldy	#$e
 17847 06:46B3: B7 47        	lda	[<L848+pWin_1],Y
 17848 06:46B5: 48           	pha
 17849 06:46B6: A0 0C 00     	ldy	#$c
 17850 06:46B9: B7 47        	lda	[<L848+pWin_1],Y
 17851 06:46BB: 48           	pha
 17852 06:46BC: A0 00 00     	ldy	#$0
 17853 06:46BF: A5 1D        	lda	<L848+ncc_1
 17854 06:46C1: 10 01        	bpl	L886
 17855 06:46C3: 88           	dey
 17856                        L886:
 17857 06:46C4: 85 01        	sta	<R0
 17858 06:46C6: 84 03        	sty	<R0+2
 17859 06:46C8: F4 00 00     	pea	#^$11
 17860 06:46CB: F4 11 00     	pea	#<$11
 17861 06:46CE: D4 03        	pei	<R0+2
 17862 06:46D0: D4 01        	pei	<R0
 17863                        	xref	~~~lmul
 17864 06:46D2: 22 xx xx xx  	jsl	~~~lmul
 17865 06:46D6: 85 01        	sta	<R0
 17866 06:46D8: 86 03        	stx	<R0+2
 17867 06:46DA: 18           	clc
 17868 06:46DB: A9 38 00     	lda	#$38
 17869 06:46DE: 65 01        	adc	<R0
 17870 06:46E0: 85 05        	sta	<R1
 17871 06:46E2: A9 00 00     	lda	#$0
 17872 06:46E5: 65 03        	adc	<R0+2
 17873 06:46E7: 85 07        	sta	<R1+2
 17874 06:46E9: 18           	clc
 17875 06:46EA: A5 47        	lda	<L848+pWin_1
 17876 06:46EC: 65 05        	adc	<R1
 17877 06:46EE: 85 01        	sta	<R0
 17878 06:46F0: A5 49        	lda	<L848+pWin_1+2
 17879 06:46F2: 65 07        	adc	<R1+2
 17880 06:46F4: 85 03        	sta	<R0+2
 17881 06:46F6: D4 03        	pei	<R0+2
 17882 06:46F8: D4 01        	pei	<R0
 17883 06:46FA: 22 00 06 06  	jsl	~~k_set_rect
 17884                        ;			pWin->nonclientGadgets[ncc++].ms
                    gType = FX_DRAG_WINDOW;
 17885                        	.line	2766
 17886 06:46FE: A0 00 00     	ldy	#$0
 17887 06:4701: A5 1D        	lda	<L848+ncc_1
 17888 06:4703: 10 01        	bpl	L887
 17889 06:4705: 88           	dey
 17890                        L887:
 17891 06:4706: 85 01        	sta	<R0
 17892 06:4708: 84 03        	sty	<R0+2
 17893 06:470A: F4 00 00     	pea	#^$11
 17894 06:470D: F4 11 00     	pea	#<$11
 17895 06:4710: D4 03        	pei	<R0+2
 17896 06:4712: D4 01        	pei	<R0
 17897                        	xref	~~~lmul
  Sat Jul 10 2021  1:15                                                Page 329


 17898 06:4714: 22 xx xx xx  	jsl	~~~lmul
 17899 06:4718: 85 01        	sta	<R0
 17900 06:471A: 86 03        	stx	<R0+2
 17901 06:471C: 18           	clc
 17902 06:471D: A9 46 00     	lda	#$46
 17903 06:4720: 65 47        	adc	<L848+pWin_1
 17904 06:4722: 85 05        	sta	<R1
 17905 06:4724: A9 00 00     	lda	#$0
 17906 06:4727: 65 49        	adc	<L848+pWin_1+2
 17907 06:4729: 85 07        	sta	<R1+2
 17908 06:472B: 18           	clc
 17909 06:472C: A5 05        	lda	<R1
 17910 06:472E: 65 01        	adc	<R0
 17911 06:4730: 85 09        	sta	<R2
 17912 06:4732: A5 07        	lda	<R1+2
 17913 06:4734: 65 03        	adc	<R0+2
 17914 06:4736: 85 0B        	sta	<R2+2
 17915 06:4738: A9 10 FB     	lda	#$fb10
 17916 06:473B: 87 09        	sta	[<R2]
 17917 06:473D: E6 1D        	inc	<L848+ncc_1
 17918                        ;
 17919                        ;		}
 17920                        	.line	2768
 17921                        ;		else
 17922 06:473F: 82 9E 00     	brl	L10370
 17923                        L10366:
 17924                        ;		{
 17925                        	.line	2770
 17926                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),
 17927                        	.line	2771
 17928                        ;					   pWin->win_x +
                     gx,
 17929                        ;					   pWin->win_y,
 17930                        ;					   pWin->win_wid
                    th - gx,
 17931                        ;					   SM_CYCAPTION_
                    DEFAULT);
 17932 06:4742: F4 0C 00     	pea	#<$c
 17933 06:4745: 38           	sec
 17934 06:4746: A0 10 00     	ldy	#$10
 17935 06:4749: B7 47        	lda	[<L848+pWin_1],Y
 17936 06:474B: E5 3F        	sbc	<L848+gx_1
 17937 06:474D: 48           	pha
 17938 06:474E: A0 0E 00     	ldy	#$e
 17939 06:4751: B7 47        	lda	[<L848+pWin_1],Y
 17940 06:4753: 48           	pha
 17941 06:4754: 18           	clc
 17942 06:4755: A0 0C 00     	ldy	#$c
 17943 06:4758: B7 47        	lda	[<L848+pWin_1],Y
 17944 06:475A: 65 3F        	adc	<L848+gx_1
 17945 06:475C: 48           	pha
 17946 06:475D: A0 00 00     	ldy	#$0
 17947 06:4760: A5 1D        	lda	<L848+ncc_1
 17948 06:4762: 10 01        	bpl	L888
 17949 06:4764: 88           	dey
 17950                        L888:
 17951 06:4765: 85 01        	sta	<R0
  Sat Jul 10 2021  1:15                                                Page 330


 17952 06:4767: 84 03        	sty	<R0+2
 17953 06:4769: F4 00 00     	pea	#^$11
 17954 06:476C: F4 11 00     	pea	#<$11
 17955 06:476F: D4 03        	pei	<R0+2
 17956 06:4771: D4 01        	pei	<R0
 17957                        	xref	~~~lmul
 17958 06:4773: 22 xx xx xx  	jsl	~~~lmul
 17959 06:4777: 85 01        	sta	<R0
 17960 06:4779: 86 03        	stx	<R0+2
 17961 06:477B: 18           	clc
 17962 06:477C: A9 38 00     	lda	#$38
 17963 06:477F: 65 01        	adc	<R0
 17964 06:4781: 85 05        	sta	<R1
 17965 06:4783: A9 00 00     	lda	#$0
 17966 06:4786: 65 03        	adc	<R0+2
 17967 06:4788: 85 07        	sta	<R1+2
 17968 06:478A: 18           	clc
 17969 06:478B: A5 47        	lda	<L848+pWin_1
 17970 06:478D: 65 05        	adc	<R1
 17971 06:478F: 85 01        	sta	<R0
 17972 06:4791: A5 49        	lda	<L848+pWin_1+2
 17973 06:4793: 65 07        	adc	<R1+2
 17974 06:4795: 85 03        	sta	<R0+2
 17975 06:4797: D4 03        	pei	<R0+2
 17976 06:4799: D4 01        	pei	<R0
 17977 06:479B: 22 00 06 06  	jsl	~~k_set_rect
 17978                        ;			pWin->nonclientGadgets[ncc++].ms
                    gType = FX_DRAG_WINDOW;
 17979                        	.line	2776
 17980 06:479F: A0 00 00     	ldy	#$0
 17981 06:47A2: A5 1D        	lda	<L848+ncc_1
 17982 06:47A4: 10 01        	bpl	L889
 17983 06:47A6: 88           	dey
 17984                        L889:
 17985 06:47A7: 85 01        	sta	<R0
 17986 06:47A9: 84 03        	sty	<R0+2
 17987 06:47AB: F4 00 00     	pea	#^$11
 17988 06:47AE: F4 11 00     	pea	#<$11
 17989 06:47B1: D4 03        	pei	<R0+2
 17990 06:47B3: D4 01        	pei	<R0
 17991                        	xref	~~~lmul
 17992 06:47B5: 22 xx xx xx  	jsl	~~~lmul
 17993 06:47B9: 85 01        	sta	<R0
 17994 06:47BB: 86 03        	stx	<R0+2
 17995 06:47BD: 18           	clc
 17996 06:47BE: A9 46 00     	lda	#$46
 17997 06:47C1: 65 47        	adc	<L848+pWin_1
 17998 06:47C3: 85 05        	sta	<R1
 17999 06:47C5: A9 00 00     	lda	#$0
 18000 06:47C8: 65 49        	adc	<L848+pWin_1+2
 18001 06:47CA: 85 07        	sta	<R1+2
 18002 06:47CC: 18           	clc
 18003 06:47CD: A5 05        	lda	<R1
 18004 06:47CF: 65 01        	adc	<R0
 18005 06:47D1: 85 09        	sta	<R2
 18006 06:47D3: A5 07        	lda	<R1+2
 18007 06:47D5: 65 03        	adc	<R0+2
 18008 06:47D7: 85 0B        	sta	<R2+2
  Sat Jul 10 2021  1:15                                                Page 331


 18009 06:47D9: A9 10 FB     	lda	#$fb10
 18010 06:47DC: 87 09        	sta	[<R2]
 18011 06:47DE: E6 1D        	inc	<L848+ncc_1
 18012                        ;		}
 18013                        	.line	2777
 18014                        L10370:
 18015                        ;
 18016                        ;
 18017                        ;		if((style & FXWS_THICKFRAME) && (style &
                     FXWS_SIZEBOX))
 18018                        	.line	2780
 18019                        ;		{
 18020 06:47E0: A5 27        	lda	<L848+style_1+2
 18021 06:47E2: 29 02 00     	and	#^$20000
 18022 06:47E5: D0 03        	bne	L890
 18023 06:47E7: 82 23 02     	brl	L10371
 18024                        L890:
 18025 06:47EA: A5 25        	lda	<L848+style_1
 18026 06:47EC: 29 00 01     	and	#<$100
 18027 06:47EF: D0 03        	bne	L891
 18028 06:47F1: 82 19 02     	brl	L10371
 18029                        L891:
 18030                        	.line	2781
 18031                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),
 18032                        	.line	2782
 18033                        ;					   pWin->win_x +
                     pWin->win_width  - 4,
 18034                        ;					   pWin->win_y +
                     pWin->win_height - 4,
 18035                        ;					   4,
 18036                        ;					   4);
 18037 06:47F4: F4 04 00     	pea	#<$4
 18038 06:47F7: F4 04 00     	pea	#<$4
 18039 06:47FA: 18           	clc
 18040 06:47FB: A0 0E 00     	ldy	#$e
 18041 06:47FE: B7 47        	lda	[<L848+pWin_1],Y
 18042 06:4800: A0 12 00     	ldy	#$12
 18043 06:4803: 77 47        	adc	[<L848+pWin_1],Y
 18044 06:4805: 85 01        	sta	<R0
 18045 06:4807: 18           	clc
 18046 06:4808: A9 FC FF     	lda	#$fffc
 18047 06:480B: 65 01        	adc	<R0
 18048 06:480D: 48           	pha
 18049 06:480E: 18           	clc
 18050 06:480F: A0 0C 00     	ldy	#$c
 18051 06:4812: B7 47        	lda	[<L848+pWin_1],Y
 18052 06:4814: A0 10 00     	ldy	#$10
 18053 06:4817: 77 47        	adc	[<L848+pWin_1],Y
 18054 06:4819: 85 01        	sta	<R0
 18055 06:481B: 18           	clc
 18056 06:481C: A9 FC FF     	lda	#$fffc
 18057 06:481F: 65 01        	adc	<R0
 18058 06:4821: 48           	pha
 18059 06:4822: A0 00 00     	ldy	#$0
 18060 06:4825: A5 1D        	lda	<L848+ncc_1
 18061 06:4827: 10 01        	bpl	L892
 18062 06:4829: 88           	dey
  Sat Jul 10 2021  1:15                                                Page 332


 18063                        L892:
 18064 06:482A: 85 01        	sta	<R0
 18065 06:482C: 84 03        	sty	<R0+2
 18066 06:482E: F4 00 00     	pea	#^$11
 18067 06:4831: F4 11 00     	pea	#<$11
 18068 06:4834: D4 03        	pei	<R0+2
 18069 06:4836: D4 01        	pei	<R0
 18070                        	xref	~~~lmul
 18071 06:4838: 22 xx xx xx  	jsl	~~~lmul
 18072 06:483C: 85 01        	sta	<R0
 18073 06:483E: 86 03        	stx	<R0+2
 18074 06:4840: 18           	clc
 18075 06:4841: A9 38 00     	lda	#$38
 18076 06:4844: 65 01        	adc	<R0
 18077 06:4846: 85 05        	sta	<R1
 18078 06:4848: A9 00 00     	lda	#$0
 18079 06:484B: 65 03        	adc	<R0+2
 18080 06:484D: 85 07        	sta	<R1+2
 18081 06:484F: 18           	clc
 18082 06:4850: A5 47        	lda	<L848+pWin_1
 18083 06:4852: 65 05        	adc	<R1
 18084 06:4854: 85 01        	sta	<R0
 18085 06:4856: A5 49        	lda	<L848+pWin_1+2
 18086 06:4858: 65 07        	adc	<R1+2
 18087 06:485A: 85 03        	sta	<R0+2
 18088 06:485C: D4 03        	pei	<R0+2
 18089 06:485E: D4 01        	pei	<R0
 18090 06:4860: 22 00 06 06  	jsl	~~k_set_rect
 18091                        ;
 18092                        ;			k_vdma_fill_rect_ex(pWin->noncli
                    entGadgets[ncc].area.x,
 18093                        	.line	2788
 18094                        ;					            pWin
                    ->nonclientGadgets[ncc].area.y,
 18095                        ;							
                    	pWin->nonclientGadgets[ncc].area.width,
 18096                        ;							
                    	pWin->nonclientGadgets[ncc].area.height,
 18097                        ;							
                    	k_getUIGadgetColor(),
 18098                        ;							
                    	BITMAP_BACK);
 18099 06:4864: F4 08 00     	pea	#<$8
 18100 06:4867: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 18101 06:486B: 48           	pha
 18102 06:486C: A0 00 00     	ldy	#$0
 18103 06:486F: A5 1D        	lda	<L848+ncc_1
 18104 06:4871: 10 01        	bpl	L893
 18105 06:4873: 88           	dey
 18106                        L893:
 18107 06:4874: 85 01        	sta	<R0
 18108 06:4876: 84 03        	sty	<R0+2
 18109 06:4878: F4 00 00     	pea	#^$11
 18110 06:487B: F4 11 00     	pea	#<$11
 18111 06:487E: D4 03        	pei	<R0+2
 18112 06:4880: D4 01        	pei	<R0
 18113                        	xref	~~~lmul
 18114 06:4882: 22 xx xx xx  	jsl	~~~lmul
  Sat Jul 10 2021  1:15                                                Page 333


 18115 06:4886: 85 01        	sta	<R0
 18116 06:4888: 86 03        	stx	<R0+2
 18117 06:488A: 18           	clc
 18118 06:488B: A9 42 00     	lda	#$42
 18119 06:488E: 65 47        	adc	<L848+pWin_1
 18120 06:4890: 85 05        	sta	<R1
 18121 06:4892: A9 00 00     	lda	#$0
 18122 06:4895: 65 49        	adc	<L848+pWin_1+2
 18123 06:4897: 85 07        	sta	<R1+2
 18124 06:4899: 18           	clc
 18125 06:489A: A5 05        	lda	<R1
 18126 06:489C: 65 01        	adc	<R0
 18127 06:489E: 85 09        	sta	<R2
 18128 06:48A0: A5 07        	lda	<R1+2
 18129 06:48A2: 65 03        	adc	<R0+2
 18130 06:48A4: 85 0B        	sta	<R2+2
 18131 06:48A6: A7 09        	lda	[<R2]
 18132 06:48A8: 48           	pha
 18133 06:48A9: A0 00 00     	ldy	#$0
 18134 06:48AC: A5 1D        	lda	<L848+ncc_1
 18135 06:48AE: 10 01        	bpl	L894
 18136 06:48B0: 88           	dey
 18137                        L894:
 18138 06:48B1: 85 01        	sta	<R0
 18139 06:48B3: 84 03        	sty	<R0+2
 18140 06:48B5: F4 00 00     	pea	#^$11
 18141 06:48B8: F4 11 00     	pea	#<$11
 18142 06:48BB: D4 03        	pei	<R0+2
 18143 06:48BD: D4 01        	pei	<R0
 18144                        	xref	~~~lmul
 18145 06:48BF: 22 xx xx xx  	jsl	~~~lmul
 18146 06:48C3: 85 01        	sta	<R0
 18147 06:48C5: 86 03        	stx	<R0+2
 18148 06:48C7: 18           	clc
 18149 06:48C8: A9 40 00     	lda	#$40
 18150 06:48CB: 65 47        	adc	<L848+pWin_1
 18151 06:48CD: 85 05        	sta	<R1
 18152 06:48CF: A9 00 00     	lda	#$0
 18153 06:48D2: 65 49        	adc	<L848+pWin_1+2
 18154 06:48D4: 85 07        	sta	<R1+2
 18155 06:48D6: 18           	clc
 18156 06:48D7: A5 05        	lda	<R1
 18157 06:48D9: 65 01        	adc	<R0
 18158 06:48DB: 85 09        	sta	<R2
 18159 06:48DD: A5 07        	lda	<R1+2
 18160 06:48DF: 65 03        	adc	<R0+2
 18161 06:48E1: 85 0B        	sta	<R2+2
 18162 06:48E3: A7 09        	lda	[<R2]
 18163 06:48E5: 48           	pha
 18164 06:48E6: A0 00 00     	ldy	#$0
 18165 06:48E9: A5 1D        	lda	<L848+ncc_1
 18166 06:48EB: 10 01        	bpl	L895
 18167 06:48ED: 88           	dey
 18168                        L895:
 18169 06:48EE: 85 01        	sta	<R0
 18170 06:48F0: 84 03        	sty	<R0+2
 18171 06:48F2: F4 00 00     	pea	#^$11
 18172 06:48F5: F4 11 00     	pea	#<$11
  Sat Jul 10 2021  1:15                                                Page 334


 18173 06:48F8: D4 03        	pei	<R0+2
 18174 06:48FA: D4 01        	pei	<R0
 18175                        	xref	~~~lmul
 18176 06:48FC: 22 xx xx xx  	jsl	~~~lmul
 18177 06:4900: 85 01        	sta	<R0
 18178 06:4902: 86 03        	stx	<R0+2
 18179 06:4904: 18           	clc
 18180 06:4905: A9 3A 00     	lda	#$3a
 18181 06:4908: 65 47        	adc	<L848+pWin_1
 18182 06:490A: 85 05        	sta	<R1
 18183 06:490C: A9 00 00     	lda	#$0
 18184 06:490F: 65 49        	adc	<L848+pWin_1+2
 18185 06:4911: 85 07        	sta	<R1+2
 18186 06:4913: 18           	clc
 18187 06:4914: A5 05        	lda	<R1
 18188 06:4916: 65 01        	adc	<R0
 18189 06:4918: 85 09        	sta	<R2
 18190 06:491A: A5 07        	lda	<R1+2
 18191 06:491C: 65 03        	adc	<R0+2
 18192 06:491E: 85 0B        	sta	<R2+2
 18193 06:4920: A0 00 00     	ldy	#$0
 18194 06:4923: A7 09        	lda	[<R2]
 18195 06:4925: 10 01        	bpl	L896
 18196 06:4927: 88           	dey
 18197                        L896:
 18198 06:4928: 85 01        	sta	<R0
 18199 06:492A: 84 03        	sty	<R0+2
 18200 06:492C: D4 03        	pei	<R0+2
 18201 06:492E: D4 01        	pei	<R0
 18202 06:4930: A0 00 00     	ldy	#$0
 18203 06:4933: A5 1D        	lda	<L848+ncc_1
 18204 06:4935: 10 01        	bpl	L897
 18205 06:4937: 88           	dey
 18206                        L897:
 18207 06:4938: 85 05        	sta	<R1
 18208 06:493A: 84 07        	sty	<R1+2
 18209 06:493C: F4 00 00     	pea	#^$11
 18210 06:493F: F4 11 00     	pea	#<$11
 18211 06:4942: D4 07        	pei	<R1+2
 18212 06:4944: D4 05        	pei	<R1
 18213                        	xref	~~~lmul
 18214 06:4946: 22 xx xx xx  	jsl	~~~lmul
 18215 06:494A: 85 05        	sta	<R1
 18216 06:494C: 86 07        	stx	<R1+2
 18217 06:494E: 18           	clc
 18218 06:494F: A9 38 00     	lda	#$38
 18219 06:4952: 65 47        	adc	<L848+pWin_1
 18220 06:4954: 85 09        	sta	<R2
 18221 06:4956: A9 00 00     	lda	#$0
 18222 06:4959: 65 49        	adc	<L848+pWin_1+2
 18223 06:495B: 85 0B        	sta	<R2+2
 18224 06:495D: 18           	clc
 18225 06:495E: A5 09        	lda	<R2
 18226 06:4960: 65 05        	adc	<R1
 18227 06:4962: 85 0D        	sta	<R3
 18228 06:4964: A5 0B        	lda	<R2+2
 18229 06:4966: 65 07        	adc	<R1+2
 18230 06:4968: 85 0F        	sta	<R3+2
  Sat Jul 10 2021  1:15                                                Page 335


 18231 06:496A: A0 00 00     	ldy	#$0
 18232 06:496D: A7 0D        	lda	[<R3]
 18233 06:496F: 10 01        	bpl	L898
 18234 06:4971: 88           	dey
 18235                        L898:
 18236 06:4972: 85 05        	sta	<R1
 18237 06:4974: 84 07        	sty	<R1+2
 18238 06:4976: D4 07        	pei	<R1+2
 18239 06:4978: D4 05        	pei	<R1
 18240 06:497A: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 18241                        ;
 18242                        ;			pWin->nonclientGadgets[ncc++].ms
                    gType = FX_RESIZE_WINDOW;
 18243                        	.line	2795
 18244 06:497E: A0 00 00     	ldy	#$0
 18245 06:4981: A5 1D        	lda	<L848+ncc_1
 18246 06:4983: 10 01        	bpl	L899
 18247 06:4985: 88           	dey
 18248                        L899:
 18249 06:4986: 85 01        	sta	<R0
 18250 06:4988: 84 03        	sty	<R0+2
 18251 06:498A: F4 00 00     	pea	#^$11
 18252 06:498D: F4 11 00     	pea	#<$11
 18253 06:4990: D4 03        	pei	<R0+2
 18254 06:4992: D4 01        	pei	<R0
 18255                        	xref	~~~lmul
 18256 06:4994: 22 xx xx xx  	jsl	~~~lmul
 18257 06:4998: 85 01        	sta	<R0
 18258 06:499A: 86 03        	stx	<R0+2
 18259 06:499C: 18           	clc
 18260 06:499D: A9 46 00     	lda	#$46
 18261 06:49A0: 65 47        	adc	<L848+pWin_1
 18262 06:49A2: 85 05        	sta	<R1
 18263 06:49A4: A9 00 00     	lda	#$0
 18264 06:49A7: 65 49        	adc	<L848+pWin_1+2
 18265 06:49A9: 85 07        	sta	<R1+2
 18266 06:49AB: 18           	clc
 18267 06:49AC: A5 05        	lda	<R1
 18268 06:49AE: 65 01        	adc	<R0
 18269 06:49B0: 85 09        	sta	<R2
 18270 06:49B2: A5 07        	lda	<R1+2
 18271 06:49B4: 65 03        	adc	<R0+2
 18272 06:49B6: 85 0B        	sta	<R2+2
 18273 06:49B8: A9 0F FB     	lda	#$fb0f
 18274 06:49BB: 87 09        	sta	[<R2]
 18275 06:49BD: E6 1D        	inc	<L848+ncc_1
 18276                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),-1,-1,-1,-1);
 18277                        	.line	2796
 18278 06:49BF: F4 FF FF     	pea	#<$ffffffff
 18279 06:49C2: F4 FF FF     	pea	#<$ffffffff
 18280 06:49C5: F4 FF FF     	pea	#<$ffffffff
 18281 06:49C8: F4 FF FF     	pea	#<$ffffffff
 18282 06:49CB: A0 00 00     	ldy	#$0
 18283 06:49CE: A5 1D        	lda	<L848+ncc_1
 18284 06:49D0: 10 01        	bpl	L900
 18285 06:49D2: 88           	dey
 18286                        L900:
  Sat Jul 10 2021  1:15                                                Page 336


 18287 06:49D3: 85 01        	sta	<R0
 18288 06:49D5: 84 03        	sty	<R0+2
 18289 06:49D7: F4 00 00     	pea	#^$11
 18290 06:49DA: F4 11 00     	pea	#<$11
 18291 06:49DD: D4 03        	pei	<R0+2
 18292 06:49DF: D4 01        	pei	<R0
 18293                        	xref	~~~lmul
 18294 06:49E1: 22 xx xx xx  	jsl	~~~lmul
 18295 06:49E5: 85 01        	sta	<R0
 18296 06:49E7: 86 03        	stx	<R0+2
 18297 06:49E9: 18           	clc
 18298 06:49EA: A9 38 00     	lda	#$38
 18299 06:49ED: 65 01        	adc	<R0
 18300 06:49EF: 85 05        	sta	<R1
 18301 06:49F1: A9 00 00     	lda	#$0
 18302 06:49F4: 65 03        	adc	<R0+2
 18303 06:49F6: 85 07        	sta	<R1+2
 18304 06:49F8: 18           	clc
 18305 06:49F9: A5 47        	lda	<L848+pWin_1
 18306 06:49FB: 65 05        	adc	<R1
 18307 06:49FD: 85 01        	sta	<R0
 18308 06:49FF: A5 49        	lda	<L848+pWin_1+2
 18309 06:4A01: 65 07        	adc	<R1+2
 18310 06:4A03: 85 03        	sta	<R0+2
 18311 06:4A05: D4 03        	pei	<R0+2
 18312 06:4A07: D4 01        	pei	<R0
 18313 06:4A09: 22 00 06 06  	jsl	~~k_set_rect
 18314                        ;		}
 18315                        	.line	2797
 18316                        ;
 18317                        ;
 18318                        ;	}
 18319                        L10371:
 18320                        	.line	2800
 18321                        ;}
 18322                        L10347:
 18323                        	.line	2801
 18324 06:4A0D: 82 89 F5     	brl	L851
 18325                        	.endblock	2801
 18326             0000004A   L847	equ	74
 18327             00000011   L848	equ	17
 18328 06:4A10:              	ends
 18329                        	efunc
 18330                        	.endfunc	2801,17,74
 18331                        	.line	2801
 18332                        	data
 18333                        L842:
 18334 00:0850: 6B 5F 67 75  	db	$6B,$5F,$67,$75,$69,$5F,$44,$72,$61,$77,
                    $57,$69,$6E,$64,$6F
       00:0854: 69 5F 44 72 
       00:0858: 61 77 57 69 
       00:085C: 6E 64 6F 
 18335 00:085F: 77 3A 3A 4E  	db	$77,$3A,$3A,$4E,$4F,$54,$20,$52,$45,$4E,
                    $44,$45,$52,$49,$4E
       00:0863: 4F 54 20 52 
       00:0867: 45 4E 44 45 
       00:086B: 52 49 4E 
 18336 00:086E: 47 3A 00     	db	$47,$3A,$00
  Sat Jul 10 2021  1:15                                                Page 337


 18337 00:0871:              	ends
 18338                        ;
 18339                        ;#ifdef MOMMY
 18340                        ;void k_vdraw_ui_window_2(PWINDOW pWin,ULONG style
                    ,int cx,int cy,int height,int width,char FAR *title,int colo
                    r, int bgcolor,UINT page)
 18341                        ;{
 18342                        ;	FONTMETRIC metric;
 18343                        ;
 18344                        ;	int i = 0;
 18345                        ;	int odd = 1;
 18346                        ;	int borderColor = 0;
 18347                        ;	int borderTitle = 0;
 18348                        ;	int borderWidth = 0;
 18349                        ;
 18350                        ;	int titleOffsetX = 0;
 18351                        ;	int titleOffsetY = 0;
 18352                        ;	int titleScaler = 0;
 18353                        ;
 18354                        ;	int clientOffsetX = 0;
 18355                        ;	int clientOffsetY = 0;
 18356                        ;
 18357                        ;	int currX = 0;
 18358                        ;	int currY = 0;
 18359                        ;
 18360                        ;	int endX = 0;
 18361                        ;
 18362                        ;	int maxminPos = 0;
 18363                        ;
 18364                        ;	int ncc = 0;
 18365                        ;	int gx,gy,bx,by;
 18366                        ;
 18367                        ;	int fillOffset = 2;  // correct the fill coordin
                    ates so the borders are the same size
 18368                        ;
 18369                        ;	RECT rect;
 18370                        ;
 18371                        ;	int extraStyle = (pWin->styleEx & FXWSX_CACHE_TI
                    TLE);
 18372                        ;	//k_debug_pointer("k_vdraw_ui_window:pWin:",pWin
                    );
 18373                        ;	/*
 18374                        ;	if(pWin->pParentWindow)
 18375                        ;	{
 18376                        ;		cx = k_getWindowFromHandle(pWin->pParent
                    Window)->clientRect.x + cx;
 18377                        ;		cy = k_getWindowFromHandle(pWin->pParent
                    Window)->clientRect.y + cy;
 18378                        ;		k_debug_strings("k_vdraw_ui_window::IS C
                    HILD:",title);
 18379                        ;		k_debug_integer("k_vdraw_ui_window:cx:",
                    cx);
 18380                        ;		k_debug_integer("k_vdraw_ui_window:cy:",
                    cy);
 18381                        ;		k_debug_integer("k_vdraw_ui_window:width
                    :",width);
 18382                        ;		k_debug_integer("k_vdraw_ui_window:heigh
                    t:",height);
  Sat Jul 10 2021  1:15                                                Page 338


 18383                        ;	}
 18384                        ;	*/
 18385                        ;
 18386                        ;	/*
 18387                        ;	if(title)
 18388                        ;	{
 18389                        ;		title[32] = 0;
 18390                        ;		k_debug_strings("k_vdraw_ui_window::IS C
                    HILD:",title);
 18391                        ;	}
 18392                        ;	else
 18393                        ;		k_debug_strings("k_vdraw_ui_window::IS C
                    HILD:","NULL");
 18394                        ;
 18395                        ;	k_debug_integer("k_vdraw_ui_window:cx:",cx);
 18396                        ;	k_debug_integer("k_vdraw_ui_window:cy:",cy);
 18397                        ;	k_debug_integer("k_vdraw_ui_window:width:",width
                    );
 18398                        ;	k_debug_integer("k_vdraw_ui_window:height:",heig
                    ht);
 18399                        ;	k_debug_integer("k_vdraw_ui_window:page:",page);
 18400                        ;	k_debug_rect("k_vdraw_ui_window:client:",&pWin->
                    clientRect);
 18401                        ;	*/
 18402                        ;
 18403                        ;	//k_debug_rect("k_vdraw_ui_window:client:",&pWin
                    ->clientRect);
 18404                        ;
 18405                        ;
 18406                        ;	gx = k_user_getSystemMetric(SM_CXGADGET);
 18407                        ;	gy = k_user_getSystemMetric(SM_CYGADGET);
 18408                        ;	bx = k_user_getSystemMetric(SM_CXBORDER);
 18409                        ;	by = k_user_getSystemMetric(SM_CYBORDER);
 18410                        ;
 18411                        ;	titleOffsetX = cx+2;
 18412                        ;	titleOffsetY = cy+1;
 18413                        ;
 18414                        ;	//k_debug_strings("k_vdraw_ui_window:","enter");
 18415                        ;
 18416                        ;	if(style & FXWS_VISIBLE != FXWS_VISIBLE)
 18417                        ;	{
 18418                        ;		k_debug_strings("k_vdraw_ui_window::NOT 
                    RENDERING:",title);
 18419                        ;		return;
 18420                        ;	}
 18421                        ;
 18422                        ;	//k_debug_strings("k_vdraw_ui_window::RENDERING:
                    ",title);
 18423                        ;
 18424                        ;	if(style & FXWS_THICKFRAME)
 18425                        ;	{
 18426                        ;		borderWidth = 2;
 18427                        ;	}
 18428                        ;	else if(style & FXWS_BORDER)
 18429                        ;	{
 18430                        ;		borderWidth = 1;
 18431                        ;	}
 18432                        ;	else if(style & FXWS_DLGFRAME)
  Sat Jul 10 2021  1:15                                                Page 339


 18433                        ;	{
 18434                        ;		borderWidth = 4;
 18435                        ;	}
 18436                        ;
 18437                        ;	if( ((style & FXWS_CAPTION) == FXWS_CAPTION) || 
                    (style & FXWS_SYSMENU) || (style & FXWS_MINIMIZEBOX) || (sty
                    le & FXWS_MAXIMIZEBOX))
 18438                        ;	{
 18439                        ;		borderTitle = 10;
 18440                        ;	}
 18441                        ;
 18442                        ;	clientOffsetX = cx + borderWidth;
 18443                        ;
 18444                        ;	if(borderTitle)
 18445                        ;		clientOffsetY = cy + borderTitle;
 18446                        ;	else
 18447                        ;		clientOffsetY = cy + borderWidth;
 18448                        ;
 18449                        ;	currX = clientOffsetX;
 18450                        ;	currY = clientOffsetY;
 18451                        ;
 18452                        ;	endX = width + cx - borderWidth;
 18453                        ;	maxminPos = 0;
 18454                        ;
 18455                        ;	k_vdma_fill_rect_ex(cx,cy,width,height,bgcolor,p
                    age);
 18456                        ;
 18457                        ;
 18458                        ;	borderColor = color;
 18459                        ;	for(i=0;i<borderWidth;i++)
 18460                        ;	{
 18461                        ;		if(borderWidth > 2)
 18462                        ;		{
 18463                        ;			borderColor = color;
 18464                        ;			odd=!odd;
 18465                        ;			if(odd)
 18466                        ;			{
 18467                        ;				borderColor = 0;
 18468                        ;			}
 18469                        ;		}
 18470                        ;
 18471                        ;		k_draw_rect(cx + i + 0,
 18472                        ;					cy + i + 0,
 18473                        ;					cx + width  - 1 
                    - i,
 18474                        ;					cy + height - 1 
                    - i,
 18475                        ;					borderColor,
 18476                        ;					0,
 18477                        ;					page);
 18478                        ;
 18479                        ;	}
 18480                        ;
 18481                        ;
 18482                        ;
 18483                        ;	if(borderTitle)
 18484                        ;	{
 18485                        ;		k_vdma_fill_rect_ex(cx,cy,width,borderTi
  Sat Jul 10 2021  1:15                                                Page 340


                    tle,color,page);
 18486                        ;	}
 18487                        ;
 18488                        ;	k_get_font_metrics(&metric);
 18489                        ;
 18490                        ;
 18491                        ;	//title = strupr(title);
 18492                        ;
 18493                        ;	//FXWS_OVERLAPPED | FXWS_CAPTION | FXWS_SYSMENU 
                    | FXWS_THICKFRAME | FXWS_MINIMIZEBOX | FXWS_MAXIMIZEBOX
 18494                        ;
 18495                        ;	if(style & FXWS_SYSMENU)
 18496                        ;	{
 18497                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),titleOffsetX,titleOffsetY,gx,gx);
 18498                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_WINDOW_CLOSE;
 18499                        ;
 18500                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_SYSMENU");
 18501                        ;		titleOffsetX+=k_put_wingadget_point_ex(W
                    INICON_TITLE_BCLOSE,titleOffsetX,titleOffsetY,k_getUIGadgetC
                    olor(),page);
 18502                        ;
 18503                        ;	}
 18504                        ;
 18505                        ;	if((style & FXWS_CAPTION) == FXWS_CAPTION)
 18506                        ;	{
 18507                        ;
 18508                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_CAPTION");
 18509                        ;		//titleScaler = (int)(width / metric.wid
                    th - 3);
 18510                        ;		titleScaler = (int)((width / metric.widt
                    h) - 1);
 18511                        ;
 18512                        ;		//k_debug_integer("k_vdraw_ui_window:tit
                    leScaler1:",titleScaler * 8);
 18513                        ;
 18514                        ;
 18515                        ;		//titleScaler = (width - (borderWidth * 
                    2));
 18516                        ;		//k_debug_integer("k_vdraw_ui_window:tit
                    leScaler2:",(width - (borderWidth * 2)));
 18517                        ;
 18518                        ;		/*
 18519                        ;		if(!k_gui_get_title_cache(NULL))
 18520                        ;		{
 18521                        ;			k_gui_build_title_cache(NULL);
 18522                        ;		}
 18523                        ;
 18524                        ;		if(k_gui_get_title_cache(NULL))
 18525                        ;		{
 18526                        ;			k_vdma_copy_address_ex((LPSTR)((
                    ULONG)0x080000 + k_gui_get_pixel_offset(titleOffsetX,titleOf
                    fsetY)),TITLE_LINES_640x480,titleScaler * 8,8);
 18527                        ;		}
 18528                        ;		else
  Sat Jul 10 2021  1:15                                                Page 341


 18529                        ;		{
 18530                        ;			k_gui_build_title_cache(NULL);
 18531                        ;			for(i=0;i<titleScaler;i++)
 18532                        ;			{
 18533                        ;				titleOffsetX+=k_put_wing
                    adget_point_ex(WINICON_TITLE_LINES,titleOffsetX,titleOffsetY
                    ,k_getUIGadgetColor(),page);
 18534                        ;			}
 18535                        ;		}
 18536                        ;
 18537                        ;		k_gui_build_title_cache(NULL);
 18538                        ;		*/
 18539                        ;
 18540                        ;		//
 18541                        ;		// set lines in title with blt
 18542                        ;		//
 18543                        ;		rect.x = titleOffsetX;
 18544                        ;		rect.y = titleOffsetY;
 18545                        ;		rect.width  = (titleScaler * 8)  - (bord
                    erWidth * 2);
 18546                        ;		rect.height = 8;
 18547                        ;		k_gui_get_image_cache(0,0x080000,&rect);
 18548                        ;		//
 18549                        ;		//
 18550                        ;		//
 18551                        ;
 18552                        ;
 18553                        ;		/*
 18554                        ;		for(i=0;i<titleScaler;i++)
 18555                        ;		{
 18556                        ;			titleOffsetX+=k_put_wingadget_po
                    int_ex(WINICON_TITLE_LINES,titleOffsetX,titleOffsetY,k_getUI
                    GadgetColor(),page);
 18557                        ;		}
 18558                        ;		*/
 18559                        ;
 18560                        ;		//k_vdma_copy_address_ex((LPSTR)((ULONG)
                    0x080000 + k_gui_get_pixel_offset(0,440)),TITLE_LINES_640x48
                    0,titleScaler * 8,8);
 18561                        ;
 18562                        ;
 18563                        ;
 18564                        ;
 18565                        ;	}
 18566                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_BACK,titleOffsetX,titleOffsetY,14);
 18567                        ;	//titleOffsetX+=2;
 18568                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_FRONT,titleOffsetX,titleOffsetY,14);
 18569                        ;
 18570                        ;	if(style & FXWS_MAXIMIZEBOX)
 18571                        ;	{
 18572                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_MAXIMIZEBOX");
 18573                        ;		maxminPos+=metric.width;
 18574                        ;		//k_put_wingadget_point(WINICON_BLOCK,en
                    dX - (metric.width),titleOffsetY,k_getUIWindowBorderColor())
                    ;
  Sat Jul 10 2021  1:15                                                Page 342


 18575                        ;		//k_put_wingadget_point(WINICON_TITLE_FR
                    ONT,endX - (metric.width),titleOffsetY,k_getUIGadgetColor())
                    ;
 18576                        ;
 18577                        ;		k_put_wingadget_point_ex(WINICON_BLOCK,e
                    ndX - maxminPos,titleOffsetY,k_getUIWindowBorderColor(),page
                    );
 18578                        ;		k_put_wingadget_point_ex(WINICON_TITLE_F
                    RONT,endX - maxminPos,titleOffsetY,k_getUIGadgetColor(),page
                    );
 18579                        ;
 18580                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),endX - maxminPos,titleOffsetY,gx,gx);
 18581                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_MAX_WINDOW;
 18582                        ;
 18583                        ;		maxminPos+=2;
 18584                        ;	}
 18585                        ;
 18586                        ;	if(style & FXWS_MINIMIZEBOX)
 18587                        ;	{
 18588                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_MINIMIZEBOX");
 18589                        ;		maxminPos+=metric.width;
 18590                        ;		//k_put_wingadget_point(WINICON_BLOCK,en
                    dX - (metric.width*2 + 2),titleOffsetY,k_getUIWindowBorderCo
                    lor());
 18591                        ;		//k_put_wingadget_point(WINICON_TITLE_BA
                    CK,endX - (metric.width*2 + 2),titleOffsetY,k_getUIGadgetCol
                    or());
 18592                        ;
 18593                        ;		k_put_wingadget_point_ex(WINICON_BLOCK,e
                    ndX - maxminPos,titleOffsetY,k_getUIWindowBorderColor(),page
                    );
 18594                        ;		k_put_wingadget_point_ex(WINICON_TITLE_B
                    ACK,endX - maxminPos,titleOffsetY,k_getUIGadgetColor(),page)
                    ;
 18595                        ;
 18596                        ;
 18597                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),endX - maxminPos,titleOffsetY,gx,gx);
 18598                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_MIN_WINDOW;
 18599                        ;
 18600                        ;		maxminPos+=2;
 18601                        ;	}
 18602                        ;
 18603                        ;	if((style & FXWS_CAPTION) == FXWS_CAPTION)
 18604                        ;	{
 18605                        ;		/*
 18606                        ;		if(!k_gui_get_title_cache(NULL))
 18607                        ;		{
 18608                        ;			k_gui_build_title_cache(NULL);
 18609                        ;		}
 18610                        ;		*/
 18611                        ;		/*
 18612                        ;		for(i=0;i<=strlen(title);i++)
 18613                        ;		{
  Sat Jul 10 2021  1:15                                                Page 343


 18614                        ;			k_put_wingadget_point_ex(WINICON
                    _BLOCK,cx+borderWidth+metric.width+(metric.width*i),titleOff
                    setY,15,page);
 18615                        ;		}
 18616                        ;		*/
 18617                        ;		k_user_SetRect(&rect,cx+borderWidth+metr
                    ic.width,titleOffsetY,(strlen(title) + 1)*8,8);
 18618                        ;
 18619                        ;		if(extraStyle && pWin->clientData[CLIENT
                    DATA_TITLE])
 18620                        ;		{
 18621                        ;			//k_debug_strings("k_vdraw_ui_wi
                    ndow::CLIENTDATA_TITLE:","DRAW");
 18622                        ;			k_user_SetRect(&rect,cx+borderWi
                    dth+metric.width,titleOffsetY,(strlen(title) + 1)*8,8);
 18623                        ;			k_gui_get_image_cache((UINT)((UL
                    ONG)pWin->clientData[CLIENTDATA_TITLE]),GUI_CACHE_BACK,&rect
                    );
 18624                        ;		}
 18625                        ;		else
 18626                        ;		{
 18627                        ;			k_debug_integer("k_vdraw_ui_wind
                    ow::CLIENTDATA_TITLE:",extraStyle);
 18628                        ;			k_vdma_fill_rect_ex(cx+borderWid
                    th+metric.width,titleOffsetY,
 18629                        ;							
                    	(strlen(title) + 1)*8,8,15,BITMAP_BACK);
 18630                        ;
 18631                        ;			k_draw_text_point_ex(title,cx+(b
                    orderWidth + 3)+metric.width,titleOffsetY,k_getUIGadgetColor
                    (),page);
 18632                        ;			if(extraStyle)
 18633                        ;			{
 18634                        ;				k_user_SetRect(&rect,cx+
                    borderWidth+metric.width,titleOffsetY,(strlen(title) + 1)*8,
                    8);
 18635                        ;				pWin->clientData[CLIENTD
                    ATA_TITLE] = (LPVOID)((ULONG)k_gui_set_image_cache(GUI_CACHE
                    _BACK,&rect));
 18636                        ;
 18637                        ;				k_debug_pointer("k_vdraw
                    _ui_window::CLIENTDATA_TITLE:",pWin->clientData[CLIENTDATA_T
                    ITLE] );
 18638                        ;			}
 18639                        ;		}
 18640                        ;
 18641                        ;
 18642                        ;
 18643                        ;		/*
 18644                        ;		k_vdma_copy_address_ex((LPSTR)((ULONG)0x
                    080000 + k_gui_get_pixel_offset(0,420)),TITLE_LINES_640x480,
                    640,8);
 18645                        ;
 18646                        ;		k_vdma_copy_address_ex((LPSTR)((ULONG)0x
                    200000 + k_gui_get_pixel_offset(0,460)),
 18647                        ;							
                       (LPSTR)((ULONG)0x080000 + k_gui_get_pixel_offset(cx+(bord
                    erWidth + 3)+metric.width,titleOffsetY)),
  Sat Jul 10 2021  1:15                                                Page 344


 18648                        ;							
                       strlen(title)*8,8);
 18649                        ;
 18650                        ;		k_vdma_copy_address_ex((LPSTR)((ULONG)0x
                    080000 + k_gui_get_pixel_offset(100,460)),
 18651                        ;							
                       (LPSTR)((ULONG)0x200000 + k_gui_get_pixel_offset(0,460)),
 18652                        ;							
                       strlen(title)*8,8);
 18653                        ;		*/
 18654                        ;
 18655                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),
 18656                        ;				   pWin->win_x + gx,
 18657                        ;				   pWin->win_y,
 18658                        ;				   pWin->win_width - gx,
 18659                        ;				   borderTitle);
 18660                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_DRAG_WINDOW;
 18661                        ;
 18662                        ;	}
 18663                        ;	else
 18664                        ;	{
 18665                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),
 18666                        ;				   pWin->win_x + gx,
 18667                        ;				   pWin->win_y,
 18668                        ;				   pWin->win_width - gx,
 18669                        ;				   borderWidth);
 18670                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_DRAG_WINDOW;
 18671                        ;	}
 18672                        ;
 18673                        ;	//k_debug_integer("k_vdraw_ui_window::(clientOff
                    setY - height):",(clientOffsetY - pWin->clientRect.y));
 18674                        ;	//k_debug_integer("k_vdraw_ui_window::((clientOf
                    fsetY - height) + borderWidth):",((clientOffsetY - pWin->cli
                    entRect.y) + borderWidth));
 18675                        ;
 18676                        ;	pWin->clientRect.width  = (width - (2*borderWidt
                    h));
 18677                        ;	pWin->clientRect.height = height - ((clientOffse
                    tY - pWin->clientRect.y) + borderWidth);
 18678                        ;
 18679                        ;	k_debug_integer("k_vdraw_ui_window::clientRect.w
                    idth:", pWin->clientRect.width);
 18680                        ;	k_debug_integer("k_vdraw_ui_window::clientRect.h
                    eight:",pWin->clientRect.height);
 18681                        ;
 18682                        ;
 18683                        ;	pWin->clientRect.x      = clientOffsetX;
 18684                        ;	pWin->clientRect.y      = clientOffsetY;
 18685                        ;
 18686                        ;	if(pWin->win_cxoffset == -1)
 18687                        ;	{
 18688                        ;		pWin->win_cxoffset 	= pWin->clientRe
                    ct.x - pWin->win_x;
 18689                        ;		pWin->win_cyoffset 	= pWin->clientRe
  Sat Jul 10 2021  1:15                                                Page 345


                    ct.y - pWin->win_y;
 18690                        ;	}
 18691                        ;
 18692                        ;	k_set_rect(&(pWin->nonclientGadgets[ncc].area),
 18693                        ;			   pWin->win_x + pWin->win_width
                      - 4,
 18694                        ;			   pWin->win_y + pWin->win_heigh
                    t - 4,
 18695                        ;			   4,
 18696                        ;			   4);
 18697                        ;	pWin->nonclientGadgets[ncc++].msgType = FX_RESIZ
                    E_WINDOW;
 18698                        ;
 18699                        ;
 18700                        ;	k_draw_rect(pWin->win_x - 1,
 18701                        ;				pWin->win_y - 1,
 18702                        ;				(pWin->win_x) + pWin->wi
                    n_width  ,
 18703                        ;				(pWin->win_y) + pWin->wi
                    n_height ,
 18704                        ;				k_getUIGadgetColor(),
 18705                        ;				0,
 18706                        ;				page);
 18707                        ;
 18708                        ;	k_draw_rect(pWin->clientRect.x - 1,
 18709                        ;				pWin->clientRect.y - 1,
 18710                        ;				pWin->clientRect.x + pWi
                    n->clientRect.width ,
 18711                        ;				pWin->clientRect.y + pWi
                    n->clientRect.height,
 18712                        ;				k_getUIGadgetColor(),
 18713                        ;				0,
 18714                        ;				page);
 18715                        ;	//k_debug_rect("k_vdraw_ui_window:client[resized
                    ]:",&pWin->clientRect);
 18716                        ;
 18717                        ;	k_set_rect(&(pWin->nonclientGadgets[ncc].area),-
                    1,-1,-1,-1);
 18718                        ;
 18719                        ;
 18720                        ;	//k_debug_strings("k_vdraw_ui_window:","exit");
 18721                        ;}
 18722                        ;#endif
 18723                        ;
 18724                        ;void k_vdraw_ui_window_ex(PWINDOW pWin,ULONG styl
                    e,int cx,int cy,int height,int width,char FAR *title,int col
                    or, int bgcolor,UINT page)
 18725                        ;{
 18726                        	.line	3188
 18727                        	.line	3189
 18728                        	GFX
 18729                        	xdef	~~k_vdraw_ui_window_ex
 18730                        	func
 18731                        	.function	3189
 18732                        ~~k_vdraw_ui_window_ex:
 18733                        	longa	on
 18734                        	longi	on
 18735 06:4A10: 3B           	tsc
  Sat Jul 10 2021  1:15                                                Page 346


 18736 06:4A11: 38           	sec
 18737 06:4A12: E9 48 00     	sbc	#L902
 18738 06:4A15: 1B           	tcs
 18739 06:4A16: 0B           	phd
 18740 06:4A17: 5B           	tcd
 18741             00000004   pWin_0	set	4
 18742             00000008   style_0	set	8
 18743             0000000C   cx_0	set	12
 18744             0000000E   cy_0	set	14
 18745             00000010   height_0	set	16
 18746             00000012   width_0	set	18
 18747             00000014   title_0	set	20
 18748             00000018   color_0	set	24
 18749             0000001A   bgcolor_0	set	26
 18750             0000001C   page_0	set	28
 18751                        	.block	3189
 18752                        ;
 18753                        ;	//TODO: FXWS_DLGFRAME is broken
 18754                        ;
 18755                        ;	FONTMETRIC metric;
 18756                        ;	
 18757                        ;	int i = 0;
 18758                        ;	int odd = 1;
 18759                        ;	int borderColor = 0;
 18760                        ;	int borderTitle = 0;
 18761                        ;	int borderWidth = 0;
 18762                        ;
 18763                        ;	int titleOffsetX = 0;
 18764                        ;	int titleOffsetY = 0;
 18765                        ;	int titleScaler = 0;
 18766                        ;	
 18767                        ;	int clientOffsetX = 0;
 18768                        ;	int clientOffsetY = 0;
 18769                        ;	
 18770                        ;	int currX = 0;
 18771                        ;	int currY = 0;
 18772                        ;	
 18773                        ;	int endX = 0;
 18774                        ;	
 18775                        ;	int maxminPos = 0;
 18776                        ;
 18777                        ;	int ncc = 0;
 18778                        ;	int gx,gy,bx,by;
 18779                        ;
 18780                        ;	int fillOffset = 2;  // correct the fill coordin
                    ates so the borders are the same size
 18781                        ;
 18782                        ;	RECT rect;
 18783                        ;
 18784                        ;	int extraStyle = (pWin->styleEx & FXWSX_CACHE_TI
                    TLE);
 18785                        ;	//k_debug_pointer("k_vdraw_ui_window:pWin:",pWin
                    );
 18786                        ;	/*
 18787                        ;	if(pWin->pParentWindow)
 18788                        ;	{
 18789                        ;		cx = k_getWindowFromHandle(pWin->pParent
                    Window)->clientRect.x + cx;
  Sat Jul 10 2021  1:15                                                Page 347


 18790                        ;		cy = k_getWindowFromHandle(pWin->pParent
                    Window)->clientRect.y + cy;
 18791                        ;		k_debug_strings("k_vdraw_ui_window::IS C
                    HILD:",title);
 18792                        ;		k_debug_integer("k_vdraw_ui_window:cx:",
                    cx);
 18793                        ;		k_debug_integer("k_vdraw_ui_window:cy:",
                    cy);
 18794                        ;		k_debug_integer("k_vdraw_ui_window:width
                    :",width);
 18795                        ;		k_debug_integer("k_vdraw_ui_window:heigh
                    t:",height);
 18796                        ;	}
 18797                        ;	*/
 18798                        ;
 18799                        ;	/*
 18800                        ;	if(title)
 18801                        ;	{
 18802                        ;		title[32] = 0;
 18803                        ;		k_debug_strings("k_vdraw_ui_window::IS C
                    HILD:",title);
 18804                        ;	}
 18805                        ;	else
 18806                        ;		k_debug_strings("k_vdraw_ui_window::IS C
                    HILD:","NULL");
 18807                        ;
 18808                        ;	k_debug_integer("k_vdraw_ui_window:cx:",cx);
 18809                        ;	k_debug_integer("k_vdraw_ui_window:cy:",cy);
 18810                        ;	k_debug_integer("k_vdraw_ui_window:width:",width
                    );
 18811                        ;	k_debug_integer("k_vdraw_ui_window:height:",heig
                    ht);
 18812                        ;	k_debug_integer("k_vdraw_ui_window:page:",page);
 18813                        ;	k_debug_rect("k_vdraw_ui_window:client:",&pWin->
                    clientRect);
 18814                        ;	*/
 18815                        ;
 18816                        ;	//k_debug_rect("k_vdraw_ui_window:client:",&pWin
                    ->clientRect);
 18817                        ;
 18818                        ;
 18819                        ;	gx = k_user_getSystemMetric(SM_CXGADGET);
 18820             00000000   metric_1	set	0
 18821             00000004   i_1	set	4
 18822             00000006   odd_1	set	6
 18823             00000008   borderColor_1	set	8
 18824             0000000A   borderTitle_1	set	10
 18825             0000000C   borderWidth_1	set	12
 18826             0000000E   titleOffsetX_1	set	14
 18827             00000010   titleOffsetY_1	set	16
 18828             00000012   titleScaler_1	set	18
 18829             00000014   clientOffsetX_1	set	20
 18830             00000016   clientOffsetY_1	set	22
 18831             00000018   currX_1	set	24
 18832             0000001A   currY_1	set	26
 18833             0000001C   endX_1	set	28
 18834             0000001E   maxminPos_1	set	30
 18835             00000020   ncc_1	set	32
  Sat Jul 10 2021  1:15                                                Page 348


 18836             00000022   gx_1	set	34
 18837             00000024   gy_1	set	36
 18838             00000026   bx_1	set	38
 18839             00000028   by_1	set	40
 18840             0000002A   fillOffset_1	set	42
 18841             0000002C   rect_1	set	44
 18842             0000003A   extraStyle_1	set	58
 18843                        	.sym	metric,0,10,1,32,35
 18844                        	.sym	i,4,5,1,16
 18845                        	.sym	odd,6,5,1,16
 18846                        	.sym	borderColor,8,5,1,16
 18847                        	.sym	borderTitle,10,5,1,16
 18848                        	.sym	borderWidth,12,5,1,16
 18849                        	.sym	titleOffsetX,14,5,1,16
 18850                        	.sym	titleOffsetY,16,5,1,16
 18851                        	.sym	titleScaler,18,5,1,16
 18852                        	.sym	clientOffsetX,20,5,1,16
 18853                        	.sym	clientOffsetY,22,5,1,16
 18854                        	.sym	currX,24,5,1,16
 18855                        	.sym	currY,26,5,1,16
 18856                        	.sym	endX,28,5,1,16
 18857                        	.sym	maxminPos,30,5,1,16
 18858                        	.sym	ncc,32,5,1,16
 18859                        	.sym	gx,34,5,1,16
 18860                        	.sym	gy,36,5,1,16
 18861                        	.sym	bx,38,5,1,16
 18862                        	.sym	by,40,5,1,16
 18863                        	.sym	fillOffset,42,5,1,16
 18864                        	.sym	rect,44,10,1,112,26
 18865                        	.sym	extraStyle,58,5,1,16
 18866                        	.sym	pWin,4,138,6,32,33
 18867                        	.sym	style,8,18,6,32
 18868                        	.sym	cx,12,5,6,16
 18869                        	.sym	cy,14,5,6,16
 18870                        	.sym	height,16,5,6,16
 18871                        	.sym	width,18,5,6,16
 18872                        	.sym	title,20,142,6,32
 18873                        	.sym	color,24,5,6,16
 18874                        	.sym	bgcolor,26,5,6,16
 18875                        	.sym	page,28,16,6,16
 18876 06:4A18: 64 11        	stz	<L903+i_1
 18877 06:4A1A: A9 01 00     	lda	#$1
 18878 06:4A1D: 85 13        	sta	<L903+odd_1
 18879 06:4A1F: 64 15        	stz	<L903+borderColor_1
 18880 06:4A21: 64 17        	stz	<L903+borderTitle_1
 18881 06:4A23: 64 19        	stz	<L903+borderWidth_1
 18882 06:4A25: 64 1B        	stz	<L903+titleOffsetX_1
 18883 06:4A27: 64 1D        	stz	<L903+titleOffsetY_1
 18884 06:4A29: 64 1F        	stz	<L903+titleScaler_1
 18885 06:4A2B: 64 21        	stz	<L903+clientOffsetX_1
 18886 06:4A2D: 64 23        	stz	<L903+clientOffsetY_1
 18887 06:4A2F: 64 25        	stz	<L903+currX_1
 18888 06:4A31: 64 27        	stz	<L903+currY_1
 18889 06:4A33: 64 29        	stz	<L903+endX_1
 18890 06:4A35: 64 2B        	stz	<L903+maxminPos_1
 18891 06:4A37: 64 2D        	stz	<L903+ncc_1
 18892 06:4A39: A9 02 00     	lda	#$2
 18893 06:4A3C: 85 37        	sta	<L903+fillOffset_1
  Sat Jul 10 2021  1:15                                                Page 349


 18894 06:4A3E: A0 06 00     	ldy	#$6
 18895 06:4A41: B7 4C        	lda	[<L902+pWin_0],Y
 18896 06:4A43: 29 02 00     	and	#<$2
 18897 06:4A46: 85 01        	sta	<R0
 18898 06:4A48: 64 03        	stz	<R0+2
 18899 06:4A4A: A5 01        	lda	<R0
 18900 06:4A4C: 85 47        	sta	<L903+extraStyle_1
 18901                        	.line	3257
 18902 06:4A4E: F4 18 00     	pea	#<$18
 18903 06:4A51: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 18904 06:4A55: 85 2F        	sta	<L903+gx_1
 18905                        ;	gy = k_user_getSystemMetric(SM_CYGADGET);
 18906                        	.line	3258
 18907 06:4A57: F4 19 00     	pea	#<$19
 18908 06:4A5A: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 18909 06:4A5E: 85 31        	sta	<L903+gy_1
 18910                        ;	bx = k_user_getSystemMetric(SM_CXBORDER);
 18911                        	.line	3259
 18912 06:4A60: F4 05 00     	pea	#<$5
 18913 06:4A63: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 18914 06:4A67: 85 33        	sta	<L903+bx_1
 18915                        ;	by = k_user_getSystemMetric(SM_CYBORDER);
 18916                        	.line	3260
 18917 06:4A69: F4 06 00     	pea	#<$6
 18918 06:4A6C: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 18919 06:4A70: 85 35        	sta	<L903+by_1
 18920                        ;
 18921                        ;	titleOffsetX = cx+2;
 18922                        	.line	3262
 18923 06:4A72: 18           	clc
 18924 06:4A73: A9 02 00     	lda	#$2
 18925 06:4A76: 65 54        	adc	<L902+cx_0
 18926 06:4A78: 85 1B        	sta	<L903+titleOffsetX_1
 18927                        ;	titleOffsetY = cy+1;
 18928                        	.line	3263
 18929 06:4A7A: A5 56        	lda	<L902+cy_0
 18930 06:4A7C: 1A           	ina
 18931 06:4A7D: 85 1D        	sta	<L903+titleOffsetY_1
 18932                        ;
 18933                        ;	//k_debug_strings("k_vdraw_ui_window:","enter");
 18934                        ;
 18935                        ;	if(style & FXWS_VISIBLE != FXWS_VISIBLE)
 18936                        	.line	3267
 18937                        ;	{
 18938 06:4A7F: 82 1E 00     	brl	L10372
 18939                        	.line	3268
 18940                        ;		k_debug_strings("k_vdraw_ui_window::NOT 
                    RENDERING:",title);
 18941                        	.line	3269
 18942 06:4A82: D4 5E        	pei	<L902+title_0+2
 18943 06:4A84: D4 5C        	pei	<L902+title_0
 18944 06:4A86: F4 xx xx     	pea	#^L901
 18945 06:4A89: F4 xx xx     	pea	#<L901
 18946 06:4A8C: 22 xx xx xx  	jsl	~~k_debug_strings
 18947                        ;		return;
 18948                        	.line	3270
 18949                        L905:
 18950 06:4A90: A5 4A        	lda	<L902+2
  Sat Jul 10 2021  1:15                                                Page 350


 18951 06:4A92: 85 64        	sta	<L902+2+26
 18952 06:4A94: A5 49        	lda	<L902+1
 18953 06:4A96: 85 63        	sta	<L902+1+26
 18954 06:4A98: 2B           	pld
 18955 06:4A99: 3B           	tsc
 18956 06:4A9A: 18           	clc
 18957 06:4A9B: 69 62 00     	adc	#L902+26
 18958 06:4A9E: 1B           	tcs
 18959 06:4A9F: 6B           	rtl
 18960                        ;	}
 18961                        	.line	3271
 18962                        ;
 18963                        ;	//k_debug_strings("k_vdraw_ui_window::RENDERING:
                    ",title);
 18964                        ;
 18965                        ;	if(style & FXWS_THICKFRAME)
 18966                        L10372:
 18967                        	.line	3275
 18968                        ;	{
 18969 06:4AA0: A5 52        	lda	<L902+style_0+2
 18970 06:4AA2: 29 02 00     	and	#^$20000
 18971 06:4AA5: D0 03        	bne	L906
 18972 06:4AA7: 82 08 00     	brl	L10373
 18973                        L906:
 18974                        	.line	3276
 18975                        ;		borderWidth = 2;
 18976                        	.line	3277
 18977 06:4AAA: A9 02 00     	lda	#$2
 18978 06:4AAD: 85 19        	sta	<L903+borderWidth_1
 18979                        ;	}
 18980                        	.line	3278
 18981                        ;	else if(style & FXWS_BORDER)
 18982 06:4AAF: 82 21 00     	brl	L10374
 18983                        L10373:
 18984                        	.line	3279
 18985                        ;	{
 18986 06:4AB2: A5 52        	lda	<L902+style_0+2
 18987 06:4AB4: 29 01 00     	and	#^$10000
 18988 06:4AB7: D0 03        	bne	L907
 18989 06:4AB9: 82 08 00     	brl	L10375
 18990                        L907:
 18991                        	.line	3280
 18992                        ;		borderWidth = 1;
 18993                        	.line	3281
 18994 06:4ABC: A9 01 00     	lda	#$1
 18995 06:4ABF: 85 19        	sta	<L903+borderWidth_1
 18996                        ;	}
 18997                        	.line	3282
 18998                        ;	else if(style & FXWS_DLGFRAME)
 18999 06:4AC1: 82 0F 00     	brl	L10376
 19000                        L10375:
 19001                        	.line	3283
 19002                        ;	{
 19003 06:4AC4: A5 52        	lda	<L902+style_0+2
 19004 06:4AC6: 29 04 00     	and	#^$40000
 19005 06:4AC9: D0 03        	bne	L908
 19006 06:4ACB: 82 05 00     	brl	L10377
 19007                        L908:
  Sat Jul 10 2021  1:15                                                Page 351


 19008                        	.line	3284
 19009                        ;		borderWidth = 4;
 19010                        	.line	3285
 19011 06:4ACE: A9 04 00     	lda	#$4
 19012 06:4AD1: 85 19        	sta	<L903+borderWidth_1
 19013                        ;	}
 19014                        	.line	3286
 19015                        ;
 19016                        ;	if( ((style & FXWS_CAPTION) == FXWS_CAPTION) || 
                    (style & FXWS_SYSMENU) || (style & FXWS_MINIMIZEBOX) || (sty
                    le & FXWS_MAXIMIZEBOX))
 19017                        L10377:
 19018                        L10376:
 19019                        L10374:
 19020                        	.line	3288
 19021                        ;	{
 19022 06:4AD3: A5 50        	lda	<L902+style_0
 19023 06:4AD5: 29 04 00     	and	#<$4
 19024 06:4AD8: 85 01        	sta	<R0
 19025 06:4ADA: 64 03        	stz	<R0+2
 19026 06:4ADC: A5 01        	lda	<R0
 19027 06:4ADE: C9 04 00     	cmp	#<$4
 19028 06:4AE1: D0 05        	bne	L910
 19029 06:4AE3: A5 03        	lda	<R0+2
 19030 06:4AE5: C9 00 00     	cmp	#^$4
 19031                        L910:
 19032 06:4AE8: D0 03        	bne	L911
 19033 06:4AEA: 82 1E 00     	brl	L909
 19034                        L911:
 19035 06:4AED: A5 50        	lda	<L902+style_0
 19036 06:4AEF: 29 08 00     	and	#<$8
 19037 06:4AF2: F0 03        	beq	L912
 19038 06:4AF4: 82 14 00     	brl	L909
 19039                        L912:
 19040 06:4AF7: A5 50        	lda	<L902+style_0
 19041 06:4AF9: 29 20 00     	and	#<$20
 19042 06:4AFC: F0 03        	beq	L913
 19043 06:4AFE: 82 0A 00     	brl	L909
 19044                        L913:
 19045 06:4B01: A5 50        	lda	<L902+style_0
 19046 06:4B03: 29 10 00     	and	#<$10
 19047 06:4B06: D0 03        	bne	L914
 19048 06:4B08: 82 05 00     	brl	L10378
 19049                        L914:
 19050                        L909:
 19051                        	.line	3289
 19052                        ;		borderTitle = 10;
 19053                        	.line	3290
 19054 06:4B0B: A9 0A 00     	lda	#$a
 19055 06:4B0E: 85 17        	sta	<L903+borderTitle_1
 19056                        ;	}
 19057                        	.line	3291
 19058                        ;
 19059                        ;	clientOffsetX = cx + borderWidth;
 19060                        L10378:
 19061                        	.line	3293
 19062 06:4B10: 18           	clc
 19063 06:4B11: A5 54        	lda	<L902+cx_0
  Sat Jul 10 2021  1:15                                                Page 352


 19064 06:4B13: 65 19        	adc	<L903+borderWidth_1
 19065 06:4B15: 85 21        	sta	<L903+clientOffsetX_1
 19066                        ;
 19067                        ;	if(borderTitle)
 19068                        	.line	3295
 19069                        ;		clientOffsetY = cy + borderTitle;
 19070 06:4B17: A5 17        	lda	<L903+borderTitle_1
 19071 06:4B19: D0 03        	bne	L915
 19072 06:4B1B: 82 0A 00     	brl	L10379
 19073                        L915:
 19074                        	.line	3296
 19075 06:4B1E: 18           	clc
 19076 06:4B1F: A5 56        	lda	<L902+cy_0
 19077 06:4B21: 65 17        	adc	<L903+borderTitle_1
 19078 06:4B23: 85 23        	sta	<L903+clientOffsetY_1
 19079                        ;	else
 19080 06:4B25: 82 07 00     	brl	L10380
 19081                        L10379:
 19082                        ;		clientOffsetY = cy + borderWidth;
 19083                        	.line	3298
 19084 06:4B28: 18           	clc
 19085 06:4B29: A5 56        	lda	<L902+cy_0
 19086 06:4B2B: 65 19        	adc	<L903+borderWidth_1
 19087 06:4B2D: 85 23        	sta	<L903+clientOffsetY_1
 19088                        L10380:
 19089                        ;
 19090                        ;	currX = clientOffsetX;
 19091                        	.line	3300
 19092 06:4B2F: A5 21        	lda	<L903+clientOffsetX_1
 19093 06:4B31: 85 25        	sta	<L903+currX_1
 19094                        ;	currY = clientOffsetY;
 19095                        	.line	3301
 19096 06:4B33: A5 23        	lda	<L903+clientOffsetY_1
 19097 06:4B35: 85 27        	sta	<L903+currY_1
 19098                        ;
 19099                        ;	endX = width + cx - borderWidth;
 19100                        	.line	3303
 19101 06:4B37: 18           	clc
 19102 06:4B38: A5 5A        	lda	<L902+width_0
 19103 06:4B3A: 65 54        	adc	<L902+cx_0
 19104 06:4B3C: 85 01        	sta	<R0
 19105 06:4B3E: 38           	sec
 19106 06:4B3F: A5 01        	lda	<R0
 19107 06:4B41: E5 19        	sbc	<L903+borderWidth_1
 19108 06:4B43: 85 29        	sta	<L903+endX_1
 19109                        ;	maxminPos = 0;
 19110                        	.line	3304
 19111 06:4B45: 64 2B        	stz	<L903+maxminPos_1
 19112                        ;
 19113                        ;	k_vdma_fill_rect_ex(cx,cy,width,height,bgcolor,p
                    age);
 19114                        	.line	3306
 19115 06:4B47: D4 64        	pei	<L902+page_0
 19116 06:4B49: D4 62        	pei	<L902+bgcolor_0
 19117 06:4B4B: D4 58        	pei	<L902+height_0
 19118 06:4B4D: D4 5A        	pei	<L902+width_0
 19119 06:4B4F: A0 00 00     	ldy	#$0
 19120 06:4B52: A5 56        	lda	<L902+cy_0
  Sat Jul 10 2021  1:15                                                Page 353


 19121 06:4B54: 10 01        	bpl	L916
 19122 06:4B56: 88           	dey
 19123                        L916:
 19124 06:4B57: 85 01        	sta	<R0
 19125 06:4B59: 84 03        	sty	<R0+2
 19126 06:4B5B: D4 03        	pei	<R0+2
 19127 06:4B5D: D4 01        	pei	<R0
 19128 06:4B5F: A0 00 00     	ldy	#$0
 19129 06:4B62: A5 54        	lda	<L902+cx_0
 19130 06:4B64: 10 01        	bpl	L917
 19131 06:4B66: 88           	dey
 19132                        L917:
 19133 06:4B67: 85 05        	sta	<R1
 19134 06:4B69: 84 07        	sty	<R1+2
 19135 06:4B6B: D4 07        	pei	<R1+2
 19136 06:4B6D: D4 05        	pei	<R1
 19137 06:4B6F: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 19138                        ;
 19139                        ;
 19140                        ;	borderColor = color;
 19141                        	.line	3309
 19142 06:4B73: A5 60        	lda	<L902+color_0
 19143 06:4B75: 85 15        	sta	<L903+borderColor_1
 19144                        ;	for(i=0;i<borderWidth;i++)
 19145                        	.line	3310
 19146 06:4B77: 64 11        	stz	<L903+i_1
 19147 06:4B79: 82 6F 00     	brl	L10384
 19148                        L10383:
 19149                        ;	{
 19150                        	.line	3311
 19151                        ;		if(borderWidth > 2)
 19152                        	.line	3312
 19153                        ;		{
 19154 06:4B7C: 38           	sec
 19155 06:4B7D: A9 02 00     	lda	#$2
 19156 06:4B80: E5 19        	sbc	<L903+borderWidth_1
 19157 06:4B82: 70 03        	bvs	L918
 19158 06:4B84: 49 00 80     	eor	#$8000
 19159                        L918:
 19160 06:4B87: 10 03        	bpl	L919
 19161 06:4B89: 82 1C 00     	brl	L10385
 19162                        L919:
 19163                        	.line	3313
 19164                        ;			borderColor = color;
 19165                        	.line	3314
 19166 06:4B8C: A5 60        	lda	<L902+color_0
 19167 06:4B8E: 85 15        	sta	<L903+borderColor_1
 19168                        ;			odd=!odd;
 19169                        	.line	3315
 19170 06:4B90: 64 01        	stz	<R0
 19171 06:4B92: A5 13        	lda	<L903+odd_1
 19172 06:4B94: F0 03        	beq	L921
 19173 06:4B96: 82 02 00     	brl	L920
 19174                        L921:
 19175 06:4B99: E6 01        	inc	<R0
 19176                        L920:
 19177 06:4B9B: A5 01        	lda	<R0
 19178 06:4B9D: 85 13        	sta	<L903+odd_1
  Sat Jul 10 2021  1:15                                                Page 354


 19179                        ;			if(odd)
 19180                        	.line	3316
 19181                        ;			{
 19182 06:4B9F: A5 13        	lda	<L903+odd_1
 19183 06:4BA1: D0 03        	bne	L922
 19184 06:4BA3: 82 02 00     	brl	L10386
 19185                        L922:
 19186                        	.line	3317
 19187                        ;				borderColor = 0;
 19188                        	.line	3318
 19189 06:4BA6: 64 15        	stz	<L903+borderColor_1
 19190                        ;			}
 19191                        	.line	3319
 19192                        ;		}
 19193                        L10386:
 19194                        	.line	3320
 19195                        ;
 19196                        ;		k_draw_rect(cx + i + 0,
 19197                        L10385:
 19198                        	.line	3322
 19199                        ;					cy + i + 0,
 19200                        ;					cx + width  - 1 
                    - i,
 19201                        ;					cy + height - 1 
                    - i,
 19202                        ;					borderColor,
 19203                        ;					0,
 19204                        ;					page);
 19205 06:4BA8: D4 64        	pei	<L902+page_0
 19206 06:4BAA: F4 00 00     	pea	#<$0
 19207 06:4BAD: D4 15        	pei	<L903+borderColor_1
 19208 06:4BAF: 18           	clc
 19209 06:4BB0: A5 56        	lda	<L902+cy_0
 19210 06:4BB2: 65 58        	adc	<L902+height_0
 19211 06:4BB4: 85 01        	sta	<R0
 19212 06:4BB6: 18           	clc
 19213 06:4BB7: A9 FF FF     	lda	#$ffff
 19214 06:4BBA: 65 01        	adc	<R0
 19215 06:4BBC: 85 05        	sta	<R1
 19216 06:4BBE: 38           	sec
 19217 06:4BBF: A5 05        	lda	<R1
 19218 06:4BC1: E5 11        	sbc	<L903+i_1
 19219 06:4BC3: 48           	pha
 19220 06:4BC4: 18           	clc
 19221 06:4BC5: A5 54        	lda	<L902+cx_0
 19222 06:4BC7: 65 5A        	adc	<L902+width_0
 19223 06:4BC9: 85 01        	sta	<R0
 19224 06:4BCB: 18           	clc
 19225 06:4BCC: A9 FF FF     	lda	#$ffff
 19226 06:4BCF: 65 01        	adc	<R0
 19227 06:4BD1: 85 05        	sta	<R1
 19228 06:4BD3: 38           	sec
 19229 06:4BD4: A5 05        	lda	<R1
 19230 06:4BD6: E5 11        	sbc	<L903+i_1
 19231 06:4BD8: 48           	pha
 19232 06:4BD9: 18           	clc
 19233 06:4BDA: A5 56        	lda	<L902+cy_0
 19234 06:4BDC: 65 11        	adc	<L903+i_1
  Sat Jul 10 2021  1:15                                                Page 355


 19235 06:4BDE: 48           	pha
 19236 06:4BDF: 18           	clc
 19237 06:4BE0: A5 54        	lda	<L902+cx_0
 19238 06:4BE2: 65 11        	adc	<L903+i_1
 19239 06:4BE4: 48           	pha
 19240 06:4BE5: 22 D2 1D 06  	jsl	~~k_draw_rect
 19241                        ;
 19242                        ;	}
 19243                        	.line	3330
 19244                        L10381:
 19245 06:4BE9: E6 11        	inc	<L903+i_1
 19246                        L10384:
 19247 06:4BEB: 38           	sec
 19248 06:4BEC: A5 11        	lda	<L903+i_1
 19249 06:4BEE: E5 19        	sbc	<L903+borderWidth_1
 19250 06:4BF0: 70 03        	bvs	L923
 19251 06:4BF2: 49 00 80     	eor	#$8000
 19252                        L923:
 19253 06:4BF5: 30 03        	bmi	L924
 19254 06:4BF7: 82 82 FF     	brl	L10383
 19255                        L924:
 19256                        L10382:
 19257                        ;
 19258                        ;
 19259                        ;
 19260                        ;	if(borderTitle)
 19261                        	.line	3334
 19262                        ;	{
 19263 06:4BFA: A5 17        	lda	<L903+borderTitle_1
 19264 06:4BFC: D0 03        	bne	L925
 19265 06:4BFE: 82 2C 00     	brl	L10387
 19266                        L925:
 19267                        	.line	3335
 19268                        ;		k_vdma_fill_rect_ex(cx,cy,width,borderTi
                    tle,color,page);
 19269                        	.line	3336
 19270 06:4C01: D4 64        	pei	<L902+page_0
 19271 06:4C03: D4 60        	pei	<L902+color_0
 19272 06:4C05: D4 17        	pei	<L903+borderTitle_1
 19273 06:4C07: D4 5A        	pei	<L902+width_0
 19274 06:4C09: A0 00 00     	ldy	#$0
 19275 06:4C0C: A5 56        	lda	<L902+cy_0
 19276 06:4C0E: 10 01        	bpl	L926
 19277 06:4C10: 88           	dey
 19278                        L926:
 19279 06:4C11: 85 01        	sta	<R0
 19280 06:4C13: 84 03        	sty	<R0+2
 19281 06:4C15: D4 03        	pei	<R0+2
 19282 06:4C17: D4 01        	pei	<R0
 19283 06:4C19: A0 00 00     	ldy	#$0
 19284 06:4C1C: A5 54        	lda	<L902+cx_0
 19285 06:4C1E: 10 01        	bpl	L927
 19286 06:4C20: 88           	dey
 19287                        L927:
 19288 06:4C21: 85 05        	sta	<R1
 19289 06:4C23: 84 07        	sty	<R1+2
 19290 06:4C25: D4 07        	pei	<R1+2
 19291 06:4C27: D4 05        	pei	<R1
  Sat Jul 10 2021  1:15                                                Page 356


 19292 06:4C29: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 19293                        ;	}
 19294                        	.line	3337
 19295                        ;
 19296                        ;	k_get_font_metrics(&metric);
 19297                        L10387:
 19298                        	.line	3339
 19299 06:4C2D: F4 00 00     	pea	#0
 19300 06:4C30: 18           	clc
 19301 06:4C31: 7B           	tdc
 19302 06:4C32: 69 0D 00     	adc	#<L903+metric_1
 19303 06:4C35: 48           	pha
 19304 06:4C36: 22 B2 23 06  	jsl	~~k_get_font_metrics
 19305                        ;	
 19306                        ;	
 19307                        ;	//title = strupr(title);
 19308                        ;	
 19309                        ;	//FXWS_OVERLAPPED | FXWS_CAPTION | FXWS_SYSMENU 
                    | FXWS_THICKFRAME | FXWS_MINIMIZEBOX | FXWS_MAXIMIZEBOX
 19310                        ;
 19311                        ;	if(style & FXWS_SYSMENU)
 19312                        	.line	3346
 19313                        ;	{
 19314 06:4C3A: A5 50        	lda	<L902+style_0
 19315 06:4C3C: 29 08 00     	and	#<$8
 19316 06:4C3F: D0 03        	bne	L928
 19317 06:4C41: 82 A6 00     	brl	L10388
 19318                        L928:
 19319                        	.line	3347
 19320                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),titleOffsetX,titleOffsetY,gx,gx);
 19321                        	.line	3348
 19322 06:4C44: D4 2F        	pei	<L903+gx_1
 19323 06:4C46: D4 2F        	pei	<L903+gx_1
 19324 06:4C48: D4 1D        	pei	<L903+titleOffsetY_1
 19325 06:4C4A: D4 1B        	pei	<L903+titleOffsetX_1
 19326 06:4C4C: A0 00 00     	ldy	#$0
 19327 06:4C4F: A5 2D        	lda	<L903+ncc_1
 19328 06:4C51: 10 01        	bpl	L929
 19329 06:4C53: 88           	dey
 19330                        L929:
 19331 06:4C54: 85 01        	sta	<R0
 19332 06:4C56: 84 03        	sty	<R0+2
 19333 06:4C58: F4 00 00     	pea	#^$11
 19334 06:4C5B: F4 11 00     	pea	#<$11
 19335 06:4C5E: D4 03        	pei	<R0+2
 19336 06:4C60: D4 01        	pei	<R0
 19337                        	xref	~~~lmul
 19338 06:4C62: 22 xx xx xx  	jsl	~~~lmul
 19339 06:4C66: 85 01        	sta	<R0
 19340 06:4C68: 86 03        	stx	<R0+2
 19341 06:4C6A: 18           	clc
 19342 06:4C6B: A9 38 00     	lda	#$38
 19343 06:4C6E: 65 01        	adc	<R0
 19344 06:4C70: 85 05        	sta	<R1
 19345 06:4C72: A9 00 00     	lda	#$0
 19346 06:4C75: 65 03        	adc	<R0+2
 19347 06:4C77: 85 07        	sta	<R1+2
  Sat Jul 10 2021  1:15                                                Page 357


 19348 06:4C79: 18           	clc
 19349 06:4C7A: A5 4C        	lda	<L902+pWin_0
 19350 06:4C7C: 65 05        	adc	<R1
 19351 06:4C7E: 85 01        	sta	<R0
 19352 06:4C80: A5 4E        	lda	<L902+pWin_0+2
 19353 06:4C82: 65 07        	adc	<R1+2
 19354 06:4C84: 85 03        	sta	<R0+2
 19355 06:4C86: D4 03        	pei	<R0+2
 19356 06:4C88: D4 01        	pei	<R0
 19357 06:4C8A: 22 00 06 06  	jsl	~~k_set_rect
 19358                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_WINDOW_CLOSE;
 19359                        	.line	3349
 19360 06:4C8E: A0 00 00     	ldy	#$0
 19361 06:4C91: A5 2D        	lda	<L903+ncc_1
 19362 06:4C93: 10 01        	bpl	L930
 19363 06:4C95: 88           	dey
 19364                        L930:
 19365 06:4C96: 85 01        	sta	<R0
 19366 06:4C98: 84 03        	sty	<R0+2
 19367 06:4C9A: F4 00 00     	pea	#^$11
 19368 06:4C9D: F4 11 00     	pea	#<$11
 19369 06:4CA0: D4 03        	pei	<R0+2
 19370 06:4CA2: D4 01        	pei	<R0
 19371                        	xref	~~~lmul
 19372 06:4CA4: 22 xx xx xx  	jsl	~~~lmul
 19373 06:4CA8: 85 01        	sta	<R0
 19374 06:4CAA: 86 03        	stx	<R0+2
 19375 06:4CAC: 18           	clc
 19376 06:4CAD: A9 46 00     	lda	#$46
 19377 06:4CB0: 65 4C        	adc	<L902+pWin_0
 19378 06:4CB2: 85 05        	sta	<R1
 19379 06:4CB4: A9 00 00     	lda	#$0
 19380 06:4CB7: 65 4E        	adc	<L902+pWin_0+2
 19381 06:4CB9: 85 07        	sta	<R1+2
 19382 06:4CBB: 18           	clc
 19383 06:4CBC: A5 05        	lda	<R1
 19384 06:4CBE: 65 01        	adc	<R0
 19385 06:4CC0: 85 09        	sta	<R2
 19386 06:4CC2: A5 07        	lda	<R1+2
 19387 06:4CC4: 65 03        	adc	<R0+2
 19388 06:4CC6: 85 0B        	sta	<R2+2
 19389 06:4CC8: A9 FF FB     	lda	#$fbff
 19390 06:4CCB: 87 09        	sta	[<R2]
 19391 06:4CCD: E6 2D        	inc	<L903+ncc_1
 19392                        ;
 19393                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_SYSMENU");
 19394                        ;		titleOffsetX+=k_put_wingadget_point_ex(W
                    INICON_TITLE_BCLOSE,titleOffsetX,titleOffsetY,k_getUIGadgetC
                    olor(),page);
 19395                        	.line	3352
 19396 06:4CCF: D4 64        	pei	<L902+page_0
 19397 06:4CD1: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 19398 06:4CD5: 48           	pha
 19399 06:4CD6: D4 1D        	pei	<L903+titleOffsetY_1
 19400 06:4CD8: D4 1B        	pei	<L903+titleOffsetX_1
 19401 06:4CDA: F4 06 00     	pea	#<$6
  Sat Jul 10 2021  1:15                                                Page 358


 19402 06:4CDD: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 19403 06:4CE1: 85 01        	sta	<R0
 19404 06:4CE3: 18           	clc
 19405 06:4CE4: A5 01        	lda	<R0
 19406 06:4CE6: 65 1B        	adc	<L903+titleOffsetX_1
 19407 06:4CE8: 85 1B        	sta	<L903+titleOffsetX_1
 19408                        ;
 19409                        ;	}
 19410                        	.line	3354
 19411                        ;	
 19412                        ;	if((style & FXWS_CAPTION) == FXWS_CAPTION)
 19413                        L10388:
 19414                        	.line	3356
 19415                        ;	{
 19416 06:4CEA: A5 50        	lda	<L902+style_0
 19417 06:4CEC: 29 04 00     	and	#<$4
 19418 06:4CEF: 85 01        	sta	<R0
 19419 06:4CF1: 64 03        	stz	<R0+2
 19420 06:4CF3: A5 01        	lda	<R0
 19421 06:4CF5: C9 04 00     	cmp	#<$4
 19422 06:4CF8: D0 05        	bne	L931
 19423 06:4CFA: A5 03        	lda	<R0+2
 19424 06:4CFC: C9 00 00     	cmp	#^$4
 19425                        L931:
 19426 06:4CFF: F0 03        	beq	L932
 19427 06:4D01: 82 48 00     	brl	L10389
 19428                        L932:
 19429                        	.line	3357
 19430                        ;
 19431                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_CAPTION");
 19432                        ;		//titleScaler = (int)(width / metric.wid
                    th - 3);
 19433                        ;		titleScaler = (int)((width / metric.widt
                    h) - 1);
 19434                        	.line	3361
 19435 06:4D04: A5 5A        	lda	<L902+width_0
 19436 06:4D06: A6 0D        	ldx	<L903+metric_1
 19437                        	xref	~~~div
 19438 06:4D08: 22 xx xx xx  	jsl	~~~div
 19439 06:4D0C: 85 01        	sta	<R0
 19440 06:4D0E: 18           	clc
 19441 06:4D0F: A9 FF FF     	lda	#$ffff
 19442 06:4D12: 65 01        	adc	<R0
 19443 06:4D14: 85 1F        	sta	<L903+titleScaler_1
 19444                        ;
 19445                        ;		//k_debug_integer("k_vdraw_ui_window:tit
                    leScaler1:",titleScaler * 8);
 19446                        ;
 19447                        ;
 19448                        ;		//titleScaler = (width - (borderWidth * 
                    2));
 19449                        ;		//k_debug_integer("k_vdraw_ui_window:tit
                    leScaler2:",(width - (borderWidth * 2)));
 19450                        ;
 19451                        ;		/*
 19452                        ;		if(!k_gui_get_title_cache(NULL))
 19453                        ;		{
  Sat Jul 10 2021  1:15                                                Page 359


 19454                        ;			k_gui_build_title_cache(NULL);
 19455                        ;		}
 19456                        ;
 19457                        ;		if(k_gui_get_title_cache(NULL))
 19458                        ;		{
 19459                        ;			k_vdma_copy_address_ex((LPSTR)((
                    ULONG)0x080000 + k_gui_get_pixel_offset(titleOffsetX,titleOf
                    fsetY)),TITLE_LINES_640x480,titleScaler * 8,8);
 19460                        ;		}
 19461                        ;		else
 19462                        ;		{
 19463                        ;			k_gui_build_title_cache(NULL);
 19464                        ;			for(i=0;i<titleScaler;i++)
 19465                        ;			{
 19466                        ;				titleOffsetX+=k_put_wing
                    adget_point_ex(WINICON_TITLE_LINES,titleOffsetX,titleOffsetY
                    ,k_getUIGadgetColor(),page);
 19467                        ;			}
 19468                        ;		}
 19469                        ;
 19470                        ;		k_gui_build_title_cache(NULL);
 19471                        ;		*/
 19472                        ;
 19473                        ;		//
 19474                        ;		// set lines in title with blt
 19475                        ;		//
 19476                        ;		rect.x = titleOffsetX;
 19477                        	.line	3394
 19478 06:4D16: A5 1B        	lda	<L903+titleOffsetX_1
 19479 06:4D18: 85 39        	sta	<L903+rect_1
 19480                        ;		rect.y = titleOffsetY;
 19481                        	.line	3395
 19482 06:4D1A: A5 1D        	lda	<L903+titleOffsetY_1
 19483 06:4D1C: 85 3B        	sta	<L903+rect_1+2
 19484                        ;		rect.width  = (titleScaler * 8)  - (bord
                    erWidth * 2);
 19485                        	.line	3396
 19486 06:4D1E: A5 19        	lda	<L903+borderWidth_1
 19487 06:4D20: 0A           	asl	A
 19488 06:4D21: 85 01        	sta	<R0
 19489 06:4D23: A5 1F        	lda	<L903+titleScaler_1
 19490 06:4D25: 0A           	asl	A
 19491 06:4D26: 0A           	asl	A
 19492 06:4D27: 0A           	asl	A
 19493 06:4D28: 85 05        	sta	<R1
 19494 06:4D2A: 38           	sec
 19495 06:4D2B: A5 05        	lda	<R1
 19496 06:4D2D: E5 01        	sbc	<R0
 19497 06:4D2F: 85 41        	sta	<L903+rect_1+8
 19498                        ;		rect.height = 8;
 19499                        	.line	3397
 19500 06:4D31: A9 08 00     	lda	#$8
 19501 06:4D34: 85 43        	sta	<L903+rect_1+10
 19502                        ;		k_gui_get_image_cache(0,0x080000,&rect);
 19503                        	.line	3398
 19504 06:4D36: F4 00 00     	pea	#0
 19505 06:4D39: 18           	clc
 19506 06:4D3A: 7B           	tdc
  Sat Jul 10 2021  1:15                                                Page 360


 19507 06:4D3B: 69 39 00     	adc	#<L903+rect_1
 19508 06:4D3E: 48           	pha
 19509 06:4D3F: F4 08 00     	pea	#^$80000
 19510 06:4D42: F4 00 00     	pea	#<$80000
 19511 06:4D45: F4 00 00     	pea	#<$0
 19512 06:4D48: 22 13 03 06  	jsl	~~k_gui_get_image_cache
 19513                        ;		//
 19514                        ;		//
 19515                        ;		//
 19516                        ;
 19517                        ;
 19518                        ;		/*
 19519                        ;		for(i=0;i<titleScaler;i++)
 19520                        ;		{
 19521                        ;			titleOffsetX+=k_put_wingadget_po
                    int_ex(WINICON_TITLE_LINES,titleOffsetX,titleOffsetY,k_getUI
                    GadgetColor(),page);
 19522                        ;		}
 19523                        ;		*/
 19524                        ;
 19525                        ;		//k_vdma_copy_address_ex((LPSTR)((ULONG)
                    0x080000 + k_gui_get_pixel_offset(0,440)),TITLE_LINES_640x48
                    0,titleScaler * 8,8);
 19526                        ;
 19527                        ;
 19528                        ;
 19529                        ;
 19530                        ;	}
 19531                        	.line	3416
 19532                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_BACK,titleOffsetX,titleOffsetY,14);
 19533                        ;	//titleOffsetX+=2;
 19534                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_FRONT,titleOffsetX,titleOffsetY,14);
 19535                        ;	
 19536                        ;	if(style & FXWS_MAXIMIZEBOX)
 19537                        L10389:
 19538                        	.line	3421
 19539                        ;	{
 19540 06:4D4C: A5 50        	lda	<L902+style_0
 19541 06:4D4E: 29 10 00     	and	#<$10
 19542 06:4D51: D0 03        	bne	L933
 19543 06:4D53: 82 C6 00     	brl	L10390
 19544                        L933:
 19545                        	.line	3422
 19546                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_MAXIMIZEBOX");
 19547                        ;		maxminPos+=metric.width;
 19548                        	.line	3424
 19549 06:4D56: 18           	clc
 19550 06:4D57: A5 2B        	lda	<L903+maxminPos_1
 19551 06:4D59: 65 0D        	adc	<L903+metric_1
 19552 06:4D5B: 85 2B        	sta	<L903+maxminPos_1
 19553                        ;		//k_put_wingadget_point(WINICON_BLOCK,en
                    dX - (metric.width),titleOffsetY,k_getUIWindowBorderColor())
                    ;
 19554                        ;		//k_put_wingadget_point(WINICON_TITLE_FR
                    ONT,endX - (metric.width),titleOffsetY,k_getUIGadgetColor())
  Sat Jul 10 2021  1:15                                                Page 361


                    ;
 19555                        ;
 19556                        ;		k_put_wingadget_point_ex(WINICON_BLOCK,e
                    ndX - maxminPos,titleOffsetY,k_getUIWindowBorderColor(),page
                    );
 19557                        	.line	3428
 19558 06:4D5D: D4 64        	pei	<L902+page_0
 19559 06:4D5F: 22 99 12 06  	jsl	~~k_getUIWindowBorderColor
 19560 06:4D63: 48           	pha
 19561 06:4D64: D4 1D        	pei	<L903+titleOffsetY_1
 19562 06:4D66: 38           	sec
 19563 06:4D67: A5 29        	lda	<L903+endX_1
 19564 06:4D69: E5 2B        	sbc	<L903+maxminPos_1
 19565 06:4D6B: 48           	pha
 19566 06:4D6C: F4 00 00     	pea	#<$0
 19567 06:4D6F: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 19568                        ;		k_put_wingadget_point_ex(WINICON_TITLE_F
                    RONT,endX - maxminPos,titleOffsetY,k_getUIGadgetColor(),page
                    );
 19569                        	.line	3429
 19570 06:4D73: D4 64        	pei	<L902+page_0
 19571 06:4D75: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 19572 06:4D79: 48           	pha
 19573 06:4D7A: D4 1D        	pei	<L903+titleOffsetY_1
 19574 06:4D7C: 38           	sec
 19575 06:4D7D: A5 29        	lda	<L903+endX_1
 19576 06:4D7F: E5 2B        	sbc	<L903+maxminPos_1
 19577 06:4D81: 48           	pha
 19578 06:4D82: F4 03 00     	pea	#<$3
 19579 06:4D85: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 19580                        ;
 19581                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),endX - maxminPos,titleOffsetY,gx,gx);
 19582                        	.line	3431
 19583 06:4D89: D4 2F        	pei	<L903+gx_1
 19584 06:4D8B: D4 2F        	pei	<L903+gx_1
 19585 06:4D8D: D4 1D        	pei	<L903+titleOffsetY_1
 19586 06:4D8F: 38           	sec
 19587 06:4D90: A5 29        	lda	<L903+endX_1
 19588 06:4D92: E5 2B        	sbc	<L903+maxminPos_1
 19589 06:4D94: 48           	pha
 19590 06:4D95: A0 00 00     	ldy	#$0
 19591 06:4D98: A5 2D        	lda	<L903+ncc_1
 19592 06:4D9A: 10 01        	bpl	L934
 19593 06:4D9C: 88           	dey
 19594                        L934:
 19595 06:4D9D: 85 01        	sta	<R0
 19596 06:4D9F: 84 03        	sty	<R0+2
 19597 06:4DA1: F4 00 00     	pea	#^$11
 19598 06:4DA4: F4 11 00     	pea	#<$11
 19599 06:4DA7: D4 03        	pei	<R0+2
 19600 06:4DA9: D4 01        	pei	<R0
 19601                        	xref	~~~lmul
 19602 06:4DAB: 22 xx xx xx  	jsl	~~~lmul
 19603 06:4DAF: 85 01        	sta	<R0
 19604 06:4DB1: 86 03        	stx	<R0+2
 19605 06:4DB3: 18           	clc
 19606 06:4DB4: A9 38 00     	lda	#$38
  Sat Jul 10 2021  1:15                                                Page 362


 19607 06:4DB7: 65 01        	adc	<R0
 19608 06:4DB9: 85 05        	sta	<R1
 19609 06:4DBB: A9 00 00     	lda	#$0
 19610 06:4DBE: 65 03        	adc	<R0+2
 19611 06:4DC0: 85 07        	sta	<R1+2
 19612 06:4DC2: 18           	clc
 19613 06:4DC3: A5 4C        	lda	<L902+pWin_0
 19614 06:4DC5: 65 05        	adc	<R1
 19615 06:4DC7: 85 01        	sta	<R0
 19616 06:4DC9: A5 4E        	lda	<L902+pWin_0+2
 19617 06:4DCB: 65 07        	adc	<R1+2
 19618 06:4DCD: 85 03        	sta	<R0+2
 19619 06:4DCF: D4 03        	pei	<R0+2
 19620 06:4DD1: D4 01        	pei	<R0
 19621 06:4DD3: 22 00 06 06  	jsl	~~k_set_rect
 19622                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_MAX_WINDOW;
 19623                        	.line	3432
 19624 06:4DD7: A0 00 00     	ldy	#$0
 19625 06:4DDA: A5 2D        	lda	<L903+ncc_1
 19626 06:4DDC: 10 01        	bpl	L935
 19627 06:4DDE: 88           	dey
 19628                        L935:
 19629 06:4DDF: 85 01        	sta	<R0
 19630 06:4DE1: 84 03        	sty	<R0+2
 19631 06:4DE3: F4 00 00     	pea	#^$11
 19632 06:4DE6: F4 11 00     	pea	#<$11
 19633 06:4DE9: D4 03        	pei	<R0+2
 19634 06:4DEB: D4 01        	pei	<R0
 19635                        	xref	~~~lmul
 19636 06:4DED: 22 xx xx xx  	jsl	~~~lmul
 19637 06:4DF1: 85 01        	sta	<R0
 19638 06:4DF3: 86 03        	stx	<R0+2
 19639 06:4DF5: 18           	clc
 19640 06:4DF6: A9 46 00     	lda	#$46
 19641 06:4DF9: 65 4C        	adc	<L902+pWin_0
 19642 06:4DFB: 85 05        	sta	<R1
 19643 06:4DFD: A9 00 00     	lda	#$0
 19644 06:4E00: 65 4E        	adc	<L902+pWin_0+2
 19645 06:4E02: 85 07        	sta	<R1+2
 19646 06:4E04: 18           	clc
 19647 06:4E05: A5 05        	lda	<R1
 19648 06:4E07: 65 01        	adc	<R0
 19649 06:4E09: 85 09        	sta	<R2
 19650 06:4E0B: A5 07        	lda	<R1+2
 19651 06:4E0D: 65 03        	adc	<R0+2
 19652 06:4E0F: 85 0B        	sta	<R2+2
 19653 06:4E11: A9 0A FB     	lda	#$fb0a
 19654 06:4E14: 87 09        	sta	[<R2]
 19655 06:4E16: E6 2D        	inc	<L903+ncc_1
 19656                        ;
 19657                        ;		maxminPos+=2;
 19658                        	.line	3434
 19659 06:4E18: E6 2B        	inc	<L903+maxminPos_1
 19660 06:4E1A: E6 2B        	inc	<L903+maxminPos_1
 19661                        ;	}
 19662                        	.line	3435
 19663                        ;
  Sat Jul 10 2021  1:15                                                Page 363


 19664                        ;	if(style & FXWS_MINIMIZEBOX)
 19665                        L10390:
 19666                        	.line	3437
 19667                        ;	{
 19668 06:4E1C: A5 50        	lda	<L902+style_0
 19669 06:4E1E: 29 20 00     	and	#<$20
 19670 06:4E21: D0 03        	bne	L936
 19671 06:4E23: 82 C6 00     	brl	L10391
 19672                        L936:
 19673                        	.line	3438
 19674                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_MINIMIZEBOX");
 19675                        ;		maxminPos+=metric.width;
 19676                        	.line	3440
 19677 06:4E26: 18           	clc
 19678 06:4E27: A5 2B        	lda	<L903+maxminPos_1
 19679 06:4E29: 65 0D        	adc	<L903+metric_1
 19680 06:4E2B: 85 2B        	sta	<L903+maxminPos_1
 19681                        ;		//k_put_wingadget_point(WINICON_BLOCK,en
                    dX - (metric.width*2 + 2),titleOffsetY,k_getUIWindowBorderCo
                    lor());
 19682                        ;		//k_put_wingadget_point(WINICON_TITLE_BA
                    CK,endX - (metric.width*2 + 2),titleOffsetY,k_getUIGadgetCol
                    or());
 19683                        ;
 19684                        ;		k_put_wingadget_point_ex(WINICON_BLOCK,e
                    ndX - maxminPos,titleOffsetY,k_getUIWindowBorderColor(),page
                    );
 19685                        	.line	3444
 19686 06:4E2D: D4 64        	pei	<L902+page_0
 19687 06:4E2F: 22 99 12 06  	jsl	~~k_getUIWindowBorderColor
 19688 06:4E33: 48           	pha
 19689 06:4E34: D4 1D        	pei	<L903+titleOffsetY_1
 19690 06:4E36: 38           	sec
 19691 06:4E37: A5 29        	lda	<L903+endX_1
 19692 06:4E39: E5 2B        	sbc	<L903+maxminPos_1
 19693 06:4E3B: 48           	pha
 19694 06:4E3C: F4 00 00     	pea	#<$0
 19695 06:4E3F: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 19696                        ;		k_put_wingadget_point_ex(WINICON_TITLE_B
                    ACK,endX - maxminPos,titleOffsetY,k_getUIGadgetColor(),page)
                    ;
 19697                        	.line	3445
 19698 06:4E43: D4 64        	pei	<L902+page_0
 19699 06:4E45: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 19700 06:4E49: 48           	pha
 19701 06:4E4A: D4 1D        	pei	<L903+titleOffsetY_1
 19702 06:4E4C: 38           	sec
 19703 06:4E4D: A5 29        	lda	<L903+endX_1
 19704 06:4E4F: E5 2B        	sbc	<L903+maxminPos_1
 19705 06:4E51: 48           	pha
 19706 06:4E52: F4 04 00     	pea	#<$4
 19707 06:4E55: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 19708                        ;
 19709                        ;
 19710                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),endX - maxminPos,titleOffsetY,gx,gx);
 19711                        	.line	3448
  Sat Jul 10 2021  1:15                                                Page 364


 19712 06:4E59: D4 2F        	pei	<L903+gx_1
 19713 06:4E5B: D4 2F        	pei	<L903+gx_1
 19714 06:4E5D: D4 1D        	pei	<L903+titleOffsetY_1
 19715 06:4E5F: 38           	sec
 19716 06:4E60: A5 29        	lda	<L903+endX_1
 19717 06:4E62: E5 2B        	sbc	<L903+maxminPos_1
 19718 06:4E64: 48           	pha
 19719 06:4E65: A0 00 00     	ldy	#$0
 19720 06:4E68: A5 2D        	lda	<L903+ncc_1
 19721 06:4E6A: 10 01        	bpl	L937
 19722 06:4E6C: 88           	dey
 19723                        L937:
 19724 06:4E6D: 85 01        	sta	<R0
 19725 06:4E6F: 84 03        	sty	<R0+2
 19726 06:4E71: F4 00 00     	pea	#^$11
 19727 06:4E74: F4 11 00     	pea	#<$11
 19728 06:4E77: D4 03        	pei	<R0+2
 19729 06:4E79: D4 01        	pei	<R0
 19730                        	xref	~~~lmul
 19731 06:4E7B: 22 xx xx xx  	jsl	~~~lmul
 19732 06:4E7F: 85 01        	sta	<R0
 19733 06:4E81: 86 03        	stx	<R0+2
 19734 06:4E83: 18           	clc
 19735 06:4E84: A9 38 00     	lda	#$38
 19736 06:4E87: 65 01        	adc	<R0
 19737 06:4E89: 85 05        	sta	<R1
 19738 06:4E8B: A9 00 00     	lda	#$0
 19739 06:4E8E: 65 03        	adc	<R0+2
 19740 06:4E90: 85 07        	sta	<R1+2
 19741 06:4E92: 18           	clc
 19742 06:4E93: A5 4C        	lda	<L902+pWin_0
 19743 06:4E95: 65 05        	adc	<R1
 19744 06:4E97: 85 01        	sta	<R0
 19745 06:4E99: A5 4E        	lda	<L902+pWin_0+2
 19746 06:4E9B: 65 07        	adc	<R1+2
 19747 06:4E9D: 85 03        	sta	<R0+2
 19748 06:4E9F: D4 03        	pei	<R0+2
 19749 06:4EA1: D4 01        	pei	<R0
 19750 06:4EA3: 22 00 06 06  	jsl	~~k_set_rect
 19751                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_MIN_WINDOW;
 19752                        	.line	3449
 19753 06:4EA7: A0 00 00     	ldy	#$0
 19754 06:4EAA: A5 2D        	lda	<L903+ncc_1
 19755 06:4EAC: 10 01        	bpl	L938
 19756 06:4EAE: 88           	dey
 19757                        L938:
 19758 06:4EAF: 85 01        	sta	<R0
 19759 06:4EB1: 84 03        	sty	<R0+2
 19760 06:4EB3: F4 00 00     	pea	#^$11
 19761 06:4EB6: F4 11 00     	pea	#<$11
 19762 06:4EB9: D4 03        	pei	<R0+2
 19763 06:4EBB: D4 01        	pei	<R0
 19764                        	xref	~~~lmul
 19765 06:4EBD: 22 xx xx xx  	jsl	~~~lmul
 19766 06:4EC1: 85 01        	sta	<R0
 19767 06:4EC3: 86 03        	stx	<R0+2
 19768 06:4EC5: 18           	clc
  Sat Jul 10 2021  1:15                                                Page 365


 19769 06:4EC6: A9 46 00     	lda	#$46
 19770 06:4EC9: 65 4C        	adc	<L902+pWin_0
 19771 06:4ECB: 85 05        	sta	<R1
 19772 06:4ECD: A9 00 00     	lda	#$0
 19773 06:4ED0: 65 4E        	adc	<L902+pWin_0+2
 19774 06:4ED2: 85 07        	sta	<R1+2
 19775 06:4ED4: 18           	clc
 19776 06:4ED5: A5 05        	lda	<R1
 19777 06:4ED7: 65 01        	adc	<R0
 19778 06:4ED9: 85 09        	sta	<R2
 19779 06:4EDB: A5 07        	lda	<R1+2
 19780 06:4EDD: 65 03        	adc	<R0+2
 19781 06:4EDF: 85 0B        	sta	<R2+2
 19782 06:4EE1: A9 09 FB     	lda	#$fb09
 19783 06:4EE4: 87 09        	sta	[<R2]
 19784 06:4EE6: E6 2D        	inc	<L903+ncc_1
 19785                        ;
 19786                        ;		maxminPos+=2;
 19787                        	.line	3451
 19788 06:4EE8: E6 2B        	inc	<L903+maxminPos_1
 19789 06:4EEA: E6 2B        	inc	<L903+maxminPos_1
 19790                        ;	}
 19791                        	.line	3452
 19792                        ;
 19793                        ;	if((style & FXWS_CAPTION) == FXWS_CAPTION)
 19794                        L10391:
 19795                        	.line	3454
 19796                        ;	{
 19797 06:4EEC: A5 50        	lda	<L902+style_0
 19798 06:4EEE: 29 04 00     	and	#<$4
 19799 06:4EF1: 85 01        	sta	<R0
 19800 06:4EF3: 64 03        	stz	<R0+2
 19801 06:4EF5: A5 01        	lda	<R0
 19802 06:4EF7: C9 04 00     	cmp	#<$4
 19803 06:4EFA: D0 05        	bne	L939
 19804 06:4EFC: A5 03        	lda	<R0+2
 19805 06:4EFE: C9 00 00     	cmp	#^$4
 19806                        L939:
 19807 06:4F01: F0 03        	beq	L940
 19808 06:4F03: 82 42 02     	brl	L10392
 19809                        L940:
 19810                        	.line	3455
 19811                        ;		/*
 19812                        ;		if(!k_gui_get_title_cache(NULL))
 19813                        ;		{
 19814                        ;			k_gui_build_title_cache(NULL);
 19815                        ;		}
 19816                        ;		*/
 19817                        ;		/*
 19818                        ;		for(i=0;i<=strlen(title);i++)
 19819                        ;		{
 19820                        ;			k_put_wingadget_point_ex(WINICON
                    _BLOCK,cx+borderWidth+metric.width+(metric.width*i),titleOff
                    setY,15,page);
 19821                        ;		}
 19822                        ;		*/
 19823                        ;		k_user_SetRect(&rect,cx+borderWidth+metr
                    ic.width,titleOffsetY,(strlen(title) + 1)*8,8);
  Sat Jul 10 2021  1:15                                                Page 366


 19824                        	.line	3468
 19825 06:4F06: F4 08 00     	pea	#<$8
 19826 06:4F09: D4 5E        	pei	<L902+title_0+2
 19827 06:4F0B: D4 5C        	pei	<L902+title_0
 19828 06:4F0D: 22 xx xx xx  	jsl	~~strlen
 19829 06:4F11: 85 05        	sta	<R1
 19830 06:4F13: A5 05        	lda	<R1
 19831 06:4F15: 0A           	asl	A
 19832 06:4F16: 0A           	asl	A
 19833 06:4F17: 0A           	asl	A
 19834 06:4F18: 85 01        	sta	<R0
 19835 06:4F1A: 18           	clc
 19836 06:4F1B: A9 08 00     	lda	#$8
 19837 06:4F1E: 65 01        	adc	<R0
 19838 06:4F20: 48           	pha
 19839 06:4F21: D4 1D        	pei	<L903+titleOffsetY_1
 19840 06:4F23: 18           	clc
 19841 06:4F24: A5 54        	lda	<L902+cx_0
 19842 06:4F26: 65 19        	adc	<L903+borderWidth_1
 19843 06:4F28: 85 01        	sta	<R0
 19844 06:4F2A: 18           	clc
 19845 06:4F2B: A5 01        	lda	<R0
 19846 06:4F2D: 65 0D        	adc	<L903+metric_1
 19847 06:4F2F: 48           	pha
 19848 06:4F30: F4 00 00     	pea	#0
 19849 06:4F33: 18           	clc
 19850 06:4F34: 7B           	tdc
 19851 06:4F35: 69 39 00     	adc	#<L903+rect_1
 19852 06:4F38: 48           	pha
 19853 06:4F39: 22 xx xx xx  	jsl	~~k_user_SetRect
 19854                        ;
 19855                        ;		if(extraStyle && pWin->clientData[CLIENT
                    DATA_TITLE])
 19856                        	.line	3470
 19857                        ;		{
 19858 06:4F3D: A5 47        	lda	<L903+extraStyle_1
 19859 06:4F3F: D0 03        	bne	L941
 19860 06:4F41: 82 62 00     	brl	L10393
 19861                        L941:
 19862 06:4F44: A0 DD 01     	ldy	#$1dd
 19863 06:4F47: B7 4C        	lda	[<L902+pWin_0],Y
 19864 06:4F49: A0 DF 01     	ldy	#$1df
 19865 06:4F4C: 17 4C        	ora	[<L902+pWin_0],Y
 19866 06:4F4E: D0 03        	bne	L942
 19867 06:4F50: 82 53 00     	brl	L10393
 19868                        L942:
 19869                        	.line	3471
 19870                        ;			//k_debug_strings("k_vdraw_ui_wi
                    ndow::CLIENTDATA_TITLE:","DRAW");
 19871                        ;			k_user_SetRect(&rect,cx+borderWi
                    dth+metric.width,titleOffsetY,(strlen(title) + 1)*8,8);
 19872                        	.line	3473
 19873 06:4F53: F4 08 00     	pea	#<$8
 19874 06:4F56: D4 5E        	pei	<L902+title_0+2
 19875 06:4F58: D4 5C        	pei	<L902+title_0
 19876 06:4F5A: 22 xx xx xx  	jsl	~~strlen
 19877 06:4F5E: 85 05        	sta	<R1
 19878 06:4F60: A5 05        	lda	<R1
  Sat Jul 10 2021  1:15                                                Page 367


 19879 06:4F62: 0A           	asl	A
 19880 06:4F63: 0A           	asl	A
 19881 06:4F64: 0A           	asl	A
 19882 06:4F65: 85 01        	sta	<R0
 19883 06:4F67: 18           	clc
 19884 06:4F68: A9 08 00     	lda	#$8
 19885 06:4F6B: 65 01        	adc	<R0
 19886 06:4F6D: 48           	pha
 19887 06:4F6E: D4 1D        	pei	<L903+titleOffsetY_1
 19888 06:4F70: 18           	clc
 19889 06:4F71: A5 54        	lda	<L902+cx_0
 19890 06:4F73: 65 19        	adc	<L903+borderWidth_1
 19891 06:4F75: 85 01        	sta	<R0
 19892 06:4F77: 18           	clc
 19893 06:4F78: A5 01        	lda	<R0
 19894 06:4F7A: 65 0D        	adc	<L903+metric_1
 19895 06:4F7C: 48           	pha
 19896 06:4F7D: F4 00 00     	pea	#0
 19897 06:4F80: 18           	clc
 19898 06:4F81: 7B           	tdc
 19899 06:4F82: 69 39 00     	adc	#<L903+rect_1
 19900 06:4F85: 48           	pha
 19901 06:4F86: 22 xx xx xx  	jsl	~~k_user_SetRect
 19902                        ;			k_gui_get_image_cache((UINT)((UL
                    ONG)pWin->clientData[CLIENTDATA_TITLE]),GUI_CACHE_BACK,&rect
                    );
 19903                        	.line	3474
 19904 06:4F8A: F4 00 00     	pea	#0
 19905 06:4F8D: 18           	clc
 19906 06:4F8E: 7B           	tdc
 19907 06:4F8F: 69 39 00     	adc	#<L903+rect_1
 19908 06:4F92: 48           	pha
 19909 06:4F93: F4 08 00     	pea	#^$80000
 19910 06:4F96: F4 00 00     	pea	#<$80000
 19911 06:4F99: A0 DD 01     	ldy	#$1dd
 19912 06:4F9C: B7 4C        	lda	[<L902+pWin_0],Y
 19913 06:4F9E: 48           	pha
 19914 06:4F9F: 22 13 03 06  	jsl	~~k_gui_get_image_cache
 19915                        ;		}
 19916                        	.line	3475
 19917                        ;		else
 19918 06:4FA3: 82 02 01     	brl	L10394
 19919                        L10393:
 19920                        ;		{
 19921                        	.line	3477
 19922                        ;			k_debug_integer("k_vdraw_ui_wind
                    ow::CLIENTDATA_TITLE:",extraStyle);
 19923                        	.line	3478
 19924 06:4FA6: D4 47        	pei	<L903+extraStyle_1
 19925 06:4FA8: F4 xx xx     	pea	#^L901+34
 19926 06:4FAB: F4 xx xx     	pea	#<L901+34
 19927 06:4FAE: 22 xx xx xx  	jsl	~~k_debug_integer
 19928                        ;			k_vdma_fill_rect_ex(cx+borderWid
                    th+metric.width,titleOffsetY,
 19929                        	.line	3479
 19930                        ;							
                    	(strlen(title) + 1)*8,8,15,BITMAP_BACK);
 19931 06:4FB2: F4 08 00     	pea	#<$8
  Sat Jul 10 2021  1:15                                                Page 368


 19932 06:4FB5: F4 0F 00     	pea	#<$f
 19933 06:4FB8: F4 08 00     	pea	#<$8
 19934 06:4FBB: D4 5E        	pei	<L902+title_0+2
 19935 06:4FBD: D4 5C        	pei	<L902+title_0
 19936 06:4FBF: 22 xx xx xx  	jsl	~~strlen
 19937 06:4FC3: 85 05        	sta	<R1
 19938 06:4FC5: A5 05        	lda	<R1
 19939 06:4FC7: 0A           	asl	A
 19940 06:4FC8: 0A           	asl	A
 19941 06:4FC9: 0A           	asl	A
 19942 06:4FCA: 85 01        	sta	<R0
 19943 06:4FCC: 18           	clc
 19944 06:4FCD: A9 08 00     	lda	#$8
 19945 06:4FD0: 65 01        	adc	<R0
 19946 06:4FD2: 48           	pha
 19947 06:4FD3: A0 00 00     	ldy	#$0
 19948 06:4FD6: A5 1D        	lda	<L903+titleOffsetY_1
 19949 06:4FD8: 10 01        	bpl	L943
 19950 06:4FDA: 88           	dey
 19951                        L943:
 19952 06:4FDB: 85 01        	sta	<R0
 19953 06:4FDD: 84 03        	sty	<R0+2
 19954 06:4FDF: D4 03        	pei	<R0+2
 19955 06:4FE1: D4 01        	pei	<R0
 19956 06:4FE3: 18           	clc
 19957 06:4FE4: A5 54        	lda	<L902+cx_0
 19958 06:4FE6: 65 19        	adc	<L903+borderWidth_1
 19959 06:4FE8: 85 05        	sta	<R1
 19960 06:4FEA: 18           	clc
 19961 06:4FEB: A5 05        	lda	<R1
 19962 06:4FED: 65 0D        	adc	<L903+metric_1
 19963 06:4FEF: 85 09        	sta	<R2
 19964 06:4FF1: A0 00 00     	ldy	#$0
 19965 06:4FF4: A5 09        	lda	<R2
 19966 06:4FF6: 10 01        	bpl	L944
 19967 06:4FF8: 88           	dey
 19968                        L944:
 19969 06:4FF9: 85 05        	sta	<R1
 19970 06:4FFB: 84 07        	sty	<R1+2
 19971 06:4FFD: D4 07        	pei	<R1+2
 19972 06:4FFF: D4 05        	pei	<R1
 19973 06:5001: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 19974                        ;
 19975                        ;			k_draw_text_point_ex(title,cx+(b
                    orderWidth + 3)+metric.width,titleOffsetY,k_getUIGadgetColor
                    (),page);
 19976                        	.line	3482
 19977 06:5005: D4 64        	pei	<L902+page_0
 19978 06:5007: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 19979 06:500B: 48           	pha
 19980 06:500C: D4 1D        	pei	<L903+titleOffsetY_1
 19981 06:500E: 18           	clc
 19982 06:500F: A5 54        	lda	<L902+cx_0
 19983 06:5011: 65 19        	adc	<L903+borderWidth_1
 19984 06:5013: 85 01        	sta	<R0
 19985 06:5015: 18           	clc
 19986 06:5016: A5 01        	lda	<R0
 19987 06:5018: 65 0D        	adc	<L903+metric_1
  Sat Jul 10 2021  1:15                                                Page 369


 19988 06:501A: 85 05        	sta	<R1
 19989 06:501C: 18           	clc
 19990 06:501D: A9 03 00     	lda	#$3
 19991 06:5020: 65 05        	adc	<R1
 19992 06:5022: 48           	pha
 19993 06:5023: D4 5E        	pei	<L902+title_0+2
 19994 06:5025: D4 5C        	pei	<L902+title_0
 19995 06:5027: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 19996                        ;			if(extraStyle)
 19997                        	.line	3483
 19998                        ;			{
 19999 06:502B: A5 47        	lda	<L903+extraStyle_1
 20000 06:502D: D0 03        	bne	L945
 20001 06:502F: 82 76 00     	brl	L10395
 20002                        L945:
 20003                        	.line	3484
 20004                        ;				k_user_SetRect(&rect,cx+
                    borderWidth+metric.width,titleOffsetY,(strlen(title) + 1)*8,
                    8);
 20005                        	.line	3485
 20006 06:5032: F4 08 00     	pea	#<$8
 20007 06:5035: D4 5E        	pei	<L902+title_0+2
 20008 06:5037: D4 5C        	pei	<L902+title_0
 20009 06:5039: 22 xx xx xx  	jsl	~~strlen
 20010 06:503D: 85 05        	sta	<R1
 20011 06:503F: A5 05        	lda	<R1
 20012 06:5041: 0A           	asl	A
 20013 06:5042: 0A           	asl	A
 20014 06:5043: 0A           	asl	A
 20015 06:5044: 85 01        	sta	<R0
 20016 06:5046: 18           	clc
 20017 06:5047: A9 08 00     	lda	#$8
 20018 06:504A: 65 01        	adc	<R0
 20019 06:504C: 48           	pha
 20020 06:504D: D4 1D        	pei	<L903+titleOffsetY_1
 20021 06:504F: 18           	clc
 20022 06:5050: A5 54        	lda	<L902+cx_0
 20023 06:5052: 65 19        	adc	<L903+borderWidth_1
 20024 06:5054: 85 01        	sta	<R0
 20025 06:5056: 18           	clc
 20026 06:5057: A5 01        	lda	<R0
 20027 06:5059: 65 0D        	adc	<L903+metric_1
 20028 06:505B: 48           	pha
 20029 06:505C: F4 00 00     	pea	#0
 20030 06:505F: 18           	clc
 20031 06:5060: 7B           	tdc
 20032 06:5061: 69 39 00     	adc	#<L903+rect_1
 20033 06:5064: 48           	pha
 20034 06:5065: 22 xx xx xx  	jsl	~~k_user_SetRect
 20035                        ;				pWin->clientData[CLIENTD
                    ATA_TITLE] = (LPVOID)((ULONG)k_gui_set_image_cache(GUI_CACHE
                    _BACK,&rect));
 20036                        	.line	3486
 20037 06:5069: F4 00 00     	pea	#0
 20038 06:506C: 18           	clc
 20039 06:506D: 7B           	tdc
 20040 06:506E: 69 39 00     	adc	#<L903+rect_1
 20041 06:5071: 48           	pha
  Sat Jul 10 2021  1:15                                                Page 370


 20042 06:5072: F4 08 00     	pea	#^$80000
 20043 06:5075: F4 00 00     	pea	#<$80000
 20044 06:5078: 22 02 02 06  	jsl	~~k_gui_set_image_cache
 20045 06:507C: 85 01        	sta	<R0
 20046 06:507E: A5 01        	lda	<R0
 20047 06:5080: 85 01        	sta	<R0
 20048 06:5082: 64 03        	stz	<R0+2
 20049 06:5084: A5 01        	lda	<R0
 20050 06:5086: A0 DD 01     	ldy	#$1dd
 20051 06:5089: 97 4C        	sta	[<L902+pWin_0],Y
 20052 06:508B: A5 03        	lda	<R0+2
 20053 06:508D: A0 DF 01     	ldy	#$1df
 20054 06:5090: 97 4C        	sta	[<L902+pWin_0],Y
 20055                        ;
 20056                        ;				k_debug_pointer("k_vdraw
                    _ui_window::CLIENTDATA_TITLE:",pWin->clientData[CLIENTDATA_T
                    ITLE] );
 20057                        	.line	3488
 20058 06:5092: A0 DF 01     	ldy	#$1df
 20059 06:5095: B7 4C        	lda	[<L902+pWin_0],Y
 20060 06:5097: 48           	pha
 20061 06:5098: A0 DD 01     	ldy	#$1dd
 20062 06:509B: B7 4C        	lda	[<L902+pWin_0],Y
 20063 06:509D: 48           	pha
 20064 06:509E: F4 xx xx     	pea	#^L901+71
 20065 06:50A1: F4 xx xx     	pea	#<L901+71
 20066 06:50A4: 22 xx xx xx  	jsl	~~k_debug_pointer
 20067                        ;			}
 20068                        	.line	3489
 20069                        ;		}
 20070                        L10395:
 20071                        	.line	3490
 20072                        L10394:
 20073                        ;
 20074                        ;
 20075                        ;
 20076                        ;		/*
 20077                        ;		k_vdma_copy_address_ex((LPSTR)((ULONG)0x
                    080000 + k_gui_get_pixel_offset(0,420)),TITLE_LINES_640x480,
                    640,8);
 20078                        ;
 20079                        ;		k_vdma_copy_address_ex((LPSTR)((ULONG)0x
                    200000 + k_gui_get_pixel_offset(0,460)),
 20080                        ;							
                       (LPSTR)((ULONG)0x080000 + k_gui_get_pixel_offset(cx+(bord
                    erWidth + 3)+metric.width,titleOffsetY)),
 20081                        ;							
                       strlen(title)*8,8);
 20082                        ;
 20083                        ;		k_vdma_copy_address_ex((LPSTR)((ULONG)0x
                    080000 + k_gui_get_pixel_offset(100,460)),
 20084                        ;							
                       (LPSTR)((ULONG)0x200000 + k_gui_get_pixel_offset(0,460)),
 20085                        ;							
                       strlen(title)*8,8);
 20086                        ;		*/
 20087                        ;
 20088                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
  Sat Jul 10 2021  1:15                                                Page 371


                    .area),
 20089                        	.line	3506
 20090                        ;				   pWin->win_x + gx,
 20091                        ;				   pWin->win_y,
 20092                        ;				   pWin->win_width - gx,
 20093                        ;				   borderTitle);
 20094 06:50A8: D4 17        	pei	<L903+borderTitle_1
 20095 06:50AA: 38           	sec
 20096 06:50AB: A0 10 00     	ldy	#$10
 20097 06:50AE: B7 4C        	lda	[<L902+pWin_0],Y
 20098 06:50B0: E5 2F        	sbc	<L903+gx_1
 20099 06:50B2: 48           	pha
 20100 06:50B3: A0 0E 00     	ldy	#$e
 20101 06:50B6: B7 4C        	lda	[<L902+pWin_0],Y
 20102 06:50B8: 48           	pha
 20103 06:50B9: 18           	clc
 20104 06:50BA: A0 0C 00     	ldy	#$c
 20105 06:50BD: B7 4C        	lda	[<L902+pWin_0],Y
 20106 06:50BF: 65 2F        	adc	<L903+gx_1
 20107 06:50C1: 48           	pha
 20108 06:50C2: A0 00 00     	ldy	#$0
 20109 06:50C5: A5 2D        	lda	<L903+ncc_1
 20110 06:50C7: 10 01        	bpl	L946
 20111 06:50C9: 88           	dey
 20112                        L946:
 20113 06:50CA: 85 01        	sta	<R0
 20114 06:50CC: 84 03        	sty	<R0+2
 20115 06:50CE: F4 00 00     	pea	#^$11
 20116 06:50D1: F4 11 00     	pea	#<$11
 20117 06:50D4: D4 03        	pei	<R0+2
 20118 06:50D6: D4 01        	pei	<R0
 20119                        	xref	~~~lmul
 20120 06:50D8: 22 xx xx xx  	jsl	~~~lmul
 20121 06:50DC: 85 01        	sta	<R0
 20122 06:50DE: 86 03        	stx	<R0+2
 20123 06:50E0: 18           	clc
 20124 06:50E1: A9 38 00     	lda	#$38
 20125 06:50E4: 65 01        	adc	<R0
 20126 06:50E6: 85 05        	sta	<R1
 20127 06:50E8: A9 00 00     	lda	#$0
 20128 06:50EB: 65 03        	adc	<R0+2
 20129 06:50ED: 85 07        	sta	<R1+2
 20130 06:50EF: 18           	clc
 20131 06:50F0: A5 4C        	lda	<L902+pWin_0
 20132 06:50F2: 65 05        	adc	<R1
 20133 06:50F4: 85 01        	sta	<R0
 20134 06:50F6: A5 4E        	lda	<L902+pWin_0+2
 20135 06:50F8: 65 07        	adc	<R1+2
 20136 06:50FA: 85 03        	sta	<R0+2
 20137 06:50FC: D4 03        	pei	<R0+2
 20138 06:50FE: D4 01        	pei	<R0
 20139 06:5100: 22 00 06 06  	jsl	~~k_set_rect
 20140                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_DRAG_WINDOW;
 20141                        	.line	3511
 20142 06:5104: A0 00 00     	ldy	#$0
 20143 06:5107: A5 2D        	lda	<L903+ncc_1
 20144 06:5109: 10 01        	bpl	L947
  Sat Jul 10 2021  1:15                                                Page 372


 20145 06:510B: 88           	dey
 20146                        L947:
 20147 06:510C: 85 01        	sta	<R0
 20148 06:510E: 84 03        	sty	<R0+2
 20149 06:5110: F4 00 00     	pea	#^$11
 20150 06:5113: F4 11 00     	pea	#<$11
 20151 06:5116: D4 03        	pei	<R0+2
 20152 06:5118: D4 01        	pei	<R0
 20153                        	xref	~~~lmul
 20154 06:511A: 22 xx xx xx  	jsl	~~~lmul
 20155 06:511E: 85 01        	sta	<R0
 20156 06:5120: 86 03        	stx	<R0+2
 20157 06:5122: 18           	clc
 20158 06:5123: A9 46 00     	lda	#$46
 20159 06:5126: 65 4C        	adc	<L902+pWin_0
 20160 06:5128: 85 05        	sta	<R1
 20161 06:512A: A9 00 00     	lda	#$0
 20162 06:512D: 65 4E        	adc	<L902+pWin_0+2
 20163 06:512F: 85 07        	sta	<R1+2
 20164 06:5131: 18           	clc
 20165 06:5132: A5 05        	lda	<R1
 20166 06:5134: 65 01        	adc	<R0
 20167 06:5136: 85 09        	sta	<R2
 20168 06:5138: A5 07        	lda	<R1+2
 20169 06:513A: 65 03        	adc	<R0+2
 20170 06:513C: 85 0B        	sta	<R2+2
 20171 06:513E: A9 10 FB     	lda	#$fb10
 20172 06:5141: 87 09        	sta	[<R2]
 20173 06:5143: E6 2D        	inc	<L903+ncc_1
 20174                        ;
 20175                        ;	}
 20176                        	.line	3513
 20177                        ;	else
 20178 06:5145: 82 9D 00     	brl	L10396
 20179                        L10392:
 20180                        ;	{
 20181                        	.line	3515
 20182                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),
 20183                        	.line	3516
 20184                        ;				   pWin->win_x + gx,
 20185                        ;				   pWin->win_y,
 20186                        ;				   pWin->win_width - gx,
 20187                        ;				   borderWidth);
 20188 06:5148: D4 19        	pei	<L903+borderWidth_1
 20189 06:514A: 38           	sec
 20190 06:514B: A0 10 00     	ldy	#$10
 20191 06:514E: B7 4C        	lda	[<L902+pWin_0],Y
 20192 06:5150: E5 2F        	sbc	<L903+gx_1
 20193 06:5152: 48           	pha
 20194 06:5153: A0 0E 00     	ldy	#$e
 20195 06:5156: B7 4C        	lda	[<L902+pWin_0],Y
 20196 06:5158: 48           	pha
 20197 06:5159: 18           	clc
 20198 06:515A: A0 0C 00     	ldy	#$c
 20199 06:515D: B7 4C        	lda	[<L902+pWin_0],Y
 20200 06:515F: 65 2F        	adc	<L903+gx_1
 20201 06:5161: 48           	pha
  Sat Jul 10 2021  1:15                                                Page 373


 20202 06:5162: A0 00 00     	ldy	#$0
 20203 06:5165: A5 2D        	lda	<L903+ncc_1
 20204 06:5167: 10 01        	bpl	L948
 20205 06:5169: 88           	dey
 20206                        L948:
 20207 06:516A: 85 01        	sta	<R0
 20208 06:516C: 84 03        	sty	<R0+2
 20209 06:516E: F4 00 00     	pea	#^$11
 20210 06:5171: F4 11 00     	pea	#<$11
 20211 06:5174: D4 03        	pei	<R0+2
 20212 06:5176: D4 01        	pei	<R0
 20213                        	xref	~~~lmul
 20214 06:5178: 22 xx xx xx  	jsl	~~~lmul
 20215 06:517C: 85 01        	sta	<R0
 20216 06:517E: 86 03        	stx	<R0+2
 20217 06:5180: 18           	clc
 20218 06:5181: A9 38 00     	lda	#$38
 20219 06:5184: 65 01        	adc	<R0
 20220 06:5186: 85 05        	sta	<R1
 20221 06:5188: A9 00 00     	lda	#$0
 20222 06:518B: 65 03        	adc	<R0+2
 20223 06:518D: 85 07        	sta	<R1+2
 20224 06:518F: 18           	clc
 20225 06:5190: A5 4C        	lda	<L902+pWin_0
 20226 06:5192: 65 05        	adc	<R1
 20227 06:5194: 85 01        	sta	<R0
 20228 06:5196: A5 4E        	lda	<L902+pWin_0+2
 20229 06:5198: 65 07        	adc	<R1+2
 20230 06:519A: 85 03        	sta	<R0+2
 20231 06:519C: D4 03        	pei	<R0+2
 20232 06:519E: D4 01        	pei	<R0
 20233 06:51A0: 22 00 06 06  	jsl	~~k_set_rect
 20234                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_DRAG_WINDOW;
 20235                        	.line	3521
 20236 06:51A4: A0 00 00     	ldy	#$0
 20237 06:51A7: A5 2D        	lda	<L903+ncc_1
 20238 06:51A9: 10 01        	bpl	L949
 20239 06:51AB: 88           	dey
 20240                        L949:
 20241 06:51AC: 85 01        	sta	<R0
 20242 06:51AE: 84 03        	sty	<R0+2
 20243 06:51B0: F4 00 00     	pea	#^$11
 20244 06:51B3: F4 11 00     	pea	#<$11
 20245 06:51B6: D4 03        	pei	<R0+2
 20246 06:51B8: D4 01        	pei	<R0
 20247                        	xref	~~~lmul
 20248 06:51BA: 22 xx xx xx  	jsl	~~~lmul
 20249 06:51BE: 85 01        	sta	<R0
 20250 06:51C0: 86 03        	stx	<R0+2
 20251 06:51C2: 18           	clc
 20252 06:51C3: A9 46 00     	lda	#$46
 20253 06:51C6: 65 4C        	adc	<L902+pWin_0
 20254 06:51C8: 85 05        	sta	<R1
 20255 06:51CA: A9 00 00     	lda	#$0
 20256 06:51CD: 65 4E        	adc	<L902+pWin_0+2
 20257 06:51CF: 85 07        	sta	<R1+2
 20258 06:51D1: 18           	clc
  Sat Jul 10 2021  1:15                                                Page 374


 20259 06:51D2: A5 05        	lda	<R1
 20260 06:51D4: 65 01        	adc	<R0
 20261 06:51D6: 85 09        	sta	<R2
 20262 06:51D8: A5 07        	lda	<R1+2
 20263 06:51DA: 65 03        	adc	<R0+2
 20264 06:51DC: 85 0B        	sta	<R2+2
 20265 06:51DE: A9 10 FB     	lda	#$fb10
 20266 06:51E1: 87 09        	sta	[<R2]
 20267 06:51E3: E6 2D        	inc	<L903+ncc_1
 20268                        ;	}
 20269                        	.line	3522
 20270                        L10396:
 20271                        ;
 20272                        ;	//k_debug_integer("k_vdraw_ui_window::(clientOff
                    setY - height):",(clientOffsetY - pWin->clientRect.y));
 20273                        ;	//k_debug_integer("k_vdraw_ui_window::((clientOf
                    fsetY - height) + borderWidth):",((clientOffsetY - pWin->cli
                    entRect.y) + borderWidth));
 20274                        ;
 20275                        ;	pWin->clientRect.width  = (width - (2*borderWidt
                    h));
 20276                        	.line	3527
 20277 06:51E5: A5 19        	lda	<L903+borderWidth_1
 20278 06:51E7: 0A           	asl	A
 20279 06:51E8: 85 01        	sta	<R0
 20280 06:51EA: 38           	sec
 20281 06:51EB: A5 5A        	lda	<L902+width_0
 20282 06:51ED: E5 01        	sbc	<R0
 20283 06:51EF: A0 32 00     	ldy	#$32
 20284 06:51F2: 97 4C        	sta	[<L902+pWin_0],Y
 20285                        ;	pWin->clientRect.height = height - ((clientOffse
                    tY - pWin->clientRect.y) + borderWidth);
 20286                        	.line	3528
 20287 06:51F4: 38           	sec
 20288 06:51F5: A5 23        	lda	<L903+clientOffsetY_1
 20289 06:51F7: A0 2C 00     	ldy	#$2c
 20290 06:51FA: F7 4C        	sbc	[<L902+pWin_0],Y
 20291 06:51FC: 85 01        	sta	<R0
 20292 06:51FE: 18           	clc
 20293 06:51FF: A5 01        	lda	<R0
 20294 06:5201: 65 19        	adc	<L903+borderWidth_1
 20295 06:5203: 85 05        	sta	<R1
 20296 06:5205: 38           	sec
 20297 06:5206: A5 58        	lda	<L902+height_0
 20298 06:5208: E5 05        	sbc	<R1
 20299 06:520A: A0 34 00     	ldy	#$34
 20300 06:520D: 97 4C        	sta	[<L902+pWin_0],Y
 20301                        ;
 20302                        ;	k_debug_integer("k_vdraw_ui_window::clientRect.w
                    idth:", pWin->clientRect.width);
 20303                        	.line	3530
 20304 06:520F: A0 32 00     	ldy	#$32
 20305 06:5212: B7 4C        	lda	[<L902+pWin_0],Y
 20306 06:5214: 48           	pha
 20307 06:5215: F4 xx xx     	pea	#^L901+108
 20308 06:5218: F4 xx xx     	pea	#<L901+108
 20309 06:521B: 22 xx xx xx  	jsl	~~k_debug_integer
 20310                        ;	k_debug_integer("k_vdraw_ui_window::clientRect.h
  Sat Jul 10 2021  1:15                                                Page 375


                    eight:",pWin->clientRect.height);
 20311                        	.line	3531
 20312 06:521F: A0 34 00     	ldy	#$34
 20313 06:5222: B7 4C        	lda	[<L902+pWin_0],Y
 20314 06:5224: 48           	pha
 20315 06:5225: F4 xx xx     	pea	#^L901+145
 20316 06:5228: F4 xx xx     	pea	#<L901+145
 20317 06:522B: 22 xx xx xx  	jsl	~~k_debug_integer
 20318                        ;
 20319                        ;
 20320                        ;	pWin->clientRect.x      = clientOffsetX;
 20321                        	.line	3534
 20322 06:522F: A5 21        	lda	<L903+clientOffsetX_1
 20323 06:5231: A0 2A 00     	ldy	#$2a
 20324 06:5234: 97 4C        	sta	[<L902+pWin_0],Y
 20325                        ;	pWin->clientRect.y      = clientOffsetY;
 20326                        	.line	3535
 20327 06:5236: A5 23        	lda	<L903+clientOffsetY_1
 20328 06:5238: A0 2C 00     	ldy	#$2c
 20329 06:523B: 97 4C        	sta	[<L902+pWin_0],Y
 20330                        ;
 20331                        ;	if(pWin->win_cxoffset == -1)
 20332                        	.line	3537
 20333                        ;	{
 20334 06:523D: A0 18 00     	ldy	#$18
 20335 06:5240: B7 4C        	lda	[<L902+pWin_0],Y
 20336 06:5242: C9 FF FF     	cmp	#<$ffffffff
 20337 06:5245: F0 03        	beq	L950
 20338 06:5247: 82 20 00     	brl	L10397
 20339                        L950:
 20340                        	.line	3538
 20341                        ;		pWin->win_cxoffset 	= pWin->clientRe
                    ct.x - pWin->win_x;
 20342                        	.line	3539
 20343 06:524A: 38           	sec
 20344 06:524B: A0 2A 00     	ldy	#$2a
 20345 06:524E: B7 4C        	lda	[<L902+pWin_0],Y
 20346 06:5250: A0 0C 00     	ldy	#$c
 20347 06:5253: F7 4C        	sbc	[<L902+pWin_0],Y
 20348 06:5255: A0 18 00     	ldy	#$18
 20349 06:5258: 97 4C        	sta	[<L902+pWin_0],Y
 20350                        ;		pWin->win_cyoffset 	= pWin->clientRe
                    ct.y - pWin->win_y;
 20351                        	.line	3540
 20352 06:525A: 38           	sec
 20353 06:525B: A0 2C 00     	ldy	#$2c
 20354 06:525E: B7 4C        	lda	[<L902+pWin_0],Y
 20355 06:5260: A0 0E 00     	ldy	#$e
 20356 06:5263: F7 4C        	sbc	[<L902+pWin_0],Y
 20357 06:5265: A0 1A 00     	ldy	#$1a
 20358 06:5268: 97 4C        	sta	[<L902+pWin_0],Y
 20359                        ;		//k_debug_strings("k_vdraw_ui_window::pW
                    in->title:",pWin->win_title);
 20360                        ;		//k_debug_integer("k_vdraw_ui_window::pW
                    in->win_cxoffset:",pWin->win_cxoffset);
 20361                        ;		//k_debug_integer("k_vdraw_ui_window::pW
                    in->win_cyoffset:",pWin->win_cyoffset);
 20362                        ;	}
  Sat Jul 10 2021  1:15                                                Page 376


 20363                        	.line	3544
 20364                        ;
 20365                        ;	k_set_rect(&(pWin->nonclientGadgets[ncc].area),
 20366                        L10397:
 20367                        	.line	3546
 20368                        ;			   pWin->win_x + pWin->win_width
                      - 4,
 20369                        ;			   pWin->win_y + pWin->win_heigh
                    t - 4,
 20370                        ;			   4,
 20371                        ;			   4);
 20372 06:526A: F4 04 00     	pea	#<$4
 20373 06:526D: F4 04 00     	pea	#<$4
 20374 06:5270: 18           	clc
 20375 06:5271: A0 0E 00     	ldy	#$e
 20376 06:5274: B7 4C        	lda	[<L902+pWin_0],Y
 20377 06:5276: A0 12 00     	ldy	#$12
 20378 06:5279: 77 4C        	adc	[<L902+pWin_0],Y
 20379 06:527B: 85 01        	sta	<R0
 20380 06:527D: 18           	clc
 20381 06:527E: A9 FC FF     	lda	#$fffc
 20382 06:5281: 65 01        	adc	<R0
 20383 06:5283: 48           	pha
 20384 06:5284: 18           	clc
 20385 06:5285: A0 0C 00     	ldy	#$c
 20386 06:5288: B7 4C        	lda	[<L902+pWin_0],Y
 20387 06:528A: A0 10 00     	ldy	#$10
 20388 06:528D: 77 4C        	adc	[<L902+pWin_0],Y
 20389 06:528F: 85 01        	sta	<R0
 20390 06:5291: 18           	clc
 20391 06:5292: A9 FC FF     	lda	#$fffc
 20392 06:5295: 65 01        	adc	<R0
 20393 06:5297: 48           	pha
 20394 06:5298: A0 00 00     	ldy	#$0
 20395 06:529B: A5 2D        	lda	<L903+ncc_1
 20396 06:529D: 10 01        	bpl	L951
 20397 06:529F: 88           	dey
 20398                        L951:
 20399 06:52A0: 85 01        	sta	<R0
 20400 06:52A2: 84 03        	sty	<R0+2
 20401 06:52A4: F4 00 00     	pea	#^$11
 20402 06:52A7: F4 11 00     	pea	#<$11
 20403 06:52AA: D4 03        	pei	<R0+2
 20404 06:52AC: D4 01        	pei	<R0
 20405                        	xref	~~~lmul
 20406 06:52AE: 22 xx xx xx  	jsl	~~~lmul
 20407 06:52B2: 85 01        	sta	<R0
 20408 06:52B4: 86 03        	stx	<R0+2
 20409 06:52B6: 18           	clc
 20410 06:52B7: A9 38 00     	lda	#$38
 20411 06:52BA: 65 01        	adc	<R0
 20412 06:52BC: 85 05        	sta	<R1
 20413 06:52BE: A9 00 00     	lda	#$0
 20414 06:52C1: 65 03        	adc	<R0+2
 20415 06:52C3: 85 07        	sta	<R1+2
 20416 06:52C5: 18           	clc
 20417 06:52C6: A5 4C        	lda	<L902+pWin_0
 20418 06:52C8: 65 05        	adc	<R1
  Sat Jul 10 2021  1:15                                                Page 377


 20419 06:52CA: 85 01        	sta	<R0
 20420 06:52CC: A5 4E        	lda	<L902+pWin_0+2
 20421 06:52CE: 65 07        	adc	<R1+2
 20422 06:52D0: 85 03        	sta	<R0+2
 20423 06:52D2: D4 03        	pei	<R0+2
 20424 06:52D4: D4 01        	pei	<R0
 20425 06:52D6: 22 00 06 06  	jsl	~~k_set_rect
 20426                        ;	pWin->nonclientGadgets[ncc++].msgType = FX_RESIZ
                    E_WINDOW;
 20427                        	.line	3551
 20428 06:52DA: A0 00 00     	ldy	#$0
 20429 06:52DD: A5 2D        	lda	<L903+ncc_1
 20430 06:52DF: 10 01        	bpl	L952
 20431 06:52E1: 88           	dey
 20432                        L952:
 20433 06:52E2: 85 01        	sta	<R0
 20434 06:52E4: 84 03        	sty	<R0+2
 20435 06:52E6: F4 00 00     	pea	#^$11
 20436 06:52E9: F4 11 00     	pea	#<$11
 20437 06:52EC: D4 03        	pei	<R0+2
 20438 06:52EE: D4 01        	pei	<R0
 20439                        	xref	~~~lmul
 20440 06:52F0: 22 xx xx xx  	jsl	~~~lmul
 20441 06:52F4: 85 01        	sta	<R0
 20442 06:52F6: 86 03        	stx	<R0+2
 20443 06:52F8: 18           	clc
 20444 06:52F9: A9 46 00     	lda	#$46
 20445 06:52FC: 65 4C        	adc	<L902+pWin_0
 20446 06:52FE: 85 05        	sta	<R1
 20447 06:5300: A9 00 00     	lda	#$0
 20448 06:5303: 65 4E        	adc	<L902+pWin_0+2
 20449 06:5305: 85 07        	sta	<R1+2
 20450 06:5307: 18           	clc
 20451 06:5308: A5 05        	lda	<R1
 20452 06:530A: 65 01        	adc	<R0
 20453 06:530C: 85 09        	sta	<R2
 20454 06:530E: A5 07        	lda	<R1+2
 20455 06:5310: 65 03        	adc	<R0+2
 20456 06:5312: 85 0B        	sta	<R2+2
 20457 06:5314: A9 0F FB     	lda	#$fb0f
 20458 06:5317: 87 09        	sta	[<R2]
 20459 06:5319: E6 2D        	inc	<L903+ncc_1
 20460                        ;
 20461                        ;
 20462                        ;	k_draw_rect(pWin->win_x - 1,
 20463                        	.line	3554
 20464                        ;				pWin->win_y - 1,
 20465                        ;				(pWin->win_x) + pWin->wi
                    n_width  ,
 20466                        ;				(pWin->win_y) + pWin->wi
                    n_height ,
 20467                        ;				k_getUIGadgetColor(),
 20468                        ;				0,
 20469                        ;				page);
 20470 06:531B: D4 64        	pei	<L902+page_0
 20471 06:531D: F4 00 00     	pea	#<$0
 20472 06:5320: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 20473 06:5324: 48           	pha
  Sat Jul 10 2021  1:15                                                Page 378


 20474 06:5325: 18           	clc
 20475 06:5326: A0 0E 00     	ldy	#$e
 20476 06:5329: B7 4C        	lda	[<L902+pWin_0],Y
 20477 06:532B: A0 12 00     	ldy	#$12
 20478 06:532E: 77 4C        	adc	[<L902+pWin_0],Y
 20479 06:5330: 48           	pha
 20480 06:5331: 18           	clc
 20481 06:5332: A0 0C 00     	ldy	#$c
 20482 06:5335: B7 4C        	lda	[<L902+pWin_0],Y
 20483 06:5337: A0 10 00     	ldy	#$10
 20484 06:533A: 77 4C        	adc	[<L902+pWin_0],Y
 20485 06:533C: 48           	pha
 20486 06:533D: 18           	clc
 20487 06:533E: A9 FF FF     	lda	#$ffff
 20488 06:5341: A0 0E 00     	ldy	#$e
 20489 06:5344: 77 4C        	adc	[<L902+pWin_0],Y
 20490 06:5346: 48           	pha
 20491 06:5347: 18           	clc
 20492 06:5348: A9 FF FF     	lda	#$ffff
 20493 06:534B: A0 0C 00     	ldy	#$c
 20494 06:534E: 77 4C        	adc	[<L902+pWin_0],Y
 20495 06:5350: 48           	pha
 20496 06:5351: 22 D2 1D 06  	jsl	~~k_draw_rect
 20497                        ;
 20498                        ;	k_draw_rect(pWin->clientRect.x - 1,
 20499                        	.line	3562
 20500                        ;				pWin->clientRect.y - 1,
 20501                        ;				pWin->clientRect.x + pWi
                    n->clientRect.width ,
 20502                        ;				pWin->clientRect.y + pWi
                    n->clientRect.height,
 20503                        ;				k_getUIGadgetColor(),
 20504                        ;				0,
 20505                        ;				page);
 20506 06:5355: D4 64        	pei	<L902+page_0
 20507 06:5357: F4 00 00     	pea	#<$0
 20508 06:535A: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 20509 06:535E: 48           	pha
 20510 06:535F: 18           	clc
 20511 06:5360: A0 2C 00     	ldy	#$2c
 20512 06:5363: B7 4C        	lda	[<L902+pWin_0],Y
 20513 06:5365: A0 34 00     	ldy	#$34
 20514 06:5368: 77 4C        	adc	[<L902+pWin_0],Y
 20515 06:536A: 48           	pha
 20516 06:536B: 18           	clc
 20517 06:536C: A0 2A 00     	ldy	#$2a
 20518 06:536F: B7 4C        	lda	[<L902+pWin_0],Y
 20519 06:5371: A0 32 00     	ldy	#$32
 20520 06:5374: 77 4C        	adc	[<L902+pWin_0],Y
 20521 06:5376: 48           	pha
 20522 06:5377: 18           	clc
 20523 06:5378: A9 FF FF     	lda	#$ffff
 20524 06:537B: A0 2C 00     	ldy	#$2c
 20525 06:537E: 77 4C        	adc	[<L902+pWin_0],Y
 20526 06:5380: 48           	pha
 20527 06:5381: 18           	clc
 20528 06:5382: A9 FF FF     	lda	#$ffff
 20529 06:5385: A0 2A 00     	ldy	#$2a
  Sat Jul 10 2021  1:15                                                Page 379


 20530 06:5388: 77 4C        	adc	[<L902+pWin_0],Y
 20531 06:538A: 48           	pha
 20532 06:538B: 22 D2 1D 06  	jsl	~~k_draw_rect
 20533                        ;	//k_debug_rect("k_vdraw_ui_window:client[resized
                    ]:",&pWin->clientRect);
 20534                        ;
 20535                        ;	k_set_rect(&(pWin->nonclientGadgets[ncc].area),-
                    1,-1,-1,-1);
 20536                        	.line	3571
 20537 06:538F: F4 FF FF     	pea	#<$ffffffff
 20538 06:5392: F4 FF FF     	pea	#<$ffffffff
 20539 06:5395: F4 FF FF     	pea	#<$ffffffff
 20540 06:5398: F4 FF FF     	pea	#<$ffffffff
 20541 06:539B: A0 00 00     	ldy	#$0
 20542 06:539E: A5 2D        	lda	<L903+ncc_1
 20543 06:53A0: 10 01        	bpl	L953
 20544 06:53A2: 88           	dey
 20545                        L953:
 20546 06:53A3: 85 01        	sta	<R0
 20547 06:53A5: 84 03        	sty	<R0+2
 20548 06:53A7: F4 00 00     	pea	#^$11
 20549 06:53AA: F4 11 00     	pea	#<$11
 20550 06:53AD: D4 03        	pei	<R0+2
 20551 06:53AF: D4 01        	pei	<R0
 20552                        	xref	~~~lmul
 20553 06:53B1: 22 xx xx xx  	jsl	~~~lmul
 20554 06:53B5: 85 01        	sta	<R0
 20555 06:53B7: 86 03        	stx	<R0+2
 20556 06:53B9: 18           	clc
 20557 06:53BA: A9 38 00     	lda	#$38
 20558 06:53BD: 65 01        	adc	<R0
 20559 06:53BF: 85 05        	sta	<R1
 20560 06:53C1: A9 00 00     	lda	#$0
 20561 06:53C4: 65 03        	adc	<R0+2
 20562 06:53C6: 85 07        	sta	<R1+2
 20563 06:53C8: 18           	clc
 20564 06:53C9: A5 4C        	lda	<L902+pWin_0
 20565 06:53CB: 65 05        	adc	<R1
 20566 06:53CD: 85 01        	sta	<R0
 20567 06:53CF: A5 4E        	lda	<L902+pWin_0+2
 20568 06:53D1: 65 07        	adc	<R1+2
 20569 06:53D3: 85 03        	sta	<R0+2
 20570 06:53D5: D4 03        	pei	<R0+2
 20571 06:53D7: D4 01        	pei	<R0
 20572 06:53D9: 22 00 06 06  	jsl	~~k_set_rect
 20573                        ;
 20574                        ;
 20575                        ;	//k_debug_strings("k_vdraw_ui_window:","exit");
 20576                        ;}
 20577                        	.line	3575
 20578 06:53DD: 82 B0 F6     	brl	L905
 20579                        	.endblock	3575
 20580             00000048   L902	equ	72
 20581             0000000D   L903	equ	13
 20582 06:53E0:              	ends
 20583                        	efunc
 20584                        	.endfunc	3575,13,72
 20585                        	.line	3575
  Sat Jul 10 2021  1:15                                                Page 380


 20586                        	data
 20587                        L901:
 20588 00:0871: 6B 5F 76 64  	db	$6B,$5F,$76,$64,$72,$61,$77,$5F,$75,$69,
                    $5F,$77,$69,$6E,$64
       00:0875: 72 61 77 5F 
       00:0879: 75 69 5F 77 
       00:087D: 69 6E 64 
 20589 00:0880: 6F 77 3A 3A  	db	$6F,$77,$3A,$3A,$4E,$4F,$54,$20,$52,$45,
                    $4E,$44,$45,$52,$49
       00:0884: 4E 4F 54 20 
       00:0888: 52 45 4E 44 
       00:088C: 45 52 49 
 20590 00:088F: 4E 47 3A 00  	db	$4E,$47,$3A,$00,$6B,$5F,$76,$64,$72,$61,
                    $77,$5F,$75,$69,$5F
       00:0893: 6B 5F 76 64 
       00:0897: 72 61 77 5F 
       00:089B: 75 69 5F 
 20591 00:089E: 77 69 6E 64  	db	$77,$69,$6E,$64,$6F,$77,$3A,$3A,$43,$4C,
                    $49,$45,$4E,$54,$44
       00:08A2: 6F 77 3A 3A 
       00:08A6: 43 4C 49 45 
       00:08AA: 4E 54 44 
 20592 00:08AD: 41 54 41 5F  	db	$41,$54,$41,$5F,$54,$49,$54,$4C,$45,$3A,
                    $00,$6B,$5F,$76,$64
       00:08B1: 54 49 54 4C 
       00:08B5: 45 3A 00 6B 
       00:08B9: 5F 76 64 
 20593 00:08BC: 72 61 77 5F  	db	$72,$61,$77,$5F,$75,$69,$5F,$77,$69,$6E,
                    $64,$6F,$77,$3A,$3A
       00:08C0: 75 69 5F 77 
       00:08C4: 69 6E 64 6F 
       00:08C8: 77 3A 3A 
 20594 00:08CB: 43 4C 49 45  	db	$43,$4C,$49,$45,$4E,$54,$44,$41,$54,$41,
                    $5F,$54,$49,$54,$4C
       00:08CF: 4E 54 44 41 
       00:08D3: 54 41 5F 54 
       00:08D7: 49 54 4C 
 20595 00:08DA: 45 3A 00 6B  	db	$45,$3A,$00,$6B,$5F,$76,$64,$72,$61,$77,
                    $5F,$75,$69,$5F,$77
       00:08DE: 5F 76 64 72 
       00:08E2: 61 77 5F 75 
       00:08E6: 69 5F 77 
 20596 00:08E9: 69 6E 64 6F  	db	$69,$6E,$64,$6F,$77,$3A,$3A,$63,$6C,$69,
                    $65,$6E,$74,$52,$65
       00:08ED: 77 3A 3A 63 
       00:08F1: 6C 69 65 6E 
       00:08F5: 74 52 65 
 20597 00:08F8: 63 74 2E 77  	db	$63,$74,$2E,$77,$69,$64,$74,$68,$3A,$00,
                    $6B,$5F,$76,$64,$72
       00:08FC: 69 64 74 68 
       00:0900: 3A 00 6B 5F 
       00:0904: 76 64 72 
 20598 00:0907: 61 77 5F 75  	db	$61,$77,$5F,$75,$69,$5F,$77,$69,$6E,$64,
                    $6F,$77,$3A,$3A,$63
       00:090B: 69 5F 77 69 
       00:090F: 6E 64 6F 77 
       00:0913: 3A 3A 63 
 20599 00:0916: 6C 69 65 6E  	db	$6C,$69,$65,$6E,$74,$52,$65,$63,$74,$2E,
  Sat Jul 10 2021  1:15                                                Page 381


                    $68,$65,$69,$67,$68
       00:091A: 74 52 65 63 
       00:091E: 74 2E 68 65 
       00:0922: 69 67 68 
 20600 00:0925: 74 3A 00     	db	$74,$3A,$00
 20601 00:0928:              	ends
 20602                        ;
 20603                        ;PMENU k_draw_menu(HMENU hMenu,int color, int bgco
                    lor)
 20604                        ;{
 20605                        	.line	3577
 20606                        	.line	3578
 20607                        	GFX
 20608                        	xdef	~~k_draw_menu
 20609                        	func
 20610                        	.function	3578
 20611                        ~~k_draw_menu:
 20612                        	longa	on
 20613                        	longi	on
 20614 06:53E0: 3B           	tsc
 20615 06:53E1: 38           	sec
 20616 06:53E2: E9 1E 00     	sbc	#L955
 20617 06:53E5: 1B           	tcs
 20618 06:53E6: 0B           	phd
 20619 06:53E7: 5B           	tcd
 20620             00000004   hMenu_0	set	4
 20621             00000008   color_0	set	8
 20622             0000000A   bgcolor_0	set	10
 20623                        	.block	3578
 20624                        ;	FONTMETRIC metric;
 20625                        ;
 20626                        ;	int i = 0;
 20627                        ;
 20628                        ;	int borderTitle = 10;
 20629                        ;	int borderWidth = 3;
 20630                        ;
 20631                        ;	int titleOffsetX = ((PMENU)hMenu)->cx+2;
 20632                        ;	int titleOffsetY = ((PMENU)hMenu)->cy+2;
 20633                        ;	int titleScaler = 0;
 20634                        ;
 20635                        ;	int clientOffsetX = ((PMENU)hMenu)->cx+borderWid
                    th+2;
 20636                        ;	int clientOffsetY = ((PMENU)hMenu)->cy+borderTit
                    le+1;
 20637                        ;
 20638                        ;	int endX = ((PMENU)hMenu)->width + ((PMENU)hMenu
                    )->cx - borderWidth;
 20639                        ;
 20640                        ;
 20641                        ;	k_get_font_metrics(&metric);
 20642             00000000   metric_1	set	0
 20643             00000004   i_1	set	4
 20644             00000006   borderTitle_1	set	6
 20645             00000008   borderWidth_1	set	8
 20646             0000000A   titleOffsetX_1	set	10
 20647             0000000C   titleOffsetY_1	set	12
 20648             0000000E   titleScaler_1	set	14
 20649             00000010   clientOffsetX_1	set	16
  Sat Jul 10 2021  1:15                                                Page 382


 20650             00000012   clientOffsetY_1	set	18
 20651             00000014   endX_1	set	20
 20652                        	.sym	metric,0,10,1,32,35
 20653                        	.sym	i,4,5,1,16
 20654                        	.sym	borderTitle,6,5,1,16
 20655                        	.sym	borderWidth,8,5,1,16
 20656                        	.sym	titleOffsetX,10,5,1,16
 20657                        	.sym	titleOffsetY,12,5,1,16
 20658                        	.sym	titleScaler,14,5,1,16
 20659                        	.sym	clientOffsetX,16,5,1,16
 20660                        	.sym	clientOffsetY,18,5,1,16
 20661                        	.sym	endX,20,5,1,16
 20662                        	.sym	hMenu,4,129,6,32
 20663                        	.sym	color,8,5,6,16
 20664                        	.sym	bgcolor,10,5,6,16
 20665 06:53E8: 64 0D        	stz	<L956+i_1
 20666 06:53EA: A9 0A 00     	lda	#$a
 20667 06:53ED: 85 0F        	sta	<L956+borderTitle_1
 20668 06:53EF: A9 03 00     	lda	#$3
 20669 06:53F2: 85 11        	sta	<L956+borderWidth_1
 20670 06:53F4: 18           	clc
 20671 06:53F5: A9 02 00     	lda	#$2
 20672 06:53F8: 67 22        	adc	[<L955+hMenu_0]
 20673 06:53FA: 85 13        	sta	<L956+titleOffsetX_1
 20674 06:53FC: 18           	clc
 20675 06:53FD: A9 02 00     	lda	#$2
 20676 06:5400: A0 02 00     	ldy	#$2
 20677 06:5403: 77 22        	adc	[<L955+hMenu_0],Y
 20678 06:5405: 85 15        	sta	<L956+titleOffsetY_1
 20679 06:5407: 64 17        	stz	<L956+titleScaler_1
 20680 06:5409: 18           	clc
 20681 06:540A: A7 22        	lda	[<L955+hMenu_0]
 20682 06:540C: 65 11        	adc	<L956+borderWidth_1
 20683 06:540E: 85 01        	sta	<R0
 20684 06:5410: 18           	clc
 20685 06:5411: A9 02 00     	lda	#$2
 20686 06:5414: 65 01        	adc	<R0
 20687 06:5416: 85 19        	sta	<L956+clientOffsetX_1
 20688 06:5418: 18           	clc
 20689 06:5419: A0 02 00     	ldy	#$2
 20690 06:541C: B7 22        	lda	[<L955+hMenu_0],Y
 20691 06:541E: 65 0F        	adc	<L956+borderTitle_1
 20692 06:5420: 85 01        	sta	<R0
 20693 06:5422: A5 01        	lda	<R0
 20694 06:5424: 1A           	ina
 20695 06:5425: 85 1B        	sta	<L956+clientOffsetY_1
 20696 06:5427: 18           	clc
 20697 06:5428: A0 04 00     	ldy	#$4
 20698 06:542B: B7 22        	lda	[<L955+hMenu_0],Y
 20699 06:542D: 67 22        	adc	[<L955+hMenu_0]
 20700 06:542F: 85 01        	sta	<R0
 20701 06:5431: 38           	sec
 20702 06:5432: A5 01        	lda	<R0
 20703 06:5434: E5 11        	sbc	<L956+borderWidth_1
 20704 06:5436: 85 1D        	sta	<L956+endX_1
 20705                        	.line	3596
 20706 06:5438: F4 00 00     	pea	#0
 20707 06:543B: 18           	clc
  Sat Jul 10 2021  1:15                                                Page 383


 20708 06:543C: 7B           	tdc
 20709 06:543D: 69 09 00     	adc	#<L956+metric_1
 20710 06:5440: 48           	pha
 20711 06:5441: 22 B2 23 06  	jsl	~~k_get_font_metrics
 20712                        ;
 20713                        ;
 20714                        ;	//int height = 0;
 20715                        ;	/*
 20716                        ;	PMENU menu = (PMENU)k_mem_allocate_heap(sizeof(M
                    ENU));
 20717                        ;	memset(menu,0,sizeof(MENU));
 20718                        ;
 20719                        ;	menu->cx = cx;
 20720                        ;	menu->cy = cy;
 20721                        ;	menu->fcolor = color;
 20722                        ;	menu->bcolor = bgcolor;
 20723                        ;	menu->pCaption = k_string_copy_string(strupr(tit
                    le));
 20724                        ;
 20725                        ;	k_get_font_metrics(&metric);
 20726                        ;
 20727                        ;	//height = metric.height + (int)(metric.width/4)
                    ;
 20728                        ;
 20729                        ;	menu->height = height;
 20730                        ;	menu->width  = width;
 20731                        ;
 20732                        ;
 20733                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cx:",menu
                    ->cx);
 20734                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cy:",menu
                    ->cy);
 20735                        ;	k_debug_integer("k_vdraw_ui_menu:menu->height:",
                    menu->height);
 20736                        ;	k_debug_integer("k_vdraw_ui_menu:menu->width:",m
                    enu->width);
 20737                        ;	*/
 20738                        ;
 20739                        ;	//k_vdma_fill_rect(cx,cy,width,height,color);
 20740                        ;
 20741                        ;	//k_vdma_fill_rect(cx,cy,width,height,bgcolor); 
                    // +1 on width and height for VDMA
 20742                        ;	k_vdma_fill_rect(((PMENU)hMenu)->cx,((PMENU)hMen
                    u)->cy,((PMENU)hMenu)->width,((PMENU)hMenu)->height,color);
 20743                        	.line	3627
 20744 06:5445: D4 26        	pei	<L955+color_0
 20745 06:5447: A0 06 00     	ldy	#$6
 20746 06:544A: B7 22        	lda	[<L955+hMenu_0],Y
 20747 06:544C: 48           	pha
 20748 06:544D: A0 04 00     	ldy	#$4
 20749 06:5450: B7 22        	lda	[<L955+hMenu_0],Y
 20750 06:5452: 48           	pha
 20751 06:5453: A0 00 00     	ldy	#$0
 20752 06:5456: 5A           	phy
 20753 06:5457: A0 02 00     	ldy	#$2
 20754 06:545A: B7 22        	lda	[<L955+hMenu_0],Y
 20755 06:545C: 7A           	ply
 20756 06:545D: 2A           	rol	A
  Sat Jul 10 2021  1:15                                                Page 384


 20757 06:545E: 6A           	ror	A
 20758 06:545F: 10 01        	bpl	L958
 20759 06:5461: 88           	dey
 20760                        L958:
 20761 06:5462: 85 01        	sta	<R0
 20762 06:5464: 84 03        	sty	<R0+2
 20763 06:5466: D4 03        	pei	<R0+2
 20764 06:5468: D4 01        	pei	<R0
 20765 06:546A: A0 00 00     	ldy	#$0
 20766 06:546D: A7 22        	lda	[<L955+hMenu_0]
 20767 06:546F: 10 01        	bpl	L959
 20768 06:5471: 88           	dey
 20769                        L959:
 20770 06:5472: 85 05        	sta	<R1
 20771 06:5474: 84 07        	sty	<R1+2
 20772 06:5476: D4 07        	pei	<R1+2
 20773 06:5478: D4 05        	pei	<R1
 20774 06:547A: 22 BA 5F 06  	jsl	~~k_vdma_fill_rect
 20775                        ;
 20776                        ;	//k_delay(15);
 20777                        ;
 20778                        ;	//title = strupr(title);
 20779                        ;
 20780                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_ACLOSE,titleOffsetX,titleOffsetY,14);
 20781                        ;	/*
 20782                        ;	titleScaler = (int)(width / metric.width - 4);
 20783                        ;	for(i=0;i<titleScaler;i++)
 20784                        ;	{
 20785                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_LINES,titleOffsetX,titleOffsetY,14);
 20786                        ;	}*/
 20787                        ;
 20788                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,14);
 20789                        	.line	3641
 20790 06:547E: F4 0E 00     	pea	#<$e
 20791 06:5481: D4 15        	pei	<L956+titleOffsetY_1
 20792 06:5483: A5 09        	lda	<L956+metric_1
 20793 06:5485: 0A           	asl	A
 20794 06:5486: 85 01        	sta	<R0
 20795 06:5488: 18           	clc
 20796 06:5489: A9 02 00     	lda	#$2
 20797 06:548C: 65 01        	adc	<R0
 20798 06:548E: 85 05        	sta	<R1
 20799 06:5490: 38           	sec
 20800 06:5491: A5 1D        	lda	<L956+endX_1
 20801 06:5493: E5 05        	sbc	<R1
 20802 06:5495: 48           	pha
 20803 06:5496: F4 04 00     	pea	#<$4
 20804 06:5499: 22 F8 2A 06  	jsl	~~k_put_wingadget_point
 20805                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,14);
 20806                        	.line	3642
 20807 06:549D: F4 0E 00     	pea	#<$e
 20808 06:54A0: D4 15        	pei	<L956+titleOffsetY_1
 20809 06:54A2: 38           	sec
 20810 06:54A3: A5 1D        	lda	<L956+endX_1
  Sat Jul 10 2021  1:15                                                Page 385


 20811 06:54A5: E5 09        	sbc	<L956+metric_1
 20812 06:54A7: 48           	pha
 20813 06:54A8: F4 03 00     	pea	#<$3
 20814 06:54AB: 22 F8 2A 06  	jsl	~~k_put_wingadget_point
 20815                        ;
 20816                        ;	//k_render_wingadget(WINICON_TITLE_BACK,endX - (
                    metric.width*2 + 2),titleOffsetY,14,k_gadget_title_back_call
                    back);
 20817                        ;	//k_render_wingadget(WINICON_TITLE_FRONT,endX - 
                    (metric.width),titleOffsetY,14,k_gadget_title_front_callback
                    );
 20818                        ;
 20819                        ;	i = k_draw_text_point(((PMENU)hMenu)->pCaption,(
                    (PMENU)hMenu)->cx+2+metric.width,titleOffsetY,bgcolor);
 20820                        	.line	3647
 20821 06:54AF: D4 28        	pei	<L955+bgcolor_0
 20822 06:54B1: D4 15        	pei	<L956+titleOffsetY_1
 20823 06:54B3: 18           	clc
 20824 06:54B4: A7 22        	lda	[<L955+hMenu_0]
 20825 06:54B6: 65 09        	adc	<L956+metric_1
 20826 06:54B8: 85 01        	sta	<R0
 20827 06:54BA: 18           	clc
 20828 06:54BB: A9 02 00     	lda	#$2
 20829 06:54BE: 65 01        	adc	<R0
 20830 06:54C0: 48           	pha
 20831 06:54C1: A0 15 00     	ldy	#$15
 20832 06:54C4: B7 22        	lda	[<L955+hMenu_0],Y
 20833 06:54C6: 48           	pha
 20834 06:54C7: A0 13 00     	ldy	#$13
 20835 06:54CA: B7 22        	lda	[<L955+hMenu_0],Y
 20836 06:54CC: 48           	pha
 20837 06:54CD: 22 DB 1F 06  	jsl	~~k_draw_text_point
 20838 06:54D1: 85 0D        	sta	<L956+i_1
 20839                        ;	//k_render_text(title,cx+2+metric.width,titleOff
                    setY,bgcolor,k_text_callback);
 20840                        ;
 20841                        ;
 20842                        ;	return NULL;
 20843                        	.line	3651
 20844 06:54D3: A9 00 00     	lda	#$0
 20845 06:54D6: AA           	tax
 20846 06:54D7: A9 00 00     	lda	#$0
 20847                        L960:
 20848 06:54DA: A8           	tay
 20849 06:54DB: A5 20        	lda	<L955+2
 20850 06:54DD: 85 28        	sta	<L955+2+8
 20851 06:54DF: A5 1F        	lda	<L955+1
 20852 06:54E1: 85 27        	sta	<L955+1+8
 20853 06:54E3: 2B           	pld
 20854 06:54E4: 3B           	tsc
 20855 06:54E5: 18           	clc
 20856 06:54E6: 69 26 00     	adc	#L955+8
 20857 06:54E9: 1B           	tcs
 20858 06:54EA: 98           	tya
 20859 06:54EB: 6B           	rtl
 20860                        ;}
 20861                        	.line	3652
 20862                        	.endblock	3652
  Sat Jul 10 2021  1:15                                                Page 386


 20863             0000001E   L955	equ	30
 20864             00000009   L956	equ	9
 20865 06:54EC:              	ends
 20866                        	efunc
 20867                        	.endfunc	3652,9,30
 20868                        	.line	3652
 20869                        ;
 20870                        ;PMENU k_vdraw_ui_menu(int cx,int cy,int width,int
                     height,LPCSTR title,int color, int bgcolor)
 20871                        ;{
 20872                        	.line	3654
 20873                        	.line	3655
 20874                        	GFX
 20875                        	xdef	~~k_vdraw_ui_menu
 20876                        	func
 20877                        	.function	3655
 20878                        ~~k_vdraw_ui_menu:
 20879                        	longa	on
 20880                        	longi	on
 20881 06:54EC: 3B           	tsc
 20882 06:54ED: 38           	sec
 20883 06:54EE: E9 04 00     	sbc	#L961
 20884 06:54F1: 1B           	tcs
 20885 06:54F2: 0B           	phd
 20886 06:54F3: 5B           	tcd
 20887             00000004   cx_0	set	4
 20888             00000006   cy_0	set	6
 20889             00000008   width_0	set	8
 20890             0000000A   height_0	set	10
 20891             0000000C   title_0	set	12
 20892             00000010   color_0	set	16
 20893             00000012   bgcolor_0	set	18
 20894                        	.block	3655
 20895                        ;	return k_vdraw_ui_menu_ex(cx,cy,width,height,tit
                    le,color,bgcolor,BITMAP_BACK);
 20896                        	.sym	cx,4,5,6,16
 20897                        	.sym	cy,6,5,6,16
 20898                        	.sym	width,8,5,6,16
 20899                        	.sym	height,10,5,6,16
 20900                        	.sym	title,12,142,6,32
 20901                        	.sym	color,16,5,6,16
 20902                        	.sym	bgcolor,18,5,6,16
 20903                        	.line	3656
 20904 06:54F4: F4 08 00     	pea	#<$8
 20905 06:54F7: D4 16        	pei	<L961+bgcolor_0
 20906 06:54F9: D4 14        	pei	<L961+color_0
 20907 06:54FB: D4 12        	pei	<L961+title_0+2
 20908 06:54FD: D4 10        	pei	<L961+title_0
 20909 06:54FF: D4 0E        	pei	<L961+height_0
 20910 06:5501: D4 0C        	pei	<L961+width_0
 20911 06:5503: D4 0A        	pei	<L961+cy_0
 20912 06:5505: D4 08        	pei	<L961+cx_0
 20913 06:5507: 22 25 55 06  	jsl	~~k_vdraw_ui_menu_ex
 20914 06:550B: 85 01        	sta	<R0
 20915 06:550D: 86 03        	stx	<R0+2
 20916 06:550F: A6 03        	ldx	<R0+2
 20917 06:5511: A5 01        	lda	<R0
 20918                        L964:
  Sat Jul 10 2021  1:15                                                Page 387


 20919 06:5513: A8           	tay
 20920 06:5514: A5 06        	lda	<L961+2
 20921 06:5516: 85 16        	sta	<L961+2+16
 20922 06:5518: A5 05        	lda	<L961+1
 20923 06:551A: 85 15        	sta	<L961+1+16
 20924 06:551C: 2B           	pld
 20925 06:551D: 3B           	tsc
 20926 06:551E: 18           	clc
 20927 06:551F: 69 14 00     	adc	#L961+16
 20928 06:5522: 1B           	tcs
 20929 06:5523: 98           	tya
 20930 06:5524: 6B           	rtl
 20931                        ;}
 20932                        	.line	3657
 20933                        	.endblock	3657
 20934             00000004   L961	equ	4
 20935             00000005   L962	equ	5
 20936 06:5525:              	ends
 20937                        	efunc
 20938                        	.endfunc	3657,5,4
 20939                        	.line	3657
 20940                        ;
 20941                        ;PMENU k_vdraw_ui_menu_ex(int cx,int cy,int width,
                    int height,LPCSTR title,int color, int bgcolor,UINT page)
 20942                        ;{
 20943                        	.line	3659
 20944                        	.line	3660
 20945                        	GFX
 20946                        	xdef	~~k_vdraw_ui_menu_ex
 20947                        	func
 20948                        	.function	3660
 20949                        ~~k_vdraw_ui_menu_ex:
 20950                        	longa	on
 20951                        	longi	on
 20952 06:5525: 3B           	tsc
 20953 06:5526: 38           	sec
 20954 06:5527: E9 1E 00     	sbc	#L965
 20955 06:552A: 1B           	tcs
 20956 06:552B: 0B           	phd
 20957 06:552C: 5B           	tcd
 20958             00000004   cx_0	set	4
 20959             00000006   cy_0	set	6
 20960             00000008   width_0	set	8
 20961             0000000A   height_0	set	10
 20962             0000000C   title_0	set	12
 20963             00000010   color_0	set	16
 20964             00000012   bgcolor_0	set	18
 20965             00000014   page_0	set	20
 20966                        	.block	3660
 20967                        ;	FONTMETRIC metric;
 20968                        ;	
 20969                        ;	int i = 0;
 20970                        ;	
 20971                        ;	int borderTitle = 10;
 20972                        ;	int borderWidth = 3;
 20973                        ;
 20974                        ;	int titleOffsetX = cx+2;
 20975                        ;	int titleOffsetY = cy+2;
  Sat Jul 10 2021  1:15                                                Page 388


 20976                        ;	int titleScaler = 0;
 20977                        ;	
 20978                        ;	int clientOffsetX = cx+borderWidth+2;
 20979                        ;	int clientOffsetY = cy+borderTitle+1;
 20980                        ;	
 20981                        ;	int endX = width + cx - borderWidth;
 20982                        ;	
 20983                        ;
 20984                        ;	k_get_font_metrics(&metric);
 20985             00000000   metric_1	set	0
 20986             00000004   i_1	set	4
 20987             00000006   borderTitle_1	set	6
 20988             00000008   borderWidth_1	set	8
 20989             0000000A   titleOffsetX_1	set	10
 20990             0000000C   titleOffsetY_1	set	12
 20991             0000000E   titleScaler_1	set	14
 20992             00000010   clientOffsetX_1	set	16
 20993             00000012   clientOffsetY_1	set	18
 20994             00000014   endX_1	set	20
 20995                        	.sym	metric,0,10,1,32,35
 20996                        	.sym	i,4,5,1,16
 20997                        	.sym	borderTitle,6,5,1,16
 20998                        	.sym	borderWidth,8,5,1,16
 20999                        	.sym	titleOffsetX,10,5,1,16
 21000                        	.sym	titleOffsetY,12,5,1,16
 21001                        	.sym	titleScaler,14,5,1,16
 21002                        	.sym	clientOffsetX,16,5,1,16
 21003                        	.sym	clientOffsetY,18,5,1,16
 21004                        	.sym	endX,20,5,1,16
 21005                        	.sym	cx,4,5,6,16
 21006                        	.sym	cy,6,5,6,16
 21007                        	.sym	width,8,5,6,16
 21008                        	.sym	height,10,5,6,16
 21009                        	.sym	title,12,142,6,32
 21010                        	.sym	color,16,5,6,16
 21011                        	.sym	bgcolor,18,5,6,16
 21012                        	.sym	page,20,16,6,16
 21013 06:552D: 64 0D        	stz	<L966+i_1
 21014 06:552F: A9 0A 00     	lda	#$a
 21015 06:5532: 85 0F        	sta	<L966+borderTitle_1
 21016 06:5534: A9 03 00     	lda	#$3
 21017 06:5537: 85 11        	sta	<L966+borderWidth_1
 21018 06:5539: 18           	clc
 21019 06:553A: A9 02 00     	lda	#$2
 21020 06:553D: 65 22        	adc	<L965+cx_0
 21021 06:553F: 85 13        	sta	<L966+titleOffsetX_1
 21022 06:5541: 18           	clc
 21023 06:5542: A9 02 00     	lda	#$2
 21024 06:5545: 65 24        	adc	<L965+cy_0
 21025 06:5547: 85 15        	sta	<L966+titleOffsetY_1
 21026 06:5549: 64 17        	stz	<L966+titleScaler_1
 21027 06:554B: 18           	clc
 21028 06:554C: A5 22        	lda	<L965+cx_0
 21029 06:554E: 65 11        	adc	<L966+borderWidth_1
 21030 06:5550: 85 01        	sta	<R0
 21031 06:5552: 18           	clc
 21032 06:5553: A9 02 00     	lda	#$2
 21033 06:5556: 65 01        	adc	<R0
  Sat Jul 10 2021  1:15                                                Page 389


 21034 06:5558: 85 19        	sta	<L966+clientOffsetX_1
 21035 06:555A: 18           	clc
 21036 06:555B: A5 24        	lda	<L965+cy_0
 21037 06:555D: 65 0F        	adc	<L966+borderTitle_1
 21038 06:555F: 85 01        	sta	<R0
 21039 06:5561: A5 01        	lda	<R0
 21040 06:5563: 1A           	ina
 21041 06:5564: 85 1B        	sta	<L966+clientOffsetY_1
 21042 06:5566: 18           	clc
 21043 06:5567: A5 26        	lda	<L965+width_0
 21044 06:5569: 65 22        	adc	<L965+cx_0
 21045 06:556B: 85 01        	sta	<R0
 21046 06:556D: 38           	sec
 21047 06:556E: A5 01        	lda	<R0
 21048 06:5570: E5 11        	sbc	<L966+borderWidth_1
 21049 06:5572: 85 1D        	sta	<L966+endX_1
 21050                        	.line	3678
 21051 06:5574: F4 00 00     	pea	#0
 21052 06:5577: 18           	clc
 21053 06:5578: 7B           	tdc
 21054 06:5579: 69 09 00     	adc	#<L966+metric_1
 21055 06:557C: 48           	pha
 21056 06:557D: 22 B2 23 06  	jsl	~~k_get_font_metrics
 21057                        ;
 21058                        ;	//k_debug_integer("k_vdraw_ui_menu::width:",widt
                    h);
 21059                        ;	//k_debug_integer("k_vdraw_ui_menu::height:",hei
                    ght);
 21060                        ;	//k_debug_strings("k_vdraw_ui_menu::title:",(LPS
                    TR)title);
 21061                        ;	//k_debug_integer("k_vdraw_ui_menu::bgcolor:",bg
                    color);
 21062                        ;
 21063                        ;	//int height = 0;
 21064                        ;	/*
 21065                        ;	PMENU menu = (PMENU)k_mem_allocate_heap(sizeof(M
                    ENU));
 21066                        ;	memset(menu,0,sizeof(MENU));
 21067                        ;
 21068                        ;	menu->cx = cx;
 21069                        ;	menu->cy = cy;
 21070                        ;	menu->fcolor = color;
 21071                        ;	menu->bcolor = bgcolor;
 21072                        ;	menu->pCaption = k_string_copy_string(strupr(tit
                    le));
 21073                        ;
 21074                        ;	k_get_font_metrics(&metric);
 21075                        ;	
 21076                        ;	//height = metric.height + (int)(metric.width/4)
                    ;
 21077                        ;
 21078                        ;	menu->height = height;
 21079                        ;	menu->width  = width;
 21080                        ;
 21081                        ;
 21082                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cx:",menu
                    ->cx);
 21083                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cy:",menu
  Sat Jul 10 2021  1:15                                                Page 390


                    ->cy);
 21084                        ;	k_debug_integer("k_vdraw_ui_menu:menu->height:",
                    menu->height);
 21085                        ;	k_debug_integer("k_vdraw_ui_menu:menu->width:",m
                    enu->width);
 21086                        ;	*/
 21087                        ;
 21088                        ;	//k_vdma_fill_rect(cx,cy,width,height,color);
 21089                        ;
 21090                        ;	//k_vdma_fill_rect(cx,cy,width,height,bgcolor); 
                    // +1 on width and height for VDMA
 21091                        ;	k_vdma_fill_rect_ex(cx,cy,width ,height,0,BITMAP
                    _FRONT);//k_getUIMenuColor());
 21092                        	.line	3713
 21093 06:5581: F4 00 00     	pea	#<$0
 21094 06:5584: F4 00 00     	pea	#<$0
 21095 06:5587: D4 28        	pei	<L965+height_0
 21096 06:5589: D4 26        	pei	<L965+width_0
 21097 06:558B: A0 00 00     	ldy	#$0
 21098 06:558E: A5 24        	lda	<L965+cy_0
 21099 06:5590: 10 01        	bpl	L968
 21100 06:5592: 88           	dey
 21101                        L968:
 21102 06:5593: 85 01        	sta	<R0
 21103 06:5595: 84 03        	sty	<R0+2
 21104 06:5597: D4 03        	pei	<R0+2
 21105 06:5599: D4 01        	pei	<R0
 21106 06:559B: A0 00 00     	ldy	#$0
 21107 06:559E: A5 22        	lda	<L965+cx_0
 21108 06:55A0: 10 01        	bpl	L969
 21109 06:55A2: 88           	dey
 21110                        L969:
 21111 06:55A3: 85 05        	sta	<R1
 21112 06:55A5: 84 07        	sty	<R1+2
 21113 06:55A7: D4 07        	pei	<R1+2
 21114 06:55A9: D4 05        	pei	<R1
 21115 06:55AB: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 21116                        ;	k_vdma_fill_rect_ex(cx,cy,width ,height,bgcolor,
                    BITMAP_BACK);
 21117                        	.line	3714
 21118 06:55AF: F4 08 00     	pea	#<$8
 21119 06:55B2: D4 30        	pei	<L965+bgcolor_0
 21120 06:55B4: D4 28        	pei	<L965+height_0
 21121 06:55B6: D4 26        	pei	<L965+width_0
 21122 06:55B8: A0 00 00     	ldy	#$0
 21123 06:55BB: A5 24        	lda	<L965+cy_0
 21124 06:55BD: 10 01        	bpl	L970
 21125 06:55BF: 88           	dey
 21126                        L970:
 21127 06:55C0: 85 01        	sta	<R0
 21128 06:55C2: 84 03        	sty	<R0+2
 21129 06:55C4: D4 03        	pei	<R0+2
 21130 06:55C6: D4 01        	pei	<R0
 21131 06:55C8: A0 00 00     	ldy	#$0
 21132 06:55CB: A5 22        	lda	<L965+cx_0
 21133 06:55CD: 10 01        	bpl	L971
 21134 06:55CF: 88           	dey
 21135                        L971:
  Sat Jul 10 2021  1:15                                                Page 391


 21136 06:55D0: 85 05        	sta	<R1
 21137 06:55D2: 84 07        	sty	<R1+2
 21138 06:55D4: D4 07        	pei	<R1+2
 21139 06:55D6: D4 05        	pei	<R1
 21140 06:55D8: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 21141                        ;	//k_delay(15);
 21142                        ;	
 21143                        ;	//title = strupr(title);
 21144                        ;	
 21145                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_ACLOSE,titleOffsetX,titleOffsetY,14);	
 21146                        ;	/*
 21147                        ;	titleScaler = (int)(width / metric.width - 4);
 21148                        ;	for(i=0;i<titleScaler;i++)
 21149                        ;	{
 21150                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_LINES,titleOffsetX,titleOffsetY,14);	
 21151                        ;	}*/
 21152                        ;
 21153                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,color);//k_getUIGadgetColo
                    r());
 21154                        	.line	3727
 21155 06:55DC: D4 2E        	pei	<L965+color_0
 21156 06:55DE: D4 15        	pei	<L966+titleOffsetY_1
 21157 06:55E0: A5 09        	lda	<L966+metric_1
 21158 06:55E2: 0A           	asl	A
 21159 06:55E3: 85 01        	sta	<R0
 21160 06:55E5: 18           	clc
 21161 06:55E6: A9 02 00     	lda	#$2
 21162 06:55E9: 65 01        	adc	<R0
 21163 06:55EB: 85 05        	sta	<R1
 21164 06:55ED: 38           	sec
 21165 06:55EE: A5 1D        	lda	<L966+endX_1
 21166 06:55F0: E5 05        	sbc	<R1
 21167 06:55F2: 48           	pha
 21168 06:55F3: F4 04 00     	pea	#<$4
 21169 06:55F6: 22 F8 2A 06  	jsl	~~k_put_wingadget_point
 21170                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,color);//k_getUIGadgetColor());
 21171                        	.line	3728
 21172 06:55FA: D4 2E        	pei	<L965+color_0
 21173 06:55FC: D4 15        	pei	<L966+titleOffsetY_1
 21174 06:55FE: 38           	sec
 21175 06:55FF: A5 1D        	lda	<L966+endX_1
 21176 06:5601: E5 09        	sbc	<L966+metric_1
 21177 06:5603: 48           	pha
 21178 06:5604: F4 03 00     	pea	#<$3
 21179 06:5607: 22 F8 2A 06  	jsl	~~k_put_wingadget_point
 21180                        ;
 21181                        ;	//k_render_wingadget(WINICON_TITLE_BACK,endX - (
                    metric.width*2 + 2),titleOffsetY,14,k_gadget_title_back_call
                    back);
 21182                        ;	//k_render_wingadget(WINICON_TITLE_FRONT,endX - 
                    (metric.width),titleOffsetY,14,k_gadget_title_front_callback
                    );
 21183                        ;
 21184                        ;	if(title)
  Sat Jul 10 2021  1:15                                                Page 392


 21185                        	.line	3733
 21186                        ;		i = k_draw_text_point(title,cx+2+metric.
                    width,titleOffsetY,color);//k_getUIGadgetColor());
 21187 06:560B: A5 2A        	lda	<L965+title_0
 21188 06:560D: 05 2C        	ora	<L965+title_0+2
 21189 06:560F: D0 03        	bne	L972
 21190 06:5611: 82 1C 00     	brl	L10398
 21191                        L972:
 21192                        	.line	3734
 21193 06:5614: D4 2E        	pei	<L965+color_0
 21194 06:5616: D4 15        	pei	<L966+titleOffsetY_1
 21195 06:5618: 18           	clc
 21196 06:5619: A5 22        	lda	<L965+cx_0
 21197 06:561B: 65 09        	adc	<L966+metric_1
 21198 06:561D: 85 01        	sta	<R0
 21199 06:561F: 18           	clc
 21200 06:5620: A9 02 00     	lda	#$2
 21201 06:5623: 65 01        	adc	<R0
 21202 06:5625: 48           	pha
 21203 06:5626: D4 2C        	pei	<L965+title_0+2
 21204 06:5628: D4 2A        	pei	<L965+title_0
 21205 06:562A: 22 DB 1F 06  	jsl	~~k_draw_text_point
 21206 06:562E: 85 0D        	sta	<L966+i_1
 21207                        ;	//k_render_text(title,cx+2+metric.width,titleOff
                    setY,bgcolor,k_text_callback);
 21208                        ;
 21209                        ;	
 21210                        ;	return NULL;
 21211                        L10398:
 21212                        	.line	3738
 21213 06:5630: A9 00 00     	lda	#$0
 21214 06:5633: AA           	tax
 21215 06:5634: A9 00 00     	lda	#$0
 21216                        L973:
 21217 06:5637: A8           	tay
 21218 06:5638: A5 20        	lda	<L965+2
 21219 06:563A: 85 32        	sta	<L965+2+18
 21220 06:563C: A5 1F        	lda	<L965+1
 21221 06:563E: 85 31        	sta	<L965+1+18
 21222 06:5640: 2B           	pld
 21223 06:5641: 3B           	tsc
 21224 06:5642: 18           	clc
 21225 06:5643: 69 30 00     	adc	#L965+18
 21226 06:5646: 1B           	tcs
 21227 06:5647: 98           	tya
 21228 06:5648: 6B           	rtl
 21229                        ;}
 21230                        	.line	3739
 21231                        	.endblock	3739
 21232             0000001E   L965	equ	30
 21233             00000009   L966	equ	9
 21234 06:5649:              	ends
 21235                        	efunc
 21236                        	.endfunc	3739,9,30
 21237                        	.line	3739
 21238                        ;
 21239                        ;
 21240                        ;PMENU k_vdraw_ui_menu_with_rect(int cx,int cy,int
  Sat Jul 10 2021  1:15                                                Page 393


                     width,int height,LPCSTR title,int color, int bgcolor,LPVOID
                     *prects)
 21241                        ;{
 21242                        	.line	3742
 21243                        	.line	3743
 21244                        	GFX
 21245                        	xdef	~~k_vdraw_ui_menu_with_rect
 21246                        	func
 21247                        	.function	3743
 21248                        ~~k_vdraw_ui_menu_with_rect:
 21249                        	longa	on
 21250                        	longi	on
 21251 06:5649: 3B           	tsc
 21252 06:564A: 38           	sec
 21253 06:564B: E9 1E 00     	sbc	#L974
 21254 06:564E: 1B           	tcs
 21255 06:564F: 0B           	phd
 21256 06:5650: 5B           	tcd
 21257             00000004   cx_0	set	4
 21258             00000006   cy_0	set	6
 21259             00000008   width_0	set	8
 21260             0000000A   height_0	set	10
 21261             0000000C   title_0	set	12
 21262             00000010   color_0	set	16
 21263             00000012   bgcolor_0	set	18
 21264             00000014   prects_0	set	20
 21265                        	.block	3743
 21266                        ;	FONTMETRIC metric;
 21267                        ;
 21268                        ;	int i = 0;
 21269                        ;
 21270                        ;	int borderTitle = 10;
 21271                        ;	int borderWidth = 3;
 21272                        ;
 21273                        ;	int titleOffsetX = cx+2;
 21274                        ;	int titleOffsetY = cy+2;
 21275                        ;	int titleScaler = 0;
 21276                        ;
 21277                        ;	int clientOffsetX = cx+borderWidth+2;
 21278                        ;	int clientOffsetY = cy+borderTitle+1;
 21279                        ;
 21280                        ;	int endX = width + cx - borderWidth;
 21281                        ;
 21282                        ;
 21283                        ;	k_get_font_metrics(&metric);
 21284             00000000   metric_1	set	0
 21285             00000004   i_1	set	4
 21286             00000006   borderTitle_1	set	6
 21287             00000008   borderWidth_1	set	8
 21288             0000000A   titleOffsetX_1	set	10
 21289             0000000C   titleOffsetY_1	set	12
 21290             0000000E   titleScaler_1	set	14
 21291             00000010   clientOffsetX_1	set	16
 21292             00000012   clientOffsetY_1	set	18
 21293             00000014   endX_1	set	20
 21294                        	.sym	metric,0,10,1,32,35
 21295                        	.sym	i,4,5,1,16
 21296                        	.sym	borderTitle,6,5,1,16
  Sat Jul 10 2021  1:15                                                Page 394


 21297                        	.sym	borderWidth,8,5,1,16
 21298                        	.sym	titleOffsetX,10,5,1,16
 21299                        	.sym	titleOffsetY,12,5,1,16
 21300                        	.sym	titleScaler,14,5,1,16
 21301                        	.sym	clientOffsetX,16,5,1,16
 21302                        	.sym	clientOffsetY,18,5,1,16
 21303                        	.sym	endX,20,5,1,16
 21304                        	.sym	cx,4,5,6,16
 21305                        	.sym	cy,6,5,6,16
 21306                        	.sym	width,8,5,6,16
 21307                        	.sym	height,10,5,6,16
 21308                        	.sym	title,12,142,6,32
 21309                        	.sym	color,16,5,6,16
 21310                        	.sym	bgcolor,18,5,6,16
 21311                        	.sym	prects,20,1153,6,32
 21312 06:5651: 64 0D        	stz	<L975+i_1
 21313 06:5653: A9 0A 00     	lda	#$a
 21314 06:5656: 85 0F        	sta	<L975+borderTitle_1
 21315 06:5658: A9 03 00     	lda	#$3
 21316 06:565B: 85 11        	sta	<L975+borderWidth_1
 21317 06:565D: 18           	clc
 21318 06:565E: A9 02 00     	lda	#$2
 21319 06:5661: 65 22        	adc	<L974+cx_0
 21320 06:5663: 85 13        	sta	<L975+titleOffsetX_1
 21321 06:5665: 18           	clc
 21322 06:5666: A9 02 00     	lda	#$2
 21323 06:5669: 65 24        	adc	<L974+cy_0
 21324 06:566B: 85 15        	sta	<L975+titleOffsetY_1
 21325 06:566D: 64 17        	stz	<L975+titleScaler_1
 21326 06:566F: 18           	clc
 21327 06:5670: A5 22        	lda	<L974+cx_0
 21328 06:5672: 65 11        	adc	<L975+borderWidth_1
 21329 06:5674: 85 01        	sta	<R0
 21330 06:5676: 18           	clc
 21331 06:5677: A9 02 00     	lda	#$2
 21332 06:567A: 65 01        	adc	<R0
 21333 06:567C: 85 19        	sta	<L975+clientOffsetX_1
 21334 06:567E: 18           	clc
 21335 06:567F: A5 24        	lda	<L974+cy_0
 21336 06:5681: 65 0F        	adc	<L975+borderTitle_1
 21337 06:5683: 85 01        	sta	<R0
 21338 06:5685: A5 01        	lda	<R0
 21339 06:5687: 1A           	ina
 21340 06:5688: 85 1B        	sta	<L975+clientOffsetY_1
 21341 06:568A: 18           	clc
 21342 06:568B: A5 26        	lda	<L974+width_0
 21343 06:568D: 65 22        	adc	<L974+cx_0
 21344 06:568F: 85 01        	sta	<R0
 21345 06:5691: 38           	sec
 21346 06:5692: A5 01        	lda	<R0
 21347 06:5694: E5 11        	sbc	<L975+borderWidth_1
 21348 06:5696: 85 1D        	sta	<L975+endX_1
 21349                        	.line	3761
 21350 06:5698: F4 00 00     	pea	#0
 21351 06:569B: 18           	clc
 21352 06:569C: 7B           	tdc
 21353 06:569D: 69 09 00     	adc	#<L975+metric_1
 21354 06:56A0: 48           	pha
  Sat Jul 10 2021  1:15                                                Page 395


 21355 06:56A1: 22 B2 23 06  	jsl	~~k_get_font_metrics
 21356                        ;
 21357                        ;
 21358                        ;	//int height = 0;
 21359                        ;	/*
 21360                        ;	PMENU menu = (PMENU)k_mem_allocate_heap(sizeof(M
                    ENU));
 21361                        ;	memset(menu,0,sizeof(MENU));
 21362                        ;
 21363                        ;	menu->cx = cx;
 21364                        ;	menu->cy = cy;
 21365                        ;	menu->fcolor = color;
 21366                        ;	menu->bcolor = bgcolor;
 21367                        ;	menu->pCaption = k_string_copy_string(strupr(tit
                    le));
 21368                        ;
 21369                        ;	k_get_font_metrics(&metric);
 21370                        ;
 21371                        ;	//height = metric.height + (int)(metric.width/4)
                    ;
 21372                        ;
 21373                        ;	menu->height = height;
 21374                        ;	menu->width  = width;
 21375                        ;
 21376                        ;
 21377                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cx:",menu
                    ->cx);
 21378                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cy:",menu
                    ->cy);
 21379                        ;	k_debug_integer("k_vdraw_ui_menu:menu->height:",
                    menu->height);
 21380                        ;	k_debug_integer("k_vdraw_ui_menu:menu->width:",m
                    enu->width);
 21381                        ;	*/
 21382                        ;
 21383                        ;	//k_vdma_fill_rect(cx,cy,width,height,color);
 21384                        ;
 21385                        ;	//k_vdma_fill_rect(cx,cy,width,height,bgcolor); 
                    // +1 on width and height for VDMA
 21386                        ;	k_vdma_fill_rect(cx,cy,width,height,color);
 21387                        	.line	3792
 21388 06:56A5: D4 2E        	pei	<L974+color_0
 21389 06:56A7: D4 28        	pei	<L974+height_0
 21390 06:56A9: D4 26        	pei	<L974+width_0
 21391 06:56AB: A0 00 00     	ldy	#$0
 21392 06:56AE: A5 24        	lda	<L974+cy_0
 21393 06:56B0: 10 01        	bpl	L977
 21394 06:56B2: 88           	dey
 21395                        L977:
 21396 06:56B3: 85 01        	sta	<R0
 21397 06:56B5: 84 03        	sty	<R0+2
 21398 06:56B7: D4 03        	pei	<R0+2
 21399 06:56B9: D4 01        	pei	<R0
 21400 06:56BB: A0 00 00     	ldy	#$0
 21401 06:56BE: A5 22        	lda	<L974+cx_0
 21402 06:56C0: 10 01        	bpl	L978
 21403 06:56C2: 88           	dey
 21404                        L978:
  Sat Jul 10 2021  1:15                                                Page 396


 21405 06:56C3: 85 05        	sta	<R1
 21406 06:56C5: 84 07        	sty	<R1+2
 21407 06:56C7: D4 07        	pei	<R1+2
 21408 06:56C9: D4 05        	pei	<R1
 21409 06:56CB: 22 BA 5F 06  	jsl	~~k_vdma_fill_rect
 21410                        ;
 21411                        ;	//k_delay(15);
 21412                        ;
 21413                        ;	//title = strupr(title);
 21414                        ;
 21415                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_ACLOSE,titleOffsetX,titleOffsetY,14);
 21416                        ;	/*
 21417                        ;	titleScaler = (int)(width / metric.width - 4);
 21418                        ;	for(i=0;i<titleScaler;i++)
 21419                        ;	{
 21420                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_LINES,titleOffsetX,titleOffsetY,14);
 21421                        ;	}*/
 21422                        ;
 21423                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,14);
 21424                        	.line	3806
 21425 06:56CF: F4 0E 00     	pea	#<$e
 21426 06:56D2: D4 15        	pei	<L975+titleOffsetY_1
 21427 06:56D4: A5 09        	lda	<L975+metric_1
 21428 06:56D6: 0A           	asl	A
 21429 06:56D7: 85 01        	sta	<R0
 21430 06:56D9: 18           	clc
 21431 06:56DA: A9 02 00     	lda	#$2
 21432 06:56DD: 65 01        	adc	<R0
 21433 06:56DF: 85 05        	sta	<R1
 21434 06:56E1: 38           	sec
 21435 06:56E2: A5 1D        	lda	<L975+endX_1
 21436 06:56E4: E5 05        	sbc	<R1
 21437 06:56E6: 48           	pha
 21438 06:56E7: F4 04 00     	pea	#<$4
 21439 06:56EA: 22 F8 2A 06  	jsl	~~k_put_wingadget_point
 21440                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,14);
 21441                        	.line	3807
 21442 06:56EE: F4 0E 00     	pea	#<$e
 21443 06:56F1: D4 15        	pei	<L975+titleOffsetY_1
 21444 06:56F3: 38           	sec
 21445 06:56F4: A5 1D        	lda	<L975+endX_1
 21446 06:56F6: E5 09        	sbc	<L975+metric_1
 21447 06:56F8: 48           	pha
 21448 06:56F9: F4 03 00     	pea	#<$3
 21449 06:56FC: 22 F8 2A 06  	jsl	~~k_put_wingadget_point
 21450                        ;
 21451                        ;	//k_render_wingadget(WINICON_TITLE_BACK,endX - (
                    metric.width*2 + 2),titleOffsetY,14,k_gadget_title_back_call
                    back);
 21452                        ;	//k_render_wingadget(WINICON_TITLE_FRONT,endX - 
                    (metric.width),titleOffsetY,14,k_gadget_title_front_callback
                    );
 21453                        ;
 21454                        ;	//i = k_draw_text_point(title,cx+2+metric.width,
  Sat Jul 10 2021  1:15                                                Page 397


                    titleOffsetY,bgcolor);
 21455                        ;	//k_render_text(title,cx+2+metric.width,titleOff
                    setY,bgcolor,k_text_callback);
 21456                        ;
 21457                        ;
 21458                        ;	return NULL;
 21459                        	.line	3816
 21460 06:5700: A9 00 00     	lda	#$0
 21461 06:5703: AA           	tax
 21462 06:5704: A9 00 00     	lda	#$0
 21463                        L979:
 21464 06:5707: A8           	tay
 21465 06:5708: A5 20        	lda	<L974+2
 21466 06:570A: 85 34        	sta	<L974+2+20
 21467 06:570C: A5 1F        	lda	<L974+1
 21468 06:570E: 85 33        	sta	<L974+1+20
 21469 06:5710: 2B           	pld
 21470 06:5711: 3B           	tsc
 21471 06:5712: 18           	clc
 21472 06:5713: 69 32 00     	adc	#L974+20
 21473 06:5716: 1B           	tcs
 21474 06:5717: 98           	tya
 21475 06:5718: 6B           	rtl
 21476                        ;}
 21477                        	.line	3817
 21478                        	.endblock	3817
 21479             0000001E   L974	equ	30
 21480             00000009   L975	equ	9
 21481 06:5719:              	ends
 21482                        	efunc
 21483                        	.endfunc	3817,9,30
 21484                        	.line	3817
 21485                        ;
 21486                        ;
 21487                        ;
 21488                        ;void k_gadget_title_front_callback(PWINDOW gadget
                    Window)
 21489                        ;{
 21490                        	.line	3821
 21491                        	.line	3822
 21492                        	GFX
 21493                        	xdef	~~k_gadget_title_front_callback
 21494                        	func
 21495                        	.function	3822
 21496                        ~~k_gadget_title_front_callback:
 21497                        	longa	on
 21498                        	longi	on
 21499 06:5719: 3B           	tsc
 21500 06:571A: 38           	sec
 21501 06:571B: E9 04 00     	sbc	#L980
 21502 06:571E: 1B           	tcs
 21503 06:571F: 0B           	phd
 21504 06:5720: 5B           	tcd
 21505             00000004   gadgetWindow_0	set	4
 21506                        	.block	3822
 21507                        ;	k_debug_message("k_gadget_title_front_callback:c
                    licked:",gadgetWindow->win_class);
 21508                        	.sym	gadgetWindow,4,138,6,32,33
  Sat Jul 10 2021  1:15                                                Page 398


 21509                        	.line	3823
 21510 06:5721: 18           	clc
 21511 06:5722: A9 6E 01     	lda	#$16e
 21512 06:5725: 65 08        	adc	<L980+gadgetWindow_0
 21513 06:5727: 85 01        	sta	<R0
 21514 06:5729: A9 00 00     	lda	#$0
 21515 06:572C: 65 0A        	adc	<L980+gadgetWindow_0+2
 21516 06:572E: 85 03        	sta	<R0+2
 21517 06:5730: D4 03        	pei	<R0+2
 21518 06:5732: D4 01        	pei	<R0
 21519 06:5734: F4 xx xx     	pea	#^L954
 21520 06:5737: F4 xx xx     	pea	#<L954
 21521 06:573A: 22 xx xx xx  	jsl	~~k_debug_message
 21522                        ;	k_send_message(NULL,FX_WINDOW_TOFRONT,NULL,0);
 21523                        	.line	3824
 21524 06:573E: F4 00 00     	pea	#<$0
 21525 06:5741: F4 00 00     	pea	#^$0
 21526 06:5744: F4 00 00     	pea	#<$0
 21527 06:5747: F4 30 0F     	pea	#<$f30
 21528 06:574A: F4 00 00     	pea	#^$0
 21529 06:574D: F4 00 00     	pea	#<$0
 21530 06:5750: 22 xx xx xx  	jsl	~~k_send_message
 21531                        ;	return;
 21532                        	.line	3825
 21533                        L983:
 21534 06:5754: A5 06        	lda	<L980+2
 21535 06:5756: 85 0A        	sta	<L980+2+4
 21536 06:5758: A5 05        	lda	<L980+1
 21537 06:575A: 85 09        	sta	<L980+1+4
 21538 06:575C: 2B           	pld
 21539 06:575D: 3B           	tsc
 21540 06:575E: 18           	clc
 21541 06:575F: 69 08 00     	adc	#L980+4
 21542 06:5762: 1B           	tcs
 21543 06:5763: 6B           	rtl
 21544                        ;}
 21545                        	.line	3826
 21546                        	.endblock	3826
 21547             00000004   L980	equ	4
 21548             00000005   L981	equ	5
 21549 06:5764:              	ends
 21550                        	efunc
 21551                        	.endfunc	3826,5,4
 21552                        	.line	3826
 21553                        	data
 21554                        L954:
 21555 00:0928: 6B 5F 67 61  	db	$6B,$5F,$67,$61,$64,$67,$65,$74,$5F,$74,
                    $69,$74,$6C,$65,$5F
       00:092C: 64 67 65 74 
       00:0930: 5F 74 69 74 
       00:0934: 6C 65 5F 
 21556 00:0937: 66 72 6F 6E  	db	$66,$72,$6F,$6E,$74,$5F,$63,$61,$6C,$6C,
                    $62,$61,$63,$6B,$3A
       00:093B: 74 5F 63 61 
       00:093F: 6C 6C 62 61 
       00:0943: 63 6B 3A 
 21557 00:0946: 63 6C 69 63  	db	$63,$6C,$69,$63,$6B,$65,$64,$3A,$00
       00:094A: 6B 65 64 3A 
  Sat Jul 10 2021  1:15                                                Page 399


       00:094E: 00 
 21558 00:094F:              	ends
 21559                        ;
 21560                        ;void k_gadget_title_back_callback(PWINDOW gadgetW
                    indow)
 21561                        ;{
 21562                        	.line	3828
 21563                        	.line	3829
 21564                        	GFX
 21565                        	xdef	~~k_gadget_title_back_callback
 21566                        	func
 21567                        	.function	3829
 21568                        ~~k_gadget_title_back_callback:
 21569                        	longa	on
 21570                        	longi	on
 21571 06:5764: 3B           	tsc
 21572 06:5765: 38           	sec
 21573 06:5766: E9 04 00     	sbc	#L985
 21574 06:5769: 1B           	tcs
 21575 06:576A: 0B           	phd
 21576 06:576B: 5B           	tcd
 21577             00000004   gadgetWindow_0	set	4
 21578                        	.block	3829
 21579                        ;	k_debug_message("k_gadget_title_back_callback:cl
                    icked:",gadgetWindow->win_class);
 21580                        	.sym	gadgetWindow,4,138,6,32,33
 21581                        	.line	3830
 21582 06:576C: 18           	clc
 21583 06:576D: A9 6E 01     	lda	#$16e
 21584 06:5770: 65 08        	adc	<L985+gadgetWindow_0
 21585 06:5772: 85 01        	sta	<R0
 21586 06:5774: A9 00 00     	lda	#$0
 21587 06:5777: 65 0A        	adc	<L985+gadgetWindow_0+2
 21588 06:5779: 85 03        	sta	<R0+2
 21589 06:577B: D4 03        	pei	<R0+2
 21590 06:577D: D4 01        	pei	<R0
 21591 06:577F: F4 xx xx     	pea	#^L984
 21592 06:5782: F4 xx xx     	pea	#<L984
 21593 06:5785: 22 xx xx xx  	jsl	~~k_debug_message
 21594                        ;	k_send_message(NULL,FX_WINDOW_TOBACK,NULL,0);
 21595                        	.line	3831
 21596 06:5789: F4 00 00     	pea	#<$0
 21597 06:578C: F4 00 00     	pea	#^$0
 21598 06:578F: F4 00 00     	pea	#<$0
 21599 06:5792: F4 31 0F     	pea	#<$f31
 21600 06:5795: F4 00 00     	pea	#^$0
 21601 06:5798: F4 00 00     	pea	#<$0
 21602 06:579B: 22 xx xx xx  	jsl	~~k_send_message
 21603                        ;	return;
 21604                        	.line	3832
 21605                        L988:
 21606 06:579F: A5 06        	lda	<L985+2
 21607 06:57A1: 85 0A        	sta	<L985+2+4
 21608 06:57A3: A5 05        	lda	<L985+1
 21609 06:57A5: 85 09        	sta	<L985+1+4
 21610 06:57A7: 2B           	pld
 21611 06:57A8: 3B           	tsc
 21612 06:57A9: 18           	clc
  Sat Jul 10 2021  1:15                                                Page 400


 21613 06:57AA: 69 08 00     	adc	#L985+4
 21614 06:57AD: 1B           	tcs
 21615 06:57AE: 6B           	rtl
 21616                        ;}
 21617                        	.line	3833
 21618                        	.endblock	3833
 21619             00000004   L985	equ	4
 21620             00000005   L986	equ	5
 21621 06:57AF:              	ends
 21622                        	efunc
 21623                        	.endfunc	3833,5,4
 21624                        	.line	3833
 21625                        	data
 21626                        L984:
 21627 00:094F: 6B 5F 67 61  	db	$6B,$5F,$67,$61,$64,$67,$65,$74,$5F,$74,
                    $69,$74,$6C,$65,$5F
       00:0953: 64 67 65 74 
       00:0957: 5F 74 69 74 
       00:095B: 6C 65 5F 
 21628 00:095E: 62 61 63 6B  	db	$62,$61,$63,$6B,$5F,$63,$61,$6C,$6C,$62,
                    $61,$63,$6B,$3A,$63
       00:0962: 5F 63 61 6C 
       00:0966: 6C 62 61 63 
       00:096A: 6B 3A 63 
 21629 00:096D: 6C 69 63 6B  	db	$6C,$69,$63,$6B,$65,$64,$3A,$00
       00:0971: 65 64 3A 00 
 21630 00:0975:              	ends
 21631                        ;
 21632                        ;
 21633                        ;
 21634                        ;PMENU k_render_menu(PMENU menu)
 21635                        ;{
 21636                        	.line	3837
 21637                        	.line	3838
 21638                        	GFX
 21639                        	xdef	~~k_render_menu
 21640                        	func
 21641                        	.function	3838
 21642                        ~~k_render_menu:
 21643                        	longa	on
 21644                        	longi	on
 21645 06:57AF: 3B           	tsc
 21646 06:57B0: 38           	sec
 21647 06:57B1: E9 22 00     	sbc	#L990
 21648 06:57B4: 1B           	tcs
 21649 06:57B5: 0B           	phd
 21650 06:57B6: 5B           	tcd
 21651             00000004   menu_0	set	4
 21652                        	.block	3838
 21653                        ;	FONTMETRIC metric;
 21654                        ;
 21655                        ;	int i = 0;
 21656                        ;
 21657                        ;	int cx = menu->cx;
 21658                        ;	int cy = menu->cy;
 21659                        ;
 21660                        ;	int borderTitle = 10;
 21661                        ;	int borderWidth = 3;
  Sat Jul 10 2021  1:15                                                Page 401


 21662                        ;
 21663                        ;	int titleOffsetX = cx+2;
 21664                        ;	int titleOffsetY = cy+2;
 21665                        ;	int titleScaler = 0;
 21666                        ;
 21667                        ;	int clientOffsetX = cx+borderWidth+2;
 21668                        ;	int clientOffsetY = cy+borderTitle+1;
 21669                        ;
 21670                        ;	int endX = menu->width + cx - borderWidth;
 21671                        ;
 21672                        ;	k_get_font_metrics(&metric);
 21673             00000000   metric_1	set	0
 21674             00000004   i_1	set	4
 21675             00000006   cx_1	set	6
 21676             00000008   cy_1	set	8
 21677             0000000A   borderTitle_1	set	10
 21678             0000000C   borderWidth_1	set	12
 21679             0000000E   titleOffsetX_1	set	14
 21680             00000010   titleOffsetY_1	set	16
 21681             00000012   titleScaler_1	set	18
 21682             00000014   clientOffsetX_1	set	20
 21683             00000016   clientOffsetY_1	set	22
 21684             00000018   endX_1	set	24
 21685                        	.sym	metric,0,10,1,32,35
 21686                        	.sym	i,4,5,1,16
 21687                        	.sym	cx,6,5,1,16
 21688                        	.sym	cy,8,5,1,16
 21689                        	.sym	borderTitle,10,5,1,16
 21690                        	.sym	borderWidth,12,5,1,16
 21691                        	.sym	titleOffsetX,14,5,1,16
 21692                        	.sym	titleOffsetY,16,5,1,16
 21693                        	.sym	titleScaler,18,5,1,16
 21694                        	.sym	clientOffsetX,20,5,1,16
 21695                        	.sym	clientOffsetY,22,5,1,16
 21696                        	.sym	endX,24,5,1,16
 21697                        	.sym	menu,4,138,6,32,36
 21698 06:57B7: 64 0D        	stz	<L991+i_1
 21699 06:57B9: A7 26        	lda	[<L990+menu_0]
 21700 06:57BB: 85 0F        	sta	<L991+cx_1
 21701 06:57BD: A0 02 00     	ldy	#$2
 21702 06:57C0: B7 26        	lda	[<L990+menu_0],Y
 21703 06:57C2: 85 11        	sta	<L991+cy_1
 21704 06:57C4: A9 0A 00     	lda	#$a
 21705 06:57C7: 85 13        	sta	<L991+borderTitle_1
 21706 06:57C9: A9 03 00     	lda	#$3
 21707 06:57CC: 85 15        	sta	<L991+borderWidth_1
 21708 06:57CE: 18           	clc
 21709 06:57CF: A9 02 00     	lda	#$2
 21710 06:57D2: 65 0F        	adc	<L991+cx_1
 21711 06:57D4: 85 17        	sta	<L991+titleOffsetX_1
 21712 06:57D6: 18           	clc
 21713 06:57D7: A9 02 00     	lda	#$2
 21714 06:57DA: 65 11        	adc	<L991+cy_1
 21715 06:57DC: 85 19        	sta	<L991+titleOffsetY_1
 21716 06:57DE: 64 1B        	stz	<L991+titleScaler_1
 21717 06:57E0: 18           	clc
 21718 06:57E1: A5 0F        	lda	<L991+cx_1
 21719 06:57E3: 65 15        	adc	<L991+borderWidth_1
  Sat Jul 10 2021  1:15                                                Page 402


 21720 06:57E5: 85 01        	sta	<R0
 21721 06:57E7: 18           	clc
 21722 06:57E8: A9 02 00     	lda	#$2
 21723 06:57EB: 65 01        	adc	<R0
 21724 06:57ED: 85 1D        	sta	<L991+clientOffsetX_1
 21725 06:57EF: 18           	clc
 21726 06:57F0: A5 11        	lda	<L991+cy_1
 21727 06:57F2: 65 13        	adc	<L991+borderTitle_1
 21728 06:57F4: 85 01        	sta	<R0
 21729 06:57F6: A5 01        	lda	<R0
 21730 06:57F8: 1A           	ina
 21731 06:57F9: 85 1F        	sta	<L991+clientOffsetY_1
 21732 06:57FB: 18           	clc
 21733 06:57FC: A0 04 00     	ldy	#$4
 21734 06:57FF: B7 26        	lda	[<L990+menu_0],Y
 21735 06:5801: 65 0F        	adc	<L991+cx_1
 21736 06:5803: 85 01        	sta	<R0
 21737 06:5805: 38           	sec
 21738 06:5806: A5 01        	lda	<R0
 21739 06:5808: E5 15        	sbc	<L991+borderWidth_1
 21740 06:580A: 85 21        	sta	<L991+endX_1
 21741                        	.line	3858
 21742 06:580C: F4 00 00     	pea	#0
 21743 06:580F: 18           	clc
 21744 06:5810: 7B           	tdc
 21745 06:5811: 69 09 00     	adc	#<L991+metric_1
 21746 06:5814: 48           	pha
 21747 06:5815: 22 B2 23 06  	jsl	~~k_get_font_metrics
 21748                        ;
 21749                        ;
 21750                        ;	k_debug_integer("k_render_menu:menu->cx:",menu->
                    cx);
 21751                        	.line	3861
 21752 06:5819: A7 26        	lda	[<L990+menu_0]
 21753 06:581B: 48           	pha
 21754 06:581C: F4 xx xx     	pea	#^L989
 21755 06:581F: F4 xx xx     	pea	#<L989
 21756 06:5822: 22 xx xx xx  	jsl	~~k_debug_integer
 21757                        ;	k_debug_integer("k_render_menu:menu->cy:",menu->
                    cy);
 21758                        	.line	3862
 21759 06:5826: A0 02 00     	ldy	#$2
 21760 06:5829: B7 26        	lda	[<L990+menu_0],Y
 21761 06:582B: 48           	pha
 21762 06:582C: F4 xx xx     	pea	#^L989+24
 21763 06:582F: F4 xx xx     	pea	#<L989+24
 21764 06:5832: 22 xx xx xx  	jsl	~~k_debug_integer
 21765                        ;	k_debug_integer("k_render_menu:menu->height:",me
                    nu->height);
 21766                        	.line	3863
 21767 06:5836: A0 06 00     	ldy	#$6
 21768 06:5839: B7 26        	lda	[<L990+menu_0],Y
 21769 06:583B: 48           	pha
 21770 06:583C: F4 xx xx     	pea	#^L989+48
 21771 06:583F: F4 xx xx     	pea	#<L989+48
 21772 06:5842: 22 xx xx xx  	jsl	~~k_debug_integer
 21773                        ;	k_debug_integer("k_render_menu:menu->width:",men
                    u->width);
  Sat Jul 10 2021  1:15                                                Page 403


 21774                        	.line	3864
 21775 06:5846: A0 04 00     	ldy	#$4
 21776 06:5849: B7 26        	lda	[<L990+menu_0],Y
 21777 06:584B: 48           	pha
 21778 06:584C: F4 xx xx     	pea	#^L989+76
 21779 06:584F: F4 xx xx     	pea	#<L989+76
 21780 06:5852: 22 xx xx xx  	jsl	~~k_debug_integer
 21781                        ;
 21782                        ;
 21783                        ;	k_vdma_fill_rect(cx-1,cy,menu->width+1,menu->hei
                    ght+1,0);
 21784                        	.line	3867
 21785 06:5856: F4 00 00     	pea	#<$0
 21786 06:5859: A0 06 00     	ldy	#$6
 21787 06:585C: B7 26        	lda	[<L990+menu_0],Y
 21788 06:585E: 1A           	ina
 21789 06:585F: 48           	pha
 21790 06:5860: A0 04 00     	ldy	#$4
 21791 06:5863: B7 26        	lda	[<L990+menu_0],Y
 21792 06:5865: 1A           	ina
 21793 06:5866: 48           	pha
 21794 06:5867: A0 00 00     	ldy	#$0
 21795 06:586A: A5 11        	lda	<L991+cy_1
 21796 06:586C: 10 01        	bpl	L993
 21797 06:586E: 88           	dey
 21798                        L993:
 21799 06:586F: 85 01        	sta	<R0
 21800 06:5871: 84 03        	sty	<R0+2
 21801 06:5873: D4 03        	pei	<R0+2
 21802 06:5875: D4 01        	pei	<R0
 21803 06:5877: 18           	clc
 21804 06:5878: A9 FF FF     	lda	#$ffff
 21805 06:587B: 65 0F        	adc	<L991+cx_1
 21806 06:587D: 85 05        	sta	<R1
 21807 06:587F: A0 00 00     	ldy	#$0
 21808 06:5882: A5 05        	lda	<R1
 21809 06:5884: 10 01        	bpl	L994
 21810 06:5886: 88           	dey
 21811                        L994:
 21812 06:5887: 85 05        	sta	<R1
 21813 06:5889: 84 07        	sty	<R1+2
 21814 06:588B: D4 07        	pei	<R1+2
 21815 06:588D: D4 05        	pei	<R1
 21816 06:588F: 22 BA 5F 06  	jsl	~~k_vdma_fill_rect
 21817                        ;	k_vdma_fill_rect(cx,cy,menu->width,menu->height,
                    menu->fcolor);
 21818                        	.line	3868
 21819 06:5893: A0 08 00     	ldy	#$8
 21820 06:5896: B7 26        	lda	[<L990+menu_0],Y
 21821 06:5898: 48           	pha
 21822 06:5899: A0 06 00     	ldy	#$6
 21823 06:589C: B7 26        	lda	[<L990+menu_0],Y
 21824 06:589E: 48           	pha
 21825 06:589F: A0 04 00     	ldy	#$4
 21826 06:58A2: B7 26        	lda	[<L990+menu_0],Y
 21827 06:58A4: 48           	pha
 21828 06:58A5: A0 00 00     	ldy	#$0
 21829 06:58A8: A5 11        	lda	<L991+cy_1
  Sat Jul 10 2021  1:15                                                Page 404


 21830 06:58AA: 10 01        	bpl	L995
 21831 06:58AC: 88           	dey
 21832                        L995:
 21833 06:58AD: 85 01        	sta	<R0
 21834 06:58AF: 84 03        	sty	<R0+2
 21835 06:58B1: D4 03        	pei	<R0+2
 21836 06:58B3: D4 01        	pei	<R0
 21837 06:58B5: A0 00 00     	ldy	#$0
 21838 06:58B8: A5 0F        	lda	<L991+cx_1
 21839 06:58BA: 10 01        	bpl	L996
 21840 06:58BC: 88           	dey
 21841                        L996:
 21842 06:58BD: 85 05        	sta	<R1
 21843 06:58BF: 84 07        	sty	<R1+2
 21844 06:58C1: D4 07        	pei	<R1+2
 21845 06:58C3: D4 05        	pei	<R1
 21846 06:58C5: 22 BA 5F 06  	jsl	~~k_vdma_fill_rect
 21847                        ;
 21848                        ;	//k_vdma_fill_rect(cx,cy,menu->width,menu->heigh
                    t,menu->fcolor);
 21849                        ;
 21850                        ;
 21851                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,14);
 21852                        	.line	3873
 21853 06:58C9: F4 0E 00     	pea	#<$e
 21854 06:58CC: D4 19        	pei	<L991+titleOffsetY_1
 21855 06:58CE: A5 09        	lda	<L991+metric_1
 21856 06:58D0: 0A           	asl	A
 21857 06:58D1: 85 01        	sta	<R0
 21858 06:58D3: 18           	clc
 21859 06:58D4: A9 02 00     	lda	#$2
 21860 06:58D7: 65 01        	adc	<R0
 21861 06:58D9: 85 05        	sta	<R1
 21862 06:58DB: 38           	sec
 21863 06:58DC: A5 21        	lda	<L991+endX_1
 21864 06:58DE: E5 05        	sbc	<R1
 21865 06:58E0: 48           	pha
 21866 06:58E1: F4 04 00     	pea	#<$4
 21867 06:58E4: 22 F8 2A 06  	jsl	~~k_put_wingadget_point
 21868                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,14);
 21869                        	.line	3874
 21870 06:58E8: F4 0E 00     	pea	#<$e
 21871 06:58EB: D4 19        	pei	<L991+titleOffsetY_1
 21872 06:58ED: 38           	sec
 21873 06:58EE: A5 21        	lda	<L991+endX_1
 21874 06:58F0: E5 09        	sbc	<L991+metric_1
 21875 06:58F2: 48           	pha
 21876 06:58F3: F4 03 00     	pea	#<$3
 21877 06:58F6: 22 F8 2A 06  	jsl	~~k_put_wingadget_point
 21878                        ;
 21879                        ;	k_draw_text_point((LPCHAR)menu->pCaption,cx+2+me
                    tric.width,titleOffsetY,0);
 21880                        	.line	3876
 21881 06:58FA: F4 00 00     	pea	#<$0
 21882 06:58FD: D4 19        	pei	<L991+titleOffsetY_1
 21883 06:58FF: 18           	clc
  Sat Jul 10 2021  1:15                                                Page 405


 21884 06:5900: A5 0F        	lda	<L991+cx_1
 21885 06:5902: 65 09        	adc	<L991+metric_1
 21886 06:5904: 85 01        	sta	<R0
 21887 06:5906: 18           	clc
 21888 06:5907: A9 02 00     	lda	#$2
 21889 06:590A: 65 01        	adc	<R0
 21890 06:590C: 48           	pha
 21891 06:590D: A0 15 00     	ldy	#$15
 21892 06:5910: B7 26        	lda	[<L990+menu_0],Y
 21893 06:5912: 48           	pha
 21894 06:5913: A0 13 00     	ldy	#$13
 21895 06:5916: B7 26        	lda	[<L990+menu_0],Y
 21896 06:5918: 48           	pha
 21897 06:5919: 22 DB 1F 06  	jsl	~~k_draw_text_point
 21898                        ;
 21899                        ;	return menu;
 21900                        	.line	3878
 21901 06:591D: A6 28        	ldx	<L990+menu_0+2
 21902 06:591F: A5 26        	lda	<L990+menu_0
 21903                        L997:
 21904 06:5921: A8           	tay
 21905 06:5922: A5 24        	lda	<L990+2
 21906 06:5924: 85 28        	sta	<L990+2+4
 21907 06:5926: A5 23        	lda	<L990+1
 21908 06:5928: 85 27        	sta	<L990+1+4
 21909 06:592A: 2B           	pld
 21910 06:592B: 3B           	tsc
 21911 06:592C: 18           	clc
 21912 06:592D: 69 26 00     	adc	#L990+4
 21913 06:5930: 1B           	tcs
 21914 06:5931: 98           	tya
 21915 06:5932: 6B           	rtl
 21916                        ;}
 21917                        	.line	3879
 21918                        	.endblock	3879
 21919             00000022   L990	equ	34
 21920             00000009   L991	equ	9
 21921 06:5933:              	ends
 21922                        	efunc
 21923                        	.endfunc	3879,9,34
 21924                        	.line	3879
 21925                        	data
 21926                        L989:
 21927 00:0975: 6B 5F 72 65  	db	$6B,$5F,$72,$65,$6E,$64,$65,$72,$5F,$6D,
                    $65,$6E,$75,$3A,$6D
       00:0979: 6E 64 65 72 
       00:097D: 5F 6D 65 6E 
       00:0981: 75 3A 6D 
 21928 00:0984: 65 6E 75 2D  	db	$65,$6E,$75,$2D,$3E,$63,$78,$3A,$00,$6B,
                    $5F,$72,$65,$6E,$64
       00:0988: 3E 63 78 3A 
       00:098C: 00 6B 5F 72 
       00:0990: 65 6E 64 
 21929 00:0993: 65 72 5F 6D  	db	$65,$72,$5F,$6D,$65,$6E,$75,$3A,$6D,$65,
                    $6E,$75,$2D,$3E,$63
       00:0997: 65 6E 75 3A 
       00:099B: 6D 65 6E 75 
       00:099F: 2D 3E 63 
  Sat Jul 10 2021  1:15                                                Page 406


 21930 00:09A2: 79 3A 00 6B  	db	$79,$3A,$00,$6B,$5F,$72,$65,$6E,$64,$65,
                    $72,$5F,$6D,$65,$6E
       00:09A6: 5F 72 65 6E 
       00:09AA: 64 65 72 5F 
       00:09AE: 6D 65 6E 
 21931 00:09B1: 75 3A 6D 65  	db	$75,$3A,$6D,$65,$6E,$75,$2D,$3E,$68,$65,
                    $69,$67,$68,$74,$3A
       00:09B5: 6E 75 2D 3E 
       00:09B9: 68 65 69 67 
       00:09BD: 68 74 3A 
 21932 00:09C0: 00 6B 5F 72  	db	$00,$6B,$5F,$72,$65,$6E,$64,$65,$72,$5F,
                    $6D,$65,$6E,$75,$3A
       00:09C4: 65 6E 64 65 
       00:09C8: 72 5F 6D 65 
       00:09CC: 6E 75 3A 
 21933 00:09CF: 6D 65 6E 75  	db	$6D,$65,$6E,$75,$2D,$3E,$77,$69,$64,$74,
                    $68,$3A,$00
       00:09D3: 2D 3E 77 69 
       00:09D7: 64 74 68 3A 
       00:09DB: 00 
 21934 00:09DC:              	ends
 21935                        ;
 21936                        ;void k_draw_ui_window(int cx,int cy,int height,in
                    t width,char FAR *title,int color, int bgcolor)
 21937                        ;{
 21938                        	.line	3881
 21939                        	.line	3882
 21940                        	GFX
 21941                        	xdef	~~k_draw_ui_window
 21942                        	func
 21943                        	.function	3882
 21944                        ~~k_draw_ui_window:
 21945                        	longa	on
 21946                        	longi	on
 21947 06:5933: 3B           	tsc
 21948 06:5934: 38           	sec
 21949 06:5935: E9 22 00     	sbc	#L999
 21950 06:5938: 1B           	tcs
 21951 06:5939: 0B           	phd
 21952 06:593A: 5B           	tcd
 21953             00000004   cx_0	set	4
 21954             00000006   cy_0	set	6
 21955             00000008   height_0	set	8
 21956             0000000A   width_0	set	10
 21957             0000000C   title_0	set	12
 21958             00000010   color_0	set	16
 21959             00000012   bgcolor_0	set	18
 21960                        	.block	3882
 21961                        ;	FONTMETRIC metric;
 21962                        ;	
 21963                        ;	int i = 0;
 21964                        ;	
 21965                        ;	int borderTitle = 10;
 21966                        ;	int borderWidth = 2;
 21967                        ;
 21968                        ;	int titleOffsetX = cx+2;
 21969                        ;	int titleOffsetY = cy+2;
 21970                        ;	int titleScaler = 0;
  Sat Jul 10 2021  1:15                                                Page 407


 21971                        ;	
 21972                        ;	int clientOffsetX = cx+borderWidth+2;
 21973                        ;	int clientOffsetY = cy+borderTitle+1;
 21974                        ;	
 21975                        ;	int currX = clientOffsetX;
 21976                        ;	int currY = clientOffsetY;
 21977                        ;	
 21978                        ;	int endX = width + cx - borderWidth;
 21979                        ;	
 21980                        ;	k_draw_filled_rect(cx,cy,height,width,color);	
 21981             00000000   metric_1	set	0
 21982             00000004   i_1	set	4
 21983             00000006   borderTitle_1	set	6
 21984             00000008   borderWidth_1	set	8
 21985             0000000A   titleOffsetX_1	set	10
 21986             0000000C   titleOffsetY_1	set	12
 21987             0000000E   titleScaler_1	set	14
 21988             00000010   clientOffsetX_1	set	16
 21989             00000012   clientOffsetY_1	set	18
 21990             00000014   currX_1	set	20
 21991             00000016   currY_1	set	22
 21992             00000018   endX_1	set	24
 21993                        	.sym	metric,0,10,1,32,35
 21994                        	.sym	i,4,5,1,16
 21995                        	.sym	borderTitle,6,5,1,16
 21996                        	.sym	borderWidth,8,5,1,16
 21997                        	.sym	titleOffsetX,10,5,1,16
 21998                        	.sym	titleOffsetY,12,5,1,16
 21999                        	.sym	titleScaler,14,5,1,16
 22000                        	.sym	clientOffsetX,16,5,1,16
 22001                        	.sym	clientOffsetY,18,5,1,16
 22002                        	.sym	currX,20,5,1,16
 22003                        	.sym	currY,22,5,1,16
 22004                        	.sym	endX,24,5,1,16
 22005                        	.sym	cx,4,5,6,16
 22006                        	.sym	cy,6,5,6,16
 22007                        	.sym	height,8,5,6,16
 22008                        	.sym	width,10,5,6,16
 22009                        	.sym	title,12,142,6,32
 22010                        	.sym	color,16,5,6,16
 22011                        	.sym	bgcolor,18,5,6,16
 22012 06:593B: 64 0D        	stz	<L1000+i_1
 22013 06:593D: A9 0A 00     	lda	#$a
 22014 06:5940: 85 0F        	sta	<L1000+borderTitle_1
 22015 06:5942: A9 02 00     	lda	#$2
 22016 06:5945: 85 11        	sta	<L1000+borderWidth_1
 22017 06:5947: 18           	clc
 22018 06:5948: A9 02 00     	lda	#$2
 22019 06:594B: 65 26        	adc	<L999+cx_0
 22020 06:594D: 85 13        	sta	<L1000+titleOffsetX_1
 22021 06:594F: 18           	clc
 22022 06:5950: A9 02 00     	lda	#$2
 22023 06:5953: 65 28        	adc	<L999+cy_0
 22024 06:5955: 85 15        	sta	<L1000+titleOffsetY_1
 22025 06:5957: 64 17        	stz	<L1000+titleScaler_1
 22026 06:5959: 18           	clc
 22027 06:595A: A5 26        	lda	<L999+cx_0
 22028 06:595C: 65 11        	adc	<L1000+borderWidth_1
  Sat Jul 10 2021  1:15                                                Page 408


 22029 06:595E: 85 01        	sta	<R0
 22030 06:5960: 18           	clc
 22031 06:5961: A9 02 00     	lda	#$2
 22032 06:5964: 65 01        	adc	<R0
 22033 06:5966: 85 19        	sta	<L1000+clientOffsetX_1
 22034 06:5968: 18           	clc
 22035 06:5969: A5 28        	lda	<L999+cy_0
 22036 06:596B: 65 0F        	adc	<L1000+borderTitle_1
 22037 06:596D: 85 01        	sta	<R0
 22038 06:596F: A5 01        	lda	<R0
 22039 06:5971: 1A           	ina
 22040 06:5972: 85 1B        	sta	<L1000+clientOffsetY_1
 22041 06:5974: A5 19        	lda	<L1000+clientOffsetX_1
 22042 06:5976: 85 1D        	sta	<L1000+currX_1
 22043 06:5978: A5 1B        	lda	<L1000+clientOffsetY_1
 22044 06:597A: 85 1F        	sta	<L1000+currY_1
 22045 06:597C: 18           	clc
 22046 06:597D: A5 2C        	lda	<L999+width_0
 22047 06:597F: 65 26        	adc	<L999+cx_0
 22048 06:5981: 85 01        	sta	<R0
 22049 06:5983: 38           	sec
 22050 06:5984: A5 01        	lda	<R0
 22051 06:5986: E5 11        	sbc	<L1000+borderWidth_1
 22052 06:5988: 85 21        	sta	<L1000+endX_1
 22053                        	.line	3902
 22054 06:598A: D4 32        	pei	<L999+color_0
 22055 06:598C: D4 2C        	pei	<L999+width_0
 22056 06:598E: D4 2A        	pei	<L999+height_0
 22057 06:5990: D4 28        	pei	<L999+cy_0
 22058 06:5992: D4 26        	pei	<L999+cx_0
 22059 06:5994: 22 68 3B 06  	jsl	~~k_draw_filled_rect
 22060                        ;	k_draw_filled_rect(cx+borderWidth,cy+borderTitle
                    ,
 22061                        	.line	3903
 22062                        ;	                   height - borderTitle - border
                    Width,
 22063                        ;					   width - borde
                    rWidth - borderWidth,
 22064                        ;					   bgcolor);
 22065 06:5998: D4 34        	pei	<L999+bgcolor_0
 22066 06:599A: 38           	sec
 22067 06:599B: A5 2C        	lda	<L999+width_0
 22068 06:599D: E5 11        	sbc	<L1000+borderWidth_1
 22069 06:599F: 85 01        	sta	<R0
 22070 06:59A1: 38           	sec
 22071 06:59A2: A5 01        	lda	<R0
 22072 06:59A4: E5 11        	sbc	<L1000+borderWidth_1
 22073 06:59A6: 48           	pha
 22074 06:59A7: 38           	sec
 22075 06:59A8: A5 2A        	lda	<L999+height_0
 22076 06:59AA: E5 0F        	sbc	<L1000+borderTitle_1
 22077 06:59AC: 85 01        	sta	<R0
 22078 06:59AE: 38           	sec
 22079 06:59AF: A5 01        	lda	<R0
 22080 06:59B1: E5 11        	sbc	<L1000+borderWidth_1
 22081 06:59B3: 48           	pha
 22082 06:59B4: 18           	clc
 22083 06:59B5: A5 28        	lda	<L999+cy_0
  Sat Jul 10 2021  1:15                                                Page 409


 22084 06:59B7: 65 0F        	adc	<L1000+borderTitle_1
 22085 06:59B9: 48           	pha
 22086 06:59BA: 18           	clc
 22087 06:59BB: A5 26        	lda	<L999+cx_0
 22088 06:59BD: 65 11        	adc	<L1000+borderWidth_1
 22089 06:59BF: 48           	pha
 22090 06:59C0: 22 68 3B 06  	jsl	~~k_draw_filled_rect
 22091                        ;	
 22092                        ;	k_get_font_metrics(&metric);
 22093                        	.line	3908
 22094 06:59C4: F4 00 00     	pea	#0
 22095 06:59C7: 18           	clc
 22096 06:59C8: 7B           	tdc
 22097 06:59C9: 69 09 00     	adc	#<L1000+metric_1
 22098 06:59CC: 48           	pha
 22099 06:59CD: 22 B2 23 06  	jsl	~~k_get_font_metrics
 22100                        ;	
 22101                        ;	
 22102                        ;	title = strupr(title);
 22103                        	.line	3911
 22104 06:59D1: D4 30        	pei	<L999+title_0+2
 22105 06:59D3: D4 2E        	pei	<L999+title_0
 22106 06:59D5: 22 xx xx xx  	jsl	~~strupr
 22107 06:59D9: 85 2E        	sta	<L999+title_0
 22108 06:59DB: 86 30        	stx	<L999+title_0+2
 22109                        ;	
 22110                        ;	titleOffsetX+=k_put_wingadget_point(WINICON_TITL
                    E_ACLOSE,titleOffsetX,titleOffsetY,14);	
 22111                        	.line	3913
 22112 06:59DD: F4 0E 00     	pea	#<$e
 22113 06:59E0: D4 15        	pei	<L1000+titleOffsetY_1
 22114 06:59E2: D4 13        	pei	<L1000+titleOffsetX_1
 22115 06:59E4: F4 05 00     	pea	#<$5
 22116 06:59E7: 22 F8 2A 06  	jsl	~~k_put_wingadget_point
 22117 06:59EB: 85 01        	sta	<R0
 22118 06:59ED: 18           	clc
 22119 06:59EE: A5 01        	lda	<R0
 22120 06:59F0: 65 13        	adc	<L1000+titleOffsetX_1
 22121 06:59F2: 85 13        	sta	<L1000+titleOffsetX_1
 22122                        ;	
 22123                        ;	titleScaler = (int)(width / metric.width - 4);
 22124                        	.line	3915
 22125 06:59F4: A5 2C        	lda	<L999+width_0
 22126 06:59F6: A6 09        	ldx	<L1000+metric_1
 22127                        	xref	~~~div
 22128 06:59F8: 22 xx xx xx  	jsl	~~~div
 22129 06:59FC: 85 01        	sta	<R0
 22130 06:59FE: 18           	clc
 22131 06:59FF: A9 FC FF     	lda	#$fffc
 22132 06:5A02: 65 01        	adc	<R0
 22133 06:5A04: 85 17        	sta	<L1000+titleScaler_1
 22134                        ;	for(i=0;i<titleScaler;i++)
 22135                        	.line	3916
 22136 06:5A06: 64 0D        	stz	<L1000+i_1
 22137 06:5A08: 82 19 00     	brl	L10402
 22138                        L10401:
 22139                        ;	{
 22140                        	.line	3917
  Sat Jul 10 2021  1:15                                                Page 410


 22141                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_LINES,titleOffsetX,titleOffsetY,14);	
 22142                        	.line	3918
 22143 06:5A0B: F4 0E 00     	pea	#<$e
 22144 06:5A0E: D4 15        	pei	<L1000+titleOffsetY_1
 22145 06:5A10: D4 13        	pei	<L1000+titleOffsetX_1
 22146 06:5A12: F4 01 00     	pea	#<$1
 22147 06:5A15: 22 F8 2A 06  	jsl	~~k_put_wingadget_point
 22148 06:5A19: 85 01        	sta	<R0
 22149 06:5A1B: 18           	clc
 22150 06:5A1C: A5 01        	lda	<R0
 22151 06:5A1E: 65 13        	adc	<L1000+titleOffsetX_1
 22152 06:5A20: 85 13        	sta	<L1000+titleOffsetX_1
 22153                        ;	}
 22154                        	.line	3919
 22155                        L10399:
 22156 06:5A22: E6 0D        	inc	<L1000+i_1
 22157                        L10402:
 22158 06:5A24: 38           	sec
 22159 06:5A25: A5 0D        	lda	<L1000+i_1
 22160 06:5A27: E5 17        	sbc	<L1000+titleScaler_1
 22161 06:5A29: 70 03        	bvs	L1002
 22162 06:5A2B: 49 00 80     	eor	#$8000
 22163                        L1002:
 22164 06:5A2E: 30 03        	bmi	L1003
 22165 06:5A30: 82 D8 FF     	brl	L10401
 22166                        L1003:
 22167                        L10400:
 22168                        ;	/*
 22169                        ;	titleOffsetX+=k_put_wingadget_point(WINICON_TITL
                    E_BACK,titleOffsetX,titleOffsetY,14);
 22170                        ;	titleOffsetX+=2;
 22171                        ;	titleOffsetX+=k_put_wingadget_point(WINICON_TITL
                    E_FRONT,titleOffsetX,titleOffsetY,14);
 22172                        ;	*/
 22173                        ;	
 22174                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,14);
 22175                        	.line	3926
 22176 06:5A33: F4 0E 00     	pea	#<$e
 22177 06:5A36: D4 15        	pei	<L1000+titleOffsetY_1
 22178 06:5A38: A5 09        	lda	<L1000+metric_1
 22179 06:5A3A: 0A           	asl	A
 22180 06:5A3B: 85 01        	sta	<R0
 22181 06:5A3D: 18           	clc
 22182 06:5A3E: A9 02 00     	lda	#$2
 22183 06:5A41: 65 01        	adc	<R0
 22184 06:5A43: 85 05        	sta	<R1
 22185 06:5A45: 38           	sec
 22186 06:5A46: A5 21        	lda	<L1000+endX_1
 22187 06:5A48: E5 05        	sbc	<R1
 22188 06:5A4A: 48           	pha
 22189 06:5A4B: F4 04 00     	pea	#<$4
 22190 06:5A4E: 22 F8 2A 06  	jsl	~~k_put_wingadget_point
 22191                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,14);
 22192                        	.line	3927
 22193 06:5A52: F4 0E 00     	pea	#<$e
  Sat Jul 10 2021  1:15                                                Page 411


 22194 06:5A55: D4 15        	pei	<L1000+titleOffsetY_1
 22195 06:5A57: 38           	sec
 22196 06:5A58: A5 21        	lda	<L1000+endX_1
 22197 06:5A5A: E5 09        	sbc	<L1000+metric_1
 22198 06:5A5C: 48           	pha
 22199 06:5A5D: F4 03 00     	pea	#<$3
 22200 06:5A60: 22 F8 2A 06  	jsl	~~k_put_wingadget_point
 22201                        ;	
 22202                        ;	
 22203                        ;	for(i=0;i<=strlen(title);i++)
 22204                        	.line	3930
 22205 06:5A64: 64 0D        	stz	<L1000+i_1
 22206 06:5A66: 82 2D 00     	brl	L10406
 22207                        L10405:
 22208                        ;	{
 22209                        	.line	3931
 22210                        ;		k_put_wingadget_point(WINICON_BLOCK,cx+2
                    +metric.width+(metric.width*i),titleOffsetY,15);	
 22211                        	.line	3932
 22212 06:5A69: F4 0F 00     	pea	#<$f
 22213 06:5A6C: D4 15        	pei	<L1000+titleOffsetY_1
 22214 06:5A6E: A5 09        	lda	<L1000+metric_1
 22215 06:5A70: A6 0D        	ldx	<L1000+i_1
 22216                        	xref	~~~mul
 22217 06:5A72: 22 xx xx xx  	jsl	~~~mul
 22218 06:5A76: 85 01        	sta	<R0
 22219 06:5A78: 18           	clc
 22220 06:5A79: A5 01        	lda	<R0
 22221 06:5A7B: 65 26        	adc	<L999+cx_0
 22222 06:5A7D: 85 05        	sta	<R1
 22223 06:5A7F: 18           	clc
 22224 06:5A80: A5 05        	lda	<R1
 22225 06:5A82: 65 09        	adc	<L1000+metric_1
 22226 06:5A84: 85 01        	sta	<R0
 22227 06:5A86: 18           	clc
 22228 06:5A87: A9 02 00     	lda	#$2
 22229 06:5A8A: 65 01        	adc	<R0
 22230 06:5A8C: 48           	pha
 22231 06:5A8D: F4 00 00     	pea	#<$0
 22232 06:5A90: 22 F8 2A 06  	jsl	~~k_put_wingadget_point
 22233                        ;	}
 22234                        	.line	3933
 22235                        L10403:
 22236 06:5A94: E6 0D        	inc	<L1000+i_1
 22237                        L10406:
 22238 06:5A96: D4 30        	pei	<L999+title_0+2
 22239 06:5A98: D4 2E        	pei	<L999+title_0
 22240 06:5A9A: 22 xx xx xx  	jsl	~~strlen
 22241 06:5A9E: 85 01        	sta	<R0
 22242 06:5AA0: A5 01        	lda	<R0
 22243 06:5AA2: C5 0D        	cmp	<L1000+i_1
 22244 06:5AA4: 90 03        	bcc	L1004
 22245 06:5AA6: 82 C0 FF     	brl	L10405
 22246                        L1004:
 22247                        L10404:
 22248                        ;	k_draw_text_point(title,cx+2+metric.width,titleO
                    ffsetY,0);
 22249                        	.line	3934
  Sat Jul 10 2021  1:15                                                Page 412


 22250 06:5AA9: F4 00 00     	pea	#<$0
 22251 06:5AAC: D4 15        	pei	<L1000+titleOffsetY_1
 22252 06:5AAE: 18           	clc
 22253 06:5AAF: A5 26        	lda	<L999+cx_0
 22254 06:5AB1: 65 09        	adc	<L1000+metric_1
 22255 06:5AB3: 85 01        	sta	<R0
 22256 06:5AB5: 18           	clc
 22257 06:5AB6: A9 02 00     	lda	#$2
 22258 06:5AB9: 65 01        	adc	<R0
 22259 06:5ABB: 48           	pha
 22260 06:5ABC: D4 30        	pei	<L999+title_0+2
 22261 06:5ABE: D4 2E        	pei	<L999+title_0
 22262 06:5AC0: 22 DB 1F 06  	jsl	~~k_draw_text_point
 22263                        ;	
 22264                        ;	/*
 22265                        ;	k_put_wingadget_point(0x01,titleOffsetX,titleOff
                    setY,14);	
 22266                        ;	titleOffsetX+=metric.width;
 22267                        ;	
 22268                        ;	titleOffsetX+=k_draw_text_point(title,titleOffse
                    tX,titleOffsetY,0);
 22269                        ;	titleOffsetX+=metric.width;
 22270                        ;	k_put_wingadget_point(0x00,titleOffsetX,titleOff
                    setY,14);	
 22271                        ;	titleOffsetX+=metric.width;
 22272                        ;	k_put_wingadget_point(0x00,titleOffsetX,titleOff
                    setY,14);	
 22273                        ;	titleOffsetX+=metric.width;
 22274                        ;	k_put_wingadget_point(0x00,titleOffsetX,titleOff
                    setY,14);	
 22275                        ;	*/
 22276                        ;	
 22277                        ;	k_draw_text_point("READY.",currX,currY,15);
 22278                        	.line	3949
 22279 06:5AC4: F4 0F 00     	pea	#<$f
 22280 06:5AC7: D4 1F        	pei	<L1000+currY_1
 22281 06:5AC9: D4 1D        	pei	<L1000+currX_1
 22282 06:5ACB: F4 xx xx     	pea	#^L998
 22283 06:5ACE: F4 xx xx     	pea	#<L998
 22284 06:5AD1: 22 DB 1F 06  	jsl	~~k_draw_text_point
 22285                        ;	currY+=metric.height;	
 22286                        	.line	3950
 22287 06:5AD5: 18           	clc
 22288 06:5AD6: A5 1F        	lda	<L1000+currY_1
 22289 06:5AD8: 65 0B        	adc	<L1000+metric_1+2
 22290 06:5ADA: 85 1F        	sta	<L1000+currY_1
 22291                        ;	k_draw_text_point("10 PRINT \"HELLO WORLD!\"",cu
                    rrX,currY,15);
 22292                        	.line	3951
 22293 06:5ADC: F4 0F 00     	pea	#<$f
 22294 06:5ADF: D4 1F        	pei	<L1000+currY_1
 22295 06:5AE1: D4 1D        	pei	<L1000+currX_1
 22296 06:5AE3: F4 xx xx     	pea	#^L998+7
 22297 06:5AE6: F4 xx xx     	pea	#<L998+7
 22298 06:5AE9: 22 DB 1F 06  	jsl	~~k_draw_text_point
 22299                        ;	currY+=metric.height;
 22300                        	.line	3952
 22301 06:5AED: 18           	clc
  Sat Jul 10 2021  1:15                                                Page 413


 22302 06:5AEE: A5 1F        	lda	<L1000+currY_1
 22303 06:5AF0: 65 0B        	adc	<L1000+metric_1+2
 22304 06:5AF2: 85 1F        	sta	<L1000+currY_1
 22305                        ;	k_draw_text_point("RUN",currX,currY,15);
 22306                        	.line	3953
 22307 06:5AF4: F4 0F 00     	pea	#<$f
 22308 06:5AF7: D4 1F        	pei	<L1000+currY_1
 22309 06:5AF9: D4 1D        	pei	<L1000+currX_1
 22310 06:5AFB: F4 xx xx     	pea	#^L998+31
 22311 06:5AFE: F4 xx xx     	pea	#<L998+31
 22312 06:5B01: 22 DB 1F 06  	jsl	~~k_draw_text_point
 22313                        ;	currY+=metric.height;
 22314                        	.line	3954
 22315 06:5B05: 18           	clc
 22316 06:5B06: A5 1F        	lda	<L1000+currY_1
 22317 06:5B08: 65 0B        	adc	<L1000+metric_1+2
 22318 06:5B0A: 85 1F        	sta	<L1000+currY_1
 22319                        ;	k_draw_text_point("HELLO WORLD!",currX,currY,15)
                    ;
 22320                        	.line	3955
 22321 06:5B0C: F4 0F 00     	pea	#<$f
 22322 06:5B0F: D4 1F        	pei	<L1000+currY_1
 22323 06:5B11: D4 1D        	pei	<L1000+currX_1
 22324 06:5B13: F4 xx xx     	pea	#^L998+35
 22325 06:5B16: F4 xx xx     	pea	#<L998+35
 22326 06:5B19: 22 DB 1F 06  	jsl	~~k_draw_text_point
 22327                        ;}
 22328                        	.line	3956
 22329                        L1005:
 22330 06:5B1D: A5 24        	lda	<L999+2
 22331 06:5B1F: 85 34        	sta	<L999+2+16
 22332 06:5B21: A5 23        	lda	<L999+1
 22333 06:5B23: 85 33        	sta	<L999+1+16
 22334 06:5B25: 2B           	pld
 22335 06:5B26: 3B           	tsc
 22336 06:5B27: 18           	clc
 22337 06:5B28: 69 32 00     	adc	#L999+16
 22338 06:5B2B: 1B           	tcs
 22339 06:5B2C: 6B           	rtl
 22340                        	.endblock	3956
 22341             00000022   L999	equ	34
 22342             00000009   L1000	equ	9
 22343 06:5B2D:              	ends
 22344                        	efunc
 22345                        	.endfunc	3956,9,34
 22346                        	.line	3956
 22347                        	data
 22348                        L998:
 22349 00:09DC: 52 45 41 44  	db	$52,$45,$41,$44,$59,$2E,$00,$31,$30,$20,
                    $50,$52,$49,$4E,$54
       00:09E0: 59 2E 00 31 
       00:09E4: 30 20 50 52 
       00:09E8: 49 4E 54 
 22350 00:09EB: 20 22 48 45  	db	$20,$22,$48,$45,$4C,$4C,$4F,$20,$57,$4F,
                    $52,$4C,$44,$21,$22
       00:09EF: 4C 4C 4F 20 
       00:09F3: 57 4F 52 4C 
       00:09F7: 44 21 22 
  Sat Jul 10 2021  1:15                                                Page 414


 22351 00:09FA: 00 52 55 4E  	db	$00,$52,$55,$4E,$00,$48,$45,$4C,$4C,$4F,
                    $20,$57,$4F,$52,$4C
       00:09FE: 00 48 45 4C 
       00:0A02: 4C 4F 20 57 
       00:0A06: 4F 52 4C 
 22352 00:0A09: 44 21 00     	db	$44,$21,$00
 22353 00:0A0C:              	ends
 22354                        ;
 22355                        ;
 22356                        ;void k_paint_brush_rect(long x,long y,int width,i
                    nt height,BYTE pattern)
 22357                        ;{
 22358                        	.line	3959
 22359                        	.line	3960
 22360                        	GFX
 22361                        	xdef	~~k_paint_brush_rect
 22362                        	func
 22363                        	.function	3960
 22364                        ~~k_paint_brush_rect:
 22365                        	longa	on
 22366                        	longi	on
 22367 06:5B2D: 3B           	tsc
 22368 06:5B2E: 38           	sec
 22369 06:5B2F: E9 19 00     	sbc	#L1007
 22370 06:5B32: 1B           	tcs
 22371 06:5B33: 0B           	phd
 22372 06:5B34: 5B           	tcd
 22373             00000004   x_0	set	4
 22374             00000008   y_0	set	8
 22375             0000000C   width_0	set	12
 22376             0000000E   height_0	set	14
 22377             00000010   pattern_0	set	16
 22378                        	.block	3960
 22379                        ;	ULONG pos = 0L;
 22380                        ;	BOOL odd = FALSE;
 22381                        ;	long startLocation = (long)(( ((long)y) * 640L) 
                    + ((long)x) );
 22382                        ;	long endLocation   = (long)(( ((long)479) * 640L
                    ) + ((long)639) );
 22383                        ;
 22384                        ;	///k_paint_brush_at_address((char FAR * )pixelLo
                    cation, width, height,pattern);
 22385                        ;
 22386                        ;	for(pos=0;pos<479;pos++)
 22387             00000000   pos_1	set	0
 22388             00000004   odd_1	set	4
 22389             00000005   startLocation_1	set	5
 22390             00000009   endLocation_1	set	9
 22391                        	.sym	pos,0,18,1,32
 22392                        	.sym	odd,4,14,1,8
 22393                        	.sym	startLocation,5,7,1,32
 22394                        	.sym	endLocation,9,7,1,32
 22395                        	.sym	x,4,7,6,32
 22396                        	.sym	y,8,7,6,32
 22397                        	.sym	width,12,5,6,16
 22398                        	.sym	height,14,5,6,16
 22399                        	.sym	pattern,16,14,6,8
 22400 06:5B35: 64 0D        	stz	<L1008+pos_1
  Sat Jul 10 2021  1:15                                                Page 415


 22401 06:5B37: 64 0F        	stz	<L1008+pos_1+2
 22402 06:5B39: E2 20        	sep	#$20
 22403                        	longa	off
 22404 06:5B3B: 64 11        	stz	<L1008+odd_1
 22405 06:5B3D: C2 20        	rep	#$20
 22406                        	longa	on
 22407 06:5B3F: F4 00 00     	pea	#^$280
 22408 06:5B42: F4 80 02     	pea	#<$280
 22409 06:5B45: D4 23        	pei	<L1007+y_0+2
 22410 06:5B47: D4 21        	pei	<L1007+y_0
 22411                        	xref	~~~lmul
 22412 06:5B49: 22 xx xx xx  	jsl	~~~lmul
 22413 06:5B4D: 85 01        	sta	<R0
 22414 06:5B4F: 86 03        	stx	<R0+2
 22415 06:5B51: 18           	clc
 22416 06:5B52: A5 01        	lda	<R0
 22417 06:5B54: 65 1D        	adc	<L1007+x_0
 22418 06:5B56: 85 12        	sta	<L1008+startLocation_1
 22419 06:5B58: A5 03        	lda	<R0+2
 22420 06:5B5A: 65 1F        	adc	<L1007+x_0+2
 22421 06:5B5C: 85 14        	sta	<L1008+startLocation_1+2
 22422 06:5B5E: A9 FF AF     	lda	#$afff
 22423 06:5B61: 85 16        	sta	<L1008+endLocation_1
 22424 06:5B63: A9 04 00     	lda	#$4
 22425 06:5B66: 85 18        	sta	<L1008+endLocation_1+2
 22426                        	.line	3968
 22427 06:5B68: 64 0D        	stz	<L1008+pos_1
 22428 06:5B6A: 64 0F        	stz	<L1008+pos_1+2
 22429                        L10409:
 22430                        ;	{
 22431                        	.line	3969
 22432                        ;		if(odd)
 22433                        	.line	3970
 22434                        ;		{
 22435 06:5B6C: A5 11        	lda	<L1008+odd_1
 22436 06:5B6E: 29 FF 00     	and	#$ff
 22437 06:5B71: D0 03        	bne	L1010
 22438 06:5B73: 82 3D 00     	brl	L10410
 22439                        L1010:
 22440                        	.line	3971
 22441                        ;			memcpy( (LPCHAR)(0xB00000 + ((lo
                    ng)pos) * 640L)   ,BG_FILL_LINE_ODD,80);
 22442                        	.line	3972
 22443 06:5B76: F4 50 00     	pea	#<$50
 22444 06:5B79: A9 xx xx     	lda	#<~~BG_FILL_LINE_ODD
 22445 06:5B7C: 85 01        	sta	<R0
 22446                        	xref	_BEG_DATA
 22447 06:5B7E: A9 xx xx     	lda	#_BEG_DATA>>16
 22448 06:5B81: 85 03        	sta	<R0+2
 22449 06:5B83: D4 03        	pei	<R0+2
 22450 06:5B85: D4 01        	pei	<R0
 22451 06:5B87: F4 00 00     	pea	#^$280
 22452 06:5B8A: F4 80 02     	pea	#<$280
 22453 06:5B8D: D4 0F        	pei	<L1008+pos_1+2
 22454 06:5B8F: D4 0D        	pei	<L1008+pos_1
 22455                        	xref	~~~lmul
 22456 06:5B91: 22 xx xx xx  	jsl	~~~lmul
 22457 06:5B95: 85 05        	sta	<R1
  Sat Jul 10 2021  1:15                                                Page 416


 22458 06:5B97: 86 07        	stx	<R1+2
 22459 06:5B99: 18           	clc
 22460 06:5B9A: A9 00 00     	lda	#$0
 22461 06:5B9D: 65 05        	adc	<R1
 22462 06:5B9F: 85 09        	sta	<R2
 22463 06:5BA1: A9 B0 00     	lda	#$b0
 22464 06:5BA4: 65 07        	adc	<R1+2
 22465 06:5BA6: 85 0B        	sta	<R2+2
 22466 06:5BA8: D4 0B        	pei	<R2+2
 22467 06:5BAA: D4 09        	pei	<R2
 22468 06:5BAC: 22 xx xx xx  	jsl	~~memcpy
 22469                        ;		}
 22470                        	.line	3973
 22471                        ;		else
 22472 06:5BB0: 82 3A 00     	brl	L10411
 22473                        L10410:
 22474                        ;		{
 22475                        	.line	3975
 22476                        ;			memcpy( (LPCHAR)(0xB00000 + ((lo
                    ng)pos) * 640L) ,BG_FILL_LINE_EVEN,80);
 22477                        	.line	3976
 22478 06:5BB3: F4 50 00     	pea	#<$50
 22479 06:5BB6: A9 xx xx     	lda	#<~~BG_FILL_LINE_EVEN
 22480 06:5BB9: 85 01        	sta	<R0
 22481                        	xref	_BEG_DATA
 22482 06:5BBB: A9 xx xx     	lda	#_BEG_DATA>>16
 22483 06:5BBE: 85 03        	sta	<R0+2
 22484 06:5BC0: D4 03        	pei	<R0+2
 22485 06:5BC2: D4 01        	pei	<R0
 22486 06:5BC4: F4 00 00     	pea	#^$280
 22487 06:5BC7: F4 80 02     	pea	#<$280
 22488 06:5BCA: D4 0F        	pei	<L1008+pos_1+2
 22489 06:5BCC: D4 0D        	pei	<L1008+pos_1
 22490                        	xref	~~~lmul
 22491 06:5BCE: 22 xx xx xx  	jsl	~~~lmul
 22492 06:5BD2: 85 05        	sta	<R1
 22493 06:5BD4: 86 07        	stx	<R1+2
 22494 06:5BD6: 18           	clc
 22495 06:5BD7: A9 00 00     	lda	#$0
 22496 06:5BDA: 65 05        	adc	<R1
 22497 06:5BDC: 85 09        	sta	<R2
 22498 06:5BDE: A9 B0 00     	lda	#$b0
 22499 06:5BE1: 65 07        	adc	<R1+2
 22500 06:5BE3: 85 0B        	sta	<R2+2
 22501 06:5BE5: D4 0B        	pei	<R2+2
 22502 06:5BE7: D4 09        	pei	<R2
 22503 06:5BE9: 22 xx xx xx  	jsl	~~memcpy
 22504                        ;
 22505                        ;		}
 22506                        	.line	3978
 22507                        L10411:
 22508                        ;		odd=!odd;
 22509                        	.line	3979
 22510 06:5BED: 64 01        	stz	<R0
 22511 06:5BEF: A5 11        	lda	<L1008+odd_1
 22512 06:5BF1: 29 FF 00     	and	#$ff
 22513 06:5BF4: F0 03        	beq	L1012
 22514 06:5BF6: 82 02 00     	brl	L1011
  Sat Jul 10 2021  1:15                                                Page 417


 22515                        L1012:
 22516 06:5BF9: E6 01        	inc	<R0
 22517                        L1011:
 22518 06:5BFB: E2 20        	sep	#$20
 22519                        	longa	off
 22520 06:5BFD: A5 01        	lda	<R0
 22521 06:5BFF: 85 11        	sta	<L1008+odd_1
 22522 06:5C01: C2 20        	rep	#$20
 22523                        	longa	on
 22524                        ;	}
 22525                        	.line	3980
 22526                        L10407:
 22527 06:5C03: E6 0D        	inc	<L1008+pos_1
 22528 06:5C05: D0 02        	bne	L1013
 22529 06:5C07: E6 0F        	inc	<L1008+pos_1+2
 22530                        L1013:
 22531 06:5C09: A5 0D        	lda	<L1008+pos_1
 22532 06:5C0B: C9 DF 01     	cmp	#<$1df
 22533 06:5C0E: A5 0F        	lda	<L1008+pos_1+2
 22534 06:5C10: E9 00 00     	sbc	#^$1df
 22535 06:5C13: B0 03        	bcs	L1014
 22536 06:5C15: 82 54 FF     	brl	L10409
 22537                        L1014:
 22538                        L10408:
 22539                        ;
 22540                        ;
 22541                        ;
 22542                        ;	return;
 22543                        	.line	3984
 22544                        L1015:
 22545 06:5C18: A5 1B        	lda	<L1007+2
 22546 06:5C1A: 85 29        	sta	<L1007+2+14
 22547 06:5C1C: A5 1A        	lda	<L1007+1
 22548 06:5C1E: 85 28        	sta	<L1007+1+14
 22549 06:5C20: 2B           	pld
 22550 06:5C21: 3B           	tsc
 22551 06:5C22: 18           	clc
 22552 06:5C23: 69 27 00     	adc	#L1007+14
 22553 06:5C26: 1B           	tcs
 22554 06:5C27: 6B           	rtl
 22555                        ;}
 22556                        	.line	3985
 22557                        	.endblock	3985
 22558             00000019   L1007	equ	25
 22559             0000000D   L1008	equ	13
 22560 06:5C28:              	ends
 22561                        	efunc
 22562                        	.endfunc	3985,13,25
 22563                        	.line	3985
 22564                        ;
 22565                        ;void k_paint_brush_at_address(char FAR * pdst,int
                     width,int height,BYTE pattern)
 22566                        ;{
 22567                        	.line	3987
 22568                        	.line	3988
 22569                        	GFX
 22570                        	xdef	~~k_paint_brush_at_address
 22571                        	func
  Sat Jul 10 2021  1:15                                                Page 418


 22572                        	.function	3988
 22573                        ~~k_paint_brush_at_address:
 22574                        	longa	on
 22575                        	longi	on
 22576 06:5C28: 3B           	tsc
 22577 06:5C29: 38           	sec
 22578 06:5C2A: E9 0D 00     	sbc	#L1016
 22579 06:5C2D: 1B           	tcs
 22580 06:5C2E: 0B           	phd
 22581 06:5C2F: 5B           	tcd
 22582             00000004   pdst_0	set	4
 22583             00000008   width_0	set	8
 22584             0000000A   height_0	set	10
 22585             0000000C   pattern_0	set	12
 22586                        	.block	3988
 22587                        ;	int pos = 0;
 22588                        ;	int spinLock = 0;
 22589                        ;	char status = VDMA_STAT_VDMA_IPS;
 22590                        ;
 22591                        ;
 22592                        ;	while(status == VDMA_STAT_VDMA_IPS)
 22593             00000000   pos_1	set	0
 22594             00000002   spinLock_1	set	2
 22595             00000004   status_1	set	4
 22596                        	.sym	pos,0,5,1,16
 22597                        	.sym	spinLock,2,5,1,16
 22598                        	.sym	status,4,14,1,8
 22599                        	.sym	pdst,4,142,6,32
 22600                        	.sym	width,8,5,6,16
 22601                        	.sym	height,10,5,6,16
 22602                        	.sym	pattern,12,14,6,8
 22603 06:5C30: 64 09        	stz	<L1017+pos_1
 22604 06:5C32: 64 0B        	stz	<L1017+spinLock_1
 22605 06:5C34: E2 20        	sep	#$20
 22606                        	longa	off
 22607 06:5C36: A9 80        	lda	#$80
 22608 06:5C38: 85 0D        	sta	<L1017+status_1
 22609 06:5C3A: C2 20        	rep	#$20
 22610                        	longa	on
 22611                        	.line	3994
 22612                        L10412:
 22613 06:5C3C: E2 20        	sep	#$20
 22614                        	longa	off
 22615 06:5C3E: A5 0D        	lda	<L1017+status_1
 22616 06:5C40: C9 80        	cmp	#<$80
 22617 06:5C42: C2 20        	rep	#$20
 22618                        	longa	on
 22619 06:5C44: F0 03        	beq	L1019
 22620 06:5C46: 82 0F 00     	brl	L10413
 22621                        L1019:
 22622                        ;	{
 22623                        	.line	3995
 22624                        ;		status = (VDMA_STATUS_REG[0] & VDMA_STAT
                    _VDMA_IPS);
 22625                        	.line	3996
 22626 06:5C49: E2 20        	sep	#$20
 22627                        	longa	off
 22628 06:5C4B: AF 01 04 AF  	lda	>11469825
  Sat Jul 10 2021  1:15                                                Page 419


 22629 06:5C4F: 29 80        	and	#<$80
 22630 06:5C51: 85 0D        	sta	<L1017+status_1
 22631 06:5C53: C2 20        	rep	#$20
 22632                        	longa	on
 22633                        ;	}
 22634                        	.line	3997
 22635 06:5C55: 82 E4 FF     	brl	L10412
 22636                        L10413:
 22637                        ;
 22638                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE | VDMA_CT
                    RL_TRF_FILL;
 22639                        	.line	3999
 22640 06:5C58: E2 20        	sep	#$20
 22641                        	longa	off
 22642 06:5C5A: A9 05        	lda	#$5
 22643 06:5C5C: 8F 00 04 AF  	sta	>11469824
 22644 06:5C60: C2 20        	rep	#$20
 22645                        	longa	on
 22646                        ;
 22647                        ;	*BM_START_ADDY_L = 0x00;
 22648                        	.line	4001
 22649 06:5C62: E2 20        	sep	#$20
 22650                        	longa	off
 22651 06:5C64: A9 00        	lda	#$0
 22652 06:5C66: 8F 41 01 AF  	sta	>11469121
 22653 06:5C6A: C2 20        	rep	#$20
 22654                        	longa	on
 22655                        ;	*BM_START_ADDY_M = 0x00;
 22656                        	.line	4002
 22657 06:5C6C: E2 20        	sep	#$20
 22658                        	longa	off
 22659 06:5C6E: A9 00        	lda	#$0
 22660 06:5C70: 8F 42 01 AF  	sta	>11469122
 22661 06:5C74: C2 20        	rep	#$20
 22662                        	longa	on
 22663                        ;	*BM_START_ADDY_H = 0x00;
 22664                        	.line	4003
 22665 06:5C76: E2 20        	sep	#$20
 22666                        	longa	off
 22667 06:5C78: A9 00        	lda	#$0
 22668 06:5C7A: 8F 43 01 AF  	sta	>11469123
 22669 06:5C7E: C2 20        	rep	#$20
 22670                        	longa	on
 22671                        ;	*((char FAR*)0xAF1F80) = 0x02;
 22672                        	.line	4004
 22673 06:5C80: E2 20        	sep	#$20
 22674                        	longa	off
 22675 06:5C82: A9 02        	lda	#$2
 22676 06:5C84: 8F 80 1F AF  	sta	>11476864
 22677 06:5C88: C2 20        	rep	#$20
 22678                        	longa	on
 22679                        ;
 22680                        ;	*BM_X_SIZE_L = 0x80;
 22681                        	.line	4006
 22682 06:5C8A: E2 20        	sep	#$20
 22683                        	longa	off
 22684 06:5C8C: A9 80        	lda	#$80
 22685 06:5C8E: 8F 44 01 AF  	sta	>11469124
  Sat Jul 10 2021  1:15                                                Page 420


 22686 06:5C92: C2 20        	rep	#$20
 22687                        	longa	on
 22688                        ;	*BM_X_SIZE_H = 0x02;
 22689                        	.line	4007
 22690 06:5C94: E2 20        	sep	#$20
 22691                        	longa	off
 22692 06:5C96: A9 02        	lda	#$2
 22693 06:5C98: 8F 45 01 AF  	sta	>11469125
 22694 06:5C9C: C2 20        	rep	#$20
 22695                        	longa	on
 22696                        ;	*BM_Y_SIZE_L = 0xE0;
 22697                        	.line	4008
 22698 06:5C9E: E2 20        	sep	#$20
 22699                        	longa	off
 22700 06:5CA0: A9 E0        	lda	#$e0
 22701 06:5CA2: 8F 46 01 AF  	sta	>11469126
 22702 06:5CA6: C2 20        	rep	#$20
 22703                        	longa	on
 22704                        ;	*BM_Y_SIZE_H = 0x01;
 22705                        	.line	4009
 22706 06:5CA8: E2 20        	sep	#$20
 22707                        	longa	off
 22708 06:5CAA: A9 01        	lda	#$1
 22709 06:5CAC: 8F 47 01 AF  	sta	>11469127
 22710 06:5CB0: C2 20        	rep	#$20
 22711                        	longa	on
 22712                        ;
 22713                        ;	*VDMA_X_SIZE_L = LOBYTE(width);
 22714                        	.line	4011
 22715 06:5CB2: E2 20        	sep	#$20
 22716                        	longa	off
 22717 06:5CB4: A5 15        	lda	<L1016+width_0
 22718 06:5CB6: 8F 08 04 AF  	sta	>11469832
 22719 06:5CBA: C2 20        	rep	#$20
 22720                        	longa	on
 22721                        ;	*VDMA_X_SIZE_H = HIBYTE(width);
 22722                        	.line	4012
 22723 06:5CBC: A5 15        	lda	<L1016+width_0
 22724 06:5CBE: A2 08 00     	ldx	#<$8
 22725                        	xref	~~~asr
 22726 06:5CC1: 22 xx xx xx  	jsl	~~~asr
 22727 06:5CC5: 29 FF 00     	and	#<$ff
 22728 06:5CC8: 85 01        	sta	<R0
 22729 06:5CCA: E2 20        	sep	#$20
 22730                        	longa	off
 22731 06:5CCC: A5 01        	lda	<R0
 22732 06:5CCE: 8F 09 04 AF  	sta	>11469833
 22733 06:5CD2: C2 20        	rep	#$20
 22734                        	longa	on
 22735                        ;
 22736                        ;	*VDMA_Y_SIZE_L = LOBYTE(height);
 22737                        	.line	4014
 22738 06:5CD4: E2 20        	sep	#$20
 22739                        	longa	off
 22740 06:5CD6: A5 17        	lda	<L1016+height_0
 22741 06:5CD8: 8F 0A 04 AF  	sta	>11469834
 22742 06:5CDC: C2 20        	rep	#$20
 22743                        	longa	on
  Sat Jul 10 2021  1:15                                                Page 421


 22744                        ;	*VDMA_Y_SIZE_H = HIBYTE(height);
 22745                        	.line	4015
 22746 06:5CDE: A5 17        	lda	<L1016+height_0
 22747 06:5CE0: A2 08 00     	ldx	#<$8
 22748                        	xref	~~~asr
 22749 06:5CE3: 22 xx xx xx  	jsl	~~~asr
 22750 06:5CE7: 29 FF 00     	and	#<$ff
 22751 06:5CEA: 85 01        	sta	<R0
 22752 06:5CEC: E2 20        	sep	#$20
 22753                        	longa	off
 22754 06:5CEE: A5 01        	lda	<R0
 22755 06:5CF0: 8F 0B 04 AF  	sta	>11469835
 22756 06:5CF4: C2 20        	rep	#$20
 22757                        	longa	on
 22758                        ;
 22759                        ;	*VDMA_DST_STRIDE_L = 0x80;
 22760                        	.line	4017
 22761 06:5CF6: E2 20        	sep	#$20
 22762                        	longa	off
 22763 06:5CF8: A9 80        	lda	#$80
 22764 06:5CFA: 8F 0E 04 AF  	sta	>11469838
 22765 06:5CFE: C2 20        	rep	#$20
 22766                        	longa	on
 22767                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 22768                        	.line	4018
 22769 06:5D00: E2 20        	sep	#$20
 22770                        	longa	off
 22771 06:5D02: A9 02        	lda	#$2
 22772 06:5D04: 8F 0F 04 AF  	sta	>11469839
 22773 06:5D08: C2 20        	rep	#$20
 22774                        	longa	on
 22775                        ;
 22776                        ;
 22777                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 22778                        	.line	4021
 22779 06:5D0A: E2 20        	sep	#$20
 22780                        	longa	off
 22781 06:5D0C: A5 11        	lda	<L1016+pdst_0
 22782 06:5D0E: 8F 05 04 AF  	sta	>11469829
 22783 06:5D12: C2 20        	rep	#$20
 22784                        	longa	on
 22785                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 22786                        	.line	4022
 22787 06:5D14: D4 13        	pei	<L1016+pdst_0+2
 22788 06:5D16: D4 11        	pei	<L1016+pdst_0
 22789 06:5D18: A9 08 00     	lda	#$8
 22790                        	xref	~~~llsr
 22791 06:5D1B: 22 xx xx xx  	jsl	~~~llsr
 22792 06:5D1F: 85 01        	sta	<R0
 22793 06:5D21: 86 03        	stx	<R0+2
 22794 06:5D23: A5 01        	lda	<R0
 22795 06:5D25: 29 FF 00     	and	#<$ff
 22796 06:5D28: 85 05        	sta	<R1
 22797 06:5D2A: 64 07        	stz	<R1+2
 22798 06:5D2C: E2 20        	sep	#$20
 22799                        	longa	off
 22800 06:5D2E: A5 05        	lda	<R1
 22801 06:5D30: 8F 06 04 AF  	sta	>11469830
  Sat Jul 10 2021  1:15                                                Page 422


 22802 06:5D34: C2 20        	rep	#$20
 22803                        	longa	on
 22804                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 22805                        	.line	4023
 22806 06:5D36: D4 13        	pei	<L1016+pdst_0+2
 22807 06:5D38: D4 11        	pei	<L1016+pdst_0
 22808 06:5D3A: A9 10 00     	lda	#$10
 22809                        	xref	~~~llsr
 22810 06:5D3D: 22 xx xx xx  	jsl	~~~llsr
 22811 06:5D41: 85 01        	sta	<R0
 22812 06:5D43: 86 03        	stx	<R0+2
 22813 06:5D45: A5 01        	lda	<R0
 22814 06:5D47: 29 FF 00     	and	#<$ff
 22815 06:5D4A: 85 05        	sta	<R1
 22816 06:5D4C: 64 07        	stz	<R1+2
 22817 06:5D4E: E2 20        	sep	#$20
 22818                        	longa	off
 22819 06:5D50: A5 05        	lda	<R1
 22820 06:5D52: 8F 07 04 AF  	sta	>11469831
 22821 06:5D56: C2 20        	rep	#$20
 22822                        	longa	on
 22823                        ;
 22824                        ;	VDMA_BYTE_2_WRITE[0] = pattern;
 22825                        	.line	4025
 22826 06:5D58: E2 20        	sep	#$20
 22827                        	longa	off
 22828 06:5D5A: A5 19        	lda	<L1016+pattern_0
 22829 06:5D5C: 8F 01 04 AF  	sta	>11469825
 22830 06:5D60: C2 20        	rep	#$20
 22831                        	longa	on
 22832                        ;
 22833                        ;	VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VDMA_
                    CTRL_TRF_FILL | VDMA_CTRL_START_TRF);
 22834                        	.line	4027
 22835 06:5D62: E2 20        	sep	#$20
 22836                        	longa	off
 22837 06:5D64: A9 85        	lda	#$85
 22838 06:5D66: 8F 00 04 AF  	sta	>11469824
 22839 06:5D6A: C2 20        	rep	#$20
 22840                        	longa	on
 22841                        ;
 22842                        ;
 22843                        ;   return ;
 22844                        	.line	4030
 22845                        L1020:
 22846 06:5D6C: A5 0F        	lda	<L1016+2
 22847 06:5D6E: 85 19        	sta	<L1016+2+10
 22848 06:5D70: A5 0E        	lda	<L1016+1
 22849 06:5D72: 85 18        	sta	<L1016+1+10
 22850 06:5D74: 2B           	pld
 22851 06:5D75: 3B           	tsc
 22852 06:5D76: 18           	clc
 22853 06:5D77: 69 17 00     	adc	#L1016+10
 22854 06:5D7A: 1B           	tcs
 22855 06:5D7B: 6B           	rtl
 22856                        ;}
 22857                        	.line	4031
 22858                        	.endblock	4031
  Sat Jul 10 2021  1:15                                                Page 423


 22859             0000000D   L1016	equ	13
 22860             00000009   L1017	equ	9
 22861 06:5D7C:              	ends
 22862                        	efunc
 22863                        	.endfunc	4031,9,13
 22864                        	.line	4031
 22865                        ;
 22866                        ;void k_vdma_move_rect(long x,long y,int width,int
                     height,int dx,int dy,unsigned char pcolor,UINT page)
 22867                        ;{
 22868                        	.line	4033
 22869                        	.line	4034
 22870                        	GFX
 22871                        	xdef	~~k_vdma_move_rect
 22872                        	func
 22873                        	.function	4034
 22874                        ~~k_vdma_move_rect:
 22875                        	longa	on
 22876                        	longi	on
 22877 06:5D7C: 3B           	tsc
 22878 06:5D7D: 38           	sec
 22879 06:5D7E: E9 0E 00     	sbc	#L1021
 22880 06:5D81: 1B           	tcs
 22881 06:5D82: 0B           	phd
 22882 06:5D83: 5B           	tcd
 22883             00000004   x_0	set	4
 22884             00000008   y_0	set	8
 22885             0000000C   width_0	set	12
 22886             0000000E   height_0	set	14
 22887             00000010   dx_0	set	16
 22888             00000012   dy_0	set	18
 22889             00000014   pcolor_0	set	20
 22890             00000016   page_0	set	22
 22891                        	.block	4034
 22892                        ;	int slice = 0;
 22893                        ;
 22894                        ;
 22895                        ;
 22896                        ;
 22897                        ;	if(dx > 0)
 22898             00000000   slice_1	set	0
 22899                        	.sym	slice,0,5,1,16
 22900                        	.sym	x,4,7,6,32
 22901                        	.sym	y,8,7,6,32
 22902                        	.sym	width,12,5,6,16
 22903                        	.sym	height,14,5,6,16
 22904                        	.sym	dx,16,5,6,16
 22905                        	.sym	dy,18,5,6,16
 22906                        	.sym	pcolor,20,14,6,8
 22907                        	.sym	page,22,16,6,16
 22908 06:5D84: 64 0D        	stz	<L1022+slice_1
 22909                        	.line	4040
 22910                        ;	{
 22911 06:5D86: 38           	sec
 22912 06:5D87: A9 00 00     	lda	#$0
 22913 06:5D8A: E5 1E        	sbc	<L1021+dx_0
 22914 06:5D8C: 70 03        	bvs	L1024
 22915 06:5D8E: 49 00 80     	eor	#$8000
  Sat Jul 10 2021  1:15                                                Page 424


 22916                        L1024:
 22917 06:5D91: 10 03        	bpl	L1025
 22918 06:5D93: 82 62 00     	brl	L10414
 22919                        L1025:
 22920                        	.line	4041
 22921                        ;		slice = dx;
 22922                        	.line	4042
 22923 06:5D96: A5 1E        	lda	<L1021+dx_0
 22924 06:5D98: 85 0D        	sta	<L1022+slice_1
 22925                        ;		k_vdma_fill_rect_ex(x+width,y,slice,heig
                    ht,pcolor,page);
 22926                        	.line	4043
 22927 06:5D9A: D4 24        	pei	<L1021+page_0
 22928 06:5D9C: D4 22        	pei	<L1021+pcolor_0
 22929 06:5D9E: D4 1C        	pei	<L1021+height_0
 22930 06:5DA0: D4 0D        	pei	<L1022+slice_1
 22931 06:5DA2: D4 18        	pei	<L1021+y_0+2
 22932 06:5DA4: D4 16        	pei	<L1021+y_0
 22933 06:5DA6: A0 00 00     	ldy	#$0
 22934 06:5DA9: A5 1A        	lda	<L1021+width_0
 22935 06:5DAB: 10 01        	bpl	L1026
 22936 06:5DAD: 88           	dey
 22937                        L1026:
 22938 06:5DAE: 85 01        	sta	<R0
 22939 06:5DB0: 84 03        	sty	<R0+2
 22940 06:5DB2: 18           	clc
 22941 06:5DB3: A5 01        	lda	<R0
 22942 06:5DB5: 65 12        	adc	<L1021+x_0
 22943 06:5DB7: 85 05        	sta	<R1
 22944 06:5DB9: A5 03        	lda	<R0+2
 22945 06:5DBB: 65 14        	adc	<L1021+x_0+2
 22946 06:5DBD: 85 07        	sta	<R1+2
 22947 06:5DBF: D4 07        	pei	<R1+2
 22948 06:5DC1: D4 05        	pei	<R1
 22949 06:5DC3: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 22950                        ;		k_vdma_fill_rect_ex(x-dx,y,slice,height,
                    FILLCOLOR_TRANSPARENT,page);
 22951                        	.line	4044
 22952 06:5DC7: D4 24        	pei	<L1021+page_0
 22953 06:5DC9: F4 00 00     	pea	#<$0
 22954 06:5DCC: D4 1C        	pei	<L1021+height_0
 22955 06:5DCE: D4 0D        	pei	<L1022+slice_1
 22956 06:5DD0: D4 18        	pei	<L1021+y_0+2
 22957 06:5DD2: D4 16        	pei	<L1021+y_0
 22958 06:5DD4: A0 00 00     	ldy	#$0
 22959 06:5DD7: A5 1E        	lda	<L1021+dx_0
 22960 06:5DD9: 10 01        	bpl	L1027
 22961 06:5DDB: 88           	dey
 22962                        L1027:
 22963 06:5DDC: 85 01        	sta	<R0
 22964 06:5DDE: 84 03        	sty	<R0+2
 22965 06:5DE0: 38           	sec
 22966 06:5DE1: A5 12        	lda	<L1021+x_0
 22967 06:5DE3: E5 01        	sbc	<R0
 22968 06:5DE5: 85 05        	sta	<R1
 22969 06:5DE7: A5 14        	lda	<L1021+x_0+2
 22970 06:5DE9: E5 03        	sbc	<R0+2
 22971 06:5DEB: 85 07        	sta	<R1+2
  Sat Jul 10 2021  1:15                                                Page 425


 22972 06:5DED: D4 07        	pei	<R1+2
 22973 06:5DEF: D4 05        	pei	<R1
 22974 06:5DF1: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 22975                        ;	}
 22976                        	.line	4045
 22977                        ;	else if (dx < 0)
 22978 06:5DF5: 82 83 00     	brl	L10415
 22979                        L10414:
 22980                        	.line	4046
 22981                        ;	{
 22982 06:5DF8: A5 1E        	lda	<L1021+dx_0
 22983 06:5DFA: 30 03        	bmi	L1028
 22984 06:5DFC: 82 7C 00     	brl	L10416
 22985                        L1028:
 22986                        	.line	4047
 22987                        ;		slice = (-1*dx);
 22988                        	.line	4048
 22989 06:5DFF: 38           	sec
 22990 06:5E00: A9 00 00     	lda	#$0
 22991 06:5E03: E5 1E        	sbc	<L1021+dx_0
 22992 06:5E05: 85 0D        	sta	<L1022+slice_1
 22993                        ;		k_vdma_fill_rect_ex(x+dx,y,slice,height,
                    pcolor,page);
 22994                        	.line	4049
 22995 06:5E07: D4 24        	pei	<L1021+page_0
 22996 06:5E09: D4 22        	pei	<L1021+pcolor_0
 22997 06:5E0B: D4 1C        	pei	<L1021+height_0
 22998 06:5E0D: D4 0D        	pei	<L1022+slice_1
 22999 06:5E0F: D4 18        	pei	<L1021+y_0+2
 23000 06:5E11: D4 16        	pei	<L1021+y_0
 23001 06:5E13: A0 00 00     	ldy	#$0
 23002 06:5E16: A5 1E        	lda	<L1021+dx_0
 23003 06:5E18: 10 01        	bpl	L1029
 23004 06:5E1A: 88           	dey
 23005                        L1029:
 23006 06:5E1B: 85 01        	sta	<R0
 23007 06:5E1D: 84 03        	sty	<R0+2
 23008 06:5E1F: 18           	clc
 23009 06:5E20: A5 01        	lda	<R0
 23010 06:5E22: 65 12        	adc	<L1021+x_0
 23011 06:5E24: 85 05        	sta	<R1
 23012 06:5E26: A5 03        	lda	<R0+2
 23013 06:5E28: 65 14        	adc	<L1021+x_0+2
 23014 06:5E2A: 85 07        	sta	<R1+2
 23015 06:5E2C: D4 07        	pei	<R1+2
 23016 06:5E2E: D4 05        	pei	<R1
 23017 06:5E30: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 23018                        ;		k_vdma_fill_rect_ex(x+width-slice,y,slic
                    e,height,FILLCOLOR_TRANSPARENT,page);
 23019                        	.line	4050
 23020 06:5E34: D4 24        	pei	<L1021+page_0
 23021 06:5E36: F4 00 00     	pea	#<$0
 23022 06:5E39: D4 1C        	pei	<L1021+height_0
 23023 06:5E3B: D4 0D        	pei	<L1022+slice_1
 23024 06:5E3D: D4 18        	pei	<L1021+y_0+2
 23025 06:5E3F: D4 16        	pei	<L1021+y_0
 23026 06:5E41: A0 00 00     	ldy	#$0
 23027 06:5E44: A5 0D        	lda	<L1022+slice_1
  Sat Jul 10 2021  1:15                                                Page 426


 23028 06:5E46: 10 01        	bpl	L1030
 23029 06:5E48: 88           	dey
 23030                        L1030:
 23031 06:5E49: 85 01        	sta	<R0
 23032 06:5E4B: 84 03        	sty	<R0+2
 23033 06:5E4D: A0 00 00     	ldy	#$0
 23034 06:5E50: A5 1A        	lda	<L1021+width_0
 23035 06:5E52: 10 01        	bpl	L1031
 23036 06:5E54: 88           	dey
 23037                        L1031:
 23038 06:5E55: 85 05        	sta	<R1
 23039 06:5E57: 84 07        	sty	<R1+2
 23040 06:5E59: 18           	clc
 23041 06:5E5A: A5 05        	lda	<R1
 23042 06:5E5C: 65 12        	adc	<L1021+x_0
 23043 06:5E5E: 85 09        	sta	<R2
 23044 06:5E60: A5 07        	lda	<R1+2
 23045 06:5E62: 65 14        	adc	<L1021+x_0+2
 23046 06:5E64: 85 0B        	sta	<R2+2
 23047 06:5E66: 38           	sec
 23048 06:5E67: A5 09        	lda	<R2
 23049 06:5E69: E5 01        	sbc	<R0
 23050 06:5E6B: 85 05        	sta	<R1
 23051 06:5E6D: A5 0B        	lda	<R2+2
 23052 06:5E6F: E5 03        	sbc	<R0+2
 23053 06:5E71: 85 07        	sta	<R1+2
 23054 06:5E73: D4 07        	pei	<R1+2
 23055 06:5E75: D4 05        	pei	<R1
 23056 06:5E77: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 23057                        ;	}
 23058                        	.line	4051
 23059                        ;}
 23060                        L10416:
 23061                        L10415:
 23062                        	.line	4052
 23063                        L1032:
 23064 06:5E7B: A5 10        	lda	<L1021+2
 23065 06:5E7D: 85 24        	sta	<L1021+2+20
 23066 06:5E7F: A5 0F        	lda	<L1021+1
 23067 06:5E81: 85 23        	sta	<L1021+1+20
 23068 06:5E83: 2B           	pld
 23069 06:5E84: 3B           	tsc
 23070 06:5E85: 18           	clc
 23071 06:5E86: 69 22 00     	adc	#L1021+20
 23072 06:5E89: 1B           	tcs
 23073 06:5E8A: 6B           	rtl
 23074                        	.endblock	4052
 23075             0000000E   L1021	equ	14
 23076             0000000D   L1022	equ	13
 23077 06:5E8B:              	ends
 23078                        	efunc
 23079                        	.endfunc	4052,13,14
 23080                        	.line	4052
 23081                        ;
 23082                        ;void k_vdma_fill_rect_ex(long x,long y,int width,
                    int height,unsigned char pcolor,UINT page)
 23083                        ;{
 23084                        	.line	4054
  Sat Jul 10 2021  1:15                                                Page 427


 23085                        	.line	4055
 23086                        	GFX
 23087                        	xdef	~~k_vdma_fill_rect_ex
 23088                        	func
 23089                        	.function	4055
 23090                        ~~k_vdma_fill_rect_ex:
 23091                        	longa	on
 23092                        	longi	on
 23093 06:5E8B: 3B           	tsc
 23094 06:5E8C: 38           	sec
 23095 06:5E8D: E9 0C 00     	sbc	#L1033
 23096 06:5E90: 1B           	tcs
 23097 06:5E91: 0B           	phd
 23098 06:5E92: 5B           	tcd
 23099             00000004   x_0	set	4
 23100             00000008   y_0	set	8
 23101             0000000C   width_0	set	12
 23102             0000000E   height_0	set	14
 23103             00000010   pcolor_0	set	16
 23104             00000012   page_0	set	18
 23105                        	.block	4055
 23106                        ;	long pixelLocation = 0L;
 23107                        ;
 23108                        ;	if(x < GUI_POINT_LIMIT_X_LO)
 23109             00000000   pixelLocation_1	set	0
 23110                        	.sym	pixelLocation,0,7,1,32
 23111                        	.sym	x,4,7,6,32
 23112                        	.sym	y,8,7,6,32
 23113                        	.sym	width,12,5,6,16
 23114                        	.sym	height,14,5,6,16
 23115                        	.sym	pcolor,16,14,6,8
 23116                        	.sym	page,18,16,6,16
 23117 06:5E93: 64 09        	stz	<L1034+pixelLocation_1
 23118 06:5E95: 64 0B        	stz	<L1034+pixelLocation_1+2
 23119                        	.line	4058
 23120                        ;	{
 23121 06:5E97: A5 12        	lda	<L1033+x_0+2
 23122 06:5E99: 30 03        	bmi	L1036
 23123 06:5E9B: 82 21 00     	brl	L10417
 23124                        L1036:
 23125                        	.line	4059
 23126                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    x-over:-x:",(int)x);
 23127                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    x-over:-width:",(int)width);
 23128                        ;		width = (width + x);
 23129                        	.line	4062
 23130 06:5E9E: A0 00 00     	ldy	#$0
 23131 06:5EA1: A5 18        	lda	<L1033+width_0
 23132 06:5EA3: 10 01        	bpl	L1037
 23133 06:5EA5: 88           	dey
 23134                        L1037:
 23135 06:5EA6: 85 01        	sta	<R0
 23136 06:5EA8: 84 03        	sty	<R0+2
 23137 06:5EAA: 18           	clc
 23138 06:5EAB: A5 01        	lda	<R0
 23139 06:5EAD: 65 10        	adc	<L1033+x_0
 23140 06:5EAF: 85 05        	sta	<R1
  Sat Jul 10 2021  1:15                                                Page 428


 23141 06:5EB1: A5 03        	lda	<R0+2
 23142 06:5EB3: 65 12        	adc	<L1033+x_0+2
 23143 06:5EB5: 85 07        	sta	<R1+2
 23144 06:5EB7: A5 05        	lda	<R1
 23145 06:5EB9: 85 18        	sta	<L1033+width_0
 23146                        ;		x = GUI_POINT_LIMIT_X_LO;
 23147                        	.line	4063
 23148 06:5EBB: 64 10        	stz	<L1033+x_0
 23149 06:5EBD: 64 12        	stz	<L1033+x_0+2
 23150                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    x-over:width:",(int)width);
 23151                        ;	}
 23152                        	.line	4065
 23153                        ;
 23154                        ;	if(y < GUI_POINT_LIMIT_Y_LO)
 23155                        L10417:
 23156                        	.line	4067
 23157                        ;	{
 23158 06:5EBF: A5 16        	lda	<L1033+y_0+2
 23159 06:5EC1: 30 03        	bmi	L1038
 23160 06:5EC3: 82 21 00     	brl	L10418
 23161                        L1038:
 23162                        	.line	4068
 23163                        ;		height = (height + y);
 23164                        	.line	4069
 23165 06:5EC6: A0 00 00     	ldy	#$0
 23166 06:5EC9: A5 1A        	lda	<L1033+height_0
 23167 06:5ECB: 10 01        	bpl	L1039
 23168 06:5ECD: 88           	dey
 23169                        L1039:
 23170 06:5ECE: 85 01        	sta	<R0
 23171 06:5ED0: 84 03        	sty	<R0+2
 23172 06:5ED2: 18           	clc
 23173 06:5ED3: A5 01        	lda	<R0
 23174 06:5ED5: 65 14        	adc	<L1033+y_0
 23175 06:5ED7: 85 05        	sta	<R1
 23176 06:5ED9: A5 03        	lda	<R0+2
 23177 06:5EDB: 65 16        	adc	<L1033+y_0+2
 23178 06:5EDD: 85 07        	sta	<R1+2
 23179 06:5EDF: A5 05        	lda	<R1
 23180 06:5EE1: 85 1A        	sta	<L1033+height_0
 23181                        ;		y = GUI_POINT_LIMIT_Y_LO;
 23182                        	.line	4070
 23183 06:5EE3: 64 14        	stz	<L1033+y_0
 23184 06:5EE5: 64 16        	stz	<L1033+y_0+2
 23185                        ;	}
 23186                        	.line	4071
 23187                        ;
 23188                        ;	if(x > GUI_POINT_LIMIT_X_HI)
 23189                        L10418:
 23190                        	.line	4073
 23191                        ;		x = GUI_POINT_LIMIT_X_HI - 1;
 23192 06:5EE7: 38           	sec
 23193 06:5EE8: A9 7F 02     	lda	#$27f
 23194 06:5EEB: E5 10        	sbc	<L1033+x_0
 23195 06:5EED: A9 00 00     	lda	#$0
 23196 06:5EF0: E5 12        	sbc	<L1033+x_0+2
 23197 06:5EF2: 70 03        	bvs	L1040
  Sat Jul 10 2021  1:15                                                Page 429


 23198 06:5EF4: 49 00 80     	eor	#$8000
 23199                        L1040:
 23200 06:5EF7: 10 03        	bpl	L1041
 23201 06:5EF9: 82 0A 00     	brl	L10419
 23202                        L1041:
 23203                        	.line	4074
 23204 06:5EFC: A9 7E 02     	lda	#$27e
 23205 06:5EFF: 85 10        	sta	<L1033+x_0
 23206 06:5F01: A9 00 00     	lda	#$0
 23207 06:5F04: 85 12        	sta	<L1033+x_0+2
 23208                        ;
 23209                        ;	if(y > GUI_POINT_LIMIT_Y_HI)
 23210                        L10419:
 23211                        	.line	4076
 23212                        ;		y = GUI_POINT_LIMIT_Y_HI - 1;
 23213 06:5F06: 38           	sec
 23214 06:5F07: A9 DF 01     	lda	#$1df
 23215 06:5F0A: E5 14        	sbc	<L1033+y_0
 23216 06:5F0C: A9 00 00     	lda	#$0
 23217 06:5F0F: E5 16        	sbc	<L1033+y_0+2
 23218 06:5F11: 70 03        	bvs	L1042
 23219 06:5F13: 49 00 80     	eor	#$8000
 23220                        L1042:
 23221 06:5F16: 10 03        	bpl	L1043
 23222 06:5F18: 82 0A 00     	brl	L10420
 23223                        L1043:
 23224                        	.line	4077
 23225 06:5F1B: A9 DE 01     	lda	#$1de
 23226 06:5F1E: 85 14        	sta	<L1033+y_0
 23227 06:5F20: A9 00 00     	lda	#$0
 23228 06:5F23: 85 16        	sta	<L1033+y_0+2
 23229                        ;
 23230                        ;	if((int)x + width > GUI_POINT_LIMIT_X_HI)
 23231                        L10420:
 23232                        	.line	4079
 23233                        ;	{
 23234 06:5F25: 18           	clc
 23235 06:5F26: A5 10        	lda	<L1033+x_0
 23236 06:5F28: 65 18        	adc	<L1033+width_0
 23237 06:5F2A: 85 01        	sta	<R0
 23238 06:5F2C: 38           	sec
 23239 06:5F2D: A9 7F 02     	lda	#$27f
 23240 06:5F30: E5 01        	sbc	<R0
 23241 06:5F32: 70 03        	bvs	L1044
 23242 06:5F34: 49 00 80     	eor	#$8000
 23243                        L1044:
 23244 06:5F37: 10 03        	bpl	L1045
 23245 06:5F39: 82 14 00     	brl	L10421
 23246                        L1045:
 23247                        	.line	4080
 23248                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    x-over:x:",(int)x);
 23249                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    x-over:width:",(int)width);
 23250                        ;
 23251                        ;		width = GUI_POINT_LIMIT_X_HI - (int)x;
 23252                        	.line	4084
 23253 06:5F3C: 38           	sec
  Sat Jul 10 2021  1:15                                                Page 430


 23254 06:5F3D: A9 7F 02     	lda	#$27f
 23255 06:5F40: E5 10        	sbc	<L1033+x_0
 23256 06:5F42: 85 18        	sta	<L1033+width_0
 23257                        ;
 23258                        ;		k_debug_integer("k_vdma_fill_rect_ex::x-
                    over:width:adjusted:",(int)width);
 23259                        	.line	4086
 23260 06:5F44: D4 18        	pei	<L1033+width_0
 23261 06:5F46: F4 xx xx     	pea	#^L1006
 23262 06:5F49: F4 xx xx     	pea	#<L1006
 23263 06:5F4C: 22 xx xx xx  	jsl	~~k_debug_integer
 23264                        ;	}
 23265                        	.line	4087
 23266                        ;
 23267                        ;	if((int)y + height > GUI_POINT_LIMIT_Y_HI)
 23268                        L10421:
 23269                        	.line	4089
 23270                        ;	{
 23271 06:5F50: 18           	clc
 23272 06:5F51: A5 14        	lda	<L1033+y_0
 23273 06:5F53: 65 1A        	adc	<L1033+height_0
 23274 06:5F55: 85 01        	sta	<R0
 23275 06:5F57: 38           	sec
 23276 06:5F58: A9 DF 01     	lda	#$1df
 23277 06:5F5B: E5 01        	sbc	<R0
 23278 06:5F5D: 70 03        	bvs	L1046
 23279 06:5F5F: 49 00 80     	eor	#$8000
 23280                        L1046:
 23281 06:5F62: 10 03        	bpl	L1047
 23282 06:5F64: 82 14 00     	brl	L10422
 23283                        L1047:
 23284                        	.line	4090
 23285                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    y-over:y:",y);
 23286                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    y-over:height:",height);
 23287                        ;
 23288                        ;		height = GUI_POINT_LIMIT_Y_HI - (int)y;
 23289                        	.line	4094
 23290 06:5F67: 38           	sec
 23291 06:5F68: A9 DF 01     	lda	#$1df
 23292 06:5F6B: E5 14        	sbc	<L1033+y_0
 23293 06:5F6D: 85 1A        	sta	<L1033+height_0
 23294                        ;
 23295                        ;		k_debug_integer("k_vdma_fill_rect_ex::y-
                    over:height:adjusted:",height);
 23296                        	.line	4096
 23297 06:5F6F: D4 1A        	pei	<L1033+height_0
 23298 06:5F71: F4 xx xx     	pea	#^L1006+44
 23299 06:5F74: F4 xx xx     	pea	#<L1006+44
 23300 06:5F77: 22 xx xx xx  	jsl	~~k_debug_integer
 23301                        ;	}
 23302                        	.line	4097
 23303                        ;	pixelLocation = (long)(( ((long)y) * (640L)) + (
                    (long)x) );
 23304                        L10422:
 23305                        	.line	4098
 23306 06:5F7B: F4 00 00     	pea	#^$280
  Sat Jul 10 2021  1:15                                                Page 431


 23307 06:5F7E: F4 80 02     	pea	#<$280
 23308 06:5F81: D4 16        	pei	<L1033+y_0+2
 23309 06:5F83: D4 14        	pei	<L1033+y_0
 23310                        	xref	~~~lmul
 23311 06:5F85: 22 xx xx xx  	jsl	~~~lmul
 23312 06:5F89: 85 01        	sta	<R0
 23313 06:5F8B: 86 03        	stx	<R0+2
 23314 06:5F8D: 18           	clc
 23315 06:5F8E: A5 01        	lda	<R0
 23316 06:5F90: 65 10        	adc	<L1033+x_0
 23317 06:5F92: 85 09        	sta	<L1034+pixelLocation_1
 23318 06:5F94: A5 03        	lda	<R0+2
 23319 06:5F96: 65 12        	adc	<L1033+x_0+2
 23320 06:5F98: 85 0B        	sta	<L1034+pixelLocation_1+2
 23321                        ;
 23322                        ;	//k_debug_integer("k_vdma_fill_rect:",page);
 23323                        ;	//k_debug_integer("k_vdma_fill_width:",width);
 23324                        ;	//k_debug_integer("k_vdma_fill_height:",height);
 23325                        ;
 23326                        ;	k_vdma_fill_address_ex((char FAR * )pixelLocatio
                    n, width, height,pcolor,page);
 23327                        	.line	4104
 23328 06:5F9A: D4 1E        	pei	<L1033+page_0
 23329 06:5F9C: D4 1C        	pei	<L1033+pcolor_0
 23330 06:5F9E: D4 1A        	pei	<L1033+height_0
 23331 06:5FA0: D4 18        	pei	<L1033+width_0
 23332 06:5FA2: D4 0B        	pei	<L1034+pixelLocation_1+2
 23333 06:5FA4: D4 09        	pei	<L1034+pixelLocation_1
 23334 06:5FA6: 22 05 63 06  	jsl	~~k_vdma_fill_address_ex
 23335                        ;
 23336                        ;	return;
 23337                        	.line	4106
 23338                        L1048:
 23339 06:5FAA: A5 0E        	lda	<L1033+2
 23340 06:5FAC: 85 1E        	sta	<L1033+2+16
 23341 06:5FAE: A5 0D        	lda	<L1033+1
 23342 06:5FB0: 85 1D        	sta	<L1033+1+16
 23343 06:5FB2: 2B           	pld
 23344 06:5FB3: 3B           	tsc
 23345 06:5FB4: 18           	clc
 23346 06:5FB5: 69 1C 00     	adc	#L1033+16
 23347 06:5FB8: 1B           	tcs
 23348 06:5FB9: 6B           	rtl
 23349                        ;}
 23350                        	.line	4107
 23351                        	.endblock	4107
 23352             0000000C   L1033	equ	12
 23353             00000009   L1034	equ	9
 23354 06:5FBA:              	ends
 23355                        	efunc
 23356                        	.endfunc	4107,9,12
 23357                        	.line	4107
 23358                        	data
 23359                        L1006:
 23360 00:0A0C: 6B 5F 76 64  	db	$6B,$5F,$76,$64,$6D,$61,$5F,$66,$69,$6C,
                    $6C,$5F,$72,$65,$63
       00:0A10: 6D 61 5F 66 
       00:0A14: 69 6C 6C 5F 
  Sat Jul 10 2021  1:15                                                Page 432


       00:0A18: 72 65 63 
 23361 00:0A1B: 74 5F 65 78  	db	$74,$5F,$65,$78,$3A,$3A,$78,$2D,$6F,$76,
                    $65,$72,$3A,$77,$69
       00:0A1F: 3A 3A 78 2D 
       00:0A23: 6F 76 65 72 
       00:0A27: 3A 77 69 
 23362 00:0A2A: 64 74 68 3A  	db	$64,$74,$68,$3A,$61,$64,$6A,$75,$73,$74,
                    $65,$64,$3A,$00,$6B
       00:0A2E: 61 64 6A 75 
       00:0A32: 73 74 65 64 
       00:0A36: 3A 00 6B 
 23363 00:0A39: 5F 76 64 6D  	db	$5F,$76,$64,$6D,$61,$5F,$66,$69,$6C,$6C,
                    $5F,$72,$65,$63,$74
       00:0A3D: 61 5F 66 69 
       00:0A41: 6C 6C 5F 72 
       00:0A45: 65 63 74 
 23364 00:0A48: 5F 65 78 3A  	db	$5F,$65,$78,$3A,$3A,$79,$2D,$6F,$76,$65,
                    $72,$3A,$68,$65,$69
       00:0A4C: 3A 79 2D 6F 
       00:0A50: 76 65 72 3A 
       00:0A54: 68 65 69 
 23365 00:0A57: 67 68 74 3A  	db	$67,$68,$74,$3A,$61,$64,$6A,$75,$73,$74,
                    $65,$64,$3A,$00
       00:0A5B: 61 64 6A 75 
       00:0A5F: 73 74 65 64 
       00:0A63: 3A 00 
 23366 00:0A65:              	ends
 23367                        ;
 23368                        ;void k_vdma_fill_rect(long x,long y,int width,int
                     height,unsigned char pcolor)
 23369                        ;{
 23370                        	.line	4109
 23371                        	.line	4110
 23372                        	GFX
 23373                        	xdef	~~k_vdma_fill_rect
 23374                        	func
 23375                        	.function	4110
 23376                        ~~k_vdma_fill_rect:
 23377                        	longa	on
 23378                        	longi	on
 23379 06:5FBA: 3B           	tsc
 23380 06:5FBB: 38           	sec
 23381 06:5FBC: E9 00 00     	sbc	#L1050
 23382 06:5FBF: 1B           	tcs
 23383 06:5FC0: 0B           	phd
 23384 06:5FC1: 5B           	tcd
 23385             00000004   x_0	set	4
 23386             00000008   y_0	set	8
 23387             0000000C   width_0	set	12
 23388             0000000E   height_0	set	14
 23389             00000010   pcolor_0	set	16
 23390                        	.block	4110
 23391                        ;	k_vdma_fill_rect_ex(x,y,width,height,pcolor,BITM
                    AP_BACK);
 23392                        	.sym	x,4,7,6,32
 23393                        	.sym	y,8,7,6,32
 23394                        	.sym	width,12,5,6,16
 23395                        	.sym	height,14,5,6,16
  Sat Jul 10 2021  1:15                                                Page 433


 23396                        	.sym	pcolor,16,14,6,8
 23397                        	.line	4111
 23398 06:5FC2: F4 08 00     	pea	#<$8
 23399 06:5FC5: D4 10        	pei	<L1050+pcolor_0
 23400 06:5FC7: D4 0E        	pei	<L1050+height_0
 23401 06:5FC9: D4 0C        	pei	<L1050+width_0
 23402 06:5FCB: D4 0A        	pei	<L1050+y_0+2
 23403 06:5FCD: D4 08        	pei	<L1050+y_0
 23404 06:5FCF: D4 06        	pei	<L1050+x_0+2
 23405 06:5FD1: D4 04        	pei	<L1050+x_0
 23406 06:5FD3: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 23407                        ;}
 23408                        	.line	4112
 23409                        L1053:
 23410 06:5FD7: A5 02        	lda	<L1050+2
 23411 06:5FD9: 85 10        	sta	<L1050+2+14
 23412 06:5FDB: A5 01        	lda	<L1050+1
 23413 06:5FDD: 85 0F        	sta	<L1050+1+14
 23414 06:5FDF: 2B           	pld
 23415 06:5FE0: 3B           	tsc
 23416 06:5FE1: 18           	clc
 23417 06:5FE2: 69 0E 00     	adc	#L1050+14
 23418 06:5FE5: 1B           	tcs
 23419 06:5FE6: 6B           	rtl
 23420                        	.endblock	4112
 23421             00000000   L1050	equ	0
 23422             00000001   L1051	equ	1
 23423 06:5FE7:              	ends
 23424                        	efunc
 23425                        	.endfunc	4112,1,0
 23426                        	.line	4112
 23427                        ;
 23428                        ;/*
 23429                        ;void k_vdma_fill_rect(long x,long y,int width,int
                     height,unsigned char pcolor)
 23430                        ;{
 23431                        ;	long pixelLocation = (long)(( ((long)y) * (640L)
                    ) + ((long)x) );
 23432                        ;
 23433                        ;	//k_debug_string("k_vdma_fill_rect V2\r\n");
 23434                        ;
 23435                        ;	//k_vdma_fill_address((char FAR * )pixelLocation
                    , width - 2, height - 1,pcolor);
 23436                        ;	k_vdma_fill_address((char FAR * )pixelLocation, 
                    width, height,pcolor);
 23437                        ;#ifdef FX_C256_USESHADOW
 23438                        ;	k_shadow_fill_rect(x,y, width, height, pcolor);
 23439                        ;#endif
 23440                        ;	//k_shadow_bitblt(x,y,width,height,x,y);
 23441                        ;
 23442                        ;	return;
 23443                        ;}
 23444                        ;*/
 23445                        ;
 23446                        ;void k_vdma_fill_address_old(char FAR * pdst,int 
                    width,int height,unsigned char data)
 23447                        ;{
 23448                        	.line	4132
  Sat Jul 10 2021  1:15                                                Page 434


 23449                        	.line	4133
 23450                        	GFX
 23451                        	xdef	~~k_vdma_fill_address_old
 23452                        	func
 23453                        	.function	4133
 23454                        ~~k_vdma_fill_address_old:
 23455                        	longa	on
 23456                        	longi	on
 23457 06:5FE7: 3B           	tsc
 23458 06:5FE8: 38           	sec
 23459 06:5FE9: E9 0D 00     	sbc	#L1054
 23460 06:5FEC: 1B           	tcs
 23461 06:5FED: 0B           	phd
 23462 06:5FEE: 5B           	tcd
 23463             00000004   pdst_0	set	4
 23464             00000008   width_0	set	8
 23465             0000000A   height_0	set	10
 23466             0000000C   data_0	set	12
 23467                        	.block	4133
 23468                        ;	int pos = 0;
 23469                        ;	UINT spinLock = 0;
 23470                        ;	char status = VDMA_STAT_VDMA_IPS;
 23471                        ;
 23472                        ;	/*
 23473                        ;	while(status == VDMA_STAT_VDMA_IPS)
 23474                        ;	{
 23475                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 23476                        ;		spinLock++;
 23477                        ;
 23478                        ;		if(spinLock > 32000)
 23479                        ;		{
 23480                        ;			break;
 23481                        ;		}
 23482                        ;	}
 23483                        ;	k_debug_integer("k_vdma_fill_address1::spinLock:
                    ",spinLock);
 23484                        ;	*/
 23485                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE | VDMA_CT
                    RL_1D_2D | VDMA_CTRL_TRF_FILL;
 23486             00000000   pos_1	set	0
 23487             00000002   spinLock_1	set	2
 23488             00000004   status_1	set	4
 23489                        	.sym	pos,0,5,1,16
 23490                        	.sym	spinLock,2,16,1,16
 23491                        	.sym	status,4,14,1,8
 23492                        	.sym	pdst,4,142,6,32
 23493                        	.sym	width,8,5,6,16
 23494                        	.sym	height,10,5,6,16
 23495                        	.sym	data,12,14,6,8
 23496 06:5FEF: 64 09        	stz	<L1055+pos_1
 23497 06:5FF1: 64 0B        	stz	<L1055+spinLock_1
 23498 06:5FF3: E2 20        	sep	#$20
 23499                        	longa	off
 23500 06:5FF5: A9 80        	lda	#$80
 23501 06:5FF7: 85 0D        	sta	<L1055+status_1
 23502 06:5FF9: C2 20        	rep	#$20
 23503                        	longa	on
  Sat Jul 10 2021  1:15                                                Page 435


 23504                        	.line	4151
 23505 06:5FFB: E2 20        	sep	#$20
 23506                        	longa	off
 23507 06:5FFD: A9 07        	lda	#$7
 23508 06:5FFF: 8F 00 04 AF  	sta	>11469824
 23509 06:6003: C2 20        	rep	#$20
 23510                        	longa	on
 23511                        ;
 23512                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 23513                        	.line	4153
 23514 06:6005: E2 20        	sep	#$20
 23515                        	longa	off
 23516 06:6007: A5 11        	lda	<L1054+pdst_0
 23517 06:6009: 8F 05 04 AF  	sta	>11469829
 23518 06:600D: C2 20        	rep	#$20
 23519                        	longa	on
 23520                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 23521                        	.line	4154
 23522 06:600F: D4 13        	pei	<L1054+pdst_0+2
 23523 06:6011: D4 11        	pei	<L1054+pdst_0
 23524 06:6013: A9 08 00     	lda	#$8
 23525                        	xref	~~~llsr
 23526 06:6016: 22 xx xx xx  	jsl	~~~llsr
 23527 06:601A: 85 01        	sta	<R0
 23528 06:601C: 86 03        	stx	<R0+2
 23529 06:601E: A5 01        	lda	<R0
 23530 06:6020: 29 FF 00     	and	#<$ff
 23531 06:6023: 85 05        	sta	<R1
 23532 06:6025: 64 07        	stz	<R1+2
 23533 06:6027: E2 20        	sep	#$20
 23534                        	longa	off
 23535 06:6029: A5 05        	lda	<R1
 23536 06:602B: 8F 06 04 AF  	sta	>11469830
 23537 06:602F: C2 20        	rep	#$20
 23538                        	longa	on
 23539                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 23540                        	.line	4155
 23541 06:6031: D4 13        	pei	<L1054+pdst_0+2
 23542 06:6033: D4 11        	pei	<L1054+pdst_0
 23543 06:6035: A9 10 00     	lda	#$10
 23544                        	xref	~~~llsr
 23545 06:6038: 22 xx xx xx  	jsl	~~~llsr
 23546 06:603C: 85 01        	sta	<R0
 23547 06:603E: 86 03        	stx	<R0+2
 23548 06:6040: A5 01        	lda	<R0
 23549 06:6042: 29 FF 00     	and	#<$ff
 23550 06:6045: 85 05        	sta	<R1
 23551 06:6047: 64 07        	stz	<R1+2
 23552 06:6049: E2 20        	sep	#$20
 23553                        	longa	off
 23554 06:604B: A5 05        	lda	<R1
 23555 06:604D: 8F 07 04 AF  	sta	>11469831
 23556 06:6051: C2 20        	rep	#$20
 23557                        	longa	on
 23558                        ;
 23559                        ;	*BM_START_ADDY_L = 0x00;
 23560                        	.line	4157
 23561 06:6053: E2 20        	sep	#$20
  Sat Jul 10 2021  1:15                                                Page 436


 23562                        	longa	off
 23563 06:6055: A9 00        	lda	#$0
 23564 06:6057: 8F 41 01 AF  	sta	>11469121
 23565 06:605B: C2 20        	rep	#$20
 23566                        	longa	on
 23567                        ;	*BM_START_ADDY_M = 0x00;
 23568                        	.line	4158
 23569 06:605D: E2 20        	sep	#$20
 23570                        	longa	off
 23571 06:605F: A9 00        	lda	#$0
 23572 06:6061: 8F 42 01 AF  	sta	>11469122
 23573 06:6065: C2 20        	rep	#$20
 23574                        	longa	on
 23575                        ;	*BM_START_ADDY_H = 0x00;
 23576                        	.line	4159
 23577 06:6067: E2 20        	sep	#$20
 23578                        	longa	off
 23579 06:6069: A9 00        	lda	#$0
 23580 06:606B: 8F 43 01 AF  	sta	>11469123
 23581 06:606F: C2 20        	rep	#$20
 23582                        	longa	on
 23583                        ;	*((char FAR*)0xAF1F80) = 0x02;
 23584                        	.line	4160
 23585 06:6071: E2 20        	sep	#$20
 23586                        	longa	off
 23587 06:6073: A9 02        	lda	#$2
 23588 06:6075: 8F 80 1F AF  	sta	>11476864
 23589 06:6079: C2 20        	rep	#$20
 23590                        	longa	on
 23591                        ;	
 23592                        ;	*BM_X_SIZE_L = 0x80;
 23593                        	.line	4162
 23594 06:607B: E2 20        	sep	#$20
 23595                        	longa	off
 23596 06:607D: A9 80        	lda	#$80
 23597 06:607F: 8F 44 01 AF  	sta	>11469124
 23598 06:6083: C2 20        	rep	#$20
 23599                        	longa	on
 23600                        ;	*BM_X_SIZE_H = 0x02;	
 23601                        	.line	4163
 23602 06:6085: E2 20        	sep	#$20
 23603                        	longa	off
 23604 06:6087: A9 02        	lda	#$2
 23605 06:6089: 8F 45 01 AF  	sta	>11469125
 23606 06:608D: C2 20        	rep	#$20
 23607                        	longa	on
 23608                        ;	*BM_Y_SIZE_L = 0xE0;
 23609                        	.line	4164
 23610 06:608F: E2 20        	sep	#$20
 23611                        	longa	off
 23612 06:6091: A9 E0        	lda	#$e0
 23613 06:6093: 8F 46 01 AF  	sta	>11469126
 23614 06:6097: C2 20        	rep	#$20
 23615                        	longa	on
 23616                        ;	*BM_Y_SIZE_H = 0x01;
 23617                        	.line	4165
 23618 06:6099: E2 20        	sep	#$20
 23619                        	longa	off
  Sat Jul 10 2021  1:15                                                Page 437


 23620 06:609B: A9 01        	lda	#$1
 23621 06:609D: 8F 47 01 AF  	sta	>11469127
 23622 06:60A1: C2 20        	rep	#$20
 23623                        	longa	on
 23624                        ;
 23625                        ;	width+=(width & 0x0001);
 23626                        	.line	4167
 23627 06:60A3: A5 15        	lda	<L1054+width_0
 23628 06:60A5: 29 01 00     	and	#<$1
 23629 06:60A8: 85 01        	sta	<R0
 23630 06:60AA: 18           	clc
 23631 06:60AB: A5 15        	lda	<L1054+width_0
 23632 06:60AD: 65 01        	adc	<R0
 23633 06:60AF: 85 15        	sta	<L1054+width_0
 23634                        ;
 23635                        ;	*VDMA_X_SIZE_L = LOBYTE(width);
 23636                        	.line	4169
 23637 06:60B1: E2 20        	sep	#$20
 23638                        	longa	off
 23639 06:60B3: A5 15        	lda	<L1054+width_0
 23640 06:60B5: 8F 08 04 AF  	sta	>11469832
 23641 06:60B9: C2 20        	rep	#$20
 23642                        	longa	on
 23643                        ;	*VDMA_X_SIZE_H = HIBYTE(width);
 23644                        	.line	4170
 23645 06:60BB: A5 15        	lda	<L1054+width_0
 23646 06:60BD: A2 08 00     	ldx	#<$8
 23647                        	xref	~~~asr
 23648 06:60C0: 22 xx xx xx  	jsl	~~~asr
 23649 06:60C4: 29 FF 00     	and	#<$ff
 23650 06:60C7: 85 01        	sta	<R0
 23651 06:60C9: E2 20        	sep	#$20
 23652                        	longa	off
 23653 06:60CB: A5 01        	lda	<R0
 23654 06:60CD: 8F 09 04 AF  	sta	>11469833
 23655 06:60D1: C2 20        	rep	#$20
 23656                        	longa	on
 23657                        ;
 23658                        ;	*VDMA_Y_SIZE_L = LOBYTE(height);
 23659                        	.line	4172
 23660 06:60D3: E2 20        	sep	#$20
 23661                        	longa	off
 23662 06:60D5: A5 17        	lda	<L1054+height_0
 23663 06:60D7: 8F 0A 04 AF  	sta	>11469834
 23664 06:60DB: C2 20        	rep	#$20
 23665                        	longa	on
 23666                        ;	*VDMA_Y_SIZE_H = HIBYTE(height);
 23667                        	.line	4173
 23668 06:60DD: A5 17        	lda	<L1054+height_0
 23669 06:60DF: A2 08 00     	ldx	#<$8
 23670                        	xref	~~~asr
 23671 06:60E2: 22 xx xx xx  	jsl	~~~asr
 23672 06:60E6: 29 FF 00     	and	#<$ff
 23673 06:60E9: 85 01        	sta	<R0
 23674 06:60EB: E2 20        	sep	#$20
 23675                        	longa	off
 23676 06:60ED: A5 01        	lda	<R0
 23677 06:60EF: 8F 0B 04 AF  	sta	>11469835
  Sat Jul 10 2021  1:15                                                Page 438


 23678 06:60F3: C2 20        	rep	#$20
 23679                        	longa	on
 23680                        ;
 23681                        ;	*VDMA_DST_STRIDE_L  = 0x80;
 23682                        	.line	4175
 23683 06:60F5: E2 20        	sep	#$20
 23684                        	longa	off
 23685 06:60F7: A9 80        	lda	#$80
 23686 06:60F9: 8F 0E 04 AF  	sta	>11469838
 23687 06:60FD: C2 20        	rep	#$20
 23688                        	longa	on
 23689                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 23690                        	.line	4176
 23691 06:60FF: E2 20        	sep	#$20
 23692                        	longa	off
 23693 06:6101: A9 02        	lda	#$2
 23694 06:6103: 8F 0F 04 AF  	sta	>11469839
 23695 06:6107: C2 20        	rep	#$20
 23696                        	longa	on
 23697                        ;	
 23698                        ;
 23699                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 23700                        	.line	4179
 23701 06:6109: E2 20        	sep	#$20
 23702                        	longa	off
 23703 06:610B: A5 11        	lda	<L1054+pdst_0
 23704 06:610D: 8F 05 04 AF  	sta	>11469829
 23705 06:6111: C2 20        	rep	#$20
 23706                        	longa	on
 23707                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 23708                        	.line	4180
 23709 06:6113: D4 13        	pei	<L1054+pdst_0+2
 23710 06:6115: D4 11        	pei	<L1054+pdst_0
 23711 06:6117: A9 08 00     	lda	#$8
 23712                        	xref	~~~llsr
 23713 06:611A: 22 xx xx xx  	jsl	~~~llsr
 23714 06:611E: 85 01        	sta	<R0
 23715 06:6120: 86 03        	stx	<R0+2
 23716 06:6122: A5 01        	lda	<R0
 23717 06:6124: 29 FF 00     	and	#<$ff
 23718 06:6127: 85 05        	sta	<R1
 23719 06:6129: 64 07        	stz	<R1+2
 23720 06:612B: E2 20        	sep	#$20
 23721                        	longa	off
 23722 06:612D: A5 05        	lda	<R1
 23723 06:612F: 8F 06 04 AF  	sta	>11469830
 23724 06:6133: C2 20        	rep	#$20
 23725                        	longa	on
 23726                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 23727                        	.line	4181
 23728 06:6135: D4 13        	pei	<L1054+pdst_0+2
 23729 06:6137: D4 11        	pei	<L1054+pdst_0
 23730 06:6139: A9 10 00     	lda	#$10
 23731                        	xref	~~~llsr
 23732 06:613C: 22 xx xx xx  	jsl	~~~llsr
 23733 06:6140: 85 01        	sta	<R0
 23734 06:6142: 86 03        	stx	<R0+2
 23735 06:6144: A5 01        	lda	<R0
  Sat Jul 10 2021  1:15                                                Page 439


 23736 06:6146: 29 FF 00     	and	#<$ff
 23737 06:6149: 85 05        	sta	<R1
 23738 06:614B: 64 07        	stz	<R1+2
 23739 06:614D: E2 20        	sep	#$20
 23740                        	longa	off
 23741 06:614F: A5 05        	lda	<R1
 23742 06:6151: 8F 07 04 AF  	sta	>11469831
 23743 06:6155: C2 20        	rep	#$20
 23744                        	longa	on
 23745                        ;
 23746                        ;	VDMA_BYTE_2_WRITE[0] = (char)data;
 23747                        	.line	4183
 23748 06:6157: E2 20        	sep	#$20
 23749                        	longa	off
 23750 06:6159: A5 19        	lda	<L1054+data_0
 23751 06:615B: 8F 01 04 AF  	sta	>11469825
 23752 06:615F: C2 20        	rep	#$20
 23753                        	longa	on
 23754                        ;	
 23755                        ;	VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VDMA_
                    CTRL_1D_2D | VDMA_CTRL_TRF_FILL | VDMA_CTRL_START_TRF);//0x8
                    7;
 23756                        	.line	4185
 23757 06:6161: E2 20        	sep	#$20
 23758                        	longa	off
 23759 06:6163: A9 87        	lda	#$87
 23760 06:6165: 8F 00 04 AF  	sta	>11469824
 23761 06:6169: C2 20        	rep	#$20
 23762                        	longa	on
 23763                        ;
 23764                        ;
 23765                        ;	status = VDMA_STAT_VDMA_IPS;
 23766                        	.line	4188
 23767 06:616B: E2 20        	sep	#$20
 23768                        	longa	off
 23769 06:616D: A9 80        	lda	#$80
 23770 06:616F: 85 0D        	sta	<L1055+status_1
 23771 06:6171: C2 20        	rep	#$20
 23772                        	longa	on
 23773                        ;	while(status == VDMA_STAT_VDMA_IPS)
 23774                        	.line	4189
 23775                        L10423:
 23776 06:6173: E2 20        	sep	#$20
 23777                        	longa	off
 23778 06:6175: A5 0D        	lda	<L1055+status_1
 23779 06:6177: C9 80        	cmp	#<$80
 23780 06:6179: C2 20        	rep	#$20
 23781                        	longa	on
 23782 06:617B: F0 03        	beq	L1057
 23783 06:617D: 82 1E 00     	brl	L10424
 23784                        L1057:
 23785                        ;	{
 23786                        	.line	4190
 23787                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 23788                        	.line	4191
 23789 06:6180: E2 20        	sep	#$20
 23790                        	longa	off
  Sat Jul 10 2021  1:15                                                Page 440


 23791 06:6182: AF 01 04 AF  	lda	>11469825
 23792 06:6186: 29 80        	and	#<$80
 23793 06:6188: 85 0D        	sta	<L1055+status_1
 23794 06:618A: C2 20        	rep	#$20
 23795                        	longa	on
 23796                        ;		spinLock++;
 23797                        	.line	4192
 23798 06:618C: E6 0B        	inc	<L1055+spinLock_1
 23799                        ;
 23800                        ;		if(spinLock > 32000)
 23801                        	.line	4194
 23802                        ;		{
 23803 06:618E: A9 00 7D     	lda	#$7d00
 23804 06:6191: C5 0B        	cmp	<L1055+spinLock_1
 23805 06:6193: 90 03        	bcc	L1058
 23806 06:6195: 82 03 00     	brl	L10425
 23807                        L1058:
 23808                        	.line	4195
 23809                        ;			break;
 23810                        	.line	4196
 23811 06:6198: 82 03 00     	brl	L10424
 23812                        ;		}
 23813                        	.line	4197
 23814                        ;	}
 23815                        L10425:
 23816                        	.line	4198
 23817 06:619B: 82 D5 FF     	brl	L10423
 23818                        L10424:
 23819                        ;	k_debug_integer("k_vdma_fill_address2::spinLock:
                    ",spinLock);
 23820                        	.line	4199
 23821 06:619E: D4 0B        	pei	<L1055+spinLock_1
 23822 06:61A0: F4 xx xx     	pea	#^L1049
 23823 06:61A3: F4 xx xx     	pea	#<L1049
 23824 06:61A6: 22 xx xx xx  	jsl	~~k_debug_integer
 23825                        ;
 23826                        ;
 23827                        ;
 23828                        ;	/*
 23829                        ;	while(status == VDMA_STAT_VDMA_IPS)
 23830                        ;	{
 23831                        ;		status = ( *((unsigned char *)0xAF0401) 
                    & VDMA_STAT_VDMA_IPS);
 23832                        ;	}
 23833                        ;	
 23834                        ;	
 23835                        ;	while(status == VDMA_STAT_VDMA_IPS)
 23836                        ;	{
 23837                        ;		#asm
 23838                        ;		PHA 
 23839                        ;        LDA $AF0401
 23840                        ;        AND #$80
 23841                        ;        CMP #$80
 23842                        ;        STA %%status
 23843                        ;		PLA
 23844                        ;		#endasm
 23845                        ;	}
 23846                        ;	*/
  Sat Jul 10 2021  1:15                                                Page 441


 23847                        ;	
 23848                        ;   //return *VDMA_STATUS_REG;
 23849                        ;   //return VDMA_STATUS_REG[0];
 23850                        ;   //VDMA_CONTROL_REG[0] = (char)0x00;
 23851                        ;   
 23852                        ;   return ;
 23853                        	.line	4227
 23854                        L1059:
 23855 06:61AA: A5 0F        	lda	<L1054+2
 23856 06:61AC: 85 19        	sta	<L1054+2+10
 23857 06:61AE: A5 0E        	lda	<L1054+1
 23858 06:61B0: 85 18        	sta	<L1054+1+10
 23859 06:61B2: 2B           	pld
 23860 06:61B3: 3B           	tsc
 23861 06:61B4: 18           	clc
 23862 06:61B5: 69 17 00     	adc	#L1054+10
 23863 06:61B8: 1B           	tcs
 23864 06:61B9: 6B           	rtl
 23865                        ;}
 23866                        	.line	4228
 23867                        	.endblock	4228
 23868             0000000D   L1054	equ	13
 23869             00000009   L1055	equ	9
 23870 06:61BA:              	ends
 23871                        	efunc
 23872                        	.endfunc	4228,9,13
 23873                        	.line	4228
 23874                        	data
 23875                        L1049:
 23876 00:0A65: 6B 5F 76 64  	db	$6B,$5F,$76,$64,$6D,$61,$5F,$66,$69,$6C,
                    $6C,$5F,$61,$64,$64
       00:0A69: 6D 61 5F 66 
       00:0A6D: 69 6C 6C 5F 
       00:0A71: 61 64 64 
 23877 00:0A74: 72 65 73 73  	db	$72,$65,$73,$73,$32,$3A,$3A,$73,$70,$69,
                    $6E,$4C,$6F,$63,$6B
       00:0A78: 32 3A 3A 73 
       00:0A7C: 70 69 6E 4C 
       00:0A80: 6F 63 6B 
 23878 00:0A83: 3A 00        	db	$3A,$00
 23879 00:0A85:              	ends
 23880                        ;
 23881                        ;void k_vdma_fill_address(char FAR * pdst,int widt
                    h,int height,unsigned char data)
 23882                        ;{
 23883                        	.line	4230
 23884                        	.line	4231
 23885                        	GFX
 23886                        	xdef	~~k_vdma_fill_address
 23887                        	func
 23888                        	.function	4231
 23889                        ~~k_vdma_fill_address:
 23890                        	longa	on
 23891                        	longi	on
 23892 06:61BA: 3B           	tsc
 23893 06:61BB: 38           	sec
 23894 06:61BC: E9 0D 00     	sbc	#L1061
 23895 06:61BF: 1B           	tcs
  Sat Jul 10 2021  1:15                                                Page 442


 23896 06:61C0: 0B           	phd
 23897 06:61C1: 5B           	tcd
 23898             00000004   pdst_0	set	4
 23899             00000008   width_0	set	8
 23900             0000000A   height_0	set	10
 23901             0000000C   data_0	set	12
 23902                        	.block	4231
 23903                        ;	int pos = 0;
 23904                        ;	UINT spinLock = 0;
 23905                        ;	char status = VDMA_STAT_VDMA_IPS;
 23906                        ;
 23907                        ;	VDMA_CONTROL_REG[0] = ( VDMA_CTRL_ENABLE | VDMA_
                    CTRL_TRF_FILL | VDMA_CTRL_1D_2D );
 23908             00000000   pos_1	set	0
 23909             00000002   spinLock_1	set	2
 23910             00000004   status_1	set	4
 23911                        	.sym	pos,0,5,1,16
 23912                        	.sym	spinLock,2,16,1,16
 23913                        	.sym	status,4,14,1,8
 23914                        	.sym	pdst,4,142,6,32
 23915                        	.sym	width,8,5,6,16
 23916                        	.sym	height,10,5,6,16
 23917                        	.sym	data,12,14,6,8
 23918 06:61C2: 64 09        	stz	<L1062+pos_1
 23919 06:61C4: 64 0B        	stz	<L1062+spinLock_1
 23920 06:61C6: E2 20        	sep	#$20
 23921                        	longa	off
 23922 06:61C8: A9 80        	lda	#$80
 23923 06:61CA: 85 0D        	sta	<L1062+status_1
 23924 06:61CC: C2 20        	rep	#$20
 23925                        	longa	on
 23926                        	.line	4236
 23927 06:61CE: E2 20        	sep	#$20
 23928                        	longa	off
 23929 06:61D0: A9 07        	lda	#$7
 23930 06:61D2: 8F 00 04 AF  	sta	>11469824
 23931 06:61D6: C2 20        	rep	#$20
 23932                        	longa	on
 23933                        ;
 23934                        ;	VDMA_BYTE_2_WRITE[0] = (UCHAR)data;
 23935                        	.line	4238
 23936 06:61D8: E2 20        	sep	#$20
 23937                        	longa	off
 23938 06:61DA: A5 19        	lda	<L1061+data_0
 23939 06:61DC: 8F 01 04 AF  	sta	>11469825
 23940 06:61E0: C2 20        	rep	#$20
 23941                        	longa	on
 23942                        ;
 23943                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 23944                        	.line	4240
 23945 06:61E2: E2 20        	sep	#$20
 23946                        	longa	off
 23947 06:61E4: A5 11        	lda	<L1061+pdst_0
 23948 06:61E6: 8F 05 04 AF  	sta	>11469829
 23949 06:61EA: C2 20        	rep	#$20
 23950                        	longa	on
 23951                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 23952                        	.line	4241
  Sat Jul 10 2021  1:15                                                Page 443


 23953 06:61EC: D4 13        	pei	<L1061+pdst_0+2
 23954 06:61EE: D4 11        	pei	<L1061+pdst_0
 23955 06:61F0: A9 08 00     	lda	#$8
 23956                        	xref	~~~llsr
 23957 06:61F3: 22 xx xx xx  	jsl	~~~llsr
 23958 06:61F7: 85 01        	sta	<R0
 23959 06:61F9: 86 03        	stx	<R0+2
 23960 06:61FB: A5 01        	lda	<R0
 23961 06:61FD: 29 FF 00     	and	#<$ff
 23962 06:6200: 85 05        	sta	<R1
 23963 06:6202: 64 07        	stz	<R1+2
 23964 06:6204: E2 20        	sep	#$20
 23965                        	longa	off
 23966 06:6206: A5 05        	lda	<R1
 23967 06:6208: 8F 06 04 AF  	sta	>11469830
 23968 06:620C: C2 20        	rep	#$20
 23969                        	longa	on
 23970                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 23971                        	.line	4242
 23972 06:620E: D4 13        	pei	<L1061+pdst_0+2
 23973 06:6210: D4 11        	pei	<L1061+pdst_0
 23974 06:6212: A9 10 00     	lda	#$10
 23975                        	xref	~~~llsr
 23976 06:6215: 22 xx xx xx  	jsl	~~~llsr
 23977 06:6219: 85 01        	sta	<R0
 23978 06:621B: 86 03        	stx	<R0+2
 23979 06:621D: A5 01        	lda	<R0
 23980 06:621F: 29 FF 00     	and	#<$ff
 23981 06:6222: 85 05        	sta	<R1
 23982 06:6224: 64 07        	stz	<R1+2
 23983 06:6226: E2 20        	sep	#$20
 23984                        	longa	off
 23985 06:6228: A5 05        	lda	<R1
 23986 06:622A: 8F 07 04 AF  	sta	>11469831
 23987 06:622E: C2 20        	rep	#$20
 23988                        	longa	on
 23989                        ;
 23990                        ;	VDMA_X_SIZE_L[0] = LOBYTE(width + 1);
 23991                        	.line	4244
 23992 06:6230: A5 15        	lda	<L1061+width_0
 23993 06:6232: 1A           	ina
 23994 06:6233: 85 01        	sta	<R0
 23995 06:6235: E2 20        	sep	#$20
 23996                        	longa	off
 23997 06:6237: A5 01        	lda	<R0
 23998 06:6239: 8F 08 04 AF  	sta	>11469832
 23999 06:623D: C2 20        	rep	#$20
 24000                        	longa	on
 24001                        ;	VDMA_X_SIZE_H[0] = HIBYTE(width + 1);
 24002                        	.line	4245
 24003 06:623F: A5 15        	lda	<L1061+width_0
 24004 06:6241: 1A           	ina
 24005 06:6242: A2 08 00     	ldx	#<$8
 24006                        	xref	~~~asr
 24007 06:6245: 22 xx xx xx  	jsl	~~~asr
 24008 06:6249: 29 FF 00     	and	#<$ff
 24009 06:624C: 85 01        	sta	<R0
 24010 06:624E: E2 20        	sep	#$20
  Sat Jul 10 2021  1:15                                                Page 444


 24011                        	longa	off
 24012 06:6250: A5 01        	lda	<R0
 24013 06:6252: 8F 09 04 AF  	sta	>11469833
 24014 06:6256: C2 20        	rep	#$20
 24015                        	longa	on
 24016                        ;
 24017                        ;	VDMA_Y_SIZE_L[0] = LOBYTE(height + 1);
 24018                        	.line	4247
 24019 06:6258: A5 17        	lda	<L1061+height_0
 24020 06:625A: 1A           	ina
 24021 06:625B: 85 01        	sta	<R0
 24022 06:625D: E2 20        	sep	#$20
 24023                        	longa	off
 24024 06:625F: A5 01        	lda	<R0
 24025 06:6261: 8F 0A 04 AF  	sta	>11469834
 24026 06:6265: C2 20        	rep	#$20
 24027                        	longa	on
 24028                        ;	VDMA_Y_SIZE_H[0] = HIBYTE(height + 1);
 24029                        	.line	4248
 24030 06:6267: A5 17        	lda	<L1061+height_0
 24031 06:6269: 1A           	ina
 24032 06:626A: A2 08 00     	ldx	#<$8
 24033                        	xref	~~~asr
 24034 06:626D: 22 xx xx xx  	jsl	~~~asr
 24035 06:6271: 29 FF 00     	and	#<$ff
 24036 06:6274: 85 01        	sta	<R0
 24037 06:6276: E2 20        	sep	#$20
 24038                        	longa	off
 24039 06:6278: A5 01        	lda	<R0
 24040 06:627A: 8F 0B 04 AF  	sta	>11469835
 24041 06:627E: C2 20        	rep	#$20
 24042                        	longa	on
 24043                        ;	VDMA_Y_SIZE_H[1] = 0x00;
 24044                        	.line	4249
 24045 06:6280: E2 20        	sep	#$20
 24046                        	longa	off
 24047 06:6282: A9 00        	lda	#$0
 24048 06:6284: 8F 0C 04 AF  	sta	>11469836
 24049 06:6288: C2 20        	rep	#$20
 24050                        	longa	on
 24051                        ;
 24052                        ;	*VDMA_SRC_STRIDE_L = 0x00;
 24053                        	.line	4251
 24054 06:628A: E2 20        	sep	#$20
 24055                        	longa	off
 24056 06:628C: A9 00        	lda	#$0
 24057 06:628E: 8F 0C 04 AF  	sta	>11469836
 24058 06:6292: C2 20        	rep	#$20
 24059                        	longa	on
 24060                        ;	*VDMA_SRC_STRIDE_H = 0x00;
 24061                        	.line	4252
 24062 06:6294: E2 20        	sep	#$20
 24063                        	longa	off
 24064 06:6296: A9 00        	lda	#$0
 24065 06:6298: 8F 0D 04 AF  	sta	>11469837
 24066 06:629C: C2 20        	rep	#$20
 24067                        	longa	on
 24068                        ;
  Sat Jul 10 2021  1:15                                                Page 445


 24069                        ;	*VDMA_DST_STRIDE_L  = 0x80;
 24070                        	.line	4254
 24071 06:629E: E2 20        	sep	#$20
 24072                        	longa	off
 24073 06:62A0: A9 80        	lda	#$80
 24074 06:62A2: 8F 0E 04 AF  	sta	>11469838
 24075 06:62A6: C2 20        	rep	#$20
 24076                        	longa	on
 24077                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 24078                        	.line	4255
 24079 06:62A8: E2 20        	sep	#$20
 24080                        	longa	off
 24081 06:62AA: A9 02        	lda	#$2
 24082 06:62AC: 8F 0F 04 AF  	sta	>11469839
 24083 06:62B0: C2 20        	rep	#$20
 24084                        	longa	on
 24085                        ;
 24086                        ;    VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VD
                    MA_CTRL_1D_2D | VDMA_CTRL_TRF_FILL | VDMA_CTRL_START_TRF);
 24087                        	.line	4257
 24088 06:62B2: E2 20        	sep	#$20
 24089                        	longa	off
 24090 06:62B4: A9 87        	lda	#$87
 24091 06:62B6: 8F 00 04 AF  	sta	>11469824
 24092 06:62BA: C2 20        	rep	#$20
 24093                        	longa	on
 24094                        ;
 24095                        ;    asm NOP;
 24096                        	.line	4259
 24097                        	asmstart
 24098 06:62BC: EA           	NOP
 24099                        	asmend
 24100                        ;    asm NOP;
 24101                        	.line	4260
 24102                        	asmstart
 24103 06:62BD: EA           	NOP
 24104                        	asmend
 24105                        ;    asm NOP;
 24106                        	.line	4261
 24107                        	asmstart
 24108 06:62BE: EA           	NOP
 24109                        	asmend
 24110                        ;
 24111                        ;	while(status == VDMA_STAT_VDMA_IPS)
 24112                        	.line	4263
 24113                        L10426:
 24114 06:62BF: E2 20        	sep	#$20
 24115                        	longa	off
 24116 06:62C1: A5 0D        	lda	<L1062+status_1
 24117 06:62C3: C9 80        	cmp	#<$80
 24118 06:62C5: C2 20        	rep	#$20
 24119                        	longa	on
 24120 06:62C7: F0 03        	beq	L1064
 24121 06:62C9: 82 1E 00     	brl	L10427
 24122                        L1064:
 24123                        ;	{
 24124                        	.line	4264
 24125                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
  Sat Jul 10 2021  1:15                                                Page 446


                    VDMA_IPS);
 24126                        	.line	4265
 24127 06:62CC: E2 20        	sep	#$20
 24128                        	longa	off
 24129 06:62CE: AF 01 04 AF  	lda	>11469825
 24130 06:62D2: 29 80        	and	#<$80
 24131 06:62D4: 85 0D        	sta	<L1062+status_1
 24132 06:62D6: C2 20        	rep	#$20
 24133                        	longa	on
 24134                        ;		spinLock++;
 24135                        	.line	4266
 24136 06:62D8: E6 0B        	inc	<L1062+spinLock_1
 24137                        ;
 24138                        ;		if(spinLock > 32000)
 24139                        	.line	4268
 24140                        ;		{
 24141 06:62DA: A9 00 7D     	lda	#$7d00
 24142 06:62DD: C5 0B        	cmp	<L1062+spinLock_1
 24143 06:62DF: 90 03        	bcc	L1065
 24144 06:62E1: 82 03 00     	brl	L10428
 24145                        L1065:
 24146                        	.line	4269
 24147                        ;			break;
 24148                        	.line	4270
 24149 06:62E4: 82 03 00     	brl	L10427
 24150                        ;		}
 24151                        	.line	4271
 24152                        ;	}
 24153                        L10428:
 24154                        	.line	4272
 24155 06:62E7: 82 D5 FF     	brl	L10426
 24156                        L10427:
 24157                        ;
 24158                        ;#ifdef USE_MAX_DEBUG
 24159                        ;	k_debug_integer("k_vdma_fill_address1::spinLock:
                    ",spinLock);
 24160                        ;#endif
 24161                        ;
 24162                        ;	asm NOP;
 24163                        	.line	4278
 24164                        	asmstart
 24165 06:62EA: EA           	NOP
 24166                        	asmend
 24167                        ;
 24168                        ;	VDMA_CONTROL_REG[0] = 0;
 24169                        	.line	4280
 24170 06:62EB: E2 20        	sep	#$20
 24171                        	longa	off
 24172 06:62ED: A9 00        	lda	#$0
 24173 06:62EF: 8F 00 04 AF  	sta	>11469824
 24174 06:62F3: C2 20        	rep	#$20
 24175                        	longa	on
 24176                        ;
 24177                        ;   return ;
 24178                        	.line	4282
 24179                        L1066:
 24180 06:62F5: A5 0F        	lda	<L1061+2
 24181 06:62F7: 85 19        	sta	<L1061+2+10
  Sat Jul 10 2021  1:15                                                Page 447


 24182 06:62F9: A5 0E        	lda	<L1061+1
 24183 06:62FB: 85 18        	sta	<L1061+1+10
 24184 06:62FD: 2B           	pld
 24185 06:62FE: 3B           	tsc
 24186 06:62FF: 18           	clc
 24187 06:6300: 69 17 00     	adc	#L1061+10
 24188 06:6303: 1B           	tcs
 24189 06:6304: 6B           	rtl
 24190                        ;}
 24191                        	.line	4283
 24192                        	.endblock	4283
 24193             0000000D   L1061	equ	13
 24194             00000009   L1062	equ	9
 24195 06:6305:              	ends
 24196                        	efunc
 24197                        	.endfunc	4283,9,13
 24198                        	.line	4283
 24199                        ;
 24200                        ;void k_vdma_fill_address_ex(char FAR * pdst,int w
                    idth,int height,unsigned char data,UINT page)
 24201                        ;{
 24202                        	.line	4285
 24203                        	.line	4286
 24204                        	GFX
 24205                        	xdef	~~k_vdma_fill_address_ex
 24206                        	func
 24207                        	.function	4286
 24208                        ~~k_vdma_fill_address_ex:
 24209                        	longa	on
 24210                        	longi	on
 24211 06:6305: 3B           	tsc
 24212 06:6306: 38           	sec
 24213 06:6307: E9 0D 00     	sbc	#L1067
 24214 06:630A: 1B           	tcs
 24215 06:630B: 0B           	phd
 24216 06:630C: 5B           	tcd
 24217             00000004   pdst_0	set	4
 24218             00000008   width_0	set	8
 24219             0000000A   height_0	set	10
 24220             0000000C   data_0	set	12
 24221             0000000E   page_0	set	14
 24222                        	.block	4286
 24223                        ;	int pos = 0;
 24224                        ;	UINT spinLock = 0;
 24225                        ;	char status = VDMA_STAT_VDMA_IPS;
 24226                        ;
 24227                        ;	VDMA_CONTROL_REG[0] = ( VDMA_CTRL_ENABLE | VDMA_
                    CTRL_TRF_FILL | VDMA_CTRL_1D_2D );
 24228             00000000   pos_1	set	0
 24229             00000002   spinLock_1	set	2
 24230             00000004   status_1	set	4
 24231                        	.sym	pos,0,5,1,16
 24232                        	.sym	spinLock,2,16,1,16
 24233                        	.sym	status,4,14,1,8
 24234                        	.sym	pdst,4,142,6,32
 24235                        	.sym	width,8,5,6,16
 24236                        	.sym	height,10,5,6,16
 24237                        	.sym	data,12,14,6,8
  Sat Jul 10 2021  1:15                                                Page 448


 24238                        	.sym	page,14,16,6,16
 24239 06:630D: 64 09        	stz	<L1068+pos_1
 24240 06:630F: 64 0B        	stz	<L1068+spinLock_1
 24241 06:6311: E2 20        	sep	#$20
 24242                        	longa	off
 24243 06:6313: A9 80        	lda	#$80
 24244 06:6315: 85 0D        	sta	<L1068+status_1
 24245 06:6317: C2 20        	rep	#$20
 24246                        	longa	on
 24247                        	.line	4291
 24248 06:6319: E2 20        	sep	#$20
 24249                        	longa	off
 24250 06:631B: A9 07        	lda	#$7
 24251 06:631D: 8F 00 04 AF  	sta	>11469824
 24252 06:6321: C2 20        	rep	#$20
 24253                        	longa	on
 24254                        ;
 24255                        ;	VDMA_BYTE_2_WRITE[0] = (UCHAR)data;
 24256                        	.line	4293
 24257 06:6323: E2 20        	sep	#$20
 24258                        	longa	off
 24259 06:6325: A5 19        	lda	<L1067+data_0
 24260 06:6327: 8F 01 04 AF  	sta	>11469825
 24261 06:632B: C2 20        	rep	#$20
 24262                        	longa	on
 24263                        ;
 24264                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 24265                        	.line	4295
 24266 06:632D: E2 20        	sep	#$20
 24267                        	longa	off
 24268 06:632F: A5 11        	lda	<L1067+pdst_0
 24269 06:6331: 8F 05 04 AF  	sta	>11469829
 24270 06:6335: C2 20        	rep	#$20
 24271                        	longa	on
 24272                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 24273                        	.line	4296
 24274 06:6337: D4 13        	pei	<L1067+pdst_0+2
 24275 06:6339: D4 11        	pei	<L1067+pdst_0
 24276 06:633B: A9 08 00     	lda	#$8
 24277                        	xref	~~~llsr
 24278 06:633E: 22 xx xx xx  	jsl	~~~llsr
 24279 06:6342: 85 01        	sta	<R0
 24280 06:6344: 86 03        	stx	<R0+2
 24281 06:6346: A5 01        	lda	<R0
 24282 06:6348: 29 FF 00     	and	#<$ff
 24283 06:634B: 85 05        	sta	<R1
 24284 06:634D: 64 07        	stz	<R1+2
 24285 06:634F: E2 20        	sep	#$20
 24286                        	longa	off
 24287 06:6351: A5 05        	lda	<R1
 24288 06:6353: 8F 06 04 AF  	sta	>11469830
 24289 06:6357: C2 20        	rep	#$20
 24290                        	longa	on
 24291                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst)|(UCHAR)
                    page;
 24292                        	.line	4297
 24293 06:6359: D4 13        	pei	<L1067+pdst_0+2
 24294 06:635B: D4 11        	pei	<L1067+pdst_0
  Sat Jul 10 2021  1:15                                                Page 449


 24295 06:635D: A9 10 00     	lda	#$10
 24296                        	xref	~~~llsr
 24297 06:6360: 22 xx xx xx  	jsl	~~~llsr
 24298 06:6364: 85 01        	sta	<R0
 24299 06:6366: 86 03        	stx	<R0+2
 24300 06:6368: A5 01        	lda	<R0
 24301 06:636A: 29 FF 00     	and	#<$ff
 24302 06:636D: 85 05        	sta	<R1
 24303 06:636F: 64 07        	stz	<R1+2
 24304 06:6371: E2 20        	sep	#$20
 24305                        	longa	off
 24306 06:6373: A5 1B        	lda	<L1067+page_0
 24307 06:6375: 05 05        	ora	<R1
 24308 06:6377: 8F 07 04 AF  	sta	>11469831
 24309 06:637B: C2 20        	rep	#$20
 24310                        	longa	on
 24311                        ;
 24312                        ;	/*
 24313                        ;	VDMA_X_SIZE_L[0] = LOBYTE(width + 1);
 24314                        ;	VDMA_X_SIZE_H[0] = HIBYTE(width + 1);
 24315                        ;
 24316                        ;	VDMA_Y_SIZE_L[0] = LOBYTE(height + 1);
 24317                        ;	VDMA_Y_SIZE_H[0] = HIBYTE(height + 1);
 24318                        ;	VDMA_Y_SIZE_H[1] = 0x00;
 24319                        ;	*/
 24320                        ;	VDMA_X_SIZE_L[0] = LOBYTE(width);
 24321                        	.line	4307
 24322 06:637D: E2 20        	sep	#$20
 24323                        	longa	off
 24324 06:637F: A5 15        	lda	<L1067+width_0
 24325 06:6381: 8F 08 04 AF  	sta	>11469832
 24326 06:6385: C2 20        	rep	#$20
 24327                        	longa	on
 24328                        ;	VDMA_X_SIZE_H[0] = HIBYTE(width);
 24329                        	.line	4308
 24330 06:6387: A5 15        	lda	<L1067+width_0
 24331 06:6389: A2 08 00     	ldx	#<$8
 24332                        	xref	~~~asr
 24333 06:638C: 22 xx xx xx  	jsl	~~~asr
 24334 06:6390: 29 FF 00     	and	#<$ff
 24335 06:6393: 85 01        	sta	<R0
 24336 06:6395: E2 20        	sep	#$20
 24337                        	longa	off
 24338 06:6397: A5 01        	lda	<R0
 24339 06:6399: 8F 09 04 AF  	sta	>11469833
 24340 06:639D: C2 20        	rep	#$20
 24341                        	longa	on
 24342                        ;
 24343                        ;	VDMA_Y_SIZE_L[0] = LOBYTE(height);
 24344                        	.line	4310
 24345 06:639F: E2 20        	sep	#$20
 24346                        	longa	off
 24347 06:63A1: A5 17        	lda	<L1067+height_0
 24348 06:63A3: 8F 0A 04 AF  	sta	>11469834
 24349 06:63A7: C2 20        	rep	#$20
 24350                        	longa	on
 24351                        ;	VDMA_Y_SIZE_H[0] = HIBYTE(height);
 24352                        	.line	4311
  Sat Jul 10 2021  1:15                                                Page 450


 24353 06:63A9: A5 17        	lda	<L1067+height_0
 24354 06:63AB: A2 08 00     	ldx	#<$8
 24355                        	xref	~~~asr
 24356 06:63AE: 22 xx xx xx  	jsl	~~~asr
 24357 06:63B2: 29 FF 00     	and	#<$ff
 24358 06:63B5: 85 01        	sta	<R0
 24359 06:63B7: E2 20        	sep	#$20
 24360                        	longa	off
 24361 06:63B9: A5 01        	lda	<R0
 24362 06:63BB: 8F 0B 04 AF  	sta	>11469835
 24363 06:63BF: C2 20        	rep	#$20
 24364                        	longa	on
 24365                        ;	VDMA_Y_SIZE_H[1] = 0x00;
 24366                        	.line	4312
 24367 06:63C1: E2 20        	sep	#$20
 24368                        	longa	off
 24369 06:63C3: A9 00        	lda	#$0
 24370 06:63C5: 8F 0C 04 AF  	sta	>11469836
 24371 06:63C9: C2 20        	rep	#$20
 24372                        	longa	on
 24373                        ;
 24374                        ;
 24375                        ;	*VDMA_SRC_STRIDE_L = 0x00;
 24376                        	.line	4315
 24377 06:63CB: E2 20        	sep	#$20
 24378                        	longa	off
 24379 06:63CD: A9 00        	lda	#$0
 24380 06:63CF: 8F 0C 04 AF  	sta	>11469836
 24381 06:63D3: C2 20        	rep	#$20
 24382                        	longa	on
 24383                        ;	*VDMA_SRC_STRIDE_H = 0x00;
 24384                        	.line	4316
 24385 06:63D5: E2 20        	sep	#$20
 24386                        	longa	off
 24387 06:63D7: A9 00        	lda	#$0
 24388 06:63D9: 8F 0D 04 AF  	sta	>11469837
 24389 06:63DD: C2 20        	rep	#$20
 24390                        	longa	on
 24391                        ;
 24392                        ;	*VDMA_DST_STRIDE_L  = 0x80;
 24393                        	.line	4318
 24394 06:63DF: E2 20        	sep	#$20
 24395                        	longa	off
 24396 06:63E1: A9 80        	lda	#$80
 24397 06:63E3: 8F 0E 04 AF  	sta	>11469838
 24398 06:63E7: C2 20        	rep	#$20
 24399                        	longa	on
 24400                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 24401                        	.line	4319
 24402 06:63E9: E2 20        	sep	#$20
 24403                        	longa	off
 24404 06:63EB: A9 02        	lda	#$2
 24405 06:63ED: 8F 0F 04 AF  	sta	>11469839
 24406 06:63F1: C2 20        	rep	#$20
 24407                        	longa	on
 24408                        ;
 24409                        ;    VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VD
                    MA_CTRL_1D_2D | VDMA_CTRL_TRF_FILL | VDMA_CTRL_START_TRF);
  Sat Jul 10 2021  1:15                                                Page 451


 24410                        	.line	4321
 24411 06:63F3: E2 20        	sep	#$20
 24412                        	longa	off
 24413 06:63F5: A9 87        	lda	#$87
 24414 06:63F7: 8F 00 04 AF  	sta	>11469824
 24415 06:63FB: C2 20        	rep	#$20
 24416                        	longa	on
 24417                        ;
 24418                        ;    asm NOP;
 24419                        	.line	4323
 24420                        	asmstart
 24421 06:63FD: EA           	NOP
 24422                        	asmend
 24423                        ;    asm NOP;
 24424                        	.line	4324
 24425                        	asmstart
 24426 06:63FE: EA           	NOP
 24427                        	asmend
 24428                        ;    asm NOP;
 24429                        	.line	4325
 24430                        	asmstart
 24431 06:63FF: EA           	NOP
 24432                        	asmend
 24433                        ;
 24434                        ;	while(status == VDMA_STAT_VDMA_IPS)
 24435                        	.line	4327
 24436                        L10429:
 24437 06:6400: E2 20        	sep	#$20
 24438                        	longa	off
 24439 06:6402: A5 0D        	lda	<L1068+status_1
 24440 06:6404: C9 80        	cmp	#<$80
 24441 06:6406: C2 20        	rep	#$20
 24442                        	longa	on
 24443 06:6408: F0 03        	beq	L1070
 24444 06:640A: 82 1E 00     	brl	L10430
 24445                        L1070:
 24446                        ;	{
 24447                        	.line	4328
 24448                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 24449                        	.line	4329
 24450 06:640D: E2 20        	sep	#$20
 24451                        	longa	off
 24452 06:640F: AF 01 04 AF  	lda	>11469825
 24453 06:6413: 29 80        	and	#<$80
 24454 06:6415: 85 0D        	sta	<L1068+status_1
 24455 06:6417: C2 20        	rep	#$20
 24456                        	longa	on
 24457                        ;		spinLock++;
 24458                        	.line	4330
 24459 06:6419: E6 0B        	inc	<L1068+spinLock_1
 24460                        ;
 24461                        ;		if(spinLock > 32000)
 24462                        	.line	4332
 24463                        ;		{
 24464 06:641B: A9 00 7D     	lda	#$7d00
 24465 06:641E: C5 0B        	cmp	<L1068+spinLock_1
 24466 06:6420: 90 03        	bcc	L1071
  Sat Jul 10 2021  1:15                                                Page 452


 24467 06:6422: 82 03 00     	brl	L10431
 24468                        L1071:
 24469                        	.line	4333
 24470                        ;			break;
 24471                        	.line	4334
 24472 06:6425: 82 03 00     	brl	L10430
 24473                        ;		}
 24474                        	.line	4335
 24475                        ;	}
 24476                        L10431:
 24477                        	.line	4336
 24478 06:6428: 82 D5 FF     	brl	L10429
 24479                        L10430:
 24480                        ;
 24481                        ;#ifdef USE_MAX_DEBUG
 24482                        ;	k_debug_integer("k_vdma_fill_address1::spinLock:
                    ",spinLock);
 24483                        ;#endif
 24484                        ;
 24485                        ;	asm NOP;
 24486                        	.line	4342
 24487                        	asmstart
 24488 06:642B: EA           	NOP
 24489                        	asmend
 24490                        ;
 24491                        ;	VDMA_CONTROL_REG[0] = 0;
 24492                        	.line	4344
 24493 06:642C: E2 20        	sep	#$20
 24494                        	longa	off
 24495 06:642E: A9 00        	lda	#$0
 24496 06:6430: 8F 00 04 AF  	sta	>11469824
 24497 06:6434: C2 20        	rep	#$20
 24498                        	longa	on
 24499                        ;
 24500                        ;   return ;
 24501                        	.line	4346
 24502                        L1072:
 24503 06:6436: A5 0F        	lda	<L1067+2
 24504 06:6438: 85 1B        	sta	<L1067+2+12
 24505 06:643A: A5 0E        	lda	<L1067+1
 24506 06:643C: 85 1A        	sta	<L1067+1+12
 24507 06:643E: 2B           	pld
 24508 06:643F: 3B           	tsc
 24509 06:6440: 18           	clc
 24510 06:6441: 69 19 00     	adc	#L1067+12
 24511 06:6444: 1B           	tcs
 24512 06:6445: 6B           	rtl
 24513                        ;}
 24514                        	.line	4347
 24515                        	.endblock	4347
 24516             0000000D   L1067	equ	13
 24517             00000009   L1068	equ	9
 24518 06:6446:              	ends
 24519                        	efunc
 24520                        	.endfunc	4347,9,13
 24521                        	.line	4347
 24522                        ;
 24523                        ;
  Sat Jul 10 2021  1:15                                                Page 453


 24524                        ;
 24525                        ;
 24526                        ;void k_vdma_fill(char FAR * pdst,long size,unsign
                    ed char data)
 24527                        ;{
 24528                        	.line	4352
 24529                        	.line	4353
 24530                        	GFX
 24531                        	xdef	~~k_vdma_fill
 24532                        	func
 24533                        	.function	4353
 24534                        ~~k_vdma_fill:
 24535                        	longa	on
 24536                        	longi	on
 24537 06:6446: 3B           	tsc
 24538 06:6447: 38           	sec
 24539 06:6448: E9 0D 00     	sbc	#L1073
 24540 06:644B: 1B           	tcs
 24541 06:644C: 0B           	phd
 24542 06:644D: 5B           	tcd
 24543             00000004   pdst_0	set	4
 24544             00000008   size_0	set	8
 24545             0000000C   data_0	set	12
 24546                        	.block	4353
 24547                        ;	int pos = 0;
 24548                        ;	int spinLock = 0;
 24549                        ;	char status = VDMA_STAT_VDMA_IPS;
 24550                        ;	/*
 24551                        ;	char size_low = L24BYTE(size);
 24552                        ;	char size_mid = M24BYTE(size);
 24553                        ;	char size_hi  = H24BYTE(size);
 24554                        ;
 24555                        ;	char addr_low = L24BYTE((long)pdst);
 24556                        ;	char addr_mid = M24BYTE((long)pdst);
 24557                        ;	char addr_hi  = H24BYTE((long)pdst);
 24558                        ;
 24559                        ;	
 24560                        ;	pos=2;
 24561                        ;	k_itoa(size_low,buffer,16);
 24562                        ;	pos=k_put_draw_text(pos,2,buffer,15,0);
 24563                        ;	pos=k_put_draw_text(pos,2,"L:",15,0);
 24564                        ;	k_itoa(size_mid,buffer,16);
 24565                        ;	pos=k_put_draw_text(pos,2,buffer,15,0);
 24566                        ;	pos=k_put_draw_text(pos,2,"M:",15,0);
 24567                        ;	k_itoa(size_hi,buffer,16);
 24568                        ;	pos=k_put_draw_text(pos,2,buffer,15,0);
 24569                        ;	pos=k_put_draw_text(pos,2,"H",15,0);
 24570                        ;	
 24571                        ;	pos=2;
 24572                        ;	k_itoa(addr_low,buffer,16);
 24573                        ;	pos=k_put_draw_text(pos,3,buffer,15,0);
 24574                        ;	pos=k_put_draw_text(pos,3,"L:",15,0);
 24575                        ;	k_itoa(addr_mid,buffer,16);
 24576                        ;	pos=k_put_draw_text(pos,3,buffer,15,0);
 24577                        ;	pos=k_put_draw_text(pos,3,"M:",15,0);
 24578                        ;	k_itoa(addr_hi,buffer,16);
 24579                        ;	pos=k_put_draw_text(pos,3,buffer,15,0);
 24580                        ;	pos=k_put_draw_text(pos,3,"H",15,0);
  Sat Jul 10 2021  1:15                                                Page 454


 24581                        ;	*/
 24582                        ;	/*
 24583                        ;	if(VDMA_CONTROL_REG[0] > 0)
 24584                        ;	{
 24585                        ;		while(status == VDMA_STAT_VDMA_IPS || sp
                    inLock > 1000)
 24586                        ;		{
 24587                        ;			status = ( *((unsigned char *)0x
                    AF0401) & (unsigned char)VDMA_STAT_VDMA_IPS);
 24588                        ;			spinLock++;
 24589                        ;		}
 24590                        ;	}
 24591                        ;	*/
 24592                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE;
 24593             00000000   pos_1	set	0
 24594             00000002   spinLock_1	set	2
 24595             00000004   status_1	set	4
 24596                        	.sym	pos,0,5,1,16
 24597                        	.sym	spinLock,2,5,1,16
 24598                        	.sym	status,4,14,1,8
 24599                        	.sym	pdst,4,142,6,32
 24600                        	.sym	size,8,7,6,32
 24601                        	.sym	data,12,14,6,8
 24602 06:644E: 64 09        	stz	<L1074+pos_1
 24603 06:6450: 64 0B        	stz	<L1074+spinLock_1
 24604 06:6452: E2 20        	sep	#$20
 24605                        	longa	off
 24606 06:6454: A9 80        	lda	#$80
 24607 06:6456: 85 0D        	sta	<L1074+status_1
 24608 06:6458: C2 20        	rep	#$20
 24609                        	longa	on
 24610                        	.line	4399
 24611 06:645A: E2 20        	sep	#$20
 24612                        	longa	off
 24613 06:645C: A9 01        	lda	#$1
 24614 06:645E: 8F 00 04 AF  	sta	>11469824
 24615 06:6462: C2 20        	rep	#$20
 24616                        	longa	on
 24617                        ;
 24618                        ;	*BM_START_ADDY_L = 0x00;
 24619                        	.line	4401
 24620 06:6464: E2 20        	sep	#$20
 24621                        	longa	off
 24622 06:6466: A9 00        	lda	#$0
 24623 06:6468: 8F 41 01 AF  	sta	>11469121
 24624 06:646C: C2 20        	rep	#$20
 24625                        	longa	on
 24626                        ;	*BM_START_ADDY_M = 0x00;
 24627                        	.line	4402
 24628 06:646E: E2 20        	sep	#$20
 24629                        	longa	off
 24630 06:6470: A9 00        	lda	#$0
 24631 06:6472: 8F 42 01 AF  	sta	>11469122
 24632 06:6476: C2 20        	rep	#$20
 24633                        	longa	on
 24634                        ;	*BM_START_ADDY_H = 0x00;
 24635                        	.line	4403
 24636 06:6478: E2 20        	sep	#$20
  Sat Jul 10 2021  1:15                                                Page 455


 24637                        	longa	off
 24638 06:647A: A9 00        	lda	#$0
 24639 06:647C: 8F 43 01 AF  	sta	>11469123
 24640 06:6480: C2 20        	rep	#$20
 24641                        	longa	on
 24642                        ;	*((char FAR*)0xAF1F80) = 0x02;
 24643                        	.line	4404
 24644 06:6482: E2 20        	sep	#$20
 24645                        	longa	off
 24646 06:6484: A9 02        	lda	#$2
 24647 06:6486: 8F 80 1F AF  	sta	>11476864
 24648 06:648A: C2 20        	rep	#$20
 24649                        	longa	on
 24650                        ;	
 24651                        ;	*BM_X_SIZE_L = 0x80;
 24652                        	.line	4406
 24653 06:648C: E2 20        	sep	#$20
 24654                        	longa	off
 24655 06:648E: A9 80        	lda	#$80
 24656 06:6490: 8F 44 01 AF  	sta	>11469124
 24657 06:6494: C2 20        	rep	#$20
 24658                        	longa	on
 24659                        ;	*BM_X_SIZE_H = 0x02;	
 24660                        	.line	4407
 24661 06:6496: E2 20        	sep	#$20
 24662                        	longa	off
 24663 06:6498: A9 02        	lda	#$2
 24664 06:649A: 8F 45 01 AF  	sta	>11469125
 24665 06:649E: C2 20        	rep	#$20
 24666                        	longa	on
 24667                        ;	*BM_Y_SIZE_L = 0xE0;
 24668                        	.line	4408
 24669 06:64A0: E2 20        	sep	#$20
 24670                        	longa	off
 24671 06:64A2: A9 E0        	lda	#$e0
 24672 06:64A4: 8F 46 01 AF  	sta	>11469126
 24673 06:64A8: C2 20        	rep	#$20
 24674                        	longa	on
 24675                        ;	*BM_Y_SIZE_H = 0x01;
 24676                        	.line	4409
 24677 06:64AA: E2 20        	sep	#$20
 24678                        	longa	off
 24679 06:64AC: A9 01        	lda	#$1
 24680 06:64AE: 8F 47 01 AF  	sta	>11469127
 24681 06:64B2: C2 20        	rep	#$20
 24682                        	longa	on
 24683                        ;	
 24684                        ;	VDMA_SIZE_L[0] = L24BYTE(size);
 24685                        	.line	4411
 24686 06:64B4: E2 20        	sep	#$20
 24687                        	longa	off
 24688 06:64B6: A5 15        	lda	<L1073+size_0
 24689 06:64B8: 8F 08 04 AF  	sta	>11469832
 24690 06:64BC: C2 20        	rep	#$20
 24691                        	longa	on
 24692                        ;	VDMA_SIZE_M[0] = M24BYTE(size);
 24693                        	.line	4412
 24694 06:64BE: D4 17        	pei	<L1073+size_0+2
  Sat Jul 10 2021  1:15                                                Page 456


 24695 06:64C0: D4 15        	pei	<L1073+size_0
 24696 06:64C2: A9 08 00     	lda	#$8
 24697                        	xref	~~~llsr
 24698 06:64C5: 22 xx xx xx  	jsl	~~~llsr
 24699 06:64C9: 85 01        	sta	<R0
 24700 06:64CB: 86 03        	stx	<R0+2
 24701 06:64CD: A5 01        	lda	<R0
 24702 06:64CF: 29 FF 00     	and	#<$ff
 24703 06:64D2: 85 05        	sta	<R1
 24704 06:64D4: 64 07        	stz	<R1+2
 24705 06:64D6: E2 20        	sep	#$20
 24706                        	longa	off
 24707 06:64D8: A5 05        	lda	<R1
 24708 06:64DA: 8F 09 04 AF  	sta	>11469833
 24709 06:64DE: C2 20        	rep	#$20
 24710                        	longa	on
 24711                        ;	VDMA_SIZE_H[0] = H24BYTE(size);
 24712                        	.line	4413
 24713 06:64E0: D4 17        	pei	<L1073+size_0+2
 24714 06:64E2: D4 15        	pei	<L1073+size_0
 24715 06:64E4: A9 10 00     	lda	#$10
 24716                        	xref	~~~llsr
 24717 06:64E7: 22 xx xx xx  	jsl	~~~llsr
 24718 06:64EB: 85 01        	sta	<R0
 24719 06:64ED: 86 03        	stx	<R0+2
 24720 06:64EF: A5 01        	lda	<R0
 24721 06:64F1: 29 FF 00     	and	#<$ff
 24722 06:64F4: 85 05        	sta	<R1
 24723 06:64F6: 64 07        	stz	<R1+2
 24724 06:64F8: E2 20        	sep	#$20
 24725                        	longa	off
 24726 06:64FA: A5 05        	lda	<R1
 24727 06:64FC: 8F 0A 04 AF  	sta	>11469834
 24728 06:6500: C2 20        	rep	#$20
 24729                        	longa	on
 24730                        ;	
 24731                        ;	
 24732                        ;	*VDMA_X_SIZE_L = 0x80;
 24733                        	.line	4416
 24734 06:6502: E2 20        	sep	#$20
 24735                        	longa	off
 24736 06:6504: A9 80        	lda	#$80
 24737 06:6506: 8F 08 04 AF  	sta	>11469832
 24738 06:650A: C2 20        	rep	#$20
 24739                        	longa	on
 24740                        ;	*VDMA_X_SIZE_H = 0x20;
 24741                        	.line	4417
 24742 06:650C: E2 20        	sep	#$20
 24743                        	longa	off
 24744 06:650E: A9 20        	lda	#$20
 24745 06:6510: 8F 09 04 AF  	sta	>11469833
 24746 06:6514: C2 20        	rep	#$20
 24747                        	longa	on
 24748                        ;
 24749                        ;	*VDMA_Y_SIZE_L = 0xE0;
 24750                        	.line	4419
 24751 06:6516: E2 20        	sep	#$20
 24752                        	longa	off
  Sat Jul 10 2021  1:15                                                Page 457


 24753 06:6518: A9 E0        	lda	#$e0
 24754 06:651A: 8F 0A 04 AF  	sta	>11469834
 24755 06:651E: C2 20        	rep	#$20
 24756                        	longa	on
 24757                        ;	*VDMA_Y_SIZE_H = 0x01;
 24758                        	.line	4420
 24759 06:6520: E2 20        	sep	#$20
 24760                        	longa	off
 24761 06:6522: A9 01        	lda	#$1
 24762 06:6524: 8F 0B 04 AF  	sta	>11469835
 24763 06:6528: C2 20        	rep	#$20
 24764                        	longa	on
 24765                        ;
 24766                        ;	*VDMA_DST_STRIDE_L = 0x80;
 24767                        	.line	4422
 24768 06:652A: E2 20        	sep	#$20
 24769                        	longa	off
 24770 06:652C: A9 80        	lda	#$80
 24771 06:652E: 8F 0E 04 AF  	sta	>11469838
 24772 06:6532: C2 20        	rep	#$20
 24773                        	longa	on
 24774                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 24775                        	.line	4423
 24776 06:6534: E2 20        	sep	#$20
 24777                        	longa	off
 24778 06:6536: A9 02        	lda	#$2
 24779 06:6538: 8F 0F 04 AF  	sta	>11469839
 24780 06:653C: C2 20        	rep	#$20
 24781                        	longa	on
 24782                        ;	
 24783                        ;	/*
 24784                        ;        LDA #200
 24785                        ;        STA @lVDMA_X_SIZE_L
 24786                        ;        LDA #00
 24787                        ;        STA @lVDMA_X_SIZE_H
 24788                        ;
 24789                        ;        LDA #64
 24790                        ;        STA @lVDMA_Y_SIZE_L
 24791                        ;        LDA #00
 24792                        ;        STA @lVDMA_Y_SIZE_H
 24793                        ;
 24794                        ;        LDA #$60
 24795                        ;        STA @lVDMA_DST_ADDY_L
 24796                        ;        LDA #$90
 24797                        ;        STA @lVDMA_DST_ADDY_M
 24798                        ;        LDA #$01
 24799                        ;        STA @lVDMA_DST_ADDY_H
 24800                        ;
 24801                        ;        LDA #$80
 24802                        ;        STA @lVDMA_DST_STRIDE_L
 24803                        ;        LDA #$02
 24804                        ;        STA @lVDMA_DST_STRIDE_H
 24805                        ;	*/
 24806                        ;
 24807                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 24808                        	.line	4449
 24809 06:653E: E2 20        	sep	#$20
 24810                        	longa	off
  Sat Jul 10 2021  1:15                                                Page 458


 24811 06:6540: A5 11        	lda	<L1073+pdst_0
 24812 06:6542: 8F 05 04 AF  	sta	>11469829
 24813 06:6546: C2 20        	rep	#$20
 24814                        	longa	on
 24815                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 24816                        	.line	4450
 24817 06:6548: D4 13        	pei	<L1073+pdst_0+2
 24818 06:654A: D4 11        	pei	<L1073+pdst_0
 24819 06:654C: A9 08 00     	lda	#$8
 24820                        	xref	~~~llsr
 24821 06:654F: 22 xx xx xx  	jsl	~~~llsr
 24822 06:6553: 85 01        	sta	<R0
 24823 06:6555: 86 03        	stx	<R0+2
 24824 06:6557: A5 01        	lda	<R0
 24825 06:6559: 29 FF 00     	and	#<$ff
 24826 06:655C: 85 05        	sta	<R1
 24827 06:655E: 64 07        	stz	<R1+2
 24828 06:6560: E2 20        	sep	#$20
 24829                        	longa	off
 24830 06:6562: A5 05        	lda	<R1
 24831 06:6564: 8F 06 04 AF  	sta	>11469830
 24832 06:6568: C2 20        	rep	#$20
 24833                        	longa	on
 24834                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 24835                        	.line	4451
 24836 06:656A: D4 13        	pei	<L1073+pdst_0+2
 24837 06:656C: D4 11        	pei	<L1073+pdst_0
 24838 06:656E: A9 10 00     	lda	#$10
 24839                        	xref	~~~llsr
 24840 06:6571: 22 xx xx xx  	jsl	~~~llsr
 24841 06:6575: 85 01        	sta	<R0
 24842 06:6577: 86 03        	stx	<R0+2
 24843 06:6579: A5 01        	lda	<R0
 24844 06:657B: 29 FF 00     	and	#<$ff
 24845 06:657E: 85 05        	sta	<R1
 24846 06:6580: 64 07        	stz	<R1+2
 24847 06:6582: E2 20        	sep	#$20
 24848                        	longa	off
 24849 06:6584: A5 05        	lda	<R1
 24850 06:6586: 8F 07 04 AF  	sta	>11469831
 24851 06:658A: C2 20        	rep	#$20
 24852                        	longa	on
 24853                        ;
 24854                        ;	VDMA_BYTE_2_WRITE[0] = (char)data;
 24855                        	.line	4453
 24856 06:658C: E2 20        	sep	#$20
 24857                        	longa	off
 24858 06:658E: A5 19        	lda	<L1073+data_0
 24859 06:6590: 8F 01 04 AF  	sta	>11469825
 24860 06:6594: C2 20        	rep	#$20
 24861                        	longa	on
 24862                        ;	
 24863                        ;	VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VDMA_
                    CTRL_TRF_FILL | VDMA_CTRL_START_TRF);//0x85;
 24864                        	.line	4455
 24865 06:6596: E2 20        	sep	#$20
 24866                        	longa	off
 24867 06:6598: A9 85        	lda	#$85
  Sat Jul 10 2021  1:15                                                Page 459


 24868 06:659A: 8F 00 04 AF  	sta	>11469824
 24869 06:659E: C2 20        	rep	#$20
 24870                        	longa	on
 24871                        ;   
 24872                        ;	/*
 24873                        ;	while(status == VDMA_STAT_VDMA_IPS)
 24874                        ;	{
 24875                        ;		status = ( *((unsigned char *)0xAF0401) 
                    & VDMA_STAT_VDMA_IPS);
 24876                        ;	}
 24877                        ;	
 24878                        ;	
 24879                        ;	while(status == VDMA_STAT_VDMA_IPS)
 24880                        ;	{
 24881                        ;		#asm
 24882                        ;		PHA 
 24883                        ;        LDA $AF0401
 24884                        ;        AND #$80
 24885                        ;        CMP #$80
 24886                        ;        STA %%status
 24887                        ;		PLA
 24888                        ;		#endasm
 24889                        ;	}
 24890                        ;	*/
 24891                        ;	
 24892                        ;   //return *VDMA_STATUS_REG;
 24893                        ;   //return VDMA_STATUS_REG[0];
 24894                        ;   //VDMA_CONTROL_REG[0] = (char)0x00;
 24895                        ;   
 24896                        ;   return ;
 24897                        	.line	4481
 24898                        L1076:
 24899 06:65A0: A5 0F        	lda	<L1073+2
 24900 06:65A2: 85 19        	sta	<L1073+2+10
 24901 06:65A4: A5 0E        	lda	<L1073+1
 24902 06:65A6: 85 18        	sta	<L1073+1+10
 24903 06:65A8: 2B           	pld
 24904 06:65A9: 3B           	tsc
 24905 06:65AA: 18           	clc
 24906 06:65AB: 69 17 00     	adc	#L1073+10
 24907 06:65AE: 1B           	tcs
 24908 06:65AF: 6B           	rtl
 24909                        ;}
 24910                        	.line	4482
 24911                        	.endblock	4482
 24912             0000000D   L1073	equ	13
 24913             00000009   L1074	equ	9
 24914 06:65B0:              	ends
 24915                        	efunc
 24916                        	.endfunc	4482,9,13
 24917                        	.line	4482
 24918                        ;
 24919                        ;
 24920                        ;void k_enable_bitmap_mode(void)
 24921                        ;{
 24922                        	.line	4485
 24923                        	.line	4486
 24924                        	GFX
  Sat Jul 10 2021  1:15                                                Page 460


 24925                        	xdef	~~k_enable_bitmap_mode
 24926                        	func
 24927                        	.function	4486
 24928                        ~~k_enable_bitmap_mode:
 24929                        	longa	on
 24930                        	longi	on
 24931 06:65B0: 3B           	tsc
 24932 06:65B1: 38           	sec
 24933 06:65B2: E9 04 00     	sbc	#L1077
 24934 06:65B5: 1B           	tcs
 24935 06:65B6: 0B           	phd
 24936 06:65B7: 5B           	tcd
 24937                        	.block	4486
 24938                        ;	int i = 30000;
 24939                        ;	int j = 30000;
 24940                        ;
 24941                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 24942             00000000   i_1	set	0
 24943             00000002   j_1	set	2
 24944                        	.sym	i,0,5,1,16
 24945                        	.sym	j,2,5,1,16
 24946 06:65B8: A9 30 75     	lda	#$7530
 24947 06:65BB: 85 01        	sta	<L1078+i_1
 24948 06:65BD: A9 30 75     	lda	#$7530
 24949 06:65C0: 85 03        	sta	<L1078+j_1
 24950                        	.line	4490
 24951 06:65C2: F4 00 00     	pea	#<$0
 24952 06:65C5: F4 00 00     	pea	#<$0
 24953 06:65C8: F4 E0 01     	pea	#<$1e0
 24954 06:65CB: F4 80 02     	pea	#<$280
 24955 06:65CE: F4 00 00     	pea	#^$0
 24956 06:65D1: F4 00 00     	pea	#<$0
 24957 06:65D4: F4 00 00     	pea	#^$0
 24958 06:65D7: F4 00 00     	pea	#<$0
 24959 06:65DA: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 24960                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_BACK);
 24961                        	.line	4491
 24962 06:65DE: F4 08 00     	pea	#<$8
 24963 06:65E1: F4 00 00     	pea	#<$0
 24964 06:65E4: F4 E0 01     	pea	#<$1e0
 24965 06:65E7: F4 80 02     	pea	#<$280
 24966 06:65EA: F4 00 00     	pea	#^$0
 24967 06:65ED: F4 00 00     	pea	#<$0
 24968 06:65F0: F4 00 00     	pea	#^$0
 24969 06:65F3: F4 00 00     	pea	#<$0
 24970 06:65F6: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 24971                        ;
 24972                        ;	if(MASTER_CTRL_REG_H[0])
 24973                        	.line	4493
 24974                        ;	{
 24975 06:65FA: AF 01 00 AF  	lda	>11468801
 24976 06:65FE: 29 FF 00     	and	#$ff
 24977 06:6601: D0 03        	bne	L1080
 24978 06:6603: 82 4A 00     	brl	L10432
 24979                        L1080:
 24980                        	.line	4494
 24981                        ;		k_debug_string("k_enable_bitmap_mode to 
                    800x600...\r\n");
  Sat Jul 10 2021  1:15                                                Page 461


 24982                        	.line	4495
 24983 06:6606: F4 xx xx     	pea	#^L1060
 24984 06:6609: F4 xx xx     	pea	#<L1060
 24985 06:660C: 22 xx xx xx  	jsl	~~k_debug_string
 24986                        ;
 24987                        ;		MASTER_CTRL_REG_H[0] = MSTR_CTRL_VIDEO_M
                    ODE0;
 24988                        	.line	4497
 24989 06:6610: E2 20        	sep	#$20
 24990                        	longa	off
 24991 06:6612: A9 01        	lda	#$1
 24992 06:6614: 8F 01 00 AF  	sta	>11468801
 24993 06:6618: C2 20        	rep	#$20
 24994                        	longa	on
 24995                        ;		MASTER_CTRL_REG_L[0] = MSTR_CTRL_GRAPH_M
                    ODE_EN;
 24996                        	.line	4498
 24997 06:661A: E2 20        	sep	#$20
 24998                        	longa	off
 24999 06:661C: A9 04        	lda	#$4
 25000 06:661E: 8F 00 00 AF  	sta	>11468800
 25001 06:6622: C2 20        	rep	#$20
 25002                        	longa	on
 25003                        ;
 25004                        ;		for(i=3200;i>0;i--)
 25005                        	.line	4500
 25006 06:6624: A9 80 0C     	lda	#$c80
 25007 06:6627: 85 01        	sta	<L1078+i_1
 25008                        L10435:
 25009                        ;		{
 25010                        	.line	4501
 25011                        ;			for(j=0;j<256;j++)
 25012                        	.line	4502
 25013 06:6629: 64 03        	stz	<L1078+j_1
 25014                        L10438:
 25015                        ;			{
 25016                        	.line	4503
 25017                        ;				asm NOP;
 25018                        	.line	4504
 25019                        	asmstart
 25020 06:662B: EA           	NOP
 25021                        	asmend
 25022                        ;			}
 25023                        	.line	4505
 25024                        L10436:
 25025 06:662C: E6 03        	inc	<L1078+j_1
 25026 06:662E: 38           	sec
 25027 06:662F: A5 03        	lda	<L1078+j_1
 25028 06:6631: E9 00 01     	sbc	#<$100
 25029 06:6634: 70 03        	bvs	L1081
 25030 06:6636: 49 00 80     	eor	#$8000
 25031                        L1081:
 25032 06:6639: 30 03        	bmi	L1082
 25033 06:663B: 82 ED FF     	brl	L10438
 25034                        L1082:
 25035                        L10437:
 25036                        ;		}
 25037                        	.line	4506
  Sat Jul 10 2021  1:15                                                Page 462


 25038                        L10433:
 25039 06:663E: C6 01        	dec	<L1078+i_1
 25040 06:6640: 38           	sec
 25041 06:6641: A9 00 00     	lda	#$0
 25042 06:6644: E5 01        	sbc	<L1078+i_1
 25043 06:6646: 70 03        	bvs	L1083
 25044 06:6648: 49 00 80     	eor	#$8000
 25045                        L1083:
 25046 06:664B: 30 03        	bmi	L1084
 25047 06:664D: 82 D9 FF     	brl	L10435
 25048                        L1084:
 25049                        L10434:
 25050                        ;	}
 25051                        	.line	4507
 25052                        ;	k_get_video_mode();
 25053                        L10432:
 25054                        	.line	4508
 25055 06:6650: 22 72 67 06  	jsl	~~k_get_video_mode
 25056                        ;
 25057                        ;	/*
 25058                        ;	k_debug_string("k_enable_bitmap_mode RESET 1b...
                    \r\n");
 25059                        ;
 25060                        ;	MASTER_CTRL_REG_H[0] = MSTR_CTRL_VIDEO_MODE0;
 25061                        ;	MASTER_CTRL_REG_L[0] = MSTR_CTRL_GRAPH_MODE_EN;
 25062                        ;
 25063                        ;	for(i=3200;i>0;i--)
 25064                        ;	{
 25065                        ;		for(j=0;j<256;j++)
 25066                        ;		{
 25067                        ;			asm NOP;
 25068                        ;		}
 25069                        ;	}
 25070                        ;
 25071                        ;	k_debug_string("k_enable_bitmap_mode RESET 1c...
                    \r\n");
 25072                        ;
 25073                        ;	MASTER_CTRL_REG_H[0] = MSTR_CTRL_VIDEO_MODE0;
 25074                        ;	MASTER_CTRL_REG_L[0] = MSTR_CTRL_GRAPH_MODE_EN;
 25075                        ;
 25076                        ;	for(i=3200;i>0;i--)
 25077                        ;	{
 25078                        ;		for(j=0;j<256;j++)
 25079                        ;		{
 25080                        ;			asm NOP;
 25081                        ;		}
 25082                        ;	}
 25083                        ;	 */
 25084                        ;	//k_debug_string("k_enable_bitmap_mode disable 8
                    00x600...\r\n");
 25085                        ;	//k_get_video_mode();
 25086                        ;
 25087                        ;	MASTER_CTRL_REG_H[0] = 0x00;
 25088                        	.line	4540
 25089 06:6654: E2 20        	sep	#$20
 25090                        	longa	off
 25091 06:6656: A9 00        	lda	#$0
 25092 06:6658: 8F 01 00 AF  	sta	>11468801
  Sat Jul 10 2021  1:15                                                Page 463


 25093 06:665C: C2 20        	rep	#$20
 25094                        	longa	on
 25095                        ;	//MASTER_CTRL_REG_L[0] = MSTR_CTRL_GRAPH_MODE_EN
                    ;
 25096                        ;	for(i=3200;i>0;i--)
 25097                        	.line	4542
 25098 06:665E: A9 80 0C     	lda	#$c80
 25099 06:6661: 85 01        	sta	<L1078+i_1
 25100                        L10441:
 25101                        ;	{
 25102                        	.line	4543
 25103                        ;		for(j=0;j<256;j++)
 25104                        	.line	4544
 25105 06:6663: 64 03        	stz	<L1078+j_1
 25106                        L10444:
 25107                        ;		{
 25108                        	.line	4545
 25109                        ;			asm NOP;
 25110                        	.line	4546
 25111                        	asmstart
 25112 06:6665: EA           	NOP
 25113                        	asmend
 25114                        ;		}
 25115                        	.line	4547
 25116                        L10442:
 25117 06:6666: E6 03        	inc	<L1078+j_1
 25118 06:6668: 38           	sec
 25119 06:6669: A5 03        	lda	<L1078+j_1
 25120 06:666B: E9 00 01     	sbc	#<$100
 25121 06:666E: 70 03        	bvs	L1085
 25122 06:6670: 49 00 80     	eor	#$8000
 25123                        L1085:
 25124 06:6673: 30 03        	bmi	L1086
 25125 06:6675: 82 ED FF     	brl	L10444
 25126                        L1086:
 25127                        L10443:
 25128                        ;	}
 25129                        	.line	4548
 25130                        L10439:
 25131 06:6678: C6 01        	dec	<L1078+i_1
 25132 06:667A: 38           	sec
 25133 06:667B: A9 00 00     	lda	#$0
 25134 06:667E: E5 01        	sbc	<L1078+i_1
 25135 06:6680: 70 03        	bvs	L1087
 25136 06:6682: 49 00 80     	eor	#$8000
 25137                        L1087:
 25138 06:6685: 30 03        	bmi	L1088
 25139 06:6687: 82 D9 FF     	brl	L10441
 25140                        L1088:
 25141                        L10440:
 25142                        ;
 25143                        ;	*BM1_CONTROL_REG = 0x01;
 25144                        	.line	4550
 25145 06:668A: E2 20        	sep	#$20
 25146                        	longa	off
 25147 06:668C: A9 01        	lda	#$1
 25148 06:668E: 8F 08 01 AF  	sta	>11469064
 25149 06:6692: C2 20        	rep	#$20
  Sat Jul 10 2021  1:15                                                Page 464


 25150                        	longa	on
 25151                        ;	*BM1_START_ADDY_L = 0;
 25152                        	.line	4551
 25153 06:6694: E2 20        	sep	#$20
 25154                        	longa	off
 25155 06:6696: A9 00        	lda	#$0
 25156 06:6698: 8F 09 01 AF  	sta	>11469065
 25157 06:669C: C2 20        	rep	#$20
 25158                        	longa	on
 25159                        ;	*BM1_START_ADDY_M = 0;
 25160                        	.line	4552
 25161 06:669E: E2 20        	sep	#$20
 25162                        	longa	off
 25163 06:66A0: A9 00        	lda	#$0
 25164 06:66A2: 8F 0A 01 AF  	sta	>11469066
 25165 06:66A6: C2 20        	rep	#$20
 25166                        	longa	on
 25167                        ;	*BM1_START_ADDY_H = BITMAP_BACK;
 25168                        	.line	4553
 25169 06:66A8: E2 20        	sep	#$20
 25170                        	longa	off
 25171 06:66AA: A9 08        	lda	#$8
 25172 06:66AC: 8F 0B 01 AF  	sta	>11469067
 25173 06:66B0: C2 20        	rep	#$20
 25174                        	longa	on
 25175                        ;
 25176                        ;	*BM0_CONTROL_REG = 0x01;
 25177                        	.line	4555
 25178 06:66B2: E2 20        	sep	#$20
 25179                        	longa	off
 25180 06:66B4: A9 01        	lda	#$1
 25181 06:66B6: 8F 00 01 AF  	sta	>11469056
 25182 06:66BA: C2 20        	rep	#$20
 25183                        	longa	on
 25184                        ;	*BM0_START_ADDY_L = 0;
 25185                        	.line	4556
 25186 06:66BC: E2 20        	sep	#$20
 25187                        	longa	off
 25188 06:66BE: A9 00        	lda	#$0
 25189 06:66C0: 8F 01 01 AF  	sta	>11469057
 25190 06:66C4: C2 20        	rep	#$20
 25191                        	longa	on
 25192                        ;	*BM0_START_ADDY_M = 0;
 25193                        	.line	4557
 25194 06:66C6: E2 20        	sep	#$20
 25195                        	longa	off
 25196 06:66C8: A9 00        	lda	#$0
 25197 06:66CA: 8F 02 01 AF  	sta	>11469058
 25198 06:66CE: C2 20        	rep	#$20
 25199                        	longa	on
 25200                        ;	*BM0_START_ADDY_H = BITMAP_FRONT;
 25201                        	.line	4558
 25202 06:66D0: E2 20        	sep	#$20
 25203                        	longa	off
 25204 06:66D2: A9 00        	lda	#$0
 25205 06:66D4: 8F 03 01 AF  	sta	>11469059
 25206 06:66D8: C2 20        	rep	#$20
 25207                        	longa	on
  Sat Jul 10 2021  1:15                                                Page 465


 25208                        ;
 25209                        ;	*BM1_CONTROL_REG = ( BM_ENABLE | BM_LUT0 );
 25210                        	.line	4560
 25211 06:66DA: E2 20        	sep	#$20
 25212                        	longa	off
 25213 06:66DC: A9 01        	lda	#$1
 25214 06:66DE: 8F 08 01 AF  	sta	>11469064
 25215 06:66E2: C2 20        	rep	#$20
 25216                        	longa	on
 25217                        ;	*BM0_CONTROL_REG = ( BM_ENABLE | BM_LUT0 );
 25218                        	.line	4561
 25219 06:66E4: E2 20        	sep	#$20
 25220                        	longa	off
 25221 06:66E6: A9 01        	lda	#$1
 25222 06:66E8: 8F 00 01 AF  	sta	>11469056
 25223 06:66EC: C2 20        	rep	#$20
 25224                        	longa	on
 25225                        ;
 25226                        ;	k_debug_string("k_enable_bitmap_mode 640x480...\
                    r\n");
 25227                        	.line	4563
 25228 06:66EE: F4 xx xx     	pea	#^L1060+37
 25229 06:66F1: F4 xx xx     	pea	#<L1060+37
 25230 06:66F4: 22 xx xx xx  	jsl	~~k_debug_string
 25231                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 25232                        	.line	4564
 25233 06:66F8: E2 20        	sep	#$20
 25234                        	longa	off
 25235 06:66FA: A9 0C        	lda	#$c
 25236 06:66FC: 8F 00 00 AF  	sta	>11468800
 25237 06:6700: C2 20        	rep	#$20
 25238                        	longa	on
 25239                        ;
 25240                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 25241                        	.line	4566
 25242 06:6702: F4 00 00     	pea	#<$0
 25243 06:6705: F4 00 00     	pea	#<$0
 25244 06:6708: F4 E0 01     	pea	#<$1e0
 25245 06:670B: F4 80 02     	pea	#<$280
 25246 06:670E: F4 00 00     	pea	#^$0
 25247 06:6711: F4 00 00     	pea	#<$0
 25248 06:6714: F4 00 00     	pea	#^$0
 25249 06:6717: F4 00 00     	pea	#<$0
 25250 06:671A: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 25251                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_BACK);
 25252                        	.line	4567
 25253 06:671E: F4 08 00     	pea	#<$8
 25254 06:6721: F4 00 00     	pea	#<$0
 25255 06:6724: F4 E0 01     	pea	#<$1e0
 25256 06:6727: F4 80 02     	pea	#<$280
 25257 06:672A: F4 00 00     	pea	#^$0
 25258 06:672D: F4 00 00     	pea	#<$0
 25259 06:6730: F4 00 00     	pea	#^$0
 25260 06:6733: F4 00 00     	pea	#<$0
 25261 06:6736: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 25262                        ;
 25263                        ;	for(i=3200;i>0;i--)
  Sat Jul 10 2021  1:15                                                Page 466


 25264                        	.line	4569
 25265 06:673A: A9 80 0C     	lda	#$c80
 25266 06:673D: 85 01        	sta	<L1078+i_1
 25267                        L10447:
 25268                        ;	{
 25269                        	.line	4570
 25270                        ;		for(j=0;j<256;j++)
 25271                        	.line	4571
 25272 06:673F: 64 03        	stz	<L1078+j_1
 25273                        L10450:
 25274                        ;		{
 25275                        	.line	4572
 25276                        ;			asm NOP;
 25277                        	.line	4573
 25278                        	asmstart
 25279 06:6741: EA           	NOP
 25280                        	asmend
 25281                        ;		}
 25282                        	.line	4574
 25283                        L10448:
 25284 06:6742: E6 03        	inc	<L1078+j_1
 25285 06:6744: 38           	sec
 25286 06:6745: A5 03        	lda	<L1078+j_1
 25287 06:6747: E9 00 01     	sbc	#<$100
 25288 06:674A: 70 03        	bvs	L1089
 25289 06:674C: 49 00 80     	eor	#$8000
 25290                        L1089:
 25291 06:674F: 30 03        	bmi	L1090
 25292 06:6751: 82 ED FF     	brl	L10450
 25293                        L1090:
 25294                        L10449:
 25295                        ;	}
 25296                        	.line	4575
 25297                        L10445:
 25298 06:6754: C6 01        	dec	<L1078+i_1
 25299 06:6756: 38           	sec
 25300 06:6757: A9 00 00     	lda	#$0
 25301 06:675A: E5 01        	sbc	<L1078+i_1
 25302 06:675C: 70 03        	bvs	L1091
 25303 06:675E: 49 00 80     	eor	#$8000
 25304                        L1091:
 25305 06:6761: 30 03        	bmi	L1092
 25306 06:6763: 82 D9 FF     	brl	L10447
 25307                        L1092:
 25308                        L10446:
 25309                        ;
 25310                        ;	k_get_video_mode();
 25311                        	.line	4577
 25312 06:6766: 22 72 67 06  	jsl	~~k_get_video_mode
 25313                        ;	return;
 25314                        	.line	4578
 25315                        L1093:
 25316 06:676A: 2B           	pld
 25317 06:676B: 3B           	tsc
 25318 06:676C: 18           	clc
 25319 06:676D: 69 04 00     	adc	#L1077
 25320 06:6770: 1B           	tcs
 25321 06:6771: 6B           	rtl
  Sat Jul 10 2021  1:15                                                Page 467


 25322                        ;}
 25323                        	.line	4579
 25324                        	.endblock	4579
 25325             00000004   L1077	equ	4
 25326             00000001   L1078	equ	1
 25327 06:6772:              	ends
 25328                        	efunc
 25329                        	.endfunc	4579,1,4
 25330                        	.line	4579
 25331                        	data
 25332                        L1060:
 25333 00:0A85: 6B 5F 65 6E  	db	$6B,$5F,$65,$6E,$61,$62,$6C,$65,$5F,$62,
                    $69,$74,$6D,$61,$70
       00:0A89: 61 62 6C 65 
       00:0A8D: 5F 62 69 74 
       00:0A91: 6D 61 70 
 25334 00:0A94: 5F 6D 6F 64  	db	$5F,$6D,$6F,$64,$65,$20,$74,$6F,$20,$38,
                    $30,$30,$78,$36,$30
       00:0A98: 65 20 74 6F 
       00:0A9C: 20 38 30 30 
       00:0AA0: 78 36 30 
 25335 00:0AA3: 30 2E 2E 2E  	db	$30,$2E,$2E,$2E,$0D,$0A,$00,$6B,$5F,$65,
                    $6E,$61,$62,$6C,$65
       00:0AA7: 0D 0A 00 6B 
       00:0AAB: 5F 65 6E 61 
       00:0AAF: 62 6C 65 
 25336 00:0AB2: 5F 62 69 74  	db	$5F,$62,$69,$74,$6D,$61,$70,$5F,$6D,$6F,
                    $64,$65,$20,$36,$34
       00:0AB6: 6D 61 70 5F 
       00:0ABA: 6D 6F 64 65 
       00:0ABE: 20 36 34 
 25337 00:0AC1: 30 78 34 38  	db	$30,$78,$34,$38,$30,$2E,$2E,$2E,$0D,$0A,
                    $00
       00:0AC5: 30 2E 2E 2E 
       00:0AC9: 0D 0A 00 
 25338 00:0ACC:              	ends
 25339                        ;
 25340                        ;
 25341                        ;UINT k_get_video_mode(void)
 25342                        ;{
 25343                        	.line	4582
 25344                        	.line	4583
 25345                        	GFX
 25346                        	xdef	~~k_get_video_mode
 25347                        	func
 25348                        	.function	4583
 25349                        ~~k_get_video_mode:
 25350                        	longa	on
 25351                        	longi	on
 25352 06:6772: 3B           	tsc
 25353 06:6773: 38           	sec
 25354 06:6774: E9 00 00     	sbc	#L1095
 25355 06:6777: 1B           	tcs
 25356 06:6778: 0B           	phd
 25357 06:6779: 5B           	tcd
 25358                        	.block	4583
 25359                        ;	//Mstr_Ctrl_Video_Mode0   = $01       ; 0 - 640x
                    480 (Clock @ 25.175Mhz), 1 - 800x600 (Clock @ 40Mhz)
  Sat Jul 10 2021  1:15                                                Page 468


 25360                        ;	//Mstr_Ctrl_Video_Mode1   = $02       ; 0 - No P
                    ixel Doubling, 1- Pixel Doubling (Reduce the Pixel Resolutio
                    n by 2)
 25361                        ;
 25362                        ;	if(MASTER_CTRL_REG_H[0] & 0x01)
 25363                        	.line	4587
 25364                        ;	{
 25365 06:677A: E2 20        	sep	#$20
 25366                        	longa	off
 25367 06:677C: AF 01 00 AF  	lda	>11468801
 25368 06:6780: 29 01        	and	#<$1
 25369 06:6782: C2 20        	rep	#$20
 25370                        	longa	on
 25371 06:6784: D0 03        	bne	L1098
 25372 06:6786: 82 36 00     	brl	L10451
 25373                        L1098:
 25374                        	.line	4588
 25375                        ;		if(MASTER_CTRL_REG_H[0] & 0x02)
 25376                        	.line	4589
 25377                        ;		{
 25378 06:6789: E2 20        	sep	#$20
 25379                        	longa	off
 25380 06:678B: AF 01 00 AF  	lda	>11468801
 25381 06:678F: 29 02        	and	#<$2
 25382 06:6791: C2 20        	rep	#$20
 25383                        	longa	on
 25384 06:6793: D0 03        	bne	L1099
 25385 06:6795: 82 17 00     	brl	L10452
 25386                        L1099:
 25387                        	.line	4590
 25388                        ;			k_debug_string("k_get_video_mode
                    :VIDEO_MODE_800X600D...\r\n");
 25389                        	.line	4591
 25390 06:6798: F4 xx xx     	pea	#^L1094
 25391 06:679B: F4 xx xx     	pea	#<L1094
 25392 06:679E: 22 xx xx xx  	jsl	~~k_debug_string
 25393                        ;			return VIDEO_MODE_800X600D;
 25394                        	.line	4592
 25395 06:67A2: A9 08 00     	lda	#$8
 25396                        L1100:
 25397 06:67A5: A8           	tay
 25398 06:67A6: 2B           	pld
 25399 06:67A7: 3B           	tsc
 25400 06:67A8: 18           	clc
 25401 06:67A9: 69 00 00     	adc	#L1095
 25402 06:67AC: 1B           	tcs
 25403 06:67AD: 98           	tya
 25404 06:67AE: 6B           	rtl
 25405                        ;		}
 25406                        	.line	4593
 25407                        ;
 25408                        ;		k_debug_string("k_get_video_mode:VIDEO_M
                    ODE_800X600...\r\n");
 25409                        L10452:
 25410                        	.line	4595
 25411 06:67AF: F4 xx xx     	pea	#^L1094+42
 25412 06:67B2: F4 xx xx     	pea	#<L1094+42
 25413 06:67B5: 22 xx xx xx  	jsl	~~k_debug_string
  Sat Jul 10 2021  1:15                                                Page 469


 25414                        ;		return VIDEO_MODE_800X600;
 25415                        	.line	4596
 25416 06:67B9: A9 04 00     	lda	#$4
 25417 06:67BC: 82 E6 FF     	brl	L1100
 25418                        ;	}
 25419                        	.line	4597
 25420                        ;	else
 25421                        L10451:
 25422                        ;	{
 25423                        	.line	4599
 25424                        ;		if(MASTER_CTRL_REG_H[0] & 0x02)
 25425                        	.line	4600
 25426                        ;		{
 25427 06:67BF: E2 20        	sep	#$20
 25428                        	longa	off
 25429 06:67C1: AF 01 00 AF  	lda	>11468801
 25430 06:67C5: 29 02        	and	#<$2
 25431 06:67C7: C2 20        	rep	#$20
 25432                        	longa	on
 25433 06:67C9: D0 03        	bne	L1101
 25434 06:67CB: 82 10 00     	brl	L10453
 25435                        L1101:
 25436                        	.line	4601
 25437                        ;			k_debug_string("k_get_video_mode
                    :VIDEO_MODE_640X480D...\r\n");
 25438                        	.line	4602
 25439 06:67CE: F4 xx xx     	pea	#^L1094+83
 25440 06:67D1: F4 xx xx     	pea	#<L1094+83
 25441 06:67D4: 22 xx xx xx  	jsl	~~k_debug_string
 25442                        ;			return VIDEO_MODE_640X480D;
 25443                        	.line	4603
 25444 06:67D8: A9 02 00     	lda	#$2
 25445 06:67DB: 82 C7 FF     	brl	L1100
 25446                        ;		}
 25447                        	.line	4604
 25448                        ;
 25449                        ;		k_debug_string("k_get_video_mode:VIDEO_M
                    ODE_640X480...\r\n");
 25450                        L10453:
 25451                        	.line	4606
 25452 06:67DE: F4 xx xx     	pea	#^L1094+125
 25453 06:67E1: F4 xx xx     	pea	#<L1094+125
 25454 06:67E4: 22 xx xx xx  	jsl	~~k_debug_string
 25455                        ;		return VIDEO_MODE_640X480;
 25456                        	.line	4607
 25457 06:67E8: A9 01 00     	lda	#$1
 25458 06:67EB: 82 B7 FF     	brl	L1100
 25459                        ;	}
 25460                        	.line	4608
 25461                        ;
 25462                        ;
 25463                        ;	return VIDEO_MODE_UNKNOWN;
 25464                        	.line	4611
 25465 06:67EE: A9 FF 00     	lda	#$ff
 25466 06:67F1: 82 B1 FF     	brl	L1100
 25467                        ;}
 25468                        	.line	4612
 25469                        	.endblock	4612
  Sat Jul 10 2021  1:15                                                Page 470


 25470             00000000   L1095	equ	0
 25471             00000001   L1096	equ	1
 25472 06:67F4:              	ends
 25473                        	efunc
 25474                        	.endfunc	4612,1,0
 25475                        	.line	4612
 25476                        	data
 25477                        L1094:
 25478 00:0ACC: 6B 5F 67 65  	db	$6B,$5F,$67,$65,$74,$5F,$76,$69,$64,$65,
                    $6F,$5F,$6D,$6F,$64
       00:0AD0: 74 5F 76 69 
       00:0AD4: 64 65 6F 5F 
       00:0AD8: 6D 6F 64 
 25479 00:0ADB: 65 3A 56 49  	db	$65,$3A,$56,$49,$44,$45,$4F,$5F,$4D,$4F,
                    $44,$45,$5F,$38,$30
       00:0ADF: 44 45 4F 5F 
       00:0AE3: 4D 4F 44 45 
       00:0AE7: 5F 38 30 
 25480 00:0AEA: 30 58 36 30  	db	$30,$58,$36,$30,$30,$44,$2E,$2E,$2E,$0D,
                    $0A,$00,$6B,$5F,$67
       00:0AEE: 30 44 2E 2E 
       00:0AF2: 2E 0D 0A 00 
       00:0AF6: 6B 5F 67 
 25481 00:0AF9: 65 74 5F 76  	db	$65,$74,$5F,$76,$69,$64,$65,$6F,$5F,$6D,
                    $6F,$64,$65,$3A,$56
       00:0AFD: 69 64 65 6F 
       00:0B01: 5F 6D 6F 64 
       00:0B05: 65 3A 56 
 25482 00:0B08: 49 44 45 4F  	db	$49,$44,$45,$4F,$5F,$4D,$4F,$44,$45,$5F,
                    $38,$30,$30,$58,$36
       00:0B0C: 5F 4D 4F 44 
       00:0B10: 45 5F 38 30 
       00:0B14: 30 58 36 
 25483 00:0B17: 30 30 2E 2E  	db	$30,$30,$2E,$2E,$2E,$0D,$0A,$00,$6B,$5F,
                    $67,$65,$74,$5F,$76
       00:0B1B: 2E 0D 0A 00 
       00:0B1F: 6B 5F 67 65 
       00:0B23: 74 5F 76 
 25484 00:0B26: 69 64 65 6F  	db	$69,$64,$65,$6F,$5F,$6D,$6F,$64,$65,$3A,
                    $56,$49,$44,$45,$4F
       00:0B2A: 5F 6D 6F 64 
       00:0B2E: 65 3A 56 49 
       00:0B32: 44 45 4F 
 25485 00:0B35: 5F 4D 4F 44  	db	$5F,$4D,$4F,$44,$45,$5F,$36,$34,$30,$58,
                    $34,$38,$30,$44,$2E
       00:0B39: 45 5F 36 34 
       00:0B3D: 30 58 34 38 
       00:0B41: 30 44 2E 
 25486 00:0B44: 2E 2E 0D 0A  	db	$2E,$2E,$0D,$0A,$00,$6B,$5F,$67,$65,$74,
                    $5F,$76,$69,$64,$65
       00:0B48: 00 6B 5F 67 
       00:0B4C: 65 74 5F 76 
       00:0B50: 69 64 65 
 25487 00:0B53: 6F 5F 6D 6F  	db	$6F,$5F,$6D,$6F,$64,$65,$3A,$56,$49,$44,
                    $45,$4F,$5F,$4D,$4F
       00:0B57: 64 65 3A 56 
       00:0B5B: 49 44 45 4F 
       00:0B5F: 5F 4D 4F 
  Sat Jul 10 2021  1:15                                                Page 471


 25488 00:0B62: 44 45 5F 36  	db	$44,$45,$5F,$36,$34,$30,$58,$34,$38,$30,
                    $2E,$2E,$2E,$0D,$0A
       00:0B66: 34 30 58 34 
       00:0B6A: 38 30 2E 2E 
       00:0B6E: 2E 0D 0A 
 25489 00:0B71: 00           	db	$00
 25490 00:0B72:              	ends
 25491                        ;
 25492                        ;void k_gui_cache_desktop_widgets(void)
 25493                        ;{
 25494                        	.line	4614
 25495                        	.line	4615
 25496                        	GFX
 25497                        	xdef	~~k_gui_cache_desktop_widgets
 25498                        	func
 25499                        	.function	4615
 25500                        ~~k_gui_cache_desktop_widgets:
 25501                        	longa	on
 25502                        	longi	on
 25503 06:67F4: 3B           	tsc
 25504 06:67F5: 38           	sec
 25505 06:67F6: E9 1A 00     	sbc	#L1103
 25506 06:67F9: 1B           	tcs
 25507 06:67FA: 0B           	phd
 25508 06:67FB: 5B           	tcd
 25509                        	.block	4615
 25510                        ;	int i = 0;
 25511                        ;	int titleOffsetX = 0;
 25512                        ;	RECT rect;
 25513                        ;
 25514                        ;
 25515                        ;	for(i=0;i<80;i++)
 25516             00000000   i_1	set	0
 25517             00000002   titleOffsetX_1	set	2
 25518             00000004   rect_1	set	4
 25519                        	.sym	i,0,5,1,16
 25520                        	.sym	titleOffsetX,2,5,1,16
 25521                        	.sym	rect,4,10,1,112,26
 25522 06:67FC: 64 09        	stz	<L1104+i_1
 25523 06:67FE: 64 0B        	stz	<L1104+titleOffsetX_1
 25524                        	.line	4621
 25525 06:6800: 64 09        	stz	<L1104+i_1
 25526                        L10456:
 25527                        ;	{
 25528                        	.line	4622
 25529                        ;		titleOffsetX+=k_put_wingadget_point_ex(W
                    INICON_TITLE_LINES,titleOffsetX,10,k_getUIGadgetColor(),BITM
                    AP_BACK);
 25530                        	.line	4623
 25531 06:6802: F4 08 00     	pea	#<$8
 25532 06:6805: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 25533 06:6809: 48           	pha
 25534 06:680A: F4 0A 00     	pea	#<$a
 25535 06:680D: D4 0B        	pei	<L1104+titleOffsetX_1
 25536 06:680F: F4 01 00     	pea	#<$1
 25537 06:6812: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 25538 06:6816: 85 01        	sta	<R0
 25539 06:6818: 18           	clc
  Sat Jul 10 2021  1:15                                                Page 472


 25540 06:6819: A5 01        	lda	<R0
 25541 06:681B: 65 0B        	adc	<L1104+titleOffsetX_1
 25542 06:681D: 85 0B        	sta	<L1104+titleOffsetX_1
 25543                        ;	}
 25544                        	.line	4624
 25545                        L10454:
 25546 06:681F: E6 09        	inc	<L1104+i_1
 25547 06:6821: 38           	sec
 25548 06:6822: A5 09        	lda	<L1104+i_1
 25549 06:6824: E9 50 00     	sbc	#<$50
 25550 06:6827: 70 03        	bvs	L1106
 25551 06:6829: 49 00 80     	eor	#$8000
 25552                        L1106:
 25553 06:682C: 30 03        	bmi	L1107
 25554 06:682E: 82 D1 FF     	brl	L10456
 25555                        L1107:
 25556                        L10455:
 25557                        ;
 25558                        ;	k_vdma_copy_address_ex((LPSTR)(GUI_CACHE_PAGE + 
                    GUI_CACHE_PAGE_OFFSET(0)),
 25559                        	.line	4626
 25560                        ;						   (LPST
                    R)(0x080000  + k_gui_get_pixel_offset(0,10)),
 25561                        ;						   640,8
                    );
 25562 06:6831: F4 08 00     	pea	#<$8
 25563 06:6834: F4 80 02     	pea	#<$280
 25564 06:6837: F4 0A 00     	pea	#<$a
 25565 06:683A: F4 00 00     	pea	#<$0
 25566 06:683D: 22 B4 07 06  	jsl	~~k_gui_get_pixel_offset
 25567 06:6841: 85 01        	sta	<R0
 25568 06:6843: 86 03        	stx	<R0+2
 25569 06:6845: 18           	clc
 25570 06:6846: A9 00 00     	lda	#$0
 25571 06:6849: 65 01        	adc	<R0
 25572 06:684B: 85 05        	sta	<R1
 25573 06:684D: A9 08 00     	lda	#$8
 25574 06:6850: 65 03        	adc	<R0+2
 25575 06:6852: 85 07        	sta	<R1+2
 25576 06:6854: D4 07        	pei	<R1+2
 25577 06:6856: D4 05        	pei	<R1
 25578 06:6858: F4 10 00     	pea	#^$100000
 25579 06:685B: F4 00 00     	pea	#<$100000
 25580 06:685E: 22 19 83 06  	jsl	~~k_vdma_copy_address_ex
 25581                        ;
 25582                        ;
 25583                        ;	/*
 25584                        ;	k_vdma_copy_address_ex((LPSTR)(0x080000  + k_gui
                    _get_pixel_offset(0,100)),
 25585                        ;						   (LPST
                    R)(GUI_CACHE_PAGE + GUI_CACHE_PAGE_OFFSET(0)),
 25586                        ;						   640,8
                    );
 25587                        ;
 25588                        ;
 25589                        ;	rect.x = 0;
 25590                        ;	rect.y = 300;
 25591                        ;	rect.width  = 640;
  Sat Jul 10 2021  1:15                                                Page 473


 25592                        ;	rect.height = 8;
 25593                        ;
 25594                        ;	k_gui_get_image_cache(0,0x080000,&rect);
 25595                        ;
 25596                        ;
 25597                        ;	for(i=32000;i>0;i--)
 25598                        ;	{
 25599                        ;		asm NOP;
 25600                        ;	}
 25601                        ;	for(i=32000;i>0;i--)
 25602                        ;	{
 25603                        ;		asm NOP;
 25604                        ;	}
 25605                        ;	for(i=32000;i>0;i--)
 25606                        ;	{
 25607                        ;		asm NOP;
 25608                        ;	}
 25609                        ;	for(i=32000;i>0;i--)
 25610                        ;	{
 25611                        ;		asm NOP;
 25612                        ;	}
 25613                        ;	for(i=32000;i>0;i--)
 25614                        ;	{
 25615                        ;		asm NOP;
 25616                        ;	}
 25617                        ;	for(i=32000;i>0;i--)
 25618                        ;	{
 25619                        ;		asm NOP;
 25620                        ;	}
 25621                        ;	for(i=32000;i>0;i--)
 25622                        ;	{
 25623                        ;		asm NOP;
 25624                        ;	}
 25625                        ;	*/
 25626                        ;}
 25627                        	.line	4674
 25628                        L1108:
 25629 06:6862: 2B           	pld
 25630 06:6863: 3B           	tsc
 25631 06:6864: 18           	clc
 25632 06:6865: 69 1A 00     	adc	#L1103
 25633 06:6868: 1B           	tcs
 25634 06:6869: 6B           	rtl
 25635                        	.endblock	4674
 25636             0000001A   L1103	equ	26
 25637             00000009   L1104	equ	9
 25638 06:686A:              	ends
 25639                        	efunc
 25640                        	.endfunc	4674,9,26
 25641                        	.line	4674
 25642                        ;
 25643                        ;void k_init_desktop(PFXPROCESS process)
 25644                        ;{
 25645                        	.line	4676
 25646                        	.line	4677
 25647                        	GFX
 25648                        	xdef	~~k_init_desktop
 25649                        	func
  Sat Jul 10 2021  1:15                                                Page 474


 25650                        	.function	4677
 25651                        ~~k_init_desktop:
 25652                        	longa	on
 25653                        	longi	on
 25654 06:686A: 3B           	tsc
 25655 06:686B: 38           	sec
 25656 06:686C: E9 12 00     	sbc	#L1109
 25657 06:686F: 1B           	tcs
 25658 06:6870: 0B           	phd
 25659 06:6871: 5B           	tcd
 25660             00000004   process_0	set	4
 25661                        	.block	4677
 25662                        ;
 25663                        ;	int i = 0;
 25664                        ;	int x = 0;
 25665                        ;	int y = 200;
 25666                        ;
 25667                        ;
 25668                        ;	PFXSTRING fxtitle = NULL;
 25669                        ;	PFXSTRING fxstring = NULL;
 25670                        ;
 25671                        ;	ULONG availableMem = 0L;
 25672                        ;
 25673                        ;
 25674                        ;	k_clear_screen(0);
 25675             00000000   i_1	set	0
 25676             00000002   x_1	set	2
 25677             00000004   y_1	set	4
 25678             00000006   fxtitle_1	set	6
 25679             0000000A   fxstring_1	set	10
 25680             0000000E   availableMem_1	set	14
 25681                        	.sym	i,0,5,1,16
 25682                        	.sym	x,2,5,1,16
 25683                        	.sym	y,4,5,1,16
 25684                        	.sym	fxtitle,6,138,1,32,57
 25685                        	.sym	fxstring,10,138,1,32,57
 25686                        	.sym	availableMem,14,18,1,32
 25687                        	.sym	process,4,138,6,32,20
 25688 06:6872: 64 01        	stz	<L1110+i_1
 25689 06:6874: 64 03        	stz	<L1110+x_1
 25690 06:6876: A9 C8 00     	lda	#$c8
 25691 06:6879: 85 05        	sta	<L1110+y_1
 25692 06:687B: 64 07        	stz	<L1110+fxtitle_1
 25693 06:687D: 64 09        	stz	<L1110+fxtitle_1+2
 25694 06:687F: 64 0B        	stz	<L1110+fxstring_1
 25695 06:6881: 64 0D        	stz	<L1110+fxstring_1+2
 25696 06:6883: 64 0F        	stz	<L1110+availableMem_1
 25697 06:6885: 64 11        	stz	<L1110+availableMem_1+2
 25698                        	.line	4690
 25699 06:6887: F4 00 00     	pea	#<$0
 25700 06:688A: 22 xx xx xx  	jsl	~~k_clear_screen
 25701                        ;	setColors();
 25702                        	.line	4691
 25703 06:688E: 22 FA 08 06  	jsl	~~setColors
 25704                        ;	//defineGrayPalette();
 25705                        ;
 25706                        ;#ifdef USE_FX256_FMX
 25707                        ;
  Sat Jul 10 2021  1:15                                                Page 475


 25708                        ;	/*
 25709                        ;	*BM1_CONTROL_REG = 0x01;
 25710                        ;	*BM1_START_ADDY_L = 0;
 25711                        ;	*BM1_START_ADDY_M = 0;
 25712                        ;	*BM1_START_ADDY_H = 0;
 25713                        ;
 25714                        ;	*MASTER_CTRL_REG_H 	= 0x00;
 25715                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 25716                        ;
 25717                        ;	*MASTER_CTRL_REG_H 	= 0x01;
 25718                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 25719                        ;
 25720                        ;	*BM1_CONTROL_REG = ( BM_ENABLE | BM_LUT0 );
 25721                        ;
 25722                        ;	*MASTER_CTRL_REG_H 	= 0x00;
 25723                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 25724                        ;	*/
 25725                        ;
 25726                        ;	k_enable_bitmap_mode();
 25727                        ;
 25728                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 25729                        ;	k_vdma_fill_rect_ex(0,0,640,480,15,BITMAP_BACK);
 25730                        ;
 25731                        ;	k_gui_cache_desktop_widgets();
 25732                        ;
 25733                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 25734                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_BACK);
 25735                        ;#elif USE_FX256_U
 25736                        ;
 25737                        ;
 25738                        ;	k_enable_bitmap_mode();
 25739                        	.line	4726
 25740 06:6892: 22 B0 65 06  	jsl	~~k_enable_bitmap_mode
 25741                        ;
 25742                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 25743                        	.line	4728
 25744 06:6896: F4 00 00     	pea	#<$0
 25745 06:6899: F4 00 00     	pea	#<$0
 25746 06:689C: F4 E0 01     	pea	#<$1e0
 25747 06:689F: F4 80 02     	pea	#<$280
 25748 06:68A2: F4 00 00     	pea	#^$0
 25749 06:68A5: F4 00 00     	pea	#<$0
 25750 06:68A8: F4 00 00     	pea	#^$0
 25751 06:68AB: F4 00 00     	pea	#<$0
 25752 06:68AE: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 25753                        ;	k_vdma_fill_rect_ex(0,0,640,480,15,BITMAP_BACK);
 25754                        	.line	4729
 25755 06:68B2: F4 08 00     	pea	#<$8
 25756 06:68B5: F4 0F 00     	pea	#<$f
 25757 06:68B8: F4 E0 01     	pea	#<$1e0
 25758 06:68BB: F4 80 02     	pea	#<$280
 25759 06:68BE: F4 00 00     	pea	#^$0
 25760 06:68C1: F4 00 00     	pea	#<$0
 25761 06:68C4: F4 00 00     	pea	#^$0
 25762 06:68C7: F4 00 00     	pea	#<$0
  Sat Jul 10 2021  1:15                                                Page 476


 25763 06:68CA: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 25764                        ;
 25765                        ;	k_gui_cache_desktop_widgets();
 25766                        	.line	4731
 25767 06:68CE: 22 F4 67 06  	jsl	~~k_gui_cache_desktop_widgets
 25768                        ;
 25769                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 25770                        	.line	4733
 25771 06:68D2: F4 00 00     	pea	#<$0
 25772 06:68D5: F4 00 00     	pea	#<$0
 25773 06:68D8: F4 E0 01     	pea	#<$1e0
 25774 06:68DB: F4 80 02     	pea	#<$280
 25775 06:68DE: F4 00 00     	pea	#^$0
 25776 06:68E1: F4 00 00     	pea	#<$0
 25777 06:68E4: F4 00 00     	pea	#^$0
 25778 06:68E7: F4 00 00     	pea	#<$0
 25779 06:68EA: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 25780                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_BACK);
 25781                        	.line	4734
 25782 06:68EE: F4 08 00     	pea	#<$8
 25783 06:68F1: F4 00 00     	pea	#<$0
 25784 06:68F4: F4 E0 01     	pea	#<$1e0
 25785 06:68F7: F4 80 02     	pea	#<$280
 25786 06:68FA: F4 00 00     	pea	#^$0
 25787 06:68FD: F4 00 00     	pea	#<$0
 25788 06:6900: F4 00 00     	pea	#^$0
 25789 06:6903: F4 00 00     	pea	#<$0
 25790 06:6906: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 25791                        ;#else
 25792                        ;
 25793                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE;
 25794                        ;
 25795                        ;	*BM_START_ADDY_L = 0x00;
 25796                        ;	*BM_START_ADDY_M = 0x00;
 25797                        ;	*BM_START_ADDY_H = 0x00;
 25798                        ;	*BG_CHAR_LUT_PTR = 0x02;
 25799                        ;
 25800                        ;	*BM_X_SIZE_L = 0x80;
 25801                        ;	*BM_X_SIZE_H = 0x02;
 25802                        ;	*BM_Y_SIZE_L = 0xE0;
 25803                        ;	*BM_Y_SIZE_H = 0x01;
 25804                        ;
 25805                        ;	//*FG_CHAR_LUT_PTR    = 0x00;
 25806                        ;	//*BG_CHAR_LUT_PTR    = 0x00;
 25807                        ;	*BM_CONTROL_REG 	= 0x08;
 25808                        ;
 25809                        ;	*MASTER_CTRL_REG_H 	= 0x00;
 25810                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 25811                        ;
 25812                        ;#endif
 25813                        ;
 25814                        ;	k_disable_border();
 25815                        	.line	4758
 25816 06:690A: 22 xx xx xx  	jsl	~~k_disable_border
 25817                        ;
 25818                        ;	//setColors();
 25819                        ;	//defineGrayPalette();
  Sat Jul 10 2021  1:15                                                Page 477


 25820                        ;
 25821                        ;	/*
 25822                        ;
 25823                        ;	if(!_k_WindowObject_nodes)
 25824                        ;		_k_WindowObject_nodes = k_nodelist_init(
                    0xF0,"master",NULL);
 25825                        ;	if(!_k_WindowHit_nodes)
 25826                        ;		_k_WindowHit_nodes    = k_nodelist_init(
                    0xF0,"master",NULL);
 25827                        ;
 25828                        ;	if(process->desktopCtl == NULL)
 25829                        ;	{
 25830                        ;		process->desktopCtl = k_mem_allocate_hea
                    p(sizeof(DESKTOP_CONTROL));
 25831                        ;		memset(process->desktopCtl,0,sizeof(DESK
                    TOP_CONTROL));
 25832                        ;	}
 25833                        ;	process->desktopCtl->backgroundColor = k_getUIDe
                    sktopColor() ;//14;
 25834                        ;	process->desktopCtl->currentDiskName = NULL;
 25835                        ;
 25836                        ;	*/
 25837                        ;
 25838                        ;	// clear screen the old way
 25839                        ;
 25840                        ;	/*
 25841                        ;	for(y=0;y<480;y++)
 25842                        ;	{
 25843                        ;		k_fill_line(0,y,639,k_getUIDesktopColor(
                    ));
 25844                        ;	}
 25845                        ;	*/
 25846                        ;	//k_vdma_fill_rect_ex(0,0,640,480,k_getUIBackgro
                    undColor(),0x10);
 25847                        ;
 25848                        ;
 25849                        ;	//k_paint_brush_rect(0,0,640,480,0x55);
 25850                        ;
 25851                        ;
 25852                        ;	/*
 25853                        ;	fxtitle  = k_fxstring_new(CONST_WB_MENU_TITLE,96
                    );
 25854                        ;	fxstring = k_fxstring_from_long(k_getZeroPage()-
                    >availableMemoryK);
 25855                        ;
 25856                        ;	//k_debug_message("fxtitle:",fxtitle->buffer);
 25857                        ;	//k_debug_message("fxstring:",k_strip_padding(fx
                    string->buffer));
 25858                        ;
 25859                        ;	//process->desktopCtl->titleNodes = k_vdraw_ui_m
                    enu(0,0,639,"C256 Foenix Workbench - Free Mem: 1792K Video M
                    em: 4096K",15,3);
 25860                        ;	process->desktopCtl->titleNodes = k_vdraw_ui_men
                    u(0,0,639,
 25861                        ;   						
                    							  k_stri
                    ng_replace(fxtitle->buffer, "%d", k_strip_padding(fxstring->
                    buffer)),
  Sat Jul 10 2021  1:15                                                Page 478


 25862                        ;							
                    						  k_getUIMenuCol
                    or(),
 25863                        ;							
                    						  k_getUIWindowF
                    rameColor());
 25864                        ;
 25865                        ;	if(fxstring)
 25866                        ;		k_fxstring_free(fxstring);
 25867                        ;	*/
 25868                        ;
 25869                        ;	//k_vdraw_ui_menu(0,0,639,"C256 Foenix Workbench
                     - Free Memory: 1792K Video Memory: 4096K",15,3);
 25870                        ;
 25871                        ;	/*
 25872                        ;	//FX-Basic
 25873                        ;	k_put_winicon_point(ICON_DISK,640 - 40,20,0,PAIN
                    TMODE_DEFAULT);
 25874                        ;	k_draw_text_point("FX-BASIC",640 - 35 - (8*4),40
                    ,0);
 25875                        ;
 25876                        ;	//Projects
 25877                        ;	k_put_winicon_point(ICON_CABINET,640 - 40,55,2,P
                    AINTMODE_DEFAULT);
 25878                        ;	k_draw_text_point("PROJECTS",640 - 35 - (8*4),75
                    ,0);
 25879                        ;	*/
 25880                        ;
 25881                        ;	//Shredder
 25882                        ;	//k_put_winicon_point(ICON_TRASH,640 - 40,450,1,
                    PAINTMODE_DEFAULT);
 25883                        ;	//k_draw_text_point("SHREDDER",640 - 35 - (8*4),
                    470,0);
 25884                        ;
 25885                        ;
 25886                        ;
 25887                        ;	return;
 25888                        	.line	4829
 25889                        L1112:
 25890 06:690E: A5 14        	lda	<L1109+2
 25891 06:6910: 85 18        	sta	<L1109+2+4
 25892 06:6912: A5 13        	lda	<L1109+1
 25893 06:6914: 85 17        	sta	<L1109+1+4
 25894 06:6916: 2B           	pld
 25895 06:6917: 3B           	tsc
 25896 06:6918: 18           	clc
 25897 06:6919: 69 16 00     	adc	#L1109+4
 25898 06:691C: 1B           	tcs
 25899 06:691D: 6B           	rtl
 25900                        ;}
 25901                        	.line	4830
 25902                        	.endblock	4830
 25903             00000012   L1109	equ	18
 25904             00000001   L1110	equ	1
 25905 06:691E:              	ends
 25906                        	efunc
 25907                        	.endfunc	4830,1,18
 25908                        	.line	4830
  Sat Jul 10 2021  1:15                                                Page 479


 25909                        ;
 25910                        ;void k_init_splash(BOOL bWait)
 25911                        ;{
 25912                        	.line	4832
 25913                        	.line	4833
 25914                        	GFX
 25915                        	xdef	~~k_init_splash
 25916                        	func
 25917                        	.function	4833
 25918                        ~~k_init_splash:
 25919                        	longa	on
 25920                        	longi	on
 25921 06:691E: 3B           	tsc
 25922 06:691F: 38           	sec
 25923 06:6920: E9 39 00     	sbc	#L1113
 25924 06:6923: 1B           	tcs
 25925 06:6924: 0B           	phd
 25926 06:6925: 5B           	tcd
 25927             00000004   bWait_0	set	4
 25928                        	.block	4833
 25929                        ;	int i;
 25930                        ;	BYTE c,r,g,b;
 25931                        ;	long color[4];
 25932                        ;
 25933                        ;	long *pcolor[3];
 25934                        ;
 25935                        ;	//PFXZEROPAGE zp = NULL;
 25936                        ;
 25937                        ;	LPSTR pPalette = GRPH_LUT0_PTR;
 25938                        ;	LPSTR pathName = NULL;
 25939                        ;	CHAR boardRelease[3];
 25940                        ;
 25941                        ;	k_clear_screen(0);
 25942             00000000   i_1	set	0
 25943             00000002   c_1	set	2
 25944             00000003   r_1	set	3
 25945             00000004   g_1	set	4
 25946             00000005   b_1	set	5
 25947             00000006   color_1	set	6
 25948             00000016   pcolor_1	set	22
 25949             00000022   pPalette_1	set	34
 25950             00000026   pathName_1	set	38
 25951             0000002A   boardRelease_1	set	42
 25952                        	.sym	i,0,5,1,16
 25953                        	.sym	c,2,14,1,8
 25954                        	.sym	r,3,14,1,8
 25955                        	.sym	g,4,14,1,8
 25956                        	.sym	b,5,14,1,8
 25957                        	.sym	color,6,103,1,0,4
 25958                        	.sym	pcolor,22,1127,1,32,3
 25959                        	.sym	pPalette,34,142,1,32
 25960                        	.sym	pathName,38,142,1,32
 25961                        	.sym	boardRelease,42,110,1,0,3
 25962                        	.sym	bWait,4,14,6,8
 25963 06:6926: A9 00 20     	lda	#$2000
 25964 06:6929: 85 2F        	sta	<L1114+pPalette_1
 25965 06:692B: A9 AF 00     	lda	#$af
 25966 06:692E: 85 31        	sta	<L1114+pPalette_1+2
  Sat Jul 10 2021  1:15                                                Page 480


 25967 06:6930: 64 33        	stz	<L1114+pathName_1
 25968 06:6932: 64 35        	stz	<L1114+pathName_1+2
 25969                        	.line	4846
 25970 06:6934: F4 00 00     	pea	#<$0
 25971 06:6937: 22 xx xx xx  	jsl	~~k_clear_screen
 25972                        ;
 25973                        ;#ifdef USE_FX256_FMX
 25974                        ;	k_enable_bitmap_mode();
 25975                        ;
 25976                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 25977                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_BACK);
 25978                        ;#elif USE_FX256_U
 25979                        ;
 25980                        ;	k_enable_bitmap_mode();
 25981                        	.line	4855
 25982 06:693B: 22 B0 65 06  	jsl	~~k_enable_bitmap_mode
 25983                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 25984                        	.line	4856
 25985 06:693F: F4 00 00     	pea	#<$0
 25986 06:6942: F4 00 00     	pea	#<$0
 25987 06:6945: F4 E0 01     	pea	#<$1e0
 25988 06:6948: F4 80 02     	pea	#<$280
 25989 06:694B: F4 00 00     	pea	#^$0
 25990 06:694E: F4 00 00     	pea	#<$0
 25991 06:6951: F4 00 00     	pea	#^$0
 25992 06:6954: F4 00 00     	pea	#<$0
 25993 06:6957: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 25994                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_BACK);
 25995                        	.line	4857
 25996 06:695B: F4 08 00     	pea	#<$8
 25997 06:695E: F4 00 00     	pea	#<$0
 25998 06:6961: F4 E0 01     	pea	#<$1e0
 25999 06:6964: F4 80 02     	pea	#<$280
 26000 06:6967: F4 00 00     	pea	#^$0
 26001 06:696A: F4 00 00     	pea	#<$0
 26002 06:696D: F4 00 00     	pea	#^$0
 26003 06:6970: F4 00 00     	pea	#<$0
 26004 06:6973: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 26005                        ;#else
 26006                        ;
 26007                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE;
 26008                        ;
 26009                        ;	*BM_START_ADDY_L = 0x00;
 26010                        ;	*BM_START_ADDY_M = 0x00;
 26011                        ;	*BM_START_ADDY_H = 0x00;
 26012                        ;	*BG_CHAR_LUT_PTR = 0x02;
 26013                        ;
 26014                        ;	*BM_X_SIZE_L = 0x80;
 26015                        ;	*BM_X_SIZE_H = 0x02;
 26016                        ;	*BM_Y_SIZE_L = 0xE0;
 26017                        ;	*BM_Y_SIZE_H = 0x01;
 26018                        ;
 26019                        ;	*BM_CONTROL_REG 	= 0x08;
 26020                        ;
 26021                        ;	*MASTER_CTRL_REG_H 	= 0x00;
 26022                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 26023                        ;
  Sat Jul 10 2021  1:15                                                Page 481


 26024                        ;#endif
 26025                        ;
 26026                        ;	k_disable_border();
 26027                        	.line	4879
 26028 06:6977: 22 xx xx xx  	jsl	~~k_disable_border
 26029                        ;
 26030                        ;	k_get_c256_release(boardRelease);
 26031                        	.line	4881
 26032 06:697B: F4 00 00     	pea	#0
 26033 06:697E: 18           	clc
 26034 06:697F: 7B           	tdc
 26035 06:6980: 69 37 00     	adc	#<L1114+boardRelease_1
 26036 06:6983: 48           	pha
 26037 06:6984: 22 xx xx xx  	jsl	~~k_get_c256_release
 26038                        ;
 26039                        ;	//zp = k_getZeroPage();
 26040                        ;
 26041                        ;	//readBMP("HD:\\system\\assets\\%BR%\\logo1.bmp"
                    );
 26042                        ;
 26043                        ;	pathName = k_string_replace("HD:\\system\\assets
                    \\%BR%\\logo1.bmp","%BR%",boardRelease);
 26044                        	.line	4887
 26045 06:6988: F4 00 00     	pea	#0
 26046 06:698B: 18           	clc
 26047 06:698C: 7B           	tdc
 26048 06:698D: 69 37 00     	adc	#<L1114+boardRelease_1
 26049 06:6990: 48           	pha
 26050 06:6991: F4 xx xx     	pea	#^L1102+33
 26051 06:6994: F4 xx xx     	pea	#<L1102+33
 26052 06:6997: F4 xx xx     	pea	#^L1102
 26053 06:699A: F4 xx xx     	pea	#<L1102
 26054 06:699D: 22 xx xx xx  	jsl	~~k_string_replace
 26055 06:69A1: 85 33        	sta	<L1114+pathName_1
 26056 06:69A3: 86 35        	stx	<L1114+pathName_1+2
 26057                        ;	if(pathName)
 26058                        	.line	4888
 26059                        ;	{
 26060 06:69A5: A5 33        	lda	<L1114+pathName_1
 26061 06:69A7: 05 35        	ora	<L1114+pathName_1+2
 26062 06:69A9: D0 03        	bne	L1116
 26063 06:69AB: 82 10 00     	brl	L10457
 26064                        L1116:
 26065                        	.line	4889
 26066                        ;		//k_debug_strings("PATH REPLACED:",pathN
                    ame);
 26067                        ;		readBMP(pathName);
 26068                        	.line	4891
 26069 06:69AE: D4 35        	pei	<L1114+pathName_1+2
 26070 06:69B0: D4 33        	pei	<L1114+pathName_1
 26071 06:69B2: 22 27 87 06  	jsl	~~readBMP
 26072                        ;		k_mem_deallocate_heap(pathName);
 26073                        	.line	4892
 26074 06:69B6: D4 35        	pei	<L1114+pathName_1+2
 26075 06:69B8: D4 33        	pei	<L1114+pathName_1
 26076 06:69BA: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 26077                        ;	}
 26078                        	.line	4893
  Sat Jul 10 2021  1:15                                                Page 482


 26079                        ;
 26080                        ;	if(bWait)
 26081                        L10457:
 26082                        	.line	4895
 26083                        ;	{
 26084 06:69BE: A5 3D        	lda	<L1113+bWait_0
 26085 06:69C0: 29 FF 00     	and	#$ff
 26086 06:69C3: D0 03        	bne	L1117
 26087 06:69C5: 82 AC 02     	brl	L10458
 26088                        L1117:
 26089                        	.line	4896
 26090                        ;		sleep(15000);
 26091                        	.line	4897
 26092 06:69C8: F4 98 3A     	pea	#<$3a98
 26093 06:69CB: 22 xx xx xx  	jsl	~~sleep
 26094                        ;
 26095                        ;		pathName = k_string_replace("HD:\\system
                    \\assets\\%BR%\\logo2.bmp","%BR%",boardRelease);
 26096                        	.line	4899
 26097 06:69CF: F4 00 00     	pea	#0
 26098 06:69D2: 18           	clc
 26099 06:69D3: 7B           	tdc
 26100 06:69D4: 69 37 00     	adc	#<L1114+boardRelease_1
 26101 06:69D7: 48           	pha
 26102 06:69D8: F4 xx xx     	pea	#^L1102+71
 26103 06:69DB: F4 xx xx     	pea	#<L1102+71
 26104 06:69DE: F4 xx xx     	pea	#^L1102+38
 26105 06:69E1: F4 xx xx     	pea	#<L1102+38
 26106 06:69E4: 22 xx xx xx  	jsl	~~k_string_replace
 26107 06:69E8: 85 33        	sta	<L1114+pathName_1
 26108 06:69EA: 86 35        	stx	<L1114+pathName_1+2
 26109                        ;		if(pathName)
 26110                        	.line	4900
 26111                        ;		{
 26112 06:69EC: A5 33        	lda	<L1114+pathName_1
 26113 06:69EE: 05 35        	ora	<L1114+pathName_1+2
 26114 06:69F0: D0 03        	bne	L1118
 26115 06:69F2: 82 10 00     	brl	L10459
 26116                        L1118:
 26117                        	.line	4901
 26118                        ;			readBMP(pathName);
 26119                        	.line	4902
 26120 06:69F5: D4 35        	pei	<L1114+pathName_1+2
 26121 06:69F7: D4 33        	pei	<L1114+pathName_1
 26122 06:69F9: 22 27 87 06  	jsl	~~readBMP
 26123                        ;			k_mem_deallocate_heap(pathName);
 26124                        	.line	4903
 26125 06:69FD: D4 35        	pei	<L1114+pathName_1+2
 26126 06:69FF: D4 33        	pei	<L1114+pathName_1
 26127 06:6A01: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 26128                        ;		}
 26129                        	.line	4904
 26130                        ;
 26131                        ;		/*
 26132                        ;		sleep(15000);
 26133                        ;		pathName = k_string_replace("HD:\\system
                    \\assets\\%BR%\\logo3.bmp","%BR%",boardRelease);
 26134                        ;		if(pathName)
  Sat Jul 10 2021  1:15                                                Page 483


 26135                        ;		{
 26136                        ;			readBMP(pathName);
 26137                        ;			k_mem_deallocate_heap(pathName);
 26138                        ;		}
 26139                        ;		sleep(25000);
 26140                        ;
 26141                        ;		pathName = k_string_replace("HD:\\system
                    \\assets\\%BR%\\logo1.bmp","%BR%",boardRelease);
 26142                        ;		if(pathName)
 26143                        ;		{
 26144                        ;			readBMP(pathName);
 26145                        ;			k_mem_deallocate_heap(pathName);
 26146                        ;		}
 26147                        ;		*/
 26148                        ;		r = pPalette[(int) (12 * 4 + 0)];
 26149                        L10459:
 26150                        	.line	4923
 26151 06:6A05: E2 20        	sep	#$20
 26152                        	longa	off
 26153 06:6A07: A0 30 00     	ldy	#$30
 26154 06:6A0A: B7 2F        	lda	[<L1114+pPalette_1],Y
 26155 06:6A0C: 85 10        	sta	<L1114+r_1
 26156 06:6A0E: C2 20        	rep	#$20
 26157                        	longa	on
 26158                        ;		g = pPalette[(int) (12 * 4 + 1)];
 26159                        	.line	4924
 26160 06:6A10: E2 20        	sep	#$20
 26161                        	longa	off
 26162 06:6A12: A0 31 00     	ldy	#$31
 26163 06:6A15: B7 2F        	lda	[<L1114+pPalette_1],Y
 26164 06:6A17: 85 11        	sta	<L1114+g_1
 26165 06:6A19: C2 20        	rep	#$20
 26166                        	longa	on
 26167                        ;		b = pPalette[(int) (12 * 4 + 2)];
 26168                        	.line	4925
 26169 06:6A1B: E2 20        	sep	#$20
 26170                        	longa	off
 26171 06:6A1D: A0 32 00     	ldy	#$32
 26172 06:6A20: B7 2F        	lda	[<L1114+pPalette_1],Y
 26173 06:6A22: 85 12        	sta	<L1114+b_1
 26174 06:6A24: C2 20        	rep	#$20
 26175                        	longa	on
 26176                        ;
 26177                        ;		for(i = 0; i < 10; i++)
 26178                        	.line	4927
 26179 06:6A26: 64 0D        	stz	<L1114+i_1
 26180                        L10462:
 26181                        ;		{
 26182                        	.line	4928
 26183                        ;			for(c = 0;c < 48;c++)
 26184                        	.line	4929
 26185 06:6A28: E2 20        	sep	#$20
 26186                        	longa	off
 26187 06:6A2A: 64 0F        	stz	<L1114+c_1
 26188 06:6A2C: C2 20        	rep	#$20
 26189                        	longa	on
 26190 06:6A2E: 82 EA 00     	brl	L10466
 26191                        L10465:
  Sat Jul 10 2021  1:15                                                Page 484


 26192                        ;			{
 26193                        	.line	4930
 26194                        ;
 26195                        ;				pPalette[(int) (12 * 4 +
                     0)] = (r + c) < 255 ? (r + c) : 255;
 26196                        	.line	4932
 26197 06:6A31: A5 0F        	lda	<L1114+c_1
 26198 06:6A33: 29 FF 00     	and	#$ff
 26199 06:6A36: 85 01        	sta	<R0
 26200 06:6A38: A5 10        	lda	<L1114+r_1
 26201 06:6A3A: 29 FF 00     	and	#$ff
 26202 06:6A3D: 85 05        	sta	<R1
 26203 06:6A3F: 18           	clc
 26204 06:6A40: A5 05        	lda	<R1
 26205 06:6A42: 65 01        	adc	<R0
 26206 06:6A44: 85 09        	sta	<R2
 26207 06:6A46: 38           	sec
 26208 06:6A47: A5 09        	lda	<R2
 26209 06:6A49: E9 FF 00     	sbc	#<$ff
 26210 06:6A4C: 70 03        	bvs	L1120
 26211 06:6A4E: 49 00 80     	eor	#$8000
 26212                        L1120:
 26213 06:6A51: 10 03        	bpl	L1121
 26214 06:6A53: 82 15 00     	brl	L1119
 26215                        L1121:
 26216 06:6A56: A5 0F        	lda	<L1114+c_1
 26217 06:6A58: 29 FF 00     	and	#$ff
 26218 06:6A5B: 85 01        	sta	<R0
 26219 06:6A5D: A5 10        	lda	<L1114+r_1
 26220 06:6A5F: 29 FF 00     	and	#$ff
 26221 06:6A62: 85 05        	sta	<R1
 26222 06:6A64: 18           	clc
 26223 06:6A65: A5 05        	lda	<R1
 26224 06:6A67: 65 01        	adc	<R0
 26225 06:6A69: 80 03        	bra	L1122
 26226                        L1119:
 26227 06:6A6B: A9 FF 00     	lda	#$ff
 26228                        L1122:
 26229 06:6A6E: E2 20        	sep	#$20
 26230                        	longa	off
 26231 06:6A70: A0 30 00     	ldy	#$30
 26232 06:6A73: 97 2F        	sta	[<L1114+pPalette_1],Y
 26233 06:6A75: C2 20        	rep	#$20
 26234                        	longa	on
 26235                        ;				pPalette[(int) (12 * 4 +
                     1)] = (g + c) < 255 ? (g + c) : 255;
 26236                        	.line	4933
 26237 06:6A77: A5 0F        	lda	<L1114+c_1
 26238 06:6A79: 29 FF 00     	and	#$ff
 26239 06:6A7C: 85 01        	sta	<R0
 26240 06:6A7E: A5 11        	lda	<L1114+g_1
 26241 06:6A80: 29 FF 00     	and	#$ff
 26242 06:6A83: 85 05        	sta	<R1
 26243 06:6A85: 18           	clc
 26244 06:6A86: A5 05        	lda	<R1
 26245 06:6A88: 65 01        	adc	<R0
 26246 06:6A8A: 85 09        	sta	<R2
 26247 06:6A8C: 38           	sec
  Sat Jul 10 2021  1:15                                                Page 485


 26248 06:6A8D: A5 09        	lda	<R2
 26249 06:6A8F: E9 FF 00     	sbc	#<$ff
 26250 06:6A92: 70 03        	bvs	L1124
 26251 06:6A94: 49 00 80     	eor	#$8000
 26252                        L1124:
 26253 06:6A97: 10 03        	bpl	L1125
 26254 06:6A99: 82 15 00     	brl	L1123
 26255                        L1125:
 26256 06:6A9C: A5 0F        	lda	<L1114+c_1
 26257 06:6A9E: 29 FF 00     	and	#$ff
 26258 06:6AA1: 85 01        	sta	<R0
 26259 06:6AA3: A5 11        	lda	<L1114+g_1
 26260 06:6AA5: 29 FF 00     	and	#$ff
 26261 06:6AA8: 85 05        	sta	<R1
 26262 06:6AAA: 18           	clc
 26263 06:6AAB: A5 05        	lda	<R1
 26264 06:6AAD: 65 01        	adc	<R0
 26265 06:6AAF: 80 03        	bra	L1126
 26266                        L1123:
 26267 06:6AB1: A9 FF 00     	lda	#$ff
 26268                        L1126:
 26269 06:6AB4: E2 20        	sep	#$20
 26270                        	longa	off
 26271 06:6AB6: A0 31 00     	ldy	#$31
 26272 06:6AB9: 97 2F        	sta	[<L1114+pPalette_1],Y
 26273 06:6ABB: C2 20        	rep	#$20
 26274                        	longa	on
 26275                        ;				pPalette[(int) (12 * 4 +
                     2)] = (b + c) < 255 ? (b + c) : 255;
 26276                        	.line	4934
 26277 06:6ABD: A5 0F        	lda	<L1114+c_1
 26278 06:6ABF: 29 FF 00     	and	#$ff
 26279 06:6AC2: 85 01        	sta	<R0
 26280 06:6AC4: A5 12        	lda	<L1114+b_1
 26281 06:6AC6: 29 FF 00     	and	#$ff
 26282 06:6AC9: 85 05        	sta	<R1
 26283 06:6ACB: 18           	clc
 26284 06:6ACC: A5 05        	lda	<R1
 26285 06:6ACE: 65 01        	adc	<R0
 26286 06:6AD0: 85 09        	sta	<R2
 26287 06:6AD2: 38           	sec
 26288 06:6AD3: A5 09        	lda	<R2
 26289 06:6AD5: E9 FF 00     	sbc	#<$ff
 26290 06:6AD8: 70 03        	bvs	L1128
 26291 06:6ADA: 49 00 80     	eor	#$8000
 26292                        L1128:
 26293 06:6ADD: 10 03        	bpl	L1129
 26294 06:6ADF: 82 15 00     	brl	L1127
 26295                        L1129:
 26296 06:6AE2: A5 0F        	lda	<L1114+c_1
 26297 06:6AE4: 29 FF 00     	and	#$ff
 26298 06:6AE7: 85 01        	sta	<R0
 26299 06:6AE9: A5 12        	lda	<L1114+b_1
 26300 06:6AEB: 29 FF 00     	and	#$ff
 26301 06:6AEE: 85 05        	sta	<R1
 26302 06:6AF0: 18           	clc
 26303 06:6AF1: A5 05        	lda	<R1
 26304 06:6AF3: 65 01        	adc	<R0
  Sat Jul 10 2021  1:15                                                Page 486


 26305 06:6AF5: 80 03        	bra	L1130
 26306                        L1127:
 26307 06:6AF7: A9 FF 00     	lda	#$ff
 26308                        L1130:
 26309 06:6AFA: E2 20        	sep	#$20
 26310                        	longa	off
 26311 06:6AFC: A0 32 00     	ldy	#$32
 26312 06:6AFF: 97 2F        	sta	[<L1114+pPalette_1],Y
 26313 06:6B01: C2 20        	rep	#$20
 26314                        	longa	on
 26315                        ;				pPalette[(int) (12 * 4 +
                     3)] = 0x80;
 26316                        	.line	4935
 26317 06:6B03: E2 20        	sep	#$20
 26318                        	longa	off
 26319 06:6B05: A9 80        	lda	#$80
 26320 06:6B07: A0 33 00     	ldy	#$33
 26321 06:6B0A: 97 2F        	sta	[<L1114+pPalette_1],Y
 26322 06:6B0C: C2 20        	rep	#$20
 26323                        	longa	on
 26324                        ;				k_delay(15);
 26325                        	.line	4936
 26326 06:6B0E: F4 0F 00     	pea	#<$f
 26327 06:6B11: 22 xx xx xx  	jsl	~~k_delay
 26328                        ;
 26329                        ;			}
 26330                        	.line	4938
 26331                        L10463:
 26332 06:6B15: E2 20        	sep	#$20
 26333                        	longa	off
 26334 06:6B17: E6 0F        	inc	<L1114+c_1
 26335 06:6B19: C2 20        	rep	#$20
 26336                        	longa	on
 26337                        L10466:
 26338 06:6B1B: E2 20        	sep	#$20
 26339                        	longa	off
 26340 06:6B1D: A5 0F        	lda	<L1114+c_1
 26341 06:6B1F: C9 30        	cmp	#<$30
 26342 06:6B21: C2 20        	rep	#$20
 26343                        	longa	on
 26344 06:6B23: B0 03        	bcs	L1131
 26345 06:6B25: 82 09 FF     	brl	L10465
 26346                        L1131:
 26347                        L10464:
 26348                        ;			for(c = 48;c > 0;c--)
 26349                        	.line	4939
 26350 06:6B28: E2 20        	sep	#$20
 26351                        	longa	off
 26352 06:6B2A: A9 30        	lda	#$30
 26353 06:6B2C: 85 0F        	sta	<L1114+c_1
 26354 06:6B2E: C2 20        	rep	#$20
 26355                        	longa	on
 26356 06:6B30: 82 EA 00     	brl	L10470
 26357                        L10469:
 26358                        ;			{
 26359                        	.line	4940
 26360                        ;
 26361                        ;				pPalette[(int) (12 * 4 +
  Sat Jul 10 2021  1:15                                                Page 487


                     0)] = (r + c) < 255 ? (r + c) : 255;
 26362                        	.line	4942
 26363 06:6B33: A5 0F        	lda	<L1114+c_1
 26364 06:6B35: 29 FF 00     	and	#$ff
 26365 06:6B38: 85 01        	sta	<R0
 26366 06:6B3A: A5 10        	lda	<L1114+r_1
 26367 06:6B3C: 29 FF 00     	and	#$ff
 26368 06:6B3F: 85 05        	sta	<R1
 26369 06:6B41: 18           	clc
 26370 06:6B42: A5 05        	lda	<R1
 26371 06:6B44: 65 01        	adc	<R0
 26372 06:6B46: 85 09        	sta	<R2
 26373 06:6B48: 38           	sec
 26374 06:6B49: A5 09        	lda	<R2
 26375 06:6B4B: E9 FF 00     	sbc	#<$ff
 26376 06:6B4E: 70 03        	bvs	L1133
 26377 06:6B50: 49 00 80     	eor	#$8000
 26378                        L1133:
 26379 06:6B53: 10 03        	bpl	L1134
 26380 06:6B55: 82 15 00     	brl	L1132
 26381                        L1134:
 26382 06:6B58: A5 0F        	lda	<L1114+c_1
 26383 06:6B5A: 29 FF 00     	and	#$ff
 26384 06:6B5D: 85 01        	sta	<R0
 26385 06:6B5F: A5 10        	lda	<L1114+r_1
 26386 06:6B61: 29 FF 00     	and	#$ff
 26387 06:6B64: 85 05        	sta	<R1
 26388 06:6B66: 18           	clc
 26389 06:6B67: A5 05        	lda	<R1
 26390 06:6B69: 65 01        	adc	<R0
 26391 06:6B6B: 80 03        	bra	L1135
 26392                        L1132:
 26393 06:6B6D: A9 FF 00     	lda	#$ff
 26394                        L1135:
 26395 06:6B70: E2 20        	sep	#$20
 26396                        	longa	off
 26397 06:6B72: A0 30 00     	ldy	#$30
 26398 06:6B75: 97 2F        	sta	[<L1114+pPalette_1],Y
 26399 06:6B77: C2 20        	rep	#$20
 26400                        	longa	on
 26401                        ;				pPalette[(int) (12 * 4 +
                     1)] = (g + c) < 255 ? (g + c) : 255;
 26402                        	.line	4943
 26403 06:6B79: A5 0F        	lda	<L1114+c_1
 26404 06:6B7B: 29 FF 00     	and	#$ff
 26405 06:6B7E: 85 01        	sta	<R0
 26406 06:6B80: A5 11        	lda	<L1114+g_1
 26407 06:6B82: 29 FF 00     	and	#$ff
 26408 06:6B85: 85 05        	sta	<R1
 26409 06:6B87: 18           	clc
 26410 06:6B88: A5 05        	lda	<R1
 26411 06:6B8A: 65 01        	adc	<R0
 26412 06:6B8C: 85 09        	sta	<R2
 26413 06:6B8E: 38           	sec
 26414 06:6B8F: A5 09        	lda	<R2
 26415 06:6B91: E9 FF 00     	sbc	#<$ff
 26416 06:6B94: 70 03        	bvs	L1137
 26417 06:6B96: 49 00 80     	eor	#$8000
  Sat Jul 10 2021  1:15                                                Page 488


 26418                        L1137:
 26419 06:6B99: 10 03        	bpl	L1138
 26420 06:6B9B: 82 15 00     	brl	L1136
 26421                        L1138:
 26422 06:6B9E: A5 0F        	lda	<L1114+c_1
 26423 06:6BA0: 29 FF 00     	and	#$ff
 26424 06:6BA3: 85 01        	sta	<R0
 26425 06:6BA5: A5 11        	lda	<L1114+g_1
 26426 06:6BA7: 29 FF 00     	and	#$ff
 26427 06:6BAA: 85 05        	sta	<R1
 26428 06:6BAC: 18           	clc
 26429 06:6BAD: A5 05        	lda	<R1
 26430 06:6BAF: 65 01        	adc	<R0
 26431 06:6BB1: 80 03        	bra	L1139
 26432                        L1136:
 26433 06:6BB3: A9 FF 00     	lda	#$ff
 26434                        L1139:
 26435 06:6BB6: E2 20        	sep	#$20
 26436                        	longa	off
 26437 06:6BB8: A0 31 00     	ldy	#$31
 26438 06:6BBB: 97 2F        	sta	[<L1114+pPalette_1],Y
 26439 06:6BBD: C2 20        	rep	#$20
 26440                        	longa	on
 26441                        ;				pPalette[(int) (12 * 4 +
                     2)] = (b + c) < 255 ? (b + c) : 255;
 26442                        	.line	4944
 26443 06:6BBF: A5 0F        	lda	<L1114+c_1
 26444 06:6BC1: 29 FF 00     	and	#$ff
 26445 06:6BC4: 85 01        	sta	<R0
 26446 06:6BC6: A5 12        	lda	<L1114+b_1
 26447 06:6BC8: 29 FF 00     	and	#$ff
 26448 06:6BCB: 85 05        	sta	<R1
 26449 06:6BCD: 18           	clc
 26450 06:6BCE: A5 05        	lda	<R1
 26451 06:6BD0: 65 01        	adc	<R0
 26452 06:6BD2: 85 09        	sta	<R2
 26453 06:6BD4: 38           	sec
 26454 06:6BD5: A5 09        	lda	<R2
 26455 06:6BD7: E9 FF 00     	sbc	#<$ff
 26456 06:6BDA: 70 03        	bvs	L1141
 26457 06:6BDC: 49 00 80     	eor	#$8000
 26458                        L1141:
 26459 06:6BDF: 10 03        	bpl	L1142
 26460 06:6BE1: 82 15 00     	brl	L1140
 26461                        L1142:
 26462 06:6BE4: A5 0F        	lda	<L1114+c_1
 26463 06:6BE6: 29 FF 00     	and	#$ff
 26464 06:6BE9: 85 01        	sta	<R0
 26465 06:6BEB: A5 12        	lda	<L1114+b_1
 26466 06:6BED: 29 FF 00     	and	#$ff
 26467 06:6BF0: 85 05        	sta	<R1
 26468 06:6BF2: 18           	clc
 26469 06:6BF3: A5 05        	lda	<R1
 26470 06:6BF5: 65 01        	adc	<R0
 26471 06:6BF7: 80 03        	bra	L1143
 26472                        L1140:
 26473 06:6BF9: A9 FF 00     	lda	#$ff
 26474                        L1143:
  Sat Jul 10 2021  1:15                                                Page 489


 26475 06:6BFC: E2 20        	sep	#$20
 26476                        	longa	off
 26477 06:6BFE: A0 32 00     	ldy	#$32
 26478 06:6C01: 97 2F        	sta	[<L1114+pPalette_1],Y
 26479 06:6C03: C2 20        	rep	#$20
 26480                        	longa	on
 26481                        ;				pPalette[(int) (12 * 4 +
                     3)] = 0x80;//(c >> 2);//R
 26482                        	.line	4945
 26483 06:6C05: E2 20        	sep	#$20
 26484                        	longa	off
 26485 06:6C07: A9 80        	lda	#$80
 26486 06:6C09: A0 33 00     	ldy	#$33
 26487 06:6C0C: 97 2F        	sta	[<L1114+pPalette_1],Y
 26488 06:6C0E: C2 20        	rep	#$20
 26489                        	longa	on
 26490                        ;				k_delay(15);
 26491                        	.line	4946
 26492 06:6C10: F4 0F 00     	pea	#<$f
 26493 06:6C13: 22 xx xx xx  	jsl	~~k_delay
 26494                        ;			}
 26495                        	.line	4947
 26496                        L10467:
 26497 06:6C17: E2 20        	sep	#$20
 26498                        	longa	off
 26499 06:6C19: C6 0F        	dec	<L1114+c_1
 26500 06:6C1B: C2 20        	rep	#$20
 26501                        	longa	on
 26502                        L10470:
 26503 06:6C1D: E2 20        	sep	#$20
 26504                        	longa	off
 26505 06:6C1F: A9 00        	lda	#$0
 26506 06:6C21: C5 0F        	cmp	<L1114+c_1
 26507 06:6C23: C2 20        	rep	#$20
 26508                        	longa	on
 26509 06:6C25: B0 03        	bcs	L1144
 26510 06:6C27: 82 09 FF     	brl	L10469
 26511                        L1144:
 26512                        L10468:
 26513                        ;		}
 26514                        	.line	4948
 26515                        L10460:
 26516 06:6C2A: E6 0D        	inc	<L1114+i_1
 26517 06:6C2C: 38           	sec
 26518 06:6C2D: A5 0D        	lda	<L1114+i_1
 26519 06:6C2F: E9 0A 00     	sbc	#<$a
 26520 06:6C32: 70 03        	bvs	L1145
 26521 06:6C34: 49 00 80     	eor	#$8000
 26522                        L1145:
 26523 06:6C37: 30 03        	bmi	L1146
 26524 06:6C39: 82 EC FD     	brl	L10462
 26525                        L1146:
 26526                        L10461:
 26527                        ;
 26528                        ;
 26529                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _FRONT);
 26530                        	.line	4951
  Sat Jul 10 2021  1:15                                                Page 490


 26531 06:6C3C: F4 00 00     	pea	#<$0
 26532 06:6C3F: F4 00 00     	pea	#<$0
 26533 06:6C42: F4 E0 01     	pea	#<$1e0
 26534 06:6C45: F4 80 02     	pea	#<$280
 26535 06:6C48: F4 00 00     	pea	#^$0
 26536 06:6C4B: F4 00 00     	pea	#<$0
 26537 06:6C4E: F4 00 00     	pea	#^$0
 26538 06:6C51: F4 00 00     	pea	#<$0
 26539 06:6C54: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 26540                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _BACK);
 26541                        	.line	4952
 26542 06:6C58: F4 08 00     	pea	#<$8
 26543 06:6C5B: F4 00 00     	pea	#<$0
 26544 06:6C5E: F4 E0 01     	pea	#<$1e0
 26545 06:6C61: F4 80 02     	pea	#<$280
 26546 06:6C64: F4 00 00     	pea	#^$0
 26547 06:6C67: F4 00 00     	pea	#<$0
 26548 06:6C6A: F4 00 00     	pea	#^$0
 26549 06:6C6D: F4 00 00     	pea	#<$0
 26550 06:6C70: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 26551                        ;	}
 26552                        	.line	4953
 26553                        ;
 26554                        ;	return;
 26555                        L10458:
 26556                        	.line	4955
 26557                        L1147:
 26558 06:6C74: A5 3B        	lda	<L1113+2
 26559 06:6C76: 85 3D        	sta	<L1113+2+2
 26560 06:6C78: A5 3A        	lda	<L1113+1
 26561 06:6C7A: 85 3C        	sta	<L1113+1+2
 26562 06:6C7C: 2B           	pld
 26563 06:6C7D: 3B           	tsc
 26564 06:6C7E: 18           	clc
 26565 06:6C7F: 69 3B 00     	adc	#L1113+2
 26566 06:6C82: 1B           	tcs
 26567 06:6C83: 6B           	rtl
 26568                        ;}
 26569                        	.line	4956
 26570                        	.endblock	4956
 26571             00000039   L1113	equ	57
 26572             0000000D   L1114	equ	13
 26573 06:6C84:              	ends
 26574                        	efunc
 26575                        	.endfunc	4956,13,57
 26576                        	.line	4956
 26577                        	data
 26578                        L1102:
 26579 00:0B72: 48 44 3A 5C  	db	$48,$44,$3A,$5C,$73,$79,$73,$74,$65,$6D,
                    $5C,$61,$73,$73,$65
       00:0B76: 73 79 73 74 
       00:0B7A: 65 6D 5C 61 
       00:0B7E: 73 73 65 
 26580 00:0B81: 74 73 5C 25  	db	$74,$73,$5C,$25,$42,$52,$25,$5C,$6C,$6F,
                    $67,$6F,$31,$2E,$62
       00:0B85: 42 52 25 5C 
       00:0B89: 6C 6F 67 6F 
  Sat Jul 10 2021  1:15                                                Page 491


       00:0B8D: 31 2E 62 
 26581 00:0B90: 6D 70 00 25  	db	$6D,$70,$00,$25,$42,$52,$25,$00,$48,$44,
                    $3A,$5C,$73,$79,$73
       00:0B94: 42 52 25 00 
       00:0B98: 48 44 3A 5C 
       00:0B9C: 73 79 73 
 26582 00:0B9F: 74 65 6D 5C  	db	$74,$65,$6D,$5C,$61,$73,$73,$65,$74,$73,
                    $5C,$25,$42,$52,$25
       00:0BA3: 61 73 73 65 
       00:0BA7: 74 73 5C 25 
       00:0BAB: 42 52 25 
 26583 00:0BAE: 5C 6C 6F 67  	db	$5C,$6C,$6F,$67,$6F,$32,$2E,$62,$6D,$70,
                    $00,$25,$42,$52,$25
       00:0BB2: 6F 32 2E 62 
       00:0BB6: 6D 70 00 25 
       00:0BBA: 42 52 25 
 26584 00:0BBD: 00           	db	$00
 26585 00:0BBE:              	ends
 26586                        ;
 26587                        ;
 26588                        ;
 26589                        ;/*
 26590                        ;void k_add_window_hit_node(PCLICKDETECTED pcd)
 26591                        ;{
 26592                        ;	k_debug_pointer("k_add_window_hit_node:",pcd);
 26593                        ;	k_nodelist_add(_k_WindowHit_nodes,k_nodelist_cre
                    ate(1,"window",pcd,NULL,NULL));
 26594                        ;}
 26595                        ;
 26596                        ;
 26597                        ;int k_point_in_list_depth(int x,int y,PCLICKABLE 
                    clickableList,int cSize)
 26598                        ;{
 26599                        ;	int i = 0;
 26600                        ;	int index = -1;
 26601                        ;	int found = 0;
 26602                        ;	PCLICKABLE top = NULL;
 26603                        ;	RECT r;
 26604                        ;
 26605                        ;	for(i=0;i<cSize;i++)
 26606                        ;	{
 26607                        ;		hitList[i] = NULL;
 26608                        ;		r = clickableList[i].area;
 26609                        ;		if(x >=r.x && x<(r.x+r.width))
 26610                        ;		{
 26611                        ;			if(y >=r.y && y<(r.y+r.height))
 26612                        ;			{
 26613                        ;				index = i;
 26614                        ;				//clickableList[i].depth
                     = 1;
 26615                        ;				hitList[i] = &clickableL
                    ist[i];
 26616                        ;				found++;
 26617                        ;			}
 26618                        ;		}
 26619                        ;	}
 26620                        ;
 26621                        ;	if(found > 0)
  Sat Jul 10 2021  1:15                                                Page 492


 26622                        ;	{
 26623                        ;		top = hitList[0];
 26624                        ;		for(i=0;i<cSize;i++)
 26625                        ;		{
 26626                        ;			if(hitList[i]!=NULL && hitList[i
                    ]->depth < top->depth)
 26627                        ;			{
 26628                        ;				top->depth = 1;
 26629                        ;				top = hitList[i];
 26630                        ;				top->depth = 0;
 26631                        ;				index = i;
 26632                        ;			}
 26633                        ;		}
 26634                        ;	}
 26635                        ;	else
 26636                        ;	{
 26637                        ;		clickableList[index].depth = 0;
 26638                        ;	}
 26639                        ;
 26640                        ;	return index;
 26641                        ;}
 26642                        ;*/
 26643                        ;
 26644                        ;/*
 26645                        ;PFXNODE k_point_in_nodes(int x,int y)
 26646                        ;{
 26647                        ;	PFXNODE found = NULL;
 26648                        ;	LPCHAR ctx = "";
 26649                        ;	PFXNODE ptr = NULL;
 26650                        ;
 26651                        ;	RECT r;
 26652                        ;	int i = 0;
 26653                        ;	int index = -1;
 26654                        ;
 26655                        ;	//k_debug_string("k_point_in_nodes\r\n");
 26656                        ;
 26657                        ;	if(_k_WindowHit_nodes!=NULL)
 26658                        ;	{
 26659                        ;		ptr = _k_WindowHit_nodes->next;
 26660                        ;		while(ptr!=NULL)
 26661                        ;		{
 26662                        ;			//k_debug_pointer("FOUND HIT ITE
                    M:",ptr);
 26663                        ;			r = ((PCLICKABLE)((PCLICKDETECTE
                    D)ptr->data)->window->clickable)->area;
 26664                        ;			if(x >=r.x && x<(r.x+r.width))
 26665                        ;			{
 26666                        ;				if(y >=r.y && y<(r.y+r.h
                    eight))
 26667                        ;				{
 26668                        ;					found = ptr;
 26669                        ;					break;
 26670                        ;				}
 26671                        ;			}
 26672                        ;			ptr = ptr->next;
 26673                        ;		}
 26674                        ;	}
 26675                        ;
  Sat Jul 10 2021  1:15                                                Page 493


 26676                        ;	return found;
 26677                        ;}
 26678                        ;
 26679                        ;int k_point_in_list(int x,int y,PCLICKABLE clicka
                    bleList,int cSize)
 26680                        ;{
 26681                        ;	RECT r;
 26682                        ;	int i = 0;
 26683                        ;	int index = -1;
 26684                        ;
 26685                        ;	for(i=0;i<cSize;i++)
 26686                        ;	{
 26687                        ;		r = clickableList[i].area;
 26688                        ;		if(x >=r.x && x<(r.x+r.width))
 26689                        ;		{
 26690                        ;			if(y >=r.y && y<(r.y+r.height))
 26691                        ;			{
 26692                        ;				index = i;
 26693                        ;				//clickableList[i].depth
                     = 1;
 26694                        ;				break;
 26695                        ;			}
 26696                        ;		}
 26697                        ;	}
 26698                        ;
 26699                        ;	return index;
 26700                        ;}
 26701                        ;*/
 26702                        ;PMENU k_create_context_menus(PWINDOW pWin,int cx,
                    int cy,int width,int height,PMENUDROPDOWNDATA menus,int colo
                    r, int bgcolor)
 26703                        ;{
 26704                        	.line	5073
 26705                        	.line	5074
 26706                        	GFX
 26707                        	xdef	~~k_create_context_menus
 26708                        	func
 26709                        	.function	5074
 26710                        ~~k_create_context_menus:
 26711                        	longa	on
 26712                        	longi	on
 26713 06:6C84: 3B           	tsc
 26714 06:6C85: 38           	sec
 26715 06:6C86: E9 2C 00     	sbc	#L1149
 26716 06:6C89: 1B           	tcs
 26717 06:6C8A: 0B           	phd
 26718 06:6C8B: 5B           	tcd
 26719             00000004   pWin_0	set	4
 26720             00000008   cx_0	set	8
 26721             0000000A   cy_0	set	10
 26722             0000000C   width_0	set	12
 26723             0000000E   height_0	set	14
 26724             00000010   menus_0	set	16
 26725             00000014   color_0	set	20
 26726             00000016   bgcolor_0	set	22
 26727                        	.block	5074
 26728                        ;	FONTMETRIC metric;
 26729                        ;
  Sat Jul 10 2021  1:15                                                Page 494


 26730                        ;	int i = 0;
 26731                        ;	int hy = 0;
 26732                        ;	LPCSTR caption = NULL;
 26733                        ;
 26734                        ;	int borderTitle = 10;
 26735                        ;	int borderWidth = 3;
 26736                        ;
 26737                        ;	int titleOffsetX = cx+4;
 26738                        ;	int titleOffsetY = cy+2;
 26739                        ;	int titleScaler = 0;
 26740                        ;
 26741                        ;	int clientOffsetX = cx+borderWidth+2;
 26742                        ;	int clientOffsetY = cy+borderTitle+1;
 26743                        ;
 26744                        ;	int endX = width + cx - borderWidth;
 26745                        ;
 26746                        ;
 26747                        ;	k_debug_string("k_create_context_menu:fill\r\n")
                    ;
 26748             00000000   metric_1	set	0
 26749             00000004   i_1	set	4
 26750             00000006   hy_1	set	6
 26751             00000008   caption_1	set	8
 26752             0000000C   borderTitle_1	set	12
 26753             0000000E   borderWidth_1	set	14
 26754             00000010   titleOffsetX_1	set	16
 26755             00000012   titleOffsetY_1	set	18
 26756             00000014   titleScaler_1	set	20
 26757             00000016   clientOffsetX_1	set	22
 26758             00000018   clientOffsetY_1	set	24
 26759             0000001A   endX_1	set	26
 26760                        	.sym	metric,0,10,1,32,35
 26761                        	.sym	i,4,5,1,16
 26762                        	.sym	hy,6,5,1,16
 26763                        	.sym	caption,8,142,1,32
 26764                        	.sym	borderTitle,12,5,1,16
 26765                        	.sym	borderWidth,14,5,1,16
 26766                        	.sym	titleOffsetX,16,5,1,16
 26767                        	.sym	titleOffsetY,18,5,1,16
 26768                        	.sym	titleScaler,20,5,1,16
 26769                        	.sym	clientOffsetX,22,5,1,16
 26770                        	.sym	clientOffsetY,24,5,1,16
 26771                        	.sym	endX,26,5,1,16
 26772                        	.sym	pWin,4,138,6,32,33
 26773                        	.sym	cx,8,5,6,16
 26774                        	.sym	cy,10,5,6,16
 26775                        	.sym	width,12,5,6,16
 26776                        	.sym	height,14,5,6,16
 26777                        	.sym	menus,16,138,6,32,38
 26778                        	.sym	color,20,5,6,16
 26779                        	.sym	bgcolor,22,5,6,16
 26780 06:6C8C: 64 15        	stz	<L1150+i_1
 26781 06:6C8E: 64 17        	stz	<L1150+hy_1
 26782 06:6C90: 64 19        	stz	<L1150+caption_1
 26783 06:6C92: 64 1B        	stz	<L1150+caption_1+2
 26784 06:6C94: A9 0A 00     	lda	#$a
 26785 06:6C97: 85 1D        	sta	<L1150+borderTitle_1
 26786 06:6C99: A9 03 00     	lda	#$3
  Sat Jul 10 2021  1:15                                                Page 495


 26787 06:6C9C: 85 1F        	sta	<L1150+borderWidth_1
 26788 06:6C9E: 18           	clc
 26789 06:6C9F: A9 04 00     	lda	#$4
 26790 06:6CA2: 65 34        	adc	<L1149+cx_0
 26791 06:6CA4: 85 21        	sta	<L1150+titleOffsetX_1
 26792 06:6CA6: 18           	clc
 26793 06:6CA7: A9 02 00     	lda	#$2
 26794 06:6CAA: 65 36        	adc	<L1149+cy_0
 26795 06:6CAC: 85 23        	sta	<L1150+titleOffsetY_1
 26796 06:6CAE: 64 25        	stz	<L1150+titleScaler_1
 26797 06:6CB0: 18           	clc
 26798 06:6CB1: A5 34        	lda	<L1149+cx_0
 26799 06:6CB3: 65 1F        	adc	<L1150+borderWidth_1
 26800 06:6CB5: 85 01        	sta	<R0
 26801 06:6CB7: 18           	clc
 26802 06:6CB8: A9 02 00     	lda	#$2
 26803 06:6CBB: 65 01        	adc	<R0
 26804 06:6CBD: 85 27        	sta	<L1150+clientOffsetX_1
 26805 06:6CBF: 18           	clc
 26806 06:6CC0: A5 36        	lda	<L1149+cy_0
 26807 06:6CC2: 65 1D        	adc	<L1150+borderTitle_1
 26808 06:6CC4: 85 01        	sta	<R0
 26809 06:6CC6: A5 01        	lda	<R0
 26810 06:6CC8: 1A           	ina
 26811 06:6CC9: 85 29        	sta	<L1150+clientOffsetY_1
 26812 06:6CCB: 18           	clc
 26813 06:6CCC: A5 38        	lda	<L1149+width_0
 26814 06:6CCE: 65 34        	adc	<L1149+cx_0
 26815 06:6CD0: 85 01        	sta	<R0
 26816 06:6CD2: 38           	sec
 26817 06:6CD3: A5 01        	lda	<R0
 26818 06:6CD5: E5 1F        	sbc	<L1150+borderWidth_1
 26819 06:6CD7: 85 2B        	sta	<L1150+endX_1
 26820                        	.line	5094
 26821 06:6CD9: F4 xx xx     	pea	#^L1148
 26822 06:6CDC: F4 xx xx     	pea	#<L1148
 26823 06:6CDF: 22 xx xx xx  	jsl	~~k_debug_string
 26824                        ;
 26825                        ;	k_scratch_save_bitblt(cx,cy, width, height, 0, 0
                    );
 26826                        	.line	5096
 26827 06:6CE3: F4 00 00     	pea	#<$0
 26828 06:6CE6: F4 00 00     	pea	#<$0
 26829 06:6CE9: D4 3A        	pei	<L1149+height_0
 26830 06:6CEB: D4 38        	pei	<L1149+width_0
 26831 06:6CED: D4 36        	pei	<L1149+cy_0
 26832 06:6CEF: D4 34        	pei	<L1149+cx_0
 26833 06:6CF1: 22 7F 7E 06  	jsl	~~k_scratch_save_bitblt
 26834                        ;
 26835                        ;	//k_vdma_fill_rect(cx,cy,width,height,0);
 26836                        ;	//k_vdma_fill_rect(cx+2,cy,width-2,height-2,bgco
                    lor);
 26837                        ;	//k_vdma_fill_rect(cx+1,cy+1,width -1 ,height - 
                    1,bgcolor);
 26838                        ;	k_vdma_fill_rect(cx,cy,width,height,bgcolor);
 26839                        	.line	5101
 26840 06:6CF5: D4 42        	pei	<L1149+bgcolor_0
 26841 06:6CF7: D4 3A        	pei	<L1149+height_0
  Sat Jul 10 2021  1:15                                                Page 496


 26842 06:6CF9: D4 38        	pei	<L1149+width_0
 26843 06:6CFB: A0 00 00     	ldy	#$0
 26844 06:6CFE: A5 36        	lda	<L1149+cy_0
 26845 06:6D00: 10 01        	bpl	L1152
 26846 06:6D02: 88           	dey
 26847                        L1152:
 26848 06:6D03: 85 01        	sta	<R0
 26849 06:6D05: 84 03        	sty	<R0+2
 26850 06:6D07: D4 03        	pei	<R0+2
 26851 06:6D09: D4 01        	pei	<R0
 26852 06:6D0B: A0 00 00     	ldy	#$0
 26853 06:6D0E: A5 34        	lda	<L1149+cx_0
 26854 06:6D10: 10 01        	bpl	L1153
 26855 06:6D12: 88           	dey
 26856                        L1153:
 26857 06:6D13: 85 05        	sta	<R1
 26858 06:6D15: 84 07        	sty	<R1+2
 26859 06:6D17: D4 07        	pei	<R1+2
 26860 06:6D19: D4 05        	pei	<R1
 26861 06:6D1B: 22 BA 5F 06  	jsl	~~k_vdma_fill_rect
 26862                        ;
 26863                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 26864                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 26865                        ;	i = 0;
 26866                        	.line	5105
 26867 06:6D1F: 64 15        	stz	<L1150+i_1
 26868                        ;	caption = menus->captions[i];
 26869                        	.line	5106
 26870 06:6D21: A0 00 00     	ldy	#$0
 26871 06:6D24: A5 15        	lda	<L1150+i_1
 26872 06:6D26: 10 01        	bpl	L1154
 26873 06:6D28: 88           	dey
 26874                        L1154:
 26875 06:6D29: 85 05        	sta	<R1
 26876 06:6D2B: 84 07        	sty	<R1+2
 26877 06:6D2D: D4 07        	pei	<R1+2
 26878 06:6D2F: D4 05        	pei	<R1
 26879 06:6D31: A9 02 00     	lda	#$2
 26880                        	xref	~~~lasl
 26881 06:6D34: 22 xx xx xx  	jsl	~~~lasl
 26882 06:6D38: 85 01        	sta	<R0
 26883 06:6D3A: 86 03        	stx	<R0+2
 26884 06:6D3C: 18           	clc
 26885 06:6D3D: A9 12 00     	lda	#$12
 26886 06:6D40: 65 3C        	adc	<L1149+menus_0
 26887 06:6D42: 85 09        	sta	<R2
 26888 06:6D44: A9 00 00     	lda	#$0
 26889 06:6D47: 65 3E        	adc	<L1149+menus_0+2
 26890 06:6D49: 85 0B        	sta	<R2+2
 26891 06:6D4B: 18           	clc
 26892 06:6D4C: A5 09        	lda	<R2
 26893 06:6D4E: 65 01        	adc	<R0
 26894 06:6D50: 85 0D        	sta	<R3
 26895 06:6D52: A5 0B        	lda	<R2+2
 26896 06:6D54: 65 03        	adc	<R0+2
 26897 06:6D56: 85 0F        	sta	<R3+2
  Sat Jul 10 2021  1:15                                                Page 497


 26898 06:6D58: A7 0D        	lda	[<R3]
 26899 06:6D5A: 85 19        	sta	<L1150+caption_1
 26900 06:6D5C: A0 02 00     	ldy	#$2
 26901 06:6D5F: B7 0D        	lda	[<R3],Y
 26902 06:6D61: 85 1B        	sta	<L1150+caption_1+2
 26903                        ;	while(caption!=NULL)
 26904                        	.line	5107
 26905                        L10471:
 26906 06:6D63: A5 19        	lda	<L1150+caption_1
 26907 06:6D65: 05 1B        	ora	<L1150+caption_1+2
 26908 06:6D67: D0 03        	bne	L1155
 26909 06:6D69: 82 7A 00     	brl	L10472
 26910                        L1155:
 26911                        ;	{
 26912                        	.line	5108
 26913                        ;		k_debug_strings("k_create_context_menu:c
                    aption:",(LPCHAR)caption);
 26914                        	.line	5109
 26915 06:6D6C: D4 1B        	pei	<L1150+caption_1+2
 26916 06:6D6E: D4 19        	pei	<L1150+caption_1
 26917 06:6D70: F4 xx xx     	pea	#^L1148+29
 26918 06:6D73: F4 xx xx     	pea	#<L1148+29
 26919 06:6D76: 22 xx xx xx  	jsl	~~k_debug_strings
 26920                        ;
 26921                        ;		//caption = strupr(caption);
 26922                        ;		hy = k_draw_text_point(caption,titleOffs
                    etX,titleOffsetY,color);
 26923                        	.line	5112
 26924 06:6D7A: D4 40        	pei	<L1149+color_0
 26925 06:6D7C: D4 23        	pei	<L1150+titleOffsetY_1
 26926 06:6D7E: D4 21        	pei	<L1150+titleOffsetX_1
 26927 06:6D80: D4 1B        	pei	<L1150+caption_1+2
 26928 06:6D82: D4 19        	pei	<L1150+caption_1
 26929 06:6D84: 22 DB 1F 06  	jsl	~~k_draw_text_point
 26930 06:6D88: 85 17        	sta	<L1150+hy_1
 26931                        ;		titleOffsetY+=(FONTH + 2);
 26932                        	.line	5113
 26933 06:6D8A: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 26934 06:6D8E: 85 01        	sta	<R0
 26935 06:6D90: 18           	clc
 26936 06:6D91: A5 01        	lda	<R0
 26937 06:6D93: 65 23        	adc	<L1150+titleOffsetY_1
 26938 06:6D95: 85 05        	sta	<R1
 26939 06:6D97: 18           	clc
 26940 06:6D98: A9 02 00     	lda	#$2
 26941 06:6D9B: 65 05        	adc	<R1
 26942 06:6D9D: 85 23        	sta	<L1150+titleOffsetY_1
 26943                        ;		i++;
 26944                        	.line	5114
 26945 06:6D9F: E6 15        	inc	<L1150+i_1
 26946                        ;		caption = menus->captions[i];
 26947                        	.line	5115
 26948 06:6DA1: A0 00 00     	ldy	#$0
 26949 06:6DA4: A5 15        	lda	<L1150+i_1
 26950 06:6DA6: 10 01        	bpl	L1156
 26951 06:6DA8: 88           	dey
 26952                        L1156:
 26953 06:6DA9: 85 05        	sta	<R1
  Sat Jul 10 2021  1:15                                                Page 498


 26954 06:6DAB: 84 07        	sty	<R1+2
 26955 06:6DAD: D4 07        	pei	<R1+2
 26956 06:6DAF: D4 05        	pei	<R1
 26957 06:6DB1: A9 02 00     	lda	#$2
 26958                        	xref	~~~lasl
 26959 06:6DB4: 22 xx xx xx  	jsl	~~~lasl
 26960 06:6DB8: 85 01        	sta	<R0
 26961 06:6DBA: 86 03        	stx	<R0+2
 26962 06:6DBC: 18           	clc
 26963 06:6DBD: A9 12 00     	lda	#$12
 26964 06:6DC0: 65 3C        	adc	<L1149+menus_0
 26965 06:6DC2: 85 09        	sta	<R2
 26966 06:6DC4: A9 00 00     	lda	#$0
 26967 06:6DC7: 65 3E        	adc	<L1149+menus_0+2
 26968 06:6DC9: 85 0B        	sta	<R2+2
 26969 06:6DCB: 18           	clc
 26970 06:6DCC: A5 09        	lda	<R2
 26971 06:6DCE: 65 01        	adc	<R0
 26972 06:6DD0: 85 0D        	sta	<R3
 26973 06:6DD2: A5 0B        	lda	<R2+2
 26974 06:6DD4: 65 03        	adc	<R0+2
 26975 06:6DD6: 85 0F        	sta	<R3+2
 26976 06:6DD8: A7 0D        	lda	[<R3]
 26977 06:6DDA: 85 19        	sta	<L1150+caption_1
 26978 06:6DDC: A0 02 00     	ldy	#$2
 26979 06:6DDF: B7 0D        	lda	[<R3],Y
 26980 06:6DE1: 85 1B        	sta	<L1150+caption_1+2
 26981                        ;	}
 26982                        	.line	5116
 26983 06:6DE3: 82 7D FF     	brl	L10471
 26984                        L10472:
 26985                        ;
 26986                        ;	return NULL;
 26987                        	.line	5118
 26988 06:6DE6: A9 00 00     	lda	#$0
 26989 06:6DE9: AA           	tax
 26990 06:6DEA: A9 00 00     	lda	#$0
 26991                        L1157:
 26992 06:6DED: A8           	tay
 26993 06:6DEE: A5 2E        	lda	<L1149+2
 26994 06:6DF0: 85 42        	sta	<L1149+2+20
 26995 06:6DF2: A5 2D        	lda	<L1149+1
 26996 06:6DF4: 85 41        	sta	<L1149+1+20
 26997 06:6DF6: 2B           	pld
 26998 06:6DF7: 3B           	tsc
 26999 06:6DF8: 18           	clc
 27000 06:6DF9: 69 40 00     	adc	#L1149+20
 27001 06:6DFC: 1B           	tcs
 27002 06:6DFD: 98           	tya
 27003 06:6DFE: 6B           	rtl
 27004                        ;}
 27005                        	.line	5119
 27006                        	.endblock	5119
 27007             0000002C   L1149	equ	44
 27008             00000011   L1150	equ	17
 27009 06:6DFF:              	ends
 27010                        	efunc
 27011                        	.endfunc	5119,17,44
  Sat Jul 10 2021  1:15                                                Page 499


 27012                        	.line	5119
 27013                        	data
 27014                        L1148:
 27015 00:0BBE: 6B 5F 63 72  	db	$6B,$5F,$63,$72,$65,$61,$74,$65,$5F,$63,
                    $6F,$6E,$74,$65,$78
       00:0BC2: 65 61 74 65 
       00:0BC6: 5F 63 6F 6E 
       00:0BCA: 74 65 78 
 27016 00:0BCD: 74 5F 6D 65  	db	$74,$5F,$6D,$65,$6E,$75,$3A,$66,$69,$6C,
                    $6C,$0D,$0A,$00,$6B
       00:0BD1: 6E 75 3A 66 
       00:0BD5: 69 6C 6C 0D 
       00:0BD9: 0A 00 6B 
 27017 00:0BDC: 5F 63 72 65  	db	$5F,$63,$72,$65,$61,$74,$65,$5F,$63,$6F,
                    $6E,$74,$65,$78,$74
       00:0BE0: 61 74 65 5F 
       00:0BE4: 63 6F 6E 74 
       00:0BE8: 65 78 74 
 27018 00:0BEB: 5F 6D 65 6E  	db	$5F,$6D,$65,$6E,$75,$3A,$63,$61,$70,$74,
                    $69,$6F,$6E,$3A,$00
       00:0BEF: 75 3A 63 61 
       00:0BF3: 70 74 69 6F 
       00:0BF7: 6E 3A 00 
 27019 00:0BFA:              	ends
 27020                        ;
 27021                        ;PMENU k_create_context_menu(int cx,int cy,int wid
                    th,int height,char FAR **captions,int color, int bgcolor)
 27022                        ;{
 27023                        	.line	5121
 27024                        	.line	5122
 27025                        	GFX
 27026                        	xdef	~~k_create_context_menu
 27027                        	func
 27028                        	.function	5122
 27029                        ~~k_create_context_menu:
 27030                        	longa	on
 27031                        	longi	on
 27032 06:6DFF: 3B           	tsc
 27033 06:6E00: 38           	sec
 27034 06:6E01: E9 28 00     	sbc	#L1159
 27035 06:6E04: 1B           	tcs
 27036 06:6E05: 0B           	phd
 27037 06:6E06: 5B           	tcd
 27038             00000004   cx_0	set	4
 27039             00000006   cy_0	set	6
 27040             00000008   width_0	set	8
 27041             0000000A   height_0	set	10
 27042             0000000C   captions_0	set	12
 27043             00000010   color_0	set	16
 27044             00000012   bgcolor_0	set	18
 27045                        	.block	5122
 27046                        ;	FONTMETRIC metric;
 27047                        ;
 27048                        ;	int i = 0;
 27049                        ;	int hy = 0;
 27050                        ;	char FAR *caption = NULL;
 27051                        ;
 27052                        ;	int borderTitle = 10;
  Sat Jul 10 2021  1:15                                                Page 500


 27053                        ;	int borderWidth = 3;
 27054                        ;
 27055                        ;	int titleOffsetX = cx+4;
 27056                        ;	int titleOffsetY = cy+2;
 27057                        ;	int titleScaler = 0;
 27058                        ;
 27059                        ;	int clientOffsetX = cx+borderWidth+2;
 27060                        ;	int clientOffsetY = cy+borderTitle+1;
 27061                        ;
 27062                        ;	int endX = width + cx - borderWidth;
 27063                        ;
 27064                        ;
 27065                        ;	k_debug_string("k_create_context_menu:fill\r\n")
                    ;
 27066             00000000   metric_1	set	0
 27067             00000004   i_1	set	4
 27068             00000006   hy_1	set	6
 27069             00000008   caption_1	set	8
 27070             0000000C   borderTitle_1	set	12
 27071             0000000E   borderWidth_1	set	14
 27072             00000010   titleOffsetX_1	set	16
 27073             00000012   titleOffsetY_1	set	18
 27074             00000014   titleScaler_1	set	20
 27075             00000016   clientOffsetX_1	set	22
 27076             00000018   clientOffsetY_1	set	24
 27077             0000001A   endX_1	set	26
 27078                        	.sym	metric,0,10,1,32,35
 27079                        	.sym	i,4,5,1,16
 27080                        	.sym	hy,6,5,1,16
 27081                        	.sym	caption,8,142,1,32
 27082                        	.sym	borderTitle,12,5,1,16
 27083                        	.sym	borderWidth,14,5,1,16
 27084                        	.sym	titleOffsetX,16,5,1,16
 27085                        	.sym	titleOffsetY,18,5,1,16
 27086                        	.sym	titleScaler,20,5,1,16
 27087                        	.sym	clientOffsetX,22,5,1,16
 27088                        	.sym	clientOffsetY,24,5,1,16
 27089                        	.sym	endX,26,5,1,16
 27090                        	.sym	cx,4,5,6,16
 27091                        	.sym	cy,6,5,6,16
 27092                        	.sym	width,8,5,6,16
 27093                        	.sym	height,10,5,6,16
 27094                        	.sym	captions,12,1166,6,32
 27095                        	.sym	color,16,5,6,16
 27096                        	.sym	bgcolor,18,5,6,16
 27097 06:6E07: 64 11        	stz	<L1160+i_1
 27098 06:6E09: 64 13        	stz	<L1160+hy_1
 27099 06:6E0B: 64 15        	stz	<L1160+caption_1
 27100 06:6E0D: 64 17        	stz	<L1160+caption_1+2
 27101 06:6E0F: A9 0A 00     	lda	#$a
 27102 06:6E12: 85 19        	sta	<L1160+borderTitle_1
 27103 06:6E14: A9 03 00     	lda	#$3
 27104 06:6E17: 85 1B        	sta	<L1160+borderWidth_1
 27105 06:6E19: 18           	clc
 27106 06:6E1A: A9 04 00     	lda	#$4
 27107 06:6E1D: 65 2C        	adc	<L1159+cx_0
 27108 06:6E1F: 85 1D        	sta	<L1160+titleOffsetX_1
 27109 06:6E21: 18           	clc
  Sat Jul 10 2021  1:15                                                Page 501


 27110 06:6E22: A9 02 00     	lda	#$2
 27111 06:6E25: 65 2E        	adc	<L1159+cy_0
 27112 06:6E27: 85 1F        	sta	<L1160+titleOffsetY_1
 27113 06:6E29: 64 21        	stz	<L1160+titleScaler_1
 27114 06:6E2B: 18           	clc
 27115 06:6E2C: A5 2C        	lda	<L1159+cx_0
 27116 06:6E2E: 65 1B        	adc	<L1160+borderWidth_1
 27117 06:6E30: 85 01        	sta	<R0
 27118 06:6E32: 18           	clc
 27119 06:6E33: A9 02 00     	lda	#$2
 27120 06:6E36: 65 01        	adc	<R0
 27121 06:6E38: 85 23        	sta	<L1160+clientOffsetX_1
 27122 06:6E3A: 18           	clc
 27123 06:6E3B: A5 2E        	lda	<L1159+cy_0
 27124 06:6E3D: 65 19        	adc	<L1160+borderTitle_1
 27125 06:6E3F: 85 01        	sta	<R0
 27126 06:6E41: A5 01        	lda	<R0
 27127 06:6E43: 1A           	ina
 27128 06:6E44: 85 25        	sta	<L1160+clientOffsetY_1
 27129 06:6E46: 18           	clc
 27130 06:6E47: A5 30        	lda	<L1159+width_0
 27131 06:6E49: 65 2C        	adc	<L1159+cx_0
 27132 06:6E4B: 85 01        	sta	<R0
 27133 06:6E4D: 38           	sec
 27134 06:6E4E: A5 01        	lda	<R0
 27135 06:6E50: E5 1B        	sbc	<L1160+borderWidth_1
 27136 06:6E52: 85 27        	sta	<L1160+endX_1
 27137                        	.line	5142
 27138 06:6E54: F4 xx xx     	pea	#^L1158
 27139 06:6E57: F4 xx xx     	pea	#<L1158
 27140 06:6E5A: 22 xx xx xx  	jsl	~~k_debug_string
 27141                        ;
 27142                        ;	k_scratch_save_bitblt(cx,cy, width, height, 0, 0
                    );
 27143                        	.line	5144
 27144 06:6E5E: F4 00 00     	pea	#<$0
 27145 06:6E61: F4 00 00     	pea	#<$0
 27146 06:6E64: D4 32        	pei	<L1159+height_0
 27147 06:6E66: D4 30        	pei	<L1159+width_0
 27148 06:6E68: D4 2E        	pei	<L1159+cy_0
 27149 06:6E6A: D4 2C        	pei	<L1159+cx_0
 27150 06:6E6C: 22 7F 7E 06  	jsl	~~k_scratch_save_bitblt
 27151                        ;
 27152                        ;	//k_vdma_fill_rect(cx,cy,width,height,0);
 27153                        ;	//k_vdma_fill_rect(cx+2,cy,width-2,height-2,bgco
                    lor);
 27154                        ;	//k_vdma_fill_rect(cx+1,cy+1,width -1 ,height - 
                    1,bgcolor);
 27155                        ;	k_vdma_fill_rect(cx,cy,width,height,bgcolor);
 27156                        	.line	5149
 27157 06:6E70: D4 3A        	pei	<L1159+bgcolor_0
 27158 06:6E72: D4 32        	pei	<L1159+height_0
 27159 06:6E74: D4 30        	pei	<L1159+width_0
 27160 06:6E76: A0 00 00     	ldy	#$0
 27161 06:6E79: A5 2E        	lda	<L1159+cy_0
 27162 06:6E7B: 10 01        	bpl	L1162
 27163 06:6E7D: 88           	dey
 27164                        L1162:
  Sat Jul 10 2021  1:15                                                Page 502


 27165 06:6E7E: 85 01        	sta	<R0
 27166 06:6E80: 84 03        	sty	<R0+2
 27167 06:6E82: D4 03        	pei	<R0+2
 27168 06:6E84: D4 01        	pei	<R0
 27169 06:6E86: A0 00 00     	ldy	#$0
 27170 06:6E89: A5 2C        	lda	<L1159+cx_0
 27171 06:6E8B: 10 01        	bpl	L1163
 27172 06:6E8D: 88           	dey
 27173                        L1163:
 27174 06:6E8E: 85 05        	sta	<R1
 27175 06:6E90: 84 07        	sty	<R1+2
 27176 06:6E92: D4 07        	pei	<R1+2
 27177 06:6E94: D4 05        	pei	<R1
 27178 06:6E96: 22 BA 5F 06  	jsl	~~k_vdma_fill_rect
 27179                        ;
 27180                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 27181                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 27182                        ;	i = 0;
 27183                        	.line	5153
 27184 06:6E9A: 64 11        	stz	<L1160+i_1
 27185                        ;	caption = captions[i];
 27186                        	.line	5154
 27187 06:6E9C: A0 00 00     	ldy	#$0
 27188 06:6E9F: A5 11        	lda	<L1160+i_1
 27189 06:6EA1: 10 01        	bpl	L1164
 27190 06:6EA3: 88           	dey
 27191                        L1164:
 27192 06:6EA4: 85 05        	sta	<R1
 27193 06:6EA6: 84 07        	sty	<R1+2
 27194 06:6EA8: D4 07        	pei	<R1+2
 27195 06:6EAA: D4 05        	pei	<R1
 27196 06:6EAC: A9 02 00     	lda	#$2
 27197                        	xref	~~~lasl
 27198 06:6EAF: 22 xx xx xx  	jsl	~~~lasl
 27199 06:6EB3: 85 01        	sta	<R0
 27200 06:6EB5: 86 03        	stx	<R0+2
 27201 06:6EB7: 18           	clc
 27202 06:6EB8: A5 34        	lda	<L1159+captions_0
 27203 06:6EBA: 65 01        	adc	<R0
 27204 06:6EBC: 85 09        	sta	<R2
 27205 06:6EBE: A5 36        	lda	<L1159+captions_0+2
 27206 06:6EC0: 65 03        	adc	<R0+2
 27207 06:6EC2: 85 0B        	sta	<R2+2
 27208 06:6EC4: A7 09        	lda	[<R2]
 27209 06:6EC6: 85 15        	sta	<L1160+caption_1
 27210 06:6EC8: A0 02 00     	ldy	#$2
 27211 06:6ECB: B7 09        	lda	[<R2],Y
 27212 06:6ECD: 85 17        	sta	<L1160+caption_1+2
 27213                        ;	while(caption!=NULL)
 27214                        	.line	5155
 27215                        L10473:
 27216 06:6ECF: A5 15        	lda	<L1160+caption_1
 27217 06:6ED1: 05 17        	ora	<L1160+caption_1+2
 27218 06:6ED3: D0 03        	bne	L1165
 27219 06:6ED5: 82 6B 00     	brl	L10474
 27220                        L1165:
  Sat Jul 10 2021  1:15                                                Page 503


 27221                        ;	{
 27222                        	.line	5156
 27223                        ;		k_debug_strings("k_create_context_menu:c
                    aption:",caption);
 27224                        	.line	5157
 27225 06:6ED8: D4 17        	pei	<L1160+caption_1+2
 27226 06:6EDA: D4 15        	pei	<L1160+caption_1
 27227 06:6EDC: F4 xx xx     	pea	#^L1158+29
 27228 06:6EDF: F4 xx xx     	pea	#<L1158+29
 27229 06:6EE2: 22 xx xx xx  	jsl	~~k_debug_strings
 27230                        ;
 27231                        ;		//caption = strupr(caption);
 27232                        ;		hy = k_draw_text_point(caption,titleOffs
                    etX,titleOffsetY,color);
 27233                        	.line	5160
 27234 06:6EE6: D4 38        	pei	<L1159+color_0
 27235 06:6EE8: D4 1F        	pei	<L1160+titleOffsetY_1
 27236 06:6EEA: D4 1D        	pei	<L1160+titleOffsetX_1
 27237 06:6EEC: D4 17        	pei	<L1160+caption_1+2
 27238 06:6EEE: D4 15        	pei	<L1160+caption_1
 27239 06:6EF0: 22 DB 1F 06  	jsl	~~k_draw_text_point
 27240 06:6EF4: 85 13        	sta	<L1160+hy_1
 27241                        ;
 27242                        ;		titleOffsetY+=(FONTH + 2);
 27243                        	.line	5162
 27244 06:6EF6: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 27245 06:6EFA: 85 01        	sta	<R0
 27246 06:6EFC: 18           	clc
 27247 06:6EFD: A5 01        	lda	<R0
 27248 06:6EFF: 65 1F        	adc	<L1160+titleOffsetY_1
 27249 06:6F01: 85 05        	sta	<R1
 27250 06:6F03: 18           	clc
 27251 06:6F04: A9 02 00     	lda	#$2
 27252 06:6F07: 65 05        	adc	<R1
 27253 06:6F09: 85 1F        	sta	<L1160+titleOffsetY_1
 27254                        ;		i++;
 27255                        	.line	5163
 27256 06:6F0B: E6 11        	inc	<L1160+i_1
 27257                        ;		caption = captions[i];
 27258                        	.line	5164
 27259 06:6F0D: A0 00 00     	ldy	#$0
 27260 06:6F10: A5 11        	lda	<L1160+i_1
 27261 06:6F12: 10 01        	bpl	L1166
 27262 06:6F14: 88           	dey
 27263                        L1166:
 27264 06:6F15: 85 05        	sta	<R1
 27265 06:6F17: 84 07        	sty	<R1+2
 27266 06:6F19: D4 07        	pei	<R1+2
 27267 06:6F1B: D4 05        	pei	<R1
 27268 06:6F1D: A9 02 00     	lda	#$2
 27269                        	xref	~~~lasl
 27270 06:6F20: 22 xx xx xx  	jsl	~~~lasl
 27271 06:6F24: 85 01        	sta	<R0
 27272 06:6F26: 86 03        	stx	<R0+2
 27273 06:6F28: 18           	clc
 27274 06:6F29: A5 34        	lda	<L1159+captions_0
 27275 06:6F2B: 65 01        	adc	<R0
 27276 06:6F2D: 85 09        	sta	<R2
  Sat Jul 10 2021  1:15                                                Page 504


 27277 06:6F2F: A5 36        	lda	<L1159+captions_0+2
 27278 06:6F31: 65 03        	adc	<R0+2
 27279 06:6F33: 85 0B        	sta	<R2+2
 27280 06:6F35: A7 09        	lda	[<R2]
 27281 06:6F37: 85 15        	sta	<L1160+caption_1
 27282 06:6F39: A0 02 00     	ldy	#$2
 27283 06:6F3C: B7 09        	lda	[<R2],Y
 27284 06:6F3E: 85 17        	sta	<L1160+caption_1+2
 27285                        ;	}
 27286                        	.line	5165
 27287 06:6F40: 82 8C FF     	brl	L10473
 27288                        L10474:
 27289                        ;
 27290                        ;	return NULL;
 27291                        	.line	5167
 27292 06:6F43: A9 00 00     	lda	#$0
 27293 06:6F46: AA           	tax
 27294 06:6F47: A9 00 00     	lda	#$0
 27295                        L1167:
 27296 06:6F4A: A8           	tay
 27297 06:6F4B: A5 2A        	lda	<L1159+2
 27298 06:6F4D: 85 3A        	sta	<L1159+2+16
 27299 06:6F4F: A5 29        	lda	<L1159+1
 27300 06:6F51: 85 39        	sta	<L1159+1+16
 27301 06:6F53: 2B           	pld
 27302 06:6F54: 3B           	tsc
 27303 06:6F55: 18           	clc
 27304 06:6F56: 69 38 00     	adc	#L1159+16
 27305 06:6F59: 1B           	tcs
 27306 06:6F5A: 98           	tya
 27307 06:6F5B: 6B           	rtl
 27308                        ;
 27309                        ;}
 27310                        	.line	5169
 27311                        	.endblock	5169
 27312             00000028   L1159	equ	40
 27313             0000000D   L1160	equ	13
 27314 06:6F5C:              	ends
 27315                        	efunc
 27316                        	.endfunc	5169,13,40
 27317                        	.line	5169
 27318                        	data
 27319                        L1158:
 27320 00:0BFA: 6B 5F 63 72  	db	$6B,$5F,$63,$72,$65,$61,$74,$65,$5F,$63,
                    $6F,$6E,$74,$65,$78
       00:0BFE: 65 61 74 65 
       00:0C02: 5F 63 6F 6E 
       00:0C06: 74 65 78 
 27321 00:0C09: 74 5F 6D 65  	db	$74,$5F,$6D,$65,$6E,$75,$3A,$66,$69,$6C,
                    $6C,$0D,$0A,$00,$6B
       00:0C0D: 6E 75 3A 66 
       00:0C11: 69 6C 6C 0D 
       00:0C15: 0A 00 6B 
 27322 00:0C18: 5F 63 72 65  	db	$5F,$63,$72,$65,$61,$74,$65,$5F,$63,$6F,
                    $6E,$74,$65,$78,$74
       00:0C1C: 61 74 65 5F 
       00:0C20: 63 6F 6E 74 
       00:0C24: 65 78 74 
  Sat Jul 10 2021  1:15                                                Page 505


 27323 00:0C27: 5F 6D 65 6E  	db	$5F,$6D,$65,$6E,$75,$3A,$63,$61,$70,$74,
                    $69,$6F,$6E,$3A,$00
       00:0C2B: 75 3A 63 61 
       00:0C2F: 70 74 69 6F 
       00:0C33: 6E 3A 00 
 27324 00:0C36:              	ends
 27325                        ;
 27326                        ;PMENU k_create_context_menu_in_window_ex(PWINDOW 
                    pWin,UINT selected,UINT unselected,int cx,int cy,int width,i
                    nt height,char FAR **captions,char FAR *chrome,int color, in
                    t bgcolor)
 27327                        ;{
 27328                        	.line	5171
 27329                        	.line	5172
 27330                        	GFX
 27331                        	xdef	~~k_create_context_menu_in_window_ex
 27332                        	func
 27333                        	.function	5172
 27334                        ~~k_create_context_menu_in_window_ex:
 27335                        	longa	on
 27336                        	longi	on
 27337 06:6F5C: 3B           	tsc
 27338 06:6F5D: 38           	sec
 27339 06:6F5E: E9 29 00     	sbc	#L1169
 27340 06:6F61: 1B           	tcs
 27341 06:6F62: 0B           	phd
 27342 06:6F63: 5B           	tcd
 27343             00000004   pWin_0	set	4
 27344             00000008   selected_0	set	8
 27345             0000000A   unselected_0	set	10
 27346             0000000C   cx_0	set	12
 27347             0000000E   cy_0	set	14
 27348             00000010   width_0	set	16
 27349             00000012   height_0	set	18
 27350             00000014   captions_0	set	20
 27351             00000018   chrome_0	set	24
 27352             0000001C   color_0	set	28
 27353             0000001E   bgcolor_0	set	30
 27354                        	.block	5172
 27355                        ;	FONTMETRIC metric;
 27356                        ;
 27357                        ;	int i = 0;
 27358                        ;	int dx = 0;
 27359                        ;	char FAR *caption = NULL;
 27360                        ;
 27361                        ;	int borderTitle = 10;
 27362                        ;	int borderWidth = 3;
 27363                        ;
 27364                        ;	int titleOffsetX = cx+4;
 27365                        ;	int titleOffsetY = cy+2;
 27366                        ;	int titleScaler = 0;
 27367                        ;
 27368                        ;	int clientOffsetX = cx+borderWidth+2;
 27369                        ;	int clientOffsetY = cy+borderTitle+1;
 27370                        ;
 27371                        ;	int endX = width + cx - borderWidth;
 27372                        ;
 27373                        ;
  Sat Jul 10 2021  1:15                                                Page 506


 27374                        ;	if(selected == -1 && unselected == -1)
 27375             00000000   metric_1	set	0
 27376             00000004   i_1	set	4
 27377             00000006   dx_1	set	6
 27378             00000008   caption_1	set	8
 27379             0000000C   borderTitle_1	set	12
 27380             0000000E   borderWidth_1	set	14
 27381             00000010   titleOffsetX_1	set	16
 27382             00000012   titleOffsetY_1	set	18
 27383             00000014   titleScaler_1	set	20
 27384             00000016   clientOffsetX_1	set	22
 27385             00000018   clientOffsetY_1	set	24
 27386             0000001A   endX_1	set	26
 27387                        	.sym	metric,0,10,1,32,35
 27388                        	.sym	i,4,5,1,16
 27389                        	.sym	dx,6,5,1,16
 27390                        	.sym	caption,8,142,1,32
 27391                        	.sym	borderTitle,12,5,1,16
 27392                        	.sym	borderWidth,14,5,1,16
 27393                        	.sym	titleOffsetX,16,5,1,16
 27394                        	.sym	titleOffsetY,18,5,1,16
 27395                        	.sym	titleScaler,20,5,1,16
 27396                        	.sym	clientOffsetX,22,5,1,16
 27397                        	.sym	clientOffsetY,24,5,1,16
 27398                        	.sym	endX,26,5,1,16
 27399                        	.sym	pWin,4,138,6,32,33
 27400                        	.sym	selected,8,16,6,16
 27401                        	.sym	unselected,10,16,6,16
 27402                        	.sym	cx,12,5,6,16
 27403                        	.sym	cy,14,5,6,16
 27404                        	.sym	width,16,5,6,16
 27405                        	.sym	height,18,5,6,16
 27406                        	.sym	captions,20,1166,6,32
 27407                        	.sym	chrome,24,142,6,32
 27408                        	.sym	color,28,5,6,16
 27409                        	.sym	bgcolor,30,5,6,16
 27410 06:6F64: 64 11        	stz	<L1170+i_1
 27411 06:6F66: 64 13        	stz	<L1170+dx_1
 27412 06:6F68: 64 15        	stz	<L1170+caption_1
 27413 06:6F6A: 64 17        	stz	<L1170+caption_1+2
 27414 06:6F6C: A9 0A 00     	lda	#$a
 27415 06:6F6F: 85 19        	sta	<L1170+borderTitle_1
 27416 06:6F71: A9 03 00     	lda	#$3
 27417 06:6F74: 85 1B        	sta	<L1170+borderWidth_1
 27418 06:6F76: 18           	clc
 27419 06:6F77: A9 04 00     	lda	#$4
 27420 06:6F7A: 65 35        	adc	<L1169+cx_0
 27421 06:6F7C: 85 1D        	sta	<L1170+titleOffsetX_1
 27422 06:6F7E: 18           	clc
 27423 06:6F7F: A9 02 00     	lda	#$2
 27424 06:6F82: 65 37        	adc	<L1169+cy_0
 27425 06:6F84: 85 1F        	sta	<L1170+titleOffsetY_1
 27426 06:6F86: 64 21        	stz	<L1170+titleScaler_1
 27427 06:6F88: 18           	clc
 27428 06:6F89: A5 35        	lda	<L1169+cx_0
 27429 06:6F8B: 65 1B        	adc	<L1170+borderWidth_1
 27430 06:6F8D: 85 01        	sta	<R0
 27431 06:6F8F: 18           	clc
  Sat Jul 10 2021  1:15                                                Page 507


 27432 06:6F90: A9 02 00     	lda	#$2
 27433 06:6F93: 65 01        	adc	<R0
 27434 06:6F95: 85 23        	sta	<L1170+clientOffsetX_1
 27435 06:6F97: 18           	clc
 27436 06:6F98: A5 37        	lda	<L1169+cy_0
 27437 06:6F9A: 65 19        	adc	<L1170+borderTitle_1
 27438 06:6F9C: 85 01        	sta	<R0
 27439 06:6F9E: A5 01        	lda	<R0
 27440 06:6FA0: 1A           	ina
 27441 06:6FA1: 85 25        	sta	<L1170+clientOffsetY_1
 27442 06:6FA3: 18           	clc
 27443 06:6FA4: A5 39        	lda	<L1169+width_0
 27444 06:6FA6: 65 35        	adc	<L1169+cx_0
 27445 06:6FA8: 85 01        	sta	<R0
 27446 06:6FAA: 38           	sec
 27447 06:6FAB: A5 01        	lda	<R0
 27448 06:6FAD: E5 1B        	sbc	<L1170+borderWidth_1
 27449 06:6FAF: 85 27        	sta	<L1170+endX_1
 27450                        	.line	5192
 27451                        ;		k_vdma_fill_rect_ex(cx,cy,width,height,b
                    gcolor,BITMAP_FRONT);
 27452 06:6FB1: A5 31        	lda	<L1169+selected_0
 27453 06:6FB3: C9 FF FF     	cmp	#<$ffffffff
 27454 06:6FB6: F0 03        	beq	L1172
 27455 06:6FB8: 82 37 00     	brl	L10475
 27456                        L1172:
 27457 06:6FBB: A5 33        	lda	<L1169+unselected_0
 27458 06:6FBD: C9 FF FF     	cmp	#<$ffffffff
 27459 06:6FC0: F0 03        	beq	L1173
 27460 06:6FC2: 82 2D 00     	brl	L10475
 27461                        L1173:
 27462                        	.line	5193
 27463 06:6FC5: F4 00 00     	pea	#<$0
 27464 06:6FC8: D4 47        	pei	<L1169+bgcolor_0
 27465 06:6FCA: D4 3B        	pei	<L1169+height_0
 27466 06:6FCC: D4 39        	pei	<L1169+width_0
 27467 06:6FCE: A0 00 00     	ldy	#$0
 27468 06:6FD1: A5 37        	lda	<L1169+cy_0
 27469 06:6FD3: 10 01        	bpl	L1174
 27470 06:6FD5: 88           	dey
 27471                        L1174:
 27472 06:6FD6: 85 01        	sta	<R0
 27473 06:6FD8: 84 03        	sty	<R0+2
 27474 06:6FDA: D4 03        	pei	<R0+2
 27475 06:6FDC: D4 01        	pei	<R0
 27476 06:6FDE: A0 00 00     	ldy	#$0
 27477 06:6FE1: A5 35        	lda	<L1169+cx_0
 27478 06:6FE3: 10 01        	bpl	L1175
 27479 06:6FE5: 88           	dey
 27480                        L1175:
 27481 06:6FE6: 85 05        	sta	<R1
 27482 06:6FE8: 84 07        	sty	<R1+2
 27483 06:6FEA: D4 07        	pei	<R1+2
 27484 06:6FEC: D4 05        	pei	<R1
 27485 06:6FEE: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 27486                        ;
 27487                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
  Sat Jul 10 2021  1:15                                                Page 508


 27488                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 27489                        ;	i = 0;
 27490                        L10475:
 27491                        	.line	5197
 27492 06:6FF2: 64 11        	stz	<L1170+i_1
 27493                        ;	caption = captions[i];
 27494                        	.line	5198
 27495 06:6FF4: A0 00 00     	ldy	#$0
 27496 06:6FF7: A5 11        	lda	<L1170+i_1
 27497 06:6FF9: 10 01        	bpl	L1176
 27498 06:6FFB: 88           	dey
 27499                        L1176:
 27500 06:6FFC: 85 05        	sta	<R1
 27501 06:6FFE: 84 07        	sty	<R1+2
 27502 06:7000: D4 07        	pei	<R1+2
 27503 06:7002: D4 05        	pei	<R1
 27504 06:7004: A9 02 00     	lda	#$2
 27505                        	xref	~~~lasl
 27506 06:7007: 22 xx xx xx  	jsl	~~~lasl
 27507 06:700B: 85 01        	sta	<R0
 27508 06:700D: 86 03        	stx	<R0+2
 27509 06:700F: 18           	clc
 27510 06:7010: A5 3D        	lda	<L1169+captions_0
 27511 06:7012: 65 01        	adc	<R0
 27512 06:7014: 85 09        	sta	<R2
 27513 06:7016: A5 3F        	lda	<L1169+captions_0+2
 27514 06:7018: 65 03        	adc	<R0+2
 27515 06:701A: 85 0B        	sta	<R2+2
 27516 06:701C: A7 09        	lda	[<R2]
 27517 06:701E: 85 15        	sta	<L1170+caption_1
 27518 06:7020: A0 02 00     	ldy	#$2
 27519 06:7023: B7 09        	lda	[<R2],Y
 27520 06:7025: 85 17        	sta	<L1170+caption_1+2
 27521                        ;	while(caption!=NULL)
 27522                        	.line	5199
 27523                        L10476:
 27524 06:7027: A5 15        	lda	<L1170+caption_1
 27525 06:7029: 05 17        	ora	<L1170+caption_1+2
 27526 06:702B: D0 03        	bne	L1177
 27527 06:702D: 82 66 02     	brl	L10477
 27528                        L1177:
 27529                        ;	{
 27530                        	.line	5200
 27531                        ;		char chromeByte = chrome[i];
 27532                        ;		//if(chromeByte)
 27533                        ;		//	k_debug_strings("#### k_create_c
                    ontext_menu_in_window_ex:chrome:CHECKED:",caption);
 27534                        ;		//k_debug_strings("k_create_context_menu
                    :caption:",caption);
 27535                        ;
 27536                        ;		//caption = strupr(caption);
 27537                        ;
 27538                        ;		if(selected!=-1 && unselected!=-1)
 27539                        	.block	5208
 27540             0000001C   chromeByte_2	set	28
 27541                        	.sym	chromeByte,28,14,1,8
 27542 06:7030: E2 20        	sep	#$20
  Sat Jul 10 2021  1:15                                                Page 509


 27543                        	longa	off
 27544 06:7032: A4 11        	ldy	<L1170+i_1
 27545 06:7034: B7 41        	lda	[<L1169+chrome_0],Y
 27546 06:7036: 85 29        	sta	<L1170+chromeByte_2
 27547 06:7038: C2 20        	rep	#$20
 27548                        	longa	on
 27549                        	.line	5208
 27550                        ;		{
 27551 06:703A: A5 31        	lda	<L1169+selected_0
 27552 06:703C: C9 FF FF     	cmp	#<$ffffffff
 27553 06:703F: D0 03        	bne	L1179
 27554 06:7041: 82 38 01     	brl	L10478
 27555                        L1179:
 27556 06:7044: A5 33        	lda	<L1169+unselected_0
 27557 06:7046: C9 FF FF     	cmp	#<$ffffffff
 27558 06:7049: D0 03        	bne	L1180
 27559 06:704B: 82 2E 01     	brl	L10478
 27560                        L1180:
 27561                        	.line	5209
 27562                        ;			if( i == selected && caption[0] 
                    != '_' && caption[0] != ' ')
 27563                        	.line	5210
 27564                        ;			{
 27565 06:704E: A5 11        	lda	<L1170+i_1
 27566 06:7050: C5 31        	cmp	<L1169+selected_0
 27567 06:7052: F0 03        	beq	L1181
 27568 06:7054: 82 8E 00     	brl	L10479
 27569                        L1181:
 27570 06:7057: E2 20        	sep	#$20
 27571                        	longa	off
 27572 06:7059: A7 15        	lda	[<L1170+caption_1]
 27573 06:705B: C9 5F        	cmp	#<$5f
 27574 06:705D: C2 20        	rep	#$20
 27575                        	longa	on
 27576 06:705F: D0 03        	bne	L1182
 27577 06:7061: 82 81 00     	brl	L10479
 27578                        L1182:
 27579 06:7064: E2 20        	sep	#$20
 27580                        	longa	off
 27581 06:7066: A7 15        	lda	[<L1170+caption_1]
 27582 06:7068: C9 20        	cmp	#<$20
 27583 06:706A: C2 20        	rep	#$20
 27584                        	longa	on
 27585 06:706C: D0 03        	bne	L1183
 27586 06:706E: 82 74 00     	brl	L10479
 27587                        L1183:
 27588                        	.line	5211
 27589                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,color,BITMAP_FRON
                    T);
 27590                        	.line	5212
 27591 06:7071: F4 00 00     	pea	#<$0
 27592 06:7074: D4 45        	pei	<L1169+color_0
 27593 06:7076: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 27594 06:707A: 48           	pha
 27595 06:707B: A0 10 00     	ldy	#$10
 27596 06:707E: B7 2D        	lda	[<L1169+pWin_0],Y
 27597 06:7080: 48           	pha
  Sat Jul 10 2021  1:15                                                Page 510


 27598 06:7081: A0 00 00     	ldy	#$0
 27599 06:7084: A5 1F        	lda	<L1170+titleOffsetY_1
 27600 06:7086: 10 01        	bpl	L1184
 27601 06:7088: 88           	dey
 27602                        L1184:
 27603 06:7089: 85 01        	sta	<R0
 27604 06:708B: 84 03        	sty	<R0+2
 27605 06:708D: D4 03        	pei	<R0+2
 27606 06:708F: D4 01        	pei	<R0
 27607 06:7091: A0 00 00     	ldy	#$0
 27608 06:7094: 5A           	phy
 27609 06:7095: A0 0C 00     	ldy	#$c
 27610 06:7098: B7 2D        	lda	[<L1169+pWin_0],Y
 27611 06:709A: 7A           	ply
 27612 06:709B: 2A           	rol	A
 27613 06:709C: 6A           	ror	A
 27614 06:709D: 10 01        	bpl	L1185
 27615 06:709F: 88           	dey
 27616                        L1185:
 27617 06:70A0: 85 05        	sta	<R1
 27618 06:70A2: 84 07        	sty	<R1+2
 27619 06:70A4: D4 07        	pei	<R1+2
 27620 06:70A6: D4 05        	pei	<R1
 27621 06:70A8: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 27622                        ;				dx = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,bgcolor,BITMAP_FRONT);
 27623                        	.line	5213
 27624 06:70AC: F4 00 00     	pea	#<$0
 27625 06:70AF: D4 47        	pei	<L1169+bgcolor_0
 27626 06:70B1: D4 1F        	pei	<L1170+titleOffsetY_1
 27627 06:70B3: D4 1D        	pei	<L1170+titleOffsetX_1
 27628 06:70B5: D4 17        	pei	<L1170+caption_1+2
 27629 06:70B7: D4 15        	pei	<L1170+caption_1
 27630 06:70B9: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 27631 06:70BD: 85 13        	sta	<L1170+dx_1
 27632                        ;				if(chromeByte)
 27633                        	.line	5214
 27634                        ;				{
 27635 06:70BF: A5 29        	lda	<L1170+chromeByte_2
 27636 06:70C1: 29 FF 00     	and	#$ff
 27637 06:70C4: D0 03        	bne	L1186
 27638 06:70C6: 82 19 00     	brl	L10480
 27639                        L1186:
 27640                        	.line	5215
 27641                        ;					dx = k_draw_text
                    _point_ex("*",titleOffsetX + dx,titleOffsetY,bgcolor,BITMAP_
                    FRONT);
 27642                        	.line	5216
 27643 06:70C9: F4 00 00     	pea	#<$0
 27644 06:70CC: D4 47        	pei	<L1169+bgcolor_0
 27645 06:70CE: D4 1F        	pei	<L1170+titleOffsetY_1
 27646 06:70D0: 18           	clc
 27647 06:70D1: A5 1D        	lda	<L1170+titleOffsetX_1
 27648 06:70D3: 65 13        	adc	<L1170+dx_1
 27649 06:70D5: 48           	pha
 27650 06:70D6: F4 xx xx     	pea	#^L1168
 27651 06:70D9: F4 xx xx     	pea	#<L1168
 27652 06:70DC: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
  Sat Jul 10 2021  1:15                                                Page 511


 27653 06:70E0: 85 13        	sta	<L1170+dx_1
 27654                        ;				}
 27655                        	.line	5217
 27656                        ;			}
 27657                        L10480:
 27658                        	.line	5218
 27659                        ;			else if( i == unselected && capt
                    ion[0] != '_' && caption[0] != ' ' )
 27660 06:70E2: 82 94 00     	brl	L10481
 27661                        L10479:
 27662                        	.line	5219
 27663                        ;			{
 27664 06:70E5: A5 11        	lda	<L1170+i_1
 27665 06:70E7: C5 33        	cmp	<L1169+unselected_0
 27666 06:70E9: F0 03        	beq	L1187
 27667 06:70EB: 82 8B 00     	brl	L10482
 27668                        L1187:
 27669 06:70EE: E2 20        	sep	#$20
 27670                        	longa	off
 27671 06:70F0: A7 15        	lda	[<L1170+caption_1]
 27672 06:70F2: C9 5F        	cmp	#<$5f
 27673 06:70F4: C2 20        	rep	#$20
 27674                        	longa	on
 27675 06:70F6: D0 03        	bne	L1188
 27676 06:70F8: 82 7E 00     	brl	L10482
 27677                        L1188:
 27678 06:70FB: E2 20        	sep	#$20
 27679                        	longa	off
 27680 06:70FD: A7 15        	lda	[<L1170+caption_1]
 27681 06:70FF: C9 20        	cmp	#<$20
 27682 06:7101: C2 20        	rep	#$20
 27683                        	longa	on
 27684 06:7103: D0 03        	bne	L1189
 27685 06:7105: 82 71 00     	brl	L10482
 27686                        L1189:
 27687                        	.line	5220
 27688                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,bgcolor,BITMAP_FR
                    ONT);
 27689                        	.line	5221
 27690 06:7108: F4 00 00     	pea	#<$0
 27691 06:710B: D4 47        	pei	<L1169+bgcolor_0
 27692 06:710D: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 27693 06:7111: 48           	pha
 27694 06:7112: A0 10 00     	ldy	#$10
 27695 06:7115: B7 2D        	lda	[<L1169+pWin_0],Y
 27696 06:7117: 48           	pha
 27697 06:7118: A0 00 00     	ldy	#$0
 27698 06:711B: A5 1F        	lda	<L1170+titleOffsetY_1
 27699 06:711D: 10 01        	bpl	L1190
 27700 06:711F: 88           	dey
 27701                        L1190:
 27702 06:7120: 85 01        	sta	<R0
 27703 06:7122: 84 03        	sty	<R0+2
 27704 06:7124: D4 03        	pei	<R0+2
 27705 06:7126: D4 01        	pei	<R0
 27706 06:7128: A0 00 00     	ldy	#$0
 27707 06:712B: 5A           	phy
  Sat Jul 10 2021  1:15                                                Page 512


 27708 06:712C: A0 0C 00     	ldy	#$c
 27709 06:712F: B7 2D        	lda	[<L1169+pWin_0],Y
 27710 06:7131: 7A           	ply
 27711 06:7132: 2A           	rol	A
 27712 06:7133: 6A           	ror	A
 27713 06:7134: 10 01        	bpl	L1191
 27714 06:7136: 88           	dey
 27715                        L1191:
 27716 06:7137: 85 05        	sta	<R1
 27717 06:7139: 84 07        	sty	<R1+2
 27718 06:713B: D4 07        	pei	<R1+2
 27719 06:713D: D4 05        	pei	<R1
 27720 06:713F: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 27721                        ;				dx = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,color,BITMAP_FRONT);
 27722                        	.line	5222
 27723 06:7143: F4 00 00     	pea	#<$0
 27724 06:7146: D4 45        	pei	<L1169+color_0
 27725 06:7148: D4 1F        	pei	<L1170+titleOffsetY_1
 27726 06:714A: D4 1D        	pei	<L1170+titleOffsetX_1
 27727 06:714C: D4 17        	pei	<L1170+caption_1+2
 27728 06:714E: D4 15        	pei	<L1170+caption_1
 27729 06:7150: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 27730 06:7154: 85 13        	sta	<L1170+dx_1
 27731                        ;				if(chromeByte)
 27732                        	.line	5223
 27733                        ;				{
 27734 06:7156: A5 29        	lda	<L1170+chromeByte_2
 27735 06:7158: 29 FF 00     	and	#$ff
 27736 06:715B: D0 03        	bne	L1192
 27737 06:715D: 82 19 00     	brl	L10483
 27738                        L1192:
 27739                        	.line	5224
 27740                        ;					dx = k_draw_text
                    _point_ex("*",titleOffsetX + dx,titleOffsetY,color,BITMAP_FR
                    ONT);
 27741                        	.line	5225
 27742 06:7160: F4 00 00     	pea	#<$0
 27743 06:7163: D4 45        	pei	<L1169+color_0
 27744 06:7165: D4 1F        	pei	<L1170+titleOffsetY_1
 27745 06:7167: 18           	clc
 27746 06:7168: A5 1D        	lda	<L1170+titleOffsetX_1
 27747 06:716A: 65 13        	adc	<L1170+dx_1
 27748 06:716C: 48           	pha
 27749 06:716D: F4 xx xx     	pea	#^L1168+2
 27750 06:7170: F4 xx xx     	pea	#<L1168+2
 27751 06:7173: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 27752 06:7177: 85 13        	sta	<L1170+dx_1
 27753                        ;				}
 27754                        	.line	5226
 27755                        ;			}
 27756                        L10483:
 27757                        	.line	5227
 27758                        ;
 27759                        ;		}
 27760                        L10482:
 27761                        L10481:
 27762                        	.line	5229
  Sat Jul 10 2021  1:15                                                Page 513


 27763                        ;		else
 27764 06:7179: 82 CD 00     	brl	L10484
 27765                        L10478:
 27766                        ;		{
 27767                        	.line	5231
 27768                        ;			if( i == selected && caption[0] 
                    != '_' && caption[0] != ' ')
 27769                        	.line	5232
 27770                        ;			{
 27771 06:717C: A5 11        	lda	<L1170+i_1
 27772 06:717E: C5 31        	cmp	<L1169+selected_0
 27773 06:7180: F0 03        	beq	L1193
 27774 06:7182: 82 8E 00     	brl	L10485
 27775                        L1193:
 27776 06:7185: E2 20        	sep	#$20
 27777                        	longa	off
 27778 06:7187: A7 15        	lda	[<L1170+caption_1]
 27779 06:7189: C9 5F        	cmp	#<$5f
 27780 06:718B: C2 20        	rep	#$20
 27781                        	longa	on
 27782 06:718D: D0 03        	bne	L1194
 27783 06:718F: 82 81 00     	brl	L10485
 27784                        L1194:
 27785 06:7192: E2 20        	sep	#$20
 27786                        	longa	off
 27787 06:7194: A7 15        	lda	[<L1170+caption_1]
 27788 06:7196: C9 20        	cmp	#<$20
 27789 06:7198: C2 20        	rep	#$20
 27790                        	longa	on
 27791 06:719A: D0 03        	bne	L1195
 27792 06:719C: 82 74 00     	brl	L10485
 27793                        L1195:
 27794                        	.line	5233
 27795                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,color,BITMAP_FRON
                    T);
 27796                        	.line	5234
 27797 06:719F: F4 00 00     	pea	#<$0
 27798 06:71A2: D4 45        	pei	<L1169+color_0
 27799 06:71A4: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 27800 06:71A8: 48           	pha
 27801 06:71A9: A0 10 00     	ldy	#$10
 27802 06:71AC: B7 2D        	lda	[<L1169+pWin_0],Y
 27803 06:71AE: 48           	pha
 27804 06:71AF: A0 00 00     	ldy	#$0
 27805 06:71B2: A5 1F        	lda	<L1170+titleOffsetY_1
 27806 06:71B4: 10 01        	bpl	L1196
 27807 06:71B6: 88           	dey
 27808                        L1196:
 27809 06:71B7: 85 01        	sta	<R0
 27810 06:71B9: 84 03        	sty	<R0+2
 27811 06:71BB: D4 03        	pei	<R0+2
 27812 06:71BD: D4 01        	pei	<R0
 27813 06:71BF: A0 00 00     	ldy	#$0
 27814 06:71C2: 5A           	phy
 27815 06:71C3: A0 0C 00     	ldy	#$c
 27816 06:71C6: B7 2D        	lda	[<L1169+pWin_0],Y
 27817 06:71C8: 7A           	ply
  Sat Jul 10 2021  1:15                                                Page 514


 27818 06:71C9: 2A           	rol	A
 27819 06:71CA: 6A           	ror	A
 27820 06:71CB: 10 01        	bpl	L1197
 27821 06:71CD: 88           	dey
 27822                        L1197:
 27823 06:71CE: 85 05        	sta	<R1
 27824 06:71D0: 84 07        	sty	<R1+2
 27825 06:71D2: D4 07        	pei	<R1+2
 27826 06:71D4: D4 05        	pei	<R1
 27827 06:71D6: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 27828                        ;				dx = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,bgcolor,BITMAP_FRONT);
 27829                        	.line	5235
 27830 06:71DA: F4 00 00     	pea	#<$0
 27831 06:71DD: D4 47        	pei	<L1169+bgcolor_0
 27832 06:71DF: D4 1F        	pei	<L1170+titleOffsetY_1
 27833 06:71E1: D4 1D        	pei	<L1170+titleOffsetX_1
 27834 06:71E3: D4 17        	pei	<L1170+caption_1+2
 27835 06:71E5: D4 15        	pei	<L1170+caption_1
 27836 06:71E7: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 27837 06:71EB: 85 13        	sta	<L1170+dx_1
 27838                        ;				if(chromeByte)
 27839                        	.line	5236
 27840                        ;				{
 27841 06:71ED: A5 29        	lda	<L1170+chromeByte_2
 27842 06:71EF: 29 FF 00     	and	#$ff
 27843 06:71F2: D0 03        	bne	L1198
 27844 06:71F4: 82 19 00     	brl	L10486
 27845                        L1198:
 27846                        	.line	5237
 27847                        ;					dx = k_draw_text
                    _point_ex("*",titleOffsetX + dx,titleOffsetY,bgcolor,BITMAP_
                    FRONT);
 27848                        	.line	5238
 27849 06:71F7: F4 00 00     	pea	#<$0
 27850 06:71FA: D4 47        	pei	<L1169+bgcolor_0
 27851 06:71FC: D4 1F        	pei	<L1170+titleOffsetY_1
 27852 06:71FE: 18           	clc
 27853 06:71FF: A5 1D        	lda	<L1170+titleOffsetX_1
 27854 06:7201: 65 13        	adc	<L1170+dx_1
 27855 06:7203: 48           	pha
 27856 06:7204: F4 xx xx     	pea	#^L1168+4
 27857 06:7207: F4 xx xx     	pea	#<L1168+4
 27858 06:720A: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 27859 06:720E: 85 13        	sta	<L1170+dx_1
 27860                        ;				}
 27861                        	.line	5239
 27862                        ;			}
 27863                        L10486:
 27864                        	.line	5240
 27865                        ;			else
 27866 06:7210: 82 36 00     	brl	L10487
 27867                        L10485:
 27868                        ;			{
 27869                        	.line	5242
 27870                        ;				dx = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,color,BITMAP_FRONT);
 27871                        	.line	5243
  Sat Jul 10 2021  1:15                                                Page 515


 27872 06:7213: F4 00 00     	pea	#<$0
 27873 06:7216: D4 45        	pei	<L1169+color_0
 27874 06:7218: D4 1F        	pei	<L1170+titleOffsetY_1
 27875 06:721A: D4 1D        	pei	<L1170+titleOffsetX_1
 27876 06:721C: D4 17        	pei	<L1170+caption_1+2
 27877 06:721E: D4 15        	pei	<L1170+caption_1
 27878 06:7220: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 27879 06:7224: 85 13        	sta	<L1170+dx_1
 27880                        ;				if(chromeByte)
 27881                        	.line	5244
 27882                        ;				{
 27883 06:7226: A5 29        	lda	<L1170+chromeByte_2
 27884 06:7228: 29 FF 00     	and	#$ff
 27885 06:722B: D0 03        	bne	L1199
 27886 06:722D: 82 19 00     	brl	L10488
 27887                        L1199:
 27888                        	.line	5245
 27889                        ;					dx = k_draw_text
                    _point_ex("*",titleOffsetX + dx,titleOffsetY,color,BITMAP_FR
                    ONT);
 27890                        	.line	5246
 27891 06:7230: F4 00 00     	pea	#<$0
 27892 06:7233: D4 45        	pei	<L1169+color_0
 27893 06:7235: D4 1F        	pei	<L1170+titleOffsetY_1
 27894 06:7237: 18           	clc
 27895 06:7238: A5 1D        	lda	<L1170+titleOffsetX_1
 27896 06:723A: 65 13        	adc	<L1170+dx_1
 27897 06:723C: 48           	pha
 27898 06:723D: F4 xx xx     	pea	#^L1168+6
 27899 06:7240: F4 xx xx     	pea	#<L1168+6
 27900 06:7243: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 27901 06:7247: 85 13        	sta	<L1170+dx_1
 27902                        ;				}
 27903                        	.line	5247
 27904                        ;
 27905                        ;			}
 27906                        L10488:
 27907                        	.line	5249
 27908                        L10487:
 27909                        ;		}
 27910                        	.line	5250
 27911                        L10484:
 27912                        ;		titleOffsetY+=(FONTH + 2);
 27913                        	.line	5251
 27914 06:7249: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 27915 06:724D: 85 01        	sta	<R0
 27916 06:724F: 18           	clc
 27917 06:7250: A5 01        	lda	<R0
 27918 06:7252: 65 1F        	adc	<L1170+titleOffsetY_1
 27919 06:7254: 85 05        	sta	<R1
 27920 06:7256: 18           	clc
 27921 06:7257: A9 02 00     	lda	#$2
 27922 06:725A: 65 05        	adc	<R1
 27923 06:725C: 85 1F        	sta	<L1170+titleOffsetY_1
 27924                        ;		i++;
 27925                        	.line	5252
 27926 06:725E: E6 11        	inc	<L1170+i_1
 27927                        ;		caption = captions[i];
  Sat Jul 10 2021  1:15                                                Page 516


 27928                        	.line	5253
 27929 06:7260: A0 00 00     	ldy	#$0
 27930 06:7263: A5 11        	lda	<L1170+i_1
 27931 06:7265: 10 01        	bpl	L1200
 27932 06:7267: 88           	dey
 27933                        L1200:
 27934 06:7268: 85 05        	sta	<R1
 27935 06:726A: 84 07        	sty	<R1+2
 27936 06:726C: D4 07        	pei	<R1+2
 27937 06:726E: D4 05        	pei	<R1
 27938 06:7270: A9 02 00     	lda	#$2
 27939                        	xref	~~~lasl
 27940 06:7273: 22 xx xx xx  	jsl	~~~lasl
 27941 06:7277: 85 01        	sta	<R0
 27942 06:7279: 86 03        	stx	<R0+2
 27943 06:727B: 18           	clc
 27944 06:727C: A5 3D        	lda	<L1169+captions_0
 27945 06:727E: 65 01        	adc	<R0
 27946 06:7280: 85 09        	sta	<R2
 27947 06:7282: A5 3F        	lda	<L1169+captions_0+2
 27948 06:7284: 65 03        	adc	<R0+2
 27949 06:7286: 85 0B        	sta	<R2+2
 27950 06:7288: A7 09        	lda	[<R2]
 27951 06:728A: 85 15        	sta	<L1170+caption_1
 27952 06:728C: A0 02 00     	ldy	#$2
 27953 06:728F: B7 09        	lda	[<R2],Y
 27954 06:7291: 85 17        	sta	<L1170+caption_1+2
 27955                        ;	}
 27956                        	.endblock	5254
 27957                        	.line	5254
 27958 06:7293: 82 91 FD     	brl	L10476
 27959                        L10477:
 27960                        ;
 27961                        ;	return NULL;
 27962                        	.line	5256
 27963 06:7296: A9 00 00     	lda	#$0
 27964 06:7299: AA           	tax
 27965 06:729A: A9 00 00     	lda	#$0
 27966                        L1201:
 27967 06:729D: A8           	tay
 27968 06:729E: A5 2B        	lda	<L1169+2
 27969 06:72A0: 85 47        	sta	<L1169+2+28
 27970 06:72A2: A5 2A        	lda	<L1169+1
 27971 06:72A4: 85 46        	sta	<L1169+1+28
 27972 06:72A6: 2B           	pld
 27973 06:72A7: 3B           	tsc
 27974 06:72A8: 18           	clc
 27975 06:72A9: 69 45 00     	adc	#L1169+28
 27976 06:72AC: 1B           	tcs
 27977 06:72AD: 98           	tya
 27978 06:72AE: 6B           	rtl
 27979                        ;
 27980                        ;}
 27981                        	.line	5258
 27982                        	.endblock	5258
 27983             00000029   L1169	equ	41
 27984             0000000D   L1170	equ	13
 27985 06:72AF:              	ends
  Sat Jul 10 2021  1:15                                                Page 517


 27986                        	efunc
 27987                        	.endfunc	5258,13,41
 27988                        	.line	5258
 27989                        	data
 27990                        L1168:
 27991 00:0C36: 2A 00 2A 00  	db	$2A,$00,$2A,$00,$2A,$00,$2A,$00
       00:0C3A: 2A 00 2A 00 
 27992 00:0C3E:              	ends
 27993                        ;
 27994                        ;PMENU k_create_context_menu_in_window(PWINDOW pWi
                    n,UINT selected,UINT unselected,
 27995                        ;		                              int cx,int
                     cy,int width,int height,
 27996                        ;							
                    		  char FAR **captions,int color, int bgcolor)
 27997                        ;{
 27998                        	.line	5260
 27999                        	.line	5263
 28000                        	GFX
 28001                        	xdef	~~k_create_context_menu_in_window
 28002                        	func
 28003                        	.function	5263
 28004                        ~~k_create_context_menu_in_window:
 28005                        	longa	on
 28006                        	longi	on
 28007 06:72AF: 3B           	tsc
 28008 06:72B0: 38           	sec
 28009 06:72B1: E9 28 00     	sbc	#L1203
 28010 06:72B4: 1B           	tcs
 28011 06:72B5: 0B           	phd
 28012 06:72B6: 5B           	tcd
 28013             00000004   pWin_0	set	4
 28014             00000008   selected_0	set	8
 28015             0000000A   unselected_0	set	10
 28016             0000000C   cx_0	set	12
 28017             0000000E   cy_0	set	14
 28018             00000010   width_0	set	16
 28019             00000012   height_0	set	18
 28020             00000014   captions_0	set	20
 28021             00000018   color_0	set	24
 28022             0000001A   bgcolor_0	set	26
 28023                        	.block	5263
 28024                        ;	FONTMETRIC metric;
 28025                        ;
 28026                        ;	int i = 0;
 28027                        ;	int hy = 0;
 28028                        ;	char FAR *caption = NULL;
 28029                        ;
 28030                        ;	int borderTitle = 10;
 28031                        ;	int borderWidth = 3;
 28032                        ;
 28033                        ;	int titleOffsetX = cx+4;
 28034                        ;	int titleOffsetY = cy+2;
 28035                        ;	int titleScaler = 0;
 28036                        ;
 28037                        ;	int clientOffsetX = cx+borderWidth+2;
 28038                        ;	int clientOffsetY = cy+borderTitle+1;
 28039                        ;
  Sat Jul 10 2021  1:15                                                Page 518


 28040                        ;	int endX = width + cx - borderWidth;
 28041                        ;
 28042                        ;
 28043                        ;	if(selected == -1 && unselected == -1)
 28044             00000000   metric_1	set	0
 28045             00000004   i_1	set	4
 28046             00000006   hy_1	set	6
 28047             00000008   caption_1	set	8
 28048             0000000C   borderTitle_1	set	12
 28049             0000000E   borderWidth_1	set	14
 28050             00000010   titleOffsetX_1	set	16
 28051             00000012   titleOffsetY_1	set	18
 28052             00000014   titleScaler_1	set	20
 28053             00000016   clientOffsetX_1	set	22
 28054             00000018   clientOffsetY_1	set	24
 28055             0000001A   endX_1	set	26
 28056                        	.sym	metric,0,10,1,32,35
 28057                        	.sym	i,4,5,1,16
 28058                        	.sym	hy,6,5,1,16
 28059                        	.sym	caption,8,142,1,32
 28060                        	.sym	borderTitle,12,5,1,16
 28061                        	.sym	borderWidth,14,5,1,16
 28062                        	.sym	titleOffsetX,16,5,1,16
 28063                        	.sym	titleOffsetY,18,5,1,16
 28064                        	.sym	titleScaler,20,5,1,16
 28065                        	.sym	clientOffsetX,22,5,1,16
 28066                        	.sym	clientOffsetY,24,5,1,16
 28067                        	.sym	endX,26,5,1,16
 28068                        	.sym	pWin,4,138,6,32,33
 28069                        	.sym	selected,8,16,6,16
 28070                        	.sym	unselected,10,16,6,16
 28071                        	.sym	cx,12,5,6,16
 28072                        	.sym	cy,14,5,6,16
 28073                        	.sym	width,16,5,6,16
 28074                        	.sym	height,18,5,6,16
 28075                        	.sym	captions,20,1166,6,32
 28076                        	.sym	color,24,5,6,16
 28077                        	.sym	bgcolor,26,5,6,16
 28078 06:72B7: 64 11        	stz	<L1204+i_1
 28079 06:72B9: 64 13        	stz	<L1204+hy_1
 28080 06:72BB: 64 15        	stz	<L1204+caption_1
 28081 06:72BD: 64 17        	stz	<L1204+caption_1+2
 28082 06:72BF: A9 0A 00     	lda	#$a
 28083 06:72C2: 85 19        	sta	<L1204+borderTitle_1
 28084 06:72C4: A9 03 00     	lda	#$3
 28085 06:72C7: 85 1B        	sta	<L1204+borderWidth_1
 28086 06:72C9: 18           	clc
 28087 06:72CA: A9 04 00     	lda	#$4
 28088 06:72CD: 65 34        	adc	<L1203+cx_0
 28089 06:72CF: 85 1D        	sta	<L1204+titleOffsetX_1
 28090 06:72D1: 18           	clc
 28091 06:72D2: A9 02 00     	lda	#$2
 28092 06:72D5: 65 36        	adc	<L1203+cy_0
 28093 06:72D7: 85 1F        	sta	<L1204+titleOffsetY_1
 28094 06:72D9: 64 21        	stz	<L1204+titleScaler_1
 28095 06:72DB: 18           	clc
 28096 06:72DC: A5 34        	lda	<L1203+cx_0
 28097 06:72DE: 65 1B        	adc	<L1204+borderWidth_1
  Sat Jul 10 2021  1:15                                                Page 519


 28098 06:72E0: 85 01        	sta	<R0
 28099 06:72E2: 18           	clc
 28100 06:72E3: A9 02 00     	lda	#$2
 28101 06:72E6: 65 01        	adc	<R0
 28102 06:72E8: 85 23        	sta	<L1204+clientOffsetX_1
 28103 06:72EA: 18           	clc
 28104 06:72EB: A5 36        	lda	<L1203+cy_0
 28105 06:72ED: 65 19        	adc	<L1204+borderTitle_1
 28106 06:72EF: 85 01        	sta	<R0
 28107 06:72F1: A5 01        	lda	<R0
 28108 06:72F3: 1A           	ina
 28109 06:72F4: 85 25        	sta	<L1204+clientOffsetY_1
 28110 06:72F6: 18           	clc
 28111 06:72F7: A5 38        	lda	<L1203+width_0
 28112 06:72F9: 65 34        	adc	<L1203+cx_0
 28113 06:72FB: 85 01        	sta	<R0
 28114 06:72FD: 38           	sec
 28115 06:72FE: A5 01        	lda	<R0
 28116 06:7300: E5 1B        	sbc	<L1204+borderWidth_1
 28117 06:7302: 85 27        	sta	<L1204+endX_1
 28118                        	.line	5283
 28119                        ;		k_vdma_fill_rect_ex(cx,cy,width,height,b
                    gcolor,BITMAP_FRONT);
 28120 06:7304: A5 30        	lda	<L1203+selected_0
 28121 06:7306: C9 FF FF     	cmp	#<$ffffffff
 28122 06:7309: F0 03        	beq	L1206
 28123 06:730B: 82 37 00     	brl	L10489
 28124                        L1206:
 28125 06:730E: A5 32        	lda	<L1203+unselected_0
 28126 06:7310: C9 FF FF     	cmp	#<$ffffffff
 28127 06:7313: F0 03        	beq	L1207
 28128 06:7315: 82 2D 00     	brl	L10489
 28129                        L1207:
 28130                        	.line	5284
 28131 06:7318: F4 00 00     	pea	#<$0
 28132 06:731B: D4 42        	pei	<L1203+bgcolor_0
 28133 06:731D: D4 3A        	pei	<L1203+height_0
 28134 06:731F: D4 38        	pei	<L1203+width_0
 28135 06:7321: A0 00 00     	ldy	#$0
 28136 06:7324: A5 36        	lda	<L1203+cy_0
 28137 06:7326: 10 01        	bpl	L1208
 28138 06:7328: 88           	dey
 28139                        L1208:
 28140 06:7329: 85 01        	sta	<R0
 28141 06:732B: 84 03        	sty	<R0+2
 28142 06:732D: D4 03        	pei	<R0+2
 28143 06:732F: D4 01        	pei	<R0
 28144 06:7331: A0 00 00     	ldy	#$0
 28145 06:7334: A5 34        	lda	<L1203+cx_0
 28146 06:7336: 10 01        	bpl	L1209
 28147 06:7338: 88           	dey
 28148                        L1209:
 28149 06:7339: 85 05        	sta	<R1
 28150 06:733B: 84 07        	sty	<R1+2
 28151 06:733D: D4 07        	pei	<R1+2
 28152 06:733F: D4 05        	pei	<R1
 28153 06:7341: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 28154                        ;
  Sat Jul 10 2021  1:15                                                Page 520


 28155                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 28156                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 28157                        ;	i = 0;
 28158                        L10489:
 28159                        	.line	5288
 28160 06:7345: 64 11        	stz	<L1204+i_1
 28161                        ;	caption = captions[i];
 28162                        	.line	5289
 28163 06:7347: A0 00 00     	ldy	#$0
 28164 06:734A: A5 11        	lda	<L1204+i_1
 28165 06:734C: 10 01        	bpl	L1210
 28166 06:734E: 88           	dey
 28167                        L1210:
 28168 06:734F: 85 05        	sta	<R1
 28169 06:7351: 84 07        	sty	<R1+2
 28170 06:7353: D4 07        	pei	<R1+2
 28171 06:7355: D4 05        	pei	<R1
 28172 06:7357: A9 02 00     	lda	#$2
 28173                        	xref	~~~lasl
 28174 06:735A: 22 xx xx xx  	jsl	~~~lasl
 28175 06:735E: 85 01        	sta	<R0
 28176 06:7360: 86 03        	stx	<R0+2
 28177 06:7362: 18           	clc
 28178 06:7363: A5 3C        	lda	<L1203+captions_0
 28179 06:7365: 65 01        	adc	<R0
 28180 06:7367: 85 09        	sta	<R2
 28181 06:7369: A5 3E        	lda	<L1203+captions_0+2
 28182 06:736B: 65 03        	adc	<R0+2
 28183 06:736D: 85 0B        	sta	<R2+2
 28184 06:736F: A7 09        	lda	[<R2]
 28185 06:7371: 85 15        	sta	<L1204+caption_1
 28186 06:7373: A0 02 00     	ldy	#$2
 28187 06:7376: B7 09        	lda	[<R2],Y
 28188 06:7378: 85 17        	sta	<L1204+caption_1+2
 28189                        ;	while(caption!=NULL)
 28190                        	.line	5290
 28191                        L10490:
 28192 06:737A: A5 15        	lda	<L1204+caption_1
 28193 06:737C: 05 17        	ora	<L1204+caption_1+2
 28194 06:737E: D0 03        	bne	L1211
 28195 06:7380: 82 A9 01     	brl	L10491
 28196                        L1211:
 28197                        ;	{
 28198                        	.line	5291
 28199                        ;		//k_debug_strings("k_create_context_menu
                    :caption:",caption);
 28200                        ;
 28201                        ;		//caption = strupr(caption);
 28202                        ;
 28203                        ;		if(selected!=-1 && unselected!=-1)
 28204                        	.line	5296
 28205                        ;		{
 28206 06:7383: A5 30        	lda	<L1203+selected_0
 28207 06:7385: C9 FF FF     	cmp	#<$ffffffff
 28208 06:7388: D0 03        	bne	L1212
 28209 06:738A: 82 D8 00     	brl	L10492
  Sat Jul 10 2021  1:15                                                Page 521


 28210                        L1212:
 28211 06:738D: A5 32        	lda	<L1203+unselected_0
 28212 06:738F: C9 FF FF     	cmp	#<$ffffffff
 28213 06:7392: D0 03        	bne	L1213
 28214 06:7394: 82 CE 00     	brl	L10492
 28215                        L1213:
 28216                        	.line	5297
 28217                        ;			if( i == selected && caption[0] 
                    != '_')
 28218                        	.line	5298
 28219                        ;			{
 28220 06:7397: A5 11        	lda	<L1204+i_1
 28221 06:7399: C5 30        	cmp	<L1203+selected_0
 28222 06:739B: F0 03        	beq	L1214
 28223 06:739D: 82 5E 00     	brl	L10493
 28224                        L1214:
 28225 06:73A0: E2 20        	sep	#$20
 28226                        	longa	off
 28227 06:73A2: A7 15        	lda	[<L1204+caption_1]
 28228 06:73A4: C9 5F        	cmp	#<$5f
 28229 06:73A6: C2 20        	rep	#$20
 28230                        	longa	on
 28231 06:73A8: D0 03        	bne	L1215
 28232 06:73AA: 82 51 00     	brl	L10493
 28233                        L1215:
 28234                        	.line	5299
 28235                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,color,BITMAP_FRON
                    T);
 28236                        	.line	5300
 28237 06:73AD: F4 00 00     	pea	#<$0
 28238 06:73B0: D4 40        	pei	<L1203+color_0
 28239 06:73B2: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 28240 06:73B6: 48           	pha
 28241 06:73B7: A0 10 00     	ldy	#$10
 28242 06:73BA: B7 2C        	lda	[<L1203+pWin_0],Y
 28243 06:73BC: 48           	pha
 28244 06:73BD: A0 00 00     	ldy	#$0
 28245 06:73C0: A5 1F        	lda	<L1204+titleOffsetY_1
 28246 06:73C2: 10 01        	bpl	L1216
 28247 06:73C4: 88           	dey
 28248                        L1216:
 28249 06:73C5: 85 01        	sta	<R0
 28250 06:73C7: 84 03        	sty	<R0+2
 28251 06:73C9: D4 03        	pei	<R0+2
 28252 06:73CB: D4 01        	pei	<R0
 28253 06:73CD: A0 00 00     	ldy	#$0
 28254 06:73D0: 5A           	phy
 28255 06:73D1: A0 0C 00     	ldy	#$c
 28256 06:73D4: B7 2C        	lda	[<L1203+pWin_0],Y
 28257 06:73D6: 7A           	ply
 28258 06:73D7: 2A           	rol	A
 28259 06:73D8: 6A           	ror	A
 28260 06:73D9: 10 01        	bpl	L1217
 28261 06:73DB: 88           	dey
 28262                        L1217:
 28263 06:73DC: 85 05        	sta	<R1
 28264 06:73DE: 84 07        	sty	<R1+2
  Sat Jul 10 2021  1:15                                                Page 522


 28265 06:73E0: D4 07        	pei	<R1+2
 28266 06:73E2: D4 05        	pei	<R1
 28267 06:73E4: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 28268                        ;				hy = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,bgcolor,BITMAP_FRONT);
 28269                        	.line	5301
 28270 06:73E8: F4 00 00     	pea	#<$0
 28271 06:73EB: D4 42        	pei	<L1203+bgcolor_0
 28272 06:73ED: D4 1F        	pei	<L1204+titleOffsetY_1
 28273 06:73EF: D4 1D        	pei	<L1204+titleOffsetX_1
 28274 06:73F1: D4 17        	pei	<L1204+caption_1+2
 28275 06:73F3: D4 15        	pei	<L1204+caption_1
 28276 06:73F5: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 28277 06:73F9: 85 13        	sta	<L1204+hy_1
 28278                        ;			}
 28279                        	.line	5302
 28280                        ;			else if( i == unselected && capt
                    ion[0] != '_')
 28281 06:73FB: 82 64 00     	brl	L10494
 28282                        L10493:
 28283                        	.line	5303
 28284                        ;			{
 28285 06:73FE: A5 11        	lda	<L1204+i_1
 28286 06:7400: C5 32        	cmp	<L1203+unselected_0
 28287 06:7402: F0 03        	beq	L1218
 28288 06:7404: 82 5B 00     	brl	L10495
 28289                        L1218:
 28290 06:7407: E2 20        	sep	#$20
 28291                        	longa	off
 28292 06:7409: A7 15        	lda	[<L1204+caption_1]
 28293 06:740B: C9 5F        	cmp	#<$5f
 28294 06:740D: C2 20        	rep	#$20
 28295                        	longa	on
 28296 06:740F: D0 03        	bne	L1219
 28297 06:7411: 82 4E 00     	brl	L10495
 28298                        L1219:
 28299                        	.line	5304
 28300                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,bgcolor,BITMAP_FR
                    ONT);
 28301                        	.line	5305
 28302 06:7414: F4 00 00     	pea	#<$0
 28303 06:7417: D4 42        	pei	<L1203+bgcolor_0
 28304 06:7419: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 28305 06:741D: 48           	pha
 28306 06:741E: A0 10 00     	ldy	#$10
 28307 06:7421: B7 2C        	lda	[<L1203+pWin_0],Y
 28308 06:7423: 48           	pha
 28309 06:7424: A0 00 00     	ldy	#$0
 28310 06:7427: A5 1F        	lda	<L1204+titleOffsetY_1
 28311 06:7429: 10 01        	bpl	L1220
 28312 06:742B: 88           	dey
 28313                        L1220:
 28314 06:742C: 85 01        	sta	<R0
 28315 06:742E: 84 03        	sty	<R0+2
 28316 06:7430: D4 03        	pei	<R0+2
 28317 06:7432: D4 01        	pei	<R0
 28318 06:7434: A0 00 00     	ldy	#$0
  Sat Jul 10 2021  1:15                                                Page 523


 28319 06:7437: 5A           	phy
 28320 06:7438: A0 0C 00     	ldy	#$c
 28321 06:743B: B7 2C        	lda	[<L1203+pWin_0],Y
 28322 06:743D: 7A           	ply
 28323 06:743E: 2A           	rol	A
 28324 06:743F: 6A           	ror	A
 28325 06:7440: 10 01        	bpl	L1221
 28326 06:7442: 88           	dey
 28327                        L1221:
 28328 06:7443: 85 05        	sta	<R1
 28329 06:7445: 84 07        	sty	<R1+2
 28330 06:7447: D4 07        	pei	<R1+2
 28331 06:7449: D4 05        	pei	<R1
 28332 06:744B: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 28333                        ;				hy = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,color,BITMAP_FRONT);
 28334                        	.line	5306
 28335 06:744F: F4 00 00     	pea	#<$0
 28336 06:7452: D4 40        	pei	<L1203+color_0
 28337 06:7454: D4 1F        	pei	<L1204+titleOffsetY_1
 28338 06:7456: D4 1D        	pei	<L1204+titleOffsetX_1
 28339 06:7458: D4 17        	pei	<L1204+caption_1+2
 28340 06:745A: D4 15        	pei	<L1204+caption_1
 28341 06:745C: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 28342 06:7460: 85 13        	sta	<L1204+hy_1
 28343                        ;			}
 28344                        	.line	5307
 28345                        ;
 28346                        ;		}
 28347                        L10495:
 28348                        L10494:
 28349                        	.line	5309
 28350                        ;		else
 28351 06:7462: 82 7A 00     	brl	L10496
 28352                        L10492:
 28353                        ;		{
 28354                        	.line	5311
 28355                        ;			if( i == selected && caption[0] 
                    != '_')
 28356                        	.line	5312
 28357                        ;			{
 28358 06:7465: A5 11        	lda	<L1204+i_1
 28359 06:7467: C5 30        	cmp	<L1203+selected_0
 28360 06:7469: F0 03        	beq	L1222
 28361 06:746B: 82 5E 00     	brl	L10497
 28362                        L1222:
 28363 06:746E: E2 20        	sep	#$20
 28364                        	longa	off
 28365 06:7470: A7 15        	lda	[<L1204+caption_1]
 28366 06:7472: C9 5F        	cmp	#<$5f
 28367 06:7474: C2 20        	rep	#$20
 28368                        	longa	on
 28369 06:7476: D0 03        	bne	L1223
 28370 06:7478: 82 51 00     	brl	L10497
 28371                        L1223:
 28372                        	.line	5313
 28373                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,color,BITMAP_FRON
  Sat Jul 10 2021  1:15                                                Page 524


                    T);
 28374                        	.line	5314
 28375 06:747B: F4 00 00     	pea	#<$0
 28376 06:747E: D4 40        	pei	<L1203+color_0
 28377 06:7480: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 28378 06:7484: 48           	pha
 28379 06:7485: A0 10 00     	ldy	#$10
 28380 06:7488: B7 2C        	lda	[<L1203+pWin_0],Y
 28381 06:748A: 48           	pha
 28382 06:748B: A0 00 00     	ldy	#$0
 28383 06:748E: A5 1F        	lda	<L1204+titleOffsetY_1
 28384 06:7490: 10 01        	bpl	L1224
 28385 06:7492: 88           	dey
 28386                        L1224:
 28387 06:7493: 85 01        	sta	<R0
 28388 06:7495: 84 03        	sty	<R0+2
 28389 06:7497: D4 03        	pei	<R0+2
 28390 06:7499: D4 01        	pei	<R0
 28391 06:749B: A0 00 00     	ldy	#$0
 28392 06:749E: 5A           	phy
 28393 06:749F: A0 0C 00     	ldy	#$c
 28394 06:74A2: B7 2C        	lda	[<L1203+pWin_0],Y
 28395 06:74A4: 7A           	ply
 28396 06:74A5: 2A           	rol	A
 28397 06:74A6: 6A           	ror	A
 28398 06:74A7: 10 01        	bpl	L1225
 28399 06:74A9: 88           	dey
 28400                        L1225:
 28401 06:74AA: 85 05        	sta	<R1
 28402 06:74AC: 84 07        	sty	<R1+2
 28403 06:74AE: D4 07        	pei	<R1+2
 28404 06:74B0: D4 05        	pei	<R1
 28405 06:74B2: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 28406                        ;				hy = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,bgcolor,BITMAP_FRONT);
 28407                        	.line	5315
 28408 06:74B6: F4 00 00     	pea	#<$0
 28409 06:74B9: D4 42        	pei	<L1203+bgcolor_0
 28410 06:74BB: D4 1F        	pei	<L1204+titleOffsetY_1
 28411 06:74BD: D4 1D        	pei	<L1204+titleOffsetX_1
 28412 06:74BF: D4 17        	pei	<L1204+caption_1+2
 28413 06:74C1: D4 15        	pei	<L1204+caption_1
 28414 06:74C3: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 28415 06:74C7: 85 13        	sta	<L1204+hy_1
 28416                        ;			}
 28417                        	.line	5316
 28418                        ;			else
 28419 06:74C9: 82 13 00     	brl	L10498
 28420                        L10497:
 28421                        ;			{
 28422                        	.line	5318
 28423                        ;				hy = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,color,BITMAP_FRONT);
 28424                        	.line	5319
 28425 06:74CC: F4 00 00     	pea	#<$0
 28426 06:74CF: D4 40        	pei	<L1203+color_0
 28427 06:74D1: D4 1F        	pei	<L1204+titleOffsetY_1
 28428 06:74D3: D4 1D        	pei	<L1204+titleOffsetX_1
  Sat Jul 10 2021  1:15                                                Page 525


 28429 06:74D5: D4 17        	pei	<L1204+caption_1+2
 28430 06:74D7: D4 15        	pei	<L1204+caption_1
 28431 06:74D9: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 28432 06:74DD: 85 13        	sta	<L1204+hy_1
 28433                        ;			}
 28434                        	.line	5320
 28435                        L10498:
 28436                        ;		}
 28437                        	.line	5321
 28438                        L10496:
 28439                        ;		titleOffsetY+=(FONTH + 2);
 28440                        	.line	5322
 28441 06:74DF: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 28442 06:74E3: 85 01        	sta	<R0
 28443 06:74E5: 18           	clc
 28444 06:74E6: A5 01        	lda	<R0
 28445 06:74E8: 65 1F        	adc	<L1204+titleOffsetY_1
 28446 06:74EA: 85 05        	sta	<R1
 28447 06:74EC: 18           	clc
 28448 06:74ED: A9 02 00     	lda	#$2
 28449 06:74F0: 65 05        	adc	<R1
 28450 06:74F2: 85 1F        	sta	<L1204+titleOffsetY_1
 28451                        ;		i++;
 28452                        	.line	5323
 28453 06:74F4: E6 11        	inc	<L1204+i_1
 28454                        ;		caption = captions[i];
 28455                        	.line	5324
 28456 06:74F6: A0 00 00     	ldy	#$0
 28457 06:74F9: A5 11        	lda	<L1204+i_1
 28458 06:74FB: 10 01        	bpl	L1226
 28459 06:74FD: 88           	dey
 28460                        L1226:
 28461 06:74FE: 85 05        	sta	<R1
 28462 06:7500: 84 07        	sty	<R1+2
 28463 06:7502: D4 07        	pei	<R1+2
 28464 06:7504: D4 05        	pei	<R1
 28465 06:7506: A9 02 00     	lda	#$2
 28466                        	xref	~~~lasl
 28467 06:7509: 22 xx xx xx  	jsl	~~~lasl
 28468 06:750D: 85 01        	sta	<R0
 28469 06:750F: 86 03        	stx	<R0+2
 28470 06:7511: 18           	clc
 28471 06:7512: A5 3C        	lda	<L1203+captions_0
 28472 06:7514: 65 01        	adc	<R0
 28473 06:7516: 85 09        	sta	<R2
 28474 06:7518: A5 3E        	lda	<L1203+captions_0+2
 28475 06:751A: 65 03        	adc	<R0+2
 28476 06:751C: 85 0B        	sta	<R2+2
 28477 06:751E: A7 09        	lda	[<R2]
 28478 06:7520: 85 15        	sta	<L1204+caption_1
 28479 06:7522: A0 02 00     	ldy	#$2
 28480 06:7525: B7 09        	lda	[<R2],Y
 28481 06:7527: 85 17        	sta	<L1204+caption_1+2
 28482                        ;	}
 28483                        	.line	5325
 28484 06:7529: 82 4E FE     	brl	L10490
 28485                        L10491:
 28486                        ;
  Sat Jul 10 2021  1:15                                                Page 526


 28487                        ;	return NULL;
 28488                        	.line	5327
 28489 06:752C: A9 00 00     	lda	#$0
 28490 06:752F: AA           	tax
 28491 06:7530: A9 00 00     	lda	#$0
 28492                        L1227:
 28493 06:7533: A8           	tay
 28494 06:7534: A5 2A        	lda	<L1203+2
 28495 06:7536: 85 42        	sta	<L1203+2+24
 28496 06:7538: A5 29        	lda	<L1203+1
 28497 06:753A: 85 41        	sta	<L1203+1+24
 28498 06:753C: 2B           	pld
 28499 06:753D: 3B           	tsc
 28500 06:753E: 18           	clc
 28501 06:753F: 69 40 00     	adc	#L1203+24
 28502 06:7542: 1B           	tcs
 28503 06:7543: 98           	tya
 28504 06:7544: 6B           	rtl
 28505                        ;
 28506                        ;}
 28507                        	.line	5329
 28508                        	.endblock	5329
 28509             00000028   L1203	equ	40
 28510             0000000D   L1204	equ	13
 28511 06:7545:              	ends
 28512                        	efunc
 28513                        	.endfunc	5329,13,40
 28514                        	.line	5329
 28515                        ;
 28516                        ;
 28517                        ;PMENU k_render_context_menu(PMENU menu)
 28518                        ;{
 28519                        	.line	5332
 28520                        	.line	5333
 28521                        	GFX
 28522                        	xdef	~~k_render_context_menu
 28523                        	func
 28524                        	.function	5333
 28525                        ~~k_render_context_menu:
 28526                        	longa	on
 28527                        	longi	on
 28528 06:7545: 3B           	tsc
 28529 06:7546: 38           	sec
 28530 06:7547: E9 2A 00     	sbc	#L1228
 28531 06:754A: 1B           	tcs
 28532 06:754B: 0B           	phd
 28533 06:754C: 5B           	tcd
 28534             00000004   menu_0	set	4
 28535                        	.block	5333
 28536                        ;	FONTMETRIC metric;
 28537                        ;
 28538                        ;	int i = 0;
 28539                        ;
 28540                        ;	int cx = menu->cx;
 28541                        ;	int cy = menu->cy;
 28542                        ;
 28543                        ;	char FAR *caption = NULL;
 28544                        ;
  Sat Jul 10 2021  1:15                                                Page 527


 28545                        ;	int borderTitle = 10;
 28546                        ;	int borderWidth = 3;
 28547                        ;
 28548                        ;	int titleOffsetX = cx+2;
 28549                        ;	int titleOffsetY = cy+2;
 28550                        ;	int titleScaler = 0;
 28551                        ;
 28552                        ;	int clientOffsetX = cx+borderWidth+2;
 28553                        ;	int clientOffsetY = cy+borderTitle+1;
 28554                        ;
 28555                        ;	int endX = menu->width + cx - borderWidth;
 28556                        ;
 28557                        ;
 28558                        ;/*
 28559                        ;	k_get_font_metrics(&metric);
 28560                        ;
 28561                        ;	height += metric.height + (int)(metric.width/4);
 28562                        ;
 28563                        ;	menu->cx = cx;
 28564                        ;	menu->cy = cy;
 28565                        ;	menu->height = height;
 28566                        ;	menu->width = width;
 28567                        ;
 28568                        ;	*/
 28569                        ;
 28570                        ;	k_vdma_fill_rect_ex(cx-1,cy,menu->width+1,menu->
                    height+1,0,BITMAP_FRONT);
 28571             00000000   metric_1	set	0
 28572             00000004   i_1	set	4
 28573             00000006   cx_1	set	6
 28574             00000008   cy_1	set	8
 28575             0000000A   caption_1	set	10
 28576             0000000E   borderTitle_1	set	14
 28577             00000010   borderWidth_1	set	16
 28578             00000012   titleOffsetX_1	set	18
 28579             00000014   titleOffsetY_1	set	20
 28580             00000016   titleScaler_1	set	22
 28581             00000018   clientOffsetX_1	set	24
 28582             0000001A   clientOffsetY_1	set	26
 28583             0000001C   endX_1	set	28
 28584                        	.sym	metric,0,10,1,32,35
 28585                        	.sym	i,4,5,1,16
 28586                        	.sym	cx,6,5,1,16
 28587                        	.sym	cy,8,5,1,16
 28588                        	.sym	caption,10,142,1,32
 28589                        	.sym	borderTitle,14,5,1,16
 28590                        	.sym	borderWidth,16,5,1,16
 28591                        	.sym	titleOffsetX,18,5,1,16
 28592                        	.sym	titleOffsetY,20,5,1,16
 28593                        	.sym	titleScaler,22,5,1,16
 28594                        	.sym	clientOffsetX,24,5,1,16
 28595                        	.sym	clientOffsetY,26,5,1,16
 28596                        	.sym	endX,28,5,1,16
 28597                        	.sym	menu,4,138,6,32,36
 28598 06:754D: 64 11        	stz	<L1229+i_1
 28599 06:754F: A7 2E        	lda	[<L1228+menu_0]
 28600 06:7551: 85 13        	sta	<L1229+cx_1
 28601 06:7553: A0 02 00     	ldy	#$2
  Sat Jul 10 2021  1:15                                                Page 528


 28602 06:7556: B7 2E        	lda	[<L1228+menu_0],Y
 28603 06:7558: 85 15        	sta	<L1229+cy_1
 28604 06:755A: 64 17        	stz	<L1229+caption_1
 28605 06:755C: 64 19        	stz	<L1229+caption_1+2
 28606 06:755E: A9 0A 00     	lda	#$a
 28607 06:7561: 85 1B        	sta	<L1229+borderTitle_1
 28608 06:7563: A9 03 00     	lda	#$3
 28609 06:7566: 85 1D        	sta	<L1229+borderWidth_1
 28610 06:7568: 18           	clc
 28611 06:7569: A9 02 00     	lda	#$2
 28612 06:756C: 65 13        	adc	<L1229+cx_1
 28613 06:756E: 85 1F        	sta	<L1229+titleOffsetX_1
 28614 06:7570: 18           	clc
 28615 06:7571: A9 02 00     	lda	#$2
 28616 06:7574: 65 15        	adc	<L1229+cy_1
 28617 06:7576: 85 21        	sta	<L1229+titleOffsetY_1
 28618 06:7578: 64 23        	stz	<L1229+titleScaler_1
 28619 06:757A: 18           	clc
 28620 06:757B: A5 13        	lda	<L1229+cx_1
 28621 06:757D: 65 1D        	adc	<L1229+borderWidth_1
 28622 06:757F: 85 01        	sta	<R0
 28623 06:7581: 18           	clc
 28624 06:7582: A9 02 00     	lda	#$2
 28625 06:7585: 65 01        	adc	<R0
 28626 06:7587: 85 25        	sta	<L1229+clientOffsetX_1
 28627 06:7589: 18           	clc
 28628 06:758A: A5 15        	lda	<L1229+cy_1
 28629 06:758C: 65 1B        	adc	<L1229+borderTitle_1
 28630 06:758E: 85 01        	sta	<R0
 28631 06:7590: A5 01        	lda	<R0
 28632 06:7592: 1A           	ina
 28633 06:7593: 85 27        	sta	<L1229+clientOffsetY_1
 28634 06:7595: 18           	clc
 28635 06:7596: A0 04 00     	ldy	#$4
 28636 06:7599: B7 2E        	lda	[<L1228+menu_0],Y
 28637 06:759B: 65 13        	adc	<L1229+cx_1
 28638 06:759D: 85 01        	sta	<R0
 28639 06:759F: 38           	sec
 28640 06:75A0: A5 01        	lda	<R0
 28641 06:75A2: E5 1D        	sbc	<L1229+borderWidth_1
 28642 06:75A4: 85 29        	sta	<L1229+endX_1
 28643                        	.line	5368
 28644 06:75A6: F4 00 00     	pea	#<$0
 28645 06:75A9: F4 00 00     	pea	#<$0
 28646 06:75AC: A0 06 00     	ldy	#$6
 28647 06:75AF: B7 2E        	lda	[<L1228+menu_0],Y
 28648 06:75B1: 1A           	ina
 28649 06:75B2: 48           	pha
 28650 06:75B3: A0 04 00     	ldy	#$4
 28651 06:75B6: B7 2E        	lda	[<L1228+menu_0],Y
 28652 06:75B8: 1A           	ina
 28653 06:75B9: 48           	pha
 28654 06:75BA: A0 00 00     	ldy	#$0
 28655 06:75BD: A5 15        	lda	<L1229+cy_1
 28656 06:75BF: 10 01        	bpl	L1231
 28657 06:75C1: 88           	dey
 28658                        L1231:
 28659 06:75C2: 85 01        	sta	<R0
  Sat Jul 10 2021  1:15                                                Page 529


 28660 06:75C4: 84 03        	sty	<R0+2
 28661 06:75C6: D4 03        	pei	<R0+2
 28662 06:75C8: D4 01        	pei	<R0
 28663 06:75CA: 18           	clc
 28664 06:75CB: A9 FF FF     	lda	#$ffff
 28665 06:75CE: 65 13        	adc	<L1229+cx_1
 28666 06:75D0: 85 05        	sta	<R1
 28667 06:75D2: A0 00 00     	ldy	#$0
 28668 06:75D5: A5 05        	lda	<R1
 28669 06:75D7: 10 01        	bpl	L1232
 28670 06:75D9: 88           	dey
 28671                        L1232:
 28672 06:75DA: 85 05        	sta	<R1
 28673 06:75DC: 84 07        	sty	<R1+2
 28674 06:75DE: D4 07        	pei	<R1+2
 28675 06:75E0: D4 05        	pei	<R1
 28676 06:75E2: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 28677                        ;	k_vdma_fill_rect_ex(cx,cy,menu->width,menu->heig
                    ht,menu->fcolor,BITMAP_FRONT);
 28678                        	.line	5369
 28679 06:75E6: F4 00 00     	pea	#<$0
 28680 06:75E9: A0 08 00     	ldy	#$8
 28681 06:75EC: B7 2E        	lda	[<L1228+menu_0],Y
 28682 06:75EE: 48           	pha
 28683 06:75EF: A0 06 00     	ldy	#$6
 28684 06:75F2: B7 2E        	lda	[<L1228+menu_0],Y
 28685 06:75F4: 48           	pha
 28686 06:75F5: A0 04 00     	ldy	#$4
 28687 06:75F8: B7 2E        	lda	[<L1228+menu_0],Y
 28688 06:75FA: 48           	pha
 28689 06:75FB: A0 00 00     	ldy	#$0
 28690 06:75FE: A5 15        	lda	<L1229+cy_1
 28691 06:7600: 10 01        	bpl	L1233
 28692 06:7602: 88           	dey
 28693                        L1233:
 28694 06:7603: 85 01        	sta	<R0
 28695 06:7605: 84 03        	sty	<R0+2
 28696 06:7607: D4 03        	pei	<R0+2
 28697 06:7609: D4 01        	pei	<R0
 28698 06:760B: A0 00 00     	ldy	#$0
 28699 06:760E: A5 13        	lda	<L1229+cx_1
 28700 06:7610: 10 01        	bpl	L1234
 28701 06:7612: 88           	dey
 28702                        L1234:
 28703 06:7613: 85 05        	sta	<R1
 28704 06:7615: 84 07        	sty	<R1+2
 28705 06:7617: D4 07        	pei	<R1+2
 28706 06:7619: D4 05        	pei	<R1
 28707 06:761B: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 28708                        ;
 28709                        ;	//k_delay(15);
 28710                        ;
 28711                        ;
 28712                        ;
 28713                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 28714                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
  Sat Jul 10 2021  1:15                                                Page 530


 28715                        ;	i = 0;
 28716                        	.line	5377
 28717 06:761F: 64 11        	stz	<L1229+i_1
 28718                        ;	caption = ((LPCHAR*)menu->pCaption)[0];
 28719                        	.line	5378
 28720 06:7621: A0 13 00     	ldy	#$13
 28721 06:7624: B7 2E        	lda	[<L1228+menu_0],Y
 28722 06:7626: 85 01        	sta	<R0
 28723 06:7628: A0 15 00     	ldy	#$15
 28724 06:762B: B7 2E        	lda	[<L1228+menu_0],Y
 28725 06:762D: 85 03        	sta	<R0+2
 28726 06:762F: A7 01        	lda	[<R0]
 28727 06:7631: 85 17        	sta	<L1229+caption_1
 28728 06:7633: A0 02 00     	ldy	#$2
 28729 06:7636: B7 01        	lda	[<R0],Y
 28730 06:7638: 85 19        	sta	<L1229+caption_1+2
 28731                        ;	while(caption!=NULL)
 28732                        	.line	5379
 28733                        L10499:
 28734 06:763A: A5 17        	lda	<L1229+caption_1
 28735 06:763C: 05 19        	ora	<L1229+caption_1+2
 28736 06:763E: D0 03        	bne	L1235
 28737 06:7640: 82 65 00     	brl	L10500
 28738                        L1235:
 28739                        ;	{
 28740                        	.line	5380
 28741                        ;		//caption = strupr(caption);
 28742                        ;		k_draw_text_point_ex(caption,titleOffset
                    X,titleOffsetY,0,BITMAP_FRONT);
 28743                        	.line	5382
 28744 06:7643: F4 00 00     	pea	#<$0
 28745 06:7646: F4 00 00     	pea	#<$0
 28746 06:7649: D4 21        	pei	<L1229+titleOffsetY_1
 28747 06:764B: D4 1F        	pei	<L1229+titleOffsetX_1
 28748 06:764D: D4 19        	pei	<L1229+caption_1+2
 28749 06:764F: D4 17        	pei	<L1229+caption_1
 28750 06:7651: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 28751                        ;		titleOffsetY+=(FONTH + 2);
 28752                        	.line	5383
 28753 06:7655: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 28754 06:7659: 85 01        	sta	<R0
 28755 06:765B: 18           	clc
 28756 06:765C: A5 01        	lda	<R0
 28757 06:765E: 65 21        	adc	<L1229+titleOffsetY_1
 28758 06:7660: 85 05        	sta	<R1
 28759 06:7662: 18           	clc
 28760 06:7663: A9 02 00     	lda	#$2
 28761 06:7666: 65 05        	adc	<R1
 28762 06:7668: 85 21        	sta	<L1229+titleOffsetY_1
 28763                        ;		i++;
 28764                        	.line	5384
 28765 06:766A: E6 11        	inc	<L1229+i_1
 28766                        ;		caption = ((LPCHAR*)menu->pCaption)[i];
 28767                        	.line	5385
 28768 06:766C: A0 00 00     	ldy	#$0
 28769 06:766F: A5 11        	lda	<L1229+i_1
 28770 06:7671: 10 01        	bpl	L1236
 28771 06:7673: 88           	dey
  Sat Jul 10 2021  1:15                                                Page 531


 28772                        L1236:
 28773 06:7674: 85 05        	sta	<R1
 28774 06:7676: 84 07        	sty	<R1+2
 28775 06:7678: D4 07        	pei	<R1+2
 28776 06:767A: D4 05        	pei	<R1
 28777 06:767C: A9 02 00     	lda	#$2
 28778                        	xref	~~~lasl
 28779 06:767F: 22 xx xx xx  	jsl	~~~lasl
 28780 06:7683: 85 01        	sta	<R0
 28781 06:7685: 86 03        	stx	<R0+2
 28782 06:7687: 18           	clc
 28783 06:7688: A0 13 00     	ldy	#$13
 28784 06:768B: B7 2E        	lda	[<L1228+menu_0],Y
 28785 06:768D: 65 01        	adc	<R0
 28786 06:768F: 85 09        	sta	<R2
 28787 06:7691: A0 15 00     	ldy	#$15
 28788 06:7694: B7 2E        	lda	[<L1228+menu_0],Y
 28789 06:7696: 65 03        	adc	<R0+2
 28790 06:7698: 85 0B        	sta	<R2+2
 28791 06:769A: A7 09        	lda	[<R2]
 28792 06:769C: 85 17        	sta	<L1229+caption_1
 28793 06:769E: A0 02 00     	ldy	#$2
 28794 06:76A1: B7 09        	lda	[<R2],Y
 28795 06:76A3: 85 19        	sta	<L1229+caption_1+2
 28796                        ;	}
 28797                        	.line	5386
 28798 06:76A5: 82 92 FF     	brl	L10499
 28799                        L10500:
 28800                        ;
 28801                        ;	return menu;
 28802                        	.line	5388
 28803 06:76A8: A6 30        	ldx	<L1228+menu_0+2
 28804 06:76AA: A5 2E        	lda	<L1228+menu_0
 28805                        L1237:
 28806 06:76AC: A8           	tay
 28807 06:76AD: A5 2C        	lda	<L1228+2
 28808 06:76AF: 85 30        	sta	<L1228+2+4
 28809 06:76B1: A5 2B        	lda	<L1228+1
 28810 06:76B3: 85 2F        	sta	<L1228+1+4
 28811 06:76B5: 2B           	pld
 28812 06:76B6: 3B           	tsc
 28813 06:76B7: 18           	clc
 28814 06:76B8: 69 2E 00     	adc	#L1228+4
 28815 06:76BB: 1B           	tcs
 28816 06:76BC: 98           	tya
 28817 06:76BD: 6B           	rtl
 28818                        ;
 28819                        ;}
 28820                        	.line	5390
 28821                        	.endblock	5390
 28822             0000002A   L1228	equ	42
 28823             0000000D   L1229	equ	13
 28824 06:76BE:              	ends
 28825                        	efunc
 28826                        	.endfunc	5390,13,42
 28827                        	.line	5390
 28828                        ;
 28829                        ;void k_free_context_menu(PMENU pmenu,char fcolor,
  Sat Jul 10 2021  1:15                                                Page 532


                    char bcolor)
 28830                        ;{
 28831                        	.line	5392
 28832                        	.line	5393
 28833                        	GFX
 28834                        	xdef	~~k_free_context_menu
 28835                        	func
 28836                        	.function	5393
 28837                        ~~k_free_context_menu:
 28838                        	longa	on
 28839                        	longi	on
 28840 06:76BE: 3B           	tsc
 28841 06:76BF: 38           	sec
 28842 06:76C0: E9 08 00     	sbc	#L1238
 28843 06:76C3: 1B           	tcs
 28844 06:76C4: 0B           	phd
 28845 06:76C5: 5B           	tcd
 28846             00000004   pmenu_0	set	4
 28847             00000008   fcolor_0	set	8
 28848             0000000A   bcolor_0	set	10
 28849                        	.block	5393
 28850                        ;	if(pmenu)
 28851                        	.sym	pmenu,4,138,6,32,36
 28852                        	.sym	fcolor,8,14,6,8
 28853                        	.sym	bcolor,10,14,6,8
 28854                        	.line	5394
 28855                        ;	{
 28856 06:76C6: A5 0C        	lda	<L1238+pmenu_0
 28857 06:76C8: 05 0E        	ora	<L1238+pmenu_0+2
 28858 06:76CA: D0 03        	bne	L1241
 28859 06:76CC: 82 4E 00     	brl	L10501
 28860                        L1241:
 28861                        	.line	5395
 28862                        ;		k_vdma_fill_rect_ex(pmenu->cx-1,pmenu->c
                    y,pmenu->width+1,pmenu->height+1,bcolor,BITMAP_FRONT);
 28863                        	.line	5396
 28864 06:76CF: F4 00 00     	pea	#<$0
 28865 06:76D2: D4 12        	pei	<L1238+bcolor_0
 28866 06:76D4: A0 06 00     	ldy	#$6
 28867 06:76D7: B7 0C        	lda	[<L1238+pmenu_0],Y
 28868 06:76D9: 1A           	ina
 28869 06:76DA: 48           	pha
 28870 06:76DB: A0 04 00     	ldy	#$4
 28871 06:76DE: B7 0C        	lda	[<L1238+pmenu_0],Y
 28872 06:76E0: 1A           	ina
 28873 06:76E1: 48           	pha
 28874 06:76E2: A0 00 00     	ldy	#$0
 28875 06:76E5: 5A           	phy
 28876 06:76E6: A0 02 00     	ldy	#$2
 28877 06:76E9: B7 0C        	lda	[<L1238+pmenu_0],Y
 28878 06:76EB: 7A           	ply
 28879 06:76EC: 2A           	rol	A
 28880 06:76ED: 6A           	ror	A
 28881 06:76EE: 10 01        	bpl	L1242
 28882 06:76F0: 88           	dey
 28883                        L1242:
 28884 06:76F1: 85 01        	sta	<R0
 28885 06:76F3: 84 03        	sty	<R0+2
  Sat Jul 10 2021  1:15                                                Page 533


 28886 06:76F5: D4 03        	pei	<R0+2
 28887 06:76F7: D4 01        	pei	<R0
 28888 06:76F9: 18           	clc
 28889 06:76FA: A9 FF FF     	lda	#$ffff
 28890 06:76FD: 67 0C        	adc	[<L1238+pmenu_0]
 28891 06:76FF: 85 05        	sta	<R1
 28892 06:7701: A0 00 00     	ldy	#$0
 28893 06:7704: A5 05        	lda	<R1
 28894 06:7706: 10 01        	bpl	L1243
 28895 06:7708: 88           	dey
 28896                        L1243:
 28897 06:7709: 85 05        	sta	<R1
 28898 06:770B: 84 07        	sty	<R1+2
 28899 06:770D: D4 07        	pei	<R1+2
 28900 06:770F: D4 05        	pei	<R1
 28901 06:7711: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 28902                        ;		//k_vdma_fill_rect(pmenu->cx,pmenu->cy,p
                    menu->width,pmenu->height,bcolor);
 28903                        ;		k_mem_deallocate_heap(pmenu);
 28904                        	.line	5398
 28905 06:7715: D4 0E        	pei	<L1238+pmenu_0+2
 28906 06:7717: D4 0C        	pei	<L1238+pmenu_0
 28907 06:7719: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 28908                        ;	}
 28909                        	.line	5399
 28910                        ;}
 28911                        L10501:
 28912                        	.line	5400
 28913                        L1244:
 28914 06:771D: A5 0A        	lda	<L1238+2
 28915 06:771F: 85 12        	sta	<L1238+2+8
 28916 06:7721: A5 09        	lda	<L1238+1
 28917 06:7723: 85 11        	sta	<L1238+1+8
 28918 06:7725: 2B           	pld
 28919 06:7726: 3B           	tsc
 28920 06:7727: 18           	clc
 28921 06:7728: 69 10 00     	adc	#L1238+8
 28922 06:772B: 1B           	tcs
 28923 06:772C: 6B           	rtl
 28924                        	.endblock	5400
 28925             00000008   L1238	equ	8
 28926             00000009   L1239	equ	9
 28927 06:772D:              	ends
 28928                        	efunc
 28929                        	.endfunc	5400,9,8
 28930                        	.line	5400
 28931                        ;
 28932                        ;void k_bitblt(int x0, int y0, int width, int heig
                    ht, int x1, int y1)
 28933                        ;{
 28934                        	.line	5402
 28935                        	.line	5403
 28936                        	GFX
 28937                        	xdef	~~k_bitblt
 28938                        	func
 28939                        	.function	5403
 28940                        ~~k_bitblt:
 28941                        	longa	on
  Sat Jul 10 2021  1:15                                                Page 534


 28942                        	longi	on
 28943 06:772D: 3B           	tsc
 28944 06:772E: 38           	sec
 28945 06:772F: E9 20 00     	sbc	#L1245
 28946 06:7732: 1B           	tcs
 28947 06:7733: 0B           	phd
 28948 06:7734: 5B           	tcd
 28949             00000004   x0_0	set	4
 28950             00000006   y0_0	set	6
 28951             00000008   width_0	set	8
 28952             0000000A   height_0	set	10
 28953             0000000C   x1_0	set	12
 28954             0000000E   y1_0	set	14
 28955                        	.block	5403
 28956                        ;	long dy = 0L;
 28957                        ;	long dd = y1;
 28958                        ;	long pixelLocation0 = (long)(((long)y0 * 640L) +
                     (long)x0);
 28959                        ;	long pixelLocation1 = (long)(((long)y0 * 640L) +
                     (long)(x0 + width ));
 28960                        ;	long pixelLocationD = (long)(((long)y1 * 640L) +
                     (long)(x1));
 28961                        ;
 28962                        ;	long difference = pixelLocation1 - pixelLocation
                    0;
 28963                        ;
 28964                        ;	k_debug_long("pixelLocation0:",pixelLocation0);
 28965             00000000   dy_1	set	0
 28966             00000004   dd_1	set	4
 28967             00000008   pixelLocation0_1	set	8
 28968             0000000C   pixelLocation1_1	set	12
 28969             00000010   pixelLocationD_1	set	16
 28970             00000014   difference_1	set	20
 28971                        	.sym	dy,0,7,1,32
 28972                        	.sym	dd,4,7,1,32
 28973                        	.sym	pixelLocation0,8,7,1,32
 28974                        	.sym	pixelLocation1,12,7,1,32
 28975                        	.sym	pixelLocationD,16,7,1,32
 28976                        	.sym	difference,20,7,1,32
 28977                        	.sym	x0,4,5,6,16
 28978                        	.sym	y0,6,5,6,16
 28979                        	.sym	width,8,5,6,16
 28980                        	.sym	height,10,5,6,16
 28981                        	.sym	x1,12,5,6,16
 28982                        	.sym	y1,14,5,6,16
 28983 06:7735: 64 09        	stz	<L1246+dy_1
 28984 06:7737: 64 0B        	stz	<L1246+dy_1+2
 28985 06:7739: A0 00 00     	ldy	#$0
 28986 06:773C: A5 2E        	lda	<L1245+y1_0
 28987 06:773E: 10 01        	bpl	L1248
 28988 06:7740: 88           	dey
 28989                        L1248:
 28990 06:7741: 85 0D        	sta	<L1246+dd_1
 28991 06:7743: 84 0F        	sty	<L1246+dd_1+2
 28992 06:7745: A0 00 00     	ldy	#$0
 28993 06:7748: A5 24        	lda	<L1245+x0_0
 28994 06:774A: 10 01        	bpl	L1249
 28995 06:774C: 88           	dey
  Sat Jul 10 2021  1:15                                                Page 535


 28996                        L1249:
 28997 06:774D: 85 01        	sta	<R0
 28998 06:774F: 84 03        	sty	<R0+2
 28999 06:7751: A0 00 00     	ldy	#$0
 29000 06:7754: A5 26        	lda	<L1245+y0_0
 29001 06:7756: 10 01        	bpl	L1250
 29002 06:7758: 88           	dey
 29003                        L1250:
 29004 06:7759: 85 05        	sta	<R1
 29005 06:775B: 84 07        	sty	<R1+2
 29006 06:775D: F4 00 00     	pea	#^$280
 29007 06:7760: F4 80 02     	pea	#<$280
 29008 06:7763: D4 07        	pei	<R1+2
 29009 06:7765: D4 05        	pei	<R1
 29010                        	xref	~~~lmul
 29011 06:7767: 22 xx xx xx  	jsl	~~~lmul
 29012 06:776B: 85 05        	sta	<R1
 29013 06:776D: 86 07        	stx	<R1+2
 29014 06:776F: 18           	clc
 29015 06:7770: A5 05        	lda	<R1
 29016 06:7772: 65 01        	adc	<R0
 29017 06:7774: 85 11        	sta	<L1246+pixelLocation0_1
 29018 06:7776: A5 07        	lda	<R1+2
 29019 06:7778: 65 03        	adc	<R0+2
 29020 06:777A: 85 13        	sta	<L1246+pixelLocation0_1+2
 29021 06:777C: 18           	clc
 29022 06:777D: A5 24        	lda	<L1245+x0_0
 29023 06:777F: 65 28        	adc	<L1245+width_0
 29024 06:7781: 85 01        	sta	<R0
 29025 06:7783: A0 00 00     	ldy	#$0
 29026 06:7786: A5 01        	lda	<R0
 29027 06:7788: 10 01        	bpl	L1251
 29028 06:778A: 88           	dey
 29029                        L1251:
 29030 06:778B: 85 01        	sta	<R0
 29031 06:778D: 84 03        	sty	<R0+2
 29032 06:778F: A0 00 00     	ldy	#$0
 29033 06:7792: A5 26        	lda	<L1245+y0_0
 29034 06:7794: 10 01        	bpl	L1252
 29035 06:7796: 88           	dey
 29036                        L1252:
 29037 06:7797: 85 05        	sta	<R1
 29038 06:7799: 84 07        	sty	<R1+2
 29039 06:779B: F4 00 00     	pea	#^$280
 29040 06:779E: F4 80 02     	pea	#<$280
 29041 06:77A1: D4 07        	pei	<R1+2
 29042 06:77A3: D4 05        	pei	<R1
 29043                        	xref	~~~lmul
 29044 06:77A5: 22 xx xx xx  	jsl	~~~lmul
 29045 06:77A9: 85 05        	sta	<R1
 29046 06:77AB: 86 07        	stx	<R1+2
 29047 06:77AD: 18           	clc
 29048 06:77AE: A5 05        	lda	<R1
 29049 06:77B0: 65 01        	adc	<R0
 29050 06:77B2: 85 15        	sta	<L1246+pixelLocation1_1
 29051 06:77B4: A5 07        	lda	<R1+2
 29052 06:77B6: 65 03        	adc	<R0+2
 29053 06:77B8: 85 17        	sta	<L1246+pixelLocation1_1+2
  Sat Jul 10 2021  1:15                                                Page 536


 29054 06:77BA: A0 00 00     	ldy	#$0
 29055 06:77BD: A5 2C        	lda	<L1245+x1_0
 29056 06:77BF: 10 01        	bpl	L1253
 29057 06:77C1: 88           	dey
 29058                        L1253:
 29059 06:77C2: 85 01        	sta	<R0
 29060 06:77C4: 84 03        	sty	<R0+2
 29061 06:77C6: A0 00 00     	ldy	#$0
 29062 06:77C9: A5 2E        	lda	<L1245+y1_0
 29063 06:77CB: 10 01        	bpl	L1254
 29064 06:77CD: 88           	dey
 29065                        L1254:
 29066 06:77CE: 85 05        	sta	<R1
 29067 06:77D0: 84 07        	sty	<R1+2
 29068 06:77D2: F4 00 00     	pea	#^$280
 29069 06:77D5: F4 80 02     	pea	#<$280
 29070 06:77D8: D4 07        	pei	<R1+2
 29071 06:77DA: D4 05        	pei	<R1
 29072                        	xref	~~~lmul
 29073 06:77DC: 22 xx xx xx  	jsl	~~~lmul
 29074 06:77E0: 85 05        	sta	<R1
 29075 06:77E2: 86 07        	stx	<R1+2
 29076 06:77E4: 18           	clc
 29077 06:77E5: A5 05        	lda	<R1
 29078 06:77E7: 65 01        	adc	<R0
 29079 06:77E9: 85 19        	sta	<L1246+pixelLocationD_1
 29080 06:77EB: A5 07        	lda	<R1+2
 29081 06:77ED: 65 03        	adc	<R0+2
 29082 06:77EF: 85 1B        	sta	<L1246+pixelLocationD_1+2
 29083 06:77F1: 38           	sec
 29084 06:77F2: A5 15        	lda	<L1246+pixelLocation1_1
 29085 06:77F4: E5 11        	sbc	<L1246+pixelLocation0_1
 29086 06:77F6: 85 1D        	sta	<L1246+difference_1
 29087 06:77F8: A5 17        	lda	<L1246+pixelLocation1_1+2
 29088 06:77FA: E5 13        	sbc	<L1246+pixelLocation0_1+2
 29089 06:77FC: 85 1F        	sta	<L1246+difference_1+2
 29090                        	.line	5412
 29091 06:77FE: D4 13        	pei	<L1246+pixelLocation0_1+2
 29092 06:7800: D4 11        	pei	<L1246+pixelLocation0_1
 29093 06:7802: F4 xx xx     	pea	#^L1202
 29094 06:7805: F4 xx xx     	pea	#<L1202
 29095 06:7808: 22 xx xx xx  	jsl	~~k_debug_long
 29096                        ;	k_debug_long("pixelLocation1:",pixelLocation1);
 29097                        	.line	5413
 29098 06:780C: D4 17        	pei	<L1246+pixelLocation1_1+2
 29099 06:780E: D4 15        	pei	<L1246+pixelLocation1_1
 29100 06:7810: F4 xx xx     	pea	#^L1202+16
 29101 06:7813: F4 xx xx     	pea	#<L1202+16
 29102 06:7816: 22 xx xx xx  	jsl	~~k_debug_long
 29103                        ;	k_debug_long("pixelLocationD:",pixelLocationD);
 29104                        	.line	5414
 29105 06:781A: D4 1B        	pei	<L1246+pixelLocationD_1+2
 29106 06:781C: D4 19        	pei	<L1246+pixelLocationD_1
 29107 06:781E: F4 xx xx     	pea	#^L1202+32
 29108 06:7821: F4 xx xx     	pea	#<L1202+32
 29109 06:7824: 22 xx xx xx  	jsl	~~k_debug_long
 29110                        ;	k_debug_long("difference:",difference);
 29111                        	.line	5415
  Sat Jul 10 2021  1:15                                                Page 537


 29112 06:7828: D4 1F        	pei	<L1246+difference_1+2
 29113 06:782A: D4 1D        	pei	<L1246+difference_1
 29114 06:782C: F4 xx xx     	pea	#^L1202+48
 29115 06:782F: F4 xx xx     	pea	#<L1202+48
 29116 06:7832: 22 xx xx xx  	jsl	~~k_debug_long
 29117                        ;
 29118                        ;
 29119                        ;
 29120                        ;	for(dy = y0;dy<(y0 + height);dy++)
 29121                        	.line	5419
 29122 06:7836: A0 00 00     	ldy	#$0
 29123 06:7839: A5 26        	lda	<L1245+y0_0
 29124 06:783B: 10 01        	bpl	L1255
 29125 06:783D: 88           	dey
 29126                        L1255:
 29127 06:783E: 85 09        	sta	<L1246+dy_1
 29128 06:7840: 84 0B        	sty	<L1246+dy_1+2
 29129 06:7842: 82 8E 00     	brl	L10505
 29130                        L10504:
 29131                        ;	{
 29132                        	.line	5420
 29133                        ;		pixelLocation0 = (long)(((long)dy * 640L
                    ) + (long)x0);
 29134                        	.line	5421
 29135 06:7845: A0 00 00     	ldy	#$0
 29136 06:7848: A5 24        	lda	<L1245+x0_0
 29137 06:784A: 10 01        	bpl	L1256
 29138 06:784C: 88           	dey
 29139                        L1256:
 29140 06:784D: 85 01        	sta	<R0
 29141 06:784F: 84 03        	sty	<R0+2
 29142 06:7851: F4 00 00     	pea	#^$280
 29143 06:7854: F4 80 02     	pea	#<$280
 29144 06:7857: D4 0B        	pei	<L1246+dy_1+2
 29145 06:7859: D4 09        	pei	<L1246+dy_1
 29146                        	xref	~~~lmul
 29147 06:785B: 22 xx xx xx  	jsl	~~~lmul
 29148 06:785F: 85 05        	sta	<R1
 29149 06:7861: 86 07        	stx	<R1+2
 29150 06:7863: 18           	clc
 29151 06:7864: A5 05        	lda	<R1
 29152 06:7866: 65 01        	adc	<R0
 29153 06:7868: 85 11        	sta	<L1246+pixelLocation0_1
 29154 06:786A: A5 07        	lda	<R1+2
 29155 06:786C: 65 03        	adc	<R0+2
 29156 06:786E: 85 13        	sta	<L1246+pixelLocation0_1+2
 29157                        ;		pixelLocationD = (long)(((long)dd * 640L
                    ) + (long)(x1));
 29158                        	.line	5422
 29159 06:7870: A0 00 00     	ldy	#$0
 29160 06:7873: A5 2C        	lda	<L1245+x1_0
 29161 06:7875: 10 01        	bpl	L1257
 29162 06:7877: 88           	dey
 29163                        L1257:
 29164 06:7878: 85 01        	sta	<R0
 29165 06:787A: 84 03        	sty	<R0+2
 29166 06:787C: F4 00 00     	pea	#^$280
 29167 06:787F: F4 80 02     	pea	#<$280
  Sat Jul 10 2021  1:15                                                Page 538


 29168 06:7882: D4 0F        	pei	<L1246+dd_1+2
 29169 06:7884: D4 0D        	pei	<L1246+dd_1
 29170                        	xref	~~~lmul
 29171 06:7886: 22 xx xx xx  	jsl	~~~lmul
 29172 06:788A: 85 05        	sta	<R1
 29173 06:788C: 86 07        	stx	<R1+2
 29174 06:788E: 18           	clc
 29175 06:788F: A5 05        	lda	<R1
 29176 06:7891: 65 01        	adc	<R0
 29177 06:7893: 85 19        	sta	<L1246+pixelLocationD_1
 29178 06:7895: A5 07        	lda	<R1+2
 29179 06:7897: 65 03        	adc	<R0+2
 29180 06:7899: 85 1B        	sta	<L1246+pixelLocationD_1+2
 29181                        ;		memcpy(   &(((unsigned char FAR *)BITMAP
                    _BANK_0)[pixelLocationD])  , &(((unsigned char FAR *)BITMAP_
                    BANK_0)[pixelLocation0]), difference) ;
 29182                        	.line	5423
 29183 06:789B: D4 1D        	pei	<L1246+difference_1
 29184 06:789D: 18           	clc
 29185 06:789E: A9 00 00     	lda	#$0
 29186 06:78A1: 65 11        	adc	<L1246+pixelLocation0_1
 29187 06:78A3: 85 01        	sta	<R0
 29188 06:78A5: A9 B0 00     	lda	#$b0
 29189 06:78A8: 65 13        	adc	<L1246+pixelLocation0_1+2
 29190 06:78AA: 85 03        	sta	<R0+2
 29191 06:78AC: D4 03        	pei	<R0+2
 29192 06:78AE: D4 01        	pei	<R0
 29193 06:78B0: 18           	clc
 29194 06:78B1: A9 00 00     	lda	#$0
 29195 06:78B4: 65 19        	adc	<L1246+pixelLocationD_1
 29196 06:78B6: 85 05        	sta	<R1
 29197 06:78B8: A9 B0 00     	lda	#$b0
 29198 06:78BB: 65 1B        	adc	<L1246+pixelLocationD_1+2
 29199 06:78BD: 85 07        	sta	<R1+2
 29200 06:78BF: D4 07        	pei	<R1+2
 29201 06:78C1: D4 05        	pei	<R1
 29202 06:78C3: 22 xx xx xx  	jsl	~~memcpy
 29203                        ;
 29204                        ;		dd++;
 29205                        	.line	5425
 29206 06:78C7: E6 0D        	inc	<L1246+dd_1
 29207 06:78C9: D0 02        	bne	L1258
 29208 06:78CB: E6 0F        	inc	<L1246+dd_1+2
 29209                        L1258:
 29210                        ;	}
 29211                        	.line	5426
 29212                        L10502:
 29213 06:78CD: E6 09        	inc	<L1246+dy_1
 29214 06:78CF: D0 02        	bne	L1259
 29215 06:78D1: E6 0B        	inc	<L1246+dy_1+2
 29216                        L1259:
 29217                        L10505:
 29218 06:78D3: 18           	clc
 29219 06:78D4: A5 26        	lda	<L1245+y0_0
 29220 06:78D6: 65 2A        	adc	<L1245+height_0
 29221 06:78D8: 85 01        	sta	<R0
 29222 06:78DA: A0 00 00     	ldy	#$0
 29223 06:78DD: A5 01        	lda	<R0
  Sat Jul 10 2021  1:15                                                Page 539


 29224 06:78DF: 10 01        	bpl	L1260
 29225 06:78E1: 88           	dey
 29226                        L1260:
 29227 06:78E2: 85 01        	sta	<R0
 29228 06:78E4: 84 03        	sty	<R0+2
 29229 06:78E6: 38           	sec
 29230 06:78E7: A5 09        	lda	<L1246+dy_1
 29231 06:78E9: E5 01        	sbc	<R0
 29232 06:78EB: A5 0B        	lda	<L1246+dy_1+2
 29233 06:78ED: E5 03        	sbc	<R0+2
 29234 06:78EF: 70 03        	bvs	L1261
 29235 06:78F1: 49 00 80     	eor	#$8000
 29236                        L1261:
 29237 06:78F4: 30 03        	bmi	L1262
 29238 06:78F6: 82 4C FF     	brl	L10504
 29239                        L1262:
 29240                        L10503:
 29241                        ;
 29242                        ;}
 29243                        	.line	5428
 29244                        L1263:
 29245 06:78F9: A5 22        	lda	<L1245+2
 29246 06:78FB: 85 2E        	sta	<L1245+2+12
 29247 06:78FD: A5 21        	lda	<L1245+1
 29248 06:78FF: 85 2D        	sta	<L1245+1+12
 29249 06:7901: 2B           	pld
 29250 06:7902: 3B           	tsc
 29251 06:7903: 18           	clc
 29252 06:7904: 69 2C 00     	adc	#L1245+12
 29253 06:7907: 1B           	tcs
 29254 06:7908: 6B           	rtl
 29255                        	.endblock	5428
 29256             00000020   L1245	equ	32
 29257             00000009   L1246	equ	9
 29258 06:7909:              	ends
 29259                        	efunc
 29260                        	.endfunc	5428,9,32
 29261                        	.line	5428
 29262                        	data
 29263                        L1202:
 29264 00:0C3E: 70 69 78 65  	db	$70,$69,$78,$65,$6C,$4C,$6F,$63,$61,$74,
                    $69,$6F,$6E,$30,$3A
       00:0C42: 6C 4C 6F 63 
       00:0C46: 61 74 69 6F 
       00:0C4A: 6E 30 3A 
 29265 00:0C4D: 00 70 69 78  	db	$00,$70,$69,$78,$65,$6C,$4C,$6F,$63,$61,
                    $74,$69,$6F,$6E,$31
       00:0C51: 65 6C 4C 6F 
       00:0C55: 63 61 74 69 
       00:0C59: 6F 6E 31 
 29266 00:0C5C: 3A 00 70 69  	db	$3A,$00,$70,$69,$78,$65,$6C,$4C,$6F,$63,
                    $61,$74,$69,$6F,$6E
       00:0C60: 78 65 6C 4C 
       00:0C64: 6F 63 61 74 
       00:0C68: 69 6F 6E 
 29267 00:0C6B: 44 3A 00 64  	db	$44,$3A,$00,$64,$69,$66,$66,$65,$72,$65,
                    $6E,$63,$65,$3A,$00
       00:0C6F: 69 66 66 65 
  Sat Jul 10 2021  1:15                                                Page 540


       00:0C73: 72 65 6E 63 
       00:0C77: 65 3A 00 
 29268 00:0C7A:              	ends
 29269                        ;
 29270                        ;void k_memory_bitblt(LPCHAR srcBank,int x0, int y
                    0, int width, int height,LPCHAR destBank, int x1, int y1, in
                    t direction)
 29271                        ;{
 29272                        	.line	5430
 29273                        	.line	5431
 29274                        	GFX
 29275                        	xdef	~~k_memory_bitblt
 29276                        	func
 29277                        	.function	5431
 29278                        ~~k_memory_bitblt:
 29279                        	longa	on
 29280                        	longi	on
 29281 06:7909: 3B           	tsc
 29282 06:790A: 38           	sec
 29283 06:790B: E9 20 00     	sbc	#L1265
 29284 06:790E: 1B           	tcs
 29285 06:790F: 0B           	phd
 29286 06:7910: 5B           	tcd
 29287             00000004   srcBank_0	set	4
 29288             00000008   x0_0	set	8
 29289             0000000A   y0_0	set	10
 29290             0000000C   width_0	set	12
 29291             0000000E   height_0	set	14
 29292             00000010   destBank_0	set	16
 29293             00000014   x1_0	set	20
 29294             00000016   y1_0	set	22
 29295             00000018   direction_0	set	24
 29296                        	.block	5431
 29297                        ;	long dy = 0L;
 29298                        ;	long dd = y1;
 29299                        ;	long pixelLocation0 = (long)(((long)y0 * 640L) +
                     (long)x0);
 29300                        ;	long pixelLocation1 = (long)(((long)y0 * 640L) +
                     (long)(x0 + width ));
 29301                        ;	long pixelLocationD = (long)(((long)y1 * 640L) +
                     (long)(x1));
 29302                        ;
 29303                        ;	long difference = pixelLocation1 - pixelLocation
                    0;
 29304                        ;
 29305                        ;	k_debug_long("pixelLocation0:",pixelLocation0);
 29306             00000000   dy_1	set	0
 29307             00000004   dd_1	set	4
 29308             00000008   pixelLocation0_1	set	8
 29309             0000000C   pixelLocation1_1	set	12
 29310             00000010   pixelLocationD_1	set	16
 29311             00000014   difference_1	set	20
 29312                        	.sym	dy,0,7,1,32
 29313                        	.sym	dd,4,7,1,32
 29314                        	.sym	pixelLocation0,8,7,1,32
 29315                        	.sym	pixelLocation1,12,7,1,32
 29316                        	.sym	pixelLocationD,16,7,1,32
 29317                        	.sym	difference,20,7,1,32
  Sat Jul 10 2021  1:15                                                Page 541


 29318                        	.sym	srcBank,4,142,6,32
 29319                        	.sym	x0,8,5,6,16
 29320                        	.sym	y0,10,5,6,16
 29321                        	.sym	width,12,5,6,16
 29322                        	.sym	height,14,5,6,16
 29323                        	.sym	destBank,16,142,6,32
 29324                        	.sym	x1,20,5,6,16
 29325                        	.sym	y1,22,5,6,16
 29326                        	.sym	direction,24,5,6,16
 29327 06:7911: 64 09        	stz	<L1266+dy_1
 29328 06:7913: 64 0B        	stz	<L1266+dy_1+2
 29329 06:7915: A0 00 00     	ldy	#$0
 29330 06:7918: A5 36        	lda	<L1265+y1_0
 29331 06:791A: 10 01        	bpl	L1268
 29332 06:791C: 88           	dey
 29333                        L1268:
 29334 06:791D: 85 0D        	sta	<L1266+dd_1
 29335 06:791F: 84 0F        	sty	<L1266+dd_1+2
 29336 06:7921: A0 00 00     	ldy	#$0
 29337 06:7924: A5 28        	lda	<L1265+x0_0
 29338 06:7926: 10 01        	bpl	L1269
 29339 06:7928: 88           	dey
 29340                        L1269:
 29341 06:7929: 85 01        	sta	<R0
 29342 06:792B: 84 03        	sty	<R0+2
 29343 06:792D: A0 00 00     	ldy	#$0
 29344 06:7930: A5 2A        	lda	<L1265+y0_0
 29345 06:7932: 10 01        	bpl	L1270
 29346 06:7934: 88           	dey
 29347                        L1270:
 29348 06:7935: 85 05        	sta	<R1
 29349 06:7937: 84 07        	sty	<R1+2
 29350 06:7939: F4 00 00     	pea	#^$280
 29351 06:793C: F4 80 02     	pea	#<$280
 29352 06:793F: D4 07        	pei	<R1+2
 29353 06:7941: D4 05        	pei	<R1
 29354                        	xref	~~~lmul
 29355 06:7943: 22 xx xx xx  	jsl	~~~lmul
 29356 06:7947: 85 05        	sta	<R1
 29357 06:7949: 86 07        	stx	<R1+2
 29358 06:794B: 18           	clc
 29359 06:794C: A5 05        	lda	<R1
 29360 06:794E: 65 01        	adc	<R0
 29361 06:7950: 85 11        	sta	<L1266+pixelLocation0_1
 29362 06:7952: A5 07        	lda	<R1+2
 29363 06:7954: 65 03        	adc	<R0+2
 29364 06:7956: 85 13        	sta	<L1266+pixelLocation0_1+2
 29365 06:7958: 18           	clc
 29366 06:7959: A5 28        	lda	<L1265+x0_0
 29367 06:795B: 65 2C        	adc	<L1265+width_0
 29368 06:795D: 85 01        	sta	<R0
 29369 06:795F: A0 00 00     	ldy	#$0
 29370 06:7962: A5 01        	lda	<R0
 29371 06:7964: 10 01        	bpl	L1271
 29372 06:7966: 88           	dey
 29373                        L1271:
 29374 06:7967: 85 01        	sta	<R0
 29375 06:7969: 84 03        	sty	<R0+2
  Sat Jul 10 2021  1:15                                                Page 542


 29376 06:796B: A0 00 00     	ldy	#$0
 29377 06:796E: A5 2A        	lda	<L1265+y0_0
 29378 06:7970: 10 01        	bpl	L1272
 29379 06:7972: 88           	dey
 29380                        L1272:
 29381 06:7973: 85 05        	sta	<R1
 29382 06:7975: 84 07        	sty	<R1+2
 29383 06:7977: F4 00 00     	pea	#^$280
 29384 06:797A: F4 80 02     	pea	#<$280
 29385 06:797D: D4 07        	pei	<R1+2
 29386 06:797F: D4 05        	pei	<R1
 29387                        	xref	~~~lmul
 29388 06:7981: 22 xx xx xx  	jsl	~~~lmul
 29389 06:7985: 85 05        	sta	<R1
 29390 06:7987: 86 07        	stx	<R1+2
 29391 06:7989: 18           	clc
 29392 06:798A: A5 05        	lda	<R1
 29393 06:798C: 65 01        	adc	<R0
 29394 06:798E: 85 15        	sta	<L1266+pixelLocation1_1
 29395 06:7990: A5 07        	lda	<R1+2
 29396 06:7992: 65 03        	adc	<R0+2
 29397 06:7994: 85 17        	sta	<L1266+pixelLocation1_1+2
 29398 06:7996: A0 00 00     	ldy	#$0
 29399 06:7999: A5 34        	lda	<L1265+x1_0
 29400 06:799B: 10 01        	bpl	L1273
 29401 06:799D: 88           	dey
 29402                        L1273:
 29403 06:799E: 85 01        	sta	<R0
 29404 06:79A0: 84 03        	sty	<R0+2
 29405 06:79A2: A0 00 00     	ldy	#$0
 29406 06:79A5: A5 36        	lda	<L1265+y1_0
 29407 06:79A7: 10 01        	bpl	L1274
 29408 06:79A9: 88           	dey
 29409                        L1274:
 29410 06:79AA: 85 05        	sta	<R1
 29411 06:79AC: 84 07        	sty	<R1+2
 29412 06:79AE: F4 00 00     	pea	#^$280
 29413 06:79B1: F4 80 02     	pea	#<$280
 29414 06:79B4: D4 07        	pei	<R1+2
 29415 06:79B6: D4 05        	pei	<R1
 29416                        	xref	~~~lmul
 29417 06:79B8: 22 xx xx xx  	jsl	~~~lmul
 29418 06:79BC: 85 05        	sta	<R1
 29419 06:79BE: 86 07        	stx	<R1+2
 29420 06:79C0: 18           	clc
 29421 06:79C1: A5 05        	lda	<R1
 29422 06:79C3: 65 01        	adc	<R0
 29423 06:79C5: 85 19        	sta	<L1266+pixelLocationD_1
 29424 06:79C7: A5 07        	lda	<R1+2
 29425 06:79C9: 65 03        	adc	<R0+2
 29426 06:79CB: 85 1B        	sta	<L1266+pixelLocationD_1+2
 29427 06:79CD: 38           	sec
 29428 06:79CE: A5 15        	lda	<L1266+pixelLocation1_1
 29429 06:79D0: E5 11        	sbc	<L1266+pixelLocation0_1
 29430 06:79D2: 85 1D        	sta	<L1266+difference_1
 29431 06:79D4: A5 17        	lda	<L1266+pixelLocation1_1+2
 29432 06:79D6: E5 13        	sbc	<L1266+pixelLocation0_1+2
 29433 06:79D8: 85 1F        	sta	<L1266+difference_1+2
  Sat Jul 10 2021  1:15                                                Page 543


 29434                        	.line	5440
 29435 06:79DA: D4 13        	pei	<L1266+pixelLocation0_1+2
 29436 06:79DC: D4 11        	pei	<L1266+pixelLocation0_1
 29437 06:79DE: F4 xx xx     	pea	#^L1264
 29438 06:79E1: F4 xx xx     	pea	#<L1264
 29439 06:79E4: 22 xx xx xx  	jsl	~~k_debug_long
 29440                        ;	k_debug_long("pixelLocation1:",pixelLocation1);
 29441                        	.line	5441
 29442 06:79E8: D4 17        	pei	<L1266+pixelLocation1_1+2
 29443 06:79EA: D4 15        	pei	<L1266+pixelLocation1_1
 29444 06:79EC: F4 xx xx     	pea	#^L1264+16
 29445 06:79EF: F4 xx xx     	pea	#<L1264+16
 29446 06:79F2: 22 xx xx xx  	jsl	~~k_debug_long
 29447                        ;	k_debug_long("pixelLocationD:",pixelLocationD);
 29448                        	.line	5442
 29449 06:79F6: D4 1B        	pei	<L1266+pixelLocationD_1+2
 29450 06:79F8: D4 19        	pei	<L1266+pixelLocationD_1
 29451 06:79FA: F4 xx xx     	pea	#^L1264+32
 29452 06:79FD: F4 xx xx     	pea	#<L1264+32
 29453 06:7A00: 22 xx xx xx  	jsl	~~k_debug_long
 29454                        ;	k_debug_long("difference:",difference);
 29455                        	.line	5443
 29456 06:7A04: D4 1F        	pei	<L1266+difference_1+2
 29457 06:7A06: D4 1D        	pei	<L1266+difference_1
 29458 06:7A08: F4 xx xx     	pea	#^L1264+48
 29459 06:7A0B: F4 xx xx     	pea	#<L1264+48
 29460 06:7A0E: 22 xx xx xx  	jsl	~~k_debug_long
 29461                        ;
 29462                        ;	if(direction == BLT_DIR_TOPDOWN)
 29463                        	.line	5445
 29464                        ;	{
 29465 06:7A12: A5 38        	lda	<L1265+direction_0
 29466 06:7A14: C9 01 00     	cmp	#<$1
 29467 06:7A17: F0 03        	beq	L1275
 29468 06:7A19: 82 C2 00     	brl	L10506
 29469                        L1275:
 29470                        	.line	5446
 29471                        ;		for(dy = y0;dy<(y0 + height);dy++)
 29472                        	.line	5447
 29473 06:7A1C: A0 00 00     	ldy	#$0
 29474 06:7A1F: A5 2A        	lda	<L1265+y0_0
 29475 06:7A21: 10 01        	bpl	L1276
 29476 06:7A23: 88           	dey
 29477                        L1276:
 29478 06:7A24: 85 09        	sta	<L1266+dy_1
 29479 06:7A26: 84 0B        	sty	<L1266+dy_1+2
 29480 06:7A28: 82 8A 00     	brl	L10510
 29481                        L10509:
 29482                        ;		{
 29483                        	.line	5448
 29484                        ;			pixelLocation0 = (long)(((long)d
                    y * 640L) + (long)x0);
 29485                        	.line	5449
 29486 06:7A2B: A0 00 00     	ldy	#$0
 29487 06:7A2E: A5 28        	lda	<L1265+x0_0
 29488 06:7A30: 10 01        	bpl	L1277
 29489 06:7A32: 88           	dey
 29490                        L1277:
  Sat Jul 10 2021  1:15                                                Page 544


 29491 06:7A33: 85 01        	sta	<R0
 29492 06:7A35: 84 03        	sty	<R0+2
 29493 06:7A37: F4 00 00     	pea	#^$280
 29494 06:7A3A: F4 80 02     	pea	#<$280
 29495 06:7A3D: D4 0B        	pei	<L1266+dy_1+2
 29496 06:7A3F: D4 09        	pei	<L1266+dy_1
 29497                        	xref	~~~lmul
 29498 06:7A41: 22 xx xx xx  	jsl	~~~lmul
 29499 06:7A45: 85 05        	sta	<R1
 29500 06:7A47: 86 07        	stx	<R1+2
 29501 06:7A49: 18           	clc
 29502 06:7A4A: A5 05        	lda	<R1
 29503 06:7A4C: 65 01        	adc	<R0
 29504 06:7A4E: 85 11        	sta	<L1266+pixelLocation0_1
 29505 06:7A50: A5 07        	lda	<R1+2
 29506 06:7A52: 65 03        	adc	<R0+2
 29507 06:7A54: 85 13        	sta	<L1266+pixelLocation0_1+2
 29508                        ;			pixelLocationD = (long)(((long)d
                    d * 640L) + (long)(x1));
 29509                        	.line	5450
 29510 06:7A56: A0 00 00     	ldy	#$0
 29511 06:7A59: A5 34        	lda	<L1265+x1_0
 29512 06:7A5B: 10 01        	bpl	L1278
 29513 06:7A5D: 88           	dey
 29514                        L1278:
 29515 06:7A5E: 85 01        	sta	<R0
 29516 06:7A60: 84 03        	sty	<R0+2
 29517 06:7A62: F4 00 00     	pea	#^$280
 29518 06:7A65: F4 80 02     	pea	#<$280
 29519 06:7A68: D4 0F        	pei	<L1266+dd_1+2
 29520 06:7A6A: D4 0D        	pei	<L1266+dd_1
 29521                        	xref	~~~lmul
 29522 06:7A6C: 22 xx xx xx  	jsl	~~~lmul
 29523 06:7A70: 85 05        	sta	<R1
 29524 06:7A72: 86 07        	stx	<R1+2
 29525 06:7A74: 18           	clc
 29526 06:7A75: A5 05        	lda	<R1
 29527 06:7A77: 65 01        	adc	<R0
 29528 06:7A79: 85 19        	sta	<L1266+pixelLocationD_1
 29529 06:7A7B: A5 07        	lda	<R1+2
 29530 06:7A7D: 65 03        	adc	<R0+2
 29531 06:7A7F: 85 1B        	sta	<L1266+pixelLocationD_1+2
 29532                        ;			memcpy(   &(((unsigned char FAR 
                    *)destBank)[pixelLocationD])  , &(((unsigned char FAR *)srcB
                    ank)[pixelLocation0]), difference) ;
 29533                        	.line	5451
 29534 06:7A81: D4 1D        	pei	<L1266+difference_1
 29535 06:7A83: 18           	clc
 29536 06:7A84: A5 24        	lda	<L1265+srcBank_0
 29537 06:7A86: 65 11        	adc	<L1266+pixelLocation0_1
 29538 06:7A88: 85 01        	sta	<R0
 29539 06:7A8A: A5 26        	lda	<L1265+srcBank_0+2
 29540 06:7A8C: 65 13        	adc	<L1266+pixelLocation0_1+2
 29541 06:7A8E: 85 03        	sta	<R0+2
 29542 06:7A90: D4 03        	pei	<R0+2
 29543 06:7A92: D4 01        	pei	<R0
 29544 06:7A94: 18           	clc
 29545 06:7A95: A5 30        	lda	<L1265+destBank_0
  Sat Jul 10 2021  1:15                                                Page 545


 29546 06:7A97: 65 19        	adc	<L1266+pixelLocationD_1
 29547 06:7A99: 85 05        	sta	<R1
 29548 06:7A9B: A5 32        	lda	<L1265+destBank_0+2
 29549 06:7A9D: 65 1B        	adc	<L1266+pixelLocationD_1+2
 29550 06:7A9F: 85 07        	sta	<R1+2
 29551 06:7AA1: D4 07        	pei	<R1+2
 29552 06:7AA3: D4 05        	pei	<R1
 29553 06:7AA5: 22 xx xx xx  	jsl	~~memcpy
 29554                        ;
 29555                        ;			dd++;
 29556                        	.line	5453
 29557 06:7AA9: E6 0D        	inc	<L1266+dd_1
 29558 06:7AAB: D0 02        	bne	L1279
 29559 06:7AAD: E6 0F        	inc	<L1266+dd_1+2
 29560                        L1279:
 29561                        ;		}
 29562                        	.line	5454
 29563                        L10507:
 29564 06:7AAF: E6 09        	inc	<L1266+dy_1
 29565 06:7AB1: D0 02        	bne	L1280
 29566 06:7AB3: E6 0B        	inc	<L1266+dy_1+2
 29567                        L1280:
 29568                        L10510:
 29569 06:7AB5: 18           	clc
 29570 06:7AB6: A5 2A        	lda	<L1265+y0_0
 29571 06:7AB8: 65 2E        	adc	<L1265+height_0
 29572 06:7ABA: 85 01        	sta	<R0
 29573 06:7ABC: A0 00 00     	ldy	#$0
 29574 06:7ABF: A5 01        	lda	<R0
 29575 06:7AC1: 10 01        	bpl	L1281
 29576 06:7AC3: 88           	dey
 29577                        L1281:
 29578 06:7AC4: 85 01        	sta	<R0
 29579 06:7AC6: 84 03        	sty	<R0+2
 29580 06:7AC8: 38           	sec
 29581 06:7AC9: A5 09        	lda	<L1266+dy_1
 29582 06:7ACB: E5 01        	sbc	<R0
 29583 06:7ACD: A5 0B        	lda	<L1266+dy_1+2
 29584 06:7ACF: E5 03        	sbc	<R0+2
 29585 06:7AD1: 70 03        	bvs	L1282
 29586 06:7AD3: 49 00 80     	eor	#$8000
 29587                        L1282:
 29588 06:7AD6: 30 03        	bmi	L1283
 29589 06:7AD8: 82 50 FF     	brl	L10509
 29590                        L1283:
 29591                        L10508:
 29592                        ;	}
 29593                        	.line	5455
 29594                        ;	else
 29595 06:7ADB: 82 D6 00     	brl	L10511
 29596                        L10506:
 29597                        ;	{
 29598                        	.line	5457
 29599                        ;		dd = y1 + height;
 29600                        	.line	5458
 29601 06:7ADE: 18           	clc
 29602 06:7ADF: A5 36        	lda	<L1265+y1_0
 29603 06:7AE1: 65 2E        	adc	<L1265+height_0
  Sat Jul 10 2021  1:15                                                Page 546


 29604 06:7AE3: 85 01        	sta	<R0
 29605 06:7AE5: A0 00 00     	ldy	#$0
 29606 06:7AE8: A5 01        	lda	<R0
 29607 06:7AEA: 10 01        	bpl	L1284
 29608 06:7AEC: 88           	dey
 29609                        L1284:
 29610 06:7AED: 85 0D        	sta	<L1266+dd_1
 29611 06:7AEF: 84 0F        	sty	<L1266+dd_1+2
 29612                        ;		//for(dy = y0;dy<(y0 + height);dy++)
 29613                        ;		for(dy = (y0 + height);dy>y0;dy--)
 29614                        	.line	5460
 29615 06:7AF1: 18           	clc
 29616 06:7AF2: A5 2A        	lda	<L1265+y0_0
 29617 06:7AF4: 65 2E        	adc	<L1265+height_0
 29618 06:7AF6: 85 01        	sta	<R0
 29619 06:7AF8: A0 00 00     	ldy	#$0
 29620 06:7AFB: A5 01        	lda	<R0
 29621 06:7AFD: 10 01        	bpl	L1285
 29622 06:7AFF: 88           	dey
 29623                        L1285:
 29624 06:7B00: 85 09        	sta	<L1266+dy_1
 29625 06:7B02: 84 0B        	sty	<L1266+dy_1+2
 29626 06:7B04: 82 8E 00     	brl	L10515
 29627                        L10514:
 29628                        ;		{
 29629                        	.line	5461
 29630                        ;			pixelLocation0 = (long)(((long)d
                    y * 640L) + (long)x0);
 29631                        	.line	5462
 29632 06:7B07: A0 00 00     	ldy	#$0
 29633 06:7B0A: A5 28        	lda	<L1265+x0_0
 29634 06:7B0C: 10 01        	bpl	L1286
 29635 06:7B0E: 88           	dey
 29636                        L1286:
 29637 06:7B0F: 85 01        	sta	<R0
 29638 06:7B11: 84 03        	sty	<R0+2
 29639 06:7B13: F4 00 00     	pea	#^$280
 29640 06:7B16: F4 80 02     	pea	#<$280
 29641 06:7B19: D4 0B        	pei	<L1266+dy_1+2
 29642 06:7B1B: D4 09        	pei	<L1266+dy_1
 29643                        	xref	~~~lmul
 29644 06:7B1D: 22 xx xx xx  	jsl	~~~lmul
 29645 06:7B21: 85 05        	sta	<R1
 29646 06:7B23: 86 07        	stx	<R1+2
 29647 06:7B25: 18           	clc
 29648 06:7B26: A5 05        	lda	<R1
 29649 06:7B28: 65 01        	adc	<R0
 29650 06:7B2A: 85 11        	sta	<L1266+pixelLocation0_1
 29651 06:7B2C: A5 07        	lda	<R1+2
 29652 06:7B2E: 65 03        	adc	<R0+2
 29653 06:7B30: 85 13        	sta	<L1266+pixelLocation0_1+2
 29654                        ;			pixelLocationD = (long)(((long)d
                    d * 640L) + (long)(x1));
 29655                        	.line	5463
 29656 06:7B32: A0 00 00     	ldy	#$0
 29657 06:7B35: A5 34        	lda	<L1265+x1_0
 29658 06:7B37: 10 01        	bpl	L1287
 29659 06:7B39: 88           	dey
  Sat Jul 10 2021  1:15                                                Page 547


 29660                        L1287:
 29661 06:7B3A: 85 01        	sta	<R0
 29662 06:7B3C: 84 03        	sty	<R0+2
 29663 06:7B3E: F4 00 00     	pea	#^$280
 29664 06:7B41: F4 80 02     	pea	#<$280
 29665 06:7B44: D4 0F        	pei	<L1266+dd_1+2
 29666 06:7B46: D4 0D        	pei	<L1266+dd_1
 29667                        	xref	~~~lmul
 29668 06:7B48: 22 xx xx xx  	jsl	~~~lmul
 29669 06:7B4C: 85 05        	sta	<R1
 29670 06:7B4E: 86 07        	stx	<R1+2
 29671 06:7B50: 18           	clc
 29672 06:7B51: A5 05        	lda	<R1
 29673 06:7B53: 65 01        	adc	<R0
 29674 06:7B55: 85 19        	sta	<L1266+pixelLocationD_1
 29675 06:7B57: A5 07        	lda	<R1+2
 29676 06:7B59: 65 03        	adc	<R0+2
 29677 06:7B5B: 85 1B        	sta	<L1266+pixelLocationD_1+2
 29678                        ;			memcpy(   &(((unsigned char FAR 
                    *)destBank)[pixelLocationD])  , &(((unsigned char FAR *)srcB
                    ank)[pixelLocation0]), difference) ;
 29679                        	.line	5464
 29680 06:7B5D: D4 1D        	pei	<L1266+difference_1
 29681 06:7B5F: 18           	clc
 29682 06:7B60: A5 24        	lda	<L1265+srcBank_0
 29683 06:7B62: 65 11        	adc	<L1266+pixelLocation0_1
 29684 06:7B64: 85 01        	sta	<R0
 29685 06:7B66: A5 26        	lda	<L1265+srcBank_0+2
 29686 06:7B68: 65 13        	adc	<L1266+pixelLocation0_1+2
 29687 06:7B6A: 85 03        	sta	<R0+2
 29688 06:7B6C: D4 03        	pei	<R0+2
 29689 06:7B6E: D4 01        	pei	<R0
 29690 06:7B70: 18           	clc
 29691 06:7B71: A5 30        	lda	<L1265+destBank_0
 29692 06:7B73: 65 19        	adc	<L1266+pixelLocationD_1
 29693 06:7B75: 85 05        	sta	<R1
 29694 06:7B77: A5 32        	lda	<L1265+destBank_0+2
 29695 06:7B79: 65 1B        	adc	<L1266+pixelLocationD_1+2
 29696 06:7B7B: 85 07        	sta	<R1+2
 29697 06:7B7D: D4 07        	pei	<R1+2
 29698 06:7B7F: D4 05        	pei	<R1
 29699 06:7B81: 22 xx xx xx  	jsl	~~memcpy
 29700                        ;
 29701                        ;			dd--;
 29702                        	.line	5466
 29703 06:7B85: A5 0D        	lda	<L1266+dd_1
 29704 06:7B87: D0 02        	bne	L1288
 29705 06:7B89: C6 0F        	dec	<L1266+dd_1+2
 29706                        L1288:
 29707 06:7B8B: C6 0D        	dec	<L1266+dd_1
 29708                        ;		}
 29709                        	.line	5467
 29710                        L10512:
 29711 06:7B8D: A5 09        	lda	<L1266+dy_1
 29712 06:7B8F: D0 02        	bne	L1289
 29713 06:7B91: C6 0B        	dec	<L1266+dy_1+2
 29714                        L1289:
 29715 06:7B93: C6 09        	dec	<L1266+dy_1
  Sat Jul 10 2021  1:15                                                Page 548


 29716                        L10515:
 29717 06:7B95: A0 00 00     	ldy	#$0
 29718 06:7B98: A5 2A        	lda	<L1265+y0_0
 29719 06:7B9A: 10 01        	bpl	L1290
 29720 06:7B9C: 88           	dey
 29721                        L1290:
 29722 06:7B9D: 85 01        	sta	<R0
 29723 06:7B9F: 84 03        	sty	<R0+2
 29724 06:7BA1: 38           	sec
 29725 06:7BA2: A5 01        	lda	<R0
 29726 06:7BA4: E5 09        	sbc	<L1266+dy_1
 29727 06:7BA6: A5 03        	lda	<R0+2
 29728 06:7BA8: E5 0B        	sbc	<L1266+dy_1+2
 29729 06:7BAA: 70 03        	bvs	L1291
 29730 06:7BAC: 49 00 80     	eor	#$8000
 29731                        L1291:
 29732 06:7BAF: 30 03        	bmi	L1292
 29733 06:7BB1: 82 53 FF     	brl	L10514
 29734                        L1292:
 29735                        L10513:
 29736                        ;
 29737                        ;	}
 29738                        	.line	5469
 29739                        L10511:
 29740                        ;
 29741                        ;}
 29742                        	.line	5471
 29743                        L1293:
 29744 06:7BB4: A5 22        	lda	<L1265+2
 29745 06:7BB6: 85 38        	sta	<L1265+2+22
 29746 06:7BB8: A5 21        	lda	<L1265+1
 29747 06:7BBA: 85 37        	sta	<L1265+1+22
 29748 06:7BBC: 2B           	pld
 29749 06:7BBD: 3B           	tsc
 29750 06:7BBE: 18           	clc
 29751 06:7BBF: 69 36 00     	adc	#L1265+22
 29752 06:7BC2: 1B           	tcs
 29753 06:7BC3: 6B           	rtl
 29754                        	.endblock	5471
 29755             00000020   L1265	equ	32
 29756             00000009   L1266	equ	9
 29757 06:7BC4:              	ends
 29758                        	efunc
 29759                        	.endfunc	5471,9,32
 29760                        	.line	5471
 29761                        	data
 29762                        L1264:
 29763 00:0C7A: 70 69 78 65  	db	$70,$69,$78,$65,$6C,$4C,$6F,$63,$61,$74,
                    $69,$6F,$6E,$30,$3A
       00:0C7E: 6C 4C 6F 63 
       00:0C82: 61 74 69 6F 
       00:0C86: 6E 30 3A 
 29764 00:0C89: 00 70 69 78  	db	$00,$70,$69,$78,$65,$6C,$4C,$6F,$63,$61,
                    $74,$69,$6F,$6E,$31
       00:0C8D: 65 6C 4C 6F 
       00:0C91: 63 61 74 69 
       00:0C95: 6F 6E 31 
 29765 00:0C98: 3A 00 70 69  	db	$3A,$00,$70,$69,$78,$65,$6C,$4C,$6F,$63,
  Sat Jul 10 2021  1:15                                                Page 549


                    $61,$74,$69,$6F,$6E
       00:0C9C: 78 65 6C 4C 
       00:0CA0: 6F 63 61 74 
       00:0CA4: 69 6F 6E 
 29766 00:0CA7: 44 3A 00 64  	db	$44,$3A,$00,$64,$69,$66,$66,$65,$72,$65,
                    $6E,$63,$65,$3A,$00
       00:0CAB: 69 66 66 65 
       00:0CAF: 72 65 6E 63 
       00:0CB3: 65 3A 00 
 29767 00:0CB6:              	ends
 29768                        ;
 29769                        ;
 29770                        ;void k_shadow_fill_rect_address(LPCHAR bank,int x
                    0, int y0, int width, int height, UCHAR color)
 29771                        ;{
 29772                        	.line	5474
 29773                        	.line	5475
 29774                        	GFX
 29775                        	xdef	~~k_shadow_fill_rect_address
 29776                        	func
 29777                        	.function	5475
 29778                        ~~k_shadow_fill_rect_address:
 29779                        	longa	on
 29780                        	longi	on
 29781 06:7BC4: 3B           	tsc
 29782 06:7BC5: 38           	sec
 29783 06:7BC6: E9 2C 00     	sbc	#L1295
 29784 06:7BC9: 1B           	tcs
 29785 06:7BCA: 0B           	phd
 29786 06:7BCB: 5B           	tcd
 29787             00000004   bank_0	set	4
 29788             00000008   x0_0	set	8
 29789             0000000A   y0_0	set	10
 29790             0000000C   width_0	set	12
 29791             0000000E   height_0	set	14
 29792             00000010   color_0	set	16
 29793                        	.block	5475
 29794                        ;	LPCHAR ptr = NULL;
 29795                        ;	ULONG dx = 0L;
 29796                        ;	long dy = 0L;
 29797                        ;	long pixelLocation0 = 0L;
 29798                        ;	long pixelLocation1 = 0L;
 29799                        ;	long difference     = 0L;
 29800                        ;	long fIndex = 0;
 29801                        ;	long offset = 0L;
 29802                        ;
 29803                        ;	if(width > 640)
 29804             00000000   ptr_1	set	0
 29805             00000004   dx_1	set	4
 29806             00000008   dy_1	set	8
 29807             0000000C   pixelLocation0_1	set	12
 29808             00000010   pixelLocation1_1	set	16
 29809             00000014   difference_1	set	20
 29810             00000018   fIndex_1	set	24
 29811             0000001C   offset_1	set	28
 29812                        	.sym	ptr,0,142,1,32
 29813                        	.sym	dx,4,18,1,32
 29814                        	.sym	dy,8,7,1,32
  Sat Jul 10 2021  1:15                                                Page 550


 29815                        	.sym	pixelLocation0,12,7,1,32
 29816                        	.sym	pixelLocation1,16,7,1,32
 29817                        	.sym	difference,20,7,1,32
 29818                        	.sym	fIndex,24,7,1,32
 29819                        	.sym	offset,28,7,1,32
 29820                        	.sym	bank,4,142,6,32
 29821                        	.sym	x0,8,5,6,16
 29822                        	.sym	y0,10,5,6,16
 29823                        	.sym	width,12,5,6,16
 29824                        	.sym	height,14,5,6,16
 29825                        	.sym	color,16,14,6,8
 29826 06:7BCC: 64 0D        	stz	<L1296+ptr_1
 29827 06:7BCE: 64 0F        	stz	<L1296+ptr_1+2
 29828 06:7BD0: 64 11        	stz	<L1296+dx_1
 29829 06:7BD2: 64 13        	stz	<L1296+dx_1+2
 29830 06:7BD4: 64 15        	stz	<L1296+dy_1
 29831 06:7BD6: 64 17        	stz	<L1296+dy_1+2
 29832 06:7BD8: 64 19        	stz	<L1296+pixelLocation0_1
 29833 06:7BDA: 64 1B        	stz	<L1296+pixelLocation0_1+2
 29834 06:7BDC: 64 1D        	stz	<L1296+pixelLocation1_1
 29835 06:7BDE: 64 1F        	stz	<L1296+pixelLocation1_1+2
 29836 06:7BE0: 64 21        	stz	<L1296+difference_1
 29837 06:7BE2: 64 23        	stz	<L1296+difference_1+2
 29838 06:7BE4: 64 25        	stz	<L1296+fIndex_1
 29839 06:7BE6: 64 27        	stz	<L1296+fIndex_1+2
 29840 06:7BE8: 64 29        	stz	<L1296+offset_1
 29841 06:7BEA: 64 2B        	stz	<L1296+offset_1+2
 29842                        	.line	5485
 29843                        ;		width = 640;
 29844 06:7BEC: 38           	sec
 29845 06:7BED: A9 80 02     	lda	#$280
 29846 06:7BF0: E5 38        	sbc	<L1295+width_0
 29847 06:7BF2: 70 03        	bvs	L1298
 29848 06:7BF4: 49 00 80     	eor	#$8000
 29849                        L1298:
 29850 06:7BF7: 10 03        	bpl	L1299
 29851 06:7BF9: 82 05 00     	brl	L10516
 29852                        L1299:
 29853                        	.line	5486
 29854 06:7BFC: A9 80 02     	lda	#$280
 29855 06:7BFF: 85 38        	sta	<L1295+width_0
 29856                        ;	if(height > 480)
 29857                        L10516:
 29858                        	.line	5487
 29859                        ;		height = 480;
 29860 06:7C01: 38           	sec
 29861 06:7C02: A9 E0 01     	lda	#$1e0
 29862 06:7C05: E5 3A        	sbc	<L1295+height_0
 29863 06:7C07: 70 03        	bvs	L1300
 29864 06:7C09: 49 00 80     	eor	#$8000
 29865                        L1300:
 29866 06:7C0C: 10 03        	bpl	L1301
 29867 06:7C0E: 82 05 00     	brl	L10517
 29868                        L1301:
 29869                        	.line	5488
 29870 06:7C11: A9 E0 01     	lda	#$1e0
 29871 06:7C14: 85 3A        	sta	<L1295+height_0
 29872                        ;
  Sat Jul 10 2021  1:15                                                Page 551


 29873                        ;	if(width < 0)
 29874                        L10517:
 29875                        	.line	5490
 29876                        ;		width = 0;
 29877 06:7C16: A5 38        	lda	<L1295+width_0
 29878 06:7C18: 30 03        	bmi	L1302
 29879 06:7C1A: 82 02 00     	brl	L10518
 29880                        L1302:
 29881                        	.line	5491
 29882 06:7C1D: 64 38        	stz	<L1295+width_0
 29883                        ;	if(height < 0)
 29884                        L10518:
 29885                        	.line	5492
 29886                        ;		height = 0;
 29887 06:7C1F: A5 3A        	lda	<L1295+height_0
 29888 06:7C21: 30 03        	bmi	L1303
 29889 06:7C23: 82 02 00     	brl	L10519
 29890                        L1303:
 29891                        	.line	5493
 29892 06:7C26: 64 3A        	stz	<L1295+height_0
 29893                        ;
 29894                        ;
 29895                        ;	offset = ((long)y0 + (long)height);
 29896                        L10519:
 29897                        	.line	5496
 29898 06:7C28: A0 00 00     	ldy	#$0
 29899 06:7C2B: A5 3A        	lda	<L1295+height_0
 29900 06:7C2D: 10 01        	bpl	L1304
 29901 06:7C2F: 88           	dey
 29902                        L1304:
 29903 06:7C30: 85 01        	sta	<R0
 29904 06:7C32: 84 03        	sty	<R0+2
 29905 06:7C34: A0 00 00     	ldy	#$0
 29906 06:7C37: A5 36        	lda	<L1295+y0_0
 29907 06:7C39: 10 01        	bpl	L1305
 29908 06:7C3B: 88           	dey
 29909                        L1305:
 29910 06:7C3C: 85 05        	sta	<R1
 29911 06:7C3E: 84 07        	sty	<R1+2
 29912 06:7C40: 18           	clc
 29913 06:7C41: A5 05        	lda	<R1
 29914 06:7C43: 65 01        	adc	<R0
 29915 06:7C45: 85 29        	sta	<L1296+offset_1
 29916 06:7C47: A5 07        	lda	<R1+2
 29917 06:7C49: 65 03        	adc	<R0+2
 29918 06:7C4B: 85 2B        	sta	<L1296+offset_1+2
 29919                        ;
 29920                        ;	//pixelLocation0 = (ULONG)(((ULONG)y0 * 640L) + 
                    (ULONG)x0);
 29921                        ;	//pixelLocation1 = (ULONG)(((ULONG)y0 * 640L) + 
                    (ULONG)(x0 + width ));
 29922                        ;	//difference     = pixelLocation1 - pixelLocatio
                    n0;
 29923                        ;	difference     = width;
 29924                        	.line	5501
 29925 06:7C4D: A0 00 00     	ldy	#$0
 29926 06:7C50: A5 38        	lda	<L1295+width_0
 29927 06:7C52: 10 01        	bpl	L1306
  Sat Jul 10 2021  1:15                                                Page 552


 29928 06:7C54: 88           	dey
 29929                        L1306:
 29930 06:7C55: 85 21        	sta	<L1296+difference_1
 29931 06:7C57: 84 23        	sty	<L1296+difference_1+2
 29932                        ;
 29933                        ;	//difference = (long)(x0 + width);
 29934                        ;
 29935                        ;	/*
 29936                        ;	k_debug_long("k_shadow_fill_rect::width:",width)
                    ;
 29937                        ;	k_debug_long("k_shadow_fill_rect::height:",heigh
                    t);
 29938                        ;	k_debug_long("k_shadow_fill_rect::difference:",d
                    ifference);
 29939                        ;	k_debug_long("k_shadow_fill_rect::offset:",offse
                    t);
 29940                        ;	*/
 29941                        ;
 29942                        ;	for(dy = (long)y0;dy<offset;dy++)
 29943                        	.line	5512
 29944 06:7C59: A0 00 00     	ldy	#$0
 29945 06:7C5C: A5 36        	lda	<L1295+y0_0
 29946 06:7C5E: 10 01        	bpl	L1307
 29947 06:7C60: 88           	dey
 29948                        L1307:
 29949 06:7C61: 85 15        	sta	<L1296+dy_1
 29950 06:7C63: 84 17        	sty	<L1296+dy_1+2
 29951 06:7C65: 82 4E 00     	brl	L10523
 29952                        L10522:
 29953                        ;	{
 29954                        	.line	5513
 29955                        ;		//k_debug_long("k_shadow_fill_rect::dy:"
                    ,dy);
 29956                        ;		//for(dx=(long)x0;dx<difference;dx++)
 29957                        ;		//	SHADOW_BANK_0[(dy * 640L) + dx] 
                    = color;
 29958                        ;		//k_debug_long("k_shadow_fill_rect::dx:"
                    ,dx);
 29959                        ;
 29960                        ;		ptr = &( bank[(dy * 640L) + (long)x0] ) 
                    ;
 29961                        	.line	5519
 29962 06:7C68: A0 00 00     	ldy	#$0
 29963 06:7C6B: A5 34        	lda	<L1295+x0_0
 29964 06:7C6D: 10 01        	bpl	L1308
 29965 06:7C6F: 88           	dey
 29966                        L1308:
 29967 06:7C70: 85 01        	sta	<R0
 29968 06:7C72: 84 03        	sty	<R0+2
 29969 06:7C74: F4 00 00     	pea	#^$280
 29970 06:7C77: F4 80 02     	pea	#<$280
 29971 06:7C7A: D4 17        	pei	<L1296+dy_1+2
 29972 06:7C7C: D4 15        	pei	<L1296+dy_1
 29973                        	xref	~~~lmul
 29974 06:7C7E: 22 xx xx xx  	jsl	~~~lmul
 29975 06:7C82: 85 05        	sta	<R1
 29976 06:7C84: 86 07        	stx	<R1+2
 29977 06:7C86: 18           	clc
  Sat Jul 10 2021  1:15                                                Page 553


 29978 06:7C87: A5 05        	lda	<R1
 29979 06:7C89: 65 01        	adc	<R0
 29980 06:7C8B: 85 09        	sta	<R2
 29981 06:7C8D: A5 07        	lda	<R1+2
 29982 06:7C8F: 65 03        	adc	<R0+2
 29983 06:7C91: 85 0B        	sta	<R2+2
 29984 06:7C93: 18           	clc
 29985 06:7C94: A5 30        	lda	<L1295+bank_0
 29986 06:7C96: 65 09        	adc	<R2
 29987 06:7C98: 85 0D        	sta	<L1296+ptr_1
 29988 06:7C9A: A5 32        	lda	<L1295+bank_0+2
 29989 06:7C9C: 65 0B        	adc	<R2+2
 29990 06:7C9E: 85 0F        	sta	<L1296+ptr_1+2
 29991                        ;
 29992                        ;		//k_debug_pointer("k_shadow_fill_rect::p
                    tr:",ptr);
 29993                        ;		//pixelLocation0 = (ULONG)(((ULONG)dy * 
                    640L) + (ULONG)x0);
 29994                        ;		//k_debug_long("k_shadow_fill_rect::pixe
                    lLocation0:",pixelLocation0);
 29995                        ;		memset( ptr, color , difference ) ;
 29996                        	.line	5524
 29997 06:7CA0: D4 21        	pei	<L1296+difference_1
 29998 06:7CA2: A5 3C        	lda	<L1295+color_0
 29999 06:7CA4: 29 FF 00     	and	#$ff
 30000 06:7CA7: 48           	pha
 30001 06:7CA8: D4 0F        	pei	<L1296+ptr_1+2
 30002 06:7CAA: D4 0D        	pei	<L1296+ptr_1
 30003 06:7CAC: 22 xx xx xx  	jsl	~~memset
 30004                        ;		//for(fIndex=0;fIndex<difference;fIndex+
                    +)
 30005                        ;		//	ptr[fIndex] = color;
 30006                        ;	}
 30007                        	.line	5527
 30008                        L10520:
 30009 06:7CB0: E6 15        	inc	<L1296+dy_1
 30010 06:7CB2: D0 02        	bne	L1309
 30011 06:7CB4: E6 17        	inc	<L1296+dy_1+2
 30012                        L1309:
 30013                        L10523:
 30014 06:7CB6: 38           	sec
 30015 06:7CB7: A5 15        	lda	<L1296+dy_1
 30016 06:7CB9: E5 29        	sbc	<L1296+offset_1
 30017 06:7CBB: A5 17        	lda	<L1296+dy_1+2
 30018 06:7CBD: E5 2B        	sbc	<L1296+offset_1+2
 30019 06:7CBF: 70 03        	bvs	L1310
 30020 06:7CC1: 49 00 80     	eor	#$8000
 30021                        L1310:
 30022 06:7CC4: 30 03        	bmi	L1311
 30023 06:7CC6: 82 9F FF     	brl	L10522
 30024                        L1311:
 30025                        L10521:
 30026                        ;
 30027                        ;}
 30028                        	.line	5529
 30029                        L1312:
 30030 06:7CC9: A5 2E        	lda	<L1295+2
 30031 06:7CCB: 85 3C        	sta	<L1295+2+14
  Sat Jul 10 2021  1:15                                                Page 554


 30032 06:7CCD: A5 2D        	lda	<L1295+1
 30033 06:7CCF: 85 3B        	sta	<L1295+1+14
 30034 06:7CD1: 2B           	pld
 30035 06:7CD2: 3B           	tsc
 30036 06:7CD3: 18           	clc
 30037 06:7CD4: 69 3A 00     	adc	#L1295+14
 30038 06:7CD7: 1B           	tcs
 30039 06:7CD8: 6B           	rtl
 30040                        	.endblock	5529
 30041             0000002C   L1295	equ	44
 30042             0000000D   L1296	equ	13
 30043 06:7CD9:              	ends
 30044                        	efunc
 30045                        	.endfunc	5529,13,44
 30046                        	.line	5529
 30047                        ;
 30048                        ;void k_shadow_fill_rect(int x0, int y0, int width
                    , int height, UCHAR color)
 30049                        ;{
 30050                        	.line	5531
 30051                        	.line	5532
 30052                        	GFX
 30053                        	xdef	~~k_shadow_fill_rect
 30054                        	func
 30055                        	.function	5532
 30056                        ~~k_shadow_fill_rect:
 30057                        	longa	on
 30058                        	longi	on
 30059 06:7CD9: 3B           	tsc
 30060 06:7CDA: 38           	sec
 30061 06:7CDB: E9 00 00     	sbc	#L1313
 30062 06:7CDE: 1B           	tcs
 30063 06:7CDF: 0B           	phd
 30064 06:7CE0: 5B           	tcd
 30065             00000004   x0_0	set	4
 30066             00000006   y0_0	set	6
 30067             00000008   width_0	set	8
 30068             0000000A   height_0	set	10
 30069             0000000C   color_0	set	12
 30070                        	.block	5532
 30071                        ;	k_shadow_fill_rect_address(SHADOW_BANK_0,x0, y0,
                     width, height, color);
 30072                        	.sym	x0,4,5,6,16
 30073                        	.sym	y0,6,5,6,16
 30074                        	.sym	width,8,5,6,16
 30075                        	.sym	height,10,5,6,16
 30076                        	.sym	color,12,14,6,8
 30077                        	.line	5533
 30078 06:7CE1: D4 0C        	pei	<L1313+color_0
 30079 06:7CE3: D4 0A        	pei	<L1313+height_0
 30080 06:7CE5: D4 08        	pei	<L1313+width_0
 30081 06:7CE7: D4 06        	pei	<L1313+y0_0
 30082 06:7CE9: D4 04        	pei	<L1313+x0_0
 30083 06:7CEB: F4 0A 00     	pea	#^$a0000
 30084 06:7CEE: F4 00 00     	pea	#<$a0000
 30085 06:7CF1: 22 C4 7B 06  	jsl	~~k_shadow_fill_rect_address
 30086                        ;}
 30087                        	.line	5534
  Sat Jul 10 2021  1:15                                                Page 555


 30088                        L1316:
 30089 06:7CF5: A5 02        	lda	<L1313+2
 30090 06:7CF7: 85 0C        	sta	<L1313+2+10
 30091 06:7CF9: A5 01        	lda	<L1313+1
 30092 06:7CFB: 85 0B        	sta	<L1313+1+10
 30093 06:7CFD: 2B           	pld
 30094 06:7CFE: 3B           	tsc
 30095 06:7CFF: 18           	clc
 30096 06:7D00: 69 0A 00     	adc	#L1313+10
 30097 06:7D03: 1B           	tcs
 30098 06:7D04: 6B           	rtl
 30099                        	.endblock	5534
 30100             00000000   L1313	equ	0
 30101             00000001   L1314	equ	1
 30102 06:7D05:              	ends
 30103                        	efunc
 30104                        	.endfunc	5534,1,0
 30105                        	.line	5534
 30106                        ;
 30107                        ;/*
 30108                        ;void k_shadow_fill_rect(int x0, int y0, int width
                    , int height, UCHAR color)
 30109                        ;{
 30110                        ;	LPCHAR ptr = NULL;
 30111                        ;	ULONG dx = 0L;
 30112                        ;	long dy = 0L;
 30113                        ;	long pixelLocation0 = 0L;
 30114                        ;	long pixelLocation1 = 0L;
 30115                        ;	long difference     = 0L;
 30116                        ;	long fIndex = 0;
 30117                        ;	long offset = 0L;
 30118                        ;
 30119                        ;	if(width > 640)
 30120                        ;		width = 640;
 30121                        ;	if(height > 480)
 30122                        ;		height = 480;
 30123                        ;
 30124                        ;	if(width < 0)
 30125                        ;		width = 0;
 30126                        ;	if(height < 0)
 30127                        ;		height = 0;
 30128                        ;
 30129                        ;
 30130                        ;	offset = ((long)y0 + (long)height);
 30131                        ;
 30132                        ;	//pixelLocation0 = (ULONG)(((ULONG)y0 * 640L) + 
                    (ULONG)x0);
 30133                        ;	//pixelLocation1 = (ULONG)(((ULONG)y0 * 640L) + 
                    (ULONG)(x0 + width ));
 30134                        ;	//difference     = pixelLocation1 - pixelLocatio
                    n0;
 30135                        ;	difference     = width;
 30136                        ;
 30137                        ;	//difference = (long)(x0 + width);
 30138                        ;
 30139                        ;	//k_debug_long("k_shadow_fill_rect::width:",widt
                    h);
 30140                        ;	//k_debug_long("k_shadow_fill_rect::height:",hei
  Sat Jul 10 2021  1:15                                                Page 556


                    ght);
 30141                        ;	//k_debug_long("k_shadow_fill_rect::difference:"
                    ,difference);
 30142                        ;	//k_debug_long("k_shadow_fill_rect::offset:",off
                    set);
 30143                        ;
 30144                        ;
 30145                        ;	for(dy = (long)y0;dy<offset;dy++)
 30146                        ;	{
 30147                        ;		//k_debug_long("k_shadow_fill_rect::dy:"
                    ,dy);
 30148                        ;		//for(dx=(long)x0;dx<difference;dx++)
 30149                        ;		//	SHADOW_BANK_0[(dy * 640L) + dx] 
                    = color;
 30150                        ;		//k_debug_long("k_shadow_fill_rect::dx:"
                    ,dx);
 30151                        ;		ptr = &( SHADOW_BANK_0[(dy * 640L) + (lo
                    ng)x0] ) ;
 30152                        ;		//k_debug_pointer("k_shadow_fill_rect::p
                    tr:",ptr);
 30153                        ;		//pixelLocation0 = (ULONG)(((ULONG)dy * 
                    640L) + (ULONG)x0);
 30154                        ;		//k_debug_long("k_shadow_fill_rect::pixe
                    lLocation0:",pixelLocation0);
 30155                        ;		memset( ptr, color , difference ) ;
 30156                        ;		//for(fIndex=0;fIndex<difference;fIndex+
                    +)
 30157                        ;		//	ptr[fIndex] = color;
 30158                        ;	}
 30159                        ;
 30160                        ;}
 30161                        ;*/
 30162                        ;void k_shadow_bitblt(int x0, int y0, int width, i
                    nt height, int x1, int y1)
 30163                        ;{
 30164                        	.line	5591
 30165                        	.line	5592
 30166                        	GFX
 30167                        	xdef	~~k_shadow_bitblt
 30168                        	func
 30169                        	.function	5592
 30170                        ~~k_shadow_bitblt:
 30171                        	longa	on
 30172                        	longi	on
 30173 06:7D05: 3B           	tsc
 30174 06:7D06: 38           	sec
 30175 06:7D07: E9 20 00     	sbc	#L1317
 30176 06:7D0A: 1B           	tcs
 30177 06:7D0B: 0B           	phd
 30178 06:7D0C: 5B           	tcd
 30179             00000004   x0_0	set	4
 30180             00000006   y0_0	set	6
 30181             00000008   width_0	set	8
 30182             0000000A   height_0	set	10
 30183             0000000C   x1_0	set	12
 30184             0000000E   y1_0	set	14
 30185                        	.block	5592
 30186                        ;	long dy = 0L;
  Sat Jul 10 2021  1:15                                                Page 557


 30187                        ;	long dd = y1;
 30188                        ;
 30189                        ;	long pixelLocation0 = 0L;
 30190                        ;	long pixelLocation1 = 0L;
 30191                        ;	long pixelLocationD = 0L;
 30192                        ;	long difference     = 0L;
 30193                        ;
 30194                        ;	pixelLocation0 = (long)(((long)y0 * 640L) + (lon
                    g)x0);
 30195             00000000   dy_1	set	0
 30196             00000004   dd_1	set	4
 30197             00000008   pixelLocation0_1	set	8
 30198             0000000C   pixelLocation1_1	set	12
 30199             00000010   pixelLocationD_1	set	16
 30200             00000014   difference_1	set	20
 30201                        	.sym	dy,0,7,1,32
 30202                        	.sym	dd,4,7,1,32
 30203                        	.sym	pixelLocation0,8,7,1,32
 30204                        	.sym	pixelLocation1,12,7,1,32
 30205                        	.sym	pixelLocationD,16,7,1,32
 30206                        	.sym	difference,20,7,1,32
 30207                        	.sym	x0,4,5,6,16
 30208                        	.sym	y0,6,5,6,16
 30209                        	.sym	width,8,5,6,16
 30210                        	.sym	height,10,5,6,16
 30211                        	.sym	x1,12,5,6,16
 30212                        	.sym	y1,14,5,6,16
 30213 06:7D0D: 64 09        	stz	<L1318+dy_1
 30214 06:7D0F: 64 0B        	stz	<L1318+dy_1+2
 30215 06:7D11: A0 00 00     	ldy	#$0
 30216 06:7D14: A5 2E        	lda	<L1317+y1_0
 30217 06:7D16: 10 01        	bpl	L1320
 30218 06:7D18: 88           	dey
 30219                        L1320:
 30220 06:7D19: 85 0D        	sta	<L1318+dd_1
 30221 06:7D1B: 84 0F        	sty	<L1318+dd_1+2
 30222 06:7D1D: 64 11        	stz	<L1318+pixelLocation0_1
 30223 06:7D1F: 64 13        	stz	<L1318+pixelLocation0_1+2
 30224 06:7D21: 64 15        	stz	<L1318+pixelLocation1_1
 30225 06:7D23: 64 17        	stz	<L1318+pixelLocation1_1+2
 30226 06:7D25: 64 19        	stz	<L1318+pixelLocationD_1
 30227 06:7D27: 64 1B        	stz	<L1318+pixelLocationD_1+2
 30228 06:7D29: 64 1D        	stz	<L1318+difference_1
 30229 06:7D2B: 64 1F        	stz	<L1318+difference_1+2
 30230                        	.line	5601
 30231 06:7D2D: A0 00 00     	ldy	#$0
 30232 06:7D30: A5 24        	lda	<L1317+x0_0
 30233 06:7D32: 10 01        	bpl	L1321
 30234 06:7D34: 88           	dey
 30235                        L1321:
 30236 06:7D35: 85 01        	sta	<R0
 30237 06:7D37: 84 03        	sty	<R0+2
 30238 06:7D39: A0 00 00     	ldy	#$0
 30239 06:7D3C: A5 26        	lda	<L1317+y0_0
 30240 06:7D3E: 10 01        	bpl	L1322
 30241 06:7D40: 88           	dey
 30242                        L1322:
 30243 06:7D41: 85 05        	sta	<R1
  Sat Jul 10 2021  1:15                                                Page 558


 30244 06:7D43: 84 07        	sty	<R1+2
 30245 06:7D45: F4 00 00     	pea	#^$280
 30246 06:7D48: F4 80 02     	pea	#<$280
 30247 06:7D4B: D4 07        	pei	<R1+2
 30248 06:7D4D: D4 05        	pei	<R1
 30249                        	xref	~~~lmul
 30250 06:7D4F: 22 xx xx xx  	jsl	~~~lmul
 30251 06:7D53: 85 05        	sta	<R1
 30252 06:7D55: 86 07        	stx	<R1+2
 30253 06:7D57: 18           	clc
 30254 06:7D58: A5 05        	lda	<R1
 30255 06:7D5A: 65 01        	adc	<R0
 30256 06:7D5C: 85 11        	sta	<L1318+pixelLocation0_1
 30257 06:7D5E: A5 07        	lda	<R1+2
 30258 06:7D60: 65 03        	adc	<R0+2
 30259 06:7D62: 85 13        	sta	<L1318+pixelLocation0_1+2
 30260                        ;	//pixelLocation1 = (long)(((long)y0 * 640L) + (l
                    ong)(x0 + width ));
 30261                        ;	pixelLocationD = (long)(((long)y1 * 640L) + (lon
                    g)(x1));
 30262                        	.line	5603
 30263 06:7D64: A0 00 00     	ldy	#$0
 30264 06:7D67: A5 2C        	lda	<L1317+x1_0
 30265 06:7D69: 10 01        	bpl	L1323
 30266 06:7D6B: 88           	dey
 30267                        L1323:
 30268 06:7D6C: 85 01        	sta	<R0
 30269 06:7D6E: 84 03        	sty	<R0+2
 30270 06:7D70: A0 00 00     	ldy	#$0
 30271 06:7D73: A5 2E        	lda	<L1317+y1_0
 30272 06:7D75: 10 01        	bpl	L1324
 30273 06:7D77: 88           	dey
 30274                        L1324:
 30275 06:7D78: 85 05        	sta	<R1
 30276 06:7D7A: 84 07        	sty	<R1+2
 30277 06:7D7C: F4 00 00     	pea	#^$280
 30278 06:7D7F: F4 80 02     	pea	#<$280
 30279 06:7D82: D4 07        	pei	<R1+2
 30280 06:7D84: D4 05        	pei	<R1
 30281                        	xref	~~~lmul
 30282 06:7D86: 22 xx xx xx  	jsl	~~~lmul
 30283 06:7D8A: 85 05        	sta	<R1
 30284 06:7D8C: 86 07        	stx	<R1+2
 30285 06:7D8E: 18           	clc
 30286 06:7D8F: A5 05        	lda	<R1
 30287 06:7D91: 65 01        	adc	<R0
 30288 06:7D93: 85 19        	sta	<L1318+pixelLocationD_1
 30289 06:7D95: A5 07        	lda	<R1+2
 30290 06:7D97: 65 03        	adc	<R0+2
 30291 06:7D99: 85 1B        	sta	<L1318+pixelLocationD_1+2
 30292                        ;
 30293                        ;	difference = pixelLocation1 - pixelLocation0;
 30294                        	.line	5605
 30295 06:7D9B: 38           	sec
 30296 06:7D9C: A5 15        	lda	<L1318+pixelLocation1_1
 30297 06:7D9E: E5 11        	sbc	<L1318+pixelLocation0_1
 30298 06:7DA0: 85 1D        	sta	<L1318+difference_1
 30299 06:7DA2: A5 17        	lda	<L1318+pixelLocation1_1+2
  Sat Jul 10 2021  1:15                                                Page 559


 30300 06:7DA4: E5 13        	sbc	<L1318+pixelLocation0_1+2
 30301 06:7DA6: 85 1F        	sta	<L1318+difference_1+2
 30302                        ;
 30303                        ;	//k_debug_long("pixelLocation0:",pixelLocation0)
                    ;
 30304                        ;	//k_debug_long("pixelLocation1:",pixelLocation1)
                    ;
 30305                        ;	//k_debug_long("pixelLocationD:",pixelLocationD)
                    ;
 30306                        ;	//k_debug_long("difference:",difference);
 30307                        ;
 30308                        ;	y0++;
 30309                        	.line	5612
 30310 06:7DA8: E6 26        	inc	<L1317+y0_0
 30311                        ;	x0++;
 30312                        	.line	5613
 30313 06:7DAA: E6 24        	inc	<L1317+x0_0
 30314                        ;
 30315                        ;	for(dy = y0;dy<(y0 + height);dy++)
 30316                        	.line	5615
 30317 06:7DAC: A0 00 00     	ldy	#$0
 30318 06:7DAF: A5 26        	lda	<L1317+y0_0
 30319 06:7DB1: 10 01        	bpl	L1325
 30320 06:7DB3: 88           	dey
 30321                        L1325:
 30322 06:7DB4: 85 09        	sta	<L1318+dy_1
 30323 06:7DB6: 84 0B        	sty	<L1318+dy_1+2
 30324 06:7DB8: 82 8E 00     	brl	L10527
 30325                        L10526:
 30326                        ;	{
 30327                        	.line	5616
 30328                        ;		pixelLocation0 = (long)(((long)dy * 640L
                    ) + (long)x0);
 30329                        	.line	5617
 30330 06:7DBB: A0 00 00     	ldy	#$0
 30331 06:7DBE: A5 24        	lda	<L1317+x0_0
 30332 06:7DC0: 10 01        	bpl	L1326
 30333 06:7DC2: 88           	dey
 30334                        L1326:
 30335 06:7DC3: 85 01        	sta	<R0
 30336 06:7DC5: 84 03        	sty	<R0+2
 30337 06:7DC7: F4 00 00     	pea	#^$280
 30338 06:7DCA: F4 80 02     	pea	#<$280
 30339 06:7DCD: D4 0B        	pei	<L1318+dy_1+2
 30340 06:7DCF: D4 09        	pei	<L1318+dy_1
 30341                        	xref	~~~lmul
 30342 06:7DD1: 22 xx xx xx  	jsl	~~~lmul
 30343 06:7DD5: 85 05        	sta	<R1
 30344 06:7DD7: 86 07        	stx	<R1+2
 30345 06:7DD9: 18           	clc
 30346 06:7DDA: A5 05        	lda	<R1
 30347 06:7DDC: 65 01        	adc	<R0
 30348 06:7DDE: 85 11        	sta	<L1318+pixelLocation0_1
 30349 06:7DE0: A5 07        	lda	<R1+2
 30350 06:7DE2: 65 03        	adc	<R0+2
 30351 06:7DE4: 85 13        	sta	<L1318+pixelLocation0_1+2
 30352                        ;		pixelLocationD = (long)(((long)dd * 640L
                    ) + (long)x1);
  Sat Jul 10 2021  1:15                                                Page 560


 30353                        	.line	5618
 30354 06:7DE6: A0 00 00     	ldy	#$0
 30355 06:7DE9: A5 2C        	lda	<L1317+x1_0
 30356 06:7DEB: 10 01        	bpl	L1327
 30357 06:7DED: 88           	dey
 30358                        L1327:
 30359 06:7DEE: 85 01        	sta	<R0
 30360 06:7DF0: 84 03        	sty	<R0+2
 30361 06:7DF2: F4 00 00     	pea	#^$280
 30362 06:7DF5: F4 80 02     	pea	#<$280
 30363 06:7DF8: D4 0F        	pei	<L1318+dd_1+2
 30364 06:7DFA: D4 0D        	pei	<L1318+dd_1
 30365                        	xref	~~~lmul
 30366 06:7DFC: 22 xx xx xx  	jsl	~~~lmul
 30367 06:7E00: 85 05        	sta	<R1
 30368 06:7E02: 86 07        	stx	<R1+2
 30369 06:7E04: 18           	clc
 30370 06:7E05: A5 05        	lda	<R1
 30371 06:7E07: 65 01        	adc	<R0
 30372 06:7E09: 85 19        	sta	<L1318+pixelLocationD_1
 30373 06:7E0B: A5 07        	lda	<R1+2
 30374 06:7E0D: 65 03        	adc	<R0+2
 30375 06:7E0F: 85 1B        	sta	<L1318+pixelLocationD_1+2
 30376                        ;		memcpy(   &((BITMAP_BANK_0)[pixelLocatio
                    nD])  , &((SHADOW_BANK_0)[pixelLocation0]), difference) ;
 30377                        	.line	5619
 30378 06:7E11: D4 1D        	pei	<L1318+difference_1
 30379 06:7E13: 18           	clc
 30380 06:7E14: A9 00 00     	lda	#$0
 30381 06:7E17: 65 11        	adc	<L1318+pixelLocation0_1
 30382 06:7E19: 85 01        	sta	<R0
 30383 06:7E1B: A9 0A 00     	lda	#$a
 30384 06:7E1E: 65 13        	adc	<L1318+pixelLocation0_1+2
 30385 06:7E20: 85 03        	sta	<R0+2
 30386 06:7E22: D4 03        	pei	<R0+2
 30387 06:7E24: D4 01        	pei	<R0
 30388 06:7E26: 18           	clc
 30389 06:7E27: A9 00 00     	lda	#$0
 30390 06:7E2A: 65 19        	adc	<L1318+pixelLocationD_1
 30391 06:7E2C: 85 05        	sta	<R1
 30392 06:7E2E: A9 B0 00     	lda	#$b0
 30393 06:7E31: 65 1B        	adc	<L1318+pixelLocationD_1+2
 30394 06:7E33: 85 07        	sta	<R1+2
 30395 06:7E35: D4 07        	pei	<R1+2
 30396 06:7E37: D4 05        	pei	<R1
 30397 06:7E39: 22 xx xx xx  	jsl	~~memcpy
 30398                        ;
 30399                        ;		dd++;
 30400                        	.line	5621
 30401 06:7E3D: E6 0D        	inc	<L1318+dd_1
 30402 06:7E3F: D0 02        	bne	L1328
 30403 06:7E41: E6 0F        	inc	<L1318+dd_1+2
 30404                        L1328:
 30405                        ;	}
 30406                        	.line	5622
 30407                        L10524:
 30408 06:7E43: E6 09        	inc	<L1318+dy_1
 30409 06:7E45: D0 02        	bne	L1329
  Sat Jul 10 2021  1:15                                                Page 561


 30410 06:7E47: E6 0B        	inc	<L1318+dy_1+2
 30411                        L1329:
 30412                        L10527:
 30413 06:7E49: 18           	clc
 30414 06:7E4A: A5 26        	lda	<L1317+y0_0
 30415 06:7E4C: 65 2A        	adc	<L1317+height_0
 30416 06:7E4E: 85 01        	sta	<R0
 30417 06:7E50: A0 00 00     	ldy	#$0
 30418 06:7E53: A5 01        	lda	<R0
 30419 06:7E55: 10 01        	bpl	L1330
 30420 06:7E57: 88           	dey
 30421                        L1330:
 30422 06:7E58: 85 01        	sta	<R0
 30423 06:7E5A: 84 03        	sty	<R0+2
 30424 06:7E5C: 38           	sec
 30425 06:7E5D: A5 09        	lda	<L1318+dy_1
 30426 06:7E5F: E5 01        	sbc	<R0
 30427 06:7E61: A5 0B        	lda	<L1318+dy_1+2
 30428 06:7E63: E5 03        	sbc	<R0+2
 30429 06:7E65: 70 03        	bvs	L1331
 30430 06:7E67: 49 00 80     	eor	#$8000
 30431                        L1331:
 30432 06:7E6A: 30 03        	bmi	L1332
 30433 06:7E6C: 82 4C FF     	brl	L10526
 30434                        L1332:
 30435                        L10525:
 30436                        ;
 30437                        ;}
 30438                        	.line	5624
 30439                        L1333:
 30440 06:7E6F: A5 22        	lda	<L1317+2
 30441 06:7E71: 85 2E        	sta	<L1317+2+12
 30442 06:7E73: A5 21        	lda	<L1317+1
 30443 06:7E75: 85 2D        	sta	<L1317+1+12
 30444 06:7E77: 2B           	pld
 30445 06:7E78: 3B           	tsc
 30446 06:7E79: 18           	clc
 30447 06:7E7A: 69 2C 00     	adc	#L1317+12
 30448 06:7E7D: 1B           	tcs
 30449 06:7E7E: 6B           	rtl
 30450                        	.endblock	5624
 30451             00000020   L1317	equ	32
 30452             00000009   L1318	equ	9
 30453 06:7E7F:              	ends
 30454                        	efunc
 30455                        	.endfunc	5624,9,32
 30456                        	.line	5624
 30457                        ;
 30458                        ;void k_scratch_save_bitblt(int x0, int y0, int wi
                    dth, int height, int x1, int y1)
 30459                        ;{
 30460                        	.line	5626
 30461                        	.line	5627
 30462                        	GFX
 30463                        	xdef	~~k_scratch_save_bitblt
 30464                        	func
 30465                        	.function	5627
 30466                        ~~k_scratch_save_bitblt:
  Sat Jul 10 2021  1:15                                                Page 562


 30467                        	longa	on
 30468                        	longi	on
 30469 06:7E7F: 3B           	tsc
 30470 06:7E80: 38           	sec
 30471 06:7E81: E9 20 00     	sbc	#L1334
 30472 06:7E84: 1B           	tcs
 30473 06:7E85: 0B           	phd
 30474 06:7E86: 5B           	tcd
 30475             00000004   x0_0	set	4
 30476             00000006   y0_0	set	6
 30477             00000008   width_0	set	8
 30478             0000000A   height_0	set	10
 30479             0000000C   x1_0	set	12
 30480             0000000E   y1_0	set	14
 30481                        	.block	5627
 30482                        ;	long dy = 0L;
 30483                        ;	long dd = y1;
 30484                        ;	long pixelLocation0 = (long)(((long)y0 * 640L) +
                     (long)x0);
 30485                        ;	long pixelLocation1 = (long)(((long)y0 * 640L) +
                     (long)(x0 + width ));
 30486                        ;	long pixelLocationD = (long)(((long)y1 * 640L) +
                     (long)(x1));
 30487                        ;
 30488                        ;	long difference = width;//pixelLocation1 - pixel
                    Location0 + 1;
 30489                        ;
 30490                        ;	//k_debug_long("pixelLocation0:",pixelLocation0)
                    ;
 30491                        ;	//k_debug_long("pixelLocation1:",pixelLocation1)
                    ;
 30492                        ;	//k_debug_long("pixelLocationD:",pixelLocationD)
                    ;
 30493                        ;	//k_debug_long("difference:",difference);
 30494                        ;
 30495                        ;
 30496                        ;
 30497                        ;	for(dy = y0;dy<(y0 + height);dy++)
 30498             00000000   dy_1	set	0
 30499             00000004   dd_1	set	4
 30500             00000008   pixelLocation0_1	set	8
 30501             0000000C   pixelLocation1_1	set	12
 30502             00000010   pixelLocationD_1	set	16
 30503             00000014   difference_1	set	20
 30504                        	.sym	dy,0,7,1,32
 30505                        	.sym	dd,4,7,1,32
 30506                        	.sym	pixelLocation0,8,7,1,32
 30507                        	.sym	pixelLocation1,12,7,1,32
 30508                        	.sym	pixelLocationD,16,7,1,32
 30509                        	.sym	difference,20,7,1,32
 30510                        	.sym	x0,4,5,6,16
 30511                        	.sym	y0,6,5,6,16
 30512                        	.sym	width,8,5,6,16
 30513                        	.sym	height,10,5,6,16
 30514                        	.sym	x1,12,5,6,16
 30515                        	.sym	y1,14,5,6,16
 30516 06:7E87: 64 09        	stz	<L1335+dy_1
 30517 06:7E89: 64 0B        	stz	<L1335+dy_1+2
  Sat Jul 10 2021  1:15                                                Page 563


 30518 06:7E8B: A0 00 00     	ldy	#$0
 30519 06:7E8E: A5 2E        	lda	<L1334+y1_0
 30520 06:7E90: 10 01        	bpl	L1337
 30521 06:7E92: 88           	dey
 30522                        L1337:
 30523 06:7E93: 85 0D        	sta	<L1335+dd_1
 30524 06:7E95: 84 0F        	sty	<L1335+dd_1+2
 30525 06:7E97: A0 00 00     	ldy	#$0
 30526 06:7E9A: A5 24        	lda	<L1334+x0_0
 30527 06:7E9C: 10 01        	bpl	L1338
 30528 06:7E9E: 88           	dey
 30529                        L1338:
 30530 06:7E9F: 85 01        	sta	<R0
 30531 06:7EA1: 84 03        	sty	<R0+2
 30532 06:7EA3: A0 00 00     	ldy	#$0
 30533 06:7EA6: A5 26        	lda	<L1334+y0_0
 30534 06:7EA8: 10 01        	bpl	L1339
 30535 06:7EAA: 88           	dey
 30536                        L1339:
 30537 06:7EAB: 85 05        	sta	<R1
 30538 06:7EAD: 84 07        	sty	<R1+2
 30539 06:7EAF: F4 00 00     	pea	#^$280
 30540 06:7EB2: F4 80 02     	pea	#<$280
 30541 06:7EB5: D4 07        	pei	<R1+2
 30542 06:7EB7: D4 05        	pei	<R1
 30543                        	xref	~~~lmul
 30544 06:7EB9: 22 xx xx xx  	jsl	~~~lmul
 30545 06:7EBD: 85 05        	sta	<R1
 30546 06:7EBF: 86 07        	stx	<R1+2
 30547 06:7EC1: 18           	clc
 30548 06:7EC2: A5 05        	lda	<R1
 30549 06:7EC4: 65 01        	adc	<R0
 30550 06:7EC6: 85 11        	sta	<L1335+pixelLocation0_1
 30551 06:7EC8: A5 07        	lda	<R1+2
 30552 06:7ECA: 65 03        	adc	<R0+2
 30553 06:7ECC: 85 13        	sta	<L1335+pixelLocation0_1+2
 30554 06:7ECE: 18           	clc
 30555 06:7ECF: A5 24        	lda	<L1334+x0_0
 30556 06:7ED1: 65 28        	adc	<L1334+width_0
 30557 06:7ED3: 85 01        	sta	<R0
 30558 06:7ED5: A0 00 00     	ldy	#$0
 30559 06:7ED8: A5 01        	lda	<R0
 30560 06:7EDA: 10 01        	bpl	L1340
 30561 06:7EDC: 88           	dey
 30562                        L1340:
 30563 06:7EDD: 85 01        	sta	<R0
 30564 06:7EDF: 84 03        	sty	<R0+2
 30565 06:7EE1: A0 00 00     	ldy	#$0
 30566 06:7EE4: A5 26        	lda	<L1334+y0_0
 30567 06:7EE6: 10 01        	bpl	L1341
 30568 06:7EE8: 88           	dey
 30569                        L1341:
 30570 06:7EE9: 85 05        	sta	<R1
 30571 06:7EEB: 84 07        	sty	<R1+2
 30572 06:7EED: F4 00 00     	pea	#^$280
 30573 06:7EF0: F4 80 02     	pea	#<$280
 30574 06:7EF3: D4 07        	pei	<R1+2
 30575 06:7EF5: D4 05        	pei	<R1
  Sat Jul 10 2021  1:15                                                Page 564


 30576                        	xref	~~~lmul
 30577 06:7EF7: 22 xx xx xx  	jsl	~~~lmul
 30578 06:7EFB: 85 05        	sta	<R1
 30579 06:7EFD: 86 07        	stx	<R1+2
 30580 06:7EFF: 18           	clc
 30581 06:7F00: A5 05        	lda	<R1
 30582 06:7F02: 65 01        	adc	<R0
 30583 06:7F04: 85 15        	sta	<L1335+pixelLocation1_1
 30584 06:7F06: A5 07        	lda	<R1+2
 30585 06:7F08: 65 03        	adc	<R0+2
 30586 06:7F0A: 85 17        	sta	<L1335+pixelLocation1_1+2
 30587 06:7F0C: A0 00 00     	ldy	#$0
 30588 06:7F0F: A5 2C        	lda	<L1334+x1_0
 30589 06:7F11: 10 01        	bpl	L1342
 30590 06:7F13: 88           	dey
 30591                        L1342:
 30592 06:7F14: 85 01        	sta	<R0
 30593 06:7F16: 84 03        	sty	<R0+2
 30594 06:7F18: A0 00 00     	ldy	#$0
 30595 06:7F1B: A5 2E        	lda	<L1334+y1_0
 30596 06:7F1D: 10 01        	bpl	L1343
 30597 06:7F1F: 88           	dey
 30598                        L1343:
 30599 06:7F20: 85 05        	sta	<R1
 30600 06:7F22: 84 07        	sty	<R1+2
 30601 06:7F24: F4 00 00     	pea	#^$280
 30602 06:7F27: F4 80 02     	pea	#<$280
 30603 06:7F2A: D4 07        	pei	<R1+2
 30604 06:7F2C: D4 05        	pei	<R1
 30605                        	xref	~~~lmul
 30606 06:7F2E: 22 xx xx xx  	jsl	~~~lmul
 30607 06:7F32: 85 05        	sta	<R1
 30608 06:7F34: 86 07        	stx	<R1+2
 30609 06:7F36: 18           	clc
 30610 06:7F37: A5 05        	lda	<R1
 30611 06:7F39: 65 01        	adc	<R0
 30612 06:7F3B: 85 19        	sta	<L1335+pixelLocationD_1
 30613 06:7F3D: A5 07        	lda	<R1+2
 30614 06:7F3F: 65 03        	adc	<R0+2
 30615 06:7F41: 85 1B        	sta	<L1335+pixelLocationD_1+2
 30616 06:7F43: A0 00 00     	ldy	#$0
 30617 06:7F46: A5 28        	lda	<L1334+width_0
 30618 06:7F48: 10 01        	bpl	L1344
 30619 06:7F4A: 88           	dey
 30620                        L1344:
 30621 06:7F4B: 85 1D        	sta	<L1335+difference_1
 30622 06:7F4D: 84 1F        	sty	<L1335+difference_1+2
 30623                        	.line	5643
 30624 06:7F4F: A0 00 00     	ldy	#$0
 30625 06:7F52: A5 26        	lda	<L1334+y0_0
 30626 06:7F54: 10 01        	bpl	L1345
 30627 06:7F56: 88           	dey
 30628                        L1345:
 30629 06:7F57: 85 09        	sta	<L1335+dy_1
 30630 06:7F59: 84 0B        	sty	<L1335+dy_1+2
 30631 06:7F5B: 82 8E 00     	brl	L10531
 30632                        L10530:
 30633                        ;	{
  Sat Jul 10 2021  1:15                                                Page 565


 30634                        	.line	5644
 30635                        ;		pixelLocation0 = (long)(((long)dy * 640L
                    ) + (long)x0);
 30636                        	.line	5645
 30637 06:7F5E: A0 00 00     	ldy	#$0
 30638 06:7F61: A5 24        	lda	<L1334+x0_0
 30639 06:7F63: 10 01        	bpl	L1346
 30640 06:7F65: 88           	dey
 30641                        L1346:
 30642 06:7F66: 85 01        	sta	<R0
 30643 06:7F68: 84 03        	sty	<R0+2
 30644 06:7F6A: F4 00 00     	pea	#^$280
 30645 06:7F6D: F4 80 02     	pea	#<$280
 30646 06:7F70: D4 0B        	pei	<L1335+dy_1+2
 30647 06:7F72: D4 09        	pei	<L1335+dy_1
 30648                        	xref	~~~lmul
 30649 06:7F74: 22 xx xx xx  	jsl	~~~lmul
 30650 06:7F78: 85 05        	sta	<R1
 30651 06:7F7A: 86 07        	stx	<R1+2
 30652 06:7F7C: 18           	clc
 30653 06:7F7D: A5 05        	lda	<R1
 30654 06:7F7F: 65 01        	adc	<R0
 30655 06:7F81: 85 11        	sta	<L1335+pixelLocation0_1
 30656 06:7F83: A5 07        	lda	<R1+2
 30657 06:7F85: 65 03        	adc	<R0+2
 30658 06:7F87: 85 13        	sta	<L1335+pixelLocation0_1+2
 30659                        ;		pixelLocationD = (long)(((long)dd * 640L
                    ) + (long)x1);
 30660                        	.line	5646
 30661 06:7F89: A0 00 00     	ldy	#$0
 30662 06:7F8C: A5 2C        	lda	<L1334+x1_0
 30663 06:7F8E: 10 01        	bpl	L1347
 30664 06:7F90: 88           	dey
 30665                        L1347:
 30666 06:7F91: 85 01        	sta	<R0
 30667 06:7F93: 84 03        	sty	<R0+2
 30668 06:7F95: F4 00 00     	pea	#^$280
 30669 06:7F98: F4 80 02     	pea	#<$280
 30670 06:7F9B: D4 0F        	pei	<L1335+dd_1+2
 30671 06:7F9D: D4 0D        	pei	<L1335+dd_1
 30672                        	xref	~~~lmul
 30673 06:7F9F: 22 xx xx xx  	jsl	~~~lmul
 30674 06:7FA3: 85 05        	sta	<R1
 30675 06:7FA5: 86 07        	stx	<R1+2
 30676 06:7FA7: 18           	clc
 30677 06:7FA8: A5 05        	lda	<R1
 30678 06:7FAA: 65 01        	adc	<R0
 30679 06:7FAC: 85 19        	sta	<L1335+pixelLocationD_1
 30680 06:7FAE: A5 07        	lda	<R1+2
 30681 06:7FB0: 65 03        	adc	<R0+2
 30682 06:7FB2: 85 1B        	sta	<L1335+pixelLocationD_1+2
 30683                        ;		memcpy(   &((SHADOW_BANK_5)[pixelLocatio
                    nD])  , &((SHADOW_BANK_0)[pixelLocation0]), difference) ;
 30684                        	.line	5647
 30685 06:7FB4: D4 1D        	pei	<L1335+difference_1
 30686 06:7FB6: 18           	clc
 30687 06:7FB7: A9 00 00     	lda	#$0
 30688 06:7FBA: 65 11        	adc	<L1335+pixelLocation0_1
  Sat Jul 10 2021  1:15                                                Page 566


 30689 06:7FBC: 85 01        	sta	<R0
 30690 06:7FBE: A9 0A 00     	lda	#$a
 30691 06:7FC1: 65 13        	adc	<L1335+pixelLocation0_1+2
 30692 06:7FC3: 85 03        	sta	<R0+2
 30693 06:7FC5: D4 03        	pei	<R0+2
 30694 06:7FC7: D4 01        	pei	<R0
 30695 06:7FC9: 18           	clc
 30696 06:7FCA: A9 00 00     	lda	#$0
 30697 06:7FCD: 65 19        	adc	<L1335+pixelLocationD_1
 30698 06:7FCF: 85 05        	sta	<R1
 30699 06:7FD1: A9 0F 00     	lda	#$f
 30700 06:7FD4: 65 1B        	adc	<L1335+pixelLocationD_1+2
 30701 06:7FD6: 85 07        	sta	<R1+2
 30702 06:7FD8: D4 07        	pei	<R1+2
 30703 06:7FDA: D4 05        	pei	<R1
 30704 06:7FDC: 22 xx xx xx  	jsl	~~memcpy
 30705                        ;
 30706                        ;		dd++;
 30707                        	.line	5649
 30708 06:7FE0: E6 0D        	inc	<L1335+dd_1
 30709 06:7FE2: D0 02        	bne	L1348
 30710 06:7FE4: E6 0F        	inc	<L1335+dd_1+2
 30711                        L1348:
 30712                        ;	}
 30713                        	.line	5650
 30714                        L10528:
 30715 06:7FE6: E6 09        	inc	<L1335+dy_1
 30716 06:7FE8: D0 02        	bne	L1349
 30717 06:7FEA: E6 0B        	inc	<L1335+dy_1+2
 30718                        L1349:
 30719                        L10531:
 30720 06:7FEC: 18           	clc
 30721 06:7FED: A5 26        	lda	<L1334+y0_0
 30722 06:7FEF: 65 2A        	adc	<L1334+height_0
 30723 06:7FF1: 85 01        	sta	<R0
 30724 06:7FF3: A0 00 00     	ldy	#$0
 30725 06:7FF6: A5 01        	lda	<R0
 30726 06:7FF8: 10 01        	bpl	L1350
 30727 06:7FFA: 88           	dey
 30728                        L1350:
 30729 06:7FFB: 85 01        	sta	<R0
 30730 06:7FFD: 84 03        	sty	<R0+2
 30731 06:7FFF: 38           	sec
 30732 06:8000: A5 09        	lda	<L1335+dy_1
 30733 06:8002: E5 01        	sbc	<R0
 30734 06:8004: A5 0B        	lda	<L1335+dy_1+2
 30735 06:8006: E5 03        	sbc	<R0+2
 30736 06:8008: 70 03        	bvs	L1351
 30737 06:800A: 49 00 80     	eor	#$8000
 30738                        L1351:
 30739 06:800D: 30 03        	bmi	L1352
 30740 06:800F: 82 4C FF     	brl	L10530
 30741                        L1352:
 30742                        L10529:
 30743                        ;
 30744                        ;}
 30745                        	.line	5652
 30746                        L1353:
  Sat Jul 10 2021  1:15                                                Page 567


 30747 06:8012: A5 22        	lda	<L1334+2
 30748 06:8014: 85 2E        	sta	<L1334+2+12
 30749 06:8016: A5 21        	lda	<L1334+1
 30750 06:8018: 85 2D        	sta	<L1334+1+12
 30751 06:801A: 2B           	pld
 30752 06:801B: 3B           	tsc
 30753 06:801C: 18           	clc
 30754 06:801D: 69 2C 00     	adc	#L1334+12
 30755 06:8020: 1B           	tcs
 30756 06:8021: 6B           	rtl
 30757                        	.endblock	5652
 30758             00000020   L1334	equ	32
 30759             00000009   L1335	equ	9
 30760 06:8022:              	ends
 30761                        	efunc
 30762                        	.endfunc	5652,9,32
 30763                        	.line	5652
 30764                        ;
 30765                        ;void k_scratch_restore_bitblt(int x0, int y0, int
                     width, int height, int x1, int y1)
 30766                        ;{
 30767                        	.line	5654
 30768                        	.line	5655
 30769                        	GFX
 30770                        	xdef	~~k_scratch_restore_bitblt
 30771                        	func
 30772                        	.function	5655
 30773                        ~~k_scratch_restore_bitblt:
 30774                        	longa	on
 30775                        	longi	on
 30776 06:8022: 3B           	tsc
 30777 06:8023: 38           	sec
 30778 06:8024: E9 20 00     	sbc	#L1354
 30779 06:8027: 1B           	tcs
 30780 06:8028: 0B           	phd
 30781 06:8029: 5B           	tcd
 30782             00000004   x0_0	set	4
 30783             00000006   y0_0	set	6
 30784             00000008   width_0	set	8
 30785             0000000A   height_0	set	10
 30786             0000000C   x1_0	set	12
 30787             0000000E   y1_0	set	14
 30788                        	.block	5655
 30789                        ;	long dy = 0L;
 30790                        ;	long dd = y1;
 30791                        ;	long pixelLocation0 = (long)(((long)y0 * 640L) +
                     (long)x0);
 30792                        ;	long pixelLocation1 = (long)(((long)y0 * 640L) +
                     (long)(x0 + width ));
 30793                        ;	long pixelLocationD = (long)(((long)y1 * 640L) +
                     (long)(x1));
 30794                        ;
 30795                        ;	long difference = width;//pixelLocation1 - pixel
                    Location0 + 1;
 30796                        ;
 30797                        ;	//k_debug_long("pixelLocation0:",pixelLocation0)
                    ;
 30798                        ;	//k_debug_long("pixelLocation1:",pixelLocation1)
  Sat Jul 10 2021  1:15                                                Page 568


                    ;
 30799                        ;	//k_debug_long("pixelLocationD:",pixelLocationD)
                    ;
 30800                        ;	//k_debug_long("difference:",difference);
 30801                        ;
 30802                        ;
 30803                        ;
 30804                        ;	for(dy = y0;dy<(y0 + height);dy++)
 30805             00000000   dy_1	set	0
 30806             00000004   dd_1	set	4
 30807             00000008   pixelLocation0_1	set	8
 30808             0000000C   pixelLocation1_1	set	12
 30809             00000010   pixelLocationD_1	set	16
 30810             00000014   difference_1	set	20
 30811                        	.sym	dy,0,7,1,32
 30812                        	.sym	dd,4,7,1,32
 30813                        	.sym	pixelLocation0,8,7,1,32
 30814                        	.sym	pixelLocation1,12,7,1,32
 30815                        	.sym	pixelLocationD,16,7,1,32
 30816                        	.sym	difference,20,7,1,32
 30817                        	.sym	x0,4,5,6,16
 30818                        	.sym	y0,6,5,6,16
 30819                        	.sym	width,8,5,6,16
 30820                        	.sym	height,10,5,6,16
 30821                        	.sym	x1,12,5,6,16
 30822                        	.sym	y1,14,5,6,16
 30823 06:802A: 64 09        	stz	<L1355+dy_1
 30824 06:802C: 64 0B        	stz	<L1355+dy_1+2
 30825 06:802E: A0 00 00     	ldy	#$0
 30826 06:8031: A5 2E        	lda	<L1354+y1_0
 30827 06:8033: 10 01        	bpl	L1357
 30828 06:8035: 88           	dey
 30829                        L1357:
 30830 06:8036: 85 0D        	sta	<L1355+dd_1
 30831 06:8038: 84 0F        	sty	<L1355+dd_1+2
 30832 06:803A: A0 00 00     	ldy	#$0
 30833 06:803D: A5 24        	lda	<L1354+x0_0
 30834 06:803F: 10 01        	bpl	L1358
 30835 06:8041: 88           	dey
 30836                        L1358:
 30837 06:8042: 85 01        	sta	<R0
 30838 06:8044: 84 03        	sty	<R0+2
 30839 06:8046: A0 00 00     	ldy	#$0
 30840 06:8049: A5 26        	lda	<L1354+y0_0
 30841 06:804B: 10 01        	bpl	L1359
 30842 06:804D: 88           	dey
 30843                        L1359:
 30844 06:804E: 85 05        	sta	<R1
 30845 06:8050: 84 07        	sty	<R1+2
 30846 06:8052: F4 00 00     	pea	#^$280
 30847 06:8055: F4 80 02     	pea	#<$280
 30848 06:8058: D4 07        	pei	<R1+2
 30849 06:805A: D4 05        	pei	<R1
 30850                        	xref	~~~lmul
 30851 06:805C: 22 xx xx xx  	jsl	~~~lmul
 30852 06:8060: 85 05        	sta	<R1
 30853 06:8062: 86 07        	stx	<R1+2
 30854 06:8064: 18           	clc
  Sat Jul 10 2021  1:15                                                Page 569


 30855 06:8065: A5 05        	lda	<R1
 30856 06:8067: 65 01        	adc	<R0
 30857 06:8069: 85 11        	sta	<L1355+pixelLocation0_1
 30858 06:806B: A5 07        	lda	<R1+2
 30859 06:806D: 65 03        	adc	<R0+2
 30860 06:806F: 85 13        	sta	<L1355+pixelLocation0_1+2
 30861 06:8071: 18           	clc
 30862 06:8072: A5 24        	lda	<L1354+x0_0
 30863 06:8074: 65 28        	adc	<L1354+width_0
 30864 06:8076: 85 01        	sta	<R0
 30865 06:8078: A0 00 00     	ldy	#$0
 30866 06:807B: A5 01        	lda	<R0
 30867 06:807D: 10 01        	bpl	L1360
 30868 06:807F: 88           	dey
 30869                        L1360:
 30870 06:8080: 85 01        	sta	<R0
 30871 06:8082: 84 03        	sty	<R0+2
 30872 06:8084: A0 00 00     	ldy	#$0
 30873 06:8087: A5 26        	lda	<L1354+y0_0
 30874 06:8089: 10 01        	bpl	L1361
 30875 06:808B: 88           	dey
 30876                        L1361:
 30877 06:808C: 85 05        	sta	<R1
 30878 06:808E: 84 07        	sty	<R1+2
 30879 06:8090: F4 00 00     	pea	#^$280
 30880 06:8093: F4 80 02     	pea	#<$280
 30881 06:8096: D4 07        	pei	<R1+2
 30882 06:8098: D4 05        	pei	<R1
 30883                        	xref	~~~lmul
 30884 06:809A: 22 xx xx xx  	jsl	~~~lmul
 30885 06:809E: 85 05        	sta	<R1
 30886 06:80A0: 86 07        	stx	<R1+2
 30887 06:80A2: 18           	clc
 30888 06:80A3: A5 05        	lda	<R1
 30889 06:80A5: 65 01        	adc	<R0
 30890 06:80A7: 85 15        	sta	<L1355+pixelLocation1_1
 30891 06:80A9: A5 07        	lda	<R1+2
 30892 06:80AB: 65 03        	adc	<R0+2
 30893 06:80AD: 85 17        	sta	<L1355+pixelLocation1_1+2
 30894 06:80AF: A0 00 00     	ldy	#$0
 30895 06:80B2: A5 2C        	lda	<L1354+x1_0
 30896 06:80B4: 10 01        	bpl	L1362
 30897 06:80B6: 88           	dey
 30898                        L1362:
 30899 06:80B7: 85 01        	sta	<R0
 30900 06:80B9: 84 03        	sty	<R0+2
 30901 06:80BB: A0 00 00     	ldy	#$0
 30902 06:80BE: A5 2E        	lda	<L1354+y1_0
 30903 06:80C0: 10 01        	bpl	L1363
 30904 06:80C2: 88           	dey
 30905                        L1363:
 30906 06:80C3: 85 05        	sta	<R1
 30907 06:80C5: 84 07        	sty	<R1+2
 30908 06:80C7: F4 00 00     	pea	#^$280
 30909 06:80CA: F4 80 02     	pea	#<$280
 30910 06:80CD: D4 07        	pei	<R1+2
 30911 06:80CF: D4 05        	pei	<R1
 30912                        	xref	~~~lmul
  Sat Jul 10 2021  1:15                                                Page 570


 30913 06:80D1: 22 xx xx xx  	jsl	~~~lmul
 30914 06:80D5: 85 05        	sta	<R1
 30915 06:80D7: 86 07        	stx	<R1+2
 30916 06:80D9: 18           	clc
 30917 06:80DA: A5 05        	lda	<R1
 30918 06:80DC: 65 01        	adc	<R0
 30919 06:80DE: 85 19        	sta	<L1355+pixelLocationD_1
 30920 06:80E0: A5 07        	lda	<R1+2
 30921 06:80E2: 65 03        	adc	<R0+2
 30922 06:80E4: 85 1B        	sta	<L1355+pixelLocationD_1+2
 30923 06:80E6: A0 00 00     	ldy	#$0
 30924 06:80E9: A5 28        	lda	<L1354+width_0
 30925 06:80EB: 10 01        	bpl	L1364
 30926 06:80ED: 88           	dey
 30927                        L1364:
 30928 06:80EE: 85 1D        	sta	<L1355+difference_1
 30929 06:80F0: 84 1F        	sty	<L1355+difference_1+2
 30930                        	.line	5671
 30931 06:80F2: A0 00 00     	ldy	#$0
 30932 06:80F5: A5 26        	lda	<L1354+y0_0
 30933 06:80F7: 10 01        	bpl	L1365
 30934 06:80F9: 88           	dey
 30935                        L1365:
 30936 06:80FA: 85 09        	sta	<L1355+dy_1
 30937 06:80FC: 84 0B        	sty	<L1355+dy_1+2
 30938 06:80FE: 82 BA 00     	brl	L10535
 30939                        L10534:
 30940                        ;	{
 30941                        	.line	5672
 30942                        ;		pixelLocation0 = (long)(((long)dy * 640L
                    ) + (long)x0);
 30943                        	.line	5673
 30944 06:8101: A0 00 00     	ldy	#$0
 30945 06:8104: A5 24        	lda	<L1354+x0_0
 30946 06:8106: 10 01        	bpl	L1366
 30947 06:8108: 88           	dey
 30948                        L1366:
 30949 06:8109: 85 01        	sta	<R0
 30950 06:810B: 84 03        	sty	<R0+2
 30951 06:810D: F4 00 00     	pea	#^$280
 30952 06:8110: F4 80 02     	pea	#<$280
 30953 06:8113: D4 0B        	pei	<L1355+dy_1+2
 30954 06:8115: D4 09        	pei	<L1355+dy_1
 30955                        	xref	~~~lmul
 30956 06:8117: 22 xx xx xx  	jsl	~~~lmul
 30957 06:811B: 85 05        	sta	<R1
 30958 06:811D: 86 07        	stx	<R1+2
 30959 06:811F: 18           	clc
 30960 06:8120: A5 05        	lda	<R1
 30961 06:8122: 65 01        	adc	<R0
 30962 06:8124: 85 11        	sta	<L1355+pixelLocation0_1
 30963 06:8126: A5 07        	lda	<R1+2
 30964 06:8128: 65 03        	adc	<R0+2
 30965 06:812A: 85 13        	sta	<L1355+pixelLocation0_1+2
 30966                        ;		pixelLocationD = (long)(((long)dd * 640L
                    ) + (long)x1);
 30967                        	.line	5674
 30968 06:812C: A0 00 00     	ldy	#$0
  Sat Jul 10 2021  1:15                                                Page 571


 30969 06:812F: A5 2C        	lda	<L1354+x1_0
 30970 06:8131: 10 01        	bpl	L1367
 30971 06:8133: 88           	dey
 30972                        L1367:
 30973 06:8134: 85 01        	sta	<R0
 30974 06:8136: 84 03        	sty	<R0+2
 30975 06:8138: F4 00 00     	pea	#^$280
 30976 06:813B: F4 80 02     	pea	#<$280
 30977 06:813E: D4 0F        	pei	<L1355+dd_1+2
 30978 06:8140: D4 0D        	pei	<L1355+dd_1
 30979                        	xref	~~~lmul
 30980 06:8142: 22 xx xx xx  	jsl	~~~lmul
 30981 06:8146: 85 05        	sta	<R1
 30982 06:8148: 86 07        	stx	<R1+2
 30983 06:814A: 18           	clc
 30984 06:814B: A5 05        	lda	<R1
 30985 06:814D: 65 01        	adc	<R0
 30986 06:814F: 85 19        	sta	<L1355+pixelLocationD_1
 30987 06:8151: A5 07        	lda	<R1+2
 30988 06:8153: 65 03        	adc	<R0+2
 30989 06:8155: 85 1B        	sta	<L1355+pixelLocationD_1+2
 30990                        ;		memcpy(   &((BITMAP_BANK_0)[pixelLocatio
                    nD])  , &((SHADOW_BANK_5)[pixelLocation0]), difference) ;
 30991                        	.line	5675
 30992 06:8157: D4 1D        	pei	<L1355+difference_1
 30993 06:8159: 18           	clc
 30994 06:815A: A9 00 00     	lda	#$0
 30995 06:815D: 65 11        	adc	<L1355+pixelLocation0_1
 30996 06:815F: 85 01        	sta	<R0
 30997 06:8161: A9 0F 00     	lda	#$f
 30998 06:8164: 65 13        	adc	<L1355+pixelLocation0_1+2
 30999 06:8166: 85 03        	sta	<R0+2
 31000 06:8168: D4 03        	pei	<R0+2
 31001 06:816A: D4 01        	pei	<R0
 31002 06:816C: 18           	clc
 31003 06:816D: A9 00 00     	lda	#$0
 31004 06:8170: 65 19        	adc	<L1355+pixelLocationD_1
 31005 06:8172: 85 05        	sta	<R1
 31006 06:8174: A9 B0 00     	lda	#$b0
 31007 06:8177: 65 1B        	adc	<L1355+pixelLocationD_1+2
 31008 06:8179: 85 07        	sta	<R1+2
 31009 06:817B: D4 07        	pei	<R1+2
 31010 06:817D: D4 05        	pei	<R1
 31011 06:817F: 22 xx xx xx  	jsl	~~memcpy
 31012                        ;		memcpy(   &((SHADOW_BANK_0)[pixelLocatio
                    nD])  , &((SHADOW_BANK_5)[pixelLocation0]), difference) ;
 31013                        	.line	5676
 31014 06:8183: D4 1D        	pei	<L1355+difference_1
 31015 06:8185: 18           	clc
 31016 06:8186: A9 00 00     	lda	#$0
 31017 06:8189: 65 11        	adc	<L1355+pixelLocation0_1
 31018 06:818B: 85 01        	sta	<R0
 31019 06:818D: A9 0F 00     	lda	#$f
 31020 06:8190: 65 13        	adc	<L1355+pixelLocation0_1+2
 31021 06:8192: 85 03        	sta	<R0+2
 31022 06:8194: D4 03        	pei	<R0+2
 31023 06:8196: D4 01        	pei	<R0
 31024 06:8198: 18           	clc
  Sat Jul 10 2021  1:15                                                Page 572


 31025 06:8199: A9 00 00     	lda	#$0
 31026 06:819C: 65 19        	adc	<L1355+pixelLocationD_1
 31027 06:819E: 85 05        	sta	<R1
 31028 06:81A0: A9 0A 00     	lda	#$a
 31029 06:81A3: 65 1B        	adc	<L1355+pixelLocationD_1+2
 31030 06:81A5: 85 07        	sta	<R1+2
 31031 06:81A7: D4 07        	pei	<R1+2
 31032 06:81A9: D4 05        	pei	<R1
 31033 06:81AB: 22 xx xx xx  	jsl	~~memcpy
 31034                        ;
 31035                        ;		dd++;
 31036                        	.line	5678
 31037 06:81AF: E6 0D        	inc	<L1355+dd_1
 31038 06:81B1: D0 02        	bne	L1368
 31039 06:81B3: E6 0F        	inc	<L1355+dd_1+2
 31040                        L1368:
 31041                        ;	}
 31042                        	.line	5679
 31043                        L10532:
 31044 06:81B5: E6 09        	inc	<L1355+dy_1
 31045 06:81B7: D0 02        	bne	L1369
 31046 06:81B9: E6 0B        	inc	<L1355+dy_1+2
 31047                        L1369:
 31048                        L10535:
 31049 06:81BB: 18           	clc
 31050 06:81BC: A5 26        	lda	<L1354+y0_0
 31051 06:81BE: 65 2A        	adc	<L1354+height_0
 31052 06:81C0: 85 01        	sta	<R0
 31053 06:81C2: A0 00 00     	ldy	#$0
 31054 06:81C5: A5 01        	lda	<R0
 31055 06:81C7: 10 01        	bpl	L1370
 31056 06:81C9: 88           	dey
 31057                        L1370:
 31058 06:81CA: 85 01        	sta	<R0
 31059 06:81CC: 84 03        	sty	<R0+2
 31060 06:81CE: 38           	sec
 31061 06:81CF: A5 09        	lda	<L1355+dy_1
 31062 06:81D1: E5 01        	sbc	<R0
 31063 06:81D3: A5 0B        	lda	<L1355+dy_1+2
 31064 06:81D5: E5 03        	sbc	<R0+2
 31065 06:81D7: 70 03        	bvs	L1371
 31066 06:81D9: 49 00 80     	eor	#$8000
 31067                        L1371:
 31068 06:81DC: 30 03        	bmi	L1372
 31069 06:81DE: 82 20 FF     	brl	L10534
 31070                        L1372:
 31071                        L10533:
 31072                        ;
 31073                        ;}
 31074                        	.line	5681
 31075                        L1373:
 31076 06:81E1: A5 22        	lda	<L1354+2
 31077 06:81E3: 85 2E        	sta	<L1354+2+12
 31078 06:81E5: A5 21        	lda	<L1354+1
 31079 06:81E7: 85 2D        	sta	<L1354+1+12
 31080 06:81E9: 2B           	pld
 31081 06:81EA: 3B           	tsc
 31082 06:81EB: 18           	clc
  Sat Jul 10 2021  1:15                                                Page 573


 31083 06:81EC: 69 2C 00     	adc	#L1354+12
 31084 06:81EF: 1B           	tcs
 31085 06:81F0: 6B           	rtl
 31086                        	.endblock	5681
 31087             00000020   L1354	equ	32
 31088             00000009   L1355	equ	9
 31089 06:81F1:              	ends
 31090                        	efunc
 31091                        	.endfunc	5681,9,32
 31092                        	.line	5681
 31093                        ;
 31094                        ;
 31095                        ;UINT k_font_getFontHeight(void)
 31096                        ;{
 31097                        	.line	5684
 31098                        	.line	5685
 31099                        	GFX
 31100                        	xdef	~~k_font_getFontHeight
 31101                        	func
 31102                        	.function	5685
 31103                        ~~k_font_getFontHeight:
 31104                        	longa	on
 31105                        	longi	on
 31106 06:81F1: 3B           	tsc
 31107 06:81F2: 38           	sec
 31108 06:81F3: E9 00 00     	sbc	#L1374
 31109 06:81F6: 1B           	tcs
 31110 06:81F7: 0B           	phd
 31111 06:81F8: 5B           	tcd
 31112                        	.block	5685
 31113                        ;	return 8;
 31114                        	.line	5686
 31115 06:81F9: A9 08 00     	lda	#$8
 31116                        L1377:
 31117 06:81FC: A8           	tay
 31118 06:81FD: 2B           	pld
 31119 06:81FE: 3B           	tsc
 31120 06:81FF: 18           	clc
 31121 06:8200: 69 00 00     	adc	#L1374
 31122 06:8203: 1B           	tcs
 31123 06:8204: 98           	tya
 31124 06:8205: 6B           	rtl
 31125                        ;}
 31126                        	.line	5687
 31127                        	.endblock	5687
 31128             00000000   L1374	equ	0
 31129             00000001   L1375	equ	1
 31130 06:8206:              	ends
 31131                        	efunc
 31132                        	.endfunc	5687,1,0
 31133                        	.line	5687
 31134                        ;
 31135                        ;UINT k_font_getFontWidth(void)
 31136                        ;{
 31137                        	.line	5689
 31138                        	.line	5690
 31139                        	GFX
 31140                        	xdef	~~k_font_getFontWidth
  Sat Jul 10 2021  1:15                                                Page 574


 31141                        	func
 31142                        	.function	5690
 31143                        ~~k_font_getFontWidth:
 31144                        	longa	on
 31145                        	longi	on
 31146 06:8206: 3B           	tsc
 31147 06:8207: 38           	sec
 31148 06:8208: E9 00 00     	sbc	#L1378
 31149 06:820B: 1B           	tcs
 31150 06:820C: 0B           	phd
 31151 06:820D: 5B           	tcd
 31152                        	.block	5690
 31153                        ;	return 8;
 31154                        	.line	5691
 31155 06:820E: A9 08 00     	lda	#$8
 31156                        L1381:
 31157 06:8211: A8           	tay
 31158 06:8212: 2B           	pld
 31159 06:8213: 3B           	tsc
 31160 06:8214: 18           	clc
 31161 06:8215: 69 00 00     	adc	#L1378
 31162 06:8218: 1B           	tcs
 31163 06:8219: 98           	tya
 31164 06:821A: 6B           	rtl
 31165                        ;}
 31166                        	.line	5692
 31167                        	.endblock	5692
 31168             00000000   L1378	equ	0
 31169             00000001   L1379	equ	1
 31170 06:821B:              	ends
 31171                        	efunc
 31172                        	.endfunc	5692,1,0
 31173                        	.line	5692
 31174                        ;
 31175                        ;VOID k_gui_set_mousepointer(UINT index,LPVOID poi
                    nterData)
 31176                        ;{
 31177                        	.line	5694
 31178                        	.line	5695
 31179                        	GFX
 31180                        	xdef	~~k_gui_set_mousepointer
 31181                        	func
 31182                        	.function	5695
 31183                        ~~k_gui_set_mousepointer:
 31184                        	longa	on
 31185                        	longi	on
 31186 06:821B: 3B           	tsc
 31187 06:821C: 38           	sec
 31188 06:821D: E9 04 00     	sbc	#L1382
 31189 06:8220: 1B           	tcs
 31190 06:8221: 0B           	phd
 31191 06:8222: 5B           	tcd
 31192             00000004   index_0	set	4
 31193             00000006   pointerData_0	set	6
 31194                        	.block	5695
 31195                        ;	LPVOID pData = NULL;
 31196                        ;
 31197                        ;	if(index == 0 || index == 1)
  Sat Jul 10 2021  1:15                                                Page 575


 31198             00000000   pData_1	set	0
 31199                        	.sym	pData,0,129,1,32
 31200                        	.sym	index,4,16,6,16
 31201                        	.sym	pointerData,6,129,6,32
 31202 06:8223: 64 01        	stz	<L1383+pData_1
 31203 06:8225: 64 03        	stz	<L1383+pData_1+2
 31204                        	.line	5698
 31205                        ;	{
 31206 06:8227: A5 08        	lda	<L1382+index_0
 31207 06:8229: D0 03        	bne	L1386
 31208 06:822B: 82 0A 00     	brl	L1385
 31209                        L1386:
 31210 06:822E: A5 08        	lda	<L1382+index_0
 31211 06:8230: C9 01 00     	cmp	#<$1
 31212 06:8233: F0 03        	beq	L1387
 31213 06:8235: 82 38 00     	brl	L10536
 31214                        L1387:
 31215                        L1385:
 31216                        	.line	5699
 31217                        ;		//*MOUSE_PTR_CTRL_REG_H = 0x00;
 31218                        ;		//*MOUSE_PTR_CTRL_REG_L = index;
 31219                        ;
 31220                        ;		memcpy( MOUSE_PTR_GRAP0_START,pointerDat
                    a,sizeof(MOUSE_POINTER_ARROW));
 31221                        	.line	5703
 31222 06:8238: F4 00 01     	pea	#<$100
 31223 06:823B: D4 0C        	pei	<L1382+pointerData_0+2
 31224 06:823D: D4 0A        	pei	<L1382+pointerData_0
 31225 06:823F: F4 AF 00     	pea	#^$af0500
 31226 06:8242: F4 00 05     	pea	#<$af0500
 31227 06:8245: 22 xx xx xx  	jsl	~~memcpy
 31228                        ;		memcpy( MOUSE_PTR_GRAP1_START,MOUSE_POIN
                    TER_HOURGLASS,sizeof(MOUSE_POINTER_ARROW));
 31229                        	.line	5704
 31230 06:8249: F4 00 01     	pea	#<$100
 31231 06:824C: F4 xx xx     	pea	#^~~MOUSE_POINTER_HOURGLASS
 31232 06:824F: F4 xx xx     	pea	#<~~MOUSE_POINTER_HOURGLASS
 31233 06:8252: F4 AF 00     	pea	#^$af0600
 31234 06:8255: F4 00 06     	pea	#<$af0600
 31235 06:8258: 22 xx xx xx  	jsl	~~memcpy
 31236                        ;
 31237                        ;		*MOUSE_PTR_CTRL_REG_H = 0x00;
 31238                        	.line	5706
 31239 06:825C: E2 20        	sep	#$20
 31240                        	longa	off
 31241 06:825E: A9 00        	lda	#$0
 31242 06:8260: 8F 01 07 AF  	sta	>11470593	; volatile
 31243 06:8264: C2 20        	rep	#$20
 31244                        	longa	on
 31245                        ;		*MOUSE_PTR_CTRL_REG_L = 0x01;
 31246                        	.line	5707
 31247 06:8266: E2 20        	sep	#$20
 31248                        	longa	off
 31249 06:8268: A9 01        	lda	#$1
 31250 06:826A: 8F 00 07 AF  	sta	>11470592	; volatile
 31251 06:826E: C2 20        	rep	#$20
 31252                        	longa	on
 31253                        ;	}
  Sat Jul 10 2021  1:15                                                Page 576


 31254                        	.line	5708
 31255                        ;}
 31256                        L10536:
 31257                        	.line	5709
 31258                        L1388:
 31259 06:8270: A5 06        	lda	<L1382+2
 31260 06:8272: 85 0C        	sta	<L1382+2+6
 31261 06:8274: A5 05        	lda	<L1382+1
 31262 06:8276: 85 0B        	sta	<L1382+1+6
 31263 06:8278: 2B           	pld
 31264 06:8279: 3B           	tsc
 31265 06:827A: 18           	clc
 31266 06:827B: 69 0A 00     	adc	#L1382+6
 31267 06:827E: 1B           	tcs
 31268 06:827F: 6B           	rtl
 31269                        	.endblock	5709
 31270             00000004   L1382	equ	4
 31271             00000001   L1383	equ	1
 31272 06:8280:              	ends
 31273                        	efunc
 31274                        	.endfunc	5709,1,4
 31275                        	.line	5709
 31276                        ;
 31277                        ;VOID k_gui_init_mousepointer(BOOL enable)
 31278                        ;{
 31279                        	.line	5711
 31280                        	.line	5712
 31281                        	GFX
 31282                        	xdef	~~k_gui_init_mousepointer
 31283                        	func
 31284                        	.function	5712
 31285                        ~~k_gui_init_mousepointer:
 31286                        	longa	on
 31287                        	longi	on
 31288 06:8280: 3B           	tsc
 31289 06:8281: 38           	sec
 31290 06:8282: E9 00 00     	sbc	#L1389
 31291 06:8285: 1B           	tcs
 31292 06:8286: 0B           	phd
 31293 06:8287: 5B           	tcd
 31294             00000004   enable_0	set	4
 31295                        	.block	5712
 31296                        ;	if(enable)
 31297                        	.sym	enable,4,14,6,8
 31298                        	.line	5713
 31299                        ;	{
 31300 06:8288: A5 04        	lda	<L1389+enable_0
 31301 06:828A: 29 FF 00     	and	#$ff
 31302 06:828D: D0 03        	bne	L1392
 31303 06:828F: 82 3D 00     	brl	L10537
 31304                        L1392:
 31305                        	.line	5714
 31306                        ;		//MOUSE_POINTER_HELP
 31307                        ;		//memcpy(MOUSE_PTR_GRAP0_START,MOUSE_POI
                    NTER_PTR_V2,sizeof(MOUSE_POINTER_PTR_V2));
 31308                        ;		//memcpy(MOUSE_PTR_GRAP0_START,MOUSE_POI
                    NTER_PTR_V2,sizeof(MOUSE_POINTER_PTR_V2));
 31309                        ;
  Sat Jul 10 2021  1:15                                                Page 577


 31310                        ;		memcpy(MOUSE_PTR_GRAP0_START,MOUSE_POINT
                    ER_ARROW,sizeof(MOUSE_POINTER_ARROW));
 31311                        	.line	5719
 31312 06:8292: F4 00 01     	pea	#<$100
 31313 06:8295: F4 xx xx     	pea	#^~~MOUSE_POINTER_ARROW
 31314 06:8298: F4 xx xx     	pea	#<~~MOUSE_POINTER_ARROW
 31315 06:829B: F4 AF 00     	pea	#^$af0500
 31316 06:829E: F4 00 05     	pea	#<$af0500
 31317 06:82A1: 22 xx xx xx  	jsl	~~memcpy
 31318                        ;		memcpy(MOUSE_PTR_GRAP1_START,MOUSE_POINT
                    ER_HOURGLASS,sizeof(MOUSE_POINTER_HOURGLASS));
 31319                        	.line	5720
 31320 06:82A5: F4 00 01     	pea	#<$100
 31321 06:82A8: F4 xx xx     	pea	#^~~MOUSE_POINTER_HOURGLASS
 31322 06:82AB: F4 xx xx     	pea	#<~~MOUSE_POINTER_HOURGLASS
 31323 06:82AE: F4 AF 00     	pea	#^$af0600
 31324 06:82B1: F4 00 06     	pea	#<$af0600
 31325 06:82B4: 22 xx xx xx  	jsl	~~memcpy
 31326                        ;
 31327                        ;		*MOUSE_PTR_CTRL_REG_H = 0x00;
 31328                        	.line	5722
 31329 06:82B8: E2 20        	sep	#$20
 31330                        	longa	off
 31331 06:82BA: A9 00        	lda	#$0
 31332 06:82BC: 8F 01 07 AF  	sta	>11470593	; volatile
 31333 06:82C0: C2 20        	rep	#$20
 31334                        	longa	on
 31335                        ;		*MOUSE_PTR_CTRL_REG_L = 0x01;
 31336                        	.line	5723
 31337 06:82C2: E2 20        	sep	#$20
 31338                        	longa	off
 31339 06:82C4: A9 01        	lda	#$1
 31340 06:82C6: 8F 00 07 AF  	sta	>11470592	; volatile
 31341 06:82CA: C2 20        	rep	#$20
 31342                        	longa	on
 31343                        ;	}
 31344                        	.line	5724
 31345                        ;	else
 31346 06:82CC: 82 3A 00     	brl	L10538
 31347                        L10537:
 31348                        ;	{
 31349                        	.line	5726
 31350                        ;		memcpy(MOUSE_PTR_GRAP0_START,MOUSE_POINT
                    ER_ARROW,sizeof(MOUSE_POINTER_ARROW));
 31351                        	.line	5727
 31352 06:82CF: F4 00 01     	pea	#<$100
 31353 06:82D2: F4 xx xx     	pea	#^~~MOUSE_POINTER_ARROW
 31354 06:82D5: F4 xx xx     	pea	#<~~MOUSE_POINTER_ARROW
 31355 06:82D8: F4 AF 00     	pea	#^$af0500
 31356 06:82DB: F4 00 05     	pea	#<$af0500
 31357 06:82DE: 22 xx xx xx  	jsl	~~memcpy
 31358                        ;		memcpy(MOUSE_PTR_GRAP1_START,MOUSE_POINT
                    ER_ARROW,sizeof(MOUSE_POINTER_ARROW));
 31359                        	.line	5728
 31360 06:82E2: F4 00 01     	pea	#<$100
 31361 06:82E5: F4 xx xx     	pea	#^~~MOUSE_POINTER_ARROW
 31362 06:82E8: F4 xx xx     	pea	#<~~MOUSE_POINTER_ARROW
 31363 06:82EB: F4 AF 00     	pea	#^$af0600
  Sat Jul 10 2021  1:15                                                Page 578


 31364 06:82EE: F4 00 06     	pea	#<$af0600
 31365 06:82F1: 22 xx xx xx  	jsl	~~memcpy
 31366                        ;		*MOUSE_PTR_CTRL_REG_H = 0x00;
 31367                        	.line	5729
 31368 06:82F5: E2 20        	sep	#$20
 31369                        	longa	off
 31370 06:82F7: A9 00        	lda	#$0
 31371 06:82F9: 8F 01 07 AF  	sta	>11470593	; volatile
 31372 06:82FD: C2 20        	rep	#$20
 31373                        	longa	on
 31374                        ;		*MOUSE_PTR_CTRL_REG_L = 0x00;
 31375                        	.line	5730
 31376 06:82FF: E2 20        	sep	#$20
 31377                        	longa	off
 31378 06:8301: A9 00        	lda	#$0
 31379 06:8303: 8F 00 07 AF  	sta	>11470592	; volatile
 31380 06:8307: C2 20        	rep	#$20
 31381                        	longa	on
 31382                        ;	}
 31383                        	.line	5731
 31384                        L10538:
 31385                        ;}
 31386                        	.line	5732
 31387                        L1393:
 31388 06:8309: A5 02        	lda	<L1389+2
 31389 06:830B: 85 04        	sta	<L1389+2+2
 31390 06:830D: A5 01        	lda	<L1389+1
 31391 06:830F: 85 03        	sta	<L1389+1+2
 31392 06:8311: 2B           	pld
 31393 06:8312: 3B           	tsc
 31394 06:8313: 18           	clc
 31395 06:8314: 69 02 00     	adc	#L1389+2
 31396 06:8317: 1B           	tcs
 31397 06:8318: 6B           	rtl
 31398                        	.endblock	5732
 31399             00000000   L1389	equ	0
 31400             00000001   L1390	equ	1
 31401 06:8319:              	ends
 31402                        	efunc
 31403                        	.endfunc	5732,1,0
 31404                        	.line	5732
 31405                        ;
 31406                        ;void k_vdma_copy_address_ex(char FAR * pdst,char 
                    FAR * psrc,int width,int height)
 31407                        ;{
 31408                        	.line	5734
 31409                        	.line	5735
 31410                        	GFX
 31411                        	xdef	~~k_vdma_copy_address_ex
 31412                        	func
 31413                        	.function	5735
 31414                        ~~k_vdma_copy_address_ex:
 31415                        	longa	on
 31416                        	longi	on
 31417 06:8319: 3B           	tsc
 31418 06:831A: 38           	sec
 31419 06:831B: E9 0D 00     	sbc	#L1394
 31420 06:831E: 1B           	tcs
  Sat Jul 10 2021  1:15                                                Page 579


 31421 06:831F: 0B           	phd
 31422 06:8320: 5B           	tcd
 31423             00000004   pdst_0	set	4
 31424             00000008   psrc_0	set	8
 31425             0000000C   width_0	set	12
 31426             0000000E   height_0	set	14
 31427                        	.block	5735
 31428                        ;	int pos = 0;
 31429                        ;	UINT spinLock = 0;
 31430                        ;	char status = VDMA_STAT_VDMA_IPS;
 31431                        ;
 31432                        ;
 31433                        ;	//k_debug_pointer("k_vdma_copy_address_ex::src  
                    offset:",psrc);
 31434                        ;	//k_debug_pointer("k_vdma_copy_address_ex::dest 
                    offset:",pdst);
 31435                        ;
 31436                        ;	//k_debug_integer("k_vdma_copy_address_ex::width
                    :",width);
 31437                        ;	//k_debug_integer("k_vdma_copy_address_ex::heigh
                    t:",height);
 31438                        ;
 31439                        ;
 31440                        ;
 31441                        ;	VDMA_CONTROL_REG[0] = ( VDMA_CTRL_ENABLE | VDMA_
                    CTRL_1D_2D );
 31442             00000000   pos_1	set	0
 31443             00000002   spinLock_1	set	2
 31444             00000004   status_1	set	4
 31445                        	.sym	pos,0,5,1,16
 31446                        	.sym	spinLock,2,16,1,16
 31447                        	.sym	status,4,14,1,8
 31448                        	.sym	pdst,4,142,6,32
 31449                        	.sym	psrc,8,142,6,32
 31450                        	.sym	width,12,5,6,16
 31451                        	.sym	height,14,5,6,16
 31452 06:8321: 64 09        	stz	<L1395+pos_1
 31453 06:8323: 64 0B        	stz	<L1395+spinLock_1
 31454 06:8325: E2 20        	sep	#$20
 31455                        	longa	off
 31456 06:8327: A9 80        	lda	#$80
 31457 06:8329: 85 0D        	sta	<L1395+status_1
 31458 06:832B: C2 20        	rep	#$20
 31459                        	longa	on
 31460                        	.line	5749
 31461 06:832D: E2 20        	sep	#$20
 31462                        	longa	off
 31463 06:832F: A9 03        	lda	#$3
 31464 06:8331: 8F 00 04 AF  	sta	>11469824
 31465 06:8335: C2 20        	rep	#$20
 31466                        	longa	on
 31467                        ;
 31468                        ;	VDMA_SRC_ADDY_L[0] = L24BYTE((long)psrc);
 31469                        	.line	5751
 31470 06:8337: E2 20        	sep	#$20
 31471                        	longa	off
 31472 06:8339: A5 15        	lda	<L1394+psrc_0
 31473 06:833B: 8F 02 04 AF  	sta	>11469826
  Sat Jul 10 2021  1:15                                                Page 580


 31474 06:833F: C2 20        	rep	#$20
 31475                        	longa	on
 31476                        ;	VDMA_SRC_ADDY_M[0] = M24BYTE((long)psrc);
 31477                        	.line	5752
 31478 06:8341: D4 17        	pei	<L1394+psrc_0+2
 31479 06:8343: D4 15        	pei	<L1394+psrc_0
 31480 06:8345: A9 08 00     	lda	#$8
 31481                        	xref	~~~llsr
 31482 06:8348: 22 xx xx xx  	jsl	~~~llsr
 31483 06:834C: 85 01        	sta	<R0
 31484 06:834E: 86 03        	stx	<R0+2
 31485 06:8350: A5 01        	lda	<R0
 31486 06:8352: 29 FF 00     	and	#<$ff
 31487 06:8355: 85 05        	sta	<R1
 31488 06:8357: 64 07        	stz	<R1+2
 31489 06:8359: E2 20        	sep	#$20
 31490                        	longa	off
 31491 06:835B: A5 05        	lda	<R1
 31492 06:835D: 8F 03 04 AF  	sta	>11469827
 31493 06:8361: C2 20        	rep	#$20
 31494                        	longa	on
 31495                        ;	VDMA_SRC_ADDY_H[0] = H24BYTE((long)psrc);
 31496                        	.line	5753
 31497 06:8363: D4 17        	pei	<L1394+psrc_0+2
 31498 06:8365: D4 15        	pei	<L1394+psrc_0
 31499 06:8367: A9 10 00     	lda	#$10
 31500                        	xref	~~~llsr
 31501 06:836A: 22 xx xx xx  	jsl	~~~llsr
 31502 06:836E: 85 01        	sta	<R0
 31503 06:8370: 86 03        	stx	<R0+2
 31504 06:8372: A5 01        	lda	<R0
 31505 06:8374: 29 FF 00     	and	#<$ff
 31506 06:8377: 85 05        	sta	<R1
 31507 06:8379: 64 07        	stz	<R1+2
 31508 06:837B: E2 20        	sep	#$20
 31509                        	longa	off
 31510 06:837D: A5 05        	lda	<R1
 31511 06:837F: 8F 04 04 AF  	sta	>11469828
 31512 06:8383: C2 20        	rep	#$20
 31513                        	longa	on
 31514                        ;
 31515                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 31516                        	.line	5755
 31517 06:8385: E2 20        	sep	#$20
 31518                        	longa	off
 31519 06:8387: A5 11        	lda	<L1394+pdst_0
 31520 06:8389: 8F 05 04 AF  	sta	>11469829
 31521 06:838D: C2 20        	rep	#$20
 31522                        	longa	on
 31523                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 31524                        	.line	5756
 31525 06:838F: D4 13        	pei	<L1394+pdst_0+2
 31526 06:8391: D4 11        	pei	<L1394+pdst_0
 31527 06:8393: A9 08 00     	lda	#$8
 31528                        	xref	~~~llsr
 31529 06:8396: 22 xx xx xx  	jsl	~~~llsr
 31530 06:839A: 85 01        	sta	<R0
 31531 06:839C: 86 03        	stx	<R0+2
  Sat Jul 10 2021  1:15                                                Page 581


 31532 06:839E: A5 01        	lda	<R0
 31533 06:83A0: 29 FF 00     	and	#<$ff
 31534 06:83A3: 85 05        	sta	<R1
 31535 06:83A5: 64 07        	stz	<R1+2
 31536 06:83A7: E2 20        	sep	#$20
 31537                        	longa	off
 31538 06:83A9: A5 05        	lda	<R1
 31539 06:83AB: 8F 06 04 AF  	sta	>11469830
 31540 06:83AF: C2 20        	rep	#$20
 31541                        	longa	on
 31542                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 31543                        	.line	5757
 31544 06:83B1: D4 13        	pei	<L1394+pdst_0+2
 31545 06:83B3: D4 11        	pei	<L1394+pdst_0
 31546 06:83B5: A9 10 00     	lda	#$10
 31547                        	xref	~~~llsr
 31548 06:83B8: 22 xx xx xx  	jsl	~~~llsr
 31549 06:83BC: 85 01        	sta	<R0
 31550 06:83BE: 86 03        	stx	<R0+2
 31551 06:83C0: A5 01        	lda	<R0
 31552 06:83C2: 29 FF 00     	and	#<$ff
 31553 06:83C5: 85 05        	sta	<R1
 31554 06:83C7: 64 07        	stz	<R1+2
 31555 06:83C9: E2 20        	sep	#$20
 31556                        	longa	off
 31557 06:83CB: A5 05        	lda	<R1
 31558 06:83CD: 8F 07 04 AF  	sta	>11469831
 31559 06:83D1: C2 20        	rep	#$20
 31560                        	longa	on
 31561                        ;
 31562                        ;	VDMA_X_SIZE_L[0] = LOBYTE(width);
 31563                        	.line	5759
 31564 06:83D3: E2 20        	sep	#$20
 31565                        	longa	off
 31566 06:83D5: A5 19        	lda	<L1394+width_0
 31567 06:83D7: 8F 08 04 AF  	sta	>11469832
 31568 06:83DB: C2 20        	rep	#$20
 31569                        	longa	on
 31570                        ;	VDMA_X_SIZE_H[0] = HIBYTE(width);
 31571                        	.line	5760
 31572 06:83DD: A5 19        	lda	<L1394+width_0
 31573 06:83DF: A2 08 00     	ldx	#<$8
 31574                        	xref	~~~asr
 31575 06:83E2: 22 xx xx xx  	jsl	~~~asr
 31576 06:83E6: 29 FF 00     	and	#<$ff
 31577 06:83E9: 85 01        	sta	<R0
 31578 06:83EB: E2 20        	sep	#$20
 31579                        	longa	off
 31580 06:83ED: A5 01        	lda	<R0
 31581 06:83EF: 8F 09 04 AF  	sta	>11469833
 31582 06:83F3: C2 20        	rep	#$20
 31583                        	longa	on
 31584                        ;
 31585                        ;	VDMA_Y_SIZE_L[0] = LOBYTE(height);
 31586                        	.line	5762
 31587 06:83F5: E2 20        	sep	#$20
 31588                        	longa	off
 31589 06:83F7: A5 1B        	lda	<L1394+height_0
  Sat Jul 10 2021  1:15                                                Page 582


 31590 06:83F9: 8F 0A 04 AF  	sta	>11469834
 31591 06:83FD: C2 20        	rep	#$20
 31592                        	longa	on
 31593                        ;	VDMA_Y_SIZE_H[0] = HIBYTE(height);
 31594                        	.line	5763
 31595 06:83FF: A5 1B        	lda	<L1394+height_0
 31596 06:8401: A2 08 00     	ldx	#<$8
 31597                        	xref	~~~asr
 31598 06:8404: 22 xx xx xx  	jsl	~~~asr
 31599 06:8408: 29 FF 00     	and	#<$ff
 31600 06:840B: 85 01        	sta	<R0
 31601 06:840D: E2 20        	sep	#$20
 31602                        	longa	off
 31603 06:840F: A5 01        	lda	<R0
 31604 06:8411: 8F 0B 04 AF  	sta	>11469835
 31605 06:8415: C2 20        	rep	#$20
 31606                        	longa	on
 31607                        ;	VDMA_Y_SIZE_H[1] = 0x00;
 31608                        	.line	5764
 31609 06:8417: E2 20        	sep	#$20
 31610                        	longa	off
 31611 06:8419: A9 00        	lda	#$0
 31612 06:841B: 8F 0C 04 AF  	sta	>11469836
 31613 06:841F: C2 20        	rep	#$20
 31614                        	longa	on
 31615                        ;
 31616                        ;
 31617                        ;	*VDMA_SRC_STRIDE_L  = 0x80;
 31618                        	.line	5767
 31619 06:8421: E2 20        	sep	#$20
 31620                        	longa	off
 31621 06:8423: A9 80        	lda	#$80
 31622 06:8425: 8F 0C 04 AF  	sta	>11469836
 31623 06:8429: C2 20        	rep	#$20
 31624                        	longa	on
 31625                        ;	*VDMA_SRC_STRIDE_H  = 0x02;
 31626                        	.line	5768
 31627 06:842B: E2 20        	sep	#$20
 31628                        	longa	off
 31629 06:842D: A9 02        	lda	#$2
 31630 06:842F: 8F 0D 04 AF  	sta	>11469837
 31631 06:8433: C2 20        	rep	#$20
 31632                        	longa	on
 31633                        ;
 31634                        ;	*VDMA_DST_STRIDE_L  = 0x80;
 31635                        	.line	5770
 31636 06:8435: E2 20        	sep	#$20
 31637                        	longa	off
 31638 06:8437: A9 80        	lda	#$80
 31639 06:8439: 8F 0E 04 AF  	sta	>11469838
 31640 06:843D: C2 20        	rep	#$20
 31641                        	longa	on
 31642                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 31643                        	.line	5771
 31644 06:843F: E2 20        	sep	#$20
 31645                        	longa	off
 31646 06:8441: A9 02        	lda	#$2
 31647 06:8443: 8F 0F 04 AF  	sta	>11469839
  Sat Jul 10 2021  1:15                                                Page 583


 31648 06:8447: C2 20        	rep	#$20
 31649                        	longa	on
 31650                        ;
 31651                        ;    VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VD
                    MA_CTRL_1D_2D | VDMA_CTRL_START_TRF);
 31652                        	.line	5773
 31653 06:8449: E2 20        	sep	#$20
 31654                        	longa	off
 31655 06:844B: A9 83        	lda	#$83
 31656 06:844D: 8F 00 04 AF  	sta	>11469824
 31657 06:8451: C2 20        	rep	#$20
 31658                        	longa	on
 31659                        ;
 31660                        ;    asm NOP;
 31661                        	.line	5775
 31662                        	asmstart
 31663 06:8453: EA           	NOP
 31664                        	asmend
 31665                        ;    asm NOP;
 31666                        	.line	5776
 31667                        	asmstart
 31668 06:8454: EA           	NOP
 31669                        	asmend
 31670                        ;    asm NOP;
 31671                        	.line	5777
 31672                        	asmstart
 31673 06:8455: EA           	NOP
 31674                        	asmend
 31675                        ;
 31676                        ;	while(status == VDMA_STAT_VDMA_IPS)
 31677                        	.line	5779
 31678                        L10539:
 31679 06:8456: E2 20        	sep	#$20
 31680                        	longa	off
 31681 06:8458: A5 0D        	lda	<L1395+status_1
 31682 06:845A: C9 80        	cmp	#<$80
 31683 06:845C: C2 20        	rep	#$20
 31684                        	longa	on
 31685 06:845E: F0 03        	beq	L1397
 31686 06:8460: 82 1E 00     	brl	L10540
 31687                        L1397:
 31688                        ;	{
 31689                        	.line	5780
 31690                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 31691                        	.line	5781
 31692 06:8463: E2 20        	sep	#$20
 31693                        	longa	off
 31694 06:8465: AF 01 04 AF  	lda	>11469825
 31695 06:8469: 29 80        	and	#<$80
 31696 06:846B: 85 0D        	sta	<L1395+status_1
 31697 06:846D: C2 20        	rep	#$20
 31698                        	longa	on
 31699                        ;		spinLock++;
 31700                        	.line	5782
 31701 06:846F: E6 0B        	inc	<L1395+spinLock_1
 31702                        ;
 31703                        ;		if(spinLock > 32000)
  Sat Jul 10 2021  1:15                                                Page 584


 31704                        	.line	5784
 31705                        ;		{
 31706 06:8471: A9 00 7D     	lda	#$7d00
 31707 06:8474: C5 0B        	cmp	<L1395+spinLock_1
 31708 06:8476: 90 03        	bcc	L1398
 31709 06:8478: 82 03 00     	brl	L10541
 31710                        L1398:
 31711                        	.line	5785
 31712                        ;			break;
 31713                        	.line	5786
 31714 06:847B: 82 03 00     	brl	L10540
 31715                        ;		}
 31716                        	.line	5787
 31717                        ;	}
 31718                        L10541:
 31719                        	.line	5788
 31720 06:847E: 82 D5 FF     	brl	L10539
 31721                        L10540:
 31722                        ;
 31723                        ;#ifdef USE_MAX_DEBUG
 31724                        ;	k_debug_integer("k_vdma_copy_address_ex::spinLoc
                    k:",spinLock);
 31725                        ;#endif
 31726                        ;
 31727                        ;	asm NOP;
 31728                        	.line	5794
 31729                        	asmstart
 31730 06:8481: EA           	NOP
 31731                        	asmend
 31732                        ;
 31733                        ;	VDMA_CONTROL_REG[0] = 0;
 31734                        	.line	5796
 31735 06:8482: E2 20        	sep	#$20
 31736                        	longa	off
 31737 06:8484: A9 00        	lda	#$0
 31738 06:8486: 8F 00 04 AF  	sta	>11469824
 31739 06:848A: C2 20        	rep	#$20
 31740                        	longa	on
 31741                        ;
 31742                        ;   return ;
 31743                        	.line	5798
 31744                        L1399:
 31745 06:848C: A5 0F        	lda	<L1394+2
 31746 06:848E: 85 1B        	sta	<L1394+2+12
 31747 06:8490: A5 0E        	lda	<L1394+1
 31748 06:8492: 85 1A        	sta	<L1394+1+12
 31749 06:8494: 2B           	pld
 31750 06:8495: 3B           	tsc
 31751 06:8496: 18           	clc
 31752 06:8497: 69 19 00     	adc	#L1394+12
 31753 06:849A: 1B           	tcs
 31754 06:849B: 6B           	rtl
 31755                        ;}
 31756                        	.line	5799
 31757                        	.endblock	5799
 31758             0000000D   L1394	equ	13
 31759             00000009   L1395	equ	9
 31760 06:849C:              	ends
  Sat Jul 10 2021  1:15                                                Page 585


 31761                        	efunc
 31762                        	.endfunc	5799,9,13
 31763                        	.line	5799
 31764                        ;
 31765                        ;
 31766                        ;LPVOID k_gui_get_title_cache(HANDLE hTitle)
 31767                        ;{
 31768                        	.line	5802
 31769                        	.line	5803
 31770                        	GFX
 31771                        	xdef	~~k_gui_get_title_cache
 31772                        	func
 31773                        	.function	5803
 31774                        ~~k_gui_get_title_cache:
 31775                        	longa	on
 31776                        	longi	on
 31777 06:849C: 3B           	tsc
 31778 06:849D: 38           	sec
 31779 06:849E: E9 00 00     	sbc	#L1400
 31780 06:84A1: 1B           	tcs
 31781 06:84A2: 0B           	phd
 31782 06:84A3: 5B           	tcd
 31783             00000004   hTitle_0	set	4
 31784                        	.block	5803
 31785                        ;	return (LPVOID)TITLE_LINES_640x480;
 31786                        	.sym	hTitle,4,129,6,32
 31787                        	.line	5804
 31788 06:84A4: AE xx xx     	ldx	|~~TITLE_LINES_640x480+2
 31789 06:84A7: AD xx xx     	lda	|~~TITLE_LINES_640x480
 31790                        L1403:
 31791 06:84AA: A8           	tay
 31792 06:84AB: A5 02        	lda	<L1400+2
 31793 06:84AD: 85 06        	sta	<L1400+2+4
 31794 06:84AF: A5 01        	lda	<L1400+1
 31795 06:84B1: 85 05        	sta	<L1400+1+4
 31796 06:84B3: 2B           	pld
 31797 06:84B4: 3B           	tsc
 31798 06:84B5: 18           	clc
 31799 06:84B6: 69 04 00     	adc	#L1400+4
 31800 06:84B9: 1B           	tcs
 31801 06:84BA: 98           	tya
 31802 06:84BB: 6B           	rtl
 31803                        ;}
 31804                        	.line	5805
 31805                        	.endblock	5805
 31806             00000000   L1400	equ	0
 31807             00000001   L1401	equ	1
 31808 06:84BC:              	ends
 31809                        	efunc
 31810                        	.endfunc	5805,1,0
 31811                        	.line	5805
 31812                        ;
 31813                        ;HANDLE k_gui_build_title_cache(LPSTR lpstrTitle)
 31814                        ;{
 31815                        	.line	5807
 31816                        	.line	5808
 31817                        	GFX
 31818                        	xdef	~~k_gui_build_title_cache
  Sat Jul 10 2021  1:15                                                Page 586


 31819                        	func
 31820                        	.function	5808
 31821                        ~~k_gui_build_title_cache:
 31822                        	longa	on
 31823                        	longi	on
 31824 06:84BC: 3B           	tsc
 31825 06:84BD: 38           	sec
 31826 06:84BE: E9 12 00     	sbc	#L1404
 31827 06:84C1: 1B           	tcs
 31828 06:84C2: 0B           	phd
 31829 06:84C3: 5B           	tcd
 31830             00000004   lpstrTitle_0	set	4
 31831                        	.block	5808
 31832                        ;	int i = 0;
 31833                        ;	int x = 0;
 31834                        ;	int y = 400;
 31835                        ;	ULONG offset = 0;
 31836                        ;
 31837                        ;	k_debug_strings("k_gui_build_title_cache:","CACH
                    ED");
 31838             00000000   i_1	set	0
 31839             00000002   x_1	set	2
 31840             00000004   y_1	set	4
 31841             00000006   offset_1	set	6
 31842                        	.sym	i,0,5,1,16
 31843                        	.sym	x,2,5,1,16
 31844                        	.sym	y,4,5,1,16
 31845                        	.sym	offset,6,18,1,32
 31846                        	.sym	lpstrTitle,4,142,6,32
 31847 06:84C4: 64 09        	stz	<L1405+i_1
 31848 06:84C6: 64 0B        	stz	<L1405+x_1
 31849 06:84C8: A9 90 01     	lda	#$190
 31850 06:84CB: 85 0D        	sta	<L1405+y_1
 31851 06:84CD: 64 0F        	stz	<L1405+offset_1
 31852 06:84CF: 64 11        	stz	<L1405+offset_1+2
 31853                        	.line	5814
 31854 06:84D1: F4 xx xx     	pea	#^L1294+25
 31855 06:84D4: F4 xx xx     	pea	#<L1294+25
 31856 06:84D7: F4 xx xx     	pea	#^L1294
 31857 06:84DA: F4 xx xx     	pea	#<L1294
 31858 06:84DD: 22 xx xx xx  	jsl	~~k_debug_strings
 31859                        ;
 31860                        ;	offset = (ULONG)k_gui_get_pixel_offset(x,y);
 31861                        	.line	5816
 31862 06:84E1: D4 0D        	pei	<L1405+y_1
 31863 06:84E3: D4 0B        	pei	<L1405+x_1
 31864 06:84E5: 22 B4 07 06  	jsl	~~k_gui_get_pixel_offset
 31865 06:84E9: 85 0F        	sta	<L1405+offset_1
 31866 06:84EB: 86 11        	stx	<L1405+offset_1+2
 31867                        ;
 31868                        ;	TITLE_LINES_640x480 = (LPSTR)((ULONG)0x080000 + 
                    (ULONG)offset);
 31869                        	.line	5818
 31870 06:84ED: 18           	clc
 31871 06:84EE: A9 00 00     	lda	#$0
 31872 06:84F1: 65 0F        	adc	<L1405+offset_1
 31873 06:84F3: 85 01        	sta	<R0
 31874 06:84F5: A9 08 00     	lda	#$8
  Sat Jul 10 2021  1:15                                                Page 587


 31875 06:84F8: 65 11        	adc	<L1405+offset_1+2
 31876 06:84FA: 85 03        	sta	<R0+2
 31877 06:84FC: A5 01        	lda	<R0
 31878 06:84FE: 8D xx xx     	sta	|~~TITLE_LINES_640x480
 31879 06:8501: A5 03        	lda	<R0+2
 31880 06:8503: 8D xx xx     	sta	|~~TITLE_LINES_640x480+2
 31881                        ;
 31882                        ;	k_debug_pointer("k_gui_build_title_cache:",TITLE
                    _LINES_640x480);
 31883                        	.line	5820
 31884 06:8506: AD xx xx     	lda	|~~TITLE_LINES_640x480+2
 31885 06:8509: 48           	pha
 31886 06:850A: AD xx xx     	lda	|~~TITLE_LINES_640x480
 31887 06:850D: 48           	pha
 31888 06:850E: F4 xx xx     	pea	#^L1294+32
 31889 06:8511: F4 xx xx     	pea	#<L1294+32
 31890 06:8514: 22 xx xx xx  	jsl	~~k_debug_pointer
 31891                        ;
 31892                        ;	k_vdma_fill_rect_ex(x,y,640,8,15,BITMAP_BACK);
 31893                        	.line	5822
 31894 06:8518: F4 08 00     	pea	#<$8
 31895 06:851B: F4 0F 00     	pea	#<$f
 31896 06:851E: F4 08 00     	pea	#<$8
 31897 06:8521: F4 80 02     	pea	#<$280
 31898 06:8524: A0 00 00     	ldy	#$0
 31899 06:8527: A5 0D        	lda	<L1405+y_1
 31900 06:8529: 10 01        	bpl	L1407
 31901 06:852B: 88           	dey
 31902                        L1407:
 31903 06:852C: 85 01        	sta	<R0
 31904 06:852E: 84 03        	sty	<R0+2
 31905 06:8530: D4 03        	pei	<R0+2
 31906 06:8532: D4 01        	pei	<R0
 31907 06:8534: A0 00 00     	ldy	#$0
 31908 06:8537: A5 0B        	lda	<L1405+x_1
 31909 06:8539: 10 01        	bpl	L1408
 31910 06:853B: 88           	dey
 31911                        L1408:
 31912 06:853C: 85 05        	sta	<R1
 31913 06:853E: 84 07        	sty	<R1+2
 31914 06:8540: D4 07        	pei	<R1+2
 31915 06:8542: D4 05        	pei	<R1
 31916 06:8544: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 31917                        ;
 31918                        ;	for(i=0;i<80;i++)
 31919                        	.line	5824
 31920 06:8548: 64 09        	stz	<L1405+i_1
 31921                        L10544:
 31922                        ;	{
 31923                        	.line	5825
 31924                        ;		x+=k_put_wingadget_point_ex(WINICON_TITL
                    E_LINES,x,y,k_getUIGadgetColor(),0x08);
 31925                        	.line	5826
 31926 06:854A: F4 08 00     	pea	#<$8
 31927 06:854D: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 31928 06:8551: 48           	pha
 31929 06:8552: D4 0D        	pei	<L1405+y_1
 31930 06:8554: D4 0B        	pei	<L1405+x_1
  Sat Jul 10 2021  1:15                                                Page 588


 31931 06:8556: F4 01 00     	pea	#<$1
 31932 06:8559: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 31933 06:855D: 85 01        	sta	<R0
 31934 06:855F: 18           	clc
 31935 06:8560: A5 01        	lda	<R0
 31936 06:8562: 65 0B        	adc	<L1405+x_1
 31937 06:8564: 85 0B        	sta	<L1405+x_1
 31938                        ;		//x+=k_put_wingadget_point_ex(WINICON_TI
                    TLE_LINES,x,y,15,0x08);
 31939                        ;	}
 31940                        	.line	5828
 31941                        L10542:
 31942 06:8566: E6 09        	inc	<L1405+i_1
 31943 06:8568: 38           	sec
 31944 06:8569: A5 09        	lda	<L1405+i_1
 31945 06:856B: E9 50 00     	sbc	#<$50
 31946 06:856E: 70 03        	bvs	L1409
 31947 06:8570: 49 00 80     	eor	#$8000
 31948                        L1409:
 31949 06:8573: 30 03        	bmi	L1410
 31950 06:8575: 82 D2 FF     	brl	L10544
 31951                        L1410:
 31952                        L10543:
 31953                        ;
 31954                        ;	k_vdma_copy_address_ex((LPSTR)((ULONG)0x080000 +
                     k_gui_get_pixel_offset(0,420)),TITLE_LINES_640x480,640,8);
 31955                        	.line	5830
 31956 06:8578: F4 08 00     	pea	#<$8
 31957 06:857B: F4 80 02     	pea	#<$280
 31958 06:857E: AD xx xx     	lda	|~~TITLE_LINES_640x480+2
 31959 06:8581: 48           	pha
 31960 06:8582: AD xx xx     	lda	|~~TITLE_LINES_640x480
 31961 06:8585: 48           	pha
 31962 06:8586: F4 A4 01     	pea	#<$1a4
 31963 06:8589: F4 00 00     	pea	#<$0
 31964 06:858C: 22 B4 07 06  	jsl	~~k_gui_get_pixel_offset
 31965 06:8590: 85 01        	sta	<R0
 31966 06:8592: 86 03        	stx	<R0+2
 31967 06:8594: 18           	clc
 31968 06:8595: A9 00 00     	lda	#$0
 31969 06:8598: 65 01        	adc	<R0
 31970 06:859A: 85 05        	sta	<R1
 31971 06:859C: A9 08 00     	lda	#$8
 31972 06:859F: 65 03        	adc	<R0+2
 31973 06:85A1: 85 07        	sta	<R1+2
 31974 06:85A3: D4 07        	pei	<R1+2
 31975 06:85A5: D4 05        	pei	<R1
 31976 06:85A7: 22 19 83 06  	jsl	~~k_vdma_copy_address_ex
 31977                        ;
 31978                        ;	return NULL;
 31979                        	.line	5832
 31980 06:85AB: A9 00 00     	lda	#$0
 31981 06:85AE: AA           	tax
 31982 06:85AF: A9 00 00     	lda	#$0
 31983                        L1411:
 31984 06:85B2: A8           	tay
 31985 06:85B3: A5 14        	lda	<L1404+2
 31986 06:85B5: 85 18        	sta	<L1404+2+4
  Sat Jul 10 2021  1:15                                                Page 589


 31987 06:85B7: A5 13        	lda	<L1404+1
 31988 06:85B9: 85 17        	sta	<L1404+1+4
 31989 06:85BB: 2B           	pld
 31990 06:85BC: 3B           	tsc
 31991 06:85BD: 18           	clc
 31992 06:85BE: 69 16 00     	adc	#L1404+4
 31993 06:85C1: 1B           	tcs
 31994 06:85C2: 98           	tya
 31995 06:85C3: 6B           	rtl
 31996                        ;}
 31997                        	.line	5833
 31998                        	.endblock	5833
 31999             00000012   L1404	equ	18
 32000             00000009   L1405	equ	9
 32001 06:85C4:              	ends
 32002                        	efunc
 32003                        	.endfunc	5833,9,18
 32004                        	.line	5833
 32005                        	data
 32006                        L1294:
 32007 00:0CB6: 6B 5F 67 75  	db	$6B,$5F,$67,$75,$69,$5F,$62,$75,$69,$6C,
                    $64,$5F,$74,$69,$74
       00:0CBA: 69 5F 62 75 
       00:0CBE: 69 6C 64 5F 
       00:0CC2: 74 69 74 
 32008 00:0CC5: 6C 65 5F 63  	db	$6C,$65,$5F,$63,$61,$63,$68,$65,$3A,$00,
                    $43,$41,$43,$48,$45
       00:0CC9: 61 63 68 65 
       00:0CCD: 3A 00 43 41 
       00:0CD1: 43 48 45 
 32009 00:0CD4: 44 00 6B 5F  	db	$44,$00,$6B,$5F,$67,$75,$69,$5F,$62,$75,
                    $69,$6C,$64,$5F,$74
       00:0CD8: 67 75 69 5F 
       00:0CDC: 62 75 69 6C 
       00:0CE0: 64 5F 74 
 32010 00:0CE3: 69 74 6C 65  	db	$69,$74,$6C,$65,$5F,$63,$61,$63,$68,$65,
                    $3A,$00
       00:0CE7: 5F 63 61 63 
       00:0CEB: 68 65 3A 00 
 32011 00:0CEF:              	ends
 32012                        ;
 32013                        ;#include "bmp/cbmp.c"
 32014                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\bmp/cbmp.c",0
 32015                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
 32016                        	.line	30
 32017                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\bmp/cbmp.c",1
 32018                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\bmp/cbmp.h",0
 32019                        	.stag	tagBITMAPFILEHEADER,96,85
 32020                        	.member	bfSize,0,18,8,32
 32021                        	.member	bfReserved1,32,15,8,16
 32022                        	.member	bfReserved2,48,15,8,16
 32023                        	.member	bfOffBits,64,18,8,32
 32024                        	.eos
 32025                        	.stag	tagBITMAPINFOHEADER,320,86
  Sat Jul 10 2021  1:15                                                Page 590


 32026                        	.member	biSize,0,18,8,32
 32027                        	.member	biWidth,32,7,8,32
 32028                        	.member	biHeight,64,7,8,32
 32029                        	.member	biPlanes,96,15,8,16
 32030                        	.member	biBitCount,112,15,8,16
 32031                        	.member	biCompression,128,18,8,32
 32032                        	.member	biSizeImage,160,18,8,32
 32033                        	.member	biXPelsPerMeter,192,18,8,32
 32034                        	.member	biYPelsPerMeter,224,18,8,32
 32035                        	.member	biClrUsed,256,18,8,32
 32036                        	.member	biClrImportant,288,18,8,32
 32037                        	.eos
 32038                        	.stag	_PixelInfo,32,87
 32039                        	.member	rgbBlue,0,14,8,8
 32040                        	.member	rgbGreen,8,14,8,8
 32041                        	.member	rgbRed,16,14,8,8
 32042                        	.member	rgbReserved,24,14,8,8
 32043                        	.eos
 32044                        	.line	49
 32045                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\bmp/cbmp.c",2
 32046                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\bmp/cbmp.c",7
 32047                        	.line	8
 32048                        	GFX
 32049                        	xdef	~~showBmpHead
 32050                        	func
 32051                        	.function	8
 32052                        ~~showBmpHead:
 32053                        	longa	on
 32054                        	longi	on
 32055 06:85C4: 3B           	tsc
 32056 06:85C5: 38           	sec
 32057 06:85C6: E9 04 00     	sbc	#L1413
 32058 06:85C9: 1B           	tcs
 32059 06:85CA: 0B           	phd
 32060 06:85CB: 5B           	tcd
 32061             00000004   pBmpHead_0	set	4
 32062                        	.block	8
 32063                        	.sym	pBmpHead,4,10,6,96,85
 32064                        	.line	9
 32065 06:85CC: AD xx xx     	lda	|~~fileHeader+2
 32066 06:85CF: 48           	pha
 32067 06:85D0: AD xx xx     	lda	|~~fileHeader
 32068 06:85D3: 48           	pha
 32069 06:85D4: A9 0A 00     	lda	#$a
 32070                        	xref	~~~llsr
 32071 06:85D7: 22 xx xx xx  	jsl	~~~llsr
 32072 06:85DB: 85 01        	sta	<R0
 32073 06:85DD: 86 03        	stx	<R0+2
 32074 06:85DF: D4 03        	pei	<R0+2
 32075 06:85E1: D4 01        	pei	<R0
 32076 06:85E3: F4 xx xx     	pea	#^L1412
 32077 06:85E6: F4 xx xx     	pea	#<L1412
 32078 06:85E9: 22 xx xx xx  	jsl	~~k_debug_long
 32079                        	.line	10
 32080 06:85ED: AD xx xx     	lda	|~~fileHeader+4
 32081 06:85F0: 85 01        	sta	<R0
  Sat Jul 10 2021  1:15                                                Page 591


 32082 06:85F2: 64 03        	stz	<R0+2
 32083 06:85F4: D4 03        	pei	<R0+2
 32084 06:85F6: D4 01        	pei	<R0
 32085 06:85F8: F4 xx xx     	pea	#^L1412+16
 32086 06:85FB: F4 xx xx     	pea	#<L1412+16
 32087 06:85FE: 22 xx xx xx  	jsl	~~k_debug_long
 32088                        	.line	11
 32089 06:8602: AD xx xx     	lda	|~~fileHeader+6
 32090 06:8605: 85 01        	sta	<R0
 32091 06:8607: 64 03        	stz	<R0+2
 32092 06:8609: D4 03        	pei	<R0+2
 32093 06:860B: D4 01        	pei	<R0
 32094 06:860D: F4 xx xx     	pea	#^L1412+43
 32095 06:8610: F4 xx xx     	pea	#<L1412+43
 32096 06:8613: 22 xx xx xx  	jsl	~~k_debug_long
 32097                        	.line	12
 32098 06:8617: AD xx xx     	lda	|~~fileHeader+8+2
 32099 06:861A: 48           	pha
 32100 06:861B: AD xx xx     	lda	|~~fileHeader+8
 32101 06:861E: 48           	pha
 32102 06:861F: F4 xx xx     	pea	#^L1412+70
 32103 06:8622: F4 xx xx     	pea	#<L1412+70
 32104 06:8625: 22 xx xx xx  	jsl	~~k_debug_long
 32105                        	.line	13
 32106                        L1416:
 32107 06:8629: A5 06        	lda	<L1413+2
 32108 06:862B: 85 12        	sta	<L1413+2+12
 32109 06:862D: A5 05        	lda	<L1413+1
 32110 06:862F: 85 11        	sta	<L1413+1+12
 32111 06:8631: 2B           	pld
 32112 06:8632: 3B           	tsc
 32113 06:8633: 18           	clc
 32114 06:8634: 69 10 00     	adc	#L1413+12
 32115 06:8637: 1B           	tcs
 32116 06:8638: 6B           	rtl
 32117                        	.endblock	13
 32118             00000004   L1413	equ	4
 32119             00000005   L1414	equ	5
 32120 06:8639:              	ends
 32121                        	efunc
 32122                        	.endfunc	13,5,4
 32123                        	.line	13
 32124                        	data
 32125                        L1412:
 32126 00:0CEF: 42 4D 50 20  	db	$42,$4D,$50,$20,$66,$69,$6C,$65,$20,$73,
                    $69,$7A,$65,$3A,$20
       00:0CF3: 66 69 6C 65 
       00:0CF7: 20 73 69 7A 
       00:0CFB: 65 3A 20 
 32127 00:0CFE: 00 52 65 73  	db	$00,$52,$65,$73,$65,$72,$76,$65,$64,$20,
                    $77,$6F,$72,$64,$73
       00:0D02: 65 72 76 65 
       00:0D06: 64 20 77 6F 
       00:0D0A: 72 64 73 
 32128 00:0D0D: 20 6D 75 73  	db	$20,$6D,$75,$73,$74,$20,$62,$65,$20,$30,
                    $3A,$20,$00,$52,$65
       00:0D11: 74 20 62 65 
       00:0D15: 20 30 3A 20 
  Sat Jul 10 2021  1:15                                                Page 592


       00:0D19: 00 52 65 
 32129 00:0D1C: 73 65 72 76  	db	$73,$65,$72,$76,$65,$64,$20,$77,$6F,$72,
                    $64,$73,$20,$6D,$75
       00:0D20: 65 64 20 77 
       00:0D24: 6F 72 64 73 
       00:0D28: 20 6D 75 
 32130 00:0D2B: 73 74 20 62  	db	$73,$74,$20,$62,$65,$20,$30,$3A,$20,$00,
                    $4F,$66,$66,$73,$65
       00:0D2F: 65 20 30 3A 
       00:0D33: 20 00 4F 66 
       00:0D37: 66 73 65 
 32131 00:0D3A: 74 20 62 79  	db	$74,$20,$62,$79,$74,$65,$73,$20,$6F,$66,
                    $20,$61,$63,$74,$75
       00:0D3E: 74 65 73 20 
       00:0D42: 6F 66 20 61 
       00:0D46: 63 74 75 
 32132 00:0D49: 61 6C 20 62  	db	$61,$6C,$20,$62,$69,$74,$6D,$61,$70,$20,
                    $64,$61,$74,$61,$3A
       00:0D4D: 69 74 6D 61 
       00:0D51: 70 20 64 61 
       00:0D55: 74 61 3A 
 32133 00:0D58: 20 00        	db	$20,$00
 32134 00:0D5A:              	ends
 32135                        	.line	15
 32136                        	.line	16
 32137                        	GFX
 32138                        	xdef	~~showBmpInfoHead
 32139                        	func
 32140                        	.function	16
 32141                        ~~showBmpInfoHead:
 32142                        	longa	on
 32143                        	longi	on
 32144 06:8639: 3B           	tsc
 32145 06:863A: 38           	sec
 32146 06:863B: E9 04 00     	sbc	#L1418
 32147 06:863E: 1B           	tcs
 32148 06:863F: 0B           	phd
 32149 06:8640: 5B           	tcd
 32150             00000004   pBmpinfoHead_0	set	4
 32151                        	.block	16
 32152                        	.sym	pBmpinfoHead,4,10,6,320,86
 32153                        	.line	17
 32154 06:8641: F4 xx xx     	pea	#^L1417
 32155 06:8644: F4 xx xx     	pea	#<L1417
 32156 06:8647: 22 xx xx xx  	jsl	~~k_debug_string
 32157                        	.line	18
 32158 06:864B: AD xx xx     	lda	|~~infoHeader+2
 32159 06:864E: 48           	pha
 32160 06:864F: AD xx xx     	lda	|~~infoHeader
 32161 06:8652: 48           	pha
 32162 06:8653: F4 xx xx     	pea	#^L1417+29
 32163 06:8656: F4 xx xx     	pea	#<L1417+29
 32164 06:8659: 22 xx xx xx  	jsl	~~k_debug_long
 32165                        	.line	19
 32166 06:865D: AD xx xx     	lda	|~~infoHeader+4+2
 32167 06:8660: 48           	pha
 32168 06:8661: AD xx xx     	lda	|~~infoHeader+4
 32169 06:8664: 48           	pha
  Sat Jul 10 2021  1:15                                                Page 593


 32170 06:8665: F4 xx xx     	pea	#^L1417+62
 32171 06:8668: F4 xx xx     	pea	#<L1417+62
 32172 06:866B: 22 xx xx xx  	jsl	~~k_debug_long
 32173                        	.line	20
 32174 06:866F: AD xx xx     	lda	|~~infoHeader+8+2
 32175 06:8672: 48           	pha
 32176 06:8673: AD xx xx     	lda	|~~infoHeader+8
 32177 06:8676: 48           	pha
 32178 06:8677: F4 xx xx     	pea	#^L1417+77
 32179 06:867A: F4 xx xx     	pea	#<L1417+77
 32180 06:867D: 22 xx xx xx  	jsl	~~k_debug_long
 32181                        	.line	21
 32182 06:8681: AD xx xx     	lda	|~~infoHeader+12
 32183 06:8684: 85 01        	sta	<R0
 32184 06:8686: 64 03        	stz	<R0+2
 32185 06:8688: D4 03        	pei	<R0+2
 32186 06:868A: D4 01        	pei	<R0
 32187 06:868C: F4 xx xx     	pea	#^L1417+93
 32188 06:868F: F4 xx xx     	pea	#<L1417+93
 32189 06:8692: 22 xx xx xx  	jsl	~~k_debug_long
 32190                        	.line	22
 32191 06:8696: AD xx xx     	lda	|~~infoHeader+14
 32192 06:8699: 85 01        	sta	<R0
 32193 06:869B: 64 03        	stz	<R0+2
 32194 06:869D: D4 03        	pei	<R0+2
 32195 06:869F: D4 01        	pei	<R0
 32196 06:86A1: F4 xx xx     	pea	#^L1417+204
 32197 06:86A4: F4 xx xx     	pea	#<L1417+204
 32198 06:86A7: 22 xx xx xx  	jsl	~~k_debug_long
 32199                        	.line	23
 32200 06:86AB: AD xx xx     	lda	|~~infoHeader+16+2
 32201 06:86AE: 48           	pha
 32202 06:86AF: AD xx xx     	lda	|~~infoHeader+16
 32203 06:86B2: 48           	pha
 32204 06:86B3: F4 xx xx     	pea	#^L1417+231
 32205 06:86B6: F4 xx xx     	pea	#<L1417+231
 32206 06:86B9: 22 xx xx xx  	jsl	~~k_debug_long
 32207                        	.line	24
 32208 06:86BD: AD xx xx     	lda	|~~infoHeader+20+2
 32209 06:86C0: 48           	pha
 32210 06:86C1: AD xx xx     	lda	|~~infoHeader+20
 32211 06:86C4: 48           	pha
 32212 06:86C5: F4 xx xx     	pea	#^L1417+251
 32213 06:86C8: F4 xx xx     	pea	#<L1417+251
 32214 06:86CB: 22 xx xx xx  	jsl	~~k_debug_long
 32215                        	.line	25
 32216 06:86CF: AD xx xx     	lda	|~~infoHeader+24+2
 32217 06:86D2: 48           	pha
 32218 06:86D3: AD xx xx     	lda	|~~infoHeader+24
 32219 06:86D6: 48           	pha
 32220 06:86D7: F4 xx xx     	pea	#^L1417+264
 32221 06:86DA: F4 xx xx     	pea	#<L1417+264
 32222 06:86DD: 22 xx xx xx  	jsl	~~k_debug_long
 32223                        	.line	26
 32224 06:86E1: AD xx xx     	lda	|~~infoHeader+28+2
 32225 06:86E4: 48           	pha
 32226 06:86E5: AD xx xx     	lda	|~~infoHeader+28
 32227 06:86E8: 48           	pha
  Sat Jul 10 2021  1:15                                                Page 594


 32228 06:86E9: F4 xx xx     	pea	#^L1417+288
 32229 06:86EC: F4 xx xx     	pea	#<L1417+288
 32230 06:86EF: 22 xx xx xx  	jsl	~~k_debug_long
 32231                        	.line	27
 32232 06:86F3: AD xx xx     	lda	|~~infoHeader+32+2
 32233 06:86F6: 48           	pha
 32234 06:86F7: AD xx xx     	lda	|~~infoHeader+32
 32235 06:86FA: 48           	pha
 32236 06:86FB: F4 xx xx     	pea	#^L1417+310
 32237 06:86FE: F4 xx xx     	pea	#<L1417+310
 32238 06:8701: 22 xx xx xx  	jsl	~~k_debug_long
 32239                        	.line	28
 32240 06:8705: AD xx xx     	lda	|~~infoHeader+36+2
 32241 06:8708: 48           	pha
 32242 06:8709: AD xx xx     	lda	|~~infoHeader+36
 32243 06:870C: 48           	pha
 32244 06:870D: F4 xx xx     	pea	#^L1417+334
 32245 06:8710: F4 xx xx     	pea	#<L1417+334
 32246 06:8713: 22 xx xx xx  	jsl	~~k_debug_long
 32247                        	.line	29
 32248                        L1421:
 32249 06:8717: A5 06        	lda	<L1418+2
 32250 06:8719: 85 2E        	sta	<L1418+2+40
 32251 06:871B: A5 05        	lda	<L1418+1
 32252 06:871D: 85 2D        	sta	<L1418+1+40
 32253 06:871F: 2B           	pld
 32254 06:8720: 3B           	tsc
 32255 06:8721: 18           	clc
 32256 06:8722: 69 2C 00     	adc	#L1418+40
 32257 06:8725: 1B           	tcs
 32258 06:8726: 6B           	rtl
 32259                        	.endblock	29
 32260             00000004   L1418	equ	4
 32261             00000005   L1419	equ	5
 32262 06:8727:              	ends
 32263                        	efunc
 32264                        	.endfunc	29,5,4
 32265                        	.line	29
 32266                        	data
 32267                        L1417:
 32268 00:0D5A: 42 69 74 6D  	db	$42,$69,$74,$6D,$61,$70,$20,$49,$6E,$66,
                    $6F,$72,$6D,$61,$74
       00:0D5E: 61 70 20 49 
       00:0D62: 6E 66 6F 72 
       00:0D66: 6D 61 74 
 32269 00:0D69: 69 6F 6E 20  	db	$69,$6F,$6E,$20,$48,$65,$61,$64,$65,$72,
                    $3A,$0D,$0A,$00,$54
       00:0D6D: 48 65 61 64 
       00:0D71: 65 72 3A 0D 
       00:0D75: 0A 00 54 
 32270 00:0D78: 68 65 20 73  	db	$68,$65,$20,$73,$69,$7A,$65,$20,$6F,$66,
                    $20,$74,$68,$65,$20
       00:0D7C: 69 7A 65 20 
       00:0D80: 6F 66 20 74 
       00:0D84: 68 65 20 
 32271 00:0D87: 6D 65 73 73  	db	$6D,$65,$73,$73,$61,$67,$65,$20,$68,$65,
                    $61,$64,$65,$72,$3A
       00:0D8B: 61 67 65 20 
  Sat Jul 10 2021  1:15                                                Page 595


       00:0D8F: 68 65 61 64 
       00:0D93: 65 72 3A 
 32272 00:0D96: 20 00 42 69  	db	$20,$00,$42,$69,$74,$6D,$61,$70,$20,$77,
                    $69,$64,$74,$68,$3A
       00:0D9A: 74 6D 61 70 
       00:0D9E: 20 77 69 64 
       00:0DA2: 74 68 3A 
 32273 00:0DA5: 20 00 42 69  	db	$20,$00,$42,$69,$74,$6D,$61,$70,$20,$68,
                    $65,$69,$67,$68,$74
       00:0DA9: 74 6D 61 70 
       00:0DAD: 20 68 65 69 
       00:0DB1: 67 68 74 
 32274 00:0DB4: 3A 20 00 54  	db	$3A,$20,$00,$54,$68,$65,$20,$6E,$75,$6D,
                    $62,$65,$72,$20,$6F
       00:0DB8: 68 65 20 6E 
       00:0DBC: 75 6D 62 65 
       00:0DC0: 72 20 6F 
 32275 00:0DC3: 66 20 70 6C  	db	$66,$20,$70,$6C,$61,$6E,$65,$73,$20,$6F,
                    $66,$20,$74,$68,$65
       00:0DC7: 61 6E 65 73 
       00:0DCB: 20 6F 66 20 
       00:0DCF: 74 68 65 
 32276 00:0DD2: 20 69 6D 61  	db	$20,$69,$6D,$61,$67,$65,$20,$28,$74,$68,
                    $65,$20,$6E,$75,$6D
       00:0DD6: 67 65 20 28 
       00:0DDA: 74 68 65 20 
       00:0DDE: 6E 75 6D 
 32277 00:0DE1: 62 65 72 20  	db	$62,$65,$72,$20,$6F,$66,$20,$70,$6C,$61,
                    $6E,$65,$73,$20,$69
       00:0DE5: 6F 66 20 70 
       00:0DE9: 6C 61 6E 65 
       00:0DED: 73 20 69 
 32278 00:0DF0: 73 20 74 68  	db	$73,$20,$74,$68,$65,$20,$6E,$75,$6D,$62,
                    $65,$72,$20,$6F,$66
       00:0DF4: 65 20 6E 75 
       00:0DF8: 6D 62 65 72 
       00:0DFC: 20 6F 66 
 32279 00:0DFF: 20 70 61 6C  	db	$20,$70,$61,$6C,$65,$74,$74,$65,$73,$2C,
                    $20,$74,$68,$65,$20
       00:0E03: 65 74 74 65 
       00:0E07: 73 2C 20 74 
       00:0E0B: 68 65 20 
 32280 00:0E0E: 64 65 66 61  	db	$64,$65,$66,$61,$75,$6C,$74,$20,$69,$73,
                    $20,$31,$20,$70,$61
       00:0E12: 75 6C 74 20 
       00:0E16: 69 73 20 31 
       00:0E1A: 20 70 61 
 32281 00:0E1D: 6C 65 74 74  	db	$6C,$65,$74,$74,$65,$29,$3A,$20,$00,$4E,
                    $75,$6D,$62,$65,$72
       00:0E21: 65 29 3A 20 
       00:0E25: 00 4E 75 6D 
       00:0E29: 62 65 72 
 32282 00:0E2C: 20 6F 66 20  	db	$20,$6F,$66,$20,$62,$69,$74,$73,$20,$70,
                    $65,$72,$20,$70,$69
       00:0E30: 62 69 74 73 
       00:0E34: 20 70 65 72 
       00:0E38: 20 70 69 
 32283 00:0E3B: 78 65 6C 3A  	db	$78,$65,$6C,$3A,$20,$00,$43,$6F,$6D,$70,
  Sat Jul 10 2021  1:15                                                Page 596


                    $72,$65,$73,$73,$69
       00:0E3F: 20 00 43 6F 
       00:0E43: 6D 70 72 65 
       00:0E47: 73 73 69 
 32284 00:0E4A: 6F 6E 20 6D  	db	$6F,$6E,$20,$6D,$65,$74,$68,$6F,$64,$3A,
                    $00,$49,$6D,$61,$67
       00:0E4E: 65 74 68 6F 
       00:0E52: 64 3A 00 49 
       00:0E56: 6D 61 67 
 32285 00:0E59: 65 20 73 69  	db	$65,$20,$73,$69,$7A,$65,$3A,$20,$00,$48,
                    $6F,$72,$69,$7A,$6F
       00:0E5D: 7A 65 3A 20 
       00:0E61: 00 48 6F 72 
       00:0E65: 69 7A 6F 
 32286 00:0E68: 6E 74 61 6C  	db	$6E,$74,$61,$6C,$20,$72,$65,$73,$6F,$6C,
                    $75,$74,$69,$6F,$6E
       00:0E6C: 20 72 65 73 
       00:0E70: 6F 6C 75 74 
       00:0E74: 69 6F 6E 
 32287 00:0E77: 3A 20 00 56  	db	$3A,$20,$00,$56,$65,$72,$74,$69,$63,$61,
                    $6C,$20,$72,$65,$73
       00:0E7B: 65 72 74 69 
       00:0E7F: 63 61 6C 20 
       00:0E83: 72 65 73 
 32288 00:0E86: 6F 6C 75 74  	db	$6F,$6C,$75,$74,$69,$6F,$6E,$3A,$20,$00,
                    $4E,$75,$6D,$62,$65
       00:0E8A: 69 6F 6E 3A 
       00:0E8E: 20 00 4E 75 
       00:0E92: 6D 62 65 
 32289 00:0E95: 72 20 6F 66  	db	$72,$20,$6F,$66,$20,$63,$6F,$6C,$6F,$72,
                    $73,$20,$75,$73,$65
       00:0E99: 20 63 6F 6C 
       00:0E9D: 6F 72 73 20 
       00:0EA1: 75 73 65 
 32290 00:0EA4: 64 3A 20 00  	db	$64,$3A,$20,$00,$4E,$75,$6D,$62,$65,$72,
                    $20,$6F,$66,$20,$69
       00:0EA8: 4E 75 6D 62 
       00:0EAC: 65 72 20 6F 
       00:0EB0: 66 20 69 
 32291 00:0EB3: 6D 70 6F 72  	db	$6D,$70,$6F,$72,$74,$61,$6E,$74,$20,$63,
                    $6F,$6C,$6F,$72,$73
       00:0EB7: 74 61 6E 74 
       00:0EBB: 20 63 6F 6C 
       00:0EBF: 6F 72 73 
 32292 00:0EC2: 3A 20 00     	db	$3A,$20,$00
 32293 00:0EC5:              	ends
 32294                        	.line	31
 32295                        	.line	32
 32296                        	GFX
 32297                        	xdef	~~readBMP
 32298                        	func
 32299                        	.function	32
 32300                        ~~readBMP:
 32301                        	longa	on
 32302                        	longi	on
 32303 06:8727: 3B           	tsc
 32304 06:8728: 38           	sec
 32305 06:8729: E9 45 00     	sbc	#L1423
  Sat Jul 10 2021  1:15                                                Page 597


 32306 06:872C: 1B           	tcs
 32307 06:872D: 0B           	phd
 32308 06:872E: 5B           	tcd
 32309             00000004   path_0	set	4
 32310                        	.block	32
 32311             00000000   dir_1	set	0
 32312             00000004   fs_1	set	4
 32313             00000008   f_1	set	8
 32314             0000000C   fileInfo_1	set	12
 32315             00000010   fr_1	set	16
 32316             00000012   drive_1	set	18
 32317             00000016   read_1	set	22
 32318             00000018   data_1	set	24
 32319             0000001C   num_colors_1	set	28
 32320             0000001E   x_1	set	30
 32321             00000022   y_1	set	34
 32322             00000026   i_1	set	38
 32323             0000002A   c_1	set	42
 32324             0000002B   dx_1	set	43
 32325             0000002F   dy_1	set	47
 32326             00000033   bitmap_offset_1	set	51
 32327             00000037   fileType_1	set	55
 32328             00000039   pPalette_1	set	57
 32329                        	.sym	dir,0,138,1,32,82
 32330                        	.sym	fs,4,138,1,32,79
 32331                        	.sym	f,8,138,1,32,81
 32332                        	.sym	fileInfo,12,138,1,32,83
 32333                        	.sym	fr,16,5,1,16
 32334                        	.sym	drive,18,142,1,32
 32335                        	.sym	read,22,16,1,16
 32336                        	.sym	data,24,142,1,32
 32337                        	.sym	num_colors,28,16,1,16
 32338                        	.sym	x,30,18,1,32
 32339                        	.sym	y,34,18,1,32
 32340                        	.sym	i,38,18,1,32
 32341                        	.sym	c,42,14,1,8
 32342                        	.sym	dx,43,18,1,32
 32343                        	.sym	dy,47,18,1,32
 32344                        	.sym	bitmap_offset,51,18,1,32
 32345                        	.sym	fileType,55,15,1,16
 32346                        	.sym	pPalette,57,142,1,32
 32347                        	.sym	path,4,142,6,32
 32348 06:872F: 64 0D        	stz	<L1424+fs_1
 32349 06:8731: 64 0F        	stz	<L1424+fs_1+2
 32350 06:8733: 64 11        	stz	<L1424+f_1
 32351 06:8735: 64 13        	stz	<L1424+f_1+2
 32352 06:8737: 64 19        	stz	<L1424+fr_1
 32353 06:8739: 64 1B        	stz	<L1424+drive_1
 32354 06:873B: 64 1D        	stz	<L1424+drive_1+2
 32355 06:873D: 64 21        	stz	<L1424+data_1
 32356 06:873F: 64 23        	stz	<L1424+data_1+2
 32357 06:8741: 64 25        	stz	<L1424+num_colors_1
 32358 06:8743: 64 42        	stz	<L1424+pPalette_1
 32359 06:8745: 64 44        	stz	<L1424+pPalette_1+2
 32360                        	.line	55
 32361 06:8747: F4 xx xx     	pea	#^L1422
 32362 06:874A: F4 xx xx     	pea	#<L1422
 32363 06:874D: 22 xx xx xx  	jsl	~~k_debug_string
  Sat Jul 10 2021  1:15                                                Page 598


 32364                        	.line	57
 32365 06:8751: F4 3A 00     	pea	#<$3a
 32366 06:8754: D4 4B        	pei	<L1423+path_0+2
 32367 06:8756: D4 49        	pei	<L1423+path_0
 32368 06:8758: 22 xx xx xx  	jsl	~~k_string_copy_to_delimiter
 32369 06:875C: 85 1B        	sta	<L1424+drive_1
 32370 06:875E: 86 1D        	stx	<L1424+drive_1+2
 32371                        	.line	59
 32372 06:8760: F4 34 00     	pea	#<$34
 32373 06:8763: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 32374 06:8767: 85 09        	sta	<L1424+dir_1
 32375 06:8769: 86 0B        	stx	<L1424+dir_1+2
 32376                        	.line	60
 32377 06:876B: F4 33 02     	pea	#<$233
 32378 06:876E: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 32379 06:8772: 85 0D        	sta	<L1424+fs_1
 32380 06:8774: 86 0F        	stx	<L1424+fs_1+2
 32381                        	.line	61
 32382 06:8776: F4 26 02     	pea	#<$226
 32383 06:8779: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 32384 06:877D: 85 11        	sta	<L1424+f_1
 32385 06:877F: 86 13        	stx	<L1424+f_1+2
 32386                        	.line	64
 32387 06:8781: A9 00 20     	lda	#$2000
 32388 06:8784: 85 42        	sta	<L1424+pPalette_1
 32389 06:8786: A9 AF 00     	lda	#$af
 32390 06:8789: 85 44        	sta	<L1424+pPalette_1+2
 32391                        	.line	66
 32392 06:878B: F4 01 00     	pea	#<$1
 32393 06:878E: D4 1D        	pei	<L1424+drive_1+2
 32394 06:8790: D4 1B        	pei	<L1424+drive_1
 32395 06:8792: D4 0F        	pei	<L1424+fs_1+2
 32396 06:8794: D4 0D        	pei	<L1424+fs_1
 32397 06:8796: 22 xx xx xx  	jsl	~~f_mount
 32398 06:879A: 85 19        	sta	<L1424+fr_1
 32399                        	.line	67
 32400 06:879C: A5 19        	lda	<L1424+fr_1
 32401 06:879E: D0 03        	bne	L1426
 32402 06:87A0: 82 1A 00     	brl	L10545
 32403                        L1426:
 32404                        	.line	68
 32405                        	.line	69
 32406 06:87A3: F4 xx xx     	pea	#^L1422+13
 32407 06:87A6: F4 xx xx     	pea	#<L1422+13
 32408 06:87A9: 22 xx xx xx  	jsl	~~k_debug_string
 32409                        	.line	70
 32410                        L1427:
 32411 06:87AD: A5 47        	lda	<L1423+2
 32412 06:87AF: 85 4B        	sta	<L1423+2+4
 32413 06:87B1: A5 46        	lda	<L1423+1
 32414 06:87B3: 85 4A        	sta	<L1423+1+4
 32415 06:87B5: 2B           	pld
 32416 06:87B6: 3B           	tsc
 32417 06:87B7: 18           	clc
 32418 06:87B8: 69 49 00     	adc	#L1423+4
 32419 06:87BB: 1B           	tcs
 32420 06:87BC: 6B           	rtl
 32421                        	.line	71
  Sat Jul 10 2021  1:15                                                Page 599


 32422                        L10545:
 32423                        	.line	73
 32424 06:87BD: F4 01 00     	pea	#<$1
 32425 06:87C0: D4 4B        	pei	<L1423+path_0+2
 32426 06:87C2: D4 49        	pei	<L1423+path_0
 32427 06:87C4: D4 13        	pei	<L1424+f_1+2
 32428 06:87C6: D4 11        	pei	<L1424+f_1
 32429 06:87C8: 22 xx xx xx  	jsl	~~f_open
 32430 06:87CC: 85 19        	sta	<L1424+fr_1
 32431                        	.line	74
 32432 06:87CE: A5 19        	lda	<L1424+fr_1
 32433 06:87D0: D0 03        	bne	L1428
 32434 06:87D2: 82 0D 00     	brl	L10546
 32435                        L1428:
 32436                        	.line	75
 32437                        	.line	76
 32438 06:87D5: F4 xx xx     	pea	#^L1422+35
 32439 06:87D8: F4 xx xx     	pea	#<L1422+35
 32440 06:87DB: 22 xx xx xx  	jsl	~~k_debug_string
 32441                        	.line	77
 32442 06:87DF: 82 CB FF     	brl	L1427
 32443                        	.line	78
 32444                        L10546:
 32445                        	.line	81
 32446 06:87E2: F4 00 00     	pea	#0
 32447 06:87E5: 18           	clc
 32448 06:87E6: 7B           	tdc
 32449 06:87E7: 69 1F 00     	adc	#<L1424+read_1
 32450 06:87EA: 48           	pha
 32451 06:87EB: F4 02 00     	pea	#<$2
 32452 06:87EE: F4 00 00     	pea	#0
 32453 06:87F1: 18           	clc
 32454 06:87F2: 7B           	tdc
 32455 06:87F3: 69 40 00     	adc	#<L1424+fileType_1
 32456 06:87F6: 48           	pha
 32457 06:87F7: D4 13        	pei	<L1424+f_1+2
 32458 06:87F9: D4 11        	pei	<L1424+f_1
 32459 06:87FB: 22 xx xx xx  	jsl	~~f_read
 32460 06:87FF: 85 19        	sta	<L1424+fr_1
 32461                        	.line	82
 32462 06:8801: A5 19        	lda	<L1424+fr_1
 32463 06:8803: F0 03        	beq	L1429
 32464 06:8805: 82 A3 02     	brl	L10547
 32465                        L1429:
 32466 06:8808: A5 40        	lda	<L1424+fileType_1
 32467 06:880A: C9 42 4D     	cmp	#<$4d42
 32468 06:880D: F0 03        	beq	L1430
 32469 06:880F: 82 99 02     	brl	L10547
 32470                        L1430:
 32471                        	.line	83
 32472                        	.line	87
 32473 06:8812: F4 00 00     	pea	#0
 32474 06:8815: 18           	clc
 32475 06:8816: 7B           	tdc
 32476 06:8817: 69 1F 00     	adc	#<L1424+read_1
 32477 06:881A: 48           	pha
 32478 06:881B: F4 0C 00     	pea	#<$c
 32479 06:881E: A9 xx xx     	lda	#<~~fileHeader
  Sat Jul 10 2021  1:15                                                Page 600


 32480 06:8821: 85 01        	sta	<R0
 32481                        	xref	_BEG_DATA
 32482 06:8823: A9 xx xx     	lda	#_BEG_DATA>>16
 32483 06:8826: 85 03        	sta	<R0+2
 32484 06:8828: D4 03        	pei	<R0+2
 32485 06:882A: D4 01        	pei	<R0
 32486 06:882C: D4 13        	pei	<L1424+f_1+2
 32487 06:882E: D4 11        	pei	<L1424+f_1
 32488 06:8830: 22 xx xx xx  	jsl	~~f_read
 32489 06:8834: 85 19        	sta	<L1424+fr_1
 32490                        	.line	91
 32491 06:8836: F4 00 00     	pea	#0
 32492 06:8839: 18           	clc
 32493 06:883A: 7B           	tdc
 32494 06:883B: 69 1F 00     	adc	#<L1424+read_1
 32495 06:883E: 48           	pha
 32496 06:883F: F4 28 00     	pea	#<$28
 32497 06:8842: A9 xx xx     	lda	#<~~infoHeader
 32498 06:8845: 85 01        	sta	<R0
 32499                        	xref	_BEG_DATA
 32500 06:8847: A9 xx xx     	lda	#_BEG_DATA>>16
 32501 06:884A: 85 03        	sta	<R0+2
 32502 06:884C: D4 03        	pei	<R0+2
 32503 06:884E: D4 01        	pei	<R0
 32504 06:8850: D4 13        	pei	<L1424+f_1+2
 32505 06:8852: D4 11        	pei	<L1424+f_1
 32506 06:8854: 22 xx xx xx  	jsl	~~f_read
 32507 06:8858: 85 19        	sta	<L1424+fr_1
 32508                        	.line	95
 32509 06:885A: F4 00 00     	pea	#^$2
 32510 06:885D: F4 02 00     	pea	#<$2
 32511 06:8860: AD xx xx     	lda	|~~infoHeader+4+2
 32512 06:8863: 48           	pha
 32513 06:8864: AD xx xx     	lda	|~~infoHeader+4
 32514 06:8867: 48           	pha
 32515                        	xref	~~~ldiv
 32516 06:8868: 22 xx xx xx  	jsl	~~~ldiv
 32517 06:886C: 85 01        	sta	<R0
 32518 06:886E: 86 03        	stx	<R0+2
 32519 06:8870: 38           	sec
 32520 06:8871: A9 40 01     	lda	#$140
 32521 06:8874: E5 01        	sbc	<R0
 32522 06:8876: 85 05        	sta	<R1
 32523 06:8878: A9 00 00     	lda	#$0
 32524 06:887B: E5 03        	sbc	<R0+2
 32525 06:887D: 85 07        	sta	<R1+2
 32526 06:887F: 18           	clc
 32527 06:8880: A9 E7 FF     	lda	#$ffe7
 32528 06:8883: 65 05        	adc	<R1
 32529 06:8885: 85 34        	sta	<L1424+dx_1
 32530 06:8887: A9 FF FF     	lda	#$ffff
 32531 06:888A: 65 07        	adc	<R1+2
 32532 06:888C: 85 36        	sta	<L1424+dx_1+2
 32533                        	.line	96
 32534 06:888E: F4 00 00     	pea	#^$2
 32535 06:8891: F4 02 00     	pea	#<$2
 32536 06:8894: AD xx xx     	lda	|~~infoHeader+8+2
 32537 06:8897: 48           	pha
  Sat Jul 10 2021  1:15                                                Page 601


 32538 06:8898: AD xx xx     	lda	|~~infoHeader+8
 32539 06:889B: 48           	pha
 32540                        	xref	~~~ldiv
 32541 06:889C: 22 xx xx xx  	jsl	~~~ldiv
 32542 06:88A0: 85 01        	sta	<R0
 32543 06:88A2: 86 03        	stx	<R0+2
 32544 06:88A4: 38           	sec
 32545 06:88A5: A9 F0 00     	lda	#$f0
 32546 06:88A8: E5 01        	sbc	<R0
 32547 06:88AA: 85 38        	sta	<L1424+dy_1
 32548 06:88AC: A9 00 00     	lda	#$0
 32549 06:88AF: E5 03        	sbc	<R0+2
 32550 06:88B1: 85 3A        	sta	<L1424+dy_1+2
 32551                        	.line	99
 32552 06:88B3: AD xx xx     	lda	|~~infoHeader+32
 32553 06:88B6: 0D xx xx     	ora	|~~infoHeader+32+2
 32554 06:88B9: F0 03        	beq	L1431
 32555 06:88BB: 82 05 00     	brl	L10548
 32556                        L1431:
 32557                        	.line	100
 32558 06:88BE: A9 00 01     	lda	#$100
 32559 06:88C1: 85 25        	sta	<L1424+num_colors_1
 32560                        L10548:
 32561                        	.line	103
 32562 06:88C3: 64 2F        	stz	<L1424+i_1
 32563 06:88C5: 64 31        	stz	<L1424+i_1+2
 32564 06:88C7: 82 0F 01     	brl	L10552
 32565                        L10551:
 32566                        	.line	104
 32567                        	.line	106
 32568 06:88CA: F4 00 00     	pea	#0
 32569 06:88CD: 18           	clc
 32570 06:88CE: 7B           	tdc
 32571 06:88CF: 69 1F 00     	adc	#<L1424+read_1
 32572 06:88D2: 48           	pha
 32573 06:88D3: F4 01 00     	pea	#<$1
 32574 06:88D6: F4 00 00     	pea	#0
 32575 06:88D9: 18           	clc
 32576 06:88DA: 7B           	tdc
 32577 06:88DB: 69 33 00     	adc	#<L1424+c_1
 32578 06:88DE: 48           	pha
 32579 06:88DF: D4 13        	pei	<L1424+f_1+2
 32580 06:88E1: D4 11        	pei	<L1424+f_1
 32581 06:88E3: 22 xx xx xx  	jsl	~~f_read
 32582                        	.line	108
 32583 06:88E7: A5 2F        	lda	<L1424+i_1
 32584 06:88E9: 85 01        	sta	<R0
 32585 06:88EB: A5 31        	lda	<L1424+i_1+2
 32586 06:88ED: 85 03        	sta	<R0+2
 32587 06:88EF: 06 01        	asl	<R0
 32588 06:88F1: 26 03        	rol	<R0+2
 32589 06:88F3: 06 01        	asl	<R0
 32590 06:88F5: 26 03        	rol	<R0+2
 32591 06:88F7: E2 20        	sep	#$20
 32592                        	longa	off
 32593 06:88F9: A5 33        	lda	<L1424+c_1
 32594 06:88FB: A4 01        	ldy	<R0
 32595 06:88FD: 97 42        	sta	[<L1424+pPalette_1],Y
  Sat Jul 10 2021  1:15                                                Page 602


 32596 06:88FF: C2 20        	rep	#$20
 32597                        	longa	on
 32598                        	.line	109
 32599 06:8901: F4 00 00     	pea	#0
 32600 06:8904: 18           	clc
 32601 06:8905: 7B           	tdc
 32602 06:8906: 69 1F 00     	adc	#<L1424+read_1
 32603 06:8909: 48           	pha
 32604 06:890A: F4 01 00     	pea	#<$1
 32605 06:890D: F4 00 00     	pea	#0
 32606 06:8910: 18           	clc
 32607 06:8911: 7B           	tdc
 32608 06:8912: 69 33 00     	adc	#<L1424+c_1
 32609 06:8915: 48           	pha
 32610 06:8916: D4 13        	pei	<L1424+f_1+2
 32611 06:8918: D4 11        	pei	<L1424+f_1
 32612 06:891A: 22 xx xx xx  	jsl	~~f_read
 32613                        	.line	111
 32614 06:891E: A5 2F        	lda	<L1424+i_1
 32615 06:8920: 85 01        	sta	<R0
 32616 06:8922: A5 31        	lda	<L1424+i_1+2
 32617 06:8924: 85 03        	sta	<R0+2
 32618 06:8926: 06 01        	asl	<R0
 32619 06:8928: 26 03        	rol	<R0+2
 32620 06:892A: 06 01        	asl	<R0
 32621 06:892C: 26 03        	rol	<R0+2
 32622 06:892E: 18           	clc
 32623 06:892F: A9 01 00     	lda	#$1
 32624 06:8932: 65 01        	adc	<R0
 32625 06:8934: 85 05        	sta	<R1
 32626 06:8936: A9 00 00     	lda	#$0
 32627 06:8939: 65 03        	adc	<R0+2
 32628 06:893B: 85 07        	sta	<R1+2
 32629 06:893D: E2 20        	sep	#$20
 32630                        	longa	off
 32631 06:893F: A5 33        	lda	<L1424+c_1
 32632 06:8941: A4 05        	ldy	<R1
 32633 06:8943: 97 42        	sta	[<L1424+pPalette_1],Y
 32634 06:8945: C2 20        	rep	#$20
 32635                        	longa	on
 32636                        	.line	112
 32637 06:8947: F4 00 00     	pea	#0
 32638 06:894A: 18           	clc
 32639 06:894B: 7B           	tdc
 32640 06:894C: 69 1F 00     	adc	#<L1424+read_1
 32641 06:894F: 48           	pha
 32642 06:8950: F4 01 00     	pea	#<$1
 32643 06:8953: F4 00 00     	pea	#0
 32644 06:8956: 18           	clc
 32645 06:8957: 7B           	tdc
 32646 06:8958: 69 33 00     	adc	#<L1424+c_1
 32647 06:895B: 48           	pha
 32648 06:895C: D4 13        	pei	<L1424+f_1+2
 32649 06:895E: D4 11        	pei	<L1424+f_1
 32650 06:8960: 22 xx xx xx  	jsl	~~f_read
 32651                        	.line	114
 32652 06:8964: A5 2F        	lda	<L1424+i_1
 32653 06:8966: 85 01        	sta	<R0
  Sat Jul 10 2021  1:15                                                Page 603


 32654 06:8968: A5 31        	lda	<L1424+i_1+2
 32655 06:896A: 85 03        	sta	<R0+2
 32656 06:896C: 06 01        	asl	<R0
 32657 06:896E: 26 03        	rol	<R0+2
 32658 06:8970: 06 01        	asl	<R0
 32659 06:8972: 26 03        	rol	<R0+2
 32660 06:8974: 18           	clc
 32661 06:8975: A9 02 00     	lda	#$2
 32662 06:8978: 65 01        	adc	<R0
 32663 06:897A: 85 05        	sta	<R1
 32664 06:897C: A9 00 00     	lda	#$0
 32665 06:897F: 65 03        	adc	<R0+2
 32666 06:8981: 85 07        	sta	<R1+2
 32667 06:8983: E2 20        	sep	#$20
 32668                        	longa	off
 32669 06:8985: A5 33        	lda	<L1424+c_1
 32670 06:8987: A4 05        	ldy	<R1
 32671 06:8989: 97 42        	sta	[<L1424+pPalette_1],Y
 32672 06:898B: C2 20        	rep	#$20
 32673                        	longa	on
 32674                        	.line	115
 32675 06:898D: F4 00 00     	pea	#0
 32676 06:8990: 18           	clc
 32677 06:8991: 7B           	tdc
 32678 06:8992: 69 1F 00     	adc	#<L1424+read_1
 32679 06:8995: 48           	pha
 32680 06:8996: F4 01 00     	pea	#<$1
 32681 06:8999: F4 00 00     	pea	#0
 32682 06:899C: 18           	clc
 32683 06:899D: 7B           	tdc
 32684 06:899E: 69 33 00     	adc	#<L1424+c_1
 32685 06:89A1: 48           	pha
 32686 06:89A2: D4 13        	pei	<L1424+f_1+2
 32687 06:89A4: D4 11        	pei	<L1424+f_1
 32688 06:89A6: 22 xx xx xx  	jsl	~~f_read
 32689                        	.line	116
 32690 06:89AA: A5 2F        	lda	<L1424+i_1
 32691 06:89AC: 85 01        	sta	<R0
 32692 06:89AE: A5 31        	lda	<L1424+i_1+2
 32693 06:89B0: 85 03        	sta	<R0+2
 32694 06:89B2: 06 01        	asl	<R0
 32695 06:89B4: 26 03        	rol	<R0+2
 32696 06:89B6: 06 01        	asl	<R0
 32697 06:89B8: 26 03        	rol	<R0+2
 32698 06:89BA: 18           	clc
 32699 06:89BB: A9 03 00     	lda	#$3
 32700 06:89BE: 65 01        	adc	<R0
 32701 06:89C0: 85 05        	sta	<R1
 32702 06:89C2: A9 00 00     	lda	#$0
 32703 06:89C5: 65 03        	adc	<R0+2
 32704 06:89C7: 85 07        	sta	<R1+2
 32705 06:89C9: E2 20        	sep	#$20
 32706                        	longa	off
 32707 06:89CB: A9 80        	lda	#$80
 32708 06:89CD: A4 05        	ldy	<R1
 32709 06:89CF: 97 42        	sta	[<L1424+pPalette_1],Y
 32710 06:89D1: C2 20        	rep	#$20
 32711                        	longa	on
  Sat Jul 10 2021  1:15                                                Page 604


 32712                        	.line	119
 32713                        L10549:
 32714 06:89D3: E6 2F        	inc	<L1424+i_1
 32715 06:89D5: D0 02        	bne	L1432
 32716 06:89D7: E6 31        	inc	<L1424+i_1+2
 32717                        L1432:
 32718                        L10552:
 32719 06:89D9: A5 25        	lda	<L1424+num_colors_1
 32720 06:89DB: 85 01        	sta	<R0
 32721 06:89DD: 64 03        	stz	<R0+2
 32722 06:89DF: A5 2F        	lda	<L1424+i_1
 32723 06:89E1: C5 01        	cmp	<R0
 32724 06:89E3: A5 31        	lda	<L1424+i_1+2
 32725 06:89E5: E5 03        	sbc	<R0+2
 32726 06:89E7: B0 03        	bcs	L1433
 32727 06:89E9: 82 DE FE     	brl	L10551
 32728                        L1433:
 32729                        L10550:
 32730                        	.line	123
 32731                        	.line	125
 32732 06:89EC: AD xx xx     	lda	|~~fileHeader+8+2
 32733 06:89EF: 48           	pha
 32734 06:89F0: AD xx xx     	lda	|~~fileHeader+8
 32735 06:89F3: 48           	pha
 32736 06:89F4: D4 13        	pei	<L1424+f_1+2
 32737 06:89F6: D4 11        	pei	<L1424+f_1
 32738 06:89F8: 22 xx xx xx  	jsl	~~f_lseek
 32739                        	.line	129
 32740 06:89FC: F4 00 00     	pea	#^$4
 32741 06:89FF: F4 04 00     	pea	#<$4
 32742 06:8A02: AD xx xx     	lda	|~~infoHeader+4+2
 32743 06:8A05: 48           	pha
 32744 06:8A06: AD xx xx     	lda	|~~infoHeader+4
 32745 06:8A09: 48           	pha
 32746                        	xref	~~~ldiv
 32747 06:8A0A: 22 xx xx xx  	jsl	~~~ldiv
 32748 06:8A0E: 85 05        	sta	<R1
 32749 06:8A10: 86 07        	stx	<R1+2
 32750 06:8A12: A5 05        	lda	<R1
 32751 06:8A14: 0A           	asl	A
 32752 06:8A15: 0A           	asl	A
 32753 06:8A16: 85 01        	sta	<R0
 32754 06:8A18: 18           	clc
 32755 06:8A19: A9 04 00     	lda	#$4
 32756 06:8A1C: 65 01        	adc	<R0
 32757 06:8A1E: 85 05        	sta	<R1
 32758 06:8A20: A5 05        	lda	<R1
 32759 06:8A22: 85 3C        	sta	<L1424+bitmap_offset_1
 32760 06:8A24: 64 3E        	stz	<L1424+bitmap_offset_1+2
 32761                        	.line	131
 32762 06:8A26: AD xx xx     	lda	|~~infoHeader+8
 32763 06:8A29: 85 2B        	sta	<L1424+y_1
 32764 06:8A2B: AD xx xx     	lda	|~~infoHeader+8+2
 32765 06:8A2E: 85 2D        	sta	<L1424+y_1+2
 32766 06:8A30: 82 61 00     	brl	L10556
 32767                        L10555:
 32768                        	.line	132
 32769                        	.line	133
  Sat Jul 10 2021  1:15                                                Page 605


 32770 06:8A33: F4 00 00     	pea	#0
 32771 06:8A36: 18           	clc
 32772 06:8A37: 7B           	tdc
 32773 06:8A38: 69 1F 00     	adc	#<L1424+read_1
 32774 06:8A3B: 48           	pha
 32775 06:8A3C: D4 3C        	pei	<L1424+bitmap_offset_1
 32776 06:8A3E: 18           	clc
 32777 06:8A3F: A5 2B        	lda	<L1424+y_1
 32778 06:8A41: 65 38        	adc	<L1424+dy_1
 32779 06:8A43: 85 01        	sta	<R0
 32780 06:8A45: A5 2D        	lda	<L1424+y_1+2
 32781 06:8A47: 65 3A        	adc	<L1424+dy_1+2
 32782 06:8A49: 85 03        	sta	<R0+2
 32783 06:8A4B: F4 00 00     	pea	#^$280
 32784 06:8A4E: F4 80 02     	pea	#<$280
 32785 06:8A51: D4 03        	pei	<R0+2
 32786 06:8A53: D4 01        	pei	<R0
 32787                        	xref	~~~lmul
 32788 06:8A55: 22 xx xx xx  	jsl	~~~lmul
 32789 06:8A59: 85 01        	sta	<R0
 32790 06:8A5B: 86 03        	stx	<R0+2
 32791 06:8A5D: 18           	clc
 32792 06:8A5E: A5 01        	lda	<R0
 32793 06:8A60: 65 34        	adc	<L1424+dx_1
 32794 06:8A62: 85 05        	sta	<R1
 32795 06:8A64: A5 03        	lda	<R0+2
 32796 06:8A66: 65 36        	adc	<L1424+dx_1+2
 32797 06:8A68: 85 07        	sta	<R1+2
 32798 06:8A6A: 18           	clc
 32799 06:8A6B: A9 00 00     	lda	#$0
 32800 06:8A6E: 65 05        	adc	<R1
 32801 06:8A70: 85 01        	sta	<R0
 32802 06:8A72: A9 B8 00     	lda	#$b8
 32803 06:8A75: 65 07        	adc	<R1+2
 32804 06:8A77: 85 03        	sta	<R0+2
 32805 06:8A79: D4 03        	pei	<R0+2
 32806 06:8A7B: D4 01        	pei	<R0
 32807 06:8A7D: D4 13        	pei	<L1424+f_1+2
 32808 06:8A7F: D4 11        	pei	<L1424+f_1
 32809 06:8A81: 22 xx xx xx  	jsl	~~f_read
 32810                        	.line	135
 32811 06:8A85: A5 1F        	lda	<L1424+read_1
 32812 06:8A87: D0 03        	bne	L1434
 32813 06:8A89: 82 17 00     	brl	L10554
 32814                        L1434:
 32815                        	.line	137
 32816                        L10553:
 32817 06:8A8C: A5 2B        	lda	<L1424+y_1
 32818 06:8A8E: D0 02        	bne	L1435
 32819 06:8A90: C6 2D        	dec	<L1424+y_1+2
 32820                        L1435:
 32821 06:8A92: C6 2B        	dec	<L1424+y_1
 32822                        L10556:
 32823 06:8A94: A5 2B        	lda	<L1424+y_1
 32824 06:8A96: C9 00 00     	cmp	#<$0
 32825 06:8A99: A5 2D        	lda	<L1424+y_1+2
 32826 06:8A9B: E9 00 00     	sbc	#^$0
 32827 06:8A9E: 90 03        	bcc	L1436
  Sat Jul 10 2021  1:15                                                Page 606


 32828 06:8AA0: 82 90 FF     	brl	L10555
 32829                        L1436:
 32830                        L10554:
 32831                        	.line	139
 32832                        	.line	144
 32833 06:8AA3: D4 13        	pei	<L1424+f_1+2
 32834 06:8AA5: D4 11        	pei	<L1424+f_1
 32835 06:8AA7: 22 xx xx xx  	jsl	~~f_close
 32836                        	.line	145
 32837                        L10547:
 32838                        	.line	146
 32839 06:8AAB: 82 FF FC     	brl	L1427
 32840                        	.endblock	146
 32841             00000045   L1423	equ	69
 32842             00000009   L1424	equ	9
 32843 06:8AAE:              	ends
 32844                        	efunc
 32845                        	.endfunc	146,9,69
 32846                        	.line	146
 32847                        	data
 32848                        L1422:
 32849 00:0EC5: 72 65 61 64  	db	$72,$65,$61,$64,$42,$4D,$50,$2E,$2E,$2E,
                    $0D,$0A,$00,$46,$61
       00:0EC9: 42 4D 50 2E 
       00:0ECD: 2E 2E 0D 0A 
       00:0ED1: 00 46 61 
 32850 00:0ED4: 69 6C 65 64  	db	$69,$6C,$65,$64,$20,$74,$6F,$20,$6D,$6F,
                    $75,$6E,$74,$20,$48
       00:0ED8: 20 74 6F 20 
       00:0EDC: 6D 6F 75 6E 
       00:0EE0: 74 20 48 
 32851 00:0EE3: 44 21 0D 0A  	db	$44,$21,$0D,$0A,$00,$46,$61,$69,$6C,$65,
                    $64,$20,$74,$6F,$20
       00:0EE7: 00 46 61 69 
       00:0EEB: 6C 65 64 20 
       00:0EEF: 74 6F 20 
 32852 00:0EF2: 6F 70 65 6E  	db	$6F,$70,$65,$6E,$27,$69,$6D,$61,$67,$65,
                    $2E,$62,$6D,$70,$27
       00:0EF6: 27 69 6D 61 
       00:0EFA: 67 65 2E 62 
       00:0EFE: 6D 70 27 
 32853 00:0F01: 21 0D 0A 00  	db	$21,$0D,$0A,$00
 32854 00:0F05:              	ends
 32855                        	.line	146
 32856                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxguiV4.c",5835
 32857                        ;
 32858                        ;/*
 32859                        ;
 32860                        ;
 32861                        ;
 32862                        ;
 32863                        ; */
 32864                        ;
 32865                        	.line	5842
 32866                        	xref	~~f_mount
 32867                        	xref	~~f_lseek
 32868                        	xref	~~f_read
  Sat Jul 10 2021  1:15                                                Page 607


 32869                        	xref	~~f_close
 32870                        	xref	~~f_open
 32871                        	xref	~~k_clear_screen
 32872                        	xref	~~k_disable_border
 32873                        	xref	~~k_send_message
 32874                        	xref	~~k_user_SetRect
 32875                        	xref	~~k_user_getSystemMetric
 32876                        	xref	~~k_mem_deallocate_heap
 32877                        	xref	~~k_mem_allocate_heap
 32878                        	xref	~~k_string_replace
 32879                        	xref	~~k_string_copy_to_delimiter
 32880                        	xref	~~k_get_c256_release
 32881                        	xref	~~k_debug_strings
 32882                        	xref	~~k_debug_message
 32883                        	xref	~~k_debug_long
 32884                        	xref	~~k_debug_integer
 32885                        	xref	~~k_debug_pointer
 32886                        	xref	~~k_debug_string
 32887                        	xref	~~k_delay
 32888                        	xref	~~sleep
 32889                        	xref	~~toupper
 32890                        	xref	~~strupr
 32891                        	xref	~~strlen
 32892                        	xref	~~strcpy
 32893                        	xref	~~memset
 32894                        	xref	~~memcpy
 32895                        	xref	~~abs
 32896                        	udata
 32897                        	xdef	~~infoHeader
 32898                        ~~infoHeader
 32899 00:0000:              	ds	40
 32900 00:0028:              	ends
 32901                        	udata
 32902                        	xdef	~~fileHeader
 32903                        ~~fileHeader
 32904 00:0028:              	ds	12
 32905 00:0034:              	ends
 32906                        	udata
 32907                        ~~_k_guiCacheSlots
 32908 00:0034:              	ds	60
 32909 00:0070:              	ends
 32910                        	udata
 32911                        ~~_k_currentPalatte
 32912 00:0070:              	ds	50
 32913 00:00A2:              	ends
 32914                        	xref	~~Bm437ToshibaLCD8x8
 32915                        	xref	~~windowIconImg
 32916                        	xref	~~windowChromeImg
 32917                        	xref	~~fontImg
 32918                        	xref	~~characterROMMapping
 32919                        	.sym	~~showBmpInfoHead,~~showBmpInfoHead,65,2
                    ,0
 32920                        	.sym	~~showBmpHead,~~showBmpHead,65,2,0
 32921                        	.sym	~~infoHeader,~~infoHeader,10,2,320,86
 32922                        	.sym	~~fileHeader,~~fileHeader,10,2,96,85
 32923                        	.sym	PixelInfo,0,10,14,32,87
 32924                        	.sym	BITMAPINFOHEADER,0,10,14,320,86
 32925                        	.sym	BITMAPFILEHEADER,0,10,14,96,85
  Sat Jul 10 2021  1:15                                                Page 608


 32926                        	.sym	~~k_init_splash,~~k_init_splash,65,2,0
 32927                        	.sym	~~k_vdma_fill_address_old,~~k_vdma_fill_
                    address_old,65,2,0
 32928                        	.sym	~~k_draw_filled_rect_slow,~~k_draw_fille
                    d_rect_slow,65,2,0
 32929                        	.sym	~~k_draw_rect_ex,~~k_draw_rect_ex,65,2,0
 32930                        	.sym	~~k_draw_line_with_pattern,~~k_draw_line
                    _with_pattern,65,2,0
 32931                        	.sym	~~k_draw_filled_segments,~~k_draw_filled
                    _segments,65,2,0
 32932                        	.sym	~~k_set_text_color,~~k_set_text_color,65
                    ,2,0
 32933                        	.sym	~~k_set_text_gamma,~~k_set_text_gamma,65
                    ,2,0
 32934                        	.sym	~~k_set_foreground_palette,~~k_set_foreg
                    round_palette,65,2,0
 32935                        	.sym	~~_k_guiCacheSlots,~~_k_guiCacheSlots,11
                    0,3,0,60
 32936                        	.sym	~~_k_currentPalatte,~~_k_currentPalatte,
                    10,3,400,63
 32937                        	.sym	~~BG_FILL_LINE_EVEN,~~BG_FILL_LINE_EVEN,
                    110,3,0,80
 32938                        	.sym	~~BG_FILL_LINE_ODD,~~BG_FILL_LINE_ODD,11
                    0,3,0,80
 32939                        	.sym	~~MOUSE_POINTER_EMPTY,~~MOUSE_POINTER_EM
                    PTY,110,2,0,256
 32940                        	.sym	~~TEXT_BG_COLORS,~~TEXT_BG_COLORS,110,3,
                    0,64
 32941                        	.sym	~~TEXT_FG_COLORS,~~TEXT_FG_COLORS,110,3,
                    0,64
 32942                        	.sym	~~TITLE_LINES_640x480,~~TITLE_LINES_640x
                    480,142,3,32
 32943                        	.sym	~~TEXT_CAPTION_BLOCK,~~TEXT_CAPTION_BLOC
                    K,110,3,0,1
 32944                        	.sym	~~readBMP,~~readBMP,65,2,0
 32945                        	.sym	~~f_mount,~~f_mount,69,18,0
 32946                        	.sym	~~f_lseek,~~f_lseek,69,18,0
 32947                        	.sym	~~f_read,~~f_read,69,18,0
 32948                        	.sym	~~f_close,~~f_close,69,18,0
 32949                        	.sym	~~f_open,~~f_open,69,18,0
 32950                        	.sym	FRESULT,0,5,14,16
 32951                        	.sym	MKFS_PARM,0,10,14,80,84
 32952                        	.sym	FILINFO,0,10,14,2224,83
 32953                        	.sym	DIR,0,10,14,416,82
 32954                        	.sym	FIL,0,10,14,4400,81
 32955                        	.sym	FFOBJID,0,10,14,128,80
 32956                        	.sym	FATFS,0,10,14,4504,79
 32957                        	.sym	LBA_t,0,18,14,32
 32958                        	.sym	FSIZE_t,0,18,14,32
 32959                        	.sym	TCHAR,0,14,14,8
 32960                        	.sym	~~k_clear_screen,~~k_clear_screen,65,18,
                    0
 32961                        	.sym	~~k_disable_border,~~k_disable_border,65
                    ,18,0
 32962                        	.sym	PCOMMANDARGS,0,138,14,32,78
 32963                        	.sym	COMMANDARGS,0,10,14,64,78
 32964                        	.sym	PTOKENIZESTATE,0,133,14,32
 32965                        	.sym	TOKENIZESTATE,0,5,14,16
  Sat Jul 10 2021  1:15                                                Page 609


 32966                        	.sym	PTOKEN,0,138,14,32,77
 32967                        	.sym	TOKEN,0,10,14,64,77
 32968                        	.sym	PTOKENTYPE,0,133,14,32
 32969                        	.sym	TOKENTYPE,0,5,14,16
 32970                        	.sym	FXCommandHandler,0,656,14,32
 32971                        	.sym	PCONSOLECTX,0,138,14,32,76
 32972                        	.sym	CONSOLECTX,0,10,14,1144,76
 32973                        	.sym	PSPINNERCTX,0,138,14,32,75
 32974                        	.sym	SPINNERCTX,0,10,14,48,75
 32975                        	.sym	HCLIP,0,138,14,32,74
 32976                        	.sym	PCLIPBOARD_DATA,0,138,14,32,74
 32977                        	.sym	CLIPBOARD_DATA,0,10,14,168,74
 32978                        	.sym	~~k_send_message,~~k_send_message,78,18,
                    0
 32979                        	.sym	PEVENTMANAGER,0,138,14,32,73
 32980                        	.sym	EVENTMANAGER,0,10,14,192,73
 32981                        	.sym	EV_RUN,0,656,14,32
 32982                        	.sym	EV_QUERY_METRIC,0,656,14,32
 32983                        	.sym	EV_CONFIGURE,0,656,14,32
 32984                        	.sym	EV_UNINIT,0,641,14,32
 32985                        	.sym	EV_INIT,0,8833,14,32
 32986                        	.sym	PMOUSE_MSG_STATE,0,138,14,32,72
 32987                        	.sym	MOUSE_MSG_STATE,0,10,14,184,72
 32988                        	.sym	PFXEVENTPROCESS,0,138,14,32,71
 32989                        	.sym	FXEVENTPROCESS,0,10,14,64,71
 32990                        	.sym	PMARSHALDATA,0,139,14,32,70
 32991                        	.sym	MARSHALDATA,0,11,14,32,70
 32992                        	.sym	FXIDLEPROCESS,0,641,14,32
 32993                        	.sym	FXEventProc,0,641,14,32
 32994                        	.sym	PMOUSEMSGDATA,0,138,14,32,69
 32995                        	.sym	MOUSEMSGDATA,0,10,14,64,69
 32996                        	.sym	MSGIRQ,0,5,14,16
 32997                        	.sym	MAINLOOPARGS,0,10,14,16,68
 32998                        	.sym	PEACHCHILD_MSG,0,138,14,32,67
 32999                        	.sym	EACHCHILD_MSG,0,10,14,64,67
 33000                        	.sym	~~k_user_SetRect,~~k_user_SetRect,65,18,
                    0
 33001                        	.sym	PMSGBOX_DATA,0,138,14,32,66
 33002                        	.sym	MSGBOX_DATA,0,10,14,96,66
 33003                        	.sym	PDESKTOP_DATA,0,138,14,32,65
 33004                        	.sym	DESKTOP_DATA,0,10,14,64,65
 33005                        	.sym	~~k_user_getSystemMetric,~~k_user_getSys
                    temMetric,69,18,0
 33006                        	.sym	PWINDOWMANAGER,0,138,14,32,64
 33007                        	.sym	WINDOWMANAGER,0,10,14,160,64
 33008                        	.sym	WM_DOPROCS,0,641,14,32
 33009                        	.sym	WM_QUERY_METRIC,0,656,14,32
 33010                        	.sym	WM_CONFIGURE,0,656,14,32
 33011                        	.sym	WM_HANDLE_EVENT,0,8833,14,32
 33012                        	.sym	WM_EVENTS,0,641,14,32
 33013                        	.sym	~~k_ToRECTP,~~k_ToRECTP,65,2,0
 33014                        	.sym	~~k_ToRECT,~~k_ToRECT,65,2,0
 33015                        	.sym	~~k_new_RECTP,~~k_new_RECTP,1098,2,32,27
 33016                        	.sym	~~k_new_RECT,~~k_new_RECT,1098,2,32,26
 33017                        	.sym	~~k_gui_get_image_cache,~~k_gui_get_imag
                    e_cache,78,2,0
 33018                        	.sym	~~k_gui_set_image_cache,~~k_gui_set_imag
                    e_cache,80,2,0
  Sat Jul 10 2021  1:15                                                Page 610


 33019                        	.sym	~~k_gui_free_image_cache_slot,~~k_gui_fr
                    ee_image_cache_slot,65,2,0
 33020                        	.sym	~~k_gui_alloc_image_cache_slot,~~k_gui_a
                    lloc_image_cache_slot,80,2,0
 33021                        	.sym	~~k_gui_init_image_cache_slot,~~k_gui_in
                    it_image_cache_slot,65,2,0
 33022                        	.sym	~~k_set_text_colors,~~k_set_text_colors,
                    65,2,0
 33023                        	.sym	~~k_gui_set_mousepointer,~~k_gui_set_mou
                    sepointer,65,2,0
 33024                        	.sym	~~k_gui_init_mousepointer,~~k_gui_init_m
                    ousepointer,65,2,0
 33025                        	.sym	~~k_font_getFontWidth,~~k_font_getFontWi
                    dth,80,2,0
 33026                        	.sym	~~k_font_getFontHeight,~~k_font_getFontH
                    eight,80,2,0
 33027                        	.sym	~~k_gadget_title_back_callback,~~k_gadge
                    t_title_back_callback,65,2,0
 33028                        	.sym	~~k_gadget_title_front_callback,~~k_gadg
                    et_title_front_callback,65,2,0
 33029                        	.sym	~~k_create_ui_window_class,~~k_create_ui
                    _window_class,1098,2,32,33
 33030                        	.sym	~~k_free_context_menu,~~k_free_context_m
                    enu,65,2,0
 33031                        	.sym	~~k_render_context_menu,~~k_render_conte
                    xt_menu,1098,2,32,36
 33032                        	.sym	~~k_create_context_menus,~~k_create_cont
                    ext_menus,1098,2,32,36
 33033                        	.sym	~~k_create_context_menu_in_window_ex,~~k
                    _create_context_menu_in_window_ex,1098,2,32,36
 33034                        	.sym	~~k_create_context_menu_in_window,~~k_cr
                    eate_context_menu_in_window,1098,2,32,36
 33035                        	.sym	~~k_create_context_menu,~~k_create_conte
                    xt_menu,1098,2,32,36
 33036                        	.sym	~~k_vdma_copy_address_ex,~~k_vdma_copy_a
                    ddress_ex,65,2,0
 33037                        	.sym	~~k_vdma_fill_address_ex,~~k_vdma_fill_a
                    ddress_ex,65,2,0
 33038                        	.sym	~~k_vdma_fill_rect_ex,~~k_vdma_fill_rect
                    _ex,65,2,0
 33039                        	.sym	~~k_vdma_fill_rect,~~k_vdma_fill_rect,65
                    ,2,0
 33040                        	.sym	~~k_vdma_fill_address,~~k_vdma_fill_addr
                    ess,65,2,0
 33041                        	.sym	~~k_vdma_fill,~~k_vdma_fill,65,2,0
 33042                        	.sym	~~k_vdma_move_rect,~~k_vdma_move_rect,65
                    ,2,0
 33043                        	.sym	~~k_gui_build_title_cache,~~k_gui_build_
                    title_cache,1089,2,32
 33044                        	.sym	~~k_gui_get_title_cache,~~k_gui_get_titl
                    e_cache,1089,2,32
 33045                        	.sym	~~k_gui_DrawWindow,~~k_gui_DrawWindow,65
                    ,2,0
 33046                        	.sym	~~k_vdraw_ui_window_ex,~~k_vdraw_ui_wind
                    ow_ex,65,2,0
 33047                        	.sym	~~k_vdraw_ui_window,~~k_vdraw_ui_window,
                    65,2,0
 33048                        	.sym	~~k_draw_ui_window,~~k_draw_ui_window,65
  Sat Jul 10 2021  1:15                                                Page 611


                    ,2,0
 33049                        	.sym	~~k_put_winicon_scaled,~~k_put_winicon_s
                    caled,65,2,0
 33050                        	.sym	~~k_put_winicon_point_ex,~~k_put_winicon
                    _point_ex,69,2,0
 33051                        	.sym	~~k_put_winicon_point,~~k_put_winicon_po
                    int,69,2,0
 33052                        	.sym	~~k_gui_DrawWidget,~~k_gui_DrawWidget,69
                    ,2,0
 33053                        	.sym	~~k_put_wingadget_point_ex,~~k_put_winga
                    dget_point_ex,69,2,0
 33054                        	.sym	~~k_put_wingadget_point,~~k_put_wingadge
                    t_point,69,2,0
 33055                        	.sym	~~k_draw_char_scaled,~~k_draw_char_scale
                    d,65,2,0
 33056                        	.sym	~~k_get_font_metrics,~~k_get_font_metric
                    s,69,2,0
 33057                        	.sym	~~k_draw_fontset,~~k_draw_fontset,65,2,0
 33058                        	.sym	~~k_draw_char,~~k_draw_char,65,2,0
 33059                        	.sym	~~k_put_draw_text,~~k_put_draw_text,69,2
                    ,0
 33060                        	.sym	~~k_draw_char_scaled_point,~~k_draw_char
                    _scaled_point,65,2,0
 33061                        	.sym	~~k_gui_DrawText,~~k_gui_DrawText,69,2,0
 33062                        	.sym	~~k_draw_text_point_with_font_ex,~~k_dra
                    w_text_point_with_font_ex,69,2,0
 33063                        	.sym	~~k_draw_text_point_with_font,~~k_draw_t
                    ext_point_with_font,69,2,0
 33064                        	.sym	~~k_draw_text_point_ex,~~k_draw_text_poi
                    nt_ex,69,2,0
 33065                        	.sym	~~k_draw_text_point,~~k_draw_text_point,
                    69,2,0
 33066                        	.sym	~~k_put_font_point,~~k_put_font_point,69
                    ,2,0
 33067                        	.sym	~~k_draw_text_scaled,~~k_draw_text_scale
                    d,69,2,0
 33068                        	.sym	~~k_draw_text,~~k_draw_text,69,2,0
 33069                        	.sym	~~k_put_binary_variablefont_point_ex,~~k
                    _put_binary_variablefont_point_ex,69,2,0
 33070                        	.sym	~~k_put_binary_variablefont_point,~~k_pu
                    t_binary_variablefont_point,69,2,0
 33071                        	.sym	~~k_put_binary_font_point,~~k_put_binary
                    _font_point,69,2,0
 33072                        	.sym	~~k_put_font_scaled,~~k_put_font_scaled,
                    65,2,0
 33073                        	.sym	~~k_put_font,~~k_put_font,65,2,0
 33074                        	.sym	~~k_fill_line,~~k_fill_line,65,2,0
 33075                        	.sym	~~k_paint_brush_at_address,~~k_paint_bru
                    sh_at_address,65,2,0
 33076                        	.sym	~~k_paint_brush_rect,~~k_paint_brush_rec
                    t,65,2,0
 33077                        	.sym	~~k_vdraw_filled_rect,~~k_vdraw_filled_r
                    ect,65,2,0
 33078                        	.sym	~~k_draw_filled_rect,~~k_draw_filled_rec
                    t,65,2,0
 33079                        	.sym	~~k_draw_rect,~~k_draw_rect,65,2,0
 33080                        	.sym	~~k_draw_rect_slow,~~k_draw_rect_slow,65
                    ,2,0
  Sat Jul 10 2021  1:15                                                Page 612


 33081                        	.sym	~~k_draw_line_ex,~~k_draw_line_ex,65,2,0
 33082                        	.sym	~~k_draw_line,~~k_draw_line,65,2,0
 33083                        	.sym	~~k_draw_filled_circle,~~k_draw_filled_c
                    ircle,65,2,0
 33084                        	.sym	~~k_draw_circle,~~k_draw_circle,65,2,0
 33085                        	.sym	~~k_draw_segments,~~k_draw_segments,65,2
                    ,0
 33086                        	.sym	~~k_draw_pixel_D0,~~k_draw_pixel_D0,65,2
                    ,0
 33087                        	.sym	~~k_draw_pixel_back,~~k_draw_pixel_back,
                    65,2,0
 33088                        	.sym	~~k_draw_pixel_front,~~k_draw_pixel_fron
                    t,65,2,0
 33089                        	.sym	~~k_draw_pixel_ex,~~k_draw_pixel_ex,65,2
                    ,0
 33090                        	.sym	~~k_draw_pixel,~~k_draw_pixel,65,2,0
 33091                        	.sym	~~k_draw_lines,~~k_draw_lines,65,2,0
 33092                        	.sym	~~k_memory_bitblt,~~k_memory_bitblt,65,2
                    ,0
 33093                        	.sym	~~k_bitblt,~~k_bitblt,65,2,0
 33094                        	.sym	~~k_scratch_restore_bitblt,~~k_scratch_r
                    estore_bitblt,65,2,0
 33095                        	.sym	~~k_scratch_save_bitblt,~~k_scratch_save
                    _bitblt,65,2,0
 33096                        	.sym	~~k_shadow_fill_rect_address,~~k_shadow_
                    fill_rect_address,65,2,0
 33097                        	.sym	~~k_shadow_fill_rect,~~k_shadow_fill_rec
                    t,65,2,0
 33098                        	.sym	~~k_shadow_bitblt,~~k_shadow_bitblt,65,2
                    ,0
 33099                        	.sym	~~k_is_overlapped_rect_points,~~k_is_ove
                    rlapped_rect_points,69,2,0
 33100                        	.sym	~~k_is_overlapped_rect,~~k_is_overlapped
                    _rect,69,2,0
 33101                        	.sym	~~k_is_inside_rect,~~k_is_inside_rect,78
                    ,2,0
 33102                        	.sym	~~k_set_rect,~~k_set_rect,65,2,0
 33103                        	.sym	~~k_copy_rect,~~k_copy_rect,65,2,0
 33104                        	.sym	~~defineGrayPalette,~~defineGrayPalette,
                    65,2,0
 33105                        	.sym	~~setColors,~~setColors,65,2,0
 33106                        	.sym	~~k_init_desktop,~~k_init_desktop,65,2,0
 33107                        	.sym	~~k_gui_cache_desktop_widgets,~~k_gui_ca
                    che_desktop_widgets,65,2,0
 33108                        	.sym	~~k_gui_get_pixel_offset_width,~~k_gui_g
                    et_pixel_offset_width,71,2,0
 33109                        	.sym	~~k_gui_get_pixel_offset,~~k_gui_get_pix
                    el_offset,71,2,0
 33110                        	.sym	~~k_get_video_mode,~~k_get_video_mode,80
                    ,2,0
 33111                        	.sym	~~k_enable_bitmap_mode,~~k_enable_bitmap
                    _mode,65,2,0
 33112                        	.sym	~~k_gui_size_nonclient_area,~~k_gui_size
                    _nonclient_area,78,2,0
 33113                        	.sym	~~k_HWNDToWINRECT,~~k_HWNDToWINRECT,1098
                    ,2,32,26
 33114                        	.sym	~~k_getUIColor,~~k_getUIColor,69,2,0
 33115                        	.sym	~~k_getUIGadgetColor,~~k_getUIGadgetColo
  Sat Jul 10 2021  1:15                                                Page 613


                    r,69,2,0
 33116                        	.sym	~~k_getUIMenuColor,~~k_getUIMenuColor,69
                    ,2,0
 33117                        	.sym	~~k_getUIWindowShadowColor,~~k_getUIWind
                    owShadowColor,69,2,0
 33118                        	.sym	~~k_getUIWindowBorderColor,~~k_getUIWind
                    owBorderColor,69,2,0
 33119                        	.sym	~~k_getUIWindowFrameColor,~~k_getUIWindo
                    wFrameColor,69,2,0
 33120                        	.sym	~~k_getUIHighlightColor,~~k_getUIHighlig
                    htColor,69,2,0
 33121                        	.sym	~~k_getUIFontSelectedColor,~~k_getUIFont
                    SelectedColor,69,2,0
 33122                        	.sym	~~k_getUIFontColor,~~k_getUIFontColor,69
                    ,2,0
 33123                        	.sym	~~k_getUIDesktopColor,~~k_getUIDesktopCo
                    lor,69,2,0
 33124                        	.sym	~~k_getUIBackgroundColor,~~k_getUIBackgr
                    oundColor,69,2,0
 33125                        	.sym	PCUR_PALETTE_MAP,0,138,14,32,63
 33126                        	.sym	CUR_PALETTE_MAP,0,10,14,400,63
 33127                        	.sym	~~k_render_menu,~~k_render_menu,1098,2,3
                    2,36
 33128                        	.sym	~~k_vdraw_ui_menu_with_rect,~~k_vdraw_ui
                    _menu_with_rect,1098,2,32,36
 33129                        	.sym	~~k_vdraw_ui_menu_ex,~~k_vdraw_ui_menu_e
                    x,1098,2,32,36
 33130                        	.sym	~~k_vdraw_ui_menu,~~k_vdraw_ui_menu,1098
                    ,2,32,36
 33131                        	.sym	~~k_draw_menu,~~k_draw_menu,1098,2,32,36
 33132                        	.sym	PCLICKDETECTED,0,138,14,32,62
 33133                        	.sym	CLICKDETECTED,0,10,14,64,62
 33134                        	.sym	OBJECTCLICKED,0,641,14,32
 33135                        	.sym	~~MOUSE_POINTER_RESIZE,~~MOUSE_POINTER_R
                    ESIZE,110,2,0,256
 33136                        	.sym	~~MOUSE_POINTER_HOURGLASS,~~MOUSE_POINTE
                    R_HOURGLASS,110,2,0,256
 33137                        	.sym	~~MOUSE_POINTER_HELP,~~MOUSE_POINTER_HEL
                    P,110,2,0,256
 33138                        	.sym	~~MOUSE_POINTER_ARROW,~~MOUSE_POINTER_AR
                    ROW,110,2,0,256
 33139                        	.sym	~~Bm437ToshibaLCD8x8,~~Bm437ToshibaLCD8x
                    8,110,18,0,0
 33140                        	.sym	~~windowIconImg,~~windowIconImg,878,18,0
                    ,0,256
 33141                        	.sym	~~windowChromeImg,~~windowChromeImg,878,
                    18,0,0,64
 33142                        	.sym	~~fontImg,~~fontImg,878,18,0,0,64
 33143                        	.sym	~~characterROMMapping,~~characterROMMapp
                    ing,101,18,0,0
 33144                        	.sym	PIPCPORT,0,138,14,32,61
 33145                        	.sym	IPCPORT,0,10,14,144,61
 33146                        	.sym	~~k_mem_deallocate_heap,~~k_mem_dealloca
                    te_heap,65,18,0
 33147                        	.sym	~~k_mem_allocate_heap,~~k_mem_allocate_h
                    eap,1089,18,32
 33148                        	.sym	MemoryCallback,0,641,14,32
 33149                        	.sym	PFXMEMORYMAP,0,138,14,32,60
  Sat Jul 10 2021  1:15                                                Page 614


 33150                        	.sym	FXMEMORYMAP,0,10,14,2072,60
 33151                        	.sym	UMM_HEAP_INFO,0,10,14,256,59
 33152                        	.sym	PEXECUTIVE,0,138,14,32,58
 33153                        	.sym	EXECUTIVE,0,10,14,128,58
 33154                        	.sym	EX_QUERY_METRIC,0,656,14,32
 33155                        	.sym	EX_CONFIGURE,0,656,14,32
 33156                        	.sym	EX_UNINIT,0,641,14,32
 33157                        	.sym	EX_INIT,0,8833,14,32
 33158                        	.sym	~~k_string_replace,~~k_string_replace,11
                    02,18,32
 33159                        	.sym	~~k_string_copy_to_delimiter,~~k_string_
                    copy_to_delimiter,1102,18,32
 33160                        	.sym	PFXSTRING,0,138,14,32,57
 33161                        	.sym	FXSTRING,0,10,14,64,57
 33162                        	.sym	DEVICEDRIVER_COMMAND,0,656,14,32
 33163                        	.sym	DEVICEDRIVER_UNLOAD,0,654,14,32
 33164                        	.sym	DEVICEDRIVER_WRITE,0,656,14,32
 33165                        	.sym	DEVICEDRIVER_READ,0,656,14,32
 33166                        	.sym	DEVICEDRIVER_LOAD,0,654,14,32
 33167                        	.sym	DEVICEDRIVER_IRQ,0,654,14,32
 33168                        	.sym	PFX_BLOCK_DEVICE_DRIVER,0,138,14,32,56
 33169                        	.sym	FX_BLOCK_DEVICE_DRIVER,0,10,14,808,56
 33170                        	.sym	GETDRIVERDEF,0,8842,14,32,55
 33171                        	.sym	PFX_DEVICE_DRIVER,0,138,14,32,55
 33172                        	.sym	FX_DEVICE_DRIVER,0,10,14,776,55
 33173                        	.sym	~~k_get_c256_release,~~k_get_c256_releas
                    e,65,18,0
 33174                        	.sym	~~k_debug_strings,~~k_debug_strings,65,1
                    8,0
 33175                        	.sym	~~k_debug_message,~~k_debug_message,65,1
                    8,0
 33176                        	.sym	~~k_debug_long,~~k_debug_long,65,18,0
 33177                        	.sym	~~k_debug_integer,~~k_debug_integer,65,1
                    8,0
 33178                        	.sym	~~k_debug_pointer,~~k_debug_pointer,65,1
                    8,0
 33179                        	.sym	~~k_debug_string,~~k_debug_string,65,18,
                    0
 33180                        	.sym	~~k_delay,~~k_delay,65,18,0
 33181                        	.sym	~~sleep,~~sleep,65,18,0
 33182                        	.sym	PSEGMENTHEADER,0,138,14,32,54
 33183                        	.sym	SEGMENTHEADER,0,10,14,160,54
 33184                        	.sym	PDEBUGBYTEBITS,0,138,14,32,53
 33185                        	.sym	DEBUGBYTEBITS,0,10,14,8,53
 33186                        	.sym	PFXENVIRONMENT,0,138,14,32,52
 33187                        	.sym	FXENVIRONMENT,0,10,14,96,52
 33188                        	.sym	PFXZEROPAGE,0,138,14,32,51
 33189                        	.sym	FXZEROPAGE,0,10,14,824,51
 33190                        	.sym	KERNELTRAPCALL,0,641,14,32
 33191                        	.sym	PFXKERNEL_API_CALLTABLE,0,138,14,32,50
 33192                        	.sym	FXKERNEL_API_CALLTABLE,0,10,14,8192,50
 33193                        	.sym	FOREACHNODEUNTIL,0,654,14,32
 33194                        	.sym	FOREACHNODE,0,641,14,32
 33195                        	.sym	PFXRFHEADER_FONT,0,138,14,32,49
 33196                        	.sym	FXRFHEADER_FONT,0,10,14,144,49
 33197                        	.sym	PFXRFHEADER,0,138,14,32,48
 33198                        	.sym	FXRFHEADER,0,10,14,72,48
 33199                        	.sym	PFXCOMBUFFER,0,138,14,32,47
  Sat Jul 10 2021  1:15                                                Page 615


 33200                        	.sym	FXCOMBUFFER,0,10,14,2080,47
 33201                        	.sym	PSUBMENULIST,0,138,14,32,46
 33202                        	.sym	SUBMENULIST,0,10,14,40,46
 33203                        	.sym	HSUBMENU,0,7,14,32
 33204                        	.sym	PSUBMENU,0,138,14,32,45
 33205                        	.sym	SUBMENU,0,10,14,64,45
 33206                        	.sym	MenuAction,0,641,14,32
 33207                        	.sym	PMENUANCHOR,0,138,14,32,44
 33208                        	.sym	MENUANCHOR,0,10,14,272,44
 33209                        	.sym	PMSGBOX,0,138,14,32,43
 33210                        	.sym	MSGBOX,0,10,14,144,43
 33211                        	.sym	PTEXTBOX,0,138,14,32,42
 33212                        	.sym	TEXTBOX,0,10,14,144,42
 33213                        	.sym	PLISTBOX,0,138,14,32,41
 33214                        	.sym	LISTBOX,0,10,14,240,41
 33215                        	.sym	PSCROLLBAR,0,138,14,32,40
 33216                        	.sym	SCROLLBAR,0,10,14,240,40
 33217                        	.sym	PBUTTON,0,138,14,32,39
 33218                        	.sym	BUTTON,0,10,14,96,39
 33219                        	.sym	PMENUDROPDOWNDATA,0,138,14,32,38
 33220                        	.sym	MENUDROPDOWNDATA,0,10,14,5152,38
 33221                        	.sym	PMENUTAG,0,138,14,32,37
 33222                        	.sym	MENUTAG,0,10,14,160,37
 33223                        	.sym	PMENU,0,138,14,32,36
 33224                        	.sym	MENU,0,10,14,280,36
 33225                        	.sym	HMENURESOURCE,0,129,14,32
 33226                        	.sym	FONTMETRIC,0,10,14,32,35
 33227                        	.sym	TITLE,0,142,14,32
 33228                        	.sym	PHANDLE,0,1153,14,32
 33229                        	.sym	HANDLE,0,129,14,32
 33230                        	.sym	PWINDOWEX,0,138,14,32,34
 33231                        	.sym	WINDOWEX,0,10,14,3880,34
 33232                        	.sym	PWINDOW,0,138,14,32,33
 33233                        	.sym	WINDOW,0,10,14,3904,33
 33234                        	.sym	PDRAGDATA,0,138,14,32,32
 33235                        	.sym	DRAGDATA,0,10,14,216,32
 33236                        	.sym	PNCCLICKABLE,0,138,14,32,31
 33237                        	.sym	NCCLICKABLE,0,10,14,136,31
 33238                        	.sym	HCLICKABLE,0,7,14,32
 33239                        	.sym	PCLICKABLE,0,138,14,32,30
 33240                        	.sym	CLICKABLE,0,10,14,152,30
 33241                        	.sym	PWNDCLASS,0,138,14,32,29
 33242                        	.sym	WNDCLASS,0,10,14,272,29
 33243                        	.sym	HBRUSH,0,129,14,32
 33244                        	.sym	HCURSOR,0,129,14,32
 33245                        	.sym	HICON,0,129,14,32
 33246                        	.sym	HINSTANCE,0,129,14,32
 33247                        	.sym	FXWndProc,0,654,14,32
 33248                        	.sym	PDRECT,0,138,14,32,28
 33249                        	.sym	DRECT,0,10,14,112,28
 33250                        	.sym	PRECTP,0,138,14,32,27
 33251                        	.sym	RECTP,0,10,14,96,27
 33252                        	.sym	PRECT,0,138,14,32,26
 33253                        	.sym	RECT,0,10,14,112,26
 33254                        	.sym	PPOINT,0,138,14,32,25
 33255                        	.sym	POINT,0,10,14,32,25
 33256                        	.sym	PFXPROPERTY,0,138,14,32,23
 33257                        	.sym	FXPROPERTY,0,10,14,384,23
  Sat Jul 10 2021  1:15                                                Page 616


 33258                        	.sym	PKEYSTATE,0,138,14,32,22
 33259                        	.sym	KEYSTATE,0,10,14,112,22
 33260                        	.sym	SCANCODE,0,14,14,8
 33261                        	.sym	KEYCODE,0,16,14,16
 33262                        	.sym	PFXPROCESSMESSAGE,0,138,14,32,21
 33263                        	.sym	FXPROCESSMESSAGE,0,10,14,112,21
 33264                        	.sym	PFXPROCESS,0,138,14,32,20
 33265                        	.sym	FXPROCESS,0,10,14,800,20
 33266                        	.sym	PDESKTOP_CONTROL,0,138,14,32,19
 33267                        	.sym	DESKTOP_CONTROL,0,10,14,392,19
 33268                        	.sym	PCONSOLE_CONTROL,0,138,14,32,18
 33269                        	.sym	CONSOLE_CONTROL,0,10,14,448,18
 33270                        	.sym	FXProcessProc,0,641,14,32
 33271                        	.sym	PFXCMDMESSAGE,0,138,14,32,17
 33272                        	.sym	FXCMDMESSAGE,0,10,14,304,17
 33273                        	.sym	PFXOSMESSAGE,0,138,14,32,16
 33274                        	.sym	FXOSMESSAGE,0,10,14,304,16
 33275                        	.sym	PINT_REGS,0,138,14,32,15
 33276                        	.sym	INT_REGS,0,10,14,104,15
 33277                        	.sym	TASK_STACK,0,10,14,32,14
 33278                        	.sym	TASK,0,10,14,48,13
 33279                        	.sym	PIRQDATA,0,138,14,32,12
 33280                        	.sym	IRQDATA,0,10,14,48,12
 33281                        	.sym	HMENU,0,129,14,32
 33282                        	.sym	HWND,0,129,14,32
 33283                        	.sym	MSGDATA,0,14,14,8
 33284                        	.sym	MSGDEST,0,18,14,32
 33285                        	.sym	MSGSRC,0,18,14,32
 33286                        	.sym	MSGTYPE,0,16,14,16
 33287                        	.sym	PROCESS_RESOURCE_LIST,0,138,14,32,6
 33288                        	.sym	PROCESS_TLS_LIST,0,138,14,32,6
 33289                        	.sym	SEMAPHORE_LIST,0,138,14,32,6
 33290                        	.sym	FILE_BLOCK_LIST,0,138,14,32,6
 33291                        	.sym	FILE_PATH_LIST,0,138,14,32,6
 33292                        	.sym	PROCEDURE_LIST,0,138,14,32,6
 33293                        	.sym	FILE_HANDLE,0,138,14,32,11
 33294                        	.sym	FILE_BLOCK,0,10,14,552,11
 33295                        	.sym	SEMAPHORE,0,10,14,16,10
 33296                        	.sym	PPROCESS_SIGNAL,0,138,14,32,9
 33297                        	.sym	PROCESS_SIGNAL,0,10,14,16,9
 33298                        	.sym	KRESULT,0,18,14,32
 33299                        	.sym	PKERNEL_ERROR,0,138,14,32,8
 33300                        	.sym	KERNEL_ERROR,0,10,14,32,8
 33301                        	.sym	PROCESS_STATUS,0,16,14,16
 33302                        	.sym	FILE_PATH_NAME,0,142,14,32
 33303                        	.sym	PROCESS_RESOURCE,0,129,14,32
 33304                        	.sym	PROCESS_TLS,0,129,14,32
 33305                        	.sym	PROCESS_CTX,0,129,14,32
 33306                        	.sym	USERID,0,16,14,16
 33307                        	.sym	PROCESS_ID,0,18,14,32
 33308                        	.sym	PROCESS_BANK,0,14,14,8
 33309                        	.sym	PFXQUEUE,0,138,14,32,7
 33310                        	.sym	FXQUEUE,0,10,14,80,7
 33311                        	.sym	PFXNODELIST,0,138,14,32,6
 33312                        	.sym	FXNODELIST,0,10,14,96,6
 33313                        	.sym	NodeListDeallocator,0,641,14,32
 33314                        	.sym	PFXNODE,0,138,14,32,5
 33315                        	.sym	FXNODE,0,10,14,384,5
  Sat Jul 10 2021  1:15                                                Page 617


 33316                        	.sym	PBYTEBITS,0,138,14,32,4
 33317                        	.sym	BYTEBITS,0,10,14,8,4
 33318                        	.sym	HRESULT,0,18,14,32
 33319                        	.sym	LPWCHAR,0,144,14,32
 33320                        	.sym	WCHAR,0,16,14,16
 33321                        	.sym	HCOLOR,0,129,14,32
 33322                        	.sym	HFONT,0,129,14,32
 33323                        	.sym	HDC,0,129,14,32
 33324                        	.sym	HPOINTER,0,129,14,32
 33325                        	.sym	uint32_t,0,18,14,32
 33326                        	.sym	uint8_t,0,14,14,8
 33327                        	.sym	LPBOOL,0,142,14,32
 33328                        	.sym	BOOL,0,14,14,8
 33329                        	.sym	DWORD,0,18,14,32
 33330                        	.sym	ULONG,0,18,14,32
 33331                        	.sym	LPLONG,0,135,14,32
 33332                        	.sym	LONG,0,7,14,32
 33333                        	.sym	PUINT,0,144,14,32
 33334                        	.sym	USHORT,0,16,14,16
 33335                        	.sym	UINT,0,16,14,16
 33336                        	.sym	INT,0,5,14,16
 33337                        	.sym	WORD,0,5,14,16
 33338                        	.sym	PBYTE,0,142,14,32
 33339                        	.sym	BYTE,0,14,14,8
 33340                        	.sym	IOPORT,0,142,14,32
 33341                        	.sym	PUCHAR,0,142,14,32
 33342                        	.sym	UCHAR,0,14,14,8
 33343                        	.sym	LPWCSTR,0,142,14,32
 33344                        	.sym	LPCSTR,0,142,14,32
 33345                        	.sym	LPSTR,0,142,14,32
 33346                        	.sym	LPCHAR,0,142,14,32
 33347                        	.sym	CHAR,0,14,14,8
 33348                        	.sym	LPVOID,0,129,14,32
 33349                        	.sym	VOID,0,1,14,32
 33350                        	.sym	~~toupper,~~toupper,69,18,0
 33351                        	.sym	~~strupr,~~strupr,1102,18,32
 33352                        	.sym	~~strlen,~~strlen,80,18,0
 33353                        	.sym	~~strcpy,~~strcpy,1102,18,32
 33354                        	.sym	~~memset,~~memset,1089,18,32
 33355                        	.sym	~~memcpy,~~memcpy,1089,18,32
 33356                        	.sym	Boolean_T,0,5,14,16
 33357                        	.sym	~~abs,~~abs,69,18,0
 33358                        	.sym	ldiv_t,0,10,14,64,2
 33359                        	.sym	div_t,0,10,14,32,1
 33360                        	.sym	wctype_t,0,16,14,16
 33361                        	.sym	wint_t,0,16,14,16
 33362                        	.sym	wchar_t,0,14,14,8
 33363                        	.sym	ptrdiff_t,0,7,14,32
 33364                        	.sym	size_t,0,16,14,16
 33365                        	end


      Lines assembled: 33365
      Errors: 0
