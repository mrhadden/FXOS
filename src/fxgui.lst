  Thu Jul 22 2021 22:51                                                Page 1


                     ***************************************
                     **      WDC 65C816 Macro Assembler   **
                     **                                   **
                     **     Version 3.49.1- Feb  6 2006    **
                     ***************************************

     1                        ;:ts=8
     2             00000001   R0	equ	1
     3             00000005   R1	equ	5
     4             00000009   R2	equ	9
     5             0000000D   R3	equ	13
     6                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxguiV4.c",0
     7                        ;#include "fxos.h"
     8                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",0
     9                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
    10                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stddef.h",0
    11                        	.line	88
    12                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",43
    13                        	.stag	fake1_,32,1
    14                        	.member	quot,0,5,8,16
    15                        	.member	rem,16,5,8,16
    16                        	.eos
    17                        	.stag	fake2_,64,2
    18                        	.member	quot,0,7,8,32
    19                        	.member	rem,32,7,8,32
    20                        	.eos
    21                        	.stag	int_sqrt,32,3
    22                        	.member	sqrt,0,16,8,16
    23                        	.member	frac,16,16,8,16
    24                        	.eos
    25                        	.line	205
    26                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",4
    27                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
    28                        	.line	134
    29                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",5
    30                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    ctype.h",0
    31                        	.line	103
    32                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",6
    33                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
    34                        	.stag	_fx_bytebits,8,4
    35                        	.member	b7,0,14,17,1
    36                        	.member	b6,1,14,17,1
    37                        	.member	b5,2,14,17,1
    38                        	.member	b4,3,14,17,1
    39                        	.member	b3,4,14,17,1
    40                        	.member	b2,5,14,17,1
    41                        	.member	b1,6,14,17,1
  Thu Jul 22 2021 22:51                                                Page 2


    42                        	.member	b0,7,14,17,1
    43                        	.eos
    44                        	.stag	_fx_node,384,5
    45                        	.member	type,0,14,8,8
    46                        	.member	Reserved0,8,14,8,8
    47                        	.member	data,16,129,8,32
    48                        	.member	last,48,138,8,32,5
    49                        	.member	next,80,138,8,32,5
    50                        	.member	name,112,110,8,0,32
    51                        	.member	Reserved1,368,16,8,16
    52                        	.eos
    53                        	.stag	_fx_nodelist,96,6
    54                        	.member	listhead,0,138,8,32,5
    55                        	.member	listData,32,129,8,32
    56                        	.member	deallocator,64,641,8,32
    57                        	.eos
    58                        	.stag	_fx_queue,80,7
    59                        	.member	count,0,5,8,16
    60                        	.member	front,16,138,8,32,5
    61                        	.member	rear,48,138,8,32,5
    62                        	.eos
    63                        	.stag	fake8_,32,8
    64                        	.member	subsystem,0,14,8,8
    65                        	.member	level,8,14,8,8
    66                        	.member	error,16,16,8,16
    67                        	.eos
    68                        	.stag	_fx_process_signal,16,9
    69                        	.member	cbSize,0,16,8,16
    70                        	.eos
    71                        	.stag	_fx_semaphore,16,10
    72                        	.member	reserved,0,5,8,16
    73                        	.eos
    74                        	.stag	_fx_fileBlock,552,11
    75                        	.member	openCount,0,16,8,16
    76                        	.member	lockCount,16,16,8,16
    77                        	.member	dirty,32,14,8,8
    78                        	.member	fileBuffer,40,110,8,0,64
    79                        	.eos
    80                        	.stag	_fx_irq_data,48,12
    81                        	.member	line,0,5,8,16
    82                        	.member	keycode,16,142,8,32
    83                        	.eos
    84                        	.stag	_task,48,13
    85                        	.member	SPL,0,14,8,8
    86                        	.member	SPH,8,14,8,8
    87                        	.member	pstack,16,142,8,32
    88                        	.eos
    89                        	.stag	_task_stack,32,14
    90                        	.member	SS,0,142,8,32
    91                        	.eos
    92                        	.stag	int_regs,104,15
    93                        	.member	PB,0,14,8,8
    94                        	.member	PH,8,14,8,8
    95                        	.member	PL,16,14,8,8
    96                        	.member	PP,24,14,8,8
    97                        	.member	DB,32,14,8,8
    98                        	.member	DH,40,14,8,8
    99                        	.member	DL,48,14,8,8
  Thu Jul 22 2021 22:51                                                Page 3


   100                        	.member	AH,56,14,8,8
   101                        	.member	AL,64,14,8,8
   102                        	.member	XH,72,14,8,8
   103                        	.member	XL,80,14,8,8
   104                        	.member	YH,88,14,8,8
   105                        	.member	YL,96,14,8,8
   106                        	.eos
   107                        	.stag	_fx_eventMessage,312,16
   108                        	.member	src,0,18,8,32
   109                        	.member	dest,32,18,8,32
   110                        	.member	type,64,16,8,16
   111                        	.member	hwnd,80,129,8,32
   112                        	.member	pheap,112,129,8,32
   113                        	.member	msgTime,144,18,8,32
   114                        	.member	data,176,110,8,0,16
   115                        	.member	attr,304,14,8,8
   116                        	.eos
   117                        	.stag	_fx_cmdMessage,312,17
   118                        	.member	src,0,18,8,32
   119                        	.member	dest,32,18,8,32
   120                        	.member	type,64,16,8,16
   121                        	.member	hwnd,80,129,8,32
   122                        	.member	pheap,112,129,8,32
   123                        	.member	msgTime,144,18,8,32
   124                        	.member	cmdCId,176,16,8,16
   125                        	.member	cmdMId,192,16,8,16
   126                        	.member	parameter1,208,18,8,32
   127                        	.member	parameter2,240,18,8,32
   128                        	.member	parameter3,272,18,8,32
   129                        	.member	attr,304,14,8,8
   130                        	.eos
   131                        	.stag	_fx_console_ctl,448,18
   132                        	.member	maxCols,0,5,8,16
   133                        	.member	maxRows,16,5,8,16
   134                        	.member	curX,32,5,8,16
   135                        	.member	curY,48,5,8,16
   136                        	.member	fgColor,64,5,8,16
   137                        	.member	bgColor,80,5,8,16
   138                        	.member	mode,96,14,8,8
   139                        	.member	kbBuffer,104,101,8,0,16
   140                        	.member	screenBuffer,360,142,8,32
   141                        	.member	desktopMode,392,14,8,8
   142                        	.member	lastMouseButton,400,5,8,16
   143                        	.member	lastMouseX,416,5,8,16
   144                        	.member	lastMouseY,432,5,8,16
   145                        	.eos
   146                        	.stag	_fx_desktop_ctl,392,19
   147                        	.member	desktopMode,0,14,8,8
   148                        	.member	cursorCtl,8,5,8,16
   149                        	.member	cursorState,24,5,8,16
   150                        	.member	backgroundColor,40,5,8,16
   151                        	.member	foregroundColor,56,5,8,16
   152                        	.member	menuMode,72,5,8,16
   153                        	.member	lastMouseButton,88,5,8,16
   154                        	.member	lastMouseX,104,5,8,16
   155                        	.member	lastMouseY,120,5,8,16
   156                        	.member	currentDiskName,136,142,8,32
   157                        	.member	diskNodes,168,129,8,32
  Thu Jul 22 2021 22:51                                                Page 4


   158                        	.member	titleNodes,200,129,8,32
   159                        	.member	menuNodes,232,129,8,32
   160                        	.member	iconNodes,264,129,8,32
   161                        	.member	windowNodes,296,129,8,32
   162                        	.member	fontNodes,328,129,8,32
   163                        	.member	wndProc,360,138,8,32,6
   164                        	.eos
   165                        	.stag	_fx_process,800,20
   166                        	.member	cbSize,0,5,8,16
   167                        	.member	procId,16,18,8,32
   168                        	.member	parentId,48,18,8,32
   169                        	.member	ctx,80,129,8,32
   170                        	.member	userId,112,16,8,16
   171                        	.member	status,128,16,8,16
   172                        	.member	foregroundActive,144,14,8,8
   173                        	.member	tls,152,1121,8,32,8
   174                        	.member	commandLine,408,142,8,32
   175                        	.member	semaphores,440,138,8,32,6
   176                        	.member	fileHandles,472,138,8,32,6
   177                        	.member	pathList,504,138,8,32,6
   178                        	.member	resources,536,138,8,32,6
   179                        	.member	timerAware,568,14,8,8
   180                        	.member	timerTicks,576,112,8,0,2
   181                        	.member	timerTickCount,608,112,8,0,2
   182                        	.member	kernelError,640,10,8,32,8
   183                        	.member	consoleCtl,672,138,8,32,18
   184                        	.member	desktopCtl,704,138,8,32,19
   185                        	.member	execProc,736,641,8,32
   186                        	.member	startupArgs,768,129,8,32
   187                        	.eos
   188                        	.stag	_fxProcessMessage,112,21
   189                        	.member	src,0,18,8,32
   190                        	.member	dest,32,18,8,32
   191                        	.member	type,64,16,8,16
   192                        	.member	processInfo,80,138,8,32,20
   193                        	.eos
   194                        	.stag	_k_key_state,112,22
   195                        	.member	scanCode,0,14,8,8
   196                        	.member	isShifted,8,14,8,8
   197                        	.member	isAlt,16,14,8,8
   198                        	.member	isExtended,24,14,8,8
   199                        	.member	isCapsLock,32,14,8,8
   200                        	.member	isNumLock,40,14,8,8
   201                        	.member	isScrollLock,48,14,8,8
   202                        	.member	keyChar,56,16,8,16
   203                        	.member	scanTime,72,18,8,32
   204                        	.member	ledStatus,104,14,8,8
   205                        	.eos
   206                        	.stag	_fx_property,384,23
   207                        	.member	name,0,110,8,0,16
   208                        	.member	value,128,110,8,0,32
   209                        	.eos
   210                        	.utag	_24bitPointer,32,24
   211                        	.member	address,0,142,11,32
   212                        	.member	bytes,0,110,11,0,4
   213                        	.eos
   214                        	.stag	_PointStruct,32,25
   215                        	.member	x,0,5,8,16
  Thu Jul 22 2021 22:51                                                Page 5


   216                        	.member	y,16,5,8,16
   217                        	.eos
   218                        	.stag	_RectStruct,112,26
   219                        	.member	x,0,5,8,16
   220                        	.member	y,16,5,8,16
   221                        	.member	z,32,18,8,32
   222                        	.member	width,64,5,8,16
   223                        	.member	height,80,5,8,16
   224                        	.member	attr,96,5,8,16
   225                        	.eos
   226                        	.stag	fake27_,96,27
   227                        	.member	name,0,142,8,32
   228                        	.member	topLeft,32,10,8,32,25
   229                        	.member	bottomRight,64,10,8,32,25
   230                        	.eos
   231                        	.stag	fake28_,112,28
   232                        	.member	x,0,5,8,16
   233                        	.member	y,16,5,8,16
   234                        	.member	z,32,5,8,16
   235                        	.member	width,48,5,8,16
   236                        	.member	height,64,5,8,16
   237                        	.member	data,80,18,8,32
   238                        	.eos
   239                        	.stag	_k_WindowClass,272,29
   240                        	.member	cbSize,0,16,8,16
   241                        	.member	style,16,16,8,16
   242                        	.member	styleEx,32,16,8,16
   243                        	.member	pWndProc,48,654,8,32
   244                        	.member	hInstance,80,129,8,32
   245                        	.member	hIcon,112,129,8,32
   246                        	.member	hCursor,144,129,8,32
   247                        	.member	hbrBackground,176,129,8,32
   248                        	.member	lpszMenuName,208,142,8,32
   249                        	.member	lpszClassName,240,142,8,32
   250                        	.eos
   251                        	.stag	_ClickableRect,152,30
   252                        	.member	area,0,10,8,112,26
   253                        	.member	z,112,18,8,32
   254                        	.member	enabled,144,14,8,8
   255                        	.eos
   256                        	.stag	_NCClickableRect,136,31
   257                        	.member	area,0,10,8,112,26
   258                        	.member	msgType,112,16,8,16
   259                        	.member	enabled,128,14,8,8
   260                        	.eos
   261                        	.stag	_DragData,216,32
   262                        	.member	area,0,10,8,112,26
   263                        	.member	xoffset,112,5,8,16
   264                        	.member	yoffset,128,5,8,16
   265                        	.member	msgType,144,16,8,16
   266                        	.member	ncAction,160,16,8,16
   267                        	.member	isDrag,176,14,8,8
   268                        	.member	isResize,184,14,8,8
   269                        	.member	canDrag,192,14,8,8
   270                        	.member	canDrop,200,14,8,8
   271                        	.member	didDrag,208,14,8,8
   272                        	.eos
   273                        	.stag	_k_WindowStruct,3904,33
  Thu Jul 22 2021 22:51                                                Page 6


   274                        	.member	cbSize,0,16,8,16
   275                        	.member	style,16,18,8,32
   276                        	.member	styleEx,48,18,8,32
   277                        	.member	win_id,80,5,8,16
   278                        	.member	win_x,96,5,8,16
   279                        	.member	win_y,112,5,8,16
   280                        	.member	win_width,128,5,8,16
   281                        	.member	win_height,144,5,8,16
   282                        	.member	win_xoffset,160,5,8,16
   283                        	.member	win_yoffset,176,5,8,16
   284                        	.member	win_cxoffset,192,5,8,16
   285                        	.member	win_cyoffset,208,5,8,16
   286                        	.member	wndRect,224,10,8,112,26
   287                        	.member	clientRect,336,10,8,112,26
   288                        	.member	nonclientGadgets,448,106,8,0,31,16
   289                        	.member	clickable,2624,129,8,32
   290                        	.member	win_title,2656,110,8,0,32
   291                        	.member	Reserved0,2912,16,8,16
   292                        	.member	win_class,2928,110,8,0,16
   293                        	.member	win_class_name,3056,110,8,0,32
   294                        	.member	nBitmapLayer,3312,16,8,16
   295                        	.member	bgRegion,3328,129,8,32
   296                        	.member	procid,3360,18,8,32
   297                        	.member	pWndClass,3392,138,8,32,29
   298                        	.member	pParentWindow,3424,129,8,32
   299                        	.member	hMenu,3456,129,8,32
   300                        	.member	hPointer,3488,129,8,32
   301                        	.member	hBackground,3520,129,8,32
   302                        	.member	pChildWindows,3552,138,8,32,6
   303                        	.member	pChildHitList,3584,138,8,32,6
   304                        	.member	isVisible,3616,14,8,8
   305                        	.member	windowData,3624,129,8,32
   306                        	.member	clientData,3656,1121,8,32,6
   307                        	.member	isClosed,3848,14,8,8
   308                        	.member	isClosing,3856,14,8,8
   309                        	.member	isDesktop,3864,14,8,8
   310                        	.member	clickableNode,3872,138,8,32,5
   311                        	.eos
   312                        	.stag	_k_WindowStructEx,3880,34
   313                        	.member	cbSize,0,16,8,16
   314                        	.member	style,16,18,8,32
   315                        	.member	styleEx,48,18,8,32
   316                        	.member	win_id,80,5,8,16
   317                        	.member	win_x,96,5,8,16
   318                        	.member	win_y,112,5,8,16
   319                        	.member	win_width,128,5,8,16
   320                        	.member	win_height,144,5,8,16
   321                        	.member	win_xoffset,160,5,8,16
   322                        	.member	win_yoffset,176,5,8,16
   323                        	.member	win_cxoffset,192,5,8,16
   324                        	.member	win_cyoffset,208,5,8,16
   325                        	.member	wndRect,224,10,8,112,26
   326                        	.member	clientRect,336,10,8,112,26
   327                        	.member	nonclientGadgets,448,106,8,0,31,16
   328                        	.member	clickable,2624,129,8,32
   329                        	.member	win_title,2656,110,8,0,32
   330                        	.member	Reserved0,2912,16,8,16
   331                        	.member	win_class,2928,110,8,0,16
  Thu Jul 22 2021 22:51                                                Page 7


   332                        	.member	nBitmapLayer,3056,16,8,16
   333                        	.member	procid,3072,18,8,32
   334                        	.member	pWndClass,3104,138,8,32,29
   335                        	.member	pParentWindow,3136,129,8,32
   336                        	.member	hMenu,3168,129,8,32
   337                        	.member	hPointer,3200,129,8,32
   338                        	.member	hBackground,3232,129,8,32
   339                        	.member	pChildWindows,3264,138,8,32,6
   340                        	.member	pChildHitList,3296,138,8,32,6
   341                        	.member	isVisible,3328,14,8,8
   342                        	.member	windowData,3336,129,8,32
   343                        	.member	clientData,3368,1121,8,32,4
   344                        	.member	isClosed,3496,14,8,8
   345                        	.member	hWnd,3504,129,8,32
   346                        	.member	localRect,3536,10,8,112,26
   347                        	.member	globalRect,3648,10,8,112,26
   348                        	.member	clientOffsetRect,3760,10,8,112,26
   349                        	.member	isDesktop,3872,14,8,8
   350                        	.eos
   351                        	.stag	_FontMetric,32,35
   352                        	.member	width,0,5,8,16
   353                        	.member	height,16,5,8,16
   354                        	.eos
   355                        	.stag	_MenuStruct,280,36
   356                        	.member	cx,0,5,8,16
   357                        	.member	cy,16,5,8,16
   358                        	.member	width,32,5,8,16
   359                        	.member	height,48,5,8,16
   360                        	.member	fcolor,64,14,8,8
   361                        	.member	bcolor,72,14,8,8
   362                        	.member	chromeLeft,80,14,8,8
   363                        	.member	chromeRight1,88,14,8,8
   364                        	.member	chromeRight2,96,14,8,8
   365                        	.member	hFont,104,129,8,32
   366                        	.member	itemId,136,16,8,16
   367                        	.member	pCaption,152,142,8,32
   368                        	.member	subMenus,184,138,8,32,6
   369                        	.member	pBackground,216,129,8,32
   370                        	.member	hWndOwner,248,129,8,32
   371                        	.eos
   372                        	.stag	fake37_,160,37
   373                        	.member	menuId,0,16,8,16
   374                        	.member	caption,16,142,8,32
   375                        	.member	rect,48,10,8,112,26
   376                        	.eos
   377                        	.stag	fake38_,5152,38
   378                        	.member	pParent,0,138,8,32,33
   379                        	.member	rect,32,10,8,112,26
   380                        	.member	captions,144,1134,8,32,24
   381                        	.member	chrome,912,110,8,0,24
   382                        	.member	ids,1104,112,8,0,24
   383                        	.member	clickable,1488,106,8,0,30,24
   384                        	.member	selected,5136,16,8,16
   385                        	.eos
   386                        	.stag	_fx_button_t,96,39
   387                        	.member	pCaption,0,142,8,32
   388                        	.member	cCaption,32,16,8,16
   389                        	.member	data,48,129,8,32
  Thu Jul 22 2021 22:51                                                Page 8


   390                        	.member	captionPixelWidth,80,16,8,16
   391                        	.eos
   392                        	.stag	_fx_scrollbar_t,240,40
   393                        	.member	min,0,16,8,16
   394                        	.member	max,16,16,8,16
   395                        	.member	increment,32,16,8,16
   396                        	.member	stopsize,48,16,8,16
   397                        	.member	location,64,5,8,16
   398                        	.member	state,80,5,8,16
   399                        	.member	rectThumb,96,10,8,112,26
   400                        	.member	data,208,129,8,32
   401                        	.eos
   402                        	.stag	_fx_listbox_t,240,41
   403                        	.member	pos,0,5,8,16
   404                        	.member	selected,16,16,8,16
   405                        	.member	offsetX,32,5,8,16
   406                        	.member	offsetY,48,5,8,16
   407                        	.member	inc,64,5,8,16
   408                        	.member	direction,80,5,8,16
   409                        	.member	top,96,5,8,16
   410                        	.member	bottom,112,5,8,16
   411                        	.member	indexTop,128,5,8,16
   412                        	.member	indexBottom,144,5,8,16
   413                        	.member	maxItems,160,16,8,16
   414                        	.member	fontSet,176,142,8,32
   415                        	.member	data,208,129,8,32
   416                        	.eos
   417                        	.stag	_fx_textbox_t,144,42
   418                        	.member	pos,0,5,8,16
   419                        	.member	selected,16,16,8,16
   420                        	.member	offsetX,32,5,8,16
   421                        	.member	offsetY,48,5,8,16
   422                        	.member	isShifted,64,14,8,8
   423                        	.member	cursorState,72,14,8,8
   424                        	.member	fontSet,80,142,8,32
   425                        	.member	data,112,129,8,32
   426                        	.eos
   427                        	.stag	_fx_msgbox_t,144,43
   428                        	.member	pos,0,5,8,16
   429                        	.member	selected,16,16,8,16
   430                        	.member	offsetX,32,5,8,16
   431                        	.member	offsetY,48,5,8,16
   432                        	.member	isShifted,64,14,8,8
   433                        	.member	cursorState,72,14,8,8
   434                        	.member	fontSet,80,142,8,32
   435                        	.member	data,112,129,8,32
   436                        	.eos
   437                        	.stag	_fx_menuAnchor_t,272,44
   438                        	.member	pCaption,0,142,8,32
   439                        	.member	renderLayoutX,32,16,8,16
   440                        	.member	renderLayoutY,48,16,8,16
   441                        	.member	captionPixelWidth,64,16,8,16
   442                        	.member	data,80,129,8,32
   443                        	.member	droppedWindow,112,138,8,32,33
   444                        	.member	bytes,144,110,8,0,16
   445                        	.eos
   446                        	.stag	_SubMenuStruct,64,45
   447                        	.member	caption,0,142,8,32
  Thu Jul 22 2021 22:51                                                Page 9


   448                        	.member	action,32,641,8,32
   449                        	.eos
   450                        	.stag	_SubMenuListStruct,40,46
   451                        	.member	cMenus,0,14,8,8
   452                        	.member	psubmenus,8,9354,8,32,45
   453                        	.eos
   454                        	.stag	_fx_ComBuffer,2080,47
   455                        	.member	cbSize,0,16,8,16
   456                        	.member	cbBuffer,16,16,8,16
   457                        	.member	buffer,32,110,8,0,256
   458                        	.eos
   459                        	.stag	_fx_resource_header,72,48
   460                        	.member	magic,0,110,8,0,4
   461                        	.member	major,32,14,8,8
   462                        	.member	minor,40,14,8,8
   463                        	.member	type,48,14,8,8
   464                        	.member	reserved,56,14,8,8
   465                        	.member	resheaderSize,64,14,8,8
   466                        	.eos
   467                        	.stag	_fx_resource_header_font,144,49
   468                        	.member	title,0,110,8,0,16
   469                        	.member	height,128,14,8,8
   470                        	.member	width,136,14,8,8
   471                        	.eos
   472                        	.stag	_fx_resource_string,32,50
   473                        	.member	locale,0,110,8,0,2
   474                        	.member	entries,16,16,8,16
   475                        	.eos
   476                        	.stag	_fx_resource_string_entry,40,51
   477                        	.member	index,0,16,8,16
   478                        	.member	length,16,16,8,16
   479                        	.member	data,32,14,8,8
   480                        	.eos
   481                        	.line	1055
   482                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",8
   483                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxstringtable.h",0
   484                        	.line	90
   485                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",9
   486                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxc256u.h",0
   487                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   488                        	.line	1055
   489                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxc256u.h",5
   490                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fmx_vicky.h",0
   491                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   492                        	.line	1055
   493                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fmx_vicky.h",11
   494                        	.line	72
   495                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxc256u.h",6
  Thu Jul 22 2021 22:51                                                Page 10


   496                        	.line	1960
   497                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",16
   498                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxkernel.h",0
   499                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",0
   500                        	.line	30
   501                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxkernel.h",5
   502                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxnode.h",0
   503                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   504                        	.line	1055
   505                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxnode.h",11
   506                        	.line	118
   507                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxkernel.h",6
   508                        	.stag	_fx_api_call_table,8192,52
   509                        	.member	call_table,0,1121,8,32,256
   510                        	.eos
   511                        	.stag	_fx_zero_page_irq_data,32,53
   512                        	.member	data,0,110,8,0,4
   513                        	.eos
   514                        	.stag	_fx_zero_page,720,54
   515                        	.member	fxos_mouse_byte_0,0,14,8,8
   516                        	.member	fxos_mouse_byte_1,8,14,8,8
   517                        	.member	fxos_mouse_byte_2,16,14,8,8
   518                        	.member	fxos_mouse_byte_t,24,14,8,8
   519                        	.member	fxos_mouse_byte_x_l,32,14,8,8
   520                        	.member	fxos_mouse_byte_x_h,40,14,8,8
   521                        	.member	fxos_mouse_byte_y_l,48,14,8,8
   522                        	.member	fxos_mouse_byte_y_h,56,14,8,8
   523                        	.member	fxos_key_byte_0,64,14,8,8
   524                        	.member	fxos_key_byte_1,72,14,8,8
   525                        	.member	fxos_key_byte_2,80,14,8,8
   526                        	.member	fxos_mouse_ctl,88,14,8,8
   527                        	.member	fxos_mouse_index,96,14,8,8
   528                        	.member	fxos_mouse_status,104,14,8,8
   529                        	.member	Endianness,112,16,8,16
   530                        	.member	VersionMajor,128,16,8,16
   531                        	.member	VersionMinor,144,16,8,16
   532                        	.member	VersionRelease,160,16,8,16
   533                        	.member	topMemory,176,18,8,32
   534                        	.member	bottomMemory,208,18,8,32
   535                        	.member	availableMemory,240,18,8,32
   536                        	.member	availableMemoryK,272,18,8,32
   537                        	.member	availableHeapMemory,304,18,8,32
   538                        	.member	availableHeapMemoryK,336,18,8,32
   539                        	.member	fxos_console_row,368,16,8,16
   540                        	.member	fxos_console_col,384,16,8,16
   541                        	.member	executive,400,129,8,32
   542                        	.member	eventmanager,432,129,8,32
   543                        	.member	devicemanager,464,129,8,32
   544                        	.member	windowmanager,496,129,8,32
   545                        	.member	fxos_kernel_api,528,138,8,32,52
  Thu Jul 22 2021 22:51                                                Page 11


   546                        	.member	fxos_dos_api,560,138,8,32,52
   547                        	.member	fxos_gfx_api,592,138,8,32,52
   548                        	.member	fxos_gui_api,624,138,8,32,52
   549                        	.member	fxos_con_api,656,138,8,32,52
   550                        	.member	fxos_reserved_2_api,688,138,8,32,52
   551                        	.eos
   552                        	.stag	_fx_environment,96,55
   553                        	.member	variables,0,142,8,32
   554                        	.member	reserved1,32,5,8,16
   555                        	.member	reserved2,48,5,8,16
   556                        	.member	reserved3,64,5,8,16
   557                        	.member	reserved4,80,5,8,16
   558                        	.eos
   559                        	.stag	_debug_byte_bits,8,56
   560                        	.member	bit7,0,14,17,1
   561                        	.member	bit6,1,14,17,1
   562                        	.member	bit5,2,14,17,1
   563                        	.member	bit4,3,14,17,1
   564                        	.member	bit3,4,14,17,1
   565                        	.member	bit2,5,14,17,1
   566                        	.member	bit1,6,14,17,1
   567                        	.member	bit0,7,14,17,1
   568                        	.eos
   569                        	.stag	_k_segmentheader,160,57
   570                        	.member	version_major,0,14,8,8
   571                        	.member	version_minor,8,14,8,8
   572                        	.member	length,16,5,8,16
   573                        	.member	segment_start_addr,32,7,8,32
   574                        	.member	segment_end_addr,64,7,8,32
   575                        	.member	segment_size,96,7,8,32
   576                        	.member	main_entry_addr,128,7,8,32
   577                        	.eos
   578                        	.stag	_fx_device_driver,776,58
   579                        	.member	name,0,110,8,0,32
   580                        	.member	version,256,110,8,0,16
   581                        	.member	hmajor,384,110,8,0,8
   582                        	.member	hminor,448,110,8,0,8
   583                        	.member	type,512,14,8,8
   584                        	.member	designation,520,110,8,0,6
   585                        	.member	irq_ctl,568,16,8,16
   586                        	.member	f_driver_irq,584,129,8,32
   587                        	.member	driver_context,616,129,8,32
   588                        	.member	f_driver_load,648,129,8,32
   589                        	.member	f_driver_read,680,129,8,32
   590                        	.member	f_driver_write,712,129,8,32
   591                        	.member	f_driver_unload,744,129,8,32
   592                        	.eos
   593                        	.stag	_fx_block_device_driver,808,59
   594                        	.member	name,0,110,8,0,32
   595                        	.member	version,256,110,8,0,16
   596                        	.member	hmajor,384,110,8,0,8
   597                        	.member	hminor,448,110,8,0,8
   598                        	.member	type,512,14,8,8
   599                        	.member	designation,520,110,8,0,6
   600                        	.member	irq_ctl,568,16,8,16
   601                        	.member	f_driver_irq,584,129,8,32
   602                        	.member	driver_context,616,129,8,32
   603                        	.member	f_driver_load,648,129,8,32
  Thu Jul 22 2021 22:51                                                Page 12


   604                        	.member	f_driver_read,680,129,8,32
   605                        	.member	f_driver_write,712,129,8,32
   606                        	.member	f_driver_unload,744,129,8,32
   607                        	.member	f_driver_command,776,129,8,32
   608                        	.eos
   609                        	.line	441
   610                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",22
   611                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",0
   612                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   613                        	.line	134
   614                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",5
   615                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   616                        	.line	205
   617                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",6
   618                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   619                        	.line	1055
   620                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",7
   621                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxc256u.h",0
   622                        	.line	1960
   623                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",12
   624                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxstring.h",0
   625                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   626                        	.line	205
   627                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxstring.h",5
   628                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   629                        	.line	134
   630                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxstring.h",6
   631                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   632                        	.line	1055
   633                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxstring.h",7
   634                        	.stag	_fx_string,64,60
   635                        	.member	size,0,16,8,16
   636                        	.member	pos,16,5,8,16
   637                        	.member	buffer,32,142,8,32
   638                        	.eos
   639                        	.line	139
   640                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",17
   641                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxeventmanager.h",0
   642                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
  Thu Jul 22 2021 22:51                                                Page 13


                    space\FXOS-Beta\src\fxos.h",0
   643                        	.line	30
   644                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxeventmanager.h",5
   645                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxexec.h",0
   646                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   647                        	.line	1055
   648                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxexec.h",5
   649                        	.stag	_fxos_executive_vtable,128,61
   650                        	.member	Init,0,8833,8,32
   651                        	.member	Configure,32,656,8,32
   652                        	.member	Query,64,656,8,32
   653                        	.member	Uninit,96,641,8,32
   654                        	.eos
   655                        	.line	86
   656                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxeventmanager.h",6
   657                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxnode.h",0
   658                        	.line	118
   659                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxeventmanager.h",7
   660                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",0
   661                        	.line	208
   662                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxeventmanager.h",8
   663                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxwindowmanager.h",0
   664                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",0
   665                        	.line	30
   666                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxwindowmanager.h",5
   667                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxmemorymanager.h",0
   668                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",0
   669                        	.line	30
   670                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxmemorymanager.h",5
   671                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\umm_malloc_cfg.h",0
   672                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos_build_parameters.h",0
   673                        	.line	35
   674                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\umm_malloc_cfg.h",8
   675                        	.stag	UMM_HEAP_INFO_t,256,62
   676                        	.member	totalEntries,0,18,8,32
   677                        	.member	usedEntries,32,18,8,32
   678                        	.member	freeEntries,64,18,8,32
   679                        	.member	totalBlocks,96,18,8,32
   680                        	.member	usedBlocks,128,18,8,32
   681                        	.member	freeBlocks,160,18,8,32
  Thu Jul 22 2021 22:51                                                Page 14


   682                        	.member	maxFreeContiguousBlocks,192,18,8,32
   683                        	.member	blockSize,224,18,8,32
   684                        	.eos
   685                        	.line	199
   686                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxmemorymanager.h",6
   687                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\umm_malloc.h",0
   688                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   689                        	.line	1055
   690                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\umm_malloc.h",11
   691                        	.line	24
   692                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxmemorymanager.h",7
   693                        	.stag	_fx_memory_map,2072,63
   694                        	.member	availableMemory,0,18,8,32
   695                        	.member	valid_segments,32,110,8,0,255
   696                        	.eos
   697                        	.stag	_fx_ipc_port,144,64
   698                        	.member	id,0,18,8,32
   699                        	.member	type,32,14,8,8
   700                        	.member	name,40,138,8,32,60
   701                        	.member	time,72,18,8,32
   702                        	.member	queue,104,138,8,32,7
   703                        	.member	reserved_1,136,14,8,8
   704                        	.eos
   705                        	.line	105
   706                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxwindowmanager.h",6
   707                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxeventmanager.h",0
   708                        	.line	565
   709                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxwindowmanager.h",7
   710                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxgui.h",0
   711                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxfont.h",0
   712                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   713                        	.line	1055
   714                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxfont.h",6
   715                        	.line	74
   716                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxgui.h",5
   717                        	.stag	_click_detected,64,65
   718                        	.member	window,0,138,8,32,33
   719                        	.member	handler,32,641,8,32
   720                        	.eos
   721                        	.stag	_current_palette_map,400,66
   722                        	.member	CUR_DESKTOP,0,5,8,16
   723                        	.member	CUR_BACKGROUND,16,5,8,16
   724                        	.member	CUR_FONT,32,5,8,16
   725                        	.member	CUR_SELECTED_FONT,48,5,8,16
   726                        	.member	CUR_HIGHLIGHT_COLOR,64,5,8,16
  Thu Jul 22 2021 22:51                                                Page 15


   727                        	.member	CUR_WINDOWFRAME,80,5,8,16
   728                        	.member	CUR_WINDOWBORDER,96,5,8,16
   729                        	.member	CUR_WINDOWSHADOW,112,5,8,16
   730                        	.member	CUR_MENU,128,5,8,16
   731                        	.member	CUR_GADGET,144,5,8,16
   732                        	.member	CUR_COLOR,160,101,8,0,15
   733                        	.eos
   734                        	.line	359
   735                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxwindowmanager.h",8
   736                        	.stag	_fxos_winman_vtable,160,67
   737                        	.member	Events,0,641,8,32
   738                        	.member	ConfigureWindowManager,32,656,8,32
   739                        	.member	ProcessWindowEvent,64,8833,8,32
   740                        	.member	QueryWindowManager,96,656,8,32
   741                        	.member	DoWndProcs,128,641,8,32
   742                        	.eos
   743                        	.stag	fake68_,64,68
   744                        	.member	type,0,16,8,16
   745                        	.member	size,16,16,8,16
   746                        	.member	desktopAction,32,129,8,32
   747                        	.eos
   748                        	.stag	fake69_,96,69
   749                        	.member	type,0,16,8,16
   750                        	.member	caption,16,138,8,32,60
   751                        	.member	buttonType,48,16,8,16
   752                        	.member	x,64,5,8,16
   753                        	.member	y,80,5,8,16
   754                        	.eos
   755                        	.stag	_childMessage_t,64,70
   756                        	.member	msgType,0,16,8,16
   757                        	.member	msgData,16,129,8,32
   758                        	.member	dataSize,48,16,8,16
   759                        	.eos
   760                        	.line	591
   761                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxeventmanager.h",9
   762                        	.stag	_fx_main_loopvars,16,71
   763                        	.member	dummy,0,5,8,16
   764                        	.eos
   765                        	.stag	_fxMouseMessageData,64,72
   766                        	.member	button1,0,14,8,8
   767                        	.member	button2,8,14,8,8
   768                        	.member	button3,16,14,8,8
   769                        	.member	button4,24,14,8,8
   770                        	.member	x,32,16,8,16
   771                        	.member	y,48,16,8,16
   772                        	.eos
   773                        	.utag	marshalled_data,32,73
   774                        	.member	byteValue,0,14,11,8
   775                        	.member	verbValue,0,110,11,0,2
   776                        	.member	intValue,0,16,11,16
   777                        	.member	longValue,0,18,11,32
   778                        	.member	pointerValue,0,129,11,32
   779                        	.eos
   780                        	.stag	_fx_eventProcess,64,74
   781                        	.member	process,0,138,8,32,20
   782                        	.member	eventProc,32,641,8,32
  Thu Jul 22 2021 22:51                                                Page 16


   783                        	.eos
   784                        	.stag	_mouse_msg_state,184,75
   785                        	.member	lastEvent,0,18,8,32
   786                        	.member	buttonLeftDown,32,14,8,8
   787                        	.member	lastLeftDown,40,18,8,32
   788                        	.member	buttonRightDown,72,14,8,8
   789                        	.member	lastRightDown,80,18,8,32
   790                        	.member	buttonMiddleDown,112,14,8,8
   791                        	.member	lastMiddleDown,120,18,8,32
   792                        	.member	lastX,152,16,8,16
   793                        	.member	lastY,168,16,8,16
   794                        	.eos
   795                        	.stag	_fxos_eventmanager_vtable,192,76
   796                        	.member	EventQueue,0,138,8,32,7
   797                        	.member	Init,32,8833,8,32
   798                        	.member	Run,64,656,8,32
   799                        	.member	Configure,96,656,8,32
   800                        	.member	Query,128,656,8,32
   801                        	.member	Uninit,160,641,8,32
   802                        	.eos
   803                        	.stag	_k_clipboard_data,168,77
   804                        	.member	type,0,14,8,8
   805                        	.member	readable,8,110,8,0,16
   806                        	.member	data,136,129,8,32
   807                        	.eos
   808                        	.line	565
   809                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",18
   810                        	.stag	_fx_spinner_ctx,48,78
   811                        	.member	index,0,5,8,16
   812                        	.member	spinner,16,142,8,32
   813                        	.eos
   814                        	.stag	_fx_console_ctx,1144,79
   815                        	.member	lineBufferIndex,0,5,8,16
   816                        	.member	lineBuffer,16,110,8,0,128
   817                        	.member	isShifted,1040,14,8,8
   818                        	.member	userData,1048,129,8,32
   819                        	.member	screenBuffer,1080,129,8,32
   820                        	.member	Reserved1,1112,129,8,32
   821                        	.eos
   822                        	.stag	_token,64,80
   823                        	.member	type,0,5,8,16
   824                        	.member	depth,16,16,8,16
   825                        	.member	text,32,142,8,32
   826                        	.eos
   827                        	.stag	_command_args,64,81
   828                        	.member	proc,0,656,8,32
   829                        	.member	tokens,32,138,8,32,5
   830                        	.eos
   831                        	.line	208
   832                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",23
   833                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxstring.h",0
   834                        	.line	139
   835                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",24
   836                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
  Thu Jul 22 2021 22:51                                                Page 17


                    space\FXOS-Beta\src\fxnode.h",0
   837                        	.line	118
   838                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",25
   839                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\ff.h",0
   840                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\ffconf.h",0
   841                        	.line	298
   842                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\ff.h",29
   843                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   844                        	.line	1055
   845                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\ff.h",30
   846                        	.stag	fake82_,4504,82
   847                        	.member	fs_type,0,14,8,8
   848                        	.member	pdrv,8,14,8,8
   849                        	.member	n_fats,16,14,8,8
   850                        	.member	wflag,24,14,8,8
   851                        	.member	fsi_flag,32,14,8,8
   852                        	.member	id,40,5,8,16
   853                        	.member	n_rootdir,56,5,8,16
   854                        	.member	csize,72,5,8,16
   855                        	.member	lfnbuf,88,144,8,32
   856                        	.member	last_clst,120,18,8,32
   857                        	.member	free_clst,152,18,8,32
   858                        	.member	n_fatent,184,18,8,32
   859                        	.member	fsize,216,18,8,32
   860                        	.member	volbase,248,18,8,32
   861                        	.member	fatbase,280,18,8,32
   862                        	.member	dirbase,312,18,8,32
   863                        	.member	database,344,18,8,32
   864                        	.member	winsect,376,18,8,32
   865                        	.member	win,408,110,8,0,512
   866                        	.eos
   867                        	.stag	fake83_,128,83
   868                        	.member	fs,0,138,8,32,82
   869                        	.member	id,32,5,8,16
   870                        	.member	attr,48,14,8,8
   871                        	.member	stat,56,14,8,8
   872                        	.member	sclust,64,18,8,32
   873                        	.member	objsize,96,18,8,32
   874                        	.eos
   875                        	.stag	fake84_,4400,84
   876                        	.member	obj,0,10,8,128,83
   877                        	.member	flag,128,14,8,8
   878                        	.member	err,136,14,8,8
   879                        	.member	fptr,144,18,8,32
   880                        	.member	clust,176,18,8,32
   881                        	.member	sect,208,18,8,32
   882                        	.member	dir_sect,240,18,8,32
   883                        	.member	dir_ptr,272,142,8,32
   884                        	.member	buf,304,110,8,0,512
   885                        	.eos
   886                        	.stag	fake85_,416,85
   887                        	.member	obj,0,10,8,128,83
  Thu Jul 22 2021 22:51                                                Page 18


   888                        	.member	dptr,128,18,8,32
   889                        	.member	clust,160,18,8,32
   890                        	.member	sect,192,18,8,32
   891                        	.member	dir,224,142,8,32
   892                        	.member	fn,256,110,8,0,12
   893                        	.member	blk_ofs,352,18,8,32
   894                        	.member	pat,384,142,8,32
   895                        	.eos
   896                        	.stag	fake86_,2224,86
   897                        	.member	fsize,0,18,8,32
   898                        	.member	fdate,32,5,8,16
   899                        	.member	ftime,48,5,8,16
   900                        	.member	fattrib,64,14,8,8
   901                        	.member	altname,72,110,8,0,13
   902                        	.member	fname,176,110,8,0,256
   903                        	.eos
   904                        	.stag	fake87_,80,87
   905                        	.member	fmt,0,14,8,8
   906                        	.member	n_fat,8,14,8,8
   907                        	.member	align,16,16,8,16
   908                        	.member	n_root,32,16,8,16
   909                        	.member	au_size,48,18,8,32
   910                        	.eos
   911                        	.line	429
   912                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",26
   913                        	.line	30
   914                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxguiV4.c",1
   915                        ;#include "fxmemorymanager.h"
   916                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxmemorymanager.h",0
   917                        	.line	105
   918                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxguiV4.c",2
   919                        ;#include "fxwindowmanager.h"
   920                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxwindowmanager.h",0
   921                        	.line	591
   922                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxguiV4.c",3
   923                        ;#include "fxfont.h"
   924                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxfont.h",0
   925                        	.line	74
   926                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxguiV4.c",4
   927                        ;#include "fxgui.h"
   928                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxgui.h",0
   929                        	.line	359
   930                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxguiV4.c",5
   931                        ;
   932                        ;
   933                        ;VOID readBMP(LPCSTR path);
   934                        ;
   935                        ;#define BITMAP_SEG0   ((char FAR*)0xB00000)
  Thu Jul 22 2021 22:51                                                Page 19


   936                        ;#define BITMAP_SEG1   ((char FAR*)0xB10000)
   937                        ;#define BITMAP_SEG2   ((char FAR*)0xB20000)
   938                        ;#define BITMAP_SEG3   ((char FAR*)0xB30000)
   939                        ;#define BITMAP_SEG4   ((char FAR*)0xB40000)
   940                        ;
   941                        ;#define BITMAP0_SEG0   ((char FAR*)0xB00000)
   942                        ;#define BITMAP0_SEG1   ((char FAR*)0xB10000)
   943                        ;#define BITMAP0_SEG2   ((char FAR*)0xB20000)
   944                        ;#define BITMAP0_SEG3   ((char FAR*)0xB30000)
   945                        ;#define BITMAP0_SEG4   ((char FAR*)0xB40000)
   946                        ;#define BITMAP1_SEG0   ((char FAR*)0xB00000)
   947                        ;#define BITMAP1_SEG1   ((char FAR*)0xB10000)
   948                        ;#define BITMAP1_SEG2   ((char FAR*)0xB20000)
   949                        ;#define BITMAP1_SEG3   ((char FAR*)0xB30000)
   950                        ;#define BITMAP1_SEG4   ((char FAR*)0xB40000)
   951                        ;
   952                        ;
   953                        ;#define GUI_POINT_LIMIT_X_LO  	(0)
   954                        ;#define GUI_POINT_LIMIT_Y_LO  	(0)
   955                        ;
   956                        ;#define GUI_POINT_LIMIT_X_HI  	(640)
   957                        ;#define GUI_POINT_LIMIT_Y_HI  	(480)
   958                        ;//#define GUI_POINT_LIMIT_X_HI  	(639)
   959                        ;//#define GUI_POINT_LIMIT_Y_HI  	(479)
   960                        ;
   961                        ;static CHAR FAR TEXT_CAPTION_BLOCK[] = {0x00};
   962                        	data
   963                        ~~TEXT_CAPTION_BLOCK:
   964 00:0000: 00           	db	$0
   965 00:0001:              	ends
   966                        ;
   967                        ;static LPSTR TITLE_LINES_640x480 = NULL;
   968                        	data
   969                        ~~TITLE_LINES_640x480:
   970 00:0001: 00 00 00 00  	dl	$0
   971 00:0005:              	ends
   972                        ;
   973                        ;static CHAR FAR TEXT_FG_COLORS[] =
   974                        	data
   975                        ~~TEXT_FG_COLORS:
   976                        ;{
   977                        ;	0x00,0x00,0x00,0xFF,
   978 00:0005: 00 00 00 FF  	db	$0,$0,$0,$FF
   979                        ;	0x00,0x00,0x80,0xFF,
   980 00:0009: 00 00 80 FF  	db	$0,$0,$80,$FF
   981                        ;	0x00,0x80,0x00,0xFF,
   982 00:000D: 00 80 00 FF  	db	$0,$80,$0,$FF
   983                        ;	0x80,0x00,0x00,0xFF,
   984 00:0011: 80 00 00 FF  	db	$80,$0,$0,$FF
   985                        ;	0x00,0x80,0x80,0xFF,
   986 00:0015: 00 80 80 FF  	db	$0,$80,$80,$FF
   987                        ;	0x80,0x80,0x00,0xFF,
   988 00:0019: 80 80 00 FF  	db	$80,$80,$0,$FF
   989                        ;	0x80,0x00,0x80,0xFF,
   990 00:001D: 80 00 80 FF  	db	$80,$0,$80,$FF
   991                        ;	0x80,0x80,0x80,0xFF,
   992 00:0021: 80 80 80 FF  	db	$80,$80,$80,$FF
   993                        ;	0x00,0x45,0xFF,0xFF,
  Thu Jul 22 2021 22:51                                                Page 20


   994 00:0025: 00 45 FF FF  	db	$0,$45,$FF,$FF
   995                        ;	0x13,0x45,0x8B,0xFF,
   996 00:0029: 13 45 8B FF  	db	$13,$45,$8B,$FF
   997                        ;	0x00,0x00,0x20,0xFF,
   998 00:002D: 00 00 20 FF  	db	$0,$0,$20,$FF
   999                        ;	0x00,0x20,0x00,0xFF,
  1000 00:0031: 00 20 00 FF  	db	$0,$20,$0,$FF
  1001                        ;	0x20,0x00,0x00,0xFF,
  1002 00:0035: 20 00 00 FF  	db	$20,$0,$0,$FF
  1003                        ;	0x20,0x20,0x20,0xFF,
  1004 00:0039: 20 20 20 FF  	db	$20,$20,$20,$FF
  1005                        ;	0x40,0x40,0x40,0xFF,
  1006 00:003D: 40 40 40 FF  	db	$40,$40,$40,$FF
  1007                        ;	0xFF,0xFF,0xFF,0xFF,
  1008 00:0041: FF FF FF FF  	db	$FF,$FF,$FF,$FF
  1009                        ;
  1010                        ;};
  1011 00:0045:              	ends
  1012                        ;
  1013                        ;static CHAR FAR TEXT_BG_COLORS[] =
  1014                        	data
  1015                        ~~TEXT_BG_COLORS:
  1016                        ;{
  1017                        ;
  1018                        ;	0x00,0x00,0x00,0xFF,
  1019 00:0045: 00 00 00 FF  	db	$0,$0,$0,$FF
  1020                        ;	0x00,0x00,0x80,0xFF,
  1021 00:0049: 00 00 80 FF  	db	$0,$0,$80,$FF
  1022                        ;	0x00,0x80,0x00,0xFF,
  1023 00:004D: 00 80 00 FF  	db	$0,$80,$0,$FF
  1024                        ;	0x80,0x00,0x00,0xFF,
  1025 00:0051: 80 00 00 FF  	db	$80,$0,$0,$FF
  1026                        ;	0x00,0x20,0x20,0xFF,
  1027 00:0055: 00 20 20 FF  	db	$0,$20,$20,$FF
  1028                        ;	0x20,0x20,0x00,0xFF,
  1029 00:0059: 20 20 00 FF  	db	$20,$20,$0,$FF
  1030                        ;	0x20,0x00,0x20,0xFF,
  1031 00:005D: 20 00 20 FF  	db	$20,$0,$20,$FF
  1032                        ;	0x20,0x20,0x20,0xFF,
  1033 00:0061: 20 20 20 FF  	db	$20,$20,$20,$FF
  1034                        ;	0x1E,0x69,0xD2,0xFF,
  1035 00:0065: 1E 69 D2 FF  	db	$1E,$69,$D2,$FF
  1036                        ;	0x13,0x45,0x8B,0xFF,
  1037 00:0069: 13 45 8B FF  	db	$13,$45,$8B,$FF
  1038                        ;	0x00,0x00,0x20,0xFF,
  1039 00:006D: 00 00 20 FF  	db	$0,$0,$20,$FF
  1040                        ;	0x00,0x20,0x00,0xFF,
  1041 00:0071: 00 20 00 FF  	db	$0,$20,$0,$FF
  1042                        ;	0x40,0x00,0x00,0xFF,
  1043 00:0075: 40 00 00 FF  	db	$40,$0,$0,$FF
  1044                        ;	0x10,0x10,0x10,0xFF,
  1045 00:0079: 10 10 10 FF  	db	$10,$10,$10,$FF
  1046                        ;	0x40,0x40,0x40,0xFF,
  1047 00:007D: 40 40 40 FF  	db	$40,$40,$40,$FF
  1048                        ;	0xFF,0xFF,0xFF,0xFF,
  1049 00:0081: FF FF FF FF  	db	$FF,$FF,$FF,$FF
  1050                        ;};
  1051 00:0085:              	ends
  Thu Jul 22 2021 22:51                                                Page 21


  1052                        ;
  1053                        ;CHAR FAR MOUSE_POINTER_HELP[] =
  1054                        	data
  1055                        	xdef	~~MOUSE_POINTER_HELP
  1056                        ~~MOUSE_POINTER_HELP:
  1057                        ;{
  1058                        ;	0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x0
                    1,0x01,0x01,0x00,0x00,0x00,0x00,
  1059 00:0085: 00 00 00 01  	db	$0,$0,$0,$1,$1,$1,$1,$1,$1,$1
       00:0089: 01 01 01 01 
       00:008D: 01 01 
  1060 00:008F: 01 01 00 00  	db	$1,$1,$0,$0,$0,$0
       00:0093: 00 00 
  1061                        ;	0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0x01,0x00,0x00,0x00,
  1062 00:0095: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0099: FF FF FF FF 
       00:009D: FF FF 
  1063 00:009F: FF FF 01 00  	db	$FF,$FF,$1,$0,$0,$0
       00:00A3: 00 00 
  1064                        ;	0x00,0x01,0xFF,0xFF,0xFF,0x01,0x01,0x01,0x01,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  1065 00:00A5: 00 01 FF FF  	db	$0,$1,$FF,$FF,$FF,$1,$1,$1,$1,$1
       00:00A9: FF 01 01 01 
       00:00AD: 01 01 
  1066 00:00AF: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00B3: 00 00 
  1067                        ;	0x00,0x01,0xFF,0xFF,0x01,0x01,0x00,0x00,0x00,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  1068 00:00B5: 00 01 FF FF  	db	$0,$1,$FF,$FF,$1,$1,$0,$0,$0,$1
       00:00B9: 01 01 00 00 
       00:00BD: 00 01 
  1069 00:00BF: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00C3: 00 00 
  1070                        ;	0x00,0x01,0xFF,0xFF,0x01,0x00,0x00,0x00,0x00,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  1071 00:00C5: 00 01 FF FF  	db	$0,$1,$FF,$FF,$1,$0,$0,$0,$0,$1
       00:00C9: 01 00 00 00 
       00:00CD: 00 01 
  1072 00:00CF: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00D3: 00 00 
  1073                        ;	0x00,0x01,0xFF,0xFF,0x01,0x00,0x00,0x00,0x00,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  1074 00:00D5: 00 01 FF FF  	db	$0,$1,$FF,$FF,$1,$0,$0,$0,$0,$1
       00:00D9: 01 00 00 00 
       00:00DD: 00 01 
  1075 00:00DF: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00E3: 00 00 
  1076                        ;	0x00,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  1077 00:00E5: 00 01 01 01  	db	$0,$1,$1,$1,$1,$0,$0,$0,$0,$1
       00:00E9: 01 00 00 00 
       00:00ED: 00 01 
  1078 00:00EF: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00F3: 00 00 
  1079                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0xF
                    F,0xFF,0xFF,0x01,0x00,0x00,0x00,
  1080 00:00F5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$1,$1,$FF
  Thu Jul 22 2021 22:51                                                Page 22


       00:00F9: 00 00 00 01 
       00:00FD: 01 FF 
  1081 00:00FF: FF FF 01 00  	db	$FF,$FF,$1,$0,$0,$0
       00:0103: 00 00 
  1082                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xF
                    F,0xFF,0x01,0x00,0x00,0x00,0x00,
  1083 00:0105: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$1,$FF,$FF
       00:0109: 00 00 00 01 
       00:010D: FF FF 
  1084 00:010F: FF 01 00 00  	db	$FF,$1,$0,$0,$0,$0
       00:0113: 00 00 
  1085                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0xFF,0xF
                    F,0xFF,0x00,0x00,0x00,0x00,0x00,
  1086 00:0115: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$1,$1,$FF,$FF
       00:0119: 00 01 01 01 
       00:011D: FF FF 
  1087 00:011F: FF 00 00 00  	db	$FF,$0,$0,$0,$0,$0
       00:0123: 00 00 
  1088                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0x0
                    1,0x01,0x00,0x00,0x00,0x00,0x00,
  1089 00:0125: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$FF,$FF,$1
       00:0129: 00 01 FF FF 
       00:012D: FF 01 
  1090 00:012F: 01 00 00 00  	db	$1,$0,$0,$0,$0,$0
       00:0133: 00 00 
  1091                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0x0
                    1,0x00,0x00,0x00,0x00,0x00,0x00,
  1092 00:0135: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$FF,$FF,$1
       00:0139: 00 01 FF FF 
       00:013D: FF 01 
  1093 00:013F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0143: 00 00 
  1094                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1095 00:0145: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$1,$1,$0
       00:0149: 00 00 01 01 
       00:014D: 01 00 
  1096 00:014F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0153: 00 00 
  1097                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0x0
                    1,0x00,0x00,0x00,0x00,0x00,0x00,
  1098 00:0155: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$FF,$FF,$1
       00:0159: 00 01 FF FF 
       00:015D: FF 01 
  1099 00:015F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0163: 00 00 
  1100                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0x0
                    1,0x00,0x00,0x00,0x00,0x00,0x00,
  1101 00:0165: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$FF,$FF,$1
       00:0169: 00 01 FF FF 
       00:016D: FF 01 
  1102 00:016F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0173: 00 00 
  1103                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x0
                    1,0x00,0x00,0x00,0x00,0x00,0x00
  1104 00:0175: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$1,$1,$1,$1
       00:0179: 00 01 01 01 
       00:017D: 01 01 
  Thu Jul 22 2021 22:51                                                Page 23


  1105 00:017F: 00 00 00 00  	db	$0,$0,$0,$0,$0
       00:0183: 00 
  1106                        ;};
  1107 00:0184: 00           	db	$0
  1108 00:0185:              	ends
  1109                        ;
  1110                        ;CHAR FAR MOUSE_POINTER_HOURGLASS[] =
  1111                        	data
  1112                        	xdef	~~MOUSE_POINTER_HOURGLASS
  1113                        ~~MOUSE_POINTER_HOURGLASS:
  1114                        ;{
  1115                        ;		0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,
                    0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,
  1116 00:0185: 00 00 01 01  	db	$0,$0,$1,$1,$1,$1,$1,$1,$1,$1
       00:0189: 01 01 01 01 
       00:018D: 01 01 
  1117 00:018F: 01 01 01 01  	db	$1,$1,$1,$1,$0,$0
       00:0193: 00 00 
  1118                        ;		0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,
                    0xFF,0xFF,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  1119 00:0195: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0199: FF FF FF FF 
       00:019D: FF FF 
  1120 00:019F: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:01A3: 00 00 
  1121                        ;		0x00,0x00,0x01,0x01,0xFF,0x55,0x55,0x55,
                    0x55,0x55,0x55,0xFF,0x01,0x00,0x00,0x00,
  1122 00:01A5: 00 00 01 01  	db	$0,$0,$1,$1,$FF,$55,$55,$55,$55,$55
       00:01A9: FF 55 55 55 
       00:01AD: 55 55 
  1123 00:01AF: 55 FF 01 00  	db	$55,$FF,$1,$0,$0,$0
       00:01B3: 00 00 
  1124                        ;		0x00,0x00,0x00,0x01,0xFF,0xFF,0x55,0x55,
                    0x55,0x55,0xFF,0xFF,0x01,0x00,0x00,0x00,
  1125 00:01B5: 00 00 00 01  	db	$0,$0,$0,$1,$FF,$FF,$55,$55,$55,$55
       00:01B9: FF FF 55 55 
       00:01BD: 55 55 
  1126 00:01BF: FF FF 01 00  	db	$FF,$FF,$1,$0,$0,$0
       00:01C3: 00 00 
  1127                        ;		0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0x55,
                    0x55,0xFF,0xFF,0x01,0x00,0x00,0x00,0x00,
  1128 00:01C5: 00 00 00 00  	db	$0,$0,$0,$0,$1,$FF,$FF,$55,$55,$FF
       00:01C9: 01 FF FF 55 
       00:01CD: 55 FF 
  1129 00:01CF: FF 01 00 00  	db	$FF,$1,$0,$0,$0,$0
       00:01D3: 00 00 
  1130                        ;		0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0x55,
                    0x55,0xFF,0x01,0x00,0x00,0x00,0x00,0x00,
  1131 00:01D5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$55,$55,$FF
       00:01D9: 00 01 FF 55 
       00:01DD: 55 FF 
  1132 00:01DF: 01 00 00 00  	db	$1,$0,$0,$0,$0,$0
       00:01E3: 00 00 
  1133                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,
                    0x55,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
  1134 00:01E5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$FF,$55,$1
       00:01E9: 00 00 01 FF 
       00:01ED: 55 01 
  Thu Jul 22 2021 22:51                                                Page 24


  1135 00:01EF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:01F3: 00 00 
  1136                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x55,
                    0xFF,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
  1137 00:01F5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$55,$FF,$1
       00:01F9: 00 00 01 55 
       00:01FD: FF 01 
  1138 00:01FF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0203: 00 00 
  1139                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,
                    0x55,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
  1140 00:0205: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$FF,$55,$1
       00:0209: 00 00 01 FF 
       00:020D: 55 01 
  1141 00:020F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0213: 00 00 
  1142                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x55,
                    0xFF,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
  1143 00:0215: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$55,$FF,$1
       00:0219: 00 00 01 55 
       00:021D: FF 01 
  1144 00:021F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0223: 00 00 
  1145                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,
                    0x55,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
  1146 00:0225: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$FF,$55,$1
       00:0229: 00 00 01 FF 
       00:022D: 55 01 
  1147 00:022F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0233: 00 00 
  1148                        ;		0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0x55,
                    0xFF,0xFF,0x01,0x00,0x00,0x00,0x00,0x00,
  1149 00:0235: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$55,$FF,$FF
       00:0239: 00 01 FF 55 
       00:023D: FF FF 
  1150 00:023F: 01 00 00 00  	db	$1,$0,$0,$0,$0,$0
       00:0243: 00 00 
  1151                        ;		0x00,0x00,0x00,0x00,0x01,0xFF,0x55,0x55,
                    0x55,0x55,0xFF,0x01,0x00,0x00,0x00,0x00,
  1152 00:0245: 00 00 00 00  	db	$0,$0,$0,$0,$1,$FF,$55,$55,$55,$55
       00:0249: 01 FF 55 55 
       00:024D: 55 55 
  1153 00:024F: FF 01 00 00  	db	$FF,$1,$0,$0,$0,$0
       00:0253: 00 00 
  1154                        ;		0x00,0x00,0x01,0x01,0xFF,0x55,0x55,0x55,
                    0x55,0x55,0x55,0xFF,0x01,0x00,0x00,0x00,
  1155 00:0255: 00 00 01 01  	db	$0,$0,$1,$1,$FF,$55,$55,$55,$55,$55
       00:0259: FF 55 55 55 
       00:025D: 55 55 
  1156 00:025F: 55 FF 01 00  	db	$55,$FF,$1,$0,$0,$0
       00:0263: 00 00 
  1157                        ;		0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,
                    0xFF,0xFF,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  1158 00:0265: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0269: FF FF FF FF 
       00:026D: FF FF 
  1159 00:026F: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:0273: 00 00 
  Thu Jul 22 2021 22:51                                                Page 25


  1160                        ;		0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,
                    0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00
  1161 00:0275: 00 00 01 01  	db	$0,$0,$1,$1,$1,$1,$1,$1,$1,$1
       00:0279: 01 01 01 01 
       00:027D: 01 01 
  1162 00:027F: 01 01 01 01  	db	$1,$1,$1,$1,$0
       00:0283: 00 
  1163                        ;};
  1164 00:0284: 00           	db	$0
  1165 00:0285:              	ends
  1166                        ;
  1167                        ;CHAR FAR MOUSE_POINTER_ARROW[] =
  1168                        	data
  1169                        	xdef	~~MOUSE_POINTER_ARROW
  1170                        ~~MOUSE_POINTER_ARROW:
  1171                        ;{
  1172                        ;	0xFF,0x55,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1173 00:0285: FF 55 00 00  	db	$FF,$55,$0,$0,$0,$0,$0,$0,$0,$0
       00:0289: 00 00 00 00 
       00:028D: 00 00 
  1174 00:028F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0293: 00 00 
  1175                        ;	0x01,0xFF,0x55,0x55,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1176 00:0295: 01 FF 55 55  	db	$1,$FF,$55,$55,$0,$0,$0,$0,$0,$0
       00:0299: 00 00 00 00 
       00:029D: 00 00 
  1177 00:029F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02A3: 00 00 
  1178                        ;	0x00,0x01,0xFF,0xFF,0x55,0x55,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1179 00:02A5: 00 01 FF FF  	db	$0,$1,$FF,$FF,$55,$55,$0,$0,$0,$0
       00:02A9: 55 55 00 00 
       00:02AD: 00 00 
  1180 00:02AF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02B3: 00 00 
  1181                        ;	0x00,0x01,0xFF,0xFF,0xFF,0xFF,0x55,0x55,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1182 00:02B5: 00 01 FF FF  	db	$0,$1,$FF,$FF,$FF,$FF,$55,$55,$0,$0
       00:02B9: FF FF 55 55 
       00:02BD: 00 00 
  1183 00:02BF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02C3: 00 00 
  1184                        ;	0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,0x55,0x5
                    5,0x00,0x00,0x00,0x00,0x00,0x00,
  1185 00:02C5: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$55,$55
       00:02C9: FF FF FF FF 
       00:02CD: 55 55 
  1186 00:02CF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02D3: 00 00 
  1187                        ;	0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0x00,0x00,0x00,0x00,0x00,0x00,
  1188 00:02D5: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:02D9: FF FF FF FF 
       00:02DD: FF FF 
  1189 00:02DF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02E3: 00 00 
  Thu Jul 22 2021 22:51                                                Page 26


  1190                        ;	0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1191 00:02E5: 00 00 00 01  	db	$0,$0,$0,$1,$FF,$FF,$FF,$FF,$0,$0
       00:02E9: FF FF FF FF 
       00:02ED: 00 00 
  1192 00:02EF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02F3: 00 00 
  1193                        ;	0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0x55,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1194 00:02F5: 00 00 00 01  	db	$0,$0,$0,$1,$FF,$FF,$FF,$FF,$55,$0
       00:02F9: FF FF FF FF 
       00:02FD: 55 00 
  1195 00:02FF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0303: 00 00 
  1196                        ;	0x00,0x00,0x00,0x00,0x01,0xFF,0x00,0x01,0xFF,0x5
                    5,0x00,0x00,0x00,0x00,0x00,0x00,
  1197 00:0305: 00 00 00 00  	db	$0,$0,$0,$0,$1,$FF,$0,$1,$FF,$55
       00:0309: 01 FF 00 01 
       00:030D: FF 55 
  1198 00:030F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0313: 00 00 
  1199                        ;	0x00,0x00,0x00,0x00,0x01,0xFF,0x00,0x00,0x01,0xF
                    F,0x55,0x00,0x00,0x00,0x00,0x00,
  1200 00:0315: 00 00 00 00  	db	$0,$0,$0,$0,$1,$FF,$0,$0,$1,$FF
       00:0319: 01 FF 00 00 
       00:031D: 01 FF 
  1201 00:031F: 55 00 00 00  	db	$55,$0,$0,$0,$0,$0
       00:0323: 00 00 
  1202                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    1,0xFF,0x55,0x00,0x00,0x00,0x00,
  1203 00:0325: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$1
       00:0329: 00 00 00 00 
       00:032D: 00 01 
  1204 00:032F: FF 55 00 00  	db	$FF,$55,$0,$0,$0,$0
       00:0333: 00 00 
  1205                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x01,0xFF,0x00,0x00,0x00,0x00,
  1206 00:0335: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0339: 00 00 00 00 
       00:033D: 00 00 
  1207 00:033F: 01 FF 00 00  	db	$1,$FF,$0,$0,$0,$0
       00:0343: 00 00 
  1208                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1209 00:0345: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0349: 00 00 00 00 
       00:034D: 00 00 
  1210 00:034F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0353: 00 00 
  1211                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1212 00:0355: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0359: 00 00 00 00 
       00:035D: 00 00 
  1213 00:035F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0363: 00 00 
  1214                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  Thu Jul 22 2021 22:51                                                Page 27


  1215 00:0365: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0369: 00 00 00 00 
       00:036D: 00 00 
  1216 00:036F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0373: 00 00 
  1217                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1218 00:0375: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0379: 00 00 00 00 
       00:037D: 00 00 
  1219 00:037F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0383: 00 00 
  1220                        ;};
  1221 00:0385:              	ends
  1222                        ;
  1223                        ;
  1224                        ;CHAR FAR MOUSE_POINTER_RESIZE[] =
  1225                        	data
  1226                        	xdef	~~MOUSE_POINTER_RESIZE
  1227                        ~~MOUSE_POINTER_RESIZE:
  1228                        ;{
  1229                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1230 00:0385: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$0,$0,$0
       00:0389: FF FF FF 00 
       00:038D: 00 00 
  1231 00:038F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0393: 00 00 
  1232                        ;	0xFF,0xFF,0x01,0x01,0x01,0x01,0x01,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1233 00:0395: FF FF 01 01  	db	$FF,$FF,$1,$1,$1,$1,$1,$0,$0,$0
       00:0399: 01 01 01 00 
       00:039D: 00 00 
  1234 00:039F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:03A3: 00 00 
  1235                        ;	0xFF,0x01,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1236 00:03A5: FF 01 FF 00  	db	$FF,$1,$FF,$0,$0,$0,$0,$0,$0,$0
       00:03A9: 00 00 00 00 
       00:03AD: 00 00 
  1237 00:03AF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:03B3: 00 00 
  1238                        ;	0xFF,0x01,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1239 00:03B5: FF 01 00 FF  	db	$FF,$1,$0,$FF,$0,$0,$0,$0,$0,$0
       00:03B9: 00 00 00 00 
       00:03BD: 00 00 
  1240 00:03BF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:03C3: 00 00 
  1241                        ;	0xFF,0x01,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1242 00:03C5: FF 01 00 00  	db	$FF,$1,$0,$0,$FF,$0,$0,$0,$0,$0
       00:03C9: FF 00 00 00 
       00:03CD: 00 00 
  1243 00:03CF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:03D3: 00 00 
  1244                        ;	0xFF,0x01,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x0
                    0,0x00,0xFF,0x01,0x00,0x00,0x00,
  Thu Jul 22 2021 22:51                                                Page 28


  1245 00:03D5: FF 01 00 00  	db	$FF,$1,$0,$0,$0,$FF,$0,$0,$0,$0
       00:03D9: 00 FF 00 00 
       00:03DD: 00 00 
  1246 00:03DF: 00 FF 01 00  	db	$0,$FF,$1,$0,$0,$0
       00:03E3: 00 00 
  1247                        ;	0xFF,0x01,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x0
                    0,0x00,0xFF,0x01,0x00,0x00,0x00,
  1248 00:03E5: FF 01 00 00  	db	$FF,$1,$0,$0,$0,$0,$FF,$0,$0,$0
       00:03E9: 00 00 FF 00 
       00:03ED: 00 00 
  1249 00:03EF: 00 FF 01 00  	db	$0,$FF,$1,$0,$0,$0
       00:03F3: 00 00 
  1250                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x0
                    0,0x00,0xFF,0x01,0x00,0x00,0x00,
  1251 00:03F5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$FF,$0,$0
       00:03F9: 00 00 00 FF 
       00:03FD: 00 00 
  1252 00:03FF: 00 FF 01 00  	db	$0,$FF,$1,$0,$0,$0
       00:0403: 00 00 
  1253                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x0
                    0,0x00,0xFF,0x01,0x00,0x00,0x00,
  1254 00:0405: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$FF,$0
       00:0409: 00 00 00 00 
       00:040D: FF 00 
  1255 00:040F: 00 FF 01 00  	db	$0,$FF,$1,$0,$0,$0
       00:0413: 00 00 
  1256                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF
                    F,0x00,0xFF,0x01,0x00,0x00,0x00,
  1257 00:0415: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$FF
       00:0419: 00 00 00 00 
       00:041D: 00 FF 
  1258 00:041F: 00 FF 01 00  	db	$0,$FF,$1,$0,$0,$0
       00:0423: 00 00 
  1259                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0xFF,0xFF,0x01,0x00,0x00,0x00,
  1260 00:0425: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0429: 00 00 00 00 
       00:042D: 00 00 
  1261 00:042F: FF FF 01 00  	db	$FF,$FF,$1,$0,$0,$0
       00:0433: 00 00 
  1262                        ;	0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0x01,0x00,0x00,0x00,
  1263 00:0435: 00 00 00 00  	db	$0,$0,$0,$0,$0,$FF,$FF,$FF,$FF,$FF
       00:0439: 00 FF FF FF 
       00:043D: FF FF 
  1264 00:043F: FF FF 01 00  	db	$FF,$FF,$1,$0,$0,$0
       00:0443: 00 00 
  1265                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x0
                    1,0x01,0x01,0x01,0x00,0x00,0x00,
  1266 00:0445: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$1,$1,$1,$1
       00:0449: 00 01 01 01 
       00:044D: 01 01 
  1267 00:044F: 01 01 01 00  	db	$1,$1,$1,$0,$0,$0
       00:0453: 00 00 
  1268                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1269 00:0455: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0459: 00 00 00 00 
  Thu Jul 22 2021 22:51                                                Page 29


       00:045D: 00 00 
  1270 00:045F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0463: 00 00 
  1271                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1272 00:0465: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0469: 00 00 00 00 
       00:046D: 00 00 
  1273 00:046F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0473: 00 00 
  1274                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1275 00:0475: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0479: 00 00 00 00 
       00:047D: 00 00 
  1276 00:047F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0483: 00 00 
  1277                        ;};
  1278 00:0485:              	ends
  1279                        ;
  1280                        ;/*
  1281                        ;CHAR FAR MOUSE_POINTER_RESIZE[] =
  1282                        ;{
  1283                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1284                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1285                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1286                        ;	0x00,0x00,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1287                        ;	0x00,0x00,0xFF,0xFF,0x01,0x01,0x01,0x01,0x01,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1288                        ;	0x00,0x00,0xFF,0x01,0xFF,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1289                        ;	0x00,0x00,0xFF,0x01,0x00,0xFF,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1290                        ;	0x00,0x00,0xFF,0x01,0x00,0x00,0xFF,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1291                        ;	0x00,0x00,0xFF,0x01,0x00,0x00,0x00,0xFF,0x00,0x0
                    0,0x00,0x00,0x00,0xFF,0x01,0x00,
  1292                        ;	0x00,0x00,0xFF,0x01,0x00,0x00,0x00,0x00,0xFF,0x0
                    0,0x00,0x00,0x00,0xFF,0x01,0x00,
  1293                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF
                    F,0x00,0x00,0x00,0xFF,0x01,0x00,
  1294                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0xFF,0x00,0x00,0xFF,0x01,0x00,
  1295                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0xFF,0x00,0xFF,0x01,0x00,
  1296                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0xFF,0xFF,0x01,0x00,
  1297                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0x01,0x00,
  1298                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x0
                    1,0x01,0x01,0x01,0x01,0x01,0x00,
  1299                        ;};
  1300                        ; */
  1301                        ;
  Thu Jul 22 2021 22:51                                                Page 30


  1302                        ;CHAR FAR MOUSE_POINTER_EMPTY[] =
  1303                        	data
  1304                        	xdef	~~MOUSE_POINTER_EMPTY
  1305                        ~~MOUSE_POINTER_EMPTY:
  1306                        ;{
  1307                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1308 00:0485: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0489: 00 00 00 00 
       00:048D: 00 00 
  1309 00:048F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0493: 00 00 
  1310                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1311 00:0495: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0499: 00 00 00 00 
       00:049D: 00 00 
  1312 00:049F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04A3: 00 00 
  1313                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1314 00:04A5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:04A9: 00 00 00 00 
       00:04AD: 00 00 
  1315 00:04AF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04B3: 00 00 
  1316                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1317 00:04B5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:04B9: 00 00 00 00 
       00:04BD: 00 00 
  1318 00:04BF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04C3: 00 00 
  1319                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1320 00:04C5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:04C9: 00 00 00 00 
       00:04CD: 00 00 
  1321 00:04CF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04D3: 00 00 
  1322                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1323 00:04D5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:04D9: 00 00 00 00 
       00:04DD: 00 00 
  1324 00:04DF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04E3: 00 00 
  1325                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1326 00:04E5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:04E9: 00 00 00 00 
       00:04ED: 00 00 
  1327 00:04EF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04F3: 00 00 
  1328                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1329 00:04F5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:04F9: 00 00 00 00 
  Thu Jul 22 2021 22:51                                                Page 31


       00:04FD: 00 00 
  1330 00:04FF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0503: 00 00 
  1331                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1332 00:0505: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0509: 00 00 00 00 
       00:050D: 00 00 
  1333 00:050F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0513: 00 00 
  1334                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1335 00:0515: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0519: 00 00 00 00 
       00:051D: 00 00 
  1336 00:051F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0523: 00 00 
  1337                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1338 00:0525: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0529: 00 00 00 00 
       00:052D: 00 00 
  1339 00:052F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0533: 00 00 
  1340                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1341 00:0535: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0539: 00 00 00 00 
       00:053D: 00 00 
  1342 00:053F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0543: 00 00 
  1343                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1344 00:0545: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0549: 00 00 00 00 
       00:054D: 00 00 
  1345 00:054F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0553: 00 00 
  1346                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1347 00:0555: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0559: 00 00 00 00 
       00:055D: 00 00 
  1348 00:055F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0563: 00 00 
  1349                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1350 00:0565: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0569: 00 00 00 00 
       00:056D: 00 00 
  1351 00:056F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0573: 00 00 
  1352                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00
  1353 00:0575: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0579: 00 00 00 00 
       00:057D: 00 00 
  1354 00:057F: 00 00 00 00  	db	$0,$0,$0,$0,$0
  Thu Jul 22 2021 22:51                                                Page 32


       00:0583: 00 
  1355                        ;};
  1356 00:0584: 00           	db	$0
  1357 00:0585:              	ends
  1358                        ;
  1359                        ;static CHAR BG_FILL_LINE_ODD[] =
  1360                        	data
  1361                        ~~BG_FILL_LINE_ODD:
  1362                        ;{
  1363                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1364 00:0585: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:0589: AA AA AA AA 
  1365                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1366 00:058D: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:0591: AA AA AA AA 
  1367                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1368 00:0595: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:0599: AA AA AA AA 
  1369                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1370 00:059D: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:05A1: AA AA AA AA 
  1371                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1372 00:05A5: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:05A9: AA AA AA AA 
  1373                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1374 00:05AD: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:05B1: AA AA AA AA 
  1375                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1376 00:05B5: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:05B9: AA AA AA AA 
  1377                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1378 00:05BD: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:05C1: AA AA AA AA 
  1379                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1380 00:05C5: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:05C9: AA AA AA AA 
  1381                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA
  1382 00:05CD: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:05D1: AA AA AA 
  1383                        ;};
  1384 00:05D4: AA           	db	$AA
  1385 00:05D5:              	ends
  1386                        ;
  1387                        ;static CHAR BG_FILL_LINE_EVEN[] =
  1388                        	data
  1389                        ~~BG_FILL_LINE_EVEN:
  1390                        ;{
  1391                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1392 00:05D5: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:05D9: 55 55 55 55 
  1393                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1394 00:05DD: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:05E1: 55 55 55 55 
  1395                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1396 00:05E5: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:05E9: 55 55 55 55 
  1397                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1398 00:05ED: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
  Thu Jul 22 2021 22:51                                                Page 33


       00:05F1: 55 55 55 55 
  1399                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1400 00:05F5: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:05F9: 55 55 55 55 
  1401                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1402 00:05FD: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:0601: 55 55 55 55 
  1403                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1404 00:0605: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:0609: 55 55 55 55 
  1405                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1406 00:060D: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:0611: 55 55 55 55 
  1407                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1408 00:0615: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:0619: 55 55 55 55 
  1409                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55
  1410 00:061D: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55
       00:0621: 55 55 55 
  1411                        ;};
  1412 00:0624: 55           	db	$55
  1413 00:0625:              	ends
  1414                        ;
  1415                        ;
  1416                        ;static CUR_PALETTE_MAP _k_currentPalatte;
  1417                        ;
  1418                        ;#define GRP_LUT_BASE_ADDR GRPH_LUT0_PTR
  1419                        ;
  1420                        ;#define GUI_CACHE_RESERVE1  (0)
  1421                        ;#define GUI_CACHE_RESERVE2  (2)
  1422                        ;#define GUI_CACHE_START     (4)
  1423                        ;#define GUI_CACHE_FRONT		((ULONG)0x000000
                    )
  1424                        ;#define GUI_CACHE_BACK		((ULONG)0x080000
                    )
  1425                        ;//#define GUI_CACHE_PAGE		((ULONG)0x100000
                    )
  1426                        ;// testing
  1427                        ;#define GUI_CACHE_PAGE		((ULONG)0x100000
                    )
  1428                        ;
  1429                        ;#define GUI_CACHE_WIDTH		(320)
  1430                        ;#define GUI_CACHE_HEIGHT	(16)
  1431                        ;//
  1432                        ;#define GUI_CACHE_SIZE		(60)
  1433                        ;#define GUI_CACHE_PAGE_OFFSET(s)   ((5120L * ((LO
                    NG)s - (LONG)(s % 2))) + 320L * (LONG)(s % 2))
  1434                        ;
  1435                        ;static BYTE _k_guiCacheSlots[GUI_CACHE_SIZE];
  1436                        ;
  1437                        ;#pragma section CODE=GFX,offset $06:0000
  1438                        GFX	section	offset $06:0000
  1439 06:0000:              	ends
  1440                        ;
  1441                        ;PRECT k_new_RECT(LPCSTR name, int x,int y,int wid
                    th,int height, int z, int scaler)
  1442                        ;{
  1443                        	.line	257
  Thu Jul 22 2021 22:51                                                Page 34


  1444                        	.line	258
  1445                        	GFX
  1446                        	xdef	~~k_new_RECT
  1447                        	func
  1448                        	.function	258
  1449                        ~~k_new_RECT:
  1450                        	longa	on
  1451                        	longi	on
  1452 06:0000: 3B           	tsc
  1453 06:0001: 38           	sec
  1454 06:0002: E9 08 00     	sbc	#L2
  1455 06:0005: 1B           	tcs
  1456 06:0006: 0B           	phd
  1457 06:0007: 5B           	tcd
  1458             00000004   name_0	set	4
  1459             00000008   x_0	set	8
  1460             0000000A   y_0	set	10
  1461             0000000C   width_0	set	12
  1462             0000000E   height_0	set	14
  1463             00000010   z_0	set	16
  1464             00000012   scaler_0	set	18
  1465                        	.block	258
  1466                        ;	PRECT r = k_mem_allocate_heap(sizeof(RECT));
  1467                        ;	if(r)
  1468             00000000   r_1	set	0
  1469                        	.sym	r,0,138,1,32,26
  1470                        	.sym	name,4,142,6,32
  1471                        	.sym	x,8,5,6,16
  1472                        	.sym	y,10,5,6,16
  1473                        	.sym	width,12,5,6,16
  1474                        	.sym	height,14,5,6,16
  1475                        	.sym	z,16,5,6,16
  1476                        	.sym	scaler,18,5,6,16
  1477 06:0008: F4 0E 00     	pea	#<$e
  1478 06:000B: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  1479 06:000F: 85 05        	sta	<L3+r_1
  1480 06:0011: 86 07        	stx	<L3+r_1+2
  1481                        	.line	260
  1482                        ;	{
  1483 06:0013: A5 05        	lda	<L3+r_1
  1484 06:0015: 05 07        	ora	<L3+r_1+2
  1485 06:0017: D0 03        	bne	L5
  1486 06:0019: 82 1A 00     	brl	L10001
  1487                        L5:
  1488                        	.line	261
  1489                        ;		r->z = z;
  1490                        	.line	262
  1491 06:001C: A0 00 00     	ldy	#$0
  1492 06:001F: A5 18        	lda	<L2+z_0
  1493 06:0021: 10 01        	bpl	L6
  1494 06:0023: 88           	dey
  1495                        L6:
  1496 06:0024: 85 01        	sta	<R0
  1497 06:0026: 84 03        	sty	<R0+2
  1498 06:0028: A5 01        	lda	<R0
  1499 06:002A: A0 04 00     	ldy	#$4
  1500 06:002D: 97 05        	sta	[<L3+r_1],Y
  1501 06:002F: A5 03        	lda	<R0+2
  Thu Jul 22 2021 22:51                                                Page 35


  1502 06:0031: A0 06 00     	ldy	#$6
  1503 06:0034: 97 05        	sta	[<L3+r_1],Y
  1504                        ;		//r->scaler = scaler;
  1505                        ;		r->x;
  1506                        	.line	264
  1507                        ;		r->y;
  1508                        	.line	265
  1509                        ;		r->width;
  1510                        	.line	266
  1511                        ;		r->height;
  1512                        	.line	267
  1513                        ;		/*
  1514                        ;		r->z = z;
  1515                        ;		r->scaler = scaler;
  1516                        ;		r->x/scaler+(i),
  1517                        ;		r->y/scaler+(j),
  1518                        ;		r->width/scaler - ((k + i)),
  1519                        ;		r->height/scaler - ((l + j)));
  1520                        ;		*/
  1521                        ;	}
  1522                        	.line	276
  1523                        ;	return r;
  1524                        L10001:
  1525                        	.line	277
  1526 06:0036: A6 07        	ldx	<L3+r_1+2
  1527 06:0038: A5 05        	lda	<L3+r_1
  1528                        L7:
  1529 06:003A: A8           	tay
  1530 06:003B: A5 0A        	lda	<L2+2
  1531 06:003D: 85 1A        	sta	<L2+2+16
  1532 06:003F: A5 09        	lda	<L2+1
  1533 06:0041: 85 19        	sta	<L2+1+16
  1534 06:0043: 2B           	pld
  1535 06:0044: 3B           	tsc
  1536 06:0045: 18           	clc
  1537 06:0046: 69 18 00     	adc	#L2+16
  1538 06:0049: 1B           	tcs
  1539 06:004A: 98           	tya
  1540 06:004B: 6B           	rtl
  1541                        ;}
  1542                        	.line	278
  1543                        	.endblock	278
  1544             00000008   L2	equ	8
  1545             00000005   L3	equ	5
  1546 06:004C:              	ends
  1547                        	efunc
  1548                        	.endfunc	278,5,8
  1549                        	.line	278
  1550                        ;
  1551                        ;PRECTP k_new_RECTP(LPCSTR name, int x,int y,int w
                    idth,int height)
  1552                        ;{
  1553                        	.line	280
  1554                        	.line	281
  1555                        	GFX
  1556                        	xdef	~~k_new_RECTP
  1557                        	func
  1558                        	.function	281
  Thu Jul 22 2021 22:51                                                Page 36


  1559                        ~~k_new_RECTP:
  1560                        	longa	on
  1561                        	longi	on
  1562 06:004C: 3B           	tsc
  1563 06:004D: 38           	sec
  1564 06:004E: E9 04 00     	sbc	#L8
  1565 06:0051: 1B           	tcs
  1566 06:0052: 0B           	phd
  1567 06:0053: 5B           	tcd
  1568             00000004   name_0	set	4
  1569             00000008   x_0	set	8
  1570             0000000A   y_0	set	10
  1571             0000000C   width_0	set	12
  1572             0000000E   height_0	set	14
  1573                        	.block	281
  1574                        ;	PRECTP r = k_mem_allocate_heap(sizeof(PRECTP));
  1575                        ;	if(r)
  1576             00000000   r_1	set	0
  1577                        	.sym	r,0,138,1,32,27
  1578                        	.sym	name,4,142,6,32
  1579                        	.sym	x,8,5,6,16
  1580                        	.sym	y,10,5,6,16
  1581                        	.sym	width,12,5,6,16
  1582                        	.sym	height,14,5,6,16
  1583 06:0054: F4 04 00     	pea	#<$4
  1584 06:0057: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  1585 06:005B: 85 01        	sta	<L9+r_1
  1586 06:005D: 86 03        	stx	<L9+r_1+2
  1587                        	.line	283
  1588                        ;	{
  1589 06:005F: A5 01        	lda	<L9+r_1
  1590 06:0061: 05 03        	ora	<L9+r_1+2
  1591 06:0063: D0 03        	bne	L11
  1592 06:0065: 82 22 00     	brl	L10002
  1593                        L11:
  1594                        	.line	284
  1595                        ;		r->topLeft.x = x;
  1596                        	.line	285
  1597 06:0068: A5 0C        	lda	<L8+x_0
  1598 06:006A: A0 04 00     	ldy	#$4
  1599 06:006D: 97 01        	sta	[<L9+r_1],Y
  1600                        ;		r->topLeft.y = y;
  1601                        	.line	286
  1602 06:006F: A5 0E        	lda	<L8+y_0
  1603 06:0071: A0 06 00     	ldy	#$6
  1604 06:0074: 97 01        	sta	[<L9+r_1],Y
  1605                        ;
  1606                        ;		r->bottomRight.x = x + width;
  1607                        	.line	288
  1608 06:0076: 18           	clc
  1609 06:0077: A5 0C        	lda	<L8+x_0
  1610 06:0079: 65 10        	adc	<L8+width_0
  1611 06:007B: A0 08 00     	ldy	#$8
  1612 06:007E: 97 01        	sta	[<L9+r_1],Y
  1613                        ;		r->bottomRight.y = y + height;
  1614                        	.line	289
  1615 06:0080: 18           	clc
  1616 06:0081: A5 0E        	lda	<L8+y_0
  Thu Jul 22 2021 22:51                                                Page 37


  1617 06:0083: 65 12        	adc	<L8+height_0
  1618 06:0085: A0 0A 00     	ldy	#$a
  1619 06:0088: 97 01        	sta	[<L9+r_1],Y
  1620                        ;	}
  1621                        	.line	290
  1622                        ;	return r;
  1623                        L10002:
  1624                        	.line	291
  1625 06:008A: A6 03        	ldx	<L9+r_1+2
  1626 06:008C: A5 01        	lda	<L9+r_1
  1627                        L12:
  1628 06:008E: A8           	tay
  1629 06:008F: A5 06        	lda	<L8+2
  1630 06:0091: 85 12        	sta	<L8+2+12
  1631 06:0093: A5 05        	lda	<L8+1
  1632 06:0095: 85 11        	sta	<L8+1+12
  1633 06:0097: 2B           	pld
  1634 06:0098: 3B           	tsc
  1635 06:0099: 18           	clc
  1636 06:009A: 69 10 00     	adc	#L8+12
  1637 06:009D: 1B           	tcs
  1638 06:009E: 98           	tya
  1639 06:009F: 6B           	rtl
  1640                        ;}
  1641                        	.line	292
  1642                        	.endblock	292
  1643             00000004   L8	equ	4
  1644             00000001   L9	equ	1
  1645 06:00A0:              	ends
  1646                        	efunc
  1647                        	.endfunc	292,1,4
  1648                        	.line	292
  1649                        ;
  1650                        ;/*
  1651                        ;RECT(r.name + "-child",
  1652                        ;							
                    r.x/RECT.scaler+(i),
  1653                        ;							
                    r.y/RECT.scaler+(j),
  1654                        ;							
                    r.width/RECT.scaler - ((k + i)),
  1655                        ;							
                    r.height/RECT.scaler - ((l + j)));
  1656                        ;*/
  1657                        ;VOID k_ToRECT(PRECTP prectp,PRECT prect,LPCSTR na
                    me)
  1658                        ;{
  1659                        	.line	301
  1660                        	.line	302
  1661                        	GFX
  1662                        	xdef	~~k_ToRECT
  1663                        	func
  1664                        	.function	302
  1665                        ~~k_ToRECT:
  1666                        	longa	on
  1667                        	longi	on
  1668 06:00A0: 3B           	tsc
  1669 06:00A1: 38           	sec
  Thu Jul 22 2021 22:51                                                Page 38


  1670 06:00A2: E9 00 00     	sbc	#L13
  1671 06:00A5: 1B           	tcs
  1672 06:00A6: 0B           	phd
  1673 06:00A7: 5B           	tcd
  1674             00000004   prectp_0	set	4
  1675             00000008   prect_0	set	8
  1676             0000000C   name_0	set	12
  1677                        	.block	302
  1678                        ;	if(prect && prectp)
  1679                        	.sym	prectp,4,138,6,32,27
  1680                        	.sym	prect,8,138,6,32,26
  1681                        	.sym	name,12,142,6,32
  1682                        	.line	303
  1683                        ;	{
  1684 06:00A8: A5 08        	lda	<L13+prect_0
  1685 06:00AA: 05 0A        	ora	<L13+prect_0+2
  1686 06:00AC: D0 03        	bne	L16
  1687 06:00AE: 82 3A 00     	brl	L10003
  1688                        L16:
  1689 06:00B1: A5 04        	lda	<L13+prectp_0
  1690 06:00B3: 05 06        	ora	<L13+prectp_0+2
  1691 06:00B5: D0 03        	bne	L17
  1692 06:00B7: 82 31 00     	brl	L10003
  1693                        L17:
  1694                        	.line	304
  1695                        ;
  1696                        ;		prect->x = prectp->topLeft.x;
  1697                        	.line	306
  1698 06:00BA: A0 04 00     	ldy	#$4
  1699 06:00BD: B7 04        	lda	[<L13+prectp_0],Y
  1700 06:00BF: 87 08        	sta	[<L13+prect_0]
  1701                        ;		prect->y = prectp->topLeft.y;
  1702                        	.line	307
  1703 06:00C1: A0 06 00     	ldy	#$6
  1704 06:00C4: B7 04        	lda	[<L13+prectp_0],Y
  1705 06:00C6: A0 02 00     	ldy	#$2
  1706 06:00C9: 97 08        	sta	[<L13+prect_0],Y
  1707                        ;
  1708                        ;		prect->width  = prectp->bottomRight.x - 
                    prectp->topLeft.x;
  1709                        	.line	309
  1710 06:00CB: 38           	sec
  1711 06:00CC: A0 08 00     	ldy	#$8
  1712 06:00CF: B7 04        	lda	[<L13+prectp_0],Y
  1713 06:00D1: A0 04 00     	ldy	#$4
  1714 06:00D4: F7 04        	sbc	[<L13+prectp_0],Y
  1715 06:00D6: A0 08 00     	ldy	#$8
  1716 06:00D9: 97 08        	sta	[<L13+prect_0],Y
  1717                        ;		prect->height = prectp->bottomRight.y - 
                    prectp->topLeft.y;
  1718                        	.line	310
  1719 06:00DB: 38           	sec
  1720 06:00DC: A0 0A 00     	ldy	#$a
  1721 06:00DF: B7 04        	lda	[<L13+prectp_0],Y
  1722 06:00E1: A0 06 00     	ldy	#$6
  1723 06:00E4: F7 04        	sbc	[<L13+prectp_0],Y
  1724 06:00E6: A0 0A 00     	ldy	#$a
  1725 06:00E9: 97 08        	sta	[<L13+prect_0],Y
  Thu Jul 22 2021 22:51                                                Page 39


  1726                        ;
  1727                        ;	}
  1728                        	.line	312
  1729                        ;}
  1730                        L10003:
  1731                        	.line	313
  1732                        L18:
  1733 06:00EB: A5 02        	lda	<L13+2
  1734 06:00ED: 85 0E        	sta	<L13+2+12
  1735 06:00EF: A5 01        	lda	<L13+1
  1736 06:00F1: 85 0D        	sta	<L13+1+12
  1737 06:00F3: 2B           	pld
  1738 06:00F4: 3B           	tsc
  1739 06:00F5: 18           	clc
  1740 06:00F6: 69 0C 00     	adc	#L13+12
  1741 06:00F9: 1B           	tcs
  1742 06:00FA: 6B           	rtl
  1743                        	.endblock	313
  1744             00000000   L13	equ	0
  1745             00000001   L14	equ	1
  1746 06:00FB:              	ends
  1747                        	efunc
  1748                        	.endfunc	313,1,0
  1749                        	.line	313
  1750                        ;
  1751                        ;VOID k_ToRECTP(PRECT pr,PRECTP prectp)
  1752                        ;{
  1753                        	.line	315
  1754                        	.line	316
  1755                        	GFX
  1756                        	xdef	~~k_ToRECTP
  1757                        	func
  1758                        	.function	316
  1759                        ~~k_ToRECTP:
  1760                        	longa	on
  1761                        	longi	on
  1762 06:00FB: 3B           	tsc
  1763 06:00FC: 38           	sec
  1764 06:00FD: E9 00 00     	sbc	#L19
  1765 06:0100: 1B           	tcs
  1766 06:0101: 0B           	phd
  1767 06:0102: 5B           	tcd
  1768             00000004   pr_0	set	4
  1769             00000008   prectp_0	set	8
  1770                        	.block	316
  1771                        ;	if(pr && prectp)
  1772                        	.sym	pr,4,138,6,32,26
  1773                        	.sym	prectp,8,138,6,32,27
  1774                        	.line	317
  1775                        ;	{
  1776 06:0103: A5 04        	lda	<L19+pr_0
  1777 06:0105: 05 06        	ora	<L19+pr_0+2
  1778 06:0107: D0 03        	bne	L22
  1779 06:0109: 82 37 00     	brl	L10004
  1780                        L22:
  1781 06:010C: A5 08        	lda	<L19+prectp_0
  1782 06:010E: 05 0A        	ora	<L19+prectp_0+2
  1783 06:0110: D0 03        	bne	L23
  Thu Jul 22 2021 22:51                                                Page 40


  1784 06:0112: 82 2E 00     	brl	L10004
  1785                        L23:
  1786                        	.line	318
  1787                        ;		prectp->topLeft.x = pr->x;
  1788                        	.line	319
  1789 06:0115: A7 04        	lda	[<L19+pr_0]
  1790 06:0117: A0 04 00     	ldy	#$4
  1791 06:011A: 97 08        	sta	[<L19+prectp_0],Y
  1792                        ;		prectp->topLeft.y = pr->y;
  1793                        	.line	320
  1794 06:011C: A0 02 00     	ldy	#$2
  1795 06:011F: B7 04        	lda	[<L19+pr_0],Y
  1796 06:0121: A0 06 00     	ldy	#$6
  1797 06:0124: 97 08        	sta	[<L19+prectp_0],Y
  1798                        ;
  1799                        ;		prectp->bottomRight.x = pr->x + pr->widt
                    h;
  1800                        	.line	322
  1801 06:0126: 18           	clc
  1802 06:0127: A7 04        	lda	[<L19+pr_0]
  1803 06:0129: A0 08 00     	ldy	#$8
  1804 06:012C: 77 04        	adc	[<L19+pr_0],Y
  1805 06:012E: A0 08 00     	ldy	#$8
  1806 06:0131: 97 08        	sta	[<L19+prectp_0],Y
  1807                        ;		prectp->bottomRight.y = pr->y + pr->heig
                    ht;
  1808                        	.line	323
  1809 06:0133: 18           	clc
  1810 06:0134: A0 02 00     	ldy	#$2
  1811 06:0137: B7 04        	lda	[<L19+pr_0],Y
  1812 06:0139: A0 0A 00     	ldy	#$a
  1813 06:013C: 77 04        	adc	[<L19+pr_0],Y
  1814 06:013E: A0 0A 00     	ldy	#$a
  1815 06:0141: 97 08        	sta	[<L19+prectp_0],Y
  1816                        ;	}
  1817                        	.line	324
  1818                        ;}
  1819                        L10004:
  1820                        	.line	325
  1821                        L24:
  1822 06:0143: A5 02        	lda	<L19+2
  1823 06:0145: 85 0A        	sta	<L19+2+8
  1824 06:0147: A5 01        	lda	<L19+1
  1825 06:0149: 85 09        	sta	<L19+1+8
  1826 06:014B: 2B           	pld
  1827 06:014C: 3B           	tsc
  1828 06:014D: 18           	clc
  1829 06:014E: 69 08 00     	adc	#L19+8
  1830 06:0151: 1B           	tcs
  1831 06:0152: 6B           	rtl
  1832                        	.endblock	325
  1833             00000000   L19	equ	0
  1834             00000001   L20	equ	1
  1835 06:0153:              	ends
  1836                        	efunc
  1837                        	.endfunc	325,1,0
  1838                        	.line	325
  1839                        ;
  Thu Jul 22 2021 22:51                                                Page 41


  1840                        ;
  1841                        ;VOID k_gui_init_image_cache_slot()
  1842                        ;{
  1843                        	.line	328
  1844                        	.line	329
  1845                        	GFX
  1846                        	xdef	~~k_gui_init_image_cache_slot
  1847                        	func
  1848                        	.function	329
  1849                        ~~k_gui_init_image_cache_slot:
  1850                        	longa	on
  1851                        	longi	on
  1852 06:0153: 3B           	tsc
  1853 06:0154: 38           	sec
  1854 06:0155: E9 02 00     	sbc	#L25
  1855 06:0158: 1B           	tcs
  1856 06:0159: 0B           	phd
  1857 06:015A: 5B           	tcd
  1858                        	.block	329
  1859                        ;	int i = 0;
  1860                        ;
  1861                        ;	for(i=0;i<GUI_CACHE_SIZE;i++)
  1862             00000000   i_1	set	0
  1863                        	.sym	i,0,5,1,16
  1864 06:015B: 64 01        	stz	<L26+i_1
  1865                        	.line	332
  1866 06:015D: 64 01        	stz	<L26+i_1
  1867                        L10007:
  1868                        ;		_k_guiCacheSlots[i] = FALSE;
  1869                        	.line	333
  1870 06:015F: E2 20        	sep	#$20
  1871                        	longa	off
  1872 06:0161: A9 00        	lda	#$0
  1873 06:0163: A6 01        	ldx	<L26+i_1
  1874 06:0165: 9D xx xx     	sta	|~~_k_guiCacheSlots,X
  1875 06:0168: C2 20        	rep	#$20
  1876                        	longa	on
  1877                        L10005:
  1878 06:016A: E6 01        	inc	<L26+i_1
  1879 06:016C: 38           	sec
  1880 06:016D: A5 01        	lda	<L26+i_1
  1881 06:016F: E9 3C 00     	sbc	#<$3c
  1882 06:0172: 70 03        	bvs	L28
  1883 06:0174: 49 00 80     	eor	#$8000
  1884                        L28:
  1885 06:0177: 30 03        	bmi	L29
  1886 06:0179: 82 E3 FF     	brl	L10007
  1887                        L29:
  1888                        L10006:
  1889                        ;}
  1890                        	.line	334
  1891                        L30:
  1892 06:017C: 2B           	pld
  1893 06:017D: 3B           	tsc
  1894 06:017E: 18           	clc
  1895 06:017F: 69 02 00     	adc	#L25
  1896 06:0182: 1B           	tcs
  1897 06:0183: 6B           	rtl
  Thu Jul 22 2021 22:51                                                Page 42


  1898                        	.endblock	334
  1899             00000002   L25	equ	2
  1900             00000001   L26	equ	1
  1901 06:0184:              	ends
  1902                        	efunc
  1903                        	.endfunc	334,1,2
  1904                        	.line	334
  1905                        ;
  1906                        ;UINT k_gui_alloc_image_cache_slot()
  1907                        ;{
  1908                        	.line	336
  1909                        	.line	337
  1910                        	GFX
  1911                        	xdef	~~k_gui_alloc_image_cache_slot
  1912                        	func
  1913                        	.function	337
  1914                        ~~k_gui_alloc_image_cache_slot:
  1915                        	longa	on
  1916                        	longi	on
  1917 06:0184: 3B           	tsc
  1918 06:0185: 38           	sec
  1919 06:0186: E9 04 00     	sbc	#L31
  1920 06:0189: 1B           	tcs
  1921 06:018A: 0B           	phd
  1922 06:018B: 5B           	tcd
  1923                        	.block	337
  1924                        ;	UINT index = -1;
  1925                        ;	int i = 0;
  1926                        ;
  1927                        ;	for(i=GUI_CACHE_START;i<GUI_CACHE_SIZE;i++)
  1928             00000000   index_1	set	0
  1929             00000002   i_1	set	2
  1930                        	.sym	index,0,16,1,16
  1931                        	.sym	i,2,5,1,16
  1932 06:018C: A9 FF FF     	lda	#$ffff
  1933 06:018F: 85 01        	sta	<L32+index_1
  1934 06:0191: 64 03        	stz	<L32+i_1
  1935                        	.line	341
  1936 06:0193: A9 04 00     	lda	#$4
  1937 06:0196: 85 03        	sta	<L32+i_1
  1938                        L10010:
  1939                        ;	{
  1940                        	.line	342
  1941                        ;		if(!_k_guiCacheSlots[i])
  1942                        	.line	343
  1943                        ;		{
  1944 06:0198: A6 03        	ldx	<L32+i_1
  1945 06:019A: BD xx xx     	lda	|~~_k_guiCacheSlots,X
  1946 06:019D: 29 FF 00     	and	#$ff
  1947 06:01A0: F0 03        	beq	L34
  1948 06:01A2: 82 12 00     	brl	L10011
  1949                        L34:
  1950                        	.line	344
  1951                        ;			_k_guiCacheSlots[i] = TRUE;
  1952                        	.line	345
  1953 06:01A5: E2 20        	sep	#$20
  1954                        	longa	off
  1955 06:01A7: A9 01        	lda	#$1
  Thu Jul 22 2021 22:51                                                Page 43


  1956 06:01A9: A6 03        	ldx	<L32+i_1
  1957 06:01AB: 9D xx xx     	sta	|~~_k_guiCacheSlots,X
  1958 06:01AE: C2 20        	rep	#$20
  1959                        	longa	on
  1960                        ;			index = i;
  1961                        	.line	346
  1962 06:01B0: A5 03        	lda	<L32+i_1
  1963 06:01B2: 85 01        	sta	<L32+index_1
  1964                        ;			break;
  1965                        	.line	347
  1966 06:01B4: 82 12 00     	brl	L10009
  1967                        ;		}
  1968                        	.line	348
  1969                        ;	}
  1970                        L10011:
  1971                        	.line	349
  1972                        L10008:
  1973 06:01B7: E6 03        	inc	<L32+i_1
  1974 06:01B9: 38           	sec
  1975 06:01BA: A5 03        	lda	<L32+i_1
  1976 06:01BC: E9 3C 00     	sbc	#<$3c
  1977 06:01BF: 70 03        	bvs	L35
  1978 06:01C1: 49 00 80     	eor	#$8000
  1979                        L35:
  1980 06:01C4: 30 03        	bmi	L36
  1981 06:01C6: 82 CF FF     	brl	L10010
  1982                        L36:
  1983                        L10009:
  1984                        ;
  1985                        ;	//k_debug_integer("k_gui_alloc_image_cache_slot:
                    index:",index);
  1986                        ;
  1987                        ;	return index;
  1988                        	.line	353
  1989 06:01C9: A5 01        	lda	<L32+index_1
  1990                        L37:
  1991 06:01CB: A8           	tay
  1992 06:01CC: 2B           	pld
  1993 06:01CD: 3B           	tsc
  1994 06:01CE: 18           	clc
  1995 06:01CF: 69 04 00     	adc	#L31
  1996 06:01D2: 1B           	tcs
  1997 06:01D3: 98           	tya
  1998 06:01D4: 6B           	rtl
  1999                        ;}
  2000                        	.line	354
  2001                        	.endblock	354
  2002             00000004   L31	equ	4
  2003             00000001   L32	equ	1
  2004 06:01D5:              	ends
  2005                        	efunc
  2006                        	.endfunc	354,1,4
  2007                        	.line	354
  2008                        ;
  2009                        ;VOID k_gui_free_image_cache_slot(UINT slotIndex)
  2010                        ;{
  2011                        	.line	356
  2012                        	.line	357
  Thu Jul 22 2021 22:51                                                Page 44


  2013                        	GFX
  2014                        	xdef	~~k_gui_free_image_cache_slot
  2015                        	func
  2016                        	.function	357
  2017                        ~~k_gui_free_image_cache_slot:
  2018                        	longa	on
  2019                        	longi	on
  2020 06:01D5: 3B           	tsc
  2021 06:01D6: 38           	sec
  2022 06:01D7: E9 00 00     	sbc	#L38
  2023 06:01DA: 1B           	tcs
  2024 06:01DB: 0B           	phd
  2025 06:01DC: 5B           	tcd
  2026             00000004   slotIndex_0	set	4
  2027                        	.block	357
  2028                        ;	if(slotIndex >= GUI_CACHE_START)
  2029                        	.sym	slotIndex,4,16,6,16
  2030                        	.line	358
  2031                        ;		_k_guiCacheSlots[slotIndex] = FALSE;
  2032 06:01DD: A5 04        	lda	<L38+slotIndex_0
  2033 06:01DF: C9 04 00     	cmp	#<$4
  2034 06:01E2: B0 03        	bcs	L41
  2035 06:01E4: 82 0B 00     	brl	L10012
  2036                        L41:
  2037                        	.line	359
  2038 06:01E7: E2 20        	sep	#$20
  2039                        	longa	off
  2040 06:01E9: A9 00        	lda	#$0
  2041 06:01EB: A6 04        	ldx	<L38+slotIndex_0
  2042 06:01ED: 9D xx xx     	sta	|~~_k_guiCacheSlots,X
  2043 06:01F0: C2 20        	rep	#$20
  2044                        	longa	on
  2045                        ;}
  2046                        L10012:
  2047                        	.line	360
  2048                        L42:
  2049 06:01F2: A5 02        	lda	<L38+2
  2050 06:01F4: 85 04        	sta	<L38+2+2
  2051 06:01F6: A5 01        	lda	<L38+1
  2052 06:01F8: 85 03        	sta	<L38+1+2
  2053 06:01FA: 2B           	pld
  2054 06:01FB: 3B           	tsc
  2055 06:01FC: 18           	clc
  2056 06:01FD: 69 02 00     	adc	#L38+2
  2057 06:0200: 1B           	tcs
  2058 06:0201: 6B           	rtl
  2059                        	.endblock	360
  2060             00000000   L38	equ	0
  2061             00000001   L39	equ	1
  2062 06:0202:              	ends
  2063                        	efunc
  2064                        	.endfunc	360,1,0
  2065                        	.line	360
  2066                        ;
  2067                        ;
  2068                        ;UINT k_gui_set_image_cache(ULONG srcVMARelPage,PR
                    ECT prect)
  2069                        ;{
  Thu Jul 22 2021 22:51                                                Page 45


  2070                        	.line	363
  2071                        	.line	364
  2072                        	GFX
  2073                        	xdef	~~k_gui_set_image_cache
  2074                        	func
  2075                        	.function	364
  2076                        ~~k_gui_set_image_cache:
  2077                        	longa	on
  2078                        	longi	on
  2079 06:0202: 3B           	tsc
  2080 06:0203: 38           	sec
  2081 06:0204: E9 16 00     	sbc	#L43
  2082 06:0207: 1B           	tcs
  2083 06:0208: 0B           	phd
  2084 06:0209: 5B           	tcd
  2085             00000004   srcVMARelPage_0	set	4
  2086             00000008   prect_0	set	8
  2087                        	.block	364
  2088                        ;	UINT slot;
  2089                        ;
  2090                        ;	int cw = prect->width < GUI_CACHE_WIDTH  ? prect
                    ->width  : GUI_CACHE_WIDTH;
  2091                        ;	int ch = prect->height< GUI_CACHE_HEIGHT ? prect
                    ->height : GUI_CACHE_HEIGHT;
  2092                        ;
  2093                        ;	//k_debug_pointer("k_gui_set_image_cache:srcVMAR
                    elPage:",srcVMARelPage);
  2094                        ;
  2095                        ;	slot = k_gui_alloc_image_cache_slot();
  2096             00000000   slot_1	set	0
  2097             00000002   cw_1	set	2
  2098             00000004   ch_1	set	4
  2099                        	.sym	slot,0,16,1,16
  2100                        	.sym	cw,2,5,1,16
  2101                        	.sym	ch,4,5,1,16
  2102                        	.sym	srcVMARelPage,4,18,6,32
  2103                        	.sym	prect,8,138,6,32,26
  2104 06:020A: 38           	sec
  2105 06:020B: A0 08 00     	ldy	#$8
  2106 06:020E: B7 1E        	lda	[<L43+prect_0],Y
  2107 06:0210: E9 40 01     	sbc	#<$140
  2108 06:0213: 70 03        	bvs	L47
  2109 06:0215: 49 00 80     	eor	#$8000
  2110                        L47:
  2111 06:0218: 10 03        	bpl	L48
  2112 06:021A: 82 07 00     	brl	L46
  2113                        L48:
  2114 06:021D: A0 08 00     	ldy	#$8
  2115 06:0220: B7 1E        	lda	[<L43+prect_0],Y
  2116 06:0222: 80 03        	bra	L49
  2117                        L46:
  2118 06:0224: A9 40 01     	lda	#$140
  2119                        L49:
  2120 06:0227: 85 13        	sta	<L44+cw_1
  2121 06:0229: 38           	sec
  2122 06:022A: A0 0A 00     	ldy	#$a
  2123 06:022D: B7 1E        	lda	[<L43+prect_0],Y
  2124 06:022F: E9 10 00     	sbc	#<$10
  Thu Jul 22 2021 22:51                                                Page 46


  2125 06:0232: 70 03        	bvs	L51
  2126 06:0234: 49 00 80     	eor	#$8000
  2127                        L51:
  2128 06:0237: 10 03        	bpl	L52
  2129 06:0239: 82 07 00     	brl	L50
  2130                        L52:
  2131 06:023C: A0 0A 00     	ldy	#$a
  2132 06:023F: B7 1E        	lda	[<L43+prect_0],Y
  2133 06:0241: 80 03        	bra	L53
  2134                        L50:
  2135 06:0243: A9 10 00     	lda	#$10
  2136                        L53:
  2137 06:0246: 85 15        	sta	<L44+ch_1
  2138                        	.line	372
  2139 06:0248: 22 84 01 06  	jsl	~~k_gui_alloc_image_cache_slot
  2140 06:024C: 85 11        	sta	<L44+slot_1
  2141                        ;	if(slot!=-1)
  2142                        	.line	373
  2143                        ;	{
  2144 06:024E: A5 11        	lda	<L44+slot_1
  2145 06:0250: C9 FF FF     	cmp	#<$ffffffff
  2146 06:0253: D0 03        	bne	L54
  2147 06:0255: 82 9B 00     	brl	L10013
  2148                        L54:
  2149                        	.line	374
  2150                        ;		k_vdma_copy_address_ex((LPSTR)(GUI_CACHE
                    _PAGE + GUI_CACHE_PAGE_OFFSET(slot)),
  2151                        	.line	375
  2152                        ;							
                       (LPSTR)(srcVMARelPage  + k_gui_get_pixel_offset(prect->x,
                    prect->y)),
  2153                        ;							
                       cw,ch);
  2154 06:0258: D4 15        	pei	<L44+ch_1
  2155 06:025A: D4 13        	pei	<L44+cw_1
  2156 06:025C: A0 02 00     	ldy	#$2
  2157 06:025F: B7 1E        	lda	[<L43+prect_0],Y
  2158 06:0261: 48           	pha
  2159 06:0262: A7 1E        	lda	[<L43+prect_0]
  2160 06:0264: 48           	pha
  2161 06:0265: 22 B4 07 06  	jsl	~~k_gui_get_pixel_offset
  2162 06:0269: 85 01        	sta	<R0
  2163 06:026B: 86 03        	stx	<R0+2
  2164 06:026D: 18           	clc
  2165 06:026E: A5 01        	lda	<R0
  2166 06:0270: 65 1A        	adc	<L43+srcVMARelPage_0
  2167 06:0272: 85 05        	sta	<R1
  2168 06:0274: A5 03        	lda	<R0+2
  2169 06:0276: 65 1C        	adc	<L43+srcVMARelPage_0+2
  2170 06:0278: 85 07        	sta	<R1+2
  2171 06:027A: D4 07        	pei	<R1+2
  2172 06:027C: D4 05        	pei	<R1
  2173 06:027E: A5 11        	lda	<L44+slot_1
  2174 06:0280: 29 01 00     	and	#<$1
  2175 06:0283: 85 01        	sta	<R0
  2176 06:0285: A5 01        	lda	<R0
  2177 06:0287: 85 01        	sta	<R0
  2178 06:0289: 64 03        	stz	<R0+2
  Thu Jul 22 2021 22:51                                                Page 47


  2179 06:028B: A5 11        	lda	<L44+slot_1
  2180 06:028D: 85 09        	sta	<R2
  2181 06:028F: 64 0B        	stz	<R2+2
  2182 06:0291: 38           	sec
  2183 06:0292: A5 09        	lda	<R2
  2184 06:0294: E5 01        	sbc	<R0
  2185 06:0296: 85 0D        	sta	<R3
  2186 06:0298: A5 0B        	lda	<R2+2
  2187 06:029A: E5 03        	sbc	<R0+2
  2188 06:029C: 85 0F        	sta	<R3+2
  2189 06:029E: F4 00 00     	pea	#^$1400
  2190 06:02A1: F4 00 14     	pea	#<$1400
  2191 06:02A4: D4 0F        	pei	<R3+2
  2192 06:02A6: D4 0D        	pei	<R3
  2193                        	xref	~~~lmul
  2194 06:02A8: 22 xx xx xx  	jsl	~~~lmul
  2195 06:02AC: 85 01        	sta	<R0
  2196 06:02AE: 86 03        	stx	<R0+2
  2197 06:02B0: A5 11        	lda	<L44+slot_1
  2198 06:02B2: 29 01 00     	and	#<$1
  2199 06:02B5: 85 09        	sta	<R2
  2200 06:02B7: A5 09        	lda	<R2
  2201 06:02B9: 85 09        	sta	<R2
  2202 06:02BB: 64 0B        	stz	<R2+2
  2203 06:02BD: F4 00 00     	pea	#^$140
  2204 06:02C0: F4 40 01     	pea	#<$140
  2205 06:02C3: D4 0B        	pei	<R2+2
  2206 06:02C5: D4 09        	pei	<R2
  2207                        	xref	~~~lmul
  2208 06:02C7: 22 xx xx xx  	jsl	~~~lmul
  2209 06:02CB: 85 09        	sta	<R2
  2210 06:02CD: 86 0B        	stx	<R2+2
  2211 06:02CF: 18           	clc
  2212 06:02D0: A5 09        	lda	<R2
  2213 06:02D2: 65 01        	adc	<R0
  2214 06:02D4: 85 0D        	sta	<R3
  2215 06:02D6: A5 0B        	lda	<R2+2
  2216 06:02D8: 65 03        	adc	<R0+2
  2217 06:02DA: 85 0F        	sta	<R3+2
  2218 06:02DC: 18           	clc
  2219 06:02DD: A9 00 00     	lda	#$0
  2220 06:02E0: 65 0D        	adc	<R3
  2221 06:02E2: 85 01        	sta	<R0
  2222 06:02E4: A9 10 00     	lda	#$10
  2223 06:02E7: 65 0F        	adc	<R3+2
  2224 06:02E9: 85 03        	sta	<R0+2
  2225 06:02EB: D4 03        	pei	<R0+2
  2226 06:02ED: D4 01        	pei	<R0
  2227 06:02EF: 22 19 83 06  	jsl	~~k_vdma_copy_address_ex
  2228                        ;	}
  2229                        	.line	378
  2230                        ;
  2231                        ;	k_debug_integer("k_gui_set_image_cache:slot:",sl
                    ot);
  2232                        L10013:
  2233                        	.line	380
  2234 06:02F3: D4 11        	pei	<L44+slot_1
  2235 06:02F5: F4 xx xx     	pea	#^L1
  Thu Jul 22 2021 22:51                                                Page 48


  2236 06:02F8: F4 xx xx     	pea	#<L1
  2237 06:02FB: 22 xx xx xx  	jsl	~~k_debug_integer
  2238                        ;
  2239                        ;	return slot;
  2240                        	.line	382
  2241 06:02FF: A5 11        	lda	<L44+slot_1
  2242                        L55:
  2243 06:0301: A8           	tay
  2244 06:0302: A5 18        	lda	<L43+2
  2245 06:0304: 85 20        	sta	<L43+2+8
  2246 06:0306: A5 17        	lda	<L43+1
  2247 06:0308: 85 1F        	sta	<L43+1+8
  2248 06:030A: 2B           	pld
  2249 06:030B: 3B           	tsc
  2250 06:030C: 18           	clc
  2251 06:030D: 69 1E 00     	adc	#L43+8
  2252 06:0310: 1B           	tcs
  2253 06:0311: 98           	tya
  2254 06:0312: 6B           	rtl
  2255                        ;}
  2256                        	.line	383
  2257                        	.endblock	383
  2258             00000016   L43	equ	22
  2259             00000011   L44	equ	17
  2260 06:0313:              	ends
  2261                        	efunc
  2262                        	.endfunc	383,17,22
  2263                        	.line	383
  2264                        	data
  2265                        L1:
  2266 00:0625: 6B 5F 67 75  	db	$6B,$5F,$67,$75,$69,$5F,$73,$65,$74,$5F,
                    $69,$6D,$61,$67,$65
       00:0629: 69 5F 73 65 
       00:062D: 74 5F 69 6D 
       00:0631: 61 67 65 
  2267 00:0634: 5F 63 61 63  	db	$5F,$63,$61,$63,$68,$65,$3A,$73,$6C,$6F,
                    $74,$3A,$00
       00:0638: 68 65 3A 73 
       00:063C: 6C 6F 74 3A 
       00:0640: 00 
  2268 00:0641:              	ends
  2269                        ;
  2270                        ;BOOL k_gui_get_image_cache(UINT slot,ULONG destVM
                    ARelPage,PRECT prect)
  2271                        ;{
  2272                        	.line	385
  2273                        	.line	386
  2274                        	GFX
  2275                        	xdef	~~k_gui_get_image_cache
  2276                        	func
  2277                        	.function	386
  2278                        ~~k_gui_get_image_cache:
  2279                        	longa	on
  2280                        	longi	on
  2281 06:0313: 3B           	tsc
  2282 06:0314: 38           	sec
  2283 06:0315: E9 1A 00     	sbc	#L57
  2284 06:0318: 1B           	tcs
  Thu Jul 22 2021 22:51                                                Page 49


  2285 06:0319: 0B           	phd
  2286 06:031A: 5B           	tcd
  2287             00000004   slot_0	set	4
  2288             00000006   destVMARelPage_0	set	6
  2289             0000000A   prect_0	set	10
  2290                        	.block	386
  2291                        ;	LPSTR pDst = NULL;
  2292                        ;	int cw;
  2293                        ;	int ch;
  2294                        ;	int clippingOffset = 0;
  2295                        ;
  2296                        ;	if(prect->x < GUI_POINT_LIMIT_X_LO)
  2297             00000000   pDst_1	set	0
  2298             00000004   cw_1	set	4
  2299             00000006   ch_1	set	6
  2300             00000008   clippingOffset_1	set	8
  2301                        	.sym	pDst,0,142,1,32
  2302                        	.sym	cw,4,5,1,16
  2303                        	.sym	ch,6,5,1,16
  2304                        	.sym	clippingOffset,8,5,1,16
  2305                        	.sym	slot,4,16,6,16
  2306                        	.sym	destVMARelPage,6,18,6,32
  2307                        	.sym	prect,10,138,6,32,26
  2308 06:031B: 64 11        	stz	<L58+pDst_1
  2309 06:031D: 64 13        	stz	<L58+pDst_1+2
  2310 06:031F: 64 19        	stz	<L58+clippingOffset_1
  2311                        	.line	392
  2312                        ;	{
  2313 06:0321: A7 24        	lda	[<L57+prect_0]
  2314 06:0323: 30 03        	bmi	L60
  2315 06:0325: 82 72 00     	brl	L10014
  2316                        L60:
  2317                        	.line	393
  2318                        ;		k_debug_integer("k_gui_get_image_cache::
                    x-over:-x:",(int)prect->x);
  2319                        	.line	394
  2320 06:0328: A7 24        	lda	[<L57+prect_0]
  2321 06:032A: 48           	pha
  2322 06:032B: F4 xx xx     	pea	#^L56
  2323 06:032E: F4 xx xx     	pea	#<L56
  2324 06:0331: 22 xx xx xx  	jsl	~~k_debug_integer
  2325                        ;		k_debug_integer("k_gui_get_image_cache::
                    x-over:-width:",(int)prect->width);
  2326                        	.line	395
  2327 06:0335: A0 08 00     	ldy	#$8
  2328 06:0338: B7 24        	lda	[<L57+prect_0],Y
  2329 06:033A: 48           	pha
  2330 06:033B: F4 xx xx     	pea	#^L56+34
  2331 06:033E: F4 xx xx     	pea	#<L56+34
  2332 06:0341: 22 xx xx xx  	jsl	~~k_debug_integer
  2333                        ;		prect->width = (prect->width + prect->x)
                    ;
  2334                        	.line	396
  2335 06:0345: 18           	clc
  2336 06:0346: A0 08 00     	ldy	#$8
  2337 06:0349: B7 24        	lda	[<L57+prect_0],Y
  2338 06:034B: 67 24        	adc	[<L57+prect_0]
  2339 06:034D: A0 08 00     	ldy	#$8
  Thu Jul 22 2021 22:51                                                Page 50


  2340 06:0350: 97 24        	sta	[<L57+prect_0],Y
  2341                        ;
  2342                        ;		if(prect->width < 0)
  2343                        	.line	398
  2344                        ;			return FALSE;
  2345 06:0352: A0 08 00     	ldy	#$8
  2346 06:0355: B7 24        	lda	[<L57+prect_0],Y
  2347 06:0357: 30 03        	bmi	L61
  2348 06:0359: 82 15 00     	brl	L10015
  2349                        L61:
  2350                        	.line	399
  2351 06:035C: A9 00 00     	lda	#$0
  2352                        L62:
  2353 06:035F: A8           	tay
  2354 06:0360: A5 1C        	lda	<L57+2
  2355 06:0362: 85 26        	sta	<L57+2+10
  2356 06:0364: A5 1B        	lda	<L57+1
  2357 06:0366: 85 25        	sta	<L57+1+10
  2358 06:0368: 2B           	pld
  2359 06:0369: 3B           	tsc
  2360 06:036A: 18           	clc
  2361 06:036B: 69 24 00     	adc	#L57+10
  2362 06:036E: 1B           	tcs
  2363 06:036F: 98           	tya
  2364 06:0370: 6B           	rtl
  2365                        ;
  2366                        ;		clippingOffset = (prect->x * (-1));
  2367                        L10015:
  2368                        	.line	401
  2369 06:0371: 38           	sec
  2370 06:0372: A9 00 00     	lda	#$0
  2371 06:0375: E7 24        	sbc	[<L57+prect_0]
  2372 06:0377: 85 19        	sta	<L58+clippingOffset_1
  2373                        ;
  2374                        ;		prect->x =  GUI_POINT_LIMIT_X_LO;
  2375                        	.line	403
  2376 06:0379: A9 00 00     	lda	#$0
  2377 06:037C: 87 24        	sta	[<L57+prect_0]
  2378                        ;		k_debug_integer("k_gui_get_image_cache::
                    x-over:clippingOffset:",clippingOffset);
  2379                        	.line	404
  2380 06:037E: D4 19        	pei	<L58+clippingOffset_1
  2381 06:0380: F4 xx xx     	pea	#^L56+72
  2382 06:0383: F4 xx xx     	pea	#<L56+72
  2383 06:0386: 22 xx xx xx  	jsl	~~k_debug_integer
  2384                        ;		k_debug_integer("k_gui_get_image_cache::
                    x-over:width:",(int)prect->width);
  2385                        	.line	405
  2386 06:038A: A0 08 00     	ldy	#$8
  2387 06:038D: B7 24        	lda	[<L57+prect_0],Y
  2388 06:038F: 48           	pha
  2389 06:0390: F4 xx xx     	pea	#^L56+118
  2390 06:0393: F4 xx xx     	pea	#<L56+118
  2391 06:0396: 22 xx xx xx  	jsl	~~k_debug_integer
  2392                        ;	}
  2393                        	.line	406
  2394                        ;
  2395                        ;	if(prect->y < GUI_POINT_LIMIT_Y_LO)
  Thu Jul 22 2021 22:51                                                Page 51


  2396                        L10014:
  2397                        	.line	408
  2398                        ;	{
  2399 06:039A: A0 02 00     	ldy	#$2
  2400 06:039D: B7 24        	lda	[<L57+prect_0],Y
  2401 06:039F: 30 03        	bmi	L63
  2402 06:03A1: 82 18 00     	brl	L10016
  2403                        L63:
  2404                        	.line	409
  2405                        ;		prect->height = (prect->height + prect->
                    y);
  2406                        	.line	410
  2407 06:03A4: 18           	clc
  2408 06:03A5: A0 0A 00     	ldy	#$a
  2409 06:03A8: B7 24        	lda	[<L57+prect_0],Y
  2410 06:03AA: A0 02 00     	ldy	#$2
  2411 06:03AD: 77 24        	adc	[<L57+prect_0],Y
  2412 06:03AF: A0 0A 00     	ldy	#$a
  2413 06:03B2: 97 24        	sta	[<L57+prect_0],Y
  2414                        ;		prect->y = GUI_POINT_LIMIT_Y_LO;
  2415                        	.line	411
  2416 06:03B4: A9 00 00     	lda	#$0
  2417 06:03B7: A0 02 00     	ldy	#$2
  2418 06:03BA: 97 24        	sta	[<L57+prect_0],Y
  2419                        ;	}
  2420                        	.line	412
  2421                        ;
  2422                        ;	if(prect->x > GUI_POINT_LIMIT_X_HI)
  2423                        L10016:
  2424                        	.line	414
  2425                        ;		prect->x = GUI_POINT_LIMIT_X_HI - 1;
  2426 06:03BC: 38           	sec
  2427 06:03BD: A9 80 02     	lda	#$280
  2428 06:03C0: E7 24        	sbc	[<L57+prect_0]
  2429 06:03C2: 70 03        	bvs	L64
  2430 06:03C4: 49 00 80     	eor	#$8000
  2431                        L64:
  2432 06:03C7: 10 03        	bpl	L65
  2433 06:03C9: 82 05 00     	brl	L10017
  2434                        L65:
  2435                        	.line	415
  2436 06:03CC: A9 7F 02     	lda	#$27f
  2437 06:03CF: 87 24        	sta	[<L57+prect_0]
  2438                        ;
  2439                        ;	if(prect->y > GUI_POINT_LIMIT_Y_HI)
  2440                        L10017:
  2441                        	.line	417
  2442                        ;		prect->y = GUI_POINT_LIMIT_Y_HI - 1;
  2443 06:03D1: 38           	sec
  2444 06:03D2: A9 E0 01     	lda	#$1e0
  2445 06:03D5: A0 02 00     	ldy	#$2
  2446 06:03D8: F7 24        	sbc	[<L57+prect_0],Y
  2447 06:03DA: 70 03        	bvs	L66
  2448 06:03DC: 49 00 80     	eor	#$8000
  2449                        L66:
  2450 06:03DF: 10 03        	bpl	L67
  2451 06:03E1: 82 08 00     	brl	L10018
  2452                        L67:
  Thu Jul 22 2021 22:51                                                Page 52


  2453                        	.line	418
  2454 06:03E4: A9 DF 01     	lda	#$1df
  2455 06:03E7: A0 02 00     	ldy	#$2
  2456 06:03EA: 97 24        	sta	[<L57+prect_0],Y
  2457                        ;
  2458                        ;	if(prect->x + prect->width > GUI_POINT_LIMIT_X_H
                    I)
  2459                        L10018:
  2460                        	.line	420
  2461                        ;	{
  2462 06:03EC: 18           	clc
  2463 06:03ED: A7 24        	lda	[<L57+prect_0]
  2464 06:03EF: A0 08 00     	ldy	#$8
  2465 06:03F2: 77 24        	adc	[<L57+prect_0],Y
  2466 06:03F4: 85 01        	sta	<R0
  2467 06:03F6: 38           	sec
  2468 06:03F7: A9 80 02     	lda	#$280
  2469 06:03FA: E5 01        	sbc	<R0
  2470 06:03FC: 70 03        	bvs	L68
  2471 06:03FE: 49 00 80     	eor	#$8000
  2472                        L68:
  2473 06:0401: 10 03        	bpl	L69
  2474 06:0403: 82 38 00     	brl	L10019
  2475                        L69:
  2476                        	.line	421
  2477                        ;		k_debug_integer("k_gui_get_image_cache::
                    x-over:x:",prect->x);
  2478                        	.line	422
  2479 06:0406: A7 24        	lda	[<L57+prect_0]
  2480 06:0408: 48           	pha
  2481 06:0409: F4 xx xx     	pea	#^L56+155
  2482 06:040C: F4 xx xx     	pea	#<L56+155
  2483 06:040F: 22 xx xx xx  	jsl	~~k_debug_integer
  2484                        ;		k_debug_integer("k_gui_get_image_cache::
                    x-over:width:",prect->width);
  2485                        	.line	423
  2486 06:0413: A0 08 00     	ldy	#$8
  2487 06:0416: B7 24        	lda	[<L57+prect_0],Y
  2488 06:0418: 48           	pha
  2489 06:0419: F4 xx xx     	pea	#^L56+188
  2490 06:041C: F4 xx xx     	pea	#<L56+188
  2491 06:041F: 22 xx xx xx  	jsl	~~k_debug_integer
  2492                        ;
  2493                        ;		prect->width = GUI_POINT_LIMIT_X_HI - pr
                    ect->x;
  2494                        	.line	425
  2495 06:0423: 38           	sec
  2496 06:0424: A9 80 02     	lda	#$280
  2497 06:0427: E7 24        	sbc	[<L57+prect_0]
  2498 06:0429: A0 08 00     	ldy	#$8
  2499 06:042C: 97 24        	sta	[<L57+prect_0],Y
  2500                        ;
  2501                        ;		k_debug_integer("k_gui_get_image_cache::
                    x-over:width:adjusted:",prect->width);
  2502                        	.line	427
  2503 06:042E: A0 08 00     	ldy	#$8
  2504 06:0431: B7 24        	lda	[<L57+prect_0],Y
  2505 06:0433: 48           	pha
  Thu Jul 22 2021 22:51                                                Page 53


  2506 06:0434: F4 xx xx     	pea	#^L56+225
  2507 06:0437: F4 xx xx     	pea	#<L56+225
  2508 06:043A: 22 xx xx xx  	jsl	~~k_debug_integer
  2509                        ;	}
  2510                        	.line	428
  2511                        ;
  2512                        ;	if(prect->y + prect->height > GUI_POINT_LIMIT_Y_
                    HI)
  2513                        L10019:
  2514                        	.line	430
  2515                        ;	{
  2516 06:043E: 18           	clc
  2517 06:043F: A0 02 00     	ldy	#$2
  2518 06:0442: B7 24        	lda	[<L57+prect_0],Y
  2519 06:0444: A0 0A 00     	ldy	#$a
  2520 06:0447: 77 24        	adc	[<L57+prect_0],Y
  2521 06:0449: 85 01        	sta	<R0
  2522 06:044B: 38           	sec
  2523 06:044C: A9 E0 01     	lda	#$1e0
  2524 06:044F: E5 01        	sbc	<R0
  2525 06:0451: 70 03        	bvs	L70
  2526 06:0453: 49 00 80     	eor	#$8000
  2527                        L70:
  2528 06:0456: 10 03        	bpl	L71
  2529 06:0458: 82 3E 00     	brl	L10020
  2530                        L71:
  2531                        	.line	431
  2532                        ;		k_debug_integer("k_gui_get_image_cache::
                    y-over:y:",prect->y);
  2533                        	.line	432
  2534 06:045B: A0 02 00     	ldy	#$2
  2535 06:045E: B7 24        	lda	[<L57+prect_0],Y
  2536 06:0460: 48           	pha
  2537 06:0461: F4 xx xx     	pea	#^L56+271
  2538 06:0464: F4 xx xx     	pea	#<L56+271
  2539 06:0467: 22 xx xx xx  	jsl	~~k_debug_integer
  2540                        ;		k_debug_integer("k_gui_get_image_cache::
                    y-over:height:",prect->height);
  2541                        	.line	433
  2542 06:046B: A0 0A 00     	ldy	#$a
  2543 06:046E: B7 24        	lda	[<L57+prect_0],Y
  2544 06:0470: 48           	pha
  2545 06:0471: F4 xx xx     	pea	#^L56+304
  2546 06:0474: F4 xx xx     	pea	#<L56+304
  2547 06:0477: 22 xx xx xx  	jsl	~~k_debug_integer
  2548                        ;
  2549                        ;		prect->height = GUI_POINT_LIMIT_Y_HI - p
                    rect->y;
  2550                        	.line	435
  2551 06:047B: 38           	sec
  2552 06:047C: A9 E0 01     	lda	#$1e0
  2553 06:047F: A0 02 00     	ldy	#$2
  2554 06:0482: F7 24        	sbc	[<L57+prect_0],Y
  2555 06:0484: A0 0A 00     	ldy	#$a
  2556 06:0487: 97 24        	sta	[<L57+prect_0],Y
  2557                        ;
  2558                        ;		k_debug_integer("k_gui_get_image_cache::
                    y-over:height:adjusted:",prect->height);
  Thu Jul 22 2021 22:51                                                Page 54


  2559                        	.line	437
  2560 06:0489: A0 0A 00     	ldy	#$a
  2561 06:048C: B7 24        	lda	[<L57+prect_0],Y
  2562 06:048E: 48           	pha
  2563 06:048F: F4 xx xx     	pea	#^L56+342
  2564 06:0492: F4 xx xx     	pea	#<L56+342
  2565 06:0495: 22 xx xx xx  	jsl	~~k_debug_integer
  2566                        ;	}
  2567                        	.line	438
  2568                        ;
  2569                        ;
  2570                        ;	cw = (prect->width < GUI_CACHE_WIDTH ) ? prect->
                    width  : GUI_CACHE_WIDTH;
  2571                        L10020:
  2572                        	.line	441
  2573 06:0499: 38           	sec
  2574 06:049A: A0 08 00     	ldy	#$8
  2575 06:049D: B7 24        	lda	[<L57+prect_0],Y
  2576 06:049F: E9 40 01     	sbc	#<$140
  2577 06:04A2: 70 03        	bvs	L73
  2578 06:04A4: 49 00 80     	eor	#$8000
  2579                        L73:
  2580 06:04A7: 10 03        	bpl	L74
  2581 06:04A9: 82 07 00     	brl	L72
  2582                        L74:
  2583 06:04AC: A0 08 00     	ldy	#$8
  2584 06:04AF: B7 24        	lda	[<L57+prect_0],Y
  2585 06:04B1: 80 03        	bra	L75
  2586                        L72:
  2587 06:04B3: A9 40 01     	lda	#$140
  2588                        L75:
  2589 06:04B6: 85 15        	sta	<L58+cw_1
  2590                        ;	ch = (prect->height< GUI_CACHE_HEIGHT) ? prect->
                    height : GUI_CACHE_HEIGHT;
  2591                        	.line	442
  2592 06:04B8: 38           	sec
  2593 06:04B9: A0 0A 00     	ldy	#$a
  2594 06:04BC: B7 24        	lda	[<L57+prect_0],Y
  2595 06:04BE: E9 10 00     	sbc	#<$10
  2596 06:04C1: 70 03        	bvs	L77
  2597 06:04C3: 49 00 80     	eor	#$8000
  2598                        L77:
  2599 06:04C6: 10 03        	bpl	L78
  2600 06:04C8: 82 07 00     	brl	L76
  2601                        L78:
  2602 06:04CB: A0 0A 00     	ldy	#$a
  2603 06:04CE: B7 24        	lda	[<L57+prect_0],Y
  2604 06:04D0: 80 03        	bra	L79
  2605                        L76:
  2606 06:04D2: A9 10 00     	lda	#$10
  2607                        L79:
  2608 06:04D5: 85 17        	sta	<L58+ch_1
  2609                        ;
  2610                        ;
  2611                        ;	if(slot < GUI_CACHE_SIZE)
  2612                        	.line	445
  2613                        ;	{
  2614 06:04D7: A5 1E        	lda	<L57+slot_0
  Thu Jul 22 2021 22:51                                                Page 55


  2615 06:04D9: C9 3C 00     	cmp	#<$3c
  2616 06:04DC: 90 03        	bcc	L80
  2617 06:04DE: 82 CD 00     	brl	L10021
  2618                        L80:
  2619                        	.line	446
  2620                        ;		if(slot < GUI_CACHE_START)
  2621                        	.line	447
  2622                        ;		{
  2623 06:04E1: A5 1E        	lda	<L57+slot_0
  2624 06:04E3: C9 04 00     	cmp	#<$4
  2625 06:04E6: 90 03        	bcc	L81
  2626 06:04E8: 82 07 00     	brl	L10022
  2627                        L81:
  2628                        	.line	448
  2629                        ;			cw = prect->width;
  2630                        	.line	449
  2631 06:04EB: A0 08 00     	ldy	#$8
  2632 06:04EE: B7 24        	lda	[<L57+prect_0],Y
  2633 06:04F0: 85 15        	sta	<L58+cw_1
  2634                        ;		}
  2635                        	.line	450
  2636                        ;		//k_debug_integer("k_gui_get_image_cache
                    ::slot:",slot);
  2637                        ;		//k_debug_integer("k_gui_get_image_cache
                    ::cw:",cw);
  2638                        ;		//k_debug_integer("k_gui_get_image_cache
                    ::ch:",ch);
  2639                        ;
  2640                        ;		pDst = (LPSTR)(destVMARelPage + k_gui_ge
                    t_pixel_offset(prect->x,prect->y));
  2641                        L10022:
  2642                        	.line	455
  2643 06:04F2: A0 02 00     	ldy	#$2
  2644 06:04F5: B7 24        	lda	[<L57+prect_0],Y
  2645 06:04F7: 48           	pha
  2646 06:04F8: A7 24        	lda	[<L57+prect_0]
  2647 06:04FA: 48           	pha
  2648 06:04FB: 22 B4 07 06  	jsl	~~k_gui_get_pixel_offset
  2649 06:04FF: 85 01        	sta	<R0
  2650 06:0501: 86 03        	stx	<R0+2
  2651 06:0503: 18           	clc
  2652 06:0504: A5 01        	lda	<R0
  2653 06:0506: 65 20        	adc	<L57+destVMARelPage_0
  2654 06:0508: 85 05        	sta	<R1
  2655 06:050A: A5 03        	lda	<R0+2
  2656 06:050C: 65 22        	adc	<L57+destVMARelPage_0+2
  2657 06:050E: 85 07        	sta	<R1+2
  2658 06:0510: A5 05        	lda	<R1
  2659 06:0512: 85 11        	sta	<L58+pDst_1
  2660 06:0514: A5 07        	lda	<R1+2
  2661 06:0516: 85 13        	sta	<L58+pDst_1+2
  2662                        ;
  2663                        ;		//k_debug_pointer("k_gui_get_image_cache
                    ::pDst:",pDst);
  2664                        ;
  2665                        ;		k_vdma_copy_address_ex(pDst,
  2666                        	.line	459
  2667                        ;							
  Thu Jul 22 2021 22:51                                                Page 56


                       (LPSTR)(GUI_CACHE_PAGE + (GUI_CACHE_PAGE_OFFSET(slot) + c
                    lippingOffset)),
  2668                        ;							
                       cw,ch);
  2669 06:0518: D4 17        	pei	<L58+ch_1
  2670 06:051A: D4 15        	pei	<L58+cw_1
  2671 06:051C: A0 00 00     	ldy	#$0
  2672 06:051F: A5 19        	lda	<L58+clippingOffset_1
  2673 06:0521: 10 01        	bpl	L82
  2674 06:0523: 88           	dey
  2675                        L82:
  2676 06:0524: 85 01        	sta	<R0
  2677 06:0526: 84 03        	sty	<R0+2
  2678 06:0528: A5 1E        	lda	<L57+slot_0
  2679 06:052A: 29 01 00     	and	#<$1
  2680 06:052D: 85 05        	sta	<R1
  2681 06:052F: A5 05        	lda	<R1
  2682 06:0531: 85 05        	sta	<R1
  2683 06:0533: 64 07        	stz	<R1+2
  2684 06:0535: A5 1E        	lda	<L57+slot_0
  2685 06:0537: 85 09        	sta	<R2
  2686 06:0539: 64 0B        	stz	<R2+2
  2687 06:053B: 38           	sec
  2688 06:053C: A5 09        	lda	<R2
  2689 06:053E: E5 05        	sbc	<R1
  2690 06:0540: 85 0D        	sta	<R3
  2691 06:0542: A5 0B        	lda	<R2+2
  2692 06:0544: E5 07        	sbc	<R1+2
  2693 06:0546: 85 0F        	sta	<R3+2
  2694 06:0548: F4 00 00     	pea	#^$1400
  2695 06:054B: F4 00 14     	pea	#<$1400
  2696 06:054E: D4 0F        	pei	<R3+2
  2697 06:0550: D4 0D        	pei	<R3
  2698                        	xref	~~~lmul
  2699 06:0552: 22 xx xx xx  	jsl	~~~lmul
  2700 06:0556: 85 05        	sta	<R1
  2701 06:0558: 86 07        	stx	<R1+2
  2702 06:055A: A5 1E        	lda	<L57+slot_0
  2703 06:055C: 29 01 00     	and	#<$1
  2704 06:055F: 85 09        	sta	<R2
  2705 06:0561: A5 09        	lda	<R2
  2706 06:0563: 85 09        	sta	<R2
  2707 06:0565: 64 0B        	stz	<R2+2
  2708 06:0567: F4 00 00     	pea	#^$140
  2709 06:056A: F4 40 01     	pea	#<$140
  2710 06:056D: D4 0B        	pei	<R2+2
  2711 06:056F: D4 09        	pei	<R2
  2712                        	xref	~~~lmul
  2713 06:0571: 22 xx xx xx  	jsl	~~~lmul
  2714 06:0575: 85 09        	sta	<R2
  2715 06:0577: 86 0B        	stx	<R2+2
  2716 06:0579: 18           	clc
  2717 06:057A: A5 09        	lda	<R2
  2718 06:057C: 65 05        	adc	<R1
  2719 06:057E: 85 0D        	sta	<R3
  2720 06:0580: A5 0B        	lda	<R2+2
  2721 06:0582: 65 07        	adc	<R1+2
  2722 06:0584: 85 0F        	sta	<R3+2
  Thu Jul 22 2021 22:51                                                Page 57


  2723 06:0586: 18           	clc
  2724 06:0587: A5 0D        	lda	<R3
  2725 06:0589: 65 01        	adc	<R0
  2726 06:058B: 85 05        	sta	<R1
  2727 06:058D: A5 0F        	lda	<R3+2
  2728 06:058F: 65 03        	adc	<R0+2
  2729 06:0591: 85 07        	sta	<R1+2
  2730 06:0593: 18           	clc
  2731 06:0594: A9 00 00     	lda	#$0
  2732 06:0597: 65 05        	adc	<R1
  2733 06:0599: 85 01        	sta	<R0
  2734 06:059B: A9 10 00     	lda	#$10
  2735 06:059E: 65 07        	adc	<R1+2
  2736 06:05A0: 85 03        	sta	<R0+2
  2737 06:05A2: D4 03        	pei	<R0+2
  2738 06:05A4: D4 01        	pei	<R0
  2739 06:05A6: D4 13        	pei	<L58+pDst_1+2
  2740 06:05A8: D4 11        	pei	<L58+pDst_1
  2741 06:05AA: 22 19 83 06  	jsl	~~k_vdma_copy_address_ex
  2742                        ;	}
  2743                        	.line	462
  2744                        ;
  2745                        ;	return TRUE;
  2746                        L10021:
  2747                        	.line	464
  2748 06:05AE: A9 01 00     	lda	#$1
  2749 06:05B1: 82 AB FD     	brl	L62
  2750                        ;}
  2751                        	.line	465
  2752                        	.endblock	465
  2753             0000001A   L57	equ	26
  2754             00000011   L58	equ	17
  2755 06:05B4:              	ends
  2756                        	efunc
  2757                        	.endfunc	465,17,26
  2758                        	.line	465
  2759                        	data
  2760                        L56:
  2761 00:0641: 6B 5F 67 75  	db	$6B,$5F,$67,$75,$69,$5F,$67,$65,$74,$5F,
                    $69,$6D,$61,$67,$65
       00:0645: 69 5F 67 65 
       00:0649: 74 5F 69 6D 
       00:064D: 61 67 65 
  2762 00:0650: 5F 63 61 63  	db	$5F,$63,$61,$63,$68,$65,$3A,$3A,$78,$2D,
                    $6F,$76,$65,$72,$3A
       00:0654: 68 65 3A 3A 
       00:0658: 78 2D 6F 76 
       00:065C: 65 72 3A 
  2763 00:065F: 2D 78 3A 00  	db	$2D,$78,$3A,$00,$6B,$5F,$67,$75,$69,$5F,
                    $67,$65,$74,$5F,$69
       00:0663: 6B 5F 67 75 
       00:0667: 69 5F 67 65 
       00:066B: 74 5F 69 
  2764 00:066E: 6D 61 67 65  	db	$6D,$61,$67,$65,$5F,$63,$61,$63,$68,$65,
                    $3A,$3A,$78,$2D,$6F
       00:0672: 5F 63 61 63 
       00:0676: 68 65 3A 3A 
       00:067A: 78 2D 6F 
  Thu Jul 22 2021 22:51                                                Page 58


  2765 00:067D: 76 65 72 3A  	db	$76,$65,$72,$3A,$2D,$77,$69,$64,$74,$68,
                    $3A,$00,$6B,$5F,$67
       00:0681: 2D 77 69 64 
       00:0685: 74 68 3A 00 
       00:0689: 6B 5F 67 
  2766 00:068C: 75 69 5F 67  	db	$75,$69,$5F,$67,$65,$74,$5F,$69,$6D,$61,
                    $67,$65,$5F,$63,$61
       00:0690: 65 74 5F 69 
       00:0694: 6D 61 67 65 
       00:0698: 5F 63 61 
  2767 00:069B: 63 68 65 3A  	db	$63,$68,$65,$3A,$3A,$78,$2D,$6F,$76,$65,
                    $72,$3A,$63,$6C,$69
       00:069F: 3A 78 2D 6F 
       00:06A3: 76 65 72 3A 
       00:06A7: 63 6C 69 
  2768 00:06AA: 70 70 69 6E  	db	$70,$70,$69,$6E,$67,$4F,$66,$66,$73,$65,
                    $74,$3A,$00,$6B,$5F
       00:06AE: 67 4F 66 66 
       00:06B2: 73 65 74 3A 
       00:06B6: 00 6B 5F 
  2769 00:06B9: 67 75 69 5F  	db	$67,$75,$69,$5F,$67,$65,$74,$5F,$69,$6D,
                    $61,$67,$65,$5F,$63
       00:06BD: 67 65 74 5F 
       00:06C1: 69 6D 61 67 
       00:06C5: 65 5F 63 
  2770 00:06C8: 61 63 68 65  	db	$61,$63,$68,$65,$3A,$3A,$78,$2D,$6F,$76,
                    $65,$72,$3A,$77,$69
       00:06CC: 3A 3A 78 2D 
       00:06D0: 6F 76 65 72 
       00:06D4: 3A 77 69 
  2771 00:06D7: 64 74 68 3A  	db	$64,$74,$68,$3A,$00,$6B,$5F,$67,$75,$69,
                    $5F,$67,$65,$74,$5F
       00:06DB: 00 6B 5F 67 
       00:06DF: 75 69 5F 67 
       00:06E3: 65 74 5F 
  2772 00:06E6: 69 6D 61 67  	db	$69,$6D,$61,$67,$65,$5F,$63,$61,$63,$68,
                    $65,$3A,$3A,$78,$2D
       00:06EA: 65 5F 63 61 
       00:06EE: 63 68 65 3A 
       00:06F2: 3A 78 2D 
  2773 00:06F5: 6F 76 65 72  	db	$6F,$76,$65,$72,$3A,$78,$3A,$00,$6B,$5F,
                    $67,$75,$69,$5F,$67
       00:06F9: 3A 78 3A 00 
       00:06FD: 6B 5F 67 75 
       00:0701: 69 5F 67 
  2774 00:0704: 65 74 5F 69  	db	$65,$74,$5F,$69,$6D,$61,$67,$65,$5F,$63,
                    $61,$63,$68,$65,$3A
       00:0708: 6D 61 67 65 
       00:070C: 5F 63 61 63 
       00:0710: 68 65 3A 
  2775 00:0713: 3A 78 2D 6F  	db	$3A,$78,$2D,$6F,$76,$65,$72,$3A,$77,$69,
                    $64,$74,$68,$3A,$00
       00:0717: 76 65 72 3A 
       00:071B: 77 69 64 74 
       00:071F: 68 3A 00 
  2776 00:0722: 6B 5F 67 75  	db	$6B,$5F,$67,$75,$69,$5F,$67,$65,$74,$5F,
                    $69,$6D,$61,$67,$65
       00:0726: 69 5F 67 65 
  Thu Jul 22 2021 22:51                                                Page 59


       00:072A: 74 5F 69 6D 
       00:072E: 61 67 65 
  2777 00:0731: 5F 63 61 63  	db	$5F,$63,$61,$63,$68,$65,$3A,$3A,$78,$2D,
                    $6F,$76,$65,$72,$3A
       00:0735: 68 65 3A 3A 
       00:0739: 78 2D 6F 76 
       00:073D: 65 72 3A 
  2778 00:0740: 77 69 64 74  	db	$77,$69,$64,$74,$68,$3A,$61,$64,$6A,$75,
                    $73,$74,$65,$64,$3A
       00:0744: 68 3A 61 64 
       00:0748: 6A 75 73 74 
       00:074C: 65 64 3A 
  2779 00:074F: 00 6B 5F 67  	db	$00,$6B,$5F,$67,$75,$69,$5F,$67,$65,$74,
                    $5F,$69,$6D,$61,$67
       00:0753: 75 69 5F 67 
       00:0757: 65 74 5F 69 
       00:075B: 6D 61 67 
  2780 00:075E: 65 5F 63 61  	db	$65,$5F,$63,$61,$63,$68,$65,$3A,$3A,$79,
                    $2D,$6F,$76,$65,$72
       00:0762: 63 68 65 3A 
       00:0766: 3A 79 2D 6F 
       00:076A: 76 65 72 
  2781 00:076D: 3A 79 3A 00  	db	$3A,$79,$3A,$00,$6B,$5F,$67,$75,$69,$5F,
                    $67,$65,$74,$5F,$69
       00:0771: 6B 5F 67 75 
       00:0775: 69 5F 67 65 
       00:0779: 74 5F 69 
  2782 00:077C: 6D 61 67 65  	db	$6D,$61,$67,$65,$5F,$63,$61,$63,$68,$65,
                    $3A,$3A,$79,$2D,$6F
       00:0780: 5F 63 61 63 
       00:0784: 68 65 3A 3A 
       00:0788: 79 2D 6F 
  2783 00:078B: 76 65 72 3A  	db	$76,$65,$72,$3A,$68,$65,$69,$67,$68,$74,
                    $3A,$00,$6B,$5F,$67
       00:078F: 68 65 69 67 
       00:0793: 68 74 3A 00 
       00:0797: 6B 5F 67 
  2784 00:079A: 75 69 5F 67  	db	$75,$69,$5F,$67,$65,$74,$5F,$69,$6D,$61,
                    $67,$65,$5F,$63,$61
       00:079E: 65 74 5F 69 
       00:07A2: 6D 61 67 65 
       00:07A6: 5F 63 61 
  2785 00:07A9: 63 68 65 3A  	db	$63,$68,$65,$3A,$3A,$79,$2D,$6F,$76,$65,
                    $72,$3A,$68,$65,$69
       00:07AD: 3A 79 2D 6F 
       00:07B1: 76 65 72 3A 
       00:07B5: 68 65 69 
  2786 00:07B8: 67 68 74 3A  	db	$67,$68,$74,$3A,$61,$64,$6A,$75,$73,$74,
                    $65,$64,$3A,$00
       00:07BC: 61 64 6A 75 
       00:07C0: 73 74 65 64 
       00:07C4: 3A 00 
  2787 00:07C6:              	ends
  2788                        ;
  2789                        ;void k_copy_rect(PRECT psrc,PRECT pdst)
  2790                        ;{
  2791                        	.line	467
  2792                        	.line	468
  Thu Jul 22 2021 22:51                                                Page 60


  2793                        	GFX
  2794                        	xdef	~~k_copy_rect
  2795                        	func
  2796                        	.function	468
  2797                        ~~k_copy_rect:
  2798                        	longa	on
  2799                        	longi	on
  2800 06:05B4: 3B           	tsc
  2801 06:05B5: 38           	sec
  2802 06:05B6: E9 00 00     	sbc	#L84
  2803 06:05B9: 1B           	tcs
  2804 06:05BA: 0B           	phd
  2805 06:05BB: 5B           	tcd
  2806             00000004   psrc_0	set	4
  2807             00000008   pdst_0	set	8
  2808                        	.block	468
  2809                        ;	if(psrc && pdst)
  2810                        	.sym	psrc,4,138,6,32,26
  2811                        	.sym	pdst,8,138,6,32,26
  2812                        	.line	469
  2813                        ;	{
  2814 06:05BC: A5 04        	lda	<L84+psrc_0
  2815 06:05BE: 05 06        	ora	<L84+psrc_0+2
  2816 06:05C0: D0 03        	bne	L87
  2817 06:05C2: 82 2B 00     	brl	L10023
  2818                        L87:
  2819 06:05C5: A5 08        	lda	<L84+pdst_0
  2820 06:05C7: 05 0A        	ora	<L84+pdst_0+2
  2821 06:05C9: D0 03        	bne	L88
  2822 06:05CB: 82 22 00     	brl	L10023
  2823                        L88:
  2824                        	.line	470
  2825                        ;		pdst->x  	  = psrc->x;
  2826                        	.line	471
  2827 06:05CE: A7 04        	lda	[<L84+psrc_0]
  2828 06:05D0: 87 08        	sta	[<L84+pdst_0]
  2829                        ;		pdst->y 	  = psrc->y;
  2830                        	.line	472
  2831 06:05D2: A0 02 00     	ldy	#$2
  2832 06:05D5: B7 04        	lda	[<L84+psrc_0],Y
  2833 06:05D7: A0 02 00     	ldy	#$2
  2834 06:05DA: 97 08        	sta	[<L84+pdst_0],Y
  2835                        ;		pdst->width  =	psrc->width;
  2836                        	.line	473
  2837 06:05DC: A0 08 00     	ldy	#$8
  2838 06:05DF: B7 04        	lda	[<L84+psrc_0],Y
  2839 06:05E1: A0 08 00     	ldy	#$8
  2840 06:05E4: 97 08        	sta	[<L84+pdst_0],Y
  2841                        ;		pdst->height =	psrc->height;
  2842                        	.line	474
  2843 06:05E6: A0 0A 00     	ldy	#$a
  2844 06:05E9: B7 04        	lda	[<L84+psrc_0],Y
  2845 06:05EB: A0 0A 00     	ldy	#$a
  2846 06:05EE: 97 08        	sta	[<L84+pdst_0],Y
  2847                        ;	}
  2848                        	.line	475
  2849                        ;}
  2850                        L10023:
  Thu Jul 22 2021 22:51                                                Page 61


  2851                        	.line	476
  2852                        L89:
  2853 06:05F0: A5 02        	lda	<L84+2
  2854 06:05F2: 85 0A        	sta	<L84+2+8
  2855 06:05F4: A5 01        	lda	<L84+1
  2856 06:05F6: 85 09        	sta	<L84+1+8
  2857 06:05F8: 2B           	pld
  2858 06:05F9: 3B           	tsc
  2859 06:05FA: 18           	clc
  2860 06:05FB: 69 08 00     	adc	#L84+8
  2861 06:05FE: 1B           	tcs
  2862 06:05FF: 6B           	rtl
  2863                        	.endblock	476
  2864             00000000   L84	equ	0
  2865             00000001   L85	equ	1
  2866 06:0600:              	ends
  2867                        	efunc
  2868                        	.endfunc	476,1,0
  2869                        	.line	476
  2870                        ;
  2871                        ;void k_set_rect(PRECT prect,int x,int y, int widt
                    h,int height)
  2872                        ;{
  2873                        	.line	478
  2874                        	.line	479
  2875                        	GFX
  2876                        	xdef	~~k_set_rect
  2877                        	func
  2878                        	.function	479
  2879                        ~~k_set_rect:
  2880                        	longa	on
  2881                        	longi	on
  2882 06:0600: 3B           	tsc
  2883 06:0601: 38           	sec
  2884 06:0602: E9 00 00     	sbc	#L90
  2885 06:0605: 1B           	tcs
  2886 06:0606: 0B           	phd
  2887 06:0607: 5B           	tcd
  2888             00000004   prect_0	set	4
  2889             00000008   x_0	set	8
  2890             0000000A   y_0	set	10
  2891             0000000C   width_0	set	12
  2892             0000000E   height_0	set	14
  2893                        	.block	479
  2894                        ;	if(prect)
  2895                        	.sym	prect,4,138,6,32,26
  2896                        	.sym	x,8,5,6,16
  2897                        	.sym	y,10,5,6,16
  2898                        	.sym	width,12,5,6,16
  2899                        	.sym	height,14,5,6,16
  2900                        	.line	480
  2901                        ;	{
  2902 06:0608: A5 04        	lda	<L90+prect_0
  2903 06:060A: 05 06        	ora	<L90+prect_0+2
  2904 06:060C: D0 03        	bne	L93
  2905 06:060E: 82 19 00     	brl	L10024
  2906                        L93:
  2907                        	.line	481
  Thu Jul 22 2021 22:51                                                Page 62


  2908                        ;		prect->x = x;
  2909                        	.line	482
  2910 06:0611: A5 08        	lda	<L90+x_0
  2911 06:0613: 87 04        	sta	[<L90+prect_0]
  2912                        ;		prect->y = y;
  2913                        	.line	483
  2914 06:0615: A5 0A        	lda	<L90+y_0
  2915 06:0617: A0 02 00     	ldy	#$2
  2916 06:061A: 97 04        	sta	[<L90+prect_0],Y
  2917                        ;		prect->width = width;
  2918                        	.line	484
  2919 06:061C: A5 0C        	lda	<L90+width_0
  2920 06:061E: A0 08 00     	ldy	#$8
  2921 06:0621: 97 04        	sta	[<L90+prect_0],Y
  2922                        ;		prect->height = height;
  2923                        	.line	485
  2924 06:0623: A5 0E        	lda	<L90+height_0
  2925 06:0625: A0 0A 00     	ldy	#$a
  2926 06:0628: 97 04        	sta	[<L90+prect_0],Y
  2927                        ;	}
  2928                        	.line	486
  2929                        ;}
  2930                        L10024:
  2931                        	.line	487
  2932                        L94:
  2933 06:062A: A5 02        	lda	<L90+2
  2934 06:062C: 85 0E        	sta	<L90+2+12
  2935 06:062E: A5 01        	lda	<L90+1
  2936 06:0630: 85 0D        	sta	<L90+1+12
  2937 06:0632: 2B           	pld
  2938 06:0633: 3B           	tsc
  2939 06:0634: 18           	clc
  2940 06:0635: 69 0C 00     	adc	#L90+12
  2941 06:0638: 1B           	tcs
  2942 06:0639: 6B           	rtl
  2943                        	.endblock	487
  2944             00000000   L90	equ	0
  2945             00000001   L91	equ	1
  2946 06:063A:              	ends
  2947                        	efunc
  2948                        	.endfunc	487,1,0
  2949                        	.line	487
  2950                        ;
  2951                        ;
  2952                        ;INT k_is_overlapped_rect(PRECT r1,PRECT r2)
  2953                        ;{
  2954                        	.line	490
  2955                        	.line	491
  2956                        	GFX
  2957                        	xdef	~~k_is_overlapped_rect
  2958                        	func
  2959                        	.function	491
  2960                        ~~k_is_overlapped_rect:
  2961                        	longa	on
  2962                        	longi	on
  2963 06:063A: 3B           	tsc
  2964 06:063B: 38           	sec
  2965 06:063C: E9 10 00     	sbc	#L95
  Thu Jul 22 2021 22:51                                                Page 63


  2966 06:063F: 1B           	tcs
  2967 06:0640: 0B           	phd
  2968 06:0641: 5B           	tcd
  2969             00000004   r1_0	set	4
  2970             00000008   r2_0	set	8
  2971                        	.block	491
  2972                        ;	POINT rLeft1;
  2973                        ;	POINT rRight1;
  2974                        ;	POINT rLeft2;
  2975                        ;	POINT rRight2;
  2976                        ;
  2977                        ;	rLeft1.x = r1->x;
  2978             00000000   rLeft1_1	set	0
  2979             00000004   rRight1_1	set	4
  2980             00000008   rLeft2_1	set	8
  2981             0000000C   rRight2_1	set	12
  2982                        	.sym	rLeft1,0,10,1,32,25
  2983                        	.sym	rRight1,4,10,1,32,25
  2984                        	.sym	rLeft2,8,10,1,32,25
  2985                        	.sym	rRight2,12,10,1,32,25
  2986                        	.sym	r1,4,138,6,32,26
  2987                        	.sym	r2,8,138,6,32,26
  2988                        	.line	497
  2989 06:0642: A7 14        	lda	[<L95+r1_0]
  2990 06:0644: 85 01        	sta	<L96+rLeft1_1
  2991                        ;	rLeft1.y = r1->y;
  2992                        	.line	498
  2993 06:0646: A0 02 00     	ldy	#$2
  2994 06:0649: B7 14        	lda	[<L95+r1_0],Y
  2995 06:064B: 85 03        	sta	<L96+rLeft1_1+2
  2996                        ;	rRight1.x = r1->x + r1->width;
  2997                        	.line	499
  2998 06:064D: 18           	clc
  2999 06:064E: A7 14        	lda	[<L95+r1_0]
  3000 06:0650: A0 08 00     	ldy	#$8
  3001 06:0653: 77 14        	adc	[<L95+r1_0],Y
  3002 06:0655: 85 05        	sta	<L96+rRight1_1
  3003                        ;	rRight1.y = r1->y + r1->height;
  3004                        	.line	500
  3005 06:0657: 18           	clc
  3006 06:0658: A0 02 00     	ldy	#$2
  3007 06:065B: B7 14        	lda	[<L95+r1_0],Y
  3008 06:065D: A0 0A 00     	ldy	#$a
  3009 06:0660: 77 14        	adc	[<L95+r1_0],Y
  3010 06:0662: 85 07        	sta	<L96+rRight1_1+2
  3011                        ;
  3012                        ;	rLeft2.x = r2->x;
  3013                        	.line	502
  3014 06:0664: A7 18        	lda	[<L95+r2_0]
  3015 06:0666: 85 09        	sta	<L96+rLeft2_1
  3016                        ;	rLeft2.y = r2->y;
  3017                        	.line	503
  3018 06:0668: A0 02 00     	ldy	#$2
  3019 06:066B: B7 18        	lda	[<L95+r2_0],Y
  3020 06:066D: 85 0B        	sta	<L96+rLeft2_1+2
  3021                        ;	rRight2.x = r2->x + r2->width;
  3022                        	.line	504
  3023 06:066F: 18           	clc
  Thu Jul 22 2021 22:51                                                Page 64


  3024 06:0670: A7 18        	lda	[<L95+r2_0]
  3025 06:0672: A0 08 00     	ldy	#$8
  3026 06:0675: 77 18        	adc	[<L95+r2_0],Y
  3027 06:0677: 85 0D        	sta	<L96+rRight2_1
  3028                        ;	rRight2.y = r2->y + r2->height;
  3029                        	.line	505
  3030 06:0679: 18           	clc
  3031 06:067A: A0 02 00     	ldy	#$2
  3032 06:067D: B7 18        	lda	[<L95+r2_0],Y
  3033 06:067F: A0 0A 00     	ldy	#$a
  3034 06:0682: 77 18        	adc	[<L95+r2_0],Y
  3035 06:0684: 85 0F        	sta	<L96+rRight2_1+2
  3036                        ;
  3037                        ;	//k_debug_rect("k_is_overlapped_rect::r1:",r1);
  3038                        ;//	k_debug_rect("k_is_overlapped_rect::r2:"
                    ,r2);
  3039                        ;
  3040                        ;	//k_debug_integer("A:",k_is_overlapped_rect_poin
                    ts(&rLeft1,&rRight1,&rLeft2,&rRight2));
  3041                        ;	//k_debug_integer("B:",k_is_overlapped_rect_poin
                    ts(&rLeft2,&rRight2,&rLeft1,&rRight1));
  3042                        ;
  3043                        ;	return k_is_overlapped_rect_points(&rLeft1,&rRig
                    ht1,&rLeft2,&rRight2);
  3044                        	.line	513
  3045 06:0686: F4 00 00     	pea	#0
  3046 06:0689: 18           	clc
  3047 06:068A: 7B           	tdc
  3048 06:068B: 69 0D 00     	adc	#<L96+rRight2_1
  3049 06:068E: 48           	pha
  3050 06:068F: F4 00 00     	pea	#0
  3051 06:0692: 18           	clc
  3052 06:0693: 7B           	tdc
  3053 06:0694: 69 09 00     	adc	#<L96+rLeft2_1
  3054 06:0697: 48           	pha
  3055 06:0698: F4 00 00     	pea	#0
  3056 06:069B: 18           	clc
  3057 06:069C: 7B           	tdc
  3058 06:069D: 69 05 00     	adc	#<L96+rRight1_1
  3059 06:06A0: 48           	pha
  3060 06:06A1: F4 00 00     	pea	#0
  3061 06:06A4: 18           	clc
  3062 06:06A5: 7B           	tdc
  3063 06:06A6: 69 01 00     	adc	#<L96+rLeft1_1
  3064 06:06A9: 48           	pha
  3065 06:06AA: 22 C0 06 06  	jsl	~~k_is_overlapped_rect_points
  3066                        L98:
  3067 06:06AE: A8           	tay
  3068 06:06AF: A5 12        	lda	<L95+2
  3069 06:06B1: 85 1A        	sta	<L95+2+8
  3070 06:06B3: A5 11        	lda	<L95+1
  3071 06:06B5: 85 19        	sta	<L95+1+8
  3072 06:06B7: 2B           	pld
  3073 06:06B8: 3B           	tsc
  3074 06:06B9: 18           	clc
  3075 06:06BA: 69 18 00     	adc	#L95+8
  3076 06:06BD: 1B           	tcs
  3077 06:06BE: 98           	tya
  Thu Jul 22 2021 22:51                                                Page 65


  3078 06:06BF: 6B           	rtl
  3079                        ;}
  3080                        	.line	514
  3081                        	.endblock	514
  3082             00000010   L95	equ	16
  3083             00000001   L96	equ	1
  3084 06:06C0:              	ends
  3085                        	efunc
  3086                        	.endfunc	514,1,16
  3087                        	.line	514
  3088                        ;
  3089                        ;// Returns true if two rectangles (l1, r1) and (l
                    2, r2) overlap
  3090                        ;INT k_is_overlapped_rect_points(PPOINT left1, PPO
                    INT right1, PPOINT left2, PPOINT right2)
  3091                        ;{
  3092                        	.line	517
  3093                        	.line	518
  3094                        	GFX
  3095                        	xdef	~~k_is_overlapped_rect_points
  3096                        	func
  3097                        	.function	518
  3098                        ~~k_is_overlapped_rect_points:
  3099                        	longa	on
  3100                        	longi	on
  3101 06:06C0: 3B           	tsc
  3102 06:06C1: 38           	sec
  3103 06:06C2: E9 00 00     	sbc	#L99
  3104 06:06C5: 1B           	tcs
  3105 06:06C6: 0B           	phd
  3106 06:06C7: 5B           	tcd
  3107             00000004   left1_0	set	4
  3108             00000008   right1_0	set	8
  3109             0000000C   left2_0	set	12
  3110             00000010   right2_0	set	16
  3111                        	.block	518
  3112                        ;	// If one rectangle is on left side of other
  3113                        ;	// (l1.x > r2.x) this happens when the first rec
                    tangle(l1,r1) is totally on the right of the second rectangl
                    e(l2,r2).
  3114                        ;	// (l2.x > r1.x) this happens when the second re
                    ctangle(l2,r2) is totally on the right of the first rectangl
                    e(l1,r1).
  3115                        ;	//k_debug_integer("k_is_overlapped_rect_points::
                    condition1:left1->x >= right2->x:",left1->x >= right2->x);
  3116                        ;	//k_debug_integer("k_is_overlapped_rect_points::
                    condition1:left2->x >= right1->x:",left2->x >= right1->x);
  3117                        ;
  3118                        ;
  3119                        ;	if (left1->x >= right2->x || left2->x >= right1-
                    >x) //if (l1.x >= r2.x || l2.x >= r1.x)
  3120                        	.sym	left1,4,138,6,32,25
  3121                        	.sym	right1,8,138,6,32,25
  3122                        	.sym	left2,12,138,6,32,25
  3123                        	.sym	right2,16,138,6,32,25
  3124                        	.line	526
  3125                        ;	{
  3126 06:06C8: 38           	sec
  Thu Jul 22 2021 22:51                                                Page 66


  3127 06:06C9: A7 04        	lda	[<L99+left1_0]
  3128 06:06CB: E7 10        	sbc	[<L99+right2_0]
  3129 06:06CD: 70 03        	bvs	L103
  3130 06:06CF: 49 00 80     	eor	#$8000
  3131                        L103:
  3132 06:06D2: 10 03        	bpl	L104
  3133 06:06D4: 82 0F 00     	brl	L102
  3134                        L104:
  3135 06:06D7: 38           	sec
  3136 06:06D8: A7 0C        	lda	[<L99+left2_0]
  3137 06:06DA: E7 08        	sbc	[<L99+right1_0]
  3138 06:06DC: 70 03        	bvs	L105
  3139 06:06DE: 49 00 80     	eor	#$8000
  3140                        L105:
  3141 06:06E1: 30 03        	bmi	L106
  3142 06:06E3: 82 15 00     	brl	L10025
  3143                        L106:
  3144                        L102:
  3145                        	.line	527
  3146                        ;		//k_debug_integer("k_is_overlapped_rect_
                    points::condition1:",1);
  3147                        ;		return FALSE;
  3148                        	.line	529
  3149 06:06E6: A9 00 00     	lda	#$0
  3150                        L107:
  3151 06:06E9: A8           	tay
  3152 06:06EA: A5 02        	lda	<L99+2
  3153 06:06EC: 85 12        	sta	<L99+2+16
  3154 06:06EE: A5 01        	lda	<L99+1
  3155 06:06F0: 85 11        	sta	<L99+1+16
  3156 06:06F2: 2B           	pld
  3157 06:06F3: 3B           	tsc
  3158 06:06F4: 18           	clc
  3159 06:06F5: 69 10 00     	adc	#L99+16
  3160 06:06F8: 1B           	tcs
  3161 06:06F9: 98           	tya
  3162 06:06FA: 6B           	rtl
  3163                        ;	}
  3164                        	.line	530
  3165                        ;	// If one rectangle is above other
  3166                        ;	// (l1.y < r2.y) happens when the first rectangl
                    e(l1,r1) is totally below the second rectangle(l2,r2).
  3167                        ;	// (l2.y < r1.y) happens when the second rectang
                    le(l2,r2) is totally below the first rectangle(l1,r1).
  3168                        ;	if (left1->y > right2->y || left2->y > right1->y
                    )
  3169                        L10025:
  3170                        	.line	534
  3171                        ;	{
  3172 06:06FB: 38           	sec
  3173 06:06FC: A0 02 00     	ldy	#$2
  3174 06:06FF: B7 10        	lda	[<L99+right2_0],Y
  3175 06:0701: A0 02 00     	ldy	#$2
  3176 06:0704: F7 04        	sbc	[<L99+left1_0],Y
  3177 06:0706: 70 03        	bvs	L109
  3178 06:0708: 49 00 80     	eor	#$8000
  3179                        L109:
  3180 06:070B: 30 03        	bmi	L110
  Thu Jul 22 2021 22:51                                                Page 67


  3181 06:070D: 82 15 00     	brl	L108
  3182                        L110:
  3183 06:0710: 38           	sec
  3184 06:0711: A0 02 00     	ldy	#$2
  3185 06:0714: B7 08        	lda	[<L99+right1_0],Y
  3186 06:0716: A0 02 00     	ldy	#$2
  3187 06:0719: F7 0C        	sbc	[<L99+left2_0],Y
  3188 06:071B: 70 03        	bvs	L111
  3189 06:071D: 49 00 80     	eor	#$8000
  3190                        L111:
  3191 06:0720: 10 03        	bpl	L112
  3192 06:0722: 82 06 00     	brl	L10026
  3193                        L112:
  3194                        L108:
  3195                        	.line	535
  3196                        ;		//k_debug_integer("k_is_overlapped_rect_
                    points::condition2:L1Y:",left1->y);
  3197                        ;		//k_debug_integer("k_is_overlapped_rect_
                    points::condition2:R2Y:",right2->y);
  3198                        ;		//k_debug_integer("k_is_overlapped_rect_
                    points::condition2:l1->y <= r2->y:",left1->y <= right2->y);
  3199                        ;
  3200                        ;		//k_debug_integer("k_is_overlapped_rect_
                    points::condition2:L2Y:",left2->y);
  3201                        ;		//k_debug_integer("k_is_overlapped_rect_
                    points::condition2:R1Y:",right1->y);
  3202                        ;		//k_debug_integer("k_is_overlapped_rect_
                    points::condition2:l2->y <= r1->y:",left2->y <= right1->y);
  3203                        ;		return FALSE;
  3204                        	.line	543
  3205 06:0725: A9 00 00     	lda	#$0
  3206 06:0728: 82 BE FF     	brl	L107
  3207                        ;	}
  3208                        	.line	544
  3209                        ;	return TRUE;
  3210                        L10026:
  3211                        	.line	545
  3212 06:072B: A9 01 00     	lda	#$1
  3213 06:072E: 82 B8 FF     	brl	L107
  3214                        ;}
  3215                        	.line	546
  3216                        	.endblock	546
  3217             00000000   L99	equ	0
  3218             00000001   L100	equ	1
  3219 06:0731:              	ends
  3220                        	efunc
  3221                        	.endfunc	546,1,0
  3222                        	.line	546
  3223                        ;
  3224                        ;BOOL k_is_inside_rect(PRECT prect, int dx, int dy
                    )
  3225                        ;{
  3226                        	.line	548
  3227                        	.line	549
  3228                        	GFX
  3229                        	xdef	~~k_is_inside_rect
  3230                        	func
  3231                        	.function	549
  Thu Jul 22 2021 22:51                                                Page 68


  3232                        ~~k_is_inside_rect:
  3233                        	longa	on
  3234                        	longi	on
  3235 06:0731: 3B           	tsc
  3236 06:0732: 38           	sec
  3237 06:0733: E9 05 00     	sbc	#L113
  3238 06:0736: 1B           	tcs
  3239 06:0737: 0B           	phd
  3240 06:0738: 5B           	tcd
  3241             00000004   prect_0	set	4
  3242             00000008   dx_0	set	8
  3243             0000000A   dy_0	set	10
  3244                        	.block	549
  3245                        ;	BOOL bRet = FALSE;
  3246                        ;
  3247                        ;	if ((dx > prect->x) && (dx < (prect->x + prect->
                    width)))
  3248             00000000   bRet_1	set	0
  3249                        	.sym	bRet,0,14,1,8
  3250                        	.sym	prect,4,138,6,32,26
  3251                        	.sym	dx,8,5,6,16
  3252                        	.sym	dy,10,5,6,16
  3253 06:0739: E2 20        	sep	#$20
  3254                        	longa	off
  3255 06:073B: 64 05        	stz	<L114+bRet_1
  3256 06:073D: C2 20        	rep	#$20
  3257                        	longa	on
  3258                        	.line	552
  3259                        ;	{
  3260 06:073F: 38           	sec
  3261 06:0740: A7 09        	lda	[<L113+prect_0]
  3262 06:0742: E5 0D        	sbc	<L113+dx_0
  3263 06:0744: 70 03        	bvs	L116
  3264 06:0746: 49 00 80     	eor	#$8000
  3265                        L116:
  3266 06:0749: 10 03        	bpl	L117
  3267 06:074B: 82 4F 00     	brl	L10027
  3268                        L117:
  3269 06:074E: 18           	clc
  3270 06:074F: A7 09        	lda	[<L113+prect_0]
  3271 06:0751: A0 08 00     	ldy	#$8
  3272 06:0754: 77 09        	adc	[<L113+prect_0],Y
  3273 06:0756: 85 01        	sta	<R0
  3274 06:0758: 38           	sec
  3275 06:0759: A5 0D        	lda	<L113+dx_0
  3276 06:075B: E5 01        	sbc	<R0
  3277 06:075D: 70 03        	bvs	L118
  3278 06:075F: 49 00 80     	eor	#$8000
  3279                        L118:
  3280 06:0762: 10 03        	bpl	L119
  3281 06:0764: 82 36 00     	brl	L10027
  3282                        L119:
  3283                        	.line	553
  3284                        ;		if ((dy > prect->y) && (dy < (prect->y +
                     prect->height)))
  3285                        	.line	554
  3286                        ;		{
  3287 06:0767: 38           	sec
  Thu Jul 22 2021 22:51                                                Page 69


  3288 06:0768: A0 02 00     	ldy	#$2
  3289 06:076B: B7 09        	lda	[<L113+prect_0],Y
  3290 06:076D: E5 0F        	sbc	<L113+dy_0
  3291 06:076F: 70 03        	bvs	L120
  3292 06:0771: 49 00 80     	eor	#$8000
  3293                        L120:
  3294 06:0774: 10 03        	bpl	L121
  3295 06:0776: 82 24 00     	brl	L10028
  3296                        L121:
  3297 06:0779: 18           	clc
  3298 06:077A: A0 02 00     	ldy	#$2
  3299 06:077D: B7 09        	lda	[<L113+prect_0],Y
  3300 06:077F: A0 0A 00     	ldy	#$a
  3301 06:0782: 77 09        	adc	[<L113+prect_0],Y
  3302 06:0784: 85 01        	sta	<R0
  3303 06:0786: 38           	sec
  3304 06:0787: A5 0F        	lda	<L113+dy_0
  3305 06:0789: E5 01        	sbc	<R0
  3306 06:078B: 70 03        	bvs	L122
  3307 06:078D: 49 00 80     	eor	#$8000
  3308                        L122:
  3309 06:0790: 10 03        	bpl	L123
  3310 06:0792: 82 08 00     	brl	L10028
  3311                        L123:
  3312                        	.line	555
  3313                        ;			bRet = TRUE;
  3314                        	.line	556
  3315 06:0795: E2 20        	sep	#$20
  3316                        	longa	off
  3317 06:0797: A9 01        	lda	#$1
  3318 06:0799: 85 05        	sta	<L114+bRet_1
  3319 06:079B: C2 20        	rep	#$20
  3320                        	longa	on
  3321                        ;		}
  3322                        	.line	557
  3323                        ;	}
  3324                        L10028:
  3325                        	.line	558
  3326                        ;
  3327                        ;	return bRet;
  3328                        L10027:
  3329                        	.line	560
  3330 06:079D: A5 05        	lda	<L114+bRet_1
  3331 06:079F: 29 FF 00     	and	#$ff
  3332                        L124:
  3333 06:07A2: A8           	tay
  3334 06:07A3: A5 07        	lda	<L113+2
  3335 06:07A5: 85 0F        	sta	<L113+2+8
  3336 06:07A7: A5 06        	lda	<L113+1
  3337 06:07A9: 85 0E        	sta	<L113+1+8
  3338 06:07AB: 2B           	pld
  3339 06:07AC: 3B           	tsc
  3340 06:07AD: 18           	clc
  3341 06:07AE: 69 0D 00     	adc	#L113+8
  3342 06:07B1: 1B           	tcs
  3343 06:07B2: 98           	tya
  3344 06:07B3: 6B           	rtl
  3345                        ;}
  Thu Jul 22 2021 22:51                                                Page 70


  3346                        	.line	561
  3347                        	.endblock	561
  3348             00000005   L113	equ	5
  3349             00000005   L114	equ	5
  3350 06:07B4:              	ends
  3351                        	efunc
  3352                        	.endfunc	561,5,5
  3353                        	.line	561
  3354                        ;
  3355                        ;LONG k_gui_get_pixel_offset(int x,int y)
  3356                        ;{
  3357                        	.line	563
  3358                        	.line	564
  3359                        	GFX
  3360                        	xdef	~~k_gui_get_pixel_offset
  3361                        	func
  3362                        	.function	564
  3363                        ~~k_gui_get_pixel_offset:
  3364                        	longa	on
  3365                        	longi	on
  3366 06:07B4: 3B           	tsc
  3367 06:07B5: 38           	sec
  3368 06:07B6: E9 04 00     	sbc	#L125
  3369 06:07B9: 1B           	tcs
  3370 06:07BA: 0B           	phd
  3371 06:07BB: 5B           	tcd
  3372             00000004   x_0	set	4
  3373             00000006   y_0	set	6
  3374                        	.block	564
  3375                        ;	//return (LPVOID)(( ((long)y) * (640L)) + ((long
                    )x) );
  3376                        ;	return k_gui_get_pixel_offset_width(x,y,640);
  3377                        	.sym	x,4,5,6,16
  3378                        	.sym	y,6,5,6,16
  3379                        	.line	566
  3380 06:07BC: F4 80 02     	pea	#<$280
  3381 06:07BF: D4 0A        	pei	<L125+y_0
  3382 06:07C1: D4 08        	pei	<L125+x_0
  3383 06:07C3: 22 E1 07 06  	jsl	~~k_gui_get_pixel_offset_width
  3384 06:07C7: 85 01        	sta	<R0
  3385 06:07C9: 86 03        	stx	<R0+2
  3386 06:07CB: A6 03        	ldx	<R0+2
  3387 06:07CD: A5 01        	lda	<R0
  3388                        L128:
  3389 06:07CF: A8           	tay
  3390 06:07D0: A5 06        	lda	<L125+2
  3391 06:07D2: 85 0A        	sta	<L125+2+4
  3392 06:07D4: A5 05        	lda	<L125+1
  3393 06:07D6: 85 09        	sta	<L125+1+4
  3394 06:07D8: 2B           	pld
  3395 06:07D9: 3B           	tsc
  3396 06:07DA: 18           	clc
  3397 06:07DB: 69 08 00     	adc	#L125+4
  3398 06:07DE: 1B           	tcs
  3399 06:07DF: 98           	tya
  3400 06:07E0: 6B           	rtl
  3401                        ;}
  3402                        	.line	567
  Thu Jul 22 2021 22:51                                                Page 71


  3403                        	.endblock	567
  3404             00000004   L125	equ	4
  3405             00000005   L126	equ	5
  3406 06:07E1:              	ends
  3407                        	efunc
  3408                        	.endfunc	567,5,4
  3409                        	.line	567
  3410                        ;
  3411                        ;LONG k_gui_get_pixel_offset_width(int x,int y,int
                     width)
  3412                        ;{
  3413                        	.line	569
  3414                        	.line	570
  3415                        	GFX
  3416                        	xdef	~~k_gui_get_pixel_offset_width
  3417                        	func
  3418                        	.function	570
  3419                        ~~k_gui_get_pixel_offset_width:
  3420                        	longa	on
  3421                        	longi	on
  3422 06:07E1: 3B           	tsc
  3423 06:07E2: 38           	sec
  3424 06:07E3: E9 0C 00     	sbc	#L129
  3425 06:07E6: 1B           	tcs
  3426 06:07E7: 0B           	phd
  3427 06:07E8: 5B           	tcd
  3428             00000004   x_0	set	4
  3429             00000006   y_0	set	6
  3430             00000008   width_0	set	8
  3431                        	.block	570
  3432                        ;	return (LONG)(( ((long)y) * ((long)width)) + ((l
                    ong)x) );
  3433                        	.sym	x,4,5,6,16
  3434                        	.sym	y,6,5,6,16
  3435                        	.sym	width,8,5,6,16
  3436                        	.line	571
  3437 06:07E9: A0 00 00     	ldy	#$0
  3438 06:07EC: A5 10        	lda	<L129+x_0
  3439 06:07EE: 10 01        	bpl	L132
  3440 06:07F0: 88           	dey
  3441                        L132:
  3442 06:07F1: 85 01        	sta	<R0
  3443 06:07F3: 84 03        	sty	<R0+2
  3444 06:07F5: A0 00 00     	ldy	#$0
  3445 06:07F8: A5 14        	lda	<L129+width_0
  3446 06:07FA: 10 01        	bpl	L133
  3447 06:07FC: 88           	dey
  3448                        L133:
  3449 06:07FD: 85 05        	sta	<R1
  3450 06:07FF: 84 07        	sty	<R1+2
  3451 06:0801: A0 00 00     	ldy	#$0
  3452 06:0804: A5 12        	lda	<L129+y_0
  3453 06:0806: 10 01        	bpl	L134
  3454 06:0808: 88           	dey
  3455                        L134:
  3456 06:0809: 85 09        	sta	<R2
  3457 06:080B: 84 0B        	sty	<R2+2
  3458 06:080D: D4 07        	pei	<R1+2
  Thu Jul 22 2021 22:51                                                Page 72


  3459 06:080F: D4 05        	pei	<R1
  3460 06:0811: D4 0B        	pei	<R2+2
  3461 06:0813: D4 09        	pei	<R2
  3462                        	xref	~~~lmul
  3463 06:0815: 22 xx xx xx  	jsl	~~~lmul
  3464 06:0819: 85 05        	sta	<R1
  3465 06:081B: 86 07        	stx	<R1+2
  3466 06:081D: 18           	clc
  3467 06:081E: A5 05        	lda	<R1
  3468 06:0820: 65 01        	adc	<R0
  3469 06:0822: 85 09        	sta	<R2
  3470 06:0824: A5 07        	lda	<R1+2
  3471 06:0826: 65 03        	adc	<R0+2
  3472 06:0828: 85 0B        	sta	<R2+2
  3473 06:082A: A6 0B        	ldx	<R2+2
  3474 06:082C: A5 09        	lda	<R2
  3475                        L135:
  3476 06:082E: A8           	tay
  3477 06:082F: A5 0E        	lda	<L129+2
  3478 06:0831: 85 14        	sta	<L129+2+6
  3479 06:0833: A5 0D        	lda	<L129+1
  3480 06:0835: 85 13        	sta	<L129+1+6
  3481 06:0837: 2B           	pld
  3482 06:0838: 3B           	tsc
  3483 06:0839: 18           	clc
  3484 06:083A: 69 12 00     	adc	#L129+6
  3485 06:083D: 1B           	tcs
  3486 06:083E: 98           	tya
  3487 06:083F: 6B           	rtl
  3488                        ;}
  3489                        	.line	572
  3490                        	.endblock	572
  3491             0000000C   L129	equ	12
  3492             0000000D   L130	equ	13
  3493 06:0840:              	ends
  3494                        	efunc
  3495                        	.endfunc	572,13,12
  3496                        	.line	572
  3497                        ;
  3498                        ;void k_set_foreground_palette(char paletteId)
  3499                        ;{
  3500                        	.line	574
  3501                        	.line	575
  3502                        	GFX
  3503                        	xdef	~~k_set_foreground_palette
  3504                        	func
  3505                        	.function	575
  3506                        ~~k_set_foreground_palette:
  3507                        	longa	on
  3508                        	longi	on
  3509 06:0840: 3B           	tsc
  3510 06:0841: 38           	sec
  3511 06:0842: E9 00 00     	sbc	#L136
  3512 06:0845: 1B           	tcs
  3513 06:0846: 0B           	phd
  3514 06:0847: 5B           	tcd
  3515             00000004   paletteId_0	set	4
  3516                        	.block	575
  Thu Jul 22 2021 22:51                                                Page 73


  3517                        ;	FG_CHAR_LUT_PTR[0] = paletteId;
  3518                        	.sym	paletteId,4,14,6,8
  3519                        	.line	576
  3520 06:0848: E2 20        	sep	#$20
  3521                        	longa	off
  3522 06:084A: A5 04        	lda	<L136+paletteId_0
  3523 06:084C: 8F 40 1F AF  	sta	>11476800
  3524 06:0850: C2 20        	rep	#$20
  3525                        	longa	on
  3526                        ;}
  3527                        	.line	577
  3528                        L139:
  3529 06:0852: A5 02        	lda	<L136+2
  3530 06:0854: 85 04        	sta	<L136+2+2
  3531 06:0856: A5 01        	lda	<L136+1
  3532 06:0858: 85 03        	sta	<L136+1+2
  3533 06:085A: 2B           	pld
  3534 06:085B: 3B           	tsc
  3535 06:085C: 18           	clc
  3536 06:085D: 69 02 00     	adc	#L136+2
  3537 06:0860: 1B           	tcs
  3538 06:0861: 6B           	rtl
  3539                        	.endblock	577
  3540             00000000   L136	equ	0
  3541             00000001   L137	equ	1
  3542 06:0862:              	ends
  3543                        	efunc
  3544                        	.endfunc	577,1,0
  3545                        	.line	577
  3546                        ;
  3547                        ;void k_set_text_gamma(char c)
  3548                        ;{
  3549                        	.line	579
  3550                        	.line	580
  3551                        	GFX
  3552                        	xdef	~~k_set_text_gamma
  3553                        	func
  3554                        	.function	580
  3555                        ~~k_set_text_gamma:
  3556                        	longa	on
  3557                        	longi	on
  3558 06:0862: 3B           	tsc
  3559 06:0863: 38           	sec
  3560 06:0864: E9 00 00     	sbc	#L140
  3561 06:0867: 1B           	tcs
  3562 06:0868: 0B           	phd
  3563 06:0869: 5B           	tcd
  3564             00000004   c_0	set	4
  3565                        	.block	580
  3566                        ;	GAMMA_B_LUT_PTR[0] = c;
  3567                        	.sym	c,4,14,6,8
  3568                        	.line	581
  3569 06:086A: E2 20        	sep	#$20
  3570                        	longa	off
  3571 06:086C: A5 04        	lda	<L140+c_0
  3572 06:086E: 8F 00 40 AF  	sta	>11485184
  3573 06:0872: C2 20        	rep	#$20
  3574                        	longa	on
  Thu Jul 22 2021 22:51                                                Page 74


  3575                        ;	GAMMA_G_LUT_PTR[0] = c;
  3576                        	.line	582
  3577 06:0874: E2 20        	sep	#$20
  3578                        	longa	off
  3579 06:0876: A5 04        	lda	<L140+c_0
  3580 06:0878: 8F 00 41 AF  	sta	>11485440
  3581 06:087C: C2 20        	rep	#$20
  3582                        	longa	on
  3583                        ;	GAMMA_R_LUT_PTR[0] = c;
  3584                        	.line	583
  3585 06:087E: E2 20        	sep	#$20
  3586                        	longa	off
  3587 06:0880: A5 04        	lda	<L140+c_0
  3588 06:0882: 8F 00 42 AF  	sta	>11485696
  3589 06:0886: C2 20        	rep	#$20
  3590                        	longa	on
  3591                        ;}
  3592                        	.line	584
  3593                        L143:
  3594 06:0888: A5 02        	lda	<L140+2
  3595 06:088A: 85 04        	sta	<L140+2+2
  3596 06:088C: A5 01        	lda	<L140+1
  3597 06:088E: 85 03        	sta	<L140+1+2
  3598 06:0890: 2B           	pld
  3599 06:0891: 3B           	tsc
  3600 06:0892: 18           	clc
  3601 06:0893: 69 02 00     	adc	#L140+2
  3602 06:0896: 1B           	tcs
  3603 06:0897: 6B           	rtl
  3604                        	.endblock	584
  3605             00000000   L140	equ	0
  3606             00000001   L141	equ	1
  3607 06:0898:              	ends
  3608                        	efunc
  3609                        	.endfunc	584,1,0
  3610                        	.line	584
  3611                        ;
  3612                        ;void k_set_text_color(char c)
  3613                        ;{
  3614                        	.line	586
  3615                        	.line	587
  3616                        	GFX
  3617                        	xdef	~~k_set_text_color
  3618                        	func
  3619                        	.function	587
  3620                        ~~k_set_text_color:
  3621                        	longa	on
  3622                        	longi	on
  3623 06:0898: 3B           	tsc
  3624 06:0899: 38           	sec
  3625 06:089A: E9 00 00     	sbc	#L144
  3626 06:089D: 1B           	tcs
  3627 06:089E: 0B           	phd
  3628 06:089F: 5B           	tcd
  3629             00000004   c_0	set	4
  3630                        	.block	587
  3631                        ;	CURCOLOR_L[0] = c;
  3632                        	.sym	c,4,14,6,8
  Thu Jul 22 2021 22:51                                                Page 75


  3633                        	.line	588
  3634 06:08A0: E2 20        	sep	#$20
  3635                        	longa	off
  3636 06:08A2: A5 04        	lda	<L144+c_0
  3637 06:08A4: 8F 1E 00 00  	sta	>30
  3638 06:08A8: C2 20        	rep	#$20
  3639                        	longa	on
  3640                        ;	CURCOLOR_H[0] = c;
  3641                        	.line	589
  3642 06:08AA: E2 20        	sep	#$20
  3643                        	longa	off
  3644 06:08AC: A5 04        	lda	<L144+c_0
  3645 06:08AE: 8F 1F 00 00  	sta	>31
  3646 06:08B2: C2 20        	rep	#$20
  3647                        	longa	on
  3648                        ;}
  3649                        	.line	590
  3650                        L147:
  3651 06:08B4: A5 02        	lda	<L144+2
  3652 06:08B6: 85 04        	sta	<L144+2+2
  3653 06:08B8: A5 01        	lda	<L144+1
  3654 06:08BA: 85 03        	sta	<L144+1+2
  3655 06:08BC: 2B           	pld
  3656 06:08BD: 3B           	tsc
  3657 06:08BE: 18           	clc
  3658 06:08BF: 69 02 00     	adc	#L144+2
  3659 06:08C2: 1B           	tcs
  3660 06:08C3: 6B           	rtl
  3661                        	.endblock	590
  3662             00000000   L144	equ	0
  3663             00000001   L145	equ	1
  3664 06:08C4:              	ends
  3665                        	efunc
  3666                        	.endfunc	590,1,0
  3667                        	.line	590
  3668                        ;
  3669                        ;VOID k_set_text_colors(VOID)
  3670                        ;{
  3671                        	.line	592
  3672                        	.line	593
  3673                        	GFX
  3674                        	xdef	~~k_set_text_colors
  3675                        	func
  3676                        	.function	593
  3677                        ~~k_set_text_colors:
  3678                        	longa	on
  3679                        	longi	on
  3680 06:08C4: 3B           	tsc
  3681 06:08C5: 38           	sec
  3682 06:08C6: E9 00 00     	sbc	#L148
  3683 06:08C9: 1B           	tcs
  3684 06:08CA: 0B           	phd
  3685 06:08CB: 5B           	tcd
  3686                        	.block	593
  3687                        ;	//k_debug_integer("k_set_text_colors::TEXT_FG_CO
                    LORS:",sizeof(TEXT_FG_COLORS));
  3688                        ;	//k_debug_integer("k_set_text_colors::TEXT_BG_CO
                    LORS:",sizeof(TEXT_BG_COLORS));
  Thu Jul 22 2021 22:51                                                Page 76


  3689                        ;
  3690                        ;	memcpy(FG_CHAR_LUT_PTR,TEXT_FG_COLORS,sizeof(TEX
                    T_FG_COLORS));
  3691                        	.line	597
  3692 06:08CC: F4 40 00     	pea	#<$40
  3693 06:08CF: F4 xx xx     	pea	#^~~TEXT_FG_COLORS
  3694 06:08D2: F4 xx xx     	pea	#<~~TEXT_FG_COLORS
  3695 06:08D5: F4 AF 00     	pea	#^$af1f40
  3696 06:08D8: F4 40 1F     	pea	#<$af1f40
  3697 06:08DB: 22 xx xx xx  	jsl	~~memcpy
  3698                        ;	memcpy(BG_CHAR_LUT_PTR,TEXT_BG_COLORS,sizeof(TEX
                    T_BG_COLORS));
  3699                        	.line	598
  3700 06:08DF: F4 40 00     	pea	#<$40
  3701 06:08E2: F4 xx xx     	pea	#^~~TEXT_BG_COLORS
  3702 06:08E5: F4 xx xx     	pea	#<~~TEXT_BG_COLORS
  3703 06:08E8: F4 AF 00     	pea	#^$af1f80
  3704 06:08EB: F4 80 1F     	pea	#<$af1f80
  3705 06:08EE: 22 xx xx xx  	jsl	~~memcpy
  3706                        ;}
  3707                        	.line	599
  3708                        L151:
  3709 06:08F2: 2B           	pld
  3710 06:08F3: 3B           	tsc
  3711 06:08F4: 18           	clc
  3712 06:08F5: 69 00 00     	adc	#L148
  3713 06:08F8: 1B           	tcs
  3714 06:08F9: 6B           	rtl
  3715                        	.endblock	599
  3716             00000000   L148	equ	0
  3717             00000001   L149	equ	1
  3718 06:08FA:              	ends
  3719                        	efunc
  3720                        	.endfunc	599,1,0
  3721                        	.line	599
  3722                        ;
  3723                        ;
  3724                        ;void setColors(void)
  3725                        ;{
  3726                        	.line	602
  3727                        	.line	603
  3728                        	GFX
  3729                        	xdef	~~setColors
  3730                        	func
  3731                        	.function	603
  3732                        ~~setColors:
  3733                        	longa	on
  3734                        	longi	on
  3735 06:08FA: 3B           	tsc
  3736 06:08FB: 38           	sec
  3737 06:08FC: E9 08 00     	sbc	#L152
  3738 06:08FF: 1B           	tcs
  3739 06:0900: 0B           	phd
  3740 06:0901: 5B           	tcd
  3741                        	.block	603
  3742                        ;	unsigned long colorIndex = 0;
  3743                        ;
  3744                        ;	//colorIndex = 0;
  Thu Jul 22 2021 22:51                                                Page 77


  3745                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3746             00000000   colorIndex_1	set	0
  3747                        	.sym	colorIndex,0,18,1,32
  3748 06:0902: 64 05        	stz	<L153+colorIndex_1
  3749 06:0904: 64 07        	stz	<L153+colorIndex_1+2
  3750                        	.line	607
  3751 06:0906: 18           	clc
  3752 06:0907: A9 00 20     	lda	#$2000
  3753 06:090A: 65 05        	adc	<L153+colorIndex_1
  3754 06:090C: 85 01        	sta	<R0
  3755 06:090E: A9 AF 00     	lda	#$af
  3756 06:0911: 65 07        	adc	<L153+colorIndex_1+2
  3757 06:0913: 85 03        	sta	<R0+2
  3758 06:0915: E2 20        	sep	#$20
  3759                        	longa	off
  3760 06:0917: A9 00        	lda	#$0
  3761 06:0919: 87 01        	sta	[<R0]
  3762 06:091B: C2 20        	rep	#$20
  3763                        	longa	on
  3764 06:091D: E6 05        	inc	<L153+colorIndex_1
  3765 06:091F: D0 02        	bne	L155
  3766 06:0921: E6 07        	inc	<L153+colorIndex_1+2
  3767                        L155:
  3768                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3769                        	.line	608
  3770 06:0923: 18           	clc
  3771 06:0924: A9 00 20     	lda	#$2000
  3772 06:0927: 65 05        	adc	<L153+colorIndex_1
  3773 06:0929: 85 01        	sta	<R0
  3774 06:092B: A9 AF 00     	lda	#$af
  3775 06:092E: 65 07        	adc	<L153+colorIndex_1+2
  3776 06:0930: 85 03        	sta	<R0+2
  3777 06:0932: E2 20        	sep	#$20
  3778                        	longa	off
  3779 06:0934: A9 00        	lda	#$0
  3780 06:0936: 87 01        	sta	[<R0]
  3781 06:0938: C2 20        	rep	#$20
  3782                        	longa	on
  3783 06:093A: E6 05        	inc	<L153+colorIndex_1
  3784 06:093C: D0 02        	bne	L156
  3785 06:093E: E6 07        	inc	<L153+colorIndex_1+2
  3786                        L156:
  3787                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3788                        	.line	609
  3789 06:0940: 18           	clc
  3790 06:0941: A9 00 20     	lda	#$2000
  3791 06:0944: 65 05        	adc	<L153+colorIndex_1
  3792 06:0946: 85 01        	sta	<R0
  3793 06:0948: A9 AF 00     	lda	#$af
  3794 06:094B: 65 07        	adc	<L153+colorIndex_1+2
  3795 06:094D: 85 03        	sta	<R0+2
  3796 06:094F: E2 20        	sep	#$20
  3797                        	longa	off
  3798 06:0951: A9 00        	lda	#$0
  3799 06:0953: 87 01        	sta	[<R0]
  3800 06:0955: C2 20        	rep	#$20
  3801                        	longa	on
  3802 06:0957: E6 05        	inc	<L153+colorIndex_1
  Thu Jul 22 2021 22:51                                                Page 78


  3803 06:0959: D0 02        	bne	L157
  3804 06:095B: E6 07        	inc	<L153+colorIndex_1+2
  3805                        L157:
  3806                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  3807                        	.line	610
  3808 06:095D: 18           	clc
  3809 06:095E: A9 00 20     	lda	#$2000
  3810 06:0961: 65 05        	adc	<L153+colorIndex_1
  3811 06:0963: 85 01        	sta	<R0
  3812 06:0965: A9 AF 00     	lda	#$af
  3813 06:0968: 65 07        	adc	<L153+colorIndex_1+2
  3814 06:096A: 85 03        	sta	<R0+2
  3815 06:096C: E2 20        	sep	#$20
  3816                        	longa	off
  3817 06:096E: A9 FF        	lda	#$ff
  3818 06:0970: 87 01        	sta	[<R0]
  3819 06:0972: C2 20        	rep	#$20
  3820                        	longa	on
  3821 06:0974: E6 05        	inc	<L153+colorIndex_1
  3822 06:0976: D0 02        	bne	L158
  3823 06:0978: E6 07        	inc	<L153+colorIndex_1+2
  3824                        L158:
  3825                        ;
  3826                        ;	//colorIndex = 1 * 4;
  3827                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3828                        	.line	613
  3829 06:097A: 18           	clc
  3830 06:097B: A9 00 20     	lda	#$2000
  3831 06:097E: 65 05        	adc	<L153+colorIndex_1
  3832 06:0980: 85 01        	sta	<R0
  3833 06:0982: A9 AF 00     	lda	#$af
  3834 06:0985: 65 07        	adc	<L153+colorIndex_1+2
  3835 06:0987: 85 03        	sta	<R0+2
  3836 06:0989: E2 20        	sep	#$20
  3837                        	longa	off
  3838 06:098B: A9 00        	lda	#$0
  3839 06:098D: 87 01        	sta	[<R0]
  3840 06:098F: C2 20        	rep	#$20
  3841                        	longa	on
  3842 06:0991: E6 05        	inc	<L153+colorIndex_1
  3843 06:0993: D0 02        	bne	L159
  3844 06:0995: E6 07        	inc	<L153+colorIndex_1+2
  3845                        L159:
  3846                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3847                        	.line	614
  3848 06:0997: 18           	clc
  3849 06:0998: A9 00 20     	lda	#$2000
  3850 06:099B: 65 05        	adc	<L153+colorIndex_1
  3851 06:099D: 85 01        	sta	<R0
  3852 06:099F: A9 AF 00     	lda	#$af
  3853 06:09A2: 65 07        	adc	<L153+colorIndex_1+2
  3854 06:09A4: 85 03        	sta	<R0+2
  3855 06:09A6: E2 20        	sep	#$20
  3856                        	longa	off
  3857 06:09A8: A9 00        	lda	#$0
  3858 06:09AA: 87 01        	sta	[<R0]
  3859 06:09AC: C2 20        	rep	#$20
  3860                        	longa	on
  Thu Jul 22 2021 22:51                                                Page 79


  3861 06:09AE: E6 05        	inc	<L153+colorIndex_1
  3862 06:09B0: D0 02        	bne	L160
  3863 06:09B2: E6 07        	inc	<L153+colorIndex_1+2
  3864                        L160:
  3865                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  3866                        	.line	615
  3867 06:09B4: 18           	clc
  3868 06:09B5: A9 00 20     	lda	#$2000
  3869 06:09B8: 65 05        	adc	<L153+colorIndex_1
  3870 06:09BA: 85 01        	sta	<R0
  3871 06:09BC: A9 AF 00     	lda	#$af
  3872 06:09BF: 65 07        	adc	<L153+colorIndex_1+2
  3873 06:09C1: 85 03        	sta	<R0+2
  3874 06:09C3: E2 20        	sep	#$20
  3875                        	longa	off
  3876 06:09C5: A9 80        	lda	#$80
  3877 06:09C7: 87 01        	sta	[<R0]
  3878 06:09C9: C2 20        	rep	#$20
  3879                        	longa	on
  3880 06:09CB: E6 05        	inc	<L153+colorIndex_1
  3881 06:09CD: D0 02        	bne	L161
  3882 06:09CF: E6 07        	inc	<L153+colorIndex_1+2
  3883                        L161:
  3884                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  3885                        	.line	616
  3886 06:09D1: 18           	clc
  3887 06:09D2: A9 00 20     	lda	#$2000
  3888 06:09D5: 65 05        	adc	<L153+colorIndex_1
  3889 06:09D7: 85 01        	sta	<R0
  3890 06:09D9: A9 AF 00     	lda	#$af
  3891 06:09DC: 65 07        	adc	<L153+colorIndex_1+2
  3892 06:09DE: 85 03        	sta	<R0+2
  3893 06:09E0: E2 20        	sep	#$20
  3894                        	longa	off
  3895 06:09E2: A9 FF        	lda	#$ff
  3896 06:09E4: 87 01        	sta	[<R0]
  3897 06:09E6: C2 20        	rep	#$20
  3898                        	longa	on
  3899 06:09E8: E6 05        	inc	<L153+colorIndex_1
  3900 06:09EA: D0 02        	bne	L162
  3901 06:09EC: E6 07        	inc	<L153+colorIndex_1+2
  3902                        L162:
  3903                        ;
  3904                        ;	//colorIndex = 2 * 4;
  3905                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3906                        	.line	619
  3907 06:09EE: 18           	clc
  3908 06:09EF: A9 00 20     	lda	#$2000
  3909 06:09F2: 65 05        	adc	<L153+colorIndex_1
  3910 06:09F4: 85 01        	sta	<R0
  3911 06:09F6: A9 AF 00     	lda	#$af
  3912 06:09F9: 65 07        	adc	<L153+colorIndex_1+2
  3913 06:09FB: 85 03        	sta	<R0+2
  3914 06:09FD: E2 20        	sep	#$20
  3915                        	longa	off
  3916 06:09FF: A9 00        	lda	#$0
  3917 06:0A01: 87 01        	sta	[<R0]
  3918 06:0A03: C2 20        	rep	#$20
  Thu Jul 22 2021 22:51                                                Page 80


  3919                        	longa	on
  3920 06:0A05: E6 05        	inc	<L153+colorIndex_1
  3921 06:0A07: D0 02        	bne	L163
  3922 06:0A09: E6 07        	inc	<L153+colorIndex_1+2
  3923                        L163:
  3924                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  3925                        	.line	620
  3926 06:0A0B: 18           	clc
  3927 06:0A0C: A9 00 20     	lda	#$2000
  3928 06:0A0F: 65 05        	adc	<L153+colorIndex_1
  3929 06:0A11: 85 01        	sta	<R0
  3930 06:0A13: A9 AF 00     	lda	#$af
  3931 06:0A16: 65 07        	adc	<L153+colorIndex_1+2
  3932 06:0A18: 85 03        	sta	<R0+2
  3933 06:0A1A: E2 20        	sep	#$20
  3934                        	longa	off
  3935 06:0A1C: A9 80        	lda	#$80
  3936 06:0A1E: 87 01        	sta	[<R0]
  3937 06:0A20: C2 20        	rep	#$20
  3938                        	longa	on
  3939 06:0A22: E6 05        	inc	<L153+colorIndex_1
  3940 06:0A24: D0 02        	bne	L164
  3941 06:0A26: E6 07        	inc	<L153+colorIndex_1+2
  3942                        L164:
  3943                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3944                        	.line	621
  3945 06:0A28: 18           	clc
  3946 06:0A29: A9 00 20     	lda	#$2000
  3947 06:0A2C: 65 05        	adc	<L153+colorIndex_1
  3948 06:0A2E: 85 01        	sta	<R0
  3949 06:0A30: A9 AF 00     	lda	#$af
  3950 06:0A33: 65 07        	adc	<L153+colorIndex_1+2
  3951 06:0A35: 85 03        	sta	<R0+2
  3952 06:0A37: E2 20        	sep	#$20
  3953                        	longa	off
  3954 06:0A39: A9 00        	lda	#$0
  3955 06:0A3B: 87 01        	sta	[<R0]
  3956 06:0A3D: C2 20        	rep	#$20
  3957                        	longa	on
  3958 06:0A3F: E6 05        	inc	<L153+colorIndex_1
  3959 06:0A41: D0 02        	bne	L165
  3960 06:0A43: E6 07        	inc	<L153+colorIndex_1+2
  3961                        L165:
  3962                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  3963                        	.line	622
  3964 06:0A45: 18           	clc
  3965 06:0A46: A9 00 20     	lda	#$2000
  3966 06:0A49: 65 05        	adc	<L153+colorIndex_1
  3967 06:0A4B: 85 01        	sta	<R0
  3968 06:0A4D: A9 AF 00     	lda	#$af
  3969 06:0A50: 65 07        	adc	<L153+colorIndex_1+2
  3970 06:0A52: 85 03        	sta	<R0+2
  3971 06:0A54: E2 20        	sep	#$20
  3972                        	longa	off
  3973 06:0A56: A9 FF        	lda	#$ff
  3974 06:0A58: 87 01        	sta	[<R0]
  3975 06:0A5A: C2 20        	rep	#$20
  3976                        	longa	on
  Thu Jul 22 2021 22:51                                                Page 81


  3977 06:0A5C: E6 05        	inc	<L153+colorIndex_1
  3978 06:0A5E: D0 02        	bne	L166
  3979 06:0A60: E6 07        	inc	<L153+colorIndex_1+2
  3980                        L166:
  3981                        ;
  3982                        ;
  3983                        ;	//colorIndex = 3 * 4;
  3984                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  3985                        	.line	626
  3986 06:0A62: 18           	clc
  3987 06:0A63: A9 00 20     	lda	#$2000
  3988 06:0A66: 65 05        	adc	<L153+colorIndex_1
  3989 06:0A68: 85 01        	sta	<R0
  3990 06:0A6A: A9 AF 00     	lda	#$af
  3991 06:0A6D: 65 07        	adc	<L153+colorIndex_1+2
  3992 06:0A6F: 85 03        	sta	<R0+2
  3993 06:0A71: E2 20        	sep	#$20
  3994                        	longa	off
  3995 06:0A73: A9 80        	lda	#$80
  3996 06:0A75: 87 01        	sta	[<R0]
  3997 06:0A77: C2 20        	rep	#$20
  3998                        	longa	on
  3999 06:0A79: E6 05        	inc	<L153+colorIndex_1
  4000 06:0A7B: D0 02        	bne	L167
  4001 06:0A7D: E6 07        	inc	<L153+colorIndex_1+2
  4002                        L167:
  4003                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4004                        	.line	627
  4005 06:0A7F: 18           	clc
  4006 06:0A80: A9 00 20     	lda	#$2000
  4007 06:0A83: 65 05        	adc	<L153+colorIndex_1
  4008 06:0A85: 85 01        	sta	<R0
  4009 06:0A87: A9 AF 00     	lda	#$af
  4010 06:0A8A: 65 07        	adc	<L153+colorIndex_1+2
  4011 06:0A8C: 85 03        	sta	<R0+2
  4012 06:0A8E: E2 20        	sep	#$20
  4013                        	longa	off
  4014 06:0A90: A9 00        	lda	#$0
  4015 06:0A92: 87 01        	sta	[<R0]
  4016 06:0A94: C2 20        	rep	#$20
  4017                        	longa	on
  4018 06:0A96: E6 05        	inc	<L153+colorIndex_1
  4019 06:0A98: D0 02        	bne	L168
  4020 06:0A9A: E6 07        	inc	<L153+colorIndex_1+2
  4021                        L168:
  4022                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4023                        	.line	628
  4024 06:0A9C: 18           	clc
  4025 06:0A9D: A9 00 20     	lda	#$2000
  4026 06:0AA0: 65 05        	adc	<L153+colorIndex_1
  4027 06:0AA2: 85 01        	sta	<R0
  4028 06:0AA4: A9 AF 00     	lda	#$af
  4029 06:0AA7: 65 07        	adc	<L153+colorIndex_1+2
  4030 06:0AA9: 85 03        	sta	<R0+2
  4031 06:0AAB: E2 20        	sep	#$20
  4032                        	longa	off
  4033 06:0AAD: A9 00        	lda	#$0
  4034 06:0AAF: 87 01        	sta	[<R0]
  Thu Jul 22 2021 22:51                                                Page 82


  4035 06:0AB1: C2 20        	rep	#$20
  4036                        	longa	on
  4037 06:0AB3: E6 05        	inc	<L153+colorIndex_1
  4038 06:0AB5: D0 02        	bne	L169
  4039 06:0AB7: E6 07        	inc	<L153+colorIndex_1+2
  4040                        L169:
  4041                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4042                        	.line	629
  4043 06:0AB9: 18           	clc
  4044 06:0ABA: A9 00 20     	lda	#$2000
  4045 06:0ABD: 65 05        	adc	<L153+colorIndex_1
  4046 06:0ABF: 85 01        	sta	<R0
  4047 06:0AC1: A9 AF 00     	lda	#$af
  4048 06:0AC4: 65 07        	adc	<L153+colorIndex_1+2
  4049 06:0AC6: 85 03        	sta	<R0+2
  4050 06:0AC8: E2 20        	sep	#$20
  4051                        	longa	off
  4052 06:0ACA: A9 FF        	lda	#$ff
  4053 06:0ACC: 87 01        	sta	[<R0]
  4054 06:0ACE: C2 20        	rep	#$20
  4055                        	longa	on
  4056 06:0AD0: E6 05        	inc	<L153+colorIndex_1
  4057 06:0AD2: D0 02        	bne	L170
  4058 06:0AD4: E6 07        	inc	<L153+colorIndex_1+2
  4059                        L170:
  4060                        ;
  4061                        ;	//colorIndex = 4 * 4;
  4062                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4063                        	.line	632
  4064 06:0AD6: 18           	clc
  4065 06:0AD7: A9 00 20     	lda	#$2000
  4066 06:0ADA: 65 05        	adc	<L153+colorIndex_1
  4067 06:0ADC: 85 01        	sta	<R0
  4068 06:0ADE: A9 AF 00     	lda	#$af
  4069 06:0AE1: 65 07        	adc	<L153+colorIndex_1+2
  4070 06:0AE3: 85 03        	sta	<R0+2
  4071 06:0AE5: E2 20        	sep	#$20
  4072                        	longa	off
  4073 06:0AE7: A9 00        	lda	#$0
  4074 06:0AE9: 87 01        	sta	[<R0]
  4075 06:0AEB: C2 20        	rep	#$20
  4076                        	longa	on
  4077 06:0AED: E6 05        	inc	<L153+colorIndex_1
  4078 06:0AEF: D0 02        	bne	L171
  4079 06:0AF1: E6 07        	inc	<L153+colorIndex_1+2
  4080                        L171:
  4081                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  4082                        	.line	633
  4083 06:0AF3: 18           	clc
  4084 06:0AF4: A9 00 20     	lda	#$2000
  4085 06:0AF7: 65 05        	adc	<L153+colorIndex_1
  4086 06:0AF9: 85 01        	sta	<R0
  4087 06:0AFB: A9 AF 00     	lda	#$af
  4088 06:0AFE: 65 07        	adc	<L153+colorIndex_1+2
  4089 06:0B00: 85 03        	sta	<R0+2
  4090 06:0B02: E2 20        	sep	#$20
  4091                        	longa	off
  4092 06:0B04: A9 80        	lda	#$80
  Thu Jul 22 2021 22:51                                                Page 83


  4093 06:0B06: 87 01        	sta	[<R0]
  4094 06:0B08: C2 20        	rep	#$20
  4095                        	longa	on
  4096 06:0B0A: E6 05        	inc	<L153+colorIndex_1
  4097 06:0B0C: D0 02        	bne	L172
  4098 06:0B0E: E6 07        	inc	<L153+colorIndex_1+2
  4099                        L172:
  4100                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  4101                        	.line	634
  4102 06:0B10: 18           	clc
  4103 06:0B11: A9 00 20     	lda	#$2000
  4104 06:0B14: 65 05        	adc	<L153+colorIndex_1
  4105 06:0B16: 85 01        	sta	<R0
  4106 06:0B18: A9 AF 00     	lda	#$af
  4107 06:0B1B: 65 07        	adc	<L153+colorIndex_1+2
  4108 06:0B1D: 85 03        	sta	<R0+2
  4109 06:0B1F: E2 20        	sep	#$20
  4110                        	longa	off
  4111 06:0B21: A9 80        	lda	#$80
  4112 06:0B23: 87 01        	sta	[<R0]
  4113 06:0B25: C2 20        	rep	#$20
  4114                        	longa	on
  4115 06:0B27: E6 05        	inc	<L153+colorIndex_1
  4116 06:0B29: D0 02        	bne	L173
  4117 06:0B2B: E6 07        	inc	<L153+colorIndex_1+2
  4118                        L173:
  4119                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4120                        	.line	635
  4121 06:0B2D: 18           	clc
  4122 06:0B2E: A9 00 20     	lda	#$2000
  4123 06:0B31: 65 05        	adc	<L153+colorIndex_1
  4124 06:0B33: 85 01        	sta	<R0
  4125 06:0B35: A9 AF 00     	lda	#$af
  4126 06:0B38: 65 07        	adc	<L153+colorIndex_1+2
  4127 06:0B3A: 85 03        	sta	<R0+2
  4128 06:0B3C: E2 20        	sep	#$20
  4129                        	longa	off
  4130 06:0B3E: A9 FF        	lda	#$ff
  4131 06:0B40: 87 01        	sta	[<R0]
  4132 06:0B42: C2 20        	rep	#$20
  4133                        	longa	on
  4134 06:0B44: E6 05        	inc	<L153+colorIndex_1
  4135 06:0B46: D0 02        	bne	L174
  4136 06:0B48: E6 07        	inc	<L153+colorIndex_1+2
  4137                        L174:
  4138                        ;
  4139                        ;	//colorIndex = 5 * 4;
  4140                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  4141                        	.line	638
  4142 06:0B4A: 18           	clc
  4143 06:0B4B: A9 00 20     	lda	#$2000
  4144 06:0B4E: 65 05        	adc	<L153+colorIndex_1
  4145 06:0B50: 85 01        	sta	<R0
  4146 06:0B52: A9 AF 00     	lda	#$af
  4147 06:0B55: 65 07        	adc	<L153+colorIndex_1+2
  4148 06:0B57: 85 03        	sta	<R0+2
  4149 06:0B59: E2 20        	sep	#$20
  4150                        	longa	off
  Thu Jul 22 2021 22:51                                                Page 84


  4151 06:0B5B: A9 80        	lda	#$80
  4152 06:0B5D: 87 01        	sta	[<R0]
  4153 06:0B5F: C2 20        	rep	#$20
  4154                        	longa	on
  4155 06:0B61: E6 05        	inc	<L153+colorIndex_1
  4156 06:0B63: D0 02        	bne	L175
  4157 06:0B65: E6 07        	inc	<L153+colorIndex_1+2
  4158                        L175:
  4159                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  4160                        	.line	639
  4161 06:0B67: 18           	clc
  4162 06:0B68: A9 00 20     	lda	#$2000
  4163 06:0B6B: 65 05        	adc	<L153+colorIndex_1
  4164 06:0B6D: 85 01        	sta	<R0
  4165 06:0B6F: A9 AF 00     	lda	#$af
  4166 06:0B72: 65 07        	adc	<L153+colorIndex_1+2
  4167 06:0B74: 85 03        	sta	<R0+2
  4168 06:0B76: E2 20        	sep	#$20
  4169                        	longa	off
  4170 06:0B78: A9 80        	lda	#$80
  4171 06:0B7A: 87 01        	sta	[<R0]
  4172 06:0B7C: C2 20        	rep	#$20
  4173                        	longa	on
  4174 06:0B7E: E6 05        	inc	<L153+colorIndex_1
  4175 06:0B80: D0 02        	bne	L176
  4176 06:0B82: E6 07        	inc	<L153+colorIndex_1+2
  4177                        L176:
  4178                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4179                        	.line	640
  4180 06:0B84: 18           	clc
  4181 06:0B85: A9 00 20     	lda	#$2000
  4182 06:0B88: 65 05        	adc	<L153+colorIndex_1
  4183 06:0B8A: 85 01        	sta	<R0
  4184 06:0B8C: A9 AF 00     	lda	#$af
  4185 06:0B8F: 65 07        	adc	<L153+colorIndex_1+2
  4186 06:0B91: 85 03        	sta	<R0+2
  4187 06:0B93: E2 20        	sep	#$20
  4188                        	longa	off
  4189 06:0B95: A9 00        	lda	#$0
  4190 06:0B97: 87 01        	sta	[<R0]
  4191 06:0B99: C2 20        	rep	#$20
  4192                        	longa	on
  4193 06:0B9B: E6 05        	inc	<L153+colorIndex_1
  4194 06:0B9D: D0 02        	bne	L177
  4195 06:0B9F: E6 07        	inc	<L153+colorIndex_1+2
  4196                        L177:
  4197                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4198                        	.line	641
  4199 06:0BA1: 18           	clc
  4200 06:0BA2: A9 00 20     	lda	#$2000
  4201 06:0BA5: 65 05        	adc	<L153+colorIndex_1
  4202 06:0BA7: 85 01        	sta	<R0
  4203 06:0BA9: A9 AF 00     	lda	#$af
  4204 06:0BAC: 65 07        	adc	<L153+colorIndex_1+2
  4205 06:0BAE: 85 03        	sta	<R0+2
  4206 06:0BB0: E2 20        	sep	#$20
  4207                        	longa	off
  4208 06:0BB2: A9 FF        	lda	#$ff
  Thu Jul 22 2021 22:51                                                Page 85


  4209 06:0BB4: 87 01        	sta	[<R0]
  4210 06:0BB6: C2 20        	rep	#$20
  4211                        	longa	on
  4212 06:0BB8: E6 05        	inc	<L153+colorIndex_1
  4213 06:0BBA: D0 02        	bne	L178
  4214 06:0BBC: E6 07        	inc	<L153+colorIndex_1+2
  4215                        L178:
  4216                        ;
  4217                        ;	//colorIndex = 6 * 4;
  4218                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  4219                        	.line	644
  4220 06:0BBE: 18           	clc
  4221 06:0BBF: A9 00 20     	lda	#$2000
  4222 06:0BC2: 65 05        	adc	<L153+colorIndex_1
  4223 06:0BC4: 85 01        	sta	<R0
  4224 06:0BC6: A9 AF 00     	lda	#$af
  4225 06:0BC9: 65 07        	adc	<L153+colorIndex_1+2
  4226 06:0BCB: 85 03        	sta	<R0+2
  4227 06:0BCD: E2 20        	sep	#$20
  4228                        	longa	off
  4229 06:0BCF: A9 80        	lda	#$80
  4230 06:0BD1: 87 01        	sta	[<R0]
  4231 06:0BD3: C2 20        	rep	#$20
  4232                        	longa	on
  4233 06:0BD5: E6 05        	inc	<L153+colorIndex_1
  4234 06:0BD7: D0 02        	bne	L179
  4235 06:0BD9: E6 07        	inc	<L153+colorIndex_1+2
  4236                        L179:
  4237                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4238                        	.line	645
  4239 06:0BDB: 18           	clc
  4240 06:0BDC: A9 00 20     	lda	#$2000
  4241 06:0BDF: 65 05        	adc	<L153+colorIndex_1
  4242 06:0BE1: 85 01        	sta	<R0
  4243 06:0BE3: A9 AF 00     	lda	#$af
  4244 06:0BE6: 65 07        	adc	<L153+colorIndex_1+2
  4245 06:0BE8: 85 03        	sta	<R0+2
  4246 06:0BEA: E2 20        	sep	#$20
  4247                        	longa	off
  4248 06:0BEC: A9 00        	lda	#$0
  4249 06:0BEE: 87 01        	sta	[<R0]
  4250 06:0BF0: C2 20        	rep	#$20
  4251                        	longa	on
  4252 06:0BF2: E6 05        	inc	<L153+colorIndex_1
  4253 06:0BF4: D0 02        	bne	L180
  4254 06:0BF6: E6 07        	inc	<L153+colorIndex_1+2
  4255                        L180:
  4256                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  4257                        	.line	646
  4258 06:0BF8: 18           	clc
  4259 06:0BF9: A9 00 20     	lda	#$2000
  4260 06:0BFC: 65 05        	adc	<L153+colorIndex_1
  4261 06:0BFE: 85 01        	sta	<R0
  4262 06:0C00: A9 AF 00     	lda	#$af
  4263 06:0C03: 65 07        	adc	<L153+colorIndex_1+2
  4264 06:0C05: 85 03        	sta	<R0+2
  4265 06:0C07: E2 20        	sep	#$20
  4266                        	longa	off
  Thu Jul 22 2021 22:51                                                Page 86


  4267 06:0C09: A9 80        	lda	#$80
  4268 06:0C0B: 87 01        	sta	[<R0]
  4269 06:0C0D: C2 20        	rep	#$20
  4270                        	longa	on
  4271 06:0C0F: E6 05        	inc	<L153+colorIndex_1
  4272 06:0C11: D0 02        	bne	L181
  4273 06:0C13: E6 07        	inc	<L153+colorIndex_1+2
  4274                        L181:
  4275                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4276                        	.line	647
  4277 06:0C15: 18           	clc
  4278 06:0C16: A9 00 20     	lda	#$2000
  4279 06:0C19: 65 05        	adc	<L153+colorIndex_1
  4280 06:0C1B: 85 01        	sta	<R0
  4281 06:0C1D: A9 AF 00     	lda	#$af
  4282 06:0C20: 65 07        	adc	<L153+colorIndex_1+2
  4283 06:0C22: 85 03        	sta	<R0+2
  4284 06:0C24: E2 20        	sep	#$20
  4285                        	longa	off
  4286 06:0C26: A9 FF        	lda	#$ff
  4287 06:0C28: 87 01        	sta	[<R0]
  4288 06:0C2A: C2 20        	rep	#$20
  4289                        	longa	on
  4290 06:0C2C: E6 05        	inc	<L153+colorIndex_1
  4291 06:0C2E: D0 02        	bne	L182
  4292 06:0C30: E6 07        	inc	<L153+colorIndex_1+2
  4293                        L182:
  4294                        ;
  4295                        ;	//colorIndex = 7 * 4;
  4296                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4297                        	.line	650
  4298 06:0C32: 18           	clc
  4299 06:0C33: A9 00 20     	lda	#$2000
  4300 06:0C36: 65 05        	adc	<L153+colorIndex_1
  4301 06:0C38: 85 01        	sta	<R0
  4302 06:0C3A: A9 AF 00     	lda	#$af
  4303 06:0C3D: 65 07        	adc	<L153+colorIndex_1+2
  4304 06:0C3F: 85 03        	sta	<R0+2
  4305 06:0C41: E2 20        	sep	#$20
  4306                        	longa	off
  4307 06:0C43: A9 00        	lda	#$0
  4308 06:0C45: 87 01        	sta	[<R0]
  4309 06:0C47: C2 20        	rep	#$20
  4310                        	longa	on
  4311 06:0C49: E6 05        	inc	<L153+colorIndex_1
  4312 06:0C4B: D0 02        	bne	L183
  4313 06:0C4D: E6 07        	inc	<L153+colorIndex_1+2
  4314                        L183:
  4315                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x45;
  4316                        	.line	651
  4317 06:0C4F: 18           	clc
  4318 06:0C50: A9 00 20     	lda	#$2000
  4319 06:0C53: 65 05        	adc	<L153+colorIndex_1
  4320 06:0C55: 85 01        	sta	<R0
  4321 06:0C57: A9 AF 00     	lda	#$af
  4322 06:0C5A: 65 07        	adc	<L153+colorIndex_1+2
  4323 06:0C5C: 85 03        	sta	<R0+2
  4324 06:0C5E: E2 20        	sep	#$20
  Thu Jul 22 2021 22:51                                                Page 87


  4325                        	longa	off
  4326 06:0C60: A9 45        	lda	#$45
  4327 06:0C62: 87 01        	sta	[<R0]
  4328 06:0C64: C2 20        	rep	#$20
  4329                        	longa	on
  4330 06:0C66: E6 05        	inc	<L153+colorIndex_1
  4331 06:0C68: D0 02        	bne	L184
  4332 06:0C6A: E6 07        	inc	<L153+colorIndex_1+2
  4333                        L184:
  4334                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4335                        	.line	652
  4336 06:0C6C: 18           	clc
  4337 06:0C6D: A9 00 20     	lda	#$2000
  4338 06:0C70: 65 05        	adc	<L153+colorIndex_1
  4339 06:0C72: 85 01        	sta	<R0
  4340 06:0C74: A9 AF 00     	lda	#$af
  4341 06:0C77: 65 07        	adc	<L153+colorIndex_1+2
  4342 06:0C79: 85 03        	sta	<R0+2
  4343 06:0C7B: E2 20        	sep	#$20
  4344                        	longa	off
  4345 06:0C7D: A9 FF        	lda	#$ff
  4346 06:0C7F: 87 01        	sta	[<R0]
  4347 06:0C81: C2 20        	rep	#$20
  4348                        	longa	on
  4349 06:0C83: E6 05        	inc	<L153+colorIndex_1
  4350 06:0C85: D0 02        	bne	L185
  4351 06:0C87: E6 07        	inc	<L153+colorIndex_1+2
  4352                        L185:
  4353                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4354                        	.line	653
  4355 06:0C89: 18           	clc
  4356 06:0C8A: A9 00 20     	lda	#$2000
  4357 06:0C8D: 65 05        	adc	<L153+colorIndex_1
  4358 06:0C8F: 85 01        	sta	<R0
  4359 06:0C91: A9 AF 00     	lda	#$af
  4360 06:0C94: 65 07        	adc	<L153+colorIndex_1+2
  4361 06:0C96: 85 03        	sta	<R0+2
  4362 06:0C98: E2 20        	sep	#$20
  4363                        	longa	off
  4364 06:0C9A: A9 FF        	lda	#$ff
  4365 06:0C9C: 87 01        	sta	[<R0]
  4366 06:0C9E: C2 20        	rep	#$20
  4367                        	longa	on
  4368 06:0CA0: E6 05        	inc	<L153+colorIndex_1
  4369 06:0CA2: D0 02        	bne	L186
  4370 06:0CA4: E6 07        	inc	<L153+colorIndex_1+2
  4371                        L186:
  4372                        ;
  4373                        ;	//colorIndex = 8 * 4;
  4374                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x13;
  4375                        	.line	656
  4376 06:0CA6: 18           	clc
  4377 06:0CA7: A9 00 20     	lda	#$2000
  4378 06:0CAA: 65 05        	adc	<L153+colorIndex_1
  4379 06:0CAC: 85 01        	sta	<R0
  4380 06:0CAE: A9 AF 00     	lda	#$af
  4381 06:0CB1: 65 07        	adc	<L153+colorIndex_1+2
  4382 06:0CB3: 85 03        	sta	<R0+2
  Thu Jul 22 2021 22:51                                                Page 88


  4383 06:0CB5: E2 20        	sep	#$20
  4384                        	longa	off
  4385 06:0CB7: A9 13        	lda	#$13
  4386 06:0CB9: 87 01        	sta	[<R0]
  4387 06:0CBB: C2 20        	rep	#$20
  4388                        	longa	on
  4389 06:0CBD: E6 05        	inc	<L153+colorIndex_1
  4390 06:0CBF: D0 02        	bne	L187
  4391 06:0CC1: E6 07        	inc	<L153+colorIndex_1+2
  4392                        L187:
  4393                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x45;
  4394                        	.line	657
  4395 06:0CC3: 18           	clc
  4396 06:0CC4: A9 00 20     	lda	#$2000
  4397 06:0CC7: 65 05        	adc	<L153+colorIndex_1
  4398 06:0CC9: 85 01        	sta	<R0
  4399 06:0CCB: A9 AF 00     	lda	#$af
  4400 06:0CCE: 65 07        	adc	<L153+colorIndex_1+2
  4401 06:0CD0: 85 03        	sta	<R0+2
  4402 06:0CD2: E2 20        	sep	#$20
  4403                        	longa	off
  4404 06:0CD4: A9 45        	lda	#$45
  4405 06:0CD6: 87 01        	sta	[<R0]
  4406 06:0CD8: C2 20        	rep	#$20
  4407                        	longa	on
  4408 06:0CDA: E6 05        	inc	<L153+colorIndex_1
  4409 06:0CDC: D0 02        	bne	L188
  4410 06:0CDE: E6 07        	inc	<L153+colorIndex_1+2
  4411                        L188:
  4412                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x8B;
  4413                        	.line	658
  4414 06:0CE0: 18           	clc
  4415 06:0CE1: A9 00 20     	lda	#$2000
  4416 06:0CE4: 65 05        	adc	<L153+colorIndex_1
  4417 06:0CE6: 85 01        	sta	<R0
  4418 06:0CE8: A9 AF 00     	lda	#$af
  4419 06:0CEB: 65 07        	adc	<L153+colorIndex_1+2
  4420 06:0CED: 85 03        	sta	<R0+2
  4421 06:0CEF: E2 20        	sep	#$20
  4422                        	longa	off
  4423 06:0CF1: A9 8B        	lda	#$8b
  4424 06:0CF3: 87 01        	sta	[<R0]
  4425 06:0CF5: C2 20        	rep	#$20
  4426                        	longa	on
  4427 06:0CF7: E6 05        	inc	<L153+colorIndex_1
  4428 06:0CF9: D0 02        	bne	L189
  4429 06:0CFB: E6 07        	inc	<L153+colorIndex_1+2
  4430                        L189:
  4431                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4432                        	.line	659
  4433 06:0CFD: 18           	clc
  4434 06:0CFE: A9 00 20     	lda	#$2000
  4435 06:0D01: 65 05        	adc	<L153+colorIndex_1
  4436 06:0D03: 85 01        	sta	<R0
  4437 06:0D05: A9 AF 00     	lda	#$af
  4438 06:0D08: 65 07        	adc	<L153+colorIndex_1+2
  4439 06:0D0A: 85 03        	sta	<R0+2
  4440 06:0D0C: E2 20        	sep	#$20
  Thu Jul 22 2021 22:51                                                Page 89


  4441                        	longa	off
  4442 06:0D0E: A9 FF        	lda	#$ff
  4443 06:0D10: 87 01        	sta	[<R0]
  4444 06:0D12: C2 20        	rep	#$20
  4445                        	longa	on
  4446 06:0D14: E6 05        	inc	<L153+colorIndex_1
  4447 06:0D16: D0 02        	bne	L190
  4448 06:0D18: E6 07        	inc	<L153+colorIndex_1+2
  4449                        L190:
  4450                        ;
  4451                        ;	//colorIndex = 9 * 4;
  4452                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4453                        	.line	662
  4454 06:0D1A: 18           	clc
  4455 06:0D1B: A9 00 20     	lda	#$2000
  4456 06:0D1E: 65 05        	adc	<L153+colorIndex_1
  4457 06:0D20: 85 01        	sta	<R0
  4458 06:0D22: A9 AF 00     	lda	#$af
  4459 06:0D25: 65 07        	adc	<L153+colorIndex_1+2
  4460 06:0D27: 85 03        	sta	<R0+2
  4461 06:0D29: E2 20        	sep	#$20
  4462                        	longa	off
  4463 06:0D2B: A9 00        	lda	#$0
  4464 06:0D2D: 87 01        	sta	[<R0]
  4465 06:0D2F: C2 20        	rep	#$20
  4466                        	longa	on
  4467 06:0D31: E6 05        	inc	<L153+colorIndex_1
  4468 06:0D33: D0 02        	bne	L191
  4469 06:0D35: E6 07        	inc	<L153+colorIndex_1+2
  4470                        L191:
  4471                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4472                        	.line	663
  4473 06:0D37: 18           	clc
  4474 06:0D38: A9 00 20     	lda	#$2000
  4475 06:0D3B: 65 05        	adc	<L153+colorIndex_1
  4476 06:0D3D: 85 01        	sta	<R0
  4477 06:0D3F: A9 AF 00     	lda	#$af
  4478 06:0D42: 65 07        	adc	<L153+colorIndex_1+2
  4479 06:0D44: 85 03        	sta	<R0+2
  4480 06:0D46: E2 20        	sep	#$20
  4481                        	longa	off
  4482 06:0D48: A9 00        	lda	#$0
  4483 06:0D4A: 87 01        	sta	[<R0]
  4484 06:0D4C: C2 20        	rep	#$20
  4485                        	longa	on
  4486 06:0D4E: E6 05        	inc	<L153+colorIndex_1
  4487 06:0D50: D0 02        	bne	L192
  4488 06:0D52: E6 07        	inc	<L153+colorIndex_1+2
  4489                        L192:
  4490                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x20;
  4491                        	.line	664
  4492 06:0D54: 18           	clc
  4493 06:0D55: A9 00 20     	lda	#$2000
  4494 06:0D58: 65 05        	adc	<L153+colorIndex_1
  4495 06:0D5A: 85 01        	sta	<R0
  4496 06:0D5C: A9 AF 00     	lda	#$af
  4497 06:0D5F: 65 07        	adc	<L153+colorIndex_1+2
  4498 06:0D61: 85 03        	sta	<R0+2
  Thu Jul 22 2021 22:51                                                Page 90


  4499 06:0D63: E2 20        	sep	#$20
  4500                        	longa	off
  4501 06:0D65: A9 20        	lda	#$20
  4502 06:0D67: 87 01        	sta	[<R0]
  4503 06:0D69: C2 20        	rep	#$20
  4504                        	longa	on
  4505 06:0D6B: E6 05        	inc	<L153+colorIndex_1
  4506 06:0D6D: D0 02        	bne	L193
  4507 06:0D6F: E6 07        	inc	<L153+colorIndex_1+2
  4508                        L193:
  4509                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4510                        	.line	665
  4511 06:0D71: 18           	clc
  4512 06:0D72: A9 00 20     	lda	#$2000
  4513 06:0D75: 65 05        	adc	<L153+colorIndex_1
  4514 06:0D77: 85 01        	sta	<R0
  4515 06:0D79: A9 AF 00     	lda	#$af
  4516 06:0D7C: 65 07        	adc	<L153+colorIndex_1+2
  4517 06:0D7E: 85 03        	sta	<R0+2
  4518 06:0D80: E2 20        	sep	#$20
  4519                        	longa	off
  4520 06:0D82: A9 FF        	lda	#$ff
  4521 06:0D84: 87 01        	sta	[<R0]
  4522 06:0D86: C2 20        	rep	#$20
  4523                        	longa	on
  4524 06:0D88: E6 05        	inc	<L153+colorIndex_1
  4525 06:0D8A: D0 02        	bne	L194
  4526 06:0D8C: E6 07        	inc	<L153+colorIndex_1+2
  4527                        L194:
  4528                        ;
  4529                        ;	//colorIndex = 10 * 4;
  4530                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4531                        	.line	668
  4532 06:0D8E: 18           	clc
  4533 06:0D8F: A9 00 20     	lda	#$2000
  4534 06:0D92: 65 05        	adc	<L153+colorIndex_1
  4535 06:0D94: 85 01        	sta	<R0
  4536 06:0D96: A9 AF 00     	lda	#$af
  4537 06:0D99: 65 07        	adc	<L153+colorIndex_1+2
  4538 06:0D9B: 85 03        	sta	<R0+2
  4539 06:0D9D: E2 20        	sep	#$20
  4540                        	longa	off
  4541 06:0D9F: A9 00        	lda	#$0
  4542 06:0DA1: 87 01        	sta	[<R0]
  4543 06:0DA3: C2 20        	rep	#$20
  4544                        	longa	on
  4545 06:0DA5: E6 05        	inc	<L153+colorIndex_1
  4546 06:0DA7: D0 02        	bne	L195
  4547 06:0DA9: E6 07        	inc	<L153+colorIndex_1+2
  4548                        L195:
  4549                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x20;
  4550                        	.line	669
  4551 06:0DAB: 18           	clc
  4552 06:0DAC: A9 00 20     	lda	#$2000
  4553 06:0DAF: 65 05        	adc	<L153+colorIndex_1
  4554 06:0DB1: 85 01        	sta	<R0
  4555 06:0DB3: A9 AF 00     	lda	#$af
  4556 06:0DB6: 65 07        	adc	<L153+colorIndex_1+2
  Thu Jul 22 2021 22:51                                                Page 91


  4557 06:0DB8: 85 03        	sta	<R0+2
  4558 06:0DBA: E2 20        	sep	#$20
  4559                        	longa	off
  4560 06:0DBC: A9 20        	lda	#$20
  4561 06:0DBE: 87 01        	sta	[<R0]
  4562 06:0DC0: C2 20        	rep	#$20
  4563                        	longa	on
  4564 06:0DC2: E6 05        	inc	<L153+colorIndex_1
  4565 06:0DC4: D0 02        	bne	L196
  4566 06:0DC6: E6 07        	inc	<L153+colorIndex_1+2
  4567                        L196:
  4568                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4569                        	.line	670
  4570 06:0DC8: 18           	clc
  4571 06:0DC9: A9 00 20     	lda	#$2000
  4572 06:0DCC: 65 05        	adc	<L153+colorIndex_1
  4573 06:0DCE: 85 01        	sta	<R0
  4574 06:0DD0: A9 AF 00     	lda	#$af
  4575 06:0DD3: 65 07        	adc	<L153+colorIndex_1+2
  4576 06:0DD5: 85 03        	sta	<R0+2
  4577 06:0DD7: E2 20        	sep	#$20
  4578                        	longa	off
  4579 06:0DD9: A9 00        	lda	#$0
  4580 06:0DDB: 87 01        	sta	[<R0]
  4581 06:0DDD: C2 20        	rep	#$20
  4582                        	longa	on
  4583 06:0DDF: E6 05        	inc	<L153+colorIndex_1
  4584 06:0DE1: D0 02        	bne	L197
  4585 06:0DE3: E6 07        	inc	<L153+colorIndex_1+2
  4586                        L197:
  4587                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4588                        	.line	671
  4589 06:0DE5: 18           	clc
  4590 06:0DE6: A9 00 20     	lda	#$2000
  4591 06:0DE9: 65 05        	adc	<L153+colorIndex_1
  4592 06:0DEB: 85 01        	sta	<R0
  4593 06:0DED: A9 AF 00     	lda	#$af
  4594 06:0DF0: 65 07        	adc	<L153+colorIndex_1+2
  4595 06:0DF2: 85 03        	sta	<R0+2
  4596 06:0DF4: E2 20        	sep	#$20
  4597                        	longa	off
  4598 06:0DF6: A9 FF        	lda	#$ff
  4599 06:0DF8: 87 01        	sta	[<R0]
  4600 06:0DFA: C2 20        	rep	#$20
  4601                        	longa	on
  4602 06:0DFC: E6 05        	inc	<L153+colorIndex_1
  4603 06:0DFE: D0 02        	bne	L198
  4604 06:0E00: E6 07        	inc	<L153+colorIndex_1+2
  4605                        L198:
  4606                        ;
  4607                        ;	//colorIndex = 11 * 4;
  4608                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x20;
  4609                        	.line	674
  4610 06:0E02: 18           	clc
  4611 06:0E03: A9 00 20     	lda	#$2000
  4612 06:0E06: 65 05        	adc	<L153+colorIndex_1
  4613 06:0E08: 85 01        	sta	<R0
  4614 06:0E0A: A9 AF 00     	lda	#$af
  Thu Jul 22 2021 22:51                                                Page 92


  4615 06:0E0D: 65 07        	adc	<L153+colorIndex_1+2
  4616 06:0E0F: 85 03        	sta	<R0+2
  4617 06:0E11: E2 20        	sep	#$20
  4618                        	longa	off
  4619 06:0E13: A9 20        	lda	#$20
  4620 06:0E15: 87 01        	sta	[<R0]
  4621 06:0E17: C2 20        	rep	#$20
  4622                        	longa	on
  4623 06:0E19: E6 05        	inc	<L153+colorIndex_1
  4624 06:0E1B: D0 02        	bne	L199
  4625 06:0E1D: E6 07        	inc	<L153+colorIndex_1+2
  4626                        L199:
  4627                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4628                        	.line	675
  4629 06:0E1F: 18           	clc
  4630 06:0E20: A9 00 20     	lda	#$2000
  4631 06:0E23: 65 05        	adc	<L153+colorIndex_1
  4632 06:0E25: 85 01        	sta	<R0
  4633 06:0E27: A9 AF 00     	lda	#$af
  4634 06:0E2A: 65 07        	adc	<L153+colorIndex_1+2
  4635 06:0E2C: 85 03        	sta	<R0+2
  4636 06:0E2E: E2 20        	sep	#$20
  4637                        	longa	off
  4638 06:0E30: A9 00        	lda	#$0
  4639 06:0E32: 87 01        	sta	[<R0]
  4640 06:0E34: C2 20        	rep	#$20
  4641                        	longa	on
  4642 06:0E36: E6 05        	inc	<L153+colorIndex_1
  4643 06:0E38: D0 02        	bne	L200
  4644 06:0E3A: E6 07        	inc	<L153+colorIndex_1+2
  4645                        L200:
  4646                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4647                        	.line	676
  4648 06:0E3C: 18           	clc
  4649 06:0E3D: A9 00 20     	lda	#$2000
  4650 06:0E40: 65 05        	adc	<L153+colorIndex_1
  4651 06:0E42: 85 01        	sta	<R0
  4652 06:0E44: A9 AF 00     	lda	#$af
  4653 06:0E47: 65 07        	adc	<L153+colorIndex_1+2
  4654 06:0E49: 85 03        	sta	<R0+2
  4655 06:0E4B: E2 20        	sep	#$20
  4656                        	longa	off
  4657 06:0E4D: A9 00        	lda	#$0
  4658 06:0E4F: 87 01        	sta	[<R0]
  4659 06:0E51: C2 20        	rep	#$20
  4660                        	longa	on
  4661 06:0E53: E6 05        	inc	<L153+colorIndex_1
  4662 06:0E55: D0 02        	bne	L201
  4663 06:0E57: E6 07        	inc	<L153+colorIndex_1+2
  4664                        L201:
  4665                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4666                        	.line	677
  4667 06:0E59: 18           	clc
  4668 06:0E5A: A9 00 20     	lda	#$2000
  4669 06:0E5D: 65 05        	adc	<L153+colorIndex_1
  4670 06:0E5F: 85 01        	sta	<R0
  4671 06:0E61: A9 AF 00     	lda	#$af
  4672 06:0E64: 65 07        	adc	<L153+colorIndex_1+2
  Thu Jul 22 2021 22:51                                                Page 93


  4673 06:0E66: 85 03        	sta	<R0+2
  4674 06:0E68: E2 20        	sep	#$20
  4675                        	longa	off
  4676 06:0E6A: A9 FF        	lda	#$ff
  4677 06:0E6C: 87 01        	sta	[<R0]
  4678 06:0E6E: C2 20        	rep	#$20
  4679                        	longa	on
  4680 06:0E70: E6 05        	inc	<L153+colorIndex_1
  4681 06:0E72: D0 02        	bne	L202
  4682 06:0E74: E6 07        	inc	<L153+colorIndex_1+2
  4683                        L202:
  4684                        ;
  4685                        ;	//colorIndex = 12 * 4;
  4686                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4687                        	.line	680
  4688 06:0E76: 18           	clc
  4689 06:0E77: A9 00 20     	lda	#$2000
  4690 06:0E7A: 65 05        	adc	<L153+colorIndex_1
  4691 06:0E7C: 85 01        	sta	<R0
  4692 06:0E7E: A9 AF 00     	lda	#$af
  4693 06:0E81: 65 07        	adc	<L153+colorIndex_1+2
  4694 06:0E83: 85 03        	sta	<R0+2
  4695 06:0E85: E2 20        	sep	#$20
  4696                        	longa	off
  4697 06:0E87: A9 00        	lda	#$0
  4698 06:0E89: 87 01        	sta	[<R0]
  4699 06:0E8B: C2 20        	rep	#$20
  4700                        	longa	on
  4701 06:0E8D: E6 05        	inc	<L153+colorIndex_1
  4702 06:0E8F: D0 02        	bne	L203
  4703 06:0E91: E6 07        	inc	<L153+colorIndex_1+2
  4704                        L203:
  4705                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4706                        	.line	681
  4707 06:0E93: 18           	clc
  4708 06:0E94: A9 00 20     	lda	#$2000
  4709 06:0E97: 65 05        	adc	<L153+colorIndex_1
  4710 06:0E99: 85 01        	sta	<R0
  4711 06:0E9B: A9 AF 00     	lda	#$af
  4712 06:0E9E: 65 07        	adc	<L153+colorIndex_1+2
  4713 06:0EA0: 85 03        	sta	<R0+2
  4714 06:0EA2: E2 20        	sep	#$20
  4715                        	longa	off
  4716 06:0EA4: A9 00        	lda	#$0
  4717 06:0EA6: 87 01        	sta	[<R0]
  4718 06:0EA8: C2 20        	rep	#$20
  4719                        	longa	on
  4720 06:0EAA: E6 05        	inc	<L153+colorIndex_1
  4721 06:0EAC: D0 02        	bne	L204
  4722 06:0EAE: E6 07        	inc	<L153+colorIndex_1+2
  4723                        L204:
  4724                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4725                        	.line	682
  4726 06:0EB0: 18           	clc
  4727 06:0EB1: A9 00 20     	lda	#$2000
  4728 06:0EB4: 65 05        	adc	<L153+colorIndex_1
  4729 06:0EB6: 85 01        	sta	<R0
  4730 06:0EB8: A9 AF 00     	lda	#$af
  Thu Jul 22 2021 22:51                                                Page 94


  4731 06:0EBB: 65 07        	adc	<L153+colorIndex_1+2
  4732 06:0EBD: 85 03        	sta	<R0+2
  4733 06:0EBF: E2 20        	sep	#$20
  4734                        	longa	off
  4735 06:0EC1: A9 00        	lda	#$0
  4736 06:0EC3: 87 01        	sta	[<R0]
  4737 06:0EC5: C2 20        	rep	#$20
  4738                        	longa	on
  4739 06:0EC7: E6 05        	inc	<L153+colorIndex_1
  4740 06:0EC9: D0 02        	bne	L205
  4741 06:0ECB: E6 07        	inc	<L153+colorIndex_1+2
  4742                        L205:
  4743                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4744                        	.line	683
  4745 06:0ECD: 18           	clc
  4746 06:0ECE: A9 00 20     	lda	#$2000
  4747 06:0ED1: 65 05        	adc	<L153+colorIndex_1
  4748 06:0ED3: 85 01        	sta	<R0
  4749 06:0ED5: A9 AF 00     	lda	#$af
  4750 06:0ED8: 65 07        	adc	<L153+colorIndex_1+2
  4751 06:0EDA: 85 03        	sta	<R0+2
  4752 06:0EDC: E2 20        	sep	#$20
  4753                        	longa	off
  4754 06:0EDE: A9 FF        	lda	#$ff
  4755 06:0EE0: 87 01        	sta	[<R0]
  4756 06:0EE2: C2 20        	rep	#$20
  4757                        	longa	on
  4758 06:0EE4: E6 05        	inc	<L153+colorIndex_1
  4759 06:0EE6: D0 02        	bne	L206
  4760 06:0EE8: E6 07        	inc	<L153+colorIndex_1+2
  4761                        L206:
  4762                        ;
  4763                        ;	//colorIndex = 13 * 4;
  4764                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x50;
  4765                        	.line	686
  4766 06:0EEA: 18           	clc
  4767 06:0EEB: A9 00 20     	lda	#$2000
  4768 06:0EEE: 65 05        	adc	<L153+colorIndex_1
  4769 06:0EF0: 85 01        	sta	<R0
  4770 06:0EF2: A9 AF 00     	lda	#$af
  4771 06:0EF5: 65 07        	adc	<L153+colorIndex_1+2
  4772 06:0EF7: 85 03        	sta	<R0+2
  4773 06:0EF9: E2 20        	sep	#$20
  4774                        	longa	off
  4775 06:0EFB: A9 50        	lda	#$50
  4776 06:0EFD: 87 01        	sta	[<R0]
  4777 06:0EFF: C2 20        	rep	#$20
  4778                        	longa	on
  4779 06:0F01: E6 05        	inc	<L153+colorIndex_1
  4780 06:0F03: D0 02        	bne	L207
  4781 06:0F05: E6 07        	inc	<L153+colorIndex_1+2
  4782                        L207:
  4783                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x50;
  4784                        	.line	687
  4785 06:0F07: 18           	clc
  4786 06:0F08: A9 00 20     	lda	#$2000
  4787 06:0F0B: 65 05        	adc	<L153+colorIndex_1
  4788 06:0F0D: 85 01        	sta	<R0
  Thu Jul 22 2021 22:51                                                Page 95


  4789 06:0F0F: A9 AF 00     	lda	#$af
  4790 06:0F12: 65 07        	adc	<L153+colorIndex_1+2
  4791 06:0F14: 85 03        	sta	<R0+2
  4792 06:0F16: E2 20        	sep	#$20
  4793                        	longa	off
  4794 06:0F18: A9 50        	lda	#$50
  4795 06:0F1A: 87 01        	sta	[<R0]
  4796 06:0F1C: C2 20        	rep	#$20
  4797                        	longa	on
  4798 06:0F1E: E6 05        	inc	<L153+colorIndex_1
  4799 06:0F20: D0 02        	bne	L208
  4800 06:0F22: E6 07        	inc	<L153+colorIndex_1+2
  4801                        L208:
  4802                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x50;
  4803                        	.line	688
  4804 06:0F24: 18           	clc
  4805 06:0F25: A9 00 20     	lda	#$2000
  4806 06:0F28: 65 05        	adc	<L153+colorIndex_1
  4807 06:0F2A: 85 01        	sta	<R0
  4808 06:0F2C: A9 AF 00     	lda	#$af
  4809 06:0F2F: 65 07        	adc	<L153+colorIndex_1+2
  4810 06:0F31: 85 03        	sta	<R0+2
  4811 06:0F33: E2 20        	sep	#$20
  4812                        	longa	off
  4813 06:0F35: A9 50        	lda	#$50
  4814 06:0F37: 87 01        	sta	[<R0]
  4815 06:0F39: C2 20        	rep	#$20
  4816                        	longa	on
  4817 06:0F3B: E6 05        	inc	<L153+colorIndex_1
  4818 06:0F3D: D0 02        	bne	L209
  4819 06:0F3F: E6 07        	inc	<L153+colorIndex_1+2
  4820                        L209:
  4821                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4822                        	.line	689
  4823 06:0F41: 18           	clc
  4824 06:0F42: A9 00 20     	lda	#$2000
  4825 06:0F45: 65 05        	adc	<L153+colorIndex_1
  4826 06:0F47: 85 01        	sta	<R0
  4827 06:0F49: A9 AF 00     	lda	#$af
  4828 06:0F4C: 65 07        	adc	<L153+colorIndex_1+2
  4829 06:0F4E: 85 03        	sta	<R0+2
  4830 06:0F50: E2 20        	sep	#$20
  4831                        	longa	off
  4832 06:0F52: A9 FF        	lda	#$ff
  4833 06:0F54: 87 01        	sta	[<R0]
  4834 06:0F56: C2 20        	rep	#$20
  4835                        	longa	on
  4836 06:0F58: E6 05        	inc	<L153+colorIndex_1
  4837 06:0F5A: D0 02        	bne	L210
  4838 06:0F5C: E6 07        	inc	<L153+colorIndex_1+2
  4839                        L210:
  4840                        ;
  4841                        ;	//colorIndex = 14 * 4;
  4842                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x40;
  4843                        	.line	692
  4844 06:0F5E: 18           	clc
  4845 06:0F5F: A9 00 20     	lda	#$2000
  4846 06:0F62: 65 05        	adc	<L153+colorIndex_1
  Thu Jul 22 2021 22:51                                                Page 96


  4847 06:0F64: 85 01        	sta	<R0
  4848 06:0F66: A9 AF 00     	lda	#$af
  4849 06:0F69: 65 07        	adc	<L153+colorIndex_1+2
  4850 06:0F6B: 85 03        	sta	<R0+2
  4851 06:0F6D: E2 20        	sep	#$20
  4852                        	longa	off
  4853 06:0F6F: A9 40        	lda	#$40
  4854 06:0F71: 87 01        	sta	[<R0]
  4855 06:0F73: C2 20        	rep	#$20
  4856                        	longa	on
  4857 06:0F75: E6 05        	inc	<L153+colorIndex_1
  4858 06:0F77: D0 02        	bne	L211
  4859 06:0F79: E6 07        	inc	<L153+colorIndex_1+2
  4860                        L211:
  4861                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x40;
  4862                        	.line	693
  4863 06:0F7B: 18           	clc
  4864 06:0F7C: A9 00 20     	lda	#$2000
  4865 06:0F7F: 65 05        	adc	<L153+colorIndex_1
  4866 06:0F81: 85 01        	sta	<R0
  4867 06:0F83: A9 AF 00     	lda	#$af
  4868 06:0F86: 65 07        	adc	<L153+colorIndex_1+2
  4869 06:0F88: 85 03        	sta	<R0+2
  4870 06:0F8A: E2 20        	sep	#$20
  4871                        	longa	off
  4872 06:0F8C: A9 40        	lda	#$40
  4873 06:0F8E: 87 01        	sta	[<R0]
  4874 06:0F90: C2 20        	rep	#$20
  4875                        	longa	on
  4876 06:0F92: E6 05        	inc	<L153+colorIndex_1
  4877 06:0F94: D0 02        	bne	L212
  4878 06:0F96: E6 07        	inc	<L153+colorIndex_1+2
  4879                        L212:
  4880                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x40;
  4881                        	.line	694
  4882 06:0F98: 18           	clc
  4883 06:0F99: A9 00 20     	lda	#$2000
  4884 06:0F9C: 65 05        	adc	<L153+colorIndex_1
  4885 06:0F9E: 85 01        	sta	<R0
  4886 06:0FA0: A9 AF 00     	lda	#$af
  4887 06:0FA3: 65 07        	adc	<L153+colorIndex_1+2
  4888 06:0FA5: 85 03        	sta	<R0+2
  4889 06:0FA7: E2 20        	sep	#$20
  4890                        	longa	off
  4891 06:0FA9: A9 40        	lda	#$40
  4892 06:0FAB: 87 01        	sta	[<R0]
  4893 06:0FAD: C2 20        	rep	#$20
  4894                        	longa	on
  4895 06:0FAF: E6 05        	inc	<L153+colorIndex_1
  4896 06:0FB1: D0 02        	bne	L213
  4897 06:0FB3: E6 07        	inc	<L153+colorIndex_1+2
  4898                        L213:
  4899                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4900                        	.line	695
  4901 06:0FB5: 18           	clc
  4902 06:0FB6: A9 00 20     	lda	#$2000
  4903 06:0FB9: 65 05        	adc	<L153+colorIndex_1
  4904 06:0FBB: 85 01        	sta	<R0
  Thu Jul 22 2021 22:51                                                Page 97


  4905 06:0FBD: A9 AF 00     	lda	#$af
  4906 06:0FC0: 65 07        	adc	<L153+colorIndex_1+2
  4907 06:0FC2: 85 03        	sta	<R0+2
  4908 06:0FC4: E2 20        	sep	#$20
  4909                        	longa	off
  4910 06:0FC6: A9 FF        	lda	#$ff
  4911 06:0FC8: 87 01        	sta	[<R0]
  4912 06:0FCA: C2 20        	rep	#$20
  4913                        	longa	on
  4914 06:0FCC: E6 05        	inc	<L153+colorIndex_1
  4915 06:0FCE: D0 02        	bne	L214
  4916 06:0FD0: E6 07        	inc	<L153+colorIndex_1+2
  4917                        L214:
  4918                        ;
  4919                        ;	//colorIndex = 15 * 4;
  4920                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4921                        	.line	698
  4922 06:0FD2: 18           	clc
  4923 06:0FD3: A9 00 20     	lda	#$2000
  4924 06:0FD6: 65 05        	adc	<L153+colorIndex_1
  4925 06:0FD8: 85 01        	sta	<R0
  4926 06:0FDA: A9 AF 00     	lda	#$af
  4927 06:0FDD: 65 07        	adc	<L153+colorIndex_1+2
  4928 06:0FDF: 85 03        	sta	<R0+2
  4929 06:0FE1: E2 20        	sep	#$20
  4930                        	longa	off
  4931 06:0FE3: A9 FF        	lda	#$ff
  4932 06:0FE5: 87 01        	sta	[<R0]
  4933 06:0FE7: C2 20        	rep	#$20
  4934                        	longa	on
  4935 06:0FE9: E6 05        	inc	<L153+colorIndex_1
  4936 06:0FEB: D0 02        	bne	L215
  4937 06:0FED: E6 07        	inc	<L153+colorIndex_1+2
  4938                        L215:
  4939                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4940                        	.line	699
  4941 06:0FEF: 18           	clc
  4942 06:0FF0: A9 00 20     	lda	#$2000
  4943 06:0FF3: 65 05        	adc	<L153+colorIndex_1
  4944 06:0FF5: 85 01        	sta	<R0
  4945 06:0FF7: A9 AF 00     	lda	#$af
  4946 06:0FFA: 65 07        	adc	<L153+colorIndex_1+2
  4947 06:0FFC: 85 03        	sta	<R0+2
  4948 06:0FFE: E2 20        	sep	#$20
  4949                        	longa	off
  4950 06:1000: A9 FF        	lda	#$ff
  4951 06:1002: 87 01        	sta	[<R0]
  4952 06:1004: C2 20        	rep	#$20
  4953                        	longa	on
  4954 06:1006: E6 05        	inc	<L153+colorIndex_1
  4955 06:1008: D0 02        	bne	L216
  4956 06:100A: E6 07        	inc	<L153+colorIndex_1+2
  4957                        L216:
  4958                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4959                        	.line	700
  4960 06:100C: 18           	clc
  4961 06:100D: A9 00 20     	lda	#$2000
  4962 06:1010: 65 05        	adc	<L153+colorIndex_1
  Thu Jul 22 2021 22:51                                                Page 98


  4963 06:1012: 85 01        	sta	<R0
  4964 06:1014: A9 AF 00     	lda	#$af
  4965 06:1017: 65 07        	adc	<L153+colorIndex_1+2
  4966 06:1019: 85 03        	sta	<R0+2
  4967 06:101B: E2 20        	sep	#$20
  4968                        	longa	off
  4969 06:101D: A9 FF        	lda	#$ff
  4970 06:101F: 87 01        	sta	[<R0]
  4971 06:1021: C2 20        	rep	#$20
  4972                        	longa	on
  4973 06:1023: E6 05        	inc	<L153+colorIndex_1
  4974 06:1025: D0 02        	bne	L217
  4975 06:1027: E6 07        	inc	<L153+colorIndex_1+2
  4976                        L217:
  4977                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4978                        	.line	701
  4979 06:1029: 18           	clc
  4980 06:102A: A9 00 20     	lda	#$2000
  4981 06:102D: 65 05        	adc	<L153+colorIndex_1
  4982 06:102F: 85 01        	sta	<R0
  4983 06:1031: A9 AF 00     	lda	#$af
  4984 06:1034: 65 07        	adc	<L153+colorIndex_1+2
  4985 06:1036: 85 03        	sta	<R0+2
  4986 06:1038: E2 20        	sep	#$20
  4987                        	longa	off
  4988 06:103A: A9 FF        	lda	#$ff
  4989 06:103C: 87 01        	sta	[<R0]
  4990 06:103E: C2 20        	rep	#$20
  4991                        	longa	on
  4992 06:1040: E6 05        	inc	<L153+colorIndex_1
  4993 06:1042: D0 02        	bne	L218
  4994 06:1044: E6 07        	inc	<L153+colorIndex_1+2
  4995                        L218:
  4996                        ;
  4997                        ;
  4998                        ;	memset(&_k_currentPalatte,0,sizeof(CUR_PALETTE_M
                    AP));
  4999                        	.line	704
  5000 06:1046: F4 32 00     	pea	#<$32
  5001 06:1049: F4 00 00     	pea	#<$0
  5002 06:104C: A9 xx xx     	lda	#<~~_k_currentPalatte
  5003 06:104F: 85 01        	sta	<R0
  5004                        	xref	_BEG_DATA
  5005 06:1051: A9 xx xx     	lda	#_BEG_DATA>>16
  5006 06:1054: 85 03        	sta	<R0+2
  5007 06:1056: D4 03        	pei	<R0+2
  5008 06:1058: D4 01        	pei	<R0
  5009 06:105A: 22 xx xx xx  	jsl	~~memset
  5010                        ;
  5011                        ;	_k_currentPalatte.CUR_WINDOWFRAME = 0;
  5012                        	.line	706
  5013 06:105E: 9C xx xx     	stz	|~~_k_currentPalatte+10
  5014                        ;	_k_currentPalatte.CUR_DESKTOP = 14;
  5015                        	.line	707
  5016 06:1061: A9 0E 00     	lda	#$e
  5017 06:1064: 8D xx xx     	sta	|~~_k_currentPalatte
  5018                        ;	_k_currentPalatte.CUR_HIGHLIGHT_COLOR = 8;
  5019                        	.line	708
  Thu Jul 22 2021 22:51                                                Page 99


  5020 06:1067: A9 08 00     	lda	#$8
  5021 06:106A: 8D xx xx     	sta	|~~_k_currentPalatte+8
  5022                        ;	_k_currentPalatte.CUR_SELECTED_FONT = 11;
  5023                        	.line	709
  5024 06:106D: A9 0B 00     	lda	#$b
  5025 06:1070: 8D xx xx     	sta	|~~_k_currentPalatte+6
  5026                        ;	_k_currentPalatte.CUR_GADGET = _k_currentPalatte
                    .CUR_WINDOWSHADOW = 12;
  5027                        	.line	710
  5028 06:1073: A9 0C 00     	lda	#$c
  5029 06:1076: 8D xx xx     	sta	|~~_k_currentPalatte+14
  5030 06:1079: A9 0C 00     	lda	#$c
  5031 06:107C: 8D xx xx     	sta	|~~_k_currentPalatte+18
  5032                        ;	_k_currentPalatte.CUR_BACKGROUND = 13;
  5033                        	.line	711
  5034 06:107F: A9 0D 00     	lda	#$d
  5035 06:1082: 8D xx xx     	sta	|~~_k_currentPalatte+2
  5036                        ;	_k_currentPalatte.CUR_FONT = 14;
  5037                        	.line	712
  5038 06:1085: A9 0E 00     	lda	#$e
  5039 06:1088: 8D xx xx     	sta	|~~_k_currentPalatte+4
  5040                        ;	_k_currentPalatte.CUR_WINDOWBORDER = _k_currentP
                    alatte.CUR_MENU = 15;
  5041                        	.line	713
  5042 06:108B: A9 0F 00     	lda	#$f
  5043 06:108E: 8D xx xx     	sta	|~~_k_currentPalatte+16
  5044 06:1091: A9 0F 00     	lda	#$f
  5045 06:1094: 8D xx xx     	sta	|~~_k_currentPalatte+12
  5046                        ;
  5047                        ;	for(colorIndex=0;colorIndex<15;colorIndex++)
  5048                        	.line	715
  5049 06:1097: 64 05        	stz	<L153+colorIndex_1
  5050 06:1099: 64 07        	stz	<L153+colorIndex_1+2
  5051                        L10031:
  5052                        ;	{
  5053                        	.line	716
  5054                        ;		_k_currentPalatte.CUR_COLOR[colorIndex] 
                    = colorIndex;
  5055                        	.line	717
  5056 06:109B: A5 05        	lda	<L153+colorIndex_1
  5057 06:109D: 0A           	asl	A
  5058 06:109E: 85 01        	sta	<R0
  5059 06:10A0: A5 05        	lda	<L153+colorIndex_1
  5060 06:10A2: A6 01        	ldx	<R0
  5061 06:10A4: 9D xx xx     	sta	|~~_k_currentPalatte+20,X
  5062                        ;	}
  5063                        	.line	718
  5064                        L10029:
  5065 06:10A7: E6 05        	inc	<L153+colorIndex_1
  5066 06:10A9: D0 02        	bne	L219
  5067 06:10AB: E6 07        	inc	<L153+colorIndex_1+2
  5068                        L219:
  5069 06:10AD: A5 05        	lda	<L153+colorIndex_1
  5070 06:10AF: C9 0F 00     	cmp	#<$f
  5071 06:10B2: A5 07        	lda	<L153+colorIndex_1+2
  5072 06:10B4: E9 00 00     	sbc	#^$f
  5073 06:10B7: B0 03        	bcs	L220
  5074 06:10B9: 82 DF FF     	brl	L10031
  Thu Jul 22 2021 22:51                                                Page 100


  5075                        L220:
  5076                        L10030:
  5077                        ;
  5078                        ;
  5079                        ;}
  5080                        	.line	721
  5081                        L221:
  5082 06:10BC: 2B           	pld
  5083 06:10BD: 3B           	tsc
  5084 06:10BE: 18           	clc
  5085 06:10BF: 69 08 00     	adc	#L152
  5086 06:10C2: 1B           	tcs
  5087 06:10C3: 6B           	rtl
  5088                        	.endblock	721
  5089             00000008   L152	equ	8
  5090             00000005   L153	equ	5
  5091 06:10C4:              	ends
  5092                        	efunc
  5093                        	.endfunc	721,5,8
  5094                        	.line	721
  5095                        ;
  5096                        ;void defineGrayPalette(void)
  5097                        ;{
  5098                        	.line	723
  5099                        	.line	724
  5100                        	GFX
  5101                        	xdef	~~defineGrayPalette
  5102                        	func
  5103                        	.function	724
  5104                        ~~defineGrayPalette:
  5105                        	longa	on
  5106                        	longi	on
  5107 06:10C4: 3B           	tsc
  5108 06:10C5: 38           	sec
  5109 06:10C6: E9 1E 00     	sbc	#L222
  5110 06:10C9: 1B           	tcs
  5111 06:10CA: 0B           	phd
  5112 06:10CB: 5B           	tcd
  5113                        	.block	724
  5114                        ;	unsigned long colorIndex = 0;
  5115                        ;	int colorShade = 0;
  5116                        ;	char color[] = {0x00,0x00,0x22,0x33,0x44,0x55,0x
                    66,0x77,0x88,0x99,0xAA,0xBB,0xCC,0xDD,0xFF,0xFF};
  5117                        	data
  5118                        L225:
  5119 00:07C6: 00 00 22 33  	db	$0,$0,$22,$33,$44,$55,$66,$77,$88,$99
       00:07CA: 44 55 66 77 
       00:07CE: 88 99 
  5120 00:07D0: AA BB CC DD  	db	$AA,$BB,$CC,$DD,$FF,$FF
       00:07D4: FF FF 
  5121 00:07D6:              	ends
  5122                        ;	
  5123                        ;	for(colorIndex = 0;colorIndex<60;colorIndex+=4)
  5124             00000000   colorIndex_1	set	0
  5125             00000004   colorShade_1	set	4
  5126             00000006   color_1	set	6
  5127                        	.sym	colorIndex,0,18,1,32
  5128                        	.sym	colorShade,4,5,1,16
  Thu Jul 22 2021 22:51                                                Page 101


  5129                        	.sym	color,6,110,1,0,16
  5130 06:10CC: 64 09        	stz	<L223+colorIndex_1
  5131 06:10CE: 64 0B        	stz	<L223+colorIndex_1+2
  5132 06:10D0: 64 0D        	stz	<L223+colorShade_1
  5133 06:10D2: F4 xx xx     	pea	#^L225
  5134 06:10D5: F4 xx xx     	pea	#<L225
  5135 06:10D8: 18           	clc
  5136 06:10D9: 7B           	tdc
  5137 06:10DA: 69 0F 00     	adc	#<L223+color_1
  5138 06:10DD: 85 01        	sta	<R0
  5139 06:10DF: A9 00 00     	lda	#$0
  5140 06:10E2: 85 03        	sta	<R0+2
  5141 06:10E4: D4 03        	pei	<R0+2
  5142 06:10E6: D4 01        	pei	<R0
  5143 06:10E8: A9 10 00     	lda	#$10
  5144                        	xref	~~~fmov
  5145 06:10EB: 22 xx xx xx  	jsl	~~~fmov
  5146                        	.line	729
  5147 06:10EF: 64 09        	stz	<L223+colorIndex_1
  5148 06:10F1: 64 0B        	stz	<L223+colorIndex_1+2
  5149                        L10034:
  5150                        ;	{
  5151                        	.line	730
  5152                        ;		GRP_LUT_BASE_ADDR[colorIndex+0] = color[
                    colorShade];
  5153                        	.line	731
  5154 06:10F3: 18           	clc
  5155 06:10F4: A9 00 20     	lda	#$2000
  5156 06:10F7: 65 09        	adc	<L223+colorIndex_1
  5157 06:10F9: 85 01        	sta	<R0
  5158 06:10FB: A9 AF 00     	lda	#$af
  5159 06:10FE: 65 0B        	adc	<L223+colorIndex_1+2
  5160 06:1100: 85 03        	sta	<R0+2
  5161 06:1102: E2 20        	sep	#$20
  5162                        	longa	off
  5163 06:1104: A6 0D        	ldx	<L223+colorShade_1
  5164 06:1106: B5 0F        	lda	<L223+color_1,X
  5165 06:1108: 87 01        	sta	[<R0]
  5166 06:110A: C2 20        	rep	#$20
  5167                        	longa	on
  5168                        ;		GRP_LUT_BASE_ADDR[colorIndex+1] = color[
                    colorShade];
  5169                        	.line	732
  5170 06:110C: 18           	clc
  5171 06:110D: A9 01 00     	lda	#$1
  5172 06:1110: 69 00 20     	adc	#<$af2000
  5173 06:1113: 85 01        	sta	<R0
  5174 06:1115: A9 00 00     	lda	#$0
  5175 06:1118: 69 AF 00     	adc	#^$af2000
  5176 06:111B: 85 03        	sta	<R0+2
  5177 06:111D: 18           	clc
  5178 06:111E: A5 01        	lda	<R0
  5179 06:1120: 65 09        	adc	<L223+colorIndex_1
  5180 06:1122: 85 05        	sta	<R1
  5181 06:1124: A5 03        	lda	<R0+2
  5182 06:1126: 65 0B        	adc	<L223+colorIndex_1+2
  5183 06:1128: 85 07        	sta	<R1+2
  5184 06:112A: E2 20        	sep	#$20
  Thu Jul 22 2021 22:51                                                Page 102


  5185                        	longa	off
  5186 06:112C: A6 0D        	ldx	<L223+colorShade_1
  5187 06:112E: B5 0F        	lda	<L223+color_1,X
  5188 06:1130: 87 05        	sta	[<R1]
  5189 06:1132: C2 20        	rep	#$20
  5190                        	longa	on
  5191                        ;		GRP_LUT_BASE_ADDR[colorIndex+2] = color[
                    colorShade];
  5192                        	.line	733
  5193 06:1134: 18           	clc
  5194 06:1135: A9 02 00     	lda	#$2
  5195 06:1138: 69 00 20     	adc	#<$af2000
  5196 06:113B: 85 01        	sta	<R0
  5197 06:113D: A9 00 00     	lda	#$0
  5198 06:1140: 69 AF 00     	adc	#^$af2000
  5199 06:1143: 85 03        	sta	<R0+2
  5200 06:1145: 18           	clc
  5201 06:1146: A5 01        	lda	<R0
  5202 06:1148: 65 09        	adc	<L223+colorIndex_1
  5203 06:114A: 85 05        	sta	<R1
  5204 06:114C: A5 03        	lda	<R0+2
  5205 06:114E: 65 0B        	adc	<L223+colorIndex_1+2
  5206 06:1150: 85 07        	sta	<R1+2
  5207 06:1152: E2 20        	sep	#$20
  5208                        	longa	off
  5209 06:1154: A6 0D        	ldx	<L223+colorShade_1
  5210 06:1156: B5 0F        	lda	<L223+color_1,X
  5211 06:1158: 87 05        	sta	[<R1]
  5212 06:115A: C2 20        	rep	#$20
  5213                        	longa	on
  5214                        ;		GRP_LUT_BASE_ADDR[colorIndex+3] = 0xFF;
  5215                        	.line	734
  5216 06:115C: 18           	clc
  5217 06:115D: A9 03 00     	lda	#$3
  5218 06:1160: 69 00 20     	adc	#<$af2000
  5219 06:1163: 85 01        	sta	<R0
  5220 06:1165: A9 00 00     	lda	#$0
  5221 06:1168: 69 AF 00     	adc	#^$af2000
  5222 06:116B: 85 03        	sta	<R0+2
  5223 06:116D: 18           	clc
  5224 06:116E: A5 01        	lda	<R0
  5225 06:1170: 65 09        	adc	<L223+colorIndex_1
  5226 06:1172: 85 05        	sta	<R1
  5227 06:1174: A5 03        	lda	<R0+2
  5228 06:1176: 65 0B        	adc	<L223+colorIndex_1+2
  5229 06:1178: 85 07        	sta	<R1+2
  5230 06:117A: E2 20        	sep	#$20
  5231                        	longa	off
  5232 06:117C: A9 FF        	lda	#$ff
  5233 06:117E: 87 05        	sta	[<R1]
  5234 06:1180: C2 20        	rep	#$20
  5235                        	longa	on
  5236                        ;
  5237                        ;		colorShade++;
  5238                        	.line	736
  5239 06:1182: E6 0D        	inc	<L223+colorShade_1
  5240                        ;	}
  5241                        	.line	737
  Thu Jul 22 2021 22:51                                                Page 103


  5242                        L10032:
  5243 06:1184: 18           	clc
  5244 06:1185: A9 04 00     	lda	#$4
  5245 06:1188: 65 09        	adc	<L223+colorIndex_1
  5246 06:118A: 85 09        	sta	<L223+colorIndex_1
  5247 06:118C: 90 02        	bcc	L226
  5248 06:118E: E6 0B        	inc	<L223+colorIndex_1+2
  5249                        L226:
  5250 06:1190: A5 09        	lda	<L223+colorIndex_1
  5251 06:1192: C9 3C 00     	cmp	#<$3c
  5252 06:1195: A5 0B        	lda	<L223+colorIndex_1+2
  5253 06:1197: E9 00 00     	sbc	#^$3c
  5254 06:119A: B0 03        	bcs	L227
  5255 06:119C: 82 54 FF     	brl	L10034
  5256                        L227:
  5257                        L10033:
  5258                        ;
  5259                        ;	memset(&_k_currentPalatte,0,sizeof(CUR_PALETTE_M
                    AP));
  5260                        	.line	739
  5261 06:119F: F4 32 00     	pea	#<$32
  5262 06:11A2: F4 00 00     	pea	#<$0
  5263 06:11A5: A9 xx xx     	lda	#<~~_k_currentPalatte
  5264 06:11A8: 85 01        	sta	<R0
  5265                        	xref	_BEG_DATA
  5266 06:11AA: A9 xx xx     	lda	#_BEG_DATA>>16
  5267 06:11AD: 85 03        	sta	<R0+2
  5268 06:11AF: D4 03        	pei	<R0+2
  5269 06:11B1: D4 01        	pei	<R0
  5270 06:11B3: 22 xx xx xx  	jsl	~~memset
  5271                        ;
  5272                        ;	_k_currentPalatte.CUR_WINDOWFRAME = 15;
  5273                        	.line	741
  5274 06:11B7: A9 0F 00     	lda	#$f
  5275 06:11BA: 8D xx xx     	sta	|~~_k_currentPalatte+10
  5276                        ;	_k_currentPalatte.CUR_DESKTOP = 3;
  5277                        	.line	742
  5278 06:11BD: A9 03 00     	lda	#$3
  5279 06:11C0: 8D xx xx     	sta	|~~_k_currentPalatte
  5280                        ;	_k_currentPalatte.CUR_HIGHLIGHT_COLOR = 8;
  5281                        	.line	743
  5282 06:11C3: A9 08 00     	lda	#$8
  5283 06:11C6: 8D xx xx     	sta	|~~_k_currentPalatte+8
  5284                        ;	_k_currentPalatte.CUR_SELECTED_FONT = 11;
  5285                        	.line	744
  5286 06:11C9: A9 0B 00     	lda	#$b
  5287 06:11CC: 8D xx xx     	sta	|~~_k_currentPalatte+6
  5288                        ;	_k_currentPalatte.CUR_GADGET = _k_currentPalatte
                    .CUR_WINDOWSHADOW = 1;
  5289                        	.line	745
  5290 06:11CF: A9 01 00     	lda	#$1
  5291 06:11D2: 8D xx xx     	sta	|~~_k_currentPalatte+14
  5292 06:11D5: A9 01 00     	lda	#$1
  5293 06:11D8: 8D xx xx     	sta	|~~_k_currentPalatte+18
  5294                        ;	_k_currentPalatte.CUR_BACKGROUND = 4;
  5295                        	.line	746
  5296 06:11DB: A9 04 00     	lda	#$4
  5297 06:11DE: 8D xx xx     	sta	|~~_k_currentPalatte+2
  Thu Jul 22 2021 22:51                                                Page 104


  5298                        ;	_k_currentPalatte.CUR_FONT = 1;
  5299                        	.line	747
  5300 06:11E1: A9 01 00     	lda	#$1
  5301 06:11E4: 8D xx xx     	sta	|~~_k_currentPalatte+4
  5302                        ;	_k_currentPalatte.CUR_WINDOWBORDER = _k_currentP
                    alatte.CUR_MENU = 15;
  5303                        	.line	748
  5304 06:11E7: A9 0F 00     	lda	#$f
  5305 06:11EA: 8D xx xx     	sta	|~~_k_currentPalatte+16
  5306 06:11ED: A9 0F 00     	lda	#$f
  5307 06:11F0: 8D xx xx     	sta	|~~_k_currentPalatte+12
  5308                        ;
  5309                        ;	for(colorShade=0;colorShade<16;colorShade++)
  5310                        	.line	750
  5311 06:11F3: 64 0D        	stz	<L223+colorShade_1
  5312                        L10037:
  5313                        ;	{
  5314                        	.line	751
  5315                        ;		_k_currentPalatte.CUR_COLOR[colorShade] 
                    = colorShade;
  5316                        	.line	752
  5317 06:11F5: A5 0D        	lda	<L223+colorShade_1
  5318 06:11F7: 0A           	asl	A
  5319 06:11F8: 85 01        	sta	<R0
  5320 06:11FA: A5 0D        	lda	<L223+colorShade_1
  5321 06:11FC: A6 01        	ldx	<R0
  5322 06:11FE: 9D xx xx     	sta	|~~_k_currentPalatte+20,X
  5323                        ;	}
  5324                        	.line	753
  5325                        L10035:
  5326 06:1201: E6 0D        	inc	<L223+colorShade_1
  5327 06:1203: 38           	sec
  5328 06:1204: A5 0D        	lda	<L223+colorShade_1
  5329 06:1206: E9 10 00     	sbc	#<$10
  5330 06:1209: 70 03        	bvs	L228
  5331 06:120B: 49 00 80     	eor	#$8000
  5332                        L228:
  5333 06:120E: 30 03        	bmi	L229
  5334 06:1210: 82 E2 FF     	brl	L10037
  5335                        L229:
  5336                        L10036:
  5337                        ;}
  5338                        	.line	754
  5339                        L230:
  5340 06:1213: 2B           	pld
  5341 06:1214: 3B           	tsc
  5342 06:1215: 18           	clc
  5343 06:1216: 69 1E 00     	adc	#L222
  5344 06:1219: 1B           	tcs
  5345 06:121A: 6B           	rtl
  5346                        	.endblock	754
  5347             0000001E   L222	equ	30
  5348             00000009   L223	equ	9
  5349 06:121B:              	ends
  5350                        	efunc
  5351                        	.endfunc	754,9,30
  5352                        	.line	754
  5353                        ;
  Thu Jul 22 2021 22:51                                                Page 105


  5354                        ;int k_getUIBackgroundColor()
  5355                        ;{
  5356                        	.line	756
  5357                        	.line	757
  5358                        	GFX
  5359                        	xdef	~~k_getUIBackgroundColor
  5360                        	func
  5361                        	.function	757
  5362                        ~~k_getUIBackgroundColor:
  5363                        	longa	on
  5364                        	longi	on
  5365 06:121B: 3B           	tsc
  5366 06:121C: 38           	sec
  5367 06:121D: E9 00 00     	sbc	#L231
  5368 06:1220: 1B           	tcs
  5369 06:1221: 0B           	phd
  5370 06:1222: 5B           	tcd
  5371                        	.block	757
  5372                        ;	return 	_k_currentPalatte.CUR_BACKGROUND;
  5373                        	.line	758
  5374 06:1223: AD xx xx     	lda	|~~_k_currentPalatte+2
  5375                        L234:
  5376 06:1226: A8           	tay
  5377 06:1227: 2B           	pld
  5378 06:1228: 3B           	tsc
  5379 06:1229: 18           	clc
  5380 06:122A: 69 00 00     	adc	#L231
  5381 06:122D: 1B           	tcs
  5382 06:122E: 98           	tya
  5383 06:122F: 6B           	rtl
  5384                        ;}
  5385                        	.line	759
  5386                        	.endblock	759
  5387             00000000   L231	equ	0
  5388             00000001   L232	equ	1
  5389 06:1230:              	ends
  5390                        	efunc
  5391                        	.endfunc	759,1,0
  5392                        	.line	759
  5393                        ;
  5394                        ;int k_getUIDesktopColor()
  5395                        ;{
  5396                        	.line	761
  5397                        	.line	762
  5398                        	GFX
  5399                        	xdef	~~k_getUIDesktopColor
  5400                        	func
  5401                        	.function	762
  5402                        ~~k_getUIDesktopColor:
  5403                        	longa	on
  5404                        	longi	on
  5405 06:1230: 3B           	tsc
  5406 06:1231: 38           	sec
  5407 06:1232: E9 00 00     	sbc	#L235
  5408 06:1235: 1B           	tcs
  5409 06:1236: 0B           	phd
  5410 06:1237: 5B           	tcd
  5411                        	.block	762
  Thu Jul 22 2021 22:51                                                Page 106


  5412                        ;	return 	_k_currentPalatte.CUR_DESKTOP;
  5413                        	.line	763
  5414 06:1238: AD xx xx     	lda	|~~_k_currentPalatte
  5415                        L238:
  5416 06:123B: A8           	tay
  5417 06:123C: 2B           	pld
  5418 06:123D: 3B           	tsc
  5419 06:123E: 18           	clc
  5420 06:123F: 69 00 00     	adc	#L235
  5421 06:1242: 1B           	tcs
  5422 06:1243: 98           	tya
  5423 06:1244: 6B           	rtl
  5424                        ;}
  5425                        	.line	764
  5426                        	.endblock	764
  5427             00000000   L235	equ	0
  5428             00000001   L236	equ	1
  5429 06:1245:              	ends
  5430                        	efunc
  5431                        	.endfunc	764,1,0
  5432                        	.line	764
  5433                        ;
  5434                        ;
  5435                        ;int k_getUIFontColor()
  5436                        ;{
  5437                        	.line	767
  5438                        	.line	768
  5439                        	GFX
  5440                        	xdef	~~k_getUIFontColor
  5441                        	func
  5442                        	.function	768
  5443                        ~~k_getUIFontColor:
  5444                        	longa	on
  5445                        	longi	on
  5446 06:1245: 3B           	tsc
  5447 06:1246: 38           	sec
  5448 06:1247: E9 00 00     	sbc	#L239
  5449 06:124A: 1B           	tcs
  5450 06:124B: 0B           	phd
  5451 06:124C: 5B           	tcd
  5452                        	.block	768
  5453                        ;	return 	_k_currentPalatte.CUR_FONT;
  5454                        	.line	769
  5455 06:124D: AD xx xx     	lda	|~~_k_currentPalatte+4
  5456                        L242:
  5457 06:1250: A8           	tay
  5458 06:1251: 2B           	pld
  5459 06:1252: 3B           	tsc
  5460 06:1253: 18           	clc
  5461 06:1254: 69 00 00     	adc	#L239
  5462 06:1257: 1B           	tcs
  5463 06:1258: 98           	tya
  5464 06:1259: 6B           	rtl
  5465                        ;}
  5466                        	.line	770
  5467                        	.endblock	770
  5468             00000000   L239	equ	0
  5469             00000001   L240	equ	1
  Thu Jul 22 2021 22:51                                                Page 107


  5470 06:125A:              	ends
  5471                        	efunc
  5472                        	.endfunc	770,1,0
  5473                        	.line	770
  5474                        ;
  5475                        ;
  5476                        ;int k_getUIFontSelectedColor()
  5477                        ;{
  5478                        	.line	773
  5479                        	.line	774
  5480                        	GFX
  5481                        	xdef	~~k_getUIFontSelectedColor
  5482                        	func
  5483                        	.function	774
  5484                        ~~k_getUIFontSelectedColor:
  5485                        	longa	on
  5486                        	longi	on
  5487 06:125A: 3B           	tsc
  5488 06:125B: 38           	sec
  5489 06:125C: E9 00 00     	sbc	#L243
  5490 06:125F: 1B           	tcs
  5491 06:1260: 0B           	phd
  5492 06:1261: 5B           	tcd
  5493                        	.block	774
  5494                        ;	return 	_k_currentPalatte.CUR_SELECTED_FONT;
  5495                        	.line	775
  5496 06:1262: AD xx xx     	lda	|~~_k_currentPalatte+6
  5497                        L246:
  5498 06:1265: A8           	tay
  5499 06:1266: 2B           	pld
  5500 06:1267: 3B           	tsc
  5501 06:1268: 18           	clc
  5502 06:1269: 69 00 00     	adc	#L243
  5503 06:126C: 1B           	tcs
  5504 06:126D: 98           	tya
  5505 06:126E: 6B           	rtl
  5506                        ;}
  5507                        	.line	776
  5508                        	.endblock	776
  5509             00000000   L243	equ	0
  5510             00000001   L244	equ	1
  5511 06:126F:              	ends
  5512                        	efunc
  5513                        	.endfunc	776,1,0
  5514                        	.line	776
  5515                        ;
  5516                        ;
  5517                        ;int k_getUIHighlightColor()
  5518                        ;{
  5519                        	.line	779
  5520                        	.line	780
  5521                        	GFX
  5522                        	xdef	~~k_getUIHighlightColor
  5523                        	func
  5524                        	.function	780
  5525                        ~~k_getUIHighlightColor:
  5526                        	longa	on
  5527                        	longi	on
  Thu Jul 22 2021 22:51                                                Page 108


  5528 06:126F: 3B           	tsc
  5529 06:1270: 38           	sec
  5530 06:1271: E9 00 00     	sbc	#L247
  5531 06:1274: 1B           	tcs
  5532 06:1275: 0B           	phd
  5533 06:1276: 5B           	tcd
  5534                        	.block	780
  5535                        ;	return 	_k_currentPalatte.CUR_HIGHLIGHT_COLOR;
  5536                        	.line	781
  5537 06:1277: AD xx xx     	lda	|~~_k_currentPalatte+8
  5538                        L250:
  5539 06:127A: A8           	tay
  5540 06:127B: 2B           	pld
  5541 06:127C: 3B           	tsc
  5542 06:127D: 18           	clc
  5543 06:127E: 69 00 00     	adc	#L247
  5544 06:1281: 1B           	tcs
  5545 06:1282: 98           	tya
  5546 06:1283: 6B           	rtl
  5547                        ;}
  5548                        	.line	782
  5549                        	.endblock	782
  5550             00000000   L247	equ	0
  5551             00000001   L248	equ	1
  5552 06:1284:              	ends
  5553                        	efunc
  5554                        	.endfunc	782,1,0
  5555                        	.line	782
  5556                        ;
  5557                        ;
  5558                        ;int k_getUIWindowFrameColor()
  5559                        ;{
  5560                        	.line	785
  5561                        	.line	786
  5562                        	GFX
  5563                        	xdef	~~k_getUIWindowFrameColor
  5564                        	func
  5565                        	.function	786
  5566                        ~~k_getUIWindowFrameColor:
  5567                        	longa	on
  5568                        	longi	on
  5569 06:1284: 3B           	tsc
  5570 06:1285: 38           	sec
  5571 06:1286: E9 00 00     	sbc	#L251
  5572 06:1289: 1B           	tcs
  5573 06:128A: 0B           	phd
  5574 06:128B: 5B           	tcd
  5575                        	.block	786
  5576                        ;	return 	_k_currentPalatte.CUR_WINDOWFRAME;
  5577                        	.line	787
  5578 06:128C: AD xx xx     	lda	|~~_k_currentPalatte+10
  5579                        L254:
  5580 06:128F: A8           	tay
  5581 06:1290: 2B           	pld
  5582 06:1291: 3B           	tsc
  5583 06:1292: 18           	clc
  5584 06:1293: 69 00 00     	adc	#L251
  5585 06:1296: 1B           	tcs
  Thu Jul 22 2021 22:51                                                Page 109


  5586 06:1297: 98           	tya
  5587 06:1298: 6B           	rtl
  5588                        ;}
  5589                        	.line	788
  5590                        	.endblock	788
  5591             00000000   L251	equ	0
  5592             00000001   L252	equ	1
  5593 06:1299:              	ends
  5594                        	efunc
  5595                        	.endfunc	788,1,0
  5596                        	.line	788
  5597                        ;
  5598                        ;
  5599                        ;int k_getUIWindowBorderColor()
  5600                        ;{
  5601                        	.line	791
  5602                        	.line	792
  5603                        	GFX
  5604                        	xdef	~~k_getUIWindowBorderColor
  5605                        	func
  5606                        	.function	792
  5607                        ~~k_getUIWindowBorderColor:
  5608                        	longa	on
  5609                        	longi	on
  5610 06:1299: 3B           	tsc
  5611 06:129A: 38           	sec
  5612 06:129B: E9 00 00     	sbc	#L255
  5613 06:129E: 1B           	tcs
  5614 06:129F: 0B           	phd
  5615 06:12A0: 5B           	tcd
  5616                        	.block	792
  5617                        ;	return 	_k_currentPalatte.CUR_WINDOWBORDER;
  5618                        	.line	793
  5619 06:12A1: AD xx xx     	lda	|~~_k_currentPalatte+12
  5620                        L258:
  5621 06:12A4: A8           	tay
  5622 06:12A5: 2B           	pld
  5623 06:12A6: 3B           	tsc
  5624 06:12A7: 18           	clc
  5625 06:12A8: 69 00 00     	adc	#L255
  5626 06:12AB: 1B           	tcs
  5627 06:12AC: 98           	tya
  5628 06:12AD: 6B           	rtl
  5629                        ;}
  5630                        	.line	794
  5631                        	.endblock	794
  5632             00000000   L255	equ	0
  5633             00000001   L256	equ	1
  5634 06:12AE:              	ends
  5635                        	efunc
  5636                        	.endfunc	794,1,0
  5637                        	.line	794
  5638                        ;
  5639                        ;
  5640                        ;int k_getUIWindowShadowColor()
  5641                        ;{
  5642                        	.line	797
  5643                        	.line	798
  Thu Jul 22 2021 22:51                                                Page 110


  5644                        	GFX
  5645                        	xdef	~~k_getUIWindowShadowColor
  5646                        	func
  5647                        	.function	798
  5648                        ~~k_getUIWindowShadowColor:
  5649                        	longa	on
  5650                        	longi	on
  5651 06:12AE: 3B           	tsc
  5652 06:12AF: 38           	sec
  5653 06:12B0: E9 00 00     	sbc	#L259
  5654 06:12B3: 1B           	tcs
  5655 06:12B4: 0B           	phd
  5656 06:12B5: 5B           	tcd
  5657                        	.block	798
  5658                        ;	return 	_k_currentPalatte.CUR_WINDOWSHADOW;
  5659                        	.line	799
  5660 06:12B6: AD xx xx     	lda	|~~_k_currentPalatte+14
  5661                        L262:
  5662 06:12B9: A8           	tay
  5663 06:12BA: 2B           	pld
  5664 06:12BB: 3B           	tsc
  5665 06:12BC: 18           	clc
  5666 06:12BD: 69 00 00     	adc	#L259
  5667 06:12C0: 1B           	tcs
  5668 06:12C1: 98           	tya
  5669 06:12C2: 6B           	rtl
  5670                        ;}
  5671                        	.line	800
  5672                        	.endblock	800
  5673             00000000   L259	equ	0
  5674             00000001   L260	equ	1
  5675 06:12C3:              	ends
  5676                        	efunc
  5677                        	.endfunc	800,1,0
  5678                        	.line	800
  5679                        ;
  5680                        ;
  5681                        ;int k_getUIMenuColor()
  5682                        ;{
  5683                        	.line	803
  5684                        	.line	804
  5685                        	GFX
  5686                        	xdef	~~k_getUIMenuColor
  5687                        	func
  5688                        	.function	804
  5689                        ~~k_getUIMenuColor:
  5690                        	longa	on
  5691                        	longi	on
  5692 06:12C3: 3B           	tsc
  5693 06:12C4: 38           	sec
  5694 06:12C5: E9 00 00     	sbc	#L263
  5695 06:12C8: 1B           	tcs
  5696 06:12C9: 0B           	phd
  5697 06:12CA: 5B           	tcd
  5698                        	.block	804
  5699                        ;	return 	_k_currentPalatte.CUR_MENU;
  5700                        	.line	805
  5701 06:12CB: AD xx xx     	lda	|~~_k_currentPalatte+16
  Thu Jul 22 2021 22:51                                                Page 111


  5702                        L266:
  5703 06:12CE: A8           	tay
  5704 06:12CF: 2B           	pld
  5705 06:12D0: 3B           	tsc
  5706 06:12D1: 18           	clc
  5707 06:12D2: 69 00 00     	adc	#L263
  5708 06:12D5: 1B           	tcs
  5709 06:12D6: 98           	tya
  5710 06:12D7: 6B           	rtl
  5711                        ;}
  5712                        	.line	806
  5713                        	.endblock	806
  5714             00000000   L263	equ	0
  5715             00000001   L264	equ	1
  5716 06:12D8:              	ends
  5717                        	efunc
  5718                        	.endfunc	806,1,0
  5719                        	.line	806
  5720                        ;
  5721                        ;
  5722                        ;int k_getUIGadgetColor()
  5723                        ;{
  5724                        	.line	809
  5725                        	.line	810
  5726                        	GFX
  5727                        	xdef	~~k_getUIGadgetColor
  5728                        	func
  5729                        	.function	810
  5730                        ~~k_getUIGadgetColor:
  5731                        	longa	on
  5732                        	longi	on
  5733 06:12D8: 3B           	tsc
  5734 06:12D9: 38           	sec
  5735 06:12DA: E9 00 00     	sbc	#L267
  5736 06:12DD: 1B           	tcs
  5737 06:12DE: 0B           	phd
  5738 06:12DF: 5B           	tcd
  5739                        	.block	810
  5740                        ;	return 	_k_currentPalatte.CUR_GADGET;
  5741                        	.line	811
  5742 06:12E0: AD xx xx     	lda	|~~_k_currentPalatte+18
  5743                        L270:
  5744 06:12E3: A8           	tay
  5745 06:12E4: 2B           	pld
  5746 06:12E5: 3B           	tsc
  5747 06:12E6: 18           	clc
  5748 06:12E7: 69 00 00     	adc	#L267
  5749 06:12EA: 1B           	tcs
  5750 06:12EB: 98           	tya
  5751 06:12EC: 6B           	rtl
  5752                        ;}
  5753                        	.line	812
  5754                        	.endblock	812
  5755             00000000   L267	equ	0
  5756             00000001   L268	equ	1
  5757 06:12ED:              	ends
  5758                        	efunc
  5759                        	.endfunc	812,1,0
  Thu Jul 22 2021 22:51                                                Page 112


  5760                        	.line	812
  5761                        ;
  5762                        ;
  5763                        ;int k_getUIColor(int index)
  5764                        ;{
  5765                        	.line	815
  5766                        	.line	816
  5767                        	GFX
  5768                        	xdef	~~k_getUIColor
  5769                        	func
  5770                        	.function	816
  5771                        ~~k_getUIColor:
  5772                        	longa	on
  5773                        	longi	on
  5774 06:12ED: 3B           	tsc
  5775 06:12EE: 38           	sec
  5776 06:12EF: E9 04 00     	sbc	#L271
  5777 06:12F2: 1B           	tcs
  5778 06:12F3: 0B           	phd
  5779 06:12F4: 5B           	tcd
  5780             00000004   index_0	set	4
  5781                        	.block	816
  5782                        ;	if(index < 1)
  5783                        	.sym	index,4,5,6,16
  5784                        	.line	817
  5785                        ;		index = 1;
  5786 06:12F5: A5 08        	lda	<L271+index_0
  5787 06:12F7: 30 06        	bmi	L274
  5788 06:12F9: 3A           	dea
  5789 06:12FA: 30 03        	bmi	L274
  5790 06:12FC: 82 05 00     	brl	L10038
  5791                        L274:
  5792                        	.line	818
  5793 06:12FF: A9 01 00     	lda	#$1
  5794 06:1302: 85 08        	sta	<L271+index_0
  5795                        ;	if(index > 15)
  5796                        L10038:
  5797                        	.line	819
  5798                        ;		index = 15;
  5799 06:1304: 38           	sec
  5800 06:1305: A9 0F 00     	lda	#$f
  5801 06:1308: E5 08        	sbc	<L271+index_0
  5802 06:130A: 70 03        	bvs	L275
  5803 06:130C: 49 00 80     	eor	#$8000
  5804                        L275:
  5805 06:130F: 10 03        	bpl	L276
  5806 06:1311: 82 05 00     	brl	L10039
  5807                        L276:
  5808                        	.line	820
  5809 06:1314: A9 0F 00     	lda	#$f
  5810 06:1317: 85 08        	sta	<L271+index_0
  5811                        ;
  5812                        ;	return 	_k_currentPalatte.CUR_COLOR[index - 1];
  5813                        L10039:
  5814                        	.line	822
  5815 06:1319: A5 08        	lda	<L271+index_0
  5816 06:131B: 0A           	asl	A
  5817 06:131C: 85 01        	sta	<R0
  Thu Jul 22 2021 22:51                                                Page 113


  5818 06:131E: A6 01        	ldx	<R0
  5819 06:1320: BD xx xx     	lda	|~~_k_currentPalatte+20-2,X
  5820                        L277:
  5821 06:1323: A8           	tay
  5822 06:1324: A5 06        	lda	<L271+2
  5823 06:1326: 85 08        	sta	<L271+2+2
  5824 06:1328: A5 05        	lda	<L271+1
  5825 06:132A: 85 07        	sta	<L271+1+2
  5826 06:132C: 2B           	pld
  5827 06:132D: 3B           	tsc
  5828 06:132E: 18           	clc
  5829 06:132F: 69 06 00     	adc	#L271+2
  5830 06:1332: 1B           	tcs
  5831 06:1333: 98           	tya
  5832 06:1334: 6B           	rtl
  5833                        ;}
  5834                        	.line	823
  5835                        	.endblock	823
  5836             00000004   L271	equ	4
  5837             00000005   L272	equ	5
  5838 06:1335:              	ends
  5839                        	efunc
  5840                        	.endfunc	823,5,4
  5841                        	.line	823
  5842                        ;
  5843                        ;
  5844                        ;
  5845                        ;void k_draw_pixel(long x,long y,char pcolor)
  5846                        ;{
  5847                        	.line	827
  5848                        	.line	828
  5849                        	GFX
  5850                        	xdef	~~k_draw_pixel
  5851                        	func
  5852                        	.function	828
  5853                        ~~k_draw_pixel:
  5854                        	longa	on
  5855                        	longi	on
  5856 06:1335: 3B           	tsc
  5857 06:1336: 38           	sec
  5858 06:1337: E9 08 00     	sbc	#L278
  5859 06:133A: 1B           	tcs
  5860 06:133B: 0B           	phd
  5861 06:133C: 5B           	tcd
  5862             00000004   x_0	set	4
  5863             00000008   y_0	set	8
  5864             0000000C   pcolor_0	set	12
  5865                        	.block	828
  5866                        ;	long pixelLocation = (long)(((long)y * 640L) + (
                    long)x);
  5867                        ;
  5868                        ;	if(x >= GUI_POINT_LIMIT_X_LO && x <= GUI_POINT_L
                    IMIT_X_HI && y >= GUI_POINT_LIMIT_Y_LO && y <= GUI_POINT_LIM
                    IT_Y_HI)
  5869             00000000   pixelLocation_1	set	0
  5870                        	.sym	pixelLocation,0,7,1,32
  5871                        	.sym	x,4,7,6,32
  5872                        	.sym	y,8,7,6,32
  Thu Jul 22 2021 22:51                                                Page 114


  5873                        	.sym	pcolor,12,14,6,8
  5874 06:133D: F4 00 00     	pea	#^$280
  5875 06:1340: F4 80 02     	pea	#<$280
  5876 06:1343: D4 12        	pei	<L278+y_0+2
  5877 06:1345: D4 10        	pei	<L278+y_0
  5878                        	xref	~~~lmul
  5879 06:1347: 22 xx xx xx  	jsl	~~~lmul
  5880 06:134B: 85 01        	sta	<R0
  5881 06:134D: 86 03        	stx	<R0+2
  5882 06:134F: 18           	clc
  5883 06:1350: A5 01        	lda	<R0
  5884 06:1352: 65 0C        	adc	<L278+x_0
  5885 06:1354: 85 05        	sta	<L279+pixelLocation_1
  5886 06:1356: A5 03        	lda	<R0+2
  5887 06:1358: 65 0E        	adc	<L278+x_0+2
  5888 06:135A: 85 07        	sta	<L279+pixelLocation_1+2
  5889                        	.line	831
  5890                        ;		((unsigned char FAR *)BITMAP_BANK_0)[pix
                    elLocation] = (char)pcolor;
  5891 06:135C: A5 0E        	lda	<L278+x_0+2
  5892 06:135E: 10 03        	bpl	L281
  5893 06:1360: 82 48 00     	brl	L10040
  5894                        L281:
  5895 06:1363: 38           	sec
  5896 06:1364: A9 80 02     	lda	#$280
  5897 06:1367: E5 0C        	sbc	<L278+x_0
  5898 06:1369: A9 00 00     	lda	#$0
  5899 06:136C: E5 0E        	sbc	<L278+x_0+2
  5900 06:136E: 70 03        	bvs	L282
  5901 06:1370: 49 00 80     	eor	#$8000
  5902                        L282:
  5903 06:1373: 30 03        	bmi	L283
  5904 06:1375: 82 33 00     	brl	L10040
  5905                        L283:
  5906 06:1378: A5 12        	lda	<L278+y_0+2
  5907 06:137A: 10 03        	bpl	L284
  5908 06:137C: 82 2C 00     	brl	L10040
  5909                        L284:
  5910 06:137F: 38           	sec
  5911 06:1380: A9 E0 01     	lda	#$1e0
  5912 06:1383: E5 10        	sbc	<L278+y_0
  5913 06:1385: A9 00 00     	lda	#$0
  5914 06:1388: E5 12        	sbc	<L278+y_0+2
  5915 06:138A: 70 03        	bvs	L285
  5916 06:138C: 49 00 80     	eor	#$8000
  5917                        L285:
  5918 06:138F: 30 03        	bmi	L286
  5919 06:1391: 82 17 00     	brl	L10040
  5920                        L286:
  5921                        	.line	832
  5922 06:1394: 18           	clc
  5923 06:1395: A9 00 00     	lda	#$0
  5924 06:1398: 65 05        	adc	<L279+pixelLocation_1
  5925 06:139A: 85 01        	sta	<R0
  5926 06:139C: A9 B0 00     	lda	#$b0
  5927 06:139F: 65 07        	adc	<L279+pixelLocation_1+2
  5928 06:13A1: 85 03        	sta	<R0+2
  5929 06:13A3: E2 20        	sep	#$20
  Thu Jul 22 2021 22:51                                                Page 115


  5930                        	longa	off
  5931 06:13A5: A5 14        	lda	<L278+pcolor_0
  5932 06:13A7: 87 01        	sta	[<R0]
  5933 06:13A9: C2 20        	rep	#$20
  5934                        	longa	on
  5935                        ;	//((unsigned char FAR *)SHADOW_BANK_0)[pixelLoca
                    tion] = (char)pcolor;
  5936                        ;
  5937                        ;
  5938                        ;	//((unsigned char FAR *)BITMAP_BANK_0)[(long)(( 
                    ((long)y) * 640L) + ((long)x) )] = (char)pcolor;
  5939                        ;}
  5940                        L10040:
  5941                        	.line	837
  5942                        L287:
  5943 06:13AB: A5 0A        	lda	<L278+2
  5944 06:13AD: 85 14        	sta	<L278+2+10
  5945 06:13AF: A5 09        	lda	<L278+1
  5946 06:13B1: 85 13        	sta	<L278+1+10
  5947 06:13B3: 2B           	pld
  5948 06:13B4: 3B           	tsc
  5949 06:13B5: 18           	clc
  5950 06:13B6: 69 12 00     	adc	#L278+10
  5951 06:13B9: 1B           	tcs
  5952 06:13BA: 6B           	rtl
  5953                        	.endblock	837
  5954             00000008   L278	equ	8
  5955             00000005   L279	equ	5
  5956 06:13BB:              	ends
  5957                        	efunc
  5958                        	.endfunc	837,5,8
  5959                        	.line	837
  5960                        ;
  5961                        ;void k_draw_pixel_front(long x,long y,char pcolor
                    )
  5962                        ;{
  5963                        	.line	839
  5964                        	.line	840
  5965                        	GFX
  5966                        	xdef	~~k_draw_pixel_front
  5967                        	func
  5968                        	.function	840
  5969                        ~~k_draw_pixel_front:
  5970                        	longa	on
  5971                        	longi	on
  5972 06:13BB: 3B           	tsc
  5973 06:13BC: 38           	sec
  5974 06:13BD: E9 08 00     	sbc	#L288
  5975 06:13C0: 1B           	tcs
  5976 06:13C1: 0B           	phd
  5977 06:13C2: 5B           	tcd
  5978             00000004   x_0	set	4
  5979             00000008   y_0	set	8
  5980             0000000C   pcolor_0	set	12
  5981                        	.block	840
  5982                        ;	if(x >= GUI_POINT_LIMIT_X_LO && x <= GUI_POINT_L
                    IMIT_X_HI && y >= GUI_POINT_LIMIT_Y_LO && y <= GUI_POINT_LIM
                    IT_Y_HI)
  Thu Jul 22 2021 22:51                                                Page 116


  5983                        	.sym	x,4,7,6,32
  5984                        	.sym	y,8,7,6,32
  5985                        	.sym	pcolor,12,14,6,8
  5986                        	.line	841
  5987                        ;		BITMAP_BANK_0[(long)(((long)y * 640L) + 
                    (long)x)] = (char)pcolor;
  5988 06:13C3: A5 0E        	lda	<L288+x_0+2
  5989 06:13C5: 10 03        	bpl	L291
  5990 06:13C7: 82 67 00     	brl	L10041
  5991                        L291:
  5992 06:13CA: 38           	sec
  5993 06:13CB: A9 80 02     	lda	#$280
  5994 06:13CE: E5 0C        	sbc	<L288+x_0
  5995 06:13D0: A9 00 00     	lda	#$0
  5996 06:13D3: E5 0E        	sbc	<L288+x_0+2
  5997 06:13D5: 70 03        	bvs	L292
  5998 06:13D7: 49 00 80     	eor	#$8000
  5999                        L292:
  6000 06:13DA: 30 03        	bmi	L293
  6001 06:13DC: 82 52 00     	brl	L10041
  6002                        L293:
  6003 06:13DF: A5 12        	lda	<L288+y_0+2
  6004 06:13E1: 10 03        	bpl	L294
  6005 06:13E3: 82 4B 00     	brl	L10041
  6006                        L294:
  6007 06:13E6: 38           	sec
  6008 06:13E7: A9 E0 01     	lda	#$1e0
  6009 06:13EA: E5 10        	sbc	<L288+y_0
  6010 06:13EC: A9 00 00     	lda	#$0
  6011 06:13EF: E5 12        	sbc	<L288+y_0+2
  6012 06:13F1: 70 03        	bvs	L295
  6013 06:13F3: 49 00 80     	eor	#$8000
  6014                        L295:
  6015 06:13F6: 30 03        	bmi	L296
  6016 06:13F8: 82 36 00     	brl	L10041
  6017                        L296:
  6018                        	.line	842
  6019 06:13FB: F4 00 00     	pea	#^$280
  6020 06:13FE: F4 80 02     	pea	#<$280
  6021 06:1401: D4 12        	pei	<L288+y_0+2
  6022 06:1403: D4 10        	pei	<L288+y_0
  6023                        	xref	~~~lmul
  6024 06:1405: 22 xx xx xx  	jsl	~~~lmul
  6025 06:1409: 85 01        	sta	<R0
  6026 06:140B: 86 03        	stx	<R0+2
  6027 06:140D: 18           	clc
  6028 06:140E: A5 01        	lda	<R0
  6029 06:1410: 65 0C        	adc	<L288+x_0
  6030 06:1412: 85 05        	sta	<R1
  6031 06:1414: A5 03        	lda	<R0+2
  6032 06:1416: 65 0E        	adc	<L288+x_0+2
  6033 06:1418: 85 07        	sta	<R1+2
  6034 06:141A: 18           	clc
  6035 06:141B: A9 00 00     	lda	#$0
  6036 06:141E: 65 05        	adc	<R1
  6037 06:1420: 85 01        	sta	<R0
  6038 06:1422: A9 B0 00     	lda	#$b0
  6039 06:1425: 65 07        	adc	<R1+2
  Thu Jul 22 2021 22:51                                                Page 117


  6040 06:1427: 85 03        	sta	<R0+2
  6041 06:1429: E2 20        	sep	#$20
  6042                        	longa	off
  6043 06:142B: A5 14        	lda	<L288+pcolor_0
  6044 06:142D: 87 01        	sta	[<R0]
  6045 06:142F: C2 20        	rep	#$20
  6046                        	longa	on
  6047                        ;}
  6048                        L10041:
  6049                        	.line	843
  6050                        L297:
  6051 06:1431: A5 0A        	lda	<L288+2
  6052 06:1433: 85 14        	sta	<L288+2+10
  6053 06:1435: A5 09        	lda	<L288+1
  6054 06:1437: 85 13        	sta	<L288+1+10
  6055 06:1439: 2B           	pld
  6056 06:143A: 3B           	tsc
  6057 06:143B: 18           	clc
  6058 06:143C: 69 12 00     	adc	#L288+10
  6059 06:143F: 1B           	tcs
  6060 06:1440: 6B           	rtl
  6061                        	.endblock	843
  6062             00000008   L288	equ	8
  6063             00000009   L289	equ	9
  6064 06:1441:              	ends
  6065                        	efunc
  6066                        	.endfunc	843,9,8
  6067                        	.line	843
  6068                        ;
  6069                        ;void k_draw_pixel_back(long x,long y,char pcolor)
  6070                        ;{
  6071                        	.line	845
  6072                        	.line	846
  6073                        	GFX
  6074                        	xdef	~~k_draw_pixel_back
  6075                        	func
  6076                        	.function	846
  6077                        ~~k_draw_pixel_back:
  6078                        	longa	on
  6079                        	longi	on
  6080 06:1441: 3B           	tsc
  6081 06:1442: 38           	sec
  6082 06:1443: E9 08 00     	sbc	#L298
  6083 06:1446: 1B           	tcs
  6084 06:1447: 0B           	phd
  6085 06:1448: 5B           	tcd
  6086             00000004   x_0	set	4
  6087             00000008   y_0	set	8
  6088             0000000C   pcolor_0	set	12
  6089                        	.block	846
  6090                        ;	if(x >= GUI_POINT_LIMIT_X_LO && x <= GUI_POINT_L
                    IMIT_X_HI && y >= GUI_POINT_LIMIT_Y_LO && y <= GUI_POINT_LIM
                    IT_Y_HI)
  6091                        	.sym	x,4,7,6,32
  6092                        	.sym	y,8,7,6,32
  6093                        	.sym	pcolor,12,14,6,8
  6094                        	.line	847
  6095                        ;		BITMAP_BANK_0_PAGE0[(long)(((long)y * 64
  Thu Jul 22 2021 22:51                                                Page 118


                    0L) + (long)x)] = (char)pcolor;
  6096 06:1449: A5 0E        	lda	<L298+x_0+2
  6097 06:144B: 10 03        	bpl	L301
  6098 06:144D: 82 67 00     	brl	L10042
  6099                        L301:
  6100 06:1450: 38           	sec
  6101 06:1451: A9 80 02     	lda	#$280
  6102 06:1454: E5 0C        	sbc	<L298+x_0
  6103 06:1456: A9 00 00     	lda	#$0
  6104 06:1459: E5 0E        	sbc	<L298+x_0+2
  6105 06:145B: 70 03        	bvs	L302
  6106 06:145D: 49 00 80     	eor	#$8000
  6107                        L302:
  6108 06:1460: 30 03        	bmi	L303
  6109 06:1462: 82 52 00     	brl	L10042
  6110                        L303:
  6111 06:1465: A5 12        	lda	<L298+y_0+2
  6112 06:1467: 10 03        	bpl	L304
  6113 06:1469: 82 4B 00     	brl	L10042
  6114                        L304:
  6115 06:146C: 38           	sec
  6116 06:146D: A9 E0 01     	lda	#$1e0
  6117 06:1470: E5 10        	sbc	<L298+y_0
  6118 06:1472: A9 00 00     	lda	#$0
  6119 06:1475: E5 12        	sbc	<L298+y_0+2
  6120 06:1477: 70 03        	bvs	L305
  6121 06:1479: 49 00 80     	eor	#$8000
  6122                        L305:
  6123 06:147C: 30 03        	bmi	L306
  6124 06:147E: 82 36 00     	brl	L10042
  6125                        L306:
  6126                        	.line	848
  6127 06:1481: F4 00 00     	pea	#^$280
  6128 06:1484: F4 80 02     	pea	#<$280
  6129 06:1487: D4 12        	pei	<L298+y_0+2
  6130 06:1489: D4 10        	pei	<L298+y_0
  6131                        	xref	~~~lmul
  6132 06:148B: 22 xx xx xx  	jsl	~~~lmul
  6133 06:148F: 85 01        	sta	<R0
  6134 06:1491: 86 03        	stx	<R0+2
  6135 06:1493: 18           	clc
  6136 06:1494: A5 01        	lda	<R0
  6137 06:1496: 65 0C        	adc	<L298+x_0
  6138 06:1498: 85 05        	sta	<R1
  6139 06:149A: A5 03        	lda	<R0+2
  6140 06:149C: 65 0E        	adc	<L298+x_0+2
  6141 06:149E: 85 07        	sta	<R1+2
  6142 06:14A0: 18           	clc
  6143 06:14A1: A9 00 00     	lda	#$0
  6144 06:14A4: 65 05        	adc	<R1
  6145 06:14A6: 85 01        	sta	<R0
  6146 06:14A8: A9 B8 00     	lda	#$b8
  6147 06:14AB: 65 07        	adc	<R1+2
  6148 06:14AD: 85 03        	sta	<R0+2
  6149 06:14AF: E2 20        	sep	#$20
  6150                        	longa	off
  6151 06:14B1: A5 14        	lda	<L298+pcolor_0
  6152 06:14B3: 87 01        	sta	[<R0]
  Thu Jul 22 2021 22:51                                                Page 119


  6153 06:14B5: C2 20        	rep	#$20
  6154                        	longa	on
  6155                        ;}
  6156                        L10042:
  6157                        	.line	849
  6158                        L307:
  6159 06:14B7: A5 0A        	lda	<L298+2
  6160 06:14B9: 85 14        	sta	<L298+2+10
  6161 06:14BB: A5 09        	lda	<L298+1
  6162 06:14BD: 85 13        	sta	<L298+1+10
  6163 06:14BF: 2B           	pld
  6164 06:14C0: 3B           	tsc
  6165 06:14C1: 18           	clc
  6166 06:14C2: 69 12 00     	adc	#L298+10
  6167 06:14C5: 1B           	tcs
  6168 06:14C6: 6B           	rtl
  6169                        	.endblock	849
  6170             00000008   L298	equ	8
  6171             00000009   L299	equ	9
  6172 06:14C7:              	ends
  6173                        	efunc
  6174                        	.endfunc	849,9,8
  6175                        	.line	849
  6176                        ;
  6177                        ;
  6178                        ;void k_draw_pixel_D0(long x,long y,char pcolor)
  6179                        ;{
  6180                        	.line	852
  6181                        	.line	853
  6182                        	GFX
  6183                        	xdef	~~k_draw_pixel_D0
  6184                        	func
  6185                        	.function	853
  6186                        ~~k_draw_pixel_D0:
  6187                        	longa	on
  6188                        	longi	on
  6189 06:14C7: 3B           	tsc
  6190 06:14C8: 38           	sec
  6191 06:14C9: E9 08 00     	sbc	#L308
  6192 06:14CC: 1B           	tcs
  6193 06:14CD: 0B           	phd
  6194 06:14CE: 5B           	tcd
  6195             00000004   x_0	set	4
  6196             00000008   y_0	set	8
  6197             0000000C   pcolor_0	set	12
  6198                        	.block	853
  6199                        ;	BITMAP_BANK_0_PAGE2[(long)(((long)y * 640L) + (l
                    ong)x)] = (char)pcolor;
  6200                        	.sym	x,4,7,6,32
  6201                        	.sym	y,8,7,6,32
  6202                        	.sym	pcolor,12,14,6,8
  6203                        	.line	854
  6204 06:14CF: F4 00 00     	pea	#^$280
  6205 06:14D2: F4 80 02     	pea	#<$280
  6206 06:14D5: D4 12        	pei	<L308+y_0+2
  6207 06:14D7: D4 10        	pei	<L308+y_0
  6208                        	xref	~~~lmul
  6209 06:14D9: 22 xx xx xx  	jsl	~~~lmul
  Thu Jul 22 2021 22:51                                                Page 120


  6210 06:14DD: 85 01        	sta	<R0
  6211 06:14DF: 86 03        	stx	<R0+2
  6212 06:14E1: 18           	clc
  6213 06:14E2: A5 01        	lda	<R0
  6214 06:14E4: 65 0C        	adc	<L308+x_0
  6215 06:14E6: 85 05        	sta	<R1
  6216 06:14E8: A5 03        	lda	<R0+2
  6217 06:14EA: 65 0E        	adc	<L308+x_0+2
  6218 06:14EC: 85 07        	sta	<R1+2
  6219 06:14EE: 18           	clc
  6220 06:14EF: A9 00 00     	lda	#$0
  6221 06:14F2: 65 05        	adc	<R1
  6222 06:14F4: 85 01        	sta	<R0
  6223 06:14F6: A9 D0 00     	lda	#$d0
  6224 06:14F9: 65 07        	adc	<R1+2
  6225 06:14FB: 85 03        	sta	<R0+2
  6226 06:14FD: E2 20        	sep	#$20
  6227                        	longa	off
  6228 06:14FF: A5 14        	lda	<L308+pcolor_0
  6229 06:1501: 87 01        	sta	[<R0]
  6230 06:1503: C2 20        	rep	#$20
  6231                        	longa	on
  6232                        ;}
  6233                        	.line	855
  6234                        L311:
  6235 06:1505: A5 0A        	lda	<L308+2
  6236 06:1507: 85 14        	sta	<L308+2+10
  6237 06:1509: A5 09        	lda	<L308+1
  6238 06:150B: 85 13        	sta	<L308+1+10
  6239 06:150D: 2B           	pld
  6240 06:150E: 3B           	tsc
  6241 06:150F: 18           	clc
  6242 06:1510: 69 12 00     	adc	#L308+10
  6243 06:1513: 1B           	tcs
  6244 06:1514: 6B           	rtl
  6245                        	.endblock	855
  6246             00000008   L308	equ	8
  6247             00000009   L309	equ	9
  6248 06:1515:              	ends
  6249                        	efunc
  6250                        	.endfunc	855,9,8
  6251                        	.line	855
  6252                        ;
  6253                        ;
  6254                        ;void k_draw_pixel_ex(long x,long y,char pcolor,UI
                    NT toPage)
  6255                        ;{
  6256                        	.line	858
  6257                        	.line	859
  6258                        	GFX
  6259                        	xdef	~~k_draw_pixel_ex
  6260                        	func
  6261                        	.function	859
  6262                        ~~k_draw_pixel_ex:
  6263                        	longa	on
  6264                        	longi	on
  6265 06:1515: 3B           	tsc
  6266 06:1516: 38           	sec
  Thu Jul 22 2021 22:51                                                Page 121


  6267 06:1517: E9 08 00     	sbc	#L312
  6268 06:151A: 1B           	tcs
  6269 06:151B: 0B           	phd
  6270 06:151C: 5B           	tcd
  6271             00000004   x_0	set	4
  6272             00000008   y_0	set	8
  6273             0000000C   pcolor_0	set	12
  6274             0000000E   toPage_0	set	14
  6275                        	.block	859
  6276                        ;	//LPSTR pDest = NULL;
  6277                        ;	//ULONG addr;
  6278                        ;	//long pixelLocation = (long)(((long)y * 640L) +
                     (long)x);
  6279                        ;
  6280                        ;	//((LPSTR)((LONG)BITMAP_BANK_0 &((LONG)toPage <<
                     16) & 0xFF0000))[pixelLocation] = (char)pcolor;
  6281                        ;	//((unsigned char FAR *)((LONG)BITMAP_BANK_0) & 
                    ((LONG)toPage << 16) & 0xFF0000)))[pixelLocation] = (char)pc
                    olor;
  6282                        ;	/*
  6283                        ;	addr = ((ULONG)BITMAP_BANK_0);
  6284                        ;	addr = addr & (((ULONG)toPage << 16) & 0xFF0000)
                    ;
  6285                        ;
  6286                        ;	pDest = (LPSTR)addr;
  6287                        ;
  6288                        ;	pDest[pixelLocation] = (char)pcolor;
  6289                        ;
  6290                        ;	*/
  6291                        ;	if(x >= GUI_POINT_LIMIT_X_LO && x <= GUI_POINT_L
                    IMIT_X_HI && y >= GUI_POINT_LIMIT_Y_LO && y <= GUI_POINT_LIM
                    IT_Y_HI)
  6292                        	.sym	x,4,7,6,32
  6293                        	.sym	y,8,7,6,32
  6294                        	.sym	pcolor,12,14,6,8
  6295                        	.sym	toPage,14,16,6,16
  6296                        	.line	875
  6297                        ;		((unsigned char FAR *)BITMAP_BANK_0)[(lo
                    ng)(((long)y * 640L) + (long)x)] = (char)pcolor;
  6298 06:151D: A5 0E        	lda	<L312+x_0+2
  6299 06:151F: 10 03        	bpl	L315
  6300 06:1521: 82 67 00     	brl	L10043
  6301                        L315:
  6302 06:1524: 38           	sec
  6303 06:1525: A9 80 02     	lda	#$280
  6304 06:1528: E5 0C        	sbc	<L312+x_0
  6305 06:152A: A9 00 00     	lda	#$0
  6306 06:152D: E5 0E        	sbc	<L312+x_0+2
  6307 06:152F: 70 03        	bvs	L316
  6308 06:1531: 49 00 80     	eor	#$8000
  6309                        L316:
  6310 06:1534: 30 03        	bmi	L317
  6311 06:1536: 82 52 00     	brl	L10043
  6312                        L317:
  6313 06:1539: A5 12        	lda	<L312+y_0+2
  6314 06:153B: 10 03        	bpl	L318
  6315 06:153D: 82 4B 00     	brl	L10043
  6316                        L318:
  Thu Jul 22 2021 22:51                                                Page 122


  6317 06:1540: 38           	sec
  6318 06:1541: A9 E0 01     	lda	#$1e0
  6319 06:1544: E5 10        	sbc	<L312+y_0
  6320 06:1546: A9 00 00     	lda	#$0
  6321 06:1549: E5 12        	sbc	<L312+y_0+2
  6322 06:154B: 70 03        	bvs	L319
  6323 06:154D: 49 00 80     	eor	#$8000
  6324                        L319:
  6325 06:1550: 30 03        	bmi	L320
  6326 06:1552: 82 36 00     	brl	L10043
  6327                        L320:
  6328                        	.line	876
  6329 06:1555: F4 00 00     	pea	#^$280
  6330 06:1558: F4 80 02     	pea	#<$280
  6331 06:155B: D4 12        	pei	<L312+y_0+2
  6332 06:155D: D4 10        	pei	<L312+y_0
  6333                        	xref	~~~lmul
  6334 06:155F: 22 xx xx xx  	jsl	~~~lmul
  6335 06:1563: 85 01        	sta	<R0
  6336 06:1565: 86 03        	stx	<R0+2
  6337 06:1567: 18           	clc
  6338 06:1568: A5 01        	lda	<R0
  6339 06:156A: 65 0C        	adc	<L312+x_0
  6340 06:156C: 85 05        	sta	<R1
  6341 06:156E: A5 03        	lda	<R0+2
  6342 06:1570: 65 0E        	adc	<L312+x_0+2
  6343 06:1572: 85 07        	sta	<R1+2
  6344 06:1574: 18           	clc
  6345 06:1575: A9 00 00     	lda	#$0
  6346 06:1578: 65 05        	adc	<R1
  6347 06:157A: 85 01        	sta	<R0
  6348 06:157C: A9 B0 00     	lda	#$b0
  6349 06:157F: 65 07        	adc	<R1+2
  6350 06:1581: 85 03        	sta	<R0+2
  6351 06:1583: E2 20        	sep	#$20
  6352                        	longa	off
  6353 06:1585: A5 14        	lda	<L312+pcolor_0
  6354 06:1587: 87 01        	sta	[<R0]
  6355 06:1589: C2 20        	rep	#$20
  6356                        	longa	on
  6357                        ;}
  6358                        L10043:
  6359                        	.line	877
  6360                        L321:
  6361 06:158B: A5 0A        	lda	<L312+2
  6362 06:158D: 85 16        	sta	<L312+2+12
  6363 06:158F: A5 09        	lda	<L312+1
  6364 06:1591: 85 15        	sta	<L312+1+12
  6365 06:1593: 2B           	pld
  6366 06:1594: 3B           	tsc
  6367 06:1595: 18           	clc
  6368 06:1596: 69 14 00     	adc	#L312+12
  6369 06:1599: 1B           	tcs
  6370 06:159A: 6B           	rtl
  6371                        	.endblock	877
  6372             00000008   L312	equ	8
  6373             00000009   L313	equ	9
  6374 06:159B:              	ends
  Thu Jul 22 2021 22:51                                                Page 123


  6375                        	efunc
  6376                        	.endfunc	877,9,8
  6377                        	.line	877
  6378                        ;
  6379                        ;
  6380                        ;void k_draw_segments(int xc, int yc, int x, int y
                    ,int color) 
  6381                        ;{ 
  6382                        	.line	880
  6383                        	.line	881
  6384                        	GFX
  6385                        	xdef	~~k_draw_segments
  6386                        	func
  6387                        	.function	881
  6388                        ~~k_draw_segments:
  6389                        	longa	on
  6390                        	longi	on
  6391 06:159B: 3B           	tsc
  6392 06:159C: 38           	sec
  6393 06:159D: E9 08 00     	sbc	#L322
  6394 06:15A0: 1B           	tcs
  6395 06:15A1: 0B           	phd
  6396 06:15A2: 5B           	tcd
  6397             00000004   xc_0	set	4
  6398             00000006   yc_0	set	6
  6399             00000008   x_0	set	8
  6400             0000000A   y_0	set	10
  6401             0000000C   color_0	set	12
  6402                        	.block	881
  6403                        ;    k_draw_pixel(xc+x, yc+y, color); 
  6404                        	.sym	xc,4,5,6,16
  6405                        	.sym	yc,6,5,6,16
  6406                        	.sym	x,8,5,6,16
  6407                        	.sym	y,10,5,6,16
  6408                        	.sym	color,12,5,6,16
  6409                        	.line	882
  6410 06:15A3: D4 14        	pei	<L322+color_0
  6411 06:15A5: 18           	clc
  6412 06:15A6: A5 0E        	lda	<L322+yc_0
  6413 06:15A8: 65 12        	adc	<L322+y_0
  6414 06:15AA: 85 01        	sta	<R0
  6415 06:15AC: A0 00 00     	ldy	#$0
  6416 06:15AF: A5 01        	lda	<R0
  6417 06:15B1: 10 01        	bpl	L325
  6418 06:15B3: 88           	dey
  6419                        L325:
  6420 06:15B4: 85 01        	sta	<R0
  6421 06:15B6: 84 03        	sty	<R0+2
  6422 06:15B8: D4 03        	pei	<R0+2
  6423 06:15BA: D4 01        	pei	<R0
  6424 06:15BC: 18           	clc
  6425 06:15BD: A5 0C        	lda	<L322+xc_0
  6426 06:15BF: 65 10        	adc	<L322+x_0
  6427 06:15C1: 85 05        	sta	<R1
  6428 06:15C3: A0 00 00     	ldy	#$0
  6429 06:15C6: A5 05        	lda	<R1
  6430 06:15C8: 10 01        	bpl	L326
  6431 06:15CA: 88           	dey
  Thu Jul 22 2021 22:51                                                Page 124


  6432                        L326:
  6433 06:15CB: 85 05        	sta	<R1
  6434 06:15CD: 84 07        	sty	<R1+2
  6435 06:15CF: D4 07        	pei	<R1+2
  6436 06:15D1: D4 05        	pei	<R1
  6437 06:15D3: 22 35 13 06  	jsl	~~k_draw_pixel
  6438                        ;    k_draw_pixel(xc-x, yc+y, color); 
  6439                        	.line	883
  6440 06:15D7: D4 14        	pei	<L322+color_0
  6441 06:15D9: 18           	clc
  6442 06:15DA: A5 0E        	lda	<L322+yc_0
  6443 06:15DC: 65 12        	adc	<L322+y_0
  6444 06:15DE: 85 01        	sta	<R0
  6445 06:15E0: A0 00 00     	ldy	#$0
  6446 06:15E3: A5 01        	lda	<R0
  6447 06:15E5: 10 01        	bpl	L327
  6448 06:15E7: 88           	dey
  6449                        L327:
  6450 06:15E8: 85 01        	sta	<R0
  6451 06:15EA: 84 03        	sty	<R0+2
  6452 06:15EC: D4 03        	pei	<R0+2
  6453 06:15EE: D4 01        	pei	<R0
  6454 06:15F0: 38           	sec
  6455 06:15F1: A5 0C        	lda	<L322+xc_0
  6456 06:15F3: E5 10        	sbc	<L322+x_0
  6457 06:15F5: 85 05        	sta	<R1
  6458 06:15F7: A0 00 00     	ldy	#$0
  6459 06:15FA: A5 05        	lda	<R1
  6460 06:15FC: 10 01        	bpl	L328
  6461 06:15FE: 88           	dey
  6462                        L328:
  6463 06:15FF: 85 05        	sta	<R1
  6464 06:1601: 84 07        	sty	<R1+2
  6465 06:1603: D4 07        	pei	<R1+2
  6466 06:1605: D4 05        	pei	<R1
  6467 06:1607: 22 35 13 06  	jsl	~~k_draw_pixel
  6468                        ;    k_draw_pixel(xc+x, yc-y, color); 
  6469                        	.line	884
  6470 06:160B: D4 14        	pei	<L322+color_0
  6471 06:160D: 38           	sec
  6472 06:160E: A5 0E        	lda	<L322+yc_0
  6473 06:1610: E5 12        	sbc	<L322+y_0
  6474 06:1612: 85 01        	sta	<R0
  6475 06:1614: A0 00 00     	ldy	#$0
  6476 06:1617: A5 01        	lda	<R0
  6477 06:1619: 10 01        	bpl	L329
  6478 06:161B: 88           	dey
  6479                        L329:
  6480 06:161C: 85 01        	sta	<R0
  6481 06:161E: 84 03        	sty	<R0+2
  6482 06:1620: D4 03        	pei	<R0+2
  6483 06:1622: D4 01        	pei	<R0
  6484 06:1624: 18           	clc
  6485 06:1625: A5 0C        	lda	<L322+xc_0
  6486 06:1627: 65 10        	adc	<L322+x_0
  6487 06:1629: 85 05        	sta	<R1
  6488 06:162B: A0 00 00     	ldy	#$0
  6489 06:162E: A5 05        	lda	<R1
  Thu Jul 22 2021 22:51                                                Page 125


  6490 06:1630: 10 01        	bpl	L330
  6491 06:1632: 88           	dey
  6492                        L330:
  6493 06:1633: 85 05        	sta	<R1
  6494 06:1635: 84 07        	sty	<R1+2
  6495 06:1637: D4 07        	pei	<R1+2
  6496 06:1639: D4 05        	pei	<R1
  6497 06:163B: 22 35 13 06  	jsl	~~k_draw_pixel
  6498                        ;    k_draw_pixel(xc-x, yc-y, color); 
  6499                        	.line	885
  6500 06:163F: D4 14        	pei	<L322+color_0
  6501 06:1641: 38           	sec
  6502 06:1642: A5 0E        	lda	<L322+yc_0
  6503 06:1644: E5 12        	sbc	<L322+y_0
  6504 06:1646: 85 01        	sta	<R0
  6505 06:1648: A0 00 00     	ldy	#$0
  6506 06:164B: A5 01        	lda	<R0
  6507 06:164D: 10 01        	bpl	L331
  6508 06:164F: 88           	dey
  6509                        L331:
  6510 06:1650: 85 01        	sta	<R0
  6511 06:1652: 84 03        	sty	<R0+2
  6512 06:1654: D4 03        	pei	<R0+2
  6513 06:1656: D4 01        	pei	<R0
  6514 06:1658: 38           	sec
  6515 06:1659: A5 0C        	lda	<L322+xc_0
  6516 06:165B: E5 10        	sbc	<L322+x_0
  6517 06:165D: 85 05        	sta	<R1
  6518 06:165F: A0 00 00     	ldy	#$0
  6519 06:1662: A5 05        	lda	<R1
  6520 06:1664: 10 01        	bpl	L332
  6521 06:1666: 88           	dey
  6522                        L332:
  6523 06:1667: 85 05        	sta	<R1
  6524 06:1669: 84 07        	sty	<R1+2
  6525 06:166B: D4 07        	pei	<R1+2
  6526 06:166D: D4 05        	pei	<R1
  6527 06:166F: 22 35 13 06  	jsl	~~k_draw_pixel
  6528                        ;    k_draw_pixel(xc+y, yc+x, color); 
  6529                        	.line	886
  6530 06:1673: D4 14        	pei	<L322+color_0
  6531 06:1675: 18           	clc
  6532 06:1676: A5 0E        	lda	<L322+yc_0
  6533 06:1678: 65 10        	adc	<L322+x_0
  6534 06:167A: 85 01        	sta	<R0
  6535 06:167C: A0 00 00     	ldy	#$0
  6536 06:167F: A5 01        	lda	<R0
  6537 06:1681: 10 01        	bpl	L333
  6538 06:1683: 88           	dey
  6539                        L333:
  6540 06:1684: 85 01        	sta	<R0
  6541 06:1686: 84 03        	sty	<R0+2
  6542 06:1688: D4 03        	pei	<R0+2
  6543 06:168A: D4 01        	pei	<R0
  6544 06:168C: 18           	clc
  6545 06:168D: A5 0C        	lda	<L322+xc_0
  6546 06:168F: 65 12        	adc	<L322+y_0
  6547 06:1691: 85 05        	sta	<R1
  Thu Jul 22 2021 22:51                                                Page 126


  6548 06:1693: A0 00 00     	ldy	#$0
  6549 06:1696: A5 05        	lda	<R1
  6550 06:1698: 10 01        	bpl	L334
  6551 06:169A: 88           	dey
  6552                        L334:
  6553 06:169B: 85 05        	sta	<R1
  6554 06:169D: 84 07        	sty	<R1+2
  6555 06:169F: D4 07        	pei	<R1+2
  6556 06:16A1: D4 05        	pei	<R1
  6557 06:16A3: 22 35 13 06  	jsl	~~k_draw_pixel
  6558                        ;    k_draw_pixel(xc-y, yc+x, color); 
  6559                        	.line	887
  6560 06:16A7: D4 14        	pei	<L322+color_0
  6561 06:16A9: 18           	clc
  6562 06:16AA: A5 0E        	lda	<L322+yc_0
  6563 06:16AC: 65 10        	adc	<L322+x_0
  6564 06:16AE: 85 01        	sta	<R0
  6565 06:16B0: A0 00 00     	ldy	#$0
  6566 06:16B3: A5 01        	lda	<R0
  6567 06:16B5: 10 01        	bpl	L335
  6568 06:16B7: 88           	dey
  6569                        L335:
  6570 06:16B8: 85 01        	sta	<R0
  6571 06:16BA: 84 03        	sty	<R0+2
  6572 06:16BC: D4 03        	pei	<R0+2
  6573 06:16BE: D4 01        	pei	<R0
  6574 06:16C0: 38           	sec
  6575 06:16C1: A5 0C        	lda	<L322+xc_0
  6576 06:16C3: E5 12        	sbc	<L322+y_0
  6577 06:16C5: 85 05        	sta	<R1
  6578 06:16C7: A0 00 00     	ldy	#$0
  6579 06:16CA: A5 05        	lda	<R1
  6580 06:16CC: 10 01        	bpl	L336
  6581 06:16CE: 88           	dey
  6582                        L336:
  6583 06:16CF: 85 05        	sta	<R1
  6584 06:16D1: 84 07        	sty	<R1+2
  6585 06:16D3: D4 07        	pei	<R1+2
  6586 06:16D5: D4 05        	pei	<R1
  6587 06:16D7: 22 35 13 06  	jsl	~~k_draw_pixel
  6588                        ;    k_draw_pixel(xc+y, yc-x, color); 
  6589                        	.line	888
  6590 06:16DB: D4 14        	pei	<L322+color_0
  6591 06:16DD: 38           	sec
  6592 06:16DE: A5 0E        	lda	<L322+yc_0
  6593 06:16E0: E5 10        	sbc	<L322+x_0
  6594 06:16E2: 85 01        	sta	<R0
  6595 06:16E4: A0 00 00     	ldy	#$0
  6596 06:16E7: A5 01        	lda	<R0
  6597 06:16E9: 10 01        	bpl	L337
  6598 06:16EB: 88           	dey
  6599                        L337:
  6600 06:16EC: 85 01        	sta	<R0
  6601 06:16EE: 84 03        	sty	<R0+2
  6602 06:16F0: D4 03        	pei	<R0+2
  6603 06:16F2: D4 01        	pei	<R0
  6604 06:16F4: 18           	clc
  6605 06:16F5: A5 0C        	lda	<L322+xc_0
  Thu Jul 22 2021 22:51                                                Page 127


  6606 06:16F7: 65 12        	adc	<L322+y_0
  6607 06:16F9: 85 05        	sta	<R1
  6608 06:16FB: A0 00 00     	ldy	#$0
  6609 06:16FE: A5 05        	lda	<R1
  6610 06:1700: 10 01        	bpl	L338
  6611 06:1702: 88           	dey
  6612                        L338:
  6613 06:1703: 85 05        	sta	<R1
  6614 06:1705: 84 07        	sty	<R1+2
  6615 06:1707: D4 07        	pei	<R1+2
  6616 06:1709: D4 05        	pei	<R1
  6617 06:170B: 22 35 13 06  	jsl	~~k_draw_pixel
  6618                        ;    k_draw_pixel(xc-y, yc-x, color); 
  6619                        	.line	889
  6620 06:170F: D4 14        	pei	<L322+color_0
  6621 06:1711: 38           	sec
  6622 06:1712: A5 0E        	lda	<L322+yc_0
  6623 06:1714: E5 10        	sbc	<L322+x_0
  6624 06:1716: 85 01        	sta	<R0
  6625 06:1718: A0 00 00     	ldy	#$0
  6626 06:171B: A5 01        	lda	<R0
  6627 06:171D: 10 01        	bpl	L339
  6628 06:171F: 88           	dey
  6629                        L339:
  6630 06:1720: 85 01        	sta	<R0
  6631 06:1722: 84 03        	sty	<R0+2
  6632 06:1724: D4 03        	pei	<R0+2
  6633 06:1726: D4 01        	pei	<R0
  6634 06:1728: 38           	sec
  6635 06:1729: A5 0C        	lda	<L322+xc_0
  6636 06:172B: E5 12        	sbc	<L322+y_0
  6637 06:172D: 85 05        	sta	<R1
  6638 06:172F: A0 00 00     	ldy	#$0
  6639 06:1732: A5 05        	lda	<R1
  6640 06:1734: 10 01        	bpl	L340
  6641 06:1736: 88           	dey
  6642                        L340:
  6643 06:1737: 85 05        	sta	<R1
  6644 06:1739: 84 07        	sty	<R1+2
  6645 06:173B: D4 07        	pei	<R1+2
  6646 06:173D: D4 05        	pei	<R1
  6647 06:173F: 22 35 13 06  	jsl	~~k_draw_pixel
  6648                        ;} 
  6649                        	.line	890
  6650                        L341:
  6651 06:1743: A5 0A        	lda	<L322+2
  6652 06:1745: 85 14        	sta	<L322+2+10
  6653 06:1747: A5 09        	lda	<L322+1
  6654 06:1749: 85 13        	sta	<L322+1+10
  6655 06:174B: 2B           	pld
  6656 06:174C: 3B           	tsc
  6657 06:174D: 18           	clc
  6658 06:174E: 69 12 00     	adc	#L322+10
  6659 06:1751: 1B           	tcs
  6660 06:1752: 6B           	rtl
  6661                        	.endblock	890
  6662             00000008   L322	equ	8
  6663             00000009   L323	equ	9
  Thu Jul 22 2021 22:51                                                Page 128


  6664 06:1753:              	ends
  6665                        	efunc
  6666                        	.endfunc	890,9,8
  6667                        	.line	890
  6668                        ;
  6669                        ;void k_draw_filled_segments(int xc, int yc, int x
                    , int y,int color) 
  6670                        ;{ 
  6671                        	.line	892
  6672                        	.line	893
  6673                        	GFX
  6674                        	xdef	~~k_draw_filled_segments
  6675                        	func
  6676                        	.function	893
  6677                        ~~k_draw_filled_segments:
  6678                        	longa	on
  6679                        	longi	on
  6680 06:1753: 3B           	tsc
  6681 06:1754: 38           	sec
  6682 06:1755: E9 08 00     	sbc	#L342
  6683 06:1758: 1B           	tcs
  6684 06:1759: 0B           	phd
  6685 06:175A: 5B           	tcd
  6686             00000004   xc_0	set	4
  6687             00000006   yc_0	set	6
  6688             00000008   x_0	set	8
  6689             0000000A   y_0	set	10
  6690             0000000C   color_0	set	12
  6691                        	.block	893
  6692                        ;    k_draw_pixel(xc+x, yc+y, color); 	    
  6693                        	.sym	xc,4,5,6,16
  6694                        	.sym	yc,6,5,6,16
  6695                        	.sym	x,8,5,6,16
  6696                        	.sym	y,10,5,6,16
  6697                        	.sym	color,12,5,6,16
  6698                        	.line	894
  6699 06:175B: D4 14        	pei	<L342+color_0
  6700 06:175D: 18           	clc
  6701 06:175E: A5 0E        	lda	<L342+yc_0
  6702 06:1760: 65 12        	adc	<L342+y_0
  6703 06:1762: 85 01        	sta	<R0
  6704 06:1764: A0 00 00     	ldy	#$0
  6705 06:1767: A5 01        	lda	<R0
  6706 06:1769: 10 01        	bpl	L345
  6707 06:176B: 88           	dey
  6708                        L345:
  6709 06:176C: 85 01        	sta	<R0
  6710 06:176E: 84 03        	sty	<R0+2
  6711 06:1770: D4 03        	pei	<R0+2
  6712 06:1772: D4 01        	pei	<R0
  6713 06:1774: 18           	clc
  6714 06:1775: A5 0C        	lda	<L342+xc_0
  6715 06:1777: 65 10        	adc	<L342+x_0
  6716 06:1779: 85 05        	sta	<R1
  6717 06:177B: A0 00 00     	ldy	#$0
  6718 06:177E: A5 05        	lda	<R1
  6719 06:1780: 10 01        	bpl	L346
  6720 06:1782: 88           	dey
  Thu Jul 22 2021 22:51                                                Page 129


  6721                        L346:
  6722 06:1783: 85 05        	sta	<R1
  6723 06:1785: 84 07        	sty	<R1+2
  6724 06:1787: D4 07        	pei	<R1+2
  6725 06:1789: D4 05        	pei	<R1
  6726 06:178B: 22 35 13 06  	jsl	~~k_draw_pixel
  6727                        ;	k_draw_pixel(xc-x, yc+y, color); 
  6728                        	.line	895
  6729 06:178F: D4 14        	pei	<L342+color_0
  6730 06:1791: 18           	clc
  6731 06:1792: A5 0E        	lda	<L342+yc_0
  6732 06:1794: 65 12        	adc	<L342+y_0
  6733 06:1796: 85 01        	sta	<R0
  6734 06:1798: A0 00 00     	ldy	#$0
  6735 06:179B: A5 01        	lda	<R0
  6736 06:179D: 10 01        	bpl	L347
  6737 06:179F: 88           	dey
  6738                        L347:
  6739 06:17A0: 85 01        	sta	<R0
  6740 06:17A2: 84 03        	sty	<R0+2
  6741 06:17A4: D4 03        	pei	<R0+2
  6742 06:17A6: D4 01        	pei	<R0
  6743 06:17A8: 38           	sec
  6744 06:17A9: A5 0C        	lda	<L342+xc_0
  6745 06:17AB: E5 10        	sbc	<L342+x_0
  6746 06:17AD: 85 05        	sta	<R1
  6747 06:17AF: A0 00 00     	ldy	#$0
  6748 06:17B2: A5 05        	lda	<R1
  6749 06:17B4: 10 01        	bpl	L348
  6750 06:17B6: 88           	dey
  6751                        L348:
  6752 06:17B7: 85 05        	sta	<R1
  6753 06:17B9: 84 07        	sty	<R1+2
  6754 06:17BB: D4 07        	pei	<R1+2
  6755 06:17BD: D4 05        	pei	<R1
  6756 06:17BF: 22 35 13 06  	jsl	~~k_draw_pixel
  6757                        ;    k_draw_line(xc+x, yc+y, xc-x, yc+y,color);
  6758                        	.line	896
  6759 06:17C3: D4 14        	pei	<L342+color_0
  6760 06:17C5: 18           	clc
  6761 06:17C6: A5 0E        	lda	<L342+yc_0
  6762 06:17C8: 65 12        	adc	<L342+y_0
  6763 06:17CA: 48           	pha
  6764 06:17CB: 38           	sec
  6765 06:17CC: A5 0C        	lda	<L342+xc_0
  6766 06:17CE: E5 10        	sbc	<L342+x_0
  6767 06:17D0: 48           	pha
  6768 06:17D1: 18           	clc
  6769 06:17D2: A5 0E        	lda	<L342+yc_0
  6770 06:17D4: 65 12        	adc	<L342+y_0
  6771 06:17D6: 48           	pha
  6772 06:17D7: 18           	clc
  6773 06:17D8: A5 0C        	lda	<L342+xc_0
  6774 06:17DA: 65 10        	adc	<L342+x_0
  6775 06:17DC: 48           	pha
  6776 06:17DD: 22 C5 1A 06  	jsl	~~k_draw_line
  6777                        ;	
  6778                        ;	
  Thu Jul 22 2021 22:51                                                Page 130


  6779                        ;	k_draw_pixel(xc+x, yc-y, color);     	
  6780                        	.line	899
  6781 06:17E1: D4 14        	pei	<L342+color_0
  6782 06:17E3: 38           	sec
  6783 06:17E4: A5 0E        	lda	<L342+yc_0
  6784 06:17E6: E5 12        	sbc	<L342+y_0
  6785 06:17E8: 85 01        	sta	<R0
  6786 06:17EA: A0 00 00     	ldy	#$0
  6787 06:17ED: A5 01        	lda	<R0
  6788 06:17EF: 10 01        	bpl	L349
  6789 06:17F1: 88           	dey
  6790                        L349:
  6791 06:17F2: 85 01        	sta	<R0
  6792 06:17F4: 84 03        	sty	<R0+2
  6793 06:17F6: D4 03        	pei	<R0+2
  6794 06:17F8: D4 01        	pei	<R0
  6795 06:17FA: 18           	clc
  6796 06:17FB: A5 0C        	lda	<L342+xc_0
  6797 06:17FD: 65 10        	adc	<L342+x_0
  6798 06:17FF: 85 05        	sta	<R1
  6799 06:1801: A0 00 00     	ldy	#$0
  6800 06:1804: A5 05        	lda	<R1
  6801 06:1806: 10 01        	bpl	L350
  6802 06:1808: 88           	dey
  6803                        L350:
  6804 06:1809: 85 05        	sta	<R1
  6805 06:180B: 84 07        	sty	<R1+2
  6806 06:180D: D4 07        	pei	<R1+2
  6807 06:180F: D4 05        	pei	<R1
  6808 06:1811: 22 35 13 06  	jsl	~~k_draw_pixel
  6809                        ;	k_draw_pixel(xc-x, yc-y, color); 
  6810                        	.line	900
  6811 06:1815: D4 14        	pei	<L342+color_0
  6812 06:1817: 38           	sec
  6813 06:1818: A5 0E        	lda	<L342+yc_0
  6814 06:181A: E5 12        	sbc	<L342+y_0
  6815 06:181C: 85 01        	sta	<R0
  6816 06:181E: A0 00 00     	ldy	#$0
  6817 06:1821: A5 01        	lda	<R0
  6818 06:1823: 10 01        	bpl	L351
  6819 06:1825: 88           	dey
  6820                        L351:
  6821 06:1826: 85 01        	sta	<R0
  6822 06:1828: 84 03        	sty	<R0+2
  6823 06:182A: D4 03        	pei	<R0+2
  6824 06:182C: D4 01        	pei	<R0
  6825 06:182E: 38           	sec
  6826 06:182F: A5 0C        	lda	<L342+xc_0
  6827 06:1831: E5 10        	sbc	<L342+x_0
  6828 06:1833: 85 05        	sta	<R1
  6829 06:1835: A0 00 00     	ldy	#$0
  6830 06:1838: A5 05        	lda	<R1
  6831 06:183A: 10 01        	bpl	L352
  6832 06:183C: 88           	dey
  6833                        L352:
  6834 06:183D: 85 05        	sta	<R1
  6835 06:183F: 84 07        	sty	<R1+2
  6836 06:1841: D4 07        	pei	<R1+2
  Thu Jul 22 2021 22:51                                                Page 131


  6837 06:1843: D4 05        	pei	<R1
  6838 06:1845: 22 35 13 06  	jsl	~~k_draw_pixel
  6839                        ;	k_draw_line(xc+x, yc-y, xc-x, yc-y,color);
  6840                        	.line	901
  6841 06:1849: D4 14        	pei	<L342+color_0
  6842 06:184B: 38           	sec
  6843 06:184C: A5 0E        	lda	<L342+yc_0
  6844 06:184E: E5 12        	sbc	<L342+y_0
  6845 06:1850: 48           	pha
  6846 06:1851: 38           	sec
  6847 06:1852: A5 0C        	lda	<L342+xc_0
  6848 06:1854: E5 10        	sbc	<L342+x_0
  6849 06:1856: 48           	pha
  6850 06:1857: 38           	sec
  6851 06:1858: A5 0E        	lda	<L342+yc_0
  6852 06:185A: E5 12        	sbc	<L342+y_0
  6853 06:185C: 48           	pha
  6854 06:185D: 18           	clc
  6855 06:185E: A5 0C        	lda	<L342+xc_0
  6856 06:1860: 65 10        	adc	<L342+x_0
  6857 06:1862: 48           	pha
  6858 06:1863: 22 C5 1A 06  	jsl	~~k_draw_line
  6859                        ;	
  6860                        ;    
  6861                        ;	k_draw_pixel(xc+y, yc+x, color);     
  6862                        	.line	904
  6863 06:1867: D4 14        	pei	<L342+color_0
  6864 06:1869: 18           	clc
  6865 06:186A: A5 0E        	lda	<L342+yc_0
  6866 06:186C: 65 10        	adc	<L342+x_0
  6867 06:186E: 85 01        	sta	<R0
  6868 06:1870: A0 00 00     	ldy	#$0
  6869 06:1873: A5 01        	lda	<R0
  6870 06:1875: 10 01        	bpl	L353
  6871 06:1877: 88           	dey
  6872                        L353:
  6873 06:1878: 85 01        	sta	<R0
  6874 06:187A: 84 03        	sty	<R0+2
  6875 06:187C: D4 03        	pei	<R0+2
  6876 06:187E: D4 01        	pei	<R0
  6877 06:1880: 18           	clc
  6878 06:1881: A5 0C        	lda	<L342+xc_0
  6879 06:1883: 65 12        	adc	<L342+y_0
  6880 06:1885: 85 05        	sta	<R1
  6881 06:1887: A0 00 00     	ldy	#$0
  6882 06:188A: A5 05        	lda	<R1
  6883 06:188C: 10 01        	bpl	L354
  6884 06:188E: 88           	dey
  6885                        L354:
  6886 06:188F: 85 05        	sta	<R1
  6887 06:1891: 84 07        	sty	<R1+2
  6888 06:1893: D4 07        	pei	<R1+2
  6889 06:1895: D4 05        	pei	<R1
  6890 06:1897: 22 35 13 06  	jsl	~~k_draw_pixel
  6891                        ;	k_draw_pixel(xc-y, yc+x, color); 
  6892                        	.line	905
  6893 06:189B: D4 14        	pei	<L342+color_0
  6894 06:189D: 18           	clc
  Thu Jul 22 2021 22:51                                                Page 132


  6895 06:189E: A5 0E        	lda	<L342+yc_0
  6896 06:18A0: 65 10        	adc	<L342+x_0
  6897 06:18A2: 85 01        	sta	<R0
  6898 06:18A4: A0 00 00     	ldy	#$0
  6899 06:18A7: A5 01        	lda	<R0
  6900 06:18A9: 10 01        	bpl	L355
  6901 06:18AB: 88           	dey
  6902                        L355:
  6903 06:18AC: 85 01        	sta	<R0
  6904 06:18AE: 84 03        	sty	<R0+2
  6905 06:18B0: D4 03        	pei	<R0+2
  6906 06:18B2: D4 01        	pei	<R0
  6907 06:18B4: 38           	sec
  6908 06:18B5: A5 0C        	lda	<L342+xc_0
  6909 06:18B7: E5 12        	sbc	<L342+y_0
  6910 06:18B9: 85 05        	sta	<R1
  6911 06:18BB: A0 00 00     	ldy	#$0
  6912 06:18BE: A5 05        	lda	<R1
  6913 06:18C0: 10 01        	bpl	L356
  6914 06:18C2: 88           	dey
  6915                        L356:
  6916 06:18C3: 85 05        	sta	<R1
  6917 06:18C5: 84 07        	sty	<R1+2
  6918 06:18C7: D4 07        	pei	<R1+2
  6919 06:18C9: D4 05        	pei	<R1
  6920 06:18CB: 22 35 13 06  	jsl	~~k_draw_pixel
  6921                        ;	k_draw_line(xc+y, yc+x, xc-y, yc+x,color);	
  6922                        	.line	906
  6923 06:18CF: D4 14        	pei	<L342+color_0
  6924 06:18D1: 18           	clc
  6925 06:18D2: A5 0E        	lda	<L342+yc_0
  6926 06:18D4: 65 10        	adc	<L342+x_0
  6927 06:18D6: 48           	pha
  6928 06:18D7: 38           	sec
  6929 06:18D8: A5 0C        	lda	<L342+xc_0
  6930 06:18DA: E5 12        	sbc	<L342+y_0
  6931 06:18DC: 48           	pha
  6932 06:18DD: 18           	clc
  6933 06:18DE: A5 0E        	lda	<L342+yc_0
  6934 06:18E0: 65 10        	adc	<L342+x_0
  6935 06:18E2: 48           	pha
  6936 06:18E3: 18           	clc
  6937 06:18E4: A5 0C        	lda	<L342+xc_0
  6938 06:18E6: 65 12        	adc	<L342+y_0
  6939 06:18E8: 48           	pha
  6940 06:18E9: 22 C5 1A 06  	jsl	~~k_draw_line
  6941                        ;	
  6942                        ;	k_draw_pixel(xc+y, yc-x, color);  
  6943                        	.line	908
  6944 06:18ED: D4 14        	pei	<L342+color_0
  6945 06:18EF: 38           	sec
  6946 06:18F0: A5 0E        	lda	<L342+yc_0
  6947 06:18F2: E5 10        	sbc	<L342+x_0
  6948 06:18F4: 85 01        	sta	<R0
  6949 06:18F6: A0 00 00     	ldy	#$0
  6950 06:18F9: A5 01        	lda	<R0
  6951 06:18FB: 10 01        	bpl	L357
  6952 06:18FD: 88           	dey
  Thu Jul 22 2021 22:51                                                Page 133


  6953                        L357:
  6954 06:18FE: 85 01        	sta	<R0
  6955 06:1900: 84 03        	sty	<R0+2
  6956 06:1902: D4 03        	pei	<R0+2
  6957 06:1904: D4 01        	pei	<R0
  6958 06:1906: 18           	clc
  6959 06:1907: A5 0C        	lda	<L342+xc_0
  6960 06:1909: 65 12        	adc	<L342+y_0
  6961 06:190B: 85 05        	sta	<R1
  6962 06:190D: A0 00 00     	ldy	#$0
  6963 06:1910: A5 05        	lda	<R1
  6964 06:1912: 10 01        	bpl	L358
  6965 06:1914: 88           	dey
  6966                        L358:
  6967 06:1915: 85 05        	sta	<R1
  6968 06:1917: 84 07        	sty	<R1+2
  6969 06:1919: D4 07        	pei	<R1+2
  6970 06:191B: D4 05        	pei	<R1
  6971 06:191D: 22 35 13 06  	jsl	~~k_draw_pixel
  6972                        ;	k_draw_pixel(xc-y, yc-x, color); 
  6973                        	.line	909
  6974 06:1921: D4 14        	pei	<L342+color_0
  6975 06:1923: 38           	sec
  6976 06:1924: A5 0E        	lda	<L342+yc_0
  6977 06:1926: E5 10        	sbc	<L342+x_0
  6978 06:1928: 85 01        	sta	<R0
  6979 06:192A: A0 00 00     	ldy	#$0
  6980 06:192D: A5 01        	lda	<R0
  6981 06:192F: 10 01        	bpl	L359
  6982 06:1931: 88           	dey
  6983                        L359:
  6984 06:1932: 85 01        	sta	<R0
  6985 06:1934: 84 03        	sty	<R0+2
  6986 06:1936: D4 03        	pei	<R0+2
  6987 06:1938: D4 01        	pei	<R0
  6988 06:193A: 38           	sec
  6989 06:193B: A5 0C        	lda	<L342+xc_0
  6990 06:193D: E5 12        	sbc	<L342+y_0
  6991 06:193F: 85 05        	sta	<R1
  6992 06:1941: A0 00 00     	ldy	#$0
  6993 06:1944: A5 05        	lda	<R1
  6994 06:1946: 10 01        	bpl	L360
  6995 06:1948: 88           	dey
  6996                        L360:
  6997 06:1949: 85 05        	sta	<R1
  6998 06:194B: 84 07        	sty	<R1+2
  6999 06:194D: D4 07        	pei	<R1+2
  7000 06:194F: D4 05        	pei	<R1
  7001 06:1951: 22 35 13 06  	jsl	~~k_draw_pixel
  7002                        ;	k_draw_line(xc+y, yc-x, xc-y, yc-x,color);
  7003                        	.line	910
  7004 06:1955: D4 14        	pei	<L342+color_0
  7005 06:1957: 38           	sec
  7006 06:1958: A5 0E        	lda	<L342+yc_0
  7007 06:195A: E5 10        	sbc	<L342+x_0
  7008 06:195C: 48           	pha
  7009 06:195D: 38           	sec
  7010 06:195E: A5 0C        	lda	<L342+xc_0
  Thu Jul 22 2021 22:51                                                Page 134


  7011 06:1960: E5 12        	sbc	<L342+y_0
  7012 06:1962: 48           	pha
  7013 06:1963: 38           	sec
  7014 06:1964: A5 0E        	lda	<L342+yc_0
  7015 06:1966: E5 10        	sbc	<L342+x_0
  7016 06:1968: 48           	pha
  7017 06:1969: 18           	clc
  7018 06:196A: A5 0C        	lda	<L342+xc_0
  7019 06:196C: 65 12        	adc	<L342+y_0
  7020 06:196E: 48           	pha
  7021 06:196F: 22 C5 1A 06  	jsl	~~k_draw_line
  7022                        ;}
  7023                        	.line	911
  7024                        L361:
  7025 06:1973: A5 0A        	lda	<L342+2
  7026 06:1975: 85 14        	sta	<L342+2+10
  7027 06:1977: A5 09        	lda	<L342+1
  7028 06:1979: 85 13        	sta	<L342+1+10
  7029 06:197B: 2B           	pld
  7030 06:197C: 3B           	tsc
  7031 06:197D: 18           	clc
  7032 06:197E: 69 12 00     	adc	#L342+10
  7033 06:1981: 1B           	tcs
  7034 06:1982: 6B           	rtl
  7035                        	.endblock	911
  7036             00000008   L342	equ	8
  7037             00000009   L343	equ	9
  7038 06:1983:              	ends
  7039                        	efunc
  7040                        	.endfunc	911,9,8
  7041                        	.line	911
  7042                        ;  
  7043                        ;// Function for circle-generation 
  7044                        ;// using Bresenham's algorithm 
  7045                        ;void k_draw_circle(int xc, int yc, int r, int col
                    or) 
  7046                        ;{ 
  7047                        	.line	915
  7048                        	.line	916
  7049                        	GFX
  7050                        	xdef	~~k_draw_circle
  7051                        	func
  7052                        	.function	916
  7053                        ~~k_draw_circle:
  7054                        	longa	on
  7055                        	longi	on
  7056 06:1983: 3B           	tsc
  7057 06:1984: 38           	sec
  7058 06:1985: E9 0E 00     	sbc	#L362
  7059 06:1988: 1B           	tcs
  7060 06:1989: 0B           	phd
  7061 06:198A: 5B           	tcd
  7062             00000004   xc_0	set	4
  7063             00000006   yc_0	set	6
  7064             00000008   r_0	set	8
  7065             0000000A   color_0	set	10
  7066                        	.block	916
  7067                        ;    int x = 0;
  Thu Jul 22 2021 22:51                                                Page 135


  7068                        ;	int y = r; 
  7069                        ;	
  7070                        ;    int d = 3 - 2 * r; 
  7071                        ;	
  7072                        ;    k_draw_segments(xc, yc, x, y, color); 
  7073             00000000   x_1	set	0
  7074             00000002   y_1	set	2
  7075             00000004   d_1	set	4
  7076                        	.sym	x,0,5,1,16
  7077                        	.sym	y,2,5,1,16
  7078                        	.sym	d,4,5,1,16
  7079                        	.sym	xc,4,5,6,16
  7080                        	.sym	yc,6,5,6,16
  7081                        	.sym	r,8,5,6,16
  7082                        	.sym	color,10,5,6,16
  7083 06:198B: 64 09        	stz	<L363+x_1
  7084 06:198D: A5 16        	lda	<L362+r_0
  7085 06:198F: 85 0B        	sta	<L363+y_1
  7086 06:1991: A5 16        	lda	<L362+r_0
  7087 06:1993: 0A           	asl	A
  7088 06:1994: 85 01        	sta	<R0
  7089 06:1996: 38           	sec
  7090 06:1997: A9 03 00     	lda	#$3
  7091 06:199A: E5 01        	sbc	<R0
  7092 06:199C: 85 0D        	sta	<L363+d_1
  7093                        	.line	922
  7094 06:199E: D4 18        	pei	<L362+color_0
  7095 06:19A0: D4 0B        	pei	<L363+y_1
  7096 06:19A2: D4 09        	pei	<L363+x_1
  7097 06:19A4: D4 14        	pei	<L362+yc_0
  7098 06:19A6: D4 12        	pei	<L362+xc_0
  7099 06:19A8: 22 9B 15 06  	jsl	~~k_draw_segments
  7100                        ;	
  7101                        ;    while (y >= x) 
  7102                        	.line	924
  7103                        L10044:
  7104 06:19AC: 38           	sec
  7105 06:19AD: A5 0B        	lda	<L363+y_1
  7106 06:19AF: E5 09        	sbc	<L363+x_1
  7107 06:19B1: 70 03        	bvs	L365
  7108 06:19B3: 49 00 80     	eor	#$8000
  7109                        L365:
  7110 06:19B6: 30 03        	bmi	L366
  7111 06:19B8: 82 59 00     	brl	L10045
  7112                        L366:
  7113                        ;    { 
  7114                        	.line	925
  7115                        ;        // for each pixel we will 
  7116                        ;        // draw all eight pixels 
  7117                        ;          
  7118                        ;        x++; 
  7119                        	.line	929
  7120 06:19BB: E6 09        	inc	<L363+x_1
  7121                        ;  
  7122                        ;        // check for decision parameter 
  7123                        ;        // and correspondingly  
  7124                        ;        // update d, x, y 
  7125                        ;        if (d > 0) 
  Thu Jul 22 2021 22:51                                                Page 136


  7126                        	.line	934
  7127                        ;        { 
  7128 06:19BD: 38           	sec
  7129 06:19BE: A9 00 00     	lda	#$0
  7130 06:19C1: E5 0D        	sbc	<L363+d_1
  7131 06:19C3: 70 03        	bvs	L367
  7132 06:19C5: 49 00 80     	eor	#$8000
  7133                        L367:
  7134 06:19C8: 10 03        	bpl	L368
  7135 06:19CA: 82 21 00     	brl	L10046
  7136                        L368:
  7137                        	.line	935
  7138                        ;            y--;  
  7139                        	.line	936
  7140 06:19CD: C6 0B        	dec	<L363+y_1
  7141                        ;            d = d + 4 * (x - y) + 10; 
  7142                        	.line	937
  7143 06:19CF: 38           	sec
  7144 06:19D0: A5 09        	lda	<L363+x_1
  7145 06:19D2: E5 0B        	sbc	<L363+y_1
  7146 06:19D4: 85 05        	sta	<R1
  7147 06:19D6: A5 05        	lda	<R1
  7148 06:19D8: 0A           	asl	A
  7149 06:19D9: 0A           	asl	A
  7150 06:19DA: 85 01        	sta	<R0
  7151 06:19DC: 18           	clc
  7152 06:19DD: A5 01        	lda	<R0
  7153 06:19DF: 65 0D        	adc	<L363+d_1
  7154 06:19E1: 85 05        	sta	<R1
  7155 06:19E3: 18           	clc
  7156 06:19E4: A9 0A 00     	lda	#$a
  7157 06:19E7: 65 05        	adc	<R1
  7158 06:19E9: 85 0D        	sta	<L363+d_1
  7159                        ;        } 
  7160                        	.line	938
  7161                        ;        else
  7162 06:19EB: 82 15 00     	brl	L10047
  7163                        L10046:
  7164                        ;            d = d + 4 * x + 6; 
  7165                        	.line	940
  7166 06:19EE: A5 09        	lda	<L363+x_1
  7167 06:19F0: 0A           	asl	A
  7168 06:19F1: 0A           	asl	A
  7169 06:19F2: 85 01        	sta	<R0
  7170 06:19F4: 18           	clc
  7171 06:19F5: A5 01        	lda	<R0
  7172 06:19F7: 65 0D        	adc	<L363+d_1
  7173 06:19F9: 85 05        	sta	<R1
  7174 06:19FB: 18           	clc
  7175 06:19FC: A9 06 00     	lda	#$6
  7176 06:19FF: 65 05        	adc	<R1
  7177 06:1A01: 85 0D        	sta	<L363+d_1
  7178                        L10047:
  7179                        ;        k_draw_segments(xc, yc, x, y, color); 
  7180                        	.line	941
  7181 06:1A03: D4 18        	pei	<L362+color_0
  7182 06:1A05: D4 0B        	pei	<L363+y_1
  7183 06:1A07: D4 09        	pei	<L363+x_1
  Thu Jul 22 2021 22:51                                                Page 137


  7184 06:1A09: D4 14        	pei	<L362+yc_0
  7185 06:1A0B: D4 12        	pei	<L362+xc_0
  7186 06:1A0D: 22 9B 15 06  	jsl	~~k_draw_segments
  7187                        ;       
  7188                        ;    } 
  7189                        	.line	943
  7190 06:1A11: 82 98 FF     	brl	L10044
  7191                        L10045:
  7192                        ;} 
  7193                        	.line	944
  7194                        L369:
  7195 06:1A14: A5 10        	lda	<L362+2
  7196 06:1A16: 85 18        	sta	<L362+2+8
  7197 06:1A18: A5 0F        	lda	<L362+1
  7198 06:1A1A: 85 17        	sta	<L362+1+8
  7199 06:1A1C: 2B           	pld
  7200 06:1A1D: 3B           	tsc
  7201 06:1A1E: 18           	clc
  7202 06:1A1F: 69 16 00     	adc	#L362+8
  7203 06:1A22: 1B           	tcs
  7204 06:1A23: 6B           	rtl
  7205                        	.endblock	944
  7206             0000000E   L362	equ	14
  7207             00000009   L363	equ	9
  7208 06:1A24:              	ends
  7209                        	efunc
  7210                        	.endfunc	944,9,14
  7211                        	.line	944
  7212                        ;
  7213                        ;void k_draw_filled_circle(int xc, int yc, int r, 
                    int color) 
  7214                        ;{ 
  7215                        	.line	946
  7216                        	.line	947
  7217                        	GFX
  7218                        	xdef	~~k_draw_filled_circle
  7219                        	func
  7220                        	.function	947
  7221                        ~~k_draw_filled_circle:
  7222                        	longa	on
  7223                        	longi	on
  7224 06:1A24: 3B           	tsc
  7225 06:1A25: 38           	sec
  7226 06:1A26: E9 0E 00     	sbc	#L370
  7227 06:1A29: 1B           	tcs
  7228 06:1A2A: 0B           	phd
  7229 06:1A2B: 5B           	tcd
  7230             00000004   xc_0	set	4
  7231             00000006   yc_0	set	6
  7232             00000008   r_0	set	8
  7233             0000000A   color_0	set	10
  7234                        	.block	947
  7235                        ;    int x = 0;
  7236                        ;	int y = r; 
  7237                        ;	
  7238                        ;    int d = 3 - 2 * r; 
  7239                        ;	
  7240                        ;    k_draw_filled_segments(xc, yc, x, y, color); 
  Thu Jul 22 2021 22:51                                                Page 138


  7241             00000000   x_1	set	0
  7242             00000002   y_1	set	2
  7243             00000004   d_1	set	4
  7244                        	.sym	x,0,5,1,16
  7245                        	.sym	y,2,5,1,16
  7246                        	.sym	d,4,5,1,16
  7247                        	.sym	xc,4,5,6,16
  7248                        	.sym	yc,6,5,6,16
  7249                        	.sym	r,8,5,6,16
  7250                        	.sym	color,10,5,6,16
  7251 06:1A2C: 64 09        	stz	<L371+x_1
  7252 06:1A2E: A5 16        	lda	<L370+r_0
  7253 06:1A30: 85 0B        	sta	<L371+y_1
  7254 06:1A32: A5 16        	lda	<L370+r_0
  7255 06:1A34: 0A           	asl	A
  7256 06:1A35: 85 01        	sta	<R0
  7257 06:1A37: 38           	sec
  7258 06:1A38: A9 03 00     	lda	#$3
  7259 06:1A3B: E5 01        	sbc	<R0
  7260 06:1A3D: 85 0D        	sta	<L371+d_1
  7261                        	.line	953
  7262 06:1A3F: D4 18        	pei	<L370+color_0
  7263 06:1A41: D4 0B        	pei	<L371+y_1
  7264 06:1A43: D4 09        	pei	<L371+x_1
  7265 06:1A45: D4 14        	pei	<L370+yc_0
  7266 06:1A47: D4 12        	pei	<L370+xc_0
  7267 06:1A49: 22 53 17 06  	jsl	~~k_draw_filled_segments
  7268                        ;	
  7269                        ;    while (y >= x) 
  7270                        	.line	955
  7271                        L10048:
  7272 06:1A4D: 38           	sec
  7273 06:1A4E: A5 0B        	lda	<L371+y_1
  7274 06:1A50: E5 09        	sbc	<L371+x_1
  7275 06:1A52: 70 03        	bvs	L373
  7276 06:1A54: 49 00 80     	eor	#$8000
  7277                        L373:
  7278 06:1A57: 30 03        	bmi	L374
  7279 06:1A59: 82 59 00     	brl	L10049
  7280                        L374:
  7281                        ;    { 
  7282                        	.line	956
  7283                        ;        // for each pixel we will 
  7284                        ;        // draw all eight pixels 
  7285                        ;          
  7286                        ;        x++; 
  7287                        	.line	960
  7288 06:1A5C: E6 09        	inc	<L371+x_1
  7289                        ;  
  7290                        ;        // check for decision parameter 
  7291                        ;        // and correspondingly  
  7292                        ;        // update d, x, y 
  7293                        ;        if (d > 0) 
  7294                        	.line	965
  7295                        ;        { 
  7296 06:1A5E: 38           	sec
  7297 06:1A5F: A9 00 00     	lda	#$0
  7298 06:1A62: E5 0D        	sbc	<L371+d_1
  Thu Jul 22 2021 22:51                                                Page 139


  7299 06:1A64: 70 03        	bvs	L375
  7300 06:1A66: 49 00 80     	eor	#$8000
  7301                        L375:
  7302 06:1A69: 10 03        	bpl	L376
  7303 06:1A6B: 82 21 00     	brl	L10050
  7304                        L376:
  7305                        	.line	966
  7306                        ;            y--;  
  7307                        	.line	967
  7308 06:1A6E: C6 0B        	dec	<L371+y_1
  7309                        ;            d = d + 4 * (x - y) + 10; 
  7310                        	.line	968
  7311 06:1A70: 38           	sec
  7312 06:1A71: A5 09        	lda	<L371+x_1
  7313 06:1A73: E5 0B        	sbc	<L371+y_1
  7314 06:1A75: 85 05        	sta	<R1
  7315 06:1A77: A5 05        	lda	<R1
  7316 06:1A79: 0A           	asl	A
  7317 06:1A7A: 0A           	asl	A
  7318 06:1A7B: 85 01        	sta	<R0
  7319 06:1A7D: 18           	clc
  7320 06:1A7E: A5 01        	lda	<R0
  7321 06:1A80: 65 0D        	adc	<L371+d_1
  7322 06:1A82: 85 05        	sta	<R1
  7323 06:1A84: 18           	clc
  7324 06:1A85: A9 0A 00     	lda	#$a
  7325 06:1A88: 65 05        	adc	<R1
  7326 06:1A8A: 85 0D        	sta	<L371+d_1
  7327                        ;        } 
  7328                        	.line	969
  7329                        ;        else
  7330 06:1A8C: 82 15 00     	brl	L10051
  7331                        L10050:
  7332                        ;            d = d + 4 * x + 6; 
  7333                        	.line	971
  7334 06:1A8F: A5 09        	lda	<L371+x_1
  7335 06:1A91: 0A           	asl	A
  7336 06:1A92: 0A           	asl	A
  7337 06:1A93: 85 01        	sta	<R0
  7338 06:1A95: 18           	clc
  7339 06:1A96: A5 01        	lda	<R0
  7340 06:1A98: 65 0D        	adc	<L371+d_1
  7341 06:1A9A: 85 05        	sta	<R1
  7342 06:1A9C: 18           	clc
  7343 06:1A9D: A9 06 00     	lda	#$6
  7344 06:1AA0: 65 05        	adc	<R1
  7345 06:1AA2: 85 0D        	sta	<L371+d_1
  7346                        L10051:
  7347                        ;        k_draw_filled_segments(xc, yc, x, y, colo
                    r); 
  7348                        	.line	972
  7349 06:1AA4: D4 18        	pei	<L370+color_0
  7350 06:1AA6: D4 0B        	pei	<L371+y_1
  7351 06:1AA8: D4 09        	pei	<L371+x_1
  7352 06:1AAA: D4 14        	pei	<L370+yc_0
  7353 06:1AAC: D4 12        	pei	<L370+xc_0
  7354 06:1AAE: 22 53 17 06  	jsl	~~k_draw_filled_segments
  7355                        ;       
  Thu Jul 22 2021 22:51                                                Page 140


  7356                        ;    } 
  7357                        	.line	974
  7358 06:1AB2: 82 98 FF     	brl	L10048
  7359                        L10049:
  7360                        ;} 
  7361                        	.line	975
  7362                        L377:
  7363 06:1AB5: A5 10        	lda	<L370+2
  7364 06:1AB7: 85 18        	sta	<L370+2+8
  7365 06:1AB9: A5 0F        	lda	<L370+1
  7366 06:1ABB: 85 17        	sta	<L370+1+8
  7367 06:1ABD: 2B           	pld
  7368 06:1ABE: 3B           	tsc
  7369 06:1ABF: 18           	clc
  7370 06:1AC0: 69 16 00     	adc	#L370+8
  7371 06:1AC3: 1B           	tcs
  7372 06:1AC4: 6B           	rtl
  7373                        	.endblock	975
  7374             0000000E   L370	equ	14
  7375             00000009   L371	equ	9
  7376 06:1AC5:              	ends
  7377                        	efunc
  7378                        	.endfunc	975,9,14
  7379                        	.line	975
  7380                        ;void k_draw_line(int x0, int y0, int x1, int y1,i
                    nt color)
  7381                        ;{
  7382                        	.line	976
  7383                        	.line	977
  7384                        	GFX
  7385                        	xdef	~~k_draw_line
  7386                        	func
  7387                        	.function	977
  7388                        ~~k_draw_line:
  7389                        	longa	on
  7390                        	longi	on
  7391 06:1AC5: 3B           	tsc
  7392 06:1AC6: 38           	sec
  7393 06:1AC7: E9 00 00     	sbc	#L378
  7394 06:1ACA: 1B           	tcs
  7395 06:1ACB: 0B           	phd
  7396 06:1ACC: 5B           	tcd
  7397             00000004   x0_0	set	4
  7398             00000006   y0_0	set	6
  7399             00000008   x1_0	set	8
  7400             0000000A   y1_0	set	10
  7401             0000000C   color_0	set	12
  7402                        	.block	977
  7403                        ;	k_draw_line_ex(x0, y0, x1, y1,color,BITMAP_FRONT
                    );
  7404                        	.sym	x0,4,5,6,16
  7405                        	.sym	y0,6,5,6,16
  7406                        	.sym	x1,8,5,6,16
  7407                        	.sym	y1,10,5,6,16
  7408                        	.sym	color,12,5,6,16
  7409                        	.line	978
  7410 06:1ACD: F4 00 00     	pea	#<$0
  7411 06:1AD0: D4 0C        	pei	<L378+color_0
  Thu Jul 22 2021 22:51                                                Page 141


  7412 06:1AD2: D4 0A        	pei	<L378+y1_0
  7413 06:1AD4: D4 08        	pei	<L378+x1_0
  7414 06:1AD6: D4 06        	pei	<L378+y0_0
  7415 06:1AD8: D4 04        	pei	<L378+x0_0
  7416 06:1ADA: 22 EE 1A 06  	jsl	~~k_draw_line_ex
  7417                        ;}
  7418                        	.line	979
  7419                        L381:
  7420 06:1ADE: A5 02        	lda	<L378+2
  7421 06:1AE0: 85 0C        	sta	<L378+2+10
  7422 06:1AE2: A5 01        	lda	<L378+1
  7423 06:1AE4: 85 0B        	sta	<L378+1+10
  7424 06:1AE6: 2B           	pld
  7425 06:1AE7: 3B           	tsc
  7426 06:1AE8: 18           	clc
  7427 06:1AE9: 69 0A 00     	adc	#L378+10
  7428 06:1AEC: 1B           	tcs
  7429 06:1AED: 6B           	rtl
  7430                        	.endblock	979
  7431             00000000   L378	equ	0
  7432             00000001   L379	equ	1
  7433 06:1AEE:              	ends
  7434                        	efunc
  7435                        	.endfunc	979,1,0
  7436                        	.line	979
  7437                        ;
  7438                        ;void k_draw_line_ex(int x0, int y0, int x1, int y
                    1,int color,UINT page)
  7439                        ;{
  7440                        	.line	981
  7441                        	.line	982
  7442                        	GFX
  7443                        	xdef	~~k_draw_line_ex
  7444                        	func
  7445                        	.function	982
  7446                        ~~k_draw_line_ex:
  7447                        	longa	on
  7448                        	longi	on
  7449 06:1AEE: 3B           	tsc
  7450 06:1AEF: 38           	sec
  7451 06:1AF0: E9 14 00     	sbc	#L382
  7452 06:1AF3: 1B           	tcs
  7453 06:1AF4: 0B           	phd
  7454 06:1AF5: 5B           	tcd
  7455             00000004   x0_0	set	4
  7456             00000006   y0_0	set	6
  7457             00000008   x1_0	set	8
  7458             0000000A   y1_0	set	10
  7459             0000000C   color_0	set	12
  7460             0000000E   page_0	set	14
  7461                        	.block	982
  7462                        ; 	int dx = abs(x1-x0), sx = x0<x1 ? 1 : -1
                    ;
  7463                        ;	int dy = abs(y1-y0), sy = y0<y1 ? 1 : -1; 
  7464                        ;	int err = (dx>dy ? dx : -dy)/2, e2;
  7465                        ;
  7466                        ;	for(;;)
  7467             00000000   dx_1	set	0
  Thu Jul 22 2021 22:51                                                Page 142


  7468             00000002   sx_1	set	2
  7469             00000004   dy_1	set	4
  7470             00000006   sy_1	set	6
  7471             00000008   err_1	set	8
  7472             0000000A   e2_1	set	10
  7473                        	.sym	dx,0,5,1,16
  7474                        	.sym	sx,2,5,1,16
  7475                        	.sym	dy,4,5,1,16
  7476                        	.sym	sy,6,5,1,16
  7477                        	.sym	err,8,5,1,16
  7478                        	.sym	e2,10,5,1,16
  7479                        	.sym	x0,4,5,6,16
  7480                        	.sym	y0,6,5,6,16
  7481                        	.sym	x1,8,5,6,16
  7482                        	.sym	y1,10,5,6,16
  7483                        	.sym	color,12,5,6,16
  7484                        	.sym	page,14,16,6,16
  7485 06:1AF6: 38           	sec
  7486 06:1AF7: A5 1C        	lda	<L382+x1_0
  7487 06:1AF9: E5 18        	sbc	<L382+x0_0
  7488 06:1AFB: 48           	pha
  7489 06:1AFC: 22 xx xx xx  	jsl	~~abs
  7490 06:1B00: 85 09        	sta	<L383+dx_1
  7491 06:1B02: 38           	sec
  7492 06:1B03: A5 18        	lda	<L382+x0_0
  7493 06:1B05: E5 1C        	sbc	<L382+x1_0
  7494 06:1B07: 70 03        	bvs	L386
  7495 06:1B09: 49 00 80     	eor	#$8000
  7496                        L386:
  7497 06:1B0C: 10 03        	bpl	L387
  7498 06:1B0E: 82 05 00     	brl	L385
  7499                        L387:
  7500 06:1B11: A9 01 00     	lda	#$1
  7501 06:1B14: 80 03        	bra	L388
  7502                        L385:
  7503 06:1B16: A9 FF FF     	lda	#$ffff
  7504                        L388:
  7505 06:1B19: 85 0B        	sta	<L383+sx_1
  7506 06:1B1B: 38           	sec
  7507 06:1B1C: A5 1E        	lda	<L382+y1_0
  7508 06:1B1E: E5 1A        	sbc	<L382+y0_0
  7509 06:1B20: 48           	pha
  7510 06:1B21: 22 xx xx xx  	jsl	~~abs
  7511 06:1B25: 85 0D        	sta	<L383+dy_1
  7512 06:1B27: 38           	sec
  7513 06:1B28: A5 1A        	lda	<L382+y0_0
  7514 06:1B2A: E5 1E        	sbc	<L382+y1_0
  7515 06:1B2C: 70 03        	bvs	L390
  7516 06:1B2E: 49 00 80     	eor	#$8000
  7517                        L390:
  7518 06:1B31: 10 03        	bpl	L391
  7519 06:1B33: 82 05 00     	brl	L389
  7520                        L391:
  7521 06:1B36: A9 01 00     	lda	#$1
  7522 06:1B39: 80 03        	bra	L392
  7523                        L389:
  7524 06:1B3B: A9 FF FF     	lda	#$ffff
  7525                        L392:
  Thu Jul 22 2021 22:51                                                Page 143


  7526 06:1B3E: 85 0F        	sta	<L383+sy_1
  7527 06:1B40: 38           	sec
  7528 06:1B41: A5 0D        	lda	<L383+dy_1
  7529 06:1B43: E5 09        	sbc	<L383+dx_1
  7530 06:1B45: 70 03        	bvs	L394
  7531 06:1B47: 49 00 80     	eor	#$8000
  7532                        L394:
  7533 06:1B4A: 10 03        	bpl	L395
  7534 06:1B4C: 82 04 00     	brl	L393
  7535                        L395:
  7536 06:1B4F: A5 09        	lda	<L383+dx_1
  7537 06:1B51: 80 0A        	bra	L396
  7538                        L393:
  7539 06:1B53: 38           	sec
  7540 06:1B54: A9 00 00     	lda	#$0
  7541 06:1B57: E5 0D        	sbc	<L383+dy_1
  7542 06:1B59: 85 01        	sta	<R0
  7543 06:1B5B: A5 01        	lda	<R0
  7544                        L396:
  7545 06:1B5D: 85 01        	sta	<R0
  7546 06:1B5F: A5 01        	lda	<R0
  7547 06:1B61: A2 02 00     	ldx	#<$2
  7548                        	xref	~~~div
  7549 06:1B64: 22 xx xx xx  	jsl	~~~div
  7550 06:1B68: 85 11        	sta	<L383+err_1
  7551                        	.line	987
  7552                        L10054:
  7553                        ;	{
  7554                        	.line	988
  7555                        ;		switch(page)
  7556                        	.line	989
  7557 06:1B6A: A5 22        	lda	<L382+page_0
  7558 06:1B6C: 82 7B 00     	brl	L10055
  7559                        ;		{
  7560                        	.line	990
  7561                        ;		case BITMAP_BACK:
  7562                        	.line	991
  7563                        L10057:
  7564                        ;			k_draw_pixel_back(x0,y0,color);
  7565                        	.line	992
  7566 06:1B6F: D4 20        	pei	<L382+color_0
  7567 06:1B71: A0 00 00     	ldy	#$0
  7568 06:1B74: A5 1A        	lda	<L382+y0_0
  7569 06:1B76: 10 01        	bpl	L397
  7570 06:1B78: 88           	dey
  7571                        L397:
  7572 06:1B79: 85 01        	sta	<R0
  7573 06:1B7B: 84 03        	sty	<R0+2
  7574 06:1B7D: D4 03        	pei	<R0+2
  7575 06:1B7F: D4 01        	pei	<R0
  7576 06:1B81: A0 00 00     	ldy	#$0
  7577 06:1B84: A5 18        	lda	<L382+x0_0
  7578 06:1B86: 10 01        	bpl	L398
  7579 06:1B88: 88           	dey
  7580                        L398:
  7581 06:1B89: 85 05        	sta	<R1
  7582 06:1B8B: 84 07        	sty	<R1+2
  7583 06:1B8D: D4 07        	pei	<R1+2
  Thu Jul 22 2021 22:51                                                Page 144


  7584 06:1B8F: D4 05        	pei	<R1
  7585 06:1B91: 22 41 14 06  	jsl	~~k_draw_pixel_back
  7586                        ;			break;
  7587                        	.line	993
  7588 06:1B95: 82 62 00     	brl	L10056
  7589                        ;		case 0x20:
  7590                        	.line	994
  7591                        L10058:
  7592                        ;			k_draw_pixel_D0(x0,y0,color);
  7593                        	.line	995
  7594 06:1B98: D4 20        	pei	<L382+color_0
  7595 06:1B9A: A0 00 00     	ldy	#$0
  7596 06:1B9D: A5 1A        	lda	<L382+y0_0
  7597 06:1B9F: 10 01        	bpl	L399
  7598 06:1BA1: 88           	dey
  7599                        L399:
  7600 06:1BA2: 85 01        	sta	<R0
  7601 06:1BA4: 84 03        	sty	<R0+2
  7602 06:1BA6: D4 03        	pei	<R0+2
  7603 06:1BA8: D4 01        	pei	<R0
  7604 06:1BAA: A0 00 00     	ldy	#$0
  7605 06:1BAD: A5 18        	lda	<L382+x0_0
  7606 06:1BAF: 10 01        	bpl	L400
  7607 06:1BB1: 88           	dey
  7608                        L400:
  7609 06:1BB2: 85 05        	sta	<R1
  7610 06:1BB4: 84 07        	sty	<R1+2
  7611 06:1BB6: D4 07        	pei	<R1+2
  7612 06:1BB8: D4 05        	pei	<R1
  7613 06:1BBA: 22 C7 14 06  	jsl	~~k_draw_pixel_D0
  7614                        ;			break;
  7615                        	.line	996
  7616 06:1BBE: 82 39 00     	brl	L10056
  7617                        ;		default:
  7618                        	.line	997
  7619                        L10059:
  7620                        ;			k_draw_pixel_front(x0,y0,color);
  7621                        	.line	998
  7622 06:1BC1: D4 20        	pei	<L382+color_0
  7623 06:1BC3: A0 00 00     	ldy	#$0
  7624 06:1BC6: A5 1A        	lda	<L382+y0_0
  7625 06:1BC8: 10 01        	bpl	L401
  7626 06:1BCA: 88           	dey
  7627                        L401:
  7628 06:1BCB: 85 01        	sta	<R0
  7629 06:1BCD: 84 03        	sty	<R0+2
  7630 06:1BCF: D4 03        	pei	<R0+2
  7631 06:1BD1: D4 01        	pei	<R0
  7632 06:1BD3: A0 00 00     	ldy	#$0
  7633 06:1BD6: A5 18        	lda	<L382+x0_0
  7634 06:1BD8: 10 01        	bpl	L402
  7635 06:1BDA: 88           	dey
  7636                        L402:
  7637 06:1BDB: 85 05        	sta	<R1
  7638 06:1BDD: 84 07        	sty	<R1+2
  7639 06:1BDF: D4 07        	pei	<R1+2
  7640 06:1BE1: D4 05        	pei	<R1
  7641 06:1BE3: 22 BB 13 06  	jsl	~~k_draw_pixel_front
  Thu Jul 22 2021 22:51                                                Page 145


  7642                        ;		}
  7643                        	.line	999
  7644 06:1BE7: 82 10 00     	brl	L10056
  7645                        L10055:
  7646                        	xref	~~~swt
  7647 06:1BEA: 22 xx xx xx  	jsl	~~~swt
  7648 06:1BEE: 02 00        	dw	2
  7649 06:1BF0: 08 00        	dw	8
  7650 06:1BF2: 6E 1B        	dw	L10057-1
  7651 06:1BF4: 20 00        	dw	32
  7652 06:1BF6: 97 1B        	dw	L10058-1
  7653 06:1BF8: C0 1B        	dw	L10059-1
  7654                        L10056:
  7655                        ;
  7656                        ;		//k_draw_pixel_ex(x0,y0,color,page);
  7657                        ;
  7658                        ;		if (x0==x1 && y0==y1) break;
  7659                        	.line	1003
  7660 06:1BFA: A5 18        	lda	<L382+x0_0
  7661 06:1BFC: C5 1C        	cmp	<L382+x1_0
  7662 06:1BFE: F0 03        	beq	L404
  7663 06:1C00: 82 09 00     	brl	L403
  7664                        L404:
  7665 06:1C03: A5 1A        	lda	<L382+y0_0
  7666 06:1C05: C5 1E        	cmp	<L382+y1_0
  7667 06:1C07: D0 03        	bne	L405
  7668 06:1C09: 82 49 00     	brl	L10053
  7669                        L405:
  7670                        L403:
  7671                        ;		e2 = err;
  7672                        	.line	1004
  7673 06:1C0C: A5 11        	lda	<L383+err_1
  7674 06:1C0E: 85 13        	sta	<L383+e2_1
  7675                        ;		if (e2 >-dx) { err -= dy; x0 += sx; }
  7676                        	.line	1005
  7677 06:1C10: 38           	sec
  7678 06:1C11: A9 00 00     	lda	#$0
  7679 06:1C14: E5 09        	sbc	<L383+dx_1
  7680 06:1C16: 85 01        	sta	<R0
  7681 06:1C18: 38           	sec
  7682 06:1C19: A5 01        	lda	<R0
  7683 06:1C1B: E5 13        	sbc	<L383+e2_1
  7684 06:1C1D: 70 03        	bvs	L406
  7685 06:1C1F: 49 00 80     	eor	#$8000
  7686                        L406:
  7687 06:1C22: 10 03        	bpl	L407
  7688 06:1C24: 82 0E 00     	brl	L10060
  7689                        L407:
  7690                        	.line	1005
  7691                        	.line	1005
  7692 06:1C27: 38           	sec
  7693 06:1C28: A5 11        	lda	<L383+err_1
  7694 06:1C2A: E5 0D        	sbc	<L383+dy_1
  7695 06:1C2C: 85 11        	sta	<L383+err_1
  7696                        	.line	1005
  7697 06:1C2E: 18           	clc
  7698 06:1C2F: A5 18        	lda	<L382+x0_0
  7699 06:1C31: 65 0B        	adc	<L383+sx_1
  Thu Jul 22 2021 22:51                                                Page 146


  7700 06:1C33: 85 18        	sta	<L382+x0_0
  7701                        	.line	1005
  7702                        ;		if (e2 < dy) { err += dx; y0 += sy; }
  7703                        L10060:
  7704                        	.line	1006
  7705 06:1C35: 38           	sec
  7706 06:1C36: A5 13        	lda	<L383+e2_1
  7707 06:1C38: E5 0D        	sbc	<L383+dy_1
  7708 06:1C3A: 70 03        	bvs	L408
  7709 06:1C3C: 49 00 80     	eor	#$8000
  7710                        L408:
  7711 06:1C3F: 10 03        	bpl	L409
  7712 06:1C41: 82 0E 00     	brl	L10061
  7713                        L409:
  7714                        	.line	1006
  7715                        	.line	1006
  7716 06:1C44: 18           	clc
  7717 06:1C45: A5 11        	lda	<L383+err_1
  7718 06:1C47: 65 09        	adc	<L383+dx_1
  7719 06:1C49: 85 11        	sta	<L383+err_1
  7720                        	.line	1006
  7721 06:1C4B: 18           	clc
  7722 06:1C4C: A5 1A        	lda	<L382+y0_0
  7723 06:1C4E: 65 0F        	adc	<L383+sy_1
  7724 06:1C50: 85 1A        	sta	<L382+y0_0
  7725                        	.line	1006
  7726                        ;	}
  7727                        L10061:
  7728                        	.line	1007
  7729                        L10052:
  7730 06:1C52: 82 15 FF     	brl	L10054
  7731                        L10053:
  7732                        ;}
  7733                        	.line	1008
  7734                        L410:
  7735 06:1C55: A5 16        	lda	<L382+2
  7736 06:1C57: 85 22        	sta	<L382+2+12
  7737 06:1C59: A5 15        	lda	<L382+1
  7738 06:1C5B: 85 21        	sta	<L382+1+12
  7739 06:1C5D: 2B           	pld
  7740 06:1C5E: 3B           	tsc
  7741 06:1C5F: 18           	clc
  7742 06:1C60: 69 20 00     	adc	#L382+12
  7743 06:1C63: 1B           	tcs
  7744 06:1C64: 6B           	rtl
  7745                        	.endblock	1008
  7746             00000014   L382	equ	20
  7747             00000009   L383	equ	9
  7748 06:1C65:              	ends
  7749                        	efunc
  7750                        	.endfunc	1008,9,20
  7751                        	.line	1008
  7752                        ;
  7753                        ;void k_draw_line_with_pattern(int x0, int y0, int
                     x1, int y1,int color, UINT brush)
  7754                        ;{
  7755                        	.line	1010
  7756                        	.line	1011
  Thu Jul 22 2021 22:51                                                Page 147


  7757                        	GFX
  7758                        	xdef	~~k_draw_line_with_pattern
  7759                        	func
  7760                        	.function	1011
  7761                        ~~k_draw_line_with_pattern:
  7762                        	longa	on
  7763                        	longi	on
  7764 06:1C65: 3B           	tsc
  7765 06:1C66: 38           	sec
  7766 06:1C67: E9 14 00     	sbc	#L411
  7767 06:1C6A: 1B           	tcs
  7768 06:1C6B: 0B           	phd
  7769 06:1C6C: 5B           	tcd
  7770             00000004   x0_0	set	4
  7771             00000006   y0_0	set	6
  7772             00000008   x1_0	set	8
  7773             0000000A   y1_0	set	10
  7774             0000000C   color_0	set	12
  7775             0000000E   brush_0	set	14
  7776                        	.block	1011
  7777                        ; 	int dx = abs(x1-x0), sx = x0<x1 ? 1 : -1
                    ;
  7778                        ;	int dy = abs(y1-y0), sy = y0<y1 ? 1 : -1;
  7779                        ;	int err = (dx>dy ? dx : -dy)/2, e2;
  7780                        ;
  7781                        ;	for(;;)
  7782             00000000   dx_1	set	0
  7783             00000002   sx_1	set	2
  7784             00000004   dy_1	set	4
  7785             00000006   sy_1	set	6
  7786             00000008   err_1	set	8
  7787             0000000A   e2_1	set	10
  7788                        	.sym	dx,0,5,1,16
  7789                        	.sym	sx,2,5,1,16
  7790                        	.sym	dy,4,5,1,16
  7791                        	.sym	sy,6,5,1,16
  7792                        	.sym	err,8,5,1,16
  7793                        	.sym	e2,10,5,1,16
  7794                        	.sym	x0,4,5,6,16
  7795                        	.sym	y0,6,5,6,16
  7796                        	.sym	x1,8,5,6,16
  7797                        	.sym	y1,10,5,6,16
  7798                        	.sym	color,12,5,6,16
  7799                        	.sym	brush,14,16,6,16
  7800 06:1C6D: 38           	sec
  7801 06:1C6E: A5 1C        	lda	<L411+x1_0
  7802 06:1C70: E5 18        	sbc	<L411+x0_0
  7803 06:1C72: 48           	pha
  7804 06:1C73: 22 xx xx xx  	jsl	~~abs
  7805 06:1C77: 85 09        	sta	<L412+dx_1
  7806 06:1C79: 38           	sec
  7807 06:1C7A: A5 18        	lda	<L411+x0_0
  7808 06:1C7C: E5 1C        	sbc	<L411+x1_0
  7809 06:1C7E: 70 03        	bvs	L415
  7810 06:1C80: 49 00 80     	eor	#$8000
  7811                        L415:
  7812 06:1C83: 10 03        	bpl	L416
  7813 06:1C85: 82 05 00     	brl	L414
  Thu Jul 22 2021 22:51                                                Page 148


  7814                        L416:
  7815 06:1C88: A9 01 00     	lda	#$1
  7816 06:1C8B: 80 03        	bra	L417
  7817                        L414:
  7818 06:1C8D: A9 FF FF     	lda	#$ffff
  7819                        L417:
  7820 06:1C90: 85 0B        	sta	<L412+sx_1
  7821 06:1C92: 38           	sec
  7822 06:1C93: A5 1E        	lda	<L411+y1_0
  7823 06:1C95: E5 1A        	sbc	<L411+y0_0
  7824 06:1C97: 48           	pha
  7825 06:1C98: 22 xx xx xx  	jsl	~~abs
  7826 06:1C9C: 85 0D        	sta	<L412+dy_1
  7827 06:1C9E: 38           	sec
  7828 06:1C9F: A5 1A        	lda	<L411+y0_0
  7829 06:1CA1: E5 1E        	sbc	<L411+y1_0
  7830 06:1CA3: 70 03        	bvs	L419
  7831 06:1CA5: 49 00 80     	eor	#$8000
  7832                        L419:
  7833 06:1CA8: 10 03        	bpl	L420
  7834 06:1CAA: 82 05 00     	brl	L418
  7835                        L420:
  7836 06:1CAD: A9 01 00     	lda	#$1
  7837 06:1CB0: 80 03        	bra	L421
  7838                        L418:
  7839 06:1CB2: A9 FF FF     	lda	#$ffff
  7840                        L421:
  7841 06:1CB5: 85 0F        	sta	<L412+sy_1
  7842 06:1CB7: 38           	sec
  7843 06:1CB8: A5 0D        	lda	<L412+dy_1
  7844 06:1CBA: E5 09        	sbc	<L412+dx_1
  7845 06:1CBC: 70 03        	bvs	L423
  7846 06:1CBE: 49 00 80     	eor	#$8000
  7847                        L423:
  7848 06:1CC1: 10 03        	bpl	L424
  7849 06:1CC3: 82 04 00     	brl	L422
  7850                        L424:
  7851 06:1CC6: A5 09        	lda	<L412+dx_1
  7852 06:1CC8: 80 0A        	bra	L425
  7853                        L422:
  7854 06:1CCA: 38           	sec
  7855 06:1CCB: A9 00 00     	lda	#$0
  7856 06:1CCE: E5 0D        	sbc	<L412+dy_1
  7857 06:1CD0: 85 01        	sta	<R0
  7858 06:1CD2: A5 01        	lda	<R0
  7859                        L425:
  7860 06:1CD4: 85 01        	sta	<R0
  7861 06:1CD6: A5 01        	lda	<R0
  7862 06:1CD8: A2 02 00     	ldx	#<$2
  7863                        	xref	~~~div
  7864 06:1CDB: 22 xx xx xx  	jsl	~~~div
  7865 06:1CDF: 85 11        	sta	<L412+err_1
  7866                        	.line	1016
  7867                        L10064:
  7868                        ;	{
  7869                        	.line	1017
  7870                        ;		//if()
  7871                        ;		k_draw_pixel(x0,y0,color);
  Thu Jul 22 2021 22:51                                                Page 149


  7872                        	.line	1019
  7873 06:1CE1: D4 20        	pei	<L411+color_0
  7874 06:1CE3: A0 00 00     	ldy	#$0
  7875 06:1CE6: A5 1A        	lda	<L411+y0_0
  7876 06:1CE8: 10 01        	bpl	L426
  7877 06:1CEA: 88           	dey
  7878                        L426:
  7879 06:1CEB: 85 01        	sta	<R0
  7880 06:1CED: 84 03        	sty	<R0+2
  7881 06:1CEF: D4 03        	pei	<R0+2
  7882 06:1CF1: D4 01        	pei	<R0
  7883 06:1CF3: A0 00 00     	ldy	#$0
  7884 06:1CF6: A5 18        	lda	<L411+x0_0
  7885 06:1CF8: 10 01        	bpl	L427
  7886 06:1CFA: 88           	dey
  7887                        L427:
  7888 06:1CFB: 85 05        	sta	<R1
  7889 06:1CFD: 84 07        	sty	<R1+2
  7890 06:1CFF: D4 07        	pei	<R1+2
  7891 06:1D01: D4 05        	pei	<R1
  7892 06:1D03: 22 35 13 06  	jsl	~~k_draw_pixel
  7893                        ;		if (x0==x1 && y0==y1) break;
  7894                        	.line	1020
  7895 06:1D07: A5 18        	lda	<L411+x0_0
  7896 06:1D09: C5 1C        	cmp	<L411+x1_0
  7897 06:1D0B: F0 03        	beq	L429
  7898 06:1D0D: 82 09 00     	brl	L428
  7899                        L429:
  7900 06:1D10: A5 1A        	lda	<L411+y0_0
  7901 06:1D12: C5 1E        	cmp	<L411+y1_0
  7902 06:1D14: D0 03        	bne	L430
  7903 06:1D16: 82 49 00     	brl	L10063
  7904                        L430:
  7905                        L428:
  7906                        ;		e2 = err;
  7907                        	.line	1021
  7908 06:1D19: A5 11        	lda	<L412+err_1
  7909 06:1D1B: 85 13        	sta	<L412+e2_1
  7910                        ;		if (e2 >-dx) { err -= dy; x0 += sx; }
  7911                        	.line	1022
  7912 06:1D1D: 38           	sec
  7913 06:1D1E: A9 00 00     	lda	#$0
  7914 06:1D21: E5 09        	sbc	<L412+dx_1
  7915 06:1D23: 85 01        	sta	<R0
  7916 06:1D25: 38           	sec
  7917 06:1D26: A5 01        	lda	<R0
  7918 06:1D28: E5 13        	sbc	<L412+e2_1
  7919 06:1D2A: 70 03        	bvs	L431
  7920 06:1D2C: 49 00 80     	eor	#$8000
  7921                        L431:
  7922 06:1D2F: 10 03        	bpl	L432
  7923 06:1D31: 82 0E 00     	brl	L10065
  7924                        L432:
  7925                        	.line	1022
  7926                        	.line	1022
  7927 06:1D34: 38           	sec
  7928 06:1D35: A5 11        	lda	<L412+err_1
  7929 06:1D37: E5 0D        	sbc	<L412+dy_1
  Thu Jul 22 2021 22:51                                                Page 150


  7930 06:1D39: 85 11        	sta	<L412+err_1
  7931                        	.line	1022
  7932 06:1D3B: 18           	clc
  7933 06:1D3C: A5 18        	lda	<L411+x0_0
  7934 06:1D3E: 65 0B        	adc	<L412+sx_1
  7935 06:1D40: 85 18        	sta	<L411+x0_0
  7936                        	.line	1022
  7937                        ;		if (e2 < dy) { err += dx; y0 += sy; }
  7938                        L10065:
  7939                        	.line	1023
  7940 06:1D42: 38           	sec
  7941 06:1D43: A5 13        	lda	<L412+e2_1
  7942 06:1D45: E5 0D        	sbc	<L412+dy_1
  7943 06:1D47: 70 03        	bvs	L433
  7944 06:1D49: 49 00 80     	eor	#$8000
  7945                        L433:
  7946 06:1D4C: 10 03        	bpl	L434
  7947 06:1D4E: 82 0E 00     	brl	L10066
  7948                        L434:
  7949                        	.line	1023
  7950                        	.line	1023
  7951 06:1D51: 18           	clc
  7952 06:1D52: A5 11        	lda	<L412+err_1
  7953 06:1D54: 65 09        	adc	<L412+dx_1
  7954 06:1D56: 85 11        	sta	<L412+err_1
  7955                        	.line	1023
  7956 06:1D58: 18           	clc
  7957 06:1D59: A5 1A        	lda	<L411+y0_0
  7958 06:1D5B: 65 0F        	adc	<L412+sy_1
  7959 06:1D5D: 85 1A        	sta	<L411+y0_0
  7960                        	.line	1023
  7961                        ;	}
  7962                        L10066:
  7963                        	.line	1024
  7964                        L10062:
  7965 06:1D5F: 82 7F FF     	brl	L10064
  7966                        L10063:
  7967                        ;}
  7968                        	.line	1025
  7969                        L435:
  7970 06:1D62: A5 16        	lda	<L411+2
  7971 06:1D64: 85 22        	sta	<L411+2+12
  7972 06:1D66: A5 15        	lda	<L411+1
  7973 06:1D68: 85 21        	sta	<L411+1+12
  7974 06:1D6A: 2B           	pld
  7975 06:1D6B: 3B           	tsc
  7976 06:1D6C: 18           	clc
  7977 06:1D6D: 69 20 00     	adc	#L411+12
  7978 06:1D70: 1B           	tcs
  7979 06:1D71: 6B           	rtl
  7980                        	.endblock	1025
  7981             00000014   L411	equ	20
  7982             00000009   L412	equ	9
  7983 06:1D72:              	ends
  7984                        	efunc
  7985                        	.endfunc	1025,9,20
  7986                        	.line	1025
  7987                        ;
  Thu Jul 22 2021 22:51                                                Page 151


  7988                        ;void k_draw_rect_slow(int left,int top, int right
                    , int bottom, char color)
  7989                        ;{
  7990                        	.line	1027
  7991                        	.line	1028
  7992                        	GFX
  7993                        	xdef	~~k_draw_rect_slow
  7994                        	func
  7995                        	.function	1028
  7996                        ~~k_draw_rect_slow:
  7997                        	longa	on
  7998                        	longi	on
  7999 06:1D72: 3B           	tsc
  8000 06:1D73: 38           	sec
  8001 06:1D74: E9 00 00     	sbc	#L436
  8002 06:1D77: 1B           	tcs
  8003 06:1D78: 0B           	phd
  8004 06:1D79: 5B           	tcd
  8005             00000004   left_0	set	4
  8006             00000006   top_0	set	6
  8007             00000008   right_0	set	8
  8008             0000000A   bottom_0	set	10
  8009             0000000C   color_0	set	12
  8010                        	.block	1028
  8011                        ;	k_draw_line(left,top,right,top,color);
  8012                        	.sym	left,4,5,6,16
  8013                        	.sym	top,6,5,6,16
  8014                        	.sym	right,8,5,6,16
  8015                        	.sym	bottom,10,5,6,16
  8016                        	.sym	color,12,14,6,8
  8017                        	.line	1029
  8018 06:1D7A: A5 0C        	lda	<L436+color_0
  8019 06:1D7C: 29 FF 00     	and	#$ff
  8020 06:1D7F: 48           	pha
  8021 06:1D80: D4 06        	pei	<L436+top_0
  8022 06:1D82: D4 08        	pei	<L436+right_0
  8023 06:1D84: D4 06        	pei	<L436+top_0
  8024 06:1D86: D4 04        	pei	<L436+left_0
  8025 06:1D88: 22 C5 1A 06  	jsl	~~k_draw_line
  8026                        ;	k_draw_line(left,top,left,bottom,color);
  8027                        	.line	1030
  8028 06:1D8C: A5 0C        	lda	<L436+color_0
  8029 06:1D8E: 29 FF 00     	and	#$ff
  8030 06:1D91: 48           	pha
  8031 06:1D92: D4 0A        	pei	<L436+bottom_0
  8032 06:1D94: D4 04        	pei	<L436+left_0
  8033 06:1D96: D4 06        	pei	<L436+top_0
  8034 06:1D98: D4 04        	pei	<L436+left_0
  8035 06:1D9A: 22 C5 1A 06  	jsl	~~k_draw_line
  8036                        ;	k_draw_line(right,top,right,bottom,color);
  8037                        	.line	1031
  8038 06:1D9E: A5 0C        	lda	<L436+color_0
  8039 06:1DA0: 29 FF 00     	and	#$ff
  8040 06:1DA3: 48           	pha
  8041 06:1DA4: D4 0A        	pei	<L436+bottom_0
  8042 06:1DA6: D4 08        	pei	<L436+right_0
  8043 06:1DA8: D4 06        	pei	<L436+top_0
  8044 06:1DAA: D4 08        	pei	<L436+right_0
  Thu Jul 22 2021 22:51                                                Page 152


  8045 06:1DAC: 22 C5 1A 06  	jsl	~~k_draw_line
  8046                        ;	k_draw_line(left,bottom,right,bottom,color);
  8047                        	.line	1032
  8048 06:1DB0: A5 0C        	lda	<L436+color_0
  8049 06:1DB2: 29 FF 00     	and	#$ff
  8050 06:1DB5: 48           	pha
  8051 06:1DB6: D4 0A        	pei	<L436+bottom_0
  8052 06:1DB8: D4 08        	pei	<L436+right_0
  8053 06:1DBA: D4 0A        	pei	<L436+bottom_0
  8054 06:1DBC: D4 04        	pei	<L436+left_0
  8055 06:1DBE: 22 C5 1A 06  	jsl	~~k_draw_line
  8056                        ;}
  8057                        	.line	1033
  8058                        L439:
  8059 06:1DC2: A5 02        	lda	<L436+2
  8060 06:1DC4: 85 0C        	sta	<L436+2+10
  8061 06:1DC6: A5 01        	lda	<L436+1
  8062 06:1DC8: 85 0B        	sta	<L436+1+10
  8063 06:1DCA: 2B           	pld
  8064 06:1DCB: 3B           	tsc
  8065 06:1DCC: 18           	clc
  8066 06:1DCD: 69 0A 00     	adc	#L436+10
  8067 06:1DD0: 1B           	tcs
  8068 06:1DD1: 6B           	rtl
  8069                        	.endblock	1033
  8070             00000000   L436	equ	0
  8071             00000001   L437	equ	1
  8072 06:1DD2:              	ends
  8073                        	efunc
  8074                        	.endfunc	1033,1,0
  8075                        	.line	1033
  8076                        ;
  8077                        ;void k_draw_rect(int left,int top, int right, int
                     bottom, char color,UINT brush,UINT page)
  8078                        ;{
  8079                        	.line	1035
  8080                        	.line	1036
  8081                        	GFX
  8082                        	xdef	~~k_draw_rect
  8083                        	func
  8084                        	.function	1036
  8085                        ~~k_draw_rect:
  8086                        	longa	on
  8087                        	longi	on
  8088 06:1DD2: 3B           	tsc
  8089 06:1DD3: 38           	sec
  8090 06:1DD4: E9 00 00     	sbc	#L440
  8091 06:1DD7: 1B           	tcs
  8092 06:1DD8: 0B           	phd
  8093 06:1DD9: 5B           	tcd
  8094             00000004   left_0	set	4
  8095             00000006   top_0	set	6
  8096             00000008   right_0	set	8
  8097             0000000A   bottom_0	set	10
  8098             0000000C   color_0	set	12
  8099             0000000E   brush_0	set	14
  8100             00000010   page_0	set	16
  8101                        	.block	1036
  Thu Jul 22 2021 22:51                                                Page 153


  8102                        ;	k_draw_line_ex(left,top,right,top,color,page);
  8103                        	.sym	left,4,5,6,16
  8104                        	.sym	top,6,5,6,16
  8105                        	.sym	right,8,5,6,16
  8106                        	.sym	bottom,10,5,6,16
  8107                        	.sym	color,12,14,6,8
  8108                        	.sym	brush,14,16,6,16
  8109                        	.sym	page,16,16,6,16
  8110                        	.line	1037
  8111 06:1DDA: D4 10        	pei	<L440+page_0
  8112 06:1DDC: A5 0C        	lda	<L440+color_0
  8113 06:1DDE: 29 FF 00     	and	#$ff
  8114 06:1DE1: 48           	pha
  8115 06:1DE2: D4 06        	pei	<L440+top_0
  8116 06:1DE4: D4 08        	pei	<L440+right_0
  8117 06:1DE6: D4 06        	pei	<L440+top_0
  8118 06:1DE8: D4 04        	pei	<L440+left_0
  8119 06:1DEA: 22 EE 1A 06  	jsl	~~k_draw_line_ex
  8120                        ;	k_draw_line_ex(left,top,left,bottom,color,page);
  8121                        	.line	1038
  8122 06:1DEE: D4 10        	pei	<L440+page_0
  8123 06:1DF0: A5 0C        	lda	<L440+color_0
  8124 06:1DF2: 29 FF 00     	and	#$ff
  8125 06:1DF5: 48           	pha
  8126 06:1DF6: D4 0A        	pei	<L440+bottom_0
  8127 06:1DF8: D4 04        	pei	<L440+left_0
  8128 06:1DFA: D4 06        	pei	<L440+top_0
  8129 06:1DFC: D4 04        	pei	<L440+left_0
  8130 06:1DFE: 22 EE 1A 06  	jsl	~~k_draw_line_ex
  8131                        ;	k_draw_line_ex(right,top,right,bottom,color,page
                    );
  8132                        	.line	1039
  8133 06:1E02: D4 10        	pei	<L440+page_0
  8134 06:1E04: A5 0C        	lda	<L440+color_0
  8135 06:1E06: 29 FF 00     	and	#$ff
  8136 06:1E09: 48           	pha
  8137 06:1E0A: D4 0A        	pei	<L440+bottom_0
  8138 06:1E0C: D4 08        	pei	<L440+right_0
  8139 06:1E0E: D4 06        	pei	<L440+top_0
  8140 06:1E10: D4 08        	pei	<L440+right_0
  8141 06:1E12: 22 EE 1A 06  	jsl	~~k_draw_line_ex
  8142                        ;	k_draw_line_ex(left,bottom,right,bottom,color,pa
                    ge);
  8143                        	.line	1040
  8144 06:1E16: D4 10        	pei	<L440+page_0
  8145 06:1E18: A5 0C        	lda	<L440+color_0
  8146 06:1E1A: 29 FF 00     	and	#$ff
  8147 06:1E1D: 48           	pha
  8148 06:1E1E: D4 0A        	pei	<L440+bottom_0
  8149 06:1E20: D4 08        	pei	<L440+right_0
  8150 06:1E22: D4 0A        	pei	<L440+bottom_0
  8151 06:1E24: D4 04        	pei	<L440+left_0
  8152 06:1E26: 22 EE 1A 06  	jsl	~~k_draw_line_ex
  8153                        ;}
  8154                        	.line	1041
  8155                        L443:
  8156 06:1E2A: A5 02        	lda	<L440+2
  8157 06:1E2C: 85 10        	sta	<L440+2+14
  Thu Jul 22 2021 22:51                                                Page 154


  8158 06:1E2E: A5 01        	lda	<L440+1
  8159 06:1E30: 85 0F        	sta	<L440+1+14
  8160 06:1E32: 2B           	pld
  8161 06:1E33: 3B           	tsc
  8162 06:1E34: 18           	clc
  8163 06:1E35: 69 0E 00     	adc	#L440+14
  8164 06:1E38: 1B           	tcs
  8165 06:1E39: 6B           	rtl
  8166                        	.endblock	1041
  8167             00000000   L440	equ	0
  8168             00000001   L441	equ	1
  8169 06:1E3A:              	ends
  8170                        	efunc
  8171                        	.endfunc	1041,1,0
  8172                        	.line	1041
  8173                        ;
  8174                        ;void k_draw_rect_ex(PRECT prect, char color,UINT 
                    brush,UINT page)
  8175                        ;{
  8176                        	.line	1043
  8177                        	.line	1044
  8178                        	GFX
  8179                        	xdef	~~k_draw_rect_ex
  8180                        	func
  8181                        	.function	1044
  8182                        ~~k_draw_rect_ex:
  8183                        	longa	on
  8184                        	longi	on
  8185 06:1E3A: 3B           	tsc
  8186 06:1E3B: 38           	sec
  8187 06:1E3C: E9 0C 00     	sbc	#L444
  8188 06:1E3F: 1B           	tcs
  8189 06:1E40: 0B           	phd
  8190 06:1E41: 5B           	tcd
  8191             00000004   prect_0	set	4
  8192             00000008   color_0	set	8
  8193             0000000A   brush_0	set	10
  8194             0000000C   page_0	set	12
  8195                        	.block	1044
  8196                        ;
  8197                        ;	int left   = prect->x ;
  8198                        ;	int top    = prect->y;
  8199                        ;	int right  = prect->x + prect->width  - 1;
  8200                        ;	int bottom = prect->y + prect->height - 1;
  8201                        ;
  8202                        ;	k_draw_rect(left,top, right, bottom, color,brush
                    ,page);
  8203             00000000   left_1	set	0
  8204             00000002   top_1	set	2
  8205             00000004   right_1	set	4
  8206             00000006   bottom_1	set	6
  8207                        	.sym	left,0,5,1,16
  8208                        	.sym	top,2,5,1,16
  8209                        	.sym	right,4,5,1,16
  8210                        	.sym	bottom,6,5,1,16
  8211                        	.sym	prect,4,138,6,32,26
  8212                        	.sym	color,8,14,6,8
  8213                        	.sym	brush,10,16,6,16
  Thu Jul 22 2021 22:51                                                Page 155


  8214                        	.sym	page,12,16,6,16
  8215 06:1E42: A7 10        	lda	[<L444+prect_0]
  8216 06:1E44: 85 05        	sta	<L445+left_1
  8217 06:1E46: A0 02 00     	ldy	#$2
  8218 06:1E49: B7 10        	lda	[<L444+prect_0],Y
  8219 06:1E4B: 85 07        	sta	<L445+top_1
  8220 06:1E4D: 18           	clc
  8221 06:1E4E: A7 10        	lda	[<L444+prect_0]
  8222 06:1E50: A0 08 00     	ldy	#$8
  8223 06:1E53: 77 10        	adc	[<L444+prect_0],Y
  8224 06:1E55: 85 01        	sta	<R0
  8225 06:1E57: 18           	clc
  8226 06:1E58: A9 FF FF     	lda	#$ffff
  8227 06:1E5B: 65 01        	adc	<R0
  8228 06:1E5D: 85 09        	sta	<L445+right_1
  8229 06:1E5F: 18           	clc
  8230 06:1E60: A0 02 00     	ldy	#$2
  8231 06:1E63: B7 10        	lda	[<L444+prect_0],Y
  8232 06:1E65: A0 0A 00     	ldy	#$a
  8233 06:1E68: 77 10        	adc	[<L444+prect_0],Y
  8234 06:1E6A: 85 01        	sta	<R0
  8235 06:1E6C: 18           	clc
  8236 06:1E6D: A9 FF FF     	lda	#$ffff
  8237 06:1E70: 65 01        	adc	<R0
  8238 06:1E72: 85 0B        	sta	<L445+bottom_1
  8239                        	.line	1051
  8240 06:1E74: D4 18        	pei	<L444+page_0
  8241 06:1E76: D4 16        	pei	<L444+brush_0
  8242 06:1E78: D4 14        	pei	<L444+color_0
  8243 06:1E7A: D4 0B        	pei	<L445+bottom_1
  8244 06:1E7C: D4 09        	pei	<L445+right_1
  8245 06:1E7E: D4 07        	pei	<L445+top_1
  8246 06:1E80: D4 05        	pei	<L445+left_1
  8247 06:1E82: 22 D2 1D 06  	jsl	~~k_draw_rect
  8248                        ;}
  8249                        	.line	1052
  8250                        L447:
  8251 06:1E86: A5 0E        	lda	<L444+2
  8252 06:1E88: 85 18        	sta	<L444+2+10
  8253 06:1E8A: A5 0D        	lda	<L444+1
  8254 06:1E8C: 85 17        	sta	<L444+1+10
  8255 06:1E8E: 2B           	pld
  8256 06:1E8F: 3B           	tsc
  8257 06:1E90: 18           	clc
  8258 06:1E91: 69 16 00     	adc	#L444+10
  8259 06:1E94: 1B           	tcs
  8260 06:1E95: 6B           	rtl
  8261                        	.endblock	1052
  8262             0000000C   L444	equ	12
  8263             00000005   L445	equ	5
  8264 06:1E96:              	ends
  8265                        	efunc
  8266                        	.endfunc	1052,5,12
  8267                        	.line	1052
  8268                        ;
  8269                        ;
  8270                        ;void k_draw_filled_rect_slow(int left,int top, in
                    t right, int bottom, char color)
  Thu Jul 22 2021 22:51                                                Page 156


  8271                        ;{
  8272                        	.line	1055
  8273                        	.line	1056
  8274                        	GFX
  8275                        	xdef	~~k_draw_filled_rect_slow
  8276                        	func
  8277                        	.function	1056
  8278                        ~~k_draw_filled_rect_slow:
  8279                        	longa	on
  8280                        	longi	on
  8281 06:1E96: 3B           	tsc
  8282 06:1E97: 38           	sec
  8283 06:1E98: E9 00 00     	sbc	#L448
  8284 06:1E9B: 1B           	tcs
  8285 06:1E9C: 0B           	phd
  8286 06:1E9D: 5B           	tcd
  8287             00000004   left_0	set	4
  8288             00000006   top_0	set	6
  8289             00000008   right_0	set	8
  8290             0000000A   bottom_0	set	10
  8291             0000000C   color_0	set	12
  8292                        	.block	1056
  8293                        ;	
  8294                        ;}
  8295                        	.sym	left,4,5,6,16
  8296                        	.sym	top,6,5,6,16
  8297                        	.sym	right,8,5,6,16
  8298                        	.sym	bottom,10,5,6,16
  8299                        	.sym	color,12,14,6,8
  8300                        	.line	1058
  8301                        L451:
  8302 06:1E9E: A5 02        	lda	<L448+2
  8303 06:1EA0: 85 0C        	sta	<L448+2+10
  8304 06:1EA2: A5 01        	lda	<L448+1
  8305 06:1EA4: 85 0B        	sta	<L448+1+10
  8306 06:1EA6: 2B           	pld
  8307 06:1EA7: 3B           	tsc
  8308 06:1EA8: 18           	clc
  8309 06:1EA9: 69 0A 00     	adc	#L448+10
  8310 06:1EAC: 1B           	tcs
  8311 06:1EAD: 6B           	rtl
  8312                        	.endblock	1058
  8313             00000000   L448	equ	0
  8314             00000001   L449	equ	1
  8315 06:1EAE:              	ends
  8316                        	efunc
  8317                        	.endfunc	1058,1,0
  8318                        	.line	1058
  8319                        ;
  8320                        ;
  8321                        ;int k_put_draw_text(int col,int row,char FAR *tex
                    t,char color,char bcolor)
  8322                        ;{
  8323                        	.line	1061
  8324                        	.line	1062
  8325                        	GFX
  8326                        	xdef	~~k_put_draw_text
  8327                        	func
  Thu Jul 22 2021 22:51                                                Page 157


  8328                        	.function	1062
  8329                        ~~k_put_draw_text:
  8330                        	longa	on
  8331                        	longi	on
  8332 06:1EAE: 3B           	tsc
  8333 06:1EAF: 38           	sec
  8334 06:1EB0: E9 00 00     	sbc	#L452
  8335 06:1EB3: 1B           	tcs
  8336 06:1EB4: 0B           	phd
  8337 06:1EB5: 5B           	tcd
  8338             00000004   col_0	set	4
  8339             00000006   row_0	set	6
  8340             00000008   text_0	set	8
  8341             0000000C   color_0	set	12
  8342             0000000E   bcolor_0	set	14
  8343                        	.block	1062
  8344                        ;	return k_draw_text(text, row, col, color);
  8345                        	.sym	col,4,5,6,16
  8346                        	.sym	row,6,5,6,16
  8347                        	.sym	text,8,142,6,32
  8348                        	.sym	color,12,14,6,8
  8349                        	.sym	bcolor,14,14,6,8
  8350                        	.line	1063
  8351 06:1EB6: D4 0C        	pei	<L452+color_0
  8352 06:1EB8: D4 04        	pei	<L452+col_0
  8353 06:1EBA: D4 06        	pei	<L452+row_0
  8354 06:1EBC: D4 0A        	pei	<L452+text_0+2
  8355 06:1EBE: D4 08        	pei	<L452+text_0
  8356 06:1EC0: 22 D6 1E 06  	jsl	~~k_draw_text
  8357                        L455:
  8358 06:1EC4: A8           	tay
  8359 06:1EC5: A5 02        	lda	<L452+2
  8360 06:1EC7: 85 0E        	sta	<L452+2+12
  8361 06:1EC9: A5 01        	lda	<L452+1
  8362 06:1ECB: 85 0D        	sta	<L452+1+12
  8363 06:1ECD: 2B           	pld
  8364 06:1ECE: 3B           	tsc
  8365 06:1ECF: 18           	clc
  8366 06:1ED0: 69 0C 00     	adc	#L452+12
  8367 06:1ED3: 1B           	tcs
  8368 06:1ED4: 98           	tya
  8369 06:1ED5: 6B           	rtl
  8370                        ;}
  8371                        	.line	1064
  8372                        	.endblock	1064
  8373             00000000   L452	equ	0
  8374             00000001   L453	equ	1
  8375 06:1ED6:              	ends
  8376                        	efunc
  8377                        	.endfunc	1064,1,0
  8378                        	.line	1064
  8379                        ;
  8380                        ;int k_draw_text(char FAR *text,int row,int col,ch
                    ar color)
  8381                        ;{
  8382                        	.line	1066
  8383                        	.line	1067
  8384                        	GFX
  Thu Jul 22 2021 22:51                                                Page 158


  8385                        	xdef	~~k_draw_text
  8386                        	func
  8387                        	.function	1067
  8388                        ~~k_draw_text:
  8389                        	longa	on
  8390                        	longi	on
  8391 06:1ED6: 3B           	tsc
  8392 06:1ED7: 38           	sec
  8393 06:1ED8: E9 04 00     	sbc	#L456
  8394 06:1EDB: 1B           	tcs
  8395 06:1EDC: 0B           	phd
  8396 06:1EDD: 5B           	tcd
  8397             00000004   text_0	set	4
  8398             00000008   row_0	set	8
  8399             0000000A   col_0	set	10
  8400             0000000C   color_0	set	12
  8401                        	.block	1067
  8402                        ;	char FAR * ptr = (text);
  8403                        ;	while(*ptr)
  8404             00000000   ptr_1	set	0
  8405                        	.sym	ptr,0,142,1,32
  8406                        	.sym	text,4,142,6,32
  8407                        	.sym	row,8,5,6,16
  8408                        	.sym	col,10,5,6,16
  8409                        	.sym	color,12,14,6,8
  8410 06:1EDE: A5 08        	lda	<L456+text_0
  8411 06:1EE0: 85 01        	sta	<L457+ptr_1
  8412 06:1EE2: A5 0A        	lda	<L456+text_0+2
  8413 06:1EE4: 85 03        	sta	<L457+ptr_1+2
  8414                        	.line	1069
  8415                        L10067:
  8416 06:1EE6: A7 01        	lda	[<L457+ptr_1]
  8417 06:1EE8: 29 FF 00     	and	#$ff
  8418 06:1EEB: D0 03        	bne	L459
  8419 06:1EED: 82 18 00     	brl	L10068
  8420                        L459:
  8421                        ;	{
  8422                        	.line	1070
  8423                        ;		k_put_font(*ptr,col,row,color);
  8424                        	.line	1071
  8425 06:1EF0: D4 10        	pei	<L456+color_0
  8426 06:1EF2: D4 0C        	pei	<L456+row_0
  8427 06:1EF4: D4 0E        	pei	<L456+col_0
  8428 06:1EF6: A7 01        	lda	[<L457+ptr_1]
  8429 06:1EF8: 48           	pha
  8430 06:1EF9: 22 48 31 06  	jsl	~~k_put_font
  8431                        ;		col++;
  8432                        	.line	1072
  8433 06:1EFD: E6 0E        	inc	<L456+col_0
  8434                        ;		ptr++;
  8435                        	.line	1073
  8436 06:1EFF: E6 01        	inc	<L457+ptr_1
  8437 06:1F01: D0 02        	bne	L460
  8438 06:1F03: E6 03        	inc	<L457+ptr_1+2
  8439                        L460:
  8440                        ;	}
  8441                        	.line	1074
  8442 06:1F05: 82 DE FF     	brl	L10067
  Thu Jul 22 2021 22:51                                                Page 159


  8443                        L10068:
  8444                        ;	
  8445                        ;	return col;
  8446                        	.line	1076
  8447 06:1F08: A5 0E        	lda	<L456+col_0
  8448                        L461:
  8449 06:1F0A: A8           	tay
  8450 06:1F0B: A5 06        	lda	<L456+2
  8451 06:1F0D: 85 10        	sta	<L456+2+10
  8452 06:1F0F: A5 05        	lda	<L456+1
  8453 06:1F11: 85 0F        	sta	<L456+1+10
  8454 06:1F13: 2B           	pld
  8455 06:1F14: 3B           	tsc
  8456 06:1F15: 18           	clc
  8457 06:1F16: 69 0E 00     	adc	#L456+10
  8458 06:1F19: 1B           	tcs
  8459 06:1F1A: 98           	tya
  8460 06:1F1B: 6B           	rtl
  8461                        ;}
  8462                        	.line	1077
  8463                        	.endblock	1077
  8464             00000004   L456	equ	4
  8465             00000001   L457	equ	1
  8466 06:1F1C:              	ends
  8467                        	efunc
  8468                        	.endfunc	1077,1,4
  8469                        	.line	1077
  8470                        ;
  8471                        ;int k_draw_text_point_ex(LPCSTR text,int x,int y,
                    char color,UINT page)
  8472                        ;{
  8473                        	.line	1079
  8474                        	.line	1080
  8475                        	GFX
  8476                        	xdef	~~k_draw_text_point_ex
  8477                        	func
  8478                        	.function	1080
  8479                        ~~k_draw_text_point_ex:
  8480                        	longa	on
  8481                        	longi	on
  8482 06:1F1C: 3B           	tsc
  8483 06:1F1D: 38           	sec
  8484 06:1F1E: E9 12 00     	sbc	#L462
  8485 06:1F21: 1B           	tcs
  8486 06:1F22: 0B           	phd
  8487 06:1F23: 5B           	tcd
  8488             00000004   text_0	set	4
  8489             00000008   x_0	set	8
  8490             0000000A   y_0	set	10
  8491             0000000C   color_0	set	12
  8492             0000000E   page_0	set	14
  8493                        	.block	1080
  8494                        ;	int col = 0;
  8495                        ;	int width = 0;
  8496                        ;	int height = 0;
  8497                        ;	int dx = x;
  8498                        ;	int dy = y;
  8499                        ;
  Thu Jul 22 2021 22:51                                                Page 160


  8500                        ;	LPCSTR ptr = (text);
  8501                        ;
  8502                        ;	width  = Bm437ToshibaLCD8x8[0];
  8503             00000000   col_1	set	0
  8504             00000002   width_1	set	2
  8505             00000004   height_1	set	4
  8506             00000006   dx_1	set	6
  8507             00000008   dy_1	set	8
  8508             0000000A   ptr_1	set	10
  8509                        	.sym	col,0,5,1,16
  8510                        	.sym	width,2,5,1,16
  8511                        	.sym	height,4,5,1,16
  8512                        	.sym	dx,6,5,1,16
  8513                        	.sym	dy,8,5,1,16
  8514                        	.sym	ptr,10,142,1,32
  8515                        	.sym	text,4,142,6,32
  8516                        	.sym	x,8,5,6,16
  8517                        	.sym	y,10,5,6,16
  8518                        	.sym	color,12,14,6,8
  8519                        	.sym	page,14,16,6,16
  8520 06:1F24: 64 05        	stz	<L463+col_1
  8521 06:1F26: 64 07        	stz	<L463+width_1
  8522 06:1F28: 64 09        	stz	<L463+height_1
  8523 06:1F2A: A5 1A        	lda	<L462+x_0
  8524 06:1F2C: 85 0B        	sta	<L463+dx_1
  8525 06:1F2E: A5 1C        	lda	<L462+y_0
  8526 06:1F30: 85 0D        	sta	<L463+dy_1
  8527 06:1F32: A5 16        	lda	<L462+text_0
  8528 06:1F34: 85 0F        	sta	<L463+ptr_1
  8529 06:1F36: A5 18        	lda	<L462+text_0+2
  8530 06:1F38: 85 11        	sta	<L463+ptr_1+2
  8531                        	.line	1089
  8532 06:1F3A: AF xx xx xx  	lda	>~~Bm437ToshibaLCD8x8
  8533 06:1F3E: 29 FF 00     	and	#$ff
  8534 06:1F41: 85 07        	sta	<L463+width_1
  8535                        ;	height = Bm437ToshibaLCD8x8[1];
  8536                        	.line	1090
  8537 06:1F43: AF xx xx xx  	lda	>~~Bm437ToshibaLCD8x8+1
  8538 06:1F47: 29 FF 00     	and	#$ff
  8539 06:1F4A: 85 09        	sta	<L463+height_1
  8540                        ;
  8541                        ;
  8542                        ;	ptr = (text);
  8543                        	.line	1093
  8544 06:1F4C: A5 16        	lda	<L462+text_0
  8545 06:1F4E: 85 0F        	sta	<L463+ptr_1
  8546 06:1F50: A5 18        	lda	<L462+text_0+2
  8547 06:1F52: 85 11        	sta	<L463+ptr_1+2
  8548                        ;	while(*ptr)
  8549                        	.line	1094
  8550                        L10069:
  8551 06:1F54: A7 0F        	lda	[<L463+ptr_1]
  8552 06:1F56: 29 FF 00     	and	#$ff
  8553 06:1F59: D0 03        	bne	L465
  8554 06:1F5B: 82 69 00     	brl	L10070
  8555                        L465:
  8556                        ;	{
  8557                        	.line	1095
  Thu Jul 22 2021 22:51                                                Page 161


  8558                        ;		if(*ptr == 0x0D)
  8559                        	.line	1096
  8560                        ;		{
  8561 06:1F5E: E2 20        	sep	#$20
  8562                        	longa	off
  8563 06:1F60: A7 0F        	lda	[<L463+ptr_1]
  8564 06:1F62: C9 0D        	cmp	#<$d
  8565 06:1F64: C2 20        	rep	#$20
  8566                        	longa	on
  8567 06:1F66: F0 03        	beq	L466
  8568 06:1F68: 82 07 00     	brl	L10071
  8569                        L466:
  8570                        	.line	1097
  8571                        ;			dx = x;
  8572                        	.line	1098
  8573 06:1F6B: A5 1A        	lda	<L462+x_0
  8574 06:1F6D: 85 0B        	sta	<L463+dx_1
  8575                        ;		}
  8576                        	.line	1099
  8577                        ;		else if(*ptr == 0x0A)
  8578 06:1F6F: 82 3F 00     	brl	L10072
  8579                        L10071:
  8580                        	.line	1100
  8581                        ;		{
  8582 06:1F72: E2 20        	sep	#$20
  8583                        	longa	off
  8584 06:1F74: A7 0F        	lda	[<L463+ptr_1]
  8585 06:1F76: C9 0A        	cmp	#<$a
  8586 06:1F78: C2 20        	rep	#$20
  8587                        	longa	on
  8588 06:1F7A: F0 03        	beq	L467
  8589 06:1F7C: 82 10 00     	brl	L10073
  8590                        L467:
  8591                        	.line	1101
  8592                        ;			dy+=FONTH;
  8593                        	.line	1102
  8594 06:1F7F: 22 F1 81 06  	jsl	~~k_font_getFontHeight
  8595 06:1F83: 85 01        	sta	<R0
  8596 06:1F85: 18           	clc
  8597 06:1F86: A5 01        	lda	<R0
  8598 06:1F88: 65 0D        	adc	<L463+dy_1
  8599 06:1F8A: 85 0D        	sta	<L463+dy_1
  8600                        ;		}
  8601                        	.line	1103
  8602                        ;		else
  8603 06:1F8C: 82 22 00     	brl	L10074
  8604                        L10073:
  8605                        ;		{
  8606                        	.line	1105
  8607                        ;			dx+=k_put_binary_variablefont_po
                    int_ex( (LPCHAR)&Bm437ToshibaLCD8x8[2] , *ptr,dx,dy,width,he
                    ight,color,page);
  8608                        	.line	1106
  8609 06:1F8F: D4 20        	pei	<L462+page_0
  8610 06:1F91: D4 1E        	pei	<L462+color_0
  8611 06:1F93: D4 09        	pei	<L463+height_1
  8612 06:1F95: D4 07        	pei	<L463+width_1
  8613 06:1F97: D4 0D        	pei	<L463+dy_1
  Thu Jul 22 2021 22:51                                                Page 162


  8614 06:1F99: D4 0B        	pei	<L463+dx_1
  8615 06:1F9B: A7 0F        	lda	[<L463+ptr_1]
  8616 06:1F9D: 48           	pha
  8617 06:1F9E: F4 xx xx     	pea	#^~~Bm437ToshibaLCD8x8+2
  8618 06:1FA1: F4 xx xx     	pea	#<~~Bm437ToshibaLCD8x8+2
  8619 06:1FA4: 22 A7 29 06  	jsl	~~k_put_binary_variablefont_point_ex
  8620 06:1FA8: 85 01        	sta	<R0
  8621 06:1FAA: 18           	clc
  8622 06:1FAB: A5 01        	lda	<R0
  8623 06:1FAD: 65 0B        	adc	<L463+dx_1
  8624 06:1FAF: 85 0B        	sta	<L463+dx_1
  8625                        ;		}
  8626                        	.line	1107
  8627                        L10074:
  8628                        L10072:
  8629                        ;		ptr++;
  8630                        	.line	1108
  8631 06:1FB1: E6 0F        	inc	<L463+ptr_1
  8632 06:1FB3: D0 02        	bne	L468
  8633 06:1FB5: E6 11        	inc	<L463+ptr_1+2
  8634                        L468:
  8635                        ;		col+=FONTW;
  8636                        	.line	1109
  8637 06:1FB7: 22 06 82 06  	jsl	~~k_font_getFontWidth
  8638 06:1FBB: 85 01        	sta	<R0
  8639 06:1FBD: 18           	clc
  8640 06:1FBE: A5 01        	lda	<R0
  8641 06:1FC0: 65 05        	adc	<L463+col_1
  8642 06:1FC2: 85 05        	sta	<L463+col_1
  8643                        ;	}
  8644                        	.line	1110
  8645 06:1FC4: 82 8D FF     	brl	L10069
  8646                        L10070:
  8647                        ;
  8648                        ;	return col;
  8649                        	.line	1112
  8650 06:1FC7: A5 05        	lda	<L463+col_1
  8651                        L469:
  8652 06:1FC9: A8           	tay
  8653 06:1FCA: A5 14        	lda	<L462+2
  8654 06:1FCC: 85 20        	sta	<L462+2+12
  8655 06:1FCE: A5 13        	lda	<L462+1
  8656 06:1FD0: 85 1F        	sta	<L462+1+12
  8657 06:1FD2: 2B           	pld
  8658 06:1FD3: 3B           	tsc
  8659 06:1FD4: 18           	clc
  8660 06:1FD5: 69 1E 00     	adc	#L462+12
  8661 06:1FD8: 1B           	tcs
  8662 06:1FD9: 98           	tya
  8663 06:1FDA: 6B           	rtl
  8664                        ;}
  8665                        	.line	1113
  8666                        	.endblock	1113
  8667             00000012   L462	equ	18
  8668             00000005   L463	equ	5
  8669 06:1FDB:              	ends
  8670                        	efunc
  8671                        	.endfunc	1113,5,18
  Thu Jul 22 2021 22:51                                                Page 163


  8672                        	.line	1113
  8673                        ;
  8674                        ;
  8675                        ;
  8676                        ;int k_draw_text_point(LPCSTR text,int x,int y,cha
                    r color)
  8677                        ;{
  8678                        	.line	1117
  8679                        	.line	1118
  8680                        	GFX
  8681                        	xdef	~~k_draw_text_point
  8682                        	func
  8683                        	.function	1118
  8684                        ~~k_draw_text_point:
  8685                        	longa	on
  8686                        	longi	on
  8687 06:1FDB: 3B           	tsc
  8688 06:1FDC: 38           	sec
  8689 06:1FDD: E9 0E 00     	sbc	#L470
  8690 06:1FE0: 1B           	tcs
  8691 06:1FE1: 0B           	phd
  8692 06:1FE2: 5B           	tcd
  8693             00000004   text_0	set	4
  8694             00000008   x_0	set	8
  8695             0000000A   y_0	set	10
  8696             0000000C   color_0	set	12
  8697                        	.block	1118
  8698                        ;	int col = 0;
  8699                        ;	int width = 0;
  8700                        ;	int height = 0;
  8701                        ;
  8702                        ;	LPCSTR ptr = (text);
  8703                        ;	
  8704                        ;	width  = Bm437ToshibaLCD8x8[0];
  8705             00000000   col_1	set	0
  8706             00000002   width_1	set	2
  8707             00000004   height_1	set	4
  8708             00000006   ptr_1	set	6
  8709                        	.sym	col,0,5,1,16
  8710                        	.sym	width,2,5,1,16
  8711                        	.sym	height,4,5,1,16
  8712                        	.sym	ptr,6,142,1,32
  8713                        	.sym	text,4,142,6,32
  8714                        	.sym	x,8,5,6,16
  8715                        	.sym	y,10,5,6,16
  8716                        	.sym	color,12,14,6,8
  8717 06:1FE3: 64 05        	stz	<L471+col_1
  8718 06:1FE5: 64 07        	stz	<L471+width_1
  8719 06:1FE7: 64 09        	stz	<L471+height_1
  8720 06:1FE9: A5 12        	lda	<L470+text_0
  8721 06:1FEB: 85 0B        	sta	<L471+ptr_1
  8722 06:1FED: A5 14        	lda	<L470+text_0+2
  8723 06:1FEF: 85 0D        	sta	<L471+ptr_1+2
  8724                        	.line	1125
  8725 06:1FF1: AF xx xx xx  	lda	>~~Bm437ToshibaLCD8x8
  8726 06:1FF5: 29 FF 00     	and	#$ff
  8727 06:1FF8: 85 07        	sta	<L471+width_1
  8728                        ;	height = Bm437ToshibaLCD8x8[1];
  Thu Jul 22 2021 22:51                                                Page 164


  8729                        	.line	1126
  8730 06:1FFA: AF xx xx xx  	lda	>~~Bm437ToshibaLCD8x8+1
  8731 06:1FFE: 29 FF 00     	and	#$ff
  8732 06:2001: 85 09        	sta	<L471+height_1
  8733                        ;
  8734                        ;
  8735                        ;	ptr = (text);
  8736                        	.line	1129
  8737 06:2003: A5 12        	lda	<L470+text_0
  8738 06:2005: 85 0B        	sta	<L471+ptr_1
  8739 06:2007: A5 14        	lda	<L470+text_0+2
  8740 06:2009: 85 0D        	sta	<L471+ptr_1+2
  8741                        ;	while(*ptr)
  8742                        	.line	1130
  8743                        L10075:
  8744 06:200B: A7 0B        	lda	[<L471+ptr_1]
  8745 06:200D: 29 FF 00     	and	#$ff
  8746 06:2010: D0 03        	bne	L473
  8747 06:2012: 82 36 00     	brl	L10076
  8748                        L473:
  8749                        ;	{
  8750                        	.line	1131
  8751                        ;		//x+=k_put_font_point(*ptr,x,y,color);
  8752                        ;
  8753                        ;		//x+=k_put_binary_font_point( Bm437Toshi
                    baLCD8x8 , *ptr,x,y,color);
  8754                        ;		//x+=k_put_binary_font_point( Bm437Amstr
                    adPC1512_2y , *ptr,x,y,color);
  8755                        ;
  8756                        ;		x+=k_put_binary_variablefont_point( (LPC
                    HAR)&Bm437ToshibaLCD8x8[2] , *ptr,x,y,width,height,color);
  8757                        	.line	1137
  8758 06:2015: D4 1A        	pei	<L470+color_0
  8759 06:2017: D4 09        	pei	<L471+height_1
  8760 06:2019: D4 07        	pei	<L471+width_1
  8761 06:201B: D4 18        	pei	<L470+y_0
  8762 06:201D: D4 16        	pei	<L470+x_0
  8763 06:201F: A7 0B        	lda	[<L471+ptr_1]
  8764 06:2021: 48           	pha
  8765 06:2022: F4 xx xx     	pea	#^~~Bm437ToshibaLCD8x8+2
  8766 06:2025: F4 xx xx     	pea	#<~~Bm437ToshibaLCD8x8+2
  8767 06:2028: 22 AD 28 06  	jsl	~~k_put_binary_variablefont_point
  8768 06:202C: 85 01        	sta	<R0
  8769 06:202E: 18           	clc
  8770 06:202F: A5 01        	lda	<R0
  8771 06:2031: 65 16        	adc	<L470+x_0
  8772 06:2033: 85 16        	sta	<L470+x_0
  8773                        ;
  8774                        ;		ptr++;
  8775                        	.line	1139
  8776 06:2035: E6 0B        	inc	<L471+ptr_1
  8777 06:2037: D0 02        	bne	L474
  8778 06:2039: E6 0D        	inc	<L471+ptr_1+2
  8779                        L474:
  8780                        ;		col+=FONTW;
  8781                        	.line	1140
  8782 06:203B: 22 06 82 06  	jsl	~~k_font_getFontWidth
  8783 06:203F: 85 01        	sta	<R0
  Thu Jul 22 2021 22:51                                                Page 165


  8784 06:2041: 18           	clc
  8785 06:2042: A5 01        	lda	<R0
  8786 06:2044: 65 05        	adc	<L471+col_1
  8787 06:2046: 85 05        	sta	<L471+col_1
  8788                        ;	}
  8789                        	.line	1141
  8790 06:2048: 82 C0 FF     	brl	L10075
  8791                        L10076:
  8792                        ;	
  8793                        ;	return col;
  8794                        	.line	1143
  8795 06:204B: A5 05        	lda	<L471+col_1
  8796                        L475:
  8797 06:204D: A8           	tay
  8798 06:204E: A5 10        	lda	<L470+2
  8799 06:2050: 85 1A        	sta	<L470+2+10
  8800 06:2052: A5 0F        	lda	<L470+1
  8801 06:2054: 85 19        	sta	<L470+1+10
  8802 06:2056: 2B           	pld
  8803 06:2057: 3B           	tsc
  8804 06:2058: 18           	clc
  8805 06:2059: 69 18 00     	adc	#L470+10
  8806 06:205C: 1B           	tcs
  8807 06:205D: 98           	tya
  8808 06:205E: 6B           	rtl
  8809                        ;}
  8810                        	.line	1144
  8811                        	.endblock	1144
  8812             0000000E   L470	equ	14
  8813             00000005   L471	equ	5
  8814 06:205F:              	ends
  8815                        	efunc
  8816                        	.endfunc	1144,5,14
  8817                        	.line	1144
  8818                        ;
  8819                        ;int k_gui_DrawText(HWND hWnd,LPCSTR text,HFONT ch
                    arSet,UINT style,PRECT prect,char color,UINT page)
  8820                        ;{
  8821                        	.line	1146
  8822                        	.line	1147
  8823                        	GFX
  8824                        	xdef	~~k_gui_DrawText
  8825                        	func
  8826                        	.function	1147
  8827                        ~~k_gui_DrawText:
  8828                        	longa	on
  8829                        	longi	on
  8830 06:205F: 3B           	tsc
  8831 06:2060: 38           	sec
  8832 06:2061: E9 26 00     	sbc	#L476
  8833 06:2064: 1B           	tcs
  8834 06:2065: 0B           	phd
  8835 06:2066: 5B           	tcd
  8836             00000004   hWnd_0	set	4
  8837             00000008   text_0	set	8
  8838             0000000C   charSet_0	set	12
  8839             00000010   style_0	set	16
  8840             00000012   prect_0	set	18
  Thu Jul 22 2021 22:51                                                Page 166


  8841             00000016   color_0	set	22
  8842             00000018   page_0	set	24
  8843                        	.block	1147
  8844                        ;	int col 	= 0;
  8845                        ;	int fwidth 	= 0;
  8846                        ;	int fheight = 0;
  8847                        ;	int xmax 	= 0;
  8848                        ;	int ymax 	= 0;
  8849                        ;
  8850                        ;	int dx = 0;
  8851                        ;	int dy = 0;
  8852                        ;	int e;
  8853                        ;	int emax;
  8854                        ;	LPCHAR ptr = NULL;
  8855                        ;	LPCHAR fptr = (LPCHAR)(&((LPSTR)charSet)[2]);
  8856                        ;	PWINDOW pWin = (PWINDOW)hWnd;
  8857                        ;	//k_debug_pointer("k_draw_text_rect charSet:",(L
                    PVOID)charSet);
  8858                        ;
  8859                        ;	fwidth  = (INT)(((INT)((LPSTR)charSet)[0]) & 0x0
                    0FF);
  8860             00000000   col_1	set	0
  8861             00000002   fwidth_1	set	2
  8862             00000004   fheight_1	set	4
  8863             00000006   xmax_1	set	6
  8864             00000008   ymax_1	set	8
  8865             0000000A   dx_1	set	10
  8866             0000000C   dy_1	set	12
  8867             0000000E   e_1	set	14
  8868             00000010   emax_1	set	16
  8869             00000012   ptr_1	set	18
  8870             00000016   fptr_1	set	22
  8871             0000001A   pWin_1	set	26
  8872                        	.sym	col,0,5,1,16
  8873                        	.sym	fwidth,2,5,1,16
  8874                        	.sym	fheight,4,5,1,16
  8875                        	.sym	xmax,6,5,1,16
  8876                        	.sym	ymax,8,5,1,16
  8877                        	.sym	dx,10,5,1,16
  8878                        	.sym	dy,12,5,1,16
  8879                        	.sym	e,14,5,1,16
  8880                        	.sym	emax,16,5,1,16
  8881                        	.sym	ptr,18,142,1,32
  8882                        	.sym	fptr,22,142,1,32
  8883                        	.sym	pWin,26,138,1,32,33
  8884                        	.sym	hWnd,4,129,6,32
  8885                        	.sym	text,8,142,6,32
  8886                        	.sym	charSet,12,129,6,32
  8887                        	.sym	style,16,16,6,16
  8888                        	.sym	prect,18,138,6,32,26
  8889                        	.sym	color,22,14,6,8
  8890                        	.sym	page,24,16,6,16
  8891 06:2067: 64 09        	stz	<L477+col_1
  8892 06:2069: 64 0B        	stz	<L477+fwidth_1
  8893 06:206B: 64 0D        	stz	<L477+fheight_1
  8894 06:206D: 64 0F        	stz	<L477+xmax_1
  8895 06:206F: 64 11        	stz	<L477+ymax_1
  8896 06:2071: 64 13        	stz	<L477+dx_1
  Thu Jul 22 2021 22:51                                                Page 167


  8897 06:2073: 64 15        	stz	<L477+dy_1
  8898 06:2075: 64 1B        	stz	<L477+ptr_1
  8899 06:2077: 64 1D        	stz	<L477+ptr_1+2
  8900 06:2079: 18           	clc
  8901 06:207A: A9 02 00     	lda	#$2
  8902 06:207D: 65 32        	adc	<L476+charSet_0
  8903 06:207F: 85 1F        	sta	<L477+fptr_1
  8904 06:2081: A9 00 00     	lda	#$0
  8905 06:2084: 65 34        	adc	<L476+charSet_0+2
  8906 06:2086: 85 21        	sta	<L477+fptr_1+2
  8907 06:2088: A5 2A        	lda	<L476+hWnd_0
  8908 06:208A: 85 23        	sta	<L477+pWin_1
  8909 06:208C: A5 2C        	lda	<L476+hWnd_0+2
  8910 06:208E: 85 25        	sta	<L477+pWin_1+2
  8911                        	.line	1163
  8912 06:2090: A7 32        	lda	[<L476+charSet_0]
  8913 06:2092: 29 FF 00     	and	#<$ff
  8914 06:2095: 85 0B        	sta	<L477+fwidth_1
  8915                        ;	fheight = (INT)(((INT)((LPSTR)charSet)[1]) & 0x0
                    0FF);
  8916                        	.line	1164
  8917 06:2097: A0 01 00     	ldy	#$1
  8918 06:209A: B7 32        	lda	[<L476+charSet_0],Y
  8919 06:209C: 29 FF 00     	and	#<$ff
  8920 06:209F: 85 0D        	sta	<L477+fheight_1
  8921                        ;
  8922                        ;	e    = (style & DTS_ELLIPSES);
  8923                        	.line	1166
  8924 06:20A1: A5 36        	lda	<L476+style_0
  8925 06:20A3: 29 01 00     	and	#<$1
  8926 06:20A6: 85 17        	sta	<L477+e_1
  8927                        ;	dx    = prect->x;
  8928                        	.line	1167
  8929 06:20A8: A7 38        	lda	[<L476+prect_0]
  8930 06:20AA: 85 13        	sta	<L477+dx_1
  8931                        ;	dy    = prect->y;
  8932                        	.line	1168
  8933 06:20AC: A0 02 00     	ldy	#$2
  8934 06:20AF: B7 38        	lda	[<L476+prect_0],Y
  8935 06:20B1: 85 15        	sta	<L477+dy_1
  8936                        ;	emax = 2 * fwidth;
  8937                        	.line	1169
  8938 06:20B3: A5 0B        	lda	<L477+fwidth_1
  8939 06:20B5: 0A           	asl	A
  8940 06:20B6: 85 19        	sta	<L477+emax_1
  8941                        ;	xmax = prect->x + prect->width - 1;
  8942                        	.line	1170
  8943 06:20B8: 18           	clc
  8944 06:20B9: A7 38        	lda	[<L476+prect_0]
  8945 06:20BB: A0 08 00     	ldy	#$8
  8946 06:20BE: 77 38        	adc	[<L476+prect_0],Y
  8947 06:20C0: 85 01        	sta	<R0
  8948 06:20C2: 18           	clc
  8949 06:20C3: A9 FF FF     	lda	#$ffff
  8950 06:20C6: 65 01        	adc	<R0
  8951 06:20C8: 85 0F        	sta	<L477+xmax_1
  8952                        ;	ymax = (pWin->clientRect.y + pWin->clientRect.he
                    ight) - 1;
  Thu Jul 22 2021 22:51                                                Page 168


  8953                        	.line	1171
  8954 06:20CA: 18           	clc
  8955 06:20CB: A0 2C 00     	ldy	#$2c
  8956 06:20CE: B7 23        	lda	[<L477+pWin_1],Y
  8957 06:20D0: A0 34 00     	ldy	#$34
  8958 06:20D3: 77 23        	adc	[<L477+pWin_1],Y
  8959 06:20D5: 85 01        	sta	<R0
  8960 06:20D7: 18           	clc
  8961 06:20D8: A9 FF FF     	lda	#$ffff
  8962 06:20DB: 65 01        	adc	<R0
  8963 06:20DD: 85 11        	sta	<L477+ymax_1
  8964                        ;
  8965                        ;	//k_debug_strings("k_draw_text_point_with_font:f
                    ont text:",(LPSTR)text);
  8966                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont x:",dx);
  8967                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont y:",dy);
  8968                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont xmax:",xmax);
  8969                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont ymax:",ymax);
  8970                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont fwidth:",fwidth);
  8971                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont fheight:",fheight);
  8972                        ;
  8973                        ;
  8974                        ;	if(((prect->y + FONTH) >= ymax) && !(style & DTS
                    _NOCLIP))
  8975                        	.line	1182
  8976                        ;		return -1;
  8977 06:20DF: 22 F1 81 06  	jsl	~~k_font_getFontHeight
  8978 06:20E3: 85 01        	sta	<R0
  8979 06:20E5: 18           	clc
  8980 06:20E6: A5 01        	lda	<R0
  8981 06:20E8: A0 02 00     	ldy	#$2
  8982 06:20EB: 77 38        	adc	[<L476+prect_0],Y
  8983 06:20ED: 85 05        	sta	<R1
  8984 06:20EF: A5 05        	lda	<R1
  8985 06:20F1: C5 11        	cmp	<L477+ymax_1
  8986 06:20F3: B0 03        	bcs	L479
  8987 06:20F5: 82 1F 00     	brl	L10077
  8988                        L479:
  8989 06:20F8: A5 36        	lda	<L476+style_0
  8990 06:20FA: 29 08 00     	and	#<$8
  8991 06:20FD: F0 03        	beq	L480
  8992 06:20FF: 82 15 00     	brl	L10077
  8993                        L480:
  8994                        	.line	1183
  8995 06:2102: A9 FF FF     	lda	#$ffff
  8996                        L481:
  8997 06:2105: A8           	tay
  8998 06:2106: A5 28        	lda	<L476+2
  8999 06:2108: 85 3E        	sta	<L476+2+22
  9000 06:210A: A5 27        	lda	<L476+1
  9001 06:210C: 85 3D        	sta	<L476+1+22
  9002 06:210E: 2B           	pld
  Thu Jul 22 2021 22:51                                                Page 169


  9003 06:210F: 3B           	tsc
  9004 06:2110: 18           	clc
  9005 06:2111: 69 3C 00     	adc	#L476+22
  9006 06:2114: 1B           	tcs
  9007 06:2115: 98           	tya
  9008 06:2116: 6B           	rtl
  9009                        ;
  9010                        ;
  9011                        ;	if(style & DTS_RIGHTJUSTIFY)
  9012                        L10077:
  9013                        	.line	1186
  9014                        ;	{
  9015 06:2117: A5 36        	lda	<L476+style_0
  9016 06:2119: 29 02 00     	and	#<$2
  9017 06:211C: D0 03        	bne	L482
  9018 06:211E: 82 7A 00     	brl	L10078
  9019                        L482:
  9020                        	.line	1187
  9021                        ;		dx = xmax - fwidth;
  9022                        	.line	1188
  9023 06:2121: 38           	sec
  9024 06:2122: A5 0F        	lda	<L477+xmax_1
  9025 06:2124: E5 0B        	sbc	<L477+fwidth_1
  9026 06:2126: 85 13        	sta	<L477+dx_1
  9027                        ;
  9028                        ;		ptr = (LPSTR)&text[strlen(text)];
  9029                        	.line	1190
  9030 06:2128: D4 30        	pei	<L476+text_0+2
  9031 06:212A: D4 2E        	pei	<L476+text_0
  9032 06:212C: 22 xx xx xx  	jsl	~~strlen
  9033 06:2130: 85 01        	sta	<R0
  9034 06:2132: A5 01        	lda	<R0
  9035 06:2134: 85 01        	sta	<R0
  9036 06:2136: 64 03        	stz	<R0+2
  9037 06:2138: 18           	clc
  9038 06:2139: A5 2E        	lda	<L476+text_0
  9039 06:213B: 65 01        	adc	<R0
  9040 06:213D: 85 1B        	sta	<L477+ptr_1
  9041 06:213F: A5 30        	lda	<L476+text_0+2
  9042 06:2141: 65 03        	adc	<R0+2
  9043 06:2143: 85 1D        	sta	<L477+ptr_1+2
  9044                        ;		while(ptr >= text)
  9045                        	.line	1191
  9046                        L10079:
  9047 06:2145: A5 1B        	lda	<L477+ptr_1
  9048 06:2147: C5 2E        	cmp	<L476+text_0
  9049 06:2149: A5 1D        	lda	<L477+ptr_1+2
  9050 06:214B: E5 30        	sbc	<L476+text_0+2
  9051 06:214D: B0 03        	bcs	L483
  9052 06:214F: 82 46 00     	brl	L10080
  9053                        L483:
  9054                        ;		{
  9055                        	.line	1192
  9056                        ;			dx-=k_put_binary_variablefont_po
                    int_ex( fptr,*ptr,dx,prect->y,fwidth,fheight,color,page);
  9057                        	.line	1193
  9058 06:2152: D4 3E        	pei	<L476+page_0
  9059 06:2154: D4 3C        	pei	<L476+color_0
  Thu Jul 22 2021 22:51                                                Page 170


  9060 06:2156: D4 0D        	pei	<L477+fheight_1
  9061 06:2158: D4 0B        	pei	<L477+fwidth_1
  9062 06:215A: A0 02 00     	ldy	#$2
  9063 06:215D: B7 38        	lda	[<L476+prect_0],Y
  9064 06:215F: 48           	pha
  9065 06:2160: D4 13        	pei	<L477+dx_1
  9066 06:2162: A7 1B        	lda	[<L477+ptr_1]
  9067 06:2164: 48           	pha
  9068 06:2165: D4 21        	pei	<L477+fptr_1+2
  9069 06:2167: D4 1F        	pei	<L477+fptr_1
  9070 06:2169: 22 A7 29 06  	jsl	~~k_put_binary_variablefont_point_ex
  9071 06:216D: 85 01        	sta	<R0
  9072 06:216F: 38           	sec
  9073 06:2170: A5 13        	lda	<L477+dx_1
  9074 06:2172: E5 01        	sbc	<R0
  9075 06:2174: 85 13        	sta	<L477+dx_1
  9076                        ;			if(dx < prect->x)
  9077                        	.line	1194
  9078                        ;				break;
  9079 06:2176: 38           	sec
  9080 06:2177: A5 13        	lda	<L477+dx_1
  9081 06:2179: E7 38        	sbc	[<L476+prect_0]
  9082 06:217B: 70 03        	bvs	L484
  9083 06:217D: 49 00 80     	eor	#$8000
  9084                        L484:
  9085 06:2180: 30 03        	bmi	L485
  9086 06:2182: 82 13 00     	brl	L10080
  9087                        L485:
  9088                        ;
  9089                        ;			ptr--;
  9090                        	.line	1197
  9091 06:2185: A5 1B        	lda	<L477+ptr_1
  9092 06:2187: D0 02        	bne	L486
  9093 06:2189: C6 1D        	dec	<L477+ptr_1+2
  9094                        L486:
  9095 06:218B: C6 1B        	dec	<L477+ptr_1
  9096                        ;			col+=8;
  9097                        	.line	1198
  9098 06:218D: 18           	clc
  9099 06:218E: A9 08 00     	lda	#$8
  9100 06:2191: 65 09        	adc	<L477+col_1
  9101 06:2193: 85 09        	sta	<L477+col_1
  9102                        ;		}
  9103                        	.line	1199
  9104 06:2195: 82 AD FF     	brl	L10079
  9105                        L10080:
  9106                        ;	}
  9107                        	.line	1200
  9108                        ;	else
  9109 06:2198: 82 BA 00     	brl	L10081
  9110                        L10078:
  9111                        ;	{
  9112                        	.line	1202
  9113                        ;		ptr = (LPCHAR)(text);
  9114                        	.line	1203
  9115 06:219B: A5 2E        	lda	<L476+text_0
  9116 06:219D: 85 1B        	sta	<L477+ptr_1
  9117 06:219F: A5 30        	lda	<L476+text_0+2
  Thu Jul 22 2021 22:51                                                Page 171


  9118 06:21A1: 85 1D        	sta	<L477+ptr_1+2
  9119                        ;		while(*ptr)
  9120                        	.line	1204
  9121                        L10082:
  9122 06:21A3: A7 1B        	lda	[<L477+ptr_1]
  9123 06:21A5: 29 FF 00     	and	#$ff
  9124 06:21A8: D0 03        	bne	L487
  9125 06:21AA: 82 A8 00     	brl	L10083
  9126                        L487:
  9127                        ;		{
  9128                        	.line	1205
  9129                        ;			if(*ptr == 0x0D)
  9130                        	.line	1206
  9131                        ;			{
  9132 06:21AD: E2 20        	sep	#$20
  9133                        	longa	off
  9134 06:21AF: A7 1B        	lda	[<L477+ptr_1]
  9135 06:21B1: C9 0D        	cmp	#<$d
  9136 06:21B3: C2 20        	rep	#$20
  9137                        	longa	on
  9138 06:21B5: F0 03        	beq	L488
  9139 06:21B7: 82 07 00     	brl	L10084
  9140                        L488:
  9141                        	.line	1207
  9142                        ;				dx = prect->x;
  9143                        	.line	1208
  9144 06:21BA: A7 38        	lda	[<L476+prect_0]
  9145 06:21BC: 85 13        	sta	<L477+dx_1
  9146                        ;			}
  9147                        	.line	1209
  9148                        ;			else if(*ptr == 0x0A)
  9149 06:21BE: 82 59 00     	brl	L10085
  9150                        L10084:
  9151                        	.line	1210
  9152                        ;			{
  9153 06:21C1: E2 20        	sep	#$20
  9154                        	longa	off
  9155 06:21C3: A7 1B        	lda	[<L477+ptr_1]
  9156 06:21C5: C9 0A        	cmp	#<$a
  9157 06:21C7: C2 20        	rep	#$20
  9158                        	longa	on
  9159 06:21C9: F0 03        	beq	L489
  9160 06:21CB: 82 0E 00     	brl	L10086
  9161                        L489:
  9162                        	.line	1211
  9163                        ;				dy+=fheight;
  9164                        	.line	1212
  9165 06:21CE: 18           	clc
  9166 06:21CF: A5 15        	lda	<L477+dy_1
  9167 06:21D1: 65 0D        	adc	<L477+fheight_1
  9168 06:21D3: 85 15        	sta	<L477+dy_1
  9169                        ;				dx = prect->x;
  9170                        	.line	1213
  9171 06:21D5: A7 38        	lda	[<L476+prect_0]
  9172 06:21D7: 85 13        	sta	<L477+dx_1
  9173                        ;			}
  9174                        	.line	1214
  9175                        ;			else
  Thu Jul 22 2021 22:51                                                Page 172


  9176 06:21D9: 82 3E 00     	brl	L10087
  9177                        L10086:
  9178                        ;			{
  9179                        	.line	1216
  9180                        ;				if(dx < xmax && dy < yma
                    x)
  9181                        	.line	1217
  9182                        ;					dx+=k_put_binary
                    _variablefont_point_ex( fptr,*ptr,dx,dy,fwidth,fheight,color
                    ,page);
  9183 06:21DC: 38           	sec
  9184 06:21DD: A5 13        	lda	<L477+dx_1
  9185 06:21DF: E5 0F        	sbc	<L477+xmax_1
  9186 06:21E1: 70 03        	bvs	L490
  9187 06:21E3: 49 00 80     	eor	#$8000
  9188                        L490:
  9189 06:21E6: 10 03        	bpl	L491
  9190 06:21E8: 82 2F 00     	brl	L10088
  9191                        L491:
  9192 06:21EB: 38           	sec
  9193 06:21EC: A5 15        	lda	<L477+dy_1
  9194 06:21EE: E5 11        	sbc	<L477+ymax_1
  9195 06:21F0: 70 03        	bvs	L492
  9196 06:21F2: 49 00 80     	eor	#$8000
  9197                        L492:
  9198 06:21F5: 10 03        	bpl	L493
  9199 06:21F7: 82 20 00     	brl	L10088
  9200                        L493:
  9201                        	.line	1218
  9202 06:21FA: D4 3E        	pei	<L476+page_0
  9203 06:21FC: D4 3C        	pei	<L476+color_0
  9204 06:21FE: D4 0D        	pei	<L477+fheight_1
  9205 06:2200: D4 0B        	pei	<L477+fwidth_1
  9206 06:2202: D4 15        	pei	<L477+dy_1
  9207 06:2204: D4 13        	pei	<L477+dx_1
  9208 06:2206: A7 1B        	lda	[<L477+ptr_1]
  9209 06:2208: 48           	pha
  9210 06:2209: D4 21        	pei	<L477+fptr_1+2
  9211 06:220B: D4 1F        	pei	<L477+fptr_1
  9212 06:220D: 22 A7 29 06  	jsl	~~k_put_binary_variablefont_point_ex
  9213 06:2211: 85 01        	sta	<R0
  9214 06:2213: 18           	clc
  9215 06:2214: A5 01        	lda	<R0
  9216 06:2216: 65 13        	adc	<L477+dx_1
  9217 06:2218: 85 13        	sta	<L477+dx_1
  9218                        ;			}
  9219                        L10088:
  9220                        	.line	1219
  9221                        L10087:
  9222                        L10085:
  9223                        ;
  9224                        ;			//x+=k_put_binary_variablefont_p
                    oint_ex( fptr,*ptr,x,prect->y,fwidth,fheight,color,page);
  9225                        ;			//if(dx > xmax)
  9226                        ;			//	break;
  9227                        ;
  9228                        ;			if(dy > ymax)
  9229                        	.line	1225
  Thu Jul 22 2021 22:51                                                Page 173


  9230                        ;			{
  9231 06:221A: 38           	sec
  9232 06:221B: A5 11        	lda	<L477+ymax_1
  9233 06:221D: E5 15        	sbc	<L477+dy_1
  9234 06:221F: 70 03        	bvs	L494
  9235 06:2221: 49 00 80     	eor	#$8000
  9236                        L494:
  9237 06:2224: 10 03        	bpl	L495
  9238 06:2226: 82 1B 00     	brl	L10089
  9239                        L495:
  9240                        	.line	1226
  9241                        ;				k_debug_integer("k_draw_
                    text_point_with_font:font ymax:",ymax);
  9242                        	.line	1227
  9243 06:2229: D4 11        	pei	<L477+ymax_1
  9244 06:222B: F4 xx xx     	pea	#^L83
  9245 06:222E: F4 xx xx     	pea	#<L83
  9246 06:2231: 22 xx xx xx  	jsl	~~k_debug_integer
  9247                        ;				k_debug_integer("k_draw_
                    text_point_with_font:font dy@max:",dy);
  9248                        	.line	1228
  9249 06:2235: D4 15        	pei	<L477+dy_1
  9250 06:2237: F4 xx xx     	pea	#^L83+39
  9251 06:223A: F4 xx xx     	pea	#<L83+39
  9252 06:223D: 22 xx xx xx  	jsl	~~k_debug_integer
  9253                        ;				break;
  9254                        	.line	1229
  9255 06:2241: 82 11 00     	brl	L10083
  9256                        ;			}
  9257                        	.line	1230
  9258                        ;
  9259                        ;			ptr++;
  9260                        L10089:
  9261                        	.line	1232
  9262 06:2244: E6 1B        	inc	<L477+ptr_1
  9263 06:2246: D0 02        	bne	L496
  9264 06:2248: E6 1D        	inc	<L477+ptr_1+2
  9265                        L496:
  9266                        ;			col+=8;
  9267                        	.line	1233
  9268 06:224A: 18           	clc
  9269 06:224B: A9 08 00     	lda	#$8
  9270 06:224E: 65 09        	adc	<L477+col_1
  9271 06:2250: 85 09        	sta	<L477+col_1
  9272                        ;		}
  9273                        	.line	1234
  9274 06:2252: 82 4E FF     	brl	L10082
  9275                        L10083:
  9276                        ;	}
  9277                        	.line	1235
  9278                        L10081:
  9279                        ;
  9280                        ;
  9281                        ;	return col;
  9282                        	.line	1238
  9283 06:2255: A5 09        	lda	<L477+col_1
  9284 06:2257: 82 AB FE     	brl	L481
  9285                        ;}
  Thu Jul 22 2021 22:51                                                Page 174


  9286                        	.line	1239
  9287                        	.endblock	1239
  9288             00000026   L476	equ	38
  9289             00000009   L477	equ	9
  9290 06:225A:              	ends
  9291                        	efunc
  9292                        	.endfunc	1239,9,38
  9293                        	.line	1239
  9294                        	data
  9295                        L83:
  9296 00:07D6: 6B 5F 64 72  	db	$6B,$5F,$64,$72,$61,$77,$5F,$74,$65,$78,
                    $74,$5F,$70,$6F,$69
       00:07DA: 61 77 5F 74 
       00:07DE: 65 78 74 5F 
       00:07E2: 70 6F 69 
  9297 00:07E5: 6E 74 5F 77  	db	$6E,$74,$5F,$77,$69,$74,$68,$5F,$66,$6F,
                    $6E,$74,$3A,$66,$6F
       00:07E9: 69 74 68 5F 
       00:07ED: 66 6F 6E 74 
       00:07F1: 3A 66 6F 
  9298 00:07F4: 6E 74 20 79  	db	$6E,$74,$20,$79,$6D,$61,$78,$3A,$00,$6B,
                    $5F,$64,$72,$61,$77
       00:07F8: 6D 61 78 3A 
       00:07FC: 00 6B 5F 64 
       00:0800: 72 61 77 
  9299 00:0803: 5F 74 65 78  	db	$5F,$74,$65,$78,$74,$5F,$70,$6F,$69,$6E,
                    $74,$5F,$77,$69,$74
       00:0807: 74 5F 70 6F 
       00:080B: 69 6E 74 5F 
       00:080F: 77 69 74 
  9300 00:0812: 68 5F 66 6F  	db	$68,$5F,$66,$6F,$6E,$74,$3A,$66,$6F,$6E,
                    $74,$20,$64,$79,$40
       00:0816: 6E 74 3A 66 
       00:081A: 6F 6E 74 20 
       00:081E: 64 79 40 
  9301 00:0821: 6D 61 78 3A  	db	$6D,$61,$78,$3A,$00
       00:0825: 00 
  9302 00:0826:              	ends
  9303                        ;
  9304                        ;
  9305                        ;
  9306                        ;int k_draw_text_point_with_font_ex(LPCSTR text,LP
                    CSTR charSet,int x,int y,char color,UINT page)
  9307                        ;{
  9308                        	.line	1243
  9309                        	.line	1244
  9310                        	GFX
  9311                        	xdef	~~k_draw_text_point_with_font_ex
  9312                        	func
  9313                        	.function	1244
  9314                        ~~k_draw_text_point_with_font_ex:
  9315                        	longa	on
  9316                        	longi	on
  9317 06:225A: 3B           	tsc
  9318 06:225B: 38           	sec
  9319 06:225C: E9 12 00     	sbc	#L498
  9320 06:225F: 1B           	tcs
  9321 06:2260: 0B           	phd
  Thu Jul 22 2021 22:51                                                Page 175


  9322 06:2261: 5B           	tcd
  9323             00000004   text_0	set	4
  9324             00000008   charSet_0	set	8
  9325             0000000C   x_0	set	12
  9326             0000000E   y_0	set	14
  9327             00000010   color_0	set	16
  9328             00000012   page_0	set	18
  9329                        	.block	1244
  9330                        ;	int col = 0;
  9331                        ;	int width = 0;
  9332                        ;	int height = 0;
  9333                        ;
  9334                        ;	LPCHAR ptr = NULL;
  9335                        ;
  9336                        ;	//k_debug_pointer("k_draw_text_point_with_font:f
                    ont charSet:",(LPVOID)charSet);
  9337                        ;
  9338                        ;	width  = (INT)(((INT)charSet[0]) & 0x00FF);
  9339             00000000   col_1	set	0
  9340             00000002   width_1	set	2
  9341             00000004   height_1	set	4
  9342             00000006   ptr_1	set	6
  9343                        	.sym	col,0,5,1,16
  9344                        	.sym	width,2,5,1,16
  9345                        	.sym	height,4,5,1,16
  9346                        	.sym	ptr,6,142,1,32
  9347                        	.sym	text,4,142,6,32
  9348                        	.sym	charSet,8,142,6,32
  9349                        	.sym	x,12,5,6,16
  9350                        	.sym	y,14,5,6,16
  9351                        	.sym	color,16,14,6,8
  9352                        	.sym	page,18,16,6,16
  9353 06:2262: 64 09        	stz	<L499+col_1
  9354 06:2264: 64 0B        	stz	<L499+width_1
  9355 06:2266: 64 0D        	stz	<L499+height_1
  9356 06:2268: 64 0F        	stz	<L499+ptr_1
  9357 06:226A: 64 11        	stz	<L499+ptr_1+2
  9358                        	.line	1253
  9359 06:226C: A7 1A        	lda	[<L498+charSet_0]
  9360 06:226E: 29 FF 00     	and	#<$ff
  9361 06:2271: 85 0B        	sta	<L499+width_1
  9362                        ;	height = (INT)(((INT)charSet[1]) & 0x00FF);
  9363                        	.line	1254
  9364 06:2273: A0 01 00     	ldy	#$1
  9365 06:2276: B7 1A        	lda	[<L498+charSet_0],Y
  9366 06:2278: 29 FF 00     	and	#<$ff
  9367 06:227B: 85 0D        	sta	<L499+height_1
  9368                        ;
  9369                        ;
  9370                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont x:",x);
  9371                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont y:",y);
  9372                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont width:",width);
  9373                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont height:",height);
  9374                        ;
  Thu Jul 22 2021 22:51                                                Page 176


  9375                        ;
  9376                        ;	ptr = (LPCHAR)(text);
  9377                        	.line	1263
  9378 06:227D: A5 16        	lda	<L498+text_0
  9379 06:227F: 85 0F        	sta	<L499+ptr_1
  9380 06:2281: A5 18        	lda	<L498+text_0+2
  9381 06:2283: 85 11        	sta	<L499+ptr_1+2
  9382                        ;	while(*ptr)
  9383                        	.line	1264
  9384                        L10090:
  9385 06:2285: A7 0F        	lda	[<L499+ptr_1]
  9386 06:2287: 29 FF 00     	and	#$ff
  9387 06:228A: D0 03        	bne	L501
  9388 06:228C: 82 40 00     	brl	L10091
  9389                        L501:
  9390                        ;	{
  9391                        	.line	1265
  9392                        ;		//x+=k_put_font_point(*ptr,x,y,color);
  9393                        ;
  9394                        ;		x+=k_put_binary_variablefont_point_ex( (
                    LPCHAR)&charSet[2] , *ptr,x,y,width,height,color,page);
  9395                        	.line	1268
  9396 06:228F: D4 24        	pei	<L498+page_0
  9397 06:2291: D4 22        	pei	<L498+color_0
  9398 06:2293: D4 0D        	pei	<L499+height_1
  9399 06:2295: D4 0B        	pei	<L499+width_1
  9400 06:2297: D4 20        	pei	<L498+y_0
  9401 06:2299: D4 1E        	pei	<L498+x_0
  9402 06:229B: A7 0F        	lda	[<L499+ptr_1]
  9403 06:229D: 48           	pha
  9404 06:229E: 18           	clc
  9405 06:229F: A9 02 00     	lda	#$2
  9406 06:22A2: 65 1A        	adc	<L498+charSet_0
  9407 06:22A4: 85 01        	sta	<R0
  9408 06:22A6: A9 00 00     	lda	#$0
  9409 06:22A9: 65 1C        	adc	<L498+charSet_0+2
  9410 06:22AB: 85 03        	sta	<R0+2
  9411 06:22AD: D4 03        	pei	<R0+2
  9412 06:22AF: D4 01        	pei	<R0
  9413 06:22B1: 22 A7 29 06  	jsl	~~k_put_binary_variablefont_point_ex
  9414 06:22B5: 85 05        	sta	<R1
  9415 06:22B7: 18           	clc
  9416 06:22B8: A5 05        	lda	<R1
  9417 06:22BA: 65 1E        	adc	<L498+x_0
  9418 06:22BC: 85 1E        	sta	<L498+x_0
  9419                        ;		//x+=k_put_binary_font_point( Bm437Amstr
                    adPC1512_2y , *ptr,x,y,color);
  9420                        ;
  9421                        ;		ptr++;
  9422                        	.line	1271
  9423 06:22BE: E6 0F        	inc	<L499+ptr_1
  9424 06:22C0: D0 02        	bne	L502
  9425 06:22C2: E6 11        	inc	<L499+ptr_1+2
  9426                        L502:
  9427                        ;		col+=8;
  9428                        	.line	1272
  9429 06:22C4: 18           	clc
  9430 06:22C5: A9 08 00     	lda	#$8
  Thu Jul 22 2021 22:51                                                Page 177


  9431 06:22C8: 65 09        	adc	<L499+col_1
  9432 06:22CA: 85 09        	sta	<L499+col_1
  9433                        ;	}
  9434                        	.line	1273
  9435 06:22CC: 82 B6 FF     	brl	L10090
  9436                        L10091:
  9437                        ;
  9438                        ;	return col;
  9439                        	.line	1275
  9440 06:22CF: A5 09        	lda	<L499+col_1
  9441                        L503:
  9442 06:22D1: A8           	tay
  9443 06:22D2: A5 14        	lda	<L498+2
  9444 06:22D4: 85 24        	sta	<L498+2+16
  9445 06:22D6: A5 13        	lda	<L498+1
  9446 06:22D8: 85 23        	sta	<L498+1+16
  9447 06:22DA: 2B           	pld
  9448 06:22DB: 3B           	tsc
  9449 06:22DC: 18           	clc
  9450 06:22DD: 69 22 00     	adc	#L498+16
  9451 06:22E0: 1B           	tcs
  9452 06:22E1: 98           	tya
  9453 06:22E2: 6B           	rtl
  9454                        ;}
  9455                        	.line	1276
  9456                        	.endblock	1276
  9457             00000012   L498	equ	18
  9458             00000009   L499	equ	9
  9459 06:22E3:              	ends
  9460                        	efunc
  9461                        	.endfunc	1276,9,18
  9462                        	.line	1276
  9463                        ;
  9464                        ;int k_draw_text_point_with_font(LPCSTR text,LPCST
                    R charSet,int x,int y,char color)
  9465                        ;{
  9466                        	.line	1278
  9467                        	.line	1279
  9468                        	GFX
  9469                        	xdef	~~k_draw_text_point_with_font
  9470                        	func
  9471                        	.function	1279
  9472                        ~~k_draw_text_point_with_font:
  9473                        	longa	on
  9474                        	longi	on
  9475 06:22E3: 3B           	tsc
  9476 06:22E4: 38           	sec
  9477 06:22E5: E9 12 00     	sbc	#L504
  9478 06:22E8: 1B           	tcs
  9479 06:22E9: 0B           	phd
  9480 06:22EA: 5B           	tcd
  9481             00000004   text_0	set	4
  9482             00000008   charSet_0	set	8
  9483             0000000C   x_0	set	12
  9484             0000000E   y_0	set	14
  9485             00000010   color_0	set	16
  9486                        	.block	1279
  9487                        ;	int col = 0;
  Thu Jul 22 2021 22:51                                                Page 178


  9488                        ;	int width = 0;
  9489                        ;	int height = 0;
  9490                        ;
  9491                        ;	LPCHAR ptr = NULL;
  9492                        ;
  9493                        ;	//k_debug_pointer("k_draw_text_point_with_font:f
                    ont charSet:",(LPVOID)charSet);
  9494                        ;
  9495                        ;	width  = charSet[0];
  9496             00000000   col_1	set	0
  9497             00000002   width_1	set	2
  9498             00000004   height_1	set	4
  9499             00000006   ptr_1	set	6
  9500                        	.sym	col,0,5,1,16
  9501                        	.sym	width,2,5,1,16
  9502                        	.sym	height,4,5,1,16
  9503                        	.sym	ptr,6,142,1,32
  9504                        	.sym	text,4,142,6,32
  9505                        	.sym	charSet,8,142,6,32
  9506                        	.sym	x,12,5,6,16
  9507                        	.sym	y,14,5,6,16
  9508                        	.sym	color,16,14,6,8
  9509 06:22EB: 64 09        	stz	<L505+col_1
  9510 06:22ED: 64 0B        	stz	<L505+width_1
  9511 06:22EF: 64 0D        	stz	<L505+height_1
  9512 06:22F1: 64 0F        	stz	<L505+ptr_1
  9513 06:22F3: 64 11        	stz	<L505+ptr_1+2
  9514                        	.line	1288
  9515 06:22F5: A7 1A        	lda	[<L504+charSet_0]
  9516 06:22F7: 29 FF 00     	and	#$ff
  9517 06:22FA: 85 0B        	sta	<L505+width_1
  9518                        ;	height = charSet[1];
  9519                        	.line	1289
  9520 06:22FC: A0 01 00     	ldy	#$1
  9521 06:22FF: B7 1A        	lda	[<L504+charSet_0],Y
  9522 06:2301: 29 FF 00     	and	#$ff
  9523 06:2304: 85 0D        	sta	<L505+height_1
  9524                        ;
  9525                        ;
  9526                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont width:",width);
  9527                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont height:",height);
  9528                        ;
  9529                        ;
  9530                        ;	ptr = (LPCHAR)(text);
  9531                        	.line	1296
  9532 06:2306: A5 16        	lda	<L504+text_0
  9533 06:2308: 85 0F        	sta	<L505+ptr_1
  9534 06:230A: A5 18        	lda	<L504+text_0+2
  9535 06:230C: 85 11        	sta	<L505+ptr_1+2
  9536                        ;	while(*ptr)
  9537                        	.line	1297
  9538                        L10092:
  9539 06:230E: A7 0F        	lda	[<L505+ptr_1]
  9540 06:2310: 29 FF 00     	and	#$ff
  9541 06:2313: D0 03        	bne	L507
  9542 06:2315: 82 3E 00     	brl	L10093
  Thu Jul 22 2021 22:51                                                Page 179


  9543                        L507:
  9544                        ;	{
  9545                        	.line	1298
  9546                        ;		//x+=k_put_font_point(*ptr,x,y,color);
  9547                        ;
  9548                        ;		x+=k_put_binary_variablefont_point( (LPC
                    HAR)&charSet[2] , *ptr,x,y,width,height,color);
  9549                        	.line	1301
  9550 06:2318: D4 22        	pei	<L504+color_0
  9551 06:231A: D4 0D        	pei	<L505+height_1
  9552 06:231C: D4 0B        	pei	<L505+width_1
  9553 06:231E: D4 20        	pei	<L504+y_0
  9554 06:2320: D4 1E        	pei	<L504+x_0
  9555 06:2322: A7 0F        	lda	[<L505+ptr_1]
  9556 06:2324: 48           	pha
  9557 06:2325: 18           	clc
  9558 06:2326: A9 02 00     	lda	#$2
  9559 06:2329: 65 1A        	adc	<L504+charSet_0
  9560 06:232B: 85 01        	sta	<R0
  9561 06:232D: A9 00 00     	lda	#$0
  9562 06:2330: 65 1C        	adc	<L504+charSet_0+2
  9563 06:2332: 85 03        	sta	<R0+2
  9564 06:2334: D4 03        	pei	<R0+2
  9565 06:2336: D4 01        	pei	<R0
  9566 06:2338: 22 AD 28 06  	jsl	~~k_put_binary_variablefont_point
  9567 06:233C: 85 05        	sta	<R1
  9568 06:233E: 18           	clc
  9569 06:233F: A5 05        	lda	<R1
  9570 06:2341: 65 1E        	adc	<L504+x_0
  9571 06:2343: 85 1E        	sta	<L504+x_0
  9572                        ;		//x+=k_put_binary_font_point( Bm437Amstr
                    adPC1512_2y , *ptr,x,y,color);
  9573                        ;
  9574                        ;		ptr++;
  9575                        	.line	1304
  9576 06:2345: E6 0F        	inc	<L505+ptr_1
  9577 06:2347: D0 02        	bne	L508
  9578 06:2349: E6 11        	inc	<L505+ptr_1+2
  9579                        L508:
  9580                        ;		col+=8;
  9581                        	.line	1305
  9582 06:234B: 18           	clc
  9583 06:234C: A9 08 00     	lda	#$8
  9584 06:234F: 65 09        	adc	<L505+col_1
  9585 06:2351: 85 09        	sta	<L505+col_1
  9586                        ;	}
  9587                        	.line	1306
  9588 06:2353: 82 B8 FF     	brl	L10092
  9589                        L10093:
  9590                        ;
  9591                        ;	return col;
  9592                        	.line	1308
  9593 06:2356: A5 09        	lda	<L505+col_1
  9594                        L509:
  9595 06:2358: A8           	tay
  9596 06:2359: A5 14        	lda	<L504+2
  9597 06:235B: 85 22        	sta	<L504+2+14
  9598 06:235D: A5 13        	lda	<L504+1
  Thu Jul 22 2021 22:51                                                Page 180


  9599 06:235F: 85 21        	sta	<L504+1+14
  9600 06:2361: 2B           	pld
  9601 06:2362: 3B           	tsc
  9602 06:2363: 18           	clc
  9603 06:2364: 69 20 00     	adc	#L504+14
  9604 06:2367: 1B           	tcs
  9605 06:2368: 98           	tya
  9606 06:2369: 6B           	rtl
  9607                        ;}
  9608                        	.line	1309
  9609                        	.endblock	1309
  9610             00000012   L504	equ	18
  9611             00000009   L505	equ	9
  9612 06:236A:              	ends
  9613                        	efunc
  9614                        	.endfunc	1309,9,18
  9615                        	.line	1309
  9616                        ;
  9617                        ;
  9618                        ;int k_draw_text_scaled(char FAR *text,int row,int
                     col,char color,int scale)
  9619                        ;{
  9620                        	.line	1312
  9621                        	.line	1313
  9622                        	GFX
  9623                        	xdef	~~k_draw_text_scaled
  9624                        	func
  9625                        	.function	1313
  9626                        ~~k_draw_text_scaled:
  9627                        	longa	on
  9628                        	longi	on
  9629 06:236A: 3B           	tsc
  9630 06:236B: 38           	sec
  9631 06:236C: E9 04 00     	sbc	#L510
  9632 06:236F: 1B           	tcs
  9633 06:2370: 0B           	phd
  9634 06:2371: 5B           	tcd
  9635             00000004   text_0	set	4
  9636             00000008   row_0	set	8
  9637             0000000A   col_0	set	10
  9638             0000000C   color_0	set	12
  9639             0000000E   scale_0	set	14
  9640                        	.block	1313
  9641                        ;	char FAR * ptr = (text);
  9642                        ;	while(*ptr)
  9643             00000000   ptr_1	set	0
  9644                        	.sym	ptr,0,142,1,32
  9645                        	.sym	text,4,142,6,32
  9646                        	.sym	row,8,5,6,16
  9647                        	.sym	col,10,5,6,16
  9648                        	.sym	color,12,14,6,8
  9649                        	.sym	scale,14,5,6,16
  9650 06:2372: A5 08        	lda	<L510+text_0
  9651 06:2374: 85 01        	sta	<L511+ptr_1
  9652 06:2376: A5 0A        	lda	<L510+text_0+2
  9653 06:2378: 85 03        	sta	<L511+ptr_1+2
  9654                        	.line	1315
  9655                        L10094:
  Thu Jul 22 2021 22:51                                                Page 181


  9656 06:237A: A7 01        	lda	[<L511+ptr_1]
  9657 06:237C: 29 FF 00     	and	#$ff
  9658 06:237F: D0 03        	bne	L513
  9659 06:2381: 82 1A 00     	brl	L10095
  9660                        L513:
  9661                        ;	{
  9662                        	.line	1316
  9663                        ;		k_put_font_scaled(*ptr,col,row,color,sca
                    le);
  9664                        	.line	1317
  9665 06:2384: D4 12        	pei	<L510+scale_0
  9666 06:2386: D4 10        	pei	<L510+color_0
  9667 06:2388: D4 0C        	pei	<L510+row_0
  9668 06:238A: D4 0E        	pei	<L510+col_0
  9669 06:238C: A7 01        	lda	[<L511+ptr_1]
  9670 06:238E: 48           	pha
  9671 06:238F: 22 DD 32 06  	jsl	~~k_put_font_scaled
  9672                        ;		col++;
  9673                        	.line	1318
  9674 06:2393: E6 0E        	inc	<L510+col_0
  9675                        ;		ptr++;
  9676                        	.line	1319
  9677 06:2395: E6 01        	inc	<L511+ptr_1
  9678 06:2397: D0 02        	bne	L514
  9679 06:2399: E6 03        	inc	<L511+ptr_1+2
  9680                        L514:
  9681                        ;	}
  9682                        	.line	1320
  9683 06:239B: 82 DC FF     	brl	L10094
  9684                        L10095:
  9685                        ;	
  9686                        ;	return col;
  9687                        	.line	1322
  9688 06:239E: A5 0E        	lda	<L510+col_0
  9689                        L515:
  9690 06:23A0: A8           	tay
  9691 06:23A1: A5 06        	lda	<L510+2
  9692 06:23A3: 85 12        	sta	<L510+2+12
  9693 06:23A5: A5 05        	lda	<L510+1
  9694 06:23A7: 85 11        	sta	<L510+1+12
  9695 06:23A9: 2B           	pld
  9696 06:23AA: 3B           	tsc
  9697 06:23AB: 18           	clc
  9698 06:23AC: 69 10 00     	adc	#L510+12
  9699 06:23AF: 1B           	tcs
  9700 06:23B0: 98           	tya
  9701 06:23B1: 6B           	rtl
  9702                        ;}
  9703                        	.line	1323
  9704                        	.endblock	1323
  9705             00000004   L510	equ	4
  9706             00000001   L511	equ	1
  9707 06:23B2:              	ends
  9708                        	efunc
  9709                        	.endfunc	1323,1,4
  9710                        	.line	1323
  9711                        ;
  9712                        ;int k_get_font_metrics(FONTMETRIC FAR *metric)
  Thu Jul 22 2021 22:51                                                Page 182


  9713                        ;{
  9714                        	.line	1325
  9715                        	.line	1326
  9716                        	GFX
  9717                        	xdef	~~k_get_font_metrics
  9718                        	func
  9719                        	.function	1326
  9720                        ~~k_get_font_metrics:
  9721                        	longa	on
  9722                        	longi	on
  9723 06:23B2: 3B           	tsc
  9724 06:23B3: 38           	sec
  9725 06:23B4: E9 00 00     	sbc	#L516
  9726 06:23B7: 1B           	tcs
  9727 06:23B8: 0B           	phd
  9728 06:23B9: 5B           	tcd
  9729             00000004   metric_0	set	4
  9730                        	.block	1326
  9731                        ;	metric->width  = FONTW;
  9732                        	.sym	metric,4,138,6,32,35
  9733                        	.line	1327
  9734 06:23BA: 22 06 82 06  	jsl	~~k_font_getFontWidth
  9735 06:23BE: 87 04        	sta	[<L516+metric_0]
  9736                        ;	metric->height = FONTH;
  9737                        	.line	1328
  9738 06:23C0: 22 F1 81 06  	jsl	~~k_font_getFontHeight
  9739 06:23C4: A0 02 00     	ldy	#$2
  9740 06:23C7: 97 04        	sta	[<L516+metric_0],Y
  9741                        ;	
  9742                        ;	return sizeof(FONTMETRIC);
  9743                        	.line	1330
  9744 06:23C9: A9 04 00     	lda	#$4
  9745                        L519:
  9746 06:23CC: A8           	tay
  9747 06:23CD: A5 02        	lda	<L516+2
  9748 06:23CF: 85 06        	sta	<L516+2+4
  9749 06:23D1: A5 01        	lda	<L516+1
  9750 06:23D3: 85 05        	sta	<L516+1+4
  9751 06:23D5: 2B           	pld
  9752 06:23D6: 3B           	tsc
  9753 06:23D7: 18           	clc
  9754 06:23D8: 69 04 00     	adc	#L516+4
  9755 06:23DB: 1B           	tcs
  9756 06:23DC: 98           	tya
  9757 06:23DD: 6B           	rtl
  9758                        ;}
  9759                        	.line	1331
  9760                        	.endblock	1331
  9761             00000000   L516	equ	0
  9762             00000001   L517	equ	1
  9763 06:23DE:              	ends
  9764                        	efunc
  9765                        	.endfunc	1331,1,0
  9766                        	.line	1331
  9767                        ;
  9768                        ;int k_put_font_point(char outChar,int cx,int cy,c
                    har color)
  9769                        ;{
  Thu Jul 22 2021 22:51                                                Page 183


  9770                        	.line	1333
  9771                        	.line	1334
  9772                        	GFX
  9773                        	xdef	~~k_put_font_point
  9774                        	func
  9775                        	.function	1334
  9776                        ~~k_put_font_point:
  9777                        	longa	on
  9778                        	longi	on
  9779 06:23DE: 3B           	tsc
  9780 06:23DF: 38           	sec
  9781 06:23E0: E9 1D 00     	sbc	#L520
  9782 06:23E3: 1B           	tcs
  9783 06:23E4: 0B           	phd
  9784 06:23E5: 5B           	tcd
  9785             00000004   outChar_0	set	4
  9786             00000006   cx_0	set	6
  9787             00000008   cy_0	set	8
  9788             0000000A   color_0	set	10
  9789                        	.block	1334
  9790                        ;	int x = 0;
  9791                        ;	int y = 0;
  9792                        ;	int textX = cx;
  9793                        ;	int textY = cy;
  9794                        ;
  9795                        ;	char FAR* img = NULL;//fontImg[ix];
  9796                        ;
  9797                        ;	outChar = toupper(outChar); // fix this so we ca
                    n to lower case
  9798             00000000   x_1	set	0
  9799             00000002   y_1	set	2
  9800             00000004   textX_1	set	4
  9801             00000006   textY_1	set	6
  9802             00000008   img_1	set	8
  9803                        	.sym	x,0,5,1,16
  9804                        	.sym	y,2,5,1,16
  9805                        	.sym	textX,4,5,1,16
  9806                        	.sym	textY,6,5,1,16
  9807                        	.sym	img,8,142,1,32
  9808                        	.sym	outChar,4,14,6,8
  9809                        	.sym	cx,6,5,6,16
  9810                        	.sym	cy,8,5,6,16
  9811                        	.sym	color,10,14,6,8
  9812 06:23E6: 64 11        	stz	<L521+x_1
  9813 06:23E8: 64 13        	stz	<L521+y_1
  9814 06:23EA: A5 23        	lda	<L520+cx_0
  9815 06:23EC: 85 15        	sta	<L521+textX_1
  9816 06:23EE: A5 25        	lda	<L520+cy_0
  9817 06:23F0: 85 17        	sta	<L521+textY_1
  9818 06:23F2: 64 19        	stz	<L521+img_1
  9819 06:23F4: 64 1B        	stz	<L521+img_1+2
  9820                        	.line	1342
  9821 06:23F6: A5 21        	lda	<L520+outChar_0
  9822 06:23F8: 29 FF 00     	and	#$ff
  9823 06:23FB: 48           	pha
  9824 06:23FC: 22 xx xx xx  	jsl	~~toupper
  9825 06:2400: E2 20        	sep	#$20
  9826                        	longa	off
  Thu Jul 22 2021 22:51                                                Page 184


  9827 06:2402: 85 21        	sta	<L520+outChar_0
  9828 06:2404: C2 20        	rep	#$20
  9829                        	longa	on
  9830                        ;
  9831                        ;    if(outChar == 32)
  9832                        	.line	1344
  9833                        ;	{
  9834 06:2406: E2 20        	sep	#$20
  9835                        	longa	off
  9836 06:2408: A5 21        	lda	<L520+outChar_0
  9837 06:240A: C9 20        	cmp	#<$20
  9838 06:240C: C2 20        	rep	#$20
  9839                        	longa	on
  9840 06:240E: F0 03        	beq	L523
  9841 06:2410: 82 07 00     	brl	L10096
  9842                        L523:
  9843                        	.line	1345
  9844                        ;	   img = NULL;//fontSpace;
  9845                        	.line	1346
  9846 06:2413: 64 19        	stz	<L521+img_1
  9847 06:2415: 64 1B        	stz	<L521+img_1+2
  9848                        ;    }
  9849                        	.line	1347
  9850                        ;    else
  9851 06:2417: 82 5B 00     	brl	L10097
  9852                        L10096:
  9853                        ;	{
  9854                        	.line	1349
  9855                        ;	    img = fontImg[(int)characterROMMapping[(int)
                    (outChar & 0xFF)]];
  9856                        	.line	1350
  9857 06:241A: A5 21        	lda	<L520+outChar_0
  9858 06:241C: 29 FF 00     	and	#<$ff
  9859 06:241F: 85 09        	sta	<R2
  9860 06:2421: A0 00 00     	ldy	#$0
  9861 06:2424: A5 09        	lda	<R2
  9862 06:2426: 10 01        	bpl	L524
  9863 06:2428: 88           	dey
  9864                        L524:
  9865 06:2429: 85 09        	sta	<R2
  9866 06:242B: 84 0B        	sty	<R2+2
  9867 06:242D: D4 0B        	pei	<R2+2
  9868 06:242F: D4 09        	pei	<R2
  9869 06:2431: A9 01 00     	lda	#$1
  9870                        	xref	~~~lasl
  9871 06:2434: 22 xx xx xx  	jsl	~~~lasl
  9872 06:2438: 85 05        	sta	<R1
  9873 06:243A: 86 07        	stx	<R1+2
  9874 06:243C: 18           	clc
  9875 06:243D: A9 xx xx     	lda	#<~~characterROMMapping
  9876 06:2440: 65 05        	adc	<R1
  9877 06:2442: 85 0D        	sta	<R3
  9878 06:2444: A9 xx xx     	lda	#^~~characterROMMapping
  9879 06:2447: 65 07        	adc	<R1+2
  9880 06:2449: 85 0F        	sta	<R3+2
  9881 06:244B: A0 00 00     	ldy	#$0
  9882 06:244E: A7 0D        	lda	[<R3]
  9883 06:2450: 10 01        	bpl	L525
  Thu Jul 22 2021 22:51                                                Page 185


  9884 06:2452: 88           	dey
  9885                        L525:
  9886 06:2453: 85 05        	sta	<R1
  9887 06:2455: 84 07        	sty	<R1+2
  9888 06:2457: D4 07        	pei	<R1+2
  9889 06:2459: D4 05        	pei	<R1
  9890 06:245B: A9 06 00     	lda	#$6
  9891                        	xref	~~~lasl
  9892 06:245E: 22 xx xx xx  	jsl	~~~lasl
  9893 06:2462: 85 01        	sta	<R0
  9894 06:2464: 86 03        	stx	<R0+2
  9895 06:2466: 18           	clc
  9896 06:2467: A9 xx xx     	lda	#<~~fontImg
  9897 06:246A: 65 01        	adc	<R0
  9898 06:246C: 85 19        	sta	<L521+img_1
  9899 06:246E: A9 xx xx     	lda	#^~~fontImg
  9900 06:2471: 65 03        	adc	<R0+2
  9901 06:2473: 85 1B        	sta	<L521+img_1+2
  9902                        ;	}
  9903                        	.line	1351
  9904                        L10097:
  9905                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
  9906                        ;
  9907                        ;	// get the font 'image'
  9908                        ;        //char *img = fontImg[ix]; 
  9909                        ;        // loop through pixel rows
  9910                        ;	if(img!=NULL)
  9911                        	.line	1357
  9912                        ;	{
  9913 06:2475: A5 19        	lda	<L521+img_1
  9914 06:2477: 05 1B        	ora	<L521+img_1+2
  9915 06:2479: D0 03        	bne	L526
  9916 06:247B: 82 91 00     	brl	L10098
  9917                        L526:
  9918                        	.line	1358
  9919                        ;		for (y = 0; y < FONTH; y++) 
  9920                        	.line	1359
  9921 06:247E: 64 13        	stz	<L521+y_1
  9922 06:2480: 82 7D 00     	brl	L10102
  9923                        L10101:
  9924                        ;		{
  9925                        	.line	1360
  9926                        ;			// loop through pixel columns
  9927                        ;			for (x = 0; x < FONTW; x++) 
  9928                        	.line	1362
  9929 06:2483: 64 11        	stz	<L521+x_1
  9930 06:2485: 82 67 00     	brl	L10106
  9931                        L10105:
  9932                        ;			{
  9933                        	.line	1363
  9934                        ;				// get the pixel value
  9935                        ;				char b = img[y * FONTW +
                     x];
  9936                        ;				if (b > 0) 
  9937                        	.block	1366
  9938             0000000C   b_2	set	12
  9939                        	.sym	b,12,14,1,8
  Thu Jul 22 2021 22:51                                                Page 186


  9940 06:2488: 22 06 82 06  	jsl	~~k_font_getFontWidth
  9941 06:248C: 85 01        	sta	<R0
  9942 06:248E: A5 01        	lda	<R0
  9943 06:2490: A6 13        	ldx	<L521+y_1
  9944                        	xref	~~~mul
  9945 06:2492: 22 xx xx xx  	jsl	~~~mul
  9946 06:2496: 85 01        	sta	<R0
  9947 06:2498: 18           	clc
  9948 06:2499: A5 01        	lda	<R0
  9949 06:249B: 65 11        	adc	<L521+x_1
  9950 06:249D: 85 05        	sta	<R1
  9951 06:249F: E2 20        	sep	#$20
  9952                        	longa	off
  9953 06:24A1: A4 05        	ldy	<R1
  9954 06:24A3: B7 19        	lda	[<L521+img_1],Y
  9955 06:24A5: 85 1D        	sta	<L521+b_2
  9956 06:24A7: C2 20        	rep	#$20
  9957                        	longa	on
  9958                        	.line	1366
  9959                        ;				{ // plot the pixel
  9960 06:24A9: E2 20        	sep	#$20
  9961                        	longa	off
  9962 06:24AB: A9 00        	lda	#$0
  9963 06:24AD: C5 1D        	cmp	<L521+b_2
  9964 06:24AF: C2 20        	rep	#$20
  9965                        	longa	on
  9966 06:24B1: 90 03        	bcc	L528
  9967 06:24B3: 82 37 00     	brl	L10107
  9968                        L528:
  9969                        	.line	1367
  9970                        ;					k_draw_pixel(tex
                    tX + x, textY + y, color);
  9971                        	.line	1368
  9972 06:24B6: D4 27        	pei	<L520+color_0
  9973 06:24B8: 18           	clc
  9974 06:24B9: A5 17        	lda	<L521+textY_1
  9975 06:24BB: 65 13        	adc	<L521+y_1
  9976 06:24BD: 85 01        	sta	<R0
  9977 06:24BF: A0 00 00     	ldy	#$0
  9978 06:24C2: A5 01        	lda	<R0
  9979 06:24C4: 10 01        	bpl	L529
  9980 06:24C6: 88           	dey
  9981                        L529:
  9982 06:24C7: 85 01        	sta	<R0
  9983 06:24C9: 84 03        	sty	<R0+2
  9984 06:24CB: D4 03        	pei	<R0+2
  9985 06:24CD: D4 01        	pei	<R0
  9986 06:24CF: 18           	clc
  9987 06:24D0: A5 15        	lda	<L521+textX_1
  9988 06:24D2: 65 11        	adc	<L521+x_1
  9989 06:24D4: 85 05        	sta	<R1
  9990 06:24D6: A0 00 00     	ldy	#$0
  9991 06:24D9: A5 05        	lda	<R1
  9992 06:24DB: 10 01        	bpl	L530
  9993 06:24DD: 88           	dey
  9994                        L530:
  9995 06:24DE: 85 05        	sta	<R1
  9996 06:24E0: 84 07        	sty	<R1+2
  Thu Jul 22 2021 22:51                                                Page 187


  9997 06:24E2: D4 07        	pei	<R1+2
  9998 06:24E4: D4 05        	pei	<R1
  9999 06:24E6: 22 35 13 06  	jsl	~~k_draw_pixel
 10000                        ;				}
 10001                        	.line	1369
 10002                        ;				else 
 10003 06:24EA: 82 00 00     	brl	L10108
 10004                        L10107:
 10005                        ;				{ 
 10006                        	.line	1371
 10007                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 10008                        ;				}
 10009                        	.line	1373
 10010                        L10108:
 10011                        ;			} // end "for x"
 10012                        	.endblock	1374
 10013                        	.line	1374
 10014                        L10103:
 10015 06:24ED: E6 11        	inc	<L521+x_1
 10016                        L10106:
 10017 06:24EF: 22 06 82 06  	jsl	~~k_font_getFontWidth
 10018 06:24F3: 85 01        	sta	<R0
 10019 06:24F5: A5 11        	lda	<L521+x_1
 10020 06:24F7: C5 01        	cmp	<R0
 10021 06:24F9: B0 03        	bcs	L531
 10022 06:24FB: 82 8A FF     	brl	L10105
 10023                        L531:
 10024                        L10104:
 10025                        ;		} // end "for y"
 10026                        	.line	1375
 10027                        L10099:
 10028 06:24FE: E6 13        	inc	<L521+y_1
 10029                        L10102:
 10030 06:2500: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 10031 06:2504: 85 01        	sta	<R0
 10032 06:2506: A5 13        	lda	<L521+y_1
 10033 06:2508: C5 01        	cmp	<R0
 10034 06:250A: B0 03        	bcs	L532
 10035 06:250C: 82 74 FF     	brl	L10101
 10036                        L532:
 10037                        L10100:
 10038                        ;	}
 10039                        	.line	1376
 10040                        ;	return FONTW;
 10041                        L10098:
 10042                        	.line	1377
 10043 06:250F: 22 06 82 06  	jsl	~~k_font_getFontWidth
 10044                        L533:
 10045 06:2513: A8           	tay
 10046 06:2514: A5 1F        	lda	<L520+2
 10047 06:2516: 85 27        	sta	<L520+2+8
 10048 06:2518: A5 1E        	lda	<L520+1
 10049 06:251A: 85 26        	sta	<L520+1+8
 10050 06:251C: 2B           	pld
 10051 06:251D: 3B           	tsc
 10052 06:251E: 18           	clc
 10053 06:251F: 69 25 00     	adc	#L520+8
  Thu Jul 22 2021 22:51                                                Page 188


 10054 06:2522: 1B           	tcs
 10055 06:2523: 98           	tya
 10056 06:2524: 6B           	rtl
 10057                        ;}
 10058                        	.line	1378
 10059                        	.endblock	1378
 10060             0000001D   L520	equ	29
 10061             00000011   L521	equ	17
 10062 06:2525:              	ends
 10063                        	efunc
 10064                        	.endfunc	1378,17,29
 10065                        	.line	1378
 10066                        ;
 10067                        ;int k_put_binary_font_point(LPCHAR fontSet, char 
                    outChar,int cx,int cy,char color)
 10068                        ;{
 10069                        	.line	1380
 10070                        	.line	1381
 10071                        	GFX
 10072                        	xdef	~~k_put_binary_font_point
 10073                        	func
 10074                        	.function	1381
 10075                        ~~k_put_binary_font_point:
 10076                        	longa	on
 10077                        	longi	on
 10078 06:2525: 3B           	tsc
 10079 06:2526: 38           	sec
 10080 06:2527: E9 18 00     	sbc	#L534
 10081 06:252A: 1B           	tcs
 10082 06:252B: 0B           	phd
 10083 06:252C: 5B           	tcd
 10084             00000004   fontSet_0	set	4
 10085             00000008   outChar_0	set	8
 10086             0000000A   cx_0	set	10
 10087             0000000C   cy_0	set	12
 10088             0000000E   color_0	set	14
 10089                        	.block	1381
 10090                        ;	int x = 0;
 10091                        ;	int y = 0;
 10092                        ;	int textX = cx;
 10093                        ;	int textY = cy;
 10094                        ;
 10095                        ;	unsigned char FAR* img = NULL;//fontImg[ix];
 10096                        ;
 10097                        ;    if(outChar == 32)
 10098             00000000   x_1	set	0
 10099             00000002   y_1	set	2
 10100             00000004   textX_1	set	4
 10101             00000006   textY_1	set	6
 10102             00000008   img_1	set	8
 10103                        	.sym	x,0,5,1,16
 10104                        	.sym	y,2,5,1,16
 10105                        	.sym	textX,4,5,1,16
 10106                        	.sym	textY,6,5,1,16
 10107                        	.sym	img,8,142,1,32
 10108                        	.sym	fontSet,4,142,6,32
 10109                        	.sym	outChar,8,14,6,8
 10110                        	.sym	cx,10,5,6,16
  Thu Jul 22 2021 22:51                                                Page 189


 10111                        	.sym	cy,12,5,6,16
 10112                        	.sym	color,14,14,6,8
 10113 06:252D: 64 09        	stz	<L535+x_1
 10114 06:252F: 64 0B        	stz	<L535+y_1
 10115 06:2531: A5 22        	lda	<L534+cx_0
 10116 06:2533: 85 0D        	sta	<L535+textX_1
 10117 06:2535: A5 24        	lda	<L534+cy_0
 10118 06:2537: 85 0F        	sta	<L535+textY_1
 10119 06:2539: 64 11        	stz	<L535+img_1
 10120 06:253B: 64 13        	stz	<L535+img_1+2
 10121                        	.line	1389
 10122                        ;	{
 10123 06:253D: E2 20        	sep	#$20
 10124                        	longa	off
 10125 06:253F: A5 20        	lda	<L534+outChar_0
 10126 06:2541: C9 20        	cmp	#<$20
 10127 06:2543: C2 20        	rep	#$20
 10128                        	longa	on
 10129 06:2545: F0 03        	beq	L537
 10130 06:2547: 82 07 00     	brl	L10109
 10131                        L537:
 10132                        	.line	1390
 10133                        ;	   img = NULL;//fontSpace;
 10134                        	.line	1391
 10135 06:254A: 64 11        	stz	<L535+img_1
 10136 06:254C: 64 13        	stz	<L535+img_1+2
 10137                        ;    }
 10138                        	.line	1392
 10139                        ;    else
 10140 06:254E: 82 2F 00     	brl	L10110
 10141                        L10109:
 10142                        ;	{
 10143                        	.line	1394
 10144                        ;	    //img = &(fontSet[characterROMMapping[outCha
                    r]]);
 10145                        ;    	img = fontSet+=(8*outChar);
 10146                        	.line	1396
 10147 06:2551: A5 20        	lda	<L534+outChar_0
 10148 06:2553: 29 FF 00     	and	#$ff
 10149 06:2556: 85 05        	sta	<R1
 10150 06:2558: A5 05        	lda	<R1
 10151 06:255A: 0A           	asl	A
 10152 06:255B: 0A           	asl	A
 10153 06:255C: 0A           	asl	A
 10154 06:255D: 85 01        	sta	<R0
 10155 06:255F: A0 00 00     	ldy	#$0
 10156 06:2562: A5 01        	lda	<R0
 10157 06:2564: 10 01        	bpl	L538
 10158 06:2566: 88           	dey
 10159                        L538:
 10160 06:2567: 85 01        	sta	<R0
 10161 06:2569: 84 03        	sty	<R0+2
 10162 06:256B: 18           	clc
 10163 06:256C: A5 1C        	lda	<L534+fontSet_0
 10164 06:256E: 65 01        	adc	<R0
 10165 06:2570: 85 1C        	sta	<L534+fontSet_0
 10166 06:2572: A5 1E        	lda	<L534+fontSet_0+2
 10167 06:2574: 65 03        	adc	<R0+2
  Thu Jul 22 2021 22:51                                                Page 190


 10168 06:2576: 85 1E        	sta	<L534+fontSet_0+2
 10169 06:2578: A5 1C        	lda	<L534+fontSet_0
 10170 06:257A: 85 11        	sta	<L535+img_1
 10171 06:257C: A5 1E        	lda	<L534+fontSet_0+2
 10172 06:257E: 85 13        	sta	<L535+img_1+2
 10173                        ;    	//img = "\xc3\xc3\xc3\xc3\xc3\xc3\xc3\xc
                    3";//&(fontSet[outChar]);
 10174                        ;	}
 10175                        	.line	1398
 10176                        L10110:
 10177                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 10178                        ;
 10179                        ;	// get the font 'image'
 10180                        ;        //char *img = fontImg[ix];
 10181                        ;        // loop through pixel rows
 10182                        ;	if(img!=NULL)
 10183                        	.line	1404
 10184                        ;	{
 10185 06:2580: A5 11        	lda	<L535+img_1
 10186 06:2582: 05 13        	ora	<L535+img_1+2
 10187 06:2584: D0 03        	bne	L539
 10188 06:2586: 82 0E 03     	brl	L10111
 10189                        L539:
 10190                        	.line	1405
 10191                        ;		for (y = 0; y < FONTH; y++)
 10192                        	.line	1406
 10193 06:2589: 64 0B        	stz	<L535+y_1
 10194 06:258B: 82 FA 02     	brl	L10115
 10195                        L10114:
 10196                        ;		{
 10197                        	.line	1407
 10198                        ;			// get the pixel value
 10199                        ;			PBYTEBITS b = (PBYTEBITS)&(img[y
                    ]); //img[y * FONTW + x];
 10200                        ;			if (b->b7 > 0)
 10201                        	.block	1410
 10202             0000000C   b_2	set	12
 10203                        	.sym	b,12,138,1,32,4
 10204 06:258E: A0 00 00     	ldy	#$0
 10205 06:2591: A5 0B        	lda	<L535+y_1
 10206 06:2593: 10 01        	bpl	L541
 10207 06:2595: 88           	dey
 10208                        L541:
 10209 06:2596: 85 01        	sta	<R0
 10210 06:2598: 84 03        	sty	<R0+2
 10211 06:259A: 18           	clc
 10212 06:259B: A5 11        	lda	<L535+img_1
 10213 06:259D: 65 01        	adc	<R0
 10214 06:259F: 85 15        	sta	<L535+b_2
 10215 06:25A1: A5 13        	lda	<L535+img_1+2
 10216 06:25A3: 65 03        	adc	<R0+2
 10217 06:25A5: 85 17        	sta	<L535+b_2+2
 10218                        	.line	1410
 10219                        ;				k_draw_pixel(textX + 7, 
                    textY + y, color);
 10220 06:25A7: E2 20        	sep	#$20
 10221                        	longa	off
  Thu Jul 22 2021 22:51                                                Page 191


 10222 06:25A9: A7 15        	lda	[<L535+b_2]
 10223 06:25AB: 85 01        	sta	<R0
 10224 06:25AD: C2 20        	rep	#$20
 10225                        	longa	on
 10226 06:25AF: E2 20        	sep	#$20
 10227                        	longa	off
 10228 06:25B1: A5 01        	lda	<R0
 10229 06:25B3: 29 01        	and	#<$1
 10230 06:25B5: 85 01        	sta	<R0
 10231 06:25B7: C2 20        	rep	#$20
 10232                        	longa	on
 10233 06:25B9: E2 20        	sep	#$20
 10234                        	longa	off
 10235 06:25BB: A9 00        	lda	#$0
 10236 06:25BD: C5 01        	cmp	<R0
 10237 06:25BF: C2 20        	rep	#$20
 10238                        	longa	on
 10239 06:25C1: 90 03        	bcc	L542
 10240 06:25C3: 82 35 00     	brl	L10116
 10241                        L542:
 10242                        	.line	1411
 10243 06:25C6: D4 26        	pei	<L534+color_0
 10244 06:25C8: 18           	clc
 10245 06:25C9: A5 0F        	lda	<L535+textY_1
 10246 06:25CB: 65 0B        	adc	<L535+y_1
 10247 06:25CD: 85 01        	sta	<R0
 10248 06:25CF: A0 00 00     	ldy	#$0
 10249 06:25D2: A5 01        	lda	<R0
 10250 06:25D4: 10 01        	bpl	L543
 10251 06:25D6: 88           	dey
 10252                        L543:
 10253 06:25D7: 85 01        	sta	<R0
 10254 06:25D9: 84 03        	sty	<R0+2
 10255 06:25DB: D4 03        	pei	<R0+2
 10256 06:25DD: D4 01        	pei	<R0
 10257 06:25DF: 18           	clc
 10258 06:25E0: A9 07 00     	lda	#$7
 10259 06:25E3: 65 0D        	adc	<L535+textX_1
 10260 06:25E5: 85 05        	sta	<R1
 10261 06:25E7: A0 00 00     	ldy	#$0
 10262 06:25EA: A5 05        	lda	<R1
 10263 06:25EC: 10 01        	bpl	L544
 10264 06:25EE: 88           	dey
 10265                        L544:
 10266 06:25EF: 85 05        	sta	<R1
 10267 06:25F1: 84 07        	sty	<R1+2
 10268 06:25F3: D4 07        	pei	<R1+2
 10269 06:25F5: D4 05        	pei	<R1
 10270 06:25F7: 22 35 13 06  	jsl	~~k_draw_pixel
 10271                        ;			if (b->b6 > 0)
 10272                        L10116:
 10273                        	.line	1412
 10274                        ;				k_draw_pixel(textX + 6, 
                    textY + y, color);
 10275 06:25FB: E2 20        	sep	#$20
 10276                        	longa	off
 10277 06:25FD: A7 15        	lda	[<L535+b_2]
 10278 06:25FF: 85 01        	sta	<R0
  Thu Jul 22 2021 22:51                                                Page 192


 10279 06:2601: C2 20        	rep	#$20
 10280                        	longa	on
 10281 06:2603: E2 20        	sep	#$20
 10282                        	longa	off
 10283 06:2605: 46 01        	lsr	<R0
 10284 06:2607: C2 20        	rep	#$20
 10285                        	longa	on
 10286 06:2609: E2 20        	sep	#$20
 10287                        	longa	off
 10288 06:260B: A5 01        	lda	<R0
 10289 06:260D: 29 01        	and	#<$1
 10290 06:260F: 85 01        	sta	<R0
 10291 06:2611: C2 20        	rep	#$20
 10292                        	longa	on
 10293 06:2613: E2 20        	sep	#$20
 10294                        	longa	off
 10295 06:2615: A9 00        	lda	#$0
 10296 06:2617: C5 01        	cmp	<R0
 10297 06:2619: C2 20        	rep	#$20
 10298                        	longa	on
 10299 06:261B: 90 03        	bcc	L545
 10300 06:261D: 82 35 00     	brl	L10117
 10301                        L545:
 10302                        	.line	1413
 10303 06:2620: D4 26        	pei	<L534+color_0
 10304 06:2622: 18           	clc
 10305 06:2623: A5 0F        	lda	<L535+textY_1
 10306 06:2625: 65 0B        	adc	<L535+y_1
 10307 06:2627: 85 01        	sta	<R0
 10308 06:2629: A0 00 00     	ldy	#$0
 10309 06:262C: A5 01        	lda	<R0
 10310 06:262E: 10 01        	bpl	L546
 10311 06:2630: 88           	dey
 10312                        L546:
 10313 06:2631: 85 01        	sta	<R0
 10314 06:2633: 84 03        	sty	<R0+2
 10315 06:2635: D4 03        	pei	<R0+2
 10316 06:2637: D4 01        	pei	<R0
 10317 06:2639: 18           	clc
 10318 06:263A: A9 06 00     	lda	#$6
 10319 06:263D: 65 0D        	adc	<L535+textX_1
 10320 06:263F: 85 05        	sta	<R1
 10321 06:2641: A0 00 00     	ldy	#$0
 10322 06:2644: A5 05        	lda	<R1
 10323 06:2646: 10 01        	bpl	L547
 10324 06:2648: 88           	dey
 10325                        L547:
 10326 06:2649: 85 05        	sta	<R1
 10327 06:264B: 84 07        	sty	<R1+2
 10328 06:264D: D4 07        	pei	<R1+2
 10329 06:264F: D4 05        	pei	<R1
 10330 06:2651: 22 35 13 06  	jsl	~~k_draw_pixel
 10331                        ;			if (b->b5 > 0)
 10332                        L10117:
 10333                        	.line	1414
 10334                        ;				k_draw_pixel(textX + 5, 
                    textY + y, color);
 10335 06:2655: E2 20        	sep	#$20
  Thu Jul 22 2021 22:51                                                Page 193


 10336                        	longa	off
 10337 06:2657: A7 15        	lda	[<L535+b_2]
 10338 06:2659: 85 01        	sta	<R0
 10339 06:265B: C2 20        	rep	#$20
 10340                        	longa	on
 10341 06:265D: E2 20        	sep	#$20
 10342                        	longa	off
 10343 06:265F: 46 01        	lsr	<R0
 10344 06:2661: 46 01        	lsr	<R0
 10345 06:2663: C2 20        	rep	#$20
 10346                        	longa	on
 10347 06:2665: E2 20        	sep	#$20
 10348                        	longa	off
 10349 06:2667: A5 01        	lda	<R0
 10350 06:2669: 29 01        	and	#<$1
 10351 06:266B: 85 01        	sta	<R0
 10352 06:266D: C2 20        	rep	#$20
 10353                        	longa	on
 10354 06:266F: E2 20        	sep	#$20
 10355                        	longa	off
 10356 06:2671: A9 00        	lda	#$0
 10357 06:2673: C5 01        	cmp	<R0
 10358 06:2675: C2 20        	rep	#$20
 10359                        	longa	on
 10360 06:2677: 90 03        	bcc	L548
 10361 06:2679: 82 35 00     	brl	L10118
 10362                        L548:
 10363                        	.line	1415
 10364 06:267C: D4 26        	pei	<L534+color_0
 10365 06:267E: 18           	clc
 10366 06:267F: A5 0F        	lda	<L535+textY_1
 10367 06:2681: 65 0B        	adc	<L535+y_1
 10368 06:2683: 85 01        	sta	<R0
 10369 06:2685: A0 00 00     	ldy	#$0
 10370 06:2688: A5 01        	lda	<R0
 10371 06:268A: 10 01        	bpl	L549
 10372 06:268C: 88           	dey
 10373                        L549:
 10374 06:268D: 85 01        	sta	<R0
 10375 06:268F: 84 03        	sty	<R0+2
 10376 06:2691: D4 03        	pei	<R0+2
 10377 06:2693: D4 01        	pei	<R0
 10378 06:2695: 18           	clc
 10379 06:2696: A9 05 00     	lda	#$5
 10380 06:2699: 65 0D        	adc	<L535+textX_1
 10381 06:269B: 85 05        	sta	<R1
 10382 06:269D: A0 00 00     	ldy	#$0
 10383 06:26A0: A5 05        	lda	<R1
 10384 06:26A2: 10 01        	bpl	L550
 10385 06:26A4: 88           	dey
 10386                        L550:
 10387 06:26A5: 85 05        	sta	<R1
 10388 06:26A7: 84 07        	sty	<R1+2
 10389 06:26A9: D4 07        	pei	<R1+2
 10390 06:26AB: D4 05        	pei	<R1
 10391 06:26AD: 22 35 13 06  	jsl	~~k_draw_pixel
 10392                        ;			if (b->b4 > 0)
 10393                        L10118:
  Thu Jul 22 2021 22:51                                                Page 194


 10394                        	.line	1416
 10395                        ;				k_draw_pixel(textX + 4, 
                    textY + y, color);
 10396 06:26B1: E2 20        	sep	#$20
 10397                        	longa	off
 10398 06:26B3: A7 15        	lda	[<L535+b_2]
 10399 06:26B5: 85 01        	sta	<R0
 10400 06:26B7: C2 20        	rep	#$20
 10401                        	longa	on
 10402 06:26B9: E2 20        	sep	#$20
 10403                        	longa	off
 10404 06:26BB: 46 01        	lsr	<R0
 10405 06:26BD: 46 01        	lsr	<R0
 10406 06:26BF: 46 01        	lsr	<R0
 10407 06:26C1: C2 20        	rep	#$20
 10408                        	longa	on
 10409 06:26C3: E2 20        	sep	#$20
 10410                        	longa	off
 10411 06:26C5: A5 01        	lda	<R0
 10412 06:26C7: 29 01        	and	#<$1
 10413 06:26C9: 85 01        	sta	<R0
 10414 06:26CB: C2 20        	rep	#$20
 10415                        	longa	on
 10416 06:26CD: E2 20        	sep	#$20
 10417                        	longa	off
 10418 06:26CF: A9 00        	lda	#$0
 10419 06:26D1: C5 01        	cmp	<R0
 10420 06:26D3: C2 20        	rep	#$20
 10421                        	longa	on
 10422 06:26D5: 90 03        	bcc	L551
 10423 06:26D7: 82 35 00     	brl	L10119
 10424                        L551:
 10425                        	.line	1417
 10426 06:26DA: D4 26        	pei	<L534+color_0
 10427 06:26DC: 18           	clc
 10428 06:26DD: A5 0F        	lda	<L535+textY_1
 10429 06:26DF: 65 0B        	adc	<L535+y_1
 10430 06:26E1: 85 01        	sta	<R0
 10431 06:26E3: A0 00 00     	ldy	#$0
 10432 06:26E6: A5 01        	lda	<R0
 10433 06:26E8: 10 01        	bpl	L552
 10434 06:26EA: 88           	dey
 10435                        L552:
 10436 06:26EB: 85 01        	sta	<R0
 10437 06:26ED: 84 03        	sty	<R0+2
 10438 06:26EF: D4 03        	pei	<R0+2
 10439 06:26F1: D4 01        	pei	<R0
 10440 06:26F3: 18           	clc
 10441 06:26F4: A9 04 00     	lda	#$4
 10442 06:26F7: 65 0D        	adc	<L535+textX_1
 10443 06:26F9: 85 05        	sta	<R1
 10444 06:26FB: A0 00 00     	ldy	#$0
 10445 06:26FE: A5 05        	lda	<R1
 10446 06:2700: 10 01        	bpl	L553
 10447 06:2702: 88           	dey
 10448                        L553:
 10449 06:2703: 85 05        	sta	<R1
 10450 06:2705: 84 07        	sty	<R1+2
  Thu Jul 22 2021 22:51                                                Page 195


 10451 06:2707: D4 07        	pei	<R1+2
 10452 06:2709: D4 05        	pei	<R1
 10453 06:270B: 22 35 13 06  	jsl	~~k_draw_pixel
 10454                        ;			if (b->b3 > 0)
 10455                        L10119:
 10456                        	.line	1418
 10457                        ;				k_draw_pixel(textX + 3, 
                    textY + y, color);
 10458 06:270F: E2 20        	sep	#$20
 10459                        	longa	off
 10460 06:2711: A7 15        	lda	[<L535+b_2]
 10461 06:2713: 85 01        	sta	<R0
 10462 06:2715: C2 20        	rep	#$20
 10463                        	longa	on
 10464 06:2717: E2 20        	sep	#$20
 10465                        	longa	off
 10466 06:2719: 46 01        	lsr	<R0
 10467 06:271B: 46 01        	lsr	<R0
 10468 06:271D: 46 01        	lsr	<R0
 10469 06:271F: 46 01        	lsr	<R0
 10470 06:2721: C2 20        	rep	#$20
 10471                        	longa	on
 10472 06:2723: E2 20        	sep	#$20
 10473                        	longa	off
 10474 06:2725: A5 01        	lda	<R0
 10475 06:2727: 29 01        	and	#<$1
 10476 06:2729: 85 01        	sta	<R0
 10477 06:272B: C2 20        	rep	#$20
 10478                        	longa	on
 10479 06:272D: E2 20        	sep	#$20
 10480                        	longa	off
 10481 06:272F: A9 00        	lda	#$0
 10482 06:2731: C5 01        	cmp	<R0
 10483 06:2733: C2 20        	rep	#$20
 10484                        	longa	on
 10485 06:2735: 90 03        	bcc	L554
 10486 06:2737: 82 35 00     	brl	L10120
 10487                        L554:
 10488                        	.line	1419
 10489 06:273A: D4 26        	pei	<L534+color_0
 10490 06:273C: 18           	clc
 10491 06:273D: A5 0F        	lda	<L535+textY_1
 10492 06:273F: 65 0B        	adc	<L535+y_1
 10493 06:2741: 85 01        	sta	<R0
 10494 06:2743: A0 00 00     	ldy	#$0
 10495 06:2746: A5 01        	lda	<R0
 10496 06:2748: 10 01        	bpl	L555
 10497 06:274A: 88           	dey
 10498                        L555:
 10499 06:274B: 85 01        	sta	<R0
 10500 06:274D: 84 03        	sty	<R0+2
 10501 06:274F: D4 03        	pei	<R0+2
 10502 06:2751: D4 01        	pei	<R0
 10503 06:2753: 18           	clc
 10504 06:2754: A9 03 00     	lda	#$3
 10505 06:2757: 65 0D        	adc	<L535+textX_1
 10506 06:2759: 85 05        	sta	<R1
 10507 06:275B: A0 00 00     	ldy	#$0
  Thu Jul 22 2021 22:51                                                Page 196


 10508 06:275E: A5 05        	lda	<R1
 10509 06:2760: 10 01        	bpl	L556
 10510 06:2762: 88           	dey
 10511                        L556:
 10512 06:2763: 85 05        	sta	<R1
 10513 06:2765: 84 07        	sty	<R1+2
 10514 06:2767: D4 07        	pei	<R1+2
 10515 06:2769: D4 05        	pei	<R1
 10516 06:276B: 22 35 13 06  	jsl	~~k_draw_pixel
 10517                        ;			if (b->b2 > 0)
 10518                        L10120:
 10519                        	.line	1420
 10520                        ;				k_draw_pixel(textX + 2, 
                    textY + y, color);
 10521 06:276F: E2 20        	sep	#$20
 10522                        	longa	off
 10523 06:2771: A7 15        	lda	[<L535+b_2]
 10524 06:2773: 85 01        	sta	<R0
 10525 06:2775: C2 20        	rep	#$20
 10526                        	longa	on
 10527 06:2777: E2 20        	sep	#$20
 10528                        	longa	off
 10529 06:2779: 46 01        	lsr	<R0
 10530 06:277B: 46 01        	lsr	<R0
 10531 06:277D: 46 01        	lsr	<R0
 10532 06:277F: 46 01        	lsr	<R0
 10533 06:2781: 46 01        	lsr	<R0
 10534 06:2783: C2 20        	rep	#$20
 10535                        	longa	on
 10536 06:2785: E2 20        	sep	#$20
 10537                        	longa	off
 10538 06:2787: A5 01        	lda	<R0
 10539 06:2789: 29 01        	and	#<$1
 10540 06:278B: 85 01        	sta	<R0
 10541 06:278D: C2 20        	rep	#$20
 10542                        	longa	on
 10543 06:278F: E2 20        	sep	#$20
 10544                        	longa	off
 10545 06:2791: A9 00        	lda	#$0
 10546 06:2793: C5 01        	cmp	<R0
 10547 06:2795: C2 20        	rep	#$20
 10548                        	longa	on
 10549 06:2797: 90 03        	bcc	L557
 10550 06:2799: 82 35 00     	brl	L10121
 10551                        L557:
 10552                        	.line	1421
 10553 06:279C: D4 26        	pei	<L534+color_0
 10554 06:279E: 18           	clc
 10555 06:279F: A5 0F        	lda	<L535+textY_1
 10556 06:27A1: 65 0B        	adc	<L535+y_1
 10557 06:27A3: 85 01        	sta	<R0
 10558 06:27A5: A0 00 00     	ldy	#$0
 10559 06:27A8: A5 01        	lda	<R0
 10560 06:27AA: 10 01        	bpl	L558
 10561 06:27AC: 88           	dey
 10562                        L558:
 10563 06:27AD: 85 01        	sta	<R0
 10564 06:27AF: 84 03        	sty	<R0+2
  Thu Jul 22 2021 22:51                                                Page 197


 10565 06:27B1: D4 03        	pei	<R0+2
 10566 06:27B3: D4 01        	pei	<R0
 10567 06:27B5: 18           	clc
 10568 06:27B6: A9 02 00     	lda	#$2
 10569 06:27B9: 65 0D        	adc	<L535+textX_1
 10570 06:27BB: 85 05        	sta	<R1
 10571 06:27BD: A0 00 00     	ldy	#$0
 10572 06:27C0: A5 05        	lda	<R1
 10573 06:27C2: 10 01        	bpl	L559
 10574 06:27C4: 88           	dey
 10575                        L559:
 10576 06:27C5: 85 05        	sta	<R1
 10577 06:27C7: 84 07        	sty	<R1+2
 10578 06:27C9: D4 07        	pei	<R1+2
 10579 06:27CB: D4 05        	pei	<R1
 10580 06:27CD: 22 35 13 06  	jsl	~~k_draw_pixel
 10581                        ;			if (b->b1 > 0)
 10582                        L10121:
 10583                        	.line	1422
 10584                        ;				k_draw_pixel(textX + 1, 
                    textY + y, color);
 10585 06:27D1: E2 20        	sep	#$20
 10586                        	longa	off
 10587 06:27D3: A7 15        	lda	[<L535+b_2]
 10588 06:27D5: 85 01        	sta	<R0
 10589 06:27D7: C2 20        	rep	#$20
 10590                        	longa	on
 10591 06:27D9: E2 20        	sep	#$20
 10592                        	longa	off
 10593 06:27DB: 46 01        	lsr	<R0
 10594 06:27DD: 46 01        	lsr	<R0
 10595 06:27DF: 46 01        	lsr	<R0
 10596 06:27E1: 46 01        	lsr	<R0
 10597 06:27E3: 46 01        	lsr	<R0
 10598 06:27E5: 46 01        	lsr	<R0
 10599 06:27E7: C2 20        	rep	#$20
 10600                        	longa	on
 10601 06:27E9: E2 20        	sep	#$20
 10602                        	longa	off
 10603 06:27EB: A5 01        	lda	<R0
 10604 06:27ED: 29 01        	and	#<$1
 10605 06:27EF: 85 01        	sta	<R0
 10606 06:27F1: C2 20        	rep	#$20
 10607                        	longa	on
 10608 06:27F3: E2 20        	sep	#$20
 10609                        	longa	off
 10610 06:27F5: A9 00        	lda	#$0
 10611 06:27F7: C5 01        	cmp	<R0
 10612 06:27F9: C2 20        	rep	#$20
 10613                        	longa	on
 10614 06:27FB: 90 03        	bcc	L560
 10615 06:27FD: 82 32 00     	brl	L10122
 10616                        L560:
 10617                        	.line	1423
 10618 06:2800: D4 26        	pei	<L534+color_0
 10619 06:2802: 18           	clc
 10620 06:2803: A5 0F        	lda	<L535+textY_1
 10621 06:2805: 65 0B        	adc	<L535+y_1
  Thu Jul 22 2021 22:51                                                Page 198


 10622 06:2807: 85 01        	sta	<R0
 10623 06:2809: A0 00 00     	ldy	#$0
 10624 06:280C: A5 01        	lda	<R0
 10625 06:280E: 10 01        	bpl	L561
 10626 06:2810: 88           	dey
 10627                        L561:
 10628 06:2811: 85 01        	sta	<R0
 10629 06:2813: 84 03        	sty	<R0+2
 10630 06:2815: D4 03        	pei	<R0+2
 10631 06:2817: D4 01        	pei	<R0
 10632 06:2819: A5 0D        	lda	<L535+textX_1
 10633 06:281B: 1A           	ina
 10634 06:281C: 85 05        	sta	<R1
 10635 06:281E: A0 00 00     	ldy	#$0
 10636 06:2821: A5 05        	lda	<R1
 10637 06:2823: 10 01        	bpl	L562
 10638 06:2825: 88           	dey
 10639                        L562:
 10640 06:2826: 85 05        	sta	<R1
 10641 06:2828: 84 07        	sty	<R1+2
 10642 06:282A: D4 07        	pei	<R1+2
 10643 06:282C: D4 05        	pei	<R1
 10644 06:282E: 22 35 13 06  	jsl	~~k_draw_pixel
 10645                        ;			if (b->b0 > 0)
 10646                        L10122:
 10647                        	.line	1424
 10648                        ;				k_draw_pixel(textX + 0, 
                    textY + y, color);
 10649 06:2832: E2 20        	sep	#$20
 10650                        	longa	off
 10651 06:2834: A7 15        	lda	[<L535+b_2]
 10652 06:2836: 85 01        	sta	<R0
 10653 06:2838: C2 20        	rep	#$20
 10654                        	longa	on
 10655 06:283A: E2 20        	sep	#$20
 10656                        	longa	off
 10657 06:283C: 46 01        	lsr	<R0
 10658 06:283E: 46 01        	lsr	<R0
 10659 06:2840: 46 01        	lsr	<R0
 10660 06:2842: 46 01        	lsr	<R0
 10661 06:2844: 46 01        	lsr	<R0
 10662 06:2846: 46 01        	lsr	<R0
 10663 06:2848: 46 01        	lsr	<R0
 10664 06:284A: C2 20        	rep	#$20
 10665                        	longa	on
 10666 06:284C: E2 20        	sep	#$20
 10667                        	longa	off
 10668 06:284E: A9 00        	lda	#$0
 10669 06:2850: C5 01        	cmp	<R0
 10670 06:2852: C2 20        	rep	#$20
 10671                        	longa	on
 10672 06:2854: 90 03        	bcc	L563
 10673 06:2856: 82 2D 00     	brl	L10123
 10674                        L563:
 10675                        	.line	1425
 10676 06:2859: D4 26        	pei	<L534+color_0
 10677 06:285B: 18           	clc
 10678 06:285C: A5 0F        	lda	<L535+textY_1
  Thu Jul 22 2021 22:51                                                Page 199


 10679 06:285E: 65 0B        	adc	<L535+y_1
 10680 06:2860: 85 01        	sta	<R0
 10681 06:2862: A0 00 00     	ldy	#$0
 10682 06:2865: A5 01        	lda	<R0
 10683 06:2867: 10 01        	bpl	L564
 10684 06:2869: 88           	dey
 10685                        L564:
 10686 06:286A: 85 01        	sta	<R0
 10687 06:286C: 84 03        	sty	<R0+2
 10688 06:286E: D4 03        	pei	<R0+2
 10689 06:2870: D4 01        	pei	<R0
 10690 06:2872: A0 00 00     	ldy	#$0
 10691 06:2875: A5 0D        	lda	<L535+textX_1
 10692 06:2877: 10 01        	bpl	L565
 10693 06:2879: 88           	dey
 10694                        L565:
 10695 06:287A: 85 05        	sta	<R1
 10696 06:287C: 84 07        	sty	<R1+2
 10697 06:287E: D4 07        	pei	<R1+2
 10698 06:2880: D4 05        	pei	<R1
 10699 06:2882: 22 35 13 06  	jsl	~~k_draw_pixel
 10700                        ;
 10701                        ;		} // end "for y"
 10702                        L10123:
 10703                        	.endblock	1427
 10704                        	.line	1427
 10705                        L10112:
 10706 06:2886: E6 0B        	inc	<L535+y_1
 10707                        L10115:
 10708 06:2888: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 10709 06:288C: 85 01        	sta	<R0
 10710 06:288E: A5 0B        	lda	<L535+y_1
 10711 06:2890: C5 01        	cmp	<R0
 10712 06:2892: B0 03        	bcs	L566
 10713 06:2894: 82 F7 FC     	brl	L10114
 10714                        L566:
 10715                        L10113:
 10716                        ;	}
 10717                        	.line	1428
 10718                        ;	return FONTW;
 10719                        L10111:
 10720                        	.line	1429
 10721 06:2897: 22 06 82 06  	jsl	~~k_font_getFontWidth
 10722                        L567:
 10723 06:289B: A8           	tay
 10724 06:289C: A5 1A        	lda	<L534+2
 10725 06:289E: 85 26        	sta	<L534+2+12
 10726 06:28A0: A5 19        	lda	<L534+1
 10727 06:28A2: 85 25        	sta	<L534+1+12
 10728 06:28A4: 2B           	pld
 10729 06:28A5: 3B           	tsc
 10730 06:28A6: 18           	clc
 10731 06:28A7: 69 24 00     	adc	#L534+12
 10732 06:28AA: 1B           	tcs
 10733 06:28AB: 98           	tya
 10734 06:28AC: 6B           	rtl
 10735                        ;}
 10736                        	.line	1430
  Thu Jul 22 2021 22:51                                                Page 200


 10737                        	.endblock	1430
 10738             00000018   L534	equ	24
 10739             00000009   L535	equ	9
 10740 06:28AD:              	ends
 10741                        	efunc
 10742                        	.endfunc	1430,9,24
 10743                        	.line	1430
 10744                        ;
 10745                        ;/*
 10746                        ;int k_put_binary_variablefont_point(LPCHAR fontSe
                    t, char outChar,int cx,int cy,int width,int height,char colo
                    r)
 10747                        ;{
 10748                        ;	int x = 0;
 10749                        ;	int y = 0;
 10750                        ;	int textX = cx;
 10751                        ;	int textY = cy;
 10752                        ;
 10753                        ;	unsigned char FAR* img = NULL;//fontImg[ix];
 10754                        ;
 10755                        ;    if(outChar == 32)
 10756                        ;	{
 10757                        ;	   img = NULL;//fontSpace;
 10758                        ;    }
 10759                        ;    else
 10760                        ;	{
 10761                        ;	    //img = &(fontSet[characterROMMapping[outCha
                    r]]);
 10762                        ;    	img = fontSet+=(height*outChar);
 10763                        ;    	//img = "\xc3\xc3\xc3\xc3\xc3\xc3\xc3\xc
                    3";//&(fontSet[outChar]);
 10764                        ;	}
 10765                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 10766                        ;
 10767                        ;	// get the font 'image'
 10768                        ;        //char *img = fontImg[ix];
 10769                        ;        // loop through pixel rows
 10770                        ;	if(img!=NULL)
 10771                        ;	{
 10772                        ;		for (y = 0; y < height; y++)
 10773                        ;		{
 10774                        ;			// get the pixel value
 10775                        ;			PBYTEBITS b = (PBYTEBITS)&(img[y
                    ]); //img[y * FONTW + x];
 10776                        ;			if (b->b7 > 0)
 10777                        ;				k_draw_pixel(textX + 7, 
                    textY + y, color);
 10778                        ;			if (b->b6 > 0)
 10779                        ;				k_draw_pixel(textX + 6, 
                    textY + y, color);
 10780                        ;			if (b->b5 > 0)
 10781                        ;				k_draw_pixel(textX + 5, 
                    textY + y, color);
 10782                        ;			if (b->b4 > 0)
 10783                        ;				k_draw_pixel(textX + 4, 
                    textY + y, color);
 10784                        ;			if (b->b3 > 0)
  Thu Jul 22 2021 22:51                                                Page 201


 10785                        ;				k_draw_pixel(textX + 3, 
                    textY + y, color);
 10786                        ;			if (b->b2 > 0)
 10787                        ;				k_draw_pixel(textX + 2, 
                    textY + y, color);
 10788                        ;			if (b->b1 > 0)
 10789                        ;				k_draw_pixel(textX + 1, 
                    textY + y, color);
 10790                        ;			if (b->b0 > 0)
 10791                        ;				k_draw_pixel(textX + 0, 
                    textY + y, color);
 10792                        ;
 10793                        ;		} // end "for y"
 10794                        ;	}
 10795                        ;	return FONTW;
 10796                        ;}
 10797                        ;*/
 10798                        ;int k_put_binary_variablefont_point(LPCHAR fontSe
                    t, char outChar,int cx,int cy,int width,int height,char colo
                    r)
 10799                        ;{
 10800                        	.line	1485
 10801                        	.line	1486
 10802                        	GFX
 10803                        	xdef	~~k_put_binary_variablefont_point
 10804                        	func
 10805                        	.function	1486
 10806                        ~~k_put_binary_variablefont_point:
 10807                        	longa	on
 10808                        	longi	on
 10809 06:28AD: 3B           	tsc
 10810 06:28AE: 38           	sec
 10811 06:28AF: E9 15 00     	sbc	#L568
 10812 06:28B2: 1B           	tcs
 10813 06:28B3: 0B           	phd
 10814 06:28B4: 5B           	tcd
 10815             00000004   fontSet_0	set	4
 10816             00000008   outChar_0	set	8
 10817             0000000A   cx_0	set	10
 10818             0000000C   cy_0	set	12
 10819             0000000E   width_0	set	14
 10820             00000010   height_0	set	16
 10821             00000012   color_0	set	18
 10822                        	.block	1486
 10823                        ;	int x = 0;
 10824                        ;	int y = 0;
 10825                        ;	int textX = cx;
 10826                        ;	int textY = cy;
 10827                        ;	char tmp;
 10828                        ;
 10829                        ;	unsigned char FAR* img = NULL;//fontImg[ix];
 10830                        ;
 10831                        ;    if(outChar == 32)
 10832             00000000   x_1	set	0
 10833             00000002   y_1	set	2
 10834             00000004   textX_1	set	4
 10835             00000006   textY_1	set	6
 10836             00000008   tmp_1	set	8
  Thu Jul 22 2021 22:51                                                Page 202


 10837             00000009   img_1	set	9
 10838                        	.sym	x,0,5,1,16
 10839                        	.sym	y,2,5,1,16
 10840                        	.sym	textX,4,5,1,16
 10841                        	.sym	textY,6,5,1,16
 10842                        	.sym	tmp,8,14,1,8
 10843                        	.sym	img,9,142,1,32
 10844                        	.sym	fontSet,4,142,6,32
 10845                        	.sym	outChar,8,14,6,8
 10846                        	.sym	cx,10,5,6,16
 10847                        	.sym	cy,12,5,6,16
 10848                        	.sym	width,14,5,6,16
 10849                        	.sym	height,16,5,6,16
 10850                        	.sym	color,18,14,6,8
 10851 06:28B5: 64 09        	stz	<L569+x_1
 10852 06:28B7: 64 0B        	stz	<L569+y_1
 10853 06:28B9: A5 1F        	lda	<L568+cx_0
 10854 06:28BB: 85 0D        	sta	<L569+textX_1
 10855 06:28BD: A5 21        	lda	<L568+cy_0
 10856 06:28BF: 85 0F        	sta	<L569+textY_1
 10857 06:28C1: 64 12        	stz	<L569+img_1
 10858 06:28C3: 64 14        	stz	<L569+img_1+2
 10859                        	.line	1495
 10860                        ;	{
 10861 06:28C5: E2 20        	sep	#$20
 10862                        	longa	off
 10863 06:28C7: A5 1D        	lda	<L568+outChar_0
 10864 06:28C9: C9 20        	cmp	#<$20
 10865 06:28CB: C2 20        	rep	#$20
 10866                        	longa	on
 10867 06:28CD: F0 03        	beq	L571
 10868 06:28CF: 82 07 00     	brl	L10124
 10869                        L571:
 10870                        	.line	1496
 10871                        ;	   img = NULL;//fontSpace;
 10872                        	.line	1497
 10873 06:28D2: 64 12        	stz	<L569+img_1
 10874 06:28D4: 64 14        	stz	<L569+img_1+2
 10875                        ;    }
 10876                        	.line	1498
 10877                        ;    else
 10878 06:28D6: 82 32 00     	brl	L10125
 10879                        L10124:
 10880                        ;	{
 10881                        	.line	1500
 10882                        ;	    //img = &(fontSet[characterROMMapping[outCha
                    r]]);
 10883                        ;    	img = fontSet+=(height*outChar);
 10884                        	.line	1502
 10885 06:28D9: A5 1D        	lda	<L568+outChar_0
 10886 06:28DB: 29 FF 00     	and	#$ff
 10887 06:28DE: 85 01        	sta	<R0
 10888 06:28E0: A5 01        	lda	<R0
 10889 06:28E2: A6 25        	ldx	<L568+height_0
 10890                        	xref	~~~mul
 10891 06:28E4: 22 xx xx xx  	jsl	~~~mul
 10892 06:28E8: 85 01        	sta	<R0
 10893 06:28EA: A0 00 00     	ldy	#$0
  Thu Jul 22 2021 22:51                                                Page 203


 10894 06:28ED: A5 01        	lda	<R0
 10895 06:28EF: 10 01        	bpl	L572
 10896 06:28F1: 88           	dey
 10897                        L572:
 10898 06:28F2: 85 01        	sta	<R0
 10899 06:28F4: 84 03        	sty	<R0+2
 10900 06:28F6: 18           	clc
 10901 06:28F7: A5 19        	lda	<L568+fontSet_0
 10902 06:28F9: 65 01        	adc	<R0
 10903 06:28FB: 85 19        	sta	<L568+fontSet_0
 10904 06:28FD: A5 1B        	lda	<L568+fontSet_0+2
 10905 06:28FF: 65 03        	adc	<R0+2
 10906 06:2901: 85 1B        	sta	<L568+fontSet_0+2
 10907 06:2903: A5 19        	lda	<L568+fontSet_0
 10908 06:2905: 85 12        	sta	<L569+img_1
 10909 06:2907: A5 1B        	lda	<L568+fontSet_0+2
 10910 06:2909: 85 14        	sta	<L569+img_1+2
 10911                        ;    	//img = "\xc3\xc3\xc3\xc3\xc3\xc3\xc3\xc
                    3";//&(fontSet[outChar]);
 10912                        ;	}
 10913                        	.line	1504
 10914                        L10125:
 10915                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 10916                        ;
 10917                        ;	// get the font 'image'
 10918                        ;        //char *img = fontImg[ix];
 10919                        ;        // loop through pixel rows
 10920                        ;	if(img!=NULL)
 10921                        	.line	1510
 10922                        ;	{
 10923 06:290B: A5 12        	lda	<L569+img_1
 10924 06:290D: 05 14        	ora	<L569+img_1+2
 10925 06:290F: D0 03        	bne	L573
 10926 06:2911: 82 7D 00     	brl	L10126
 10927                        L573:
 10928                        	.line	1511
 10929                        ;		for (y = 0; y < height; y++)
 10930                        	.line	1512
 10931 06:2914: 64 0B        	stz	<L569+y_1
 10932 06:2916: 82 69 00     	brl	L10130
 10933                        L10129:
 10934                        ;		{
 10935                        	.line	1513
 10936                        ;			tmp = img[y];
 10937                        	.line	1514
 10938 06:2919: E2 20        	sep	#$20
 10939                        	longa	off
 10940 06:291B: A4 0B        	ldy	<L569+y_1
 10941 06:291D: B7 12        	lda	[<L569+img_1],Y
 10942 06:291F: 85 11        	sta	<L569+tmp_1
 10943 06:2921: C2 20        	rep	#$20
 10944                        	longa	on
 10945                        ;
 10946                        ;			for (x = 0; x < width; x++)
 10947                        	.line	1516
 10948 06:2923: 64 09        	stz	<L569+x_1
 10949 06:2925: 82 49 00     	brl	L10134
  Thu Jul 22 2021 22:51                                                Page 204


 10950                        L10133:
 10951                        ;			{
 10952                        	.line	1517
 10953                        ;				if(tmp & 0x80 )
 10954                        	.line	1518
 10955                        ;					k_draw_pixel(tex
                    tX + x, textY + y, color);
 10956 06:2928: E2 20        	sep	#$20
 10957                        	longa	off
 10958 06:292A: A5 11        	lda	<L569+tmp_1
 10959 06:292C: 29 80        	and	#<$80
 10960 06:292E: C2 20        	rep	#$20
 10961                        	longa	on
 10962 06:2930: D0 03        	bne	L574
 10963 06:2932: 82 34 00     	brl	L10135
 10964                        L574:
 10965                        	.line	1519
 10966 06:2935: D4 27        	pei	<L568+color_0
 10967 06:2937: 18           	clc
 10968 06:2938: A5 0F        	lda	<L569+textY_1
 10969 06:293A: 65 0B        	adc	<L569+y_1
 10970 06:293C: 85 01        	sta	<R0
 10971 06:293E: A0 00 00     	ldy	#$0
 10972 06:2941: A5 01        	lda	<R0
 10973 06:2943: 10 01        	bpl	L575
 10974 06:2945: 88           	dey
 10975                        L575:
 10976 06:2946: 85 01        	sta	<R0
 10977 06:2948: 84 03        	sty	<R0+2
 10978 06:294A: D4 03        	pei	<R0+2
 10979 06:294C: D4 01        	pei	<R0
 10980 06:294E: 18           	clc
 10981 06:294F: A5 0D        	lda	<L569+textX_1
 10982 06:2951: 65 09        	adc	<L569+x_1
 10983 06:2953: 85 05        	sta	<R1
 10984 06:2955: A0 00 00     	ldy	#$0
 10985 06:2958: A5 05        	lda	<R1
 10986 06:295A: 10 01        	bpl	L576
 10987 06:295C: 88           	dey
 10988                        L576:
 10989 06:295D: 85 05        	sta	<R1
 10990 06:295F: 84 07        	sty	<R1+2
 10991 06:2961: D4 07        	pei	<R1+2
 10992 06:2963: D4 05        	pei	<R1
 10993 06:2965: 22 35 13 06  	jsl	~~k_draw_pixel
 10994                        ;
 10995                        ;				tmp = tmp << 1;
 10996                        L10135:
 10997                        	.line	1521
 10998 06:2969: E2 20        	sep	#$20
 10999                        	longa	off
 11000 06:296B: 06 11        	asl	<L569+tmp_1
 11001 06:296D: C2 20        	rep	#$20
 11002                        	longa	on
 11003                        ;			}
 11004                        	.line	1522
 11005                        L10131:
 11006 06:296F: E6 09        	inc	<L569+x_1
  Thu Jul 22 2021 22:51                                                Page 205


 11007                        L10134:
 11008 06:2971: 38           	sec
 11009 06:2972: A5 09        	lda	<L569+x_1
 11010 06:2974: E5 23        	sbc	<L568+width_0
 11011 06:2976: 70 03        	bvs	L577
 11012 06:2978: 49 00 80     	eor	#$8000
 11013                        L577:
 11014 06:297B: 30 03        	bmi	L578
 11015 06:297D: 82 A8 FF     	brl	L10133
 11016                        L578:
 11017                        L10132:
 11018                        ;			// get the pixel value
 11019                        ;			/*
 11020                        ;			PBYTEBITS b = (PBYTEBITS)&(img[y
                    ]); //img[y * FONTW + x];
 11021                        ;			if (b->b7 > 0)
 11022                        ;				k_draw_pixel(textX + 7, 
                    textY + y, color);
 11023                        ;			if (b->b6 > 0)
 11024                        ;				k_draw_pixel(textX + 6, 
                    textY + y, color);
 11025                        ;			if (b->b5 > 0)
 11026                        ;				k_draw_pixel(textX + 5, 
                    textY + y, color);
 11027                        ;			if (b->b4 > 0)
 11028                        ;				k_draw_pixel(textX + 4, 
                    textY + y, color);
 11029                        ;			if (b->b3 > 0)
 11030                        ;				k_draw_pixel(textX + 3, 
                    textY + y, color);
 11031                        ;			if (b->b2 > 0)
 11032                        ;				k_draw_pixel(textX + 2, 
                    textY + y, color);
 11033                        ;			if (b->b1 > 0)
 11034                        ;				k_draw_pixel(textX + 1, 
                    textY + y, color);
 11035                        ;			if (b->b0 > 0)
 11036                        ;				k_draw_pixel(textX + 0, 
                    textY + y, color);
 11037                        ;			*/
 11038                        ;		} // end "for y"
 11039                        	.line	1543
 11040                        L10127:
 11041 06:2980: E6 0B        	inc	<L569+y_1
 11042                        L10130:
 11043 06:2982: 38           	sec
 11044 06:2983: A5 0B        	lda	<L569+y_1
 11045 06:2985: E5 25        	sbc	<L568+height_0
 11046 06:2987: 70 03        	bvs	L579
 11047 06:2989: 49 00 80     	eor	#$8000
 11048                        L579:
 11049 06:298C: 30 03        	bmi	L580
 11050 06:298E: 82 88 FF     	brl	L10129
 11051                        L580:
 11052                        L10128:
 11053                        ;	}
 11054                        	.line	1544
 11055                        ;	return FONTW;
  Thu Jul 22 2021 22:51                                                Page 206


 11056                        L10126:
 11057                        	.line	1545
 11058 06:2991: 22 06 82 06  	jsl	~~k_font_getFontWidth
 11059                        L581:
 11060 06:2995: A8           	tay
 11061 06:2996: A5 17        	lda	<L568+2
 11062 06:2998: 85 27        	sta	<L568+2+16
 11063 06:299A: A5 16        	lda	<L568+1
 11064 06:299C: 85 26        	sta	<L568+1+16
 11065 06:299E: 2B           	pld
 11066 06:299F: 3B           	tsc
 11067 06:29A0: 18           	clc
 11068 06:29A1: 69 25 00     	adc	#L568+16
 11069 06:29A4: 1B           	tcs
 11070 06:29A5: 98           	tya
 11071 06:29A6: 6B           	rtl
 11072                        ;}
 11073                        	.line	1546
 11074                        	.endblock	1546
 11075             00000015   L568	equ	21
 11076             00000009   L569	equ	9
 11077 06:29A7:              	ends
 11078                        	efunc
 11079                        	.endfunc	1546,9,21
 11080                        	.line	1546
 11081                        ;
 11082                        ;
 11083                        ;int k_put_binary_variablefont_point_ex(LPCHAR fon
                    tSet, char outChar,int cx,int cy,int width,int height,char c
                    olor,UINT page)
 11084                        ;{
 11085                        	.line	1549
 11086                        	.line	1550
 11087                        	GFX
 11088                        	xdef	~~k_put_binary_variablefont_point_ex
 11089                        	func
 11090                        	.function	1550
 11091                        ~~k_put_binary_variablefont_point_ex:
 11092                        	longa	on
 11093                        	longi	on
 11094 06:29A7: 3B           	tsc
 11095 06:29A8: 38           	sec
 11096 06:29A9: E9 15 00     	sbc	#L582
 11097 06:29AC: 1B           	tcs
 11098 06:29AD: 0B           	phd
 11099 06:29AE: 5B           	tcd
 11100             00000004   fontSet_0	set	4
 11101             00000008   outChar_0	set	8
 11102             0000000A   cx_0	set	10
 11103             0000000C   cy_0	set	12
 11104             0000000E   width_0	set	14
 11105             00000010   height_0	set	16
 11106             00000012   color_0	set	18
 11107             00000014   page_0	set	20
 11108                        	.block	1550
 11109                        ;	int x = 0;
 11110                        ;	int y = 0;
 11111                        ;	int textX = cx;
  Thu Jul 22 2021 22:51                                                Page 207


 11112                        ;	int textY = cy;
 11113                        ;	char tmp;
 11114                        ;
 11115                        ;	unsigned char FAR* img = NULL;//fontImg[ix];
 11116                        ;
 11117                        ;    if(outChar == 32)
 11118             00000000   x_1	set	0
 11119             00000002   y_1	set	2
 11120             00000004   textX_1	set	4
 11121             00000006   textY_1	set	6
 11122             00000008   tmp_1	set	8
 11123             00000009   img_1	set	9
 11124                        	.sym	x,0,5,1,16
 11125                        	.sym	y,2,5,1,16
 11126                        	.sym	textX,4,5,1,16
 11127                        	.sym	textY,6,5,1,16
 11128                        	.sym	tmp,8,14,1,8
 11129                        	.sym	img,9,142,1,32
 11130                        	.sym	fontSet,4,142,6,32
 11131                        	.sym	outChar,8,14,6,8
 11132                        	.sym	cx,10,5,6,16
 11133                        	.sym	cy,12,5,6,16
 11134                        	.sym	width,14,5,6,16
 11135                        	.sym	height,16,5,6,16
 11136                        	.sym	color,18,14,6,8
 11137                        	.sym	page,20,16,6,16
 11138 06:29AF: 64 09        	stz	<L583+x_1
 11139 06:29B1: 64 0B        	stz	<L583+y_1
 11140 06:29B3: A5 1F        	lda	<L582+cx_0
 11141 06:29B5: 85 0D        	sta	<L583+textX_1
 11142 06:29B7: A5 21        	lda	<L582+cy_0
 11143 06:29B9: 85 0F        	sta	<L583+textY_1
 11144 06:29BB: 64 12        	stz	<L583+img_1
 11145 06:29BD: 64 14        	stz	<L583+img_1+2
 11146                        	.line	1559
 11147                        ;	{
 11148 06:29BF: E2 20        	sep	#$20
 11149                        	longa	off
 11150 06:29C1: A5 1D        	lda	<L582+outChar_0
 11151 06:29C3: C9 20        	cmp	#<$20
 11152 06:29C5: C2 20        	rep	#$20
 11153                        	longa	on
 11154 06:29C7: F0 03        	beq	L585
 11155 06:29C9: 82 07 00     	brl	L10136
 11156                        L585:
 11157                        	.line	1560
 11158                        ;	   img = NULL;//fontSpace;
 11159                        	.line	1561
 11160 06:29CC: 64 12        	stz	<L583+img_1
 11161 06:29CE: 64 14        	stz	<L583+img_1+2
 11162                        ;    }
 11163                        	.line	1562
 11164                        ;    else if(outChar <= 0x0A)
 11165 06:29D0: 82 3E 00     	brl	L10137
 11166                        L10136:
 11167                        	.line	1563
 11168                        ;	{
 11169 06:29D3: E2 20        	sep	#$20
  Thu Jul 22 2021 22:51                                                Page 208


 11170                        	longa	off
 11171 06:29D5: A9 0A        	lda	#$a
 11172 06:29D7: C5 1D        	cmp	<L582+outChar_0
 11173 06:29D9: C2 20        	rep	#$20
 11174                        	longa	on
 11175 06:29DB: B0 03        	bcs	L586
 11176 06:29DD: 82 07 00     	brl	L10138
 11177                        L586:
 11178                        	.line	1564
 11179                        ;	   img = NULL;
 11180                        	.line	1565
 11181 06:29E0: 64 12        	stz	<L583+img_1
 11182 06:29E2: 64 14        	stz	<L583+img_1+2
 11183                        ;    }
 11184                        	.line	1566
 11185                        ;
 11186                        ;    else
 11187 06:29E4: 82 2A 00     	brl	L10139
 11188                        L10138:
 11189                        ;	{
 11190                        	.line	1569
 11191                        ;    	//img = fontSet+=(height*outChar);
 11192                        ;    	img = &fontSet[(height*outChar)];
 11193                        	.line	1571
 11194 06:29E7: A5 1D        	lda	<L582+outChar_0
 11195 06:29E9: 29 FF 00     	and	#$ff
 11196 06:29EC: 85 01        	sta	<R0
 11197 06:29EE: A5 01        	lda	<R0
 11198 06:29F0: A6 25        	ldx	<L582+height_0
 11199                        	xref	~~~mul
 11200 06:29F2: 22 xx xx xx  	jsl	~~~mul
 11201 06:29F6: 85 01        	sta	<R0
 11202 06:29F8: A0 00 00     	ldy	#$0
 11203 06:29FB: A5 01        	lda	<R0
 11204 06:29FD: 10 01        	bpl	L587
 11205 06:29FF: 88           	dey
 11206                        L587:
 11207 06:2A00: 85 01        	sta	<R0
 11208 06:2A02: 84 03        	sty	<R0+2
 11209 06:2A04: 18           	clc
 11210 06:2A05: A5 19        	lda	<L582+fontSet_0
 11211 06:2A07: 65 01        	adc	<R0
 11212 06:2A09: 85 12        	sta	<L583+img_1
 11213 06:2A0B: A5 1B        	lda	<L582+fontSet_0+2
 11214 06:2A0D: 65 03        	adc	<R0+2
 11215 06:2A0F: 85 14        	sta	<L583+img_1+2
 11216                        ;	}
 11217                        	.line	1572
 11218                        L10139:
 11219                        L10137:
 11220                        ;
 11221                        ;    if(img!=NULL)
 11222                        	.line	1574
 11223                        ;	{
 11224 06:2A11: A5 12        	lda	<L583+img_1
 11225 06:2A13: 05 14        	ora	<L583+img_1+2
 11226 06:2A15: D0 03        	bne	L588
 11227 06:2A17: 82 C8 00     	brl	L10140
  Thu Jul 22 2021 22:51                                                Page 209


 11228                        L588:
 11229                        	.line	1575
 11230                        ;		for (y = 0; y < height; y++)
 11231                        	.line	1576
 11232 06:2A1A: 64 0B        	stz	<L583+y_1
 11233 06:2A1C: 82 B4 00     	brl	L10144
 11234                        L10143:
 11235                        ;		{
 11236                        	.line	1577
 11237                        ;			tmp = img[y];
 11238                        	.line	1578
 11239 06:2A1F: E2 20        	sep	#$20
 11240                        	longa	off
 11241 06:2A21: A4 0B        	ldy	<L583+y_1
 11242 06:2A23: B7 12        	lda	[<L583+img_1],Y
 11243 06:2A25: 85 11        	sta	<L583+tmp_1
 11244 06:2A27: C2 20        	rep	#$20
 11245                        	longa	on
 11246                        ;
 11247                        ;			for (x = 0; x < width; x++)
 11248                        	.line	1580
 11249 06:2A29: 64 09        	stz	<L583+x_1
 11250 06:2A2B: 82 94 00     	brl	L10148
 11251                        L10147:
 11252                        ;			{
 11253                        	.line	1581
 11254                        ;				if(tmp & 0x80 )
 11255                        	.line	1582
 11256                        ;				{
 11257 06:2A2E: E2 20        	sep	#$20
 11258                        	longa	off
 11259 06:2A30: A5 11        	lda	<L583+tmp_1
 11260 06:2A32: 29 80        	and	#<$80
 11261 06:2A34: C2 20        	rep	#$20
 11262                        	longa	on
 11263 06:2A36: D0 03        	bne	L589
 11264 06:2A38: 82 7F 00     	brl	L10149
 11265                        L589:
 11266                        	.line	1583
 11267                        ;
 11268                        ;					switch(page)
 11269                        	.line	1585
 11270 06:2A3B: A5 29        	lda	<L582+page_0
 11271 06:2A3D: 82 6E 00     	brl	L10150
 11272                        ;					{
 11273                        	.line	1586
 11274                        ;					case BITMAP_BACK
                    :
 11275                        	.line	1587
 11276                        L10152:
 11277                        ;						k_draw_p
                    ixel_back(textX + x, textY + y,color);
 11278                        	.line	1588
 11279 06:2A40: D4 27        	pei	<L582+color_0
 11280 06:2A42: 18           	clc
 11281 06:2A43: A5 0F        	lda	<L583+textY_1
 11282 06:2A45: 65 0B        	adc	<L583+y_1
 11283 06:2A47: 85 01        	sta	<R0
  Thu Jul 22 2021 22:51                                                Page 210


 11284 06:2A49: A0 00 00     	ldy	#$0
 11285 06:2A4C: A5 01        	lda	<R0
 11286 06:2A4E: 10 01        	bpl	L590
 11287 06:2A50: 88           	dey
 11288                        L590:
 11289 06:2A51: 85 01        	sta	<R0
 11290 06:2A53: 84 03        	sty	<R0+2
 11291 06:2A55: D4 03        	pei	<R0+2
 11292 06:2A57: D4 01        	pei	<R0
 11293 06:2A59: 18           	clc
 11294 06:2A5A: A5 0D        	lda	<L583+textX_1
 11295 06:2A5C: 65 09        	adc	<L583+x_1
 11296 06:2A5E: 85 05        	sta	<R1
 11297 06:2A60: A0 00 00     	ldy	#$0
 11298 06:2A63: A5 05        	lda	<R1
 11299 06:2A65: 10 01        	bpl	L591
 11300 06:2A67: 88           	dey
 11301                        L591:
 11302 06:2A68: 85 05        	sta	<R1
 11303 06:2A6A: 84 07        	sty	<R1+2
 11304 06:2A6C: D4 07        	pei	<R1+2
 11305 06:2A6E: D4 05        	pei	<R1
 11306 06:2A70: 22 41 14 06  	jsl	~~k_draw_pixel_back
 11307                        ;						break;
 11308                        	.line	1589
 11309 06:2A74: 82 43 00     	brl	L10151
 11310                        ;					default:
 11311                        	.line	1590
 11312                        L10153:
 11313                        ;						k_draw_p
                    ixel_front(textX + x, textY + y,color);
 11314                        	.line	1591
 11315 06:2A77: D4 27        	pei	<L582+color_0
 11316 06:2A79: 18           	clc
 11317 06:2A7A: A5 0F        	lda	<L583+textY_1
 11318 06:2A7C: 65 0B        	adc	<L583+y_1
 11319 06:2A7E: 85 01        	sta	<R0
 11320 06:2A80: A0 00 00     	ldy	#$0
 11321 06:2A83: A5 01        	lda	<R0
 11322 06:2A85: 10 01        	bpl	L592
 11323 06:2A87: 88           	dey
 11324                        L592:
 11325 06:2A88: 85 01        	sta	<R0
 11326 06:2A8A: 84 03        	sty	<R0+2
 11327 06:2A8C: D4 03        	pei	<R0+2
 11328 06:2A8E: D4 01        	pei	<R0
 11329 06:2A90: 18           	clc
 11330 06:2A91: A5 0D        	lda	<L583+textX_1
 11331 06:2A93: 65 09        	adc	<L583+x_1
 11332 06:2A95: 85 05        	sta	<R1
 11333 06:2A97: A0 00 00     	ldy	#$0
 11334 06:2A9A: A5 05        	lda	<R1
 11335 06:2A9C: 10 01        	bpl	L593
 11336 06:2A9E: 88           	dey
 11337                        L593:
 11338 06:2A9F: 85 05        	sta	<R1
 11339 06:2AA1: 84 07        	sty	<R1+2
 11340 06:2AA3: D4 07        	pei	<R1+2
  Thu Jul 22 2021 22:51                                                Page 211


 11341 06:2AA5: D4 05        	pei	<R1
 11342 06:2AA7: 22 BB 13 06  	jsl	~~k_draw_pixel_front
 11343                        ;					}
 11344                        	.line	1592
 11345 06:2AAB: 82 0C 00     	brl	L10151
 11346                        L10150:
 11347                        	xref	~~~swt
 11348 06:2AAE: 22 xx xx xx  	jsl	~~~swt
 11349 06:2AB2: 01 00        	dw	1
 11350 06:2AB4: 08 00        	dw	8
 11351 06:2AB6: 3F 2A        	dw	L10152-1
 11352 06:2AB8: 76 2A        	dw	L10153-1
 11353                        L10151:
 11354                        ;					/*
 11355                        ;					//k_draw_pixel_e
                    x(textX + x, textY + y, color, page);
 11356                        ;					if(page)
 11357                        ;						k_draw_p
                    ixel_back(textX + x, textY + y, color);
 11358                        ;					else
 11359                        ;						k_draw_p
                    ixel_front(textX + x, textY + y, color);
 11360                        ;						*/
 11361                        ;				}
 11362                        	.line	1600
 11363                        ;				tmp = tmp << 1;
 11364                        L10149:
 11365                        	.line	1601
 11366 06:2ABA: E2 20        	sep	#$20
 11367                        	longa	off
 11368 06:2ABC: 06 11        	asl	<L583+tmp_1
 11369 06:2ABE: C2 20        	rep	#$20
 11370                        	longa	on
 11371                        ;			}
 11372                        	.line	1602
 11373                        L10145:
 11374 06:2AC0: E6 09        	inc	<L583+x_1
 11375                        L10148:
 11376 06:2AC2: 38           	sec
 11377 06:2AC3: A5 09        	lda	<L583+x_1
 11378 06:2AC5: E5 23        	sbc	<L582+width_0
 11379 06:2AC7: 70 03        	bvs	L594
 11380 06:2AC9: 49 00 80     	eor	#$8000
 11381                        L594:
 11382 06:2ACC: 30 03        	bmi	L595
 11383 06:2ACE: 82 5D FF     	brl	L10147
 11384                        L595:
 11385                        L10146:
 11386                        ;		} // end "for y"
 11387                        	.line	1603
 11388                        L10141:
 11389 06:2AD1: E6 0B        	inc	<L583+y_1
 11390                        L10144:
 11391 06:2AD3: 38           	sec
 11392 06:2AD4: A5 0B        	lda	<L583+y_1
 11393 06:2AD6: E5 25        	sbc	<L582+height_0
 11394 06:2AD8: 70 03        	bvs	L596
 11395 06:2ADA: 49 00 80     	eor	#$8000
  Thu Jul 22 2021 22:51                                                Page 212


 11396                        L596:
 11397 06:2ADD: 30 03        	bmi	L597
 11398 06:2ADF: 82 3D FF     	brl	L10143
 11399                        L597:
 11400                        L10142:
 11401                        ;	}
 11402                        	.line	1604
 11403                        ;	return FONTW;
 11404                        L10140:
 11405                        	.line	1605
 11406 06:2AE2: 22 06 82 06  	jsl	~~k_font_getFontWidth
 11407                        L598:
 11408 06:2AE6: A8           	tay
 11409 06:2AE7: A5 17        	lda	<L582+2
 11410 06:2AE9: 85 29        	sta	<L582+2+18
 11411 06:2AEB: A5 16        	lda	<L582+1
 11412 06:2AED: 85 28        	sta	<L582+1+18
 11413 06:2AEF: 2B           	pld
 11414 06:2AF0: 3B           	tsc
 11415 06:2AF1: 18           	clc
 11416 06:2AF2: 69 27 00     	adc	#L582+18
 11417 06:2AF5: 1B           	tcs
 11418 06:2AF6: 98           	tya
 11419 06:2AF7: 6B           	rtl
 11420                        ;}
 11421                        	.line	1606
 11422                        	.endblock	1606
 11423             00000015   L582	equ	21
 11424             00000009   L583	equ	9
 11425 06:2AF8:              	ends
 11426                        	efunc
 11427                        	.endfunc	1606,9,21
 11428                        	.line	1606
 11429                        ;
 11430                        ;/*
 11431                        ;int k_render_wingadget(char gadgetCode,int cx,int
                     cy,char color,OBJECTCLICKED callback)
 11432                        ;{
 11433                        ;	PCLICKDETECTED pcd = NULL;
 11434                        ;
 11435                        ;	int retCode = 0;
 11436                        ;
 11437                        ;	k_put_wingadget_point(gadgetCode,cx,cy,color);
 11438                        ;
 11439                        ;	pcd = k_mem_allocate_heap(sizeof(CLICKDETECTED))
                    ;
 11440                        ;	if(pcd)
 11441                        ;	{
 11442                        ;		pcd->window  = k_create_ui_window_class(
                    cx,cy,FONTH,FONTW,"disk","gadget",NULL);
 11443                        ;		pcd->handler = callback;
 11444                        ;		k_add_window_hit_node(pcd);
 11445                        ;	}
 11446                        ;
 11447                        ;	return retCode;
 11448                        ;}
 11449                        ;*/
 11450                        ;
  Thu Jul 22 2021 22:51                                                Page 213


 11451                        ;
 11452                        ;int k_put_wingadget_point(char gadgetCode,int cx,
                    int cy,char color)
 11453                        ;{
 11454                        	.line	1630
 11455                        	.line	1631
 11456                        	GFX
 11457                        	xdef	~~k_put_wingadget_point
 11458                        	func
 11459                        	.function	1631
 11460                        ~~k_put_wingadget_point:
 11461                        	longa	on
 11462                        	longi	on
 11463 06:2AF8: 3B           	tsc
 11464 06:2AF9: 38           	sec
 11465 06:2AFA: E9 15 00     	sbc	#L599
 11466 06:2AFD: 1B           	tcs
 11467 06:2AFE: 0B           	phd
 11468 06:2AFF: 5B           	tcd
 11469             00000004   gadgetCode_0	set	4
 11470             00000006   cx_0	set	6
 11471             00000008   cy_0	set	8
 11472             0000000A   color_0	set	10
 11473                        	.block	1631
 11474                        ;	int x = 0;
 11475                        ;	int y = 0;
 11476                        ;	int textX = cx;
 11477                        ;	int textY = cy;
 11478                        ;
 11479                        ;	char FAR* img = NULL;//fontImg[ix];
 11480                        ;
 11481                        ;
 11482                        ;    img = windowChromeImg[(int)(gadgetCode & 0xFF
                    )];
 11483             00000000   x_1	set	0
 11484             00000002   y_1	set	2
 11485             00000004   textX_1	set	4
 11486             00000006   textY_1	set	6
 11487             00000008   img_1	set	8
 11488                        	.sym	x,0,5,1,16
 11489                        	.sym	y,2,5,1,16
 11490                        	.sym	textX,4,5,1,16
 11491                        	.sym	textY,6,5,1,16
 11492                        	.sym	img,8,142,1,32
 11493                        	.sym	gadgetCode,4,14,6,8
 11494                        	.sym	cx,6,5,6,16
 11495                        	.sym	cy,8,5,6,16
 11496                        	.sym	color,10,14,6,8
 11497 06:2B00: 64 09        	stz	<L600+x_1
 11498 06:2B02: 64 0B        	stz	<L600+y_1
 11499 06:2B04: A5 1B        	lda	<L599+cx_0
 11500 06:2B06: 85 0D        	sta	<L600+textX_1
 11501 06:2B08: A5 1D        	lda	<L599+cy_0
 11502 06:2B0A: 85 0F        	sta	<L600+textY_1
 11503 06:2B0C: 64 11        	stz	<L600+img_1
 11504 06:2B0E: 64 13        	stz	<L600+img_1+2
 11505                        	.line	1640
 11506 06:2B10: A5 19        	lda	<L599+gadgetCode_0
  Thu Jul 22 2021 22:51                                                Page 214


 11507 06:2B12: 29 FF 00     	and	#<$ff
 11508 06:2B15: 85 05        	sta	<R1
 11509 06:2B17: A0 00 00     	ldy	#$0
 11510 06:2B1A: A5 05        	lda	<R1
 11511 06:2B1C: 10 01        	bpl	L602
 11512 06:2B1E: 88           	dey
 11513                        L602:
 11514 06:2B1F: 85 05        	sta	<R1
 11515 06:2B21: 84 07        	sty	<R1+2
 11516 06:2B23: D4 07        	pei	<R1+2
 11517 06:2B25: D4 05        	pei	<R1
 11518 06:2B27: A9 06 00     	lda	#$6
 11519                        	xref	~~~lasl
 11520 06:2B2A: 22 xx xx xx  	jsl	~~~lasl
 11521 06:2B2E: 85 01        	sta	<R0
 11522 06:2B30: 86 03        	stx	<R0+2
 11523 06:2B32: 18           	clc
 11524 06:2B33: A9 xx xx     	lda	#<~~windowChromeImg
 11525 06:2B36: 65 01        	adc	<R0
 11526 06:2B38: 85 11        	sta	<L600+img_1
 11527 06:2B3A: A9 xx xx     	lda	#^~~windowChromeImg
 11528 06:2B3D: 65 03        	adc	<R0+2
 11529 06:2B3F: 85 13        	sta	<L600+img_1+2
 11530                        ;	if(img!=NULL)
 11531                        	.line	1641
 11532                        ;	{
 11533 06:2B41: A5 11        	lda	<L600+img_1
 11534 06:2B43: 05 13        	ora	<L600+img_1+2
 11535 06:2B45: D0 03        	bne	L603
 11536 06:2B47: 82 91 00     	brl	L10154
 11537                        L603:
 11538                        	.line	1642
 11539                        ;		for (y = 0; y < FONTH; y++) 
 11540                        	.line	1643
 11541 06:2B4A: 64 0B        	stz	<L600+y_1
 11542 06:2B4C: 82 7D 00     	brl	L10158
 11543                        L10157:
 11544                        ;		{
 11545                        	.line	1644
 11546                        ;			// loop through pixel columns
 11547                        ;			for (x = 0; x < FONTW; x++) 
 11548                        	.line	1646
 11549 06:2B4F: 64 09        	stz	<L600+x_1
 11550 06:2B51: 82 67 00     	brl	L10162
 11551                        L10161:
 11552                        ;			{
 11553                        	.line	1647
 11554                        ;				// get the pixel value
 11555                        ;				char b = img[y * FONTW +
                     x];
 11556                        ;				if (b > 0) 
 11557                        	.block	1650
 11558             0000000C   b_2	set	12
 11559                        	.sym	b,12,14,1,8
 11560 06:2B54: 22 06 82 06  	jsl	~~k_font_getFontWidth
 11561 06:2B58: 85 01        	sta	<R0
 11562 06:2B5A: A5 01        	lda	<R0
 11563 06:2B5C: A6 0B        	ldx	<L600+y_1
  Thu Jul 22 2021 22:51                                                Page 215


 11564                        	xref	~~~mul
 11565 06:2B5E: 22 xx xx xx  	jsl	~~~mul
 11566 06:2B62: 85 01        	sta	<R0
 11567 06:2B64: 18           	clc
 11568 06:2B65: A5 01        	lda	<R0
 11569 06:2B67: 65 09        	adc	<L600+x_1
 11570 06:2B69: 85 05        	sta	<R1
 11571 06:2B6B: E2 20        	sep	#$20
 11572                        	longa	off
 11573 06:2B6D: A4 05        	ldy	<R1
 11574 06:2B6F: B7 11        	lda	[<L600+img_1],Y
 11575 06:2B71: 85 15        	sta	<L600+b_2
 11576 06:2B73: C2 20        	rep	#$20
 11577                        	longa	on
 11578                        	.line	1650
 11579                        ;				{ // plot the pixel
 11580 06:2B75: E2 20        	sep	#$20
 11581                        	longa	off
 11582 06:2B77: A9 00        	lda	#$0
 11583 06:2B79: C5 15        	cmp	<L600+b_2
 11584 06:2B7B: C2 20        	rep	#$20
 11585                        	longa	on
 11586 06:2B7D: 90 03        	bcc	L605
 11587 06:2B7F: 82 37 00     	brl	L10163
 11588                        L605:
 11589                        	.line	1651
 11590                        ;					k_draw_pixel(tex
                    tX + x, textY + y, color);
 11591                        	.line	1652
 11592 06:2B82: D4 1F        	pei	<L599+color_0
 11593 06:2B84: 18           	clc
 11594 06:2B85: A5 0F        	lda	<L600+textY_1
 11595 06:2B87: 65 0B        	adc	<L600+y_1
 11596 06:2B89: 85 01        	sta	<R0
 11597 06:2B8B: A0 00 00     	ldy	#$0
 11598 06:2B8E: A5 01        	lda	<R0
 11599 06:2B90: 10 01        	bpl	L606
 11600 06:2B92: 88           	dey
 11601                        L606:
 11602 06:2B93: 85 01        	sta	<R0
 11603 06:2B95: 84 03        	sty	<R0+2
 11604 06:2B97: D4 03        	pei	<R0+2
 11605 06:2B99: D4 01        	pei	<R0
 11606 06:2B9B: 18           	clc
 11607 06:2B9C: A5 0D        	lda	<L600+textX_1
 11608 06:2B9E: 65 09        	adc	<L600+x_1
 11609 06:2BA0: 85 05        	sta	<R1
 11610 06:2BA2: A0 00 00     	ldy	#$0
 11611 06:2BA5: A5 05        	lda	<R1
 11612 06:2BA7: 10 01        	bpl	L607
 11613 06:2BA9: 88           	dey
 11614                        L607:
 11615 06:2BAA: 85 05        	sta	<R1
 11616 06:2BAC: 84 07        	sty	<R1+2
 11617 06:2BAE: D4 07        	pei	<R1+2
 11618 06:2BB0: D4 05        	pei	<R1
 11619 06:2BB2: 22 35 13 06  	jsl	~~k_draw_pixel
 11620                        ;				}
  Thu Jul 22 2021 22:51                                                Page 216


 11621                        	.line	1653
 11622                        ;				else 
 11623 06:2BB6: 82 00 00     	brl	L10164
 11624                        L10163:
 11625                        ;				{ 
 11626                        	.line	1655
 11627                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 11628                        ;				}
 11629                        	.line	1657
 11630                        L10164:
 11631                        ;			} // end "for x"
 11632                        	.endblock	1658
 11633                        	.line	1658
 11634                        L10159:
 11635 06:2BB9: E6 09        	inc	<L600+x_1
 11636                        L10162:
 11637 06:2BBB: 22 06 82 06  	jsl	~~k_font_getFontWidth
 11638 06:2BBF: 85 01        	sta	<R0
 11639 06:2BC1: A5 09        	lda	<L600+x_1
 11640 06:2BC3: C5 01        	cmp	<R0
 11641 06:2BC5: B0 03        	bcs	L608
 11642 06:2BC7: 82 8A FF     	brl	L10161
 11643                        L608:
 11644                        L10160:
 11645                        ;		} // end "for y"
 11646                        	.line	1659
 11647                        L10155:
 11648 06:2BCA: E6 0B        	inc	<L600+y_1
 11649                        L10158:
 11650 06:2BCC: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 11651 06:2BD0: 85 01        	sta	<R0
 11652 06:2BD2: A5 0B        	lda	<L600+y_1
 11653 06:2BD4: C5 01        	cmp	<R0
 11654 06:2BD6: B0 03        	bcs	L609
 11655 06:2BD8: 82 74 FF     	brl	L10157
 11656                        L609:
 11657                        L10156:
 11658                        ;	}
 11659                        	.line	1660
 11660                        ;	return FONTW;
 11661                        L10154:
 11662                        	.line	1661
 11663 06:2BDB: 22 06 82 06  	jsl	~~k_font_getFontWidth
 11664                        L610:
 11665 06:2BDF: A8           	tay
 11666 06:2BE0: A5 17        	lda	<L599+2
 11667 06:2BE2: 85 1F        	sta	<L599+2+8
 11668 06:2BE4: A5 16        	lda	<L599+1
 11669 06:2BE6: 85 1E        	sta	<L599+1+8
 11670 06:2BE8: 2B           	pld
 11671 06:2BE9: 3B           	tsc
 11672 06:2BEA: 18           	clc
 11673 06:2BEB: 69 1D 00     	adc	#L599+8
 11674 06:2BEE: 1B           	tcs
 11675 06:2BEF: 98           	tya
 11676 06:2BF0: 6B           	rtl
 11677                        ;}
  Thu Jul 22 2021 22:51                                                Page 217


 11678                        	.line	1662
 11679                        	.endblock	1662
 11680             00000015   L599	equ	21
 11681             00000009   L600	equ	9
 11682 06:2BF1:              	ends
 11683                        	efunc
 11684                        	.endfunc	1662,9,21
 11685                        	.line	1662
 11686                        ;
 11687                        ;int k_gui_DrawWidget(HWND hWnd,UINT gadgetId,PREC
                    T prect,UINT color,UINT page)
 11688                        ;{
 11689                        	.line	1664
 11690                        	.line	1665
 11691                        	GFX
 11692                        	xdef	~~k_gui_DrawWidget
 11693                        	func
 11694                        	.function	1665
 11695                        ~~k_gui_DrawWidget:
 11696                        	longa	on
 11697                        	longi	on
 11698 06:2BF1: 3B           	tsc
 11699 06:2BF2: 38           	sec
 11700 06:2BF3: E9 0A 00     	sbc	#L611
 11701 06:2BF6: 1B           	tcs
 11702 06:2BF7: 0B           	phd
 11703 06:2BF8: 5B           	tcd
 11704             00000004   hWnd_0	set	4
 11705             00000008   gadgetId_0	set	8
 11706             0000000A   prect_0	set	10
 11707             0000000E   color_0	set	14
 11708             00000010   page_0	set	16
 11709                        	.block	1665
 11710                        ;	int ymax = ((PWINDOW)hWnd)->clientRect.y + ((PWI
                    NDOW)hWnd)->clientRect.height - 1;
 11711                        ;
 11712                        ;	if(((prect->y + FONTH) >= ymax))
 11713             00000000   ymax_1	set	0
 11714                        	.sym	ymax,0,5,1,16
 11715                        	.sym	hWnd,4,129,6,32
 11716                        	.sym	gadgetId,8,16,6,16
 11717                        	.sym	prect,10,138,6,32,26
 11718                        	.sym	color,14,16,6,16
 11719                        	.sym	page,16,16,6,16
 11720 06:2BF9: 18           	clc
 11721 06:2BFA: A0 2C 00     	ldy	#$2c
 11722 06:2BFD: B7 0E        	lda	[<L611+hWnd_0],Y
 11723 06:2BFF: A0 34 00     	ldy	#$34
 11724 06:2C02: 77 0E        	adc	[<L611+hWnd_0],Y
 11725 06:2C04: 85 01        	sta	<R0
 11726 06:2C06: 18           	clc
 11727 06:2C07: A9 FF FF     	lda	#$ffff
 11728 06:2C0A: 65 01        	adc	<R0
 11729 06:2C0C: 85 09        	sta	<L612+ymax_1
 11730                        	.line	1668
 11731                        ;		return -1;
 11732 06:2C0E: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 11733 06:2C12: 85 01        	sta	<R0
  Thu Jul 22 2021 22:51                                                Page 218


 11734 06:2C14: 18           	clc
 11735 06:2C15: A5 01        	lda	<R0
 11736 06:2C17: A0 02 00     	ldy	#$2
 11737 06:2C1A: 77 14        	adc	[<L611+prect_0],Y
 11738 06:2C1C: 85 05        	sta	<R1
 11739 06:2C1E: A5 05        	lda	<R1
 11740 06:2C20: C5 09        	cmp	<L612+ymax_1
 11741 06:2C22: B0 03        	bcs	L614
 11742 06:2C24: 82 15 00     	brl	L10165
 11743                        L614:
 11744                        	.line	1669
 11745 06:2C27: A9 FF FF     	lda	#$ffff
 11746                        L615:
 11747 06:2C2A: A8           	tay
 11748 06:2C2B: A5 0C        	lda	<L611+2
 11749 06:2C2D: 85 1A        	sta	<L611+2+14
 11750 06:2C2F: A5 0B        	lda	<L611+1
 11751 06:2C31: 85 19        	sta	<L611+1+14
 11752 06:2C33: 2B           	pld
 11753 06:2C34: 3B           	tsc
 11754 06:2C35: 18           	clc
 11755 06:2C36: 69 18 00     	adc	#L611+14
 11756 06:2C39: 1B           	tcs
 11757 06:2C3A: 98           	tya
 11758 06:2C3B: 6B           	rtl
 11759                        ;
 11760                        ;	return k_put_wingadget_point_ex(gadgetId,prect->
                    x,prect->y,color,page);
 11761                        L10165:
 11762                        	.line	1671
 11763 06:2C3C: D4 1A        	pei	<L611+page_0
 11764 06:2C3E: D4 18        	pei	<L611+color_0
 11765 06:2C40: A0 02 00     	ldy	#$2
 11766 06:2C43: B7 14        	lda	[<L611+prect_0],Y
 11767 06:2C45: 48           	pha
 11768 06:2C46: A7 14        	lda	[<L611+prect_0]
 11769 06:2C48: 48           	pha
 11770 06:2C49: D4 12        	pei	<L611+gadgetId_0
 11771 06:2C4B: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 11772 06:2C4F: 82 D8 FF     	brl	L615
 11773                        ;}
 11774                        	.line	1672
 11775                        	.endblock	1672
 11776             0000000A   L611	equ	10
 11777             00000009   L612	equ	9
 11778 06:2C52:              	ends
 11779                        	efunc
 11780                        	.endfunc	1672,9,10
 11781                        	.line	1672
 11782                        ;
 11783                        ;int k_put_wingadget_point_ex(char gadgetCode,int 
                    cx,int cy,char color,UINT page)
 11784                        ;{
 11785                        	.line	1674
 11786                        	.line	1675
 11787                        	GFX
 11788                        	xdef	~~k_put_wingadget_point_ex
 11789                        	func
  Thu Jul 22 2021 22:51                                                Page 219


 11790                        	.function	1675
 11791                        ~~k_put_wingadget_point_ex:
 11792                        	longa	on
 11793                        	longi	on
 11794 06:2C52: 3B           	tsc
 11795 06:2C53: 38           	sec
 11796 06:2C54: E9 15 00     	sbc	#L616
 11797 06:2C57: 1B           	tcs
 11798 06:2C58: 0B           	phd
 11799 06:2C59: 5B           	tcd
 11800             00000004   gadgetCode_0	set	4
 11801             00000006   cx_0	set	6
 11802             00000008   cy_0	set	8
 11803             0000000A   color_0	set	10
 11804             0000000C   page_0	set	12
 11805                        	.block	1675
 11806                        ;	int x = 0;
 11807                        ;	int y = 0;
 11808                        ;	int textX = cx;
 11809                        ;	int textY = cy;
 11810                        ;
 11811                        ;	char FAR* img = NULL;//fontImg[ix];
 11812                        ;
 11813                        ;
 11814                        ;    img = windowChromeImg[(int)(gadgetCode & 0xFF
                    )];
 11815             00000000   x_1	set	0
 11816             00000002   y_1	set	2
 11817             00000004   textX_1	set	4
 11818             00000006   textY_1	set	6
 11819             00000008   img_1	set	8
 11820                        	.sym	x,0,5,1,16
 11821                        	.sym	y,2,5,1,16
 11822                        	.sym	textX,4,5,1,16
 11823                        	.sym	textY,6,5,1,16
 11824                        	.sym	img,8,142,1,32
 11825                        	.sym	gadgetCode,4,14,6,8
 11826                        	.sym	cx,6,5,6,16
 11827                        	.sym	cy,8,5,6,16
 11828                        	.sym	color,10,14,6,8
 11829                        	.sym	page,12,16,6,16
 11830 06:2C5A: 64 09        	stz	<L617+x_1
 11831 06:2C5C: 64 0B        	stz	<L617+y_1
 11832 06:2C5E: A5 1B        	lda	<L616+cx_0
 11833 06:2C60: 85 0D        	sta	<L617+textX_1
 11834 06:2C62: A5 1D        	lda	<L616+cy_0
 11835 06:2C64: 85 0F        	sta	<L617+textY_1
 11836 06:2C66: 64 11        	stz	<L617+img_1
 11837 06:2C68: 64 13        	stz	<L617+img_1+2
 11838                        	.line	1684
 11839 06:2C6A: A5 19        	lda	<L616+gadgetCode_0
 11840 06:2C6C: 29 FF 00     	and	#<$ff
 11841 06:2C6F: 85 05        	sta	<R1
 11842 06:2C71: A0 00 00     	ldy	#$0
 11843 06:2C74: A5 05        	lda	<R1
 11844 06:2C76: 10 01        	bpl	L619
 11845 06:2C78: 88           	dey
 11846                        L619:
  Thu Jul 22 2021 22:51                                                Page 220


 11847 06:2C79: 85 05        	sta	<R1
 11848 06:2C7B: 84 07        	sty	<R1+2
 11849 06:2C7D: D4 07        	pei	<R1+2
 11850 06:2C7F: D4 05        	pei	<R1
 11851 06:2C81: A9 06 00     	lda	#$6
 11852                        	xref	~~~lasl
 11853 06:2C84: 22 xx xx xx  	jsl	~~~lasl
 11854 06:2C88: 85 01        	sta	<R0
 11855 06:2C8A: 86 03        	stx	<R0+2
 11856 06:2C8C: 18           	clc
 11857 06:2C8D: A9 xx xx     	lda	#<~~windowChromeImg
 11858 06:2C90: 65 01        	adc	<R0
 11859 06:2C92: 85 11        	sta	<L617+img_1
 11860 06:2C94: A9 xx xx     	lda	#^~~windowChromeImg
 11861 06:2C97: 65 03        	adc	<R0+2
 11862 06:2C99: 85 13        	sta	<L617+img_1+2
 11863                        ;	if(img!=NULL)
 11864                        	.line	1685
 11865                        ;	{
 11866 06:2C9B: A5 11        	lda	<L617+img_1
 11867 06:2C9D: 05 13        	ora	<L617+img_1+2
 11868 06:2C9F: D0 03        	bne	L620
 11869 06:2CA1: 82 DC 00     	brl	L10166
 11870                        L620:
 11871                        	.line	1686
 11872                        ;		for (y = 0; y < FONTH; y++)
 11873                        	.line	1687
 11874 06:2CA4: 64 0B        	stz	<L617+y_1
 11875 06:2CA6: 82 C8 00     	brl	L10170
 11876                        L10169:
 11877                        ;		{
 11878                        	.line	1688
 11879                        ;			// loop through pixel columns
 11880                        ;			for (x = 0; x < FONTW; x++)
 11881                        	.line	1690
 11882 06:2CA9: 64 09        	stz	<L617+x_1
 11883 06:2CAB: 82 B2 00     	brl	L10174
 11884                        L10173:
 11885                        ;			{
 11886                        	.line	1691
 11887                        ;				// get the pixel value
 11888                        ;				char b = img[y * FONTW +
                     x];
 11889                        ;				if (b > 0)
 11890                        	.block	1694
 11891             0000000C   b_2	set	12
 11892                        	.sym	b,12,14,1,8
 11893 06:2CAE: 22 06 82 06  	jsl	~~k_font_getFontWidth
 11894 06:2CB2: 85 01        	sta	<R0
 11895 06:2CB4: A5 01        	lda	<R0
 11896 06:2CB6: A6 0B        	ldx	<L617+y_1
 11897                        	xref	~~~mul
 11898 06:2CB8: 22 xx xx xx  	jsl	~~~mul
 11899 06:2CBC: 85 01        	sta	<R0
 11900 06:2CBE: 18           	clc
 11901 06:2CBF: A5 01        	lda	<R0
 11902 06:2CC1: 65 09        	adc	<L617+x_1
 11903 06:2CC3: 85 05        	sta	<R1
  Thu Jul 22 2021 22:51                                                Page 221


 11904 06:2CC5: E2 20        	sep	#$20
 11905                        	longa	off
 11906 06:2CC7: A4 05        	ldy	<R1
 11907 06:2CC9: B7 11        	lda	[<L617+img_1],Y
 11908 06:2CCB: 85 15        	sta	<L617+b_2
 11909 06:2CCD: C2 20        	rep	#$20
 11910                        	longa	on
 11911                        	.line	1694
 11912                        ;				{ // plot the pixel
 11913 06:2CCF: E2 20        	sep	#$20
 11914                        	longa	off
 11915 06:2CD1: A9 00        	lda	#$0
 11916 06:2CD3: C5 15        	cmp	<L617+b_2
 11917 06:2CD5: C2 20        	rep	#$20
 11918                        	longa	on
 11919 06:2CD7: 90 03        	bcc	L622
 11920 06:2CD9: 82 82 00     	brl	L10175
 11921                        L622:
 11922                        	.line	1695
 11923                        ;					//k_draw_pixel_e
                    x(textX + x, textY + y, color,page);
 11924                        ;					switch(page)
 11925                        	.line	1697
 11926 06:2CDC: A5 21        	lda	<L616+page_0
 11927 06:2CDE: 82 6E 00     	brl	L10176
 11928                        ;					{
 11929                        	.line	1698
 11930                        ;					case BITMAP_BACK
                    :
 11931                        	.line	1699
 11932                        L10178:
 11933                        ;						k_draw_p
                    ixel_back(textX + x, textY + y,color);
 11934                        	.line	1700
 11935 06:2CE1: D4 1F        	pei	<L616+color_0
 11936 06:2CE3: 18           	clc
 11937 06:2CE4: A5 0F        	lda	<L617+textY_1
 11938 06:2CE6: 65 0B        	adc	<L617+y_1
 11939 06:2CE8: 85 01        	sta	<R0
 11940 06:2CEA: A0 00 00     	ldy	#$0
 11941 06:2CED: A5 01        	lda	<R0
 11942 06:2CEF: 10 01        	bpl	L623
 11943 06:2CF1: 88           	dey
 11944                        L623:
 11945 06:2CF2: 85 01        	sta	<R0
 11946 06:2CF4: 84 03        	sty	<R0+2
 11947 06:2CF6: D4 03        	pei	<R0+2
 11948 06:2CF8: D4 01        	pei	<R0
 11949 06:2CFA: 18           	clc
 11950 06:2CFB: A5 0D        	lda	<L617+textX_1
 11951 06:2CFD: 65 09        	adc	<L617+x_1
 11952 06:2CFF: 85 05        	sta	<R1
 11953 06:2D01: A0 00 00     	ldy	#$0
 11954 06:2D04: A5 05        	lda	<R1
 11955 06:2D06: 10 01        	bpl	L624
 11956 06:2D08: 88           	dey
 11957                        L624:
 11958 06:2D09: 85 05        	sta	<R1
  Thu Jul 22 2021 22:51                                                Page 222


 11959 06:2D0B: 84 07        	sty	<R1+2
 11960 06:2D0D: D4 07        	pei	<R1+2
 11961 06:2D0F: D4 05        	pei	<R1
 11962 06:2D11: 22 41 14 06  	jsl	~~k_draw_pixel_back
 11963                        ;						break;
 11964                        	.line	1701
 11965 06:2D15: 82 43 00     	brl	L10177
 11966                        ;					default:
 11967                        	.line	1702
 11968                        L10179:
 11969                        ;						k_draw_p
                    ixel_front(textX + x, textY + y,color);
 11970                        	.line	1703
 11971 06:2D18: D4 1F        	pei	<L616+color_0
 11972 06:2D1A: 18           	clc
 11973 06:2D1B: A5 0F        	lda	<L617+textY_1
 11974 06:2D1D: 65 0B        	adc	<L617+y_1
 11975 06:2D1F: 85 01        	sta	<R0
 11976 06:2D21: A0 00 00     	ldy	#$0
 11977 06:2D24: A5 01        	lda	<R0
 11978 06:2D26: 10 01        	bpl	L625
 11979 06:2D28: 88           	dey
 11980                        L625:
 11981 06:2D29: 85 01        	sta	<R0
 11982 06:2D2B: 84 03        	sty	<R0+2
 11983 06:2D2D: D4 03        	pei	<R0+2
 11984 06:2D2F: D4 01        	pei	<R0
 11985 06:2D31: 18           	clc
 11986 06:2D32: A5 0D        	lda	<L617+textX_1
 11987 06:2D34: 65 09        	adc	<L617+x_1
 11988 06:2D36: 85 05        	sta	<R1
 11989 06:2D38: A0 00 00     	ldy	#$0
 11990 06:2D3B: A5 05        	lda	<R1
 11991 06:2D3D: 10 01        	bpl	L626
 11992 06:2D3F: 88           	dey
 11993                        L626:
 11994 06:2D40: 85 05        	sta	<R1
 11995 06:2D42: 84 07        	sty	<R1+2
 11996 06:2D44: D4 07        	pei	<R1+2
 11997 06:2D46: D4 05        	pei	<R1
 11998 06:2D48: 22 BB 13 06  	jsl	~~k_draw_pixel_front
 11999                        ;					}
 12000                        	.line	1704
 12001 06:2D4C: 82 0C 00     	brl	L10177
 12002                        L10176:
 12003                        	xref	~~~swt
 12004 06:2D4F: 22 xx xx xx  	jsl	~~~swt
 12005 06:2D53: 01 00        	dw	1
 12006 06:2D55: 08 00        	dw	8
 12007 06:2D57: E0 2C        	dw	L10178-1
 12008 06:2D59: 17 2D        	dw	L10179-1
 12009                        L10177:
 12010                        ;				}
 12011                        	.line	1705
 12012                        ;				else
 12013 06:2D5B: 82 00 00     	brl	L10180
 12014                        L10175:
 12015                        ;				{
  Thu Jul 22 2021 22:51                                                Page 223


 12016                        	.line	1707
 12017                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 12018                        ;				}
 12019                        	.line	1709
 12020                        L10180:
 12021                        ;			} // end "for x"
 12022                        	.endblock	1710
 12023                        	.line	1710
 12024                        L10171:
 12025 06:2D5E: E6 09        	inc	<L617+x_1
 12026                        L10174:
 12027 06:2D60: 22 06 82 06  	jsl	~~k_font_getFontWidth
 12028 06:2D64: 85 01        	sta	<R0
 12029 06:2D66: A5 09        	lda	<L617+x_1
 12030 06:2D68: C5 01        	cmp	<R0
 12031 06:2D6A: B0 03        	bcs	L627
 12032 06:2D6C: 82 3F FF     	brl	L10173
 12033                        L627:
 12034                        L10172:
 12035                        ;		} // end "for y"
 12036                        	.line	1711
 12037                        L10167:
 12038 06:2D6F: E6 0B        	inc	<L617+y_1
 12039                        L10170:
 12040 06:2D71: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 12041 06:2D75: 85 01        	sta	<R0
 12042 06:2D77: A5 0B        	lda	<L617+y_1
 12043 06:2D79: C5 01        	cmp	<R0
 12044 06:2D7B: B0 03        	bcs	L628
 12045 06:2D7D: 82 29 FF     	brl	L10169
 12046                        L628:
 12047                        L10168:
 12048                        ;	}
 12049                        	.line	1712
 12050                        ;	return FONTW;
 12051                        L10166:
 12052                        	.line	1713
 12053 06:2D80: 22 06 82 06  	jsl	~~k_font_getFontWidth
 12054                        L629:
 12055 06:2D84: A8           	tay
 12056 06:2D85: A5 17        	lda	<L616+2
 12057 06:2D87: 85 21        	sta	<L616+2+10
 12058 06:2D89: A5 16        	lda	<L616+1
 12059 06:2D8B: 85 20        	sta	<L616+1+10
 12060 06:2D8D: 2B           	pld
 12061 06:2D8E: 3B           	tsc
 12062 06:2D8F: 18           	clc
 12063 06:2D90: 69 1F 00     	adc	#L616+10
 12064 06:2D93: 1B           	tcs
 12065 06:2D94: 98           	tya
 12066 06:2D95: 6B           	rtl
 12067                        ;}
 12068                        	.line	1714
 12069                        	.endblock	1714
 12070             00000015   L616	equ	21
 12071             00000009   L617	equ	9
 12072 06:2D96:              	ends
  Thu Jul 22 2021 22:51                                                Page 224


 12073                        	efunc
 12074                        	.endfunc	1714,9,21
 12075                        	.line	1714
 12076                        ;
 12077                        ;int k_put_winicon_point(char iconCode,int cx,int 
                    cy,int paletteId,int mode)
 12078                        ;{
 12079                        	.line	1716
 12080                        	.line	1717
 12081                        	GFX
 12082                        	xdef	~~k_put_winicon_point
 12083                        	func
 12084                        	.function	1717
 12085                        ~~k_put_winicon_point:
 12086                        	longa	on
 12087                        	longi	on
 12088 06:2D96: 3B           	tsc
 12089 06:2D97: 38           	sec
 12090 06:2D98: E9 15 00     	sbc	#L630
 12091 06:2D9B: 1B           	tcs
 12092 06:2D9C: 0B           	phd
 12093 06:2D9D: 5B           	tcd
 12094             00000004   iconCode_0	set	4
 12095             00000006   cx_0	set	6
 12096             00000008   cy_0	set	8
 12097             0000000A   paletteId_0	set	10
 12098             0000000C   mode_0	set	12
 12099                        	.block	1717
 12100                        ;	int x = 0;
 12101                        ;	int y = 0;
 12102                        ;	int textX = cx;
 12103                        ;	int textY = cy;
 12104                        ;
 12105                        ;	char FAR* img = NULL;
 12106                        ;	
 12107                        ;    img = windowIconImg[(int)(iconCode & 0xFF)];
 12108             00000000   x_1	set	0
 12109             00000002   y_1	set	2
 12110             00000004   textX_1	set	4
 12111             00000006   textY_1	set	6
 12112             00000008   img_1	set	8
 12113                        	.sym	x,0,5,1,16
 12114                        	.sym	y,2,5,1,16
 12115                        	.sym	textX,4,5,1,16
 12116                        	.sym	textY,6,5,1,16
 12117                        	.sym	img,8,142,1,32
 12118                        	.sym	iconCode,4,14,6,8
 12119                        	.sym	cx,6,5,6,16
 12120                        	.sym	cy,8,5,6,16
 12121                        	.sym	paletteId,10,5,6,16
 12122                        	.sym	mode,12,5,6,16
 12123 06:2D9E: 64 09        	stz	<L631+x_1
 12124 06:2DA0: 64 0B        	stz	<L631+y_1
 12125 06:2DA2: A5 1B        	lda	<L630+cx_0
 12126 06:2DA4: 85 0D        	sta	<L631+textX_1
 12127 06:2DA6: A5 1D        	lda	<L630+cy_0
 12128 06:2DA8: 85 0F        	sta	<L631+textY_1
 12129 06:2DAA: 64 11        	stz	<L631+img_1
  Thu Jul 22 2021 22:51                                                Page 225


 12130 06:2DAC: 64 13        	stz	<L631+img_1+2
 12131                        	.line	1725
 12132 06:2DAE: A5 19        	lda	<L630+iconCode_0
 12133 06:2DB0: 29 FF 00     	and	#<$ff
 12134 06:2DB3: 85 05        	sta	<R1
 12135 06:2DB5: A0 00 00     	ldy	#$0
 12136 06:2DB8: A5 05        	lda	<R1
 12137 06:2DBA: 10 01        	bpl	L633
 12138 06:2DBC: 88           	dey
 12139                        L633:
 12140 06:2DBD: 85 05        	sta	<R1
 12141 06:2DBF: 84 07        	sty	<R1+2
 12142 06:2DC1: D4 07        	pei	<R1+2
 12143 06:2DC3: D4 05        	pei	<R1
 12144 06:2DC5: A9 08 00     	lda	#$8
 12145                        	xref	~~~lasl
 12146 06:2DC8: 22 xx xx xx  	jsl	~~~lasl
 12147 06:2DCC: 85 01        	sta	<R0
 12148 06:2DCE: 86 03        	stx	<R0+2
 12149 06:2DD0: 18           	clc
 12150 06:2DD1: A9 xx xx     	lda	#<~~windowIconImg
 12151 06:2DD4: 65 01        	adc	<R0
 12152 06:2DD6: 85 11        	sta	<L631+img_1
 12153 06:2DD8: A9 xx xx     	lda	#^~~windowIconImg
 12154 06:2DDB: 65 03        	adc	<R0+2
 12155 06:2DDD: 85 13        	sta	<L631+img_1+2
 12156                        ;	if(img!=NULL)
 12157                        	.line	1726
 12158                        ;	{
 12159 06:2DDF: A5 11        	lda	<L631+img_1
 12160 06:2DE1: 05 13        	ora	<L631+img_1+2
 12161 06:2DE3: D0 03        	bne	L634
 12162 06:2DE5: 82 BD 00     	brl	L10181
 12163                        L634:
 12164                        	.line	1727
 12165                        ;		for (y = 0; y < ICONH; y++) 
 12166                        	.line	1728
 12167 06:2DE8: 64 0B        	stz	<L631+y_1
 12168                        L10184:
 12169                        ;		{
 12170                        	.line	1729
 12171                        ;			for (x = 0; x < ICONW; x++) 
 12172                        	.line	1730
 12173 06:2DEA: 64 09        	stz	<L631+x_1
 12174                        L10187:
 12175                        ;			{
 12176                        	.line	1731
 12177                        ;				char b = img[y * ICONW +
                     x];
 12178                        ;				if (b > 0) 
 12179                        	.block	1733
 12180             0000000C   b_2	set	12
 12181                        	.sym	b,12,14,1,8
 12182 06:2DEC: A5 0B        	lda	<L631+y_1
 12183 06:2DEE: 0A           	asl	A
 12184 06:2DEF: 0A           	asl	A
 12185 06:2DF0: 0A           	asl	A
 12186 06:2DF1: 0A           	asl	A
  Thu Jul 22 2021 22:51                                                Page 226


 12187 06:2DF2: 85 01        	sta	<R0
 12188 06:2DF4: 18           	clc
 12189 06:2DF5: A5 01        	lda	<R0
 12190 06:2DF7: 65 09        	adc	<L631+x_1
 12191 06:2DF9: 85 05        	sta	<R1
 12192 06:2DFB: E2 20        	sep	#$20
 12193                        	longa	off
 12194 06:2DFD: A4 05        	ldy	<R1
 12195 06:2DFF: B7 11        	lda	[<L631+img_1],Y
 12196 06:2E01: 85 15        	sta	<L631+b_2
 12197 06:2E03: C2 20        	rep	#$20
 12198                        	longa	on
 12199                        	.line	1733
 12200                        ;				{
 12201 06:2E05: E2 20        	sep	#$20
 12202                        	longa	off
 12203 06:2E07: A9 00        	lda	#$0
 12204 06:2E09: C5 15        	cmp	<L631+b_2
 12205 06:2E0B: C2 20        	rep	#$20
 12206                        	longa	on
 12207 06:2E0D: 90 03        	bcc	L636
 12208 06:2E0F: 82 68 00     	brl	L10188
 12209                        L636:
 12210                        	.line	1734
 12211                        ;					if(mode == PAINT
                    MODE_BACKGROUND)
 12212                        	.line	1735
 12213                        ;						b = pale
                    tteId;
 12214 06:2E12: A5 21        	lda	<L630+mode_0
 12215 06:2E14: C9 F0 00     	cmp	#<$f0
 12216 06:2E17: F0 03        	beq	L637
 12217 06:2E19: 82 08 00     	brl	L10189
 12218                        L637:
 12219                        	.line	1736
 12220 06:2E1C: E2 20        	sep	#$20
 12221                        	longa	off
 12222 06:2E1E: A5 1F        	lda	<L630+paletteId_0
 12223 06:2E20: 85 15        	sta	<L631+b_2
 12224 06:2E22: C2 20        	rep	#$20
 12225                        	longa	on
 12226                        ;
 12227                        ;					if(mode == PAINT
                    MODE_HIGHLIGHT && b == 15)
 12228                        L10189:
 12229                        	.line	1738
 12230                        ;						b = pale
                    tteId;
 12231 06:2E24: A5 21        	lda	<L630+mode_0
 12232 06:2E26: C9 F1 00     	cmp	#<$f1
 12233 06:2E29: F0 03        	beq	L638
 12234 06:2E2B: 82 15 00     	brl	L10190
 12235                        L638:
 12236 06:2E2E: E2 20        	sep	#$20
 12237                        	longa	off
 12238 06:2E30: A5 15        	lda	<L631+b_2
 12239 06:2E32: C9 0F        	cmp	#<$f
 12240 06:2E34: C2 20        	rep	#$20
  Thu Jul 22 2021 22:51                                                Page 227


 12241                        	longa	on
 12242 06:2E36: F0 03        	beq	L639
 12243 06:2E38: 82 08 00     	brl	L10190
 12244                        L639:
 12245                        	.line	1739
 12246 06:2E3B: E2 20        	sep	#$20
 12247                        	longa	off
 12248 06:2E3D: A5 1F        	lda	<L630+paletteId_0
 12249 06:2E3F: 85 15        	sta	<L631+b_2
 12250 06:2E41: C2 20        	rep	#$20
 12251                        	longa	on
 12252                        ;
 12253                        ;					k_draw_pixel(tex
                    tX + x, textY + y, b);
 12254                        L10190:
 12255                        	.line	1741
 12256 06:2E43: D4 15        	pei	<L631+b_2
 12257 06:2E45: 18           	clc
 12258 06:2E46: A5 0F        	lda	<L631+textY_1
 12259 06:2E48: 65 0B        	adc	<L631+y_1
 12260 06:2E4A: 85 01        	sta	<R0
 12261 06:2E4C: A0 00 00     	ldy	#$0
 12262 06:2E4F: A5 01        	lda	<R0
 12263 06:2E51: 10 01        	bpl	L640
 12264 06:2E53: 88           	dey
 12265                        L640:
 12266 06:2E54: 85 01        	sta	<R0
 12267 06:2E56: 84 03        	sty	<R0+2
 12268 06:2E58: D4 03        	pei	<R0+2
 12269 06:2E5A: D4 01        	pei	<R0
 12270 06:2E5C: 18           	clc
 12271 06:2E5D: A5 0D        	lda	<L631+textX_1
 12272 06:2E5F: 65 09        	adc	<L631+x_1
 12273 06:2E61: 85 05        	sta	<R1
 12274 06:2E63: A0 00 00     	ldy	#$0
 12275 06:2E66: A5 05        	lda	<R1
 12276 06:2E68: 10 01        	bpl	L641
 12277 06:2E6A: 88           	dey
 12278                        L641:
 12279 06:2E6B: 85 05        	sta	<R1
 12280 06:2E6D: 84 07        	sty	<R1+2
 12281 06:2E6F: D4 07        	pei	<R1+2
 12282 06:2E71: D4 05        	pei	<R1
 12283 06:2E73: 22 35 13 06  	jsl	~~k_draw_pixel
 12284                        ;				}
 12285                        	.line	1742
 12286                        ;				else 
 12287 06:2E77: 82 07 00     	brl	L10191
 12288                        L10188:
 12289                        ;				{ 
 12290                        	.line	1744
 12291                        ;					if(mode!=PAINTMO
                    DE_DEFAULT)
 12292                        	.line	1745
 12293                        ;					{
 12294 06:2E7A: A5 21        	lda	<L630+mode_0
 12295 06:2E7C: D0 03        	bne	L642
 12296 06:2E7E: 82 00 00     	brl	L10192
  Thu Jul 22 2021 22:51                                                Page 228


 12297                        L642:
 12298                        	.line	1746
 12299                        ;					
 12300                        ;					}
 12301                        	.line	1748
 12302                        ;				}
 12303                        L10192:
 12304                        	.line	1749
 12305                        L10191:
 12306                        ;			}
 12307                        	.endblock	1750
 12308                        	.line	1750
 12309                        L10185:
 12310 06:2E81: E6 09        	inc	<L631+x_1
 12311 06:2E83: 38           	sec
 12312 06:2E84: A5 09        	lda	<L631+x_1
 12313 06:2E86: E9 10 00     	sbc	#<$10
 12314 06:2E89: 70 03        	bvs	L643
 12315 06:2E8B: 49 00 80     	eor	#$8000
 12316                        L643:
 12317 06:2E8E: 30 03        	bmi	L644
 12318 06:2E90: 82 59 FF     	brl	L10187
 12319                        L644:
 12320                        L10186:
 12321                        ;		}
 12322                        	.line	1751
 12323                        L10182:
 12324 06:2E93: E6 0B        	inc	<L631+y_1
 12325 06:2E95: 38           	sec
 12326 06:2E96: A5 0B        	lda	<L631+y_1
 12327 06:2E98: E9 10 00     	sbc	#<$10
 12328 06:2E9B: 70 03        	bvs	L645
 12329 06:2E9D: 49 00 80     	eor	#$8000
 12330                        L645:
 12331 06:2EA0: 30 03        	bmi	L646
 12332 06:2EA2: 82 45 FF     	brl	L10184
 12333                        L646:
 12334                        L10183:
 12335                        ;	}
 12336                        	.line	1752
 12337                        ;	return FONTW;
 12338                        L10181:
 12339                        	.line	1753
 12340 06:2EA5: 22 06 82 06  	jsl	~~k_font_getFontWidth
 12341                        L647:
 12342 06:2EA9: A8           	tay
 12343 06:2EAA: A5 17        	lda	<L630+2
 12344 06:2EAC: 85 21        	sta	<L630+2+10
 12345 06:2EAE: A5 16        	lda	<L630+1
 12346 06:2EB0: 85 20        	sta	<L630+1+10
 12347 06:2EB2: 2B           	pld
 12348 06:2EB3: 3B           	tsc
 12349 06:2EB4: 18           	clc
 12350 06:2EB5: 69 1F 00     	adc	#L630+10
 12351 06:2EB8: 1B           	tcs
 12352 06:2EB9: 98           	tya
 12353 06:2EBA: 6B           	rtl
 12354                        ;}
  Thu Jul 22 2021 22:51                                                Page 229


 12355                        	.line	1754
 12356                        	.endblock	1754
 12357             00000015   L630	equ	21
 12358             00000009   L631	equ	9
 12359 06:2EBB:              	ends
 12360                        	efunc
 12361                        	.endfunc	1754,9,21
 12362                        	.line	1754
 12363                        ;
 12364                        ;int k_put_winicon_point_ex(char iconCode,int cx,i
                    nt cy,int paletteId,int mode,UINT page)
 12365                        ;{
 12366                        	.line	1756
 12367                        	.line	1757
 12368                        	GFX
 12369                        	xdef	~~k_put_winicon_point_ex
 12370                        	func
 12371                        	.function	1757
 12372                        ~~k_put_winicon_point_ex:
 12373                        	longa	on
 12374                        	longi	on
 12375 06:2EBB: 3B           	tsc
 12376 06:2EBC: 38           	sec
 12377 06:2EBD: E9 15 00     	sbc	#L648
 12378 06:2EC0: 1B           	tcs
 12379 06:2EC1: 0B           	phd
 12380 06:2EC2: 5B           	tcd
 12381             00000004   iconCode_0	set	4
 12382             00000006   cx_0	set	6
 12383             00000008   cy_0	set	8
 12384             0000000A   paletteId_0	set	10
 12385             0000000C   mode_0	set	12
 12386             0000000E   page_0	set	14
 12387                        	.block	1757
 12388                        ;	int x = 0;
 12389                        ;	int y = 0;
 12390                        ;	int textX = cx;
 12391                        ;	int textY = cy;
 12392                        ;
 12393                        ;	char FAR* img = NULL;
 12394                        ;
 12395                        ;    img = windowIconImg[(int)(iconCode & 0xFF)];
 12396             00000000   x_1	set	0
 12397             00000002   y_1	set	2
 12398             00000004   textX_1	set	4
 12399             00000006   textY_1	set	6
 12400             00000008   img_1	set	8
 12401                        	.sym	x,0,5,1,16
 12402                        	.sym	y,2,5,1,16
 12403                        	.sym	textX,4,5,1,16
 12404                        	.sym	textY,6,5,1,16
 12405                        	.sym	img,8,142,1,32
 12406                        	.sym	iconCode,4,14,6,8
 12407                        	.sym	cx,6,5,6,16
 12408                        	.sym	cy,8,5,6,16
 12409                        	.sym	paletteId,10,5,6,16
 12410                        	.sym	mode,12,5,6,16
 12411                        	.sym	page,14,16,6,16
  Thu Jul 22 2021 22:51                                                Page 230


 12412 06:2EC3: 64 09        	stz	<L649+x_1
 12413 06:2EC5: 64 0B        	stz	<L649+y_1
 12414 06:2EC7: A5 1B        	lda	<L648+cx_0
 12415 06:2EC9: 85 0D        	sta	<L649+textX_1
 12416 06:2ECB: A5 1D        	lda	<L648+cy_0
 12417 06:2ECD: 85 0F        	sta	<L649+textY_1
 12418 06:2ECF: 64 11        	stz	<L649+img_1
 12419 06:2ED1: 64 13        	stz	<L649+img_1+2
 12420                        	.line	1765
 12421 06:2ED3: A5 19        	lda	<L648+iconCode_0
 12422 06:2ED5: 29 FF 00     	and	#<$ff
 12423 06:2ED8: 85 05        	sta	<R1
 12424 06:2EDA: A0 00 00     	ldy	#$0
 12425 06:2EDD: A5 05        	lda	<R1
 12426 06:2EDF: 10 01        	bpl	L651
 12427 06:2EE1: 88           	dey
 12428                        L651:
 12429 06:2EE2: 85 05        	sta	<R1
 12430 06:2EE4: 84 07        	sty	<R1+2
 12431 06:2EE6: D4 07        	pei	<R1+2
 12432 06:2EE8: D4 05        	pei	<R1
 12433 06:2EEA: A9 08 00     	lda	#$8
 12434                        	xref	~~~lasl
 12435 06:2EED: 22 xx xx xx  	jsl	~~~lasl
 12436 06:2EF1: 85 01        	sta	<R0
 12437 06:2EF3: 86 03        	stx	<R0+2
 12438 06:2EF5: 18           	clc
 12439 06:2EF6: A9 xx xx     	lda	#<~~windowIconImg
 12440 06:2EF9: 65 01        	adc	<R0
 12441 06:2EFB: 85 11        	sta	<L649+img_1
 12442 06:2EFD: A9 xx xx     	lda	#^~~windowIconImg
 12443 06:2F00: 65 03        	adc	<R0+2
 12444 06:2F02: 85 13        	sta	<L649+img_1+2
 12445                        ;	if(img!=NULL)
 12446                        	.line	1766
 12447                        ;	{
 12448 06:2F04: A5 11        	lda	<L649+img_1
 12449 06:2F06: 05 13        	ora	<L649+img_1+2
 12450 06:2F08: D0 03        	bne	L652
 12451 06:2F0A: 82 BF 00     	brl	L10193
 12452                        L652:
 12453                        	.line	1767
 12454                        ;		for (y = 0; y < ICONH; y++)
 12455                        	.line	1768
 12456 06:2F0D: 64 0B        	stz	<L649+y_1
 12457                        L10196:
 12458                        ;		{
 12459                        	.line	1769
 12460                        ;			for (x = 0; x < ICONW; x++)
 12461                        	.line	1770
 12462 06:2F0F: 64 09        	stz	<L649+x_1
 12463                        L10199:
 12464                        ;			{
 12465                        	.line	1771
 12466                        ;				char b = img[y * ICONW +
                     x];
 12467                        ;				if (b > 0)
 12468                        	.block	1773
  Thu Jul 22 2021 22:51                                                Page 231


 12469             0000000C   b_2	set	12
 12470                        	.sym	b,12,14,1,8
 12471 06:2F11: A5 0B        	lda	<L649+y_1
 12472 06:2F13: 0A           	asl	A
 12473 06:2F14: 0A           	asl	A
 12474 06:2F15: 0A           	asl	A
 12475 06:2F16: 0A           	asl	A
 12476 06:2F17: 85 01        	sta	<R0
 12477 06:2F19: 18           	clc
 12478 06:2F1A: A5 01        	lda	<R0
 12479 06:2F1C: 65 09        	adc	<L649+x_1
 12480 06:2F1E: 85 05        	sta	<R1
 12481 06:2F20: E2 20        	sep	#$20
 12482                        	longa	off
 12483 06:2F22: A4 05        	ldy	<R1
 12484 06:2F24: B7 11        	lda	[<L649+img_1],Y
 12485 06:2F26: 85 15        	sta	<L649+b_2
 12486 06:2F28: C2 20        	rep	#$20
 12487                        	longa	on
 12488                        	.line	1773
 12489                        ;				{
 12490 06:2F2A: E2 20        	sep	#$20
 12491                        	longa	off
 12492 06:2F2C: A9 00        	lda	#$0
 12493 06:2F2E: C5 15        	cmp	<L649+b_2
 12494 06:2F30: C2 20        	rep	#$20
 12495                        	longa	on
 12496 06:2F32: 90 03        	bcc	L654
 12497 06:2F34: 82 6A 00     	brl	L10200
 12498                        L654:
 12499                        	.line	1774
 12500                        ;					if(mode == PAINT
                    MODE_BACKGROUND)
 12501                        	.line	1775
 12502                        ;						b = pale
                    tteId;
 12503 06:2F37: A5 21        	lda	<L648+mode_0
 12504 06:2F39: C9 F0 00     	cmp	#<$f0
 12505 06:2F3C: F0 03        	beq	L655
 12506 06:2F3E: 82 08 00     	brl	L10201
 12507                        L655:
 12508                        	.line	1776
 12509 06:2F41: E2 20        	sep	#$20
 12510                        	longa	off
 12511 06:2F43: A5 1F        	lda	<L648+paletteId_0
 12512 06:2F45: 85 15        	sta	<L649+b_2
 12513 06:2F47: C2 20        	rep	#$20
 12514                        	longa	on
 12515                        ;
 12516                        ;					if(mode == PAINT
                    MODE_HIGHLIGHT && b == 15)
 12517                        L10201:
 12518                        	.line	1778
 12519                        ;						b = pale
                    tteId;
 12520 06:2F49: A5 21        	lda	<L648+mode_0
 12521 06:2F4B: C9 F1 00     	cmp	#<$f1
 12522 06:2F4E: F0 03        	beq	L656
  Thu Jul 22 2021 22:51                                                Page 232


 12523 06:2F50: 82 15 00     	brl	L10202
 12524                        L656:
 12525 06:2F53: E2 20        	sep	#$20
 12526                        	longa	off
 12527 06:2F55: A5 15        	lda	<L649+b_2
 12528 06:2F57: C9 0F        	cmp	#<$f
 12529 06:2F59: C2 20        	rep	#$20
 12530                        	longa	on
 12531 06:2F5B: F0 03        	beq	L657
 12532 06:2F5D: 82 08 00     	brl	L10202
 12533                        L657:
 12534                        	.line	1779
 12535 06:2F60: E2 20        	sep	#$20
 12536                        	longa	off
 12537 06:2F62: A5 1F        	lda	<L648+paletteId_0
 12538 06:2F64: 85 15        	sta	<L649+b_2
 12539 06:2F66: C2 20        	rep	#$20
 12540                        	longa	on
 12541                        ;
 12542                        ;					k_draw_pixel_ex(
                    textX + x, textY + y, b, page);
 12543                        L10202:
 12544                        	.line	1781
 12545 06:2F68: D4 23        	pei	<L648+page_0
 12546 06:2F6A: D4 15        	pei	<L649+b_2
 12547 06:2F6C: 18           	clc
 12548 06:2F6D: A5 0F        	lda	<L649+textY_1
 12549 06:2F6F: 65 0B        	adc	<L649+y_1
 12550 06:2F71: 85 01        	sta	<R0
 12551 06:2F73: A0 00 00     	ldy	#$0
 12552 06:2F76: A5 01        	lda	<R0
 12553 06:2F78: 10 01        	bpl	L658
 12554 06:2F7A: 88           	dey
 12555                        L658:
 12556 06:2F7B: 85 01        	sta	<R0
 12557 06:2F7D: 84 03        	sty	<R0+2
 12558 06:2F7F: D4 03        	pei	<R0+2
 12559 06:2F81: D4 01        	pei	<R0
 12560 06:2F83: 18           	clc
 12561 06:2F84: A5 0D        	lda	<L649+textX_1
 12562 06:2F86: 65 09        	adc	<L649+x_1
 12563 06:2F88: 85 05        	sta	<R1
 12564 06:2F8A: A0 00 00     	ldy	#$0
 12565 06:2F8D: A5 05        	lda	<R1
 12566 06:2F8F: 10 01        	bpl	L659
 12567 06:2F91: 88           	dey
 12568                        L659:
 12569 06:2F92: 85 05        	sta	<R1
 12570 06:2F94: 84 07        	sty	<R1+2
 12571 06:2F96: D4 07        	pei	<R1+2
 12572 06:2F98: D4 05        	pei	<R1
 12573 06:2F9A: 22 15 15 06  	jsl	~~k_draw_pixel_ex
 12574                        ;
 12575                        ;
 12576                        ;				}
 12577                        	.line	1784
 12578                        ;				else
 12579 06:2F9E: 82 07 00     	brl	L10203
  Thu Jul 22 2021 22:51                                                Page 233


 12580                        L10200:
 12581                        ;				{
 12582                        	.line	1786
 12583                        ;					if(mode!=PAINTMO
                    DE_DEFAULT)
 12584                        	.line	1787
 12585                        ;					{
 12586 06:2FA1: A5 21        	lda	<L648+mode_0
 12587 06:2FA3: D0 03        	bne	L660
 12588 06:2FA5: 82 00 00     	brl	L10204
 12589                        L660:
 12590                        	.line	1788
 12591                        ;
 12592                        ;					}
 12593                        	.line	1790
 12594                        ;				}
 12595                        L10204:
 12596                        	.line	1791
 12597                        L10203:
 12598                        ;			}
 12599                        	.endblock	1792
 12600                        	.line	1792
 12601                        L10197:
 12602 06:2FA8: E6 09        	inc	<L649+x_1
 12603 06:2FAA: 38           	sec
 12604 06:2FAB: A5 09        	lda	<L649+x_1
 12605 06:2FAD: E9 10 00     	sbc	#<$10
 12606 06:2FB0: 70 03        	bvs	L661
 12607 06:2FB2: 49 00 80     	eor	#$8000
 12608                        L661:
 12609 06:2FB5: 30 03        	bmi	L662
 12610 06:2FB7: 82 57 FF     	brl	L10199
 12611                        L662:
 12612                        L10198:
 12613                        ;		}
 12614                        	.line	1793
 12615                        L10194:
 12616 06:2FBA: E6 0B        	inc	<L649+y_1
 12617 06:2FBC: 38           	sec
 12618 06:2FBD: A5 0B        	lda	<L649+y_1
 12619 06:2FBF: E9 10 00     	sbc	#<$10
 12620 06:2FC2: 70 03        	bvs	L663
 12621 06:2FC4: 49 00 80     	eor	#$8000
 12622                        L663:
 12623 06:2FC7: 30 03        	bmi	L664
 12624 06:2FC9: 82 43 FF     	brl	L10196
 12625                        L664:
 12626                        L10195:
 12627                        ;	}
 12628                        	.line	1794
 12629                        ;	return FONTW;
 12630                        L10193:
 12631                        	.line	1795
 12632 06:2FCC: 22 06 82 06  	jsl	~~k_font_getFontWidth
 12633                        L665:
 12634 06:2FD0: A8           	tay
 12635 06:2FD1: A5 17        	lda	<L648+2
 12636 06:2FD3: 85 23        	sta	<L648+2+12
  Thu Jul 22 2021 22:51                                                Page 234


 12637 06:2FD5: A5 16        	lda	<L648+1
 12638 06:2FD7: 85 22        	sta	<L648+1+12
 12639 06:2FD9: 2B           	pld
 12640 06:2FDA: 3B           	tsc
 12641 06:2FDB: 18           	clc
 12642 06:2FDC: 69 21 00     	adc	#L648+12
 12643 06:2FDF: 1B           	tcs
 12644 06:2FE0: 98           	tya
 12645 06:2FE1: 6B           	rtl
 12646                        ;}
 12647                        	.line	1796
 12648                        	.endblock	1796
 12649             00000015   L648	equ	21
 12650             00000009   L649	equ	9
 12651 06:2FE2:              	ends
 12652                        	efunc
 12653                        	.endfunc	1796,9,21
 12654                        	.line	1796
 12655                        ;
 12656                        ;
 12657                        ;
 12658                        ;/*
 12659                        ; 		//PFXNODE k_point_in_nodes(int x
                    ,int y);
 12660                        ;		//void k_add_window_hit_node(PCLICKDETEC
                    TED pcd);
 12661                        ;
 12662                        ;		PWINDOW k_create_ui_window_class(cx,cy,I
                    CONW,ICONH,LPCHAR title,LPCHAR className,int color, int bgco
                    lor);
 12663                        ;
 12664                        ;		k_add_window_hit_node();
 12665                        ;
 12666                        ;
 12667                        ; */
 12668                        ;
 12669                        ;
 12670                        ;void k_put_winicon_scaled(char iconCode,int cx,in
                    t cy,char paletteId,int mode,int scale)
 12671                        ;{
 12672                        	.line	1812
 12673                        	.line	1813
 12674                        	GFX
 12675                        	xdef	~~k_put_winicon_scaled
 12676                        	func
 12677                        	.function	1813
 12678                        ~~k_put_winicon_scaled:
 12679                        	longa	on
 12680                        	longi	on
 12681 06:2FE2: 3B           	tsc
 12682 06:2FE3: 38           	sec
 12683 06:2FE4: E9 25 00     	sbc	#L666
 12684 06:2FE7: 1B           	tcs
 12685 06:2FE8: 0B           	phd
 12686 06:2FE9: 5B           	tcd
 12687             00000004   iconCode_0	set	4
 12688             00000006   cx_0	set	6
 12689             00000008   cy_0	set	8
  Thu Jul 22 2021 22:51                                                Page 235


 12690             0000000A   paletteId_0	set	10
 12691             0000000C   mode_0	set	12
 12692             0000000E   scale_0	set	14
 12693                        	.block	1813
 12694                        ;	int x = 0;
 12695                        ;	int y = 0;
 12696                        ;
 12697                        ;	int height = ICONH * scale;
 12698                        ;	int width  = ICONW * scale;
 12699                        ;	
 12700                        ;	int textX = cx ;
 12701                        ;	int textY = cy ;
 12702                        ;
 12703                        ;	int px   = 0;
 12704                        ;	int py   = 0;
 12705                        ;	int offx = 0;
 12706                        ;	int offy = 0;
 12707                        ;	int sx   = 0;
 12708                        ;	int sy   = 0;
 12709                        ;
 12710                        ;	char b   = 0;
 12711                        ;
 12712                        ;	char FAR* img = NULL;
 12713                        ;
 12714                        ;	img = windowIconImg[(int)(iconCode & 0xFF)];	
                    //printf("putFont:%d\n",characterROMMapping[outChar]);
 12715             00000000   x_1	set	0
 12716             00000002   y_1	set	2
 12717             00000004   height_1	set	4
 12718             00000006   width_1	set	6
 12719             00000008   textX_1	set	8
 12720             0000000A   textY_1	set	10
 12721             0000000C   px_1	set	12
 12722             0000000E   py_1	set	14
 12723             00000010   offx_1	set	16
 12724             00000012   offy_1	set	18
 12725             00000014   sx_1	set	20
 12726             00000016   sy_1	set	22
 12727             00000018   b_1	set	24
 12728             00000019   img_1	set	25
 12729                        	.sym	x,0,5,1,16
 12730                        	.sym	y,2,5,1,16
 12731                        	.sym	height,4,5,1,16
 12732                        	.sym	width,6,5,1,16
 12733                        	.sym	textX,8,5,1,16
 12734                        	.sym	textY,10,5,1,16
 12735                        	.sym	px,12,5,1,16
 12736                        	.sym	py,14,5,1,16
 12737                        	.sym	offx,16,5,1,16
 12738                        	.sym	offy,18,5,1,16
 12739                        	.sym	sx,20,5,1,16
 12740                        	.sym	sy,22,5,1,16
 12741                        	.sym	b,24,14,1,8
 12742                        	.sym	img,25,142,1,32
 12743                        	.sym	iconCode,4,14,6,8
 12744                        	.sym	cx,6,5,6,16
 12745                        	.sym	cy,8,5,6,16
 12746                        	.sym	paletteId,10,14,6,8
  Thu Jul 22 2021 22:51                                                Page 236


 12747                        	.sym	mode,12,5,6,16
 12748                        	.sym	scale,14,5,6,16
 12749 06:2FEA: 64 09        	stz	<L667+x_1
 12750 06:2FEC: 64 0B        	stz	<L667+y_1
 12751 06:2FEE: A5 33        	lda	<L666+scale_0
 12752 06:2FF0: 0A           	asl	A
 12753 06:2FF1: 0A           	asl	A
 12754 06:2FF2: 0A           	asl	A
 12755 06:2FF3: 0A           	asl	A
 12756 06:2FF4: 85 0D        	sta	<L667+height_1
 12757 06:2FF6: A5 33        	lda	<L666+scale_0
 12758 06:2FF8: 0A           	asl	A
 12759 06:2FF9: 0A           	asl	A
 12760 06:2FFA: 0A           	asl	A
 12761 06:2FFB: 0A           	asl	A
 12762 06:2FFC: 85 0F        	sta	<L667+width_1
 12763 06:2FFE: A5 2B        	lda	<L666+cx_0
 12764 06:3000: 85 11        	sta	<L667+textX_1
 12765 06:3002: A5 2D        	lda	<L666+cy_0
 12766 06:3004: 85 13        	sta	<L667+textY_1
 12767 06:3006: 64 15        	stz	<L667+px_1
 12768 06:3008: 64 17        	stz	<L667+py_1
 12769 06:300A: 64 19        	stz	<L667+offx_1
 12770 06:300C: 64 1B        	stz	<L667+offy_1
 12771 06:300E: 64 1D        	stz	<L667+sx_1
 12772 06:3010: 64 1F        	stz	<L667+sy_1
 12773 06:3012: E2 20        	sep	#$20
 12774                        	longa	off
 12775 06:3014: 64 21        	stz	<L667+b_1
 12776 06:3016: C2 20        	rep	#$20
 12777                        	longa	on
 12778 06:3018: 64 22        	stz	<L667+img_1
 12779 06:301A: 64 24        	stz	<L667+img_1+2
 12780                        	.line	1834
 12781 06:301C: A5 29        	lda	<L666+iconCode_0
 12782 06:301E: 29 FF 00     	and	#<$ff
 12783 06:3021: 85 05        	sta	<R1
 12784 06:3023: A0 00 00     	ldy	#$0
 12785 06:3026: A5 05        	lda	<R1
 12786 06:3028: 10 01        	bpl	L669
 12787 06:302A: 88           	dey
 12788                        L669:
 12789 06:302B: 85 05        	sta	<R1
 12790 06:302D: 84 07        	sty	<R1+2
 12791 06:302F: D4 07        	pei	<R1+2
 12792 06:3031: D4 05        	pei	<R1
 12793 06:3033: A9 08 00     	lda	#$8
 12794                        	xref	~~~lasl
 12795 06:3036: 22 xx xx xx  	jsl	~~~lasl
 12796 06:303A: 85 01        	sta	<R0
 12797 06:303C: 86 03        	stx	<R0+2
 12798 06:303E: 18           	clc
 12799 06:303F: A9 xx xx     	lda	#<~~windowIconImg
 12800 06:3042: 65 01        	adc	<R0
 12801 06:3044: 85 22        	sta	<L667+img_1
 12802 06:3046: A9 xx xx     	lda	#^~~windowIconImg
 12803 06:3049: 65 03        	adc	<R0+2
 12804 06:304B: 85 24        	sta	<L667+img_1+2
  Thu Jul 22 2021 22:51                                                Page 237


 12805                        ;	if(img!=NULL)
 12806                        	.line	1835
 12807                        ;	{
 12808 06:304D: A5 22        	lda	<L667+img_1
 12809 06:304F: 05 24        	ora	<L667+img_1+2
 12810 06:3051: D0 03        	bne	L670
 12811 06:3053: 82 E2 00     	brl	L10205
 12812                        L670:
 12813                        	.line	1836
 12814                        ;		py = 0;
 12815                        	.line	1837
 12816 06:3056: 64 17        	stz	<L667+py_1
 12817                        ;		for (y = 0; y < height; y+=scale) 
 12818                        	.line	1838
 12819 06:3058: 64 0B        	stz	<L667+y_1
 12820 06:305A: 82 CC 00     	brl	L10209
 12821                        L10208:
 12822                        ;		{
 12823                        	.line	1839
 12824                        ;			offy = y;
 12825                        	.line	1840
 12826 06:305D: A5 0B        	lda	<L667+y_1
 12827 06:305F: 85 1B        	sta	<L667+offy_1
 12828                        ;			px   = 0;
 12829                        	.line	1841
 12830 06:3061: 64 15        	stz	<L667+px_1
 12831                        ;			for (x = 0; x < width; x+=scale)
                     
 12832                        	.line	1842
 12833 06:3063: 64 09        	stz	<L667+x_1
 12834 06:3065: 82 A9 00     	brl	L10213
 12835                        L10212:
 12836                        ;			{
 12837                        	.line	1843
 12838                        ;				// get the pixel value
 12839                        ;				offx = x;
 12840                        	.line	1845
 12841 06:3068: A5 09        	lda	<L667+x_1
 12842 06:306A: 85 19        	sta	<L667+offx_1
 12843                        ;				b = img[py * ICONW + px]
                    ;
 12844                        	.line	1846
 12845 06:306C: A5 17        	lda	<L667+py_1
 12846 06:306E: 0A           	asl	A
 12847 06:306F: 0A           	asl	A
 12848 06:3070: 0A           	asl	A
 12849 06:3071: 0A           	asl	A
 12850 06:3072: 85 01        	sta	<R0
 12851 06:3074: 18           	clc
 12852 06:3075: A5 01        	lda	<R0
 12853 06:3077: 65 15        	adc	<L667+px_1
 12854 06:3079: 85 05        	sta	<R1
 12855 06:307B: E2 20        	sep	#$20
 12856                        	longa	off
 12857 06:307D: A4 05        	ldy	<R1
 12858 06:307F: B7 22        	lda	[<L667+img_1],Y
 12859 06:3081: 85 21        	sta	<L667+b_1
 12860 06:3083: C2 20        	rep	#$20
  Thu Jul 22 2021 22:51                                                Page 238


 12861                        	longa	on
 12862                        ;				if (b > -1) 
 12863                        	.line	1847
 12864                        ;				{ // plot the pixel	
                    				
 12865 06:3085: A5 21        	lda	<L667+b_1
 12866 06:3087: 29 FF 00     	and	#$ff
 12867 06:308A: 85 01        	sta	<R0
 12868 06:308C: 38           	sec
 12869 06:308D: A9 FF FF     	lda	#$ffff
 12870 06:3090: E5 01        	sbc	<R0
 12871 06:3092: 70 03        	bvs	L671
 12872 06:3094: 49 00 80     	eor	#$8000
 12873                        L671:
 12874 06:3097: 10 03        	bpl	L672
 12875 06:3099: 82 6C 00     	brl	L10214
 12876                        L672:
 12877                        	.line	1848
 12878                        ;					offy = y;
 12879                        	.line	1849
 12880 06:309C: A5 0B        	lda	<L667+y_1
 12881 06:309E: 85 1B        	sta	<L667+offy_1
 12882                        ;					for(sy=0;sy<scal
                    e;sy++)
 12883                        	.line	1850
 12884 06:30A0: 64 1F        	stz	<L667+sy_1
 12885 06:30A2: 82 54 00     	brl	L10218
 12886                        L10217:
 12887                        ;					{
 12888                        	.line	1851
 12889                        ;						offx = x
                    ;
 12890                        	.line	1852
 12891 06:30A5: A5 09        	lda	<L667+x_1
 12892 06:30A7: 85 19        	sta	<L667+offx_1
 12893                        ;						for(sx=0
                    ;sx<scale;sx++)
 12894                        	.line	1853
 12895 06:30A9: 64 1D        	stz	<L667+sx_1
 12896 06:30AB: 82 38 00     	brl	L10222
 12897                        L10221:
 12898                        ;						{
 12899                        	.line	1854
 12900                        ;							
                    k_draw_pixel(textX + offx, textY + offy, b);
 12901                        	.line	1855
 12902 06:30AE: D4 21        	pei	<L667+b_1
 12903 06:30B0: 18           	clc
 12904 06:30B1: A5 13        	lda	<L667+textY_1
 12905 06:30B3: 65 1B        	adc	<L667+offy_1
 12906 06:30B5: 85 01        	sta	<R0
 12907 06:30B7: A0 00 00     	ldy	#$0
 12908 06:30BA: A5 01        	lda	<R0
 12909 06:30BC: 10 01        	bpl	L673
 12910 06:30BE: 88           	dey
 12911                        L673:
 12912 06:30BF: 85 01        	sta	<R0
 12913 06:30C1: 84 03        	sty	<R0+2
  Thu Jul 22 2021 22:51                                                Page 239


 12914 06:30C3: D4 03        	pei	<R0+2
 12915 06:30C5: D4 01        	pei	<R0
 12916 06:30C7: 18           	clc
 12917 06:30C8: A5 11        	lda	<L667+textX_1
 12918 06:30CA: 65 19        	adc	<L667+offx_1
 12919 06:30CC: 85 05        	sta	<R1
 12920 06:30CE: A0 00 00     	ldy	#$0
 12921 06:30D1: A5 05        	lda	<R1
 12922 06:30D3: 10 01        	bpl	L674
 12923 06:30D5: 88           	dey
 12924                        L674:
 12925 06:30D6: 85 05        	sta	<R1
 12926 06:30D8: 84 07        	sty	<R1+2
 12927 06:30DA: D4 07        	pei	<R1+2
 12928 06:30DC: D4 05        	pei	<R1
 12929 06:30DE: 22 35 13 06  	jsl	~~k_draw_pixel
 12930                        ;							
                    offx++;
 12931                        	.line	1856
 12932 06:30E2: E6 19        	inc	<L667+offx_1
 12933                        ;						}
 12934                        	.line	1857
 12935                        L10219:
 12936 06:30E4: E6 1D        	inc	<L667+sx_1
 12937                        L10222:
 12938 06:30E6: 38           	sec
 12939 06:30E7: A5 1D        	lda	<L667+sx_1
 12940 06:30E9: E5 33        	sbc	<L666+scale_0
 12941 06:30EB: 70 03        	bvs	L675
 12942 06:30ED: 49 00 80     	eor	#$8000
 12943                        L675:
 12944 06:30F0: 30 03        	bmi	L676
 12945 06:30F2: 82 B9 FF     	brl	L10221
 12946                        L676:
 12947                        L10220:
 12948                        ;						offy++;
 12949                        	.line	1858
 12950 06:30F5: E6 1B        	inc	<L667+offy_1
 12951                        ;					}
 12952                        	.line	1859
 12953                        L10215:
 12954 06:30F7: E6 1F        	inc	<L667+sy_1
 12955                        L10218:
 12956 06:30F9: 38           	sec
 12957 06:30FA: A5 1F        	lda	<L667+sy_1
 12958 06:30FC: E5 33        	sbc	<L666+scale_0
 12959 06:30FE: 70 03        	bvs	L677
 12960 06:3100: 49 00 80     	eor	#$8000
 12961                        L677:
 12962 06:3103: 30 03        	bmi	L678
 12963 06:3105: 82 9D FF     	brl	L10217
 12964                        L678:
 12965                        L10216:
 12966                        ;				}
 12967                        	.line	1860
 12968                        ;				px++;
 12969                        L10214:
 12970                        	.line	1861
  Thu Jul 22 2021 22:51                                                Page 240


 12971 06:3108: E6 15        	inc	<L667+px_1
 12972                        ;			} // end "for x"
 12973                        	.line	1862
 12974                        L10210:
 12975 06:310A: 18           	clc
 12976 06:310B: A5 09        	lda	<L667+x_1
 12977 06:310D: 65 33        	adc	<L666+scale_0
 12978 06:310F: 85 09        	sta	<L667+x_1
 12979                        L10213:
 12980 06:3111: 38           	sec
 12981 06:3112: A5 09        	lda	<L667+x_1
 12982 06:3114: E5 0F        	sbc	<L667+width_1
 12983 06:3116: 70 03        	bvs	L679
 12984 06:3118: 49 00 80     	eor	#$8000
 12985                        L679:
 12986 06:311B: 30 03        	bmi	L680
 12987 06:311D: 82 48 FF     	brl	L10212
 12988                        L680:
 12989                        L10211:
 12990                        ;			py++;
 12991                        	.line	1863
 12992 06:3120: E6 17        	inc	<L667+py_1
 12993                        ;		} // end "for y"
 12994                        	.line	1864
 12995                        L10206:
 12996 06:3122: 18           	clc
 12997 06:3123: A5 0B        	lda	<L667+y_1
 12998 06:3125: 65 33        	adc	<L666+scale_0
 12999 06:3127: 85 0B        	sta	<L667+y_1
 13000                        L10209:
 13001 06:3129: 38           	sec
 13002 06:312A: A5 0B        	lda	<L667+y_1
 13003 06:312C: E5 0D        	sbc	<L667+height_1
 13004 06:312E: 70 03        	bvs	L681
 13005 06:3130: 49 00 80     	eor	#$8000
 13006                        L681:
 13007 06:3133: 30 03        	bmi	L682
 13008 06:3135: 82 25 FF     	brl	L10208
 13009                        L682:
 13010                        L10207:
 13011                        ;	}
 13012                        	.line	1865
 13013                        ;}
 13014                        L10205:
 13015                        	.line	1866
 13016                        L683:
 13017 06:3138: A5 27        	lda	<L666+2
 13018 06:313A: 85 33        	sta	<L666+2+12
 13019 06:313C: A5 26        	lda	<L666+1
 13020 06:313E: 85 32        	sta	<L666+1+12
 13021 06:3140: 2B           	pld
 13022 06:3141: 3B           	tsc
 13023 06:3142: 18           	clc
 13024 06:3143: 69 31 00     	adc	#L666+12
 13025 06:3146: 1B           	tcs
 13026 06:3147: 6B           	rtl
 13027                        	.endblock	1866
 13028             00000025   L666	equ	37
  Thu Jul 22 2021 22:51                                                Page 241


 13029             00000009   L667	equ	9
 13030 06:3148:              	ends
 13031                        	efunc
 13032                        	.endfunc	1866,9,37
 13033                        	.line	1866
 13034                        ;
 13035                        ;
 13036                        ;void k_put_font(char outChar,int row,int column,c
                    har color)
 13037                        ;{
 13038                        	.line	1869
 13039                        	.line	1870
 13040                        	GFX
 13041                        	xdef	~~k_put_font
 13042                        	func
 13043                        	.function	1870
 13044                        ~~k_put_font:
 13045                        	longa	on
 13046                        	longi	on
 13047 06:3148: 3B           	tsc
 13048 06:3149: 38           	sec
 13049 06:314A: E9 21 00     	sbc	#L684
 13050 06:314D: 1B           	tcs
 13051 06:314E: 0B           	phd
 13052 06:314F: 5B           	tcd
 13053             00000004   outChar_0	set	4
 13054             00000006   row_0	set	6
 13055             00000008   column_0	set	8
 13056             0000000A   color_0	set	10
 13057                        	.block	1870
 13058                        ;	int x = 0;
 13059                        ;	int y = 0;
 13060                        ;	int textX = row * FONTW;
 13061                        ;	int textY = column * FONTH;
 13062                        ;
 13063                        ;	char FAR* img = NULL;//fontImg[ix];
 13064                        ;
 13065                        ;    if(outChar == 32)
 13066             00000000   x_1	set	0
 13067             00000002   y_1	set	2
 13068             00000004   textX_1	set	4
 13069             00000006   textY_1	set	6
 13070             00000008   img_1	set	8
 13071                        	.sym	x,0,5,1,16
 13072                        	.sym	y,2,5,1,16
 13073                        	.sym	textX,4,5,1,16
 13074                        	.sym	textY,6,5,1,16
 13075                        	.sym	img,8,142,1,32
 13076                        	.sym	outChar,4,14,6,8
 13077                        	.sym	row,6,5,6,16
 13078                        	.sym	column,8,5,6,16
 13079                        	.sym	color,10,14,6,8
 13080 06:3150: 64 15        	stz	<L685+x_1
 13081 06:3152: 64 17        	stz	<L685+y_1
 13082 06:3154: 22 06 82 06  	jsl	~~k_font_getFontWidth
 13083 06:3158: 85 01        	sta	<R0
 13084 06:315A: A5 01        	lda	<R0
 13085 06:315C: A6 27        	ldx	<L684+row_0
  Thu Jul 22 2021 22:51                                                Page 242


 13086                        	xref	~~~mul
 13087 06:315E: 22 xx xx xx  	jsl	~~~mul
 13088 06:3162: 85 19        	sta	<L685+textX_1
 13089 06:3164: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 13090 06:3168: 85 01        	sta	<R0
 13091 06:316A: A5 01        	lda	<R0
 13092 06:316C: A6 29        	ldx	<L684+column_0
 13093                        	xref	~~~mul
 13094 06:316E: 22 xx xx xx  	jsl	~~~mul
 13095 06:3172: 85 1B        	sta	<L685+textY_1
 13096 06:3174: 64 1D        	stz	<L685+img_1
 13097 06:3176: 64 1F        	stz	<L685+img_1+2
 13098                        	.line	1878
 13099                        ;	{
 13100 06:3178: E2 20        	sep	#$20
 13101                        	longa	off
 13102 06:317A: A5 25        	lda	<L684+outChar_0
 13103 06:317C: C9 20        	cmp	#<$20
 13104 06:317E: C2 20        	rep	#$20
 13105                        	longa	on
 13106 06:3180: F0 03        	beq	L687
 13107 06:3182: 82 07 00     	brl	L10223
 13108                        L687:
 13109                        	.line	1879
 13110                        ;	   img = NULL;
 13111                        	.line	1880
 13112 06:3185: 64 1D        	stz	<L685+img_1
 13113 06:3187: 64 1F        	stz	<L685+img_1+2
 13114                        ;    }
 13115                        	.line	1881
 13116                        ;    else
 13117 06:3189: 82 5B 00     	brl	L10224
 13118                        L10223:
 13119                        ;	{
 13120                        	.line	1883
 13121                        ;	    img = fontImg[(int)characterROMMapping[(int)
                    (outChar & 0xFF)]];
 13122                        	.line	1884
 13123 06:318C: A5 25        	lda	<L684+outChar_0
 13124 06:318E: 29 FF 00     	and	#<$ff
 13125 06:3191: 85 09        	sta	<R2
 13126 06:3193: A0 00 00     	ldy	#$0
 13127 06:3196: A5 09        	lda	<R2
 13128 06:3198: 10 01        	bpl	L688
 13129 06:319A: 88           	dey
 13130                        L688:
 13131 06:319B: 85 09        	sta	<R2
 13132 06:319D: 84 0B        	sty	<R2+2
 13133 06:319F: D4 0B        	pei	<R2+2
 13134 06:31A1: D4 09        	pei	<R2
 13135 06:31A3: A9 01 00     	lda	#$1
 13136                        	xref	~~~lasl
 13137 06:31A6: 22 xx xx xx  	jsl	~~~lasl
 13138 06:31AA: 85 05        	sta	<R1
 13139 06:31AC: 86 07        	stx	<R1+2
 13140 06:31AE: 18           	clc
 13141 06:31AF: A9 xx xx     	lda	#<~~characterROMMapping
 13142 06:31B2: 65 05        	adc	<R1
  Thu Jul 22 2021 22:51                                                Page 243


 13143 06:31B4: 85 0D        	sta	<R3
 13144 06:31B6: A9 xx xx     	lda	#^~~characterROMMapping
 13145 06:31B9: 65 07        	adc	<R1+2
 13146 06:31BB: 85 0F        	sta	<R3+2
 13147 06:31BD: A0 00 00     	ldy	#$0
 13148 06:31C0: A7 0D        	lda	[<R3]
 13149 06:31C2: 10 01        	bpl	L689
 13150 06:31C4: 88           	dey
 13151                        L689:
 13152 06:31C5: 85 05        	sta	<R1
 13153 06:31C7: 84 07        	sty	<R1+2
 13154 06:31C9: D4 07        	pei	<R1+2
 13155 06:31CB: D4 05        	pei	<R1
 13156 06:31CD: A9 06 00     	lda	#$6
 13157                        	xref	~~~lasl
 13158 06:31D0: 22 xx xx xx  	jsl	~~~lasl
 13159 06:31D4: 85 01        	sta	<R0
 13160 06:31D6: 86 03        	stx	<R0+2
 13161 06:31D8: 18           	clc
 13162 06:31D9: A9 xx xx     	lda	#<~~fontImg
 13163 06:31DC: 65 01        	adc	<R0
 13164 06:31DE: 85 1D        	sta	<L685+img_1
 13165 06:31E0: A9 xx xx     	lda	#^~~fontImg
 13166 06:31E3: 65 03        	adc	<R0+2
 13167 06:31E5: 85 1F        	sta	<L685+img_1+2
 13168                        ;		//img = fontImg[0x02];
 13169                        ;	}
 13170                        	.line	1886
 13171                        L10224:
 13172                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 13173                        ;
 13174                        ;	// get the font 'image'
 13175                        ;        //char *img = fontImg[ix]; 
 13176                        ;        // loop through pixel rows
 13177                        ;	if(img!=NULL)
 13178                        	.line	1892
 13179                        ;	{
 13180 06:31E7: A5 1D        	lda	<L685+img_1
 13181 06:31E9: 05 1F        	ora	<L685+img_1+2
 13182 06:31EB: D0 03        	bne	L690
 13183 06:31ED: 82 DD 00     	brl	L10225
 13184                        L690:
 13185                        	.line	1893
 13186                        ;		for (y = 0; y < FONTH; y++) 
 13187                        	.line	1894
 13188 06:31F0: 64 17        	stz	<L685+y_1
 13189 06:31F2: 82 C9 00     	brl	L10229
 13190                        L10228:
 13191                        ;		{
 13192                        	.line	1895
 13193                        ;			// loop through pixel columns
 13194                        ;			for (x = 0; x < FONTW; x++) 
 13195                        	.line	1897
 13196 06:31F5: 64 15        	stz	<L685+x_1
 13197 06:31F7: 82 B3 00     	brl	L10233
 13198                        L10232:
 13199                        ;			{
  Thu Jul 22 2021 22:51                                                Page 244


 13200                        	.line	1898
 13201                        ;				// get the pixel value
 13202                        ;				char b = img[y * FONTW +
                     x];
 13203                        ;				if (b > 0) 
 13204                        	.block	1901
 13205             0000000C   b_2	set	12
 13206                        	.sym	b,12,14,1,8
 13207 06:31FA: 22 06 82 06  	jsl	~~k_font_getFontWidth
 13208 06:31FE: 85 01        	sta	<R0
 13209 06:3200: A5 01        	lda	<R0
 13210 06:3202: A6 17        	ldx	<L685+y_1
 13211                        	xref	~~~mul
 13212 06:3204: 22 xx xx xx  	jsl	~~~mul
 13213 06:3208: 85 01        	sta	<R0
 13214 06:320A: 18           	clc
 13215 06:320B: A5 01        	lda	<R0
 13216 06:320D: 65 15        	adc	<L685+x_1
 13217 06:320F: 85 05        	sta	<R1
 13218 06:3211: E2 20        	sep	#$20
 13219                        	longa	off
 13220 06:3213: A4 05        	ldy	<R1
 13221 06:3215: B7 1D        	lda	[<L685+img_1],Y
 13222 06:3217: 85 21        	sta	<L685+b_2
 13223 06:3219: C2 20        	rep	#$20
 13224                        	longa	on
 13225                        	.line	1901
 13226                        ;				{ // plot the pixel
 13227 06:321B: E2 20        	sep	#$20
 13228                        	longa	off
 13229 06:321D: A9 00        	lda	#$0
 13230 06:321F: C5 21        	cmp	<L685+b_2
 13231 06:3221: C2 20        	rep	#$20
 13232                        	longa	on
 13233 06:3223: 90 03        	bcc	L692
 13234 06:3225: 82 83 00     	brl	L10234
 13235                        L692:
 13236                        	.line	1902
 13237                        ;					//k_draw_pixel(t
                    extX + x, textY + y, color);
 13238                        ;					
 13239                        ;					((unsigned char 
                    FAR *)BITMAP_BANK_0)[(long)(( ((long)textY + y) * 640L) + ((
                    long)textX + x) )] = (char)color;
 13240                        	.line	1905
 13241 06:3228: A0 00 00     	ldy	#$0
 13242 06:322B: A5 19        	lda	<L685+textX_1
 13243 06:322D: 10 01        	bpl	L693
 13244 06:322F: 88           	dey
 13245                        L693:
 13246 06:3230: 85 01        	sta	<R0
 13247 06:3232: 84 03        	sty	<R0+2
 13248 06:3234: A0 00 00     	ldy	#$0
 13249 06:3237: A5 15        	lda	<L685+x_1
 13250 06:3239: 10 01        	bpl	L694
 13251 06:323B: 88           	dey
 13252                        L694:
 13253 06:323C: 85 05        	sta	<R1
  Thu Jul 22 2021 22:51                                                Page 245


 13254 06:323E: 84 07        	sty	<R1+2
 13255 06:3240: A0 00 00     	ldy	#$0
 13256 06:3243: A5 17        	lda	<L685+y_1
 13257 06:3245: 10 01        	bpl	L695
 13258 06:3247: 88           	dey
 13259                        L695:
 13260 06:3248: 85 09        	sta	<R2
 13261 06:324A: 84 0B        	sty	<R2+2
 13262 06:324C: A0 00 00     	ldy	#$0
 13263 06:324F: A5 1B        	lda	<L685+textY_1
 13264 06:3251: 10 01        	bpl	L696
 13265 06:3253: 88           	dey
 13266                        L696:
 13267 06:3254: 85 0D        	sta	<R3
 13268 06:3256: 84 0F        	sty	<R3+2
 13269 06:3258: 18           	clc
 13270 06:3259: A5 0D        	lda	<R3
 13271 06:325B: 65 09        	adc	<R2
 13272 06:325D: 85 11        	sta	<17
 13273 06:325F: A5 0F        	lda	<R3+2
 13274 06:3261: 65 0B        	adc	<R2+2
 13275 06:3263: 85 13        	sta	<17+2
 13276 06:3265: F4 00 00     	pea	#^$280
 13277 06:3268: F4 80 02     	pea	#<$280
 13278 06:326B: D4 13        	pei	<17+2
 13279 06:326D: D4 11        	pei	<17
 13280                        	xref	~~~lmul
 13281 06:326F: 22 xx xx xx  	jsl	~~~lmul
 13282 06:3273: 85 09        	sta	<R2
 13283 06:3275: 86 0B        	stx	<R2+2
 13284 06:3277: 18           	clc
 13285 06:3278: A5 09        	lda	<R2
 13286 06:327A: 65 05        	adc	<R1
 13287 06:327C: 85 0D        	sta	<R3
 13288 06:327E: A5 0B        	lda	<R2+2
 13289 06:3280: 65 07        	adc	<R1+2
 13290 06:3282: 85 0F        	sta	<R3+2
 13291 06:3284: 18           	clc
 13292 06:3285: A5 0D        	lda	<R3
 13293 06:3287: 65 01        	adc	<R0
 13294 06:3289: 85 05        	sta	<R1
 13295 06:328B: A5 0F        	lda	<R3+2
 13296 06:328D: 65 03        	adc	<R0+2
 13297 06:328F: 85 07        	sta	<R1+2
 13298 06:3291: 18           	clc
 13299 06:3292: A9 00 00     	lda	#$0
 13300 06:3295: 65 05        	adc	<R1
 13301 06:3297: 85 01        	sta	<R0
 13302 06:3299: A9 B0 00     	lda	#$b0
 13303 06:329C: 65 07        	adc	<R1+2
 13304 06:329E: 85 03        	sta	<R0+2
 13305 06:32A0: E2 20        	sep	#$20
 13306                        	longa	off
 13307 06:32A2: A5 2B        	lda	<L684+color_0
 13308 06:32A4: 87 01        	sta	[<R0]
 13309 06:32A6: C2 20        	rep	#$20
 13310                        	longa	on
 13311                        ;				}
  Thu Jul 22 2021 22:51                                                Page 246


 13312                        	.line	1906
 13313                        ;				else 
 13314 06:32A8: 82 00 00     	brl	L10235
 13315                        L10234:
 13316                        ;				{ 
 13317                        	.line	1908
 13318                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 13319                        ;				}
 13320                        	.line	1910
 13321                        L10235:
 13322                        ;			} // end "for x"
 13323                        	.endblock	1911
 13324                        	.line	1911
 13325                        L10230:
 13326 06:32AB: E6 15        	inc	<L685+x_1
 13327                        L10233:
 13328 06:32AD: 22 06 82 06  	jsl	~~k_font_getFontWidth
 13329 06:32B1: 85 01        	sta	<R0
 13330 06:32B3: A5 15        	lda	<L685+x_1
 13331 06:32B5: C5 01        	cmp	<R0
 13332 06:32B7: B0 03        	bcs	L697
 13333 06:32B9: 82 3E FF     	brl	L10232
 13334                        L697:
 13335                        L10231:
 13336                        ;		} // end "for y"
 13337                        	.line	1912
 13338                        L10226:
 13339 06:32BC: E6 17        	inc	<L685+y_1
 13340                        L10229:
 13341 06:32BE: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 13342 06:32C2: 85 01        	sta	<R0
 13343 06:32C4: A5 17        	lda	<L685+y_1
 13344 06:32C6: C5 01        	cmp	<R0
 13345 06:32C8: B0 03        	bcs	L698
 13346 06:32CA: 82 28 FF     	brl	L10228
 13347                        L698:
 13348                        L10227:
 13349                        ;	}
 13350                        	.line	1913
 13351                        ;}
 13352                        L10225:
 13353                        	.line	1914
 13354                        L699:
 13355 06:32CD: A5 23        	lda	<L684+2
 13356 06:32CF: 85 2B        	sta	<L684+2+8
 13357 06:32D1: A5 22        	lda	<L684+1
 13358 06:32D3: 85 2A        	sta	<L684+1+8
 13359 06:32D5: 2B           	pld
 13360 06:32D6: 3B           	tsc
 13361 06:32D7: 18           	clc
 13362 06:32D8: 69 29 00     	adc	#L684+8
 13363 06:32DB: 1B           	tcs
 13364 06:32DC: 6B           	rtl
 13365                        	.endblock	1914
 13366             00000021   L684	equ	33
 13367             00000015   L685	equ	21
 13368 06:32DD:              	ends
  Thu Jul 22 2021 22:51                                                Page 247


 13369                        	efunc
 13370                        	.endfunc	1914,21,33
 13371                        	.line	1914
 13372                        ;
 13373                        ;void k_put_font_scaled(char outChar,int row,int c
                    olumn,char color,int scale)
 13374                        ;{
 13375                        	.line	1916
 13376                        	.line	1917
 13377                        	GFX
 13378                        	xdef	~~k_put_font_scaled
 13379                        	func
 13380                        	.function	1917
 13381                        ~~k_put_font_scaled:
 13382                        	longa	on
 13383                        	longi	on
 13384 06:32DD: 3B           	tsc
 13385 06:32DE: 38           	sec
 13386 06:32DF: E9 2D 00     	sbc	#L700
 13387 06:32E2: 1B           	tcs
 13388 06:32E3: 0B           	phd
 13389 06:32E4: 5B           	tcd
 13390             00000004   outChar_0	set	4
 13391             00000006   row_0	set	6
 13392             00000008   column_0	set	8
 13393             0000000A   color_0	set	10
 13394             0000000C   scale_0	set	12
 13395                        	.block	1917
 13396                        ;	int x = 0;
 13397                        ;	int y = 0;
 13398                        ;
 13399                        ;	int height = FONTH * scale;
 13400                        ;	int width  = FONTW * scale;
 13401                        ;	
 13402                        ;	int textX = row    * height;
 13403                        ;	int textY = column * width;
 13404                        ;
 13405                        ;	int px   = 0;
 13406                        ;	int py   = 0;
 13407                        ;	int offx = 0;
 13408                        ;	int offy = 0;
 13409                        ;	int sx   = 0;
 13410                        ;	int sy   = 0;
 13411                        ;
 13412                        ;	char b   = 0;
 13413                        ;
 13414                        ;	char FAR* img = NULL;//fontImg[ix];
 13415                        ;
 13416                        ;    if(outChar == 32)
 13417             00000000   x_1	set	0
 13418             00000002   y_1	set	2
 13419             00000004   height_1	set	4
 13420             00000006   width_1	set	6
 13421             00000008   textX_1	set	8
 13422             0000000A   textY_1	set	10
 13423             0000000C   px_1	set	12
 13424             0000000E   py_1	set	14
 13425             00000010   offx_1	set	16
  Thu Jul 22 2021 22:51                                                Page 248


 13426             00000012   offy_1	set	18
 13427             00000014   sx_1	set	20
 13428             00000016   sy_1	set	22
 13429             00000018   b_1	set	24
 13430             00000019   img_1	set	25
 13431                        	.sym	x,0,5,1,16
 13432                        	.sym	y,2,5,1,16
 13433                        	.sym	height,4,5,1,16
 13434                        	.sym	width,6,5,1,16
 13435                        	.sym	textX,8,5,1,16
 13436                        	.sym	textY,10,5,1,16
 13437                        	.sym	px,12,5,1,16
 13438                        	.sym	py,14,5,1,16
 13439                        	.sym	offx,16,5,1,16
 13440                        	.sym	offy,18,5,1,16
 13441                        	.sym	sx,20,5,1,16
 13442                        	.sym	sy,22,5,1,16
 13443                        	.sym	b,24,14,1,8
 13444                        	.sym	img,25,142,1,32
 13445                        	.sym	outChar,4,14,6,8
 13446                        	.sym	row,6,5,6,16
 13447                        	.sym	column,8,5,6,16
 13448                        	.sym	color,10,14,6,8
 13449                        	.sym	scale,12,5,6,16
 13450 06:32E5: 64 11        	stz	<L701+x_1
 13451 06:32E7: 64 13        	stz	<L701+y_1
 13452 06:32E9: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 13453 06:32ED: 85 01        	sta	<R0
 13454 06:32EF: A5 01        	lda	<R0
 13455 06:32F1: A6 39        	ldx	<L700+scale_0
 13456                        	xref	~~~mul
 13457 06:32F3: 22 xx xx xx  	jsl	~~~mul
 13458 06:32F7: 85 15        	sta	<L701+height_1
 13459 06:32F9: 22 06 82 06  	jsl	~~k_font_getFontWidth
 13460 06:32FD: 85 01        	sta	<R0
 13461 06:32FF: A5 01        	lda	<R0
 13462 06:3301: A6 39        	ldx	<L700+scale_0
 13463                        	xref	~~~mul
 13464 06:3303: 22 xx xx xx  	jsl	~~~mul
 13465 06:3307: 85 17        	sta	<L701+width_1
 13466 06:3309: A5 33        	lda	<L700+row_0
 13467 06:330B: A6 15        	ldx	<L701+height_1
 13468                        	xref	~~~mul
 13469 06:330D: 22 xx xx xx  	jsl	~~~mul
 13470 06:3311: 85 19        	sta	<L701+textX_1
 13471 06:3313: A5 35        	lda	<L700+column_0
 13472 06:3315: A6 17        	ldx	<L701+width_1
 13473                        	xref	~~~mul
 13474 06:3317: 22 xx xx xx  	jsl	~~~mul
 13475 06:331B: 85 1B        	sta	<L701+textY_1
 13476 06:331D: 64 1D        	stz	<L701+px_1
 13477 06:331F: 64 1F        	stz	<L701+py_1
 13478 06:3321: 64 21        	stz	<L701+offx_1
 13479 06:3323: 64 23        	stz	<L701+offy_1
 13480 06:3325: 64 25        	stz	<L701+sx_1
 13481 06:3327: 64 27        	stz	<L701+sy_1
 13482 06:3329: E2 20        	sep	#$20
 13483                        	longa	off
  Thu Jul 22 2021 22:51                                                Page 249


 13484 06:332B: 64 29        	stz	<L701+b_1
 13485 06:332D: C2 20        	rep	#$20
 13486                        	longa	on
 13487 06:332F: 64 2A        	stz	<L701+img_1
 13488 06:3331: 64 2C        	stz	<L701+img_1+2
 13489                        	.line	1938
 13490                        ;	{
 13491 06:3333: E2 20        	sep	#$20
 13492                        	longa	off
 13493 06:3335: A5 31        	lda	<L700+outChar_0
 13494 06:3337: C9 20        	cmp	#<$20
 13495 06:3339: C2 20        	rep	#$20
 13496                        	longa	on
 13497 06:333B: F0 03        	beq	L703
 13498 06:333D: 82 07 00     	brl	L10236
 13499                        L703:
 13500                        	.line	1939
 13501                        ;	   img = NULL;//fontSpace;
 13502                        	.line	1940
 13503 06:3340: 64 2A        	stz	<L701+img_1
 13504 06:3342: 64 2C        	stz	<L701+img_1+2
 13505                        ;    }
 13506                        	.line	1941
 13507                        ;    else
 13508 06:3344: 82 5B 00     	brl	L10237
 13509                        L10236:
 13510                        ;	{
 13511                        	.line	1943
 13512                        ;	    img = fontImg[(int)characterROMMapping[(int)
                    (outChar & 0xFF)]];
 13513                        	.line	1944
 13514 06:3347: A5 31        	lda	<L700+outChar_0
 13515 06:3349: 29 FF 00     	and	#<$ff
 13516 06:334C: 85 09        	sta	<R2
 13517 06:334E: A0 00 00     	ldy	#$0
 13518 06:3351: A5 09        	lda	<R2
 13519 06:3353: 10 01        	bpl	L704
 13520 06:3355: 88           	dey
 13521                        L704:
 13522 06:3356: 85 09        	sta	<R2
 13523 06:3358: 84 0B        	sty	<R2+2
 13524 06:335A: D4 0B        	pei	<R2+2
 13525 06:335C: D4 09        	pei	<R2
 13526 06:335E: A9 01 00     	lda	#$1
 13527                        	xref	~~~lasl
 13528 06:3361: 22 xx xx xx  	jsl	~~~lasl
 13529 06:3365: 85 05        	sta	<R1
 13530 06:3367: 86 07        	stx	<R1+2
 13531 06:3369: 18           	clc
 13532 06:336A: A9 xx xx     	lda	#<~~characterROMMapping
 13533 06:336D: 65 05        	adc	<R1
 13534 06:336F: 85 0D        	sta	<R3
 13535 06:3371: A9 xx xx     	lda	#^~~characterROMMapping
 13536 06:3374: 65 07        	adc	<R1+2
 13537 06:3376: 85 0F        	sta	<R3+2
 13538 06:3378: A0 00 00     	ldy	#$0
 13539 06:337B: A7 0D        	lda	[<R3]
 13540 06:337D: 10 01        	bpl	L705
  Thu Jul 22 2021 22:51                                                Page 250


 13541 06:337F: 88           	dey
 13542                        L705:
 13543 06:3380: 85 05        	sta	<R1
 13544 06:3382: 84 07        	sty	<R1+2
 13545 06:3384: D4 07        	pei	<R1+2
 13546 06:3386: D4 05        	pei	<R1
 13547 06:3388: A9 06 00     	lda	#$6
 13548                        	xref	~~~lasl
 13549 06:338B: 22 xx xx xx  	jsl	~~~lasl
 13550 06:338F: 85 01        	sta	<R0
 13551 06:3391: 86 03        	stx	<R0+2
 13552 06:3393: 18           	clc
 13553 06:3394: A9 xx xx     	lda	#<~~fontImg
 13554 06:3397: 65 01        	adc	<R0
 13555 06:3399: 85 2A        	sta	<L701+img_1
 13556 06:339B: A9 xx xx     	lda	#^~~fontImg
 13557 06:339E: 65 03        	adc	<R0+2
 13558 06:33A0: 85 2C        	sta	<L701+img_1+2
 13559                        ;		//img = fontImg[0x01];
 13560                        ;	}
 13561                        	.line	1946
 13562                        L10237:
 13563                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 13564                        ;
 13565                        ;	// get the font 'image'
 13566                        ;        //char *img = fontImg[ix]; 
 13567                        ;        // loop through pixel rows
 13568                        ;	if(img!=NULL)
 13569                        	.line	1952
 13570                        ;	{
 13571 06:33A2: A5 2A        	lda	<L701+img_1
 13572 06:33A4: 05 2C        	ora	<L701+img_1+2
 13573 06:33A6: D0 03        	bne	L706
 13574 06:33A8: 82 E3 00     	brl	L10238
 13575                        L706:
 13576                        	.line	1953
 13577                        ;		py = 0;
 13578                        	.line	1954
 13579 06:33AB: 64 1F        	stz	<L701+py_1
 13580                        ;		for (y = 0; y < height; y+=scale) 
 13581                        	.line	1955
 13582 06:33AD: 64 13        	stz	<L701+y_1
 13583 06:33AF: 82 CD 00     	brl	L10242
 13584                        L10241:
 13585                        ;		{
 13586                        	.line	1956
 13587                        ;			offy = y;
 13588                        	.line	1957
 13589 06:33B2: A5 13        	lda	<L701+y_1
 13590 06:33B4: 85 23        	sta	<L701+offy_1
 13591                        ;			px = 0;
 13592                        	.line	1958
 13593 06:33B6: 64 1D        	stz	<L701+px_1
 13594                        ;			for (x = 0; x < width; x+=scale)
                     
 13595                        	.line	1959
 13596 06:33B8: 64 11        	stz	<L701+x_1
  Thu Jul 22 2021 22:51                                                Page 251


 13597 06:33BA: 82 AA 00     	brl	L10246
 13598                        L10245:
 13599                        ;			{
 13600                        	.line	1960
 13601                        ;				// get the pixel value
 13602                        ;				offx = x;
 13603                        	.line	1962
 13604 06:33BD: A5 11        	lda	<L701+x_1
 13605 06:33BF: 85 21        	sta	<L701+offx_1
 13606                        ;				b = img[py * FONTW + px]
                    ;
 13607                        	.line	1963
 13608 06:33C1: 22 06 82 06  	jsl	~~k_font_getFontWidth
 13609 06:33C5: 85 01        	sta	<R0
 13610 06:33C7: A5 01        	lda	<R0
 13611 06:33C9: A6 1F        	ldx	<L701+py_1
 13612                        	xref	~~~mul
 13613 06:33CB: 22 xx xx xx  	jsl	~~~mul
 13614 06:33CF: 85 01        	sta	<R0
 13615 06:33D1: 18           	clc
 13616 06:33D2: A5 01        	lda	<R0
 13617 06:33D4: 65 1D        	adc	<L701+px_1
 13618 06:33D6: 85 05        	sta	<R1
 13619 06:33D8: E2 20        	sep	#$20
 13620                        	longa	off
 13621 06:33DA: A4 05        	ldy	<R1
 13622 06:33DC: B7 2A        	lda	[<L701+img_1],Y
 13623 06:33DE: 85 29        	sta	<L701+b_1
 13624 06:33E0: C2 20        	rep	#$20
 13625                        	longa	on
 13626                        ;				if (b > 0) 
 13627                        	.line	1964
 13628                        ;				{ // plot the pixel	
                    				
 13629 06:33E2: E2 20        	sep	#$20
 13630                        	longa	off
 13631 06:33E4: A9 00        	lda	#$0
 13632 06:33E6: C5 29        	cmp	<L701+b_1
 13633 06:33E8: C2 20        	rep	#$20
 13634                        	longa	on
 13635 06:33EA: 90 03        	bcc	L707
 13636 06:33EC: 82 6F 00     	brl	L10247
 13637                        L707:
 13638                        	.line	1965
 13639                        ;					offy = y;
 13640                        	.line	1966
 13641 06:33EF: A5 13        	lda	<L701+y_1
 13642 06:33F1: 85 23        	sta	<L701+offy_1
 13643                        ;					for(sy=0;sy<scal
                    e;sy++)
 13644                        	.line	1967
 13645 06:33F3: 64 27        	stz	<L701+sy_1
 13646 06:33F5: 82 54 00     	brl	L10251
 13647                        L10250:
 13648                        ;					{
 13649                        	.line	1968
 13650                        ;						offx = x
                    ;
  Thu Jul 22 2021 22:51                                                Page 252


 13651                        	.line	1969
 13652 06:33F8: A5 11        	lda	<L701+x_1
 13653 06:33FA: 85 21        	sta	<L701+offx_1
 13654                        ;						for(sx=0
                    ;sx<scale;sx++)
 13655                        	.line	1970
 13656 06:33FC: 64 25        	stz	<L701+sx_1
 13657 06:33FE: 82 38 00     	brl	L10255
 13658                        L10254:
 13659                        ;						{
 13660                        	.line	1971
 13661                        ;							
                    k_draw_pixel(textX + offx, textY + offy, color);
 13662                        	.line	1972
 13663 06:3401: D4 37        	pei	<L700+color_0
 13664 06:3403: 18           	clc
 13665 06:3404: A5 1B        	lda	<L701+textY_1
 13666 06:3406: 65 23        	adc	<L701+offy_1
 13667 06:3408: 85 01        	sta	<R0
 13668 06:340A: A0 00 00     	ldy	#$0
 13669 06:340D: A5 01        	lda	<R0
 13670 06:340F: 10 01        	bpl	L708
 13671 06:3411: 88           	dey
 13672                        L708:
 13673 06:3412: 85 01        	sta	<R0
 13674 06:3414: 84 03        	sty	<R0+2
 13675 06:3416: D4 03        	pei	<R0+2
 13676 06:3418: D4 01        	pei	<R0
 13677 06:341A: 18           	clc
 13678 06:341B: A5 19        	lda	<L701+textX_1
 13679 06:341D: 65 21        	adc	<L701+offx_1
 13680 06:341F: 85 05        	sta	<R1
 13681 06:3421: A0 00 00     	ldy	#$0
 13682 06:3424: A5 05        	lda	<R1
 13683 06:3426: 10 01        	bpl	L709
 13684 06:3428: 88           	dey
 13685                        L709:
 13686 06:3429: 85 05        	sta	<R1
 13687 06:342B: 84 07        	sty	<R1+2
 13688 06:342D: D4 07        	pei	<R1+2
 13689 06:342F: D4 05        	pei	<R1
 13690 06:3431: 22 35 13 06  	jsl	~~k_draw_pixel
 13691                        ;							
                    offx++;
 13692                        	.line	1973
 13693 06:3435: E6 21        	inc	<L701+offx_1
 13694                        ;						}
 13695                        	.line	1974
 13696                        L10252:
 13697 06:3437: E6 25        	inc	<L701+sx_1
 13698                        L10255:
 13699 06:3439: 38           	sec
 13700 06:343A: A5 25        	lda	<L701+sx_1
 13701 06:343C: E5 39        	sbc	<L700+scale_0
 13702 06:343E: 70 03        	bvs	L710
 13703 06:3440: 49 00 80     	eor	#$8000
 13704                        L710:
 13705 06:3443: 30 03        	bmi	L711
  Thu Jul 22 2021 22:51                                                Page 253


 13706 06:3445: 82 B9 FF     	brl	L10254
 13707                        L711:
 13708                        L10253:
 13709                        ;						offy++;
 13710                        	.line	1975
 13711 06:3448: E6 23        	inc	<L701+offy_1
 13712                        ;					}
 13713                        	.line	1976
 13714                        L10248:
 13715 06:344A: E6 27        	inc	<L701+sy_1
 13716                        L10251:
 13717 06:344C: 38           	sec
 13718 06:344D: A5 27        	lda	<L701+sy_1
 13719 06:344F: E5 39        	sbc	<L700+scale_0
 13720 06:3451: 70 03        	bvs	L712
 13721 06:3453: 49 00 80     	eor	#$8000
 13722                        L712:
 13723 06:3456: 30 03        	bmi	L713
 13724 06:3458: 82 9D FF     	brl	L10250
 13725                        L713:
 13726                        L10249:
 13727                        ;					
 13728                        ;					//k_draw_pixel(t
                    extX + x, textY + y, color);
 13729                        ;				}
 13730                        	.line	1979
 13731                        ;				else 
 13732 06:345B: 82 00 00     	brl	L10256
 13733                        L10247:
 13734                        ;				{ 
 13735                        	.line	1981
 13736                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 13737                        ;				}
 13738                        	.line	1983
 13739                        L10256:
 13740                        ;				px++;
 13741                        	.line	1984
 13742 06:345E: E6 1D        	inc	<L701+px_1
 13743                        ;			} // end "for x"
 13744                        	.line	1985
 13745                        L10243:
 13746 06:3460: 18           	clc
 13747 06:3461: A5 11        	lda	<L701+x_1
 13748 06:3463: 65 39        	adc	<L700+scale_0
 13749 06:3465: 85 11        	sta	<L701+x_1
 13750                        L10246:
 13751 06:3467: 38           	sec
 13752 06:3468: A5 11        	lda	<L701+x_1
 13753 06:346A: E5 17        	sbc	<L701+width_1
 13754 06:346C: 70 03        	bvs	L714
 13755 06:346E: 49 00 80     	eor	#$8000
 13756                        L714:
 13757 06:3471: 30 03        	bmi	L715
 13758 06:3473: 82 47 FF     	brl	L10245
 13759                        L715:
 13760                        L10244:
 13761                        ;			py++;
  Thu Jul 22 2021 22:51                                                Page 254


 13762                        	.line	1986
 13763 06:3476: E6 1F        	inc	<L701+py_1
 13764                        ;		} // end "for y"
 13765                        	.line	1987
 13766                        L10239:
 13767 06:3478: 18           	clc
 13768 06:3479: A5 13        	lda	<L701+y_1
 13769 06:347B: 65 39        	adc	<L700+scale_0
 13770 06:347D: 85 13        	sta	<L701+y_1
 13771                        L10242:
 13772 06:347F: 38           	sec
 13773 06:3480: A5 13        	lda	<L701+y_1
 13774 06:3482: E5 15        	sbc	<L701+height_1
 13775 06:3484: 70 03        	bvs	L716
 13776 06:3486: 49 00 80     	eor	#$8000
 13777                        L716:
 13778 06:3489: 30 03        	bmi	L717
 13779 06:348B: 82 24 FF     	brl	L10241
 13780                        L717:
 13781                        L10240:
 13782                        ;	}
 13783                        	.line	1988
 13784                        ;}
 13785                        L10238:
 13786                        	.line	1989
 13787                        L718:
 13788 06:348E: A5 2F        	lda	<L700+2
 13789 06:3490: 85 39        	sta	<L700+2+10
 13790 06:3492: A5 2E        	lda	<L700+1
 13791 06:3494: 85 38        	sta	<L700+1+10
 13792 06:3496: 2B           	pld
 13793 06:3497: 3B           	tsc
 13794 06:3498: 18           	clc
 13795 06:3499: 69 37 00     	adc	#L700+10
 13796 06:349C: 1B           	tcs
 13797 06:349D: 6B           	rtl
 13798                        	.endblock	1989
 13799             0000002D   L700	equ	45
 13800             00000011   L701	equ	17
 13801 06:349E:              	ends
 13802                        	efunc
 13803                        	.endfunc	1989,17,45
 13804                        	.line	1989
 13805                        ;
 13806                        ;void k_draw_char(char charCode,int row,int column
                    ,char color)
 13807                        ;{
 13808                        	.line	1991
 13809                        	.line	1992
 13810                        	GFX
 13811                        	xdef	~~k_draw_char
 13812                        	func
 13813                        	.function	1992
 13814                        ~~k_draw_char:
 13815                        	longa	on
 13816                        	longi	on
 13817 06:349E: 3B           	tsc
 13818 06:349F: 38           	sec
  Thu Jul 22 2021 22:51                                                Page 255


 13819 06:34A0: E9 15 00     	sbc	#L719
 13820 06:34A3: 1B           	tcs
 13821 06:34A4: 0B           	phd
 13822 06:34A5: 5B           	tcd
 13823             00000004   charCode_0	set	4
 13824             00000006   row_0	set	6
 13825             00000008   column_0	set	8
 13826             0000000A   color_0	set	10
 13827                        	.block	1992
 13828                        ;	int x = 0;
 13829                        ;	int y = 0;
 13830                        ;
 13831                        ;	int textX = row * FONTH;
 13832                        ;	int textY = column * FONTW;
 13833                        ;	char b = 0;
 13834                        ;
 13835                        ;	char FAR* img = NULL;//fontImg[ix];
 13836                        ;
 13837                        ;    if(charCode == 32)
 13838             00000000   x_1	set	0
 13839             00000002   y_1	set	2
 13840             00000004   textX_1	set	4
 13841             00000006   textY_1	set	6
 13842             00000008   b_1	set	8
 13843             00000009   img_1	set	9
 13844                        	.sym	x,0,5,1,16
 13845                        	.sym	y,2,5,1,16
 13846                        	.sym	textX,4,5,1,16
 13847                        	.sym	textY,6,5,1,16
 13848                        	.sym	b,8,14,1,8
 13849                        	.sym	img,9,142,1,32
 13850                        	.sym	charCode,4,14,6,8
 13851                        	.sym	row,6,5,6,16
 13852                        	.sym	column,8,5,6,16
 13853                        	.sym	color,10,14,6,8
 13854 06:34A6: 64 09        	stz	<L720+x_1
 13855 06:34A8: 64 0B        	stz	<L720+y_1
 13856 06:34AA: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 13857 06:34AE: 85 01        	sta	<R0
 13858 06:34B0: A5 01        	lda	<R0
 13859 06:34B2: A6 1B        	ldx	<L719+row_0
 13860                        	xref	~~~mul
 13861 06:34B4: 22 xx xx xx  	jsl	~~~mul
 13862 06:34B8: 85 0D        	sta	<L720+textX_1
 13863 06:34BA: 22 06 82 06  	jsl	~~k_font_getFontWidth
 13864 06:34BE: 85 01        	sta	<R0
 13865 06:34C0: A5 01        	lda	<R0
 13866 06:34C2: A6 1D        	ldx	<L719+column_0
 13867                        	xref	~~~mul
 13868 06:34C4: 22 xx xx xx  	jsl	~~~mul
 13869 06:34C8: 85 0F        	sta	<L720+textY_1
 13870 06:34CA: E2 20        	sep	#$20
 13871                        	longa	off
 13872 06:34CC: 64 11        	stz	<L720+b_1
 13873 06:34CE: C2 20        	rep	#$20
 13874                        	longa	on
 13875 06:34D0: 64 12        	stz	<L720+img_1
 13876 06:34D2: 64 14        	stz	<L720+img_1+2
  Thu Jul 22 2021 22:51                                                Page 256


 13877                        	.line	2002
 13878                        ;	{
 13879 06:34D4: E2 20        	sep	#$20
 13880                        	longa	off
 13881 06:34D6: A5 19        	lda	<L719+charCode_0
 13882 06:34D8: C9 20        	cmp	#<$20
 13883 06:34DA: C2 20        	rep	#$20
 13884                        	longa	on
 13885 06:34DC: F0 03        	beq	L722
 13886 06:34DE: 82 07 00     	brl	L10257
 13887                        L722:
 13888                        	.line	2003
 13889                        ;	   img = NULL;//fontSpace;
 13890                        	.line	2004
 13891 06:34E1: 64 12        	stz	<L720+img_1
 13892 06:34E3: 64 14        	stz	<L720+img_1+2
 13893                        ;    }
 13894                        	.line	2005
 13895                        ;    else
 13896 06:34E5: 82 31 00     	brl	L10258
 13897                        L10257:
 13898                        ;	{
 13899                        	.line	2007
 13900                        ;	    img = fontImg[charCode & 0xFF];
 13901                        	.line	2008
 13902 06:34E8: A5 19        	lda	<L719+charCode_0
 13903 06:34EA: 29 FF 00     	and	#<$ff
 13904 06:34ED: 85 05        	sta	<R1
 13905 06:34EF: A0 00 00     	ldy	#$0
 13906 06:34F2: A5 05        	lda	<R1
 13907 06:34F4: 10 01        	bpl	L723
 13908 06:34F6: 88           	dey
 13909                        L723:
 13910 06:34F7: 85 05        	sta	<R1
 13911 06:34F9: 84 07        	sty	<R1+2
 13912 06:34FB: D4 07        	pei	<R1+2
 13913 06:34FD: D4 05        	pei	<R1
 13914 06:34FF: A9 06 00     	lda	#$6
 13915                        	xref	~~~lasl
 13916 06:3502: 22 xx xx xx  	jsl	~~~lasl
 13917 06:3506: 85 01        	sta	<R0
 13918 06:3508: 86 03        	stx	<R0+2
 13919 06:350A: 18           	clc
 13920 06:350B: A9 xx xx     	lda	#<~~fontImg
 13921 06:350E: 65 01        	adc	<R0
 13922 06:3510: 85 12        	sta	<L720+img_1
 13923 06:3512: A9 xx xx     	lda	#^~~fontImg
 13924 06:3515: 65 03        	adc	<R0+2
 13925 06:3517: 85 14        	sta	<L720+img_1+2
 13926                        ;	}
 13927                        	.line	2009
 13928                        L10258:
 13929                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 13930                        ;
 13931                        ;	// get the font 'image'
 13932                        ;        //char *img = fontImg[ix]; 
 13933                        ;        // loop through pixel rows
  Thu Jul 22 2021 22:51                                                Page 257


 13934                        ;	if(img!=NULL)
 13935                        	.line	2015
 13936                        ;	{
 13937 06:3519: A5 12        	lda	<L720+img_1
 13938 06:351B: 05 14        	ora	<L720+img_1+2
 13939 06:351D: D0 03        	bne	L724
 13940 06:351F: 82 91 00     	brl	L10259
 13941                        L724:
 13942                        	.line	2016
 13943                        ;		for (y = 0; y < FONTH; y++) 
 13944                        	.line	2017
 13945 06:3522: 64 0B        	stz	<L720+y_1
 13946 06:3524: 82 7D 00     	brl	L10263
 13947                        L10262:
 13948                        ;		{
 13949                        	.line	2018
 13950                        ;			// loop through pixel columns
 13951                        ;			for (x = 0; x < FONTW; x++) 
 13952                        	.line	2020
 13953 06:3527: 64 09        	stz	<L720+x_1
 13954 06:3529: 82 67 00     	brl	L10267
 13955                        L10266:
 13956                        ;			{
 13957                        	.line	2021
 13958                        ;				// get the pixel value
 13959                        ;				b = img[y * FONTW + x];
 13960                        	.line	2023
 13961 06:352C: 22 06 82 06  	jsl	~~k_font_getFontWidth
 13962 06:3530: 85 01        	sta	<R0
 13963 06:3532: A5 01        	lda	<R0
 13964 06:3534: A6 0B        	ldx	<L720+y_1
 13965                        	xref	~~~mul
 13966 06:3536: 22 xx xx xx  	jsl	~~~mul
 13967 06:353A: 85 01        	sta	<R0
 13968 06:353C: 18           	clc
 13969 06:353D: A5 01        	lda	<R0
 13970 06:353F: 65 09        	adc	<L720+x_1
 13971 06:3541: 85 05        	sta	<R1
 13972 06:3543: E2 20        	sep	#$20
 13973                        	longa	off
 13974 06:3545: A4 05        	ldy	<R1
 13975 06:3547: B7 12        	lda	[<L720+img_1],Y
 13976 06:3549: 85 11        	sta	<L720+b_1
 13977 06:354B: C2 20        	rep	#$20
 13978                        	longa	on
 13979                        ;				if (b > 0) 
 13980                        	.line	2024
 13981                        ;				{ // plot the pixel
 13982 06:354D: E2 20        	sep	#$20
 13983                        	longa	off
 13984 06:354F: A9 00        	lda	#$0
 13985 06:3551: C5 11        	cmp	<L720+b_1
 13986 06:3553: C2 20        	rep	#$20
 13987                        	longa	on
 13988 06:3555: 90 03        	bcc	L725
 13989 06:3557: 82 37 00     	brl	L10268
 13990                        L725:
 13991                        	.line	2025
  Thu Jul 22 2021 22:51                                                Page 258


 13992                        ;					k_draw_pixel(tex
                    tX + x, textY + y, color);
 13993                        	.line	2026
 13994 06:355A: D4 1F        	pei	<L719+color_0
 13995 06:355C: 18           	clc
 13996 06:355D: A5 0F        	lda	<L720+textY_1
 13997 06:355F: 65 0B        	adc	<L720+y_1
 13998 06:3561: 85 01        	sta	<R0
 13999 06:3563: A0 00 00     	ldy	#$0
 14000 06:3566: A5 01        	lda	<R0
 14001 06:3568: 10 01        	bpl	L726
 14002 06:356A: 88           	dey
 14003                        L726:
 14004 06:356B: 85 01        	sta	<R0
 14005 06:356D: 84 03        	sty	<R0+2
 14006 06:356F: D4 03        	pei	<R0+2
 14007 06:3571: D4 01        	pei	<R0
 14008 06:3573: 18           	clc
 14009 06:3574: A5 0D        	lda	<L720+textX_1
 14010 06:3576: 65 09        	adc	<L720+x_1
 14011 06:3578: 85 05        	sta	<R1
 14012 06:357A: A0 00 00     	ldy	#$0
 14013 06:357D: A5 05        	lda	<R1
 14014 06:357F: 10 01        	bpl	L727
 14015 06:3581: 88           	dey
 14016                        L727:
 14017 06:3582: 85 05        	sta	<R1
 14018 06:3584: 84 07        	sty	<R1+2
 14019 06:3586: D4 07        	pei	<R1+2
 14020 06:3588: D4 05        	pei	<R1
 14021 06:358A: 22 35 13 06  	jsl	~~k_draw_pixel
 14022                        ;				}
 14023                        	.line	2027
 14024                        ;				else 
 14025 06:358E: 82 00 00     	brl	L10269
 14026                        L10268:
 14027                        ;				{ 
 14028                        	.line	2029
 14029                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 14030                        ;				}
 14031                        	.line	2031
 14032                        L10269:
 14033                        ;			} // end "for x"
 14034                        	.line	2032
 14035                        L10264:
 14036 06:3591: E6 09        	inc	<L720+x_1
 14037                        L10267:
 14038 06:3593: 22 06 82 06  	jsl	~~k_font_getFontWidth
 14039 06:3597: 85 01        	sta	<R0
 14040 06:3599: A5 09        	lda	<L720+x_1
 14041 06:359B: C5 01        	cmp	<R0
 14042 06:359D: B0 03        	bcs	L728
 14043 06:359F: 82 8A FF     	brl	L10266
 14044                        L728:
 14045                        L10265:
 14046                        ;		} // end "for y"
 14047                        	.line	2033
  Thu Jul 22 2021 22:51                                                Page 259


 14048                        L10260:
 14049 06:35A2: E6 0B        	inc	<L720+y_1
 14050                        L10263:
 14051 06:35A4: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 14052 06:35A8: 85 01        	sta	<R0
 14053 06:35AA: A5 0B        	lda	<L720+y_1
 14054 06:35AC: C5 01        	cmp	<R0
 14055 06:35AE: B0 03        	bcs	L729
 14056 06:35B0: 82 74 FF     	brl	L10262
 14057                        L729:
 14058                        L10261:
 14059                        ;	}
 14060                        	.line	2034
 14061                        ;}
 14062                        L10259:
 14063                        	.line	2035
 14064                        L730:
 14065 06:35B3: A5 17        	lda	<L719+2
 14066 06:35B5: 85 1F        	sta	<L719+2+8
 14067 06:35B7: A5 16        	lda	<L719+1
 14068 06:35B9: 85 1E        	sta	<L719+1+8
 14069 06:35BB: 2B           	pld
 14070 06:35BC: 3B           	tsc
 14071 06:35BD: 18           	clc
 14072 06:35BE: 69 1D 00     	adc	#L719+8
 14073 06:35C1: 1B           	tcs
 14074 06:35C2: 6B           	rtl
 14075                        	.endblock	2035
 14076             00000015   L719	equ	21
 14077             00000009   L720	equ	9
 14078 06:35C3:              	ends
 14079                        	efunc
 14080                        	.endfunc	2035,9,21
 14081                        	.line	2035
 14082                        ;
 14083                        ;void k_draw_char_scaled(char charCode,int row,int
                     column,char color,int scale)
 14084                        ;{
 14085                        	.line	2037
 14086                        	.line	2038
 14087                        	GFX
 14088                        	xdef	~~k_draw_char_scaled
 14089                        	func
 14090                        	.function	2038
 14091                        ~~k_draw_char_scaled:
 14092                        	longa	on
 14093                        	longi	on
 14094 06:35C3: 3B           	tsc
 14095 06:35C4: 38           	sec
 14096 06:35C5: E9 25 00     	sbc	#L731
 14097 06:35C8: 1B           	tcs
 14098 06:35C9: 0B           	phd
 14099 06:35CA: 5B           	tcd
 14100             00000004   charCode_0	set	4
 14101             00000006   row_0	set	6
 14102             00000008   column_0	set	8
 14103             0000000A   color_0	set	10
 14104             0000000C   scale_0	set	12
  Thu Jul 22 2021 22:51                                                Page 260


 14105                        	.block	2038
 14106                        ;	int x = 0;
 14107                        ;	int y = 0;
 14108                        ;
 14109                        ;	int height = FONTH * scale;
 14110                        ;	int width  = FONTW * scale;
 14111                        ;	
 14112                        ;	int textX = row    * height;
 14113                        ;	int textY = column * width;
 14114                        ;
 14115                        ;	int px   = 0;
 14116                        ;	int py   = 0;
 14117                        ;	int offx = 0;
 14118                        ;	int offy = 0;
 14119                        ;	int sx   = 0;
 14120                        ;	int sy   = 0;
 14121                        ;
 14122                        ;	char b   = 0;
 14123                        ;
 14124                        ;	char FAR* img = NULL;
 14125                        ;
 14126                        ;    if(charCode == 32)
 14127             00000000   x_1	set	0
 14128             00000002   y_1	set	2
 14129             00000004   height_1	set	4
 14130             00000006   width_1	set	6
 14131             00000008   textX_1	set	8
 14132             0000000A   textY_1	set	10
 14133             0000000C   px_1	set	12
 14134             0000000E   py_1	set	14
 14135             00000010   offx_1	set	16
 14136             00000012   offy_1	set	18
 14137             00000014   sx_1	set	20
 14138             00000016   sy_1	set	22
 14139             00000018   b_1	set	24
 14140             00000019   img_1	set	25
 14141                        	.sym	x,0,5,1,16
 14142                        	.sym	y,2,5,1,16
 14143                        	.sym	height,4,5,1,16
 14144                        	.sym	width,6,5,1,16
 14145                        	.sym	textX,8,5,1,16
 14146                        	.sym	textY,10,5,1,16
 14147                        	.sym	px,12,5,1,16
 14148                        	.sym	py,14,5,1,16
 14149                        	.sym	offx,16,5,1,16
 14150                        	.sym	offy,18,5,1,16
 14151                        	.sym	sx,20,5,1,16
 14152                        	.sym	sy,22,5,1,16
 14153                        	.sym	b,24,14,1,8
 14154                        	.sym	img,25,142,1,32
 14155                        	.sym	charCode,4,14,6,8
 14156                        	.sym	row,6,5,6,16
 14157                        	.sym	column,8,5,6,16
 14158                        	.sym	color,10,14,6,8
 14159                        	.sym	scale,12,5,6,16
 14160 06:35CB: 64 09        	stz	<L732+x_1
 14161 06:35CD: 64 0B        	stz	<L732+y_1
 14162 06:35CF: 22 F1 81 06  	jsl	~~k_font_getFontHeight
  Thu Jul 22 2021 22:51                                                Page 261


 14163 06:35D3: 85 01        	sta	<R0
 14164 06:35D5: A5 01        	lda	<R0
 14165 06:35D7: A6 31        	ldx	<L731+scale_0
 14166                        	xref	~~~mul
 14167 06:35D9: 22 xx xx xx  	jsl	~~~mul
 14168 06:35DD: 85 0D        	sta	<L732+height_1
 14169 06:35DF: 22 06 82 06  	jsl	~~k_font_getFontWidth
 14170 06:35E3: 85 01        	sta	<R0
 14171 06:35E5: A5 01        	lda	<R0
 14172 06:35E7: A6 31        	ldx	<L731+scale_0
 14173                        	xref	~~~mul
 14174 06:35E9: 22 xx xx xx  	jsl	~~~mul
 14175 06:35ED: 85 0F        	sta	<L732+width_1
 14176 06:35EF: A5 2B        	lda	<L731+row_0
 14177 06:35F1: A6 0D        	ldx	<L732+height_1
 14178                        	xref	~~~mul
 14179 06:35F3: 22 xx xx xx  	jsl	~~~mul
 14180 06:35F7: 85 11        	sta	<L732+textX_1
 14181 06:35F9: A5 2D        	lda	<L731+column_0
 14182 06:35FB: A6 0F        	ldx	<L732+width_1
 14183                        	xref	~~~mul
 14184 06:35FD: 22 xx xx xx  	jsl	~~~mul
 14185 06:3601: 85 13        	sta	<L732+textY_1
 14186 06:3603: 64 15        	stz	<L732+px_1
 14187 06:3605: 64 17        	stz	<L732+py_1
 14188 06:3607: 64 19        	stz	<L732+offx_1
 14189 06:3609: 64 1B        	stz	<L732+offy_1
 14190 06:360B: 64 1D        	stz	<L732+sx_1
 14191 06:360D: 64 1F        	stz	<L732+sy_1
 14192 06:360F: E2 20        	sep	#$20
 14193                        	longa	off
 14194 06:3611: 64 21        	stz	<L732+b_1
 14195 06:3613: C2 20        	rep	#$20
 14196                        	longa	on
 14197 06:3615: 64 22        	stz	<L732+img_1
 14198 06:3617: 64 24        	stz	<L732+img_1+2
 14199                        	.line	2059
 14200                        ;	{
 14201 06:3619: E2 20        	sep	#$20
 14202                        	longa	off
 14203 06:361B: A5 29        	lda	<L731+charCode_0
 14204 06:361D: C9 20        	cmp	#<$20
 14205 06:361F: C2 20        	rep	#$20
 14206                        	longa	on
 14207 06:3621: F0 03        	beq	L734
 14208 06:3623: 82 07 00     	brl	L10270
 14209                        L734:
 14210                        	.line	2060
 14211                        ;	   img = NULL;
 14212                        	.line	2061
 14213 06:3626: 64 22        	stz	<L732+img_1
 14214 06:3628: 64 24        	stz	<L732+img_1+2
 14215                        ;    }
 14216                        	.line	2062
 14217                        ;    else
 14218 06:362A: 82 31 00     	brl	L10271
 14219                        L10270:
 14220                        ;	{
  Thu Jul 22 2021 22:51                                                Page 262


 14221                        	.line	2064
 14222                        ;	    img = fontImg[charCode & 0xFF];
 14223                        	.line	2065
 14224 06:362D: A5 29        	lda	<L731+charCode_0
 14225 06:362F: 29 FF 00     	and	#<$ff
 14226 06:3632: 85 05        	sta	<R1
 14227 06:3634: A0 00 00     	ldy	#$0
 14228 06:3637: A5 05        	lda	<R1
 14229 06:3639: 10 01        	bpl	L735
 14230 06:363B: 88           	dey
 14231                        L735:
 14232 06:363C: 85 05        	sta	<R1
 14233 06:363E: 84 07        	sty	<R1+2
 14234 06:3640: D4 07        	pei	<R1+2
 14235 06:3642: D4 05        	pei	<R1
 14236 06:3644: A9 06 00     	lda	#$6
 14237                        	xref	~~~lasl
 14238 06:3647: 22 xx xx xx  	jsl	~~~lasl
 14239 06:364B: 85 01        	sta	<R0
 14240 06:364D: 86 03        	stx	<R0+2
 14241 06:364F: 18           	clc
 14242 06:3650: A9 xx xx     	lda	#<~~fontImg
 14243 06:3653: 65 01        	adc	<R0
 14244 06:3655: 85 22        	sta	<L732+img_1
 14245 06:3657: A9 xx xx     	lda	#^~~fontImg
 14246 06:365A: 65 03        	adc	<R0+2
 14247 06:365C: 85 24        	sta	<L732+img_1+2
 14248                        ;	}
 14249                        	.line	2066
 14250                        L10271:
 14251                        ;
 14252                        ;	if(img!=NULL)
 14253                        	.line	2068
 14254                        ;	{
 14255 06:365E: A5 22        	lda	<L732+img_1
 14256 06:3660: 05 24        	ora	<L732+img_1+2
 14257 06:3662: D0 03        	bne	L736
 14258 06:3664: 82 E3 00     	brl	L10272
 14259                        L736:
 14260                        	.line	2069
 14261                        ;		py = 0;
 14262                        	.line	2070
 14263 06:3667: 64 17        	stz	<L732+py_1
 14264                        ;		for (y = 0; y < height; y+=scale) 
 14265                        	.line	2071
 14266 06:3669: 64 0B        	stz	<L732+y_1
 14267 06:366B: 82 CD 00     	brl	L10276
 14268                        L10275:
 14269                        ;		{
 14270                        	.line	2072
 14271                        ;			offy = y;
 14272                        	.line	2073
 14273 06:366E: A5 0B        	lda	<L732+y_1
 14274 06:3670: 85 1B        	sta	<L732+offy_1
 14275                        ;			px = 0;
 14276                        	.line	2074
 14277 06:3672: 64 15        	stz	<L732+px_1
 14278                        ;			for (x = 0; x < width; x+=scale)
  Thu Jul 22 2021 22:51                                                Page 263


                     
 14279                        	.line	2075
 14280 06:3674: 64 09        	stz	<L732+x_1
 14281 06:3676: 82 AA 00     	brl	L10280
 14282                        L10279:
 14283                        ;			{
 14284                        	.line	2076
 14285                        ;				// get the pixel value
 14286                        ;				offx = x;
 14287                        	.line	2078
 14288 06:3679: A5 09        	lda	<L732+x_1
 14289 06:367B: 85 19        	sta	<L732+offx_1
 14290                        ;				b = img[py * FONTW + px]
                    ;
 14291                        	.line	2079
 14292 06:367D: 22 06 82 06  	jsl	~~k_font_getFontWidth
 14293 06:3681: 85 01        	sta	<R0
 14294 06:3683: A5 01        	lda	<R0
 14295 06:3685: A6 17        	ldx	<L732+py_1
 14296                        	xref	~~~mul
 14297 06:3687: 22 xx xx xx  	jsl	~~~mul
 14298 06:368B: 85 01        	sta	<R0
 14299 06:368D: 18           	clc
 14300 06:368E: A5 01        	lda	<R0
 14301 06:3690: 65 15        	adc	<L732+px_1
 14302 06:3692: 85 05        	sta	<R1
 14303 06:3694: E2 20        	sep	#$20
 14304                        	longa	off
 14305 06:3696: A4 05        	ldy	<R1
 14306 06:3698: B7 22        	lda	[<L732+img_1],Y
 14307 06:369A: 85 21        	sta	<L732+b_1
 14308 06:369C: C2 20        	rep	#$20
 14309                        	longa	on
 14310                        ;				if (b > 0) 
 14311                        	.line	2080
 14312                        ;				{ // plot the pixel	
                    				
 14313 06:369E: E2 20        	sep	#$20
 14314                        	longa	off
 14315 06:36A0: A9 00        	lda	#$0
 14316 06:36A2: C5 21        	cmp	<L732+b_1
 14317 06:36A4: C2 20        	rep	#$20
 14318                        	longa	on
 14319 06:36A6: 90 03        	bcc	L737
 14320 06:36A8: 82 6F 00     	brl	L10281
 14321                        L737:
 14322                        	.line	2081
 14323                        ;					offy = y;
 14324                        	.line	2082
 14325 06:36AB: A5 0B        	lda	<L732+y_1
 14326 06:36AD: 85 1B        	sta	<L732+offy_1
 14327                        ;					for(sy=0;sy<scal
                    e;sy++)
 14328                        	.line	2083
 14329 06:36AF: 64 1F        	stz	<L732+sy_1
 14330 06:36B1: 82 54 00     	brl	L10285
 14331                        L10284:
 14332                        ;					{
  Thu Jul 22 2021 22:51                                                Page 264


 14333                        	.line	2084
 14334                        ;						offx = x
                    ;
 14335                        	.line	2085
 14336 06:36B4: A5 09        	lda	<L732+x_1
 14337 06:36B6: 85 19        	sta	<L732+offx_1
 14338                        ;						for(sx=0
                    ;sx<scale;sx++)
 14339                        	.line	2086
 14340 06:36B8: 64 1D        	stz	<L732+sx_1
 14341 06:36BA: 82 38 00     	brl	L10289
 14342                        L10288:
 14343                        ;						{
 14344                        	.line	2087
 14345                        ;							
                    k_draw_pixel(textX + offx, textY + offy, color);
 14346                        	.line	2088
 14347 06:36BD: D4 2F        	pei	<L731+color_0
 14348 06:36BF: 18           	clc
 14349 06:36C0: A5 13        	lda	<L732+textY_1
 14350 06:36C2: 65 1B        	adc	<L732+offy_1
 14351 06:36C4: 85 01        	sta	<R0
 14352 06:36C6: A0 00 00     	ldy	#$0
 14353 06:36C9: A5 01        	lda	<R0
 14354 06:36CB: 10 01        	bpl	L738
 14355 06:36CD: 88           	dey
 14356                        L738:
 14357 06:36CE: 85 01        	sta	<R0
 14358 06:36D0: 84 03        	sty	<R0+2
 14359 06:36D2: D4 03        	pei	<R0+2
 14360 06:36D4: D4 01        	pei	<R0
 14361 06:36D6: 18           	clc
 14362 06:36D7: A5 11        	lda	<L732+textX_1
 14363 06:36D9: 65 19        	adc	<L732+offx_1
 14364 06:36DB: 85 05        	sta	<R1
 14365 06:36DD: A0 00 00     	ldy	#$0
 14366 06:36E0: A5 05        	lda	<R1
 14367 06:36E2: 10 01        	bpl	L739
 14368 06:36E4: 88           	dey
 14369                        L739:
 14370 06:36E5: 85 05        	sta	<R1
 14371 06:36E7: 84 07        	sty	<R1+2
 14372 06:36E9: D4 07        	pei	<R1+2
 14373 06:36EB: D4 05        	pei	<R1
 14374 06:36ED: 22 35 13 06  	jsl	~~k_draw_pixel
 14375                        ;							
                    offx++;
 14376                        	.line	2089
 14377 06:36F1: E6 19        	inc	<L732+offx_1
 14378                        ;						}
 14379                        	.line	2090
 14380                        L10286:
 14381 06:36F3: E6 1D        	inc	<L732+sx_1
 14382                        L10289:
 14383 06:36F5: 38           	sec
 14384 06:36F6: A5 1D        	lda	<L732+sx_1
 14385 06:36F8: E5 31        	sbc	<L731+scale_0
 14386 06:36FA: 70 03        	bvs	L740
  Thu Jul 22 2021 22:51                                                Page 265


 14387 06:36FC: 49 00 80     	eor	#$8000
 14388                        L740:
 14389 06:36FF: 30 03        	bmi	L741
 14390 06:3701: 82 B9 FF     	brl	L10288
 14391                        L741:
 14392                        L10287:
 14393                        ;						offy++;
 14394                        	.line	2091
 14395 06:3704: E6 1B        	inc	<L732+offy_1
 14396                        ;					}
 14397                        	.line	2092
 14398                        L10282:
 14399 06:3706: E6 1F        	inc	<L732+sy_1
 14400                        L10285:
 14401 06:3708: 38           	sec
 14402 06:3709: A5 1F        	lda	<L732+sy_1
 14403 06:370B: E5 31        	sbc	<L731+scale_0
 14404 06:370D: 70 03        	bvs	L742
 14405 06:370F: 49 00 80     	eor	#$8000
 14406                        L742:
 14407 06:3712: 30 03        	bmi	L743
 14408 06:3714: 82 9D FF     	brl	L10284
 14409                        L743:
 14410                        L10283:
 14411                        ;					
 14412                        ;					//k_draw_pixel(t
                    extX + x, textY + y, color);
 14413                        ;				}
 14414                        	.line	2095
 14415                        ;				else 
 14416 06:3717: 82 00 00     	brl	L10290
 14417                        L10281:
 14418                        ;				{ 
 14419                        	.line	2097
 14420                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 14421                        ;				}
 14422                        	.line	2099
 14423                        L10290:
 14424                        ;				px++;
 14425                        	.line	2100
 14426 06:371A: E6 15        	inc	<L732+px_1
 14427                        ;			} // end "for x"
 14428                        	.line	2101
 14429                        L10277:
 14430 06:371C: 18           	clc
 14431 06:371D: A5 09        	lda	<L732+x_1
 14432 06:371F: 65 31        	adc	<L731+scale_0
 14433 06:3721: 85 09        	sta	<L732+x_1
 14434                        L10280:
 14435 06:3723: 38           	sec
 14436 06:3724: A5 09        	lda	<L732+x_1
 14437 06:3726: E5 0F        	sbc	<L732+width_1
 14438 06:3728: 70 03        	bvs	L744
 14439 06:372A: 49 00 80     	eor	#$8000
 14440                        L744:
 14441 06:372D: 30 03        	bmi	L745
 14442 06:372F: 82 47 FF     	brl	L10279
  Thu Jul 22 2021 22:51                                                Page 266


 14443                        L745:
 14444                        L10278:
 14445                        ;			py++;
 14446                        	.line	2102
 14447 06:3732: E6 17        	inc	<L732+py_1
 14448                        ;		} // end "for y"
 14449                        	.line	2103
 14450                        L10273:
 14451 06:3734: 18           	clc
 14452 06:3735: A5 0B        	lda	<L732+y_1
 14453 06:3737: 65 31        	adc	<L731+scale_0
 14454 06:3739: 85 0B        	sta	<L732+y_1
 14455                        L10276:
 14456 06:373B: 38           	sec
 14457 06:373C: A5 0B        	lda	<L732+y_1
 14458 06:373E: E5 0D        	sbc	<L732+height_1
 14459 06:3740: 70 03        	bvs	L746
 14460 06:3742: 49 00 80     	eor	#$8000
 14461                        L746:
 14462 06:3745: 30 03        	bmi	L747
 14463 06:3747: 82 24 FF     	brl	L10275
 14464                        L747:
 14465                        L10274:
 14466                        ;	}
 14467                        	.line	2104
 14468                        ;}
 14469                        L10272:
 14470                        	.line	2105
 14471                        L748:
 14472 06:374A: A5 27        	lda	<L731+2
 14473 06:374C: 85 31        	sta	<L731+2+10
 14474 06:374E: A5 26        	lda	<L731+1
 14475 06:3750: 85 30        	sta	<L731+1+10
 14476 06:3752: 2B           	pld
 14477 06:3753: 3B           	tsc
 14478 06:3754: 18           	clc
 14479 06:3755: 69 2F 00     	adc	#L731+10
 14480 06:3758: 1B           	tcs
 14481 06:3759: 6B           	rtl
 14482                        	.endblock	2105
 14483             00000025   L731	equ	37
 14484             00000009   L732	equ	9
 14485 06:375A:              	ends
 14486                        	efunc
 14487                        	.endfunc	2105,9,37
 14488                        	.line	2105
 14489                        ;
 14490                        ;
 14491                        ;void k_draw_char_scaled_point(char charCode,int l
                    ocX,int locY,char color,int scale)
 14492                        ;{
 14493                        	.line	2108
 14494                        	.line	2109
 14495                        	GFX
 14496                        	xdef	~~k_draw_char_scaled_point
 14497                        	func
 14498                        	.function	2109
 14499                        ~~k_draw_char_scaled_point:
  Thu Jul 22 2021 22:51                                                Page 267


 14500                        	longa	on
 14501                        	longi	on
 14502 06:375A: 3B           	tsc
 14503 06:375B: 38           	sec
 14504 06:375C: E9 25 00     	sbc	#L749
 14505 06:375F: 1B           	tcs
 14506 06:3760: 0B           	phd
 14507 06:3761: 5B           	tcd
 14508             00000004   charCode_0	set	4
 14509             00000006   locX_0	set	6
 14510             00000008   locY_0	set	8
 14511             0000000A   color_0	set	10
 14512             0000000C   scale_0	set	12
 14513                        	.block	2109
 14514                        ;	int x = 0;
 14515                        ;	int y = 0;
 14516                        ;
 14517                        ;	int height = FONTH * scale;
 14518                        ;	int width  = FONTW * scale;
 14519                        ;	
 14520                        ;	int textX = locX;
 14521                        ;	int textY = locY;
 14522                        ;
 14523                        ;	int px   = 0;
 14524                        ;	int py   = 0;
 14525                        ;	int offx = 0;
 14526                        ;	int offy = 0;
 14527                        ;	int sx   = 0;
 14528                        ;	int sy   = 0;
 14529                        ;
 14530                        ;	char b   = 0;
 14531                        ;
 14532                        ;	char FAR* img = NULL;
 14533                        ;
 14534                        ;    if(charCode == 32)
 14535             00000000   x_1	set	0
 14536             00000002   y_1	set	2
 14537             00000004   height_1	set	4
 14538             00000006   width_1	set	6
 14539             00000008   textX_1	set	8
 14540             0000000A   textY_1	set	10
 14541             0000000C   px_1	set	12
 14542             0000000E   py_1	set	14
 14543             00000010   offx_1	set	16
 14544             00000012   offy_1	set	18
 14545             00000014   sx_1	set	20
 14546             00000016   sy_1	set	22
 14547             00000018   b_1	set	24
 14548             00000019   img_1	set	25
 14549                        	.sym	x,0,5,1,16
 14550                        	.sym	y,2,5,1,16
 14551                        	.sym	height,4,5,1,16
 14552                        	.sym	width,6,5,1,16
 14553                        	.sym	textX,8,5,1,16
 14554                        	.sym	textY,10,5,1,16
 14555                        	.sym	px,12,5,1,16
 14556                        	.sym	py,14,5,1,16
 14557                        	.sym	offx,16,5,1,16
  Thu Jul 22 2021 22:51                                                Page 268


 14558                        	.sym	offy,18,5,1,16
 14559                        	.sym	sx,20,5,1,16
 14560                        	.sym	sy,22,5,1,16
 14561                        	.sym	b,24,14,1,8
 14562                        	.sym	img,25,142,1,32
 14563                        	.sym	charCode,4,14,6,8
 14564                        	.sym	locX,6,5,6,16
 14565                        	.sym	locY,8,5,6,16
 14566                        	.sym	color,10,14,6,8
 14567                        	.sym	scale,12,5,6,16
 14568 06:3762: 64 09        	stz	<L750+x_1
 14569 06:3764: 64 0B        	stz	<L750+y_1
 14570 06:3766: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 14571 06:376A: 85 01        	sta	<R0
 14572 06:376C: A5 01        	lda	<R0
 14573 06:376E: A6 31        	ldx	<L749+scale_0
 14574                        	xref	~~~mul
 14575 06:3770: 22 xx xx xx  	jsl	~~~mul
 14576 06:3774: 85 0D        	sta	<L750+height_1
 14577 06:3776: 22 06 82 06  	jsl	~~k_font_getFontWidth
 14578 06:377A: 85 01        	sta	<R0
 14579 06:377C: A5 01        	lda	<R0
 14580 06:377E: A6 31        	ldx	<L749+scale_0
 14581                        	xref	~~~mul
 14582 06:3780: 22 xx xx xx  	jsl	~~~mul
 14583 06:3784: 85 0F        	sta	<L750+width_1
 14584 06:3786: A5 2B        	lda	<L749+locX_0
 14585 06:3788: 85 11        	sta	<L750+textX_1
 14586 06:378A: A5 2D        	lda	<L749+locY_0
 14587 06:378C: 85 13        	sta	<L750+textY_1
 14588 06:378E: 64 15        	stz	<L750+px_1
 14589 06:3790: 64 17        	stz	<L750+py_1
 14590 06:3792: 64 19        	stz	<L750+offx_1
 14591 06:3794: 64 1B        	stz	<L750+offy_1
 14592 06:3796: 64 1D        	stz	<L750+sx_1
 14593 06:3798: 64 1F        	stz	<L750+sy_1
 14594 06:379A: E2 20        	sep	#$20
 14595                        	longa	off
 14596 06:379C: 64 21        	stz	<L750+b_1
 14597 06:379E: C2 20        	rep	#$20
 14598                        	longa	on
 14599 06:37A0: 64 22        	stz	<L750+img_1
 14600 06:37A2: 64 24        	stz	<L750+img_1+2
 14601                        	.line	2130
 14602                        ;	{
 14603 06:37A4: E2 20        	sep	#$20
 14604                        	longa	off
 14605 06:37A6: A5 29        	lda	<L749+charCode_0
 14606 06:37A8: C9 20        	cmp	#<$20
 14607 06:37AA: C2 20        	rep	#$20
 14608                        	longa	on
 14609 06:37AC: F0 03        	beq	L752
 14610 06:37AE: 82 07 00     	brl	L10291
 14611                        L752:
 14612                        	.line	2131
 14613                        ;	   img = NULL;
 14614                        	.line	2132
 14615 06:37B1: 64 22        	stz	<L750+img_1
  Thu Jul 22 2021 22:51                                                Page 269


 14616 06:37B3: 64 24        	stz	<L750+img_1+2
 14617                        ;    }
 14618                        	.line	2133
 14619                        ;    else
 14620 06:37B5: 82 31 00     	brl	L10292
 14621                        L10291:
 14622                        ;	{
 14623                        	.line	2135
 14624                        ;	    img = fontImg[charCode & 0xFF];
 14625                        	.line	2136
 14626 06:37B8: A5 29        	lda	<L749+charCode_0
 14627 06:37BA: 29 FF 00     	and	#<$ff
 14628 06:37BD: 85 05        	sta	<R1
 14629 06:37BF: A0 00 00     	ldy	#$0
 14630 06:37C2: A5 05        	lda	<R1
 14631 06:37C4: 10 01        	bpl	L753
 14632 06:37C6: 88           	dey
 14633                        L753:
 14634 06:37C7: 85 05        	sta	<R1
 14635 06:37C9: 84 07        	sty	<R1+2
 14636 06:37CB: D4 07        	pei	<R1+2
 14637 06:37CD: D4 05        	pei	<R1
 14638 06:37CF: A9 06 00     	lda	#$6
 14639                        	xref	~~~lasl
 14640 06:37D2: 22 xx xx xx  	jsl	~~~lasl
 14641 06:37D6: 85 01        	sta	<R0
 14642 06:37D8: 86 03        	stx	<R0+2
 14643 06:37DA: 18           	clc
 14644 06:37DB: A9 xx xx     	lda	#<~~fontImg
 14645 06:37DE: 65 01        	adc	<R0
 14646 06:37E0: 85 22        	sta	<L750+img_1
 14647 06:37E2: A9 xx xx     	lda	#^~~fontImg
 14648 06:37E5: 65 03        	adc	<R0+2
 14649 06:37E7: 85 24        	sta	<L750+img_1+2
 14650                        ;	}
 14651                        	.line	2137
 14652                        L10292:
 14653                        ;
 14654                        ;	if(img!=NULL)
 14655                        	.line	2139
 14656                        ;	{
 14657 06:37E9: A5 22        	lda	<L750+img_1
 14658 06:37EB: 05 24        	ora	<L750+img_1+2
 14659 06:37ED: D0 03        	bne	L754
 14660 06:37EF: 82 E3 00     	brl	L10293
 14661                        L754:
 14662                        	.line	2140
 14663                        ;		py = 0;
 14664                        	.line	2141
 14665 06:37F2: 64 17        	stz	<L750+py_1
 14666                        ;		for (y = 0; y < height; y+=scale) 
 14667                        	.line	2142
 14668 06:37F4: 64 0B        	stz	<L750+y_1
 14669 06:37F6: 82 CD 00     	brl	L10297
 14670                        L10296:
 14671                        ;		{
 14672                        	.line	2143
 14673                        ;			offy = y;
  Thu Jul 22 2021 22:51                                                Page 270


 14674                        	.line	2144
 14675 06:37F9: A5 0B        	lda	<L750+y_1
 14676 06:37FB: 85 1B        	sta	<L750+offy_1
 14677                        ;			px = 0;
 14678                        	.line	2145
 14679 06:37FD: 64 15        	stz	<L750+px_1
 14680                        ;			for (x = 0; x < width; x+=scale)
                     
 14681                        	.line	2146
 14682 06:37FF: 64 09        	stz	<L750+x_1
 14683 06:3801: 82 AA 00     	brl	L10301
 14684                        L10300:
 14685                        ;			{
 14686                        	.line	2147
 14687                        ;				// get the pixel value
 14688                        ;				offx = x;
 14689                        	.line	2149
 14690 06:3804: A5 09        	lda	<L750+x_1
 14691 06:3806: 85 19        	sta	<L750+offx_1
 14692                        ;				b = img[py * FONTW + px]
                    ;
 14693                        	.line	2150
 14694 06:3808: 22 06 82 06  	jsl	~~k_font_getFontWidth
 14695 06:380C: 85 01        	sta	<R0
 14696 06:380E: A5 01        	lda	<R0
 14697 06:3810: A6 17        	ldx	<L750+py_1
 14698                        	xref	~~~mul
 14699 06:3812: 22 xx xx xx  	jsl	~~~mul
 14700 06:3816: 85 01        	sta	<R0
 14701 06:3818: 18           	clc
 14702 06:3819: A5 01        	lda	<R0
 14703 06:381B: 65 15        	adc	<L750+px_1
 14704 06:381D: 85 05        	sta	<R1
 14705 06:381F: E2 20        	sep	#$20
 14706                        	longa	off
 14707 06:3821: A4 05        	ldy	<R1
 14708 06:3823: B7 22        	lda	[<L750+img_1],Y
 14709 06:3825: 85 21        	sta	<L750+b_1
 14710 06:3827: C2 20        	rep	#$20
 14711                        	longa	on
 14712                        ;				if (b > 0) 
 14713                        	.line	2151
 14714                        ;				{ // plot the pixel	
                    				
 14715 06:3829: E2 20        	sep	#$20
 14716                        	longa	off
 14717 06:382B: A9 00        	lda	#$0
 14718 06:382D: C5 21        	cmp	<L750+b_1
 14719 06:382F: C2 20        	rep	#$20
 14720                        	longa	on
 14721 06:3831: 90 03        	bcc	L755
 14722 06:3833: 82 6F 00     	brl	L10302
 14723                        L755:
 14724                        	.line	2152
 14725                        ;					offy = y;
 14726                        	.line	2153
 14727 06:3836: A5 0B        	lda	<L750+y_1
 14728 06:3838: 85 1B        	sta	<L750+offy_1
  Thu Jul 22 2021 22:51                                                Page 271


 14729                        ;					for(sy=0;sy<scal
                    e;sy++)
 14730                        	.line	2154
 14731 06:383A: 64 1F        	stz	<L750+sy_1
 14732 06:383C: 82 54 00     	brl	L10306
 14733                        L10305:
 14734                        ;					{
 14735                        	.line	2155
 14736                        ;						offx = x
                    ;
 14737                        	.line	2156
 14738 06:383F: A5 09        	lda	<L750+x_1
 14739 06:3841: 85 19        	sta	<L750+offx_1
 14740                        ;						for(sx=0
                    ;sx<scale;sx++)
 14741                        	.line	2157
 14742 06:3843: 64 1D        	stz	<L750+sx_1
 14743 06:3845: 82 38 00     	brl	L10310
 14744                        L10309:
 14745                        ;						{
 14746                        	.line	2158
 14747                        ;							
                    k_draw_pixel(textX + offx, textY + offy, color);
 14748                        	.line	2159
 14749 06:3848: D4 2F        	pei	<L749+color_0
 14750 06:384A: 18           	clc
 14751 06:384B: A5 13        	lda	<L750+textY_1
 14752 06:384D: 65 1B        	adc	<L750+offy_1
 14753 06:384F: 85 01        	sta	<R0
 14754 06:3851: A0 00 00     	ldy	#$0
 14755 06:3854: A5 01        	lda	<R0
 14756 06:3856: 10 01        	bpl	L756
 14757 06:3858: 88           	dey
 14758                        L756:
 14759 06:3859: 85 01        	sta	<R0
 14760 06:385B: 84 03        	sty	<R0+2
 14761 06:385D: D4 03        	pei	<R0+2
 14762 06:385F: D4 01        	pei	<R0
 14763 06:3861: 18           	clc
 14764 06:3862: A5 11        	lda	<L750+textX_1
 14765 06:3864: 65 19        	adc	<L750+offx_1
 14766 06:3866: 85 05        	sta	<R1
 14767 06:3868: A0 00 00     	ldy	#$0
 14768 06:386B: A5 05        	lda	<R1
 14769 06:386D: 10 01        	bpl	L757
 14770 06:386F: 88           	dey
 14771                        L757:
 14772 06:3870: 85 05        	sta	<R1
 14773 06:3872: 84 07        	sty	<R1+2
 14774 06:3874: D4 07        	pei	<R1+2
 14775 06:3876: D4 05        	pei	<R1
 14776 06:3878: 22 35 13 06  	jsl	~~k_draw_pixel
 14777                        ;							
                    offx++;
 14778                        	.line	2160
 14779 06:387C: E6 19        	inc	<L750+offx_1
 14780                        ;						}
 14781                        	.line	2161
  Thu Jul 22 2021 22:51                                                Page 272


 14782                        L10307:
 14783 06:387E: E6 1D        	inc	<L750+sx_1
 14784                        L10310:
 14785 06:3880: 38           	sec
 14786 06:3881: A5 1D        	lda	<L750+sx_1
 14787 06:3883: E5 31        	sbc	<L749+scale_0
 14788 06:3885: 70 03        	bvs	L758
 14789 06:3887: 49 00 80     	eor	#$8000
 14790                        L758:
 14791 06:388A: 30 03        	bmi	L759
 14792 06:388C: 82 B9 FF     	brl	L10309
 14793                        L759:
 14794                        L10308:
 14795                        ;						offy++;
 14796                        	.line	2162
 14797 06:388F: E6 1B        	inc	<L750+offy_1
 14798                        ;					}
 14799                        	.line	2163
 14800                        L10303:
 14801 06:3891: E6 1F        	inc	<L750+sy_1
 14802                        L10306:
 14803 06:3893: 38           	sec
 14804 06:3894: A5 1F        	lda	<L750+sy_1
 14805 06:3896: E5 31        	sbc	<L749+scale_0
 14806 06:3898: 70 03        	bvs	L760
 14807 06:389A: 49 00 80     	eor	#$8000
 14808                        L760:
 14809 06:389D: 30 03        	bmi	L761
 14810 06:389F: 82 9D FF     	brl	L10305
 14811                        L761:
 14812                        L10304:
 14813                        ;					
 14814                        ;					//k_draw_pixel(t
                    extX + x, textY + y, color);
 14815                        ;				}
 14816                        	.line	2166
 14817                        ;				else 
 14818 06:38A2: 82 00 00     	brl	L10311
 14819                        L10302:
 14820                        ;				{ 
 14821                        	.line	2168
 14822                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 14823                        ;				}
 14824                        	.line	2170
 14825                        L10311:
 14826                        ;				px++;
 14827                        	.line	2171
 14828 06:38A5: E6 15        	inc	<L750+px_1
 14829                        ;			} // end "for x"
 14830                        	.line	2172
 14831                        L10298:
 14832 06:38A7: 18           	clc
 14833 06:38A8: A5 09        	lda	<L750+x_1
 14834 06:38AA: 65 31        	adc	<L749+scale_0
 14835 06:38AC: 85 09        	sta	<L750+x_1
 14836                        L10301:
 14837 06:38AE: 38           	sec
  Thu Jul 22 2021 22:51                                                Page 273


 14838 06:38AF: A5 09        	lda	<L750+x_1
 14839 06:38B1: E5 0F        	sbc	<L750+width_1
 14840 06:38B3: 70 03        	bvs	L762
 14841 06:38B5: 49 00 80     	eor	#$8000
 14842                        L762:
 14843 06:38B8: 30 03        	bmi	L763
 14844 06:38BA: 82 47 FF     	brl	L10300
 14845                        L763:
 14846                        L10299:
 14847                        ;			py++;
 14848                        	.line	2173
 14849 06:38BD: E6 17        	inc	<L750+py_1
 14850                        ;		} // end "for y"
 14851                        	.line	2174
 14852                        L10294:
 14853 06:38BF: 18           	clc
 14854 06:38C0: A5 0B        	lda	<L750+y_1
 14855 06:38C2: 65 31        	adc	<L749+scale_0
 14856 06:38C4: 85 0B        	sta	<L750+y_1
 14857                        L10297:
 14858 06:38C6: 38           	sec
 14859 06:38C7: A5 0B        	lda	<L750+y_1
 14860 06:38C9: E5 0D        	sbc	<L750+height_1
 14861 06:38CB: 70 03        	bvs	L764
 14862 06:38CD: 49 00 80     	eor	#$8000
 14863                        L764:
 14864 06:38D0: 30 03        	bmi	L765
 14865 06:38D2: 82 24 FF     	brl	L10296
 14866                        L765:
 14867                        L10295:
 14868                        ;	}
 14869                        	.line	2175
 14870                        ;}
 14871                        L10293:
 14872                        	.line	2176
 14873                        L766:
 14874 06:38D5: A5 27        	lda	<L749+2
 14875 06:38D7: 85 31        	sta	<L749+2+10
 14876 06:38D9: A5 26        	lda	<L749+1
 14877 06:38DB: 85 30        	sta	<L749+1+10
 14878 06:38DD: 2B           	pld
 14879 06:38DE: 3B           	tsc
 14880 06:38DF: 18           	clc
 14881 06:38E0: 69 2F 00     	adc	#L749+10
 14882 06:38E3: 1B           	tcs
 14883 06:38E4: 6B           	rtl
 14884                        	.endblock	2176
 14885             00000025   L749	equ	37
 14886             00000009   L750	equ	9
 14887 06:38E5:              	ends
 14888                        	efunc
 14889                        	.endfunc	2176,9,37
 14890                        	.line	2176
 14891                        ;
 14892                        ;/*
 14893                        ;void k_render_bitmap_info(int fcolor)
 14894                        ;{
 14895                        ;	int x;
  Thu Jul 22 2021 22:51                                                Page 274


 14896                        ;	int y;
 14897                        ;	int pos = 0;
 14898                        ;	int i = 0;
 14899                        ;	int k = 0;
 14900                        ;	int cv = 0;
 14901                        ;	int cl = 0;
 14902                        ;	int lv = 0;
 14903                        ;	int lm = 0;
 14904                        ;	int bx = 0;
 14905                        ;	int by = 0;
 14906                        ;	int mx = -1;
 14907                        ;	int my = -1;
 14908                        ;	int mb = -1;
 14909                        ;	int bw = 0;
 14910                        ;	int bh = 0;
 14911                        ;	char kbchar = 0;
 14912                        ;
 14913                        ;	version_title = "Version 1.0.0\0";
 14914                        ;
 14915                        ;
 14916                        ;	pos=2;
 14917                        ;	pos=k_put_draw_text(pos,35,"FOENIX C256 VERSION:
                    ",fcolor,0);
 14918                        ;	k_get_c256_major_version(buffer);
 14919                        ;	pos=k_put_draw_text(pos,35,buffer,fcolor,0);
 14920                        ;	k_get_c256_minor_version(buffer);
 14921                        ;	pos=k_put_draw_text(pos,35,buffer,fcolor,0);
 14922                        ;	
 14923                        ;	pos=2;
 14924                        ;	pos=k_put_draw_text(pos,37,"FPGA VERSION:",fcolo
                    r,0);
 14925                        ;	k_get_fpga_date_month(buffer);
 14926                        ;	pos=k_put_draw_text(pos,37,k_pad_string(strbuf,b
                    uffer,'0',2),fcolor,0);
 14927                        ;	pos=k_put_draw_text(pos,37,"/",fcolor,0);
 14928                        ;	k_get_fpga_date_day(buffer);
 14929                        ;	pos=k_put_draw_text(pos,37,k_pad_string(strbuf,b
                    uffer,'0',2),fcolor,0);
 14930                        ;	pos=k_put_draw_text(pos,37,"/",fcolor,0);
 14931                        ;	k_get_fpga_date_year(buffer);
 14932                        ;	pos=k_put_draw_text(pos,37,k_pad_string(strbuf,b
                    uffer,'0',2),fcolor,0);
 14933                        ;
 14934                        ;
 14935                        ;	pos = 2;
 14936                        ;	pos=k_put_draw_text(pos,2,"CURRENT COLOR:",15,0)
                    ;
 14937                        ;	k_itoa(fcolor,buffer,10);
 14938                        ;	pos=k_put_draw_text(pos,2,buffer,15,0);
 14939                        ;
 14940                        ;	pos = 2;
 14941                        ;	k_draw_pixel(0,0,fcolor);
 14942                        ;	pos=k_put_draw_text(pos,3,"READ COLOR AT 0,0 :",
                    15,0);
 14943                        ;	k_itoa(k_get_pixel_color(0,0),buffer,10);
 14944                        ;	pos=k_put_draw_text(pos,3,buffer,15,0);
 14945                        ;
 14946                        ;
  Thu Jul 22 2021 22:51                                                Page 275


 14947                        ;
 14948                        ;	pos = 2;
 14949                        ;	pos=k_put_draw_text(pos,41,"SIZEOF CHAR:",fcolor
                    ,0);
 14950                        ;	k_itoa(sizeof(char),buffer,10);
 14951                        ;	pos=k_put_draw_text(pos,41,buffer,fcolor,0);
 14952                        ;
 14953                        ;	pos = 2;
 14954                        ;	pos=k_put_draw_text(pos,42,"SIZEOF INT:",fcolor,
                    0);
 14955                        ;	k_itoa(sizeof(int),buffer,10);
 14956                        ;	pos=k_put_draw_text(pos,42,buffer,fcolor,0);
 14957                        ;
 14958                        ;	pos = 2;
 14959                        ;	pos=k_put_draw_text(pos,43,"SIZEOF LONG:",fcolor
                    ,0);
 14960                        ;	k_itoa(sizeof(long),buffer,10);
 14961                        ;	pos=k_put_draw_text(pos,43,buffer,fcolor,0);
 14962                        ;
 14963                        ;	pos = 2;
 14964                        ;	pos=k_put_draw_text(pos,44,"SIZEOF CHAR*:",fcolo
                    r,0);
 14965                        ;	k_itoa(sizeof(char*),buffer,10);
 14966                        ;	pos=k_put_draw_text(pos,44,buffer,fcolor,0);
 14967                        ;
 14968                        ;	pos = 2;
 14969                        ;	pos=k_put_draw_text(pos,45,"SIZEOF CHAR FAR*:",f
                    color,0);
 14970                        ;	k_itoa(sizeof(char FAR*),buffer,10);
 14971                        ;	pos=k_put_draw_text(pos,45,buffer,fcolor,0);
 14972                        ;
 14973                        ;
 14974                        ;	pos = 2;
 14975                        ;	pos=k_put_draw_text(pos,46,"SIZEOF UINT:",fcolor
                    ,0);
 14976                        ;	k_itoa(sizeof(unsigned int),buffer,10);
 14977                        ;	pos=k_put_draw_text(pos,46,buffer,fcolor,0);
 14978                        ;
 14979                        ;	pos = 2;
 14980                        ;	pos=k_put_draw_text(pos,47,"SIZEOF ULONG:",fcolo
                    r,0);
 14981                        ;	k_itoa(sizeof(unsigned long),buffer,10);
 14982                        ;	pos=k_put_draw_text(pos,47,buffer,fcolor,0);
 14983                        ;
 14984                        ;}
 14985                        ;*/
 14986                        ;void k_draw_lines(void)
 14987                        ;{
 14988                        	.line	2272
 14989                        	.line	2273
 14990                        	GFX
 14991                        	xdef	~~k_draw_lines
 14992                        	func
 14993                        	.function	2273
 14994                        ~~k_draw_lines:
 14995                        	longa	on
 14996                        	longi	on
 14997 06:38E5: 3B           	tsc
  Thu Jul 22 2021 22:51                                                Page 276


 14998 06:38E6: 38           	sec
 14999 06:38E7: E9 0A 00     	sbc	#L767
 15000 06:38EA: 1B           	tcs
 15001 06:38EB: 0B           	phd
 15002 06:38EC: 5B           	tcd
 15003                        	.block	2273
 15004                        ;	int dx = 0;
 15005                        ;	int dy = 0;
 15006                        ;	int bc = 1;	
 15007                        ;	int dx0 = 0;
 15008                        ;	int dy0 = 0;
 15009                        ;	
 15010                        ;	for(dy=0;dy<480;dy+=5)
 15011             00000000   dx_1	set	0
 15012             00000002   dy_1	set	2
 15013             00000004   bc_1	set	4
 15014             00000006   dx0_1	set	6
 15015             00000008   dy0_1	set	8
 15016                        	.sym	dx,0,5,1,16
 15017                        	.sym	dy,2,5,1,16
 15018                        	.sym	bc,4,5,1,16
 15019                        	.sym	dx0,6,5,1,16
 15020                        	.sym	dy0,8,5,1,16
 15021 06:38ED: 64 01        	stz	<L768+dx_1
 15022 06:38EF: 64 03        	stz	<L768+dy_1
 15023 06:38F1: A9 01 00     	lda	#$1
 15024 06:38F4: 85 05        	sta	<L768+bc_1
 15025 06:38F6: 64 07        	stz	<L768+dx0_1
 15026 06:38F8: 64 09        	stz	<L768+dy0_1
 15027                        	.line	2280
 15028 06:38FA: 64 03        	stz	<L768+dy_1
 15029                        L10314:
 15030                        ;	{
 15031                        	.line	2281
 15032                        ;		//if(dx0!=0 && dy0!=0)
 15033                        ;		//	k_draw_line(0,dy0,dx0,479,0);
 15034                        ;		
 15035                        ;		k_draw_line(0,dy,dx,479,bc);
 15036                        	.line	2285
 15037 06:38FC: D4 05        	pei	<L768+bc_1
 15038 06:38FE: F4 DF 01     	pea	#<$1df
 15039 06:3901: D4 01        	pei	<L768+dx_1
 15040 06:3903: D4 03        	pei	<L768+dy_1
 15041 06:3905: F4 00 00     	pea	#<$0
 15042 06:3908: 22 C5 1A 06  	jsl	~~k_draw_line
 15043                        ;
 15044                        ;		dx0 = dx;
 15045                        	.line	2287
 15046 06:390C: A5 01        	lda	<L768+dx_1
 15047 06:390E: 85 07        	sta	<L768+dx0_1
 15048                        ;		dy0 = dy;
 15049                        	.line	2288
 15050 06:3910: A5 03        	lda	<L768+dy_1
 15051 06:3912: 85 09        	sta	<L768+dy0_1
 15052                        ;		
 15053                        ;		dx+=5;
 15054                        	.line	2290
 15055 06:3914: 18           	clc
  Thu Jul 22 2021 22:51                                                Page 277


 15056 06:3915: A9 05 00     	lda	#$5
 15057 06:3918: 65 01        	adc	<L768+dx_1
 15058 06:391A: 85 01        	sta	<L768+dx_1
 15059                        ;		bc++;
 15060                        	.line	2291
 15061 06:391C: E6 05        	inc	<L768+bc_1
 15062                        ;		if(bc > 15)
 15063                        	.line	2292
 15064                        ;			bc = 1;
 15065 06:391E: 38           	sec
 15066 06:391F: A9 0F 00     	lda	#$f
 15067 06:3922: E5 05        	sbc	<L768+bc_1
 15068 06:3924: 70 03        	bvs	L770
 15069 06:3926: 49 00 80     	eor	#$8000
 15070                        L770:
 15071 06:3929: 10 03        	bpl	L771
 15072 06:392B: 82 05 00     	brl	L10315
 15073                        L771:
 15074                        	.line	2293
 15075 06:392E: A9 01 00     	lda	#$1
 15076 06:3931: 85 05        	sta	<L768+bc_1
 15077                        ;		
 15078                        ;		
 15079                        ;	}
 15080                        L10315:
 15081                        	.line	2296
 15082                        L10312:
 15083 06:3933: 18           	clc
 15084 06:3934: A9 05 00     	lda	#$5
 15085 06:3937: 65 03        	adc	<L768+dy_1
 15086 06:3939: 85 03        	sta	<L768+dy_1
 15087 06:393B: 38           	sec
 15088 06:393C: A5 03        	lda	<L768+dy_1
 15089 06:393E: E9 E0 01     	sbc	#<$1e0
 15090 06:3941: 70 03        	bvs	L772
 15091 06:3943: 49 00 80     	eor	#$8000
 15092                        L772:
 15093 06:3946: 30 03        	bmi	L773
 15094 06:3948: 82 B1 FF     	brl	L10314
 15095                        L773:
 15096                        L10313:
 15097                        ;
 15098                        ;
 15099                        ;	dx=479;
 15100                        	.line	2299
 15101 06:394B: A9 DF 01     	lda	#$1df
 15102 06:394E: 85 01        	sta	<L768+dx_1
 15103                        ;	bc = 1;
 15104                        	.line	2300
 15105 06:3950: A9 01 00     	lda	#$1
 15106 06:3953: 85 05        	sta	<L768+bc_1
 15107                        ;	for(dy=479;dy>=0;dy-=5)
 15108                        	.line	2301
 15109 06:3955: A9 DF 01     	lda	#$1df
 15110 06:3958: 85 03        	sta	<L768+dy_1
 15111                        L10318:
 15112                        ;	{
 15113                        	.line	2302
  Thu Jul 22 2021 22:51                                                Page 278


 15114                        ;		
 15115                        ;		//if(dx!=480 && dy!=480)
 15116                        ;		//	k_draw_line(640,dy,dx,0,15);
 15117                        ;		
 15118                        ;		k_draw_line(639,dy,dx,0,bc);
 15119                        	.line	2307
 15120 06:395A: D4 05        	pei	<L768+bc_1
 15121 06:395C: F4 00 00     	pea	#<$0
 15122 06:395F: D4 01        	pei	<L768+dx_1
 15123 06:3961: D4 03        	pei	<L768+dy_1
 15124 06:3963: F4 7F 02     	pea	#<$27f
 15125 06:3966: 22 C5 1A 06  	jsl	~~k_draw_line
 15126                        ;		
 15127                        ;		dx-=5;
 15128                        	.line	2309
 15129 06:396A: 18           	clc
 15130 06:396B: A9 FB FF     	lda	#$fffb
 15131 06:396E: 65 01        	adc	<L768+dx_1
 15132 06:3970: 85 01        	sta	<L768+dx_1
 15133                        ;		bc++;
 15134                        	.line	2310
 15135 06:3972: E6 05        	inc	<L768+bc_1
 15136                        ;		if(bc > 15)
 15137                        	.line	2311
 15138                        ;			bc = 1;
 15139 06:3974: 38           	sec
 15140 06:3975: A9 0F 00     	lda	#$f
 15141 06:3978: E5 05        	sbc	<L768+bc_1
 15142 06:397A: 70 03        	bvs	L774
 15143 06:397C: 49 00 80     	eor	#$8000
 15144                        L774:
 15145 06:397F: 10 03        	bpl	L775
 15146 06:3981: 82 05 00     	brl	L10319
 15147                        L775:
 15148                        	.line	2312
 15149 06:3984: A9 01 00     	lda	#$1
 15150 06:3987: 85 05        	sta	<L768+bc_1
 15151                        ;	}
 15152                        L10319:
 15153                        	.line	2313
 15154                        L10316:
 15155 06:3989: 18           	clc
 15156 06:398A: A9 FB FF     	lda	#$fffb
 15157 06:398D: 65 03        	adc	<L768+dy_1
 15158 06:398F: 85 03        	sta	<L768+dy_1
 15159 06:3991: A5 03        	lda	<L768+dy_1
 15160 06:3993: 30 03        	bmi	L776
 15161 06:3995: 82 C2 FF     	brl	L10318
 15162                        L776:
 15163                        L10317:
 15164                        ;	
 15165                        ;	/*
 15166                        ;	for(x=0;x<640;x+=10)
 15167                        ;	{
 15168                        ;		
 15169                        ;		for(y=0;y<480;y+=10)
 15170                        ;		{
 15171                        ;			if(x!=0 && y!=0)
  Thu Jul 22 2021 22:51                                                Page 279


 15172                        ;				k_draw_line(x,y,640 - x,
                    480 - y,0);
 15173                        ;			k_draw_line(x,y,640 - x,480 - y,
                    15);
 15174                        ;		}
 15175                        ;		
 15176                        ;	}
 15177                        ;	*/
 15178                        ;}
 15179                        	.line	2328
 15180                        L777:
 15181 06:3998: 2B           	pld
 15182 06:3999: 3B           	tsc
 15183 06:399A: 18           	clc
 15184 06:399B: 69 0A 00     	adc	#L767
 15185 06:399E: 1B           	tcs
 15186 06:399F: 6B           	rtl
 15187                        	.endblock	2328
 15188             0000000A   L767	equ	10
 15189             00000001   L768	equ	1
 15190 06:39A0:              	ends
 15191                        	efunc
 15192                        	.endfunc	2328,1,10
 15193                        	.line	2328
 15194                        ;
 15195                        ;void k_draw_fontset(void)
 15196                        ;{
 15197                        	.line	2330
 15198                        	.line	2331
 15199                        	GFX
 15200                        	xdef	~~k_draw_fontset
 15201                        	func
 15202                        	.function	2331
 15203                        ~~k_draw_fontset:
 15204                        	longa	on
 15205                        	longi	on
 15206 06:39A0: 3B           	tsc
 15207 06:39A1: 38           	sec
 15208 06:39A2: E9 0B 00     	sbc	#L778
 15209 06:39A5: 1B           	tcs
 15210 06:39A6: 0B           	phd
 15211 06:39A7: 5B           	tcd
 15212                        	.block	2331
 15213                        ;	int bx = 0;
 15214                        ;	int by = 29; 
 15215                        ;	int bc = 15;
 15216                        ;	char bf = 1;
 15217                        ;	
 15218                        ;	for(bf=0;bf<64;bf++)
 15219             00000000   bx_1	set	0
 15220             00000002   by_1	set	2
 15221             00000004   bc_1	set	4
 15222             00000006   bf_1	set	6
 15223                        	.sym	bx,0,5,1,16
 15224                        	.sym	by,2,5,1,16
 15225                        	.sym	bc,4,5,1,16
 15226                        	.sym	bf,6,14,1,8
 15227 06:39A8: 64 05        	stz	<L779+bx_1
  Thu Jul 22 2021 22:51                                                Page 280


 15228 06:39AA: A9 1D 00     	lda	#$1d
 15229 06:39AD: 85 07        	sta	<L779+by_1
 15230 06:39AF: A9 0F 00     	lda	#$f
 15231 06:39B2: 85 09        	sta	<L779+bc_1
 15232 06:39B4: E2 20        	sep	#$20
 15233                        	longa	off
 15234 06:39B6: A9 01        	lda	#$1
 15235 06:39B8: 85 0B        	sta	<L779+bf_1
 15236 06:39BA: C2 20        	rep	#$20
 15237                        	longa	on
 15238                        	.line	2337
 15239 06:39BC: E2 20        	sep	#$20
 15240                        	longa	off
 15241 06:39BE: 64 0B        	stz	<L779+bf_1
 15242 06:39C0: C2 20        	rep	#$20
 15243                        	longa	on
 15244 06:39C2: 82 81 00     	brl	L10323
 15245                        L10322:
 15246                        ;	{
 15247                        	.line	2338
 15248                        ;		k_draw_char((char)bf*1,bx,by,bc);
 15249                        	.line	2339
 15250 06:39C5: D4 09        	pei	<L779+bc_1
 15251 06:39C7: D4 07        	pei	<L779+by_1
 15252 06:39C9: D4 05        	pei	<L779+bx_1
 15253 06:39CB: A5 0B        	lda	<L779+bf_1
 15254 06:39CD: 29 FF 00     	and	#$ff
 15255 06:39D0: 48           	pha
 15256 06:39D1: 22 9E 34 06  	jsl	~~k_draw_char
 15257                        ;		k_draw_char((char)bf+64,bx,by + 1,bc);
 15258                        	.line	2340
 15259 06:39D5: D4 09        	pei	<L779+bc_1
 15260 06:39D7: A5 07        	lda	<L779+by_1
 15261 06:39D9: 1A           	ina
 15262 06:39DA: 48           	pha
 15263 06:39DB: D4 05        	pei	<L779+bx_1
 15264 06:39DD: A5 0B        	lda	<L779+bf_1
 15265 06:39DF: 29 FF 00     	and	#$ff
 15266 06:39E2: 85 01        	sta	<R0
 15267 06:39E4: 18           	clc
 15268 06:39E5: A9 40 00     	lda	#$40
 15269 06:39E8: 65 01        	adc	<R0
 15270 06:39EA: 48           	pha
 15271 06:39EB: 22 9E 34 06  	jsl	~~k_draw_char
 15272                        ;		k_draw_char((char)bf+128,bx,by + 2,bc);
 15273                        	.line	2341
 15274 06:39EF: D4 09        	pei	<L779+bc_1
 15275 06:39F1: 18           	clc
 15276 06:39F2: A9 02 00     	lda	#$2
 15277 06:39F5: 65 07        	adc	<L779+by_1
 15278 06:39F7: 48           	pha
 15279 06:39F8: D4 05        	pei	<L779+bx_1
 15280 06:39FA: A5 0B        	lda	<L779+bf_1
 15281 06:39FC: 29 FF 00     	and	#$ff
 15282 06:39FF: 85 01        	sta	<R0
 15283 06:3A01: 18           	clc
 15284 06:3A02: A9 80 00     	lda	#$80
 15285 06:3A05: 65 01        	adc	<R0
  Thu Jul 22 2021 22:51                                                Page 281


 15286 06:3A07: 48           	pha
 15287 06:3A08: 22 9E 34 06  	jsl	~~k_draw_char
 15288                        ;		k_draw_char((char)bf+192,bx,by + 3,bc);
 15289                        	.line	2342
 15290 06:3A0C: D4 09        	pei	<L779+bc_1
 15291 06:3A0E: 18           	clc
 15292 06:3A0F: A9 03 00     	lda	#$3
 15293 06:3A12: 65 07        	adc	<L779+by_1
 15294 06:3A14: 48           	pha
 15295 06:3A15: D4 05        	pei	<L779+bx_1
 15296 06:3A17: A5 0B        	lda	<L779+bf_1
 15297 06:3A19: 29 FF 00     	and	#$ff
 15298 06:3A1C: 85 01        	sta	<R0
 15299 06:3A1E: 18           	clc
 15300 06:3A1F: A9 C0 00     	lda	#$c0
 15301 06:3A22: 65 01        	adc	<R0
 15302 06:3A24: 48           	pha
 15303 06:3A25: 22 9E 34 06  	jsl	~~k_draw_char
 15304                        ;
 15305                        ;
 15306                        ;		if(bc > 15)
 15307                        	.line	2345
 15308                        ;			bc = 1;
 15309 06:3A29: 38           	sec
 15310 06:3A2A: A9 0F 00     	lda	#$f
 15311 06:3A2D: E5 09        	sbc	<L779+bc_1
 15312 06:3A2F: 70 03        	bvs	L781
 15313 06:3A31: 49 00 80     	eor	#$8000
 15314                        L781:
 15315 06:3A34: 10 03        	bpl	L782
 15316 06:3A36: 82 05 00     	brl	L10324
 15317                        L782:
 15318                        	.line	2346
 15319 06:3A39: A9 01 00     	lda	#$1
 15320 06:3A3C: 85 09        	sta	<L779+bc_1
 15321                        ;		
 15322                        ;		bx++;
 15323                        L10324:
 15324                        	.line	2348
 15325 06:3A3E: E6 05        	inc	<L779+bx_1
 15326                        ;	}
 15327                        	.line	2349
 15328                        L10320:
 15329 06:3A40: E2 20        	sep	#$20
 15330                        	longa	off
 15331 06:3A42: E6 0B        	inc	<L779+bf_1
 15332 06:3A44: C2 20        	rep	#$20
 15333                        	longa	on
 15334                        L10323:
 15335 06:3A46: E2 20        	sep	#$20
 15336                        	longa	off
 15337 06:3A48: A5 0B        	lda	<L779+bf_1
 15338 06:3A4A: C9 40        	cmp	#<$40
 15339 06:3A4C: C2 20        	rep	#$20
 15340                        	longa	on
 15341 06:3A4E: B0 03        	bcs	L783
 15342 06:3A50: 82 72 FF     	brl	L10322
 15343                        L783:
  Thu Jul 22 2021 22:51                                                Page 282


 15344                        L10321:
 15345                        ;
 15346                        ;}
 15347                        	.line	2351
 15348                        L784:
 15349 06:3A53: 2B           	pld
 15350 06:3A54: 3B           	tsc
 15351 06:3A55: 18           	clc
 15352 06:3A56: 69 0B 00     	adc	#L778
 15353 06:3A59: 1B           	tcs
 15354 06:3A5A: 6B           	rtl
 15355                        	.endblock	2351
 15356             0000000B   L778	equ	11
 15357             00000005   L779	equ	5
 15358 06:3A5B:              	ends
 15359                        	efunc
 15360                        	.endfunc	2351,5,11
 15361                        	.line	2351
 15362                        ;
 15363                        ;/*
 15364                        ;void k_fill_bank(int bankId,char fcolor)
 15365                        ;{
 15366                        ;	long fill = 0xffffL;
 15367                        ;	
 15368                        ;	if(bankId == 0)
 15369                        ;	{
 15370                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    0,fcolor + 0,fill);
 15371                        ;		((unsigned char FAR *)BITMAP_BANK_0)[fil
                    l] = fcolor;
 15372                        ;	}
 15373                        ;	else if(bankId == 1)
 15374                        ;	{
 15375                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    1,fcolor + 0,fill);
 15376                        ;		((unsigned char FAR *)BITMAP_BANK_1)[fil
                    l] = fcolor;
 15377                        ;	}
 15378                        ;	else if(bankId == 2)
 15379                        ;	{
 15380                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    2,fcolor + 0,fill);
 15381                        ;		((unsigned char FAR *)BITMAP_BANK_2)[fil
                    l] = fcolor;
 15382                        ;	}
 15383                        ;	else if(bankId == 3)
 15384                        ;	{
 15385                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    3,fcolor + 0,fill);
 15386                        ;		((unsigned char FAR *)BITMAP_BANK_3)[fil
                    l] = fcolor;
 15387                        ;	}
 15388                        ;	else if(bankId == 4)
 15389                        ;	{
 15390                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    4,fcolor + 0,fill);
 15391                        ;		((unsigned char FAR *)BITMAP_BANK_4)[fil
                    l] = fcolor;
  Thu Jul 22 2021 22:51                                                Page 283


 15392                        ;	}
 15393                        ;	else if(bankId == 5)
 15394                        ;	{
 15395                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    5,fcolor + 0,fill);
 15396                        ;		((unsigned char FAR *)BITMAP_BANK_5)[fil
                    l] = fcolor;
 15397                        ;	}
 15398                        ;
 15399                        ;}
 15400                        ;*/
 15401                        ;
 15402                        ;
 15403                        ;
 15404                        ;void k_fill_line(int cx,int cy,int width,int colo
                    r)
 15405                        ;{
 15406                        	.line	2394
 15407                        	.line	2395
 15408                        	GFX
 15409                        	xdef	~~k_fill_line
 15410                        	func
 15411                        	.function	2395
 15412                        ~~k_fill_line:
 15413                        	longa	on
 15414                        	longi	on
 15415 06:3A5B: 3B           	tsc
 15416 06:3A5C: 38           	sec
 15417 06:3A5D: E9 0C 00     	sbc	#L785
 15418 06:3A60: 1B           	tcs
 15419 06:3A61: 0B           	phd
 15420 06:3A62: 5B           	tcd
 15421             00000004   cx_0	set	4
 15422             00000006   cy_0	set	6
 15423             00000008   width_0	set	8
 15424             0000000A   color_0	set	10
 15425                        	.block	2395
 15426                        ;
 15427                        ;	long locStart = (long)(( ((long)cy) * 640L) + ((
                    long)cx) );
 15428                        ;	memset(&(((unsigned char FAR *)BITMAP_BANK_0)[lo
                    cStart]),color,width);
 15429             00000000   locStart_1	set	0
 15430                        	.sym	locStart,0,7,1,32
 15431                        	.sym	cx,4,5,6,16
 15432                        	.sym	cy,6,5,6,16
 15433                        	.sym	width,8,5,6,16
 15434                        	.sym	color,10,5,6,16
 15435 06:3A63: A0 00 00     	ldy	#$0
 15436 06:3A66: A5 10        	lda	<L785+cx_0
 15437 06:3A68: 10 01        	bpl	L788
 15438 06:3A6A: 88           	dey
 15439                        L788:
 15440 06:3A6B: 85 01        	sta	<R0
 15441 06:3A6D: 84 03        	sty	<R0+2
 15442 06:3A6F: A0 00 00     	ldy	#$0
 15443 06:3A72: A5 12        	lda	<L785+cy_0
 15444 06:3A74: 10 01        	bpl	L789
  Thu Jul 22 2021 22:51                                                Page 284


 15445 06:3A76: 88           	dey
 15446                        L789:
 15447 06:3A77: 85 05        	sta	<R1
 15448 06:3A79: 84 07        	sty	<R1+2
 15449 06:3A7B: F4 00 00     	pea	#^$280
 15450 06:3A7E: F4 80 02     	pea	#<$280
 15451 06:3A81: D4 07        	pei	<R1+2
 15452 06:3A83: D4 05        	pei	<R1
 15453                        	xref	~~~lmul
 15454 06:3A85: 22 xx xx xx  	jsl	~~~lmul
 15455 06:3A89: 85 05        	sta	<R1
 15456 06:3A8B: 86 07        	stx	<R1+2
 15457 06:3A8D: 18           	clc
 15458 06:3A8E: A5 05        	lda	<R1
 15459 06:3A90: 65 01        	adc	<R0
 15460 06:3A92: 85 09        	sta	<L786+locStart_1
 15461 06:3A94: A5 07        	lda	<R1+2
 15462 06:3A96: 65 03        	adc	<R0+2
 15463 06:3A98: 85 0B        	sta	<L786+locStart_1+2
 15464                        	.line	2398
 15465 06:3A9A: D4 14        	pei	<L785+width_0
 15466 06:3A9C: D4 16        	pei	<L785+color_0
 15467 06:3A9E: 18           	clc
 15468 06:3A9F: A9 00 00     	lda	#$0
 15469 06:3AA2: 65 09        	adc	<L786+locStart_1
 15470 06:3AA4: 85 01        	sta	<R0
 15471 06:3AA6: A9 B0 00     	lda	#$b0
 15472 06:3AA9: 65 0B        	adc	<L786+locStart_1+2
 15473 06:3AAB: 85 03        	sta	<R0+2
 15474 06:3AAD: D4 03        	pei	<R0+2
 15475 06:3AAF: D4 01        	pei	<R0
 15476 06:3AB1: 22 xx xx xx  	jsl	~~memset
 15477                        ;}
 15478                        	.line	2399
 15479                        L790:
 15480 06:3AB5: A5 0E        	lda	<L785+2
 15481 06:3AB7: 85 16        	sta	<L785+2+8
 15482 06:3AB9: A5 0D        	lda	<L785+1
 15483 06:3ABB: 85 15        	sta	<L785+1+8
 15484 06:3ABD: 2B           	pld
 15485 06:3ABE: 3B           	tsc
 15486 06:3ABF: 18           	clc
 15487 06:3AC0: 69 14 00     	adc	#L785+8
 15488 06:3AC3: 1B           	tcs
 15489 06:3AC4: 6B           	rtl
 15490                        	.endblock	2399
 15491             0000000C   L785	equ	12
 15492             00000009   L786	equ	9
 15493 06:3AC5:              	ends
 15494                        	efunc
 15495                        	.endfunc	2399,9,12
 15496                        	.line	2399
 15497                        ;
 15498                        ;void k_vdraw_filled_rect(int cx,int cy,int height
                    ,int width,int color)
 15499                        ;{
 15500                        	.line	2401
 15501                        	.line	2402
  Thu Jul 22 2021 22:51                                                Page 285


 15502                        	GFX
 15503                        	xdef	~~k_vdraw_filled_rect
 15504                        	func
 15505                        	.function	2402
 15506                        ~~k_vdraw_filled_rect:
 15507                        	longa	on
 15508                        	longi	on
 15509 06:3AC5: 3B           	tsc
 15510 06:3AC6: 38           	sec
 15511 06:3AC7: E9 14 00     	sbc	#L791
 15512 06:3ACA: 1B           	tcs
 15513 06:3ACB: 0B           	phd
 15514 06:3ACC: 5B           	tcd
 15515             00000004   cx_0	set	4
 15516             00000006   cy_0	set	6
 15517             00000008   height_0	set	8
 15518             0000000A   width_0	set	10
 15519             0000000C   color_0	set	12
 15520                        	.block	2402
 15521                        ;	int x = 0;
 15522                        ;	int y = 0;
 15523                        ;	int dx = cx + width;
 15524                        ;	int dy = cy + height;
 15525                        ;	
 15526                        ;	if(dx > 639)
 15527             00000000   x_1	set	0
 15528             00000002   y_1	set	2
 15529             00000004   dx_1	set	4
 15530             00000006   dy_1	set	6
 15531                        	.sym	x,0,5,1,16
 15532                        	.sym	y,2,5,1,16
 15533                        	.sym	dx,4,5,1,16
 15534                        	.sym	dy,6,5,1,16
 15535                        	.sym	cx,4,5,6,16
 15536                        	.sym	cy,6,5,6,16
 15537                        	.sym	height,8,5,6,16
 15538                        	.sym	width,10,5,6,16
 15539                        	.sym	color,12,5,6,16
 15540 06:3ACD: 64 09        	stz	<L792+x_1
 15541 06:3ACF: 64 0B        	stz	<L792+y_1
 15542 06:3AD1: 18           	clc
 15543 06:3AD2: A5 18        	lda	<L791+cx_0
 15544 06:3AD4: 65 1E        	adc	<L791+width_0
 15545 06:3AD6: 85 0D        	sta	<L792+dx_1
 15546 06:3AD8: 18           	clc
 15547 06:3AD9: A5 1A        	lda	<L791+cy_0
 15548 06:3ADB: 65 1C        	adc	<L791+height_0
 15549 06:3ADD: 85 0F        	sta	<L792+dy_1
 15550                        	.line	2408
 15551                        ;		dx = 639;
 15552 06:3ADF: 38           	sec
 15553 06:3AE0: A9 7F 02     	lda	#$27f
 15554 06:3AE3: E5 0D        	sbc	<L792+dx_1
 15555 06:3AE5: 70 03        	bvs	L794
 15556 06:3AE7: 49 00 80     	eor	#$8000
 15557                        L794:
 15558 06:3AEA: 10 03        	bpl	L795
 15559 06:3AEC: 82 05 00     	brl	L10325
  Thu Jul 22 2021 22:51                                                Page 286


 15560                        L795:
 15561                        	.line	2409
 15562 06:3AEF: A9 7F 02     	lda	#$27f
 15563 06:3AF2: 85 0D        	sta	<L792+dx_1
 15564                        ;	if(dy > 479)
 15565                        L10325:
 15566                        	.line	2410
 15567                        ;		dy = 479;
 15568 06:3AF4: 38           	sec
 15569 06:3AF5: A9 DF 01     	lda	#$1df
 15570 06:3AF8: E5 0F        	sbc	<L792+dy_1
 15571 06:3AFA: 70 03        	bvs	L796
 15572 06:3AFC: 49 00 80     	eor	#$8000
 15573                        L796:
 15574 06:3AFF: 10 03        	bpl	L797
 15575 06:3B01: 82 05 00     	brl	L10326
 15576                        L797:
 15577                        	.line	2411
 15578 06:3B04: A9 DF 01     	lda	#$1df
 15579 06:3B07: 85 0F        	sta	<L792+dy_1
 15580                        ;	
 15581                        ;	for(y=cy;y<dy;y++)
 15582                        L10326:
 15583                        	.line	2413
 15584 06:3B09: A5 1A        	lda	<L791+cy_0
 15585 06:3B0B: 85 0B        	sta	<L792+y_1
 15586 06:3B0D: 82 39 00     	brl	L10330
 15587                        L10329:
 15588                        ;	{
 15589                        	.line	2414
 15590                        ;		long locStart = (long)(( ((long)y) * 640
                    L) + ((long)cx) );
 15591                        ;		//memset(&(((unsigned char FAR *)SHADOW_
                    BANK_0)[locStart]),color,dx - cx);
 15592                        ;	}
 15593                        	.block	2417
 15594             00000008   locStart_2	set	8
 15595                        	.sym	locStart,8,7,1,32
 15596 06:3B10: A0 00 00     	ldy	#$0
 15597 06:3B13: A5 18        	lda	<L791+cx_0
 15598 06:3B15: 10 01        	bpl	L799
 15599 06:3B17: 88           	dey
 15600                        L799:
 15601 06:3B18: 85 01        	sta	<R0
 15602 06:3B1A: 84 03        	sty	<R0+2
 15603 06:3B1C: A0 00 00     	ldy	#$0
 15604 06:3B1F: A5 0B        	lda	<L792+y_1
 15605 06:3B21: 10 01        	bpl	L800
 15606 06:3B23: 88           	dey
 15607                        L800:
 15608 06:3B24: 85 05        	sta	<R1
 15609 06:3B26: 84 07        	sty	<R1+2
 15610 06:3B28: F4 00 00     	pea	#^$280
 15611 06:3B2B: F4 80 02     	pea	#<$280
 15612 06:3B2E: D4 07        	pei	<R1+2
 15613 06:3B30: D4 05        	pei	<R1
 15614                        	xref	~~~lmul
 15615 06:3B32: 22 xx xx xx  	jsl	~~~lmul
  Thu Jul 22 2021 22:51                                                Page 287


 15616 06:3B36: 85 05        	sta	<R1
 15617 06:3B38: 86 07        	stx	<R1+2
 15618 06:3B3A: 18           	clc
 15619 06:3B3B: A5 05        	lda	<R1
 15620 06:3B3D: 65 01        	adc	<R0
 15621 06:3B3F: 85 11        	sta	<L792+locStart_2
 15622 06:3B41: A5 07        	lda	<R1+2
 15623 06:3B43: 65 03        	adc	<R0+2
 15624 06:3B45: 85 13        	sta	<L792+locStart_2+2
 15625                        	.endblock	2417
 15626                        	.line	2417
 15627                        L10327:
 15628 06:3B47: E6 0B        	inc	<L792+y_1
 15629                        L10330:
 15630 06:3B49: 38           	sec
 15631 06:3B4A: A5 0B        	lda	<L792+y_1
 15632 06:3B4C: E5 0F        	sbc	<L792+dy_1
 15633 06:3B4E: 70 03        	bvs	L801
 15634 06:3B50: 49 00 80     	eor	#$8000
 15635                        L801:
 15636 06:3B53: 30 03        	bmi	L802
 15637 06:3B55: 82 B8 FF     	brl	L10329
 15638                        L802:
 15639                        L10328:
 15640                        ;}
 15641                        	.line	2418
 15642                        L803:
 15643 06:3B58: A5 16        	lda	<L791+2
 15644 06:3B5A: 85 20        	sta	<L791+2+10
 15645 06:3B5C: A5 15        	lda	<L791+1
 15646 06:3B5E: 85 1F        	sta	<L791+1+10
 15647 06:3B60: 2B           	pld
 15648 06:3B61: 3B           	tsc
 15649 06:3B62: 18           	clc
 15650 06:3B63: 69 1E 00     	adc	#L791+10
 15651 06:3B66: 1B           	tcs
 15652 06:3B67: 6B           	rtl
 15653                        	.endblock	2418
 15654             00000014   L791	equ	20
 15655             00000009   L792	equ	9
 15656 06:3B68:              	ends
 15657                        	efunc
 15658                        	.endfunc	2418,9,20
 15659                        	.line	2418
 15660                        ;
 15661                        ;void k_draw_filled_rect(int cx,int cy,int height,
                    int width,int color)
 15662                        ;{
 15663                        	.line	2420
 15664                        	.line	2421
 15665                        	GFX
 15666                        	xdef	~~k_draw_filled_rect
 15667                        	func
 15668                        	.function	2421
 15669                        ~~k_draw_filled_rect:
 15670                        	longa	on
 15671                        	longi	on
 15672 06:3B68: 3B           	tsc
  Thu Jul 22 2021 22:51                                                Page 288


 15673 06:3B69: 38           	sec
 15674 06:3B6A: E9 14 00     	sbc	#L804
 15675 06:3B6D: 1B           	tcs
 15676 06:3B6E: 0B           	phd
 15677 06:3B6F: 5B           	tcd
 15678             00000004   cx_0	set	4
 15679             00000006   cy_0	set	6
 15680             00000008   height_0	set	8
 15681             0000000A   width_0	set	10
 15682             0000000C   color_0	set	12
 15683                        	.block	2421
 15684                        ;	int x = 0;
 15685                        ;	int y = 0;
 15686                        ;	int dx = cx + width;
 15687                        ;	int dy = cy + height;
 15688                        ;	
 15689                        ;	if(dx > 639)
 15690             00000000   x_1	set	0
 15691             00000002   y_1	set	2
 15692             00000004   dx_1	set	4
 15693             00000006   dy_1	set	6
 15694                        	.sym	x,0,5,1,16
 15695                        	.sym	y,2,5,1,16
 15696                        	.sym	dx,4,5,1,16
 15697                        	.sym	dy,6,5,1,16
 15698                        	.sym	cx,4,5,6,16
 15699                        	.sym	cy,6,5,6,16
 15700                        	.sym	height,8,5,6,16
 15701                        	.sym	width,10,5,6,16
 15702                        	.sym	color,12,5,6,16
 15703 06:3B70: 64 09        	stz	<L805+x_1
 15704 06:3B72: 64 0B        	stz	<L805+y_1
 15705 06:3B74: 18           	clc
 15706 06:3B75: A5 18        	lda	<L804+cx_0
 15707 06:3B77: 65 1E        	adc	<L804+width_0
 15708 06:3B79: 85 0D        	sta	<L805+dx_1
 15709 06:3B7B: 18           	clc
 15710 06:3B7C: A5 1A        	lda	<L804+cy_0
 15711 06:3B7E: 65 1C        	adc	<L804+height_0
 15712 06:3B80: 85 0F        	sta	<L805+dy_1
 15713                        	.line	2427
 15714                        ;		dx = 639;
 15715 06:3B82: 38           	sec
 15716 06:3B83: A9 7F 02     	lda	#$27f
 15717 06:3B86: E5 0D        	sbc	<L805+dx_1
 15718 06:3B88: 70 03        	bvs	L807
 15719 06:3B8A: 49 00 80     	eor	#$8000
 15720                        L807:
 15721 06:3B8D: 10 03        	bpl	L808
 15722 06:3B8F: 82 05 00     	brl	L10331
 15723                        L808:
 15724                        	.line	2428
 15725 06:3B92: A9 7F 02     	lda	#$27f
 15726 06:3B95: 85 0D        	sta	<L805+dx_1
 15727                        ;	if(dy > 479)
 15728                        L10331:
 15729                        	.line	2429
 15730                        ;		dy = 479;
  Thu Jul 22 2021 22:51                                                Page 289


 15731 06:3B97: 38           	sec
 15732 06:3B98: A9 DF 01     	lda	#$1df
 15733 06:3B9B: E5 0F        	sbc	<L805+dy_1
 15734 06:3B9D: 70 03        	bvs	L809
 15735 06:3B9F: 49 00 80     	eor	#$8000
 15736                        L809:
 15737 06:3BA2: 10 03        	bpl	L810
 15738 06:3BA4: 82 05 00     	brl	L10332
 15739                        L810:
 15740                        	.line	2430
 15741 06:3BA7: A9 DF 01     	lda	#$1df
 15742 06:3BAA: 85 0F        	sta	<L805+dy_1
 15743                        ;	
 15744                        ;	for(y=cy;y<dy;y++)
 15745                        L10332:
 15746                        	.line	2432
 15747 06:3BAC: A5 1A        	lda	<L804+cy_0
 15748 06:3BAE: 85 0B        	sta	<L805+y_1
 15749 06:3BB0: 82 39 00     	brl	L10336
 15750                        L10335:
 15751                        ;	{
 15752                        	.line	2433
 15753                        ;		long locStart = (long)(( ((long)y) * 640
                    L) + ((long)cx) );
 15754                        ;		//memset(&(((unsigned char FAR *)BITMAP_
                    BANK_0)[locStart]),color,dx - cx);
 15755                        ;	}
 15756                        	.block	2436
 15757             00000008   locStart_2	set	8
 15758                        	.sym	locStart,8,7,1,32
 15759 06:3BB3: A0 00 00     	ldy	#$0
 15760 06:3BB6: A5 18        	lda	<L804+cx_0
 15761 06:3BB8: 10 01        	bpl	L812
 15762 06:3BBA: 88           	dey
 15763                        L812:
 15764 06:3BBB: 85 01        	sta	<R0
 15765 06:3BBD: 84 03        	sty	<R0+2
 15766 06:3BBF: A0 00 00     	ldy	#$0
 15767 06:3BC2: A5 0B        	lda	<L805+y_1
 15768 06:3BC4: 10 01        	bpl	L813
 15769 06:3BC6: 88           	dey
 15770                        L813:
 15771 06:3BC7: 85 05        	sta	<R1
 15772 06:3BC9: 84 07        	sty	<R1+2
 15773 06:3BCB: F4 00 00     	pea	#^$280
 15774 06:3BCE: F4 80 02     	pea	#<$280
 15775 06:3BD1: D4 07        	pei	<R1+2
 15776 06:3BD3: D4 05        	pei	<R1
 15777                        	xref	~~~lmul
 15778 06:3BD5: 22 xx xx xx  	jsl	~~~lmul
 15779 06:3BD9: 85 05        	sta	<R1
 15780 06:3BDB: 86 07        	stx	<R1+2
 15781 06:3BDD: 18           	clc
 15782 06:3BDE: A5 05        	lda	<R1
 15783 06:3BE0: 65 01        	adc	<R0
 15784 06:3BE2: 85 11        	sta	<L805+locStart_2
 15785 06:3BE4: A5 07        	lda	<R1+2
 15786 06:3BE6: 65 03        	adc	<R0+2
  Thu Jul 22 2021 22:51                                                Page 290


 15787 06:3BE8: 85 13        	sta	<L805+locStart_2+2
 15788                        	.endblock	2436
 15789                        	.line	2436
 15790                        L10333:
 15791 06:3BEA: E6 0B        	inc	<L805+y_1
 15792                        L10336:
 15793 06:3BEC: 38           	sec
 15794 06:3BED: A5 0B        	lda	<L805+y_1
 15795 06:3BEF: E5 0F        	sbc	<L805+dy_1
 15796 06:3BF1: 70 03        	bvs	L814
 15797 06:3BF3: 49 00 80     	eor	#$8000
 15798                        L814:
 15799 06:3BF6: 30 03        	bmi	L815
 15800 06:3BF8: 82 B8 FF     	brl	L10335
 15801                        L815:
 15802                        L10334:
 15803                        ;}
 15804                        	.line	2437
 15805                        L816:
 15806 06:3BFB: A5 16        	lda	<L804+2
 15807 06:3BFD: 85 20        	sta	<L804+2+10
 15808 06:3BFF: A5 15        	lda	<L804+1
 15809 06:3C01: 85 1F        	sta	<L804+1+10
 15810 06:3C03: 2B           	pld
 15811 06:3C04: 3B           	tsc
 15812 06:3C05: 18           	clc
 15813 06:3C06: 69 1E 00     	adc	#L804+10
 15814 06:3C09: 1B           	tcs
 15815 06:3C0A: 6B           	rtl
 15816                        	.endblock	2437
 15817             00000014   L804	equ	20
 15818             00000009   L805	equ	9
 15819 06:3C0B:              	ends
 15820                        	efunc
 15821                        	.endfunc	2437,9,20
 15822                        	.line	2437
 15823                        ;
 15824                        ;
 15825                        ;PWINDOW k_create_ui_window_class(int cx,int cy,in
                    t height,int width,LPCHAR title,LPCHAR className,FXWndProc w
                    ndProc)
 15826                        ;{
 15827                        	.line	2440
 15828                        	.line	2441
 15829                        	GFX
 15830                        	xdef	~~k_create_ui_window_class
 15831                        	func
 15832                        	.function	2441
 15833                        ~~k_create_ui_window_class:
 15834                        	longa	on
 15835                        	longi	on
 15836 06:3C0B: 3B           	tsc
 15837 06:3C0C: 38           	sec
 15838 06:3C0D: E9 08 00     	sbc	#L817
 15839 06:3C10: 1B           	tcs
 15840 06:3C11: 0B           	phd
 15841 06:3C12: 5B           	tcd
 15842             00000004   cx_0	set	4
  Thu Jul 22 2021 22:51                                                Page 291


 15843             00000006   cy_0	set	6
 15844             00000008   height_0	set	8
 15845             0000000A   width_0	set	10
 15846             0000000C   title_0	set	12
 15847             00000010   className_0	set	16
 15848             00000014   wndProc_0	set	20
 15849                        	.block	2441
 15850                        ;	PWINDOW pWin = NULL;
 15851                        ;
 15852                        ;	if(className && title)
 15853             00000000   pWin_1	set	0
 15854                        	.sym	pWin,0,138,1,32,33
 15855                        	.sym	cx,4,5,6,16
 15856                        	.sym	cy,6,5,6,16
 15857                        	.sym	height,8,5,6,16
 15858                        	.sym	width,10,5,6,16
 15859                        	.sym	title,12,142,6,32
 15860                        	.sym	className,16,142,6,32
 15861                        	.sym	wndProc,20,654,6,32
 15862 06:3C13: 64 05        	stz	<L818+pWin_1
 15863 06:3C15: 64 07        	stz	<L818+pWin_1+2
 15864                        	.line	2444
 15865                        ;	{
 15866 06:3C17: A5 18        	lda	<L817+className_0
 15867 06:3C19: 05 1A        	ora	<L817+className_0+2
 15868 06:3C1B: D0 03        	bne	L820
 15869 06:3C1D: 82 F6 00     	brl	L10337
 15870                        L820:
 15871 06:3C20: A5 14        	lda	<L817+title_0
 15872 06:3C22: 05 16        	ora	<L817+title_0+2
 15873 06:3C24: D0 03        	bne	L821
 15874 06:3C26: 82 ED 00     	brl	L10337
 15875                        L821:
 15876                        	.line	2445
 15877                        ;		pWin = (PWINDOW)k_mem_allocate_heap(size
                    of(WINDOW));
 15878                        	.line	2446
 15879 06:3C29: F4 E8 01     	pea	#<$1e8
 15880 06:3C2C: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 15881 06:3C30: 85 05        	sta	<L818+pWin_1
 15882 06:3C32: 86 07        	stx	<L818+pWin_1+2
 15883                        ;		if(pWin)
 15884                        	.line	2447
 15885                        ;		{
 15886 06:3C34: A5 05        	lda	<L818+pWin_1
 15887 06:3C36: 05 07        	ora	<L818+pWin_1+2
 15888 06:3C38: D0 03        	bne	L822
 15889 06:3C3A: 82 D9 00     	brl	L10338
 15890                        L822:
 15891                        	.line	2448
 15892                        ;			memset(pWin,0,sizeof(WINDOW));
 15893                        	.line	2449
 15894 06:3C3D: F4 E8 01     	pea	#<$1e8
 15895 06:3C40: F4 00 00     	pea	#<$0
 15896 06:3C43: D4 07        	pei	<L818+pWin_1+2
 15897 06:3C45: D4 05        	pei	<L818+pWin_1
 15898 06:3C47: 22 xx xx xx  	jsl	~~memset
 15899                        ;
  Thu Jul 22 2021 22:51                                                Page 292


 15900                        ;			strcpy(pWin->win_title,title);
 15901                        	.line	2451
 15902 06:3C4B: D4 16        	pei	<L817+title_0+2
 15903 06:3C4D: D4 14        	pei	<L817+title_0
 15904 06:3C4F: 18           	clc
 15905 06:3C50: A9 4C 01     	lda	#$14c
 15906 06:3C53: 65 05        	adc	<L818+pWin_1
 15907 06:3C55: 85 01        	sta	<R0
 15908 06:3C57: A9 00 00     	lda	#$0
 15909 06:3C5A: 65 07        	adc	<L818+pWin_1+2
 15910 06:3C5C: 85 03        	sta	<R0+2
 15911 06:3C5E: D4 03        	pei	<R0+2
 15912 06:3C60: D4 01        	pei	<R0
 15913 06:3C62: 22 xx xx xx  	jsl	~~strcpy
 15914                        ;			strcpy(pWin->win_class,className
                    );
 15915                        	.line	2452
 15916 06:3C66: D4 1A        	pei	<L817+className_0+2
 15917 06:3C68: D4 18        	pei	<L817+className_0
 15918 06:3C6A: 18           	clc
 15919 06:3C6B: A9 6E 01     	lda	#$16e
 15920 06:3C6E: 65 05        	adc	<L818+pWin_1
 15921 06:3C70: 85 01        	sta	<R0
 15922 06:3C72: A9 00 00     	lda	#$0
 15923 06:3C75: 65 07        	adc	<L818+pWin_1+2
 15924 06:3C77: 85 03        	sta	<R0+2
 15925 06:3C79: D4 03        	pei	<R0+2
 15926 06:3C7B: D4 01        	pei	<R0
 15927 06:3C7D: 22 xx xx xx  	jsl	~~strcpy
 15928                        ;			pWin->win_x = cx;
 15929                        	.line	2453
 15930 06:3C81: A5 0C        	lda	<L817+cx_0
 15931 06:3C83: A0 0C 00     	ldy	#$c
 15932 06:3C86: 97 05        	sta	[<L818+pWin_1],Y
 15933                        ;			pWin->win_y = cy;
 15934                        	.line	2454
 15935 06:3C88: A5 0E        	lda	<L817+cy_0
 15936 06:3C8A: A0 0E 00     	ldy	#$e
 15937 06:3C8D: 97 05        	sta	[<L818+pWin_1],Y
 15938                        ;			pWin->win_width  = width;
 15939                        	.line	2455
 15940 06:3C8F: A5 12        	lda	<L817+width_0
 15941 06:3C91: A0 10 00     	ldy	#$10
 15942 06:3C94: 97 05        	sta	[<L818+pWin_1],Y
 15943                        ;			pWin->win_height = height;
 15944                        	.line	2456
 15945 06:3C96: A5 10        	lda	<L817+height_0
 15946 06:3C98: A0 12 00     	ldy	#$12
 15947 06:3C9B: 97 05        	sta	[<L818+pWin_1],Y
 15948                        ;			pWin->clickable = k_mem_allocate
                    _heap(sizeof(CLICKABLE));
 15949                        	.line	2457
 15950 06:3C9D: F4 13 00     	pea	#<$13
 15951 06:3CA0: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 15952 06:3CA4: 85 01        	sta	<R0
 15953 06:3CA6: 86 03        	stx	<R0+2
 15954 06:3CA8: A5 01        	lda	<R0
 15955 06:3CAA: A0 48 01     	ldy	#$148
  Thu Jul 22 2021 22:51                                                Page 293


 15956 06:3CAD: 97 05        	sta	[<L818+pWin_1],Y
 15957 06:3CAF: A5 03        	lda	<R0+2
 15958 06:3CB1: A0 4A 01     	ldy	#$14a
 15959 06:3CB4: 97 05        	sta	[<L818+pWin_1],Y
 15960                        ;			if(pWin->clickable)
 15961                        	.line	2458
 15962                        ;			{
 15963 06:3CB6: A0 48 01     	ldy	#$148
 15964 06:3CB9: B7 05        	lda	[<L818+pWin_1],Y
 15965 06:3CBB: A0 4A 01     	ldy	#$14a
 15966 06:3CBE: 17 05        	ora	[<L818+pWin_1],Y
 15967 06:3CC0: D0 03        	bne	L823
 15968 06:3CC2: 82 51 00     	brl	L10339
 15969                        L823:
 15970                        	.line	2459
 15971                        ;				((PCLICKABLE)pWin->click
                    able)->area.x = cx;
 15972                        	.line	2460
 15973 06:3CC5: A0 48 01     	ldy	#$148
 15974 06:3CC8: B7 05        	lda	[<L818+pWin_1],Y
 15975 06:3CCA: 85 01        	sta	<R0
 15976 06:3CCC: A0 4A 01     	ldy	#$14a
 15977 06:3CCF: B7 05        	lda	[<L818+pWin_1],Y
 15978 06:3CD1: 85 03        	sta	<R0+2
 15979 06:3CD3: A5 0C        	lda	<L817+cx_0
 15980 06:3CD5: 87 01        	sta	[<R0]
 15981                        ;				((PCLICKABLE)pWin->click
                    able)->area.y = cy;
 15982                        	.line	2461
 15983 06:3CD7: A0 48 01     	ldy	#$148
 15984 06:3CDA: B7 05        	lda	[<L818+pWin_1],Y
 15985 06:3CDC: 85 01        	sta	<R0
 15986 06:3CDE: A0 4A 01     	ldy	#$14a
 15987 06:3CE1: B7 05        	lda	[<L818+pWin_1],Y
 15988 06:3CE3: 85 03        	sta	<R0+2
 15989 06:3CE5: A5 0E        	lda	<L817+cy_0
 15990 06:3CE7: A0 02 00     	ldy	#$2
 15991 06:3CEA: 97 01        	sta	[<R0],Y
 15992                        ;				((PCLICKABLE)pWin->click
                    able)->area.height = height;
 15993                        	.line	2462
 15994 06:3CEC: A0 48 01     	ldy	#$148
 15995 06:3CEF: B7 05        	lda	[<L818+pWin_1],Y
 15996 06:3CF1: 85 01        	sta	<R0
 15997 06:3CF3: A0 4A 01     	ldy	#$14a
 15998 06:3CF6: B7 05        	lda	[<L818+pWin_1],Y
 15999 06:3CF8: 85 03        	sta	<R0+2
 16000 06:3CFA: A5 10        	lda	<L817+height_0
 16001 06:3CFC: A0 0A 00     	ldy	#$a
 16002 06:3CFF: 97 01        	sta	[<R0],Y
 16003                        ;				((PCLICKABLE)pWin->click
                    able)->area.width = width;
 16004                        	.line	2463
 16005 06:3D01: A0 48 01     	ldy	#$148
 16006 06:3D04: B7 05        	lda	[<L818+pWin_1],Y
 16007 06:3D06: 85 01        	sta	<R0
 16008 06:3D08: A0 4A 01     	ldy	#$14a
 16009 06:3D0B: B7 05        	lda	[<L818+pWin_1],Y
  Thu Jul 22 2021 22:51                                                Page 294


 16010 06:3D0D: 85 03        	sta	<R0+2
 16011 06:3D0F: A5 12        	lda	<L817+width_0
 16012 06:3D11: A0 08 00     	ldy	#$8
 16013 06:3D14: 97 01        	sta	[<R0],Y
 16014                        ;			}
 16015                        	.line	2464
 16016                        ;			//pWin->WndProc = wndProc;
 16017                        ;		}
 16018                        L10339:
 16019                        	.line	2466
 16020                        ;	}
 16021                        L10338:
 16022                        	.line	2467
 16023                        ;
 16024                        ;	return pWin;
 16025                        L10337:
 16026                        	.line	2469
 16027 06:3D16: A6 07        	ldx	<L818+pWin_1+2
 16028 06:3D18: A5 05        	lda	<L818+pWin_1
 16029                        L824:
 16030 06:3D1A: A8           	tay
 16031 06:3D1B: A5 0A        	lda	<L817+2
 16032 06:3D1D: 85 1E        	sta	<L817+2+20
 16033 06:3D1F: A5 09        	lda	<L817+1
 16034 06:3D21: 85 1D        	sta	<L817+1+20
 16035 06:3D23: 2B           	pld
 16036 06:3D24: 3B           	tsc
 16037 06:3D25: 18           	clc
 16038 06:3D26: 69 1C 00     	adc	#L817+20
 16039 06:3D29: 1B           	tcs
 16040 06:3D2A: 98           	tya
 16041 06:3D2B: 6B           	rtl
 16042                        ;}
 16043                        	.line	2470
 16044                        	.endblock	2470
 16045             00000008   L817	equ	8
 16046             00000005   L818	equ	5
 16047 06:3D2C:              	ends
 16048                        	efunc
 16049                        	.endfunc	2470,5,8
 16050                        	.line	2470
 16051                        ;
 16052                        ;PRECT k_HWNDToWINRECT(HWND hWnd)
 16053                        ;{
 16054                        	.line	2472
 16055                        	.line	2473
 16056                        	GFX
 16057                        	xdef	~~k_HWNDToWINRECT
 16058                        	func
 16059                        	.function	2473
 16060                        ~~k_HWNDToWINRECT:
 16061                        	longa	on
 16062                        	longi	on
 16063 06:3D2C: 3B           	tsc
 16064 06:3D2D: 38           	sec
 16065 06:3D2E: E9 04 00     	sbc	#L825
 16066 06:3D31: 1B           	tcs
 16067 06:3D32: 0B           	phd
  Thu Jul 22 2021 22:51                                                Page 295


 16068 06:3D33: 5B           	tcd
 16069             00000004   hWnd_0	set	4
 16070                        	.block	2473
 16071                        ;
 16072                        ;	((PWINDOW)hWnd)->wndRect.x 		= ((PWIN
                    DOW)hWnd)->win_x;
 16073                        	.sym	hWnd,4,129,6,32
 16074                        	.line	2475
 16075 06:3D34: A0 0C 00     	ldy	#$c
 16076 06:3D37: B7 08        	lda	[<L825+hWnd_0],Y
 16077 06:3D39: A0 1C 00     	ldy	#$1c
 16078 06:3D3C: 97 08        	sta	[<L825+hWnd_0],Y
 16079                        ;	((PWINDOW)hWnd)->wndRect.y 		= ((PWIN
                    DOW)hWnd)->win_y;
 16080                        	.line	2476
 16081 06:3D3E: A0 0E 00     	ldy	#$e
 16082 06:3D41: B7 08        	lda	[<L825+hWnd_0],Y
 16083 06:3D43: A0 1E 00     	ldy	#$1e
 16084 06:3D46: 97 08        	sta	[<L825+hWnd_0],Y
 16085                        ;	((PWINDOW)hWnd)->wndRect.width  = ((PWINDOW)hWnd
                    )->win_width;
 16086                        	.line	2477
 16087 06:3D48: A0 10 00     	ldy	#$10
 16088 06:3D4B: B7 08        	lda	[<L825+hWnd_0],Y
 16089 06:3D4D: A0 24 00     	ldy	#$24
 16090 06:3D50: 97 08        	sta	[<L825+hWnd_0],Y
 16091                        ;	((PWINDOW)hWnd)->wndRect.height = ((PWINDOW)hWnd
                    )->win_height;
 16092                        	.line	2478
 16093 06:3D52: A0 12 00     	ldy	#$12
 16094 06:3D55: B7 08        	lda	[<L825+hWnd_0],Y
 16095 06:3D57: A0 26 00     	ldy	#$26
 16096 06:3D5A: 97 08        	sta	[<L825+hWnd_0],Y
 16097                        ;
 16098                        ;
 16099                        ;	return &(((PWINDOW)hWnd)->wndRect);
 16100                        	.line	2481
 16101 06:3D5C: 18           	clc
 16102 06:3D5D: A9 1C 00     	lda	#$1c
 16103 06:3D60: 65 08        	adc	<L825+hWnd_0
 16104 06:3D62: 85 01        	sta	<R0
 16105 06:3D64: A9 00 00     	lda	#$0
 16106 06:3D67: 65 0A        	adc	<L825+hWnd_0+2
 16107 06:3D69: 85 03        	sta	<R0+2
 16108 06:3D6B: A6 03        	ldx	<R0+2
 16109 06:3D6D: A5 01        	lda	<R0
 16110                        L828:
 16111 06:3D6F: A8           	tay
 16112 06:3D70: A5 06        	lda	<L825+2
 16113 06:3D72: 85 0A        	sta	<L825+2+4
 16114 06:3D74: A5 05        	lda	<L825+1
 16115 06:3D76: 85 09        	sta	<L825+1+4
 16116 06:3D78: 2B           	pld
 16117 06:3D79: 3B           	tsc
 16118 06:3D7A: 18           	clc
 16119 06:3D7B: 69 08 00     	adc	#L825+4
 16120 06:3D7E: 1B           	tcs
 16121 06:3D7F: 98           	tya
  Thu Jul 22 2021 22:51                                                Page 296


 16122 06:3D80: 6B           	rtl
 16123                        ;}
 16124                        	.line	2482
 16125                        	.endblock	2482
 16126             00000004   L825	equ	4
 16127             00000005   L826	equ	5
 16128 06:3D81:              	ends
 16129                        	efunc
 16130                        	.endfunc	2482,5,4
 16131                        	.line	2482
 16132                        ;
 16133                        ;BOOL k_gui_size_nonclient_area(HWND hWnd)
 16134                        ;{
 16135                        	.line	2484
 16136                        	.line	2485
 16137                        	GFX
 16138                        	xdef	~~k_gui_size_nonclient_area
 16139                        	func
 16140                        	.function	2485
 16141                        ~~k_gui_size_nonclient_area:
 16142                        	longa	on
 16143                        	longi	on
 16144 06:3D81: 3B           	tsc
 16145 06:3D82: 38           	sec
 16146 06:3D83: E9 21 00     	sbc	#L829
 16147 06:3D86: 1B           	tcs
 16148 06:3D87: 0B           	phd
 16149 06:3D88: 5B           	tcd
 16150             00000004   hWnd_0	set	4
 16151                        	.block	2485
 16152                        ;	BOOL bRet = FALSE;
 16153                        ;
 16154                        ;	FONTMETRIC metric;
 16155                        ;
 16156                        ;	PWINDOW pWin = (PWINDOW)hWnd;
 16157                        ;
 16158                        ;	PRECT wndRect;
 16159                        ;
 16160                        ;	int borderWidthL = 0;
 16161                        ;	int borderWidthR = 0;
 16162                        ;	int borderWidthT = 0;
 16163                        ;	int borderWidthB = 0;
 16164                        ;
 16165                        ;	ULONG style = pWin->style;
 16166                        ;
 16167                        ;	wndRect    = k_HWNDToWINRECT(hWnd);
 16168             00000000   bRet_1	set	0
 16169             00000001   metric_1	set	1
 16170             00000005   pWin_1	set	5
 16171             00000009   wndRect_1	set	9
 16172             0000000D   borderWidthL_1	set	13
 16173             0000000F   borderWidthR_1	set	15
 16174             00000011   borderWidthT_1	set	17
 16175             00000013   borderWidthB_1	set	19
 16176             00000015   style_1	set	21
 16177                        	.sym	bRet,0,14,1,8
 16178                        	.sym	metric,1,10,1,32,35
 16179                        	.sym	pWin,5,138,1,32,33
  Thu Jul 22 2021 22:51                                                Page 297


 16180                        	.sym	wndRect,9,138,1,32,26
 16181                        	.sym	borderWidthL,13,5,1,16
 16182                        	.sym	borderWidthR,15,5,1,16
 16183                        	.sym	borderWidthT,17,5,1,16
 16184                        	.sym	borderWidthB,19,5,1,16
 16185                        	.sym	style,21,18,1,32
 16186                        	.sym	hWnd,4,129,6,32
 16187 06:3D89: E2 20        	sep	#$20
 16188                        	longa	off
 16189 06:3D8B: 64 09        	stz	<L830+bRet_1
 16190 06:3D8D: C2 20        	rep	#$20
 16191                        	longa	on
 16192 06:3D8F: A5 25        	lda	<L829+hWnd_0
 16193 06:3D91: 85 0E        	sta	<L830+pWin_1
 16194 06:3D93: A5 27        	lda	<L829+hWnd_0+2
 16195 06:3D95: 85 10        	sta	<L830+pWin_1+2
 16196 06:3D97: 64 16        	stz	<L830+borderWidthL_1
 16197 06:3D99: 64 18        	stz	<L830+borderWidthR_1
 16198 06:3D9B: 64 1A        	stz	<L830+borderWidthT_1
 16199 06:3D9D: 64 1C        	stz	<L830+borderWidthB_1
 16200 06:3D9F: A0 02 00     	ldy	#$2
 16201 06:3DA2: B7 0E        	lda	[<L830+pWin_1],Y
 16202 06:3DA4: 85 1E        	sta	<L830+style_1
 16203 06:3DA6: A0 04 00     	ldy	#$4
 16204 06:3DA9: B7 0E        	lda	[<L830+pWin_1],Y
 16205 06:3DAB: 85 20        	sta	<L830+style_1+2
 16206                        	.line	2501
 16207 06:3DAD: D4 27        	pei	<L829+hWnd_0+2
 16208 06:3DAF: D4 25        	pei	<L829+hWnd_0
 16209 06:3DB1: 22 2C 3D 06  	jsl	~~k_HWNDToWINRECT
 16210 06:3DB5: 85 12        	sta	<L830+wndRect_1
 16211 06:3DB7: 86 14        	stx	<L830+wndRect_1+2
 16212                        ;
 16213                        ;	if(style & FXWS_VISIBLE != FXWS_VISIBLE)
 16214                        	.line	2503
 16215                        ;	{
 16216 06:3DB9: 82 23 00     	brl	L10340
 16217                        	.line	2504
 16218                        ;		k_debug_pointer("k_gui_size_nonclient_ar
                    ea::NOT RENDERING:",hWnd);
 16219                        	.line	2505
 16220 06:3DBC: D4 27        	pei	<L829+hWnd_0+2
 16221 06:3DBE: D4 25        	pei	<L829+hWnd_0
 16222 06:3DC0: F4 xx xx     	pea	#^L497
 16223 06:3DC3: F4 xx xx     	pea	#<L497
 16224 06:3DC6: 22 xx xx xx  	jsl	~~k_debug_pointer
 16225                        ;		return FALSE;
 16226                        	.line	2506
 16227 06:3DCA: A9 00 00     	lda	#$0
 16228                        L832:
 16229 06:3DCD: A8           	tay
 16230 06:3DCE: A5 23        	lda	<L829+2
 16231 06:3DD0: 85 27        	sta	<L829+2+4
 16232 06:3DD2: A5 22        	lda	<L829+1
 16233 06:3DD4: 85 26        	sta	<L829+1+4
 16234 06:3DD6: 2B           	pld
 16235 06:3DD7: 3B           	tsc
 16236 06:3DD8: 18           	clc
  Thu Jul 22 2021 22:51                                                Page 298


 16237 06:3DD9: 69 25 00     	adc	#L829+4
 16238 06:3DDC: 1B           	tcs
 16239 06:3DDD: 98           	tya
 16240 06:3DDE: 6B           	rtl
 16241                        ;	}
 16242                        	.line	2507
 16243                        ;
 16244                        ;	if(style & FXWS_THICKFRAME)
 16245                        L10340:
 16246                        	.line	2509
 16247                        ;	{
 16248 06:3DDF: A5 20        	lda	<L830+style_1+2
 16249 06:3DE1: 29 02 00     	and	#^$20000
 16250 06:3DE4: D0 03        	bne	L833
 16251 06:3DE6: 82 17 00     	brl	L10341
 16252                        L833:
 16253                        	.line	2510
 16254                        ;		borderWidthL = SM_CXFRAME_DEFAULT + SM_C
                    XBORDER_DEFAULT;
 16255                        	.line	2511
 16256 06:3DE9: A9 03 00     	lda	#$3
 16257 06:3DEC: 85 16        	sta	<L830+borderWidthL_1
 16258                        ;		borderWidthR = SM_CXFRAME_DEFAULT + SM_C
                    XBORDER_DEFAULT;
 16259                        	.line	2512
 16260 06:3DEE: A9 03 00     	lda	#$3
 16261 06:3DF1: 85 18        	sta	<L830+borderWidthR_1
 16262                        ;		borderWidthT = SM_CYFRAME_DEFAULT + SM_C
                    YBORDER_DEFAULT;
 16263                        	.line	2513
 16264 06:3DF3: A9 03 00     	lda	#$3
 16265 06:3DF6: 85 1A        	sta	<L830+borderWidthT_1
 16266                        ;		borderWidthB = SM_CYFRAME_DEFAULT + SM_C
                    YBORDER_DEFAULT;
 16267                        	.line	2514
 16268 06:3DF8: A9 03 00     	lda	#$3
 16269 06:3DFB: 85 1C        	sta	<L830+borderWidthB_1
 16270                        ;	}
 16271                        	.line	2515
 16272                        ;	else if(style & FXWS_BORDER)
 16273 06:3DFD: 82 3F 00     	brl	L10342
 16274                        L10341:
 16275                        	.line	2516
 16276                        ;	{
 16277 06:3E00: A5 20        	lda	<L830+style_1+2
 16278 06:3E02: 29 01 00     	and	#^$10000
 16279 06:3E05: D0 03        	bne	L834
 16280 06:3E07: 82 17 00     	brl	L10343
 16281                        L834:
 16282                        	.line	2517
 16283                        ;		borderWidthL = SM_CXBORDER_DEFAULT;
 16284                        	.line	2518
 16285 06:3E0A: A9 01 00     	lda	#$1
 16286 06:3E0D: 85 16        	sta	<L830+borderWidthL_1
 16287                        ;		borderWidthR = SM_CXBORDER_DEFAULT;
 16288                        	.line	2519
 16289 06:3E0F: A9 01 00     	lda	#$1
 16290 06:3E12: 85 18        	sta	<L830+borderWidthR_1
  Thu Jul 22 2021 22:51                                                Page 299


 16291                        ;		borderWidthT = SM_CYBORDER_DEFAULT;
 16292                        	.line	2520
 16293 06:3E14: A9 01 00     	lda	#$1
 16294 06:3E17: 85 1A        	sta	<L830+borderWidthT_1
 16295                        ;		borderWidthB = SM_CYBORDER_DEFAULT;
 16296                        	.line	2521
 16297 06:3E19: A9 01 00     	lda	#$1
 16298 06:3E1C: 85 1C        	sta	<L830+borderWidthB_1
 16299                        ;	}
 16300                        	.line	2522
 16301                        ;	else if(style & FXWS_DLGFRAME)
 16302 06:3E1E: 82 1E 00     	brl	L10344
 16303                        L10343:
 16304                        	.line	2523
 16305                        ;	{
 16306 06:3E21: A5 20        	lda	<L830+style_1+2
 16307 06:3E23: 29 04 00     	and	#^$40000
 16308 06:3E26: D0 03        	bne	L835
 16309 06:3E28: 82 14 00     	brl	L10345
 16310                        L835:
 16311                        	.line	2524
 16312                        ;		borderWidthL = SM_CXDLGFRAME_DEFAULT + S
                    M_CXBORDER_DEFAULT;
 16313                        	.line	2525
 16314 06:3E2B: A9 05 00     	lda	#$5
 16315 06:3E2E: 85 16        	sta	<L830+borderWidthL_1
 16316                        ;		borderWidthR = SM_CXDLGFRAME_DEFAULT + S
                    M_CXBORDER_DEFAULT;
 16317                        	.line	2526
 16318 06:3E30: A9 05 00     	lda	#$5
 16319 06:3E33: 85 18        	sta	<L830+borderWidthR_1
 16320                        ;		borderWidthT = SM_CYDLGFRAME_DEFAULT + S
                    M_CYBORDER_DEFAULT;
 16321                        	.line	2527
 16322 06:3E35: A9 05 00     	lda	#$5
 16323 06:3E38: 85 1A        	sta	<L830+borderWidthT_1
 16324                        ;		borderWidthB = SM_CYDLGFRAME_DEFAULT + S
                    M_CYBORDER_DEFAULT;
 16325                        	.line	2528
 16326 06:3E3A: A9 05 00     	lda	#$5
 16327 06:3E3D: 85 1C        	sta	<L830+borderWidthB_1
 16328                        ;	}
 16329                        	.line	2529
 16330                        ;
 16331                        ;	if( ((style & FXWS_CAPTION) == FXWS_CAPTION) || 
                    (style & FXWS_SYSMENU) || (style & FXWS_MINIMIZEBOX) || (sty
                    le & FXWS_MAXIMIZEBOX))
 16332                        L10345:
 16333                        L10344:
 16334                        L10342:
 16335                        	.line	2531
 16336                        ;	{
 16337 06:3E3F: A5 1E        	lda	<L830+style_1
 16338 06:3E41: 29 04 00     	and	#<$4
 16339 06:3E44: 85 01        	sta	<R0
 16340 06:3E46: 64 03        	stz	<R0+2
 16341 06:3E48: A5 01        	lda	<R0
 16342 06:3E4A: C9 04 00     	cmp	#<$4
  Thu Jul 22 2021 22:51                                                Page 300


 16343 06:3E4D: D0 05        	bne	L837
 16344 06:3E4F: A5 03        	lda	<R0+2
 16345 06:3E51: C9 00 00     	cmp	#^$4
 16346                        L837:
 16347 06:3E54: D0 03        	bne	L838
 16348 06:3E56: 82 1E 00     	brl	L836
 16349                        L838:
 16350 06:3E59: A5 1E        	lda	<L830+style_1
 16351 06:3E5B: 29 08 00     	and	#<$8
 16352 06:3E5E: F0 03        	beq	L839
 16353 06:3E60: 82 14 00     	brl	L836
 16354                        L839:
 16355 06:3E63: A5 1E        	lda	<L830+style_1
 16356 06:3E65: 29 20 00     	and	#<$20
 16357 06:3E68: F0 03        	beq	L840
 16358 06:3E6A: 82 0A 00     	brl	L836
 16359                        L840:
 16360 06:3E6D: A5 1E        	lda	<L830+style_1
 16361 06:3E6F: 29 10 00     	and	#<$10
 16362 06:3E72: D0 03        	bne	L841
 16363 06:3E74: 82 08 00     	brl	L10346
 16364                        L841:
 16365                        L836:
 16366                        	.line	2532
 16367                        ;		borderWidthT += SM_CYCAPTION_DEFAULT;
 16368                        	.line	2533
 16369 06:3E77: 18           	clc
 16370 06:3E78: A9 0C 00     	lda	#$c
 16371 06:3E7B: 65 1A        	adc	<L830+borderWidthT_1
 16372 06:3E7D: 85 1A        	sta	<L830+borderWidthT_1
 16373                        ;	}
 16374                        	.line	2534
 16375                        ;
 16376                        ;	//k_debug_rect("k_gui_size_nonclient_area::wndRe
                    ct:", &pWin->wndRect);
 16377                        ;
 16378                        ;	pWin->clientRect.x      = wndRect->x + borderWid
                    thL + SM_CLIENT_BORDER_DEFAULT;
 16379                        L10346:
 16380                        	.line	2538
 16381 06:3E7F: 18           	clc
 16382 06:3E80: A7 12        	lda	[<L830+wndRect_1]
 16383 06:3E82: 65 16        	adc	<L830+borderWidthL_1
 16384 06:3E84: 85 01        	sta	<R0
 16385 06:3E86: A5 01        	lda	<R0
 16386 06:3E88: 1A           	ina
 16387 06:3E89: A0 2A 00     	ldy	#$2a
 16388 06:3E8C: 97 0E        	sta	[<L830+pWin_1],Y
 16389                        ;	pWin->clientRect.y      = wndRect->y + borderWid
                    thT + SM_CLIENT_BORDER_DEFAULT;
 16390                        	.line	2539
 16391 06:3E8E: 18           	clc
 16392 06:3E8F: A0 02 00     	ldy	#$2
 16393 06:3E92: B7 12        	lda	[<L830+wndRect_1],Y
 16394 06:3E94: 65 1A        	adc	<L830+borderWidthT_1
 16395 06:3E96: 85 01        	sta	<R0
 16396 06:3E98: A5 01        	lda	<R0
 16397 06:3E9A: 1A           	ina
  Thu Jul 22 2021 22:51                                                Page 301


 16398 06:3E9B: A0 2C 00     	ldy	#$2c
 16399 06:3E9E: 97 0E        	sta	[<L830+pWin_1],Y
 16400                        ;	pWin->clientRect.width  = wndRect->width  - (bor
                    derWidthL + borderWidthR + SM_CLIENT_BORDER_DEFAULT + SM_CLI
                    ENT_BORDER_DEFAULT);
 16401                        	.line	2540
 16402 06:3EA0: 18           	clc
 16403 06:3EA1: A5 16        	lda	<L830+borderWidthL_1
 16404 06:3EA3: 65 18        	adc	<L830+borderWidthR_1
 16405 06:3EA5: 85 01        	sta	<R0
 16406 06:3EA7: 18           	clc
 16407 06:3EA8: A9 02 00     	lda	#$2
 16408 06:3EAB: 65 01        	adc	<R0
 16409 06:3EAD: 85 05        	sta	<R1
 16410 06:3EAF: 38           	sec
 16411 06:3EB0: A0 08 00     	ldy	#$8
 16412 06:3EB3: B7 12        	lda	[<L830+wndRect_1],Y
 16413 06:3EB5: E5 05        	sbc	<R1
 16414 06:3EB7: A0 32 00     	ldy	#$32
 16415 06:3EBA: 97 0E        	sta	[<L830+pWin_1],Y
 16416                        ;	pWin->clientRect.height = wndRect->height - (bor
                    derWidthT + borderWidthB + SM_CLIENT_BORDER_DEFAULT + SM_CLI
                    ENT_BORDER_DEFAULT);
 16417                        	.line	2541
 16418 06:3EBC: 18           	clc
 16419 06:3EBD: A5 1A        	lda	<L830+borderWidthT_1
 16420 06:3EBF: 65 1C        	adc	<L830+borderWidthB_1
 16421 06:3EC1: 85 01        	sta	<R0
 16422 06:3EC3: 18           	clc
 16423 06:3EC4: A9 02 00     	lda	#$2
 16424 06:3EC7: 65 01        	adc	<R0
 16425 06:3EC9: 85 05        	sta	<R1
 16426 06:3ECB: 38           	sec
 16427 06:3ECC: A0 0A 00     	ldy	#$a
 16428 06:3ECF: B7 12        	lda	[<L830+wndRect_1],Y
 16429 06:3ED1: E5 05        	sbc	<R1
 16430 06:3ED3: A0 34 00     	ldy	#$34
 16431 06:3ED6: 97 0E        	sta	[<L830+pWin_1],Y
 16432                        ;
 16433                        ;	//k_debug_rect("k_gui_size_nonclient_area::clien
                    tRect:", &pWin->clientRect);
 16434                        ;
 16435                        ;	return bRet;
 16436                        	.line	2545
 16437 06:3ED8: A5 09        	lda	<L830+bRet_1
 16438 06:3EDA: 29 FF 00     	and	#$ff
 16439 06:3EDD: 82 ED FE     	brl	L832
 16440                        ;}
 16441                        	.line	2546
 16442                        	.endblock	2546
 16443             00000021   L829	equ	33
 16444             00000009   L830	equ	9
 16445 06:3EE0:              	ends
 16446                        	efunc
 16447                        	.endfunc	2546,9,33
 16448                        	.line	2546
 16449                        	data
 16450                        L497:
  Thu Jul 22 2021 22:51                                                Page 302


 16451 00:0826: 6B 5F 67 75  	db	$6B,$5F,$67,$75,$69,$5F,$73,$69,$7A,$65,
                    $5F,$6E,$6F,$6E,$63
       00:082A: 69 5F 73 69 
       00:082E: 7A 65 5F 6E 
       00:0832: 6F 6E 63 
 16452 00:0835: 6C 69 65 6E  	db	$6C,$69,$65,$6E,$74,$5F,$61,$72,$65,$61,
                    $3A,$3A,$4E,$4F,$54
       00:0839: 74 5F 61 72 
       00:083D: 65 61 3A 3A 
       00:0841: 4E 4F 54 
 16453 00:0844: 20 52 45 4E  	db	$20,$52,$45,$4E,$44,$45,$52,$49,$4E,$47,
                    $3A,$00
       00:0848: 44 45 52 49 
       00:084C: 4E 47 3A 00 
 16454 00:0850:              	ends
 16455                        ;
 16456                        ;
 16457                        ;void k_vdraw_ui_window(PWINDOW pWin,ULONG style,i
                    nt cx,int cy,int height,int width,char FAR *title,int color,
                     int bgcolor)
 16458                        ;{
 16459                        	.line	2549
 16460                        	.line	2550
 16461                        	GFX
 16462                        	xdef	~~k_vdraw_ui_window
 16463                        	func
 16464                        	.function	2550
 16465                        ~~k_vdraw_ui_window:
 16466                        	longa	on
 16467                        	longi	on
 16468 06:3EE0: 3B           	tsc
 16469 06:3EE1: 38           	sec
 16470 06:3EE2: E9 00 00     	sbc	#L843
 16471 06:3EE5: 1B           	tcs
 16472 06:3EE6: 0B           	phd
 16473 06:3EE7: 5B           	tcd
 16474             00000004   pWin_0	set	4
 16475             00000008   style_0	set	8
 16476             0000000C   cx_0	set	12
 16477             0000000E   cy_0	set	14
 16478             00000010   height_0	set	16
 16479             00000012   width_0	set	18
 16480             00000014   title_0	set	20
 16481             00000018   color_0	set	24
 16482             0000001A   bgcolor_0	set	26
 16483                        	.block	2550
 16484                        ;	k_vdraw_ui_window_ex(pWin,style,cx,cy,height,wid
                    th,title,color, bgcolor,BITMAP_BACK);
 16485                        	.sym	pWin,4,138,6,32,33
 16486                        	.sym	style,8,18,6,32
 16487                        	.sym	cx,12,5,6,16
 16488                        	.sym	cy,14,5,6,16
 16489                        	.sym	height,16,5,6,16
 16490                        	.sym	width,18,5,6,16
 16491                        	.sym	title,20,142,6,32
 16492                        	.sym	color,24,5,6,16
 16493                        	.sym	bgcolor,26,5,6,16
 16494                        	.line	2551
  Thu Jul 22 2021 22:51                                                Page 303


 16495 06:3EE8: F4 08 00     	pea	#<$8
 16496 06:3EEB: D4 1A        	pei	<L843+bgcolor_0
 16497 06:3EED: D4 18        	pei	<L843+color_0
 16498 06:3EEF: D4 16        	pei	<L843+title_0+2
 16499 06:3EF1: D4 14        	pei	<L843+title_0
 16500 06:3EF3: D4 12        	pei	<L843+width_0
 16501 06:3EF5: D4 10        	pei	<L843+height_0
 16502 06:3EF7: D4 0E        	pei	<L843+cy_0
 16503 06:3EF9: D4 0C        	pei	<L843+cx_0
 16504 06:3EFB: D4 0A        	pei	<L843+style_0+2
 16505 06:3EFD: D4 08        	pei	<L843+style_0
 16506 06:3EFF: D4 06        	pei	<L843+pWin_0+2
 16507 06:3F01: D4 04        	pei	<L843+pWin_0
 16508 06:3F03: 22 10 4A 06  	jsl	~~k_vdraw_ui_window_ex
 16509                        ;}
 16510                        	.line	2552
 16511                        L846:
 16512 06:3F07: A5 02        	lda	<L843+2
 16513 06:3F09: 85 1A        	sta	<L843+2+24
 16514 06:3F0B: A5 01        	lda	<L843+1
 16515 06:3F0D: 85 19        	sta	<L843+1+24
 16516 06:3F0F: 2B           	pld
 16517 06:3F10: 3B           	tsc
 16518 06:3F11: 18           	clc
 16519 06:3F12: 69 18 00     	adc	#L843+24
 16520 06:3F15: 1B           	tcs
 16521 06:3F16: 6B           	rtl
 16522                        	.endblock	2552
 16523             00000000   L843	equ	0
 16524             00000001   L844	equ	1
 16525 06:3F17:              	ends
 16526                        	efunc
 16527                        	.endfunc	2552,1,0
 16528                        	.line	2552
 16529                        ;
 16530                        ;void k_gui_DrawWindow(HWND hWnd,int color, int bg
                    color)
 16531                        ;{
 16532                        	.line	2554
 16533                        	.line	2555
 16534                        	GFX
 16535                        	xdef	~~k_gui_DrawWindow
 16536                        	func
 16537                        	.function	2555
 16538                        ~~k_gui_DrawWindow:
 16539                        	longa	on
 16540                        	longi	on
 16541 06:3F17: 3B           	tsc
 16542 06:3F18: 38           	sec
 16543 06:3F19: E9 4A 00     	sbc	#L847
 16544 06:3F1C: 1B           	tcs
 16545 06:3F1D: 0B           	phd
 16546 06:3F1E: 5B           	tcd
 16547             00000004   hWnd_0	set	4
 16548             00000008   color_0	set	8
 16549             0000000A   bgcolor_0	set	10
 16550                        	.block	2555
 16551                        ;	FONTMETRIC metric;
  Thu Jul 22 2021 22:51                                                Page 304


 16552                        ;
 16553                        ;	PRECT pwndRect 	  = NULL;
 16554                        ;	PRECT pclientRect = NULL;
 16555                        ;
 16556                        ;	int ncc = 0;
 16557                        ;
 16558                        ;	INT  bIndex       = 0;
 16559                        ;	UINT borderWidth  = 0;
 16560                        ;
 16561                        ;	int cacheTitle 	  = 0L;
 16562                        ;	ULONG style       = 0L;
 16563                        ;	RECT rect;
 16564                        ;
 16565                        ;	int titleOffsetX = 0;
 16566                        ;	int titleOffsetY = 0;
 16567                        ;	int titleScaler  = 0;
 16568                        ;	int tx = 0;
 16569                        ;	int gx,gy,bx,by;
 16570                        ;
 16571                        ;	PWINDOW pWin = (PWINDOW)hWnd;
 16572                        ;	if(pWin)
 16573             00000000   metric_1	set	0
 16574             00000004   pwndRect_1	set	4
 16575             00000008   pclientRect_1	set	8
 16576             0000000C   ncc_1	set	12
 16577             0000000E   bIndex_1	set	14
 16578             00000010   borderWidth_1	set	16
 16579             00000012   cacheTitle_1	set	18
 16580             00000014   style_1	set	20
 16581             00000018   rect_1	set	24
 16582             00000026   titleOffsetX_1	set	38
 16583             00000028   titleOffsetY_1	set	40
 16584             0000002A   titleScaler_1	set	42
 16585             0000002C   tx_1	set	44
 16586             0000002E   gx_1	set	46
 16587             00000030   gy_1	set	48
 16588             00000032   bx_1	set	50
 16589             00000034   by_1	set	52
 16590             00000036   pWin_1	set	54
 16591                        	.sym	metric,0,10,1,32,35
 16592                        	.sym	pwndRect,4,138,1,32,26
 16593                        	.sym	pclientRect,8,138,1,32,26
 16594                        	.sym	ncc,12,5,1,16
 16595                        	.sym	bIndex,14,5,1,16
 16596                        	.sym	borderWidth,16,16,1,16
 16597                        	.sym	cacheTitle,18,5,1,16
 16598                        	.sym	style,20,18,1,32
 16599                        	.sym	rect,24,10,1,112,26
 16600                        	.sym	titleOffsetX,38,5,1,16
 16601                        	.sym	titleOffsetY,40,5,1,16
 16602                        	.sym	titleScaler,42,5,1,16
 16603                        	.sym	tx,44,5,1,16
 16604                        	.sym	gx,46,5,1,16
 16605                        	.sym	gy,48,5,1,16
 16606                        	.sym	bx,50,5,1,16
 16607                        	.sym	by,52,5,1,16
 16608                        	.sym	pWin,54,138,1,32,33
 16609                        	.sym	hWnd,4,129,6,32
  Thu Jul 22 2021 22:51                                                Page 305


 16610                        	.sym	color,8,5,6,16
 16611                        	.sym	bgcolor,10,5,6,16
 16612 06:3F1F: 64 15        	stz	<L848+pwndRect_1
 16613 06:3F21: 64 17        	stz	<L848+pwndRect_1+2
 16614 06:3F23: 64 19        	stz	<L848+pclientRect_1
 16615 06:3F25: 64 1B        	stz	<L848+pclientRect_1+2
 16616 06:3F27: 64 1D        	stz	<L848+ncc_1
 16617 06:3F29: 64 1F        	stz	<L848+bIndex_1
 16618 06:3F2B: 64 21        	stz	<L848+borderWidth_1
 16619 06:3F2D: 64 23        	stz	<L848+cacheTitle_1
 16620 06:3F2F: 64 25        	stz	<L848+style_1
 16621 06:3F31: 64 27        	stz	<L848+style_1+2
 16622 06:3F33: 64 37        	stz	<L848+titleOffsetX_1
 16623 06:3F35: 64 39        	stz	<L848+titleOffsetY_1
 16624 06:3F37: 64 3B        	stz	<L848+titleScaler_1
 16625 06:3F39: 64 3D        	stz	<L848+tx_1
 16626 06:3F3B: A5 4E        	lda	<L847+hWnd_0
 16627 06:3F3D: 85 47        	sta	<L848+pWin_1
 16628 06:3F3F: A5 50        	lda	<L847+hWnd_0+2
 16629 06:3F41: 85 49        	sta	<L848+pWin_1+2
 16630                        	.line	2577
 16631                        ;	{
 16632 06:3F43: A5 47        	lda	<L848+pWin_1
 16633 06:3F45: 05 49        	ora	<L848+pWin_1+2
 16634 06:3F47: D0 03        	bne	L850
 16635 06:3F49: 82 C1 0A     	brl	L10347
 16636                        L850:
 16637                        	.line	2578
 16638                        ;
 16639                        ;		pwndRect 	= &pWin->wndRect;
 16640                        	.line	2580
 16641 06:3F4C: 18           	clc
 16642 06:3F4D: A9 1C 00     	lda	#$1c
 16643 06:3F50: 65 47        	adc	<L848+pWin_1
 16644 06:3F52: 85 15        	sta	<L848+pwndRect_1
 16645 06:3F54: A9 00 00     	lda	#$0
 16646 06:3F57: 65 49        	adc	<L848+pWin_1+2
 16647 06:3F59: 85 17        	sta	<L848+pwndRect_1+2
 16648                        ;		pclientRect = &pWin->clientRect;
 16649                        	.line	2581
 16650 06:3F5B: 18           	clc
 16651 06:3F5C: A9 2A 00     	lda	#$2a
 16652 06:3F5F: 65 47        	adc	<L848+pWin_1
 16653 06:3F61: 85 19        	sta	<L848+pclientRect_1
 16654 06:3F63: A9 00 00     	lda	#$0
 16655 06:3F66: 65 49        	adc	<L848+pWin_1+2
 16656 06:3F68: 85 1B        	sta	<L848+pclientRect_1+2
 16657                        ;
 16658                        ;		style      = pWin->style;
 16659                        	.line	2583
 16660 06:3F6A: A0 02 00     	ldy	#$2
 16661 06:3F6D: B7 47        	lda	[<L848+pWin_1],Y
 16662 06:3F6F: 85 25        	sta	<L848+style_1
 16663 06:3F71: A0 04 00     	ldy	#$4
 16664 06:3F74: B7 47        	lda	[<L848+pWin_1],Y
 16665 06:3F76: 85 27        	sta	<L848+style_1+2
 16666                        ;		cacheTitle = (pWin->styleEx & FXWSX_CACH
                    E_TITLE);
  Thu Jul 22 2021 22:51                                                Page 306


 16667                        	.line	2584
 16668 06:3F78: A0 06 00     	ldy	#$6
 16669 06:3F7B: B7 47        	lda	[<L848+pWin_1],Y
 16670 06:3F7D: 29 02 00     	and	#<$2
 16671 06:3F80: 85 01        	sta	<R0
 16672 06:3F82: 64 03        	stz	<R0+2
 16673 06:3F84: A5 01        	lda	<R0
 16674 06:3F86: 85 23        	sta	<L848+cacheTitle_1
 16675                        ;
 16676                        ;		if(style & FXWS_VISIBLE != FXWS_VISIBLE)
 16677                        	.line	2586
 16678                        ;		{
 16679 06:3F88: 82 1E 00     	brl	L10348
 16680                        	.line	2587
 16681                        ;			k_debug_pointer("k_gui_DrawWindo
                    w::NOT RENDERING:",hWnd);
 16682                        	.line	2588
 16683 06:3F8B: D4 50        	pei	<L847+hWnd_0+2
 16684 06:3F8D: D4 4E        	pei	<L847+hWnd_0
 16685 06:3F8F: F4 xx xx     	pea	#^L842
 16686 06:3F92: F4 xx xx     	pea	#<L842
 16687 06:3F95: 22 xx xx xx  	jsl	~~k_debug_pointer
 16688                        ;			return;
 16689                        	.line	2589
 16690                        L851:
 16691 06:3F99: A5 4C        	lda	<L847+2
 16692 06:3F9B: 85 54        	sta	<L847+2+8
 16693 06:3F9D: A5 4B        	lda	<L847+1
 16694 06:3F9F: 85 53        	sta	<L847+1+8
 16695 06:3FA1: 2B           	pld
 16696 06:3FA2: 3B           	tsc
 16697 06:3FA3: 18           	clc
 16698 06:3FA4: 69 52 00     	adc	#L847+8
 16699 06:3FA7: 1B           	tcs
 16700 06:3FA8: 6B           	rtl
 16701                        ;		}
 16702                        	.line	2590
 16703                        ;
 16704                        ;
 16705                        ;		if(style & FXWS_THICKFRAME)
 16706                        L10348:
 16707                        	.line	2593
 16708                        ;		{
 16709 06:3FA9: A5 27        	lda	<L848+style_1+2
 16710 06:3FAB: 29 02 00     	and	#^$20000
 16711 06:3FAE: D0 03        	bne	L852
 16712 06:3FB0: 82 08 00     	brl	L10349
 16713                        L852:
 16714                        	.line	2594
 16715                        ;			borderWidth = SM_CXFRAME_DEFAULT
                     + SM_CXBORDER_DEFAULT;
 16716                        	.line	2595
 16717 06:3FB3: A9 03 00     	lda	#$3
 16718 06:3FB6: 85 21        	sta	<L848+borderWidth_1
 16719                        ;		}
 16720                        	.line	2596
 16721                        ;		else if(style & FXWS_BORDER)
 16722 06:3FB8: 82 21 00     	brl	L10350
  Thu Jul 22 2021 22:51                                                Page 307


 16723                        L10349:
 16724                        	.line	2597
 16725                        ;		{
 16726 06:3FBB: A5 27        	lda	<L848+style_1+2
 16727 06:3FBD: 29 01 00     	and	#^$10000
 16728 06:3FC0: D0 03        	bne	L853
 16729 06:3FC2: 82 08 00     	brl	L10351
 16730                        L853:
 16731                        	.line	2598
 16732                        ;			borderWidth = SM_CXBORDER_DEFAUL
                    T;
 16733                        	.line	2599
 16734 06:3FC5: A9 01 00     	lda	#$1
 16735 06:3FC8: 85 21        	sta	<L848+borderWidth_1
 16736                        ;		}
 16737                        	.line	2600
 16738                        ;		else if(style & FXWS_DLGFRAME)
 16739 06:3FCA: 82 0F 00     	brl	L10352
 16740                        L10351:
 16741                        	.line	2601
 16742                        ;		{
 16743 06:3FCD: A5 27        	lda	<L848+style_1+2
 16744 06:3FCF: 29 04 00     	and	#^$40000
 16745 06:3FD2: D0 03        	bne	L854
 16746 06:3FD4: 82 05 00     	brl	L10353
 16747                        L854:
 16748                        	.line	2602
 16749                        ;			borderWidth = SM_CXDLGFRAME_DEFA
                    ULT + SM_CXBORDER_DEFAULT;
 16750                        	.line	2603
 16751 06:3FD7: A9 05 00     	lda	#$5
 16752 06:3FDA: 85 21        	sta	<L848+borderWidth_1
 16753                        ;		}
 16754                        	.line	2604
 16755                        ;
 16756                        ;		if(borderWidth > 0)
 16757                        L10353:
 16758                        L10352:
 16759                        L10350:
 16760                        	.line	2606
 16761                        ;		{
 16762 06:3FDC: A9 00 00     	lda	#$0
 16763 06:3FDF: C5 21        	cmp	<L848+borderWidth_1
 16764 06:3FE1: 90 03        	bcc	L855
 16765 06:3FE3: 82 21 01     	brl	L10354
 16766                        L855:
 16767                        	.line	2607
 16768                        ;			if(borderWidth > SM_CXBORDER_DEF
                    AULT)
 16769                        	.line	2608
 16770                        ;			{
 16771 06:3FE6: A9 01 00     	lda	#$1
 16772 06:3FE9: C5 21        	cmp	<L848+borderWidth_1
 16773 06:3FEB: 90 03        	bcc	L856
 16774 06:3FED: 82 42 00     	brl	L10355
 16775                        L856:
 16776                        	.line	2609
 16777                        ;				k_vdma_fill_rect_ex(pwnd
  Thu Jul 22 2021 22:51                                                Page 308


                    Rect->x,
 16778                        	.line	2610
 16779                        ;							
                    		pwndRect->y,
 16780                        ;							
                    		pwndRect->width,
 16781                        ;							
                    		pwndRect->height,
 16782                        ;							
                    		k_getUIWindowBorderColor(),
 16783                        ;						        
                        pWin->nBitmapLayer);
 16784 06:3FF0: A0 9E 01     	ldy	#$19e
 16785 06:3FF3: B7 47        	lda	[<L848+pWin_1],Y
 16786 06:3FF5: 48           	pha
 16787 06:3FF6: 22 99 12 06  	jsl	~~k_getUIWindowBorderColor
 16788 06:3FFA: 48           	pha
 16789 06:3FFB: A0 0A 00     	ldy	#$a
 16790 06:3FFE: B7 15        	lda	[<L848+pwndRect_1],Y
 16791 06:4000: 48           	pha
 16792 06:4001: A0 08 00     	ldy	#$8
 16793 06:4004: B7 15        	lda	[<L848+pwndRect_1],Y
 16794 06:4006: 48           	pha
 16795 06:4007: A0 00 00     	ldy	#$0
 16796 06:400A: 5A           	phy
 16797 06:400B: A0 02 00     	ldy	#$2
 16798 06:400E: B7 15        	lda	[<L848+pwndRect_1],Y
 16799 06:4010: 7A           	ply
 16800 06:4011: 2A           	rol	A
 16801 06:4012: 6A           	ror	A
 16802 06:4013: 10 01        	bpl	L857
 16803 06:4015: 88           	dey
 16804                        L857:
 16805 06:4016: 85 01        	sta	<R0
 16806 06:4018: 84 03        	sty	<R0+2
 16807 06:401A: D4 03        	pei	<R0+2
 16808 06:401C: D4 01        	pei	<R0
 16809 06:401E: A0 00 00     	ldy	#$0
 16810 06:4021: A7 15        	lda	[<L848+pwndRect_1]
 16811 06:4023: 10 01        	bpl	L858
 16812 06:4025: 88           	dey
 16813                        L858:
 16814 06:4026: 85 05        	sta	<R1
 16815 06:4028: 84 07        	sty	<R1+2
 16816 06:402A: D4 07        	pei	<R1+2
 16817 06:402C: D4 05        	pei	<R1
 16818 06:402E: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 16819                        ;
 16820                        ;			}
 16821                        	.line	2617
 16822                        ;
 16823                        ;			for(bIndex=0;bIndex<SM_CXBORDER_
                    DEFAULT;bIndex++)
 16824                        L10355:
 16825                        	.line	2619
 16826 06:4032: 64 1F        	stz	<L848+bIndex_1
 16827                        L10358:
 16828                        ;			{
  Thu Jul 22 2021 22:51                                                Page 309


 16829                        	.line	2620
 16830                        ;				k_draw_rect(pwndRect->x 
                    + bIndex,
 16831                        	.line	2621
 16832                        ;							
                    pwndRect->y + bIndex,
 16833                        ;							
                    PRECTRIGHT(pwndRect)  - bIndex,
 16834                        ;							
                    PRECTBOTTOM(pwndRect) - bIndex,
 16835                        ;							
                    11,
 16836                        ;							
                    0,
 16837                        ;							
                    pWin->nBitmapLayer);
 16838 06:4034: A0 9E 01     	ldy	#$19e
 16839 06:4037: B7 47        	lda	[<L848+pWin_1],Y
 16840 06:4039: 48           	pha
 16841 06:403A: F4 00 00     	pea	#<$0
 16842 06:403D: F4 0B 00     	pea	#<$b
 16843 06:4040: 18           	clc
 16844 06:4041: A0 02 00     	ldy	#$2
 16845 06:4044: B7 15        	lda	[<L848+pwndRect_1],Y
 16846 06:4046: A0 0A 00     	ldy	#$a
 16847 06:4049: 77 15        	adc	[<L848+pwndRect_1],Y
 16848 06:404B: 85 01        	sta	<R0
 16849 06:404D: 18           	clc
 16850 06:404E: A9 FF FF     	lda	#$ffff
 16851 06:4051: 65 01        	adc	<R0
 16852 06:4053: 85 05        	sta	<R1
 16853 06:4055: 38           	sec
 16854 06:4056: A5 05        	lda	<R1
 16855 06:4058: E5 1F        	sbc	<L848+bIndex_1
 16856 06:405A: 48           	pha
 16857 06:405B: 18           	clc
 16858 06:405C: A7 15        	lda	[<L848+pwndRect_1]
 16859 06:405E: A0 08 00     	ldy	#$8
 16860 06:4061: 77 15        	adc	[<L848+pwndRect_1],Y
 16861 06:4063: 85 01        	sta	<R0
 16862 06:4065: 18           	clc
 16863 06:4066: A9 FF FF     	lda	#$ffff
 16864 06:4069: 65 01        	adc	<R0
 16865 06:406B: 85 05        	sta	<R1
 16866 06:406D: 38           	sec
 16867 06:406E: A5 05        	lda	<R1
 16868 06:4070: E5 1F        	sbc	<L848+bIndex_1
 16869 06:4072: 48           	pha
 16870 06:4073: 18           	clc
 16871 06:4074: A0 02 00     	ldy	#$2
 16872 06:4077: B7 15        	lda	[<L848+pwndRect_1],Y
 16873 06:4079: 65 1F        	adc	<L848+bIndex_1
 16874 06:407B: 48           	pha
 16875 06:407C: 18           	clc
 16876 06:407D: A7 15        	lda	[<L848+pwndRect_1]
 16877 06:407F: 65 1F        	adc	<L848+bIndex_1
 16878 06:4081: 48           	pha
 16879 06:4082: 22 D2 1D 06  	jsl	~~k_draw_rect
  Thu Jul 22 2021 22:51                                                Page 310


 16880                        ;			}
 16881                        	.line	2628
 16882                        L10356:
 16883 06:4086: E6 1F        	inc	<L848+bIndex_1
 16884 06:4088: A5 1F        	lda	<L848+bIndex_1
 16885 06:408A: 30 03        	bmi	L859
 16886 06:408C: 3A           	dea
 16887 06:408D: 10 03        	bpl	L860
 16888                        L859:
 16889 06:408F: 82 A2 FF     	brl	L10358
 16890                        L860:
 16891                        L10357:
 16892                        ;
 16893                        ;
 16894                        ;
 16895                        ;			k_draw_rect(pclientRect->x - SM_
                    CLIENT_BORDER_DEFAULT,
 16896                        	.line	2632
 16897                        ;						pclientR
                    ect->y - SM_CLIENT_BORDER_DEFAULT,
 16898                        ;						PRECTRIG
                    HT(pclientRect)  + SM_CLIENT_BORDER_DEFAULT ,
 16899                        ;						PRECTBOT
                    TOM(pclientRect) + SM_CLIENT_BORDER_DEFAULT,
 16900                        ;						11,
 16901                        ;						0,
 16902                        ;						pWin->nB
                    itmapLayer);
 16903 06:4092: A0 9E 01     	ldy	#$19e
 16904 06:4095: B7 47        	lda	[<L848+pWin_1],Y
 16905 06:4097: 48           	pha
 16906 06:4098: F4 00 00     	pea	#<$0
 16907 06:409B: F4 0B 00     	pea	#<$b
 16908 06:409E: 18           	clc
 16909 06:409F: A0 02 00     	ldy	#$2
 16910 06:40A2: B7 19        	lda	[<L848+pclientRect_1],Y
 16911 06:40A4: A0 0A 00     	ldy	#$a
 16912 06:40A7: 77 19        	adc	[<L848+pclientRect_1],Y
 16913 06:40A9: 48           	pha
 16914 06:40AA: 18           	clc
 16915 06:40AB: A7 19        	lda	[<L848+pclientRect_1]
 16916 06:40AD: A0 08 00     	ldy	#$8
 16917 06:40B0: 77 19        	adc	[<L848+pclientRect_1],Y
 16918 06:40B2: 48           	pha
 16919 06:40B3: 18           	clc
 16920 06:40B4: A9 FF FF     	lda	#$ffff
 16921 06:40B7: A0 02 00     	ldy	#$2
 16922 06:40BA: 77 19        	adc	[<L848+pclientRect_1],Y
 16923 06:40BC: 48           	pha
 16924 06:40BD: 18           	clc
 16925 06:40BE: A9 FF FF     	lda	#$ffff
 16926 06:40C1: 67 19        	adc	[<L848+pclientRect_1]
 16927 06:40C3: 48           	pha
 16928 06:40C4: 22 D2 1D 06  	jsl	~~k_draw_rect
 16929                        ;
 16930                        ;			k_vdma_fill_rect_ex(pclientRect-
                    >x,
 16931                        	.line	2640
  Thu Jul 22 2021 22:51                                                Page 311


 16932                        ;							
                    	pclientRect->y,
 16933                        ;							
                    	pclientRect->width ,
 16934                        ;							
                    	pclientRect->height ,
 16935                        ;							
                    	bgcolor,
 16936                        ;					            pWin
                    ->nBitmapLayer);
 16937 06:40C8: A0 9E 01     	ldy	#$19e
 16938 06:40CB: B7 47        	lda	[<L848+pWin_1],Y
 16939 06:40CD: 48           	pha
 16940 06:40CE: D4 54        	pei	<L847+bgcolor_0
 16941 06:40D0: A0 0A 00     	ldy	#$a
 16942 06:40D3: B7 19        	lda	[<L848+pclientRect_1],Y
 16943 06:40D5: 48           	pha
 16944 06:40D6: A0 08 00     	ldy	#$8
 16945 06:40D9: B7 19        	lda	[<L848+pclientRect_1],Y
 16946 06:40DB: 48           	pha
 16947 06:40DC: A0 00 00     	ldy	#$0
 16948 06:40DF: 5A           	phy
 16949 06:40E0: A0 02 00     	ldy	#$2
 16950 06:40E3: B7 19        	lda	[<L848+pclientRect_1],Y
 16951 06:40E5: 7A           	ply
 16952 06:40E6: 2A           	rol	A
 16953 06:40E7: 6A           	ror	A
 16954 06:40E8: 10 01        	bpl	L861
 16955 06:40EA: 88           	dey
 16956                        L861:
 16957 06:40EB: 85 01        	sta	<R0
 16958 06:40ED: 84 03        	sty	<R0+2
 16959 06:40EF: D4 03        	pei	<R0+2
 16960 06:40F1: D4 01        	pei	<R0
 16961 06:40F3: A0 00 00     	ldy	#$0
 16962 06:40F6: A7 19        	lda	[<L848+pclientRect_1]
 16963 06:40F8: 10 01        	bpl	L862
 16964 06:40FA: 88           	dey
 16965                        L862:
 16966 06:40FB: 85 05        	sta	<R1
 16967 06:40FD: 84 07        	sty	<R1+2
 16968 06:40FF: D4 07        	pei	<R1+2
 16969 06:4101: D4 05        	pei	<R1
 16970 06:4103: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 16971                        ;
 16972                        ;		}
 16973                        	.line	2647
 16974                        ;
 16975                        ;		k_get_font_metrics(&metric);
 16976                        L10354:
 16977                        	.line	2649
 16978 06:4107: F4 00 00     	pea	#0
 16979 06:410A: 18           	clc
 16980 06:410B: 7B           	tdc
 16981 06:410C: 69 11 00     	adc	#<L848+metric_1
 16982 06:410F: 48           	pha
 16983 06:4110: 22 B2 23 06  	jsl	~~k_get_font_metrics
 16984                        ;
  Thu Jul 22 2021 22:51                                                Page 312


 16985                        ;		gx = k_user_getSystemMetric(SM_CXGADGET)
                    ;
 16986                        	.line	2651
 16987 06:4114: F4 18 00     	pea	#<$18
 16988 06:4117: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 16989 06:411B: 85 3F        	sta	<L848+gx_1
 16990                        ;		gy = k_user_getSystemMetric(SM_CYGADGET)
                    ;
 16991                        	.line	2652
 16992 06:411D: F4 19 00     	pea	#<$19
 16993 06:4120: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 16994 06:4124: 85 41        	sta	<L848+gy_1
 16995                        ;		bx = k_user_getSystemMetric(SM_CXBORDER)
                    ;
 16996                        	.line	2653
 16997 06:4126: F4 05 00     	pea	#<$5
 16998 06:4129: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 16999 06:412D: 85 43        	sta	<L848+bx_1
 17000                        ;		by = k_user_getSystemMetric(SM_CYBORDER)
                    ;
 17001                        	.line	2654
 17002 06:412F: F4 06 00     	pea	#<$6
 17003 06:4132: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 17004 06:4136: 85 45        	sta	<L848+by_1
 17005                        ;
 17006                        ;		titleOffsetX = pwndRect->x+SM_TITLE_XGAD
                    GETGAP_DEFAULT;
 17007                        	.line	2656
 17008 06:4138: 18           	clc
 17009 06:4139: A9 04 00     	lda	#$4
 17010 06:413C: 67 15        	adc	[<L848+pwndRect_1]
 17011 06:413E: 85 37        	sta	<L848+titleOffsetX_1
 17012                        ;		titleOffsetY = pwndRect->y+SM_TITLE_YGAD
                    GETGAP_DEFAULT;
 17013                        	.line	2657
 17014 06:4140: 18           	clc
 17015 06:4141: A9 05 00     	lda	#$5
 17016 06:4144: A0 02 00     	ldy	#$2
 17017 06:4147: 77 15        	adc	[<L848+pwndRect_1],Y
 17018 06:4149: 85 39        	sta	<L848+titleOffsetY_1
 17019                        ;
 17020                        ;		if(style & FXWS_SYSMENU)
 17021                        	.line	2659
 17022                        ;		{
 17023 06:414B: A5 25        	lda	<L848+style_1
 17024 06:414D: 29 08 00     	and	#<$8
 17025 06:4150: D0 03        	bne	L863
 17026 06:4152: 82 AA 00     	brl	L10359
 17027                        L863:
 17028                        	.line	2660
 17029                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),
 17030                        	.line	2661
 17031                        ;					   titleOffsetX,
                    titleOffsetY,gx,gx);
 17032 06:4155: D4 3F        	pei	<L848+gx_1
 17033 06:4157: D4 3F        	pei	<L848+gx_1
 17034 06:4159: D4 39        	pei	<L848+titleOffsetY_1
  Thu Jul 22 2021 22:51                                                Page 313


 17035 06:415B: D4 37        	pei	<L848+titleOffsetX_1
 17036 06:415D: A0 00 00     	ldy	#$0
 17037 06:4160: A5 1D        	lda	<L848+ncc_1
 17038 06:4162: 10 01        	bpl	L864
 17039 06:4164: 88           	dey
 17040                        L864:
 17041 06:4165: 85 01        	sta	<R0
 17042 06:4167: 84 03        	sty	<R0+2
 17043 06:4169: F4 00 00     	pea	#^$11
 17044 06:416C: F4 11 00     	pea	#<$11
 17045 06:416F: D4 03        	pei	<R0+2
 17046 06:4171: D4 01        	pei	<R0
 17047                        	xref	~~~lmul
 17048 06:4173: 22 xx xx xx  	jsl	~~~lmul
 17049 06:4177: 85 01        	sta	<R0
 17050 06:4179: 86 03        	stx	<R0+2
 17051 06:417B: 18           	clc
 17052 06:417C: A9 38 00     	lda	#$38
 17053 06:417F: 65 01        	adc	<R0
 17054 06:4181: 85 05        	sta	<R1
 17055 06:4183: A9 00 00     	lda	#$0
 17056 06:4186: 65 03        	adc	<R0+2
 17057 06:4188: 85 07        	sta	<R1+2
 17058 06:418A: 18           	clc
 17059 06:418B: A5 47        	lda	<L848+pWin_1
 17060 06:418D: 65 05        	adc	<R1
 17061 06:418F: 85 01        	sta	<R0
 17062 06:4191: A5 49        	lda	<L848+pWin_1+2
 17063 06:4193: 65 07        	adc	<R1+2
 17064 06:4195: 85 03        	sta	<R0+2
 17065 06:4197: D4 03        	pei	<R0+2
 17066 06:4199: D4 01        	pei	<R0
 17067 06:419B: 22 00 06 06  	jsl	~~k_set_rect
 17068                        ;			pWin->nonclientGadgets[ncc++].ms
                    gType = FX_WINDOW_CLOSE;
 17069                        	.line	2663
 17070 06:419F: A0 00 00     	ldy	#$0
 17071 06:41A2: A5 1D        	lda	<L848+ncc_1
 17072 06:41A4: 10 01        	bpl	L865
 17073 06:41A6: 88           	dey
 17074                        L865:
 17075 06:41A7: 85 01        	sta	<R0
 17076 06:41A9: 84 03        	sty	<R0+2
 17077 06:41AB: F4 00 00     	pea	#^$11
 17078 06:41AE: F4 11 00     	pea	#<$11
 17079 06:41B1: D4 03        	pei	<R0+2
 17080 06:41B3: D4 01        	pei	<R0
 17081                        	xref	~~~lmul
 17082 06:41B5: 22 xx xx xx  	jsl	~~~lmul
 17083 06:41B9: 85 01        	sta	<R0
 17084 06:41BB: 86 03        	stx	<R0+2
 17085 06:41BD: 18           	clc
 17086 06:41BE: A9 46 00     	lda	#$46
 17087 06:41C1: 65 47        	adc	<L848+pWin_1
 17088 06:41C3: 85 05        	sta	<R1
 17089 06:41C5: A9 00 00     	lda	#$0
 17090 06:41C8: 65 49        	adc	<L848+pWin_1+2
 17091 06:41CA: 85 07        	sta	<R1+2
  Thu Jul 22 2021 22:51                                                Page 314


 17092 06:41CC: 18           	clc
 17093 06:41CD: A5 05        	lda	<R1
 17094 06:41CF: 65 01        	adc	<R0
 17095 06:41D1: 85 09        	sta	<R2
 17096 06:41D3: A5 07        	lda	<R1+2
 17097 06:41D5: 65 03        	adc	<R0+2
 17098 06:41D7: 85 0B        	sta	<R2+2
 17099 06:41D9: A9 FF FB     	lda	#$fbff
 17100 06:41DC: 87 09        	sta	[<R2]
 17101 06:41DE: E6 1D        	inc	<L848+ncc_1
 17102                        ;
 17103                        ;			titleOffsetX+=k_put_wingadget_po
                    int_ex(WINICON_TITLE_BCLOSE,
 17104                        	.line	2665
 17105                        ;							
                    					   titleOffsetX,titleOff
                    setY,
 17106                        ;							
                    					   k_getUIGadgetColor(),
 17107                        ;							
                    					   pWin->nBitmapLayer);
 17108 06:41E0: A0 9E 01     	ldy	#$19e
 17109 06:41E3: B7 47        	lda	[<L848+pWin_1],Y
 17110 06:41E5: 48           	pha
 17111 06:41E6: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 17112 06:41EA: 48           	pha
 17113 06:41EB: D4 39        	pei	<L848+titleOffsetY_1
 17114 06:41ED: D4 37        	pei	<L848+titleOffsetX_1
 17115 06:41EF: F4 06 00     	pea	#<$6
 17116 06:41F2: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 17117 06:41F6: 85 01        	sta	<R0
 17118 06:41F8: 18           	clc
 17119 06:41F9: A5 01        	lda	<R0
 17120 06:41FB: 65 37        	adc	<L848+titleOffsetX_1
 17121 06:41FD: 85 37        	sta	<L848+titleOffsetX_1
 17122                        ;		}
 17123                        	.line	2669
 17124                        ;
 17125                        ;
 17126                        ;		if((style & FXWS_CAPTION) == FXWS_CAPTIO
                    N)
 17127                        L10359:
 17128                        	.line	2672
 17129                        ;		{
 17130 06:41FF: A5 25        	lda	<L848+style_1
 17131 06:4201: 29 04 00     	and	#<$4
 17132 06:4204: 85 01        	sta	<R0
 17133 06:4206: 64 03        	stz	<R0+2
 17134 06:4208: A5 01        	lda	<R0
 17135 06:420A: C9 04 00     	cmp	#<$4
 17136 06:420D: D0 05        	bne	L866
 17137 06:420F: A5 03        	lda	<R0+2
 17138 06:4211: C9 00 00     	cmp	#^$4
 17139                        L866:
 17140 06:4214: F0 03        	beq	L867
 17141 06:4216: 82 40 00     	brl	L10360
 17142                        L867:
 17143                        	.line	2673
  Thu Jul 22 2021 22:51                                                Page 315


 17144                        ;			rect.x = titleOffsetX + SM_TITLE
                    _XGADGETGAP_DEFAULT;
 17145                        	.line	2674
 17146 06:4219: 18           	clc
 17147 06:421A: A9 04 00     	lda	#$4
 17148 06:421D: 65 37        	adc	<L848+titleOffsetX_1
 17149 06:421F: 85 29        	sta	<L848+rect_1
 17150                        ;			rect.y = titleOffsetY;
 17151                        	.line	2675
 17152 06:4221: A5 39        	lda	<L848+titleOffsetY_1
 17153 06:4223: 85 2B        	sta	<L848+rect_1+2
 17154                        ;			rect.width  = pwndRect->width - 
                    (titleOffsetX - pwndRect->x) - (SM_TITLE_XGADGETGAP_DEFAULT 
                    + SM_TITLE_XGADGETGAP_DEFAULT);
 17155                        	.line	2676
 17156 06:4225: 38           	sec
 17157 06:4226: A5 37        	lda	<L848+titleOffsetX_1
 17158 06:4228: E7 15        	sbc	[<L848+pwndRect_1]
 17159 06:422A: 85 01        	sta	<R0
 17160 06:422C: 38           	sec
 17161 06:422D: A0 08 00     	ldy	#$8
 17162 06:4230: B7 15        	lda	[<L848+pwndRect_1],Y
 17163 06:4232: E5 01        	sbc	<R0
 17164 06:4234: 85 05        	sta	<R1
 17165 06:4236: 18           	clc
 17166 06:4237: A9 F8 FF     	lda	#$fff8
 17167 06:423A: 65 05        	adc	<R1
 17168 06:423C: 85 31        	sta	<L848+rect_1+8
 17169                        ;			rect.height = 8;
 17170                        	.line	2677
 17171 06:423E: A9 08 00     	lda	#$8
 17172 06:4241: 85 33        	sta	<L848+rect_1+10
 17173                        ;			k_gui_get_image_cache(0,0x080000
                    ,&rect);
 17174                        	.line	2678
 17175 06:4243: F4 00 00     	pea	#0
 17176 06:4246: 18           	clc
 17177 06:4247: 7B           	tdc
 17178 06:4248: 69 29 00     	adc	#<L848+rect_1
 17179 06:424B: 48           	pha
 17180 06:424C: F4 08 00     	pea	#^$80000
 17181 06:424F: F4 00 00     	pea	#<$80000
 17182 06:4252: F4 00 00     	pea	#<$0
 17183 06:4255: 22 13 03 06  	jsl	~~k_gui_get_image_cache
 17184                        ;		}
 17185                        	.line	2679
 17186                        ;
 17187                        ;
 17188                        ;		if((style & FXWS_MINIMIZEBOX) && (style 
                    & FXWS_MAXIMIZEBOX))
 17189                        L10360:
 17190                        	.line	2682
 17191                        ;		{
 17192 06:4259: A5 25        	lda	<L848+style_1
 17193 06:425B: 29 20 00     	and	#<$20
 17194 06:425E: D0 03        	bne	L868
 17195 06:4260: 82 BC 01     	brl	L10361
 17196                        L868:
  Thu Jul 22 2021 22:51                                                Page 316


 17197 06:4263: A5 25        	lda	<L848+style_1
 17198 06:4265: 29 10 00     	and	#<$10
 17199 06:4268: D0 03        	bne	L869
 17200 06:426A: 82 B2 01     	brl	L10361
 17201                        L869:
 17202                        	.line	2683
 17203                        ;			tx = ((pwndRect->x + pwndRect->w
                    idth - 0) - (SM_TITLE_XGADGETGAP_DEFAULT + gx));
 17204                        	.line	2684
 17205 06:426D: 18           	clc
 17206 06:426E: A9 04 00     	lda	#$4
 17207 06:4271: 65 3F        	adc	<L848+gx_1
 17208 06:4273: 85 01        	sta	<R0
 17209 06:4275: 18           	clc
 17210 06:4276: A7 15        	lda	[<L848+pwndRect_1]
 17211 06:4278: A0 08 00     	ldy	#$8
 17212 06:427B: 77 15        	adc	[<L848+pwndRect_1],Y
 17213 06:427D: 85 05        	sta	<R1
 17214 06:427F: 38           	sec
 17215 06:4280: A5 05        	lda	<R1
 17216 06:4282: E5 01        	sbc	<R0
 17217 06:4284: 85 3D        	sta	<L848+tx_1
 17218                        ;
 17219                        ;
 17220                        ;			k_put_wingadget_point_ex(WINICON
                    _BLOCK     ,tx,titleOffsetY,k_getUIWindowBorderColor(),pWin-
                    >nBitmapLayer);
 17221                        	.line	2687
 17222 06:4286: A0 9E 01     	ldy	#$19e
 17223 06:4289: B7 47        	lda	[<L848+pWin_1],Y
 17224 06:428B: 48           	pha
 17225 06:428C: 22 99 12 06  	jsl	~~k_getUIWindowBorderColor
 17226 06:4290: 48           	pha
 17227 06:4291: D4 39        	pei	<L848+titleOffsetY_1
 17228 06:4293: D4 3D        	pei	<L848+tx_1
 17229 06:4295: F4 00 00     	pea	#<$0
 17230 06:4298: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 17231                        ;			k_put_wingadget_point_ex(WINICON
                    _TITLE_BACK,tx,titleOffsetY,k_getUIGadgetColor()      ,pWin-
                    >nBitmapLayer);
 17232                        	.line	2688
 17233 06:429C: A0 9E 01     	ldy	#$19e
 17234 06:429F: B7 47        	lda	[<L848+pWin_1],Y
 17235 06:42A1: 48           	pha
 17236 06:42A2: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 17237 06:42A6: 48           	pha
 17238 06:42A7: D4 39        	pei	<L848+titleOffsetY_1
 17239 06:42A9: D4 3D        	pei	<L848+tx_1
 17240 06:42AB: F4 04 00     	pea	#<$4
 17241 06:42AE: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 17242                        ;			pWin->nonclientGadgets[ncc].msgT
                    ype = FX_MIN_WINDOW;
 17243                        	.line	2689
 17244 06:42B2: A0 00 00     	ldy	#$0
 17245 06:42B5: A5 1D        	lda	<L848+ncc_1
 17246 06:42B7: 10 01        	bpl	L870
 17247 06:42B9: 88           	dey
 17248                        L870:
  Thu Jul 22 2021 22:51                                                Page 317


 17249 06:42BA: 85 01        	sta	<R0
 17250 06:42BC: 84 03        	sty	<R0+2
 17251 06:42BE: F4 00 00     	pea	#^$11
 17252 06:42C1: F4 11 00     	pea	#<$11
 17253 06:42C4: D4 03        	pei	<R0+2
 17254 06:42C6: D4 01        	pei	<R0
 17255                        	xref	~~~lmul
 17256 06:42C8: 22 xx xx xx  	jsl	~~~lmul
 17257 06:42CC: 85 01        	sta	<R0
 17258 06:42CE: 86 03        	stx	<R0+2
 17259 06:42D0: 18           	clc
 17260 06:42D1: A9 46 00     	lda	#$46
 17261 06:42D4: 65 47        	adc	<L848+pWin_1
 17262 06:42D6: 85 05        	sta	<R1
 17263 06:42D8: A9 00 00     	lda	#$0
 17264 06:42DB: 65 49        	adc	<L848+pWin_1+2
 17265 06:42DD: 85 07        	sta	<R1+2
 17266 06:42DF: 18           	clc
 17267 06:42E0: A5 05        	lda	<R1
 17268 06:42E2: 65 01        	adc	<R0
 17269 06:42E4: 85 09        	sta	<R2
 17270 06:42E6: A5 07        	lda	<R1+2
 17271 06:42E8: 65 03        	adc	<R0+2
 17272 06:42EA: 85 0B        	sta	<R2+2
 17273 06:42EC: A9 09 FB     	lda	#$fb09
 17274 06:42EF: 87 09        	sta	[<R2]
 17275                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),tx,titleOffsetY,gx,gx);
 17276                        	.line	2690
 17277 06:42F1: D4 3F        	pei	<L848+gx_1
 17278 06:42F3: D4 3F        	pei	<L848+gx_1
 17279 06:42F5: D4 39        	pei	<L848+titleOffsetY_1
 17280 06:42F7: D4 3D        	pei	<L848+tx_1
 17281 06:42F9: A0 00 00     	ldy	#$0
 17282 06:42FC: A5 1D        	lda	<L848+ncc_1
 17283 06:42FE: 10 01        	bpl	L871
 17284 06:4300: 88           	dey
 17285                        L871:
 17286 06:4301: 85 01        	sta	<R0
 17287 06:4303: 84 03        	sty	<R0+2
 17288 06:4305: F4 00 00     	pea	#^$11
 17289 06:4308: F4 11 00     	pea	#<$11
 17290 06:430B: D4 03        	pei	<R0+2
 17291 06:430D: D4 01        	pei	<R0
 17292                        	xref	~~~lmul
 17293 06:430F: 22 xx xx xx  	jsl	~~~lmul
 17294 06:4313: 85 01        	sta	<R0
 17295 06:4315: 86 03        	stx	<R0+2
 17296 06:4317: 18           	clc
 17297 06:4318: A9 38 00     	lda	#$38
 17298 06:431B: 65 01        	adc	<R0
 17299 06:431D: 85 05        	sta	<R1
 17300 06:431F: A9 00 00     	lda	#$0
 17301 06:4322: 65 03        	adc	<R0+2
 17302 06:4324: 85 07        	sta	<R1+2
 17303 06:4326: 18           	clc
 17304 06:4327: A5 47        	lda	<L848+pWin_1
 17305 06:4329: 65 05        	adc	<R1
  Thu Jul 22 2021 22:51                                                Page 318


 17306 06:432B: 85 01        	sta	<R0
 17307 06:432D: A5 49        	lda	<L848+pWin_1+2
 17308 06:432F: 65 07        	adc	<R1+2
 17309 06:4331: 85 03        	sta	<R0+2
 17310 06:4333: D4 03        	pei	<R0+2
 17311 06:4335: D4 01        	pei	<R0
 17312 06:4337: 22 00 06 06  	jsl	~~k_set_rect
 17313                        ;
 17314                        ;			ncc++;
 17315                        	.line	2692
 17316 06:433B: E6 1D        	inc	<L848+ncc_1
 17317                        ;
 17318                        ;			tx = ((pwndRect->x + pwndRect->w
                    idth - 0) - (SM_TITLE_XGADGETGAP_DEFAULT + gx) - (SM_TITLE_X
                    GADGETGAP_DEFAULT + gx));
 17319                        	.line	2694
 17320 06:433D: 18           	clc
 17321 06:433E: A9 04 00     	lda	#$4
 17322 06:4341: 65 3F        	adc	<L848+gx_1
 17323 06:4343: 85 01        	sta	<R0
 17324 06:4345: 18           	clc
 17325 06:4346: A9 04 00     	lda	#$4
 17326 06:4349: 65 3F        	adc	<L848+gx_1
 17327 06:434B: 85 05        	sta	<R1
 17328 06:434D: 18           	clc
 17329 06:434E: A7 15        	lda	[<L848+pwndRect_1]
 17330 06:4350: A0 08 00     	ldy	#$8
 17331 06:4353: 77 15        	adc	[<L848+pwndRect_1],Y
 17332 06:4355: 85 09        	sta	<R2
 17333 06:4357: 38           	sec
 17334 06:4358: A5 09        	lda	<R2
 17335 06:435A: E5 05        	sbc	<R1
 17336 06:435C: 85 0D        	sta	<R3
 17337 06:435E: 38           	sec
 17338 06:435F: A5 0D        	lda	<R3
 17339 06:4361: E5 01        	sbc	<R0
 17340 06:4363: 85 3D        	sta	<L848+tx_1
 17341                        ;
 17342                        ;			k_put_wingadget_point_ex(WINICON
                    _BLOCK      ,tx,titleOffsetY,k_getUIWindowBorderColor(),pWin
                    ->nBitmapLayer);
 17343                        	.line	2696
 17344 06:4365: A0 9E 01     	ldy	#$19e
 17345 06:4368: B7 47        	lda	[<L848+pWin_1],Y
 17346 06:436A: 48           	pha
 17347 06:436B: 22 99 12 06  	jsl	~~k_getUIWindowBorderColor
 17348 06:436F: 48           	pha
 17349 06:4370: D4 39        	pei	<L848+titleOffsetY_1
 17350 06:4372: D4 3D        	pei	<L848+tx_1
 17351 06:4374: F4 00 00     	pea	#<$0
 17352 06:4377: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 17353                        ;			k_put_wingadget_point_ex(WINICON
                    _TITLE_FRONT,tx,titleOffsetY,k_getUIGadgetColor()      ,pWin
                    ->nBitmapLayer);
 17354                        	.line	2697
 17355 06:437B: A0 9E 01     	ldy	#$19e
 17356 06:437E: B7 47        	lda	[<L848+pWin_1],Y
 17357 06:4380: 48           	pha
  Thu Jul 22 2021 22:51                                                Page 319


 17358 06:4381: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 17359 06:4385: 48           	pha
 17360 06:4386: D4 39        	pei	<L848+titleOffsetY_1
 17361 06:4388: D4 3D        	pei	<L848+tx_1
 17362 06:438A: F4 03 00     	pea	#<$3
 17363 06:438D: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 17364                        ;			pWin->nonclientGadgets[ncc].msgT
                    ype = FX_MAX_WINDOW;
 17365                        	.line	2698
 17366 06:4391: A0 00 00     	ldy	#$0
 17367 06:4394: A5 1D        	lda	<L848+ncc_1
 17368 06:4396: 10 01        	bpl	L872
 17369 06:4398: 88           	dey
 17370                        L872:
 17371 06:4399: 85 01        	sta	<R0
 17372 06:439B: 84 03        	sty	<R0+2
 17373 06:439D: F4 00 00     	pea	#^$11
 17374 06:43A0: F4 11 00     	pea	#<$11
 17375 06:43A3: D4 03        	pei	<R0+2
 17376 06:43A5: D4 01        	pei	<R0
 17377                        	xref	~~~lmul
 17378 06:43A7: 22 xx xx xx  	jsl	~~~lmul
 17379 06:43AB: 85 01        	sta	<R0
 17380 06:43AD: 86 03        	stx	<R0+2
 17381 06:43AF: 18           	clc
 17382 06:43B0: A9 46 00     	lda	#$46
 17383 06:43B3: 65 47        	adc	<L848+pWin_1
 17384 06:43B5: 85 05        	sta	<R1
 17385 06:43B7: A9 00 00     	lda	#$0
 17386 06:43BA: 65 49        	adc	<L848+pWin_1+2
 17387 06:43BC: 85 07        	sta	<R1+2
 17388 06:43BE: 18           	clc
 17389 06:43BF: A5 05        	lda	<R1
 17390 06:43C1: 65 01        	adc	<R0
 17391 06:43C3: 85 09        	sta	<R2
 17392 06:43C5: A5 07        	lda	<R1+2
 17393 06:43C7: 65 03        	adc	<R0+2
 17394 06:43C9: 85 0B        	sta	<R2+2
 17395 06:43CB: A9 0A FB     	lda	#$fb0a
 17396 06:43CE: 87 09        	sta	[<R2]
 17397                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),tx,titleOffsetY,gx,gx);
 17398                        	.line	2699
 17399 06:43D0: D4 3F        	pei	<L848+gx_1
 17400 06:43D2: D4 3F        	pei	<L848+gx_1
 17401 06:43D4: D4 39        	pei	<L848+titleOffsetY_1
 17402 06:43D6: D4 3D        	pei	<L848+tx_1
 17403 06:43D8: A0 00 00     	ldy	#$0
 17404 06:43DB: A5 1D        	lda	<L848+ncc_1
 17405 06:43DD: 10 01        	bpl	L873
 17406 06:43DF: 88           	dey
 17407                        L873:
 17408 06:43E0: 85 01        	sta	<R0
 17409 06:43E2: 84 03        	sty	<R0+2
 17410 06:43E4: F4 00 00     	pea	#^$11
 17411 06:43E7: F4 11 00     	pea	#<$11
 17412 06:43EA: D4 03        	pei	<R0+2
 17413 06:43EC: D4 01        	pei	<R0
  Thu Jul 22 2021 22:51                                                Page 320


 17414                        	xref	~~~lmul
 17415 06:43EE: 22 xx xx xx  	jsl	~~~lmul
 17416 06:43F2: 85 01        	sta	<R0
 17417 06:43F4: 86 03        	stx	<R0+2
 17418 06:43F6: 18           	clc
 17419 06:43F7: A9 38 00     	lda	#$38
 17420 06:43FA: 65 01        	adc	<R0
 17421 06:43FC: 85 05        	sta	<R1
 17422 06:43FE: A9 00 00     	lda	#$0
 17423 06:4401: 65 03        	adc	<R0+2
 17424 06:4403: 85 07        	sta	<R1+2
 17425 06:4405: 18           	clc
 17426 06:4406: A5 47        	lda	<L848+pWin_1
 17427 06:4408: 65 05        	adc	<R1
 17428 06:440A: 85 01        	sta	<R0
 17429 06:440C: A5 49        	lda	<L848+pWin_1+2
 17430 06:440E: 65 07        	adc	<R1+2
 17431 06:4410: 85 03        	sta	<R0+2
 17432 06:4412: D4 03        	pei	<R0+2
 17433 06:4414: D4 01        	pei	<R0
 17434 06:4416: 22 00 06 06  	jsl	~~k_set_rect
 17435                        ;
 17436                        ;			ncc++;
 17437                        	.line	2701
 17438 06:441A: E6 1D        	inc	<L848+ncc_1
 17439                        ;		}
 17440                        	.line	2702
 17441                        ;		else
 17442 06:441C: 82 3C 01     	brl	L10362
 17443                        L10361:
 17444                        ;		{
 17445                        	.line	2704
 17446                        ;			tx = ((pwndRect->x + pwndRect->w
                    idth - 0) - (SM_TITLE_XGADGETGAP_DEFAULT + gx));
 17447                        	.line	2705
 17448 06:441F: 18           	clc
 17449 06:4420: A9 04 00     	lda	#$4
 17450 06:4423: 65 3F        	adc	<L848+gx_1
 17451 06:4425: 85 01        	sta	<R0
 17452 06:4427: 18           	clc
 17453 06:4428: A7 15        	lda	[<L848+pwndRect_1]
 17454 06:442A: A0 08 00     	ldy	#$8
 17455 06:442D: 77 15        	adc	[<L848+pwndRect_1],Y
 17456 06:442F: 85 05        	sta	<R1
 17457 06:4431: 38           	sec
 17458 06:4432: A5 05        	lda	<R1
 17459 06:4434: E5 01        	sbc	<R0
 17460 06:4436: 85 3D        	sta	<L848+tx_1
 17461                        ;
 17462                        ;			k_put_wingadget_point_ex(WINICON
                    _BLOCK,tx,titleOffsetY,k_getUIWindowBorderColor(),pWin->nBit
                    mapLayer);
 17463                        	.line	2707
 17464 06:4438: A0 9E 01     	ldy	#$19e
 17465 06:443B: B7 47        	lda	[<L848+pWin_1],Y
 17466 06:443D: 48           	pha
 17467 06:443E: 22 99 12 06  	jsl	~~k_getUIWindowBorderColor
 17468 06:4442: 48           	pha
  Thu Jul 22 2021 22:51                                                Page 321


 17469 06:4443: D4 39        	pei	<L848+titleOffsetY_1
 17470 06:4445: D4 3D        	pei	<L848+tx_1
 17471 06:4447: F4 00 00     	pea	#<$0
 17472 06:444A: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 17473                        ;			if(style & FXWS_MINIMIZEBOX)
 17474                        	.line	2708
 17475                        ;			{
 17476 06:444E: A5 25        	lda	<L848+style_1
 17477 06:4450: 29 20 00     	and	#<$20
 17478 06:4453: D0 03        	bne	L874
 17479 06:4455: 82 58 00     	brl	L10363
 17480                        L874:
 17481                        	.line	2709
 17482                        ;				k_put_wingadget_point_ex
                    (WINICON_TITLE_BACK,tx,titleOffsetY,k_getUIGadgetColor(),pWi
                    n->nBitmapLayer);
 17483                        	.line	2710
 17484 06:4458: A0 9E 01     	ldy	#$19e
 17485 06:445B: B7 47        	lda	[<L848+pWin_1],Y
 17486 06:445D: 48           	pha
 17487 06:445E: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 17488 06:4462: 48           	pha
 17489 06:4463: D4 39        	pei	<L848+titleOffsetY_1
 17490 06:4465: D4 3D        	pei	<L848+tx_1
 17491 06:4467: F4 04 00     	pea	#<$4
 17492 06:446A: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 17493                        ;				pWin->nonclientGadgets[n
                    cc].msgType = FX_MIN_WINDOW;
 17494                        	.line	2711
 17495 06:446E: A0 00 00     	ldy	#$0
 17496 06:4471: A5 1D        	lda	<L848+ncc_1
 17497 06:4473: 10 01        	bpl	L875
 17498 06:4475: 88           	dey
 17499                        L875:
 17500 06:4476: 85 01        	sta	<R0
 17501 06:4478: 84 03        	sty	<R0+2
 17502 06:447A: F4 00 00     	pea	#^$11
 17503 06:447D: F4 11 00     	pea	#<$11
 17504 06:4480: D4 03        	pei	<R0+2
 17505 06:4482: D4 01        	pei	<R0
 17506                        	xref	~~~lmul
 17507 06:4484: 22 xx xx xx  	jsl	~~~lmul
 17508 06:4488: 85 01        	sta	<R0
 17509 06:448A: 86 03        	stx	<R0+2
 17510 06:448C: 18           	clc
 17511 06:448D: A9 46 00     	lda	#$46
 17512 06:4490: 65 47        	adc	<L848+pWin_1
 17513 06:4492: 85 05        	sta	<R1
 17514 06:4494: A9 00 00     	lda	#$0
 17515 06:4497: 65 49        	adc	<L848+pWin_1+2
 17516 06:4499: 85 07        	sta	<R1+2
 17517 06:449B: 18           	clc
 17518 06:449C: A5 05        	lda	<R1
 17519 06:449E: 65 01        	adc	<R0
 17520 06:44A0: 85 09        	sta	<R2
 17521 06:44A2: A5 07        	lda	<R1+2
 17522 06:44A4: 65 03        	adc	<R0+2
 17523 06:44A6: 85 0B        	sta	<R2+2
  Thu Jul 22 2021 22:51                                                Page 322


 17524 06:44A8: A9 09 FB     	lda	#$fb09
 17525 06:44AB: 87 09        	sta	[<R2]
 17526                        ;			}
 17527                        	.line	2712
 17528                        ;			else if(style & FXWS_MAXIMIZEBOX
                    )
 17529 06:44AD: 82 5F 00     	brl	L10364
 17530                        L10363:
 17531                        	.line	2713
 17532                        ;			{
 17533 06:44B0: A5 25        	lda	<L848+style_1
 17534 06:44B2: 29 10 00     	and	#<$10
 17535 06:44B5: D0 03        	bne	L876
 17536 06:44B7: 82 55 00     	brl	L10365
 17537                        L876:
 17538                        	.line	2714
 17539                        ;				k_put_wingadget_point_ex
                    (WINICON_TITLE_FRONT,tx,titleOffsetY,k_getUIGadgetColor(),pW
                    in->nBitmapLayer);
 17540                        	.line	2715
 17541 06:44BA: A0 9E 01     	ldy	#$19e
 17542 06:44BD: B7 47        	lda	[<L848+pWin_1],Y
 17543 06:44BF: 48           	pha
 17544 06:44C0: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 17545 06:44C4: 48           	pha
 17546 06:44C5: D4 39        	pei	<L848+titleOffsetY_1
 17547 06:44C7: D4 3D        	pei	<L848+tx_1
 17548 06:44C9: F4 03 00     	pea	#<$3
 17549 06:44CC: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 17550                        ;				pWin->nonclientGadgets[n
                    cc].msgType = FX_MAX_WINDOW;
 17551                        	.line	2716
 17552 06:44D0: A0 00 00     	ldy	#$0
 17553 06:44D3: A5 1D        	lda	<L848+ncc_1
 17554 06:44D5: 10 01        	bpl	L877
 17555 06:44D7: 88           	dey
 17556                        L877:
 17557 06:44D8: 85 01        	sta	<R0
 17558 06:44DA: 84 03        	sty	<R0+2
 17559 06:44DC: F4 00 00     	pea	#^$11
 17560 06:44DF: F4 11 00     	pea	#<$11
 17561 06:44E2: D4 03        	pei	<R0+2
 17562 06:44E4: D4 01        	pei	<R0
 17563                        	xref	~~~lmul
 17564 06:44E6: 22 xx xx xx  	jsl	~~~lmul
 17565 06:44EA: 85 01        	sta	<R0
 17566 06:44EC: 86 03        	stx	<R0+2
 17567 06:44EE: 18           	clc
 17568 06:44EF: A9 46 00     	lda	#$46
 17569 06:44F2: 65 47        	adc	<L848+pWin_1
 17570 06:44F4: 85 05        	sta	<R1
 17571 06:44F6: A9 00 00     	lda	#$0
 17572 06:44F9: 65 49        	adc	<L848+pWin_1+2
 17573 06:44FB: 85 07        	sta	<R1+2
 17574 06:44FD: 18           	clc
 17575 06:44FE: A5 05        	lda	<R1
 17576 06:4500: 65 01        	adc	<R0
 17577 06:4502: 85 09        	sta	<R2
  Thu Jul 22 2021 22:51                                                Page 323


 17578 06:4504: A5 07        	lda	<R1+2
 17579 06:4506: 65 03        	adc	<R0+2
 17580 06:4508: 85 0B        	sta	<R2+2
 17581 06:450A: A9 0A FB     	lda	#$fb0a
 17582 06:450D: 87 09        	sta	[<R2]
 17583                        ;			}
 17584                        	.line	2717
 17585                        ;
 17586                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),tx,titleOffsetY,gx,gx);
 17587                        L10365:
 17588                        L10364:
 17589                        	.line	2719
 17590 06:450F: D4 3F        	pei	<L848+gx_1
 17591 06:4511: D4 3F        	pei	<L848+gx_1
 17592 06:4513: D4 39        	pei	<L848+titleOffsetY_1
 17593 06:4515: D4 3D        	pei	<L848+tx_1
 17594 06:4517: A0 00 00     	ldy	#$0
 17595 06:451A: A5 1D        	lda	<L848+ncc_1
 17596 06:451C: 10 01        	bpl	L878
 17597 06:451E: 88           	dey
 17598                        L878:
 17599 06:451F: 85 01        	sta	<R0
 17600 06:4521: 84 03        	sty	<R0+2
 17601 06:4523: F4 00 00     	pea	#^$11
 17602 06:4526: F4 11 00     	pea	#<$11
 17603 06:4529: D4 03        	pei	<R0+2
 17604 06:452B: D4 01        	pei	<R0
 17605                        	xref	~~~lmul
 17606 06:452D: 22 xx xx xx  	jsl	~~~lmul
 17607 06:4531: 85 01        	sta	<R0
 17608 06:4533: 86 03        	stx	<R0+2
 17609 06:4535: 18           	clc
 17610 06:4536: A9 38 00     	lda	#$38
 17611 06:4539: 65 01        	adc	<R0
 17612 06:453B: 85 05        	sta	<R1
 17613 06:453D: A9 00 00     	lda	#$0
 17614 06:4540: 65 03        	adc	<R0+2
 17615 06:4542: 85 07        	sta	<R1+2
 17616 06:4544: 18           	clc
 17617 06:4545: A5 47        	lda	<L848+pWin_1
 17618 06:4547: 65 05        	adc	<R1
 17619 06:4549: 85 01        	sta	<R0
 17620 06:454B: A5 49        	lda	<L848+pWin_1+2
 17621 06:454D: 65 07        	adc	<R1+2
 17622 06:454F: 85 03        	sta	<R0+2
 17623 06:4551: D4 03        	pei	<R0+2
 17624 06:4553: D4 01        	pei	<R0
 17625 06:4555: 22 00 06 06  	jsl	~~k_set_rect
 17626                        ;
 17627                        ;			ncc++;
 17628                        	.line	2721
 17629 06:4559: E6 1D        	inc	<L848+ncc_1
 17630                        ;		}
 17631                        	.line	2722
 17632                        L10362:
 17633                        ;
 17634                        ;
  Thu Jul 22 2021 22:51                                                Page 324


 17635                        ;
 17636                        ;		if((style & FXWS_CAPTION) == FXWS_CAPTIO
                    N)
 17637                        	.line	2726
 17638                        ;		{
 17639 06:455B: A5 25        	lda	<L848+style_1
 17640 06:455D: 29 04 00     	and	#<$4
 17641 06:4560: 85 01        	sta	<R0
 17642 06:4562: 64 03        	stz	<R0+2
 17643 06:4564: A5 01        	lda	<R0
 17644 06:4566: C9 04 00     	cmp	#<$4
 17645 06:4569: D0 05        	bne	L879
 17646 06:456B: A5 03        	lda	<R0+2
 17647 06:456D: C9 00 00     	cmp	#^$4
 17648                        L879:
 17649 06:4570: F0 03        	beq	L880
 17650 06:4572: 82 CD 01     	brl	L10366
 17651                        L880:
 17652                        	.line	2727
 17653                        ;			k_user_SetRect(&rect,
 17654                        	.line	2728
 17655                        ;						   title
                    OffsetX + SM_TITLE_XGADGETGAP_DEFAULT,
 17656                        ;						   title
                    OffsetY,
 17657                        ;						   (strl
                    en(pWin->win_title)*metric.width) + SM_TITLE_XGADGETGAP_DEFA
                    ULT,
 17658                        ;						   metri
                    c.height);
 17659 06:4575: D4 13        	pei	<L848+metric_1+2
 17660 06:4577: 18           	clc
 17661 06:4578: A9 4C 01     	lda	#$14c
 17662 06:457B: 65 47        	adc	<L848+pWin_1
 17663 06:457D: 85 01        	sta	<R0
 17664 06:457F: A9 00 00     	lda	#$0
 17665 06:4582: 65 49        	adc	<L848+pWin_1+2
 17666 06:4584: 85 03        	sta	<R0+2
 17667 06:4586: D4 03        	pei	<R0+2
 17668 06:4588: D4 01        	pei	<R0
 17669 06:458A: 22 xx xx xx  	jsl	~~strlen
 17670 06:458E: 85 05        	sta	<R1
 17671 06:4590: A5 05        	lda	<R1
 17672 06:4592: A6 11        	ldx	<L848+metric_1
 17673                        	xref	~~~mul
 17674 06:4594: 22 xx xx xx  	jsl	~~~mul
 17675 06:4598: 85 05        	sta	<R1
 17676 06:459A: 18           	clc
 17677 06:459B: A9 04 00     	lda	#$4
 17678 06:459E: 65 05        	adc	<R1
 17679 06:45A0: 48           	pha
 17680 06:45A1: D4 39        	pei	<L848+titleOffsetY_1
 17681 06:45A3: 18           	clc
 17682 06:45A4: A9 04 00     	lda	#$4
 17683 06:45A7: 65 37        	adc	<L848+titleOffsetX_1
 17684 06:45A9: 48           	pha
 17685 06:45AA: F4 00 00     	pea	#0
 17686 06:45AD: 18           	clc
  Thu Jul 22 2021 22:51                                                Page 325


 17687 06:45AE: 7B           	tdc
 17688 06:45AF: 69 29 00     	adc	#<L848+rect_1
 17689 06:45B2: 48           	pha
 17690 06:45B3: 22 xx xx xx  	jsl	~~k_user_SetRect
 17691                        ;
 17692                        ;
 17693                        ;			if(pWin->styleEx && pWin->client
                    Data[CLIENTDATA_TITLE])
 17694                        	.line	2735
 17695                        ;			{
 17696 06:45B7: A0 06 00     	ldy	#$6
 17697 06:45BA: B7 47        	lda	[<L848+pWin_1],Y
 17698 06:45BC: A0 08 00     	ldy	#$8
 17699 06:45BF: 17 47        	ora	[<L848+pWin_1],Y
 17700 06:45C1: D0 03        	bne	L881
 17701 06:45C3: 82 2B 00     	brl	L10367
 17702                        L881:
 17703 06:45C6: A0 DD 01     	ldy	#$1dd
 17704 06:45C9: B7 47        	lda	[<L848+pWin_1],Y
 17705 06:45CB: A0 DF 01     	ldy	#$1df
 17706 06:45CE: 17 47        	ora	[<L848+pWin_1],Y
 17707 06:45D0: D0 03        	bne	L882
 17708 06:45D2: 82 1C 00     	brl	L10367
 17709                        L882:
 17710                        	.line	2736
 17711                        ;				k_gui_get_image_cache((U
                    INT)((ULONG)pWin->clientData[CLIENTDATA_TITLE]),GUI_CACHE_BA
                    CK,&rect);
 17712                        	.line	2737
 17713 06:45D5: F4 00 00     	pea	#0
 17714 06:45D8: 18           	clc
 17715 06:45D9: 7B           	tdc
 17716 06:45DA: 69 29 00     	adc	#<L848+rect_1
 17717 06:45DD: 48           	pha
 17718 06:45DE: F4 08 00     	pea	#^$80000
 17719 06:45E1: F4 00 00     	pea	#<$80000
 17720 06:45E4: A0 DD 01     	ldy	#$1dd
 17721 06:45E7: B7 47        	lda	[<L848+pWin_1],Y
 17722 06:45E9: 48           	pha
 17723 06:45EA: 22 13 03 06  	jsl	~~k_gui_get_image_cache
 17724                        ;			}
 17725                        	.line	2738
 17726                        ;			else
 17727 06:45EE: 82 B6 00     	brl	L10368
 17728                        L10367:
 17729                        ;			{
 17730                        	.line	2740
 17731                        ;				k_vdma_fill_rect_ex(rect
                    .x,
 17732                        	.line	2741
 17733                        ;							
                    		rect.y,
 17734                        ;							
                    		(strlen(pWin->win_title)*metric.width) + SM_TITL
                    E_XGADGETGAP_DEFAULT,
 17735                        ;							
                    		metric.height,
 17736                        ;							
  Thu Jul 22 2021 22:51                                                Page 326


                    		k_getUIWindowBorderColor(),
 17737                        ;							
                    		BITMAP_BACK);
 17738 06:45F1: F4 08 00     	pea	#<$8
 17739 06:45F4: 22 99 12 06  	jsl	~~k_getUIWindowBorderColor
 17740 06:45F8: 48           	pha
 17741 06:45F9: D4 13        	pei	<L848+metric_1+2
 17742 06:45FB: 18           	clc
 17743 06:45FC: A9 4C 01     	lda	#$14c
 17744 06:45FF: 65 47        	adc	<L848+pWin_1
 17745 06:4601: 85 01        	sta	<R0
 17746 06:4603: A9 00 00     	lda	#$0
 17747 06:4606: 65 49        	adc	<L848+pWin_1+2
 17748 06:4608: 85 03        	sta	<R0+2
 17749 06:460A: D4 03        	pei	<R0+2
 17750 06:460C: D4 01        	pei	<R0
 17751 06:460E: 22 xx xx xx  	jsl	~~strlen
 17752 06:4612: 85 05        	sta	<R1
 17753 06:4614: A5 05        	lda	<R1
 17754 06:4616: A6 11        	ldx	<L848+metric_1
 17755                        	xref	~~~mul
 17756 06:4618: 22 xx xx xx  	jsl	~~~mul
 17757 06:461C: 85 05        	sta	<R1
 17758 06:461E: 18           	clc
 17759 06:461F: A9 04 00     	lda	#$4
 17760 06:4622: 65 05        	adc	<R1
 17761 06:4624: 48           	pha
 17762 06:4625: A0 00 00     	ldy	#$0
 17763 06:4628: A5 2B        	lda	<L848+rect_1+2
 17764 06:462A: 10 01        	bpl	L883
 17765 06:462C: 88           	dey
 17766                        L883:
 17767 06:462D: 85 05        	sta	<R1
 17768 06:462F: 84 07        	sty	<R1+2
 17769 06:4631: D4 07        	pei	<R1+2
 17770 06:4633: D4 05        	pei	<R1
 17771 06:4635: A0 00 00     	ldy	#$0
 17772 06:4638: A5 29        	lda	<L848+rect_1
 17773 06:463A: 10 01        	bpl	L884
 17774 06:463C: 88           	dey
 17775                        L884:
 17776 06:463D: 85 09        	sta	<R2
 17777 06:463F: 84 0B        	sty	<R2+2
 17778 06:4641: D4 0B        	pei	<R2+2
 17779 06:4643: D4 09        	pei	<R2
 17780 06:4645: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 17781                        ;
 17782                        ;				k_draw_text_point_ex(pWi
                    n->win_title,
 17783                        	.line	2748
 17784                        ;							
                    		 rect.x,
 17785                        ;							
                    		 rect.y,
 17786                        ;							
                    		 k_getUIGadgetColor(),
 17787                        ;							
                    		 pWin->nBitmapLayer);
  Thu Jul 22 2021 22:51                                                Page 327


 17788 06:4649: A0 9E 01     	ldy	#$19e
 17789 06:464C: B7 47        	lda	[<L848+pWin_1],Y
 17790 06:464E: 48           	pha
 17791 06:464F: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 17792 06:4653: 48           	pha
 17793 06:4654: D4 2B        	pei	<L848+rect_1+2
 17794 06:4656: D4 29        	pei	<L848+rect_1
 17795 06:4658: 18           	clc
 17796 06:4659: A9 4C 01     	lda	#$14c
 17797 06:465C: 65 47        	adc	<L848+pWin_1
 17798 06:465E: 85 01        	sta	<R0
 17799 06:4660: A9 00 00     	lda	#$0
 17800 06:4663: 65 49        	adc	<L848+pWin_1+2
 17801 06:4665: 85 03        	sta	<R0+2
 17802 06:4667: D4 03        	pei	<R0+2
 17803 06:4669: D4 01        	pei	<R0
 17804 06:466B: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 17805                        ;
 17806                        ;				if(pWin->styleEx)
 17807                        	.line	2754
 17808                        ;				{
 17809 06:466F: A0 06 00     	ldy	#$6
 17810 06:4672: B7 47        	lda	[<L848+pWin_1],Y
 17811 06:4674: A0 08 00     	ldy	#$8
 17812 06:4677: 17 47        	ora	[<L848+pWin_1],Y
 17813 06:4679: D0 03        	bne	L885
 17814 06:467B: 82 29 00     	brl	L10369
 17815                        L885:
 17816                        	.line	2755
 17817                        ;					pWin->clientData
                    [CLIENTDATA_TITLE] = (LPVOID)((ULONG)k_gui_set_image_cache(G
                    UI_CACHE_BACK,&rect));
 17818                        	.line	2756
 17819 06:467E: F4 00 00     	pea	#0
 17820 06:4681: 18           	clc
 17821 06:4682: 7B           	tdc
 17822 06:4683: 69 29 00     	adc	#<L848+rect_1
 17823 06:4686: 48           	pha
 17824 06:4687: F4 08 00     	pea	#^$80000
 17825 06:468A: F4 00 00     	pea	#<$80000
 17826 06:468D: 22 02 02 06  	jsl	~~k_gui_set_image_cache
 17827 06:4691: 85 01        	sta	<R0
 17828 06:4693: A5 01        	lda	<R0
 17829 06:4695: 85 01        	sta	<R0
 17830 06:4697: 64 03        	stz	<R0+2
 17831 06:4699: A5 01        	lda	<R0
 17832 06:469B: A0 DD 01     	ldy	#$1dd
 17833 06:469E: 97 47        	sta	[<L848+pWin_1],Y
 17834 06:46A0: A5 03        	lda	<R0+2
 17835 06:46A2: A0 DF 01     	ldy	#$1df
 17836 06:46A5: 97 47        	sta	[<L848+pWin_1],Y
 17837                        ;				}
 17838                        	.line	2757
 17839                        ;
 17840                        ;			}
 17841                        L10369:
 17842                        	.line	2759
 17843                        L10368:
  Thu Jul 22 2021 22:51                                                Page 328


 17844                        ;
 17845                        ;
 17846                        ;
 17847                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),
 17848                        	.line	2763
 17849                        ;					   pWin->win_x ,
 17850                        ;					   pWin->win_y,
 17851                        ;					   pWin->win_wid
                    th,
 17852                        ;					   SM_CYCAPTION_
                    DEFAULT);
 17853 06:46A7: F4 0C 00     	pea	#<$c
 17854 06:46AA: A0 10 00     	ldy	#$10
 17855 06:46AD: B7 47        	lda	[<L848+pWin_1],Y
 17856 06:46AF: 48           	pha
 17857 06:46B0: A0 0E 00     	ldy	#$e
 17858 06:46B3: B7 47        	lda	[<L848+pWin_1],Y
 17859 06:46B5: 48           	pha
 17860 06:46B6: A0 0C 00     	ldy	#$c
 17861 06:46B9: B7 47        	lda	[<L848+pWin_1],Y
 17862 06:46BB: 48           	pha
 17863 06:46BC: A0 00 00     	ldy	#$0
 17864 06:46BF: A5 1D        	lda	<L848+ncc_1
 17865 06:46C1: 10 01        	bpl	L886
 17866 06:46C3: 88           	dey
 17867                        L886:
 17868 06:46C4: 85 01        	sta	<R0
 17869 06:46C6: 84 03        	sty	<R0+2
 17870 06:46C8: F4 00 00     	pea	#^$11
 17871 06:46CB: F4 11 00     	pea	#<$11
 17872 06:46CE: D4 03        	pei	<R0+2
 17873 06:46D0: D4 01        	pei	<R0
 17874                        	xref	~~~lmul
 17875 06:46D2: 22 xx xx xx  	jsl	~~~lmul
 17876 06:46D6: 85 01        	sta	<R0
 17877 06:46D8: 86 03        	stx	<R0+2
 17878 06:46DA: 18           	clc
 17879 06:46DB: A9 38 00     	lda	#$38
 17880 06:46DE: 65 01        	adc	<R0
 17881 06:46E0: 85 05        	sta	<R1
 17882 06:46E2: A9 00 00     	lda	#$0
 17883 06:46E5: 65 03        	adc	<R0+2
 17884 06:46E7: 85 07        	sta	<R1+2
 17885 06:46E9: 18           	clc
 17886 06:46EA: A5 47        	lda	<L848+pWin_1
 17887 06:46EC: 65 05        	adc	<R1
 17888 06:46EE: 85 01        	sta	<R0
 17889 06:46F0: A5 49        	lda	<L848+pWin_1+2
 17890 06:46F2: 65 07        	adc	<R1+2
 17891 06:46F4: 85 03        	sta	<R0+2
 17892 06:46F6: D4 03        	pei	<R0+2
 17893 06:46F8: D4 01        	pei	<R0
 17894 06:46FA: 22 00 06 06  	jsl	~~k_set_rect
 17895                        ;			pWin->nonclientGadgets[ncc++].ms
                    gType = FX_DRAG_WINDOW;
 17896                        	.line	2768
 17897 06:46FE: A0 00 00     	ldy	#$0
  Thu Jul 22 2021 22:51                                                Page 329


 17898 06:4701: A5 1D        	lda	<L848+ncc_1
 17899 06:4703: 10 01        	bpl	L887
 17900 06:4705: 88           	dey
 17901                        L887:
 17902 06:4706: 85 01        	sta	<R0
 17903 06:4708: 84 03        	sty	<R0+2
 17904 06:470A: F4 00 00     	pea	#^$11
 17905 06:470D: F4 11 00     	pea	#<$11
 17906 06:4710: D4 03        	pei	<R0+2
 17907 06:4712: D4 01        	pei	<R0
 17908                        	xref	~~~lmul
 17909 06:4714: 22 xx xx xx  	jsl	~~~lmul
 17910 06:4718: 85 01        	sta	<R0
 17911 06:471A: 86 03        	stx	<R0+2
 17912 06:471C: 18           	clc
 17913 06:471D: A9 46 00     	lda	#$46
 17914 06:4720: 65 47        	adc	<L848+pWin_1
 17915 06:4722: 85 05        	sta	<R1
 17916 06:4724: A9 00 00     	lda	#$0
 17917 06:4727: 65 49        	adc	<L848+pWin_1+2
 17918 06:4729: 85 07        	sta	<R1+2
 17919 06:472B: 18           	clc
 17920 06:472C: A5 05        	lda	<R1
 17921 06:472E: 65 01        	adc	<R0
 17922 06:4730: 85 09        	sta	<R2
 17923 06:4732: A5 07        	lda	<R1+2
 17924 06:4734: 65 03        	adc	<R0+2
 17925 06:4736: 85 0B        	sta	<R2+2
 17926 06:4738: A9 10 FB     	lda	#$fb10
 17927 06:473B: 87 09        	sta	[<R2]
 17928 06:473D: E6 1D        	inc	<L848+ncc_1
 17929                        ;
 17930                        ;		}
 17931                        	.line	2770
 17932                        ;		else
 17933 06:473F: 82 9E 00     	brl	L10370
 17934                        L10366:
 17935                        ;		{
 17936                        	.line	2772
 17937                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),
 17938                        	.line	2773
 17939                        ;					   pWin->win_x +
                     gx,
 17940                        ;					   pWin->win_y,
 17941                        ;					   pWin->win_wid
                    th - gx,
 17942                        ;					   SM_CYCAPTION_
                    DEFAULT);
 17943 06:4742: F4 0C 00     	pea	#<$c
 17944 06:4745: 38           	sec
 17945 06:4746: A0 10 00     	ldy	#$10
 17946 06:4749: B7 47        	lda	[<L848+pWin_1],Y
 17947 06:474B: E5 3F        	sbc	<L848+gx_1
 17948 06:474D: 48           	pha
 17949 06:474E: A0 0E 00     	ldy	#$e
 17950 06:4751: B7 47        	lda	[<L848+pWin_1],Y
 17951 06:4753: 48           	pha
  Thu Jul 22 2021 22:51                                                Page 330


 17952 06:4754: 18           	clc
 17953 06:4755: A0 0C 00     	ldy	#$c
 17954 06:4758: B7 47        	lda	[<L848+pWin_1],Y
 17955 06:475A: 65 3F        	adc	<L848+gx_1
 17956 06:475C: 48           	pha
 17957 06:475D: A0 00 00     	ldy	#$0
 17958 06:4760: A5 1D        	lda	<L848+ncc_1
 17959 06:4762: 10 01        	bpl	L888
 17960 06:4764: 88           	dey
 17961                        L888:
 17962 06:4765: 85 01        	sta	<R0
 17963 06:4767: 84 03        	sty	<R0+2
 17964 06:4769: F4 00 00     	pea	#^$11
 17965 06:476C: F4 11 00     	pea	#<$11
 17966 06:476F: D4 03        	pei	<R0+2
 17967 06:4771: D4 01        	pei	<R0
 17968                        	xref	~~~lmul
 17969 06:4773: 22 xx xx xx  	jsl	~~~lmul
 17970 06:4777: 85 01        	sta	<R0
 17971 06:4779: 86 03        	stx	<R0+2
 17972 06:477B: 18           	clc
 17973 06:477C: A9 38 00     	lda	#$38
 17974 06:477F: 65 01        	adc	<R0
 17975 06:4781: 85 05        	sta	<R1
 17976 06:4783: A9 00 00     	lda	#$0
 17977 06:4786: 65 03        	adc	<R0+2
 17978 06:4788: 85 07        	sta	<R1+2
 17979 06:478A: 18           	clc
 17980 06:478B: A5 47        	lda	<L848+pWin_1
 17981 06:478D: 65 05        	adc	<R1
 17982 06:478F: 85 01        	sta	<R0
 17983 06:4791: A5 49        	lda	<L848+pWin_1+2
 17984 06:4793: 65 07        	adc	<R1+2
 17985 06:4795: 85 03        	sta	<R0+2
 17986 06:4797: D4 03        	pei	<R0+2
 17987 06:4799: D4 01        	pei	<R0
 17988 06:479B: 22 00 06 06  	jsl	~~k_set_rect
 17989                        ;			pWin->nonclientGadgets[ncc++].ms
                    gType = FX_DRAG_WINDOW;
 17990                        	.line	2778
 17991 06:479F: A0 00 00     	ldy	#$0
 17992 06:47A2: A5 1D        	lda	<L848+ncc_1
 17993 06:47A4: 10 01        	bpl	L889
 17994 06:47A6: 88           	dey
 17995                        L889:
 17996 06:47A7: 85 01        	sta	<R0
 17997 06:47A9: 84 03        	sty	<R0+2
 17998 06:47AB: F4 00 00     	pea	#^$11
 17999 06:47AE: F4 11 00     	pea	#<$11
 18000 06:47B1: D4 03        	pei	<R0+2
 18001 06:47B3: D4 01        	pei	<R0
 18002                        	xref	~~~lmul
 18003 06:47B5: 22 xx xx xx  	jsl	~~~lmul
 18004 06:47B9: 85 01        	sta	<R0
 18005 06:47BB: 86 03        	stx	<R0+2
 18006 06:47BD: 18           	clc
 18007 06:47BE: A9 46 00     	lda	#$46
 18008 06:47C1: 65 47        	adc	<L848+pWin_1
  Thu Jul 22 2021 22:51                                                Page 331


 18009 06:47C3: 85 05        	sta	<R1
 18010 06:47C5: A9 00 00     	lda	#$0
 18011 06:47C8: 65 49        	adc	<L848+pWin_1+2
 18012 06:47CA: 85 07        	sta	<R1+2
 18013 06:47CC: 18           	clc
 18014 06:47CD: A5 05        	lda	<R1
 18015 06:47CF: 65 01        	adc	<R0
 18016 06:47D1: 85 09        	sta	<R2
 18017 06:47D3: A5 07        	lda	<R1+2
 18018 06:47D5: 65 03        	adc	<R0+2
 18019 06:47D7: 85 0B        	sta	<R2+2
 18020 06:47D9: A9 10 FB     	lda	#$fb10
 18021 06:47DC: 87 09        	sta	[<R2]
 18022 06:47DE: E6 1D        	inc	<L848+ncc_1
 18023                        ;		}
 18024                        	.line	2779
 18025                        L10370:
 18026                        ;
 18027                        ;
 18028                        ;		if((style & FXWS_THICKFRAME) && (style &
                     FXWS_SIZEBOX))
 18029                        	.line	2782
 18030                        ;		{
 18031 06:47E0: A5 27        	lda	<L848+style_1+2
 18032 06:47E2: 29 02 00     	and	#^$20000
 18033 06:47E5: D0 03        	bne	L890
 18034 06:47E7: 82 23 02     	brl	L10371
 18035                        L890:
 18036 06:47EA: A5 25        	lda	<L848+style_1
 18037 06:47EC: 29 00 01     	and	#<$100
 18038 06:47EF: D0 03        	bne	L891
 18039 06:47F1: 82 19 02     	brl	L10371
 18040                        L891:
 18041                        	.line	2783
 18042                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),
 18043                        	.line	2784
 18044                        ;					   pWin->win_x +
                     pWin->win_width  - 4,
 18045                        ;					   pWin->win_y +
                     pWin->win_height - 4,
 18046                        ;					   4,
 18047                        ;					   4);
 18048 06:47F4: F4 04 00     	pea	#<$4
 18049 06:47F7: F4 04 00     	pea	#<$4
 18050 06:47FA: 18           	clc
 18051 06:47FB: A0 0E 00     	ldy	#$e
 18052 06:47FE: B7 47        	lda	[<L848+pWin_1],Y
 18053 06:4800: A0 12 00     	ldy	#$12
 18054 06:4803: 77 47        	adc	[<L848+pWin_1],Y
 18055 06:4805: 85 01        	sta	<R0
 18056 06:4807: 18           	clc
 18057 06:4808: A9 FC FF     	lda	#$fffc
 18058 06:480B: 65 01        	adc	<R0
 18059 06:480D: 48           	pha
 18060 06:480E: 18           	clc
 18061 06:480F: A0 0C 00     	ldy	#$c
 18062 06:4812: B7 47        	lda	[<L848+pWin_1],Y
  Thu Jul 22 2021 22:51                                                Page 332


 18063 06:4814: A0 10 00     	ldy	#$10
 18064 06:4817: 77 47        	adc	[<L848+pWin_1],Y
 18065 06:4819: 85 01        	sta	<R0
 18066 06:481B: 18           	clc
 18067 06:481C: A9 FC FF     	lda	#$fffc
 18068 06:481F: 65 01        	adc	<R0
 18069 06:4821: 48           	pha
 18070 06:4822: A0 00 00     	ldy	#$0
 18071 06:4825: A5 1D        	lda	<L848+ncc_1
 18072 06:4827: 10 01        	bpl	L892
 18073 06:4829: 88           	dey
 18074                        L892:
 18075 06:482A: 85 01        	sta	<R0
 18076 06:482C: 84 03        	sty	<R0+2
 18077 06:482E: F4 00 00     	pea	#^$11
 18078 06:4831: F4 11 00     	pea	#<$11
 18079 06:4834: D4 03        	pei	<R0+2
 18080 06:4836: D4 01        	pei	<R0
 18081                        	xref	~~~lmul
 18082 06:4838: 22 xx xx xx  	jsl	~~~lmul
 18083 06:483C: 85 01        	sta	<R0
 18084 06:483E: 86 03        	stx	<R0+2
 18085 06:4840: 18           	clc
 18086 06:4841: A9 38 00     	lda	#$38
 18087 06:4844: 65 01        	adc	<R0
 18088 06:4846: 85 05        	sta	<R1
 18089 06:4848: A9 00 00     	lda	#$0
 18090 06:484B: 65 03        	adc	<R0+2
 18091 06:484D: 85 07        	sta	<R1+2
 18092 06:484F: 18           	clc
 18093 06:4850: A5 47        	lda	<L848+pWin_1
 18094 06:4852: 65 05        	adc	<R1
 18095 06:4854: 85 01        	sta	<R0
 18096 06:4856: A5 49        	lda	<L848+pWin_1+2
 18097 06:4858: 65 07        	adc	<R1+2
 18098 06:485A: 85 03        	sta	<R0+2
 18099 06:485C: D4 03        	pei	<R0+2
 18100 06:485E: D4 01        	pei	<R0
 18101 06:4860: 22 00 06 06  	jsl	~~k_set_rect
 18102                        ;
 18103                        ;			k_vdma_fill_rect_ex(pWin->noncli
                    entGadgets[ncc].area.x,
 18104                        	.line	2790
 18105                        ;					            pWin
                    ->nonclientGadgets[ncc].area.y,
 18106                        ;							
                    	pWin->nonclientGadgets[ncc].area.width,
 18107                        ;							
                    	pWin->nonclientGadgets[ncc].area.height,
 18108                        ;							
                    	k_getUIGadgetColor(),
 18109                        ;							
                    	BITMAP_BACK);
 18110 06:4864: F4 08 00     	pea	#<$8
 18111 06:4867: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 18112 06:486B: 48           	pha
 18113 06:486C: A0 00 00     	ldy	#$0
 18114 06:486F: A5 1D        	lda	<L848+ncc_1
  Thu Jul 22 2021 22:51                                                Page 333


 18115 06:4871: 10 01        	bpl	L893
 18116 06:4873: 88           	dey
 18117                        L893:
 18118 06:4874: 85 01        	sta	<R0
 18119 06:4876: 84 03        	sty	<R0+2
 18120 06:4878: F4 00 00     	pea	#^$11
 18121 06:487B: F4 11 00     	pea	#<$11
 18122 06:487E: D4 03        	pei	<R0+2
 18123 06:4880: D4 01        	pei	<R0
 18124                        	xref	~~~lmul
 18125 06:4882: 22 xx xx xx  	jsl	~~~lmul
 18126 06:4886: 85 01        	sta	<R0
 18127 06:4888: 86 03        	stx	<R0+2
 18128 06:488A: 18           	clc
 18129 06:488B: A9 42 00     	lda	#$42
 18130 06:488E: 65 47        	adc	<L848+pWin_1
 18131 06:4890: 85 05        	sta	<R1
 18132 06:4892: A9 00 00     	lda	#$0
 18133 06:4895: 65 49        	adc	<L848+pWin_1+2
 18134 06:4897: 85 07        	sta	<R1+2
 18135 06:4899: 18           	clc
 18136 06:489A: A5 05        	lda	<R1
 18137 06:489C: 65 01        	adc	<R0
 18138 06:489E: 85 09        	sta	<R2
 18139 06:48A0: A5 07        	lda	<R1+2
 18140 06:48A2: 65 03        	adc	<R0+2
 18141 06:48A4: 85 0B        	sta	<R2+2
 18142 06:48A6: A7 09        	lda	[<R2]
 18143 06:48A8: 48           	pha
 18144 06:48A9: A0 00 00     	ldy	#$0
 18145 06:48AC: A5 1D        	lda	<L848+ncc_1
 18146 06:48AE: 10 01        	bpl	L894
 18147 06:48B0: 88           	dey
 18148                        L894:
 18149 06:48B1: 85 01        	sta	<R0
 18150 06:48B3: 84 03        	sty	<R0+2
 18151 06:48B5: F4 00 00     	pea	#^$11
 18152 06:48B8: F4 11 00     	pea	#<$11
 18153 06:48BB: D4 03        	pei	<R0+2
 18154 06:48BD: D4 01        	pei	<R0
 18155                        	xref	~~~lmul
 18156 06:48BF: 22 xx xx xx  	jsl	~~~lmul
 18157 06:48C3: 85 01        	sta	<R0
 18158 06:48C5: 86 03        	stx	<R0+2
 18159 06:48C7: 18           	clc
 18160 06:48C8: A9 40 00     	lda	#$40
 18161 06:48CB: 65 47        	adc	<L848+pWin_1
 18162 06:48CD: 85 05        	sta	<R1
 18163 06:48CF: A9 00 00     	lda	#$0
 18164 06:48D2: 65 49        	adc	<L848+pWin_1+2
 18165 06:48D4: 85 07        	sta	<R1+2
 18166 06:48D6: 18           	clc
 18167 06:48D7: A5 05        	lda	<R1
 18168 06:48D9: 65 01        	adc	<R0
 18169 06:48DB: 85 09        	sta	<R2
 18170 06:48DD: A5 07        	lda	<R1+2
 18171 06:48DF: 65 03        	adc	<R0+2
 18172 06:48E1: 85 0B        	sta	<R2+2
  Thu Jul 22 2021 22:51                                                Page 334


 18173 06:48E3: A7 09        	lda	[<R2]
 18174 06:48E5: 48           	pha
 18175 06:48E6: A0 00 00     	ldy	#$0
 18176 06:48E9: A5 1D        	lda	<L848+ncc_1
 18177 06:48EB: 10 01        	bpl	L895
 18178 06:48ED: 88           	dey
 18179                        L895:
 18180 06:48EE: 85 01        	sta	<R0
 18181 06:48F0: 84 03        	sty	<R0+2
 18182 06:48F2: F4 00 00     	pea	#^$11
 18183 06:48F5: F4 11 00     	pea	#<$11
 18184 06:48F8: D4 03        	pei	<R0+2
 18185 06:48FA: D4 01        	pei	<R0
 18186                        	xref	~~~lmul
 18187 06:48FC: 22 xx xx xx  	jsl	~~~lmul
 18188 06:4900: 85 01        	sta	<R0
 18189 06:4902: 86 03        	stx	<R0+2
 18190 06:4904: 18           	clc
 18191 06:4905: A9 3A 00     	lda	#$3a
 18192 06:4908: 65 47        	adc	<L848+pWin_1
 18193 06:490A: 85 05        	sta	<R1
 18194 06:490C: A9 00 00     	lda	#$0
 18195 06:490F: 65 49        	adc	<L848+pWin_1+2
 18196 06:4911: 85 07        	sta	<R1+2
 18197 06:4913: 18           	clc
 18198 06:4914: A5 05        	lda	<R1
 18199 06:4916: 65 01        	adc	<R0
 18200 06:4918: 85 09        	sta	<R2
 18201 06:491A: A5 07        	lda	<R1+2
 18202 06:491C: 65 03        	adc	<R0+2
 18203 06:491E: 85 0B        	sta	<R2+2
 18204 06:4920: A0 00 00     	ldy	#$0
 18205 06:4923: A7 09        	lda	[<R2]
 18206 06:4925: 10 01        	bpl	L896
 18207 06:4927: 88           	dey
 18208                        L896:
 18209 06:4928: 85 01        	sta	<R0
 18210 06:492A: 84 03        	sty	<R0+2
 18211 06:492C: D4 03        	pei	<R0+2
 18212 06:492E: D4 01        	pei	<R0
 18213 06:4930: A0 00 00     	ldy	#$0
 18214 06:4933: A5 1D        	lda	<L848+ncc_1
 18215 06:4935: 10 01        	bpl	L897
 18216 06:4937: 88           	dey
 18217                        L897:
 18218 06:4938: 85 05        	sta	<R1
 18219 06:493A: 84 07        	sty	<R1+2
 18220 06:493C: F4 00 00     	pea	#^$11
 18221 06:493F: F4 11 00     	pea	#<$11
 18222 06:4942: D4 07        	pei	<R1+2
 18223 06:4944: D4 05        	pei	<R1
 18224                        	xref	~~~lmul
 18225 06:4946: 22 xx xx xx  	jsl	~~~lmul
 18226 06:494A: 85 05        	sta	<R1
 18227 06:494C: 86 07        	stx	<R1+2
 18228 06:494E: 18           	clc
 18229 06:494F: A9 38 00     	lda	#$38
 18230 06:4952: 65 47        	adc	<L848+pWin_1
  Thu Jul 22 2021 22:51                                                Page 335


 18231 06:4954: 85 09        	sta	<R2
 18232 06:4956: A9 00 00     	lda	#$0
 18233 06:4959: 65 49        	adc	<L848+pWin_1+2
 18234 06:495B: 85 0B        	sta	<R2+2
 18235 06:495D: 18           	clc
 18236 06:495E: A5 09        	lda	<R2
 18237 06:4960: 65 05        	adc	<R1
 18238 06:4962: 85 0D        	sta	<R3
 18239 06:4964: A5 0B        	lda	<R2+2
 18240 06:4966: 65 07        	adc	<R1+2
 18241 06:4968: 85 0F        	sta	<R3+2
 18242 06:496A: A0 00 00     	ldy	#$0
 18243 06:496D: A7 0D        	lda	[<R3]
 18244 06:496F: 10 01        	bpl	L898
 18245 06:4971: 88           	dey
 18246                        L898:
 18247 06:4972: 85 05        	sta	<R1
 18248 06:4974: 84 07        	sty	<R1+2
 18249 06:4976: D4 07        	pei	<R1+2
 18250 06:4978: D4 05        	pei	<R1
 18251 06:497A: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 18252                        ;
 18253                        ;			pWin->nonclientGadgets[ncc++].ms
                    gType = FX_RESIZE_WINDOW;
 18254                        	.line	2797
 18255 06:497E: A0 00 00     	ldy	#$0
 18256 06:4981: A5 1D        	lda	<L848+ncc_1
 18257 06:4983: 10 01        	bpl	L899
 18258 06:4985: 88           	dey
 18259                        L899:
 18260 06:4986: 85 01        	sta	<R0
 18261 06:4988: 84 03        	sty	<R0+2
 18262 06:498A: F4 00 00     	pea	#^$11
 18263 06:498D: F4 11 00     	pea	#<$11
 18264 06:4990: D4 03        	pei	<R0+2
 18265 06:4992: D4 01        	pei	<R0
 18266                        	xref	~~~lmul
 18267 06:4994: 22 xx xx xx  	jsl	~~~lmul
 18268 06:4998: 85 01        	sta	<R0
 18269 06:499A: 86 03        	stx	<R0+2
 18270 06:499C: 18           	clc
 18271 06:499D: A9 46 00     	lda	#$46
 18272 06:49A0: 65 47        	adc	<L848+pWin_1
 18273 06:49A2: 85 05        	sta	<R1
 18274 06:49A4: A9 00 00     	lda	#$0
 18275 06:49A7: 65 49        	adc	<L848+pWin_1+2
 18276 06:49A9: 85 07        	sta	<R1+2
 18277 06:49AB: 18           	clc
 18278 06:49AC: A5 05        	lda	<R1
 18279 06:49AE: 65 01        	adc	<R0
 18280 06:49B0: 85 09        	sta	<R2
 18281 06:49B2: A5 07        	lda	<R1+2
 18282 06:49B4: 65 03        	adc	<R0+2
 18283 06:49B6: 85 0B        	sta	<R2+2
 18284 06:49B8: A9 0F FB     	lda	#$fb0f
 18285 06:49BB: 87 09        	sta	[<R2]
 18286 06:49BD: E6 1D        	inc	<L848+ncc_1
 18287                        ;			k_set_rect(&(pWin->nonclientGadg
  Thu Jul 22 2021 22:51                                                Page 336


                    ets[ncc].area),-1,-1,-1,-1);
 18288                        	.line	2798
 18289 06:49BF: F4 FF FF     	pea	#<$ffffffff
 18290 06:49C2: F4 FF FF     	pea	#<$ffffffff
 18291 06:49C5: F4 FF FF     	pea	#<$ffffffff
 18292 06:49C8: F4 FF FF     	pea	#<$ffffffff
 18293 06:49CB: A0 00 00     	ldy	#$0
 18294 06:49CE: A5 1D        	lda	<L848+ncc_1
 18295 06:49D0: 10 01        	bpl	L900
 18296 06:49D2: 88           	dey
 18297                        L900:
 18298 06:49D3: 85 01        	sta	<R0
 18299 06:49D5: 84 03        	sty	<R0+2
 18300 06:49D7: F4 00 00     	pea	#^$11
 18301 06:49DA: F4 11 00     	pea	#<$11
 18302 06:49DD: D4 03        	pei	<R0+2
 18303 06:49DF: D4 01        	pei	<R0
 18304                        	xref	~~~lmul
 18305 06:49E1: 22 xx xx xx  	jsl	~~~lmul
 18306 06:49E5: 85 01        	sta	<R0
 18307 06:49E7: 86 03        	stx	<R0+2
 18308 06:49E9: 18           	clc
 18309 06:49EA: A9 38 00     	lda	#$38
 18310 06:49ED: 65 01        	adc	<R0
 18311 06:49EF: 85 05        	sta	<R1
 18312 06:49F1: A9 00 00     	lda	#$0
 18313 06:49F4: 65 03        	adc	<R0+2
 18314 06:49F6: 85 07        	sta	<R1+2
 18315 06:49F8: 18           	clc
 18316 06:49F9: A5 47        	lda	<L848+pWin_1
 18317 06:49FB: 65 05        	adc	<R1
 18318 06:49FD: 85 01        	sta	<R0
 18319 06:49FF: A5 49        	lda	<L848+pWin_1+2
 18320 06:4A01: 65 07        	adc	<R1+2
 18321 06:4A03: 85 03        	sta	<R0+2
 18322 06:4A05: D4 03        	pei	<R0+2
 18323 06:4A07: D4 01        	pei	<R0
 18324 06:4A09: 22 00 06 06  	jsl	~~k_set_rect
 18325                        ;		}
 18326                        	.line	2799
 18327                        ;
 18328                        ;
 18329                        ;	}
 18330                        L10371:
 18331                        	.line	2802
 18332                        ;}
 18333                        L10347:
 18334                        	.line	2803
 18335 06:4A0D: 82 89 F5     	brl	L851
 18336                        	.endblock	2803
 18337             0000004A   L847	equ	74
 18338             00000011   L848	equ	17
 18339 06:4A10:              	ends
 18340                        	efunc
 18341                        	.endfunc	2803,17,74
 18342                        	.line	2803
 18343                        	data
 18344                        L842:
  Thu Jul 22 2021 22:51                                                Page 337


 18345 00:0850: 6B 5F 67 75  	db	$6B,$5F,$67,$75,$69,$5F,$44,$72,$61,$77,
                    $57,$69,$6E,$64,$6F
       00:0854: 69 5F 44 72 
       00:0858: 61 77 57 69 
       00:085C: 6E 64 6F 
 18346 00:085F: 77 3A 3A 4E  	db	$77,$3A,$3A,$4E,$4F,$54,$20,$52,$45,$4E,
                    $44,$45,$52,$49,$4E
       00:0863: 4F 54 20 52 
       00:0867: 45 4E 44 45 
       00:086B: 52 49 4E 
 18347 00:086E: 47 3A 00     	db	$47,$3A,$00
 18348 00:0871:              	ends
 18349                        ;
 18350                        ;#ifdef MOMMY
 18351                        ;void k_vdraw_ui_window_2(PWINDOW pWin,ULONG style
                    ,int cx,int cy,int height,int width,char FAR *title,int colo
                    r, int bgcolor,UINT page)
 18352                        ;{
 18353                        ;	FONTMETRIC metric;
 18354                        ;
 18355                        ;	int i = 0;
 18356                        ;	int odd = 1;
 18357                        ;	int borderColor = 0;
 18358                        ;	int borderTitle = 0;
 18359                        ;	int borderWidth = 0;
 18360                        ;
 18361                        ;	int titleOffsetX = 0;
 18362                        ;	int titleOffsetY = 0;
 18363                        ;	int titleScaler = 0;
 18364                        ;
 18365                        ;	int clientOffsetX = 0;
 18366                        ;	int clientOffsetY = 0;
 18367                        ;
 18368                        ;	int currX = 0;
 18369                        ;	int currY = 0;
 18370                        ;
 18371                        ;	int endX = 0;
 18372                        ;
 18373                        ;	int maxminPos = 0;
 18374                        ;
 18375                        ;	int ncc = 0;
 18376                        ;	int gx,gy,bx,by;
 18377                        ;
 18378                        ;	int fillOffset = 2;  // correct the fill coordin
                    ates so the borders are the same size
 18379                        ;
 18380                        ;	RECT rect;
 18381                        ;
 18382                        ;	int extraStyle = (pWin->styleEx & FXWSX_CACHE_TI
                    TLE);
 18383                        ;	//k_debug_pointer("k_vdraw_ui_window:pWin:",pWin
                    );
 18384                        ;	/*
 18385                        ;	if(pWin->pParentWindow)
 18386                        ;	{
 18387                        ;		cx = k_getWindowFromHandle(pWin->pParent
                    Window)->clientRect.x + cx;
 18388                        ;		cy = k_getWindowFromHandle(pWin->pParent
  Thu Jul 22 2021 22:51                                                Page 338


                    Window)->clientRect.y + cy;
 18389                        ;		k_debug_strings("k_vdraw_ui_window::IS C
                    HILD:",title);
 18390                        ;		k_debug_integer("k_vdraw_ui_window:cx:",
                    cx);
 18391                        ;		k_debug_integer("k_vdraw_ui_window:cy:",
                    cy);
 18392                        ;		k_debug_integer("k_vdraw_ui_window:width
                    :",width);
 18393                        ;		k_debug_integer("k_vdraw_ui_window:heigh
                    t:",height);
 18394                        ;	}
 18395                        ;	*/
 18396                        ;
 18397                        ;	/*
 18398                        ;	if(title)
 18399                        ;	{
 18400                        ;		title[32] = 0;
 18401                        ;		k_debug_strings("k_vdraw_ui_window::IS C
                    HILD:",title);
 18402                        ;	}
 18403                        ;	else
 18404                        ;		k_debug_strings("k_vdraw_ui_window::IS C
                    HILD:","NULL");
 18405                        ;
 18406                        ;	k_debug_integer("k_vdraw_ui_window:cx:",cx);
 18407                        ;	k_debug_integer("k_vdraw_ui_window:cy:",cy);
 18408                        ;	k_debug_integer("k_vdraw_ui_window:width:",width
                    );
 18409                        ;	k_debug_integer("k_vdraw_ui_window:height:",heig
                    ht);
 18410                        ;	k_debug_integer("k_vdraw_ui_window:page:",page);
 18411                        ;	k_debug_rect("k_vdraw_ui_window:client:",&pWin->
                    clientRect);
 18412                        ;	*/
 18413                        ;
 18414                        ;	//k_debug_rect("k_vdraw_ui_window:client:",&pWin
                    ->clientRect);
 18415                        ;
 18416                        ;
 18417                        ;	gx = k_user_getSystemMetric(SM_CXGADGET);
 18418                        ;	gy = k_user_getSystemMetric(SM_CYGADGET);
 18419                        ;	bx = k_user_getSystemMetric(SM_CXBORDER);
 18420                        ;	by = k_user_getSystemMetric(SM_CYBORDER);
 18421                        ;
 18422                        ;	titleOffsetX = cx+2;
 18423                        ;	titleOffsetY = cy+1;
 18424                        ;
 18425                        ;	//k_debug_strings("k_vdraw_ui_window:","enter");
 18426                        ;
 18427                        ;	if(style & FXWS_VISIBLE != FXWS_VISIBLE)
 18428                        ;	{
 18429                        ;		k_debug_strings("k_vdraw_ui_window::NOT 
                    RENDERING:",title);
 18430                        ;		return;
 18431                        ;	}
 18432                        ;
 18433                        ;	//k_debug_strings("k_vdraw_ui_window::RENDERING:
  Thu Jul 22 2021 22:51                                                Page 339


                    ",title);
 18434                        ;
 18435                        ;	if(style & FXWS_THICKFRAME)
 18436                        ;	{
 18437                        ;		borderWidth = 2;
 18438                        ;	}
 18439                        ;	else if(style & FXWS_BORDER)
 18440                        ;	{
 18441                        ;		borderWidth = 1;
 18442                        ;	}
 18443                        ;	else if(style & FXWS_DLGFRAME)
 18444                        ;	{
 18445                        ;		borderWidth = 4;
 18446                        ;	}
 18447                        ;
 18448                        ;	if( ((style & FXWS_CAPTION) == FXWS_CAPTION) || 
                    (style & FXWS_SYSMENU) || (style & FXWS_MINIMIZEBOX) || (sty
                    le & FXWS_MAXIMIZEBOX))
 18449                        ;	{
 18450                        ;		borderTitle = 10;
 18451                        ;	}
 18452                        ;
 18453                        ;	clientOffsetX = cx + borderWidth;
 18454                        ;
 18455                        ;	if(borderTitle)
 18456                        ;		clientOffsetY = cy + borderTitle;
 18457                        ;	else
 18458                        ;		clientOffsetY = cy + borderWidth;
 18459                        ;
 18460                        ;	currX = clientOffsetX;
 18461                        ;	currY = clientOffsetY;
 18462                        ;
 18463                        ;	endX = width + cx - borderWidth;
 18464                        ;	maxminPos = 0;
 18465                        ;
 18466                        ;	k_vdma_fill_rect_ex(cx,cy,width,height,bgcolor,p
                    age);
 18467                        ;
 18468                        ;
 18469                        ;	borderColor = color;
 18470                        ;	for(i=0;i<borderWidth;i++)
 18471                        ;	{
 18472                        ;		if(borderWidth > 2)
 18473                        ;		{
 18474                        ;			borderColor = color;
 18475                        ;			odd=!odd;
 18476                        ;			if(odd)
 18477                        ;			{
 18478                        ;				borderColor = 0;
 18479                        ;			}
 18480                        ;		}
 18481                        ;
 18482                        ;		k_draw_rect(cx + i + 0,
 18483                        ;					cy + i + 0,
 18484                        ;					cx + width  - 1 
                    - i,
 18485                        ;					cy + height - 1 
                    - i,
  Thu Jul 22 2021 22:51                                                Page 340


 18486                        ;					borderColor,
 18487                        ;					0,
 18488                        ;					page);
 18489                        ;
 18490                        ;	}
 18491                        ;
 18492                        ;
 18493                        ;
 18494                        ;	if(borderTitle)
 18495                        ;	{
 18496                        ;		k_vdma_fill_rect_ex(cx,cy,width,borderTi
                    tle,color,page);
 18497                        ;	}
 18498                        ;
 18499                        ;	k_get_font_metrics(&metric);
 18500                        ;
 18501                        ;
 18502                        ;	//title = strupr(title);
 18503                        ;
 18504                        ;	//FXWS_OVERLAPPED | FXWS_CAPTION | FXWS_SYSMENU 
                    | FXWS_THICKFRAME | FXWS_MINIMIZEBOX | FXWS_MAXIMIZEBOX
 18505                        ;
 18506                        ;	if(style & FXWS_SYSMENU)
 18507                        ;	{
 18508                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),titleOffsetX,titleOffsetY,gx,gx);
 18509                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_WINDOW_CLOSE;
 18510                        ;
 18511                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_SYSMENU");
 18512                        ;		titleOffsetX+=k_put_wingadget_point_ex(W
                    INICON_TITLE_BCLOSE,titleOffsetX,titleOffsetY,k_getUIGadgetC
                    olor(),page);
 18513                        ;
 18514                        ;	}
 18515                        ;
 18516                        ;	if((style & FXWS_CAPTION) == FXWS_CAPTION)
 18517                        ;	{
 18518                        ;
 18519                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_CAPTION");
 18520                        ;		//titleScaler = (int)(width / metric.wid
                    th - 3);
 18521                        ;		titleScaler = (int)((width / metric.widt
                    h) - 1);
 18522                        ;
 18523                        ;		//k_debug_integer("k_vdraw_ui_window:tit
                    leScaler1:",titleScaler * 8);
 18524                        ;
 18525                        ;
 18526                        ;		//titleScaler = (width - (borderWidth * 
                    2));
 18527                        ;		//k_debug_integer("k_vdraw_ui_window:tit
                    leScaler2:",(width - (borderWidth * 2)));
 18528                        ;
 18529                        ;		/*
 18530                        ;		if(!k_gui_get_title_cache(NULL))
  Thu Jul 22 2021 22:51                                                Page 341


 18531                        ;		{
 18532                        ;			k_gui_build_title_cache(NULL);
 18533                        ;		}
 18534                        ;
 18535                        ;		if(k_gui_get_title_cache(NULL))
 18536                        ;		{
 18537                        ;			k_vdma_copy_address_ex((LPSTR)((
                    ULONG)0x080000 + k_gui_get_pixel_offset(titleOffsetX,titleOf
                    fsetY)),TITLE_LINES_640x480,titleScaler * 8,8);
 18538                        ;		}
 18539                        ;		else
 18540                        ;		{
 18541                        ;			k_gui_build_title_cache(NULL);
 18542                        ;			for(i=0;i<titleScaler;i++)
 18543                        ;			{
 18544                        ;				titleOffsetX+=k_put_wing
                    adget_point_ex(WINICON_TITLE_LINES,titleOffsetX,titleOffsetY
                    ,k_getUIGadgetColor(),page);
 18545                        ;			}
 18546                        ;		}
 18547                        ;
 18548                        ;		k_gui_build_title_cache(NULL);
 18549                        ;		*/
 18550                        ;
 18551                        ;		//
 18552                        ;		// set lines in title with blt
 18553                        ;		//
 18554                        ;		rect.x = titleOffsetX;
 18555                        ;		rect.y = titleOffsetY;
 18556                        ;		rect.width  = (titleScaler * 8)  - (bord
                    erWidth * 2);
 18557                        ;		rect.height = 8;
 18558                        ;		k_gui_get_image_cache(0,0x080000,&rect);
 18559                        ;		//
 18560                        ;		//
 18561                        ;		//
 18562                        ;
 18563                        ;
 18564                        ;		/*
 18565                        ;		for(i=0;i<titleScaler;i++)
 18566                        ;		{
 18567                        ;			titleOffsetX+=k_put_wingadget_po
                    int_ex(WINICON_TITLE_LINES,titleOffsetX,titleOffsetY,k_getUI
                    GadgetColor(),page);
 18568                        ;		}
 18569                        ;		*/
 18570                        ;
 18571                        ;		//k_vdma_copy_address_ex((LPSTR)((ULONG)
                    0x080000 + k_gui_get_pixel_offset(0,440)),TITLE_LINES_640x48
                    0,titleScaler * 8,8);
 18572                        ;
 18573                        ;
 18574                        ;
 18575                        ;
 18576                        ;	}
 18577                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_BACK,titleOffsetX,titleOffsetY,14);
 18578                        ;	//titleOffsetX+=2;
  Thu Jul 22 2021 22:51                                                Page 342


 18579                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_FRONT,titleOffsetX,titleOffsetY,14);
 18580                        ;
 18581                        ;	if(style & FXWS_MAXIMIZEBOX)
 18582                        ;	{
 18583                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_MAXIMIZEBOX");
 18584                        ;		maxminPos+=metric.width;
 18585                        ;		//k_put_wingadget_point(WINICON_BLOCK,en
                    dX - (metric.width),titleOffsetY,k_getUIWindowBorderColor())
                    ;
 18586                        ;		//k_put_wingadget_point(WINICON_TITLE_FR
                    ONT,endX - (metric.width),titleOffsetY,k_getUIGadgetColor())
                    ;
 18587                        ;
 18588                        ;		k_put_wingadget_point_ex(WINICON_BLOCK,e
                    ndX - maxminPos,titleOffsetY,k_getUIWindowBorderColor(),page
                    );
 18589                        ;		k_put_wingadget_point_ex(WINICON_TITLE_F
                    RONT,endX - maxminPos,titleOffsetY,k_getUIGadgetColor(),page
                    );
 18590                        ;
 18591                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),endX - maxminPos,titleOffsetY,gx,gx);
 18592                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_MAX_WINDOW;
 18593                        ;
 18594                        ;		maxminPos+=2;
 18595                        ;	}
 18596                        ;
 18597                        ;	if(style & FXWS_MINIMIZEBOX)
 18598                        ;	{
 18599                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_MINIMIZEBOX");
 18600                        ;		maxminPos+=metric.width;
 18601                        ;		//k_put_wingadget_point(WINICON_BLOCK,en
                    dX - (metric.width*2 + 2),titleOffsetY,k_getUIWindowBorderCo
                    lor());
 18602                        ;		//k_put_wingadget_point(WINICON_TITLE_BA
                    CK,endX - (metric.width*2 + 2),titleOffsetY,k_getUIGadgetCol
                    or());
 18603                        ;
 18604                        ;		k_put_wingadget_point_ex(WINICON_BLOCK,e
                    ndX - maxminPos,titleOffsetY,k_getUIWindowBorderColor(),page
                    );
 18605                        ;		k_put_wingadget_point_ex(WINICON_TITLE_B
                    ACK,endX - maxminPos,titleOffsetY,k_getUIGadgetColor(),page)
                    ;
 18606                        ;
 18607                        ;
 18608                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),endX - maxminPos,titleOffsetY,gx,gx);
 18609                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_MIN_WINDOW;
 18610                        ;
 18611                        ;		maxminPos+=2;
 18612                        ;	}
 18613                        ;
  Thu Jul 22 2021 22:51                                                Page 343


 18614                        ;	if((style & FXWS_CAPTION) == FXWS_CAPTION)
 18615                        ;	{
 18616                        ;		/*
 18617                        ;		if(!k_gui_get_title_cache(NULL))
 18618                        ;		{
 18619                        ;			k_gui_build_title_cache(NULL);
 18620                        ;		}
 18621                        ;		*/
 18622                        ;		/*
 18623                        ;		for(i=0;i<=strlen(title);i++)
 18624                        ;		{
 18625                        ;			k_put_wingadget_point_ex(WINICON
                    _BLOCK,cx+borderWidth+metric.width+(metric.width*i),titleOff
                    setY,15,page);
 18626                        ;		}
 18627                        ;		*/
 18628                        ;		k_user_SetRect(&rect,cx+borderWidth+metr
                    ic.width,titleOffsetY,(strlen(title) + 1)*8,8);
 18629                        ;
 18630                        ;		if(extraStyle && pWin->clientData[CLIENT
                    DATA_TITLE])
 18631                        ;		{
 18632                        ;			//k_debug_strings("k_vdraw_ui_wi
                    ndow::CLIENTDATA_TITLE:","DRAW");
 18633                        ;			k_user_SetRect(&rect,cx+borderWi
                    dth+metric.width,titleOffsetY,(strlen(title) + 1)*8,8);
 18634                        ;			k_gui_get_image_cache((UINT)((UL
                    ONG)pWin->clientData[CLIENTDATA_TITLE]),GUI_CACHE_BACK,&rect
                    );
 18635                        ;		}
 18636                        ;		else
 18637                        ;		{
 18638                        ;			k_debug_integer("k_vdraw_ui_wind
                    ow::CLIENTDATA_TITLE:",extraStyle);
 18639                        ;			k_vdma_fill_rect_ex(cx+borderWid
                    th+metric.width,titleOffsetY,
 18640                        ;							
                    	(strlen(title) + 1)*8,8,15,BITMAP_BACK);
 18641                        ;
 18642                        ;			k_draw_text_point_ex(title,cx+(b
                    orderWidth + 3)+metric.width,titleOffsetY,k_getUIGadgetColor
                    (),page);
 18643                        ;			if(extraStyle)
 18644                        ;			{
 18645                        ;				k_user_SetRect(&rect,cx+
                    borderWidth+metric.width,titleOffsetY,(strlen(title) + 1)*8,
                    8);
 18646                        ;				pWin->clientData[CLIENTD
                    ATA_TITLE] = (LPVOID)((ULONG)k_gui_set_image_cache(GUI_CACHE
                    _BACK,&rect));
 18647                        ;
 18648                        ;				k_debug_pointer("k_vdraw
                    _ui_window::CLIENTDATA_TITLE:",pWin->clientData[CLIENTDATA_T
                    ITLE] );
 18649                        ;			}
 18650                        ;		}
 18651                        ;
 18652                        ;
  Thu Jul 22 2021 22:51                                                Page 344


 18653                        ;
 18654                        ;		/*
 18655                        ;		k_vdma_copy_address_ex((LPSTR)((ULONG)0x
                    080000 + k_gui_get_pixel_offset(0,420)),TITLE_LINES_640x480,
                    640,8);
 18656                        ;
 18657                        ;		k_vdma_copy_address_ex((LPSTR)((ULONG)0x
                    200000 + k_gui_get_pixel_offset(0,460)),
 18658                        ;							
                       (LPSTR)((ULONG)0x080000 + k_gui_get_pixel_offset(cx+(bord
                    erWidth + 3)+metric.width,titleOffsetY)),
 18659                        ;							
                       strlen(title)*8,8);
 18660                        ;
 18661                        ;		k_vdma_copy_address_ex((LPSTR)((ULONG)0x
                    080000 + k_gui_get_pixel_offset(100,460)),
 18662                        ;							
                       (LPSTR)((ULONG)0x200000 + k_gui_get_pixel_offset(0,460)),
 18663                        ;							
                       strlen(title)*8,8);
 18664                        ;		*/
 18665                        ;
 18666                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),
 18667                        ;				   pWin->win_x + gx,
 18668                        ;				   pWin->win_y,
 18669                        ;				   pWin->win_width - gx,
 18670                        ;				   borderTitle);
 18671                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_DRAG_WINDOW;
 18672                        ;
 18673                        ;	}
 18674                        ;	else
 18675                        ;	{
 18676                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),
 18677                        ;				   pWin->win_x + gx,
 18678                        ;				   pWin->win_y,
 18679                        ;				   pWin->win_width - gx,
 18680                        ;				   borderWidth);
 18681                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_DRAG_WINDOW;
 18682                        ;	}
 18683                        ;
 18684                        ;	//k_debug_integer("k_vdraw_ui_window::(clientOff
                    setY - height):",(clientOffsetY - pWin->clientRect.y));
 18685                        ;	//k_debug_integer("k_vdraw_ui_window::((clientOf
                    fsetY - height) + borderWidth):",((clientOffsetY - pWin->cli
                    entRect.y) + borderWidth));
 18686                        ;
 18687                        ;	pWin->clientRect.width  = (width - (2*borderWidt
                    h));
 18688                        ;	pWin->clientRect.height = height - ((clientOffse
                    tY - pWin->clientRect.y) + borderWidth);
 18689                        ;
 18690                        ;	k_debug_integer("k_vdraw_ui_window::clientRect.w
                    idth:", pWin->clientRect.width);
 18691                        ;	k_debug_integer("k_vdraw_ui_window::clientRect.h
  Thu Jul 22 2021 22:51                                                Page 345


                    eight:",pWin->clientRect.height);
 18692                        ;
 18693                        ;
 18694                        ;	pWin->clientRect.x      = clientOffsetX;
 18695                        ;	pWin->clientRect.y      = clientOffsetY;
 18696                        ;
 18697                        ;	if(pWin->win_cxoffset == -1)
 18698                        ;	{
 18699                        ;		pWin->win_cxoffset 	= pWin->clientRe
                    ct.x - pWin->win_x;
 18700                        ;		pWin->win_cyoffset 	= pWin->clientRe
                    ct.y - pWin->win_y;
 18701                        ;	}
 18702                        ;
 18703                        ;	k_set_rect(&(pWin->nonclientGadgets[ncc].area),
 18704                        ;			   pWin->win_x + pWin->win_width
                      - 4,
 18705                        ;			   pWin->win_y + pWin->win_heigh
                    t - 4,
 18706                        ;			   4,
 18707                        ;			   4);
 18708                        ;	pWin->nonclientGadgets[ncc++].msgType = FX_RESIZ
                    E_WINDOW;
 18709                        ;
 18710                        ;
 18711                        ;	k_draw_rect(pWin->win_x - 1,
 18712                        ;				pWin->win_y - 1,
 18713                        ;				(pWin->win_x) + pWin->wi
                    n_width  ,
 18714                        ;				(pWin->win_y) + pWin->wi
                    n_height ,
 18715                        ;				k_getUIGadgetColor(),
 18716                        ;				0,
 18717                        ;				page);
 18718                        ;
 18719                        ;	k_draw_rect(pWin->clientRect.x - 1,
 18720                        ;				pWin->clientRect.y - 1,
 18721                        ;				pWin->clientRect.x + pWi
                    n->clientRect.width ,
 18722                        ;				pWin->clientRect.y + pWi
                    n->clientRect.height,
 18723                        ;				k_getUIGadgetColor(),
 18724                        ;				0,
 18725                        ;				page);
 18726                        ;	//k_debug_rect("k_vdraw_ui_window:client[resized
                    ]:",&pWin->clientRect);
 18727                        ;
 18728                        ;	k_set_rect(&(pWin->nonclientGadgets[ncc].area),-
                    1,-1,-1,-1);
 18729                        ;
 18730                        ;
 18731                        ;	//k_debug_strings("k_vdraw_ui_window:","exit");
 18732                        ;}
 18733                        ;#endif
 18734                        ;
 18735                        ;void k_vdraw_ui_window_ex(PWINDOW pWin,ULONG styl
                    e,int cx,int cy,int height,int width,char FAR *title,int col
                    or, int bgcolor,UINT page)
  Thu Jul 22 2021 22:51                                                Page 346


 18736                        ;{
 18737                        	.line	3190
 18738                        	.line	3191
 18739                        	GFX
 18740                        	xdef	~~k_vdraw_ui_window_ex
 18741                        	func
 18742                        	.function	3191
 18743                        ~~k_vdraw_ui_window_ex:
 18744                        	longa	on
 18745                        	longi	on
 18746 06:4A10: 3B           	tsc
 18747 06:4A11: 38           	sec
 18748 06:4A12: E9 48 00     	sbc	#L902
 18749 06:4A15: 1B           	tcs
 18750 06:4A16: 0B           	phd
 18751 06:4A17: 5B           	tcd
 18752             00000004   pWin_0	set	4
 18753             00000008   style_0	set	8
 18754             0000000C   cx_0	set	12
 18755             0000000E   cy_0	set	14
 18756             00000010   height_0	set	16
 18757             00000012   width_0	set	18
 18758             00000014   title_0	set	20
 18759             00000018   color_0	set	24
 18760             0000001A   bgcolor_0	set	26
 18761             0000001C   page_0	set	28
 18762                        	.block	3191
 18763                        ;
 18764                        ;	//TODO: FXWS_DLGFRAME is broken
 18765                        ;
 18766                        ;	FONTMETRIC metric;
 18767                        ;	
 18768                        ;	int i = 0;
 18769                        ;	int odd = 1;
 18770                        ;	int borderColor = 0;
 18771                        ;	int borderTitle = 0;
 18772                        ;	int borderWidth = 0;
 18773                        ;
 18774                        ;	int titleOffsetX = 0;
 18775                        ;	int titleOffsetY = 0;
 18776                        ;	int titleScaler = 0;
 18777                        ;	
 18778                        ;	int clientOffsetX = 0;
 18779                        ;	int clientOffsetY = 0;
 18780                        ;	
 18781                        ;	int currX = 0;
 18782                        ;	int currY = 0;
 18783                        ;	
 18784                        ;	int endX = 0;
 18785                        ;	
 18786                        ;	int maxminPos = 0;
 18787                        ;
 18788                        ;	int ncc = 0;
 18789                        ;	int gx,gy,bx,by;
 18790                        ;
 18791                        ;	int fillOffset = 2;  // correct the fill coordin
                    ates so the borders are the same size
 18792                        ;
  Thu Jul 22 2021 22:51                                                Page 347


 18793                        ;	RECT rect;
 18794                        ;
 18795                        ;	int extraStyle = (pWin->styleEx & FXWSX_CACHE_TI
                    TLE);
 18796                        ;	//k_debug_pointer("k_vdraw_ui_window:pWin:",pWin
                    );
 18797                        ;	/*
 18798                        ;	if(pWin->pParentWindow)
 18799                        ;	{
 18800                        ;		cx = k_getWindowFromHandle(pWin->pParent
                    Window)->clientRect.x + cx;
 18801                        ;		cy = k_getWindowFromHandle(pWin->pParent
                    Window)->clientRect.y + cy;
 18802                        ;		k_debug_strings("k_vdraw_ui_window::IS C
                    HILD:",title);
 18803                        ;		k_debug_integer("k_vdraw_ui_window:cx:",
                    cx);
 18804                        ;		k_debug_integer("k_vdraw_ui_window:cy:",
                    cy);
 18805                        ;		k_debug_integer("k_vdraw_ui_window:width
                    :",width);
 18806                        ;		k_debug_integer("k_vdraw_ui_window:heigh
                    t:",height);
 18807                        ;	}
 18808                        ;	*/
 18809                        ;
 18810                        ;	/*
 18811                        ;	if(title)
 18812                        ;	{
 18813                        ;		title[32] = 0;
 18814                        ;		k_debug_strings("k_vdraw_ui_window::IS C
                    HILD:",title);
 18815                        ;	}
 18816                        ;	else
 18817                        ;		k_debug_strings("k_vdraw_ui_window::IS C
                    HILD:","NULL");
 18818                        ;
 18819                        ;	k_debug_integer("k_vdraw_ui_window:cx:",cx);
 18820                        ;	k_debug_integer("k_vdraw_ui_window:cy:",cy);
 18821                        ;	k_debug_integer("k_vdraw_ui_window:width:",width
                    );
 18822                        ;	k_debug_integer("k_vdraw_ui_window:height:",heig
                    ht);
 18823                        ;	k_debug_integer("k_vdraw_ui_window:page:",page);
 18824                        ;	k_debug_rect("k_vdraw_ui_window:client:",&pWin->
                    clientRect);
 18825                        ;	*/
 18826                        ;
 18827                        ;	//k_debug_rect("k_vdraw_ui_window:client:",&pWin
                    ->clientRect);
 18828                        ;
 18829                        ;
 18830                        ;	gx = k_user_getSystemMetric(SM_CXGADGET);
 18831             00000000   metric_1	set	0
 18832             00000004   i_1	set	4
 18833             00000006   odd_1	set	6
 18834             00000008   borderColor_1	set	8
 18835             0000000A   borderTitle_1	set	10
  Thu Jul 22 2021 22:51                                                Page 348


 18836             0000000C   borderWidth_1	set	12
 18837             0000000E   titleOffsetX_1	set	14
 18838             00000010   titleOffsetY_1	set	16
 18839             00000012   titleScaler_1	set	18
 18840             00000014   clientOffsetX_1	set	20
 18841             00000016   clientOffsetY_1	set	22
 18842             00000018   currX_1	set	24
 18843             0000001A   currY_1	set	26
 18844             0000001C   endX_1	set	28
 18845             0000001E   maxminPos_1	set	30
 18846             00000020   ncc_1	set	32
 18847             00000022   gx_1	set	34
 18848             00000024   gy_1	set	36
 18849             00000026   bx_1	set	38
 18850             00000028   by_1	set	40
 18851             0000002A   fillOffset_1	set	42
 18852             0000002C   rect_1	set	44
 18853             0000003A   extraStyle_1	set	58
 18854                        	.sym	metric,0,10,1,32,35
 18855                        	.sym	i,4,5,1,16
 18856                        	.sym	odd,6,5,1,16
 18857                        	.sym	borderColor,8,5,1,16
 18858                        	.sym	borderTitle,10,5,1,16
 18859                        	.sym	borderWidth,12,5,1,16
 18860                        	.sym	titleOffsetX,14,5,1,16
 18861                        	.sym	titleOffsetY,16,5,1,16
 18862                        	.sym	titleScaler,18,5,1,16
 18863                        	.sym	clientOffsetX,20,5,1,16
 18864                        	.sym	clientOffsetY,22,5,1,16
 18865                        	.sym	currX,24,5,1,16
 18866                        	.sym	currY,26,5,1,16
 18867                        	.sym	endX,28,5,1,16
 18868                        	.sym	maxminPos,30,5,1,16
 18869                        	.sym	ncc,32,5,1,16
 18870                        	.sym	gx,34,5,1,16
 18871                        	.sym	gy,36,5,1,16
 18872                        	.sym	bx,38,5,1,16
 18873                        	.sym	by,40,5,1,16
 18874                        	.sym	fillOffset,42,5,1,16
 18875                        	.sym	rect,44,10,1,112,26
 18876                        	.sym	extraStyle,58,5,1,16
 18877                        	.sym	pWin,4,138,6,32,33
 18878                        	.sym	style,8,18,6,32
 18879                        	.sym	cx,12,5,6,16
 18880                        	.sym	cy,14,5,6,16
 18881                        	.sym	height,16,5,6,16
 18882                        	.sym	width,18,5,6,16
 18883                        	.sym	title,20,142,6,32
 18884                        	.sym	color,24,5,6,16
 18885                        	.sym	bgcolor,26,5,6,16
 18886                        	.sym	page,28,16,6,16
 18887 06:4A18: 64 11        	stz	<L903+i_1
 18888 06:4A1A: A9 01 00     	lda	#$1
 18889 06:4A1D: 85 13        	sta	<L903+odd_1
 18890 06:4A1F: 64 15        	stz	<L903+borderColor_1
 18891 06:4A21: 64 17        	stz	<L903+borderTitle_1
 18892 06:4A23: 64 19        	stz	<L903+borderWidth_1
 18893 06:4A25: 64 1B        	stz	<L903+titleOffsetX_1
  Thu Jul 22 2021 22:51                                                Page 349


 18894 06:4A27: 64 1D        	stz	<L903+titleOffsetY_1
 18895 06:4A29: 64 1F        	stz	<L903+titleScaler_1
 18896 06:4A2B: 64 21        	stz	<L903+clientOffsetX_1
 18897 06:4A2D: 64 23        	stz	<L903+clientOffsetY_1
 18898 06:4A2F: 64 25        	stz	<L903+currX_1
 18899 06:4A31: 64 27        	stz	<L903+currY_1
 18900 06:4A33: 64 29        	stz	<L903+endX_1
 18901 06:4A35: 64 2B        	stz	<L903+maxminPos_1
 18902 06:4A37: 64 2D        	stz	<L903+ncc_1
 18903 06:4A39: A9 02 00     	lda	#$2
 18904 06:4A3C: 85 37        	sta	<L903+fillOffset_1
 18905 06:4A3E: A0 06 00     	ldy	#$6
 18906 06:4A41: B7 4C        	lda	[<L902+pWin_0],Y
 18907 06:4A43: 29 02 00     	and	#<$2
 18908 06:4A46: 85 01        	sta	<R0
 18909 06:4A48: 64 03        	stz	<R0+2
 18910 06:4A4A: A5 01        	lda	<R0
 18911 06:4A4C: 85 47        	sta	<L903+extraStyle_1
 18912                        	.line	3259
 18913 06:4A4E: F4 18 00     	pea	#<$18
 18914 06:4A51: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 18915 06:4A55: 85 2F        	sta	<L903+gx_1
 18916                        ;	gy = k_user_getSystemMetric(SM_CYGADGET);
 18917                        	.line	3260
 18918 06:4A57: F4 19 00     	pea	#<$19
 18919 06:4A5A: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 18920 06:4A5E: 85 31        	sta	<L903+gy_1
 18921                        ;	bx = k_user_getSystemMetric(SM_CXBORDER);
 18922                        	.line	3261
 18923 06:4A60: F4 05 00     	pea	#<$5
 18924 06:4A63: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 18925 06:4A67: 85 33        	sta	<L903+bx_1
 18926                        ;	by = k_user_getSystemMetric(SM_CYBORDER);
 18927                        	.line	3262
 18928 06:4A69: F4 06 00     	pea	#<$6
 18929 06:4A6C: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 18930 06:4A70: 85 35        	sta	<L903+by_1
 18931                        ;
 18932                        ;	titleOffsetX = cx+2;
 18933                        	.line	3264
 18934 06:4A72: 18           	clc
 18935 06:4A73: A9 02 00     	lda	#$2
 18936 06:4A76: 65 54        	adc	<L902+cx_0
 18937 06:4A78: 85 1B        	sta	<L903+titleOffsetX_1
 18938                        ;	titleOffsetY = cy+1;
 18939                        	.line	3265
 18940 06:4A7A: A5 56        	lda	<L902+cy_0
 18941 06:4A7C: 1A           	ina
 18942 06:4A7D: 85 1D        	sta	<L903+titleOffsetY_1
 18943                        ;
 18944                        ;	//k_debug_strings("k_vdraw_ui_window:","enter");
 18945                        ;
 18946                        ;	if(style & FXWS_VISIBLE != FXWS_VISIBLE)
 18947                        	.line	3269
 18948                        ;	{
 18949 06:4A7F: 82 1E 00     	brl	L10372
 18950                        	.line	3270
 18951                        ;		k_debug_strings("k_vdraw_ui_window::NOT 
  Thu Jul 22 2021 22:51                                                Page 350


                    RENDERING:",title);
 18952                        	.line	3271
 18953 06:4A82: D4 5E        	pei	<L902+title_0+2
 18954 06:4A84: D4 5C        	pei	<L902+title_0
 18955 06:4A86: F4 xx xx     	pea	#^L901
 18956 06:4A89: F4 xx xx     	pea	#<L901
 18957 06:4A8C: 22 xx xx xx  	jsl	~~k_debug_strings
 18958                        ;		return;
 18959                        	.line	3272
 18960                        L905:
 18961 06:4A90: A5 4A        	lda	<L902+2
 18962 06:4A92: 85 64        	sta	<L902+2+26
 18963 06:4A94: A5 49        	lda	<L902+1
 18964 06:4A96: 85 63        	sta	<L902+1+26
 18965 06:4A98: 2B           	pld
 18966 06:4A99: 3B           	tsc
 18967 06:4A9A: 18           	clc
 18968 06:4A9B: 69 62 00     	adc	#L902+26
 18969 06:4A9E: 1B           	tcs
 18970 06:4A9F: 6B           	rtl
 18971                        ;	}
 18972                        	.line	3273
 18973                        ;
 18974                        ;	//k_debug_strings("k_vdraw_ui_window::RENDERING:
                    ",title);
 18975                        ;
 18976                        ;	if(style & FXWS_THICKFRAME)
 18977                        L10372:
 18978                        	.line	3277
 18979                        ;	{
 18980 06:4AA0: A5 52        	lda	<L902+style_0+2
 18981 06:4AA2: 29 02 00     	and	#^$20000
 18982 06:4AA5: D0 03        	bne	L906
 18983 06:4AA7: 82 08 00     	brl	L10373
 18984                        L906:
 18985                        	.line	3278
 18986                        ;		borderWidth = 2;
 18987                        	.line	3279
 18988 06:4AAA: A9 02 00     	lda	#$2
 18989 06:4AAD: 85 19        	sta	<L903+borderWidth_1
 18990                        ;	}
 18991                        	.line	3280
 18992                        ;	else if(style & FXWS_BORDER)
 18993 06:4AAF: 82 21 00     	brl	L10374
 18994                        L10373:
 18995                        	.line	3281
 18996                        ;	{
 18997 06:4AB2: A5 52        	lda	<L902+style_0+2
 18998 06:4AB4: 29 01 00     	and	#^$10000
 18999 06:4AB7: D0 03        	bne	L907
 19000 06:4AB9: 82 08 00     	brl	L10375
 19001                        L907:
 19002                        	.line	3282
 19003                        ;		borderWidth = 1;
 19004                        	.line	3283
 19005 06:4ABC: A9 01 00     	lda	#$1
 19006 06:4ABF: 85 19        	sta	<L903+borderWidth_1
 19007                        ;	}
  Thu Jul 22 2021 22:51                                                Page 351


 19008                        	.line	3284
 19009                        ;	else if(style & FXWS_DLGFRAME)
 19010 06:4AC1: 82 0F 00     	brl	L10376
 19011                        L10375:
 19012                        	.line	3285
 19013                        ;	{
 19014 06:4AC4: A5 52        	lda	<L902+style_0+2
 19015 06:4AC6: 29 04 00     	and	#^$40000
 19016 06:4AC9: D0 03        	bne	L908
 19017 06:4ACB: 82 05 00     	brl	L10377
 19018                        L908:
 19019                        	.line	3286
 19020                        ;		borderWidth = 4;
 19021                        	.line	3287
 19022 06:4ACE: A9 04 00     	lda	#$4
 19023 06:4AD1: 85 19        	sta	<L903+borderWidth_1
 19024                        ;	}
 19025                        	.line	3288
 19026                        ;
 19027                        ;	if( ((style & FXWS_CAPTION) == FXWS_CAPTION) || 
                    (style & FXWS_SYSMENU) || (style & FXWS_MINIMIZEBOX) || (sty
                    le & FXWS_MAXIMIZEBOX))
 19028                        L10377:
 19029                        L10376:
 19030                        L10374:
 19031                        	.line	3290
 19032                        ;	{
 19033 06:4AD3: A5 50        	lda	<L902+style_0
 19034 06:4AD5: 29 04 00     	and	#<$4
 19035 06:4AD8: 85 01        	sta	<R0
 19036 06:4ADA: 64 03        	stz	<R0+2
 19037 06:4ADC: A5 01        	lda	<R0
 19038 06:4ADE: C9 04 00     	cmp	#<$4
 19039 06:4AE1: D0 05        	bne	L910
 19040 06:4AE3: A5 03        	lda	<R0+2
 19041 06:4AE5: C9 00 00     	cmp	#^$4
 19042                        L910:
 19043 06:4AE8: D0 03        	bne	L911
 19044 06:4AEA: 82 1E 00     	brl	L909
 19045                        L911:
 19046 06:4AED: A5 50        	lda	<L902+style_0
 19047 06:4AEF: 29 08 00     	and	#<$8
 19048 06:4AF2: F0 03        	beq	L912
 19049 06:4AF4: 82 14 00     	brl	L909
 19050                        L912:
 19051 06:4AF7: A5 50        	lda	<L902+style_0
 19052 06:4AF9: 29 20 00     	and	#<$20
 19053 06:4AFC: F0 03        	beq	L913
 19054 06:4AFE: 82 0A 00     	brl	L909
 19055                        L913:
 19056 06:4B01: A5 50        	lda	<L902+style_0
 19057 06:4B03: 29 10 00     	and	#<$10
 19058 06:4B06: D0 03        	bne	L914
 19059 06:4B08: 82 05 00     	brl	L10378
 19060                        L914:
 19061                        L909:
 19062                        	.line	3291
 19063                        ;		borderTitle = 10;
  Thu Jul 22 2021 22:51                                                Page 352


 19064                        	.line	3292
 19065 06:4B0B: A9 0A 00     	lda	#$a
 19066 06:4B0E: 85 17        	sta	<L903+borderTitle_1
 19067                        ;	}
 19068                        	.line	3293
 19069                        ;
 19070                        ;	clientOffsetX = cx + borderWidth;
 19071                        L10378:
 19072                        	.line	3295
 19073 06:4B10: 18           	clc
 19074 06:4B11: A5 54        	lda	<L902+cx_0
 19075 06:4B13: 65 19        	adc	<L903+borderWidth_1
 19076 06:4B15: 85 21        	sta	<L903+clientOffsetX_1
 19077                        ;
 19078                        ;	if(borderTitle)
 19079                        	.line	3297
 19080                        ;		clientOffsetY = cy + borderTitle;
 19081 06:4B17: A5 17        	lda	<L903+borderTitle_1
 19082 06:4B19: D0 03        	bne	L915
 19083 06:4B1B: 82 0A 00     	brl	L10379
 19084                        L915:
 19085                        	.line	3298
 19086 06:4B1E: 18           	clc
 19087 06:4B1F: A5 56        	lda	<L902+cy_0
 19088 06:4B21: 65 17        	adc	<L903+borderTitle_1
 19089 06:4B23: 85 23        	sta	<L903+clientOffsetY_1
 19090                        ;	else
 19091 06:4B25: 82 07 00     	brl	L10380
 19092                        L10379:
 19093                        ;		clientOffsetY = cy + borderWidth;
 19094                        	.line	3300
 19095 06:4B28: 18           	clc
 19096 06:4B29: A5 56        	lda	<L902+cy_0
 19097 06:4B2B: 65 19        	adc	<L903+borderWidth_1
 19098 06:4B2D: 85 23        	sta	<L903+clientOffsetY_1
 19099                        L10380:
 19100                        ;
 19101                        ;	currX = clientOffsetX;
 19102                        	.line	3302
 19103 06:4B2F: A5 21        	lda	<L903+clientOffsetX_1
 19104 06:4B31: 85 25        	sta	<L903+currX_1
 19105                        ;	currY = clientOffsetY;
 19106                        	.line	3303
 19107 06:4B33: A5 23        	lda	<L903+clientOffsetY_1
 19108 06:4B35: 85 27        	sta	<L903+currY_1
 19109                        ;
 19110                        ;	endX = width + cx - borderWidth;
 19111                        	.line	3305
 19112 06:4B37: 18           	clc
 19113 06:4B38: A5 5A        	lda	<L902+width_0
 19114 06:4B3A: 65 54        	adc	<L902+cx_0
 19115 06:4B3C: 85 01        	sta	<R0
 19116 06:4B3E: 38           	sec
 19117 06:4B3F: A5 01        	lda	<R0
 19118 06:4B41: E5 19        	sbc	<L903+borderWidth_1
 19119 06:4B43: 85 29        	sta	<L903+endX_1
 19120                        ;	maxminPos = 0;
 19121                        	.line	3306
  Thu Jul 22 2021 22:51                                                Page 353


 19122 06:4B45: 64 2B        	stz	<L903+maxminPos_1
 19123                        ;
 19124                        ;	k_vdma_fill_rect_ex(cx,cy,width,height,bgcolor,p
                    age);
 19125                        	.line	3308
 19126 06:4B47: D4 64        	pei	<L902+page_0
 19127 06:4B49: D4 62        	pei	<L902+bgcolor_0
 19128 06:4B4B: D4 58        	pei	<L902+height_0
 19129 06:4B4D: D4 5A        	pei	<L902+width_0
 19130 06:4B4F: A0 00 00     	ldy	#$0
 19131 06:4B52: A5 56        	lda	<L902+cy_0
 19132 06:4B54: 10 01        	bpl	L916
 19133 06:4B56: 88           	dey
 19134                        L916:
 19135 06:4B57: 85 01        	sta	<R0
 19136 06:4B59: 84 03        	sty	<R0+2
 19137 06:4B5B: D4 03        	pei	<R0+2
 19138 06:4B5D: D4 01        	pei	<R0
 19139 06:4B5F: A0 00 00     	ldy	#$0
 19140 06:4B62: A5 54        	lda	<L902+cx_0
 19141 06:4B64: 10 01        	bpl	L917
 19142 06:4B66: 88           	dey
 19143                        L917:
 19144 06:4B67: 85 05        	sta	<R1
 19145 06:4B69: 84 07        	sty	<R1+2
 19146 06:4B6B: D4 07        	pei	<R1+2
 19147 06:4B6D: D4 05        	pei	<R1
 19148 06:4B6F: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 19149                        ;
 19150                        ;
 19151                        ;	borderColor = color;
 19152                        	.line	3311
 19153 06:4B73: A5 60        	lda	<L902+color_0
 19154 06:4B75: 85 15        	sta	<L903+borderColor_1
 19155                        ;	for(i=0;i<borderWidth;i++)
 19156                        	.line	3312
 19157 06:4B77: 64 11        	stz	<L903+i_1
 19158 06:4B79: 82 6F 00     	brl	L10384
 19159                        L10383:
 19160                        ;	{
 19161                        	.line	3313
 19162                        ;		if(borderWidth > 2)
 19163                        	.line	3314
 19164                        ;		{
 19165 06:4B7C: 38           	sec
 19166 06:4B7D: A9 02 00     	lda	#$2
 19167 06:4B80: E5 19        	sbc	<L903+borderWidth_1
 19168 06:4B82: 70 03        	bvs	L918
 19169 06:4B84: 49 00 80     	eor	#$8000
 19170                        L918:
 19171 06:4B87: 10 03        	bpl	L919
 19172 06:4B89: 82 1C 00     	brl	L10385
 19173                        L919:
 19174                        	.line	3315
 19175                        ;			borderColor = color;
 19176                        	.line	3316
 19177 06:4B8C: A5 60        	lda	<L902+color_0
 19178 06:4B8E: 85 15        	sta	<L903+borderColor_1
  Thu Jul 22 2021 22:51                                                Page 354


 19179                        ;			odd=!odd;
 19180                        	.line	3317
 19181 06:4B90: 64 01        	stz	<R0
 19182 06:4B92: A5 13        	lda	<L903+odd_1
 19183 06:4B94: F0 03        	beq	L921
 19184 06:4B96: 82 02 00     	brl	L920
 19185                        L921:
 19186 06:4B99: E6 01        	inc	<R0
 19187                        L920:
 19188 06:4B9B: A5 01        	lda	<R0
 19189 06:4B9D: 85 13        	sta	<L903+odd_1
 19190                        ;			if(odd)
 19191                        	.line	3318
 19192                        ;			{
 19193 06:4B9F: A5 13        	lda	<L903+odd_1
 19194 06:4BA1: D0 03        	bne	L922
 19195 06:4BA3: 82 02 00     	brl	L10386
 19196                        L922:
 19197                        	.line	3319
 19198                        ;				borderColor = 0;
 19199                        	.line	3320
 19200 06:4BA6: 64 15        	stz	<L903+borderColor_1
 19201                        ;			}
 19202                        	.line	3321
 19203                        ;		}
 19204                        L10386:
 19205                        	.line	3322
 19206                        ;
 19207                        ;		k_draw_rect(cx + i + 0,
 19208                        L10385:
 19209                        	.line	3324
 19210                        ;					cy + i + 0,
 19211                        ;					cx + width  - 1 
                    - i,
 19212                        ;					cy + height - 1 
                    - i,
 19213                        ;					borderColor,
 19214                        ;					0,
 19215                        ;					page);
 19216 06:4BA8: D4 64        	pei	<L902+page_0
 19217 06:4BAA: F4 00 00     	pea	#<$0
 19218 06:4BAD: D4 15        	pei	<L903+borderColor_1
 19219 06:4BAF: 18           	clc
 19220 06:4BB0: A5 56        	lda	<L902+cy_0
 19221 06:4BB2: 65 58        	adc	<L902+height_0
 19222 06:4BB4: 85 01        	sta	<R0
 19223 06:4BB6: 18           	clc
 19224 06:4BB7: A9 FF FF     	lda	#$ffff
 19225 06:4BBA: 65 01        	adc	<R0
 19226 06:4BBC: 85 05        	sta	<R1
 19227 06:4BBE: 38           	sec
 19228 06:4BBF: A5 05        	lda	<R1
 19229 06:4BC1: E5 11        	sbc	<L903+i_1
 19230 06:4BC3: 48           	pha
 19231 06:4BC4: 18           	clc
 19232 06:4BC5: A5 54        	lda	<L902+cx_0
 19233 06:4BC7: 65 5A        	adc	<L902+width_0
 19234 06:4BC9: 85 01        	sta	<R0
  Thu Jul 22 2021 22:51                                                Page 355


 19235 06:4BCB: 18           	clc
 19236 06:4BCC: A9 FF FF     	lda	#$ffff
 19237 06:4BCF: 65 01        	adc	<R0
 19238 06:4BD1: 85 05        	sta	<R1
 19239 06:4BD3: 38           	sec
 19240 06:4BD4: A5 05        	lda	<R1
 19241 06:4BD6: E5 11        	sbc	<L903+i_1
 19242 06:4BD8: 48           	pha
 19243 06:4BD9: 18           	clc
 19244 06:4BDA: A5 56        	lda	<L902+cy_0
 19245 06:4BDC: 65 11        	adc	<L903+i_1
 19246 06:4BDE: 48           	pha
 19247 06:4BDF: 18           	clc
 19248 06:4BE0: A5 54        	lda	<L902+cx_0
 19249 06:4BE2: 65 11        	adc	<L903+i_1
 19250 06:4BE4: 48           	pha
 19251 06:4BE5: 22 D2 1D 06  	jsl	~~k_draw_rect
 19252                        ;
 19253                        ;	}
 19254                        	.line	3332
 19255                        L10381:
 19256 06:4BE9: E6 11        	inc	<L903+i_1
 19257                        L10384:
 19258 06:4BEB: 38           	sec
 19259 06:4BEC: A5 11        	lda	<L903+i_1
 19260 06:4BEE: E5 19        	sbc	<L903+borderWidth_1
 19261 06:4BF0: 70 03        	bvs	L923
 19262 06:4BF2: 49 00 80     	eor	#$8000
 19263                        L923:
 19264 06:4BF5: 30 03        	bmi	L924
 19265 06:4BF7: 82 82 FF     	brl	L10383
 19266                        L924:
 19267                        L10382:
 19268                        ;
 19269                        ;
 19270                        ;
 19271                        ;	if(borderTitle)
 19272                        	.line	3336
 19273                        ;	{
 19274 06:4BFA: A5 17        	lda	<L903+borderTitle_1
 19275 06:4BFC: D0 03        	bne	L925
 19276 06:4BFE: 82 2C 00     	brl	L10387
 19277                        L925:
 19278                        	.line	3337
 19279                        ;		k_vdma_fill_rect_ex(cx,cy,width,borderTi
                    tle,color,page);
 19280                        	.line	3338
 19281 06:4C01: D4 64        	pei	<L902+page_0
 19282 06:4C03: D4 60        	pei	<L902+color_0
 19283 06:4C05: D4 17        	pei	<L903+borderTitle_1
 19284 06:4C07: D4 5A        	pei	<L902+width_0
 19285 06:4C09: A0 00 00     	ldy	#$0
 19286 06:4C0C: A5 56        	lda	<L902+cy_0
 19287 06:4C0E: 10 01        	bpl	L926
 19288 06:4C10: 88           	dey
 19289                        L926:
 19290 06:4C11: 85 01        	sta	<R0
 19291 06:4C13: 84 03        	sty	<R0+2
  Thu Jul 22 2021 22:51                                                Page 356


 19292 06:4C15: D4 03        	pei	<R0+2
 19293 06:4C17: D4 01        	pei	<R0
 19294 06:4C19: A0 00 00     	ldy	#$0
 19295 06:4C1C: A5 54        	lda	<L902+cx_0
 19296 06:4C1E: 10 01        	bpl	L927
 19297 06:4C20: 88           	dey
 19298                        L927:
 19299 06:4C21: 85 05        	sta	<R1
 19300 06:4C23: 84 07        	sty	<R1+2
 19301 06:4C25: D4 07        	pei	<R1+2
 19302 06:4C27: D4 05        	pei	<R1
 19303 06:4C29: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 19304                        ;	}
 19305                        	.line	3339
 19306                        ;
 19307                        ;	k_get_font_metrics(&metric);
 19308                        L10387:
 19309                        	.line	3341
 19310 06:4C2D: F4 00 00     	pea	#0
 19311 06:4C30: 18           	clc
 19312 06:4C31: 7B           	tdc
 19313 06:4C32: 69 0D 00     	adc	#<L903+metric_1
 19314 06:4C35: 48           	pha
 19315 06:4C36: 22 B2 23 06  	jsl	~~k_get_font_metrics
 19316                        ;	
 19317                        ;	
 19318                        ;	//title = strupr(title);
 19319                        ;	
 19320                        ;	//FXWS_OVERLAPPED | FXWS_CAPTION | FXWS_SYSMENU 
                    | FXWS_THICKFRAME | FXWS_MINIMIZEBOX | FXWS_MAXIMIZEBOX
 19321                        ;
 19322                        ;	if(style & FXWS_SYSMENU)
 19323                        	.line	3348
 19324                        ;	{
 19325 06:4C3A: A5 50        	lda	<L902+style_0
 19326 06:4C3C: 29 08 00     	and	#<$8
 19327 06:4C3F: D0 03        	bne	L928
 19328 06:4C41: 82 A6 00     	brl	L10388
 19329                        L928:
 19330                        	.line	3349
 19331                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),titleOffsetX,titleOffsetY,gx,gx);
 19332                        	.line	3350
 19333 06:4C44: D4 2F        	pei	<L903+gx_1
 19334 06:4C46: D4 2F        	pei	<L903+gx_1
 19335 06:4C48: D4 1D        	pei	<L903+titleOffsetY_1
 19336 06:4C4A: D4 1B        	pei	<L903+titleOffsetX_1
 19337 06:4C4C: A0 00 00     	ldy	#$0
 19338 06:4C4F: A5 2D        	lda	<L903+ncc_1
 19339 06:4C51: 10 01        	bpl	L929
 19340 06:4C53: 88           	dey
 19341                        L929:
 19342 06:4C54: 85 01        	sta	<R0
 19343 06:4C56: 84 03        	sty	<R0+2
 19344 06:4C58: F4 00 00     	pea	#^$11
 19345 06:4C5B: F4 11 00     	pea	#<$11
 19346 06:4C5E: D4 03        	pei	<R0+2
 19347 06:4C60: D4 01        	pei	<R0
  Thu Jul 22 2021 22:51                                                Page 357


 19348                        	xref	~~~lmul
 19349 06:4C62: 22 xx xx xx  	jsl	~~~lmul
 19350 06:4C66: 85 01        	sta	<R0
 19351 06:4C68: 86 03        	stx	<R0+2
 19352 06:4C6A: 18           	clc
 19353 06:4C6B: A9 38 00     	lda	#$38
 19354 06:4C6E: 65 01        	adc	<R0
 19355 06:4C70: 85 05        	sta	<R1
 19356 06:4C72: A9 00 00     	lda	#$0
 19357 06:4C75: 65 03        	adc	<R0+2
 19358 06:4C77: 85 07        	sta	<R1+2
 19359 06:4C79: 18           	clc
 19360 06:4C7A: A5 4C        	lda	<L902+pWin_0
 19361 06:4C7C: 65 05        	adc	<R1
 19362 06:4C7E: 85 01        	sta	<R0
 19363 06:4C80: A5 4E        	lda	<L902+pWin_0+2
 19364 06:4C82: 65 07        	adc	<R1+2
 19365 06:4C84: 85 03        	sta	<R0+2
 19366 06:4C86: D4 03        	pei	<R0+2
 19367 06:4C88: D4 01        	pei	<R0
 19368 06:4C8A: 22 00 06 06  	jsl	~~k_set_rect
 19369                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_WINDOW_CLOSE;
 19370                        	.line	3351
 19371 06:4C8E: A0 00 00     	ldy	#$0
 19372 06:4C91: A5 2D        	lda	<L903+ncc_1
 19373 06:4C93: 10 01        	bpl	L930
 19374 06:4C95: 88           	dey
 19375                        L930:
 19376 06:4C96: 85 01        	sta	<R0
 19377 06:4C98: 84 03        	sty	<R0+2
 19378 06:4C9A: F4 00 00     	pea	#^$11
 19379 06:4C9D: F4 11 00     	pea	#<$11
 19380 06:4CA0: D4 03        	pei	<R0+2
 19381 06:4CA2: D4 01        	pei	<R0
 19382                        	xref	~~~lmul
 19383 06:4CA4: 22 xx xx xx  	jsl	~~~lmul
 19384 06:4CA8: 85 01        	sta	<R0
 19385 06:4CAA: 86 03        	stx	<R0+2
 19386 06:4CAC: 18           	clc
 19387 06:4CAD: A9 46 00     	lda	#$46
 19388 06:4CB0: 65 4C        	adc	<L902+pWin_0
 19389 06:4CB2: 85 05        	sta	<R1
 19390 06:4CB4: A9 00 00     	lda	#$0
 19391 06:4CB7: 65 4E        	adc	<L902+pWin_0+2
 19392 06:4CB9: 85 07        	sta	<R1+2
 19393 06:4CBB: 18           	clc
 19394 06:4CBC: A5 05        	lda	<R1
 19395 06:4CBE: 65 01        	adc	<R0
 19396 06:4CC0: 85 09        	sta	<R2
 19397 06:4CC2: A5 07        	lda	<R1+2
 19398 06:4CC4: 65 03        	adc	<R0+2
 19399 06:4CC6: 85 0B        	sta	<R2+2
 19400 06:4CC8: A9 FF FB     	lda	#$fbff
 19401 06:4CCB: 87 09        	sta	[<R2]
 19402 06:4CCD: E6 2D        	inc	<L903+ncc_1
 19403                        ;
 19404                        ;		//k_debug_strings("k_vdraw_ui_window:","
  Thu Jul 22 2021 22:51                                                Page 358


                    FXWS_SYSMENU");
 19405                        ;		titleOffsetX+=k_put_wingadget_point_ex(W
                    INICON_TITLE_BCLOSE,titleOffsetX,titleOffsetY,k_getUIGadgetC
                    olor(),page);
 19406                        	.line	3354
 19407 06:4CCF: D4 64        	pei	<L902+page_0
 19408 06:4CD1: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 19409 06:4CD5: 48           	pha
 19410 06:4CD6: D4 1D        	pei	<L903+titleOffsetY_1
 19411 06:4CD8: D4 1B        	pei	<L903+titleOffsetX_1
 19412 06:4CDA: F4 06 00     	pea	#<$6
 19413 06:4CDD: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 19414 06:4CE1: 85 01        	sta	<R0
 19415 06:4CE3: 18           	clc
 19416 06:4CE4: A5 01        	lda	<R0
 19417 06:4CE6: 65 1B        	adc	<L903+titleOffsetX_1
 19418 06:4CE8: 85 1B        	sta	<L903+titleOffsetX_1
 19419                        ;
 19420                        ;	}
 19421                        	.line	3356
 19422                        ;	
 19423                        ;	if((style & FXWS_CAPTION) == FXWS_CAPTION)
 19424                        L10388:
 19425                        	.line	3358
 19426                        ;	{
 19427 06:4CEA: A5 50        	lda	<L902+style_0
 19428 06:4CEC: 29 04 00     	and	#<$4
 19429 06:4CEF: 85 01        	sta	<R0
 19430 06:4CF1: 64 03        	stz	<R0+2
 19431 06:4CF3: A5 01        	lda	<R0
 19432 06:4CF5: C9 04 00     	cmp	#<$4
 19433 06:4CF8: D0 05        	bne	L931
 19434 06:4CFA: A5 03        	lda	<R0+2
 19435 06:4CFC: C9 00 00     	cmp	#^$4
 19436                        L931:
 19437 06:4CFF: F0 03        	beq	L932
 19438 06:4D01: 82 48 00     	brl	L10389
 19439                        L932:
 19440                        	.line	3359
 19441                        ;
 19442                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_CAPTION");
 19443                        ;		//titleScaler = (int)(width / metric.wid
                    th - 3);
 19444                        ;		titleScaler = (int)((width / metric.widt
                    h) - 1);
 19445                        	.line	3363
 19446 06:4D04: A5 5A        	lda	<L902+width_0
 19447 06:4D06: A6 0D        	ldx	<L903+metric_1
 19448                        	xref	~~~div
 19449 06:4D08: 22 xx xx xx  	jsl	~~~div
 19450 06:4D0C: 85 01        	sta	<R0
 19451 06:4D0E: 18           	clc
 19452 06:4D0F: A9 FF FF     	lda	#$ffff
 19453 06:4D12: 65 01        	adc	<R0
 19454 06:4D14: 85 1F        	sta	<L903+titleScaler_1
 19455                        ;
 19456                        ;		//k_debug_integer("k_vdraw_ui_window:tit
  Thu Jul 22 2021 22:51                                                Page 359


                    leScaler1:",titleScaler * 8);
 19457                        ;
 19458                        ;
 19459                        ;		//titleScaler = (width - (borderWidth * 
                    2));
 19460                        ;		//k_debug_integer("k_vdraw_ui_window:tit
                    leScaler2:",(width - (borderWidth * 2)));
 19461                        ;
 19462                        ;		/*
 19463                        ;		if(!k_gui_get_title_cache(NULL))
 19464                        ;		{
 19465                        ;			k_gui_build_title_cache(NULL);
 19466                        ;		}
 19467                        ;
 19468                        ;		if(k_gui_get_title_cache(NULL))
 19469                        ;		{
 19470                        ;			k_vdma_copy_address_ex((LPSTR)((
                    ULONG)0x080000 + k_gui_get_pixel_offset(titleOffsetX,titleOf
                    fsetY)),TITLE_LINES_640x480,titleScaler * 8,8);
 19471                        ;		}
 19472                        ;		else
 19473                        ;		{
 19474                        ;			k_gui_build_title_cache(NULL);
 19475                        ;			for(i=0;i<titleScaler;i++)
 19476                        ;			{
 19477                        ;				titleOffsetX+=k_put_wing
                    adget_point_ex(WINICON_TITLE_LINES,titleOffsetX,titleOffsetY
                    ,k_getUIGadgetColor(),page);
 19478                        ;			}
 19479                        ;		}
 19480                        ;
 19481                        ;		k_gui_build_title_cache(NULL);
 19482                        ;		*/
 19483                        ;
 19484                        ;		//
 19485                        ;		// set lines in title with blt
 19486                        ;		//
 19487                        ;		rect.x = titleOffsetX;
 19488                        	.line	3396
 19489 06:4D16: A5 1B        	lda	<L903+titleOffsetX_1
 19490 06:4D18: 85 39        	sta	<L903+rect_1
 19491                        ;		rect.y = titleOffsetY;
 19492                        	.line	3397
 19493 06:4D1A: A5 1D        	lda	<L903+titleOffsetY_1
 19494 06:4D1C: 85 3B        	sta	<L903+rect_1+2
 19495                        ;		rect.width  = (titleScaler * 8)  - (bord
                    erWidth * 2);
 19496                        	.line	3398
 19497 06:4D1E: A5 19        	lda	<L903+borderWidth_1
 19498 06:4D20: 0A           	asl	A
 19499 06:4D21: 85 01        	sta	<R0
 19500 06:4D23: A5 1F        	lda	<L903+titleScaler_1
 19501 06:4D25: 0A           	asl	A
 19502 06:4D26: 0A           	asl	A
 19503 06:4D27: 0A           	asl	A
 19504 06:4D28: 85 05        	sta	<R1
 19505 06:4D2A: 38           	sec
 19506 06:4D2B: A5 05        	lda	<R1
  Thu Jul 22 2021 22:51                                                Page 360


 19507 06:4D2D: E5 01        	sbc	<R0
 19508 06:4D2F: 85 41        	sta	<L903+rect_1+8
 19509                        ;		rect.height = 8;
 19510                        	.line	3399
 19511 06:4D31: A9 08 00     	lda	#$8
 19512 06:4D34: 85 43        	sta	<L903+rect_1+10
 19513                        ;		k_gui_get_image_cache(0,0x080000,&rect);
 19514                        	.line	3400
 19515 06:4D36: F4 00 00     	pea	#0
 19516 06:4D39: 18           	clc
 19517 06:4D3A: 7B           	tdc
 19518 06:4D3B: 69 39 00     	adc	#<L903+rect_1
 19519 06:4D3E: 48           	pha
 19520 06:4D3F: F4 08 00     	pea	#^$80000
 19521 06:4D42: F4 00 00     	pea	#<$80000
 19522 06:4D45: F4 00 00     	pea	#<$0
 19523 06:4D48: 22 13 03 06  	jsl	~~k_gui_get_image_cache
 19524                        ;		//
 19525                        ;		//
 19526                        ;		//
 19527                        ;
 19528                        ;
 19529                        ;		/*
 19530                        ;		for(i=0;i<titleScaler;i++)
 19531                        ;		{
 19532                        ;			titleOffsetX+=k_put_wingadget_po
                    int_ex(WINICON_TITLE_LINES,titleOffsetX,titleOffsetY,k_getUI
                    GadgetColor(),page);
 19533                        ;		}
 19534                        ;		*/
 19535                        ;
 19536                        ;		//k_vdma_copy_address_ex((LPSTR)((ULONG)
                    0x080000 + k_gui_get_pixel_offset(0,440)),TITLE_LINES_640x48
                    0,titleScaler * 8,8);
 19537                        ;
 19538                        ;
 19539                        ;
 19540                        ;
 19541                        ;	}
 19542                        	.line	3418
 19543                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_BACK,titleOffsetX,titleOffsetY,14);
 19544                        ;	//titleOffsetX+=2;
 19545                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_FRONT,titleOffsetX,titleOffsetY,14);
 19546                        ;	
 19547                        ;	if(style & FXWS_MAXIMIZEBOX)
 19548                        L10389:
 19549                        	.line	3423
 19550                        ;	{
 19551 06:4D4C: A5 50        	lda	<L902+style_0
 19552 06:4D4E: 29 10 00     	and	#<$10
 19553 06:4D51: D0 03        	bne	L933
 19554 06:4D53: 82 C6 00     	brl	L10390
 19555                        L933:
 19556                        	.line	3424
 19557                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_MAXIMIZEBOX");
  Thu Jul 22 2021 22:51                                                Page 361


 19558                        ;		maxminPos+=metric.width;
 19559                        	.line	3426
 19560 06:4D56: 18           	clc
 19561 06:4D57: A5 2B        	lda	<L903+maxminPos_1
 19562 06:4D59: 65 0D        	adc	<L903+metric_1
 19563 06:4D5B: 85 2B        	sta	<L903+maxminPos_1
 19564                        ;		//k_put_wingadget_point(WINICON_BLOCK,en
                    dX - (metric.width),titleOffsetY,k_getUIWindowBorderColor())
                    ;
 19565                        ;		//k_put_wingadget_point(WINICON_TITLE_FR
                    ONT,endX - (metric.width),titleOffsetY,k_getUIGadgetColor())
                    ;
 19566                        ;
 19567                        ;		k_put_wingadget_point_ex(WINICON_BLOCK,e
                    ndX - maxminPos,titleOffsetY,k_getUIWindowBorderColor(),page
                    );
 19568                        	.line	3430
 19569 06:4D5D: D4 64        	pei	<L902+page_0
 19570 06:4D5F: 22 99 12 06  	jsl	~~k_getUIWindowBorderColor
 19571 06:4D63: 48           	pha
 19572 06:4D64: D4 1D        	pei	<L903+titleOffsetY_1
 19573 06:4D66: 38           	sec
 19574 06:4D67: A5 29        	lda	<L903+endX_1
 19575 06:4D69: E5 2B        	sbc	<L903+maxminPos_1
 19576 06:4D6B: 48           	pha
 19577 06:4D6C: F4 00 00     	pea	#<$0
 19578 06:4D6F: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 19579                        ;		k_put_wingadget_point_ex(WINICON_TITLE_F
                    RONT,endX - maxminPos,titleOffsetY,k_getUIGadgetColor(),page
                    );
 19580                        	.line	3431
 19581 06:4D73: D4 64        	pei	<L902+page_0
 19582 06:4D75: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 19583 06:4D79: 48           	pha
 19584 06:4D7A: D4 1D        	pei	<L903+titleOffsetY_1
 19585 06:4D7C: 38           	sec
 19586 06:4D7D: A5 29        	lda	<L903+endX_1
 19587 06:4D7F: E5 2B        	sbc	<L903+maxminPos_1
 19588 06:4D81: 48           	pha
 19589 06:4D82: F4 03 00     	pea	#<$3
 19590 06:4D85: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 19591                        ;
 19592                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),endX - maxminPos,titleOffsetY,gx,gx);
 19593                        	.line	3433
 19594 06:4D89: D4 2F        	pei	<L903+gx_1
 19595 06:4D8B: D4 2F        	pei	<L903+gx_1
 19596 06:4D8D: D4 1D        	pei	<L903+titleOffsetY_1
 19597 06:4D8F: 38           	sec
 19598 06:4D90: A5 29        	lda	<L903+endX_1
 19599 06:4D92: E5 2B        	sbc	<L903+maxminPos_1
 19600 06:4D94: 48           	pha
 19601 06:4D95: A0 00 00     	ldy	#$0
 19602 06:4D98: A5 2D        	lda	<L903+ncc_1
 19603 06:4D9A: 10 01        	bpl	L934
 19604 06:4D9C: 88           	dey
 19605                        L934:
 19606 06:4D9D: 85 01        	sta	<R0
  Thu Jul 22 2021 22:51                                                Page 362


 19607 06:4D9F: 84 03        	sty	<R0+2
 19608 06:4DA1: F4 00 00     	pea	#^$11
 19609 06:4DA4: F4 11 00     	pea	#<$11
 19610 06:4DA7: D4 03        	pei	<R0+2
 19611 06:4DA9: D4 01        	pei	<R0
 19612                        	xref	~~~lmul
 19613 06:4DAB: 22 xx xx xx  	jsl	~~~lmul
 19614 06:4DAF: 85 01        	sta	<R0
 19615 06:4DB1: 86 03        	stx	<R0+2
 19616 06:4DB3: 18           	clc
 19617 06:4DB4: A9 38 00     	lda	#$38
 19618 06:4DB7: 65 01        	adc	<R0
 19619 06:4DB9: 85 05        	sta	<R1
 19620 06:4DBB: A9 00 00     	lda	#$0
 19621 06:4DBE: 65 03        	adc	<R0+2
 19622 06:4DC0: 85 07        	sta	<R1+2
 19623 06:4DC2: 18           	clc
 19624 06:4DC3: A5 4C        	lda	<L902+pWin_0
 19625 06:4DC5: 65 05        	adc	<R1
 19626 06:4DC7: 85 01        	sta	<R0
 19627 06:4DC9: A5 4E        	lda	<L902+pWin_0+2
 19628 06:4DCB: 65 07        	adc	<R1+2
 19629 06:4DCD: 85 03        	sta	<R0+2
 19630 06:4DCF: D4 03        	pei	<R0+2
 19631 06:4DD1: D4 01        	pei	<R0
 19632 06:4DD3: 22 00 06 06  	jsl	~~k_set_rect
 19633                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_MAX_WINDOW;
 19634                        	.line	3434
 19635 06:4DD7: A0 00 00     	ldy	#$0
 19636 06:4DDA: A5 2D        	lda	<L903+ncc_1
 19637 06:4DDC: 10 01        	bpl	L935
 19638 06:4DDE: 88           	dey
 19639                        L935:
 19640 06:4DDF: 85 01        	sta	<R0
 19641 06:4DE1: 84 03        	sty	<R0+2
 19642 06:4DE3: F4 00 00     	pea	#^$11
 19643 06:4DE6: F4 11 00     	pea	#<$11
 19644 06:4DE9: D4 03        	pei	<R0+2
 19645 06:4DEB: D4 01        	pei	<R0
 19646                        	xref	~~~lmul
 19647 06:4DED: 22 xx xx xx  	jsl	~~~lmul
 19648 06:4DF1: 85 01        	sta	<R0
 19649 06:4DF3: 86 03        	stx	<R0+2
 19650 06:4DF5: 18           	clc
 19651 06:4DF6: A9 46 00     	lda	#$46
 19652 06:4DF9: 65 4C        	adc	<L902+pWin_0
 19653 06:4DFB: 85 05        	sta	<R1
 19654 06:4DFD: A9 00 00     	lda	#$0
 19655 06:4E00: 65 4E        	adc	<L902+pWin_0+2
 19656 06:4E02: 85 07        	sta	<R1+2
 19657 06:4E04: 18           	clc
 19658 06:4E05: A5 05        	lda	<R1
 19659 06:4E07: 65 01        	adc	<R0
 19660 06:4E09: 85 09        	sta	<R2
 19661 06:4E0B: A5 07        	lda	<R1+2
 19662 06:4E0D: 65 03        	adc	<R0+2
 19663 06:4E0F: 85 0B        	sta	<R2+2
  Thu Jul 22 2021 22:51                                                Page 363


 19664 06:4E11: A9 0A FB     	lda	#$fb0a
 19665 06:4E14: 87 09        	sta	[<R2]
 19666 06:4E16: E6 2D        	inc	<L903+ncc_1
 19667                        ;
 19668                        ;		maxminPos+=2;
 19669                        	.line	3436
 19670 06:4E18: E6 2B        	inc	<L903+maxminPos_1
 19671 06:4E1A: E6 2B        	inc	<L903+maxminPos_1
 19672                        ;	}
 19673                        	.line	3437
 19674                        ;
 19675                        ;	if(style & FXWS_MINIMIZEBOX)
 19676                        L10390:
 19677                        	.line	3439
 19678                        ;	{
 19679 06:4E1C: A5 50        	lda	<L902+style_0
 19680 06:4E1E: 29 20 00     	and	#<$20
 19681 06:4E21: D0 03        	bne	L936
 19682 06:4E23: 82 C6 00     	brl	L10391
 19683                        L936:
 19684                        	.line	3440
 19685                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_MINIMIZEBOX");
 19686                        ;		maxminPos+=metric.width;
 19687                        	.line	3442
 19688 06:4E26: 18           	clc
 19689 06:4E27: A5 2B        	lda	<L903+maxminPos_1
 19690 06:4E29: 65 0D        	adc	<L903+metric_1
 19691 06:4E2B: 85 2B        	sta	<L903+maxminPos_1
 19692                        ;		//k_put_wingadget_point(WINICON_BLOCK,en
                    dX - (metric.width*2 + 2),titleOffsetY,k_getUIWindowBorderCo
                    lor());
 19693                        ;		//k_put_wingadget_point(WINICON_TITLE_BA
                    CK,endX - (metric.width*2 + 2),titleOffsetY,k_getUIGadgetCol
                    or());
 19694                        ;
 19695                        ;		k_put_wingadget_point_ex(WINICON_BLOCK,e
                    ndX - maxminPos,titleOffsetY,k_getUIWindowBorderColor(),page
                    );
 19696                        	.line	3446
 19697 06:4E2D: D4 64        	pei	<L902+page_0
 19698 06:4E2F: 22 99 12 06  	jsl	~~k_getUIWindowBorderColor
 19699 06:4E33: 48           	pha
 19700 06:4E34: D4 1D        	pei	<L903+titleOffsetY_1
 19701 06:4E36: 38           	sec
 19702 06:4E37: A5 29        	lda	<L903+endX_1
 19703 06:4E39: E5 2B        	sbc	<L903+maxminPos_1
 19704 06:4E3B: 48           	pha
 19705 06:4E3C: F4 00 00     	pea	#<$0
 19706 06:4E3F: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 19707                        ;		k_put_wingadget_point_ex(WINICON_TITLE_B
                    ACK,endX - maxminPos,titleOffsetY,k_getUIGadgetColor(),page)
                    ;
 19708                        	.line	3447
 19709 06:4E43: D4 64        	pei	<L902+page_0
 19710 06:4E45: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 19711 06:4E49: 48           	pha
 19712 06:4E4A: D4 1D        	pei	<L903+titleOffsetY_1
  Thu Jul 22 2021 22:51                                                Page 364


 19713 06:4E4C: 38           	sec
 19714 06:4E4D: A5 29        	lda	<L903+endX_1
 19715 06:4E4F: E5 2B        	sbc	<L903+maxminPos_1
 19716 06:4E51: 48           	pha
 19717 06:4E52: F4 04 00     	pea	#<$4
 19718 06:4E55: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 19719                        ;
 19720                        ;
 19721                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),endX - maxminPos,titleOffsetY,gx,gx);
 19722                        	.line	3450
 19723 06:4E59: D4 2F        	pei	<L903+gx_1
 19724 06:4E5B: D4 2F        	pei	<L903+gx_1
 19725 06:4E5D: D4 1D        	pei	<L903+titleOffsetY_1
 19726 06:4E5F: 38           	sec
 19727 06:4E60: A5 29        	lda	<L903+endX_1
 19728 06:4E62: E5 2B        	sbc	<L903+maxminPos_1
 19729 06:4E64: 48           	pha
 19730 06:4E65: A0 00 00     	ldy	#$0
 19731 06:4E68: A5 2D        	lda	<L903+ncc_1
 19732 06:4E6A: 10 01        	bpl	L937
 19733 06:4E6C: 88           	dey
 19734                        L937:
 19735 06:4E6D: 85 01        	sta	<R0
 19736 06:4E6F: 84 03        	sty	<R0+2
 19737 06:4E71: F4 00 00     	pea	#^$11
 19738 06:4E74: F4 11 00     	pea	#<$11
 19739 06:4E77: D4 03        	pei	<R0+2
 19740 06:4E79: D4 01        	pei	<R0
 19741                        	xref	~~~lmul
 19742 06:4E7B: 22 xx xx xx  	jsl	~~~lmul
 19743 06:4E7F: 85 01        	sta	<R0
 19744 06:4E81: 86 03        	stx	<R0+2
 19745 06:4E83: 18           	clc
 19746 06:4E84: A9 38 00     	lda	#$38
 19747 06:4E87: 65 01        	adc	<R0
 19748 06:4E89: 85 05        	sta	<R1
 19749 06:4E8B: A9 00 00     	lda	#$0
 19750 06:4E8E: 65 03        	adc	<R0+2
 19751 06:4E90: 85 07        	sta	<R1+2
 19752 06:4E92: 18           	clc
 19753 06:4E93: A5 4C        	lda	<L902+pWin_0
 19754 06:4E95: 65 05        	adc	<R1
 19755 06:4E97: 85 01        	sta	<R0
 19756 06:4E99: A5 4E        	lda	<L902+pWin_0+2
 19757 06:4E9B: 65 07        	adc	<R1+2
 19758 06:4E9D: 85 03        	sta	<R0+2
 19759 06:4E9F: D4 03        	pei	<R0+2
 19760 06:4EA1: D4 01        	pei	<R0
 19761 06:4EA3: 22 00 06 06  	jsl	~~k_set_rect
 19762                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_MIN_WINDOW;
 19763                        	.line	3451
 19764 06:4EA7: A0 00 00     	ldy	#$0
 19765 06:4EAA: A5 2D        	lda	<L903+ncc_1
 19766 06:4EAC: 10 01        	bpl	L938
 19767 06:4EAE: 88           	dey
 19768                        L938:
  Thu Jul 22 2021 22:51                                                Page 365


 19769 06:4EAF: 85 01        	sta	<R0
 19770 06:4EB1: 84 03        	sty	<R0+2
 19771 06:4EB3: F4 00 00     	pea	#^$11
 19772 06:4EB6: F4 11 00     	pea	#<$11
 19773 06:4EB9: D4 03        	pei	<R0+2
 19774 06:4EBB: D4 01        	pei	<R0
 19775                        	xref	~~~lmul
 19776 06:4EBD: 22 xx xx xx  	jsl	~~~lmul
 19777 06:4EC1: 85 01        	sta	<R0
 19778 06:4EC3: 86 03        	stx	<R0+2
 19779 06:4EC5: 18           	clc
 19780 06:4EC6: A9 46 00     	lda	#$46
 19781 06:4EC9: 65 4C        	adc	<L902+pWin_0
 19782 06:4ECB: 85 05        	sta	<R1
 19783 06:4ECD: A9 00 00     	lda	#$0
 19784 06:4ED0: 65 4E        	adc	<L902+pWin_0+2
 19785 06:4ED2: 85 07        	sta	<R1+2
 19786 06:4ED4: 18           	clc
 19787 06:4ED5: A5 05        	lda	<R1
 19788 06:4ED7: 65 01        	adc	<R0
 19789 06:4ED9: 85 09        	sta	<R2
 19790 06:4EDB: A5 07        	lda	<R1+2
 19791 06:4EDD: 65 03        	adc	<R0+2
 19792 06:4EDF: 85 0B        	sta	<R2+2
 19793 06:4EE1: A9 09 FB     	lda	#$fb09
 19794 06:4EE4: 87 09        	sta	[<R2]
 19795 06:4EE6: E6 2D        	inc	<L903+ncc_1
 19796                        ;
 19797                        ;		maxminPos+=2;
 19798                        	.line	3453
 19799 06:4EE8: E6 2B        	inc	<L903+maxminPos_1
 19800 06:4EEA: E6 2B        	inc	<L903+maxminPos_1
 19801                        ;	}
 19802                        	.line	3454
 19803                        ;
 19804                        ;	if((style & FXWS_CAPTION) == FXWS_CAPTION)
 19805                        L10391:
 19806                        	.line	3456
 19807                        ;	{
 19808 06:4EEC: A5 50        	lda	<L902+style_0
 19809 06:4EEE: 29 04 00     	and	#<$4
 19810 06:4EF1: 85 01        	sta	<R0
 19811 06:4EF3: 64 03        	stz	<R0+2
 19812 06:4EF5: A5 01        	lda	<R0
 19813 06:4EF7: C9 04 00     	cmp	#<$4
 19814 06:4EFA: D0 05        	bne	L939
 19815 06:4EFC: A5 03        	lda	<R0+2
 19816 06:4EFE: C9 00 00     	cmp	#^$4
 19817                        L939:
 19818 06:4F01: F0 03        	beq	L940
 19819 06:4F03: 82 42 02     	brl	L10392
 19820                        L940:
 19821                        	.line	3457
 19822                        ;		/*
 19823                        ;		if(!k_gui_get_title_cache(NULL))
 19824                        ;		{
 19825                        ;			k_gui_build_title_cache(NULL);
 19826                        ;		}
  Thu Jul 22 2021 22:51                                                Page 366


 19827                        ;		*/
 19828                        ;		/*
 19829                        ;		for(i=0;i<=strlen(title);i++)
 19830                        ;		{
 19831                        ;			k_put_wingadget_point_ex(WINICON
                    _BLOCK,cx+borderWidth+metric.width+(metric.width*i),titleOff
                    setY,15,page);
 19832                        ;		}
 19833                        ;		*/
 19834                        ;		k_user_SetRect(&rect,cx+borderWidth+metr
                    ic.width,titleOffsetY,(strlen(title) + 1)*8,8);
 19835                        	.line	3470
 19836 06:4F06: F4 08 00     	pea	#<$8
 19837 06:4F09: D4 5E        	pei	<L902+title_0+2
 19838 06:4F0B: D4 5C        	pei	<L902+title_0
 19839 06:4F0D: 22 xx xx xx  	jsl	~~strlen
 19840 06:4F11: 85 05        	sta	<R1
 19841 06:4F13: A5 05        	lda	<R1
 19842 06:4F15: 0A           	asl	A
 19843 06:4F16: 0A           	asl	A
 19844 06:4F17: 0A           	asl	A
 19845 06:4F18: 85 01        	sta	<R0
 19846 06:4F1A: 18           	clc
 19847 06:4F1B: A9 08 00     	lda	#$8
 19848 06:4F1E: 65 01        	adc	<R0
 19849 06:4F20: 48           	pha
 19850 06:4F21: D4 1D        	pei	<L903+titleOffsetY_1
 19851 06:4F23: 18           	clc
 19852 06:4F24: A5 54        	lda	<L902+cx_0
 19853 06:4F26: 65 19        	adc	<L903+borderWidth_1
 19854 06:4F28: 85 01        	sta	<R0
 19855 06:4F2A: 18           	clc
 19856 06:4F2B: A5 01        	lda	<R0
 19857 06:4F2D: 65 0D        	adc	<L903+metric_1
 19858 06:4F2F: 48           	pha
 19859 06:4F30: F4 00 00     	pea	#0
 19860 06:4F33: 18           	clc
 19861 06:4F34: 7B           	tdc
 19862 06:4F35: 69 39 00     	adc	#<L903+rect_1
 19863 06:4F38: 48           	pha
 19864 06:4F39: 22 xx xx xx  	jsl	~~k_user_SetRect
 19865                        ;
 19866                        ;		if(extraStyle && pWin->clientData[CLIENT
                    DATA_TITLE])
 19867                        	.line	3472
 19868                        ;		{
 19869 06:4F3D: A5 47        	lda	<L903+extraStyle_1
 19870 06:4F3F: D0 03        	bne	L941
 19871 06:4F41: 82 62 00     	brl	L10393
 19872                        L941:
 19873 06:4F44: A0 DD 01     	ldy	#$1dd
 19874 06:4F47: B7 4C        	lda	[<L902+pWin_0],Y
 19875 06:4F49: A0 DF 01     	ldy	#$1df
 19876 06:4F4C: 17 4C        	ora	[<L902+pWin_0],Y
 19877 06:4F4E: D0 03        	bne	L942
 19878 06:4F50: 82 53 00     	brl	L10393
 19879                        L942:
 19880                        	.line	3473
  Thu Jul 22 2021 22:51                                                Page 367


 19881                        ;			//k_debug_strings("k_vdraw_ui_wi
                    ndow::CLIENTDATA_TITLE:","DRAW");
 19882                        ;			k_user_SetRect(&rect,cx+borderWi
                    dth+metric.width,titleOffsetY,(strlen(title) + 1)*8,8);
 19883                        	.line	3475
 19884 06:4F53: F4 08 00     	pea	#<$8
 19885 06:4F56: D4 5E        	pei	<L902+title_0+2
 19886 06:4F58: D4 5C        	pei	<L902+title_0
 19887 06:4F5A: 22 xx xx xx  	jsl	~~strlen
 19888 06:4F5E: 85 05        	sta	<R1
 19889 06:4F60: A5 05        	lda	<R1
 19890 06:4F62: 0A           	asl	A
 19891 06:4F63: 0A           	asl	A
 19892 06:4F64: 0A           	asl	A
 19893 06:4F65: 85 01        	sta	<R0
 19894 06:4F67: 18           	clc
 19895 06:4F68: A9 08 00     	lda	#$8
 19896 06:4F6B: 65 01        	adc	<R0
 19897 06:4F6D: 48           	pha
 19898 06:4F6E: D4 1D        	pei	<L903+titleOffsetY_1
 19899 06:4F70: 18           	clc
 19900 06:4F71: A5 54        	lda	<L902+cx_0
 19901 06:4F73: 65 19        	adc	<L903+borderWidth_1
 19902 06:4F75: 85 01        	sta	<R0
 19903 06:4F77: 18           	clc
 19904 06:4F78: A5 01        	lda	<R0
 19905 06:4F7A: 65 0D        	adc	<L903+metric_1
 19906 06:4F7C: 48           	pha
 19907 06:4F7D: F4 00 00     	pea	#0
 19908 06:4F80: 18           	clc
 19909 06:4F81: 7B           	tdc
 19910 06:4F82: 69 39 00     	adc	#<L903+rect_1
 19911 06:4F85: 48           	pha
 19912 06:4F86: 22 xx xx xx  	jsl	~~k_user_SetRect
 19913                        ;			k_gui_get_image_cache((UINT)((UL
                    ONG)pWin->clientData[CLIENTDATA_TITLE]),GUI_CACHE_BACK,&rect
                    );
 19914                        	.line	3476
 19915 06:4F8A: F4 00 00     	pea	#0
 19916 06:4F8D: 18           	clc
 19917 06:4F8E: 7B           	tdc
 19918 06:4F8F: 69 39 00     	adc	#<L903+rect_1
 19919 06:4F92: 48           	pha
 19920 06:4F93: F4 08 00     	pea	#^$80000
 19921 06:4F96: F4 00 00     	pea	#<$80000
 19922 06:4F99: A0 DD 01     	ldy	#$1dd
 19923 06:4F9C: B7 4C        	lda	[<L902+pWin_0],Y
 19924 06:4F9E: 48           	pha
 19925 06:4F9F: 22 13 03 06  	jsl	~~k_gui_get_image_cache
 19926                        ;		}
 19927                        	.line	3477
 19928                        ;		else
 19929 06:4FA3: 82 02 01     	brl	L10394
 19930                        L10393:
 19931                        ;		{
 19932                        	.line	3479
 19933                        ;			k_debug_integer("k_vdraw_ui_wind
                    ow::CLIENTDATA_TITLE:",extraStyle);
  Thu Jul 22 2021 22:51                                                Page 368


 19934                        	.line	3480
 19935 06:4FA6: D4 47        	pei	<L903+extraStyle_1
 19936 06:4FA8: F4 xx xx     	pea	#^L901+34
 19937 06:4FAB: F4 xx xx     	pea	#<L901+34
 19938 06:4FAE: 22 xx xx xx  	jsl	~~k_debug_integer
 19939                        ;			k_vdma_fill_rect_ex(cx+borderWid
                    th+metric.width,titleOffsetY,
 19940                        	.line	3481
 19941                        ;							
                    	(strlen(title) + 1)*8,8,15,BITMAP_BACK);
 19942 06:4FB2: F4 08 00     	pea	#<$8
 19943 06:4FB5: F4 0F 00     	pea	#<$f
 19944 06:4FB8: F4 08 00     	pea	#<$8
 19945 06:4FBB: D4 5E        	pei	<L902+title_0+2
 19946 06:4FBD: D4 5C        	pei	<L902+title_0
 19947 06:4FBF: 22 xx xx xx  	jsl	~~strlen
 19948 06:4FC3: 85 05        	sta	<R1
 19949 06:4FC5: A5 05        	lda	<R1
 19950 06:4FC7: 0A           	asl	A
 19951 06:4FC8: 0A           	asl	A
 19952 06:4FC9: 0A           	asl	A
 19953 06:4FCA: 85 01        	sta	<R0
 19954 06:4FCC: 18           	clc
 19955 06:4FCD: A9 08 00     	lda	#$8
 19956 06:4FD0: 65 01        	adc	<R0
 19957 06:4FD2: 48           	pha
 19958 06:4FD3: A0 00 00     	ldy	#$0
 19959 06:4FD6: A5 1D        	lda	<L903+titleOffsetY_1
 19960 06:4FD8: 10 01        	bpl	L943
 19961 06:4FDA: 88           	dey
 19962                        L943:
 19963 06:4FDB: 85 01        	sta	<R0
 19964 06:4FDD: 84 03        	sty	<R0+2
 19965 06:4FDF: D4 03        	pei	<R0+2
 19966 06:4FE1: D4 01        	pei	<R0
 19967 06:4FE3: 18           	clc
 19968 06:4FE4: A5 54        	lda	<L902+cx_0
 19969 06:4FE6: 65 19        	adc	<L903+borderWidth_1
 19970 06:4FE8: 85 05        	sta	<R1
 19971 06:4FEA: 18           	clc
 19972 06:4FEB: A5 05        	lda	<R1
 19973 06:4FED: 65 0D        	adc	<L903+metric_1
 19974 06:4FEF: 85 09        	sta	<R2
 19975 06:4FF1: A0 00 00     	ldy	#$0
 19976 06:4FF4: A5 09        	lda	<R2
 19977 06:4FF6: 10 01        	bpl	L944
 19978 06:4FF8: 88           	dey
 19979                        L944:
 19980 06:4FF9: 85 05        	sta	<R1
 19981 06:4FFB: 84 07        	sty	<R1+2
 19982 06:4FFD: D4 07        	pei	<R1+2
 19983 06:4FFF: D4 05        	pei	<R1
 19984 06:5001: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 19985                        ;
 19986                        ;			k_draw_text_point_ex(title,cx+(b
                    orderWidth + 3)+metric.width,titleOffsetY,k_getUIGadgetColor
                    (),page);
 19987                        	.line	3484
  Thu Jul 22 2021 22:51                                                Page 369


 19988 06:5005: D4 64        	pei	<L902+page_0
 19989 06:5007: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 19990 06:500B: 48           	pha
 19991 06:500C: D4 1D        	pei	<L903+titleOffsetY_1
 19992 06:500E: 18           	clc
 19993 06:500F: A5 54        	lda	<L902+cx_0
 19994 06:5011: 65 19        	adc	<L903+borderWidth_1
 19995 06:5013: 85 01        	sta	<R0
 19996 06:5015: 18           	clc
 19997 06:5016: A5 01        	lda	<R0
 19998 06:5018: 65 0D        	adc	<L903+metric_1
 19999 06:501A: 85 05        	sta	<R1
 20000 06:501C: 18           	clc
 20001 06:501D: A9 03 00     	lda	#$3
 20002 06:5020: 65 05        	adc	<R1
 20003 06:5022: 48           	pha
 20004 06:5023: D4 5E        	pei	<L902+title_0+2
 20005 06:5025: D4 5C        	pei	<L902+title_0
 20006 06:5027: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 20007                        ;			if(extraStyle)
 20008                        	.line	3485
 20009                        ;			{
 20010 06:502B: A5 47        	lda	<L903+extraStyle_1
 20011 06:502D: D0 03        	bne	L945
 20012 06:502F: 82 76 00     	brl	L10395
 20013                        L945:
 20014                        	.line	3486
 20015                        ;				k_user_SetRect(&rect,cx+
                    borderWidth+metric.width,titleOffsetY,(strlen(title) + 1)*8,
                    8);
 20016                        	.line	3487
 20017 06:5032: F4 08 00     	pea	#<$8
 20018 06:5035: D4 5E        	pei	<L902+title_0+2
 20019 06:5037: D4 5C        	pei	<L902+title_0
 20020 06:5039: 22 xx xx xx  	jsl	~~strlen
 20021 06:503D: 85 05        	sta	<R1
 20022 06:503F: A5 05        	lda	<R1
 20023 06:5041: 0A           	asl	A
 20024 06:5042: 0A           	asl	A
 20025 06:5043: 0A           	asl	A
 20026 06:5044: 85 01        	sta	<R0
 20027 06:5046: 18           	clc
 20028 06:5047: A9 08 00     	lda	#$8
 20029 06:504A: 65 01        	adc	<R0
 20030 06:504C: 48           	pha
 20031 06:504D: D4 1D        	pei	<L903+titleOffsetY_1
 20032 06:504F: 18           	clc
 20033 06:5050: A5 54        	lda	<L902+cx_0
 20034 06:5052: 65 19        	adc	<L903+borderWidth_1
 20035 06:5054: 85 01        	sta	<R0
 20036 06:5056: 18           	clc
 20037 06:5057: A5 01        	lda	<R0
 20038 06:5059: 65 0D        	adc	<L903+metric_1
 20039 06:505B: 48           	pha
 20040 06:505C: F4 00 00     	pea	#0
 20041 06:505F: 18           	clc
 20042 06:5060: 7B           	tdc
 20043 06:5061: 69 39 00     	adc	#<L903+rect_1
  Thu Jul 22 2021 22:51                                                Page 370


 20044 06:5064: 48           	pha
 20045 06:5065: 22 xx xx xx  	jsl	~~k_user_SetRect
 20046                        ;				pWin->clientData[CLIENTD
                    ATA_TITLE] = (LPVOID)((ULONG)k_gui_set_image_cache(GUI_CACHE
                    _BACK,&rect));
 20047                        	.line	3488
 20048 06:5069: F4 00 00     	pea	#0
 20049 06:506C: 18           	clc
 20050 06:506D: 7B           	tdc
 20051 06:506E: 69 39 00     	adc	#<L903+rect_1
 20052 06:5071: 48           	pha
 20053 06:5072: F4 08 00     	pea	#^$80000
 20054 06:5075: F4 00 00     	pea	#<$80000
 20055 06:5078: 22 02 02 06  	jsl	~~k_gui_set_image_cache
 20056 06:507C: 85 01        	sta	<R0
 20057 06:507E: A5 01        	lda	<R0
 20058 06:5080: 85 01        	sta	<R0
 20059 06:5082: 64 03        	stz	<R0+2
 20060 06:5084: A5 01        	lda	<R0
 20061 06:5086: A0 DD 01     	ldy	#$1dd
 20062 06:5089: 97 4C        	sta	[<L902+pWin_0],Y
 20063 06:508B: A5 03        	lda	<R0+2
 20064 06:508D: A0 DF 01     	ldy	#$1df
 20065 06:5090: 97 4C        	sta	[<L902+pWin_0],Y
 20066                        ;
 20067                        ;				k_debug_pointer("k_vdraw
                    _ui_window::CLIENTDATA_TITLE:",pWin->clientData[CLIENTDATA_T
                    ITLE] );
 20068                        	.line	3490
 20069 06:5092: A0 DF 01     	ldy	#$1df
 20070 06:5095: B7 4C        	lda	[<L902+pWin_0],Y
 20071 06:5097: 48           	pha
 20072 06:5098: A0 DD 01     	ldy	#$1dd
 20073 06:509B: B7 4C        	lda	[<L902+pWin_0],Y
 20074 06:509D: 48           	pha
 20075 06:509E: F4 xx xx     	pea	#^L901+71
 20076 06:50A1: F4 xx xx     	pea	#<L901+71
 20077 06:50A4: 22 xx xx xx  	jsl	~~k_debug_pointer
 20078                        ;			}
 20079                        	.line	3491
 20080                        ;		}
 20081                        L10395:
 20082                        	.line	3492
 20083                        L10394:
 20084                        ;
 20085                        ;
 20086                        ;
 20087                        ;		/*
 20088                        ;		k_vdma_copy_address_ex((LPSTR)((ULONG)0x
                    080000 + k_gui_get_pixel_offset(0,420)),TITLE_LINES_640x480,
                    640,8);
 20089                        ;
 20090                        ;		k_vdma_copy_address_ex((LPSTR)((ULONG)0x
                    200000 + k_gui_get_pixel_offset(0,460)),
 20091                        ;							
                       (LPSTR)((ULONG)0x080000 + k_gui_get_pixel_offset(cx+(bord
                    erWidth + 3)+metric.width,titleOffsetY)),
 20092                        ;							
  Thu Jul 22 2021 22:51                                                Page 371


                       strlen(title)*8,8);
 20093                        ;
 20094                        ;		k_vdma_copy_address_ex((LPSTR)((ULONG)0x
                    080000 + k_gui_get_pixel_offset(100,460)),
 20095                        ;							
                       (LPSTR)((ULONG)0x200000 + k_gui_get_pixel_offset(0,460)),
 20096                        ;							
                       strlen(title)*8,8);
 20097                        ;		*/
 20098                        ;
 20099                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),
 20100                        	.line	3508
 20101                        ;				   pWin->win_x + gx,
 20102                        ;				   pWin->win_y,
 20103                        ;				   pWin->win_width - gx,
 20104                        ;				   borderTitle);
 20105 06:50A8: D4 17        	pei	<L903+borderTitle_1
 20106 06:50AA: 38           	sec
 20107 06:50AB: A0 10 00     	ldy	#$10
 20108 06:50AE: B7 4C        	lda	[<L902+pWin_0],Y
 20109 06:50B0: E5 2F        	sbc	<L903+gx_1
 20110 06:50B2: 48           	pha
 20111 06:50B3: A0 0E 00     	ldy	#$e
 20112 06:50B6: B7 4C        	lda	[<L902+pWin_0],Y
 20113 06:50B8: 48           	pha
 20114 06:50B9: 18           	clc
 20115 06:50BA: A0 0C 00     	ldy	#$c
 20116 06:50BD: B7 4C        	lda	[<L902+pWin_0],Y
 20117 06:50BF: 65 2F        	adc	<L903+gx_1
 20118 06:50C1: 48           	pha
 20119 06:50C2: A0 00 00     	ldy	#$0
 20120 06:50C5: A5 2D        	lda	<L903+ncc_1
 20121 06:50C7: 10 01        	bpl	L946
 20122 06:50C9: 88           	dey
 20123                        L946:
 20124 06:50CA: 85 01        	sta	<R0
 20125 06:50CC: 84 03        	sty	<R0+2
 20126 06:50CE: F4 00 00     	pea	#^$11
 20127 06:50D1: F4 11 00     	pea	#<$11
 20128 06:50D4: D4 03        	pei	<R0+2
 20129 06:50D6: D4 01        	pei	<R0
 20130                        	xref	~~~lmul
 20131 06:50D8: 22 xx xx xx  	jsl	~~~lmul
 20132 06:50DC: 85 01        	sta	<R0
 20133 06:50DE: 86 03        	stx	<R0+2
 20134 06:50E0: 18           	clc
 20135 06:50E1: A9 38 00     	lda	#$38
 20136 06:50E4: 65 01        	adc	<R0
 20137 06:50E6: 85 05        	sta	<R1
 20138 06:50E8: A9 00 00     	lda	#$0
 20139 06:50EB: 65 03        	adc	<R0+2
 20140 06:50ED: 85 07        	sta	<R1+2
 20141 06:50EF: 18           	clc
 20142 06:50F0: A5 4C        	lda	<L902+pWin_0
 20143 06:50F2: 65 05        	adc	<R1
 20144 06:50F4: 85 01        	sta	<R0
 20145 06:50F6: A5 4E        	lda	<L902+pWin_0+2
  Thu Jul 22 2021 22:51                                                Page 372


 20146 06:50F8: 65 07        	adc	<R1+2
 20147 06:50FA: 85 03        	sta	<R0+2
 20148 06:50FC: D4 03        	pei	<R0+2
 20149 06:50FE: D4 01        	pei	<R0
 20150 06:5100: 22 00 06 06  	jsl	~~k_set_rect
 20151                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_DRAG_WINDOW;
 20152                        	.line	3513
 20153 06:5104: A0 00 00     	ldy	#$0
 20154 06:5107: A5 2D        	lda	<L903+ncc_1
 20155 06:5109: 10 01        	bpl	L947
 20156 06:510B: 88           	dey
 20157                        L947:
 20158 06:510C: 85 01        	sta	<R0
 20159 06:510E: 84 03        	sty	<R0+2
 20160 06:5110: F4 00 00     	pea	#^$11
 20161 06:5113: F4 11 00     	pea	#<$11
 20162 06:5116: D4 03        	pei	<R0+2
 20163 06:5118: D4 01        	pei	<R0
 20164                        	xref	~~~lmul
 20165 06:511A: 22 xx xx xx  	jsl	~~~lmul
 20166 06:511E: 85 01        	sta	<R0
 20167 06:5120: 86 03        	stx	<R0+2
 20168 06:5122: 18           	clc
 20169 06:5123: A9 46 00     	lda	#$46
 20170 06:5126: 65 4C        	adc	<L902+pWin_0
 20171 06:5128: 85 05        	sta	<R1
 20172 06:512A: A9 00 00     	lda	#$0
 20173 06:512D: 65 4E        	adc	<L902+pWin_0+2
 20174 06:512F: 85 07        	sta	<R1+2
 20175 06:5131: 18           	clc
 20176 06:5132: A5 05        	lda	<R1
 20177 06:5134: 65 01        	adc	<R0
 20178 06:5136: 85 09        	sta	<R2
 20179 06:5138: A5 07        	lda	<R1+2
 20180 06:513A: 65 03        	adc	<R0+2
 20181 06:513C: 85 0B        	sta	<R2+2
 20182 06:513E: A9 10 FB     	lda	#$fb10
 20183 06:5141: 87 09        	sta	[<R2]
 20184 06:5143: E6 2D        	inc	<L903+ncc_1
 20185                        ;
 20186                        ;	}
 20187                        	.line	3515
 20188                        ;	else
 20189 06:5145: 82 9D 00     	brl	L10396
 20190                        L10392:
 20191                        ;	{
 20192                        	.line	3517
 20193                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),
 20194                        	.line	3518
 20195                        ;				   pWin->win_x + gx,
 20196                        ;				   pWin->win_y,
 20197                        ;				   pWin->win_width - gx,
 20198                        ;				   borderWidth);
 20199 06:5148: D4 19        	pei	<L903+borderWidth_1
 20200 06:514A: 38           	sec
 20201 06:514B: A0 10 00     	ldy	#$10
  Thu Jul 22 2021 22:51                                                Page 373


 20202 06:514E: B7 4C        	lda	[<L902+pWin_0],Y
 20203 06:5150: E5 2F        	sbc	<L903+gx_1
 20204 06:5152: 48           	pha
 20205 06:5153: A0 0E 00     	ldy	#$e
 20206 06:5156: B7 4C        	lda	[<L902+pWin_0],Y
 20207 06:5158: 48           	pha
 20208 06:5159: 18           	clc
 20209 06:515A: A0 0C 00     	ldy	#$c
 20210 06:515D: B7 4C        	lda	[<L902+pWin_0],Y
 20211 06:515F: 65 2F        	adc	<L903+gx_1
 20212 06:5161: 48           	pha
 20213 06:5162: A0 00 00     	ldy	#$0
 20214 06:5165: A5 2D        	lda	<L903+ncc_1
 20215 06:5167: 10 01        	bpl	L948
 20216 06:5169: 88           	dey
 20217                        L948:
 20218 06:516A: 85 01        	sta	<R0
 20219 06:516C: 84 03        	sty	<R0+2
 20220 06:516E: F4 00 00     	pea	#^$11
 20221 06:5171: F4 11 00     	pea	#<$11
 20222 06:5174: D4 03        	pei	<R0+2
 20223 06:5176: D4 01        	pei	<R0
 20224                        	xref	~~~lmul
 20225 06:5178: 22 xx xx xx  	jsl	~~~lmul
 20226 06:517C: 85 01        	sta	<R0
 20227 06:517E: 86 03        	stx	<R0+2
 20228 06:5180: 18           	clc
 20229 06:5181: A9 38 00     	lda	#$38
 20230 06:5184: 65 01        	adc	<R0
 20231 06:5186: 85 05        	sta	<R1
 20232 06:5188: A9 00 00     	lda	#$0
 20233 06:518B: 65 03        	adc	<R0+2
 20234 06:518D: 85 07        	sta	<R1+2
 20235 06:518F: 18           	clc
 20236 06:5190: A5 4C        	lda	<L902+pWin_0
 20237 06:5192: 65 05        	adc	<R1
 20238 06:5194: 85 01        	sta	<R0
 20239 06:5196: A5 4E        	lda	<L902+pWin_0+2
 20240 06:5198: 65 07        	adc	<R1+2
 20241 06:519A: 85 03        	sta	<R0+2
 20242 06:519C: D4 03        	pei	<R0+2
 20243 06:519E: D4 01        	pei	<R0
 20244 06:51A0: 22 00 06 06  	jsl	~~k_set_rect
 20245                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_DRAG_WINDOW;
 20246                        	.line	3523
 20247 06:51A4: A0 00 00     	ldy	#$0
 20248 06:51A7: A5 2D        	lda	<L903+ncc_1
 20249 06:51A9: 10 01        	bpl	L949
 20250 06:51AB: 88           	dey
 20251                        L949:
 20252 06:51AC: 85 01        	sta	<R0
 20253 06:51AE: 84 03        	sty	<R0+2
 20254 06:51B0: F4 00 00     	pea	#^$11
 20255 06:51B3: F4 11 00     	pea	#<$11
 20256 06:51B6: D4 03        	pei	<R0+2
 20257 06:51B8: D4 01        	pei	<R0
 20258                        	xref	~~~lmul
  Thu Jul 22 2021 22:51                                                Page 374


 20259 06:51BA: 22 xx xx xx  	jsl	~~~lmul
 20260 06:51BE: 85 01        	sta	<R0
 20261 06:51C0: 86 03        	stx	<R0+2
 20262 06:51C2: 18           	clc
 20263 06:51C3: A9 46 00     	lda	#$46
 20264 06:51C6: 65 4C        	adc	<L902+pWin_0
 20265 06:51C8: 85 05        	sta	<R1
 20266 06:51CA: A9 00 00     	lda	#$0
 20267 06:51CD: 65 4E        	adc	<L902+pWin_0+2
 20268 06:51CF: 85 07        	sta	<R1+2
 20269 06:51D1: 18           	clc
 20270 06:51D2: A5 05        	lda	<R1
 20271 06:51D4: 65 01        	adc	<R0
 20272 06:51D6: 85 09        	sta	<R2
 20273 06:51D8: A5 07        	lda	<R1+2
 20274 06:51DA: 65 03        	adc	<R0+2
 20275 06:51DC: 85 0B        	sta	<R2+2
 20276 06:51DE: A9 10 FB     	lda	#$fb10
 20277 06:51E1: 87 09        	sta	[<R2]
 20278 06:51E3: E6 2D        	inc	<L903+ncc_1
 20279                        ;	}
 20280                        	.line	3524
 20281                        L10396:
 20282                        ;
 20283                        ;	//k_debug_integer("k_vdraw_ui_window::(clientOff
                    setY - height):",(clientOffsetY - pWin->clientRect.y));
 20284                        ;	//k_debug_integer("k_vdraw_ui_window::((clientOf
                    fsetY - height) + borderWidth):",((clientOffsetY - pWin->cli
                    entRect.y) + borderWidth));
 20285                        ;
 20286                        ;	pWin->clientRect.width  = (width - (2*borderWidt
                    h));
 20287                        	.line	3529
 20288 06:51E5: A5 19        	lda	<L903+borderWidth_1
 20289 06:51E7: 0A           	asl	A
 20290 06:51E8: 85 01        	sta	<R0
 20291 06:51EA: 38           	sec
 20292 06:51EB: A5 5A        	lda	<L902+width_0
 20293 06:51ED: E5 01        	sbc	<R0
 20294 06:51EF: A0 32 00     	ldy	#$32
 20295 06:51F2: 97 4C        	sta	[<L902+pWin_0],Y
 20296                        ;	pWin->clientRect.height = height - ((clientOffse
                    tY - pWin->clientRect.y) + borderWidth);
 20297                        	.line	3530
 20298 06:51F4: 38           	sec
 20299 06:51F5: A5 23        	lda	<L903+clientOffsetY_1
 20300 06:51F7: A0 2C 00     	ldy	#$2c
 20301 06:51FA: F7 4C        	sbc	[<L902+pWin_0],Y
 20302 06:51FC: 85 01        	sta	<R0
 20303 06:51FE: 18           	clc
 20304 06:51FF: A5 01        	lda	<R0
 20305 06:5201: 65 19        	adc	<L903+borderWidth_1
 20306 06:5203: 85 05        	sta	<R1
 20307 06:5205: 38           	sec
 20308 06:5206: A5 58        	lda	<L902+height_0
 20309 06:5208: E5 05        	sbc	<R1
 20310 06:520A: A0 34 00     	ldy	#$34
 20311 06:520D: 97 4C        	sta	[<L902+pWin_0],Y
  Thu Jul 22 2021 22:51                                                Page 375


 20312                        ;
 20313                        ;	k_debug_integer("k_vdraw_ui_window::clientRect.w
                    idth:", pWin->clientRect.width);
 20314                        	.line	3532
 20315 06:520F: A0 32 00     	ldy	#$32
 20316 06:5212: B7 4C        	lda	[<L902+pWin_0],Y
 20317 06:5214: 48           	pha
 20318 06:5215: F4 xx xx     	pea	#^L901+108
 20319 06:5218: F4 xx xx     	pea	#<L901+108
 20320 06:521B: 22 xx xx xx  	jsl	~~k_debug_integer
 20321                        ;	k_debug_integer("k_vdraw_ui_window::clientRect.h
                    eight:",pWin->clientRect.height);
 20322                        	.line	3533
 20323 06:521F: A0 34 00     	ldy	#$34
 20324 06:5222: B7 4C        	lda	[<L902+pWin_0],Y
 20325 06:5224: 48           	pha
 20326 06:5225: F4 xx xx     	pea	#^L901+145
 20327 06:5228: F4 xx xx     	pea	#<L901+145
 20328 06:522B: 22 xx xx xx  	jsl	~~k_debug_integer
 20329                        ;
 20330                        ;
 20331                        ;	pWin->clientRect.x      = clientOffsetX;
 20332                        	.line	3536
 20333 06:522F: A5 21        	lda	<L903+clientOffsetX_1
 20334 06:5231: A0 2A 00     	ldy	#$2a
 20335 06:5234: 97 4C        	sta	[<L902+pWin_0],Y
 20336                        ;	pWin->clientRect.y      = clientOffsetY;
 20337                        	.line	3537
 20338 06:5236: A5 23        	lda	<L903+clientOffsetY_1
 20339 06:5238: A0 2C 00     	ldy	#$2c
 20340 06:523B: 97 4C        	sta	[<L902+pWin_0],Y
 20341                        ;
 20342                        ;	if(pWin->win_cxoffset == -1)
 20343                        	.line	3539
 20344                        ;	{
 20345 06:523D: A0 18 00     	ldy	#$18
 20346 06:5240: B7 4C        	lda	[<L902+pWin_0],Y
 20347 06:5242: C9 FF FF     	cmp	#<$ffffffff
 20348 06:5245: F0 03        	beq	L950
 20349 06:5247: 82 20 00     	brl	L10397
 20350                        L950:
 20351                        	.line	3540
 20352                        ;		pWin->win_cxoffset 	= pWin->clientRe
                    ct.x - pWin->win_x;
 20353                        	.line	3541
 20354 06:524A: 38           	sec
 20355 06:524B: A0 2A 00     	ldy	#$2a
 20356 06:524E: B7 4C        	lda	[<L902+pWin_0],Y
 20357 06:5250: A0 0C 00     	ldy	#$c
 20358 06:5253: F7 4C        	sbc	[<L902+pWin_0],Y
 20359 06:5255: A0 18 00     	ldy	#$18
 20360 06:5258: 97 4C        	sta	[<L902+pWin_0],Y
 20361                        ;		pWin->win_cyoffset 	= pWin->clientRe
                    ct.y - pWin->win_y;
 20362                        	.line	3542
 20363 06:525A: 38           	sec
 20364 06:525B: A0 2C 00     	ldy	#$2c
 20365 06:525E: B7 4C        	lda	[<L902+pWin_0],Y
  Thu Jul 22 2021 22:51                                                Page 376


 20366 06:5260: A0 0E 00     	ldy	#$e
 20367 06:5263: F7 4C        	sbc	[<L902+pWin_0],Y
 20368 06:5265: A0 1A 00     	ldy	#$1a
 20369 06:5268: 97 4C        	sta	[<L902+pWin_0],Y
 20370                        ;		//k_debug_strings("k_vdraw_ui_window::pW
                    in->title:",pWin->win_title);
 20371                        ;		//k_debug_integer("k_vdraw_ui_window::pW
                    in->win_cxoffset:",pWin->win_cxoffset);
 20372                        ;		//k_debug_integer("k_vdraw_ui_window::pW
                    in->win_cyoffset:",pWin->win_cyoffset);
 20373                        ;	}
 20374                        	.line	3546
 20375                        ;
 20376                        ;	k_set_rect(&(pWin->nonclientGadgets[ncc].area),
 20377                        L10397:
 20378                        	.line	3548
 20379                        ;			   pWin->win_x + pWin->win_width
                      - 4,
 20380                        ;			   pWin->win_y + pWin->win_heigh
                    t - 4,
 20381                        ;			   4,
 20382                        ;			   4);
 20383 06:526A: F4 04 00     	pea	#<$4
 20384 06:526D: F4 04 00     	pea	#<$4
 20385 06:5270: 18           	clc
 20386 06:5271: A0 0E 00     	ldy	#$e
 20387 06:5274: B7 4C        	lda	[<L902+pWin_0],Y
 20388 06:5276: A0 12 00     	ldy	#$12
 20389 06:5279: 77 4C        	adc	[<L902+pWin_0],Y
 20390 06:527B: 85 01        	sta	<R0
 20391 06:527D: 18           	clc
 20392 06:527E: A9 FC FF     	lda	#$fffc
 20393 06:5281: 65 01        	adc	<R0
 20394 06:5283: 48           	pha
 20395 06:5284: 18           	clc
 20396 06:5285: A0 0C 00     	ldy	#$c
 20397 06:5288: B7 4C        	lda	[<L902+pWin_0],Y
 20398 06:528A: A0 10 00     	ldy	#$10
 20399 06:528D: 77 4C        	adc	[<L902+pWin_0],Y
 20400 06:528F: 85 01        	sta	<R0
 20401 06:5291: 18           	clc
 20402 06:5292: A9 FC FF     	lda	#$fffc
 20403 06:5295: 65 01        	adc	<R0
 20404 06:5297: 48           	pha
 20405 06:5298: A0 00 00     	ldy	#$0
 20406 06:529B: A5 2D        	lda	<L903+ncc_1
 20407 06:529D: 10 01        	bpl	L951
 20408 06:529F: 88           	dey
 20409                        L951:
 20410 06:52A0: 85 01        	sta	<R0
 20411 06:52A2: 84 03        	sty	<R0+2
 20412 06:52A4: F4 00 00     	pea	#^$11
 20413 06:52A7: F4 11 00     	pea	#<$11
 20414 06:52AA: D4 03        	pei	<R0+2
 20415 06:52AC: D4 01        	pei	<R0
 20416                        	xref	~~~lmul
 20417 06:52AE: 22 xx xx xx  	jsl	~~~lmul
 20418 06:52B2: 85 01        	sta	<R0
  Thu Jul 22 2021 22:51                                                Page 377


 20419 06:52B4: 86 03        	stx	<R0+2
 20420 06:52B6: 18           	clc
 20421 06:52B7: A9 38 00     	lda	#$38
 20422 06:52BA: 65 01        	adc	<R0
 20423 06:52BC: 85 05        	sta	<R1
 20424 06:52BE: A9 00 00     	lda	#$0
 20425 06:52C1: 65 03        	adc	<R0+2
 20426 06:52C3: 85 07        	sta	<R1+2
 20427 06:52C5: 18           	clc
 20428 06:52C6: A5 4C        	lda	<L902+pWin_0
 20429 06:52C8: 65 05        	adc	<R1
 20430 06:52CA: 85 01        	sta	<R0
 20431 06:52CC: A5 4E        	lda	<L902+pWin_0+2
 20432 06:52CE: 65 07        	adc	<R1+2
 20433 06:52D0: 85 03        	sta	<R0+2
 20434 06:52D2: D4 03        	pei	<R0+2
 20435 06:52D4: D4 01        	pei	<R0
 20436 06:52D6: 22 00 06 06  	jsl	~~k_set_rect
 20437                        ;	pWin->nonclientGadgets[ncc++].msgType = FX_RESIZ
                    E_WINDOW;
 20438                        	.line	3553
 20439 06:52DA: A0 00 00     	ldy	#$0
 20440 06:52DD: A5 2D        	lda	<L903+ncc_1
 20441 06:52DF: 10 01        	bpl	L952
 20442 06:52E1: 88           	dey
 20443                        L952:
 20444 06:52E2: 85 01        	sta	<R0
 20445 06:52E4: 84 03        	sty	<R0+2
 20446 06:52E6: F4 00 00     	pea	#^$11
 20447 06:52E9: F4 11 00     	pea	#<$11
 20448 06:52EC: D4 03        	pei	<R0+2
 20449 06:52EE: D4 01        	pei	<R0
 20450                        	xref	~~~lmul
 20451 06:52F0: 22 xx xx xx  	jsl	~~~lmul
 20452 06:52F4: 85 01        	sta	<R0
 20453 06:52F6: 86 03        	stx	<R0+2
 20454 06:52F8: 18           	clc
 20455 06:52F9: A9 46 00     	lda	#$46
 20456 06:52FC: 65 4C        	adc	<L902+pWin_0
 20457 06:52FE: 85 05        	sta	<R1
 20458 06:5300: A9 00 00     	lda	#$0
 20459 06:5303: 65 4E        	adc	<L902+pWin_0+2
 20460 06:5305: 85 07        	sta	<R1+2
 20461 06:5307: 18           	clc
 20462 06:5308: A5 05        	lda	<R1
 20463 06:530A: 65 01        	adc	<R0
 20464 06:530C: 85 09        	sta	<R2
 20465 06:530E: A5 07        	lda	<R1+2
 20466 06:5310: 65 03        	adc	<R0+2
 20467 06:5312: 85 0B        	sta	<R2+2
 20468 06:5314: A9 0F FB     	lda	#$fb0f
 20469 06:5317: 87 09        	sta	[<R2]
 20470 06:5319: E6 2D        	inc	<L903+ncc_1
 20471                        ;
 20472                        ;
 20473                        ;	k_draw_rect(pWin->win_x - 1,
 20474                        	.line	3556
 20475                        ;				pWin->win_y - 1,
  Thu Jul 22 2021 22:51                                                Page 378


 20476                        ;				(pWin->win_x) + pWin->wi
                    n_width  ,
 20477                        ;				(pWin->win_y) + pWin->wi
                    n_height ,
 20478                        ;				k_getUIGadgetColor(),
 20479                        ;				0,
 20480                        ;				page);
 20481 06:531B: D4 64        	pei	<L902+page_0
 20482 06:531D: F4 00 00     	pea	#<$0
 20483 06:5320: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 20484 06:5324: 48           	pha
 20485 06:5325: 18           	clc
 20486 06:5326: A0 0E 00     	ldy	#$e
 20487 06:5329: B7 4C        	lda	[<L902+pWin_0],Y
 20488 06:532B: A0 12 00     	ldy	#$12
 20489 06:532E: 77 4C        	adc	[<L902+pWin_0],Y
 20490 06:5330: 48           	pha
 20491 06:5331: 18           	clc
 20492 06:5332: A0 0C 00     	ldy	#$c
 20493 06:5335: B7 4C        	lda	[<L902+pWin_0],Y
 20494 06:5337: A0 10 00     	ldy	#$10
 20495 06:533A: 77 4C        	adc	[<L902+pWin_0],Y
 20496 06:533C: 48           	pha
 20497 06:533D: 18           	clc
 20498 06:533E: A9 FF FF     	lda	#$ffff
 20499 06:5341: A0 0E 00     	ldy	#$e
 20500 06:5344: 77 4C        	adc	[<L902+pWin_0],Y
 20501 06:5346: 48           	pha
 20502 06:5347: 18           	clc
 20503 06:5348: A9 FF FF     	lda	#$ffff
 20504 06:534B: A0 0C 00     	ldy	#$c
 20505 06:534E: 77 4C        	adc	[<L902+pWin_0],Y
 20506 06:5350: 48           	pha
 20507 06:5351: 22 D2 1D 06  	jsl	~~k_draw_rect
 20508                        ;
 20509                        ;	k_draw_rect(pWin->clientRect.x - 1,
 20510                        	.line	3564
 20511                        ;				pWin->clientRect.y - 1,
 20512                        ;				pWin->clientRect.x + pWi
                    n->clientRect.width ,
 20513                        ;				pWin->clientRect.y + pWi
                    n->clientRect.height,
 20514                        ;				k_getUIGadgetColor(),
 20515                        ;				0,
 20516                        ;				page);
 20517 06:5355: D4 64        	pei	<L902+page_0
 20518 06:5357: F4 00 00     	pea	#<$0
 20519 06:535A: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 20520 06:535E: 48           	pha
 20521 06:535F: 18           	clc
 20522 06:5360: A0 2C 00     	ldy	#$2c
 20523 06:5363: B7 4C        	lda	[<L902+pWin_0],Y
 20524 06:5365: A0 34 00     	ldy	#$34
 20525 06:5368: 77 4C        	adc	[<L902+pWin_0],Y
 20526 06:536A: 48           	pha
 20527 06:536B: 18           	clc
 20528 06:536C: A0 2A 00     	ldy	#$2a
 20529 06:536F: B7 4C        	lda	[<L902+pWin_0],Y
  Thu Jul 22 2021 22:51                                                Page 379


 20530 06:5371: A0 32 00     	ldy	#$32
 20531 06:5374: 77 4C        	adc	[<L902+pWin_0],Y
 20532 06:5376: 48           	pha
 20533 06:5377: 18           	clc
 20534 06:5378: A9 FF FF     	lda	#$ffff
 20535 06:537B: A0 2C 00     	ldy	#$2c
 20536 06:537E: 77 4C        	adc	[<L902+pWin_0],Y
 20537 06:5380: 48           	pha
 20538 06:5381: 18           	clc
 20539 06:5382: A9 FF FF     	lda	#$ffff
 20540 06:5385: A0 2A 00     	ldy	#$2a
 20541 06:5388: 77 4C        	adc	[<L902+pWin_0],Y
 20542 06:538A: 48           	pha
 20543 06:538B: 22 D2 1D 06  	jsl	~~k_draw_rect
 20544                        ;	//k_debug_rect("k_vdraw_ui_window:client[resized
                    ]:",&pWin->clientRect);
 20545                        ;
 20546                        ;	k_set_rect(&(pWin->nonclientGadgets[ncc].area),-
                    1,-1,-1,-1);
 20547                        	.line	3573
 20548 06:538F: F4 FF FF     	pea	#<$ffffffff
 20549 06:5392: F4 FF FF     	pea	#<$ffffffff
 20550 06:5395: F4 FF FF     	pea	#<$ffffffff
 20551 06:5398: F4 FF FF     	pea	#<$ffffffff
 20552 06:539B: A0 00 00     	ldy	#$0
 20553 06:539E: A5 2D        	lda	<L903+ncc_1
 20554 06:53A0: 10 01        	bpl	L953
 20555 06:53A2: 88           	dey
 20556                        L953:
 20557 06:53A3: 85 01        	sta	<R0
 20558 06:53A5: 84 03        	sty	<R0+2
 20559 06:53A7: F4 00 00     	pea	#^$11
 20560 06:53AA: F4 11 00     	pea	#<$11
 20561 06:53AD: D4 03        	pei	<R0+2
 20562 06:53AF: D4 01        	pei	<R0
 20563                        	xref	~~~lmul
 20564 06:53B1: 22 xx xx xx  	jsl	~~~lmul
 20565 06:53B5: 85 01        	sta	<R0
 20566 06:53B7: 86 03        	stx	<R0+2
 20567 06:53B9: 18           	clc
 20568 06:53BA: A9 38 00     	lda	#$38
 20569 06:53BD: 65 01        	adc	<R0
 20570 06:53BF: 85 05        	sta	<R1
 20571 06:53C1: A9 00 00     	lda	#$0
 20572 06:53C4: 65 03        	adc	<R0+2
 20573 06:53C6: 85 07        	sta	<R1+2
 20574 06:53C8: 18           	clc
 20575 06:53C9: A5 4C        	lda	<L902+pWin_0
 20576 06:53CB: 65 05        	adc	<R1
 20577 06:53CD: 85 01        	sta	<R0
 20578 06:53CF: A5 4E        	lda	<L902+pWin_0+2
 20579 06:53D1: 65 07        	adc	<R1+2
 20580 06:53D3: 85 03        	sta	<R0+2
 20581 06:53D5: D4 03        	pei	<R0+2
 20582 06:53D7: D4 01        	pei	<R0
 20583 06:53D9: 22 00 06 06  	jsl	~~k_set_rect
 20584                        ;
 20585                        ;
  Thu Jul 22 2021 22:51                                                Page 380


 20586                        ;	//k_debug_strings("k_vdraw_ui_window:","exit");
 20587                        ;}
 20588                        	.line	3577
 20589 06:53DD: 82 B0 F6     	brl	L905
 20590                        	.endblock	3577
 20591             00000048   L902	equ	72
 20592             0000000D   L903	equ	13
 20593 06:53E0:              	ends
 20594                        	efunc
 20595                        	.endfunc	3577,13,72
 20596                        	.line	3577
 20597                        	data
 20598                        L901:
 20599 00:0871: 6B 5F 76 64  	db	$6B,$5F,$76,$64,$72,$61,$77,$5F,$75,$69,
                    $5F,$77,$69,$6E,$64
       00:0875: 72 61 77 5F 
       00:0879: 75 69 5F 77 
       00:087D: 69 6E 64 
 20600 00:0880: 6F 77 3A 3A  	db	$6F,$77,$3A,$3A,$4E,$4F,$54,$20,$52,$45,
                    $4E,$44,$45,$52,$49
       00:0884: 4E 4F 54 20 
       00:0888: 52 45 4E 44 
       00:088C: 45 52 49 
 20601 00:088F: 4E 47 3A 00  	db	$4E,$47,$3A,$00,$6B,$5F,$76,$64,$72,$61,
                    $77,$5F,$75,$69,$5F
       00:0893: 6B 5F 76 64 
       00:0897: 72 61 77 5F 
       00:089B: 75 69 5F 
 20602 00:089E: 77 69 6E 64  	db	$77,$69,$6E,$64,$6F,$77,$3A,$3A,$43,$4C,
                    $49,$45,$4E,$54,$44
       00:08A2: 6F 77 3A 3A 
       00:08A6: 43 4C 49 45 
       00:08AA: 4E 54 44 
 20603 00:08AD: 41 54 41 5F  	db	$41,$54,$41,$5F,$54,$49,$54,$4C,$45,$3A,
                    $00,$6B,$5F,$76,$64
       00:08B1: 54 49 54 4C 
       00:08B5: 45 3A 00 6B 
       00:08B9: 5F 76 64 
 20604 00:08BC: 72 61 77 5F  	db	$72,$61,$77,$5F,$75,$69,$5F,$77,$69,$6E,
                    $64,$6F,$77,$3A,$3A
       00:08C0: 75 69 5F 77 
       00:08C4: 69 6E 64 6F 
       00:08C8: 77 3A 3A 
 20605 00:08CB: 43 4C 49 45  	db	$43,$4C,$49,$45,$4E,$54,$44,$41,$54,$41,
                    $5F,$54,$49,$54,$4C
       00:08CF: 4E 54 44 41 
       00:08D3: 54 41 5F 54 
       00:08D7: 49 54 4C 
 20606 00:08DA: 45 3A 00 6B  	db	$45,$3A,$00,$6B,$5F,$76,$64,$72,$61,$77,
                    $5F,$75,$69,$5F,$77
       00:08DE: 5F 76 64 72 
       00:08E2: 61 77 5F 75 
       00:08E6: 69 5F 77 
 20607 00:08E9: 69 6E 64 6F  	db	$69,$6E,$64,$6F,$77,$3A,$3A,$63,$6C,$69,
                    $65,$6E,$74,$52,$65
       00:08ED: 77 3A 3A 63 
       00:08F1: 6C 69 65 6E 
       00:08F5: 74 52 65 
  Thu Jul 22 2021 22:51                                                Page 381


 20608 00:08F8: 63 74 2E 77  	db	$63,$74,$2E,$77,$69,$64,$74,$68,$3A,$00,
                    $6B,$5F,$76,$64,$72
       00:08FC: 69 64 74 68 
       00:0900: 3A 00 6B 5F 
       00:0904: 76 64 72 
 20609 00:0907: 61 77 5F 75  	db	$61,$77,$5F,$75,$69,$5F,$77,$69,$6E,$64,
                    $6F,$77,$3A,$3A,$63
       00:090B: 69 5F 77 69 
       00:090F: 6E 64 6F 77 
       00:0913: 3A 3A 63 
 20610 00:0916: 6C 69 65 6E  	db	$6C,$69,$65,$6E,$74,$52,$65,$63,$74,$2E,
                    $68,$65,$69,$67,$68
       00:091A: 74 52 65 63 
       00:091E: 74 2E 68 65 
       00:0922: 69 67 68 
 20611 00:0925: 74 3A 00     	db	$74,$3A,$00
 20612 00:0928:              	ends
 20613                        ;
 20614                        ;PMENU k_draw_menu(HMENU hMenu,int color, int bgco
                    lor)
 20615                        ;{
 20616                        	.line	3579
 20617                        	.line	3580
 20618                        	GFX
 20619                        	xdef	~~k_draw_menu
 20620                        	func
 20621                        	.function	3580
 20622                        ~~k_draw_menu:
 20623                        	longa	on
 20624                        	longi	on
 20625 06:53E0: 3B           	tsc
 20626 06:53E1: 38           	sec
 20627 06:53E2: E9 1E 00     	sbc	#L955
 20628 06:53E5: 1B           	tcs
 20629 06:53E6: 0B           	phd
 20630 06:53E7: 5B           	tcd
 20631             00000004   hMenu_0	set	4
 20632             00000008   color_0	set	8
 20633             0000000A   bgcolor_0	set	10
 20634                        	.block	3580
 20635                        ;	FONTMETRIC metric;
 20636                        ;
 20637                        ;	int i = 0;
 20638                        ;
 20639                        ;	int borderTitle = 10;
 20640                        ;	int borderWidth = 3;
 20641                        ;
 20642                        ;	int titleOffsetX = ((PMENU)hMenu)->cx+2;
 20643                        ;	int titleOffsetY = ((PMENU)hMenu)->cy+2;
 20644                        ;	int titleScaler = 0;
 20645                        ;
 20646                        ;	int clientOffsetX = ((PMENU)hMenu)->cx+borderWid
                    th+2;
 20647                        ;	int clientOffsetY = ((PMENU)hMenu)->cy+borderTit
                    le+1;
 20648                        ;
 20649                        ;	int endX = ((PMENU)hMenu)->width + ((PMENU)hMenu
                    )->cx - borderWidth;
  Thu Jul 22 2021 22:51                                                Page 382


 20650                        ;
 20651                        ;
 20652                        ;	k_get_font_metrics(&metric);
 20653             00000000   metric_1	set	0
 20654             00000004   i_1	set	4
 20655             00000006   borderTitle_1	set	6
 20656             00000008   borderWidth_1	set	8
 20657             0000000A   titleOffsetX_1	set	10
 20658             0000000C   titleOffsetY_1	set	12
 20659             0000000E   titleScaler_1	set	14
 20660             00000010   clientOffsetX_1	set	16
 20661             00000012   clientOffsetY_1	set	18
 20662             00000014   endX_1	set	20
 20663                        	.sym	metric,0,10,1,32,35
 20664                        	.sym	i,4,5,1,16
 20665                        	.sym	borderTitle,6,5,1,16
 20666                        	.sym	borderWidth,8,5,1,16
 20667                        	.sym	titleOffsetX,10,5,1,16
 20668                        	.sym	titleOffsetY,12,5,1,16
 20669                        	.sym	titleScaler,14,5,1,16
 20670                        	.sym	clientOffsetX,16,5,1,16
 20671                        	.sym	clientOffsetY,18,5,1,16
 20672                        	.sym	endX,20,5,1,16
 20673                        	.sym	hMenu,4,129,6,32
 20674                        	.sym	color,8,5,6,16
 20675                        	.sym	bgcolor,10,5,6,16
 20676 06:53E8: 64 0D        	stz	<L956+i_1
 20677 06:53EA: A9 0A 00     	lda	#$a
 20678 06:53ED: 85 0F        	sta	<L956+borderTitle_1
 20679 06:53EF: A9 03 00     	lda	#$3
 20680 06:53F2: 85 11        	sta	<L956+borderWidth_1
 20681 06:53F4: 18           	clc
 20682 06:53F5: A9 02 00     	lda	#$2
 20683 06:53F8: 67 22        	adc	[<L955+hMenu_0]
 20684 06:53FA: 85 13        	sta	<L956+titleOffsetX_1
 20685 06:53FC: 18           	clc
 20686 06:53FD: A9 02 00     	lda	#$2
 20687 06:5400: A0 02 00     	ldy	#$2
 20688 06:5403: 77 22        	adc	[<L955+hMenu_0],Y
 20689 06:5405: 85 15        	sta	<L956+titleOffsetY_1
 20690 06:5407: 64 17        	stz	<L956+titleScaler_1
 20691 06:5409: 18           	clc
 20692 06:540A: A7 22        	lda	[<L955+hMenu_0]
 20693 06:540C: 65 11        	adc	<L956+borderWidth_1
 20694 06:540E: 85 01        	sta	<R0
 20695 06:5410: 18           	clc
 20696 06:5411: A9 02 00     	lda	#$2
 20697 06:5414: 65 01        	adc	<R0
 20698 06:5416: 85 19        	sta	<L956+clientOffsetX_1
 20699 06:5418: 18           	clc
 20700 06:5419: A0 02 00     	ldy	#$2
 20701 06:541C: B7 22        	lda	[<L955+hMenu_0],Y
 20702 06:541E: 65 0F        	adc	<L956+borderTitle_1
 20703 06:5420: 85 01        	sta	<R0
 20704 06:5422: A5 01        	lda	<R0
 20705 06:5424: 1A           	ina
 20706 06:5425: 85 1B        	sta	<L956+clientOffsetY_1
 20707 06:5427: 18           	clc
  Thu Jul 22 2021 22:51                                                Page 383


 20708 06:5428: A0 04 00     	ldy	#$4
 20709 06:542B: B7 22        	lda	[<L955+hMenu_0],Y
 20710 06:542D: 67 22        	adc	[<L955+hMenu_0]
 20711 06:542F: 85 01        	sta	<R0
 20712 06:5431: 38           	sec
 20713 06:5432: A5 01        	lda	<R0
 20714 06:5434: E5 11        	sbc	<L956+borderWidth_1
 20715 06:5436: 85 1D        	sta	<L956+endX_1
 20716                        	.line	3598
 20717 06:5438: F4 00 00     	pea	#0
 20718 06:543B: 18           	clc
 20719 06:543C: 7B           	tdc
 20720 06:543D: 69 09 00     	adc	#<L956+metric_1
 20721 06:5440: 48           	pha
 20722 06:5441: 22 B2 23 06  	jsl	~~k_get_font_metrics
 20723                        ;
 20724                        ;
 20725                        ;	//int height = 0;
 20726                        ;	/*
 20727                        ;	PMENU menu = (PMENU)k_mem_allocate_heap(sizeof(M
                    ENU));
 20728                        ;	memset(menu,0,sizeof(MENU));
 20729                        ;
 20730                        ;	menu->cx = cx;
 20731                        ;	menu->cy = cy;
 20732                        ;	menu->fcolor = color;
 20733                        ;	menu->bcolor = bgcolor;
 20734                        ;	menu->pCaption = k_string_copy_string(strupr(tit
                    le));
 20735                        ;
 20736                        ;	k_get_font_metrics(&metric);
 20737                        ;
 20738                        ;	//height = metric.height + (int)(metric.width/4)
                    ;
 20739                        ;
 20740                        ;	menu->height = height;
 20741                        ;	menu->width  = width;
 20742                        ;
 20743                        ;
 20744                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cx:",menu
                    ->cx);
 20745                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cy:",menu
                    ->cy);
 20746                        ;	k_debug_integer("k_vdraw_ui_menu:menu->height:",
                    menu->height);
 20747                        ;	k_debug_integer("k_vdraw_ui_menu:menu->width:",m
                    enu->width);
 20748                        ;	*/
 20749                        ;
 20750                        ;	//k_vdma_fill_rect(cx,cy,width,height,color);
 20751                        ;
 20752                        ;	//k_vdma_fill_rect(cx,cy,width,height,bgcolor); 
                    // +1 on width and height for VDMA
 20753                        ;	k_vdma_fill_rect(((PMENU)hMenu)->cx,((PMENU)hMen
                    u)->cy,((PMENU)hMenu)->width,((PMENU)hMenu)->height,color);
 20754                        	.line	3629
 20755 06:5445: D4 26        	pei	<L955+color_0
 20756 06:5447: A0 06 00     	ldy	#$6
  Thu Jul 22 2021 22:51                                                Page 384


 20757 06:544A: B7 22        	lda	[<L955+hMenu_0],Y
 20758 06:544C: 48           	pha
 20759 06:544D: A0 04 00     	ldy	#$4
 20760 06:5450: B7 22        	lda	[<L955+hMenu_0],Y
 20761 06:5452: 48           	pha
 20762 06:5453: A0 00 00     	ldy	#$0
 20763 06:5456: 5A           	phy
 20764 06:5457: A0 02 00     	ldy	#$2
 20765 06:545A: B7 22        	lda	[<L955+hMenu_0],Y
 20766 06:545C: 7A           	ply
 20767 06:545D: 2A           	rol	A
 20768 06:545E: 6A           	ror	A
 20769 06:545F: 10 01        	bpl	L958
 20770 06:5461: 88           	dey
 20771                        L958:
 20772 06:5462: 85 01        	sta	<R0
 20773 06:5464: 84 03        	sty	<R0+2
 20774 06:5466: D4 03        	pei	<R0+2
 20775 06:5468: D4 01        	pei	<R0
 20776 06:546A: A0 00 00     	ldy	#$0
 20777 06:546D: A7 22        	lda	[<L955+hMenu_0]
 20778 06:546F: 10 01        	bpl	L959
 20779 06:5471: 88           	dey
 20780                        L959:
 20781 06:5472: 85 05        	sta	<R1
 20782 06:5474: 84 07        	sty	<R1+2
 20783 06:5476: D4 07        	pei	<R1+2
 20784 06:5478: D4 05        	pei	<R1
 20785 06:547A: 22 BA 5F 06  	jsl	~~k_vdma_fill_rect
 20786                        ;
 20787                        ;	//k_delay(15);
 20788                        ;
 20789                        ;	//title = strupr(title);
 20790                        ;
 20791                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_ACLOSE,titleOffsetX,titleOffsetY,14);
 20792                        ;	/*
 20793                        ;	titleScaler = (int)(width / metric.width - 4);
 20794                        ;	for(i=0;i<titleScaler;i++)
 20795                        ;	{
 20796                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_LINES,titleOffsetX,titleOffsetY,14);
 20797                        ;	}*/
 20798                        ;
 20799                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,14);
 20800                        	.line	3643
 20801 06:547E: F4 0E 00     	pea	#<$e
 20802 06:5481: D4 15        	pei	<L956+titleOffsetY_1
 20803 06:5483: A5 09        	lda	<L956+metric_1
 20804 06:5485: 0A           	asl	A
 20805 06:5486: 85 01        	sta	<R0
 20806 06:5488: 18           	clc
 20807 06:5489: A9 02 00     	lda	#$2
 20808 06:548C: 65 01        	adc	<R0
 20809 06:548E: 85 05        	sta	<R1
 20810 06:5490: 38           	sec
 20811 06:5491: A5 1D        	lda	<L956+endX_1
  Thu Jul 22 2021 22:51                                                Page 385


 20812 06:5493: E5 05        	sbc	<R1
 20813 06:5495: 48           	pha
 20814 06:5496: F4 04 00     	pea	#<$4
 20815 06:5499: 22 F8 2A 06  	jsl	~~k_put_wingadget_point
 20816                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,14);
 20817                        	.line	3644
 20818 06:549D: F4 0E 00     	pea	#<$e
 20819 06:54A0: D4 15        	pei	<L956+titleOffsetY_1
 20820 06:54A2: 38           	sec
 20821 06:54A3: A5 1D        	lda	<L956+endX_1
 20822 06:54A5: E5 09        	sbc	<L956+metric_1
 20823 06:54A7: 48           	pha
 20824 06:54A8: F4 03 00     	pea	#<$3
 20825 06:54AB: 22 F8 2A 06  	jsl	~~k_put_wingadget_point
 20826                        ;
 20827                        ;	//k_render_wingadget(WINICON_TITLE_BACK,endX - (
                    metric.width*2 + 2),titleOffsetY,14,k_gadget_title_back_call
                    back);
 20828                        ;	//k_render_wingadget(WINICON_TITLE_FRONT,endX - 
                    (metric.width),titleOffsetY,14,k_gadget_title_front_callback
                    );
 20829                        ;
 20830                        ;	i = k_draw_text_point(((PMENU)hMenu)->pCaption,(
                    (PMENU)hMenu)->cx+2+metric.width,titleOffsetY,bgcolor);
 20831                        	.line	3649
 20832 06:54AF: D4 28        	pei	<L955+bgcolor_0
 20833 06:54B1: D4 15        	pei	<L956+titleOffsetY_1
 20834 06:54B3: 18           	clc
 20835 06:54B4: A7 22        	lda	[<L955+hMenu_0]
 20836 06:54B6: 65 09        	adc	<L956+metric_1
 20837 06:54B8: 85 01        	sta	<R0
 20838 06:54BA: 18           	clc
 20839 06:54BB: A9 02 00     	lda	#$2
 20840 06:54BE: 65 01        	adc	<R0
 20841 06:54C0: 48           	pha
 20842 06:54C1: A0 15 00     	ldy	#$15
 20843 06:54C4: B7 22        	lda	[<L955+hMenu_0],Y
 20844 06:54C6: 48           	pha
 20845 06:54C7: A0 13 00     	ldy	#$13
 20846 06:54CA: B7 22        	lda	[<L955+hMenu_0],Y
 20847 06:54CC: 48           	pha
 20848 06:54CD: 22 DB 1F 06  	jsl	~~k_draw_text_point
 20849 06:54D1: 85 0D        	sta	<L956+i_1
 20850                        ;	//k_render_text(title,cx+2+metric.width,titleOff
                    setY,bgcolor,k_text_callback);
 20851                        ;
 20852                        ;
 20853                        ;	return NULL;
 20854                        	.line	3653
 20855 06:54D3: A9 00 00     	lda	#$0
 20856 06:54D6: AA           	tax
 20857 06:54D7: A9 00 00     	lda	#$0
 20858                        L960:
 20859 06:54DA: A8           	tay
 20860 06:54DB: A5 20        	lda	<L955+2
 20861 06:54DD: 85 28        	sta	<L955+2+8
 20862 06:54DF: A5 1F        	lda	<L955+1
  Thu Jul 22 2021 22:51                                                Page 386


 20863 06:54E1: 85 27        	sta	<L955+1+8
 20864 06:54E3: 2B           	pld
 20865 06:54E4: 3B           	tsc
 20866 06:54E5: 18           	clc
 20867 06:54E6: 69 26 00     	adc	#L955+8
 20868 06:54E9: 1B           	tcs
 20869 06:54EA: 98           	tya
 20870 06:54EB: 6B           	rtl
 20871                        ;}
 20872                        	.line	3654
 20873                        	.endblock	3654
 20874             0000001E   L955	equ	30
 20875             00000009   L956	equ	9
 20876 06:54EC:              	ends
 20877                        	efunc
 20878                        	.endfunc	3654,9,30
 20879                        	.line	3654
 20880                        ;
 20881                        ;PMENU k_vdraw_ui_menu(int cx,int cy,int width,int
                     height,LPCSTR title,int color, int bgcolor)
 20882                        ;{
 20883                        	.line	3656
 20884                        	.line	3657
 20885                        	GFX
 20886                        	xdef	~~k_vdraw_ui_menu
 20887                        	func
 20888                        	.function	3657
 20889                        ~~k_vdraw_ui_menu:
 20890                        	longa	on
 20891                        	longi	on
 20892 06:54EC: 3B           	tsc
 20893 06:54ED: 38           	sec
 20894 06:54EE: E9 04 00     	sbc	#L961
 20895 06:54F1: 1B           	tcs
 20896 06:54F2: 0B           	phd
 20897 06:54F3: 5B           	tcd
 20898             00000004   cx_0	set	4
 20899             00000006   cy_0	set	6
 20900             00000008   width_0	set	8
 20901             0000000A   height_0	set	10
 20902             0000000C   title_0	set	12
 20903             00000010   color_0	set	16
 20904             00000012   bgcolor_0	set	18
 20905                        	.block	3657
 20906                        ;	return k_vdraw_ui_menu_ex(cx,cy,width,height,tit
                    le,color,bgcolor,BITMAP_BACK);
 20907                        	.sym	cx,4,5,6,16
 20908                        	.sym	cy,6,5,6,16
 20909                        	.sym	width,8,5,6,16
 20910                        	.sym	height,10,5,6,16
 20911                        	.sym	title,12,142,6,32
 20912                        	.sym	color,16,5,6,16
 20913                        	.sym	bgcolor,18,5,6,16
 20914                        	.line	3658
 20915 06:54F4: F4 08 00     	pea	#<$8
 20916 06:54F7: D4 16        	pei	<L961+bgcolor_0
 20917 06:54F9: D4 14        	pei	<L961+color_0
 20918 06:54FB: D4 12        	pei	<L961+title_0+2
  Thu Jul 22 2021 22:51                                                Page 387


 20919 06:54FD: D4 10        	pei	<L961+title_0
 20920 06:54FF: D4 0E        	pei	<L961+height_0
 20921 06:5501: D4 0C        	pei	<L961+width_0
 20922 06:5503: D4 0A        	pei	<L961+cy_0
 20923 06:5505: D4 08        	pei	<L961+cx_0
 20924 06:5507: 22 25 55 06  	jsl	~~k_vdraw_ui_menu_ex
 20925 06:550B: 85 01        	sta	<R0
 20926 06:550D: 86 03        	stx	<R0+2
 20927 06:550F: A6 03        	ldx	<R0+2
 20928 06:5511: A5 01        	lda	<R0
 20929                        L964:
 20930 06:5513: A8           	tay
 20931 06:5514: A5 06        	lda	<L961+2
 20932 06:5516: 85 16        	sta	<L961+2+16
 20933 06:5518: A5 05        	lda	<L961+1
 20934 06:551A: 85 15        	sta	<L961+1+16
 20935 06:551C: 2B           	pld
 20936 06:551D: 3B           	tsc
 20937 06:551E: 18           	clc
 20938 06:551F: 69 14 00     	adc	#L961+16
 20939 06:5522: 1B           	tcs
 20940 06:5523: 98           	tya
 20941 06:5524: 6B           	rtl
 20942                        ;}
 20943                        	.line	3659
 20944                        	.endblock	3659
 20945             00000004   L961	equ	4
 20946             00000005   L962	equ	5
 20947 06:5525:              	ends
 20948                        	efunc
 20949                        	.endfunc	3659,5,4
 20950                        	.line	3659
 20951                        ;
 20952                        ;PMENU k_vdraw_ui_menu_ex(int cx,int cy,int width,
                    int height,LPCSTR title,int color, int bgcolor,UINT page)
 20953                        ;{
 20954                        	.line	3661
 20955                        	.line	3662
 20956                        	GFX
 20957                        	xdef	~~k_vdraw_ui_menu_ex
 20958                        	func
 20959                        	.function	3662
 20960                        ~~k_vdraw_ui_menu_ex:
 20961                        	longa	on
 20962                        	longi	on
 20963 06:5525: 3B           	tsc
 20964 06:5526: 38           	sec
 20965 06:5527: E9 1E 00     	sbc	#L965
 20966 06:552A: 1B           	tcs
 20967 06:552B: 0B           	phd
 20968 06:552C: 5B           	tcd
 20969             00000004   cx_0	set	4
 20970             00000006   cy_0	set	6
 20971             00000008   width_0	set	8
 20972             0000000A   height_0	set	10
 20973             0000000C   title_0	set	12
 20974             00000010   color_0	set	16
 20975             00000012   bgcolor_0	set	18
  Thu Jul 22 2021 22:51                                                Page 388


 20976             00000014   page_0	set	20
 20977                        	.block	3662
 20978                        ;	FONTMETRIC metric;
 20979                        ;	
 20980                        ;	int i = 0;
 20981                        ;	
 20982                        ;	int borderTitle = 10;
 20983                        ;	int borderWidth = 3;
 20984                        ;
 20985                        ;	int titleOffsetX = cx+2;
 20986                        ;	int titleOffsetY = cy+2;
 20987                        ;	int titleScaler = 0;
 20988                        ;	
 20989                        ;	int clientOffsetX = cx+borderWidth+2;
 20990                        ;	int clientOffsetY = cy+borderTitle+1;
 20991                        ;	
 20992                        ;	int endX = width + cx - borderWidth;
 20993                        ;	
 20994                        ;
 20995                        ;	k_get_font_metrics(&metric);
 20996             00000000   metric_1	set	0
 20997             00000004   i_1	set	4
 20998             00000006   borderTitle_1	set	6
 20999             00000008   borderWidth_1	set	8
 21000             0000000A   titleOffsetX_1	set	10
 21001             0000000C   titleOffsetY_1	set	12
 21002             0000000E   titleScaler_1	set	14
 21003             00000010   clientOffsetX_1	set	16
 21004             00000012   clientOffsetY_1	set	18
 21005             00000014   endX_1	set	20
 21006                        	.sym	metric,0,10,1,32,35
 21007                        	.sym	i,4,5,1,16
 21008                        	.sym	borderTitle,6,5,1,16
 21009                        	.sym	borderWidth,8,5,1,16
 21010                        	.sym	titleOffsetX,10,5,1,16
 21011                        	.sym	titleOffsetY,12,5,1,16
 21012                        	.sym	titleScaler,14,5,1,16
 21013                        	.sym	clientOffsetX,16,5,1,16
 21014                        	.sym	clientOffsetY,18,5,1,16
 21015                        	.sym	endX,20,5,1,16
 21016                        	.sym	cx,4,5,6,16
 21017                        	.sym	cy,6,5,6,16
 21018                        	.sym	width,8,5,6,16
 21019                        	.sym	height,10,5,6,16
 21020                        	.sym	title,12,142,6,32
 21021                        	.sym	color,16,5,6,16
 21022                        	.sym	bgcolor,18,5,6,16
 21023                        	.sym	page,20,16,6,16
 21024 06:552D: 64 0D        	stz	<L966+i_1
 21025 06:552F: A9 0A 00     	lda	#$a
 21026 06:5532: 85 0F        	sta	<L966+borderTitle_1
 21027 06:5534: A9 03 00     	lda	#$3
 21028 06:5537: 85 11        	sta	<L966+borderWidth_1
 21029 06:5539: 18           	clc
 21030 06:553A: A9 02 00     	lda	#$2
 21031 06:553D: 65 22        	adc	<L965+cx_0
 21032 06:553F: 85 13        	sta	<L966+titleOffsetX_1
 21033 06:5541: 18           	clc
  Thu Jul 22 2021 22:51                                                Page 389


 21034 06:5542: A9 02 00     	lda	#$2
 21035 06:5545: 65 24        	adc	<L965+cy_0
 21036 06:5547: 85 15        	sta	<L966+titleOffsetY_1
 21037 06:5549: 64 17        	stz	<L966+titleScaler_1
 21038 06:554B: 18           	clc
 21039 06:554C: A5 22        	lda	<L965+cx_0
 21040 06:554E: 65 11        	adc	<L966+borderWidth_1
 21041 06:5550: 85 01        	sta	<R0
 21042 06:5552: 18           	clc
 21043 06:5553: A9 02 00     	lda	#$2
 21044 06:5556: 65 01        	adc	<R0
 21045 06:5558: 85 19        	sta	<L966+clientOffsetX_1
 21046 06:555A: 18           	clc
 21047 06:555B: A5 24        	lda	<L965+cy_0
 21048 06:555D: 65 0F        	adc	<L966+borderTitle_1
 21049 06:555F: 85 01        	sta	<R0
 21050 06:5561: A5 01        	lda	<R0
 21051 06:5563: 1A           	ina
 21052 06:5564: 85 1B        	sta	<L966+clientOffsetY_1
 21053 06:5566: 18           	clc
 21054 06:5567: A5 26        	lda	<L965+width_0
 21055 06:5569: 65 22        	adc	<L965+cx_0
 21056 06:556B: 85 01        	sta	<R0
 21057 06:556D: 38           	sec
 21058 06:556E: A5 01        	lda	<R0
 21059 06:5570: E5 11        	sbc	<L966+borderWidth_1
 21060 06:5572: 85 1D        	sta	<L966+endX_1
 21061                        	.line	3680
 21062 06:5574: F4 00 00     	pea	#0
 21063 06:5577: 18           	clc
 21064 06:5578: 7B           	tdc
 21065 06:5579: 69 09 00     	adc	#<L966+metric_1
 21066 06:557C: 48           	pha
 21067 06:557D: 22 B2 23 06  	jsl	~~k_get_font_metrics
 21068                        ;
 21069                        ;	//k_debug_integer("k_vdraw_ui_menu::width:",widt
                    h);
 21070                        ;	//k_debug_integer("k_vdraw_ui_menu::height:",hei
                    ght);
 21071                        ;	//k_debug_strings("k_vdraw_ui_menu::title:",(LPS
                    TR)title);
 21072                        ;	//k_debug_integer("k_vdraw_ui_menu::bgcolor:",bg
                    color);
 21073                        ;
 21074                        ;	//int height = 0;
 21075                        ;	/*
 21076                        ;	PMENU menu = (PMENU)k_mem_allocate_heap(sizeof(M
                    ENU));
 21077                        ;	memset(menu,0,sizeof(MENU));
 21078                        ;
 21079                        ;	menu->cx = cx;
 21080                        ;	menu->cy = cy;
 21081                        ;	menu->fcolor = color;
 21082                        ;	menu->bcolor = bgcolor;
 21083                        ;	menu->pCaption = k_string_copy_string(strupr(tit
                    le));
 21084                        ;
 21085                        ;	k_get_font_metrics(&metric);
  Thu Jul 22 2021 22:51                                                Page 390


 21086                        ;	
 21087                        ;	//height = metric.height + (int)(metric.width/4)
                    ;
 21088                        ;
 21089                        ;	menu->height = height;
 21090                        ;	menu->width  = width;
 21091                        ;
 21092                        ;
 21093                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cx:",menu
                    ->cx);
 21094                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cy:",menu
                    ->cy);
 21095                        ;	k_debug_integer("k_vdraw_ui_menu:menu->height:",
                    menu->height);
 21096                        ;	k_debug_integer("k_vdraw_ui_menu:menu->width:",m
                    enu->width);
 21097                        ;	*/
 21098                        ;
 21099                        ;	//k_vdma_fill_rect(cx,cy,width,height,color);
 21100                        ;
 21101                        ;	//k_vdma_fill_rect(cx,cy,width,height,bgcolor); 
                    // +1 on width and height for VDMA
 21102                        ;	k_vdma_fill_rect_ex(cx,cy,width ,height,0,BITMAP
                    _FRONT);//k_getUIMenuColor());
 21103                        	.line	3715
 21104 06:5581: F4 00 00     	pea	#<$0
 21105 06:5584: F4 00 00     	pea	#<$0
 21106 06:5587: D4 28        	pei	<L965+height_0
 21107 06:5589: D4 26        	pei	<L965+width_0
 21108 06:558B: A0 00 00     	ldy	#$0
 21109 06:558E: A5 24        	lda	<L965+cy_0
 21110 06:5590: 10 01        	bpl	L968
 21111 06:5592: 88           	dey
 21112                        L968:
 21113 06:5593: 85 01        	sta	<R0
 21114 06:5595: 84 03        	sty	<R0+2
 21115 06:5597: D4 03        	pei	<R0+2
 21116 06:5599: D4 01        	pei	<R0
 21117 06:559B: A0 00 00     	ldy	#$0
 21118 06:559E: A5 22        	lda	<L965+cx_0
 21119 06:55A0: 10 01        	bpl	L969
 21120 06:55A2: 88           	dey
 21121                        L969:
 21122 06:55A3: 85 05        	sta	<R1
 21123 06:55A5: 84 07        	sty	<R1+2
 21124 06:55A7: D4 07        	pei	<R1+2
 21125 06:55A9: D4 05        	pei	<R1
 21126 06:55AB: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 21127                        ;	k_vdma_fill_rect_ex(cx,cy,width ,height,bgcolor,
                    BITMAP_BACK);
 21128                        	.line	3716
 21129 06:55AF: F4 08 00     	pea	#<$8
 21130 06:55B2: D4 30        	pei	<L965+bgcolor_0
 21131 06:55B4: D4 28        	pei	<L965+height_0
 21132 06:55B6: D4 26        	pei	<L965+width_0
 21133 06:55B8: A0 00 00     	ldy	#$0
 21134 06:55BB: A5 24        	lda	<L965+cy_0
 21135 06:55BD: 10 01        	bpl	L970
  Thu Jul 22 2021 22:51                                                Page 391


 21136 06:55BF: 88           	dey
 21137                        L970:
 21138 06:55C0: 85 01        	sta	<R0
 21139 06:55C2: 84 03        	sty	<R0+2
 21140 06:55C4: D4 03        	pei	<R0+2
 21141 06:55C6: D4 01        	pei	<R0
 21142 06:55C8: A0 00 00     	ldy	#$0
 21143 06:55CB: A5 22        	lda	<L965+cx_0
 21144 06:55CD: 10 01        	bpl	L971
 21145 06:55CF: 88           	dey
 21146                        L971:
 21147 06:55D0: 85 05        	sta	<R1
 21148 06:55D2: 84 07        	sty	<R1+2
 21149 06:55D4: D4 07        	pei	<R1+2
 21150 06:55D6: D4 05        	pei	<R1
 21151 06:55D8: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 21152                        ;	//k_delay(15);
 21153                        ;	
 21154                        ;	//title = strupr(title);
 21155                        ;	
 21156                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_ACLOSE,titleOffsetX,titleOffsetY,14);	
 21157                        ;	/*
 21158                        ;	titleScaler = (int)(width / metric.width - 4);
 21159                        ;	for(i=0;i<titleScaler;i++)
 21160                        ;	{
 21161                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_LINES,titleOffsetX,titleOffsetY,14);	
 21162                        ;	}*/
 21163                        ;
 21164                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,color);//k_getUIGadgetColo
                    r());
 21165                        	.line	3729
 21166 06:55DC: D4 2E        	pei	<L965+color_0
 21167 06:55DE: D4 15        	pei	<L966+titleOffsetY_1
 21168 06:55E0: A5 09        	lda	<L966+metric_1
 21169 06:55E2: 0A           	asl	A
 21170 06:55E3: 85 01        	sta	<R0
 21171 06:55E5: 18           	clc
 21172 06:55E6: A9 02 00     	lda	#$2
 21173 06:55E9: 65 01        	adc	<R0
 21174 06:55EB: 85 05        	sta	<R1
 21175 06:55ED: 38           	sec
 21176 06:55EE: A5 1D        	lda	<L966+endX_1
 21177 06:55F0: E5 05        	sbc	<R1
 21178 06:55F2: 48           	pha
 21179 06:55F3: F4 04 00     	pea	#<$4
 21180 06:55F6: 22 F8 2A 06  	jsl	~~k_put_wingadget_point
 21181                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,color);//k_getUIGadgetColor());
 21182                        	.line	3730
 21183 06:55FA: D4 2E        	pei	<L965+color_0
 21184 06:55FC: D4 15        	pei	<L966+titleOffsetY_1
 21185 06:55FE: 38           	sec
 21186 06:55FF: A5 1D        	lda	<L966+endX_1
 21187 06:5601: E5 09        	sbc	<L966+metric_1
 21188 06:5603: 48           	pha
  Thu Jul 22 2021 22:51                                                Page 392


 21189 06:5604: F4 03 00     	pea	#<$3
 21190 06:5607: 22 F8 2A 06  	jsl	~~k_put_wingadget_point
 21191                        ;
 21192                        ;	//k_render_wingadget(WINICON_TITLE_BACK,endX - (
                    metric.width*2 + 2),titleOffsetY,14,k_gadget_title_back_call
                    back);
 21193                        ;	//k_render_wingadget(WINICON_TITLE_FRONT,endX - 
                    (metric.width),titleOffsetY,14,k_gadget_title_front_callback
                    );
 21194                        ;
 21195                        ;	if(title)
 21196                        	.line	3735
 21197                        ;		i = k_draw_text_point(title,cx+2+metric.
                    width,titleOffsetY,color);//k_getUIGadgetColor());
 21198 06:560B: A5 2A        	lda	<L965+title_0
 21199 06:560D: 05 2C        	ora	<L965+title_0+2
 21200 06:560F: D0 03        	bne	L972
 21201 06:5611: 82 1C 00     	brl	L10398
 21202                        L972:
 21203                        	.line	3736
 21204 06:5614: D4 2E        	pei	<L965+color_0
 21205 06:5616: D4 15        	pei	<L966+titleOffsetY_1
 21206 06:5618: 18           	clc
 21207 06:5619: A5 22        	lda	<L965+cx_0
 21208 06:561B: 65 09        	adc	<L966+metric_1
 21209 06:561D: 85 01        	sta	<R0
 21210 06:561F: 18           	clc
 21211 06:5620: A9 02 00     	lda	#$2
 21212 06:5623: 65 01        	adc	<R0
 21213 06:5625: 48           	pha
 21214 06:5626: D4 2C        	pei	<L965+title_0+2
 21215 06:5628: D4 2A        	pei	<L965+title_0
 21216 06:562A: 22 DB 1F 06  	jsl	~~k_draw_text_point
 21217 06:562E: 85 0D        	sta	<L966+i_1
 21218                        ;	//k_render_text(title,cx+2+metric.width,titleOff
                    setY,bgcolor,k_text_callback);
 21219                        ;
 21220                        ;	
 21221                        ;	return NULL;
 21222                        L10398:
 21223                        	.line	3740
 21224 06:5630: A9 00 00     	lda	#$0
 21225 06:5633: AA           	tax
 21226 06:5634: A9 00 00     	lda	#$0
 21227                        L973:
 21228 06:5637: A8           	tay
 21229 06:5638: A5 20        	lda	<L965+2
 21230 06:563A: 85 32        	sta	<L965+2+18
 21231 06:563C: A5 1F        	lda	<L965+1
 21232 06:563E: 85 31        	sta	<L965+1+18
 21233 06:5640: 2B           	pld
 21234 06:5641: 3B           	tsc
 21235 06:5642: 18           	clc
 21236 06:5643: 69 30 00     	adc	#L965+18
 21237 06:5646: 1B           	tcs
 21238 06:5647: 98           	tya
 21239 06:5648: 6B           	rtl
 21240                        ;}
  Thu Jul 22 2021 22:51                                                Page 393


 21241                        	.line	3741
 21242                        	.endblock	3741
 21243             0000001E   L965	equ	30
 21244             00000009   L966	equ	9
 21245 06:5649:              	ends
 21246                        	efunc
 21247                        	.endfunc	3741,9,30
 21248                        	.line	3741
 21249                        ;
 21250                        ;
 21251                        ;PMENU k_vdraw_ui_menu_with_rect(int cx,int cy,int
                     width,int height,LPCSTR title,int color, int bgcolor,LPVOID
                     *prects)
 21252                        ;{
 21253                        	.line	3744
 21254                        	.line	3745
 21255                        	GFX
 21256                        	xdef	~~k_vdraw_ui_menu_with_rect
 21257                        	func
 21258                        	.function	3745
 21259                        ~~k_vdraw_ui_menu_with_rect:
 21260                        	longa	on
 21261                        	longi	on
 21262 06:5649: 3B           	tsc
 21263 06:564A: 38           	sec
 21264 06:564B: E9 1E 00     	sbc	#L974
 21265 06:564E: 1B           	tcs
 21266 06:564F: 0B           	phd
 21267 06:5650: 5B           	tcd
 21268             00000004   cx_0	set	4
 21269             00000006   cy_0	set	6
 21270             00000008   width_0	set	8
 21271             0000000A   height_0	set	10
 21272             0000000C   title_0	set	12
 21273             00000010   color_0	set	16
 21274             00000012   bgcolor_0	set	18
 21275             00000014   prects_0	set	20
 21276                        	.block	3745
 21277                        ;	FONTMETRIC metric;
 21278                        ;
 21279                        ;	int i = 0;
 21280                        ;
 21281                        ;	int borderTitle = 10;
 21282                        ;	int borderWidth = 3;
 21283                        ;
 21284                        ;	int titleOffsetX = cx+2;
 21285                        ;	int titleOffsetY = cy+2;
 21286                        ;	int titleScaler = 0;
 21287                        ;
 21288                        ;	int clientOffsetX = cx+borderWidth+2;
 21289                        ;	int clientOffsetY = cy+borderTitle+1;
 21290                        ;
 21291                        ;	int endX = width + cx - borderWidth;
 21292                        ;
 21293                        ;
 21294                        ;	k_get_font_metrics(&metric);
 21295             00000000   metric_1	set	0
 21296             00000004   i_1	set	4
  Thu Jul 22 2021 22:51                                                Page 394


 21297             00000006   borderTitle_1	set	6
 21298             00000008   borderWidth_1	set	8
 21299             0000000A   titleOffsetX_1	set	10
 21300             0000000C   titleOffsetY_1	set	12
 21301             0000000E   titleScaler_1	set	14
 21302             00000010   clientOffsetX_1	set	16
 21303             00000012   clientOffsetY_1	set	18
 21304             00000014   endX_1	set	20
 21305                        	.sym	metric,0,10,1,32,35
 21306                        	.sym	i,4,5,1,16
 21307                        	.sym	borderTitle,6,5,1,16
 21308                        	.sym	borderWidth,8,5,1,16
 21309                        	.sym	titleOffsetX,10,5,1,16
 21310                        	.sym	titleOffsetY,12,5,1,16
 21311                        	.sym	titleScaler,14,5,1,16
 21312                        	.sym	clientOffsetX,16,5,1,16
 21313                        	.sym	clientOffsetY,18,5,1,16
 21314                        	.sym	endX,20,5,1,16
 21315                        	.sym	cx,4,5,6,16
 21316                        	.sym	cy,6,5,6,16
 21317                        	.sym	width,8,5,6,16
 21318                        	.sym	height,10,5,6,16
 21319                        	.sym	title,12,142,6,32
 21320                        	.sym	color,16,5,6,16
 21321                        	.sym	bgcolor,18,5,6,16
 21322                        	.sym	prects,20,1153,6,32
 21323 06:5651: 64 0D        	stz	<L975+i_1
 21324 06:5653: A9 0A 00     	lda	#$a
 21325 06:5656: 85 0F        	sta	<L975+borderTitle_1
 21326 06:5658: A9 03 00     	lda	#$3
 21327 06:565B: 85 11        	sta	<L975+borderWidth_1
 21328 06:565D: 18           	clc
 21329 06:565E: A9 02 00     	lda	#$2
 21330 06:5661: 65 22        	adc	<L974+cx_0
 21331 06:5663: 85 13        	sta	<L975+titleOffsetX_1
 21332 06:5665: 18           	clc
 21333 06:5666: A9 02 00     	lda	#$2
 21334 06:5669: 65 24        	adc	<L974+cy_0
 21335 06:566B: 85 15        	sta	<L975+titleOffsetY_1
 21336 06:566D: 64 17        	stz	<L975+titleScaler_1
 21337 06:566F: 18           	clc
 21338 06:5670: A5 22        	lda	<L974+cx_0
 21339 06:5672: 65 11        	adc	<L975+borderWidth_1
 21340 06:5674: 85 01        	sta	<R0
 21341 06:5676: 18           	clc
 21342 06:5677: A9 02 00     	lda	#$2
 21343 06:567A: 65 01        	adc	<R0
 21344 06:567C: 85 19        	sta	<L975+clientOffsetX_1
 21345 06:567E: 18           	clc
 21346 06:567F: A5 24        	lda	<L974+cy_0
 21347 06:5681: 65 0F        	adc	<L975+borderTitle_1
 21348 06:5683: 85 01        	sta	<R0
 21349 06:5685: A5 01        	lda	<R0
 21350 06:5687: 1A           	ina
 21351 06:5688: 85 1B        	sta	<L975+clientOffsetY_1
 21352 06:568A: 18           	clc
 21353 06:568B: A5 26        	lda	<L974+width_0
 21354 06:568D: 65 22        	adc	<L974+cx_0
  Thu Jul 22 2021 22:51                                                Page 395


 21355 06:568F: 85 01        	sta	<R0
 21356 06:5691: 38           	sec
 21357 06:5692: A5 01        	lda	<R0
 21358 06:5694: E5 11        	sbc	<L975+borderWidth_1
 21359 06:5696: 85 1D        	sta	<L975+endX_1
 21360                        	.line	3763
 21361 06:5698: F4 00 00     	pea	#0
 21362 06:569B: 18           	clc
 21363 06:569C: 7B           	tdc
 21364 06:569D: 69 09 00     	adc	#<L975+metric_1
 21365 06:56A0: 48           	pha
 21366 06:56A1: 22 B2 23 06  	jsl	~~k_get_font_metrics
 21367                        ;
 21368                        ;
 21369                        ;	//int height = 0;
 21370                        ;	/*
 21371                        ;	PMENU menu = (PMENU)k_mem_allocate_heap(sizeof(M
                    ENU));
 21372                        ;	memset(menu,0,sizeof(MENU));
 21373                        ;
 21374                        ;	menu->cx = cx;
 21375                        ;	menu->cy = cy;
 21376                        ;	menu->fcolor = color;
 21377                        ;	menu->bcolor = bgcolor;
 21378                        ;	menu->pCaption = k_string_copy_string(strupr(tit
                    le));
 21379                        ;
 21380                        ;	k_get_font_metrics(&metric);
 21381                        ;
 21382                        ;	//height = metric.height + (int)(metric.width/4)
                    ;
 21383                        ;
 21384                        ;	menu->height = height;
 21385                        ;	menu->width  = width;
 21386                        ;
 21387                        ;
 21388                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cx:",menu
                    ->cx);
 21389                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cy:",menu
                    ->cy);
 21390                        ;	k_debug_integer("k_vdraw_ui_menu:menu->height:",
                    menu->height);
 21391                        ;	k_debug_integer("k_vdraw_ui_menu:menu->width:",m
                    enu->width);
 21392                        ;	*/
 21393                        ;
 21394                        ;	//k_vdma_fill_rect(cx,cy,width,height,color);
 21395                        ;
 21396                        ;	//k_vdma_fill_rect(cx,cy,width,height,bgcolor); 
                    // +1 on width and height for VDMA
 21397                        ;	k_vdma_fill_rect(cx,cy,width,height,color);
 21398                        	.line	3794
 21399 06:56A5: D4 2E        	pei	<L974+color_0
 21400 06:56A7: D4 28        	pei	<L974+height_0
 21401 06:56A9: D4 26        	pei	<L974+width_0
 21402 06:56AB: A0 00 00     	ldy	#$0
 21403 06:56AE: A5 24        	lda	<L974+cy_0
 21404 06:56B0: 10 01        	bpl	L977
  Thu Jul 22 2021 22:51                                                Page 396


 21405 06:56B2: 88           	dey
 21406                        L977:
 21407 06:56B3: 85 01        	sta	<R0
 21408 06:56B5: 84 03        	sty	<R0+2
 21409 06:56B7: D4 03        	pei	<R0+2
 21410 06:56B9: D4 01        	pei	<R0
 21411 06:56BB: A0 00 00     	ldy	#$0
 21412 06:56BE: A5 22        	lda	<L974+cx_0
 21413 06:56C0: 10 01        	bpl	L978
 21414 06:56C2: 88           	dey
 21415                        L978:
 21416 06:56C3: 85 05        	sta	<R1
 21417 06:56C5: 84 07        	sty	<R1+2
 21418 06:56C7: D4 07        	pei	<R1+2
 21419 06:56C9: D4 05        	pei	<R1
 21420 06:56CB: 22 BA 5F 06  	jsl	~~k_vdma_fill_rect
 21421                        ;
 21422                        ;	//k_delay(15);
 21423                        ;
 21424                        ;	//title = strupr(title);
 21425                        ;
 21426                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_ACLOSE,titleOffsetX,titleOffsetY,14);
 21427                        ;	/*
 21428                        ;	titleScaler = (int)(width / metric.width - 4);
 21429                        ;	for(i=0;i<titleScaler;i++)
 21430                        ;	{
 21431                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_LINES,titleOffsetX,titleOffsetY,14);
 21432                        ;	}*/
 21433                        ;
 21434                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,14);
 21435                        	.line	3808
 21436 06:56CF: F4 0E 00     	pea	#<$e
 21437 06:56D2: D4 15        	pei	<L975+titleOffsetY_1
 21438 06:56D4: A5 09        	lda	<L975+metric_1
 21439 06:56D6: 0A           	asl	A
 21440 06:56D7: 85 01        	sta	<R0
 21441 06:56D9: 18           	clc
 21442 06:56DA: A9 02 00     	lda	#$2
 21443 06:56DD: 65 01        	adc	<R0
 21444 06:56DF: 85 05        	sta	<R1
 21445 06:56E1: 38           	sec
 21446 06:56E2: A5 1D        	lda	<L975+endX_1
 21447 06:56E4: E5 05        	sbc	<R1
 21448 06:56E6: 48           	pha
 21449 06:56E7: F4 04 00     	pea	#<$4
 21450 06:56EA: 22 F8 2A 06  	jsl	~~k_put_wingadget_point
 21451                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,14);
 21452                        	.line	3809
 21453 06:56EE: F4 0E 00     	pea	#<$e
 21454 06:56F1: D4 15        	pei	<L975+titleOffsetY_1
 21455 06:56F3: 38           	sec
 21456 06:56F4: A5 1D        	lda	<L975+endX_1
 21457 06:56F6: E5 09        	sbc	<L975+metric_1
 21458 06:56F8: 48           	pha
  Thu Jul 22 2021 22:51                                                Page 397


 21459 06:56F9: F4 03 00     	pea	#<$3
 21460 06:56FC: 22 F8 2A 06  	jsl	~~k_put_wingadget_point
 21461                        ;
 21462                        ;	//k_render_wingadget(WINICON_TITLE_BACK,endX - (
                    metric.width*2 + 2),titleOffsetY,14,k_gadget_title_back_call
                    back);
 21463                        ;	//k_render_wingadget(WINICON_TITLE_FRONT,endX - 
                    (metric.width),titleOffsetY,14,k_gadget_title_front_callback
                    );
 21464                        ;
 21465                        ;	//i = k_draw_text_point(title,cx+2+metric.width,
                    titleOffsetY,bgcolor);
 21466                        ;	//k_render_text(title,cx+2+metric.width,titleOff
                    setY,bgcolor,k_text_callback);
 21467                        ;
 21468                        ;
 21469                        ;	return NULL;
 21470                        	.line	3818
 21471 06:5700: A9 00 00     	lda	#$0
 21472 06:5703: AA           	tax
 21473 06:5704: A9 00 00     	lda	#$0
 21474                        L979:
 21475 06:5707: A8           	tay
 21476 06:5708: A5 20        	lda	<L974+2
 21477 06:570A: 85 34        	sta	<L974+2+20
 21478 06:570C: A5 1F        	lda	<L974+1
 21479 06:570E: 85 33        	sta	<L974+1+20
 21480 06:5710: 2B           	pld
 21481 06:5711: 3B           	tsc
 21482 06:5712: 18           	clc
 21483 06:5713: 69 32 00     	adc	#L974+20
 21484 06:5716: 1B           	tcs
 21485 06:5717: 98           	tya
 21486 06:5718: 6B           	rtl
 21487                        ;}
 21488                        	.line	3819
 21489                        	.endblock	3819
 21490             0000001E   L974	equ	30
 21491             00000009   L975	equ	9
 21492 06:5719:              	ends
 21493                        	efunc
 21494                        	.endfunc	3819,9,30
 21495                        	.line	3819
 21496                        ;
 21497                        ;
 21498                        ;
 21499                        ;void k_gadget_title_front_callback(PWINDOW gadget
                    Window)
 21500                        ;{
 21501                        	.line	3823
 21502                        	.line	3824
 21503                        	GFX
 21504                        	xdef	~~k_gadget_title_front_callback
 21505                        	func
 21506                        	.function	3824
 21507                        ~~k_gadget_title_front_callback:
 21508                        	longa	on
 21509                        	longi	on
  Thu Jul 22 2021 22:51                                                Page 398


 21510 06:5719: 3B           	tsc
 21511 06:571A: 38           	sec
 21512 06:571B: E9 04 00     	sbc	#L980
 21513 06:571E: 1B           	tcs
 21514 06:571F: 0B           	phd
 21515 06:5720: 5B           	tcd
 21516             00000004   gadgetWindow_0	set	4
 21517                        	.block	3824
 21518                        ;	k_debug_message("k_gadget_title_front_callback:c
                    licked:",gadgetWindow->win_class);
 21519                        	.sym	gadgetWindow,4,138,6,32,33
 21520                        	.line	3825
 21521 06:5721: 18           	clc
 21522 06:5722: A9 6E 01     	lda	#$16e
 21523 06:5725: 65 08        	adc	<L980+gadgetWindow_0
 21524 06:5727: 85 01        	sta	<R0
 21525 06:5729: A9 00 00     	lda	#$0
 21526 06:572C: 65 0A        	adc	<L980+gadgetWindow_0+2
 21527 06:572E: 85 03        	sta	<R0+2
 21528 06:5730: D4 03        	pei	<R0+2
 21529 06:5732: D4 01        	pei	<R0
 21530 06:5734: F4 xx xx     	pea	#^L954
 21531 06:5737: F4 xx xx     	pea	#<L954
 21532 06:573A: 22 xx xx xx  	jsl	~~k_debug_message
 21533                        ;	k_send_message(NULL,FX_WINDOW_TOFRONT,NULL,0);
 21534                        	.line	3826
 21535 06:573E: F4 00 00     	pea	#<$0
 21536 06:5741: F4 00 00     	pea	#^$0
 21537 06:5744: F4 00 00     	pea	#<$0
 21538 06:5747: F4 30 0F     	pea	#<$f30
 21539 06:574A: F4 00 00     	pea	#^$0
 21540 06:574D: F4 00 00     	pea	#<$0
 21541 06:5750: 22 xx xx xx  	jsl	~~k_send_message
 21542                        ;	return;
 21543                        	.line	3827
 21544                        L983:
 21545 06:5754: A5 06        	lda	<L980+2
 21546 06:5756: 85 0A        	sta	<L980+2+4
 21547 06:5758: A5 05        	lda	<L980+1
 21548 06:575A: 85 09        	sta	<L980+1+4
 21549 06:575C: 2B           	pld
 21550 06:575D: 3B           	tsc
 21551 06:575E: 18           	clc
 21552 06:575F: 69 08 00     	adc	#L980+4
 21553 06:5762: 1B           	tcs
 21554 06:5763: 6B           	rtl
 21555                        ;}
 21556                        	.line	3828
 21557                        	.endblock	3828
 21558             00000004   L980	equ	4
 21559             00000005   L981	equ	5
 21560 06:5764:              	ends
 21561                        	efunc
 21562                        	.endfunc	3828,5,4
 21563                        	.line	3828
 21564                        	data
 21565                        L954:
 21566 00:0928: 6B 5F 67 61  	db	$6B,$5F,$67,$61,$64,$67,$65,$74,$5F,$74,
  Thu Jul 22 2021 22:51                                                Page 399


                    $69,$74,$6C,$65,$5F
       00:092C: 64 67 65 74 
       00:0930: 5F 74 69 74 
       00:0934: 6C 65 5F 
 21567 00:0937: 66 72 6F 6E  	db	$66,$72,$6F,$6E,$74,$5F,$63,$61,$6C,$6C,
                    $62,$61,$63,$6B,$3A
       00:093B: 74 5F 63 61 
       00:093F: 6C 6C 62 61 
       00:0943: 63 6B 3A 
 21568 00:0946: 63 6C 69 63  	db	$63,$6C,$69,$63,$6B,$65,$64,$3A,$00
       00:094A: 6B 65 64 3A 
       00:094E: 00 
 21569 00:094F:              	ends
 21570                        ;
 21571                        ;void k_gadget_title_back_callback(PWINDOW gadgetW
                    indow)
 21572                        ;{
 21573                        	.line	3830
 21574                        	.line	3831
 21575                        	GFX
 21576                        	xdef	~~k_gadget_title_back_callback
 21577                        	func
 21578                        	.function	3831
 21579                        ~~k_gadget_title_back_callback:
 21580                        	longa	on
 21581                        	longi	on
 21582 06:5764: 3B           	tsc
 21583 06:5765: 38           	sec
 21584 06:5766: E9 04 00     	sbc	#L985
 21585 06:5769: 1B           	tcs
 21586 06:576A: 0B           	phd
 21587 06:576B: 5B           	tcd
 21588             00000004   gadgetWindow_0	set	4
 21589                        	.block	3831
 21590                        ;	k_debug_message("k_gadget_title_back_callback:cl
                    icked:",gadgetWindow->win_class);
 21591                        	.sym	gadgetWindow,4,138,6,32,33
 21592                        	.line	3832
 21593 06:576C: 18           	clc
 21594 06:576D: A9 6E 01     	lda	#$16e
 21595 06:5770: 65 08        	adc	<L985+gadgetWindow_0
 21596 06:5772: 85 01        	sta	<R0
 21597 06:5774: A9 00 00     	lda	#$0
 21598 06:5777: 65 0A        	adc	<L985+gadgetWindow_0+2
 21599 06:5779: 85 03        	sta	<R0+2
 21600 06:577B: D4 03        	pei	<R0+2
 21601 06:577D: D4 01        	pei	<R0
 21602 06:577F: F4 xx xx     	pea	#^L984
 21603 06:5782: F4 xx xx     	pea	#<L984
 21604 06:5785: 22 xx xx xx  	jsl	~~k_debug_message
 21605                        ;	k_send_message(NULL,FX_WINDOW_TOBACK,NULL,0);
 21606                        	.line	3833
 21607 06:5789: F4 00 00     	pea	#<$0
 21608 06:578C: F4 00 00     	pea	#^$0
 21609 06:578F: F4 00 00     	pea	#<$0
 21610 06:5792: F4 31 0F     	pea	#<$f31
 21611 06:5795: F4 00 00     	pea	#^$0
 21612 06:5798: F4 00 00     	pea	#<$0
  Thu Jul 22 2021 22:51                                                Page 400


 21613 06:579B: 22 xx xx xx  	jsl	~~k_send_message
 21614                        ;	return;
 21615                        	.line	3834
 21616                        L988:
 21617 06:579F: A5 06        	lda	<L985+2
 21618 06:57A1: 85 0A        	sta	<L985+2+4
 21619 06:57A3: A5 05        	lda	<L985+1
 21620 06:57A5: 85 09        	sta	<L985+1+4
 21621 06:57A7: 2B           	pld
 21622 06:57A8: 3B           	tsc
 21623 06:57A9: 18           	clc
 21624 06:57AA: 69 08 00     	adc	#L985+4
 21625 06:57AD: 1B           	tcs
 21626 06:57AE: 6B           	rtl
 21627                        ;}
 21628                        	.line	3835
 21629                        	.endblock	3835
 21630             00000004   L985	equ	4
 21631             00000005   L986	equ	5
 21632 06:57AF:              	ends
 21633                        	efunc
 21634                        	.endfunc	3835,5,4
 21635                        	.line	3835
 21636                        	data
 21637                        L984:
 21638 00:094F: 6B 5F 67 61  	db	$6B,$5F,$67,$61,$64,$67,$65,$74,$5F,$74,
                    $69,$74,$6C,$65,$5F
       00:0953: 64 67 65 74 
       00:0957: 5F 74 69 74 
       00:095B: 6C 65 5F 
 21639 00:095E: 62 61 63 6B  	db	$62,$61,$63,$6B,$5F,$63,$61,$6C,$6C,$62,
                    $61,$63,$6B,$3A,$63
       00:0962: 5F 63 61 6C 
       00:0966: 6C 62 61 63 
       00:096A: 6B 3A 63 
 21640 00:096D: 6C 69 63 6B  	db	$6C,$69,$63,$6B,$65,$64,$3A,$00
       00:0971: 65 64 3A 00 
 21641 00:0975:              	ends
 21642                        ;
 21643                        ;
 21644                        ;
 21645                        ;PMENU k_render_menu(PMENU menu)
 21646                        ;{
 21647                        	.line	3839
 21648                        	.line	3840
 21649                        	GFX
 21650                        	xdef	~~k_render_menu
 21651                        	func
 21652                        	.function	3840
 21653                        ~~k_render_menu:
 21654                        	longa	on
 21655                        	longi	on
 21656 06:57AF: 3B           	tsc
 21657 06:57B0: 38           	sec
 21658 06:57B1: E9 22 00     	sbc	#L990
 21659 06:57B4: 1B           	tcs
 21660 06:57B5: 0B           	phd
 21661 06:57B6: 5B           	tcd
  Thu Jul 22 2021 22:51                                                Page 401


 21662             00000004   menu_0	set	4
 21663                        	.block	3840
 21664                        ;	FONTMETRIC metric;
 21665                        ;
 21666                        ;	int i = 0;
 21667                        ;
 21668                        ;	int cx = menu->cx;
 21669                        ;	int cy = menu->cy;
 21670                        ;
 21671                        ;	int borderTitle = 10;
 21672                        ;	int borderWidth = 3;
 21673                        ;
 21674                        ;	int titleOffsetX = cx+2;
 21675                        ;	int titleOffsetY = cy+2;
 21676                        ;	int titleScaler = 0;
 21677                        ;
 21678                        ;	int clientOffsetX = cx+borderWidth+2;
 21679                        ;	int clientOffsetY = cy+borderTitle+1;
 21680                        ;
 21681                        ;	int endX = menu->width + cx - borderWidth;
 21682                        ;
 21683                        ;	k_get_font_metrics(&metric);
 21684             00000000   metric_1	set	0
 21685             00000004   i_1	set	4
 21686             00000006   cx_1	set	6
 21687             00000008   cy_1	set	8
 21688             0000000A   borderTitle_1	set	10
 21689             0000000C   borderWidth_1	set	12
 21690             0000000E   titleOffsetX_1	set	14
 21691             00000010   titleOffsetY_1	set	16
 21692             00000012   titleScaler_1	set	18
 21693             00000014   clientOffsetX_1	set	20
 21694             00000016   clientOffsetY_1	set	22
 21695             00000018   endX_1	set	24
 21696                        	.sym	metric,0,10,1,32,35
 21697                        	.sym	i,4,5,1,16
 21698                        	.sym	cx,6,5,1,16
 21699                        	.sym	cy,8,5,1,16
 21700                        	.sym	borderTitle,10,5,1,16
 21701                        	.sym	borderWidth,12,5,1,16
 21702                        	.sym	titleOffsetX,14,5,1,16
 21703                        	.sym	titleOffsetY,16,5,1,16
 21704                        	.sym	titleScaler,18,5,1,16
 21705                        	.sym	clientOffsetX,20,5,1,16
 21706                        	.sym	clientOffsetY,22,5,1,16
 21707                        	.sym	endX,24,5,1,16
 21708                        	.sym	menu,4,138,6,32,36
 21709 06:57B7: 64 0D        	stz	<L991+i_1
 21710 06:57B9: A7 26        	lda	[<L990+menu_0]
 21711 06:57BB: 85 0F        	sta	<L991+cx_1
 21712 06:57BD: A0 02 00     	ldy	#$2
 21713 06:57C0: B7 26        	lda	[<L990+menu_0],Y
 21714 06:57C2: 85 11        	sta	<L991+cy_1
 21715 06:57C4: A9 0A 00     	lda	#$a
 21716 06:57C7: 85 13        	sta	<L991+borderTitle_1
 21717 06:57C9: A9 03 00     	lda	#$3
 21718 06:57CC: 85 15        	sta	<L991+borderWidth_1
 21719 06:57CE: 18           	clc
  Thu Jul 22 2021 22:51                                                Page 402


 21720 06:57CF: A9 02 00     	lda	#$2
 21721 06:57D2: 65 0F        	adc	<L991+cx_1
 21722 06:57D4: 85 17        	sta	<L991+titleOffsetX_1
 21723 06:57D6: 18           	clc
 21724 06:57D7: A9 02 00     	lda	#$2
 21725 06:57DA: 65 11        	adc	<L991+cy_1
 21726 06:57DC: 85 19        	sta	<L991+titleOffsetY_1
 21727 06:57DE: 64 1B        	stz	<L991+titleScaler_1
 21728 06:57E0: 18           	clc
 21729 06:57E1: A5 0F        	lda	<L991+cx_1
 21730 06:57E3: 65 15        	adc	<L991+borderWidth_1
 21731 06:57E5: 85 01        	sta	<R0
 21732 06:57E7: 18           	clc
 21733 06:57E8: A9 02 00     	lda	#$2
 21734 06:57EB: 65 01        	adc	<R0
 21735 06:57ED: 85 1D        	sta	<L991+clientOffsetX_1
 21736 06:57EF: 18           	clc
 21737 06:57F0: A5 11        	lda	<L991+cy_1
 21738 06:57F2: 65 13        	adc	<L991+borderTitle_1
 21739 06:57F4: 85 01        	sta	<R0
 21740 06:57F6: A5 01        	lda	<R0
 21741 06:57F8: 1A           	ina
 21742 06:57F9: 85 1F        	sta	<L991+clientOffsetY_1
 21743 06:57FB: 18           	clc
 21744 06:57FC: A0 04 00     	ldy	#$4
 21745 06:57FF: B7 26        	lda	[<L990+menu_0],Y
 21746 06:5801: 65 0F        	adc	<L991+cx_1
 21747 06:5803: 85 01        	sta	<R0
 21748 06:5805: 38           	sec
 21749 06:5806: A5 01        	lda	<R0
 21750 06:5808: E5 15        	sbc	<L991+borderWidth_1
 21751 06:580A: 85 21        	sta	<L991+endX_1
 21752                        	.line	3860
 21753 06:580C: F4 00 00     	pea	#0
 21754 06:580F: 18           	clc
 21755 06:5810: 7B           	tdc
 21756 06:5811: 69 09 00     	adc	#<L991+metric_1
 21757 06:5814: 48           	pha
 21758 06:5815: 22 B2 23 06  	jsl	~~k_get_font_metrics
 21759                        ;
 21760                        ;
 21761                        ;	k_debug_integer("k_render_menu:menu->cx:",menu->
                    cx);
 21762                        	.line	3863
 21763 06:5819: A7 26        	lda	[<L990+menu_0]
 21764 06:581B: 48           	pha
 21765 06:581C: F4 xx xx     	pea	#^L989
 21766 06:581F: F4 xx xx     	pea	#<L989
 21767 06:5822: 22 xx xx xx  	jsl	~~k_debug_integer
 21768                        ;	k_debug_integer("k_render_menu:menu->cy:",menu->
                    cy);
 21769                        	.line	3864
 21770 06:5826: A0 02 00     	ldy	#$2
 21771 06:5829: B7 26        	lda	[<L990+menu_0],Y
 21772 06:582B: 48           	pha
 21773 06:582C: F4 xx xx     	pea	#^L989+24
 21774 06:582F: F4 xx xx     	pea	#<L989+24
 21775 06:5832: 22 xx xx xx  	jsl	~~k_debug_integer
  Thu Jul 22 2021 22:51                                                Page 403


 21776                        ;	k_debug_integer("k_render_menu:menu->height:",me
                    nu->height);
 21777                        	.line	3865
 21778 06:5836: A0 06 00     	ldy	#$6
 21779 06:5839: B7 26        	lda	[<L990+menu_0],Y
 21780 06:583B: 48           	pha
 21781 06:583C: F4 xx xx     	pea	#^L989+48
 21782 06:583F: F4 xx xx     	pea	#<L989+48
 21783 06:5842: 22 xx xx xx  	jsl	~~k_debug_integer
 21784                        ;	k_debug_integer("k_render_menu:menu->width:",men
                    u->width);
 21785                        	.line	3866
 21786 06:5846: A0 04 00     	ldy	#$4
 21787 06:5849: B7 26        	lda	[<L990+menu_0],Y
 21788 06:584B: 48           	pha
 21789 06:584C: F4 xx xx     	pea	#^L989+76
 21790 06:584F: F4 xx xx     	pea	#<L989+76
 21791 06:5852: 22 xx xx xx  	jsl	~~k_debug_integer
 21792                        ;
 21793                        ;
 21794                        ;	k_vdma_fill_rect(cx-1,cy,menu->width+1,menu->hei
                    ght+1,0);
 21795                        	.line	3869
 21796 06:5856: F4 00 00     	pea	#<$0
 21797 06:5859: A0 06 00     	ldy	#$6
 21798 06:585C: B7 26        	lda	[<L990+menu_0],Y
 21799 06:585E: 1A           	ina
 21800 06:585F: 48           	pha
 21801 06:5860: A0 04 00     	ldy	#$4
 21802 06:5863: B7 26        	lda	[<L990+menu_0],Y
 21803 06:5865: 1A           	ina
 21804 06:5866: 48           	pha
 21805 06:5867: A0 00 00     	ldy	#$0
 21806 06:586A: A5 11        	lda	<L991+cy_1
 21807 06:586C: 10 01        	bpl	L993
 21808 06:586E: 88           	dey
 21809                        L993:
 21810 06:586F: 85 01        	sta	<R0
 21811 06:5871: 84 03        	sty	<R0+2
 21812 06:5873: D4 03        	pei	<R0+2
 21813 06:5875: D4 01        	pei	<R0
 21814 06:5877: 18           	clc
 21815 06:5878: A9 FF FF     	lda	#$ffff
 21816 06:587B: 65 0F        	adc	<L991+cx_1
 21817 06:587D: 85 05        	sta	<R1
 21818 06:587F: A0 00 00     	ldy	#$0
 21819 06:5882: A5 05        	lda	<R1
 21820 06:5884: 10 01        	bpl	L994
 21821 06:5886: 88           	dey
 21822                        L994:
 21823 06:5887: 85 05        	sta	<R1
 21824 06:5889: 84 07        	sty	<R1+2
 21825 06:588B: D4 07        	pei	<R1+2
 21826 06:588D: D4 05        	pei	<R1
 21827 06:588F: 22 BA 5F 06  	jsl	~~k_vdma_fill_rect
 21828                        ;	k_vdma_fill_rect(cx,cy,menu->width,menu->height,
                    menu->fcolor);
 21829                        	.line	3870
  Thu Jul 22 2021 22:51                                                Page 404


 21830 06:5893: A0 08 00     	ldy	#$8
 21831 06:5896: B7 26        	lda	[<L990+menu_0],Y
 21832 06:5898: 48           	pha
 21833 06:5899: A0 06 00     	ldy	#$6
 21834 06:589C: B7 26        	lda	[<L990+menu_0],Y
 21835 06:589E: 48           	pha
 21836 06:589F: A0 04 00     	ldy	#$4
 21837 06:58A2: B7 26        	lda	[<L990+menu_0],Y
 21838 06:58A4: 48           	pha
 21839 06:58A5: A0 00 00     	ldy	#$0
 21840 06:58A8: A5 11        	lda	<L991+cy_1
 21841 06:58AA: 10 01        	bpl	L995
 21842 06:58AC: 88           	dey
 21843                        L995:
 21844 06:58AD: 85 01        	sta	<R0
 21845 06:58AF: 84 03        	sty	<R0+2
 21846 06:58B1: D4 03        	pei	<R0+2
 21847 06:58B3: D4 01        	pei	<R0
 21848 06:58B5: A0 00 00     	ldy	#$0
 21849 06:58B8: A5 0F        	lda	<L991+cx_1
 21850 06:58BA: 10 01        	bpl	L996
 21851 06:58BC: 88           	dey
 21852                        L996:
 21853 06:58BD: 85 05        	sta	<R1
 21854 06:58BF: 84 07        	sty	<R1+2
 21855 06:58C1: D4 07        	pei	<R1+2
 21856 06:58C3: D4 05        	pei	<R1
 21857 06:58C5: 22 BA 5F 06  	jsl	~~k_vdma_fill_rect
 21858                        ;
 21859                        ;	//k_vdma_fill_rect(cx,cy,menu->width,menu->heigh
                    t,menu->fcolor);
 21860                        ;
 21861                        ;
 21862                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,14);
 21863                        	.line	3875
 21864 06:58C9: F4 0E 00     	pea	#<$e
 21865 06:58CC: D4 19        	pei	<L991+titleOffsetY_1
 21866 06:58CE: A5 09        	lda	<L991+metric_1
 21867 06:58D0: 0A           	asl	A
 21868 06:58D1: 85 01        	sta	<R0
 21869 06:58D3: 18           	clc
 21870 06:58D4: A9 02 00     	lda	#$2
 21871 06:58D7: 65 01        	adc	<R0
 21872 06:58D9: 85 05        	sta	<R1
 21873 06:58DB: 38           	sec
 21874 06:58DC: A5 21        	lda	<L991+endX_1
 21875 06:58DE: E5 05        	sbc	<R1
 21876 06:58E0: 48           	pha
 21877 06:58E1: F4 04 00     	pea	#<$4
 21878 06:58E4: 22 F8 2A 06  	jsl	~~k_put_wingadget_point
 21879                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,14);
 21880                        	.line	3876
 21881 06:58E8: F4 0E 00     	pea	#<$e
 21882 06:58EB: D4 19        	pei	<L991+titleOffsetY_1
 21883 06:58ED: 38           	sec
 21884 06:58EE: A5 21        	lda	<L991+endX_1
  Thu Jul 22 2021 22:51                                                Page 405


 21885 06:58F0: E5 09        	sbc	<L991+metric_1
 21886 06:58F2: 48           	pha
 21887 06:58F3: F4 03 00     	pea	#<$3
 21888 06:58F6: 22 F8 2A 06  	jsl	~~k_put_wingadget_point
 21889                        ;
 21890                        ;	k_draw_text_point((LPCHAR)menu->pCaption,cx+2+me
                    tric.width,titleOffsetY,0);
 21891                        	.line	3878
 21892 06:58FA: F4 00 00     	pea	#<$0
 21893 06:58FD: D4 19        	pei	<L991+titleOffsetY_1
 21894 06:58FF: 18           	clc
 21895 06:5900: A5 0F        	lda	<L991+cx_1
 21896 06:5902: 65 09        	adc	<L991+metric_1
 21897 06:5904: 85 01        	sta	<R0
 21898 06:5906: 18           	clc
 21899 06:5907: A9 02 00     	lda	#$2
 21900 06:590A: 65 01        	adc	<R0
 21901 06:590C: 48           	pha
 21902 06:590D: A0 15 00     	ldy	#$15
 21903 06:5910: B7 26        	lda	[<L990+menu_0],Y
 21904 06:5912: 48           	pha
 21905 06:5913: A0 13 00     	ldy	#$13
 21906 06:5916: B7 26        	lda	[<L990+menu_0],Y
 21907 06:5918: 48           	pha
 21908 06:5919: 22 DB 1F 06  	jsl	~~k_draw_text_point
 21909                        ;
 21910                        ;	return menu;
 21911                        	.line	3880
 21912 06:591D: A6 28        	ldx	<L990+menu_0+2
 21913 06:591F: A5 26        	lda	<L990+menu_0
 21914                        L997:
 21915 06:5921: A8           	tay
 21916 06:5922: A5 24        	lda	<L990+2
 21917 06:5924: 85 28        	sta	<L990+2+4
 21918 06:5926: A5 23        	lda	<L990+1
 21919 06:5928: 85 27        	sta	<L990+1+4
 21920 06:592A: 2B           	pld
 21921 06:592B: 3B           	tsc
 21922 06:592C: 18           	clc
 21923 06:592D: 69 26 00     	adc	#L990+4
 21924 06:5930: 1B           	tcs
 21925 06:5931: 98           	tya
 21926 06:5932: 6B           	rtl
 21927                        ;}
 21928                        	.line	3881
 21929                        	.endblock	3881
 21930             00000022   L990	equ	34
 21931             00000009   L991	equ	9
 21932 06:5933:              	ends
 21933                        	efunc
 21934                        	.endfunc	3881,9,34
 21935                        	.line	3881
 21936                        	data
 21937                        L989:
 21938 00:0975: 6B 5F 72 65  	db	$6B,$5F,$72,$65,$6E,$64,$65,$72,$5F,$6D,
                    $65,$6E,$75,$3A,$6D
       00:0979: 6E 64 65 72 
       00:097D: 5F 6D 65 6E 
  Thu Jul 22 2021 22:51                                                Page 406


       00:0981: 75 3A 6D 
 21939 00:0984: 65 6E 75 2D  	db	$65,$6E,$75,$2D,$3E,$63,$78,$3A,$00,$6B,
                    $5F,$72,$65,$6E,$64
       00:0988: 3E 63 78 3A 
       00:098C: 00 6B 5F 72 
       00:0990: 65 6E 64 
 21940 00:0993: 65 72 5F 6D  	db	$65,$72,$5F,$6D,$65,$6E,$75,$3A,$6D,$65,
                    $6E,$75,$2D,$3E,$63
       00:0997: 65 6E 75 3A 
       00:099B: 6D 65 6E 75 
       00:099F: 2D 3E 63 
 21941 00:09A2: 79 3A 00 6B  	db	$79,$3A,$00,$6B,$5F,$72,$65,$6E,$64,$65,
                    $72,$5F,$6D,$65,$6E
       00:09A6: 5F 72 65 6E 
       00:09AA: 64 65 72 5F 
       00:09AE: 6D 65 6E 
 21942 00:09B1: 75 3A 6D 65  	db	$75,$3A,$6D,$65,$6E,$75,$2D,$3E,$68,$65,
                    $69,$67,$68,$74,$3A
       00:09B5: 6E 75 2D 3E 
       00:09B9: 68 65 69 67 
       00:09BD: 68 74 3A 
 21943 00:09C0: 00 6B 5F 72  	db	$00,$6B,$5F,$72,$65,$6E,$64,$65,$72,$5F,
                    $6D,$65,$6E,$75,$3A
       00:09C4: 65 6E 64 65 
       00:09C8: 72 5F 6D 65 
       00:09CC: 6E 75 3A 
 21944 00:09CF: 6D 65 6E 75  	db	$6D,$65,$6E,$75,$2D,$3E,$77,$69,$64,$74,
                    $68,$3A,$00
       00:09D3: 2D 3E 77 69 
       00:09D7: 64 74 68 3A 
       00:09DB: 00 
 21945 00:09DC:              	ends
 21946                        ;
 21947                        ;void k_draw_ui_window(int cx,int cy,int height,in
                    t width,char FAR *title,int color, int bgcolor)
 21948                        ;{
 21949                        	.line	3883
 21950                        	.line	3884
 21951                        	GFX
 21952                        	xdef	~~k_draw_ui_window
 21953                        	func
 21954                        	.function	3884
 21955                        ~~k_draw_ui_window:
 21956                        	longa	on
 21957                        	longi	on
 21958 06:5933: 3B           	tsc
 21959 06:5934: 38           	sec
 21960 06:5935: E9 22 00     	sbc	#L999
 21961 06:5938: 1B           	tcs
 21962 06:5939: 0B           	phd
 21963 06:593A: 5B           	tcd
 21964             00000004   cx_0	set	4
 21965             00000006   cy_0	set	6
 21966             00000008   height_0	set	8
 21967             0000000A   width_0	set	10
 21968             0000000C   title_0	set	12
 21969             00000010   color_0	set	16
 21970             00000012   bgcolor_0	set	18
  Thu Jul 22 2021 22:51                                                Page 407


 21971                        	.block	3884
 21972                        ;	FONTMETRIC metric;
 21973                        ;	
 21974                        ;	int i = 0;
 21975                        ;	
 21976                        ;	int borderTitle = 10;
 21977                        ;	int borderWidth = 2;
 21978                        ;
 21979                        ;	int titleOffsetX = cx+2;
 21980                        ;	int titleOffsetY = cy+2;
 21981                        ;	int titleScaler = 0;
 21982                        ;	
 21983                        ;	int clientOffsetX = cx+borderWidth+2;
 21984                        ;	int clientOffsetY = cy+borderTitle+1;
 21985                        ;	
 21986                        ;	int currX = clientOffsetX;
 21987                        ;	int currY = clientOffsetY;
 21988                        ;	
 21989                        ;	int endX = width + cx - borderWidth;
 21990                        ;	
 21991                        ;	k_draw_filled_rect(cx,cy,height,width,color);	
 21992             00000000   metric_1	set	0
 21993             00000004   i_1	set	4
 21994             00000006   borderTitle_1	set	6
 21995             00000008   borderWidth_1	set	8
 21996             0000000A   titleOffsetX_1	set	10
 21997             0000000C   titleOffsetY_1	set	12
 21998             0000000E   titleScaler_1	set	14
 21999             00000010   clientOffsetX_1	set	16
 22000             00000012   clientOffsetY_1	set	18
 22001             00000014   currX_1	set	20
 22002             00000016   currY_1	set	22
 22003             00000018   endX_1	set	24
 22004                        	.sym	metric,0,10,1,32,35
 22005                        	.sym	i,4,5,1,16
 22006                        	.sym	borderTitle,6,5,1,16
 22007                        	.sym	borderWidth,8,5,1,16
 22008                        	.sym	titleOffsetX,10,5,1,16
 22009                        	.sym	titleOffsetY,12,5,1,16
 22010                        	.sym	titleScaler,14,5,1,16
 22011                        	.sym	clientOffsetX,16,5,1,16
 22012                        	.sym	clientOffsetY,18,5,1,16
 22013                        	.sym	currX,20,5,1,16
 22014                        	.sym	currY,22,5,1,16
 22015                        	.sym	endX,24,5,1,16
 22016                        	.sym	cx,4,5,6,16
 22017                        	.sym	cy,6,5,6,16
 22018                        	.sym	height,8,5,6,16
 22019                        	.sym	width,10,5,6,16
 22020                        	.sym	title,12,142,6,32
 22021                        	.sym	color,16,5,6,16
 22022                        	.sym	bgcolor,18,5,6,16
 22023 06:593B: 64 0D        	stz	<L1000+i_1
 22024 06:593D: A9 0A 00     	lda	#$a
 22025 06:5940: 85 0F        	sta	<L1000+borderTitle_1
 22026 06:5942: A9 02 00     	lda	#$2
 22027 06:5945: 85 11        	sta	<L1000+borderWidth_1
 22028 06:5947: 18           	clc
  Thu Jul 22 2021 22:51                                                Page 408


 22029 06:5948: A9 02 00     	lda	#$2
 22030 06:594B: 65 26        	adc	<L999+cx_0
 22031 06:594D: 85 13        	sta	<L1000+titleOffsetX_1
 22032 06:594F: 18           	clc
 22033 06:5950: A9 02 00     	lda	#$2
 22034 06:5953: 65 28        	adc	<L999+cy_0
 22035 06:5955: 85 15        	sta	<L1000+titleOffsetY_1
 22036 06:5957: 64 17        	stz	<L1000+titleScaler_1
 22037 06:5959: 18           	clc
 22038 06:595A: A5 26        	lda	<L999+cx_0
 22039 06:595C: 65 11        	adc	<L1000+borderWidth_1
 22040 06:595E: 85 01        	sta	<R0
 22041 06:5960: 18           	clc
 22042 06:5961: A9 02 00     	lda	#$2
 22043 06:5964: 65 01        	adc	<R0
 22044 06:5966: 85 19        	sta	<L1000+clientOffsetX_1
 22045 06:5968: 18           	clc
 22046 06:5969: A5 28        	lda	<L999+cy_0
 22047 06:596B: 65 0F        	adc	<L1000+borderTitle_1
 22048 06:596D: 85 01        	sta	<R0
 22049 06:596F: A5 01        	lda	<R0
 22050 06:5971: 1A           	ina
 22051 06:5972: 85 1B        	sta	<L1000+clientOffsetY_1
 22052 06:5974: A5 19        	lda	<L1000+clientOffsetX_1
 22053 06:5976: 85 1D        	sta	<L1000+currX_1
 22054 06:5978: A5 1B        	lda	<L1000+clientOffsetY_1
 22055 06:597A: 85 1F        	sta	<L1000+currY_1
 22056 06:597C: 18           	clc
 22057 06:597D: A5 2C        	lda	<L999+width_0
 22058 06:597F: 65 26        	adc	<L999+cx_0
 22059 06:5981: 85 01        	sta	<R0
 22060 06:5983: 38           	sec
 22061 06:5984: A5 01        	lda	<R0
 22062 06:5986: E5 11        	sbc	<L1000+borderWidth_1
 22063 06:5988: 85 21        	sta	<L1000+endX_1
 22064                        	.line	3904
 22065 06:598A: D4 32        	pei	<L999+color_0
 22066 06:598C: D4 2C        	pei	<L999+width_0
 22067 06:598E: D4 2A        	pei	<L999+height_0
 22068 06:5990: D4 28        	pei	<L999+cy_0
 22069 06:5992: D4 26        	pei	<L999+cx_0
 22070 06:5994: 22 68 3B 06  	jsl	~~k_draw_filled_rect
 22071                        ;	k_draw_filled_rect(cx+borderWidth,cy+borderTitle
                    ,
 22072                        	.line	3905
 22073                        ;	                   height - borderTitle - border
                    Width,
 22074                        ;					   width - borde
                    rWidth - borderWidth,
 22075                        ;					   bgcolor);
 22076 06:5998: D4 34        	pei	<L999+bgcolor_0
 22077 06:599A: 38           	sec
 22078 06:599B: A5 2C        	lda	<L999+width_0
 22079 06:599D: E5 11        	sbc	<L1000+borderWidth_1
 22080 06:599F: 85 01        	sta	<R0
 22081 06:59A1: 38           	sec
 22082 06:59A2: A5 01        	lda	<R0
 22083 06:59A4: E5 11        	sbc	<L1000+borderWidth_1
  Thu Jul 22 2021 22:51                                                Page 409


 22084 06:59A6: 48           	pha
 22085 06:59A7: 38           	sec
 22086 06:59A8: A5 2A        	lda	<L999+height_0
 22087 06:59AA: E5 0F        	sbc	<L1000+borderTitle_1
 22088 06:59AC: 85 01        	sta	<R0
 22089 06:59AE: 38           	sec
 22090 06:59AF: A5 01        	lda	<R0
 22091 06:59B1: E5 11        	sbc	<L1000+borderWidth_1
 22092 06:59B3: 48           	pha
 22093 06:59B4: 18           	clc
 22094 06:59B5: A5 28        	lda	<L999+cy_0
 22095 06:59B7: 65 0F        	adc	<L1000+borderTitle_1
 22096 06:59B9: 48           	pha
 22097 06:59BA: 18           	clc
 22098 06:59BB: A5 26        	lda	<L999+cx_0
 22099 06:59BD: 65 11        	adc	<L1000+borderWidth_1
 22100 06:59BF: 48           	pha
 22101 06:59C0: 22 68 3B 06  	jsl	~~k_draw_filled_rect
 22102                        ;	
 22103                        ;	k_get_font_metrics(&metric);
 22104                        	.line	3910
 22105 06:59C4: F4 00 00     	pea	#0
 22106 06:59C7: 18           	clc
 22107 06:59C8: 7B           	tdc
 22108 06:59C9: 69 09 00     	adc	#<L1000+metric_1
 22109 06:59CC: 48           	pha
 22110 06:59CD: 22 B2 23 06  	jsl	~~k_get_font_metrics
 22111                        ;	
 22112                        ;	
 22113                        ;	title = strupr(title);
 22114                        	.line	3913
 22115 06:59D1: D4 30        	pei	<L999+title_0+2
 22116 06:59D3: D4 2E        	pei	<L999+title_0
 22117 06:59D5: 22 xx xx xx  	jsl	~~strupr
 22118 06:59D9: 85 2E        	sta	<L999+title_0
 22119 06:59DB: 86 30        	stx	<L999+title_0+2
 22120                        ;	
 22121                        ;	titleOffsetX+=k_put_wingadget_point(WINICON_TITL
                    E_ACLOSE,titleOffsetX,titleOffsetY,14);	
 22122                        	.line	3915
 22123 06:59DD: F4 0E 00     	pea	#<$e
 22124 06:59E0: D4 15        	pei	<L1000+titleOffsetY_1
 22125 06:59E2: D4 13        	pei	<L1000+titleOffsetX_1
 22126 06:59E4: F4 05 00     	pea	#<$5
 22127 06:59E7: 22 F8 2A 06  	jsl	~~k_put_wingadget_point
 22128 06:59EB: 85 01        	sta	<R0
 22129 06:59ED: 18           	clc
 22130 06:59EE: A5 01        	lda	<R0
 22131 06:59F0: 65 13        	adc	<L1000+titleOffsetX_1
 22132 06:59F2: 85 13        	sta	<L1000+titleOffsetX_1
 22133                        ;	
 22134                        ;	titleScaler = (int)(width / metric.width - 4);
 22135                        	.line	3917
 22136 06:59F4: A5 2C        	lda	<L999+width_0
 22137 06:59F6: A6 09        	ldx	<L1000+metric_1
 22138                        	xref	~~~div
 22139 06:59F8: 22 xx xx xx  	jsl	~~~div
 22140 06:59FC: 85 01        	sta	<R0
  Thu Jul 22 2021 22:51                                                Page 410


 22141 06:59FE: 18           	clc
 22142 06:59FF: A9 FC FF     	lda	#$fffc
 22143 06:5A02: 65 01        	adc	<R0
 22144 06:5A04: 85 17        	sta	<L1000+titleScaler_1
 22145                        ;	for(i=0;i<titleScaler;i++)
 22146                        	.line	3918
 22147 06:5A06: 64 0D        	stz	<L1000+i_1
 22148 06:5A08: 82 19 00     	brl	L10402
 22149                        L10401:
 22150                        ;	{
 22151                        	.line	3919
 22152                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_LINES,titleOffsetX,titleOffsetY,14);	
 22153                        	.line	3920
 22154 06:5A0B: F4 0E 00     	pea	#<$e
 22155 06:5A0E: D4 15        	pei	<L1000+titleOffsetY_1
 22156 06:5A10: D4 13        	pei	<L1000+titleOffsetX_1
 22157 06:5A12: F4 01 00     	pea	#<$1
 22158 06:5A15: 22 F8 2A 06  	jsl	~~k_put_wingadget_point
 22159 06:5A19: 85 01        	sta	<R0
 22160 06:5A1B: 18           	clc
 22161 06:5A1C: A5 01        	lda	<R0
 22162 06:5A1E: 65 13        	adc	<L1000+titleOffsetX_1
 22163 06:5A20: 85 13        	sta	<L1000+titleOffsetX_1
 22164                        ;	}
 22165                        	.line	3921
 22166                        L10399:
 22167 06:5A22: E6 0D        	inc	<L1000+i_1
 22168                        L10402:
 22169 06:5A24: 38           	sec
 22170 06:5A25: A5 0D        	lda	<L1000+i_1
 22171 06:5A27: E5 17        	sbc	<L1000+titleScaler_1
 22172 06:5A29: 70 03        	bvs	L1002
 22173 06:5A2B: 49 00 80     	eor	#$8000
 22174                        L1002:
 22175 06:5A2E: 30 03        	bmi	L1003
 22176 06:5A30: 82 D8 FF     	brl	L10401
 22177                        L1003:
 22178                        L10400:
 22179                        ;	/*
 22180                        ;	titleOffsetX+=k_put_wingadget_point(WINICON_TITL
                    E_BACK,titleOffsetX,titleOffsetY,14);
 22181                        ;	titleOffsetX+=2;
 22182                        ;	titleOffsetX+=k_put_wingadget_point(WINICON_TITL
                    E_FRONT,titleOffsetX,titleOffsetY,14);
 22183                        ;	*/
 22184                        ;	
 22185                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,14);
 22186                        	.line	3928
 22187 06:5A33: F4 0E 00     	pea	#<$e
 22188 06:5A36: D4 15        	pei	<L1000+titleOffsetY_1
 22189 06:5A38: A5 09        	lda	<L1000+metric_1
 22190 06:5A3A: 0A           	asl	A
 22191 06:5A3B: 85 01        	sta	<R0
 22192 06:5A3D: 18           	clc
 22193 06:5A3E: A9 02 00     	lda	#$2
 22194 06:5A41: 65 01        	adc	<R0
  Thu Jul 22 2021 22:51                                                Page 411


 22195 06:5A43: 85 05        	sta	<R1
 22196 06:5A45: 38           	sec
 22197 06:5A46: A5 21        	lda	<L1000+endX_1
 22198 06:5A48: E5 05        	sbc	<R1
 22199 06:5A4A: 48           	pha
 22200 06:5A4B: F4 04 00     	pea	#<$4
 22201 06:5A4E: 22 F8 2A 06  	jsl	~~k_put_wingadget_point
 22202                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,14);
 22203                        	.line	3929
 22204 06:5A52: F4 0E 00     	pea	#<$e
 22205 06:5A55: D4 15        	pei	<L1000+titleOffsetY_1
 22206 06:5A57: 38           	sec
 22207 06:5A58: A5 21        	lda	<L1000+endX_1
 22208 06:5A5A: E5 09        	sbc	<L1000+metric_1
 22209 06:5A5C: 48           	pha
 22210 06:5A5D: F4 03 00     	pea	#<$3
 22211 06:5A60: 22 F8 2A 06  	jsl	~~k_put_wingadget_point
 22212                        ;	
 22213                        ;	
 22214                        ;	for(i=0;i<=strlen(title);i++)
 22215                        	.line	3932
 22216 06:5A64: 64 0D        	stz	<L1000+i_1
 22217 06:5A66: 82 2D 00     	brl	L10406
 22218                        L10405:
 22219                        ;	{
 22220                        	.line	3933
 22221                        ;		k_put_wingadget_point(WINICON_BLOCK,cx+2
                    +metric.width+(metric.width*i),titleOffsetY,15);	
 22222                        	.line	3934
 22223 06:5A69: F4 0F 00     	pea	#<$f
 22224 06:5A6C: D4 15        	pei	<L1000+titleOffsetY_1
 22225 06:5A6E: A5 09        	lda	<L1000+metric_1
 22226 06:5A70: A6 0D        	ldx	<L1000+i_1
 22227                        	xref	~~~mul
 22228 06:5A72: 22 xx xx xx  	jsl	~~~mul
 22229 06:5A76: 85 01        	sta	<R0
 22230 06:5A78: 18           	clc
 22231 06:5A79: A5 01        	lda	<R0
 22232 06:5A7B: 65 26        	adc	<L999+cx_0
 22233 06:5A7D: 85 05        	sta	<R1
 22234 06:5A7F: 18           	clc
 22235 06:5A80: A5 05        	lda	<R1
 22236 06:5A82: 65 09        	adc	<L1000+metric_1
 22237 06:5A84: 85 01        	sta	<R0
 22238 06:5A86: 18           	clc
 22239 06:5A87: A9 02 00     	lda	#$2
 22240 06:5A8A: 65 01        	adc	<R0
 22241 06:5A8C: 48           	pha
 22242 06:5A8D: F4 00 00     	pea	#<$0
 22243 06:5A90: 22 F8 2A 06  	jsl	~~k_put_wingadget_point
 22244                        ;	}
 22245                        	.line	3935
 22246                        L10403:
 22247 06:5A94: E6 0D        	inc	<L1000+i_1
 22248                        L10406:
 22249 06:5A96: D4 30        	pei	<L999+title_0+2
 22250 06:5A98: D4 2E        	pei	<L999+title_0
  Thu Jul 22 2021 22:51                                                Page 412


 22251 06:5A9A: 22 xx xx xx  	jsl	~~strlen
 22252 06:5A9E: 85 01        	sta	<R0
 22253 06:5AA0: A5 01        	lda	<R0
 22254 06:5AA2: C5 0D        	cmp	<L1000+i_1
 22255 06:5AA4: 90 03        	bcc	L1004
 22256 06:5AA6: 82 C0 FF     	brl	L10405
 22257                        L1004:
 22258                        L10404:
 22259                        ;	k_draw_text_point(title,cx+2+metric.width,titleO
                    ffsetY,0);
 22260                        	.line	3936
 22261 06:5AA9: F4 00 00     	pea	#<$0
 22262 06:5AAC: D4 15        	pei	<L1000+titleOffsetY_1
 22263 06:5AAE: 18           	clc
 22264 06:5AAF: A5 26        	lda	<L999+cx_0
 22265 06:5AB1: 65 09        	adc	<L1000+metric_1
 22266 06:5AB3: 85 01        	sta	<R0
 22267 06:5AB5: 18           	clc
 22268 06:5AB6: A9 02 00     	lda	#$2
 22269 06:5AB9: 65 01        	adc	<R0
 22270 06:5ABB: 48           	pha
 22271 06:5ABC: D4 30        	pei	<L999+title_0+2
 22272 06:5ABE: D4 2E        	pei	<L999+title_0
 22273 06:5AC0: 22 DB 1F 06  	jsl	~~k_draw_text_point
 22274                        ;	
 22275                        ;	/*
 22276                        ;	k_put_wingadget_point(0x01,titleOffsetX,titleOff
                    setY,14);	
 22277                        ;	titleOffsetX+=metric.width;
 22278                        ;	
 22279                        ;	titleOffsetX+=k_draw_text_point(title,titleOffse
                    tX,titleOffsetY,0);
 22280                        ;	titleOffsetX+=metric.width;
 22281                        ;	k_put_wingadget_point(0x00,titleOffsetX,titleOff
                    setY,14);	
 22282                        ;	titleOffsetX+=metric.width;
 22283                        ;	k_put_wingadget_point(0x00,titleOffsetX,titleOff
                    setY,14);	
 22284                        ;	titleOffsetX+=metric.width;
 22285                        ;	k_put_wingadget_point(0x00,titleOffsetX,titleOff
                    setY,14);	
 22286                        ;	*/
 22287                        ;	
 22288                        ;	k_draw_text_point("READY.",currX,currY,15);
 22289                        	.line	3951
 22290 06:5AC4: F4 0F 00     	pea	#<$f
 22291 06:5AC7: D4 1F        	pei	<L1000+currY_1
 22292 06:5AC9: D4 1D        	pei	<L1000+currX_1
 22293 06:5ACB: F4 xx xx     	pea	#^L998
 22294 06:5ACE: F4 xx xx     	pea	#<L998
 22295 06:5AD1: 22 DB 1F 06  	jsl	~~k_draw_text_point
 22296                        ;	currY+=metric.height;	
 22297                        	.line	3952
 22298 06:5AD5: 18           	clc
 22299 06:5AD6: A5 1F        	lda	<L1000+currY_1
 22300 06:5AD8: 65 0B        	adc	<L1000+metric_1+2
 22301 06:5ADA: 85 1F        	sta	<L1000+currY_1
 22302                        ;	k_draw_text_point("10 PRINT \"HELLO WORLD!\"",cu
  Thu Jul 22 2021 22:51                                                Page 413


                    rrX,currY,15);
 22303                        	.line	3953
 22304 06:5ADC: F4 0F 00     	pea	#<$f
 22305 06:5ADF: D4 1F        	pei	<L1000+currY_1
 22306 06:5AE1: D4 1D        	pei	<L1000+currX_1
 22307 06:5AE3: F4 xx xx     	pea	#^L998+7
 22308 06:5AE6: F4 xx xx     	pea	#<L998+7
 22309 06:5AE9: 22 DB 1F 06  	jsl	~~k_draw_text_point
 22310                        ;	currY+=metric.height;
 22311                        	.line	3954
 22312 06:5AED: 18           	clc
 22313 06:5AEE: A5 1F        	lda	<L1000+currY_1
 22314 06:5AF0: 65 0B        	adc	<L1000+metric_1+2
 22315 06:5AF2: 85 1F        	sta	<L1000+currY_1
 22316                        ;	k_draw_text_point("RUN",currX,currY,15);
 22317                        	.line	3955
 22318 06:5AF4: F4 0F 00     	pea	#<$f
 22319 06:5AF7: D4 1F        	pei	<L1000+currY_1
 22320 06:5AF9: D4 1D        	pei	<L1000+currX_1
 22321 06:5AFB: F4 xx xx     	pea	#^L998+31
 22322 06:5AFE: F4 xx xx     	pea	#<L998+31
 22323 06:5B01: 22 DB 1F 06  	jsl	~~k_draw_text_point
 22324                        ;	currY+=metric.height;
 22325                        	.line	3956
 22326 06:5B05: 18           	clc
 22327 06:5B06: A5 1F        	lda	<L1000+currY_1
 22328 06:5B08: 65 0B        	adc	<L1000+metric_1+2
 22329 06:5B0A: 85 1F        	sta	<L1000+currY_1
 22330                        ;	k_draw_text_point("HELLO WORLD!",currX,currY,15)
                    ;
 22331                        	.line	3957
 22332 06:5B0C: F4 0F 00     	pea	#<$f
 22333 06:5B0F: D4 1F        	pei	<L1000+currY_1
 22334 06:5B11: D4 1D        	pei	<L1000+currX_1
 22335 06:5B13: F4 xx xx     	pea	#^L998+35
 22336 06:5B16: F4 xx xx     	pea	#<L998+35
 22337 06:5B19: 22 DB 1F 06  	jsl	~~k_draw_text_point
 22338                        ;}
 22339                        	.line	3958
 22340                        L1005:
 22341 06:5B1D: A5 24        	lda	<L999+2
 22342 06:5B1F: 85 34        	sta	<L999+2+16
 22343 06:5B21: A5 23        	lda	<L999+1
 22344 06:5B23: 85 33        	sta	<L999+1+16
 22345 06:5B25: 2B           	pld
 22346 06:5B26: 3B           	tsc
 22347 06:5B27: 18           	clc
 22348 06:5B28: 69 32 00     	adc	#L999+16
 22349 06:5B2B: 1B           	tcs
 22350 06:5B2C: 6B           	rtl
 22351                        	.endblock	3958
 22352             00000022   L999	equ	34
 22353             00000009   L1000	equ	9
 22354 06:5B2D:              	ends
 22355                        	efunc
 22356                        	.endfunc	3958,9,34
 22357                        	.line	3958
 22358                        	data
  Thu Jul 22 2021 22:51                                                Page 414


 22359                        L998:
 22360 00:09DC: 52 45 41 44  	db	$52,$45,$41,$44,$59,$2E,$00,$31,$30,$20,
                    $50,$52,$49,$4E,$54
       00:09E0: 59 2E 00 31 
       00:09E4: 30 20 50 52 
       00:09E8: 49 4E 54 
 22361 00:09EB: 20 22 48 45  	db	$20,$22,$48,$45,$4C,$4C,$4F,$20,$57,$4F,
                    $52,$4C,$44,$21,$22
       00:09EF: 4C 4C 4F 20 
       00:09F3: 57 4F 52 4C 
       00:09F7: 44 21 22 
 22362 00:09FA: 00 52 55 4E  	db	$00,$52,$55,$4E,$00,$48,$45,$4C,$4C,$4F,
                    $20,$57,$4F,$52,$4C
       00:09FE: 00 48 45 4C 
       00:0A02: 4C 4F 20 57 
       00:0A06: 4F 52 4C 
 22363 00:0A09: 44 21 00     	db	$44,$21,$00
 22364 00:0A0C:              	ends
 22365                        ;
 22366                        ;
 22367                        ;void k_paint_brush_rect(long x,long y,int width,i
                    nt height,BYTE pattern)
 22368                        ;{
 22369                        	.line	3961
 22370                        	.line	3962
 22371                        	GFX
 22372                        	xdef	~~k_paint_brush_rect
 22373                        	func
 22374                        	.function	3962
 22375                        ~~k_paint_brush_rect:
 22376                        	longa	on
 22377                        	longi	on
 22378 06:5B2D: 3B           	tsc
 22379 06:5B2E: 38           	sec
 22380 06:5B2F: E9 19 00     	sbc	#L1007
 22381 06:5B32: 1B           	tcs
 22382 06:5B33: 0B           	phd
 22383 06:5B34: 5B           	tcd
 22384             00000004   x_0	set	4
 22385             00000008   y_0	set	8
 22386             0000000C   width_0	set	12
 22387             0000000E   height_0	set	14
 22388             00000010   pattern_0	set	16
 22389                        	.block	3962
 22390                        ;	ULONG pos = 0L;
 22391                        ;	BOOL odd = FALSE;
 22392                        ;	long startLocation = (long)(( ((long)y) * 640L) 
                    + ((long)x) );
 22393                        ;	long endLocation   = (long)(( ((long)479) * 640L
                    ) + ((long)639) );
 22394                        ;
 22395                        ;	///k_paint_brush_at_address((char FAR * )pixelLo
                    cation, width, height,pattern);
 22396                        ;
 22397                        ;	for(pos=0;pos<479;pos++)
 22398             00000000   pos_1	set	0
 22399             00000004   odd_1	set	4
 22400             00000005   startLocation_1	set	5
  Thu Jul 22 2021 22:51                                                Page 415


 22401             00000009   endLocation_1	set	9
 22402                        	.sym	pos,0,18,1,32
 22403                        	.sym	odd,4,14,1,8
 22404                        	.sym	startLocation,5,7,1,32
 22405                        	.sym	endLocation,9,7,1,32
 22406                        	.sym	x,4,7,6,32
 22407                        	.sym	y,8,7,6,32
 22408                        	.sym	width,12,5,6,16
 22409                        	.sym	height,14,5,6,16
 22410                        	.sym	pattern,16,14,6,8
 22411 06:5B35: 64 0D        	stz	<L1008+pos_1
 22412 06:5B37: 64 0F        	stz	<L1008+pos_1+2
 22413 06:5B39: E2 20        	sep	#$20
 22414                        	longa	off
 22415 06:5B3B: 64 11        	stz	<L1008+odd_1
 22416 06:5B3D: C2 20        	rep	#$20
 22417                        	longa	on
 22418 06:5B3F: F4 00 00     	pea	#^$280
 22419 06:5B42: F4 80 02     	pea	#<$280
 22420 06:5B45: D4 23        	pei	<L1007+y_0+2
 22421 06:5B47: D4 21        	pei	<L1007+y_0
 22422                        	xref	~~~lmul
 22423 06:5B49: 22 xx xx xx  	jsl	~~~lmul
 22424 06:5B4D: 85 01        	sta	<R0
 22425 06:5B4F: 86 03        	stx	<R0+2
 22426 06:5B51: 18           	clc
 22427 06:5B52: A5 01        	lda	<R0
 22428 06:5B54: 65 1D        	adc	<L1007+x_0
 22429 06:5B56: 85 12        	sta	<L1008+startLocation_1
 22430 06:5B58: A5 03        	lda	<R0+2
 22431 06:5B5A: 65 1F        	adc	<L1007+x_0+2
 22432 06:5B5C: 85 14        	sta	<L1008+startLocation_1+2
 22433 06:5B5E: A9 FF AF     	lda	#$afff
 22434 06:5B61: 85 16        	sta	<L1008+endLocation_1
 22435 06:5B63: A9 04 00     	lda	#$4
 22436 06:5B66: 85 18        	sta	<L1008+endLocation_1+2
 22437                        	.line	3970
 22438 06:5B68: 64 0D        	stz	<L1008+pos_1
 22439 06:5B6A: 64 0F        	stz	<L1008+pos_1+2
 22440                        L10409:
 22441                        ;	{
 22442                        	.line	3971
 22443                        ;		if(odd)
 22444                        	.line	3972
 22445                        ;		{
 22446 06:5B6C: A5 11        	lda	<L1008+odd_1
 22447 06:5B6E: 29 FF 00     	and	#$ff
 22448 06:5B71: D0 03        	bne	L1010
 22449 06:5B73: 82 3D 00     	brl	L10410
 22450                        L1010:
 22451                        	.line	3973
 22452                        ;			memcpy( (LPCHAR)(0xB00000 + ((lo
                    ng)pos) * 640L)   ,BG_FILL_LINE_ODD,80);
 22453                        	.line	3974
 22454 06:5B76: F4 50 00     	pea	#<$50
 22455 06:5B79: A9 xx xx     	lda	#<~~BG_FILL_LINE_ODD
 22456 06:5B7C: 85 01        	sta	<R0
 22457                        	xref	_BEG_DATA
  Thu Jul 22 2021 22:51                                                Page 416


 22458 06:5B7E: A9 xx xx     	lda	#_BEG_DATA>>16
 22459 06:5B81: 85 03        	sta	<R0+2
 22460 06:5B83: D4 03        	pei	<R0+2
 22461 06:5B85: D4 01        	pei	<R0
 22462 06:5B87: F4 00 00     	pea	#^$280
 22463 06:5B8A: F4 80 02     	pea	#<$280
 22464 06:5B8D: D4 0F        	pei	<L1008+pos_1+2
 22465 06:5B8F: D4 0D        	pei	<L1008+pos_1
 22466                        	xref	~~~lmul
 22467 06:5B91: 22 xx xx xx  	jsl	~~~lmul
 22468 06:5B95: 85 05        	sta	<R1
 22469 06:5B97: 86 07        	stx	<R1+2
 22470 06:5B99: 18           	clc
 22471 06:5B9A: A9 00 00     	lda	#$0
 22472 06:5B9D: 65 05        	adc	<R1
 22473 06:5B9F: 85 09        	sta	<R2
 22474 06:5BA1: A9 B0 00     	lda	#$b0
 22475 06:5BA4: 65 07        	adc	<R1+2
 22476 06:5BA6: 85 0B        	sta	<R2+2
 22477 06:5BA8: D4 0B        	pei	<R2+2
 22478 06:5BAA: D4 09        	pei	<R2
 22479 06:5BAC: 22 xx xx xx  	jsl	~~memcpy
 22480                        ;		}
 22481                        	.line	3975
 22482                        ;		else
 22483 06:5BB0: 82 3A 00     	brl	L10411
 22484                        L10410:
 22485                        ;		{
 22486                        	.line	3977
 22487                        ;			memcpy( (LPCHAR)(0xB00000 + ((lo
                    ng)pos) * 640L) ,BG_FILL_LINE_EVEN,80);
 22488                        	.line	3978
 22489 06:5BB3: F4 50 00     	pea	#<$50
 22490 06:5BB6: A9 xx xx     	lda	#<~~BG_FILL_LINE_EVEN
 22491 06:5BB9: 85 01        	sta	<R0
 22492                        	xref	_BEG_DATA
 22493 06:5BBB: A9 xx xx     	lda	#_BEG_DATA>>16
 22494 06:5BBE: 85 03        	sta	<R0+2
 22495 06:5BC0: D4 03        	pei	<R0+2
 22496 06:5BC2: D4 01        	pei	<R0
 22497 06:5BC4: F4 00 00     	pea	#^$280
 22498 06:5BC7: F4 80 02     	pea	#<$280
 22499 06:5BCA: D4 0F        	pei	<L1008+pos_1+2
 22500 06:5BCC: D4 0D        	pei	<L1008+pos_1
 22501                        	xref	~~~lmul
 22502 06:5BCE: 22 xx xx xx  	jsl	~~~lmul
 22503 06:5BD2: 85 05        	sta	<R1
 22504 06:5BD4: 86 07        	stx	<R1+2
 22505 06:5BD6: 18           	clc
 22506 06:5BD7: A9 00 00     	lda	#$0
 22507 06:5BDA: 65 05        	adc	<R1
 22508 06:5BDC: 85 09        	sta	<R2
 22509 06:5BDE: A9 B0 00     	lda	#$b0
 22510 06:5BE1: 65 07        	adc	<R1+2
 22511 06:5BE3: 85 0B        	sta	<R2+2
 22512 06:5BE5: D4 0B        	pei	<R2+2
 22513 06:5BE7: D4 09        	pei	<R2
 22514 06:5BE9: 22 xx xx xx  	jsl	~~memcpy
  Thu Jul 22 2021 22:51                                                Page 417


 22515                        ;
 22516                        ;		}
 22517                        	.line	3980
 22518                        L10411:
 22519                        ;		odd=!odd;
 22520                        	.line	3981
 22521 06:5BED: 64 01        	stz	<R0
 22522 06:5BEF: A5 11        	lda	<L1008+odd_1
 22523 06:5BF1: 29 FF 00     	and	#$ff
 22524 06:5BF4: F0 03        	beq	L1012
 22525 06:5BF6: 82 02 00     	brl	L1011
 22526                        L1012:
 22527 06:5BF9: E6 01        	inc	<R0
 22528                        L1011:
 22529 06:5BFB: E2 20        	sep	#$20
 22530                        	longa	off
 22531 06:5BFD: A5 01        	lda	<R0
 22532 06:5BFF: 85 11        	sta	<L1008+odd_1
 22533 06:5C01: C2 20        	rep	#$20
 22534                        	longa	on
 22535                        ;	}
 22536                        	.line	3982
 22537                        L10407:
 22538 06:5C03: E6 0D        	inc	<L1008+pos_1
 22539 06:5C05: D0 02        	bne	L1013
 22540 06:5C07: E6 0F        	inc	<L1008+pos_1+2
 22541                        L1013:
 22542 06:5C09: A5 0D        	lda	<L1008+pos_1
 22543 06:5C0B: C9 DF 01     	cmp	#<$1df
 22544 06:5C0E: A5 0F        	lda	<L1008+pos_1+2
 22545 06:5C10: E9 00 00     	sbc	#^$1df
 22546 06:5C13: B0 03        	bcs	L1014
 22547 06:5C15: 82 54 FF     	brl	L10409
 22548                        L1014:
 22549                        L10408:
 22550                        ;
 22551                        ;
 22552                        ;
 22553                        ;	return;
 22554                        	.line	3986
 22555                        L1015:
 22556 06:5C18: A5 1B        	lda	<L1007+2
 22557 06:5C1A: 85 29        	sta	<L1007+2+14
 22558 06:5C1C: A5 1A        	lda	<L1007+1
 22559 06:5C1E: 85 28        	sta	<L1007+1+14
 22560 06:5C20: 2B           	pld
 22561 06:5C21: 3B           	tsc
 22562 06:5C22: 18           	clc
 22563 06:5C23: 69 27 00     	adc	#L1007+14
 22564 06:5C26: 1B           	tcs
 22565 06:5C27: 6B           	rtl
 22566                        ;}
 22567                        	.line	3987
 22568                        	.endblock	3987
 22569             00000019   L1007	equ	25
 22570             0000000D   L1008	equ	13
 22571 06:5C28:              	ends
 22572                        	efunc
  Thu Jul 22 2021 22:51                                                Page 418


 22573                        	.endfunc	3987,13,25
 22574                        	.line	3987
 22575                        ;
 22576                        ;void k_paint_brush_at_address(char FAR * pdst,int
                     width,int height,BYTE pattern)
 22577                        ;{
 22578                        	.line	3989
 22579                        	.line	3990
 22580                        	GFX
 22581                        	xdef	~~k_paint_brush_at_address
 22582                        	func
 22583                        	.function	3990
 22584                        ~~k_paint_brush_at_address:
 22585                        	longa	on
 22586                        	longi	on
 22587 06:5C28: 3B           	tsc
 22588 06:5C29: 38           	sec
 22589 06:5C2A: E9 0D 00     	sbc	#L1016
 22590 06:5C2D: 1B           	tcs
 22591 06:5C2E: 0B           	phd
 22592 06:5C2F: 5B           	tcd
 22593             00000004   pdst_0	set	4
 22594             00000008   width_0	set	8
 22595             0000000A   height_0	set	10
 22596             0000000C   pattern_0	set	12
 22597                        	.block	3990
 22598                        ;	int pos = 0;
 22599                        ;	int spinLock = 0;
 22600                        ;	char status = VDMA_STAT_VDMA_IPS;
 22601                        ;
 22602                        ;
 22603                        ;	while(status == VDMA_STAT_VDMA_IPS)
 22604             00000000   pos_1	set	0
 22605             00000002   spinLock_1	set	2
 22606             00000004   status_1	set	4
 22607                        	.sym	pos,0,5,1,16
 22608                        	.sym	spinLock,2,5,1,16
 22609                        	.sym	status,4,14,1,8
 22610                        	.sym	pdst,4,142,6,32
 22611                        	.sym	width,8,5,6,16
 22612                        	.sym	height,10,5,6,16
 22613                        	.sym	pattern,12,14,6,8
 22614 06:5C30: 64 09        	stz	<L1017+pos_1
 22615 06:5C32: 64 0B        	stz	<L1017+spinLock_1
 22616 06:5C34: E2 20        	sep	#$20
 22617                        	longa	off
 22618 06:5C36: A9 80        	lda	#$80
 22619 06:5C38: 85 0D        	sta	<L1017+status_1
 22620 06:5C3A: C2 20        	rep	#$20
 22621                        	longa	on
 22622                        	.line	3996
 22623                        L10412:
 22624 06:5C3C: E2 20        	sep	#$20
 22625                        	longa	off
 22626 06:5C3E: A5 0D        	lda	<L1017+status_1
 22627 06:5C40: C9 80        	cmp	#<$80
 22628 06:5C42: C2 20        	rep	#$20
 22629                        	longa	on
  Thu Jul 22 2021 22:51                                                Page 419


 22630 06:5C44: F0 03        	beq	L1019
 22631 06:5C46: 82 0F 00     	brl	L10413
 22632                        L1019:
 22633                        ;	{
 22634                        	.line	3997
 22635                        ;		status = (VDMA_STATUS_REG[0] & VDMA_STAT
                    _VDMA_IPS);
 22636                        	.line	3998
 22637 06:5C49: E2 20        	sep	#$20
 22638                        	longa	off
 22639 06:5C4B: AF 01 04 AF  	lda	>11469825
 22640 06:5C4F: 29 80        	and	#<$80
 22641 06:5C51: 85 0D        	sta	<L1017+status_1
 22642 06:5C53: C2 20        	rep	#$20
 22643                        	longa	on
 22644                        ;	}
 22645                        	.line	3999
 22646 06:5C55: 82 E4 FF     	brl	L10412
 22647                        L10413:
 22648                        ;
 22649                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE | VDMA_CT
                    RL_TRF_FILL;
 22650                        	.line	4001
 22651 06:5C58: E2 20        	sep	#$20
 22652                        	longa	off
 22653 06:5C5A: A9 05        	lda	#$5
 22654 06:5C5C: 8F 00 04 AF  	sta	>11469824
 22655 06:5C60: C2 20        	rep	#$20
 22656                        	longa	on
 22657                        ;
 22658                        ;	*BM_START_ADDY_L = 0x00;
 22659                        	.line	4003
 22660 06:5C62: E2 20        	sep	#$20
 22661                        	longa	off
 22662 06:5C64: A9 00        	lda	#$0
 22663 06:5C66: 8F 41 01 AF  	sta	>11469121
 22664 06:5C6A: C2 20        	rep	#$20
 22665                        	longa	on
 22666                        ;	*BM_START_ADDY_M = 0x00;
 22667                        	.line	4004
 22668 06:5C6C: E2 20        	sep	#$20
 22669                        	longa	off
 22670 06:5C6E: A9 00        	lda	#$0
 22671 06:5C70: 8F 42 01 AF  	sta	>11469122
 22672 06:5C74: C2 20        	rep	#$20
 22673                        	longa	on
 22674                        ;	*BM_START_ADDY_H = 0x00;
 22675                        	.line	4005
 22676 06:5C76: E2 20        	sep	#$20
 22677                        	longa	off
 22678 06:5C78: A9 00        	lda	#$0
 22679 06:5C7A: 8F 43 01 AF  	sta	>11469123
 22680 06:5C7E: C2 20        	rep	#$20
 22681                        	longa	on
 22682                        ;	*((char FAR*)0xAF1F80) = 0x02;
 22683                        	.line	4006
 22684 06:5C80: E2 20        	sep	#$20
 22685                        	longa	off
  Thu Jul 22 2021 22:51                                                Page 420


 22686 06:5C82: A9 02        	lda	#$2
 22687 06:5C84: 8F 80 1F AF  	sta	>11476864
 22688 06:5C88: C2 20        	rep	#$20
 22689                        	longa	on
 22690                        ;
 22691                        ;	*BM_X_SIZE_L = 0x80;
 22692                        	.line	4008
 22693 06:5C8A: E2 20        	sep	#$20
 22694                        	longa	off
 22695 06:5C8C: A9 80        	lda	#$80
 22696 06:5C8E: 8F 44 01 AF  	sta	>11469124
 22697 06:5C92: C2 20        	rep	#$20
 22698                        	longa	on
 22699                        ;	*BM_X_SIZE_H = 0x02;
 22700                        	.line	4009
 22701 06:5C94: E2 20        	sep	#$20
 22702                        	longa	off
 22703 06:5C96: A9 02        	lda	#$2
 22704 06:5C98: 8F 45 01 AF  	sta	>11469125
 22705 06:5C9C: C2 20        	rep	#$20
 22706                        	longa	on
 22707                        ;	*BM_Y_SIZE_L = 0xE0;
 22708                        	.line	4010
 22709 06:5C9E: E2 20        	sep	#$20
 22710                        	longa	off
 22711 06:5CA0: A9 E0        	lda	#$e0
 22712 06:5CA2: 8F 46 01 AF  	sta	>11469126
 22713 06:5CA6: C2 20        	rep	#$20
 22714                        	longa	on
 22715                        ;	*BM_Y_SIZE_H = 0x01;
 22716                        	.line	4011
 22717 06:5CA8: E2 20        	sep	#$20
 22718                        	longa	off
 22719 06:5CAA: A9 01        	lda	#$1
 22720 06:5CAC: 8F 47 01 AF  	sta	>11469127
 22721 06:5CB0: C2 20        	rep	#$20
 22722                        	longa	on
 22723                        ;
 22724                        ;	*VDMA_X_SIZE_L = LOBYTE(width);
 22725                        	.line	4013
 22726 06:5CB2: E2 20        	sep	#$20
 22727                        	longa	off
 22728 06:5CB4: A5 15        	lda	<L1016+width_0
 22729 06:5CB6: 8F 08 04 AF  	sta	>11469832
 22730 06:5CBA: C2 20        	rep	#$20
 22731                        	longa	on
 22732                        ;	*VDMA_X_SIZE_H = HIBYTE(width);
 22733                        	.line	4014
 22734 06:5CBC: A5 15        	lda	<L1016+width_0
 22735 06:5CBE: A2 08 00     	ldx	#<$8
 22736                        	xref	~~~asr
 22737 06:5CC1: 22 xx xx xx  	jsl	~~~asr
 22738 06:5CC5: 29 FF 00     	and	#<$ff
 22739 06:5CC8: 85 01        	sta	<R0
 22740 06:5CCA: E2 20        	sep	#$20
 22741                        	longa	off
 22742 06:5CCC: A5 01        	lda	<R0
 22743 06:5CCE: 8F 09 04 AF  	sta	>11469833
  Thu Jul 22 2021 22:51                                                Page 421


 22744 06:5CD2: C2 20        	rep	#$20
 22745                        	longa	on
 22746                        ;
 22747                        ;	*VDMA_Y_SIZE_L = LOBYTE(height);
 22748                        	.line	4016
 22749 06:5CD4: E2 20        	sep	#$20
 22750                        	longa	off
 22751 06:5CD6: A5 17        	lda	<L1016+height_0
 22752 06:5CD8: 8F 0A 04 AF  	sta	>11469834
 22753 06:5CDC: C2 20        	rep	#$20
 22754                        	longa	on
 22755                        ;	*VDMA_Y_SIZE_H = HIBYTE(height);
 22756                        	.line	4017
 22757 06:5CDE: A5 17        	lda	<L1016+height_0
 22758 06:5CE0: A2 08 00     	ldx	#<$8
 22759                        	xref	~~~asr
 22760 06:5CE3: 22 xx xx xx  	jsl	~~~asr
 22761 06:5CE7: 29 FF 00     	and	#<$ff
 22762 06:5CEA: 85 01        	sta	<R0
 22763 06:5CEC: E2 20        	sep	#$20
 22764                        	longa	off
 22765 06:5CEE: A5 01        	lda	<R0
 22766 06:5CF0: 8F 0B 04 AF  	sta	>11469835
 22767 06:5CF4: C2 20        	rep	#$20
 22768                        	longa	on
 22769                        ;
 22770                        ;	*VDMA_DST_STRIDE_L = 0x80;
 22771                        	.line	4019
 22772 06:5CF6: E2 20        	sep	#$20
 22773                        	longa	off
 22774 06:5CF8: A9 80        	lda	#$80
 22775 06:5CFA: 8F 0E 04 AF  	sta	>11469838
 22776 06:5CFE: C2 20        	rep	#$20
 22777                        	longa	on
 22778                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 22779                        	.line	4020
 22780 06:5D00: E2 20        	sep	#$20
 22781                        	longa	off
 22782 06:5D02: A9 02        	lda	#$2
 22783 06:5D04: 8F 0F 04 AF  	sta	>11469839
 22784 06:5D08: C2 20        	rep	#$20
 22785                        	longa	on
 22786                        ;
 22787                        ;
 22788                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 22789                        	.line	4023
 22790 06:5D0A: E2 20        	sep	#$20
 22791                        	longa	off
 22792 06:5D0C: A5 11        	lda	<L1016+pdst_0
 22793 06:5D0E: 8F 05 04 AF  	sta	>11469829
 22794 06:5D12: C2 20        	rep	#$20
 22795                        	longa	on
 22796                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 22797                        	.line	4024
 22798 06:5D14: D4 13        	pei	<L1016+pdst_0+2
 22799 06:5D16: D4 11        	pei	<L1016+pdst_0
 22800 06:5D18: A9 08 00     	lda	#$8
 22801                        	xref	~~~llsr
  Thu Jul 22 2021 22:51                                                Page 422


 22802 06:5D1B: 22 xx xx xx  	jsl	~~~llsr
 22803 06:5D1F: 85 01        	sta	<R0
 22804 06:5D21: 86 03        	stx	<R0+2
 22805 06:5D23: A5 01        	lda	<R0
 22806 06:5D25: 29 FF 00     	and	#<$ff
 22807 06:5D28: 85 05        	sta	<R1
 22808 06:5D2A: 64 07        	stz	<R1+2
 22809 06:5D2C: E2 20        	sep	#$20
 22810                        	longa	off
 22811 06:5D2E: A5 05        	lda	<R1
 22812 06:5D30: 8F 06 04 AF  	sta	>11469830
 22813 06:5D34: C2 20        	rep	#$20
 22814                        	longa	on
 22815                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 22816                        	.line	4025
 22817 06:5D36: D4 13        	pei	<L1016+pdst_0+2
 22818 06:5D38: D4 11        	pei	<L1016+pdst_0
 22819 06:5D3A: A9 10 00     	lda	#$10
 22820                        	xref	~~~llsr
 22821 06:5D3D: 22 xx xx xx  	jsl	~~~llsr
 22822 06:5D41: 85 01        	sta	<R0
 22823 06:5D43: 86 03        	stx	<R0+2
 22824 06:5D45: A5 01        	lda	<R0
 22825 06:5D47: 29 FF 00     	and	#<$ff
 22826 06:5D4A: 85 05        	sta	<R1
 22827 06:5D4C: 64 07        	stz	<R1+2
 22828 06:5D4E: E2 20        	sep	#$20
 22829                        	longa	off
 22830 06:5D50: A5 05        	lda	<R1
 22831 06:5D52: 8F 07 04 AF  	sta	>11469831
 22832 06:5D56: C2 20        	rep	#$20
 22833                        	longa	on
 22834                        ;
 22835                        ;	VDMA_BYTE_2_WRITE[0] = pattern;
 22836                        	.line	4027
 22837 06:5D58: E2 20        	sep	#$20
 22838                        	longa	off
 22839 06:5D5A: A5 19        	lda	<L1016+pattern_0
 22840 06:5D5C: 8F 01 04 AF  	sta	>11469825
 22841 06:5D60: C2 20        	rep	#$20
 22842                        	longa	on
 22843                        ;
 22844                        ;	VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VDMA_
                    CTRL_TRF_FILL | VDMA_CTRL_START_TRF);
 22845                        	.line	4029
 22846 06:5D62: E2 20        	sep	#$20
 22847                        	longa	off
 22848 06:5D64: A9 85        	lda	#$85
 22849 06:5D66: 8F 00 04 AF  	sta	>11469824
 22850 06:5D6A: C2 20        	rep	#$20
 22851                        	longa	on
 22852                        ;
 22853                        ;
 22854                        ;   return ;
 22855                        	.line	4032
 22856                        L1020:
 22857 06:5D6C: A5 0F        	lda	<L1016+2
 22858 06:5D6E: 85 19        	sta	<L1016+2+10
  Thu Jul 22 2021 22:51                                                Page 423


 22859 06:5D70: A5 0E        	lda	<L1016+1
 22860 06:5D72: 85 18        	sta	<L1016+1+10
 22861 06:5D74: 2B           	pld
 22862 06:5D75: 3B           	tsc
 22863 06:5D76: 18           	clc
 22864 06:5D77: 69 17 00     	adc	#L1016+10
 22865 06:5D7A: 1B           	tcs
 22866 06:5D7B: 6B           	rtl
 22867                        ;}
 22868                        	.line	4033
 22869                        	.endblock	4033
 22870             0000000D   L1016	equ	13
 22871             00000009   L1017	equ	9
 22872 06:5D7C:              	ends
 22873                        	efunc
 22874                        	.endfunc	4033,9,13
 22875                        	.line	4033
 22876                        ;
 22877                        ;void k_vdma_move_rect(long x,long y,int width,int
                     height,int dx,int dy,unsigned char pcolor,UINT page)
 22878                        ;{
 22879                        	.line	4035
 22880                        	.line	4036
 22881                        	GFX
 22882                        	xdef	~~k_vdma_move_rect
 22883                        	func
 22884                        	.function	4036
 22885                        ~~k_vdma_move_rect:
 22886                        	longa	on
 22887                        	longi	on
 22888 06:5D7C: 3B           	tsc
 22889 06:5D7D: 38           	sec
 22890 06:5D7E: E9 0E 00     	sbc	#L1021
 22891 06:5D81: 1B           	tcs
 22892 06:5D82: 0B           	phd
 22893 06:5D83: 5B           	tcd
 22894             00000004   x_0	set	4
 22895             00000008   y_0	set	8
 22896             0000000C   width_0	set	12
 22897             0000000E   height_0	set	14
 22898             00000010   dx_0	set	16
 22899             00000012   dy_0	set	18
 22900             00000014   pcolor_0	set	20
 22901             00000016   page_0	set	22
 22902                        	.block	4036
 22903                        ;	int slice = 0;
 22904                        ;
 22905                        ;
 22906                        ;
 22907                        ;
 22908                        ;	if(dx > 0)
 22909             00000000   slice_1	set	0
 22910                        	.sym	slice,0,5,1,16
 22911                        	.sym	x,4,7,6,32
 22912                        	.sym	y,8,7,6,32
 22913                        	.sym	width,12,5,6,16
 22914                        	.sym	height,14,5,6,16
 22915                        	.sym	dx,16,5,6,16
  Thu Jul 22 2021 22:51                                                Page 424


 22916                        	.sym	dy,18,5,6,16
 22917                        	.sym	pcolor,20,14,6,8
 22918                        	.sym	page,22,16,6,16
 22919 06:5D84: 64 0D        	stz	<L1022+slice_1
 22920                        	.line	4042
 22921                        ;	{
 22922 06:5D86: 38           	sec
 22923 06:5D87: A9 00 00     	lda	#$0
 22924 06:5D8A: E5 1E        	sbc	<L1021+dx_0
 22925 06:5D8C: 70 03        	bvs	L1024
 22926 06:5D8E: 49 00 80     	eor	#$8000
 22927                        L1024:
 22928 06:5D91: 10 03        	bpl	L1025
 22929 06:5D93: 82 62 00     	brl	L10414
 22930                        L1025:
 22931                        	.line	4043
 22932                        ;		slice = dx;
 22933                        	.line	4044
 22934 06:5D96: A5 1E        	lda	<L1021+dx_0
 22935 06:5D98: 85 0D        	sta	<L1022+slice_1
 22936                        ;		k_vdma_fill_rect_ex(x+width,y,slice,heig
                    ht,pcolor,page);
 22937                        	.line	4045
 22938 06:5D9A: D4 24        	pei	<L1021+page_0
 22939 06:5D9C: D4 22        	pei	<L1021+pcolor_0
 22940 06:5D9E: D4 1C        	pei	<L1021+height_0
 22941 06:5DA0: D4 0D        	pei	<L1022+slice_1
 22942 06:5DA2: D4 18        	pei	<L1021+y_0+2
 22943 06:5DA4: D4 16        	pei	<L1021+y_0
 22944 06:5DA6: A0 00 00     	ldy	#$0
 22945 06:5DA9: A5 1A        	lda	<L1021+width_0
 22946 06:5DAB: 10 01        	bpl	L1026
 22947 06:5DAD: 88           	dey
 22948                        L1026:
 22949 06:5DAE: 85 01        	sta	<R0
 22950 06:5DB0: 84 03        	sty	<R0+2
 22951 06:5DB2: 18           	clc
 22952 06:5DB3: A5 01        	lda	<R0
 22953 06:5DB5: 65 12        	adc	<L1021+x_0
 22954 06:5DB7: 85 05        	sta	<R1
 22955 06:5DB9: A5 03        	lda	<R0+2
 22956 06:5DBB: 65 14        	adc	<L1021+x_0+2
 22957 06:5DBD: 85 07        	sta	<R1+2
 22958 06:5DBF: D4 07        	pei	<R1+2
 22959 06:5DC1: D4 05        	pei	<R1
 22960 06:5DC3: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 22961                        ;		k_vdma_fill_rect_ex(x-dx,y,slice,height,
                    FILLCOLOR_TRANSPARENT,page);
 22962                        	.line	4046
 22963 06:5DC7: D4 24        	pei	<L1021+page_0
 22964 06:5DC9: F4 00 00     	pea	#<$0
 22965 06:5DCC: D4 1C        	pei	<L1021+height_0
 22966 06:5DCE: D4 0D        	pei	<L1022+slice_1
 22967 06:5DD0: D4 18        	pei	<L1021+y_0+2
 22968 06:5DD2: D4 16        	pei	<L1021+y_0
 22969 06:5DD4: A0 00 00     	ldy	#$0
 22970 06:5DD7: A5 1E        	lda	<L1021+dx_0
 22971 06:5DD9: 10 01        	bpl	L1027
  Thu Jul 22 2021 22:51                                                Page 425


 22972 06:5DDB: 88           	dey
 22973                        L1027:
 22974 06:5DDC: 85 01        	sta	<R0
 22975 06:5DDE: 84 03        	sty	<R0+2
 22976 06:5DE0: 38           	sec
 22977 06:5DE1: A5 12        	lda	<L1021+x_0
 22978 06:5DE3: E5 01        	sbc	<R0
 22979 06:5DE5: 85 05        	sta	<R1
 22980 06:5DE7: A5 14        	lda	<L1021+x_0+2
 22981 06:5DE9: E5 03        	sbc	<R0+2
 22982 06:5DEB: 85 07        	sta	<R1+2
 22983 06:5DED: D4 07        	pei	<R1+2
 22984 06:5DEF: D4 05        	pei	<R1
 22985 06:5DF1: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 22986                        ;	}
 22987                        	.line	4047
 22988                        ;	else if (dx < 0)
 22989 06:5DF5: 82 83 00     	brl	L10415
 22990                        L10414:
 22991                        	.line	4048
 22992                        ;	{
 22993 06:5DF8: A5 1E        	lda	<L1021+dx_0
 22994 06:5DFA: 30 03        	bmi	L1028
 22995 06:5DFC: 82 7C 00     	brl	L10416
 22996                        L1028:
 22997                        	.line	4049
 22998                        ;		slice = (-1*dx);
 22999                        	.line	4050
 23000 06:5DFF: 38           	sec
 23001 06:5E00: A9 00 00     	lda	#$0
 23002 06:5E03: E5 1E        	sbc	<L1021+dx_0
 23003 06:5E05: 85 0D        	sta	<L1022+slice_1
 23004                        ;		k_vdma_fill_rect_ex(x+dx,y,slice,height,
                    pcolor,page);
 23005                        	.line	4051
 23006 06:5E07: D4 24        	pei	<L1021+page_0
 23007 06:5E09: D4 22        	pei	<L1021+pcolor_0
 23008 06:5E0B: D4 1C        	pei	<L1021+height_0
 23009 06:5E0D: D4 0D        	pei	<L1022+slice_1
 23010 06:5E0F: D4 18        	pei	<L1021+y_0+2
 23011 06:5E11: D4 16        	pei	<L1021+y_0
 23012 06:5E13: A0 00 00     	ldy	#$0
 23013 06:5E16: A5 1E        	lda	<L1021+dx_0
 23014 06:5E18: 10 01        	bpl	L1029
 23015 06:5E1A: 88           	dey
 23016                        L1029:
 23017 06:5E1B: 85 01        	sta	<R0
 23018 06:5E1D: 84 03        	sty	<R0+2
 23019 06:5E1F: 18           	clc
 23020 06:5E20: A5 01        	lda	<R0
 23021 06:5E22: 65 12        	adc	<L1021+x_0
 23022 06:5E24: 85 05        	sta	<R1
 23023 06:5E26: A5 03        	lda	<R0+2
 23024 06:5E28: 65 14        	adc	<L1021+x_0+2
 23025 06:5E2A: 85 07        	sta	<R1+2
 23026 06:5E2C: D4 07        	pei	<R1+2
 23027 06:5E2E: D4 05        	pei	<R1
 23028 06:5E30: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
  Thu Jul 22 2021 22:51                                                Page 426


 23029                        ;		k_vdma_fill_rect_ex(x+width-slice,y,slic
                    e,height,FILLCOLOR_TRANSPARENT,page);
 23030                        	.line	4052
 23031 06:5E34: D4 24        	pei	<L1021+page_0
 23032 06:5E36: F4 00 00     	pea	#<$0
 23033 06:5E39: D4 1C        	pei	<L1021+height_0
 23034 06:5E3B: D4 0D        	pei	<L1022+slice_1
 23035 06:5E3D: D4 18        	pei	<L1021+y_0+2
 23036 06:5E3F: D4 16        	pei	<L1021+y_0
 23037 06:5E41: A0 00 00     	ldy	#$0
 23038 06:5E44: A5 0D        	lda	<L1022+slice_1
 23039 06:5E46: 10 01        	bpl	L1030
 23040 06:5E48: 88           	dey
 23041                        L1030:
 23042 06:5E49: 85 01        	sta	<R0
 23043 06:5E4B: 84 03        	sty	<R0+2
 23044 06:5E4D: A0 00 00     	ldy	#$0
 23045 06:5E50: A5 1A        	lda	<L1021+width_0
 23046 06:5E52: 10 01        	bpl	L1031
 23047 06:5E54: 88           	dey
 23048                        L1031:
 23049 06:5E55: 85 05        	sta	<R1
 23050 06:5E57: 84 07        	sty	<R1+2
 23051 06:5E59: 18           	clc
 23052 06:5E5A: A5 05        	lda	<R1
 23053 06:5E5C: 65 12        	adc	<L1021+x_0
 23054 06:5E5E: 85 09        	sta	<R2
 23055 06:5E60: A5 07        	lda	<R1+2
 23056 06:5E62: 65 14        	adc	<L1021+x_0+2
 23057 06:5E64: 85 0B        	sta	<R2+2
 23058 06:5E66: 38           	sec
 23059 06:5E67: A5 09        	lda	<R2
 23060 06:5E69: E5 01        	sbc	<R0
 23061 06:5E6B: 85 05        	sta	<R1
 23062 06:5E6D: A5 0B        	lda	<R2+2
 23063 06:5E6F: E5 03        	sbc	<R0+2
 23064 06:5E71: 85 07        	sta	<R1+2
 23065 06:5E73: D4 07        	pei	<R1+2
 23066 06:5E75: D4 05        	pei	<R1
 23067 06:5E77: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 23068                        ;	}
 23069                        	.line	4053
 23070                        ;}
 23071                        L10416:
 23072                        L10415:
 23073                        	.line	4054
 23074                        L1032:
 23075 06:5E7B: A5 10        	lda	<L1021+2
 23076 06:5E7D: 85 24        	sta	<L1021+2+20
 23077 06:5E7F: A5 0F        	lda	<L1021+1
 23078 06:5E81: 85 23        	sta	<L1021+1+20
 23079 06:5E83: 2B           	pld
 23080 06:5E84: 3B           	tsc
 23081 06:5E85: 18           	clc
 23082 06:5E86: 69 22 00     	adc	#L1021+20
 23083 06:5E89: 1B           	tcs
 23084 06:5E8A: 6B           	rtl
 23085                        	.endblock	4054
  Thu Jul 22 2021 22:51                                                Page 427


 23086             0000000E   L1021	equ	14
 23087             0000000D   L1022	equ	13
 23088 06:5E8B:              	ends
 23089                        	efunc
 23090                        	.endfunc	4054,13,14
 23091                        	.line	4054
 23092                        ;
 23093                        ;void k_vdma_fill_rect_ex(long x,long y,int width,
                    int height,unsigned char pcolor,UINT page)
 23094                        ;{
 23095                        	.line	4056
 23096                        	.line	4057
 23097                        	GFX
 23098                        	xdef	~~k_vdma_fill_rect_ex
 23099                        	func
 23100                        	.function	4057
 23101                        ~~k_vdma_fill_rect_ex:
 23102                        	longa	on
 23103                        	longi	on
 23104 06:5E8B: 3B           	tsc
 23105 06:5E8C: 38           	sec
 23106 06:5E8D: E9 0C 00     	sbc	#L1033
 23107 06:5E90: 1B           	tcs
 23108 06:5E91: 0B           	phd
 23109 06:5E92: 5B           	tcd
 23110             00000004   x_0	set	4
 23111             00000008   y_0	set	8
 23112             0000000C   width_0	set	12
 23113             0000000E   height_0	set	14
 23114             00000010   pcolor_0	set	16
 23115             00000012   page_0	set	18
 23116                        	.block	4057
 23117                        ;	long pixelLocation = 0L;
 23118                        ;
 23119                        ;	if(x < GUI_POINT_LIMIT_X_LO)
 23120             00000000   pixelLocation_1	set	0
 23121                        	.sym	pixelLocation,0,7,1,32
 23122                        	.sym	x,4,7,6,32
 23123                        	.sym	y,8,7,6,32
 23124                        	.sym	width,12,5,6,16
 23125                        	.sym	height,14,5,6,16
 23126                        	.sym	pcolor,16,14,6,8
 23127                        	.sym	page,18,16,6,16
 23128 06:5E93: 64 09        	stz	<L1034+pixelLocation_1
 23129 06:5E95: 64 0B        	stz	<L1034+pixelLocation_1+2
 23130                        	.line	4060
 23131                        ;	{
 23132 06:5E97: A5 12        	lda	<L1033+x_0+2
 23133 06:5E99: 30 03        	bmi	L1036
 23134 06:5E9B: 82 21 00     	brl	L10417
 23135                        L1036:
 23136                        	.line	4061
 23137                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    x-over:-x:",(int)x);
 23138                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    x-over:-width:",(int)width);
 23139                        ;		width = (width + x);
 23140                        	.line	4064
  Thu Jul 22 2021 22:51                                                Page 428


 23141 06:5E9E: A0 00 00     	ldy	#$0
 23142 06:5EA1: A5 18        	lda	<L1033+width_0
 23143 06:5EA3: 10 01        	bpl	L1037
 23144 06:5EA5: 88           	dey
 23145                        L1037:
 23146 06:5EA6: 85 01        	sta	<R0
 23147 06:5EA8: 84 03        	sty	<R0+2
 23148 06:5EAA: 18           	clc
 23149 06:5EAB: A5 01        	lda	<R0
 23150 06:5EAD: 65 10        	adc	<L1033+x_0
 23151 06:5EAF: 85 05        	sta	<R1
 23152 06:5EB1: A5 03        	lda	<R0+2
 23153 06:5EB3: 65 12        	adc	<L1033+x_0+2
 23154 06:5EB5: 85 07        	sta	<R1+2
 23155 06:5EB7: A5 05        	lda	<R1
 23156 06:5EB9: 85 18        	sta	<L1033+width_0
 23157                        ;		x = GUI_POINT_LIMIT_X_LO;
 23158                        	.line	4065
 23159 06:5EBB: 64 10        	stz	<L1033+x_0
 23160 06:5EBD: 64 12        	stz	<L1033+x_0+2
 23161                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    x-over:width:",(int)width);
 23162                        ;	}
 23163                        	.line	4067
 23164                        ;
 23165                        ;	if(y < GUI_POINT_LIMIT_Y_LO)
 23166                        L10417:
 23167                        	.line	4069
 23168                        ;	{
 23169 06:5EBF: A5 16        	lda	<L1033+y_0+2
 23170 06:5EC1: 30 03        	bmi	L1038
 23171 06:5EC3: 82 21 00     	brl	L10418
 23172                        L1038:
 23173                        	.line	4070
 23174                        ;		height = (height + y);
 23175                        	.line	4071
 23176 06:5EC6: A0 00 00     	ldy	#$0
 23177 06:5EC9: A5 1A        	lda	<L1033+height_0
 23178 06:5ECB: 10 01        	bpl	L1039
 23179 06:5ECD: 88           	dey
 23180                        L1039:
 23181 06:5ECE: 85 01        	sta	<R0
 23182 06:5ED0: 84 03        	sty	<R0+2
 23183 06:5ED2: 18           	clc
 23184 06:5ED3: A5 01        	lda	<R0
 23185 06:5ED5: 65 14        	adc	<L1033+y_0
 23186 06:5ED7: 85 05        	sta	<R1
 23187 06:5ED9: A5 03        	lda	<R0+2
 23188 06:5EDB: 65 16        	adc	<L1033+y_0+2
 23189 06:5EDD: 85 07        	sta	<R1+2
 23190 06:5EDF: A5 05        	lda	<R1
 23191 06:5EE1: 85 1A        	sta	<L1033+height_0
 23192                        ;		y = GUI_POINT_LIMIT_Y_LO;
 23193                        	.line	4072
 23194 06:5EE3: 64 14        	stz	<L1033+y_0
 23195 06:5EE5: 64 16        	stz	<L1033+y_0+2
 23196                        ;	}
 23197                        	.line	4073
  Thu Jul 22 2021 22:51                                                Page 429


 23198                        ;
 23199                        ;	if(x > GUI_POINT_LIMIT_X_HI)
 23200                        L10418:
 23201                        	.line	4075
 23202                        ;		x = GUI_POINT_LIMIT_X_HI - 1;
 23203 06:5EE7: 38           	sec
 23204 06:5EE8: A9 80 02     	lda	#$280
 23205 06:5EEB: E5 10        	sbc	<L1033+x_0
 23206 06:5EED: A9 00 00     	lda	#$0
 23207 06:5EF0: E5 12        	sbc	<L1033+x_0+2
 23208 06:5EF2: 70 03        	bvs	L1040
 23209 06:5EF4: 49 00 80     	eor	#$8000
 23210                        L1040:
 23211 06:5EF7: 10 03        	bpl	L1041
 23212 06:5EF9: 82 0A 00     	brl	L10419
 23213                        L1041:
 23214                        	.line	4076
 23215 06:5EFC: A9 7F 02     	lda	#$27f
 23216 06:5EFF: 85 10        	sta	<L1033+x_0
 23217 06:5F01: A9 00 00     	lda	#$0
 23218 06:5F04: 85 12        	sta	<L1033+x_0+2
 23219                        ;
 23220                        ;	if(y > GUI_POINT_LIMIT_Y_HI)
 23221                        L10419:
 23222                        	.line	4078
 23223                        ;		y = GUI_POINT_LIMIT_Y_HI - 1;
 23224 06:5F06: 38           	sec
 23225 06:5F07: A9 E0 01     	lda	#$1e0
 23226 06:5F0A: E5 14        	sbc	<L1033+y_0
 23227 06:5F0C: A9 00 00     	lda	#$0
 23228 06:5F0F: E5 16        	sbc	<L1033+y_0+2
 23229 06:5F11: 70 03        	bvs	L1042
 23230 06:5F13: 49 00 80     	eor	#$8000
 23231                        L1042:
 23232 06:5F16: 10 03        	bpl	L1043
 23233 06:5F18: 82 0A 00     	brl	L10420
 23234                        L1043:
 23235                        	.line	4079
 23236 06:5F1B: A9 DF 01     	lda	#$1df
 23237 06:5F1E: 85 14        	sta	<L1033+y_0
 23238 06:5F20: A9 00 00     	lda	#$0
 23239 06:5F23: 85 16        	sta	<L1033+y_0+2
 23240                        ;
 23241                        ;	if((int)x + width > GUI_POINT_LIMIT_X_HI)
 23242                        L10420:
 23243                        	.line	4081
 23244                        ;	{
 23245 06:5F25: 18           	clc
 23246 06:5F26: A5 10        	lda	<L1033+x_0
 23247 06:5F28: 65 18        	adc	<L1033+width_0
 23248 06:5F2A: 85 01        	sta	<R0
 23249 06:5F2C: 38           	sec
 23250 06:5F2D: A9 80 02     	lda	#$280
 23251 06:5F30: E5 01        	sbc	<R0
 23252 06:5F32: 70 03        	bvs	L1044
 23253 06:5F34: 49 00 80     	eor	#$8000
 23254                        L1044:
 23255 06:5F37: 10 03        	bpl	L1045
  Thu Jul 22 2021 22:51                                                Page 430


 23256 06:5F39: 82 14 00     	brl	L10421
 23257                        L1045:
 23258                        	.line	4082
 23259                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    x-over:x:",(int)x);
 23260                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    x-over:width:",(int)width);
 23261                        ;
 23262                        ;		width = GUI_POINT_LIMIT_X_HI - (int)x;
 23263                        	.line	4086
 23264 06:5F3C: 38           	sec
 23265 06:5F3D: A9 80 02     	lda	#$280
 23266 06:5F40: E5 10        	sbc	<L1033+x_0
 23267 06:5F42: 85 18        	sta	<L1033+width_0
 23268                        ;
 23269                        ;		k_debug_integer("k_vdma_fill_rect_ex::x-
                    over:width:adjusted:",(int)width);
 23270                        	.line	4088
 23271 06:5F44: D4 18        	pei	<L1033+width_0
 23272 06:5F46: F4 xx xx     	pea	#^L1006
 23273 06:5F49: F4 xx xx     	pea	#<L1006
 23274 06:5F4C: 22 xx xx xx  	jsl	~~k_debug_integer
 23275                        ;	}
 23276                        	.line	4089
 23277                        ;
 23278                        ;	if((int)y + height > GUI_POINT_LIMIT_Y_HI)
 23279                        L10421:
 23280                        	.line	4091
 23281                        ;	{
 23282 06:5F50: 18           	clc
 23283 06:5F51: A5 14        	lda	<L1033+y_0
 23284 06:5F53: 65 1A        	adc	<L1033+height_0
 23285 06:5F55: 85 01        	sta	<R0
 23286 06:5F57: 38           	sec
 23287 06:5F58: A9 E0 01     	lda	#$1e0
 23288 06:5F5B: E5 01        	sbc	<R0
 23289 06:5F5D: 70 03        	bvs	L1046
 23290 06:5F5F: 49 00 80     	eor	#$8000
 23291                        L1046:
 23292 06:5F62: 10 03        	bpl	L1047
 23293 06:5F64: 82 14 00     	brl	L10422
 23294                        L1047:
 23295                        	.line	4092
 23296                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    y-over:y:",y);
 23297                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    y-over:height:",height);
 23298                        ;
 23299                        ;		height = GUI_POINT_LIMIT_Y_HI - (int)y;
 23300                        	.line	4096
 23301 06:5F67: 38           	sec
 23302 06:5F68: A9 E0 01     	lda	#$1e0
 23303 06:5F6B: E5 14        	sbc	<L1033+y_0
 23304 06:5F6D: 85 1A        	sta	<L1033+height_0
 23305                        ;
 23306                        ;		k_debug_integer("k_vdma_fill_rect_ex::y-
                    over:height:adjusted:",height);
 23307                        	.line	4098
  Thu Jul 22 2021 22:51                                                Page 431


 23308 06:5F6F: D4 1A        	pei	<L1033+height_0
 23309 06:5F71: F4 xx xx     	pea	#^L1006+44
 23310 06:5F74: F4 xx xx     	pea	#<L1006+44
 23311 06:5F77: 22 xx xx xx  	jsl	~~k_debug_integer
 23312                        ;	}
 23313                        	.line	4099
 23314                        ;	pixelLocation = (long)(( ((long)y) * (640L)) + (
                    (long)x) );
 23315                        L10422:
 23316                        	.line	4100
 23317 06:5F7B: F4 00 00     	pea	#^$280
 23318 06:5F7E: F4 80 02     	pea	#<$280
 23319 06:5F81: D4 16        	pei	<L1033+y_0+2
 23320 06:5F83: D4 14        	pei	<L1033+y_0
 23321                        	xref	~~~lmul
 23322 06:5F85: 22 xx xx xx  	jsl	~~~lmul
 23323 06:5F89: 85 01        	sta	<R0
 23324 06:5F8B: 86 03        	stx	<R0+2
 23325 06:5F8D: 18           	clc
 23326 06:5F8E: A5 01        	lda	<R0
 23327 06:5F90: 65 10        	adc	<L1033+x_0
 23328 06:5F92: 85 09        	sta	<L1034+pixelLocation_1
 23329 06:5F94: A5 03        	lda	<R0+2
 23330 06:5F96: 65 12        	adc	<L1033+x_0+2
 23331 06:5F98: 85 0B        	sta	<L1034+pixelLocation_1+2
 23332                        ;
 23333                        ;	//k_debug_integer("k_vdma_fill_rect:",page);
 23334                        ;	//k_debug_integer("k_vdma_fill_width:",width);
 23335                        ;	//k_debug_integer("k_vdma_fill_height:",height);
 23336                        ;
 23337                        ;	k_vdma_fill_address_ex((char FAR * )pixelLocatio
                    n, width, height,pcolor,page);
 23338                        	.line	4106
 23339 06:5F9A: D4 1E        	pei	<L1033+page_0
 23340 06:5F9C: D4 1C        	pei	<L1033+pcolor_0
 23341 06:5F9E: D4 1A        	pei	<L1033+height_0
 23342 06:5FA0: D4 18        	pei	<L1033+width_0
 23343 06:5FA2: D4 0B        	pei	<L1034+pixelLocation_1+2
 23344 06:5FA4: D4 09        	pei	<L1034+pixelLocation_1
 23345 06:5FA6: 22 05 63 06  	jsl	~~k_vdma_fill_address_ex
 23346                        ;
 23347                        ;	return;
 23348                        	.line	4108
 23349                        L1048:
 23350 06:5FAA: A5 0E        	lda	<L1033+2
 23351 06:5FAC: 85 1E        	sta	<L1033+2+16
 23352 06:5FAE: A5 0D        	lda	<L1033+1
 23353 06:5FB0: 85 1D        	sta	<L1033+1+16
 23354 06:5FB2: 2B           	pld
 23355 06:5FB3: 3B           	tsc
 23356 06:5FB4: 18           	clc
 23357 06:5FB5: 69 1C 00     	adc	#L1033+16
 23358 06:5FB8: 1B           	tcs
 23359 06:5FB9: 6B           	rtl
 23360                        ;}
 23361                        	.line	4109
 23362                        	.endblock	4109
 23363             0000000C   L1033	equ	12
  Thu Jul 22 2021 22:51                                                Page 432


 23364             00000009   L1034	equ	9
 23365 06:5FBA:              	ends
 23366                        	efunc
 23367                        	.endfunc	4109,9,12
 23368                        	.line	4109
 23369                        	data
 23370                        L1006:
 23371 00:0A0C: 6B 5F 76 64  	db	$6B,$5F,$76,$64,$6D,$61,$5F,$66,$69,$6C,
                    $6C,$5F,$72,$65,$63
       00:0A10: 6D 61 5F 66 
       00:0A14: 69 6C 6C 5F 
       00:0A18: 72 65 63 
 23372 00:0A1B: 74 5F 65 78  	db	$74,$5F,$65,$78,$3A,$3A,$78,$2D,$6F,$76,
                    $65,$72,$3A,$77,$69
       00:0A1F: 3A 3A 78 2D 
       00:0A23: 6F 76 65 72 
       00:0A27: 3A 77 69 
 23373 00:0A2A: 64 74 68 3A  	db	$64,$74,$68,$3A,$61,$64,$6A,$75,$73,$74,
                    $65,$64,$3A,$00,$6B
       00:0A2E: 61 64 6A 75 
       00:0A32: 73 74 65 64 
       00:0A36: 3A 00 6B 
 23374 00:0A39: 5F 76 64 6D  	db	$5F,$76,$64,$6D,$61,$5F,$66,$69,$6C,$6C,
                    $5F,$72,$65,$63,$74
       00:0A3D: 61 5F 66 69 
       00:0A41: 6C 6C 5F 72 
       00:0A45: 65 63 74 
 23375 00:0A48: 5F 65 78 3A  	db	$5F,$65,$78,$3A,$3A,$79,$2D,$6F,$76,$65,
                    $72,$3A,$68,$65,$69
       00:0A4C: 3A 79 2D 6F 
       00:0A50: 76 65 72 3A 
       00:0A54: 68 65 69 
 23376 00:0A57: 67 68 74 3A  	db	$67,$68,$74,$3A,$61,$64,$6A,$75,$73,$74,
                    $65,$64,$3A,$00
       00:0A5B: 61 64 6A 75 
       00:0A5F: 73 74 65 64 
       00:0A63: 3A 00 
 23377 00:0A65:              	ends
 23378                        ;
 23379                        ;void k_vdma_fill_rect(long x,long y,int width,int
                     height,unsigned char pcolor)
 23380                        ;{
 23381                        	.line	4111
 23382                        	.line	4112
 23383                        	GFX
 23384                        	xdef	~~k_vdma_fill_rect
 23385                        	func
 23386                        	.function	4112
 23387                        ~~k_vdma_fill_rect:
 23388                        	longa	on
 23389                        	longi	on
 23390 06:5FBA: 3B           	tsc
 23391 06:5FBB: 38           	sec
 23392 06:5FBC: E9 00 00     	sbc	#L1050
 23393 06:5FBF: 1B           	tcs
 23394 06:5FC0: 0B           	phd
 23395 06:5FC1: 5B           	tcd
 23396             00000004   x_0	set	4
  Thu Jul 22 2021 22:51                                                Page 433


 23397             00000008   y_0	set	8
 23398             0000000C   width_0	set	12
 23399             0000000E   height_0	set	14
 23400             00000010   pcolor_0	set	16
 23401                        	.block	4112
 23402                        ;	k_vdma_fill_rect_ex(x,y,width,height,pcolor,BITM
                    AP_BACK);
 23403                        	.sym	x,4,7,6,32
 23404                        	.sym	y,8,7,6,32
 23405                        	.sym	width,12,5,6,16
 23406                        	.sym	height,14,5,6,16
 23407                        	.sym	pcolor,16,14,6,8
 23408                        	.line	4113
 23409 06:5FC2: F4 08 00     	pea	#<$8
 23410 06:5FC5: D4 10        	pei	<L1050+pcolor_0
 23411 06:5FC7: D4 0E        	pei	<L1050+height_0
 23412 06:5FC9: D4 0C        	pei	<L1050+width_0
 23413 06:5FCB: D4 0A        	pei	<L1050+y_0+2
 23414 06:5FCD: D4 08        	pei	<L1050+y_0
 23415 06:5FCF: D4 06        	pei	<L1050+x_0+2
 23416 06:5FD1: D4 04        	pei	<L1050+x_0
 23417 06:5FD3: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 23418                        ;}
 23419                        	.line	4114
 23420                        L1053:
 23421 06:5FD7: A5 02        	lda	<L1050+2
 23422 06:5FD9: 85 10        	sta	<L1050+2+14
 23423 06:5FDB: A5 01        	lda	<L1050+1
 23424 06:5FDD: 85 0F        	sta	<L1050+1+14
 23425 06:5FDF: 2B           	pld
 23426 06:5FE0: 3B           	tsc
 23427 06:5FE1: 18           	clc
 23428 06:5FE2: 69 0E 00     	adc	#L1050+14
 23429 06:5FE5: 1B           	tcs
 23430 06:5FE6: 6B           	rtl
 23431                        	.endblock	4114
 23432             00000000   L1050	equ	0
 23433             00000001   L1051	equ	1
 23434 06:5FE7:              	ends
 23435                        	efunc
 23436                        	.endfunc	4114,1,0
 23437                        	.line	4114
 23438                        ;
 23439                        ;/*
 23440                        ;void k_vdma_fill_rect(long x,long y,int width,int
                     height,unsigned char pcolor)
 23441                        ;{
 23442                        ;	long pixelLocation = (long)(( ((long)y) * (640L)
                    ) + ((long)x) );
 23443                        ;
 23444                        ;	//k_debug_string("k_vdma_fill_rect V2\r\n");
 23445                        ;
 23446                        ;	//k_vdma_fill_address((char FAR * )pixelLocation
                    , width - 2, height - 1,pcolor);
 23447                        ;	k_vdma_fill_address((char FAR * )pixelLocation, 
                    width, height,pcolor);
 23448                        ;#ifdef FX_C256_USESHADOW
 23449                        ;	k_shadow_fill_rect(x,y, width, height, pcolor);
  Thu Jul 22 2021 22:51                                                Page 434


 23450                        ;#endif
 23451                        ;	//k_shadow_bitblt(x,y,width,height,x,y);
 23452                        ;
 23453                        ;	return;
 23454                        ;}
 23455                        ;*/
 23456                        ;
 23457                        ;void k_vdma_fill_address_old(char FAR * pdst,int 
                    width,int height,unsigned char data)
 23458                        ;{
 23459                        	.line	4134
 23460                        	.line	4135
 23461                        	GFX
 23462                        	xdef	~~k_vdma_fill_address_old
 23463                        	func
 23464                        	.function	4135
 23465                        ~~k_vdma_fill_address_old:
 23466                        	longa	on
 23467                        	longi	on
 23468 06:5FE7: 3B           	tsc
 23469 06:5FE8: 38           	sec
 23470 06:5FE9: E9 0D 00     	sbc	#L1054
 23471 06:5FEC: 1B           	tcs
 23472 06:5FED: 0B           	phd
 23473 06:5FEE: 5B           	tcd
 23474             00000004   pdst_0	set	4
 23475             00000008   width_0	set	8
 23476             0000000A   height_0	set	10
 23477             0000000C   data_0	set	12
 23478                        	.block	4135
 23479                        ;	int pos = 0;
 23480                        ;	UINT spinLock = 0;
 23481                        ;	char status = VDMA_STAT_VDMA_IPS;
 23482                        ;
 23483                        ;	/*
 23484                        ;	while(status == VDMA_STAT_VDMA_IPS)
 23485                        ;	{
 23486                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 23487                        ;		spinLock++;
 23488                        ;
 23489                        ;		if(spinLock > 32000)
 23490                        ;		{
 23491                        ;			break;
 23492                        ;		}
 23493                        ;	}
 23494                        ;	k_debug_integer("k_vdma_fill_address1::spinLock:
                    ",spinLock);
 23495                        ;	*/
 23496                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE | VDMA_CT
                    RL_1D_2D | VDMA_CTRL_TRF_FILL;
 23497             00000000   pos_1	set	0
 23498             00000002   spinLock_1	set	2
 23499             00000004   status_1	set	4
 23500                        	.sym	pos,0,5,1,16
 23501                        	.sym	spinLock,2,16,1,16
 23502                        	.sym	status,4,14,1,8
 23503                        	.sym	pdst,4,142,6,32
  Thu Jul 22 2021 22:51                                                Page 435


 23504                        	.sym	width,8,5,6,16
 23505                        	.sym	height,10,5,6,16
 23506                        	.sym	data,12,14,6,8
 23507 06:5FEF: 64 09        	stz	<L1055+pos_1
 23508 06:5FF1: 64 0B        	stz	<L1055+spinLock_1
 23509 06:5FF3: E2 20        	sep	#$20
 23510                        	longa	off
 23511 06:5FF5: A9 80        	lda	#$80
 23512 06:5FF7: 85 0D        	sta	<L1055+status_1
 23513 06:5FF9: C2 20        	rep	#$20
 23514                        	longa	on
 23515                        	.line	4153
 23516 06:5FFB: E2 20        	sep	#$20
 23517                        	longa	off
 23518 06:5FFD: A9 07        	lda	#$7
 23519 06:5FFF: 8F 00 04 AF  	sta	>11469824
 23520 06:6003: C2 20        	rep	#$20
 23521                        	longa	on
 23522                        ;
 23523                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 23524                        	.line	4155
 23525 06:6005: E2 20        	sep	#$20
 23526                        	longa	off
 23527 06:6007: A5 11        	lda	<L1054+pdst_0
 23528 06:6009: 8F 05 04 AF  	sta	>11469829
 23529 06:600D: C2 20        	rep	#$20
 23530                        	longa	on
 23531                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 23532                        	.line	4156
 23533 06:600F: D4 13        	pei	<L1054+pdst_0+2
 23534 06:6011: D4 11        	pei	<L1054+pdst_0
 23535 06:6013: A9 08 00     	lda	#$8
 23536                        	xref	~~~llsr
 23537 06:6016: 22 xx xx xx  	jsl	~~~llsr
 23538 06:601A: 85 01        	sta	<R0
 23539 06:601C: 86 03        	stx	<R0+2
 23540 06:601E: A5 01        	lda	<R0
 23541 06:6020: 29 FF 00     	and	#<$ff
 23542 06:6023: 85 05        	sta	<R1
 23543 06:6025: 64 07        	stz	<R1+2
 23544 06:6027: E2 20        	sep	#$20
 23545                        	longa	off
 23546 06:6029: A5 05        	lda	<R1
 23547 06:602B: 8F 06 04 AF  	sta	>11469830
 23548 06:602F: C2 20        	rep	#$20
 23549                        	longa	on
 23550                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 23551                        	.line	4157
 23552 06:6031: D4 13        	pei	<L1054+pdst_0+2
 23553 06:6033: D4 11        	pei	<L1054+pdst_0
 23554 06:6035: A9 10 00     	lda	#$10
 23555                        	xref	~~~llsr
 23556 06:6038: 22 xx xx xx  	jsl	~~~llsr
 23557 06:603C: 85 01        	sta	<R0
 23558 06:603E: 86 03        	stx	<R0+2
 23559 06:6040: A5 01        	lda	<R0
 23560 06:6042: 29 FF 00     	and	#<$ff
 23561 06:6045: 85 05        	sta	<R1
  Thu Jul 22 2021 22:51                                                Page 436


 23562 06:6047: 64 07        	stz	<R1+2
 23563 06:6049: E2 20        	sep	#$20
 23564                        	longa	off
 23565 06:604B: A5 05        	lda	<R1
 23566 06:604D: 8F 07 04 AF  	sta	>11469831
 23567 06:6051: C2 20        	rep	#$20
 23568                        	longa	on
 23569                        ;
 23570                        ;	*BM_START_ADDY_L = 0x00;
 23571                        	.line	4159
 23572 06:6053: E2 20        	sep	#$20
 23573                        	longa	off
 23574 06:6055: A9 00        	lda	#$0
 23575 06:6057: 8F 41 01 AF  	sta	>11469121
 23576 06:605B: C2 20        	rep	#$20
 23577                        	longa	on
 23578                        ;	*BM_START_ADDY_M = 0x00;
 23579                        	.line	4160
 23580 06:605D: E2 20        	sep	#$20
 23581                        	longa	off
 23582 06:605F: A9 00        	lda	#$0
 23583 06:6061: 8F 42 01 AF  	sta	>11469122
 23584 06:6065: C2 20        	rep	#$20
 23585                        	longa	on
 23586                        ;	*BM_START_ADDY_H = 0x00;
 23587                        	.line	4161
 23588 06:6067: E2 20        	sep	#$20
 23589                        	longa	off
 23590 06:6069: A9 00        	lda	#$0
 23591 06:606B: 8F 43 01 AF  	sta	>11469123
 23592 06:606F: C2 20        	rep	#$20
 23593                        	longa	on
 23594                        ;	*((char FAR*)0xAF1F80) = 0x02;
 23595                        	.line	4162
 23596 06:6071: E2 20        	sep	#$20
 23597                        	longa	off
 23598 06:6073: A9 02        	lda	#$2
 23599 06:6075: 8F 80 1F AF  	sta	>11476864
 23600 06:6079: C2 20        	rep	#$20
 23601                        	longa	on
 23602                        ;	
 23603                        ;	*BM_X_SIZE_L = 0x80;
 23604                        	.line	4164
 23605 06:607B: E2 20        	sep	#$20
 23606                        	longa	off
 23607 06:607D: A9 80        	lda	#$80
 23608 06:607F: 8F 44 01 AF  	sta	>11469124
 23609 06:6083: C2 20        	rep	#$20
 23610                        	longa	on
 23611                        ;	*BM_X_SIZE_H = 0x02;	
 23612                        	.line	4165
 23613 06:6085: E2 20        	sep	#$20
 23614                        	longa	off
 23615 06:6087: A9 02        	lda	#$2
 23616 06:6089: 8F 45 01 AF  	sta	>11469125
 23617 06:608D: C2 20        	rep	#$20
 23618                        	longa	on
 23619                        ;	*BM_Y_SIZE_L = 0xE0;
  Thu Jul 22 2021 22:51                                                Page 437


 23620                        	.line	4166
 23621 06:608F: E2 20        	sep	#$20
 23622                        	longa	off
 23623 06:6091: A9 E0        	lda	#$e0
 23624 06:6093: 8F 46 01 AF  	sta	>11469126
 23625 06:6097: C2 20        	rep	#$20
 23626                        	longa	on
 23627                        ;	*BM_Y_SIZE_H = 0x01;
 23628                        	.line	4167
 23629 06:6099: E2 20        	sep	#$20
 23630                        	longa	off
 23631 06:609B: A9 01        	lda	#$1
 23632 06:609D: 8F 47 01 AF  	sta	>11469127
 23633 06:60A1: C2 20        	rep	#$20
 23634                        	longa	on
 23635                        ;
 23636                        ;	width+=(width & 0x0001);
 23637                        	.line	4169
 23638 06:60A3: A5 15        	lda	<L1054+width_0
 23639 06:60A5: 29 01 00     	and	#<$1
 23640 06:60A8: 85 01        	sta	<R0
 23641 06:60AA: 18           	clc
 23642 06:60AB: A5 15        	lda	<L1054+width_0
 23643 06:60AD: 65 01        	adc	<R0
 23644 06:60AF: 85 15        	sta	<L1054+width_0
 23645                        ;
 23646                        ;	*VDMA_X_SIZE_L = LOBYTE(width);
 23647                        	.line	4171
 23648 06:60B1: E2 20        	sep	#$20
 23649                        	longa	off
 23650 06:60B3: A5 15        	lda	<L1054+width_0
 23651 06:60B5: 8F 08 04 AF  	sta	>11469832
 23652 06:60B9: C2 20        	rep	#$20
 23653                        	longa	on
 23654                        ;	*VDMA_X_SIZE_H = HIBYTE(width);
 23655                        	.line	4172
 23656 06:60BB: A5 15        	lda	<L1054+width_0
 23657 06:60BD: A2 08 00     	ldx	#<$8
 23658                        	xref	~~~asr
 23659 06:60C0: 22 xx xx xx  	jsl	~~~asr
 23660 06:60C4: 29 FF 00     	and	#<$ff
 23661 06:60C7: 85 01        	sta	<R0
 23662 06:60C9: E2 20        	sep	#$20
 23663                        	longa	off
 23664 06:60CB: A5 01        	lda	<R0
 23665 06:60CD: 8F 09 04 AF  	sta	>11469833
 23666 06:60D1: C2 20        	rep	#$20
 23667                        	longa	on
 23668                        ;
 23669                        ;	*VDMA_Y_SIZE_L = LOBYTE(height);
 23670                        	.line	4174
 23671 06:60D3: E2 20        	sep	#$20
 23672                        	longa	off
 23673 06:60D5: A5 17        	lda	<L1054+height_0
 23674 06:60D7: 8F 0A 04 AF  	sta	>11469834
 23675 06:60DB: C2 20        	rep	#$20
 23676                        	longa	on
 23677                        ;	*VDMA_Y_SIZE_H = HIBYTE(height);
  Thu Jul 22 2021 22:51                                                Page 438


 23678                        	.line	4175
 23679 06:60DD: A5 17        	lda	<L1054+height_0
 23680 06:60DF: A2 08 00     	ldx	#<$8
 23681                        	xref	~~~asr
 23682 06:60E2: 22 xx xx xx  	jsl	~~~asr
 23683 06:60E6: 29 FF 00     	and	#<$ff
 23684 06:60E9: 85 01        	sta	<R0
 23685 06:60EB: E2 20        	sep	#$20
 23686                        	longa	off
 23687 06:60ED: A5 01        	lda	<R0
 23688 06:60EF: 8F 0B 04 AF  	sta	>11469835
 23689 06:60F3: C2 20        	rep	#$20
 23690                        	longa	on
 23691                        ;
 23692                        ;	*VDMA_DST_STRIDE_L  = 0x80;
 23693                        	.line	4177
 23694 06:60F5: E2 20        	sep	#$20
 23695                        	longa	off
 23696 06:60F7: A9 80        	lda	#$80
 23697 06:60F9: 8F 0E 04 AF  	sta	>11469838
 23698 06:60FD: C2 20        	rep	#$20
 23699                        	longa	on
 23700                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 23701                        	.line	4178
 23702 06:60FF: E2 20        	sep	#$20
 23703                        	longa	off
 23704 06:6101: A9 02        	lda	#$2
 23705 06:6103: 8F 0F 04 AF  	sta	>11469839
 23706 06:6107: C2 20        	rep	#$20
 23707                        	longa	on
 23708                        ;	
 23709                        ;
 23710                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 23711                        	.line	4181
 23712 06:6109: E2 20        	sep	#$20
 23713                        	longa	off
 23714 06:610B: A5 11        	lda	<L1054+pdst_0
 23715 06:610D: 8F 05 04 AF  	sta	>11469829
 23716 06:6111: C2 20        	rep	#$20
 23717                        	longa	on
 23718                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 23719                        	.line	4182
 23720 06:6113: D4 13        	pei	<L1054+pdst_0+2
 23721 06:6115: D4 11        	pei	<L1054+pdst_0
 23722 06:6117: A9 08 00     	lda	#$8
 23723                        	xref	~~~llsr
 23724 06:611A: 22 xx xx xx  	jsl	~~~llsr
 23725 06:611E: 85 01        	sta	<R0
 23726 06:6120: 86 03        	stx	<R0+2
 23727 06:6122: A5 01        	lda	<R0
 23728 06:6124: 29 FF 00     	and	#<$ff
 23729 06:6127: 85 05        	sta	<R1
 23730 06:6129: 64 07        	stz	<R1+2
 23731 06:612B: E2 20        	sep	#$20
 23732                        	longa	off
 23733 06:612D: A5 05        	lda	<R1
 23734 06:612F: 8F 06 04 AF  	sta	>11469830
 23735 06:6133: C2 20        	rep	#$20
  Thu Jul 22 2021 22:51                                                Page 439


 23736                        	longa	on
 23737                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 23738                        	.line	4183
 23739 06:6135: D4 13        	pei	<L1054+pdst_0+2
 23740 06:6137: D4 11        	pei	<L1054+pdst_0
 23741 06:6139: A9 10 00     	lda	#$10
 23742                        	xref	~~~llsr
 23743 06:613C: 22 xx xx xx  	jsl	~~~llsr
 23744 06:6140: 85 01        	sta	<R0
 23745 06:6142: 86 03        	stx	<R0+2
 23746 06:6144: A5 01        	lda	<R0
 23747 06:6146: 29 FF 00     	and	#<$ff
 23748 06:6149: 85 05        	sta	<R1
 23749 06:614B: 64 07        	stz	<R1+2
 23750 06:614D: E2 20        	sep	#$20
 23751                        	longa	off
 23752 06:614F: A5 05        	lda	<R1
 23753 06:6151: 8F 07 04 AF  	sta	>11469831
 23754 06:6155: C2 20        	rep	#$20
 23755                        	longa	on
 23756                        ;
 23757                        ;	VDMA_BYTE_2_WRITE[0] = (char)data;
 23758                        	.line	4185
 23759 06:6157: E2 20        	sep	#$20
 23760                        	longa	off
 23761 06:6159: A5 19        	lda	<L1054+data_0
 23762 06:615B: 8F 01 04 AF  	sta	>11469825
 23763 06:615F: C2 20        	rep	#$20
 23764                        	longa	on
 23765                        ;	
 23766                        ;	VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VDMA_
                    CTRL_1D_2D | VDMA_CTRL_TRF_FILL | VDMA_CTRL_START_TRF);//0x8
                    7;
 23767                        	.line	4187
 23768 06:6161: E2 20        	sep	#$20
 23769                        	longa	off
 23770 06:6163: A9 87        	lda	#$87
 23771 06:6165: 8F 00 04 AF  	sta	>11469824
 23772 06:6169: C2 20        	rep	#$20
 23773                        	longa	on
 23774                        ;
 23775                        ;
 23776                        ;	status = VDMA_STAT_VDMA_IPS;
 23777                        	.line	4190
 23778 06:616B: E2 20        	sep	#$20
 23779                        	longa	off
 23780 06:616D: A9 80        	lda	#$80
 23781 06:616F: 85 0D        	sta	<L1055+status_1
 23782 06:6171: C2 20        	rep	#$20
 23783                        	longa	on
 23784                        ;	while(status == VDMA_STAT_VDMA_IPS)
 23785                        	.line	4191
 23786                        L10423:
 23787 06:6173: E2 20        	sep	#$20
 23788                        	longa	off
 23789 06:6175: A5 0D        	lda	<L1055+status_1
 23790 06:6177: C9 80        	cmp	#<$80
 23791 06:6179: C2 20        	rep	#$20
  Thu Jul 22 2021 22:51                                                Page 440


 23792                        	longa	on
 23793 06:617B: F0 03        	beq	L1057
 23794 06:617D: 82 1E 00     	brl	L10424
 23795                        L1057:
 23796                        ;	{
 23797                        	.line	4192
 23798                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 23799                        	.line	4193
 23800 06:6180: E2 20        	sep	#$20
 23801                        	longa	off
 23802 06:6182: AF 01 04 AF  	lda	>11469825
 23803 06:6186: 29 80        	and	#<$80
 23804 06:6188: 85 0D        	sta	<L1055+status_1
 23805 06:618A: C2 20        	rep	#$20
 23806                        	longa	on
 23807                        ;		spinLock++;
 23808                        	.line	4194
 23809 06:618C: E6 0B        	inc	<L1055+spinLock_1
 23810                        ;
 23811                        ;		if(spinLock > 32000)
 23812                        	.line	4196
 23813                        ;		{
 23814 06:618E: A9 00 7D     	lda	#$7d00
 23815 06:6191: C5 0B        	cmp	<L1055+spinLock_1
 23816 06:6193: 90 03        	bcc	L1058
 23817 06:6195: 82 03 00     	brl	L10425
 23818                        L1058:
 23819                        	.line	4197
 23820                        ;			break;
 23821                        	.line	4198
 23822 06:6198: 82 03 00     	brl	L10424
 23823                        ;		}
 23824                        	.line	4199
 23825                        ;	}
 23826                        L10425:
 23827                        	.line	4200
 23828 06:619B: 82 D5 FF     	brl	L10423
 23829                        L10424:
 23830                        ;	k_debug_integer("k_vdma_fill_address2::spinLock:
                    ",spinLock);
 23831                        	.line	4201
 23832 06:619E: D4 0B        	pei	<L1055+spinLock_1
 23833 06:61A0: F4 xx xx     	pea	#^L1049
 23834 06:61A3: F4 xx xx     	pea	#<L1049
 23835 06:61A6: 22 xx xx xx  	jsl	~~k_debug_integer
 23836                        ;
 23837                        ;
 23838                        ;
 23839                        ;	/*
 23840                        ;	while(status == VDMA_STAT_VDMA_IPS)
 23841                        ;	{
 23842                        ;		status = ( *((unsigned char *)0xAF0401) 
                    & VDMA_STAT_VDMA_IPS);
 23843                        ;	}
 23844                        ;	
 23845                        ;	
 23846                        ;	while(status == VDMA_STAT_VDMA_IPS)
  Thu Jul 22 2021 22:51                                                Page 441


 23847                        ;	{
 23848                        ;		#asm
 23849                        ;		PHA 
 23850                        ;        LDA $AF0401
 23851                        ;        AND #$80
 23852                        ;        CMP #$80
 23853                        ;        STA %%status
 23854                        ;		PLA
 23855                        ;		#endasm
 23856                        ;	}
 23857                        ;	*/
 23858                        ;	
 23859                        ;   //return *VDMA_STATUS_REG;
 23860                        ;   //return VDMA_STATUS_REG[0];
 23861                        ;   //VDMA_CONTROL_REG[0] = (char)0x00;
 23862                        ;   
 23863                        ;   return ;
 23864                        	.line	4229
 23865                        L1059:
 23866 06:61AA: A5 0F        	lda	<L1054+2
 23867 06:61AC: 85 19        	sta	<L1054+2+10
 23868 06:61AE: A5 0E        	lda	<L1054+1
 23869 06:61B0: 85 18        	sta	<L1054+1+10
 23870 06:61B2: 2B           	pld
 23871 06:61B3: 3B           	tsc
 23872 06:61B4: 18           	clc
 23873 06:61B5: 69 17 00     	adc	#L1054+10
 23874 06:61B8: 1B           	tcs
 23875 06:61B9: 6B           	rtl
 23876                        ;}
 23877                        	.line	4230
 23878                        	.endblock	4230
 23879             0000000D   L1054	equ	13
 23880             00000009   L1055	equ	9
 23881 06:61BA:              	ends
 23882                        	efunc
 23883                        	.endfunc	4230,9,13
 23884                        	.line	4230
 23885                        	data
 23886                        L1049:
 23887 00:0A65: 6B 5F 76 64  	db	$6B,$5F,$76,$64,$6D,$61,$5F,$66,$69,$6C,
                    $6C,$5F,$61,$64,$64
       00:0A69: 6D 61 5F 66 
       00:0A6D: 69 6C 6C 5F 
       00:0A71: 61 64 64 
 23888 00:0A74: 72 65 73 73  	db	$72,$65,$73,$73,$32,$3A,$3A,$73,$70,$69,
                    $6E,$4C,$6F,$63,$6B
       00:0A78: 32 3A 3A 73 
       00:0A7C: 70 69 6E 4C 
       00:0A80: 6F 63 6B 
 23889 00:0A83: 3A 00        	db	$3A,$00
 23890 00:0A85:              	ends
 23891                        ;
 23892                        ;void k_vdma_fill_address(char FAR * pdst,int widt
                    h,int height,unsigned char data)
 23893                        ;{
 23894                        	.line	4232
 23895                        	.line	4233
  Thu Jul 22 2021 22:51                                                Page 442


 23896                        	GFX
 23897                        	xdef	~~k_vdma_fill_address
 23898                        	func
 23899                        	.function	4233
 23900                        ~~k_vdma_fill_address:
 23901                        	longa	on
 23902                        	longi	on
 23903 06:61BA: 3B           	tsc
 23904 06:61BB: 38           	sec
 23905 06:61BC: E9 0D 00     	sbc	#L1061
 23906 06:61BF: 1B           	tcs
 23907 06:61C0: 0B           	phd
 23908 06:61C1: 5B           	tcd
 23909             00000004   pdst_0	set	4
 23910             00000008   width_0	set	8
 23911             0000000A   height_0	set	10
 23912             0000000C   data_0	set	12
 23913                        	.block	4233
 23914                        ;	int pos = 0;
 23915                        ;	UINT spinLock = 0;
 23916                        ;	char status = VDMA_STAT_VDMA_IPS;
 23917                        ;
 23918                        ;	VDMA_CONTROL_REG[0] = ( VDMA_CTRL_ENABLE | VDMA_
                    CTRL_TRF_FILL | VDMA_CTRL_1D_2D );
 23919             00000000   pos_1	set	0
 23920             00000002   spinLock_1	set	2
 23921             00000004   status_1	set	4
 23922                        	.sym	pos,0,5,1,16
 23923                        	.sym	spinLock,2,16,1,16
 23924                        	.sym	status,4,14,1,8
 23925                        	.sym	pdst,4,142,6,32
 23926                        	.sym	width,8,5,6,16
 23927                        	.sym	height,10,5,6,16
 23928                        	.sym	data,12,14,6,8
 23929 06:61C2: 64 09        	stz	<L1062+pos_1
 23930 06:61C4: 64 0B        	stz	<L1062+spinLock_1
 23931 06:61C6: E2 20        	sep	#$20
 23932                        	longa	off
 23933 06:61C8: A9 80        	lda	#$80
 23934 06:61CA: 85 0D        	sta	<L1062+status_1
 23935 06:61CC: C2 20        	rep	#$20
 23936                        	longa	on
 23937                        	.line	4238
 23938 06:61CE: E2 20        	sep	#$20
 23939                        	longa	off
 23940 06:61D0: A9 07        	lda	#$7
 23941 06:61D2: 8F 00 04 AF  	sta	>11469824
 23942 06:61D6: C2 20        	rep	#$20
 23943                        	longa	on
 23944                        ;
 23945                        ;	VDMA_BYTE_2_WRITE[0] = (UCHAR)data;
 23946                        	.line	4240
 23947 06:61D8: E2 20        	sep	#$20
 23948                        	longa	off
 23949 06:61DA: A5 19        	lda	<L1061+data_0
 23950 06:61DC: 8F 01 04 AF  	sta	>11469825
 23951 06:61E0: C2 20        	rep	#$20
 23952                        	longa	on
  Thu Jul 22 2021 22:51                                                Page 443


 23953                        ;
 23954                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 23955                        	.line	4242
 23956 06:61E2: E2 20        	sep	#$20
 23957                        	longa	off
 23958 06:61E4: A5 11        	lda	<L1061+pdst_0
 23959 06:61E6: 8F 05 04 AF  	sta	>11469829
 23960 06:61EA: C2 20        	rep	#$20
 23961                        	longa	on
 23962                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 23963                        	.line	4243
 23964 06:61EC: D4 13        	pei	<L1061+pdst_0+2
 23965 06:61EE: D4 11        	pei	<L1061+pdst_0
 23966 06:61F0: A9 08 00     	lda	#$8
 23967                        	xref	~~~llsr
 23968 06:61F3: 22 xx xx xx  	jsl	~~~llsr
 23969 06:61F7: 85 01        	sta	<R0
 23970 06:61F9: 86 03        	stx	<R0+2
 23971 06:61FB: A5 01        	lda	<R0
 23972 06:61FD: 29 FF 00     	and	#<$ff
 23973 06:6200: 85 05        	sta	<R1
 23974 06:6202: 64 07        	stz	<R1+2
 23975 06:6204: E2 20        	sep	#$20
 23976                        	longa	off
 23977 06:6206: A5 05        	lda	<R1
 23978 06:6208: 8F 06 04 AF  	sta	>11469830
 23979 06:620C: C2 20        	rep	#$20
 23980                        	longa	on
 23981                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 23982                        	.line	4244
 23983 06:620E: D4 13        	pei	<L1061+pdst_0+2
 23984 06:6210: D4 11        	pei	<L1061+pdst_0
 23985 06:6212: A9 10 00     	lda	#$10
 23986                        	xref	~~~llsr
 23987 06:6215: 22 xx xx xx  	jsl	~~~llsr
 23988 06:6219: 85 01        	sta	<R0
 23989 06:621B: 86 03        	stx	<R0+2
 23990 06:621D: A5 01        	lda	<R0
 23991 06:621F: 29 FF 00     	and	#<$ff
 23992 06:6222: 85 05        	sta	<R1
 23993 06:6224: 64 07        	stz	<R1+2
 23994 06:6226: E2 20        	sep	#$20
 23995                        	longa	off
 23996 06:6228: A5 05        	lda	<R1
 23997 06:622A: 8F 07 04 AF  	sta	>11469831
 23998 06:622E: C2 20        	rep	#$20
 23999                        	longa	on
 24000                        ;
 24001                        ;	VDMA_X_SIZE_L[0] = LOBYTE(width + 1);
 24002                        	.line	4246
 24003 06:6230: A5 15        	lda	<L1061+width_0
 24004 06:6232: 1A           	ina
 24005 06:6233: 85 01        	sta	<R0
 24006 06:6235: E2 20        	sep	#$20
 24007                        	longa	off
 24008 06:6237: A5 01        	lda	<R0
 24009 06:6239: 8F 08 04 AF  	sta	>11469832
 24010 06:623D: C2 20        	rep	#$20
  Thu Jul 22 2021 22:51                                                Page 444


 24011                        	longa	on
 24012                        ;	VDMA_X_SIZE_H[0] = HIBYTE(width + 1);
 24013                        	.line	4247
 24014 06:623F: A5 15        	lda	<L1061+width_0
 24015 06:6241: 1A           	ina
 24016 06:6242: A2 08 00     	ldx	#<$8
 24017                        	xref	~~~asr
 24018 06:6245: 22 xx xx xx  	jsl	~~~asr
 24019 06:6249: 29 FF 00     	and	#<$ff
 24020 06:624C: 85 01        	sta	<R0
 24021 06:624E: E2 20        	sep	#$20
 24022                        	longa	off
 24023 06:6250: A5 01        	lda	<R0
 24024 06:6252: 8F 09 04 AF  	sta	>11469833
 24025 06:6256: C2 20        	rep	#$20
 24026                        	longa	on
 24027                        ;
 24028                        ;	VDMA_Y_SIZE_L[0] = LOBYTE(height + 1);
 24029                        	.line	4249
 24030 06:6258: A5 17        	lda	<L1061+height_0
 24031 06:625A: 1A           	ina
 24032 06:625B: 85 01        	sta	<R0
 24033 06:625D: E2 20        	sep	#$20
 24034                        	longa	off
 24035 06:625F: A5 01        	lda	<R0
 24036 06:6261: 8F 0A 04 AF  	sta	>11469834
 24037 06:6265: C2 20        	rep	#$20
 24038                        	longa	on
 24039                        ;	VDMA_Y_SIZE_H[0] = HIBYTE(height + 1);
 24040                        	.line	4250
 24041 06:6267: A5 17        	lda	<L1061+height_0
 24042 06:6269: 1A           	ina
 24043 06:626A: A2 08 00     	ldx	#<$8
 24044                        	xref	~~~asr
 24045 06:626D: 22 xx xx xx  	jsl	~~~asr
 24046 06:6271: 29 FF 00     	and	#<$ff
 24047 06:6274: 85 01        	sta	<R0
 24048 06:6276: E2 20        	sep	#$20
 24049                        	longa	off
 24050 06:6278: A5 01        	lda	<R0
 24051 06:627A: 8F 0B 04 AF  	sta	>11469835
 24052 06:627E: C2 20        	rep	#$20
 24053                        	longa	on
 24054                        ;	VDMA_Y_SIZE_H[1] = 0x00;
 24055                        	.line	4251
 24056 06:6280: E2 20        	sep	#$20
 24057                        	longa	off
 24058 06:6282: A9 00        	lda	#$0
 24059 06:6284: 8F 0C 04 AF  	sta	>11469836
 24060 06:6288: C2 20        	rep	#$20
 24061                        	longa	on
 24062                        ;
 24063                        ;	*VDMA_SRC_STRIDE_L = 0x00;
 24064                        	.line	4253
 24065 06:628A: E2 20        	sep	#$20
 24066                        	longa	off
 24067 06:628C: A9 00        	lda	#$0
 24068 06:628E: 8F 0C 04 AF  	sta	>11469836
  Thu Jul 22 2021 22:51                                                Page 445


 24069 06:6292: C2 20        	rep	#$20
 24070                        	longa	on
 24071                        ;	*VDMA_SRC_STRIDE_H = 0x00;
 24072                        	.line	4254
 24073 06:6294: E2 20        	sep	#$20
 24074                        	longa	off
 24075 06:6296: A9 00        	lda	#$0
 24076 06:6298: 8F 0D 04 AF  	sta	>11469837
 24077 06:629C: C2 20        	rep	#$20
 24078                        	longa	on
 24079                        ;
 24080                        ;	*VDMA_DST_STRIDE_L  = 0x80;
 24081                        	.line	4256
 24082 06:629E: E2 20        	sep	#$20
 24083                        	longa	off
 24084 06:62A0: A9 80        	lda	#$80
 24085 06:62A2: 8F 0E 04 AF  	sta	>11469838
 24086 06:62A6: C2 20        	rep	#$20
 24087                        	longa	on
 24088                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 24089                        	.line	4257
 24090 06:62A8: E2 20        	sep	#$20
 24091                        	longa	off
 24092 06:62AA: A9 02        	lda	#$2
 24093 06:62AC: 8F 0F 04 AF  	sta	>11469839
 24094 06:62B0: C2 20        	rep	#$20
 24095                        	longa	on
 24096                        ;
 24097                        ;    VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VD
                    MA_CTRL_1D_2D | VDMA_CTRL_TRF_FILL | VDMA_CTRL_START_TRF);
 24098                        	.line	4259
 24099 06:62B2: E2 20        	sep	#$20
 24100                        	longa	off
 24101 06:62B4: A9 87        	lda	#$87
 24102 06:62B6: 8F 00 04 AF  	sta	>11469824
 24103 06:62BA: C2 20        	rep	#$20
 24104                        	longa	on
 24105                        ;
 24106                        ;    asm NOP;
 24107                        	.line	4261
 24108                        	asmstart
 24109 06:62BC: EA           	NOP
 24110                        	asmend
 24111                        ;    asm NOP;
 24112                        	.line	4262
 24113                        	asmstart
 24114 06:62BD: EA           	NOP
 24115                        	asmend
 24116                        ;    asm NOP;
 24117                        	.line	4263
 24118                        	asmstart
 24119 06:62BE: EA           	NOP
 24120                        	asmend
 24121                        ;
 24122                        ;	while(status == VDMA_STAT_VDMA_IPS)
 24123                        	.line	4265
 24124                        L10426:
 24125 06:62BF: E2 20        	sep	#$20
  Thu Jul 22 2021 22:51                                                Page 446


 24126                        	longa	off
 24127 06:62C1: A5 0D        	lda	<L1062+status_1
 24128 06:62C3: C9 80        	cmp	#<$80
 24129 06:62C5: C2 20        	rep	#$20
 24130                        	longa	on
 24131 06:62C7: F0 03        	beq	L1064
 24132 06:62C9: 82 1E 00     	brl	L10427
 24133                        L1064:
 24134                        ;	{
 24135                        	.line	4266
 24136                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 24137                        	.line	4267
 24138 06:62CC: E2 20        	sep	#$20
 24139                        	longa	off
 24140 06:62CE: AF 01 04 AF  	lda	>11469825
 24141 06:62D2: 29 80        	and	#<$80
 24142 06:62D4: 85 0D        	sta	<L1062+status_1
 24143 06:62D6: C2 20        	rep	#$20
 24144                        	longa	on
 24145                        ;		spinLock++;
 24146                        	.line	4268
 24147 06:62D8: E6 0B        	inc	<L1062+spinLock_1
 24148                        ;
 24149                        ;		if(spinLock > 32000)
 24150                        	.line	4270
 24151                        ;		{
 24152 06:62DA: A9 00 7D     	lda	#$7d00
 24153 06:62DD: C5 0B        	cmp	<L1062+spinLock_1
 24154 06:62DF: 90 03        	bcc	L1065
 24155 06:62E1: 82 03 00     	brl	L10428
 24156                        L1065:
 24157                        	.line	4271
 24158                        ;			break;
 24159                        	.line	4272
 24160 06:62E4: 82 03 00     	brl	L10427
 24161                        ;		}
 24162                        	.line	4273
 24163                        ;	}
 24164                        L10428:
 24165                        	.line	4274
 24166 06:62E7: 82 D5 FF     	brl	L10426
 24167                        L10427:
 24168                        ;
 24169                        ;#ifdef USE_MAX_DEBUG
 24170                        ;	k_debug_integer("k_vdma_fill_address1::spinLock:
                    ",spinLock);
 24171                        ;#endif
 24172                        ;
 24173                        ;	asm NOP;
 24174                        	.line	4280
 24175                        	asmstart
 24176 06:62EA: EA           	NOP
 24177                        	asmend
 24178                        ;
 24179                        ;	VDMA_CONTROL_REG[0] = 0;
 24180                        	.line	4282
 24181 06:62EB: E2 20        	sep	#$20
  Thu Jul 22 2021 22:51                                                Page 447


 24182                        	longa	off
 24183 06:62ED: A9 00        	lda	#$0
 24184 06:62EF: 8F 00 04 AF  	sta	>11469824
 24185 06:62F3: C2 20        	rep	#$20
 24186                        	longa	on
 24187                        ;
 24188                        ;   return ;
 24189                        	.line	4284
 24190                        L1066:
 24191 06:62F5: A5 0F        	lda	<L1061+2
 24192 06:62F7: 85 19        	sta	<L1061+2+10
 24193 06:62F9: A5 0E        	lda	<L1061+1
 24194 06:62FB: 85 18        	sta	<L1061+1+10
 24195 06:62FD: 2B           	pld
 24196 06:62FE: 3B           	tsc
 24197 06:62FF: 18           	clc
 24198 06:6300: 69 17 00     	adc	#L1061+10
 24199 06:6303: 1B           	tcs
 24200 06:6304: 6B           	rtl
 24201                        ;}
 24202                        	.line	4285
 24203                        	.endblock	4285
 24204             0000000D   L1061	equ	13
 24205             00000009   L1062	equ	9
 24206 06:6305:              	ends
 24207                        	efunc
 24208                        	.endfunc	4285,9,13
 24209                        	.line	4285
 24210                        ;
 24211                        ;void k_vdma_fill_address_ex(char FAR * pdst,int w
                    idth,int height,unsigned char data,UINT page)
 24212                        ;{
 24213                        	.line	4287
 24214                        	.line	4288
 24215                        	GFX
 24216                        	xdef	~~k_vdma_fill_address_ex
 24217                        	func
 24218                        	.function	4288
 24219                        ~~k_vdma_fill_address_ex:
 24220                        	longa	on
 24221                        	longi	on
 24222 06:6305: 3B           	tsc
 24223 06:6306: 38           	sec
 24224 06:6307: E9 0D 00     	sbc	#L1067
 24225 06:630A: 1B           	tcs
 24226 06:630B: 0B           	phd
 24227 06:630C: 5B           	tcd
 24228             00000004   pdst_0	set	4
 24229             00000008   width_0	set	8
 24230             0000000A   height_0	set	10
 24231             0000000C   data_0	set	12
 24232             0000000E   page_0	set	14
 24233                        	.block	4288
 24234                        ;	int pos = 0;
 24235                        ;	UINT spinLock = 0;
 24236                        ;	char status = VDMA_STAT_VDMA_IPS;
 24237                        ;
 24238                        ;	VDMA_CONTROL_REG[0] = ( VDMA_CTRL_ENABLE | VDMA_
  Thu Jul 22 2021 22:51                                                Page 448


                    CTRL_TRF_FILL | VDMA_CTRL_1D_2D );
 24239             00000000   pos_1	set	0
 24240             00000002   spinLock_1	set	2
 24241             00000004   status_1	set	4
 24242                        	.sym	pos,0,5,1,16
 24243                        	.sym	spinLock,2,16,1,16
 24244                        	.sym	status,4,14,1,8
 24245                        	.sym	pdst,4,142,6,32
 24246                        	.sym	width,8,5,6,16
 24247                        	.sym	height,10,5,6,16
 24248                        	.sym	data,12,14,6,8
 24249                        	.sym	page,14,16,6,16
 24250 06:630D: 64 09        	stz	<L1068+pos_1
 24251 06:630F: 64 0B        	stz	<L1068+spinLock_1
 24252 06:6311: E2 20        	sep	#$20
 24253                        	longa	off
 24254 06:6313: A9 80        	lda	#$80
 24255 06:6315: 85 0D        	sta	<L1068+status_1
 24256 06:6317: C2 20        	rep	#$20
 24257                        	longa	on
 24258                        	.line	4293
 24259 06:6319: E2 20        	sep	#$20
 24260                        	longa	off
 24261 06:631B: A9 07        	lda	#$7
 24262 06:631D: 8F 00 04 AF  	sta	>11469824
 24263 06:6321: C2 20        	rep	#$20
 24264                        	longa	on
 24265                        ;
 24266                        ;	VDMA_BYTE_2_WRITE[0] = (UCHAR)data;
 24267                        	.line	4295
 24268 06:6323: E2 20        	sep	#$20
 24269                        	longa	off
 24270 06:6325: A5 19        	lda	<L1067+data_0
 24271 06:6327: 8F 01 04 AF  	sta	>11469825
 24272 06:632B: C2 20        	rep	#$20
 24273                        	longa	on
 24274                        ;
 24275                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 24276                        	.line	4297
 24277 06:632D: E2 20        	sep	#$20
 24278                        	longa	off
 24279 06:632F: A5 11        	lda	<L1067+pdst_0
 24280 06:6331: 8F 05 04 AF  	sta	>11469829
 24281 06:6335: C2 20        	rep	#$20
 24282                        	longa	on
 24283                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 24284                        	.line	4298
 24285 06:6337: D4 13        	pei	<L1067+pdst_0+2
 24286 06:6339: D4 11        	pei	<L1067+pdst_0
 24287 06:633B: A9 08 00     	lda	#$8
 24288                        	xref	~~~llsr
 24289 06:633E: 22 xx xx xx  	jsl	~~~llsr
 24290 06:6342: 85 01        	sta	<R0
 24291 06:6344: 86 03        	stx	<R0+2
 24292 06:6346: A5 01        	lda	<R0
 24293 06:6348: 29 FF 00     	and	#<$ff
 24294 06:634B: 85 05        	sta	<R1
 24295 06:634D: 64 07        	stz	<R1+2
  Thu Jul 22 2021 22:51                                                Page 449


 24296 06:634F: E2 20        	sep	#$20
 24297                        	longa	off
 24298 06:6351: A5 05        	lda	<R1
 24299 06:6353: 8F 06 04 AF  	sta	>11469830
 24300 06:6357: C2 20        	rep	#$20
 24301                        	longa	on
 24302                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst)|(UCHAR)
                    page;
 24303                        	.line	4299
 24304 06:6359: D4 13        	pei	<L1067+pdst_0+2
 24305 06:635B: D4 11        	pei	<L1067+pdst_0
 24306 06:635D: A9 10 00     	lda	#$10
 24307                        	xref	~~~llsr
 24308 06:6360: 22 xx xx xx  	jsl	~~~llsr
 24309 06:6364: 85 01        	sta	<R0
 24310 06:6366: 86 03        	stx	<R0+2
 24311 06:6368: A5 01        	lda	<R0
 24312 06:636A: 29 FF 00     	and	#<$ff
 24313 06:636D: 85 05        	sta	<R1
 24314 06:636F: 64 07        	stz	<R1+2
 24315 06:6371: E2 20        	sep	#$20
 24316                        	longa	off
 24317 06:6373: A5 1B        	lda	<L1067+page_0
 24318 06:6375: 05 05        	ora	<R1
 24319 06:6377: 8F 07 04 AF  	sta	>11469831
 24320 06:637B: C2 20        	rep	#$20
 24321                        	longa	on
 24322                        ;
 24323                        ;	/*
 24324                        ;	VDMA_X_SIZE_L[0] = LOBYTE(width + 1);
 24325                        ;	VDMA_X_SIZE_H[0] = HIBYTE(width + 1);
 24326                        ;
 24327                        ;	VDMA_Y_SIZE_L[0] = LOBYTE(height + 1);
 24328                        ;	VDMA_Y_SIZE_H[0] = HIBYTE(height + 1);
 24329                        ;	VDMA_Y_SIZE_H[1] = 0x00;
 24330                        ;	*/
 24331                        ;	VDMA_X_SIZE_L[0] = LOBYTE(width);
 24332                        	.line	4309
 24333 06:637D: E2 20        	sep	#$20
 24334                        	longa	off
 24335 06:637F: A5 15        	lda	<L1067+width_0
 24336 06:6381: 8F 08 04 AF  	sta	>11469832
 24337 06:6385: C2 20        	rep	#$20
 24338                        	longa	on
 24339                        ;	VDMA_X_SIZE_H[0] = HIBYTE(width);
 24340                        	.line	4310
 24341 06:6387: A5 15        	lda	<L1067+width_0
 24342 06:6389: A2 08 00     	ldx	#<$8
 24343                        	xref	~~~asr
 24344 06:638C: 22 xx xx xx  	jsl	~~~asr
 24345 06:6390: 29 FF 00     	and	#<$ff
 24346 06:6393: 85 01        	sta	<R0
 24347 06:6395: E2 20        	sep	#$20
 24348                        	longa	off
 24349 06:6397: A5 01        	lda	<R0
 24350 06:6399: 8F 09 04 AF  	sta	>11469833
 24351 06:639D: C2 20        	rep	#$20
 24352                        	longa	on
  Thu Jul 22 2021 22:51                                                Page 450


 24353                        ;
 24354                        ;	VDMA_Y_SIZE_L[0] = LOBYTE(height);
 24355                        	.line	4312
 24356 06:639F: E2 20        	sep	#$20
 24357                        	longa	off
 24358 06:63A1: A5 17        	lda	<L1067+height_0
 24359 06:63A3: 8F 0A 04 AF  	sta	>11469834
 24360 06:63A7: C2 20        	rep	#$20
 24361                        	longa	on
 24362                        ;	VDMA_Y_SIZE_H[0] = HIBYTE(height);
 24363                        	.line	4313
 24364 06:63A9: A5 17        	lda	<L1067+height_0
 24365 06:63AB: A2 08 00     	ldx	#<$8
 24366                        	xref	~~~asr
 24367 06:63AE: 22 xx xx xx  	jsl	~~~asr
 24368 06:63B2: 29 FF 00     	and	#<$ff
 24369 06:63B5: 85 01        	sta	<R0
 24370 06:63B7: E2 20        	sep	#$20
 24371                        	longa	off
 24372 06:63B9: A5 01        	lda	<R0
 24373 06:63BB: 8F 0B 04 AF  	sta	>11469835
 24374 06:63BF: C2 20        	rep	#$20
 24375                        	longa	on
 24376                        ;	VDMA_Y_SIZE_H[1] = 0x00;
 24377                        	.line	4314
 24378 06:63C1: E2 20        	sep	#$20
 24379                        	longa	off
 24380 06:63C3: A9 00        	lda	#$0
 24381 06:63C5: 8F 0C 04 AF  	sta	>11469836
 24382 06:63C9: C2 20        	rep	#$20
 24383                        	longa	on
 24384                        ;
 24385                        ;
 24386                        ;	*VDMA_SRC_STRIDE_L = 0x00;
 24387                        	.line	4317
 24388 06:63CB: E2 20        	sep	#$20
 24389                        	longa	off
 24390 06:63CD: A9 00        	lda	#$0
 24391 06:63CF: 8F 0C 04 AF  	sta	>11469836
 24392 06:63D3: C2 20        	rep	#$20
 24393                        	longa	on
 24394                        ;	*VDMA_SRC_STRIDE_H = 0x00;
 24395                        	.line	4318
 24396 06:63D5: E2 20        	sep	#$20
 24397                        	longa	off
 24398 06:63D7: A9 00        	lda	#$0
 24399 06:63D9: 8F 0D 04 AF  	sta	>11469837
 24400 06:63DD: C2 20        	rep	#$20
 24401                        	longa	on
 24402                        ;
 24403                        ;	*VDMA_DST_STRIDE_L  = 0x80;
 24404                        	.line	4320
 24405 06:63DF: E2 20        	sep	#$20
 24406                        	longa	off
 24407 06:63E1: A9 80        	lda	#$80
 24408 06:63E3: 8F 0E 04 AF  	sta	>11469838
 24409 06:63E7: C2 20        	rep	#$20
 24410                        	longa	on
  Thu Jul 22 2021 22:51                                                Page 451


 24411                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 24412                        	.line	4321
 24413 06:63E9: E2 20        	sep	#$20
 24414                        	longa	off
 24415 06:63EB: A9 02        	lda	#$2
 24416 06:63ED: 8F 0F 04 AF  	sta	>11469839
 24417 06:63F1: C2 20        	rep	#$20
 24418                        	longa	on
 24419                        ;
 24420                        ;    VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VD
                    MA_CTRL_1D_2D | VDMA_CTRL_TRF_FILL | VDMA_CTRL_START_TRF);
 24421                        	.line	4323
 24422 06:63F3: E2 20        	sep	#$20
 24423                        	longa	off
 24424 06:63F5: A9 87        	lda	#$87
 24425 06:63F7: 8F 00 04 AF  	sta	>11469824
 24426 06:63FB: C2 20        	rep	#$20
 24427                        	longa	on
 24428                        ;
 24429                        ;    asm NOP;
 24430                        	.line	4325
 24431                        	asmstart
 24432 06:63FD: EA           	NOP
 24433                        	asmend
 24434                        ;    asm NOP;
 24435                        	.line	4326
 24436                        	asmstart
 24437 06:63FE: EA           	NOP
 24438                        	asmend
 24439                        ;    asm NOP;
 24440                        	.line	4327
 24441                        	asmstart
 24442 06:63FF: EA           	NOP
 24443                        	asmend
 24444                        ;
 24445                        ;	while(status == VDMA_STAT_VDMA_IPS)
 24446                        	.line	4329
 24447                        L10429:
 24448 06:6400: E2 20        	sep	#$20
 24449                        	longa	off
 24450 06:6402: A5 0D        	lda	<L1068+status_1
 24451 06:6404: C9 80        	cmp	#<$80
 24452 06:6406: C2 20        	rep	#$20
 24453                        	longa	on
 24454 06:6408: F0 03        	beq	L1070
 24455 06:640A: 82 1E 00     	brl	L10430
 24456                        L1070:
 24457                        ;	{
 24458                        	.line	4330
 24459                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 24460                        	.line	4331
 24461 06:640D: E2 20        	sep	#$20
 24462                        	longa	off
 24463 06:640F: AF 01 04 AF  	lda	>11469825
 24464 06:6413: 29 80        	and	#<$80
 24465 06:6415: 85 0D        	sta	<L1068+status_1
 24466 06:6417: C2 20        	rep	#$20
  Thu Jul 22 2021 22:51                                                Page 452


 24467                        	longa	on
 24468                        ;		spinLock++;
 24469                        	.line	4332
 24470 06:6419: E6 0B        	inc	<L1068+spinLock_1
 24471                        ;
 24472                        ;		if(spinLock > 32000)
 24473                        	.line	4334
 24474                        ;		{
 24475 06:641B: A9 00 7D     	lda	#$7d00
 24476 06:641E: C5 0B        	cmp	<L1068+spinLock_1
 24477 06:6420: 90 03        	bcc	L1071
 24478 06:6422: 82 03 00     	brl	L10431
 24479                        L1071:
 24480                        	.line	4335
 24481                        ;			break;
 24482                        	.line	4336
 24483 06:6425: 82 03 00     	brl	L10430
 24484                        ;		}
 24485                        	.line	4337
 24486                        ;	}
 24487                        L10431:
 24488                        	.line	4338
 24489 06:6428: 82 D5 FF     	brl	L10429
 24490                        L10430:
 24491                        ;
 24492                        ;#ifdef USE_MAX_DEBUG
 24493                        ;	k_debug_integer("k_vdma_fill_address1::spinLock:
                    ",spinLock);
 24494                        ;#endif
 24495                        ;
 24496                        ;	asm NOP;
 24497                        	.line	4344
 24498                        	asmstart
 24499 06:642B: EA           	NOP
 24500                        	asmend
 24501                        ;
 24502                        ;	VDMA_CONTROL_REG[0] = 0;
 24503                        	.line	4346
 24504 06:642C: E2 20        	sep	#$20
 24505                        	longa	off
 24506 06:642E: A9 00        	lda	#$0
 24507 06:6430: 8F 00 04 AF  	sta	>11469824
 24508 06:6434: C2 20        	rep	#$20
 24509                        	longa	on
 24510                        ;
 24511                        ;   return ;
 24512                        	.line	4348
 24513                        L1072:
 24514 06:6436: A5 0F        	lda	<L1067+2
 24515 06:6438: 85 1B        	sta	<L1067+2+12
 24516 06:643A: A5 0E        	lda	<L1067+1
 24517 06:643C: 85 1A        	sta	<L1067+1+12
 24518 06:643E: 2B           	pld
 24519 06:643F: 3B           	tsc
 24520 06:6440: 18           	clc
 24521 06:6441: 69 19 00     	adc	#L1067+12
 24522 06:6444: 1B           	tcs
 24523 06:6445: 6B           	rtl
  Thu Jul 22 2021 22:51                                                Page 453


 24524                        ;}
 24525                        	.line	4349
 24526                        	.endblock	4349
 24527             0000000D   L1067	equ	13
 24528             00000009   L1068	equ	9
 24529 06:6446:              	ends
 24530                        	efunc
 24531                        	.endfunc	4349,9,13
 24532                        	.line	4349
 24533                        ;
 24534                        ;
 24535                        ;
 24536                        ;
 24537                        ;void k_vdma_fill(char FAR * pdst,long size,unsign
                    ed char data)
 24538                        ;{
 24539                        	.line	4354
 24540                        	.line	4355
 24541                        	GFX
 24542                        	xdef	~~k_vdma_fill
 24543                        	func
 24544                        	.function	4355
 24545                        ~~k_vdma_fill:
 24546                        	longa	on
 24547                        	longi	on
 24548 06:6446: 3B           	tsc
 24549 06:6447: 38           	sec
 24550 06:6448: E9 0D 00     	sbc	#L1073
 24551 06:644B: 1B           	tcs
 24552 06:644C: 0B           	phd
 24553 06:644D: 5B           	tcd
 24554             00000004   pdst_0	set	4
 24555             00000008   size_0	set	8
 24556             0000000C   data_0	set	12
 24557                        	.block	4355
 24558                        ;	int pos = 0;
 24559                        ;	int spinLock = 0;
 24560                        ;	char status = VDMA_STAT_VDMA_IPS;
 24561                        ;	/*
 24562                        ;	char size_low = L24BYTE(size);
 24563                        ;	char size_mid = M24BYTE(size);
 24564                        ;	char size_hi  = H24BYTE(size);
 24565                        ;
 24566                        ;	char addr_low = L24BYTE((long)pdst);
 24567                        ;	char addr_mid = M24BYTE((long)pdst);
 24568                        ;	char addr_hi  = H24BYTE((long)pdst);
 24569                        ;
 24570                        ;	
 24571                        ;	pos=2;
 24572                        ;	k_itoa(size_low,buffer,16);
 24573                        ;	pos=k_put_draw_text(pos,2,buffer,15,0);
 24574                        ;	pos=k_put_draw_text(pos,2,"L:",15,0);
 24575                        ;	k_itoa(size_mid,buffer,16);
 24576                        ;	pos=k_put_draw_text(pos,2,buffer,15,0);
 24577                        ;	pos=k_put_draw_text(pos,2,"M:",15,0);
 24578                        ;	k_itoa(size_hi,buffer,16);
 24579                        ;	pos=k_put_draw_text(pos,2,buffer,15,0);
 24580                        ;	pos=k_put_draw_text(pos,2,"H",15,0);
  Thu Jul 22 2021 22:51                                                Page 454


 24581                        ;	
 24582                        ;	pos=2;
 24583                        ;	k_itoa(addr_low,buffer,16);
 24584                        ;	pos=k_put_draw_text(pos,3,buffer,15,0);
 24585                        ;	pos=k_put_draw_text(pos,3,"L:",15,0);
 24586                        ;	k_itoa(addr_mid,buffer,16);
 24587                        ;	pos=k_put_draw_text(pos,3,buffer,15,0);
 24588                        ;	pos=k_put_draw_text(pos,3,"M:",15,0);
 24589                        ;	k_itoa(addr_hi,buffer,16);
 24590                        ;	pos=k_put_draw_text(pos,3,buffer,15,0);
 24591                        ;	pos=k_put_draw_text(pos,3,"H",15,0);
 24592                        ;	*/
 24593                        ;	/*
 24594                        ;	if(VDMA_CONTROL_REG[0] > 0)
 24595                        ;	{
 24596                        ;		while(status == VDMA_STAT_VDMA_IPS || sp
                    inLock > 1000)
 24597                        ;		{
 24598                        ;			status = ( *((unsigned char *)0x
                    AF0401) & (unsigned char)VDMA_STAT_VDMA_IPS);
 24599                        ;			spinLock++;
 24600                        ;		}
 24601                        ;	}
 24602                        ;	*/
 24603                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE;
 24604             00000000   pos_1	set	0
 24605             00000002   spinLock_1	set	2
 24606             00000004   status_1	set	4
 24607                        	.sym	pos,0,5,1,16
 24608                        	.sym	spinLock,2,5,1,16
 24609                        	.sym	status,4,14,1,8
 24610                        	.sym	pdst,4,142,6,32
 24611                        	.sym	size,8,7,6,32
 24612                        	.sym	data,12,14,6,8
 24613 06:644E: 64 09        	stz	<L1074+pos_1
 24614 06:6450: 64 0B        	stz	<L1074+spinLock_1
 24615 06:6452: E2 20        	sep	#$20
 24616                        	longa	off
 24617 06:6454: A9 80        	lda	#$80
 24618 06:6456: 85 0D        	sta	<L1074+status_1
 24619 06:6458: C2 20        	rep	#$20
 24620                        	longa	on
 24621                        	.line	4401
 24622 06:645A: E2 20        	sep	#$20
 24623                        	longa	off
 24624 06:645C: A9 01        	lda	#$1
 24625 06:645E: 8F 00 04 AF  	sta	>11469824
 24626 06:6462: C2 20        	rep	#$20
 24627                        	longa	on
 24628                        ;
 24629                        ;	*BM_START_ADDY_L = 0x00;
 24630                        	.line	4403
 24631 06:6464: E2 20        	sep	#$20
 24632                        	longa	off
 24633 06:6466: A9 00        	lda	#$0
 24634 06:6468: 8F 41 01 AF  	sta	>11469121
 24635 06:646C: C2 20        	rep	#$20
 24636                        	longa	on
  Thu Jul 22 2021 22:51                                                Page 455


 24637                        ;	*BM_START_ADDY_M = 0x00;
 24638                        	.line	4404
 24639 06:646E: E2 20        	sep	#$20
 24640                        	longa	off
 24641 06:6470: A9 00        	lda	#$0
 24642 06:6472: 8F 42 01 AF  	sta	>11469122
 24643 06:6476: C2 20        	rep	#$20
 24644                        	longa	on
 24645                        ;	*BM_START_ADDY_H = 0x00;
 24646                        	.line	4405
 24647 06:6478: E2 20        	sep	#$20
 24648                        	longa	off
 24649 06:647A: A9 00        	lda	#$0
 24650 06:647C: 8F 43 01 AF  	sta	>11469123
 24651 06:6480: C2 20        	rep	#$20
 24652                        	longa	on
 24653                        ;	*((char FAR*)0xAF1F80) = 0x02;
 24654                        	.line	4406
 24655 06:6482: E2 20        	sep	#$20
 24656                        	longa	off
 24657 06:6484: A9 02        	lda	#$2
 24658 06:6486: 8F 80 1F AF  	sta	>11476864
 24659 06:648A: C2 20        	rep	#$20
 24660                        	longa	on
 24661                        ;	
 24662                        ;	*BM_X_SIZE_L = 0x80;
 24663                        	.line	4408
 24664 06:648C: E2 20        	sep	#$20
 24665                        	longa	off
 24666 06:648E: A9 80        	lda	#$80
 24667 06:6490: 8F 44 01 AF  	sta	>11469124
 24668 06:6494: C2 20        	rep	#$20
 24669                        	longa	on
 24670                        ;	*BM_X_SIZE_H = 0x02;	
 24671                        	.line	4409
 24672 06:6496: E2 20        	sep	#$20
 24673                        	longa	off
 24674 06:6498: A9 02        	lda	#$2
 24675 06:649A: 8F 45 01 AF  	sta	>11469125
 24676 06:649E: C2 20        	rep	#$20
 24677                        	longa	on
 24678                        ;	*BM_Y_SIZE_L = 0xE0;
 24679                        	.line	4410
 24680 06:64A0: E2 20        	sep	#$20
 24681                        	longa	off
 24682 06:64A2: A9 E0        	lda	#$e0
 24683 06:64A4: 8F 46 01 AF  	sta	>11469126
 24684 06:64A8: C2 20        	rep	#$20
 24685                        	longa	on
 24686                        ;	*BM_Y_SIZE_H = 0x01;
 24687                        	.line	4411
 24688 06:64AA: E2 20        	sep	#$20
 24689                        	longa	off
 24690 06:64AC: A9 01        	lda	#$1
 24691 06:64AE: 8F 47 01 AF  	sta	>11469127
 24692 06:64B2: C2 20        	rep	#$20
 24693                        	longa	on
 24694                        ;	
  Thu Jul 22 2021 22:51                                                Page 456


 24695                        ;	VDMA_SIZE_L[0] = L24BYTE(size);
 24696                        	.line	4413
 24697 06:64B4: E2 20        	sep	#$20
 24698                        	longa	off
 24699 06:64B6: A5 15        	lda	<L1073+size_0
 24700 06:64B8: 8F 08 04 AF  	sta	>11469832
 24701 06:64BC: C2 20        	rep	#$20
 24702                        	longa	on
 24703                        ;	VDMA_SIZE_M[0] = M24BYTE(size);
 24704                        	.line	4414
 24705 06:64BE: D4 17        	pei	<L1073+size_0+2
 24706 06:64C0: D4 15        	pei	<L1073+size_0
 24707 06:64C2: A9 08 00     	lda	#$8
 24708                        	xref	~~~llsr
 24709 06:64C5: 22 xx xx xx  	jsl	~~~llsr
 24710 06:64C9: 85 01        	sta	<R0
 24711 06:64CB: 86 03        	stx	<R0+2
 24712 06:64CD: A5 01        	lda	<R0
 24713 06:64CF: 29 FF 00     	and	#<$ff
 24714 06:64D2: 85 05        	sta	<R1
 24715 06:64D4: 64 07        	stz	<R1+2
 24716 06:64D6: E2 20        	sep	#$20
 24717                        	longa	off
 24718 06:64D8: A5 05        	lda	<R1
 24719 06:64DA: 8F 09 04 AF  	sta	>11469833
 24720 06:64DE: C2 20        	rep	#$20
 24721                        	longa	on
 24722                        ;	VDMA_SIZE_H[0] = H24BYTE(size);
 24723                        	.line	4415
 24724 06:64E0: D4 17        	pei	<L1073+size_0+2
 24725 06:64E2: D4 15        	pei	<L1073+size_0
 24726 06:64E4: A9 10 00     	lda	#$10
 24727                        	xref	~~~llsr
 24728 06:64E7: 22 xx xx xx  	jsl	~~~llsr
 24729 06:64EB: 85 01        	sta	<R0
 24730 06:64ED: 86 03        	stx	<R0+2
 24731 06:64EF: A5 01        	lda	<R0
 24732 06:64F1: 29 FF 00     	and	#<$ff
 24733 06:64F4: 85 05        	sta	<R1
 24734 06:64F6: 64 07        	stz	<R1+2
 24735 06:64F8: E2 20        	sep	#$20
 24736                        	longa	off
 24737 06:64FA: A5 05        	lda	<R1
 24738 06:64FC: 8F 0A 04 AF  	sta	>11469834
 24739 06:6500: C2 20        	rep	#$20
 24740                        	longa	on
 24741                        ;	
 24742                        ;	
 24743                        ;	*VDMA_X_SIZE_L = 0x80;
 24744                        	.line	4418
 24745 06:6502: E2 20        	sep	#$20
 24746                        	longa	off
 24747 06:6504: A9 80        	lda	#$80
 24748 06:6506: 8F 08 04 AF  	sta	>11469832
 24749 06:650A: C2 20        	rep	#$20
 24750                        	longa	on
 24751                        ;	*VDMA_X_SIZE_H = 0x20;
 24752                        	.line	4419
  Thu Jul 22 2021 22:51                                                Page 457


 24753 06:650C: E2 20        	sep	#$20
 24754                        	longa	off
 24755 06:650E: A9 20        	lda	#$20
 24756 06:6510: 8F 09 04 AF  	sta	>11469833
 24757 06:6514: C2 20        	rep	#$20
 24758                        	longa	on
 24759                        ;
 24760                        ;	*VDMA_Y_SIZE_L = 0xE0;
 24761                        	.line	4421
 24762 06:6516: E2 20        	sep	#$20
 24763                        	longa	off
 24764 06:6518: A9 E0        	lda	#$e0
 24765 06:651A: 8F 0A 04 AF  	sta	>11469834
 24766 06:651E: C2 20        	rep	#$20
 24767                        	longa	on
 24768                        ;	*VDMA_Y_SIZE_H = 0x01;
 24769                        	.line	4422
 24770 06:6520: E2 20        	sep	#$20
 24771                        	longa	off
 24772 06:6522: A9 01        	lda	#$1
 24773 06:6524: 8F 0B 04 AF  	sta	>11469835
 24774 06:6528: C2 20        	rep	#$20
 24775                        	longa	on
 24776                        ;
 24777                        ;	*VDMA_DST_STRIDE_L = 0x80;
 24778                        	.line	4424
 24779 06:652A: E2 20        	sep	#$20
 24780                        	longa	off
 24781 06:652C: A9 80        	lda	#$80
 24782 06:652E: 8F 0E 04 AF  	sta	>11469838
 24783 06:6532: C2 20        	rep	#$20
 24784                        	longa	on
 24785                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 24786                        	.line	4425
 24787 06:6534: E2 20        	sep	#$20
 24788                        	longa	off
 24789 06:6536: A9 02        	lda	#$2
 24790 06:6538: 8F 0F 04 AF  	sta	>11469839
 24791 06:653C: C2 20        	rep	#$20
 24792                        	longa	on
 24793                        ;	
 24794                        ;	/*
 24795                        ;        LDA #200
 24796                        ;        STA @lVDMA_X_SIZE_L
 24797                        ;        LDA #00
 24798                        ;        STA @lVDMA_X_SIZE_H
 24799                        ;
 24800                        ;        LDA #64
 24801                        ;        STA @lVDMA_Y_SIZE_L
 24802                        ;        LDA #00
 24803                        ;        STA @lVDMA_Y_SIZE_H
 24804                        ;
 24805                        ;        LDA #$60
 24806                        ;        STA @lVDMA_DST_ADDY_L
 24807                        ;        LDA #$90
 24808                        ;        STA @lVDMA_DST_ADDY_M
 24809                        ;        LDA #$01
 24810                        ;        STA @lVDMA_DST_ADDY_H
  Thu Jul 22 2021 22:51                                                Page 458


 24811                        ;
 24812                        ;        LDA #$80
 24813                        ;        STA @lVDMA_DST_STRIDE_L
 24814                        ;        LDA #$02
 24815                        ;        STA @lVDMA_DST_STRIDE_H
 24816                        ;	*/
 24817                        ;
 24818                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 24819                        	.line	4451
 24820 06:653E: E2 20        	sep	#$20
 24821                        	longa	off
 24822 06:6540: A5 11        	lda	<L1073+pdst_0
 24823 06:6542: 8F 05 04 AF  	sta	>11469829
 24824 06:6546: C2 20        	rep	#$20
 24825                        	longa	on
 24826                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 24827                        	.line	4452
 24828 06:6548: D4 13        	pei	<L1073+pdst_0+2
 24829 06:654A: D4 11        	pei	<L1073+pdst_0
 24830 06:654C: A9 08 00     	lda	#$8
 24831                        	xref	~~~llsr
 24832 06:654F: 22 xx xx xx  	jsl	~~~llsr
 24833 06:6553: 85 01        	sta	<R0
 24834 06:6555: 86 03        	stx	<R0+2
 24835 06:6557: A5 01        	lda	<R0
 24836 06:6559: 29 FF 00     	and	#<$ff
 24837 06:655C: 85 05        	sta	<R1
 24838 06:655E: 64 07        	stz	<R1+2
 24839 06:6560: E2 20        	sep	#$20
 24840                        	longa	off
 24841 06:6562: A5 05        	lda	<R1
 24842 06:6564: 8F 06 04 AF  	sta	>11469830
 24843 06:6568: C2 20        	rep	#$20
 24844                        	longa	on
 24845                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 24846                        	.line	4453
 24847 06:656A: D4 13        	pei	<L1073+pdst_0+2
 24848 06:656C: D4 11        	pei	<L1073+pdst_0
 24849 06:656E: A9 10 00     	lda	#$10
 24850                        	xref	~~~llsr
 24851 06:6571: 22 xx xx xx  	jsl	~~~llsr
 24852 06:6575: 85 01        	sta	<R0
 24853 06:6577: 86 03        	stx	<R0+2
 24854 06:6579: A5 01        	lda	<R0
 24855 06:657B: 29 FF 00     	and	#<$ff
 24856 06:657E: 85 05        	sta	<R1
 24857 06:6580: 64 07        	stz	<R1+2
 24858 06:6582: E2 20        	sep	#$20
 24859                        	longa	off
 24860 06:6584: A5 05        	lda	<R1
 24861 06:6586: 8F 07 04 AF  	sta	>11469831
 24862 06:658A: C2 20        	rep	#$20
 24863                        	longa	on
 24864                        ;
 24865                        ;	VDMA_BYTE_2_WRITE[0] = (char)data;
 24866                        	.line	4455
 24867 06:658C: E2 20        	sep	#$20
 24868                        	longa	off
  Thu Jul 22 2021 22:51                                                Page 459


 24869 06:658E: A5 19        	lda	<L1073+data_0
 24870 06:6590: 8F 01 04 AF  	sta	>11469825
 24871 06:6594: C2 20        	rep	#$20
 24872                        	longa	on
 24873                        ;	
 24874                        ;	VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VDMA_
                    CTRL_TRF_FILL | VDMA_CTRL_START_TRF);//0x85;
 24875                        	.line	4457
 24876 06:6596: E2 20        	sep	#$20
 24877                        	longa	off
 24878 06:6598: A9 85        	lda	#$85
 24879 06:659A: 8F 00 04 AF  	sta	>11469824
 24880 06:659E: C2 20        	rep	#$20
 24881                        	longa	on
 24882                        ;   
 24883                        ;	/*
 24884                        ;	while(status == VDMA_STAT_VDMA_IPS)
 24885                        ;	{
 24886                        ;		status = ( *((unsigned char *)0xAF0401) 
                    & VDMA_STAT_VDMA_IPS);
 24887                        ;	}
 24888                        ;	
 24889                        ;	
 24890                        ;	while(status == VDMA_STAT_VDMA_IPS)
 24891                        ;	{
 24892                        ;		#asm
 24893                        ;		PHA 
 24894                        ;        LDA $AF0401
 24895                        ;        AND #$80
 24896                        ;        CMP #$80
 24897                        ;        STA %%status
 24898                        ;		PLA
 24899                        ;		#endasm
 24900                        ;	}
 24901                        ;	*/
 24902                        ;	
 24903                        ;   //return *VDMA_STATUS_REG;
 24904                        ;   //return VDMA_STATUS_REG[0];
 24905                        ;   //VDMA_CONTROL_REG[0] = (char)0x00;
 24906                        ;   
 24907                        ;   return ;
 24908                        	.line	4483
 24909                        L1076:
 24910 06:65A0: A5 0F        	lda	<L1073+2
 24911 06:65A2: 85 19        	sta	<L1073+2+10
 24912 06:65A4: A5 0E        	lda	<L1073+1
 24913 06:65A6: 85 18        	sta	<L1073+1+10
 24914 06:65A8: 2B           	pld
 24915 06:65A9: 3B           	tsc
 24916 06:65AA: 18           	clc
 24917 06:65AB: 69 17 00     	adc	#L1073+10
 24918 06:65AE: 1B           	tcs
 24919 06:65AF: 6B           	rtl
 24920                        ;}
 24921                        	.line	4484
 24922                        	.endblock	4484
 24923             0000000D   L1073	equ	13
 24924             00000009   L1074	equ	9
  Thu Jul 22 2021 22:51                                                Page 460


 24925 06:65B0:              	ends
 24926                        	efunc
 24927                        	.endfunc	4484,9,13
 24928                        	.line	4484
 24929                        ;
 24930                        ;
 24931                        ;void k_enable_bitmap_mode(void)
 24932                        ;{
 24933                        	.line	4487
 24934                        	.line	4488
 24935                        	GFX
 24936                        	xdef	~~k_enable_bitmap_mode
 24937                        	func
 24938                        	.function	4488
 24939                        ~~k_enable_bitmap_mode:
 24940                        	longa	on
 24941                        	longi	on
 24942 06:65B0: 3B           	tsc
 24943 06:65B1: 38           	sec
 24944 06:65B2: E9 04 00     	sbc	#L1077
 24945 06:65B5: 1B           	tcs
 24946 06:65B6: 0B           	phd
 24947 06:65B7: 5B           	tcd
 24948                        	.block	4488
 24949                        ;	int i = 30000;
 24950                        ;	int j = 30000;
 24951                        ;
 24952                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 24953             00000000   i_1	set	0
 24954             00000002   j_1	set	2
 24955                        	.sym	i,0,5,1,16
 24956                        	.sym	j,2,5,1,16
 24957 06:65B8: A9 30 75     	lda	#$7530
 24958 06:65BB: 85 01        	sta	<L1078+i_1
 24959 06:65BD: A9 30 75     	lda	#$7530
 24960 06:65C0: 85 03        	sta	<L1078+j_1
 24961                        	.line	4492
 24962 06:65C2: F4 00 00     	pea	#<$0
 24963 06:65C5: F4 00 00     	pea	#<$0
 24964 06:65C8: F4 E0 01     	pea	#<$1e0
 24965 06:65CB: F4 80 02     	pea	#<$280
 24966 06:65CE: F4 00 00     	pea	#^$0
 24967 06:65D1: F4 00 00     	pea	#<$0
 24968 06:65D4: F4 00 00     	pea	#^$0
 24969 06:65D7: F4 00 00     	pea	#<$0
 24970 06:65DA: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 24971                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_BACK);
 24972                        	.line	4493
 24973 06:65DE: F4 08 00     	pea	#<$8
 24974 06:65E1: F4 00 00     	pea	#<$0
 24975 06:65E4: F4 E0 01     	pea	#<$1e0
 24976 06:65E7: F4 80 02     	pea	#<$280
 24977 06:65EA: F4 00 00     	pea	#^$0
 24978 06:65ED: F4 00 00     	pea	#<$0
 24979 06:65F0: F4 00 00     	pea	#^$0
 24980 06:65F3: F4 00 00     	pea	#<$0
 24981 06:65F6: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 24982                        ;
  Thu Jul 22 2021 22:51                                                Page 461


 24983                        ;	if(MASTER_CTRL_REG_H[0])
 24984                        	.line	4495
 24985                        ;	{
 24986 06:65FA: AF 01 00 AF  	lda	>11468801
 24987 06:65FE: 29 FF 00     	and	#$ff
 24988 06:6601: D0 03        	bne	L1080
 24989 06:6603: 82 4A 00     	brl	L10432
 24990                        L1080:
 24991                        	.line	4496
 24992                        ;		k_debug_string("k_enable_bitmap_mode to 
                    800x600...\r\n");
 24993                        	.line	4497
 24994 06:6606: F4 xx xx     	pea	#^L1060
 24995 06:6609: F4 xx xx     	pea	#<L1060
 24996 06:660C: 22 xx xx xx  	jsl	~~k_debug_string
 24997                        ;
 24998                        ;		MASTER_CTRL_REG_H[0] = MSTR_CTRL_VIDEO_M
                    ODE0;
 24999                        	.line	4499
 25000 06:6610: E2 20        	sep	#$20
 25001                        	longa	off
 25002 06:6612: A9 01        	lda	#$1
 25003 06:6614: 8F 01 00 AF  	sta	>11468801
 25004 06:6618: C2 20        	rep	#$20
 25005                        	longa	on
 25006                        ;		MASTER_CTRL_REG_L[0] = MSTR_CTRL_GRAPH_M
                    ODE_EN;
 25007                        	.line	4500
 25008 06:661A: E2 20        	sep	#$20
 25009                        	longa	off
 25010 06:661C: A9 04        	lda	#$4
 25011 06:661E: 8F 00 00 AF  	sta	>11468800
 25012 06:6622: C2 20        	rep	#$20
 25013                        	longa	on
 25014                        ;
 25015                        ;		for(i=3200;i>0;i--)
 25016                        	.line	4502
 25017 06:6624: A9 80 0C     	lda	#$c80
 25018 06:6627: 85 01        	sta	<L1078+i_1
 25019                        L10435:
 25020                        ;		{
 25021                        	.line	4503
 25022                        ;			for(j=0;j<256;j++)
 25023                        	.line	4504
 25024 06:6629: 64 03        	stz	<L1078+j_1
 25025                        L10438:
 25026                        ;			{
 25027                        	.line	4505
 25028                        ;				asm NOP;
 25029                        	.line	4506
 25030                        	asmstart
 25031 06:662B: EA           	NOP
 25032                        	asmend
 25033                        ;			}
 25034                        	.line	4507
 25035                        L10436:
 25036 06:662C: E6 03        	inc	<L1078+j_1
 25037 06:662E: 38           	sec
  Thu Jul 22 2021 22:51                                                Page 462


 25038 06:662F: A5 03        	lda	<L1078+j_1
 25039 06:6631: E9 00 01     	sbc	#<$100
 25040 06:6634: 70 03        	bvs	L1081
 25041 06:6636: 49 00 80     	eor	#$8000
 25042                        L1081:
 25043 06:6639: 30 03        	bmi	L1082
 25044 06:663B: 82 ED FF     	brl	L10438
 25045                        L1082:
 25046                        L10437:
 25047                        ;		}
 25048                        	.line	4508
 25049                        L10433:
 25050 06:663E: C6 01        	dec	<L1078+i_1
 25051 06:6640: 38           	sec
 25052 06:6641: A9 00 00     	lda	#$0
 25053 06:6644: E5 01        	sbc	<L1078+i_1
 25054 06:6646: 70 03        	bvs	L1083
 25055 06:6648: 49 00 80     	eor	#$8000
 25056                        L1083:
 25057 06:664B: 30 03        	bmi	L1084
 25058 06:664D: 82 D9 FF     	brl	L10435
 25059                        L1084:
 25060                        L10434:
 25061                        ;	}
 25062                        	.line	4509
 25063                        ;	k_get_video_mode();
 25064                        L10432:
 25065                        	.line	4510
 25066 06:6650: 22 72 67 06  	jsl	~~k_get_video_mode
 25067                        ;
 25068                        ;	/*
 25069                        ;	k_debug_string("k_enable_bitmap_mode RESET 1b...
                    \r\n");
 25070                        ;
 25071                        ;	MASTER_CTRL_REG_H[0] = MSTR_CTRL_VIDEO_MODE0;
 25072                        ;	MASTER_CTRL_REG_L[0] = MSTR_CTRL_GRAPH_MODE_EN;
 25073                        ;
 25074                        ;	for(i=3200;i>0;i--)
 25075                        ;	{
 25076                        ;		for(j=0;j<256;j++)
 25077                        ;		{
 25078                        ;			asm NOP;
 25079                        ;		}
 25080                        ;	}
 25081                        ;
 25082                        ;	k_debug_string("k_enable_bitmap_mode RESET 1c...
                    \r\n");
 25083                        ;
 25084                        ;	MASTER_CTRL_REG_H[0] = MSTR_CTRL_VIDEO_MODE0;
 25085                        ;	MASTER_CTRL_REG_L[0] = MSTR_CTRL_GRAPH_MODE_EN;
 25086                        ;
 25087                        ;	for(i=3200;i>0;i--)
 25088                        ;	{
 25089                        ;		for(j=0;j<256;j++)
 25090                        ;		{
 25091                        ;			asm NOP;
 25092                        ;		}
 25093                        ;	}
  Thu Jul 22 2021 22:51                                                Page 463


 25094                        ;	 */
 25095                        ;	//k_debug_string("k_enable_bitmap_mode disable 8
                    00x600...\r\n");
 25096                        ;	//k_get_video_mode();
 25097                        ;
 25098                        ;	MASTER_CTRL_REG_H[0] = 0x00;
 25099                        	.line	4542
 25100 06:6654: E2 20        	sep	#$20
 25101                        	longa	off
 25102 06:6656: A9 00        	lda	#$0
 25103 06:6658: 8F 01 00 AF  	sta	>11468801
 25104 06:665C: C2 20        	rep	#$20
 25105                        	longa	on
 25106                        ;	//MASTER_CTRL_REG_L[0] = MSTR_CTRL_GRAPH_MODE_EN
                    ;
 25107                        ;	for(i=3200;i>0;i--)
 25108                        	.line	4544
 25109 06:665E: A9 80 0C     	lda	#$c80
 25110 06:6661: 85 01        	sta	<L1078+i_1
 25111                        L10441:
 25112                        ;	{
 25113                        	.line	4545
 25114                        ;		for(j=0;j<256;j++)
 25115                        	.line	4546
 25116 06:6663: 64 03        	stz	<L1078+j_1
 25117                        L10444:
 25118                        ;		{
 25119                        	.line	4547
 25120                        ;			asm NOP;
 25121                        	.line	4548
 25122                        	asmstart
 25123 06:6665: EA           	NOP
 25124                        	asmend
 25125                        ;		}
 25126                        	.line	4549
 25127                        L10442:
 25128 06:6666: E6 03        	inc	<L1078+j_1
 25129 06:6668: 38           	sec
 25130 06:6669: A5 03        	lda	<L1078+j_1
 25131 06:666B: E9 00 01     	sbc	#<$100
 25132 06:666E: 70 03        	bvs	L1085
 25133 06:6670: 49 00 80     	eor	#$8000
 25134                        L1085:
 25135 06:6673: 30 03        	bmi	L1086
 25136 06:6675: 82 ED FF     	brl	L10444
 25137                        L1086:
 25138                        L10443:
 25139                        ;	}
 25140                        	.line	4550
 25141                        L10439:
 25142 06:6678: C6 01        	dec	<L1078+i_1
 25143 06:667A: 38           	sec
 25144 06:667B: A9 00 00     	lda	#$0
 25145 06:667E: E5 01        	sbc	<L1078+i_1
 25146 06:6680: 70 03        	bvs	L1087
 25147 06:6682: 49 00 80     	eor	#$8000
 25148                        L1087:
 25149 06:6685: 30 03        	bmi	L1088
  Thu Jul 22 2021 22:51                                                Page 464


 25150 06:6687: 82 D9 FF     	brl	L10441
 25151                        L1088:
 25152                        L10440:
 25153                        ;
 25154                        ;	*BM1_CONTROL_REG = 0x01;
 25155                        	.line	4552
 25156 06:668A: E2 20        	sep	#$20
 25157                        	longa	off
 25158 06:668C: A9 01        	lda	#$1
 25159 06:668E: 8F 08 01 AF  	sta	>11469064
 25160 06:6692: C2 20        	rep	#$20
 25161                        	longa	on
 25162                        ;	*BM1_START_ADDY_L = 0;
 25163                        	.line	4553
 25164 06:6694: E2 20        	sep	#$20
 25165                        	longa	off
 25166 06:6696: A9 00        	lda	#$0
 25167 06:6698: 8F 09 01 AF  	sta	>11469065
 25168 06:669C: C2 20        	rep	#$20
 25169                        	longa	on
 25170                        ;	*BM1_START_ADDY_M = 0;
 25171                        	.line	4554
 25172 06:669E: E2 20        	sep	#$20
 25173                        	longa	off
 25174 06:66A0: A9 00        	lda	#$0
 25175 06:66A2: 8F 0A 01 AF  	sta	>11469066
 25176 06:66A6: C2 20        	rep	#$20
 25177                        	longa	on
 25178                        ;	*BM1_START_ADDY_H = BITMAP_BACK;
 25179                        	.line	4555
 25180 06:66A8: E2 20        	sep	#$20
 25181                        	longa	off
 25182 06:66AA: A9 08        	lda	#$8
 25183 06:66AC: 8F 0B 01 AF  	sta	>11469067
 25184 06:66B0: C2 20        	rep	#$20
 25185                        	longa	on
 25186                        ;
 25187                        ;	*BM0_CONTROL_REG = 0x01;
 25188                        	.line	4557
 25189 06:66B2: E2 20        	sep	#$20
 25190                        	longa	off
 25191 06:66B4: A9 01        	lda	#$1
 25192 06:66B6: 8F 00 01 AF  	sta	>11469056
 25193 06:66BA: C2 20        	rep	#$20
 25194                        	longa	on
 25195                        ;	*BM0_START_ADDY_L = 0;
 25196                        	.line	4558
 25197 06:66BC: E2 20        	sep	#$20
 25198                        	longa	off
 25199 06:66BE: A9 00        	lda	#$0
 25200 06:66C0: 8F 01 01 AF  	sta	>11469057
 25201 06:66C4: C2 20        	rep	#$20
 25202                        	longa	on
 25203                        ;	*BM0_START_ADDY_M = 0;
 25204                        	.line	4559
 25205 06:66C6: E2 20        	sep	#$20
 25206                        	longa	off
 25207 06:66C8: A9 00        	lda	#$0
  Thu Jul 22 2021 22:51                                                Page 465


 25208 06:66CA: 8F 02 01 AF  	sta	>11469058
 25209 06:66CE: C2 20        	rep	#$20
 25210                        	longa	on
 25211                        ;	*BM0_START_ADDY_H = BITMAP_FRONT;
 25212                        	.line	4560
 25213 06:66D0: E2 20        	sep	#$20
 25214                        	longa	off
 25215 06:66D2: A9 00        	lda	#$0
 25216 06:66D4: 8F 03 01 AF  	sta	>11469059
 25217 06:66D8: C2 20        	rep	#$20
 25218                        	longa	on
 25219                        ;
 25220                        ;	*BM1_CONTROL_REG = ( BM_ENABLE | BM_LUT0 );
 25221                        	.line	4562
 25222 06:66DA: E2 20        	sep	#$20
 25223                        	longa	off
 25224 06:66DC: A9 01        	lda	#$1
 25225 06:66DE: 8F 08 01 AF  	sta	>11469064
 25226 06:66E2: C2 20        	rep	#$20
 25227                        	longa	on
 25228                        ;	*BM0_CONTROL_REG = ( BM_ENABLE | BM_LUT0 );
 25229                        	.line	4563
 25230 06:66E4: E2 20        	sep	#$20
 25231                        	longa	off
 25232 06:66E6: A9 01        	lda	#$1
 25233 06:66E8: 8F 00 01 AF  	sta	>11469056
 25234 06:66EC: C2 20        	rep	#$20
 25235                        	longa	on
 25236                        ;
 25237                        ;	k_debug_string("k_enable_bitmap_mode 640x480...\
                    r\n");
 25238                        	.line	4565
 25239 06:66EE: F4 xx xx     	pea	#^L1060+37
 25240 06:66F1: F4 xx xx     	pea	#<L1060+37
 25241 06:66F4: 22 xx xx xx  	jsl	~~k_debug_string
 25242                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 25243                        	.line	4566
 25244 06:66F8: E2 20        	sep	#$20
 25245                        	longa	off
 25246 06:66FA: A9 0C        	lda	#$c
 25247 06:66FC: 8F 00 00 AF  	sta	>11468800
 25248 06:6700: C2 20        	rep	#$20
 25249                        	longa	on
 25250                        ;
 25251                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 25252                        	.line	4568
 25253 06:6702: F4 00 00     	pea	#<$0
 25254 06:6705: F4 00 00     	pea	#<$0
 25255 06:6708: F4 E0 01     	pea	#<$1e0
 25256 06:670B: F4 80 02     	pea	#<$280
 25257 06:670E: F4 00 00     	pea	#^$0
 25258 06:6711: F4 00 00     	pea	#<$0
 25259 06:6714: F4 00 00     	pea	#^$0
 25260 06:6717: F4 00 00     	pea	#<$0
 25261 06:671A: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 25262                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_BACK);
 25263                        	.line	4569
  Thu Jul 22 2021 22:51                                                Page 466


 25264 06:671E: F4 08 00     	pea	#<$8
 25265 06:6721: F4 00 00     	pea	#<$0
 25266 06:6724: F4 E0 01     	pea	#<$1e0
 25267 06:6727: F4 80 02     	pea	#<$280
 25268 06:672A: F4 00 00     	pea	#^$0
 25269 06:672D: F4 00 00     	pea	#<$0
 25270 06:6730: F4 00 00     	pea	#^$0
 25271 06:6733: F4 00 00     	pea	#<$0
 25272 06:6736: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 25273                        ;
 25274                        ;	for(i=3200;i>0;i--)
 25275                        	.line	4571
 25276 06:673A: A9 80 0C     	lda	#$c80
 25277 06:673D: 85 01        	sta	<L1078+i_1
 25278                        L10447:
 25279                        ;	{
 25280                        	.line	4572
 25281                        ;		for(j=0;j<256;j++)
 25282                        	.line	4573
 25283 06:673F: 64 03        	stz	<L1078+j_1
 25284                        L10450:
 25285                        ;		{
 25286                        	.line	4574
 25287                        ;			asm NOP;
 25288                        	.line	4575
 25289                        	asmstart
 25290 06:6741: EA           	NOP
 25291                        	asmend
 25292                        ;		}
 25293                        	.line	4576
 25294                        L10448:
 25295 06:6742: E6 03        	inc	<L1078+j_1
 25296 06:6744: 38           	sec
 25297 06:6745: A5 03        	lda	<L1078+j_1
 25298 06:6747: E9 00 01     	sbc	#<$100
 25299 06:674A: 70 03        	bvs	L1089
 25300 06:674C: 49 00 80     	eor	#$8000
 25301                        L1089:
 25302 06:674F: 30 03        	bmi	L1090
 25303 06:6751: 82 ED FF     	brl	L10450
 25304                        L1090:
 25305                        L10449:
 25306                        ;	}
 25307                        	.line	4577
 25308                        L10445:
 25309 06:6754: C6 01        	dec	<L1078+i_1
 25310 06:6756: 38           	sec
 25311 06:6757: A9 00 00     	lda	#$0
 25312 06:675A: E5 01        	sbc	<L1078+i_1
 25313 06:675C: 70 03        	bvs	L1091
 25314 06:675E: 49 00 80     	eor	#$8000
 25315                        L1091:
 25316 06:6761: 30 03        	bmi	L1092
 25317 06:6763: 82 D9 FF     	brl	L10447
 25318                        L1092:
 25319                        L10446:
 25320                        ;
 25321                        ;	k_get_video_mode();
  Thu Jul 22 2021 22:51                                                Page 467


 25322                        	.line	4579
 25323 06:6766: 22 72 67 06  	jsl	~~k_get_video_mode
 25324                        ;	return;
 25325                        	.line	4580
 25326                        L1093:
 25327 06:676A: 2B           	pld
 25328 06:676B: 3B           	tsc
 25329 06:676C: 18           	clc
 25330 06:676D: 69 04 00     	adc	#L1077
 25331 06:6770: 1B           	tcs
 25332 06:6771: 6B           	rtl
 25333                        ;}
 25334                        	.line	4581
 25335                        	.endblock	4581
 25336             00000004   L1077	equ	4
 25337             00000001   L1078	equ	1
 25338 06:6772:              	ends
 25339                        	efunc
 25340                        	.endfunc	4581,1,4
 25341                        	.line	4581
 25342                        	data
 25343                        L1060:
 25344 00:0A85: 6B 5F 65 6E  	db	$6B,$5F,$65,$6E,$61,$62,$6C,$65,$5F,$62,
                    $69,$74,$6D,$61,$70
       00:0A89: 61 62 6C 65 
       00:0A8D: 5F 62 69 74 
       00:0A91: 6D 61 70 
 25345 00:0A94: 5F 6D 6F 64  	db	$5F,$6D,$6F,$64,$65,$20,$74,$6F,$20,$38,
                    $30,$30,$78,$36,$30
       00:0A98: 65 20 74 6F 
       00:0A9C: 20 38 30 30 
       00:0AA0: 78 36 30 
 25346 00:0AA3: 30 2E 2E 2E  	db	$30,$2E,$2E,$2E,$0D,$0A,$00,$6B,$5F,$65,
                    $6E,$61,$62,$6C,$65
       00:0AA7: 0D 0A 00 6B 
       00:0AAB: 5F 65 6E 61 
       00:0AAF: 62 6C 65 
 25347 00:0AB2: 5F 62 69 74  	db	$5F,$62,$69,$74,$6D,$61,$70,$5F,$6D,$6F,
                    $64,$65,$20,$36,$34
       00:0AB6: 6D 61 70 5F 
       00:0ABA: 6D 6F 64 65 
       00:0ABE: 20 36 34 
 25348 00:0AC1: 30 78 34 38  	db	$30,$78,$34,$38,$30,$2E,$2E,$2E,$0D,$0A,
                    $00
       00:0AC5: 30 2E 2E 2E 
       00:0AC9: 0D 0A 00 
 25349 00:0ACC:              	ends
 25350                        ;
 25351                        ;
 25352                        ;UINT k_get_video_mode(void)
 25353                        ;{
 25354                        	.line	4584
 25355                        	.line	4585
 25356                        	GFX
 25357                        	xdef	~~k_get_video_mode
 25358                        	func
 25359                        	.function	4585
 25360                        ~~k_get_video_mode:
  Thu Jul 22 2021 22:51                                                Page 468


 25361                        	longa	on
 25362                        	longi	on
 25363 06:6772: 3B           	tsc
 25364 06:6773: 38           	sec
 25365 06:6774: E9 00 00     	sbc	#L1095
 25366 06:6777: 1B           	tcs
 25367 06:6778: 0B           	phd
 25368 06:6779: 5B           	tcd
 25369                        	.block	4585
 25370                        ;	//Mstr_Ctrl_Video_Mode0   = $01       ; 0 - 640x
                    480 (Clock @ 25.175Mhz), 1 - 800x600 (Clock @ 40Mhz)
 25371                        ;	//Mstr_Ctrl_Video_Mode1   = $02       ; 0 - No P
                    ixel Doubling, 1- Pixel Doubling (Reduce the Pixel Resolutio
                    n by 2)
 25372                        ;
 25373                        ;	if(MASTER_CTRL_REG_H[0] & 0x01)
 25374                        	.line	4589
 25375                        ;	{
 25376 06:677A: E2 20        	sep	#$20
 25377                        	longa	off
 25378 06:677C: AF 01 00 AF  	lda	>11468801
 25379 06:6780: 29 01        	and	#<$1
 25380 06:6782: C2 20        	rep	#$20
 25381                        	longa	on
 25382 06:6784: D0 03        	bne	L1098
 25383 06:6786: 82 36 00     	brl	L10451
 25384                        L1098:
 25385                        	.line	4590
 25386                        ;		if(MASTER_CTRL_REG_H[0] & 0x02)
 25387                        	.line	4591
 25388                        ;		{
 25389 06:6789: E2 20        	sep	#$20
 25390                        	longa	off
 25391 06:678B: AF 01 00 AF  	lda	>11468801
 25392 06:678F: 29 02        	and	#<$2
 25393 06:6791: C2 20        	rep	#$20
 25394                        	longa	on
 25395 06:6793: D0 03        	bne	L1099
 25396 06:6795: 82 17 00     	brl	L10452
 25397                        L1099:
 25398                        	.line	4592
 25399                        ;			k_debug_string("k_get_video_mode
                    :VIDEO_MODE_800X600D...\r\n");
 25400                        	.line	4593
 25401 06:6798: F4 xx xx     	pea	#^L1094
 25402 06:679B: F4 xx xx     	pea	#<L1094
 25403 06:679E: 22 xx xx xx  	jsl	~~k_debug_string
 25404                        ;			return VIDEO_MODE_800X600D;
 25405                        	.line	4594
 25406 06:67A2: A9 08 00     	lda	#$8
 25407                        L1100:
 25408 06:67A5: A8           	tay
 25409 06:67A6: 2B           	pld
 25410 06:67A7: 3B           	tsc
 25411 06:67A8: 18           	clc
 25412 06:67A9: 69 00 00     	adc	#L1095
 25413 06:67AC: 1B           	tcs
 25414 06:67AD: 98           	tya
  Thu Jul 22 2021 22:51                                                Page 469


 25415 06:67AE: 6B           	rtl
 25416                        ;		}
 25417                        	.line	4595
 25418                        ;
 25419                        ;		k_debug_string("k_get_video_mode:VIDEO_M
                    ODE_800X600...\r\n");
 25420                        L10452:
 25421                        	.line	4597
 25422 06:67AF: F4 xx xx     	pea	#^L1094+42
 25423 06:67B2: F4 xx xx     	pea	#<L1094+42
 25424 06:67B5: 22 xx xx xx  	jsl	~~k_debug_string
 25425                        ;		return VIDEO_MODE_800X600;
 25426                        	.line	4598
 25427 06:67B9: A9 04 00     	lda	#$4
 25428 06:67BC: 82 E6 FF     	brl	L1100
 25429                        ;	}
 25430                        	.line	4599
 25431                        ;	else
 25432                        L10451:
 25433                        ;	{
 25434                        	.line	4601
 25435                        ;		if(MASTER_CTRL_REG_H[0] & 0x02)
 25436                        	.line	4602
 25437                        ;		{
 25438 06:67BF: E2 20        	sep	#$20
 25439                        	longa	off
 25440 06:67C1: AF 01 00 AF  	lda	>11468801
 25441 06:67C5: 29 02        	and	#<$2
 25442 06:67C7: C2 20        	rep	#$20
 25443                        	longa	on
 25444 06:67C9: D0 03        	bne	L1101
 25445 06:67CB: 82 10 00     	brl	L10453
 25446                        L1101:
 25447                        	.line	4603
 25448                        ;			k_debug_string("k_get_video_mode
                    :VIDEO_MODE_640X480D...\r\n");
 25449                        	.line	4604
 25450 06:67CE: F4 xx xx     	pea	#^L1094+83
 25451 06:67D1: F4 xx xx     	pea	#<L1094+83
 25452 06:67D4: 22 xx xx xx  	jsl	~~k_debug_string
 25453                        ;			return VIDEO_MODE_640X480D;
 25454                        	.line	4605
 25455 06:67D8: A9 02 00     	lda	#$2
 25456 06:67DB: 82 C7 FF     	brl	L1100
 25457                        ;		}
 25458                        	.line	4606
 25459                        ;
 25460                        ;		k_debug_string("k_get_video_mode:VIDEO_M
                    ODE_640X480...\r\n");
 25461                        L10453:
 25462                        	.line	4608
 25463 06:67DE: F4 xx xx     	pea	#^L1094+125
 25464 06:67E1: F4 xx xx     	pea	#<L1094+125
 25465 06:67E4: 22 xx xx xx  	jsl	~~k_debug_string
 25466                        ;		return VIDEO_MODE_640X480;
 25467                        	.line	4609
 25468 06:67E8: A9 01 00     	lda	#$1
 25469 06:67EB: 82 B7 FF     	brl	L1100
  Thu Jul 22 2021 22:51                                                Page 470


 25470                        ;	}
 25471                        	.line	4610
 25472                        ;
 25473                        ;
 25474                        ;	return VIDEO_MODE_UNKNOWN;
 25475                        	.line	4613
 25476 06:67EE: A9 FF 00     	lda	#$ff
 25477 06:67F1: 82 B1 FF     	brl	L1100
 25478                        ;}
 25479                        	.line	4614
 25480                        	.endblock	4614
 25481             00000000   L1095	equ	0
 25482             00000001   L1096	equ	1
 25483 06:67F4:              	ends
 25484                        	efunc
 25485                        	.endfunc	4614,1,0
 25486                        	.line	4614
 25487                        	data
 25488                        L1094:
 25489 00:0ACC: 6B 5F 67 65  	db	$6B,$5F,$67,$65,$74,$5F,$76,$69,$64,$65,
                    $6F,$5F,$6D,$6F,$64
       00:0AD0: 74 5F 76 69 
       00:0AD4: 64 65 6F 5F 
       00:0AD8: 6D 6F 64 
 25490 00:0ADB: 65 3A 56 49  	db	$65,$3A,$56,$49,$44,$45,$4F,$5F,$4D,$4F,
                    $44,$45,$5F,$38,$30
       00:0ADF: 44 45 4F 5F 
       00:0AE3: 4D 4F 44 45 
       00:0AE7: 5F 38 30 
 25491 00:0AEA: 30 58 36 30  	db	$30,$58,$36,$30,$30,$44,$2E,$2E,$2E,$0D,
                    $0A,$00,$6B,$5F,$67
       00:0AEE: 30 44 2E 2E 
       00:0AF2: 2E 0D 0A 00 
       00:0AF6: 6B 5F 67 
 25492 00:0AF9: 65 74 5F 76  	db	$65,$74,$5F,$76,$69,$64,$65,$6F,$5F,$6D,
                    $6F,$64,$65,$3A,$56
       00:0AFD: 69 64 65 6F 
       00:0B01: 5F 6D 6F 64 
       00:0B05: 65 3A 56 
 25493 00:0B08: 49 44 45 4F  	db	$49,$44,$45,$4F,$5F,$4D,$4F,$44,$45,$5F,
                    $38,$30,$30,$58,$36
       00:0B0C: 5F 4D 4F 44 
       00:0B10: 45 5F 38 30 
       00:0B14: 30 58 36 
 25494 00:0B17: 30 30 2E 2E  	db	$30,$30,$2E,$2E,$2E,$0D,$0A,$00,$6B,$5F,
                    $67,$65,$74,$5F,$76
       00:0B1B: 2E 0D 0A 00 
       00:0B1F: 6B 5F 67 65 
       00:0B23: 74 5F 76 
 25495 00:0B26: 69 64 65 6F  	db	$69,$64,$65,$6F,$5F,$6D,$6F,$64,$65,$3A,
                    $56,$49,$44,$45,$4F
       00:0B2A: 5F 6D 6F 64 
       00:0B2E: 65 3A 56 49 
       00:0B32: 44 45 4F 
 25496 00:0B35: 5F 4D 4F 44  	db	$5F,$4D,$4F,$44,$45,$5F,$36,$34,$30,$58,
                    $34,$38,$30,$44,$2E
       00:0B39: 45 5F 36 34 
       00:0B3D: 30 58 34 38 
  Thu Jul 22 2021 22:51                                                Page 471


       00:0B41: 30 44 2E 
 25497 00:0B44: 2E 2E 0D 0A  	db	$2E,$2E,$0D,$0A,$00,$6B,$5F,$67,$65,$74,
                    $5F,$76,$69,$64,$65
       00:0B48: 00 6B 5F 67 
       00:0B4C: 65 74 5F 76 
       00:0B50: 69 64 65 
 25498 00:0B53: 6F 5F 6D 6F  	db	$6F,$5F,$6D,$6F,$64,$65,$3A,$56,$49,$44,
                    $45,$4F,$5F,$4D,$4F
       00:0B57: 64 65 3A 56 
       00:0B5B: 49 44 45 4F 
       00:0B5F: 5F 4D 4F 
 25499 00:0B62: 44 45 5F 36  	db	$44,$45,$5F,$36,$34,$30,$58,$34,$38,$30,
                    $2E,$2E,$2E,$0D,$0A
       00:0B66: 34 30 58 34 
       00:0B6A: 38 30 2E 2E 
       00:0B6E: 2E 0D 0A 
 25500 00:0B71: 00           	db	$00
 25501 00:0B72:              	ends
 25502                        ;
 25503                        ;void k_gui_cache_desktop_widgets(void)
 25504                        ;{
 25505                        	.line	4616
 25506                        	.line	4617
 25507                        	GFX
 25508                        	xdef	~~k_gui_cache_desktop_widgets
 25509                        	func
 25510                        	.function	4617
 25511                        ~~k_gui_cache_desktop_widgets:
 25512                        	longa	on
 25513                        	longi	on
 25514 06:67F4: 3B           	tsc
 25515 06:67F5: 38           	sec
 25516 06:67F6: E9 1A 00     	sbc	#L1103
 25517 06:67F9: 1B           	tcs
 25518 06:67FA: 0B           	phd
 25519 06:67FB: 5B           	tcd
 25520                        	.block	4617
 25521                        ;	int i = 0;
 25522                        ;	int titleOffsetX = 0;
 25523                        ;	RECT rect;
 25524                        ;
 25525                        ;
 25526                        ;	for(i=0;i<80;i++)
 25527             00000000   i_1	set	0
 25528             00000002   titleOffsetX_1	set	2
 25529             00000004   rect_1	set	4
 25530                        	.sym	i,0,5,1,16
 25531                        	.sym	titleOffsetX,2,5,1,16
 25532                        	.sym	rect,4,10,1,112,26
 25533 06:67FC: 64 09        	stz	<L1104+i_1
 25534 06:67FE: 64 0B        	stz	<L1104+titleOffsetX_1
 25535                        	.line	4623
 25536 06:6800: 64 09        	stz	<L1104+i_1
 25537                        L10456:
 25538                        ;	{
 25539                        	.line	4624
 25540                        ;		titleOffsetX+=k_put_wingadget_point_ex(W
                    INICON_TITLE_LINES,titleOffsetX,10,k_getUIGadgetColor(),BITM
  Thu Jul 22 2021 22:51                                                Page 472


                    AP_BACK);
 25541                        	.line	4625
 25542 06:6802: F4 08 00     	pea	#<$8
 25543 06:6805: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 25544 06:6809: 48           	pha
 25545 06:680A: F4 0A 00     	pea	#<$a
 25546 06:680D: D4 0B        	pei	<L1104+titleOffsetX_1
 25547 06:680F: F4 01 00     	pea	#<$1
 25548 06:6812: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 25549 06:6816: 85 01        	sta	<R0
 25550 06:6818: 18           	clc
 25551 06:6819: A5 01        	lda	<R0
 25552 06:681B: 65 0B        	adc	<L1104+titleOffsetX_1
 25553 06:681D: 85 0B        	sta	<L1104+titleOffsetX_1
 25554                        ;	}
 25555                        	.line	4626
 25556                        L10454:
 25557 06:681F: E6 09        	inc	<L1104+i_1
 25558 06:6821: 38           	sec
 25559 06:6822: A5 09        	lda	<L1104+i_1
 25560 06:6824: E9 50 00     	sbc	#<$50
 25561 06:6827: 70 03        	bvs	L1106
 25562 06:6829: 49 00 80     	eor	#$8000
 25563                        L1106:
 25564 06:682C: 30 03        	bmi	L1107
 25565 06:682E: 82 D1 FF     	brl	L10456
 25566                        L1107:
 25567                        L10455:
 25568                        ;
 25569                        ;	k_vdma_copy_address_ex((LPSTR)(GUI_CACHE_PAGE + 
                    GUI_CACHE_PAGE_OFFSET(0)),
 25570                        	.line	4628
 25571                        ;						   (LPST
                    R)(0x080000  + k_gui_get_pixel_offset(0,10)),
 25572                        ;						   640,8
                    );
 25573 06:6831: F4 08 00     	pea	#<$8
 25574 06:6834: F4 80 02     	pea	#<$280
 25575 06:6837: F4 0A 00     	pea	#<$a
 25576 06:683A: F4 00 00     	pea	#<$0
 25577 06:683D: 22 B4 07 06  	jsl	~~k_gui_get_pixel_offset
 25578 06:6841: 85 01        	sta	<R0
 25579 06:6843: 86 03        	stx	<R0+2
 25580 06:6845: 18           	clc
 25581 06:6846: A9 00 00     	lda	#$0
 25582 06:6849: 65 01        	adc	<R0
 25583 06:684B: 85 05        	sta	<R1
 25584 06:684D: A9 08 00     	lda	#$8
 25585 06:6850: 65 03        	adc	<R0+2
 25586 06:6852: 85 07        	sta	<R1+2
 25587 06:6854: D4 07        	pei	<R1+2
 25588 06:6856: D4 05        	pei	<R1
 25589 06:6858: F4 10 00     	pea	#^$100000
 25590 06:685B: F4 00 00     	pea	#<$100000
 25591 06:685E: 22 19 83 06  	jsl	~~k_vdma_copy_address_ex
 25592                        ;
 25593                        ;
 25594                        ;	/*
  Thu Jul 22 2021 22:51                                                Page 473


 25595                        ;	k_vdma_copy_address_ex((LPSTR)(0x080000  + k_gui
                    _get_pixel_offset(0,100)),
 25596                        ;						   (LPST
                    R)(GUI_CACHE_PAGE + GUI_CACHE_PAGE_OFFSET(0)),
 25597                        ;						   640,8
                    );
 25598                        ;
 25599                        ;
 25600                        ;	rect.x = 0;
 25601                        ;	rect.y = 300;
 25602                        ;	rect.width  = 640;
 25603                        ;	rect.height = 8;
 25604                        ;
 25605                        ;	k_gui_get_image_cache(0,0x080000,&rect);
 25606                        ;
 25607                        ;
 25608                        ;	for(i=32000;i>0;i--)
 25609                        ;	{
 25610                        ;		asm NOP;
 25611                        ;	}
 25612                        ;	for(i=32000;i>0;i--)
 25613                        ;	{
 25614                        ;		asm NOP;
 25615                        ;	}
 25616                        ;	for(i=32000;i>0;i--)
 25617                        ;	{
 25618                        ;		asm NOP;
 25619                        ;	}
 25620                        ;	for(i=32000;i>0;i--)
 25621                        ;	{
 25622                        ;		asm NOP;
 25623                        ;	}
 25624                        ;	for(i=32000;i>0;i--)
 25625                        ;	{
 25626                        ;		asm NOP;
 25627                        ;	}
 25628                        ;	for(i=32000;i>0;i--)
 25629                        ;	{
 25630                        ;		asm NOP;
 25631                        ;	}
 25632                        ;	for(i=32000;i>0;i--)
 25633                        ;	{
 25634                        ;		asm NOP;
 25635                        ;	}
 25636                        ;	*/
 25637                        ;}
 25638                        	.line	4676
 25639                        L1108:
 25640 06:6862: 2B           	pld
 25641 06:6863: 3B           	tsc
 25642 06:6864: 18           	clc
 25643 06:6865: 69 1A 00     	adc	#L1103
 25644 06:6868: 1B           	tcs
 25645 06:6869: 6B           	rtl
 25646                        	.endblock	4676
 25647             0000001A   L1103	equ	26
 25648             00000009   L1104	equ	9
 25649 06:686A:              	ends
  Thu Jul 22 2021 22:51                                                Page 474


 25650                        	efunc
 25651                        	.endfunc	4676,9,26
 25652                        	.line	4676
 25653                        ;
 25654                        ;void k_init_desktop(PFXPROCESS process)
 25655                        ;{
 25656                        	.line	4678
 25657                        	.line	4679
 25658                        	GFX
 25659                        	xdef	~~k_init_desktop
 25660                        	func
 25661                        	.function	4679
 25662                        ~~k_init_desktop:
 25663                        	longa	on
 25664                        	longi	on
 25665 06:686A: 3B           	tsc
 25666 06:686B: 38           	sec
 25667 06:686C: E9 12 00     	sbc	#L1109
 25668 06:686F: 1B           	tcs
 25669 06:6870: 0B           	phd
 25670 06:6871: 5B           	tcd
 25671             00000004   process_0	set	4
 25672                        	.block	4679
 25673                        ;
 25674                        ;	int i = 0;
 25675                        ;	int x = 0;
 25676                        ;	int y = 200;
 25677                        ;
 25678                        ;
 25679                        ;	PFXSTRING fxtitle = NULL;
 25680                        ;	PFXSTRING fxstring = NULL;
 25681                        ;
 25682                        ;	ULONG availableMem = 0L;
 25683                        ;
 25684                        ;
 25685                        ;	k_clear_screen(0);
 25686             00000000   i_1	set	0
 25687             00000002   x_1	set	2
 25688             00000004   y_1	set	4
 25689             00000006   fxtitle_1	set	6
 25690             0000000A   fxstring_1	set	10
 25691             0000000E   availableMem_1	set	14
 25692                        	.sym	i,0,5,1,16
 25693                        	.sym	x,2,5,1,16
 25694                        	.sym	y,4,5,1,16
 25695                        	.sym	fxtitle,6,138,1,32,60
 25696                        	.sym	fxstring,10,138,1,32,60
 25697                        	.sym	availableMem,14,18,1,32
 25698                        	.sym	process,4,138,6,32,20
 25699 06:6872: 64 01        	stz	<L1110+i_1
 25700 06:6874: 64 03        	stz	<L1110+x_1
 25701 06:6876: A9 C8 00     	lda	#$c8
 25702 06:6879: 85 05        	sta	<L1110+y_1
 25703 06:687B: 64 07        	stz	<L1110+fxtitle_1
 25704 06:687D: 64 09        	stz	<L1110+fxtitle_1+2
 25705 06:687F: 64 0B        	stz	<L1110+fxstring_1
 25706 06:6881: 64 0D        	stz	<L1110+fxstring_1+2
 25707 06:6883: 64 0F        	stz	<L1110+availableMem_1
  Thu Jul 22 2021 22:51                                                Page 475


 25708 06:6885: 64 11        	stz	<L1110+availableMem_1+2
 25709                        	.line	4692
 25710 06:6887: F4 00 00     	pea	#<$0
 25711 06:688A: 22 xx xx xx  	jsl	~~k_clear_screen
 25712                        ;	setColors();
 25713                        	.line	4693
 25714 06:688E: 22 FA 08 06  	jsl	~~setColors
 25715                        ;	//defineGrayPalette();
 25716                        ;
 25717                        ;#ifdef USE_FX256_FMX
 25718                        ;
 25719                        ;	/*
 25720                        ;	*BM1_CONTROL_REG = 0x01;
 25721                        ;	*BM1_START_ADDY_L = 0;
 25722                        ;	*BM1_START_ADDY_M = 0;
 25723                        ;	*BM1_START_ADDY_H = 0;
 25724                        ;
 25725                        ;	*MASTER_CTRL_REG_H 	= 0x00;
 25726                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 25727                        ;
 25728                        ;	*MASTER_CTRL_REG_H 	= 0x01;
 25729                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 25730                        ;
 25731                        ;	*BM1_CONTROL_REG = ( BM_ENABLE | BM_LUT0 );
 25732                        ;
 25733                        ;	*MASTER_CTRL_REG_H 	= 0x00;
 25734                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 25735                        ;	*/
 25736                        ;
 25737                        ;	k_enable_bitmap_mode();
 25738                        ;
 25739                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 25740                        ;	k_vdma_fill_rect_ex(0,0,640,480,15,BITMAP_BACK);
 25741                        ;
 25742                        ;	k_gui_cache_desktop_widgets();
 25743                        ;
 25744                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 25745                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_BACK);
 25746                        ;#elif USE_FX256_U
 25747                        ;
 25748                        ;
 25749                        ;	k_enable_bitmap_mode();
 25750                        	.line	4728
 25751 06:6892: 22 B0 65 06  	jsl	~~k_enable_bitmap_mode
 25752                        ;
 25753                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 25754                        	.line	4730
 25755 06:6896: F4 00 00     	pea	#<$0
 25756 06:6899: F4 00 00     	pea	#<$0
 25757 06:689C: F4 E0 01     	pea	#<$1e0
 25758 06:689F: F4 80 02     	pea	#<$280
 25759 06:68A2: F4 00 00     	pea	#^$0
 25760 06:68A5: F4 00 00     	pea	#<$0
 25761 06:68A8: F4 00 00     	pea	#^$0
 25762 06:68AB: F4 00 00     	pea	#<$0
  Thu Jul 22 2021 22:51                                                Page 476


 25763 06:68AE: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 25764                        ;	k_vdma_fill_rect_ex(0,0,640,480,15,BITMAP_BACK);
 25765                        	.line	4731
 25766 06:68B2: F4 08 00     	pea	#<$8
 25767 06:68B5: F4 0F 00     	pea	#<$f
 25768 06:68B8: F4 E0 01     	pea	#<$1e0
 25769 06:68BB: F4 80 02     	pea	#<$280
 25770 06:68BE: F4 00 00     	pea	#^$0
 25771 06:68C1: F4 00 00     	pea	#<$0
 25772 06:68C4: F4 00 00     	pea	#^$0
 25773 06:68C7: F4 00 00     	pea	#<$0
 25774 06:68CA: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 25775                        ;
 25776                        ;	k_gui_cache_desktop_widgets();
 25777                        	.line	4733
 25778 06:68CE: 22 F4 67 06  	jsl	~~k_gui_cache_desktop_widgets
 25779                        ;
 25780                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 25781                        	.line	4735
 25782 06:68D2: F4 00 00     	pea	#<$0
 25783 06:68D5: F4 00 00     	pea	#<$0
 25784 06:68D8: F4 E0 01     	pea	#<$1e0
 25785 06:68DB: F4 80 02     	pea	#<$280
 25786 06:68DE: F4 00 00     	pea	#^$0
 25787 06:68E1: F4 00 00     	pea	#<$0
 25788 06:68E4: F4 00 00     	pea	#^$0
 25789 06:68E7: F4 00 00     	pea	#<$0
 25790 06:68EA: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 25791                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_BACK);
 25792                        	.line	4736
 25793 06:68EE: F4 08 00     	pea	#<$8
 25794 06:68F1: F4 00 00     	pea	#<$0
 25795 06:68F4: F4 E0 01     	pea	#<$1e0
 25796 06:68F7: F4 80 02     	pea	#<$280
 25797 06:68FA: F4 00 00     	pea	#^$0
 25798 06:68FD: F4 00 00     	pea	#<$0
 25799 06:6900: F4 00 00     	pea	#^$0
 25800 06:6903: F4 00 00     	pea	#<$0
 25801 06:6906: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 25802                        ;#else
 25803                        ;
 25804                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE;
 25805                        ;
 25806                        ;	*BM_START_ADDY_L = 0x00;
 25807                        ;	*BM_START_ADDY_M = 0x00;
 25808                        ;	*BM_START_ADDY_H = 0x00;
 25809                        ;	*BG_CHAR_LUT_PTR = 0x02;
 25810                        ;
 25811                        ;	*BM_X_SIZE_L = 0x80;
 25812                        ;	*BM_X_SIZE_H = 0x02;
 25813                        ;	*BM_Y_SIZE_L = 0xE0;
 25814                        ;	*BM_Y_SIZE_H = 0x01;
 25815                        ;
 25816                        ;	//*FG_CHAR_LUT_PTR    = 0x00;
 25817                        ;	//*BG_CHAR_LUT_PTR    = 0x00;
 25818                        ;	*BM_CONTROL_REG 	= 0x08;
 25819                        ;
 25820                        ;	*MASTER_CTRL_REG_H 	= 0x00;
  Thu Jul 22 2021 22:51                                                Page 477


 25821                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 25822                        ;
 25823                        ;#endif
 25824                        ;
 25825                        ;	k_disable_border();
 25826                        	.line	4760
 25827 06:690A: 22 xx xx xx  	jsl	~~k_disable_border
 25828                        ;
 25829                        ;	//setColors();
 25830                        ;	//defineGrayPalette();
 25831                        ;
 25832                        ;	/*
 25833                        ;
 25834                        ;	if(!_k_WindowObject_nodes)
 25835                        ;		_k_WindowObject_nodes = k_nodelist_init(
                    0xF0,"master",NULL);
 25836                        ;	if(!_k_WindowHit_nodes)
 25837                        ;		_k_WindowHit_nodes    = k_nodelist_init(
                    0xF0,"master",NULL);
 25838                        ;
 25839                        ;	if(process->desktopCtl == NULL)
 25840                        ;	{
 25841                        ;		process->desktopCtl = k_mem_allocate_hea
                    p(sizeof(DESKTOP_CONTROL));
 25842                        ;		memset(process->desktopCtl,0,sizeof(DESK
                    TOP_CONTROL));
 25843                        ;	}
 25844                        ;	process->desktopCtl->backgroundColor = k_getUIDe
                    sktopColor() ;//14;
 25845                        ;	process->desktopCtl->currentDiskName = NULL;
 25846                        ;
 25847                        ;	*/
 25848                        ;
 25849                        ;	// clear screen the old way
 25850                        ;
 25851                        ;	/*
 25852                        ;	for(y=0;y<480;y++)
 25853                        ;	{
 25854                        ;		k_fill_line(0,y,639,k_getUIDesktopColor(
                    ));
 25855                        ;	}
 25856                        ;	*/
 25857                        ;	//k_vdma_fill_rect_ex(0,0,640,480,k_getUIBackgro
                    undColor(),0x10);
 25858                        ;
 25859                        ;
 25860                        ;	//k_paint_brush_rect(0,0,640,480,0x55);
 25861                        ;
 25862                        ;
 25863                        ;	/*
 25864                        ;	fxtitle  = k_fxstring_new(CONST_WB_MENU_TITLE,96
                    );
 25865                        ;	fxstring = k_fxstring_from_long(k_getZeroPage()-
                    >availableMemoryK);
 25866                        ;
 25867                        ;	//k_debug_message("fxtitle:",fxtitle->buffer);
 25868                        ;	//k_debug_message("fxstring:",k_strip_padding(fx
  Thu Jul 22 2021 22:51                                                Page 478


                    string->buffer));
 25869                        ;
 25870                        ;	//process->desktopCtl->titleNodes = k_vdraw_ui_m
                    enu(0,0,639,"C256 Foenix Workbench - Free Mem: 1792K Video M
                    em: 4096K",15,3);
 25871                        ;	process->desktopCtl->titleNodes = k_vdraw_ui_men
                    u(0,0,639,
 25872                        ;   						
                    							  k_stri
                    ng_replace(fxtitle->buffer, "%d", k_strip_padding(fxstring->
                    buffer)),
 25873                        ;							
                    						  k_getUIMenuCol
                    or(),
 25874                        ;							
                    						  k_getUIWindowF
                    rameColor());
 25875                        ;
 25876                        ;	if(fxstring)
 25877                        ;		k_fxstring_free(fxstring);
 25878                        ;	*/
 25879                        ;
 25880                        ;	//k_vdraw_ui_menu(0,0,639,"C256 Foenix Workbench
                     - Free Memory: 1792K Video Memory: 4096K",15,3);
 25881                        ;
 25882                        ;	/*
 25883                        ;	//FX-Basic
 25884                        ;	k_put_winicon_point(ICON_DISK,640 - 40,20,0,PAIN
                    TMODE_DEFAULT);
 25885                        ;	k_draw_text_point("FX-BASIC",640 - 35 - (8*4),40
                    ,0);
 25886                        ;
 25887                        ;	//Projects
 25888                        ;	k_put_winicon_point(ICON_CABINET,640 - 40,55,2,P
                    AINTMODE_DEFAULT);
 25889                        ;	k_draw_text_point("PROJECTS",640 - 35 - (8*4),75
                    ,0);
 25890                        ;	*/
 25891                        ;
 25892                        ;	//Shredder
 25893                        ;	//k_put_winicon_point(ICON_TRASH,640 - 40,450,1,
                    PAINTMODE_DEFAULT);
 25894                        ;	//k_draw_text_point("SHREDDER",640 - 35 - (8*4),
                    470,0);
 25895                        ;
 25896                        ;
 25897                        ;
 25898                        ;	return;
 25899                        	.line	4831
 25900                        L1112:
 25901 06:690E: A5 14        	lda	<L1109+2
 25902 06:6910: 85 18        	sta	<L1109+2+4
 25903 06:6912: A5 13        	lda	<L1109+1
 25904 06:6914: 85 17        	sta	<L1109+1+4
 25905 06:6916: 2B           	pld
 25906 06:6917: 3B           	tsc
 25907 06:6918: 18           	clc
 25908 06:6919: 69 16 00     	adc	#L1109+4
  Thu Jul 22 2021 22:51                                                Page 479


 25909 06:691C: 1B           	tcs
 25910 06:691D: 6B           	rtl
 25911                        ;}
 25912                        	.line	4832
 25913                        	.endblock	4832
 25914             00000012   L1109	equ	18
 25915             00000001   L1110	equ	1
 25916 06:691E:              	ends
 25917                        	efunc
 25918                        	.endfunc	4832,1,18
 25919                        	.line	4832
 25920                        ;
 25921                        ;
 25922                        ;void k_init_splash(BOOL bWait)
 25923                        ;{
 25924                        	.line	4835
 25925                        	.line	4836
 25926                        	GFX
 25927                        	xdef	~~k_init_splash
 25928                        	func
 25929                        	.function	4836
 25930                        ~~k_init_splash:
 25931                        	longa	on
 25932                        	longi	on
 25933 06:691E: 3B           	tsc
 25934 06:691F: 38           	sec
 25935 06:6920: E9 39 00     	sbc	#L1113
 25936 06:6923: 1B           	tcs
 25937 06:6924: 0B           	phd
 25938 06:6925: 5B           	tcd
 25939             00000004   bWait_0	set	4
 25940                        	.block	4836
 25941                        ;	int i;
 25942                        ;	BYTE c,r,g,b;
 25943                        ;	long color[4];
 25944                        ;
 25945                        ;	long *pcolor[3];
 25946                        ;
 25947                        ;	//PFXZEROPAGE zp = NULL;
 25948                        ;
 25949                        ;	LPSTR pPalette = GRPH_LUT0_PTR;
 25950                        ;	LPSTR pathName = NULL;
 25951                        ;	CHAR boardRelease[3];
 25952                        ;
 25953                        ;	k_clear_screen(0);
 25954             00000000   i_1	set	0
 25955             00000002   c_1	set	2
 25956             00000003   r_1	set	3
 25957             00000004   g_1	set	4
 25958             00000005   b_1	set	5
 25959             00000006   color_1	set	6
 25960             00000016   pcolor_1	set	22
 25961             00000022   pPalette_1	set	34
 25962             00000026   pathName_1	set	38
 25963             0000002A   boardRelease_1	set	42
 25964                        	.sym	i,0,5,1,16
 25965                        	.sym	c,2,14,1,8
 25966                        	.sym	r,3,14,1,8
  Thu Jul 22 2021 22:51                                                Page 480


 25967                        	.sym	g,4,14,1,8
 25968                        	.sym	b,5,14,1,8
 25969                        	.sym	color,6,103,1,0,4
 25970                        	.sym	pcolor,22,1127,1,32,3
 25971                        	.sym	pPalette,34,142,1,32
 25972                        	.sym	pathName,38,142,1,32
 25973                        	.sym	boardRelease,42,110,1,0,3
 25974                        	.sym	bWait,4,14,6,8
 25975 06:6926: A9 00 20     	lda	#$2000
 25976 06:6929: 85 2F        	sta	<L1114+pPalette_1
 25977 06:692B: A9 AF 00     	lda	#$af
 25978 06:692E: 85 31        	sta	<L1114+pPalette_1+2
 25979 06:6930: 64 33        	stz	<L1114+pathName_1
 25980 06:6932: 64 35        	stz	<L1114+pathName_1+2
 25981                        	.line	4849
 25982 06:6934: F4 00 00     	pea	#<$0
 25983 06:6937: 22 xx xx xx  	jsl	~~k_clear_screen
 25984                        ;
 25985                        ;#ifdef USE_FX256_FMX
 25986                        ;	k_enable_bitmap_mode();
 25987                        ;
 25988                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 25989                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_BACK);
 25990                        ;#elif USE_FX256_U
 25991                        ;
 25992                        ;	k_enable_bitmap_mode();
 25993                        	.line	4858
 25994 06:693B: 22 B0 65 06  	jsl	~~k_enable_bitmap_mode
 25995                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 25996                        	.line	4859
 25997 06:693F: F4 00 00     	pea	#<$0
 25998 06:6942: F4 00 00     	pea	#<$0
 25999 06:6945: F4 E0 01     	pea	#<$1e0
 26000 06:6948: F4 80 02     	pea	#<$280
 26001 06:694B: F4 00 00     	pea	#^$0
 26002 06:694E: F4 00 00     	pea	#<$0
 26003 06:6951: F4 00 00     	pea	#^$0
 26004 06:6954: F4 00 00     	pea	#<$0
 26005 06:6957: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 26006                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_BACK);
 26007                        	.line	4860
 26008 06:695B: F4 08 00     	pea	#<$8
 26009 06:695E: F4 00 00     	pea	#<$0
 26010 06:6961: F4 E0 01     	pea	#<$1e0
 26011 06:6964: F4 80 02     	pea	#<$280
 26012 06:6967: F4 00 00     	pea	#^$0
 26013 06:696A: F4 00 00     	pea	#<$0
 26014 06:696D: F4 00 00     	pea	#^$0
 26015 06:6970: F4 00 00     	pea	#<$0
 26016 06:6973: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 26017                        ;#else
 26018                        ;
 26019                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE;
 26020                        ;
 26021                        ;	*BM_START_ADDY_L = 0x00;
 26022                        ;	*BM_START_ADDY_M = 0x00;
 26023                        ;	*BM_START_ADDY_H = 0x00;
 26024                        ;	*BG_CHAR_LUT_PTR = 0x02;
  Thu Jul 22 2021 22:51                                                Page 481


 26025                        ;
 26026                        ;	*BM_X_SIZE_L = 0x80;
 26027                        ;	*BM_X_SIZE_H = 0x02;
 26028                        ;	*BM_Y_SIZE_L = 0xE0;
 26029                        ;	*BM_Y_SIZE_H = 0x01;
 26030                        ;
 26031                        ;	*BM_CONTROL_REG 	= 0x08;
 26032                        ;
 26033                        ;	*MASTER_CTRL_REG_H 	= 0x00;
 26034                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 26035                        ;
 26036                        ;#endif
 26037                        ;
 26038                        ;	k_disable_border();
 26039                        	.line	4882
 26040 06:6977: 22 xx xx xx  	jsl	~~k_disable_border
 26041                        ;
 26042                        ;	k_get_c256_release(boardRelease);
 26043                        	.line	4884
 26044 06:697B: F4 00 00     	pea	#0
 26045 06:697E: 18           	clc
 26046 06:697F: 7B           	tdc
 26047 06:6980: 69 37 00     	adc	#<L1114+boardRelease_1
 26048 06:6983: 48           	pha
 26049 06:6984: 22 xx xx xx  	jsl	~~k_get_c256_release
 26050                        ;
 26051                        ;	//zp = k_getZeroPage();
 26052                        ;
 26053                        ;	//readBMP("HD:\\system\\assets\\%BR%\\logo1.bmp"
                    );
 26054                        ;
 26055                        ;	pathName = k_string_replace("HD:\\system\\assets
                    \\%BR%\\logo1.bmp","%BR%",boardRelease);
 26056                        	.line	4890
 26057 06:6988: F4 00 00     	pea	#0
 26058 06:698B: 18           	clc
 26059 06:698C: 7B           	tdc
 26060 06:698D: 69 37 00     	adc	#<L1114+boardRelease_1
 26061 06:6990: 48           	pha
 26062 06:6991: F4 xx xx     	pea	#^L1102+33
 26063 06:6994: F4 xx xx     	pea	#<L1102+33
 26064 06:6997: F4 xx xx     	pea	#^L1102
 26065 06:699A: F4 xx xx     	pea	#<L1102
 26066 06:699D: 22 xx xx xx  	jsl	~~k_string_replace
 26067 06:69A1: 85 33        	sta	<L1114+pathName_1
 26068 06:69A3: 86 35        	stx	<L1114+pathName_1+2
 26069                        ;	if(pathName)
 26070                        	.line	4891
 26071                        ;	{
 26072 06:69A5: A5 33        	lda	<L1114+pathName_1
 26073 06:69A7: 05 35        	ora	<L1114+pathName_1+2
 26074 06:69A9: D0 03        	bne	L1116
 26075 06:69AB: 82 10 00     	brl	L10457
 26076                        L1116:
 26077                        	.line	4892
 26078                        ;		//k_debug_strings("PATH REPLACED:",pathN
                    ame);
  Thu Jul 22 2021 22:51                                                Page 482


 26079                        ;		readBMP(pathName);
 26080                        	.line	4894
 26081 06:69AE: D4 35        	pei	<L1114+pathName_1+2
 26082 06:69B0: D4 33        	pei	<L1114+pathName_1
 26083 06:69B2: 22 27 87 06  	jsl	~~readBMP
 26084                        ;		k_mem_deallocate_heap(pathName);
 26085                        	.line	4895
 26086 06:69B6: D4 35        	pei	<L1114+pathName_1+2
 26087 06:69B8: D4 33        	pei	<L1114+pathName_1
 26088 06:69BA: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 26089                        ;	}
 26090                        	.line	4896
 26091                        ;
 26092                        ;	if(bWait)
 26093                        L10457:
 26094                        	.line	4898
 26095                        ;	{
 26096 06:69BE: A5 3D        	lda	<L1113+bWait_0
 26097 06:69C0: 29 FF 00     	and	#$ff
 26098 06:69C3: D0 03        	bne	L1117
 26099 06:69C5: 82 AC 02     	brl	L10458
 26100                        L1117:
 26101                        	.line	4899
 26102                        ;		sleep(15000);
 26103                        	.line	4900
 26104 06:69C8: F4 98 3A     	pea	#<$3a98
 26105 06:69CB: 22 xx xx xx  	jsl	~~sleep
 26106                        ;
 26107                        ;		pathName = k_string_replace("HD:\\system
                    \\assets\\%BR%\\logo2.bmp","%BR%",boardRelease);
 26108                        	.line	4902
 26109 06:69CF: F4 00 00     	pea	#0
 26110 06:69D2: 18           	clc
 26111 06:69D3: 7B           	tdc
 26112 06:69D4: 69 37 00     	adc	#<L1114+boardRelease_1
 26113 06:69D7: 48           	pha
 26114 06:69D8: F4 xx xx     	pea	#^L1102+71
 26115 06:69DB: F4 xx xx     	pea	#<L1102+71
 26116 06:69DE: F4 xx xx     	pea	#^L1102+38
 26117 06:69E1: F4 xx xx     	pea	#<L1102+38
 26118 06:69E4: 22 xx xx xx  	jsl	~~k_string_replace
 26119 06:69E8: 85 33        	sta	<L1114+pathName_1
 26120 06:69EA: 86 35        	stx	<L1114+pathName_1+2
 26121                        ;		if(pathName)
 26122                        	.line	4903
 26123                        ;		{
 26124 06:69EC: A5 33        	lda	<L1114+pathName_1
 26125 06:69EE: 05 35        	ora	<L1114+pathName_1+2
 26126 06:69F0: D0 03        	bne	L1118
 26127 06:69F2: 82 10 00     	brl	L10459
 26128                        L1118:
 26129                        	.line	4904
 26130                        ;			readBMP(pathName);
 26131                        	.line	4905
 26132 06:69F5: D4 35        	pei	<L1114+pathName_1+2
 26133 06:69F7: D4 33        	pei	<L1114+pathName_1
 26134 06:69F9: 22 27 87 06  	jsl	~~readBMP
 26135                        ;			k_mem_deallocate_heap(pathName);
  Thu Jul 22 2021 22:51                                                Page 483


 26136                        	.line	4906
 26137 06:69FD: D4 35        	pei	<L1114+pathName_1+2
 26138 06:69FF: D4 33        	pei	<L1114+pathName_1
 26139 06:6A01: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 26140                        ;		}
 26141                        	.line	4907
 26142                        ;
 26143                        ;		r = pPalette[(int) (12 * 4 + 0)];
 26144                        L10459:
 26145                        	.line	4909
 26146 06:6A05: E2 20        	sep	#$20
 26147                        	longa	off
 26148 06:6A07: A0 30 00     	ldy	#$30
 26149 06:6A0A: B7 2F        	lda	[<L1114+pPalette_1],Y
 26150 06:6A0C: 85 10        	sta	<L1114+r_1
 26151 06:6A0E: C2 20        	rep	#$20
 26152                        	longa	on
 26153                        ;		g = pPalette[(int) (12 * 4 + 1)];
 26154                        	.line	4910
 26155 06:6A10: E2 20        	sep	#$20
 26156                        	longa	off
 26157 06:6A12: A0 31 00     	ldy	#$31
 26158 06:6A15: B7 2F        	lda	[<L1114+pPalette_1],Y
 26159 06:6A17: 85 11        	sta	<L1114+g_1
 26160 06:6A19: C2 20        	rep	#$20
 26161                        	longa	on
 26162                        ;		b = pPalette[(int) (12 * 4 + 2)];
 26163                        	.line	4911
 26164 06:6A1B: E2 20        	sep	#$20
 26165                        	longa	off
 26166 06:6A1D: A0 32 00     	ldy	#$32
 26167 06:6A20: B7 2F        	lda	[<L1114+pPalette_1],Y
 26168 06:6A22: 85 12        	sta	<L1114+b_1
 26169 06:6A24: C2 20        	rep	#$20
 26170                        	longa	on
 26171                        ;
 26172                        ;		for(i = 0; i < 10; i++)
 26173                        	.line	4913
 26174 06:6A26: 64 0D        	stz	<L1114+i_1
 26175                        L10462:
 26176                        ;		{
 26177                        	.line	4914
 26178                        ;			for(c = 0;c < 48;c++)
 26179                        	.line	4915
 26180 06:6A28: E2 20        	sep	#$20
 26181                        	longa	off
 26182 06:6A2A: 64 0F        	stz	<L1114+c_1
 26183 06:6A2C: C2 20        	rep	#$20
 26184                        	longa	on
 26185 06:6A2E: 82 EA 00     	brl	L10466
 26186                        L10465:
 26187                        ;			{
 26188                        	.line	4916
 26189                        ;
 26190                        ;				pPalette[(int) (12 * 4 +
                     0)] = (r + c) < 255 ? (r + c) : 255;
 26191                        	.line	4918
 26192 06:6A31: A5 0F        	lda	<L1114+c_1
  Thu Jul 22 2021 22:51                                                Page 484


 26193 06:6A33: 29 FF 00     	and	#$ff
 26194 06:6A36: 85 01        	sta	<R0
 26195 06:6A38: A5 10        	lda	<L1114+r_1
 26196 06:6A3A: 29 FF 00     	and	#$ff
 26197 06:6A3D: 85 05        	sta	<R1
 26198 06:6A3F: 18           	clc
 26199 06:6A40: A5 05        	lda	<R1
 26200 06:6A42: 65 01        	adc	<R0
 26201 06:6A44: 85 09        	sta	<R2
 26202 06:6A46: 38           	sec
 26203 06:6A47: A5 09        	lda	<R2
 26204 06:6A49: E9 FF 00     	sbc	#<$ff
 26205 06:6A4C: 70 03        	bvs	L1120
 26206 06:6A4E: 49 00 80     	eor	#$8000
 26207                        L1120:
 26208 06:6A51: 10 03        	bpl	L1121
 26209 06:6A53: 82 15 00     	brl	L1119
 26210                        L1121:
 26211 06:6A56: A5 0F        	lda	<L1114+c_1
 26212 06:6A58: 29 FF 00     	and	#$ff
 26213 06:6A5B: 85 01        	sta	<R0
 26214 06:6A5D: A5 10        	lda	<L1114+r_1
 26215 06:6A5F: 29 FF 00     	and	#$ff
 26216 06:6A62: 85 05        	sta	<R1
 26217 06:6A64: 18           	clc
 26218 06:6A65: A5 05        	lda	<R1
 26219 06:6A67: 65 01        	adc	<R0
 26220 06:6A69: 80 03        	bra	L1122
 26221                        L1119:
 26222 06:6A6B: A9 FF 00     	lda	#$ff
 26223                        L1122:
 26224 06:6A6E: E2 20        	sep	#$20
 26225                        	longa	off
 26226 06:6A70: A0 30 00     	ldy	#$30
 26227 06:6A73: 97 2F        	sta	[<L1114+pPalette_1],Y
 26228 06:6A75: C2 20        	rep	#$20
 26229                        	longa	on
 26230                        ;				pPalette[(int) (12 * 4 +
                     1)] = (g + c) < 255 ? (g + c) : 255;
 26231                        	.line	4919
 26232 06:6A77: A5 0F        	lda	<L1114+c_1
 26233 06:6A79: 29 FF 00     	and	#$ff
 26234 06:6A7C: 85 01        	sta	<R0
 26235 06:6A7E: A5 11        	lda	<L1114+g_1
 26236 06:6A80: 29 FF 00     	and	#$ff
 26237 06:6A83: 85 05        	sta	<R1
 26238 06:6A85: 18           	clc
 26239 06:6A86: A5 05        	lda	<R1
 26240 06:6A88: 65 01        	adc	<R0
 26241 06:6A8A: 85 09        	sta	<R2
 26242 06:6A8C: 38           	sec
 26243 06:6A8D: A5 09        	lda	<R2
 26244 06:6A8F: E9 FF 00     	sbc	#<$ff
 26245 06:6A92: 70 03        	bvs	L1124
 26246 06:6A94: 49 00 80     	eor	#$8000
 26247                        L1124:
 26248 06:6A97: 10 03        	bpl	L1125
 26249 06:6A99: 82 15 00     	brl	L1123
  Thu Jul 22 2021 22:51                                                Page 485


 26250                        L1125:
 26251 06:6A9C: A5 0F        	lda	<L1114+c_1
 26252 06:6A9E: 29 FF 00     	and	#$ff
 26253 06:6AA1: 85 01        	sta	<R0
 26254 06:6AA3: A5 11        	lda	<L1114+g_1
 26255 06:6AA5: 29 FF 00     	and	#$ff
 26256 06:6AA8: 85 05        	sta	<R1
 26257 06:6AAA: 18           	clc
 26258 06:6AAB: A5 05        	lda	<R1
 26259 06:6AAD: 65 01        	adc	<R0
 26260 06:6AAF: 80 03        	bra	L1126
 26261                        L1123:
 26262 06:6AB1: A9 FF 00     	lda	#$ff
 26263                        L1126:
 26264 06:6AB4: E2 20        	sep	#$20
 26265                        	longa	off
 26266 06:6AB6: A0 31 00     	ldy	#$31
 26267 06:6AB9: 97 2F        	sta	[<L1114+pPalette_1],Y
 26268 06:6ABB: C2 20        	rep	#$20
 26269                        	longa	on
 26270                        ;				pPalette[(int) (12 * 4 +
                     2)] = (b + c) < 255 ? (b + c) : 255;
 26271                        	.line	4920
 26272 06:6ABD: A5 0F        	lda	<L1114+c_1
 26273 06:6ABF: 29 FF 00     	and	#$ff
 26274 06:6AC2: 85 01        	sta	<R0
 26275 06:6AC4: A5 12        	lda	<L1114+b_1
 26276 06:6AC6: 29 FF 00     	and	#$ff
 26277 06:6AC9: 85 05        	sta	<R1
 26278 06:6ACB: 18           	clc
 26279 06:6ACC: A5 05        	lda	<R1
 26280 06:6ACE: 65 01        	adc	<R0
 26281 06:6AD0: 85 09        	sta	<R2
 26282 06:6AD2: 38           	sec
 26283 06:6AD3: A5 09        	lda	<R2
 26284 06:6AD5: E9 FF 00     	sbc	#<$ff
 26285 06:6AD8: 70 03        	bvs	L1128
 26286 06:6ADA: 49 00 80     	eor	#$8000
 26287                        L1128:
 26288 06:6ADD: 10 03        	bpl	L1129
 26289 06:6ADF: 82 15 00     	brl	L1127
 26290                        L1129:
 26291 06:6AE2: A5 0F        	lda	<L1114+c_1
 26292 06:6AE4: 29 FF 00     	and	#$ff
 26293 06:6AE7: 85 01        	sta	<R0
 26294 06:6AE9: A5 12        	lda	<L1114+b_1
 26295 06:6AEB: 29 FF 00     	and	#$ff
 26296 06:6AEE: 85 05        	sta	<R1
 26297 06:6AF0: 18           	clc
 26298 06:6AF1: A5 05        	lda	<R1
 26299 06:6AF3: 65 01        	adc	<R0
 26300 06:6AF5: 80 03        	bra	L1130
 26301                        L1127:
 26302 06:6AF7: A9 FF 00     	lda	#$ff
 26303                        L1130:
 26304 06:6AFA: E2 20        	sep	#$20
 26305                        	longa	off
 26306 06:6AFC: A0 32 00     	ldy	#$32
  Thu Jul 22 2021 22:51                                                Page 486


 26307 06:6AFF: 97 2F        	sta	[<L1114+pPalette_1],Y
 26308 06:6B01: C2 20        	rep	#$20
 26309                        	longa	on
 26310                        ;				pPalette[(int) (12 * 4 +
                     3)] = 0x80;
 26311                        	.line	4921
 26312 06:6B03: E2 20        	sep	#$20
 26313                        	longa	off
 26314 06:6B05: A9 80        	lda	#$80
 26315 06:6B07: A0 33 00     	ldy	#$33
 26316 06:6B0A: 97 2F        	sta	[<L1114+pPalette_1],Y
 26317 06:6B0C: C2 20        	rep	#$20
 26318                        	longa	on
 26319                        ;				k_delay(15);
 26320                        	.line	4922
 26321 06:6B0E: F4 0F 00     	pea	#<$f
 26322 06:6B11: 22 xx xx xx  	jsl	~~k_delay
 26323                        ;
 26324                        ;			}
 26325                        	.line	4924
 26326                        L10463:
 26327 06:6B15: E2 20        	sep	#$20
 26328                        	longa	off
 26329 06:6B17: E6 0F        	inc	<L1114+c_1
 26330 06:6B19: C2 20        	rep	#$20
 26331                        	longa	on
 26332                        L10466:
 26333 06:6B1B: E2 20        	sep	#$20
 26334                        	longa	off
 26335 06:6B1D: A5 0F        	lda	<L1114+c_1
 26336 06:6B1F: C9 30        	cmp	#<$30
 26337 06:6B21: C2 20        	rep	#$20
 26338                        	longa	on
 26339 06:6B23: B0 03        	bcs	L1131
 26340 06:6B25: 82 09 FF     	brl	L10465
 26341                        L1131:
 26342                        L10464:
 26343                        ;			for(c = 48;c > 0;c--)
 26344                        	.line	4925
 26345 06:6B28: E2 20        	sep	#$20
 26346                        	longa	off
 26347 06:6B2A: A9 30        	lda	#$30
 26348 06:6B2C: 85 0F        	sta	<L1114+c_1
 26349 06:6B2E: C2 20        	rep	#$20
 26350                        	longa	on
 26351 06:6B30: 82 EA 00     	brl	L10470
 26352                        L10469:
 26353                        ;			{
 26354                        	.line	4926
 26355                        ;
 26356                        ;				pPalette[(int) (12 * 4 +
                     0)] = (r + c) < 255 ? (r + c) : 255;
 26357                        	.line	4928
 26358 06:6B33: A5 0F        	lda	<L1114+c_1
 26359 06:6B35: 29 FF 00     	and	#$ff
 26360 06:6B38: 85 01        	sta	<R0
 26361 06:6B3A: A5 10        	lda	<L1114+r_1
 26362 06:6B3C: 29 FF 00     	and	#$ff
  Thu Jul 22 2021 22:51                                                Page 487


 26363 06:6B3F: 85 05        	sta	<R1
 26364 06:6B41: 18           	clc
 26365 06:6B42: A5 05        	lda	<R1
 26366 06:6B44: 65 01        	adc	<R0
 26367 06:6B46: 85 09        	sta	<R2
 26368 06:6B48: 38           	sec
 26369 06:6B49: A5 09        	lda	<R2
 26370 06:6B4B: E9 FF 00     	sbc	#<$ff
 26371 06:6B4E: 70 03        	bvs	L1133
 26372 06:6B50: 49 00 80     	eor	#$8000
 26373                        L1133:
 26374 06:6B53: 10 03        	bpl	L1134
 26375 06:6B55: 82 15 00     	brl	L1132
 26376                        L1134:
 26377 06:6B58: A5 0F        	lda	<L1114+c_1
 26378 06:6B5A: 29 FF 00     	and	#$ff
 26379 06:6B5D: 85 01        	sta	<R0
 26380 06:6B5F: A5 10        	lda	<L1114+r_1
 26381 06:6B61: 29 FF 00     	and	#$ff
 26382 06:6B64: 85 05        	sta	<R1
 26383 06:6B66: 18           	clc
 26384 06:6B67: A5 05        	lda	<R1
 26385 06:6B69: 65 01        	adc	<R0
 26386 06:6B6B: 80 03        	bra	L1135
 26387                        L1132:
 26388 06:6B6D: A9 FF 00     	lda	#$ff
 26389                        L1135:
 26390 06:6B70: E2 20        	sep	#$20
 26391                        	longa	off
 26392 06:6B72: A0 30 00     	ldy	#$30
 26393 06:6B75: 97 2F        	sta	[<L1114+pPalette_1],Y
 26394 06:6B77: C2 20        	rep	#$20
 26395                        	longa	on
 26396                        ;				pPalette[(int) (12 * 4 +
                     1)] = (g + c) < 255 ? (g + c) : 255;
 26397                        	.line	4929
 26398 06:6B79: A5 0F        	lda	<L1114+c_1
 26399 06:6B7B: 29 FF 00     	and	#$ff
 26400 06:6B7E: 85 01        	sta	<R0
 26401 06:6B80: A5 11        	lda	<L1114+g_1
 26402 06:6B82: 29 FF 00     	and	#$ff
 26403 06:6B85: 85 05        	sta	<R1
 26404 06:6B87: 18           	clc
 26405 06:6B88: A5 05        	lda	<R1
 26406 06:6B8A: 65 01        	adc	<R0
 26407 06:6B8C: 85 09        	sta	<R2
 26408 06:6B8E: 38           	sec
 26409 06:6B8F: A5 09        	lda	<R2
 26410 06:6B91: E9 FF 00     	sbc	#<$ff
 26411 06:6B94: 70 03        	bvs	L1137
 26412 06:6B96: 49 00 80     	eor	#$8000
 26413                        L1137:
 26414 06:6B99: 10 03        	bpl	L1138
 26415 06:6B9B: 82 15 00     	brl	L1136
 26416                        L1138:
 26417 06:6B9E: A5 0F        	lda	<L1114+c_1
 26418 06:6BA0: 29 FF 00     	and	#$ff
 26419 06:6BA3: 85 01        	sta	<R0
  Thu Jul 22 2021 22:51                                                Page 488


 26420 06:6BA5: A5 11        	lda	<L1114+g_1
 26421 06:6BA7: 29 FF 00     	and	#$ff
 26422 06:6BAA: 85 05        	sta	<R1
 26423 06:6BAC: 18           	clc
 26424 06:6BAD: A5 05        	lda	<R1
 26425 06:6BAF: 65 01        	adc	<R0
 26426 06:6BB1: 80 03        	bra	L1139
 26427                        L1136:
 26428 06:6BB3: A9 FF 00     	lda	#$ff
 26429                        L1139:
 26430 06:6BB6: E2 20        	sep	#$20
 26431                        	longa	off
 26432 06:6BB8: A0 31 00     	ldy	#$31
 26433 06:6BBB: 97 2F        	sta	[<L1114+pPalette_1],Y
 26434 06:6BBD: C2 20        	rep	#$20
 26435                        	longa	on
 26436                        ;				pPalette[(int) (12 * 4 +
                     2)] = (b + c) < 255 ? (b + c) : 255;
 26437                        	.line	4930
 26438 06:6BBF: A5 0F        	lda	<L1114+c_1
 26439 06:6BC1: 29 FF 00     	and	#$ff
 26440 06:6BC4: 85 01        	sta	<R0
 26441 06:6BC6: A5 12        	lda	<L1114+b_1
 26442 06:6BC8: 29 FF 00     	and	#$ff
 26443 06:6BCB: 85 05        	sta	<R1
 26444 06:6BCD: 18           	clc
 26445 06:6BCE: A5 05        	lda	<R1
 26446 06:6BD0: 65 01        	adc	<R0
 26447 06:6BD2: 85 09        	sta	<R2
 26448 06:6BD4: 38           	sec
 26449 06:6BD5: A5 09        	lda	<R2
 26450 06:6BD7: E9 FF 00     	sbc	#<$ff
 26451 06:6BDA: 70 03        	bvs	L1141
 26452 06:6BDC: 49 00 80     	eor	#$8000
 26453                        L1141:
 26454 06:6BDF: 10 03        	bpl	L1142
 26455 06:6BE1: 82 15 00     	brl	L1140
 26456                        L1142:
 26457 06:6BE4: A5 0F        	lda	<L1114+c_1
 26458 06:6BE6: 29 FF 00     	and	#$ff
 26459 06:6BE9: 85 01        	sta	<R0
 26460 06:6BEB: A5 12        	lda	<L1114+b_1
 26461 06:6BED: 29 FF 00     	and	#$ff
 26462 06:6BF0: 85 05        	sta	<R1
 26463 06:6BF2: 18           	clc
 26464 06:6BF3: A5 05        	lda	<R1
 26465 06:6BF5: 65 01        	adc	<R0
 26466 06:6BF7: 80 03        	bra	L1143
 26467                        L1140:
 26468 06:6BF9: A9 FF 00     	lda	#$ff
 26469                        L1143:
 26470 06:6BFC: E2 20        	sep	#$20
 26471                        	longa	off
 26472 06:6BFE: A0 32 00     	ldy	#$32
 26473 06:6C01: 97 2F        	sta	[<L1114+pPalette_1],Y
 26474 06:6C03: C2 20        	rep	#$20
 26475                        	longa	on
 26476                        ;				pPalette[(int) (12 * 4 +
  Thu Jul 22 2021 22:51                                                Page 489


                     3)] = 0x80;//(c >> 2);//R
 26477                        	.line	4931
 26478 06:6C05: E2 20        	sep	#$20
 26479                        	longa	off
 26480 06:6C07: A9 80        	lda	#$80
 26481 06:6C09: A0 33 00     	ldy	#$33
 26482 06:6C0C: 97 2F        	sta	[<L1114+pPalette_1],Y
 26483 06:6C0E: C2 20        	rep	#$20
 26484                        	longa	on
 26485                        ;				k_delay(15);
 26486                        	.line	4932
 26487 06:6C10: F4 0F 00     	pea	#<$f
 26488 06:6C13: 22 xx xx xx  	jsl	~~k_delay
 26489                        ;			}
 26490                        	.line	4933
 26491                        L10467:
 26492 06:6C17: E2 20        	sep	#$20
 26493                        	longa	off
 26494 06:6C19: C6 0F        	dec	<L1114+c_1
 26495 06:6C1B: C2 20        	rep	#$20
 26496                        	longa	on
 26497                        L10470:
 26498 06:6C1D: E2 20        	sep	#$20
 26499                        	longa	off
 26500 06:6C1F: A9 00        	lda	#$0
 26501 06:6C21: C5 0F        	cmp	<L1114+c_1
 26502 06:6C23: C2 20        	rep	#$20
 26503                        	longa	on
 26504 06:6C25: B0 03        	bcs	L1144
 26505 06:6C27: 82 09 FF     	brl	L10469
 26506                        L1144:
 26507                        L10468:
 26508                        ;		}
 26509                        	.line	4934
 26510                        L10460:
 26511 06:6C2A: E6 0D        	inc	<L1114+i_1
 26512 06:6C2C: 38           	sec
 26513 06:6C2D: A5 0D        	lda	<L1114+i_1
 26514 06:6C2F: E9 0A 00     	sbc	#<$a
 26515 06:6C32: 70 03        	bvs	L1145
 26516 06:6C34: 49 00 80     	eor	#$8000
 26517                        L1145:
 26518 06:6C37: 30 03        	bmi	L1146
 26519 06:6C39: 82 EC FD     	brl	L10462
 26520                        L1146:
 26521                        L10461:
 26522                        ;
 26523                        ;
 26524                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _FRONT);
 26525                        	.line	4937
 26526 06:6C3C: F4 00 00     	pea	#<$0
 26527 06:6C3F: F4 00 00     	pea	#<$0
 26528 06:6C42: F4 E0 01     	pea	#<$1e0
 26529 06:6C45: F4 80 02     	pea	#<$280
 26530 06:6C48: F4 00 00     	pea	#^$0
 26531 06:6C4B: F4 00 00     	pea	#<$0
 26532 06:6C4E: F4 00 00     	pea	#^$0
  Thu Jul 22 2021 22:51                                                Page 490


 26533 06:6C51: F4 00 00     	pea	#<$0
 26534 06:6C54: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 26535                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _BACK);
 26536                        	.line	4938
 26537 06:6C58: F4 08 00     	pea	#<$8
 26538 06:6C5B: F4 00 00     	pea	#<$0
 26539 06:6C5E: F4 E0 01     	pea	#<$1e0
 26540 06:6C61: F4 80 02     	pea	#<$280
 26541 06:6C64: F4 00 00     	pea	#^$0
 26542 06:6C67: F4 00 00     	pea	#<$0
 26543 06:6C6A: F4 00 00     	pea	#^$0
 26544 06:6C6D: F4 00 00     	pea	#<$0
 26545 06:6C70: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 26546                        ;	}
 26547                        	.line	4939
 26548                        ;
 26549                        ;	return;
 26550                        L10458:
 26551                        	.line	4941
 26552                        L1147:
 26553 06:6C74: A5 3B        	lda	<L1113+2
 26554 06:6C76: 85 3D        	sta	<L1113+2+2
 26555 06:6C78: A5 3A        	lda	<L1113+1
 26556 06:6C7A: 85 3C        	sta	<L1113+1+2
 26557 06:6C7C: 2B           	pld
 26558 06:6C7D: 3B           	tsc
 26559 06:6C7E: 18           	clc
 26560 06:6C7F: 69 3B 00     	adc	#L1113+2
 26561 06:6C82: 1B           	tcs
 26562 06:6C83: 6B           	rtl
 26563                        ;}
 26564                        	.line	4942
 26565                        	.endblock	4942
 26566             00000039   L1113	equ	57
 26567             0000000D   L1114	equ	13
 26568 06:6C84:              	ends
 26569                        	efunc
 26570                        	.endfunc	4942,13,57
 26571                        	.line	4942
 26572                        	data
 26573                        L1102:
 26574 00:0B72: 48 44 3A 5C  	db	$48,$44,$3A,$5C,$73,$79,$73,$74,$65,$6D,
                    $5C,$61,$73,$73,$65
       00:0B76: 73 79 73 74 
       00:0B7A: 65 6D 5C 61 
       00:0B7E: 73 73 65 
 26575 00:0B81: 74 73 5C 25  	db	$74,$73,$5C,$25,$42,$52,$25,$5C,$6C,$6F,
                    $67,$6F,$31,$2E,$62
       00:0B85: 42 52 25 5C 
       00:0B89: 6C 6F 67 6F 
       00:0B8D: 31 2E 62 
 26576 00:0B90: 6D 70 00 25  	db	$6D,$70,$00,$25,$42,$52,$25,$00,$48,$44,
                    $3A,$5C,$73,$79,$73
       00:0B94: 42 52 25 00 
       00:0B98: 48 44 3A 5C 
       00:0B9C: 73 79 73 
 26577 00:0B9F: 74 65 6D 5C  	db	$74,$65,$6D,$5C,$61,$73,$73,$65,$74,$73,
  Thu Jul 22 2021 22:51                                                Page 491


                    $5C,$25,$42,$52,$25
       00:0BA3: 61 73 73 65 
       00:0BA7: 74 73 5C 25 
       00:0BAB: 42 52 25 
 26578 00:0BAE: 5C 6C 6F 67  	db	$5C,$6C,$6F,$67,$6F,$32,$2E,$62,$6D,$70,
                    $00,$25,$42,$52,$25
       00:0BB2: 6F 32 2E 62 
       00:0BB6: 6D 70 00 25 
       00:0BBA: 42 52 25 
 26579 00:0BBD: 00           	db	$00
 26580 00:0BBE:              	ends
 26581                        ;
 26582                        ;/*
 26583                        ;void k_init_splash(UINT stage)
 26584                        ;{
 26585                        ;	int i;
 26586                        ;	BYTE c,r,g,b;
 26587                        ;	long color[4];
 26588                        ;
 26589                        ;	long *pcolor[3];
 26590                        ;
 26591                        ;	//PFXZEROPAGE zp = NULL;
 26592                        ;
 26593                        ;	LPSTR pPalette = GRPH_LUT0_PTR;
 26594                        ;	LPSTR pathName = NULL;
 26595                        ;	CHAR boardRelease[3];
 26596                        ;
 26597                        ;	k_get_c256_release(boardRelease);
 26598                        ;
 26599                        ;	if(stage == 1)
 26600                        ;	{
 26601                        ;		k_clear_screen(0);
 26602                        ;
 26603                        ;	#ifdef USE_FX256_FMX
 26604                        ;		k_enable_bitmap_mode();
 26605                        ;
 26606                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _FRONT);
 26607                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _BACK);
 26608                        ;	#elif USE_FX256_U
 26609                        ;
 26610                        ;		k_enable_bitmap_mode();
 26611                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _FRONT);
 26612                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _BACK);
 26613                        ;	#else
 26614                        ;
 26615                        ;		VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE;
 26616                        ;
 26617                        ;		*BM_START_ADDY_L = 0x00;
 26618                        ;		*BM_START_ADDY_M = 0x00;
 26619                        ;		*BM_START_ADDY_H = 0x00;
 26620                        ;		*BG_CHAR_LUT_PTR = 0x02;
 26621                        ;
 26622                        ;		*BM_X_SIZE_L = 0x80;
 26623                        ;		*BM_X_SIZE_H = 0x02;
  Thu Jul 22 2021 22:51                                                Page 492


 26624                        ;		*BM_Y_SIZE_L = 0xE0;
 26625                        ;		*BM_Y_SIZE_H = 0x01;
 26626                        ;
 26627                        ;		*BM_CONTROL_REG 	= 0x08;
 26628                        ;
 26629                        ;		*MASTER_CTRL_REG_H 	= 0x00;
 26630                        ;		*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRA
                    PH_MODE_EN | MSTR_CTRL_BITMAP_EN);
 26631                        ;
 26632                        ;	#endif
 26633                        ;
 26634                        ;		k_disable_border();
 26635                        ;
 26636                        ;
 26637                        ;
 26638                        ;		//zp = k_getZeroPage();
 26639                        ;
 26640                        ;		//readBMP("HD:\\system\\assets\\%BR%\\lo
                    go1.bmp");
 26641                        ;
 26642                        ;		pathName = k_string_replace("HD:\\system
                    \\assets\\%BR%\\logo1.bmp","%BR%",boardRelease);
 26643                        ;		if(pathName)
 26644                        ;		{
 26645                        ;			//k_debug_strings("PATH REPLACED
                    :",pathName);
 26646                        ;			readBMP(pathName);
 26647                        ;			k_mem_deallocate_heap(pathName);
 26648                        ;		}
 26649                        ;	}
 26650                        ;	else if(stage == 2)
 26651                        ;	{
 26652                        ;		pathName = k_string_replace("HD:\\system
                    \\assets\\%BR%\\logo2.bmp","%BR%",boardRelease);
 26653                        ;		if(pathName)
 26654                        ;		{
 26655                        ;			readBMP(pathName);
 26656                        ;			k_mem_deallocate_heap(pathName);
 26657                        ;		}
 26658                        ;	}
 26659                        ;	else if(stage == 3)
 26660                        ;	{
 26661                        ;		pathName = k_string_replace("HD:\\system
                    \\assets\\%BR%\\logo3.bmp","%BR%",boardRelease);
 26662                        ;		if(pathName)
 26663                        ;		{
 26664                        ;			readBMP(pathName);
 26665                        ;			k_mem_deallocate_heap(pathName);
 26666                        ;		}
 26667                        ;	}
 26668                        ;	else if(stage == 4)
 26669                        ;	{
 26670                        ;		pathName = k_string_replace("HD:\\system
                    \\assets\\%BR%\\logo1.bmp","%BR%",boardRelease);
 26671                        ;		if(pathName)
 26672                        ;		{
 26673                        ;			readBMP(pathName);
 26674                        ;			k_mem_deallocate_heap(pathName);
  Thu Jul 22 2021 22:51                                                Page 493


 26675                        ;		}
 26676                        ;	}
 26677                        ;	else if(stage == 5)
 26678                        ;	{
 26679                        ;		r = pPalette[(int) (12 * 4 + 0)];
 26680                        ;		g = pPalette[(int) (12 * 4 + 1)];
 26681                        ;		b = pPalette[(int) (12 * 4 + 2)];
 26682                        ;
 26683                        ;		for(i = 0; i < 10; i++)
 26684                        ;		{
 26685                        ;			for(c = 0;c < 48;c++)
 26686                        ;			{
 26687                        ;
 26688                        ;				pPalette[(int) (12 * 4 +
                     0)] = (r + c) < 255 ? (r + c) : 255;
 26689                        ;				pPalette[(int) (12 * 4 +
                     1)] = (g + c) < 255 ? (g + c) : 255;
 26690                        ;				pPalette[(int) (12 * 4 +
                     2)] = (b + c) < 255 ? (b + c) : 255;
 26691                        ;				pPalette[(int) (12 * 4 +
                     3)] = 0x80;
 26692                        ;				k_delay(15);
 26693                        ;
 26694                        ;			}
 26695                        ;			for(c = 48;c > 0;c--)
 26696                        ;			{
 26697                        ;
 26698                        ;				pPalette[(int) (12 * 4 +
                     0)] = (r + c) < 255 ? (r + c) : 255;
 26699                        ;				pPalette[(int) (12 * 4 +
                     1)] = (g + c) < 255 ? (g + c) : 255;
 26700                        ;				pPalette[(int) (12 * 4 +
                     2)] = (b + c) < 255 ? (b + c) : 255;
 26701                        ;				pPalette[(int) (12 * 4 +
                     3)] = 0x80;//(c >> 2);//R
 26702                        ;				k_delay(15);
 26703                        ;			}
 26704                        ;		}
 26705                        ;
 26706                        ;
 26707                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _FRONT);
 26708                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _BACK);
 26709                        ;	}
 26710                        ;
 26711                        ;
 26712                        ;	return;
 26713                        ;}
 26714                        ;*/
 26715                        ;
 26716                        ;/*
 26717                        ;void k_add_window_hit_node(PCLICKDETECTED pcd)
 26718                        ;{
 26719                        ;	k_debug_pointer("k_add_window_hit_node:",pcd);
 26720                        ;	k_nodelist_add(_k_WindowHit_nodes,k_nodelist_cre
                    ate(1,"window",pcd,NULL,NULL));
 26721                        ;}
  Thu Jul 22 2021 22:51                                                Page 494


 26722                        ;
 26723                        ;
 26724                        ;int k_point_in_list_depth(int x,int y,PCLICKABLE 
                    clickableList,int cSize)
 26725                        ;{
 26726                        ;	int i = 0;
 26727                        ;	int index = -1;
 26728                        ;	int found = 0;
 26729                        ;	PCLICKABLE top = NULL;
 26730                        ;	RECT r;
 26731                        ;
 26732                        ;	for(i=0;i<cSize;i++)
 26733                        ;	{
 26734                        ;		hitList[i] = NULL;
 26735                        ;		r = clickableList[i].area;
 26736                        ;		if(x >=r.x && x<(r.x+r.width))
 26737                        ;		{
 26738                        ;			if(y >=r.y && y<(r.y+r.height))
 26739                        ;			{
 26740                        ;				index = i;
 26741                        ;				//clickableList[i].depth
                     = 1;
 26742                        ;				hitList[i] = &clickableL
                    ist[i];
 26743                        ;				found++;
 26744                        ;			}
 26745                        ;		}
 26746                        ;	}
 26747                        ;
 26748                        ;	if(found > 0)
 26749                        ;	{
 26750                        ;		top = hitList[0];
 26751                        ;		for(i=0;i<cSize;i++)
 26752                        ;		{
 26753                        ;			if(hitList[i]!=NULL && hitList[i
                    ]->depth < top->depth)
 26754                        ;			{
 26755                        ;				top->depth = 1;
 26756                        ;				top = hitList[i];
 26757                        ;				top->depth = 0;
 26758                        ;				index = i;
 26759                        ;			}
 26760                        ;		}
 26761                        ;	}
 26762                        ;	else
 26763                        ;	{
 26764                        ;		clickableList[index].depth = 0;
 26765                        ;	}
 26766                        ;
 26767                        ;	return index;
 26768                        ;}
 26769                        ;*/
 26770                        ;
 26771                        ;/*
 26772                        ;PFXNODE k_point_in_nodes(int x,int y)
 26773                        ;{
 26774                        ;	PFXNODE found = NULL;
 26775                        ;	LPCHAR ctx = "";
  Thu Jul 22 2021 22:51                                                Page 495


 26776                        ;	PFXNODE ptr = NULL;
 26777                        ;
 26778                        ;	RECT r;
 26779                        ;	int i = 0;
 26780                        ;	int index = -1;
 26781                        ;
 26782                        ;	//k_debug_string("k_point_in_nodes\r\n");
 26783                        ;
 26784                        ;	if(_k_WindowHit_nodes!=NULL)
 26785                        ;	{
 26786                        ;		ptr = _k_WindowHit_nodes->next;
 26787                        ;		while(ptr!=NULL)
 26788                        ;		{
 26789                        ;			//k_debug_pointer("FOUND HIT ITE
                    M:",ptr);
 26790                        ;			r = ((PCLICKABLE)((PCLICKDETECTE
                    D)ptr->data)->window->clickable)->area;
 26791                        ;			if(x >=r.x && x<(r.x+r.width))
 26792                        ;			{
 26793                        ;				if(y >=r.y && y<(r.y+r.h
                    eight))
 26794                        ;				{
 26795                        ;					found = ptr;
 26796                        ;					break;
 26797                        ;				}
 26798                        ;			}
 26799                        ;			ptr = ptr->next;
 26800                        ;		}
 26801                        ;	}
 26802                        ;
 26803                        ;	return found;
 26804                        ;}
 26805                        ;
 26806                        ;int k_point_in_list(int x,int y,PCLICKABLE clicka
                    bleList,int cSize)
 26807                        ;{
 26808                        ;	RECT r;
 26809                        ;	int i = 0;
 26810                        ;	int index = -1;
 26811                        ;
 26812                        ;	for(i=0;i<cSize;i++)
 26813                        ;	{
 26814                        ;		r = clickableList[i].area;
 26815                        ;		if(x >=r.x && x<(r.x+r.width))
 26816                        ;		{
 26817                        ;			if(y >=r.y && y<(r.y+r.height))
 26818                        ;			{
 26819                        ;				index = i;
 26820                        ;				//clickableList[i].depth
                     = 1;
 26821                        ;				break;
 26822                        ;			}
 26823                        ;		}
 26824                        ;	}
 26825                        ;
 26826                        ;	return index;
 26827                        ;}
 26828                        ;*/
  Thu Jul 22 2021 22:51                                                Page 496


 26829                        ;PMENU k_create_context_menus(PWINDOW pWin,int cx,
                    int cy,int width,int height,PMENUDROPDOWNDATA menus,int colo
                    r, int bgcolor)
 26830                        ;{
 26831                        	.line	5191
 26832                        	.line	5192
 26833                        	GFX
 26834                        	xdef	~~k_create_context_menus
 26835                        	func
 26836                        	.function	5192
 26837                        ~~k_create_context_menus:
 26838                        	longa	on
 26839                        	longi	on
 26840 06:6C84: 3B           	tsc
 26841 06:6C85: 38           	sec
 26842 06:6C86: E9 2C 00     	sbc	#L1149
 26843 06:6C89: 1B           	tcs
 26844 06:6C8A: 0B           	phd
 26845 06:6C8B: 5B           	tcd
 26846             00000004   pWin_0	set	4
 26847             00000008   cx_0	set	8
 26848             0000000A   cy_0	set	10
 26849             0000000C   width_0	set	12
 26850             0000000E   height_0	set	14
 26851             00000010   menus_0	set	16
 26852             00000014   color_0	set	20
 26853             00000016   bgcolor_0	set	22
 26854                        	.block	5192
 26855                        ;	FONTMETRIC metric;
 26856                        ;
 26857                        ;	int i = 0;
 26858                        ;	int hy = 0;
 26859                        ;	LPCSTR caption = NULL;
 26860                        ;
 26861                        ;	int borderTitle = 10;
 26862                        ;	int borderWidth = 3;
 26863                        ;
 26864                        ;	int titleOffsetX = cx+4;
 26865                        ;	int titleOffsetY = cy+2;
 26866                        ;	int titleScaler = 0;
 26867                        ;
 26868                        ;	int clientOffsetX = cx+borderWidth+2;
 26869                        ;	int clientOffsetY = cy+borderTitle+1;
 26870                        ;
 26871                        ;	int endX = width + cx - borderWidth;
 26872                        ;
 26873                        ;
 26874                        ;	k_debug_string("k_create_context_menu:fill\r\n")
                    ;
 26875             00000000   metric_1	set	0
 26876             00000004   i_1	set	4
 26877             00000006   hy_1	set	6
 26878             00000008   caption_1	set	8
 26879             0000000C   borderTitle_1	set	12
 26880             0000000E   borderWidth_1	set	14
 26881             00000010   titleOffsetX_1	set	16
 26882             00000012   titleOffsetY_1	set	18
 26883             00000014   titleScaler_1	set	20
  Thu Jul 22 2021 22:51                                                Page 497


 26884             00000016   clientOffsetX_1	set	22
 26885             00000018   clientOffsetY_1	set	24
 26886             0000001A   endX_1	set	26
 26887                        	.sym	metric,0,10,1,32,35
 26888                        	.sym	i,4,5,1,16
 26889                        	.sym	hy,6,5,1,16
 26890                        	.sym	caption,8,142,1,32
 26891                        	.sym	borderTitle,12,5,1,16
 26892                        	.sym	borderWidth,14,5,1,16
 26893                        	.sym	titleOffsetX,16,5,1,16
 26894                        	.sym	titleOffsetY,18,5,1,16
 26895                        	.sym	titleScaler,20,5,1,16
 26896                        	.sym	clientOffsetX,22,5,1,16
 26897                        	.sym	clientOffsetY,24,5,1,16
 26898                        	.sym	endX,26,5,1,16
 26899                        	.sym	pWin,4,138,6,32,33
 26900                        	.sym	cx,8,5,6,16
 26901                        	.sym	cy,10,5,6,16
 26902                        	.sym	width,12,5,6,16
 26903                        	.sym	height,14,5,6,16
 26904                        	.sym	menus,16,138,6,32,38
 26905                        	.sym	color,20,5,6,16
 26906                        	.sym	bgcolor,22,5,6,16
 26907 06:6C8C: 64 15        	stz	<L1150+i_1
 26908 06:6C8E: 64 17        	stz	<L1150+hy_1
 26909 06:6C90: 64 19        	stz	<L1150+caption_1
 26910 06:6C92: 64 1B        	stz	<L1150+caption_1+2
 26911 06:6C94: A9 0A 00     	lda	#$a
 26912 06:6C97: 85 1D        	sta	<L1150+borderTitle_1
 26913 06:6C99: A9 03 00     	lda	#$3
 26914 06:6C9C: 85 1F        	sta	<L1150+borderWidth_1
 26915 06:6C9E: 18           	clc
 26916 06:6C9F: A9 04 00     	lda	#$4
 26917 06:6CA2: 65 34        	adc	<L1149+cx_0
 26918 06:6CA4: 85 21        	sta	<L1150+titleOffsetX_1
 26919 06:6CA6: 18           	clc
 26920 06:6CA7: A9 02 00     	lda	#$2
 26921 06:6CAA: 65 36        	adc	<L1149+cy_0
 26922 06:6CAC: 85 23        	sta	<L1150+titleOffsetY_1
 26923 06:6CAE: 64 25        	stz	<L1150+titleScaler_1
 26924 06:6CB0: 18           	clc
 26925 06:6CB1: A5 34        	lda	<L1149+cx_0
 26926 06:6CB3: 65 1F        	adc	<L1150+borderWidth_1
 26927 06:6CB5: 85 01        	sta	<R0
 26928 06:6CB7: 18           	clc
 26929 06:6CB8: A9 02 00     	lda	#$2
 26930 06:6CBB: 65 01        	adc	<R0
 26931 06:6CBD: 85 27        	sta	<L1150+clientOffsetX_1
 26932 06:6CBF: 18           	clc
 26933 06:6CC0: A5 36        	lda	<L1149+cy_0
 26934 06:6CC2: 65 1D        	adc	<L1150+borderTitle_1
 26935 06:6CC4: 85 01        	sta	<R0
 26936 06:6CC6: A5 01        	lda	<R0
 26937 06:6CC8: 1A           	ina
 26938 06:6CC9: 85 29        	sta	<L1150+clientOffsetY_1
 26939 06:6CCB: 18           	clc
 26940 06:6CCC: A5 38        	lda	<L1149+width_0
 26941 06:6CCE: 65 34        	adc	<L1149+cx_0
  Thu Jul 22 2021 22:51                                                Page 498


 26942 06:6CD0: 85 01        	sta	<R0
 26943 06:6CD2: 38           	sec
 26944 06:6CD3: A5 01        	lda	<R0
 26945 06:6CD5: E5 1F        	sbc	<L1150+borderWidth_1
 26946 06:6CD7: 85 2B        	sta	<L1150+endX_1
 26947                        	.line	5212
 26948 06:6CD9: F4 xx xx     	pea	#^L1148
 26949 06:6CDC: F4 xx xx     	pea	#<L1148
 26950 06:6CDF: 22 xx xx xx  	jsl	~~k_debug_string
 26951                        ;
 26952                        ;	k_scratch_save_bitblt(cx,cy, width, height, 0, 0
                    );
 26953                        	.line	5214
 26954 06:6CE3: F4 00 00     	pea	#<$0
 26955 06:6CE6: F4 00 00     	pea	#<$0
 26956 06:6CE9: D4 3A        	pei	<L1149+height_0
 26957 06:6CEB: D4 38        	pei	<L1149+width_0
 26958 06:6CED: D4 36        	pei	<L1149+cy_0
 26959 06:6CEF: D4 34        	pei	<L1149+cx_0
 26960 06:6CF1: 22 7F 7E 06  	jsl	~~k_scratch_save_bitblt
 26961                        ;
 26962                        ;	//k_vdma_fill_rect(cx,cy,width,height,0);
 26963                        ;	//k_vdma_fill_rect(cx+2,cy,width-2,height-2,bgco
                    lor);
 26964                        ;	//k_vdma_fill_rect(cx+1,cy+1,width -1 ,height - 
                    1,bgcolor);
 26965                        ;	k_vdma_fill_rect(cx,cy,width,height,bgcolor);
 26966                        	.line	5219
 26967 06:6CF5: D4 42        	pei	<L1149+bgcolor_0
 26968 06:6CF7: D4 3A        	pei	<L1149+height_0
 26969 06:6CF9: D4 38        	pei	<L1149+width_0
 26970 06:6CFB: A0 00 00     	ldy	#$0
 26971 06:6CFE: A5 36        	lda	<L1149+cy_0
 26972 06:6D00: 10 01        	bpl	L1152
 26973 06:6D02: 88           	dey
 26974                        L1152:
 26975 06:6D03: 85 01        	sta	<R0
 26976 06:6D05: 84 03        	sty	<R0+2
 26977 06:6D07: D4 03        	pei	<R0+2
 26978 06:6D09: D4 01        	pei	<R0
 26979 06:6D0B: A0 00 00     	ldy	#$0
 26980 06:6D0E: A5 34        	lda	<L1149+cx_0
 26981 06:6D10: 10 01        	bpl	L1153
 26982 06:6D12: 88           	dey
 26983                        L1153:
 26984 06:6D13: 85 05        	sta	<R1
 26985 06:6D15: 84 07        	sty	<R1+2
 26986 06:6D17: D4 07        	pei	<R1+2
 26987 06:6D19: D4 05        	pei	<R1
 26988 06:6D1B: 22 BA 5F 06  	jsl	~~k_vdma_fill_rect
 26989                        ;
 26990                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 26991                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 26992                        ;	i = 0;
 26993                        	.line	5223
 26994 06:6D1F: 64 15        	stz	<L1150+i_1
  Thu Jul 22 2021 22:51                                                Page 499


 26995                        ;	caption = menus->captions[i];
 26996                        	.line	5224
 26997 06:6D21: A0 00 00     	ldy	#$0
 26998 06:6D24: A5 15        	lda	<L1150+i_1
 26999 06:6D26: 10 01        	bpl	L1154
 27000 06:6D28: 88           	dey
 27001                        L1154:
 27002 06:6D29: 85 05        	sta	<R1
 27003 06:6D2B: 84 07        	sty	<R1+2
 27004 06:6D2D: D4 07        	pei	<R1+2
 27005 06:6D2F: D4 05        	pei	<R1
 27006 06:6D31: A9 02 00     	lda	#$2
 27007                        	xref	~~~lasl
 27008 06:6D34: 22 xx xx xx  	jsl	~~~lasl
 27009 06:6D38: 85 01        	sta	<R0
 27010 06:6D3A: 86 03        	stx	<R0+2
 27011 06:6D3C: 18           	clc
 27012 06:6D3D: A9 12 00     	lda	#$12
 27013 06:6D40: 65 3C        	adc	<L1149+menus_0
 27014 06:6D42: 85 09        	sta	<R2
 27015 06:6D44: A9 00 00     	lda	#$0
 27016 06:6D47: 65 3E        	adc	<L1149+menus_0+2
 27017 06:6D49: 85 0B        	sta	<R2+2
 27018 06:6D4B: 18           	clc
 27019 06:6D4C: A5 09        	lda	<R2
 27020 06:6D4E: 65 01        	adc	<R0
 27021 06:6D50: 85 0D        	sta	<R3
 27022 06:6D52: A5 0B        	lda	<R2+2
 27023 06:6D54: 65 03        	adc	<R0+2
 27024 06:6D56: 85 0F        	sta	<R3+2
 27025 06:6D58: A7 0D        	lda	[<R3]
 27026 06:6D5A: 85 19        	sta	<L1150+caption_1
 27027 06:6D5C: A0 02 00     	ldy	#$2
 27028 06:6D5F: B7 0D        	lda	[<R3],Y
 27029 06:6D61: 85 1B        	sta	<L1150+caption_1+2
 27030                        ;	while(caption!=NULL)
 27031                        	.line	5225
 27032                        L10471:
 27033 06:6D63: A5 19        	lda	<L1150+caption_1
 27034 06:6D65: 05 1B        	ora	<L1150+caption_1+2
 27035 06:6D67: D0 03        	bne	L1155
 27036 06:6D69: 82 7A 00     	brl	L10472
 27037                        L1155:
 27038                        ;	{
 27039                        	.line	5226
 27040                        ;		k_debug_strings("k_create_context_menu:c
                    aption:",(LPCHAR)caption);
 27041                        	.line	5227
 27042 06:6D6C: D4 1B        	pei	<L1150+caption_1+2
 27043 06:6D6E: D4 19        	pei	<L1150+caption_1
 27044 06:6D70: F4 xx xx     	pea	#^L1148+29
 27045 06:6D73: F4 xx xx     	pea	#<L1148+29
 27046 06:6D76: 22 xx xx xx  	jsl	~~k_debug_strings
 27047                        ;
 27048                        ;		//caption = strupr(caption);
 27049                        ;		hy = k_draw_text_point(caption,titleOffs
                    etX,titleOffsetY,color);
 27050                        	.line	5230
  Thu Jul 22 2021 22:51                                                Page 500


 27051 06:6D7A: D4 40        	pei	<L1149+color_0
 27052 06:6D7C: D4 23        	pei	<L1150+titleOffsetY_1
 27053 06:6D7E: D4 21        	pei	<L1150+titleOffsetX_1
 27054 06:6D80: D4 1B        	pei	<L1150+caption_1+2
 27055 06:6D82: D4 19        	pei	<L1150+caption_1
 27056 06:6D84: 22 DB 1F 06  	jsl	~~k_draw_text_point
 27057 06:6D88: 85 17        	sta	<L1150+hy_1
 27058                        ;		titleOffsetY+=(FONTH + 2);
 27059                        	.line	5231
 27060 06:6D8A: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 27061 06:6D8E: 85 01        	sta	<R0
 27062 06:6D90: 18           	clc
 27063 06:6D91: A5 01        	lda	<R0
 27064 06:6D93: 65 23        	adc	<L1150+titleOffsetY_1
 27065 06:6D95: 85 05        	sta	<R1
 27066 06:6D97: 18           	clc
 27067 06:6D98: A9 02 00     	lda	#$2
 27068 06:6D9B: 65 05        	adc	<R1
 27069 06:6D9D: 85 23        	sta	<L1150+titleOffsetY_1
 27070                        ;		i++;
 27071                        	.line	5232
 27072 06:6D9F: E6 15        	inc	<L1150+i_1
 27073                        ;		caption = menus->captions[i];
 27074                        	.line	5233
 27075 06:6DA1: A0 00 00     	ldy	#$0
 27076 06:6DA4: A5 15        	lda	<L1150+i_1
 27077 06:6DA6: 10 01        	bpl	L1156
 27078 06:6DA8: 88           	dey
 27079                        L1156:
 27080 06:6DA9: 85 05        	sta	<R1
 27081 06:6DAB: 84 07        	sty	<R1+2
 27082 06:6DAD: D4 07        	pei	<R1+2
 27083 06:6DAF: D4 05        	pei	<R1
 27084 06:6DB1: A9 02 00     	lda	#$2
 27085                        	xref	~~~lasl
 27086 06:6DB4: 22 xx xx xx  	jsl	~~~lasl
 27087 06:6DB8: 85 01        	sta	<R0
 27088 06:6DBA: 86 03        	stx	<R0+2
 27089 06:6DBC: 18           	clc
 27090 06:6DBD: A9 12 00     	lda	#$12
 27091 06:6DC0: 65 3C        	adc	<L1149+menus_0
 27092 06:6DC2: 85 09        	sta	<R2
 27093 06:6DC4: A9 00 00     	lda	#$0
 27094 06:6DC7: 65 3E        	adc	<L1149+menus_0+2
 27095 06:6DC9: 85 0B        	sta	<R2+2
 27096 06:6DCB: 18           	clc
 27097 06:6DCC: A5 09        	lda	<R2
 27098 06:6DCE: 65 01        	adc	<R0
 27099 06:6DD0: 85 0D        	sta	<R3
 27100 06:6DD2: A5 0B        	lda	<R2+2
 27101 06:6DD4: 65 03        	adc	<R0+2
 27102 06:6DD6: 85 0F        	sta	<R3+2
 27103 06:6DD8: A7 0D        	lda	[<R3]
 27104 06:6DDA: 85 19        	sta	<L1150+caption_1
 27105 06:6DDC: A0 02 00     	ldy	#$2
 27106 06:6DDF: B7 0D        	lda	[<R3],Y
 27107 06:6DE1: 85 1B        	sta	<L1150+caption_1+2
 27108                        ;	}
  Thu Jul 22 2021 22:51                                                Page 501


 27109                        	.line	5234
 27110 06:6DE3: 82 7D FF     	brl	L10471
 27111                        L10472:
 27112                        ;
 27113                        ;	return NULL;
 27114                        	.line	5236
 27115 06:6DE6: A9 00 00     	lda	#$0
 27116 06:6DE9: AA           	tax
 27117 06:6DEA: A9 00 00     	lda	#$0
 27118                        L1157:
 27119 06:6DED: A8           	tay
 27120 06:6DEE: A5 2E        	lda	<L1149+2
 27121 06:6DF0: 85 42        	sta	<L1149+2+20
 27122 06:6DF2: A5 2D        	lda	<L1149+1
 27123 06:6DF4: 85 41        	sta	<L1149+1+20
 27124 06:6DF6: 2B           	pld
 27125 06:6DF7: 3B           	tsc
 27126 06:6DF8: 18           	clc
 27127 06:6DF9: 69 40 00     	adc	#L1149+20
 27128 06:6DFC: 1B           	tcs
 27129 06:6DFD: 98           	tya
 27130 06:6DFE: 6B           	rtl
 27131                        ;}
 27132                        	.line	5237
 27133                        	.endblock	5237
 27134             0000002C   L1149	equ	44
 27135             00000011   L1150	equ	17
 27136 06:6DFF:              	ends
 27137                        	efunc
 27138                        	.endfunc	5237,17,44
 27139                        	.line	5237
 27140                        	data
 27141                        L1148:
 27142 00:0BBE: 6B 5F 63 72  	db	$6B,$5F,$63,$72,$65,$61,$74,$65,$5F,$63,
                    $6F,$6E,$74,$65,$78
       00:0BC2: 65 61 74 65 
       00:0BC6: 5F 63 6F 6E 
       00:0BCA: 74 65 78 
 27143 00:0BCD: 74 5F 6D 65  	db	$74,$5F,$6D,$65,$6E,$75,$3A,$66,$69,$6C,
                    $6C,$0D,$0A,$00,$6B
       00:0BD1: 6E 75 3A 66 
       00:0BD5: 69 6C 6C 0D 
       00:0BD9: 0A 00 6B 
 27144 00:0BDC: 5F 63 72 65  	db	$5F,$63,$72,$65,$61,$74,$65,$5F,$63,$6F,
                    $6E,$74,$65,$78,$74
       00:0BE0: 61 74 65 5F 
       00:0BE4: 63 6F 6E 74 
       00:0BE8: 65 78 74 
 27145 00:0BEB: 5F 6D 65 6E  	db	$5F,$6D,$65,$6E,$75,$3A,$63,$61,$70,$74,
                    $69,$6F,$6E,$3A,$00
       00:0BEF: 75 3A 63 61 
       00:0BF3: 70 74 69 6F 
       00:0BF7: 6E 3A 00 
 27146 00:0BFA:              	ends
 27147                        ;
 27148                        ;PMENU k_create_context_menu(int cx,int cy,int wid
                    th,int height,char FAR **captions,int color, int bgcolor)
 27149                        ;{
  Thu Jul 22 2021 22:51                                                Page 502


 27150                        	.line	5239
 27151                        	.line	5240
 27152                        	GFX
 27153                        	xdef	~~k_create_context_menu
 27154                        	func
 27155                        	.function	5240
 27156                        ~~k_create_context_menu:
 27157                        	longa	on
 27158                        	longi	on
 27159 06:6DFF: 3B           	tsc
 27160 06:6E00: 38           	sec
 27161 06:6E01: E9 28 00     	sbc	#L1159
 27162 06:6E04: 1B           	tcs
 27163 06:6E05: 0B           	phd
 27164 06:6E06: 5B           	tcd
 27165             00000004   cx_0	set	4
 27166             00000006   cy_0	set	6
 27167             00000008   width_0	set	8
 27168             0000000A   height_0	set	10
 27169             0000000C   captions_0	set	12
 27170             00000010   color_0	set	16
 27171             00000012   bgcolor_0	set	18
 27172                        	.block	5240
 27173                        ;	FONTMETRIC metric;
 27174                        ;
 27175                        ;	int i = 0;
 27176                        ;	int hy = 0;
 27177                        ;	char FAR *caption = NULL;
 27178                        ;
 27179                        ;	int borderTitle = 10;
 27180                        ;	int borderWidth = 3;
 27181                        ;
 27182                        ;	int titleOffsetX = cx+4;
 27183                        ;	int titleOffsetY = cy+2;
 27184                        ;	int titleScaler = 0;
 27185                        ;
 27186                        ;	int clientOffsetX = cx+borderWidth+2;
 27187                        ;	int clientOffsetY = cy+borderTitle+1;
 27188                        ;
 27189                        ;	int endX = width + cx - borderWidth;
 27190                        ;
 27191                        ;
 27192                        ;	k_debug_string("k_create_context_menu:fill\r\n")
                    ;
 27193             00000000   metric_1	set	0
 27194             00000004   i_1	set	4
 27195             00000006   hy_1	set	6
 27196             00000008   caption_1	set	8
 27197             0000000C   borderTitle_1	set	12
 27198             0000000E   borderWidth_1	set	14
 27199             00000010   titleOffsetX_1	set	16
 27200             00000012   titleOffsetY_1	set	18
 27201             00000014   titleScaler_1	set	20
 27202             00000016   clientOffsetX_1	set	22
 27203             00000018   clientOffsetY_1	set	24
 27204             0000001A   endX_1	set	26
 27205                        	.sym	metric,0,10,1,32,35
 27206                        	.sym	i,4,5,1,16
  Thu Jul 22 2021 22:51                                                Page 503


 27207                        	.sym	hy,6,5,1,16
 27208                        	.sym	caption,8,142,1,32
 27209                        	.sym	borderTitle,12,5,1,16
 27210                        	.sym	borderWidth,14,5,1,16
 27211                        	.sym	titleOffsetX,16,5,1,16
 27212                        	.sym	titleOffsetY,18,5,1,16
 27213                        	.sym	titleScaler,20,5,1,16
 27214                        	.sym	clientOffsetX,22,5,1,16
 27215                        	.sym	clientOffsetY,24,5,1,16
 27216                        	.sym	endX,26,5,1,16
 27217                        	.sym	cx,4,5,6,16
 27218                        	.sym	cy,6,5,6,16
 27219                        	.sym	width,8,5,6,16
 27220                        	.sym	height,10,5,6,16
 27221                        	.sym	captions,12,1166,6,32
 27222                        	.sym	color,16,5,6,16
 27223                        	.sym	bgcolor,18,5,6,16
 27224 06:6E07: 64 11        	stz	<L1160+i_1
 27225 06:6E09: 64 13        	stz	<L1160+hy_1
 27226 06:6E0B: 64 15        	stz	<L1160+caption_1
 27227 06:6E0D: 64 17        	stz	<L1160+caption_1+2
 27228 06:6E0F: A9 0A 00     	lda	#$a
 27229 06:6E12: 85 19        	sta	<L1160+borderTitle_1
 27230 06:6E14: A9 03 00     	lda	#$3
 27231 06:6E17: 85 1B        	sta	<L1160+borderWidth_1
 27232 06:6E19: 18           	clc
 27233 06:6E1A: A9 04 00     	lda	#$4
 27234 06:6E1D: 65 2C        	adc	<L1159+cx_0
 27235 06:6E1F: 85 1D        	sta	<L1160+titleOffsetX_1
 27236 06:6E21: 18           	clc
 27237 06:6E22: A9 02 00     	lda	#$2
 27238 06:6E25: 65 2E        	adc	<L1159+cy_0
 27239 06:6E27: 85 1F        	sta	<L1160+titleOffsetY_1
 27240 06:6E29: 64 21        	stz	<L1160+titleScaler_1
 27241 06:6E2B: 18           	clc
 27242 06:6E2C: A5 2C        	lda	<L1159+cx_0
 27243 06:6E2E: 65 1B        	adc	<L1160+borderWidth_1
 27244 06:6E30: 85 01        	sta	<R0
 27245 06:6E32: 18           	clc
 27246 06:6E33: A9 02 00     	lda	#$2
 27247 06:6E36: 65 01        	adc	<R0
 27248 06:6E38: 85 23        	sta	<L1160+clientOffsetX_1
 27249 06:6E3A: 18           	clc
 27250 06:6E3B: A5 2E        	lda	<L1159+cy_0
 27251 06:6E3D: 65 19        	adc	<L1160+borderTitle_1
 27252 06:6E3F: 85 01        	sta	<R0
 27253 06:6E41: A5 01        	lda	<R0
 27254 06:6E43: 1A           	ina
 27255 06:6E44: 85 25        	sta	<L1160+clientOffsetY_1
 27256 06:6E46: 18           	clc
 27257 06:6E47: A5 30        	lda	<L1159+width_0
 27258 06:6E49: 65 2C        	adc	<L1159+cx_0
 27259 06:6E4B: 85 01        	sta	<R0
 27260 06:6E4D: 38           	sec
 27261 06:6E4E: A5 01        	lda	<R0
 27262 06:6E50: E5 1B        	sbc	<L1160+borderWidth_1
 27263 06:6E52: 85 27        	sta	<L1160+endX_1
 27264                        	.line	5260
  Thu Jul 22 2021 22:51                                                Page 504


 27265 06:6E54: F4 xx xx     	pea	#^L1158
 27266 06:6E57: F4 xx xx     	pea	#<L1158
 27267 06:6E5A: 22 xx xx xx  	jsl	~~k_debug_string
 27268                        ;
 27269                        ;	k_scratch_save_bitblt(cx,cy, width, height, 0, 0
                    );
 27270                        	.line	5262
 27271 06:6E5E: F4 00 00     	pea	#<$0
 27272 06:6E61: F4 00 00     	pea	#<$0
 27273 06:6E64: D4 32        	pei	<L1159+height_0
 27274 06:6E66: D4 30        	pei	<L1159+width_0
 27275 06:6E68: D4 2E        	pei	<L1159+cy_0
 27276 06:6E6A: D4 2C        	pei	<L1159+cx_0
 27277 06:6E6C: 22 7F 7E 06  	jsl	~~k_scratch_save_bitblt
 27278                        ;
 27279                        ;	//k_vdma_fill_rect(cx,cy,width,height,0);
 27280                        ;	//k_vdma_fill_rect(cx+2,cy,width-2,height-2,bgco
                    lor);
 27281                        ;	//k_vdma_fill_rect(cx+1,cy+1,width -1 ,height - 
                    1,bgcolor);
 27282                        ;	k_vdma_fill_rect(cx,cy,width,height,bgcolor);
 27283                        	.line	5267
 27284 06:6E70: D4 3A        	pei	<L1159+bgcolor_0
 27285 06:6E72: D4 32        	pei	<L1159+height_0
 27286 06:6E74: D4 30        	pei	<L1159+width_0
 27287 06:6E76: A0 00 00     	ldy	#$0
 27288 06:6E79: A5 2E        	lda	<L1159+cy_0
 27289 06:6E7B: 10 01        	bpl	L1162
 27290 06:6E7D: 88           	dey
 27291                        L1162:
 27292 06:6E7E: 85 01        	sta	<R0
 27293 06:6E80: 84 03        	sty	<R0+2
 27294 06:6E82: D4 03        	pei	<R0+2
 27295 06:6E84: D4 01        	pei	<R0
 27296 06:6E86: A0 00 00     	ldy	#$0
 27297 06:6E89: A5 2C        	lda	<L1159+cx_0
 27298 06:6E8B: 10 01        	bpl	L1163
 27299 06:6E8D: 88           	dey
 27300                        L1163:
 27301 06:6E8E: 85 05        	sta	<R1
 27302 06:6E90: 84 07        	sty	<R1+2
 27303 06:6E92: D4 07        	pei	<R1+2
 27304 06:6E94: D4 05        	pei	<R1
 27305 06:6E96: 22 BA 5F 06  	jsl	~~k_vdma_fill_rect
 27306                        ;
 27307                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 27308                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 27309                        ;	i = 0;
 27310                        	.line	5271
 27311 06:6E9A: 64 11        	stz	<L1160+i_1
 27312                        ;	caption = captions[i];
 27313                        	.line	5272
 27314 06:6E9C: A0 00 00     	ldy	#$0
 27315 06:6E9F: A5 11        	lda	<L1160+i_1
 27316 06:6EA1: 10 01        	bpl	L1164
 27317 06:6EA3: 88           	dey
  Thu Jul 22 2021 22:51                                                Page 505


 27318                        L1164:
 27319 06:6EA4: 85 05        	sta	<R1
 27320 06:6EA6: 84 07        	sty	<R1+2
 27321 06:6EA8: D4 07        	pei	<R1+2
 27322 06:6EAA: D4 05        	pei	<R1
 27323 06:6EAC: A9 02 00     	lda	#$2
 27324                        	xref	~~~lasl
 27325 06:6EAF: 22 xx xx xx  	jsl	~~~lasl
 27326 06:6EB3: 85 01        	sta	<R0
 27327 06:6EB5: 86 03        	stx	<R0+2
 27328 06:6EB7: 18           	clc
 27329 06:6EB8: A5 34        	lda	<L1159+captions_0
 27330 06:6EBA: 65 01        	adc	<R0
 27331 06:6EBC: 85 09        	sta	<R2
 27332 06:6EBE: A5 36        	lda	<L1159+captions_0+2
 27333 06:6EC0: 65 03        	adc	<R0+2
 27334 06:6EC2: 85 0B        	sta	<R2+2
 27335 06:6EC4: A7 09        	lda	[<R2]
 27336 06:6EC6: 85 15        	sta	<L1160+caption_1
 27337 06:6EC8: A0 02 00     	ldy	#$2
 27338 06:6ECB: B7 09        	lda	[<R2],Y
 27339 06:6ECD: 85 17        	sta	<L1160+caption_1+2
 27340                        ;	while(caption!=NULL)
 27341                        	.line	5273
 27342                        L10473:
 27343 06:6ECF: A5 15        	lda	<L1160+caption_1
 27344 06:6ED1: 05 17        	ora	<L1160+caption_1+2
 27345 06:6ED3: D0 03        	bne	L1165
 27346 06:6ED5: 82 6B 00     	brl	L10474
 27347                        L1165:
 27348                        ;	{
 27349                        	.line	5274
 27350                        ;		k_debug_strings("k_create_context_menu:c
                    aption:",caption);
 27351                        	.line	5275
 27352 06:6ED8: D4 17        	pei	<L1160+caption_1+2
 27353 06:6EDA: D4 15        	pei	<L1160+caption_1
 27354 06:6EDC: F4 xx xx     	pea	#^L1158+29
 27355 06:6EDF: F4 xx xx     	pea	#<L1158+29
 27356 06:6EE2: 22 xx xx xx  	jsl	~~k_debug_strings
 27357                        ;
 27358                        ;		//caption = strupr(caption);
 27359                        ;		hy = k_draw_text_point(caption,titleOffs
                    etX,titleOffsetY,color);
 27360                        	.line	5278
 27361 06:6EE6: D4 38        	pei	<L1159+color_0
 27362 06:6EE8: D4 1F        	pei	<L1160+titleOffsetY_1
 27363 06:6EEA: D4 1D        	pei	<L1160+titleOffsetX_1
 27364 06:6EEC: D4 17        	pei	<L1160+caption_1+2
 27365 06:6EEE: D4 15        	pei	<L1160+caption_1
 27366 06:6EF0: 22 DB 1F 06  	jsl	~~k_draw_text_point
 27367 06:6EF4: 85 13        	sta	<L1160+hy_1
 27368                        ;
 27369                        ;		titleOffsetY+=(FONTH + 2);
 27370                        	.line	5280
 27371 06:6EF6: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 27372 06:6EFA: 85 01        	sta	<R0
 27373 06:6EFC: 18           	clc
  Thu Jul 22 2021 22:51                                                Page 506


 27374 06:6EFD: A5 01        	lda	<R0
 27375 06:6EFF: 65 1F        	adc	<L1160+titleOffsetY_1
 27376 06:6F01: 85 05        	sta	<R1
 27377 06:6F03: 18           	clc
 27378 06:6F04: A9 02 00     	lda	#$2
 27379 06:6F07: 65 05        	adc	<R1
 27380 06:6F09: 85 1F        	sta	<L1160+titleOffsetY_1
 27381                        ;		i++;
 27382                        	.line	5281
 27383 06:6F0B: E6 11        	inc	<L1160+i_1
 27384                        ;		caption = captions[i];
 27385                        	.line	5282
 27386 06:6F0D: A0 00 00     	ldy	#$0
 27387 06:6F10: A5 11        	lda	<L1160+i_1
 27388 06:6F12: 10 01        	bpl	L1166
 27389 06:6F14: 88           	dey
 27390                        L1166:
 27391 06:6F15: 85 05        	sta	<R1
 27392 06:6F17: 84 07        	sty	<R1+2
 27393 06:6F19: D4 07        	pei	<R1+2
 27394 06:6F1B: D4 05        	pei	<R1
 27395 06:6F1D: A9 02 00     	lda	#$2
 27396                        	xref	~~~lasl
 27397 06:6F20: 22 xx xx xx  	jsl	~~~lasl
 27398 06:6F24: 85 01        	sta	<R0
 27399 06:6F26: 86 03        	stx	<R0+2
 27400 06:6F28: 18           	clc
 27401 06:6F29: A5 34        	lda	<L1159+captions_0
 27402 06:6F2B: 65 01        	adc	<R0
 27403 06:6F2D: 85 09        	sta	<R2
 27404 06:6F2F: A5 36        	lda	<L1159+captions_0+2
 27405 06:6F31: 65 03        	adc	<R0+2
 27406 06:6F33: 85 0B        	sta	<R2+2
 27407 06:6F35: A7 09        	lda	[<R2]
 27408 06:6F37: 85 15        	sta	<L1160+caption_1
 27409 06:6F39: A0 02 00     	ldy	#$2
 27410 06:6F3C: B7 09        	lda	[<R2],Y
 27411 06:6F3E: 85 17        	sta	<L1160+caption_1+2
 27412                        ;	}
 27413                        	.line	5283
 27414 06:6F40: 82 8C FF     	brl	L10473
 27415                        L10474:
 27416                        ;
 27417                        ;	return NULL;
 27418                        	.line	5285
 27419 06:6F43: A9 00 00     	lda	#$0
 27420 06:6F46: AA           	tax
 27421 06:6F47: A9 00 00     	lda	#$0
 27422                        L1167:
 27423 06:6F4A: A8           	tay
 27424 06:6F4B: A5 2A        	lda	<L1159+2
 27425 06:6F4D: 85 3A        	sta	<L1159+2+16
 27426 06:6F4F: A5 29        	lda	<L1159+1
 27427 06:6F51: 85 39        	sta	<L1159+1+16
 27428 06:6F53: 2B           	pld
 27429 06:6F54: 3B           	tsc
 27430 06:6F55: 18           	clc
 27431 06:6F56: 69 38 00     	adc	#L1159+16
  Thu Jul 22 2021 22:51                                                Page 507


 27432 06:6F59: 1B           	tcs
 27433 06:6F5A: 98           	tya
 27434 06:6F5B: 6B           	rtl
 27435                        ;
 27436                        ;}
 27437                        	.line	5287
 27438                        	.endblock	5287
 27439             00000028   L1159	equ	40
 27440             0000000D   L1160	equ	13
 27441 06:6F5C:              	ends
 27442                        	efunc
 27443                        	.endfunc	5287,13,40
 27444                        	.line	5287
 27445                        	data
 27446                        L1158:
 27447 00:0BFA: 6B 5F 63 72  	db	$6B,$5F,$63,$72,$65,$61,$74,$65,$5F,$63,
                    $6F,$6E,$74,$65,$78
       00:0BFE: 65 61 74 65 
       00:0C02: 5F 63 6F 6E 
       00:0C06: 74 65 78 
 27448 00:0C09: 74 5F 6D 65  	db	$74,$5F,$6D,$65,$6E,$75,$3A,$66,$69,$6C,
                    $6C,$0D,$0A,$00,$6B
       00:0C0D: 6E 75 3A 66 
       00:0C11: 69 6C 6C 0D 
       00:0C15: 0A 00 6B 
 27449 00:0C18: 5F 63 72 65  	db	$5F,$63,$72,$65,$61,$74,$65,$5F,$63,$6F,
                    $6E,$74,$65,$78,$74
       00:0C1C: 61 74 65 5F 
       00:0C20: 63 6F 6E 74 
       00:0C24: 65 78 74 
 27450 00:0C27: 5F 6D 65 6E  	db	$5F,$6D,$65,$6E,$75,$3A,$63,$61,$70,$74,
                    $69,$6F,$6E,$3A,$00
       00:0C2B: 75 3A 63 61 
       00:0C2F: 70 74 69 6F 
       00:0C33: 6E 3A 00 
 27451 00:0C36:              	ends
 27452                        ;
 27453                        ;PMENU k_create_context_menu_in_window_ex(PWINDOW 
                    pWin,UINT selected,UINT unselected,int cx,int cy,int width,i
                    nt height,char FAR **captions,char FAR *chrome,int color, in
                    t bgcolor)
 27454                        ;{
 27455                        	.line	5289
 27456                        	.line	5290
 27457                        	GFX
 27458                        	xdef	~~k_create_context_menu_in_window_ex
 27459                        	func
 27460                        	.function	5290
 27461                        ~~k_create_context_menu_in_window_ex:
 27462                        	longa	on
 27463                        	longi	on
 27464 06:6F5C: 3B           	tsc
 27465 06:6F5D: 38           	sec
 27466 06:6F5E: E9 29 00     	sbc	#L1169
 27467 06:6F61: 1B           	tcs
 27468 06:6F62: 0B           	phd
 27469 06:6F63: 5B           	tcd
 27470             00000004   pWin_0	set	4
  Thu Jul 22 2021 22:51                                                Page 508


 27471             00000008   selected_0	set	8
 27472             0000000A   unselected_0	set	10
 27473             0000000C   cx_0	set	12
 27474             0000000E   cy_0	set	14
 27475             00000010   width_0	set	16
 27476             00000012   height_0	set	18
 27477             00000014   captions_0	set	20
 27478             00000018   chrome_0	set	24
 27479             0000001C   color_0	set	28
 27480             0000001E   bgcolor_0	set	30
 27481                        	.block	5290
 27482                        ;	FONTMETRIC metric;
 27483                        ;
 27484                        ;	int i = 0;
 27485                        ;	int dx = 0;
 27486                        ;	char FAR *caption = NULL;
 27487                        ;
 27488                        ;	int borderTitle = 10;
 27489                        ;	int borderWidth = 3;
 27490                        ;
 27491                        ;	int titleOffsetX = cx+4;
 27492                        ;	int titleOffsetY = cy+2;
 27493                        ;	int titleScaler = 0;
 27494                        ;
 27495                        ;	int clientOffsetX = cx+borderWidth+2;
 27496                        ;	int clientOffsetY = cy+borderTitle+1;
 27497                        ;
 27498                        ;	int endX = width + cx - borderWidth;
 27499                        ;
 27500                        ;
 27501                        ;	if(selected == -1 && unselected == -1)
 27502             00000000   metric_1	set	0
 27503             00000004   i_1	set	4
 27504             00000006   dx_1	set	6
 27505             00000008   caption_1	set	8
 27506             0000000C   borderTitle_1	set	12
 27507             0000000E   borderWidth_1	set	14
 27508             00000010   titleOffsetX_1	set	16
 27509             00000012   titleOffsetY_1	set	18
 27510             00000014   titleScaler_1	set	20
 27511             00000016   clientOffsetX_1	set	22
 27512             00000018   clientOffsetY_1	set	24
 27513             0000001A   endX_1	set	26
 27514                        	.sym	metric,0,10,1,32,35
 27515                        	.sym	i,4,5,1,16
 27516                        	.sym	dx,6,5,1,16
 27517                        	.sym	caption,8,142,1,32
 27518                        	.sym	borderTitle,12,5,1,16
 27519                        	.sym	borderWidth,14,5,1,16
 27520                        	.sym	titleOffsetX,16,5,1,16
 27521                        	.sym	titleOffsetY,18,5,1,16
 27522                        	.sym	titleScaler,20,5,1,16
 27523                        	.sym	clientOffsetX,22,5,1,16
 27524                        	.sym	clientOffsetY,24,5,1,16
 27525                        	.sym	endX,26,5,1,16
 27526                        	.sym	pWin,4,138,6,32,33
 27527                        	.sym	selected,8,16,6,16
 27528                        	.sym	unselected,10,16,6,16
  Thu Jul 22 2021 22:51                                                Page 509


 27529                        	.sym	cx,12,5,6,16
 27530                        	.sym	cy,14,5,6,16
 27531                        	.sym	width,16,5,6,16
 27532                        	.sym	height,18,5,6,16
 27533                        	.sym	captions,20,1166,6,32
 27534                        	.sym	chrome,24,142,6,32
 27535                        	.sym	color,28,5,6,16
 27536                        	.sym	bgcolor,30,5,6,16
 27537 06:6F64: 64 11        	stz	<L1170+i_1
 27538 06:6F66: 64 13        	stz	<L1170+dx_1
 27539 06:6F68: 64 15        	stz	<L1170+caption_1
 27540 06:6F6A: 64 17        	stz	<L1170+caption_1+2
 27541 06:6F6C: A9 0A 00     	lda	#$a
 27542 06:6F6F: 85 19        	sta	<L1170+borderTitle_1
 27543 06:6F71: A9 03 00     	lda	#$3
 27544 06:6F74: 85 1B        	sta	<L1170+borderWidth_1
 27545 06:6F76: 18           	clc
 27546 06:6F77: A9 04 00     	lda	#$4
 27547 06:6F7A: 65 35        	adc	<L1169+cx_0
 27548 06:6F7C: 85 1D        	sta	<L1170+titleOffsetX_1
 27549 06:6F7E: 18           	clc
 27550 06:6F7F: A9 02 00     	lda	#$2
 27551 06:6F82: 65 37        	adc	<L1169+cy_0
 27552 06:6F84: 85 1F        	sta	<L1170+titleOffsetY_1
 27553 06:6F86: 64 21        	stz	<L1170+titleScaler_1
 27554 06:6F88: 18           	clc
 27555 06:6F89: A5 35        	lda	<L1169+cx_0
 27556 06:6F8B: 65 1B        	adc	<L1170+borderWidth_1
 27557 06:6F8D: 85 01        	sta	<R0
 27558 06:6F8F: 18           	clc
 27559 06:6F90: A9 02 00     	lda	#$2
 27560 06:6F93: 65 01        	adc	<R0
 27561 06:6F95: 85 23        	sta	<L1170+clientOffsetX_1
 27562 06:6F97: 18           	clc
 27563 06:6F98: A5 37        	lda	<L1169+cy_0
 27564 06:6F9A: 65 19        	adc	<L1170+borderTitle_1
 27565 06:6F9C: 85 01        	sta	<R0
 27566 06:6F9E: A5 01        	lda	<R0
 27567 06:6FA0: 1A           	ina
 27568 06:6FA1: 85 25        	sta	<L1170+clientOffsetY_1
 27569 06:6FA3: 18           	clc
 27570 06:6FA4: A5 39        	lda	<L1169+width_0
 27571 06:6FA6: 65 35        	adc	<L1169+cx_0
 27572 06:6FA8: 85 01        	sta	<R0
 27573 06:6FAA: 38           	sec
 27574 06:6FAB: A5 01        	lda	<R0
 27575 06:6FAD: E5 1B        	sbc	<L1170+borderWidth_1
 27576 06:6FAF: 85 27        	sta	<L1170+endX_1
 27577                        	.line	5310
 27578                        ;		k_vdma_fill_rect_ex(cx,cy,width,height,b
                    gcolor,BITMAP_FRONT);
 27579 06:6FB1: A5 31        	lda	<L1169+selected_0
 27580 06:6FB3: C9 FF FF     	cmp	#<$ffffffff
 27581 06:6FB6: F0 03        	beq	L1172
 27582 06:6FB8: 82 37 00     	brl	L10475
 27583                        L1172:
 27584 06:6FBB: A5 33        	lda	<L1169+unselected_0
 27585 06:6FBD: C9 FF FF     	cmp	#<$ffffffff
  Thu Jul 22 2021 22:51                                                Page 510


 27586 06:6FC0: F0 03        	beq	L1173
 27587 06:6FC2: 82 2D 00     	brl	L10475
 27588                        L1173:
 27589                        	.line	5311
 27590 06:6FC5: F4 00 00     	pea	#<$0
 27591 06:6FC8: D4 47        	pei	<L1169+bgcolor_0
 27592 06:6FCA: D4 3B        	pei	<L1169+height_0
 27593 06:6FCC: D4 39        	pei	<L1169+width_0
 27594 06:6FCE: A0 00 00     	ldy	#$0
 27595 06:6FD1: A5 37        	lda	<L1169+cy_0
 27596 06:6FD3: 10 01        	bpl	L1174
 27597 06:6FD5: 88           	dey
 27598                        L1174:
 27599 06:6FD6: 85 01        	sta	<R0
 27600 06:6FD8: 84 03        	sty	<R0+2
 27601 06:6FDA: D4 03        	pei	<R0+2
 27602 06:6FDC: D4 01        	pei	<R0
 27603 06:6FDE: A0 00 00     	ldy	#$0
 27604 06:6FE1: A5 35        	lda	<L1169+cx_0
 27605 06:6FE3: 10 01        	bpl	L1175
 27606 06:6FE5: 88           	dey
 27607                        L1175:
 27608 06:6FE6: 85 05        	sta	<R1
 27609 06:6FE8: 84 07        	sty	<R1+2
 27610 06:6FEA: D4 07        	pei	<R1+2
 27611 06:6FEC: D4 05        	pei	<R1
 27612 06:6FEE: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 27613                        ;
 27614                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 27615                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 27616                        ;	i = 0;
 27617                        L10475:
 27618                        	.line	5315
 27619 06:6FF2: 64 11        	stz	<L1170+i_1
 27620                        ;	caption = captions[i];
 27621                        	.line	5316
 27622 06:6FF4: A0 00 00     	ldy	#$0
 27623 06:6FF7: A5 11        	lda	<L1170+i_1
 27624 06:6FF9: 10 01        	bpl	L1176
 27625 06:6FFB: 88           	dey
 27626                        L1176:
 27627 06:6FFC: 85 05        	sta	<R1
 27628 06:6FFE: 84 07        	sty	<R1+2
 27629 06:7000: D4 07        	pei	<R1+2
 27630 06:7002: D4 05        	pei	<R1
 27631 06:7004: A9 02 00     	lda	#$2
 27632                        	xref	~~~lasl
 27633 06:7007: 22 xx xx xx  	jsl	~~~lasl
 27634 06:700B: 85 01        	sta	<R0
 27635 06:700D: 86 03        	stx	<R0+2
 27636 06:700F: 18           	clc
 27637 06:7010: A5 3D        	lda	<L1169+captions_0
 27638 06:7012: 65 01        	adc	<R0
 27639 06:7014: 85 09        	sta	<R2
 27640 06:7016: A5 3F        	lda	<L1169+captions_0+2
 27641 06:7018: 65 03        	adc	<R0+2
  Thu Jul 22 2021 22:51                                                Page 511


 27642 06:701A: 85 0B        	sta	<R2+2
 27643 06:701C: A7 09        	lda	[<R2]
 27644 06:701E: 85 15        	sta	<L1170+caption_1
 27645 06:7020: A0 02 00     	ldy	#$2
 27646 06:7023: B7 09        	lda	[<R2],Y
 27647 06:7025: 85 17        	sta	<L1170+caption_1+2
 27648                        ;	while(caption!=NULL)
 27649                        	.line	5317
 27650                        L10476:
 27651 06:7027: A5 15        	lda	<L1170+caption_1
 27652 06:7029: 05 17        	ora	<L1170+caption_1+2
 27653 06:702B: D0 03        	bne	L1177
 27654 06:702D: 82 66 02     	brl	L10477
 27655                        L1177:
 27656                        ;	{
 27657                        	.line	5318
 27658                        ;		char chromeByte = chrome[i];
 27659                        ;		//if(chromeByte)
 27660                        ;		//	k_debug_strings("#### k_create_c
                    ontext_menu_in_window_ex:chrome:CHECKED:",caption);
 27661                        ;		//k_debug_strings("k_create_context_menu
                    :caption:",caption);
 27662                        ;
 27663                        ;		//caption = strupr(caption);
 27664                        ;
 27665                        ;		if(selected!=-1 && unselected!=-1)
 27666                        	.block	5326
 27667             0000001C   chromeByte_2	set	28
 27668                        	.sym	chromeByte,28,14,1,8
 27669 06:7030: E2 20        	sep	#$20
 27670                        	longa	off
 27671 06:7032: A4 11        	ldy	<L1170+i_1
 27672 06:7034: B7 41        	lda	[<L1169+chrome_0],Y
 27673 06:7036: 85 29        	sta	<L1170+chromeByte_2
 27674 06:7038: C2 20        	rep	#$20
 27675                        	longa	on
 27676                        	.line	5326
 27677                        ;		{
 27678 06:703A: A5 31        	lda	<L1169+selected_0
 27679 06:703C: C9 FF FF     	cmp	#<$ffffffff
 27680 06:703F: D0 03        	bne	L1179
 27681 06:7041: 82 38 01     	brl	L10478
 27682                        L1179:
 27683 06:7044: A5 33        	lda	<L1169+unselected_0
 27684 06:7046: C9 FF FF     	cmp	#<$ffffffff
 27685 06:7049: D0 03        	bne	L1180
 27686 06:704B: 82 2E 01     	brl	L10478
 27687                        L1180:
 27688                        	.line	5327
 27689                        ;			if( i == selected && caption[0] 
                    != '_' && caption[0] != ' ')
 27690                        	.line	5328
 27691                        ;			{
 27692 06:704E: A5 11        	lda	<L1170+i_1
 27693 06:7050: C5 31        	cmp	<L1169+selected_0
 27694 06:7052: F0 03        	beq	L1181
 27695 06:7054: 82 8E 00     	brl	L10479
 27696                        L1181:
  Thu Jul 22 2021 22:51                                                Page 512


 27697 06:7057: E2 20        	sep	#$20
 27698                        	longa	off
 27699 06:7059: A7 15        	lda	[<L1170+caption_1]
 27700 06:705B: C9 5F        	cmp	#<$5f
 27701 06:705D: C2 20        	rep	#$20
 27702                        	longa	on
 27703 06:705F: D0 03        	bne	L1182
 27704 06:7061: 82 81 00     	brl	L10479
 27705                        L1182:
 27706 06:7064: E2 20        	sep	#$20
 27707                        	longa	off
 27708 06:7066: A7 15        	lda	[<L1170+caption_1]
 27709 06:7068: C9 20        	cmp	#<$20
 27710 06:706A: C2 20        	rep	#$20
 27711                        	longa	on
 27712 06:706C: D0 03        	bne	L1183
 27713 06:706E: 82 74 00     	brl	L10479
 27714                        L1183:
 27715                        	.line	5329
 27716                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,color,BITMAP_FRON
                    T);
 27717                        	.line	5330
 27718 06:7071: F4 00 00     	pea	#<$0
 27719 06:7074: D4 45        	pei	<L1169+color_0
 27720 06:7076: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 27721 06:707A: 48           	pha
 27722 06:707B: A0 10 00     	ldy	#$10
 27723 06:707E: B7 2D        	lda	[<L1169+pWin_0],Y
 27724 06:7080: 48           	pha
 27725 06:7081: A0 00 00     	ldy	#$0
 27726 06:7084: A5 1F        	lda	<L1170+titleOffsetY_1
 27727 06:7086: 10 01        	bpl	L1184
 27728 06:7088: 88           	dey
 27729                        L1184:
 27730 06:7089: 85 01        	sta	<R0
 27731 06:708B: 84 03        	sty	<R0+2
 27732 06:708D: D4 03        	pei	<R0+2
 27733 06:708F: D4 01        	pei	<R0
 27734 06:7091: A0 00 00     	ldy	#$0
 27735 06:7094: 5A           	phy
 27736 06:7095: A0 0C 00     	ldy	#$c
 27737 06:7098: B7 2D        	lda	[<L1169+pWin_0],Y
 27738 06:709A: 7A           	ply
 27739 06:709B: 2A           	rol	A
 27740 06:709C: 6A           	ror	A
 27741 06:709D: 10 01        	bpl	L1185
 27742 06:709F: 88           	dey
 27743                        L1185:
 27744 06:70A0: 85 05        	sta	<R1
 27745 06:70A2: 84 07        	sty	<R1+2
 27746 06:70A4: D4 07        	pei	<R1+2
 27747 06:70A6: D4 05        	pei	<R1
 27748 06:70A8: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 27749                        ;				dx = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,bgcolor,BITMAP_FRONT);
 27750                        	.line	5331
 27751 06:70AC: F4 00 00     	pea	#<$0
  Thu Jul 22 2021 22:51                                                Page 513


 27752 06:70AF: D4 47        	pei	<L1169+bgcolor_0
 27753 06:70B1: D4 1F        	pei	<L1170+titleOffsetY_1
 27754 06:70B3: D4 1D        	pei	<L1170+titleOffsetX_1
 27755 06:70B5: D4 17        	pei	<L1170+caption_1+2
 27756 06:70B7: D4 15        	pei	<L1170+caption_1
 27757 06:70B9: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 27758 06:70BD: 85 13        	sta	<L1170+dx_1
 27759                        ;				if(chromeByte)
 27760                        	.line	5332
 27761                        ;				{
 27762 06:70BF: A5 29        	lda	<L1170+chromeByte_2
 27763 06:70C1: 29 FF 00     	and	#$ff
 27764 06:70C4: D0 03        	bne	L1186
 27765 06:70C6: 82 19 00     	brl	L10480
 27766                        L1186:
 27767                        	.line	5333
 27768                        ;					dx = k_draw_text
                    _point_ex("*",titleOffsetX + dx,titleOffsetY,bgcolor,BITMAP_
                    FRONT);
 27769                        	.line	5334
 27770 06:70C9: F4 00 00     	pea	#<$0
 27771 06:70CC: D4 47        	pei	<L1169+bgcolor_0
 27772 06:70CE: D4 1F        	pei	<L1170+titleOffsetY_1
 27773 06:70D0: 18           	clc
 27774 06:70D1: A5 1D        	lda	<L1170+titleOffsetX_1
 27775 06:70D3: 65 13        	adc	<L1170+dx_1
 27776 06:70D5: 48           	pha
 27777 06:70D6: F4 xx xx     	pea	#^L1168
 27778 06:70D9: F4 xx xx     	pea	#<L1168
 27779 06:70DC: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 27780 06:70E0: 85 13        	sta	<L1170+dx_1
 27781                        ;				}
 27782                        	.line	5335
 27783                        ;			}
 27784                        L10480:
 27785                        	.line	5336
 27786                        ;			else if( i == unselected && capt
                    ion[0] != '_' && caption[0] != ' ' )
 27787 06:70E2: 82 94 00     	brl	L10481
 27788                        L10479:
 27789                        	.line	5337
 27790                        ;			{
 27791 06:70E5: A5 11        	lda	<L1170+i_1
 27792 06:70E7: C5 33        	cmp	<L1169+unselected_0
 27793 06:70E9: F0 03        	beq	L1187
 27794 06:70EB: 82 8B 00     	brl	L10482
 27795                        L1187:
 27796 06:70EE: E2 20        	sep	#$20
 27797                        	longa	off
 27798 06:70F0: A7 15        	lda	[<L1170+caption_1]
 27799 06:70F2: C9 5F        	cmp	#<$5f
 27800 06:70F4: C2 20        	rep	#$20
 27801                        	longa	on
 27802 06:70F6: D0 03        	bne	L1188
 27803 06:70F8: 82 7E 00     	brl	L10482
 27804                        L1188:
 27805 06:70FB: E2 20        	sep	#$20
 27806                        	longa	off
  Thu Jul 22 2021 22:51                                                Page 514


 27807 06:70FD: A7 15        	lda	[<L1170+caption_1]
 27808 06:70FF: C9 20        	cmp	#<$20
 27809 06:7101: C2 20        	rep	#$20
 27810                        	longa	on
 27811 06:7103: D0 03        	bne	L1189
 27812 06:7105: 82 71 00     	brl	L10482
 27813                        L1189:
 27814                        	.line	5338
 27815                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,bgcolor,BITMAP_FR
                    ONT);
 27816                        	.line	5339
 27817 06:7108: F4 00 00     	pea	#<$0
 27818 06:710B: D4 47        	pei	<L1169+bgcolor_0
 27819 06:710D: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 27820 06:7111: 48           	pha
 27821 06:7112: A0 10 00     	ldy	#$10
 27822 06:7115: B7 2D        	lda	[<L1169+pWin_0],Y
 27823 06:7117: 48           	pha
 27824 06:7118: A0 00 00     	ldy	#$0
 27825 06:711B: A5 1F        	lda	<L1170+titleOffsetY_1
 27826 06:711D: 10 01        	bpl	L1190
 27827 06:711F: 88           	dey
 27828                        L1190:
 27829 06:7120: 85 01        	sta	<R0
 27830 06:7122: 84 03        	sty	<R0+2
 27831 06:7124: D4 03        	pei	<R0+2
 27832 06:7126: D4 01        	pei	<R0
 27833 06:7128: A0 00 00     	ldy	#$0
 27834 06:712B: 5A           	phy
 27835 06:712C: A0 0C 00     	ldy	#$c
 27836 06:712F: B7 2D        	lda	[<L1169+pWin_0],Y
 27837 06:7131: 7A           	ply
 27838 06:7132: 2A           	rol	A
 27839 06:7133: 6A           	ror	A
 27840 06:7134: 10 01        	bpl	L1191
 27841 06:7136: 88           	dey
 27842                        L1191:
 27843 06:7137: 85 05        	sta	<R1
 27844 06:7139: 84 07        	sty	<R1+2
 27845 06:713B: D4 07        	pei	<R1+2
 27846 06:713D: D4 05        	pei	<R1
 27847 06:713F: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 27848                        ;				dx = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,color,BITMAP_FRONT);
 27849                        	.line	5340
 27850 06:7143: F4 00 00     	pea	#<$0
 27851 06:7146: D4 45        	pei	<L1169+color_0
 27852 06:7148: D4 1F        	pei	<L1170+titleOffsetY_1
 27853 06:714A: D4 1D        	pei	<L1170+titleOffsetX_1
 27854 06:714C: D4 17        	pei	<L1170+caption_1+2
 27855 06:714E: D4 15        	pei	<L1170+caption_1
 27856 06:7150: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 27857 06:7154: 85 13        	sta	<L1170+dx_1
 27858                        ;				if(chromeByte)
 27859                        	.line	5341
 27860                        ;				{
 27861 06:7156: A5 29        	lda	<L1170+chromeByte_2
  Thu Jul 22 2021 22:51                                                Page 515


 27862 06:7158: 29 FF 00     	and	#$ff
 27863 06:715B: D0 03        	bne	L1192
 27864 06:715D: 82 19 00     	brl	L10483
 27865                        L1192:
 27866                        	.line	5342
 27867                        ;					dx = k_draw_text
                    _point_ex("*",titleOffsetX + dx,titleOffsetY,color,BITMAP_FR
                    ONT);
 27868                        	.line	5343
 27869 06:7160: F4 00 00     	pea	#<$0
 27870 06:7163: D4 45        	pei	<L1169+color_0
 27871 06:7165: D4 1F        	pei	<L1170+titleOffsetY_1
 27872 06:7167: 18           	clc
 27873 06:7168: A5 1D        	lda	<L1170+titleOffsetX_1
 27874 06:716A: 65 13        	adc	<L1170+dx_1
 27875 06:716C: 48           	pha
 27876 06:716D: F4 xx xx     	pea	#^L1168+2
 27877 06:7170: F4 xx xx     	pea	#<L1168+2
 27878 06:7173: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 27879 06:7177: 85 13        	sta	<L1170+dx_1
 27880                        ;				}
 27881                        	.line	5344
 27882                        ;			}
 27883                        L10483:
 27884                        	.line	5345
 27885                        ;
 27886                        ;		}
 27887                        L10482:
 27888                        L10481:
 27889                        	.line	5347
 27890                        ;		else
 27891 06:7179: 82 CD 00     	brl	L10484
 27892                        L10478:
 27893                        ;		{
 27894                        	.line	5349
 27895                        ;			if( i == selected && caption[0] 
                    != '_' && caption[0] != ' ')
 27896                        	.line	5350
 27897                        ;			{
 27898 06:717C: A5 11        	lda	<L1170+i_1
 27899 06:717E: C5 31        	cmp	<L1169+selected_0
 27900 06:7180: F0 03        	beq	L1193
 27901 06:7182: 82 8E 00     	brl	L10485
 27902                        L1193:
 27903 06:7185: E2 20        	sep	#$20
 27904                        	longa	off
 27905 06:7187: A7 15        	lda	[<L1170+caption_1]
 27906 06:7189: C9 5F        	cmp	#<$5f
 27907 06:718B: C2 20        	rep	#$20
 27908                        	longa	on
 27909 06:718D: D0 03        	bne	L1194
 27910 06:718F: 82 81 00     	brl	L10485
 27911                        L1194:
 27912 06:7192: E2 20        	sep	#$20
 27913                        	longa	off
 27914 06:7194: A7 15        	lda	[<L1170+caption_1]
 27915 06:7196: C9 20        	cmp	#<$20
 27916 06:7198: C2 20        	rep	#$20
  Thu Jul 22 2021 22:51                                                Page 516


 27917                        	longa	on
 27918 06:719A: D0 03        	bne	L1195
 27919 06:719C: 82 74 00     	brl	L10485
 27920                        L1195:
 27921                        	.line	5351
 27922                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,color,BITMAP_FRON
                    T);
 27923                        	.line	5352
 27924 06:719F: F4 00 00     	pea	#<$0
 27925 06:71A2: D4 45        	pei	<L1169+color_0
 27926 06:71A4: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 27927 06:71A8: 48           	pha
 27928 06:71A9: A0 10 00     	ldy	#$10
 27929 06:71AC: B7 2D        	lda	[<L1169+pWin_0],Y
 27930 06:71AE: 48           	pha
 27931 06:71AF: A0 00 00     	ldy	#$0
 27932 06:71B2: A5 1F        	lda	<L1170+titleOffsetY_1
 27933 06:71B4: 10 01        	bpl	L1196
 27934 06:71B6: 88           	dey
 27935                        L1196:
 27936 06:71B7: 85 01        	sta	<R0
 27937 06:71B9: 84 03        	sty	<R0+2
 27938 06:71BB: D4 03        	pei	<R0+2
 27939 06:71BD: D4 01        	pei	<R0
 27940 06:71BF: A0 00 00     	ldy	#$0
 27941 06:71C2: 5A           	phy
 27942 06:71C3: A0 0C 00     	ldy	#$c
 27943 06:71C6: B7 2D        	lda	[<L1169+pWin_0],Y
 27944 06:71C8: 7A           	ply
 27945 06:71C9: 2A           	rol	A
 27946 06:71CA: 6A           	ror	A
 27947 06:71CB: 10 01        	bpl	L1197
 27948 06:71CD: 88           	dey
 27949                        L1197:
 27950 06:71CE: 85 05        	sta	<R1
 27951 06:71D0: 84 07        	sty	<R1+2
 27952 06:71D2: D4 07        	pei	<R1+2
 27953 06:71D4: D4 05        	pei	<R1
 27954 06:71D6: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 27955                        ;				dx = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,bgcolor,BITMAP_FRONT);
 27956                        	.line	5353
 27957 06:71DA: F4 00 00     	pea	#<$0
 27958 06:71DD: D4 47        	pei	<L1169+bgcolor_0
 27959 06:71DF: D4 1F        	pei	<L1170+titleOffsetY_1
 27960 06:71E1: D4 1D        	pei	<L1170+titleOffsetX_1
 27961 06:71E3: D4 17        	pei	<L1170+caption_1+2
 27962 06:71E5: D4 15        	pei	<L1170+caption_1
 27963 06:71E7: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 27964 06:71EB: 85 13        	sta	<L1170+dx_1
 27965                        ;				if(chromeByte)
 27966                        	.line	5354
 27967                        ;				{
 27968 06:71ED: A5 29        	lda	<L1170+chromeByte_2
 27969 06:71EF: 29 FF 00     	and	#$ff
 27970 06:71F2: D0 03        	bne	L1198
 27971 06:71F4: 82 19 00     	brl	L10486
  Thu Jul 22 2021 22:51                                                Page 517


 27972                        L1198:
 27973                        	.line	5355
 27974                        ;					dx = k_draw_text
                    _point_ex("*",titleOffsetX + dx,titleOffsetY,bgcolor,BITMAP_
                    FRONT);
 27975                        	.line	5356
 27976 06:71F7: F4 00 00     	pea	#<$0
 27977 06:71FA: D4 47        	pei	<L1169+bgcolor_0
 27978 06:71FC: D4 1F        	pei	<L1170+titleOffsetY_1
 27979 06:71FE: 18           	clc
 27980 06:71FF: A5 1D        	lda	<L1170+titleOffsetX_1
 27981 06:7201: 65 13        	adc	<L1170+dx_1
 27982 06:7203: 48           	pha
 27983 06:7204: F4 xx xx     	pea	#^L1168+4
 27984 06:7207: F4 xx xx     	pea	#<L1168+4
 27985 06:720A: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 27986 06:720E: 85 13        	sta	<L1170+dx_1
 27987                        ;				}
 27988                        	.line	5357
 27989                        ;			}
 27990                        L10486:
 27991                        	.line	5358
 27992                        ;			else
 27993 06:7210: 82 36 00     	brl	L10487
 27994                        L10485:
 27995                        ;			{
 27996                        	.line	5360
 27997                        ;				dx = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,color,BITMAP_FRONT);
 27998                        	.line	5361
 27999 06:7213: F4 00 00     	pea	#<$0
 28000 06:7216: D4 45        	pei	<L1169+color_0
 28001 06:7218: D4 1F        	pei	<L1170+titleOffsetY_1
 28002 06:721A: D4 1D        	pei	<L1170+titleOffsetX_1
 28003 06:721C: D4 17        	pei	<L1170+caption_1+2
 28004 06:721E: D4 15        	pei	<L1170+caption_1
 28005 06:7220: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 28006 06:7224: 85 13        	sta	<L1170+dx_1
 28007                        ;				if(chromeByte)
 28008                        	.line	5362
 28009                        ;				{
 28010 06:7226: A5 29        	lda	<L1170+chromeByte_2
 28011 06:7228: 29 FF 00     	and	#$ff
 28012 06:722B: D0 03        	bne	L1199
 28013 06:722D: 82 19 00     	brl	L10488
 28014                        L1199:
 28015                        	.line	5363
 28016                        ;					dx = k_draw_text
                    _point_ex("*",titleOffsetX + dx,titleOffsetY,color,BITMAP_FR
                    ONT);
 28017                        	.line	5364
 28018 06:7230: F4 00 00     	pea	#<$0
 28019 06:7233: D4 45        	pei	<L1169+color_0
 28020 06:7235: D4 1F        	pei	<L1170+titleOffsetY_1
 28021 06:7237: 18           	clc
 28022 06:7238: A5 1D        	lda	<L1170+titleOffsetX_1
 28023 06:723A: 65 13        	adc	<L1170+dx_1
 28024 06:723C: 48           	pha
  Thu Jul 22 2021 22:51                                                Page 518


 28025 06:723D: F4 xx xx     	pea	#^L1168+6
 28026 06:7240: F4 xx xx     	pea	#<L1168+6
 28027 06:7243: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 28028 06:7247: 85 13        	sta	<L1170+dx_1
 28029                        ;				}
 28030                        	.line	5365
 28031                        ;
 28032                        ;			}
 28033                        L10488:
 28034                        	.line	5367
 28035                        L10487:
 28036                        ;		}
 28037                        	.line	5368
 28038                        L10484:
 28039                        ;		titleOffsetY+=(FONTH + 2);
 28040                        	.line	5369
 28041 06:7249: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 28042 06:724D: 85 01        	sta	<R0
 28043 06:724F: 18           	clc
 28044 06:7250: A5 01        	lda	<R0
 28045 06:7252: 65 1F        	adc	<L1170+titleOffsetY_1
 28046 06:7254: 85 05        	sta	<R1
 28047 06:7256: 18           	clc
 28048 06:7257: A9 02 00     	lda	#$2
 28049 06:725A: 65 05        	adc	<R1
 28050 06:725C: 85 1F        	sta	<L1170+titleOffsetY_1
 28051                        ;		i++;
 28052                        	.line	5370
 28053 06:725E: E6 11        	inc	<L1170+i_1
 28054                        ;		caption = captions[i];
 28055                        	.line	5371
 28056 06:7260: A0 00 00     	ldy	#$0
 28057 06:7263: A5 11        	lda	<L1170+i_1
 28058 06:7265: 10 01        	bpl	L1200
 28059 06:7267: 88           	dey
 28060                        L1200:
 28061 06:7268: 85 05        	sta	<R1
 28062 06:726A: 84 07        	sty	<R1+2
 28063 06:726C: D4 07        	pei	<R1+2
 28064 06:726E: D4 05        	pei	<R1
 28065 06:7270: A9 02 00     	lda	#$2
 28066                        	xref	~~~lasl
 28067 06:7273: 22 xx xx xx  	jsl	~~~lasl
 28068 06:7277: 85 01        	sta	<R0
 28069 06:7279: 86 03        	stx	<R0+2
 28070 06:727B: 18           	clc
 28071 06:727C: A5 3D        	lda	<L1169+captions_0
 28072 06:727E: 65 01        	adc	<R0
 28073 06:7280: 85 09        	sta	<R2
 28074 06:7282: A5 3F        	lda	<L1169+captions_0+2
 28075 06:7284: 65 03        	adc	<R0+2
 28076 06:7286: 85 0B        	sta	<R2+2
 28077 06:7288: A7 09        	lda	[<R2]
 28078 06:728A: 85 15        	sta	<L1170+caption_1
 28079 06:728C: A0 02 00     	ldy	#$2
 28080 06:728F: B7 09        	lda	[<R2],Y
 28081 06:7291: 85 17        	sta	<L1170+caption_1+2
 28082                        ;	}
  Thu Jul 22 2021 22:51                                                Page 519


 28083                        	.endblock	5372
 28084                        	.line	5372
 28085 06:7293: 82 91 FD     	brl	L10476
 28086                        L10477:
 28087                        ;
 28088                        ;	return NULL;
 28089                        	.line	5374
 28090 06:7296: A9 00 00     	lda	#$0
 28091 06:7299: AA           	tax
 28092 06:729A: A9 00 00     	lda	#$0
 28093                        L1201:
 28094 06:729D: A8           	tay
 28095 06:729E: A5 2B        	lda	<L1169+2
 28096 06:72A0: 85 47        	sta	<L1169+2+28
 28097 06:72A2: A5 2A        	lda	<L1169+1
 28098 06:72A4: 85 46        	sta	<L1169+1+28
 28099 06:72A6: 2B           	pld
 28100 06:72A7: 3B           	tsc
 28101 06:72A8: 18           	clc
 28102 06:72A9: 69 45 00     	adc	#L1169+28
 28103 06:72AC: 1B           	tcs
 28104 06:72AD: 98           	tya
 28105 06:72AE: 6B           	rtl
 28106                        ;
 28107                        ;}
 28108                        	.line	5376
 28109                        	.endblock	5376
 28110             00000029   L1169	equ	41
 28111             0000000D   L1170	equ	13
 28112 06:72AF:              	ends
 28113                        	efunc
 28114                        	.endfunc	5376,13,41
 28115                        	.line	5376
 28116                        	data
 28117                        L1168:
 28118 00:0C36: 2A 00 2A 00  	db	$2A,$00,$2A,$00,$2A,$00,$2A,$00
       00:0C3A: 2A 00 2A 00 
 28119 00:0C3E:              	ends
 28120                        ;
 28121                        ;PMENU k_create_context_menu_in_window(PWINDOW pWi
                    n,UINT selected,UINT unselected,
 28122                        ;		                              int cx,int
                     cy,int width,int height,
 28123                        ;							
                    		  char FAR **captions,int color, int bgcolor)
 28124                        ;{
 28125                        	.line	5378
 28126                        	.line	5381
 28127                        	GFX
 28128                        	xdef	~~k_create_context_menu_in_window
 28129                        	func
 28130                        	.function	5381
 28131                        ~~k_create_context_menu_in_window:
 28132                        	longa	on
 28133                        	longi	on
 28134 06:72AF: 3B           	tsc
 28135 06:72B0: 38           	sec
 28136 06:72B1: E9 28 00     	sbc	#L1203
  Thu Jul 22 2021 22:51                                                Page 520


 28137 06:72B4: 1B           	tcs
 28138 06:72B5: 0B           	phd
 28139 06:72B6: 5B           	tcd
 28140             00000004   pWin_0	set	4
 28141             00000008   selected_0	set	8
 28142             0000000A   unselected_0	set	10
 28143             0000000C   cx_0	set	12
 28144             0000000E   cy_0	set	14
 28145             00000010   width_0	set	16
 28146             00000012   height_0	set	18
 28147             00000014   captions_0	set	20
 28148             00000018   color_0	set	24
 28149             0000001A   bgcolor_0	set	26
 28150                        	.block	5381
 28151                        ;	FONTMETRIC metric;
 28152                        ;
 28153                        ;	int i = 0;
 28154                        ;	int hy = 0;
 28155                        ;	char FAR *caption = NULL;
 28156                        ;
 28157                        ;	int borderTitle = 10;
 28158                        ;	int borderWidth = 3;
 28159                        ;
 28160                        ;	int titleOffsetX = cx+4;
 28161                        ;	int titleOffsetY = cy+2;
 28162                        ;	int titleScaler = 0;
 28163                        ;
 28164                        ;	int clientOffsetX = cx+borderWidth+2;
 28165                        ;	int clientOffsetY = cy+borderTitle+1;
 28166                        ;
 28167                        ;	int endX = width + cx - borderWidth;
 28168                        ;
 28169                        ;
 28170                        ;	if(selected == -1 && unselected == -1)
 28171             00000000   metric_1	set	0
 28172             00000004   i_1	set	4
 28173             00000006   hy_1	set	6
 28174             00000008   caption_1	set	8
 28175             0000000C   borderTitle_1	set	12
 28176             0000000E   borderWidth_1	set	14
 28177             00000010   titleOffsetX_1	set	16
 28178             00000012   titleOffsetY_1	set	18
 28179             00000014   titleScaler_1	set	20
 28180             00000016   clientOffsetX_1	set	22
 28181             00000018   clientOffsetY_1	set	24
 28182             0000001A   endX_1	set	26
 28183                        	.sym	metric,0,10,1,32,35
 28184                        	.sym	i,4,5,1,16
 28185                        	.sym	hy,6,5,1,16
 28186                        	.sym	caption,8,142,1,32
 28187                        	.sym	borderTitle,12,5,1,16
 28188                        	.sym	borderWidth,14,5,1,16
 28189                        	.sym	titleOffsetX,16,5,1,16
 28190                        	.sym	titleOffsetY,18,5,1,16
 28191                        	.sym	titleScaler,20,5,1,16
 28192                        	.sym	clientOffsetX,22,5,1,16
 28193                        	.sym	clientOffsetY,24,5,1,16
 28194                        	.sym	endX,26,5,1,16
  Thu Jul 22 2021 22:51                                                Page 521


 28195                        	.sym	pWin,4,138,6,32,33
 28196                        	.sym	selected,8,16,6,16
 28197                        	.sym	unselected,10,16,6,16
 28198                        	.sym	cx,12,5,6,16
 28199                        	.sym	cy,14,5,6,16
 28200                        	.sym	width,16,5,6,16
 28201                        	.sym	height,18,5,6,16
 28202                        	.sym	captions,20,1166,6,32
 28203                        	.sym	color,24,5,6,16
 28204                        	.sym	bgcolor,26,5,6,16
 28205 06:72B7: 64 11        	stz	<L1204+i_1
 28206 06:72B9: 64 13        	stz	<L1204+hy_1
 28207 06:72BB: 64 15        	stz	<L1204+caption_1
 28208 06:72BD: 64 17        	stz	<L1204+caption_1+2
 28209 06:72BF: A9 0A 00     	lda	#$a
 28210 06:72C2: 85 19        	sta	<L1204+borderTitle_1
 28211 06:72C4: A9 03 00     	lda	#$3
 28212 06:72C7: 85 1B        	sta	<L1204+borderWidth_1
 28213 06:72C9: 18           	clc
 28214 06:72CA: A9 04 00     	lda	#$4
 28215 06:72CD: 65 34        	adc	<L1203+cx_0
 28216 06:72CF: 85 1D        	sta	<L1204+titleOffsetX_1
 28217 06:72D1: 18           	clc
 28218 06:72D2: A9 02 00     	lda	#$2
 28219 06:72D5: 65 36        	adc	<L1203+cy_0
 28220 06:72D7: 85 1F        	sta	<L1204+titleOffsetY_1
 28221 06:72D9: 64 21        	stz	<L1204+titleScaler_1
 28222 06:72DB: 18           	clc
 28223 06:72DC: A5 34        	lda	<L1203+cx_0
 28224 06:72DE: 65 1B        	adc	<L1204+borderWidth_1
 28225 06:72E0: 85 01        	sta	<R0
 28226 06:72E2: 18           	clc
 28227 06:72E3: A9 02 00     	lda	#$2
 28228 06:72E6: 65 01        	adc	<R0
 28229 06:72E8: 85 23        	sta	<L1204+clientOffsetX_1
 28230 06:72EA: 18           	clc
 28231 06:72EB: A5 36        	lda	<L1203+cy_0
 28232 06:72ED: 65 19        	adc	<L1204+borderTitle_1
 28233 06:72EF: 85 01        	sta	<R0
 28234 06:72F1: A5 01        	lda	<R0
 28235 06:72F3: 1A           	ina
 28236 06:72F4: 85 25        	sta	<L1204+clientOffsetY_1
 28237 06:72F6: 18           	clc
 28238 06:72F7: A5 38        	lda	<L1203+width_0
 28239 06:72F9: 65 34        	adc	<L1203+cx_0
 28240 06:72FB: 85 01        	sta	<R0
 28241 06:72FD: 38           	sec
 28242 06:72FE: A5 01        	lda	<R0
 28243 06:7300: E5 1B        	sbc	<L1204+borderWidth_1
 28244 06:7302: 85 27        	sta	<L1204+endX_1
 28245                        	.line	5401
 28246                        ;		k_vdma_fill_rect_ex(cx,cy,width,height,b
                    gcolor,BITMAP_FRONT);
 28247 06:7304: A5 30        	lda	<L1203+selected_0
 28248 06:7306: C9 FF FF     	cmp	#<$ffffffff
 28249 06:7309: F0 03        	beq	L1206
 28250 06:730B: 82 37 00     	brl	L10489
 28251                        L1206:
  Thu Jul 22 2021 22:51                                                Page 522


 28252 06:730E: A5 32        	lda	<L1203+unselected_0
 28253 06:7310: C9 FF FF     	cmp	#<$ffffffff
 28254 06:7313: F0 03        	beq	L1207
 28255 06:7315: 82 2D 00     	brl	L10489
 28256                        L1207:
 28257                        	.line	5402
 28258 06:7318: F4 00 00     	pea	#<$0
 28259 06:731B: D4 42        	pei	<L1203+bgcolor_0
 28260 06:731D: D4 3A        	pei	<L1203+height_0
 28261 06:731F: D4 38        	pei	<L1203+width_0
 28262 06:7321: A0 00 00     	ldy	#$0
 28263 06:7324: A5 36        	lda	<L1203+cy_0
 28264 06:7326: 10 01        	bpl	L1208
 28265 06:7328: 88           	dey
 28266                        L1208:
 28267 06:7329: 85 01        	sta	<R0
 28268 06:732B: 84 03        	sty	<R0+2
 28269 06:732D: D4 03        	pei	<R0+2
 28270 06:732F: D4 01        	pei	<R0
 28271 06:7331: A0 00 00     	ldy	#$0
 28272 06:7334: A5 34        	lda	<L1203+cx_0
 28273 06:7336: 10 01        	bpl	L1209
 28274 06:7338: 88           	dey
 28275                        L1209:
 28276 06:7339: 85 05        	sta	<R1
 28277 06:733B: 84 07        	sty	<R1+2
 28278 06:733D: D4 07        	pei	<R1+2
 28279 06:733F: D4 05        	pei	<R1
 28280 06:7341: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 28281                        ;
 28282                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 28283                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 28284                        ;	i = 0;
 28285                        L10489:
 28286                        	.line	5406
 28287 06:7345: 64 11        	stz	<L1204+i_1
 28288                        ;	caption = captions[i];
 28289                        	.line	5407
 28290 06:7347: A0 00 00     	ldy	#$0
 28291 06:734A: A5 11        	lda	<L1204+i_1
 28292 06:734C: 10 01        	bpl	L1210
 28293 06:734E: 88           	dey
 28294                        L1210:
 28295 06:734F: 85 05        	sta	<R1
 28296 06:7351: 84 07        	sty	<R1+2
 28297 06:7353: D4 07        	pei	<R1+2
 28298 06:7355: D4 05        	pei	<R1
 28299 06:7357: A9 02 00     	lda	#$2
 28300                        	xref	~~~lasl
 28301 06:735A: 22 xx xx xx  	jsl	~~~lasl
 28302 06:735E: 85 01        	sta	<R0
 28303 06:7360: 86 03        	stx	<R0+2
 28304 06:7362: 18           	clc
 28305 06:7363: A5 3C        	lda	<L1203+captions_0
 28306 06:7365: 65 01        	adc	<R0
 28307 06:7367: 85 09        	sta	<R2
  Thu Jul 22 2021 22:51                                                Page 523


 28308 06:7369: A5 3E        	lda	<L1203+captions_0+2
 28309 06:736B: 65 03        	adc	<R0+2
 28310 06:736D: 85 0B        	sta	<R2+2
 28311 06:736F: A7 09        	lda	[<R2]
 28312 06:7371: 85 15        	sta	<L1204+caption_1
 28313 06:7373: A0 02 00     	ldy	#$2
 28314 06:7376: B7 09        	lda	[<R2],Y
 28315 06:7378: 85 17        	sta	<L1204+caption_1+2
 28316                        ;	while(caption!=NULL)
 28317                        	.line	5408
 28318                        L10490:
 28319 06:737A: A5 15        	lda	<L1204+caption_1
 28320 06:737C: 05 17        	ora	<L1204+caption_1+2
 28321 06:737E: D0 03        	bne	L1211
 28322 06:7380: 82 A9 01     	brl	L10491
 28323                        L1211:
 28324                        ;	{
 28325                        	.line	5409
 28326                        ;		//k_debug_strings("k_create_context_menu
                    :caption:",caption);
 28327                        ;
 28328                        ;		//caption = strupr(caption);
 28329                        ;
 28330                        ;		if(selected!=-1 && unselected!=-1)
 28331                        	.line	5414
 28332                        ;		{
 28333 06:7383: A5 30        	lda	<L1203+selected_0
 28334 06:7385: C9 FF FF     	cmp	#<$ffffffff
 28335 06:7388: D0 03        	bne	L1212
 28336 06:738A: 82 D8 00     	brl	L10492
 28337                        L1212:
 28338 06:738D: A5 32        	lda	<L1203+unselected_0
 28339 06:738F: C9 FF FF     	cmp	#<$ffffffff
 28340 06:7392: D0 03        	bne	L1213
 28341 06:7394: 82 CE 00     	brl	L10492
 28342                        L1213:
 28343                        	.line	5415
 28344                        ;			if( i == selected && caption[0] 
                    != '_')
 28345                        	.line	5416
 28346                        ;			{
 28347 06:7397: A5 11        	lda	<L1204+i_1
 28348 06:7399: C5 30        	cmp	<L1203+selected_0
 28349 06:739B: F0 03        	beq	L1214
 28350 06:739D: 82 5E 00     	brl	L10493
 28351                        L1214:
 28352 06:73A0: E2 20        	sep	#$20
 28353                        	longa	off
 28354 06:73A2: A7 15        	lda	[<L1204+caption_1]
 28355 06:73A4: C9 5F        	cmp	#<$5f
 28356 06:73A6: C2 20        	rep	#$20
 28357                        	longa	on
 28358 06:73A8: D0 03        	bne	L1215
 28359 06:73AA: 82 51 00     	brl	L10493
 28360                        L1215:
 28361                        	.line	5417
 28362                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,color,BITMAP_FRON
  Thu Jul 22 2021 22:51                                                Page 524


                    T);
 28363                        	.line	5418
 28364 06:73AD: F4 00 00     	pea	#<$0
 28365 06:73B0: D4 40        	pei	<L1203+color_0
 28366 06:73B2: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 28367 06:73B6: 48           	pha
 28368 06:73B7: A0 10 00     	ldy	#$10
 28369 06:73BA: B7 2C        	lda	[<L1203+pWin_0],Y
 28370 06:73BC: 48           	pha
 28371 06:73BD: A0 00 00     	ldy	#$0
 28372 06:73C0: A5 1F        	lda	<L1204+titleOffsetY_1
 28373 06:73C2: 10 01        	bpl	L1216
 28374 06:73C4: 88           	dey
 28375                        L1216:
 28376 06:73C5: 85 01        	sta	<R0
 28377 06:73C7: 84 03        	sty	<R0+2
 28378 06:73C9: D4 03        	pei	<R0+2
 28379 06:73CB: D4 01        	pei	<R0
 28380 06:73CD: A0 00 00     	ldy	#$0
 28381 06:73D0: 5A           	phy
 28382 06:73D1: A0 0C 00     	ldy	#$c
 28383 06:73D4: B7 2C        	lda	[<L1203+pWin_0],Y
 28384 06:73D6: 7A           	ply
 28385 06:73D7: 2A           	rol	A
 28386 06:73D8: 6A           	ror	A
 28387 06:73D9: 10 01        	bpl	L1217
 28388 06:73DB: 88           	dey
 28389                        L1217:
 28390 06:73DC: 85 05        	sta	<R1
 28391 06:73DE: 84 07        	sty	<R1+2
 28392 06:73E0: D4 07        	pei	<R1+2
 28393 06:73E2: D4 05        	pei	<R1
 28394 06:73E4: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 28395                        ;				hy = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,bgcolor,BITMAP_FRONT);
 28396                        	.line	5419
 28397 06:73E8: F4 00 00     	pea	#<$0
 28398 06:73EB: D4 42        	pei	<L1203+bgcolor_0
 28399 06:73ED: D4 1F        	pei	<L1204+titleOffsetY_1
 28400 06:73EF: D4 1D        	pei	<L1204+titleOffsetX_1
 28401 06:73F1: D4 17        	pei	<L1204+caption_1+2
 28402 06:73F3: D4 15        	pei	<L1204+caption_1
 28403 06:73F5: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 28404 06:73F9: 85 13        	sta	<L1204+hy_1
 28405                        ;			}
 28406                        	.line	5420
 28407                        ;			else if( i == unselected && capt
                    ion[0] != '_')
 28408 06:73FB: 82 64 00     	brl	L10494
 28409                        L10493:
 28410                        	.line	5421
 28411                        ;			{
 28412 06:73FE: A5 11        	lda	<L1204+i_1
 28413 06:7400: C5 32        	cmp	<L1203+unselected_0
 28414 06:7402: F0 03        	beq	L1218
 28415 06:7404: 82 5B 00     	brl	L10495
 28416                        L1218:
 28417 06:7407: E2 20        	sep	#$20
  Thu Jul 22 2021 22:51                                                Page 525


 28418                        	longa	off
 28419 06:7409: A7 15        	lda	[<L1204+caption_1]
 28420 06:740B: C9 5F        	cmp	#<$5f
 28421 06:740D: C2 20        	rep	#$20
 28422                        	longa	on
 28423 06:740F: D0 03        	bne	L1219
 28424 06:7411: 82 4E 00     	brl	L10495
 28425                        L1219:
 28426                        	.line	5422
 28427                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,bgcolor,BITMAP_FR
                    ONT);
 28428                        	.line	5423
 28429 06:7414: F4 00 00     	pea	#<$0
 28430 06:7417: D4 42        	pei	<L1203+bgcolor_0
 28431 06:7419: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 28432 06:741D: 48           	pha
 28433 06:741E: A0 10 00     	ldy	#$10
 28434 06:7421: B7 2C        	lda	[<L1203+pWin_0],Y
 28435 06:7423: 48           	pha
 28436 06:7424: A0 00 00     	ldy	#$0
 28437 06:7427: A5 1F        	lda	<L1204+titleOffsetY_1
 28438 06:7429: 10 01        	bpl	L1220
 28439 06:742B: 88           	dey
 28440                        L1220:
 28441 06:742C: 85 01        	sta	<R0
 28442 06:742E: 84 03        	sty	<R0+2
 28443 06:7430: D4 03        	pei	<R0+2
 28444 06:7432: D4 01        	pei	<R0
 28445 06:7434: A0 00 00     	ldy	#$0
 28446 06:7437: 5A           	phy
 28447 06:7438: A0 0C 00     	ldy	#$c
 28448 06:743B: B7 2C        	lda	[<L1203+pWin_0],Y
 28449 06:743D: 7A           	ply
 28450 06:743E: 2A           	rol	A
 28451 06:743F: 6A           	ror	A
 28452 06:7440: 10 01        	bpl	L1221
 28453 06:7442: 88           	dey
 28454                        L1221:
 28455 06:7443: 85 05        	sta	<R1
 28456 06:7445: 84 07        	sty	<R1+2
 28457 06:7447: D4 07        	pei	<R1+2
 28458 06:7449: D4 05        	pei	<R1
 28459 06:744B: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 28460                        ;				hy = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,color,BITMAP_FRONT);
 28461                        	.line	5424
 28462 06:744F: F4 00 00     	pea	#<$0
 28463 06:7452: D4 40        	pei	<L1203+color_0
 28464 06:7454: D4 1F        	pei	<L1204+titleOffsetY_1
 28465 06:7456: D4 1D        	pei	<L1204+titleOffsetX_1
 28466 06:7458: D4 17        	pei	<L1204+caption_1+2
 28467 06:745A: D4 15        	pei	<L1204+caption_1
 28468 06:745C: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 28469 06:7460: 85 13        	sta	<L1204+hy_1
 28470                        ;			}
 28471                        	.line	5425
 28472                        ;
  Thu Jul 22 2021 22:51                                                Page 526


 28473                        ;		}
 28474                        L10495:
 28475                        L10494:
 28476                        	.line	5427
 28477                        ;		else
 28478 06:7462: 82 7A 00     	brl	L10496
 28479                        L10492:
 28480                        ;		{
 28481                        	.line	5429
 28482                        ;			if( i == selected && caption[0] 
                    != '_')
 28483                        	.line	5430
 28484                        ;			{
 28485 06:7465: A5 11        	lda	<L1204+i_1
 28486 06:7467: C5 30        	cmp	<L1203+selected_0
 28487 06:7469: F0 03        	beq	L1222
 28488 06:746B: 82 5E 00     	brl	L10497
 28489                        L1222:
 28490 06:746E: E2 20        	sep	#$20
 28491                        	longa	off
 28492 06:7470: A7 15        	lda	[<L1204+caption_1]
 28493 06:7472: C9 5F        	cmp	#<$5f
 28494 06:7474: C2 20        	rep	#$20
 28495                        	longa	on
 28496 06:7476: D0 03        	bne	L1223
 28497 06:7478: 82 51 00     	brl	L10497
 28498                        L1223:
 28499                        	.line	5431
 28500                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,color,BITMAP_FRON
                    T);
 28501                        	.line	5432
 28502 06:747B: F4 00 00     	pea	#<$0
 28503 06:747E: D4 40        	pei	<L1203+color_0
 28504 06:7480: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 28505 06:7484: 48           	pha
 28506 06:7485: A0 10 00     	ldy	#$10
 28507 06:7488: B7 2C        	lda	[<L1203+pWin_0],Y
 28508 06:748A: 48           	pha
 28509 06:748B: A0 00 00     	ldy	#$0
 28510 06:748E: A5 1F        	lda	<L1204+titleOffsetY_1
 28511 06:7490: 10 01        	bpl	L1224
 28512 06:7492: 88           	dey
 28513                        L1224:
 28514 06:7493: 85 01        	sta	<R0
 28515 06:7495: 84 03        	sty	<R0+2
 28516 06:7497: D4 03        	pei	<R0+2
 28517 06:7499: D4 01        	pei	<R0
 28518 06:749B: A0 00 00     	ldy	#$0
 28519 06:749E: 5A           	phy
 28520 06:749F: A0 0C 00     	ldy	#$c
 28521 06:74A2: B7 2C        	lda	[<L1203+pWin_0],Y
 28522 06:74A4: 7A           	ply
 28523 06:74A5: 2A           	rol	A
 28524 06:74A6: 6A           	ror	A
 28525 06:74A7: 10 01        	bpl	L1225
 28526 06:74A9: 88           	dey
 28527                        L1225:
  Thu Jul 22 2021 22:51                                                Page 527


 28528 06:74AA: 85 05        	sta	<R1
 28529 06:74AC: 84 07        	sty	<R1+2
 28530 06:74AE: D4 07        	pei	<R1+2
 28531 06:74B0: D4 05        	pei	<R1
 28532 06:74B2: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 28533                        ;				hy = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,bgcolor,BITMAP_FRONT);
 28534                        	.line	5433
 28535 06:74B6: F4 00 00     	pea	#<$0
 28536 06:74B9: D4 42        	pei	<L1203+bgcolor_0
 28537 06:74BB: D4 1F        	pei	<L1204+titleOffsetY_1
 28538 06:74BD: D4 1D        	pei	<L1204+titleOffsetX_1
 28539 06:74BF: D4 17        	pei	<L1204+caption_1+2
 28540 06:74C1: D4 15        	pei	<L1204+caption_1
 28541 06:74C3: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 28542 06:74C7: 85 13        	sta	<L1204+hy_1
 28543                        ;			}
 28544                        	.line	5434
 28545                        ;			else
 28546 06:74C9: 82 13 00     	brl	L10498
 28547                        L10497:
 28548                        ;			{
 28549                        	.line	5436
 28550                        ;				hy = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,color,BITMAP_FRONT);
 28551                        	.line	5437
 28552 06:74CC: F4 00 00     	pea	#<$0
 28553 06:74CF: D4 40        	pei	<L1203+color_0
 28554 06:74D1: D4 1F        	pei	<L1204+titleOffsetY_1
 28555 06:74D3: D4 1D        	pei	<L1204+titleOffsetX_1
 28556 06:74D5: D4 17        	pei	<L1204+caption_1+2
 28557 06:74D7: D4 15        	pei	<L1204+caption_1
 28558 06:74D9: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 28559 06:74DD: 85 13        	sta	<L1204+hy_1
 28560                        ;			}
 28561                        	.line	5438
 28562                        L10498:
 28563                        ;		}
 28564                        	.line	5439
 28565                        L10496:
 28566                        ;		titleOffsetY+=(FONTH + 2);
 28567                        	.line	5440
 28568 06:74DF: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 28569 06:74E3: 85 01        	sta	<R0
 28570 06:74E5: 18           	clc
 28571 06:74E6: A5 01        	lda	<R0
 28572 06:74E8: 65 1F        	adc	<L1204+titleOffsetY_1
 28573 06:74EA: 85 05        	sta	<R1
 28574 06:74EC: 18           	clc
 28575 06:74ED: A9 02 00     	lda	#$2
 28576 06:74F0: 65 05        	adc	<R1
 28577 06:74F2: 85 1F        	sta	<L1204+titleOffsetY_1
 28578                        ;		i++;
 28579                        	.line	5441
 28580 06:74F4: E6 11        	inc	<L1204+i_1
 28581                        ;		caption = captions[i];
 28582                        	.line	5442
 28583 06:74F6: A0 00 00     	ldy	#$0
  Thu Jul 22 2021 22:51                                                Page 528


 28584 06:74F9: A5 11        	lda	<L1204+i_1
 28585 06:74FB: 10 01        	bpl	L1226
 28586 06:74FD: 88           	dey
 28587                        L1226:
 28588 06:74FE: 85 05        	sta	<R1
 28589 06:7500: 84 07        	sty	<R1+2
 28590 06:7502: D4 07        	pei	<R1+2
 28591 06:7504: D4 05        	pei	<R1
 28592 06:7506: A9 02 00     	lda	#$2
 28593                        	xref	~~~lasl
 28594 06:7509: 22 xx xx xx  	jsl	~~~lasl
 28595 06:750D: 85 01        	sta	<R0
 28596 06:750F: 86 03        	stx	<R0+2
 28597 06:7511: 18           	clc
 28598 06:7512: A5 3C        	lda	<L1203+captions_0
 28599 06:7514: 65 01        	adc	<R0
 28600 06:7516: 85 09        	sta	<R2
 28601 06:7518: A5 3E        	lda	<L1203+captions_0+2
 28602 06:751A: 65 03        	adc	<R0+2
 28603 06:751C: 85 0B        	sta	<R2+2
 28604 06:751E: A7 09        	lda	[<R2]
 28605 06:7520: 85 15        	sta	<L1204+caption_1
 28606 06:7522: A0 02 00     	ldy	#$2
 28607 06:7525: B7 09        	lda	[<R2],Y
 28608 06:7527: 85 17        	sta	<L1204+caption_1+2
 28609                        ;	}
 28610                        	.line	5443
 28611 06:7529: 82 4E FE     	brl	L10490
 28612                        L10491:
 28613                        ;
 28614                        ;	return NULL;
 28615                        	.line	5445
 28616 06:752C: A9 00 00     	lda	#$0
 28617 06:752F: AA           	tax
 28618 06:7530: A9 00 00     	lda	#$0
 28619                        L1227:
 28620 06:7533: A8           	tay
 28621 06:7534: A5 2A        	lda	<L1203+2
 28622 06:7536: 85 42        	sta	<L1203+2+24
 28623 06:7538: A5 29        	lda	<L1203+1
 28624 06:753A: 85 41        	sta	<L1203+1+24
 28625 06:753C: 2B           	pld
 28626 06:753D: 3B           	tsc
 28627 06:753E: 18           	clc
 28628 06:753F: 69 40 00     	adc	#L1203+24
 28629 06:7542: 1B           	tcs
 28630 06:7543: 98           	tya
 28631 06:7544: 6B           	rtl
 28632                        ;
 28633                        ;}
 28634                        	.line	5447
 28635                        	.endblock	5447
 28636             00000028   L1203	equ	40
 28637             0000000D   L1204	equ	13
 28638 06:7545:              	ends
 28639                        	efunc
 28640                        	.endfunc	5447,13,40
 28641                        	.line	5447
  Thu Jul 22 2021 22:51                                                Page 529


 28642                        ;
 28643                        ;
 28644                        ;PMENU k_render_context_menu(PMENU menu)
 28645                        ;{
 28646                        	.line	5450
 28647                        	.line	5451
 28648                        	GFX
 28649                        	xdef	~~k_render_context_menu
 28650                        	func
 28651                        	.function	5451
 28652                        ~~k_render_context_menu:
 28653                        	longa	on
 28654                        	longi	on
 28655 06:7545: 3B           	tsc
 28656 06:7546: 38           	sec
 28657 06:7547: E9 2A 00     	sbc	#L1228
 28658 06:754A: 1B           	tcs
 28659 06:754B: 0B           	phd
 28660 06:754C: 5B           	tcd
 28661             00000004   menu_0	set	4
 28662                        	.block	5451
 28663                        ;	FONTMETRIC metric;
 28664                        ;
 28665                        ;	int i = 0;
 28666                        ;
 28667                        ;	int cx = menu->cx;
 28668                        ;	int cy = menu->cy;
 28669                        ;
 28670                        ;	char FAR *caption = NULL;
 28671                        ;
 28672                        ;	int borderTitle = 10;
 28673                        ;	int borderWidth = 3;
 28674                        ;
 28675                        ;	int titleOffsetX = cx+2;
 28676                        ;	int titleOffsetY = cy+2;
 28677                        ;	int titleScaler = 0;
 28678                        ;
 28679                        ;	int clientOffsetX = cx+borderWidth+2;
 28680                        ;	int clientOffsetY = cy+borderTitle+1;
 28681                        ;
 28682                        ;	int endX = menu->width + cx - borderWidth;
 28683                        ;
 28684                        ;
 28685                        ;/*
 28686                        ;	k_get_font_metrics(&metric);
 28687                        ;
 28688                        ;	height += metric.height + (int)(metric.width/4);
 28689                        ;
 28690                        ;	menu->cx = cx;
 28691                        ;	menu->cy = cy;
 28692                        ;	menu->height = height;
 28693                        ;	menu->width = width;
 28694                        ;
 28695                        ;	*/
 28696                        ;
 28697                        ;	k_vdma_fill_rect_ex(cx-1,cy,menu->width+1,menu->
                    height+1,0,BITMAP_FRONT);
 28698             00000000   metric_1	set	0
  Thu Jul 22 2021 22:51                                                Page 530


 28699             00000004   i_1	set	4
 28700             00000006   cx_1	set	6
 28701             00000008   cy_1	set	8
 28702             0000000A   caption_1	set	10
 28703             0000000E   borderTitle_1	set	14
 28704             00000010   borderWidth_1	set	16
 28705             00000012   titleOffsetX_1	set	18
 28706             00000014   titleOffsetY_1	set	20
 28707             00000016   titleScaler_1	set	22
 28708             00000018   clientOffsetX_1	set	24
 28709             0000001A   clientOffsetY_1	set	26
 28710             0000001C   endX_1	set	28
 28711                        	.sym	metric,0,10,1,32,35
 28712                        	.sym	i,4,5,1,16
 28713                        	.sym	cx,6,5,1,16
 28714                        	.sym	cy,8,5,1,16
 28715                        	.sym	caption,10,142,1,32
 28716                        	.sym	borderTitle,14,5,1,16
 28717                        	.sym	borderWidth,16,5,1,16
 28718                        	.sym	titleOffsetX,18,5,1,16
 28719                        	.sym	titleOffsetY,20,5,1,16
 28720                        	.sym	titleScaler,22,5,1,16
 28721                        	.sym	clientOffsetX,24,5,1,16
 28722                        	.sym	clientOffsetY,26,5,1,16
 28723                        	.sym	endX,28,5,1,16
 28724                        	.sym	menu,4,138,6,32,36
 28725 06:754D: 64 11        	stz	<L1229+i_1
 28726 06:754F: A7 2E        	lda	[<L1228+menu_0]
 28727 06:7551: 85 13        	sta	<L1229+cx_1
 28728 06:7553: A0 02 00     	ldy	#$2
 28729 06:7556: B7 2E        	lda	[<L1228+menu_0],Y
 28730 06:7558: 85 15        	sta	<L1229+cy_1
 28731 06:755A: 64 17        	stz	<L1229+caption_1
 28732 06:755C: 64 19        	stz	<L1229+caption_1+2
 28733 06:755E: A9 0A 00     	lda	#$a
 28734 06:7561: 85 1B        	sta	<L1229+borderTitle_1
 28735 06:7563: A9 03 00     	lda	#$3
 28736 06:7566: 85 1D        	sta	<L1229+borderWidth_1
 28737 06:7568: 18           	clc
 28738 06:7569: A9 02 00     	lda	#$2
 28739 06:756C: 65 13        	adc	<L1229+cx_1
 28740 06:756E: 85 1F        	sta	<L1229+titleOffsetX_1
 28741 06:7570: 18           	clc
 28742 06:7571: A9 02 00     	lda	#$2
 28743 06:7574: 65 15        	adc	<L1229+cy_1
 28744 06:7576: 85 21        	sta	<L1229+titleOffsetY_1
 28745 06:7578: 64 23        	stz	<L1229+titleScaler_1
 28746 06:757A: 18           	clc
 28747 06:757B: A5 13        	lda	<L1229+cx_1
 28748 06:757D: 65 1D        	adc	<L1229+borderWidth_1
 28749 06:757F: 85 01        	sta	<R0
 28750 06:7581: 18           	clc
 28751 06:7582: A9 02 00     	lda	#$2
 28752 06:7585: 65 01        	adc	<R0
 28753 06:7587: 85 25        	sta	<L1229+clientOffsetX_1
 28754 06:7589: 18           	clc
 28755 06:758A: A5 15        	lda	<L1229+cy_1
 28756 06:758C: 65 1B        	adc	<L1229+borderTitle_1
  Thu Jul 22 2021 22:51                                                Page 531


 28757 06:758E: 85 01        	sta	<R0
 28758 06:7590: A5 01        	lda	<R0
 28759 06:7592: 1A           	ina
 28760 06:7593: 85 27        	sta	<L1229+clientOffsetY_1
 28761 06:7595: 18           	clc
 28762 06:7596: A0 04 00     	ldy	#$4
 28763 06:7599: B7 2E        	lda	[<L1228+menu_0],Y
 28764 06:759B: 65 13        	adc	<L1229+cx_1
 28765 06:759D: 85 01        	sta	<R0
 28766 06:759F: 38           	sec
 28767 06:75A0: A5 01        	lda	<R0
 28768 06:75A2: E5 1D        	sbc	<L1229+borderWidth_1
 28769 06:75A4: 85 29        	sta	<L1229+endX_1
 28770                        	.line	5486
 28771 06:75A6: F4 00 00     	pea	#<$0
 28772 06:75A9: F4 00 00     	pea	#<$0
 28773 06:75AC: A0 06 00     	ldy	#$6
 28774 06:75AF: B7 2E        	lda	[<L1228+menu_0],Y
 28775 06:75B1: 1A           	ina
 28776 06:75B2: 48           	pha
 28777 06:75B3: A0 04 00     	ldy	#$4
 28778 06:75B6: B7 2E        	lda	[<L1228+menu_0],Y
 28779 06:75B8: 1A           	ina
 28780 06:75B9: 48           	pha
 28781 06:75BA: A0 00 00     	ldy	#$0
 28782 06:75BD: A5 15        	lda	<L1229+cy_1
 28783 06:75BF: 10 01        	bpl	L1231
 28784 06:75C1: 88           	dey
 28785                        L1231:
 28786 06:75C2: 85 01        	sta	<R0
 28787 06:75C4: 84 03        	sty	<R0+2
 28788 06:75C6: D4 03        	pei	<R0+2
 28789 06:75C8: D4 01        	pei	<R0
 28790 06:75CA: 18           	clc
 28791 06:75CB: A9 FF FF     	lda	#$ffff
 28792 06:75CE: 65 13        	adc	<L1229+cx_1
 28793 06:75D0: 85 05        	sta	<R1
 28794 06:75D2: A0 00 00     	ldy	#$0
 28795 06:75D5: A5 05        	lda	<R1
 28796 06:75D7: 10 01        	bpl	L1232
 28797 06:75D9: 88           	dey
 28798                        L1232:
 28799 06:75DA: 85 05        	sta	<R1
 28800 06:75DC: 84 07        	sty	<R1+2
 28801 06:75DE: D4 07        	pei	<R1+2
 28802 06:75E0: D4 05        	pei	<R1
 28803 06:75E2: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 28804                        ;	k_vdma_fill_rect_ex(cx,cy,menu->width,menu->heig
                    ht,menu->fcolor,BITMAP_FRONT);
 28805                        	.line	5487
 28806 06:75E6: F4 00 00     	pea	#<$0
 28807 06:75E9: A0 08 00     	ldy	#$8
 28808 06:75EC: B7 2E        	lda	[<L1228+menu_0],Y
 28809 06:75EE: 48           	pha
 28810 06:75EF: A0 06 00     	ldy	#$6
 28811 06:75F2: B7 2E        	lda	[<L1228+menu_0],Y
 28812 06:75F4: 48           	pha
 28813 06:75F5: A0 04 00     	ldy	#$4
  Thu Jul 22 2021 22:51                                                Page 532


 28814 06:75F8: B7 2E        	lda	[<L1228+menu_0],Y
 28815 06:75FA: 48           	pha
 28816 06:75FB: A0 00 00     	ldy	#$0
 28817 06:75FE: A5 15        	lda	<L1229+cy_1
 28818 06:7600: 10 01        	bpl	L1233
 28819 06:7602: 88           	dey
 28820                        L1233:
 28821 06:7603: 85 01        	sta	<R0
 28822 06:7605: 84 03        	sty	<R0+2
 28823 06:7607: D4 03        	pei	<R0+2
 28824 06:7609: D4 01        	pei	<R0
 28825 06:760B: A0 00 00     	ldy	#$0
 28826 06:760E: A5 13        	lda	<L1229+cx_1
 28827 06:7610: 10 01        	bpl	L1234
 28828 06:7612: 88           	dey
 28829                        L1234:
 28830 06:7613: 85 05        	sta	<R1
 28831 06:7615: 84 07        	sty	<R1+2
 28832 06:7617: D4 07        	pei	<R1+2
 28833 06:7619: D4 05        	pei	<R1
 28834 06:761B: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 28835                        ;
 28836                        ;	//k_delay(15);
 28837                        ;
 28838                        ;
 28839                        ;
 28840                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 28841                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 28842                        ;	i = 0;
 28843                        	.line	5495
 28844 06:761F: 64 11        	stz	<L1229+i_1
 28845                        ;	caption = ((LPCHAR*)menu->pCaption)[0];
 28846                        	.line	5496
 28847 06:7621: A0 13 00     	ldy	#$13
 28848 06:7624: B7 2E        	lda	[<L1228+menu_0],Y
 28849 06:7626: 85 01        	sta	<R0
 28850 06:7628: A0 15 00     	ldy	#$15
 28851 06:762B: B7 2E        	lda	[<L1228+menu_0],Y
 28852 06:762D: 85 03        	sta	<R0+2
 28853 06:762F: A7 01        	lda	[<R0]
 28854 06:7631: 85 17        	sta	<L1229+caption_1
 28855 06:7633: A0 02 00     	ldy	#$2
 28856 06:7636: B7 01        	lda	[<R0],Y
 28857 06:7638: 85 19        	sta	<L1229+caption_1+2
 28858                        ;	while(caption!=NULL)
 28859                        	.line	5497
 28860                        L10499:
 28861 06:763A: A5 17        	lda	<L1229+caption_1
 28862 06:763C: 05 19        	ora	<L1229+caption_1+2
 28863 06:763E: D0 03        	bne	L1235
 28864 06:7640: 82 65 00     	brl	L10500
 28865                        L1235:
 28866                        ;	{
 28867                        	.line	5498
 28868                        ;		//caption = strupr(caption);
 28869                        ;		k_draw_text_point_ex(caption,titleOffset
  Thu Jul 22 2021 22:51                                                Page 533


                    X,titleOffsetY,0,BITMAP_FRONT);
 28870                        	.line	5500
 28871 06:7643: F4 00 00     	pea	#<$0
 28872 06:7646: F4 00 00     	pea	#<$0
 28873 06:7649: D4 21        	pei	<L1229+titleOffsetY_1
 28874 06:764B: D4 1F        	pei	<L1229+titleOffsetX_1
 28875 06:764D: D4 19        	pei	<L1229+caption_1+2
 28876 06:764F: D4 17        	pei	<L1229+caption_1
 28877 06:7651: 22 1C 1F 06  	jsl	~~k_draw_text_point_ex
 28878                        ;		titleOffsetY+=(FONTH + 2);
 28879                        	.line	5501
 28880 06:7655: 22 F1 81 06  	jsl	~~k_font_getFontHeight
 28881 06:7659: 85 01        	sta	<R0
 28882 06:765B: 18           	clc
 28883 06:765C: A5 01        	lda	<R0
 28884 06:765E: 65 21        	adc	<L1229+titleOffsetY_1
 28885 06:7660: 85 05        	sta	<R1
 28886 06:7662: 18           	clc
 28887 06:7663: A9 02 00     	lda	#$2
 28888 06:7666: 65 05        	adc	<R1
 28889 06:7668: 85 21        	sta	<L1229+titleOffsetY_1
 28890                        ;		i++;
 28891                        	.line	5502
 28892 06:766A: E6 11        	inc	<L1229+i_1
 28893                        ;		caption = ((LPCHAR*)menu->pCaption)[i];
 28894                        	.line	5503
 28895 06:766C: A0 00 00     	ldy	#$0
 28896 06:766F: A5 11        	lda	<L1229+i_1
 28897 06:7671: 10 01        	bpl	L1236
 28898 06:7673: 88           	dey
 28899                        L1236:
 28900 06:7674: 85 05        	sta	<R1
 28901 06:7676: 84 07        	sty	<R1+2
 28902 06:7678: D4 07        	pei	<R1+2
 28903 06:767A: D4 05        	pei	<R1
 28904 06:767C: A9 02 00     	lda	#$2
 28905                        	xref	~~~lasl
 28906 06:767F: 22 xx xx xx  	jsl	~~~lasl
 28907 06:7683: 85 01        	sta	<R0
 28908 06:7685: 86 03        	stx	<R0+2
 28909 06:7687: 18           	clc
 28910 06:7688: A0 13 00     	ldy	#$13
 28911 06:768B: B7 2E        	lda	[<L1228+menu_0],Y
 28912 06:768D: 65 01        	adc	<R0
 28913 06:768F: 85 09        	sta	<R2
 28914 06:7691: A0 15 00     	ldy	#$15
 28915 06:7694: B7 2E        	lda	[<L1228+menu_0],Y
 28916 06:7696: 65 03        	adc	<R0+2
 28917 06:7698: 85 0B        	sta	<R2+2
 28918 06:769A: A7 09        	lda	[<R2]
 28919 06:769C: 85 17        	sta	<L1229+caption_1
 28920 06:769E: A0 02 00     	ldy	#$2
 28921 06:76A1: B7 09        	lda	[<R2],Y
 28922 06:76A3: 85 19        	sta	<L1229+caption_1+2
 28923                        ;	}
 28924                        	.line	5504
 28925 06:76A5: 82 92 FF     	brl	L10499
 28926                        L10500:
  Thu Jul 22 2021 22:51                                                Page 534


 28927                        ;
 28928                        ;	return menu;
 28929                        	.line	5506
 28930 06:76A8: A6 30        	ldx	<L1228+menu_0+2
 28931 06:76AA: A5 2E        	lda	<L1228+menu_0
 28932                        L1237:
 28933 06:76AC: A8           	tay
 28934 06:76AD: A5 2C        	lda	<L1228+2
 28935 06:76AF: 85 30        	sta	<L1228+2+4
 28936 06:76B1: A5 2B        	lda	<L1228+1
 28937 06:76B3: 85 2F        	sta	<L1228+1+4
 28938 06:76B5: 2B           	pld
 28939 06:76B6: 3B           	tsc
 28940 06:76B7: 18           	clc
 28941 06:76B8: 69 2E 00     	adc	#L1228+4
 28942 06:76BB: 1B           	tcs
 28943 06:76BC: 98           	tya
 28944 06:76BD: 6B           	rtl
 28945                        ;
 28946                        ;}
 28947                        	.line	5508
 28948                        	.endblock	5508
 28949             0000002A   L1228	equ	42
 28950             0000000D   L1229	equ	13
 28951 06:76BE:              	ends
 28952                        	efunc
 28953                        	.endfunc	5508,13,42
 28954                        	.line	5508
 28955                        ;
 28956                        ;void k_free_context_menu(PMENU pmenu,char fcolor,
                    char bcolor)
 28957                        ;{
 28958                        	.line	5510
 28959                        	.line	5511
 28960                        	GFX
 28961                        	xdef	~~k_free_context_menu
 28962                        	func
 28963                        	.function	5511
 28964                        ~~k_free_context_menu:
 28965                        	longa	on
 28966                        	longi	on
 28967 06:76BE: 3B           	tsc
 28968 06:76BF: 38           	sec
 28969 06:76C0: E9 08 00     	sbc	#L1238
 28970 06:76C3: 1B           	tcs
 28971 06:76C4: 0B           	phd
 28972 06:76C5: 5B           	tcd
 28973             00000004   pmenu_0	set	4
 28974             00000008   fcolor_0	set	8
 28975             0000000A   bcolor_0	set	10
 28976                        	.block	5511
 28977                        ;	if(pmenu)
 28978                        	.sym	pmenu,4,138,6,32,36
 28979                        	.sym	fcolor,8,14,6,8
 28980                        	.sym	bcolor,10,14,6,8
 28981                        	.line	5512
 28982                        ;	{
 28983 06:76C6: A5 0C        	lda	<L1238+pmenu_0
  Thu Jul 22 2021 22:51                                                Page 535


 28984 06:76C8: 05 0E        	ora	<L1238+pmenu_0+2
 28985 06:76CA: D0 03        	bne	L1241
 28986 06:76CC: 82 4E 00     	brl	L10501
 28987                        L1241:
 28988                        	.line	5513
 28989                        ;		k_vdma_fill_rect_ex(pmenu->cx-1,pmenu->c
                    y,pmenu->width+1,pmenu->height+1,bcolor,BITMAP_FRONT);
 28990                        	.line	5514
 28991 06:76CF: F4 00 00     	pea	#<$0
 28992 06:76D2: D4 12        	pei	<L1238+bcolor_0
 28993 06:76D4: A0 06 00     	ldy	#$6
 28994 06:76D7: B7 0C        	lda	[<L1238+pmenu_0],Y
 28995 06:76D9: 1A           	ina
 28996 06:76DA: 48           	pha
 28997 06:76DB: A0 04 00     	ldy	#$4
 28998 06:76DE: B7 0C        	lda	[<L1238+pmenu_0],Y
 28999 06:76E0: 1A           	ina
 29000 06:76E1: 48           	pha
 29001 06:76E2: A0 00 00     	ldy	#$0
 29002 06:76E5: 5A           	phy
 29003 06:76E6: A0 02 00     	ldy	#$2
 29004 06:76E9: B7 0C        	lda	[<L1238+pmenu_0],Y
 29005 06:76EB: 7A           	ply
 29006 06:76EC: 2A           	rol	A
 29007 06:76ED: 6A           	ror	A
 29008 06:76EE: 10 01        	bpl	L1242
 29009 06:76F0: 88           	dey
 29010                        L1242:
 29011 06:76F1: 85 01        	sta	<R0
 29012 06:76F3: 84 03        	sty	<R0+2
 29013 06:76F5: D4 03        	pei	<R0+2
 29014 06:76F7: D4 01        	pei	<R0
 29015 06:76F9: 18           	clc
 29016 06:76FA: A9 FF FF     	lda	#$ffff
 29017 06:76FD: 67 0C        	adc	[<L1238+pmenu_0]
 29018 06:76FF: 85 05        	sta	<R1
 29019 06:7701: A0 00 00     	ldy	#$0
 29020 06:7704: A5 05        	lda	<R1
 29021 06:7706: 10 01        	bpl	L1243
 29022 06:7708: 88           	dey
 29023                        L1243:
 29024 06:7709: 85 05        	sta	<R1
 29025 06:770B: 84 07        	sty	<R1+2
 29026 06:770D: D4 07        	pei	<R1+2
 29027 06:770F: D4 05        	pei	<R1
 29028 06:7711: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 29029                        ;		//k_vdma_fill_rect(pmenu->cx,pmenu->cy,p
                    menu->width,pmenu->height,bcolor);
 29030                        ;		k_mem_deallocate_heap(pmenu);
 29031                        	.line	5516
 29032 06:7715: D4 0E        	pei	<L1238+pmenu_0+2
 29033 06:7717: D4 0C        	pei	<L1238+pmenu_0
 29034 06:7719: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 29035                        ;	}
 29036                        	.line	5517
 29037                        ;}
 29038                        L10501:
 29039                        	.line	5518
  Thu Jul 22 2021 22:51                                                Page 536


 29040                        L1244:
 29041 06:771D: A5 0A        	lda	<L1238+2
 29042 06:771F: 85 12        	sta	<L1238+2+8
 29043 06:7721: A5 09        	lda	<L1238+1
 29044 06:7723: 85 11        	sta	<L1238+1+8
 29045 06:7725: 2B           	pld
 29046 06:7726: 3B           	tsc
 29047 06:7727: 18           	clc
 29048 06:7728: 69 10 00     	adc	#L1238+8
 29049 06:772B: 1B           	tcs
 29050 06:772C: 6B           	rtl
 29051                        	.endblock	5518
 29052             00000008   L1238	equ	8
 29053             00000009   L1239	equ	9
 29054 06:772D:              	ends
 29055                        	efunc
 29056                        	.endfunc	5518,9,8
 29057                        	.line	5518
 29058                        ;
 29059                        ;void k_bitblt(int x0, int y0, int width, int heig
                    ht, int x1, int y1)
 29060                        ;{
 29061                        	.line	5520
 29062                        	.line	5521
 29063                        	GFX
 29064                        	xdef	~~k_bitblt
 29065                        	func
 29066                        	.function	5521
 29067                        ~~k_bitblt:
 29068                        	longa	on
 29069                        	longi	on
 29070 06:772D: 3B           	tsc
 29071 06:772E: 38           	sec
 29072 06:772F: E9 20 00     	sbc	#L1245
 29073 06:7732: 1B           	tcs
 29074 06:7733: 0B           	phd
 29075 06:7734: 5B           	tcd
 29076             00000004   x0_0	set	4
 29077             00000006   y0_0	set	6
 29078             00000008   width_0	set	8
 29079             0000000A   height_0	set	10
 29080             0000000C   x1_0	set	12
 29081             0000000E   y1_0	set	14
 29082                        	.block	5521
 29083                        ;	long dy = 0L;
 29084                        ;	long dd = y1;
 29085                        ;	long pixelLocation0 = (long)(((long)y0 * 640L) +
                     (long)x0);
 29086                        ;	long pixelLocation1 = (long)(((long)y0 * 640L) +
                     (long)(x0 + width ));
 29087                        ;	long pixelLocationD = (long)(((long)y1 * 640L) +
                     (long)(x1));
 29088                        ;
 29089                        ;	long difference = pixelLocation1 - pixelLocation
                    0;
 29090                        ;
 29091                        ;	k_debug_long("pixelLocation0:",pixelLocation0);
 29092             00000000   dy_1	set	0
  Thu Jul 22 2021 22:51                                                Page 537


 29093             00000004   dd_1	set	4
 29094             00000008   pixelLocation0_1	set	8
 29095             0000000C   pixelLocation1_1	set	12
 29096             00000010   pixelLocationD_1	set	16
 29097             00000014   difference_1	set	20
 29098                        	.sym	dy,0,7,1,32
 29099                        	.sym	dd,4,7,1,32
 29100                        	.sym	pixelLocation0,8,7,1,32
 29101                        	.sym	pixelLocation1,12,7,1,32
 29102                        	.sym	pixelLocationD,16,7,1,32
 29103                        	.sym	difference,20,7,1,32
 29104                        	.sym	x0,4,5,6,16
 29105                        	.sym	y0,6,5,6,16
 29106                        	.sym	width,8,5,6,16
 29107                        	.sym	height,10,5,6,16
 29108                        	.sym	x1,12,5,6,16
 29109                        	.sym	y1,14,5,6,16
 29110 06:7735: 64 09        	stz	<L1246+dy_1
 29111 06:7737: 64 0B        	stz	<L1246+dy_1+2
 29112 06:7739: A0 00 00     	ldy	#$0
 29113 06:773C: A5 2E        	lda	<L1245+y1_0
 29114 06:773E: 10 01        	bpl	L1248
 29115 06:7740: 88           	dey
 29116                        L1248:
 29117 06:7741: 85 0D        	sta	<L1246+dd_1
 29118 06:7743: 84 0F        	sty	<L1246+dd_1+2
 29119 06:7745: A0 00 00     	ldy	#$0
 29120 06:7748: A5 24        	lda	<L1245+x0_0
 29121 06:774A: 10 01        	bpl	L1249
 29122 06:774C: 88           	dey
 29123                        L1249:
 29124 06:774D: 85 01        	sta	<R0
 29125 06:774F: 84 03        	sty	<R0+2
 29126 06:7751: A0 00 00     	ldy	#$0
 29127 06:7754: A5 26        	lda	<L1245+y0_0
 29128 06:7756: 10 01        	bpl	L1250
 29129 06:7758: 88           	dey
 29130                        L1250:
 29131 06:7759: 85 05        	sta	<R1
 29132 06:775B: 84 07        	sty	<R1+2
 29133 06:775D: F4 00 00     	pea	#^$280
 29134 06:7760: F4 80 02     	pea	#<$280
 29135 06:7763: D4 07        	pei	<R1+2
 29136 06:7765: D4 05        	pei	<R1
 29137                        	xref	~~~lmul
 29138 06:7767: 22 xx xx xx  	jsl	~~~lmul
 29139 06:776B: 85 05        	sta	<R1
 29140 06:776D: 86 07        	stx	<R1+2
 29141 06:776F: 18           	clc
 29142 06:7770: A5 05        	lda	<R1
 29143 06:7772: 65 01        	adc	<R0
 29144 06:7774: 85 11        	sta	<L1246+pixelLocation0_1
 29145 06:7776: A5 07        	lda	<R1+2
 29146 06:7778: 65 03        	adc	<R0+2
 29147 06:777A: 85 13        	sta	<L1246+pixelLocation0_1+2
 29148 06:777C: 18           	clc
 29149 06:777D: A5 24        	lda	<L1245+x0_0
 29150 06:777F: 65 28        	adc	<L1245+width_0
  Thu Jul 22 2021 22:51                                                Page 538


 29151 06:7781: 85 01        	sta	<R0
 29152 06:7783: A0 00 00     	ldy	#$0
 29153 06:7786: A5 01        	lda	<R0
 29154 06:7788: 10 01        	bpl	L1251
 29155 06:778A: 88           	dey
 29156                        L1251:
 29157 06:778B: 85 01        	sta	<R0
 29158 06:778D: 84 03        	sty	<R0+2
 29159 06:778F: A0 00 00     	ldy	#$0
 29160 06:7792: A5 26        	lda	<L1245+y0_0
 29161 06:7794: 10 01        	bpl	L1252
 29162 06:7796: 88           	dey
 29163                        L1252:
 29164 06:7797: 85 05        	sta	<R1
 29165 06:7799: 84 07        	sty	<R1+2
 29166 06:779B: F4 00 00     	pea	#^$280
 29167 06:779E: F4 80 02     	pea	#<$280
 29168 06:77A1: D4 07        	pei	<R1+2
 29169 06:77A3: D4 05        	pei	<R1
 29170                        	xref	~~~lmul
 29171 06:77A5: 22 xx xx xx  	jsl	~~~lmul
 29172 06:77A9: 85 05        	sta	<R1
 29173 06:77AB: 86 07        	stx	<R1+2
 29174 06:77AD: 18           	clc
 29175 06:77AE: A5 05        	lda	<R1
 29176 06:77B0: 65 01        	adc	<R0
 29177 06:77B2: 85 15        	sta	<L1246+pixelLocation1_1
 29178 06:77B4: A5 07        	lda	<R1+2
 29179 06:77B6: 65 03        	adc	<R0+2
 29180 06:77B8: 85 17        	sta	<L1246+pixelLocation1_1+2
 29181 06:77BA: A0 00 00     	ldy	#$0
 29182 06:77BD: A5 2C        	lda	<L1245+x1_0
 29183 06:77BF: 10 01        	bpl	L1253
 29184 06:77C1: 88           	dey
 29185                        L1253:
 29186 06:77C2: 85 01        	sta	<R0
 29187 06:77C4: 84 03        	sty	<R0+2
 29188 06:77C6: A0 00 00     	ldy	#$0
 29189 06:77C9: A5 2E        	lda	<L1245+y1_0
 29190 06:77CB: 10 01        	bpl	L1254
 29191 06:77CD: 88           	dey
 29192                        L1254:
 29193 06:77CE: 85 05        	sta	<R1
 29194 06:77D0: 84 07        	sty	<R1+2
 29195 06:77D2: F4 00 00     	pea	#^$280
 29196 06:77D5: F4 80 02     	pea	#<$280
 29197 06:77D8: D4 07        	pei	<R1+2
 29198 06:77DA: D4 05        	pei	<R1
 29199                        	xref	~~~lmul
 29200 06:77DC: 22 xx xx xx  	jsl	~~~lmul
 29201 06:77E0: 85 05        	sta	<R1
 29202 06:77E2: 86 07        	stx	<R1+2
 29203 06:77E4: 18           	clc
 29204 06:77E5: A5 05        	lda	<R1
 29205 06:77E7: 65 01        	adc	<R0
 29206 06:77E9: 85 19        	sta	<L1246+pixelLocationD_1
 29207 06:77EB: A5 07        	lda	<R1+2
 29208 06:77ED: 65 03        	adc	<R0+2
  Thu Jul 22 2021 22:51                                                Page 539


 29209 06:77EF: 85 1B        	sta	<L1246+pixelLocationD_1+2
 29210 06:77F1: 38           	sec
 29211 06:77F2: A5 15        	lda	<L1246+pixelLocation1_1
 29212 06:77F4: E5 11        	sbc	<L1246+pixelLocation0_1
 29213 06:77F6: 85 1D        	sta	<L1246+difference_1
 29214 06:77F8: A5 17        	lda	<L1246+pixelLocation1_1+2
 29215 06:77FA: E5 13        	sbc	<L1246+pixelLocation0_1+2
 29216 06:77FC: 85 1F        	sta	<L1246+difference_1+2
 29217                        	.line	5530
 29218 06:77FE: D4 13        	pei	<L1246+pixelLocation0_1+2
 29219 06:7800: D4 11        	pei	<L1246+pixelLocation0_1
 29220 06:7802: F4 xx xx     	pea	#^L1202
 29221 06:7805: F4 xx xx     	pea	#<L1202
 29222 06:7808: 22 xx xx xx  	jsl	~~k_debug_long
 29223                        ;	k_debug_long("pixelLocation1:",pixelLocation1);
 29224                        	.line	5531
 29225 06:780C: D4 17        	pei	<L1246+pixelLocation1_1+2
 29226 06:780E: D4 15        	pei	<L1246+pixelLocation1_1
 29227 06:7810: F4 xx xx     	pea	#^L1202+16
 29228 06:7813: F4 xx xx     	pea	#<L1202+16
 29229 06:7816: 22 xx xx xx  	jsl	~~k_debug_long
 29230                        ;	k_debug_long("pixelLocationD:",pixelLocationD);
 29231                        	.line	5532
 29232 06:781A: D4 1B        	pei	<L1246+pixelLocationD_1+2
 29233 06:781C: D4 19        	pei	<L1246+pixelLocationD_1
 29234 06:781E: F4 xx xx     	pea	#^L1202+32
 29235 06:7821: F4 xx xx     	pea	#<L1202+32
 29236 06:7824: 22 xx xx xx  	jsl	~~k_debug_long
 29237                        ;	k_debug_long("difference:",difference);
 29238                        	.line	5533
 29239 06:7828: D4 1F        	pei	<L1246+difference_1+2
 29240 06:782A: D4 1D        	pei	<L1246+difference_1
 29241 06:782C: F4 xx xx     	pea	#^L1202+48
 29242 06:782F: F4 xx xx     	pea	#<L1202+48
 29243 06:7832: 22 xx xx xx  	jsl	~~k_debug_long
 29244                        ;
 29245                        ;
 29246                        ;
 29247                        ;	for(dy = y0;dy<(y0 + height);dy++)
 29248                        	.line	5537
 29249 06:7836: A0 00 00     	ldy	#$0
 29250 06:7839: A5 26        	lda	<L1245+y0_0
 29251 06:783B: 10 01        	bpl	L1255
 29252 06:783D: 88           	dey
 29253                        L1255:
 29254 06:783E: 85 09        	sta	<L1246+dy_1
 29255 06:7840: 84 0B        	sty	<L1246+dy_1+2
 29256 06:7842: 82 8E 00     	brl	L10505
 29257                        L10504:
 29258                        ;	{
 29259                        	.line	5538
 29260                        ;		pixelLocation0 = (long)(((long)dy * 640L
                    ) + (long)x0);
 29261                        	.line	5539
 29262 06:7845: A0 00 00     	ldy	#$0
 29263 06:7848: A5 24        	lda	<L1245+x0_0
 29264 06:784A: 10 01        	bpl	L1256
 29265 06:784C: 88           	dey
  Thu Jul 22 2021 22:51                                                Page 540


 29266                        L1256:
 29267 06:784D: 85 01        	sta	<R0
 29268 06:784F: 84 03        	sty	<R0+2
 29269 06:7851: F4 00 00     	pea	#^$280
 29270 06:7854: F4 80 02     	pea	#<$280
 29271 06:7857: D4 0B        	pei	<L1246+dy_1+2
 29272 06:7859: D4 09        	pei	<L1246+dy_1
 29273                        	xref	~~~lmul
 29274 06:785B: 22 xx xx xx  	jsl	~~~lmul
 29275 06:785F: 85 05        	sta	<R1
 29276 06:7861: 86 07        	stx	<R1+2
 29277 06:7863: 18           	clc
 29278 06:7864: A5 05        	lda	<R1
 29279 06:7866: 65 01        	adc	<R0
 29280 06:7868: 85 11        	sta	<L1246+pixelLocation0_1
 29281 06:786A: A5 07        	lda	<R1+2
 29282 06:786C: 65 03        	adc	<R0+2
 29283 06:786E: 85 13        	sta	<L1246+pixelLocation0_1+2
 29284                        ;		pixelLocationD = (long)(((long)dd * 640L
                    ) + (long)(x1));
 29285                        	.line	5540
 29286 06:7870: A0 00 00     	ldy	#$0
 29287 06:7873: A5 2C        	lda	<L1245+x1_0
 29288 06:7875: 10 01        	bpl	L1257
 29289 06:7877: 88           	dey
 29290                        L1257:
 29291 06:7878: 85 01        	sta	<R0
 29292 06:787A: 84 03        	sty	<R0+2
 29293 06:787C: F4 00 00     	pea	#^$280
 29294 06:787F: F4 80 02     	pea	#<$280
 29295 06:7882: D4 0F        	pei	<L1246+dd_1+2
 29296 06:7884: D4 0D        	pei	<L1246+dd_1
 29297                        	xref	~~~lmul
 29298 06:7886: 22 xx xx xx  	jsl	~~~lmul
 29299 06:788A: 85 05        	sta	<R1
 29300 06:788C: 86 07        	stx	<R1+2
 29301 06:788E: 18           	clc
 29302 06:788F: A5 05        	lda	<R1
 29303 06:7891: 65 01        	adc	<R0
 29304 06:7893: 85 19        	sta	<L1246+pixelLocationD_1
 29305 06:7895: A5 07        	lda	<R1+2
 29306 06:7897: 65 03        	adc	<R0+2
 29307 06:7899: 85 1B        	sta	<L1246+pixelLocationD_1+2
 29308                        ;		memcpy(   &(((unsigned char FAR *)BITMAP
                    _BANK_0)[pixelLocationD])  , &(((unsigned char FAR *)BITMAP_
                    BANK_0)[pixelLocation0]), difference) ;
 29309                        	.line	5541
 29310 06:789B: D4 1D        	pei	<L1246+difference_1
 29311 06:789D: 18           	clc
 29312 06:789E: A9 00 00     	lda	#$0
 29313 06:78A1: 65 11        	adc	<L1246+pixelLocation0_1
 29314 06:78A3: 85 01        	sta	<R0
 29315 06:78A5: A9 B0 00     	lda	#$b0
 29316 06:78A8: 65 13        	adc	<L1246+pixelLocation0_1+2
 29317 06:78AA: 85 03        	sta	<R0+2
 29318 06:78AC: D4 03        	pei	<R0+2
 29319 06:78AE: D4 01        	pei	<R0
 29320 06:78B0: 18           	clc
  Thu Jul 22 2021 22:51                                                Page 541


 29321 06:78B1: A9 00 00     	lda	#$0
 29322 06:78B4: 65 19        	adc	<L1246+pixelLocationD_1
 29323 06:78B6: 85 05        	sta	<R1
 29324 06:78B8: A9 B0 00     	lda	#$b0
 29325 06:78BB: 65 1B        	adc	<L1246+pixelLocationD_1+2
 29326 06:78BD: 85 07        	sta	<R1+2
 29327 06:78BF: D4 07        	pei	<R1+2
 29328 06:78C1: D4 05        	pei	<R1
 29329 06:78C3: 22 xx xx xx  	jsl	~~memcpy
 29330                        ;
 29331                        ;		dd++;
 29332                        	.line	5543
 29333 06:78C7: E6 0D        	inc	<L1246+dd_1
 29334 06:78C9: D0 02        	bne	L1258
 29335 06:78CB: E6 0F        	inc	<L1246+dd_1+2
 29336                        L1258:
 29337                        ;	}
 29338                        	.line	5544
 29339                        L10502:
 29340 06:78CD: E6 09        	inc	<L1246+dy_1
 29341 06:78CF: D0 02        	bne	L1259
 29342 06:78D1: E6 0B        	inc	<L1246+dy_1+2
 29343                        L1259:
 29344                        L10505:
 29345 06:78D3: 18           	clc
 29346 06:78D4: A5 26        	lda	<L1245+y0_0
 29347 06:78D6: 65 2A        	adc	<L1245+height_0
 29348 06:78D8: 85 01        	sta	<R0
 29349 06:78DA: A0 00 00     	ldy	#$0
 29350 06:78DD: A5 01        	lda	<R0
 29351 06:78DF: 10 01        	bpl	L1260
 29352 06:78E1: 88           	dey
 29353                        L1260:
 29354 06:78E2: 85 01        	sta	<R0
 29355 06:78E4: 84 03        	sty	<R0+2
 29356 06:78E6: 38           	sec
 29357 06:78E7: A5 09        	lda	<L1246+dy_1
 29358 06:78E9: E5 01        	sbc	<R0
 29359 06:78EB: A5 0B        	lda	<L1246+dy_1+2
 29360 06:78ED: E5 03        	sbc	<R0+2
 29361 06:78EF: 70 03        	bvs	L1261
 29362 06:78F1: 49 00 80     	eor	#$8000
 29363                        L1261:
 29364 06:78F4: 30 03        	bmi	L1262
 29365 06:78F6: 82 4C FF     	brl	L10504
 29366                        L1262:
 29367                        L10503:
 29368                        ;
 29369                        ;}
 29370                        	.line	5546
 29371                        L1263:
 29372 06:78F9: A5 22        	lda	<L1245+2
 29373 06:78FB: 85 2E        	sta	<L1245+2+12
 29374 06:78FD: A5 21        	lda	<L1245+1
 29375 06:78FF: 85 2D        	sta	<L1245+1+12
 29376 06:7901: 2B           	pld
 29377 06:7902: 3B           	tsc
 29378 06:7903: 18           	clc
  Thu Jul 22 2021 22:51                                                Page 542


 29379 06:7904: 69 2C 00     	adc	#L1245+12
 29380 06:7907: 1B           	tcs
 29381 06:7908: 6B           	rtl
 29382                        	.endblock	5546
 29383             00000020   L1245	equ	32
 29384             00000009   L1246	equ	9
 29385 06:7909:              	ends
 29386                        	efunc
 29387                        	.endfunc	5546,9,32
 29388                        	.line	5546
 29389                        	data
 29390                        L1202:
 29391 00:0C3E: 70 69 78 65  	db	$70,$69,$78,$65,$6C,$4C,$6F,$63,$61,$74,
                    $69,$6F,$6E,$30,$3A
       00:0C42: 6C 4C 6F 63 
       00:0C46: 61 74 69 6F 
       00:0C4A: 6E 30 3A 
 29392 00:0C4D: 00 70 69 78  	db	$00,$70,$69,$78,$65,$6C,$4C,$6F,$63,$61,
                    $74,$69,$6F,$6E,$31
       00:0C51: 65 6C 4C 6F 
       00:0C55: 63 61 74 69 
       00:0C59: 6F 6E 31 
 29393 00:0C5C: 3A 00 70 69  	db	$3A,$00,$70,$69,$78,$65,$6C,$4C,$6F,$63,
                    $61,$74,$69,$6F,$6E
       00:0C60: 78 65 6C 4C 
       00:0C64: 6F 63 61 74 
       00:0C68: 69 6F 6E 
 29394 00:0C6B: 44 3A 00 64  	db	$44,$3A,$00,$64,$69,$66,$66,$65,$72,$65,
                    $6E,$63,$65,$3A,$00
       00:0C6F: 69 66 66 65 
       00:0C73: 72 65 6E 63 
       00:0C77: 65 3A 00 
 29395 00:0C7A:              	ends
 29396                        ;
 29397                        ;void k_memory_bitblt(LPCHAR srcBank,int x0, int y
                    0, int width, int height,LPCHAR destBank, int x1, int y1, in
                    t direction)
 29398                        ;{
 29399                        	.line	5548
 29400                        	.line	5549
 29401                        	GFX
 29402                        	xdef	~~k_memory_bitblt
 29403                        	func
 29404                        	.function	5549
 29405                        ~~k_memory_bitblt:
 29406                        	longa	on
 29407                        	longi	on
 29408 06:7909: 3B           	tsc
 29409 06:790A: 38           	sec
 29410 06:790B: E9 20 00     	sbc	#L1265
 29411 06:790E: 1B           	tcs
 29412 06:790F: 0B           	phd
 29413 06:7910: 5B           	tcd
 29414             00000004   srcBank_0	set	4
 29415             00000008   x0_0	set	8
 29416             0000000A   y0_0	set	10
 29417             0000000C   width_0	set	12
 29418             0000000E   height_0	set	14
  Thu Jul 22 2021 22:51                                                Page 543


 29419             00000010   destBank_0	set	16
 29420             00000014   x1_0	set	20
 29421             00000016   y1_0	set	22
 29422             00000018   direction_0	set	24
 29423                        	.block	5549
 29424                        ;	long dy = 0L;
 29425                        ;	long dd = y1;
 29426                        ;	long pixelLocation0 = (long)(((long)y0 * 640L) +
                     (long)x0);
 29427                        ;	long pixelLocation1 = (long)(((long)y0 * 640L) +
                     (long)(x0 + width ));
 29428                        ;	long pixelLocationD = (long)(((long)y1 * 640L) +
                     (long)(x1));
 29429                        ;
 29430                        ;	long difference = pixelLocation1 - pixelLocation
                    0;
 29431                        ;
 29432                        ;	k_debug_long("pixelLocation0:",pixelLocation0);
 29433             00000000   dy_1	set	0
 29434             00000004   dd_1	set	4
 29435             00000008   pixelLocation0_1	set	8
 29436             0000000C   pixelLocation1_1	set	12
 29437             00000010   pixelLocationD_1	set	16
 29438             00000014   difference_1	set	20
 29439                        	.sym	dy,0,7,1,32
 29440                        	.sym	dd,4,7,1,32
 29441                        	.sym	pixelLocation0,8,7,1,32
 29442                        	.sym	pixelLocation1,12,7,1,32
 29443                        	.sym	pixelLocationD,16,7,1,32
 29444                        	.sym	difference,20,7,1,32
 29445                        	.sym	srcBank,4,142,6,32
 29446                        	.sym	x0,8,5,6,16
 29447                        	.sym	y0,10,5,6,16
 29448                        	.sym	width,12,5,6,16
 29449                        	.sym	height,14,5,6,16
 29450                        	.sym	destBank,16,142,6,32
 29451                        	.sym	x1,20,5,6,16
 29452                        	.sym	y1,22,5,6,16
 29453                        	.sym	direction,24,5,6,16
 29454 06:7911: 64 09        	stz	<L1266+dy_1
 29455 06:7913: 64 0B        	stz	<L1266+dy_1+2
 29456 06:7915: A0 00 00     	ldy	#$0
 29457 06:7918: A5 36        	lda	<L1265+y1_0
 29458 06:791A: 10 01        	bpl	L1268
 29459 06:791C: 88           	dey
 29460                        L1268:
 29461 06:791D: 85 0D        	sta	<L1266+dd_1
 29462 06:791F: 84 0F        	sty	<L1266+dd_1+2
 29463 06:7921: A0 00 00     	ldy	#$0
 29464 06:7924: A5 28        	lda	<L1265+x0_0
 29465 06:7926: 10 01        	bpl	L1269
 29466 06:7928: 88           	dey
 29467                        L1269:
 29468 06:7929: 85 01        	sta	<R0
 29469 06:792B: 84 03        	sty	<R0+2
 29470 06:792D: A0 00 00     	ldy	#$0
 29471 06:7930: A5 2A        	lda	<L1265+y0_0
 29472 06:7932: 10 01        	bpl	L1270
  Thu Jul 22 2021 22:51                                                Page 544


 29473 06:7934: 88           	dey
 29474                        L1270:
 29475 06:7935: 85 05        	sta	<R1
 29476 06:7937: 84 07        	sty	<R1+2
 29477 06:7939: F4 00 00     	pea	#^$280
 29478 06:793C: F4 80 02     	pea	#<$280
 29479 06:793F: D4 07        	pei	<R1+2
 29480 06:7941: D4 05        	pei	<R1
 29481                        	xref	~~~lmul
 29482 06:7943: 22 xx xx xx  	jsl	~~~lmul
 29483 06:7947: 85 05        	sta	<R1
 29484 06:7949: 86 07        	stx	<R1+2
 29485 06:794B: 18           	clc
 29486 06:794C: A5 05        	lda	<R1
 29487 06:794E: 65 01        	adc	<R0
 29488 06:7950: 85 11        	sta	<L1266+pixelLocation0_1
 29489 06:7952: A5 07        	lda	<R1+2
 29490 06:7954: 65 03        	adc	<R0+2
 29491 06:7956: 85 13        	sta	<L1266+pixelLocation0_1+2
 29492 06:7958: 18           	clc
 29493 06:7959: A5 28        	lda	<L1265+x0_0
 29494 06:795B: 65 2C        	adc	<L1265+width_0
 29495 06:795D: 85 01        	sta	<R0
 29496 06:795F: A0 00 00     	ldy	#$0
 29497 06:7962: A5 01        	lda	<R0
 29498 06:7964: 10 01        	bpl	L1271
 29499 06:7966: 88           	dey
 29500                        L1271:
 29501 06:7967: 85 01        	sta	<R0
 29502 06:7969: 84 03        	sty	<R0+2
 29503 06:796B: A0 00 00     	ldy	#$0
 29504 06:796E: A5 2A        	lda	<L1265+y0_0
 29505 06:7970: 10 01        	bpl	L1272
 29506 06:7972: 88           	dey
 29507                        L1272:
 29508 06:7973: 85 05        	sta	<R1
 29509 06:7975: 84 07        	sty	<R1+2
 29510 06:7977: F4 00 00     	pea	#^$280
 29511 06:797A: F4 80 02     	pea	#<$280
 29512 06:797D: D4 07        	pei	<R1+2
 29513 06:797F: D4 05        	pei	<R1
 29514                        	xref	~~~lmul
 29515 06:7981: 22 xx xx xx  	jsl	~~~lmul
 29516 06:7985: 85 05        	sta	<R1
 29517 06:7987: 86 07        	stx	<R1+2
 29518 06:7989: 18           	clc
 29519 06:798A: A5 05        	lda	<R1
 29520 06:798C: 65 01        	adc	<R0
 29521 06:798E: 85 15        	sta	<L1266+pixelLocation1_1
 29522 06:7990: A5 07        	lda	<R1+2
 29523 06:7992: 65 03        	adc	<R0+2
 29524 06:7994: 85 17        	sta	<L1266+pixelLocation1_1+2
 29525 06:7996: A0 00 00     	ldy	#$0
 29526 06:7999: A5 34        	lda	<L1265+x1_0
 29527 06:799B: 10 01        	bpl	L1273
 29528 06:799D: 88           	dey
 29529                        L1273:
 29530 06:799E: 85 01        	sta	<R0
  Thu Jul 22 2021 22:51                                                Page 545


 29531 06:79A0: 84 03        	sty	<R0+2
 29532 06:79A2: A0 00 00     	ldy	#$0
 29533 06:79A5: A5 36        	lda	<L1265+y1_0
 29534 06:79A7: 10 01        	bpl	L1274
 29535 06:79A9: 88           	dey
 29536                        L1274:
 29537 06:79AA: 85 05        	sta	<R1
 29538 06:79AC: 84 07        	sty	<R1+2
 29539 06:79AE: F4 00 00     	pea	#^$280
 29540 06:79B1: F4 80 02     	pea	#<$280
 29541 06:79B4: D4 07        	pei	<R1+2
 29542 06:79B6: D4 05        	pei	<R1
 29543                        	xref	~~~lmul
 29544 06:79B8: 22 xx xx xx  	jsl	~~~lmul
 29545 06:79BC: 85 05        	sta	<R1
 29546 06:79BE: 86 07        	stx	<R1+2
 29547 06:79C0: 18           	clc
 29548 06:79C1: A5 05        	lda	<R1
 29549 06:79C3: 65 01        	adc	<R0
 29550 06:79C5: 85 19        	sta	<L1266+pixelLocationD_1
 29551 06:79C7: A5 07        	lda	<R1+2
 29552 06:79C9: 65 03        	adc	<R0+2
 29553 06:79CB: 85 1B        	sta	<L1266+pixelLocationD_1+2
 29554 06:79CD: 38           	sec
 29555 06:79CE: A5 15        	lda	<L1266+pixelLocation1_1
 29556 06:79D0: E5 11        	sbc	<L1266+pixelLocation0_1
 29557 06:79D2: 85 1D        	sta	<L1266+difference_1
 29558 06:79D4: A5 17        	lda	<L1266+pixelLocation1_1+2
 29559 06:79D6: E5 13        	sbc	<L1266+pixelLocation0_1+2
 29560 06:79D8: 85 1F        	sta	<L1266+difference_1+2
 29561                        	.line	5558
 29562 06:79DA: D4 13        	pei	<L1266+pixelLocation0_1+2
 29563 06:79DC: D4 11        	pei	<L1266+pixelLocation0_1
 29564 06:79DE: F4 xx xx     	pea	#^L1264
 29565 06:79E1: F4 xx xx     	pea	#<L1264
 29566 06:79E4: 22 xx xx xx  	jsl	~~k_debug_long
 29567                        ;	k_debug_long("pixelLocation1:",pixelLocation1);
 29568                        	.line	5559
 29569 06:79E8: D4 17        	pei	<L1266+pixelLocation1_1+2
 29570 06:79EA: D4 15        	pei	<L1266+pixelLocation1_1
 29571 06:79EC: F4 xx xx     	pea	#^L1264+16
 29572 06:79EF: F4 xx xx     	pea	#<L1264+16
 29573 06:79F2: 22 xx xx xx  	jsl	~~k_debug_long
 29574                        ;	k_debug_long("pixelLocationD:",pixelLocationD);
 29575                        	.line	5560
 29576 06:79F6: D4 1B        	pei	<L1266+pixelLocationD_1+2
 29577 06:79F8: D4 19        	pei	<L1266+pixelLocationD_1
 29578 06:79FA: F4 xx xx     	pea	#^L1264+32
 29579 06:79FD: F4 xx xx     	pea	#<L1264+32
 29580 06:7A00: 22 xx xx xx  	jsl	~~k_debug_long
 29581                        ;	k_debug_long("difference:",difference);
 29582                        	.line	5561
 29583 06:7A04: D4 1F        	pei	<L1266+difference_1+2
 29584 06:7A06: D4 1D        	pei	<L1266+difference_1
 29585 06:7A08: F4 xx xx     	pea	#^L1264+48
 29586 06:7A0B: F4 xx xx     	pea	#<L1264+48
 29587 06:7A0E: 22 xx xx xx  	jsl	~~k_debug_long
 29588                        ;
  Thu Jul 22 2021 22:51                                                Page 546


 29589                        ;	if(direction == BLT_DIR_TOPDOWN)
 29590                        	.line	5563
 29591                        ;	{
 29592 06:7A12: A5 38        	lda	<L1265+direction_0
 29593 06:7A14: C9 01 00     	cmp	#<$1
 29594 06:7A17: F0 03        	beq	L1275
 29595 06:7A19: 82 C2 00     	brl	L10506
 29596                        L1275:
 29597                        	.line	5564
 29598                        ;		for(dy = y0;dy<(y0 + height);dy++)
 29599                        	.line	5565
 29600 06:7A1C: A0 00 00     	ldy	#$0
 29601 06:7A1F: A5 2A        	lda	<L1265+y0_0
 29602 06:7A21: 10 01        	bpl	L1276
 29603 06:7A23: 88           	dey
 29604                        L1276:
 29605 06:7A24: 85 09        	sta	<L1266+dy_1
 29606 06:7A26: 84 0B        	sty	<L1266+dy_1+2
 29607 06:7A28: 82 8A 00     	brl	L10510
 29608                        L10509:
 29609                        ;		{
 29610                        	.line	5566
 29611                        ;			pixelLocation0 = (long)(((long)d
                    y * 640L) + (long)x0);
 29612                        	.line	5567
 29613 06:7A2B: A0 00 00     	ldy	#$0
 29614 06:7A2E: A5 28        	lda	<L1265+x0_0
 29615 06:7A30: 10 01        	bpl	L1277
 29616 06:7A32: 88           	dey
 29617                        L1277:
 29618 06:7A33: 85 01        	sta	<R0
 29619 06:7A35: 84 03        	sty	<R0+2
 29620 06:7A37: F4 00 00     	pea	#^$280
 29621 06:7A3A: F4 80 02     	pea	#<$280
 29622 06:7A3D: D4 0B        	pei	<L1266+dy_1+2
 29623 06:7A3F: D4 09        	pei	<L1266+dy_1
 29624                        	xref	~~~lmul
 29625 06:7A41: 22 xx xx xx  	jsl	~~~lmul
 29626 06:7A45: 85 05        	sta	<R1
 29627 06:7A47: 86 07        	stx	<R1+2
 29628 06:7A49: 18           	clc
 29629 06:7A4A: A5 05        	lda	<R1
 29630 06:7A4C: 65 01        	adc	<R0
 29631 06:7A4E: 85 11        	sta	<L1266+pixelLocation0_1
 29632 06:7A50: A5 07        	lda	<R1+2
 29633 06:7A52: 65 03        	adc	<R0+2
 29634 06:7A54: 85 13        	sta	<L1266+pixelLocation0_1+2
 29635                        ;			pixelLocationD = (long)(((long)d
                    d * 640L) + (long)(x1));
 29636                        	.line	5568
 29637 06:7A56: A0 00 00     	ldy	#$0
 29638 06:7A59: A5 34        	lda	<L1265+x1_0
 29639 06:7A5B: 10 01        	bpl	L1278
 29640 06:7A5D: 88           	dey
 29641                        L1278:
 29642 06:7A5E: 85 01        	sta	<R0
 29643 06:7A60: 84 03        	sty	<R0+2
 29644 06:7A62: F4 00 00     	pea	#^$280
  Thu Jul 22 2021 22:51                                                Page 547


 29645 06:7A65: F4 80 02     	pea	#<$280
 29646 06:7A68: D4 0F        	pei	<L1266+dd_1+2
 29647 06:7A6A: D4 0D        	pei	<L1266+dd_1
 29648                        	xref	~~~lmul
 29649 06:7A6C: 22 xx xx xx  	jsl	~~~lmul
 29650 06:7A70: 85 05        	sta	<R1
 29651 06:7A72: 86 07        	stx	<R1+2
 29652 06:7A74: 18           	clc
 29653 06:7A75: A5 05        	lda	<R1
 29654 06:7A77: 65 01        	adc	<R0
 29655 06:7A79: 85 19        	sta	<L1266+pixelLocationD_1
 29656 06:7A7B: A5 07        	lda	<R1+2
 29657 06:7A7D: 65 03        	adc	<R0+2
 29658 06:7A7F: 85 1B        	sta	<L1266+pixelLocationD_1+2
 29659                        ;			memcpy(   &(((unsigned char FAR 
                    *)destBank)[pixelLocationD])  , &(((unsigned char FAR *)srcB
                    ank)[pixelLocation0]), difference) ;
 29660                        	.line	5569
 29661 06:7A81: D4 1D        	pei	<L1266+difference_1
 29662 06:7A83: 18           	clc
 29663 06:7A84: A5 24        	lda	<L1265+srcBank_0
 29664 06:7A86: 65 11        	adc	<L1266+pixelLocation0_1
 29665 06:7A88: 85 01        	sta	<R0
 29666 06:7A8A: A5 26        	lda	<L1265+srcBank_0+2
 29667 06:7A8C: 65 13        	adc	<L1266+pixelLocation0_1+2
 29668 06:7A8E: 85 03        	sta	<R0+2
 29669 06:7A90: D4 03        	pei	<R0+2
 29670 06:7A92: D4 01        	pei	<R0
 29671 06:7A94: 18           	clc
 29672 06:7A95: A5 30        	lda	<L1265+destBank_0
 29673 06:7A97: 65 19        	adc	<L1266+pixelLocationD_1
 29674 06:7A99: 85 05        	sta	<R1
 29675 06:7A9B: A5 32        	lda	<L1265+destBank_0+2
 29676 06:7A9D: 65 1B        	adc	<L1266+pixelLocationD_1+2
 29677 06:7A9F: 85 07        	sta	<R1+2
 29678 06:7AA1: D4 07        	pei	<R1+2
 29679 06:7AA3: D4 05        	pei	<R1
 29680 06:7AA5: 22 xx xx xx  	jsl	~~memcpy
 29681                        ;
 29682                        ;			dd++;
 29683                        	.line	5571
 29684 06:7AA9: E6 0D        	inc	<L1266+dd_1
 29685 06:7AAB: D0 02        	bne	L1279
 29686 06:7AAD: E6 0F        	inc	<L1266+dd_1+2
 29687                        L1279:
 29688                        ;		}
 29689                        	.line	5572
 29690                        L10507:
 29691 06:7AAF: E6 09        	inc	<L1266+dy_1
 29692 06:7AB1: D0 02        	bne	L1280
 29693 06:7AB3: E6 0B        	inc	<L1266+dy_1+2
 29694                        L1280:
 29695                        L10510:
 29696 06:7AB5: 18           	clc
 29697 06:7AB6: A5 2A        	lda	<L1265+y0_0
 29698 06:7AB8: 65 2E        	adc	<L1265+height_0
 29699 06:7ABA: 85 01        	sta	<R0
 29700 06:7ABC: A0 00 00     	ldy	#$0
  Thu Jul 22 2021 22:51                                                Page 548


 29701 06:7ABF: A5 01        	lda	<R0
 29702 06:7AC1: 10 01        	bpl	L1281
 29703 06:7AC3: 88           	dey
 29704                        L1281:
 29705 06:7AC4: 85 01        	sta	<R0
 29706 06:7AC6: 84 03        	sty	<R0+2
 29707 06:7AC8: 38           	sec
 29708 06:7AC9: A5 09        	lda	<L1266+dy_1
 29709 06:7ACB: E5 01        	sbc	<R0
 29710 06:7ACD: A5 0B        	lda	<L1266+dy_1+2
 29711 06:7ACF: E5 03        	sbc	<R0+2
 29712 06:7AD1: 70 03        	bvs	L1282
 29713 06:7AD3: 49 00 80     	eor	#$8000
 29714                        L1282:
 29715 06:7AD6: 30 03        	bmi	L1283
 29716 06:7AD8: 82 50 FF     	brl	L10509
 29717                        L1283:
 29718                        L10508:
 29719                        ;	}
 29720                        	.line	5573
 29721                        ;	else
 29722 06:7ADB: 82 D6 00     	brl	L10511
 29723                        L10506:
 29724                        ;	{
 29725                        	.line	5575
 29726                        ;		dd = y1 + height;
 29727                        	.line	5576
 29728 06:7ADE: 18           	clc
 29729 06:7ADF: A5 36        	lda	<L1265+y1_0
 29730 06:7AE1: 65 2E        	adc	<L1265+height_0
 29731 06:7AE3: 85 01        	sta	<R0
 29732 06:7AE5: A0 00 00     	ldy	#$0
 29733 06:7AE8: A5 01        	lda	<R0
 29734 06:7AEA: 10 01        	bpl	L1284
 29735 06:7AEC: 88           	dey
 29736                        L1284:
 29737 06:7AED: 85 0D        	sta	<L1266+dd_1
 29738 06:7AEF: 84 0F        	sty	<L1266+dd_1+2
 29739                        ;		//for(dy = y0;dy<(y0 + height);dy++)
 29740                        ;		for(dy = (y0 + height);dy>y0;dy--)
 29741                        	.line	5578
 29742 06:7AF1: 18           	clc
 29743 06:7AF2: A5 2A        	lda	<L1265+y0_0
 29744 06:7AF4: 65 2E        	adc	<L1265+height_0
 29745 06:7AF6: 85 01        	sta	<R0
 29746 06:7AF8: A0 00 00     	ldy	#$0
 29747 06:7AFB: A5 01        	lda	<R0
 29748 06:7AFD: 10 01        	bpl	L1285
 29749 06:7AFF: 88           	dey
 29750                        L1285:
 29751 06:7B00: 85 09        	sta	<L1266+dy_1
 29752 06:7B02: 84 0B        	sty	<L1266+dy_1+2
 29753 06:7B04: 82 8E 00     	brl	L10515
 29754                        L10514:
 29755                        ;		{
 29756                        	.line	5579
 29757                        ;			pixelLocation0 = (long)(((long)d
                    y * 640L) + (long)x0);
  Thu Jul 22 2021 22:51                                                Page 549


 29758                        	.line	5580
 29759 06:7B07: A0 00 00     	ldy	#$0
 29760 06:7B0A: A5 28        	lda	<L1265+x0_0
 29761 06:7B0C: 10 01        	bpl	L1286
 29762 06:7B0E: 88           	dey
 29763                        L1286:
 29764 06:7B0F: 85 01        	sta	<R0
 29765 06:7B11: 84 03        	sty	<R0+2
 29766 06:7B13: F4 00 00     	pea	#^$280
 29767 06:7B16: F4 80 02     	pea	#<$280
 29768 06:7B19: D4 0B        	pei	<L1266+dy_1+2
 29769 06:7B1B: D4 09        	pei	<L1266+dy_1
 29770                        	xref	~~~lmul
 29771 06:7B1D: 22 xx xx xx  	jsl	~~~lmul
 29772 06:7B21: 85 05        	sta	<R1
 29773 06:7B23: 86 07        	stx	<R1+2
 29774 06:7B25: 18           	clc
 29775 06:7B26: A5 05        	lda	<R1
 29776 06:7B28: 65 01        	adc	<R0
 29777 06:7B2A: 85 11        	sta	<L1266+pixelLocation0_1
 29778 06:7B2C: A5 07        	lda	<R1+2
 29779 06:7B2E: 65 03        	adc	<R0+2
 29780 06:7B30: 85 13        	sta	<L1266+pixelLocation0_1+2
 29781                        ;			pixelLocationD = (long)(((long)d
                    d * 640L) + (long)(x1));
 29782                        	.line	5581
 29783 06:7B32: A0 00 00     	ldy	#$0
 29784 06:7B35: A5 34        	lda	<L1265+x1_0
 29785 06:7B37: 10 01        	bpl	L1287
 29786 06:7B39: 88           	dey
 29787                        L1287:
 29788 06:7B3A: 85 01        	sta	<R0
 29789 06:7B3C: 84 03        	sty	<R0+2
 29790 06:7B3E: F4 00 00     	pea	#^$280
 29791 06:7B41: F4 80 02     	pea	#<$280
 29792 06:7B44: D4 0F        	pei	<L1266+dd_1+2
 29793 06:7B46: D4 0D        	pei	<L1266+dd_1
 29794                        	xref	~~~lmul
 29795 06:7B48: 22 xx xx xx  	jsl	~~~lmul
 29796 06:7B4C: 85 05        	sta	<R1
 29797 06:7B4E: 86 07        	stx	<R1+2
 29798 06:7B50: 18           	clc
 29799 06:7B51: A5 05        	lda	<R1
 29800 06:7B53: 65 01        	adc	<R0
 29801 06:7B55: 85 19        	sta	<L1266+pixelLocationD_1
 29802 06:7B57: A5 07        	lda	<R1+2
 29803 06:7B59: 65 03        	adc	<R0+2
 29804 06:7B5B: 85 1B        	sta	<L1266+pixelLocationD_1+2
 29805                        ;			memcpy(   &(((unsigned char FAR 
                    *)destBank)[pixelLocationD])  , &(((unsigned char FAR *)srcB
                    ank)[pixelLocation0]), difference) ;
 29806                        	.line	5582
 29807 06:7B5D: D4 1D        	pei	<L1266+difference_1
 29808 06:7B5F: 18           	clc
 29809 06:7B60: A5 24        	lda	<L1265+srcBank_0
 29810 06:7B62: 65 11        	adc	<L1266+pixelLocation0_1
 29811 06:7B64: 85 01        	sta	<R0
 29812 06:7B66: A5 26        	lda	<L1265+srcBank_0+2
  Thu Jul 22 2021 22:51                                                Page 550


 29813 06:7B68: 65 13        	adc	<L1266+pixelLocation0_1+2
 29814 06:7B6A: 85 03        	sta	<R0+2
 29815 06:7B6C: D4 03        	pei	<R0+2
 29816 06:7B6E: D4 01        	pei	<R0
 29817 06:7B70: 18           	clc
 29818 06:7B71: A5 30        	lda	<L1265+destBank_0
 29819 06:7B73: 65 19        	adc	<L1266+pixelLocationD_1
 29820 06:7B75: 85 05        	sta	<R1
 29821 06:7B77: A5 32        	lda	<L1265+destBank_0+2
 29822 06:7B79: 65 1B        	adc	<L1266+pixelLocationD_1+2
 29823 06:7B7B: 85 07        	sta	<R1+2
 29824 06:7B7D: D4 07        	pei	<R1+2
 29825 06:7B7F: D4 05        	pei	<R1
 29826 06:7B81: 22 xx xx xx  	jsl	~~memcpy
 29827                        ;
 29828                        ;			dd--;
 29829                        	.line	5584
 29830 06:7B85: A5 0D        	lda	<L1266+dd_1
 29831 06:7B87: D0 02        	bne	L1288
 29832 06:7B89: C6 0F        	dec	<L1266+dd_1+2
 29833                        L1288:
 29834 06:7B8B: C6 0D        	dec	<L1266+dd_1
 29835                        ;		}
 29836                        	.line	5585
 29837                        L10512:
 29838 06:7B8D: A5 09        	lda	<L1266+dy_1
 29839 06:7B8F: D0 02        	bne	L1289
 29840 06:7B91: C6 0B        	dec	<L1266+dy_1+2
 29841                        L1289:
 29842 06:7B93: C6 09        	dec	<L1266+dy_1
 29843                        L10515:
 29844 06:7B95: A0 00 00     	ldy	#$0
 29845 06:7B98: A5 2A        	lda	<L1265+y0_0
 29846 06:7B9A: 10 01        	bpl	L1290
 29847 06:7B9C: 88           	dey
 29848                        L1290:
 29849 06:7B9D: 85 01        	sta	<R0
 29850 06:7B9F: 84 03        	sty	<R0+2
 29851 06:7BA1: 38           	sec
 29852 06:7BA2: A5 01        	lda	<R0
 29853 06:7BA4: E5 09        	sbc	<L1266+dy_1
 29854 06:7BA6: A5 03        	lda	<R0+2
 29855 06:7BA8: E5 0B        	sbc	<L1266+dy_1+2
 29856 06:7BAA: 70 03        	bvs	L1291
 29857 06:7BAC: 49 00 80     	eor	#$8000
 29858                        L1291:
 29859 06:7BAF: 30 03        	bmi	L1292
 29860 06:7BB1: 82 53 FF     	brl	L10514
 29861                        L1292:
 29862                        L10513:
 29863                        ;
 29864                        ;	}
 29865                        	.line	5587
 29866                        L10511:
 29867                        ;
 29868                        ;}
 29869                        	.line	5589
 29870                        L1293:
  Thu Jul 22 2021 22:51                                                Page 551


 29871 06:7BB4: A5 22        	lda	<L1265+2
 29872 06:7BB6: 85 38        	sta	<L1265+2+22
 29873 06:7BB8: A5 21        	lda	<L1265+1
 29874 06:7BBA: 85 37        	sta	<L1265+1+22
 29875 06:7BBC: 2B           	pld
 29876 06:7BBD: 3B           	tsc
 29877 06:7BBE: 18           	clc
 29878 06:7BBF: 69 36 00     	adc	#L1265+22
 29879 06:7BC2: 1B           	tcs
 29880 06:7BC3: 6B           	rtl
 29881                        	.endblock	5589
 29882             00000020   L1265	equ	32
 29883             00000009   L1266	equ	9
 29884 06:7BC4:              	ends
 29885                        	efunc
 29886                        	.endfunc	5589,9,32
 29887                        	.line	5589
 29888                        	data
 29889                        L1264:
 29890 00:0C7A: 70 69 78 65  	db	$70,$69,$78,$65,$6C,$4C,$6F,$63,$61,$74,
                    $69,$6F,$6E,$30,$3A
       00:0C7E: 6C 4C 6F 63 
       00:0C82: 61 74 69 6F 
       00:0C86: 6E 30 3A 
 29891 00:0C89: 00 70 69 78  	db	$00,$70,$69,$78,$65,$6C,$4C,$6F,$63,$61,
                    $74,$69,$6F,$6E,$31
       00:0C8D: 65 6C 4C 6F 
       00:0C91: 63 61 74 69 
       00:0C95: 6F 6E 31 
 29892 00:0C98: 3A 00 70 69  	db	$3A,$00,$70,$69,$78,$65,$6C,$4C,$6F,$63,
                    $61,$74,$69,$6F,$6E
       00:0C9C: 78 65 6C 4C 
       00:0CA0: 6F 63 61 74 
       00:0CA4: 69 6F 6E 
 29893 00:0CA7: 44 3A 00 64  	db	$44,$3A,$00,$64,$69,$66,$66,$65,$72,$65,
                    $6E,$63,$65,$3A,$00
       00:0CAB: 69 66 66 65 
       00:0CAF: 72 65 6E 63 
       00:0CB3: 65 3A 00 
 29894 00:0CB6:              	ends
 29895                        ;
 29896                        ;
 29897                        ;void k_shadow_fill_rect_address(LPCHAR bank,int x
                    0, int y0, int width, int height, UCHAR color)
 29898                        ;{
 29899                        	.line	5592
 29900                        	.line	5593
 29901                        	GFX
 29902                        	xdef	~~k_shadow_fill_rect_address
 29903                        	func
 29904                        	.function	5593
 29905                        ~~k_shadow_fill_rect_address:
 29906                        	longa	on
 29907                        	longi	on
 29908 06:7BC4: 3B           	tsc
 29909 06:7BC5: 38           	sec
 29910 06:7BC6: E9 2C 00     	sbc	#L1295
 29911 06:7BC9: 1B           	tcs
  Thu Jul 22 2021 22:51                                                Page 552


 29912 06:7BCA: 0B           	phd
 29913 06:7BCB: 5B           	tcd
 29914             00000004   bank_0	set	4
 29915             00000008   x0_0	set	8
 29916             0000000A   y0_0	set	10
 29917             0000000C   width_0	set	12
 29918             0000000E   height_0	set	14
 29919             00000010   color_0	set	16
 29920                        	.block	5593
 29921                        ;	LPCHAR ptr = NULL;
 29922                        ;	ULONG dx = 0L;
 29923                        ;	long dy = 0L;
 29924                        ;	long pixelLocation0 = 0L;
 29925                        ;	long pixelLocation1 = 0L;
 29926                        ;	long difference     = 0L;
 29927                        ;	long fIndex = 0;
 29928                        ;	long offset = 0L;
 29929                        ;
 29930                        ;	if(width > 640)
 29931             00000000   ptr_1	set	0
 29932             00000004   dx_1	set	4
 29933             00000008   dy_1	set	8
 29934             0000000C   pixelLocation0_1	set	12
 29935             00000010   pixelLocation1_1	set	16
 29936             00000014   difference_1	set	20
 29937             00000018   fIndex_1	set	24
 29938             0000001C   offset_1	set	28
 29939                        	.sym	ptr,0,142,1,32
 29940                        	.sym	dx,4,18,1,32
 29941                        	.sym	dy,8,7,1,32
 29942                        	.sym	pixelLocation0,12,7,1,32
 29943                        	.sym	pixelLocation1,16,7,1,32
 29944                        	.sym	difference,20,7,1,32
 29945                        	.sym	fIndex,24,7,1,32
 29946                        	.sym	offset,28,7,1,32
 29947                        	.sym	bank,4,142,6,32
 29948                        	.sym	x0,8,5,6,16
 29949                        	.sym	y0,10,5,6,16
 29950                        	.sym	width,12,5,6,16
 29951                        	.sym	height,14,5,6,16
 29952                        	.sym	color,16,14,6,8
 29953 06:7BCC: 64 0D        	stz	<L1296+ptr_1
 29954 06:7BCE: 64 0F        	stz	<L1296+ptr_1+2
 29955 06:7BD0: 64 11        	stz	<L1296+dx_1
 29956 06:7BD2: 64 13        	stz	<L1296+dx_1+2
 29957 06:7BD4: 64 15        	stz	<L1296+dy_1
 29958 06:7BD6: 64 17        	stz	<L1296+dy_1+2
 29959 06:7BD8: 64 19        	stz	<L1296+pixelLocation0_1
 29960 06:7BDA: 64 1B        	stz	<L1296+pixelLocation0_1+2
 29961 06:7BDC: 64 1D        	stz	<L1296+pixelLocation1_1
 29962 06:7BDE: 64 1F        	stz	<L1296+pixelLocation1_1+2
 29963 06:7BE0: 64 21        	stz	<L1296+difference_1
 29964 06:7BE2: 64 23        	stz	<L1296+difference_1+2
 29965 06:7BE4: 64 25        	stz	<L1296+fIndex_1
 29966 06:7BE6: 64 27        	stz	<L1296+fIndex_1+2
 29967 06:7BE8: 64 29        	stz	<L1296+offset_1
 29968 06:7BEA: 64 2B        	stz	<L1296+offset_1+2
 29969                        	.line	5603
  Thu Jul 22 2021 22:51                                                Page 553


 29970                        ;		width = 640;
 29971 06:7BEC: 38           	sec
 29972 06:7BED: A9 80 02     	lda	#$280
 29973 06:7BF0: E5 38        	sbc	<L1295+width_0
 29974 06:7BF2: 70 03        	bvs	L1298
 29975 06:7BF4: 49 00 80     	eor	#$8000
 29976                        L1298:
 29977 06:7BF7: 10 03        	bpl	L1299
 29978 06:7BF9: 82 05 00     	brl	L10516
 29979                        L1299:
 29980                        	.line	5604
 29981 06:7BFC: A9 80 02     	lda	#$280
 29982 06:7BFF: 85 38        	sta	<L1295+width_0
 29983                        ;	if(height > 480)
 29984                        L10516:
 29985                        	.line	5605
 29986                        ;		height = 480;
 29987 06:7C01: 38           	sec
 29988 06:7C02: A9 E0 01     	lda	#$1e0
 29989 06:7C05: E5 3A        	sbc	<L1295+height_0
 29990 06:7C07: 70 03        	bvs	L1300
 29991 06:7C09: 49 00 80     	eor	#$8000
 29992                        L1300:
 29993 06:7C0C: 10 03        	bpl	L1301
 29994 06:7C0E: 82 05 00     	brl	L10517
 29995                        L1301:
 29996                        	.line	5606
 29997 06:7C11: A9 E0 01     	lda	#$1e0
 29998 06:7C14: 85 3A        	sta	<L1295+height_0
 29999                        ;
 30000                        ;	if(width < 0)
 30001                        L10517:
 30002                        	.line	5608
 30003                        ;		width = 0;
 30004 06:7C16: A5 38        	lda	<L1295+width_0
 30005 06:7C18: 30 03        	bmi	L1302
 30006 06:7C1A: 82 02 00     	brl	L10518
 30007                        L1302:
 30008                        	.line	5609
 30009 06:7C1D: 64 38        	stz	<L1295+width_0
 30010                        ;	if(height < 0)
 30011                        L10518:
 30012                        	.line	5610
 30013                        ;		height = 0;
 30014 06:7C1F: A5 3A        	lda	<L1295+height_0
 30015 06:7C21: 30 03        	bmi	L1303
 30016 06:7C23: 82 02 00     	brl	L10519
 30017                        L1303:
 30018                        	.line	5611
 30019 06:7C26: 64 3A        	stz	<L1295+height_0
 30020                        ;
 30021                        ;
 30022                        ;	offset = ((long)y0 + (long)height);
 30023                        L10519:
 30024                        	.line	5614
 30025 06:7C28: A0 00 00     	ldy	#$0
 30026 06:7C2B: A5 3A        	lda	<L1295+height_0
 30027 06:7C2D: 10 01        	bpl	L1304
  Thu Jul 22 2021 22:51                                                Page 554


 30028 06:7C2F: 88           	dey
 30029                        L1304:
 30030 06:7C30: 85 01        	sta	<R0
 30031 06:7C32: 84 03        	sty	<R0+2
 30032 06:7C34: A0 00 00     	ldy	#$0
 30033 06:7C37: A5 36        	lda	<L1295+y0_0
 30034 06:7C39: 10 01        	bpl	L1305
 30035 06:7C3B: 88           	dey
 30036                        L1305:
 30037 06:7C3C: 85 05        	sta	<R1
 30038 06:7C3E: 84 07        	sty	<R1+2
 30039 06:7C40: 18           	clc
 30040 06:7C41: A5 05        	lda	<R1
 30041 06:7C43: 65 01        	adc	<R0
 30042 06:7C45: 85 29        	sta	<L1296+offset_1
 30043 06:7C47: A5 07        	lda	<R1+2
 30044 06:7C49: 65 03        	adc	<R0+2
 30045 06:7C4B: 85 2B        	sta	<L1296+offset_1+2
 30046                        ;
 30047                        ;	//pixelLocation0 = (ULONG)(((ULONG)y0 * 640L) + 
                    (ULONG)x0);
 30048                        ;	//pixelLocation1 = (ULONG)(((ULONG)y0 * 640L) + 
                    (ULONG)(x0 + width ));
 30049                        ;	//difference     = pixelLocation1 - pixelLocatio
                    n0;
 30050                        ;	difference     = width;
 30051                        	.line	5619
 30052 06:7C4D: A0 00 00     	ldy	#$0
 30053 06:7C50: A5 38        	lda	<L1295+width_0
 30054 06:7C52: 10 01        	bpl	L1306
 30055 06:7C54: 88           	dey
 30056                        L1306:
 30057 06:7C55: 85 21        	sta	<L1296+difference_1
 30058 06:7C57: 84 23        	sty	<L1296+difference_1+2
 30059                        ;
 30060                        ;	//difference = (long)(x0 + width);
 30061                        ;
 30062                        ;	/*
 30063                        ;	k_debug_long("k_shadow_fill_rect::width:",width)
                    ;
 30064                        ;	k_debug_long("k_shadow_fill_rect::height:",heigh
                    t);
 30065                        ;	k_debug_long("k_shadow_fill_rect::difference:",d
                    ifference);
 30066                        ;	k_debug_long("k_shadow_fill_rect::offset:",offse
                    t);
 30067                        ;	*/
 30068                        ;
 30069                        ;	for(dy = (long)y0;dy<offset;dy++)
 30070                        	.line	5630
 30071 06:7C59: A0 00 00     	ldy	#$0
 30072 06:7C5C: A5 36        	lda	<L1295+y0_0
 30073 06:7C5E: 10 01        	bpl	L1307
 30074 06:7C60: 88           	dey
 30075                        L1307:
 30076 06:7C61: 85 15        	sta	<L1296+dy_1
 30077 06:7C63: 84 17        	sty	<L1296+dy_1+2
 30078 06:7C65: 82 4E 00     	brl	L10523
  Thu Jul 22 2021 22:51                                                Page 555


 30079                        L10522:
 30080                        ;	{
 30081                        	.line	5631
 30082                        ;		//k_debug_long("k_shadow_fill_rect::dy:"
                    ,dy);
 30083                        ;		//for(dx=(long)x0;dx<difference;dx++)
 30084                        ;		//	SHADOW_BANK_0[(dy * 640L) + dx] 
                    = color;
 30085                        ;		//k_debug_long("k_shadow_fill_rect::dx:"
                    ,dx);
 30086                        ;
 30087                        ;		ptr = &( bank[(dy * 640L) + (long)x0] ) 
                    ;
 30088                        	.line	5637
 30089 06:7C68: A0 00 00     	ldy	#$0
 30090 06:7C6B: A5 34        	lda	<L1295+x0_0
 30091 06:7C6D: 10 01        	bpl	L1308
 30092 06:7C6F: 88           	dey
 30093                        L1308:
 30094 06:7C70: 85 01        	sta	<R0
 30095 06:7C72: 84 03        	sty	<R0+2
 30096 06:7C74: F4 00 00     	pea	#^$280
 30097 06:7C77: F4 80 02     	pea	#<$280
 30098 06:7C7A: D4 17        	pei	<L1296+dy_1+2
 30099 06:7C7C: D4 15        	pei	<L1296+dy_1
 30100                        	xref	~~~lmul
 30101 06:7C7E: 22 xx xx xx  	jsl	~~~lmul
 30102 06:7C82: 85 05        	sta	<R1
 30103 06:7C84: 86 07        	stx	<R1+2
 30104 06:7C86: 18           	clc
 30105 06:7C87: A5 05        	lda	<R1
 30106 06:7C89: 65 01        	adc	<R0
 30107 06:7C8B: 85 09        	sta	<R2
 30108 06:7C8D: A5 07        	lda	<R1+2
 30109 06:7C8F: 65 03        	adc	<R0+2
 30110 06:7C91: 85 0B        	sta	<R2+2
 30111 06:7C93: 18           	clc
 30112 06:7C94: A5 30        	lda	<L1295+bank_0
 30113 06:7C96: 65 09        	adc	<R2
 30114 06:7C98: 85 0D        	sta	<L1296+ptr_1
 30115 06:7C9A: A5 32        	lda	<L1295+bank_0+2
 30116 06:7C9C: 65 0B        	adc	<R2+2
 30117 06:7C9E: 85 0F        	sta	<L1296+ptr_1+2
 30118                        ;
 30119                        ;		//k_debug_pointer("k_shadow_fill_rect::p
                    tr:",ptr);
 30120                        ;		//pixelLocation0 = (ULONG)(((ULONG)dy * 
                    640L) + (ULONG)x0);
 30121                        ;		//k_debug_long("k_shadow_fill_rect::pixe
                    lLocation0:",pixelLocation0);
 30122                        ;		memset( ptr, color , difference ) ;
 30123                        	.line	5642
 30124 06:7CA0: D4 21        	pei	<L1296+difference_1
 30125 06:7CA2: A5 3C        	lda	<L1295+color_0
 30126 06:7CA4: 29 FF 00     	and	#$ff
 30127 06:7CA7: 48           	pha
 30128 06:7CA8: D4 0F        	pei	<L1296+ptr_1+2
 30129 06:7CAA: D4 0D        	pei	<L1296+ptr_1
  Thu Jul 22 2021 22:51                                                Page 556


 30130 06:7CAC: 22 xx xx xx  	jsl	~~memset
 30131                        ;		//for(fIndex=0;fIndex<difference;fIndex+
                    +)
 30132                        ;		//	ptr[fIndex] = color;
 30133                        ;	}
 30134                        	.line	5645
 30135                        L10520:
 30136 06:7CB0: E6 15        	inc	<L1296+dy_1
 30137 06:7CB2: D0 02        	bne	L1309
 30138 06:7CB4: E6 17        	inc	<L1296+dy_1+2
 30139                        L1309:
 30140                        L10523:
 30141 06:7CB6: 38           	sec
 30142 06:7CB7: A5 15        	lda	<L1296+dy_1
 30143 06:7CB9: E5 29        	sbc	<L1296+offset_1
 30144 06:7CBB: A5 17        	lda	<L1296+dy_1+2
 30145 06:7CBD: E5 2B        	sbc	<L1296+offset_1+2
 30146 06:7CBF: 70 03        	bvs	L1310
 30147 06:7CC1: 49 00 80     	eor	#$8000
 30148                        L1310:
 30149 06:7CC4: 30 03        	bmi	L1311
 30150 06:7CC6: 82 9F FF     	brl	L10522
 30151                        L1311:
 30152                        L10521:
 30153                        ;
 30154                        ;}
 30155                        	.line	5647
 30156                        L1312:
 30157 06:7CC9: A5 2E        	lda	<L1295+2
 30158 06:7CCB: 85 3C        	sta	<L1295+2+14
 30159 06:7CCD: A5 2D        	lda	<L1295+1
 30160 06:7CCF: 85 3B        	sta	<L1295+1+14
 30161 06:7CD1: 2B           	pld
 30162 06:7CD2: 3B           	tsc
 30163 06:7CD3: 18           	clc
 30164 06:7CD4: 69 3A 00     	adc	#L1295+14
 30165 06:7CD7: 1B           	tcs
 30166 06:7CD8: 6B           	rtl
 30167                        	.endblock	5647
 30168             0000002C   L1295	equ	44
 30169             0000000D   L1296	equ	13
 30170 06:7CD9:              	ends
 30171                        	efunc
 30172                        	.endfunc	5647,13,44
 30173                        	.line	5647
 30174                        ;
 30175                        ;void k_shadow_fill_rect(int x0, int y0, int width
                    , int height, UCHAR color)
 30176                        ;{
 30177                        	.line	5649
 30178                        	.line	5650
 30179                        	GFX
 30180                        	xdef	~~k_shadow_fill_rect
 30181                        	func
 30182                        	.function	5650
 30183                        ~~k_shadow_fill_rect:
 30184                        	longa	on
 30185                        	longi	on
  Thu Jul 22 2021 22:51                                                Page 557


 30186 06:7CD9: 3B           	tsc
 30187 06:7CDA: 38           	sec
 30188 06:7CDB: E9 00 00     	sbc	#L1313
 30189 06:7CDE: 1B           	tcs
 30190 06:7CDF: 0B           	phd
 30191 06:7CE0: 5B           	tcd
 30192             00000004   x0_0	set	4
 30193             00000006   y0_0	set	6
 30194             00000008   width_0	set	8
 30195             0000000A   height_0	set	10
 30196             0000000C   color_0	set	12
 30197                        	.block	5650
 30198                        ;	k_shadow_fill_rect_address(SHADOW_BANK_0,x0, y0,
                     width, height, color);
 30199                        	.sym	x0,4,5,6,16
 30200                        	.sym	y0,6,5,6,16
 30201                        	.sym	width,8,5,6,16
 30202                        	.sym	height,10,5,6,16
 30203                        	.sym	color,12,14,6,8
 30204                        	.line	5651
 30205 06:7CE1: D4 0C        	pei	<L1313+color_0
 30206 06:7CE3: D4 0A        	pei	<L1313+height_0
 30207 06:7CE5: D4 08        	pei	<L1313+width_0
 30208 06:7CE7: D4 06        	pei	<L1313+y0_0
 30209 06:7CE9: D4 04        	pei	<L1313+x0_0
 30210 06:7CEB: F4 0A 00     	pea	#^$a0000
 30211 06:7CEE: F4 00 00     	pea	#<$a0000
 30212 06:7CF1: 22 C4 7B 06  	jsl	~~k_shadow_fill_rect_address
 30213                        ;}
 30214                        	.line	5652
 30215                        L1316:
 30216 06:7CF5: A5 02        	lda	<L1313+2
 30217 06:7CF7: 85 0C        	sta	<L1313+2+10
 30218 06:7CF9: A5 01        	lda	<L1313+1
 30219 06:7CFB: 85 0B        	sta	<L1313+1+10
 30220 06:7CFD: 2B           	pld
 30221 06:7CFE: 3B           	tsc
 30222 06:7CFF: 18           	clc
 30223 06:7D00: 69 0A 00     	adc	#L1313+10
 30224 06:7D03: 1B           	tcs
 30225 06:7D04: 6B           	rtl
 30226                        	.endblock	5652
 30227             00000000   L1313	equ	0
 30228             00000001   L1314	equ	1
 30229 06:7D05:              	ends
 30230                        	efunc
 30231                        	.endfunc	5652,1,0
 30232                        	.line	5652
 30233                        ;
 30234                        ;/*
 30235                        ;void k_shadow_fill_rect(int x0, int y0, int width
                    , int height, UCHAR color)
 30236                        ;{
 30237                        ;	LPCHAR ptr = NULL;
 30238                        ;	ULONG dx = 0L;
 30239                        ;	long dy = 0L;
 30240                        ;	long pixelLocation0 = 0L;
 30241                        ;	long pixelLocation1 = 0L;
  Thu Jul 22 2021 22:51                                                Page 558


 30242                        ;	long difference     = 0L;
 30243                        ;	long fIndex = 0;
 30244                        ;	long offset = 0L;
 30245                        ;
 30246                        ;	if(width > 640)
 30247                        ;		width = 640;
 30248                        ;	if(height > 480)
 30249                        ;		height = 480;
 30250                        ;
 30251                        ;	if(width < 0)
 30252                        ;		width = 0;
 30253                        ;	if(height < 0)
 30254                        ;		height = 0;
 30255                        ;
 30256                        ;
 30257                        ;	offset = ((long)y0 + (long)height);
 30258                        ;
 30259                        ;	//pixelLocation0 = (ULONG)(((ULONG)y0 * 640L) + 
                    (ULONG)x0);
 30260                        ;	//pixelLocation1 = (ULONG)(((ULONG)y0 * 640L) + 
                    (ULONG)(x0 + width ));
 30261                        ;	//difference     = pixelLocation1 - pixelLocatio
                    n0;
 30262                        ;	difference     = width;
 30263                        ;
 30264                        ;	//difference = (long)(x0 + width);
 30265                        ;
 30266                        ;	//k_debug_long("k_shadow_fill_rect::width:",widt
                    h);
 30267                        ;	//k_debug_long("k_shadow_fill_rect::height:",hei
                    ght);
 30268                        ;	//k_debug_long("k_shadow_fill_rect::difference:"
                    ,difference);
 30269                        ;	//k_debug_long("k_shadow_fill_rect::offset:",off
                    set);
 30270                        ;
 30271                        ;
 30272                        ;	for(dy = (long)y0;dy<offset;dy++)
 30273                        ;	{
 30274                        ;		//k_debug_long("k_shadow_fill_rect::dy:"
                    ,dy);
 30275                        ;		//for(dx=(long)x0;dx<difference;dx++)
 30276                        ;		//	SHADOW_BANK_0[(dy * 640L) + dx] 
                    = color;
 30277                        ;		//k_debug_long("k_shadow_fill_rect::dx:"
                    ,dx);
 30278                        ;		ptr = &( SHADOW_BANK_0[(dy * 640L) + (lo
                    ng)x0] ) ;
 30279                        ;		//k_debug_pointer("k_shadow_fill_rect::p
                    tr:",ptr);
 30280                        ;		//pixelLocation0 = (ULONG)(((ULONG)dy * 
                    640L) + (ULONG)x0);
 30281                        ;		//k_debug_long("k_shadow_fill_rect::pixe
                    lLocation0:",pixelLocation0);
 30282                        ;		memset( ptr, color , difference ) ;
 30283                        ;		//for(fIndex=0;fIndex<difference;fIndex+
                    +)
 30284                        ;		//	ptr[fIndex] = color;
  Thu Jul 22 2021 22:51                                                Page 559


 30285                        ;	}
 30286                        ;
 30287                        ;}
 30288                        ;*/
 30289                        ;void k_shadow_bitblt(int x0, int y0, int width, i
                    nt height, int x1, int y1)
 30290                        ;{
 30291                        	.line	5709
 30292                        	.line	5710
 30293                        	GFX
 30294                        	xdef	~~k_shadow_bitblt
 30295                        	func
 30296                        	.function	5710
 30297                        ~~k_shadow_bitblt:
 30298                        	longa	on
 30299                        	longi	on
 30300 06:7D05: 3B           	tsc
 30301 06:7D06: 38           	sec
 30302 06:7D07: E9 20 00     	sbc	#L1317
 30303 06:7D0A: 1B           	tcs
 30304 06:7D0B: 0B           	phd
 30305 06:7D0C: 5B           	tcd
 30306             00000004   x0_0	set	4
 30307             00000006   y0_0	set	6
 30308             00000008   width_0	set	8
 30309             0000000A   height_0	set	10
 30310             0000000C   x1_0	set	12
 30311             0000000E   y1_0	set	14
 30312                        	.block	5710
 30313                        ;	long dy = 0L;
 30314                        ;	long dd = y1;
 30315                        ;
 30316                        ;	long pixelLocation0 = 0L;
 30317                        ;	long pixelLocation1 = 0L;
 30318                        ;	long pixelLocationD = 0L;
 30319                        ;	long difference     = 0L;
 30320                        ;
 30321                        ;	pixelLocation0 = (long)(((long)y0 * 640L) + (lon
                    g)x0);
 30322             00000000   dy_1	set	0
 30323             00000004   dd_1	set	4
 30324             00000008   pixelLocation0_1	set	8
 30325             0000000C   pixelLocation1_1	set	12
 30326             00000010   pixelLocationD_1	set	16
 30327             00000014   difference_1	set	20
 30328                        	.sym	dy,0,7,1,32
 30329                        	.sym	dd,4,7,1,32
 30330                        	.sym	pixelLocation0,8,7,1,32
 30331                        	.sym	pixelLocation1,12,7,1,32
 30332                        	.sym	pixelLocationD,16,7,1,32
 30333                        	.sym	difference,20,7,1,32
 30334                        	.sym	x0,4,5,6,16
 30335                        	.sym	y0,6,5,6,16
 30336                        	.sym	width,8,5,6,16
 30337                        	.sym	height,10,5,6,16
 30338                        	.sym	x1,12,5,6,16
 30339                        	.sym	y1,14,5,6,16
 30340 06:7D0D: 64 09        	stz	<L1318+dy_1
  Thu Jul 22 2021 22:51                                                Page 560


 30341 06:7D0F: 64 0B        	stz	<L1318+dy_1+2
 30342 06:7D11: A0 00 00     	ldy	#$0
 30343 06:7D14: A5 2E        	lda	<L1317+y1_0
 30344 06:7D16: 10 01        	bpl	L1320
 30345 06:7D18: 88           	dey
 30346                        L1320:
 30347 06:7D19: 85 0D        	sta	<L1318+dd_1
 30348 06:7D1B: 84 0F        	sty	<L1318+dd_1+2
 30349 06:7D1D: 64 11        	stz	<L1318+pixelLocation0_1
 30350 06:7D1F: 64 13        	stz	<L1318+pixelLocation0_1+2
 30351 06:7D21: 64 15        	stz	<L1318+pixelLocation1_1
 30352 06:7D23: 64 17        	stz	<L1318+pixelLocation1_1+2
 30353 06:7D25: 64 19        	stz	<L1318+pixelLocationD_1
 30354 06:7D27: 64 1B        	stz	<L1318+pixelLocationD_1+2
 30355 06:7D29: 64 1D        	stz	<L1318+difference_1
 30356 06:7D2B: 64 1F        	stz	<L1318+difference_1+2
 30357                        	.line	5719
 30358 06:7D2D: A0 00 00     	ldy	#$0
 30359 06:7D30: A5 24        	lda	<L1317+x0_0
 30360 06:7D32: 10 01        	bpl	L1321
 30361 06:7D34: 88           	dey
 30362                        L1321:
 30363 06:7D35: 85 01        	sta	<R0
 30364 06:7D37: 84 03        	sty	<R0+2
 30365 06:7D39: A0 00 00     	ldy	#$0
 30366 06:7D3C: A5 26        	lda	<L1317+y0_0
 30367 06:7D3E: 10 01        	bpl	L1322
 30368 06:7D40: 88           	dey
 30369                        L1322:
 30370 06:7D41: 85 05        	sta	<R1
 30371 06:7D43: 84 07        	sty	<R1+2
 30372 06:7D45: F4 00 00     	pea	#^$280
 30373 06:7D48: F4 80 02     	pea	#<$280
 30374 06:7D4B: D4 07        	pei	<R1+2
 30375 06:7D4D: D4 05        	pei	<R1
 30376                        	xref	~~~lmul
 30377 06:7D4F: 22 xx xx xx  	jsl	~~~lmul
 30378 06:7D53: 85 05        	sta	<R1
 30379 06:7D55: 86 07        	stx	<R1+2
 30380 06:7D57: 18           	clc
 30381 06:7D58: A5 05        	lda	<R1
 30382 06:7D5A: 65 01        	adc	<R0
 30383 06:7D5C: 85 11        	sta	<L1318+pixelLocation0_1
 30384 06:7D5E: A5 07        	lda	<R1+2
 30385 06:7D60: 65 03        	adc	<R0+2
 30386 06:7D62: 85 13        	sta	<L1318+pixelLocation0_1+2
 30387                        ;	//pixelLocation1 = (long)(((long)y0 * 640L) + (l
                    ong)(x0 + width ));
 30388                        ;	pixelLocationD = (long)(((long)y1 * 640L) + (lon
                    g)(x1));
 30389                        	.line	5721
 30390 06:7D64: A0 00 00     	ldy	#$0
 30391 06:7D67: A5 2C        	lda	<L1317+x1_0
 30392 06:7D69: 10 01        	bpl	L1323
 30393 06:7D6B: 88           	dey
 30394                        L1323:
 30395 06:7D6C: 85 01        	sta	<R0
 30396 06:7D6E: 84 03        	sty	<R0+2
  Thu Jul 22 2021 22:51                                                Page 561


 30397 06:7D70: A0 00 00     	ldy	#$0
 30398 06:7D73: A5 2E        	lda	<L1317+y1_0
 30399 06:7D75: 10 01        	bpl	L1324
 30400 06:7D77: 88           	dey
 30401                        L1324:
 30402 06:7D78: 85 05        	sta	<R1
 30403 06:7D7A: 84 07        	sty	<R1+2
 30404 06:7D7C: F4 00 00     	pea	#^$280
 30405 06:7D7F: F4 80 02     	pea	#<$280
 30406 06:7D82: D4 07        	pei	<R1+2
 30407 06:7D84: D4 05        	pei	<R1
 30408                        	xref	~~~lmul
 30409 06:7D86: 22 xx xx xx  	jsl	~~~lmul
 30410 06:7D8A: 85 05        	sta	<R1
 30411 06:7D8C: 86 07        	stx	<R1+2
 30412 06:7D8E: 18           	clc
 30413 06:7D8F: A5 05        	lda	<R1
 30414 06:7D91: 65 01        	adc	<R0
 30415 06:7D93: 85 19        	sta	<L1318+pixelLocationD_1
 30416 06:7D95: A5 07        	lda	<R1+2
 30417 06:7D97: 65 03        	adc	<R0+2
 30418 06:7D99: 85 1B        	sta	<L1318+pixelLocationD_1+2
 30419                        ;
 30420                        ;	difference = pixelLocation1 - pixelLocation0;
 30421                        	.line	5723
 30422 06:7D9B: 38           	sec
 30423 06:7D9C: A5 15        	lda	<L1318+pixelLocation1_1
 30424 06:7D9E: E5 11        	sbc	<L1318+pixelLocation0_1
 30425 06:7DA0: 85 1D        	sta	<L1318+difference_1
 30426 06:7DA2: A5 17        	lda	<L1318+pixelLocation1_1+2
 30427 06:7DA4: E5 13        	sbc	<L1318+pixelLocation0_1+2
 30428 06:7DA6: 85 1F        	sta	<L1318+difference_1+2
 30429                        ;
 30430                        ;	//k_debug_long("pixelLocation0:",pixelLocation0)
                    ;
 30431                        ;	//k_debug_long("pixelLocation1:",pixelLocation1)
                    ;
 30432                        ;	//k_debug_long("pixelLocationD:",pixelLocationD)
                    ;
 30433                        ;	//k_debug_long("difference:",difference);
 30434                        ;
 30435                        ;	y0++;
 30436                        	.line	5730
 30437 06:7DA8: E6 26        	inc	<L1317+y0_0
 30438                        ;	x0++;
 30439                        	.line	5731
 30440 06:7DAA: E6 24        	inc	<L1317+x0_0
 30441                        ;
 30442                        ;	for(dy = y0;dy<(y0 + height);dy++)
 30443                        	.line	5733
 30444 06:7DAC: A0 00 00     	ldy	#$0
 30445 06:7DAF: A5 26        	lda	<L1317+y0_0
 30446 06:7DB1: 10 01        	bpl	L1325
 30447 06:7DB3: 88           	dey
 30448                        L1325:
 30449 06:7DB4: 85 09        	sta	<L1318+dy_1
 30450 06:7DB6: 84 0B        	sty	<L1318+dy_1+2
 30451 06:7DB8: 82 8E 00     	brl	L10527
  Thu Jul 22 2021 22:51                                                Page 562


 30452                        L10526:
 30453                        ;	{
 30454                        	.line	5734
 30455                        ;		pixelLocation0 = (long)(((long)dy * 640L
                    ) + (long)x0);
 30456                        	.line	5735
 30457 06:7DBB: A0 00 00     	ldy	#$0
 30458 06:7DBE: A5 24        	lda	<L1317+x0_0
 30459 06:7DC0: 10 01        	bpl	L1326
 30460 06:7DC2: 88           	dey
 30461                        L1326:
 30462 06:7DC3: 85 01        	sta	<R0
 30463 06:7DC5: 84 03        	sty	<R0+2
 30464 06:7DC7: F4 00 00     	pea	#^$280
 30465 06:7DCA: F4 80 02     	pea	#<$280
 30466 06:7DCD: D4 0B        	pei	<L1318+dy_1+2
 30467 06:7DCF: D4 09        	pei	<L1318+dy_1
 30468                        	xref	~~~lmul
 30469 06:7DD1: 22 xx xx xx  	jsl	~~~lmul
 30470 06:7DD5: 85 05        	sta	<R1
 30471 06:7DD7: 86 07        	stx	<R1+2
 30472 06:7DD9: 18           	clc
 30473 06:7DDA: A5 05        	lda	<R1
 30474 06:7DDC: 65 01        	adc	<R0
 30475 06:7DDE: 85 11        	sta	<L1318+pixelLocation0_1
 30476 06:7DE0: A5 07        	lda	<R1+2
 30477 06:7DE2: 65 03        	adc	<R0+2
 30478 06:7DE4: 85 13        	sta	<L1318+pixelLocation0_1+2
 30479                        ;		pixelLocationD = (long)(((long)dd * 640L
                    ) + (long)x1);
 30480                        	.line	5736
 30481 06:7DE6: A0 00 00     	ldy	#$0
 30482 06:7DE9: A5 2C        	lda	<L1317+x1_0
 30483 06:7DEB: 10 01        	bpl	L1327
 30484 06:7DED: 88           	dey
 30485                        L1327:
 30486 06:7DEE: 85 01        	sta	<R0
 30487 06:7DF0: 84 03        	sty	<R0+2
 30488 06:7DF2: F4 00 00     	pea	#^$280
 30489 06:7DF5: F4 80 02     	pea	#<$280
 30490 06:7DF8: D4 0F        	pei	<L1318+dd_1+2
 30491 06:7DFA: D4 0D        	pei	<L1318+dd_1
 30492                        	xref	~~~lmul
 30493 06:7DFC: 22 xx xx xx  	jsl	~~~lmul
 30494 06:7E00: 85 05        	sta	<R1
 30495 06:7E02: 86 07        	stx	<R1+2
 30496 06:7E04: 18           	clc
 30497 06:7E05: A5 05        	lda	<R1
 30498 06:7E07: 65 01        	adc	<R0
 30499 06:7E09: 85 19        	sta	<L1318+pixelLocationD_1
 30500 06:7E0B: A5 07        	lda	<R1+2
 30501 06:7E0D: 65 03        	adc	<R0+2
 30502 06:7E0F: 85 1B        	sta	<L1318+pixelLocationD_1+2
 30503                        ;		memcpy(   &((BITMAP_BANK_0)[pixelLocatio
                    nD])  , &((SHADOW_BANK_0)[pixelLocation0]), difference) ;
 30504                        	.line	5737
 30505 06:7E11: D4 1D        	pei	<L1318+difference_1
 30506 06:7E13: 18           	clc
  Thu Jul 22 2021 22:51                                                Page 563


 30507 06:7E14: A9 00 00     	lda	#$0
 30508 06:7E17: 65 11        	adc	<L1318+pixelLocation0_1
 30509 06:7E19: 85 01        	sta	<R0
 30510 06:7E1B: A9 0A 00     	lda	#$a
 30511 06:7E1E: 65 13        	adc	<L1318+pixelLocation0_1+2
 30512 06:7E20: 85 03        	sta	<R0+2
 30513 06:7E22: D4 03        	pei	<R0+2
 30514 06:7E24: D4 01        	pei	<R0
 30515 06:7E26: 18           	clc
 30516 06:7E27: A9 00 00     	lda	#$0
 30517 06:7E2A: 65 19        	adc	<L1318+pixelLocationD_1
 30518 06:7E2C: 85 05        	sta	<R1
 30519 06:7E2E: A9 B0 00     	lda	#$b0
 30520 06:7E31: 65 1B        	adc	<L1318+pixelLocationD_1+2
 30521 06:7E33: 85 07        	sta	<R1+2
 30522 06:7E35: D4 07        	pei	<R1+2
 30523 06:7E37: D4 05        	pei	<R1
 30524 06:7E39: 22 xx xx xx  	jsl	~~memcpy
 30525                        ;
 30526                        ;		dd++;
 30527                        	.line	5739
 30528 06:7E3D: E6 0D        	inc	<L1318+dd_1
 30529 06:7E3F: D0 02        	bne	L1328
 30530 06:7E41: E6 0F        	inc	<L1318+dd_1+2
 30531                        L1328:
 30532                        ;	}
 30533                        	.line	5740
 30534                        L10524:
 30535 06:7E43: E6 09        	inc	<L1318+dy_1
 30536 06:7E45: D0 02        	bne	L1329
 30537 06:7E47: E6 0B        	inc	<L1318+dy_1+2
 30538                        L1329:
 30539                        L10527:
 30540 06:7E49: 18           	clc
 30541 06:7E4A: A5 26        	lda	<L1317+y0_0
 30542 06:7E4C: 65 2A        	adc	<L1317+height_0
 30543 06:7E4E: 85 01        	sta	<R0
 30544 06:7E50: A0 00 00     	ldy	#$0
 30545 06:7E53: A5 01        	lda	<R0
 30546 06:7E55: 10 01        	bpl	L1330
 30547 06:7E57: 88           	dey
 30548                        L1330:
 30549 06:7E58: 85 01        	sta	<R0
 30550 06:7E5A: 84 03        	sty	<R0+2
 30551 06:7E5C: 38           	sec
 30552 06:7E5D: A5 09        	lda	<L1318+dy_1
 30553 06:7E5F: E5 01        	sbc	<R0
 30554 06:7E61: A5 0B        	lda	<L1318+dy_1+2
 30555 06:7E63: E5 03        	sbc	<R0+2
 30556 06:7E65: 70 03        	bvs	L1331
 30557 06:7E67: 49 00 80     	eor	#$8000
 30558                        L1331:
 30559 06:7E6A: 30 03        	bmi	L1332
 30560 06:7E6C: 82 4C FF     	brl	L10526
 30561                        L1332:
 30562                        L10525:
 30563                        ;
 30564                        ;}
  Thu Jul 22 2021 22:51                                                Page 564


 30565                        	.line	5742
 30566                        L1333:
 30567 06:7E6F: A5 22        	lda	<L1317+2
 30568 06:7E71: 85 2E        	sta	<L1317+2+12
 30569 06:7E73: A5 21        	lda	<L1317+1
 30570 06:7E75: 85 2D        	sta	<L1317+1+12
 30571 06:7E77: 2B           	pld
 30572 06:7E78: 3B           	tsc
 30573 06:7E79: 18           	clc
 30574 06:7E7A: 69 2C 00     	adc	#L1317+12
 30575 06:7E7D: 1B           	tcs
 30576 06:7E7E: 6B           	rtl
 30577                        	.endblock	5742
 30578             00000020   L1317	equ	32
 30579             00000009   L1318	equ	9
 30580 06:7E7F:              	ends
 30581                        	efunc
 30582                        	.endfunc	5742,9,32
 30583                        	.line	5742
 30584                        ;
 30585                        ;void k_scratch_save_bitblt(int x0, int y0, int wi
                    dth, int height, int x1, int y1)
 30586                        ;{
 30587                        	.line	5744
 30588                        	.line	5745
 30589                        	GFX
 30590                        	xdef	~~k_scratch_save_bitblt
 30591                        	func
 30592                        	.function	5745
 30593                        ~~k_scratch_save_bitblt:
 30594                        	longa	on
 30595                        	longi	on
 30596 06:7E7F: 3B           	tsc
 30597 06:7E80: 38           	sec
 30598 06:7E81: E9 20 00     	sbc	#L1334
 30599 06:7E84: 1B           	tcs
 30600 06:7E85: 0B           	phd
 30601 06:7E86: 5B           	tcd
 30602             00000004   x0_0	set	4
 30603             00000006   y0_0	set	6
 30604             00000008   width_0	set	8
 30605             0000000A   height_0	set	10
 30606             0000000C   x1_0	set	12
 30607             0000000E   y1_0	set	14
 30608                        	.block	5745
 30609                        ;	long dy = 0L;
 30610                        ;	long dd = y1;
 30611                        ;	long pixelLocation0 = (long)(((long)y0 * 640L) +
                     (long)x0);
 30612                        ;	long pixelLocation1 = (long)(((long)y0 * 640L) +
                     (long)(x0 + width ));
 30613                        ;	long pixelLocationD = (long)(((long)y1 * 640L) +
                     (long)(x1));
 30614                        ;
 30615                        ;	long difference = width;//pixelLocation1 - pixel
                    Location0 + 1;
 30616                        ;
 30617                        ;	//k_debug_long("pixelLocation0:",pixelLocation0)
  Thu Jul 22 2021 22:51                                                Page 565


                    ;
 30618                        ;	//k_debug_long("pixelLocation1:",pixelLocation1)
                    ;
 30619                        ;	//k_debug_long("pixelLocationD:",pixelLocationD)
                    ;
 30620                        ;	//k_debug_long("difference:",difference);
 30621                        ;
 30622                        ;
 30623                        ;
 30624                        ;	for(dy = y0;dy<(y0 + height);dy++)
 30625             00000000   dy_1	set	0
 30626             00000004   dd_1	set	4
 30627             00000008   pixelLocation0_1	set	8
 30628             0000000C   pixelLocation1_1	set	12
 30629             00000010   pixelLocationD_1	set	16
 30630             00000014   difference_1	set	20
 30631                        	.sym	dy,0,7,1,32
 30632                        	.sym	dd,4,7,1,32
 30633                        	.sym	pixelLocation0,8,7,1,32
 30634                        	.sym	pixelLocation1,12,7,1,32
 30635                        	.sym	pixelLocationD,16,7,1,32
 30636                        	.sym	difference,20,7,1,32
 30637                        	.sym	x0,4,5,6,16
 30638                        	.sym	y0,6,5,6,16
 30639                        	.sym	width,8,5,6,16
 30640                        	.sym	height,10,5,6,16
 30641                        	.sym	x1,12,5,6,16
 30642                        	.sym	y1,14,5,6,16
 30643 06:7E87: 64 09        	stz	<L1335+dy_1
 30644 06:7E89: 64 0B        	stz	<L1335+dy_1+2
 30645 06:7E8B: A0 00 00     	ldy	#$0
 30646 06:7E8E: A5 2E        	lda	<L1334+y1_0
 30647 06:7E90: 10 01        	bpl	L1337
 30648 06:7E92: 88           	dey
 30649                        L1337:
 30650 06:7E93: 85 0D        	sta	<L1335+dd_1
 30651 06:7E95: 84 0F        	sty	<L1335+dd_1+2
 30652 06:7E97: A0 00 00     	ldy	#$0
 30653 06:7E9A: A5 24        	lda	<L1334+x0_0
 30654 06:7E9C: 10 01        	bpl	L1338
 30655 06:7E9E: 88           	dey
 30656                        L1338:
 30657 06:7E9F: 85 01        	sta	<R0
 30658 06:7EA1: 84 03        	sty	<R0+2
 30659 06:7EA3: A0 00 00     	ldy	#$0
 30660 06:7EA6: A5 26        	lda	<L1334+y0_0
 30661 06:7EA8: 10 01        	bpl	L1339
 30662 06:7EAA: 88           	dey
 30663                        L1339:
 30664 06:7EAB: 85 05        	sta	<R1
 30665 06:7EAD: 84 07        	sty	<R1+2
 30666 06:7EAF: F4 00 00     	pea	#^$280
 30667 06:7EB2: F4 80 02     	pea	#<$280
 30668 06:7EB5: D4 07        	pei	<R1+2
 30669 06:7EB7: D4 05        	pei	<R1
 30670                        	xref	~~~lmul
 30671 06:7EB9: 22 xx xx xx  	jsl	~~~lmul
 30672 06:7EBD: 85 05        	sta	<R1
  Thu Jul 22 2021 22:51                                                Page 566


 30673 06:7EBF: 86 07        	stx	<R1+2
 30674 06:7EC1: 18           	clc
 30675 06:7EC2: A5 05        	lda	<R1
 30676 06:7EC4: 65 01        	adc	<R0
 30677 06:7EC6: 85 11        	sta	<L1335+pixelLocation0_1
 30678 06:7EC8: A5 07        	lda	<R1+2
 30679 06:7ECA: 65 03        	adc	<R0+2
 30680 06:7ECC: 85 13        	sta	<L1335+pixelLocation0_1+2
 30681 06:7ECE: 18           	clc
 30682 06:7ECF: A5 24        	lda	<L1334+x0_0
 30683 06:7ED1: 65 28        	adc	<L1334+width_0
 30684 06:7ED3: 85 01        	sta	<R0
 30685 06:7ED5: A0 00 00     	ldy	#$0
 30686 06:7ED8: A5 01        	lda	<R0
 30687 06:7EDA: 10 01        	bpl	L1340
 30688 06:7EDC: 88           	dey
 30689                        L1340:
 30690 06:7EDD: 85 01        	sta	<R0
 30691 06:7EDF: 84 03        	sty	<R0+2
 30692 06:7EE1: A0 00 00     	ldy	#$0
 30693 06:7EE4: A5 26        	lda	<L1334+y0_0
 30694 06:7EE6: 10 01        	bpl	L1341
 30695 06:7EE8: 88           	dey
 30696                        L1341:
 30697 06:7EE9: 85 05        	sta	<R1
 30698 06:7EEB: 84 07        	sty	<R1+2
 30699 06:7EED: F4 00 00     	pea	#^$280
 30700 06:7EF0: F4 80 02     	pea	#<$280
 30701 06:7EF3: D4 07        	pei	<R1+2
 30702 06:7EF5: D4 05        	pei	<R1
 30703                        	xref	~~~lmul
 30704 06:7EF7: 22 xx xx xx  	jsl	~~~lmul
 30705 06:7EFB: 85 05        	sta	<R1
 30706 06:7EFD: 86 07        	stx	<R1+2
 30707 06:7EFF: 18           	clc
 30708 06:7F00: A5 05        	lda	<R1
 30709 06:7F02: 65 01        	adc	<R0
 30710 06:7F04: 85 15        	sta	<L1335+pixelLocation1_1
 30711 06:7F06: A5 07        	lda	<R1+2
 30712 06:7F08: 65 03        	adc	<R0+2
 30713 06:7F0A: 85 17        	sta	<L1335+pixelLocation1_1+2
 30714 06:7F0C: A0 00 00     	ldy	#$0
 30715 06:7F0F: A5 2C        	lda	<L1334+x1_0
 30716 06:7F11: 10 01        	bpl	L1342
 30717 06:7F13: 88           	dey
 30718                        L1342:
 30719 06:7F14: 85 01        	sta	<R0
 30720 06:7F16: 84 03        	sty	<R0+2
 30721 06:7F18: A0 00 00     	ldy	#$0
 30722 06:7F1B: A5 2E        	lda	<L1334+y1_0
 30723 06:7F1D: 10 01        	bpl	L1343
 30724 06:7F1F: 88           	dey
 30725                        L1343:
 30726 06:7F20: 85 05        	sta	<R1
 30727 06:7F22: 84 07        	sty	<R1+2
 30728 06:7F24: F4 00 00     	pea	#^$280
 30729 06:7F27: F4 80 02     	pea	#<$280
 30730 06:7F2A: D4 07        	pei	<R1+2
  Thu Jul 22 2021 22:51                                                Page 567


 30731 06:7F2C: D4 05        	pei	<R1
 30732                        	xref	~~~lmul
 30733 06:7F2E: 22 xx xx xx  	jsl	~~~lmul
 30734 06:7F32: 85 05        	sta	<R1
 30735 06:7F34: 86 07        	stx	<R1+2
 30736 06:7F36: 18           	clc
 30737 06:7F37: A5 05        	lda	<R1
 30738 06:7F39: 65 01        	adc	<R0
 30739 06:7F3B: 85 19        	sta	<L1335+pixelLocationD_1
 30740 06:7F3D: A5 07        	lda	<R1+2
 30741 06:7F3F: 65 03        	adc	<R0+2
 30742 06:7F41: 85 1B        	sta	<L1335+pixelLocationD_1+2
 30743 06:7F43: A0 00 00     	ldy	#$0
 30744 06:7F46: A5 28        	lda	<L1334+width_0
 30745 06:7F48: 10 01        	bpl	L1344
 30746 06:7F4A: 88           	dey
 30747                        L1344:
 30748 06:7F4B: 85 1D        	sta	<L1335+difference_1
 30749 06:7F4D: 84 1F        	sty	<L1335+difference_1+2
 30750                        	.line	5761
 30751 06:7F4F: A0 00 00     	ldy	#$0
 30752 06:7F52: A5 26        	lda	<L1334+y0_0
 30753 06:7F54: 10 01        	bpl	L1345
 30754 06:7F56: 88           	dey
 30755                        L1345:
 30756 06:7F57: 85 09        	sta	<L1335+dy_1
 30757 06:7F59: 84 0B        	sty	<L1335+dy_1+2
 30758 06:7F5B: 82 8E 00     	brl	L10531
 30759                        L10530:
 30760                        ;	{
 30761                        	.line	5762
 30762                        ;		pixelLocation0 = (long)(((long)dy * 640L
                    ) + (long)x0);
 30763                        	.line	5763
 30764 06:7F5E: A0 00 00     	ldy	#$0
 30765 06:7F61: A5 24        	lda	<L1334+x0_0
 30766 06:7F63: 10 01        	bpl	L1346
 30767 06:7F65: 88           	dey
 30768                        L1346:
 30769 06:7F66: 85 01        	sta	<R0
 30770 06:7F68: 84 03        	sty	<R0+2
 30771 06:7F6A: F4 00 00     	pea	#^$280
 30772 06:7F6D: F4 80 02     	pea	#<$280
 30773 06:7F70: D4 0B        	pei	<L1335+dy_1+2
 30774 06:7F72: D4 09        	pei	<L1335+dy_1
 30775                        	xref	~~~lmul
 30776 06:7F74: 22 xx xx xx  	jsl	~~~lmul
 30777 06:7F78: 85 05        	sta	<R1
 30778 06:7F7A: 86 07        	stx	<R1+2
 30779 06:7F7C: 18           	clc
 30780 06:7F7D: A5 05        	lda	<R1
 30781 06:7F7F: 65 01        	adc	<R0
 30782 06:7F81: 85 11        	sta	<L1335+pixelLocation0_1
 30783 06:7F83: A5 07        	lda	<R1+2
 30784 06:7F85: 65 03        	adc	<R0+2
 30785 06:7F87: 85 13        	sta	<L1335+pixelLocation0_1+2
 30786                        ;		pixelLocationD = (long)(((long)dd * 640L
                    ) + (long)x1);
  Thu Jul 22 2021 22:51                                                Page 568


 30787                        	.line	5764
 30788 06:7F89: A0 00 00     	ldy	#$0
 30789 06:7F8C: A5 2C        	lda	<L1334+x1_0
 30790 06:7F8E: 10 01        	bpl	L1347
 30791 06:7F90: 88           	dey
 30792                        L1347:
 30793 06:7F91: 85 01        	sta	<R0
 30794 06:7F93: 84 03        	sty	<R0+2
 30795 06:7F95: F4 00 00     	pea	#^$280
 30796 06:7F98: F4 80 02     	pea	#<$280
 30797 06:7F9B: D4 0F        	pei	<L1335+dd_1+2
 30798 06:7F9D: D4 0D        	pei	<L1335+dd_1
 30799                        	xref	~~~lmul
 30800 06:7F9F: 22 xx xx xx  	jsl	~~~lmul
 30801 06:7FA3: 85 05        	sta	<R1
 30802 06:7FA5: 86 07        	stx	<R1+2
 30803 06:7FA7: 18           	clc
 30804 06:7FA8: A5 05        	lda	<R1
 30805 06:7FAA: 65 01        	adc	<R0
 30806 06:7FAC: 85 19        	sta	<L1335+pixelLocationD_1
 30807 06:7FAE: A5 07        	lda	<R1+2
 30808 06:7FB0: 65 03        	adc	<R0+2
 30809 06:7FB2: 85 1B        	sta	<L1335+pixelLocationD_1+2
 30810                        ;		memcpy(   &((SHADOW_BANK_5)[pixelLocatio
                    nD])  , &((SHADOW_BANK_0)[pixelLocation0]), difference) ;
 30811                        	.line	5765
 30812 06:7FB4: D4 1D        	pei	<L1335+difference_1
 30813 06:7FB6: 18           	clc
 30814 06:7FB7: A9 00 00     	lda	#$0
 30815 06:7FBA: 65 11        	adc	<L1335+pixelLocation0_1
 30816 06:7FBC: 85 01        	sta	<R0
 30817 06:7FBE: A9 0A 00     	lda	#$a
 30818 06:7FC1: 65 13        	adc	<L1335+pixelLocation0_1+2
 30819 06:7FC3: 85 03        	sta	<R0+2
 30820 06:7FC5: D4 03        	pei	<R0+2
 30821 06:7FC7: D4 01        	pei	<R0
 30822 06:7FC9: 18           	clc
 30823 06:7FCA: A9 00 00     	lda	#$0
 30824 06:7FCD: 65 19        	adc	<L1335+pixelLocationD_1
 30825 06:7FCF: 85 05        	sta	<R1
 30826 06:7FD1: A9 0F 00     	lda	#$f
 30827 06:7FD4: 65 1B        	adc	<L1335+pixelLocationD_1+2
 30828 06:7FD6: 85 07        	sta	<R1+2
 30829 06:7FD8: D4 07        	pei	<R1+2
 30830 06:7FDA: D4 05        	pei	<R1
 30831 06:7FDC: 22 xx xx xx  	jsl	~~memcpy
 30832                        ;
 30833                        ;		dd++;
 30834                        	.line	5767
 30835 06:7FE0: E6 0D        	inc	<L1335+dd_1
 30836 06:7FE2: D0 02        	bne	L1348
 30837 06:7FE4: E6 0F        	inc	<L1335+dd_1+2
 30838                        L1348:
 30839                        ;	}
 30840                        	.line	5768
 30841                        L10528:
 30842 06:7FE6: E6 09        	inc	<L1335+dy_1
 30843 06:7FE8: D0 02        	bne	L1349
  Thu Jul 22 2021 22:51                                                Page 569


 30844 06:7FEA: E6 0B        	inc	<L1335+dy_1+2
 30845                        L1349:
 30846                        L10531:
 30847 06:7FEC: 18           	clc
 30848 06:7FED: A5 26        	lda	<L1334+y0_0
 30849 06:7FEF: 65 2A        	adc	<L1334+height_0
 30850 06:7FF1: 85 01        	sta	<R0
 30851 06:7FF3: A0 00 00     	ldy	#$0
 30852 06:7FF6: A5 01        	lda	<R0
 30853 06:7FF8: 10 01        	bpl	L1350
 30854 06:7FFA: 88           	dey
 30855                        L1350:
 30856 06:7FFB: 85 01        	sta	<R0
 30857 06:7FFD: 84 03        	sty	<R0+2
 30858 06:7FFF: 38           	sec
 30859 06:8000: A5 09        	lda	<L1335+dy_1
 30860 06:8002: E5 01        	sbc	<R0
 30861 06:8004: A5 0B        	lda	<L1335+dy_1+2
 30862 06:8006: E5 03        	sbc	<R0+2
 30863 06:8008: 70 03        	bvs	L1351
 30864 06:800A: 49 00 80     	eor	#$8000
 30865                        L1351:
 30866 06:800D: 30 03        	bmi	L1352
 30867 06:800F: 82 4C FF     	brl	L10530
 30868                        L1352:
 30869                        L10529:
 30870                        ;
 30871                        ;}
 30872                        	.line	5770
 30873                        L1353:
 30874 06:8012: A5 22        	lda	<L1334+2
 30875 06:8014: 85 2E        	sta	<L1334+2+12
 30876 06:8016: A5 21        	lda	<L1334+1
 30877 06:8018: 85 2D        	sta	<L1334+1+12
 30878 06:801A: 2B           	pld
 30879 06:801B: 3B           	tsc
 30880 06:801C: 18           	clc
 30881 06:801D: 69 2C 00     	adc	#L1334+12
 30882 06:8020: 1B           	tcs
 30883 06:8021: 6B           	rtl
 30884                        	.endblock	5770
 30885             00000020   L1334	equ	32
 30886             00000009   L1335	equ	9
 30887 06:8022:              	ends
 30888                        	efunc
 30889                        	.endfunc	5770,9,32
 30890                        	.line	5770
 30891                        ;
 30892                        ;void k_scratch_restore_bitblt(int x0, int y0, int
                     width, int height, int x1, int y1)
 30893                        ;{
 30894                        	.line	5772
 30895                        	.line	5773
 30896                        	GFX
 30897                        	xdef	~~k_scratch_restore_bitblt
 30898                        	func
 30899                        	.function	5773
 30900                        ~~k_scratch_restore_bitblt:
  Thu Jul 22 2021 22:51                                                Page 570


 30901                        	longa	on
 30902                        	longi	on
 30903 06:8022: 3B           	tsc
 30904 06:8023: 38           	sec
 30905 06:8024: E9 20 00     	sbc	#L1354
 30906 06:8027: 1B           	tcs
 30907 06:8028: 0B           	phd
 30908 06:8029: 5B           	tcd
 30909             00000004   x0_0	set	4
 30910             00000006   y0_0	set	6
 30911             00000008   width_0	set	8
 30912             0000000A   height_0	set	10
 30913             0000000C   x1_0	set	12
 30914             0000000E   y1_0	set	14
 30915                        	.block	5773
 30916                        ;	long dy = 0L;
 30917                        ;	long dd = y1;
 30918                        ;	long pixelLocation0 = (long)(((long)y0 * 640L) +
                     (long)x0);
 30919                        ;	long pixelLocation1 = (long)(((long)y0 * 640L) +
                     (long)(x0 + width ));
 30920                        ;	long pixelLocationD = (long)(((long)y1 * 640L) +
                     (long)(x1));
 30921                        ;
 30922                        ;	long difference = width;//pixelLocation1 - pixel
                    Location0 + 1;
 30923                        ;
 30924                        ;	//k_debug_long("pixelLocation0:",pixelLocation0)
                    ;
 30925                        ;	//k_debug_long("pixelLocation1:",pixelLocation1)
                    ;
 30926                        ;	//k_debug_long("pixelLocationD:",pixelLocationD)
                    ;
 30927                        ;	//k_debug_long("difference:",difference);
 30928                        ;
 30929                        ;
 30930                        ;
 30931                        ;	for(dy = y0;dy<(y0 + height);dy++)
 30932             00000000   dy_1	set	0
 30933             00000004   dd_1	set	4
 30934             00000008   pixelLocation0_1	set	8
 30935             0000000C   pixelLocation1_1	set	12
 30936             00000010   pixelLocationD_1	set	16
 30937             00000014   difference_1	set	20
 30938                        	.sym	dy,0,7,1,32
 30939                        	.sym	dd,4,7,1,32
 30940                        	.sym	pixelLocation0,8,7,1,32
 30941                        	.sym	pixelLocation1,12,7,1,32
 30942                        	.sym	pixelLocationD,16,7,1,32
 30943                        	.sym	difference,20,7,1,32
 30944                        	.sym	x0,4,5,6,16
 30945                        	.sym	y0,6,5,6,16
 30946                        	.sym	width,8,5,6,16
 30947                        	.sym	height,10,5,6,16
 30948                        	.sym	x1,12,5,6,16
 30949                        	.sym	y1,14,5,6,16
 30950 06:802A: 64 09        	stz	<L1355+dy_1
 30951 06:802C: 64 0B        	stz	<L1355+dy_1+2
  Thu Jul 22 2021 22:51                                                Page 571


 30952 06:802E: A0 00 00     	ldy	#$0
 30953 06:8031: A5 2E        	lda	<L1354+y1_0
 30954 06:8033: 10 01        	bpl	L1357
 30955 06:8035: 88           	dey
 30956                        L1357:
 30957 06:8036: 85 0D        	sta	<L1355+dd_1
 30958 06:8038: 84 0F        	sty	<L1355+dd_1+2
 30959 06:803A: A0 00 00     	ldy	#$0
 30960 06:803D: A5 24        	lda	<L1354+x0_0
 30961 06:803F: 10 01        	bpl	L1358
 30962 06:8041: 88           	dey
 30963                        L1358:
 30964 06:8042: 85 01        	sta	<R0
 30965 06:8044: 84 03        	sty	<R0+2
 30966 06:8046: A0 00 00     	ldy	#$0
 30967 06:8049: A5 26        	lda	<L1354+y0_0
 30968 06:804B: 10 01        	bpl	L1359
 30969 06:804D: 88           	dey
 30970                        L1359:
 30971 06:804E: 85 05        	sta	<R1
 30972 06:8050: 84 07        	sty	<R1+2
 30973 06:8052: F4 00 00     	pea	#^$280
 30974 06:8055: F4 80 02     	pea	#<$280
 30975 06:8058: D4 07        	pei	<R1+2
 30976 06:805A: D4 05        	pei	<R1
 30977                        	xref	~~~lmul
 30978 06:805C: 22 xx xx xx  	jsl	~~~lmul
 30979 06:8060: 85 05        	sta	<R1
 30980 06:8062: 86 07        	stx	<R1+2
 30981 06:8064: 18           	clc
 30982 06:8065: A5 05        	lda	<R1
 30983 06:8067: 65 01        	adc	<R0
 30984 06:8069: 85 11        	sta	<L1355+pixelLocation0_1
 30985 06:806B: A5 07        	lda	<R1+2
 30986 06:806D: 65 03        	adc	<R0+2
 30987 06:806F: 85 13        	sta	<L1355+pixelLocation0_1+2
 30988 06:8071: 18           	clc
 30989 06:8072: A5 24        	lda	<L1354+x0_0
 30990 06:8074: 65 28        	adc	<L1354+width_0
 30991 06:8076: 85 01        	sta	<R0
 30992 06:8078: A0 00 00     	ldy	#$0
 30993 06:807B: A5 01        	lda	<R0
 30994 06:807D: 10 01        	bpl	L1360
 30995 06:807F: 88           	dey
 30996                        L1360:
 30997 06:8080: 85 01        	sta	<R0
 30998 06:8082: 84 03        	sty	<R0+2
 30999 06:8084: A0 00 00     	ldy	#$0
 31000 06:8087: A5 26        	lda	<L1354+y0_0
 31001 06:8089: 10 01        	bpl	L1361
 31002 06:808B: 88           	dey
 31003                        L1361:
 31004 06:808C: 85 05        	sta	<R1
 31005 06:808E: 84 07        	sty	<R1+2
 31006 06:8090: F4 00 00     	pea	#^$280
 31007 06:8093: F4 80 02     	pea	#<$280
 31008 06:8096: D4 07        	pei	<R1+2
 31009 06:8098: D4 05        	pei	<R1
  Thu Jul 22 2021 22:51                                                Page 572


 31010                        	xref	~~~lmul
 31011 06:809A: 22 xx xx xx  	jsl	~~~lmul
 31012 06:809E: 85 05        	sta	<R1
 31013 06:80A0: 86 07        	stx	<R1+2
 31014 06:80A2: 18           	clc
 31015 06:80A3: A5 05        	lda	<R1
 31016 06:80A5: 65 01        	adc	<R0
 31017 06:80A7: 85 15        	sta	<L1355+pixelLocation1_1
 31018 06:80A9: A5 07        	lda	<R1+2
 31019 06:80AB: 65 03        	adc	<R0+2
 31020 06:80AD: 85 17        	sta	<L1355+pixelLocation1_1+2
 31021 06:80AF: A0 00 00     	ldy	#$0
 31022 06:80B2: A5 2C        	lda	<L1354+x1_0
 31023 06:80B4: 10 01        	bpl	L1362
 31024 06:80B6: 88           	dey
 31025                        L1362:
 31026 06:80B7: 85 01        	sta	<R0
 31027 06:80B9: 84 03        	sty	<R0+2
 31028 06:80BB: A0 00 00     	ldy	#$0
 31029 06:80BE: A5 2E        	lda	<L1354+y1_0
 31030 06:80C0: 10 01        	bpl	L1363
 31031 06:80C2: 88           	dey
 31032                        L1363:
 31033 06:80C3: 85 05        	sta	<R1
 31034 06:80C5: 84 07        	sty	<R1+2
 31035 06:80C7: F4 00 00     	pea	#^$280
 31036 06:80CA: F4 80 02     	pea	#<$280
 31037 06:80CD: D4 07        	pei	<R1+2
 31038 06:80CF: D4 05        	pei	<R1
 31039                        	xref	~~~lmul
 31040 06:80D1: 22 xx xx xx  	jsl	~~~lmul
 31041 06:80D5: 85 05        	sta	<R1
 31042 06:80D7: 86 07        	stx	<R1+2
 31043 06:80D9: 18           	clc
 31044 06:80DA: A5 05        	lda	<R1
 31045 06:80DC: 65 01        	adc	<R0
 31046 06:80DE: 85 19        	sta	<L1355+pixelLocationD_1
 31047 06:80E0: A5 07        	lda	<R1+2
 31048 06:80E2: 65 03        	adc	<R0+2
 31049 06:80E4: 85 1B        	sta	<L1355+pixelLocationD_1+2
 31050 06:80E6: A0 00 00     	ldy	#$0
 31051 06:80E9: A5 28        	lda	<L1354+width_0
 31052 06:80EB: 10 01        	bpl	L1364
 31053 06:80ED: 88           	dey
 31054                        L1364:
 31055 06:80EE: 85 1D        	sta	<L1355+difference_1
 31056 06:80F0: 84 1F        	sty	<L1355+difference_1+2
 31057                        	.line	5789
 31058 06:80F2: A0 00 00     	ldy	#$0
 31059 06:80F5: A5 26        	lda	<L1354+y0_0
 31060 06:80F7: 10 01        	bpl	L1365
 31061 06:80F9: 88           	dey
 31062                        L1365:
 31063 06:80FA: 85 09        	sta	<L1355+dy_1
 31064 06:80FC: 84 0B        	sty	<L1355+dy_1+2
 31065 06:80FE: 82 BA 00     	brl	L10535
 31066                        L10534:
 31067                        ;	{
  Thu Jul 22 2021 22:51                                                Page 573


 31068                        	.line	5790
 31069                        ;		pixelLocation0 = (long)(((long)dy * 640L
                    ) + (long)x0);
 31070                        	.line	5791
 31071 06:8101: A0 00 00     	ldy	#$0
 31072 06:8104: A5 24        	lda	<L1354+x0_0
 31073 06:8106: 10 01        	bpl	L1366
 31074 06:8108: 88           	dey
 31075                        L1366:
 31076 06:8109: 85 01        	sta	<R0
 31077 06:810B: 84 03        	sty	<R0+2
 31078 06:810D: F4 00 00     	pea	#^$280
 31079 06:8110: F4 80 02     	pea	#<$280
 31080 06:8113: D4 0B        	pei	<L1355+dy_1+2
 31081 06:8115: D4 09        	pei	<L1355+dy_1
 31082                        	xref	~~~lmul
 31083 06:8117: 22 xx xx xx  	jsl	~~~lmul
 31084 06:811B: 85 05        	sta	<R1
 31085 06:811D: 86 07        	stx	<R1+2
 31086 06:811F: 18           	clc
 31087 06:8120: A5 05        	lda	<R1
 31088 06:8122: 65 01        	adc	<R0
 31089 06:8124: 85 11        	sta	<L1355+pixelLocation0_1
 31090 06:8126: A5 07        	lda	<R1+2
 31091 06:8128: 65 03        	adc	<R0+2
 31092 06:812A: 85 13        	sta	<L1355+pixelLocation0_1+2
 31093                        ;		pixelLocationD = (long)(((long)dd * 640L
                    ) + (long)x1);
 31094                        	.line	5792
 31095 06:812C: A0 00 00     	ldy	#$0
 31096 06:812F: A5 2C        	lda	<L1354+x1_0
 31097 06:8131: 10 01        	bpl	L1367
 31098 06:8133: 88           	dey
 31099                        L1367:
 31100 06:8134: 85 01        	sta	<R0
 31101 06:8136: 84 03        	sty	<R0+2
 31102 06:8138: F4 00 00     	pea	#^$280
 31103 06:813B: F4 80 02     	pea	#<$280
 31104 06:813E: D4 0F        	pei	<L1355+dd_1+2
 31105 06:8140: D4 0D        	pei	<L1355+dd_1
 31106                        	xref	~~~lmul
 31107 06:8142: 22 xx xx xx  	jsl	~~~lmul
 31108 06:8146: 85 05        	sta	<R1
 31109 06:8148: 86 07        	stx	<R1+2
 31110 06:814A: 18           	clc
 31111 06:814B: A5 05        	lda	<R1
 31112 06:814D: 65 01        	adc	<R0
 31113 06:814F: 85 19        	sta	<L1355+pixelLocationD_1
 31114 06:8151: A5 07        	lda	<R1+2
 31115 06:8153: 65 03        	adc	<R0+2
 31116 06:8155: 85 1B        	sta	<L1355+pixelLocationD_1+2
 31117                        ;		memcpy(   &((BITMAP_BANK_0)[pixelLocatio
                    nD])  , &((SHADOW_BANK_5)[pixelLocation0]), difference) ;
 31118                        	.line	5793
 31119 06:8157: D4 1D        	pei	<L1355+difference_1
 31120 06:8159: 18           	clc
 31121 06:815A: A9 00 00     	lda	#$0
 31122 06:815D: 65 11        	adc	<L1355+pixelLocation0_1
  Thu Jul 22 2021 22:51                                                Page 574


 31123 06:815F: 85 01        	sta	<R0
 31124 06:8161: A9 0F 00     	lda	#$f
 31125 06:8164: 65 13        	adc	<L1355+pixelLocation0_1+2
 31126 06:8166: 85 03        	sta	<R0+2
 31127 06:8168: D4 03        	pei	<R0+2
 31128 06:816A: D4 01        	pei	<R0
 31129 06:816C: 18           	clc
 31130 06:816D: A9 00 00     	lda	#$0
 31131 06:8170: 65 19        	adc	<L1355+pixelLocationD_1
 31132 06:8172: 85 05        	sta	<R1
 31133 06:8174: A9 B0 00     	lda	#$b0
 31134 06:8177: 65 1B        	adc	<L1355+pixelLocationD_1+2
 31135 06:8179: 85 07        	sta	<R1+2
 31136 06:817B: D4 07        	pei	<R1+2
 31137 06:817D: D4 05        	pei	<R1
 31138 06:817F: 22 xx xx xx  	jsl	~~memcpy
 31139                        ;		memcpy(   &((SHADOW_BANK_0)[pixelLocatio
                    nD])  , &((SHADOW_BANK_5)[pixelLocation0]), difference) ;
 31140                        	.line	5794
 31141 06:8183: D4 1D        	pei	<L1355+difference_1
 31142 06:8185: 18           	clc
 31143 06:8186: A9 00 00     	lda	#$0
 31144 06:8189: 65 11        	adc	<L1355+pixelLocation0_1
 31145 06:818B: 85 01        	sta	<R0
 31146 06:818D: A9 0F 00     	lda	#$f
 31147 06:8190: 65 13        	adc	<L1355+pixelLocation0_1+2
 31148 06:8192: 85 03        	sta	<R0+2
 31149 06:8194: D4 03        	pei	<R0+2
 31150 06:8196: D4 01        	pei	<R0
 31151 06:8198: 18           	clc
 31152 06:8199: A9 00 00     	lda	#$0
 31153 06:819C: 65 19        	adc	<L1355+pixelLocationD_1
 31154 06:819E: 85 05        	sta	<R1
 31155 06:81A0: A9 0A 00     	lda	#$a
 31156 06:81A3: 65 1B        	adc	<L1355+pixelLocationD_1+2
 31157 06:81A5: 85 07        	sta	<R1+2
 31158 06:81A7: D4 07        	pei	<R1+2
 31159 06:81A9: D4 05        	pei	<R1
 31160 06:81AB: 22 xx xx xx  	jsl	~~memcpy
 31161                        ;
 31162                        ;		dd++;
 31163                        	.line	5796
 31164 06:81AF: E6 0D        	inc	<L1355+dd_1
 31165 06:81B1: D0 02        	bne	L1368
 31166 06:81B3: E6 0F        	inc	<L1355+dd_1+2
 31167                        L1368:
 31168                        ;	}
 31169                        	.line	5797
 31170                        L10532:
 31171 06:81B5: E6 09        	inc	<L1355+dy_1
 31172 06:81B7: D0 02        	bne	L1369
 31173 06:81B9: E6 0B        	inc	<L1355+dy_1+2
 31174                        L1369:
 31175                        L10535:
 31176 06:81BB: 18           	clc
 31177 06:81BC: A5 26        	lda	<L1354+y0_0
 31178 06:81BE: 65 2A        	adc	<L1354+height_0
 31179 06:81C0: 85 01        	sta	<R0
  Thu Jul 22 2021 22:51                                                Page 575


 31180 06:81C2: A0 00 00     	ldy	#$0
 31181 06:81C5: A5 01        	lda	<R0
 31182 06:81C7: 10 01        	bpl	L1370
 31183 06:81C9: 88           	dey
 31184                        L1370:
 31185 06:81CA: 85 01        	sta	<R0
 31186 06:81CC: 84 03        	sty	<R0+2
 31187 06:81CE: 38           	sec
 31188 06:81CF: A5 09        	lda	<L1355+dy_1
 31189 06:81D1: E5 01        	sbc	<R0
 31190 06:81D3: A5 0B        	lda	<L1355+dy_1+2
 31191 06:81D5: E5 03        	sbc	<R0+2
 31192 06:81D7: 70 03        	bvs	L1371
 31193 06:81D9: 49 00 80     	eor	#$8000
 31194                        L1371:
 31195 06:81DC: 30 03        	bmi	L1372
 31196 06:81DE: 82 20 FF     	brl	L10534
 31197                        L1372:
 31198                        L10533:
 31199                        ;
 31200                        ;}
 31201                        	.line	5799
 31202                        L1373:
 31203 06:81E1: A5 22        	lda	<L1354+2
 31204 06:81E3: 85 2E        	sta	<L1354+2+12
 31205 06:81E5: A5 21        	lda	<L1354+1
 31206 06:81E7: 85 2D        	sta	<L1354+1+12
 31207 06:81E9: 2B           	pld
 31208 06:81EA: 3B           	tsc
 31209 06:81EB: 18           	clc
 31210 06:81EC: 69 2C 00     	adc	#L1354+12
 31211 06:81EF: 1B           	tcs
 31212 06:81F0: 6B           	rtl
 31213                        	.endblock	5799
 31214             00000020   L1354	equ	32
 31215             00000009   L1355	equ	9
 31216 06:81F1:              	ends
 31217                        	efunc
 31218                        	.endfunc	5799,9,32
 31219                        	.line	5799
 31220                        ;
 31221                        ;
 31222                        ;UINT k_font_getFontHeight(void)
 31223                        ;{
 31224                        	.line	5802
 31225                        	.line	5803
 31226                        	GFX
 31227                        	xdef	~~k_font_getFontHeight
 31228                        	func
 31229                        	.function	5803
 31230                        ~~k_font_getFontHeight:
 31231                        	longa	on
 31232                        	longi	on
 31233 06:81F1: 3B           	tsc
 31234 06:81F2: 38           	sec
 31235 06:81F3: E9 00 00     	sbc	#L1374
 31236 06:81F6: 1B           	tcs
 31237 06:81F7: 0B           	phd
  Thu Jul 22 2021 22:51                                                Page 576


 31238 06:81F8: 5B           	tcd
 31239                        	.block	5803
 31240                        ;	return 8;
 31241                        	.line	5804
 31242 06:81F9: A9 08 00     	lda	#$8
 31243                        L1377:
 31244 06:81FC: A8           	tay
 31245 06:81FD: 2B           	pld
 31246 06:81FE: 3B           	tsc
 31247 06:81FF: 18           	clc
 31248 06:8200: 69 00 00     	adc	#L1374
 31249 06:8203: 1B           	tcs
 31250 06:8204: 98           	tya
 31251 06:8205: 6B           	rtl
 31252                        ;}
 31253                        	.line	5805
 31254                        	.endblock	5805
 31255             00000000   L1374	equ	0
 31256             00000001   L1375	equ	1
 31257 06:8206:              	ends
 31258                        	efunc
 31259                        	.endfunc	5805,1,0
 31260                        	.line	5805
 31261                        ;
 31262                        ;UINT k_font_getFontWidth(void)
 31263                        ;{
 31264                        	.line	5807
 31265                        	.line	5808
 31266                        	GFX
 31267                        	xdef	~~k_font_getFontWidth
 31268                        	func
 31269                        	.function	5808
 31270                        ~~k_font_getFontWidth:
 31271                        	longa	on
 31272                        	longi	on
 31273 06:8206: 3B           	tsc
 31274 06:8207: 38           	sec
 31275 06:8208: E9 00 00     	sbc	#L1378
 31276 06:820B: 1B           	tcs
 31277 06:820C: 0B           	phd
 31278 06:820D: 5B           	tcd
 31279                        	.block	5808
 31280                        ;	return 8;
 31281                        	.line	5809
 31282 06:820E: A9 08 00     	lda	#$8
 31283                        L1381:
 31284 06:8211: A8           	tay
 31285 06:8212: 2B           	pld
 31286 06:8213: 3B           	tsc
 31287 06:8214: 18           	clc
 31288 06:8215: 69 00 00     	adc	#L1378
 31289 06:8218: 1B           	tcs
 31290 06:8219: 98           	tya
 31291 06:821A: 6B           	rtl
 31292                        ;}
 31293                        	.line	5810
 31294                        	.endblock	5810
 31295             00000000   L1378	equ	0
  Thu Jul 22 2021 22:51                                                Page 577


 31296             00000001   L1379	equ	1
 31297 06:821B:              	ends
 31298                        	efunc
 31299                        	.endfunc	5810,1,0
 31300                        	.line	5810
 31301                        ;
 31302                        ;VOID k_gui_set_mousepointer(UINT index,LPVOID poi
                    nterData)
 31303                        ;{
 31304                        	.line	5812
 31305                        	.line	5813
 31306                        	GFX
 31307                        	xdef	~~k_gui_set_mousepointer
 31308                        	func
 31309                        	.function	5813
 31310                        ~~k_gui_set_mousepointer:
 31311                        	longa	on
 31312                        	longi	on
 31313 06:821B: 3B           	tsc
 31314 06:821C: 38           	sec
 31315 06:821D: E9 04 00     	sbc	#L1382
 31316 06:8220: 1B           	tcs
 31317 06:8221: 0B           	phd
 31318 06:8222: 5B           	tcd
 31319             00000004   index_0	set	4
 31320             00000006   pointerData_0	set	6
 31321                        	.block	5813
 31322                        ;	LPVOID pData = NULL;
 31323                        ;
 31324                        ;	if(index == 0 || index == 1)
 31325             00000000   pData_1	set	0
 31326                        	.sym	pData,0,129,1,32
 31327                        	.sym	index,4,16,6,16
 31328                        	.sym	pointerData,6,129,6,32
 31329 06:8223: 64 01        	stz	<L1383+pData_1
 31330 06:8225: 64 03        	stz	<L1383+pData_1+2
 31331                        	.line	5816
 31332                        ;	{
 31333 06:8227: A5 08        	lda	<L1382+index_0
 31334 06:8229: D0 03        	bne	L1386
 31335 06:822B: 82 0A 00     	brl	L1385
 31336                        L1386:
 31337 06:822E: A5 08        	lda	<L1382+index_0
 31338 06:8230: C9 01 00     	cmp	#<$1
 31339 06:8233: F0 03        	beq	L1387
 31340 06:8235: 82 38 00     	brl	L10536
 31341                        L1387:
 31342                        L1385:
 31343                        	.line	5817
 31344                        ;		//*MOUSE_PTR_CTRL_REG_H = 0x00;
 31345                        ;		//*MOUSE_PTR_CTRL_REG_L = index;
 31346                        ;
 31347                        ;		memcpy( MOUSE_PTR_GRAP0_START,pointerDat
                    a,sizeof(MOUSE_POINTER_ARROW));
 31348                        	.line	5821
 31349 06:8238: F4 00 01     	pea	#<$100
 31350 06:823B: D4 0C        	pei	<L1382+pointerData_0+2
 31351 06:823D: D4 0A        	pei	<L1382+pointerData_0
  Thu Jul 22 2021 22:51                                                Page 578


 31352 06:823F: F4 AF 00     	pea	#^$af0500
 31353 06:8242: F4 00 05     	pea	#<$af0500
 31354 06:8245: 22 xx xx xx  	jsl	~~memcpy
 31355                        ;		memcpy( MOUSE_PTR_GRAP1_START,MOUSE_POIN
                    TER_HOURGLASS,sizeof(MOUSE_POINTER_ARROW));
 31356                        	.line	5822
 31357 06:8249: F4 00 01     	pea	#<$100
 31358 06:824C: F4 xx xx     	pea	#^~~MOUSE_POINTER_HOURGLASS
 31359 06:824F: F4 xx xx     	pea	#<~~MOUSE_POINTER_HOURGLASS
 31360 06:8252: F4 AF 00     	pea	#^$af0600
 31361 06:8255: F4 00 06     	pea	#<$af0600
 31362 06:8258: 22 xx xx xx  	jsl	~~memcpy
 31363                        ;
 31364                        ;		*MOUSE_PTR_CTRL_REG_H = 0x00;
 31365                        	.line	5824
 31366 06:825C: E2 20        	sep	#$20
 31367                        	longa	off
 31368 06:825E: A9 00        	lda	#$0
 31369 06:8260: 8F 01 07 AF  	sta	>11470593	; volatile
 31370 06:8264: C2 20        	rep	#$20
 31371                        	longa	on
 31372                        ;		*MOUSE_PTR_CTRL_REG_L = 0x01;
 31373                        	.line	5825
 31374 06:8266: E2 20        	sep	#$20
 31375                        	longa	off
 31376 06:8268: A9 01        	lda	#$1
 31377 06:826A: 8F 00 07 AF  	sta	>11470592	; volatile
 31378 06:826E: C2 20        	rep	#$20
 31379                        	longa	on
 31380                        ;	}
 31381                        	.line	5826
 31382                        ;}
 31383                        L10536:
 31384                        	.line	5827
 31385                        L1388:
 31386 06:8270: A5 06        	lda	<L1382+2
 31387 06:8272: 85 0C        	sta	<L1382+2+6
 31388 06:8274: A5 05        	lda	<L1382+1
 31389 06:8276: 85 0B        	sta	<L1382+1+6
 31390 06:8278: 2B           	pld
 31391 06:8279: 3B           	tsc
 31392 06:827A: 18           	clc
 31393 06:827B: 69 0A 00     	adc	#L1382+6
 31394 06:827E: 1B           	tcs
 31395 06:827F: 6B           	rtl
 31396                        	.endblock	5827
 31397             00000004   L1382	equ	4
 31398             00000001   L1383	equ	1
 31399 06:8280:              	ends
 31400                        	efunc
 31401                        	.endfunc	5827,1,4
 31402                        	.line	5827
 31403                        ;
 31404                        ;VOID k_gui_init_mousepointer(BOOL enable)
 31405                        ;{
 31406                        	.line	5829
 31407                        	.line	5830
 31408                        	GFX
  Thu Jul 22 2021 22:51                                                Page 579


 31409                        	xdef	~~k_gui_init_mousepointer
 31410                        	func
 31411                        	.function	5830
 31412                        ~~k_gui_init_mousepointer:
 31413                        	longa	on
 31414                        	longi	on
 31415 06:8280: 3B           	tsc
 31416 06:8281: 38           	sec
 31417 06:8282: E9 00 00     	sbc	#L1389
 31418 06:8285: 1B           	tcs
 31419 06:8286: 0B           	phd
 31420 06:8287: 5B           	tcd
 31421             00000004   enable_0	set	4
 31422                        	.block	5830
 31423                        ;	if(enable)
 31424                        	.sym	enable,4,14,6,8
 31425                        	.line	5831
 31426                        ;	{
 31427 06:8288: A5 04        	lda	<L1389+enable_0
 31428 06:828A: 29 FF 00     	and	#$ff
 31429 06:828D: D0 03        	bne	L1392
 31430 06:828F: 82 3D 00     	brl	L10537
 31431                        L1392:
 31432                        	.line	5832
 31433                        ;		//MOUSE_POINTER_HELP
 31434                        ;		//memcpy(MOUSE_PTR_GRAP0_START,MOUSE_POI
                    NTER_PTR_V2,sizeof(MOUSE_POINTER_PTR_V2));
 31435                        ;		//memcpy(MOUSE_PTR_GRAP0_START,MOUSE_POI
                    NTER_PTR_V2,sizeof(MOUSE_POINTER_PTR_V2));
 31436                        ;
 31437                        ;		memcpy(MOUSE_PTR_GRAP0_START,MOUSE_POINT
                    ER_ARROW,sizeof(MOUSE_POINTER_ARROW));
 31438                        	.line	5837
 31439 06:8292: F4 00 01     	pea	#<$100
 31440 06:8295: F4 xx xx     	pea	#^~~MOUSE_POINTER_ARROW
 31441 06:8298: F4 xx xx     	pea	#<~~MOUSE_POINTER_ARROW
 31442 06:829B: F4 AF 00     	pea	#^$af0500
 31443 06:829E: F4 00 05     	pea	#<$af0500
 31444 06:82A1: 22 xx xx xx  	jsl	~~memcpy
 31445                        ;		memcpy(MOUSE_PTR_GRAP1_START,MOUSE_POINT
                    ER_HOURGLASS,sizeof(MOUSE_POINTER_HOURGLASS));
 31446                        	.line	5838
 31447 06:82A5: F4 00 01     	pea	#<$100
 31448 06:82A8: F4 xx xx     	pea	#^~~MOUSE_POINTER_HOURGLASS
 31449 06:82AB: F4 xx xx     	pea	#<~~MOUSE_POINTER_HOURGLASS
 31450 06:82AE: F4 AF 00     	pea	#^$af0600
 31451 06:82B1: F4 00 06     	pea	#<$af0600
 31452 06:82B4: 22 xx xx xx  	jsl	~~memcpy
 31453                        ;
 31454                        ;		*MOUSE_PTR_CTRL_REG_H = 0x00;
 31455                        	.line	5840
 31456 06:82B8: E2 20        	sep	#$20
 31457                        	longa	off
 31458 06:82BA: A9 00        	lda	#$0
 31459 06:82BC: 8F 01 07 AF  	sta	>11470593	; volatile
 31460 06:82C0: C2 20        	rep	#$20
 31461                        	longa	on
 31462                        ;		*MOUSE_PTR_CTRL_REG_L = 0x01;
  Thu Jul 22 2021 22:51                                                Page 580


 31463                        	.line	5841
 31464 06:82C2: E2 20        	sep	#$20
 31465                        	longa	off
 31466 06:82C4: A9 01        	lda	#$1
 31467 06:82C6: 8F 00 07 AF  	sta	>11470592	; volatile
 31468 06:82CA: C2 20        	rep	#$20
 31469                        	longa	on
 31470                        ;	}
 31471                        	.line	5842
 31472                        ;	else
 31473 06:82CC: 82 3A 00     	brl	L10538
 31474                        L10537:
 31475                        ;	{
 31476                        	.line	5844
 31477                        ;		memcpy(MOUSE_PTR_GRAP0_START,MOUSE_POINT
                    ER_ARROW,sizeof(MOUSE_POINTER_ARROW));
 31478                        	.line	5845
 31479 06:82CF: F4 00 01     	pea	#<$100
 31480 06:82D2: F4 xx xx     	pea	#^~~MOUSE_POINTER_ARROW
 31481 06:82D5: F4 xx xx     	pea	#<~~MOUSE_POINTER_ARROW
 31482 06:82D8: F4 AF 00     	pea	#^$af0500
 31483 06:82DB: F4 00 05     	pea	#<$af0500
 31484 06:82DE: 22 xx xx xx  	jsl	~~memcpy
 31485                        ;		memcpy(MOUSE_PTR_GRAP1_START,MOUSE_POINT
                    ER_ARROW,sizeof(MOUSE_POINTER_ARROW));
 31486                        	.line	5846
 31487 06:82E2: F4 00 01     	pea	#<$100
 31488 06:82E5: F4 xx xx     	pea	#^~~MOUSE_POINTER_ARROW
 31489 06:82E8: F4 xx xx     	pea	#<~~MOUSE_POINTER_ARROW
 31490 06:82EB: F4 AF 00     	pea	#^$af0600
 31491 06:82EE: F4 00 06     	pea	#<$af0600
 31492 06:82F1: 22 xx xx xx  	jsl	~~memcpy
 31493                        ;		*MOUSE_PTR_CTRL_REG_H = 0x00;
 31494                        	.line	5847
 31495 06:82F5: E2 20        	sep	#$20
 31496                        	longa	off
 31497 06:82F7: A9 00        	lda	#$0
 31498 06:82F9: 8F 01 07 AF  	sta	>11470593	; volatile
 31499 06:82FD: C2 20        	rep	#$20
 31500                        	longa	on
 31501                        ;		*MOUSE_PTR_CTRL_REG_L = 0x00;
 31502                        	.line	5848
 31503 06:82FF: E2 20        	sep	#$20
 31504                        	longa	off
 31505 06:8301: A9 00        	lda	#$0
 31506 06:8303: 8F 00 07 AF  	sta	>11470592	; volatile
 31507 06:8307: C2 20        	rep	#$20
 31508                        	longa	on
 31509                        ;	}
 31510                        	.line	5849
 31511                        L10538:
 31512                        ;}
 31513                        	.line	5850
 31514                        L1393:
 31515 06:8309: A5 02        	lda	<L1389+2
 31516 06:830B: 85 04        	sta	<L1389+2+2
 31517 06:830D: A5 01        	lda	<L1389+1
 31518 06:830F: 85 03        	sta	<L1389+1+2
  Thu Jul 22 2021 22:51                                                Page 581


 31519 06:8311: 2B           	pld
 31520 06:8312: 3B           	tsc
 31521 06:8313: 18           	clc
 31522 06:8314: 69 02 00     	adc	#L1389+2
 31523 06:8317: 1B           	tcs
 31524 06:8318: 6B           	rtl
 31525                        	.endblock	5850
 31526             00000000   L1389	equ	0
 31527             00000001   L1390	equ	1
 31528 06:8319:              	ends
 31529                        	efunc
 31530                        	.endfunc	5850,1,0
 31531                        	.line	5850
 31532                        ;
 31533                        ;void k_vdma_copy_address_ex(char FAR * pdst,char 
                    FAR * psrc,int width,int height)
 31534                        ;{
 31535                        	.line	5852
 31536                        	.line	5853
 31537                        	GFX
 31538                        	xdef	~~k_vdma_copy_address_ex
 31539                        	func
 31540                        	.function	5853
 31541                        ~~k_vdma_copy_address_ex:
 31542                        	longa	on
 31543                        	longi	on
 31544 06:8319: 3B           	tsc
 31545 06:831A: 38           	sec
 31546 06:831B: E9 0D 00     	sbc	#L1394
 31547 06:831E: 1B           	tcs
 31548 06:831F: 0B           	phd
 31549 06:8320: 5B           	tcd
 31550             00000004   pdst_0	set	4
 31551             00000008   psrc_0	set	8
 31552             0000000C   width_0	set	12
 31553             0000000E   height_0	set	14
 31554                        	.block	5853
 31555                        ;	int pos = 0;
 31556                        ;	UINT spinLock = 0;
 31557                        ;	char status = VDMA_STAT_VDMA_IPS;
 31558                        ;
 31559                        ;
 31560                        ;	//k_debug_pointer("k_vdma_copy_address_ex::src  
                    offset:",psrc);
 31561                        ;	//k_debug_pointer("k_vdma_copy_address_ex::dest 
                    offset:",pdst);
 31562                        ;
 31563                        ;	//k_debug_integer("k_vdma_copy_address_ex::width
                    :",width);
 31564                        ;	//k_debug_integer("k_vdma_copy_address_ex::heigh
                    t:",height);
 31565                        ;
 31566                        ;
 31567                        ;
 31568                        ;	VDMA_CONTROL_REG[0] = ( VDMA_CTRL_ENABLE | VDMA_
                    CTRL_1D_2D );
 31569             00000000   pos_1	set	0
 31570             00000002   spinLock_1	set	2
  Thu Jul 22 2021 22:51                                                Page 582


 31571             00000004   status_1	set	4
 31572                        	.sym	pos,0,5,1,16
 31573                        	.sym	spinLock,2,16,1,16
 31574                        	.sym	status,4,14,1,8
 31575                        	.sym	pdst,4,142,6,32
 31576                        	.sym	psrc,8,142,6,32
 31577                        	.sym	width,12,5,6,16
 31578                        	.sym	height,14,5,6,16
 31579 06:8321: 64 09        	stz	<L1395+pos_1
 31580 06:8323: 64 0B        	stz	<L1395+spinLock_1
 31581 06:8325: E2 20        	sep	#$20
 31582                        	longa	off
 31583 06:8327: A9 80        	lda	#$80
 31584 06:8329: 85 0D        	sta	<L1395+status_1
 31585 06:832B: C2 20        	rep	#$20
 31586                        	longa	on
 31587                        	.line	5867
 31588 06:832D: E2 20        	sep	#$20
 31589                        	longa	off
 31590 06:832F: A9 03        	lda	#$3
 31591 06:8331: 8F 00 04 AF  	sta	>11469824
 31592 06:8335: C2 20        	rep	#$20
 31593                        	longa	on
 31594                        ;
 31595                        ;	VDMA_SRC_ADDY_L[0] = L24BYTE((long)psrc);
 31596                        	.line	5869
 31597 06:8337: E2 20        	sep	#$20
 31598                        	longa	off
 31599 06:8339: A5 15        	lda	<L1394+psrc_0
 31600 06:833B: 8F 02 04 AF  	sta	>11469826
 31601 06:833F: C2 20        	rep	#$20
 31602                        	longa	on
 31603                        ;	VDMA_SRC_ADDY_M[0] = M24BYTE((long)psrc);
 31604                        	.line	5870
 31605 06:8341: D4 17        	pei	<L1394+psrc_0+2
 31606 06:8343: D4 15        	pei	<L1394+psrc_0
 31607 06:8345: A9 08 00     	lda	#$8
 31608                        	xref	~~~llsr
 31609 06:8348: 22 xx xx xx  	jsl	~~~llsr
 31610 06:834C: 85 01        	sta	<R0
 31611 06:834E: 86 03        	stx	<R0+2
 31612 06:8350: A5 01        	lda	<R0
 31613 06:8352: 29 FF 00     	and	#<$ff
 31614 06:8355: 85 05        	sta	<R1
 31615 06:8357: 64 07        	stz	<R1+2
 31616 06:8359: E2 20        	sep	#$20
 31617                        	longa	off
 31618 06:835B: A5 05        	lda	<R1
 31619 06:835D: 8F 03 04 AF  	sta	>11469827
 31620 06:8361: C2 20        	rep	#$20
 31621                        	longa	on
 31622                        ;	VDMA_SRC_ADDY_H[0] = H24BYTE((long)psrc);
 31623                        	.line	5871
 31624 06:8363: D4 17        	pei	<L1394+psrc_0+2
 31625 06:8365: D4 15        	pei	<L1394+psrc_0
 31626 06:8367: A9 10 00     	lda	#$10
 31627                        	xref	~~~llsr
 31628 06:836A: 22 xx xx xx  	jsl	~~~llsr
  Thu Jul 22 2021 22:51                                                Page 583


 31629 06:836E: 85 01        	sta	<R0
 31630 06:8370: 86 03        	stx	<R0+2
 31631 06:8372: A5 01        	lda	<R0
 31632 06:8374: 29 FF 00     	and	#<$ff
 31633 06:8377: 85 05        	sta	<R1
 31634 06:8379: 64 07        	stz	<R1+2
 31635 06:837B: E2 20        	sep	#$20
 31636                        	longa	off
 31637 06:837D: A5 05        	lda	<R1
 31638 06:837F: 8F 04 04 AF  	sta	>11469828
 31639 06:8383: C2 20        	rep	#$20
 31640                        	longa	on
 31641                        ;
 31642                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 31643                        	.line	5873
 31644 06:8385: E2 20        	sep	#$20
 31645                        	longa	off
 31646 06:8387: A5 11        	lda	<L1394+pdst_0
 31647 06:8389: 8F 05 04 AF  	sta	>11469829
 31648 06:838D: C2 20        	rep	#$20
 31649                        	longa	on
 31650                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 31651                        	.line	5874
 31652 06:838F: D4 13        	pei	<L1394+pdst_0+2
 31653 06:8391: D4 11        	pei	<L1394+pdst_0
 31654 06:8393: A9 08 00     	lda	#$8
 31655                        	xref	~~~llsr
 31656 06:8396: 22 xx xx xx  	jsl	~~~llsr
 31657 06:839A: 85 01        	sta	<R0
 31658 06:839C: 86 03        	stx	<R0+2
 31659 06:839E: A5 01        	lda	<R0
 31660 06:83A0: 29 FF 00     	and	#<$ff
 31661 06:83A3: 85 05        	sta	<R1
 31662 06:83A5: 64 07        	stz	<R1+2
 31663 06:83A7: E2 20        	sep	#$20
 31664                        	longa	off
 31665 06:83A9: A5 05        	lda	<R1
 31666 06:83AB: 8F 06 04 AF  	sta	>11469830
 31667 06:83AF: C2 20        	rep	#$20
 31668                        	longa	on
 31669                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 31670                        	.line	5875
 31671 06:83B1: D4 13        	pei	<L1394+pdst_0+2
 31672 06:83B3: D4 11        	pei	<L1394+pdst_0
 31673 06:83B5: A9 10 00     	lda	#$10
 31674                        	xref	~~~llsr
 31675 06:83B8: 22 xx xx xx  	jsl	~~~llsr
 31676 06:83BC: 85 01        	sta	<R0
 31677 06:83BE: 86 03        	stx	<R0+2
 31678 06:83C0: A5 01        	lda	<R0
 31679 06:83C2: 29 FF 00     	and	#<$ff
 31680 06:83C5: 85 05        	sta	<R1
 31681 06:83C7: 64 07        	stz	<R1+2
 31682 06:83C9: E2 20        	sep	#$20
 31683                        	longa	off
 31684 06:83CB: A5 05        	lda	<R1
 31685 06:83CD: 8F 07 04 AF  	sta	>11469831
 31686 06:83D1: C2 20        	rep	#$20
  Thu Jul 22 2021 22:51                                                Page 584


 31687                        	longa	on
 31688                        ;
 31689                        ;	VDMA_X_SIZE_L[0] = LOBYTE(width);
 31690                        	.line	5877
 31691 06:83D3: E2 20        	sep	#$20
 31692                        	longa	off
 31693 06:83D5: A5 19        	lda	<L1394+width_0
 31694 06:83D7: 8F 08 04 AF  	sta	>11469832
 31695 06:83DB: C2 20        	rep	#$20
 31696                        	longa	on
 31697                        ;	VDMA_X_SIZE_H[0] = HIBYTE(width);
 31698                        	.line	5878
 31699 06:83DD: A5 19        	lda	<L1394+width_0
 31700 06:83DF: A2 08 00     	ldx	#<$8
 31701                        	xref	~~~asr
 31702 06:83E2: 22 xx xx xx  	jsl	~~~asr
 31703 06:83E6: 29 FF 00     	and	#<$ff
 31704 06:83E9: 85 01        	sta	<R0
 31705 06:83EB: E2 20        	sep	#$20
 31706                        	longa	off
 31707 06:83ED: A5 01        	lda	<R0
 31708 06:83EF: 8F 09 04 AF  	sta	>11469833
 31709 06:83F3: C2 20        	rep	#$20
 31710                        	longa	on
 31711                        ;
 31712                        ;	VDMA_Y_SIZE_L[0] = LOBYTE(height);
 31713                        	.line	5880
 31714 06:83F5: E2 20        	sep	#$20
 31715                        	longa	off
 31716 06:83F7: A5 1B        	lda	<L1394+height_0
 31717 06:83F9: 8F 0A 04 AF  	sta	>11469834
 31718 06:83FD: C2 20        	rep	#$20
 31719                        	longa	on
 31720                        ;	VDMA_Y_SIZE_H[0] = HIBYTE(height);
 31721                        	.line	5881
 31722 06:83FF: A5 1B        	lda	<L1394+height_0
 31723 06:8401: A2 08 00     	ldx	#<$8
 31724                        	xref	~~~asr
 31725 06:8404: 22 xx xx xx  	jsl	~~~asr
 31726 06:8408: 29 FF 00     	and	#<$ff
 31727 06:840B: 85 01        	sta	<R0
 31728 06:840D: E2 20        	sep	#$20
 31729                        	longa	off
 31730 06:840F: A5 01        	lda	<R0
 31731 06:8411: 8F 0B 04 AF  	sta	>11469835
 31732 06:8415: C2 20        	rep	#$20
 31733                        	longa	on
 31734                        ;	VDMA_Y_SIZE_H[1] = 0x00;
 31735                        	.line	5882
 31736 06:8417: E2 20        	sep	#$20
 31737                        	longa	off
 31738 06:8419: A9 00        	lda	#$0
 31739 06:841B: 8F 0C 04 AF  	sta	>11469836
 31740 06:841F: C2 20        	rep	#$20
 31741                        	longa	on
 31742                        ;
 31743                        ;
 31744                        ;	*VDMA_SRC_STRIDE_L  = 0x80;
  Thu Jul 22 2021 22:51                                                Page 585


 31745                        	.line	5885
 31746 06:8421: E2 20        	sep	#$20
 31747                        	longa	off
 31748 06:8423: A9 80        	lda	#$80
 31749 06:8425: 8F 0C 04 AF  	sta	>11469836
 31750 06:8429: C2 20        	rep	#$20
 31751                        	longa	on
 31752                        ;	*VDMA_SRC_STRIDE_H  = 0x02;
 31753                        	.line	5886
 31754 06:842B: E2 20        	sep	#$20
 31755                        	longa	off
 31756 06:842D: A9 02        	lda	#$2
 31757 06:842F: 8F 0D 04 AF  	sta	>11469837
 31758 06:8433: C2 20        	rep	#$20
 31759                        	longa	on
 31760                        ;
 31761                        ;	*VDMA_DST_STRIDE_L  = 0x80;
 31762                        	.line	5888
 31763 06:8435: E2 20        	sep	#$20
 31764                        	longa	off
 31765 06:8437: A9 80        	lda	#$80
 31766 06:8439: 8F 0E 04 AF  	sta	>11469838
 31767 06:843D: C2 20        	rep	#$20
 31768                        	longa	on
 31769                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 31770                        	.line	5889
 31771 06:843F: E2 20        	sep	#$20
 31772                        	longa	off
 31773 06:8441: A9 02        	lda	#$2
 31774 06:8443: 8F 0F 04 AF  	sta	>11469839
 31775 06:8447: C2 20        	rep	#$20
 31776                        	longa	on
 31777                        ;
 31778                        ;    VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VD
                    MA_CTRL_1D_2D | VDMA_CTRL_START_TRF);
 31779                        	.line	5891
 31780 06:8449: E2 20        	sep	#$20
 31781                        	longa	off
 31782 06:844B: A9 83        	lda	#$83
 31783 06:844D: 8F 00 04 AF  	sta	>11469824
 31784 06:8451: C2 20        	rep	#$20
 31785                        	longa	on
 31786                        ;
 31787                        ;    asm NOP;
 31788                        	.line	5893
 31789                        	asmstart
 31790 06:8453: EA           	NOP
 31791                        	asmend
 31792                        ;    asm NOP;
 31793                        	.line	5894
 31794                        	asmstart
 31795 06:8454: EA           	NOP
 31796                        	asmend
 31797                        ;    asm NOP;
 31798                        	.line	5895
 31799                        	asmstart
 31800 06:8455: EA           	NOP
 31801                        	asmend
  Thu Jul 22 2021 22:51                                                Page 586


 31802                        ;
 31803                        ;	while(status == VDMA_STAT_VDMA_IPS)
 31804                        	.line	5897
 31805                        L10539:
 31806 06:8456: E2 20        	sep	#$20
 31807                        	longa	off
 31808 06:8458: A5 0D        	lda	<L1395+status_1
 31809 06:845A: C9 80        	cmp	#<$80
 31810 06:845C: C2 20        	rep	#$20
 31811                        	longa	on
 31812 06:845E: F0 03        	beq	L1397
 31813 06:8460: 82 1E 00     	brl	L10540
 31814                        L1397:
 31815                        ;	{
 31816                        	.line	5898
 31817                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 31818                        	.line	5899
 31819 06:8463: E2 20        	sep	#$20
 31820                        	longa	off
 31821 06:8465: AF 01 04 AF  	lda	>11469825
 31822 06:8469: 29 80        	and	#<$80
 31823 06:846B: 85 0D        	sta	<L1395+status_1
 31824 06:846D: C2 20        	rep	#$20
 31825                        	longa	on
 31826                        ;		spinLock++;
 31827                        	.line	5900
 31828 06:846F: E6 0B        	inc	<L1395+spinLock_1
 31829                        ;
 31830                        ;		if(spinLock > 32000)
 31831                        	.line	5902
 31832                        ;		{
 31833 06:8471: A9 00 7D     	lda	#$7d00
 31834 06:8474: C5 0B        	cmp	<L1395+spinLock_1
 31835 06:8476: 90 03        	bcc	L1398
 31836 06:8478: 82 03 00     	brl	L10541
 31837                        L1398:
 31838                        	.line	5903
 31839                        ;			break;
 31840                        	.line	5904
 31841 06:847B: 82 03 00     	brl	L10540
 31842                        ;		}
 31843                        	.line	5905
 31844                        ;	}
 31845                        L10541:
 31846                        	.line	5906
 31847 06:847E: 82 D5 FF     	brl	L10539
 31848                        L10540:
 31849                        ;
 31850                        ;#ifdef USE_MAX_DEBUG
 31851                        ;	k_debug_integer("k_vdma_copy_address_ex::spinLoc
                    k:",spinLock);
 31852                        ;#endif
 31853                        ;
 31854                        ;	asm NOP;
 31855                        	.line	5912
 31856                        	asmstart
 31857 06:8481: EA           	NOP
  Thu Jul 22 2021 22:51                                                Page 587


 31858                        	asmend
 31859                        ;
 31860                        ;	VDMA_CONTROL_REG[0] = 0;
 31861                        	.line	5914
 31862 06:8482: E2 20        	sep	#$20
 31863                        	longa	off
 31864 06:8484: A9 00        	lda	#$0
 31865 06:8486: 8F 00 04 AF  	sta	>11469824
 31866 06:848A: C2 20        	rep	#$20
 31867                        	longa	on
 31868                        ;
 31869                        ;   return ;
 31870                        	.line	5916
 31871                        L1399:
 31872 06:848C: A5 0F        	lda	<L1394+2
 31873 06:848E: 85 1B        	sta	<L1394+2+12
 31874 06:8490: A5 0E        	lda	<L1394+1
 31875 06:8492: 85 1A        	sta	<L1394+1+12
 31876 06:8494: 2B           	pld
 31877 06:8495: 3B           	tsc
 31878 06:8496: 18           	clc
 31879 06:8497: 69 19 00     	adc	#L1394+12
 31880 06:849A: 1B           	tcs
 31881 06:849B: 6B           	rtl
 31882                        ;}
 31883                        	.line	5917
 31884                        	.endblock	5917
 31885             0000000D   L1394	equ	13
 31886             00000009   L1395	equ	9
 31887 06:849C:              	ends
 31888                        	efunc
 31889                        	.endfunc	5917,9,13
 31890                        	.line	5917
 31891                        ;
 31892                        ;
 31893                        ;LPVOID k_gui_get_title_cache(HANDLE hTitle)
 31894                        ;{
 31895                        	.line	5920
 31896                        	.line	5921
 31897                        	GFX
 31898                        	xdef	~~k_gui_get_title_cache
 31899                        	func
 31900                        	.function	5921
 31901                        ~~k_gui_get_title_cache:
 31902                        	longa	on
 31903                        	longi	on
 31904 06:849C: 3B           	tsc
 31905 06:849D: 38           	sec
 31906 06:849E: E9 00 00     	sbc	#L1400
 31907 06:84A1: 1B           	tcs
 31908 06:84A2: 0B           	phd
 31909 06:84A3: 5B           	tcd
 31910             00000004   hTitle_0	set	4
 31911                        	.block	5921
 31912                        ;	return (LPVOID)TITLE_LINES_640x480;
 31913                        	.sym	hTitle,4,129,6,32
 31914                        	.line	5922
 31915 06:84A4: AE xx xx     	ldx	|~~TITLE_LINES_640x480+2
  Thu Jul 22 2021 22:51                                                Page 588


 31916 06:84A7: AD xx xx     	lda	|~~TITLE_LINES_640x480
 31917                        L1403:
 31918 06:84AA: A8           	tay
 31919 06:84AB: A5 02        	lda	<L1400+2
 31920 06:84AD: 85 06        	sta	<L1400+2+4
 31921 06:84AF: A5 01        	lda	<L1400+1
 31922 06:84B1: 85 05        	sta	<L1400+1+4
 31923 06:84B3: 2B           	pld
 31924 06:84B4: 3B           	tsc
 31925 06:84B5: 18           	clc
 31926 06:84B6: 69 04 00     	adc	#L1400+4
 31927 06:84B9: 1B           	tcs
 31928 06:84BA: 98           	tya
 31929 06:84BB: 6B           	rtl
 31930                        ;}
 31931                        	.line	5923
 31932                        	.endblock	5923
 31933             00000000   L1400	equ	0
 31934             00000001   L1401	equ	1
 31935 06:84BC:              	ends
 31936                        	efunc
 31937                        	.endfunc	5923,1,0
 31938                        	.line	5923
 31939                        ;
 31940                        ;HANDLE k_gui_build_title_cache(LPSTR lpstrTitle)
 31941                        ;{
 31942                        	.line	5925
 31943                        	.line	5926
 31944                        	GFX
 31945                        	xdef	~~k_gui_build_title_cache
 31946                        	func
 31947                        	.function	5926
 31948                        ~~k_gui_build_title_cache:
 31949                        	longa	on
 31950                        	longi	on
 31951 06:84BC: 3B           	tsc
 31952 06:84BD: 38           	sec
 31953 06:84BE: E9 12 00     	sbc	#L1404
 31954 06:84C1: 1B           	tcs
 31955 06:84C2: 0B           	phd
 31956 06:84C3: 5B           	tcd
 31957             00000004   lpstrTitle_0	set	4
 31958                        	.block	5926
 31959                        ;	int i = 0;
 31960                        ;	int x = 0;
 31961                        ;	int y = 400;
 31962                        ;	ULONG offset = 0;
 31963                        ;
 31964                        ;	k_debug_strings("k_gui_build_title_cache:","CACH
                    ED");
 31965             00000000   i_1	set	0
 31966             00000002   x_1	set	2
 31967             00000004   y_1	set	4
 31968             00000006   offset_1	set	6
 31969                        	.sym	i,0,5,1,16
 31970                        	.sym	x,2,5,1,16
 31971                        	.sym	y,4,5,1,16
 31972                        	.sym	offset,6,18,1,32
  Thu Jul 22 2021 22:51                                                Page 589


 31973                        	.sym	lpstrTitle,4,142,6,32
 31974 06:84C4: 64 09        	stz	<L1405+i_1
 31975 06:84C6: 64 0B        	stz	<L1405+x_1
 31976 06:84C8: A9 90 01     	lda	#$190
 31977 06:84CB: 85 0D        	sta	<L1405+y_1
 31978 06:84CD: 64 0F        	stz	<L1405+offset_1
 31979 06:84CF: 64 11        	stz	<L1405+offset_1+2
 31980                        	.line	5932
 31981 06:84D1: F4 xx xx     	pea	#^L1294+25
 31982 06:84D4: F4 xx xx     	pea	#<L1294+25
 31983 06:84D7: F4 xx xx     	pea	#^L1294
 31984 06:84DA: F4 xx xx     	pea	#<L1294
 31985 06:84DD: 22 xx xx xx  	jsl	~~k_debug_strings
 31986                        ;
 31987                        ;	offset = (ULONG)k_gui_get_pixel_offset(x,y);
 31988                        	.line	5934
 31989 06:84E1: D4 0D        	pei	<L1405+y_1
 31990 06:84E3: D4 0B        	pei	<L1405+x_1
 31991 06:84E5: 22 B4 07 06  	jsl	~~k_gui_get_pixel_offset
 31992 06:84E9: 85 0F        	sta	<L1405+offset_1
 31993 06:84EB: 86 11        	stx	<L1405+offset_1+2
 31994                        ;
 31995                        ;	TITLE_LINES_640x480 = (LPSTR)((ULONG)0x080000 + 
                    (ULONG)offset);
 31996                        	.line	5936
 31997 06:84ED: 18           	clc
 31998 06:84EE: A9 00 00     	lda	#$0
 31999 06:84F1: 65 0F        	adc	<L1405+offset_1
 32000 06:84F3: 85 01        	sta	<R0
 32001 06:84F5: A9 08 00     	lda	#$8
 32002 06:84F8: 65 11        	adc	<L1405+offset_1+2
 32003 06:84FA: 85 03        	sta	<R0+2
 32004 06:84FC: A5 01        	lda	<R0
 32005 06:84FE: 8D xx xx     	sta	|~~TITLE_LINES_640x480
 32006 06:8501: A5 03        	lda	<R0+2
 32007 06:8503: 8D xx xx     	sta	|~~TITLE_LINES_640x480+2
 32008                        ;
 32009                        ;	k_debug_pointer("k_gui_build_title_cache:",TITLE
                    _LINES_640x480);
 32010                        	.line	5938
 32011 06:8506: AD xx xx     	lda	|~~TITLE_LINES_640x480+2
 32012 06:8509: 48           	pha
 32013 06:850A: AD xx xx     	lda	|~~TITLE_LINES_640x480
 32014 06:850D: 48           	pha
 32015 06:850E: F4 xx xx     	pea	#^L1294+32
 32016 06:8511: F4 xx xx     	pea	#<L1294+32
 32017 06:8514: 22 xx xx xx  	jsl	~~k_debug_pointer
 32018                        ;
 32019                        ;	k_vdma_fill_rect_ex(x,y,640,8,15,BITMAP_BACK);
 32020                        	.line	5940
 32021 06:8518: F4 08 00     	pea	#<$8
 32022 06:851B: F4 0F 00     	pea	#<$f
 32023 06:851E: F4 08 00     	pea	#<$8
 32024 06:8521: F4 80 02     	pea	#<$280
 32025 06:8524: A0 00 00     	ldy	#$0
 32026 06:8527: A5 0D        	lda	<L1405+y_1
 32027 06:8529: 10 01        	bpl	L1407
 32028 06:852B: 88           	dey
  Thu Jul 22 2021 22:51                                                Page 590


 32029                        L1407:
 32030 06:852C: 85 01        	sta	<R0
 32031 06:852E: 84 03        	sty	<R0+2
 32032 06:8530: D4 03        	pei	<R0+2
 32033 06:8532: D4 01        	pei	<R0
 32034 06:8534: A0 00 00     	ldy	#$0
 32035 06:8537: A5 0B        	lda	<L1405+x_1
 32036 06:8539: 10 01        	bpl	L1408
 32037 06:853B: 88           	dey
 32038                        L1408:
 32039 06:853C: 85 05        	sta	<R1
 32040 06:853E: 84 07        	sty	<R1+2
 32041 06:8540: D4 07        	pei	<R1+2
 32042 06:8542: D4 05        	pei	<R1
 32043 06:8544: 22 8B 5E 06  	jsl	~~k_vdma_fill_rect_ex
 32044                        ;
 32045                        ;	for(i=0;i<80;i++)
 32046                        	.line	5942
 32047 06:8548: 64 09        	stz	<L1405+i_1
 32048                        L10544:
 32049                        ;	{
 32050                        	.line	5943
 32051                        ;		x+=k_put_wingadget_point_ex(WINICON_TITL
                    E_LINES,x,y,k_getUIGadgetColor(),0x08);
 32052                        	.line	5944
 32053 06:854A: F4 08 00     	pea	#<$8
 32054 06:854D: 22 D8 12 06  	jsl	~~k_getUIGadgetColor
 32055 06:8551: 48           	pha
 32056 06:8552: D4 0D        	pei	<L1405+y_1
 32057 06:8554: D4 0B        	pei	<L1405+x_1
 32058 06:8556: F4 01 00     	pea	#<$1
 32059 06:8559: 22 52 2C 06  	jsl	~~k_put_wingadget_point_ex
 32060 06:855D: 85 01        	sta	<R0
 32061 06:855F: 18           	clc
 32062 06:8560: A5 01        	lda	<R0
 32063 06:8562: 65 0B        	adc	<L1405+x_1
 32064 06:8564: 85 0B        	sta	<L1405+x_1
 32065                        ;		//x+=k_put_wingadget_point_ex(WINICON_TI
                    TLE_LINES,x,y,15,0x08);
 32066                        ;	}
 32067                        	.line	5946
 32068                        L10542:
 32069 06:8566: E6 09        	inc	<L1405+i_1
 32070 06:8568: 38           	sec
 32071 06:8569: A5 09        	lda	<L1405+i_1
 32072 06:856B: E9 50 00     	sbc	#<$50
 32073 06:856E: 70 03        	bvs	L1409
 32074 06:8570: 49 00 80     	eor	#$8000
 32075                        L1409:
 32076 06:8573: 30 03        	bmi	L1410
 32077 06:8575: 82 D2 FF     	brl	L10544
 32078                        L1410:
 32079                        L10543:
 32080                        ;
 32081                        ;	k_vdma_copy_address_ex((LPSTR)((ULONG)0x080000 +
                     k_gui_get_pixel_offset(0,420)),TITLE_LINES_640x480,640,8);
 32082                        	.line	5948
 32083 06:8578: F4 08 00     	pea	#<$8
  Thu Jul 22 2021 22:51                                                Page 591


 32084 06:857B: F4 80 02     	pea	#<$280
 32085 06:857E: AD xx xx     	lda	|~~TITLE_LINES_640x480+2
 32086 06:8581: 48           	pha
 32087 06:8582: AD xx xx     	lda	|~~TITLE_LINES_640x480
 32088 06:8585: 48           	pha
 32089 06:8586: F4 A4 01     	pea	#<$1a4
 32090 06:8589: F4 00 00     	pea	#<$0
 32091 06:858C: 22 B4 07 06  	jsl	~~k_gui_get_pixel_offset
 32092 06:8590: 85 01        	sta	<R0
 32093 06:8592: 86 03        	stx	<R0+2
 32094 06:8594: 18           	clc
 32095 06:8595: A9 00 00     	lda	#$0
 32096 06:8598: 65 01        	adc	<R0
 32097 06:859A: 85 05        	sta	<R1
 32098 06:859C: A9 08 00     	lda	#$8
 32099 06:859F: 65 03        	adc	<R0+2
 32100 06:85A1: 85 07        	sta	<R1+2
 32101 06:85A3: D4 07        	pei	<R1+2
 32102 06:85A5: D4 05        	pei	<R1
 32103 06:85A7: 22 19 83 06  	jsl	~~k_vdma_copy_address_ex
 32104                        ;
 32105                        ;	return NULL;
 32106                        	.line	5950
 32107 06:85AB: A9 00 00     	lda	#$0
 32108 06:85AE: AA           	tax
 32109 06:85AF: A9 00 00     	lda	#$0
 32110                        L1411:
 32111 06:85B2: A8           	tay
 32112 06:85B3: A5 14        	lda	<L1404+2
 32113 06:85B5: 85 18        	sta	<L1404+2+4
 32114 06:85B7: A5 13        	lda	<L1404+1
 32115 06:85B9: 85 17        	sta	<L1404+1+4
 32116 06:85BB: 2B           	pld
 32117 06:85BC: 3B           	tsc
 32118 06:85BD: 18           	clc
 32119 06:85BE: 69 16 00     	adc	#L1404+4
 32120 06:85C1: 1B           	tcs
 32121 06:85C2: 98           	tya
 32122 06:85C3: 6B           	rtl
 32123                        ;}
 32124                        	.line	5951
 32125                        	.endblock	5951
 32126             00000012   L1404	equ	18
 32127             00000009   L1405	equ	9
 32128 06:85C4:              	ends
 32129                        	efunc
 32130                        	.endfunc	5951,9,18
 32131                        	.line	5951
 32132                        	data
 32133                        L1294:
 32134 00:0CB6: 6B 5F 67 75  	db	$6B,$5F,$67,$75,$69,$5F,$62,$75,$69,$6C,
                    $64,$5F,$74,$69,$74
       00:0CBA: 69 5F 62 75 
       00:0CBE: 69 6C 64 5F 
       00:0CC2: 74 69 74 
 32135 00:0CC5: 6C 65 5F 63  	db	$6C,$65,$5F,$63,$61,$63,$68,$65,$3A,$00,
                    $43,$41,$43,$48,$45
       00:0CC9: 61 63 68 65 
  Thu Jul 22 2021 22:51                                                Page 592


       00:0CCD: 3A 00 43 41 
       00:0CD1: 43 48 45 
 32136 00:0CD4: 44 00 6B 5F  	db	$44,$00,$6B,$5F,$67,$75,$69,$5F,$62,$75,
                    $69,$6C,$64,$5F,$74
       00:0CD8: 67 75 69 5F 
       00:0CDC: 62 75 69 6C 
       00:0CE0: 64 5F 74 
 32137 00:0CE3: 69 74 6C 65  	db	$69,$74,$6C,$65,$5F,$63,$61,$63,$68,$65,
                    $3A,$00
       00:0CE7: 5F 63 61 63 
       00:0CEB: 68 65 3A 00 
 32138 00:0CEF:              	ends
 32139                        ;
 32140                        ;#include "bmp/cbmp.c"
 32141                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\bmp/cbmp.c",0
 32142                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",0
 32143                        	.line	30
 32144                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\bmp/cbmp.c",1
 32145                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\bmp/cbmp.h",0
 32146                        	.stag	tagBITMAPFILEHEADER,96,88
 32147                        	.member	bfSize,0,18,8,32
 32148                        	.member	bfReserved1,32,15,8,16
 32149                        	.member	bfReserved2,48,15,8,16
 32150                        	.member	bfOffBits,64,18,8,32
 32151                        	.eos
 32152                        	.stag	tagBITMAPINFOHEADER,320,89
 32153                        	.member	biSize,0,18,8,32
 32154                        	.member	biWidth,32,7,8,32
 32155                        	.member	biHeight,64,7,8,32
 32156                        	.member	biPlanes,96,15,8,16
 32157                        	.member	biBitCount,112,15,8,16
 32158                        	.member	biCompression,128,18,8,32
 32159                        	.member	biSizeImage,160,18,8,32
 32160                        	.member	biXPelsPerMeter,192,18,8,32
 32161                        	.member	biYPelsPerMeter,224,18,8,32
 32162                        	.member	biClrUsed,256,18,8,32
 32163                        	.member	biClrImportant,288,18,8,32
 32164                        	.eos
 32165                        	.stag	_PixelInfo,32,90
 32166                        	.member	rgbBlue,0,14,8,8
 32167                        	.member	rgbGreen,8,14,8,8
 32168                        	.member	rgbRed,16,14,8,8
 32169                        	.member	rgbReserved,24,14,8,8
 32170                        	.eos
 32171                        	.line	49
 32172                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\bmp/cbmp.c",2
 32173                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\bmp/cbmp.c",7
 32174                        	.line	8
 32175                        	GFX
 32176                        	xdef	~~showBmpHead
 32177                        	func
 32178                        	.function	8
  Thu Jul 22 2021 22:51                                                Page 593


 32179                        ~~showBmpHead:
 32180                        	longa	on
 32181                        	longi	on
 32182 06:85C4: 3B           	tsc
 32183 06:85C5: 38           	sec
 32184 06:85C6: E9 04 00     	sbc	#L1413
 32185 06:85C9: 1B           	tcs
 32186 06:85CA: 0B           	phd
 32187 06:85CB: 5B           	tcd
 32188             00000004   pBmpHead_0	set	4
 32189                        	.block	8
 32190                        	.sym	pBmpHead,4,10,6,96,88
 32191                        	.line	9
 32192 06:85CC: AD xx xx     	lda	|~~fileHeader+2
 32193 06:85CF: 48           	pha
 32194 06:85D0: AD xx xx     	lda	|~~fileHeader
 32195 06:85D3: 48           	pha
 32196 06:85D4: A9 0A 00     	lda	#$a
 32197                        	xref	~~~llsr
 32198 06:85D7: 22 xx xx xx  	jsl	~~~llsr
 32199 06:85DB: 85 01        	sta	<R0
 32200 06:85DD: 86 03        	stx	<R0+2
 32201 06:85DF: D4 03        	pei	<R0+2
 32202 06:85E1: D4 01        	pei	<R0
 32203 06:85E3: F4 xx xx     	pea	#^L1412
 32204 06:85E6: F4 xx xx     	pea	#<L1412
 32205 06:85E9: 22 xx xx xx  	jsl	~~k_debug_long
 32206                        	.line	10
 32207 06:85ED: AD xx xx     	lda	|~~fileHeader+4
 32208 06:85F0: 85 01        	sta	<R0
 32209 06:85F2: 64 03        	stz	<R0+2
 32210 06:85F4: D4 03        	pei	<R0+2
 32211 06:85F6: D4 01        	pei	<R0
 32212 06:85F8: F4 xx xx     	pea	#^L1412+16
 32213 06:85FB: F4 xx xx     	pea	#<L1412+16
 32214 06:85FE: 22 xx xx xx  	jsl	~~k_debug_long
 32215                        	.line	11
 32216 06:8602: AD xx xx     	lda	|~~fileHeader+6
 32217 06:8605: 85 01        	sta	<R0
 32218 06:8607: 64 03        	stz	<R0+2
 32219 06:8609: D4 03        	pei	<R0+2
 32220 06:860B: D4 01        	pei	<R0
 32221 06:860D: F4 xx xx     	pea	#^L1412+43
 32222 06:8610: F4 xx xx     	pea	#<L1412+43
 32223 06:8613: 22 xx xx xx  	jsl	~~k_debug_long
 32224                        	.line	12
 32225 06:8617: AD xx xx     	lda	|~~fileHeader+8+2
 32226 06:861A: 48           	pha
 32227 06:861B: AD xx xx     	lda	|~~fileHeader+8
 32228 06:861E: 48           	pha
 32229 06:861F: F4 xx xx     	pea	#^L1412+70
 32230 06:8622: F4 xx xx     	pea	#<L1412+70
 32231 06:8625: 22 xx xx xx  	jsl	~~k_debug_long
 32232                        	.line	13
 32233                        L1416:
 32234 06:8629: A5 06        	lda	<L1413+2
 32235 06:862B: 85 12        	sta	<L1413+2+12
 32236 06:862D: A5 05        	lda	<L1413+1
  Thu Jul 22 2021 22:51                                                Page 594


 32237 06:862F: 85 11        	sta	<L1413+1+12
 32238 06:8631: 2B           	pld
 32239 06:8632: 3B           	tsc
 32240 06:8633: 18           	clc
 32241 06:8634: 69 10 00     	adc	#L1413+12
 32242 06:8637: 1B           	tcs
 32243 06:8638: 6B           	rtl
 32244                        	.endblock	13
 32245             00000004   L1413	equ	4
 32246             00000005   L1414	equ	5
 32247 06:8639:              	ends
 32248                        	efunc
 32249                        	.endfunc	13,5,4
 32250                        	.line	13
 32251                        	data
 32252                        L1412:
 32253 00:0CEF: 42 4D 50 20  	db	$42,$4D,$50,$20,$66,$69,$6C,$65,$20,$73,
                    $69,$7A,$65,$3A,$20
       00:0CF3: 66 69 6C 65 
       00:0CF7: 20 73 69 7A 
       00:0CFB: 65 3A 20 
 32254 00:0CFE: 00 52 65 73  	db	$00,$52,$65,$73,$65,$72,$76,$65,$64,$20,
                    $77,$6F,$72,$64,$73
       00:0D02: 65 72 76 65 
       00:0D06: 64 20 77 6F 
       00:0D0A: 72 64 73 
 32255 00:0D0D: 20 6D 75 73  	db	$20,$6D,$75,$73,$74,$20,$62,$65,$20,$30,
                    $3A,$20,$00,$52,$65
       00:0D11: 74 20 62 65 
       00:0D15: 20 30 3A 20 
       00:0D19: 00 52 65 
 32256 00:0D1C: 73 65 72 76  	db	$73,$65,$72,$76,$65,$64,$20,$77,$6F,$72,
                    $64,$73,$20,$6D,$75
       00:0D20: 65 64 20 77 
       00:0D24: 6F 72 64 73 
       00:0D28: 20 6D 75 
 32257 00:0D2B: 73 74 20 62  	db	$73,$74,$20,$62,$65,$20,$30,$3A,$20,$00,
                    $4F,$66,$66,$73,$65
       00:0D2F: 65 20 30 3A 
       00:0D33: 20 00 4F 66 
       00:0D37: 66 73 65 
 32258 00:0D3A: 74 20 62 79  	db	$74,$20,$62,$79,$74,$65,$73,$20,$6F,$66,
                    $20,$61,$63,$74,$75
       00:0D3E: 74 65 73 20 
       00:0D42: 6F 66 20 61 
       00:0D46: 63 74 75 
 32259 00:0D49: 61 6C 20 62  	db	$61,$6C,$20,$62,$69,$74,$6D,$61,$70,$20,
                    $64,$61,$74,$61,$3A
       00:0D4D: 69 74 6D 61 
       00:0D51: 70 20 64 61 
       00:0D55: 74 61 3A 
 32260 00:0D58: 20 00        	db	$20,$00
 32261 00:0D5A:              	ends
 32262                        	.line	15
 32263                        	.line	16
 32264                        	GFX
 32265                        	xdef	~~showBmpInfoHead
 32266                        	func
  Thu Jul 22 2021 22:51                                                Page 595


 32267                        	.function	16
 32268                        ~~showBmpInfoHead:
 32269                        	longa	on
 32270                        	longi	on
 32271 06:8639: 3B           	tsc
 32272 06:863A: 38           	sec
 32273 06:863B: E9 04 00     	sbc	#L1418
 32274 06:863E: 1B           	tcs
 32275 06:863F: 0B           	phd
 32276 06:8640: 5B           	tcd
 32277             00000004   pBmpinfoHead_0	set	4
 32278                        	.block	16
 32279                        	.sym	pBmpinfoHead,4,10,6,320,89
 32280                        	.line	17
 32281 06:8641: F4 xx xx     	pea	#^L1417
 32282 06:8644: F4 xx xx     	pea	#<L1417
 32283 06:8647: 22 xx xx xx  	jsl	~~k_debug_string
 32284                        	.line	18
 32285 06:864B: AD xx xx     	lda	|~~infoHeader+2
 32286 06:864E: 48           	pha
 32287 06:864F: AD xx xx     	lda	|~~infoHeader
 32288 06:8652: 48           	pha
 32289 06:8653: F4 xx xx     	pea	#^L1417+29
 32290 06:8656: F4 xx xx     	pea	#<L1417+29
 32291 06:8659: 22 xx xx xx  	jsl	~~k_debug_long
 32292                        	.line	19
 32293 06:865D: AD xx xx     	lda	|~~infoHeader+4+2
 32294 06:8660: 48           	pha
 32295 06:8661: AD xx xx     	lda	|~~infoHeader+4
 32296 06:8664: 48           	pha
 32297 06:8665: F4 xx xx     	pea	#^L1417+62
 32298 06:8668: F4 xx xx     	pea	#<L1417+62
 32299 06:866B: 22 xx xx xx  	jsl	~~k_debug_long
 32300                        	.line	20
 32301 06:866F: AD xx xx     	lda	|~~infoHeader+8+2
 32302 06:8672: 48           	pha
 32303 06:8673: AD xx xx     	lda	|~~infoHeader+8
 32304 06:8676: 48           	pha
 32305 06:8677: F4 xx xx     	pea	#^L1417+77
 32306 06:867A: F4 xx xx     	pea	#<L1417+77
 32307 06:867D: 22 xx xx xx  	jsl	~~k_debug_long
 32308                        	.line	21
 32309 06:8681: AD xx xx     	lda	|~~infoHeader+12
 32310 06:8684: 85 01        	sta	<R0
 32311 06:8686: 64 03        	stz	<R0+2
 32312 06:8688: D4 03        	pei	<R0+2
 32313 06:868A: D4 01        	pei	<R0
 32314 06:868C: F4 xx xx     	pea	#^L1417+93
 32315 06:868F: F4 xx xx     	pea	#<L1417+93
 32316 06:8692: 22 xx xx xx  	jsl	~~k_debug_long
 32317                        	.line	22
 32318 06:8696: AD xx xx     	lda	|~~infoHeader+14
 32319 06:8699: 85 01        	sta	<R0
 32320 06:869B: 64 03        	stz	<R0+2
 32321 06:869D: D4 03        	pei	<R0+2
 32322 06:869F: D4 01        	pei	<R0
 32323 06:86A1: F4 xx xx     	pea	#^L1417+204
 32324 06:86A4: F4 xx xx     	pea	#<L1417+204
  Thu Jul 22 2021 22:51                                                Page 596


 32325 06:86A7: 22 xx xx xx  	jsl	~~k_debug_long
 32326                        	.line	23
 32327 06:86AB: AD xx xx     	lda	|~~infoHeader+16+2
 32328 06:86AE: 48           	pha
 32329 06:86AF: AD xx xx     	lda	|~~infoHeader+16
 32330 06:86B2: 48           	pha
 32331 06:86B3: F4 xx xx     	pea	#^L1417+231
 32332 06:86B6: F4 xx xx     	pea	#<L1417+231
 32333 06:86B9: 22 xx xx xx  	jsl	~~k_debug_long
 32334                        	.line	24
 32335 06:86BD: AD xx xx     	lda	|~~infoHeader+20+2
 32336 06:86C0: 48           	pha
 32337 06:86C1: AD xx xx     	lda	|~~infoHeader+20
 32338 06:86C4: 48           	pha
 32339 06:86C5: F4 xx xx     	pea	#^L1417+251
 32340 06:86C8: F4 xx xx     	pea	#<L1417+251
 32341 06:86CB: 22 xx xx xx  	jsl	~~k_debug_long
 32342                        	.line	25
 32343 06:86CF: AD xx xx     	lda	|~~infoHeader+24+2
 32344 06:86D2: 48           	pha
 32345 06:86D3: AD xx xx     	lda	|~~infoHeader+24
 32346 06:86D6: 48           	pha
 32347 06:86D7: F4 xx xx     	pea	#^L1417+264
 32348 06:86DA: F4 xx xx     	pea	#<L1417+264
 32349 06:86DD: 22 xx xx xx  	jsl	~~k_debug_long
 32350                        	.line	26
 32351 06:86E1: AD xx xx     	lda	|~~infoHeader+28+2
 32352 06:86E4: 48           	pha
 32353 06:86E5: AD xx xx     	lda	|~~infoHeader+28
 32354 06:86E8: 48           	pha
 32355 06:86E9: F4 xx xx     	pea	#^L1417+288
 32356 06:86EC: F4 xx xx     	pea	#<L1417+288
 32357 06:86EF: 22 xx xx xx  	jsl	~~k_debug_long
 32358                        	.line	27
 32359 06:86F3: AD xx xx     	lda	|~~infoHeader+32+2
 32360 06:86F6: 48           	pha
 32361 06:86F7: AD xx xx     	lda	|~~infoHeader+32
 32362 06:86FA: 48           	pha
 32363 06:86FB: F4 xx xx     	pea	#^L1417+310
 32364 06:86FE: F4 xx xx     	pea	#<L1417+310
 32365 06:8701: 22 xx xx xx  	jsl	~~k_debug_long
 32366                        	.line	28
 32367 06:8705: AD xx xx     	lda	|~~infoHeader+36+2
 32368 06:8708: 48           	pha
 32369 06:8709: AD xx xx     	lda	|~~infoHeader+36
 32370 06:870C: 48           	pha
 32371 06:870D: F4 xx xx     	pea	#^L1417+334
 32372 06:8710: F4 xx xx     	pea	#<L1417+334
 32373 06:8713: 22 xx xx xx  	jsl	~~k_debug_long
 32374                        	.line	29
 32375                        L1421:
 32376 06:8717: A5 06        	lda	<L1418+2
 32377 06:8719: 85 2E        	sta	<L1418+2+40
 32378 06:871B: A5 05        	lda	<L1418+1
 32379 06:871D: 85 2D        	sta	<L1418+1+40
 32380 06:871F: 2B           	pld
 32381 06:8720: 3B           	tsc
 32382 06:8721: 18           	clc
  Thu Jul 22 2021 22:51                                                Page 597


 32383 06:8722: 69 2C 00     	adc	#L1418+40
 32384 06:8725: 1B           	tcs
 32385 06:8726: 6B           	rtl
 32386                        	.endblock	29
 32387             00000004   L1418	equ	4
 32388             00000005   L1419	equ	5
 32389 06:8727:              	ends
 32390                        	efunc
 32391                        	.endfunc	29,5,4
 32392                        	.line	29
 32393                        	data
 32394                        L1417:
 32395 00:0D5A: 42 69 74 6D  	db	$42,$69,$74,$6D,$61,$70,$20,$49,$6E,$66,
                    $6F,$72,$6D,$61,$74
       00:0D5E: 61 70 20 49 
       00:0D62: 6E 66 6F 72 
       00:0D66: 6D 61 74 
 32396 00:0D69: 69 6F 6E 20  	db	$69,$6F,$6E,$20,$48,$65,$61,$64,$65,$72,
                    $3A,$0D,$0A,$00,$54
       00:0D6D: 48 65 61 64 
       00:0D71: 65 72 3A 0D 
       00:0D75: 0A 00 54 
 32397 00:0D78: 68 65 20 73  	db	$68,$65,$20,$73,$69,$7A,$65,$20,$6F,$66,
                    $20,$74,$68,$65,$20
       00:0D7C: 69 7A 65 20 
       00:0D80: 6F 66 20 74 
       00:0D84: 68 65 20 
 32398 00:0D87: 6D 65 73 73  	db	$6D,$65,$73,$73,$61,$67,$65,$20,$68,$65,
                    $61,$64,$65,$72,$3A
       00:0D8B: 61 67 65 20 
       00:0D8F: 68 65 61 64 
       00:0D93: 65 72 3A 
 32399 00:0D96: 20 00 42 69  	db	$20,$00,$42,$69,$74,$6D,$61,$70,$20,$77,
                    $69,$64,$74,$68,$3A
       00:0D9A: 74 6D 61 70 
       00:0D9E: 20 77 69 64 
       00:0DA2: 74 68 3A 
 32400 00:0DA5: 20 00 42 69  	db	$20,$00,$42,$69,$74,$6D,$61,$70,$20,$68,
                    $65,$69,$67,$68,$74
       00:0DA9: 74 6D 61 70 
       00:0DAD: 20 68 65 69 
       00:0DB1: 67 68 74 
 32401 00:0DB4: 3A 20 00 54  	db	$3A,$20,$00,$54,$68,$65,$20,$6E,$75,$6D,
                    $62,$65,$72,$20,$6F
       00:0DB8: 68 65 20 6E 
       00:0DBC: 75 6D 62 65 
       00:0DC0: 72 20 6F 
 32402 00:0DC3: 66 20 70 6C  	db	$66,$20,$70,$6C,$61,$6E,$65,$73,$20,$6F,
                    $66,$20,$74,$68,$65
       00:0DC7: 61 6E 65 73 
       00:0DCB: 20 6F 66 20 
       00:0DCF: 74 68 65 
 32403 00:0DD2: 20 69 6D 61  	db	$20,$69,$6D,$61,$67,$65,$20,$28,$74,$68,
                    $65,$20,$6E,$75,$6D
       00:0DD6: 67 65 20 28 
       00:0DDA: 74 68 65 20 
       00:0DDE: 6E 75 6D 
 32404 00:0DE1: 62 65 72 20  	db	$62,$65,$72,$20,$6F,$66,$20,$70,$6C,$61,
  Thu Jul 22 2021 22:51                                                Page 598


                    $6E,$65,$73,$20,$69
       00:0DE5: 6F 66 20 70 
       00:0DE9: 6C 61 6E 65 
       00:0DED: 73 20 69 
 32405 00:0DF0: 73 20 74 68  	db	$73,$20,$74,$68,$65,$20,$6E,$75,$6D,$62,
                    $65,$72,$20,$6F,$66
       00:0DF4: 65 20 6E 75 
       00:0DF8: 6D 62 65 72 
       00:0DFC: 20 6F 66 
 32406 00:0DFF: 20 70 61 6C  	db	$20,$70,$61,$6C,$65,$74,$74,$65,$73,$2C,
                    $20,$74,$68,$65,$20
       00:0E03: 65 74 74 65 
       00:0E07: 73 2C 20 74 
       00:0E0B: 68 65 20 
 32407 00:0E0E: 64 65 66 61  	db	$64,$65,$66,$61,$75,$6C,$74,$20,$69,$73,
                    $20,$31,$20,$70,$61
       00:0E12: 75 6C 74 20 
       00:0E16: 69 73 20 31 
       00:0E1A: 20 70 61 
 32408 00:0E1D: 6C 65 74 74  	db	$6C,$65,$74,$74,$65,$29,$3A,$20,$00,$4E,
                    $75,$6D,$62,$65,$72
       00:0E21: 65 29 3A 20 
       00:0E25: 00 4E 75 6D 
       00:0E29: 62 65 72 
 32409 00:0E2C: 20 6F 66 20  	db	$20,$6F,$66,$20,$62,$69,$74,$73,$20,$70,
                    $65,$72,$20,$70,$69
       00:0E30: 62 69 74 73 
       00:0E34: 20 70 65 72 
       00:0E38: 20 70 69 
 32410 00:0E3B: 78 65 6C 3A  	db	$78,$65,$6C,$3A,$20,$00,$43,$6F,$6D,$70,
                    $72,$65,$73,$73,$69
       00:0E3F: 20 00 43 6F 
       00:0E43: 6D 70 72 65 
       00:0E47: 73 73 69 
 32411 00:0E4A: 6F 6E 20 6D  	db	$6F,$6E,$20,$6D,$65,$74,$68,$6F,$64,$3A,
                    $00,$49,$6D,$61,$67
       00:0E4E: 65 74 68 6F 
       00:0E52: 64 3A 00 49 
       00:0E56: 6D 61 67 
 32412 00:0E59: 65 20 73 69  	db	$65,$20,$73,$69,$7A,$65,$3A,$20,$00,$48,
                    $6F,$72,$69,$7A,$6F
       00:0E5D: 7A 65 3A 20 
       00:0E61: 00 48 6F 72 
       00:0E65: 69 7A 6F 
 32413 00:0E68: 6E 74 61 6C  	db	$6E,$74,$61,$6C,$20,$72,$65,$73,$6F,$6C,
                    $75,$74,$69,$6F,$6E
       00:0E6C: 20 72 65 73 
       00:0E70: 6F 6C 75 74 
       00:0E74: 69 6F 6E 
 32414 00:0E77: 3A 20 00 56  	db	$3A,$20,$00,$56,$65,$72,$74,$69,$63,$61,
                    $6C,$20,$72,$65,$73
       00:0E7B: 65 72 74 69 
       00:0E7F: 63 61 6C 20 
       00:0E83: 72 65 73 
 32415 00:0E86: 6F 6C 75 74  	db	$6F,$6C,$75,$74,$69,$6F,$6E,$3A,$20,$00,
                    $4E,$75,$6D,$62,$65
       00:0E8A: 69 6F 6E 3A 
       00:0E8E: 20 00 4E 75 
  Thu Jul 22 2021 22:51                                                Page 599


       00:0E92: 6D 62 65 
 32416 00:0E95: 72 20 6F 66  	db	$72,$20,$6F,$66,$20,$63,$6F,$6C,$6F,$72,
                    $73,$20,$75,$73,$65
       00:0E99: 20 63 6F 6C 
       00:0E9D: 6F 72 73 20 
       00:0EA1: 75 73 65 
 32417 00:0EA4: 64 3A 20 00  	db	$64,$3A,$20,$00,$4E,$75,$6D,$62,$65,$72,
                    $20,$6F,$66,$20,$69
       00:0EA8: 4E 75 6D 62 
       00:0EAC: 65 72 20 6F 
       00:0EB0: 66 20 69 
 32418 00:0EB3: 6D 70 6F 72  	db	$6D,$70,$6F,$72,$74,$61,$6E,$74,$20,$63,
                    $6F,$6C,$6F,$72,$73
       00:0EB7: 74 61 6E 74 
       00:0EBB: 20 63 6F 6C 
       00:0EBF: 6F 72 73 
 32419 00:0EC2: 3A 20 00     	db	$3A,$20,$00
 32420 00:0EC5:              	ends
 32421                        	.line	31
 32422                        	.line	32
 32423                        	GFX
 32424                        	xdef	~~readBMP
 32425                        	func
 32426                        	.function	32
 32427                        ~~readBMP:
 32428                        	longa	on
 32429                        	longi	on
 32430 06:8727: 3B           	tsc
 32431 06:8728: 38           	sec
 32432 06:8729: E9 45 00     	sbc	#L1423
 32433 06:872C: 1B           	tcs
 32434 06:872D: 0B           	phd
 32435 06:872E: 5B           	tcd
 32436             00000004   path_0	set	4
 32437                        	.block	32
 32438             00000000   dir_1	set	0
 32439             00000004   fs_1	set	4
 32440             00000008   f_1	set	8
 32441             0000000C   fileInfo_1	set	12
 32442             00000010   fr_1	set	16
 32443             00000012   drive_1	set	18
 32444             00000016   read_1	set	22
 32445             00000018   data_1	set	24
 32446             0000001C   num_colors_1	set	28
 32447             0000001E   x_1	set	30
 32448             00000022   y_1	set	34
 32449             00000026   i_1	set	38
 32450             0000002A   c_1	set	42
 32451             0000002B   dx_1	set	43
 32452             0000002F   dy_1	set	47
 32453             00000033   bitmap_offset_1	set	51
 32454             00000037   fileType_1	set	55
 32455             00000039   pPalette_1	set	57
 32456                        	.sym	dir,0,138,1,32,85
 32457                        	.sym	fs,4,138,1,32,82
 32458                        	.sym	f,8,138,1,32,84
 32459                        	.sym	fileInfo,12,138,1,32,86
 32460                        	.sym	fr,16,5,1,16
  Thu Jul 22 2021 22:51                                                Page 600


 32461                        	.sym	drive,18,142,1,32
 32462                        	.sym	read,22,16,1,16
 32463                        	.sym	data,24,142,1,32
 32464                        	.sym	num_colors,28,16,1,16
 32465                        	.sym	x,30,18,1,32
 32466                        	.sym	y,34,18,1,32
 32467                        	.sym	i,38,18,1,32
 32468                        	.sym	c,42,14,1,8
 32469                        	.sym	dx,43,18,1,32
 32470                        	.sym	dy,47,18,1,32
 32471                        	.sym	bitmap_offset,51,18,1,32
 32472                        	.sym	fileType,55,15,1,16
 32473                        	.sym	pPalette,57,142,1,32
 32474                        	.sym	path,4,142,6,32
 32475 06:872F: 64 0D        	stz	<L1424+fs_1
 32476 06:8731: 64 0F        	stz	<L1424+fs_1+2
 32477 06:8733: 64 11        	stz	<L1424+f_1
 32478 06:8735: 64 13        	stz	<L1424+f_1+2
 32479 06:8737: 64 19        	stz	<L1424+fr_1
 32480 06:8739: 64 1B        	stz	<L1424+drive_1
 32481 06:873B: 64 1D        	stz	<L1424+drive_1+2
 32482 06:873D: 64 21        	stz	<L1424+data_1
 32483 06:873F: 64 23        	stz	<L1424+data_1+2
 32484 06:8741: 64 25        	stz	<L1424+num_colors_1
 32485 06:8743: 64 42        	stz	<L1424+pPalette_1
 32486 06:8745: 64 44        	stz	<L1424+pPalette_1+2
 32487                        	.line	57
 32488 06:8747: F4 3A 00     	pea	#<$3a
 32489 06:874A: D4 4B        	pei	<L1423+path_0+2
 32490 06:874C: D4 49        	pei	<L1423+path_0
 32491 06:874E: 22 xx xx xx  	jsl	~~k_string_copy_to_delimiter
 32492 06:8752: 85 1B        	sta	<L1424+drive_1
 32493 06:8754: 86 1D        	stx	<L1424+drive_1+2
 32494                        	.line	59
 32495 06:8756: F4 34 00     	pea	#<$34
 32496 06:8759: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 32497 06:875D: 85 09        	sta	<L1424+dir_1
 32498 06:875F: 86 0B        	stx	<L1424+dir_1+2
 32499                        	.line	60
 32500 06:8761: F4 33 02     	pea	#<$233
 32501 06:8764: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 32502 06:8768: 85 0D        	sta	<L1424+fs_1
 32503 06:876A: 86 0F        	stx	<L1424+fs_1+2
 32504                        	.line	61
 32505 06:876C: F4 26 02     	pea	#<$226
 32506 06:876F: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 32507 06:8773: 85 11        	sta	<L1424+f_1
 32508 06:8775: 86 13        	stx	<L1424+f_1+2
 32509                        	.line	64
 32510 06:8777: A9 00 20     	lda	#$2000
 32511 06:877A: 85 42        	sta	<L1424+pPalette_1
 32512 06:877C: A9 AF 00     	lda	#$af
 32513 06:877F: 85 44        	sta	<L1424+pPalette_1+2
 32514                        	.line	66
 32515 06:8781: F4 01 00     	pea	#<$1
 32516 06:8784: D4 1D        	pei	<L1424+drive_1+2
 32517 06:8786: D4 1B        	pei	<L1424+drive_1
 32518 06:8788: D4 0F        	pei	<L1424+fs_1+2
  Thu Jul 22 2021 22:51                                                Page 601


 32519 06:878A: D4 0D        	pei	<L1424+fs_1
 32520 06:878C: 22 xx xx xx  	jsl	~~f_mount
 32521 06:8790: 85 19        	sta	<L1424+fr_1
 32522                        	.line	67
 32523 06:8792: A5 19        	lda	<L1424+fr_1
 32524 06:8794: D0 03        	bne	L1426
 32525 06:8796: 82 1A 00     	brl	L10545
 32526                        L1426:
 32527                        	.line	68
 32528                        	.line	69
 32529 06:8799: F4 xx xx     	pea	#^L1422
 32530 06:879C: F4 xx xx     	pea	#<L1422
 32531 06:879F: 22 xx xx xx  	jsl	~~k_debug_string
 32532                        	.line	70
 32533                        L1427:
 32534 06:87A3: A5 47        	lda	<L1423+2
 32535 06:87A5: 85 4B        	sta	<L1423+2+4
 32536 06:87A7: A5 46        	lda	<L1423+1
 32537 06:87A9: 85 4A        	sta	<L1423+1+4
 32538 06:87AB: 2B           	pld
 32539 06:87AC: 3B           	tsc
 32540 06:87AD: 18           	clc
 32541 06:87AE: 69 49 00     	adc	#L1423+4
 32542 06:87B1: 1B           	tcs
 32543 06:87B2: 6B           	rtl
 32544                        	.line	71
 32545                        L10545:
 32546                        	.line	73
 32547 06:87B3: F4 01 00     	pea	#<$1
 32548 06:87B6: D4 4B        	pei	<L1423+path_0+2
 32549 06:87B8: D4 49        	pei	<L1423+path_0
 32550 06:87BA: D4 13        	pei	<L1424+f_1+2
 32551 06:87BC: D4 11        	pei	<L1424+f_1
 32552 06:87BE: 22 xx xx xx  	jsl	~~f_open
 32553 06:87C2: 85 19        	sta	<L1424+fr_1
 32554                        	.line	74
 32555 06:87C4: A5 19        	lda	<L1424+fr_1
 32556 06:87C6: D0 03        	bne	L1428
 32557 06:87C8: 82 0D 00     	brl	L10546
 32558                        L1428:
 32559                        	.line	75
 32560                        	.line	76
 32561 06:87CB: F4 xx xx     	pea	#^L1422+22
 32562 06:87CE: F4 xx xx     	pea	#<L1422+22
 32563 06:87D1: 22 xx xx xx  	jsl	~~k_debug_string
 32564                        	.line	77
 32565 06:87D5: 82 CB FF     	brl	L1427
 32566                        	.line	78
 32567                        L10546:
 32568                        	.line	81
 32569 06:87D8: F4 00 00     	pea	#0
 32570 06:87DB: 18           	clc
 32571 06:87DC: 7B           	tdc
 32572 06:87DD: 69 1F 00     	adc	#<L1424+read_1
 32573 06:87E0: 48           	pha
 32574 06:87E1: F4 02 00     	pea	#<$2
 32575 06:87E4: F4 00 00     	pea	#0
 32576 06:87E7: 18           	clc
  Thu Jul 22 2021 22:51                                                Page 602


 32577 06:87E8: 7B           	tdc
 32578 06:87E9: 69 40 00     	adc	#<L1424+fileType_1
 32579 06:87EC: 48           	pha
 32580 06:87ED: D4 13        	pei	<L1424+f_1+2
 32581 06:87EF: D4 11        	pei	<L1424+f_1
 32582 06:87F1: 22 xx xx xx  	jsl	~~f_read
 32583 06:87F5: 85 19        	sta	<L1424+fr_1
 32584                        	.line	82
 32585 06:87F7: A5 19        	lda	<L1424+fr_1
 32586 06:87F9: F0 03        	beq	L1429
 32587 06:87FB: 82 A3 02     	brl	L10547
 32588                        L1429:
 32589 06:87FE: A5 40        	lda	<L1424+fileType_1
 32590 06:8800: C9 42 4D     	cmp	#<$4d42
 32591 06:8803: F0 03        	beq	L1430
 32592 06:8805: 82 99 02     	brl	L10547
 32593                        L1430:
 32594                        	.line	83
 32595                        	.line	87
 32596 06:8808: F4 00 00     	pea	#0
 32597 06:880B: 18           	clc
 32598 06:880C: 7B           	tdc
 32599 06:880D: 69 1F 00     	adc	#<L1424+read_1
 32600 06:8810: 48           	pha
 32601 06:8811: F4 0C 00     	pea	#<$c
 32602 06:8814: A9 xx xx     	lda	#<~~fileHeader
 32603 06:8817: 85 01        	sta	<R0
 32604                        	xref	_BEG_DATA
 32605 06:8819: A9 xx xx     	lda	#_BEG_DATA>>16
 32606 06:881C: 85 03        	sta	<R0+2
 32607 06:881E: D4 03        	pei	<R0+2
 32608 06:8820: D4 01        	pei	<R0
 32609 06:8822: D4 13        	pei	<L1424+f_1+2
 32610 06:8824: D4 11        	pei	<L1424+f_1
 32611 06:8826: 22 xx xx xx  	jsl	~~f_read
 32612 06:882A: 85 19        	sta	<L1424+fr_1
 32613                        	.line	91
 32614 06:882C: F4 00 00     	pea	#0
 32615 06:882F: 18           	clc
 32616 06:8830: 7B           	tdc
 32617 06:8831: 69 1F 00     	adc	#<L1424+read_1
 32618 06:8834: 48           	pha
 32619 06:8835: F4 28 00     	pea	#<$28
 32620 06:8838: A9 xx xx     	lda	#<~~infoHeader
 32621 06:883B: 85 01        	sta	<R0
 32622                        	xref	_BEG_DATA
 32623 06:883D: A9 xx xx     	lda	#_BEG_DATA>>16
 32624 06:8840: 85 03        	sta	<R0+2
 32625 06:8842: D4 03        	pei	<R0+2
 32626 06:8844: D4 01        	pei	<R0
 32627 06:8846: D4 13        	pei	<L1424+f_1+2
 32628 06:8848: D4 11        	pei	<L1424+f_1
 32629 06:884A: 22 xx xx xx  	jsl	~~f_read
 32630 06:884E: 85 19        	sta	<L1424+fr_1
 32631                        	.line	95
 32632 06:8850: F4 00 00     	pea	#^$2
 32633 06:8853: F4 02 00     	pea	#<$2
 32634 06:8856: AD xx xx     	lda	|~~infoHeader+4+2
  Thu Jul 22 2021 22:51                                                Page 603


 32635 06:8859: 48           	pha
 32636 06:885A: AD xx xx     	lda	|~~infoHeader+4
 32637 06:885D: 48           	pha
 32638                        	xref	~~~ldiv
 32639 06:885E: 22 xx xx xx  	jsl	~~~ldiv
 32640 06:8862: 85 01        	sta	<R0
 32641 06:8864: 86 03        	stx	<R0+2
 32642 06:8866: 38           	sec
 32643 06:8867: A9 40 01     	lda	#$140
 32644 06:886A: E5 01        	sbc	<R0
 32645 06:886C: 85 05        	sta	<R1
 32646 06:886E: A9 00 00     	lda	#$0
 32647 06:8871: E5 03        	sbc	<R0+2
 32648 06:8873: 85 07        	sta	<R1+2
 32649 06:8875: 18           	clc
 32650 06:8876: A9 E7 FF     	lda	#$ffe7
 32651 06:8879: 65 05        	adc	<R1
 32652 06:887B: 85 34        	sta	<L1424+dx_1
 32653 06:887D: A9 FF FF     	lda	#$ffff
 32654 06:8880: 65 07        	adc	<R1+2
 32655 06:8882: 85 36        	sta	<L1424+dx_1+2
 32656                        	.line	96
 32657 06:8884: F4 00 00     	pea	#^$2
 32658 06:8887: F4 02 00     	pea	#<$2
 32659 06:888A: AD xx xx     	lda	|~~infoHeader+8+2
 32660 06:888D: 48           	pha
 32661 06:888E: AD xx xx     	lda	|~~infoHeader+8
 32662 06:8891: 48           	pha
 32663                        	xref	~~~ldiv
 32664 06:8892: 22 xx xx xx  	jsl	~~~ldiv
 32665 06:8896: 85 01        	sta	<R0
 32666 06:8898: 86 03        	stx	<R0+2
 32667 06:889A: 38           	sec
 32668 06:889B: A9 F0 00     	lda	#$f0
 32669 06:889E: E5 01        	sbc	<R0
 32670 06:88A0: 85 38        	sta	<L1424+dy_1
 32671 06:88A2: A9 00 00     	lda	#$0
 32672 06:88A5: E5 03        	sbc	<R0+2
 32673 06:88A7: 85 3A        	sta	<L1424+dy_1+2
 32674                        	.line	99
 32675 06:88A9: AD xx xx     	lda	|~~infoHeader+32
 32676 06:88AC: 0D xx xx     	ora	|~~infoHeader+32+2
 32677 06:88AF: F0 03        	beq	L1431
 32678 06:88B1: 82 05 00     	brl	L10548
 32679                        L1431:
 32680                        	.line	100
 32681 06:88B4: A9 00 01     	lda	#$100
 32682 06:88B7: 85 25        	sta	<L1424+num_colors_1
 32683                        L10548:
 32684                        	.line	103
 32685 06:88B9: 64 2F        	stz	<L1424+i_1
 32686 06:88BB: 64 31        	stz	<L1424+i_1+2
 32687 06:88BD: 82 0F 01     	brl	L10552
 32688                        L10551:
 32689                        	.line	104
 32690                        	.line	106
 32691 06:88C0: F4 00 00     	pea	#0
 32692 06:88C3: 18           	clc
  Thu Jul 22 2021 22:51                                                Page 604


 32693 06:88C4: 7B           	tdc
 32694 06:88C5: 69 1F 00     	adc	#<L1424+read_1
 32695 06:88C8: 48           	pha
 32696 06:88C9: F4 01 00     	pea	#<$1
 32697 06:88CC: F4 00 00     	pea	#0
 32698 06:88CF: 18           	clc
 32699 06:88D0: 7B           	tdc
 32700 06:88D1: 69 33 00     	adc	#<L1424+c_1
 32701 06:88D4: 48           	pha
 32702 06:88D5: D4 13        	pei	<L1424+f_1+2
 32703 06:88D7: D4 11        	pei	<L1424+f_1
 32704 06:88D9: 22 xx xx xx  	jsl	~~f_read
 32705                        	.line	108
 32706 06:88DD: A5 2F        	lda	<L1424+i_1
 32707 06:88DF: 85 01        	sta	<R0
 32708 06:88E1: A5 31        	lda	<L1424+i_1+2
 32709 06:88E3: 85 03        	sta	<R0+2
 32710 06:88E5: 06 01        	asl	<R0
 32711 06:88E7: 26 03        	rol	<R0+2
 32712 06:88E9: 06 01        	asl	<R0
 32713 06:88EB: 26 03        	rol	<R0+2
 32714 06:88ED: E2 20        	sep	#$20
 32715                        	longa	off
 32716 06:88EF: A5 33        	lda	<L1424+c_1
 32717 06:88F1: A4 01        	ldy	<R0
 32718 06:88F3: 97 42        	sta	[<L1424+pPalette_1],Y
 32719 06:88F5: C2 20        	rep	#$20
 32720                        	longa	on
 32721                        	.line	109
 32722 06:88F7: F4 00 00     	pea	#0
 32723 06:88FA: 18           	clc
 32724 06:88FB: 7B           	tdc
 32725 06:88FC: 69 1F 00     	adc	#<L1424+read_1
 32726 06:88FF: 48           	pha
 32727 06:8900: F4 01 00     	pea	#<$1
 32728 06:8903: F4 00 00     	pea	#0
 32729 06:8906: 18           	clc
 32730 06:8907: 7B           	tdc
 32731 06:8908: 69 33 00     	adc	#<L1424+c_1
 32732 06:890B: 48           	pha
 32733 06:890C: D4 13        	pei	<L1424+f_1+2
 32734 06:890E: D4 11        	pei	<L1424+f_1
 32735 06:8910: 22 xx xx xx  	jsl	~~f_read
 32736                        	.line	111
 32737 06:8914: A5 2F        	lda	<L1424+i_1
 32738 06:8916: 85 01        	sta	<R0
 32739 06:8918: A5 31        	lda	<L1424+i_1+2
 32740 06:891A: 85 03        	sta	<R0+2
 32741 06:891C: 06 01        	asl	<R0
 32742 06:891E: 26 03        	rol	<R0+2
 32743 06:8920: 06 01        	asl	<R0
 32744 06:8922: 26 03        	rol	<R0+2
 32745 06:8924: 18           	clc
 32746 06:8925: A9 01 00     	lda	#$1
 32747 06:8928: 65 01        	adc	<R0
 32748 06:892A: 85 05        	sta	<R1
 32749 06:892C: A9 00 00     	lda	#$0
 32750 06:892F: 65 03        	adc	<R0+2
  Thu Jul 22 2021 22:51                                                Page 605


 32751 06:8931: 85 07        	sta	<R1+2
 32752 06:8933: E2 20        	sep	#$20
 32753                        	longa	off
 32754 06:8935: A5 33        	lda	<L1424+c_1
 32755 06:8937: A4 05        	ldy	<R1
 32756 06:8939: 97 42        	sta	[<L1424+pPalette_1],Y
 32757 06:893B: C2 20        	rep	#$20
 32758                        	longa	on
 32759                        	.line	112
 32760 06:893D: F4 00 00     	pea	#0
 32761 06:8940: 18           	clc
 32762 06:8941: 7B           	tdc
 32763 06:8942: 69 1F 00     	adc	#<L1424+read_1
 32764 06:8945: 48           	pha
 32765 06:8946: F4 01 00     	pea	#<$1
 32766 06:8949: F4 00 00     	pea	#0
 32767 06:894C: 18           	clc
 32768 06:894D: 7B           	tdc
 32769 06:894E: 69 33 00     	adc	#<L1424+c_1
 32770 06:8951: 48           	pha
 32771 06:8952: D4 13        	pei	<L1424+f_1+2
 32772 06:8954: D4 11        	pei	<L1424+f_1
 32773 06:8956: 22 xx xx xx  	jsl	~~f_read
 32774                        	.line	114
 32775 06:895A: A5 2F        	lda	<L1424+i_1
 32776 06:895C: 85 01        	sta	<R0
 32777 06:895E: A5 31        	lda	<L1424+i_1+2
 32778 06:8960: 85 03        	sta	<R0+2
 32779 06:8962: 06 01        	asl	<R0
 32780 06:8964: 26 03        	rol	<R0+2
 32781 06:8966: 06 01        	asl	<R0
 32782 06:8968: 26 03        	rol	<R0+2
 32783 06:896A: 18           	clc
 32784 06:896B: A9 02 00     	lda	#$2
 32785 06:896E: 65 01        	adc	<R0
 32786 06:8970: 85 05        	sta	<R1
 32787 06:8972: A9 00 00     	lda	#$0
 32788 06:8975: 65 03        	adc	<R0+2
 32789 06:8977: 85 07        	sta	<R1+2
 32790 06:8979: E2 20        	sep	#$20
 32791                        	longa	off
 32792 06:897B: A5 33        	lda	<L1424+c_1
 32793 06:897D: A4 05        	ldy	<R1
 32794 06:897F: 97 42        	sta	[<L1424+pPalette_1],Y
 32795 06:8981: C2 20        	rep	#$20
 32796                        	longa	on
 32797                        	.line	115
 32798 06:8983: F4 00 00     	pea	#0
 32799 06:8986: 18           	clc
 32800 06:8987: 7B           	tdc
 32801 06:8988: 69 1F 00     	adc	#<L1424+read_1
 32802 06:898B: 48           	pha
 32803 06:898C: F4 01 00     	pea	#<$1
 32804 06:898F: F4 00 00     	pea	#0
 32805 06:8992: 18           	clc
 32806 06:8993: 7B           	tdc
 32807 06:8994: 69 33 00     	adc	#<L1424+c_1
 32808 06:8997: 48           	pha
  Thu Jul 22 2021 22:51                                                Page 606


 32809 06:8998: D4 13        	pei	<L1424+f_1+2
 32810 06:899A: D4 11        	pei	<L1424+f_1
 32811 06:899C: 22 xx xx xx  	jsl	~~f_read
 32812                        	.line	116
 32813 06:89A0: A5 2F        	lda	<L1424+i_1
 32814 06:89A2: 85 01        	sta	<R0
 32815 06:89A4: A5 31        	lda	<L1424+i_1+2
 32816 06:89A6: 85 03        	sta	<R0+2
 32817 06:89A8: 06 01        	asl	<R0
 32818 06:89AA: 26 03        	rol	<R0+2
 32819 06:89AC: 06 01        	asl	<R0
 32820 06:89AE: 26 03        	rol	<R0+2
 32821 06:89B0: 18           	clc
 32822 06:89B1: A9 03 00     	lda	#$3
 32823 06:89B4: 65 01        	adc	<R0
 32824 06:89B6: 85 05        	sta	<R1
 32825 06:89B8: A9 00 00     	lda	#$0
 32826 06:89BB: 65 03        	adc	<R0+2
 32827 06:89BD: 85 07        	sta	<R1+2
 32828 06:89BF: E2 20        	sep	#$20
 32829                        	longa	off
 32830 06:89C1: A9 00        	lda	#$0
 32831 06:89C3: A4 05        	ldy	<R1
 32832 06:89C5: 97 42        	sta	[<L1424+pPalette_1],Y
 32833 06:89C7: C2 20        	rep	#$20
 32834                        	longa	on
 32835                        	.line	119
 32836                        L10549:
 32837 06:89C9: E6 2F        	inc	<L1424+i_1
 32838 06:89CB: D0 02        	bne	L1432
 32839 06:89CD: E6 31        	inc	<L1424+i_1+2
 32840                        L1432:
 32841                        L10552:
 32842 06:89CF: A5 25        	lda	<L1424+num_colors_1
 32843 06:89D1: 85 01        	sta	<R0
 32844 06:89D3: 64 03        	stz	<R0+2
 32845 06:89D5: A5 2F        	lda	<L1424+i_1
 32846 06:89D7: C5 01        	cmp	<R0
 32847 06:89D9: A5 31        	lda	<L1424+i_1+2
 32848 06:89DB: E5 03        	sbc	<R0+2
 32849 06:89DD: B0 03        	bcs	L1433
 32850 06:89DF: 82 DE FE     	brl	L10551
 32851                        L1433:
 32852                        L10550:
 32853                        	.line	123
 32854                        	.line	125
 32855 06:89E2: AD xx xx     	lda	|~~fileHeader+8+2
 32856 06:89E5: 48           	pha
 32857 06:89E6: AD xx xx     	lda	|~~fileHeader+8
 32858 06:89E9: 48           	pha
 32859 06:89EA: D4 13        	pei	<L1424+f_1+2
 32860 06:89EC: D4 11        	pei	<L1424+f_1
 32861 06:89EE: 22 xx xx xx  	jsl	~~f_lseek
 32862                        	.line	129
 32863 06:89F2: F4 00 00     	pea	#^$4
 32864 06:89F5: F4 04 00     	pea	#<$4
 32865 06:89F8: AD xx xx     	lda	|~~infoHeader+4+2
 32866 06:89FB: 48           	pha
  Thu Jul 22 2021 22:51                                                Page 607


 32867 06:89FC: AD xx xx     	lda	|~~infoHeader+4
 32868 06:89FF: 48           	pha
 32869                        	xref	~~~ldiv
 32870 06:8A00: 22 xx xx xx  	jsl	~~~ldiv
 32871 06:8A04: 85 05        	sta	<R1
 32872 06:8A06: 86 07        	stx	<R1+2
 32873 06:8A08: A5 05        	lda	<R1
 32874 06:8A0A: 0A           	asl	A
 32875 06:8A0B: 0A           	asl	A
 32876 06:8A0C: 85 01        	sta	<R0
 32877 06:8A0E: 18           	clc
 32878 06:8A0F: A9 04 00     	lda	#$4
 32879 06:8A12: 65 01        	adc	<R0
 32880 06:8A14: 85 05        	sta	<R1
 32881 06:8A16: A5 05        	lda	<R1
 32882 06:8A18: 85 3C        	sta	<L1424+bitmap_offset_1
 32883 06:8A1A: 64 3E        	stz	<L1424+bitmap_offset_1+2
 32884                        	.line	131
 32885 06:8A1C: AD xx xx     	lda	|~~infoHeader+8
 32886 06:8A1F: 85 2B        	sta	<L1424+y_1
 32887 06:8A21: AD xx xx     	lda	|~~infoHeader+8+2
 32888 06:8A24: 85 2D        	sta	<L1424+y_1+2
 32889 06:8A26: 82 61 00     	brl	L10556
 32890                        L10555:
 32891                        	.line	132
 32892                        	.line	133
 32893 06:8A29: F4 00 00     	pea	#0
 32894 06:8A2C: 18           	clc
 32895 06:8A2D: 7B           	tdc
 32896 06:8A2E: 69 1F 00     	adc	#<L1424+read_1
 32897 06:8A31: 48           	pha
 32898 06:8A32: D4 3C        	pei	<L1424+bitmap_offset_1
 32899 06:8A34: 18           	clc
 32900 06:8A35: A5 2B        	lda	<L1424+y_1
 32901 06:8A37: 65 38        	adc	<L1424+dy_1
 32902 06:8A39: 85 01        	sta	<R0
 32903 06:8A3B: A5 2D        	lda	<L1424+y_1+2
 32904 06:8A3D: 65 3A        	adc	<L1424+dy_1+2
 32905 06:8A3F: 85 03        	sta	<R0+2
 32906 06:8A41: F4 00 00     	pea	#^$280
 32907 06:8A44: F4 80 02     	pea	#<$280
 32908 06:8A47: D4 03        	pei	<R0+2
 32909 06:8A49: D4 01        	pei	<R0
 32910                        	xref	~~~lmul
 32911 06:8A4B: 22 xx xx xx  	jsl	~~~lmul
 32912 06:8A4F: 85 01        	sta	<R0
 32913 06:8A51: 86 03        	stx	<R0+2
 32914 06:8A53: 18           	clc
 32915 06:8A54: A5 01        	lda	<R0
 32916 06:8A56: 65 34        	adc	<L1424+dx_1
 32917 06:8A58: 85 05        	sta	<R1
 32918 06:8A5A: A5 03        	lda	<R0+2
 32919 06:8A5C: 65 36        	adc	<L1424+dx_1+2
 32920 06:8A5E: 85 07        	sta	<R1+2
 32921 06:8A60: 18           	clc
 32922 06:8A61: A9 00 00     	lda	#$0
 32923 06:8A64: 65 05        	adc	<R1
 32924 06:8A66: 85 01        	sta	<R0
  Thu Jul 22 2021 22:51                                                Page 608


 32925 06:8A68: A9 B8 00     	lda	#$b8
 32926 06:8A6B: 65 07        	adc	<R1+2
 32927 06:8A6D: 85 03        	sta	<R0+2
 32928 06:8A6F: D4 03        	pei	<R0+2
 32929 06:8A71: D4 01        	pei	<R0
 32930 06:8A73: D4 13        	pei	<L1424+f_1+2
 32931 06:8A75: D4 11        	pei	<L1424+f_1
 32932 06:8A77: 22 xx xx xx  	jsl	~~f_read
 32933                        	.line	135
 32934 06:8A7B: A5 1F        	lda	<L1424+read_1
 32935 06:8A7D: D0 03        	bne	L1434
 32936 06:8A7F: 82 17 00     	brl	L10554
 32937                        L1434:
 32938                        	.line	137
 32939                        L10553:
 32940 06:8A82: A5 2B        	lda	<L1424+y_1
 32941 06:8A84: D0 02        	bne	L1435
 32942 06:8A86: C6 2D        	dec	<L1424+y_1+2
 32943                        L1435:
 32944 06:8A88: C6 2B        	dec	<L1424+y_1
 32945                        L10556:
 32946 06:8A8A: A5 2B        	lda	<L1424+y_1
 32947 06:8A8C: C9 00 00     	cmp	#<$0
 32948 06:8A8F: A5 2D        	lda	<L1424+y_1+2
 32949 06:8A91: E9 00 00     	sbc	#^$0
 32950 06:8A94: 90 03        	bcc	L1436
 32951 06:8A96: 82 90 FF     	brl	L10555
 32952                        L1436:
 32953                        L10554:
 32954                        	.line	139
 32955                        	.line	144
 32956 06:8A99: D4 13        	pei	<L1424+f_1+2
 32957 06:8A9B: D4 11        	pei	<L1424+f_1
 32958 06:8A9D: 22 xx xx xx  	jsl	~~f_close
 32959                        	.line	145
 32960                        L10547:
 32961                        	.line	146
 32962 06:8AA1: 82 FF FC     	brl	L1427
 32963                        	.endblock	146
 32964             00000045   L1423	equ	69
 32965             00000009   L1424	equ	9
 32966 06:8AA4:              	ends
 32967                        	efunc
 32968                        	.endfunc	146,9,69
 32969                        	.line	146
 32970                        	data
 32971                        L1422:
 32972 00:0EC5: 46 61 69 6C  	db	$46,$61,$69,$6C,$65,$64,$20,$74,$6F,$20,
                    $6D,$6F,$75,$6E,$74
       00:0EC9: 65 64 20 74 
       00:0ECD: 6F 20 6D 6F 
       00:0ED1: 75 6E 74 
 32973 00:0ED4: 20 48 44 21  	db	$20,$48,$44,$21,$0D,$0A,$00,$46,$61,$69,
                    $6C,$65,$64,$20,$74
       00:0ED8: 0D 0A 00 46 
       00:0EDC: 61 69 6C 65 
       00:0EE0: 64 20 74 
 32974 00:0EE3: 6F 20 6F 70  	db	$6F,$20,$6F,$70,$65,$6E,$27,$69,$6D,$61,
  Thu Jul 22 2021 22:51                                                Page 609


                    $67,$65,$2E,$62,$6D
       00:0EE7: 65 6E 27 69 
       00:0EEB: 6D 61 67 65 
       00:0EEF: 2E 62 6D 
 32975 00:0EF2: 70 27 21 0D  	db	$70,$27,$21,$0D,$0A,$00
       00:0EF6: 0A 00 
 32976 00:0EF8:              	ends
 32977                        	.line	146
 32978                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxguiV4.c",5953
 32979                        ;
 32980                        ;/*
 32981                        ;
 32982                        ;
 32983                        ;
 32984                        ;
 32985                        ; */
 32986                        ;
 32987                        	.line	5960
 32988                        	xref	~~f_mount
 32989                        	xref	~~f_lseek
 32990                        	xref	~~f_read
 32991                        	xref	~~f_close
 32992                        	xref	~~f_open
 32993                        	xref	~~k_clear_screen
 32994                        	xref	~~k_disable_border
 32995                        	xref	~~k_send_message
 32996                        	xref	~~k_user_SetRect
 32997                        	xref	~~k_user_getSystemMetric
 32998                        	xref	~~k_mem_deallocate_heap
 32999                        	xref	~~k_mem_allocate_heap
 33000                        	xref	~~k_string_replace
 33001                        	xref	~~k_string_copy_to_delimiter
 33002                        	xref	~~k_get_c256_release
 33003                        	xref	~~k_debug_strings
 33004                        	xref	~~k_debug_message
 33005                        	xref	~~k_debug_long
 33006                        	xref	~~k_debug_integer
 33007                        	xref	~~k_debug_pointer
 33008                        	xref	~~k_debug_string
 33009                        	xref	~~k_delay
 33010                        	xref	~~sleep
 33011                        	xref	~~toupper
 33012                        	xref	~~strupr
 33013                        	xref	~~strlen
 33014                        	xref	~~strcpy
 33015                        	xref	~~memset
 33016                        	xref	~~memcpy
 33017                        	xref	~~abs
 33018                        	udata
 33019                        	xdef	~~infoHeader
 33020                        ~~infoHeader
 33021 00:0000:              	ds	40
 33022 00:0028:              	ends
 33023                        	udata
 33024                        	xdef	~~fileHeader
 33025                        ~~fileHeader
 33026 00:0028:              	ds	12
  Thu Jul 22 2021 22:51                                                Page 610


 33027 00:0034:              	ends
 33028                        	udata
 33029                        ~~_k_guiCacheSlots
 33030 00:0034:              	ds	60
 33031 00:0070:              	ends
 33032                        	udata
 33033                        ~~_k_currentPalatte
 33034 00:0070:              	ds	50
 33035 00:00A2:              	ends
 33036                        	xref	~~Bm437ToshibaLCD8x8
 33037                        	xref	~~windowIconImg
 33038                        	xref	~~windowChromeImg
 33039                        	xref	~~fontImg
 33040                        	xref	~~characterROMMapping
 33041                        	.sym	~~showBmpInfoHead,~~showBmpInfoHead,65,2
                    ,0
 33042                        	.sym	~~showBmpHead,~~showBmpHead,65,2,0
 33043                        	.sym	~~infoHeader,~~infoHeader,10,2,320,89
 33044                        	.sym	~~fileHeader,~~fileHeader,10,2,96,88
 33045                        	.sym	PixelInfo,0,10,14,32,90
 33046                        	.sym	BITMAPINFOHEADER,0,10,14,320,89
 33047                        	.sym	BITMAPFILEHEADER,0,10,14,96,88
 33048                        	.sym	~~k_init_splash,~~k_init_splash,65,2,0
 33049                        	.sym	~~k_vdma_fill_address_old,~~k_vdma_fill_
                    address_old,65,2,0
 33050                        	.sym	~~k_draw_filled_rect_slow,~~k_draw_fille
                    d_rect_slow,65,2,0
 33051                        	.sym	~~k_draw_rect_ex,~~k_draw_rect_ex,65,2,0
 33052                        	.sym	~~k_draw_line_with_pattern,~~k_draw_line
                    _with_pattern,65,2,0
 33053                        	.sym	~~k_draw_filled_segments,~~k_draw_filled
                    _segments,65,2,0
 33054                        	.sym	~~k_set_text_color,~~k_set_text_color,65
                    ,2,0
 33055                        	.sym	~~k_set_text_gamma,~~k_set_text_gamma,65
                    ,2,0
 33056                        	.sym	~~k_set_foreground_palette,~~k_set_foreg
                    round_palette,65,2,0
 33057                        	.sym	~~_k_guiCacheSlots,~~_k_guiCacheSlots,11
                    0,3,0,60
 33058                        	.sym	~~_k_currentPalatte,~~_k_currentPalatte,
                    10,3,400,66
 33059                        	.sym	~~BG_FILL_LINE_EVEN,~~BG_FILL_LINE_EVEN,
                    110,3,0,80
 33060                        	.sym	~~BG_FILL_LINE_ODD,~~BG_FILL_LINE_ODD,11
                    0,3,0,80
 33061                        	.sym	~~MOUSE_POINTER_EMPTY,~~MOUSE_POINTER_EM
                    PTY,110,2,0,256
 33062                        	.sym	~~TEXT_BG_COLORS,~~TEXT_BG_COLORS,110,3,
                    0,64
 33063                        	.sym	~~TEXT_FG_COLORS,~~TEXT_FG_COLORS,110,3,
                    0,64
 33064                        	.sym	~~TITLE_LINES_640x480,~~TITLE_LINES_640x
                    480,142,3,32
 33065                        	.sym	~~TEXT_CAPTION_BLOCK,~~TEXT_CAPTION_BLOC
                    K,110,3,0,1
 33066                        	.sym	~~readBMP,~~readBMP,65,2,0
 33067                        	.sym	~~f_mount,~~f_mount,69,18,0
  Thu Jul 22 2021 22:51                                                Page 611


 33068                        	.sym	~~f_lseek,~~f_lseek,69,18,0
 33069                        	.sym	~~f_read,~~f_read,69,18,0
 33070                        	.sym	~~f_close,~~f_close,69,18,0
 33071                        	.sym	~~f_open,~~f_open,69,18,0
 33072                        	.sym	FRESULT,0,5,14,16
 33073                        	.sym	MKFS_PARM,0,10,14,80,87
 33074                        	.sym	FILINFO,0,10,14,2224,86
 33075                        	.sym	DIR,0,10,14,416,85
 33076                        	.sym	FIL,0,10,14,4400,84
 33077                        	.sym	FFOBJID,0,10,14,128,83
 33078                        	.sym	FATFS,0,10,14,4504,82
 33079                        	.sym	LBA_t,0,18,14,32
 33080                        	.sym	FSIZE_t,0,18,14,32
 33081                        	.sym	TCHAR,0,14,14,8
 33082                        	.sym	~~k_clear_screen,~~k_clear_screen,65,18,
                    0
 33083                        	.sym	~~k_disable_border,~~k_disable_border,65
                    ,18,0
 33084                        	.sym	PCOMMANDARGS,0,138,14,32,81
 33085                        	.sym	COMMANDARGS,0,10,14,64,81
 33086                        	.sym	PTOKENIZESTATE,0,133,14,32
 33087                        	.sym	TOKENIZESTATE,0,5,14,16
 33088                        	.sym	PTOKEN,0,138,14,32,80
 33089                        	.sym	TOKEN,0,10,14,64,80
 33090                        	.sym	PTOKENTYPE,0,133,14,32
 33091                        	.sym	TOKENTYPE,0,5,14,16
 33092                        	.sym	FXCommandHandler,0,656,14,32
 33093                        	.sym	PCONSOLECTX,0,138,14,32,79
 33094                        	.sym	CONSOLECTX,0,10,14,1144,79
 33095                        	.sym	PSPINNERCTX,0,138,14,32,78
 33096                        	.sym	SPINNERCTX,0,10,14,48,78
 33097                        	.sym	HCLIP,0,138,14,32,77
 33098                        	.sym	PCLIPBOARD_DATA,0,138,14,32,77
 33099                        	.sym	CLIPBOARD_DATA,0,10,14,168,77
 33100                        	.sym	~~k_send_message,~~k_send_message,78,18,
                    0
 33101                        	.sym	PEVENTMANAGER,0,138,14,32,76
 33102                        	.sym	EVENTMANAGER,0,10,14,192,76
 33103                        	.sym	EV_RUN,0,656,14,32
 33104                        	.sym	EV_QUERY_METRIC,0,656,14,32
 33105                        	.sym	EV_CONFIGURE,0,656,14,32
 33106                        	.sym	EV_UNINIT,0,641,14,32
 33107                        	.sym	EV_INIT,0,8833,14,32
 33108                        	.sym	PMOUSE_MSG_STATE,0,138,14,32,75
 33109                        	.sym	MOUSE_MSG_STATE,0,10,14,184,75
 33110                        	.sym	PFXEVENTPROCESS,0,138,14,32,74
 33111                        	.sym	FXEVENTPROCESS,0,10,14,64,74
 33112                        	.sym	PMARSHALDATA,0,139,14,32,73
 33113                        	.sym	MARSHALDATA,0,11,14,32,73
 33114                        	.sym	FXIDLEPROCESS,0,641,14,32
 33115                        	.sym	FXEventProc,0,641,14,32
 33116                        	.sym	PMOUSEMSGDATA,0,138,14,32,72
 33117                        	.sym	MOUSEMSGDATA,0,10,14,64,72
 33118                        	.sym	MSGIRQ,0,5,14,16
 33119                        	.sym	MAINLOOPARGS,0,10,14,16,71
 33120                        	.sym	PEACHCHILD_MSG,0,138,14,32,70
 33121                        	.sym	EACHCHILD_MSG,0,10,14,64,70
 33122                        	.sym	~~k_user_SetRect,~~k_user_SetRect,65,18,
  Thu Jul 22 2021 22:51                                                Page 612


                    0
 33123                        	.sym	PMSGBOX_DATA,0,138,14,32,69
 33124                        	.sym	MSGBOX_DATA,0,10,14,96,69
 33125                        	.sym	PDESKTOP_DATA,0,138,14,32,68
 33126                        	.sym	DESKTOP_DATA,0,10,14,64,68
 33127                        	.sym	~~k_user_getSystemMetric,~~k_user_getSys
                    temMetric,69,18,0
 33128                        	.sym	PWINDOWMANAGER,0,138,14,32,67
 33129                        	.sym	WINDOWMANAGER,0,10,14,160,67
 33130                        	.sym	WM_DOPROCS,0,641,14,32
 33131                        	.sym	WM_QUERY_METRIC,0,656,14,32
 33132                        	.sym	WM_CONFIGURE,0,656,14,32
 33133                        	.sym	WM_HANDLE_EVENT,0,8833,14,32
 33134                        	.sym	WM_EVENTS,0,641,14,32
 33135                        	.sym	~~k_ToRECTP,~~k_ToRECTP,65,2,0
 33136                        	.sym	~~k_ToRECT,~~k_ToRECT,65,2,0
 33137                        	.sym	~~k_new_RECTP,~~k_new_RECTP,1098,2,32,27
 33138                        	.sym	~~k_new_RECT,~~k_new_RECT,1098,2,32,26
 33139                        	.sym	~~k_gui_get_image_cache,~~k_gui_get_imag
                    e_cache,78,2,0
 33140                        	.sym	~~k_gui_set_image_cache,~~k_gui_set_imag
                    e_cache,80,2,0
 33141                        	.sym	~~k_gui_free_image_cache_slot,~~k_gui_fr
                    ee_image_cache_slot,65,2,0
 33142                        	.sym	~~k_gui_alloc_image_cache_slot,~~k_gui_a
                    lloc_image_cache_slot,80,2,0
 33143                        	.sym	~~k_gui_init_image_cache_slot,~~k_gui_in
                    it_image_cache_slot,65,2,0
 33144                        	.sym	~~k_set_text_colors,~~k_set_text_colors,
                    65,2,0
 33145                        	.sym	~~k_gui_set_mousepointer,~~k_gui_set_mou
                    sepointer,65,2,0
 33146                        	.sym	~~k_gui_init_mousepointer,~~k_gui_init_m
                    ousepointer,65,2,0
 33147                        	.sym	~~k_font_getFontWidth,~~k_font_getFontWi
                    dth,80,2,0
 33148                        	.sym	~~k_font_getFontHeight,~~k_font_getFontH
                    eight,80,2,0
 33149                        	.sym	~~k_gadget_title_back_callback,~~k_gadge
                    t_title_back_callback,65,2,0
 33150                        	.sym	~~k_gadget_title_front_callback,~~k_gadg
                    et_title_front_callback,65,2,0
 33151                        	.sym	~~k_create_ui_window_class,~~k_create_ui
                    _window_class,1098,2,32,33
 33152                        	.sym	~~k_free_context_menu,~~k_free_context_m
                    enu,65,2,0
 33153                        	.sym	~~k_render_context_menu,~~k_render_conte
                    xt_menu,1098,2,32,36
 33154                        	.sym	~~k_create_context_menus,~~k_create_cont
                    ext_menus,1098,2,32,36
 33155                        	.sym	~~k_create_context_menu_in_window_ex,~~k
                    _create_context_menu_in_window_ex,1098,2,32,36
 33156                        	.sym	~~k_create_context_menu_in_window,~~k_cr
                    eate_context_menu_in_window,1098,2,32,36
 33157                        	.sym	~~k_create_context_menu,~~k_create_conte
                    xt_menu,1098,2,32,36
 33158                        	.sym	~~k_vdma_copy_address_ex,~~k_vdma_copy_a
                    ddress_ex,65,2,0
  Thu Jul 22 2021 22:51                                                Page 613


 33159                        	.sym	~~k_vdma_fill_address_ex,~~k_vdma_fill_a
                    ddress_ex,65,2,0
 33160                        	.sym	~~k_vdma_fill_rect_ex,~~k_vdma_fill_rect
                    _ex,65,2,0
 33161                        	.sym	~~k_vdma_fill_rect,~~k_vdma_fill_rect,65
                    ,2,0
 33162                        	.sym	~~k_vdma_fill_address,~~k_vdma_fill_addr
                    ess,65,2,0
 33163                        	.sym	~~k_vdma_fill,~~k_vdma_fill,65,2,0
 33164                        	.sym	~~k_vdma_move_rect,~~k_vdma_move_rect,65
                    ,2,0
 33165                        	.sym	~~k_gui_build_title_cache,~~k_gui_build_
                    title_cache,1089,2,32
 33166                        	.sym	~~k_gui_get_title_cache,~~k_gui_get_titl
                    e_cache,1089,2,32
 33167                        	.sym	~~k_gui_DrawWindow,~~k_gui_DrawWindow,65
                    ,2,0
 33168                        	.sym	~~k_vdraw_ui_window_ex,~~k_vdraw_ui_wind
                    ow_ex,65,2,0
 33169                        	.sym	~~k_vdraw_ui_window,~~k_vdraw_ui_window,
                    65,2,0
 33170                        	.sym	~~k_draw_ui_window,~~k_draw_ui_window,65
                    ,2,0
 33171                        	.sym	~~k_put_winicon_scaled,~~k_put_winicon_s
                    caled,65,2,0
 33172                        	.sym	~~k_put_winicon_point_ex,~~k_put_winicon
                    _point_ex,69,2,0
 33173                        	.sym	~~k_put_winicon_point,~~k_put_winicon_po
                    int,69,2,0
 33174                        	.sym	~~k_gui_DrawWidget,~~k_gui_DrawWidget,69
                    ,2,0
 33175                        	.sym	~~k_put_wingadget_point_ex,~~k_put_winga
                    dget_point_ex,69,2,0
 33176                        	.sym	~~k_put_wingadget_point,~~k_put_wingadge
                    t_point,69,2,0
 33177                        	.sym	~~k_draw_char_scaled,~~k_draw_char_scale
                    d,65,2,0
 33178                        	.sym	~~k_get_font_metrics,~~k_get_font_metric
                    s,69,2,0
 33179                        	.sym	~~k_draw_fontset,~~k_draw_fontset,65,2,0
 33180                        	.sym	~~k_draw_char,~~k_draw_char,65,2,0
 33181                        	.sym	~~k_put_draw_text,~~k_put_draw_text,69,2
                    ,0
 33182                        	.sym	~~k_draw_char_scaled_point,~~k_draw_char
                    _scaled_point,65,2,0
 33183                        	.sym	~~k_gui_DrawText,~~k_gui_DrawText,69,2,0
 33184                        	.sym	~~k_draw_text_point_with_font_ex,~~k_dra
                    w_text_point_with_font_ex,69,2,0
 33185                        	.sym	~~k_draw_text_point_with_font,~~k_draw_t
                    ext_point_with_font,69,2,0
 33186                        	.sym	~~k_draw_text_point_ex,~~k_draw_text_poi
                    nt_ex,69,2,0
 33187                        	.sym	~~k_draw_text_point,~~k_draw_text_point,
                    69,2,0
 33188                        	.sym	~~k_put_font_point,~~k_put_font_point,69
                    ,2,0
 33189                        	.sym	~~k_draw_text_scaled,~~k_draw_text_scale
                    d,69,2,0
  Thu Jul 22 2021 22:51                                                Page 614


 33190                        	.sym	~~k_draw_text,~~k_draw_text,69,2,0
 33191                        	.sym	~~k_put_binary_variablefont_point_ex,~~k
                    _put_binary_variablefont_point_ex,69,2,0
 33192                        	.sym	~~k_put_binary_variablefont_point,~~k_pu
                    t_binary_variablefont_point,69,2,0
 33193                        	.sym	~~k_put_binary_font_point,~~k_put_binary
                    _font_point,69,2,0
 33194                        	.sym	~~k_put_font_scaled,~~k_put_font_scaled,
                    65,2,0
 33195                        	.sym	~~k_put_font,~~k_put_font,65,2,0
 33196                        	.sym	~~k_fill_line,~~k_fill_line,65,2,0
 33197                        	.sym	~~k_paint_brush_at_address,~~k_paint_bru
                    sh_at_address,65,2,0
 33198                        	.sym	~~k_paint_brush_rect,~~k_paint_brush_rec
                    t,65,2,0
 33199                        	.sym	~~k_vdraw_filled_rect,~~k_vdraw_filled_r
                    ect,65,2,0
 33200                        	.sym	~~k_draw_filled_rect,~~k_draw_filled_rec
                    t,65,2,0
 33201                        	.sym	~~k_draw_rect,~~k_draw_rect,65,2,0
 33202                        	.sym	~~k_draw_rect_slow,~~k_draw_rect_slow,65
                    ,2,0
 33203                        	.sym	~~k_draw_line_ex,~~k_draw_line_ex,65,2,0
 33204                        	.sym	~~k_draw_line,~~k_draw_line,65,2,0
 33205                        	.sym	~~k_draw_filled_circle,~~k_draw_filled_c
                    ircle,65,2,0
 33206                        	.sym	~~k_draw_circle,~~k_draw_circle,65,2,0
 33207                        	.sym	~~k_draw_segments,~~k_draw_segments,65,2
                    ,0
 33208                        	.sym	~~k_draw_pixel_D0,~~k_draw_pixel_D0,65,2
                    ,0
 33209                        	.sym	~~k_draw_pixel_back,~~k_draw_pixel_back,
                    65,2,0
 33210                        	.sym	~~k_draw_pixel_front,~~k_draw_pixel_fron
                    t,65,2,0
 33211                        	.sym	~~k_draw_pixel_ex,~~k_draw_pixel_ex,65,2
                    ,0
 33212                        	.sym	~~k_draw_pixel,~~k_draw_pixel,65,2,0
 33213                        	.sym	~~k_draw_lines,~~k_draw_lines,65,2,0
 33214                        	.sym	~~k_memory_bitblt,~~k_memory_bitblt,65,2
                    ,0
 33215                        	.sym	~~k_bitblt,~~k_bitblt,65,2,0
 33216                        	.sym	~~k_scratch_restore_bitblt,~~k_scratch_r
                    estore_bitblt,65,2,0
 33217                        	.sym	~~k_scratch_save_bitblt,~~k_scratch_save
                    _bitblt,65,2,0
 33218                        	.sym	~~k_shadow_fill_rect_address,~~k_shadow_
                    fill_rect_address,65,2,0
 33219                        	.sym	~~k_shadow_fill_rect,~~k_shadow_fill_rec
                    t,65,2,0
 33220                        	.sym	~~k_shadow_bitblt,~~k_shadow_bitblt,65,2
                    ,0
 33221                        	.sym	~~k_is_overlapped_rect_points,~~k_is_ove
                    rlapped_rect_points,69,2,0
 33222                        	.sym	~~k_is_overlapped_rect,~~k_is_overlapped
                    _rect,69,2,0
 33223                        	.sym	~~k_is_inside_rect,~~k_is_inside_rect,78
                    ,2,0
  Thu Jul 22 2021 22:51                                                Page 615


 33224                        	.sym	~~k_set_rect,~~k_set_rect,65,2,0
 33225                        	.sym	~~k_copy_rect,~~k_copy_rect,65,2,0
 33226                        	.sym	~~defineGrayPalette,~~defineGrayPalette,
                    65,2,0
 33227                        	.sym	~~setColors,~~setColors,65,2,0
 33228                        	.sym	~~k_init_desktop,~~k_init_desktop,65,2,0
 33229                        	.sym	~~k_gui_cache_desktop_widgets,~~k_gui_ca
                    che_desktop_widgets,65,2,0
 33230                        	.sym	~~k_gui_get_pixel_offset_width,~~k_gui_g
                    et_pixel_offset_width,71,2,0
 33231                        	.sym	~~k_gui_get_pixel_offset,~~k_gui_get_pix
                    el_offset,71,2,0
 33232                        	.sym	~~k_get_video_mode,~~k_get_video_mode,80
                    ,2,0
 33233                        	.sym	~~k_enable_bitmap_mode,~~k_enable_bitmap
                    _mode,65,2,0
 33234                        	.sym	~~k_gui_size_nonclient_area,~~k_gui_size
                    _nonclient_area,78,2,0
 33235                        	.sym	~~k_HWNDToWINRECT,~~k_HWNDToWINRECT,1098
                    ,2,32,26
 33236                        	.sym	~~k_getUIColor,~~k_getUIColor,69,2,0
 33237                        	.sym	~~k_getUIGadgetColor,~~k_getUIGadgetColo
                    r,69,2,0
 33238                        	.sym	~~k_getUIMenuColor,~~k_getUIMenuColor,69
                    ,2,0
 33239                        	.sym	~~k_getUIWindowShadowColor,~~k_getUIWind
                    owShadowColor,69,2,0
 33240                        	.sym	~~k_getUIWindowBorderColor,~~k_getUIWind
                    owBorderColor,69,2,0
 33241                        	.sym	~~k_getUIWindowFrameColor,~~k_getUIWindo
                    wFrameColor,69,2,0
 33242                        	.sym	~~k_getUIHighlightColor,~~k_getUIHighlig
                    htColor,69,2,0
 33243                        	.sym	~~k_getUIFontSelectedColor,~~k_getUIFont
                    SelectedColor,69,2,0
 33244                        	.sym	~~k_getUIFontColor,~~k_getUIFontColor,69
                    ,2,0
 33245                        	.sym	~~k_getUIDesktopColor,~~k_getUIDesktopCo
                    lor,69,2,0
 33246                        	.sym	~~k_getUIBackgroundColor,~~k_getUIBackgr
                    oundColor,69,2,0
 33247                        	.sym	PCUR_PALETTE_MAP,0,138,14,32,66
 33248                        	.sym	CUR_PALETTE_MAP,0,10,14,400,66
 33249                        	.sym	~~k_render_menu,~~k_render_menu,1098,2,3
                    2,36
 33250                        	.sym	~~k_vdraw_ui_menu_with_rect,~~k_vdraw_ui
                    _menu_with_rect,1098,2,32,36
 33251                        	.sym	~~k_vdraw_ui_menu_ex,~~k_vdraw_ui_menu_e
                    x,1098,2,32,36
 33252                        	.sym	~~k_vdraw_ui_menu,~~k_vdraw_ui_menu,1098
                    ,2,32,36
 33253                        	.sym	~~k_draw_menu,~~k_draw_menu,1098,2,32,36
 33254                        	.sym	PCLICKDETECTED,0,138,14,32,65
 33255                        	.sym	CLICKDETECTED,0,10,14,64,65
 33256                        	.sym	OBJECTCLICKED,0,641,14,32
 33257                        	.sym	~~MOUSE_POINTER_RESIZE,~~MOUSE_POINTER_R
                    ESIZE,110,2,0,256
 33258                        	.sym	~~MOUSE_POINTER_HOURGLASS,~~MOUSE_POINTE
  Thu Jul 22 2021 22:51                                                Page 616


                    R_HOURGLASS,110,2,0,256
 33259                        	.sym	~~MOUSE_POINTER_HELP,~~MOUSE_POINTER_HEL
                    P,110,2,0,256
 33260                        	.sym	~~MOUSE_POINTER_ARROW,~~MOUSE_POINTER_AR
                    ROW,110,2,0,256
 33261                        	.sym	~~Bm437ToshibaLCD8x8,~~Bm437ToshibaLCD8x
                    8,110,18,0,0
 33262                        	.sym	~~windowIconImg,~~windowIconImg,878,18,0
                    ,0,256
 33263                        	.sym	~~windowChromeImg,~~windowChromeImg,878,
                    18,0,0,64
 33264                        	.sym	~~fontImg,~~fontImg,878,18,0,0,64
 33265                        	.sym	~~characterROMMapping,~~characterROMMapp
                    ing,101,18,0,0
 33266                        	.sym	PIPCPORT,0,138,14,32,64
 33267                        	.sym	IPCPORT,0,10,14,144,64
 33268                        	.sym	~~k_mem_deallocate_heap,~~k_mem_dealloca
                    te_heap,65,18,0
 33269                        	.sym	~~k_mem_allocate_heap,~~k_mem_allocate_h
                    eap,1089,18,32
 33270                        	.sym	MemoryCallback,0,641,14,32
 33271                        	.sym	PFXMEMORYMAP,0,138,14,32,63
 33272                        	.sym	FXMEMORYMAP,0,10,14,2072,63
 33273                        	.sym	UMM_HEAP_INFO,0,10,14,256,62
 33274                        	.sym	PEXECUTIVE,0,138,14,32,61
 33275                        	.sym	EXECUTIVE,0,10,14,128,61
 33276                        	.sym	EX_QUERY_METRIC,0,656,14,32
 33277                        	.sym	EX_CONFIGURE,0,656,14,32
 33278                        	.sym	EX_UNINIT,0,641,14,32
 33279                        	.sym	EX_INIT,0,8833,14,32
 33280                        	.sym	~~k_string_replace,~~k_string_replace,11
                    02,18,32
 33281                        	.sym	~~k_string_copy_to_delimiter,~~k_string_
                    copy_to_delimiter,1102,18,32
 33282                        	.sym	PFXSTRING,0,138,14,32,60
 33283                        	.sym	FXSTRING,0,10,14,64,60
 33284                        	.sym	DEVICEDRIVER_COMMAND,0,656,14,32
 33285                        	.sym	DEVICEDRIVER_UNLOAD,0,654,14,32
 33286                        	.sym	DEVICEDRIVER_WRITE,0,656,14,32
 33287                        	.sym	DEVICEDRIVER_READ,0,656,14,32
 33288                        	.sym	DEVICEDRIVER_LOAD,0,654,14,32
 33289                        	.sym	DEVICEDRIVER_IRQ,0,641,14,32
 33290                        	.sym	PFX_BLOCK_DEVICE_DRIVER,0,138,14,32,59
 33291                        	.sym	FX_BLOCK_DEVICE_DRIVER,0,10,14,808,59
 33292                        	.sym	GETDRIVERDEF,0,8842,14,32,58
 33293                        	.sym	PFX_DEVICE_DRIVER,0,138,14,32,58
 33294                        	.sym	FX_DEVICE_DRIVER,0,10,14,776,58
 33295                        	.sym	~~k_get_c256_release,~~k_get_c256_releas
                    e,65,18,0
 33296                        	.sym	~~k_debug_strings,~~k_debug_strings,65,1
                    8,0
 33297                        	.sym	~~k_debug_message,~~k_debug_message,65,1
                    8,0
 33298                        	.sym	~~k_debug_long,~~k_debug_long,65,18,0
 33299                        	.sym	~~k_debug_integer,~~k_debug_integer,65,1
                    8,0
 33300                        	.sym	~~k_debug_pointer,~~k_debug_pointer,65,1
                    8,0
  Thu Jul 22 2021 22:51                                                Page 617


 33301                        	.sym	~~k_debug_string,~~k_debug_string,65,18,
                    0
 33302                        	.sym	~~k_delay,~~k_delay,65,18,0
 33303                        	.sym	~~sleep,~~sleep,65,18,0
 33304                        	.sym	PSEGMENTHEADER,0,138,14,32,57
 33305                        	.sym	SEGMENTHEADER,0,10,14,160,57
 33306                        	.sym	PDEBUGBYTEBITS,0,138,14,32,56
 33307                        	.sym	DEBUGBYTEBITS,0,10,14,8,56
 33308                        	.sym	PFXENVIRONMENT,0,138,14,32,55
 33309                        	.sym	FXENVIRONMENT,0,10,14,96,55
 33310                        	.sym	PFXZEROPAGE,0,138,14,32,54
 33311                        	.sym	FXZEROPAGE,0,10,14,720,54
 33312                        	.sym	IRQBUFFER,0,10,14,32,53
 33313                        	.sym	KERNELTRAPCALL,0,641,14,32
 33314                        	.sym	PFXKERNEL_API_CALLTABLE,0,138,14,32,52
 33315                        	.sym	FXKERNEL_API_CALLTABLE,0,10,14,8192,52
 33316                        	.sym	FOREACHNODEUNTIL,0,654,14,32
 33317                        	.sym	FOREACHNODE,0,641,14,32
 33318                        	.sym	PFXRFHEADER_STRING_ENTRY,0,138,14,32,51
 33319                        	.sym	FXRFHEADER_STRING_ENTRY,0,10,14,40,51
 33320                        	.sym	PFXRFHEADER_STRING,0,138,14,32,50
 33321                        	.sym	FXRFHEADER_STRING,0,10,14,32,50
 33322                        	.sym	PFXRFHEADER_FONT,0,138,14,32,49
 33323                        	.sym	FXRFHEADER_FONT,0,10,14,144,49
 33324                        	.sym	PFXRFHEADER,0,138,14,32,48
 33325                        	.sym	FXRFHEADER,0,10,14,72,48
 33326                        	.sym	PFXCOMBUFFER,0,138,14,32,47
 33327                        	.sym	FXCOMBUFFER,0,10,14,2080,47
 33328                        	.sym	PSUBMENULIST,0,138,14,32,46
 33329                        	.sym	SUBMENULIST,0,10,14,40,46
 33330                        	.sym	HSUBMENU,0,7,14,32
 33331                        	.sym	PSUBMENU,0,138,14,32,45
 33332                        	.sym	SUBMENU,0,10,14,64,45
 33333                        	.sym	MenuAction,0,641,14,32
 33334                        	.sym	PMENUANCHOR,0,138,14,32,44
 33335                        	.sym	MENUANCHOR,0,10,14,272,44
 33336                        	.sym	PMSGBOX,0,138,14,32,43
 33337                        	.sym	MSGBOX,0,10,14,144,43
 33338                        	.sym	PTEXTBOX,0,138,14,32,42
 33339                        	.sym	TEXTBOX,0,10,14,144,42
 33340                        	.sym	PLISTBOX,0,138,14,32,41
 33341                        	.sym	LISTBOX,0,10,14,240,41
 33342                        	.sym	PSCROLLBAR,0,138,14,32,40
 33343                        	.sym	SCROLLBAR,0,10,14,240,40
 33344                        	.sym	PBUTTON,0,138,14,32,39
 33345                        	.sym	BUTTON,0,10,14,96,39
 33346                        	.sym	PMENUDROPDOWNDATA,0,138,14,32,38
 33347                        	.sym	MENUDROPDOWNDATA,0,10,14,5152,38
 33348                        	.sym	PMENUTAG,0,138,14,32,37
 33349                        	.sym	MENUTAG,0,10,14,160,37
 33350                        	.sym	PMENU,0,138,14,32,36
 33351                        	.sym	MENU,0,10,14,280,36
 33352                        	.sym	HMENURESOURCE,0,129,14,32
 33353                        	.sym	FONTMETRIC,0,10,14,32,35
 33354                        	.sym	TITLE,0,142,14,32
 33355                        	.sym	PHANDLE,0,1153,14,32
 33356                        	.sym	HANDLE,0,129,14,32
 33357                        	.sym	PWINDOWEX,0,138,14,32,34
  Thu Jul 22 2021 22:51                                                Page 618


 33358                        	.sym	WINDOWEX,0,10,14,3880,34
 33359                        	.sym	PWINDOW,0,138,14,32,33
 33360                        	.sym	WINDOW,0,10,14,3904,33
 33361                        	.sym	PDRAGDATA,0,138,14,32,32
 33362                        	.sym	DRAGDATA,0,10,14,216,32
 33363                        	.sym	PNCCLICKABLE,0,138,14,32,31
 33364                        	.sym	NCCLICKABLE,0,10,14,136,31
 33365                        	.sym	HCLICKABLE,0,7,14,32
 33366                        	.sym	PCLICKABLE,0,138,14,32,30
 33367                        	.sym	CLICKABLE,0,10,14,152,30
 33368                        	.sym	PWNDCLASS,0,138,14,32,29
 33369                        	.sym	WNDCLASS,0,10,14,272,29
 33370                        	.sym	HBRUSH,0,129,14,32
 33371                        	.sym	HCURSOR,0,129,14,32
 33372                        	.sym	HICON,0,129,14,32
 33373                        	.sym	HINSTANCE,0,129,14,32
 33374                        	.sym	FXWndProc,0,654,14,32
 33375                        	.sym	PDRECT,0,138,14,32,28
 33376                        	.sym	DRECT,0,10,14,112,28
 33377                        	.sym	PRECTP,0,138,14,32,27
 33378                        	.sym	RECTP,0,10,14,96,27
 33379                        	.sym	PRECT,0,138,14,32,26
 33380                        	.sym	RECT,0,10,14,112,26
 33381                        	.sym	PPOINT,0,138,14,32,25
 33382                        	.sym	POINT,0,10,14,32,25
 33383                        	.sym	PFXPROPERTY,0,138,14,32,23
 33384                        	.sym	FXPROPERTY,0,10,14,384,23
 33385                        	.sym	PKEYSTATE,0,138,14,32,22
 33386                        	.sym	KEYSTATE,0,10,14,112,22
 33387                        	.sym	SCANCODE,0,14,14,8
 33388                        	.sym	KEYCODE,0,16,14,16
 33389                        	.sym	PFXPROCESSMESSAGE,0,138,14,32,21
 33390                        	.sym	FXPROCESSMESSAGE,0,10,14,112,21
 33391                        	.sym	PFXPROCESS,0,138,14,32,20
 33392                        	.sym	FXPROCESS,0,10,14,800,20
 33393                        	.sym	PDESKTOP_CONTROL,0,138,14,32,19
 33394                        	.sym	DESKTOP_CONTROL,0,10,14,392,19
 33395                        	.sym	PCONSOLE_CONTROL,0,138,14,32,18
 33396                        	.sym	CONSOLE_CONTROL,0,10,14,448,18
 33397                        	.sym	FXProcessProc,0,641,14,32
 33398                        	.sym	PFXCMDMESSAGE,0,138,14,32,17
 33399                        	.sym	FXCMDMESSAGE,0,10,14,312,17
 33400                        	.sym	PFXOSMESSAGE,0,138,14,32,16
 33401                        	.sym	FXOSMESSAGE,0,10,14,312,16
 33402                        	.sym	PINT_REGS,0,138,14,32,15
 33403                        	.sym	INT_REGS,0,10,14,104,15
 33404                        	.sym	TASK_STACK,0,10,14,32,14
 33405                        	.sym	TASK,0,10,14,48,13
 33406                        	.sym	PIRQDATA,0,138,14,32,12
 33407                        	.sym	IRQDATA,0,10,14,48,12
 33408                        	.sym	HMENU,0,129,14,32
 33409                        	.sym	HWND,0,129,14,32
 33410                        	.sym	MSGDATA,0,14,14,8
 33411                        	.sym	MSGDEST,0,18,14,32
 33412                        	.sym	MSGSRC,0,18,14,32
 33413                        	.sym	MSGTYPE,0,16,14,16
 33414                        	.sym	PROCESS_RESOURCE_LIST,0,138,14,32,6
 33415                        	.sym	PROCESS_TLS_LIST,0,138,14,32,6
  Thu Jul 22 2021 22:51                                                Page 619


 33416                        	.sym	SEMAPHORE_LIST,0,138,14,32,6
 33417                        	.sym	FILE_BLOCK_LIST,0,138,14,32,6
 33418                        	.sym	FILE_PATH_LIST,0,138,14,32,6
 33419                        	.sym	PROCEDURE_LIST,0,138,14,32,6
 33420                        	.sym	FILE_HANDLE,0,138,14,32,11
 33421                        	.sym	FILE_BLOCK,0,10,14,552,11
 33422                        	.sym	SEMAPHORE,0,10,14,16,10
 33423                        	.sym	PPROCESS_SIGNAL,0,138,14,32,9
 33424                        	.sym	PROCESS_SIGNAL,0,10,14,16,9
 33425                        	.sym	KRESULT,0,18,14,32
 33426                        	.sym	PKERNEL_ERROR,0,138,14,32,8
 33427                        	.sym	KERNEL_ERROR,0,10,14,32,8
 33428                        	.sym	PROCESS_STATUS,0,16,14,16
 33429                        	.sym	FILE_PATH_NAME,0,142,14,32
 33430                        	.sym	PROCESS_RESOURCE,0,129,14,32
 33431                        	.sym	PROCESS_TLS,0,129,14,32
 33432                        	.sym	PROCESS_CTX,0,129,14,32
 33433                        	.sym	USERID,0,16,14,16
 33434                        	.sym	PROCESS_ID,0,18,14,32
 33435                        	.sym	PROCESS_BANK,0,14,14,8
 33436                        	.sym	PFXQUEUE,0,138,14,32,7
 33437                        	.sym	FXQUEUE,0,10,14,80,7
 33438                        	.sym	PFXNODELIST,0,138,14,32,6
 33439                        	.sym	FXNODELIST,0,10,14,96,6
 33440                        	.sym	NodeListDeallocator,0,641,14,32
 33441                        	.sym	PFXNODE,0,138,14,32,5
 33442                        	.sym	FXNODE,0,10,14,384,5
 33443                        	.sym	PBYTEBITS,0,138,14,32,4
 33444                        	.sym	BYTEBITS,0,10,14,8,4
 33445                        	.sym	HRESULT,0,18,14,32
 33446                        	.sym	LPWCHAR,0,144,14,32
 33447                        	.sym	WCHAR,0,16,14,16
 33448                        	.sym	HSTRINGTABLE,0,129,14,32
 33449                        	.sym	HCOLOR,0,129,14,32
 33450                        	.sym	HFONT,0,129,14,32
 33451                        	.sym	HDC,0,129,14,32
 33452                        	.sym	HPOINTER,0,129,14,32
 33453                        	.sym	uint32_t,0,18,14,32
 33454                        	.sym	uint8_t,0,14,14,8
 33455                        	.sym	LPBOOL,0,142,14,32
 33456                        	.sym	BOOL,0,14,14,8
 33457                        	.sym	DWORD,0,18,14,32
 33458                        	.sym	ULONG,0,18,14,32
 33459                        	.sym	LPLONG,0,135,14,32
 33460                        	.sym	LONG,0,7,14,32
 33461                        	.sym	PUINT,0,144,14,32
 33462                        	.sym	USHORT,0,16,14,16
 33463                        	.sym	UINT,0,16,14,16
 33464                        	.sym	INT,0,5,14,16
 33465                        	.sym	WORD,0,5,14,16
 33466                        	.sym	PBYTE,0,142,14,32
 33467                        	.sym	BYTE,0,14,14,8
 33468                        	.sym	IOPORT,0,142,14,32
 33469                        	.sym	PUCHAR,0,142,14,32
 33470                        	.sym	UCHAR,0,14,14,8
 33471                        	.sym	LPWCSTR,0,142,14,32
 33472                        	.sym	LPCSTR,0,142,14,32
 33473                        	.sym	LPSTR,0,142,14,32
  Thu Jul 22 2021 22:51                                                Page 620


 33474                        	.sym	LPCHAR,0,142,14,32
 33475                        	.sym	CHAR,0,14,14,8
 33476                        	.sym	LPVOID,0,129,14,32
 33477                        	.sym	VOID,0,1,14,32
 33478                        	.sym	~~toupper,~~toupper,69,18,0
 33479                        	.sym	~~strupr,~~strupr,1102,18,32
 33480                        	.sym	~~strlen,~~strlen,80,18,0
 33481                        	.sym	~~strcpy,~~strcpy,1102,18,32
 33482                        	.sym	~~memset,~~memset,1089,18,32
 33483                        	.sym	~~memcpy,~~memcpy,1089,18,32
 33484                        	.sym	Boolean_T,0,5,14,16
 33485                        	.sym	~~abs,~~abs,69,18,0
 33486                        	.sym	ldiv_t,0,10,14,64,2
 33487                        	.sym	div_t,0,10,14,32,1
 33488                        	.sym	wctype_t,0,16,14,16
 33489                        	.sym	wint_t,0,16,14,16
 33490                        	.sym	wchar_t,0,14,14,8
 33491                        	.sym	ptrdiff_t,0,7,14,32
 33492                        	.sym	size_t,0,16,14,16
 33493                        	end


      Lines assembled: 33493
      Errors: 0
