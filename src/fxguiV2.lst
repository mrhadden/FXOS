  Mon Dec  7 2020 11:19                                                Page 1


                     ***************************************
                     **      WDC 65C816 Macro Assembler   **
                     **                                   **
                     **     Version 3.49.1- Feb  6 2006    **
                     ***************************************

     1                        ;:ts=8
     2             00000001   R0	equ	1
     3             00000005   R1	equ	5
     4             00000009   R2	equ	9
     5             0000000D   R3	equ	13
     6                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxguiV2.c",0
     7                        ;#include "fxos.h"
     8                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
     9                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
    10                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stddef.h",0
    11                        	.line	88
    12                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",43
    13                        	.stag	fake1_,32,1
    14                        	.member	quot,0,5,8,16
    15                        	.member	rem,16,5,8,16
    16                        	.eos
    17                        	.stag	fake2_,64,2
    18                        	.member	quot,0,7,8,32
    19                        	.member	rem,32,7,8,32
    20                        	.eos
    21                        	.stag	int_sqrt,32,3
    22                        	.member	sqrt,0,16,8,16
    23                        	.member	frac,16,16,8,16
    24                        	.eos
    25                        	.line	205
    26                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",4
    27                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
    28                        	.line	134
    29                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",5
    30                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    ctype.h",0
    31                        	.line	103
    32                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",6
    33                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
    34                        	.stag	_fx_bytebits,8,4
    35                        	.member	b7,0,14,17,1
    36                        	.member	b6,1,14,17,1
    37                        	.member	b5,2,14,17,1
    38                        	.member	b4,3,14,17,1
    39                        	.member	b3,4,14,17,1
    40                        	.member	b2,5,14,17,1
    41                        	.member	b1,6,14,17,1
  Mon Dec  7 2020 11:19                                                Page 2


    42                        	.member	b0,7,14,17,1
    43                        	.eos
    44                        	.stag	_fx_node,384,5
    45                        	.member	type,0,14,8,8
    46                        	.member	Reserved0,8,14,8,8
    47                        	.member	data,16,129,8,32
    48                        	.member	last,48,138,8,32,5
    49                        	.member	next,80,138,8,32,5
    50                        	.member	name,112,110,8,0,32
    51                        	.member	Reserved1,368,16,8,16
    52                        	.eos
    53                        	.stag	_fx_nodelist,96,6
    54                        	.member	listhead,0,138,8,32,5
    55                        	.member	listData,32,129,8,32
    56                        	.member	deallocator,64,641,8,32
    57                        	.eos
    58                        	.stag	_fx_queue,80,7
    59                        	.member	count,0,5,8,16
    60                        	.member	front,16,138,8,32,5
    61                        	.member	rear,48,138,8,32,5
    62                        	.eos
    63                        	.stag	fake8_,32,8
    64                        	.member	subsystem,0,14,8,8
    65                        	.member	level,8,14,8,8
    66                        	.member	error,16,16,8,16
    67                        	.eos
    68                        	.stag	_fx_process_signal,16,9
    69                        	.member	cbSize,0,16,8,16
    70                        	.eos
    71                        	.stag	_fx_semaphore,16,10
    72                        	.member	reserved,0,5,8,16
    73                        	.eos
    74                        	.stag	_fx_fileBlock,552,11
    75                        	.member	openCount,0,16,8,16
    76                        	.member	lockCount,16,16,8,16
    77                        	.member	dirty,32,14,8,8
    78                        	.member	fileBuffer,40,110,8,0,64
    79                        	.eos
    80                        	.stag	_fx_irq_data,48,12
    81                        	.member	line,0,5,8,16
    82                        	.member	keycode,16,142,8,32
    83                        	.eos
    84                        	.stag	_task,48,13
    85                        	.member	SPL,0,14,8,8
    86                        	.member	SPH,8,14,8,8
    87                        	.member	pstack,16,142,8,32
    88                        	.eos
    89                        	.stag	_task_stack,32,14
    90                        	.member	SS,0,142,8,32
    91                        	.eos
    92                        	.stag	int_regs,104,15
    93                        	.member	PB,0,14,8,8
    94                        	.member	PH,8,14,8,8
    95                        	.member	PL,16,14,8,8
    96                        	.member	PP,24,14,8,8
    97                        	.member	DB,32,14,8,8
    98                        	.member	DH,40,14,8,8
    99                        	.member	DL,48,14,8,8
  Mon Dec  7 2020 11:19                                                Page 3


   100                        	.member	AH,56,14,8,8
   101                        	.member	AL,64,14,8,8
   102                        	.member	XH,72,14,8,8
   103                        	.member	XL,80,14,8,8
   104                        	.member	YH,88,14,8,8
   105                        	.member	YL,96,14,8,8
   106                        	.eos
   107                        	.stag	_fx_eventMessage,304,16
   108                        	.member	src,0,18,8,32
   109                        	.member	dest,32,18,8,32
   110                        	.member	type,64,16,8,16
   111                        	.member	hwnd,80,129,8,32
   112                        	.member	pheap,112,129,8,32
   113                        	.member	msgTime,144,18,8,32
   114                        	.member	data,176,110,8,0,16
   115                        	.eos
   116                        	.stag	_fx_cmdMessage,304,17
   117                        	.member	src,0,18,8,32
   118                        	.member	dest,32,18,8,32
   119                        	.member	type,64,16,8,16
   120                        	.member	hwnd,80,129,8,32
   121                        	.member	pheap,112,129,8,32
   122                        	.member	msgTime,144,18,8,32
   123                        	.member	cmdCId,176,16,8,16
   124                        	.member	cmdMId,192,16,8,16
   125                        	.member	parameter1,208,18,8,32
   126                        	.member	parameter2,240,18,8,32
   127                        	.member	parameter3,272,18,8,32
   128                        	.eos
   129                        	.stag	_fx_console_ctl,448,18
   130                        	.member	maxCols,0,5,8,16
   131                        	.member	maxRows,16,5,8,16
   132                        	.member	curX,32,5,8,16
   133                        	.member	curY,48,5,8,16
   134                        	.member	fgColor,64,5,8,16
   135                        	.member	bgColor,80,5,8,16
   136                        	.member	mode,96,14,8,8
   137                        	.member	kbBuffer,104,101,8,0,16
   138                        	.member	screenBuffer,360,142,8,32
   139                        	.member	desktopMode,392,14,8,8
   140                        	.member	lastMouseButton,400,5,8,16
   141                        	.member	lastMouseX,416,5,8,16
   142                        	.member	lastMouseY,432,5,8,16
   143                        	.eos
   144                        	.stag	_fx_desktop_ctl,392,19
   145                        	.member	desktopMode,0,14,8,8
   146                        	.member	cursorCtl,8,5,8,16
   147                        	.member	cursorState,24,5,8,16
   148                        	.member	backgroundColor,40,5,8,16
   149                        	.member	foregroundColor,56,5,8,16
   150                        	.member	menuMode,72,5,8,16
   151                        	.member	lastMouseButton,88,5,8,16
   152                        	.member	lastMouseX,104,5,8,16
   153                        	.member	lastMouseY,120,5,8,16
   154                        	.member	currentDiskName,136,142,8,32
   155                        	.member	diskNodes,168,129,8,32
   156                        	.member	titleNodes,200,129,8,32
   157                        	.member	menuNodes,232,129,8,32
  Mon Dec  7 2020 11:19                                                Page 4


   158                        	.member	iconNodes,264,129,8,32
   159                        	.member	windowNodes,296,129,8,32
   160                        	.member	fontNodes,328,129,8,32
   161                        	.member	wndProc,360,138,8,32,6
   162                        	.eos
   163                        	.stag	_fx_process,800,20
   164                        	.member	cbSize,0,5,8,16
   165                        	.member	procId,16,18,8,32
   166                        	.member	parentId,48,18,8,32
   167                        	.member	ctx,80,129,8,32
   168                        	.member	userId,112,16,8,16
   169                        	.member	status,128,16,8,16
   170                        	.member	foregroundActive,144,14,8,8
   171                        	.member	tls,152,1121,8,32,8
   172                        	.member	commandLine,408,142,8,32
   173                        	.member	semaphores,440,138,8,32,6
   174                        	.member	fileHandles,472,138,8,32,6
   175                        	.member	pathList,504,138,8,32,6
   176                        	.member	resources,536,138,8,32,6
   177                        	.member	timerAware,568,14,8,8
   178                        	.member	timerTicks,576,112,8,0,2
   179                        	.member	timerTickCount,608,112,8,0,2
   180                        	.member	kernelError,640,10,8,32,8
   181                        	.member	consoleCtl,672,138,8,32,18
   182                        	.member	desktopCtl,704,138,8,32,19
   183                        	.member	execProc,736,641,8,32
   184                        	.member	startupArgs,768,129,8,32
   185                        	.eos
   186                        	.stag	_fxProcessMessage,112,21
   187                        	.member	src,0,18,8,32
   188                        	.member	dest,32,18,8,32
   189                        	.member	type,64,16,8,16
   190                        	.member	processInfo,80,138,8,32,20
   191                        	.eos
   192                        	.stag	_fx_property,384,22
   193                        	.member	name,0,110,8,0,16
   194                        	.member	value,128,110,8,0,32
   195                        	.eos
   196                        	.utag	_24bitPointer,32,23
   197                        	.member	address,0,142,11,32
   198                        	.member	bytes,0,110,11,0,4
   199                        	.eos
   200                        	.stag	_PointStruct,32,24
   201                        	.member	x,0,5,8,16
   202                        	.member	y,16,5,8,16
   203                        	.eos
   204                        	.stag	_RectStruct,64,25
   205                        	.member	x,0,5,8,16
   206                        	.member	y,16,5,8,16
   207                        	.member	width,32,5,8,16
   208                        	.member	height,48,5,8,16
   209                        	.eos
   210                        	.stag	_k_WindowClass,256,26
   211                        	.member	cbSize,0,16,8,16
   212                        	.member	style,16,16,8,16
   213                        	.member	pWndProc,32,654,8,32
   214                        	.member	hInstance,64,129,8,32
   215                        	.member	hIcon,96,129,8,32
  Mon Dec  7 2020 11:19                                                Page 5


   216                        	.member	hCursor,128,129,8,32
   217                        	.member	hbrBackground,160,129,8,32
   218                        	.member	lpszMenuName,192,142,8,32
   219                        	.member	lpszClassName,224,142,8,32
   220                        	.eos
   221                        	.stag	_ClickableRect,88,27
   222                        	.member	area,0,10,8,64,25
   223                        	.member	z,64,5,8,16
   224                        	.member	enabled,80,14,8,8
   225                        	.eos
   226                        	.stag	_NCClickableRect,88,28
   227                        	.member	area,0,10,8,64,25
   228                        	.member	msgType,64,16,8,16
   229                        	.member	enabled,80,14,8,8
   230                        	.eos
   231                        	.stag	_DragData,160,29
   232                        	.member	area,0,10,8,64,25
   233                        	.member	xoffset,64,5,8,16
   234                        	.member	yoffset,80,5,8,16
   235                        	.member	msgType,96,16,8,16
   236                        	.member	ncAction,112,16,8,16
   237                        	.member	isDrag,128,14,8,8
   238                        	.member	isResize,136,14,8,8
   239                        	.member	canDrag,144,14,8,8
   240                        	.member	canDrop,152,14,8,8
   241                        	.eos
   242                        	.stag	_k_WindowStruct,2840,30
   243                        	.member	cbSize,0,16,8,16
   244                        	.member	style,16,18,8,32
   245                        	.member	win_id,48,5,8,16
   246                        	.member	win_x,64,5,8,16
   247                        	.member	win_y,80,5,8,16
   248                        	.member	win_width,96,5,8,16
   249                        	.member	win_height,112,5,8,16
   250                        	.member	wndRect,128,10,8,64,25
   251                        	.member	clientRect,192,10,8,64,25
   252                        	.member	nonclientGadgets,256,106,8,0,28,16
   253                        	.member	clickable,1664,129,8,32
   254                        	.member	win_title,1696,110,8,0,32
   255                        	.member	Reserved0,1952,16,8,16
   256                        	.member	win_class,1968,110,8,0,16
   257                        	.member	win_class_name,2096,110,8,0,32
   258                        	.member	nBitmapLayer,2352,16,8,16
   259                        	.member	bgRegion,2368,129,8,32
   260                        	.member	procid,2400,18,8,32
   261                        	.member	pWndClass,2432,138,8,32,26
   262                        	.member	pParentWindow,2464,129,8,32
   263                        	.member	hMenu,2496,129,8,32
   264                        	.member	pChildWindows,2528,138,8,32,6
   265                        	.member	pChildHitList,2560,138,8,32,6
   266                        	.member	isVisible,2592,14,8,8
   267                        	.member	windowData,2600,129,8,32
   268                        	.member	clientData,2632,1121,8,32,6
   269                        	.member	isClosed,2824,14,8,8
   270                        	.member	isClosing,2832,14,8,8
   271                        	.eos
   272                        	.stag	_k_WindowStructEx,2704,31
   273                        	.member	cbSize,0,16,8,16
  Mon Dec  7 2020 11:19                                                Page 6


   274                        	.member	style,16,18,8,32
   275                        	.member	win_id,48,5,8,16
   276                        	.member	win_x,64,5,8,16
   277                        	.member	win_y,80,5,8,16
   278                        	.member	win_width,96,5,8,16
   279                        	.member	win_height,112,5,8,16
   280                        	.member	wndRect,128,10,8,64,25
   281                        	.member	clientRect,192,10,8,64,25
   282                        	.member	nonclientGadgets,256,106,8,0,28,16
   283                        	.member	clickable,1664,129,8,32
   284                        	.member	win_title,1696,110,8,0,32
   285                        	.member	Reserved0,1952,16,8,16
   286                        	.member	win_class,1968,110,8,0,16
   287                        	.member	nBitmapLayer,2096,16,8,16
   288                        	.member	procid,2112,18,8,32
   289                        	.member	pWndClass,2144,138,8,32,26
   290                        	.member	pParentWindow,2176,129,8,32
   291                        	.member	hMenu,2208,129,8,32
   292                        	.member	pChildWindows,2240,138,8,32,6
   293                        	.member	pChildHitList,2272,138,8,32,6
   294                        	.member	isVisible,2304,14,8,8
   295                        	.member	windowData,2312,129,8,32
   296                        	.member	clientData,2344,1121,8,32,4
   297                        	.member	isClosed,2472,14,8,8
   298                        	.member	hWnd,2480,129,8,32
   299                        	.member	localRect,2512,10,8,64,25
   300                        	.member	globalRect,2576,10,8,64,25
   301                        	.member	clientOffsetRect,2640,10,8,64,25
   302                        	.eos
   303                        	.stag	_FontMetric,32,32
   304                        	.member	width,0,5,8,16
   305                        	.member	height,16,5,8,16
   306                        	.eos
   307                        	.stag	_ctl_Textbox,112,33
   308                        	.member	win_id,0,5,8,16
   309                        	.member	win_x,16,5,8,16
   310                        	.member	win_y,32,5,8,16
   311                        	.member	win_width,48,5,8,16
   312                        	.member	win_height,64,5,8,16
   313                        	.member	content,80,1166,8,32
   314                        	.eos
   315                        	.stag	_MenuStruct,248,34
   316                        	.member	cx,0,5,8,16
   317                        	.member	cy,16,5,8,16
   318                        	.member	width,32,5,8,16
   319                        	.member	height,48,5,8,16
   320                        	.member	fcolor,64,14,8,8
   321                        	.member	bcolor,72,14,8,8
   322                        	.member	chromeLeft,80,14,8,8
   323                        	.member	chromeRight1,88,14,8,8
   324                        	.member	chromeRight2,96,14,8,8
   325                        	.member	itemId,104,16,8,16
   326                        	.member	pCaption,120,142,8,32
   327                        	.member	subMenus,152,138,8,32,6
   328                        	.member	pBackground,184,129,8,32
   329                        	.member	hWndOwner,216,129,8,32
   330                        	.eos
   331                        	.stag	fake35_,112,35
  Mon Dec  7 2020 11:19                                                Page 7


   332                        	.member	menuId,0,16,8,16
   333                        	.member	caption,16,142,8,32
   334                        	.member	rect,48,10,8,64,25
   335                        	.eos
   336                        	.stag	fake36_,3568,36
   337                        	.member	pParent,0,138,8,32,30
   338                        	.member	rect,32,10,8,64,25
   339                        	.member	captions,96,1134,8,32,24
   340                        	.member	chrome,864,110,8,0,24
   341                        	.member	ids,1056,112,8,0,24
   342                        	.member	clickable,1440,106,8,0,27,24
   343                        	.member	selected,3552,16,8,16
   344                        	.eos
   345                        	.stag	_fx_button_t,80,37
   346                        	.member	pCaption,0,142,8,32
   347                        	.member	data,32,129,8,32
   348                        	.member	captionPixelWidth,64,16,8,16
   349                        	.eos
   350                        	.stag	_fx_scrollbar_t,192,38
   351                        	.member	min,0,16,8,16
   352                        	.member	max,16,16,8,16
   353                        	.member	increment,32,16,8,16
   354                        	.member	stopsize,48,16,8,16
   355                        	.member	location,64,5,8,16
   356                        	.member	state,80,5,8,16
   357                        	.member	rectThumb,96,10,8,64,25
   358                        	.member	data,160,129,8,32
   359                        	.eos
   360                        	.stag	_fx_listbox_t,240,39
   361                        	.member	pos,0,5,8,16
   362                        	.member	selected,16,16,8,16
   363                        	.member	offsetX,32,5,8,16
   364                        	.member	offsetY,48,5,8,16
   365                        	.member	inc,64,5,8,16
   366                        	.member	direction,80,5,8,16
   367                        	.member	top,96,5,8,16
   368                        	.member	bottom,112,5,8,16
   369                        	.member	indexTop,128,5,8,16
   370                        	.member	indexBottom,144,5,8,16
   371                        	.member	maxItems,160,16,8,16
   372                        	.member	fontSet,176,142,8,32
   373                        	.member	data,208,129,8,32
   374                        	.eos
   375                        	.stag	_fx_textbox_t,144,40
   376                        	.member	pos,0,5,8,16
   377                        	.member	selected,16,16,8,16
   378                        	.member	offsetX,32,5,8,16
   379                        	.member	offsetY,48,5,8,16
   380                        	.member	isShifted,64,14,8,8
   381                        	.member	cursorState,72,14,8,8
   382                        	.member	fontSet,80,142,8,32
   383                        	.member	data,112,129,8,32
   384                        	.eos
   385                        	.stag	_fx_menuAnchor_t,144,41
   386                        	.member	pCaption,0,142,8,32
   387                        	.member	renderLayoutX,32,16,8,16
   388                        	.member	renderLayoutY,48,16,8,16
   389                        	.member	captionPixelWidth,64,16,8,16
  Mon Dec  7 2020 11:19                                                Page 8


   390                        	.member	data,80,129,8,32
   391                        	.member	droppedWindow,112,138,8,32,30
   392                        	.eos
   393                        	.stag	_SubMenuStruct,64,42
   394                        	.member	caption,0,142,8,32
   395                        	.member	action,32,641,8,32
   396                        	.eos
   397                        	.stag	_SubMenuListStruct,40,43
   398                        	.member	cMenus,0,14,8,8
   399                        	.member	psubmenus,8,9354,8,32,42
   400                        	.eos
   401                        	.stag	_fx_ComBuffer,2080,44
   402                        	.member	cbSize,0,16,8,16
   403                        	.member	cbBuffer,16,16,8,16
   404                        	.member	buffer,32,110,8,0,256
   405                        	.eos
   406                        	.line	715
   407                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",8
   408                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstringtable.h",0
   409                        	.line	89
   410                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",9
   411                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",0
   412                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   413                        	.line	715
   414                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",5
   415                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fmx_vicky.h",0
   416                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   417                        	.line	715
   418                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fmx_vicky.h",11
   419                        	.line	72
   420                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",6
   421                        	.line	1325
   422                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",13
   423                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",0
   424                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   425                        	.line	25
   426                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",5
   427                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   428                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   429                        	.line	715
   430                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",5
  Mon Dec  7 2020 11:19                                                Page 9


   431                        	.line	64
   432                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxkernel.h",6
   433                        	.stag	_fx_zero_page,448,45
   434                        	.member	fxos_mouse_byte_0,0,14,8,8
   435                        	.member	fxos_mouse_byte_1,8,14,8,8
   436                        	.member	fxos_mouse_byte_2,16,14,8,8
   437                        	.member	fxos_mouse_byte_t,24,14,8,8
   438                        	.member	fxos_mouse_byte_x_l,32,14,8,8
   439                        	.member	fxos_mouse_byte_x_h,40,14,8,8
   440                        	.member	fxos_mouse_byte_y_l,48,14,8,8
   441                        	.member	fxos_mouse_byte_y_h,56,14,8,8
   442                        	.member	fxos_key_byte_0,64,14,8,8
   443                        	.member	fxos_key_byte_1,72,14,8,8
   444                        	.member	fxos_key_byte_2,80,14,8,8
   445                        	.member	fxos_mouse_ctl,88,14,8,8
   446                        	.member	fxos_mouse_index,96,14,8,8
   447                        	.member	fxos_mouse_status,104,14,8,8
   448                        	.member	VersionMajor,112,16,8,16
   449                        	.member	VersionMinor,128,16,8,16
   450                        	.member	VersionRelease,144,16,8,16
   451                        	.member	topMemory,160,18,8,32
   452                        	.member	bottomMemory,192,18,8,32
   453                        	.member	availableMemory,224,18,8,32
   454                        	.member	availableMemoryK,256,18,8,32
   455                        	.member	availableHeapMemory,288,18,8,32
   456                        	.member	availableHeapMemoryK,320,18,8,32
   457                        	.member	kernelFunctionCallId,352,16,8,16
   458                        	.member	kernelFunctionCallBank,368,14,8,8
   459                        	.member	kernelFunctionCallReserved,376,14,8,8
   460                        	.member	kernelFunctionCallParameter,384,129,8,32
   461                        	.member	kernelFunctionCallReturn,416,129,8,32
   462                        	.eos
   463                        	.stag	_fx_environment,96,46
   464                        	.member	variables,0,142,8,32
   465                        	.member	reserved1,32,5,8,16
   466                        	.member	reserved2,48,5,8,16
   467                        	.member	reserved3,64,5,8,16
   468                        	.member	reserved4,80,5,8,16
   469                        	.eos
   470                        	.stag	_debug_byte_bits,8,47
   471                        	.member	bit7,0,14,17,1
   472                        	.member	bit6,1,14,17,1
   473                        	.member	bit5,2,14,17,1
   474                        	.member	bit4,3,14,17,1
   475                        	.member	bit3,4,14,17,1
   476                        	.member	bit2,5,14,17,1
   477                        	.member	bit1,6,14,17,1
   478                        	.member	bit0,7,14,17,1
   479                        	.eos
   480                        	.stag	_fx_device_driver,1416,48
   481                        	.member	name,0,110,8,0,64
   482                        	.member	version,512,110,8,0,64
   483                        	.member	hmajor,1024,110,8,0,16
   484                        	.member	hminor,1152,110,8,0,16
   485                        	.member	type,1280,14,8,8
   486                        	.member	f_driver_load,1288,129,8,32
   487                        	.member	f_driver_read,1320,129,8,32
  Mon Dec  7 2020 11:19                                                Page 10


   488                        	.member	f_driver_write,1352,129,8,32
   489                        	.member	f_driver_unload,1384,129,8,32
   490                        	.eos
   491                        	.stag	_fx_block_device_driver,1448,49
   492                        	.member	name,0,110,8,0,64
   493                        	.member	version,512,110,8,0,64
   494                        	.member	hmajor,1024,110,8,0,16
   495                        	.member	hminor,1152,110,8,0,16
   496                        	.member	type,1280,14,8,8
   497                        	.member	f_driver_load,1288,129,8,32
   498                        	.member	f_driver_read,1320,129,8,32
   499                        	.member	f_driver_write,1352,129,8,32
   500                        	.member	f_driver_unload,1384,129,8,32
   501                        	.member	f_driver_command,1416,129,8,32
   502                        	.eos
   503                        	.line	270
   504                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",19
   505                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",0
   506                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   507                        	.line	134
   508                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",5
   509                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   510                        	.line	205
   511                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",6
   512                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   513                        	.line	715
   514                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",7
   515                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxc256fmx.h",0
   516                        	.line	1325
   517                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",10
   518                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",0
   519                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   520                        	.line	205
   521                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",5
   522                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   523                        	.line	134
   524                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",6
   525                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   526                        	.line	715
   527                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",7
   528                        	.stag	_fx_string,64,50
  Mon Dec  7 2020 11:19                                                Page 11


   529                        	.member	size,0,16,8,16
   530                        	.member	pos,16,5,8,16
   531                        	.member	buffer,32,142,8,32
   532                        	.eos
   533                        	.line	71
   534                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",15
   535                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",0
   536                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   537                        	.line	25
   538                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",5
   539                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxexec.h",0
   540                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   541                        	.line	715
   542                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxexec.h",5
   543                        	.line	52
   544                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",6
   545                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   546                        	.line	64
   547                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",7
   548                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",0
   549                        	.line	171
   550                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",8
   551                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",0
   552                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   553                        	.line	715
   554                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",5
   555                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   556                        	.line	25
   557                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",6
   558                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",0
   559                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",0
   560                        	.line	25
   561                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",5
   562                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc_cfg.h",0
   563                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos_build_parameters.h",0
   564                        	.line	32
  Mon Dec  7 2020 11:19                                                Page 12


   565                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc_cfg.h",8
   566                        	.stag	UMM_HEAP_INFO_t,256,51
   567                        	.member	totalEntries,0,18,8,32
   568                        	.member	usedEntries,32,18,8,32
   569                        	.member	freeEntries,64,18,8,32
   570                        	.member	totalBlocks,96,18,8,32
   571                        	.member	usedBlocks,128,18,8,32
   572                        	.member	freeBlocks,160,18,8,32
   573                        	.member	maxFreeContiguousBlocks,192,18,8,32
   574                        	.member	blockSize,224,18,8,32
   575                        	.eos
   576                        	.line	199
   577                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",6
   578                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc.h",0
   579                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   580                        	.line	715
   581                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\umm_malloc.h",11
   582                        	.line	24
   583                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",7
   584                        	.stag	_fx_memory_map,2072,52
   585                        	.member	availableMemory,0,18,8,32
   586                        	.member	valid_segments,32,110,8,0,255
   587                        	.eos
   588                        	.line	39
   589                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",7
   590                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",0
   591                        	.line	757
   592                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",8
   593                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.h",0
   594                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",0
   595                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxtypes.h",0
   596                        	.line	715
   597                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",6
   598                        	.line	64
   599                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.h",4
   600                        	.stag	_click_detected,64,53
   601                        	.member	window,0,138,8,32,30
   602                        	.member	handler,32,641,8,32
   603                        	.eos
   604                        	.stag	_current_palette_map,400,54
   605                        	.member	CUR_DESKTOP,0,5,8,16
   606                        	.member	CUR_BACKGROUND,16,5,8,16
   607                        	.member	CUR_FONT,32,5,8,16
   608                        	.member	CUR_SELECTED_FONT,48,5,8,16
  Mon Dec  7 2020 11:19                                                Page 13


   609                        	.member	CUR_HIGHLIGHT_COLOR,64,5,8,16
   610                        	.member	CUR_WINDOWFRAME,80,5,8,16
   611                        	.member	CUR_WINDOWBORDER,96,5,8,16
   612                        	.member	CUR_WINDOWSHADOW,112,5,8,16
   613                        	.member	CUR_MENU,128,5,8,16
   614                        	.member	CUR_GADGET,144,5,8,16
   615                        	.member	CUR_COLOR,160,101,8,0,15
   616                        	.eos
   617                        	.line	268
   618                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxwindowmanager.h",9
   619                        	.stag	_childMessage_t,64,55
   620                        	.member	msgType,0,16,8,16
   621                        	.member	msgData,16,129,8,32
   622                        	.member	dataSize,48,16,8,16
   623                        	.eos
   624                        	.line	369
   625                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxeventmanager.h",9
   626                        	.stag	_fx_main_loopvars,16,56
   627                        	.member	dummy,0,5,8,16
   628                        	.eos
   629                        	.stag	_fxMouseMessageData,64,57
   630                        	.member	button1,0,14,8,8
   631                        	.member	button2,8,14,8,8
   632                        	.member	button3,16,14,8,8
   633                        	.member	button4,24,14,8,8
   634                        	.member	x,32,16,8,16
   635                        	.member	y,48,16,8,16
   636                        	.eos
   637                        	.stag	_fx_eventProcess,64,58
   638                        	.member	process,0,138,8,32,20
   639                        	.member	eventProc,32,641,8,32
   640                        	.eos
   641                        	.stag	_mouse_msg_state,184,59
   642                        	.member	lastEvent,0,18,8,32
   643                        	.member	buttonLeftDown,32,14,8,8
   644                        	.member	lastLeftDown,40,18,8,32
   645                        	.member	buttonRightDown,72,14,8,8
   646                        	.member	lastRightDown,80,18,8,32
   647                        	.member	buttonMiddleDown,112,14,8,8
   648                        	.member	lastMiddleDown,120,18,8,32
   649                        	.member	lastX,152,16,8,16
   650                        	.member	lastY,168,16,8,16
   651                        	.eos
   652                        	.line	757
   653                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxconsole.h",16
   654                        	.stag	_fx_spinner_ctx,48,60
   655                        	.member	index,0,5,8,16
   656                        	.member	spinner,16,142,8,32
   657                        	.eos
   658                        	.stag	_fx_console_ctx,1144,61
   659                        	.member	lineBufferIndex,0,5,8,16
   660                        	.member	lineBuffer,16,110,8,0,128
   661                        	.member	isShifted,1040,14,8,8
   662                        	.member	userData,1048,129,8,32
   663                        	.member	screenBuffer,1080,129,8,32
  Mon Dec  7 2020 11:19                                                Page 14


   664                        	.member	Reserved1,1112,129,8,32
   665                        	.eos
   666                        	.stag	_token,64,62
   667                        	.member	type,0,5,8,16
   668                        	.member	depth,16,16,8,16
   669                        	.member	text,32,142,8,32
   670                        	.eos
   671                        	.stag	_command_args,64,63
   672                        	.member	proc,0,656,8,32
   673                        	.member	tokens,32,138,8,32,5
   674                        	.eos
   675                        	.line	171
   676                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",20
   677                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxstring.h",0
   678                        	.line	71
   679                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",21
   680                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxnode.h",0
   681                        	.line	64
   682                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxos.h",22
   683                        	.line	25
   684                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxguiV2.c",1
   685                        ;#include "fxmemorymanager.h"
   686                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxmemorymanager.h",0
   687                        	.line	39
   688                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxguiV2.c",2
   689                        ;//#include "fxstartup.h"
   690                        ;#include "fxfont.h"
   691                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxfont.h",0
   692                        	.line	64
   693                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxguiV2.c",4
   694                        ;#include "fxdrawing.h"
   695                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxdrawing.h",0
   696                        	.line	20
   697                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxguiV2.c",5
   698                        ;#include "fxgui.h"
   699                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxgui.h",0
   700                        	.line	268
   701                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxguiV2.c",6
   702                        ;
   703                        ;
   704                        ;//#include "fbtestfnt.h"
   705                        ;//#pragma section CODE=FCODE,OFFSET $15:0000
   706                        ;//extern char _END_UDATA;
   707                        ;//void *heap_start=(void*)&_END_UDATA,*heap_end=(
  Mon Dec  7 2020 11:19                                                Page 15


                    void*)(&_END_UDATA + 0x1000);
   708                        ;
   709                        ;#define BITMAP_SEG0   ((char FAR*)0xB00000)
   710                        ;#define BITMAP_SEG1   ((char FAR*)0xB10000)
   711                        ;#define BITMAP_SEG2   ((char FAR*)0xB20000)
   712                        ;#define BITMAP_SEG3   ((char FAR*)0xB30000)
   713                        ;#define BITMAP_SEG4   ((char FAR*)0xB40000)
   714                        ;
   715                        ;#define BITMAP0_SEG0   ((char FAR*)0xB00000)
   716                        ;#define BITMAP0_SEG1   ((char FAR*)0xB10000)
   717                        ;#define BITMAP0_SEG2   ((char FAR*)0xB20000)
   718                        ;#define BITMAP0_SEG3   ((char FAR*)0xB30000)
   719                        ;#define BITMAP0_SEG4   ((char FAR*)0xB40000)
   720                        ;#define BITMAP1_SEG0   ((char FAR*)0xB00000)
   721                        ;#define BITMAP1_SEG1   ((char FAR*)0xB10000)
   722                        ;#define BITMAP1_SEG2   ((char FAR*)0xB20000)
   723                        ;#define BITMAP1_SEG3   ((char FAR*)0xB30000)
   724                        ;#define BITMAP1_SEG4   ((char FAR*)0xB40000)
   725                        ;
   726                        ;
   727                        ;static CHAR FAR TEXT_FG_COLORS[] =
   728                        	data
   729                        ~~TEXT_FG_COLORS:
   730                        ;{
   731                        ;	0x00,0x00,0x00,0xFF,
   732 00:0000: 00 00 00 FF  	db	$0,$0,$0,$FF
   733                        ;	0x00,0x00,0x80,0xFF,
   734 00:0004: 00 00 80 FF  	db	$0,$0,$80,$FF
   735                        ;	0x00,0x80,0x00,0xFF,
   736 00:0008: 00 80 00 FF  	db	$0,$80,$0,$FF
   737                        ;	0x80,0x00,0x00,0xFF,
   738 00:000C: 80 00 00 FF  	db	$80,$0,$0,$FF
   739                        ;	0x00,0x80,0x80,0xFF,
   740 00:0010: 00 80 80 FF  	db	$0,$80,$80,$FF
   741                        ;	0x80,0x80,0x00,0xFF,
   742 00:0014: 80 80 00 FF  	db	$80,$80,$0,$FF
   743                        ;	0x80,0x00,0x80,0xFF,
   744 00:0018: 80 00 80 FF  	db	$80,$0,$80,$FF
   745                        ;	0x80,0x80,0x80,0xFF,
   746 00:001C: 80 80 80 FF  	db	$80,$80,$80,$FF
   747                        ;	0x00,0x45,0xFF,0xFF,
   748 00:0020: 00 45 FF FF  	db	$0,$45,$FF,$FF
   749                        ;	0x13,0x45,0x8B,0xFF,
   750 00:0024: 13 45 8B FF  	db	$13,$45,$8B,$FF
   751                        ;	0x00,0x00,0x20,0xFF,
   752 00:0028: 00 00 20 FF  	db	$0,$0,$20,$FF
   753                        ;	0x00,0x20,0x00,0xFF,
   754 00:002C: 00 20 00 FF  	db	$0,$20,$0,$FF
   755                        ;	0x20,0x00,0x00,0xFF,
   756 00:0030: 20 00 00 FF  	db	$20,$0,$0,$FF
   757                        ;	0x20,0x20,0x20,0xFF,
   758 00:0034: 20 20 20 FF  	db	$20,$20,$20,$FF
   759                        ;	0x40,0x40,0x40,0xFF,
   760 00:0038: 40 40 40 FF  	db	$40,$40,$40,$FF
   761                        ;	0xFF,0xFF,0xFF,0xFF,
   762 00:003C: FF FF FF FF  	db	$FF,$FF,$FF,$FF
   763                        ;
   764                        ;};
  Mon Dec  7 2020 11:19                                                Page 16


   765 00:0040:              	ends
   766                        ;
   767                        ;static CHAR FAR TEXT_BG_COLORS[] =
   768                        	data
   769                        ~~TEXT_BG_COLORS:
   770                        ;{
   771                        ;
   772                        ;	0x00,0x00,0x00,0xFF,
   773 00:0040: 00 00 00 FF  	db	$0,$0,$0,$FF
   774                        ;	0x00,0x00,0x80,0xFF,
   775 00:0044: 00 00 80 FF  	db	$0,$0,$80,$FF
   776                        ;	0x00,0x80,0x00,0xFF,
   777 00:0048: 00 80 00 FF  	db	$0,$80,$0,$FF
   778                        ;	0x80,0x00,0x00,0xFF,
   779 00:004C: 80 00 00 FF  	db	$80,$0,$0,$FF
   780                        ;	0x00,0x20,0x20,0xFF,
   781 00:0050: 00 20 20 FF  	db	$0,$20,$20,$FF
   782                        ;	0x20,0x20,0x00,0xFF,
   783 00:0054: 20 20 00 FF  	db	$20,$20,$0,$FF
   784                        ;	0x20,0x00,0x20,0xFF,
   785 00:0058: 20 00 20 FF  	db	$20,$0,$20,$FF
   786                        ;	0x20,0x20,0x20,0xFF,
   787 00:005C: 20 20 20 FF  	db	$20,$20,$20,$FF
   788                        ;	0x1E,0x69,0xD2,0xFF,
   789 00:0060: 1E 69 D2 FF  	db	$1E,$69,$D2,$FF
   790                        ;	0x13,0x45,0x8B,0xFF,
   791 00:0064: 13 45 8B FF  	db	$13,$45,$8B,$FF
   792                        ;	0x00,0x00,0x20,0xFF,
   793 00:0068: 00 00 20 FF  	db	$0,$0,$20,$FF
   794                        ;	0x00,0x20,0x00,0xFF,
   795 00:006C: 00 20 00 FF  	db	$0,$20,$0,$FF
   796                        ;	0x40,0x00,0x00,0xFF,
   797 00:0070: 40 00 00 FF  	db	$40,$0,$0,$FF
   798                        ;	0x10,0x10,0x10,0xFF,
   799 00:0074: 10 10 10 FF  	db	$10,$10,$10,$FF
   800                        ;	0x40,0x40,0x40,0xFF,
   801 00:0078: 40 40 40 FF  	db	$40,$40,$40,$FF
   802                        ;	0xFF,0xFF,0xFF,0xFF,
   803 00:007C: FF FF FF FF  	db	$FF,$FF,$FF,$FF
   804                        ;};
   805 00:0080:              	ends
   806                        ;
   807                        ;CHAR FAR MOUSE_POINTER_HELP[] =
   808                        	data
   809                        	xdef	~~MOUSE_POINTER_HELP
   810                        ~~MOUSE_POINTER_HELP:
   811                        ;{
   812                        ;	0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x0
                    1,0x01,0x01,0x00,0x00,0x00,0x00,
   813 00:0080: 00 00 00 01  	db	$0,$0,$0,$1,$1,$1,$1,$1,$1,$1
       00:0084: 01 01 01 01 
       00:0088: 01 01 
   814 00:008A: 01 01 00 00  	db	$1,$1,$0,$0,$0,$0
       00:008E: 00 00 
   815                        ;	0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0x01,0x00,0x00,0x00,
   816 00:0090: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0094: FF FF FF FF 
  Mon Dec  7 2020 11:19                                                Page 17


       00:0098: FF FF 
   817 00:009A: FF FF 01 00  	db	$FF,$FF,$1,$0,$0,$0
       00:009E: 00 00 
   818                        ;	0x00,0x01,0xFF,0xFF,0xFF,0x01,0x01,0x01,0x01,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
   819 00:00A0: 00 01 FF FF  	db	$0,$1,$FF,$FF,$FF,$1,$1,$1,$1,$1
       00:00A4: FF 01 01 01 
       00:00A8: 01 01 
   820 00:00AA: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00AE: 00 00 
   821                        ;	0x00,0x01,0xFF,0xFF,0x01,0x01,0x00,0x00,0x00,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
   822 00:00B0: 00 01 FF FF  	db	$0,$1,$FF,$FF,$1,$1,$0,$0,$0,$1
       00:00B4: 01 01 00 00 
       00:00B8: 00 01 
   823 00:00BA: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00BE: 00 00 
   824                        ;	0x00,0x01,0xFF,0xFF,0x01,0x00,0x00,0x00,0x00,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
   825 00:00C0: 00 01 FF FF  	db	$0,$1,$FF,$FF,$1,$0,$0,$0,$0,$1
       00:00C4: 01 00 00 00 
       00:00C8: 00 01 
   826 00:00CA: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00CE: 00 00 
   827                        ;	0x00,0x01,0xFF,0xFF,0x01,0x00,0x00,0x00,0x00,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
   828 00:00D0: 00 01 FF FF  	db	$0,$1,$FF,$FF,$1,$0,$0,$0,$0,$1
       00:00D4: 01 00 00 00 
       00:00D8: 00 01 
   829 00:00DA: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00DE: 00 00 
   830                        ;	0x00,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
   831 00:00E0: 00 01 01 01  	db	$0,$1,$1,$1,$1,$0,$0,$0,$0,$1
       00:00E4: 01 00 00 00 
       00:00E8: 00 01 
   832 00:00EA: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00EE: 00 00 
   833                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0xF
                    F,0xFF,0xFF,0x01,0x00,0x00,0x00,
   834 00:00F0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$1,$1,$FF
       00:00F4: 00 00 00 01 
       00:00F8: 01 FF 
   835 00:00FA: FF FF 01 00  	db	$FF,$FF,$1,$0,$0,$0
       00:00FE: 00 00 
   836                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xF
                    F,0xFF,0x01,0x00,0x00,0x00,0x00,
   837 00:0100: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$1,$FF,$FF
       00:0104: 00 00 00 01 
       00:0108: FF FF 
   838 00:010A: FF 01 00 00  	db	$FF,$1,$0,$0,$0,$0
       00:010E: 00 00 
   839                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0xFF,0xF
                    F,0xFF,0x00,0x00,0x00,0x00,0x00,
   840 00:0110: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$1,$1,$FF,$FF
       00:0114: 00 01 01 01 
       00:0118: FF FF 
   841 00:011A: FF 00 00 00  	db	$FF,$0,$0,$0,$0,$0
  Mon Dec  7 2020 11:19                                                Page 18


       00:011E: 00 00 
   842                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0x0
                    1,0x01,0x00,0x00,0x00,0x00,0x00,
   843 00:0120: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$FF,$FF,$1
       00:0124: 00 01 FF FF 
       00:0128: FF 01 
   844 00:012A: 01 00 00 00  	db	$1,$0,$0,$0,$0,$0
       00:012E: 00 00 
   845                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0x0
                    1,0x00,0x00,0x00,0x00,0x00,0x00,
   846 00:0130: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$FF,$FF,$1
       00:0134: 00 01 FF FF 
       00:0138: FF 01 
   847 00:013A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:013E: 00 00 
   848                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   849 00:0140: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$1,$1,$0
       00:0144: 00 00 01 01 
       00:0148: 01 00 
   850 00:014A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:014E: 00 00 
   851                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0x0
                    1,0x00,0x00,0x00,0x00,0x00,0x00,
   852 00:0150: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$FF,$FF,$1
       00:0154: 00 01 FF FF 
       00:0158: FF 01 
   853 00:015A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:015E: 00 00 
   854                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0x0
                    1,0x00,0x00,0x00,0x00,0x00,0x00,
   855 00:0160: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$FF,$FF,$1
       00:0164: 00 01 FF FF 
       00:0168: FF 01 
   856 00:016A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:016E: 00 00 
   857                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x0
                    1,0x00,0x00,0x00,0x00,0x00,0x00
   858 00:0170: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$1,$1,$1,$1
       00:0174: 00 01 01 01 
       00:0178: 01 01 
   859 00:017A: 00 00 00 00  	db	$0,$0,$0,$0,$0
       00:017E: 00 
   860                        ;};
   861 00:017F: 00           	db	$0
   862 00:0180:              	ends
   863                        ;
   864                        ;CHAR FAR MOUSE_POINTER_HOURGLASS[] =
   865                        	data
   866                        	xdef	~~MOUSE_POINTER_HOURGLASS
   867                        ~~MOUSE_POINTER_HOURGLASS:
   868                        ;{
   869                        ;		0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,
                    0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,
   870 00:0180: 00 00 01 01  	db	$0,$0,$1,$1,$1,$1,$1,$1,$1,$1
       00:0184: 01 01 01 01 
       00:0188: 01 01 
   871 00:018A: 01 01 01 01  	db	$1,$1,$1,$1,$0,$0
  Mon Dec  7 2020 11:19                                                Page 19


       00:018E: 00 00 
   872                        ;		0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,
                    0xFF,0xFF,0xFF,0xFF,0xFF,0x01,0x00,0x00,
   873 00:0190: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0194: FF FF FF FF 
       00:0198: FF FF 
   874 00:019A: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:019E: 00 00 
   875                        ;		0x00,0x00,0x01,0x01,0xFF,0x55,0x55,0x55,
                    0x55,0x55,0x55,0xFF,0x01,0x00,0x00,0x00,
   876 00:01A0: 00 00 01 01  	db	$0,$0,$1,$1,$FF,$55,$55,$55,$55,$55
       00:01A4: FF 55 55 55 
       00:01A8: 55 55 
   877 00:01AA: 55 FF 01 00  	db	$55,$FF,$1,$0,$0,$0
       00:01AE: 00 00 
   878                        ;		0x00,0x00,0x00,0x01,0xFF,0xFF,0x55,0x55,
                    0x55,0x55,0xFF,0xFF,0x01,0x00,0x00,0x00,
   879 00:01B0: 00 00 00 01  	db	$0,$0,$0,$1,$FF,$FF,$55,$55,$55,$55
       00:01B4: FF FF 55 55 
       00:01B8: 55 55 
   880 00:01BA: FF FF 01 00  	db	$FF,$FF,$1,$0,$0,$0
       00:01BE: 00 00 
   881                        ;		0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0x55,
                    0x55,0xFF,0xFF,0x01,0x00,0x00,0x00,0x00,
   882 00:01C0: 00 00 00 00  	db	$0,$0,$0,$0,$1,$FF,$FF,$55,$55,$FF
       00:01C4: 01 FF FF 55 
       00:01C8: 55 FF 
   883 00:01CA: FF 01 00 00  	db	$FF,$1,$0,$0,$0,$0
       00:01CE: 00 00 
   884                        ;		0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0x55,
                    0x55,0xFF,0x01,0x00,0x00,0x00,0x00,0x00,
   885 00:01D0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$55,$55,$FF
       00:01D4: 00 01 FF 55 
       00:01D8: 55 FF 
   886 00:01DA: 01 00 00 00  	db	$1,$0,$0,$0,$0,$0
       00:01DE: 00 00 
   887                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,
                    0x55,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
   888 00:01E0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$FF,$55,$1
       00:01E4: 00 00 01 FF 
       00:01E8: 55 01 
   889 00:01EA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:01EE: 00 00 
   890                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x55,
                    0xFF,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
   891 00:01F0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$55,$FF,$1
       00:01F4: 00 00 01 55 
       00:01F8: FF 01 
   892 00:01FA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:01FE: 00 00 
   893                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,
                    0x55,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
   894 00:0200: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$FF,$55,$1
       00:0204: 00 00 01 FF 
       00:0208: 55 01 
   895 00:020A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:020E: 00 00 
   896                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x55,
  Mon Dec  7 2020 11:19                                                Page 20


                    0xFF,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
   897 00:0210: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$55,$FF,$1
       00:0214: 00 00 01 55 
       00:0218: FF 01 
   898 00:021A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:021E: 00 00 
   899                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,
                    0x55,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
   900 00:0220: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$FF,$55,$1
       00:0224: 00 00 01 FF 
       00:0228: 55 01 
   901 00:022A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:022E: 00 00 
   902                        ;		0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0x55,
                    0xFF,0xFF,0x01,0x00,0x00,0x00,0x00,0x00,
   903 00:0230: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$55,$FF,$FF
       00:0234: 00 01 FF 55 
       00:0238: FF FF 
   904 00:023A: 01 00 00 00  	db	$1,$0,$0,$0,$0,$0
       00:023E: 00 00 
   905                        ;		0x00,0x00,0x00,0x00,0x01,0xFF,0x55,0x55,
                    0x55,0x55,0xFF,0x01,0x00,0x00,0x00,0x00,
   906 00:0240: 00 00 00 00  	db	$0,$0,$0,$0,$1,$FF,$55,$55,$55,$55
       00:0244: 01 FF 55 55 
       00:0248: 55 55 
   907 00:024A: FF 01 00 00  	db	$FF,$1,$0,$0,$0,$0
       00:024E: 00 00 
   908                        ;		0x00,0x00,0x01,0x01,0xFF,0x55,0x55,0x55,
                    0x55,0x55,0x55,0xFF,0x01,0x00,0x00,0x00,
   909 00:0250: 00 00 01 01  	db	$0,$0,$1,$1,$FF,$55,$55,$55,$55,$55
       00:0254: FF 55 55 55 
       00:0258: 55 55 
   910 00:025A: 55 FF 01 00  	db	$55,$FF,$1,$0,$0,$0
       00:025E: 00 00 
   911                        ;		0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,
                    0xFF,0xFF,0xFF,0xFF,0xFF,0x01,0x00,0x00,
   912 00:0260: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0264: FF FF FF FF 
       00:0268: FF FF 
   913 00:026A: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:026E: 00 00 
   914                        ;		0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,
                    0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00
   915 00:0270: 00 00 01 01  	db	$0,$0,$1,$1,$1,$1,$1,$1,$1,$1
       00:0274: 01 01 01 01 
       00:0278: 01 01 
   916 00:027A: 01 01 01 01  	db	$1,$1,$1,$1,$0
       00:027E: 00 
   917                        ;};
   918 00:027F: 00           	db	$0
   919 00:0280:              	ends
   920                        ;
   921                        ;CHAR FAR MOUSE_POINTER_ARROW[] =
   922                        	data
   923                        	xdef	~~MOUSE_POINTER_ARROW
   924                        ~~MOUSE_POINTER_ARROW:
   925                        ;{
   926                        ;	0xFF,0x55,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
  Mon Dec  7 2020 11:19                                                Page 21


                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   927 00:0280: FF 55 00 00  	db	$FF,$55,$0,$0,$0,$0,$0,$0,$0,$0
       00:0284: 00 00 00 00 
       00:0288: 00 00 
   928 00:028A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:028E: 00 00 
   929                        ;	0x01,0xFF,0x55,0x55,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   930 00:0290: 01 FF 55 55  	db	$1,$FF,$55,$55,$0,$0,$0,$0,$0,$0
       00:0294: 00 00 00 00 
       00:0298: 00 00 
   931 00:029A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:029E: 00 00 
   932                        ;	0x00,0x01,0xFF,0xFF,0x55,0x55,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   933 00:02A0: 00 01 FF FF  	db	$0,$1,$FF,$FF,$55,$55,$0,$0,$0,$0
       00:02A4: 55 55 00 00 
       00:02A8: 00 00 
   934 00:02AA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02AE: 00 00 
   935                        ;	0x00,0x01,0xFF,0xFF,0xFF,0xFF,0x55,0x55,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   936 00:02B0: 00 01 FF FF  	db	$0,$1,$FF,$FF,$FF,$FF,$55,$55,$0,$0
       00:02B4: FF FF 55 55 
       00:02B8: 00 00 
   937 00:02BA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02BE: 00 00 
   938                        ;	0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,0x55,0x5
                    5,0x00,0x00,0x00,0x00,0x00,0x00,
   939 00:02C0: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$55,$55
       00:02C4: FF FF FF FF 
       00:02C8: 55 55 
   940 00:02CA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02CE: 00 00 
   941                        ;	0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0x00,0x00,0x00,0x00,0x00,0x00,
   942 00:02D0: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:02D4: FF FF FF FF 
       00:02D8: FF FF 
   943 00:02DA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02DE: 00 00 
   944                        ;	0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   945 00:02E0: 00 00 00 01  	db	$0,$0,$0,$1,$FF,$FF,$FF,$FF,$0,$0
       00:02E4: FF FF FF FF 
       00:02E8: 00 00 
   946 00:02EA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02EE: 00 00 
   947                        ;	0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0x55,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   948 00:02F0: 00 00 00 01  	db	$0,$0,$0,$1,$FF,$FF,$FF,$FF,$55,$0
       00:02F4: FF FF FF FF 
       00:02F8: 55 00 
   949 00:02FA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02FE: 00 00 
   950                        ;	0x00,0x00,0x00,0x00,0x01,0xFF,0x00,0x01,0xFF,0x5
                    5,0x00,0x00,0x00,0x00,0x00,0x00,
   951 00:0300: 00 00 00 00  	db	$0,$0,$0,$0,$1,$FF,$0,$1,$FF,$55
  Mon Dec  7 2020 11:19                                                Page 22


       00:0304: 01 FF 00 01 
       00:0308: FF 55 
   952 00:030A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:030E: 00 00 
   953                        ;	0x00,0x00,0x00,0x00,0x01,0xFF,0x00,0x00,0x01,0xF
                    F,0x55,0x00,0x00,0x00,0x00,0x00,
   954 00:0310: 00 00 00 00  	db	$0,$0,$0,$0,$1,$FF,$0,$0,$1,$FF
       00:0314: 01 FF 00 00 
       00:0318: 01 FF 
   955 00:031A: 55 00 00 00  	db	$55,$0,$0,$0,$0,$0
       00:031E: 00 00 
   956                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    1,0xFF,0x55,0x00,0x00,0x00,0x00,
   957 00:0320: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$1
       00:0324: 00 00 00 00 
       00:0328: 00 01 
   958 00:032A: FF 55 00 00  	db	$FF,$55,$0,$0,$0,$0
       00:032E: 00 00 
   959                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x01,0xFF,0x00,0x00,0x00,0x00,
   960 00:0330: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0334: 00 00 00 00 
       00:0338: 00 00 
   961 00:033A: 01 FF 00 00  	db	$1,$FF,$0,$0,$0,$0
       00:033E: 00 00 
   962                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   963 00:0340: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0344: 00 00 00 00 
       00:0348: 00 00 
   964 00:034A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:034E: 00 00 
   965                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   966 00:0350: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0354: 00 00 00 00 
       00:0358: 00 00 
   967 00:035A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:035E: 00 00 
   968                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
   969 00:0360: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0364: 00 00 00 00 
       00:0368: 00 00 
   970 00:036A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:036E: 00 00 
   971                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00
   972 00:0370: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0374: 00 00 00 00 
       00:0378: 00 00 
   973 00:037A: 00 00 00 00  	db	$0,$0,$0,$0,$0
       00:037E: 00 
   974                        ;};
   975 00:037F: 00           	db	$0
   976 00:0380:              	ends
   977                        ;
   978                        ;CHAR FAR MOUSE_POINTER_BLOCK[] =
  Mon Dec  7 2020 11:19                                                Page 23


   979                        	data
   980                        	xdef	~~MOUSE_POINTER_BLOCK
   981                        ~~MOUSE_POINTER_BLOCK:
   982                        ;{
   983                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
   984 00:0380: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0384: FF FF FF FF 
       00:0388: FF FF 
   985 00:038A: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:038E: FF FF 
   986                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
   987 00:0390: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0394: FF FF FF FF 
       00:0398: FF FF 
   988 00:039A: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:039E: FF FF 
   989                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
   990 00:03A0: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:03A4: FF FF FF FF 
       00:03A8: FF FF 
   991 00:03AA: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:03AE: FF FF 
   992                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
   993 00:03B0: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:03B4: FF FF FF FF 
       00:03B8: FF FF 
   994 00:03BA: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:03BE: FF FF 
   995                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
   996 00:03C0: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:03C4: FF FF FF FF 
       00:03C8: FF FF 
   997 00:03CA: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:03CE: FF FF 
   998                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
   999 00:03D0: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:03D4: FF FF FF FF 
       00:03D8: FF FF 
  1000 00:03DA: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:03DE: FF FF 
  1001                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  1002 00:03E0: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:03E4: FF FF FF FF 
       00:03E8: FF FF 
  1003 00:03EA: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:03EE: FF FF 
  1004                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  1005 00:03F0: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:03F4: FF FF FF FF 
       00:03F8: FF FF 
  Mon Dec  7 2020 11:19                                                Page 24


  1006 00:03FA: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:03FE: FF FF 
  1007                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  1008 00:0400: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0404: FF FF FF FF 
       00:0408: FF FF 
  1009 00:040A: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:040E: FF FF 
  1010                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  1011 00:0410: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0414: FF FF FF FF 
       00:0418: FF FF 
  1012 00:041A: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:041E: FF FF 
  1013                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  1014 00:0420: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0424: FF FF FF FF 
       00:0428: FF FF 
  1015 00:042A: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:042E: FF FF 
  1016                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  1017 00:0430: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0434: FF FF FF FF 
       00:0438: FF FF 
  1018 00:043A: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:043E: FF FF 
  1019                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  1020 00:0440: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0444: FF FF FF FF 
       00:0448: FF FF 
  1021 00:044A: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:044E: FF FF 
  1022                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  1023 00:0450: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0454: FF FF FF FF 
       00:0458: FF FF 
  1024 00:045A: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:045E: FF FF 
  1025                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
  1026 00:0460: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0464: FF FF FF FF 
       00:0468: FF FF 
  1027 00:046A: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF
       00:046E: FF FF 
  1028                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF
  1029 00:0470: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0474: FF FF FF FF 
       00:0478: FF FF 
  1030 00:047A: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF
       00:047E: FF 
  Mon Dec  7 2020 11:19                                                Page 25


  1031                        ;};
  1032 00:047F: FF           	db	$FF
  1033 00:0480:              	ends
  1034                        ;
  1035                        ;CHAR FAR MOUSE_POINTER_RESIZE[] =
  1036                        	data
  1037                        	xdef	~~MOUSE_POINTER_RESIZE
  1038                        ~~MOUSE_POINTER_RESIZE:
  1039                        ;{
  1040                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1041 00:0480: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0484: 00 00 00 00 
       00:0488: 00 00 
  1042 00:048A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:048E: 00 00 
  1043                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1044 00:0490: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0494: 00 00 00 00 
       00:0498: 00 00 
  1045 00:049A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:049E: 00 00 
  1046                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1047 00:04A0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:04A4: 00 00 00 00 
       00:04A8: 00 00 
  1048 00:04AA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04AE: 00 00 
  1049                        ;	0x00,0x00,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1050 00:04B0: 00 00 FF FF  	db	$0,$0,$FF,$FF,$FF,$FF,$FF,$FF,$FF,$0
       00:04B4: FF FF FF FF 
       00:04B8: FF 00 
  1051 00:04BA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04BE: 00 00 
  1052                        ;	0x00,0x00,0xFF,0xFF,0x01,0x01,0x01,0x01,0x01,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1053 00:04C0: 00 00 FF FF  	db	$0,$0,$FF,$FF,$1,$1,$1,$1,$1,$0
       00:04C4: 01 01 01 01 
       00:04C8: 01 00 
  1054 00:04CA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04CE: 00 00 
  1055                        ;	0x00,0x00,0xFF,0x01,0xFF,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1056 00:04D0: 00 00 FF 01  	db	$0,$0,$FF,$1,$FF,$0,$0,$0,$0,$0
       00:04D4: FF 00 00 00 
       00:04D8: 00 00 
  1057 00:04DA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04DE: 00 00 
  1058                        ;	0x00,0x00,0xFF,0x01,0x00,0xFF,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1059 00:04E0: 00 00 FF 01  	db	$0,$0,$FF,$1,$0,$FF,$0,$0,$0,$0
       00:04E4: 00 FF 00 00 
       00:04E8: 00 00 
  1060 00:04EA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04EE: 00 00 
  Mon Dec  7 2020 11:19                                                Page 26


  1061                        ;	0x00,0x00,0xFF,0x01,0x00,0x00,0xFF,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1062 00:04F0: 00 00 FF 01  	db	$0,$0,$FF,$1,$0,$0,$FF,$0,$0,$0
       00:04F4: 00 00 FF 00 
       00:04F8: 00 00 
  1063 00:04FA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04FE: 00 00 
  1064                        ;	0x00,0x00,0xFF,0x01,0x00,0x00,0x00,0xFF,0x00,0x0
                    0,0x00,0x00,0x00,0xFF,0x01,0x00,
  1065 00:0500: 00 00 FF 01  	db	$0,$0,$FF,$1,$0,$0,$0,$FF,$0,$0
       00:0504: 00 00 00 FF 
       00:0508: 00 00 
  1066 00:050A: 00 00 00 FF  	db	$0,$0,$0,$FF,$1,$0
       00:050E: 01 00 
  1067                        ;	0x00,0x00,0xFF,0x01,0x00,0x00,0x00,0x00,0xFF,0x0
                    0,0x00,0x00,0x00,0xFF,0x01,0x00,
  1068 00:0510: 00 00 FF 01  	db	$0,$0,$FF,$1,$0,$0,$0,$0,$FF,$0
       00:0514: 00 00 00 00 
       00:0518: FF 00 
  1069 00:051A: 00 00 00 FF  	db	$0,$0,$0,$FF,$1,$0
       00:051E: 01 00 
  1070                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF
                    F,0x00,0x00,0x00,0xFF,0x01,0x00,
  1071 00:0520: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$FF
       00:0524: 00 00 00 00 
       00:0528: 00 FF 
  1072 00:052A: 00 00 00 FF  	db	$0,$0,$0,$FF,$1,$0
       00:052E: 01 00 
  1073                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0xFF,0x00,0x00,0xFF,0x01,0x00,
  1074 00:0530: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0534: 00 00 00 00 
       00:0538: 00 00 
  1075 00:053A: FF 00 00 FF  	db	$FF,$0,$0,$FF,$1,$0
       00:053E: 01 00 
  1076                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0xFF,0x00,0xFF,0x01,0x00,
  1077 00:0540: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0544: 00 00 00 00 
       00:0548: 00 00 
  1078 00:054A: 00 FF 00 FF  	db	$0,$FF,$0,$FF,$1,$0
       00:054E: 01 00 
  1079                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0xFF,0xFF,0x01,0x00,
  1080 00:0550: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0554: 00 00 00 00 
       00:0558: 00 00 
  1081 00:055A: 00 00 FF FF  	db	$0,$0,$FF,$FF,$1,$0
       00:055E: 01 00 
  1082                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0x01,0x00,
  1083 00:0560: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$FF,$FF,$FF
       00:0564: 00 00 00 FF 
       00:0568: FF FF 
  1084 00:056A: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$1,$0
       00:056E: 01 00 
  1085                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x0
                    1,0x01,0x01,0x01,0x01,0x01,0x00,
  Mon Dec  7 2020 11:19                                                Page 27


  1086 00:0570: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$1,$1,$1
       00:0574: 00 00 00 01 
       00:0578: 01 01 
  1087 00:057A: 01 01 01 01  	db	$1,$1,$1,$1,$1,$0
       00:057E: 01 00 
  1088                        ;};
  1089 00:0580:              	ends
  1090                        ;
  1091                        ;CHAR FAR MOUSE_POINTER_EMPTY[] =
  1092                        	data
  1093                        	xdef	~~MOUSE_POINTER_EMPTY
  1094                        ~~MOUSE_POINTER_EMPTY:
  1095                        ;{
  1096                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1097 00:0580: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0584: 00 00 00 00 
       00:0588: 00 00 
  1098 00:058A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:058E: 00 00 
  1099                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1100 00:0590: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0594: 00 00 00 00 
       00:0598: 00 00 
  1101 00:059A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:059E: 00 00 
  1102                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1103 00:05A0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:05A4: 00 00 00 00 
       00:05A8: 00 00 
  1104 00:05AA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:05AE: 00 00 
  1105                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1106 00:05B0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:05B4: 00 00 00 00 
       00:05B8: 00 00 
  1107 00:05BA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:05BE: 00 00 
  1108                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1109 00:05C0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:05C4: 00 00 00 00 
       00:05C8: 00 00 
  1110 00:05CA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:05CE: 00 00 
  1111                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1112 00:05D0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:05D4: 00 00 00 00 
       00:05D8: 00 00 
  1113 00:05DA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:05DE: 00 00 
  1114                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1115 00:05E0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
  Mon Dec  7 2020 11:19                                                Page 28


       00:05E4: 00 00 00 00 
       00:05E8: 00 00 
  1116 00:05EA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:05EE: 00 00 
  1117                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1118 00:05F0: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:05F4: 00 00 00 00 
       00:05F8: 00 00 
  1119 00:05FA: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:05FE: 00 00 
  1120                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1121 00:0600: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0604: 00 00 00 00 
       00:0608: 00 00 
  1122 00:060A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:060E: 00 00 
  1123                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1124 00:0610: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0614: 00 00 00 00 
       00:0618: 00 00 
  1125 00:061A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:061E: 00 00 
  1126                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1127 00:0620: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0624: 00 00 00 00 
       00:0628: 00 00 
  1128 00:062A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:062E: 00 00 
  1129                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1130 00:0630: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0634: 00 00 00 00 
       00:0638: 00 00 
  1131 00:063A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:063E: 00 00 
  1132                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1133 00:0640: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0644: 00 00 00 00 
       00:0648: 00 00 
  1134 00:064A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:064E: 00 00 
  1135                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1136 00:0650: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0654: 00 00 00 00 
       00:0658: 00 00 
  1137 00:065A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:065E: 00 00 
  1138                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1139 00:0660: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0664: 00 00 00 00 
       00:0668: 00 00 
  Mon Dec  7 2020 11:19                                                Page 29


  1140 00:066A: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:066E: 00 00 
  1141                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00
  1142 00:0670: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0674: 00 00 00 00 
       00:0678: 00 00 
  1143 00:067A: 00 00 00 00  	db	$0,$0,$0,$0,$0
       00:067E: 00 
  1144                        ;};
  1145 00:067F: 00           	db	$0
  1146 00:0680:              	ends
  1147                        ;
  1148                        ;static CHAR BG_FILL_LINE_ODD[] =
  1149                        	data
  1150                        ~~BG_FILL_LINE_ODD:
  1151                        ;{
  1152                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1153 00:0680: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:0684: AA AA AA AA 
  1154                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1155 00:0688: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:068C: AA AA AA AA 
  1156                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1157 00:0690: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:0694: AA AA AA AA 
  1158                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1159 00:0698: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:069C: AA AA AA AA 
  1160                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1161 00:06A0: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:06A4: AA AA AA AA 
  1162                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1163 00:06A8: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:06AC: AA AA AA AA 
  1164                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1165 00:06B0: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:06B4: AA AA AA AA 
  1166                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1167 00:06B8: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:06BC: AA AA AA AA 
  1168                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  1169 00:06C0: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:06C4: AA AA AA AA 
  1170                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA
  1171 00:06C8: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:06CC: AA AA AA 
  1172                        ;};
  1173 00:06CF: AA           	db	$AA
  1174 00:06D0:              	ends
  1175                        ;
  1176                        ;static CHAR BG_FILL_LINE_EVEN[] =
  1177                        	data
  1178                        ~~BG_FILL_LINE_EVEN:
  1179                        ;{
  1180                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1181 00:06D0: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:06D4: 55 55 55 55 
  Mon Dec  7 2020 11:19                                                Page 30


  1182                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1183 00:06D8: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:06DC: 55 55 55 55 
  1184                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1185 00:06E0: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:06E4: 55 55 55 55 
  1186                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1187 00:06E8: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:06EC: 55 55 55 55 
  1188                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1189 00:06F0: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:06F4: 55 55 55 55 
  1190                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1191 00:06F8: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:06FC: 55 55 55 55 
  1192                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1193 00:0700: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:0704: 55 55 55 55 
  1194                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1195 00:0708: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:070C: 55 55 55 55 
  1196                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  1197 00:0710: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:0714: 55 55 55 55 
  1198                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55
  1199 00:0718: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55
       00:071C: 55 55 55 
  1200                        ;};
  1201 00:071F: 55           	db	$55
  1202 00:0720:              	ends
  1203                        ;
  1204                        ;
  1205                        ;static CUR_PALETTE_MAP _k_currentPalatte;
  1206                        ;
  1207                        ;char FAR buffer[32];
  1208                        ;char FAR strbuf[32];
  1209                        ;//char FAR spinner[] = {'\\','|','/','+'};
  1210                        ;
  1211                        ;char FAR *version_title;
  1212                        ;
  1213                        ;//int g_key_index = 0;
  1214                        ;
  1215                        ;//typedef void (*C256Task)(HANDLE console,void FA
                    R* arg);
  1216                        ;
  1217                        ;//C256Task tasks[2];
  1218                        ;//HANDLE consoles[2];
  1219                        ;
  1220                        ;//#define GRPH_LUT0_PTR	((char FAR*)0xAF2000)
  1221                        ;
  1222                        ;
  1223                        ;
  1224                        ;#define GRP_LUT_BASE_ADDR GRPH_LUT0_PTR
  1225                        ;
  1226                        ;
  1227                        ;int 	FAR _k_window_index = 0;
  1228                        	data
  1229                        	xdef	~~_k_window_index
  Mon Dec  7 2020 11:19                                                Page 31


  1230                        ~~_k_window_index:
  1231 00:0720: 00 00        	dw	$0
  1232 00:0722:              	ends
  1233                        ;WINDOW 	FAR _k_window_list[10];
  1234                        ;
  1235                        ;
  1236                        ;CLICKABLE FAR clickList[CHKLIST_MAX];
  1237                        ;PCLICKABLE FAR hitList[CHKLIST_MAX];
  1238                        ;
  1239                        ;
  1240                        ;static PFXNODE _k_WindowObject_nodes = NULL;
  1241                        	data
  1242                        ~~_k_WindowObject_nodes:
  1243 00:0722: 00 00 00 00  	dl	$0
  1244 00:0726:              	ends
  1245                        ;static PFXNODE _k_WindowHit_nodes 	 = NULL;
  1246                        	data
  1247                        ~~_k_WindowHit_nodes:
  1248 00:0726: 00 00 00 00  	dl	$0
  1249 00:072A:              	ends
  1250                        ;
  1251                        ;
  1252                        ;int cop_index = 0;
  1253                        	data
  1254                        	xdef	~~cop_index
  1255                        ~~cop_index:
  1256 00:072A: 00 00        	dw	$0
  1257 00:072C:              	ends
  1258                        ;
  1259                        ;#pragma section CODE=GUI,offset $3:0000
  1260                        GUI	section	offset $3:0000
  1261 03:0000:              	ends
  1262                        ;
  1263                        ;
  1264                        ;void k_set_rect(PRECT prect,int x,int y, int widt
                    h,int height)
  1265                        ;{
  1266                        	.line	262
  1267                        	.line	263
  1268                        	GUI
  1269                        	xdef	~~k_set_rect
  1270                        	func
  1271                        	.function	263
  1272                        ~~k_set_rect:
  1273                        	longa	on
  1274                        	longi	on
  1275 03:0000: 3B           	tsc
  1276 03:0001: 38           	sec
  1277 03:0002: E9 00 00     	sbc	#L2
  1278 03:0005: 1B           	tcs
  1279 03:0006: 0B           	phd
  1280 03:0007: 5B           	tcd
  1281             00000004   prect_0	set	4
  1282             00000008   x_0	set	8
  1283             0000000A   y_0	set	10
  1284             0000000C   width_0	set	12
  1285             0000000E   height_0	set	14
  1286                        	.block	263
  Mon Dec  7 2020 11:19                                                Page 32


  1287                        ;	if(prect)
  1288                        	.sym	prect,4,138,6,32,25
  1289                        	.sym	x,8,5,6,16
  1290                        	.sym	y,10,5,6,16
  1291                        	.sym	width,12,5,6,16
  1292                        	.sym	height,14,5,6,16
  1293                        	.line	264
  1294                        ;	{
  1295 03:0008: A5 04        	lda	<L2+prect_0
  1296 03:000A: 05 06        	ora	<L2+prect_0+2
  1297 03:000C: D0 03        	bne	L5
  1298 03:000E: 82 19 00     	brl	L10001
  1299                        L5:
  1300                        	.line	265
  1301                        ;		prect->x = x;
  1302                        	.line	266
  1303 03:0011: A5 08        	lda	<L2+x_0
  1304 03:0013: 87 04        	sta	[<L2+prect_0]
  1305                        ;		prect->y = y;
  1306                        	.line	267
  1307 03:0015: A5 0A        	lda	<L2+y_0
  1308 03:0017: A0 02 00     	ldy	#$2
  1309 03:001A: 97 04        	sta	[<L2+prect_0],Y
  1310                        ;		prect->width = width;
  1311                        	.line	268
  1312 03:001C: A5 0C        	lda	<L2+width_0
  1313 03:001E: A0 04 00     	ldy	#$4
  1314 03:0021: 97 04        	sta	[<L2+prect_0],Y
  1315                        ;		prect->height = height;
  1316                        	.line	269
  1317 03:0023: A5 0E        	lda	<L2+height_0
  1318 03:0025: A0 06 00     	ldy	#$6
  1319 03:0028: 97 04        	sta	[<L2+prect_0],Y
  1320                        ;	}
  1321                        	.line	270
  1322                        ;}
  1323                        L10001:
  1324                        	.line	271
  1325                        L6:
  1326 03:002A: A5 02        	lda	<L2+2
  1327 03:002C: 85 0E        	sta	<L2+2+12
  1328 03:002E: A5 01        	lda	<L2+1
  1329 03:0030: 85 0D        	sta	<L2+1+12
  1330 03:0032: 2B           	pld
  1331 03:0033: 3B           	tsc
  1332 03:0034: 18           	clc
  1333 03:0035: 69 0C 00     	adc	#L2+12
  1334 03:0038: 1B           	tcs
  1335 03:0039: 6B           	rtl
  1336                        	.endblock	271
  1337             00000000   L2	equ	0
  1338             00000001   L3	equ	1
  1339 03:003A:              	ends
  1340                        	efunc
  1341                        	.endfunc	271,1,0
  1342                        	.line	271
  1343                        ;
  1344                        ;BOOL k_is_inside_rect(PRECT prect,int dx,int dy)
  Mon Dec  7 2020 11:19                                                Page 33


  1345                        ;{
  1346                        	.line	273
  1347                        	.line	274
  1348                        	GUI
  1349                        	xdef	~~k_is_inside_rect
  1350                        	func
  1351                        	.function	274
  1352                        ~~k_is_inside_rect:
  1353                        	longa	on
  1354                        	longi	on
  1355 03:003A: 3B           	tsc
  1356 03:003B: 38           	sec
  1357 03:003C: E9 05 00     	sbc	#L7
  1358 03:003F: 1B           	tcs
  1359 03:0040: 0B           	phd
  1360 03:0041: 5B           	tcd
  1361             00000004   prect_0	set	4
  1362             00000008   dx_0	set	8
  1363             0000000A   dy_0	set	10
  1364                        	.block	274
  1365                        ;	BOOL bRet = FALSE;
  1366                        ;
  1367                        ;	if((dx > prect->x) && (dx < (prect->x + prect->w
                    idth)))
  1368             00000000   bRet_1	set	0
  1369                        	.sym	bRet,0,14,1,8
  1370                        	.sym	prect,4,138,6,32,25
  1371                        	.sym	dx,8,5,6,16
  1372                        	.sym	dy,10,5,6,16
  1373 03:0042: E2 20        	sep	#$20
  1374                        	longa	off
  1375 03:0044: 64 05        	stz	<L8+bRet_1
  1376 03:0046: C2 20        	rep	#$20
  1377                        	longa	on
  1378                        	.line	277
  1379                        ;	{
  1380 03:0048: 38           	sec
  1381 03:0049: A7 09        	lda	[<L7+prect_0]
  1382 03:004B: E5 0D        	sbc	<L7+dx_0
  1383 03:004D: 70 03        	bvs	L10
  1384 03:004F: 49 00 80     	eor	#$8000
  1385                        L10:
  1386 03:0052: 10 03        	bpl	L11
  1387 03:0054: 82 4F 00     	brl	L10002
  1388                        L11:
  1389 03:0057: 18           	clc
  1390 03:0058: A7 09        	lda	[<L7+prect_0]
  1391 03:005A: A0 04 00     	ldy	#$4
  1392 03:005D: 77 09        	adc	[<L7+prect_0],Y
  1393 03:005F: 85 01        	sta	<R0
  1394 03:0061: 38           	sec
  1395 03:0062: A5 0D        	lda	<L7+dx_0
  1396 03:0064: E5 01        	sbc	<R0
  1397 03:0066: 70 03        	bvs	L12
  1398 03:0068: 49 00 80     	eor	#$8000
  1399                        L12:
  1400 03:006B: 10 03        	bpl	L13
  1401 03:006D: 82 36 00     	brl	L10002
  Mon Dec  7 2020 11:19                                                Page 34


  1402                        L13:
  1403                        	.line	278
  1404                        ;		if((dy > prect->y) && (dy < (prect->y + 
                    prect->height)))
  1405                        	.line	279
  1406                        ;		{
  1407 03:0070: 38           	sec
  1408 03:0071: A0 02 00     	ldy	#$2
  1409 03:0074: B7 09        	lda	[<L7+prect_0],Y
  1410 03:0076: E5 0F        	sbc	<L7+dy_0
  1411 03:0078: 70 03        	bvs	L14
  1412 03:007A: 49 00 80     	eor	#$8000
  1413                        L14:
  1414 03:007D: 10 03        	bpl	L15
  1415 03:007F: 82 24 00     	brl	L10003
  1416                        L15:
  1417 03:0082: 18           	clc
  1418 03:0083: A0 02 00     	ldy	#$2
  1419 03:0086: B7 09        	lda	[<L7+prect_0],Y
  1420 03:0088: A0 06 00     	ldy	#$6
  1421 03:008B: 77 09        	adc	[<L7+prect_0],Y
  1422 03:008D: 85 01        	sta	<R0
  1423 03:008F: 38           	sec
  1424 03:0090: A5 0F        	lda	<L7+dy_0
  1425 03:0092: E5 01        	sbc	<R0
  1426 03:0094: 70 03        	bvs	L16
  1427 03:0096: 49 00 80     	eor	#$8000
  1428                        L16:
  1429 03:0099: 10 03        	bpl	L17
  1430 03:009B: 82 08 00     	brl	L10003
  1431                        L17:
  1432                        	.line	280
  1433                        ;			bRet = TRUE;
  1434                        	.line	281
  1435 03:009E: E2 20        	sep	#$20
  1436                        	longa	off
  1437 03:00A0: A9 01        	lda	#$1
  1438 03:00A2: 85 05        	sta	<L8+bRet_1
  1439 03:00A4: C2 20        	rep	#$20
  1440                        	longa	on
  1441                        ;		}
  1442                        	.line	282
  1443                        ;	}
  1444                        L10003:
  1445                        	.line	283
  1446                        ;
  1447                        ;	return bRet;
  1448                        L10002:
  1449                        	.line	285
  1450 03:00A6: A5 05        	lda	<L8+bRet_1
  1451 03:00A8: 29 FF 00     	and	#$ff
  1452                        L18:
  1453 03:00AB: A8           	tay
  1454 03:00AC: A5 07        	lda	<L7+2
  1455 03:00AE: 85 0F        	sta	<L7+2+8
  1456 03:00B0: A5 06        	lda	<L7+1
  1457 03:00B2: 85 0E        	sta	<L7+1+8
  1458 03:00B4: 2B           	pld
  Mon Dec  7 2020 11:19                                                Page 35


  1459 03:00B5: 3B           	tsc
  1460 03:00B6: 18           	clc
  1461 03:00B7: 69 0D 00     	adc	#L7+8
  1462 03:00BA: 1B           	tcs
  1463 03:00BB: 98           	tya
  1464 03:00BC: 6B           	rtl
  1465                        ;}
  1466                        	.line	286
  1467                        	.endblock	286
  1468             00000005   L7	equ	5
  1469             00000005   L8	equ	5
  1470 03:00BD:              	ends
  1471                        	efunc
  1472                        	.endfunc	286,5,5
  1473                        	.line	286
  1474                        ;
  1475                        ;LONG k_gui_get_pixel_offset(int x,int y)
  1476                        ;{
  1477                        	.line	288
  1478                        	.line	289
  1479                        	GUI
  1480                        	xdef	~~k_gui_get_pixel_offset
  1481                        	func
  1482                        	.function	289
  1483                        ~~k_gui_get_pixel_offset:
  1484                        	longa	on
  1485                        	longi	on
  1486 03:00BD: 3B           	tsc
  1487 03:00BE: 38           	sec
  1488 03:00BF: E9 04 00     	sbc	#L19
  1489 03:00C2: 1B           	tcs
  1490 03:00C3: 0B           	phd
  1491 03:00C4: 5B           	tcd
  1492             00000004   x_0	set	4
  1493             00000006   y_0	set	6
  1494                        	.block	289
  1495                        ;	//return (LPVOID)(( ((long)y) * (640L)) + ((long
                    )x) );
  1496                        ;	return k_gui_get_pixel_offset_width(x,y,640);
  1497                        	.sym	x,4,5,6,16
  1498                        	.sym	y,6,5,6,16
  1499                        	.line	291
  1500 03:00C5: F4 80 02     	pea	#<$280
  1501 03:00C8: D4 0A        	pei	<L19+y_0
  1502 03:00CA: D4 08        	pei	<L19+x_0
  1503 03:00CC: 22 EA 00 03  	jsl	~~k_gui_get_pixel_offset_width
  1504 03:00D0: 85 01        	sta	<R0
  1505 03:00D2: 86 03        	stx	<R0+2
  1506 03:00D4: A6 03        	ldx	<R0+2
  1507 03:00D6: A5 01        	lda	<R0
  1508                        L22:
  1509 03:00D8: A8           	tay
  1510 03:00D9: A5 06        	lda	<L19+2
  1511 03:00DB: 85 0A        	sta	<L19+2+4
  1512 03:00DD: A5 05        	lda	<L19+1
  1513 03:00DF: 85 09        	sta	<L19+1+4
  1514 03:00E1: 2B           	pld
  1515 03:00E2: 3B           	tsc
  Mon Dec  7 2020 11:19                                                Page 36


  1516 03:00E3: 18           	clc
  1517 03:00E4: 69 08 00     	adc	#L19+4
  1518 03:00E7: 1B           	tcs
  1519 03:00E8: 98           	tya
  1520 03:00E9: 6B           	rtl
  1521                        ;}
  1522                        	.line	292
  1523                        	.endblock	292
  1524             00000004   L19	equ	4
  1525             00000005   L20	equ	5
  1526 03:00EA:              	ends
  1527                        	efunc
  1528                        	.endfunc	292,5,4
  1529                        	.line	292
  1530                        ;
  1531                        ;LONG k_gui_get_pixel_offset_width(int x,int y,int
                     width)
  1532                        ;{
  1533                        	.line	294
  1534                        	.line	295
  1535                        	GUI
  1536                        	xdef	~~k_gui_get_pixel_offset_width
  1537                        	func
  1538                        	.function	295
  1539                        ~~k_gui_get_pixel_offset_width:
  1540                        	longa	on
  1541                        	longi	on
  1542 03:00EA: 3B           	tsc
  1543 03:00EB: 38           	sec
  1544 03:00EC: E9 0C 00     	sbc	#L23
  1545 03:00EF: 1B           	tcs
  1546 03:00F0: 0B           	phd
  1547 03:00F1: 5B           	tcd
  1548             00000004   x_0	set	4
  1549             00000006   y_0	set	6
  1550             00000008   width_0	set	8
  1551                        	.block	295
  1552                        ;	return (LONG)(( ((long)y) * ((long)width)) + ((l
                    ong)x) );
  1553                        	.sym	x,4,5,6,16
  1554                        	.sym	y,6,5,6,16
  1555                        	.sym	width,8,5,6,16
  1556                        	.line	296
  1557 03:00F2: A0 00 00     	ldy	#$0
  1558 03:00F5: A5 10        	lda	<L23+x_0
  1559 03:00F7: 10 01        	bpl	L26
  1560 03:00F9: 88           	dey
  1561                        L26:
  1562 03:00FA: 85 01        	sta	<R0
  1563 03:00FC: 84 03        	sty	<R0+2
  1564 03:00FE: A0 00 00     	ldy	#$0
  1565 03:0101: A5 14        	lda	<L23+width_0
  1566 03:0103: 10 01        	bpl	L27
  1567 03:0105: 88           	dey
  1568                        L27:
  1569 03:0106: 85 05        	sta	<R1
  1570 03:0108: 84 07        	sty	<R1+2
  1571 03:010A: A0 00 00     	ldy	#$0
  Mon Dec  7 2020 11:19                                                Page 37


  1572 03:010D: A5 12        	lda	<L23+y_0
  1573 03:010F: 10 01        	bpl	L28
  1574 03:0111: 88           	dey
  1575                        L28:
  1576 03:0112: 85 09        	sta	<R2
  1577 03:0114: 84 0B        	sty	<R2+2
  1578 03:0116: D4 07        	pei	<R1+2
  1579 03:0118: D4 05        	pei	<R1
  1580 03:011A: D4 0B        	pei	<R2+2
  1581 03:011C: D4 09        	pei	<R2
  1582                        	xref	~~~lmul
  1583 03:011E: 22 xx xx xx  	jsl	~~~lmul
  1584 03:0122: 85 05        	sta	<R1
  1585 03:0124: 86 07        	stx	<R1+2
  1586 03:0126: 18           	clc
  1587 03:0127: A5 05        	lda	<R1
  1588 03:0129: 65 01        	adc	<R0
  1589 03:012B: 85 09        	sta	<R2
  1590 03:012D: A5 07        	lda	<R1+2
  1591 03:012F: 65 03        	adc	<R0+2
  1592 03:0131: 85 0B        	sta	<R2+2
  1593 03:0133: A6 0B        	ldx	<R2+2
  1594 03:0135: A5 09        	lda	<R2
  1595                        L29:
  1596 03:0137: A8           	tay
  1597 03:0138: A5 0E        	lda	<L23+2
  1598 03:013A: 85 14        	sta	<L23+2+6
  1599 03:013C: A5 0D        	lda	<L23+1
  1600 03:013E: 85 13        	sta	<L23+1+6
  1601 03:0140: 2B           	pld
  1602 03:0141: 3B           	tsc
  1603 03:0142: 18           	clc
  1604 03:0143: 69 12 00     	adc	#L23+6
  1605 03:0146: 1B           	tcs
  1606 03:0147: 98           	tya
  1607 03:0148: 6B           	rtl
  1608                        ;}
  1609                        	.line	297
  1610                        	.endblock	297
  1611             0000000C   L23	equ	12
  1612             0000000D   L24	equ	13
  1613 03:0149:              	ends
  1614                        	efunc
  1615                        	.endfunc	297,13,12
  1616                        	.line	297
  1617                        ;
  1618                        ;void k_drawPixel(char fcolor,char fcolor2,char fc
                    olor3)
  1619                        ;{
  1620                        	.line	299
  1621                        	.line	300
  1622                        	GUI
  1623                        	xdef	~~k_drawPixel
  1624                        	func
  1625                        	.function	300
  1626                        ~~k_drawPixel:
  1627                        	longa	on
  1628                        	longi	on
  Mon Dec  7 2020 11:19                                                Page 38


  1629 03:0149: 3B           	tsc
  1630 03:014A: 38           	sec
  1631 03:014B: E9 0D 00     	sbc	#L30
  1632 03:014E: 1B           	tcs
  1633 03:014F: 0B           	phd
  1634 03:0150: 5B           	tcd
  1635             00000004   fcolor_0	set	4
  1636             00000006   fcolor2_0	set	6
  1637             00000008   fcolor3_0	set	8
  1638                        	.block	300
  1639                        ;	long vbuffer = 0xB00000;
  1640                        ;	long ki = 0;
  1641                        ;	long tt = 0;
  1642                        ;	char mask = 0x00;
  1643                        ;	/*
  1644                        ;	unsigned int pos = 0;
  1645                        ;	
  1646                        ;	pos = ((640L * ploty) + plotx);
  1647                        ;	buffer[pos] = 0x01;
  1648                        ;	return;
  1649                        ;	*/
  1650                        ;
  1651                        ;}
  1652             00000000   vbuffer_1	set	0
  1653             00000004   ki_1	set	4
  1654             00000008   tt_1	set	8
  1655             0000000C   mask_1	set	12
  1656                        	.sym	vbuffer,0,7,1,32
  1657                        	.sym	ki,4,7,1,32
  1658                        	.sym	tt,8,7,1,32
  1659                        	.sym	mask,12,14,1,8
  1660                        	.sym	fcolor,4,14,6,8
  1661                        	.sym	fcolor2,6,14,6,8
  1662                        	.sym	fcolor3,8,14,6,8
  1663 03:0151: A9 00 00     	lda	#$0
  1664 03:0154: 85 01        	sta	<L31+vbuffer_1
  1665 03:0156: A9 B0 00     	lda	#$b0
  1666 03:0159: 85 03        	sta	<L31+vbuffer_1+2
  1667 03:015B: 64 05        	stz	<L31+ki_1
  1668 03:015D: 64 07        	stz	<L31+ki_1+2
  1669 03:015F: 64 09        	stz	<L31+tt_1
  1670 03:0161: 64 0B        	stz	<L31+tt_1+2
  1671 03:0163: E2 20        	sep	#$20
  1672                        	longa	off
  1673 03:0165: 64 0D        	stz	<L31+mask_1
  1674 03:0167: C2 20        	rep	#$20
  1675                        	longa	on
  1676                        	.line	313
  1677                        L33:
  1678 03:0169: A5 0F        	lda	<L30+2
  1679 03:016B: 85 15        	sta	<L30+2+6
  1680 03:016D: A5 0E        	lda	<L30+1
  1681 03:016F: 85 14        	sta	<L30+1+6
  1682 03:0171: 2B           	pld
  1683 03:0172: 3B           	tsc
  1684 03:0173: 18           	clc
  1685 03:0174: 69 13 00     	adc	#L30+6
  1686 03:0177: 1B           	tcs
  Mon Dec  7 2020 11:19                                                Page 39


  1687 03:0178: 6B           	rtl
  1688                        	.endblock	313
  1689             0000000D   L30	equ	13
  1690             00000001   L31	equ	1
  1691 03:0179:              	ends
  1692                        	efunc
  1693                        	.endfunc	313,1,13
  1694                        	.line	313
  1695                        ;
  1696                        ;void k_set_foreground_palette(char paletteId)
  1697                        ;{
  1698                        	.line	315
  1699                        	.line	316
  1700                        	GUI
  1701                        	xdef	~~k_set_foreground_palette
  1702                        	func
  1703                        	.function	316
  1704                        ~~k_set_foreground_palette:
  1705                        	longa	on
  1706                        	longi	on
  1707 03:0179: 3B           	tsc
  1708 03:017A: 38           	sec
  1709 03:017B: E9 00 00     	sbc	#L34
  1710 03:017E: 1B           	tcs
  1711 03:017F: 0B           	phd
  1712 03:0180: 5B           	tcd
  1713             00000004   paletteId_0	set	4
  1714                        	.block	316
  1715                        ;	FG_CHAR_LUT_PTR[0] = paletteId;
  1716                        	.sym	paletteId,4,14,6,8
  1717                        	.line	317
  1718 03:0181: E2 20        	sep	#$20
  1719                        	longa	off
  1720 03:0183: A5 04        	lda	<L34+paletteId_0
  1721 03:0185: 8F 40 1F AF  	sta	>11476800
  1722 03:0189: C2 20        	rep	#$20
  1723                        	longa	on
  1724                        ;}
  1725                        	.line	318
  1726                        L37:
  1727 03:018B: A5 02        	lda	<L34+2
  1728 03:018D: 85 04        	sta	<L34+2+2
  1729 03:018F: A5 01        	lda	<L34+1
  1730 03:0191: 85 03        	sta	<L34+1+2
  1731 03:0193: 2B           	pld
  1732 03:0194: 3B           	tsc
  1733 03:0195: 18           	clc
  1734 03:0196: 69 02 00     	adc	#L34+2
  1735 03:0199: 1B           	tcs
  1736 03:019A: 6B           	rtl
  1737                        	.endblock	318
  1738             00000000   L34	equ	0
  1739             00000001   L35	equ	1
  1740 03:019B:              	ends
  1741                        	efunc
  1742                        	.endfunc	318,1,0
  1743                        	.line	318
  1744                        ;
  Mon Dec  7 2020 11:19                                                Page 40


  1745                        ;void k_set_text_gamma(char c)
  1746                        ;{
  1747                        	.line	320
  1748                        	.line	321
  1749                        	GUI
  1750                        	xdef	~~k_set_text_gamma
  1751                        	func
  1752                        	.function	321
  1753                        ~~k_set_text_gamma:
  1754                        	longa	on
  1755                        	longi	on
  1756 03:019B: 3B           	tsc
  1757 03:019C: 38           	sec
  1758 03:019D: E9 00 00     	sbc	#L38
  1759 03:01A0: 1B           	tcs
  1760 03:01A1: 0B           	phd
  1761 03:01A2: 5B           	tcd
  1762             00000004   c_0	set	4
  1763                        	.block	321
  1764                        ;	GAMMA_B_LUT_PTR[0] = c;
  1765                        	.sym	c,4,14,6,8
  1766                        	.line	322
  1767 03:01A3: E2 20        	sep	#$20
  1768                        	longa	off
  1769 03:01A5: A5 04        	lda	<L38+c_0
  1770 03:01A7: 8F 00 40 AF  	sta	>11485184
  1771 03:01AB: C2 20        	rep	#$20
  1772                        	longa	on
  1773                        ;	GAMMA_G_LUT_PTR[0] = c;
  1774                        	.line	323
  1775 03:01AD: E2 20        	sep	#$20
  1776                        	longa	off
  1777 03:01AF: A5 04        	lda	<L38+c_0
  1778 03:01B1: 8F 00 41 AF  	sta	>11485440
  1779 03:01B5: C2 20        	rep	#$20
  1780                        	longa	on
  1781                        ;	GAMMA_R_LUT_PTR[0] = c;
  1782                        	.line	324
  1783 03:01B7: E2 20        	sep	#$20
  1784                        	longa	off
  1785 03:01B9: A5 04        	lda	<L38+c_0
  1786 03:01BB: 8F 00 42 AF  	sta	>11485696
  1787 03:01BF: C2 20        	rep	#$20
  1788                        	longa	on
  1789                        ;}
  1790                        	.line	325
  1791                        L41:
  1792 03:01C1: A5 02        	lda	<L38+2
  1793 03:01C3: 85 04        	sta	<L38+2+2
  1794 03:01C5: A5 01        	lda	<L38+1
  1795 03:01C7: 85 03        	sta	<L38+1+2
  1796 03:01C9: 2B           	pld
  1797 03:01CA: 3B           	tsc
  1798 03:01CB: 18           	clc
  1799 03:01CC: 69 02 00     	adc	#L38+2
  1800 03:01CF: 1B           	tcs
  1801 03:01D0: 6B           	rtl
  1802                        	.endblock	325
  Mon Dec  7 2020 11:19                                                Page 41


  1803             00000000   L38	equ	0
  1804             00000001   L39	equ	1
  1805 03:01D1:              	ends
  1806                        	efunc
  1807                        	.endfunc	325,1,0
  1808                        	.line	325
  1809                        ;
  1810                        ;void k_set_text_color(char c)
  1811                        ;{
  1812                        	.line	327
  1813                        	.line	328
  1814                        	GUI
  1815                        	xdef	~~k_set_text_color
  1816                        	func
  1817                        	.function	328
  1818                        ~~k_set_text_color:
  1819                        	longa	on
  1820                        	longi	on
  1821 03:01D1: 3B           	tsc
  1822 03:01D2: 38           	sec
  1823 03:01D3: E9 00 00     	sbc	#L42
  1824 03:01D6: 1B           	tcs
  1825 03:01D7: 0B           	phd
  1826 03:01D8: 5B           	tcd
  1827             00000004   c_0	set	4
  1828                        	.block	328
  1829                        ;	CURCOLOR_L[0] = c;
  1830                        	.sym	c,4,14,6,8
  1831                        	.line	329
  1832 03:01D9: E2 20        	sep	#$20
  1833                        	longa	off
  1834 03:01DB: A5 04        	lda	<L42+c_0
  1835 03:01DD: 8F 1E 00 00  	sta	>30
  1836 03:01E1: C2 20        	rep	#$20
  1837                        	longa	on
  1838                        ;	CURCOLOR_H[0] = c;
  1839                        	.line	330
  1840 03:01E3: E2 20        	sep	#$20
  1841                        	longa	off
  1842 03:01E5: A5 04        	lda	<L42+c_0
  1843 03:01E7: 8F 1F 00 00  	sta	>31
  1844 03:01EB: C2 20        	rep	#$20
  1845                        	longa	on
  1846                        ;}
  1847                        	.line	331
  1848                        L45:
  1849 03:01ED: A5 02        	lda	<L42+2
  1850 03:01EF: 85 04        	sta	<L42+2+2
  1851 03:01F1: A5 01        	lda	<L42+1
  1852 03:01F3: 85 03        	sta	<L42+1+2
  1853 03:01F5: 2B           	pld
  1854 03:01F6: 3B           	tsc
  1855 03:01F7: 18           	clc
  1856 03:01F8: 69 02 00     	adc	#L42+2
  1857 03:01FB: 1B           	tcs
  1858 03:01FC: 6B           	rtl
  1859                        	.endblock	331
  1860             00000000   L42	equ	0
  Mon Dec  7 2020 11:19                                                Page 42


  1861             00000001   L43	equ	1
  1862 03:01FD:              	ends
  1863                        	efunc
  1864                        	.endfunc	331,1,0
  1865                        	.line	331
  1866                        ;
  1867                        ;
  1868                        ;
  1869                        ;
  1870                        ;
  1871                        ;//
  1872                        ;// 
  1873                        ;WINDOW FAR* k_get_window(HANDLE hWindow)
  1874                        ;{
  1875                        	.line	339
  1876                        	.line	340
  1877                        	GUI
  1878                        	xdef	~~k_get_window
  1879                        	func
  1880                        	.function	340
  1881                        ~~k_get_window:
  1882                        	longa	on
  1883                        	longi	on
  1884 03:01FD: 3B           	tsc
  1885 03:01FE: 38           	sec
  1886 03:01FF: E9 08 00     	sbc	#L46
  1887 03:0202: 1B           	tcs
  1888 03:0203: 0B           	phd
  1889 03:0204: 5B           	tcd
  1890             00000004   hWindow_0	set	4
  1891                        	.block	340
  1892                        ;	return &_k_window_list[(ULONG)hWindow];
  1893                        	.sym	hWindow,4,129,6,32
  1894                        	.line	341
  1895 03:0205: F4 00 00     	pea	#^$163
  1896 03:0208: F4 63 01     	pea	#<$163
  1897 03:020B: D4 0E        	pei	<L46+hWindow_0+2
  1898 03:020D: D4 0C        	pei	<L46+hWindow_0
  1899                        	xref	~~~lmul
  1900 03:020F: 22 xx xx xx  	jsl	~~~lmul
  1901 03:0213: 85 01        	sta	<R0
  1902 03:0215: 86 03        	stx	<R0+2
  1903 03:0217: 18           	clc
  1904 03:0218: A9 xx xx     	lda	#<~~_k_window_list
  1905 03:021B: 65 01        	adc	<R0
  1906 03:021D: 85 05        	sta	<R1
  1907 03:021F: A9 xx xx     	lda	#^~~_k_window_list
  1908 03:0222: 65 03        	adc	<R0+2
  1909 03:0224: 85 07        	sta	<R1+2
  1910 03:0226: A6 07        	ldx	<R1+2
  1911 03:0228: A5 05        	lda	<R1
  1912                        L49:
  1913 03:022A: A8           	tay
  1914 03:022B: A5 0A        	lda	<L46+2
  1915 03:022D: 85 0E        	sta	<L46+2+4
  1916 03:022F: A5 09        	lda	<L46+1
  1917 03:0231: 85 0D        	sta	<L46+1+4
  1918 03:0233: 2B           	pld
  Mon Dec  7 2020 11:19                                                Page 43


  1919 03:0234: 3B           	tsc
  1920 03:0235: 18           	clc
  1921 03:0236: 69 0C 00     	adc	#L46+4
  1922 03:0239: 1B           	tcs
  1923 03:023A: 98           	tya
  1924 03:023B: 6B           	rtl
  1925                        ;}
  1926                        	.line	342
  1927                        	.endblock	342
  1928             00000008   L46	equ	8
  1929             00000009   L47	equ	9
  1930 03:023C:              	ends
  1931                        	efunc
  1932                        	.endfunc	342,9,8
  1933                        	.line	342
  1934                        ; 
  1935                        ;
  1936                        ;void k_write_window_text(HANDLE hWin,int col,int 
                    row,char FAR * text,int fcolor,int bcolor)
  1937                        ;{
  1938                        	.line	345
  1939                        	.line	346
  1940                        	GUI
  1941                        	xdef	~~k_write_window_text
  1942                        	func
  1943                        	.function	346
  1944                        ~~k_write_window_text:
  1945                        	longa	on
  1946                        	longi	on
  1947 03:023C: 3B           	tsc
  1948 03:023D: 38           	sec
  1949 03:023E: E9 00 00     	sbc	#L50
  1950 03:0241: 1B           	tcs
  1951 03:0242: 0B           	phd
  1952 03:0243: 5B           	tcd
  1953             00000004   hWin_0	set	4
  1954             00000008   col_0	set	8
  1955             0000000A   row_0	set	10
  1956             0000000C   text_0	set	12
  1957             00000010   fcolor_0	set	16
  1958             00000012   bcolor_0	set	18
  1959                        	.block	346
  1960                        ;	
  1961                        ;}
  1962                        	.sym	hWin,4,129,6,32
  1963                        	.sym	col,8,5,6,16
  1964                        	.sym	row,10,5,6,16
  1965                        	.sym	text,12,142,6,32
  1966                        	.sym	fcolor,16,5,6,16
  1967                        	.sym	bcolor,18,5,6,16
  1968                        	.line	348
  1969                        L53:
  1970 03:0244: A5 02        	lda	<L50+2
  1971 03:0246: 85 12        	sta	<L50+2+16
  1972 03:0248: A5 01        	lda	<L50+1
  1973 03:024A: 85 11        	sta	<L50+1+16
  1974 03:024C: 2B           	pld
  1975 03:024D: 3B           	tsc
  Mon Dec  7 2020 11:19                                                Page 44


  1976 03:024E: 18           	clc
  1977 03:024F: 69 10 00     	adc	#L50+16
  1978 03:0252: 1B           	tcs
  1979 03:0253: 6B           	rtl
  1980                        	.endblock	348
  1981             00000000   L50	equ	0
  1982             00000001   L51	equ	1
  1983 03:0254:              	ends
  1984                        	efunc
  1985                        	.endfunc	348,1,0
  1986                        	.line	348
  1987                        ; 
  1988                        ;
  1989                        ;HANDLE k_create_window(int bx,int by,int bw,int b
                    h,char FAR* title)
  1990                        ;{
  1991                        	.line	351
  1992                        	.line	352
  1993                        	GUI
  1994                        	xdef	~~k_create_window
  1995                        	func
  1996                        	.function	352
  1997                        ~~k_create_window:
  1998                        	longa	on
  1999                        	longi	on
  2000 03:0254: 3B           	tsc
  2001 03:0255: 38           	sec
  2002 03:0256: E9 0A 00     	sbc	#L54
  2003 03:0259: 1B           	tcs
  2004 03:025A: 0B           	phd
  2005 03:025B: 5B           	tcd
  2006             00000004   bx_0	set	4
  2007             00000006   by_0	set	6
  2008             00000008   bw_0	set	8
  2009             0000000A   bh_0	set	10
  2010             0000000C   title_0	set	12
  2011                        	.block	352
  2012                        ;	int index = -1;
  2013                        ;	WINDOW FAR *pwin = NULL;
  2014                        ;
  2015                        ;	k_put_char(0,1,'a',5,0);
  2016             00000000   index_1	set	0
  2017             00000002   pwin_1	set	2
  2018                        	.sym	index,0,5,1,16
  2019                        	.sym	pwin,2,138,1,32,30
  2020                        	.sym	bx,4,5,6,16
  2021                        	.sym	by,6,5,6,16
  2022                        	.sym	bw,8,5,6,16
  2023                        	.sym	bh,10,5,6,16
  2024                        	.sym	title,12,142,6,32
  2025 03:025C: A9 FF FF     	lda	#$ffff
  2026 03:025F: 85 05        	sta	<L55+index_1
  2027 03:0261: 64 07        	stz	<L55+pwin_1
  2028 03:0263: 64 09        	stz	<L55+pwin_1+2
  2029                        	.line	356
  2030 03:0265: F4 00 00     	pea	#<$0
  2031 03:0268: F4 05 00     	pea	#<$5
  2032 03:026B: F4 61 00     	pea	#<$61
  Mon Dec  7 2020 11:19                                                Page 45


  2033 03:026E: F4 01 00     	pea	#<$1
  2034 03:0271: F4 00 00     	pea	#<$0
  2035 03:0274: 22 xx xx xx  	jsl	~~k_put_char
  2036                        ;	
  2037                        ;	index = _k_window_index++;
  2038                        	.line	358
  2039 03:0278: AF xx xx xx  	lda	>~~_k_window_index
  2040 03:027C: 85 05        	sta	<L55+index_1
  2041 03:027E: AF xx xx xx  	lda	>~~_k_window_index
  2042 03:0282: 1A           	ina
  2043 03:0283: 8F xx xx xx  	sta	>~~_k_window_index
  2044                        ;	
  2045                        ;	k_put_char(0,1,'b',5,0);
  2046                        	.line	360
  2047 03:0287: F4 00 00     	pea	#<$0
  2048 03:028A: F4 05 00     	pea	#<$5
  2049 03:028D: F4 62 00     	pea	#<$62
  2050 03:0290: F4 01 00     	pea	#<$1
  2051 03:0293: F4 00 00     	pea	#<$0
  2052 03:0296: 22 xx xx xx  	jsl	~~k_put_char
  2053                        ;	
  2054                        ;	pwin = &_k_window_list[index];
  2055                        	.line	362
  2056 03:029A: A0 00 00     	ldy	#$0
  2057 03:029D: A5 05        	lda	<L55+index_1
  2058 03:029F: 10 01        	bpl	L57
  2059 03:02A1: 88           	dey
  2060                        L57:
  2061 03:02A2: 85 01        	sta	<R0
  2062 03:02A4: 84 03        	sty	<R0+2
  2063 03:02A6: F4 00 00     	pea	#^$163
  2064 03:02A9: F4 63 01     	pea	#<$163
  2065 03:02AC: D4 03        	pei	<R0+2
  2066 03:02AE: D4 01        	pei	<R0
  2067                        	xref	~~~lmul
  2068 03:02B0: 22 xx xx xx  	jsl	~~~lmul
  2069 03:02B4: 85 01        	sta	<R0
  2070 03:02B6: 86 03        	stx	<R0+2
  2071 03:02B8: 18           	clc
  2072 03:02B9: A9 xx xx     	lda	#<~~_k_window_list
  2073 03:02BC: 65 01        	adc	<R0
  2074 03:02BE: 85 07        	sta	<L55+pwin_1
  2075 03:02C0: A9 xx xx     	lda	#^~~_k_window_list
  2076 03:02C3: 65 03        	adc	<R0+2
  2077 03:02C5: 85 09        	sta	<L55+pwin_1+2
  2078                        ;	
  2079                        ;	pwin->win_x = bx;
  2080                        	.line	364
  2081 03:02C7: A5 0E        	lda	<L54+bx_0
  2082 03:02C9: A0 08 00     	ldy	#$8
  2083 03:02CC: 97 07        	sta	[<L55+pwin_1],Y
  2084                        ;	pwin->win_y = by;
  2085                        	.line	365
  2086 03:02CE: A5 10        	lda	<L54+by_0
  2087 03:02D0: A0 0A 00     	ldy	#$a
  2088 03:02D3: 97 07        	sta	[<L55+pwin_1],Y
  2089                        ;	pwin->win_width = bw;
  2090                        	.line	366
  Mon Dec  7 2020 11:19                                                Page 46


  2091 03:02D5: A5 12        	lda	<L54+bw_0
  2092 03:02D7: A0 0C 00     	ldy	#$c
  2093 03:02DA: 97 07        	sta	[<L55+pwin_1],Y
  2094                        ;	pwin->win_height = bh;
  2095                        	.line	367
  2096 03:02DC: A5 14        	lda	<L54+bh_0
  2097 03:02DE: A0 0E 00     	ldy	#$e
  2098 03:02E1: 97 07        	sta	[<L55+pwin_1],Y
  2099                        ;
  2100                        ;	k_put_char(0,1,'c',5,0);
  2101                        	.line	369
  2102 03:02E3: F4 00 00     	pea	#<$0
  2103 03:02E6: F4 05 00     	pea	#<$5
  2104 03:02E9: F4 63 00     	pea	#<$63
  2105 03:02EC: F4 01 00     	pea	#<$1
  2106 03:02EF: F4 00 00     	pea	#<$0
  2107 03:02F2: 22 xx xx xx  	jsl	~~k_put_char
  2108                        ;	
  2109                        ;	strcpy(pwin->win_title,title);
  2110                        	.line	371
  2111 03:02F6: D4 18        	pei	<L54+title_0+2
  2112 03:02F8: D4 16        	pei	<L54+title_0
  2113 03:02FA: 18           	clc
  2114 03:02FB: A9 D4 00     	lda	#$d4
  2115 03:02FE: 65 07        	adc	<L55+pwin_1
  2116 03:0300: 85 01        	sta	<R0
  2117 03:0302: A9 00 00     	lda	#$0
  2118 03:0305: 65 09        	adc	<L55+pwin_1+2
  2119 03:0307: 85 03        	sta	<R0+2
  2120 03:0309: D4 03        	pei	<R0+2
  2121 03:030B: D4 01        	pei	<R0
  2122 03:030D: 22 xx xx xx  	jsl	~~strcpy
  2123                        ;	
  2124                        ;	k_put_char(0,1,'d',5,0);
  2125                        	.line	373
  2126 03:0311: F4 00 00     	pea	#<$0
  2127 03:0314: F4 05 00     	pea	#<$5
  2128 03:0317: F4 64 00     	pea	#<$64
  2129 03:031A: F4 01 00     	pea	#<$1
  2130 03:031D: F4 00 00     	pea	#<$0
  2131 03:0320: 22 xx xx xx  	jsl	~~k_put_char
  2132                        ;	
  2133                        ;	k_window_draw(pwin->win_x,pwin->win_y,pwin->win_
                    width,pwin->win_height,pwin->win_title);
  2134                        	.line	375
  2135 03:0324: 18           	clc
  2136 03:0325: A9 D4 00     	lda	#$d4
  2137 03:0328: 65 07        	adc	<L55+pwin_1
  2138 03:032A: 85 01        	sta	<R0
  2139 03:032C: A9 00 00     	lda	#$0
  2140 03:032F: 65 09        	adc	<L55+pwin_1+2
  2141 03:0331: 85 03        	sta	<R0+2
  2142 03:0333: D4 03        	pei	<R0+2
  2143 03:0335: D4 01        	pei	<R0
  2144 03:0337: A0 0E 00     	ldy	#$e
  2145 03:033A: B7 07        	lda	[<L55+pwin_1],Y
  2146 03:033C: 48           	pha
  2147 03:033D: A0 0C 00     	ldy	#$c
  Mon Dec  7 2020 11:19                                                Page 47


  2148 03:0340: B7 07        	lda	[<L55+pwin_1],Y
  2149 03:0342: 48           	pha
  2150 03:0343: A0 0A 00     	ldy	#$a
  2151 03:0346: B7 07        	lda	[<L55+pwin_1],Y
  2152 03:0348: 48           	pha
  2153 03:0349: A0 08 00     	ldy	#$8
  2154 03:034C: B7 07        	lda	[<L55+pwin_1],Y
  2155 03:034E: 48           	pha
  2156 03:034F: 22 xx xx xx  	jsl	~~k_window_draw
  2157                        ;	
  2158                        ;	k_put_char(0,1,'e',5,0);
  2159                        	.line	377
  2160 03:0353: F4 00 00     	pea	#<$0
  2161 03:0356: F4 05 00     	pea	#<$5
  2162 03:0359: F4 65 00     	pea	#<$65
  2163 03:035C: F4 01 00     	pea	#<$1
  2164 03:035F: F4 00 00     	pea	#<$0
  2165 03:0362: 22 xx xx xx  	jsl	~~k_put_char
  2166                        ;	
  2167                        ;	return (HANDLE)index;
  2168                        	.line	379
  2169 03:0366: A0 00 00     	ldy	#$0
  2170 03:0369: A5 05        	lda	<L55+index_1
  2171 03:036B: 10 01        	bpl	L58
  2172 03:036D: 88           	dey
  2173                        L58:
  2174 03:036E: 85 01        	sta	<R0
  2175 03:0370: 84 03        	sty	<R0+2
  2176 03:0372: A6 03        	ldx	<R0+2
  2177 03:0374: A5 01        	lda	<R0
  2178                        L59:
  2179 03:0376: A8           	tay
  2180 03:0377: A5 0C        	lda	<L54+2
  2181 03:0379: 85 18        	sta	<L54+2+12
  2182 03:037B: A5 0B        	lda	<L54+1
  2183 03:037D: 85 17        	sta	<L54+1+12
  2184 03:037F: 2B           	pld
  2185 03:0380: 3B           	tsc
  2186 03:0381: 18           	clc
  2187 03:0382: 69 16 00     	adc	#L54+12
  2188 03:0385: 1B           	tcs
  2189 03:0386: 98           	tya
  2190 03:0387: 6B           	rtl
  2191                        ;}
  2192                        	.line	380
  2193                        	.endblock	380
  2194             0000000A   L54	equ	10
  2195             00000005   L55	equ	5
  2196 03:0388:              	ends
  2197                        	efunc
  2198                        	.endfunc	380,5,10
  2199                        	.line	380
  2200                        ;
  2201                        ;VOID k_set_text_colors(VOID)
  2202                        ;{
  2203                        	.line	382
  2204                        	.line	383
  2205                        	GUI
  Mon Dec  7 2020 11:19                                                Page 48


  2206                        	xdef	~~k_set_text_colors
  2207                        	func
  2208                        	.function	383
  2209                        ~~k_set_text_colors:
  2210                        	longa	on
  2211                        	longi	on
  2212 03:0388: 3B           	tsc
  2213 03:0389: 38           	sec
  2214 03:038A: E9 00 00     	sbc	#L60
  2215 03:038D: 1B           	tcs
  2216 03:038E: 0B           	phd
  2217 03:038F: 5B           	tcd
  2218                        	.block	383
  2219                        ;	k_debug_integer("k_set_text_colors::TEXT_FG_COLO
                    RS:",sizeof(TEXT_FG_COLORS));
  2220                        	.line	384
  2221 03:0390: F4 40 00     	pea	#<$40
  2222 03:0393: F4 xx xx     	pea	#^L1
  2223 03:0396: F4 xx xx     	pea	#<L1
  2224 03:0399: 22 xx xx xx  	jsl	~~k_debug_integer
  2225                        ;	k_debug_integer("k_set_text_colors::TEXT_BG_COLO
                    RS:",sizeof(TEXT_BG_COLORS));
  2226                        	.line	385
  2227 03:039D: F4 40 00     	pea	#<$40
  2228 03:03A0: F4 xx xx     	pea	#^L1+35
  2229 03:03A3: F4 xx xx     	pea	#<L1+35
  2230 03:03A6: 22 xx xx xx  	jsl	~~k_debug_integer
  2231                        ;
  2232                        ;	memcpy(FG_CHAR_LUT_PTR,TEXT_FG_COLORS,sizeof(TEX
                    T_FG_COLORS));
  2233                        	.line	387
  2234 03:03AA: F4 40 00     	pea	#<$40
  2235 03:03AD: F4 xx xx     	pea	#^~~TEXT_FG_COLORS
  2236 03:03B0: F4 xx xx     	pea	#<~~TEXT_FG_COLORS
  2237 03:03B3: F4 AF 00     	pea	#^$af1f40
  2238 03:03B6: F4 40 1F     	pea	#<$af1f40
  2239 03:03B9: 22 xx xx xx  	jsl	~~memcpy
  2240                        ;	memcpy(BG_CHAR_LUT_PTR,TEXT_BG_COLORS,sizeof(TEX
                    T_BG_COLORS));
  2241                        	.line	388
  2242 03:03BD: F4 40 00     	pea	#<$40
  2243 03:03C0: F4 xx xx     	pea	#^~~TEXT_BG_COLORS
  2244 03:03C3: F4 xx xx     	pea	#<~~TEXT_BG_COLORS
  2245 03:03C6: F4 AF 00     	pea	#^$af1f80
  2246 03:03C9: F4 80 1F     	pea	#<$af1f80
  2247 03:03CC: 22 xx xx xx  	jsl	~~memcpy
  2248                        ;}
  2249                        	.line	389
  2250                        L63:
  2251 03:03D0: 2B           	pld
  2252 03:03D1: 3B           	tsc
  2253 03:03D2: 18           	clc
  2254 03:03D3: 69 00 00     	adc	#L60
  2255 03:03D6: 1B           	tcs
  2256 03:03D7: 6B           	rtl
  2257                        	.endblock	389
  2258             00000000   L60	equ	0
  2259             00000001   L61	equ	1
  Mon Dec  7 2020 11:19                                                Page 49


  2260 03:03D8:              	ends
  2261                        	efunc
  2262                        	.endfunc	389,1,0
  2263                        	.line	389
  2264                        	data
  2265                        L1:
  2266 00:072C: 6B 5F 73 65  	db	$6B,$5F,$73,$65,$74,$5F,$74,$65,$78,$74,
                    $5F,$63,$6F,$6C,$6F
       00:0730: 74 5F 74 65 
       00:0734: 78 74 5F 63 
       00:0738: 6F 6C 6F 
  2267 00:073B: 72 73 3A 3A  	db	$72,$73,$3A,$3A,$54,$45,$58,$54,$5F,$46,
                    $47,$5F,$43,$4F,$4C
       00:073F: 54 45 58 54 
       00:0743: 5F 46 47 5F 
       00:0747: 43 4F 4C 
  2268 00:074A: 4F 52 53 3A  	db	$4F,$52,$53,$3A,$00,$6B,$5F,$73,$65,$74,
                    $5F,$74,$65,$78,$74
       00:074E: 00 6B 5F 73 
       00:0752: 65 74 5F 74 
       00:0756: 65 78 74 
  2269 00:0759: 5F 63 6F 6C  	db	$5F,$63,$6F,$6C,$6F,$72,$73,$3A,$3A,$54,
                    $45,$58,$54,$5F,$42
       00:075D: 6F 72 73 3A 
       00:0761: 3A 54 45 58 
       00:0765: 54 5F 42 
  2270 00:0768: 47 5F 43 4F  	db	$47,$5F,$43,$4F,$4C,$4F,$52,$53,$3A,$00
       00:076C: 4C 4F 52 53 
       00:0770: 3A 00 
  2271 00:0772:              	ends
  2272                        ;
  2273                        ;
  2274                        ;void setColors(void)
  2275                        ;{
  2276                        	.line	392
  2277                        	.line	393
  2278                        	GUI
  2279                        	xdef	~~setColors
  2280                        	func
  2281                        	.function	393
  2282                        ~~setColors:
  2283                        	longa	on
  2284                        	longi	on
  2285 03:03D8: 3B           	tsc
  2286 03:03D9: 38           	sec
  2287 03:03DA: E9 08 00     	sbc	#L65
  2288 03:03DD: 1B           	tcs
  2289 03:03DE: 0B           	phd
  2290 03:03DF: 5B           	tcd
  2291                        	.block	393
  2292                        ;	unsigned long colorIndex = 0;
  2293                        ;
  2294                        ;	//colorIndex = 0;
  2295                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2296             00000000   colorIndex_1	set	0
  2297                        	.sym	colorIndex,0,18,1,32
  2298 03:03E0: 64 05        	stz	<L66+colorIndex_1
  2299 03:03E2: 64 07        	stz	<L66+colorIndex_1+2
  Mon Dec  7 2020 11:19                                                Page 50


  2300                        	.line	397
  2301 03:03E4: 18           	clc
  2302 03:03E5: A9 00 20     	lda	#$2000
  2303 03:03E8: 65 05        	adc	<L66+colorIndex_1
  2304 03:03EA: 85 01        	sta	<R0
  2305 03:03EC: A9 AF 00     	lda	#$af
  2306 03:03EF: 65 07        	adc	<L66+colorIndex_1+2
  2307 03:03F1: 85 03        	sta	<R0+2
  2308 03:03F3: E2 20        	sep	#$20
  2309                        	longa	off
  2310 03:03F5: A9 00        	lda	#$0
  2311 03:03F7: 87 01        	sta	[<R0]
  2312 03:03F9: C2 20        	rep	#$20
  2313                        	longa	on
  2314 03:03FB: E6 05        	inc	<L66+colorIndex_1
  2315 03:03FD: D0 02        	bne	L68
  2316 03:03FF: E6 07        	inc	<L66+colorIndex_1+2
  2317                        L68:
  2318                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2319                        	.line	398
  2320 03:0401: 18           	clc
  2321 03:0402: A9 00 20     	lda	#$2000
  2322 03:0405: 65 05        	adc	<L66+colorIndex_1
  2323 03:0407: 85 01        	sta	<R0
  2324 03:0409: A9 AF 00     	lda	#$af
  2325 03:040C: 65 07        	adc	<L66+colorIndex_1+2
  2326 03:040E: 85 03        	sta	<R0+2
  2327 03:0410: E2 20        	sep	#$20
  2328                        	longa	off
  2329 03:0412: A9 00        	lda	#$0
  2330 03:0414: 87 01        	sta	[<R0]
  2331 03:0416: C2 20        	rep	#$20
  2332                        	longa	on
  2333 03:0418: E6 05        	inc	<L66+colorIndex_1
  2334 03:041A: D0 02        	bne	L69
  2335 03:041C: E6 07        	inc	<L66+colorIndex_1+2
  2336                        L69:
  2337                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2338                        	.line	399
  2339 03:041E: 18           	clc
  2340 03:041F: A9 00 20     	lda	#$2000
  2341 03:0422: 65 05        	adc	<L66+colorIndex_1
  2342 03:0424: 85 01        	sta	<R0
  2343 03:0426: A9 AF 00     	lda	#$af
  2344 03:0429: 65 07        	adc	<L66+colorIndex_1+2
  2345 03:042B: 85 03        	sta	<R0+2
  2346 03:042D: E2 20        	sep	#$20
  2347                        	longa	off
  2348 03:042F: A9 00        	lda	#$0
  2349 03:0431: 87 01        	sta	[<R0]
  2350 03:0433: C2 20        	rep	#$20
  2351                        	longa	on
  2352 03:0435: E6 05        	inc	<L66+colorIndex_1
  2353 03:0437: D0 02        	bne	L70
  2354 03:0439: E6 07        	inc	<L66+colorIndex_1+2
  2355                        L70:
  2356                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2357                        	.line	400
  Mon Dec  7 2020 11:19                                                Page 51


  2358 03:043B: 18           	clc
  2359 03:043C: A9 00 20     	lda	#$2000
  2360 03:043F: 65 05        	adc	<L66+colorIndex_1
  2361 03:0441: 85 01        	sta	<R0
  2362 03:0443: A9 AF 00     	lda	#$af
  2363 03:0446: 65 07        	adc	<L66+colorIndex_1+2
  2364 03:0448: 85 03        	sta	<R0+2
  2365 03:044A: E2 20        	sep	#$20
  2366                        	longa	off
  2367 03:044C: A9 FF        	lda	#$ff
  2368 03:044E: 87 01        	sta	[<R0]
  2369 03:0450: C2 20        	rep	#$20
  2370                        	longa	on
  2371 03:0452: E6 05        	inc	<L66+colorIndex_1
  2372 03:0454: D0 02        	bne	L71
  2373 03:0456: E6 07        	inc	<L66+colorIndex_1+2
  2374                        L71:
  2375                        ;
  2376                        ;	//colorIndex = 1 * 4;
  2377                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2378                        	.line	403
  2379 03:0458: 18           	clc
  2380 03:0459: A9 00 20     	lda	#$2000
  2381 03:045C: 65 05        	adc	<L66+colorIndex_1
  2382 03:045E: 85 01        	sta	<R0
  2383 03:0460: A9 AF 00     	lda	#$af
  2384 03:0463: 65 07        	adc	<L66+colorIndex_1+2
  2385 03:0465: 85 03        	sta	<R0+2
  2386 03:0467: E2 20        	sep	#$20
  2387                        	longa	off
  2388 03:0469: A9 00        	lda	#$0
  2389 03:046B: 87 01        	sta	[<R0]
  2390 03:046D: C2 20        	rep	#$20
  2391                        	longa	on
  2392 03:046F: E6 05        	inc	<L66+colorIndex_1
  2393 03:0471: D0 02        	bne	L72
  2394 03:0473: E6 07        	inc	<L66+colorIndex_1+2
  2395                        L72:
  2396                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2397                        	.line	404
  2398 03:0475: 18           	clc
  2399 03:0476: A9 00 20     	lda	#$2000
  2400 03:0479: 65 05        	adc	<L66+colorIndex_1
  2401 03:047B: 85 01        	sta	<R0
  2402 03:047D: A9 AF 00     	lda	#$af
  2403 03:0480: 65 07        	adc	<L66+colorIndex_1+2
  2404 03:0482: 85 03        	sta	<R0+2
  2405 03:0484: E2 20        	sep	#$20
  2406                        	longa	off
  2407 03:0486: A9 00        	lda	#$0
  2408 03:0488: 87 01        	sta	[<R0]
  2409 03:048A: C2 20        	rep	#$20
  2410                        	longa	on
  2411 03:048C: E6 05        	inc	<L66+colorIndex_1
  2412 03:048E: D0 02        	bne	L73
  2413 03:0490: E6 07        	inc	<L66+colorIndex_1+2
  2414                        L73:
  2415                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  Mon Dec  7 2020 11:19                                                Page 52


  2416                        	.line	405
  2417 03:0492: 18           	clc
  2418 03:0493: A9 00 20     	lda	#$2000
  2419 03:0496: 65 05        	adc	<L66+colorIndex_1
  2420 03:0498: 85 01        	sta	<R0
  2421 03:049A: A9 AF 00     	lda	#$af
  2422 03:049D: 65 07        	adc	<L66+colorIndex_1+2
  2423 03:049F: 85 03        	sta	<R0+2
  2424 03:04A1: E2 20        	sep	#$20
  2425                        	longa	off
  2426 03:04A3: A9 80        	lda	#$80
  2427 03:04A5: 87 01        	sta	[<R0]
  2428 03:04A7: C2 20        	rep	#$20
  2429                        	longa	on
  2430 03:04A9: E6 05        	inc	<L66+colorIndex_1
  2431 03:04AB: D0 02        	bne	L74
  2432 03:04AD: E6 07        	inc	<L66+colorIndex_1+2
  2433                        L74:
  2434                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2435                        	.line	406
  2436 03:04AF: 18           	clc
  2437 03:04B0: A9 00 20     	lda	#$2000
  2438 03:04B3: 65 05        	adc	<L66+colorIndex_1
  2439 03:04B5: 85 01        	sta	<R0
  2440 03:04B7: A9 AF 00     	lda	#$af
  2441 03:04BA: 65 07        	adc	<L66+colorIndex_1+2
  2442 03:04BC: 85 03        	sta	<R0+2
  2443 03:04BE: E2 20        	sep	#$20
  2444                        	longa	off
  2445 03:04C0: A9 FF        	lda	#$ff
  2446 03:04C2: 87 01        	sta	[<R0]
  2447 03:04C4: C2 20        	rep	#$20
  2448                        	longa	on
  2449 03:04C6: E6 05        	inc	<L66+colorIndex_1
  2450 03:04C8: D0 02        	bne	L75
  2451 03:04CA: E6 07        	inc	<L66+colorIndex_1+2
  2452                        L75:
  2453                        ;
  2454                        ;	//colorIndex = 2 * 4;
  2455                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2456                        	.line	409
  2457 03:04CC: 18           	clc
  2458 03:04CD: A9 00 20     	lda	#$2000
  2459 03:04D0: 65 05        	adc	<L66+colorIndex_1
  2460 03:04D2: 85 01        	sta	<R0
  2461 03:04D4: A9 AF 00     	lda	#$af
  2462 03:04D7: 65 07        	adc	<L66+colorIndex_1+2
  2463 03:04D9: 85 03        	sta	<R0+2
  2464 03:04DB: E2 20        	sep	#$20
  2465                        	longa	off
  2466 03:04DD: A9 00        	lda	#$0
  2467 03:04DF: 87 01        	sta	[<R0]
  2468 03:04E1: C2 20        	rep	#$20
  2469                        	longa	on
  2470 03:04E3: E6 05        	inc	<L66+colorIndex_1
  2471 03:04E5: D0 02        	bne	L76
  2472 03:04E7: E6 07        	inc	<L66+colorIndex_1+2
  2473                        L76:
  Mon Dec  7 2020 11:19                                                Page 53


  2474                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  2475                        	.line	410
  2476 03:04E9: 18           	clc
  2477 03:04EA: A9 00 20     	lda	#$2000
  2478 03:04ED: 65 05        	adc	<L66+colorIndex_1
  2479 03:04EF: 85 01        	sta	<R0
  2480 03:04F1: A9 AF 00     	lda	#$af
  2481 03:04F4: 65 07        	adc	<L66+colorIndex_1+2
  2482 03:04F6: 85 03        	sta	<R0+2
  2483 03:04F8: E2 20        	sep	#$20
  2484                        	longa	off
  2485 03:04FA: A9 80        	lda	#$80
  2486 03:04FC: 87 01        	sta	[<R0]
  2487 03:04FE: C2 20        	rep	#$20
  2488                        	longa	on
  2489 03:0500: E6 05        	inc	<L66+colorIndex_1
  2490 03:0502: D0 02        	bne	L77
  2491 03:0504: E6 07        	inc	<L66+colorIndex_1+2
  2492                        L77:
  2493                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2494                        	.line	411
  2495 03:0506: 18           	clc
  2496 03:0507: A9 00 20     	lda	#$2000
  2497 03:050A: 65 05        	adc	<L66+colorIndex_1
  2498 03:050C: 85 01        	sta	<R0
  2499 03:050E: A9 AF 00     	lda	#$af
  2500 03:0511: 65 07        	adc	<L66+colorIndex_1+2
  2501 03:0513: 85 03        	sta	<R0+2
  2502 03:0515: E2 20        	sep	#$20
  2503                        	longa	off
  2504 03:0517: A9 00        	lda	#$0
  2505 03:0519: 87 01        	sta	[<R0]
  2506 03:051B: C2 20        	rep	#$20
  2507                        	longa	on
  2508 03:051D: E6 05        	inc	<L66+colorIndex_1
  2509 03:051F: D0 02        	bne	L78
  2510 03:0521: E6 07        	inc	<L66+colorIndex_1+2
  2511                        L78:
  2512                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2513                        	.line	412
  2514 03:0523: 18           	clc
  2515 03:0524: A9 00 20     	lda	#$2000
  2516 03:0527: 65 05        	adc	<L66+colorIndex_1
  2517 03:0529: 85 01        	sta	<R0
  2518 03:052B: A9 AF 00     	lda	#$af
  2519 03:052E: 65 07        	adc	<L66+colorIndex_1+2
  2520 03:0530: 85 03        	sta	<R0+2
  2521 03:0532: E2 20        	sep	#$20
  2522                        	longa	off
  2523 03:0534: A9 FF        	lda	#$ff
  2524 03:0536: 87 01        	sta	[<R0]
  2525 03:0538: C2 20        	rep	#$20
  2526                        	longa	on
  2527 03:053A: E6 05        	inc	<L66+colorIndex_1
  2528 03:053C: D0 02        	bne	L79
  2529 03:053E: E6 07        	inc	<L66+colorIndex_1+2
  2530                        L79:
  2531                        ;
  Mon Dec  7 2020 11:19                                                Page 54


  2532                        ;
  2533                        ;	//colorIndex = 3 * 4;
  2534                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  2535                        	.line	416
  2536 03:0540: 18           	clc
  2537 03:0541: A9 00 20     	lda	#$2000
  2538 03:0544: 65 05        	adc	<L66+colorIndex_1
  2539 03:0546: 85 01        	sta	<R0
  2540 03:0548: A9 AF 00     	lda	#$af
  2541 03:054B: 65 07        	adc	<L66+colorIndex_1+2
  2542 03:054D: 85 03        	sta	<R0+2
  2543 03:054F: E2 20        	sep	#$20
  2544                        	longa	off
  2545 03:0551: A9 80        	lda	#$80
  2546 03:0553: 87 01        	sta	[<R0]
  2547 03:0555: C2 20        	rep	#$20
  2548                        	longa	on
  2549 03:0557: E6 05        	inc	<L66+colorIndex_1
  2550 03:0559: D0 02        	bne	L80
  2551 03:055B: E6 07        	inc	<L66+colorIndex_1+2
  2552                        L80:
  2553                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2554                        	.line	417
  2555 03:055D: 18           	clc
  2556 03:055E: A9 00 20     	lda	#$2000
  2557 03:0561: 65 05        	adc	<L66+colorIndex_1
  2558 03:0563: 85 01        	sta	<R0
  2559 03:0565: A9 AF 00     	lda	#$af
  2560 03:0568: 65 07        	adc	<L66+colorIndex_1+2
  2561 03:056A: 85 03        	sta	<R0+2
  2562 03:056C: E2 20        	sep	#$20
  2563                        	longa	off
  2564 03:056E: A9 00        	lda	#$0
  2565 03:0570: 87 01        	sta	[<R0]
  2566 03:0572: C2 20        	rep	#$20
  2567                        	longa	on
  2568 03:0574: E6 05        	inc	<L66+colorIndex_1
  2569 03:0576: D0 02        	bne	L81
  2570 03:0578: E6 07        	inc	<L66+colorIndex_1+2
  2571                        L81:
  2572                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2573                        	.line	418
  2574 03:057A: 18           	clc
  2575 03:057B: A9 00 20     	lda	#$2000
  2576 03:057E: 65 05        	adc	<L66+colorIndex_1
  2577 03:0580: 85 01        	sta	<R0
  2578 03:0582: A9 AF 00     	lda	#$af
  2579 03:0585: 65 07        	adc	<L66+colorIndex_1+2
  2580 03:0587: 85 03        	sta	<R0+2
  2581 03:0589: E2 20        	sep	#$20
  2582                        	longa	off
  2583 03:058B: A9 00        	lda	#$0
  2584 03:058D: 87 01        	sta	[<R0]
  2585 03:058F: C2 20        	rep	#$20
  2586                        	longa	on
  2587 03:0591: E6 05        	inc	<L66+colorIndex_1
  2588 03:0593: D0 02        	bne	L82
  2589 03:0595: E6 07        	inc	<L66+colorIndex_1+2
  Mon Dec  7 2020 11:19                                                Page 55


  2590                        L82:
  2591                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2592                        	.line	419
  2593 03:0597: 18           	clc
  2594 03:0598: A9 00 20     	lda	#$2000
  2595 03:059B: 65 05        	adc	<L66+colorIndex_1
  2596 03:059D: 85 01        	sta	<R0
  2597 03:059F: A9 AF 00     	lda	#$af
  2598 03:05A2: 65 07        	adc	<L66+colorIndex_1+2
  2599 03:05A4: 85 03        	sta	<R0+2
  2600 03:05A6: E2 20        	sep	#$20
  2601                        	longa	off
  2602 03:05A8: A9 FF        	lda	#$ff
  2603 03:05AA: 87 01        	sta	[<R0]
  2604 03:05AC: C2 20        	rep	#$20
  2605                        	longa	on
  2606 03:05AE: E6 05        	inc	<L66+colorIndex_1
  2607 03:05B0: D0 02        	bne	L83
  2608 03:05B2: E6 07        	inc	<L66+colorIndex_1+2
  2609                        L83:
  2610                        ;
  2611                        ;	//colorIndex = 4 * 4;
  2612                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2613                        	.line	422
  2614 03:05B4: 18           	clc
  2615 03:05B5: A9 00 20     	lda	#$2000
  2616 03:05B8: 65 05        	adc	<L66+colorIndex_1
  2617 03:05BA: 85 01        	sta	<R0
  2618 03:05BC: A9 AF 00     	lda	#$af
  2619 03:05BF: 65 07        	adc	<L66+colorIndex_1+2
  2620 03:05C1: 85 03        	sta	<R0+2
  2621 03:05C3: E2 20        	sep	#$20
  2622                        	longa	off
  2623 03:05C5: A9 00        	lda	#$0
  2624 03:05C7: 87 01        	sta	[<R0]
  2625 03:05C9: C2 20        	rep	#$20
  2626                        	longa	on
  2627 03:05CB: E6 05        	inc	<L66+colorIndex_1
  2628 03:05CD: D0 02        	bne	L84
  2629 03:05CF: E6 07        	inc	<L66+colorIndex_1+2
  2630                        L84:
  2631                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  2632                        	.line	423
  2633 03:05D1: 18           	clc
  2634 03:05D2: A9 00 20     	lda	#$2000
  2635 03:05D5: 65 05        	adc	<L66+colorIndex_1
  2636 03:05D7: 85 01        	sta	<R0
  2637 03:05D9: A9 AF 00     	lda	#$af
  2638 03:05DC: 65 07        	adc	<L66+colorIndex_1+2
  2639 03:05DE: 85 03        	sta	<R0+2
  2640 03:05E0: E2 20        	sep	#$20
  2641                        	longa	off
  2642 03:05E2: A9 80        	lda	#$80
  2643 03:05E4: 87 01        	sta	[<R0]
  2644 03:05E6: C2 20        	rep	#$20
  2645                        	longa	on
  2646 03:05E8: E6 05        	inc	<L66+colorIndex_1
  2647 03:05EA: D0 02        	bne	L85
  Mon Dec  7 2020 11:19                                                Page 56


  2648 03:05EC: E6 07        	inc	<L66+colorIndex_1+2
  2649                        L85:
  2650                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  2651                        	.line	424
  2652 03:05EE: 18           	clc
  2653 03:05EF: A9 00 20     	lda	#$2000
  2654 03:05F2: 65 05        	adc	<L66+colorIndex_1
  2655 03:05F4: 85 01        	sta	<R0
  2656 03:05F6: A9 AF 00     	lda	#$af
  2657 03:05F9: 65 07        	adc	<L66+colorIndex_1+2
  2658 03:05FB: 85 03        	sta	<R0+2
  2659 03:05FD: E2 20        	sep	#$20
  2660                        	longa	off
  2661 03:05FF: A9 80        	lda	#$80
  2662 03:0601: 87 01        	sta	[<R0]
  2663 03:0603: C2 20        	rep	#$20
  2664                        	longa	on
  2665 03:0605: E6 05        	inc	<L66+colorIndex_1
  2666 03:0607: D0 02        	bne	L86
  2667 03:0609: E6 07        	inc	<L66+colorIndex_1+2
  2668                        L86:
  2669                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2670                        	.line	425
  2671 03:060B: 18           	clc
  2672 03:060C: A9 00 20     	lda	#$2000
  2673 03:060F: 65 05        	adc	<L66+colorIndex_1
  2674 03:0611: 85 01        	sta	<R0
  2675 03:0613: A9 AF 00     	lda	#$af
  2676 03:0616: 65 07        	adc	<L66+colorIndex_1+2
  2677 03:0618: 85 03        	sta	<R0+2
  2678 03:061A: E2 20        	sep	#$20
  2679                        	longa	off
  2680 03:061C: A9 FF        	lda	#$ff
  2681 03:061E: 87 01        	sta	[<R0]
  2682 03:0620: C2 20        	rep	#$20
  2683                        	longa	on
  2684 03:0622: E6 05        	inc	<L66+colorIndex_1
  2685 03:0624: D0 02        	bne	L87
  2686 03:0626: E6 07        	inc	<L66+colorIndex_1+2
  2687                        L87:
  2688                        ;
  2689                        ;	//colorIndex = 5 * 4;
  2690                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  2691                        	.line	428
  2692 03:0628: 18           	clc
  2693 03:0629: A9 00 20     	lda	#$2000
  2694 03:062C: 65 05        	adc	<L66+colorIndex_1
  2695 03:062E: 85 01        	sta	<R0
  2696 03:0630: A9 AF 00     	lda	#$af
  2697 03:0633: 65 07        	adc	<L66+colorIndex_1+2
  2698 03:0635: 85 03        	sta	<R0+2
  2699 03:0637: E2 20        	sep	#$20
  2700                        	longa	off
  2701 03:0639: A9 80        	lda	#$80
  2702 03:063B: 87 01        	sta	[<R0]
  2703 03:063D: C2 20        	rep	#$20
  2704                        	longa	on
  2705 03:063F: E6 05        	inc	<L66+colorIndex_1
  Mon Dec  7 2020 11:19                                                Page 57


  2706 03:0641: D0 02        	bne	L88
  2707 03:0643: E6 07        	inc	<L66+colorIndex_1+2
  2708                        L88:
  2709                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  2710                        	.line	429
  2711 03:0645: 18           	clc
  2712 03:0646: A9 00 20     	lda	#$2000
  2713 03:0649: 65 05        	adc	<L66+colorIndex_1
  2714 03:064B: 85 01        	sta	<R0
  2715 03:064D: A9 AF 00     	lda	#$af
  2716 03:0650: 65 07        	adc	<L66+colorIndex_1+2
  2717 03:0652: 85 03        	sta	<R0+2
  2718 03:0654: E2 20        	sep	#$20
  2719                        	longa	off
  2720 03:0656: A9 80        	lda	#$80
  2721 03:0658: 87 01        	sta	[<R0]
  2722 03:065A: C2 20        	rep	#$20
  2723                        	longa	on
  2724 03:065C: E6 05        	inc	<L66+colorIndex_1
  2725 03:065E: D0 02        	bne	L89
  2726 03:0660: E6 07        	inc	<L66+colorIndex_1+2
  2727                        L89:
  2728                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2729                        	.line	430
  2730 03:0662: 18           	clc
  2731 03:0663: A9 00 20     	lda	#$2000
  2732 03:0666: 65 05        	adc	<L66+colorIndex_1
  2733 03:0668: 85 01        	sta	<R0
  2734 03:066A: A9 AF 00     	lda	#$af
  2735 03:066D: 65 07        	adc	<L66+colorIndex_1+2
  2736 03:066F: 85 03        	sta	<R0+2
  2737 03:0671: E2 20        	sep	#$20
  2738                        	longa	off
  2739 03:0673: A9 00        	lda	#$0
  2740 03:0675: 87 01        	sta	[<R0]
  2741 03:0677: C2 20        	rep	#$20
  2742                        	longa	on
  2743 03:0679: E6 05        	inc	<L66+colorIndex_1
  2744 03:067B: D0 02        	bne	L90
  2745 03:067D: E6 07        	inc	<L66+colorIndex_1+2
  2746                        L90:
  2747                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2748                        	.line	431
  2749 03:067F: 18           	clc
  2750 03:0680: A9 00 20     	lda	#$2000
  2751 03:0683: 65 05        	adc	<L66+colorIndex_1
  2752 03:0685: 85 01        	sta	<R0
  2753 03:0687: A9 AF 00     	lda	#$af
  2754 03:068A: 65 07        	adc	<L66+colorIndex_1+2
  2755 03:068C: 85 03        	sta	<R0+2
  2756 03:068E: E2 20        	sep	#$20
  2757                        	longa	off
  2758 03:0690: A9 FF        	lda	#$ff
  2759 03:0692: 87 01        	sta	[<R0]
  2760 03:0694: C2 20        	rep	#$20
  2761                        	longa	on
  2762 03:0696: E6 05        	inc	<L66+colorIndex_1
  2763 03:0698: D0 02        	bne	L91
  Mon Dec  7 2020 11:19                                                Page 58


  2764 03:069A: E6 07        	inc	<L66+colorIndex_1+2
  2765                        L91:
  2766                        ;
  2767                        ;	//colorIndex = 6 * 4;
  2768                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  2769                        	.line	434
  2770 03:069C: 18           	clc
  2771 03:069D: A9 00 20     	lda	#$2000
  2772 03:06A0: 65 05        	adc	<L66+colorIndex_1
  2773 03:06A2: 85 01        	sta	<R0
  2774 03:06A4: A9 AF 00     	lda	#$af
  2775 03:06A7: 65 07        	adc	<L66+colorIndex_1+2
  2776 03:06A9: 85 03        	sta	<R0+2
  2777 03:06AB: E2 20        	sep	#$20
  2778                        	longa	off
  2779 03:06AD: A9 80        	lda	#$80
  2780 03:06AF: 87 01        	sta	[<R0]
  2781 03:06B1: C2 20        	rep	#$20
  2782                        	longa	on
  2783 03:06B3: E6 05        	inc	<L66+colorIndex_1
  2784 03:06B5: D0 02        	bne	L92
  2785 03:06B7: E6 07        	inc	<L66+colorIndex_1+2
  2786                        L92:
  2787                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2788                        	.line	435
  2789 03:06B9: 18           	clc
  2790 03:06BA: A9 00 20     	lda	#$2000
  2791 03:06BD: 65 05        	adc	<L66+colorIndex_1
  2792 03:06BF: 85 01        	sta	<R0
  2793 03:06C1: A9 AF 00     	lda	#$af
  2794 03:06C4: 65 07        	adc	<L66+colorIndex_1+2
  2795 03:06C6: 85 03        	sta	<R0+2
  2796 03:06C8: E2 20        	sep	#$20
  2797                        	longa	off
  2798 03:06CA: A9 00        	lda	#$0
  2799 03:06CC: 87 01        	sta	[<R0]
  2800 03:06CE: C2 20        	rep	#$20
  2801                        	longa	on
  2802 03:06D0: E6 05        	inc	<L66+colorIndex_1
  2803 03:06D2: D0 02        	bne	L93
  2804 03:06D4: E6 07        	inc	<L66+colorIndex_1+2
  2805                        L93:
  2806                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  2807                        	.line	436
  2808 03:06D6: 18           	clc
  2809 03:06D7: A9 00 20     	lda	#$2000
  2810 03:06DA: 65 05        	adc	<L66+colorIndex_1
  2811 03:06DC: 85 01        	sta	<R0
  2812 03:06DE: A9 AF 00     	lda	#$af
  2813 03:06E1: 65 07        	adc	<L66+colorIndex_1+2
  2814 03:06E3: 85 03        	sta	<R0+2
  2815 03:06E5: E2 20        	sep	#$20
  2816                        	longa	off
  2817 03:06E7: A9 80        	lda	#$80
  2818 03:06E9: 87 01        	sta	[<R0]
  2819 03:06EB: C2 20        	rep	#$20
  2820                        	longa	on
  2821 03:06ED: E6 05        	inc	<L66+colorIndex_1
  Mon Dec  7 2020 11:19                                                Page 59


  2822 03:06EF: D0 02        	bne	L94
  2823 03:06F1: E6 07        	inc	<L66+colorIndex_1+2
  2824                        L94:
  2825                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2826                        	.line	437
  2827 03:06F3: 18           	clc
  2828 03:06F4: A9 00 20     	lda	#$2000
  2829 03:06F7: 65 05        	adc	<L66+colorIndex_1
  2830 03:06F9: 85 01        	sta	<R0
  2831 03:06FB: A9 AF 00     	lda	#$af
  2832 03:06FE: 65 07        	adc	<L66+colorIndex_1+2
  2833 03:0700: 85 03        	sta	<R0+2
  2834 03:0702: E2 20        	sep	#$20
  2835                        	longa	off
  2836 03:0704: A9 FF        	lda	#$ff
  2837 03:0706: 87 01        	sta	[<R0]
  2838 03:0708: C2 20        	rep	#$20
  2839                        	longa	on
  2840 03:070A: E6 05        	inc	<L66+colorIndex_1
  2841 03:070C: D0 02        	bne	L95
  2842 03:070E: E6 07        	inc	<L66+colorIndex_1+2
  2843                        L95:
  2844                        ;
  2845                        ;	//colorIndex = 7 * 4;
  2846                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  2847                        	.line	440
  2848 03:0710: 18           	clc
  2849 03:0711: A9 00 20     	lda	#$2000
  2850 03:0714: 65 05        	adc	<L66+colorIndex_1
  2851 03:0716: 85 01        	sta	<R0
  2852 03:0718: A9 AF 00     	lda	#$af
  2853 03:071B: 65 07        	adc	<L66+colorIndex_1+2
  2854 03:071D: 85 03        	sta	<R0+2
  2855 03:071F: E2 20        	sep	#$20
  2856                        	longa	off
  2857 03:0721: A9 00        	lda	#$0
  2858 03:0723: 87 01        	sta	[<R0]
  2859 03:0725: C2 20        	rep	#$20
  2860                        	longa	on
  2861 03:0727: E6 05        	inc	<L66+colorIndex_1
  2862 03:0729: D0 02        	bne	L96
  2863 03:072B: E6 07        	inc	<L66+colorIndex_1+2
  2864                        L96:
  2865                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x45;
  2866                        	.line	441
  2867 03:072D: 18           	clc
  2868 03:072E: A9 00 20     	lda	#$2000
  2869 03:0731: 65 05        	adc	<L66+colorIndex_1
  2870 03:0733: 85 01        	sta	<R0
  2871 03:0735: A9 AF 00     	lda	#$af
  2872 03:0738: 65 07        	adc	<L66+colorIndex_1+2
  2873 03:073A: 85 03        	sta	<R0+2
  2874 03:073C: E2 20        	sep	#$20
  2875                        	longa	off
  2876 03:073E: A9 45        	lda	#$45
  2877 03:0740: 87 01        	sta	[<R0]
  2878 03:0742: C2 20        	rep	#$20
  2879                        	longa	on
  Mon Dec  7 2020 11:19                                                Page 60


  2880 03:0744: E6 05        	inc	<L66+colorIndex_1
  2881 03:0746: D0 02        	bne	L97
  2882 03:0748: E6 07        	inc	<L66+colorIndex_1+2
  2883                        L97:
  2884                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2885                        	.line	442
  2886 03:074A: 18           	clc
  2887 03:074B: A9 00 20     	lda	#$2000
  2888 03:074E: 65 05        	adc	<L66+colorIndex_1
  2889 03:0750: 85 01        	sta	<R0
  2890 03:0752: A9 AF 00     	lda	#$af
  2891 03:0755: 65 07        	adc	<L66+colorIndex_1+2
  2892 03:0757: 85 03        	sta	<R0+2
  2893 03:0759: E2 20        	sep	#$20
  2894                        	longa	off
  2895 03:075B: A9 FF        	lda	#$ff
  2896 03:075D: 87 01        	sta	[<R0]
  2897 03:075F: C2 20        	rep	#$20
  2898                        	longa	on
  2899 03:0761: E6 05        	inc	<L66+colorIndex_1
  2900 03:0763: D0 02        	bne	L98
  2901 03:0765: E6 07        	inc	<L66+colorIndex_1+2
  2902                        L98:
  2903                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2904                        	.line	443
  2905 03:0767: 18           	clc
  2906 03:0768: A9 00 20     	lda	#$2000
  2907 03:076B: 65 05        	adc	<L66+colorIndex_1
  2908 03:076D: 85 01        	sta	<R0
  2909 03:076F: A9 AF 00     	lda	#$af
  2910 03:0772: 65 07        	adc	<L66+colorIndex_1+2
  2911 03:0774: 85 03        	sta	<R0+2
  2912 03:0776: E2 20        	sep	#$20
  2913                        	longa	off
  2914 03:0778: A9 FF        	lda	#$ff
  2915 03:077A: 87 01        	sta	[<R0]
  2916 03:077C: C2 20        	rep	#$20
  2917                        	longa	on
  2918 03:077E: E6 05        	inc	<L66+colorIndex_1
  2919 03:0780: D0 02        	bne	L99
  2920 03:0782: E6 07        	inc	<L66+colorIndex_1+2
  2921                        L99:
  2922                        ;
  2923                        ;	//colorIndex = 8 * 4;
  2924                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x13;
  2925                        	.line	446
  2926 03:0784: 18           	clc
  2927 03:0785: A9 00 20     	lda	#$2000
  2928 03:0788: 65 05        	adc	<L66+colorIndex_1
  2929 03:078A: 85 01        	sta	<R0
  2930 03:078C: A9 AF 00     	lda	#$af
  2931 03:078F: 65 07        	adc	<L66+colorIndex_1+2
  2932 03:0791: 85 03        	sta	<R0+2
  2933 03:0793: E2 20        	sep	#$20
  2934                        	longa	off
  2935 03:0795: A9 13        	lda	#$13
  2936 03:0797: 87 01        	sta	[<R0]
  2937 03:0799: C2 20        	rep	#$20
  Mon Dec  7 2020 11:19                                                Page 61


  2938                        	longa	on
  2939 03:079B: E6 05        	inc	<L66+colorIndex_1
  2940 03:079D: D0 02        	bne	L100
  2941 03:079F: E6 07        	inc	<L66+colorIndex_1+2
  2942                        L100:
  2943                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x45;
  2944                        	.line	447
  2945 03:07A1: 18           	clc
  2946 03:07A2: A9 00 20     	lda	#$2000
  2947 03:07A5: 65 05        	adc	<L66+colorIndex_1
  2948 03:07A7: 85 01        	sta	<R0
  2949 03:07A9: A9 AF 00     	lda	#$af
  2950 03:07AC: 65 07        	adc	<L66+colorIndex_1+2
  2951 03:07AE: 85 03        	sta	<R0+2
  2952 03:07B0: E2 20        	sep	#$20
  2953                        	longa	off
  2954 03:07B2: A9 45        	lda	#$45
  2955 03:07B4: 87 01        	sta	[<R0]
  2956 03:07B6: C2 20        	rep	#$20
  2957                        	longa	on
  2958 03:07B8: E6 05        	inc	<L66+colorIndex_1
  2959 03:07BA: D0 02        	bne	L101
  2960 03:07BC: E6 07        	inc	<L66+colorIndex_1+2
  2961                        L101:
  2962                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x8B;
  2963                        	.line	448
  2964 03:07BE: 18           	clc
  2965 03:07BF: A9 00 20     	lda	#$2000
  2966 03:07C2: 65 05        	adc	<L66+colorIndex_1
  2967 03:07C4: 85 01        	sta	<R0
  2968 03:07C6: A9 AF 00     	lda	#$af
  2969 03:07C9: 65 07        	adc	<L66+colorIndex_1+2
  2970 03:07CB: 85 03        	sta	<R0+2
  2971 03:07CD: E2 20        	sep	#$20
  2972                        	longa	off
  2973 03:07CF: A9 8B        	lda	#$8b
  2974 03:07D1: 87 01        	sta	[<R0]
  2975 03:07D3: C2 20        	rep	#$20
  2976                        	longa	on
  2977 03:07D5: E6 05        	inc	<L66+colorIndex_1
  2978 03:07D7: D0 02        	bne	L102
  2979 03:07D9: E6 07        	inc	<L66+colorIndex_1+2
  2980                        L102:
  2981                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  2982                        	.line	449
  2983 03:07DB: 18           	clc
  2984 03:07DC: A9 00 20     	lda	#$2000
  2985 03:07DF: 65 05        	adc	<L66+colorIndex_1
  2986 03:07E1: 85 01        	sta	<R0
  2987 03:07E3: A9 AF 00     	lda	#$af
  2988 03:07E6: 65 07        	adc	<L66+colorIndex_1+2
  2989 03:07E8: 85 03        	sta	<R0+2
  2990 03:07EA: E2 20        	sep	#$20
  2991                        	longa	off
  2992 03:07EC: A9 FF        	lda	#$ff
  2993 03:07EE: 87 01        	sta	[<R0]
  2994 03:07F0: C2 20        	rep	#$20
  2995                        	longa	on
  Mon Dec  7 2020 11:19                                                Page 62


  2996 03:07F2: E6 05        	inc	<L66+colorIndex_1
  2997 03:07F4: D0 02        	bne	L103
  2998 03:07F6: E6 07        	inc	<L66+colorIndex_1+2
  2999                        L103:
  3000                        ;
  3001                        ;	//colorIndex = 9 * 4;
  3002                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3003                        	.line	452
  3004 03:07F8: 18           	clc
  3005 03:07F9: A9 00 20     	lda	#$2000
  3006 03:07FC: 65 05        	adc	<L66+colorIndex_1
  3007 03:07FE: 85 01        	sta	<R0
  3008 03:0800: A9 AF 00     	lda	#$af
  3009 03:0803: 65 07        	adc	<L66+colorIndex_1+2
  3010 03:0805: 85 03        	sta	<R0+2
  3011 03:0807: E2 20        	sep	#$20
  3012                        	longa	off
  3013 03:0809: A9 00        	lda	#$0
  3014 03:080B: 87 01        	sta	[<R0]
  3015 03:080D: C2 20        	rep	#$20
  3016                        	longa	on
  3017 03:080F: E6 05        	inc	<L66+colorIndex_1
  3018 03:0811: D0 02        	bne	L104
  3019 03:0813: E6 07        	inc	<L66+colorIndex_1+2
  3020                        L104:
  3021                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3022                        	.line	453
  3023 03:0815: 18           	clc
  3024 03:0816: A9 00 20     	lda	#$2000
  3025 03:0819: 65 05        	adc	<L66+colorIndex_1
  3026 03:081B: 85 01        	sta	<R0
  3027 03:081D: A9 AF 00     	lda	#$af
  3028 03:0820: 65 07        	adc	<L66+colorIndex_1+2
  3029 03:0822: 85 03        	sta	<R0+2
  3030 03:0824: E2 20        	sep	#$20
  3031                        	longa	off
  3032 03:0826: A9 00        	lda	#$0
  3033 03:0828: 87 01        	sta	[<R0]
  3034 03:082A: C2 20        	rep	#$20
  3035                        	longa	on
  3036 03:082C: E6 05        	inc	<L66+colorIndex_1
  3037 03:082E: D0 02        	bne	L105
  3038 03:0830: E6 07        	inc	<L66+colorIndex_1+2
  3039                        L105:
  3040                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x20;
  3041                        	.line	454
  3042 03:0832: 18           	clc
  3043 03:0833: A9 00 20     	lda	#$2000
  3044 03:0836: 65 05        	adc	<L66+colorIndex_1
  3045 03:0838: 85 01        	sta	<R0
  3046 03:083A: A9 AF 00     	lda	#$af
  3047 03:083D: 65 07        	adc	<L66+colorIndex_1+2
  3048 03:083F: 85 03        	sta	<R0+2
  3049 03:0841: E2 20        	sep	#$20
  3050                        	longa	off
  3051 03:0843: A9 20        	lda	#$20
  3052 03:0845: 87 01        	sta	[<R0]
  3053 03:0847: C2 20        	rep	#$20
  Mon Dec  7 2020 11:19                                                Page 63


  3054                        	longa	on
  3055 03:0849: E6 05        	inc	<L66+colorIndex_1
  3056 03:084B: D0 02        	bne	L106
  3057 03:084D: E6 07        	inc	<L66+colorIndex_1+2
  3058                        L106:
  3059                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  3060                        	.line	455
  3061 03:084F: 18           	clc
  3062 03:0850: A9 00 20     	lda	#$2000
  3063 03:0853: 65 05        	adc	<L66+colorIndex_1
  3064 03:0855: 85 01        	sta	<R0
  3065 03:0857: A9 AF 00     	lda	#$af
  3066 03:085A: 65 07        	adc	<L66+colorIndex_1+2
  3067 03:085C: 85 03        	sta	<R0+2
  3068 03:085E: E2 20        	sep	#$20
  3069                        	longa	off
  3070 03:0860: A9 FF        	lda	#$ff
  3071 03:0862: 87 01        	sta	[<R0]
  3072 03:0864: C2 20        	rep	#$20
  3073                        	longa	on
  3074 03:0866: E6 05        	inc	<L66+colorIndex_1
  3075 03:0868: D0 02        	bne	L107
  3076 03:086A: E6 07        	inc	<L66+colorIndex_1+2
  3077                        L107:
  3078                        ;
  3079                        ;	//colorIndex = 10 * 4;
  3080                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3081                        	.line	458
  3082 03:086C: 18           	clc
  3083 03:086D: A9 00 20     	lda	#$2000
  3084 03:0870: 65 05        	adc	<L66+colorIndex_1
  3085 03:0872: 85 01        	sta	<R0
  3086 03:0874: A9 AF 00     	lda	#$af
  3087 03:0877: 65 07        	adc	<L66+colorIndex_1+2
  3088 03:0879: 85 03        	sta	<R0+2
  3089 03:087B: E2 20        	sep	#$20
  3090                        	longa	off
  3091 03:087D: A9 00        	lda	#$0
  3092 03:087F: 87 01        	sta	[<R0]
  3093 03:0881: C2 20        	rep	#$20
  3094                        	longa	on
  3095 03:0883: E6 05        	inc	<L66+colorIndex_1
  3096 03:0885: D0 02        	bne	L108
  3097 03:0887: E6 07        	inc	<L66+colorIndex_1+2
  3098                        L108:
  3099                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x20;
  3100                        	.line	459
  3101 03:0889: 18           	clc
  3102 03:088A: A9 00 20     	lda	#$2000
  3103 03:088D: 65 05        	adc	<L66+colorIndex_1
  3104 03:088F: 85 01        	sta	<R0
  3105 03:0891: A9 AF 00     	lda	#$af
  3106 03:0894: 65 07        	adc	<L66+colorIndex_1+2
  3107 03:0896: 85 03        	sta	<R0+2
  3108 03:0898: E2 20        	sep	#$20
  3109                        	longa	off
  3110 03:089A: A9 20        	lda	#$20
  3111 03:089C: 87 01        	sta	[<R0]
  Mon Dec  7 2020 11:19                                                Page 64


  3112 03:089E: C2 20        	rep	#$20
  3113                        	longa	on
  3114 03:08A0: E6 05        	inc	<L66+colorIndex_1
  3115 03:08A2: D0 02        	bne	L109
  3116 03:08A4: E6 07        	inc	<L66+colorIndex_1+2
  3117                        L109:
  3118                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3119                        	.line	460
  3120 03:08A6: 18           	clc
  3121 03:08A7: A9 00 20     	lda	#$2000
  3122 03:08AA: 65 05        	adc	<L66+colorIndex_1
  3123 03:08AC: 85 01        	sta	<R0
  3124 03:08AE: A9 AF 00     	lda	#$af
  3125 03:08B1: 65 07        	adc	<L66+colorIndex_1+2
  3126 03:08B3: 85 03        	sta	<R0+2
  3127 03:08B5: E2 20        	sep	#$20
  3128                        	longa	off
  3129 03:08B7: A9 00        	lda	#$0
  3130 03:08B9: 87 01        	sta	[<R0]
  3131 03:08BB: C2 20        	rep	#$20
  3132                        	longa	on
  3133 03:08BD: E6 05        	inc	<L66+colorIndex_1
  3134 03:08BF: D0 02        	bne	L110
  3135 03:08C1: E6 07        	inc	<L66+colorIndex_1+2
  3136                        L110:
  3137                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  3138                        	.line	461
  3139 03:08C3: 18           	clc
  3140 03:08C4: A9 00 20     	lda	#$2000
  3141 03:08C7: 65 05        	adc	<L66+colorIndex_1
  3142 03:08C9: 85 01        	sta	<R0
  3143 03:08CB: A9 AF 00     	lda	#$af
  3144 03:08CE: 65 07        	adc	<L66+colorIndex_1+2
  3145 03:08D0: 85 03        	sta	<R0+2
  3146 03:08D2: E2 20        	sep	#$20
  3147                        	longa	off
  3148 03:08D4: A9 FF        	lda	#$ff
  3149 03:08D6: 87 01        	sta	[<R0]
  3150 03:08D8: C2 20        	rep	#$20
  3151                        	longa	on
  3152 03:08DA: E6 05        	inc	<L66+colorIndex_1
  3153 03:08DC: D0 02        	bne	L111
  3154 03:08DE: E6 07        	inc	<L66+colorIndex_1+2
  3155                        L111:
  3156                        ;
  3157                        ;	//colorIndex = 11 * 4;
  3158                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x20;
  3159                        	.line	464
  3160 03:08E0: 18           	clc
  3161 03:08E1: A9 00 20     	lda	#$2000
  3162 03:08E4: 65 05        	adc	<L66+colorIndex_1
  3163 03:08E6: 85 01        	sta	<R0
  3164 03:08E8: A9 AF 00     	lda	#$af
  3165 03:08EB: 65 07        	adc	<L66+colorIndex_1+2
  3166 03:08ED: 85 03        	sta	<R0+2
  3167 03:08EF: E2 20        	sep	#$20
  3168                        	longa	off
  3169 03:08F1: A9 20        	lda	#$20
  Mon Dec  7 2020 11:19                                                Page 65


  3170 03:08F3: 87 01        	sta	[<R0]
  3171 03:08F5: C2 20        	rep	#$20
  3172                        	longa	on
  3173 03:08F7: E6 05        	inc	<L66+colorIndex_1
  3174 03:08F9: D0 02        	bne	L112
  3175 03:08FB: E6 07        	inc	<L66+colorIndex_1+2
  3176                        L112:
  3177                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3178                        	.line	465
  3179 03:08FD: 18           	clc
  3180 03:08FE: A9 00 20     	lda	#$2000
  3181 03:0901: 65 05        	adc	<L66+colorIndex_1
  3182 03:0903: 85 01        	sta	<R0
  3183 03:0905: A9 AF 00     	lda	#$af
  3184 03:0908: 65 07        	adc	<L66+colorIndex_1+2
  3185 03:090A: 85 03        	sta	<R0+2
  3186 03:090C: E2 20        	sep	#$20
  3187                        	longa	off
  3188 03:090E: A9 00        	lda	#$0
  3189 03:0910: 87 01        	sta	[<R0]
  3190 03:0912: C2 20        	rep	#$20
  3191                        	longa	on
  3192 03:0914: E6 05        	inc	<L66+colorIndex_1
  3193 03:0916: D0 02        	bne	L113
  3194 03:0918: E6 07        	inc	<L66+colorIndex_1+2
  3195                        L113:
  3196                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3197                        	.line	466
  3198 03:091A: 18           	clc
  3199 03:091B: A9 00 20     	lda	#$2000
  3200 03:091E: 65 05        	adc	<L66+colorIndex_1
  3201 03:0920: 85 01        	sta	<R0
  3202 03:0922: A9 AF 00     	lda	#$af
  3203 03:0925: 65 07        	adc	<L66+colorIndex_1+2
  3204 03:0927: 85 03        	sta	<R0+2
  3205 03:0929: E2 20        	sep	#$20
  3206                        	longa	off
  3207 03:092B: A9 00        	lda	#$0
  3208 03:092D: 87 01        	sta	[<R0]
  3209 03:092F: C2 20        	rep	#$20
  3210                        	longa	on
  3211 03:0931: E6 05        	inc	<L66+colorIndex_1
  3212 03:0933: D0 02        	bne	L114
  3213 03:0935: E6 07        	inc	<L66+colorIndex_1+2
  3214                        L114:
  3215                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  3216                        	.line	467
  3217 03:0937: 18           	clc
  3218 03:0938: A9 00 20     	lda	#$2000
  3219 03:093B: 65 05        	adc	<L66+colorIndex_1
  3220 03:093D: 85 01        	sta	<R0
  3221 03:093F: A9 AF 00     	lda	#$af
  3222 03:0942: 65 07        	adc	<L66+colorIndex_1+2
  3223 03:0944: 85 03        	sta	<R0+2
  3224 03:0946: E2 20        	sep	#$20
  3225                        	longa	off
  3226 03:0948: A9 FF        	lda	#$ff
  3227 03:094A: 87 01        	sta	[<R0]
  Mon Dec  7 2020 11:19                                                Page 66


  3228 03:094C: C2 20        	rep	#$20
  3229                        	longa	on
  3230 03:094E: E6 05        	inc	<L66+colorIndex_1
  3231 03:0950: D0 02        	bne	L115
  3232 03:0952: E6 07        	inc	<L66+colorIndex_1+2
  3233                        L115:
  3234                        ;
  3235                        ;	//colorIndex = 12 * 4;
  3236                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3237                        	.line	470
  3238 03:0954: 18           	clc
  3239 03:0955: A9 00 20     	lda	#$2000
  3240 03:0958: 65 05        	adc	<L66+colorIndex_1
  3241 03:095A: 85 01        	sta	<R0
  3242 03:095C: A9 AF 00     	lda	#$af
  3243 03:095F: 65 07        	adc	<L66+colorIndex_1+2
  3244 03:0961: 85 03        	sta	<R0+2
  3245 03:0963: E2 20        	sep	#$20
  3246                        	longa	off
  3247 03:0965: A9 00        	lda	#$0
  3248 03:0967: 87 01        	sta	[<R0]
  3249 03:0969: C2 20        	rep	#$20
  3250                        	longa	on
  3251 03:096B: E6 05        	inc	<L66+colorIndex_1
  3252 03:096D: D0 02        	bne	L116
  3253 03:096F: E6 07        	inc	<L66+colorIndex_1+2
  3254                        L116:
  3255                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3256                        	.line	471
  3257 03:0971: 18           	clc
  3258 03:0972: A9 00 20     	lda	#$2000
  3259 03:0975: 65 05        	adc	<L66+colorIndex_1
  3260 03:0977: 85 01        	sta	<R0
  3261 03:0979: A9 AF 00     	lda	#$af
  3262 03:097C: 65 07        	adc	<L66+colorIndex_1+2
  3263 03:097E: 85 03        	sta	<R0+2
  3264 03:0980: E2 20        	sep	#$20
  3265                        	longa	off
  3266 03:0982: A9 00        	lda	#$0
  3267 03:0984: 87 01        	sta	[<R0]
  3268 03:0986: C2 20        	rep	#$20
  3269                        	longa	on
  3270 03:0988: E6 05        	inc	<L66+colorIndex_1
  3271 03:098A: D0 02        	bne	L117
  3272 03:098C: E6 07        	inc	<L66+colorIndex_1+2
  3273                        L117:
  3274                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  3275                        	.line	472
  3276 03:098E: 18           	clc
  3277 03:098F: A9 00 20     	lda	#$2000
  3278 03:0992: 65 05        	adc	<L66+colorIndex_1
  3279 03:0994: 85 01        	sta	<R0
  3280 03:0996: A9 AF 00     	lda	#$af
  3281 03:0999: 65 07        	adc	<L66+colorIndex_1+2
  3282 03:099B: 85 03        	sta	<R0+2
  3283 03:099D: E2 20        	sep	#$20
  3284                        	longa	off
  3285 03:099F: A9 00        	lda	#$0
  Mon Dec  7 2020 11:19                                                Page 67


  3286 03:09A1: 87 01        	sta	[<R0]
  3287 03:09A3: C2 20        	rep	#$20
  3288                        	longa	on
  3289 03:09A5: E6 05        	inc	<L66+colorIndex_1
  3290 03:09A7: D0 02        	bne	L118
  3291 03:09A9: E6 07        	inc	<L66+colorIndex_1+2
  3292                        L118:
  3293                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  3294                        	.line	473
  3295 03:09AB: 18           	clc
  3296 03:09AC: A9 00 20     	lda	#$2000
  3297 03:09AF: 65 05        	adc	<L66+colorIndex_1
  3298 03:09B1: 85 01        	sta	<R0
  3299 03:09B3: A9 AF 00     	lda	#$af
  3300 03:09B6: 65 07        	adc	<L66+colorIndex_1+2
  3301 03:09B8: 85 03        	sta	<R0+2
  3302 03:09BA: E2 20        	sep	#$20
  3303                        	longa	off
  3304 03:09BC: A9 FF        	lda	#$ff
  3305 03:09BE: 87 01        	sta	[<R0]
  3306 03:09C0: C2 20        	rep	#$20
  3307                        	longa	on
  3308 03:09C2: E6 05        	inc	<L66+colorIndex_1
  3309 03:09C4: D0 02        	bne	L119
  3310 03:09C6: E6 07        	inc	<L66+colorIndex_1+2
  3311                        L119:
  3312                        ;
  3313                        ;	//colorIndex = 13 * 4;
  3314                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x50;
  3315                        	.line	476
  3316 03:09C8: 18           	clc
  3317 03:09C9: A9 00 20     	lda	#$2000
  3318 03:09CC: 65 05        	adc	<L66+colorIndex_1
  3319 03:09CE: 85 01        	sta	<R0
  3320 03:09D0: A9 AF 00     	lda	#$af
  3321 03:09D3: 65 07        	adc	<L66+colorIndex_1+2
  3322 03:09D5: 85 03        	sta	<R0+2
  3323 03:09D7: E2 20        	sep	#$20
  3324                        	longa	off
  3325 03:09D9: A9 50        	lda	#$50
  3326 03:09DB: 87 01        	sta	[<R0]
  3327 03:09DD: C2 20        	rep	#$20
  3328                        	longa	on
  3329 03:09DF: E6 05        	inc	<L66+colorIndex_1
  3330 03:09E1: D0 02        	bne	L120
  3331 03:09E3: E6 07        	inc	<L66+colorIndex_1+2
  3332                        L120:
  3333                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x50;
  3334                        	.line	477
  3335 03:09E5: 18           	clc
  3336 03:09E6: A9 00 20     	lda	#$2000
  3337 03:09E9: 65 05        	adc	<L66+colorIndex_1
  3338 03:09EB: 85 01        	sta	<R0
  3339 03:09ED: A9 AF 00     	lda	#$af
  3340 03:09F0: 65 07        	adc	<L66+colorIndex_1+2
  3341 03:09F2: 85 03        	sta	<R0+2
  3342 03:09F4: E2 20        	sep	#$20
  3343                        	longa	off
  Mon Dec  7 2020 11:19                                                Page 68


  3344 03:09F6: A9 50        	lda	#$50
  3345 03:09F8: 87 01        	sta	[<R0]
  3346 03:09FA: C2 20        	rep	#$20
  3347                        	longa	on
  3348 03:09FC: E6 05        	inc	<L66+colorIndex_1
  3349 03:09FE: D0 02        	bne	L121
  3350 03:0A00: E6 07        	inc	<L66+colorIndex_1+2
  3351                        L121:
  3352                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x50;
  3353                        	.line	478
  3354 03:0A02: 18           	clc
  3355 03:0A03: A9 00 20     	lda	#$2000
  3356 03:0A06: 65 05        	adc	<L66+colorIndex_1
  3357 03:0A08: 85 01        	sta	<R0
  3358 03:0A0A: A9 AF 00     	lda	#$af
  3359 03:0A0D: 65 07        	adc	<L66+colorIndex_1+2
  3360 03:0A0F: 85 03        	sta	<R0+2
  3361 03:0A11: E2 20        	sep	#$20
  3362                        	longa	off
  3363 03:0A13: A9 50        	lda	#$50
  3364 03:0A15: 87 01        	sta	[<R0]
  3365 03:0A17: C2 20        	rep	#$20
  3366                        	longa	on
  3367 03:0A19: E6 05        	inc	<L66+colorIndex_1
  3368 03:0A1B: D0 02        	bne	L122
  3369 03:0A1D: E6 07        	inc	<L66+colorIndex_1+2
  3370                        L122:
  3371                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  3372                        	.line	479
  3373 03:0A1F: 18           	clc
  3374 03:0A20: A9 00 20     	lda	#$2000
  3375 03:0A23: 65 05        	adc	<L66+colorIndex_1
  3376 03:0A25: 85 01        	sta	<R0
  3377 03:0A27: A9 AF 00     	lda	#$af
  3378 03:0A2A: 65 07        	adc	<L66+colorIndex_1+2
  3379 03:0A2C: 85 03        	sta	<R0+2
  3380 03:0A2E: E2 20        	sep	#$20
  3381                        	longa	off
  3382 03:0A30: A9 FF        	lda	#$ff
  3383 03:0A32: 87 01        	sta	[<R0]
  3384 03:0A34: C2 20        	rep	#$20
  3385                        	longa	on
  3386 03:0A36: E6 05        	inc	<L66+colorIndex_1
  3387 03:0A38: D0 02        	bne	L123
  3388 03:0A3A: E6 07        	inc	<L66+colorIndex_1+2
  3389                        L123:
  3390                        ;
  3391                        ;	//colorIndex = 14 * 4;
  3392                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x40;
  3393                        	.line	482
  3394 03:0A3C: 18           	clc
  3395 03:0A3D: A9 00 20     	lda	#$2000
  3396 03:0A40: 65 05        	adc	<L66+colorIndex_1
  3397 03:0A42: 85 01        	sta	<R0
  3398 03:0A44: A9 AF 00     	lda	#$af
  3399 03:0A47: 65 07        	adc	<L66+colorIndex_1+2
  3400 03:0A49: 85 03        	sta	<R0+2
  3401 03:0A4B: E2 20        	sep	#$20
  Mon Dec  7 2020 11:19                                                Page 69


  3402                        	longa	off
  3403 03:0A4D: A9 40        	lda	#$40
  3404 03:0A4F: 87 01        	sta	[<R0]
  3405 03:0A51: C2 20        	rep	#$20
  3406                        	longa	on
  3407 03:0A53: E6 05        	inc	<L66+colorIndex_1
  3408 03:0A55: D0 02        	bne	L124
  3409 03:0A57: E6 07        	inc	<L66+colorIndex_1+2
  3410                        L124:
  3411                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x40;
  3412                        	.line	483
  3413 03:0A59: 18           	clc
  3414 03:0A5A: A9 00 20     	lda	#$2000
  3415 03:0A5D: 65 05        	adc	<L66+colorIndex_1
  3416 03:0A5F: 85 01        	sta	<R0
  3417 03:0A61: A9 AF 00     	lda	#$af
  3418 03:0A64: 65 07        	adc	<L66+colorIndex_1+2
  3419 03:0A66: 85 03        	sta	<R0+2
  3420 03:0A68: E2 20        	sep	#$20
  3421                        	longa	off
  3422 03:0A6A: A9 40        	lda	#$40
  3423 03:0A6C: 87 01        	sta	[<R0]
  3424 03:0A6E: C2 20        	rep	#$20
  3425                        	longa	on
  3426 03:0A70: E6 05        	inc	<L66+colorIndex_1
  3427 03:0A72: D0 02        	bne	L125
  3428 03:0A74: E6 07        	inc	<L66+colorIndex_1+2
  3429                        L125:
  3430                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x40;
  3431                        	.line	484
  3432 03:0A76: 18           	clc
  3433 03:0A77: A9 00 20     	lda	#$2000
  3434 03:0A7A: 65 05        	adc	<L66+colorIndex_1
  3435 03:0A7C: 85 01        	sta	<R0
  3436 03:0A7E: A9 AF 00     	lda	#$af
  3437 03:0A81: 65 07        	adc	<L66+colorIndex_1+2
  3438 03:0A83: 85 03        	sta	<R0+2
  3439 03:0A85: E2 20        	sep	#$20
  3440                        	longa	off
  3441 03:0A87: A9 40        	lda	#$40
  3442 03:0A89: 87 01        	sta	[<R0]
  3443 03:0A8B: C2 20        	rep	#$20
  3444                        	longa	on
  3445 03:0A8D: E6 05        	inc	<L66+colorIndex_1
  3446 03:0A8F: D0 02        	bne	L126
  3447 03:0A91: E6 07        	inc	<L66+colorIndex_1+2
  3448                        L126:
  3449                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  3450                        	.line	485
  3451 03:0A93: 18           	clc
  3452 03:0A94: A9 00 20     	lda	#$2000
  3453 03:0A97: 65 05        	adc	<L66+colorIndex_1
  3454 03:0A99: 85 01        	sta	<R0
  3455 03:0A9B: A9 AF 00     	lda	#$af
  3456 03:0A9E: 65 07        	adc	<L66+colorIndex_1+2
  3457 03:0AA0: 85 03        	sta	<R0+2
  3458 03:0AA2: E2 20        	sep	#$20
  3459                        	longa	off
  Mon Dec  7 2020 11:19                                                Page 70


  3460 03:0AA4: A9 FF        	lda	#$ff
  3461 03:0AA6: 87 01        	sta	[<R0]
  3462 03:0AA8: C2 20        	rep	#$20
  3463                        	longa	on
  3464 03:0AAA: E6 05        	inc	<L66+colorIndex_1
  3465 03:0AAC: D0 02        	bne	L127
  3466 03:0AAE: E6 07        	inc	<L66+colorIndex_1+2
  3467                        L127:
  3468                        ;
  3469                        ;	//colorIndex = 15 * 4;
  3470                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  3471                        	.line	488
  3472 03:0AB0: 18           	clc
  3473 03:0AB1: A9 00 20     	lda	#$2000
  3474 03:0AB4: 65 05        	adc	<L66+colorIndex_1
  3475 03:0AB6: 85 01        	sta	<R0
  3476 03:0AB8: A9 AF 00     	lda	#$af
  3477 03:0ABB: 65 07        	adc	<L66+colorIndex_1+2
  3478 03:0ABD: 85 03        	sta	<R0+2
  3479 03:0ABF: E2 20        	sep	#$20
  3480                        	longa	off
  3481 03:0AC1: A9 FF        	lda	#$ff
  3482 03:0AC3: 87 01        	sta	[<R0]
  3483 03:0AC5: C2 20        	rep	#$20
  3484                        	longa	on
  3485 03:0AC7: E6 05        	inc	<L66+colorIndex_1
  3486 03:0AC9: D0 02        	bne	L128
  3487 03:0ACB: E6 07        	inc	<L66+colorIndex_1+2
  3488                        L128:
  3489                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  3490                        	.line	489
  3491 03:0ACD: 18           	clc
  3492 03:0ACE: A9 00 20     	lda	#$2000
  3493 03:0AD1: 65 05        	adc	<L66+colorIndex_1
  3494 03:0AD3: 85 01        	sta	<R0
  3495 03:0AD5: A9 AF 00     	lda	#$af
  3496 03:0AD8: 65 07        	adc	<L66+colorIndex_1+2
  3497 03:0ADA: 85 03        	sta	<R0+2
  3498 03:0ADC: E2 20        	sep	#$20
  3499                        	longa	off
  3500 03:0ADE: A9 FF        	lda	#$ff
  3501 03:0AE0: 87 01        	sta	[<R0]
  3502 03:0AE2: C2 20        	rep	#$20
  3503                        	longa	on
  3504 03:0AE4: E6 05        	inc	<L66+colorIndex_1
  3505 03:0AE6: D0 02        	bne	L129
  3506 03:0AE8: E6 07        	inc	<L66+colorIndex_1+2
  3507                        L129:
  3508                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  3509                        	.line	490
  3510 03:0AEA: 18           	clc
  3511 03:0AEB: A9 00 20     	lda	#$2000
  3512 03:0AEE: 65 05        	adc	<L66+colorIndex_1
  3513 03:0AF0: 85 01        	sta	<R0
  3514 03:0AF2: A9 AF 00     	lda	#$af
  3515 03:0AF5: 65 07        	adc	<L66+colorIndex_1+2
  3516 03:0AF7: 85 03        	sta	<R0+2
  3517 03:0AF9: E2 20        	sep	#$20
  Mon Dec  7 2020 11:19                                                Page 71


  3518                        	longa	off
  3519 03:0AFB: A9 FF        	lda	#$ff
  3520 03:0AFD: 87 01        	sta	[<R0]
  3521 03:0AFF: C2 20        	rep	#$20
  3522                        	longa	on
  3523 03:0B01: E6 05        	inc	<L66+colorIndex_1
  3524 03:0B03: D0 02        	bne	L130
  3525 03:0B05: E6 07        	inc	<L66+colorIndex_1+2
  3526                        L130:
  3527                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  3528                        	.line	491
  3529 03:0B07: 18           	clc
  3530 03:0B08: A9 00 20     	lda	#$2000
  3531 03:0B0B: 65 05        	adc	<L66+colorIndex_1
  3532 03:0B0D: 85 01        	sta	<R0
  3533 03:0B0F: A9 AF 00     	lda	#$af
  3534 03:0B12: 65 07        	adc	<L66+colorIndex_1+2
  3535 03:0B14: 85 03        	sta	<R0+2
  3536 03:0B16: E2 20        	sep	#$20
  3537                        	longa	off
  3538 03:0B18: A9 FF        	lda	#$ff
  3539 03:0B1A: 87 01        	sta	[<R0]
  3540 03:0B1C: C2 20        	rep	#$20
  3541                        	longa	on
  3542 03:0B1E: E6 05        	inc	<L66+colorIndex_1
  3543 03:0B20: D0 02        	bne	L131
  3544 03:0B22: E6 07        	inc	<L66+colorIndex_1+2
  3545                        L131:
  3546                        ;
  3547                        ;
  3548                        ;	memset(&_k_currentPalatte,0,sizeof(CUR_PALETTE_M
                    AP));
  3549                        	.line	494
  3550 03:0B24: F4 32 00     	pea	#<$32
  3551 03:0B27: F4 00 00     	pea	#<$0
  3552 03:0B2A: A9 xx xx     	lda	#<~~_k_currentPalatte
  3553 03:0B2D: 85 01        	sta	<R0
  3554                        	xref	_BEG_DATA
  3555 03:0B2F: A9 xx xx     	lda	#_BEG_DATA>>16
  3556 03:0B32: 85 03        	sta	<R0+2
  3557 03:0B34: D4 03        	pei	<R0+2
  3558 03:0B36: D4 01        	pei	<R0
  3559 03:0B38: 22 xx xx xx  	jsl	~~memset
  3560                        ;
  3561                        ;	_k_currentPalatte.CUR_WINDOWFRAME = 0;
  3562                        	.line	496
  3563 03:0B3C: 9C xx xx     	stz	|~~_k_currentPalatte+10
  3564                        ;	_k_currentPalatte.CUR_DESKTOP = 14;
  3565                        	.line	497
  3566 03:0B3F: A9 0E 00     	lda	#$e
  3567 03:0B42: 8D xx xx     	sta	|~~_k_currentPalatte
  3568                        ;	_k_currentPalatte.CUR_HIGHLIGHT_COLOR = 8;
  3569                        	.line	498
  3570 03:0B45: A9 08 00     	lda	#$8
  3571 03:0B48: 8D xx xx     	sta	|~~_k_currentPalatte+8
  3572                        ;	_k_currentPalatte.CUR_SELECTED_FONT = 11;
  3573                        	.line	499
  3574 03:0B4B: A9 0B 00     	lda	#$b
  Mon Dec  7 2020 11:19                                                Page 72


  3575 03:0B4E: 8D xx xx     	sta	|~~_k_currentPalatte+6
  3576                        ;	_k_currentPalatte.CUR_GADGET = _k_currentPalatte
                    .CUR_WINDOWSHADOW = 12;
  3577                        	.line	500
  3578 03:0B51: A9 0C 00     	lda	#$c
  3579 03:0B54: 8D xx xx     	sta	|~~_k_currentPalatte+14
  3580 03:0B57: A9 0C 00     	lda	#$c
  3581 03:0B5A: 8D xx xx     	sta	|~~_k_currentPalatte+18
  3582                        ;	_k_currentPalatte.CUR_BACKGROUND = 13;
  3583                        	.line	501
  3584 03:0B5D: A9 0D 00     	lda	#$d
  3585 03:0B60: 8D xx xx     	sta	|~~_k_currentPalatte+2
  3586                        ;	_k_currentPalatte.CUR_FONT = 14;
  3587                        	.line	502
  3588 03:0B63: A9 0E 00     	lda	#$e
  3589 03:0B66: 8D xx xx     	sta	|~~_k_currentPalatte+4
  3590                        ;	_k_currentPalatte.CUR_WINDOWBORDER = _k_currentP
                    alatte.CUR_MENU = 15;
  3591                        	.line	503
  3592 03:0B69: A9 0F 00     	lda	#$f
  3593 03:0B6C: 8D xx xx     	sta	|~~_k_currentPalatte+16
  3594 03:0B6F: A9 0F 00     	lda	#$f
  3595 03:0B72: 8D xx xx     	sta	|~~_k_currentPalatte+12
  3596                        ;
  3597                        ;	for(colorIndex=0;colorIndex<15;colorIndex++)
  3598                        	.line	505
  3599 03:0B75: 64 05        	stz	<L66+colorIndex_1
  3600 03:0B77: 64 07        	stz	<L66+colorIndex_1+2
  3601                        L10006:
  3602                        ;	{
  3603                        	.line	506
  3604                        ;		_k_currentPalatte.CUR_COLOR[colorIndex] 
                    = colorIndex;
  3605                        	.line	507
  3606 03:0B79: A5 05        	lda	<L66+colorIndex_1
  3607 03:0B7B: 0A           	asl	A
  3608 03:0B7C: 85 01        	sta	<R0
  3609 03:0B7E: A5 05        	lda	<L66+colorIndex_1
  3610 03:0B80: A6 01        	ldx	<R0
  3611 03:0B82: 9D xx xx     	sta	|~~_k_currentPalatte+20,X
  3612                        ;	}
  3613                        	.line	508
  3614                        L10004:
  3615 03:0B85: E6 05        	inc	<L66+colorIndex_1
  3616 03:0B87: D0 02        	bne	L132
  3617 03:0B89: E6 07        	inc	<L66+colorIndex_1+2
  3618                        L132:
  3619 03:0B8B: A5 05        	lda	<L66+colorIndex_1
  3620 03:0B8D: C9 0F 00     	cmp	#<$f
  3621 03:0B90: A5 07        	lda	<L66+colorIndex_1+2
  3622 03:0B92: E9 00 00     	sbc	#^$f
  3623 03:0B95: B0 03        	bcs	L133
  3624 03:0B97: 82 DF FF     	brl	L10006
  3625                        L133:
  3626                        L10005:
  3627                        ;
  3628                        ;
  3629                        ;}
  Mon Dec  7 2020 11:19                                                Page 73


  3630                        	.line	511
  3631                        L134:
  3632 03:0B9A: 2B           	pld
  3633 03:0B9B: 3B           	tsc
  3634 03:0B9C: 18           	clc
  3635 03:0B9D: 69 08 00     	adc	#L65
  3636 03:0BA0: 1B           	tcs
  3637 03:0BA1: 6B           	rtl
  3638                        	.endblock	511
  3639             00000008   L65	equ	8
  3640             00000005   L66	equ	5
  3641 03:0BA2:              	ends
  3642                        	efunc
  3643                        	.endfunc	511,5,8
  3644                        	.line	511
  3645                        ;
  3646                        ;void defineGrayPalette(void)
  3647                        ;{
  3648                        	.line	513
  3649                        	.line	514
  3650                        	GUI
  3651                        	xdef	~~defineGrayPalette
  3652                        	func
  3653                        	.function	514
  3654                        ~~defineGrayPalette:
  3655                        	longa	on
  3656                        	longi	on
  3657 03:0BA2: 3B           	tsc
  3658 03:0BA3: 38           	sec
  3659 03:0BA4: E9 1D 00     	sbc	#L135
  3660 03:0BA7: 1B           	tcs
  3661 03:0BA8: 0B           	phd
  3662 03:0BA9: 5B           	tcd
  3663                        	.block	514
  3664                        ;	unsigned long colorIndex = 0;
  3665                        ;	int colorShade = 0;
  3666                        ;	char color[] = {0x00,0x11,0x22,0x33,0x44,0x55,0x
                    66,0x77,0x88,0x99,0xAA,0xBB,0xCC,0xDD,0xFF};
  3667                        	data
  3668                        L138:
  3669 00:0772: 00 11 22 33  	db	$0,$11,$22,$33,$44,$55,$66,$77,$88,$99
       00:0776: 44 55 66 77 
       00:077A: 88 99 
  3670 00:077C: AA BB CC DD  	db	$AA,$BB,$CC,$DD,$FF
       00:0780: FF 
  3671 00:0781:              	ends
  3672                        ;	
  3673                        ;	for(colorIndex = 0;colorIndex<60;colorIndex+=4)
  3674             00000000   colorIndex_1	set	0
  3675             00000004   colorShade_1	set	4
  3676             00000006   color_1	set	6
  3677                        	.sym	colorIndex,0,18,1,32
  3678                        	.sym	colorShade,4,5,1,16
  3679                        	.sym	color,6,110,1,0,15
  3680 03:0BAA: 64 09        	stz	<L136+colorIndex_1
  3681 03:0BAC: 64 0B        	stz	<L136+colorIndex_1+2
  3682 03:0BAE: 64 0D        	stz	<L136+colorShade_1
  3683 03:0BB0: F4 xx xx     	pea	#^L138
  Mon Dec  7 2020 11:19                                                Page 74


  3684 03:0BB3: F4 xx xx     	pea	#<L138
  3685 03:0BB6: 18           	clc
  3686 03:0BB7: 7B           	tdc
  3687 03:0BB8: 69 0F 00     	adc	#<L136+color_1
  3688 03:0BBB: 85 01        	sta	<R0
  3689 03:0BBD: A9 00 00     	lda	#$0
  3690 03:0BC0: 85 03        	sta	<R0+2
  3691 03:0BC2: D4 03        	pei	<R0+2
  3692 03:0BC4: D4 01        	pei	<R0
  3693 03:0BC6: A9 0F 00     	lda	#$f
  3694                        	xref	~~~fmov
  3695 03:0BC9: 22 xx xx xx  	jsl	~~~fmov
  3696                        	.line	519
  3697 03:0BCD: 64 09        	stz	<L136+colorIndex_1
  3698 03:0BCF: 64 0B        	stz	<L136+colorIndex_1+2
  3699                        L10009:
  3700                        ;	{
  3701                        	.line	520
  3702                        ;		GRP_LUT_BASE_ADDR[colorIndex+0] = color[
                    colorShade];
  3703                        	.line	521
  3704 03:0BD1: 18           	clc
  3705 03:0BD2: A9 00 20     	lda	#$2000
  3706 03:0BD5: 65 09        	adc	<L136+colorIndex_1
  3707 03:0BD7: 85 01        	sta	<R0
  3708 03:0BD9: A9 AF 00     	lda	#$af
  3709 03:0BDC: 65 0B        	adc	<L136+colorIndex_1+2
  3710 03:0BDE: 85 03        	sta	<R0+2
  3711 03:0BE0: E2 20        	sep	#$20
  3712                        	longa	off
  3713 03:0BE2: A6 0D        	ldx	<L136+colorShade_1
  3714 03:0BE4: B5 0F        	lda	<L136+color_1,X
  3715 03:0BE6: 87 01        	sta	[<R0]
  3716 03:0BE8: C2 20        	rep	#$20
  3717                        	longa	on
  3718                        ;		GRP_LUT_BASE_ADDR[colorIndex+1] = color[
                    colorShade];
  3719                        	.line	522
  3720 03:0BEA: 18           	clc
  3721 03:0BEB: A9 01 00     	lda	#$1
  3722 03:0BEE: 69 00 20     	adc	#<$af2000
  3723 03:0BF1: 85 01        	sta	<R0
  3724 03:0BF3: A9 00 00     	lda	#$0
  3725 03:0BF6: 69 AF 00     	adc	#^$af2000
  3726 03:0BF9: 85 03        	sta	<R0+2
  3727 03:0BFB: 18           	clc
  3728 03:0BFC: A5 01        	lda	<R0
  3729 03:0BFE: 65 09        	adc	<L136+colorIndex_1
  3730 03:0C00: 85 05        	sta	<R1
  3731 03:0C02: A5 03        	lda	<R0+2
  3732 03:0C04: 65 0B        	adc	<L136+colorIndex_1+2
  3733 03:0C06: 85 07        	sta	<R1+2
  3734 03:0C08: E2 20        	sep	#$20
  3735                        	longa	off
  3736 03:0C0A: A6 0D        	ldx	<L136+colorShade_1
  3737 03:0C0C: B5 0F        	lda	<L136+color_1,X
  3738 03:0C0E: 87 05        	sta	[<R1]
  3739 03:0C10: C2 20        	rep	#$20
  Mon Dec  7 2020 11:19                                                Page 75


  3740                        	longa	on
  3741                        ;		GRP_LUT_BASE_ADDR[colorIndex+2] = color[
                    colorShade];
  3742                        	.line	523
  3743 03:0C12: 18           	clc
  3744 03:0C13: A9 02 00     	lda	#$2
  3745 03:0C16: 69 00 20     	adc	#<$af2000
  3746 03:0C19: 85 01        	sta	<R0
  3747 03:0C1B: A9 00 00     	lda	#$0
  3748 03:0C1E: 69 AF 00     	adc	#^$af2000
  3749 03:0C21: 85 03        	sta	<R0+2
  3750 03:0C23: 18           	clc
  3751 03:0C24: A5 01        	lda	<R0
  3752 03:0C26: 65 09        	adc	<L136+colorIndex_1
  3753 03:0C28: 85 05        	sta	<R1
  3754 03:0C2A: A5 03        	lda	<R0+2
  3755 03:0C2C: 65 0B        	adc	<L136+colorIndex_1+2
  3756 03:0C2E: 85 07        	sta	<R1+2
  3757 03:0C30: E2 20        	sep	#$20
  3758                        	longa	off
  3759 03:0C32: A6 0D        	ldx	<L136+colorShade_1
  3760 03:0C34: B5 0F        	lda	<L136+color_1,X
  3761 03:0C36: 87 05        	sta	[<R1]
  3762 03:0C38: C2 20        	rep	#$20
  3763                        	longa	on
  3764                        ;		GRP_LUT_BASE_ADDR[colorIndex+3] = 0xFF;
  3765                        	.line	524
  3766 03:0C3A: 18           	clc
  3767 03:0C3B: A9 03 00     	lda	#$3
  3768 03:0C3E: 69 00 20     	adc	#<$af2000
  3769 03:0C41: 85 01        	sta	<R0
  3770 03:0C43: A9 00 00     	lda	#$0
  3771 03:0C46: 69 AF 00     	adc	#^$af2000
  3772 03:0C49: 85 03        	sta	<R0+2
  3773 03:0C4B: 18           	clc
  3774 03:0C4C: A5 01        	lda	<R0
  3775 03:0C4E: 65 09        	adc	<L136+colorIndex_1
  3776 03:0C50: 85 05        	sta	<R1
  3777 03:0C52: A5 03        	lda	<R0+2
  3778 03:0C54: 65 0B        	adc	<L136+colorIndex_1+2
  3779 03:0C56: 85 07        	sta	<R1+2
  3780 03:0C58: E2 20        	sep	#$20
  3781                        	longa	off
  3782 03:0C5A: A9 FF        	lda	#$ff
  3783 03:0C5C: 87 05        	sta	[<R1]
  3784 03:0C5E: C2 20        	rep	#$20
  3785                        	longa	on
  3786                        ;
  3787                        ;		colorShade++;
  3788                        	.line	526
  3789 03:0C60: E6 0D        	inc	<L136+colorShade_1
  3790                        ;	}
  3791                        	.line	527
  3792                        L10007:
  3793 03:0C62: 18           	clc
  3794 03:0C63: A9 04 00     	lda	#$4
  3795 03:0C66: 65 09        	adc	<L136+colorIndex_1
  3796 03:0C68: 85 09        	sta	<L136+colorIndex_1
  Mon Dec  7 2020 11:19                                                Page 76


  3797 03:0C6A: 90 02        	bcc	L139
  3798 03:0C6C: E6 0B        	inc	<L136+colorIndex_1+2
  3799                        L139:
  3800 03:0C6E: A5 09        	lda	<L136+colorIndex_1
  3801 03:0C70: C9 3C 00     	cmp	#<$3c
  3802 03:0C73: A5 0B        	lda	<L136+colorIndex_1+2
  3803 03:0C75: E9 00 00     	sbc	#^$3c
  3804 03:0C78: B0 03        	bcs	L140
  3805 03:0C7A: 82 54 FF     	brl	L10009
  3806                        L140:
  3807                        L10008:
  3808                        ;
  3809                        ;	memset(&_k_currentPalatte,0,sizeof(CUR_PALETTE_M
                    AP));
  3810                        	.line	529
  3811 03:0C7D: F4 32 00     	pea	#<$32
  3812 03:0C80: F4 00 00     	pea	#<$0
  3813 03:0C83: A9 xx xx     	lda	#<~~_k_currentPalatte
  3814 03:0C86: 85 01        	sta	<R0
  3815                        	xref	_BEG_DATA
  3816 03:0C88: A9 xx xx     	lda	#_BEG_DATA>>16
  3817 03:0C8B: 85 03        	sta	<R0+2
  3818 03:0C8D: D4 03        	pei	<R0+2
  3819 03:0C8F: D4 01        	pei	<R0
  3820 03:0C91: 22 xx xx xx  	jsl	~~memset
  3821                        ;
  3822                        ;	_k_currentPalatte.CUR_WINDOWFRAME = 0;
  3823                        	.line	531
  3824 03:0C95: 9C xx xx     	stz	|~~_k_currentPalatte+10
  3825                        ;	_k_currentPalatte.CUR_DESKTOP = 3;
  3826                        	.line	532
  3827 03:0C98: A9 03 00     	lda	#$3
  3828 03:0C9B: 8D xx xx     	sta	|~~_k_currentPalatte
  3829                        ;	_k_currentPalatte.CUR_HIGHLIGHT_COLOR = 8;
  3830                        	.line	533
  3831 03:0C9E: A9 08 00     	lda	#$8
  3832 03:0CA1: 8D xx xx     	sta	|~~_k_currentPalatte+8
  3833                        ;	_k_currentPalatte.CUR_SELECTED_FONT = 11;
  3834                        	.line	534
  3835 03:0CA4: A9 0B 00     	lda	#$b
  3836 03:0CA7: 8D xx xx     	sta	|~~_k_currentPalatte+6
  3837                        ;	_k_currentPalatte.CUR_GADGET = _k_currentPalatte
                    .CUR_WINDOWSHADOW = 12;
  3838                        	.line	535
  3839 03:0CAA: A9 0C 00     	lda	#$c
  3840 03:0CAD: 8D xx xx     	sta	|~~_k_currentPalatte+14
  3841 03:0CB0: A9 0C 00     	lda	#$c
  3842 03:0CB3: 8D xx xx     	sta	|~~_k_currentPalatte+18
  3843                        ;	_k_currentPalatte.CUR_BACKGROUND = 13;
  3844                        	.line	536
  3845 03:0CB6: A9 0D 00     	lda	#$d
  3846 03:0CB9: 8D xx xx     	sta	|~~_k_currentPalatte+2
  3847                        ;	_k_currentPalatte.CUR_FONT = 14;
  3848                        	.line	537
  3849 03:0CBC: A9 0E 00     	lda	#$e
  3850 03:0CBF: 8D xx xx     	sta	|~~_k_currentPalatte+4
  3851                        ;	_k_currentPalatte.CUR_WINDOWBORDER = _k_currentP
                    alatte.CUR_MENU = 15;
  Mon Dec  7 2020 11:19                                                Page 77


  3852                        	.line	538
  3853 03:0CC2: A9 0F 00     	lda	#$f
  3854 03:0CC5: 8D xx xx     	sta	|~~_k_currentPalatte+16
  3855 03:0CC8: A9 0F 00     	lda	#$f
  3856 03:0CCB: 8D xx xx     	sta	|~~_k_currentPalatte+12
  3857                        ;
  3858                        ;	for(colorShade=0;colorShade<15;colorShade++)
  3859                        	.line	540
  3860 03:0CCE: 64 0D        	stz	<L136+colorShade_1
  3861                        L10012:
  3862                        ;	{
  3863                        	.line	541
  3864                        ;		_k_currentPalatte.CUR_COLOR[colorShade] 
                    = colorShade;
  3865                        	.line	542
  3866 03:0CD0: A5 0D        	lda	<L136+colorShade_1
  3867 03:0CD2: 0A           	asl	A
  3868 03:0CD3: 85 01        	sta	<R0
  3869 03:0CD5: A5 0D        	lda	<L136+colorShade_1
  3870 03:0CD7: A6 01        	ldx	<R0
  3871 03:0CD9: 9D xx xx     	sta	|~~_k_currentPalatte+20,X
  3872                        ;	}
  3873                        	.line	543
  3874                        L10010:
  3875 03:0CDC: E6 0D        	inc	<L136+colorShade_1
  3876 03:0CDE: 38           	sec
  3877 03:0CDF: A5 0D        	lda	<L136+colorShade_1
  3878 03:0CE1: E9 0F 00     	sbc	#<$f
  3879 03:0CE4: 70 03        	bvs	L141
  3880 03:0CE6: 49 00 80     	eor	#$8000
  3881                        L141:
  3882 03:0CE9: 30 03        	bmi	L142
  3883 03:0CEB: 82 E2 FF     	brl	L10012
  3884                        L142:
  3885                        L10011:
  3886                        ;}
  3887                        	.line	544
  3888                        L143:
  3889 03:0CEE: 2B           	pld
  3890 03:0CEF: 3B           	tsc
  3891 03:0CF0: 18           	clc
  3892 03:0CF1: 69 1D 00     	adc	#L135
  3893 03:0CF4: 1B           	tcs
  3894 03:0CF5: 6B           	rtl
  3895                        	.endblock	544
  3896             0000001D   L135	equ	29
  3897             00000009   L136	equ	9
  3898 03:0CF6:              	ends
  3899                        	efunc
  3900                        	.endfunc	544,9,29
  3901                        	.line	544
  3902                        ;
  3903                        ;int k_getUIBackgroundColor()
  3904                        ;{
  3905                        	.line	546
  3906                        	.line	547
  3907                        	GUI
  3908                        	xdef	~~k_getUIBackgroundColor
  Mon Dec  7 2020 11:19                                                Page 78


  3909                        	func
  3910                        	.function	547
  3911                        ~~k_getUIBackgroundColor:
  3912                        	longa	on
  3913                        	longi	on
  3914 03:0CF6: 3B           	tsc
  3915 03:0CF7: 38           	sec
  3916 03:0CF8: E9 00 00     	sbc	#L144
  3917 03:0CFB: 1B           	tcs
  3918 03:0CFC: 0B           	phd
  3919 03:0CFD: 5B           	tcd
  3920                        	.block	547
  3921                        ;	return 	_k_currentPalatte.CUR_BACKGROUND;
  3922                        	.line	548
  3923 03:0CFE: AD xx xx     	lda	|~~_k_currentPalatte+2
  3924                        L147:
  3925 03:0D01: A8           	tay
  3926 03:0D02: 2B           	pld
  3927 03:0D03: 3B           	tsc
  3928 03:0D04: 18           	clc
  3929 03:0D05: 69 00 00     	adc	#L144
  3930 03:0D08: 1B           	tcs
  3931 03:0D09: 98           	tya
  3932 03:0D0A: 6B           	rtl
  3933                        ;}
  3934                        	.line	549
  3935                        	.endblock	549
  3936             00000000   L144	equ	0
  3937             00000001   L145	equ	1
  3938 03:0D0B:              	ends
  3939                        	efunc
  3940                        	.endfunc	549,1,0
  3941                        	.line	549
  3942                        ;
  3943                        ;int k_getUIDesktopColor()
  3944                        ;{
  3945                        	.line	551
  3946                        	.line	552
  3947                        	GUI
  3948                        	xdef	~~k_getUIDesktopColor
  3949                        	func
  3950                        	.function	552
  3951                        ~~k_getUIDesktopColor:
  3952                        	longa	on
  3953                        	longi	on
  3954 03:0D0B: 3B           	tsc
  3955 03:0D0C: 38           	sec
  3956 03:0D0D: E9 00 00     	sbc	#L148
  3957 03:0D10: 1B           	tcs
  3958 03:0D11: 0B           	phd
  3959 03:0D12: 5B           	tcd
  3960                        	.block	552
  3961                        ;	return 	_k_currentPalatte.CUR_DESKTOP;
  3962                        	.line	553
  3963 03:0D13: AD xx xx     	lda	|~~_k_currentPalatte
  3964                        L151:
  3965 03:0D16: A8           	tay
  3966 03:0D17: 2B           	pld
  Mon Dec  7 2020 11:19                                                Page 79


  3967 03:0D18: 3B           	tsc
  3968 03:0D19: 18           	clc
  3969 03:0D1A: 69 00 00     	adc	#L148
  3970 03:0D1D: 1B           	tcs
  3971 03:0D1E: 98           	tya
  3972 03:0D1F: 6B           	rtl
  3973                        ;}
  3974                        	.line	554
  3975                        	.endblock	554
  3976             00000000   L148	equ	0
  3977             00000001   L149	equ	1
  3978 03:0D20:              	ends
  3979                        	efunc
  3980                        	.endfunc	554,1,0
  3981                        	.line	554
  3982                        ;
  3983                        ;
  3984                        ;int k_getUIFontColor()
  3985                        ;{
  3986                        	.line	557
  3987                        	.line	558
  3988                        	GUI
  3989                        	xdef	~~k_getUIFontColor
  3990                        	func
  3991                        	.function	558
  3992                        ~~k_getUIFontColor:
  3993                        	longa	on
  3994                        	longi	on
  3995 03:0D20: 3B           	tsc
  3996 03:0D21: 38           	sec
  3997 03:0D22: E9 00 00     	sbc	#L152
  3998 03:0D25: 1B           	tcs
  3999 03:0D26: 0B           	phd
  4000 03:0D27: 5B           	tcd
  4001                        	.block	558
  4002                        ;	return 	_k_currentPalatte.CUR_FONT;
  4003                        	.line	559
  4004 03:0D28: AD xx xx     	lda	|~~_k_currentPalatte+4
  4005                        L155:
  4006 03:0D2B: A8           	tay
  4007 03:0D2C: 2B           	pld
  4008 03:0D2D: 3B           	tsc
  4009 03:0D2E: 18           	clc
  4010 03:0D2F: 69 00 00     	adc	#L152
  4011 03:0D32: 1B           	tcs
  4012 03:0D33: 98           	tya
  4013 03:0D34: 6B           	rtl
  4014                        ;}
  4015                        	.line	560
  4016                        	.endblock	560
  4017             00000000   L152	equ	0
  4018             00000001   L153	equ	1
  4019 03:0D35:              	ends
  4020                        	efunc
  4021                        	.endfunc	560,1,0
  4022                        	.line	560
  4023                        ;
  4024                        ;
  Mon Dec  7 2020 11:19                                                Page 80


  4025                        ;int k_getUIFontSelectedColor()
  4026                        ;{
  4027                        	.line	563
  4028                        	.line	564
  4029                        	GUI
  4030                        	xdef	~~k_getUIFontSelectedColor
  4031                        	func
  4032                        	.function	564
  4033                        ~~k_getUIFontSelectedColor:
  4034                        	longa	on
  4035                        	longi	on
  4036 03:0D35: 3B           	tsc
  4037 03:0D36: 38           	sec
  4038 03:0D37: E9 00 00     	sbc	#L156
  4039 03:0D3A: 1B           	tcs
  4040 03:0D3B: 0B           	phd
  4041 03:0D3C: 5B           	tcd
  4042                        	.block	564
  4043                        ;	return 	_k_currentPalatte.CUR_SELECTED_FONT;
  4044                        	.line	565
  4045 03:0D3D: AD xx xx     	lda	|~~_k_currentPalatte+6
  4046                        L159:
  4047 03:0D40: A8           	tay
  4048 03:0D41: 2B           	pld
  4049 03:0D42: 3B           	tsc
  4050 03:0D43: 18           	clc
  4051 03:0D44: 69 00 00     	adc	#L156
  4052 03:0D47: 1B           	tcs
  4053 03:0D48: 98           	tya
  4054 03:0D49: 6B           	rtl
  4055                        ;}
  4056                        	.line	566
  4057                        	.endblock	566
  4058             00000000   L156	equ	0
  4059             00000001   L157	equ	1
  4060 03:0D4A:              	ends
  4061                        	efunc
  4062                        	.endfunc	566,1,0
  4063                        	.line	566
  4064                        ;
  4065                        ;
  4066                        ;int k_getUIHighlightColor()
  4067                        ;{
  4068                        	.line	569
  4069                        	.line	570
  4070                        	GUI
  4071                        	xdef	~~k_getUIHighlightColor
  4072                        	func
  4073                        	.function	570
  4074                        ~~k_getUIHighlightColor:
  4075                        	longa	on
  4076                        	longi	on
  4077 03:0D4A: 3B           	tsc
  4078 03:0D4B: 38           	sec
  4079 03:0D4C: E9 00 00     	sbc	#L160
  4080 03:0D4F: 1B           	tcs
  4081 03:0D50: 0B           	phd
  4082 03:0D51: 5B           	tcd
  Mon Dec  7 2020 11:19                                                Page 81


  4083                        	.block	570
  4084                        ;	return 	_k_currentPalatte.CUR_HIGHLIGHT_COLOR;
  4085                        	.line	571
  4086 03:0D52: AD xx xx     	lda	|~~_k_currentPalatte+8
  4087                        L163:
  4088 03:0D55: A8           	tay
  4089 03:0D56: 2B           	pld
  4090 03:0D57: 3B           	tsc
  4091 03:0D58: 18           	clc
  4092 03:0D59: 69 00 00     	adc	#L160
  4093 03:0D5C: 1B           	tcs
  4094 03:0D5D: 98           	tya
  4095 03:0D5E: 6B           	rtl
  4096                        ;}
  4097                        	.line	572
  4098                        	.endblock	572
  4099             00000000   L160	equ	0
  4100             00000001   L161	equ	1
  4101 03:0D5F:              	ends
  4102                        	efunc
  4103                        	.endfunc	572,1,0
  4104                        	.line	572
  4105                        ;
  4106                        ;
  4107                        ;int k_getUIWindowFrameColor()
  4108                        ;{
  4109                        	.line	575
  4110                        	.line	576
  4111                        	GUI
  4112                        	xdef	~~k_getUIWindowFrameColor
  4113                        	func
  4114                        	.function	576
  4115                        ~~k_getUIWindowFrameColor:
  4116                        	longa	on
  4117                        	longi	on
  4118 03:0D5F: 3B           	tsc
  4119 03:0D60: 38           	sec
  4120 03:0D61: E9 00 00     	sbc	#L164
  4121 03:0D64: 1B           	tcs
  4122 03:0D65: 0B           	phd
  4123 03:0D66: 5B           	tcd
  4124                        	.block	576
  4125                        ;	return 	_k_currentPalatte.CUR_WINDOWFRAME;
  4126                        	.line	577
  4127 03:0D67: AD xx xx     	lda	|~~_k_currentPalatte+10
  4128                        L167:
  4129 03:0D6A: A8           	tay
  4130 03:0D6B: 2B           	pld
  4131 03:0D6C: 3B           	tsc
  4132 03:0D6D: 18           	clc
  4133 03:0D6E: 69 00 00     	adc	#L164
  4134 03:0D71: 1B           	tcs
  4135 03:0D72: 98           	tya
  4136 03:0D73: 6B           	rtl
  4137                        ;}
  4138                        	.line	578
  4139                        	.endblock	578
  4140             00000000   L164	equ	0
  Mon Dec  7 2020 11:19                                                Page 82


  4141             00000001   L165	equ	1
  4142 03:0D74:              	ends
  4143                        	efunc
  4144                        	.endfunc	578,1,0
  4145                        	.line	578
  4146                        ;
  4147                        ;
  4148                        ;int k_getUIWindowBorderColor()
  4149                        ;{
  4150                        	.line	581
  4151                        	.line	582
  4152                        	GUI
  4153                        	xdef	~~k_getUIWindowBorderColor
  4154                        	func
  4155                        	.function	582
  4156                        ~~k_getUIWindowBorderColor:
  4157                        	longa	on
  4158                        	longi	on
  4159 03:0D74: 3B           	tsc
  4160 03:0D75: 38           	sec
  4161 03:0D76: E9 00 00     	sbc	#L168
  4162 03:0D79: 1B           	tcs
  4163 03:0D7A: 0B           	phd
  4164 03:0D7B: 5B           	tcd
  4165                        	.block	582
  4166                        ;	return 	_k_currentPalatte.CUR_WINDOWBORDER;
  4167                        	.line	583
  4168 03:0D7C: AD xx xx     	lda	|~~_k_currentPalatte+12
  4169                        L171:
  4170 03:0D7F: A8           	tay
  4171 03:0D80: 2B           	pld
  4172 03:0D81: 3B           	tsc
  4173 03:0D82: 18           	clc
  4174 03:0D83: 69 00 00     	adc	#L168
  4175 03:0D86: 1B           	tcs
  4176 03:0D87: 98           	tya
  4177 03:0D88: 6B           	rtl
  4178                        ;}
  4179                        	.line	584
  4180                        	.endblock	584
  4181             00000000   L168	equ	0
  4182             00000001   L169	equ	1
  4183 03:0D89:              	ends
  4184                        	efunc
  4185                        	.endfunc	584,1,0
  4186                        	.line	584
  4187                        ;
  4188                        ;
  4189                        ;int k_getUIWindowShadowColor()
  4190                        ;{
  4191                        	.line	587
  4192                        	.line	588
  4193                        	GUI
  4194                        	xdef	~~k_getUIWindowShadowColor
  4195                        	func
  4196                        	.function	588
  4197                        ~~k_getUIWindowShadowColor:
  4198                        	longa	on
  Mon Dec  7 2020 11:19                                                Page 83


  4199                        	longi	on
  4200 03:0D89: 3B           	tsc
  4201 03:0D8A: 38           	sec
  4202 03:0D8B: E9 00 00     	sbc	#L172
  4203 03:0D8E: 1B           	tcs
  4204 03:0D8F: 0B           	phd
  4205 03:0D90: 5B           	tcd
  4206                        	.block	588
  4207                        ;	return 	_k_currentPalatte.CUR_WINDOWSHADOW;
  4208                        	.line	589
  4209 03:0D91: AD xx xx     	lda	|~~_k_currentPalatte+14
  4210                        L175:
  4211 03:0D94: A8           	tay
  4212 03:0D95: 2B           	pld
  4213 03:0D96: 3B           	tsc
  4214 03:0D97: 18           	clc
  4215 03:0D98: 69 00 00     	adc	#L172
  4216 03:0D9B: 1B           	tcs
  4217 03:0D9C: 98           	tya
  4218 03:0D9D: 6B           	rtl
  4219                        ;}
  4220                        	.line	590
  4221                        	.endblock	590
  4222             00000000   L172	equ	0
  4223             00000001   L173	equ	1
  4224 03:0D9E:              	ends
  4225                        	efunc
  4226                        	.endfunc	590,1,0
  4227                        	.line	590
  4228                        ;
  4229                        ;
  4230                        ;int k_getUIMenuColor()
  4231                        ;{
  4232                        	.line	593
  4233                        	.line	594
  4234                        	GUI
  4235                        	xdef	~~k_getUIMenuColor
  4236                        	func
  4237                        	.function	594
  4238                        ~~k_getUIMenuColor:
  4239                        	longa	on
  4240                        	longi	on
  4241 03:0D9E: 3B           	tsc
  4242 03:0D9F: 38           	sec
  4243 03:0DA0: E9 00 00     	sbc	#L176
  4244 03:0DA3: 1B           	tcs
  4245 03:0DA4: 0B           	phd
  4246 03:0DA5: 5B           	tcd
  4247                        	.block	594
  4248                        ;	return 	_k_currentPalatte.CUR_MENU;
  4249                        	.line	595
  4250 03:0DA6: AD xx xx     	lda	|~~_k_currentPalatte+16
  4251                        L179:
  4252 03:0DA9: A8           	tay
  4253 03:0DAA: 2B           	pld
  4254 03:0DAB: 3B           	tsc
  4255 03:0DAC: 18           	clc
  4256 03:0DAD: 69 00 00     	adc	#L176
  Mon Dec  7 2020 11:19                                                Page 84


  4257 03:0DB0: 1B           	tcs
  4258 03:0DB1: 98           	tya
  4259 03:0DB2: 6B           	rtl
  4260                        ;}
  4261                        	.line	596
  4262                        	.endblock	596
  4263             00000000   L176	equ	0
  4264             00000001   L177	equ	1
  4265 03:0DB3:              	ends
  4266                        	efunc
  4267                        	.endfunc	596,1,0
  4268                        	.line	596
  4269                        ;
  4270                        ;
  4271                        ;int k_getUIGadgetColor()
  4272                        ;{
  4273                        	.line	599
  4274                        	.line	600
  4275                        	GUI
  4276                        	xdef	~~k_getUIGadgetColor
  4277                        	func
  4278                        	.function	600
  4279                        ~~k_getUIGadgetColor:
  4280                        	longa	on
  4281                        	longi	on
  4282 03:0DB3: 3B           	tsc
  4283 03:0DB4: 38           	sec
  4284 03:0DB5: E9 00 00     	sbc	#L180
  4285 03:0DB8: 1B           	tcs
  4286 03:0DB9: 0B           	phd
  4287 03:0DBA: 5B           	tcd
  4288                        	.block	600
  4289                        ;	return 	_k_currentPalatte.CUR_GADGET;
  4290                        	.line	601
  4291 03:0DBB: AD xx xx     	lda	|~~_k_currentPalatte+18
  4292                        L183:
  4293 03:0DBE: A8           	tay
  4294 03:0DBF: 2B           	pld
  4295 03:0DC0: 3B           	tsc
  4296 03:0DC1: 18           	clc
  4297 03:0DC2: 69 00 00     	adc	#L180
  4298 03:0DC5: 1B           	tcs
  4299 03:0DC6: 98           	tya
  4300 03:0DC7: 6B           	rtl
  4301                        ;}
  4302                        	.line	602
  4303                        	.endblock	602
  4304             00000000   L180	equ	0
  4305             00000001   L181	equ	1
  4306 03:0DC8:              	ends
  4307                        	efunc
  4308                        	.endfunc	602,1,0
  4309                        	.line	602
  4310                        ;
  4311                        ;
  4312                        ;int k_getUIColor(int index)
  4313                        ;{
  4314                        	.line	605
  Mon Dec  7 2020 11:19                                                Page 85


  4315                        	.line	606
  4316                        	GUI
  4317                        	xdef	~~k_getUIColor
  4318                        	func
  4319                        	.function	606
  4320                        ~~k_getUIColor:
  4321                        	longa	on
  4322                        	longi	on
  4323 03:0DC8: 3B           	tsc
  4324 03:0DC9: 38           	sec
  4325 03:0DCA: E9 04 00     	sbc	#L184
  4326 03:0DCD: 1B           	tcs
  4327 03:0DCE: 0B           	phd
  4328 03:0DCF: 5B           	tcd
  4329             00000004   index_0	set	4
  4330                        	.block	606
  4331                        ;	if(index < 1)
  4332                        	.sym	index,4,5,6,16
  4333                        	.line	607
  4334                        ;		index = 1;
  4335 03:0DD0: A5 08        	lda	<L184+index_0
  4336 03:0DD2: 30 06        	bmi	L187
  4337 03:0DD4: 3A           	dea
  4338 03:0DD5: 30 03        	bmi	L187
  4339 03:0DD7: 82 05 00     	brl	L10013
  4340                        L187:
  4341                        	.line	608
  4342 03:0DDA: A9 01 00     	lda	#$1
  4343 03:0DDD: 85 08        	sta	<L184+index_0
  4344                        ;	if(index > 15)
  4345                        L10013:
  4346                        	.line	609
  4347                        ;		index = 15;
  4348 03:0DDF: 38           	sec
  4349 03:0DE0: A9 0F 00     	lda	#$f
  4350 03:0DE3: E5 08        	sbc	<L184+index_0
  4351 03:0DE5: 70 03        	bvs	L188
  4352 03:0DE7: 49 00 80     	eor	#$8000
  4353                        L188:
  4354 03:0DEA: 10 03        	bpl	L189
  4355 03:0DEC: 82 05 00     	brl	L10014
  4356                        L189:
  4357                        	.line	610
  4358 03:0DEF: A9 0F 00     	lda	#$f
  4359 03:0DF2: 85 08        	sta	<L184+index_0
  4360                        ;
  4361                        ;	return 	_k_currentPalatte.CUR_COLOR[index - 1];
  4362                        L10014:
  4363                        	.line	612
  4364 03:0DF4: A5 08        	lda	<L184+index_0
  4365 03:0DF6: 0A           	asl	A
  4366 03:0DF7: 85 01        	sta	<R0
  4367 03:0DF9: A6 01        	ldx	<R0
  4368 03:0DFB: BD xx xx     	lda	|~~_k_currentPalatte+20-2,X
  4369                        L190:
  4370 03:0DFE: A8           	tay
  4371 03:0DFF: A5 06        	lda	<L184+2
  4372 03:0E01: 85 08        	sta	<L184+2+2
  Mon Dec  7 2020 11:19                                                Page 86


  4373 03:0E03: A5 05        	lda	<L184+1
  4374 03:0E05: 85 07        	sta	<L184+1+2
  4375 03:0E07: 2B           	pld
  4376 03:0E08: 3B           	tsc
  4377 03:0E09: 18           	clc
  4378 03:0E0A: 69 06 00     	adc	#L184+2
  4379 03:0E0D: 1B           	tcs
  4380 03:0E0E: 98           	tya
  4381 03:0E0F: 6B           	rtl
  4382                        ;}
  4383                        	.line	613
  4384                        	.endblock	613
  4385             00000004   L184	equ	4
  4386             00000005   L185	equ	5
  4387 03:0E10:              	ends
  4388                        	efunc
  4389                        	.endfunc	613,5,4
  4390                        	.line	613
  4391                        ;
  4392                        ;
  4393                        ;
  4394                        ;void k_draw_pixel(long x,long y,char pcolor)
  4395                        ;{
  4396                        	.line	617
  4397                        	.line	618
  4398                        	GUI
  4399                        	xdef	~~k_draw_pixel
  4400                        	func
  4401                        	.function	618
  4402                        ~~k_draw_pixel:
  4403                        	longa	on
  4404                        	longi	on
  4405 03:0E10: 3B           	tsc
  4406 03:0E11: 38           	sec
  4407 03:0E12: E9 08 00     	sbc	#L191
  4408 03:0E15: 1B           	tcs
  4409 03:0E16: 0B           	phd
  4410 03:0E17: 5B           	tcd
  4411             00000004   x_0	set	4
  4412             00000008   y_0	set	8
  4413             0000000C   pcolor_0	set	12
  4414                        	.block	618
  4415                        ;	long pixelLocation = (long)(((long)y * 640L) + (
                    long)x);
  4416                        ;
  4417                        ;	((unsigned char FAR *)BITMAP_BANK_0)[pixelLocati
                    on] = (char)pcolor;
  4418             00000000   pixelLocation_1	set	0
  4419                        	.sym	pixelLocation,0,7,1,32
  4420                        	.sym	x,4,7,6,32
  4421                        	.sym	y,8,7,6,32
  4422                        	.sym	pcolor,12,14,6,8
  4423 03:0E18: F4 00 00     	pea	#^$280
  4424 03:0E1B: F4 80 02     	pea	#<$280
  4425 03:0E1E: D4 12        	pei	<L191+y_0+2
  4426 03:0E20: D4 10        	pei	<L191+y_0
  4427                        	xref	~~~lmul
  4428 03:0E22: 22 xx xx xx  	jsl	~~~lmul
  Mon Dec  7 2020 11:19                                                Page 87


  4429 03:0E26: 85 01        	sta	<R0
  4430 03:0E28: 86 03        	stx	<R0+2
  4431 03:0E2A: 18           	clc
  4432 03:0E2B: A5 01        	lda	<R0
  4433 03:0E2D: 65 0C        	adc	<L191+x_0
  4434 03:0E2F: 85 05        	sta	<L192+pixelLocation_1
  4435 03:0E31: A5 03        	lda	<R0+2
  4436 03:0E33: 65 0E        	adc	<L191+x_0+2
  4437 03:0E35: 85 07        	sta	<L192+pixelLocation_1+2
  4438                        	.line	621
  4439 03:0E37: 18           	clc
  4440 03:0E38: A9 00 00     	lda	#$0
  4441 03:0E3B: 65 05        	adc	<L192+pixelLocation_1
  4442 03:0E3D: 85 01        	sta	<R0
  4443 03:0E3F: A9 B0 00     	lda	#$b0
  4444 03:0E42: 65 07        	adc	<L192+pixelLocation_1+2
  4445 03:0E44: 85 03        	sta	<R0+2
  4446 03:0E46: E2 20        	sep	#$20
  4447                        	longa	off
  4448 03:0E48: A5 14        	lda	<L191+pcolor_0
  4449 03:0E4A: 87 01        	sta	[<R0]
  4450 03:0E4C: C2 20        	rep	#$20
  4451                        	longa	on
  4452                        ;	//((unsigned char FAR *)SHADOW_BANK_0)[pixelLoca
                    tion] = (char)pcolor;
  4453                        ;
  4454                        ;
  4455                        ;	//((unsigned char FAR *)BITMAP_BANK_0)[(long)(( 
                    ((long)y) * 640L) + ((long)x) )] = (char)pcolor;
  4456                        ;}
  4457                        	.line	626
  4458                        L194:
  4459 03:0E4E: A5 0A        	lda	<L191+2
  4460 03:0E50: 85 14        	sta	<L191+2+10
  4461 03:0E52: A5 09        	lda	<L191+1
  4462 03:0E54: 85 13        	sta	<L191+1+10
  4463 03:0E56: 2B           	pld
  4464 03:0E57: 3B           	tsc
  4465 03:0E58: 18           	clc
  4466 03:0E59: 69 12 00     	adc	#L191+10
  4467 03:0E5C: 1B           	tcs
  4468 03:0E5D: 6B           	rtl
  4469                        	.endblock	626
  4470             00000008   L191	equ	8
  4471             00000005   L192	equ	5
  4472 03:0E5E:              	ends
  4473                        	efunc
  4474                        	.endfunc	626,5,8
  4475                        	.line	626
  4476                        ;
  4477                        ;void k_draw_pixel_ex(long x,long y,char pcolor,UI
                    NT page)
  4478                        ;{
  4479                        	.line	628
  4480                        	.line	629
  4481                        	GUI
  4482                        	xdef	~~k_draw_pixel_ex
  4483                        	func
  Mon Dec  7 2020 11:19                                                Page 88


  4484                        	.function	629
  4485                        ~~k_draw_pixel_ex:
  4486                        	longa	on
  4487                        	longi	on
  4488 03:0E5E: 3B           	tsc
  4489 03:0E5F: 38           	sec
  4490 03:0E60: E9 08 00     	sbc	#L195
  4491 03:0E63: 1B           	tcs
  4492 03:0E64: 0B           	phd
  4493 03:0E65: 5B           	tcd
  4494             00000004   x_0	set	4
  4495             00000008   y_0	set	8
  4496             0000000C   pcolor_0	set	12
  4497             0000000E   page_0	set	14
  4498                        	.block	629
  4499                        ;	long pixelLocation = (long)(((long)y * 640L) + (
                    long)x);
  4500                        ;
  4501                        ;	((unsigned char FAR *)BITMAP_BANK_0)[pixelLocati
                    on] = (char)pcolor;
  4502             00000000   pixelLocation_1	set	0
  4503                        	.sym	pixelLocation,0,7,1,32
  4504                        	.sym	x,4,7,6,32
  4505                        	.sym	y,8,7,6,32
  4506                        	.sym	pcolor,12,14,6,8
  4507                        	.sym	page,14,16,6,16
  4508 03:0E66: F4 00 00     	pea	#^$280
  4509 03:0E69: F4 80 02     	pea	#<$280
  4510 03:0E6C: D4 12        	pei	<L195+y_0+2
  4511 03:0E6E: D4 10        	pei	<L195+y_0
  4512                        	xref	~~~lmul
  4513 03:0E70: 22 xx xx xx  	jsl	~~~lmul
  4514 03:0E74: 85 01        	sta	<R0
  4515 03:0E76: 86 03        	stx	<R0+2
  4516 03:0E78: 18           	clc
  4517 03:0E79: A5 01        	lda	<R0
  4518 03:0E7B: 65 0C        	adc	<L195+x_0
  4519 03:0E7D: 85 05        	sta	<L196+pixelLocation_1
  4520 03:0E7F: A5 03        	lda	<R0+2
  4521 03:0E81: 65 0E        	adc	<L195+x_0+2
  4522 03:0E83: 85 07        	sta	<L196+pixelLocation_1+2
  4523                        	.line	632
  4524 03:0E85: 18           	clc
  4525 03:0E86: A9 00 00     	lda	#$0
  4526 03:0E89: 65 05        	adc	<L196+pixelLocation_1
  4527 03:0E8B: 85 01        	sta	<R0
  4528 03:0E8D: A9 B0 00     	lda	#$b0
  4529 03:0E90: 65 07        	adc	<L196+pixelLocation_1+2
  4530 03:0E92: 85 03        	sta	<R0+2
  4531 03:0E94: E2 20        	sep	#$20
  4532                        	longa	off
  4533 03:0E96: A5 14        	lda	<L195+pcolor_0
  4534 03:0E98: 87 01        	sta	[<R0]
  4535 03:0E9A: C2 20        	rep	#$20
  4536                        	longa	on
  4537                        ;	//((unsigned char FAR *)SHADOW_BANK_0)[pixelLoca
                    tion] = (char)pcolor;
  4538                        ;
  Mon Dec  7 2020 11:19                                                Page 89


  4539                        ;
  4540                        ;	//((unsigned char FAR *)BITMAP_BANK_0)[(long)(( 
                    ((long)y) * 640L) + ((long)x) )] = (char)pcolor;
  4541                        ;}
  4542                        	.line	637
  4543                        L198:
  4544 03:0E9C: A5 0A        	lda	<L195+2
  4545 03:0E9E: 85 16        	sta	<L195+2+12
  4546 03:0EA0: A5 09        	lda	<L195+1
  4547 03:0EA2: 85 15        	sta	<L195+1+12
  4548 03:0EA4: 2B           	pld
  4549 03:0EA5: 3B           	tsc
  4550 03:0EA6: 18           	clc
  4551 03:0EA7: 69 14 00     	adc	#L195+12
  4552 03:0EAA: 1B           	tcs
  4553 03:0EAB: 6B           	rtl
  4554                        	.endblock	637
  4555             00000008   L195	equ	8
  4556             00000005   L196	equ	5
  4557 03:0EAC:              	ends
  4558                        	efunc
  4559                        	.endfunc	637,5,8
  4560                        	.line	637
  4561                        ;
  4562                        ;int k_get_pixel_color(int x,int y)
  4563                        ;{
  4564                        	.line	639
  4565                        	.line	640
  4566                        	GUI
  4567                        	xdef	~~k_get_pixel_color
  4568                        	func
  4569                        	.function	640
  4570                        ~~k_get_pixel_color:
  4571                        	longa	on
  4572                        	longi	on
  4573 03:0EAC: 3B           	tsc
  4574 03:0EAD: 38           	sec
  4575 03:0EAE: E9 0E 00     	sbc	#L199
  4576 03:0EB1: 1B           	tcs
  4577 03:0EB2: 0B           	phd
  4578 03:0EB3: 5B           	tcd
  4579             00000004   x_0	set	4
  4580             00000006   y_0	set	6
  4581                        	.block	640
  4582                        ;	long pixelLocation;
  4583                        ;	int color = -1;
  4584                        ;	
  4585                        ;	pixelLocation = (( (y) * 640) + (x) );
  4586             00000000   pixelLocation_1	set	0
  4587             00000004   color_1	set	4
  4588                        	.sym	pixelLocation,0,7,1,32
  4589                        	.sym	color,4,5,1,16
  4590                        	.sym	x,4,5,6,16
  4591                        	.sym	y,6,5,6,16
  4592 03:0EB4: A9 FF FF     	lda	#$ffff
  4593 03:0EB7: 85 0D        	sta	<L200+color_1
  4594                        	.line	644
  4595 03:0EB9: A5 14        	lda	<L199+y_0
  Mon Dec  7 2020 11:19                                                Page 90


  4596 03:0EBB: A2 80 02     	ldx	#<$280
  4597                        	xref	~~~mul
  4598 03:0EBE: 22 xx xx xx  	jsl	~~~mul
  4599 03:0EC2: 85 01        	sta	<R0
  4600 03:0EC4: 18           	clc
  4601 03:0EC5: A5 01        	lda	<R0
  4602 03:0EC7: 65 12        	adc	<L199+x_0
  4603 03:0EC9: 85 05        	sta	<R1
  4604 03:0ECB: A0 00 00     	ldy	#$0
  4605 03:0ECE: A5 05        	lda	<R1
  4606 03:0ED0: 10 01        	bpl	L202
  4607 03:0ED2: 88           	dey
  4608                        L202:
  4609 03:0ED3: 85 09        	sta	<L200+pixelLocation_1
  4610 03:0ED5: 84 0B        	sty	<L200+pixelLocation_1+2
  4611                        ;
  4612                        ;	if(y < 51)
  4613                        	.line	646
  4614                        ;	{
  4615 03:0ED7: 38           	sec
  4616 03:0ED8: A5 14        	lda	<L199+y_0
  4617 03:0EDA: E9 33 00     	sbc	#<$33
  4618 03:0EDD: 70 03        	bvs	L203
  4619 03:0EDF: 49 00 80     	eor	#$8000
  4620                        L203:
  4621 03:0EE2: 10 03        	bpl	L204
  4622 03:0EE4: 82 19 00     	brl	L10015
  4623                        L204:
  4624                        	.line	647
  4625                        ;		color = ((unsigned char FAR *)BITMAP_BAN
                    K_0)[pixelLocation];
  4626                        	.line	648
  4627 03:0EE7: 18           	clc
  4628 03:0EE8: A9 00 00     	lda	#$0
  4629 03:0EEB: 65 09        	adc	<L200+pixelLocation_1
  4630 03:0EED: 85 01        	sta	<R0
  4631 03:0EEF: A9 B0 00     	lda	#$b0
  4632 03:0EF2: 65 0B        	adc	<L200+pixelLocation_1+2
  4633 03:0EF4: 85 03        	sta	<R0+2
  4634 03:0EF6: A7 01        	lda	[<R0]
  4635 03:0EF8: 29 FF 00     	and	#$ff
  4636 03:0EFB: 85 0D        	sta	<L200+color_1
  4637                        ;	}
  4638                        	.line	649
  4639                        ;	else if(y > 51 && y < 153)
  4640 03:0EFD: 82 1A 01     	brl	L10016
  4641                        L10015:
  4642                        	.line	650
  4643                        ;	{
  4644 03:0F00: 38           	sec
  4645 03:0F01: A9 33 00     	lda	#$33
  4646 03:0F04: E5 14        	sbc	<L199+y_0
  4647 03:0F06: 70 03        	bvs	L205
  4648 03:0F08: 49 00 80     	eor	#$8000
  4649                        L205:
  4650 03:0F0B: 10 03        	bpl	L206
  4651 03:0F0D: 82 29 00     	brl	L10017
  4652                        L206:
  Mon Dec  7 2020 11:19                                                Page 91


  4653 03:0F10: 38           	sec
  4654 03:0F11: A5 14        	lda	<L199+y_0
  4655 03:0F13: E9 99 00     	sbc	#<$99
  4656 03:0F16: 70 03        	bvs	L207
  4657 03:0F18: 49 00 80     	eor	#$8000
  4658                        L207:
  4659 03:0F1B: 10 03        	bpl	L208
  4660 03:0F1D: 82 19 00     	brl	L10017
  4661                        L208:
  4662                        	.line	651
  4663                        ;		color = ((unsigned char FAR *)BITMAP_BAN
                    K_1)[pixelLocation];
  4664                        	.line	652
  4665 03:0F20: 18           	clc
  4666 03:0F21: A9 00 00     	lda	#$0
  4667 03:0F24: 65 09        	adc	<L200+pixelLocation_1
  4668 03:0F26: 85 01        	sta	<R0
  4669 03:0F28: A9 B1 00     	lda	#$b1
  4670 03:0F2B: 65 0B        	adc	<L200+pixelLocation_1+2
  4671 03:0F2D: 85 03        	sta	<R0+2
  4672 03:0F2F: A7 01        	lda	[<R0]
  4673 03:0F31: 29 FF 00     	and	#$ff
  4674 03:0F34: 85 0D        	sta	<L200+color_1
  4675                        ;	}
  4676                        	.line	653
  4677                        ;	else if(y > 153 && y < 255)
  4678 03:0F36: 82 E1 00     	brl	L10018
  4679                        L10017:
  4680                        	.line	654
  4681                        ;	{
  4682 03:0F39: 38           	sec
  4683 03:0F3A: A9 99 00     	lda	#$99
  4684 03:0F3D: E5 14        	sbc	<L199+y_0
  4685 03:0F3F: 70 03        	bvs	L209
  4686 03:0F41: 49 00 80     	eor	#$8000
  4687                        L209:
  4688 03:0F44: 10 03        	bpl	L210
  4689 03:0F46: 82 29 00     	brl	L10019
  4690                        L210:
  4691 03:0F49: 38           	sec
  4692 03:0F4A: A5 14        	lda	<L199+y_0
  4693 03:0F4C: E9 FF 00     	sbc	#<$ff
  4694 03:0F4F: 70 03        	bvs	L211
  4695 03:0F51: 49 00 80     	eor	#$8000
  4696                        L211:
  4697 03:0F54: 10 03        	bpl	L212
  4698 03:0F56: 82 19 00     	brl	L10019
  4699                        L212:
  4700                        	.line	655
  4701                        ;		color = ((unsigned char FAR *)BITMAP_BAN
                    K_2)[pixelLocation];
  4702                        	.line	656
  4703 03:0F59: 18           	clc
  4704 03:0F5A: A9 00 00     	lda	#$0
  4705 03:0F5D: 65 09        	adc	<L200+pixelLocation_1
  4706 03:0F5F: 85 01        	sta	<R0
  4707 03:0F61: A9 B2 00     	lda	#$b2
  4708 03:0F64: 65 0B        	adc	<L200+pixelLocation_1+2
  Mon Dec  7 2020 11:19                                                Page 92


  4709 03:0F66: 85 03        	sta	<R0+2
  4710 03:0F68: A7 01        	lda	[<R0]
  4711 03:0F6A: 29 FF 00     	and	#$ff
  4712 03:0F6D: 85 0D        	sta	<L200+color_1
  4713                        ;	}
  4714                        	.line	657
  4715                        ;	else if(y > 255 && y < 358)
  4716 03:0F6F: 82 A8 00     	brl	L10020
  4717                        L10019:
  4718                        	.line	658
  4719                        ;	{
  4720 03:0F72: 38           	sec
  4721 03:0F73: A9 FF 00     	lda	#$ff
  4722 03:0F76: E5 14        	sbc	<L199+y_0
  4723 03:0F78: 70 03        	bvs	L213
  4724 03:0F7A: 49 00 80     	eor	#$8000
  4725                        L213:
  4726 03:0F7D: 10 03        	bpl	L214
  4727 03:0F7F: 82 29 00     	brl	L10021
  4728                        L214:
  4729 03:0F82: 38           	sec
  4730 03:0F83: A5 14        	lda	<L199+y_0
  4731 03:0F85: E9 66 01     	sbc	#<$166
  4732 03:0F88: 70 03        	bvs	L215
  4733 03:0F8A: 49 00 80     	eor	#$8000
  4734                        L215:
  4735 03:0F8D: 10 03        	bpl	L216
  4736 03:0F8F: 82 19 00     	brl	L10021
  4737                        L216:
  4738                        	.line	659
  4739                        ;		color = ((unsigned char FAR *)BITMAP_BAN
                    K_3)[pixelLocation];
  4740                        	.line	660
  4741 03:0F92: 18           	clc
  4742 03:0F93: A9 00 00     	lda	#$0
  4743 03:0F96: 65 09        	adc	<L200+pixelLocation_1
  4744 03:0F98: 85 01        	sta	<R0
  4745 03:0F9A: A9 B3 00     	lda	#$b3
  4746 03:0F9D: 65 0B        	adc	<L200+pixelLocation_1+2
  4747 03:0F9F: 85 03        	sta	<R0+2
  4748 03:0FA1: A7 01        	lda	[<R0]
  4749 03:0FA3: 29 FF 00     	and	#$ff
  4750 03:0FA6: 85 0D        	sta	<L200+color_1
  4751                        ;	}
  4752                        	.line	661
  4753                        ;	else if(y > 358 && y < 460)
  4754 03:0FA8: 82 6F 00     	brl	L10022
  4755                        L10021:
  4756                        	.line	662
  4757                        ;	{
  4758 03:0FAB: 38           	sec
  4759 03:0FAC: A9 66 01     	lda	#$166
  4760 03:0FAF: E5 14        	sbc	<L199+y_0
  4761 03:0FB1: 70 03        	bvs	L217
  4762 03:0FB3: 49 00 80     	eor	#$8000
  4763                        L217:
  4764 03:0FB6: 10 03        	bpl	L218
  4765 03:0FB8: 82 29 00     	brl	L10023
  Mon Dec  7 2020 11:19                                                Page 93


  4766                        L218:
  4767 03:0FBB: 38           	sec
  4768 03:0FBC: A5 14        	lda	<L199+y_0
  4769 03:0FBE: E9 CC 01     	sbc	#<$1cc
  4770 03:0FC1: 70 03        	bvs	L219
  4771 03:0FC3: 49 00 80     	eor	#$8000
  4772                        L219:
  4773 03:0FC6: 10 03        	bpl	L220
  4774 03:0FC8: 82 19 00     	brl	L10023
  4775                        L220:
  4776                        	.line	663
  4777                        ;		color = ((unsigned char FAR *)BITMAP_BAN
                    K_4)[pixelLocation];
  4778                        	.line	664
  4779 03:0FCB: 18           	clc
  4780 03:0FCC: A9 00 00     	lda	#$0
  4781 03:0FCF: 65 09        	adc	<L200+pixelLocation_1
  4782 03:0FD1: 85 01        	sta	<R0
  4783 03:0FD3: A9 B4 00     	lda	#$b4
  4784 03:0FD6: 65 0B        	adc	<L200+pixelLocation_1+2
  4785 03:0FD8: 85 03        	sta	<R0+2
  4786 03:0FDA: A7 01        	lda	[<R0]
  4787 03:0FDC: 29 FF 00     	and	#$ff
  4788 03:0FDF: 85 0D        	sta	<L200+color_1
  4789                        ;	}
  4790                        	.line	665
  4791                        ;	else if(y > 460 && y < 479 )
  4792 03:0FE1: 82 36 00     	brl	L10024
  4793                        L10023:
  4794                        	.line	666
  4795                        ;	{
  4796 03:0FE4: 38           	sec
  4797 03:0FE5: A9 CC 01     	lda	#$1cc
  4798 03:0FE8: E5 14        	sbc	<L199+y_0
  4799 03:0FEA: 70 03        	bvs	L221
  4800 03:0FEC: 49 00 80     	eor	#$8000
  4801                        L221:
  4802 03:0FEF: 10 03        	bpl	L222
  4803 03:0FF1: 82 26 00     	brl	L10025
  4804                        L222:
  4805 03:0FF4: 38           	sec
  4806 03:0FF5: A5 14        	lda	<L199+y_0
  4807 03:0FF7: E9 DF 01     	sbc	#<$1df
  4808 03:0FFA: 70 03        	bvs	L223
  4809 03:0FFC: 49 00 80     	eor	#$8000
  4810                        L223:
  4811 03:0FFF: 10 03        	bpl	L224
  4812 03:1001: 82 16 00     	brl	L10025
  4813                        L224:
  4814                        	.line	667
  4815                        ;		color = ((unsigned char FAR *)BITMAP_BAN
                    K_5)[pixelLocation];
  4816                        	.line	668
  4817 03:1004: 18           	clc
  4818 03:1005: A9 00 00     	lda	#$0
  4819 03:1008: 65 09        	adc	<L200+pixelLocation_1
  4820 03:100A: 85 01        	sta	<R0
  4821 03:100C: A9 B5 00     	lda	#$b5
  Mon Dec  7 2020 11:19                                                Page 94


  4822 03:100F: 65 0B        	adc	<L200+pixelLocation_1+2
  4823 03:1011: 85 03        	sta	<R0+2
  4824 03:1013: A7 01        	lda	[<R0]
  4825 03:1015: 29 FF 00     	and	#$ff
  4826 03:1018: 85 0D        	sta	<L200+color_1
  4827                        ;	}
  4828                        	.line	669
  4829                        ;	
  4830                        ;	return color;
  4831                        L10025:
  4832                        L10024:
  4833                        L10022:
  4834                        L10020:
  4835                        L10018:
  4836                        L10016:
  4837                        	.line	671
  4838 03:101A: A5 0D        	lda	<L200+color_1
  4839                        L225:
  4840 03:101C: A8           	tay
  4841 03:101D: A5 10        	lda	<L199+2
  4842 03:101F: 85 14        	sta	<L199+2+4
  4843 03:1021: A5 0F        	lda	<L199+1
  4844 03:1023: 85 13        	sta	<L199+1+4
  4845 03:1025: 2B           	pld
  4846 03:1026: 3B           	tsc
  4847 03:1027: 18           	clc
  4848 03:1028: 69 12 00     	adc	#L199+4
  4849 03:102B: 1B           	tcs
  4850 03:102C: 98           	tya
  4851 03:102D: 6B           	rtl
  4852                        ;}
  4853                        	.line	672
  4854                        	.endblock	672
  4855             0000000E   L199	equ	14
  4856             00000009   L200	equ	9
  4857 03:102E:              	ends
  4858                        	efunc
  4859                        	.endfunc	672,9,14
  4860                        	.line	672
  4861                        ;
  4862                        ;int k_get_pixel_bank(int x,int y)
  4863                        ;{
  4864                        	.line	674
  4865                        	.line	675
  4866                        	GUI
  4867                        	xdef	~~k_get_pixel_bank
  4868                        	func
  4869                        	.function	675
  4870                        ~~k_get_pixel_bank:
  4871                        	longa	on
  4872                        	longi	on
  4873 03:102E: 3B           	tsc
  4874 03:102F: 38           	sec
  4875 03:1030: E9 04 00     	sbc	#L226
  4876 03:1033: 1B           	tcs
  4877 03:1034: 0B           	phd
  4878 03:1035: 5B           	tcd
  4879             00000004   x_0	set	4
  Mon Dec  7 2020 11:19                                                Page 95


  4880             00000006   y_0	set	6
  4881                        	.block	675
  4882                        ;	long pixelLocation;
  4883                        ;
  4884                        ;	if(y < 51)
  4885             00000000   pixelLocation_1	set	0
  4886                        	.sym	pixelLocation,0,7,1,32
  4887                        	.sym	x,4,5,6,16
  4888                        	.sym	y,6,5,6,16
  4889                        	.line	678
  4890                        ;	{
  4891 03:1036: 38           	sec
  4892 03:1037: A5 0A        	lda	<L226+y_0
  4893 03:1039: E9 33 00     	sbc	#<$33
  4894 03:103C: 70 03        	bvs	L229
  4895 03:103E: 49 00 80     	eor	#$8000
  4896                        L229:
  4897 03:1041: 10 03        	bpl	L230
  4898 03:1043: 82 15 00     	brl	L10026
  4899                        L230:
  4900                        	.line	679
  4901                        ;		return 0;
  4902                        	.line	680
  4903 03:1046: A9 00 00     	lda	#$0
  4904                        L231:
  4905 03:1049: A8           	tay
  4906 03:104A: A5 06        	lda	<L226+2
  4907 03:104C: 85 0A        	sta	<L226+2+4
  4908 03:104E: A5 05        	lda	<L226+1
  4909 03:1050: 85 09        	sta	<L226+1+4
  4910 03:1052: 2B           	pld
  4911 03:1053: 3B           	tsc
  4912 03:1054: 18           	clc
  4913 03:1055: 69 08 00     	adc	#L226+4
  4914 03:1058: 1B           	tcs
  4915 03:1059: 98           	tya
  4916 03:105A: 6B           	rtl
  4917                        ;	}
  4918                        	.line	681
  4919                        ;	else if(y > 51 && y < 153)
  4920                        L10026:
  4921                        	.line	682
  4922                        ;	{
  4923 03:105B: 38           	sec
  4924 03:105C: A9 33 00     	lda	#$33
  4925 03:105F: E5 0A        	sbc	<L226+y_0
  4926 03:1061: 70 03        	bvs	L232
  4927 03:1063: 49 00 80     	eor	#$8000
  4928                        L232:
  4929 03:1066: 10 03        	bpl	L233
  4930 03:1068: 82 16 00     	brl	L10027
  4931                        L233:
  4932 03:106B: 38           	sec
  4933 03:106C: A5 0A        	lda	<L226+y_0
  4934 03:106E: E9 99 00     	sbc	#<$99
  4935 03:1071: 70 03        	bvs	L234
  4936 03:1073: 49 00 80     	eor	#$8000
  4937                        L234:
  Mon Dec  7 2020 11:19                                                Page 96


  4938 03:1076: 10 03        	bpl	L235
  4939 03:1078: 82 06 00     	brl	L10027
  4940                        L235:
  4941                        	.line	683
  4942                        ;		return 1;
  4943                        	.line	684
  4944 03:107B: A9 01 00     	lda	#$1
  4945 03:107E: 82 C8 FF     	brl	L231
  4946                        ;	}
  4947                        	.line	685
  4948                        ;	else if(y > 153 && y < 255)
  4949                        L10027:
  4950                        	.line	686
  4951                        ;	{
  4952 03:1081: 38           	sec
  4953 03:1082: A9 99 00     	lda	#$99
  4954 03:1085: E5 0A        	sbc	<L226+y_0
  4955 03:1087: 70 03        	bvs	L236
  4956 03:1089: 49 00 80     	eor	#$8000
  4957                        L236:
  4958 03:108C: 10 03        	bpl	L237
  4959 03:108E: 82 16 00     	brl	L10028
  4960                        L237:
  4961 03:1091: 38           	sec
  4962 03:1092: A5 0A        	lda	<L226+y_0
  4963 03:1094: E9 FF 00     	sbc	#<$ff
  4964 03:1097: 70 03        	bvs	L238
  4965 03:1099: 49 00 80     	eor	#$8000
  4966                        L238:
  4967 03:109C: 10 03        	bpl	L239
  4968 03:109E: 82 06 00     	brl	L10028
  4969                        L239:
  4970                        	.line	687
  4971                        ;		return 2;
  4972                        	.line	688
  4973 03:10A1: A9 02 00     	lda	#$2
  4974 03:10A4: 82 A2 FF     	brl	L231
  4975                        ;	}
  4976                        	.line	689
  4977                        ;	else if(y > 255 && y < 358)
  4978                        L10028:
  4979                        	.line	690
  4980                        ;	{
  4981 03:10A7: 38           	sec
  4982 03:10A8: A9 FF 00     	lda	#$ff
  4983 03:10AB: E5 0A        	sbc	<L226+y_0
  4984 03:10AD: 70 03        	bvs	L240
  4985 03:10AF: 49 00 80     	eor	#$8000
  4986                        L240:
  4987 03:10B2: 10 03        	bpl	L241
  4988 03:10B4: 82 16 00     	brl	L10029
  4989                        L241:
  4990 03:10B7: 38           	sec
  4991 03:10B8: A5 0A        	lda	<L226+y_0
  4992 03:10BA: E9 66 01     	sbc	#<$166
  4993 03:10BD: 70 03        	bvs	L242
  4994 03:10BF: 49 00 80     	eor	#$8000
  4995                        L242:
  Mon Dec  7 2020 11:19                                                Page 97


  4996 03:10C2: 10 03        	bpl	L243
  4997 03:10C4: 82 06 00     	brl	L10029
  4998                        L243:
  4999                        	.line	691
  5000                        ;		return 3;
  5001                        	.line	692
  5002 03:10C7: A9 03 00     	lda	#$3
  5003 03:10CA: 82 7C FF     	brl	L231
  5004                        ;	}
  5005                        	.line	693
  5006                        ;	else if(y > 358 && y < 460)
  5007                        L10029:
  5008                        	.line	694
  5009                        ;	{
  5010 03:10CD: 38           	sec
  5011 03:10CE: A9 66 01     	lda	#$166
  5012 03:10D1: E5 0A        	sbc	<L226+y_0
  5013 03:10D3: 70 03        	bvs	L244
  5014 03:10D5: 49 00 80     	eor	#$8000
  5015                        L244:
  5016 03:10D8: 10 03        	bpl	L245
  5017 03:10DA: 82 16 00     	brl	L10030
  5018                        L245:
  5019 03:10DD: 38           	sec
  5020 03:10DE: A5 0A        	lda	<L226+y_0
  5021 03:10E0: E9 CC 01     	sbc	#<$1cc
  5022 03:10E3: 70 03        	bvs	L246
  5023 03:10E5: 49 00 80     	eor	#$8000
  5024                        L246:
  5025 03:10E8: 10 03        	bpl	L247
  5026 03:10EA: 82 06 00     	brl	L10030
  5027                        L247:
  5028                        	.line	695
  5029                        ;		return 4;
  5030                        	.line	696
  5031 03:10ED: A9 04 00     	lda	#$4
  5032 03:10F0: 82 56 FF     	brl	L231
  5033                        ;	}
  5034                        	.line	697
  5035                        ;	else if(y > 460 && y < 479 )
  5036                        L10030:
  5037                        	.line	698
  5038                        ;	{
  5039 03:10F3: 38           	sec
  5040 03:10F4: A9 CC 01     	lda	#$1cc
  5041 03:10F7: E5 0A        	sbc	<L226+y_0
  5042 03:10F9: 70 03        	bvs	L248
  5043 03:10FB: 49 00 80     	eor	#$8000
  5044                        L248:
  5045 03:10FE: 10 03        	bpl	L249
  5046 03:1100: 82 16 00     	brl	L10031
  5047                        L249:
  5048 03:1103: 38           	sec
  5049 03:1104: A5 0A        	lda	<L226+y_0
  5050 03:1106: E9 DF 01     	sbc	#<$1df
  5051 03:1109: 70 03        	bvs	L250
  5052 03:110B: 49 00 80     	eor	#$8000
  5053                        L250:
  Mon Dec  7 2020 11:19                                                Page 98


  5054 03:110E: 10 03        	bpl	L251
  5055 03:1110: 82 06 00     	brl	L10031
  5056                        L251:
  5057                        	.line	699
  5058                        ;		return 5;
  5059                        	.line	700
  5060 03:1113: A9 05 00     	lda	#$5
  5061 03:1116: 82 30 FF     	brl	L231
  5062                        ;	}
  5063                        	.line	701
  5064                        ;	
  5065                        ;	return 0;
  5066                        L10031:
  5067                        	.line	703
  5068 03:1119: A9 00 00     	lda	#$0
  5069 03:111C: 82 2A FF     	brl	L231
  5070                        ;}
  5071                        	.line	704
  5072                        	.endblock	704
  5073             00000004   L226	equ	4
  5074             00000001   L227	equ	1
  5075 03:111F:              	ends
  5076                        	efunc
  5077                        	.endfunc	704,1,4
  5078                        	.line	704
  5079                        ;
  5080                        ;
  5081                        ;void k_draw_segments(int xc, int yc, int x, int y
                    ,int color) 
  5082                        ;{ 
  5083                        	.line	707
  5084                        	.line	708
  5085                        	GUI
  5086                        	xdef	~~k_draw_segments
  5087                        	func
  5088                        	.function	708
  5089                        ~~k_draw_segments:
  5090                        	longa	on
  5091                        	longi	on
  5092 03:111F: 3B           	tsc
  5093 03:1120: 38           	sec
  5094 03:1121: E9 08 00     	sbc	#L252
  5095 03:1124: 1B           	tcs
  5096 03:1125: 0B           	phd
  5097 03:1126: 5B           	tcd
  5098             00000004   xc_0	set	4
  5099             00000006   yc_0	set	6
  5100             00000008   x_0	set	8
  5101             0000000A   y_0	set	10
  5102             0000000C   color_0	set	12
  5103                        	.block	708
  5104                        ;    k_draw_pixel(xc+x, yc+y, color); 
  5105                        	.sym	xc,4,5,6,16
  5106                        	.sym	yc,6,5,6,16
  5107                        	.sym	x,8,5,6,16
  5108                        	.sym	y,10,5,6,16
  5109                        	.sym	color,12,5,6,16
  5110                        	.line	709
  Mon Dec  7 2020 11:19                                                Page 99


  5111 03:1127: D4 14        	pei	<L252+color_0
  5112 03:1129: 18           	clc
  5113 03:112A: A5 0E        	lda	<L252+yc_0
  5114 03:112C: 65 12        	adc	<L252+y_0
  5115 03:112E: 85 01        	sta	<R0
  5116 03:1130: A0 00 00     	ldy	#$0
  5117 03:1133: A5 01        	lda	<R0
  5118 03:1135: 10 01        	bpl	L255
  5119 03:1137: 88           	dey
  5120                        L255:
  5121 03:1138: 85 01        	sta	<R0
  5122 03:113A: 84 03        	sty	<R0+2
  5123 03:113C: D4 03        	pei	<R0+2
  5124 03:113E: D4 01        	pei	<R0
  5125 03:1140: 18           	clc
  5126 03:1141: A5 0C        	lda	<L252+xc_0
  5127 03:1143: 65 10        	adc	<L252+x_0
  5128 03:1145: 85 05        	sta	<R1
  5129 03:1147: A0 00 00     	ldy	#$0
  5130 03:114A: A5 05        	lda	<R1
  5131 03:114C: 10 01        	bpl	L256
  5132 03:114E: 88           	dey
  5133                        L256:
  5134 03:114F: 85 05        	sta	<R1
  5135 03:1151: 84 07        	sty	<R1+2
  5136 03:1153: D4 07        	pei	<R1+2
  5137 03:1155: D4 05        	pei	<R1
  5138 03:1157: 22 10 0E 03  	jsl	~~k_draw_pixel
  5139                        ;    k_draw_pixel(xc-x, yc+y, color); 
  5140                        	.line	710
  5141 03:115B: D4 14        	pei	<L252+color_0
  5142 03:115D: 18           	clc
  5143 03:115E: A5 0E        	lda	<L252+yc_0
  5144 03:1160: 65 12        	adc	<L252+y_0
  5145 03:1162: 85 01        	sta	<R0
  5146 03:1164: A0 00 00     	ldy	#$0
  5147 03:1167: A5 01        	lda	<R0
  5148 03:1169: 10 01        	bpl	L257
  5149 03:116B: 88           	dey
  5150                        L257:
  5151 03:116C: 85 01        	sta	<R0
  5152 03:116E: 84 03        	sty	<R0+2
  5153 03:1170: D4 03        	pei	<R0+2
  5154 03:1172: D4 01        	pei	<R0
  5155 03:1174: 38           	sec
  5156 03:1175: A5 0C        	lda	<L252+xc_0
  5157 03:1177: E5 10        	sbc	<L252+x_0
  5158 03:1179: 85 05        	sta	<R1
  5159 03:117B: A0 00 00     	ldy	#$0
  5160 03:117E: A5 05        	lda	<R1
  5161 03:1180: 10 01        	bpl	L258
  5162 03:1182: 88           	dey
  5163                        L258:
  5164 03:1183: 85 05        	sta	<R1
  5165 03:1185: 84 07        	sty	<R1+2
  5166 03:1187: D4 07        	pei	<R1+2
  5167 03:1189: D4 05        	pei	<R1
  5168 03:118B: 22 10 0E 03  	jsl	~~k_draw_pixel
  Mon Dec  7 2020 11:19                                                Page 100


  5169                        ;    k_draw_pixel(xc+x, yc-y, color); 
  5170                        	.line	711
  5171 03:118F: D4 14        	pei	<L252+color_0
  5172 03:1191: 38           	sec
  5173 03:1192: A5 0E        	lda	<L252+yc_0
  5174 03:1194: E5 12        	sbc	<L252+y_0
  5175 03:1196: 85 01        	sta	<R0
  5176 03:1198: A0 00 00     	ldy	#$0
  5177 03:119B: A5 01        	lda	<R0
  5178 03:119D: 10 01        	bpl	L259
  5179 03:119F: 88           	dey
  5180                        L259:
  5181 03:11A0: 85 01        	sta	<R0
  5182 03:11A2: 84 03        	sty	<R0+2
  5183 03:11A4: D4 03        	pei	<R0+2
  5184 03:11A6: D4 01        	pei	<R0
  5185 03:11A8: 18           	clc
  5186 03:11A9: A5 0C        	lda	<L252+xc_0
  5187 03:11AB: 65 10        	adc	<L252+x_0
  5188 03:11AD: 85 05        	sta	<R1
  5189 03:11AF: A0 00 00     	ldy	#$0
  5190 03:11B2: A5 05        	lda	<R1
  5191 03:11B4: 10 01        	bpl	L260
  5192 03:11B6: 88           	dey
  5193                        L260:
  5194 03:11B7: 85 05        	sta	<R1
  5195 03:11B9: 84 07        	sty	<R1+2
  5196 03:11BB: D4 07        	pei	<R1+2
  5197 03:11BD: D4 05        	pei	<R1
  5198 03:11BF: 22 10 0E 03  	jsl	~~k_draw_pixel
  5199                        ;    k_draw_pixel(xc-x, yc-y, color); 
  5200                        	.line	712
  5201 03:11C3: D4 14        	pei	<L252+color_0
  5202 03:11C5: 38           	sec
  5203 03:11C6: A5 0E        	lda	<L252+yc_0
  5204 03:11C8: E5 12        	sbc	<L252+y_0
  5205 03:11CA: 85 01        	sta	<R0
  5206 03:11CC: A0 00 00     	ldy	#$0
  5207 03:11CF: A5 01        	lda	<R0
  5208 03:11D1: 10 01        	bpl	L261
  5209 03:11D3: 88           	dey
  5210                        L261:
  5211 03:11D4: 85 01        	sta	<R0
  5212 03:11D6: 84 03        	sty	<R0+2
  5213 03:11D8: D4 03        	pei	<R0+2
  5214 03:11DA: D4 01        	pei	<R0
  5215 03:11DC: 38           	sec
  5216 03:11DD: A5 0C        	lda	<L252+xc_0
  5217 03:11DF: E5 10        	sbc	<L252+x_0
  5218 03:11E1: 85 05        	sta	<R1
  5219 03:11E3: A0 00 00     	ldy	#$0
  5220 03:11E6: A5 05        	lda	<R1
  5221 03:11E8: 10 01        	bpl	L262
  5222 03:11EA: 88           	dey
  5223                        L262:
  5224 03:11EB: 85 05        	sta	<R1
  5225 03:11ED: 84 07        	sty	<R1+2
  5226 03:11EF: D4 07        	pei	<R1+2
  Mon Dec  7 2020 11:19                                                Page 101


  5227 03:11F1: D4 05        	pei	<R1
  5228 03:11F3: 22 10 0E 03  	jsl	~~k_draw_pixel
  5229                        ;    k_draw_pixel(xc+y, yc+x, color); 
  5230                        	.line	713
  5231 03:11F7: D4 14        	pei	<L252+color_0
  5232 03:11F9: 18           	clc
  5233 03:11FA: A5 0E        	lda	<L252+yc_0
  5234 03:11FC: 65 10        	adc	<L252+x_0
  5235 03:11FE: 85 01        	sta	<R0
  5236 03:1200: A0 00 00     	ldy	#$0
  5237 03:1203: A5 01        	lda	<R0
  5238 03:1205: 10 01        	bpl	L263
  5239 03:1207: 88           	dey
  5240                        L263:
  5241 03:1208: 85 01        	sta	<R0
  5242 03:120A: 84 03        	sty	<R0+2
  5243 03:120C: D4 03        	pei	<R0+2
  5244 03:120E: D4 01        	pei	<R0
  5245 03:1210: 18           	clc
  5246 03:1211: A5 0C        	lda	<L252+xc_0
  5247 03:1213: 65 12        	adc	<L252+y_0
  5248 03:1215: 85 05        	sta	<R1
  5249 03:1217: A0 00 00     	ldy	#$0
  5250 03:121A: A5 05        	lda	<R1
  5251 03:121C: 10 01        	bpl	L264
  5252 03:121E: 88           	dey
  5253                        L264:
  5254 03:121F: 85 05        	sta	<R1
  5255 03:1221: 84 07        	sty	<R1+2
  5256 03:1223: D4 07        	pei	<R1+2
  5257 03:1225: D4 05        	pei	<R1
  5258 03:1227: 22 10 0E 03  	jsl	~~k_draw_pixel
  5259                        ;    k_draw_pixel(xc-y, yc+x, color); 
  5260                        	.line	714
  5261 03:122B: D4 14        	pei	<L252+color_0
  5262 03:122D: 18           	clc
  5263 03:122E: A5 0E        	lda	<L252+yc_0
  5264 03:1230: 65 10        	adc	<L252+x_0
  5265 03:1232: 85 01        	sta	<R0
  5266 03:1234: A0 00 00     	ldy	#$0
  5267 03:1237: A5 01        	lda	<R0
  5268 03:1239: 10 01        	bpl	L265
  5269 03:123B: 88           	dey
  5270                        L265:
  5271 03:123C: 85 01        	sta	<R0
  5272 03:123E: 84 03        	sty	<R0+2
  5273 03:1240: D4 03        	pei	<R0+2
  5274 03:1242: D4 01        	pei	<R0
  5275 03:1244: 38           	sec
  5276 03:1245: A5 0C        	lda	<L252+xc_0
  5277 03:1247: E5 12        	sbc	<L252+y_0
  5278 03:1249: 85 05        	sta	<R1
  5279 03:124B: A0 00 00     	ldy	#$0
  5280 03:124E: A5 05        	lda	<R1
  5281 03:1250: 10 01        	bpl	L266
  5282 03:1252: 88           	dey
  5283                        L266:
  5284 03:1253: 85 05        	sta	<R1
  Mon Dec  7 2020 11:19                                                Page 102


  5285 03:1255: 84 07        	sty	<R1+2
  5286 03:1257: D4 07        	pei	<R1+2
  5287 03:1259: D4 05        	pei	<R1
  5288 03:125B: 22 10 0E 03  	jsl	~~k_draw_pixel
  5289                        ;    k_draw_pixel(xc+y, yc-x, color); 
  5290                        	.line	715
  5291 03:125F: D4 14        	pei	<L252+color_0
  5292 03:1261: 38           	sec
  5293 03:1262: A5 0E        	lda	<L252+yc_0
  5294 03:1264: E5 10        	sbc	<L252+x_0
  5295 03:1266: 85 01        	sta	<R0
  5296 03:1268: A0 00 00     	ldy	#$0
  5297 03:126B: A5 01        	lda	<R0
  5298 03:126D: 10 01        	bpl	L267
  5299 03:126F: 88           	dey
  5300                        L267:
  5301 03:1270: 85 01        	sta	<R0
  5302 03:1272: 84 03        	sty	<R0+2
  5303 03:1274: D4 03        	pei	<R0+2
  5304 03:1276: D4 01        	pei	<R0
  5305 03:1278: 18           	clc
  5306 03:1279: A5 0C        	lda	<L252+xc_0
  5307 03:127B: 65 12        	adc	<L252+y_0
  5308 03:127D: 85 05        	sta	<R1
  5309 03:127F: A0 00 00     	ldy	#$0
  5310 03:1282: A5 05        	lda	<R1
  5311 03:1284: 10 01        	bpl	L268
  5312 03:1286: 88           	dey
  5313                        L268:
  5314 03:1287: 85 05        	sta	<R1
  5315 03:1289: 84 07        	sty	<R1+2
  5316 03:128B: D4 07        	pei	<R1+2
  5317 03:128D: D4 05        	pei	<R1
  5318 03:128F: 22 10 0E 03  	jsl	~~k_draw_pixel
  5319                        ;    k_draw_pixel(xc-y, yc-x, color); 
  5320                        	.line	716
  5321 03:1293: D4 14        	pei	<L252+color_0
  5322 03:1295: 38           	sec
  5323 03:1296: A5 0E        	lda	<L252+yc_0
  5324 03:1298: E5 10        	sbc	<L252+x_0
  5325 03:129A: 85 01        	sta	<R0
  5326 03:129C: A0 00 00     	ldy	#$0
  5327 03:129F: A5 01        	lda	<R0
  5328 03:12A1: 10 01        	bpl	L269
  5329 03:12A3: 88           	dey
  5330                        L269:
  5331 03:12A4: 85 01        	sta	<R0
  5332 03:12A6: 84 03        	sty	<R0+2
  5333 03:12A8: D4 03        	pei	<R0+2
  5334 03:12AA: D4 01        	pei	<R0
  5335 03:12AC: 38           	sec
  5336 03:12AD: A5 0C        	lda	<L252+xc_0
  5337 03:12AF: E5 12        	sbc	<L252+y_0
  5338 03:12B1: 85 05        	sta	<R1
  5339 03:12B3: A0 00 00     	ldy	#$0
  5340 03:12B6: A5 05        	lda	<R1
  5341 03:12B8: 10 01        	bpl	L270
  5342 03:12BA: 88           	dey
  Mon Dec  7 2020 11:19                                                Page 103


  5343                        L270:
  5344 03:12BB: 85 05        	sta	<R1
  5345 03:12BD: 84 07        	sty	<R1+2
  5346 03:12BF: D4 07        	pei	<R1+2
  5347 03:12C1: D4 05        	pei	<R1
  5348 03:12C3: 22 10 0E 03  	jsl	~~k_draw_pixel
  5349                        ;} 
  5350                        	.line	717
  5351                        L271:
  5352 03:12C7: A5 0A        	lda	<L252+2
  5353 03:12C9: 85 14        	sta	<L252+2+10
  5354 03:12CB: A5 09        	lda	<L252+1
  5355 03:12CD: 85 13        	sta	<L252+1+10
  5356 03:12CF: 2B           	pld
  5357 03:12D0: 3B           	tsc
  5358 03:12D1: 18           	clc
  5359 03:12D2: 69 12 00     	adc	#L252+10
  5360 03:12D5: 1B           	tcs
  5361 03:12D6: 6B           	rtl
  5362                        	.endblock	717
  5363             00000008   L252	equ	8
  5364             00000009   L253	equ	9
  5365 03:12D7:              	ends
  5366                        	efunc
  5367                        	.endfunc	717,9,8
  5368                        	.line	717
  5369                        ;
  5370                        ;void k_draw_filled_segments(int xc, int yc, int x
                    , int y,int color) 
  5371                        ;{ 
  5372                        	.line	719
  5373                        	.line	720
  5374                        	GUI
  5375                        	xdef	~~k_draw_filled_segments
  5376                        	func
  5377                        	.function	720
  5378                        ~~k_draw_filled_segments:
  5379                        	longa	on
  5380                        	longi	on
  5381 03:12D7: 3B           	tsc
  5382 03:12D8: 38           	sec
  5383 03:12D9: E9 08 00     	sbc	#L272
  5384 03:12DC: 1B           	tcs
  5385 03:12DD: 0B           	phd
  5386 03:12DE: 5B           	tcd
  5387             00000004   xc_0	set	4
  5388             00000006   yc_0	set	6
  5389             00000008   x_0	set	8
  5390             0000000A   y_0	set	10
  5391             0000000C   color_0	set	12
  5392                        	.block	720
  5393                        ;    k_draw_pixel(xc+x, yc+y, color); 	    
  5394                        	.sym	xc,4,5,6,16
  5395                        	.sym	yc,6,5,6,16
  5396                        	.sym	x,8,5,6,16
  5397                        	.sym	y,10,5,6,16
  5398                        	.sym	color,12,5,6,16
  5399                        	.line	721
  Mon Dec  7 2020 11:19                                                Page 104


  5400 03:12DF: D4 14        	pei	<L272+color_0
  5401 03:12E1: 18           	clc
  5402 03:12E2: A5 0E        	lda	<L272+yc_0
  5403 03:12E4: 65 12        	adc	<L272+y_0
  5404 03:12E6: 85 01        	sta	<R0
  5405 03:12E8: A0 00 00     	ldy	#$0
  5406 03:12EB: A5 01        	lda	<R0
  5407 03:12ED: 10 01        	bpl	L275
  5408 03:12EF: 88           	dey
  5409                        L275:
  5410 03:12F0: 85 01        	sta	<R0
  5411 03:12F2: 84 03        	sty	<R0+2
  5412 03:12F4: D4 03        	pei	<R0+2
  5413 03:12F6: D4 01        	pei	<R0
  5414 03:12F8: 18           	clc
  5415 03:12F9: A5 0C        	lda	<L272+xc_0
  5416 03:12FB: 65 10        	adc	<L272+x_0
  5417 03:12FD: 85 05        	sta	<R1
  5418 03:12FF: A0 00 00     	ldy	#$0
  5419 03:1302: A5 05        	lda	<R1
  5420 03:1304: 10 01        	bpl	L276
  5421 03:1306: 88           	dey
  5422                        L276:
  5423 03:1307: 85 05        	sta	<R1
  5424 03:1309: 84 07        	sty	<R1+2
  5425 03:130B: D4 07        	pei	<R1+2
  5426 03:130D: D4 05        	pei	<R1
  5427 03:130F: 22 10 0E 03  	jsl	~~k_draw_pixel
  5428                        ;	k_draw_pixel(xc-x, yc+y, color); 
  5429                        	.line	722
  5430 03:1313: D4 14        	pei	<L272+color_0
  5431 03:1315: 18           	clc
  5432 03:1316: A5 0E        	lda	<L272+yc_0
  5433 03:1318: 65 12        	adc	<L272+y_0
  5434 03:131A: 85 01        	sta	<R0
  5435 03:131C: A0 00 00     	ldy	#$0
  5436 03:131F: A5 01        	lda	<R0
  5437 03:1321: 10 01        	bpl	L277
  5438 03:1323: 88           	dey
  5439                        L277:
  5440 03:1324: 85 01        	sta	<R0
  5441 03:1326: 84 03        	sty	<R0+2
  5442 03:1328: D4 03        	pei	<R0+2
  5443 03:132A: D4 01        	pei	<R0
  5444 03:132C: 38           	sec
  5445 03:132D: A5 0C        	lda	<L272+xc_0
  5446 03:132F: E5 10        	sbc	<L272+x_0
  5447 03:1331: 85 05        	sta	<R1
  5448 03:1333: A0 00 00     	ldy	#$0
  5449 03:1336: A5 05        	lda	<R1
  5450 03:1338: 10 01        	bpl	L278
  5451 03:133A: 88           	dey
  5452                        L278:
  5453 03:133B: 85 05        	sta	<R1
  5454 03:133D: 84 07        	sty	<R1+2
  5455 03:133F: D4 07        	pei	<R1+2
  5456 03:1341: D4 05        	pei	<R1
  5457 03:1343: 22 10 0E 03  	jsl	~~k_draw_pixel
  Mon Dec  7 2020 11:19                                                Page 105


  5458                        ;    k_draw_line(xc+x, yc+y, xc-x, yc+y,color);
  5459                        	.line	723
  5460 03:1347: D4 14        	pei	<L272+color_0
  5461 03:1349: 18           	clc
  5462 03:134A: A5 0E        	lda	<L272+yc_0
  5463 03:134C: 65 12        	adc	<L272+y_0
  5464 03:134E: 48           	pha
  5465 03:134F: 38           	sec
  5466 03:1350: A5 0C        	lda	<L272+xc_0
  5467 03:1352: E5 10        	sbc	<L272+x_0
  5468 03:1354: 48           	pha
  5469 03:1355: 18           	clc
  5470 03:1356: A5 0E        	lda	<L272+yc_0
  5471 03:1358: 65 12        	adc	<L272+y_0
  5472 03:135A: 48           	pha
  5473 03:135B: 18           	clc
  5474 03:135C: A5 0C        	lda	<L272+xc_0
  5475 03:135E: 65 10        	adc	<L272+x_0
  5476 03:1360: 48           	pha
  5477 03:1361: 22 49 16 03  	jsl	~~k_draw_line
  5478                        ;	
  5479                        ;	
  5480                        ;	k_draw_pixel(xc+x, yc-y, color);     	
  5481                        	.line	726
  5482 03:1365: D4 14        	pei	<L272+color_0
  5483 03:1367: 38           	sec
  5484 03:1368: A5 0E        	lda	<L272+yc_0
  5485 03:136A: E5 12        	sbc	<L272+y_0
  5486 03:136C: 85 01        	sta	<R0
  5487 03:136E: A0 00 00     	ldy	#$0
  5488 03:1371: A5 01        	lda	<R0
  5489 03:1373: 10 01        	bpl	L279
  5490 03:1375: 88           	dey
  5491                        L279:
  5492 03:1376: 85 01        	sta	<R0
  5493 03:1378: 84 03        	sty	<R0+2
  5494 03:137A: D4 03        	pei	<R0+2
  5495 03:137C: D4 01        	pei	<R0
  5496 03:137E: 18           	clc
  5497 03:137F: A5 0C        	lda	<L272+xc_0
  5498 03:1381: 65 10        	adc	<L272+x_0
  5499 03:1383: 85 05        	sta	<R1
  5500 03:1385: A0 00 00     	ldy	#$0
  5501 03:1388: A5 05        	lda	<R1
  5502 03:138A: 10 01        	bpl	L280
  5503 03:138C: 88           	dey
  5504                        L280:
  5505 03:138D: 85 05        	sta	<R1
  5506 03:138F: 84 07        	sty	<R1+2
  5507 03:1391: D4 07        	pei	<R1+2
  5508 03:1393: D4 05        	pei	<R1
  5509 03:1395: 22 10 0E 03  	jsl	~~k_draw_pixel
  5510                        ;	k_draw_pixel(xc-x, yc-y, color); 
  5511                        	.line	727
  5512 03:1399: D4 14        	pei	<L272+color_0
  5513 03:139B: 38           	sec
  5514 03:139C: A5 0E        	lda	<L272+yc_0
  5515 03:139E: E5 12        	sbc	<L272+y_0
  Mon Dec  7 2020 11:19                                                Page 106


  5516 03:13A0: 85 01        	sta	<R0
  5517 03:13A2: A0 00 00     	ldy	#$0
  5518 03:13A5: A5 01        	lda	<R0
  5519 03:13A7: 10 01        	bpl	L281
  5520 03:13A9: 88           	dey
  5521                        L281:
  5522 03:13AA: 85 01        	sta	<R0
  5523 03:13AC: 84 03        	sty	<R0+2
  5524 03:13AE: D4 03        	pei	<R0+2
  5525 03:13B0: D4 01        	pei	<R0
  5526 03:13B2: 38           	sec
  5527 03:13B3: A5 0C        	lda	<L272+xc_0
  5528 03:13B5: E5 10        	sbc	<L272+x_0
  5529 03:13B7: 85 05        	sta	<R1
  5530 03:13B9: A0 00 00     	ldy	#$0
  5531 03:13BC: A5 05        	lda	<R1
  5532 03:13BE: 10 01        	bpl	L282
  5533 03:13C0: 88           	dey
  5534                        L282:
  5535 03:13C1: 85 05        	sta	<R1
  5536 03:13C3: 84 07        	sty	<R1+2
  5537 03:13C5: D4 07        	pei	<R1+2
  5538 03:13C7: D4 05        	pei	<R1
  5539 03:13C9: 22 10 0E 03  	jsl	~~k_draw_pixel
  5540                        ;	k_draw_line(xc+x, yc-y, xc-x, yc-y,color);
  5541                        	.line	728
  5542 03:13CD: D4 14        	pei	<L272+color_0
  5543 03:13CF: 38           	sec
  5544 03:13D0: A5 0E        	lda	<L272+yc_0
  5545 03:13D2: E5 12        	sbc	<L272+y_0
  5546 03:13D4: 48           	pha
  5547 03:13D5: 38           	sec
  5548 03:13D6: A5 0C        	lda	<L272+xc_0
  5549 03:13D8: E5 10        	sbc	<L272+x_0
  5550 03:13DA: 48           	pha
  5551 03:13DB: 38           	sec
  5552 03:13DC: A5 0E        	lda	<L272+yc_0
  5553 03:13DE: E5 12        	sbc	<L272+y_0
  5554 03:13E0: 48           	pha
  5555 03:13E1: 18           	clc
  5556 03:13E2: A5 0C        	lda	<L272+xc_0
  5557 03:13E4: 65 10        	adc	<L272+x_0
  5558 03:13E6: 48           	pha
  5559 03:13E7: 22 49 16 03  	jsl	~~k_draw_line
  5560                        ;	
  5561                        ;    
  5562                        ;	k_draw_pixel(xc+y, yc+x, color);     
  5563                        	.line	731
  5564 03:13EB: D4 14        	pei	<L272+color_0
  5565 03:13ED: 18           	clc
  5566 03:13EE: A5 0E        	lda	<L272+yc_0
  5567 03:13F0: 65 10        	adc	<L272+x_0
  5568 03:13F2: 85 01        	sta	<R0
  5569 03:13F4: A0 00 00     	ldy	#$0
  5570 03:13F7: A5 01        	lda	<R0
  5571 03:13F9: 10 01        	bpl	L283
  5572 03:13FB: 88           	dey
  5573                        L283:
  Mon Dec  7 2020 11:19                                                Page 107


  5574 03:13FC: 85 01        	sta	<R0
  5575 03:13FE: 84 03        	sty	<R0+2
  5576 03:1400: D4 03        	pei	<R0+2
  5577 03:1402: D4 01        	pei	<R0
  5578 03:1404: 18           	clc
  5579 03:1405: A5 0C        	lda	<L272+xc_0
  5580 03:1407: 65 12        	adc	<L272+y_0
  5581 03:1409: 85 05        	sta	<R1
  5582 03:140B: A0 00 00     	ldy	#$0
  5583 03:140E: A5 05        	lda	<R1
  5584 03:1410: 10 01        	bpl	L284
  5585 03:1412: 88           	dey
  5586                        L284:
  5587 03:1413: 85 05        	sta	<R1
  5588 03:1415: 84 07        	sty	<R1+2
  5589 03:1417: D4 07        	pei	<R1+2
  5590 03:1419: D4 05        	pei	<R1
  5591 03:141B: 22 10 0E 03  	jsl	~~k_draw_pixel
  5592                        ;	k_draw_pixel(xc-y, yc+x, color); 
  5593                        	.line	732
  5594 03:141F: D4 14        	pei	<L272+color_0
  5595 03:1421: 18           	clc
  5596 03:1422: A5 0E        	lda	<L272+yc_0
  5597 03:1424: 65 10        	adc	<L272+x_0
  5598 03:1426: 85 01        	sta	<R0
  5599 03:1428: A0 00 00     	ldy	#$0
  5600 03:142B: A5 01        	lda	<R0
  5601 03:142D: 10 01        	bpl	L285
  5602 03:142F: 88           	dey
  5603                        L285:
  5604 03:1430: 85 01        	sta	<R0
  5605 03:1432: 84 03        	sty	<R0+2
  5606 03:1434: D4 03        	pei	<R0+2
  5607 03:1436: D4 01        	pei	<R0
  5608 03:1438: 38           	sec
  5609 03:1439: A5 0C        	lda	<L272+xc_0
  5610 03:143B: E5 12        	sbc	<L272+y_0
  5611 03:143D: 85 05        	sta	<R1
  5612 03:143F: A0 00 00     	ldy	#$0
  5613 03:1442: A5 05        	lda	<R1
  5614 03:1444: 10 01        	bpl	L286
  5615 03:1446: 88           	dey
  5616                        L286:
  5617 03:1447: 85 05        	sta	<R1
  5618 03:1449: 84 07        	sty	<R1+2
  5619 03:144B: D4 07        	pei	<R1+2
  5620 03:144D: D4 05        	pei	<R1
  5621 03:144F: 22 10 0E 03  	jsl	~~k_draw_pixel
  5622                        ;	k_draw_line(xc+y, yc+x, xc-y, yc+x,color);	
  5623                        	.line	733
  5624 03:1453: D4 14        	pei	<L272+color_0
  5625 03:1455: 18           	clc
  5626 03:1456: A5 0E        	lda	<L272+yc_0
  5627 03:1458: 65 10        	adc	<L272+x_0
  5628 03:145A: 48           	pha
  5629 03:145B: 38           	sec
  5630 03:145C: A5 0C        	lda	<L272+xc_0
  5631 03:145E: E5 12        	sbc	<L272+y_0
  Mon Dec  7 2020 11:19                                                Page 108


  5632 03:1460: 48           	pha
  5633 03:1461: 18           	clc
  5634 03:1462: A5 0E        	lda	<L272+yc_0
  5635 03:1464: 65 10        	adc	<L272+x_0
  5636 03:1466: 48           	pha
  5637 03:1467: 18           	clc
  5638 03:1468: A5 0C        	lda	<L272+xc_0
  5639 03:146A: 65 12        	adc	<L272+y_0
  5640 03:146C: 48           	pha
  5641 03:146D: 22 49 16 03  	jsl	~~k_draw_line
  5642                        ;	
  5643                        ;	k_draw_pixel(xc+y, yc-x, color);  
  5644                        	.line	735
  5645 03:1471: D4 14        	pei	<L272+color_0
  5646 03:1473: 38           	sec
  5647 03:1474: A5 0E        	lda	<L272+yc_0
  5648 03:1476: E5 10        	sbc	<L272+x_0
  5649 03:1478: 85 01        	sta	<R0
  5650 03:147A: A0 00 00     	ldy	#$0
  5651 03:147D: A5 01        	lda	<R0
  5652 03:147F: 10 01        	bpl	L287
  5653 03:1481: 88           	dey
  5654                        L287:
  5655 03:1482: 85 01        	sta	<R0
  5656 03:1484: 84 03        	sty	<R0+2
  5657 03:1486: D4 03        	pei	<R0+2
  5658 03:1488: D4 01        	pei	<R0
  5659 03:148A: 18           	clc
  5660 03:148B: A5 0C        	lda	<L272+xc_0
  5661 03:148D: 65 12        	adc	<L272+y_0
  5662 03:148F: 85 05        	sta	<R1
  5663 03:1491: A0 00 00     	ldy	#$0
  5664 03:1494: A5 05        	lda	<R1
  5665 03:1496: 10 01        	bpl	L288
  5666 03:1498: 88           	dey
  5667                        L288:
  5668 03:1499: 85 05        	sta	<R1
  5669 03:149B: 84 07        	sty	<R1+2
  5670 03:149D: D4 07        	pei	<R1+2
  5671 03:149F: D4 05        	pei	<R1
  5672 03:14A1: 22 10 0E 03  	jsl	~~k_draw_pixel
  5673                        ;	k_draw_pixel(xc-y, yc-x, color); 
  5674                        	.line	736
  5675 03:14A5: D4 14        	pei	<L272+color_0
  5676 03:14A7: 38           	sec
  5677 03:14A8: A5 0E        	lda	<L272+yc_0
  5678 03:14AA: E5 10        	sbc	<L272+x_0
  5679 03:14AC: 85 01        	sta	<R0
  5680 03:14AE: A0 00 00     	ldy	#$0
  5681 03:14B1: A5 01        	lda	<R0
  5682 03:14B3: 10 01        	bpl	L289
  5683 03:14B5: 88           	dey
  5684                        L289:
  5685 03:14B6: 85 01        	sta	<R0
  5686 03:14B8: 84 03        	sty	<R0+2
  5687 03:14BA: D4 03        	pei	<R0+2
  5688 03:14BC: D4 01        	pei	<R0
  5689 03:14BE: 38           	sec
  Mon Dec  7 2020 11:19                                                Page 109


  5690 03:14BF: A5 0C        	lda	<L272+xc_0
  5691 03:14C1: E5 12        	sbc	<L272+y_0
  5692 03:14C3: 85 05        	sta	<R1
  5693 03:14C5: A0 00 00     	ldy	#$0
  5694 03:14C8: A5 05        	lda	<R1
  5695 03:14CA: 10 01        	bpl	L290
  5696 03:14CC: 88           	dey
  5697                        L290:
  5698 03:14CD: 85 05        	sta	<R1
  5699 03:14CF: 84 07        	sty	<R1+2
  5700 03:14D1: D4 07        	pei	<R1+2
  5701 03:14D3: D4 05        	pei	<R1
  5702 03:14D5: 22 10 0E 03  	jsl	~~k_draw_pixel
  5703                        ;	k_draw_line(xc+y, yc-x, xc-y, yc-x,color);
  5704                        	.line	737
  5705 03:14D9: D4 14        	pei	<L272+color_0
  5706 03:14DB: 38           	sec
  5707 03:14DC: A5 0E        	lda	<L272+yc_0
  5708 03:14DE: E5 10        	sbc	<L272+x_0
  5709 03:14E0: 48           	pha
  5710 03:14E1: 38           	sec
  5711 03:14E2: A5 0C        	lda	<L272+xc_0
  5712 03:14E4: E5 12        	sbc	<L272+y_0
  5713 03:14E6: 48           	pha
  5714 03:14E7: 38           	sec
  5715 03:14E8: A5 0E        	lda	<L272+yc_0
  5716 03:14EA: E5 10        	sbc	<L272+x_0
  5717 03:14EC: 48           	pha
  5718 03:14ED: 18           	clc
  5719 03:14EE: A5 0C        	lda	<L272+xc_0
  5720 03:14F0: 65 12        	adc	<L272+y_0
  5721 03:14F2: 48           	pha
  5722 03:14F3: 22 49 16 03  	jsl	~~k_draw_line
  5723                        ;}
  5724                        	.line	738
  5725                        L291:
  5726 03:14F7: A5 0A        	lda	<L272+2
  5727 03:14F9: 85 14        	sta	<L272+2+10
  5728 03:14FB: A5 09        	lda	<L272+1
  5729 03:14FD: 85 13        	sta	<L272+1+10
  5730 03:14FF: 2B           	pld
  5731 03:1500: 3B           	tsc
  5732 03:1501: 18           	clc
  5733 03:1502: 69 12 00     	adc	#L272+10
  5734 03:1505: 1B           	tcs
  5735 03:1506: 6B           	rtl
  5736                        	.endblock	738
  5737             00000008   L272	equ	8
  5738             00000009   L273	equ	9
  5739 03:1507:              	ends
  5740                        	efunc
  5741                        	.endfunc	738,9,8
  5742                        	.line	738
  5743                        ;  
  5744                        ;// Function for circle-generation 
  5745                        ;// using Bresenham's algorithm 
  5746                        ;void k_draw_circle(int xc, int yc, int r, int col
                    or) 
  Mon Dec  7 2020 11:19                                                Page 110


  5747                        ;{ 
  5748                        	.line	742
  5749                        	.line	743
  5750                        	GUI
  5751                        	xdef	~~k_draw_circle
  5752                        	func
  5753                        	.function	743
  5754                        ~~k_draw_circle:
  5755                        	longa	on
  5756                        	longi	on
  5757 03:1507: 3B           	tsc
  5758 03:1508: 38           	sec
  5759 03:1509: E9 0E 00     	sbc	#L292
  5760 03:150C: 1B           	tcs
  5761 03:150D: 0B           	phd
  5762 03:150E: 5B           	tcd
  5763             00000004   xc_0	set	4
  5764             00000006   yc_0	set	6
  5765             00000008   r_0	set	8
  5766             0000000A   color_0	set	10
  5767                        	.block	743
  5768                        ;    int x = 0;
  5769                        ;	int y = r; 
  5770                        ;	
  5771                        ;    int d = 3 - 2 * r; 
  5772                        ;	
  5773                        ;    k_draw_segments(xc, yc, x, y, color); 
  5774             00000000   x_1	set	0
  5775             00000002   y_1	set	2
  5776             00000004   d_1	set	4
  5777                        	.sym	x,0,5,1,16
  5778                        	.sym	y,2,5,1,16
  5779                        	.sym	d,4,5,1,16
  5780                        	.sym	xc,4,5,6,16
  5781                        	.sym	yc,6,5,6,16
  5782                        	.sym	r,8,5,6,16
  5783                        	.sym	color,10,5,6,16
  5784 03:150F: 64 09        	stz	<L293+x_1
  5785 03:1511: A5 16        	lda	<L292+r_0
  5786 03:1513: 85 0B        	sta	<L293+y_1
  5787 03:1515: A5 16        	lda	<L292+r_0
  5788 03:1517: 0A           	asl	A
  5789 03:1518: 85 01        	sta	<R0
  5790 03:151A: 38           	sec
  5791 03:151B: A9 03 00     	lda	#$3
  5792 03:151E: E5 01        	sbc	<R0
  5793 03:1520: 85 0D        	sta	<L293+d_1
  5794                        	.line	749
  5795 03:1522: D4 18        	pei	<L292+color_0
  5796 03:1524: D4 0B        	pei	<L293+y_1
  5797 03:1526: D4 09        	pei	<L293+x_1
  5798 03:1528: D4 14        	pei	<L292+yc_0
  5799 03:152A: D4 12        	pei	<L292+xc_0
  5800 03:152C: 22 1F 11 03  	jsl	~~k_draw_segments
  5801                        ;	
  5802                        ;    while (y >= x) 
  5803                        	.line	751
  5804                        L10032:
  Mon Dec  7 2020 11:19                                                Page 111


  5805 03:1530: 38           	sec
  5806 03:1531: A5 0B        	lda	<L293+y_1
  5807 03:1533: E5 09        	sbc	<L293+x_1
  5808 03:1535: 70 03        	bvs	L295
  5809 03:1537: 49 00 80     	eor	#$8000
  5810                        L295:
  5811 03:153A: 30 03        	bmi	L296
  5812 03:153C: 82 59 00     	brl	L10033
  5813                        L296:
  5814                        ;    { 
  5815                        	.line	752
  5816                        ;        // for each pixel we will 
  5817                        ;        // draw all eight pixels 
  5818                        ;          
  5819                        ;        x++; 
  5820                        	.line	756
  5821 03:153F: E6 09        	inc	<L293+x_1
  5822                        ;  
  5823                        ;        // check for decision parameter 
  5824                        ;        // and correspondingly  
  5825                        ;        // update d, x, y 
  5826                        ;        if (d > 0) 
  5827                        	.line	761
  5828                        ;        { 
  5829 03:1541: 38           	sec
  5830 03:1542: A9 00 00     	lda	#$0
  5831 03:1545: E5 0D        	sbc	<L293+d_1
  5832 03:1547: 70 03        	bvs	L297
  5833 03:1549: 49 00 80     	eor	#$8000
  5834                        L297:
  5835 03:154C: 10 03        	bpl	L298
  5836 03:154E: 82 21 00     	brl	L10034
  5837                        L298:
  5838                        	.line	762
  5839                        ;            y--;  
  5840                        	.line	763
  5841 03:1551: C6 0B        	dec	<L293+y_1
  5842                        ;            d = d + 4 * (x - y) + 10; 
  5843                        	.line	764
  5844 03:1553: 38           	sec
  5845 03:1554: A5 09        	lda	<L293+x_1
  5846 03:1556: E5 0B        	sbc	<L293+y_1
  5847 03:1558: 85 05        	sta	<R1
  5848 03:155A: A5 05        	lda	<R1
  5849 03:155C: 0A           	asl	A
  5850 03:155D: 0A           	asl	A
  5851 03:155E: 85 01        	sta	<R0
  5852 03:1560: 18           	clc
  5853 03:1561: A5 01        	lda	<R0
  5854 03:1563: 65 0D        	adc	<L293+d_1
  5855 03:1565: 85 05        	sta	<R1
  5856 03:1567: 18           	clc
  5857 03:1568: A9 0A 00     	lda	#$a
  5858 03:156B: 65 05        	adc	<R1
  5859 03:156D: 85 0D        	sta	<L293+d_1
  5860                        ;        } 
  5861                        	.line	765
  5862                        ;        else
  Mon Dec  7 2020 11:19                                                Page 112


  5863 03:156F: 82 15 00     	brl	L10035
  5864                        L10034:
  5865                        ;            d = d + 4 * x + 6; 
  5866                        	.line	767
  5867 03:1572: A5 09        	lda	<L293+x_1
  5868 03:1574: 0A           	asl	A
  5869 03:1575: 0A           	asl	A
  5870 03:1576: 85 01        	sta	<R0
  5871 03:1578: 18           	clc
  5872 03:1579: A5 01        	lda	<R0
  5873 03:157B: 65 0D        	adc	<L293+d_1
  5874 03:157D: 85 05        	sta	<R1
  5875 03:157F: 18           	clc
  5876 03:1580: A9 06 00     	lda	#$6
  5877 03:1583: 65 05        	adc	<R1
  5878 03:1585: 85 0D        	sta	<L293+d_1
  5879                        L10035:
  5880                        ;        k_draw_segments(xc, yc, x, y, color); 
  5881                        	.line	768
  5882 03:1587: D4 18        	pei	<L292+color_0
  5883 03:1589: D4 0B        	pei	<L293+y_1
  5884 03:158B: D4 09        	pei	<L293+x_1
  5885 03:158D: D4 14        	pei	<L292+yc_0
  5886 03:158F: D4 12        	pei	<L292+xc_0
  5887 03:1591: 22 1F 11 03  	jsl	~~k_draw_segments
  5888                        ;       
  5889                        ;    } 
  5890                        	.line	770
  5891 03:1595: 82 98 FF     	brl	L10032
  5892                        L10033:
  5893                        ;} 
  5894                        	.line	771
  5895                        L299:
  5896 03:1598: A5 10        	lda	<L292+2
  5897 03:159A: 85 18        	sta	<L292+2+8
  5898 03:159C: A5 0F        	lda	<L292+1
  5899 03:159E: 85 17        	sta	<L292+1+8
  5900 03:15A0: 2B           	pld
  5901 03:15A1: 3B           	tsc
  5902 03:15A2: 18           	clc
  5903 03:15A3: 69 16 00     	adc	#L292+8
  5904 03:15A6: 1B           	tcs
  5905 03:15A7: 6B           	rtl
  5906                        	.endblock	771
  5907             0000000E   L292	equ	14
  5908             00000009   L293	equ	9
  5909 03:15A8:              	ends
  5910                        	efunc
  5911                        	.endfunc	771,9,14
  5912                        	.line	771
  5913                        ;
  5914                        ;void k_draw_filled_circle(int xc, int yc, int r, 
                    int color) 
  5915                        ;{ 
  5916                        	.line	773
  5917                        	.line	774
  5918                        	GUI
  5919                        	xdef	~~k_draw_filled_circle
  Mon Dec  7 2020 11:19                                                Page 113


  5920                        	func
  5921                        	.function	774
  5922                        ~~k_draw_filled_circle:
  5923                        	longa	on
  5924                        	longi	on
  5925 03:15A8: 3B           	tsc
  5926 03:15A9: 38           	sec
  5927 03:15AA: E9 0E 00     	sbc	#L300
  5928 03:15AD: 1B           	tcs
  5929 03:15AE: 0B           	phd
  5930 03:15AF: 5B           	tcd
  5931             00000004   xc_0	set	4
  5932             00000006   yc_0	set	6
  5933             00000008   r_0	set	8
  5934             0000000A   color_0	set	10
  5935                        	.block	774
  5936                        ;    int x = 0;
  5937                        ;	int y = r; 
  5938                        ;	
  5939                        ;    int d = 3 - 2 * r; 
  5940                        ;	
  5941                        ;    k_draw_filled_segments(xc, yc, x, y, color); 
  5942             00000000   x_1	set	0
  5943             00000002   y_1	set	2
  5944             00000004   d_1	set	4
  5945                        	.sym	x,0,5,1,16
  5946                        	.sym	y,2,5,1,16
  5947                        	.sym	d,4,5,1,16
  5948                        	.sym	xc,4,5,6,16
  5949                        	.sym	yc,6,5,6,16
  5950                        	.sym	r,8,5,6,16
  5951                        	.sym	color,10,5,6,16
  5952 03:15B0: 64 09        	stz	<L301+x_1
  5953 03:15B2: A5 16        	lda	<L300+r_0
  5954 03:15B4: 85 0B        	sta	<L301+y_1
  5955 03:15B6: A5 16        	lda	<L300+r_0
  5956 03:15B8: 0A           	asl	A
  5957 03:15B9: 85 01        	sta	<R0
  5958 03:15BB: 38           	sec
  5959 03:15BC: A9 03 00     	lda	#$3
  5960 03:15BF: E5 01        	sbc	<R0
  5961 03:15C1: 85 0D        	sta	<L301+d_1
  5962                        	.line	780
  5963 03:15C3: D4 18        	pei	<L300+color_0
  5964 03:15C5: D4 0B        	pei	<L301+y_1
  5965 03:15C7: D4 09        	pei	<L301+x_1
  5966 03:15C9: D4 14        	pei	<L300+yc_0
  5967 03:15CB: D4 12        	pei	<L300+xc_0
  5968 03:15CD: 22 D7 12 03  	jsl	~~k_draw_filled_segments
  5969                        ;	
  5970                        ;    while (y >= x) 
  5971                        	.line	782
  5972                        L10036:
  5973 03:15D1: 38           	sec
  5974 03:15D2: A5 0B        	lda	<L301+y_1
  5975 03:15D4: E5 09        	sbc	<L301+x_1
  5976 03:15D6: 70 03        	bvs	L303
  5977 03:15D8: 49 00 80     	eor	#$8000
  Mon Dec  7 2020 11:19                                                Page 114


  5978                        L303:
  5979 03:15DB: 30 03        	bmi	L304
  5980 03:15DD: 82 59 00     	brl	L10037
  5981                        L304:
  5982                        ;    { 
  5983                        	.line	783
  5984                        ;        // for each pixel we will 
  5985                        ;        // draw all eight pixels 
  5986                        ;          
  5987                        ;        x++; 
  5988                        	.line	787
  5989 03:15E0: E6 09        	inc	<L301+x_1
  5990                        ;  
  5991                        ;        // check for decision parameter 
  5992                        ;        // and correspondingly  
  5993                        ;        // update d, x, y 
  5994                        ;        if (d > 0) 
  5995                        	.line	792
  5996                        ;        { 
  5997 03:15E2: 38           	sec
  5998 03:15E3: A9 00 00     	lda	#$0
  5999 03:15E6: E5 0D        	sbc	<L301+d_1
  6000 03:15E8: 70 03        	bvs	L305
  6001 03:15EA: 49 00 80     	eor	#$8000
  6002                        L305:
  6003 03:15ED: 10 03        	bpl	L306
  6004 03:15EF: 82 21 00     	brl	L10038
  6005                        L306:
  6006                        	.line	793
  6007                        ;            y--;  
  6008                        	.line	794
  6009 03:15F2: C6 0B        	dec	<L301+y_1
  6010                        ;            d = d + 4 * (x - y) + 10; 
  6011                        	.line	795
  6012 03:15F4: 38           	sec
  6013 03:15F5: A5 09        	lda	<L301+x_1
  6014 03:15F7: E5 0B        	sbc	<L301+y_1
  6015 03:15F9: 85 05        	sta	<R1
  6016 03:15FB: A5 05        	lda	<R1
  6017 03:15FD: 0A           	asl	A
  6018 03:15FE: 0A           	asl	A
  6019 03:15FF: 85 01        	sta	<R0
  6020 03:1601: 18           	clc
  6021 03:1602: A5 01        	lda	<R0
  6022 03:1604: 65 0D        	adc	<L301+d_1
  6023 03:1606: 85 05        	sta	<R1
  6024 03:1608: 18           	clc
  6025 03:1609: A9 0A 00     	lda	#$a
  6026 03:160C: 65 05        	adc	<R1
  6027 03:160E: 85 0D        	sta	<L301+d_1
  6028                        ;        } 
  6029                        	.line	796
  6030                        ;        else
  6031 03:1610: 82 15 00     	brl	L10039
  6032                        L10038:
  6033                        ;            d = d + 4 * x + 6; 
  6034                        	.line	798
  6035 03:1613: A5 09        	lda	<L301+x_1
  Mon Dec  7 2020 11:19                                                Page 115


  6036 03:1615: 0A           	asl	A
  6037 03:1616: 0A           	asl	A
  6038 03:1617: 85 01        	sta	<R0
  6039 03:1619: 18           	clc
  6040 03:161A: A5 01        	lda	<R0
  6041 03:161C: 65 0D        	adc	<L301+d_1
  6042 03:161E: 85 05        	sta	<R1
  6043 03:1620: 18           	clc
  6044 03:1621: A9 06 00     	lda	#$6
  6045 03:1624: 65 05        	adc	<R1
  6046 03:1626: 85 0D        	sta	<L301+d_1
  6047                        L10039:
  6048                        ;        k_draw_filled_segments(xc, yc, x, y, colo
                    r); 
  6049                        	.line	799
  6050 03:1628: D4 18        	pei	<L300+color_0
  6051 03:162A: D4 0B        	pei	<L301+y_1
  6052 03:162C: D4 09        	pei	<L301+x_1
  6053 03:162E: D4 14        	pei	<L300+yc_0
  6054 03:1630: D4 12        	pei	<L300+xc_0
  6055 03:1632: 22 D7 12 03  	jsl	~~k_draw_filled_segments
  6056                        ;       
  6057                        ;    } 
  6058                        	.line	801
  6059 03:1636: 82 98 FF     	brl	L10036
  6060                        L10037:
  6061                        ;} 
  6062                        	.line	802
  6063                        L307:
  6064 03:1639: A5 10        	lda	<L300+2
  6065 03:163B: 85 18        	sta	<L300+2+8
  6066 03:163D: A5 0F        	lda	<L300+1
  6067 03:163F: 85 17        	sta	<L300+1+8
  6068 03:1641: 2B           	pld
  6069 03:1642: 3B           	tsc
  6070 03:1643: 18           	clc
  6071 03:1644: 69 16 00     	adc	#L300+8
  6072 03:1647: 1B           	tcs
  6073 03:1648: 6B           	rtl
  6074                        	.endblock	802
  6075             0000000E   L300	equ	14
  6076             00000009   L301	equ	9
  6077 03:1649:              	ends
  6078                        	efunc
  6079                        	.endfunc	802,9,14
  6080                        	.line	802
  6081                        ;void k_draw_line(int x0, int y0, int x1, int y1,i
                    nt color)
  6082                        ;{
  6083                        	.line	803
  6084                        	.line	804
  6085                        	GUI
  6086                        	xdef	~~k_draw_line
  6087                        	func
  6088                        	.function	804
  6089                        ~~k_draw_line:
  6090                        	longa	on
  6091                        	longi	on
  Mon Dec  7 2020 11:19                                                Page 116


  6092 03:1649: 3B           	tsc
  6093 03:164A: 38           	sec
  6094 03:164B: E9 00 00     	sbc	#L308
  6095 03:164E: 1B           	tcs
  6096 03:164F: 0B           	phd
  6097 03:1650: 5B           	tcd
  6098             00000004   x0_0	set	4
  6099             00000006   y0_0	set	6
  6100             00000008   x1_0	set	8
  6101             0000000A   y1_0	set	10
  6102             0000000C   color_0	set	12
  6103                        	.block	804
  6104                        ;	k_draw_line_ex(x0, y0, x1, y1,color,BITMAP_FRONT
                    );
  6105                        	.sym	x0,4,5,6,16
  6106                        	.sym	y0,6,5,6,16
  6107                        	.sym	x1,8,5,6,16
  6108                        	.sym	y1,10,5,6,16
  6109                        	.sym	color,12,5,6,16
  6110                        	.line	805
  6111 03:1651: F4 00 00     	pea	#<$0
  6112 03:1654: D4 0C        	pei	<L308+color_0
  6113 03:1656: D4 0A        	pei	<L308+y1_0
  6114 03:1658: D4 08        	pei	<L308+x1_0
  6115 03:165A: D4 06        	pei	<L308+y0_0
  6116 03:165C: D4 04        	pei	<L308+x0_0
  6117 03:165E: 22 72 16 03  	jsl	~~k_draw_line_ex
  6118                        ;}
  6119                        	.line	806
  6120                        L311:
  6121 03:1662: A5 02        	lda	<L308+2
  6122 03:1664: 85 0C        	sta	<L308+2+10
  6123 03:1666: A5 01        	lda	<L308+1
  6124 03:1668: 85 0B        	sta	<L308+1+10
  6125 03:166A: 2B           	pld
  6126 03:166B: 3B           	tsc
  6127 03:166C: 18           	clc
  6128 03:166D: 69 0A 00     	adc	#L308+10
  6129 03:1670: 1B           	tcs
  6130 03:1671: 6B           	rtl
  6131                        	.endblock	806
  6132             00000000   L308	equ	0
  6133             00000001   L309	equ	1
  6134 03:1672:              	ends
  6135                        	efunc
  6136                        	.endfunc	806,1,0
  6137                        	.line	806
  6138                        ;
  6139                        ;void k_draw_line_ex(int x0, int y0, int x1, int y
                    1,int color,UINT page)
  6140                        ;{
  6141                        	.line	808
  6142                        	.line	809
  6143                        	GUI
  6144                        	xdef	~~k_draw_line_ex
  6145                        	func
  6146                        	.function	809
  6147                        ~~k_draw_line_ex:
  Mon Dec  7 2020 11:19                                                Page 117


  6148                        	longa	on
  6149                        	longi	on
  6150 03:1672: 3B           	tsc
  6151 03:1673: 38           	sec
  6152 03:1674: E9 14 00     	sbc	#L312
  6153 03:1677: 1B           	tcs
  6154 03:1678: 0B           	phd
  6155 03:1679: 5B           	tcd
  6156             00000004   x0_0	set	4
  6157             00000006   y0_0	set	6
  6158             00000008   x1_0	set	8
  6159             0000000A   y1_0	set	10
  6160             0000000C   color_0	set	12
  6161             0000000E   page_0	set	14
  6162                        	.block	809
  6163                        ; 	int dx = abs(x1-x0), sx = x0<x1 ? 1 : -1
                    ;
  6164                        ;	int dy = abs(y1-y0), sy = y0<y1 ? 1 : -1; 
  6165                        ;	int err = (dx>dy ? dx : -dy)/2, e2;
  6166                        ;
  6167                        ;	for(;;)
  6168             00000000   dx_1	set	0
  6169             00000002   sx_1	set	2
  6170             00000004   dy_1	set	4
  6171             00000006   sy_1	set	6
  6172             00000008   err_1	set	8
  6173             0000000A   e2_1	set	10
  6174                        	.sym	dx,0,5,1,16
  6175                        	.sym	sx,2,5,1,16
  6176                        	.sym	dy,4,5,1,16
  6177                        	.sym	sy,6,5,1,16
  6178                        	.sym	err,8,5,1,16
  6179                        	.sym	e2,10,5,1,16
  6180                        	.sym	x0,4,5,6,16
  6181                        	.sym	y0,6,5,6,16
  6182                        	.sym	x1,8,5,6,16
  6183                        	.sym	y1,10,5,6,16
  6184                        	.sym	color,12,5,6,16
  6185                        	.sym	page,14,16,6,16
  6186 03:167A: 38           	sec
  6187 03:167B: A5 1C        	lda	<L312+x1_0
  6188 03:167D: E5 18        	sbc	<L312+x0_0
  6189 03:167F: 48           	pha
  6190 03:1680: 22 xx xx xx  	jsl	~~abs
  6191 03:1684: 85 09        	sta	<L313+dx_1
  6192 03:1686: 38           	sec
  6193 03:1687: A5 18        	lda	<L312+x0_0
  6194 03:1689: E5 1C        	sbc	<L312+x1_0
  6195 03:168B: 70 03        	bvs	L316
  6196 03:168D: 49 00 80     	eor	#$8000
  6197                        L316:
  6198 03:1690: 10 03        	bpl	L317
  6199 03:1692: 82 05 00     	brl	L315
  6200                        L317:
  6201 03:1695: A9 01 00     	lda	#$1
  6202 03:1698: 80 03        	bra	L318
  6203                        L315:
  6204 03:169A: A9 FF FF     	lda	#$ffff
  Mon Dec  7 2020 11:19                                                Page 118


  6205                        L318:
  6206 03:169D: 85 0B        	sta	<L313+sx_1
  6207 03:169F: 38           	sec
  6208 03:16A0: A5 1E        	lda	<L312+y1_0
  6209 03:16A2: E5 1A        	sbc	<L312+y0_0
  6210 03:16A4: 48           	pha
  6211 03:16A5: 22 xx xx xx  	jsl	~~abs
  6212 03:16A9: 85 0D        	sta	<L313+dy_1
  6213 03:16AB: 38           	sec
  6214 03:16AC: A5 1A        	lda	<L312+y0_0
  6215 03:16AE: E5 1E        	sbc	<L312+y1_0
  6216 03:16B0: 70 03        	bvs	L320
  6217 03:16B2: 49 00 80     	eor	#$8000
  6218                        L320:
  6219 03:16B5: 10 03        	bpl	L321
  6220 03:16B7: 82 05 00     	brl	L319
  6221                        L321:
  6222 03:16BA: A9 01 00     	lda	#$1
  6223 03:16BD: 80 03        	bra	L322
  6224                        L319:
  6225 03:16BF: A9 FF FF     	lda	#$ffff
  6226                        L322:
  6227 03:16C2: 85 0F        	sta	<L313+sy_1
  6228 03:16C4: 38           	sec
  6229 03:16C5: A5 0D        	lda	<L313+dy_1
  6230 03:16C7: E5 09        	sbc	<L313+dx_1
  6231 03:16C9: 70 03        	bvs	L324
  6232 03:16CB: 49 00 80     	eor	#$8000
  6233                        L324:
  6234 03:16CE: 10 03        	bpl	L325
  6235 03:16D0: 82 04 00     	brl	L323
  6236                        L325:
  6237 03:16D3: A5 09        	lda	<L313+dx_1
  6238 03:16D5: 80 0A        	bra	L326
  6239                        L323:
  6240 03:16D7: 38           	sec
  6241 03:16D8: A9 00 00     	lda	#$0
  6242 03:16DB: E5 0D        	sbc	<L313+dy_1
  6243 03:16DD: 85 01        	sta	<R0
  6244 03:16DF: A5 01        	lda	<R0
  6245                        L326:
  6246 03:16E1: 85 01        	sta	<R0
  6247 03:16E3: A5 01        	lda	<R0
  6248 03:16E5: A2 02 00     	ldx	#<$2
  6249                        	xref	~~~div
  6250 03:16E8: 22 xx xx xx  	jsl	~~~div
  6251 03:16EC: 85 11        	sta	<L313+err_1
  6252                        	.line	814
  6253                        L10042:
  6254                        ;	{
  6255                        	.line	815
  6256                        ;		k_draw_pixel_ex(x0,y0,color,page);
  6257                        	.line	816
  6258 03:16EE: D4 22        	pei	<L312+page_0
  6259 03:16F0: D4 20        	pei	<L312+color_0
  6260 03:16F2: A0 00 00     	ldy	#$0
  6261 03:16F5: A5 1A        	lda	<L312+y0_0
  6262 03:16F7: 10 01        	bpl	L327
  Mon Dec  7 2020 11:19                                                Page 119


  6263 03:16F9: 88           	dey
  6264                        L327:
  6265 03:16FA: 85 01        	sta	<R0
  6266 03:16FC: 84 03        	sty	<R0+2
  6267 03:16FE: D4 03        	pei	<R0+2
  6268 03:1700: D4 01        	pei	<R0
  6269 03:1702: A0 00 00     	ldy	#$0
  6270 03:1705: A5 18        	lda	<L312+x0_0
  6271 03:1707: 10 01        	bpl	L328
  6272 03:1709: 88           	dey
  6273                        L328:
  6274 03:170A: 85 05        	sta	<R1
  6275 03:170C: 84 07        	sty	<R1+2
  6276 03:170E: D4 07        	pei	<R1+2
  6277 03:1710: D4 05        	pei	<R1
  6278 03:1712: 22 5E 0E 03  	jsl	~~k_draw_pixel_ex
  6279                        ;		if (x0==x1 && y0==y1) break;
  6280                        	.line	817
  6281 03:1716: A5 18        	lda	<L312+x0_0
  6282 03:1718: C5 1C        	cmp	<L312+x1_0
  6283 03:171A: F0 03        	beq	L330
  6284 03:171C: 82 09 00     	brl	L329
  6285                        L330:
  6286 03:171F: A5 1A        	lda	<L312+y0_0
  6287 03:1721: C5 1E        	cmp	<L312+y1_0
  6288 03:1723: D0 03        	bne	L331
  6289 03:1725: 82 49 00     	brl	L10041
  6290                        L331:
  6291                        L329:
  6292                        ;		e2 = err;
  6293                        	.line	818
  6294 03:1728: A5 11        	lda	<L313+err_1
  6295 03:172A: 85 13        	sta	<L313+e2_1
  6296                        ;		if (e2 >-dx) { err -= dy; x0 += sx; }
  6297                        	.line	819
  6298 03:172C: 38           	sec
  6299 03:172D: A9 00 00     	lda	#$0
  6300 03:1730: E5 09        	sbc	<L313+dx_1
  6301 03:1732: 85 01        	sta	<R0
  6302 03:1734: 38           	sec
  6303 03:1735: A5 01        	lda	<R0
  6304 03:1737: E5 13        	sbc	<L313+e2_1
  6305 03:1739: 70 03        	bvs	L332
  6306 03:173B: 49 00 80     	eor	#$8000
  6307                        L332:
  6308 03:173E: 10 03        	bpl	L333
  6309 03:1740: 82 0E 00     	brl	L10043
  6310                        L333:
  6311                        	.line	819
  6312                        	.line	819
  6313 03:1743: 38           	sec
  6314 03:1744: A5 11        	lda	<L313+err_1
  6315 03:1746: E5 0D        	sbc	<L313+dy_1
  6316 03:1748: 85 11        	sta	<L313+err_1
  6317                        	.line	819
  6318 03:174A: 18           	clc
  6319 03:174B: A5 18        	lda	<L312+x0_0
  6320 03:174D: 65 0B        	adc	<L313+sx_1
  Mon Dec  7 2020 11:19                                                Page 120


  6321 03:174F: 85 18        	sta	<L312+x0_0
  6322                        	.line	819
  6323                        ;		if (e2 < dy) { err += dx; y0 += sy; }
  6324                        L10043:
  6325                        	.line	820
  6326 03:1751: 38           	sec
  6327 03:1752: A5 13        	lda	<L313+e2_1
  6328 03:1754: E5 0D        	sbc	<L313+dy_1
  6329 03:1756: 70 03        	bvs	L334
  6330 03:1758: 49 00 80     	eor	#$8000
  6331                        L334:
  6332 03:175B: 10 03        	bpl	L335
  6333 03:175D: 82 0E 00     	brl	L10044
  6334                        L335:
  6335                        	.line	820
  6336                        	.line	820
  6337 03:1760: 18           	clc
  6338 03:1761: A5 11        	lda	<L313+err_1
  6339 03:1763: 65 09        	adc	<L313+dx_1
  6340 03:1765: 85 11        	sta	<L313+err_1
  6341                        	.line	820
  6342 03:1767: 18           	clc
  6343 03:1768: A5 1A        	lda	<L312+y0_0
  6344 03:176A: 65 0F        	adc	<L313+sy_1
  6345 03:176C: 85 1A        	sta	<L312+y0_0
  6346                        	.line	820
  6347                        ;	}
  6348                        L10044:
  6349                        	.line	821
  6350                        L10040:
  6351 03:176E: 82 7D FF     	brl	L10042
  6352                        L10041:
  6353                        ;}
  6354                        	.line	822
  6355                        L336:
  6356 03:1771: A5 16        	lda	<L312+2
  6357 03:1773: 85 22        	sta	<L312+2+12
  6358 03:1775: A5 15        	lda	<L312+1
  6359 03:1777: 85 21        	sta	<L312+1+12
  6360 03:1779: 2B           	pld
  6361 03:177A: 3B           	tsc
  6362 03:177B: 18           	clc
  6363 03:177C: 69 20 00     	adc	#L312+12
  6364 03:177F: 1B           	tcs
  6365 03:1780: 6B           	rtl
  6366                        	.endblock	822
  6367             00000014   L312	equ	20
  6368             00000009   L313	equ	9
  6369 03:1781:              	ends
  6370                        	efunc
  6371                        	.endfunc	822,9,20
  6372                        	.line	822
  6373                        ;
  6374                        ;void k_draw_line_with_pattern(int x0, int y0, int
                     x1, int y1,int color, UINT brush)
  6375                        ;{
  6376                        	.line	824
  6377                        	.line	825
  Mon Dec  7 2020 11:19                                                Page 121


  6378                        	GUI
  6379                        	xdef	~~k_draw_line_with_pattern
  6380                        	func
  6381                        	.function	825
  6382                        ~~k_draw_line_with_pattern:
  6383                        	longa	on
  6384                        	longi	on
  6385 03:1781: 3B           	tsc
  6386 03:1782: 38           	sec
  6387 03:1783: E9 14 00     	sbc	#L337
  6388 03:1786: 1B           	tcs
  6389 03:1787: 0B           	phd
  6390 03:1788: 5B           	tcd
  6391             00000004   x0_0	set	4
  6392             00000006   y0_0	set	6
  6393             00000008   x1_0	set	8
  6394             0000000A   y1_0	set	10
  6395             0000000C   color_0	set	12
  6396             0000000E   brush_0	set	14
  6397                        	.block	825
  6398                        ; 	int dx = abs(x1-x0), sx = x0<x1 ? 1 : -1
                    ;
  6399                        ;	int dy = abs(y1-y0), sy = y0<y1 ? 1 : -1;
  6400                        ;	int err = (dx>dy ? dx : -dy)/2, e2;
  6401                        ;
  6402                        ;	for(;;)
  6403             00000000   dx_1	set	0
  6404             00000002   sx_1	set	2
  6405             00000004   dy_1	set	4
  6406             00000006   sy_1	set	6
  6407             00000008   err_1	set	8
  6408             0000000A   e2_1	set	10
  6409                        	.sym	dx,0,5,1,16
  6410                        	.sym	sx,2,5,1,16
  6411                        	.sym	dy,4,5,1,16
  6412                        	.sym	sy,6,5,1,16
  6413                        	.sym	err,8,5,1,16
  6414                        	.sym	e2,10,5,1,16
  6415                        	.sym	x0,4,5,6,16
  6416                        	.sym	y0,6,5,6,16
  6417                        	.sym	x1,8,5,6,16
  6418                        	.sym	y1,10,5,6,16
  6419                        	.sym	color,12,5,6,16
  6420                        	.sym	brush,14,16,6,16
  6421 03:1789: 38           	sec
  6422 03:178A: A5 1C        	lda	<L337+x1_0
  6423 03:178C: E5 18        	sbc	<L337+x0_0
  6424 03:178E: 48           	pha
  6425 03:178F: 22 xx xx xx  	jsl	~~abs
  6426 03:1793: 85 09        	sta	<L338+dx_1
  6427 03:1795: 38           	sec
  6428 03:1796: A5 18        	lda	<L337+x0_0
  6429 03:1798: E5 1C        	sbc	<L337+x1_0
  6430 03:179A: 70 03        	bvs	L341
  6431 03:179C: 49 00 80     	eor	#$8000
  6432                        L341:
  6433 03:179F: 10 03        	bpl	L342
  6434 03:17A1: 82 05 00     	brl	L340
  Mon Dec  7 2020 11:19                                                Page 122


  6435                        L342:
  6436 03:17A4: A9 01 00     	lda	#$1
  6437 03:17A7: 80 03        	bra	L343
  6438                        L340:
  6439 03:17A9: A9 FF FF     	lda	#$ffff
  6440                        L343:
  6441 03:17AC: 85 0B        	sta	<L338+sx_1
  6442 03:17AE: 38           	sec
  6443 03:17AF: A5 1E        	lda	<L337+y1_0
  6444 03:17B1: E5 1A        	sbc	<L337+y0_0
  6445 03:17B3: 48           	pha
  6446 03:17B4: 22 xx xx xx  	jsl	~~abs
  6447 03:17B8: 85 0D        	sta	<L338+dy_1
  6448 03:17BA: 38           	sec
  6449 03:17BB: A5 1A        	lda	<L337+y0_0
  6450 03:17BD: E5 1E        	sbc	<L337+y1_0
  6451 03:17BF: 70 03        	bvs	L345
  6452 03:17C1: 49 00 80     	eor	#$8000
  6453                        L345:
  6454 03:17C4: 10 03        	bpl	L346
  6455 03:17C6: 82 05 00     	brl	L344
  6456                        L346:
  6457 03:17C9: A9 01 00     	lda	#$1
  6458 03:17CC: 80 03        	bra	L347
  6459                        L344:
  6460 03:17CE: A9 FF FF     	lda	#$ffff
  6461                        L347:
  6462 03:17D1: 85 0F        	sta	<L338+sy_1
  6463 03:17D3: 38           	sec
  6464 03:17D4: A5 0D        	lda	<L338+dy_1
  6465 03:17D6: E5 09        	sbc	<L338+dx_1
  6466 03:17D8: 70 03        	bvs	L349
  6467 03:17DA: 49 00 80     	eor	#$8000
  6468                        L349:
  6469 03:17DD: 10 03        	bpl	L350
  6470 03:17DF: 82 04 00     	brl	L348
  6471                        L350:
  6472 03:17E2: A5 09        	lda	<L338+dx_1
  6473 03:17E4: 80 0A        	bra	L351
  6474                        L348:
  6475 03:17E6: 38           	sec
  6476 03:17E7: A9 00 00     	lda	#$0
  6477 03:17EA: E5 0D        	sbc	<L338+dy_1
  6478 03:17EC: 85 01        	sta	<R0
  6479 03:17EE: A5 01        	lda	<R0
  6480                        L351:
  6481 03:17F0: 85 01        	sta	<R0
  6482 03:17F2: A5 01        	lda	<R0
  6483 03:17F4: A2 02 00     	ldx	#<$2
  6484                        	xref	~~~div
  6485 03:17F7: 22 xx xx xx  	jsl	~~~div
  6486 03:17FB: 85 11        	sta	<L338+err_1
  6487                        	.line	830
  6488                        L10047:
  6489                        ;	{
  6490                        	.line	831
  6491                        ;		if()
  6492                        	.line	832
  Mon Dec  7 2020 11:19                                                Page 123


  6493                        ;		k_draw_pixel(x0,y0,color);
  6494                        	.line	833
  6495 03:17FD: D4 20        	pei	<L337+color_0
  6496 03:17FF: A0 00 00     	ldy	#$0
  6497 03:1802: A5 1A        	lda	<L337+y0_0
  6498 03:1804: 10 01        	bpl	L352
  6499 03:1806: 88           	dey
  6500                        L352:
  6501 03:1807: 85 01        	sta	<R0
  6502 03:1809: 84 03        	sty	<R0+2
  6503 03:180B: D4 03        	pei	<R0+2
  6504 03:180D: D4 01        	pei	<R0
  6505 03:180F: A0 00 00     	ldy	#$0
  6506 03:1812: A5 18        	lda	<L337+x0_0
  6507 03:1814: 10 01        	bpl	L353
  6508 03:1816: 88           	dey
  6509                        L353:
  6510 03:1817: 85 05        	sta	<R1
  6511 03:1819: 84 07        	sty	<R1+2
  6512 03:181B: D4 07        	pei	<R1+2
  6513 03:181D: D4 05        	pei	<R1
  6514 03:181F: 22 10 0E 03  	jsl	~~k_draw_pixel
  6515                        ;		if (x0==x1 && y0==y1) break;
  6516                        L10048:
  6517                        	.line	834
  6518 03:1823: A5 18        	lda	<L337+x0_0
  6519 03:1825: C5 1C        	cmp	<L337+x1_0
  6520 03:1827: F0 03        	beq	L355
  6521 03:1829: 82 09 00     	brl	L354
  6522                        L355:
  6523 03:182C: A5 1A        	lda	<L337+y0_0
  6524 03:182E: C5 1E        	cmp	<L337+y1_0
  6525 03:1830: D0 03        	bne	L356
  6526 03:1832: 82 49 00     	brl	L10046
  6527                        L356:
  6528                        L354:
  6529                        ;		e2 = err;
  6530                        	.line	835
  6531 03:1835: A5 11        	lda	<L338+err_1
  6532 03:1837: 85 13        	sta	<L338+e2_1
  6533                        ;		if (e2 >-dx) { err -= dy; x0 += sx; }
  6534                        	.line	836
  6535 03:1839: 38           	sec
  6536 03:183A: A9 00 00     	lda	#$0
  6537 03:183D: E5 09        	sbc	<L338+dx_1
  6538 03:183F: 85 01        	sta	<R0
  6539 03:1841: 38           	sec
  6540 03:1842: A5 01        	lda	<R0
  6541 03:1844: E5 13        	sbc	<L338+e2_1
  6542 03:1846: 70 03        	bvs	L357
  6543 03:1848: 49 00 80     	eor	#$8000
  6544                        L357:
  6545 03:184B: 10 03        	bpl	L358
  6546 03:184D: 82 0E 00     	brl	L10049
  6547                        L358:
  6548                        	.line	836
  6549                        	.line	836
  6550 03:1850: 38           	sec
  Mon Dec  7 2020 11:19                                                Page 124


  6551 03:1851: A5 11        	lda	<L338+err_1
  6552 03:1853: E5 0D        	sbc	<L338+dy_1
  6553 03:1855: 85 11        	sta	<L338+err_1
  6554                        	.line	836
  6555 03:1857: 18           	clc
  6556 03:1858: A5 18        	lda	<L337+x0_0
  6557 03:185A: 65 0B        	adc	<L338+sx_1
  6558 03:185C: 85 18        	sta	<L337+x0_0
  6559                        	.line	836
  6560                        ;		if (e2 < dy) { err += dx; y0 += sy; }
  6561                        L10049:
  6562                        	.line	837
  6563 03:185E: 38           	sec
  6564 03:185F: A5 13        	lda	<L338+e2_1
  6565 03:1861: E5 0D        	sbc	<L338+dy_1
  6566 03:1863: 70 03        	bvs	L359
  6567 03:1865: 49 00 80     	eor	#$8000
  6568                        L359:
  6569 03:1868: 10 03        	bpl	L360
  6570 03:186A: 82 0E 00     	brl	L10050
  6571                        L360:
  6572                        	.line	837
  6573                        	.line	837
  6574 03:186D: 18           	clc
  6575 03:186E: A5 11        	lda	<L338+err_1
  6576 03:1870: 65 09        	adc	<L338+dx_1
  6577 03:1872: 85 11        	sta	<L338+err_1
  6578                        	.line	837
  6579 03:1874: 18           	clc
  6580 03:1875: A5 1A        	lda	<L337+y0_0
  6581 03:1877: 65 0F        	adc	<L338+sy_1
  6582 03:1879: 85 1A        	sta	<L337+y0_0
  6583                        	.line	837
  6584                        ;	}
  6585                        L10050:
  6586                        	.line	838
  6587                        L10045:
  6588 03:187B: 82 7F FF     	brl	L10047
  6589                        L10046:
  6590                        ;}
  6591                        	.line	839
  6592                        L361:
  6593 03:187E: A5 16        	lda	<L337+2
  6594 03:1880: 85 22        	sta	<L337+2+12
  6595 03:1882: A5 15        	lda	<L337+1
  6596 03:1884: 85 21        	sta	<L337+1+12
  6597 03:1886: 2B           	pld
  6598 03:1887: 3B           	tsc
  6599 03:1888: 18           	clc
  6600 03:1889: 69 20 00     	adc	#L337+12
  6601 03:188C: 1B           	tcs
  6602 03:188D: 6B           	rtl
  6603                        	.endblock	839
  6604             00000014   L337	equ	20
  6605             00000009   L338	equ	9
  6606 03:188E:              	ends
  6607                        	efunc
  6608                        	.endfunc	839,9,20
  Mon Dec  7 2020 11:19                                                Page 125


  6609                        	.line	839
  6610                        ;
  6611                        ;void k_draw_rect_slow(int left,int top, int right
                    , int bottom, char color)
  6612                        ;{
  6613                        	.line	841
  6614                        	.line	842
  6615                        	GUI
  6616                        	xdef	~~k_draw_rect_slow
  6617                        	func
  6618                        	.function	842
  6619                        ~~k_draw_rect_slow:
  6620                        	longa	on
  6621                        	longi	on
  6622 03:188E: 3B           	tsc
  6623 03:188F: 38           	sec
  6624 03:1890: E9 00 00     	sbc	#L362
  6625 03:1893: 1B           	tcs
  6626 03:1894: 0B           	phd
  6627 03:1895: 5B           	tcd
  6628             00000004   left_0	set	4
  6629             00000006   top_0	set	6
  6630             00000008   right_0	set	8
  6631             0000000A   bottom_0	set	10
  6632             0000000C   color_0	set	12
  6633                        	.block	842
  6634                        ;	k_draw_line(left,top,right,top,color);
  6635                        	.sym	left,4,5,6,16
  6636                        	.sym	top,6,5,6,16
  6637                        	.sym	right,8,5,6,16
  6638                        	.sym	bottom,10,5,6,16
  6639                        	.sym	color,12,14,6,8
  6640                        	.line	843
  6641 03:1896: A5 0C        	lda	<L362+color_0
  6642 03:1898: 29 FF 00     	and	#$ff
  6643 03:189B: 48           	pha
  6644 03:189C: D4 06        	pei	<L362+top_0
  6645 03:189E: D4 08        	pei	<L362+right_0
  6646 03:18A0: D4 06        	pei	<L362+top_0
  6647 03:18A2: D4 04        	pei	<L362+left_0
  6648 03:18A4: 22 49 16 03  	jsl	~~k_draw_line
  6649                        ;	k_draw_line(left,top,left,bottom,color);
  6650                        	.line	844
  6651 03:18A8: A5 0C        	lda	<L362+color_0
  6652 03:18AA: 29 FF 00     	and	#$ff
  6653 03:18AD: 48           	pha
  6654 03:18AE: D4 0A        	pei	<L362+bottom_0
  6655 03:18B0: D4 04        	pei	<L362+left_0
  6656 03:18B2: D4 06        	pei	<L362+top_0
  6657 03:18B4: D4 04        	pei	<L362+left_0
  6658 03:18B6: 22 49 16 03  	jsl	~~k_draw_line
  6659                        ;	k_draw_line(right,top,right,bottom,color);
  6660                        	.line	845
  6661 03:18BA: A5 0C        	lda	<L362+color_0
  6662 03:18BC: 29 FF 00     	and	#$ff
  6663 03:18BF: 48           	pha
  6664 03:18C0: D4 0A        	pei	<L362+bottom_0
  6665 03:18C2: D4 08        	pei	<L362+right_0
  Mon Dec  7 2020 11:19                                                Page 126


  6666 03:18C4: D4 06        	pei	<L362+top_0
  6667 03:18C6: D4 08        	pei	<L362+right_0
  6668 03:18C8: 22 49 16 03  	jsl	~~k_draw_line
  6669                        ;	k_draw_line(left,bottom,right,bottom,color);
  6670                        	.line	846
  6671 03:18CC: A5 0C        	lda	<L362+color_0
  6672 03:18CE: 29 FF 00     	and	#$ff
  6673 03:18D1: 48           	pha
  6674 03:18D2: D4 0A        	pei	<L362+bottom_0
  6675 03:18D4: D4 08        	pei	<L362+right_0
  6676 03:18D6: D4 0A        	pei	<L362+bottom_0
  6677 03:18D8: D4 04        	pei	<L362+left_0
  6678 03:18DA: 22 49 16 03  	jsl	~~k_draw_line
  6679                        ;}
  6680                        	.line	847
  6681                        L365:
  6682 03:18DE: A5 02        	lda	<L362+2
  6683 03:18E0: 85 0C        	sta	<L362+2+10
  6684 03:18E2: A5 01        	lda	<L362+1
  6685 03:18E4: 85 0B        	sta	<L362+1+10
  6686 03:18E6: 2B           	pld
  6687 03:18E7: 3B           	tsc
  6688 03:18E8: 18           	clc
  6689 03:18E9: 69 0A 00     	adc	#L362+10
  6690 03:18EC: 1B           	tcs
  6691 03:18ED: 6B           	rtl
  6692                        	.endblock	847
  6693             00000000   L362	equ	0
  6694             00000001   L363	equ	1
  6695 03:18EE:              	ends
  6696                        	efunc
  6697                        	.endfunc	847,1,0
  6698                        	.line	847
  6699                        ;
  6700                        ;void k_draw_rect(int left,int top, int right, int
                     bottom, char color,UINT brush,UINT page)
  6701                        ;{
  6702                        	.line	849
  6703                        	.line	850
  6704                        	GUI
  6705                        	xdef	~~k_draw_rect
  6706                        	func
  6707                        	.function	850
  6708                        ~~k_draw_rect:
  6709                        	longa	on
  6710                        	longi	on
  6711 03:18EE: 3B           	tsc
  6712 03:18EF: 38           	sec
  6713 03:18F0: E9 00 00     	sbc	#L366
  6714 03:18F3: 1B           	tcs
  6715 03:18F4: 0B           	phd
  6716 03:18F5: 5B           	tcd
  6717             00000004   left_0	set	4
  6718             00000006   top_0	set	6
  6719             00000008   right_0	set	8
  6720             0000000A   bottom_0	set	10
  6721             0000000C   color_0	set	12
  6722             0000000E   brush_0	set	14
  Mon Dec  7 2020 11:19                                                Page 127


  6723             00000010   page_0	set	16
  6724                        	.block	850
  6725                        ;	k_draw_line_ex(left,top,right,top,color,page);
  6726                        	.sym	left,4,5,6,16
  6727                        	.sym	top,6,5,6,16
  6728                        	.sym	right,8,5,6,16
  6729                        	.sym	bottom,10,5,6,16
  6730                        	.sym	color,12,14,6,8
  6731                        	.sym	brush,14,16,6,16
  6732                        	.sym	page,16,16,6,16
  6733                        	.line	851
  6734 03:18F6: D4 10        	pei	<L366+page_0
  6735 03:18F8: A5 0C        	lda	<L366+color_0
  6736 03:18FA: 29 FF 00     	and	#$ff
  6737 03:18FD: 48           	pha
  6738 03:18FE: D4 06        	pei	<L366+top_0
  6739 03:1900: D4 08        	pei	<L366+right_0
  6740 03:1902: D4 06        	pei	<L366+top_0
  6741 03:1904: D4 04        	pei	<L366+left_0
  6742 03:1906: 22 72 16 03  	jsl	~~k_draw_line_ex
  6743                        ;	k_draw_line_ex(left,top,left,bottom,color,page);
  6744                        	.line	852
  6745 03:190A: D4 10        	pei	<L366+page_0
  6746 03:190C: A5 0C        	lda	<L366+color_0
  6747 03:190E: 29 FF 00     	and	#$ff
  6748 03:1911: 48           	pha
  6749 03:1912: D4 0A        	pei	<L366+bottom_0
  6750 03:1914: D4 04        	pei	<L366+left_0
  6751 03:1916: D4 06        	pei	<L366+top_0
  6752 03:1918: D4 04        	pei	<L366+left_0
  6753 03:191A: 22 72 16 03  	jsl	~~k_draw_line_ex
  6754                        ;	k_draw_line_ex(right,top,right,bottom,color,page
                    );
  6755                        	.line	853
  6756 03:191E: D4 10        	pei	<L366+page_0
  6757 03:1920: A5 0C        	lda	<L366+color_0
  6758 03:1922: 29 FF 00     	and	#$ff
  6759 03:1925: 48           	pha
  6760 03:1926: D4 0A        	pei	<L366+bottom_0
  6761 03:1928: D4 08        	pei	<L366+right_0
  6762 03:192A: D4 06        	pei	<L366+top_0
  6763 03:192C: D4 08        	pei	<L366+right_0
  6764 03:192E: 22 72 16 03  	jsl	~~k_draw_line_ex
  6765                        ;	k_draw_line_ex(left,bottom,right,bottom,color,pa
                    ge);
  6766                        	.line	854
  6767 03:1932: D4 10        	pei	<L366+page_0
  6768 03:1934: A5 0C        	lda	<L366+color_0
  6769 03:1936: 29 FF 00     	and	#$ff
  6770 03:1939: 48           	pha
  6771 03:193A: D4 0A        	pei	<L366+bottom_0
  6772 03:193C: D4 08        	pei	<L366+right_0
  6773 03:193E: D4 0A        	pei	<L366+bottom_0
  6774 03:1940: D4 04        	pei	<L366+left_0
  6775 03:1942: 22 72 16 03  	jsl	~~k_draw_line_ex
  6776                        ;}
  6777                        	.line	855
  6778                        L369:
  Mon Dec  7 2020 11:19                                                Page 128


  6779 03:1946: A5 02        	lda	<L366+2
  6780 03:1948: 85 10        	sta	<L366+2+14
  6781 03:194A: A5 01        	lda	<L366+1
  6782 03:194C: 85 0F        	sta	<L366+1+14
  6783 03:194E: 2B           	pld
  6784 03:194F: 3B           	tsc
  6785 03:1950: 18           	clc
  6786 03:1951: 69 0E 00     	adc	#L366+14
  6787 03:1954: 1B           	tcs
  6788 03:1955: 6B           	rtl
  6789                        	.endblock	855
  6790             00000000   L366	equ	0
  6791             00000001   L367	equ	1
  6792 03:1956:              	ends
  6793                        	efunc
  6794                        	.endfunc	855,1,0
  6795                        	.line	855
  6796                        ;
  6797                        ;void k_draw_filled_rect_slow(int left,int top, in
                    t right, int bottom, char color)
  6798                        ;{
  6799                        	.line	857
  6800                        	.line	858
  6801                        	GUI
  6802                        	xdef	~~k_draw_filled_rect_slow
  6803                        	func
  6804                        	.function	858
  6805                        ~~k_draw_filled_rect_slow:
  6806                        	longa	on
  6807                        	longi	on
  6808 03:1956: 3B           	tsc
  6809 03:1957: 38           	sec
  6810 03:1958: E9 00 00     	sbc	#L370
  6811 03:195B: 1B           	tcs
  6812 03:195C: 0B           	phd
  6813 03:195D: 5B           	tcd
  6814             00000004   left_0	set	4
  6815             00000006   top_0	set	6
  6816             00000008   right_0	set	8
  6817             0000000A   bottom_0	set	10
  6818             0000000C   color_0	set	12
  6819                        	.block	858
  6820                        ;	
  6821                        ;}
  6822                        	.sym	left,4,5,6,16
  6823                        	.sym	top,6,5,6,16
  6824                        	.sym	right,8,5,6,16
  6825                        	.sym	bottom,10,5,6,16
  6826                        	.sym	color,12,14,6,8
  6827                        	.line	860
  6828                        L373:
  6829 03:195E: A5 02        	lda	<L370+2
  6830 03:1960: 85 0C        	sta	<L370+2+10
  6831 03:1962: A5 01        	lda	<L370+1
  6832 03:1964: 85 0B        	sta	<L370+1+10
  6833 03:1966: 2B           	pld
  6834 03:1967: 3B           	tsc
  6835 03:1968: 18           	clc
  Mon Dec  7 2020 11:19                                                Page 129


  6836 03:1969: 69 0A 00     	adc	#L370+10
  6837 03:196C: 1B           	tcs
  6838 03:196D: 6B           	rtl
  6839                        	.endblock	860
  6840             00000000   L370	equ	0
  6841             00000001   L371	equ	1
  6842 03:196E:              	ends
  6843                        	efunc
  6844                        	.endfunc	860,1,0
  6845                        	.line	860
  6846                        ;
  6847                        ;
  6848                        ;int k_put_draw_text(int col,int row,char FAR *tex
                    t,char color,char bcolor)
  6849                        ;{
  6850                        	.line	863
  6851                        	.line	864
  6852                        	GUI
  6853                        	xdef	~~k_put_draw_text
  6854                        	func
  6855                        	.function	864
  6856                        ~~k_put_draw_text:
  6857                        	longa	on
  6858                        	longi	on
  6859 03:196E: 3B           	tsc
  6860 03:196F: 38           	sec
  6861 03:1970: E9 00 00     	sbc	#L374
  6862 03:1973: 1B           	tcs
  6863 03:1974: 0B           	phd
  6864 03:1975: 5B           	tcd
  6865             00000004   col_0	set	4
  6866             00000006   row_0	set	6
  6867             00000008   text_0	set	8
  6868             0000000C   color_0	set	12
  6869             0000000E   bcolor_0	set	14
  6870                        	.block	864
  6871                        ;	return k_draw_text(text, row, col, color);
  6872                        	.sym	col,4,5,6,16
  6873                        	.sym	row,6,5,6,16
  6874                        	.sym	text,8,142,6,32
  6875                        	.sym	color,12,14,6,8
  6876                        	.sym	bcolor,14,14,6,8
  6877                        	.line	865
  6878 03:1976: D4 0C        	pei	<L374+color_0
  6879 03:1978: D4 04        	pei	<L374+col_0
  6880 03:197A: D4 06        	pei	<L374+row_0
  6881 03:197C: D4 0A        	pei	<L374+text_0+2
  6882 03:197E: D4 08        	pei	<L374+text_0
  6883 03:1980: 22 96 19 03  	jsl	~~k_draw_text
  6884                        L377:
  6885 03:1984: A8           	tay
  6886 03:1985: A5 02        	lda	<L374+2
  6887 03:1987: 85 0E        	sta	<L374+2+12
  6888 03:1989: A5 01        	lda	<L374+1
  6889 03:198B: 85 0D        	sta	<L374+1+12
  6890 03:198D: 2B           	pld
  6891 03:198E: 3B           	tsc
  6892 03:198F: 18           	clc
  Mon Dec  7 2020 11:19                                                Page 130


  6893 03:1990: 69 0C 00     	adc	#L374+12
  6894 03:1993: 1B           	tcs
  6895 03:1994: 98           	tya
  6896 03:1995: 6B           	rtl
  6897                        ;}
  6898                        	.line	866
  6899                        	.endblock	866
  6900             00000000   L374	equ	0
  6901             00000001   L375	equ	1
  6902 03:1996:              	ends
  6903                        	efunc
  6904                        	.endfunc	866,1,0
  6905                        	.line	866
  6906                        ;
  6907                        ;int k_draw_text(char FAR *text,int row,int col,ch
                    ar color)
  6908                        ;{
  6909                        	.line	868
  6910                        	.line	869
  6911                        	GUI
  6912                        	xdef	~~k_draw_text
  6913                        	func
  6914                        	.function	869
  6915                        ~~k_draw_text:
  6916                        	longa	on
  6917                        	longi	on
  6918 03:1996: 3B           	tsc
  6919 03:1997: 38           	sec
  6920 03:1998: E9 04 00     	sbc	#L378
  6921 03:199B: 1B           	tcs
  6922 03:199C: 0B           	phd
  6923 03:199D: 5B           	tcd
  6924             00000004   text_0	set	4
  6925             00000008   row_0	set	8
  6926             0000000A   col_0	set	10
  6927             0000000C   color_0	set	12
  6928                        	.block	869
  6929                        ;	char FAR * ptr = (text);
  6930                        ;	while(*ptr)
  6931             00000000   ptr_1	set	0
  6932                        	.sym	ptr,0,142,1,32
  6933                        	.sym	text,4,142,6,32
  6934                        	.sym	row,8,5,6,16
  6935                        	.sym	col,10,5,6,16
  6936                        	.sym	color,12,14,6,8
  6937 03:199E: A5 08        	lda	<L378+text_0
  6938 03:19A0: 85 01        	sta	<L379+ptr_1
  6939 03:19A2: A5 0A        	lda	<L378+text_0+2
  6940 03:19A4: 85 03        	sta	<L379+ptr_1+2
  6941                        	.line	871
  6942                        L10051:
  6943 03:19A6: A7 01        	lda	[<L379+ptr_1]
  6944 03:19A8: 29 FF 00     	and	#$ff
  6945 03:19AB: D0 03        	bne	L381
  6946 03:19AD: 82 18 00     	brl	L10052
  6947                        L381:
  6948                        ;	{
  6949                        	.line	872
  Mon Dec  7 2020 11:19                                                Page 131


  6950                        ;		k_put_font(*ptr,col,row,color);
  6951                        	.line	873
  6952 03:19B0: D4 10        	pei	<L378+color_0
  6953 03:19B2: D4 0C        	pei	<L378+row_0
  6954 03:19B4: D4 0E        	pei	<L378+col_0
  6955 03:19B6: A7 01        	lda	[<L379+ptr_1]
  6956 03:19B8: 48           	pha
  6957 03:19B9: 22 69 28 03  	jsl	~~k_put_font
  6958                        ;		col++;
  6959                        	.line	874
  6960 03:19BD: E6 0E        	inc	<L378+col_0
  6961                        ;		ptr++;
  6962                        	.line	875
  6963 03:19BF: E6 01        	inc	<L379+ptr_1
  6964 03:19C1: D0 02        	bne	L382
  6965 03:19C3: E6 03        	inc	<L379+ptr_1+2
  6966                        L382:
  6967                        ;	}
  6968                        	.line	876
  6969 03:19C5: 82 DE FF     	brl	L10051
  6970                        L10052:
  6971                        ;	
  6972                        ;	return col;
  6973                        	.line	878
  6974 03:19C8: A5 0E        	lda	<L378+col_0
  6975                        L383:
  6976 03:19CA: A8           	tay
  6977 03:19CB: A5 06        	lda	<L378+2
  6978 03:19CD: 85 10        	sta	<L378+2+10
  6979 03:19CF: A5 05        	lda	<L378+1
  6980 03:19D1: 85 0F        	sta	<L378+1+10
  6981 03:19D3: 2B           	pld
  6982 03:19D4: 3B           	tsc
  6983 03:19D5: 18           	clc
  6984 03:19D6: 69 0E 00     	adc	#L378+10
  6985 03:19D9: 1B           	tcs
  6986 03:19DA: 98           	tya
  6987 03:19DB: 6B           	rtl
  6988                        ;}
  6989                        	.line	879
  6990                        	.endblock	879
  6991             00000004   L378	equ	4
  6992             00000001   L379	equ	1
  6993 03:19DC:              	ends
  6994                        	efunc
  6995                        	.endfunc	879,1,4
  6996                        	.line	879
  6997                        ;
  6998                        ;int k_draw_text_point_ex(LPCSTR text,int x,int y,
                    char color,UINT page)
  6999                        ;{
  7000                        	.line	881
  7001                        	.line	882
  7002                        	GUI
  7003                        	xdef	~~k_draw_text_point_ex
  7004                        	func
  7005                        	.function	882
  7006                        ~~k_draw_text_point_ex:
  Mon Dec  7 2020 11:19                                                Page 132


  7007                        	longa	on
  7008                        	longi	on
  7009 03:19DC: 3B           	tsc
  7010 03:19DD: 38           	sec
  7011 03:19DE: E9 0E 00     	sbc	#L384
  7012 03:19E1: 1B           	tcs
  7013 03:19E2: 0B           	phd
  7014 03:19E3: 5B           	tcd
  7015             00000004   text_0	set	4
  7016             00000008   x_0	set	8
  7017             0000000A   y_0	set	10
  7018             0000000C   color_0	set	12
  7019             0000000E   page_0	set	14
  7020                        	.block	882
  7021                        ;	int col = 0;
  7022                        ;	int width = 0;
  7023                        ;	int height = 0;
  7024                        ;
  7025                        ;	LPCSTR ptr = (text);
  7026                        ;
  7027                        ;	width  = Bm437ToshibaLCD8x8[0];
  7028             00000000   col_1	set	0
  7029             00000002   width_1	set	2
  7030             00000004   height_1	set	4
  7031             00000006   ptr_1	set	6
  7032                        	.sym	col,0,5,1,16
  7033                        	.sym	width,2,5,1,16
  7034                        	.sym	height,4,5,1,16
  7035                        	.sym	ptr,6,142,1,32
  7036                        	.sym	text,4,142,6,32
  7037                        	.sym	x,8,5,6,16
  7038                        	.sym	y,10,5,6,16
  7039                        	.sym	color,12,14,6,8
  7040                        	.sym	page,14,16,6,16
  7041 03:19E4: 64 05        	stz	<L385+col_1
  7042 03:19E6: 64 07        	stz	<L385+width_1
  7043 03:19E8: 64 09        	stz	<L385+height_1
  7044 03:19EA: A5 12        	lda	<L384+text_0
  7045 03:19EC: 85 0B        	sta	<L385+ptr_1
  7046 03:19EE: A5 14        	lda	<L384+text_0+2
  7047 03:19F0: 85 0D        	sta	<L385+ptr_1+2
  7048                        	.line	889
  7049 03:19F2: AF xx xx xx  	lda	>~~Bm437ToshibaLCD8x8
  7050 03:19F6: 29 FF 00     	and	#$ff
  7051 03:19F9: 85 07        	sta	<L385+width_1
  7052                        ;	height = Bm437ToshibaLCD8x8[1];
  7053                        	.line	890
  7054 03:19FB: AF xx xx xx  	lda	>~~Bm437ToshibaLCD8x8+1
  7055 03:19FF: 29 FF 00     	and	#$ff
  7056 03:1A02: 85 09        	sta	<L385+height_1
  7057                        ;
  7058                        ;
  7059                        ;	ptr = (text);
  7060                        	.line	893
  7061 03:1A04: A5 12        	lda	<L384+text_0
  7062 03:1A06: 85 0B        	sta	<L385+ptr_1
  7063 03:1A08: A5 14        	lda	<L384+text_0+2
  7064 03:1A0A: 85 0D        	sta	<L385+ptr_1+2
  Mon Dec  7 2020 11:19                                                Page 133


  7065                        ;	while(*ptr)
  7066                        	.line	894
  7067                        L10053:
  7068 03:1A0C: A7 0B        	lda	[<L385+ptr_1]
  7069 03:1A0E: 29 FF 00     	and	#$ff
  7070 03:1A11: D0 03        	bne	L387
  7071 03:1A13: 82 38 00     	brl	L10054
  7072                        L387:
  7073                        ;	{
  7074                        	.line	895
  7075                        ;		x+=k_put_binary_variablefont_point_ex( (
                    LPCHAR)&Bm437ToshibaLCD8x8[2] , *ptr,x,y,width,height,color,
                    page);
  7076                        	.line	896
  7077 03:1A16: D4 1C        	pei	<L384+page_0
  7078 03:1A18: D4 1A        	pei	<L384+color_0
  7079 03:1A1A: D4 09        	pei	<L385+height_1
  7080 03:1A1C: D4 07        	pei	<L385+width_1
  7081 03:1A1E: D4 18        	pei	<L384+y_0
  7082 03:1A20: D4 16        	pei	<L384+x_0
  7083 03:1A22: A7 0B        	lda	[<L385+ptr_1]
  7084 03:1A24: 48           	pha
  7085 03:1A25: F4 xx xx     	pea	#^~~Bm437ToshibaLCD8x8+2
  7086 03:1A28: F4 xx xx     	pea	#<~~Bm437ToshibaLCD8x8+2
  7087 03:1A2B: 22 63 22 03  	jsl	~~k_put_binary_variablefont_point_ex
  7088 03:1A2F: 85 01        	sta	<R0
  7089 03:1A31: 18           	clc
  7090 03:1A32: A5 01        	lda	<R0
  7091 03:1A34: 65 16        	adc	<L384+x_0
  7092 03:1A36: 85 16        	sta	<L384+x_0
  7093                        ;
  7094                        ;		ptr++;
  7095                        	.line	898
  7096 03:1A38: E6 0B        	inc	<L385+ptr_1
  7097 03:1A3A: D0 02        	bne	L388
  7098 03:1A3C: E6 0D        	inc	<L385+ptr_1+2
  7099                        L388:
  7100                        ;		col+=FONTW;
  7101                        	.line	899
  7102 03:1A3E: 22 FD 71 03  	jsl	~~k_font_getFontWidth
  7103 03:1A42: 85 01        	sta	<R0
  7104 03:1A44: 18           	clc
  7105 03:1A45: A5 01        	lda	<R0
  7106 03:1A47: 65 05        	adc	<L385+col_1
  7107 03:1A49: 85 05        	sta	<L385+col_1
  7108                        ;	}
  7109                        	.line	900
  7110 03:1A4B: 82 BE FF     	brl	L10053
  7111                        L10054:
  7112                        ;
  7113                        ;	return col;
  7114                        	.line	902
  7115 03:1A4E: A5 05        	lda	<L385+col_1
  7116                        L389:
  7117 03:1A50: A8           	tay
  7118 03:1A51: A5 10        	lda	<L384+2
  7119 03:1A53: 85 1C        	sta	<L384+2+12
  7120 03:1A55: A5 0F        	lda	<L384+1
  Mon Dec  7 2020 11:19                                                Page 134


  7121 03:1A57: 85 1B        	sta	<L384+1+12
  7122 03:1A59: 2B           	pld
  7123 03:1A5A: 3B           	tsc
  7124 03:1A5B: 18           	clc
  7125 03:1A5C: 69 1A 00     	adc	#L384+12
  7126 03:1A5F: 1B           	tcs
  7127 03:1A60: 98           	tya
  7128 03:1A61: 6B           	rtl
  7129                        ;}
  7130                        	.line	903
  7131                        	.endblock	903
  7132             0000000E   L384	equ	14
  7133             00000005   L385	equ	5
  7134 03:1A62:              	ends
  7135                        	efunc
  7136                        	.endfunc	903,5,14
  7137                        	.line	903
  7138                        ;
  7139                        ;int k_draw_text_point(LPCSTR text,int x,int y,cha
                    r color)
  7140                        ;{
  7141                        	.line	905
  7142                        	.line	906
  7143                        	GUI
  7144                        	xdef	~~k_draw_text_point
  7145                        	func
  7146                        	.function	906
  7147                        ~~k_draw_text_point:
  7148                        	longa	on
  7149                        	longi	on
  7150 03:1A62: 3B           	tsc
  7151 03:1A63: 38           	sec
  7152 03:1A64: E9 0E 00     	sbc	#L390
  7153 03:1A67: 1B           	tcs
  7154 03:1A68: 0B           	phd
  7155 03:1A69: 5B           	tcd
  7156             00000004   text_0	set	4
  7157             00000008   x_0	set	8
  7158             0000000A   y_0	set	10
  7159             0000000C   color_0	set	12
  7160                        	.block	906
  7161                        ;	int col = 0;
  7162                        ;	int width = 0;
  7163                        ;	int height = 0;
  7164                        ;
  7165                        ;	LPCSTR ptr = (text);
  7166                        ;	
  7167                        ;	width  = Bm437ToshibaLCD8x8[0];
  7168             00000000   col_1	set	0
  7169             00000002   width_1	set	2
  7170             00000004   height_1	set	4
  7171             00000006   ptr_1	set	6
  7172                        	.sym	col,0,5,1,16
  7173                        	.sym	width,2,5,1,16
  7174                        	.sym	height,4,5,1,16
  7175                        	.sym	ptr,6,142,1,32
  7176                        	.sym	text,4,142,6,32
  7177                        	.sym	x,8,5,6,16
  Mon Dec  7 2020 11:19                                                Page 135


  7178                        	.sym	y,10,5,6,16
  7179                        	.sym	color,12,14,6,8
  7180 03:1A6A: 64 05        	stz	<L391+col_1
  7181 03:1A6C: 64 07        	stz	<L391+width_1
  7182 03:1A6E: 64 09        	stz	<L391+height_1
  7183 03:1A70: A5 12        	lda	<L390+text_0
  7184 03:1A72: 85 0B        	sta	<L391+ptr_1
  7185 03:1A74: A5 14        	lda	<L390+text_0+2
  7186 03:1A76: 85 0D        	sta	<L391+ptr_1+2
  7187                        	.line	913
  7188 03:1A78: AF xx xx xx  	lda	>~~Bm437ToshibaLCD8x8
  7189 03:1A7C: 29 FF 00     	and	#$ff
  7190 03:1A7F: 85 07        	sta	<L391+width_1
  7191                        ;	height = Bm437ToshibaLCD8x8[1];
  7192                        	.line	914
  7193 03:1A81: AF xx xx xx  	lda	>~~Bm437ToshibaLCD8x8+1
  7194 03:1A85: 29 FF 00     	and	#$ff
  7195 03:1A88: 85 09        	sta	<L391+height_1
  7196                        ;
  7197                        ;
  7198                        ;	ptr = (text);
  7199                        	.line	917
  7200 03:1A8A: A5 12        	lda	<L390+text_0
  7201 03:1A8C: 85 0B        	sta	<L391+ptr_1
  7202 03:1A8E: A5 14        	lda	<L390+text_0+2
  7203 03:1A90: 85 0D        	sta	<L391+ptr_1+2
  7204                        ;	while(*ptr)
  7205                        	.line	918
  7206                        L10055:
  7207 03:1A92: A7 0B        	lda	[<L391+ptr_1]
  7208 03:1A94: 29 FF 00     	and	#$ff
  7209 03:1A97: D0 03        	bne	L393
  7210 03:1A99: 82 36 00     	brl	L10056
  7211                        L393:
  7212                        ;	{
  7213                        	.line	919
  7214                        ;		//x+=k_put_font_point(*ptr,x,y,color);
  7215                        ;
  7216                        ;		//x+=k_put_binary_font_point( Bm437Toshi
                    baLCD8x8 , *ptr,x,y,color);
  7217                        ;		//x+=k_put_binary_font_point( Bm437Amstr
                    adPC1512_2y , *ptr,x,y,color);
  7218                        ;
  7219                        ;		x+=k_put_binary_variablefont_point( (LPC
                    HAR)&Bm437ToshibaLCD8x8[2] , *ptr,x,y,width,height,color);
  7220                        	.line	925
  7221 03:1A9C: D4 1A        	pei	<L390+color_0
  7222 03:1A9E: D4 09        	pei	<L391+height_1
  7223 03:1AA0: D4 07        	pei	<L391+width_1
  7224 03:1AA2: D4 18        	pei	<L390+y_0
  7225 03:1AA4: D4 16        	pei	<L390+x_0
  7226 03:1AA6: A7 0B        	lda	[<L391+ptr_1]
  7227 03:1AA8: 48           	pha
  7228 03:1AA9: F4 xx xx     	pea	#^~~Bm437ToshibaLCD8x8+2
  7229 03:1AAC: F4 xx xx     	pea	#<~~Bm437ToshibaLCD8x8+2
  7230 03:1AAF: 22 69 21 03  	jsl	~~k_put_binary_variablefont_point
  7231 03:1AB3: 85 01        	sta	<R0
  7232 03:1AB5: 18           	clc
  Mon Dec  7 2020 11:19                                                Page 136


  7233 03:1AB6: A5 01        	lda	<R0
  7234 03:1AB8: 65 16        	adc	<L390+x_0
  7235 03:1ABA: 85 16        	sta	<L390+x_0
  7236                        ;
  7237                        ;		ptr++;
  7238                        	.line	927
  7239 03:1ABC: E6 0B        	inc	<L391+ptr_1
  7240 03:1ABE: D0 02        	bne	L394
  7241 03:1AC0: E6 0D        	inc	<L391+ptr_1+2
  7242                        L394:
  7243                        ;		col+=FONTW;
  7244                        	.line	928
  7245 03:1AC2: 22 FD 71 03  	jsl	~~k_font_getFontWidth
  7246 03:1AC6: 85 01        	sta	<R0
  7247 03:1AC8: 18           	clc
  7248 03:1AC9: A5 01        	lda	<R0
  7249 03:1ACB: 65 05        	adc	<L391+col_1
  7250 03:1ACD: 85 05        	sta	<L391+col_1
  7251                        ;	}
  7252                        	.line	929
  7253 03:1ACF: 82 C0 FF     	brl	L10055
  7254                        L10056:
  7255                        ;	
  7256                        ;	return col;
  7257                        	.line	931
  7258 03:1AD2: A5 05        	lda	<L391+col_1
  7259                        L395:
  7260 03:1AD4: A8           	tay
  7261 03:1AD5: A5 10        	lda	<L390+2
  7262 03:1AD7: 85 1A        	sta	<L390+2+10
  7263 03:1AD9: A5 0F        	lda	<L390+1
  7264 03:1ADB: 85 19        	sta	<L390+1+10
  7265 03:1ADD: 2B           	pld
  7266 03:1ADE: 3B           	tsc
  7267 03:1ADF: 18           	clc
  7268 03:1AE0: 69 18 00     	adc	#L390+10
  7269 03:1AE3: 1B           	tcs
  7270 03:1AE4: 98           	tya
  7271 03:1AE5: 6B           	rtl
  7272                        ;}
  7273                        	.line	932
  7274                        	.endblock	932
  7275             0000000E   L390	equ	14
  7276             00000005   L391	equ	5
  7277 03:1AE6:              	ends
  7278                        	efunc
  7279                        	.endfunc	932,5,14
  7280                        	.line	932
  7281                        ;
  7282                        ;int k_draw_text_point_with_font_ex(LPCSTR text,LP
                    CSTR charSet,int x,int y,char color,UINT page)
  7283                        ;{
  7284                        	.line	934
  7285                        	.line	935
  7286                        	GUI
  7287                        	xdef	~~k_draw_text_point_with_font_ex
  7288                        	func
  7289                        	.function	935
  Mon Dec  7 2020 11:19                                                Page 137


  7290                        ~~k_draw_text_point_with_font_ex:
  7291                        	longa	on
  7292                        	longi	on
  7293 03:1AE6: 3B           	tsc
  7294 03:1AE7: 38           	sec
  7295 03:1AE8: E9 12 00     	sbc	#L396
  7296 03:1AEB: 1B           	tcs
  7297 03:1AEC: 0B           	phd
  7298 03:1AED: 5B           	tcd
  7299             00000004   text_0	set	4
  7300             00000008   charSet_0	set	8
  7301             0000000C   x_0	set	12
  7302             0000000E   y_0	set	14
  7303             00000010   color_0	set	16
  7304             00000012   page_0	set	18
  7305                        	.block	935
  7306                        ;	int col = 0;
  7307                        ;	int width = 0;
  7308                        ;	int height = 0;
  7309                        ;
  7310                        ;	LPCHAR ptr = NULL;
  7311                        ;
  7312                        ;	//k_debug_pointer("k_draw_text_point_with_font:f
                    ont charSet:",(LPVOID)charSet);
  7313                        ;
  7314                        ;	width  = (INT)(((INT)charSet[0]) & 0x00FF);
  7315             00000000   col_1	set	0
  7316             00000002   width_1	set	2
  7317             00000004   height_1	set	4
  7318             00000006   ptr_1	set	6
  7319                        	.sym	col,0,5,1,16
  7320                        	.sym	width,2,5,1,16
  7321                        	.sym	height,4,5,1,16
  7322                        	.sym	ptr,6,142,1,32
  7323                        	.sym	text,4,142,6,32
  7324                        	.sym	charSet,8,142,6,32
  7325                        	.sym	x,12,5,6,16
  7326                        	.sym	y,14,5,6,16
  7327                        	.sym	color,16,14,6,8
  7328                        	.sym	page,18,16,6,16
  7329 03:1AEE: 64 09        	stz	<L397+col_1
  7330 03:1AF0: 64 0B        	stz	<L397+width_1
  7331 03:1AF2: 64 0D        	stz	<L397+height_1
  7332 03:1AF4: 64 0F        	stz	<L397+ptr_1
  7333 03:1AF6: 64 11        	stz	<L397+ptr_1+2
  7334                        	.line	944
  7335 03:1AF8: A7 1A        	lda	[<L396+charSet_0]
  7336 03:1AFA: 29 FF 00     	and	#<$ff
  7337 03:1AFD: 85 0B        	sta	<L397+width_1
  7338                        ;	height = (INT)(((INT)charSet[1]) & 0x00FF);
  7339                        	.line	945
  7340 03:1AFF: A0 01 00     	ldy	#$1
  7341 03:1B02: B7 1A        	lda	[<L396+charSet_0],Y
  7342 03:1B04: 29 FF 00     	and	#<$ff
  7343 03:1B07: 85 0D        	sta	<L397+height_1
  7344                        ;
  7345                        ;
  7346                        ;	k_debug_integer("k_draw_text_point_with_font:fon
  Mon Dec  7 2020 11:19                                                Page 138


                    t x:",x);
  7347                        	.line	948
  7348 03:1B09: D4 1E        	pei	<L396+x_0
  7349 03:1B0B: F4 xx xx     	pea	#^L64
  7350 03:1B0E: F4 xx xx     	pea	#<L64
  7351 03:1B11: 22 xx xx xx  	jsl	~~k_debug_integer
  7352                        ;	k_debug_integer("k_draw_text_point_with_font:fon
                    t y:",y);
  7353                        	.line	949
  7354 03:1B15: D4 20        	pei	<L396+y_0
  7355 03:1B17: F4 xx xx     	pea	#^L64+36
  7356 03:1B1A: F4 xx xx     	pea	#<L64+36
  7357 03:1B1D: 22 xx xx xx  	jsl	~~k_debug_integer
  7358                        ;	k_debug_integer("k_draw_text_point_with_font:fon
                    t width:",width);
  7359                        	.line	950
  7360 03:1B21: D4 0B        	pei	<L397+width_1
  7361 03:1B23: F4 xx xx     	pea	#^L64+72
  7362 03:1B26: F4 xx xx     	pea	#<L64+72
  7363 03:1B29: 22 xx xx xx  	jsl	~~k_debug_integer
  7364                        ;	k_debug_integer("k_draw_text_point_with_font:fon
                    t height:",height);
  7365                        	.line	951
  7366 03:1B2D: D4 0D        	pei	<L397+height_1
  7367 03:1B2F: F4 xx xx     	pea	#^L64+112
  7368 03:1B32: F4 xx xx     	pea	#<L64+112
  7369 03:1B35: 22 xx xx xx  	jsl	~~k_debug_integer
  7370                        ;
  7371                        ;
  7372                        ;	ptr = (LPCHAR)(text);
  7373                        	.line	954
  7374 03:1B39: A5 16        	lda	<L396+text_0
  7375 03:1B3B: 85 0F        	sta	<L397+ptr_1
  7376 03:1B3D: A5 18        	lda	<L396+text_0+2
  7377 03:1B3F: 85 11        	sta	<L397+ptr_1+2
  7378                        ;	while(*ptr)
  7379                        	.line	955
  7380                        L10057:
  7381 03:1B41: A7 0F        	lda	[<L397+ptr_1]
  7382 03:1B43: 29 FF 00     	and	#$ff
  7383 03:1B46: D0 03        	bne	L399
  7384 03:1B48: 82 40 00     	brl	L10058
  7385                        L399:
  7386                        ;	{
  7387                        	.line	956
  7388                        ;		//x+=k_put_font_point(*ptr,x,y,color);
  7389                        ;
  7390                        ;		x+=k_put_binary_variablefont_point_ex( (
                    LPCHAR)&charSet[2] , *ptr,x,y,width,height,color,page);
  7391                        	.line	959
  7392 03:1B4B: D4 24        	pei	<L396+page_0
  7393 03:1B4D: D4 22        	pei	<L396+color_0
  7394 03:1B4F: D4 0D        	pei	<L397+height_1
  7395 03:1B51: D4 0B        	pei	<L397+width_1
  7396 03:1B53: D4 20        	pei	<L396+y_0
  7397 03:1B55: D4 1E        	pei	<L396+x_0
  7398 03:1B57: A7 0F        	lda	[<L397+ptr_1]
  7399 03:1B59: 48           	pha
  Mon Dec  7 2020 11:19                                                Page 139


  7400 03:1B5A: 18           	clc
  7401 03:1B5B: A9 02 00     	lda	#$2
  7402 03:1B5E: 65 1A        	adc	<L396+charSet_0
  7403 03:1B60: 85 01        	sta	<R0
  7404 03:1B62: A9 00 00     	lda	#$0
  7405 03:1B65: 65 1C        	adc	<L396+charSet_0+2
  7406 03:1B67: 85 03        	sta	<R0+2
  7407 03:1B69: D4 03        	pei	<R0+2
  7408 03:1B6B: D4 01        	pei	<R0
  7409 03:1B6D: 22 63 22 03  	jsl	~~k_put_binary_variablefont_point_ex
  7410 03:1B71: 85 05        	sta	<R1
  7411 03:1B73: 18           	clc
  7412 03:1B74: A5 05        	lda	<R1
  7413 03:1B76: 65 1E        	adc	<L396+x_0
  7414 03:1B78: 85 1E        	sta	<L396+x_0
  7415                        ;		//x+=k_put_binary_font_point( Bm437Amstr
                    adPC1512_2y , *ptr,x,y,color);
  7416                        ;
  7417                        ;		ptr++;
  7418                        	.line	962
  7419 03:1B7A: E6 0F        	inc	<L397+ptr_1
  7420 03:1B7C: D0 02        	bne	L400
  7421 03:1B7E: E6 11        	inc	<L397+ptr_1+2
  7422                        L400:
  7423                        ;		col+=8;
  7424                        	.line	963
  7425 03:1B80: 18           	clc
  7426 03:1B81: A9 08 00     	lda	#$8
  7427 03:1B84: 65 09        	adc	<L397+col_1
  7428 03:1B86: 85 09        	sta	<L397+col_1
  7429                        ;	}
  7430                        	.line	964
  7431 03:1B88: 82 B6 FF     	brl	L10057
  7432                        L10058:
  7433                        ;
  7434                        ;	return col;
  7435                        	.line	966
  7436 03:1B8B: A5 09        	lda	<L397+col_1
  7437                        L401:
  7438 03:1B8D: A8           	tay
  7439 03:1B8E: A5 14        	lda	<L396+2
  7440 03:1B90: 85 24        	sta	<L396+2+16
  7441 03:1B92: A5 13        	lda	<L396+1
  7442 03:1B94: 85 23        	sta	<L396+1+16
  7443 03:1B96: 2B           	pld
  7444 03:1B97: 3B           	tsc
  7445 03:1B98: 18           	clc
  7446 03:1B99: 69 22 00     	adc	#L396+16
  7447 03:1B9C: 1B           	tcs
  7448 03:1B9D: 98           	tya
  7449 03:1B9E: 6B           	rtl
  7450                        ;}
  7451                        	.line	967
  7452                        	.endblock	967
  7453             00000012   L396	equ	18
  7454             00000009   L397	equ	9
  7455 03:1B9F:              	ends
  7456                        	efunc
  Mon Dec  7 2020 11:19                                                Page 140


  7457                        	.endfunc	967,9,18
  7458                        	.line	967
  7459                        	data
  7460                        L64:
  7461 00:0781: 6B 5F 64 72  	db	$6B,$5F,$64,$72,$61,$77,$5F,$74,$65,$78,
                    $74,$5F,$70,$6F,$69
       00:0785: 61 77 5F 74 
       00:0789: 65 78 74 5F 
       00:078D: 70 6F 69 
  7462 00:0790: 6E 74 5F 77  	db	$6E,$74,$5F,$77,$69,$74,$68,$5F,$66,$6F,
                    $6E,$74,$3A,$66,$6F
       00:0794: 69 74 68 5F 
       00:0798: 66 6F 6E 74 
       00:079C: 3A 66 6F 
  7463 00:079F: 6E 74 20 78  	db	$6E,$74,$20,$78,$3A,$00,$6B,$5F,$64,$72,
                    $61,$77,$5F,$74,$65
       00:07A3: 3A 00 6B 5F 
       00:07A7: 64 72 61 77 
       00:07AB: 5F 74 65 
  7464 00:07AE: 78 74 5F 70  	db	$78,$74,$5F,$70,$6F,$69,$6E,$74,$5F,$77,
                    $69,$74,$68,$5F,$66
       00:07B2: 6F 69 6E 74 
       00:07B6: 5F 77 69 74 
       00:07BA: 68 5F 66 
  7465 00:07BD: 6F 6E 74 3A  	db	$6F,$6E,$74,$3A,$66,$6F,$6E,$74,$20,$79,
                    $3A,$00,$6B,$5F,$64
       00:07C1: 66 6F 6E 74 
       00:07C5: 20 79 3A 00 
       00:07C9: 6B 5F 64 
  7466 00:07CC: 72 61 77 5F  	db	$72,$61,$77,$5F,$74,$65,$78,$74,$5F,$70,
                    $6F,$69,$6E,$74,$5F
       00:07D0: 74 65 78 74 
       00:07D4: 5F 70 6F 69 
       00:07D8: 6E 74 5F 
  7467 00:07DB: 77 69 74 68  	db	$77,$69,$74,$68,$5F,$66,$6F,$6E,$74,$3A,
                    $66,$6F,$6E,$74,$20
       00:07DF: 5F 66 6F 6E 
       00:07E3: 74 3A 66 6F 
       00:07E7: 6E 74 20 
  7468 00:07EA: 77 69 64 74  	db	$77,$69,$64,$74,$68,$3A,$00,$6B,$5F,$64,
                    $72,$61,$77,$5F,$74
       00:07EE: 68 3A 00 6B 
       00:07F2: 5F 64 72 61 
       00:07F6: 77 5F 74 
  7469 00:07F9: 65 78 74 5F  	db	$65,$78,$74,$5F,$70,$6F,$69,$6E,$74,$5F,
                    $77,$69,$74,$68,$5F
       00:07FD: 70 6F 69 6E 
       00:0801: 74 5F 77 69 
       00:0805: 74 68 5F 
  7470 00:0808: 66 6F 6E 74  	db	$66,$6F,$6E,$74,$3A,$66,$6F,$6E,$74,$20,
                    $68,$65,$69,$67,$68
       00:080C: 3A 66 6F 6E 
       00:0810: 74 20 68 65 
       00:0814: 69 67 68 
  7471 00:0817: 74 3A 00     	db	$74,$3A,$00
  7472 00:081A:              	ends
  7473                        ;
  7474                        ;int k_draw_text_point_with_font(LPCSTR text,LPCST
  Mon Dec  7 2020 11:19                                                Page 141


                    R charSet,int x,int y,char color)
  7475                        ;{
  7476                        	.line	969
  7477                        	.line	970
  7478                        	GUI
  7479                        	xdef	~~k_draw_text_point_with_font
  7480                        	func
  7481                        	.function	970
  7482                        ~~k_draw_text_point_with_font:
  7483                        	longa	on
  7484                        	longi	on
  7485 03:1B9F: 3B           	tsc
  7486 03:1BA0: 38           	sec
  7487 03:1BA1: E9 12 00     	sbc	#L403
  7488 03:1BA4: 1B           	tcs
  7489 03:1BA5: 0B           	phd
  7490 03:1BA6: 5B           	tcd
  7491             00000004   text_0	set	4
  7492             00000008   charSet_0	set	8
  7493             0000000C   x_0	set	12
  7494             0000000E   y_0	set	14
  7495             00000010   color_0	set	16
  7496                        	.block	970
  7497                        ;	int col = 0;
  7498                        ;	int width = 0;
  7499                        ;	int height = 0;
  7500                        ;
  7501                        ;	LPCHAR ptr = NULL;
  7502                        ;
  7503                        ;	//k_debug_pointer("k_draw_text_point_with_font:f
                    ont charSet:",(LPVOID)charSet);
  7504                        ;
  7505                        ;	width  = charSet[0];
  7506             00000000   col_1	set	0
  7507             00000002   width_1	set	2
  7508             00000004   height_1	set	4
  7509             00000006   ptr_1	set	6
  7510                        	.sym	col,0,5,1,16
  7511                        	.sym	width,2,5,1,16
  7512                        	.sym	height,4,5,1,16
  7513                        	.sym	ptr,6,142,1,32
  7514                        	.sym	text,4,142,6,32
  7515                        	.sym	charSet,8,142,6,32
  7516                        	.sym	x,12,5,6,16
  7517                        	.sym	y,14,5,6,16
  7518                        	.sym	color,16,14,6,8
  7519 03:1BA7: 64 09        	stz	<L404+col_1
  7520 03:1BA9: 64 0B        	stz	<L404+width_1
  7521 03:1BAB: 64 0D        	stz	<L404+height_1
  7522 03:1BAD: 64 0F        	stz	<L404+ptr_1
  7523 03:1BAF: 64 11        	stz	<L404+ptr_1+2
  7524                        	.line	979
  7525 03:1BB1: A7 1A        	lda	[<L403+charSet_0]
  7526 03:1BB3: 29 FF 00     	and	#$ff
  7527 03:1BB6: 85 0B        	sta	<L404+width_1
  7528                        ;	height = charSet[1];
  7529                        	.line	980
  7530 03:1BB8: A0 01 00     	ldy	#$1
  Mon Dec  7 2020 11:19                                                Page 142


  7531 03:1BBB: B7 1A        	lda	[<L403+charSet_0],Y
  7532 03:1BBD: 29 FF 00     	and	#$ff
  7533 03:1BC0: 85 0D        	sta	<L404+height_1
  7534                        ;
  7535                        ;
  7536                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont width:",width);
  7537                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont height:",height);
  7538                        ;
  7539                        ;
  7540                        ;	ptr = (LPCHAR)(text);
  7541                        	.line	987
  7542 03:1BC2: A5 16        	lda	<L403+text_0
  7543 03:1BC4: 85 0F        	sta	<L404+ptr_1
  7544 03:1BC6: A5 18        	lda	<L403+text_0+2
  7545 03:1BC8: 85 11        	sta	<L404+ptr_1+2
  7546                        ;	while(*ptr)
  7547                        	.line	988
  7548                        L10059:
  7549 03:1BCA: A7 0F        	lda	[<L404+ptr_1]
  7550 03:1BCC: 29 FF 00     	and	#$ff
  7551 03:1BCF: D0 03        	bne	L406
  7552 03:1BD1: 82 3E 00     	brl	L10060
  7553                        L406:
  7554                        ;	{
  7555                        	.line	989
  7556                        ;		//x+=k_put_font_point(*ptr,x,y,color);
  7557                        ;
  7558                        ;		x+=k_put_binary_variablefont_point( (LPC
                    HAR)&charSet[2] , *ptr,x,y,width,height,color);
  7559                        	.line	992
  7560 03:1BD4: D4 22        	pei	<L403+color_0
  7561 03:1BD6: D4 0D        	pei	<L404+height_1
  7562 03:1BD8: D4 0B        	pei	<L404+width_1
  7563 03:1BDA: D4 20        	pei	<L403+y_0
  7564 03:1BDC: D4 1E        	pei	<L403+x_0
  7565 03:1BDE: A7 0F        	lda	[<L404+ptr_1]
  7566 03:1BE0: 48           	pha
  7567 03:1BE1: 18           	clc
  7568 03:1BE2: A9 02 00     	lda	#$2
  7569 03:1BE5: 65 1A        	adc	<L403+charSet_0
  7570 03:1BE7: 85 01        	sta	<R0
  7571 03:1BE9: A9 00 00     	lda	#$0
  7572 03:1BEC: 65 1C        	adc	<L403+charSet_0+2
  7573 03:1BEE: 85 03        	sta	<R0+2
  7574 03:1BF0: D4 03        	pei	<R0+2
  7575 03:1BF2: D4 01        	pei	<R0
  7576 03:1BF4: 22 69 21 03  	jsl	~~k_put_binary_variablefont_point
  7577 03:1BF8: 85 05        	sta	<R1
  7578 03:1BFA: 18           	clc
  7579 03:1BFB: A5 05        	lda	<R1
  7580 03:1BFD: 65 1E        	adc	<L403+x_0
  7581 03:1BFF: 85 1E        	sta	<L403+x_0
  7582                        ;		//x+=k_put_binary_font_point( Bm437Amstr
                    adPC1512_2y , *ptr,x,y,color);
  7583                        ;
  7584                        ;		ptr++;
  Mon Dec  7 2020 11:19                                                Page 143


  7585                        	.line	995
  7586 03:1C01: E6 0F        	inc	<L404+ptr_1
  7587 03:1C03: D0 02        	bne	L407
  7588 03:1C05: E6 11        	inc	<L404+ptr_1+2
  7589                        L407:
  7590                        ;		col+=8;
  7591                        	.line	996
  7592 03:1C07: 18           	clc
  7593 03:1C08: A9 08 00     	lda	#$8
  7594 03:1C0B: 65 09        	adc	<L404+col_1
  7595 03:1C0D: 85 09        	sta	<L404+col_1
  7596                        ;	}
  7597                        	.line	997
  7598 03:1C0F: 82 B8 FF     	brl	L10059
  7599                        L10060:
  7600                        ;
  7601                        ;	return col;
  7602                        	.line	999
  7603 03:1C12: A5 09        	lda	<L404+col_1
  7604                        L408:
  7605 03:1C14: A8           	tay
  7606 03:1C15: A5 14        	lda	<L403+2
  7607 03:1C17: 85 22        	sta	<L403+2+14
  7608 03:1C19: A5 13        	lda	<L403+1
  7609 03:1C1B: 85 21        	sta	<L403+1+14
  7610 03:1C1D: 2B           	pld
  7611 03:1C1E: 3B           	tsc
  7612 03:1C1F: 18           	clc
  7613 03:1C20: 69 20 00     	adc	#L403+14
  7614 03:1C23: 1B           	tcs
  7615 03:1C24: 98           	tya
  7616 03:1C25: 6B           	rtl
  7617                        ;}
  7618                        	.line	1000
  7619                        	.endblock	1000
  7620             00000012   L403	equ	18
  7621             00000009   L404	equ	9
  7622 03:1C26:              	ends
  7623                        	efunc
  7624                        	.endfunc	1000,9,18
  7625                        	.line	1000
  7626                        ;
  7627                        ;
  7628                        ;int k_draw_text_scaled(char FAR *text,int row,int
                     col,char color,int scale)
  7629                        ;{
  7630                        	.line	1003
  7631                        	.line	1004
  7632                        	GUI
  7633                        	xdef	~~k_draw_text_scaled
  7634                        	func
  7635                        	.function	1004
  7636                        ~~k_draw_text_scaled:
  7637                        	longa	on
  7638                        	longi	on
  7639 03:1C26: 3B           	tsc
  7640 03:1C27: 38           	sec
  7641 03:1C28: E9 04 00     	sbc	#L409
  Mon Dec  7 2020 11:19                                                Page 144


  7642 03:1C2B: 1B           	tcs
  7643 03:1C2C: 0B           	phd
  7644 03:1C2D: 5B           	tcd
  7645             00000004   text_0	set	4
  7646             00000008   row_0	set	8
  7647             0000000A   col_0	set	10
  7648             0000000C   color_0	set	12
  7649             0000000E   scale_0	set	14
  7650                        	.block	1004
  7651                        ;	char FAR * ptr = (text);
  7652                        ;	while(*ptr)
  7653             00000000   ptr_1	set	0
  7654                        	.sym	ptr,0,142,1,32
  7655                        	.sym	text,4,142,6,32
  7656                        	.sym	row,8,5,6,16
  7657                        	.sym	col,10,5,6,16
  7658                        	.sym	color,12,14,6,8
  7659                        	.sym	scale,14,5,6,16
  7660 03:1C2E: A5 08        	lda	<L409+text_0
  7661 03:1C30: 85 01        	sta	<L410+ptr_1
  7662 03:1C32: A5 0A        	lda	<L409+text_0+2
  7663 03:1C34: 85 03        	sta	<L410+ptr_1+2
  7664                        	.line	1006
  7665                        L10061:
  7666 03:1C36: A7 01        	lda	[<L410+ptr_1]
  7667 03:1C38: 29 FF 00     	and	#$ff
  7668 03:1C3B: D0 03        	bne	L412
  7669 03:1C3D: 82 1A 00     	brl	L10062
  7670                        L412:
  7671                        ;	{
  7672                        	.line	1007
  7673                        ;		k_put_font_scaled(*ptr,col,row,color,sca
                    le);
  7674                        	.line	1008
  7675 03:1C40: D4 12        	pei	<L409+scale_0
  7676 03:1C42: D4 10        	pei	<L409+color_0
  7677 03:1C44: D4 0C        	pei	<L409+row_0
  7678 03:1C46: D4 0E        	pei	<L409+col_0
  7679 03:1C48: A7 01        	lda	[<L410+ptr_1]
  7680 03:1C4A: 48           	pha
  7681 03:1C4B: 22 FE 29 03  	jsl	~~k_put_font_scaled
  7682                        ;		col++;
  7683                        	.line	1009
  7684 03:1C4F: E6 0E        	inc	<L409+col_0
  7685                        ;		ptr++;
  7686                        	.line	1010
  7687 03:1C51: E6 01        	inc	<L410+ptr_1
  7688 03:1C53: D0 02        	bne	L413
  7689 03:1C55: E6 03        	inc	<L410+ptr_1+2
  7690                        L413:
  7691                        ;	}
  7692                        	.line	1011
  7693 03:1C57: 82 DC FF     	brl	L10061
  7694                        L10062:
  7695                        ;	
  7696                        ;	return col;
  7697                        	.line	1013
  7698 03:1C5A: A5 0E        	lda	<L409+col_0
  Mon Dec  7 2020 11:19                                                Page 145


  7699                        L414:
  7700 03:1C5C: A8           	tay
  7701 03:1C5D: A5 06        	lda	<L409+2
  7702 03:1C5F: 85 12        	sta	<L409+2+12
  7703 03:1C61: A5 05        	lda	<L409+1
  7704 03:1C63: 85 11        	sta	<L409+1+12
  7705 03:1C65: 2B           	pld
  7706 03:1C66: 3B           	tsc
  7707 03:1C67: 18           	clc
  7708 03:1C68: 69 10 00     	adc	#L409+12
  7709 03:1C6B: 1B           	tcs
  7710 03:1C6C: 98           	tya
  7711 03:1C6D: 6B           	rtl
  7712                        ;}
  7713                        	.line	1014
  7714                        	.endblock	1014
  7715             00000004   L409	equ	4
  7716             00000001   L410	equ	1
  7717 03:1C6E:              	ends
  7718                        	efunc
  7719                        	.endfunc	1014,1,4
  7720                        	.line	1014
  7721                        ;
  7722                        ;int k_get_font_metrics(FONTMETRIC FAR *metric)
  7723                        ;{
  7724                        	.line	1016
  7725                        	.line	1017
  7726                        	GUI
  7727                        	xdef	~~k_get_font_metrics
  7728                        	func
  7729                        	.function	1017
  7730                        ~~k_get_font_metrics:
  7731                        	longa	on
  7732                        	longi	on
  7733 03:1C6E: 3B           	tsc
  7734 03:1C6F: 38           	sec
  7735 03:1C70: E9 00 00     	sbc	#L415
  7736 03:1C73: 1B           	tcs
  7737 03:1C74: 0B           	phd
  7738 03:1C75: 5B           	tcd
  7739             00000004   metric_0	set	4
  7740                        	.block	1017
  7741                        ;	metric->width  = FONTW;
  7742                        	.sym	metric,4,138,6,32,32
  7743                        	.line	1018
  7744 03:1C76: 22 FD 71 03  	jsl	~~k_font_getFontWidth
  7745 03:1C7A: 87 04        	sta	[<L415+metric_0]
  7746                        ;	metric->height = FONTH;
  7747                        	.line	1019
  7748 03:1C7C: 22 E8 71 03  	jsl	~~k_font_getFontHeight
  7749 03:1C80: A0 02 00     	ldy	#$2
  7750 03:1C83: 97 04        	sta	[<L415+metric_0],Y
  7751                        ;	
  7752                        ;	return sizeof(FONTMETRIC);
  7753                        	.line	1021
  7754 03:1C85: A9 04 00     	lda	#$4
  7755                        L418:
  7756 03:1C88: A8           	tay
  Mon Dec  7 2020 11:19                                                Page 146


  7757 03:1C89: A5 02        	lda	<L415+2
  7758 03:1C8B: 85 06        	sta	<L415+2+4
  7759 03:1C8D: A5 01        	lda	<L415+1
  7760 03:1C8F: 85 05        	sta	<L415+1+4
  7761 03:1C91: 2B           	pld
  7762 03:1C92: 3B           	tsc
  7763 03:1C93: 18           	clc
  7764 03:1C94: 69 04 00     	adc	#L415+4
  7765 03:1C97: 1B           	tcs
  7766 03:1C98: 98           	tya
  7767 03:1C99: 6B           	rtl
  7768                        ;}
  7769                        	.line	1022
  7770                        	.endblock	1022
  7771             00000000   L415	equ	0
  7772             00000001   L416	equ	1
  7773 03:1C9A:              	ends
  7774                        	efunc
  7775                        	.endfunc	1022,1,0
  7776                        	.line	1022
  7777                        ;
  7778                        ;int k_put_font_point(char outChar,int cx,int cy,c
                    har color)
  7779                        ;{
  7780                        	.line	1024
  7781                        	.line	1025
  7782                        	GUI
  7783                        	xdef	~~k_put_font_point
  7784                        	func
  7785                        	.function	1025
  7786                        ~~k_put_font_point:
  7787                        	longa	on
  7788                        	longi	on
  7789 03:1C9A: 3B           	tsc
  7790 03:1C9B: 38           	sec
  7791 03:1C9C: E9 1D 00     	sbc	#L419
  7792 03:1C9F: 1B           	tcs
  7793 03:1CA0: 0B           	phd
  7794 03:1CA1: 5B           	tcd
  7795             00000004   outChar_0	set	4
  7796             00000006   cx_0	set	6
  7797             00000008   cy_0	set	8
  7798             0000000A   color_0	set	10
  7799                        	.block	1025
  7800                        ;	int x = 0;
  7801                        ;	int y = 0;
  7802                        ;	int textX = cx;
  7803                        ;	int textY = cy;
  7804                        ;
  7805                        ;	char FAR* img = NULL;//fontImg[ix];
  7806                        ;
  7807                        ;	outChar = toupper(outChar); // fix this so we ca
                    n to lower case
  7808             00000000   x_1	set	0
  7809             00000002   y_1	set	2
  7810             00000004   textX_1	set	4
  7811             00000006   textY_1	set	6
  7812             00000008   img_1	set	8
  Mon Dec  7 2020 11:19                                                Page 147


  7813                        	.sym	x,0,5,1,16
  7814                        	.sym	y,2,5,1,16
  7815                        	.sym	textX,4,5,1,16
  7816                        	.sym	textY,6,5,1,16
  7817                        	.sym	img,8,142,1,32
  7818                        	.sym	outChar,4,14,6,8
  7819                        	.sym	cx,6,5,6,16
  7820                        	.sym	cy,8,5,6,16
  7821                        	.sym	color,10,14,6,8
  7822 03:1CA2: 64 11        	stz	<L420+x_1
  7823 03:1CA4: 64 13        	stz	<L420+y_1
  7824 03:1CA6: A5 23        	lda	<L419+cx_0
  7825 03:1CA8: 85 15        	sta	<L420+textX_1
  7826 03:1CAA: A5 25        	lda	<L419+cy_0
  7827 03:1CAC: 85 17        	sta	<L420+textY_1
  7828 03:1CAE: 64 19        	stz	<L420+img_1
  7829 03:1CB0: 64 1B        	stz	<L420+img_1+2
  7830                        	.line	1033
  7831 03:1CB2: A5 21        	lda	<L419+outChar_0
  7832 03:1CB4: 29 FF 00     	and	#$ff
  7833 03:1CB7: 48           	pha
  7834 03:1CB8: 22 xx xx xx  	jsl	~~toupper
  7835 03:1CBC: E2 20        	sep	#$20
  7836                        	longa	off
  7837 03:1CBE: 85 21        	sta	<L419+outChar_0
  7838 03:1CC0: C2 20        	rep	#$20
  7839                        	longa	on
  7840                        ;
  7841                        ;    if(outChar == 32)
  7842                        	.line	1035
  7843                        ;	{
  7844 03:1CC2: E2 20        	sep	#$20
  7845                        	longa	off
  7846 03:1CC4: A5 21        	lda	<L419+outChar_0
  7847 03:1CC6: C9 20        	cmp	#<$20
  7848 03:1CC8: C2 20        	rep	#$20
  7849                        	longa	on
  7850 03:1CCA: F0 03        	beq	L422
  7851 03:1CCC: 82 07 00     	brl	L10063
  7852                        L422:
  7853                        	.line	1036
  7854                        ;	   img = NULL;//fontSpace;
  7855                        	.line	1037
  7856 03:1CCF: 64 19        	stz	<L420+img_1
  7857 03:1CD1: 64 1B        	stz	<L420+img_1+2
  7858                        ;    }
  7859                        	.line	1038
  7860                        ;    else
  7861 03:1CD3: 82 5B 00     	brl	L10064
  7862                        L10063:
  7863                        ;	{
  7864                        	.line	1040
  7865                        ;	    img = fontImg[(int)characterROMMapping[(int)
                    (outChar & 0xFF)]];
  7866                        	.line	1041
  7867 03:1CD6: A5 21        	lda	<L419+outChar_0
  7868 03:1CD8: 29 FF 00     	and	#<$ff
  7869 03:1CDB: 85 09        	sta	<R2
  Mon Dec  7 2020 11:19                                                Page 148


  7870 03:1CDD: A0 00 00     	ldy	#$0
  7871 03:1CE0: A5 09        	lda	<R2
  7872 03:1CE2: 10 01        	bpl	L423
  7873 03:1CE4: 88           	dey
  7874                        L423:
  7875 03:1CE5: 85 09        	sta	<R2
  7876 03:1CE7: 84 0B        	sty	<R2+2
  7877 03:1CE9: D4 0B        	pei	<R2+2
  7878 03:1CEB: D4 09        	pei	<R2
  7879 03:1CED: A9 01 00     	lda	#$1
  7880                        	xref	~~~lasl
  7881 03:1CF0: 22 xx xx xx  	jsl	~~~lasl
  7882 03:1CF4: 85 05        	sta	<R1
  7883 03:1CF6: 86 07        	stx	<R1+2
  7884 03:1CF8: 18           	clc
  7885 03:1CF9: A9 xx xx     	lda	#<~~characterROMMapping
  7886 03:1CFC: 65 05        	adc	<R1
  7887 03:1CFE: 85 0D        	sta	<R3
  7888 03:1D00: A9 xx xx     	lda	#^~~characterROMMapping
  7889 03:1D03: 65 07        	adc	<R1+2
  7890 03:1D05: 85 0F        	sta	<R3+2
  7891 03:1D07: A0 00 00     	ldy	#$0
  7892 03:1D0A: A7 0D        	lda	[<R3]
  7893 03:1D0C: 10 01        	bpl	L424
  7894 03:1D0E: 88           	dey
  7895                        L424:
  7896 03:1D0F: 85 05        	sta	<R1
  7897 03:1D11: 84 07        	sty	<R1+2
  7898 03:1D13: D4 07        	pei	<R1+2
  7899 03:1D15: D4 05        	pei	<R1
  7900 03:1D17: A9 06 00     	lda	#$6
  7901                        	xref	~~~lasl
  7902 03:1D1A: 22 xx xx xx  	jsl	~~~lasl
  7903 03:1D1E: 85 01        	sta	<R0
  7904 03:1D20: 86 03        	stx	<R0+2
  7905 03:1D22: 18           	clc
  7906 03:1D23: A9 xx xx     	lda	#<~~fontImg
  7907 03:1D26: 65 01        	adc	<R0
  7908 03:1D28: 85 19        	sta	<L420+img_1
  7909 03:1D2A: A9 xx xx     	lda	#^~~fontImg
  7910 03:1D2D: 65 03        	adc	<R0+2
  7911 03:1D2F: 85 1B        	sta	<L420+img_1+2
  7912                        ;	}
  7913                        	.line	1042
  7914                        L10064:
  7915                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
  7916                        ;
  7917                        ;	// get the font 'image'
  7918                        ;        //char *img = fontImg[ix]; 
  7919                        ;        // loop through pixel rows
  7920                        ;	if(img!=NULL)
  7921                        	.line	1048
  7922                        ;	{
  7923 03:1D31: A5 19        	lda	<L420+img_1
  7924 03:1D33: 05 1B        	ora	<L420+img_1+2
  7925 03:1D35: D0 03        	bne	L425
  7926 03:1D37: 82 91 00     	brl	L10065
  Mon Dec  7 2020 11:19                                                Page 149


  7927                        L425:
  7928                        	.line	1049
  7929                        ;		for (y = 0; y < FONTH; y++) 
  7930                        	.line	1050
  7931 03:1D3A: 64 13        	stz	<L420+y_1
  7932 03:1D3C: 82 7D 00     	brl	L10069
  7933                        L10068:
  7934                        ;		{
  7935                        	.line	1051
  7936                        ;			// loop through pixel columns
  7937                        ;			for (x = 0; x < FONTW; x++) 
  7938                        	.line	1053
  7939 03:1D3F: 64 11        	stz	<L420+x_1
  7940 03:1D41: 82 67 00     	brl	L10073
  7941                        L10072:
  7942                        ;			{
  7943                        	.line	1054
  7944                        ;				// get the pixel value
  7945                        ;				char b = img[y * FONTW +
                     x];
  7946                        ;				if (b > 0) 
  7947                        	.block	1057
  7948             0000000C   b_2	set	12
  7949                        	.sym	b,12,14,1,8
  7950 03:1D44: 22 FD 71 03  	jsl	~~k_font_getFontWidth
  7951 03:1D48: 85 01        	sta	<R0
  7952 03:1D4A: A5 01        	lda	<R0
  7953 03:1D4C: A6 13        	ldx	<L420+y_1
  7954                        	xref	~~~mul
  7955 03:1D4E: 22 xx xx xx  	jsl	~~~mul
  7956 03:1D52: 85 01        	sta	<R0
  7957 03:1D54: 18           	clc
  7958 03:1D55: A5 01        	lda	<R0
  7959 03:1D57: 65 11        	adc	<L420+x_1
  7960 03:1D59: 85 05        	sta	<R1
  7961 03:1D5B: E2 20        	sep	#$20
  7962                        	longa	off
  7963 03:1D5D: A4 05        	ldy	<R1
  7964 03:1D5F: B7 19        	lda	[<L420+img_1],Y
  7965 03:1D61: 85 1D        	sta	<L420+b_2
  7966 03:1D63: C2 20        	rep	#$20
  7967                        	longa	on
  7968                        	.line	1057
  7969                        ;				{ // plot the pixel
  7970 03:1D65: E2 20        	sep	#$20
  7971                        	longa	off
  7972 03:1D67: A9 00        	lda	#$0
  7973 03:1D69: C5 1D        	cmp	<L420+b_2
  7974 03:1D6B: C2 20        	rep	#$20
  7975                        	longa	on
  7976 03:1D6D: 90 03        	bcc	L427
  7977 03:1D6F: 82 37 00     	brl	L10074
  7978                        L427:
  7979                        	.line	1058
  7980                        ;					k_draw_pixel(tex
                    tX + x, textY + y, color);
  7981                        	.line	1059
  7982 03:1D72: D4 27        	pei	<L419+color_0
  Mon Dec  7 2020 11:19                                                Page 150


  7983 03:1D74: 18           	clc
  7984 03:1D75: A5 17        	lda	<L420+textY_1
  7985 03:1D77: 65 13        	adc	<L420+y_1
  7986 03:1D79: 85 01        	sta	<R0
  7987 03:1D7B: A0 00 00     	ldy	#$0
  7988 03:1D7E: A5 01        	lda	<R0
  7989 03:1D80: 10 01        	bpl	L428
  7990 03:1D82: 88           	dey
  7991                        L428:
  7992 03:1D83: 85 01        	sta	<R0
  7993 03:1D85: 84 03        	sty	<R0+2
  7994 03:1D87: D4 03        	pei	<R0+2
  7995 03:1D89: D4 01        	pei	<R0
  7996 03:1D8B: 18           	clc
  7997 03:1D8C: A5 15        	lda	<L420+textX_1
  7998 03:1D8E: 65 11        	adc	<L420+x_1
  7999 03:1D90: 85 05        	sta	<R1
  8000 03:1D92: A0 00 00     	ldy	#$0
  8001 03:1D95: A5 05        	lda	<R1
  8002 03:1D97: 10 01        	bpl	L429
  8003 03:1D99: 88           	dey
  8004                        L429:
  8005 03:1D9A: 85 05        	sta	<R1
  8006 03:1D9C: 84 07        	sty	<R1+2
  8007 03:1D9E: D4 07        	pei	<R1+2
  8008 03:1DA0: D4 05        	pei	<R1
  8009 03:1DA2: 22 10 0E 03  	jsl	~~k_draw_pixel
  8010                        ;				}
  8011                        	.line	1060
  8012                        ;				else 
  8013 03:1DA6: 82 00 00     	brl	L10075
  8014                        L10074:
  8015                        ;				{ 
  8016                        	.line	1062
  8017                        ;					// leave empty (
                    or maybe plot 'text backgr color')
  8018                        ;				}
  8019                        	.line	1064
  8020                        L10075:
  8021                        ;			} // end "for x"
  8022                        	.endblock	1065
  8023                        	.line	1065
  8024                        L10070:
  8025 03:1DA9: E6 11        	inc	<L420+x_1
  8026                        L10073:
  8027 03:1DAB: 22 FD 71 03  	jsl	~~k_font_getFontWidth
  8028 03:1DAF: 85 01        	sta	<R0
  8029 03:1DB1: A5 11        	lda	<L420+x_1
  8030 03:1DB3: C5 01        	cmp	<R0
  8031 03:1DB5: B0 03        	bcs	L430
  8032 03:1DB7: 82 8A FF     	brl	L10072
  8033                        L430:
  8034                        L10071:
  8035                        ;		} // end "for y"
  8036                        	.line	1066
  8037                        L10066:
  8038 03:1DBA: E6 13        	inc	<L420+y_1
  8039                        L10069:
  Mon Dec  7 2020 11:19                                                Page 151


  8040 03:1DBC: 22 E8 71 03  	jsl	~~k_font_getFontHeight
  8041 03:1DC0: 85 01        	sta	<R0
  8042 03:1DC2: A5 13        	lda	<L420+y_1
  8043 03:1DC4: C5 01        	cmp	<R0
  8044 03:1DC6: B0 03        	bcs	L431
  8045 03:1DC8: 82 74 FF     	brl	L10068
  8046                        L431:
  8047                        L10067:
  8048                        ;	}
  8049                        	.line	1067
  8050                        ;	return FONTW;
  8051                        L10065:
  8052                        	.line	1068
  8053 03:1DCB: 22 FD 71 03  	jsl	~~k_font_getFontWidth
  8054                        L432:
  8055 03:1DCF: A8           	tay
  8056 03:1DD0: A5 1F        	lda	<L419+2
  8057 03:1DD2: 85 27        	sta	<L419+2+8
  8058 03:1DD4: A5 1E        	lda	<L419+1
  8059 03:1DD6: 85 26        	sta	<L419+1+8
  8060 03:1DD8: 2B           	pld
  8061 03:1DD9: 3B           	tsc
  8062 03:1DDA: 18           	clc
  8063 03:1DDB: 69 25 00     	adc	#L419+8
  8064 03:1DDE: 1B           	tcs
  8065 03:1DDF: 98           	tya
  8066 03:1DE0: 6B           	rtl
  8067                        ;}
  8068                        	.line	1069
  8069                        	.endblock	1069
  8070             0000001D   L419	equ	29
  8071             00000011   L420	equ	17
  8072 03:1DE1:              	ends
  8073                        	efunc
  8074                        	.endfunc	1069,17,29
  8075                        	.line	1069
  8076                        ;
  8077                        ;int k_put_binary_font_point(LPCHAR fontSet, char 
                    outChar,int cx,int cy,char color)
  8078                        ;{
  8079                        	.line	1071
  8080                        	.line	1072
  8081                        	GUI
  8082                        	xdef	~~k_put_binary_font_point
  8083                        	func
  8084                        	.function	1072
  8085                        ~~k_put_binary_font_point:
  8086                        	longa	on
  8087                        	longi	on
  8088 03:1DE1: 3B           	tsc
  8089 03:1DE2: 38           	sec
  8090 03:1DE3: E9 18 00     	sbc	#L433
  8091 03:1DE6: 1B           	tcs
  8092 03:1DE7: 0B           	phd
  8093 03:1DE8: 5B           	tcd
  8094             00000004   fontSet_0	set	4
  8095             00000008   outChar_0	set	8
  8096             0000000A   cx_0	set	10
  Mon Dec  7 2020 11:19                                                Page 152


  8097             0000000C   cy_0	set	12
  8098             0000000E   color_0	set	14
  8099                        	.block	1072
  8100                        ;	int x = 0;
  8101                        ;	int y = 0;
  8102                        ;	int textX = cx;
  8103                        ;	int textY = cy;
  8104                        ;
  8105                        ;	unsigned char FAR* img = NULL;//fontImg[ix];
  8106                        ;
  8107                        ;    if(outChar == 32)
  8108             00000000   x_1	set	0
  8109             00000002   y_1	set	2
  8110             00000004   textX_1	set	4
  8111             00000006   textY_1	set	6
  8112             00000008   img_1	set	8
  8113                        	.sym	x,0,5,1,16
  8114                        	.sym	y,2,5,1,16
  8115                        	.sym	textX,4,5,1,16
  8116                        	.sym	textY,6,5,1,16
  8117                        	.sym	img,8,142,1,32
  8118                        	.sym	fontSet,4,142,6,32
  8119                        	.sym	outChar,8,14,6,8
  8120                        	.sym	cx,10,5,6,16
  8121                        	.sym	cy,12,5,6,16
  8122                        	.sym	color,14,14,6,8
  8123 03:1DE9: 64 09        	stz	<L434+x_1
  8124 03:1DEB: 64 0B        	stz	<L434+y_1
  8125 03:1DED: A5 22        	lda	<L433+cx_0
  8126 03:1DEF: 85 0D        	sta	<L434+textX_1
  8127 03:1DF1: A5 24        	lda	<L433+cy_0
  8128 03:1DF3: 85 0F        	sta	<L434+textY_1
  8129 03:1DF5: 64 11        	stz	<L434+img_1
  8130 03:1DF7: 64 13        	stz	<L434+img_1+2
  8131                        	.line	1080
  8132                        ;	{
  8133 03:1DF9: E2 20        	sep	#$20
  8134                        	longa	off
  8135 03:1DFB: A5 20        	lda	<L433+outChar_0
  8136 03:1DFD: C9 20        	cmp	#<$20
  8137 03:1DFF: C2 20        	rep	#$20
  8138                        	longa	on
  8139 03:1E01: F0 03        	beq	L436
  8140 03:1E03: 82 07 00     	brl	L10076
  8141                        L436:
  8142                        	.line	1081
  8143                        ;	   img = NULL;//fontSpace;
  8144                        	.line	1082
  8145 03:1E06: 64 11        	stz	<L434+img_1
  8146 03:1E08: 64 13        	stz	<L434+img_1+2
  8147                        ;    }
  8148                        	.line	1083
  8149                        ;    else
  8150 03:1E0A: 82 2F 00     	brl	L10077
  8151                        L10076:
  8152                        ;	{
  8153                        	.line	1085
  8154                        ;	    //img = &(fontSet[characterROMMapping[outCha
  Mon Dec  7 2020 11:19                                                Page 153


                    r]]);
  8155                        ;    	img = fontSet+=(8*outChar);
  8156                        	.line	1087
  8157 03:1E0D: A5 20        	lda	<L433+outChar_0
  8158 03:1E0F: 29 FF 00     	and	#$ff
  8159 03:1E12: 85 05        	sta	<R1
  8160 03:1E14: A5 05        	lda	<R1
  8161 03:1E16: 0A           	asl	A
  8162 03:1E17: 0A           	asl	A
  8163 03:1E18: 0A           	asl	A
  8164 03:1E19: 85 01        	sta	<R0
  8165 03:1E1B: A0 00 00     	ldy	#$0
  8166 03:1E1E: A5 01        	lda	<R0
  8167 03:1E20: 10 01        	bpl	L437
  8168 03:1E22: 88           	dey
  8169                        L437:
  8170 03:1E23: 85 01        	sta	<R0
  8171 03:1E25: 84 03        	sty	<R0+2
  8172 03:1E27: 18           	clc
  8173 03:1E28: A5 1C        	lda	<L433+fontSet_0
  8174 03:1E2A: 65 01        	adc	<R0
  8175 03:1E2C: 85 1C        	sta	<L433+fontSet_0
  8176 03:1E2E: A5 1E        	lda	<L433+fontSet_0+2
  8177 03:1E30: 65 03        	adc	<R0+2
  8178 03:1E32: 85 1E        	sta	<L433+fontSet_0+2
  8179 03:1E34: A5 1C        	lda	<L433+fontSet_0
  8180 03:1E36: 85 11        	sta	<L434+img_1
  8181 03:1E38: A5 1E        	lda	<L433+fontSet_0+2
  8182 03:1E3A: 85 13        	sta	<L434+img_1+2
  8183                        ;    	//img = "\xc3\xc3\xc3\xc3\xc3\xc3\xc3\xc
                    3";//&(fontSet[outChar]);
  8184                        ;	}
  8185                        	.line	1089
  8186                        L10077:
  8187                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
  8188                        ;
  8189                        ;	// get the font 'image'
  8190                        ;        //char *img = fontImg[ix];
  8191                        ;        // loop through pixel rows
  8192                        ;	if(img!=NULL)
  8193                        	.line	1095
  8194                        ;	{
  8195 03:1E3C: A5 11        	lda	<L434+img_1
  8196 03:1E3E: 05 13        	ora	<L434+img_1+2
  8197 03:1E40: D0 03        	bne	L438
  8198 03:1E42: 82 0E 03     	brl	L10078
  8199                        L438:
  8200                        	.line	1096
  8201                        ;		for (y = 0; y < FONTH; y++)
  8202                        	.line	1097
  8203 03:1E45: 64 0B        	stz	<L434+y_1
  8204 03:1E47: 82 FA 02     	brl	L10082
  8205                        L10081:
  8206                        ;		{
  8207                        	.line	1098
  8208                        ;			// get the pixel value
  8209                        ;			PBYTEBITS b = (PBYTEBITS)&(img[y
  Mon Dec  7 2020 11:19                                                Page 154


                    ]); //img[y * FONTW + x];
  8210                        ;			if (b->b7 > 0)
  8211                        	.block	1101
  8212             0000000C   b_2	set	12
  8213                        	.sym	b,12,138,1,32,4
  8214 03:1E4A: A0 00 00     	ldy	#$0
  8215 03:1E4D: A5 0B        	lda	<L434+y_1
  8216 03:1E4F: 10 01        	bpl	L440
  8217 03:1E51: 88           	dey
  8218                        L440:
  8219 03:1E52: 85 01        	sta	<R0
  8220 03:1E54: 84 03        	sty	<R0+2
  8221 03:1E56: 18           	clc
  8222 03:1E57: A5 11        	lda	<L434+img_1
  8223 03:1E59: 65 01        	adc	<R0
  8224 03:1E5B: 85 15        	sta	<L434+b_2
  8225 03:1E5D: A5 13        	lda	<L434+img_1+2
  8226 03:1E5F: 65 03        	adc	<R0+2
  8227 03:1E61: 85 17        	sta	<L434+b_2+2
  8228                        	.line	1101
  8229                        ;				k_draw_pixel(textX + 7, 
                    textY + y, color);
  8230 03:1E63: E2 20        	sep	#$20
  8231                        	longa	off
  8232 03:1E65: A7 15        	lda	[<L434+b_2]
  8233 03:1E67: 85 01        	sta	<R0
  8234 03:1E69: C2 20        	rep	#$20
  8235                        	longa	on
  8236 03:1E6B: E2 20        	sep	#$20
  8237                        	longa	off
  8238 03:1E6D: A5 01        	lda	<R0
  8239 03:1E6F: 29 01        	and	#<$1
  8240 03:1E71: 85 01        	sta	<R0
  8241 03:1E73: C2 20        	rep	#$20
  8242                        	longa	on
  8243 03:1E75: E2 20        	sep	#$20
  8244                        	longa	off
  8245 03:1E77: A9 00        	lda	#$0
  8246 03:1E79: C5 01        	cmp	<R0
  8247 03:1E7B: C2 20        	rep	#$20
  8248                        	longa	on
  8249 03:1E7D: 90 03        	bcc	L441
  8250 03:1E7F: 82 35 00     	brl	L10083
  8251                        L441:
  8252                        	.line	1102
  8253 03:1E82: D4 26        	pei	<L433+color_0
  8254 03:1E84: 18           	clc
  8255 03:1E85: A5 0F        	lda	<L434+textY_1
  8256 03:1E87: 65 0B        	adc	<L434+y_1
  8257 03:1E89: 85 01        	sta	<R0
  8258 03:1E8B: A0 00 00     	ldy	#$0
  8259 03:1E8E: A5 01        	lda	<R0
  8260 03:1E90: 10 01        	bpl	L442
  8261 03:1E92: 88           	dey
  8262                        L442:
  8263 03:1E93: 85 01        	sta	<R0
  8264 03:1E95: 84 03        	sty	<R0+2
  8265 03:1E97: D4 03        	pei	<R0+2
  Mon Dec  7 2020 11:19                                                Page 155


  8266 03:1E99: D4 01        	pei	<R0
  8267 03:1E9B: 18           	clc
  8268 03:1E9C: A9 07 00     	lda	#$7
  8269 03:1E9F: 65 0D        	adc	<L434+textX_1
  8270 03:1EA1: 85 05        	sta	<R1
  8271 03:1EA3: A0 00 00     	ldy	#$0
  8272 03:1EA6: A5 05        	lda	<R1
  8273 03:1EA8: 10 01        	bpl	L443
  8274 03:1EAA: 88           	dey
  8275                        L443:
  8276 03:1EAB: 85 05        	sta	<R1
  8277 03:1EAD: 84 07        	sty	<R1+2
  8278 03:1EAF: D4 07        	pei	<R1+2
  8279 03:1EB1: D4 05        	pei	<R1
  8280 03:1EB3: 22 10 0E 03  	jsl	~~k_draw_pixel
  8281                        ;			if (b->b6 > 0)
  8282                        L10083:
  8283                        	.line	1103
  8284                        ;				k_draw_pixel(textX + 6, 
                    textY + y, color);
  8285 03:1EB7: E2 20        	sep	#$20
  8286                        	longa	off
  8287 03:1EB9: A7 15        	lda	[<L434+b_2]
  8288 03:1EBB: 85 01        	sta	<R0
  8289 03:1EBD: C2 20        	rep	#$20
  8290                        	longa	on
  8291 03:1EBF: E2 20        	sep	#$20
  8292                        	longa	off
  8293 03:1EC1: 46 01        	lsr	<R0
  8294 03:1EC3: C2 20        	rep	#$20
  8295                        	longa	on
  8296 03:1EC5: E2 20        	sep	#$20
  8297                        	longa	off
  8298 03:1EC7: A5 01        	lda	<R0
  8299 03:1EC9: 29 01        	and	#<$1
  8300 03:1ECB: 85 01        	sta	<R0
  8301 03:1ECD: C2 20        	rep	#$20
  8302                        	longa	on
  8303 03:1ECF: E2 20        	sep	#$20
  8304                        	longa	off
  8305 03:1ED1: A9 00        	lda	#$0
  8306 03:1ED3: C5 01        	cmp	<R0
  8307 03:1ED5: C2 20        	rep	#$20
  8308                        	longa	on
  8309 03:1ED7: 90 03        	bcc	L444
  8310 03:1ED9: 82 35 00     	brl	L10084
  8311                        L444:
  8312                        	.line	1104
  8313 03:1EDC: D4 26        	pei	<L433+color_0
  8314 03:1EDE: 18           	clc
  8315 03:1EDF: A5 0F        	lda	<L434+textY_1
  8316 03:1EE1: 65 0B        	adc	<L434+y_1
  8317 03:1EE3: 85 01        	sta	<R0
  8318 03:1EE5: A0 00 00     	ldy	#$0
  8319 03:1EE8: A5 01        	lda	<R0
  8320 03:1EEA: 10 01        	bpl	L445
  8321 03:1EEC: 88           	dey
  8322                        L445:
  Mon Dec  7 2020 11:19                                                Page 156


  8323 03:1EED: 85 01        	sta	<R0
  8324 03:1EEF: 84 03        	sty	<R0+2
  8325 03:1EF1: D4 03        	pei	<R0+2
  8326 03:1EF3: D4 01        	pei	<R0
  8327 03:1EF5: 18           	clc
  8328 03:1EF6: A9 06 00     	lda	#$6
  8329 03:1EF9: 65 0D        	adc	<L434+textX_1
  8330 03:1EFB: 85 05        	sta	<R1
  8331 03:1EFD: A0 00 00     	ldy	#$0
  8332 03:1F00: A5 05        	lda	<R1
  8333 03:1F02: 10 01        	bpl	L446
  8334 03:1F04: 88           	dey
  8335                        L446:
  8336 03:1F05: 85 05        	sta	<R1
  8337 03:1F07: 84 07        	sty	<R1+2
  8338 03:1F09: D4 07        	pei	<R1+2
  8339 03:1F0B: D4 05        	pei	<R1
  8340 03:1F0D: 22 10 0E 03  	jsl	~~k_draw_pixel
  8341                        ;			if (b->b5 > 0)
  8342                        L10084:
  8343                        	.line	1105
  8344                        ;				k_draw_pixel(textX + 5, 
                    textY + y, color);
  8345 03:1F11: E2 20        	sep	#$20
  8346                        	longa	off
  8347 03:1F13: A7 15        	lda	[<L434+b_2]
  8348 03:1F15: 85 01        	sta	<R0
  8349 03:1F17: C2 20        	rep	#$20
  8350                        	longa	on
  8351 03:1F19: E2 20        	sep	#$20
  8352                        	longa	off
  8353 03:1F1B: 46 01        	lsr	<R0
  8354 03:1F1D: 46 01        	lsr	<R0
  8355 03:1F1F: C2 20        	rep	#$20
  8356                        	longa	on
  8357 03:1F21: E2 20        	sep	#$20
  8358                        	longa	off
  8359 03:1F23: A5 01        	lda	<R0
  8360 03:1F25: 29 01        	and	#<$1
  8361 03:1F27: 85 01        	sta	<R0
  8362 03:1F29: C2 20        	rep	#$20
  8363                        	longa	on
  8364 03:1F2B: E2 20        	sep	#$20
  8365                        	longa	off
  8366 03:1F2D: A9 00        	lda	#$0
  8367 03:1F2F: C5 01        	cmp	<R0
  8368 03:1F31: C2 20        	rep	#$20
  8369                        	longa	on
  8370 03:1F33: 90 03        	bcc	L447
  8371 03:1F35: 82 35 00     	brl	L10085
  8372                        L447:
  8373                        	.line	1106
  8374 03:1F38: D4 26        	pei	<L433+color_0
  8375 03:1F3A: 18           	clc
  8376 03:1F3B: A5 0F        	lda	<L434+textY_1
  8377 03:1F3D: 65 0B        	adc	<L434+y_1
  8378 03:1F3F: 85 01        	sta	<R0
  8379 03:1F41: A0 00 00     	ldy	#$0
  Mon Dec  7 2020 11:19                                                Page 157


  8380 03:1F44: A5 01        	lda	<R0
  8381 03:1F46: 10 01        	bpl	L448
  8382 03:1F48: 88           	dey
  8383                        L448:
  8384 03:1F49: 85 01        	sta	<R0
  8385 03:1F4B: 84 03        	sty	<R0+2
  8386 03:1F4D: D4 03        	pei	<R0+2
  8387 03:1F4F: D4 01        	pei	<R0
  8388 03:1F51: 18           	clc
  8389 03:1F52: A9 05 00     	lda	#$5
  8390 03:1F55: 65 0D        	adc	<L434+textX_1
  8391 03:1F57: 85 05        	sta	<R1
  8392 03:1F59: A0 00 00     	ldy	#$0
  8393 03:1F5C: A5 05        	lda	<R1
  8394 03:1F5E: 10 01        	bpl	L449
  8395 03:1F60: 88           	dey
  8396                        L449:
  8397 03:1F61: 85 05        	sta	<R1
  8398 03:1F63: 84 07        	sty	<R1+2
  8399 03:1F65: D4 07        	pei	<R1+2
  8400 03:1F67: D4 05        	pei	<R1
  8401 03:1F69: 22 10 0E 03  	jsl	~~k_draw_pixel
  8402                        ;			if (b->b4 > 0)
  8403                        L10085:
  8404                        	.line	1107
  8405                        ;				k_draw_pixel(textX + 4, 
                    textY + y, color);
  8406 03:1F6D: E2 20        	sep	#$20
  8407                        	longa	off
  8408 03:1F6F: A7 15        	lda	[<L434+b_2]
  8409 03:1F71: 85 01        	sta	<R0
  8410 03:1F73: C2 20        	rep	#$20
  8411                        	longa	on
  8412 03:1F75: E2 20        	sep	#$20
  8413                        	longa	off
  8414 03:1F77: 46 01        	lsr	<R0
  8415 03:1F79: 46 01        	lsr	<R0
  8416 03:1F7B: 46 01        	lsr	<R0
  8417 03:1F7D: C2 20        	rep	#$20
  8418                        	longa	on
  8419 03:1F7F: E2 20        	sep	#$20
  8420                        	longa	off
  8421 03:1F81: A5 01        	lda	<R0
  8422 03:1F83: 29 01        	and	#<$1
  8423 03:1F85: 85 01        	sta	<R0
  8424 03:1F87: C2 20        	rep	#$20
  8425                        	longa	on
  8426 03:1F89: E2 20        	sep	#$20
  8427                        	longa	off
  8428 03:1F8B: A9 00        	lda	#$0
  8429 03:1F8D: C5 01        	cmp	<R0
  8430 03:1F8F: C2 20        	rep	#$20
  8431                        	longa	on
  8432 03:1F91: 90 03        	bcc	L450
  8433 03:1F93: 82 35 00     	brl	L10086
  8434                        L450:
  8435                        	.line	1108
  8436 03:1F96: D4 26        	pei	<L433+color_0
  Mon Dec  7 2020 11:19                                                Page 158


  8437 03:1F98: 18           	clc
  8438 03:1F99: A5 0F        	lda	<L434+textY_1
  8439 03:1F9B: 65 0B        	adc	<L434+y_1
  8440 03:1F9D: 85 01        	sta	<R0
  8441 03:1F9F: A0 00 00     	ldy	#$0
  8442 03:1FA2: A5 01        	lda	<R0
  8443 03:1FA4: 10 01        	bpl	L451
  8444 03:1FA6: 88           	dey
  8445                        L451:
  8446 03:1FA7: 85 01        	sta	<R0
  8447 03:1FA9: 84 03        	sty	<R0+2
  8448 03:1FAB: D4 03        	pei	<R0+2
  8449 03:1FAD: D4 01        	pei	<R0
  8450 03:1FAF: 18           	clc
  8451 03:1FB0: A9 04 00     	lda	#$4
  8452 03:1FB3: 65 0D        	adc	<L434+textX_1
  8453 03:1FB5: 85 05        	sta	<R1
  8454 03:1FB7: A0 00 00     	ldy	#$0
  8455 03:1FBA: A5 05        	lda	<R1
  8456 03:1FBC: 10 01        	bpl	L452
  8457 03:1FBE: 88           	dey
  8458                        L452:
  8459 03:1FBF: 85 05        	sta	<R1
  8460 03:1FC1: 84 07        	sty	<R1+2
  8461 03:1FC3: D4 07        	pei	<R1+2
  8462 03:1FC5: D4 05        	pei	<R1
  8463 03:1FC7: 22 10 0E 03  	jsl	~~k_draw_pixel
  8464                        ;			if (b->b3 > 0)
  8465                        L10086:
  8466                        	.line	1109
  8467                        ;				k_draw_pixel(textX + 3, 
                    textY + y, color);
  8468 03:1FCB: E2 20        	sep	#$20
  8469                        	longa	off
  8470 03:1FCD: A7 15        	lda	[<L434+b_2]
  8471 03:1FCF: 85 01        	sta	<R0
  8472 03:1FD1: C2 20        	rep	#$20
  8473                        	longa	on
  8474 03:1FD3: E2 20        	sep	#$20
  8475                        	longa	off
  8476 03:1FD5: 46 01        	lsr	<R0
  8477 03:1FD7: 46 01        	lsr	<R0
  8478 03:1FD9: 46 01        	lsr	<R0
  8479 03:1FDB: 46 01        	lsr	<R0
  8480 03:1FDD: C2 20        	rep	#$20
  8481                        	longa	on
  8482 03:1FDF: E2 20        	sep	#$20
  8483                        	longa	off
  8484 03:1FE1: A5 01        	lda	<R0
  8485 03:1FE3: 29 01        	and	#<$1
  8486 03:1FE5: 85 01        	sta	<R0
  8487 03:1FE7: C2 20        	rep	#$20
  8488                        	longa	on
  8489 03:1FE9: E2 20        	sep	#$20
  8490                        	longa	off
  8491 03:1FEB: A9 00        	lda	#$0
  8492 03:1FED: C5 01        	cmp	<R0
  8493 03:1FEF: C2 20        	rep	#$20
  Mon Dec  7 2020 11:19                                                Page 159


  8494                        	longa	on
  8495 03:1FF1: 90 03        	bcc	L453
  8496 03:1FF3: 82 35 00     	brl	L10087
  8497                        L453:
  8498                        	.line	1110
  8499 03:1FF6: D4 26        	pei	<L433+color_0
  8500 03:1FF8: 18           	clc
  8501 03:1FF9: A5 0F        	lda	<L434+textY_1
  8502 03:1FFB: 65 0B        	adc	<L434+y_1
  8503 03:1FFD: 85 01        	sta	<R0
  8504 03:1FFF: A0 00 00     	ldy	#$0
  8505 03:2002: A5 01        	lda	<R0
  8506 03:2004: 10 01        	bpl	L454
  8507 03:2006: 88           	dey
  8508                        L454:
  8509 03:2007: 85 01        	sta	<R0
  8510 03:2009: 84 03        	sty	<R0+2
  8511 03:200B: D4 03        	pei	<R0+2
  8512 03:200D: D4 01        	pei	<R0
  8513 03:200F: 18           	clc
  8514 03:2010: A9 03 00     	lda	#$3
  8515 03:2013: 65 0D        	adc	<L434+textX_1
  8516 03:2015: 85 05        	sta	<R1
  8517 03:2017: A0 00 00     	ldy	#$0
  8518 03:201A: A5 05        	lda	<R1
  8519 03:201C: 10 01        	bpl	L455
  8520 03:201E: 88           	dey
  8521                        L455:
  8522 03:201F: 85 05        	sta	<R1
  8523 03:2021: 84 07        	sty	<R1+2
  8524 03:2023: D4 07        	pei	<R1+2
  8525 03:2025: D4 05        	pei	<R1
  8526 03:2027: 22 10 0E 03  	jsl	~~k_draw_pixel
  8527                        ;			if (b->b2 > 0)
  8528                        L10087:
  8529                        	.line	1111
  8530                        ;				k_draw_pixel(textX + 2, 
                    textY + y, color);
  8531 03:202B: E2 20        	sep	#$20
  8532                        	longa	off
  8533 03:202D: A7 15        	lda	[<L434+b_2]
  8534 03:202F: 85 01        	sta	<R0
  8535 03:2031: C2 20        	rep	#$20
  8536                        	longa	on
  8537 03:2033: E2 20        	sep	#$20
  8538                        	longa	off
  8539 03:2035: 46 01        	lsr	<R0
  8540 03:2037: 46 01        	lsr	<R0
  8541 03:2039: 46 01        	lsr	<R0
  8542 03:203B: 46 01        	lsr	<R0
  8543 03:203D: 46 01        	lsr	<R0
  8544 03:203F: C2 20        	rep	#$20
  8545                        	longa	on
  8546 03:2041: E2 20        	sep	#$20
  8547                        	longa	off
  8548 03:2043: A5 01        	lda	<R0
  8549 03:2045: 29 01        	and	#<$1
  8550 03:2047: 85 01        	sta	<R0
  Mon Dec  7 2020 11:19                                                Page 160


  8551 03:2049: C2 20        	rep	#$20
  8552                        	longa	on
  8553 03:204B: E2 20        	sep	#$20
  8554                        	longa	off
  8555 03:204D: A9 00        	lda	#$0
  8556 03:204F: C5 01        	cmp	<R0
  8557 03:2051: C2 20        	rep	#$20
  8558                        	longa	on
  8559 03:2053: 90 03        	bcc	L456
  8560 03:2055: 82 35 00     	brl	L10088
  8561                        L456:
  8562                        	.line	1112
  8563 03:2058: D4 26        	pei	<L433+color_0
  8564 03:205A: 18           	clc
  8565 03:205B: A5 0F        	lda	<L434+textY_1
  8566 03:205D: 65 0B        	adc	<L434+y_1
  8567 03:205F: 85 01        	sta	<R0
  8568 03:2061: A0 00 00     	ldy	#$0
  8569 03:2064: A5 01        	lda	<R0
  8570 03:2066: 10 01        	bpl	L457
  8571 03:2068: 88           	dey
  8572                        L457:
  8573 03:2069: 85 01        	sta	<R0
  8574 03:206B: 84 03        	sty	<R0+2
  8575 03:206D: D4 03        	pei	<R0+2
  8576 03:206F: D4 01        	pei	<R0
  8577 03:2071: 18           	clc
  8578 03:2072: A9 02 00     	lda	#$2
  8579 03:2075: 65 0D        	adc	<L434+textX_1
  8580 03:2077: 85 05        	sta	<R1
  8581 03:2079: A0 00 00     	ldy	#$0
  8582 03:207C: A5 05        	lda	<R1
  8583 03:207E: 10 01        	bpl	L458
  8584 03:2080: 88           	dey
  8585                        L458:
  8586 03:2081: 85 05        	sta	<R1
  8587 03:2083: 84 07        	sty	<R1+2
  8588 03:2085: D4 07        	pei	<R1+2
  8589 03:2087: D4 05        	pei	<R1
  8590 03:2089: 22 10 0E 03  	jsl	~~k_draw_pixel
  8591                        ;			if (b->b1 > 0)
  8592                        L10088:
  8593                        	.line	1113
  8594                        ;				k_draw_pixel(textX + 1, 
                    textY + y, color);
  8595 03:208D: E2 20        	sep	#$20
  8596                        	longa	off
  8597 03:208F: A7 15        	lda	[<L434+b_2]
  8598 03:2091: 85 01        	sta	<R0
  8599 03:2093: C2 20        	rep	#$20
  8600                        	longa	on
  8601 03:2095: E2 20        	sep	#$20
  8602                        	longa	off
  8603 03:2097: 46 01        	lsr	<R0
  8604 03:2099: 46 01        	lsr	<R0
  8605 03:209B: 46 01        	lsr	<R0
  8606 03:209D: 46 01        	lsr	<R0
  8607 03:209F: 46 01        	lsr	<R0
  Mon Dec  7 2020 11:19                                                Page 161


  8608 03:20A1: 46 01        	lsr	<R0
  8609 03:20A3: C2 20        	rep	#$20
  8610                        	longa	on
  8611 03:20A5: E2 20        	sep	#$20
  8612                        	longa	off
  8613 03:20A7: A5 01        	lda	<R0
  8614 03:20A9: 29 01        	and	#<$1
  8615 03:20AB: 85 01        	sta	<R0
  8616 03:20AD: C2 20        	rep	#$20
  8617                        	longa	on
  8618 03:20AF: E2 20        	sep	#$20
  8619                        	longa	off
  8620 03:20B1: A9 00        	lda	#$0
  8621 03:20B3: C5 01        	cmp	<R0
  8622 03:20B5: C2 20        	rep	#$20
  8623                        	longa	on
  8624 03:20B7: 90 03        	bcc	L459
  8625 03:20B9: 82 32 00     	brl	L10089
  8626                        L459:
  8627                        	.line	1114
  8628 03:20BC: D4 26        	pei	<L433+color_0
  8629 03:20BE: 18           	clc
  8630 03:20BF: A5 0F        	lda	<L434+textY_1
  8631 03:20C1: 65 0B        	adc	<L434+y_1
  8632 03:20C3: 85 01        	sta	<R0
  8633 03:20C5: A0 00 00     	ldy	#$0
  8634 03:20C8: A5 01        	lda	<R0
  8635 03:20CA: 10 01        	bpl	L460
  8636 03:20CC: 88           	dey
  8637                        L460:
  8638 03:20CD: 85 01        	sta	<R0
  8639 03:20CF: 84 03        	sty	<R0+2
  8640 03:20D1: D4 03        	pei	<R0+2
  8641 03:20D3: D4 01        	pei	<R0
  8642 03:20D5: A5 0D        	lda	<L434+textX_1
  8643 03:20D7: 1A           	ina
  8644 03:20D8: 85 05        	sta	<R1
  8645 03:20DA: A0 00 00     	ldy	#$0
  8646 03:20DD: A5 05        	lda	<R1
  8647 03:20DF: 10 01        	bpl	L461
  8648 03:20E1: 88           	dey
  8649                        L461:
  8650 03:20E2: 85 05        	sta	<R1
  8651 03:20E4: 84 07        	sty	<R1+2
  8652 03:20E6: D4 07        	pei	<R1+2
  8653 03:20E8: D4 05        	pei	<R1
  8654 03:20EA: 22 10 0E 03  	jsl	~~k_draw_pixel
  8655                        ;			if (b->b0 > 0)
  8656                        L10089:
  8657                        	.line	1115
  8658                        ;				k_draw_pixel(textX + 0, 
                    textY + y, color);
  8659 03:20EE: E2 20        	sep	#$20
  8660                        	longa	off
  8661 03:20F0: A7 15        	lda	[<L434+b_2]
  8662 03:20F2: 85 01        	sta	<R0
  8663 03:20F4: C2 20        	rep	#$20
  8664                        	longa	on
  Mon Dec  7 2020 11:19                                                Page 162


  8665 03:20F6: E2 20        	sep	#$20
  8666                        	longa	off
  8667 03:20F8: 46 01        	lsr	<R0
  8668 03:20FA: 46 01        	lsr	<R0
  8669 03:20FC: 46 01        	lsr	<R0
  8670 03:20FE: 46 01        	lsr	<R0
  8671 03:2100: 46 01        	lsr	<R0
  8672 03:2102: 46 01        	lsr	<R0
  8673 03:2104: 46 01        	lsr	<R0
  8674 03:2106: C2 20        	rep	#$20
  8675                        	longa	on
  8676 03:2108: E2 20        	sep	#$20
  8677                        	longa	off
  8678 03:210A: A9 00        	lda	#$0
  8679 03:210C: C5 01        	cmp	<R0
  8680 03:210E: C2 20        	rep	#$20
  8681                        	longa	on
  8682 03:2110: 90 03        	bcc	L462
  8683 03:2112: 82 2D 00     	brl	L10090
  8684                        L462:
  8685                        	.line	1116
  8686 03:2115: D4 26        	pei	<L433+color_0
  8687 03:2117: 18           	clc
  8688 03:2118: A5 0F        	lda	<L434+textY_1
  8689 03:211A: 65 0B        	adc	<L434+y_1
  8690 03:211C: 85 01        	sta	<R0
  8691 03:211E: A0 00 00     	ldy	#$0
  8692 03:2121: A5 01        	lda	<R0
  8693 03:2123: 10 01        	bpl	L463
  8694 03:2125: 88           	dey
  8695                        L463:
  8696 03:2126: 85 01        	sta	<R0
  8697 03:2128: 84 03        	sty	<R0+2
  8698 03:212A: D4 03        	pei	<R0+2
  8699 03:212C: D4 01        	pei	<R0
  8700 03:212E: A0 00 00     	ldy	#$0
  8701 03:2131: A5 0D        	lda	<L434+textX_1
  8702 03:2133: 10 01        	bpl	L464
  8703 03:2135: 88           	dey
  8704                        L464:
  8705 03:2136: 85 05        	sta	<R1
  8706 03:2138: 84 07        	sty	<R1+2
  8707 03:213A: D4 07        	pei	<R1+2
  8708 03:213C: D4 05        	pei	<R1
  8709 03:213E: 22 10 0E 03  	jsl	~~k_draw_pixel
  8710                        ;
  8711                        ;		} // end "for y"
  8712                        L10090:
  8713                        	.endblock	1118
  8714                        	.line	1118
  8715                        L10079:
  8716 03:2142: E6 0B        	inc	<L434+y_1
  8717                        L10082:
  8718 03:2144: 22 E8 71 03  	jsl	~~k_font_getFontHeight
  8719 03:2148: 85 01        	sta	<R0
  8720 03:214A: A5 0B        	lda	<L434+y_1
  8721 03:214C: C5 01        	cmp	<R0
  8722 03:214E: B0 03        	bcs	L465
  Mon Dec  7 2020 11:19                                                Page 163


  8723 03:2150: 82 F7 FC     	brl	L10081
  8724                        L465:
  8725                        L10080:
  8726                        ;	}
  8727                        	.line	1119
  8728                        ;	return FONTW;
  8729                        L10078:
  8730                        	.line	1120
  8731 03:2153: 22 FD 71 03  	jsl	~~k_font_getFontWidth
  8732                        L466:
  8733 03:2157: A8           	tay
  8734 03:2158: A5 1A        	lda	<L433+2
  8735 03:215A: 85 26        	sta	<L433+2+12
  8736 03:215C: A5 19        	lda	<L433+1
  8737 03:215E: 85 25        	sta	<L433+1+12
  8738 03:2160: 2B           	pld
  8739 03:2161: 3B           	tsc
  8740 03:2162: 18           	clc
  8741 03:2163: 69 24 00     	adc	#L433+12
  8742 03:2166: 1B           	tcs
  8743 03:2167: 98           	tya
  8744 03:2168: 6B           	rtl
  8745                        ;}
  8746                        	.line	1121
  8747                        	.endblock	1121
  8748             00000018   L433	equ	24
  8749             00000009   L434	equ	9
  8750 03:2169:              	ends
  8751                        	efunc
  8752                        	.endfunc	1121,9,24
  8753                        	.line	1121
  8754                        ;
  8755                        ;/*
  8756                        ;int k_put_binary_variablefont_point(LPCHAR fontSe
                    t, char outChar,int cx,int cy,int width,int height,char colo
                    r)
  8757                        ;{
  8758                        ;	int x = 0;
  8759                        ;	int y = 0;
  8760                        ;	int textX = cx;
  8761                        ;	int textY = cy;
  8762                        ;
  8763                        ;	unsigned char FAR* img = NULL;//fontImg[ix];
  8764                        ;
  8765                        ;    if(outChar == 32)
  8766                        ;	{
  8767                        ;	   img = NULL;//fontSpace;
  8768                        ;    }
  8769                        ;    else
  8770                        ;	{
  8771                        ;	    //img = &(fontSet[characterROMMapping[outCha
                    r]]);
  8772                        ;    	img = fontSet+=(height*outChar);
  8773                        ;    	//img = "\xc3\xc3\xc3\xc3\xc3\xc3\xc3\xc
                    3";//&(fontSet[outChar]);
  8774                        ;	}
  8775                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
  Mon Dec  7 2020 11:19                                                Page 164


  8776                        ;
  8777                        ;	// get the font 'image'
  8778                        ;        //char *img = fontImg[ix];
  8779                        ;        // loop through pixel rows
  8780                        ;	if(img!=NULL)
  8781                        ;	{
  8782                        ;		for (y = 0; y < height; y++)
  8783                        ;		{
  8784                        ;			// get the pixel value
  8785                        ;			PBYTEBITS b = (PBYTEBITS)&(img[y
                    ]); //img[y * FONTW + x];
  8786                        ;			if (b->b7 > 0)
  8787                        ;				k_draw_pixel(textX + 7, 
                    textY + y, color);
  8788                        ;			if (b->b6 > 0)
  8789                        ;				k_draw_pixel(textX + 6, 
                    textY + y, color);
  8790                        ;			if (b->b5 > 0)
  8791                        ;				k_draw_pixel(textX + 5, 
                    textY + y, color);
  8792                        ;			if (b->b4 > 0)
  8793                        ;				k_draw_pixel(textX + 4, 
                    textY + y, color);
  8794                        ;			if (b->b3 > 0)
  8795                        ;				k_draw_pixel(textX + 3, 
                    textY + y, color);
  8796                        ;			if (b->b2 > 0)
  8797                        ;				k_draw_pixel(textX + 2, 
                    textY + y, color);
  8798                        ;			if (b->b1 > 0)
  8799                        ;				k_draw_pixel(textX + 1, 
                    textY + y, color);
  8800                        ;			if (b->b0 > 0)
  8801                        ;				k_draw_pixel(textX + 0, 
                    textY + y, color);
  8802                        ;
  8803                        ;		} // end "for y"
  8804                        ;	}
  8805                        ;	return FONTW;
  8806                        ;}
  8807                        ;*/
  8808                        ;int k_put_binary_variablefont_point(LPCHAR fontSe
                    t, char outChar,int cx,int cy,int width,int height,char colo
                    r)
  8809                        ;{
  8810                        	.line	1176
  8811                        	.line	1177
  8812                        	GUI
  8813                        	xdef	~~k_put_binary_variablefont_point
  8814                        	func
  8815                        	.function	1177
  8816                        ~~k_put_binary_variablefont_point:
  8817                        	longa	on
  8818                        	longi	on
  8819 03:2169: 3B           	tsc
  8820 03:216A: 38           	sec
  8821 03:216B: E9 15 00     	sbc	#L467
  8822 03:216E: 1B           	tcs
  Mon Dec  7 2020 11:19                                                Page 165


  8823 03:216F: 0B           	phd
  8824 03:2170: 5B           	tcd
  8825             00000004   fontSet_0	set	4
  8826             00000008   outChar_0	set	8
  8827             0000000A   cx_0	set	10
  8828             0000000C   cy_0	set	12
  8829             0000000E   width_0	set	14
  8830             00000010   height_0	set	16
  8831             00000012   color_0	set	18
  8832                        	.block	1177
  8833                        ;	int x = 0;
  8834                        ;	int y = 0;
  8835                        ;	int textX = cx;
  8836                        ;	int textY = cy;
  8837                        ;	char tmp;
  8838                        ;
  8839                        ;	unsigned char FAR* img = NULL;//fontImg[ix];
  8840                        ;
  8841                        ;    if(outChar == 32)
  8842             00000000   x_1	set	0
  8843             00000002   y_1	set	2
  8844             00000004   textX_1	set	4
  8845             00000006   textY_1	set	6
  8846             00000008   tmp_1	set	8
  8847             00000009   img_1	set	9
  8848                        	.sym	x,0,5,1,16
  8849                        	.sym	y,2,5,1,16
  8850                        	.sym	textX,4,5,1,16
  8851                        	.sym	textY,6,5,1,16
  8852                        	.sym	tmp,8,14,1,8
  8853                        	.sym	img,9,142,1,32
  8854                        	.sym	fontSet,4,142,6,32
  8855                        	.sym	outChar,8,14,6,8
  8856                        	.sym	cx,10,5,6,16
  8857                        	.sym	cy,12,5,6,16
  8858                        	.sym	width,14,5,6,16
  8859                        	.sym	height,16,5,6,16
  8860                        	.sym	color,18,14,6,8
  8861 03:2171: 64 09        	stz	<L468+x_1
  8862 03:2173: 64 0B        	stz	<L468+y_1
  8863 03:2175: A5 1F        	lda	<L467+cx_0
  8864 03:2177: 85 0D        	sta	<L468+textX_1
  8865 03:2179: A5 21        	lda	<L467+cy_0
  8866 03:217B: 85 0F        	sta	<L468+textY_1
  8867 03:217D: 64 12        	stz	<L468+img_1
  8868 03:217F: 64 14        	stz	<L468+img_1+2
  8869                        	.line	1186
  8870                        ;	{
  8871 03:2181: E2 20        	sep	#$20
  8872                        	longa	off
  8873 03:2183: A5 1D        	lda	<L467+outChar_0
  8874 03:2185: C9 20        	cmp	#<$20
  8875 03:2187: C2 20        	rep	#$20
  8876                        	longa	on
  8877 03:2189: F0 03        	beq	L470
  8878 03:218B: 82 07 00     	brl	L10091
  8879                        L470:
  8880                        	.line	1187
  Mon Dec  7 2020 11:19                                                Page 166


  8881                        ;	   img = NULL;//fontSpace;
  8882                        	.line	1188
  8883 03:218E: 64 12        	stz	<L468+img_1
  8884 03:2190: 64 14        	stz	<L468+img_1+2
  8885                        ;    }
  8886                        	.line	1189
  8887                        ;    else
  8888 03:2192: 82 32 00     	brl	L10092
  8889                        L10091:
  8890                        ;	{
  8891                        	.line	1191
  8892                        ;	    //img = &(fontSet[characterROMMapping[outCha
                    r]]);
  8893                        ;    	img = fontSet+=(height*outChar);
  8894                        	.line	1193
  8895 03:2195: A5 1D        	lda	<L467+outChar_0
  8896 03:2197: 29 FF 00     	and	#$ff
  8897 03:219A: 85 01        	sta	<R0
  8898 03:219C: A5 01        	lda	<R0
  8899 03:219E: A6 25        	ldx	<L467+height_0
  8900                        	xref	~~~mul
  8901 03:21A0: 22 xx xx xx  	jsl	~~~mul
  8902 03:21A4: 85 01        	sta	<R0
  8903 03:21A6: A0 00 00     	ldy	#$0
  8904 03:21A9: A5 01        	lda	<R0
  8905 03:21AB: 10 01        	bpl	L471
  8906 03:21AD: 88           	dey
  8907                        L471:
  8908 03:21AE: 85 01        	sta	<R0
  8909 03:21B0: 84 03        	sty	<R0+2
  8910 03:21B2: 18           	clc
  8911 03:21B3: A5 19        	lda	<L467+fontSet_0
  8912 03:21B5: 65 01        	adc	<R0
  8913 03:21B7: 85 19        	sta	<L467+fontSet_0
  8914 03:21B9: A5 1B        	lda	<L467+fontSet_0+2
  8915 03:21BB: 65 03        	adc	<R0+2
  8916 03:21BD: 85 1B        	sta	<L467+fontSet_0+2
  8917 03:21BF: A5 19        	lda	<L467+fontSet_0
  8918 03:21C1: 85 12        	sta	<L468+img_1
  8919 03:21C3: A5 1B        	lda	<L467+fontSet_0+2
  8920 03:21C5: 85 14        	sta	<L468+img_1+2
  8921                        ;    	//img = "\xc3\xc3\xc3\xc3\xc3\xc3\xc3\xc
                    3";//&(fontSet[outChar]);
  8922                        ;	}
  8923                        	.line	1195
  8924                        L10092:
  8925                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
  8926                        ;
  8927                        ;	// get the font 'image'
  8928                        ;        //char *img = fontImg[ix];
  8929                        ;        // loop through pixel rows
  8930                        ;	if(img!=NULL)
  8931                        	.line	1201
  8932                        ;	{
  8933 03:21C7: A5 12        	lda	<L468+img_1
  8934 03:21C9: 05 14        	ora	<L468+img_1+2
  8935 03:21CB: D0 03        	bne	L472
  Mon Dec  7 2020 11:19                                                Page 167


  8936 03:21CD: 82 7D 00     	brl	L10093
  8937                        L472:
  8938                        	.line	1202
  8939                        ;		for (y = 0; y < height; y++)
  8940                        	.line	1203
  8941 03:21D0: 64 0B        	stz	<L468+y_1
  8942 03:21D2: 82 69 00     	brl	L10097
  8943                        L10096:
  8944                        ;		{
  8945                        	.line	1204
  8946                        ;			tmp = img[y];
  8947                        	.line	1205
  8948 03:21D5: E2 20        	sep	#$20
  8949                        	longa	off
  8950 03:21D7: A4 0B        	ldy	<L468+y_1
  8951 03:21D9: B7 12        	lda	[<L468+img_1],Y
  8952 03:21DB: 85 11        	sta	<L468+tmp_1
  8953 03:21DD: C2 20        	rep	#$20
  8954                        	longa	on
  8955                        ;
  8956                        ;			for (x = 0; x < width; x++)
  8957                        	.line	1207
  8958 03:21DF: 64 09        	stz	<L468+x_1
  8959 03:21E1: 82 49 00     	brl	L10101
  8960                        L10100:
  8961                        ;			{
  8962                        	.line	1208
  8963                        ;				if(tmp & 0x80 )
  8964                        	.line	1209
  8965                        ;					k_draw_pixel(tex
                    tX + x, textY + y, color);
  8966 03:21E4: E2 20        	sep	#$20
  8967                        	longa	off
  8968 03:21E6: A5 11        	lda	<L468+tmp_1
  8969 03:21E8: 29 80        	and	#<$80
  8970 03:21EA: C2 20        	rep	#$20
  8971                        	longa	on
  8972 03:21EC: D0 03        	bne	L473
  8973 03:21EE: 82 34 00     	brl	L10102
  8974                        L473:
  8975                        	.line	1210
  8976 03:21F1: D4 27        	pei	<L467+color_0
  8977 03:21F3: 18           	clc
  8978 03:21F4: A5 0F        	lda	<L468+textY_1
  8979 03:21F6: 65 0B        	adc	<L468+y_1
  8980 03:21F8: 85 01        	sta	<R0
  8981 03:21FA: A0 00 00     	ldy	#$0
  8982 03:21FD: A5 01        	lda	<R0
  8983 03:21FF: 10 01        	bpl	L474
  8984 03:2201: 88           	dey
  8985                        L474:
  8986 03:2202: 85 01        	sta	<R0
  8987 03:2204: 84 03        	sty	<R0+2
  8988 03:2206: D4 03        	pei	<R0+2
  8989 03:2208: D4 01        	pei	<R0
  8990 03:220A: 18           	clc
  8991 03:220B: A5 0D        	lda	<L468+textX_1
  8992 03:220D: 65 09        	adc	<L468+x_1
  Mon Dec  7 2020 11:19                                                Page 168


  8993 03:220F: 85 05        	sta	<R1
  8994 03:2211: A0 00 00     	ldy	#$0
  8995 03:2214: A5 05        	lda	<R1
  8996 03:2216: 10 01        	bpl	L475
  8997 03:2218: 88           	dey
  8998                        L475:
  8999 03:2219: 85 05        	sta	<R1
  9000 03:221B: 84 07        	sty	<R1+2
  9001 03:221D: D4 07        	pei	<R1+2
  9002 03:221F: D4 05        	pei	<R1
  9003 03:2221: 22 10 0E 03  	jsl	~~k_draw_pixel
  9004                        ;
  9005                        ;				tmp = tmp << 1;
  9006                        L10102:
  9007                        	.line	1212
  9008 03:2225: E2 20        	sep	#$20
  9009                        	longa	off
  9010 03:2227: 06 11        	asl	<L468+tmp_1
  9011 03:2229: C2 20        	rep	#$20
  9012                        	longa	on
  9013                        ;			}
  9014                        	.line	1213
  9015                        L10098:
  9016 03:222B: E6 09        	inc	<L468+x_1
  9017                        L10101:
  9018 03:222D: 38           	sec
  9019 03:222E: A5 09        	lda	<L468+x_1
  9020 03:2230: E5 23        	sbc	<L467+width_0
  9021 03:2232: 70 03        	bvs	L476
  9022 03:2234: 49 00 80     	eor	#$8000
  9023                        L476:
  9024 03:2237: 30 03        	bmi	L477
  9025 03:2239: 82 A8 FF     	brl	L10100
  9026                        L477:
  9027                        L10099:
  9028                        ;			// get the pixel value
  9029                        ;			/*
  9030                        ;			PBYTEBITS b = (PBYTEBITS)&(img[y
                    ]); //img[y * FONTW + x];
  9031                        ;			if (b->b7 > 0)
  9032                        ;				k_draw_pixel(textX + 7, 
                    textY + y, color);
  9033                        ;			if (b->b6 > 0)
  9034                        ;				k_draw_pixel(textX + 6, 
                    textY + y, color);
  9035                        ;			if (b->b5 > 0)
  9036                        ;				k_draw_pixel(textX + 5, 
                    textY + y, color);
  9037                        ;			if (b->b4 > 0)
  9038                        ;				k_draw_pixel(textX + 4, 
                    textY + y, color);
  9039                        ;			if (b->b3 > 0)
  9040                        ;				k_draw_pixel(textX + 3, 
                    textY + y, color);
  9041                        ;			if (b->b2 > 0)
  9042                        ;				k_draw_pixel(textX + 2, 
                    textY + y, color);
  9043                        ;			if (b->b1 > 0)
  Mon Dec  7 2020 11:19                                                Page 169


  9044                        ;				k_draw_pixel(textX + 1, 
                    textY + y, color);
  9045                        ;			if (b->b0 > 0)
  9046                        ;				k_draw_pixel(textX + 0, 
                    textY + y, color);
  9047                        ;			*/
  9048                        ;		} // end "for y"
  9049                        	.line	1234
  9050                        L10094:
  9051 03:223C: E6 0B        	inc	<L468+y_1
  9052                        L10097:
  9053 03:223E: 38           	sec
  9054 03:223F: A5 0B        	lda	<L468+y_1
  9055 03:2241: E5 25        	sbc	<L467+height_0
  9056 03:2243: 70 03        	bvs	L478
  9057 03:2245: 49 00 80     	eor	#$8000
  9058                        L478:
  9059 03:2248: 30 03        	bmi	L479
  9060 03:224A: 82 88 FF     	brl	L10096
  9061                        L479:
  9062                        L10095:
  9063                        ;	}
  9064                        	.line	1235
  9065                        ;	return FONTW;
  9066                        L10093:
  9067                        	.line	1236
  9068 03:224D: 22 FD 71 03  	jsl	~~k_font_getFontWidth
  9069                        L480:
  9070 03:2251: A8           	tay
  9071 03:2252: A5 17        	lda	<L467+2
  9072 03:2254: 85 27        	sta	<L467+2+16
  9073 03:2256: A5 16        	lda	<L467+1
  9074 03:2258: 85 26        	sta	<L467+1+16
  9075 03:225A: 2B           	pld
  9076 03:225B: 3B           	tsc
  9077 03:225C: 18           	clc
  9078 03:225D: 69 25 00     	adc	#L467+16
  9079 03:2260: 1B           	tcs
  9080 03:2261: 98           	tya
  9081 03:2262: 6B           	rtl
  9082                        ;}
  9083                        	.line	1237
  9084                        	.endblock	1237
  9085             00000015   L467	equ	21
  9086             00000009   L468	equ	9
  9087 03:2263:              	ends
  9088                        	efunc
  9089                        	.endfunc	1237,9,21
  9090                        	.line	1237
  9091                        ;
  9092                        ;int k_put_binary_variablefont_point_ex(LPCHAR fon
                    tSet, char outChar,int cx,int cy,int width,int height,char c
                    olor,UINT page)
  9093                        ;{
  9094                        	.line	1239
  9095                        	.line	1240
  9096                        	GUI
  9097                        	xdef	~~k_put_binary_variablefont_point_ex
  Mon Dec  7 2020 11:19                                                Page 170


  9098                        	func
  9099                        	.function	1240
  9100                        ~~k_put_binary_variablefont_point_ex:
  9101                        	longa	on
  9102                        	longi	on
  9103 03:2263: 3B           	tsc
  9104 03:2264: 38           	sec
  9105 03:2265: E9 15 00     	sbc	#L481
  9106 03:2268: 1B           	tcs
  9107 03:2269: 0B           	phd
  9108 03:226A: 5B           	tcd
  9109             00000004   fontSet_0	set	4
  9110             00000008   outChar_0	set	8
  9111             0000000A   cx_0	set	10
  9112             0000000C   cy_0	set	12
  9113             0000000E   width_0	set	14
  9114             00000010   height_0	set	16
  9115             00000012   color_0	set	18
  9116             00000014   page_0	set	20
  9117                        	.block	1240
  9118                        ;	int x = 0;
  9119                        ;	int y = 0;
  9120                        ;	int textX = cx;
  9121                        ;	int textY = cy;
  9122                        ;	char tmp;
  9123                        ;
  9124                        ;	unsigned char FAR* img = NULL;//fontImg[ix];
  9125                        ;
  9126                        ;    if(outChar == 32)
  9127             00000000   x_1	set	0
  9128             00000002   y_1	set	2
  9129             00000004   textX_1	set	4
  9130             00000006   textY_1	set	6
  9131             00000008   tmp_1	set	8
  9132             00000009   img_1	set	9
  9133                        	.sym	x,0,5,1,16
  9134                        	.sym	y,2,5,1,16
  9135                        	.sym	textX,4,5,1,16
  9136                        	.sym	textY,6,5,1,16
  9137                        	.sym	tmp,8,14,1,8
  9138                        	.sym	img,9,142,1,32
  9139                        	.sym	fontSet,4,142,6,32
  9140                        	.sym	outChar,8,14,6,8
  9141                        	.sym	cx,10,5,6,16
  9142                        	.sym	cy,12,5,6,16
  9143                        	.sym	width,14,5,6,16
  9144                        	.sym	height,16,5,6,16
  9145                        	.sym	color,18,14,6,8
  9146                        	.sym	page,20,16,6,16
  9147 03:226B: 64 09        	stz	<L482+x_1
  9148 03:226D: 64 0B        	stz	<L482+y_1
  9149 03:226F: A5 1F        	lda	<L481+cx_0
  9150 03:2271: 85 0D        	sta	<L482+textX_1
  9151 03:2273: A5 21        	lda	<L481+cy_0
  9152 03:2275: 85 0F        	sta	<L482+textY_1
  9153 03:2277: 64 12        	stz	<L482+img_1
  9154 03:2279: 64 14        	stz	<L482+img_1+2
  9155                        	.line	1249
  Mon Dec  7 2020 11:19                                                Page 171


  9156                        ;	{
  9157 03:227B: E2 20        	sep	#$20
  9158                        	longa	off
  9159 03:227D: A5 1D        	lda	<L481+outChar_0
  9160 03:227F: C9 20        	cmp	#<$20
  9161 03:2281: C2 20        	rep	#$20
  9162                        	longa	on
  9163 03:2283: F0 03        	beq	L484
  9164 03:2285: 82 07 00     	brl	L10103
  9165                        L484:
  9166                        	.line	1250
  9167                        ;	   img = NULL;//fontSpace;
  9168                        	.line	1251
  9169 03:2288: 64 12        	stz	<L482+img_1
  9170 03:228A: 64 14        	stz	<L482+img_1+2
  9171                        ;    }
  9172                        	.line	1252
  9173                        ;    else
  9174 03:228C: 82 32 00     	brl	L10104
  9175                        L10103:
  9176                        ;	{
  9177                        	.line	1254
  9178                        ;    	img = fontSet+=(height*outChar);
  9179                        	.line	1255
  9180 03:228F: A5 1D        	lda	<L481+outChar_0
  9181 03:2291: 29 FF 00     	and	#$ff
  9182 03:2294: 85 01        	sta	<R0
  9183 03:2296: A5 01        	lda	<R0
  9184 03:2298: A6 25        	ldx	<L481+height_0
  9185                        	xref	~~~mul
  9186 03:229A: 22 xx xx xx  	jsl	~~~mul
  9187 03:229E: 85 01        	sta	<R0
  9188 03:22A0: A0 00 00     	ldy	#$0
  9189 03:22A3: A5 01        	lda	<R0
  9190 03:22A5: 10 01        	bpl	L485
  9191 03:22A7: 88           	dey
  9192                        L485:
  9193 03:22A8: 85 01        	sta	<R0
  9194 03:22AA: 84 03        	sty	<R0+2
  9195 03:22AC: 18           	clc
  9196 03:22AD: A5 19        	lda	<L481+fontSet_0
  9197 03:22AF: 65 01        	adc	<R0
  9198 03:22B1: 85 19        	sta	<L481+fontSet_0
  9199 03:22B3: A5 1B        	lda	<L481+fontSet_0+2
  9200 03:22B5: 65 03        	adc	<R0+2
  9201 03:22B7: 85 1B        	sta	<L481+fontSet_0+2
  9202 03:22B9: A5 19        	lda	<L481+fontSet_0
  9203 03:22BB: 85 12        	sta	<L482+img_1
  9204 03:22BD: A5 1B        	lda	<L481+fontSet_0+2
  9205 03:22BF: 85 14        	sta	<L482+img_1+2
  9206                        ;	}
  9207                        	.line	1256
  9208                        L10104:
  9209                        ;
  9210                        ;    if(img!=NULL)
  9211                        	.line	1258
  9212                        ;	{
  9213 03:22C1: A5 12        	lda	<L482+img_1
  Mon Dec  7 2020 11:19                                                Page 172


  9214 03:22C3: 05 14        	ora	<L482+img_1+2
  9215 03:22C5: D0 03        	bne	L486
  9216 03:22C7: 82 7F 00     	brl	L10105
  9217                        L486:
  9218                        	.line	1259
  9219                        ;		for (y = 0; y < height; y++)
  9220                        	.line	1260
  9221 03:22CA: 64 0B        	stz	<L482+y_1
  9222 03:22CC: 82 6B 00     	brl	L10109
  9223                        L10108:
  9224                        ;		{
  9225                        	.line	1261
  9226                        ;			tmp = img[y];
  9227                        	.line	1262
  9228 03:22CF: E2 20        	sep	#$20
  9229                        	longa	off
  9230 03:22D1: A4 0B        	ldy	<L482+y_1
  9231 03:22D3: B7 12        	lda	[<L482+img_1],Y
  9232 03:22D5: 85 11        	sta	<L482+tmp_1
  9233 03:22D7: C2 20        	rep	#$20
  9234                        	longa	on
  9235                        ;
  9236                        ;			for (x = 0; x < width; x++)
  9237                        	.line	1264
  9238 03:22D9: 64 09        	stz	<L482+x_1
  9239 03:22DB: 82 4B 00     	brl	L10113
  9240                        L10112:
  9241                        ;			{
  9242                        	.line	1265
  9243                        ;				if(tmp & 0x80 )
  9244                        	.line	1266
  9245                        ;					k_draw_pixel_ex(
                    textX + x, textY + y, color, page);
  9246 03:22DE: E2 20        	sep	#$20
  9247                        	longa	off
  9248 03:22E0: A5 11        	lda	<L482+tmp_1
  9249 03:22E2: 29 80        	and	#<$80
  9250 03:22E4: C2 20        	rep	#$20
  9251                        	longa	on
  9252 03:22E6: D0 03        	bne	L487
  9253 03:22E8: 82 36 00     	brl	L10114
  9254                        L487:
  9255                        	.line	1267
  9256 03:22EB: D4 29        	pei	<L481+page_0
  9257 03:22ED: D4 27        	pei	<L481+color_0
  9258 03:22EF: 18           	clc
  9259 03:22F0: A5 0F        	lda	<L482+textY_1
  9260 03:22F2: 65 0B        	adc	<L482+y_1
  9261 03:22F4: 85 01        	sta	<R0
  9262 03:22F6: A0 00 00     	ldy	#$0
  9263 03:22F9: A5 01        	lda	<R0
  9264 03:22FB: 10 01        	bpl	L488
  9265 03:22FD: 88           	dey
  9266                        L488:
  9267 03:22FE: 85 01        	sta	<R0
  9268 03:2300: 84 03        	sty	<R0+2
  9269 03:2302: D4 03        	pei	<R0+2
  9270 03:2304: D4 01        	pei	<R0
  Mon Dec  7 2020 11:19                                                Page 173


  9271 03:2306: 18           	clc
  9272 03:2307: A5 0D        	lda	<L482+textX_1
  9273 03:2309: 65 09        	adc	<L482+x_1
  9274 03:230B: 85 05        	sta	<R1
  9275 03:230D: A0 00 00     	ldy	#$0
  9276 03:2310: A5 05        	lda	<R1
  9277 03:2312: 10 01        	bpl	L489
  9278 03:2314: 88           	dey
  9279                        L489:
  9280 03:2315: 85 05        	sta	<R1
  9281 03:2317: 84 07        	sty	<R1+2
  9282 03:2319: D4 07        	pei	<R1+2
  9283 03:231B: D4 05        	pei	<R1
  9284 03:231D: 22 5E 0E 03  	jsl	~~k_draw_pixel_ex
  9285                        ;
  9286                        ;				tmp = tmp << 1;
  9287                        L10114:
  9288                        	.line	1269
  9289 03:2321: E2 20        	sep	#$20
  9290                        	longa	off
  9291 03:2323: 06 11        	asl	<L482+tmp_1
  9292 03:2325: C2 20        	rep	#$20
  9293                        	longa	on
  9294                        ;			}
  9295                        	.line	1270
  9296                        L10110:
  9297 03:2327: E6 09        	inc	<L482+x_1
  9298                        L10113:
  9299 03:2329: 38           	sec
  9300 03:232A: A5 09        	lda	<L482+x_1
  9301 03:232C: E5 23        	sbc	<L481+width_0
  9302 03:232E: 70 03        	bvs	L490
  9303 03:2330: 49 00 80     	eor	#$8000
  9304                        L490:
  9305 03:2333: 30 03        	bmi	L491
  9306 03:2335: 82 A6 FF     	brl	L10112
  9307                        L491:
  9308                        L10111:
  9309                        ;		} // end "for y"
  9310                        	.line	1271
  9311                        L10106:
  9312 03:2338: E6 0B        	inc	<L482+y_1
  9313                        L10109:
  9314 03:233A: 38           	sec
  9315 03:233B: A5 0B        	lda	<L482+y_1
  9316 03:233D: E5 25        	sbc	<L481+height_0
  9317 03:233F: 70 03        	bvs	L492
  9318 03:2341: 49 00 80     	eor	#$8000
  9319                        L492:
  9320 03:2344: 30 03        	bmi	L493
  9321 03:2346: 82 86 FF     	brl	L10108
  9322                        L493:
  9323                        L10107:
  9324                        ;	}
  9325                        	.line	1272
  9326                        ;	return FONTW;
  9327                        L10105:
  9328                        	.line	1273
  Mon Dec  7 2020 11:19                                                Page 174


  9329 03:2349: 22 FD 71 03  	jsl	~~k_font_getFontWidth
  9330                        L494:
  9331 03:234D: A8           	tay
  9332 03:234E: A5 17        	lda	<L481+2
  9333 03:2350: 85 29        	sta	<L481+2+18
  9334 03:2352: A5 16        	lda	<L481+1
  9335 03:2354: 85 28        	sta	<L481+1+18
  9336 03:2356: 2B           	pld
  9337 03:2357: 3B           	tsc
  9338 03:2358: 18           	clc
  9339 03:2359: 69 27 00     	adc	#L481+18
  9340 03:235C: 1B           	tcs
  9341 03:235D: 98           	tya
  9342 03:235E: 6B           	rtl
  9343                        ;}
  9344                        	.line	1274
  9345                        	.endblock	1274
  9346             00000015   L481	equ	21
  9347             00000009   L482	equ	9
  9348 03:235F:              	ends
  9349                        	efunc
  9350                        	.endfunc	1274,9,21
  9351                        	.line	1274
  9352                        ;
  9353                        ;
  9354                        ;int k_render_wingadget(char gadgetCode,int cx,int
                     cy,char color,OBJECTCLICKED callback)
  9355                        ;{
  9356                        	.line	1277
  9357                        	.line	1278
  9358                        	GUI
  9359                        	xdef	~~k_render_wingadget
  9360                        	func
  9361                        	.function	1278
  9362                        ~~k_render_wingadget:
  9363                        	longa	on
  9364                        	longi	on
  9365 03:235F: 3B           	tsc
  9366 03:2360: 38           	sec
  9367 03:2361: E9 0A 00     	sbc	#L495
  9368 03:2364: 1B           	tcs
  9369 03:2365: 0B           	phd
  9370 03:2366: 5B           	tcd
  9371             00000004   gadgetCode_0	set	4
  9372             00000006   cx_0	set	6
  9373             00000008   cy_0	set	8
  9374             0000000A   color_0	set	10
  9375             0000000C   callback_0	set	12
  9376                        	.block	1278
  9377                        ;	PCLICKDETECTED pcd = NULL;
  9378                        ;
  9379                        ;	int retCode = 0;
  9380                        ;
  9381                        ;	k_put_wingadget_point(gadgetCode,cx,cy,color);
  9382             00000000   pcd_1	set	0
  9383             00000004   retCode_1	set	4
  9384                        	.sym	pcd,0,138,1,32,53
  9385                        	.sym	retCode,4,5,1,16
  Mon Dec  7 2020 11:19                                                Page 175


  9386                        	.sym	gadgetCode,4,14,6,8
  9387                        	.sym	cx,6,5,6,16
  9388                        	.sym	cy,8,5,6,16
  9389                        	.sym	color,10,14,6,8
  9390                        	.sym	callback,12,641,6,32
  9391 03:2367: 64 05        	stz	<L496+pcd_1
  9392 03:2369: 64 07        	stz	<L496+pcd_1+2
  9393 03:236B: 64 09        	stz	<L496+retCode_1
  9394                        	.line	1283
  9395 03:236D: D4 14        	pei	<L495+color_0
  9396 03:236F: D4 12        	pei	<L495+cy_0
  9397 03:2371: D4 10        	pei	<L495+cx_0
  9398 03:2373: D4 0E        	pei	<L495+gadgetCode_0
  9399 03:2375: 22 EA 23 03  	jsl	~~k_put_wingadget_point
  9400                        ;
  9401                        ;	pcd = k_mem_allocate_heap(sizeof(CLICKDETECTED))
                    ;
  9402                        	.line	1285
  9403 03:2379: F4 08 00     	pea	#<$8
  9404 03:237C: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  9405 03:2380: 85 05        	sta	<L496+pcd_1
  9406 03:2382: 86 07        	stx	<L496+pcd_1+2
  9407                        ;	if(pcd)
  9408                        	.line	1286
  9409                        ;	{
  9410 03:2384: A5 05        	lda	<L496+pcd_1
  9411 03:2386: 05 07        	ora	<L496+pcd_1+2
  9412 03:2388: D0 03        	bne	L498
  9413 03:238A: 82 49 00     	brl	L10115
  9414                        L498:
  9415                        	.line	1287
  9416                        ;		pcd->window  = k_create_ui_window_class(
                    cx,cy,FONTH,FONTW,"disk","gadget",NULL);
  9417                        	.line	1288
  9418 03:238D: F4 00 00     	pea	#^$0
  9419 03:2390: F4 00 00     	pea	#<$0
  9420 03:2393: F4 xx xx     	pea	#^L402+5
  9421 03:2396: F4 xx xx     	pea	#<L402+5
  9422 03:2399: F4 xx xx     	pea	#^L402
  9423 03:239C: F4 xx xx     	pea	#<L402
  9424 03:239F: 22 FD 71 03  	jsl	~~k_font_getFontWidth
  9425 03:23A3: 48           	pha
  9426 03:23A4: 22 E8 71 03  	jsl	~~k_font_getFontHeight
  9427 03:23A8: 48           	pha
  9428 03:23A9: D4 12        	pei	<L495+cy_0
  9429 03:23AB: D4 10        	pei	<L495+cx_0
  9430 03:23AD: 22 85 38 03  	jsl	~~k_create_ui_window_class
  9431 03:23B1: 85 01        	sta	<R0
  9432 03:23B3: 86 03        	stx	<R0+2
  9433 03:23B5: A5 01        	lda	<R0
  9434 03:23B7: 87 05        	sta	[<L496+pcd_1]
  9435 03:23B9: A5 03        	lda	<R0+2
  9436 03:23BB: A0 02 00     	ldy	#$2
  9437 03:23BE: 97 05        	sta	[<L496+pcd_1],Y
  9438                        ;		pcd->handler = callback;
  9439                        	.line	1289
  9440 03:23C0: A5 16        	lda	<L495+callback_0
  9441 03:23C2: A0 04 00     	ldy	#$4
  Mon Dec  7 2020 11:19                                                Page 176


  9442 03:23C5: 97 05        	sta	[<L496+pcd_1],Y
  9443 03:23C7: A5 18        	lda	<L495+callback_0+2
  9444 03:23C9: A0 06 00     	ldy	#$6
  9445 03:23CC: 97 05        	sta	[<L496+pcd_1],Y
  9446                        ;		k_add_window_hit_node(pcd);
  9447                        	.line	1290
  9448 03:23CE: D4 07        	pei	<L496+pcd_1+2
  9449 03:23D0: D4 05        	pei	<L496+pcd_1
  9450 03:23D2: 22 7C 5A 03  	jsl	~~k_add_window_hit_node
  9451                        ;	}
  9452                        	.line	1291
  9453                        ;
  9454                        ;	return retCode;
  9455                        L10115:
  9456                        	.line	1293
  9457 03:23D6: A5 09        	lda	<L496+retCode_1
  9458                        L499:
  9459 03:23D8: A8           	tay
  9460 03:23D9: A5 0C        	lda	<L495+2
  9461 03:23DB: 85 18        	sta	<L495+2+12
  9462 03:23DD: A5 0B        	lda	<L495+1
  9463 03:23DF: 85 17        	sta	<L495+1+12
  9464 03:23E1: 2B           	pld
  9465 03:23E2: 3B           	tsc
  9466 03:23E3: 18           	clc
  9467 03:23E4: 69 16 00     	adc	#L495+12
  9468 03:23E7: 1B           	tcs
  9469 03:23E8: 98           	tya
  9470 03:23E9: 6B           	rtl
  9471                        ;}
  9472                        	.line	1294
  9473                        	.endblock	1294
  9474             0000000A   L495	equ	10
  9475             00000005   L496	equ	5
  9476 03:23EA:              	ends
  9477                        	efunc
  9478                        	.endfunc	1294,5,10
  9479                        	.line	1294
  9480                        	data
  9481                        L402:
  9482 00:081A: 64 69 73 6B  	db	$64,$69,$73,$6B,$00,$67,$61,$64,$67,$65,
                    $74,$00
       00:081E: 00 67 61 64 
       00:0822: 67 65 74 00 
  9483 00:0826:              	ends
  9484                        ;
  9485                        ;
  9486                        ;
  9487                        ;int k_put_wingadget_point(char gadgetCode,int cx,
                    int cy,char color)
  9488                        ;{
  9489                        	.line	1298
  9490                        	.line	1299
  9491                        	GUI
  9492                        	xdef	~~k_put_wingadget_point
  9493                        	func
  9494                        	.function	1299
  9495                        ~~k_put_wingadget_point:
  Mon Dec  7 2020 11:19                                                Page 177


  9496                        	longa	on
  9497                        	longi	on
  9498 03:23EA: 3B           	tsc
  9499 03:23EB: 38           	sec
  9500 03:23EC: E9 15 00     	sbc	#L501
  9501 03:23EF: 1B           	tcs
  9502 03:23F0: 0B           	phd
  9503 03:23F1: 5B           	tcd
  9504             00000004   gadgetCode_0	set	4
  9505             00000006   cx_0	set	6
  9506             00000008   cy_0	set	8
  9507             0000000A   color_0	set	10
  9508                        	.block	1299
  9509                        ;	int x = 0;
  9510                        ;	int y = 0;
  9511                        ;	int textX = cx;
  9512                        ;	int textY = cy;
  9513                        ;
  9514                        ;	char FAR* img = NULL;//fontImg[ix];
  9515                        ;
  9516                        ;
  9517                        ;    img = windowChromeImg[(int)(gadgetCode & 0xFF
                    )];
  9518             00000000   x_1	set	0
  9519             00000002   y_1	set	2
  9520             00000004   textX_1	set	4
  9521             00000006   textY_1	set	6
  9522             00000008   img_1	set	8
  9523                        	.sym	x,0,5,1,16
  9524                        	.sym	y,2,5,1,16
  9525                        	.sym	textX,4,5,1,16
  9526                        	.sym	textY,6,5,1,16
  9527                        	.sym	img,8,142,1,32
  9528                        	.sym	gadgetCode,4,14,6,8
  9529                        	.sym	cx,6,5,6,16
  9530                        	.sym	cy,8,5,6,16
  9531                        	.sym	color,10,14,6,8
  9532 03:23F2: 64 09        	stz	<L502+x_1
  9533 03:23F4: 64 0B        	stz	<L502+y_1
  9534 03:23F6: A5 1B        	lda	<L501+cx_0
  9535 03:23F8: 85 0D        	sta	<L502+textX_1
  9536 03:23FA: A5 1D        	lda	<L501+cy_0
  9537 03:23FC: 85 0F        	sta	<L502+textY_1
  9538 03:23FE: 64 11        	stz	<L502+img_1
  9539 03:2400: 64 13        	stz	<L502+img_1+2
  9540                        	.line	1308
  9541 03:2402: A5 19        	lda	<L501+gadgetCode_0
  9542 03:2404: 29 FF 00     	and	#<$ff
  9543 03:2407: 85 05        	sta	<R1
  9544 03:2409: A0 00 00     	ldy	#$0
  9545 03:240C: A5 05        	lda	<R1
  9546 03:240E: 10 01        	bpl	L504
  9547 03:2410: 88           	dey
  9548                        L504:
  9549 03:2411: 85 05        	sta	<R1
  9550 03:2413: 84 07        	sty	<R1+2
  9551 03:2415: D4 07        	pei	<R1+2
  9552 03:2417: D4 05        	pei	<R1
  Mon Dec  7 2020 11:19                                                Page 178


  9553 03:2419: A9 06 00     	lda	#$6
  9554                        	xref	~~~lasl
  9555 03:241C: 22 xx xx xx  	jsl	~~~lasl
  9556 03:2420: 85 01        	sta	<R0
  9557 03:2422: 86 03        	stx	<R0+2
  9558 03:2424: 18           	clc
  9559 03:2425: A9 xx xx     	lda	#<~~windowChromeImg
  9560 03:2428: 65 01        	adc	<R0
  9561 03:242A: 85 11        	sta	<L502+img_1
  9562 03:242C: A9 xx xx     	lda	#^~~windowChromeImg
  9563 03:242F: 65 03        	adc	<R0+2
  9564 03:2431: 85 13        	sta	<L502+img_1+2
  9565                        ;	if(img!=NULL)
  9566                        	.line	1309
  9567                        ;	{
  9568 03:2433: A5 11        	lda	<L502+img_1
  9569 03:2435: 05 13        	ora	<L502+img_1+2
  9570 03:2437: D0 03        	bne	L505
  9571 03:2439: 82 91 00     	brl	L10116
  9572                        L505:
  9573                        	.line	1310
  9574                        ;		for (y = 0; y < FONTH; y++) 
  9575                        	.line	1311
  9576 03:243C: 64 0B        	stz	<L502+y_1
  9577 03:243E: 82 7D 00     	brl	L10120
  9578                        L10119:
  9579                        ;		{
  9580                        	.line	1312
  9581                        ;			// loop through pixel columns
  9582                        ;			for (x = 0; x < FONTW; x++) 
  9583                        	.line	1314
  9584 03:2441: 64 09        	stz	<L502+x_1
  9585 03:2443: 82 67 00     	brl	L10124
  9586                        L10123:
  9587                        ;			{
  9588                        	.line	1315
  9589                        ;				// get the pixel value
  9590                        ;				char b = img[y * FONTW +
                     x];
  9591                        ;				if (b > 0) 
  9592                        	.block	1318
  9593             0000000C   b_2	set	12
  9594                        	.sym	b,12,14,1,8
  9595 03:2446: 22 FD 71 03  	jsl	~~k_font_getFontWidth
  9596 03:244A: 85 01        	sta	<R0
  9597 03:244C: A5 01        	lda	<R0
  9598 03:244E: A6 0B        	ldx	<L502+y_1
  9599                        	xref	~~~mul
  9600 03:2450: 22 xx xx xx  	jsl	~~~mul
  9601 03:2454: 85 01        	sta	<R0
  9602 03:2456: 18           	clc
  9603 03:2457: A5 01        	lda	<R0
  9604 03:2459: 65 09        	adc	<L502+x_1
  9605 03:245B: 85 05        	sta	<R1
  9606 03:245D: E2 20        	sep	#$20
  9607                        	longa	off
  9608 03:245F: A4 05        	ldy	<R1
  9609 03:2461: B7 11        	lda	[<L502+img_1],Y
  Mon Dec  7 2020 11:19                                                Page 179


  9610 03:2463: 85 15        	sta	<L502+b_2
  9611 03:2465: C2 20        	rep	#$20
  9612                        	longa	on
  9613                        	.line	1318
  9614                        ;				{ // plot the pixel
  9615 03:2467: E2 20        	sep	#$20
  9616                        	longa	off
  9617 03:2469: A9 00        	lda	#$0
  9618 03:246B: C5 15        	cmp	<L502+b_2
  9619 03:246D: C2 20        	rep	#$20
  9620                        	longa	on
  9621 03:246F: 90 03        	bcc	L507
  9622 03:2471: 82 37 00     	brl	L10125
  9623                        L507:
  9624                        	.line	1319
  9625                        ;					k_draw_pixel(tex
                    tX + x, textY + y, color);
  9626                        	.line	1320
  9627 03:2474: D4 1F        	pei	<L501+color_0
  9628 03:2476: 18           	clc
  9629 03:2477: A5 0F        	lda	<L502+textY_1
  9630 03:2479: 65 0B        	adc	<L502+y_1
  9631 03:247B: 85 01        	sta	<R0
  9632 03:247D: A0 00 00     	ldy	#$0
  9633 03:2480: A5 01        	lda	<R0
  9634 03:2482: 10 01        	bpl	L508
  9635 03:2484: 88           	dey
  9636                        L508:
  9637 03:2485: 85 01        	sta	<R0
  9638 03:2487: 84 03        	sty	<R0+2
  9639 03:2489: D4 03        	pei	<R0+2
  9640 03:248B: D4 01        	pei	<R0
  9641 03:248D: 18           	clc
  9642 03:248E: A5 0D        	lda	<L502+textX_1
  9643 03:2490: 65 09        	adc	<L502+x_1
  9644 03:2492: 85 05        	sta	<R1
  9645 03:2494: A0 00 00     	ldy	#$0
  9646 03:2497: A5 05        	lda	<R1
  9647 03:2499: 10 01        	bpl	L509
  9648 03:249B: 88           	dey
  9649                        L509:
  9650 03:249C: 85 05        	sta	<R1
  9651 03:249E: 84 07        	sty	<R1+2
  9652 03:24A0: D4 07        	pei	<R1+2
  9653 03:24A2: D4 05        	pei	<R1
  9654 03:24A4: 22 10 0E 03  	jsl	~~k_draw_pixel
  9655                        ;				}
  9656                        	.line	1321
  9657                        ;				else 
  9658 03:24A8: 82 00 00     	brl	L10126
  9659                        L10125:
  9660                        ;				{ 
  9661                        	.line	1323
  9662                        ;					// leave empty (
                    or maybe plot 'text backgr color')
  9663                        ;				}
  9664                        	.line	1325
  9665                        L10126:
  Mon Dec  7 2020 11:19                                                Page 180


  9666                        ;			} // end "for x"
  9667                        	.endblock	1326
  9668                        	.line	1326
  9669                        L10121:
  9670 03:24AB: E6 09        	inc	<L502+x_1
  9671                        L10124:
  9672 03:24AD: 22 FD 71 03  	jsl	~~k_font_getFontWidth
  9673 03:24B1: 85 01        	sta	<R0
  9674 03:24B3: A5 09        	lda	<L502+x_1
  9675 03:24B5: C5 01        	cmp	<R0
  9676 03:24B7: B0 03        	bcs	L510
  9677 03:24B9: 82 8A FF     	brl	L10123
  9678                        L510:
  9679                        L10122:
  9680                        ;		} // end "for y"
  9681                        	.line	1327
  9682                        L10117:
  9683 03:24BC: E6 0B        	inc	<L502+y_1
  9684                        L10120:
  9685 03:24BE: 22 E8 71 03  	jsl	~~k_font_getFontHeight
  9686 03:24C2: 85 01        	sta	<R0
  9687 03:24C4: A5 0B        	lda	<L502+y_1
  9688 03:24C6: C5 01        	cmp	<R0
  9689 03:24C8: B0 03        	bcs	L511
  9690 03:24CA: 82 74 FF     	brl	L10119
  9691                        L511:
  9692                        L10118:
  9693                        ;	}
  9694                        	.line	1328
  9695                        ;	return FONTW;
  9696                        L10116:
  9697                        	.line	1329
  9698 03:24CD: 22 FD 71 03  	jsl	~~k_font_getFontWidth
  9699                        L512:
  9700 03:24D1: A8           	tay
  9701 03:24D2: A5 17        	lda	<L501+2
  9702 03:24D4: 85 1F        	sta	<L501+2+8
  9703 03:24D6: A5 16        	lda	<L501+1
  9704 03:24D8: 85 1E        	sta	<L501+1+8
  9705 03:24DA: 2B           	pld
  9706 03:24DB: 3B           	tsc
  9707 03:24DC: 18           	clc
  9708 03:24DD: 69 1D 00     	adc	#L501+8
  9709 03:24E0: 1B           	tcs
  9710 03:24E1: 98           	tya
  9711 03:24E2: 6B           	rtl
  9712                        ;}
  9713                        	.line	1330
  9714                        	.endblock	1330
  9715             00000015   L501	equ	21
  9716             00000009   L502	equ	9
  9717 03:24E3:              	ends
  9718                        	efunc
  9719                        	.endfunc	1330,9,21
  9720                        	.line	1330
  9721                        ;
  9722                        ;int k_put_wingadget_point_ex(char gadgetCode,int 
                    cx,int cy,char color,UINT page)
  Mon Dec  7 2020 11:19                                                Page 181


  9723                        ;{
  9724                        	.line	1332
  9725                        	.line	1333
  9726                        	GUI
  9727                        	xdef	~~k_put_wingadget_point_ex
  9728                        	func
  9729                        	.function	1333
  9730                        ~~k_put_wingadget_point_ex:
  9731                        	longa	on
  9732                        	longi	on
  9733 03:24E3: 3B           	tsc
  9734 03:24E4: 38           	sec
  9735 03:24E5: E9 15 00     	sbc	#L513
  9736 03:24E8: 1B           	tcs
  9737 03:24E9: 0B           	phd
  9738 03:24EA: 5B           	tcd
  9739             00000004   gadgetCode_0	set	4
  9740             00000006   cx_0	set	6
  9741             00000008   cy_0	set	8
  9742             0000000A   color_0	set	10
  9743             0000000C   page_0	set	12
  9744                        	.block	1333
  9745                        ;	int x = 0;
  9746                        ;	int y = 0;
  9747                        ;	int textX = cx;
  9748                        ;	int textY = cy;
  9749                        ;
  9750                        ;	char FAR* img = NULL;//fontImg[ix];
  9751                        ;
  9752                        ;
  9753                        ;    img = windowChromeImg[(int)(gadgetCode & 0xFF
                    )];
  9754             00000000   x_1	set	0
  9755             00000002   y_1	set	2
  9756             00000004   textX_1	set	4
  9757             00000006   textY_1	set	6
  9758             00000008   img_1	set	8
  9759                        	.sym	x,0,5,1,16
  9760                        	.sym	y,2,5,1,16
  9761                        	.sym	textX,4,5,1,16
  9762                        	.sym	textY,6,5,1,16
  9763                        	.sym	img,8,142,1,32
  9764                        	.sym	gadgetCode,4,14,6,8
  9765                        	.sym	cx,6,5,6,16
  9766                        	.sym	cy,8,5,6,16
  9767                        	.sym	color,10,14,6,8
  9768                        	.sym	page,12,16,6,16
  9769 03:24EB: 64 09        	stz	<L514+x_1
  9770 03:24ED: 64 0B        	stz	<L514+y_1
  9771 03:24EF: A5 1B        	lda	<L513+cx_0
  9772 03:24F1: 85 0D        	sta	<L514+textX_1
  9773 03:24F3: A5 1D        	lda	<L513+cy_0
  9774 03:24F5: 85 0F        	sta	<L514+textY_1
  9775 03:24F7: 64 11        	stz	<L514+img_1
  9776 03:24F9: 64 13        	stz	<L514+img_1+2
  9777                        	.line	1342
  9778 03:24FB: A5 19        	lda	<L513+gadgetCode_0
  9779 03:24FD: 29 FF 00     	and	#<$ff
  Mon Dec  7 2020 11:19                                                Page 182


  9780 03:2500: 85 05        	sta	<R1
  9781 03:2502: A0 00 00     	ldy	#$0
  9782 03:2505: A5 05        	lda	<R1
  9783 03:2507: 10 01        	bpl	L516
  9784 03:2509: 88           	dey
  9785                        L516:
  9786 03:250A: 85 05        	sta	<R1
  9787 03:250C: 84 07        	sty	<R1+2
  9788 03:250E: D4 07        	pei	<R1+2
  9789 03:2510: D4 05        	pei	<R1
  9790 03:2512: A9 06 00     	lda	#$6
  9791                        	xref	~~~lasl
  9792 03:2515: 22 xx xx xx  	jsl	~~~lasl
  9793 03:2519: 85 01        	sta	<R0
  9794 03:251B: 86 03        	stx	<R0+2
  9795 03:251D: 18           	clc
  9796 03:251E: A9 xx xx     	lda	#<~~windowChromeImg
  9797 03:2521: 65 01        	adc	<R0
  9798 03:2523: 85 11        	sta	<L514+img_1
  9799 03:2525: A9 xx xx     	lda	#^~~windowChromeImg
  9800 03:2528: 65 03        	adc	<R0+2
  9801 03:252A: 85 13        	sta	<L514+img_1+2
  9802                        ;	if(img!=NULL)
  9803                        	.line	1343
  9804                        ;	{
  9805 03:252C: A5 11        	lda	<L514+img_1
  9806 03:252E: 05 13        	ora	<L514+img_1+2
  9807 03:2530: D0 03        	bne	L517
  9808 03:2532: 82 93 00     	brl	L10127
  9809                        L517:
  9810                        	.line	1344
  9811                        ;		for (y = 0; y < FONTH; y++)
  9812                        	.line	1345
  9813 03:2535: 64 0B        	stz	<L514+y_1
  9814 03:2537: 82 7F 00     	brl	L10131
  9815                        L10130:
  9816                        ;		{
  9817                        	.line	1346
  9818                        ;			// loop through pixel columns
  9819                        ;			for (x = 0; x < FONTW; x++)
  9820                        	.line	1348
  9821 03:253A: 64 09        	stz	<L514+x_1
  9822 03:253C: 82 69 00     	brl	L10135
  9823                        L10134:
  9824                        ;			{
  9825                        	.line	1349
  9826                        ;				// get the pixel value
  9827                        ;				char b = img[y * FONTW +
                     x];
  9828                        ;				if (b > 0)
  9829                        	.block	1352
  9830             0000000C   b_2	set	12
  9831                        	.sym	b,12,14,1,8
  9832 03:253F: 22 FD 71 03  	jsl	~~k_font_getFontWidth
  9833 03:2543: 85 01        	sta	<R0
  9834 03:2545: A5 01        	lda	<R0
  9835 03:2547: A6 0B        	ldx	<L514+y_1
  9836                        	xref	~~~mul
  Mon Dec  7 2020 11:19                                                Page 183


  9837 03:2549: 22 xx xx xx  	jsl	~~~mul
  9838 03:254D: 85 01        	sta	<R0
  9839 03:254F: 18           	clc
  9840 03:2550: A5 01        	lda	<R0
  9841 03:2552: 65 09        	adc	<L514+x_1
  9842 03:2554: 85 05        	sta	<R1
  9843 03:2556: E2 20        	sep	#$20
  9844                        	longa	off
  9845 03:2558: A4 05        	ldy	<R1
  9846 03:255A: B7 11        	lda	[<L514+img_1],Y
  9847 03:255C: 85 15        	sta	<L514+b_2
  9848 03:255E: C2 20        	rep	#$20
  9849                        	longa	on
  9850                        	.line	1352
  9851                        ;				{ // plot the pixel
  9852 03:2560: E2 20        	sep	#$20
  9853                        	longa	off
  9854 03:2562: A9 00        	lda	#$0
  9855 03:2564: C5 15        	cmp	<L514+b_2
  9856 03:2566: C2 20        	rep	#$20
  9857                        	longa	on
  9858 03:2568: 90 03        	bcc	L519
  9859 03:256A: 82 39 00     	brl	L10136
  9860                        L519:
  9861                        	.line	1353
  9862                        ;					k_draw_pixel_ex(
                    textX + x, textY + y, color,page);
  9863                        	.line	1354
  9864 03:256D: D4 21        	pei	<L513+page_0
  9865 03:256F: D4 1F        	pei	<L513+color_0
  9866 03:2571: 18           	clc
  9867 03:2572: A5 0F        	lda	<L514+textY_1
  9868 03:2574: 65 0B        	adc	<L514+y_1
  9869 03:2576: 85 01        	sta	<R0
  9870 03:2578: A0 00 00     	ldy	#$0
  9871 03:257B: A5 01        	lda	<R0
  9872 03:257D: 10 01        	bpl	L520
  9873 03:257F: 88           	dey
  9874                        L520:
  9875 03:2580: 85 01        	sta	<R0
  9876 03:2582: 84 03        	sty	<R0+2
  9877 03:2584: D4 03        	pei	<R0+2
  9878 03:2586: D4 01        	pei	<R0
  9879 03:2588: 18           	clc
  9880 03:2589: A5 0D        	lda	<L514+textX_1
  9881 03:258B: 65 09        	adc	<L514+x_1
  9882 03:258D: 85 05        	sta	<R1
  9883 03:258F: A0 00 00     	ldy	#$0
  9884 03:2592: A5 05        	lda	<R1
  9885 03:2594: 10 01        	bpl	L521
  9886 03:2596: 88           	dey
  9887                        L521:
  9888 03:2597: 85 05        	sta	<R1
  9889 03:2599: 84 07        	sty	<R1+2
  9890 03:259B: D4 07        	pei	<R1+2
  9891 03:259D: D4 05        	pei	<R1
  9892 03:259F: 22 5E 0E 03  	jsl	~~k_draw_pixel_ex
  9893                        ;				}
  Mon Dec  7 2020 11:19                                                Page 184


  9894                        	.line	1355
  9895                        ;				else
  9896 03:25A3: 82 00 00     	brl	L10137
  9897                        L10136:
  9898                        ;				{
  9899                        	.line	1357
  9900                        ;					// leave empty (
                    or maybe plot 'text backgr color')
  9901                        ;				}
  9902                        	.line	1359
  9903                        L10137:
  9904                        ;			} // end "for x"
  9905                        	.endblock	1360
  9906                        	.line	1360
  9907                        L10132:
  9908 03:25A6: E6 09        	inc	<L514+x_1
  9909                        L10135:
  9910 03:25A8: 22 FD 71 03  	jsl	~~k_font_getFontWidth
  9911 03:25AC: 85 01        	sta	<R0
  9912 03:25AE: A5 09        	lda	<L514+x_1
  9913 03:25B0: C5 01        	cmp	<R0
  9914 03:25B2: B0 03        	bcs	L522
  9915 03:25B4: 82 88 FF     	brl	L10134
  9916                        L522:
  9917                        L10133:
  9918                        ;		} // end "for y"
  9919                        	.line	1361
  9920                        L10128:
  9921 03:25B7: E6 0B        	inc	<L514+y_1
  9922                        L10131:
  9923 03:25B9: 22 E8 71 03  	jsl	~~k_font_getFontHeight
  9924 03:25BD: 85 01        	sta	<R0
  9925 03:25BF: A5 0B        	lda	<L514+y_1
  9926 03:25C1: C5 01        	cmp	<R0
  9927 03:25C3: B0 03        	bcs	L523
  9928 03:25C5: 82 72 FF     	brl	L10130
  9929                        L523:
  9930                        L10129:
  9931                        ;	}
  9932                        	.line	1362
  9933                        ;	return FONTW;
  9934                        L10127:
  9935                        	.line	1363
  9936 03:25C8: 22 FD 71 03  	jsl	~~k_font_getFontWidth
  9937                        L524:
  9938 03:25CC: A8           	tay
  9939 03:25CD: A5 17        	lda	<L513+2
  9940 03:25CF: 85 21        	sta	<L513+2+10
  9941 03:25D1: A5 16        	lda	<L513+1
  9942 03:25D3: 85 20        	sta	<L513+1+10
  9943 03:25D5: 2B           	pld
  9944 03:25D6: 3B           	tsc
  9945 03:25D7: 18           	clc
  9946 03:25D8: 69 1F 00     	adc	#L513+10
  9947 03:25DB: 1B           	tcs
  9948 03:25DC: 98           	tya
  9949 03:25DD: 6B           	rtl
  9950                        ;}
  Mon Dec  7 2020 11:19                                                Page 185


  9951                        	.line	1364
  9952                        	.endblock	1364
  9953             00000015   L513	equ	21
  9954             00000009   L514	equ	9
  9955 03:25DE:              	ends
  9956                        	efunc
  9957                        	.endfunc	1364,9,21
  9958                        	.line	1364
  9959                        ;
  9960                        ;int k_put_winicon_point(char iconCode,int cx,int 
                    cy,int paletteId,int mode)
  9961                        ;{
  9962                        	.line	1366
  9963                        	.line	1367
  9964                        	GUI
  9965                        	xdef	~~k_put_winicon_point
  9966                        	func
  9967                        	.function	1367
  9968                        ~~k_put_winicon_point:
  9969                        	longa	on
  9970                        	longi	on
  9971 03:25DE: 3B           	tsc
  9972 03:25DF: 38           	sec
  9973 03:25E0: E9 15 00     	sbc	#L525
  9974 03:25E3: 1B           	tcs
  9975 03:25E4: 0B           	phd
  9976 03:25E5: 5B           	tcd
  9977             00000004   iconCode_0	set	4
  9978             00000006   cx_0	set	6
  9979             00000008   cy_0	set	8
  9980             0000000A   paletteId_0	set	10
  9981             0000000C   mode_0	set	12
  9982                        	.block	1367
  9983                        ;	int x = 0;
  9984                        ;	int y = 0;
  9985                        ;	int textX = cx;
  9986                        ;	int textY = cy;
  9987                        ;
  9988                        ;	char FAR* img = NULL;
  9989                        ;	
  9990                        ;    img = windowIconImg[(int)(iconCode & 0xFF)];
  9991             00000000   x_1	set	0
  9992             00000002   y_1	set	2
  9993             00000004   textX_1	set	4
  9994             00000006   textY_1	set	6
  9995             00000008   img_1	set	8
  9996                        	.sym	x,0,5,1,16
  9997                        	.sym	y,2,5,1,16
  9998                        	.sym	textX,4,5,1,16
  9999                        	.sym	textY,6,5,1,16
 10000                        	.sym	img,8,142,1,32
 10001                        	.sym	iconCode,4,14,6,8
 10002                        	.sym	cx,6,5,6,16
 10003                        	.sym	cy,8,5,6,16
 10004                        	.sym	paletteId,10,5,6,16
 10005                        	.sym	mode,12,5,6,16
 10006 03:25E6: 64 09        	stz	<L526+x_1
 10007 03:25E8: 64 0B        	stz	<L526+y_1
  Mon Dec  7 2020 11:19                                                Page 186


 10008 03:25EA: A5 1B        	lda	<L525+cx_0
 10009 03:25EC: 85 0D        	sta	<L526+textX_1
 10010 03:25EE: A5 1D        	lda	<L525+cy_0
 10011 03:25F0: 85 0F        	sta	<L526+textY_1
 10012 03:25F2: 64 11        	stz	<L526+img_1
 10013 03:25F4: 64 13        	stz	<L526+img_1+2
 10014                        	.line	1375
 10015 03:25F6: A5 19        	lda	<L525+iconCode_0
 10016 03:25F8: 29 FF 00     	and	#<$ff
 10017 03:25FB: 85 05        	sta	<R1
 10018 03:25FD: A0 00 00     	ldy	#$0
 10019 03:2600: A5 05        	lda	<R1
 10020 03:2602: 10 01        	bpl	L528
 10021 03:2604: 88           	dey
 10022                        L528:
 10023 03:2605: 85 05        	sta	<R1
 10024 03:2607: 84 07        	sty	<R1+2
 10025 03:2609: D4 07        	pei	<R1+2
 10026 03:260B: D4 05        	pei	<R1
 10027 03:260D: A9 08 00     	lda	#$8
 10028                        	xref	~~~lasl
 10029 03:2610: 22 xx xx xx  	jsl	~~~lasl
 10030 03:2614: 85 01        	sta	<R0
 10031 03:2616: 86 03        	stx	<R0+2
 10032 03:2618: 18           	clc
 10033 03:2619: A9 xx xx     	lda	#<~~windowIconImg
 10034 03:261C: 65 01        	adc	<R0
 10035 03:261E: 85 11        	sta	<L526+img_1
 10036 03:2620: A9 xx xx     	lda	#^~~windowIconImg
 10037 03:2623: 65 03        	adc	<R0+2
 10038 03:2625: 85 13        	sta	<L526+img_1+2
 10039                        ;	if(img!=NULL)
 10040                        	.line	1376
 10041                        ;	{
 10042 03:2627: A5 11        	lda	<L526+img_1
 10043 03:2629: 05 13        	ora	<L526+img_1+2
 10044 03:262B: D0 03        	bne	L529
 10045 03:262D: 82 BD 00     	brl	L10138
 10046                        L529:
 10047                        	.line	1377
 10048                        ;		for (y = 0; y < ICONH; y++) 
 10049                        	.line	1378
 10050 03:2630: 64 0B        	stz	<L526+y_1
 10051                        L10141:
 10052                        ;		{
 10053                        	.line	1379
 10054                        ;			for (x = 0; x < ICONW; x++) 
 10055                        	.line	1380
 10056 03:2632: 64 09        	stz	<L526+x_1
 10057                        L10144:
 10058                        ;			{
 10059                        	.line	1381
 10060                        ;				char b = img[y * ICONW +
                     x];
 10061                        ;				if (b > 0) 
 10062                        	.block	1383
 10063             0000000C   b_2	set	12
 10064                        	.sym	b,12,14,1,8
  Mon Dec  7 2020 11:19                                                Page 187


 10065 03:2634: A5 0B        	lda	<L526+y_1
 10066 03:2636: 0A           	asl	A
 10067 03:2637: 0A           	asl	A
 10068 03:2638: 0A           	asl	A
 10069 03:2639: 0A           	asl	A
 10070 03:263A: 85 01        	sta	<R0
 10071 03:263C: 18           	clc
 10072 03:263D: A5 01        	lda	<R0
 10073 03:263F: 65 09        	adc	<L526+x_1
 10074 03:2641: 85 05        	sta	<R1
 10075 03:2643: E2 20        	sep	#$20
 10076                        	longa	off
 10077 03:2645: A4 05        	ldy	<R1
 10078 03:2647: B7 11        	lda	[<L526+img_1],Y
 10079 03:2649: 85 15        	sta	<L526+b_2
 10080 03:264B: C2 20        	rep	#$20
 10081                        	longa	on
 10082                        	.line	1383
 10083                        ;				{
 10084 03:264D: E2 20        	sep	#$20
 10085                        	longa	off
 10086 03:264F: A9 00        	lda	#$0
 10087 03:2651: C5 15        	cmp	<L526+b_2
 10088 03:2653: C2 20        	rep	#$20
 10089                        	longa	on
 10090 03:2655: 90 03        	bcc	L531
 10091 03:2657: 82 68 00     	brl	L10145
 10092                        L531:
 10093                        	.line	1384
 10094                        ;					if(mode == PAINT
                    MODE_BACKGROUND)
 10095                        	.line	1385
 10096                        ;						b = pale
                    tteId;
 10097 03:265A: A5 21        	lda	<L525+mode_0
 10098 03:265C: C9 F0 00     	cmp	#<$f0
 10099 03:265F: F0 03        	beq	L532
 10100 03:2661: 82 08 00     	brl	L10146
 10101                        L532:
 10102                        	.line	1386
 10103 03:2664: E2 20        	sep	#$20
 10104                        	longa	off
 10105 03:2666: A5 1F        	lda	<L525+paletteId_0
 10106 03:2668: 85 15        	sta	<L526+b_2
 10107 03:266A: C2 20        	rep	#$20
 10108                        	longa	on
 10109                        ;
 10110                        ;					if(mode == PAINT
                    MODE_HIGHLIGHT && b == 15)
 10111                        L10146:
 10112                        	.line	1388
 10113                        ;						b = pale
                    tteId;
 10114 03:266C: A5 21        	lda	<L525+mode_0
 10115 03:266E: C9 F1 00     	cmp	#<$f1
 10116 03:2671: F0 03        	beq	L533
 10117 03:2673: 82 15 00     	brl	L10147
 10118                        L533:
  Mon Dec  7 2020 11:19                                                Page 188


 10119 03:2676: E2 20        	sep	#$20
 10120                        	longa	off
 10121 03:2678: A5 15        	lda	<L526+b_2
 10122 03:267A: C9 0F        	cmp	#<$f
 10123 03:267C: C2 20        	rep	#$20
 10124                        	longa	on
 10125 03:267E: F0 03        	beq	L534
 10126 03:2680: 82 08 00     	brl	L10147
 10127                        L534:
 10128                        	.line	1389
 10129 03:2683: E2 20        	sep	#$20
 10130                        	longa	off
 10131 03:2685: A5 1F        	lda	<L525+paletteId_0
 10132 03:2687: 85 15        	sta	<L526+b_2
 10133 03:2689: C2 20        	rep	#$20
 10134                        	longa	on
 10135                        ;
 10136                        ;					k_draw_pixel(tex
                    tX + x, textY + y, b);
 10137                        L10147:
 10138                        	.line	1391
 10139 03:268B: D4 15        	pei	<L526+b_2
 10140 03:268D: 18           	clc
 10141 03:268E: A5 0F        	lda	<L526+textY_1
 10142 03:2690: 65 0B        	adc	<L526+y_1
 10143 03:2692: 85 01        	sta	<R0
 10144 03:2694: A0 00 00     	ldy	#$0
 10145 03:2697: A5 01        	lda	<R0
 10146 03:2699: 10 01        	bpl	L535
 10147 03:269B: 88           	dey
 10148                        L535:
 10149 03:269C: 85 01        	sta	<R0
 10150 03:269E: 84 03        	sty	<R0+2
 10151 03:26A0: D4 03        	pei	<R0+2
 10152 03:26A2: D4 01        	pei	<R0
 10153 03:26A4: 18           	clc
 10154 03:26A5: A5 0D        	lda	<L526+textX_1
 10155 03:26A7: 65 09        	adc	<L526+x_1
 10156 03:26A9: 85 05        	sta	<R1
 10157 03:26AB: A0 00 00     	ldy	#$0
 10158 03:26AE: A5 05        	lda	<R1
 10159 03:26B0: 10 01        	bpl	L536
 10160 03:26B2: 88           	dey
 10161                        L536:
 10162 03:26B3: 85 05        	sta	<R1
 10163 03:26B5: 84 07        	sty	<R1+2
 10164 03:26B7: D4 07        	pei	<R1+2
 10165 03:26B9: D4 05        	pei	<R1
 10166 03:26BB: 22 10 0E 03  	jsl	~~k_draw_pixel
 10167                        ;				}
 10168                        	.line	1392
 10169                        ;				else 
 10170 03:26BF: 82 07 00     	brl	L10148
 10171                        L10145:
 10172                        ;				{ 
 10173                        	.line	1394
 10174                        ;					if(mode!=PAINTMO
                    DE_DEFAULT)
  Mon Dec  7 2020 11:19                                                Page 189


 10175                        	.line	1395
 10176                        ;					{
 10177 03:26C2: A5 21        	lda	<L525+mode_0
 10178 03:26C4: D0 03        	bne	L537
 10179 03:26C6: 82 00 00     	brl	L10149
 10180                        L537:
 10181                        	.line	1396
 10182                        ;					
 10183                        ;					}
 10184                        	.line	1398
 10185                        ;				}
 10186                        L10149:
 10187                        	.line	1399
 10188                        L10148:
 10189                        ;			}
 10190                        	.endblock	1400
 10191                        	.line	1400
 10192                        L10142:
 10193 03:26C9: E6 09        	inc	<L526+x_1
 10194 03:26CB: 38           	sec
 10195 03:26CC: A5 09        	lda	<L526+x_1
 10196 03:26CE: E9 10 00     	sbc	#<$10
 10197 03:26D1: 70 03        	bvs	L538
 10198 03:26D3: 49 00 80     	eor	#$8000
 10199                        L538:
 10200 03:26D6: 30 03        	bmi	L539
 10201 03:26D8: 82 59 FF     	brl	L10144
 10202                        L539:
 10203                        L10143:
 10204                        ;		}
 10205                        	.line	1401
 10206                        L10139:
 10207 03:26DB: E6 0B        	inc	<L526+y_1
 10208 03:26DD: 38           	sec
 10209 03:26DE: A5 0B        	lda	<L526+y_1
 10210 03:26E0: E9 10 00     	sbc	#<$10
 10211 03:26E3: 70 03        	bvs	L540
 10212 03:26E5: 49 00 80     	eor	#$8000
 10213                        L540:
 10214 03:26E8: 30 03        	bmi	L541
 10215 03:26EA: 82 45 FF     	brl	L10141
 10216                        L541:
 10217                        L10140:
 10218                        ;	}
 10219                        	.line	1402
 10220                        ;	return FONTW;
 10221                        L10138:
 10222                        	.line	1403
 10223 03:26ED: 22 FD 71 03  	jsl	~~k_font_getFontWidth
 10224                        L542:
 10225 03:26F1: A8           	tay
 10226 03:26F2: A5 17        	lda	<L525+2
 10227 03:26F4: 85 21        	sta	<L525+2+10
 10228 03:26F6: A5 16        	lda	<L525+1
 10229 03:26F8: 85 20        	sta	<L525+1+10
 10230 03:26FA: 2B           	pld
 10231 03:26FB: 3B           	tsc
 10232 03:26FC: 18           	clc
  Mon Dec  7 2020 11:19                                                Page 190


 10233 03:26FD: 69 1F 00     	adc	#L525+10
 10234 03:2700: 1B           	tcs
 10235 03:2701: 98           	tya
 10236 03:2702: 6B           	rtl
 10237                        ;}
 10238                        	.line	1404
 10239                        	.endblock	1404
 10240             00000015   L525	equ	21
 10241             00000009   L526	equ	9
 10242 03:2703:              	ends
 10243                        	efunc
 10244                        	.endfunc	1404,9,21
 10245                        	.line	1404
 10246                        ;
 10247                        ;
 10248                        ;/*
 10249                        ; 		//PFXNODE k_point_in_nodes(int x
                    ,int y);
 10250                        ;		//void k_add_window_hit_node(PCLICKDETEC
                    TED pcd);
 10251                        ;
 10252                        ;		PWINDOW k_create_ui_window_class(cx,cy,I
                    CONW,ICONH,LPCHAR title,LPCHAR className,int color, int bgco
                    lor);
 10253                        ;
 10254                        ;		k_add_window_hit_node();
 10255                        ;
 10256                        ;
 10257                        ; */
 10258                        ;
 10259                        ;
 10260                        ;void k_put_winicon_scaled(char iconCode,int cx,in
                    t cy,char paletteId,int mode,int scale)
 10261                        ;{
 10262                        	.line	1419
 10263                        	.line	1420
 10264                        	GUI
 10265                        	xdef	~~k_put_winicon_scaled
 10266                        	func
 10267                        	.function	1420
 10268                        ~~k_put_winicon_scaled:
 10269                        	longa	on
 10270                        	longi	on
 10271 03:2703: 3B           	tsc
 10272 03:2704: 38           	sec
 10273 03:2705: E9 25 00     	sbc	#L543
 10274 03:2708: 1B           	tcs
 10275 03:2709: 0B           	phd
 10276 03:270A: 5B           	tcd
 10277             00000004   iconCode_0	set	4
 10278             00000006   cx_0	set	6
 10279             00000008   cy_0	set	8
 10280             0000000A   paletteId_0	set	10
 10281             0000000C   mode_0	set	12
 10282             0000000E   scale_0	set	14
 10283                        	.block	1420
 10284                        ;	int x = 0;
 10285                        ;	int y = 0;
  Mon Dec  7 2020 11:19                                                Page 191


 10286                        ;
 10287                        ;	int height = ICONH * scale;
 10288                        ;	int width  = ICONW * scale;
 10289                        ;	
 10290                        ;	int textX = cx ;
 10291                        ;	int textY = cy ;
 10292                        ;
 10293                        ;	int px   = 0;
 10294                        ;	int py   = 0;
 10295                        ;	int offx = 0;
 10296                        ;	int offy = 0;
 10297                        ;	int sx   = 0;
 10298                        ;	int sy   = 0;
 10299                        ;
 10300                        ;	char b   = 0;
 10301                        ;
 10302                        ;	char FAR* img = NULL;
 10303                        ;
 10304                        ;	img = windowIconImg[(int)(iconCode & 0xFF)];	
                    //printf("putFont:%d\n",characterROMMapping[outChar]);
 10305             00000000   x_1	set	0
 10306             00000002   y_1	set	2
 10307             00000004   height_1	set	4
 10308             00000006   width_1	set	6
 10309             00000008   textX_1	set	8
 10310             0000000A   textY_1	set	10
 10311             0000000C   px_1	set	12
 10312             0000000E   py_1	set	14
 10313             00000010   offx_1	set	16
 10314             00000012   offy_1	set	18
 10315             00000014   sx_1	set	20
 10316             00000016   sy_1	set	22
 10317             00000018   b_1	set	24
 10318             00000019   img_1	set	25
 10319                        	.sym	x,0,5,1,16
 10320                        	.sym	y,2,5,1,16
 10321                        	.sym	height,4,5,1,16
 10322                        	.sym	width,6,5,1,16
 10323                        	.sym	textX,8,5,1,16
 10324                        	.sym	textY,10,5,1,16
 10325                        	.sym	px,12,5,1,16
 10326                        	.sym	py,14,5,1,16
 10327                        	.sym	offx,16,5,1,16
 10328                        	.sym	offy,18,5,1,16
 10329                        	.sym	sx,20,5,1,16
 10330                        	.sym	sy,22,5,1,16
 10331                        	.sym	b,24,14,1,8
 10332                        	.sym	img,25,142,1,32
 10333                        	.sym	iconCode,4,14,6,8
 10334                        	.sym	cx,6,5,6,16
 10335                        	.sym	cy,8,5,6,16
 10336                        	.sym	paletteId,10,14,6,8
 10337                        	.sym	mode,12,5,6,16
 10338                        	.sym	scale,14,5,6,16
 10339 03:270B: 64 09        	stz	<L544+x_1
 10340 03:270D: 64 0B        	stz	<L544+y_1
 10341 03:270F: A5 33        	lda	<L543+scale_0
 10342 03:2711: 0A           	asl	A
  Mon Dec  7 2020 11:19                                                Page 192


 10343 03:2712: 0A           	asl	A
 10344 03:2713: 0A           	asl	A
 10345 03:2714: 0A           	asl	A
 10346 03:2715: 85 0D        	sta	<L544+height_1
 10347 03:2717: A5 33        	lda	<L543+scale_0
 10348 03:2719: 0A           	asl	A
 10349 03:271A: 0A           	asl	A
 10350 03:271B: 0A           	asl	A
 10351 03:271C: 0A           	asl	A
 10352 03:271D: 85 0F        	sta	<L544+width_1
 10353 03:271F: A5 2B        	lda	<L543+cx_0
 10354 03:2721: 85 11        	sta	<L544+textX_1
 10355 03:2723: A5 2D        	lda	<L543+cy_0
 10356 03:2725: 85 13        	sta	<L544+textY_1
 10357 03:2727: 64 15        	stz	<L544+px_1
 10358 03:2729: 64 17        	stz	<L544+py_1
 10359 03:272B: 64 19        	stz	<L544+offx_1
 10360 03:272D: 64 1B        	stz	<L544+offy_1
 10361 03:272F: 64 1D        	stz	<L544+sx_1
 10362 03:2731: 64 1F        	stz	<L544+sy_1
 10363 03:2733: E2 20        	sep	#$20
 10364                        	longa	off
 10365 03:2735: 64 21        	stz	<L544+b_1
 10366 03:2737: C2 20        	rep	#$20
 10367                        	longa	on
 10368 03:2739: 64 22        	stz	<L544+img_1
 10369 03:273B: 64 24        	stz	<L544+img_1+2
 10370                        	.line	1441
 10371 03:273D: A5 29        	lda	<L543+iconCode_0
 10372 03:273F: 29 FF 00     	and	#<$ff
 10373 03:2742: 85 05        	sta	<R1
 10374 03:2744: A0 00 00     	ldy	#$0
 10375 03:2747: A5 05        	lda	<R1
 10376 03:2749: 10 01        	bpl	L546
 10377 03:274B: 88           	dey
 10378                        L546:
 10379 03:274C: 85 05        	sta	<R1
 10380 03:274E: 84 07        	sty	<R1+2
 10381 03:2750: D4 07        	pei	<R1+2
 10382 03:2752: D4 05        	pei	<R1
 10383 03:2754: A9 08 00     	lda	#$8
 10384                        	xref	~~~lasl
 10385 03:2757: 22 xx xx xx  	jsl	~~~lasl
 10386 03:275B: 85 01        	sta	<R0
 10387 03:275D: 86 03        	stx	<R0+2
 10388 03:275F: 18           	clc
 10389 03:2760: A9 xx xx     	lda	#<~~windowIconImg
 10390 03:2763: 65 01        	adc	<R0
 10391 03:2765: 85 22        	sta	<L544+img_1
 10392 03:2767: A9 xx xx     	lda	#^~~windowIconImg
 10393 03:276A: 65 03        	adc	<R0+2
 10394 03:276C: 85 24        	sta	<L544+img_1+2
 10395                        ;	if(img!=NULL)
 10396                        	.line	1442
 10397                        ;	{
 10398 03:276E: A5 22        	lda	<L544+img_1
 10399 03:2770: 05 24        	ora	<L544+img_1+2
 10400 03:2772: D0 03        	bne	L547
  Mon Dec  7 2020 11:19                                                Page 193


 10401 03:2774: 82 E2 00     	brl	L10150
 10402                        L547:
 10403                        	.line	1443
 10404                        ;		py = 0;
 10405                        	.line	1444
 10406 03:2777: 64 17        	stz	<L544+py_1
 10407                        ;		for (y = 0; y < height; y+=scale) 
 10408                        	.line	1445
 10409 03:2779: 64 0B        	stz	<L544+y_1
 10410 03:277B: 82 CC 00     	brl	L10154
 10411                        L10153:
 10412                        ;		{
 10413                        	.line	1446
 10414                        ;			offy = y;
 10415                        	.line	1447
 10416 03:277E: A5 0B        	lda	<L544+y_1
 10417 03:2780: 85 1B        	sta	<L544+offy_1
 10418                        ;			px   = 0;
 10419                        	.line	1448
 10420 03:2782: 64 15        	stz	<L544+px_1
 10421                        ;			for (x = 0; x < width; x+=scale)
                     
 10422                        	.line	1449
 10423 03:2784: 64 09        	stz	<L544+x_1
 10424 03:2786: 82 A9 00     	brl	L10158
 10425                        L10157:
 10426                        ;			{
 10427                        	.line	1450
 10428                        ;				// get the pixel value
 10429                        ;				offx = x;
 10430                        	.line	1452
 10431 03:2789: A5 09        	lda	<L544+x_1
 10432 03:278B: 85 19        	sta	<L544+offx_1
 10433                        ;				b = img[py * ICONW + px]
                    ;
 10434                        	.line	1453
 10435 03:278D: A5 17        	lda	<L544+py_1
 10436 03:278F: 0A           	asl	A
 10437 03:2790: 0A           	asl	A
 10438 03:2791: 0A           	asl	A
 10439 03:2792: 0A           	asl	A
 10440 03:2793: 85 01        	sta	<R0
 10441 03:2795: 18           	clc
 10442 03:2796: A5 01        	lda	<R0
 10443 03:2798: 65 15        	adc	<L544+px_1
 10444 03:279A: 85 05        	sta	<R1
 10445 03:279C: E2 20        	sep	#$20
 10446                        	longa	off
 10447 03:279E: A4 05        	ldy	<R1
 10448 03:27A0: B7 22        	lda	[<L544+img_1],Y
 10449 03:27A2: 85 21        	sta	<L544+b_1
 10450 03:27A4: C2 20        	rep	#$20
 10451                        	longa	on
 10452                        ;				if (b > -1) 
 10453                        	.line	1454
 10454                        ;				{ // plot the pixel	
                    				
 10455 03:27A6: A5 21        	lda	<L544+b_1
  Mon Dec  7 2020 11:19                                                Page 194


 10456 03:27A8: 29 FF 00     	and	#$ff
 10457 03:27AB: 85 01        	sta	<R0
 10458 03:27AD: 38           	sec
 10459 03:27AE: A9 FF FF     	lda	#$ffff
 10460 03:27B1: E5 01        	sbc	<R0
 10461 03:27B3: 70 03        	bvs	L548
 10462 03:27B5: 49 00 80     	eor	#$8000
 10463                        L548:
 10464 03:27B8: 10 03        	bpl	L549
 10465 03:27BA: 82 6C 00     	brl	L10159
 10466                        L549:
 10467                        	.line	1455
 10468                        ;					offy = y;
 10469                        	.line	1456
 10470 03:27BD: A5 0B        	lda	<L544+y_1
 10471 03:27BF: 85 1B        	sta	<L544+offy_1
 10472                        ;					for(sy=0;sy<scal
                    e;sy++)
 10473                        	.line	1457
 10474 03:27C1: 64 1F        	stz	<L544+sy_1
 10475 03:27C3: 82 54 00     	brl	L10163
 10476                        L10162:
 10477                        ;					{
 10478                        	.line	1458
 10479                        ;						offx = x
                    ;
 10480                        	.line	1459
 10481 03:27C6: A5 09        	lda	<L544+x_1
 10482 03:27C8: 85 19        	sta	<L544+offx_1
 10483                        ;						for(sx=0
                    ;sx<scale;sx++)
 10484                        	.line	1460
 10485 03:27CA: 64 1D        	stz	<L544+sx_1
 10486 03:27CC: 82 38 00     	brl	L10167
 10487                        L10166:
 10488                        ;						{
 10489                        	.line	1461
 10490                        ;							
                    k_draw_pixel(textX + offx, textY + offy, b);
 10491                        	.line	1462
 10492 03:27CF: D4 21        	pei	<L544+b_1
 10493 03:27D1: 18           	clc
 10494 03:27D2: A5 13        	lda	<L544+textY_1
 10495 03:27D4: 65 1B        	adc	<L544+offy_1
 10496 03:27D6: 85 01        	sta	<R0
 10497 03:27D8: A0 00 00     	ldy	#$0
 10498 03:27DB: A5 01        	lda	<R0
 10499 03:27DD: 10 01        	bpl	L550
 10500 03:27DF: 88           	dey
 10501                        L550:
 10502 03:27E0: 85 01        	sta	<R0
 10503 03:27E2: 84 03        	sty	<R0+2
 10504 03:27E4: D4 03        	pei	<R0+2
 10505 03:27E6: D4 01        	pei	<R0
 10506 03:27E8: 18           	clc
 10507 03:27E9: A5 11        	lda	<L544+textX_1
 10508 03:27EB: 65 19        	adc	<L544+offx_1
 10509 03:27ED: 85 05        	sta	<R1
  Mon Dec  7 2020 11:19                                                Page 195


 10510 03:27EF: A0 00 00     	ldy	#$0
 10511 03:27F2: A5 05        	lda	<R1
 10512 03:27F4: 10 01        	bpl	L551
 10513 03:27F6: 88           	dey
 10514                        L551:
 10515 03:27F7: 85 05        	sta	<R1
 10516 03:27F9: 84 07        	sty	<R1+2
 10517 03:27FB: D4 07        	pei	<R1+2
 10518 03:27FD: D4 05        	pei	<R1
 10519 03:27FF: 22 10 0E 03  	jsl	~~k_draw_pixel
 10520                        ;							
                    offx++;
 10521                        	.line	1463
 10522 03:2803: E6 19        	inc	<L544+offx_1
 10523                        ;						}
 10524                        	.line	1464
 10525                        L10164:
 10526 03:2805: E6 1D        	inc	<L544+sx_1
 10527                        L10167:
 10528 03:2807: 38           	sec
 10529 03:2808: A5 1D        	lda	<L544+sx_1
 10530 03:280A: E5 33        	sbc	<L543+scale_0
 10531 03:280C: 70 03        	bvs	L552
 10532 03:280E: 49 00 80     	eor	#$8000
 10533                        L552:
 10534 03:2811: 30 03        	bmi	L553
 10535 03:2813: 82 B9 FF     	brl	L10166
 10536                        L553:
 10537                        L10165:
 10538                        ;						offy++;
 10539                        	.line	1465
 10540 03:2816: E6 1B        	inc	<L544+offy_1
 10541                        ;					}
 10542                        	.line	1466
 10543                        L10160:
 10544 03:2818: E6 1F        	inc	<L544+sy_1
 10545                        L10163:
 10546 03:281A: 38           	sec
 10547 03:281B: A5 1F        	lda	<L544+sy_1
 10548 03:281D: E5 33        	sbc	<L543+scale_0
 10549 03:281F: 70 03        	bvs	L554
 10550 03:2821: 49 00 80     	eor	#$8000
 10551                        L554:
 10552 03:2824: 30 03        	bmi	L555
 10553 03:2826: 82 9D FF     	brl	L10162
 10554                        L555:
 10555                        L10161:
 10556                        ;				}
 10557                        	.line	1467
 10558                        ;				px++;
 10559                        L10159:
 10560                        	.line	1468
 10561 03:2829: E6 15        	inc	<L544+px_1
 10562                        ;			} // end "for x"
 10563                        	.line	1469
 10564                        L10155:
 10565 03:282B: 18           	clc
 10566 03:282C: A5 09        	lda	<L544+x_1
  Mon Dec  7 2020 11:19                                                Page 196


 10567 03:282E: 65 33        	adc	<L543+scale_0
 10568 03:2830: 85 09        	sta	<L544+x_1
 10569                        L10158:
 10570 03:2832: 38           	sec
 10571 03:2833: A5 09        	lda	<L544+x_1
 10572 03:2835: E5 0F        	sbc	<L544+width_1
 10573 03:2837: 70 03        	bvs	L556
 10574 03:2839: 49 00 80     	eor	#$8000
 10575                        L556:
 10576 03:283C: 30 03        	bmi	L557
 10577 03:283E: 82 48 FF     	brl	L10157
 10578                        L557:
 10579                        L10156:
 10580                        ;			py++;
 10581                        	.line	1470
 10582 03:2841: E6 17        	inc	<L544+py_1
 10583                        ;		} // end "for y"
 10584                        	.line	1471
 10585                        L10151:
 10586 03:2843: 18           	clc
 10587 03:2844: A5 0B        	lda	<L544+y_1
 10588 03:2846: 65 33        	adc	<L543+scale_0
 10589 03:2848: 85 0B        	sta	<L544+y_1
 10590                        L10154:
 10591 03:284A: 38           	sec
 10592 03:284B: A5 0B        	lda	<L544+y_1
 10593 03:284D: E5 0D        	sbc	<L544+height_1
 10594 03:284F: 70 03        	bvs	L558
 10595 03:2851: 49 00 80     	eor	#$8000
 10596                        L558:
 10597 03:2854: 30 03        	bmi	L559
 10598 03:2856: 82 25 FF     	brl	L10153
 10599                        L559:
 10600                        L10152:
 10601                        ;	}
 10602                        	.line	1472
 10603                        ;}
 10604                        L10150:
 10605                        	.line	1473
 10606                        L560:
 10607 03:2859: A5 27        	lda	<L543+2
 10608 03:285B: 85 33        	sta	<L543+2+12
 10609 03:285D: A5 26        	lda	<L543+1
 10610 03:285F: 85 32        	sta	<L543+1+12
 10611 03:2861: 2B           	pld
 10612 03:2862: 3B           	tsc
 10613 03:2863: 18           	clc
 10614 03:2864: 69 31 00     	adc	#L543+12
 10615 03:2867: 1B           	tcs
 10616 03:2868: 6B           	rtl
 10617                        	.endblock	1473
 10618             00000025   L543	equ	37
 10619             00000009   L544	equ	9
 10620 03:2869:              	ends
 10621                        	efunc
 10622                        	.endfunc	1473,9,37
 10623                        	.line	1473
 10624                        ;
  Mon Dec  7 2020 11:19                                                Page 197


 10625                        ;
 10626                        ;void k_put_font(char outChar,int row,int column,c
                    har color)
 10627                        ;{
 10628                        	.line	1476
 10629                        	.line	1477
 10630                        	GUI
 10631                        	xdef	~~k_put_font
 10632                        	func
 10633                        	.function	1477
 10634                        ~~k_put_font:
 10635                        	longa	on
 10636                        	longi	on
 10637 03:2869: 3B           	tsc
 10638 03:286A: 38           	sec
 10639 03:286B: E9 21 00     	sbc	#L561
 10640 03:286E: 1B           	tcs
 10641 03:286F: 0B           	phd
 10642 03:2870: 5B           	tcd
 10643             00000004   outChar_0	set	4
 10644             00000006   row_0	set	6
 10645             00000008   column_0	set	8
 10646             0000000A   color_0	set	10
 10647                        	.block	1477
 10648                        ;	int x = 0;
 10649                        ;	int y = 0;
 10650                        ;	int textX = row * FONTW;
 10651                        ;	int textY = column * FONTH;
 10652                        ;
 10653                        ;	char FAR* img = NULL;//fontImg[ix];
 10654                        ;
 10655                        ;    if(outChar == 32)
 10656             00000000   x_1	set	0
 10657             00000002   y_1	set	2
 10658             00000004   textX_1	set	4
 10659             00000006   textY_1	set	6
 10660             00000008   img_1	set	8
 10661                        	.sym	x,0,5,1,16
 10662                        	.sym	y,2,5,1,16
 10663                        	.sym	textX,4,5,1,16
 10664                        	.sym	textY,6,5,1,16
 10665                        	.sym	img,8,142,1,32
 10666                        	.sym	outChar,4,14,6,8
 10667                        	.sym	row,6,5,6,16
 10668                        	.sym	column,8,5,6,16
 10669                        	.sym	color,10,14,6,8
 10670 03:2871: 64 15        	stz	<L562+x_1
 10671 03:2873: 64 17        	stz	<L562+y_1
 10672 03:2875: 22 FD 71 03  	jsl	~~k_font_getFontWidth
 10673 03:2879: 85 01        	sta	<R0
 10674 03:287B: A5 01        	lda	<R0
 10675 03:287D: A6 27        	ldx	<L561+row_0
 10676                        	xref	~~~mul
 10677 03:287F: 22 xx xx xx  	jsl	~~~mul
 10678 03:2883: 85 19        	sta	<L562+textX_1
 10679 03:2885: 22 E8 71 03  	jsl	~~k_font_getFontHeight
 10680 03:2889: 85 01        	sta	<R0
 10681 03:288B: A5 01        	lda	<R0
  Mon Dec  7 2020 11:19                                                Page 198


 10682 03:288D: A6 29        	ldx	<L561+column_0
 10683                        	xref	~~~mul
 10684 03:288F: 22 xx xx xx  	jsl	~~~mul
 10685 03:2893: 85 1B        	sta	<L562+textY_1
 10686 03:2895: 64 1D        	stz	<L562+img_1
 10687 03:2897: 64 1F        	stz	<L562+img_1+2
 10688                        	.line	1485
 10689                        ;	{
 10690 03:2899: E2 20        	sep	#$20
 10691                        	longa	off
 10692 03:289B: A5 25        	lda	<L561+outChar_0
 10693 03:289D: C9 20        	cmp	#<$20
 10694 03:289F: C2 20        	rep	#$20
 10695                        	longa	on
 10696 03:28A1: F0 03        	beq	L564
 10697 03:28A3: 82 07 00     	brl	L10168
 10698                        L564:
 10699                        	.line	1486
 10700                        ;	   img = NULL;
 10701                        	.line	1487
 10702 03:28A6: 64 1D        	stz	<L562+img_1
 10703 03:28A8: 64 1F        	stz	<L562+img_1+2
 10704                        ;    }
 10705                        	.line	1488
 10706                        ;    else
 10707 03:28AA: 82 5B 00     	brl	L10169
 10708                        L10168:
 10709                        ;	{
 10710                        	.line	1490
 10711                        ;	    img = fontImg[(int)characterROMMapping[(int)
                    (outChar & 0xFF)]];
 10712                        	.line	1491
 10713 03:28AD: A5 25        	lda	<L561+outChar_0
 10714 03:28AF: 29 FF 00     	and	#<$ff
 10715 03:28B2: 85 09        	sta	<R2
 10716 03:28B4: A0 00 00     	ldy	#$0
 10717 03:28B7: A5 09        	lda	<R2
 10718 03:28B9: 10 01        	bpl	L565
 10719 03:28BB: 88           	dey
 10720                        L565:
 10721 03:28BC: 85 09        	sta	<R2
 10722 03:28BE: 84 0B        	sty	<R2+2
 10723 03:28C0: D4 0B        	pei	<R2+2
 10724 03:28C2: D4 09        	pei	<R2
 10725 03:28C4: A9 01 00     	lda	#$1
 10726                        	xref	~~~lasl
 10727 03:28C7: 22 xx xx xx  	jsl	~~~lasl
 10728 03:28CB: 85 05        	sta	<R1
 10729 03:28CD: 86 07        	stx	<R1+2
 10730 03:28CF: 18           	clc
 10731 03:28D0: A9 xx xx     	lda	#<~~characterROMMapping
 10732 03:28D3: 65 05        	adc	<R1
 10733 03:28D5: 85 0D        	sta	<R3
 10734 03:28D7: A9 xx xx     	lda	#^~~characterROMMapping
 10735 03:28DA: 65 07        	adc	<R1+2
 10736 03:28DC: 85 0F        	sta	<R3+2
 10737 03:28DE: A0 00 00     	ldy	#$0
 10738 03:28E1: A7 0D        	lda	[<R3]
  Mon Dec  7 2020 11:19                                                Page 199


 10739 03:28E3: 10 01        	bpl	L566
 10740 03:28E5: 88           	dey
 10741                        L566:
 10742 03:28E6: 85 05        	sta	<R1
 10743 03:28E8: 84 07        	sty	<R1+2
 10744 03:28EA: D4 07        	pei	<R1+2
 10745 03:28EC: D4 05        	pei	<R1
 10746 03:28EE: A9 06 00     	lda	#$6
 10747                        	xref	~~~lasl
 10748 03:28F1: 22 xx xx xx  	jsl	~~~lasl
 10749 03:28F5: 85 01        	sta	<R0
 10750 03:28F7: 86 03        	stx	<R0+2
 10751 03:28F9: 18           	clc
 10752 03:28FA: A9 xx xx     	lda	#<~~fontImg
 10753 03:28FD: 65 01        	adc	<R0
 10754 03:28FF: 85 1D        	sta	<L562+img_1
 10755 03:2901: A9 xx xx     	lda	#^~~fontImg
 10756 03:2904: 65 03        	adc	<R0+2
 10757 03:2906: 85 1F        	sta	<L562+img_1+2
 10758                        ;		//img = fontImg[0x02];
 10759                        ;	}
 10760                        	.line	1493
 10761                        L10169:
 10762                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 10763                        ;
 10764                        ;	// get the font 'image'
 10765                        ;        //char *img = fontImg[ix]; 
 10766                        ;        // loop through pixel rows
 10767                        ;	if(img!=NULL)
 10768                        	.line	1499
 10769                        ;	{
 10770 03:2908: A5 1D        	lda	<L562+img_1
 10771 03:290A: 05 1F        	ora	<L562+img_1+2
 10772 03:290C: D0 03        	bne	L567
 10773 03:290E: 82 DD 00     	brl	L10170
 10774                        L567:
 10775                        	.line	1500
 10776                        ;		for (y = 0; y < FONTH; y++) 
 10777                        	.line	1501
 10778 03:2911: 64 17        	stz	<L562+y_1
 10779 03:2913: 82 C9 00     	brl	L10174
 10780                        L10173:
 10781                        ;		{
 10782                        	.line	1502
 10783                        ;			// loop through pixel columns
 10784                        ;			for (x = 0; x < FONTW; x++) 
 10785                        	.line	1504
 10786 03:2916: 64 15        	stz	<L562+x_1
 10787 03:2918: 82 B3 00     	brl	L10178
 10788                        L10177:
 10789                        ;			{
 10790                        	.line	1505
 10791                        ;				// get the pixel value
 10792                        ;				char b = img[y * FONTW +
                     x];
 10793                        ;				if (b > 0) 
 10794                        	.block	1508
  Mon Dec  7 2020 11:19                                                Page 200


 10795             0000000C   b_2	set	12
 10796                        	.sym	b,12,14,1,8
 10797 03:291B: 22 FD 71 03  	jsl	~~k_font_getFontWidth
 10798 03:291F: 85 01        	sta	<R0
 10799 03:2921: A5 01        	lda	<R0
 10800 03:2923: A6 17        	ldx	<L562+y_1
 10801                        	xref	~~~mul
 10802 03:2925: 22 xx xx xx  	jsl	~~~mul
 10803 03:2929: 85 01        	sta	<R0
 10804 03:292B: 18           	clc
 10805 03:292C: A5 01        	lda	<R0
 10806 03:292E: 65 15        	adc	<L562+x_1
 10807 03:2930: 85 05        	sta	<R1
 10808 03:2932: E2 20        	sep	#$20
 10809                        	longa	off
 10810 03:2934: A4 05        	ldy	<R1
 10811 03:2936: B7 1D        	lda	[<L562+img_1],Y
 10812 03:2938: 85 21        	sta	<L562+b_2
 10813 03:293A: C2 20        	rep	#$20
 10814                        	longa	on
 10815                        	.line	1508
 10816                        ;				{ // plot the pixel
 10817 03:293C: E2 20        	sep	#$20
 10818                        	longa	off
 10819 03:293E: A9 00        	lda	#$0
 10820 03:2940: C5 21        	cmp	<L562+b_2
 10821 03:2942: C2 20        	rep	#$20
 10822                        	longa	on
 10823 03:2944: 90 03        	bcc	L569
 10824 03:2946: 82 83 00     	brl	L10179
 10825                        L569:
 10826                        	.line	1509
 10827                        ;					//k_draw_pixel(t
                    extX + x, textY + y, color);
 10828                        ;					
 10829                        ;					((unsigned char 
                    FAR *)BITMAP_BANK_0)[(long)(( ((long)textY + y) * 640L) + ((
                    long)textX + x) )] = (char)color;
 10830                        	.line	1512
 10831 03:2949: A0 00 00     	ldy	#$0
 10832 03:294C: A5 19        	lda	<L562+textX_1
 10833 03:294E: 10 01        	bpl	L570
 10834 03:2950: 88           	dey
 10835                        L570:
 10836 03:2951: 85 01        	sta	<R0
 10837 03:2953: 84 03        	sty	<R0+2
 10838 03:2955: A0 00 00     	ldy	#$0
 10839 03:2958: A5 15        	lda	<L562+x_1
 10840 03:295A: 10 01        	bpl	L571
 10841 03:295C: 88           	dey
 10842                        L571:
 10843 03:295D: 85 05        	sta	<R1
 10844 03:295F: 84 07        	sty	<R1+2
 10845 03:2961: A0 00 00     	ldy	#$0
 10846 03:2964: A5 17        	lda	<L562+y_1
 10847 03:2966: 10 01        	bpl	L572
 10848 03:2968: 88           	dey
 10849                        L572:
  Mon Dec  7 2020 11:19                                                Page 201


 10850 03:2969: 85 09        	sta	<R2
 10851 03:296B: 84 0B        	sty	<R2+2
 10852 03:296D: A0 00 00     	ldy	#$0
 10853 03:2970: A5 1B        	lda	<L562+textY_1
 10854 03:2972: 10 01        	bpl	L573
 10855 03:2974: 88           	dey
 10856                        L573:
 10857 03:2975: 85 0D        	sta	<R3
 10858 03:2977: 84 0F        	sty	<R3+2
 10859 03:2979: 18           	clc
 10860 03:297A: A5 0D        	lda	<R3
 10861 03:297C: 65 09        	adc	<R2
 10862 03:297E: 85 11        	sta	<17
 10863 03:2980: A5 0F        	lda	<R3+2
 10864 03:2982: 65 0B        	adc	<R2+2
 10865 03:2984: 85 13        	sta	<17+2
 10866 03:2986: F4 00 00     	pea	#^$280
 10867 03:2989: F4 80 02     	pea	#<$280
 10868 03:298C: D4 13        	pei	<17+2
 10869 03:298E: D4 11        	pei	<17
 10870                        	xref	~~~lmul
 10871 03:2990: 22 xx xx xx  	jsl	~~~lmul
 10872 03:2994: 85 09        	sta	<R2
 10873 03:2996: 86 0B        	stx	<R2+2
 10874 03:2998: 18           	clc
 10875 03:2999: A5 09        	lda	<R2
 10876 03:299B: 65 05        	adc	<R1
 10877 03:299D: 85 0D        	sta	<R3
 10878 03:299F: A5 0B        	lda	<R2+2
 10879 03:29A1: 65 07        	adc	<R1+2
 10880 03:29A3: 85 0F        	sta	<R3+2
 10881 03:29A5: 18           	clc
 10882 03:29A6: A5 0D        	lda	<R3
 10883 03:29A8: 65 01        	adc	<R0
 10884 03:29AA: 85 05        	sta	<R1
 10885 03:29AC: A5 0F        	lda	<R3+2
 10886 03:29AE: 65 03        	adc	<R0+2
 10887 03:29B0: 85 07        	sta	<R1+2
 10888 03:29B2: 18           	clc
 10889 03:29B3: A9 00 00     	lda	#$0
 10890 03:29B6: 65 05        	adc	<R1
 10891 03:29B8: 85 01        	sta	<R0
 10892 03:29BA: A9 B0 00     	lda	#$b0
 10893 03:29BD: 65 07        	adc	<R1+2
 10894 03:29BF: 85 03        	sta	<R0+2
 10895 03:29C1: E2 20        	sep	#$20
 10896                        	longa	off
 10897 03:29C3: A5 2B        	lda	<L561+color_0
 10898 03:29C5: 87 01        	sta	[<R0]
 10899 03:29C7: C2 20        	rep	#$20
 10900                        	longa	on
 10901                        ;				}
 10902                        	.line	1513
 10903                        ;				else 
 10904 03:29C9: 82 00 00     	brl	L10180
 10905                        L10179:
 10906                        ;				{ 
 10907                        	.line	1515
  Mon Dec  7 2020 11:19                                                Page 202


 10908                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 10909                        ;				}
 10910                        	.line	1517
 10911                        L10180:
 10912                        ;			} // end "for x"
 10913                        	.endblock	1518
 10914                        	.line	1518
 10915                        L10175:
 10916 03:29CC: E6 15        	inc	<L562+x_1
 10917                        L10178:
 10918 03:29CE: 22 FD 71 03  	jsl	~~k_font_getFontWidth
 10919 03:29D2: 85 01        	sta	<R0
 10920 03:29D4: A5 15        	lda	<L562+x_1
 10921 03:29D6: C5 01        	cmp	<R0
 10922 03:29D8: B0 03        	bcs	L574
 10923 03:29DA: 82 3E FF     	brl	L10177
 10924                        L574:
 10925                        L10176:
 10926                        ;		} // end "for y"
 10927                        	.line	1519
 10928                        L10171:
 10929 03:29DD: E6 17        	inc	<L562+y_1
 10930                        L10174:
 10931 03:29DF: 22 E8 71 03  	jsl	~~k_font_getFontHeight
 10932 03:29E3: 85 01        	sta	<R0
 10933 03:29E5: A5 17        	lda	<L562+y_1
 10934 03:29E7: C5 01        	cmp	<R0
 10935 03:29E9: B0 03        	bcs	L575
 10936 03:29EB: 82 28 FF     	brl	L10173
 10937                        L575:
 10938                        L10172:
 10939                        ;	}
 10940                        	.line	1520
 10941                        ;}
 10942                        L10170:
 10943                        	.line	1521
 10944                        L576:
 10945 03:29EE: A5 23        	lda	<L561+2
 10946 03:29F0: 85 2B        	sta	<L561+2+8
 10947 03:29F2: A5 22        	lda	<L561+1
 10948 03:29F4: 85 2A        	sta	<L561+1+8
 10949 03:29F6: 2B           	pld
 10950 03:29F7: 3B           	tsc
 10951 03:29F8: 18           	clc
 10952 03:29F9: 69 29 00     	adc	#L561+8
 10953 03:29FC: 1B           	tcs
 10954 03:29FD: 6B           	rtl
 10955                        	.endblock	1521
 10956             00000021   L561	equ	33
 10957             00000015   L562	equ	21
 10958 03:29FE:              	ends
 10959                        	efunc
 10960                        	.endfunc	1521,21,33
 10961                        	.line	1521
 10962                        ;
 10963                        ;void k_put_font_scaled(char outChar,int row,int c
                    olumn,char color,int scale)
  Mon Dec  7 2020 11:19                                                Page 203


 10964                        ;{
 10965                        	.line	1523
 10966                        	.line	1524
 10967                        	GUI
 10968                        	xdef	~~k_put_font_scaled
 10969                        	func
 10970                        	.function	1524
 10971                        ~~k_put_font_scaled:
 10972                        	longa	on
 10973                        	longi	on
 10974 03:29FE: 3B           	tsc
 10975 03:29FF: 38           	sec
 10976 03:2A00: E9 2D 00     	sbc	#L577
 10977 03:2A03: 1B           	tcs
 10978 03:2A04: 0B           	phd
 10979 03:2A05: 5B           	tcd
 10980             00000004   outChar_0	set	4
 10981             00000006   row_0	set	6
 10982             00000008   column_0	set	8
 10983             0000000A   color_0	set	10
 10984             0000000C   scale_0	set	12
 10985                        	.block	1524
 10986                        ;	int x = 0;
 10987                        ;	int y = 0;
 10988                        ;
 10989                        ;	int height = FONTH * scale;
 10990                        ;	int width  = FONTW * scale;
 10991                        ;	
 10992                        ;	int textX = row    * height;
 10993                        ;	int textY = column * width;
 10994                        ;
 10995                        ;	int px   = 0;
 10996                        ;	int py   = 0;
 10997                        ;	int offx = 0;
 10998                        ;	int offy = 0;
 10999                        ;	int sx   = 0;
 11000                        ;	int sy   = 0;
 11001                        ;
 11002                        ;	char b   = 0;
 11003                        ;
 11004                        ;	char FAR* img = NULL;//fontImg[ix];
 11005                        ;
 11006                        ;    if(outChar == 32)
 11007             00000000   x_1	set	0
 11008             00000002   y_1	set	2
 11009             00000004   height_1	set	4
 11010             00000006   width_1	set	6
 11011             00000008   textX_1	set	8
 11012             0000000A   textY_1	set	10
 11013             0000000C   px_1	set	12
 11014             0000000E   py_1	set	14
 11015             00000010   offx_1	set	16
 11016             00000012   offy_1	set	18
 11017             00000014   sx_1	set	20
 11018             00000016   sy_1	set	22
 11019             00000018   b_1	set	24
 11020             00000019   img_1	set	25
 11021                        	.sym	x,0,5,1,16
  Mon Dec  7 2020 11:19                                                Page 204


 11022                        	.sym	y,2,5,1,16
 11023                        	.sym	height,4,5,1,16
 11024                        	.sym	width,6,5,1,16
 11025                        	.sym	textX,8,5,1,16
 11026                        	.sym	textY,10,5,1,16
 11027                        	.sym	px,12,5,1,16
 11028                        	.sym	py,14,5,1,16
 11029                        	.sym	offx,16,5,1,16
 11030                        	.sym	offy,18,5,1,16
 11031                        	.sym	sx,20,5,1,16
 11032                        	.sym	sy,22,5,1,16
 11033                        	.sym	b,24,14,1,8
 11034                        	.sym	img,25,142,1,32
 11035                        	.sym	outChar,4,14,6,8
 11036                        	.sym	row,6,5,6,16
 11037                        	.sym	column,8,5,6,16
 11038                        	.sym	color,10,14,6,8
 11039                        	.sym	scale,12,5,6,16
 11040 03:2A06: 64 11        	stz	<L578+x_1
 11041 03:2A08: 64 13        	stz	<L578+y_1
 11042 03:2A0A: 22 E8 71 03  	jsl	~~k_font_getFontHeight
 11043 03:2A0E: 85 01        	sta	<R0
 11044 03:2A10: A5 01        	lda	<R0
 11045 03:2A12: A6 39        	ldx	<L577+scale_0
 11046                        	xref	~~~mul
 11047 03:2A14: 22 xx xx xx  	jsl	~~~mul
 11048 03:2A18: 85 15        	sta	<L578+height_1
 11049 03:2A1A: 22 FD 71 03  	jsl	~~k_font_getFontWidth
 11050 03:2A1E: 85 01        	sta	<R0
 11051 03:2A20: A5 01        	lda	<R0
 11052 03:2A22: A6 39        	ldx	<L577+scale_0
 11053                        	xref	~~~mul
 11054 03:2A24: 22 xx xx xx  	jsl	~~~mul
 11055 03:2A28: 85 17        	sta	<L578+width_1
 11056 03:2A2A: A5 33        	lda	<L577+row_0
 11057 03:2A2C: A6 15        	ldx	<L578+height_1
 11058                        	xref	~~~mul
 11059 03:2A2E: 22 xx xx xx  	jsl	~~~mul
 11060 03:2A32: 85 19        	sta	<L578+textX_1
 11061 03:2A34: A5 35        	lda	<L577+column_0
 11062 03:2A36: A6 17        	ldx	<L578+width_1
 11063                        	xref	~~~mul
 11064 03:2A38: 22 xx xx xx  	jsl	~~~mul
 11065 03:2A3C: 85 1B        	sta	<L578+textY_1
 11066 03:2A3E: 64 1D        	stz	<L578+px_1
 11067 03:2A40: 64 1F        	stz	<L578+py_1
 11068 03:2A42: 64 21        	stz	<L578+offx_1
 11069 03:2A44: 64 23        	stz	<L578+offy_1
 11070 03:2A46: 64 25        	stz	<L578+sx_1
 11071 03:2A48: 64 27        	stz	<L578+sy_1
 11072 03:2A4A: E2 20        	sep	#$20
 11073                        	longa	off
 11074 03:2A4C: 64 29        	stz	<L578+b_1
 11075 03:2A4E: C2 20        	rep	#$20
 11076                        	longa	on
 11077 03:2A50: 64 2A        	stz	<L578+img_1
 11078 03:2A52: 64 2C        	stz	<L578+img_1+2
 11079                        	.line	1545
  Mon Dec  7 2020 11:19                                                Page 205


 11080                        ;	{
 11081 03:2A54: E2 20        	sep	#$20
 11082                        	longa	off
 11083 03:2A56: A5 31        	lda	<L577+outChar_0
 11084 03:2A58: C9 20        	cmp	#<$20
 11085 03:2A5A: C2 20        	rep	#$20
 11086                        	longa	on
 11087 03:2A5C: F0 03        	beq	L580
 11088 03:2A5E: 82 07 00     	brl	L10181
 11089                        L580:
 11090                        	.line	1546
 11091                        ;	   img = NULL;//fontSpace;
 11092                        	.line	1547
 11093 03:2A61: 64 2A        	stz	<L578+img_1
 11094 03:2A63: 64 2C        	stz	<L578+img_1+2
 11095                        ;    }
 11096                        	.line	1548
 11097                        ;    else
 11098 03:2A65: 82 5B 00     	brl	L10182
 11099                        L10181:
 11100                        ;	{
 11101                        	.line	1550
 11102                        ;	    img = fontImg[(int)characterROMMapping[(int)
                    (outChar & 0xFF)]];
 11103                        	.line	1551
 11104 03:2A68: A5 31        	lda	<L577+outChar_0
 11105 03:2A6A: 29 FF 00     	and	#<$ff
 11106 03:2A6D: 85 09        	sta	<R2
 11107 03:2A6F: A0 00 00     	ldy	#$0
 11108 03:2A72: A5 09        	lda	<R2
 11109 03:2A74: 10 01        	bpl	L581
 11110 03:2A76: 88           	dey
 11111                        L581:
 11112 03:2A77: 85 09        	sta	<R2
 11113 03:2A79: 84 0B        	sty	<R2+2
 11114 03:2A7B: D4 0B        	pei	<R2+2
 11115 03:2A7D: D4 09        	pei	<R2
 11116 03:2A7F: A9 01 00     	lda	#$1
 11117                        	xref	~~~lasl
 11118 03:2A82: 22 xx xx xx  	jsl	~~~lasl
 11119 03:2A86: 85 05        	sta	<R1
 11120 03:2A88: 86 07        	stx	<R1+2
 11121 03:2A8A: 18           	clc
 11122 03:2A8B: A9 xx xx     	lda	#<~~characterROMMapping
 11123 03:2A8E: 65 05        	adc	<R1
 11124 03:2A90: 85 0D        	sta	<R3
 11125 03:2A92: A9 xx xx     	lda	#^~~characterROMMapping
 11126 03:2A95: 65 07        	adc	<R1+2
 11127 03:2A97: 85 0F        	sta	<R3+2
 11128 03:2A99: A0 00 00     	ldy	#$0
 11129 03:2A9C: A7 0D        	lda	[<R3]
 11130 03:2A9E: 10 01        	bpl	L582
 11131 03:2AA0: 88           	dey
 11132                        L582:
 11133 03:2AA1: 85 05        	sta	<R1
 11134 03:2AA3: 84 07        	sty	<R1+2
 11135 03:2AA5: D4 07        	pei	<R1+2
 11136 03:2AA7: D4 05        	pei	<R1
  Mon Dec  7 2020 11:19                                                Page 206


 11137 03:2AA9: A9 06 00     	lda	#$6
 11138                        	xref	~~~lasl
 11139 03:2AAC: 22 xx xx xx  	jsl	~~~lasl
 11140 03:2AB0: 85 01        	sta	<R0
 11141 03:2AB2: 86 03        	stx	<R0+2
 11142 03:2AB4: 18           	clc
 11143 03:2AB5: A9 xx xx     	lda	#<~~fontImg
 11144 03:2AB8: 65 01        	adc	<R0
 11145 03:2ABA: 85 2A        	sta	<L578+img_1
 11146 03:2ABC: A9 xx xx     	lda	#^~~fontImg
 11147 03:2ABF: 65 03        	adc	<R0+2
 11148 03:2AC1: 85 2C        	sta	<L578+img_1+2
 11149                        ;		//img = fontImg[0x01];
 11150                        ;	}
 11151                        	.line	1553
 11152                        L10182:
 11153                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 11154                        ;
 11155                        ;	// get the font 'image'
 11156                        ;        //char *img = fontImg[ix]; 
 11157                        ;        // loop through pixel rows
 11158                        ;	if(img!=NULL)
 11159                        	.line	1559
 11160                        ;	{
 11161 03:2AC3: A5 2A        	lda	<L578+img_1
 11162 03:2AC5: 05 2C        	ora	<L578+img_1+2
 11163 03:2AC7: D0 03        	bne	L583
 11164 03:2AC9: 82 E3 00     	brl	L10183
 11165                        L583:
 11166                        	.line	1560
 11167                        ;		py = 0;
 11168                        	.line	1561
 11169 03:2ACC: 64 1F        	stz	<L578+py_1
 11170                        ;		for (y = 0; y < height; y+=scale) 
 11171                        	.line	1562
 11172 03:2ACE: 64 13        	stz	<L578+y_1
 11173 03:2AD0: 82 CD 00     	brl	L10187
 11174                        L10186:
 11175                        ;		{
 11176                        	.line	1563
 11177                        ;			offy = y;
 11178                        	.line	1564
 11179 03:2AD3: A5 13        	lda	<L578+y_1
 11180 03:2AD5: 85 23        	sta	<L578+offy_1
 11181                        ;			px = 0;
 11182                        	.line	1565
 11183 03:2AD7: 64 1D        	stz	<L578+px_1
 11184                        ;			for (x = 0; x < width; x+=scale)
                     
 11185                        	.line	1566
 11186 03:2AD9: 64 11        	stz	<L578+x_1
 11187 03:2ADB: 82 AA 00     	brl	L10191
 11188                        L10190:
 11189                        ;			{
 11190                        	.line	1567
 11191                        ;				// get the pixel value
 11192                        ;				offx = x;
  Mon Dec  7 2020 11:19                                                Page 207


 11193                        	.line	1569
 11194 03:2ADE: A5 11        	lda	<L578+x_1
 11195 03:2AE0: 85 21        	sta	<L578+offx_1
 11196                        ;				b = img[py * FONTW + px]
                    ;
 11197                        	.line	1570
 11198 03:2AE2: 22 FD 71 03  	jsl	~~k_font_getFontWidth
 11199 03:2AE6: 85 01        	sta	<R0
 11200 03:2AE8: A5 01        	lda	<R0
 11201 03:2AEA: A6 1F        	ldx	<L578+py_1
 11202                        	xref	~~~mul
 11203 03:2AEC: 22 xx xx xx  	jsl	~~~mul
 11204 03:2AF0: 85 01        	sta	<R0
 11205 03:2AF2: 18           	clc
 11206 03:2AF3: A5 01        	lda	<R0
 11207 03:2AF5: 65 1D        	adc	<L578+px_1
 11208 03:2AF7: 85 05        	sta	<R1
 11209 03:2AF9: E2 20        	sep	#$20
 11210                        	longa	off
 11211 03:2AFB: A4 05        	ldy	<R1
 11212 03:2AFD: B7 2A        	lda	[<L578+img_1],Y
 11213 03:2AFF: 85 29        	sta	<L578+b_1
 11214 03:2B01: C2 20        	rep	#$20
 11215                        	longa	on
 11216                        ;				if (b > 0) 
 11217                        	.line	1571
 11218                        ;				{ // plot the pixel	
                    				
 11219 03:2B03: E2 20        	sep	#$20
 11220                        	longa	off
 11221 03:2B05: A9 00        	lda	#$0
 11222 03:2B07: C5 29        	cmp	<L578+b_1
 11223 03:2B09: C2 20        	rep	#$20
 11224                        	longa	on
 11225 03:2B0B: 90 03        	bcc	L584
 11226 03:2B0D: 82 6F 00     	brl	L10192
 11227                        L584:
 11228                        	.line	1572
 11229                        ;					offy = y;
 11230                        	.line	1573
 11231 03:2B10: A5 13        	lda	<L578+y_1
 11232 03:2B12: 85 23        	sta	<L578+offy_1
 11233                        ;					for(sy=0;sy<scal
                    e;sy++)
 11234                        	.line	1574
 11235 03:2B14: 64 27        	stz	<L578+sy_1
 11236 03:2B16: 82 54 00     	brl	L10196
 11237                        L10195:
 11238                        ;					{
 11239                        	.line	1575
 11240                        ;						offx = x
                    ;
 11241                        	.line	1576
 11242 03:2B19: A5 11        	lda	<L578+x_1
 11243 03:2B1B: 85 21        	sta	<L578+offx_1
 11244                        ;						for(sx=0
                    ;sx<scale;sx++)
 11245                        	.line	1577
  Mon Dec  7 2020 11:19                                                Page 208


 11246 03:2B1D: 64 25        	stz	<L578+sx_1
 11247 03:2B1F: 82 38 00     	brl	L10200
 11248                        L10199:
 11249                        ;						{
 11250                        	.line	1578
 11251                        ;							
                    k_draw_pixel(textX + offx, textY + offy, color);
 11252                        	.line	1579
 11253 03:2B22: D4 37        	pei	<L577+color_0
 11254 03:2B24: 18           	clc
 11255 03:2B25: A5 1B        	lda	<L578+textY_1
 11256 03:2B27: 65 23        	adc	<L578+offy_1
 11257 03:2B29: 85 01        	sta	<R0
 11258 03:2B2B: A0 00 00     	ldy	#$0
 11259 03:2B2E: A5 01        	lda	<R0
 11260 03:2B30: 10 01        	bpl	L585
 11261 03:2B32: 88           	dey
 11262                        L585:
 11263 03:2B33: 85 01        	sta	<R0
 11264 03:2B35: 84 03        	sty	<R0+2
 11265 03:2B37: D4 03        	pei	<R0+2
 11266 03:2B39: D4 01        	pei	<R0
 11267 03:2B3B: 18           	clc
 11268 03:2B3C: A5 19        	lda	<L578+textX_1
 11269 03:2B3E: 65 21        	adc	<L578+offx_1
 11270 03:2B40: 85 05        	sta	<R1
 11271 03:2B42: A0 00 00     	ldy	#$0
 11272 03:2B45: A5 05        	lda	<R1
 11273 03:2B47: 10 01        	bpl	L586
 11274 03:2B49: 88           	dey
 11275                        L586:
 11276 03:2B4A: 85 05        	sta	<R1
 11277 03:2B4C: 84 07        	sty	<R1+2
 11278 03:2B4E: D4 07        	pei	<R1+2
 11279 03:2B50: D4 05        	pei	<R1
 11280 03:2B52: 22 10 0E 03  	jsl	~~k_draw_pixel
 11281                        ;							
                    offx++;
 11282                        	.line	1580
 11283 03:2B56: E6 21        	inc	<L578+offx_1
 11284                        ;						}
 11285                        	.line	1581
 11286                        L10197:
 11287 03:2B58: E6 25        	inc	<L578+sx_1
 11288                        L10200:
 11289 03:2B5A: 38           	sec
 11290 03:2B5B: A5 25        	lda	<L578+sx_1
 11291 03:2B5D: E5 39        	sbc	<L577+scale_0
 11292 03:2B5F: 70 03        	bvs	L587
 11293 03:2B61: 49 00 80     	eor	#$8000
 11294                        L587:
 11295 03:2B64: 30 03        	bmi	L588
 11296 03:2B66: 82 B9 FF     	brl	L10199
 11297                        L588:
 11298                        L10198:
 11299                        ;						offy++;
 11300                        	.line	1582
 11301 03:2B69: E6 23        	inc	<L578+offy_1
  Mon Dec  7 2020 11:19                                                Page 209


 11302                        ;					}
 11303                        	.line	1583
 11304                        L10193:
 11305 03:2B6B: E6 27        	inc	<L578+sy_1
 11306                        L10196:
 11307 03:2B6D: 38           	sec
 11308 03:2B6E: A5 27        	lda	<L578+sy_1
 11309 03:2B70: E5 39        	sbc	<L577+scale_0
 11310 03:2B72: 70 03        	bvs	L589
 11311 03:2B74: 49 00 80     	eor	#$8000
 11312                        L589:
 11313 03:2B77: 30 03        	bmi	L590
 11314 03:2B79: 82 9D FF     	brl	L10195
 11315                        L590:
 11316                        L10194:
 11317                        ;					
 11318                        ;					//k_draw_pixel(t
                    extX + x, textY + y, color);
 11319                        ;				}
 11320                        	.line	1586
 11321                        ;				else 
 11322 03:2B7C: 82 00 00     	brl	L10201
 11323                        L10192:
 11324                        ;				{ 
 11325                        	.line	1588
 11326                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 11327                        ;				}
 11328                        	.line	1590
 11329                        L10201:
 11330                        ;				px++;
 11331                        	.line	1591
 11332 03:2B7F: E6 1D        	inc	<L578+px_1
 11333                        ;			} // end "for x"
 11334                        	.line	1592
 11335                        L10188:
 11336 03:2B81: 18           	clc
 11337 03:2B82: A5 11        	lda	<L578+x_1
 11338 03:2B84: 65 39        	adc	<L577+scale_0
 11339 03:2B86: 85 11        	sta	<L578+x_1
 11340                        L10191:
 11341 03:2B88: 38           	sec
 11342 03:2B89: A5 11        	lda	<L578+x_1
 11343 03:2B8B: E5 17        	sbc	<L578+width_1
 11344 03:2B8D: 70 03        	bvs	L591
 11345 03:2B8F: 49 00 80     	eor	#$8000
 11346                        L591:
 11347 03:2B92: 30 03        	bmi	L592
 11348 03:2B94: 82 47 FF     	brl	L10190
 11349                        L592:
 11350                        L10189:
 11351                        ;			py++;
 11352                        	.line	1593
 11353 03:2B97: E6 1F        	inc	<L578+py_1
 11354                        ;		} // end "for y"
 11355                        	.line	1594
 11356                        L10184:
 11357 03:2B99: 18           	clc
  Mon Dec  7 2020 11:19                                                Page 210


 11358 03:2B9A: A5 13        	lda	<L578+y_1
 11359 03:2B9C: 65 39        	adc	<L577+scale_0
 11360 03:2B9E: 85 13        	sta	<L578+y_1
 11361                        L10187:
 11362 03:2BA0: 38           	sec
 11363 03:2BA1: A5 13        	lda	<L578+y_1
 11364 03:2BA3: E5 15        	sbc	<L578+height_1
 11365 03:2BA5: 70 03        	bvs	L593
 11366 03:2BA7: 49 00 80     	eor	#$8000
 11367                        L593:
 11368 03:2BAA: 30 03        	bmi	L594
 11369 03:2BAC: 82 24 FF     	brl	L10186
 11370                        L594:
 11371                        L10185:
 11372                        ;	}
 11373                        	.line	1595
 11374                        ;}
 11375                        L10183:
 11376                        	.line	1596
 11377                        L595:
 11378 03:2BAF: A5 2F        	lda	<L577+2
 11379 03:2BB1: 85 39        	sta	<L577+2+10
 11380 03:2BB3: A5 2E        	lda	<L577+1
 11381 03:2BB5: 85 38        	sta	<L577+1+10
 11382 03:2BB7: 2B           	pld
 11383 03:2BB8: 3B           	tsc
 11384 03:2BB9: 18           	clc
 11385 03:2BBA: 69 37 00     	adc	#L577+10
 11386 03:2BBD: 1B           	tcs
 11387 03:2BBE: 6B           	rtl
 11388                        	.endblock	1596
 11389             0000002D   L577	equ	45
 11390             00000011   L578	equ	17
 11391 03:2BBF:              	ends
 11392                        	efunc
 11393                        	.endfunc	1596,17,45
 11394                        	.line	1596
 11395                        ;
 11396                        ;void k_draw_char(char charCode,int row,int column
                    ,char color)
 11397                        ;{
 11398                        	.line	1598
 11399                        	.line	1599
 11400                        	GUI
 11401                        	xdef	~~k_draw_char
 11402                        	func
 11403                        	.function	1599
 11404                        ~~k_draw_char:
 11405                        	longa	on
 11406                        	longi	on
 11407 03:2BBF: 3B           	tsc
 11408 03:2BC0: 38           	sec
 11409 03:2BC1: E9 15 00     	sbc	#L596
 11410 03:2BC4: 1B           	tcs
 11411 03:2BC5: 0B           	phd
 11412 03:2BC6: 5B           	tcd
 11413             00000004   charCode_0	set	4
 11414             00000006   row_0	set	6
  Mon Dec  7 2020 11:19                                                Page 211


 11415             00000008   column_0	set	8
 11416             0000000A   color_0	set	10
 11417                        	.block	1599
 11418                        ;	int x = 0;
 11419                        ;	int y = 0;
 11420                        ;
 11421                        ;	int textX = row * FONTH;
 11422                        ;	int textY = column * FONTW;
 11423                        ;	char b = 0;
 11424                        ;
 11425                        ;	char FAR* img = NULL;//fontImg[ix];
 11426                        ;
 11427                        ;    if(charCode == 32)
 11428             00000000   x_1	set	0
 11429             00000002   y_1	set	2
 11430             00000004   textX_1	set	4
 11431             00000006   textY_1	set	6
 11432             00000008   b_1	set	8
 11433             00000009   img_1	set	9
 11434                        	.sym	x,0,5,1,16
 11435                        	.sym	y,2,5,1,16
 11436                        	.sym	textX,4,5,1,16
 11437                        	.sym	textY,6,5,1,16
 11438                        	.sym	b,8,14,1,8
 11439                        	.sym	img,9,142,1,32
 11440                        	.sym	charCode,4,14,6,8
 11441                        	.sym	row,6,5,6,16
 11442                        	.sym	column,8,5,6,16
 11443                        	.sym	color,10,14,6,8
 11444 03:2BC7: 64 09        	stz	<L597+x_1
 11445 03:2BC9: 64 0B        	stz	<L597+y_1
 11446 03:2BCB: 22 E8 71 03  	jsl	~~k_font_getFontHeight
 11447 03:2BCF: 85 01        	sta	<R0
 11448 03:2BD1: A5 01        	lda	<R0
 11449 03:2BD3: A6 1B        	ldx	<L596+row_0
 11450                        	xref	~~~mul
 11451 03:2BD5: 22 xx xx xx  	jsl	~~~mul
 11452 03:2BD9: 85 0D        	sta	<L597+textX_1
 11453 03:2BDB: 22 FD 71 03  	jsl	~~k_font_getFontWidth
 11454 03:2BDF: 85 01        	sta	<R0
 11455 03:2BE1: A5 01        	lda	<R0
 11456 03:2BE3: A6 1D        	ldx	<L596+column_0
 11457                        	xref	~~~mul
 11458 03:2BE5: 22 xx xx xx  	jsl	~~~mul
 11459 03:2BE9: 85 0F        	sta	<L597+textY_1
 11460 03:2BEB: E2 20        	sep	#$20
 11461                        	longa	off
 11462 03:2BED: 64 11        	stz	<L597+b_1
 11463 03:2BEF: C2 20        	rep	#$20
 11464                        	longa	on
 11465 03:2BF1: 64 12        	stz	<L597+img_1
 11466 03:2BF3: 64 14        	stz	<L597+img_1+2
 11467                        	.line	1609
 11468                        ;	{
 11469 03:2BF5: E2 20        	sep	#$20
 11470                        	longa	off
 11471 03:2BF7: A5 19        	lda	<L596+charCode_0
 11472 03:2BF9: C9 20        	cmp	#<$20
  Mon Dec  7 2020 11:19                                                Page 212


 11473 03:2BFB: C2 20        	rep	#$20
 11474                        	longa	on
 11475 03:2BFD: F0 03        	beq	L599
 11476 03:2BFF: 82 07 00     	brl	L10202
 11477                        L599:
 11478                        	.line	1610
 11479                        ;	   img = NULL;//fontSpace;
 11480                        	.line	1611
 11481 03:2C02: 64 12        	stz	<L597+img_1
 11482 03:2C04: 64 14        	stz	<L597+img_1+2
 11483                        ;    }
 11484                        	.line	1612
 11485                        ;    else
 11486 03:2C06: 82 31 00     	brl	L10203
 11487                        L10202:
 11488                        ;	{
 11489                        	.line	1614
 11490                        ;	    img = fontImg[charCode & 0xFF];
 11491                        	.line	1615
 11492 03:2C09: A5 19        	lda	<L596+charCode_0
 11493 03:2C0B: 29 FF 00     	and	#<$ff
 11494 03:2C0E: 85 05        	sta	<R1
 11495 03:2C10: A0 00 00     	ldy	#$0
 11496 03:2C13: A5 05        	lda	<R1
 11497 03:2C15: 10 01        	bpl	L600
 11498 03:2C17: 88           	dey
 11499                        L600:
 11500 03:2C18: 85 05        	sta	<R1
 11501 03:2C1A: 84 07        	sty	<R1+2
 11502 03:2C1C: D4 07        	pei	<R1+2
 11503 03:2C1E: D4 05        	pei	<R1
 11504 03:2C20: A9 06 00     	lda	#$6
 11505                        	xref	~~~lasl
 11506 03:2C23: 22 xx xx xx  	jsl	~~~lasl
 11507 03:2C27: 85 01        	sta	<R0
 11508 03:2C29: 86 03        	stx	<R0+2
 11509 03:2C2B: 18           	clc
 11510 03:2C2C: A9 xx xx     	lda	#<~~fontImg
 11511 03:2C2F: 65 01        	adc	<R0
 11512 03:2C31: 85 12        	sta	<L597+img_1
 11513 03:2C33: A9 xx xx     	lda	#^~~fontImg
 11514 03:2C36: 65 03        	adc	<R0+2
 11515 03:2C38: 85 14        	sta	<L597+img_1+2
 11516                        ;	}
 11517                        	.line	1616
 11518                        L10203:
 11519                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 11520                        ;
 11521                        ;	// get the font 'image'
 11522                        ;        //char *img = fontImg[ix]; 
 11523                        ;        // loop through pixel rows
 11524                        ;	if(img!=NULL)
 11525                        	.line	1622
 11526                        ;	{
 11527 03:2C3A: A5 12        	lda	<L597+img_1
 11528 03:2C3C: 05 14        	ora	<L597+img_1+2
 11529 03:2C3E: D0 03        	bne	L601
  Mon Dec  7 2020 11:19                                                Page 213


 11530 03:2C40: 82 91 00     	brl	L10204
 11531                        L601:
 11532                        	.line	1623
 11533                        ;		for (y = 0; y < FONTH; y++) 
 11534                        	.line	1624
 11535 03:2C43: 64 0B        	stz	<L597+y_1
 11536 03:2C45: 82 7D 00     	brl	L10208
 11537                        L10207:
 11538                        ;		{
 11539                        	.line	1625
 11540                        ;			// loop through pixel columns
 11541                        ;			for (x = 0; x < FONTW; x++) 
 11542                        	.line	1627
 11543 03:2C48: 64 09        	stz	<L597+x_1
 11544 03:2C4A: 82 67 00     	brl	L10212
 11545                        L10211:
 11546                        ;			{
 11547                        	.line	1628
 11548                        ;				// get the pixel value
 11549                        ;				b = img[y * FONTW + x];
 11550                        	.line	1630
 11551 03:2C4D: 22 FD 71 03  	jsl	~~k_font_getFontWidth
 11552 03:2C51: 85 01        	sta	<R0
 11553 03:2C53: A5 01        	lda	<R0
 11554 03:2C55: A6 0B        	ldx	<L597+y_1
 11555                        	xref	~~~mul
 11556 03:2C57: 22 xx xx xx  	jsl	~~~mul
 11557 03:2C5B: 85 01        	sta	<R0
 11558 03:2C5D: 18           	clc
 11559 03:2C5E: A5 01        	lda	<R0
 11560 03:2C60: 65 09        	adc	<L597+x_1
 11561 03:2C62: 85 05        	sta	<R1
 11562 03:2C64: E2 20        	sep	#$20
 11563                        	longa	off
 11564 03:2C66: A4 05        	ldy	<R1
 11565 03:2C68: B7 12        	lda	[<L597+img_1],Y
 11566 03:2C6A: 85 11        	sta	<L597+b_1
 11567 03:2C6C: C2 20        	rep	#$20
 11568                        	longa	on
 11569                        ;				if (b > 0) 
 11570                        	.line	1631
 11571                        ;				{ // plot the pixel
 11572 03:2C6E: E2 20        	sep	#$20
 11573                        	longa	off
 11574 03:2C70: A9 00        	lda	#$0
 11575 03:2C72: C5 11        	cmp	<L597+b_1
 11576 03:2C74: C2 20        	rep	#$20
 11577                        	longa	on
 11578 03:2C76: 90 03        	bcc	L602
 11579 03:2C78: 82 37 00     	brl	L10213
 11580                        L602:
 11581                        	.line	1632
 11582                        ;					k_draw_pixel(tex
                    tX + x, textY + y, color);
 11583                        	.line	1633
 11584 03:2C7B: D4 1F        	pei	<L596+color_0
 11585 03:2C7D: 18           	clc
 11586 03:2C7E: A5 0F        	lda	<L597+textY_1
  Mon Dec  7 2020 11:19                                                Page 214


 11587 03:2C80: 65 0B        	adc	<L597+y_1
 11588 03:2C82: 85 01        	sta	<R0
 11589 03:2C84: A0 00 00     	ldy	#$0
 11590 03:2C87: A5 01        	lda	<R0
 11591 03:2C89: 10 01        	bpl	L603
 11592 03:2C8B: 88           	dey
 11593                        L603:
 11594 03:2C8C: 85 01        	sta	<R0
 11595 03:2C8E: 84 03        	sty	<R0+2
 11596 03:2C90: D4 03        	pei	<R0+2
 11597 03:2C92: D4 01        	pei	<R0
 11598 03:2C94: 18           	clc
 11599 03:2C95: A5 0D        	lda	<L597+textX_1
 11600 03:2C97: 65 09        	adc	<L597+x_1
 11601 03:2C99: 85 05        	sta	<R1
 11602 03:2C9B: A0 00 00     	ldy	#$0
 11603 03:2C9E: A5 05        	lda	<R1
 11604 03:2CA0: 10 01        	bpl	L604
 11605 03:2CA2: 88           	dey
 11606                        L604:
 11607 03:2CA3: 85 05        	sta	<R1
 11608 03:2CA5: 84 07        	sty	<R1+2
 11609 03:2CA7: D4 07        	pei	<R1+2
 11610 03:2CA9: D4 05        	pei	<R1
 11611 03:2CAB: 22 10 0E 03  	jsl	~~k_draw_pixel
 11612                        ;				}
 11613                        	.line	1634
 11614                        ;				else 
 11615 03:2CAF: 82 00 00     	brl	L10214
 11616                        L10213:
 11617                        ;				{ 
 11618                        	.line	1636
 11619                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 11620                        ;				}
 11621                        	.line	1638
 11622                        L10214:
 11623                        ;			} // end "for x"
 11624                        	.line	1639
 11625                        L10209:
 11626 03:2CB2: E6 09        	inc	<L597+x_1
 11627                        L10212:
 11628 03:2CB4: 22 FD 71 03  	jsl	~~k_font_getFontWidth
 11629 03:2CB8: 85 01        	sta	<R0
 11630 03:2CBA: A5 09        	lda	<L597+x_1
 11631 03:2CBC: C5 01        	cmp	<R0
 11632 03:2CBE: B0 03        	bcs	L605
 11633 03:2CC0: 82 8A FF     	brl	L10211
 11634                        L605:
 11635                        L10210:
 11636                        ;		} // end "for y"
 11637                        	.line	1640
 11638                        L10205:
 11639 03:2CC3: E6 0B        	inc	<L597+y_1
 11640                        L10208:
 11641 03:2CC5: 22 E8 71 03  	jsl	~~k_font_getFontHeight
 11642 03:2CC9: 85 01        	sta	<R0
 11643 03:2CCB: A5 0B        	lda	<L597+y_1
  Mon Dec  7 2020 11:19                                                Page 215


 11644 03:2CCD: C5 01        	cmp	<R0
 11645 03:2CCF: B0 03        	bcs	L606
 11646 03:2CD1: 82 74 FF     	brl	L10207
 11647                        L606:
 11648                        L10206:
 11649                        ;	}
 11650                        	.line	1641
 11651                        ;}
 11652                        L10204:
 11653                        	.line	1642
 11654                        L607:
 11655 03:2CD4: A5 17        	lda	<L596+2
 11656 03:2CD6: 85 1F        	sta	<L596+2+8
 11657 03:2CD8: A5 16        	lda	<L596+1
 11658 03:2CDA: 85 1E        	sta	<L596+1+8
 11659 03:2CDC: 2B           	pld
 11660 03:2CDD: 3B           	tsc
 11661 03:2CDE: 18           	clc
 11662 03:2CDF: 69 1D 00     	adc	#L596+8
 11663 03:2CE2: 1B           	tcs
 11664 03:2CE3: 6B           	rtl
 11665                        	.endblock	1642
 11666             00000015   L596	equ	21
 11667             00000009   L597	equ	9
 11668 03:2CE4:              	ends
 11669                        	efunc
 11670                        	.endfunc	1642,9,21
 11671                        	.line	1642
 11672                        ;
 11673                        ;void k_draw_char_scaled(char charCode,int row,int
                     column,char color,int scale)
 11674                        ;{
 11675                        	.line	1644
 11676                        	.line	1645
 11677                        	GUI
 11678                        	xdef	~~k_draw_char_scaled
 11679                        	func
 11680                        	.function	1645
 11681                        ~~k_draw_char_scaled:
 11682                        	longa	on
 11683                        	longi	on
 11684 03:2CE4: 3B           	tsc
 11685 03:2CE5: 38           	sec
 11686 03:2CE6: E9 25 00     	sbc	#L608
 11687 03:2CE9: 1B           	tcs
 11688 03:2CEA: 0B           	phd
 11689 03:2CEB: 5B           	tcd
 11690             00000004   charCode_0	set	4
 11691             00000006   row_0	set	6
 11692             00000008   column_0	set	8
 11693             0000000A   color_0	set	10
 11694             0000000C   scale_0	set	12
 11695                        	.block	1645
 11696                        ;	int x = 0;
 11697                        ;	int y = 0;
 11698                        ;
 11699                        ;	int height = FONTH * scale;
 11700                        ;	int width  = FONTW * scale;
  Mon Dec  7 2020 11:19                                                Page 216


 11701                        ;	
 11702                        ;	int textX = row    * height;
 11703                        ;	int textY = column * width;
 11704                        ;
 11705                        ;	int px   = 0;
 11706                        ;	int py   = 0;
 11707                        ;	int offx = 0;
 11708                        ;	int offy = 0;
 11709                        ;	int sx   = 0;
 11710                        ;	int sy   = 0;
 11711                        ;
 11712                        ;	char b   = 0;
 11713                        ;
 11714                        ;	char FAR* img = NULL;
 11715                        ;
 11716                        ;    if(charCode == 32)
 11717             00000000   x_1	set	0
 11718             00000002   y_1	set	2
 11719             00000004   height_1	set	4
 11720             00000006   width_1	set	6
 11721             00000008   textX_1	set	8
 11722             0000000A   textY_1	set	10
 11723             0000000C   px_1	set	12
 11724             0000000E   py_1	set	14
 11725             00000010   offx_1	set	16
 11726             00000012   offy_1	set	18
 11727             00000014   sx_1	set	20
 11728             00000016   sy_1	set	22
 11729             00000018   b_1	set	24
 11730             00000019   img_1	set	25
 11731                        	.sym	x,0,5,1,16
 11732                        	.sym	y,2,5,1,16
 11733                        	.sym	height,4,5,1,16
 11734                        	.sym	width,6,5,1,16
 11735                        	.sym	textX,8,5,1,16
 11736                        	.sym	textY,10,5,1,16
 11737                        	.sym	px,12,5,1,16
 11738                        	.sym	py,14,5,1,16
 11739                        	.sym	offx,16,5,1,16
 11740                        	.sym	offy,18,5,1,16
 11741                        	.sym	sx,20,5,1,16
 11742                        	.sym	sy,22,5,1,16
 11743                        	.sym	b,24,14,1,8
 11744                        	.sym	img,25,142,1,32
 11745                        	.sym	charCode,4,14,6,8
 11746                        	.sym	row,6,5,6,16
 11747                        	.sym	column,8,5,6,16
 11748                        	.sym	color,10,14,6,8
 11749                        	.sym	scale,12,5,6,16
 11750 03:2CEC: 64 09        	stz	<L609+x_1
 11751 03:2CEE: 64 0B        	stz	<L609+y_1
 11752 03:2CF0: 22 E8 71 03  	jsl	~~k_font_getFontHeight
 11753 03:2CF4: 85 01        	sta	<R0
 11754 03:2CF6: A5 01        	lda	<R0
 11755 03:2CF8: A6 31        	ldx	<L608+scale_0
 11756                        	xref	~~~mul
 11757 03:2CFA: 22 xx xx xx  	jsl	~~~mul
 11758 03:2CFE: 85 0D        	sta	<L609+height_1
  Mon Dec  7 2020 11:19                                                Page 217


 11759 03:2D00: 22 FD 71 03  	jsl	~~k_font_getFontWidth
 11760 03:2D04: 85 01        	sta	<R0
 11761 03:2D06: A5 01        	lda	<R0
 11762 03:2D08: A6 31        	ldx	<L608+scale_0
 11763                        	xref	~~~mul
 11764 03:2D0A: 22 xx xx xx  	jsl	~~~mul
 11765 03:2D0E: 85 0F        	sta	<L609+width_1
 11766 03:2D10: A5 2B        	lda	<L608+row_0
 11767 03:2D12: A6 0D        	ldx	<L609+height_1
 11768                        	xref	~~~mul
 11769 03:2D14: 22 xx xx xx  	jsl	~~~mul
 11770 03:2D18: 85 11        	sta	<L609+textX_1
 11771 03:2D1A: A5 2D        	lda	<L608+column_0
 11772 03:2D1C: A6 0F        	ldx	<L609+width_1
 11773                        	xref	~~~mul
 11774 03:2D1E: 22 xx xx xx  	jsl	~~~mul
 11775 03:2D22: 85 13        	sta	<L609+textY_1
 11776 03:2D24: 64 15        	stz	<L609+px_1
 11777 03:2D26: 64 17        	stz	<L609+py_1
 11778 03:2D28: 64 19        	stz	<L609+offx_1
 11779 03:2D2A: 64 1B        	stz	<L609+offy_1
 11780 03:2D2C: 64 1D        	stz	<L609+sx_1
 11781 03:2D2E: 64 1F        	stz	<L609+sy_1
 11782 03:2D30: E2 20        	sep	#$20
 11783                        	longa	off
 11784 03:2D32: 64 21        	stz	<L609+b_1
 11785 03:2D34: C2 20        	rep	#$20
 11786                        	longa	on
 11787 03:2D36: 64 22        	stz	<L609+img_1
 11788 03:2D38: 64 24        	stz	<L609+img_1+2
 11789                        	.line	1666
 11790                        ;	{
 11791 03:2D3A: E2 20        	sep	#$20
 11792                        	longa	off
 11793 03:2D3C: A5 29        	lda	<L608+charCode_0
 11794 03:2D3E: C9 20        	cmp	#<$20
 11795 03:2D40: C2 20        	rep	#$20
 11796                        	longa	on
 11797 03:2D42: F0 03        	beq	L611
 11798 03:2D44: 82 07 00     	brl	L10215
 11799                        L611:
 11800                        	.line	1667
 11801                        ;	   img = NULL;
 11802                        	.line	1668
 11803 03:2D47: 64 22        	stz	<L609+img_1
 11804 03:2D49: 64 24        	stz	<L609+img_1+2
 11805                        ;    }
 11806                        	.line	1669
 11807                        ;    else
 11808 03:2D4B: 82 31 00     	brl	L10216
 11809                        L10215:
 11810                        ;	{
 11811                        	.line	1671
 11812                        ;	    img = fontImg[charCode & 0xFF];
 11813                        	.line	1672
 11814 03:2D4E: A5 29        	lda	<L608+charCode_0
 11815 03:2D50: 29 FF 00     	and	#<$ff
 11816 03:2D53: 85 05        	sta	<R1
  Mon Dec  7 2020 11:19                                                Page 218


 11817 03:2D55: A0 00 00     	ldy	#$0
 11818 03:2D58: A5 05        	lda	<R1
 11819 03:2D5A: 10 01        	bpl	L612
 11820 03:2D5C: 88           	dey
 11821                        L612:
 11822 03:2D5D: 85 05        	sta	<R1
 11823 03:2D5F: 84 07        	sty	<R1+2
 11824 03:2D61: D4 07        	pei	<R1+2
 11825 03:2D63: D4 05        	pei	<R1
 11826 03:2D65: A9 06 00     	lda	#$6
 11827                        	xref	~~~lasl
 11828 03:2D68: 22 xx xx xx  	jsl	~~~lasl
 11829 03:2D6C: 85 01        	sta	<R0
 11830 03:2D6E: 86 03        	stx	<R0+2
 11831 03:2D70: 18           	clc
 11832 03:2D71: A9 xx xx     	lda	#<~~fontImg
 11833 03:2D74: 65 01        	adc	<R0
 11834 03:2D76: 85 22        	sta	<L609+img_1
 11835 03:2D78: A9 xx xx     	lda	#^~~fontImg
 11836 03:2D7B: 65 03        	adc	<R0+2
 11837 03:2D7D: 85 24        	sta	<L609+img_1+2
 11838                        ;	}
 11839                        	.line	1673
 11840                        L10216:
 11841                        ;
 11842                        ;	if(img!=NULL)
 11843                        	.line	1675
 11844                        ;	{
 11845 03:2D7F: A5 22        	lda	<L609+img_1
 11846 03:2D81: 05 24        	ora	<L609+img_1+2
 11847 03:2D83: D0 03        	bne	L613
 11848 03:2D85: 82 E3 00     	brl	L10217
 11849                        L613:
 11850                        	.line	1676
 11851                        ;		py = 0;
 11852                        	.line	1677
 11853 03:2D88: 64 17        	stz	<L609+py_1
 11854                        ;		for (y = 0; y < height; y+=scale) 
 11855                        	.line	1678
 11856 03:2D8A: 64 0B        	stz	<L609+y_1
 11857 03:2D8C: 82 CD 00     	brl	L10221
 11858                        L10220:
 11859                        ;		{
 11860                        	.line	1679
 11861                        ;			offy = y;
 11862                        	.line	1680
 11863 03:2D8F: A5 0B        	lda	<L609+y_1
 11864 03:2D91: 85 1B        	sta	<L609+offy_1
 11865                        ;			px = 0;
 11866                        	.line	1681
 11867 03:2D93: 64 15        	stz	<L609+px_1
 11868                        ;			for (x = 0; x < width; x+=scale)
                     
 11869                        	.line	1682
 11870 03:2D95: 64 09        	stz	<L609+x_1
 11871 03:2D97: 82 AA 00     	brl	L10225
 11872                        L10224:
 11873                        ;			{
  Mon Dec  7 2020 11:19                                                Page 219


 11874                        	.line	1683
 11875                        ;				// get the pixel value
 11876                        ;				offx = x;
 11877                        	.line	1685
 11878 03:2D9A: A5 09        	lda	<L609+x_1
 11879 03:2D9C: 85 19        	sta	<L609+offx_1
 11880                        ;				b = img[py * FONTW + px]
                    ;
 11881                        	.line	1686
 11882 03:2D9E: 22 FD 71 03  	jsl	~~k_font_getFontWidth
 11883 03:2DA2: 85 01        	sta	<R0
 11884 03:2DA4: A5 01        	lda	<R0
 11885 03:2DA6: A6 17        	ldx	<L609+py_1
 11886                        	xref	~~~mul
 11887 03:2DA8: 22 xx xx xx  	jsl	~~~mul
 11888 03:2DAC: 85 01        	sta	<R0
 11889 03:2DAE: 18           	clc
 11890 03:2DAF: A5 01        	lda	<R0
 11891 03:2DB1: 65 15        	adc	<L609+px_1
 11892 03:2DB3: 85 05        	sta	<R1
 11893 03:2DB5: E2 20        	sep	#$20
 11894                        	longa	off
 11895 03:2DB7: A4 05        	ldy	<R1
 11896 03:2DB9: B7 22        	lda	[<L609+img_1],Y
 11897 03:2DBB: 85 21        	sta	<L609+b_1
 11898 03:2DBD: C2 20        	rep	#$20
 11899                        	longa	on
 11900                        ;				if (b > 0) 
 11901                        	.line	1687
 11902                        ;				{ // plot the pixel	
                    				
 11903 03:2DBF: E2 20        	sep	#$20
 11904                        	longa	off
 11905 03:2DC1: A9 00        	lda	#$0
 11906 03:2DC3: C5 21        	cmp	<L609+b_1
 11907 03:2DC5: C2 20        	rep	#$20
 11908                        	longa	on
 11909 03:2DC7: 90 03        	bcc	L614
 11910 03:2DC9: 82 6F 00     	brl	L10226
 11911                        L614:
 11912                        	.line	1688
 11913                        ;					offy = y;
 11914                        	.line	1689
 11915 03:2DCC: A5 0B        	lda	<L609+y_1
 11916 03:2DCE: 85 1B        	sta	<L609+offy_1
 11917                        ;					for(sy=0;sy<scal
                    e;sy++)
 11918                        	.line	1690
 11919 03:2DD0: 64 1F        	stz	<L609+sy_1
 11920 03:2DD2: 82 54 00     	brl	L10230
 11921                        L10229:
 11922                        ;					{
 11923                        	.line	1691
 11924                        ;						offx = x
                    ;
 11925                        	.line	1692
 11926 03:2DD5: A5 09        	lda	<L609+x_1
 11927 03:2DD7: 85 19        	sta	<L609+offx_1
  Mon Dec  7 2020 11:19                                                Page 220


 11928                        ;						for(sx=0
                    ;sx<scale;sx++)
 11929                        	.line	1693
 11930 03:2DD9: 64 1D        	stz	<L609+sx_1
 11931 03:2DDB: 82 38 00     	brl	L10234
 11932                        L10233:
 11933                        ;						{
 11934                        	.line	1694
 11935                        ;							
                    k_draw_pixel(textX + offx, textY + offy, color);
 11936                        	.line	1695
 11937 03:2DDE: D4 2F        	pei	<L608+color_0
 11938 03:2DE0: 18           	clc
 11939 03:2DE1: A5 13        	lda	<L609+textY_1
 11940 03:2DE3: 65 1B        	adc	<L609+offy_1
 11941 03:2DE5: 85 01        	sta	<R0
 11942 03:2DE7: A0 00 00     	ldy	#$0
 11943 03:2DEA: A5 01        	lda	<R0
 11944 03:2DEC: 10 01        	bpl	L615
 11945 03:2DEE: 88           	dey
 11946                        L615:
 11947 03:2DEF: 85 01        	sta	<R0
 11948 03:2DF1: 84 03        	sty	<R0+2
 11949 03:2DF3: D4 03        	pei	<R0+2
 11950 03:2DF5: D4 01        	pei	<R0
 11951 03:2DF7: 18           	clc
 11952 03:2DF8: A5 11        	lda	<L609+textX_1
 11953 03:2DFA: 65 19        	adc	<L609+offx_1
 11954 03:2DFC: 85 05        	sta	<R1
 11955 03:2DFE: A0 00 00     	ldy	#$0
 11956 03:2E01: A5 05        	lda	<R1
 11957 03:2E03: 10 01        	bpl	L616
 11958 03:2E05: 88           	dey
 11959                        L616:
 11960 03:2E06: 85 05        	sta	<R1
 11961 03:2E08: 84 07        	sty	<R1+2
 11962 03:2E0A: D4 07        	pei	<R1+2
 11963 03:2E0C: D4 05        	pei	<R1
 11964 03:2E0E: 22 10 0E 03  	jsl	~~k_draw_pixel
 11965                        ;							
                    offx++;
 11966                        	.line	1696
 11967 03:2E12: E6 19        	inc	<L609+offx_1
 11968                        ;						}
 11969                        	.line	1697
 11970                        L10231:
 11971 03:2E14: E6 1D        	inc	<L609+sx_1
 11972                        L10234:
 11973 03:2E16: 38           	sec
 11974 03:2E17: A5 1D        	lda	<L609+sx_1
 11975 03:2E19: E5 31        	sbc	<L608+scale_0
 11976 03:2E1B: 70 03        	bvs	L617
 11977 03:2E1D: 49 00 80     	eor	#$8000
 11978                        L617:
 11979 03:2E20: 30 03        	bmi	L618
 11980 03:2E22: 82 B9 FF     	brl	L10233
 11981                        L618:
 11982                        L10232:
  Mon Dec  7 2020 11:19                                                Page 221


 11983                        ;						offy++;
 11984                        	.line	1698
 11985 03:2E25: E6 1B        	inc	<L609+offy_1
 11986                        ;					}
 11987                        	.line	1699
 11988                        L10227:
 11989 03:2E27: E6 1F        	inc	<L609+sy_1
 11990                        L10230:
 11991 03:2E29: 38           	sec
 11992 03:2E2A: A5 1F        	lda	<L609+sy_1
 11993 03:2E2C: E5 31        	sbc	<L608+scale_0
 11994 03:2E2E: 70 03        	bvs	L619
 11995 03:2E30: 49 00 80     	eor	#$8000
 11996                        L619:
 11997 03:2E33: 30 03        	bmi	L620
 11998 03:2E35: 82 9D FF     	brl	L10229
 11999                        L620:
 12000                        L10228:
 12001                        ;					
 12002                        ;					//k_draw_pixel(t
                    extX + x, textY + y, color);
 12003                        ;				}
 12004                        	.line	1702
 12005                        ;				else 
 12006 03:2E38: 82 00 00     	brl	L10235
 12007                        L10226:
 12008                        ;				{ 
 12009                        	.line	1704
 12010                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 12011                        ;				}
 12012                        	.line	1706
 12013                        L10235:
 12014                        ;				px++;
 12015                        	.line	1707
 12016 03:2E3B: E6 15        	inc	<L609+px_1
 12017                        ;			} // end "for x"
 12018                        	.line	1708
 12019                        L10222:
 12020 03:2E3D: 18           	clc
 12021 03:2E3E: A5 09        	lda	<L609+x_1
 12022 03:2E40: 65 31        	adc	<L608+scale_0
 12023 03:2E42: 85 09        	sta	<L609+x_1
 12024                        L10225:
 12025 03:2E44: 38           	sec
 12026 03:2E45: A5 09        	lda	<L609+x_1
 12027 03:2E47: E5 0F        	sbc	<L609+width_1
 12028 03:2E49: 70 03        	bvs	L621
 12029 03:2E4B: 49 00 80     	eor	#$8000
 12030                        L621:
 12031 03:2E4E: 30 03        	bmi	L622
 12032 03:2E50: 82 47 FF     	brl	L10224
 12033                        L622:
 12034                        L10223:
 12035                        ;			py++;
 12036                        	.line	1709
 12037 03:2E53: E6 17        	inc	<L609+py_1
 12038                        ;		} // end "for y"
  Mon Dec  7 2020 11:19                                                Page 222


 12039                        	.line	1710
 12040                        L10218:
 12041 03:2E55: 18           	clc
 12042 03:2E56: A5 0B        	lda	<L609+y_1
 12043 03:2E58: 65 31        	adc	<L608+scale_0
 12044 03:2E5A: 85 0B        	sta	<L609+y_1
 12045                        L10221:
 12046 03:2E5C: 38           	sec
 12047 03:2E5D: A5 0B        	lda	<L609+y_1
 12048 03:2E5F: E5 0D        	sbc	<L609+height_1
 12049 03:2E61: 70 03        	bvs	L623
 12050 03:2E63: 49 00 80     	eor	#$8000
 12051                        L623:
 12052 03:2E66: 30 03        	bmi	L624
 12053 03:2E68: 82 24 FF     	brl	L10220
 12054                        L624:
 12055                        L10219:
 12056                        ;	}
 12057                        	.line	1711
 12058                        ;}
 12059                        L10217:
 12060                        	.line	1712
 12061                        L625:
 12062 03:2E6B: A5 27        	lda	<L608+2
 12063 03:2E6D: 85 31        	sta	<L608+2+10
 12064 03:2E6F: A5 26        	lda	<L608+1
 12065 03:2E71: 85 30        	sta	<L608+1+10
 12066 03:2E73: 2B           	pld
 12067 03:2E74: 3B           	tsc
 12068 03:2E75: 18           	clc
 12069 03:2E76: 69 2F 00     	adc	#L608+10
 12070 03:2E79: 1B           	tcs
 12071 03:2E7A: 6B           	rtl
 12072                        	.endblock	1712
 12073             00000025   L608	equ	37
 12074             00000009   L609	equ	9
 12075 03:2E7B:              	ends
 12076                        	efunc
 12077                        	.endfunc	1712,9,37
 12078                        	.line	1712
 12079                        ;
 12080                        ;
 12081                        ;void k_draw_char_scaled_point(char charCode,int l
                    ocX,int locY,char color,int scale)
 12082                        ;{
 12083                        	.line	1715
 12084                        	.line	1716
 12085                        	GUI
 12086                        	xdef	~~k_draw_char_scaled_point
 12087                        	func
 12088                        	.function	1716
 12089                        ~~k_draw_char_scaled_point:
 12090                        	longa	on
 12091                        	longi	on
 12092 03:2E7B: 3B           	tsc
 12093 03:2E7C: 38           	sec
 12094 03:2E7D: E9 25 00     	sbc	#L626
 12095 03:2E80: 1B           	tcs
  Mon Dec  7 2020 11:19                                                Page 223


 12096 03:2E81: 0B           	phd
 12097 03:2E82: 5B           	tcd
 12098             00000004   charCode_0	set	4
 12099             00000006   locX_0	set	6
 12100             00000008   locY_0	set	8
 12101             0000000A   color_0	set	10
 12102             0000000C   scale_0	set	12
 12103                        	.block	1716
 12104                        ;	int x = 0;
 12105                        ;	int y = 0;
 12106                        ;
 12107                        ;	int height = FONTH * scale;
 12108                        ;	int width  = FONTW * scale;
 12109                        ;	
 12110                        ;	int textX = locX;
 12111                        ;	int textY = locY;
 12112                        ;
 12113                        ;	int px   = 0;
 12114                        ;	int py   = 0;
 12115                        ;	int offx = 0;
 12116                        ;	int offy = 0;
 12117                        ;	int sx   = 0;
 12118                        ;	int sy   = 0;
 12119                        ;
 12120                        ;	char b   = 0;
 12121                        ;
 12122                        ;	char FAR* img = NULL;
 12123                        ;
 12124                        ;    if(charCode == 32)
 12125             00000000   x_1	set	0
 12126             00000002   y_1	set	2
 12127             00000004   height_1	set	4
 12128             00000006   width_1	set	6
 12129             00000008   textX_1	set	8
 12130             0000000A   textY_1	set	10
 12131             0000000C   px_1	set	12
 12132             0000000E   py_1	set	14
 12133             00000010   offx_1	set	16
 12134             00000012   offy_1	set	18
 12135             00000014   sx_1	set	20
 12136             00000016   sy_1	set	22
 12137             00000018   b_1	set	24
 12138             00000019   img_1	set	25
 12139                        	.sym	x,0,5,1,16
 12140                        	.sym	y,2,5,1,16
 12141                        	.sym	height,4,5,1,16
 12142                        	.sym	width,6,5,1,16
 12143                        	.sym	textX,8,5,1,16
 12144                        	.sym	textY,10,5,1,16
 12145                        	.sym	px,12,5,1,16
 12146                        	.sym	py,14,5,1,16
 12147                        	.sym	offx,16,5,1,16
 12148                        	.sym	offy,18,5,1,16
 12149                        	.sym	sx,20,5,1,16
 12150                        	.sym	sy,22,5,1,16
 12151                        	.sym	b,24,14,1,8
 12152                        	.sym	img,25,142,1,32
 12153                        	.sym	charCode,4,14,6,8
  Mon Dec  7 2020 11:19                                                Page 224


 12154                        	.sym	locX,6,5,6,16
 12155                        	.sym	locY,8,5,6,16
 12156                        	.sym	color,10,14,6,8
 12157                        	.sym	scale,12,5,6,16
 12158 03:2E83: 64 09        	stz	<L627+x_1
 12159 03:2E85: 64 0B        	stz	<L627+y_1
 12160 03:2E87: 22 E8 71 03  	jsl	~~k_font_getFontHeight
 12161 03:2E8B: 85 01        	sta	<R0
 12162 03:2E8D: A5 01        	lda	<R0
 12163 03:2E8F: A6 31        	ldx	<L626+scale_0
 12164                        	xref	~~~mul
 12165 03:2E91: 22 xx xx xx  	jsl	~~~mul
 12166 03:2E95: 85 0D        	sta	<L627+height_1
 12167 03:2E97: 22 FD 71 03  	jsl	~~k_font_getFontWidth
 12168 03:2E9B: 85 01        	sta	<R0
 12169 03:2E9D: A5 01        	lda	<R0
 12170 03:2E9F: A6 31        	ldx	<L626+scale_0
 12171                        	xref	~~~mul
 12172 03:2EA1: 22 xx xx xx  	jsl	~~~mul
 12173 03:2EA5: 85 0F        	sta	<L627+width_1
 12174 03:2EA7: A5 2B        	lda	<L626+locX_0
 12175 03:2EA9: 85 11        	sta	<L627+textX_1
 12176 03:2EAB: A5 2D        	lda	<L626+locY_0
 12177 03:2EAD: 85 13        	sta	<L627+textY_1
 12178 03:2EAF: 64 15        	stz	<L627+px_1
 12179 03:2EB1: 64 17        	stz	<L627+py_1
 12180 03:2EB3: 64 19        	stz	<L627+offx_1
 12181 03:2EB5: 64 1B        	stz	<L627+offy_1
 12182 03:2EB7: 64 1D        	stz	<L627+sx_1
 12183 03:2EB9: 64 1F        	stz	<L627+sy_1
 12184 03:2EBB: E2 20        	sep	#$20
 12185                        	longa	off
 12186 03:2EBD: 64 21        	stz	<L627+b_1
 12187 03:2EBF: C2 20        	rep	#$20
 12188                        	longa	on
 12189 03:2EC1: 64 22        	stz	<L627+img_1
 12190 03:2EC3: 64 24        	stz	<L627+img_1+2
 12191                        	.line	1737
 12192                        ;	{
 12193 03:2EC5: E2 20        	sep	#$20
 12194                        	longa	off
 12195 03:2EC7: A5 29        	lda	<L626+charCode_0
 12196 03:2EC9: C9 20        	cmp	#<$20
 12197 03:2ECB: C2 20        	rep	#$20
 12198                        	longa	on
 12199 03:2ECD: F0 03        	beq	L629
 12200 03:2ECF: 82 07 00     	brl	L10236
 12201                        L629:
 12202                        	.line	1738
 12203                        ;	   img = NULL;
 12204                        	.line	1739
 12205 03:2ED2: 64 22        	stz	<L627+img_1
 12206 03:2ED4: 64 24        	stz	<L627+img_1+2
 12207                        ;    }
 12208                        	.line	1740
 12209                        ;    else
 12210 03:2ED6: 82 31 00     	brl	L10237
 12211                        L10236:
  Mon Dec  7 2020 11:19                                                Page 225


 12212                        ;	{
 12213                        	.line	1742
 12214                        ;	    img = fontImg[charCode & 0xFF];
 12215                        	.line	1743
 12216 03:2ED9: A5 29        	lda	<L626+charCode_0
 12217 03:2EDB: 29 FF 00     	and	#<$ff
 12218 03:2EDE: 85 05        	sta	<R1
 12219 03:2EE0: A0 00 00     	ldy	#$0
 12220 03:2EE3: A5 05        	lda	<R1
 12221 03:2EE5: 10 01        	bpl	L630
 12222 03:2EE7: 88           	dey
 12223                        L630:
 12224 03:2EE8: 85 05        	sta	<R1
 12225 03:2EEA: 84 07        	sty	<R1+2
 12226 03:2EEC: D4 07        	pei	<R1+2
 12227 03:2EEE: D4 05        	pei	<R1
 12228 03:2EF0: A9 06 00     	lda	#$6
 12229                        	xref	~~~lasl
 12230 03:2EF3: 22 xx xx xx  	jsl	~~~lasl
 12231 03:2EF7: 85 01        	sta	<R0
 12232 03:2EF9: 86 03        	stx	<R0+2
 12233 03:2EFB: 18           	clc
 12234 03:2EFC: A9 xx xx     	lda	#<~~fontImg
 12235 03:2EFF: 65 01        	adc	<R0
 12236 03:2F01: 85 22        	sta	<L627+img_1
 12237 03:2F03: A9 xx xx     	lda	#^~~fontImg
 12238 03:2F06: 65 03        	adc	<R0+2
 12239 03:2F08: 85 24        	sta	<L627+img_1+2
 12240                        ;	}
 12241                        	.line	1744
 12242                        L10237:
 12243                        ;
 12244                        ;	if(img!=NULL)
 12245                        	.line	1746
 12246                        ;	{
 12247 03:2F0A: A5 22        	lda	<L627+img_1
 12248 03:2F0C: 05 24        	ora	<L627+img_1+2
 12249 03:2F0E: D0 03        	bne	L631
 12250 03:2F10: 82 E3 00     	brl	L10238
 12251                        L631:
 12252                        	.line	1747
 12253                        ;		py = 0;
 12254                        	.line	1748
 12255 03:2F13: 64 17        	stz	<L627+py_1
 12256                        ;		for (y = 0; y < height; y+=scale) 
 12257                        	.line	1749
 12258 03:2F15: 64 0B        	stz	<L627+y_1
 12259 03:2F17: 82 CD 00     	brl	L10242
 12260                        L10241:
 12261                        ;		{
 12262                        	.line	1750
 12263                        ;			offy = y;
 12264                        	.line	1751
 12265 03:2F1A: A5 0B        	lda	<L627+y_1
 12266 03:2F1C: 85 1B        	sta	<L627+offy_1
 12267                        ;			px = 0;
 12268                        	.line	1752
 12269 03:2F1E: 64 15        	stz	<L627+px_1
  Mon Dec  7 2020 11:19                                                Page 226


 12270                        ;			for (x = 0; x < width; x+=scale)
                     
 12271                        	.line	1753
 12272 03:2F20: 64 09        	stz	<L627+x_1
 12273 03:2F22: 82 AA 00     	brl	L10246
 12274                        L10245:
 12275                        ;			{
 12276                        	.line	1754
 12277                        ;				// get the pixel value
 12278                        ;				offx = x;
 12279                        	.line	1756
 12280 03:2F25: A5 09        	lda	<L627+x_1
 12281 03:2F27: 85 19        	sta	<L627+offx_1
 12282                        ;				b = img[py * FONTW + px]
                    ;
 12283                        	.line	1757
 12284 03:2F29: 22 FD 71 03  	jsl	~~k_font_getFontWidth
 12285 03:2F2D: 85 01        	sta	<R0
 12286 03:2F2F: A5 01        	lda	<R0
 12287 03:2F31: A6 17        	ldx	<L627+py_1
 12288                        	xref	~~~mul
 12289 03:2F33: 22 xx xx xx  	jsl	~~~mul
 12290 03:2F37: 85 01        	sta	<R0
 12291 03:2F39: 18           	clc
 12292 03:2F3A: A5 01        	lda	<R0
 12293 03:2F3C: 65 15        	adc	<L627+px_1
 12294 03:2F3E: 85 05        	sta	<R1
 12295 03:2F40: E2 20        	sep	#$20
 12296                        	longa	off
 12297 03:2F42: A4 05        	ldy	<R1
 12298 03:2F44: B7 22        	lda	[<L627+img_1],Y
 12299 03:2F46: 85 21        	sta	<L627+b_1
 12300 03:2F48: C2 20        	rep	#$20
 12301                        	longa	on
 12302                        ;				if (b > 0) 
 12303                        	.line	1758
 12304                        ;				{ // plot the pixel	
                    				
 12305 03:2F4A: E2 20        	sep	#$20
 12306                        	longa	off
 12307 03:2F4C: A9 00        	lda	#$0
 12308 03:2F4E: C5 21        	cmp	<L627+b_1
 12309 03:2F50: C2 20        	rep	#$20
 12310                        	longa	on
 12311 03:2F52: 90 03        	bcc	L632
 12312 03:2F54: 82 6F 00     	brl	L10247
 12313                        L632:
 12314                        	.line	1759
 12315                        ;					offy = y;
 12316                        	.line	1760
 12317 03:2F57: A5 0B        	lda	<L627+y_1
 12318 03:2F59: 85 1B        	sta	<L627+offy_1
 12319                        ;					for(sy=0;sy<scal
                    e;sy++)
 12320                        	.line	1761
 12321 03:2F5B: 64 1F        	stz	<L627+sy_1
 12322 03:2F5D: 82 54 00     	brl	L10251
 12323                        L10250:
  Mon Dec  7 2020 11:19                                                Page 227


 12324                        ;					{
 12325                        	.line	1762
 12326                        ;						offx = x
                    ;
 12327                        	.line	1763
 12328 03:2F60: A5 09        	lda	<L627+x_1
 12329 03:2F62: 85 19        	sta	<L627+offx_1
 12330                        ;						for(sx=0
                    ;sx<scale;sx++)
 12331                        	.line	1764
 12332 03:2F64: 64 1D        	stz	<L627+sx_1
 12333 03:2F66: 82 38 00     	brl	L10255
 12334                        L10254:
 12335                        ;						{
 12336                        	.line	1765
 12337                        ;							
                    k_draw_pixel(textX + offx, textY + offy, color);
 12338                        	.line	1766
 12339 03:2F69: D4 2F        	pei	<L626+color_0
 12340 03:2F6B: 18           	clc
 12341 03:2F6C: A5 13        	lda	<L627+textY_1
 12342 03:2F6E: 65 1B        	adc	<L627+offy_1
 12343 03:2F70: 85 01        	sta	<R0
 12344 03:2F72: A0 00 00     	ldy	#$0
 12345 03:2F75: A5 01        	lda	<R0
 12346 03:2F77: 10 01        	bpl	L633
 12347 03:2F79: 88           	dey
 12348                        L633:
 12349 03:2F7A: 85 01        	sta	<R0
 12350 03:2F7C: 84 03        	sty	<R0+2
 12351 03:2F7E: D4 03        	pei	<R0+2
 12352 03:2F80: D4 01        	pei	<R0
 12353 03:2F82: 18           	clc
 12354 03:2F83: A5 11        	lda	<L627+textX_1
 12355 03:2F85: 65 19        	adc	<L627+offx_1
 12356 03:2F87: 85 05        	sta	<R1
 12357 03:2F89: A0 00 00     	ldy	#$0
 12358 03:2F8C: A5 05        	lda	<R1
 12359 03:2F8E: 10 01        	bpl	L634
 12360 03:2F90: 88           	dey
 12361                        L634:
 12362 03:2F91: 85 05        	sta	<R1
 12363 03:2F93: 84 07        	sty	<R1+2
 12364 03:2F95: D4 07        	pei	<R1+2
 12365 03:2F97: D4 05        	pei	<R1
 12366 03:2F99: 22 10 0E 03  	jsl	~~k_draw_pixel
 12367                        ;							
                    offx++;
 12368                        	.line	1767
 12369 03:2F9D: E6 19        	inc	<L627+offx_1
 12370                        ;						}
 12371                        	.line	1768
 12372                        L10252:
 12373 03:2F9F: E6 1D        	inc	<L627+sx_1
 12374                        L10255:
 12375 03:2FA1: 38           	sec
 12376 03:2FA2: A5 1D        	lda	<L627+sx_1
 12377 03:2FA4: E5 31        	sbc	<L626+scale_0
  Mon Dec  7 2020 11:19                                                Page 228


 12378 03:2FA6: 70 03        	bvs	L635
 12379 03:2FA8: 49 00 80     	eor	#$8000
 12380                        L635:
 12381 03:2FAB: 30 03        	bmi	L636
 12382 03:2FAD: 82 B9 FF     	brl	L10254
 12383                        L636:
 12384                        L10253:
 12385                        ;						offy++;
 12386                        	.line	1769
 12387 03:2FB0: E6 1B        	inc	<L627+offy_1
 12388                        ;					}
 12389                        	.line	1770
 12390                        L10248:
 12391 03:2FB2: E6 1F        	inc	<L627+sy_1
 12392                        L10251:
 12393 03:2FB4: 38           	sec
 12394 03:2FB5: A5 1F        	lda	<L627+sy_1
 12395 03:2FB7: E5 31        	sbc	<L626+scale_0
 12396 03:2FB9: 70 03        	bvs	L637
 12397 03:2FBB: 49 00 80     	eor	#$8000
 12398                        L637:
 12399 03:2FBE: 30 03        	bmi	L638
 12400 03:2FC0: 82 9D FF     	brl	L10250
 12401                        L638:
 12402                        L10249:
 12403                        ;					
 12404                        ;					//k_draw_pixel(t
                    extX + x, textY + y, color);
 12405                        ;				}
 12406                        	.line	1773
 12407                        ;				else 
 12408 03:2FC3: 82 00 00     	brl	L10256
 12409                        L10247:
 12410                        ;				{ 
 12411                        	.line	1775
 12412                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 12413                        ;				}
 12414                        	.line	1777
 12415                        L10256:
 12416                        ;				px++;
 12417                        	.line	1778
 12418 03:2FC6: E6 15        	inc	<L627+px_1
 12419                        ;			} // end "for x"
 12420                        	.line	1779
 12421                        L10243:
 12422 03:2FC8: 18           	clc
 12423 03:2FC9: A5 09        	lda	<L627+x_1
 12424 03:2FCB: 65 31        	adc	<L626+scale_0
 12425 03:2FCD: 85 09        	sta	<L627+x_1
 12426                        L10246:
 12427 03:2FCF: 38           	sec
 12428 03:2FD0: A5 09        	lda	<L627+x_1
 12429 03:2FD2: E5 0F        	sbc	<L627+width_1
 12430 03:2FD4: 70 03        	bvs	L639
 12431 03:2FD6: 49 00 80     	eor	#$8000
 12432                        L639:
 12433 03:2FD9: 30 03        	bmi	L640
  Mon Dec  7 2020 11:19                                                Page 229


 12434 03:2FDB: 82 47 FF     	brl	L10245
 12435                        L640:
 12436                        L10244:
 12437                        ;			py++;
 12438                        	.line	1780
 12439 03:2FDE: E6 17        	inc	<L627+py_1
 12440                        ;		} // end "for y"
 12441                        	.line	1781
 12442                        L10239:
 12443 03:2FE0: 18           	clc
 12444 03:2FE1: A5 0B        	lda	<L627+y_1
 12445 03:2FE3: 65 31        	adc	<L626+scale_0
 12446 03:2FE5: 85 0B        	sta	<L627+y_1
 12447                        L10242:
 12448 03:2FE7: 38           	sec
 12449 03:2FE8: A5 0B        	lda	<L627+y_1
 12450 03:2FEA: E5 0D        	sbc	<L627+height_1
 12451 03:2FEC: 70 03        	bvs	L641
 12452 03:2FEE: 49 00 80     	eor	#$8000
 12453                        L641:
 12454 03:2FF1: 30 03        	bmi	L642
 12455 03:2FF3: 82 24 FF     	brl	L10241
 12456                        L642:
 12457                        L10240:
 12458                        ;	}
 12459                        	.line	1782
 12460                        ;}
 12461                        L10238:
 12462                        	.line	1783
 12463                        L643:
 12464 03:2FF6: A5 27        	lda	<L626+2
 12465 03:2FF8: 85 31        	sta	<L626+2+10
 12466 03:2FFA: A5 26        	lda	<L626+1
 12467 03:2FFC: 85 30        	sta	<L626+1+10
 12468 03:2FFE: 2B           	pld
 12469 03:2FFF: 3B           	tsc
 12470 03:3000: 18           	clc
 12471 03:3001: 69 2F 00     	adc	#L626+10
 12472 03:3004: 1B           	tcs
 12473 03:3005: 6B           	rtl
 12474                        	.endblock	1783
 12475             00000025   L626	equ	37
 12476             00000009   L627	equ	9
 12477 03:3006:              	ends
 12478                        	efunc
 12479                        	.endfunc	1783,9,37
 12480                        	.line	1783
 12481                        ;
 12482                        ;
 12483                        ;void k_render_bitmap_info(int fcolor)
 12484                        ;{
 12485                        	.line	1786
 12486                        	.line	1787
 12487                        	GUI
 12488                        	xdef	~~k_render_bitmap_info
 12489                        	func
 12490                        	.function	1787
 12491                        ~~k_render_bitmap_info:
  Mon Dec  7 2020 11:19                                                Page 230


 12492                        	longa	on
 12493                        	longi	on
 12494 03:3006: 3B           	tsc
 12495 03:3007: 38           	sec
 12496 03:3008: E9 25 00     	sbc	#L644
 12497 03:300B: 1B           	tcs
 12498 03:300C: 0B           	phd
 12499 03:300D: 5B           	tcd
 12500             00000004   fcolor_0	set	4
 12501                        	.block	1787
 12502                        ;	int x;
 12503                        ;	int y;
 12504                        ;	int pos = 0;
 12505                        ;	int i = 0;
 12506                        ;	int k = 0;
 12507                        ;	int cv = 0;
 12508                        ;	int cl = 0;
 12509                        ;	int lv = 0;
 12510                        ;	int lm = 0;
 12511                        ;	int bx = 0;
 12512                        ;	int by = 0;
 12513                        ;	int mx = -1;
 12514                        ;	int my = -1;
 12515                        ;	int mb = -1;
 12516                        ;	int bw = 0;
 12517                        ;	int bh = 0;
 12518                        ;	char kbchar = 0;
 12519                        ;
 12520                        ;	version_title = "Version 1.0.0\0";
 12521             00000000   x_1	set	0
 12522             00000002   y_1	set	2
 12523             00000004   pos_1	set	4
 12524             00000006   i_1	set	6
 12525             00000008   k_1	set	8
 12526             0000000A   cv_1	set	10
 12527             0000000C   cl_1	set	12
 12528             0000000E   lv_1	set	14
 12529             00000010   lm_1	set	16
 12530             00000012   bx_1	set	18
 12531             00000014   by_1	set	20
 12532             00000016   mx_1	set	22
 12533             00000018   my_1	set	24
 12534             0000001A   mb_1	set	26
 12535             0000001C   bw_1	set	28
 12536             0000001E   bh_1	set	30
 12537             00000020   kbchar_1	set	32
 12538                        	.sym	x,0,5,1,16
 12539                        	.sym	y,2,5,1,16
 12540                        	.sym	pos,4,5,1,16
 12541                        	.sym	i,6,5,1,16
 12542                        	.sym	k,8,5,1,16
 12543                        	.sym	cv,10,5,1,16
 12544                        	.sym	cl,12,5,1,16
 12545                        	.sym	lv,14,5,1,16
 12546                        	.sym	lm,16,5,1,16
 12547                        	.sym	bx,18,5,1,16
 12548                        	.sym	by,20,5,1,16
 12549                        	.sym	mx,22,5,1,16
  Mon Dec  7 2020 11:19                                                Page 231


 12550                        	.sym	my,24,5,1,16
 12551                        	.sym	mb,26,5,1,16
 12552                        	.sym	bw,28,5,1,16
 12553                        	.sym	bh,30,5,1,16
 12554                        	.sym	kbchar,32,14,1,8
 12555                        	.sym	fcolor,4,5,6,16
 12556 03:300E: 64 09        	stz	<L645+pos_1
 12557 03:3010: 64 0B        	stz	<L645+i_1
 12558 03:3012: 64 0D        	stz	<L645+k_1
 12559 03:3014: 64 0F        	stz	<L645+cv_1
 12560 03:3016: 64 11        	stz	<L645+cl_1
 12561 03:3018: 64 13        	stz	<L645+lv_1
 12562 03:301A: 64 15        	stz	<L645+lm_1
 12563 03:301C: 64 17        	stz	<L645+bx_1
 12564 03:301E: 64 19        	stz	<L645+by_1
 12565 03:3020: A9 FF FF     	lda	#$ffff
 12566 03:3023: 85 1B        	sta	<L645+mx_1
 12567 03:3025: A9 FF FF     	lda	#$ffff
 12568 03:3028: 85 1D        	sta	<L645+my_1
 12569 03:302A: A9 FF FF     	lda	#$ffff
 12570 03:302D: 85 1F        	sta	<L645+mb_1
 12571 03:302F: 64 21        	stz	<L645+bw_1
 12572 03:3031: 64 23        	stz	<L645+bh_1
 12573 03:3033: E2 20        	sep	#$20
 12574                        	longa	off
 12575 03:3035: 64 25        	stz	<L645+kbchar_1
 12576 03:3037: C2 20        	rep	#$20
 12577                        	longa	on
 12578                        	.line	1806
 12579 03:3039: A9 xx xx     	lda	#<L500
 12580 03:303C: 8D xx xx     	sta	|~~version_title
 12581 03:303F: A9 xx xx     	lda	#^L500
 12582 03:3042: 8D xx xx     	sta	|~~version_title+2
 12583                        ;
 12584                        ;
 12585                        ;	pos=2;
 12586                        	.line	1809
 12587 03:3045: A9 02 00     	lda	#$2
 12588 03:3048: 85 09        	sta	<L645+pos_1
 12589                        ;	pos=k_put_draw_text(pos,35,"FOENIX C256 VERSION:
                    ",fcolor,0);
 12590                        	.line	1810
 12591 03:304A: F4 00 00     	pea	#<$0
 12592 03:304D: D4 29        	pei	<L644+fcolor_0
 12593 03:304F: F4 xx xx     	pea	#^L500+15
 12594 03:3052: F4 xx xx     	pea	#<L500+15
 12595 03:3055: F4 23 00     	pea	#<$23
 12596 03:3058: D4 09        	pei	<L645+pos_1
 12597 03:305A: 22 6E 19 03  	jsl	~~k_put_draw_text
 12598 03:305E: 85 09        	sta	<L645+pos_1
 12599                        ;	k_get_c256_major_version(buffer);
 12600                        	.line	1811
 12601 03:3060: F4 xx xx     	pea	#^~~buffer
 12602 03:3063: F4 xx xx     	pea	#<~~buffer
 12603 03:3066: 22 xx xx xx  	jsl	~~k_get_c256_major_version
 12604                        ;	pos=k_put_draw_text(pos,35,buffer,fcolor,0);
 12605                        	.line	1812
 12606 03:306A: F4 00 00     	pea	#<$0
  Mon Dec  7 2020 11:19                                                Page 232


 12607 03:306D: D4 29        	pei	<L644+fcolor_0
 12608 03:306F: F4 xx xx     	pea	#^~~buffer
 12609 03:3072: F4 xx xx     	pea	#<~~buffer
 12610 03:3075: F4 23 00     	pea	#<$23
 12611 03:3078: D4 09        	pei	<L645+pos_1
 12612 03:307A: 22 6E 19 03  	jsl	~~k_put_draw_text
 12613 03:307E: 85 09        	sta	<L645+pos_1
 12614                        ;	k_get_c256_minor_version(buffer);
 12615                        	.line	1813
 12616 03:3080: F4 xx xx     	pea	#^~~buffer
 12617 03:3083: F4 xx xx     	pea	#<~~buffer
 12618 03:3086: 22 xx xx xx  	jsl	~~k_get_c256_minor_version
 12619                        ;	pos=k_put_draw_text(pos,35,buffer,fcolor,0);
 12620                        	.line	1814
 12621 03:308A: F4 00 00     	pea	#<$0
 12622 03:308D: D4 29        	pei	<L644+fcolor_0
 12623 03:308F: F4 xx xx     	pea	#^~~buffer
 12624 03:3092: F4 xx xx     	pea	#<~~buffer
 12625 03:3095: F4 23 00     	pea	#<$23
 12626 03:3098: D4 09        	pei	<L645+pos_1
 12627 03:309A: 22 6E 19 03  	jsl	~~k_put_draw_text
 12628 03:309E: 85 09        	sta	<L645+pos_1
 12629                        ;	
 12630                        ;	pos=2;
 12631                        	.line	1816
 12632 03:30A0: A9 02 00     	lda	#$2
 12633 03:30A3: 85 09        	sta	<L645+pos_1
 12634                        ;	pos=k_put_draw_text(pos,37,"FPGA VERSION:",fcolo
                    r,0);
 12635                        	.line	1817
 12636 03:30A5: F4 00 00     	pea	#<$0
 12637 03:30A8: D4 29        	pei	<L644+fcolor_0
 12638 03:30AA: F4 xx xx     	pea	#^L500+36
 12639 03:30AD: F4 xx xx     	pea	#<L500+36
 12640 03:30B0: F4 25 00     	pea	#<$25
 12641 03:30B3: D4 09        	pei	<L645+pos_1
 12642 03:30B5: 22 6E 19 03  	jsl	~~k_put_draw_text
 12643 03:30B9: 85 09        	sta	<L645+pos_1
 12644                        ;	k_get_fpga_date_month(buffer);
 12645                        	.line	1818
 12646 03:30BB: F4 xx xx     	pea	#^~~buffer
 12647 03:30BE: F4 xx xx     	pea	#<~~buffer
 12648 03:30C1: 22 xx xx xx  	jsl	~~k_get_fpga_date_month
 12649                        ;	pos=k_put_draw_text(pos,37,k_pad_string(strbuf,b
                    uffer,'0',2),fcolor,0);
 12650                        	.line	1819
 12651 03:30C5: F4 00 00     	pea	#<$0
 12652 03:30C8: D4 29        	pei	<L644+fcolor_0
 12653 03:30CA: F4 02 00     	pea	#<$2
 12654 03:30CD: F4 30 00     	pea	#<$30
 12655 03:30D0: F4 xx xx     	pea	#^~~buffer
 12656 03:30D3: F4 xx xx     	pea	#<~~buffer
 12657 03:30D6: F4 xx xx     	pea	#^~~strbuf
 12658 03:30D9: F4 xx xx     	pea	#<~~strbuf
 12659 03:30DC: 22 xx xx xx  	jsl	~~k_pad_string
 12660 03:30E0: 85 01        	sta	<R0
 12661 03:30E2: 86 03        	stx	<R0+2
 12662 03:30E4: DA           	phx
  Mon Dec  7 2020 11:19                                                Page 233


 12663 03:30E5: 48           	pha
 12664 03:30E6: F4 25 00     	pea	#<$25
 12665 03:30E9: D4 09        	pei	<L645+pos_1
 12666 03:30EB: 22 6E 19 03  	jsl	~~k_put_draw_text
 12667 03:30EF: 85 09        	sta	<L645+pos_1
 12668                        ;	pos=k_put_draw_text(pos,37,"/",fcolor,0);
 12669                        	.line	1820
 12670 03:30F1: F4 00 00     	pea	#<$0
 12671 03:30F4: D4 29        	pei	<L644+fcolor_0
 12672 03:30F6: F4 xx xx     	pea	#^L500+50
 12673 03:30F9: F4 xx xx     	pea	#<L500+50
 12674 03:30FC: F4 25 00     	pea	#<$25
 12675 03:30FF: D4 09        	pei	<L645+pos_1
 12676 03:3101: 22 6E 19 03  	jsl	~~k_put_draw_text
 12677 03:3105: 85 09        	sta	<L645+pos_1
 12678                        ;	k_get_fpga_date_day(buffer);
 12679                        	.line	1821
 12680 03:3107: F4 xx xx     	pea	#^~~buffer
 12681 03:310A: F4 xx xx     	pea	#<~~buffer
 12682 03:310D: 22 xx xx xx  	jsl	~~k_get_fpga_date_day
 12683                        ;	pos=k_put_draw_text(pos,37,k_pad_string(strbuf,b
                    uffer,'0',2),fcolor,0);
 12684                        	.line	1822
 12685 03:3111: F4 00 00     	pea	#<$0
 12686 03:3114: D4 29        	pei	<L644+fcolor_0
 12687 03:3116: F4 02 00     	pea	#<$2
 12688 03:3119: F4 30 00     	pea	#<$30
 12689 03:311C: F4 xx xx     	pea	#^~~buffer
 12690 03:311F: F4 xx xx     	pea	#<~~buffer
 12691 03:3122: F4 xx xx     	pea	#^~~strbuf
 12692 03:3125: F4 xx xx     	pea	#<~~strbuf
 12693 03:3128: 22 xx xx xx  	jsl	~~k_pad_string
 12694 03:312C: 85 01        	sta	<R0
 12695 03:312E: 86 03        	stx	<R0+2
 12696 03:3130: DA           	phx
 12697 03:3131: 48           	pha
 12698 03:3132: F4 25 00     	pea	#<$25
 12699 03:3135: D4 09        	pei	<L645+pos_1
 12700 03:3137: 22 6E 19 03  	jsl	~~k_put_draw_text
 12701 03:313B: 85 09        	sta	<L645+pos_1
 12702                        ;	pos=k_put_draw_text(pos,37,"/",fcolor,0);
 12703                        	.line	1823
 12704 03:313D: F4 00 00     	pea	#<$0
 12705 03:3140: D4 29        	pei	<L644+fcolor_0
 12706 03:3142: F4 xx xx     	pea	#^L500+52
 12707 03:3145: F4 xx xx     	pea	#<L500+52
 12708 03:3148: F4 25 00     	pea	#<$25
 12709 03:314B: D4 09        	pei	<L645+pos_1
 12710 03:314D: 22 6E 19 03  	jsl	~~k_put_draw_text
 12711 03:3151: 85 09        	sta	<L645+pos_1
 12712                        ;	k_get_fpga_date_year(buffer);
 12713                        	.line	1824
 12714 03:3153: F4 xx xx     	pea	#^~~buffer
 12715 03:3156: F4 xx xx     	pea	#<~~buffer
 12716 03:3159: 22 xx xx xx  	jsl	~~k_get_fpga_date_year
 12717                        ;	pos=k_put_draw_text(pos,37,k_pad_string(strbuf,b
                    uffer,'0',2),fcolor,0);
 12718                        	.line	1825
  Mon Dec  7 2020 11:19                                                Page 234


 12719 03:315D: F4 00 00     	pea	#<$0
 12720 03:3160: D4 29        	pei	<L644+fcolor_0
 12721 03:3162: F4 02 00     	pea	#<$2
 12722 03:3165: F4 30 00     	pea	#<$30
 12723 03:3168: F4 xx xx     	pea	#^~~buffer
 12724 03:316B: F4 xx xx     	pea	#<~~buffer
 12725 03:316E: F4 xx xx     	pea	#^~~strbuf
 12726 03:3171: F4 xx xx     	pea	#<~~strbuf
 12727 03:3174: 22 xx xx xx  	jsl	~~k_pad_string
 12728 03:3178: 85 01        	sta	<R0
 12729 03:317A: 86 03        	stx	<R0+2
 12730 03:317C: DA           	phx
 12731 03:317D: 48           	pha
 12732 03:317E: F4 25 00     	pea	#<$25
 12733 03:3181: D4 09        	pei	<L645+pos_1
 12734 03:3183: 22 6E 19 03  	jsl	~~k_put_draw_text
 12735 03:3187: 85 09        	sta	<L645+pos_1
 12736                        ;
 12737                        ;
 12738                        ;	pos = 2;
 12739                        	.line	1828
 12740 03:3189: A9 02 00     	lda	#$2
 12741 03:318C: 85 09        	sta	<L645+pos_1
 12742                        ;	pos=k_put_draw_text(pos,2,"CURRENT COLOR:",15,0)
                    ;
 12743                        	.line	1829
 12744 03:318E: F4 00 00     	pea	#<$0
 12745 03:3191: F4 0F 00     	pea	#<$f
 12746 03:3194: F4 xx xx     	pea	#^L500+54
 12747 03:3197: F4 xx xx     	pea	#<L500+54
 12748 03:319A: F4 02 00     	pea	#<$2
 12749 03:319D: D4 09        	pei	<L645+pos_1
 12750 03:319F: 22 6E 19 03  	jsl	~~k_put_draw_text
 12751 03:31A3: 85 09        	sta	<L645+pos_1
 12752                        ;	k_itoa(fcolor,buffer,10);
 12753                        	.line	1830
 12754 03:31A5: F4 0A 00     	pea	#<$a
 12755 03:31A8: F4 xx xx     	pea	#^~~buffer
 12756 03:31AB: F4 xx xx     	pea	#<~~buffer
 12757 03:31AE: D4 29        	pei	<L644+fcolor_0
 12758 03:31B0: 22 xx xx xx  	jsl	~~k_itoa
 12759                        ;	pos=k_put_draw_text(pos,2,buffer,15,0);
 12760                        	.line	1831
 12761 03:31B4: F4 00 00     	pea	#<$0
 12762 03:31B7: F4 0F 00     	pea	#<$f
 12763 03:31BA: F4 xx xx     	pea	#^~~buffer
 12764 03:31BD: F4 xx xx     	pea	#<~~buffer
 12765 03:31C0: F4 02 00     	pea	#<$2
 12766 03:31C3: D4 09        	pei	<L645+pos_1
 12767 03:31C5: 22 6E 19 03  	jsl	~~k_put_draw_text
 12768 03:31C9: 85 09        	sta	<L645+pos_1
 12769                        ;
 12770                        ;	pos = 2;
 12771                        	.line	1833
 12772 03:31CB: A9 02 00     	lda	#$2
 12773 03:31CE: 85 09        	sta	<L645+pos_1
 12774                        ;	k_draw_pixel(0,0,fcolor);
 12775                        	.line	1834
  Mon Dec  7 2020 11:19                                                Page 235


 12776 03:31D0: D4 29        	pei	<L644+fcolor_0
 12777 03:31D2: F4 00 00     	pea	#^$0
 12778 03:31D5: F4 00 00     	pea	#<$0
 12779 03:31D8: F4 00 00     	pea	#^$0
 12780 03:31DB: F4 00 00     	pea	#<$0
 12781 03:31DE: 22 10 0E 03  	jsl	~~k_draw_pixel
 12782                        ;	pos=k_put_draw_text(pos,3,"READ COLOR AT 0,0 :",
                    15,0);
 12783                        	.line	1835
 12784 03:31E2: F4 00 00     	pea	#<$0
 12785 03:31E5: F4 0F 00     	pea	#<$f
 12786 03:31E8: F4 xx xx     	pea	#^L500+69
 12787 03:31EB: F4 xx xx     	pea	#<L500+69
 12788 03:31EE: F4 03 00     	pea	#<$3
 12789 03:31F1: D4 09        	pei	<L645+pos_1
 12790 03:31F3: 22 6E 19 03  	jsl	~~k_put_draw_text
 12791 03:31F7: 85 09        	sta	<L645+pos_1
 12792                        ;	k_itoa(k_get_pixel_color(0,0),buffer,10);
 12793                        	.line	1836
 12794 03:31F9: F4 0A 00     	pea	#<$a
 12795 03:31FC: F4 xx xx     	pea	#^~~buffer
 12796 03:31FF: F4 xx xx     	pea	#<~~buffer
 12797 03:3202: F4 00 00     	pea	#<$0
 12798 03:3205: F4 00 00     	pea	#<$0
 12799 03:3208: 22 AC 0E 03  	jsl	~~k_get_pixel_color
 12800 03:320C: 48           	pha
 12801 03:320D: 22 xx xx xx  	jsl	~~k_itoa
 12802                        ;	pos=k_put_draw_text(pos,3,buffer,15,0);
 12803                        	.line	1837
 12804 03:3211: F4 00 00     	pea	#<$0
 12805 03:3214: F4 0F 00     	pea	#<$f
 12806 03:3217: F4 xx xx     	pea	#^~~buffer
 12807 03:321A: F4 xx xx     	pea	#<~~buffer
 12808 03:321D: F4 03 00     	pea	#<$3
 12809 03:3220: D4 09        	pei	<L645+pos_1
 12810 03:3222: 22 6E 19 03  	jsl	~~k_put_draw_text
 12811 03:3226: 85 09        	sta	<L645+pos_1
 12812                        ;
 12813                        ;
 12814                        ;
 12815                        ;	pos = 2;
 12816                        	.line	1841
 12817 03:3228: A9 02 00     	lda	#$2
 12818 03:322B: 85 09        	sta	<L645+pos_1
 12819                        ;	pos=k_put_draw_text(pos,41,"SIZEOF CHAR:",fcolor
                    ,0);
 12820                        	.line	1842
 12821 03:322D: F4 00 00     	pea	#<$0
 12822 03:3230: D4 29        	pei	<L644+fcolor_0
 12823 03:3232: F4 xx xx     	pea	#^L500+89
 12824 03:3235: F4 xx xx     	pea	#<L500+89
 12825 03:3238: F4 29 00     	pea	#<$29
 12826 03:323B: D4 09        	pei	<L645+pos_1
 12827 03:323D: 22 6E 19 03  	jsl	~~k_put_draw_text
 12828 03:3241: 85 09        	sta	<L645+pos_1
 12829                        ;	k_itoa(sizeof(char),buffer,10);
 12830                        	.line	1843
 12831 03:3243: F4 0A 00     	pea	#<$a
  Mon Dec  7 2020 11:19                                                Page 236


 12832 03:3246: F4 xx xx     	pea	#^~~buffer
 12833 03:3249: F4 xx xx     	pea	#<~~buffer
 12834 03:324C: F4 01 00     	pea	#<$1
 12835 03:324F: 22 xx xx xx  	jsl	~~k_itoa
 12836                        ;	pos=k_put_draw_text(pos,41,buffer,fcolor,0);
 12837                        	.line	1844
 12838 03:3253: F4 00 00     	pea	#<$0
 12839 03:3256: D4 29        	pei	<L644+fcolor_0
 12840 03:3258: F4 xx xx     	pea	#^~~buffer
 12841 03:325B: F4 xx xx     	pea	#<~~buffer
 12842 03:325E: F4 29 00     	pea	#<$29
 12843 03:3261: D4 09        	pei	<L645+pos_1
 12844 03:3263: 22 6E 19 03  	jsl	~~k_put_draw_text
 12845 03:3267: 85 09        	sta	<L645+pos_1
 12846                        ;
 12847                        ;	pos = 2;
 12848                        	.line	1846
 12849 03:3269: A9 02 00     	lda	#$2
 12850 03:326C: 85 09        	sta	<L645+pos_1
 12851                        ;	pos=k_put_draw_text(pos,42,"SIZEOF INT:",fcolor,
                    0);
 12852                        	.line	1847
 12853 03:326E: F4 00 00     	pea	#<$0
 12854 03:3271: D4 29        	pei	<L644+fcolor_0
 12855 03:3273: F4 xx xx     	pea	#^L500+102
 12856 03:3276: F4 xx xx     	pea	#<L500+102
 12857 03:3279: F4 2A 00     	pea	#<$2a
 12858 03:327C: D4 09        	pei	<L645+pos_1
 12859 03:327E: 22 6E 19 03  	jsl	~~k_put_draw_text
 12860 03:3282: 85 09        	sta	<L645+pos_1
 12861                        ;	k_itoa(sizeof(int),buffer,10);
 12862                        	.line	1848
 12863 03:3284: F4 0A 00     	pea	#<$a
 12864 03:3287: F4 xx xx     	pea	#^~~buffer
 12865 03:328A: F4 xx xx     	pea	#<~~buffer
 12866 03:328D: F4 02 00     	pea	#<$2
 12867 03:3290: 22 xx xx xx  	jsl	~~k_itoa
 12868                        ;	pos=k_put_draw_text(pos,42,buffer,fcolor,0);
 12869                        	.line	1849
 12870 03:3294: F4 00 00     	pea	#<$0
 12871 03:3297: D4 29        	pei	<L644+fcolor_0
 12872 03:3299: F4 xx xx     	pea	#^~~buffer
 12873 03:329C: F4 xx xx     	pea	#<~~buffer
 12874 03:329F: F4 2A 00     	pea	#<$2a
 12875 03:32A2: D4 09        	pei	<L645+pos_1
 12876 03:32A4: 22 6E 19 03  	jsl	~~k_put_draw_text
 12877 03:32A8: 85 09        	sta	<L645+pos_1
 12878                        ;
 12879                        ;	pos = 2;
 12880                        	.line	1851
 12881 03:32AA: A9 02 00     	lda	#$2
 12882 03:32AD: 85 09        	sta	<L645+pos_1
 12883                        ;	pos=k_put_draw_text(pos,43,"SIZEOF LONG:",fcolor
                    ,0);
 12884                        	.line	1852
 12885 03:32AF: F4 00 00     	pea	#<$0
 12886 03:32B2: D4 29        	pei	<L644+fcolor_0
 12887 03:32B4: F4 xx xx     	pea	#^L500+114
  Mon Dec  7 2020 11:19                                                Page 237


 12888 03:32B7: F4 xx xx     	pea	#<L500+114
 12889 03:32BA: F4 2B 00     	pea	#<$2b
 12890 03:32BD: D4 09        	pei	<L645+pos_1
 12891 03:32BF: 22 6E 19 03  	jsl	~~k_put_draw_text
 12892 03:32C3: 85 09        	sta	<L645+pos_1
 12893                        ;	k_itoa(sizeof(long),buffer,10);
 12894                        	.line	1853
 12895 03:32C5: F4 0A 00     	pea	#<$a
 12896 03:32C8: F4 xx xx     	pea	#^~~buffer
 12897 03:32CB: F4 xx xx     	pea	#<~~buffer
 12898 03:32CE: F4 04 00     	pea	#<$4
 12899 03:32D1: 22 xx xx xx  	jsl	~~k_itoa
 12900                        ;	pos=k_put_draw_text(pos,43,buffer,fcolor,0);
 12901                        	.line	1854
 12902 03:32D5: F4 00 00     	pea	#<$0
 12903 03:32D8: D4 29        	pei	<L644+fcolor_0
 12904 03:32DA: F4 xx xx     	pea	#^~~buffer
 12905 03:32DD: F4 xx xx     	pea	#<~~buffer
 12906 03:32E0: F4 2B 00     	pea	#<$2b
 12907 03:32E3: D4 09        	pei	<L645+pos_1
 12908 03:32E5: 22 6E 19 03  	jsl	~~k_put_draw_text
 12909 03:32E9: 85 09        	sta	<L645+pos_1
 12910                        ;
 12911                        ;	pos = 2;
 12912                        	.line	1856
 12913 03:32EB: A9 02 00     	lda	#$2
 12914 03:32EE: 85 09        	sta	<L645+pos_1
 12915                        ;	pos=k_put_draw_text(pos,44,"SIZEOF CHAR*:",fcolo
                    r,0);
 12916                        	.line	1857
 12917 03:32F0: F4 00 00     	pea	#<$0
 12918 03:32F3: D4 29        	pei	<L644+fcolor_0
 12919 03:32F5: F4 xx xx     	pea	#^L500+127
 12920 03:32F8: F4 xx xx     	pea	#<L500+127
 12921 03:32FB: F4 2C 00     	pea	#<$2c
 12922 03:32FE: D4 09        	pei	<L645+pos_1
 12923 03:3300: 22 6E 19 03  	jsl	~~k_put_draw_text
 12924 03:3304: 85 09        	sta	<L645+pos_1
 12925                        ;	k_itoa(sizeof(char*),buffer,10);
 12926                        	.line	1858
 12927 03:3306: F4 0A 00     	pea	#<$a
 12928 03:3309: F4 xx xx     	pea	#^~~buffer
 12929 03:330C: F4 xx xx     	pea	#<~~buffer
 12930 03:330F: F4 04 00     	pea	#<$4
 12931 03:3312: 22 xx xx xx  	jsl	~~k_itoa
 12932                        ;	pos=k_put_draw_text(pos,44,buffer,fcolor,0);
 12933                        	.line	1859
 12934 03:3316: F4 00 00     	pea	#<$0
 12935 03:3319: D4 29        	pei	<L644+fcolor_0
 12936 03:331B: F4 xx xx     	pea	#^~~buffer
 12937 03:331E: F4 xx xx     	pea	#<~~buffer
 12938 03:3321: F4 2C 00     	pea	#<$2c
 12939 03:3324: D4 09        	pei	<L645+pos_1
 12940 03:3326: 22 6E 19 03  	jsl	~~k_put_draw_text
 12941 03:332A: 85 09        	sta	<L645+pos_1
 12942                        ;
 12943                        ;	pos = 2;
 12944                        	.line	1861
  Mon Dec  7 2020 11:19                                                Page 238


 12945 03:332C: A9 02 00     	lda	#$2
 12946 03:332F: 85 09        	sta	<L645+pos_1
 12947                        ;	pos=k_put_draw_text(pos,45,"SIZEOF CHAR FAR*:",f
                    color,0);
 12948                        	.line	1862
 12949 03:3331: F4 00 00     	pea	#<$0
 12950 03:3334: D4 29        	pei	<L644+fcolor_0
 12951 03:3336: F4 xx xx     	pea	#^L500+141
 12952 03:3339: F4 xx xx     	pea	#<L500+141
 12953 03:333C: F4 2D 00     	pea	#<$2d
 12954 03:333F: D4 09        	pei	<L645+pos_1
 12955 03:3341: 22 6E 19 03  	jsl	~~k_put_draw_text
 12956 03:3345: 85 09        	sta	<L645+pos_1
 12957                        ;	k_itoa(sizeof(char FAR*),buffer,10);
 12958                        	.line	1863
 12959 03:3347: F4 0A 00     	pea	#<$a
 12960 03:334A: F4 xx xx     	pea	#^~~buffer
 12961 03:334D: F4 xx xx     	pea	#<~~buffer
 12962 03:3350: F4 04 00     	pea	#<$4
 12963 03:3353: 22 xx xx xx  	jsl	~~k_itoa
 12964                        ;	pos=k_put_draw_text(pos,45,buffer,fcolor,0);
 12965                        	.line	1864
 12966 03:3357: F4 00 00     	pea	#<$0
 12967 03:335A: D4 29        	pei	<L644+fcolor_0
 12968 03:335C: F4 xx xx     	pea	#^~~buffer
 12969 03:335F: F4 xx xx     	pea	#<~~buffer
 12970 03:3362: F4 2D 00     	pea	#<$2d
 12971 03:3365: D4 09        	pei	<L645+pos_1
 12972 03:3367: 22 6E 19 03  	jsl	~~k_put_draw_text
 12973 03:336B: 85 09        	sta	<L645+pos_1
 12974                        ;
 12975                        ;
 12976                        ;	pos = 2;
 12977                        	.line	1867
 12978 03:336D: A9 02 00     	lda	#$2
 12979 03:3370: 85 09        	sta	<L645+pos_1
 12980                        ;	pos=k_put_draw_text(pos,46,"SIZEOF UINT:",fcolor
                    ,0);
 12981                        	.line	1868
 12982 03:3372: F4 00 00     	pea	#<$0
 12983 03:3375: D4 29        	pei	<L644+fcolor_0
 12984 03:3377: F4 xx xx     	pea	#^L500+159
 12985 03:337A: F4 xx xx     	pea	#<L500+159
 12986 03:337D: F4 2E 00     	pea	#<$2e
 12987 03:3380: D4 09        	pei	<L645+pos_1
 12988 03:3382: 22 6E 19 03  	jsl	~~k_put_draw_text
 12989 03:3386: 85 09        	sta	<L645+pos_1
 12990                        ;	k_itoa(sizeof(unsigned int),buffer,10);
 12991                        	.line	1869
 12992 03:3388: F4 0A 00     	pea	#<$a
 12993 03:338B: F4 xx xx     	pea	#^~~buffer
 12994 03:338E: F4 xx xx     	pea	#<~~buffer
 12995 03:3391: F4 02 00     	pea	#<$2
 12996 03:3394: 22 xx xx xx  	jsl	~~k_itoa
 12997                        ;	pos=k_put_draw_text(pos,46,buffer,fcolor,0);
 12998                        	.line	1870
 12999 03:3398: F4 00 00     	pea	#<$0
 13000 03:339B: D4 29        	pei	<L644+fcolor_0
  Mon Dec  7 2020 11:19                                                Page 239


 13001 03:339D: F4 xx xx     	pea	#^~~buffer
 13002 03:33A0: F4 xx xx     	pea	#<~~buffer
 13003 03:33A3: F4 2E 00     	pea	#<$2e
 13004 03:33A6: D4 09        	pei	<L645+pos_1
 13005 03:33A8: 22 6E 19 03  	jsl	~~k_put_draw_text
 13006 03:33AC: 85 09        	sta	<L645+pos_1
 13007                        ;
 13008                        ;	pos = 2;
 13009                        	.line	1872
 13010 03:33AE: A9 02 00     	lda	#$2
 13011 03:33B1: 85 09        	sta	<L645+pos_1
 13012                        ;	pos=k_put_draw_text(pos,47,"SIZEOF ULONG:",fcolo
                    r,0);
 13013                        	.line	1873
 13014 03:33B3: F4 00 00     	pea	#<$0
 13015 03:33B6: D4 29        	pei	<L644+fcolor_0
 13016 03:33B8: F4 xx xx     	pea	#^L500+172
 13017 03:33BB: F4 xx xx     	pea	#<L500+172
 13018 03:33BE: F4 2F 00     	pea	#<$2f
 13019 03:33C1: D4 09        	pei	<L645+pos_1
 13020 03:33C3: 22 6E 19 03  	jsl	~~k_put_draw_text
 13021 03:33C7: 85 09        	sta	<L645+pos_1
 13022                        ;	k_itoa(sizeof(unsigned long),buffer,10);
 13023                        	.line	1874
 13024 03:33C9: F4 0A 00     	pea	#<$a
 13025 03:33CC: F4 xx xx     	pea	#^~~buffer
 13026 03:33CF: F4 xx xx     	pea	#<~~buffer
 13027 03:33D2: F4 04 00     	pea	#<$4
 13028 03:33D5: 22 xx xx xx  	jsl	~~k_itoa
 13029                        ;	pos=k_put_draw_text(pos,47,buffer,fcolor,0);
 13030                        	.line	1875
 13031 03:33D9: F4 00 00     	pea	#<$0
 13032 03:33DC: D4 29        	pei	<L644+fcolor_0
 13033 03:33DE: F4 xx xx     	pea	#^~~buffer
 13034 03:33E1: F4 xx xx     	pea	#<~~buffer
 13035 03:33E4: F4 2F 00     	pea	#<$2f
 13036 03:33E7: D4 09        	pei	<L645+pos_1
 13037 03:33E9: 22 6E 19 03  	jsl	~~k_put_draw_text
 13038 03:33ED: 85 09        	sta	<L645+pos_1
 13039                        ;
 13040                        ;
 13041                        ;				
 13042                        ;	/*
 13043                        ;	pos = 2;
 13044                        ;	pos=k_put_draw_text(pos,49,"MOUSE X:",fcolor,0);
 13045                        ;	k_itoa(mx,buffer,10);
 13046                        ;	pos=k_put_draw_text(pos,49,buffer,fcolor,0);
 13047                        ;	pos = 2;
 13048                        ;	pos=k_put_draw_text(pos,50,"MOUSE Y:",fcolor,0);
 13049                        ;	k_itoa(my,buffer,10);
 13050                        ;	pos=k_put_draw_text(pos,50,buffer,fcolor,0);
 13051                        ;	pos = 2;
 13052                        ;	pos=k_put_draw_text(pos,51,"MOUSE LEFT:",fcolor,
                    0);
 13053                        ;	k_itoa(mb & 0x0001,buffer,10);
 13054                        ;	pos=k_put_draw_text(pos,51,buffer,fcolor,0);	
 13055                        ;	pos=k_put_draw_text(pos,51," MOUSE MIDDLE:",fcol
                    or,0);
  Mon Dec  7 2020 11:19                                                Page 240


 13056                        ;	k_itoa(mb & 0x0004,buffer,10);
 13057                        ;	pos=k_put_draw_text(pos,51,buffer,fcolor,0);
 13058                        ;	pos=k_put_draw_text(pos,51," MOUSE RIGHT:",fcolo
                    r,0);
 13059                        ;	k_itoa(mb & 0x0002,buffer,10);
 13060                        ;	pos=k_put_draw_text(pos,51,buffer,fcolor,0);
 13061                        ;
 13062                        ;	pos = 2;
 13063                        ;	pos=k_put_draw_text(pos,52," KEY INDEX:",fcolor,
                    0);
 13064                        ;	k_itoa(k_get_key_handler(),buffer,10);
 13065                        ;	pos=k_put_draw_text(pos,52,buffer,fcolor,0);
 13066                        ;
 13067                        ;	*/
 13068                        ;}
 13069                        	.line	1905
 13070                        L647:
 13071 03:33EF: A5 27        	lda	<L644+2
 13072 03:33F1: 85 29        	sta	<L644+2+2
 13073 03:33F3: A5 26        	lda	<L644+1
 13074 03:33F5: 85 28        	sta	<L644+1+2
 13075 03:33F7: 2B           	pld
 13076 03:33F8: 3B           	tsc
 13077 03:33F9: 18           	clc
 13078 03:33FA: 69 27 00     	adc	#L644+2
 13079 03:33FD: 1B           	tcs
 13080 03:33FE: 6B           	rtl
 13081                        	.endblock	1905
 13082             00000025   L644	equ	37
 13083             00000005   L645	equ	5
 13084 03:33FF:              	ends
 13085                        	efunc
 13086                        	.endfunc	1905,5,37
 13087                        	.line	1905
 13088                        	data
 13089                        L500:
 13090 00:0826: 56 65 72 73  	db	$56,$65,$72,$73,$69,$6F,$6E,$20,$31,$2E,
                    $30,$2E,$30,$00,$00
       00:082A: 69 6F 6E 20 
       00:082E: 31 2E 30 2E 
       00:0832: 30 00 00 
 13091 00:0835: 46 4F 45 4E  	db	$46,$4F,$45,$4E,$49,$58,$20,$43,$32,$35,
                    $36,$20,$56,$45,$52
       00:0839: 49 58 20 43 
       00:083D: 32 35 36 20 
       00:0841: 56 45 52 
 13092 00:0844: 53 49 4F 4E  	db	$53,$49,$4F,$4E,$3A,$00,$46,$50,$47,$41,
                    $20,$56,$45,$52,$53
       00:0848: 3A 00 46 50 
       00:084C: 47 41 20 56 
       00:0850: 45 52 53 
 13093 00:0853: 49 4F 4E 3A  	db	$49,$4F,$4E,$3A,$00,$2F,$00,$2F,$00,$43,
                    $55,$52,$52,$45,$4E
       00:0857: 00 2F 00 2F 
       00:085B: 00 43 55 52 
       00:085F: 52 45 4E 
 13094 00:0862: 54 20 43 4F  	db	$54,$20,$43,$4F,$4C,$4F,$52,$3A,$00,$52,
                    $45,$41,$44,$20,$43
  Mon Dec  7 2020 11:19                                                Page 241


       00:0866: 4C 4F 52 3A 
       00:086A: 00 52 45 41 
       00:086E: 44 20 43 
 13095 00:0871: 4F 4C 4F 52  	db	$4F,$4C,$4F,$52,$20,$41,$54,$20,$30,$2C,
                    $30,$20,$3A,$00,$53
       00:0875: 20 41 54 20 
       00:0879: 30 2C 30 20 
       00:087D: 3A 00 53 
 13096 00:0880: 49 5A 45 4F  	db	$49,$5A,$45,$4F,$46,$20,$43,$48,$41,$52,
                    $3A,$00,$53,$49,$5A
       00:0884: 46 20 43 48 
       00:0888: 41 52 3A 00 
       00:088C: 53 49 5A 
 13097 00:088F: 45 4F 46 20  	db	$45,$4F,$46,$20,$49,$4E,$54,$3A,$00,$53,
                    $49,$5A,$45,$4F,$46
       00:0893: 49 4E 54 3A 
       00:0897: 00 53 49 5A 
       00:089B: 45 4F 46 
 13098 00:089E: 20 4C 4F 4E  	db	$20,$4C,$4F,$4E,$47,$3A,$00,$53,$49,$5A,
                    $45,$4F,$46,$20,$43
       00:08A2: 47 3A 00 53 
       00:08A6: 49 5A 45 4F 
       00:08AA: 46 20 43 
 13099 00:08AD: 48 41 52 2A  	db	$48,$41,$52,$2A,$3A,$00,$53,$49,$5A,$45,
                    $4F,$46,$20,$43,$48
       00:08B1: 3A 00 53 49 
       00:08B5: 5A 45 4F 46 
       00:08B9: 20 43 48 
 13100 00:08BC: 41 52 20 46  	db	$41,$52,$20,$46,$41,$52,$2A,$3A,$00,$53,
                    $49,$5A,$45,$4F,$46
       00:08C0: 41 52 2A 3A 
       00:08C4: 00 53 49 5A 
       00:08C8: 45 4F 46 
 13101 00:08CB: 20 55 49 4E  	db	$20,$55,$49,$4E,$54,$3A,$00,$53,$49,$5A,
                    $45,$4F,$46,$20,$55
       00:08CF: 54 3A 00 53 
       00:08D3: 49 5A 45 4F 
       00:08D7: 46 20 55 
 13102 00:08DA: 4C 4F 4E 47  	db	$4C,$4F,$4E,$47,$3A,$00
       00:08DE: 3A 00 
 13103 00:08E0:              	ends
 13104                        ;
 13105                        ;void k_draw_lines(void)
 13106                        ;{
 13107                        	.line	1907
 13108                        	.line	1908
 13109                        	GUI
 13110                        	xdef	~~k_draw_lines
 13111                        	func
 13112                        	.function	1908
 13113                        ~~k_draw_lines:
 13114                        	longa	on
 13115                        	longi	on
 13116 03:33FF: 3B           	tsc
 13117 03:3400: 38           	sec
 13118 03:3401: E9 0A 00     	sbc	#L649
 13119 03:3404: 1B           	tcs
 13120 03:3405: 0B           	phd
  Mon Dec  7 2020 11:19                                                Page 242


 13121 03:3406: 5B           	tcd
 13122                        	.block	1908
 13123                        ;	int dx = 0;
 13124                        ;	int dy = 0;
 13125                        ;	int bc = 1;	
 13126                        ;	int dx0 = 0;
 13127                        ;	int dy0 = 0;
 13128                        ;	
 13129                        ;	for(dy=0;dy<480;dy+=5)
 13130             00000000   dx_1	set	0
 13131             00000002   dy_1	set	2
 13132             00000004   bc_1	set	4
 13133             00000006   dx0_1	set	6
 13134             00000008   dy0_1	set	8
 13135                        	.sym	dx,0,5,1,16
 13136                        	.sym	dy,2,5,1,16
 13137                        	.sym	bc,4,5,1,16
 13138                        	.sym	dx0,6,5,1,16
 13139                        	.sym	dy0,8,5,1,16
 13140 03:3407: 64 01        	stz	<L650+dx_1
 13141 03:3409: 64 03        	stz	<L650+dy_1
 13142 03:340B: A9 01 00     	lda	#$1
 13143 03:340E: 85 05        	sta	<L650+bc_1
 13144 03:3410: 64 07        	stz	<L650+dx0_1
 13145 03:3412: 64 09        	stz	<L650+dy0_1
 13146                        	.line	1915
 13147 03:3414: 64 03        	stz	<L650+dy_1
 13148                        L10259:
 13149                        ;	{
 13150                        	.line	1916
 13151                        ;		//if(dx0!=0 && dy0!=0)
 13152                        ;		//	k_draw_line(0,dy0,dx0,479,0);
 13153                        ;		
 13154                        ;		k_draw_line(0,dy,dx,479,bc);
 13155                        	.line	1920
 13156 03:3416: D4 05        	pei	<L650+bc_1
 13157 03:3418: F4 DF 01     	pea	#<$1df
 13158 03:341B: D4 01        	pei	<L650+dx_1
 13159 03:341D: D4 03        	pei	<L650+dy_1
 13160 03:341F: F4 00 00     	pea	#<$0
 13161 03:3422: 22 49 16 03  	jsl	~~k_draw_line
 13162                        ;
 13163                        ;		dx0 = dx;
 13164                        	.line	1922
 13165 03:3426: A5 01        	lda	<L650+dx_1
 13166 03:3428: 85 07        	sta	<L650+dx0_1
 13167                        ;		dy0 = dy;
 13168                        	.line	1923
 13169 03:342A: A5 03        	lda	<L650+dy_1
 13170 03:342C: 85 09        	sta	<L650+dy0_1
 13171                        ;		
 13172                        ;		dx+=5;
 13173                        	.line	1925
 13174 03:342E: 18           	clc
 13175 03:342F: A9 05 00     	lda	#$5
 13176 03:3432: 65 01        	adc	<L650+dx_1
 13177 03:3434: 85 01        	sta	<L650+dx_1
 13178                        ;		bc++;
  Mon Dec  7 2020 11:19                                                Page 243


 13179                        	.line	1926
 13180 03:3436: E6 05        	inc	<L650+bc_1
 13181                        ;		if(bc > 15)
 13182                        	.line	1927
 13183                        ;			bc = 1;
 13184 03:3438: 38           	sec
 13185 03:3439: A9 0F 00     	lda	#$f
 13186 03:343C: E5 05        	sbc	<L650+bc_1
 13187 03:343E: 70 03        	bvs	L652
 13188 03:3440: 49 00 80     	eor	#$8000
 13189                        L652:
 13190 03:3443: 10 03        	bpl	L653
 13191 03:3445: 82 05 00     	brl	L10260
 13192                        L653:
 13193                        	.line	1928
 13194 03:3448: A9 01 00     	lda	#$1
 13195 03:344B: 85 05        	sta	<L650+bc_1
 13196                        ;		
 13197                        ;		
 13198                        ;	}
 13199                        L10260:
 13200                        	.line	1931
 13201                        L10257:
 13202 03:344D: 18           	clc
 13203 03:344E: A9 05 00     	lda	#$5
 13204 03:3451: 65 03        	adc	<L650+dy_1
 13205 03:3453: 85 03        	sta	<L650+dy_1
 13206 03:3455: 38           	sec
 13207 03:3456: A5 03        	lda	<L650+dy_1
 13208 03:3458: E9 E0 01     	sbc	#<$1e0
 13209 03:345B: 70 03        	bvs	L654
 13210 03:345D: 49 00 80     	eor	#$8000
 13211                        L654:
 13212 03:3460: 30 03        	bmi	L655
 13213 03:3462: 82 B1 FF     	brl	L10259
 13214                        L655:
 13215                        L10258:
 13216                        ;
 13217                        ;
 13218                        ;	dx=479;
 13219                        	.line	1934
 13220 03:3465: A9 DF 01     	lda	#$1df
 13221 03:3468: 85 01        	sta	<L650+dx_1
 13222                        ;	bc = 1;
 13223                        	.line	1935
 13224 03:346A: A9 01 00     	lda	#$1
 13225 03:346D: 85 05        	sta	<L650+bc_1
 13226                        ;	for(dy=479;dy>=0;dy-=5)
 13227                        	.line	1936
 13228 03:346F: A9 DF 01     	lda	#$1df
 13229 03:3472: 85 03        	sta	<L650+dy_1
 13230                        L10263:
 13231                        ;	{
 13232                        	.line	1937
 13233                        ;		
 13234                        ;		//if(dx!=480 && dy!=480)
 13235                        ;		//	k_draw_line(640,dy,dx,0,15);
 13236                        ;		
  Mon Dec  7 2020 11:19                                                Page 244


 13237                        ;		k_draw_line(639,dy,dx,0,bc);
 13238                        	.line	1942
 13239 03:3474: D4 05        	pei	<L650+bc_1
 13240 03:3476: F4 00 00     	pea	#<$0
 13241 03:3479: D4 01        	pei	<L650+dx_1
 13242 03:347B: D4 03        	pei	<L650+dy_1
 13243 03:347D: F4 7F 02     	pea	#<$27f
 13244 03:3480: 22 49 16 03  	jsl	~~k_draw_line
 13245                        ;		
 13246                        ;		dx-=5;
 13247                        	.line	1944
 13248 03:3484: 18           	clc
 13249 03:3485: A9 FB FF     	lda	#$fffb
 13250 03:3488: 65 01        	adc	<L650+dx_1
 13251 03:348A: 85 01        	sta	<L650+dx_1
 13252                        ;		bc++;
 13253                        	.line	1945
 13254 03:348C: E6 05        	inc	<L650+bc_1
 13255                        ;		if(bc > 15)
 13256                        	.line	1946
 13257                        ;			bc = 1;
 13258 03:348E: 38           	sec
 13259 03:348F: A9 0F 00     	lda	#$f
 13260 03:3492: E5 05        	sbc	<L650+bc_1
 13261 03:3494: 70 03        	bvs	L656
 13262 03:3496: 49 00 80     	eor	#$8000
 13263                        L656:
 13264 03:3499: 10 03        	bpl	L657
 13265 03:349B: 82 05 00     	brl	L10264
 13266                        L657:
 13267                        	.line	1947
 13268 03:349E: A9 01 00     	lda	#$1
 13269 03:34A1: 85 05        	sta	<L650+bc_1
 13270                        ;	}
 13271                        L10264:
 13272                        	.line	1948
 13273                        L10261:
 13274 03:34A3: 18           	clc
 13275 03:34A4: A9 FB FF     	lda	#$fffb
 13276 03:34A7: 65 03        	adc	<L650+dy_1
 13277 03:34A9: 85 03        	sta	<L650+dy_1
 13278 03:34AB: A5 03        	lda	<L650+dy_1
 13279 03:34AD: 30 03        	bmi	L658
 13280 03:34AF: 82 C2 FF     	brl	L10263
 13281                        L658:
 13282                        L10262:
 13283                        ;	
 13284                        ;	/*
 13285                        ;	for(x=0;x<640;x+=10)
 13286                        ;	{
 13287                        ;		
 13288                        ;		for(y=0;y<480;y+=10)
 13289                        ;		{
 13290                        ;			if(x!=0 && y!=0)
 13291                        ;				k_draw_line(x,y,640 - x,
                    480 - y,0);
 13292                        ;			k_draw_line(x,y,640 - x,480 - y,
                    15);
  Mon Dec  7 2020 11:19                                                Page 245


 13293                        ;		}
 13294                        ;		
 13295                        ;	}
 13296                        ;	*/
 13297                        ;}
 13298                        	.line	1963
 13299                        L659:
 13300 03:34B2: 2B           	pld
 13301 03:34B3: 3B           	tsc
 13302 03:34B4: 18           	clc
 13303 03:34B5: 69 0A 00     	adc	#L649
 13304 03:34B8: 1B           	tcs
 13305 03:34B9: 6B           	rtl
 13306                        	.endblock	1963
 13307             0000000A   L649	equ	10
 13308             00000001   L650	equ	1
 13309 03:34BA:              	ends
 13310                        	efunc
 13311                        	.endfunc	1963,1,10
 13312                        	.line	1963
 13313                        ;
 13314                        ;void k_draw_fontset(void)
 13315                        ;{
 13316                        	.line	1965
 13317                        	.line	1966
 13318                        	GUI
 13319                        	xdef	~~k_draw_fontset
 13320                        	func
 13321                        	.function	1966
 13322                        ~~k_draw_fontset:
 13323                        	longa	on
 13324                        	longi	on
 13325 03:34BA: 3B           	tsc
 13326 03:34BB: 38           	sec
 13327 03:34BC: E9 0B 00     	sbc	#L660
 13328 03:34BF: 1B           	tcs
 13329 03:34C0: 0B           	phd
 13330 03:34C1: 5B           	tcd
 13331                        	.block	1966
 13332                        ;	int bx = 0;
 13333                        ;	int by = 29; 
 13334                        ;	int bc = 15;
 13335                        ;	char bf = 1;
 13336                        ;	
 13337                        ;	for(bf=0;bf<64;bf++)
 13338             00000000   bx_1	set	0
 13339             00000002   by_1	set	2
 13340             00000004   bc_1	set	4
 13341             00000006   bf_1	set	6
 13342                        	.sym	bx,0,5,1,16
 13343                        	.sym	by,2,5,1,16
 13344                        	.sym	bc,4,5,1,16
 13345                        	.sym	bf,6,14,1,8
 13346 03:34C2: 64 05        	stz	<L661+bx_1
 13347 03:34C4: A9 1D 00     	lda	#$1d
 13348 03:34C7: 85 07        	sta	<L661+by_1
 13349 03:34C9: A9 0F 00     	lda	#$f
 13350 03:34CC: 85 09        	sta	<L661+bc_1
  Mon Dec  7 2020 11:19                                                Page 246


 13351 03:34CE: E2 20        	sep	#$20
 13352                        	longa	off
 13353 03:34D0: A9 01        	lda	#$1
 13354 03:34D2: 85 0B        	sta	<L661+bf_1
 13355 03:34D4: C2 20        	rep	#$20
 13356                        	longa	on
 13357                        	.line	1972
 13358 03:34D6: E2 20        	sep	#$20
 13359                        	longa	off
 13360 03:34D8: 64 0B        	stz	<L661+bf_1
 13361 03:34DA: C2 20        	rep	#$20
 13362                        	longa	on
 13363 03:34DC: 82 81 00     	brl	L10268
 13364                        L10267:
 13365                        ;	{
 13366                        	.line	1973
 13367                        ;		k_draw_char((char)bf*1,bx,by,bc);
 13368                        	.line	1974
 13369 03:34DF: D4 09        	pei	<L661+bc_1
 13370 03:34E1: D4 07        	pei	<L661+by_1
 13371 03:34E3: D4 05        	pei	<L661+bx_1
 13372 03:34E5: A5 0B        	lda	<L661+bf_1
 13373 03:34E7: 29 FF 00     	and	#$ff
 13374 03:34EA: 48           	pha
 13375 03:34EB: 22 BF 2B 03  	jsl	~~k_draw_char
 13376                        ;		k_draw_char((char)bf+64,bx,by + 1,bc);
 13377                        	.line	1975
 13378 03:34EF: D4 09        	pei	<L661+bc_1
 13379 03:34F1: A5 07        	lda	<L661+by_1
 13380 03:34F3: 1A           	ina
 13381 03:34F4: 48           	pha
 13382 03:34F5: D4 05        	pei	<L661+bx_1
 13383 03:34F7: A5 0B        	lda	<L661+bf_1
 13384 03:34F9: 29 FF 00     	and	#$ff
 13385 03:34FC: 85 01        	sta	<R0
 13386 03:34FE: 18           	clc
 13387 03:34FF: A9 40 00     	lda	#$40
 13388 03:3502: 65 01        	adc	<R0
 13389 03:3504: 48           	pha
 13390 03:3505: 22 BF 2B 03  	jsl	~~k_draw_char
 13391                        ;		k_draw_char((char)bf+128,bx,by + 2,bc);
 13392                        	.line	1976
 13393 03:3509: D4 09        	pei	<L661+bc_1
 13394 03:350B: 18           	clc
 13395 03:350C: A9 02 00     	lda	#$2
 13396 03:350F: 65 07        	adc	<L661+by_1
 13397 03:3511: 48           	pha
 13398 03:3512: D4 05        	pei	<L661+bx_1
 13399 03:3514: A5 0B        	lda	<L661+bf_1
 13400 03:3516: 29 FF 00     	and	#$ff
 13401 03:3519: 85 01        	sta	<R0
 13402 03:351B: 18           	clc
 13403 03:351C: A9 80 00     	lda	#$80
 13404 03:351F: 65 01        	adc	<R0
 13405 03:3521: 48           	pha
 13406 03:3522: 22 BF 2B 03  	jsl	~~k_draw_char
 13407                        ;		k_draw_char((char)bf+192,bx,by + 3,bc);
 13408                        	.line	1977
  Mon Dec  7 2020 11:19                                                Page 247


 13409 03:3526: D4 09        	pei	<L661+bc_1
 13410 03:3528: 18           	clc
 13411 03:3529: A9 03 00     	lda	#$3
 13412 03:352C: 65 07        	adc	<L661+by_1
 13413 03:352E: 48           	pha
 13414 03:352F: D4 05        	pei	<L661+bx_1
 13415 03:3531: A5 0B        	lda	<L661+bf_1
 13416 03:3533: 29 FF 00     	and	#$ff
 13417 03:3536: 85 01        	sta	<R0
 13418 03:3538: 18           	clc
 13419 03:3539: A9 C0 00     	lda	#$c0
 13420 03:353C: 65 01        	adc	<R0
 13421 03:353E: 48           	pha
 13422 03:353F: 22 BF 2B 03  	jsl	~~k_draw_char
 13423                        ;
 13424                        ;
 13425                        ;		if(bc > 15)
 13426                        	.line	1980
 13427                        ;			bc = 1;
 13428 03:3543: 38           	sec
 13429 03:3544: A9 0F 00     	lda	#$f
 13430 03:3547: E5 09        	sbc	<L661+bc_1
 13431 03:3549: 70 03        	bvs	L663
 13432 03:354B: 49 00 80     	eor	#$8000
 13433                        L663:
 13434 03:354E: 10 03        	bpl	L664
 13435 03:3550: 82 05 00     	brl	L10269
 13436                        L664:
 13437                        	.line	1981
 13438 03:3553: A9 01 00     	lda	#$1
 13439 03:3556: 85 09        	sta	<L661+bc_1
 13440                        ;		
 13441                        ;		bx++;
 13442                        L10269:
 13443                        	.line	1983
 13444 03:3558: E6 05        	inc	<L661+bx_1
 13445                        ;	}
 13446                        	.line	1984
 13447                        L10265:
 13448 03:355A: E2 20        	sep	#$20
 13449                        	longa	off
 13450 03:355C: E6 0B        	inc	<L661+bf_1
 13451 03:355E: C2 20        	rep	#$20
 13452                        	longa	on
 13453                        L10268:
 13454 03:3560: E2 20        	sep	#$20
 13455                        	longa	off
 13456 03:3562: A5 0B        	lda	<L661+bf_1
 13457 03:3564: C9 40        	cmp	#<$40
 13458 03:3566: C2 20        	rep	#$20
 13459                        	longa	on
 13460 03:3568: B0 03        	bcs	L665
 13461 03:356A: 82 72 FF     	brl	L10267
 13462                        L665:
 13463                        L10266:
 13464                        ;
 13465                        ;}
 13466                        	.line	1986
  Mon Dec  7 2020 11:19                                                Page 248


 13467                        L666:
 13468 03:356D: 2B           	pld
 13469 03:356E: 3B           	tsc
 13470 03:356F: 18           	clc
 13471 03:3570: 69 0B 00     	adc	#L660
 13472 03:3573: 1B           	tcs
 13473 03:3574: 6B           	rtl
 13474                        	.endblock	1986
 13475             0000000B   L660	equ	11
 13476             00000005   L661	equ	5
 13477 03:3575:              	ends
 13478                        	efunc
 13479                        	.endfunc	1986,5,11
 13480                        	.line	1986
 13481                        ;
 13482                        ;
 13483                        ;void k_fill_bank(int bankId,char fcolor)
 13484                        ;{
 13485                        	.line	1989
 13486                        	.line	1990
 13487                        	GUI
 13488                        	xdef	~~k_fill_bank
 13489                        	func
 13490                        	.function	1990
 13491                        ~~k_fill_bank:
 13492                        	longa	on
 13493                        	longi	on
 13494 03:3575: 3B           	tsc
 13495 03:3576: 38           	sec
 13496 03:3577: E9 08 00     	sbc	#L667
 13497 03:357A: 1B           	tcs
 13498 03:357B: 0B           	phd
 13499 03:357C: 5B           	tcd
 13500             00000004   bankId_0	set	4
 13501             00000006   fcolor_0	set	6
 13502                        	.block	1990
 13503                        ;	long fill = 0xffffL;
 13504                        ;	
 13505                        ;	if(bankId == 0)
 13506             00000000   fill_1	set	0
 13507                        	.sym	fill,0,7,1,32
 13508                        	.sym	bankId,4,5,6,16
 13509                        	.sym	fcolor,6,14,6,8
 13510 03:357D: A9 FF FF     	lda	#$ffff
 13511 03:3580: 85 05        	sta	<L668+fill_1
 13512 03:3582: A9 00 00     	lda	#$0
 13513 03:3585: 85 07        	sta	<L668+fill_1+2
 13514                        	.line	1993
 13515                        ;	{
 13516 03:3587: A5 0C        	lda	<L667+bankId_0
 13517 03:3589: F0 03        	beq	L670
 13518 03:358B: 82 2C 00     	brl	L10270
 13519                        L670:
 13520                        	.line	1994
 13521                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    0,fcolor + 0,fill);
 13522                        	.line	1995
 13523 03:358E: D4 05        	pei	<L668+fill_1
  Mon Dec  7 2020 11:19                                                Page 249


 13524 03:3590: A5 0E        	lda	<L667+fcolor_0
 13525 03:3592: 29 FF 00     	and	#$ff
 13526 03:3595: 48           	pha
 13527 03:3596: F4 B0 00     	pea	#^$b00000
 13528 03:3599: F4 00 00     	pea	#<$b00000
 13529 03:359C: 22 xx xx xx  	jsl	~~memset
 13530                        ;		((unsigned char FAR *)BITMAP_BANK_0)[fil
                    l] = fcolor;
 13531                        	.line	1996
 13532 03:35A0: 18           	clc
 13533 03:35A1: A9 00 00     	lda	#$0
 13534 03:35A4: 65 05        	adc	<L668+fill_1
 13535 03:35A6: 85 01        	sta	<R0
 13536 03:35A8: A9 B0 00     	lda	#$b0
 13537 03:35AB: 65 07        	adc	<L668+fill_1+2
 13538 03:35AD: 85 03        	sta	<R0+2
 13539 03:35AF: E2 20        	sep	#$20
 13540                        	longa	off
 13541 03:35B1: A5 0E        	lda	<L667+fcolor_0
 13542 03:35B3: 87 01        	sta	[<R0]
 13543 03:35B5: C2 20        	rep	#$20
 13544                        	longa	on
 13545                        ;	}
 13546                        	.line	1997
 13547                        ;	else if(bankId == 1)
 13548 03:35B7: 82 0B 01     	brl	L10271
 13549                        L10270:
 13550                        	.line	1998
 13551                        ;	{
 13552 03:35BA: A5 0C        	lda	<L667+bankId_0
 13553 03:35BC: C9 01 00     	cmp	#<$1
 13554 03:35BF: F0 03        	beq	L671
 13555 03:35C1: 82 2C 00     	brl	L10272
 13556                        L671:
 13557                        	.line	1999
 13558                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    1,fcolor + 0,fill);
 13559                        	.line	2000
 13560 03:35C4: D4 05        	pei	<L668+fill_1
 13561 03:35C6: A5 0E        	lda	<L667+fcolor_0
 13562 03:35C8: 29 FF 00     	and	#$ff
 13563 03:35CB: 48           	pha
 13564 03:35CC: F4 B1 00     	pea	#^$b10000
 13565 03:35CF: F4 00 00     	pea	#<$b10000
 13566 03:35D2: 22 xx xx xx  	jsl	~~memset
 13567                        ;		((unsigned char FAR *)BITMAP_BANK_1)[fil
                    l] = fcolor;
 13568                        	.line	2001
 13569 03:35D6: 18           	clc
 13570 03:35D7: A9 00 00     	lda	#$0
 13571 03:35DA: 65 05        	adc	<L668+fill_1
 13572 03:35DC: 85 01        	sta	<R0
 13573 03:35DE: A9 B1 00     	lda	#$b1
 13574 03:35E1: 65 07        	adc	<L668+fill_1+2
 13575 03:35E3: 85 03        	sta	<R0+2
 13576 03:35E5: E2 20        	sep	#$20
 13577                        	longa	off
 13578 03:35E7: A5 0E        	lda	<L667+fcolor_0
  Mon Dec  7 2020 11:19                                                Page 250


 13579 03:35E9: 87 01        	sta	[<R0]
 13580 03:35EB: C2 20        	rep	#$20
 13581                        	longa	on
 13582                        ;	}
 13583                        	.line	2002
 13584                        ;	else if(bankId == 2)
 13585 03:35ED: 82 D5 00     	brl	L10273
 13586                        L10272:
 13587                        	.line	2003
 13588                        ;	{
 13589 03:35F0: A5 0C        	lda	<L667+bankId_0
 13590 03:35F2: C9 02 00     	cmp	#<$2
 13591 03:35F5: F0 03        	beq	L672
 13592 03:35F7: 82 2C 00     	brl	L10274
 13593                        L672:
 13594                        	.line	2004
 13595                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    2,fcolor + 0,fill);
 13596                        	.line	2005
 13597 03:35FA: D4 05        	pei	<L668+fill_1
 13598 03:35FC: A5 0E        	lda	<L667+fcolor_0
 13599 03:35FE: 29 FF 00     	and	#$ff
 13600 03:3601: 48           	pha
 13601 03:3602: F4 B2 00     	pea	#^$b20000
 13602 03:3605: F4 00 00     	pea	#<$b20000
 13603 03:3608: 22 xx xx xx  	jsl	~~memset
 13604                        ;		((unsigned char FAR *)BITMAP_BANK_2)[fil
                    l] = fcolor;
 13605                        	.line	2006
 13606 03:360C: 18           	clc
 13607 03:360D: A9 00 00     	lda	#$0
 13608 03:3610: 65 05        	adc	<L668+fill_1
 13609 03:3612: 85 01        	sta	<R0
 13610 03:3614: A9 B2 00     	lda	#$b2
 13611 03:3617: 65 07        	adc	<L668+fill_1+2
 13612 03:3619: 85 03        	sta	<R0+2
 13613 03:361B: E2 20        	sep	#$20
 13614                        	longa	off
 13615 03:361D: A5 0E        	lda	<L667+fcolor_0
 13616 03:361F: 87 01        	sta	[<R0]
 13617 03:3621: C2 20        	rep	#$20
 13618                        	longa	on
 13619                        ;	}
 13620                        	.line	2007
 13621                        ;	else if(bankId == 3)
 13622 03:3623: 82 9F 00     	brl	L10275
 13623                        L10274:
 13624                        	.line	2008
 13625                        ;	{
 13626 03:3626: A5 0C        	lda	<L667+bankId_0
 13627 03:3628: C9 03 00     	cmp	#<$3
 13628 03:362B: F0 03        	beq	L673
 13629 03:362D: 82 2C 00     	brl	L10276
 13630                        L673:
 13631                        	.line	2009
 13632                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    3,fcolor + 0,fill);
 13633                        	.line	2010
  Mon Dec  7 2020 11:19                                                Page 251


 13634 03:3630: D4 05        	pei	<L668+fill_1
 13635 03:3632: A5 0E        	lda	<L667+fcolor_0
 13636 03:3634: 29 FF 00     	and	#$ff
 13637 03:3637: 48           	pha
 13638 03:3638: F4 B3 00     	pea	#^$b30000
 13639 03:363B: F4 00 00     	pea	#<$b30000
 13640 03:363E: 22 xx xx xx  	jsl	~~memset
 13641                        ;		((unsigned char FAR *)BITMAP_BANK_3)[fil
                    l] = fcolor;
 13642                        	.line	2011
 13643 03:3642: 18           	clc
 13644 03:3643: A9 00 00     	lda	#$0
 13645 03:3646: 65 05        	adc	<L668+fill_1
 13646 03:3648: 85 01        	sta	<R0
 13647 03:364A: A9 B3 00     	lda	#$b3
 13648 03:364D: 65 07        	adc	<L668+fill_1+2
 13649 03:364F: 85 03        	sta	<R0+2
 13650 03:3651: E2 20        	sep	#$20
 13651                        	longa	off
 13652 03:3653: A5 0E        	lda	<L667+fcolor_0
 13653 03:3655: 87 01        	sta	[<R0]
 13654 03:3657: C2 20        	rep	#$20
 13655                        	longa	on
 13656                        ;	}
 13657                        	.line	2012
 13658                        ;	else if(bankId == 4)
 13659 03:3659: 82 69 00     	brl	L10277
 13660                        L10276:
 13661                        	.line	2013
 13662                        ;	{
 13663 03:365C: A5 0C        	lda	<L667+bankId_0
 13664 03:365E: C9 04 00     	cmp	#<$4
 13665 03:3661: F0 03        	beq	L674
 13666 03:3663: 82 2C 00     	brl	L10278
 13667                        L674:
 13668                        	.line	2014
 13669                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    4,fcolor + 0,fill);
 13670                        	.line	2015
 13671 03:3666: D4 05        	pei	<L668+fill_1
 13672 03:3668: A5 0E        	lda	<L667+fcolor_0
 13673 03:366A: 29 FF 00     	and	#$ff
 13674 03:366D: 48           	pha
 13675 03:366E: F4 B4 00     	pea	#^$b40000
 13676 03:3671: F4 00 00     	pea	#<$b40000
 13677 03:3674: 22 xx xx xx  	jsl	~~memset
 13678                        ;		((unsigned char FAR *)BITMAP_BANK_4)[fil
                    l] = fcolor;
 13679                        	.line	2016
 13680 03:3678: 18           	clc
 13681 03:3679: A9 00 00     	lda	#$0
 13682 03:367C: 65 05        	adc	<L668+fill_1
 13683 03:367E: 85 01        	sta	<R0
 13684 03:3680: A9 B4 00     	lda	#$b4
 13685 03:3683: 65 07        	adc	<L668+fill_1+2
 13686 03:3685: 85 03        	sta	<R0+2
 13687 03:3687: E2 20        	sep	#$20
 13688                        	longa	off
  Mon Dec  7 2020 11:19                                                Page 252


 13689 03:3689: A5 0E        	lda	<L667+fcolor_0
 13690 03:368B: 87 01        	sta	[<R0]
 13691 03:368D: C2 20        	rep	#$20
 13692                        	longa	on
 13693                        ;	}
 13694                        	.line	2017
 13695                        ;	else if(bankId == 5)
 13696 03:368F: 82 33 00     	brl	L10279
 13697                        L10278:
 13698                        	.line	2018
 13699                        ;	{
 13700 03:3692: A5 0C        	lda	<L667+bankId_0
 13701 03:3694: C9 05 00     	cmp	#<$5
 13702 03:3697: F0 03        	beq	L675
 13703 03:3699: 82 29 00     	brl	L10280
 13704                        L675:
 13705                        	.line	2019
 13706                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    5,fcolor + 0,fill);
 13707                        	.line	2020
 13708 03:369C: D4 05        	pei	<L668+fill_1
 13709 03:369E: A5 0E        	lda	<L667+fcolor_0
 13710 03:36A0: 29 FF 00     	and	#$ff
 13711 03:36A3: 48           	pha
 13712 03:36A4: F4 B5 00     	pea	#^$b50000
 13713 03:36A7: F4 00 00     	pea	#<$b50000
 13714 03:36AA: 22 xx xx xx  	jsl	~~memset
 13715                        ;		((unsigned char FAR *)BITMAP_BANK_5)[fil
                    l] = fcolor;
 13716                        	.line	2021
 13717 03:36AE: 18           	clc
 13718 03:36AF: A9 00 00     	lda	#$0
 13719 03:36B2: 65 05        	adc	<L668+fill_1
 13720 03:36B4: 85 01        	sta	<R0
 13721 03:36B6: A9 B5 00     	lda	#$b5
 13722 03:36B9: 65 07        	adc	<L668+fill_1+2
 13723 03:36BB: 85 03        	sta	<R0+2
 13724 03:36BD: E2 20        	sep	#$20
 13725                        	longa	off
 13726 03:36BF: A5 0E        	lda	<L667+fcolor_0
 13727 03:36C1: 87 01        	sta	[<R0]
 13728 03:36C3: C2 20        	rep	#$20
 13729                        	longa	on
 13730                        ;	}
 13731                        	.line	2022
 13732                        ;
 13733                        ;}
 13734                        L10280:
 13735                        L10279:
 13736                        L10277:
 13737                        L10275:
 13738                        L10273:
 13739                        L10271:
 13740                        	.line	2024
 13741                        L676:
 13742 03:36C5: A5 0A        	lda	<L667+2
 13743 03:36C7: 85 0E        	sta	<L667+2+4
 13744 03:36C9: A5 09        	lda	<L667+1
  Mon Dec  7 2020 11:19                                                Page 253


 13745 03:36CB: 85 0D        	sta	<L667+1+4
 13746 03:36CD: 2B           	pld
 13747 03:36CE: 3B           	tsc
 13748 03:36CF: 18           	clc
 13749 03:36D0: 69 0C 00     	adc	#L667+4
 13750 03:36D3: 1B           	tcs
 13751 03:36D4: 6B           	rtl
 13752                        	.endblock	2024
 13753             00000008   L667	equ	8
 13754             00000005   L668	equ	5
 13755 03:36D5:              	ends
 13756                        	efunc
 13757                        	.endfunc	2024,5,8
 13758                        	.line	2024
 13759                        ;
 13760                        ;
 13761                        ;
 13762                        ;
 13763                        ;void k_fill_line(int cx,int cy,int width,int colo
                    r)
 13764                        ;{
 13765                        	.line	2029
 13766                        	.line	2030
 13767                        	GUI
 13768                        	xdef	~~k_fill_line
 13769                        	func
 13770                        	.function	2030
 13771                        ~~k_fill_line:
 13772                        	longa	on
 13773                        	longi	on
 13774 03:36D5: 3B           	tsc
 13775 03:36D6: 38           	sec
 13776 03:36D7: E9 0C 00     	sbc	#L677
 13777 03:36DA: 1B           	tcs
 13778 03:36DB: 0B           	phd
 13779 03:36DC: 5B           	tcd
 13780             00000004   cx_0	set	4
 13781             00000006   cy_0	set	6
 13782             00000008   width_0	set	8
 13783             0000000A   color_0	set	10
 13784                        	.block	2030
 13785                        ;
 13786                        ;	long locStart = (long)(( ((long)cy) * 640L) + ((
                    long)cx) );
 13787                        ;	memset(&(((unsigned char FAR *)BITMAP_BANK_0)[lo
                    cStart]),color,width);
 13788             00000000   locStart_1	set	0
 13789                        	.sym	locStart,0,7,1,32
 13790                        	.sym	cx,4,5,6,16
 13791                        	.sym	cy,6,5,6,16
 13792                        	.sym	width,8,5,6,16
 13793                        	.sym	color,10,5,6,16
 13794 03:36DD: A0 00 00     	ldy	#$0
 13795 03:36E0: A5 10        	lda	<L677+cx_0
 13796 03:36E2: 10 01        	bpl	L680
 13797 03:36E4: 88           	dey
 13798                        L680:
 13799 03:36E5: 85 01        	sta	<R0
  Mon Dec  7 2020 11:19                                                Page 254


 13800 03:36E7: 84 03        	sty	<R0+2
 13801 03:36E9: A0 00 00     	ldy	#$0
 13802 03:36EC: A5 12        	lda	<L677+cy_0
 13803 03:36EE: 10 01        	bpl	L681
 13804 03:36F0: 88           	dey
 13805                        L681:
 13806 03:36F1: 85 05        	sta	<R1
 13807 03:36F3: 84 07        	sty	<R1+2
 13808 03:36F5: F4 00 00     	pea	#^$280
 13809 03:36F8: F4 80 02     	pea	#<$280
 13810 03:36FB: D4 07        	pei	<R1+2
 13811 03:36FD: D4 05        	pei	<R1
 13812                        	xref	~~~lmul
 13813 03:36FF: 22 xx xx xx  	jsl	~~~lmul
 13814 03:3703: 85 05        	sta	<R1
 13815 03:3705: 86 07        	stx	<R1+2
 13816 03:3707: 18           	clc
 13817 03:3708: A5 05        	lda	<R1
 13818 03:370A: 65 01        	adc	<R0
 13819 03:370C: 85 09        	sta	<L678+locStart_1
 13820 03:370E: A5 07        	lda	<R1+2
 13821 03:3710: 65 03        	adc	<R0+2
 13822 03:3712: 85 0B        	sta	<L678+locStart_1+2
 13823                        	.line	2033
 13824 03:3714: D4 14        	pei	<L677+width_0
 13825 03:3716: D4 16        	pei	<L677+color_0
 13826 03:3718: 18           	clc
 13827 03:3719: A9 00 00     	lda	#$0
 13828 03:371C: 65 09        	adc	<L678+locStart_1
 13829 03:371E: 85 01        	sta	<R0
 13830 03:3720: A9 B0 00     	lda	#$b0
 13831 03:3723: 65 0B        	adc	<L678+locStart_1+2
 13832 03:3725: 85 03        	sta	<R0+2
 13833 03:3727: D4 03        	pei	<R0+2
 13834 03:3729: D4 01        	pei	<R0
 13835 03:372B: 22 xx xx xx  	jsl	~~memset
 13836                        ;}
 13837                        	.line	2034
 13838                        L682:
 13839 03:372F: A5 0E        	lda	<L677+2
 13840 03:3731: 85 16        	sta	<L677+2+8
 13841 03:3733: A5 0D        	lda	<L677+1
 13842 03:3735: 85 15        	sta	<L677+1+8
 13843 03:3737: 2B           	pld
 13844 03:3738: 3B           	tsc
 13845 03:3739: 18           	clc
 13846 03:373A: 69 14 00     	adc	#L677+8
 13847 03:373D: 1B           	tcs
 13848 03:373E: 6B           	rtl
 13849                        	.endblock	2034
 13850             0000000C   L677	equ	12
 13851             00000009   L678	equ	9
 13852 03:373F:              	ends
 13853                        	efunc
 13854                        	.endfunc	2034,9,12
 13855                        	.line	2034
 13856                        ;
 13857                        ;void k_vdraw_filled_rect(int cx,int cy,int height
  Mon Dec  7 2020 11:19                                                Page 255


                    ,int width,int color)
 13858                        ;{
 13859                        	.line	2036
 13860                        	.line	2037
 13861                        	GUI
 13862                        	xdef	~~k_vdraw_filled_rect
 13863                        	func
 13864                        	.function	2037
 13865                        ~~k_vdraw_filled_rect:
 13866                        	longa	on
 13867                        	longi	on
 13868 03:373F: 3B           	tsc
 13869 03:3740: 38           	sec
 13870 03:3741: E9 14 00     	sbc	#L683
 13871 03:3744: 1B           	tcs
 13872 03:3745: 0B           	phd
 13873 03:3746: 5B           	tcd
 13874             00000004   cx_0	set	4
 13875             00000006   cy_0	set	6
 13876             00000008   height_0	set	8
 13877             0000000A   width_0	set	10
 13878             0000000C   color_0	set	12
 13879                        	.block	2037
 13880                        ;	int x = 0;
 13881                        ;	int y = 0;
 13882                        ;	int dx = cx + width;
 13883                        ;	int dy = cy + height;
 13884                        ;	
 13885                        ;	if(dx > 639)
 13886             00000000   x_1	set	0
 13887             00000002   y_1	set	2
 13888             00000004   dx_1	set	4
 13889             00000006   dy_1	set	6
 13890                        	.sym	x,0,5,1,16
 13891                        	.sym	y,2,5,1,16
 13892                        	.sym	dx,4,5,1,16
 13893                        	.sym	dy,6,5,1,16
 13894                        	.sym	cx,4,5,6,16
 13895                        	.sym	cy,6,5,6,16
 13896                        	.sym	height,8,5,6,16
 13897                        	.sym	width,10,5,6,16
 13898                        	.sym	color,12,5,6,16
 13899 03:3747: 64 09        	stz	<L684+x_1
 13900 03:3749: 64 0B        	stz	<L684+y_1
 13901 03:374B: 18           	clc
 13902 03:374C: A5 18        	lda	<L683+cx_0
 13903 03:374E: 65 1E        	adc	<L683+width_0
 13904 03:3750: 85 0D        	sta	<L684+dx_1
 13905 03:3752: 18           	clc
 13906 03:3753: A5 1A        	lda	<L683+cy_0
 13907 03:3755: 65 1C        	adc	<L683+height_0
 13908 03:3757: 85 0F        	sta	<L684+dy_1
 13909                        	.line	2043
 13910                        ;		dx = 639;
 13911 03:3759: 38           	sec
 13912 03:375A: A9 7F 02     	lda	#$27f
 13913 03:375D: E5 0D        	sbc	<L684+dx_1
 13914 03:375F: 70 03        	bvs	L686
  Mon Dec  7 2020 11:19                                                Page 256


 13915 03:3761: 49 00 80     	eor	#$8000
 13916                        L686:
 13917 03:3764: 10 03        	bpl	L687
 13918 03:3766: 82 05 00     	brl	L10281
 13919                        L687:
 13920                        	.line	2044
 13921 03:3769: A9 7F 02     	lda	#$27f
 13922 03:376C: 85 0D        	sta	<L684+dx_1
 13923                        ;	if(dy > 479)
 13924                        L10281:
 13925                        	.line	2045
 13926                        ;		dy = 479;
 13927 03:376E: 38           	sec
 13928 03:376F: A9 DF 01     	lda	#$1df
 13929 03:3772: E5 0F        	sbc	<L684+dy_1
 13930 03:3774: 70 03        	bvs	L688
 13931 03:3776: 49 00 80     	eor	#$8000
 13932                        L688:
 13933 03:3779: 10 03        	bpl	L689
 13934 03:377B: 82 05 00     	brl	L10282
 13935                        L689:
 13936                        	.line	2046
 13937 03:377E: A9 DF 01     	lda	#$1df
 13938 03:3781: 85 0F        	sta	<L684+dy_1
 13939                        ;	
 13940                        ;	for(y=cy;y<dy;y++)
 13941                        L10282:
 13942                        	.line	2048
 13943 03:3783: A5 1A        	lda	<L683+cy_0
 13944 03:3785: 85 0B        	sta	<L684+y_1
 13945 03:3787: 82 39 00     	brl	L10286
 13946                        L10285:
 13947                        ;	{
 13948                        	.line	2049
 13949                        ;		long locStart = (long)(( ((long)y) * 640
                    L) + ((long)cx) );
 13950                        ;		//memset(&(((unsigned char FAR *)SHADOW_
                    BANK_0)[locStart]),color,dx - cx);
 13951                        ;	}
 13952                        	.block	2052
 13953             00000008   locStart_2	set	8
 13954                        	.sym	locStart,8,7,1,32
 13955 03:378A: A0 00 00     	ldy	#$0
 13956 03:378D: A5 18        	lda	<L683+cx_0
 13957 03:378F: 10 01        	bpl	L691
 13958 03:3791: 88           	dey
 13959                        L691:
 13960 03:3792: 85 01        	sta	<R0
 13961 03:3794: 84 03        	sty	<R0+2
 13962 03:3796: A0 00 00     	ldy	#$0
 13963 03:3799: A5 0B        	lda	<L684+y_1
 13964 03:379B: 10 01        	bpl	L692
 13965 03:379D: 88           	dey
 13966                        L692:
 13967 03:379E: 85 05        	sta	<R1
 13968 03:37A0: 84 07        	sty	<R1+2
 13969 03:37A2: F4 00 00     	pea	#^$280
 13970 03:37A5: F4 80 02     	pea	#<$280
  Mon Dec  7 2020 11:19                                                Page 257


 13971 03:37A8: D4 07        	pei	<R1+2
 13972 03:37AA: D4 05        	pei	<R1
 13973                        	xref	~~~lmul
 13974 03:37AC: 22 xx xx xx  	jsl	~~~lmul
 13975 03:37B0: 85 05        	sta	<R1
 13976 03:37B2: 86 07        	stx	<R1+2
 13977 03:37B4: 18           	clc
 13978 03:37B5: A5 05        	lda	<R1
 13979 03:37B7: 65 01        	adc	<R0
 13980 03:37B9: 85 11        	sta	<L684+locStart_2
 13981 03:37BB: A5 07        	lda	<R1+2
 13982 03:37BD: 65 03        	adc	<R0+2
 13983 03:37BF: 85 13        	sta	<L684+locStart_2+2
 13984                        	.endblock	2052
 13985                        	.line	2052
 13986                        L10283:
 13987 03:37C1: E6 0B        	inc	<L684+y_1
 13988                        L10286:
 13989 03:37C3: 38           	sec
 13990 03:37C4: A5 0B        	lda	<L684+y_1
 13991 03:37C6: E5 0F        	sbc	<L684+dy_1
 13992 03:37C8: 70 03        	bvs	L693
 13993 03:37CA: 49 00 80     	eor	#$8000
 13994                        L693:
 13995 03:37CD: 30 03        	bmi	L694
 13996 03:37CF: 82 B8 FF     	brl	L10285
 13997                        L694:
 13998                        L10284:
 13999                        ;}
 14000                        	.line	2053
 14001                        L695:
 14002 03:37D2: A5 16        	lda	<L683+2
 14003 03:37D4: 85 20        	sta	<L683+2+10
 14004 03:37D6: A5 15        	lda	<L683+1
 14005 03:37D8: 85 1F        	sta	<L683+1+10
 14006 03:37DA: 2B           	pld
 14007 03:37DB: 3B           	tsc
 14008 03:37DC: 18           	clc
 14009 03:37DD: 69 1E 00     	adc	#L683+10
 14010 03:37E0: 1B           	tcs
 14011 03:37E1: 6B           	rtl
 14012                        	.endblock	2053
 14013             00000014   L683	equ	20
 14014             00000009   L684	equ	9
 14015 03:37E2:              	ends
 14016                        	efunc
 14017                        	.endfunc	2053,9,20
 14018                        	.line	2053
 14019                        ;
 14020                        ;void k_draw_filled_rect(int cx,int cy,int height,
                    int width,int color)
 14021                        ;{
 14022                        	.line	2055
 14023                        	.line	2056
 14024                        	GUI
 14025                        	xdef	~~k_draw_filled_rect
 14026                        	func
 14027                        	.function	2056
  Mon Dec  7 2020 11:19                                                Page 258


 14028                        ~~k_draw_filled_rect:
 14029                        	longa	on
 14030                        	longi	on
 14031 03:37E2: 3B           	tsc
 14032 03:37E3: 38           	sec
 14033 03:37E4: E9 14 00     	sbc	#L696
 14034 03:37E7: 1B           	tcs
 14035 03:37E8: 0B           	phd
 14036 03:37E9: 5B           	tcd
 14037             00000004   cx_0	set	4
 14038             00000006   cy_0	set	6
 14039             00000008   height_0	set	8
 14040             0000000A   width_0	set	10
 14041             0000000C   color_0	set	12
 14042                        	.block	2056
 14043                        ;	int x = 0;
 14044                        ;	int y = 0;
 14045                        ;	int dx = cx + width;
 14046                        ;	int dy = cy + height;
 14047                        ;	
 14048                        ;	if(dx > 639)
 14049             00000000   x_1	set	0
 14050             00000002   y_1	set	2
 14051             00000004   dx_1	set	4
 14052             00000006   dy_1	set	6
 14053                        	.sym	x,0,5,1,16
 14054                        	.sym	y,2,5,1,16
 14055                        	.sym	dx,4,5,1,16
 14056                        	.sym	dy,6,5,1,16
 14057                        	.sym	cx,4,5,6,16
 14058                        	.sym	cy,6,5,6,16
 14059                        	.sym	height,8,5,6,16
 14060                        	.sym	width,10,5,6,16
 14061                        	.sym	color,12,5,6,16
 14062 03:37EA: 64 09        	stz	<L697+x_1
 14063 03:37EC: 64 0B        	stz	<L697+y_1
 14064 03:37EE: 18           	clc
 14065 03:37EF: A5 18        	lda	<L696+cx_0
 14066 03:37F1: 65 1E        	adc	<L696+width_0
 14067 03:37F3: 85 0D        	sta	<L697+dx_1
 14068 03:37F5: 18           	clc
 14069 03:37F6: A5 1A        	lda	<L696+cy_0
 14070 03:37F8: 65 1C        	adc	<L696+height_0
 14071 03:37FA: 85 0F        	sta	<L697+dy_1
 14072                        	.line	2062
 14073                        ;		dx = 639;
 14074 03:37FC: 38           	sec
 14075 03:37FD: A9 7F 02     	lda	#$27f
 14076 03:3800: E5 0D        	sbc	<L697+dx_1
 14077 03:3802: 70 03        	bvs	L699
 14078 03:3804: 49 00 80     	eor	#$8000
 14079                        L699:
 14080 03:3807: 10 03        	bpl	L700
 14081 03:3809: 82 05 00     	brl	L10287
 14082                        L700:
 14083                        	.line	2063
 14084 03:380C: A9 7F 02     	lda	#$27f
 14085 03:380F: 85 0D        	sta	<L697+dx_1
  Mon Dec  7 2020 11:19                                                Page 259


 14086                        ;	if(dy > 479)
 14087                        L10287:
 14088                        	.line	2064
 14089                        ;		dy = 479;
 14090 03:3811: 38           	sec
 14091 03:3812: A9 DF 01     	lda	#$1df
 14092 03:3815: E5 0F        	sbc	<L697+dy_1
 14093 03:3817: 70 03        	bvs	L701
 14094 03:3819: 49 00 80     	eor	#$8000
 14095                        L701:
 14096 03:381C: 10 03        	bpl	L702
 14097 03:381E: 82 05 00     	brl	L10288
 14098                        L702:
 14099                        	.line	2065
 14100 03:3821: A9 DF 01     	lda	#$1df
 14101 03:3824: 85 0F        	sta	<L697+dy_1
 14102                        ;	
 14103                        ;	for(y=cy;y<dy;y++)
 14104                        L10288:
 14105                        	.line	2067
 14106 03:3826: A5 1A        	lda	<L696+cy_0
 14107 03:3828: 85 0B        	sta	<L697+y_1
 14108 03:382A: 82 39 00     	brl	L10292
 14109                        L10291:
 14110                        ;	{
 14111                        	.line	2068
 14112                        ;		long locStart = (long)(( ((long)y) * 640
                    L) + ((long)cx) );
 14113                        ;		//memset(&(((unsigned char FAR *)BITMAP_
                    BANK_0)[locStart]),color,dx - cx);
 14114                        ;	}
 14115                        	.block	2071
 14116             00000008   locStart_2	set	8
 14117                        	.sym	locStart,8,7,1,32
 14118 03:382D: A0 00 00     	ldy	#$0
 14119 03:3830: A5 18        	lda	<L696+cx_0
 14120 03:3832: 10 01        	bpl	L704
 14121 03:3834: 88           	dey
 14122                        L704:
 14123 03:3835: 85 01        	sta	<R0
 14124 03:3837: 84 03        	sty	<R0+2
 14125 03:3839: A0 00 00     	ldy	#$0
 14126 03:383C: A5 0B        	lda	<L697+y_1
 14127 03:383E: 10 01        	bpl	L705
 14128 03:3840: 88           	dey
 14129                        L705:
 14130 03:3841: 85 05        	sta	<R1
 14131 03:3843: 84 07        	sty	<R1+2
 14132 03:3845: F4 00 00     	pea	#^$280
 14133 03:3848: F4 80 02     	pea	#<$280
 14134 03:384B: D4 07        	pei	<R1+2
 14135 03:384D: D4 05        	pei	<R1
 14136                        	xref	~~~lmul
 14137 03:384F: 22 xx xx xx  	jsl	~~~lmul
 14138 03:3853: 85 05        	sta	<R1
 14139 03:3855: 86 07        	stx	<R1+2
 14140 03:3857: 18           	clc
 14141 03:3858: A5 05        	lda	<R1
  Mon Dec  7 2020 11:19                                                Page 260


 14142 03:385A: 65 01        	adc	<R0
 14143 03:385C: 85 11        	sta	<L697+locStart_2
 14144 03:385E: A5 07        	lda	<R1+2
 14145 03:3860: 65 03        	adc	<R0+2
 14146 03:3862: 85 13        	sta	<L697+locStart_2+2
 14147                        	.endblock	2071
 14148                        	.line	2071
 14149                        L10289:
 14150 03:3864: E6 0B        	inc	<L697+y_1
 14151                        L10292:
 14152 03:3866: 38           	sec
 14153 03:3867: A5 0B        	lda	<L697+y_1
 14154 03:3869: E5 0F        	sbc	<L697+dy_1
 14155 03:386B: 70 03        	bvs	L706
 14156 03:386D: 49 00 80     	eor	#$8000
 14157                        L706:
 14158 03:3870: 30 03        	bmi	L707
 14159 03:3872: 82 B8 FF     	brl	L10291
 14160                        L707:
 14161                        L10290:
 14162                        ;}
 14163                        	.line	2072
 14164                        L708:
 14165 03:3875: A5 16        	lda	<L696+2
 14166 03:3877: 85 20        	sta	<L696+2+10
 14167 03:3879: A5 15        	lda	<L696+1
 14168 03:387B: 85 1F        	sta	<L696+1+10
 14169 03:387D: 2B           	pld
 14170 03:387E: 3B           	tsc
 14171 03:387F: 18           	clc
 14172 03:3880: 69 1E 00     	adc	#L696+10
 14173 03:3883: 1B           	tcs
 14174 03:3884: 6B           	rtl
 14175                        	.endblock	2072
 14176             00000014   L696	equ	20
 14177             00000009   L697	equ	9
 14178 03:3885:              	ends
 14179                        	efunc
 14180                        	.endfunc	2072,9,20
 14181                        	.line	2072
 14182                        ;
 14183                        ;
 14184                        ;PWINDOW k_create_ui_window_class(int cx,int cy,in
                    t height,int width,LPCHAR title,LPCHAR className,FXWndProc w
                    ndProc)
 14185                        ;{
 14186                        	.line	2075
 14187                        	.line	2076
 14188                        	GUI
 14189                        	xdef	~~k_create_ui_window_class
 14190                        	func
 14191                        	.function	2076
 14192                        ~~k_create_ui_window_class:
 14193                        	longa	on
 14194                        	longi	on
 14195 03:3885: 3B           	tsc
 14196 03:3886: 38           	sec
 14197 03:3887: E9 08 00     	sbc	#L709
  Mon Dec  7 2020 11:19                                                Page 261


 14198 03:388A: 1B           	tcs
 14199 03:388B: 0B           	phd
 14200 03:388C: 5B           	tcd
 14201             00000004   cx_0	set	4
 14202             00000006   cy_0	set	6
 14203             00000008   height_0	set	8
 14204             0000000A   width_0	set	10
 14205             0000000C   title_0	set	12
 14206             00000010   className_0	set	16
 14207             00000014   wndProc_0	set	20
 14208                        	.block	2076
 14209                        ;	PWINDOW pWin = NULL;
 14210                        ;
 14211                        ;	if(className && title)
 14212             00000000   pWin_1	set	0
 14213                        	.sym	pWin,0,138,1,32,30
 14214                        	.sym	cx,4,5,6,16
 14215                        	.sym	cy,6,5,6,16
 14216                        	.sym	height,8,5,6,16
 14217                        	.sym	width,10,5,6,16
 14218                        	.sym	title,12,142,6,32
 14219                        	.sym	className,16,142,6,32
 14220                        	.sym	wndProc,20,654,6,32
 14221 03:388D: 64 05        	stz	<L710+pWin_1
 14222 03:388F: 64 07        	stz	<L710+pWin_1+2
 14223                        	.line	2079
 14224                        ;	{
 14225 03:3891: A5 18        	lda	<L709+className_0
 14226 03:3893: 05 1A        	ora	<L709+className_0+2
 14227 03:3895: D0 03        	bne	L712
 14228 03:3897: 82 F6 00     	brl	L10293
 14229                        L712:
 14230 03:389A: A5 14        	lda	<L709+title_0
 14231 03:389C: 05 16        	ora	<L709+title_0+2
 14232 03:389E: D0 03        	bne	L713
 14233 03:38A0: 82 ED 00     	brl	L10293
 14234                        L713:
 14235                        	.line	2080
 14236                        ;		pWin = (PWINDOW)k_mem_allocate_heap(size
                    of(WINDOW));
 14237                        	.line	2081
 14238 03:38A3: F4 63 01     	pea	#<$163
 14239 03:38A6: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 14240 03:38AA: 85 05        	sta	<L710+pWin_1
 14241 03:38AC: 86 07        	stx	<L710+pWin_1+2
 14242                        ;		if(pWin)
 14243                        	.line	2082
 14244                        ;		{
 14245 03:38AE: A5 05        	lda	<L710+pWin_1
 14246 03:38B0: 05 07        	ora	<L710+pWin_1+2
 14247 03:38B2: D0 03        	bne	L714
 14248 03:38B4: 82 D9 00     	brl	L10294
 14249                        L714:
 14250                        	.line	2083
 14251                        ;			memset(pWin,0,sizeof(WINDOW));
 14252                        	.line	2084
 14253 03:38B7: F4 63 01     	pea	#<$163
 14254 03:38BA: F4 00 00     	pea	#<$0
  Mon Dec  7 2020 11:19                                                Page 262


 14255 03:38BD: D4 07        	pei	<L710+pWin_1+2
 14256 03:38BF: D4 05        	pei	<L710+pWin_1
 14257 03:38C1: 22 xx xx xx  	jsl	~~memset
 14258                        ;
 14259                        ;			strcpy(pWin->win_title,title);
 14260                        	.line	2086
 14261 03:38C5: D4 16        	pei	<L709+title_0+2
 14262 03:38C7: D4 14        	pei	<L709+title_0
 14263 03:38C9: 18           	clc
 14264 03:38CA: A9 D4 00     	lda	#$d4
 14265 03:38CD: 65 05        	adc	<L710+pWin_1
 14266 03:38CF: 85 01        	sta	<R0
 14267 03:38D1: A9 00 00     	lda	#$0
 14268 03:38D4: 65 07        	adc	<L710+pWin_1+2
 14269 03:38D6: 85 03        	sta	<R0+2
 14270 03:38D8: D4 03        	pei	<R0+2
 14271 03:38DA: D4 01        	pei	<R0
 14272 03:38DC: 22 xx xx xx  	jsl	~~strcpy
 14273                        ;			strcpy(pWin->win_class,className
                    );
 14274                        	.line	2087
 14275 03:38E0: D4 1A        	pei	<L709+className_0+2
 14276 03:38E2: D4 18        	pei	<L709+className_0
 14277 03:38E4: 18           	clc
 14278 03:38E5: A9 F6 00     	lda	#$f6
 14279 03:38E8: 65 05        	adc	<L710+pWin_1
 14280 03:38EA: 85 01        	sta	<R0
 14281 03:38EC: A9 00 00     	lda	#$0
 14282 03:38EF: 65 07        	adc	<L710+pWin_1+2
 14283 03:38F1: 85 03        	sta	<R0+2
 14284 03:38F3: D4 03        	pei	<R0+2
 14285 03:38F5: D4 01        	pei	<R0
 14286 03:38F7: 22 xx xx xx  	jsl	~~strcpy
 14287                        ;			pWin->win_x = cx;
 14288                        	.line	2088
 14289 03:38FB: A5 0C        	lda	<L709+cx_0
 14290 03:38FD: A0 08 00     	ldy	#$8
 14291 03:3900: 97 05        	sta	[<L710+pWin_1],Y
 14292                        ;			pWin->win_y = cy;
 14293                        	.line	2089
 14294 03:3902: A5 0E        	lda	<L709+cy_0
 14295 03:3904: A0 0A 00     	ldy	#$a
 14296 03:3907: 97 05        	sta	[<L710+pWin_1],Y
 14297                        ;			pWin->win_width  = width;
 14298                        	.line	2090
 14299 03:3909: A5 12        	lda	<L709+width_0
 14300 03:390B: A0 0C 00     	ldy	#$c
 14301 03:390E: 97 05        	sta	[<L710+pWin_1],Y
 14302                        ;			pWin->win_height = height;
 14303                        	.line	2091
 14304 03:3910: A5 10        	lda	<L709+height_0
 14305 03:3912: A0 0E 00     	ldy	#$e
 14306 03:3915: 97 05        	sta	[<L710+pWin_1],Y
 14307                        ;			pWin->clickable = k_mem_allocate
                    _heap(sizeof(CLICKABLE));
 14308                        	.line	2092
 14309 03:3917: F4 0B 00     	pea	#<$b
 14310 03:391A: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  Mon Dec  7 2020 11:19                                                Page 263


 14311 03:391E: 85 01        	sta	<R0
 14312 03:3920: 86 03        	stx	<R0+2
 14313 03:3922: A5 01        	lda	<R0
 14314 03:3924: A0 D0 00     	ldy	#$d0
 14315 03:3927: 97 05        	sta	[<L710+pWin_1],Y
 14316 03:3929: A5 03        	lda	<R0+2
 14317 03:392B: A0 D2 00     	ldy	#$d2
 14318 03:392E: 97 05        	sta	[<L710+pWin_1],Y
 14319                        ;			if(pWin->clickable)
 14320                        	.line	2093
 14321                        ;			{
 14322 03:3930: A0 D0 00     	ldy	#$d0
 14323 03:3933: B7 05        	lda	[<L710+pWin_1],Y
 14324 03:3935: A0 D2 00     	ldy	#$d2
 14325 03:3938: 17 05        	ora	[<L710+pWin_1],Y
 14326 03:393A: D0 03        	bne	L715
 14327 03:393C: 82 51 00     	brl	L10295
 14328                        L715:
 14329                        	.line	2094
 14330                        ;				((PCLICKABLE)pWin->click
                    able)->area.x = cx;
 14331                        	.line	2095
 14332 03:393F: A0 D0 00     	ldy	#$d0
 14333 03:3942: B7 05        	lda	[<L710+pWin_1],Y
 14334 03:3944: 85 01        	sta	<R0
 14335 03:3946: A0 D2 00     	ldy	#$d2
 14336 03:3949: B7 05        	lda	[<L710+pWin_1],Y
 14337 03:394B: 85 03        	sta	<R0+2
 14338 03:394D: A5 0C        	lda	<L709+cx_0
 14339 03:394F: 87 01        	sta	[<R0]
 14340                        ;				((PCLICKABLE)pWin->click
                    able)->area.y = cy;
 14341                        	.line	2096
 14342 03:3951: A0 D0 00     	ldy	#$d0
 14343 03:3954: B7 05        	lda	[<L710+pWin_1],Y
 14344 03:3956: 85 01        	sta	<R0
 14345 03:3958: A0 D2 00     	ldy	#$d2
 14346 03:395B: B7 05        	lda	[<L710+pWin_1],Y
 14347 03:395D: 85 03        	sta	<R0+2
 14348 03:395F: A5 0E        	lda	<L709+cy_0
 14349 03:3961: A0 02 00     	ldy	#$2
 14350 03:3964: 97 01        	sta	[<R0],Y
 14351                        ;				((PCLICKABLE)pWin->click
                    able)->area.height = height;
 14352                        	.line	2097
 14353 03:3966: A0 D0 00     	ldy	#$d0
 14354 03:3969: B7 05        	lda	[<L710+pWin_1],Y
 14355 03:396B: 85 01        	sta	<R0
 14356 03:396D: A0 D2 00     	ldy	#$d2
 14357 03:3970: B7 05        	lda	[<L710+pWin_1],Y
 14358 03:3972: 85 03        	sta	<R0+2
 14359 03:3974: A5 10        	lda	<L709+height_0
 14360 03:3976: A0 06 00     	ldy	#$6
 14361 03:3979: 97 01        	sta	[<R0],Y
 14362                        ;				((PCLICKABLE)pWin->click
                    able)->area.width = width;
 14363                        	.line	2098
 14364 03:397B: A0 D0 00     	ldy	#$d0
  Mon Dec  7 2020 11:19                                                Page 264


 14365 03:397E: B7 05        	lda	[<L710+pWin_1],Y
 14366 03:3980: 85 01        	sta	<R0
 14367 03:3982: A0 D2 00     	ldy	#$d2
 14368 03:3985: B7 05        	lda	[<L710+pWin_1],Y
 14369 03:3987: 85 03        	sta	<R0+2
 14370 03:3989: A5 12        	lda	<L709+width_0
 14371 03:398B: A0 04 00     	ldy	#$4
 14372 03:398E: 97 01        	sta	[<R0],Y
 14373                        ;			}
 14374                        	.line	2099
 14375                        ;			//pWin->WndProc = wndProc;
 14376                        ;		}
 14377                        L10295:
 14378                        	.line	2101
 14379                        ;	}
 14380                        L10294:
 14381                        	.line	2102
 14382                        ;
 14383                        ;	return pWin;
 14384                        L10293:
 14385                        	.line	2104
 14386 03:3990: A6 07        	ldx	<L710+pWin_1+2
 14387 03:3992: A5 05        	lda	<L710+pWin_1
 14388                        L716:
 14389 03:3994: A8           	tay
 14390 03:3995: A5 0A        	lda	<L709+2
 14391 03:3997: 85 1E        	sta	<L709+2+20
 14392 03:3999: A5 09        	lda	<L709+1
 14393 03:399B: 85 1D        	sta	<L709+1+20
 14394 03:399D: 2B           	pld
 14395 03:399E: 3B           	tsc
 14396 03:399F: 18           	clc
 14397 03:39A0: 69 1C 00     	adc	#L709+20
 14398 03:39A3: 1B           	tcs
 14399 03:39A4: 98           	tya
 14400 03:39A5: 6B           	rtl
 14401                        ;}
 14402                        	.line	2105
 14403                        	.endblock	2105
 14404             00000008   L709	equ	8
 14405             00000005   L710	equ	5
 14406 03:39A6:              	ends
 14407                        	efunc
 14408                        	.endfunc	2105,5,8
 14409                        	.line	2105
 14410                        ;
 14411                        ;
 14412                        ;void k_draw_nonclient_area(PRECT wndRect,PRECT cl
                    ientRect,UINT style,LPCSTR title,int color,int bgcolor)
 14413                        ;{
 14414                        	.line	2108
 14415                        	.line	2109
 14416                        	GUI
 14417                        	xdef	~~k_draw_nonclient_area
 14418                        	func
 14419                        	.function	2109
 14420                        ~~k_draw_nonclient_area:
 14421                        	longa	on
  Mon Dec  7 2020 11:19                                                Page 265


 14422                        	longi	on
 14423 03:39A6: 3B           	tsc
 14424 03:39A7: 38           	sec
 14425 03:39A8: E9 32 00     	sbc	#L717
 14426 03:39AB: 1B           	tcs
 14427 03:39AC: 0B           	phd
 14428 03:39AD: 5B           	tcd
 14429             00000004   wndRect_0	set	4
 14430             00000008   clientRect_0	set	8
 14431             0000000C   style_0	set	12
 14432             0000000E   title_0	set	14
 14433             00000012   color_0	set	18
 14434             00000014   bgcolor_0	set	20
 14435                        	.block	2109
 14436                        ;	//PWINDOW pWin,ULONG style,
 14437                        ;
 14438                        ;	int cx = wndRect->x;
 14439                        ;	int cy = wndRect->x;
 14440                        ;	int height = wndRect->height;
 14441                        ;	int width = wndRect->width;
 14442                        ;
 14443                        ;	FONTMETRIC metric;
 14444                        ;
 14445                        ;	int i = 0;
 14446                        ;	int odd = 1;
 14447                        ;	int borderColor = 0;
 14448                        ;	int borderTitle = 0;
 14449                        ;	int borderWidth = 0;
 14450                        ;
 14451                        ;	int titleOffsetX = 0;
 14452                        ;	int titleOffsetY = 0;
 14453                        ;	int titleScaler = 0;
 14454                        ;
 14455                        ;	int clientOffsetX = 0;
 14456                        ;	int clientOffsetY = 0;
 14457                        ;
 14458                        ;	int currX = 0;
 14459                        ;	int currY = 0;
 14460                        ;
 14461                        ;	int endX = 0;
 14462                        ;
 14463                        ;	int maxminPos = 0;
 14464                        ;
 14465                        ;
 14466                        ;	int fillOffset = 2;  // correct the fill coordin
                    ates so the borders are the same size
 14467                        ;
 14468                        ;
 14469                        ;	k_debug_integer("k_vdraw_ui_window:cx:",cx);
 14470             00000000   cx_1	set	0
 14471             00000002   cy_1	set	2
 14472             00000004   height_1	set	4
 14473             00000006   width_1	set	6
 14474             00000008   metric_1	set	8
 14475             0000000C   i_1	set	12
 14476             0000000E   odd_1	set	14
 14477             00000010   borderColor_1	set	16
 14478             00000012   borderTitle_1	set	18
  Mon Dec  7 2020 11:19                                                Page 266


 14479             00000014   borderWidth_1	set	20
 14480             00000016   titleOffsetX_1	set	22
 14481             00000018   titleOffsetY_1	set	24
 14482             0000001A   titleScaler_1	set	26
 14483             0000001C   clientOffsetX_1	set	28
 14484             0000001E   clientOffsetY_1	set	30
 14485             00000020   currX_1	set	32
 14486             00000022   currY_1	set	34
 14487             00000024   endX_1	set	36
 14488             00000026   maxminPos_1	set	38
 14489             00000028   fillOffset_1	set	40
 14490                        	.sym	cx,0,5,1,16
 14491                        	.sym	cy,2,5,1,16
 14492                        	.sym	height,4,5,1,16
 14493                        	.sym	width,6,5,1,16
 14494                        	.sym	metric,8,10,1,32,32
 14495                        	.sym	i,12,5,1,16
 14496                        	.sym	odd,14,5,1,16
 14497                        	.sym	borderColor,16,5,1,16
 14498                        	.sym	borderTitle,18,5,1,16
 14499                        	.sym	borderWidth,20,5,1,16
 14500                        	.sym	titleOffsetX,22,5,1,16
 14501                        	.sym	titleOffsetY,24,5,1,16
 14502                        	.sym	titleScaler,26,5,1,16
 14503                        	.sym	clientOffsetX,28,5,1,16
 14504                        	.sym	clientOffsetY,30,5,1,16
 14505                        	.sym	currX,32,5,1,16
 14506                        	.sym	currY,34,5,1,16
 14507                        	.sym	endX,36,5,1,16
 14508                        	.sym	maxminPos,38,5,1,16
 14509                        	.sym	fillOffset,40,5,1,16
 14510                        	.sym	wndRect,4,138,6,32,25
 14511                        	.sym	clientRect,8,138,6,32,25
 14512                        	.sym	style,12,16,6,16
 14513                        	.sym	title,14,142,6,32
 14514                        	.sym	color,18,5,6,16
 14515                        	.sym	bgcolor,20,5,6,16
 14516 03:39AE: A7 36        	lda	[<L717+wndRect_0]
 14517 03:39B0: 85 09        	sta	<L718+cx_1
 14518 03:39B2: A7 36        	lda	[<L717+wndRect_0]
 14519 03:39B4: 85 0B        	sta	<L718+cy_1
 14520 03:39B6: A0 06 00     	ldy	#$6
 14521 03:39B9: B7 36        	lda	[<L717+wndRect_0],Y
 14522 03:39BB: 85 0D        	sta	<L718+height_1
 14523 03:39BD: A0 04 00     	ldy	#$4
 14524 03:39C0: B7 36        	lda	[<L717+wndRect_0],Y
 14525 03:39C2: 85 0F        	sta	<L718+width_1
 14526 03:39C4: 64 15        	stz	<L718+i_1
 14527 03:39C6: A9 01 00     	lda	#$1
 14528 03:39C9: 85 17        	sta	<L718+odd_1
 14529 03:39CB: 64 19        	stz	<L718+borderColor_1
 14530 03:39CD: 64 1B        	stz	<L718+borderTitle_1
 14531 03:39CF: 64 1D        	stz	<L718+borderWidth_1
 14532 03:39D1: 64 1F        	stz	<L718+titleOffsetX_1
 14533 03:39D3: 64 21        	stz	<L718+titleOffsetY_1
 14534 03:39D5: 64 23        	stz	<L718+titleScaler_1
 14535 03:39D7: 64 25        	stz	<L718+clientOffsetX_1
 14536 03:39D9: 64 27        	stz	<L718+clientOffsetY_1
  Mon Dec  7 2020 11:19                                                Page 267


 14537 03:39DB: 64 29        	stz	<L718+currX_1
 14538 03:39DD: 64 2B        	stz	<L718+currY_1
 14539 03:39DF: 64 2D        	stz	<L718+endX_1
 14540 03:39E1: 64 2F        	stz	<L718+maxminPos_1
 14541 03:39E3: A9 02 00     	lda	#$2
 14542 03:39E6: 85 31        	sta	<L718+fillOffset_1
 14543                        	.line	2143
 14544 03:39E8: D4 09        	pei	<L718+cx_1
 14545 03:39EA: F4 xx xx     	pea	#^L648
 14546 03:39ED: F4 xx xx     	pea	#<L648
 14547 03:39F0: 22 xx xx xx  	jsl	~~k_debug_integer
 14548                        ;	k_debug_integer("k_vdraw_ui_window:cy:",cy);
 14549                        	.line	2144
 14550 03:39F4: D4 0B        	pei	<L718+cy_1
 14551 03:39F6: F4 xx xx     	pea	#^L648+22
 14552 03:39F9: F4 xx xx     	pea	#<L648+22
 14553 03:39FC: 22 xx xx xx  	jsl	~~k_debug_integer
 14554                        ;	k_debug_integer("k_vdraw_ui_window:width:",width
                    );
 14555                        	.line	2145
 14556 03:3A00: D4 0F        	pei	<L718+width_1
 14557 03:3A02: F4 xx xx     	pea	#^L648+44
 14558 03:3A05: F4 xx xx     	pea	#<L648+44
 14559 03:3A08: 22 xx xx xx  	jsl	~~k_debug_integer
 14560                        ;	k_debug_integer("k_vdraw_ui_window:height:",heig
                    ht);
 14561                        	.line	2146
 14562 03:3A0C: D4 0D        	pei	<L718+height_1
 14563 03:3A0E: F4 xx xx     	pea	#^L648+69
 14564 03:3A11: F4 xx xx     	pea	#<L648+69
 14565 03:3A14: 22 xx xx xx  	jsl	~~k_debug_integer
 14566                        ;
 14567                        ;	titleOffsetX = cx+2;
 14568                        	.line	2148
 14569 03:3A18: 18           	clc
 14570 03:3A19: A9 02 00     	lda	#$2
 14571 03:3A1C: 65 09        	adc	<L718+cx_1
 14572 03:3A1E: 85 1F        	sta	<L718+titleOffsetX_1
 14573                        ;	titleOffsetY = cy+1;
 14574                        	.line	2149
 14575 03:3A20: A5 0B        	lda	<L718+cy_1
 14576 03:3A22: 1A           	ina
 14577 03:3A23: 85 21        	sta	<L718+titleOffsetY_1
 14578                        ;
 14579                        ;	//k_debug_strings("k_vdraw_ui_window:","enter");
 14580                        ;
 14581                        ;	if(style & FXWS_VISIBLE != FXWS_VISIBLE)
 14582                        	.line	2153
 14583                        ;	{
 14584 03:3A25: 82 1E 00     	brl	L10296
 14585                        	.line	2154
 14586                        ;		k_debug_strings("k_vdraw_ui_window::NOT 
                    RENDERING:",(LPCHAR)title);
 14587                        	.line	2155
 14588 03:3A28: D4 42        	pei	<L717+title_0+2
 14589 03:3A2A: D4 40        	pei	<L717+title_0
 14590 03:3A2C: F4 xx xx     	pea	#^L648+95
 14591 03:3A2F: F4 xx xx     	pea	#<L648+95
  Mon Dec  7 2020 11:19                                                Page 268


 14592 03:3A32: 22 xx xx xx  	jsl	~~k_debug_strings
 14593                        ;		return;
 14594                        	.line	2156
 14595                        L720:
 14596 03:3A36: A5 34        	lda	<L717+2
 14597 03:3A38: 85 46        	sta	<L717+2+18
 14598 03:3A3A: A5 33        	lda	<L717+1
 14599 03:3A3C: 85 45        	sta	<L717+1+18
 14600 03:3A3E: 2B           	pld
 14601 03:3A3F: 3B           	tsc
 14602 03:3A40: 18           	clc
 14603 03:3A41: 69 44 00     	adc	#L717+18
 14604 03:3A44: 1B           	tcs
 14605 03:3A45: 6B           	rtl
 14606                        ;	}
 14607                        	.line	2157
 14608                        ;
 14609                        ;	//k_debug_strings("k_vdraw_ui_window::RENDERING:
                    ",title);
 14610                        ;
 14611                        ;	if(style & FXWS_THICKFRAME)
 14612                        L10296:
 14613                        	.line	2161
 14614                        ;	{
 14615 03:3A46: A5 3E        	lda	<L717+style_0
 14616 03:3A48: 85 01        	sta	<R0
 14617 03:3A4A: 64 03        	stz	<R0+2
 14618 03:3A4C: A5 03        	lda	<R0+2
 14619 03:3A4E: 29 02 00     	and	#^$20000
 14620 03:3A51: D0 03        	bne	L721
 14621 03:3A53: 82 08 00     	brl	L10297
 14622                        L721:
 14623                        	.line	2162
 14624                        ;		borderWidth = 2;
 14625                        	.line	2163
 14626 03:3A56: A9 02 00     	lda	#$2
 14627 03:3A59: 85 1D        	sta	<L718+borderWidth_1
 14628                        ;	}
 14629                        	.line	2164
 14630                        ;	else if(style & FXWS_BORDER)
 14631 03:3A5B: 82 2D 00     	brl	L10298
 14632                        L10297:
 14633                        	.line	2165
 14634                        ;	{
 14635 03:3A5E: A5 3E        	lda	<L717+style_0
 14636 03:3A60: 85 01        	sta	<R0
 14637 03:3A62: 64 03        	stz	<R0+2
 14638 03:3A64: A5 03        	lda	<R0+2
 14639 03:3A66: 29 01 00     	and	#^$10000
 14640 03:3A69: D0 03        	bne	L722
 14641 03:3A6B: 82 08 00     	brl	L10299
 14642                        L722:
 14643                        	.line	2166
 14644                        ;		borderWidth = 1;
 14645                        	.line	2167
 14646 03:3A6E: A9 01 00     	lda	#$1
 14647 03:3A71: 85 1D        	sta	<L718+borderWidth_1
 14648                        ;	}
  Mon Dec  7 2020 11:19                                                Page 269


 14649                        	.line	2168
 14650                        ;	else if(style & FXWS_DLGFRAME)
 14651 03:3A73: 82 15 00     	brl	L10300
 14652                        L10299:
 14653                        	.line	2169
 14654                        ;	{
 14655 03:3A76: A5 3E        	lda	<L717+style_0
 14656 03:3A78: 85 01        	sta	<R0
 14657 03:3A7A: 64 03        	stz	<R0+2
 14658 03:3A7C: A5 03        	lda	<R0+2
 14659 03:3A7E: 29 04 00     	and	#^$40000
 14660 03:3A81: D0 03        	bne	L723
 14661 03:3A83: 82 05 00     	brl	L10301
 14662                        L723:
 14663                        	.line	2170
 14664                        ;		borderWidth = 4;
 14665                        	.line	2171
 14666 03:3A86: A9 04 00     	lda	#$4
 14667 03:3A89: 85 1D        	sta	<L718+borderWidth_1
 14668                        ;	}
 14669                        	.line	2172
 14670                        ;
 14671                        ;	if( ((style & FXWS_CAPTION) == FXWS_CAPTION) || 
                    (style & FXWS_SYSMENU) || (style & FXWS_MINIMIZEBOX) || (sty
                    le & FXWS_MAXIMIZEBOX))
 14672                        L10301:
 14673                        L10300:
 14674                        L10298:
 14675                        	.line	2174
 14676                        ;	{
 14677 03:3A8B: A5 3E        	lda	<L717+style_0
 14678 03:3A8D: 29 04 00     	and	#<$4
 14679 03:3A90: 85 01        	sta	<R0
 14680 03:3A92: A5 01        	lda	<R0
 14681 03:3A94: C9 04 00     	cmp	#<$4
 14682 03:3A97: D0 03        	bne	L725
 14683 03:3A99: 82 1E 00     	brl	L724
 14684                        L725:
 14685 03:3A9C: A5 3E        	lda	<L717+style_0
 14686 03:3A9E: 29 08 00     	and	#<$8
 14687 03:3AA1: F0 03        	beq	L726
 14688 03:3AA3: 82 14 00     	brl	L724
 14689                        L726:
 14690 03:3AA6: A5 3E        	lda	<L717+style_0
 14691 03:3AA8: 29 20 00     	and	#<$20
 14692 03:3AAB: F0 03        	beq	L727
 14693 03:3AAD: 82 0A 00     	brl	L724
 14694                        L727:
 14695 03:3AB0: A5 3E        	lda	<L717+style_0
 14696 03:3AB2: 29 10 00     	and	#<$10
 14697 03:3AB5: D0 03        	bne	L728
 14698 03:3AB7: 82 05 00     	brl	L10302
 14699                        L728:
 14700                        L724:
 14701                        	.line	2175
 14702                        ;		borderTitle = 10;
 14703                        	.line	2176
 14704 03:3ABA: A9 0A 00     	lda	#$a
  Mon Dec  7 2020 11:19                                                Page 270


 14705 03:3ABD: 85 1B        	sta	<L718+borderTitle_1
 14706                        ;	}
 14707                        	.line	2177
 14708                        ;
 14709                        ;	clientOffsetX = cx + borderWidth;
 14710                        L10302:
 14711                        	.line	2179
 14712 03:3ABF: 18           	clc
 14713 03:3AC0: A5 09        	lda	<L718+cx_1
 14714 03:3AC2: 65 1D        	adc	<L718+borderWidth_1
 14715 03:3AC4: 85 25        	sta	<L718+clientOffsetX_1
 14716                        ;
 14717                        ;	if(borderTitle)
 14718                        	.line	2181
 14719                        ;		clientOffsetY = cy + borderTitle;
 14720 03:3AC6: A5 1B        	lda	<L718+borderTitle_1
 14721 03:3AC8: D0 03        	bne	L729
 14722 03:3ACA: 82 0A 00     	brl	L10303
 14723                        L729:
 14724                        	.line	2182
 14725 03:3ACD: 18           	clc
 14726 03:3ACE: A5 0B        	lda	<L718+cy_1
 14727 03:3AD0: 65 1B        	adc	<L718+borderTitle_1
 14728 03:3AD2: 85 27        	sta	<L718+clientOffsetY_1
 14729                        ;	else
 14730 03:3AD4: 82 07 00     	brl	L10304
 14731                        L10303:
 14732                        ;		clientOffsetY = cy + borderWidth;
 14733                        	.line	2184
 14734 03:3AD7: 18           	clc
 14735 03:3AD8: A5 0B        	lda	<L718+cy_1
 14736 03:3ADA: 65 1D        	adc	<L718+borderWidth_1
 14737 03:3ADC: 85 27        	sta	<L718+clientOffsetY_1
 14738                        L10304:
 14739                        ;
 14740                        ;	currX = clientOffsetX;
 14741                        	.line	2186
 14742 03:3ADE: A5 25        	lda	<L718+clientOffsetX_1
 14743 03:3AE0: 85 29        	sta	<L718+currX_1
 14744                        ;	currY = clientOffsetY;
 14745                        	.line	2187
 14746 03:3AE2: A5 27        	lda	<L718+clientOffsetY_1
 14747 03:3AE4: 85 2B        	sta	<L718+currY_1
 14748                        ;
 14749                        ;	endX = width + cx - borderWidth;
 14750                        	.line	2189
 14751 03:3AE6: 18           	clc
 14752 03:3AE7: A5 0F        	lda	<L718+width_1
 14753 03:3AE9: 65 09        	adc	<L718+cx_1
 14754 03:3AEB: 85 01        	sta	<R0
 14755 03:3AED: 38           	sec
 14756 03:3AEE: A5 01        	lda	<R0
 14757 03:3AF0: E5 1D        	sbc	<L718+borderWidth_1
 14758 03:3AF2: 85 2D        	sta	<L718+endX_1
 14759                        ;	maxminPos = 0;
 14760                        	.line	2190
 14761 03:3AF4: 64 2F        	stz	<L718+maxminPos_1
 14762                        ;
  Mon Dec  7 2020 11:19                                                Page 271


 14763                        ;
 14764                        ;	/*
 14765                        ;	k_vdma_fill_rect(cx,cy,width,height,color);
 14766                        ;	//k_delay(50);
 14767                        ;
 14768                        ;	k_vdma_fill_rect(cx + borderWidth,
 14769                        ;			         cy + (borderTitle + bor
                    derWidth),
 14770                        ;					 //width - borde
                    rWidth - borderWidth + 1,
 14771                        ;					 //height - bord
                    erTitle - borderWidth + 1,
 14772                        ;					 width  - (borde
                    rWidth + fillOffset),
 14773                        ;					 height - (borde
                    rTitle + borderWidth + fillOffset),
 14774                        ;					 bgcolor);
 14775                        ;	*/
 14776                        ;
 14777                        ;	//k_debug_integer("k_vdraw_ui_window:cx:",cx);
 14778                        ;	//k_debug_integer("k_vdraw_ui_window:cy:",cy);
 14779                        ;	//k_debug_integer("k_vdraw_ui_window:width:",wid
                    th);
 14780                        ;	//k_debug_integer("k_vdraw_ui_window:height:",he
                    ight);
 14781                        ;
 14782                        ;	k_vdma_fill_rect(cx,cy,width,height,bgcolor);
 14783                        	.line	2211
 14784 03:3AF6: D4 46        	pei	<L717+bgcolor_0
 14785 03:3AF8: D4 0D        	pei	<L718+height_1
 14786 03:3AFA: D4 0F        	pei	<L718+width_1
 14787 03:3AFC: A0 00 00     	ldy	#$0
 14788 03:3AFF: A5 0B        	lda	<L718+cy_1
 14789 03:3B01: 10 01        	bpl	L730
 14790 03:3B03: 88           	dey
 14791                        L730:
 14792 03:3B04: 85 01        	sta	<R0
 14793 03:3B06: 84 03        	sty	<R0+2
 14794 03:3B08: D4 03        	pei	<R0+2
 14795 03:3B0A: D4 01        	pei	<R0
 14796 03:3B0C: A0 00 00     	ldy	#$0
 14797 03:3B0F: A5 09        	lda	<L718+cx_1
 14798 03:3B11: 10 01        	bpl	L731
 14799 03:3B13: 88           	dey
 14800                        L731:
 14801 03:3B14: 85 05        	sta	<R1
 14802 03:3B16: 84 07        	sty	<R1+2
 14803 03:3B18: D4 07        	pei	<R1+2
 14804 03:3B1A: D4 05        	pei	<R1
 14805 03:3B1C: 22 49 51 03  	jsl	~~k_vdma_fill_rect
 14806                        ;	borderColor = color;
 14807                        	.line	2212
 14808 03:3B20: A5 44        	lda	<L717+color_0
 14809 03:3B22: 85 19        	sta	<L718+borderColor_1
 14810                        ;	for(i=0;i<borderWidth;i++)
 14811                        	.line	2213
 14812 03:3B24: 64 15        	stz	<L718+i_1
 14813 03:3B26: 82 5A 00     	brl	L10308
  Mon Dec  7 2020 11:19                                                Page 272


 14814                        L10307:
 14815                        ;	{
 14816                        	.line	2214
 14817                        ;		if(borderWidth > 2)
 14818                        	.line	2215
 14819                        ;		{
 14820 03:3B29: 38           	sec
 14821 03:3B2A: A9 02 00     	lda	#$2
 14822 03:3B2D: E5 1D        	sbc	<L718+borderWidth_1
 14823 03:3B2F: 70 03        	bvs	L732
 14824 03:3B31: 49 00 80     	eor	#$8000
 14825                        L732:
 14826 03:3B34: 10 03        	bpl	L733
 14827 03:3B36: 82 1C 00     	brl	L10309
 14828                        L733:
 14829                        	.line	2216
 14830                        ;			borderColor = color;
 14831                        	.line	2217
 14832 03:3B39: A5 44        	lda	<L717+color_0
 14833 03:3B3B: 85 19        	sta	<L718+borderColor_1
 14834                        ;			odd=!odd;
 14835                        	.line	2218
 14836 03:3B3D: 64 01        	stz	<R0
 14837 03:3B3F: A5 17        	lda	<L718+odd_1
 14838 03:3B41: F0 03        	beq	L735
 14839 03:3B43: 82 02 00     	brl	L734
 14840                        L735:
 14841 03:3B46: E6 01        	inc	<R0
 14842                        L734:
 14843 03:3B48: A5 01        	lda	<R0
 14844 03:3B4A: 85 17        	sta	<L718+odd_1
 14845                        ;			if(odd)
 14846                        	.line	2219
 14847                        ;			{
 14848 03:3B4C: A5 17        	lda	<L718+odd_1
 14849 03:3B4E: D0 03        	bne	L736
 14850 03:3B50: 82 02 00     	brl	L10310
 14851                        L736:
 14852                        	.line	2220
 14853                        ;				borderColor = 0;
 14854                        	.line	2221
 14855 03:3B53: 64 19        	stz	<L718+borderColor_1
 14856                        ;			}
 14857                        	.line	2222
 14858                        ;		}
 14859                        L10310:
 14860                        	.line	2223
 14861                        ;
 14862                        ;		k_draw_rect_slow(cx + i + 0,
 14863                        L10309:
 14864                        	.line	2225
 14865                        ;						 cy + i 
                    + 0,
 14866                        ;						 cx + wi
                    dth  - 0 - i,
 14867                        ;						 cy + he
                    ight - 0 - i,
 14868                        ;						 borderC
  Mon Dec  7 2020 11:19                                                Page 273


                    olor);
 14869 03:3B55: D4 19        	pei	<L718+borderColor_1
 14870 03:3B57: 18           	clc
 14871 03:3B58: A5 0B        	lda	<L718+cy_1
 14872 03:3B5A: 65 0D        	adc	<L718+height_1
 14873 03:3B5C: 85 01        	sta	<R0
 14874 03:3B5E: 38           	sec
 14875 03:3B5F: A5 01        	lda	<R0
 14876 03:3B61: E5 15        	sbc	<L718+i_1
 14877 03:3B63: 48           	pha
 14878 03:3B64: 18           	clc
 14879 03:3B65: A5 09        	lda	<L718+cx_1
 14880 03:3B67: 65 0F        	adc	<L718+width_1
 14881 03:3B69: 85 01        	sta	<R0
 14882 03:3B6B: 38           	sec
 14883 03:3B6C: A5 01        	lda	<R0
 14884 03:3B6E: E5 15        	sbc	<L718+i_1
 14885 03:3B70: 48           	pha
 14886 03:3B71: 18           	clc
 14887 03:3B72: A5 0B        	lda	<L718+cy_1
 14888 03:3B74: 65 15        	adc	<L718+i_1
 14889 03:3B76: 48           	pha
 14890 03:3B77: 18           	clc
 14891 03:3B78: A5 09        	lda	<L718+cx_1
 14892 03:3B7A: 65 15        	adc	<L718+i_1
 14893 03:3B7C: 48           	pha
 14894 03:3B7D: 22 8E 18 03  	jsl	~~k_draw_rect_slow
 14895                        ;
 14896                        ;	}
 14897                        	.line	2231
 14898                        L10305:
 14899 03:3B81: E6 15        	inc	<L718+i_1
 14900                        L10308:
 14901 03:3B83: 38           	sec
 14902 03:3B84: A5 15        	lda	<L718+i_1
 14903 03:3B86: E5 1D        	sbc	<L718+borderWidth_1
 14904 03:3B88: 70 03        	bvs	L737
 14905 03:3B8A: 49 00 80     	eor	#$8000
 14906                        L737:
 14907 03:3B8D: 30 03        	bmi	L738
 14908 03:3B8F: 82 97 FF     	brl	L10307
 14909                        L738:
 14910                        L10306:
 14911                        ;
 14912                        ;
 14913                        ;
 14914                        ;	if(borderTitle)
 14915                        	.line	2235
 14916                        ;	{
 14917 03:3B92: A5 1B        	lda	<L718+borderTitle_1
 14918 03:3B94: D0 03        	bne	L739
 14919 03:3B96: 82 2A 00     	brl	L10311
 14920                        L739:
 14921                        	.line	2236
 14922                        ;		k_vdma_fill_rect(cx,cy,width,borderTitle
                    ,color);
 14923                        	.line	2237
 14924 03:3B99: D4 44        	pei	<L717+color_0
  Mon Dec  7 2020 11:19                                                Page 274


 14925 03:3B9B: D4 1B        	pei	<L718+borderTitle_1
 14926 03:3B9D: D4 0F        	pei	<L718+width_1
 14927 03:3B9F: A0 00 00     	ldy	#$0
 14928 03:3BA2: A5 0B        	lda	<L718+cy_1
 14929 03:3BA4: 10 01        	bpl	L740
 14930 03:3BA6: 88           	dey
 14931                        L740:
 14932 03:3BA7: 85 01        	sta	<R0
 14933 03:3BA9: 84 03        	sty	<R0+2
 14934 03:3BAB: D4 03        	pei	<R0+2
 14935 03:3BAD: D4 01        	pei	<R0
 14936 03:3BAF: A0 00 00     	ldy	#$0
 14937 03:3BB2: A5 09        	lda	<L718+cx_1
 14938 03:3BB4: 10 01        	bpl	L741
 14939 03:3BB6: 88           	dey
 14940                        L741:
 14941 03:3BB7: 85 05        	sta	<R1
 14942 03:3BB9: 84 07        	sty	<R1+2
 14943 03:3BBB: D4 07        	pei	<R1+2
 14944 03:3BBD: D4 05        	pei	<R1
 14945 03:3BBF: 22 49 51 03  	jsl	~~k_vdma_fill_rect
 14946                        ;	}
 14947                        	.line	2238
 14948                        ;
 14949                        ;	k_get_font_metrics(&metric);
 14950                        L10311:
 14951                        	.line	2240
 14952 03:3BC3: F4 00 00     	pea	#0
 14953 03:3BC6: 18           	clc
 14954 03:3BC7: 7B           	tdc
 14955 03:3BC8: 69 11 00     	adc	#<L718+metric_1
 14956 03:3BCB: 48           	pha
 14957 03:3BCC: 22 6E 1C 03  	jsl	~~k_get_font_metrics
 14958                        ;
 14959                        ;
 14960                        ;	//title = strupr(title);
 14961                        ;
 14962                        ;	//FXWS_OVERLAPPED | FXWS_CAPTION | FXWS_SYSMENU 
                    | FXWS_THICKFRAME | FXWS_MINIMIZEBOX | FXWS_MAXIMIZEBOX
 14963                        ;
 14964                        ;	if(style & FXWS_SYSMENU)
 14965                        	.line	2247
 14966                        ;	{
 14967 03:3BD0: A5 3E        	lda	<L717+style_0
 14968 03:3BD2: 29 08 00     	and	#<$8
 14969 03:3BD5: D0 03        	bne	L742
 14970 03:3BD7: 82 19 00     	brl	L10312
 14971                        L742:
 14972                        	.line	2248
 14973                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_SYSMENU");
 14974                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_BCLOSE,titleOffsetX,titleOffsetY,k_getUIGadgetColo
                    r());
 14975                        	.line	2250
 14976 03:3BDA: 22 B3 0D 03  	jsl	~~k_getUIGadgetColor
 14977 03:3BDE: 48           	pha
 14978 03:3BDF: D4 21        	pei	<L718+titleOffsetY_1
  Mon Dec  7 2020 11:19                                                Page 275


 14979 03:3BE1: D4 1F        	pei	<L718+titleOffsetX_1
 14980 03:3BE3: F4 06 00     	pea	#<$6
 14981 03:3BE6: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 14982 03:3BEA: 85 01        	sta	<R0
 14983 03:3BEC: 18           	clc
 14984 03:3BED: A5 01        	lda	<R0
 14985 03:3BEF: 65 1F        	adc	<L718+titleOffsetX_1
 14986 03:3BF1: 85 1F        	sta	<L718+titleOffsetX_1
 14987                        ;	}
 14988                        	.line	2251
 14989                        ;
 14990                        ;	if((style & FXWS_CAPTION) == FXWS_CAPTION)
 14991                        L10312:
 14992                        	.line	2253
 14993                        ;	{
 14994 03:3BF3: A5 3E        	lda	<L717+style_0
 14995 03:3BF5: 29 04 00     	and	#<$4
 14996 03:3BF8: 85 01        	sta	<R0
 14997 03:3BFA: A5 01        	lda	<R0
 14998 03:3BFC: C9 04 00     	cmp	#<$4
 14999 03:3BFF: F0 03        	beq	L743
 15000 03:3C01: 82 41 00     	brl	L10313
 15001                        L743:
 15002                        	.line	2254
 15003                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_CAPTION");
 15004                        ;		//titleScaler = (int)(width / metric.wid
                    th - 3);
 15005                        ;		titleScaler = (int)(width / metric.width
                     -1 );
 15006                        	.line	2257
 15007 03:3C04: A5 0F        	lda	<L718+width_1
 15008 03:3C06: A6 11        	ldx	<L718+metric_1
 15009                        	xref	~~~div
 15010 03:3C08: 22 xx xx xx  	jsl	~~~div
 15011 03:3C0C: 85 01        	sta	<R0
 15012 03:3C0E: 18           	clc
 15013 03:3C0F: A9 FF FF     	lda	#$ffff
 15014 03:3C12: 65 01        	adc	<R0
 15015 03:3C14: 85 23        	sta	<L718+titleScaler_1
 15016                        ;		for(i=0;i<titleScaler;i++)
 15017                        	.line	2258
 15018 03:3C16: 64 15        	stz	<L718+i_1
 15019 03:3C18: 82 1B 00     	brl	L10317
 15020                        L10316:
 15021                        ;		{
 15022                        	.line	2259
 15023                        ;			titleOffsetX+=k_put_wingadget_po
                    int(WINICON_TITLE_LINES,titleOffsetX,titleOffsetY,k_getUIGad
                    getColor());
 15024                        	.line	2260
 15025 03:3C1B: 22 B3 0D 03  	jsl	~~k_getUIGadgetColor
 15026 03:3C1F: 48           	pha
 15027 03:3C20: D4 21        	pei	<L718+titleOffsetY_1
 15028 03:3C22: D4 1F        	pei	<L718+titleOffsetX_1
 15029 03:3C24: F4 01 00     	pea	#<$1
 15030 03:3C27: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 15031 03:3C2B: 85 01        	sta	<R0
  Mon Dec  7 2020 11:19                                                Page 276


 15032 03:3C2D: 18           	clc
 15033 03:3C2E: A5 01        	lda	<R0
 15034 03:3C30: 65 1F        	adc	<L718+titleOffsetX_1
 15035 03:3C32: 85 1F        	sta	<L718+titleOffsetX_1
 15036                        ;		}
 15037                        	.line	2261
 15038                        L10314:
 15039 03:3C34: E6 15        	inc	<L718+i_1
 15040                        L10317:
 15041 03:3C36: 38           	sec
 15042 03:3C37: A5 15        	lda	<L718+i_1
 15043 03:3C39: E5 23        	sbc	<L718+titleScaler_1
 15044 03:3C3B: 70 03        	bvs	L744
 15045 03:3C3D: 49 00 80     	eor	#$8000
 15046                        L744:
 15047 03:3C40: 30 03        	bmi	L745
 15048 03:3C42: 82 D6 FF     	brl	L10316
 15049                        L745:
 15050                        L10315:
 15051                        ;	}
 15052                        	.line	2262
 15053                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_BACK,titleOffsetX,titleOffsetY,14);
 15054                        ;	//titleOffsetX+=2;
 15055                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_FRONT,titleOffsetX,titleOffsetY,14);
 15056                        ;
 15057                        ;	if(style & FXWS_MAXIMIZEBOX)
 15058                        L10313:
 15059                        	.line	2267
 15060                        ;	{
 15061 03:3C45: A5 3E        	lda	<L717+style_0
 15062 03:3C47: 29 10 00     	and	#<$10
 15063 03:3C4A: D0 03        	bne	L746
 15064 03:3C4C: 82 33 00     	brl	L10318
 15065                        L746:
 15066                        	.line	2268
 15067                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_MAXIMIZEBOX");
 15068                        ;		maxminPos+=metric.width;
 15069                        	.line	2270
 15070 03:3C4F: 18           	clc
 15071 03:3C50: A5 2F        	lda	<L718+maxminPos_1
 15072 03:3C52: 65 11        	adc	<L718+metric_1
 15073 03:3C54: 85 2F        	sta	<L718+maxminPos_1
 15074                        ;		//k_put_wingadget_point(WINICON_BLOCK,en
                    dX - (metric.width),titleOffsetY,k_getUIWindowBorderColor())
                    ;
 15075                        ;		//k_put_wingadget_point(WINICON_TITLE_FR
                    ONT,endX - (metric.width),titleOffsetY,k_getUIGadgetColor())
                    ;
 15076                        ;
 15077                        ;		k_put_wingadget_point(WINICON_BLOCK,endX
                     - maxminPos,titleOffsetY,k_getUIWindowBorderColor());
 15078                        	.line	2274
 15079 03:3C56: 22 74 0D 03  	jsl	~~k_getUIWindowBorderColor
 15080 03:3C5A: 48           	pha
 15081 03:3C5B: D4 21        	pei	<L718+titleOffsetY_1
  Mon Dec  7 2020 11:19                                                Page 277


 15082 03:3C5D: 38           	sec
 15083 03:3C5E: A5 2D        	lda	<L718+endX_1
 15084 03:3C60: E5 2F        	sbc	<L718+maxminPos_1
 15085 03:3C62: 48           	pha
 15086 03:3C63: F4 00 00     	pea	#<$0
 15087 03:3C66: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 15088                        ;		k_put_wingadget_point(WINICON_TITLE_FRON
                    T,endX - maxminPos,titleOffsetY,k_getUIGadgetColor());
 15089                        	.line	2275
 15090 03:3C6A: 22 B3 0D 03  	jsl	~~k_getUIGadgetColor
 15091 03:3C6E: 48           	pha
 15092 03:3C6F: D4 21        	pei	<L718+titleOffsetY_1
 15093 03:3C71: 38           	sec
 15094 03:3C72: A5 2D        	lda	<L718+endX_1
 15095 03:3C74: E5 2F        	sbc	<L718+maxminPos_1
 15096 03:3C76: 48           	pha
 15097 03:3C77: F4 03 00     	pea	#<$3
 15098 03:3C7A: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 15099                        ;
 15100                        ;		maxminPos+=2;
 15101                        	.line	2277
 15102 03:3C7E: E6 2F        	inc	<L718+maxminPos_1
 15103 03:3C80: E6 2F        	inc	<L718+maxminPos_1
 15104                        ;	}
 15105                        	.line	2278
 15106                        ;
 15107                        ;	if(style & FXWS_MINIMIZEBOX)
 15108                        L10318:
 15109                        	.line	2280
 15110                        ;	{
 15111 03:3C82: A5 3E        	lda	<L717+style_0
 15112 03:3C84: 29 20 00     	and	#<$20
 15113 03:3C87: D0 03        	bne	L747
 15114 03:3C89: 82 33 00     	brl	L10319
 15115                        L747:
 15116                        	.line	2281
 15117                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_MINIMIZEBOX");
 15118                        ;		maxminPos+=metric.width;
 15119                        	.line	2283
 15120 03:3C8C: 18           	clc
 15121 03:3C8D: A5 2F        	lda	<L718+maxminPos_1
 15122 03:3C8F: 65 11        	adc	<L718+metric_1
 15123 03:3C91: 85 2F        	sta	<L718+maxminPos_1
 15124                        ;		//k_put_wingadget_point(WINICON_BLOCK,en
                    dX - (metric.width*2 + 2),titleOffsetY,k_getUIWindowBorderCo
                    lor());
 15125                        ;		//k_put_wingadget_point(WINICON_TITLE_BA
                    CK,endX - (metric.width*2 + 2),titleOffsetY,k_getUIGadgetCol
                    or());
 15126                        ;
 15127                        ;		k_put_wingadget_point(WINICON_BLOCK,endX
                     - maxminPos,titleOffsetY,k_getUIWindowBorderColor());
 15128                        	.line	2287
 15129 03:3C93: 22 74 0D 03  	jsl	~~k_getUIWindowBorderColor
 15130 03:3C97: 48           	pha
 15131 03:3C98: D4 21        	pei	<L718+titleOffsetY_1
 15132 03:3C9A: 38           	sec
  Mon Dec  7 2020 11:19                                                Page 278


 15133 03:3C9B: A5 2D        	lda	<L718+endX_1
 15134 03:3C9D: E5 2F        	sbc	<L718+maxminPos_1
 15135 03:3C9F: 48           	pha
 15136 03:3CA0: F4 00 00     	pea	#<$0
 15137 03:3CA3: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 15138                        ;		k_put_wingadget_point(WINICON_TITLE_BACK
                    ,endX - maxminPos,titleOffsetY,k_getUIGadgetColor());
 15139                        	.line	2288
 15140 03:3CA7: 22 B3 0D 03  	jsl	~~k_getUIGadgetColor
 15141 03:3CAB: 48           	pha
 15142 03:3CAC: D4 21        	pei	<L718+titleOffsetY_1
 15143 03:3CAE: 38           	sec
 15144 03:3CAF: A5 2D        	lda	<L718+endX_1
 15145 03:3CB1: E5 2F        	sbc	<L718+maxminPos_1
 15146 03:3CB3: 48           	pha
 15147 03:3CB4: F4 04 00     	pea	#<$4
 15148 03:3CB7: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 15149                        ;
 15150                        ;		maxminPos+=2;
 15151                        	.line	2290
 15152 03:3CBB: E6 2F        	inc	<L718+maxminPos_1
 15153 03:3CBD: E6 2F        	inc	<L718+maxminPos_1
 15154                        ;	}
 15155                        	.line	2291
 15156                        ;
 15157                        ;	if((style & FXWS_CAPTION) == FXWS_CAPTION)
 15158                        L10319:
 15159                        	.line	2293
 15160                        ;	{
 15161 03:3CBF: A5 3E        	lda	<L717+style_0
 15162 03:3CC1: 29 04 00     	and	#<$4
 15163 03:3CC4: 85 01        	sta	<R0
 15164 03:3CC6: A5 01        	lda	<R0
 15165 03:3CC8: C9 04 00     	cmp	#<$4
 15166 03:3CCB: F0 03        	beq	L748
 15167 03:3CCD: 82 68 00     	brl	L10320
 15168                        L748:
 15169                        	.line	2294
 15170                        ;
 15171                        ;		for(i=0;i<=strlen(title);i++)
 15172                        	.line	2296
 15173 03:3CD0: 64 15        	stz	<L718+i_1
 15174 03:3CD2: 82 2C 00     	brl	L10324
 15175                        L10323:
 15176                        ;		{
 15177                        	.line	2297
 15178                        ;			k_put_wingadget_point(WINICON_BL
                    OCK,cx+borderWidth+metric.width+(metric.width*i),titleOffset
                    Y,15);
 15179                        	.line	2298
 15180 03:3CD5: F4 0F 00     	pea	#<$f
 15181 03:3CD8: D4 21        	pei	<L718+titleOffsetY_1
 15182 03:3CDA: A5 11        	lda	<L718+metric_1
 15183 03:3CDC: A6 15        	ldx	<L718+i_1
 15184                        	xref	~~~mul
 15185 03:3CDE: 22 xx xx xx  	jsl	~~~mul
 15186 03:3CE2: 85 01        	sta	<R0
 15187 03:3CE4: 18           	clc
  Mon Dec  7 2020 11:19                                                Page 279


 15188 03:3CE5: A5 01        	lda	<R0
 15189 03:3CE7: 65 09        	adc	<L718+cx_1
 15190 03:3CE9: 85 05        	sta	<R1
 15191 03:3CEB: 18           	clc
 15192 03:3CEC: A5 05        	lda	<R1
 15193 03:3CEE: 65 1D        	adc	<L718+borderWidth_1
 15194 03:3CF0: 85 01        	sta	<R0
 15195 03:3CF2: 18           	clc
 15196 03:3CF3: A5 01        	lda	<R0
 15197 03:3CF5: 65 11        	adc	<L718+metric_1
 15198 03:3CF7: 48           	pha
 15199 03:3CF8: F4 00 00     	pea	#<$0
 15200 03:3CFB: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 15201                        ;		}
 15202                        	.line	2299
 15203                        L10321:
 15204 03:3CFF: E6 15        	inc	<L718+i_1
 15205                        L10324:
 15206 03:3D01: D4 42        	pei	<L717+title_0+2
 15207 03:3D03: D4 40        	pei	<L717+title_0
 15208 03:3D05: 22 xx xx xx  	jsl	~~strlen
 15209 03:3D09: 85 01        	sta	<R0
 15210 03:3D0B: A5 01        	lda	<R0
 15211 03:3D0D: C5 15        	cmp	<L718+i_1
 15212 03:3D0F: 90 03        	bcc	L749
 15213 03:3D11: 82 C1 FF     	brl	L10323
 15214                        L749:
 15215                        L10322:
 15216                        ;		k_draw_text_point(title,cx+(borderWidth 
                    + 3)+metric.width,titleOffsetY,k_getUIGadgetColor());
 15217                        	.line	2300
 15218 03:3D14: 22 B3 0D 03  	jsl	~~k_getUIGadgetColor
 15219 03:3D18: 48           	pha
 15220 03:3D19: D4 21        	pei	<L718+titleOffsetY_1
 15221 03:3D1B: 18           	clc
 15222 03:3D1C: A5 09        	lda	<L718+cx_1
 15223 03:3D1E: 65 1D        	adc	<L718+borderWidth_1
 15224 03:3D20: 85 01        	sta	<R0
 15225 03:3D22: 18           	clc
 15226 03:3D23: A5 01        	lda	<R0
 15227 03:3D25: 65 11        	adc	<L718+metric_1
 15228 03:3D27: 85 05        	sta	<R1
 15229 03:3D29: 18           	clc
 15230 03:3D2A: A9 03 00     	lda	#$3
 15231 03:3D2D: 65 05        	adc	<R1
 15232 03:3D2F: 48           	pha
 15233 03:3D30: D4 42        	pei	<L717+title_0+2
 15234 03:3D32: D4 40        	pei	<L717+title_0
 15235 03:3D34: 22 62 1A 03  	jsl	~~k_draw_text_point
 15236                        ;	}
 15237                        	.line	2301
 15238                        ;
 15239                        ;	clientRect->x = clientOffsetX;
 15240                        L10320:
 15241                        	.line	2303
 15242 03:3D38: A5 25        	lda	<L718+clientOffsetX_1
 15243 03:3D3A: 87 3A        	sta	[<L717+clientRect_0]
 15244                        ;	clientRect->y = clientOffsetY;
  Mon Dec  7 2020 11:19                                                Page 280


 15245                        	.line	2304
 15246 03:3D3C: A5 27        	lda	<L718+clientOffsetY_1
 15247 03:3D3E: A0 02 00     	ldy	#$2
 15248 03:3D41: 97 3A        	sta	[<L717+clientRect_0],Y
 15249                        ;	clientRect->width = (0 - (2*borderWidth));
 15250                        	.line	2305
 15251 03:3D43: A5 1D        	lda	<L718+borderWidth_1
 15252 03:3D45: 0A           	asl	A
 15253 03:3D46: 85 01        	sta	<R0
 15254 03:3D48: 38           	sec
 15255 03:3D49: A9 00 00     	lda	#$0
 15256 03:3D4C: E5 01        	sbc	<R0
 15257 03:3D4E: A0 04 00     	ldy	#$4
 15258 03:3D51: 97 3A        	sta	[<L717+clientRect_0],Y
 15259                        ;	clientRect->height = (0 - clientOffsetY - border
                    Width); ;
 15260                        	.line	2306
 15261 03:3D53: 38           	sec
 15262 03:3D54: A9 00 00     	lda	#$0
 15263 03:3D57: E5 27        	sbc	<L718+clientOffsetY_1
 15264 03:3D59: 85 01        	sta	<R0
 15265 03:3D5B: 38           	sec
 15266 03:3D5C: A5 01        	lda	<R0
 15267 03:3D5E: E5 1D        	sbc	<L718+borderWidth_1
 15268 03:3D60: A0 06 00     	ldy	#$6
 15269 03:3D63: 97 3A        	sta	[<L717+clientRect_0],Y
 15270                        	.line	2306
 15271                        ;
 15272                        ;	k_debug_rect("RELATIVE CLIENT",clientRect);
 15273                        	.line	2308
 15274 03:3D65: D4 3C        	pei	<L717+clientRect_0+2
 15275 03:3D67: D4 3A        	pei	<L717+clientRect_0
 15276 03:3D69: F4 xx xx     	pea	#^L648+129
 15277 03:3D6C: F4 xx xx     	pea	#<L648+129
 15278 03:3D6F: 22 xx xx xx  	jsl	~~k_debug_rect
 15279                        ;
 15280                        ;
 15281                        ;	//k_debug_strings("k_vdraw_ui_window:","exit");
 15282                        ;}
 15283                        	.line	2312
 15284 03:3D73: 82 C0 FC     	brl	L720
 15285                        	.endblock	2312
 15286             00000032   L717	equ	50
 15287             00000009   L718	equ	9
 15288 03:3D76:              	ends
 15289                        	efunc
 15290                        	.endfunc	2312,9,50
 15291                        	.line	2312
 15292                        	data
 15293                        L648:
 15294 00:08E0: 6B 5F 76 64  	db	$6B,$5F,$76,$64,$72,$61,$77,$5F,$75,$69,
                    $5F,$77,$69,$6E,$64
       00:08E4: 72 61 77 5F 
       00:08E8: 75 69 5F 77 
       00:08EC: 69 6E 64 
 15295 00:08EF: 6F 77 3A 63  	db	$6F,$77,$3A,$63,$78,$3A,$00,$6B,$5F,$76,
                    $64,$72,$61,$77,$5F
       00:08F3: 78 3A 00 6B 
  Mon Dec  7 2020 11:19                                                Page 281


       00:08F7: 5F 76 64 72 
       00:08FB: 61 77 5F 
 15296 00:08FE: 75 69 5F 77  	db	$75,$69,$5F,$77,$69,$6E,$64,$6F,$77,$3A,
                    $63,$79,$3A,$00,$6B
       00:0902: 69 6E 64 6F 
       00:0906: 77 3A 63 79 
       00:090A: 3A 00 6B 
 15297 00:090D: 5F 76 64 72  	db	$5F,$76,$64,$72,$61,$77,$5F,$75,$69,$5F,
                    $77,$69,$6E,$64,$6F
       00:0911: 61 77 5F 75 
       00:0915: 69 5F 77 69 
       00:0919: 6E 64 6F 
 15298 00:091C: 77 3A 77 69  	db	$77,$3A,$77,$69,$64,$74,$68,$3A,$00,$6B,
                    $5F,$76,$64,$72,$61
       00:0920: 64 74 68 3A 
       00:0924: 00 6B 5F 76 
       00:0928: 64 72 61 
 15299 00:092B: 77 5F 75 69  	db	$77,$5F,$75,$69,$5F,$77,$69,$6E,$64,$6F,
                    $77,$3A,$68,$65,$69
       00:092F: 5F 77 69 6E 
       00:0933: 64 6F 77 3A 
       00:0937: 68 65 69 
 15300 00:093A: 67 68 74 3A  	db	$67,$68,$74,$3A,$00,$6B,$5F,$76,$64,$72,
                    $61,$77,$5F,$75,$69
       00:093E: 00 6B 5F 76 
       00:0942: 64 72 61 77 
       00:0946: 5F 75 69 
 15301 00:0949: 5F 77 69 6E  	db	$5F,$77,$69,$6E,$64,$6F,$77,$3A,$3A,$4E,
                    $4F,$54,$20,$52,$45
       00:094D: 64 6F 77 3A 
       00:0951: 3A 4E 4F 54 
       00:0955: 20 52 45 
 15302 00:0958: 4E 44 45 52  	db	$4E,$44,$45,$52,$49,$4E,$47,$3A,$00,$52,
                    $45,$4C,$41,$54,$49
       00:095C: 49 4E 47 3A 
       00:0960: 00 52 45 4C 
       00:0964: 41 54 49 
 15303 00:0967: 56 45 20 43  	db	$56,$45,$20,$43,$4C,$49,$45,$4E,$54,$00
       00:096B: 4C 49 45 4E 
       00:096F: 54 00 
 15304 00:0971:              	ends
 15305                        ;
 15306                        ;
 15307                        ;void k_vdraw_ui_window(PWINDOW pWin,ULONG style,i
                    nt cx,int cy,int height,int width,char FAR *title,int color,
                     int bgcolor)
 15308                        ;{
 15309                        	.line	2315
 15310                        	.line	2316
 15311                        	GUI
 15312                        	xdef	~~k_vdraw_ui_window
 15313                        	func
 15314                        	.function	2316
 15315                        ~~k_vdraw_ui_window:
 15316                        	longa	on
 15317                        	longi	on
 15318 03:3D76: 3B           	tsc
 15319 03:3D77: 38           	sec
  Mon Dec  7 2020 11:19                                                Page 282


 15320 03:3D78: E9 00 00     	sbc	#L751
 15321 03:3D7B: 1B           	tcs
 15322 03:3D7C: 0B           	phd
 15323 03:3D7D: 5B           	tcd
 15324             00000004   pWin_0	set	4
 15325             00000008   style_0	set	8
 15326             0000000C   cx_0	set	12
 15327             0000000E   cy_0	set	14
 15328             00000010   height_0	set	16
 15329             00000012   width_0	set	18
 15330             00000014   title_0	set	20
 15331             00000018   color_0	set	24
 15332             0000001A   bgcolor_0	set	26
 15333                        	.block	2316
 15334                        ;	k_vdraw_ui_window_ex(pWin,style,cx,cy,height,wid
                    th,title,color, bgcolor,BITMAP_FRONT);
 15335                        	.sym	pWin,4,138,6,32,30
 15336                        	.sym	style,8,18,6,32
 15337                        	.sym	cx,12,5,6,16
 15338                        	.sym	cy,14,5,6,16
 15339                        	.sym	height,16,5,6,16
 15340                        	.sym	width,18,5,6,16
 15341                        	.sym	title,20,142,6,32
 15342                        	.sym	color,24,5,6,16
 15343                        	.sym	bgcolor,26,5,6,16
 15344                        	.line	2317
 15345 03:3D7E: F4 00 00     	pea	#<$0
 15346 03:3D81: D4 1A        	pei	<L751+bgcolor_0
 15347 03:3D83: D4 18        	pei	<L751+color_0
 15348 03:3D85: D4 16        	pei	<L751+title_0+2
 15349 03:3D87: D4 14        	pei	<L751+title_0
 15350 03:3D89: D4 12        	pei	<L751+width_0
 15351 03:3D8B: D4 10        	pei	<L751+height_0
 15352 03:3D8D: D4 0E        	pei	<L751+cy_0
 15353 03:3D8F: D4 0C        	pei	<L751+cx_0
 15354 03:3D91: D4 0A        	pei	<L751+style_0+2
 15355 03:3D93: D4 08        	pei	<L751+style_0
 15356 03:3D95: D4 06        	pei	<L751+pWin_0+2
 15357 03:3D97: D4 04        	pei	<L751+pWin_0
 15358 03:3D99: 22 AD 3D 03  	jsl	~~k_vdraw_ui_window_ex
 15359                        ;}
 15360                        	.line	2318
 15361                        L754:
 15362 03:3D9D: A5 02        	lda	<L751+2
 15363 03:3D9F: 85 1A        	sta	<L751+2+24
 15364 03:3DA1: A5 01        	lda	<L751+1
 15365 03:3DA3: 85 19        	sta	<L751+1+24
 15366 03:3DA5: 2B           	pld
 15367 03:3DA6: 3B           	tsc
 15368 03:3DA7: 18           	clc
 15369 03:3DA8: 69 18 00     	adc	#L751+24
 15370 03:3DAB: 1B           	tcs
 15371 03:3DAC: 6B           	rtl
 15372                        	.endblock	2318
 15373             00000000   L751	equ	0
 15374             00000001   L752	equ	1
 15375 03:3DAD:              	ends
 15376                        	efunc
  Mon Dec  7 2020 11:19                                                Page 283


 15377                        	.endfunc	2318,1,0
 15378                        	.line	2318
 15379                        ;
 15380                        ;void k_vdraw_ui_window_ex(PWINDOW pWin,ULONG styl
                    e,int cx,int cy,int height,int width,char FAR *title,int col
                    or, int bgcolor,UINT page)
 15381                        ;{
 15382                        	.line	2320
 15383                        	.line	2321
 15384                        	GUI
 15385                        	xdef	~~k_vdraw_ui_window_ex
 15386                        	func
 15387                        	.function	2321
 15388                        ~~k_vdraw_ui_window_ex:
 15389                        	longa	on
 15390                        	longi	on
 15391 03:3DAD: 3B           	tsc
 15392 03:3DAE: 38           	sec
 15393 03:3DAF: E9 38 00     	sbc	#L755
 15394 03:3DB2: 1B           	tcs
 15395 03:3DB3: 0B           	phd
 15396 03:3DB4: 5B           	tcd
 15397             00000004   pWin_0	set	4
 15398             00000008   style_0	set	8
 15399             0000000C   cx_0	set	12
 15400             0000000E   cy_0	set	14
 15401             00000010   height_0	set	16
 15402             00000012   width_0	set	18
 15403             00000014   title_0	set	20
 15404             00000018   color_0	set	24
 15405             0000001A   bgcolor_0	set	26
 15406             0000001C   page_0	set	28
 15407                        	.block	2321
 15408                        ;	FONTMETRIC metric;
 15409                        ;	
 15410                        ;	int i = 0;
 15411                        ;	int odd = 1;
 15412                        ;	int borderColor = 0;
 15413                        ;	int borderTitle = 0;
 15414                        ;	int borderWidth = 0;
 15415                        ;
 15416                        ;	int titleOffsetX = 0;
 15417                        ;	int titleOffsetY = 0;
 15418                        ;	int titleScaler = 0;
 15419                        ;	
 15420                        ;	int clientOffsetX = 0;
 15421                        ;	int clientOffsetY = 0;
 15422                        ;	
 15423                        ;	int currX = 0;
 15424                        ;	int currY = 0;
 15425                        ;	
 15426                        ;	int endX = 0;
 15427                        ;	
 15428                        ;	int maxminPos = 0;
 15429                        ;
 15430                        ;	int ncc = 0;
 15431                        ;	int gx,gy,bx,by;
 15432                        ;
  Mon Dec  7 2020 11:19                                                Page 284


 15433                        ;	int fillOffset = 2;  // correct the fill coordin
                    ates so the borders are the same size
 15434                        ;
 15435                        ;
 15436                        ;	k_debug_pointer("k_vdraw_ui_window:pWin:",pWin);
 15437             00000000   metric_1	set	0
 15438             00000004   i_1	set	4
 15439             00000006   odd_1	set	6
 15440             00000008   borderColor_1	set	8
 15441             0000000A   borderTitle_1	set	10
 15442             0000000C   borderWidth_1	set	12
 15443             0000000E   titleOffsetX_1	set	14
 15444             00000010   titleOffsetY_1	set	16
 15445             00000012   titleScaler_1	set	18
 15446             00000014   clientOffsetX_1	set	20
 15447             00000016   clientOffsetY_1	set	22
 15448             00000018   currX_1	set	24
 15449             0000001A   currY_1	set	26
 15450             0000001C   endX_1	set	28
 15451             0000001E   maxminPos_1	set	30
 15452             00000020   ncc_1	set	32
 15453             00000022   gx_1	set	34
 15454             00000024   gy_1	set	36
 15455             00000026   bx_1	set	38
 15456             00000028   by_1	set	40
 15457             0000002A   fillOffset_1	set	42
 15458                        	.sym	metric,0,10,1,32,32
 15459                        	.sym	i,4,5,1,16
 15460                        	.sym	odd,6,5,1,16
 15461                        	.sym	borderColor,8,5,1,16
 15462                        	.sym	borderTitle,10,5,1,16
 15463                        	.sym	borderWidth,12,5,1,16
 15464                        	.sym	titleOffsetX,14,5,1,16
 15465                        	.sym	titleOffsetY,16,5,1,16
 15466                        	.sym	titleScaler,18,5,1,16
 15467                        	.sym	clientOffsetX,20,5,1,16
 15468                        	.sym	clientOffsetY,22,5,1,16
 15469                        	.sym	currX,24,5,1,16
 15470                        	.sym	currY,26,5,1,16
 15471                        	.sym	endX,28,5,1,16
 15472                        	.sym	maxminPos,30,5,1,16
 15473                        	.sym	ncc,32,5,1,16
 15474                        	.sym	gx,34,5,1,16
 15475                        	.sym	gy,36,5,1,16
 15476                        	.sym	bx,38,5,1,16
 15477                        	.sym	by,40,5,1,16
 15478                        	.sym	fillOffset,42,5,1,16
 15479                        	.sym	pWin,4,138,6,32,30
 15480                        	.sym	style,8,18,6,32
 15481                        	.sym	cx,12,5,6,16
 15482                        	.sym	cy,14,5,6,16
 15483                        	.sym	height,16,5,6,16
 15484                        	.sym	width,18,5,6,16
 15485                        	.sym	title,20,142,6,32
 15486                        	.sym	color,24,5,6,16
 15487                        	.sym	bgcolor,26,5,6,16
 15488                        	.sym	page,28,16,6,16
 15489 03:3DB5: 64 11        	stz	<L756+i_1
  Mon Dec  7 2020 11:19                                                Page 285


 15490 03:3DB7: A9 01 00     	lda	#$1
 15491 03:3DBA: 85 13        	sta	<L756+odd_1
 15492 03:3DBC: 64 15        	stz	<L756+borderColor_1
 15493 03:3DBE: 64 17        	stz	<L756+borderTitle_1
 15494 03:3DC0: 64 19        	stz	<L756+borderWidth_1
 15495 03:3DC2: 64 1B        	stz	<L756+titleOffsetX_1
 15496 03:3DC4: 64 1D        	stz	<L756+titleOffsetY_1
 15497 03:3DC6: 64 1F        	stz	<L756+titleScaler_1
 15498 03:3DC8: 64 21        	stz	<L756+clientOffsetX_1
 15499 03:3DCA: 64 23        	stz	<L756+clientOffsetY_1
 15500 03:3DCC: 64 25        	stz	<L756+currX_1
 15501 03:3DCE: 64 27        	stz	<L756+currY_1
 15502 03:3DD0: 64 29        	stz	<L756+endX_1
 15503 03:3DD2: 64 2B        	stz	<L756+maxminPos_1
 15504 03:3DD4: 64 2D        	stz	<L756+ncc_1
 15505 03:3DD6: A9 02 00     	lda	#$2
 15506 03:3DD9: 85 37        	sta	<L756+fillOffset_1
 15507                        	.line	2350
 15508 03:3DDB: D4 3E        	pei	<L755+pWin_0+2
 15509 03:3DDD: D4 3C        	pei	<L755+pWin_0
 15510 03:3DDF: F4 xx xx     	pea	#^L750
 15511 03:3DE2: F4 xx xx     	pea	#<L750
 15512 03:3DE5: 22 xx xx xx  	jsl	~~k_debug_pointer
 15513                        ;	/*
 15514                        ;	if(pWin->pParentWindow)
 15515                        ;	{
 15516                        ;		cx = k_getWindowFromHandle(pWin->pParent
                    Window)->clientRect.x + cx;
 15517                        ;		cy = k_getWindowFromHandle(pWin->pParent
                    Window)->clientRect.y + cy;
 15518                        ;		k_debug_strings("k_vdraw_ui_window::IS C
                    HILD:",title);
 15519                        ;		k_debug_integer("k_vdraw_ui_window:cx:",
                    cx);
 15520                        ;		k_debug_integer("k_vdraw_ui_window:cy:",
                    cy);
 15521                        ;		k_debug_integer("k_vdraw_ui_window:width
                    :",width);
 15522                        ;		k_debug_integer("k_vdraw_ui_window:heigh
                    t:",height);
 15523                        ;	}
 15524                        ;	*/
 15525                        ;	if(title)
 15526                        	.line	2363
 15527                        ;	{
 15528 03:3DE9: A5 4C        	lda	<L755+title_0
 15529 03:3DEB: 05 4E        	ora	<L755+title_0+2
 15530 03:3DED: D0 03        	bne	L758
 15531 03:3DEF: 82 1C 00     	brl	L10325
 15532                        L758:
 15533                        	.line	2364
 15534                        ;		title[32] = 0;
 15535                        	.line	2365
 15536 03:3DF2: E2 20        	sep	#$20
 15537                        	longa	off
 15538 03:3DF4: A9 00        	lda	#$0
 15539 03:3DF6: A0 20 00     	ldy	#$20
 15540 03:3DF9: 97 4C        	sta	[<L755+title_0],Y
  Mon Dec  7 2020 11:19                                                Page 286


 15541 03:3DFB: C2 20        	rep	#$20
 15542                        	longa	on
 15543                        ;		k_debug_strings("k_vdraw_ui_window::IS C
                    HILD:",title);
 15544                        	.line	2366
 15545 03:3DFD: D4 4E        	pei	<L755+title_0+2
 15546 03:3DFF: D4 4C        	pei	<L755+title_0
 15547 03:3E01: F4 xx xx     	pea	#^L750+24
 15548 03:3E04: F4 xx xx     	pea	#<L750+24
 15549 03:3E07: 22 xx xx xx  	jsl	~~k_debug_strings
 15550                        ;	}
 15551                        	.line	2367
 15552                        ;	else
 15553 03:3E0B: 82 10 00     	brl	L10326
 15554                        L10325:
 15555                        ;		k_debug_strings("k_vdraw_ui_window::IS C
                    HILD:","NULL");
 15556                        	.line	2369
 15557 03:3E0E: F4 xx xx     	pea	#^L750+82
 15558 03:3E11: F4 xx xx     	pea	#<L750+82
 15559 03:3E14: F4 xx xx     	pea	#^L750+53
 15560 03:3E17: F4 xx xx     	pea	#<L750+53
 15561 03:3E1A: 22 xx xx xx  	jsl	~~k_debug_strings
 15562                        L10326:
 15563                        ;
 15564                        ;	k_debug_integer("k_vdraw_ui_window:cx:",cx);
 15565                        	.line	2371
 15566 03:3E1E: D4 44        	pei	<L755+cx_0
 15567 03:3E20: F4 xx xx     	pea	#^L750+87
 15568 03:3E23: F4 xx xx     	pea	#<L750+87
 15569 03:3E26: 22 xx xx xx  	jsl	~~k_debug_integer
 15570                        ;	k_debug_integer("k_vdraw_ui_window:cy:",cy);
 15571                        	.line	2372
 15572 03:3E2A: D4 46        	pei	<L755+cy_0
 15573 03:3E2C: F4 xx xx     	pea	#^L750+109
 15574 03:3E2F: F4 xx xx     	pea	#<L750+109
 15575 03:3E32: 22 xx xx xx  	jsl	~~k_debug_integer
 15576                        ;	k_debug_integer("k_vdraw_ui_window:width:",width
                    );
 15577                        	.line	2373
 15578 03:3E36: D4 4A        	pei	<L755+width_0
 15579 03:3E38: F4 xx xx     	pea	#^L750+131
 15580 03:3E3B: F4 xx xx     	pea	#<L750+131
 15581 03:3E3E: 22 xx xx xx  	jsl	~~k_debug_integer
 15582                        ;	k_debug_integer("k_vdraw_ui_window:height:",heig
                    ht);
 15583                        	.line	2374
 15584 03:3E42: D4 48        	pei	<L755+height_0
 15585 03:3E44: F4 xx xx     	pea	#^L750+156
 15586 03:3E47: F4 xx xx     	pea	#<L750+156
 15587 03:3E4A: 22 xx xx xx  	jsl	~~k_debug_integer
 15588                        ;
 15589                        ;	k_debug_rect("k_vdraw_ui_window:client:",&pWin->
                    clientRect);
 15590                        	.line	2376
 15591 03:3E4E: 18           	clc
 15592 03:3E4F: A9 18 00     	lda	#$18
 15593 03:3E52: 65 3C        	adc	<L755+pWin_0
  Mon Dec  7 2020 11:19                                                Page 287


 15594 03:3E54: 85 01        	sta	<R0
 15595 03:3E56: A9 00 00     	lda	#$0
 15596 03:3E59: 65 3E        	adc	<L755+pWin_0+2
 15597 03:3E5B: 85 03        	sta	<R0+2
 15598 03:3E5D: D4 03        	pei	<R0+2
 15599 03:3E5F: D4 01        	pei	<R0
 15600 03:3E61: F4 xx xx     	pea	#^L750+182
 15601 03:3E64: F4 xx xx     	pea	#<L750+182
 15602 03:3E67: 22 xx xx xx  	jsl	~~k_debug_rect
 15603                        ;
 15604                        ;	gx = k_user_getSystemMetric(SM_CXGADGET);
 15605                        	.line	2378
 15606 03:3E6B: F4 18 00     	pea	#<$18
 15607 03:3E6E: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 15608 03:3E72: 85 2F        	sta	<L756+gx_1
 15609                        ;	gy = k_user_getSystemMetric(SM_CYGADGET);
 15610                        	.line	2379
 15611 03:3E74: F4 19 00     	pea	#<$19
 15612 03:3E77: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 15613 03:3E7B: 85 31        	sta	<L756+gy_1
 15614                        ;	bx = k_user_getSystemMetric(SM_CXBORDER);
 15615                        	.line	2380
 15616 03:3E7D: F4 05 00     	pea	#<$5
 15617 03:3E80: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 15618 03:3E84: 85 33        	sta	<L756+bx_1
 15619                        ;	by = k_user_getSystemMetric(SM_CYBORDER);
 15620                        	.line	2381
 15621 03:3E86: F4 06 00     	pea	#<$6
 15622 03:3E89: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 15623 03:3E8D: 85 35        	sta	<L756+by_1
 15624                        ;
 15625                        ;	titleOffsetX = cx+2;
 15626                        	.line	2383
 15627 03:3E8F: 18           	clc
 15628 03:3E90: A9 02 00     	lda	#$2
 15629 03:3E93: 65 44        	adc	<L755+cx_0
 15630 03:3E95: 85 1B        	sta	<L756+titleOffsetX_1
 15631                        ;	titleOffsetY = cy+1;
 15632                        	.line	2384
 15633 03:3E97: A5 46        	lda	<L755+cy_0
 15634 03:3E99: 1A           	ina
 15635 03:3E9A: 85 1D        	sta	<L756+titleOffsetY_1
 15636                        ;
 15637                        ;	//k_debug_strings("k_vdraw_ui_window:","enter");
 15638                        ;
 15639                        ;	if(style & FXWS_VISIBLE != FXWS_VISIBLE)
 15640                        	.line	2388
 15641                        ;	{
 15642 03:3E9C: 82 1E 00     	brl	L10327
 15643                        	.line	2389
 15644                        ;		k_debug_strings("k_vdraw_ui_window::NOT 
                    RENDERING:",title);
 15645                        	.line	2390
 15646 03:3E9F: D4 4E        	pei	<L755+title_0+2
 15647 03:3EA1: D4 4C        	pei	<L755+title_0
 15648 03:3EA3: F4 xx xx     	pea	#^L750+208
 15649 03:3EA6: F4 xx xx     	pea	#<L750+208
 15650 03:3EA9: 22 xx xx xx  	jsl	~~k_debug_strings
  Mon Dec  7 2020 11:19                                                Page 288


 15651                        ;		return;
 15652                        	.line	2391
 15653                        L759:
 15654 03:3EAD: A5 3A        	lda	<L755+2
 15655 03:3EAF: 85 54        	sta	<L755+2+26
 15656 03:3EB1: A5 39        	lda	<L755+1
 15657 03:3EB3: 85 53        	sta	<L755+1+26
 15658 03:3EB5: 2B           	pld
 15659 03:3EB6: 3B           	tsc
 15660 03:3EB7: 18           	clc
 15661 03:3EB8: 69 52 00     	adc	#L755+26
 15662 03:3EBB: 1B           	tcs
 15663 03:3EBC: 6B           	rtl
 15664                        ;	}
 15665                        	.line	2392
 15666                        ;
 15667                        ;	//k_debug_strings("k_vdraw_ui_window::RENDERING:
                    ",title);
 15668                        ;
 15669                        ;	if(style & FXWS_THICKFRAME)
 15670                        L10327:
 15671                        	.line	2396
 15672                        ;	{
 15673 03:3EBD: A5 42        	lda	<L755+style_0+2
 15674 03:3EBF: 29 02 00     	and	#^$20000
 15675 03:3EC2: D0 03        	bne	L760
 15676 03:3EC4: 82 08 00     	brl	L10328
 15677                        L760:
 15678                        	.line	2397
 15679                        ;		borderWidth = 2;
 15680                        	.line	2398
 15681 03:3EC7: A9 02 00     	lda	#$2
 15682 03:3ECA: 85 19        	sta	<L756+borderWidth_1
 15683                        ;	}
 15684                        	.line	2399
 15685                        ;	else if(style & FXWS_BORDER)
 15686 03:3ECC: 82 21 00     	brl	L10329
 15687                        L10328:
 15688                        	.line	2400
 15689                        ;	{
 15690 03:3ECF: A5 42        	lda	<L755+style_0+2
 15691 03:3ED1: 29 01 00     	and	#^$10000
 15692 03:3ED4: D0 03        	bne	L761
 15693 03:3ED6: 82 08 00     	brl	L10330
 15694                        L761:
 15695                        	.line	2401
 15696                        ;		borderWidth = 1;
 15697                        	.line	2402
 15698 03:3ED9: A9 01 00     	lda	#$1
 15699 03:3EDC: 85 19        	sta	<L756+borderWidth_1
 15700                        ;	}
 15701                        	.line	2403
 15702                        ;	else if(style & FXWS_DLGFRAME)
 15703 03:3EDE: 82 0F 00     	brl	L10331
 15704                        L10330:
 15705                        	.line	2404
 15706                        ;	{
 15707 03:3EE1: A5 42        	lda	<L755+style_0+2
  Mon Dec  7 2020 11:19                                                Page 289


 15708 03:3EE3: 29 04 00     	and	#^$40000
 15709 03:3EE6: D0 03        	bne	L762
 15710 03:3EE8: 82 05 00     	brl	L10332
 15711                        L762:
 15712                        	.line	2405
 15713                        ;		borderWidth = 4;
 15714                        	.line	2406
 15715 03:3EEB: A9 04 00     	lda	#$4
 15716 03:3EEE: 85 19        	sta	<L756+borderWidth_1
 15717                        ;	}
 15718                        	.line	2407
 15719                        ;
 15720                        ;	if( ((style & FXWS_CAPTION) == FXWS_CAPTION) || 
                    (style & FXWS_SYSMENU) || (style & FXWS_MINIMIZEBOX) || (sty
                    le & FXWS_MAXIMIZEBOX))
 15721                        L10332:
 15722                        L10331:
 15723                        L10329:
 15724                        	.line	2409
 15725                        ;	{
 15726 03:3EF0: A5 40        	lda	<L755+style_0
 15727 03:3EF2: 29 04 00     	and	#<$4
 15728 03:3EF5: 85 01        	sta	<R0
 15729 03:3EF7: 64 03        	stz	<R0+2
 15730 03:3EF9: A5 01        	lda	<R0
 15731 03:3EFB: C9 04 00     	cmp	#<$4
 15732 03:3EFE: D0 05        	bne	L764
 15733 03:3F00: A5 03        	lda	<R0+2
 15734 03:3F02: C9 00 00     	cmp	#^$4
 15735                        L764:
 15736 03:3F05: D0 03        	bne	L765
 15737 03:3F07: 82 1E 00     	brl	L763
 15738                        L765:
 15739 03:3F0A: A5 40        	lda	<L755+style_0
 15740 03:3F0C: 29 08 00     	and	#<$8
 15741 03:3F0F: F0 03        	beq	L766
 15742 03:3F11: 82 14 00     	brl	L763
 15743                        L766:
 15744 03:3F14: A5 40        	lda	<L755+style_0
 15745 03:3F16: 29 20 00     	and	#<$20
 15746 03:3F19: F0 03        	beq	L767
 15747 03:3F1B: 82 0A 00     	brl	L763
 15748                        L767:
 15749 03:3F1E: A5 40        	lda	<L755+style_0
 15750 03:3F20: 29 10 00     	and	#<$10
 15751 03:3F23: D0 03        	bne	L768
 15752 03:3F25: 82 05 00     	brl	L10333
 15753                        L768:
 15754                        L763:
 15755                        	.line	2410
 15756                        ;		borderTitle = 10;
 15757                        	.line	2411
 15758 03:3F28: A9 0A 00     	lda	#$a
 15759 03:3F2B: 85 17        	sta	<L756+borderTitle_1
 15760                        ;	}
 15761                        	.line	2412
 15762                        ;
 15763                        ;	clientOffsetX = cx + borderWidth;
  Mon Dec  7 2020 11:19                                                Page 290


 15764                        L10333:
 15765                        	.line	2414
 15766 03:3F2D: 18           	clc
 15767 03:3F2E: A5 44        	lda	<L755+cx_0
 15768 03:3F30: 65 19        	adc	<L756+borderWidth_1
 15769 03:3F32: 85 21        	sta	<L756+clientOffsetX_1
 15770                        ;
 15771                        ;	if(borderTitle)
 15772                        	.line	2416
 15773                        ;		clientOffsetY = cy + borderTitle;
 15774 03:3F34: A5 17        	lda	<L756+borderTitle_1
 15775 03:3F36: D0 03        	bne	L769
 15776 03:3F38: 82 0A 00     	brl	L10334
 15777                        L769:
 15778                        	.line	2417
 15779 03:3F3B: 18           	clc
 15780 03:3F3C: A5 46        	lda	<L755+cy_0
 15781 03:3F3E: 65 17        	adc	<L756+borderTitle_1
 15782 03:3F40: 85 23        	sta	<L756+clientOffsetY_1
 15783                        ;	else
 15784 03:3F42: 82 07 00     	brl	L10335
 15785                        L10334:
 15786                        ;		clientOffsetY = cy + borderWidth;
 15787                        	.line	2419
 15788 03:3F45: 18           	clc
 15789 03:3F46: A5 46        	lda	<L755+cy_0
 15790 03:3F48: 65 19        	adc	<L756+borderWidth_1
 15791 03:3F4A: 85 23        	sta	<L756+clientOffsetY_1
 15792                        L10335:
 15793                        ;
 15794                        ;	currX = clientOffsetX;
 15795                        	.line	2421
 15796 03:3F4C: A5 21        	lda	<L756+clientOffsetX_1
 15797 03:3F4E: 85 25        	sta	<L756+currX_1
 15798                        ;	currY = clientOffsetY;
 15799                        	.line	2422
 15800 03:3F50: A5 23        	lda	<L756+clientOffsetY_1
 15801 03:3F52: 85 27        	sta	<L756+currY_1
 15802                        ;
 15803                        ;	endX = width + cx - borderWidth;
 15804                        	.line	2424
 15805 03:3F54: 18           	clc
 15806 03:3F55: A5 4A        	lda	<L755+width_0
 15807 03:3F57: 65 44        	adc	<L755+cx_0
 15808 03:3F59: 85 01        	sta	<R0
 15809 03:3F5B: 38           	sec
 15810 03:3F5C: A5 01        	lda	<R0
 15811 03:3F5E: E5 19        	sbc	<L756+borderWidth_1
 15812 03:3F60: 85 29        	sta	<L756+endX_1
 15813                        ;	maxminPos = 0;
 15814                        	.line	2425
 15815 03:3F62: 64 2B        	stz	<L756+maxminPos_1
 15816                        ;
 15817                        ;
 15818                        ;	/*
 15819                        ;	k_vdma_fill_rect(cx,cy,width,height,color);
 15820                        ;	//k_delay(50);
 15821                        ;
  Mon Dec  7 2020 11:19                                                Page 291


 15822                        ;	k_vdma_fill_rect(cx + borderWidth,
 15823                        ;			         cy + (borderTitle + bor
                    derWidth),
 15824                        ;					 //width - borde
                    rWidth - borderWidth + 1,
 15825                        ;					 //height - bord
                    erTitle - borderWidth + 1,
 15826                        ;					 width  - (borde
                    rWidth + fillOffset),
 15827                        ;					 height - (borde
                    rTitle + borderWidth + fillOffset),
 15828                        ;					 bgcolor);
 15829                        ;	*/
 15830                        ;
 15831                        ;	//k_debug_integer("k_vdraw_ui_window:cx:",cx);
 15832                        ;	//k_debug_integer("k_vdraw_ui_window:cy:",cy);
 15833                        ;	//k_debug_integer("k_vdraw_ui_window:width:",wid
                    th);
 15834                        ;	//k_debug_integer("k_vdraw_ui_window:height:",he
                    ight);
 15835                        ;
 15836                        ;	k_vdma_fill_rect_ex(cx,cy,width,height,bgcolor,p
                    age);
 15837                        	.line	2446
 15838 03:3F64: D4 54        	pei	<L755+page_0
 15839 03:3F66: D4 52        	pei	<L755+bgcolor_0
 15840 03:3F68: D4 48        	pei	<L755+height_0
 15841 03:3F6A: D4 4A        	pei	<L755+width_0
 15842 03:3F6C: A0 00 00     	ldy	#$0
 15843 03:3F6F: A5 46        	lda	<L755+cy_0
 15844 03:3F71: 10 01        	bpl	L770
 15845 03:3F73: 88           	dey
 15846                        L770:
 15847 03:3F74: 85 01        	sta	<R0
 15848 03:3F76: 84 03        	sty	<R0+2
 15849 03:3F78: D4 03        	pei	<R0+2
 15850 03:3F7A: D4 01        	pei	<R0
 15851 03:3F7C: A0 00 00     	ldy	#$0
 15852 03:3F7F: A5 44        	lda	<L755+cx_0
 15853 03:3F81: 10 01        	bpl	L771
 15854 03:3F83: 88           	dey
 15855                        L771:
 15856 03:3F84: 85 05        	sta	<R1
 15857 03:3F86: 84 07        	sty	<R1+2
 15858 03:3F88: D4 07        	pei	<R1+2
 15859 03:3F8A: D4 05        	pei	<R1
 15860 03:3F8C: 22 F6 50 03  	jsl	~~k_vdma_fill_rect_ex
 15861                        ;	borderColor = color;
 15862                        	.line	2447
 15863 03:3F90: A5 50        	lda	<L755+color_0
 15864 03:3F92: 85 15        	sta	<L756+borderColor_1
 15865                        ;	for(i=0;i<borderWidth;i++)
 15866                        	.line	2448
 15867 03:3F94: 64 11        	stz	<L756+i_1
 15868 03:3F96: 82 6F 00     	brl	L10339
 15869                        L10338:
 15870                        ;	{
 15871                        	.line	2449
  Mon Dec  7 2020 11:19                                                Page 292


 15872                        ;		if(borderWidth > 2)
 15873                        	.line	2450
 15874                        ;		{
 15875 03:3F99: 38           	sec
 15876 03:3F9A: A9 02 00     	lda	#$2
 15877 03:3F9D: E5 19        	sbc	<L756+borderWidth_1
 15878 03:3F9F: 70 03        	bvs	L772
 15879 03:3FA1: 49 00 80     	eor	#$8000
 15880                        L772:
 15881 03:3FA4: 10 03        	bpl	L773
 15882 03:3FA6: 82 1C 00     	brl	L10340
 15883                        L773:
 15884                        	.line	2451
 15885                        ;			borderColor = color;
 15886                        	.line	2452
 15887 03:3FA9: A5 50        	lda	<L755+color_0
 15888 03:3FAB: 85 15        	sta	<L756+borderColor_1
 15889                        ;			odd=!odd;
 15890                        	.line	2453
 15891 03:3FAD: 64 01        	stz	<R0
 15892 03:3FAF: A5 13        	lda	<L756+odd_1
 15893 03:3FB1: F0 03        	beq	L775
 15894 03:3FB3: 82 02 00     	brl	L774
 15895                        L775:
 15896 03:3FB6: E6 01        	inc	<R0
 15897                        L774:
 15898 03:3FB8: A5 01        	lda	<R0
 15899 03:3FBA: 85 13        	sta	<L756+odd_1
 15900                        ;			if(odd)
 15901                        	.line	2454
 15902                        ;			{
 15903 03:3FBC: A5 13        	lda	<L756+odd_1
 15904 03:3FBE: D0 03        	bne	L776
 15905 03:3FC0: 82 02 00     	brl	L10341
 15906                        L776:
 15907                        	.line	2455
 15908                        ;				borderColor = 0;
 15909                        	.line	2456
 15910 03:3FC3: 64 15        	stz	<L756+borderColor_1
 15911                        ;			}
 15912                        	.line	2457
 15913                        ;		}
 15914                        L10341:
 15915                        	.line	2458
 15916                        ;
 15917                        ;		k_draw_rect(cx + i + 0,
 15918                        L10340:
 15919                        	.line	2460
 15920                        ;					cy + i + 0,
 15921                        ;					cx + width  - 1 
                    - i,
 15922                        ;					cy + height - 1 
                    - i,
 15923                        ;					borderColor,
 15924                        ;					0,
 15925                        ;					page);
 15926 03:3FC5: D4 54        	pei	<L755+page_0
 15927 03:3FC7: F4 00 00     	pea	#<$0
  Mon Dec  7 2020 11:19                                                Page 293


 15928 03:3FCA: D4 15        	pei	<L756+borderColor_1
 15929 03:3FCC: 18           	clc
 15930 03:3FCD: A5 46        	lda	<L755+cy_0
 15931 03:3FCF: 65 48        	adc	<L755+height_0
 15932 03:3FD1: 85 01        	sta	<R0
 15933 03:3FD3: 18           	clc
 15934 03:3FD4: A9 FF FF     	lda	#$ffff
 15935 03:3FD7: 65 01        	adc	<R0
 15936 03:3FD9: 85 05        	sta	<R1
 15937 03:3FDB: 38           	sec
 15938 03:3FDC: A5 05        	lda	<R1
 15939 03:3FDE: E5 11        	sbc	<L756+i_1
 15940 03:3FE0: 48           	pha
 15941 03:3FE1: 18           	clc
 15942 03:3FE2: A5 44        	lda	<L755+cx_0
 15943 03:3FE4: 65 4A        	adc	<L755+width_0
 15944 03:3FE6: 85 01        	sta	<R0
 15945 03:3FE8: 18           	clc
 15946 03:3FE9: A9 FF FF     	lda	#$ffff
 15947 03:3FEC: 65 01        	adc	<R0
 15948 03:3FEE: 85 05        	sta	<R1
 15949 03:3FF0: 38           	sec
 15950 03:3FF1: A5 05        	lda	<R1
 15951 03:3FF3: E5 11        	sbc	<L756+i_1
 15952 03:3FF5: 48           	pha
 15953 03:3FF6: 18           	clc
 15954 03:3FF7: A5 46        	lda	<L755+cy_0
 15955 03:3FF9: 65 11        	adc	<L756+i_1
 15956 03:3FFB: 48           	pha
 15957 03:3FFC: 18           	clc
 15958 03:3FFD: A5 44        	lda	<L755+cx_0
 15959 03:3FFF: 65 11        	adc	<L756+i_1
 15960 03:4001: 48           	pha
 15961 03:4002: 22 EE 18 03  	jsl	~~k_draw_rect
 15962                        ;
 15963                        ;	}
 15964                        	.line	2468
 15965                        L10336:
 15966 03:4006: E6 11        	inc	<L756+i_1
 15967                        L10339:
 15968 03:4008: 38           	sec
 15969 03:4009: A5 11        	lda	<L756+i_1
 15970 03:400B: E5 19        	sbc	<L756+borderWidth_1
 15971 03:400D: 70 03        	bvs	L777
 15972 03:400F: 49 00 80     	eor	#$8000
 15973                        L777:
 15974 03:4012: 30 03        	bmi	L778
 15975 03:4014: 82 82 FF     	brl	L10338
 15976                        L778:
 15977                        L10337:
 15978                        ;
 15979                        ;
 15980                        ;
 15981                        ;	if(borderTitle)
 15982                        	.line	2472
 15983                        ;	{
 15984 03:4017: A5 17        	lda	<L756+borderTitle_1
 15985 03:4019: D0 03        	bne	L779
  Mon Dec  7 2020 11:19                                                Page 294


 15986 03:401B: 82 2C 00     	brl	L10342
 15987                        L779:
 15988                        	.line	2473
 15989                        ;		k_vdma_fill_rect_ex(cx,cy,width,borderTi
                    tle,color,page);
 15990                        	.line	2474
 15991 03:401E: D4 54        	pei	<L755+page_0
 15992 03:4020: D4 50        	pei	<L755+color_0
 15993 03:4022: D4 17        	pei	<L756+borderTitle_1
 15994 03:4024: D4 4A        	pei	<L755+width_0
 15995 03:4026: A0 00 00     	ldy	#$0
 15996 03:4029: A5 46        	lda	<L755+cy_0
 15997 03:402B: 10 01        	bpl	L780
 15998 03:402D: 88           	dey
 15999                        L780:
 16000 03:402E: 85 01        	sta	<R0
 16001 03:4030: 84 03        	sty	<R0+2
 16002 03:4032: D4 03        	pei	<R0+2
 16003 03:4034: D4 01        	pei	<R0
 16004 03:4036: A0 00 00     	ldy	#$0
 16005 03:4039: A5 44        	lda	<L755+cx_0
 16006 03:403B: 10 01        	bpl	L781
 16007 03:403D: 88           	dey
 16008                        L781:
 16009 03:403E: 85 05        	sta	<R1
 16010 03:4040: 84 07        	sty	<R1+2
 16011 03:4042: D4 07        	pei	<R1+2
 16012 03:4044: D4 05        	pei	<R1
 16013 03:4046: 22 F6 50 03  	jsl	~~k_vdma_fill_rect_ex
 16014                        ;	}
 16015                        	.line	2475
 16016                        ;
 16017                        ;	k_get_font_metrics(&metric);
 16018                        L10342:
 16019                        	.line	2477
 16020 03:404A: F4 00 00     	pea	#0
 16021 03:404D: 18           	clc
 16022 03:404E: 7B           	tdc
 16023 03:404F: 69 0D 00     	adc	#<L756+metric_1
 16024 03:4052: 48           	pha
 16025 03:4053: 22 6E 1C 03  	jsl	~~k_get_font_metrics
 16026                        ;	
 16027                        ;	
 16028                        ;	//title = strupr(title);
 16029                        ;	
 16030                        ;	//FXWS_OVERLAPPED | FXWS_CAPTION | FXWS_SYSMENU 
                    | FXWS_THICKFRAME | FXWS_MINIMIZEBOX | FXWS_MAXIMIZEBOX
 16031                        ;
 16032                        ;	if(style & FXWS_SYSMENU)
 16033                        	.line	2484
 16034                        ;	{
 16035 03:4057: A5 40        	lda	<L755+style_0
 16036 03:4059: 29 08 00     	and	#<$8
 16037 03:405C: D0 03        	bne	L782
 16038 03:405E: 82 A6 00     	brl	L10343
 16039                        L782:
 16040                        	.line	2485
 16041                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
  Mon Dec  7 2020 11:19                                                Page 295


                    .area),titleOffsetX,titleOffsetY,gx,gx);
 16042                        	.line	2486
 16043 03:4061: D4 2F        	pei	<L756+gx_1
 16044 03:4063: D4 2F        	pei	<L756+gx_1
 16045 03:4065: D4 1D        	pei	<L756+titleOffsetY_1
 16046 03:4067: D4 1B        	pei	<L756+titleOffsetX_1
 16047 03:4069: A0 00 00     	ldy	#$0
 16048 03:406C: A5 2D        	lda	<L756+ncc_1
 16049 03:406E: 10 01        	bpl	L783
 16050 03:4070: 88           	dey
 16051                        L783:
 16052 03:4071: 85 01        	sta	<R0
 16053 03:4073: 84 03        	sty	<R0+2
 16054 03:4075: F4 00 00     	pea	#^$b
 16055 03:4078: F4 0B 00     	pea	#<$b
 16056 03:407B: D4 03        	pei	<R0+2
 16057 03:407D: D4 01        	pei	<R0
 16058                        	xref	~~~lmul
 16059 03:407F: 22 xx xx xx  	jsl	~~~lmul
 16060 03:4083: 85 01        	sta	<R0
 16061 03:4085: 86 03        	stx	<R0+2
 16062 03:4087: 18           	clc
 16063 03:4088: A9 20 00     	lda	#$20
 16064 03:408B: 65 01        	adc	<R0
 16065 03:408D: 85 05        	sta	<R1
 16066 03:408F: A9 00 00     	lda	#$0
 16067 03:4092: 65 03        	adc	<R0+2
 16068 03:4094: 85 07        	sta	<R1+2
 16069 03:4096: 18           	clc
 16070 03:4097: A5 3C        	lda	<L755+pWin_0
 16071 03:4099: 65 05        	adc	<R1
 16072 03:409B: 85 01        	sta	<R0
 16073 03:409D: A5 3E        	lda	<L755+pWin_0+2
 16074 03:409F: 65 07        	adc	<R1+2
 16075 03:40A1: 85 03        	sta	<R0+2
 16076 03:40A3: D4 03        	pei	<R0+2
 16077 03:40A5: D4 01        	pei	<R0
 16078 03:40A7: 22 00 00 03  	jsl	~~k_set_rect
 16079                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_WINDOW_CLOSE;
 16080                        	.line	2487
 16081 03:40AB: A0 00 00     	ldy	#$0
 16082 03:40AE: A5 2D        	lda	<L756+ncc_1
 16083 03:40B0: 10 01        	bpl	L784
 16084 03:40B2: 88           	dey
 16085                        L784:
 16086 03:40B3: 85 01        	sta	<R0
 16087 03:40B5: 84 03        	sty	<R0+2
 16088 03:40B7: F4 00 00     	pea	#^$b
 16089 03:40BA: F4 0B 00     	pea	#<$b
 16090 03:40BD: D4 03        	pei	<R0+2
 16091 03:40BF: D4 01        	pei	<R0
 16092                        	xref	~~~lmul
 16093 03:40C1: 22 xx xx xx  	jsl	~~~lmul
 16094 03:40C5: 85 01        	sta	<R0
 16095 03:40C7: 86 03        	stx	<R0+2
 16096 03:40C9: 18           	clc
 16097 03:40CA: A9 28 00     	lda	#$28
  Mon Dec  7 2020 11:19                                                Page 296


 16098 03:40CD: 65 3C        	adc	<L755+pWin_0
 16099 03:40CF: 85 05        	sta	<R1
 16100 03:40D1: A9 00 00     	lda	#$0
 16101 03:40D4: 65 3E        	adc	<L755+pWin_0+2
 16102 03:40D6: 85 07        	sta	<R1+2
 16103 03:40D8: 18           	clc
 16104 03:40D9: A5 05        	lda	<R1
 16105 03:40DB: 65 01        	adc	<R0
 16106 03:40DD: 85 09        	sta	<R2
 16107 03:40DF: A5 07        	lda	<R1+2
 16108 03:40E1: 65 03        	adc	<R0+2
 16109 03:40E3: 85 0B        	sta	<R2+2
 16110 03:40E5: A9 FF FB     	lda	#$fbff
 16111 03:40E8: 87 09        	sta	[<R2]
 16112 03:40EA: E6 2D        	inc	<L756+ncc_1
 16113                        ;
 16114                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_SYSMENU");
 16115                        ;		titleOffsetX+=k_put_wingadget_point_ex(W
                    INICON_TITLE_BCLOSE,titleOffsetX,titleOffsetY,k_getUIGadgetC
                    olor(),page);
 16116                        	.line	2490
 16117 03:40EC: D4 54        	pei	<L755+page_0
 16118 03:40EE: 22 B3 0D 03  	jsl	~~k_getUIGadgetColor
 16119 03:40F2: 48           	pha
 16120 03:40F3: D4 1D        	pei	<L756+titleOffsetY_1
 16121 03:40F5: D4 1B        	pei	<L756+titleOffsetX_1
 16122 03:40F7: F4 06 00     	pea	#<$6
 16123 03:40FA: 22 E3 24 03  	jsl	~~k_put_wingadget_point_ex
 16124 03:40FE: 85 01        	sta	<R0
 16125 03:4100: 18           	clc
 16126 03:4101: A5 01        	lda	<R0
 16127 03:4103: 65 1B        	adc	<L756+titleOffsetX_1
 16128 03:4105: 85 1B        	sta	<L756+titleOffsetX_1
 16129                        ;
 16130                        ;	}
 16131                        	.line	2492
 16132                        ;	
 16133                        ;	if((style & FXWS_CAPTION) == FXWS_CAPTION)
 16134                        L10343:
 16135                        	.line	2494
 16136                        ;	{
 16137 03:4107: A5 40        	lda	<L755+style_0
 16138 03:4109: 29 04 00     	and	#<$4
 16139 03:410C: 85 01        	sta	<R0
 16140 03:410E: 64 03        	stz	<R0+2
 16141 03:4110: A5 01        	lda	<R0
 16142 03:4112: C9 04 00     	cmp	#<$4
 16143 03:4115: D0 05        	bne	L785
 16144 03:4117: A5 03        	lda	<R0+2
 16145 03:4119: C9 00 00     	cmp	#^$4
 16146                        L785:
 16147 03:411C: F0 03        	beq	L786
 16148 03:411E: 82 43 00     	brl	L10344
 16149                        L786:
 16150                        	.line	2495
 16151                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_CAPTION");
  Mon Dec  7 2020 11:19                                                Page 297


 16152                        ;		//titleScaler = (int)(width / metric.wid
                    th - 3);
 16153                        ;		titleScaler = (int)(width / metric.width
                     -1 );
 16154                        	.line	2498
 16155 03:4121: A5 4A        	lda	<L755+width_0
 16156 03:4123: A6 0D        	ldx	<L756+metric_1
 16157                        	xref	~~~div
 16158 03:4125: 22 xx xx xx  	jsl	~~~div
 16159 03:4129: 85 01        	sta	<R0
 16160 03:412B: 18           	clc
 16161 03:412C: A9 FF FF     	lda	#$ffff
 16162 03:412F: 65 01        	adc	<R0
 16163 03:4131: 85 1F        	sta	<L756+titleScaler_1
 16164                        ;		for(i=0;i<titleScaler;i++)
 16165                        	.line	2499
 16166 03:4133: 64 11        	stz	<L756+i_1
 16167 03:4135: 82 1D 00     	brl	L10348
 16168                        L10347:
 16169                        ;		{
 16170                        	.line	2500
 16171                        ;			titleOffsetX+=k_put_wingadget_po
                    int_ex(WINICON_TITLE_LINES,titleOffsetX,titleOffsetY,k_getUI
                    GadgetColor(),page);
 16172                        	.line	2501
 16173 03:4138: D4 54        	pei	<L755+page_0
 16174 03:413A: 22 B3 0D 03  	jsl	~~k_getUIGadgetColor
 16175 03:413E: 48           	pha
 16176 03:413F: D4 1D        	pei	<L756+titleOffsetY_1
 16177 03:4141: D4 1B        	pei	<L756+titleOffsetX_1
 16178 03:4143: F4 01 00     	pea	#<$1
 16179 03:4146: 22 E3 24 03  	jsl	~~k_put_wingadget_point_ex
 16180 03:414A: 85 01        	sta	<R0
 16181 03:414C: 18           	clc
 16182 03:414D: A5 01        	lda	<R0
 16183 03:414F: 65 1B        	adc	<L756+titleOffsetX_1
 16184 03:4151: 85 1B        	sta	<L756+titleOffsetX_1
 16185                        ;		}
 16186                        	.line	2502
 16187                        L10345:
 16188 03:4153: E6 11        	inc	<L756+i_1
 16189                        L10348:
 16190 03:4155: 38           	sec
 16191 03:4156: A5 11        	lda	<L756+i_1
 16192 03:4158: E5 1F        	sbc	<L756+titleScaler_1
 16193 03:415A: 70 03        	bvs	L787
 16194 03:415C: 49 00 80     	eor	#$8000
 16195                        L787:
 16196 03:415F: 30 03        	bmi	L788
 16197 03:4161: 82 D4 FF     	brl	L10347
 16198                        L788:
 16199                        L10346:
 16200                        ;	}
 16201                        	.line	2503
 16202                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_BACK,titleOffsetX,titleOffsetY,14);
 16203                        ;	//titleOffsetX+=2;
 16204                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
  Mon Dec  7 2020 11:19                                                Page 298


                    TLE_FRONT,titleOffsetX,titleOffsetY,14);
 16205                        ;	
 16206                        ;	if(style & FXWS_MAXIMIZEBOX)
 16207                        L10344:
 16208                        	.line	2508
 16209                        ;	{
 16210 03:4164: A5 40        	lda	<L755+style_0
 16211 03:4166: 29 10 00     	and	#<$10
 16212 03:4169: D0 03        	bne	L789
 16213 03:416B: 82 C6 00     	brl	L10349
 16214                        L789:
 16215                        	.line	2509
 16216                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_MAXIMIZEBOX");
 16217                        ;		maxminPos+=metric.width;
 16218                        	.line	2511
 16219 03:416E: 18           	clc
 16220 03:416F: A5 2B        	lda	<L756+maxminPos_1
 16221 03:4171: 65 0D        	adc	<L756+metric_1
 16222 03:4173: 85 2B        	sta	<L756+maxminPos_1
 16223                        ;		//k_put_wingadget_point(WINICON_BLOCK,en
                    dX - (metric.width),titleOffsetY,k_getUIWindowBorderColor())
                    ;
 16224                        ;		//k_put_wingadget_point(WINICON_TITLE_FR
                    ONT,endX - (metric.width),titleOffsetY,k_getUIGadgetColor())
                    ;
 16225                        ;
 16226                        ;		k_put_wingadget_point_ex(WINICON_BLOCK,e
                    ndX - maxminPos,titleOffsetY,k_getUIWindowBorderColor(),page
                    );
 16227                        	.line	2515
 16228 03:4175: D4 54        	pei	<L755+page_0
 16229 03:4177: 22 74 0D 03  	jsl	~~k_getUIWindowBorderColor
 16230 03:417B: 48           	pha
 16231 03:417C: D4 1D        	pei	<L756+titleOffsetY_1
 16232 03:417E: 38           	sec
 16233 03:417F: A5 29        	lda	<L756+endX_1
 16234 03:4181: E5 2B        	sbc	<L756+maxminPos_1
 16235 03:4183: 48           	pha
 16236 03:4184: F4 00 00     	pea	#<$0
 16237 03:4187: 22 E3 24 03  	jsl	~~k_put_wingadget_point_ex
 16238                        ;		k_put_wingadget_point_ex(WINICON_TITLE_F
                    RONT,endX - maxminPos,titleOffsetY,k_getUIGadgetColor(),page
                    );
 16239                        	.line	2516
 16240 03:418B: D4 54        	pei	<L755+page_0
 16241 03:418D: 22 B3 0D 03  	jsl	~~k_getUIGadgetColor
 16242 03:4191: 48           	pha
 16243 03:4192: D4 1D        	pei	<L756+titleOffsetY_1
 16244 03:4194: 38           	sec
 16245 03:4195: A5 29        	lda	<L756+endX_1
 16246 03:4197: E5 2B        	sbc	<L756+maxminPos_1
 16247 03:4199: 48           	pha
 16248 03:419A: F4 03 00     	pea	#<$3
 16249 03:419D: 22 E3 24 03  	jsl	~~k_put_wingadget_point_ex
 16250                        ;
 16251                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),endX - maxminPos,titleOffsetY,gx,gx);
  Mon Dec  7 2020 11:19                                                Page 299


 16252                        	.line	2518
 16253 03:41A1: D4 2F        	pei	<L756+gx_1
 16254 03:41A3: D4 2F        	pei	<L756+gx_1
 16255 03:41A5: D4 1D        	pei	<L756+titleOffsetY_1
 16256 03:41A7: 38           	sec
 16257 03:41A8: A5 29        	lda	<L756+endX_1
 16258 03:41AA: E5 2B        	sbc	<L756+maxminPos_1
 16259 03:41AC: 48           	pha
 16260 03:41AD: A0 00 00     	ldy	#$0
 16261 03:41B0: A5 2D        	lda	<L756+ncc_1
 16262 03:41B2: 10 01        	bpl	L790
 16263 03:41B4: 88           	dey
 16264                        L790:
 16265 03:41B5: 85 01        	sta	<R0
 16266 03:41B7: 84 03        	sty	<R0+2
 16267 03:41B9: F4 00 00     	pea	#^$b
 16268 03:41BC: F4 0B 00     	pea	#<$b
 16269 03:41BF: D4 03        	pei	<R0+2
 16270 03:41C1: D4 01        	pei	<R0
 16271                        	xref	~~~lmul
 16272 03:41C3: 22 xx xx xx  	jsl	~~~lmul
 16273 03:41C7: 85 01        	sta	<R0
 16274 03:41C9: 86 03        	stx	<R0+2
 16275 03:41CB: 18           	clc
 16276 03:41CC: A9 20 00     	lda	#$20
 16277 03:41CF: 65 01        	adc	<R0
 16278 03:41D1: 85 05        	sta	<R1
 16279 03:41D3: A9 00 00     	lda	#$0
 16280 03:41D6: 65 03        	adc	<R0+2
 16281 03:41D8: 85 07        	sta	<R1+2
 16282 03:41DA: 18           	clc
 16283 03:41DB: A5 3C        	lda	<L755+pWin_0
 16284 03:41DD: 65 05        	adc	<R1
 16285 03:41DF: 85 01        	sta	<R0
 16286 03:41E1: A5 3E        	lda	<L755+pWin_0+2
 16287 03:41E3: 65 07        	adc	<R1+2
 16288 03:41E5: 85 03        	sta	<R0+2
 16289 03:41E7: D4 03        	pei	<R0+2
 16290 03:41E9: D4 01        	pei	<R0
 16291 03:41EB: 22 00 00 03  	jsl	~~k_set_rect
 16292                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_MAX_WINDOW;
 16293                        	.line	2519
 16294 03:41EF: A0 00 00     	ldy	#$0
 16295 03:41F2: A5 2D        	lda	<L756+ncc_1
 16296 03:41F4: 10 01        	bpl	L791
 16297 03:41F6: 88           	dey
 16298                        L791:
 16299 03:41F7: 85 01        	sta	<R0
 16300 03:41F9: 84 03        	sty	<R0+2
 16301 03:41FB: F4 00 00     	pea	#^$b
 16302 03:41FE: F4 0B 00     	pea	#<$b
 16303 03:4201: D4 03        	pei	<R0+2
 16304 03:4203: D4 01        	pei	<R0
 16305                        	xref	~~~lmul
 16306 03:4205: 22 xx xx xx  	jsl	~~~lmul
 16307 03:4209: 85 01        	sta	<R0
 16308 03:420B: 86 03        	stx	<R0+2
  Mon Dec  7 2020 11:19                                                Page 300


 16309 03:420D: 18           	clc
 16310 03:420E: A9 28 00     	lda	#$28
 16311 03:4211: 65 3C        	adc	<L755+pWin_0
 16312 03:4213: 85 05        	sta	<R1
 16313 03:4215: A9 00 00     	lda	#$0
 16314 03:4218: 65 3E        	adc	<L755+pWin_0+2
 16315 03:421A: 85 07        	sta	<R1+2
 16316 03:421C: 18           	clc
 16317 03:421D: A5 05        	lda	<R1
 16318 03:421F: 65 01        	adc	<R0
 16319 03:4221: 85 09        	sta	<R2
 16320 03:4223: A5 07        	lda	<R1+2
 16321 03:4225: 65 03        	adc	<R0+2
 16322 03:4227: 85 0B        	sta	<R2+2
 16323 03:4229: A9 0A FB     	lda	#$fb0a
 16324 03:422C: 87 09        	sta	[<R2]
 16325 03:422E: E6 2D        	inc	<L756+ncc_1
 16326                        ;
 16327                        ;		maxminPos+=2;
 16328                        	.line	2521
 16329 03:4230: E6 2B        	inc	<L756+maxminPos_1
 16330 03:4232: E6 2B        	inc	<L756+maxminPos_1
 16331                        ;	}
 16332                        	.line	2522
 16333                        ;
 16334                        ;	if(style & FXWS_MINIMIZEBOX)
 16335                        L10349:
 16336                        	.line	2524
 16337                        ;	{
 16338 03:4234: A5 40        	lda	<L755+style_0
 16339 03:4236: 29 20 00     	and	#<$20
 16340 03:4239: D0 03        	bne	L792
 16341 03:423B: 82 C6 00     	brl	L10350
 16342                        L792:
 16343                        	.line	2525
 16344                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_MINIMIZEBOX");
 16345                        ;		maxminPos+=metric.width;
 16346                        	.line	2527
 16347 03:423E: 18           	clc
 16348 03:423F: A5 2B        	lda	<L756+maxminPos_1
 16349 03:4241: 65 0D        	adc	<L756+metric_1
 16350 03:4243: 85 2B        	sta	<L756+maxminPos_1
 16351                        ;		//k_put_wingadget_point(WINICON_BLOCK,en
                    dX - (metric.width*2 + 2),titleOffsetY,k_getUIWindowBorderCo
                    lor());
 16352                        ;		//k_put_wingadget_point(WINICON_TITLE_BA
                    CK,endX - (metric.width*2 + 2),titleOffsetY,k_getUIGadgetCol
                    or());
 16353                        ;
 16354                        ;		k_put_wingadget_point_ex(WINICON_BLOCK,e
                    ndX - maxminPos,titleOffsetY,k_getUIWindowBorderColor(),page
                    );
 16355                        	.line	2531
 16356 03:4245: D4 54        	pei	<L755+page_0
 16357 03:4247: 22 74 0D 03  	jsl	~~k_getUIWindowBorderColor
 16358 03:424B: 48           	pha
 16359 03:424C: D4 1D        	pei	<L756+titleOffsetY_1
  Mon Dec  7 2020 11:19                                                Page 301


 16360 03:424E: 38           	sec
 16361 03:424F: A5 29        	lda	<L756+endX_1
 16362 03:4251: E5 2B        	sbc	<L756+maxminPos_1
 16363 03:4253: 48           	pha
 16364 03:4254: F4 00 00     	pea	#<$0
 16365 03:4257: 22 E3 24 03  	jsl	~~k_put_wingadget_point_ex
 16366                        ;		k_put_wingadget_point_ex(WINICON_TITLE_B
                    ACK,endX - maxminPos,titleOffsetY,k_getUIGadgetColor(),page)
                    ;
 16367                        	.line	2532
 16368 03:425B: D4 54        	pei	<L755+page_0
 16369 03:425D: 22 B3 0D 03  	jsl	~~k_getUIGadgetColor
 16370 03:4261: 48           	pha
 16371 03:4262: D4 1D        	pei	<L756+titleOffsetY_1
 16372 03:4264: 38           	sec
 16373 03:4265: A5 29        	lda	<L756+endX_1
 16374 03:4267: E5 2B        	sbc	<L756+maxminPos_1
 16375 03:4269: 48           	pha
 16376 03:426A: F4 04 00     	pea	#<$4
 16377 03:426D: 22 E3 24 03  	jsl	~~k_put_wingadget_point_ex
 16378                        ;
 16379                        ;
 16380                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),endX - maxminPos,titleOffsetY,gx,gx);
 16381                        	.line	2535
 16382 03:4271: D4 2F        	pei	<L756+gx_1
 16383 03:4273: D4 2F        	pei	<L756+gx_1
 16384 03:4275: D4 1D        	pei	<L756+titleOffsetY_1
 16385 03:4277: 38           	sec
 16386 03:4278: A5 29        	lda	<L756+endX_1
 16387 03:427A: E5 2B        	sbc	<L756+maxminPos_1
 16388 03:427C: 48           	pha
 16389 03:427D: A0 00 00     	ldy	#$0
 16390 03:4280: A5 2D        	lda	<L756+ncc_1
 16391 03:4282: 10 01        	bpl	L793
 16392 03:4284: 88           	dey
 16393                        L793:
 16394 03:4285: 85 01        	sta	<R0
 16395 03:4287: 84 03        	sty	<R0+2
 16396 03:4289: F4 00 00     	pea	#^$b
 16397 03:428C: F4 0B 00     	pea	#<$b
 16398 03:428F: D4 03        	pei	<R0+2
 16399 03:4291: D4 01        	pei	<R0
 16400                        	xref	~~~lmul
 16401 03:4293: 22 xx xx xx  	jsl	~~~lmul
 16402 03:4297: 85 01        	sta	<R0
 16403 03:4299: 86 03        	stx	<R0+2
 16404 03:429B: 18           	clc
 16405 03:429C: A9 20 00     	lda	#$20
 16406 03:429F: 65 01        	adc	<R0
 16407 03:42A1: 85 05        	sta	<R1
 16408 03:42A3: A9 00 00     	lda	#$0
 16409 03:42A6: 65 03        	adc	<R0+2
 16410 03:42A8: 85 07        	sta	<R1+2
 16411 03:42AA: 18           	clc
 16412 03:42AB: A5 3C        	lda	<L755+pWin_0
 16413 03:42AD: 65 05        	adc	<R1
 16414 03:42AF: 85 01        	sta	<R0
  Mon Dec  7 2020 11:19                                                Page 302


 16415 03:42B1: A5 3E        	lda	<L755+pWin_0+2
 16416 03:42B3: 65 07        	adc	<R1+2
 16417 03:42B5: 85 03        	sta	<R0+2
 16418 03:42B7: D4 03        	pei	<R0+2
 16419 03:42B9: D4 01        	pei	<R0
 16420 03:42BB: 22 00 00 03  	jsl	~~k_set_rect
 16421                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_MIN_WINDOW;
 16422                        	.line	2536
 16423 03:42BF: A0 00 00     	ldy	#$0
 16424 03:42C2: A5 2D        	lda	<L756+ncc_1
 16425 03:42C4: 10 01        	bpl	L794
 16426 03:42C6: 88           	dey
 16427                        L794:
 16428 03:42C7: 85 01        	sta	<R0
 16429 03:42C9: 84 03        	sty	<R0+2
 16430 03:42CB: F4 00 00     	pea	#^$b
 16431 03:42CE: F4 0B 00     	pea	#<$b
 16432 03:42D1: D4 03        	pei	<R0+2
 16433 03:42D3: D4 01        	pei	<R0
 16434                        	xref	~~~lmul
 16435 03:42D5: 22 xx xx xx  	jsl	~~~lmul
 16436 03:42D9: 85 01        	sta	<R0
 16437 03:42DB: 86 03        	stx	<R0+2
 16438 03:42DD: 18           	clc
 16439 03:42DE: A9 28 00     	lda	#$28
 16440 03:42E1: 65 3C        	adc	<L755+pWin_0
 16441 03:42E3: 85 05        	sta	<R1
 16442 03:42E5: A9 00 00     	lda	#$0
 16443 03:42E8: 65 3E        	adc	<L755+pWin_0+2
 16444 03:42EA: 85 07        	sta	<R1+2
 16445 03:42EC: 18           	clc
 16446 03:42ED: A5 05        	lda	<R1
 16447 03:42EF: 65 01        	adc	<R0
 16448 03:42F1: 85 09        	sta	<R2
 16449 03:42F3: A5 07        	lda	<R1+2
 16450 03:42F5: 65 03        	adc	<R0+2
 16451 03:42F7: 85 0B        	sta	<R2+2
 16452 03:42F9: A9 09 FB     	lda	#$fb09
 16453 03:42FC: 87 09        	sta	[<R2]
 16454 03:42FE: E6 2D        	inc	<L756+ncc_1
 16455                        ;
 16456                        ;		maxminPos+=2;
 16457                        	.line	2538
 16458 03:4300: E6 2B        	inc	<L756+maxminPos_1
 16459 03:4302: E6 2B        	inc	<L756+maxminPos_1
 16460                        ;	}
 16461                        	.line	2539
 16462                        ;
 16463                        ;	if((style & FXWS_CAPTION) == FXWS_CAPTION)
 16464                        L10350:
 16465                        	.line	2541
 16466                        ;	{
 16467 03:4304: A5 40        	lda	<L755+style_0
 16468 03:4306: 29 04 00     	and	#<$4
 16469 03:4309: 85 01        	sta	<R0
 16470 03:430B: 64 03        	stz	<R0+2
 16471 03:430D: A5 01        	lda	<R0
  Mon Dec  7 2020 11:19                                                Page 303


 16472 03:430F: C9 04 00     	cmp	#<$4
 16473 03:4312: D0 05        	bne	L795
 16474 03:4314: A5 03        	lda	<R0+2
 16475 03:4316: C9 00 00     	cmp	#^$4
 16476                        L795:
 16477 03:4319: F0 03        	beq	L796
 16478 03:431B: 82 0C 01     	brl	L10351
 16479                        L796:
 16480                        	.line	2542
 16481                        ;		for(i=0;i<=strlen(title);i++)
 16482                        	.line	2543
 16483 03:431E: 64 11        	stz	<L756+i_1
 16484 03:4320: 82 2E 00     	brl	L10355
 16485                        L10354:
 16486                        ;		{
 16487                        	.line	2544
 16488                        ;			k_put_wingadget_point_ex(WINICON
                    _BLOCK,cx+borderWidth+metric.width+(metric.width*i),titleOff
                    setY,15,page);
 16489                        	.line	2545
 16490 03:4323: D4 54        	pei	<L755+page_0
 16491 03:4325: F4 0F 00     	pea	#<$f
 16492 03:4328: D4 1D        	pei	<L756+titleOffsetY_1
 16493 03:432A: A5 0D        	lda	<L756+metric_1
 16494 03:432C: A6 11        	ldx	<L756+i_1
 16495                        	xref	~~~mul
 16496 03:432E: 22 xx xx xx  	jsl	~~~mul
 16497 03:4332: 85 01        	sta	<R0
 16498 03:4334: 18           	clc
 16499 03:4335: A5 01        	lda	<R0
 16500 03:4337: 65 44        	adc	<L755+cx_0
 16501 03:4339: 85 05        	sta	<R1
 16502 03:433B: 18           	clc
 16503 03:433C: A5 05        	lda	<R1
 16504 03:433E: 65 19        	adc	<L756+borderWidth_1
 16505 03:4340: 85 01        	sta	<R0
 16506 03:4342: 18           	clc
 16507 03:4343: A5 01        	lda	<R0
 16508 03:4345: 65 0D        	adc	<L756+metric_1
 16509 03:4347: 48           	pha
 16510 03:4348: F4 00 00     	pea	#<$0
 16511 03:434B: 22 E3 24 03  	jsl	~~k_put_wingadget_point_ex
 16512                        ;		}
 16513                        	.line	2546
 16514                        L10352:
 16515 03:434F: E6 11        	inc	<L756+i_1
 16516                        L10355:
 16517 03:4351: D4 4E        	pei	<L755+title_0+2
 16518 03:4353: D4 4C        	pei	<L755+title_0
 16519 03:4355: 22 xx xx xx  	jsl	~~strlen
 16520 03:4359: 85 01        	sta	<R0
 16521 03:435B: A5 01        	lda	<R0
 16522 03:435D: C5 11        	cmp	<L756+i_1
 16523 03:435F: 90 03        	bcc	L797
 16524 03:4361: 82 BF FF     	brl	L10354
 16525                        L797:
 16526                        L10353:
 16527                        ;		k_draw_text_point_ex(title,cx+(borderWid
  Mon Dec  7 2020 11:19                                                Page 304


                    th + 3)+metric.width,titleOffsetY,k_getUIGadgetColor(),page)
                    ;
 16528                        	.line	2547
 16529 03:4364: D4 54        	pei	<L755+page_0
 16530 03:4366: 22 B3 0D 03  	jsl	~~k_getUIGadgetColor
 16531 03:436A: 48           	pha
 16532 03:436B: D4 1D        	pei	<L756+titleOffsetY_1
 16533 03:436D: 18           	clc
 16534 03:436E: A5 44        	lda	<L755+cx_0
 16535 03:4370: 65 19        	adc	<L756+borderWidth_1
 16536 03:4372: 85 01        	sta	<R0
 16537 03:4374: 18           	clc
 16538 03:4375: A5 01        	lda	<R0
 16539 03:4377: 65 0D        	adc	<L756+metric_1
 16540 03:4379: 85 05        	sta	<R1
 16541 03:437B: 18           	clc
 16542 03:437C: A9 03 00     	lda	#$3
 16543 03:437F: 65 05        	adc	<R1
 16544 03:4381: 48           	pha
 16545 03:4382: D4 4E        	pei	<L755+title_0+2
 16546 03:4384: D4 4C        	pei	<L755+title_0
 16547 03:4386: 22 DC 19 03  	jsl	~~k_draw_text_point_ex
 16548                        ;
 16549                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),
 16550                        	.line	2549
 16551                        ;				   pWin->win_x + gx,
 16552                        ;				   pWin->win_y,
 16553                        ;				   pWin->win_width - gx,
 16554                        ;				   borderTitle);
 16555 03:438A: D4 17        	pei	<L756+borderTitle_1
 16556 03:438C: 38           	sec
 16557 03:438D: A0 0C 00     	ldy	#$c
 16558 03:4390: B7 3C        	lda	[<L755+pWin_0],Y
 16559 03:4392: E5 2F        	sbc	<L756+gx_1
 16560 03:4394: 48           	pha
 16561 03:4395: A0 0A 00     	ldy	#$a
 16562 03:4398: B7 3C        	lda	[<L755+pWin_0],Y
 16563 03:439A: 48           	pha
 16564 03:439B: 18           	clc
 16565 03:439C: A0 08 00     	ldy	#$8
 16566 03:439F: B7 3C        	lda	[<L755+pWin_0],Y
 16567 03:43A1: 65 2F        	adc	<L756+gx_1
 16568 03:43A3: 48           	pha
 16569 03:43A4: A0 00 00     	ldy	#$0
 16570 03:43A7: A5 2D        	lda	<L756+ncc_1
 16571 03:43A9: 10 01        	bpl	L798
 16572 03:43AB: 88           	dey
 16573                        L798:
 16574 03:43AC: 85 01        	sta	<R0
 16575 03:43AE: 84 03        	sty	<R0+2
 16576 03:43B0: F4 00 00     	pea	#^$b
 16577 03:43B3: F4 0B 00     	pea	#<$b
 16578 03:43B6: D4 03        	pei	<R0+2
 16579 03:43B8: D4 01        	pei	<R0
 16580                        	xref	~~~lmul
 16581 03:43BA: 22 xx xx xx  	jsl	~~~lmul
 16582 03:43BE: 85 01        	sta	<R0
  Mon Dec  7 2020 11:19                                                Page 305


 16583 03:43C0: 86 03        	stx	<R0+2
 16584 03:43C2: 18           	clc
 16585 03:43C3: A9 20 00     	lda	#$20
 16586 03:43C6: 65 01        	adc	<R0
 16587 03:43C8: 85 05        	sta	<R1
 16588 03:43CA: A9 00 00     	lda	#$0
 16589 03:43CD: 65 03        	adc	<R0+2
 16590 03:43CF: 85 07        	sta	<R1+2
 16591 03:43D1: 18           	clc
 16592 03:43D2: A5 3C        	lda	<L755+pWin_0
 16593 03:43D4: 65 05        	adc	<R1
 16594 03:43D6: 85 01        	sta	<R0
 16595 03:43D8: A5 3E        	lda	<L755+pWin_0+2
 16596 03:43DA: 65 07        	adc	<R1+2
 16597 03:43DC: 85 03        	sta	<R0+2
 16598 03:43DE: D4 03        	pei	<R0+2
 16599 03:43E0: D4 01        	pei	<R0
 16600 03:43E2: 22 00 00 03  	jsl	~~k_set_rect
 16601                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_DRAG_WINDOW;
 16602                        	.line	2554
 16603 03:43E6: A0 00 00     	ldy	#$0
 16604 03:43E9: A5 2D        	lda	<L756+ncc_1
 16605 03:43EB: 10 01        	bpl	L799
 16606 03:43ED: 88           	dey
 16607                        L799:
 16608 03:43EE: 85 01        	sta	<R0
 16609 03:43F0: 84 03        	sty	<R0+2
 16610 03:43F2: F4 00 00     	pea	#^$b
 16611 03:43F5: F4 0B 00     	pea	#<$b
 16612 03:43F8: D4 03        	pei	<R0+2
 16613 03:43FA: D4 01        	pei	<R0
 16614                        	xref	~~~lmul
 16615 03:43FC: 22 xx xx xx  	jsl	~~~lmul
 16616 03:4400: 85 01        	sta	<R0
 16617 03:4402: 86 03        	stx	<R0+2
 16618 03:4404: 18           	clc
 16619 03:4405: A9 28 00     	lda	#$28
 16620 03:4408: 65 3C        	adc	<L755+pWin_0
 16621 03:440A: 85 05        	sta	<R1
 16622 03:440C: A9 00 00     	lda	#$0
 16623 03:440F: 65 3E        	adc	<L755+pWin_0+2
 16624 03:4411: 85 07        	sta	<R1+2
 16625 03:4413: 18           	clc
 16626 03:4414: A5 05        	lda	<R1
 16627 03:4416: 65 01        	adc	<R0
 16628 03:4418: 85 09        	sta	<R2
 16629 03:441A: A5 07        	lda	<R1+2
 16630 03:441C: 65 03        	adc	<R0+2
 16631 03:441E: 85 0B        	sta	<R2+2
 16632 03:4420: A9 10 FB     	lda	#$fb10
 16633 03:4423: 87 09        	sta	[<R2]
 16634 03:4425: E6 2D        	inc	<L756+ncc_1
 16635                        ;
 16636                        ;	}
 16637                        	.line	2556
 16638                        ;	else
 16639 03:4427: 82 9D 00     	brl	L10356
  Mon Dec  7 2020 11:19                                                Page 306


 16640                        L10351:
 16641                        ;	{
 16642                        	.line	2558
 16643                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),
 16644                        	.line	2559
 16645                        ;				   pWin->win_x + gx,
 16646                        ;				   pWin->win_y,
 16647                        ;				   pWin->win_width - gx,
 16648                        ;				   borderWidth);
 16649 03:442A: D4 19        	pei	<L756+borderWidth_1
 16650 03:442C: 38           	sec
 16651 03:442D: A0 0C 00     	ldy	#$c
 16652 03:4430: B7 3C        	lda	[<L755+pWin_0],Y
 16653 03:4432: E5 2F        	sbc	<L756+gx_1
 16654 03:4434: 48           	pha
 16655 03:4435: A0 0A 00     	ldy	#$a
 16656 03:4438: B7 3C        	lda	[<L755+pWin_0],Y
 16657 03:443A: 48           	pha
 16658 03:443B: 18           	clc
 16659 03:443C: A0 08 00     	ldy	#$8
 16660 03:443F: B7 3C        	lda	[<L755+pWin_0],Y
 16661 03:4441: 65 2F        	adc	<L756+gx_1
 16662 03:4443: 48           	pha
 16663 03:4444: A0 00 00     	ldy	#$0
 16664 03:4447: A5 2D        	lda	<L756+ncc_1
 16665 03:4449: 10 01        	bpl	L800
 16666 03:444B: 88           	dey
 16667                        L800:
 16668 03:444C: 85 01        	sta	<R0
 16669 03:444E: 84 03        	sty	<R0+2
 16670 03:4450: F4 00 00     	pea	#^$b
 16671 03:4453: F4 0B 00     	pea	#<$b
 16672 03:4456: D4 03        	pei	<R0+2
 16673 03:4458: D4 01        	pei	<R0
 16674                        	xref	~~~lmul
 16675 03:445A: 22 xx xx xx  	jsl	~~~lmul
 16676 03:445E: 85 01        	sta	<R0
 16677 03:4460: 86 03        	stx	<R0+2
 16678 03:4462: 18           	clc
 16679 03:4463: A9 20 00     	lda	#$20
 16680 03:4466: 65 01        	adc	<R0
 16681 03:4468: 85 05        	sta	<R1
 16682 03:446A: A9 00 00     	lda	#$0
 16683 03:446D: 65 03        	adc	<R0+2
 16684 03:446F: 85 07        	sta	<R1+2
 16685 03:4471: 18           	clc
 16686 03:4472: A5 3C        	lda	<L755+pWin_0
 16687 03:4474: 65 05        	adc	<R1
 16688 03:4476: 85 01        	sta	<R0
 16689 03:4478: A5 3E        	lda	<L755+pWin_0+2
 16690 03:447A: 65 07        	adc	<R1+2
 16691 03:447C: 85 03        	sta	<R0+2
 16692 03:447E: D4 03        	pei	<R0+2
 16693 03:4480: D4 01        	pei	<R0
 16694 03:4482: 22 00 00 03  	jsl	~~k_set_rect
 16695                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_DRAG_WINDOW;
  Mon Dec  7 2020 11:19                                                Page 307


 16696                        	.line	2564
 16697 03:4486: A0 00 00     	ldy	#$0
 16698 03:4489: A5 2D        	lda	<L756+ncc_1
 16699 03:448B: 10 01        	bpl	L801
 16700 03:448D: 88           	dey
 16701                        L801:
 16702 03:448E: 85 01        	sta	<R0
 16703 03:4490: 84 03        	sty	<R0+2
 16704 03:4492: F4 00 00     	pea	#^$b
 16705 03:4495: F4 0B 00     	pea	#<$b
 16706 03:4498: D4 03        	pei	<R0+2
 16707 03:449A: D4 01        	pei	<R0
 16708                        	xref	~~~lmul
 16709 03:449C: 22 xx xx xx  	jsl	~~~lmul
 16710 03:44A0: 85 01        	sta	<R0
 16711 03:44A2: 86 03        	stx	<R0+2
 16712 03:44A4: 18           	clc
 16713 03:44A5: A9 28 00     	lda	#$28
 16714 03:44A8: 65 3C        	adc	<L755+pWin_0
 16715 03:44AA: 85 05        	sta	<R1
 16716 03:44AC: A9 00 00     	lda	#$0
 16717 03:44AF: 65 3E        	adc	<L755+pWin_0+2
 16718 03:44B1: 85 07        	sta	<R1+2
 16719 03:44B3: 18           	clc
 16720 03:44B4: A5 05        	lda	<R1
 16721 03:44B6: 65 01        	adc	<R0
 16722 03:44B8: 85 09        	sta	<R2
 16723 03:44BA: A5 07        	lda	<R1+2
 16724 03:44BC: 65 03        	adc	<R0+2
 16725 03:44BE: 85 0B        	sta	<R2+2
 16726 03:44C0: A9 10 FB     	lda	#$fb10
 16727 03:44C3: 87 09        	sta	[<R2]
 16728 03:44C5: E6 2D        	inc	<L756+ncc_1
 16729                        ;	}
 16730                        	.line	2565
 16731                        L10356:
 16732                        ;
 16733                        ;	k_debug_integer("k_vdraw_ui_window::(clientOffse
                    tY - height):",(clientOffsetY - pWin->clientRect.y));
 16734                        	.line	2567
 16735 03:44C7: 38           	sec
 16736 03:44C8: A5 23        	lda	<L756+clientOffsetY_1
 16737 03:44CA: A0 1A 00     	ldy	#$1a
 16738 03:44CD: F7 3C        	sbc	[<L755+pWin_0],Y
 16739 03:44CF: 48           	pha
 16740 03:44D0: F4 xx xx     	pea	#^L750+242
 16741 03:44D3: F4 xx xx     	pea	#<L750+242
 16742 03:44D6: 22 xx xx xx  	jsl	~~k_debug_integer
 16743                        ;	k_debug_integer("k_vdraw_ui_window::((clientOffs
                    etY - height) + borderWidth):",((clientOffsetY - pWin->clien
                    tRect.y) + borderWidth));
 16744                        	.line	2568
 16745 03:44DA: 38           	sec
 16746 03:44DB: A5 23        	lda	<L756+clientOffsetY_1
 16747 03:44DD: A0 1A 00     	ldy	#$1a
 16748 03:44E0: F7 3C        	sbc	[<L755+pWin_0],Y
 16749 03:44E2: 85 01        	sta	<R0
 16750 03:44E4: 18           	clc
  Mon Dec  7 2020 11:19                                                Page 308


 16751 03:44E5: A5 01        	lda	<R0
 16752 03:44E7: 65 19        	adc	<L756+borderWidth_1
 16753 03:44E9: 48           	pha
 16754 03:44EA: F4 xx xx     	pea	#^L750+287
 16755 03:44ED: F4 xx xx     	pea	#<L750+287
 16756 03:44F0: 22 xx xx xx  	jsl	~~k_debug_integer
 16757                        ;
 16758                        ;	pWin->clientRect.width  = (width - (2*borderWidt
                    h));
 16759                        	.line	2570
 16760 03:44F4: A5 19        	lda	<L756+borderWidth_1
 16761 03:44F6: 0A           	asl	A
 16762 03:44F7: 85 01        	sta	<R0
 16763 03:44F9: 38           	sec
 16764 03:44FA: A5 4A        	lda	<L755+width_0
 16765 03:44FC: E5 01        	sbc	<R0
 16766 03:44FE: A0 1C 00     	ldy	#$1c
 16767 03:4501: 97 3C        	sta	[<L755+pWin_0],Y
 16768                        ;	pWin->clientRect.height = height - ((clientOffse
                    tY - pWin->clientRect.y) + borderWidth);
 16769                        	.line	2571
 16770 03:4503: 38           	sec
 16771 03:4504: A5 23        	lda	<L756+clientOffsetY_1
 16772 03:4506: A0 1A 00     	ldy	#$1a
 16773 03:4509: F7 3C        	sbc	[<L755+pWin_0],Y
 16774 03:450B: 85 01        	sta	<R0
 16775 03:450D: 18           	clc
 16776 03:450E: A5 01        	lda	<R0
 16777 03:4510: 65 19        	adc	<L756+borderWidth_1
 16778 03:4512: 85 05        	sta	<R1
 16779 03:4514: 38           	sec
 16780 03:4515: A5 48        	lda	<L755+height_0
 16781 03:4517: E5 05        	sbc	<R1
 16782 03:4519: A0 1E 00     	ldy	#$1e
 16783 03:451C: 97 3C        	sta	[<L755+pWin_0],Y
 16784                        ;
 16785                        ;	pWin->clientRect.x      = clientOffsetX;
 16786                        	.line	2573
 16787 03:451E: A5 21        	lda	<L756+clientOffsetX_1
 16788 03:4520: A0 18 00     	ldy	#$18
 16789 03:4523: 97 3C        	sta	[<L755+pWin_0],Y
 16790                        ;	pWin->clientRect.y      = clientOffsetY;
 16791                        	.line	2574
 16792 03:4525: A5 23        	lda	<L756+clientOffsetY_1
 16793 03:4527: A0 1A 00     	ldy	#$1a
 16794 03:452A: 97 3C        	sta	[<L755+pWin_0],Y
 16795                        ;
 16796                        ;	k_set_rect(&(pWin->nonclientGadgets[ncc].area),
 16797                        	.line	2576
 16798                        ;			   pWin->win_x + pWin->win_width
                      - 4,
 16799                        ;			   pWin->win_y + pWin->win_heigh
                    t - 4,
 16800                        ;			   4,
 16801                        ;			   4);
 16802 03:452C: F4 04 00     	pea	#<$4
 16803 03:452F: F4 04 00     	pea	#<$4
 16804 03:4532: 18           	clc
  Mon Dec  7 2020 11:19                                                Page 309


 16805 03:4533: A0 0A 00     	ldy	#$a
 16806 03:4536: B7 3C        	lda	[<L755+pWin_0],Y
 16807 03:4538: A0 0E 00     	ldy	#$e
 16808 03:453B: 77 3C        	adc	[<L755+pWin_0],Y
 16809 03:453D: 85 01        	sta	<R0
 16810 03:453F: 18           	clc
 16811 03:4540: A9 FC FF     	lda	#$fffc
 16812 03:4543: 65 01        	adc	<R0
 16813 03:4545: 48           	pha
 16814 03:4546: 18           	clc
 16815 03:4547: A0 08 00     	ldy	#$8
 16816 03:454A: B7 3C        	lda	[<L755+pWin_0],Y
 16817 03:454C: A0 0C 00     	ldy	#$c
 16818 03:454F: 77 3C        	adc	[<L755+pWin_0],Y
 16819 03:4551: 85 01        	sta	<R0
 16820 03:4553: 18           	clc
 16821 03:4554: A9 FC FF     	lda	#$fffc
 16822 03:4557: 65 01        	adc	<R0
 16823 03:4559: 48           	pha
 16824 03:455A: A0 00 00     	ldy	#$0
 16825 03:455D: A5 2D        	lda	<L756+ncc_1
 16826 03:455F: 10 01        	bpl	L802
 16827 03:4561: 88           	dey
 16828                        L802:
 16829 03:4562: 85 01        	sta	<R0
 16830 03:4564: 84 03        	sty	<R0+2
 16831 03:4566: F4 00 00     	pea	#^$b
 16832 03:4569: F4 0B 00     	pea	#<$b
 16833 03:456C: D4 03        	pei	<R0+2
 16834 03:456E: D4 01        	pei	<R0
 16835                        	xref	~~~lmul
 16836 03:4570: 22 xx xx xx  	jsl	~~~lmul
 16837 03:4574: 85 01        	sta	<R0
 16838 03:4576: 86 03        	stx	<R0+2
 16839 03:4578: 18           	clc
 16840 03:4579: A9 20 00     	lda	#$20
 16841 03:457C: 65 01        	adc	<R0
 16842 03:457E: 85 05        	sta	<R1
 16843 03:4580: A9 00 00     	lda	#$0
 16844 03:4583: 65 03        	adc	<R0+2
 16845 03:4585: 85 07        	sta	<R1+2
 16846 03:4587: 18           	clc
 16847 03:4588: A5 3C        	lda	<L755+pWin_0
 16848 03:458A: 65 05        	adc	<R1
 16849 03:458C: 85 01        	sta	<R0
 16850 03:458E: A5 3E        	lda	<L755+pWin_0+2
 16851 03:4590: 65 07        	adc	<R1+2
 16852 03:4592: 85 03        	sta	<R0+2
 16853 03:4594: D4 03        	pei	<R0+2
 16854 03:4596: D4 01        	pei	<R0
 16855 03:4598: 22 00 00 03  	jsl	~~k_set_rect
 16856                        ;	pWin->nonclientGadgets[ncc++].msgType = FX_RESIZ
                    E_WINDOW;
 16857                        	.line	2581
 16858 03:459C: A0 00 00     	ldy	#$0
 16859 03:459F: A5 2D        	lda	<L756+ncc_1
 16860 03:45A1: 10 01        	bpl	L803
 16861 03:45A3: 88           	dey
  Mon Dec  7 2020 11:19                                                Page 310


 16862                        L803:
 16863 03:45A4: 85 01        	sta	<R0
 16864 03:45A6: 84 03        	sty	<R0+2
 16865 03:45A8: F4 00 00     	pea	#^$b
 16866 03:45AB: F4 0B 00     	pea	#<$b
 16867 03:45AE: D4 03        	pei	<R0+2
 16868 03:45B0: D4 01        	pei	<R0
 16869                        	xref	~~~lmul
 16870 03:45B2: 22 xx xx xx  	jsl	~~~lmul
 16871 03:45B6: 85 01        	sta	<R0
 16872 03:45B8: 86 03        	stx	<R0+2
 16873 03:45BA: 18           	clc
 16874 03:45BB: A9 28 00     	lda	#$28
 16875 03:45BE: 65 3C        	adc	<L755+pWin_0
 16876 03:45C0: 85 05        	sta	<R1
 16877 03:45C2: A9 00 00     	lda	#$0
 16878 03:45C5: 65 3E        	adc	<L755+pWin_0+2
 16879 03:45C7: 85 07        	sta	<R1+2
 16880 03:45C9: 18           	clc
 16881 03:45CA: A5 05        	lda	<R1
 16882 03:45CC: 65 01        	adc	<R0
 16883 03:45CE: 85 09        	sta	<R2
 16884 03:45D0: A5 07        	lda	<R1+2
 16885 03:45D2: 65 03        	adc	<R0+2
 16886 03:45D4: 85 0B        	sta	<R2+2
 16887 03:45D6: A9 0F FB     	lda	#$fb0f
 16888 03:45D9: 87 09        	sta	[<R2]
 16889 03:45DB: E6 2D        	inc	<L756+ncc_1
 16890                        ;
 16891                        ;
 16892                        ;	k_debug_rect("k_vdraw_ui_window:client[resized]:
                    ",&pWin->clientRect);
 16893                        	.line	2584
 16894 03:45DD: 18           	clc
 16895 03:45DE: A9 18 00     	lda	#$18
 16896 03:45E1: 65 3C        	adc	<L755+pWin_0
 16897 03:45E3: 85 01        	sta	<R0
 16898 03:45E5: A9 00 00     	lda	#$0
 16899 03:45E8: 65 3E        	adc	<L755+pWin_0+2
 16900 03:45EA: 85 03        	sta	<R0+2
 16901 03:45EC: D4 03        	pei	<R0+2
 16902 03:45EE: D4 01        	pei	<R0
 16903 03:45F0: F4 xx xx     	pea	#^L750+348
 16904 03:45F3: F4 xx xx     	pea	#<L750+348
 16905 03:45F6: 22 xx xx xx  	jsl	~~k_debug_rect
 16906                        ;
 16907                        ;	k_set_rect(&(pWin->nonclientGadgets[ncc].area),-
                    1,-1,-1,-1);
 16908                        	.line	2586
 16909 03:45FA: F4 FF FF     	pea	#<$ffffffff
 16910 03:45FD: F4 FF FF     	pea	#<$ffffffff
 16911 03:4600: F4 FF FF     	pea	#<$ffffffff
 16912 03:4603: F4 FF FF     	pea	#<$ffffffff
 16913 03:4606: A0 00 00     	ldy	#$0
 16914 03:4609: A5 2D        	lda	<L756+ncc_1
 16915 03:460B: 10 01        	bpl	L804
 16916 03:460D: 88           	dey
 16917                        L804:
  Mon Dec  7 2020 11:19                                                Page 311


 16918 03:460E: 85 01        	sta	<R0
 16919 03:4610: 84 03        	sty	<R0+2
 16920 03:4612: F4 00 00     	pea	#^$b
 16921 03:4615: F4 0B 00     	pea	#<$b
 16922 03:4618: D4 03        	pei	<R0+2
 16923 03:461A: D4 01        	pei	<R0
 16924                        	xref	~~~lmul
 16925 03:461C: 22 xx xx xx  	jsl	~~~lmul
 16926 03:4620: 85 01        	sta	<R0
 16927 03:4622: 86 03        	stx	<R0+2
 16928 03:4624: 18           	clc
 16929 03:4625: A9 20 00     	lda	#$20
 16930 03:4628: 65 01        	adc	<R0
 16931 03:462A: 85 05        	sta	<R1
 16932 03:462C: A9 00 00     	lda	#$0
 16933 03:462F: 65 03        	adc	<R0+2
 16934 03:4631: 85 07        	sta	<R1+2
 16935 03:4633: 18           	clc
 16936 03:4634: A5 3C        	lda	<L755+pWin_0
 16937 03:4636: 65 05        	adc	<R1
 16938 03:4638: 85 01        	sta	<R0
 16939 03:463A: A5 3E        	lda	<L755+pWin_0+2
 16940 03:463C: 65 07        	adc	<R1+2
 16941 03:463E: 85 03        	sta	<R0+2
 16942 03:4640: D4 03        	pei	<R0+2
 16943 03:4642: D4 01        	pei	<R0
 16944 03:4644: 22 00 00 03  	jsl	~~k_set_rect
 16945                        ;
 16946                        ;
 16947                        ;	//k_debug_strings("k_vdraw_ui_window:","exit");
 16948                        ;}
 16949                        	.line	2590
 16950 03:4648: 82 62 F8     	brl	L759
 16951                        	.endblock	2590
 16952             00000038   L755	equ	56
 16953             0000000D   L756	equ	13
 16954 03:464B:              	ends
 16955                        	efunc
 16956                        	.endfunc	2590,13,56
 16957                        	.line	2590
 16958                        	data
 16959                        L750:
 16960 00:0971: 6B 5F 76 64  	db	$6B,$5F,$76,$64,$72,$61,$77,$5F,$75,$69,
                    $5F,$77,$69,$6E,$64
       00:0975: 72 61 77 5F 
       00:0979: 75 69 5F 77 
       00:097D: 69 6E 64 
 16961 00:0980: 6F 77 3A 70  	db	$6F,$77,$3A,$70,$57,$69,$6E,$3A,$00,$6B,
                    $5F,$76,$64,$72,$61
       00:0984: 57 69 6E 3A 
       00:0988: 00 6B 5F 76 
       00:098C: 64 72 61 
 16962 00:098F: 77 5F 75 69  	db	$77,$5F,$75,$69,$5F,$77,$69,$6E,$64,$6F,
                    $77,$3A,$3A,$49,$53
       00:0993: 5F 77 69 6E 
       00:0997: 64 6F 77 3A 
       00:099B: 3A 49 53 
 16963 00:099E: 20 43 48 49  	db	$20,$43,$48,$49,$4C,$44,$3A,$00,$6B,$5F,
  Mon Dec  7 2020 11:19                                                Page 312


                    $76,$64,$72,$61,$77
       00:09A2: 4C 44 3A 00 
       00:09A6: 6B 5F 76 64 
       00:09AA: 72 61 77 
 16964 00:09AD: 5F 75 69 5F  	db	$5F,$75,$69,$5F,$77,$69,$6E,$64,$6F,$77,
                    $3A,$3A,$49,$53,$20
       00:09B1: 77 69 6E 64 
       00:09B5: 6F 77 3A 3A 
       00:09B9: 49 53 20 
 16965 00:09BC: 43 48 49 4C  	db	$43,$48,$49,$4C,$44,$3A,$00,$4E,$55,$4C,
                    $4C,$00,$6B,$5F,$76
       00:09C0: 44 3A 00 4E 
       00:09C4: 55 4C 4C 00 
       00:09C8: 6B 5F 76 
 16966 00:09CB: 64 72 61 77  	db	$64,$72,$61,$77,$5F,$75,$69,$5F,$77,$69,
                    $6E,$64,$6F,$77,$3A
       00:09CF: 5F 75 69 5F 
       00:09D3: 77 69 6E 64 
       00:09D7: 6F 77 3A 
 16967 00:09DA: 63 78 3A 00  	db	$63,$78,$3A,$00,$6B,$5F,$76,$64,$72,$61,
                    $77,$5F,$75,$69,$5F
       00:09DE: 6B 5F 76 64 
       00:09E2: 72 61 77 5F 
       00:09E6: 75 69 5F 
 16968 00:09E9: 77 69 6E 64  	db	$77,$69,$6E,$64,$6F,$77,$3A,$63,$79,$3A,
                    $00,$6B,$5F,$76,$64
       00:09ED: 6F 77 3A 63 
       00:09F1: 79 3A 00 6B 
       00:09F5: 5F 76 64 
 16969 00:09F8: 72 61 77 5F  	db	$72,$61,$77,$5F,$75,$69,$5F,$77,$69,$6E,
                    $64,$6F,$77,$3A,$77
       00:09FC: 75 69 5F 77 
       00:0A00: 69 6E 64 6F 
       00:0A04: 77 3A 77 
 16970 00:0A07: 69 64 74 68  	db	$69,$64,$74,$68,$3A,$00,$6B,$5F,$76,$64,
                    $72,$61,$77,$5F,$75
       00:0A0B: 3A 00 6B 5F 
       00:0A0F: 76 64 72 61 
       00:0A13: 77 5F 75 
 16971 00:0A16: 69 5F 77 69  	db	$69,$5F,$77,$69,$6E,$64,$6F,$77,$3A,$68,
                    $65,$69,$67,$68,$74
       00:0A1A: 6E 64 6F 77 
       00:0A1E: 3A 68 65 69 
       00:0A22: 67 68 74 
 16972 00:0A25: 3A 00 6B 5F  	db	$3A,$00,$6B,$5F,$76,$64,$72,$61,$77,$5F,
                    $75,$69,$5F,$77,$69
       00:0A29: 76 64 72 61 
       00:0A2D: 77 5F 75 69 
       00:0A31: 5F 77 69 
 16973 00:0A34: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$3A,$63,$6C,$69,$65,$6E,
                    $74,$3A,$00,$6B,$5F
       00:0A38: 3A 63 6C 69 
       00:0A3C: 65 6E 74 3A 
       00:0A40: 00 6B 5F 
 16974 00:0A43: 76 64 72 61  	db	$76,$64,$72,$61,$77,$5F,$75,$69,$5F,$77,
                    $69,$6E,$64,$6F,$77
       00:0A47: 77 5F 75 69 
       00:0A4B: 5F 77 69 6E 
  Mon Dec  7 2020 11:19                                                Page 313


       00:0A4F: 64 6F 77 
 16975 00:0A52: 3A 3A 4E 4F  	db	$3A,$3A,$4E,$4F,$54,$20,$52,$45,$4E,$44,
                    $45,$52,$49,$4E,$47
       00:0A56: 54 20 52 45 
       00:0A5A: 4E 44 45 52 
       00:0A5E: 49 4E 47 
 16976 00:0A61: 3A 00 6B 5F  	db	$3A,$00,$6B,$5F,$76,$64,$72,$61,$77,$5F,
                    $75,$69,$5F,$77,$69
       00:0A65: 76 64 72 61 
       00:0A69: 77 5F 75 69 
       00:0A6D: 5F 77 69 
 16977 00:0A70: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$3A,$3A,$28,$63,$6C,$69,
                    $65,$6E,$74,$4F,$66
       00:0A74: 3A 3A 28 63 
       00:0A78: 6C 69 65 6E 
       00:0A7C: 74 4F 66 
 16978 00:0A7F: 66 73 65 74  	db	$66,$73,$65,$74,$59,$20,$2D,$20,$68,$65,
                    $69,$67,$68,$74,$29
       00:0A83: 59 20 2D 20 
       00:0A87: 68 65 69 67 
       00:0A8B: 68 74 29 
 16979 00:0A8E: 3A 00 6B 5F  	db	$3A,$00,$6B,$5F,$76,$64,$72,$61,$77,$5F,
                    $75,$69,$5F,$77,$69
       00:0A92: 76 64 72 61 
       00:0A96: 77 5F 75 69 
       00:0A9A: 5F 77 69 
 16980 00:0A9D: 6E 64 6F 77  	db	$6E,$64,$6F,$77,$3A,$3A,$28,$28,$63,$6C,
                    $69,$65,$6E,$74,$4F
       00:0AA1: 3A 3A 28 28 
       00:0AA5: 63 6C 69 65 
       00:0AA9: 6E 74 4F 
 16981 00:0AAC: 66 66 73 65  	db	$66,$66,$73,$65,$74,$59,$20,$2D,$20,$68,
                    $65,$69,$67,$68,$74
       00:0AB0: 74 59 20 2D 
       00:0AB4: 20 68 65 69 
       00:0AB8: 67 68 74 
 16982 00:0ABB: 29 20 2B 20  	db	$29,$20,$2B,$20,$62,$6F,$72,$64,$65,$72,
                    $57,$69,$64,$74,$68
       00:0ABF: 62 6F 72 64 
       00:0AC3: 65 72 57 69 
       00:0AC7: 64 74 68 
 16983 00:0ACA: 29 3A 00 6B  	db	$29,$3A,$00,$6B,$5F,$76,$64,$72,$61,$77,
                    $5F,$75,$69,$5F,$77
       00:0ACE: 5F 76 64 72 
       00:0AD2: 61 77 5F 75 
       00:0AD6: 69 5F 77 
 16984 00:0AD9: 69 6E 64 6F  	db	$69,$6E,$64,$6F,$77,$3A,$63,$6C,$69,$65,
                    $6E,$74,$5B,$72,$65
       00:0ADD: 77 3A 63 6C 
       00:0AE1: 69 65 6E 74 
       00:0AE5: 5B 72 65 
 16985 00:0AE8: 73 69 7A 65  	db	$73,$69,$7A,$65,$64,$5D,$3A,$00
       00:0AEC: 64 5D 3A 00 
 16986 00:0AF0:              	ends
 16987                        ;
 16988                        ;PMENU k_draw_menu(HMENU hMenu,int color, int bgco
                    lor)
 16989                        ;{
  Mon Dec  7 2020 11:19                                                Page 314


 16990                        	.line	2592
 16991                        	.line	2593
 16992                        	GUI
 16993                        	xdef	~~k_draw_menu
 16994                        	func
 16995                        	.function	2593
 16996                        ~~k_draw_menu:
 16997                        	longa	on
 16998                        	longi	on
 16999 03:464B: 3B           	tsc
 17000 03:464C: 38           	sec
 17001 03:464D: E9 1E 00     	sbc	#L806
 17002 03:4650: 1B           	tcs
 17003 03:4651: 0B           	phd
 17004 03:4652: 5B           	tcd
 17005             00000004   hMenu_0	set	4
 17006             00000008   color_0	set	8
 17007             0000000A   bgcolor_0	set	10
 17008                        	.block	2593
 17009                        ;	FONTMETRIC metric;
 17010                        ;
 17011                        ;	int i = 0;
 17012                        ;
 17013                        ;	int borderTitle = 10;
 17014                        ;	int borderWidth = 3;
 17015                        ;
 17016                        ;	int titleOffsetX = ((PMENU)hMenu)->cx+2;
 17017                        ;	int titleOffsetY = ((PMENU)hMenu)->cy+2;
 17018                        ;	int titleScaler = 0;
 17019                        ;
 17020                        ;	int clientOffsetX = ((PMENU)hMenu)->cx+borderWid
                    th+2;
 17021                        ;	int clientOffsetY = ((PMENU)hMenu)->cy+borderTit
                    le+1;
 17022                        ;
 17023                        ;	int endX = ((PMENU)hMenu)->width + ((PMENU)hMenu
                    )->cx - borderWidth;
 17024                        ;
 17025                        ;
 17026                        ;	k_get_font_metrics(&metric);
 17027             00000000   metric_1	set	0
 17028             00000004   i_1	set	4
 17029             00000006   borderTitle_1	set	6
 17030             00000008   borderWidth_1	set	8
 17031             0000000A   titleOffsetX_1	set	10
 17032             0000000C   titleOffsetY_1	set	12
 17033             0000000E   titleScaler_1	set	14
 17034             00000010   clientOffsetX_1	set	16
 17035             00000012   clientOffsetY_1	set	18
 17036             00000014   endX_1	set	20
 17037                        	.sym	metric,0,10,1,32,32
 17038                        	.sym	i,4,5,1,16
 17039                        	.sym	borderTitle,6,5,1,16
 17040                        	.sym	borderWidth,8,5,1,16
 17041                        	.sym	titleOffsetX,10,5,1,16
 17042                        	.sym	titleOffsetY,12,5,1,16
 17043                        	.sym	titleScaler,14,5,1,16
 17044                        	.sym	clientOffsetX,16,5,1,16
  Mon Dec  7 2020 11:19                                                Page 315


 17045                        	.sym	clientOffsetY,18,5,1,16
 17046                        	.sym	endX,20,5,1,16
 17047                        	.sym	hMenu,4,129,6,32
 17048                        	.sym	color,8,5,6,16
 17049                        	.sym	bgcolor,10,5,6,16
 17050 03:4653: 64 0D        	stz	<L807+i_1
 17051 03:4655: A9 0A 00     	lda	#$a
 17052 03:4658: 85 0F        	sta	<L807+borderTitle_1
 17053 03:465A: A9 03 00     	lda	#$3
 17054 03:465D: 85 11        	sta	<L807+borderWidth_1
 17055 03:465F: 18           	clc
 17056 03:4660: A9 02 00     	lda	#$2
 17057 03:4663: 67 22        	adc	[<L806+hMenu_0]
 17058 03:4665: 85 13        	sta	<L807+titleOffsetX_1
 17059 03:4667: 18           	clc
 17060 03:4668: A9 02 00     	lda	#$2
 17061 03:466B: A0 02 00     	ldy	#$2
 17062 03:466E: 77 22        	adc	[<L806+hMenu_0],Y
 17063 03:4670: 85 15        	sta	<L807+titleOffsetY_1
 17064 03:4672: 64 17        	stz	<L807+titleScaler_1
 17065 03:4674: 18           	clc
 17066 03:4675: A7 22        	lda	[<L806+hMenu_0]
 17067 03:4677: 65 11        	adc	<L807+borderWidth_1
 17068 03:4679: 85 01        	sta	<R0
 17069 03:467B: 18           	clc
 17070 03:467C: A9 02 00     	lda	#$2
 17071 03:467F: 65 01        	adc	<R0
 17072 03:4681: 85 19        	sta	<L807+clientOffsetX_1
 17073 03:4683: 18           	clc
 17074 03:4684: A0 02 00     	ldy	#$2
 17075 03:4687: B7 22        	lda	[<L806+hMenu_0],Y
 17076 03:4689: 65 0F        	adc	<L807+borderTitle_1
 17077 03:468B: 85 01        	sta	<R0
 17078 03:468D: A5 01        	lda	<R0
 17079 03:468F: 1A           	ina
 17080 03:4690: 85 1B        	sta	<L807+clientOffsetY_1
 17081 03:4692: 18           	clc
 17082 03:4693: A0 04 00     	ldy	#$4
 17083 03:4696: B7 22        	lda	[<L806+hMenu_0],Y
 17084 03:4698: 67 22        	adc	[<L806+hMenu_0]
 17085 03:469A: 85 01        	sta	<R0
 17086 03:469C: 38           	sec
 17087 03:469D: A5 01        	lda	<R0
 17088 03:469F: E5 11        	sbc	<L807+borderWidth_1
 17089 03:46A1: 85 1D        	sta	<L807+endX_1
 17090                        	.line	2611
 17091 03:46A3: F4 00 00     	pea	#0
 17092 03:46A6: 18           	clc
 17093 03:46A7: 7B           	tdc
 17094 03:46A8: 69 09 00     	adc	#<L807+metric_1
 17095 03:46AB: 48           	pha
 17096 03:46AC: 22 6E 1C 03  	jsl	~~k_get_font_metrics
 17097                        ;
 17098                        ;
 17099                        ;	//int height = 0;
 17100                        ;	/*
 17101                        ;	PMENU menu = (PMENU)k_mem_allocate_heap(sizeof(M
                    ENU));
  Mon Dec  7 2020 11:19                                                Page 316


 17102                        ;	memset(menu,0,sizeof(MENU));
 17103                        ;
 17104                        ;	menu->cx = cx;
 17105                        ;	menu->cy = cy;
 17106                        ;	menu->fcolor = color;
 17107                        ;	menu->bcolor = bgcolor;
 17108                        ;	menu->pCaption = k_string_copy_string(strupr(tit
                    le));
 17109                        ;
 17110                        ;	k_get_font_metrics(&metric);
 17111                        ;
 17112                        ;	//height = metric.height + (int)(metric.width/4)
                    ;
 17113                        ;
 17114                        ;	menu->height = height;
 17115                        ;	menu->width  = width;
 17116                        ;
 17117                        ;
 17118                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cx:",menu
                    ->cx);
 17119                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cy:",menu
                    ->cy);
 17120                        ;	k_debug_integer("k_vdraw_ui_menu:menu->height:",
                    menu->height);
 17121                        ;	k_debug_integer("k_vdraw_ui_menu:menu->width:",m
                    enu->width);
 17122                        ;	*/
 17123                        ;
 17124                        ;	//k_vdma_fill_rect(cx,cy,width,height,color);
 17125                        ;
 17126                        ;	//k_vdma_fill_rect(cx,cy,width,height,bgcolor); 
                    // +1 on width and height for VDMA
 17127                        ;	k_vdma_fill_rect(((PMENU)hMenu)->cx,((PMENU)hMen
                    u)->cy,((PMENU)hMenu)->width,((PMENU)hMenu)->height,color);
 17128                        	.line	2642
 17129 03:46B0: D4 26        	pei	<L806+color_0
 17130 03:46B2: A0 06 00     	ldy	#$6
 17131 03:46B5: B7 22        	lda	[<L806+hMenu_0],Y
 17132 03:46B7: 48           	pha
 17133 03:46B8: A0 04 00     	ldy	#$4
 17134 03:46BB: B7 22        	lda	[<L806+hMenu_0],Y
 17135 03:46BD: 48           	pha
 17136 03:46BE: A0 00 00     	ldy	#$0
 17137 03:46C1: 5A           	phy
 17138 03:46C2: A0 02 00     	ldy	#$2
 17139 03:46C5: B7 22        	lda	[<L806+hMenu_0],Y
 17140 03:46C7: 7A           	ply
 17141 03:46C8: 2A           	rol	A
 17142 03:46C9: 6A           	ror	A
 17143 03:46CA: 10 01        	bpl	L809
 17144 03:46CC: 88           	dey
 17145                        L809:
 17146 03:46CD: 85 01        	sta	<R0
 17147 03:46CF: 84 03        	sty	<R0+2
 17148 03:46D1: D4 03        	pei	<R0+2
 17149 03:46D3: D4 01        	pei	<R0
 17150 03:46D5: A0 00 00     	ldy	#$0
 17151 03:46D8: A7 22        	lda	[<L806+hMenu_0]
  Mon Dec  7 2020 11:19                                                Page 317


 17152 03:46DA: 10 01        	bpl	L810
 17153 03:46DC: 88           	dey
 17154                        L810:
 17155 03:46DD: 85 05        	sta	<R1
 17156 03:46DF: 84 07        	sty	<R1+2
 17157 03:46E1: D4 07        	pei	<R1+2
 17158 03:46E3: D4 05        	pei	<R1
 17159 03:46E5: 22 49 51 03  	jsl	~~k_vdma_fill_rect
 17160                        ;
 17161                        ;	//k_delay(15);
 17162                        ;
 17163                        ;	//title = strupr(title);
 17164                        ;
 17165                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_ACLOSE,titleOffsetX,titleOffsetY,14);
 17166                        ;	/*
 17167                        ;	titleScaler = (int)(width / metric.width - 4);
 17168                        ;	for(i=0;i<titleScaler;i++)
 17169                        ;	{
 17170                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_LINES,titleOffsetX,titleOffsetY,14);
 17171                        ;	}*/
 17172                        ;
 17173                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,14);
 17174                        	.line	2656
 17175 03:46E9: F4 0E 00     	pea	#<$e
 17176 03:46EC: D4 15        	pei	<L807+titleOffsetY_1
 17177 03:46EE: A5 09        	lda	<L807+metric_1
 17178 03:46F0: 0A           	asl	A
 17179 03:46F1: 85 01        	sta	<R0
 17180 03:46F3: 18           	clc
 17181 03:46F4: A9 02 00     	lda	#$2
 17182 03:46F7: 65 01        	adc	<R0
 17183 03:46F9: 85 05        	sta	<R1
 17184 03:46FB: 38           	sec
 17185 03:46FC: A5 1D        	lda	<L807+endX_1
 17186 03:46FE: E5 05        	sbc	<R1
 17187 03:4700: 48           	pha
 17188 03:4701: F4 04 00     	pea	#<$4
 17189 03:4704: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 17190                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,14);
 17191                        	.line	2657
 17192 03:4708: F4 0E 00     	pea	#<$e
 17193 03:470B: D4 15        	pei	<L807+titleOffsetY_1
 17194 03:470D: 38           	sec
 17195 03:470E: A5 1D        	lda	<L807+endX_1
 17196 03:4710: E5 09        	sbc	<L807+metric_1
 17197 03:4712: 48           	pha
 17198 03:4713: F4 03 00     	pea	#<$3
 17199 03:4716: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 17200                        ;
 17201                        ;	//k_render_wingadget(WINICON_TITLE_BACK,endX - (
                    metric.width*2 + 2),titleOffsetY,14,k_gadget_title_back_call
                    back);
 17202                        ;	//k_render_wingadget(WINICON_TITLE_FRONT,endX - 
                    (metric.width),titleOffsetY,14,k_gadget_title_front_callback
  Mon Dec  7 2020 11:19                                                Page 318


                    );
 17203                        ;
 17204                        ;	i = k_draw_text_point(((PMENU)hMenu)->pCaption,(
                    (PMENU)hMenu)->cx+2+metric.width,titleOffsetY,bgcolor);
 17205                        	.line	2662
 17206 03:471A: D4 28        	pei	<L806+bgcolor_0
 17207 03:471C: D4 15        	pei	<L807+titleOffsetY_1
 17208 03:471E: 18           	clc
 17209 03:471F: A7 22        	lda	[<L806+hMenu_0]
 17210 03:4721: 65 09        	adc	<L807+metric_1
 17211 03:4723: 85 01        	sta	<R0
 17212 03:4725: 18           	clc
 17213 03:4726: A9 02 00     	lda	#$2
 17214 03:4729: 65 01        	adc	<R0
 17215 03:472B: 48           	pha
 17216 03:472C: A0 11 00     	ldy	#$11
 17217 03:472F: B7 22        	lda	[<L806+hMenu_0],Y
 17218 03:4731: 48           	pha
 17219 03:4732: A0 0F 00     	ldy	#$f
 17220 03:4735: B7 22        	lda	[<L806+hMenu_0],Y
 17221 03:4737: 48           	pha
 17222 03:4738: 22 62 1A 03  	jsl	~~k_draw_text_point
 17223 03:473C: 85 0D        	sta	<L807+i_1
 17224                        ;	//k_render_text(title,cx+2+metric.width,titleOff
                    setY,bgcolor,k_text_callback);
 17225                        ;
 17226                        ;
 17227                        ;	return NULL;
 17228                        	.line	2666
 17229 03:473E: A9 00 00     	lda	#$0
 17230 03:4741: AA           	tax
 17231 03:4742: A9 00 00     	lda	#$0
 17232                        L811:
 17233 03:4745: A8           	tay
 17234 03:4746: A5 20        	lda	<L806+2
 17235 03:4748: 85 28        	sta	<L806+2+8
 17236 03:474A: A5 1F        	lda	<L806+1
 17237 03:474C: 85 27        	sta	<L806+1+8
 17238 03:474E: 2B           	pld
 17239 03:474F: 3B           	tsc
 17240 03:4750: 18           	clc
 17241 03:4751: 69 26 00     	adc	#L806+8
 17242 03:4754: 1B           	tcs
 17243 03:4755: 98           	tya
 17244 03:4756: 6B           	rtl
 17245                        ;}
 17246                        	.line	2667
 17247                        	.endblock	2667
 17248             0000001E   L806	equ	30
 17249             00000009   L807	equ	9
 17250 03:4757:              	ends
 17251                        	efunc
 17252                        	.endfunc	2667,9,30
 17253                        	.line	2667
 17254                        ;
 17255                        ;PMENU k_vdraw_ui_menu(int cx,int cy,int width,int
                     height,LPCSTR title,int color, int bgcolor)
 17256                        ;{
  Mon Dec  7 2020 11:19                                                Page 319


 17257                        	.line	2669
 17258                        	.line	2670
 17259                        	GUI
 17260                        	xdef	~~k_vdraw_ui_menu
 17261                        	func
 17262                        	.function	2670
 17263                        ~~k_vdraw_ui_menu:
 17264                        	longa	on
 17265                        	longi	on
 17266 03:4757: 3B           	tsc
 17267 03:4758: 38           	sec
 17268 03:4759: E9 04 00     	sbc	#L812
 17269 03:475C: 1B           	tcs
 17270 03:475D: 0B           	phd
 17271 03:475E: 5B           	tcd
 17272             00000004   cx_0	set	4
 17273             00000006   cy_0	set	6
 17274             00000008   width_0	set	8
 17275             0000000A   height_0	set	10
 17276             0000000C   title_0	set	12
 17277             00000010   color_0	set	16
 17278             00000012   bgcolor_0	set	18
 17279                        	.block	2670
 17280                        ;	return k_vdraw_ui_menu_ex(cx,cy,width,height,tit
                    le,color,bgcolor,BITMAP_BACK);
 17281                        	.sym	cx,4,5,6,16
 17282                        	.sym	cy,6,5,6,16
 17283                        	.sym	width,8,5,6,16
 17284                        	.sym	height,10,5,6,16
 17285                        	.sym	title,12,142,6,32
 17286                        	.sym	color,16,5,6,16
 17287                        	.sym	bgcolor,18,5,6,16
 17288                        	.line	2671
 17289 03:475F: F4 10 00     	pea	#<$10
 17290 03:4762: D4 16        	pei	<L812+bgcolor_0
 17291 03:4764: D4 14        	pei	<L812+color_0
 17292 03:4766: D4 12        	pei	<L812+title_0+2
 17293 03:4768: D4 10        	pei	<L812+title_0
 17294 03:476A: D4 0E        	pei	<L812+height_0
 17295 03:476C: D4 0C        	pei	<L812+width_0
 17296 03:476E: D4 0A        	pei	<L812+cy_0
 17297 03:4770: D4 08        	pei	<L812+cx_0
 17298 03:4772: 22 90 47 03  	jsl	~~k_vdraw_ui_menu_ex
 17299 03:4776: 85 01        	sta	<R0
 17300 03:4778: 86 03        	stx	<R0+2
 17301 03:477A: A6 03        	ldx	<R0+2
 17302 03:477C: A5 01        	lda	<R0
 17303                        L815:
 17304 03:477E: A8           	tay
 17305 03:477F: A5 06        	lda	<L812+2
 17306 03:4781: 85 16        	sta	<L812+2+16
 17307 03:4783: A5 05        	lda	<L812+1
 17308 03:4785: 85 15        	sta	<L812+1+16
 17309 03:4787: 2B           	pld
 17310 03:4788: 3B           	tsc
 17311 03:4789: 18           	clc
 17312 03:478A: 69 14 00     	adc	#L812+16
 17313 03:478D: 1B           	tcs
  Mon Dec  7 2020 11:19                                                Page 320


 17314 03:478E: 98           	tya
 17315 03:478F: 6B           	rtl
 17316                        ;}
 17317                        	.line	2672
 17318                        	.endblock	2672
 17319             00000004   L812	equ	4
 17320             00000005   L813	equ	5
 17321 03:4790:              	ends
 17322                        	efunc
 17323                        	.endfunc	2672,5,4
 17324                        	.line	2672
 17325                        ;
 17326                        ;PMENU k_vdraw_ui_menu_ex(int cx,int cy,int width,
                    int height,LPCSTR title,int color, int bgcolor,UINT page)
 17327                        ;{
 17328                        	.line	2674
 17329                        	.line	2675
 17330                        	GUI
 17331                        	xdef	~~k_vdraw_ui_menu_ex
 17332                        	func
 17333                        	.function	2675
 17334                        ~~k_vdraw_ui_menu_ex:
 17335                        	longa	on
 17336                        	longi	on
 17337 03:4790: 3B           	tsc
 17338 03:4791: 38           	sec
 17339 03:4792: E9 1E 00     	sbc	#L816
 17340 03:4795: 1B           	tcs
 17341 03:4796: 0B           	phd
 17342 03:4797: 5B           	tcd
 17343             00000004   cx_0	set	4
 17344             00000006   cy_0	set	6
 17345             00000008   width_0	set	8
 17346             0000000A   height_0	set	10
 17347             0000000C   title_0	set	12
 17348             00000010   color_0	set	16
 17349             00000012   bgcolor_0	set	18
 17350             00000014   page_0	set	20
 17351                        	.block	2675
 17352                        ;	FONTMETRIC metric;
 17353                        ;	
 17354                        ;	int i = 0;
 17355                        ;	
 17356                        ;	int borderTitle = 10;
 17357                        ;	int borderWidth = 3;
 17358                        ;
 17359                        ;	int titleOffsetX = cx+2;
 17360                        ;	int titleOffsetY = cy+2;
 17361                        ;	int titleScaler = 0;
 17362                        ;	
 17363                        ;	int clientOffsetX = cx+borderWidth+2;
 17364                        ;	int clientOffsetY = cy+borderTitle+1;
 17365                        ;	
 17366                        ;	int endX = width + cx - borderWidth;
 17367                        ;	
 17368                        ;
 17369                        ;	k_get_font_metrics(&metric);
 17370             00000000   metric_1	set	0
  Mon Dec  7 2020 11:19                                                Page 321


 17371             00000004   i_1	set	4
 17372             00000006   borderTitle_1	set	6
 17373             00000008   borderWidth_1	set	8
 17374             0000000A   titleOffsetX_1	set	10
 17375             0000000C   titleOffsetY_1	set	12
 17376             0000000E   titleScaler_1	set	14
 17377             00000010   clientOffsetX_1	set	16
 17378             00000012   clientOffsetY_1	set	18
 17379             00000014   endX_1	set	20
 17380                        	.sym	metric,0,10,1,32,32
 17381                        	.sym	i,4,5,1,16
 17382                        	.sym	borderTitle,6,5,1,16
 17383                        	.sym	borderWidth,8,5,1,16
 17384                        	.sym	titleOffsetX,10,5,1,16
 17385                        	.sym	titleOffsetY,12,5,1,16
 17386                        	.sym	titleScaler,14,5,1,16
 17387                        	.sym	clientOffsetX,16,5,1,16
 17388                        	.sym	clientOffsetY,18,5,1,16
 17389                        	.sym	endX,20,5,1,16
 17390                        	.sym	cx,4,5,6,16
 17391                        	.sym	cy,6,5,6,16
 17392                        	.sym	width,8,5,6,16
 17393                        	.sym	height,10,5,6,16
 17394                        	.sym	title,12,142,6,32
 17395                        	.sym	color,16,5,6,16
 17396                        	.sym	bgcolor,18,5,6,16
 17397                        	.sym	page,20,16,6,16
 17398 03:4798: 64 0D        	stz	<L817+i_1
 17399 03:479A: A9 0A 00     	lda	#$a
 17400 03:479D: 85 0F        	sta	<L817+borderTitle_1
 17401 03:479F: A9 03 00     	lda	#$3
 17402 03:47A2: 85 11        	sta	<L817+borderWidth_1
 17403 03:47A4: 18           	clc
 17404 03:47A5: A9 02 00     	lda	#$2
 17405 03:47A8: 65 22        	adc	<L816+cx_0
 17406 03:47AA: 85 13        	sta	<L817+titleOffsetX_1
 17407 03:47AC: 18           	clc
 17408 03:47AD: A9 02 00     	lda	#$2
 17409 03:47B0: 65 24        	adc	<L816+cy_0
 17410 03:47B2: 85 15        	sta	<L817+titleOffsetY_1
 17411 03:47B4: 64 17        	stz	<L817+titleScaler_1
 17412 03:47B6: 18           	clc
 17413 03:47B7: A5 22        	lda	<L816+cx_0
 17414 03:47B9: 65 11        	adc	<L817+borderWidth_1
 17415 03:47BB: 85 01        	sta	<R0
 17416 03:47BD: 18           	clc
 17417 03:47BE: A9 02 00     	lda	#$2
 17418 03:47C1: 65 01        	adc	<R0
 17419 03:47C3: 85 19        	sta	<L817+clientOffsetX_1
 17420 03:47C5: 18           	clc
 17421 03:47C6: A5 24        	lda	<L816+cy_0
 17422 03:47C8: 65 0F        	adc	<L817+borderTitle_1
 17423 03:47CA: 85 01        	sta	<R0
 17424 03:47CC: A5 01        	lda	<R0
 17425 03:47CE: 1A           	ina
 17426 03:47CF: 85 1B        	sta	<L817+clientOffsetY_1
 17427 03:47D1: 18           	clc
 17428 03:47D2: A5 26        	lda	<L816+width_0
  Mon Dec  7 2020 11:19                                                Page 322


 17429 03:47D4: 65 22        	adc	<L816+cx_0
 17430 03:47D6: 85 01        	sta	<R0
 17431 03:47D8: 38           	sec
 17432 03:47D9: A5 01        	lda	<R0
 17433 03:47DB: E5 11        	sbc	<L817+borderWidth_1
 17434 03:47DD: 85 1D        	sta	<L817+endX_1
 17435                        	.line	2693
 17436 03:47DF: F4 00 00     	pea	#0
 17437 03:47E2: 18           	clc
 17438 03:47E3: 7B           	tdc
 17439 03:47E4: 69 09 00     	adc	#<L817+metric_1
 17440 03:47E7: 48           	pha
 17441 03:47E8: 22 6E 1C 03  	jsl	~~k_get_font_metrics
 17442                        ;
 17443                        ;	//k_debug_integer("k_vdraw_ui_menu::width:",widt
                    h);
 17444                        ;	//k_debug_integer("k_vdraw_ui_menu::height:",hei
                    ght);
 17445                        ;	//k_debug_strings("k_vdraw_ui_menu::title:",(LPS
                    TR)title);
 17446                        ;	//k_debug_integer("k_vdraw_ui_menu::bgcolor:",bg
                    color);
 17447                        ;
 17448                        ;	//int height = 0;
 17449                        ;	/*
 17450                        ;	PMENU menu = (PMENU)k_mem_allocate_heap(sizeof(M
                    ENU));
 17451                        ;	memset(menu,0,sizeof(MENU));
 17452                        ;
 17453                        ;	menu->cx = cx;
 17454                        ;	menu->cy = cy;
 17455                        ;	menu->fcolor = color;
 17456                        ;	menu->bcolor = bgcolor;
 17457                        ;	menu->pCaption = k_string_copy_string(strupr(tit
                    le));
 17458                        ;
 17459                        ;	k_get_font_metrics(&metric);
 17460                        ;	
 17461                        ;	//height = metric.height + (int)(metric.width/4)
                    ;
 17462                        ;
 17463                        ;	menu->height = height;
 17464                        ;	menu->width  = width;
 17465                        ;
 17466                        ;
 17467                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cx:",menu
                    ->cx);
 17468                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cy:",menu
                    ->cy);
 17469                        ;	k_debug_integer("k_vdraw_ui_menu:menu->height:",
                    menu->height);
 17470                        ;	k_debug_integer("k_vdraw_ui_menu:menu->width:",m
                    enu->width);
 17471                        ;	*/
 17472                        ;
 17473                        ;	//k_vdma_fill_rect(cx,cy,width,height,color);
 17474                        ;
 17475                        ;	//k_vdma_fill_rect(cx,cy,width,height,bgcolor); 
  Mon Dec  7 2020 11:19                                                Page 323


                    // +1 on width and height for VDMA
 17476                        ;	k_vdma_fill_rect_ex(cx,cy,width ,height,0,BITMAP
                    _FRONT);//k_getUIMenuColor());
 17477                        	.line	2728
 17478 03:47EC: F4 00 00     	pea	#<$0
 17479 03:47EF: F4 00 00     	pea	#<$0
 17480 03:47F2: D4 28        	pei	<L816+height_0
 17481 03:47F4: D4 26        	pei	<L816+width_0
 17482 03:47F6: A0 00 00     	ldy	#$0
 17483 03:47F9: A5 24        	lda	<L816+cy_0
 17484 03:47FB: 10 01        	bpl	L819
 17485 03:47FD: 88           	dey
 17486                        L819:
 17487 03:47FE: 85 01        	sta	<R0
 17488 03:4800: 84 03        	sty	<R0+2
 17489 03:4802: D4 03        	pei	<R0+2
 17490 03:4804: D4 01        	pei	<R0
 17491 03:4806: A0 00 00     	ldy	#$0
 17492 03:4809: A5 22        	lda	<L816+cx_0
 17493 03:480B: 10 01        	bpl	L820
 17494 03:480D: 88           	dey
 17495                        L820:
 17496 03:480E: 85 05        	sta	<R1
 17497 03:4810: 84 07        	sty	<R1+2
 17498 03:4812: D4 07        	pei	<R1+2
 17499 03:4814: D4 05        	pei	<R1
 17500 03:4816: 22 F6 50 03  	jsl	~~k_vdma_fill_rect_ex
 17501                        ;	k_vdma_fill_rect_ex(cx,cy,width ,height,bgcolor,
                    BITMAP_BACK);
 17502                        	.line	2729
 17503 03:481A: F4 10 00     	pea	#<$10
 17504 03:481D: D4 30        	pei	<L816+bgcolor_0
 17505 03:481F: D4 28        	pei	<L816+height_0
 17506 03:4821: D4 26        	pei	<L816+width_0
 17507 03:4823: A0 00 00     	ldy	#$0
 17508 03:4826: A5 24        	lda	<L816+cy_0
 17509 03:4828: 10 01        	bpl	L821
 17510 03:482A: 88           	dey
 17511                        L821:
 17512 03:482B: 85 01        	sta	<R0
 17513 03:482D: 84 03        	sty	<R0+2
 17514 03:482F: D4 03        	pei	<R0+2
 17515 03:4831: D4 01        	pei	<R0
 17516 03:4833: A0 00 00     	ldy	#$0
 17517 03:4836: A5 22        	lda	<L816+cx_0
 17518 03:4838: 10 01        	bpl	L822
 17519 03:483A: 88           	dey
 17520                        L822:
 17521 03:483B: 85 05        	sta	<R1
 17522 03:483D: 84 07        	sty	<R1+2
 17523 03:483F: D4 07        	pei	<R1+2
 17524 03:4841: D4 05        	pei	<R1
 17525 03:4843: 22 F6 50 03  	jsl	~~k_vdma_fill_rect_ex
 17526                        ;	//k_delay(15);
 17527                        ;	
 17528                        ;	//title = strupr(title);
 17529                        ;	
 17530                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
  Mon Dec  7 2020 11:19                                                Page 324


                    TLE_ACLOSE,titleOffsetX,titleOffsetY,14);	
 17531                        ;	/*
 17532                        ;	titleScaler = (int)(width / metric.width - 4);
 17533                        ;	for(i=0;i<titleScaler;i++)
 17534                        ;	{
 17535                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_LINES,titleOffsetX,titleOffsetY,14);	
 17536                        ;	}*/
 17537                        ;
 17538                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,color);//k_getUIGadgetColo
                    r());
 17539                        	.line	2742
 17540 03:4847: D4 2E        	pei	<L816+color_0
 17541 03:4849: D4 15        	pei	<L817+titleOffsetY_1
 17542 03:484B: A5 09        	lda	<L817+metric_1
 17543 03:484D: 0A           	asl	A
 17544 03:484E: 85 01        	sta	<R0
 17545 03:4850: 18           	clc
 17546 03:4851: A9 02 00     	lda	#$2
 17547 03:4854: 65 01        	adc	<R0
 17548 03:4856: 85 05        	sta	<R1
 17549 03:4858: 38           	sec
 17550 03:4859: A5 1D        	lda	<L817+endX_1
 17551 03:485B: E5 05        	sbc	<R1
 17552 03:485D: 48           	pha
 17553 03:485E: F4 04 00     	pea	#<$4
 17554 03:4861: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 17555                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,color);//k_getUIGadgetColor());
 17556                        	.line	2743
 17557 03:4865: D4 2E        	pei	<L816+color_0
 17558 03:4867: D4 15        	pei	<L817+titleOffsetY_1
 17559 03:4869: 38           	sec
 17560 03:486A: A5 1D        	lda	<L817+endX_1
 17561 03:486C: E5 09        	sbc	<L817+metric_1
 17562 03:486E: 48           	pha
 17563 03:486F: F4 03 00     	pea	#<$3
 17564 03:4872: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 17565                        ;
 17566                        ;	//k_render_wingadget(WINICON_TITLE_BACK,endX - (
                    metric.width*2 + 2),titleOffsetY,14,k_gadget_title_back_call
                    back);
 17567                        ;	//k_render_wingadget(WINICON_TITLE_FRONT,endX - 
                    (metric.width),titleOffsetY,14,k_gadget_title_front_callback
                    );
 17568                        ;
 17569                        ;	if(title)
 17570                        	.line	2748
 17571                        ;		i = k_draw_text_point(title,cx+2+metric.
                    width,titleOffsetY,color);//k_getUIGadgetColor());
 17572 03:4876: A5 2A        	lda	<L816+title_0
 17573 03:4878: 05 2C        	ora	<L816+title_0+2
 17574 03:487A: D0 03        	bne	L823
 17575 03:487C: 82 1C 00     	brl	L10357
 17576                        L823:
 17577                        	.line	2749
 17578 03:487F: D4 2E        	pei	<L816+color_0
  Mon Dec  7 2020 11:19                                                Page 325


 17579 03:4881: D4 15        	pei	<L817+titleOffsetY_1
 17580 03:4883: 18           	clc
 17581 03:4884: A5 22        	lda	<L816+cx_0
 17582 03:4886: 65 09        	adc	<L817+metric_1
 17583 03:4888: 85 01        	sta	<R0
 17584 03:488A: 18           	clc
 17585 03:488B: A9 02 00     	lda	#$2
 17586 03:488E: 65 01        	adc	<R0
 17587 03:4890: 48           	pha
 17588 03:4891: D4 2C        	pei	<L816+title_0+2
 17589 03:4893: D4 2A        	pei	<L816+title_0
 17590 03:4895: 22 62 1A 03  	jsl	~~k_draw_text_point
 17591 03:4899: 85 0D        	sta	<L817+i_1
 17592                        ;	//k_render_text(title,cx+2+metric.width,titleOff
                    setY,bgcolor,k_text_callback);
 17593                        ;
 17594                        ;	
 17595                        ;	return NULL;
 17596                        L10357:
 17597                        	.line	2753
 17598 03:489B: A9 00 00     	lda	#$0
 17599 03:489E: AA           	tax
 17600 03:489F: A9 00 00     	lda	#$0
 17601                        L824:
 17602 03:48A2: A8           	tay
 17603 03:48A3: A5 20        	lda	<L816+2
 17604 03:48A5: 85 32        	sta	<L816+2+18
 17605 03:48A7: A5 1F        	lda	<L816+1
 17606 03:48A9: 85 31        	sta	<L816+1+18
 17607 03:48AB: 2B           	pld
 17608 03:48AC: 3B           	tsc
 17609 03:48AD: 18           	clc
 17610 03:48AE: 69 30 00     	adc	#L816+18
 17611 03:48B1: 1B           	tcs
 17612 03:48B2: 98           	tya
 17613 03:48B3: 6B           	rtl
 17614                        ;}
 17615                        	.line	2754
 17616                        	.endblock	2754
 17617             0000001E   L816	equ	30
 17618             00000009   L817	equ	9
 17619 03:48B4:              	ends
 17620                        	efunc
 17621                        	.endfunc	2754,9,30
 17622                        	.line	2754
 17623                        ;
 17624                        ;
 17625                        ;PMENU k_vdraw_ui_menu_with_rect(int cx,int cy,int
                     width,int height,LPCSTR title,int color, int bgcolor,LPVOID
                     *prects)
 17626                        ;{
 17627                        	.line	2757
 17628                        	.line	2758
 17629                        	GUI
 17630                        	xdef	~~k_vdraw_ui_menu_with_rect
 17631                        	func
 17632                        	.function	2758
 17633                        ~~k_vdraw_ui_menu_with_rect:
  Mon Dec  7 2020 11:19                                                Page 326


 17634                        	longa	on
 17635                        	longi	on
 17636 03:48B4: 3B           	tsc
 17637 03:48B5: 38           	sec
 17638 03:48B6: E9 1E 00     	sbc	#L825
 17639 03:48B9: 1B           	tcs
 17640 03:48BA: 0B           	phd
 17641 03:48BB: 5B           	tcd
 17642             00000004   cx_0	set	4
 17643             00000006   cy_0	set	6
 17644             00000008   width_0	set	8
 17645             0000000A   height_0	set	10
 17646             0000000C   title_0	set	12
 17647             00000010   color_0	set	16
 17648             00000012   bgcolor_0	set	18
 17649             00000014   prects_0	set	20
 17650                        	.block	2758
 17651                        ;	FONTMETRIC metric;
 17652                        ;
 17653                        ;	int i = 0;
 17654                        ;
 17655                        ;	int borderTitle = 10;
 17656                        ;	int borderWidth = 3;
 17657                        ;
 17658                        ;	int titleOffsetX = cx+2;
 17659                        ;	int titleOffsetY = cy+2;
 17660                        ;	int titleScaler = 0;
 17661                        ;
 17662                        ;	int clientOffsetX = cx+borderWidth+2;
 17663                        ;	int clientOffsetY = cy+borderTitle+1;
 17664                        ;
 17665                        ;	int endX = width + cx - borderWidth;
 17666                        ;
 17667                        ;
 17668                        ;	k_get_font_metrics(&metric);
 17669             00000000   metric_1	set	0
 17670             00000004   i_1	set	4
 17671             00000006   borderTitle_1	set	6
 17672             00000008   borderWidth_1	set	8
 17673             0000000A   titleOffsetX_1	set	10
 17674             0000000C   titleOffsetY_1	set	12
 17675             0000000E   titleScaler_1	set	14
 17676             00000010   clientOffsetX_1	set	16
 17677             00000012   clientOffsetY_1	set	18
 17678             00000014   endX_1	set	20
 17679                        	.sym	metric,0,10,1,32,32
 17680                        	.sym	i,4,5,1,16
 17681                        	.sym	borderTitle,6,5,1,16
 17682                        	.sym	borderWidth,8,5,1,16
 17683                        	.sym	titleOffsetX,10,5,1,16
 17684                        	.sym	titleOffsetY,12,5,1,16
 17685                        	.sym	titleScaler,14,5,1,16
 17686                        	.sym	clientOffsetX,16,5,1,16
 17687                        	.sym	clientOffsetY,18,5,1,16
 17688                        	.sym	endX,20,5,1,16
 17689                        	.sym	cx,4,5,6,16
 17690                        	.sym	cy,6,5,6,16
 17691                        	.sym	width,8,5,6,16
  Mon Dec  7 2020 11:19                                                Page 327


 17692                        	.sym	height,10,5,6,16
 17693                        	.sym	title,12,142,6,32
 17694                        	.sym	color,16,5,6,16
 17695                        	.sym	bgcolor,18,5,6,16
 17696                        	.sym	prects,20,1153,6,32
 17697 03:48BC: 64 0D        	stz	<L826+i_1
 17698 03:48BE: A9 0A 00     	lda	#$a
 17699 03:48C1: 85 0F        	sta	<L826+borderTitle_1
 17700 03:48C3: A9 03 00     	lda	#$3
 17701 03:48C6: 85 11        	sta	<L826+borderWidth_1
 17702 03:48C8: 18           	clc
 17703 03:48C9: A9 02 00     	lda	#$2
 17704 03:48CC: 65 22        	adc	<L825+cx_0
 17705 03:48CE: 85 13        	sta	<L826+titleOffsetX_1
 17706 03:48D0: 18           	clc
 17707 03:48D1: A9 02 00     	lda	#$2
 17708 03:48D4: 65 24        	adc	<L825+cy_0
 17709 03:48D6: 85 15        	sta	<L826+titleOffsetY_1
 17710 03:48D8: 64 17        	stz	<L826+titleScaler_1
 17711 03:48DA: 18           	clc
 17712 03:48DB: A5 22        	lda	<L825+cx_0
 17713 03:48DD: 65 11        	adc	<L826+borderWidth_1
 17714 03:48DF: 85 01        	sta	<R0
 17715 03:48E1: 18           	clc
 17716 03:48E2: A9 02 00     	lda	#$2
 17717 03:48E5: 65 01        	adc	<R0
 17718 03:48E7: 85 19        	sta	<L826+clientOffsetX_1
 17719 03:48E9: 18           	clc
 17720 03:48EA: A5 24        	lda	<L825+cy_0
 17721 03:48EC: 65 0F        	adc	<L826+borderTitle_1
 17722 03:48EE: 85 01        	sta	<R0
 17723 03:48F0: A5 01        	lda	<R0
 17724 03:48F2: 1A           	ina
 17725 03:48F3: 85 1B        	sta	<L826+clientOffsetY_1
 17726 03:48F5: 18           	clc
 17727 03:48F6: A5 26        	lda	<L825+width_0
 17728 03:48F8: 65 22        	adc	<L825+cx_0
 17729 03:48FA: 85 01        	sta	<R0
 17730 03:48FC: 38           	sec
 17731 03:48FD: A5 01        	lda	<R0
 17732 03:48FF: E5 11        	sbc	<L826+borderWidth_1
 17733 03:4901: 85 1D        	sta	<L826+endX_1
 17734                        	.line	2776
 17735 03:4903: F4 00 00     	pea	#0
 17736 03:4906: 18           	clc
 17737 03:4907: 7B           	tdc
 17738 03:4908: 69 09 00     	adc	#<L826+metric_1
 17739 03:490B: 48           	pha
 17740 03:490C: 22 6E 1C 03  	jsl	~~k_get_font_metrics
 17741                        ;
 17742                        ;
 17743                        ;	//int height = 0;
 17744                        ;	/*
 17745                        ;	PMENU menu = (PMENU)k_mem_allocate_heap(sizeof(M
                    ENU));
 17746                        ;	memset(menu,0,sizeof(MENU));
 17747                        ;
 17748                        ;	menu->cx = cx;
  Mon Dec  7 2020 11:19                                                Page 328


 17749                        ;	menu->cy = cy;
 17750                        ;	menu->fcolor = color;
 17751                        ;	menu->bcolor = bgcolor;
 17752                        ;	menu->pCaption = k_string_copy_string(strupr(tit
                    le));
 17753                        ;
 17754                        ;	k_get_font_metrics(&metric);
 17755                        ;
 17756                        ;	//height = metric.height + (int)(metric.width/4)
                    ;
 17757                        ;
 17758                        ;	menu->height = height;
 17759                        ;	menu->width  = width;
 17760                        ;
 17761                        ;
 17762                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cx:",menu
                    ->cx);
 17763                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cy:",menu
                    ->cy);
 17764                        ;	k_debug_integer("k_vdraw_ui_menu:menu->height:",
                    menu->height);
 17765                        ;	k_debug_integer("k_vdraw_ui_menu:menu->width:",m
                    enu->width);
 17766                        ;	*/
 17767                        ;
 17768                        ;	//k_vdma_fill_rect(cx,cy,width,height,color);
 17769                        ;
 17770                        ;	//k_vdma_fill_rect(cx,cy,width,height,bgcolor); 
                    // +1 on width and height for VDMA
 17771                        ;	k_vdma_fill_rect(cx,cy,width,height,color);
 17772                        	.line	2807
 17773 03:4910: D4 2E        	pei	<L825+color_0
 17774 03:4912: D4 28        	pei	<L825+height_0
 17775 03:4914: D4 26        	pei	<L825+width_0
 17776 03:4916: A0 00 00     	ldy	#$0
 17777 03:4919: A5 24        	lda	<L825+cy_0
 17778 03:491B: 10 01        	bpl	L828
 17779 03:491D: 88           	dey
 17780                        L828:
 17781 03:491E: 85 01        	sta	<R0
 17782 03:4920: 84 03        	sty	<R0+2
 17783 03:4922: D4 03        	pei	<R0+2
 17784 03:4924: D4 01        	pei	<R0
 17785 03:4926: A0 00 00     	ldy	#$0
 17786 03:4929: A5 22        	lda	<L825+cx_0
 17787 03:492B: 10 01        	bpl	L829
 17788 03:492D: 88           	dey
 17789                        L829:
 17790 03:492E: 85 05        	sta	<R1
 17791 03:4930: 84 07        	sty	<R1+2
 17792 03:4932: D4 07        	pei	<R1+2
 17793 03:4934: D4 05        	pei	<R1
 17794 03:4936: 22 49 51 03  	jsl	~~k_vdma_fill_rect
 17795                        ;
 17796                        ;	//k_delay(15);
 17797                        ;
 17798                        ;	//title = strupr(title);
 17799                        ;
  Mon Dec  7 2020 11:19                                                Page 329


 17800                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_ACLOSE,titleOffsetX,titleOffsetY,14);
 17801                        ;	/*
 17802                        ;	titleScaler = (int)(width / metric.width - 4);
 17803                        ;	for(i=0;i<titleScaler;i++)
 17804                        ;	{
 17805                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_LINES,titleOffsetX,titleOffsetY,14);
 17806                        ;	}*/
 17807                        ;
 17808                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,14);
 17809                        	.line	2821
 17810 03:493A: F4 0E 00     	pea	#<$e
 17811 03:493D: D4 15        	pei	<L826+titleOffsetY_1
 17812 03:493F: A5 09        	lda	<L826+metric_1
 17813 03:4941: 0A           	asl	A
 17814 03:4942: 85 01        	sta	<R0
 17815 03:4944: 18           	clc
 17816 03:4945: A9 02 00     	lda	#$2
 17817 03:4948: 65 01        	adc	<R0
 17818 03:494A: 85 05        	sta	<R1
 17819 03:494C: 38           	sec
 17820 03:494D: A5 1D        	lda	<L826+endX_1
 17821 03:494F: E5 05        	sbc	<R1
 17822 03:4951: 48           	pha
 17823 03:4952: F4 04 00     	pea	#<$4
 17824 03:4955: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 17825                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,14);
 17826                        	.line	2822
 17827 03:4959: F4 0E 00     	pea	#<$e
 17828 03:495C: D4 15        	pei	<L826+titleOffsetY_1
 17829 03:495E: 38           	sec
 17830 03:495F: A5 1D        	lda	<L826+endX_1
 17831 03:4961: E5 09        	sbc	<L826+metric_1
 17832 03:4963: 48           	pha
 17833 03:4964: F4 03 00     	pea	#<$3
 17834 03:4967: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 17835                        ;
 17836                        ;	//k_render_wingadget(WINICON_TITLE_BACK,endX - (
                    metric.width*2 + 2),titleOffsetY,14,k_gadget_title_back_call
                    back);
 17837                        ;	//k_render_wingadget(WINICON_TITLE_FRONT,endX - 
                    (metric.width),titleOffsetY,14,k_gadget_title_front_callback
                    );
 17838                        ;
 17839                        ;	//i = k_draw_text_point(title,cx+2+metric.width,
                    titleOffsetY,bgcolor);
 17840                        ;	//k_render_text(title,cx+2+metric.width,titleOff
                    setY,bgcolor,k_text_callback);
 17841                        ;
 17842                        ;
 17843                        ;	return NULL;
 17844                        	.line	2831
 17845 03:496B: A9 00 00     	lda	#$0
 17846 03:496E: AA           	tax
 17847 03:496F: A9 00 00     	lda	#$0
  Mon Dec  7 2020 11:19                                                Page 330


 17848                        L830:
 17849 03:4972: A8           	tay
 17850 03:4973: A5 20        	lda	<L825+2
 17851 03:4975: 85 34        	sta	<L825+2+20
 17852 03:4977: A5 1F        	lda	<L825+1
 17853 03:4979: 85 33        	sta	<L825+1+20
 17854 03:497B: 2B           	pld
 17855 03:497C: 3B           	tsc
 17856 03:497D: 18           	clc
 17857 03:497E: 69 32 00     	adc	#L825+20
 17858 03:4981: 1B           	tcs
 17859 03:4982: 98           	tya
 17860 03:4983: 6B           	rtl
 17861                        ;}
 17862                        	.line	2832
 17863                        	.endblock	2832
 17864             0000001E   L825	equ	30
 17865             00000009   L826	equ	9
 17866 03:4984:              	ends
 17867                        	efunc
 17868                        	.endfunc	2832,9,30
 17869                        	.line	2832
 17870                        ;
 17871                        ;
 17872                        ;
 17873                        ;void k_gadget_title_front_callback(PWINDOW gadget
                    Window)
 17874                        ;{
 17875                        	.line	2836
 17876                        	.line	2837
 17877                        	GUI
 17878                        	xdef	~~k_gadget_title_front_callback
 17879                        	func
 17880                        	.function	2837
 17881                        ~~k_gadget_title_front_callback:
 17882                        	longa	on
 17883                        	longi	on
 17884 03:4984: 3B           	tsc
 17885 03:4985: 38           	sec
 17886 03:4986: E9 04 00     	sbc	#L831
 17887 03:4989: 1B           	tcs
 17888 03:498A: 0B           	phd
 17889 03:498B: 5B           	tcd
 17890             00000004   gadgetWindow_0	set	4
 17891                        	.block	2837
 17892                        ;	k_debug_message("k_gadget_title_front_callback:c
                    licked:",gadgetWindow->win_class);
 17893                        	.sym	gadgetWindow,4,138,6,32,30
 17894                        	.line	2838
 17895 03:498C: 18           	clc
 17896 03:498D: A9 F6 00     	lda	#$f6
 17897 03:4990: 65 08        	adc	<L831+gadgetWindow_0
 17898 03:4992: 85 01        	sta	<R0
 17899 03:4994: A9 00 00     	lda	#$0
 17900 03:4997: 65 0A        	adc	<L831+gadgetWindow_0+2
 17901 03:4999: 85 03        	sta	<R0+2
 17902 03:499B: D4 03        	pei	<R0+2
 17903 03:499D: D4 01        	pei	<R0
  Mon Dec  7 2020 11:19                                                Page 331


 17904 03:499F: F4 xx xx     	pea	#^L805
 17905 03:49A2: F4 xx xx     	pea	#<L805
 17906 03:49A5: 22 xx xx xx  	jsl	~~k_debug_message
 17907                        ;	k_send_message(NULL,FX_WINDOW_TOFRONT,NULL,0);
 17908                        	.line	2839
 17909 03:49A9: F4 00 00     	pea	#<$0
 17910 03:49AC: F4 00 00     	pea	#^$0
 17911 03:49AF: F4 00 00     	pea	#<$0
 17912 03:49B2: F4 30 0F     	pea	#<$f30
 17913 03:49B5: F4 00 00     	pea	#^$0
 17914 03:49B8: F4 00 00     	pea	#<$0
 17915 03:49BB: 22 xx xx xx  	jsl	~~k_send_message
 17916                        ;	return;
 17917                        	.line	2840
 17918                        L834:
 17919 03:49BF: A5 06        	lda	<L831+2
 17920 03:49C1: 85 0A        	sta	<L831+2+4
 17921 03:49C3: A5 05        	lda	<L831+1
 17922 03:49C5: 85 09        	sta	<L831+1+4
 17923 03:49C7: 2B           	pld
 17924 03:49C8: 3B           	tsc
 17925 03:49C9: 18           	clc
 17926 03:49CA: 69 08 00     	adc	#L831+4
 17927 03:49CD: 1B           	tcs
 17928 03:49CE: 6B           	rtl
 17929                        ;}
 17930                        	.line	2841
 17931                        	.endblock	2841
 17932             00000004   L831	equ	4
 17933             00000005   L832	equ	5
 17934 03:49CF:              	ends
 17935                        	efunc
 17936                        	.endfunc	2841,5,4
 17937                        	.line	2841
 17938                        	data
 17939                        L805:
 17940 00:0AF0: 6B 5F 67 61  	db	$6B,$5F,$67,$61,$64,$67,$65,$74,$5F,$74,
                    $69,$74,$6C,$65,$5F
       00:0AF4: 64 67 65 74 
       00:0AF8: 5F 74 69 74 
       00:0AFC: 6C 65 5F 
 17941 00:0AFF: 66 72 6F 6E  	db	$66,$72,$6F,$6E,$74,$5F,$63,$61,$6C,$6C,
                    $62,$61,$63,$6B,$3A
       00:0B03: 74 5F 63 61 
       00:0B07: 6C 6C 62 61 
       00:0B0B: 63 6B 3A 
 17942 00:0B0E: 63 6C 69 63  	db	$63,$6C,$69,$63,$6B,$65,$64,$3A,$00
       00:0B12: 6B 65 64 3A 
       00:0B16: 00 
 17943 00:0B17:              	ends
 17944                        ;
 17945                        ;void k_gadget_title_back_callback(PWINDOW gadgetW
                    indow)
 17946                        ;{
 17947                        	.line	2843
 17948                        	.line	2844
 17949                        	GUI
 17950                        	xdef	~~k_gadget_title_back_callback
  Mon Dec  7 2020 11:19                                                Page 332


 17951                        	func
 17952                        	.function	2844
 17953                        ~~k_gadget_title_back_callback:
 17954                        	longa	on
 17955                        	longi	on
 17956 03:49CF: 3B           	tsc
 17957 03:49D0: 38           	sec
 17958 03:49D1: E9 04 00     	sbc	#L836
 17959 03:49D4: 1B           	tcs
 17960 03:49D5: 0B           	phd
 17961 03:49D6: 5B           	tcd
 17962             00000004   gadgetWindow_0	set	4
 17963                        	.block	2844
 17964                        ;	k_debug_message("k_gadget_title_back_callback:cl
                    icked:",gadgetWindow->win_class);
 17965                        	.sym	gadgetWindow,4,138,6,32,30
 17966                        	.line	2845
 17967 03:49D7: 18           	clc
 17968 03:49D8: A9 F6 00     	lda	#$f6
 17969 03:49DB: 65 08        	adc	<L836+gadgetWindow_0
 17970 03:49DD: 85 01        	sta	<R0
 17971 03:49DF: A9 00 00     	lda	#$0
 17972 03:49E2: 65 0A        	adc	<L836+gadgetWindow_0+2
 17973 03:49E4: 85 03        	sta	<R0+2
 17974 03:49E6: D4 03        	pei	<R0+2
 17975 03:49E8: D4 01        	pei	<R0
 17976 03:49EA: F4 xx xx     	pea	#^L835
 17977 03:49ED: F4 xx xx     	pea	#<L835
 17978 03:49F0: 22 xx xx xx  	jsl	~~k_debug_message
 17979                        ;	k_send_message(NULL,FX_WINDOW_TOBACK,NULL,0);
 17980                        	.line	2846
 17981 03:49F4: F4 00 00     	pea	#<$0
 17982 03:49F7: F4 00 00     	pea	#^$0
 17983 03:49FA: F4 00 00     	pea	#<$0
 17984 03:49FD: F4 31 0F     	pea	#<$f31
 17985 03:4A00: F4 00 00     	pea	#^$0
 17986 03:4A03: F4 00 00     	pea	#<$0
 17987 03:4A06: 22 xx xx xx  	jsl	~~k_send_message
 17988                        ;	return;
 17989                        	.line	2847
 17990                        L839:
 17991 03:4A0A: A5 06        	lda	<L836+2
 17992 03:4A0C: 85 0A        	sta	<L836+2+4
 17993 03:4A0E: A5 05        	lda	<L836+1
 17994 03:4A10: 85 09        	sta	<L836+1+4
 17995 03:4A12: 2B           	pld
 17996 03:4A13: 3B           	tsc
 17997 03:4A14: 18           	clc
 17998 03:4A15: 69 08 00     	adc	#L836+4
 17999 03:4A18: 1B           	tcs
 18000 03:4A19: 6B           	rtl
 18001                        ;}
 18002                        	.line	2848
 18003                        	.endblock	2848
 18004             00000004   L836	equ	4
 18005             00000005   L837	equ	5
 18006 03:4A1A:              	ends
 18007                        	efunc
  Mon Dec  7 2020 11:19                                                Page 333


 18008                        	.endfunc	2848,5,4
 18009                        	.line	2848
 18010                        	data
 18011                        L835:
 18012 00:0B17: 6B 5F 67 61  	db	$6B,$5F,$67,$61,$64,$67,$65,$74,$5F,$74,
                    $69,$74,$6C,$65,$5F
       00:0B1B: 64 67 65 74 
       00:0B1F: 5F 74 69 74 
       00:0B23: 6C 65 5F 
 18013 00:0B26: 62 61 63 6B  	db	$62,$61,$63,$6B,$5F,$63,$61,$6C,$6C,$62,
                    $61,$63,$6B,$3A,$63
       00:0B2A: 5F 63 61 6C 
       00:0B2E: 6C 62 61 63 
       00:0B32: 6B 3A 63 
 18014 00:0B35: 6C 69 63 6B  	db	$6C,$69,$63,$6B,$65,$64,$3A,$00
       00:0B39: 65 64 3A 00 
 18015 00:0B3D:              	ends
 18016                        ;
 18017                        ;
 18018                        ;
 18019                        ;PMENU k_render_menu(PMENU menu)
 18020                        ;{
 18021                        	.line	2852
 18022                        	.line	2853
 18023                        	GUI
 18024                        	xdef	~~k_render_menu
 18025                        	func
 18026                        	.function	2853
 18027                        ~~k_render_menu:
 18028                        	longa	on
 18029                        	longi	on
 18030 03:4A1A: 3B           	tsc
 18031 03:4A1B: 38           	sec
 18032 03:4A1C: E9 22 00     	sbc	#L841
 18033 03:4A1F: 1B           	tcs
 18034 03:4A20: 0B           	phd
 18035 03:4A21: 5B           	tcd
 18036             00000004   menu_0	set	4
 18037                        	.block	2853
 18038                        ;	FONTMETRIC metric;
 18039                        ;
 18040                        ;	int i = 0;
 18041                        ;
 18042                        ;	int cx = menu->cx;
 18043                        ;	int cy = menu->cy;
 18044                        ;
 18045                        ;	int borderTitle = 10;
 18046                        ;	int borderWidth = 3;
 18047                        ;
 18048                        ;	int titleOffsetX = cx+2;
 18049                        ;	int titleOffsetY = cy+2;
 18050                        ;	int titleScaler = 0;
 18051                        ;
 18052                        ;	int clientOffsetX = cx+borderWidth+2;
 18053                        ;	int clientOffsetY = cy+borderTitle+1;
 18054                        ;
 18055                        ;	int endX = menu->width + cx - borderWidth;
 18056                        ;
  Mon Dec  7 2020 11:19                                                Page 334


 18057                        ;	k_get_font_metrics(&metric);
 18058             00000000   metric_1	set	0
 18059             00000004   i_1	set	4
 18060             00000006   cx_1	set	6
 18061             00000008   cy_1	set	8
 18062             0000000A   borderTitle_1	set	10
 18063             0000000C   borderWidth_1	set	12
 18064             0000000E   titleOffsetX_1	set	14
 18065             00000010   titleOffsetY_1	set	16
 18066             00000012   titleScaler_1	set	18
 18067             00000014   clientOffsetX_1	set	20
 18068             00000016   clientOffsetY_1	set	22
 18069             00000018   endX_1	set	24
 18070                        	.sym	metric,0,10,1,32,32
 18071                        	.sym	i,4,5,1,16
 18072                        	.sym	cx,6,5,1,16
 18073                        	.sym	cy,8,5,1,16
 18074                        	.sym	borderTitle,10,5,1,16
 18075                        	.sym	borderWidth,12,5,1,16
 18076                        	.sym	titleOffsetX,14,5,1,16
 18077                        	.sym	titleOffsetY,16,5,1,16
 18078                        	.sym	titleScaler,18,5,1,16
 18079                        	.sym	clientOffsetX,20,5,1,16
 18080                        	.sym	clientOffsetY,22,5,1,16
 18081                        	.sym	endX,24,5,1,16
 18082                        	.sym	menu,4,138,6,32,34
 18083 03:4A22: 64 0D        	stz	<L842+i_1
 18084 03:4A24: A7 26        	lda	[<L841+menu_0]
 18085 03:4A26: 85 0F        	sta	<L842+cx_1
 18086 03:4A28: A0 02 00     	ldy	#$2
 18087 03:4A2B: B7 26        	lda	[<L841+menu_0],Y
 18088 03:4A2D: 85 11        	sta	<L842+cy_1
 18089 03:4A2F: A9 0A 00     	lda	#$a
 18090 03:4A32: 85 13        	sta	<L842+borderTitle_1
 18091 03:4A34: A9 03 00     	lda	#$3
 18092 03:4A37: 85 15        	sta	<L842+borderWidth_1
 18093 03:4A39: 18           	clc
 18094 03:4A3A: A9 02 00     	lda	#$2
 18095 03:4A3D: 65 0F        	adc	<L842+cx_1
 18096 03:4A3F: 85 17        	sta	<L842+titleOffsetX_1
 18097 03:4A41: 18           	clc
 18098 03:4A42: A9 02 00     	lda	#$2
 18099 03:4A45: 65 11        	adc	<L842+cy_1
 18100 03:4A47: 85 19        	sta	<L842+titleOffsetY_1
 18101 03:4A49: 64 1B        	stz	<L842+titleScaler_1
 18102 03:4A4B: 18           	clc
 18103 03:4A4C: A5 0F        	lda	<L842+cx_1
 18104 03:4A4E: 65 15        	adc	<L842+borderWidth_1
 18105 03:4A50: 85 01        	sta	<R0
 18106 03:4A52: 18           	clc
 18107 03:4A53: A9 02 00     	lda	#$2
 18108 03:4A56: 65 01        	adc	<R0
 18109 03:4A58: 85 1D        	sta	<L842+clientOffsetX_1
 18110 03:4A5A: 18           	clc
 18111 03:4A5B: A5 11        	lda	<L842+cy_1
 18112 03:4A5D: 65 13        	adc	<L842+borderTitle_1
 18113 03:4A5F: 85 01        	sta	<R0
 18114 03:4A61: A5 01        	lda	<R0
  Mon Dec  7 2020 11:19                                                Page 335


 18115 03:4A63: 1A           	ina
 18116 03:4A64: 85 1F        	sta	<L842+clientOffsetY_1
 18117 03:4A66: 18           	clc
 18118 03:4A67: A0 04 00     	ldy	#$4
 18119 03:4A6A: B7 26        	lda	[<L841+menu_0],Y
 18120 03:4A6C: 65 0F        	adc	<L842+cx_1
 18121 03:4A6E: 85 01        	sta	<R0
 18122 03:4A70: 38           	sec
 18123 03:4A71: A5 01        	lda	<R0
 18124 03:4A73: E5 15        	sbc	<L842+borderWidth_1
 18125 03:4A75: 85 21        	sta	<L842+endX_1
 18126                        	.line	2873
 18127 03:4A77: F4 00 00     	pea	#0
 18128 03:4A7A: 18           	clc
 18129 03:4A7B: 7B           	tdc
 18130 03:4A7C: 69 09 00     	adc	#<L842+metric_1
 18131 03:4A7F: 48           	pha
 18132 03:4A80: 22 6E 1C 03  	jsl	~~k_get_font_metrics
 18133                        ;
 18134                        ;
 18135                        ;	k_debug_integer("k_render_menu:menu->cx:",menu->
                    cx);
 18136                        	.line	2876
 18137 03:4A84: A7 26        	lda	[<L841+menu_0]
 18138 03:4A86: 48           	pha
 18139 03:4A87: F4 xx xx     	pea	#^L840
 18140 03:4A8A: F4 xx xx     	pea	#<L840
 18141 03:4A8D: 22 xx xx xx  	jsl	~~k_debug_integer
 18142                        ;	k_debug_integer("k_render_menu:menu->cy:",menu->
                    cy);
 18143                        	.line	2877
 18144 03:4A91: A0 02 00     	ldy	#$2
 18145 03:4A94: B7 26        	lda	[<L841+menu_0],Y
 18146 03:4A96: 48           	pha
 18147 03:4A97: F4 xx xx     	pea	#^L840+24
 18148 03:4A9A: F4 xx xx     	pea	#<L840+24
 18149 03:4A9D: 22 xx xx xx  	jsl	~~k_debug_integer
 18150                        ;	k_debug_integer("k_render_menu:menu->height:",me
                    nu->height);
 18151                        	.line	2878
 18152 03:4AA1: A0 06 00     	ldy	#$6
 18153 03:4AA4: B7 26        	lda	[<L841+menu_0],Y
 18154 03:4AA6: 48           	pha
 18155 03:4AA7: F4 xx xx     	pea	#^L840+48
 18156 03:4AAA: F4 xx xx     	pea	#<L840+48
 18157 03:4AAD: 22 xx xx xx  	jsl	~~k_debug_integer
 18158                        ;	k_debug_integer("k_render_menu:menu->width:",men
                    u->width);
 18159                        	.line	2879
 18160 03:4AB1: A0 04 00     	ldy	#$4
 18161 03:4AB4: B7 26        	lda	[<L841+menu_0],Y
 18162 03:4AB6: 48           	pha
 18163 03:4AB7: F4 xx xx     	pea	#^L840+76
 18164 03:4ABA: F4 xx xx     	pea	#<L840+76
 18165 03:4ABD: 22 xx xx xx  	jsl	~~k_debug_integer
 18166                        ;
 18167                        ;
 18168                        ;	k_vdma_fill_rect(cx-1,cy,menu->width+1,menu->hei
  Mon Dec  7 2020 11:19                                                Page 336


                    ght+1,0);
 18169                        	.line	2882
 18170 03:4AC1: F4 00 00     	pea	#<$0
 18171 03:4AC4: A0 06 00     	ldy	#$6
 18172 03:4AC7: B7 26        	lda	[<L841+menu_0],Y
 18173 03:4AC9: 1A           	ina
 18174 03:4ACA: 48           	pha
 18175 03:4ACB: A0 04 00     	ldy	#$4
 18176 03:4ACE: B7 26        	lda	[<L841+menu_0],Y
 18177 03:4AD0: 1A           	ina
 18178 03:4AD1: 48           	pha
 18179 03:4AD2: A0 00 00     	ldy	#$0
 18180 03:4AD5: A5 11        	lda	<L842+cy_1
 18181 03:4AD7: 10 01        	bpl	L844
 18182 03:4AD9: 88           	dey
 18183                        L844:
 18184 03:4ADA: 85 01        	sta	<R0
 18185 03:4ADC: 84 03        	sty	<R0+2
 18186 03:4ADE: D4 03        	pei	<R0+2
 18187 03:4AE0: D4 01        	pei	<R0
 18188 03:4AE2: 18           	clc
 18189 03:4AE3: A9 FF FF     	lda	#$ffff
 18190 03:4AE6: 65 0F        	adc	<L842+cx_1
 18191 03:4AE8: 85 05        	sta	<R1
 18192 03:4AEA: A0 00 00     	ldy	#$0
 18193 03:4AED: A5 05        	lda	<R1
 18194 03:4AEF: 10 01        	bpl	L845
 18195 03:4AF1: 88           	dey
 18196                        L845:
 18197 03:4AF2: 85 05        	sta	<R1
 18198 03:4AF4: 84 07        	sty	<R1+2
 18199 03:4AF6: D4 07        	pei	<R1+2
 18200 03:4AF8: D4 05        	pei	<R1
 18201 03:4AFA: 22 49 51 03  	jsl	~~k_vdma_fill_rect
 18202                        ;	k_vdma_fill_rect(cx,cy,menu->width,menu->height,
                    menu->fcolor);
 18203                        	.line	2883
 18204 03:4AFE: A0 08 00     	ldy	#$8
 18205 03:4B01: B7 26        	lda	[<L841+menu_0],Y
 18206 03:4B03: 48           	pha
 18207 03:4B04: A0 06 00     	ldy	#$6
 18208 03:4B07: B7 26        	lda	[<L841+menu_0],Y
 18209 03:4B09: 48           	pha
 18210 03:4B0A: A0 04 00     	ldy	#$4
 18211 03:4B0D: B7 26        	lda	[<L841+menu_0],Y
 18212 03:4B0F: 48           	pha
 18213 03:4B10: A0 00 00     	ldy	#$0
 18214 03:4B13: A5 11        	lda	<L842+cy_1
 18215 03:4B15: 10 01        	bpl	L846
 18216 03:4B17: 88           	dey
 18217                        L846:
 18218 03:4B18: 85 01        	sta	<R0
 18219 03:4B1A: 84 03        	sty	<R0+2
 18220 03:4B1C: D4 03        	pei	<R0+2
 18221 03:4B1E: D4 01        	pei	<R0
 18222 03:4B20: A0 00 00     	ldy	#$0
 18223 03:4B23: A5 0F        	lda	<L842+cx_1
 18224 03:4B25: 10 01        	bpl	L847
  Mon Dec  7 2020 11:19                                                Page 337


 18225 03:4B27: 88           	dey
 18226                        L847:
 18227 03:4B28: 85 05        	sta	<R1
 18228 03:4B2A: 84 07        	sty	<R1+2
 18229 03:4B2C: D4 07        	pei	<R1+2
 18230 03:4B2E: D4 05        	pei	<R1
 18231 03:4B30: 22 49 51 03  	jsl	~~k_vdma_fill_rect
 18232                        ;
 18233                        ;	//k_vdma_fill_rect(cx,cy,menu->width,menu->heigh
                    t,menu->fcolor);
 18234                        ;
 18235                        ;
 18236                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,14);
 18237                        	.line	2888
 18238 03:4B34: F4 0E 00     	pea	#<$e
 18239 03:4B37: D4 19        	pei	<L842+titleOffsetY_1
 18240 03:4B39: A5 09        	lda	<L842+metric_1
 18241 03:4B3B: 0A           	asl	A
 18242 03:4B3C: 85 01        	sta	<R0
 18243 03:4B3E: 18           	clc
 18244 03:4B3F: A9 02 00     	lda	#$2
 18245 03:4B42: 65 01        	adc	<R0
 18246 03:4B44: 85 05        	sta	<R1
 18247 03:4B46: 38           	sec
 18248 03:4B47: A5 21        	lda	<L842+endX_1
 18249 03:4B49: E5 05        	sbc	<R1
 18250 03:4B4B: 48           	pha
 18251 03:4B4C: F4 04 00     	pea	#<$4
 18252 03:4B4F: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 18253                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,14);
 18254                        	.line	2889
 18255 03:4B53: F4 0E 00     	pea	#<$e
 18256 03:4B56: D4 19        	pei	<L842+titleOffsetY_1
 18257 03:4B58: 38           	sec
 18258 03:4B59: A5 21        	lda	<L842+endX_1
 18259 03:4B5B: E5 09        	sbc	<L842+metric_1
 18260 03:4B5D: 48           	pha
 18261 03:4B5E: F4 03 00     	pea	#<$3
 18262 03:4B61: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 18263                        ;
 18264                        ;	k_draw_text_point((LPCHAR)menu->pCaption,cx+2+me
                    tric.width,titleOffsetY,0);
 18265                        	.line	2891
 18266 03:4B65: F4 00 00     	pea	#<$0
 18267 03:4B68: D4 19        	pei	<L842+titleOffsetY_1
 18268 03:4B6A: 18           	clc
 18269 03:4B6B: A5 0F        	lda	<L842+cx_1
 18270 03:4B6D: 65 09        	adc	<L842+metric_1
 18271 03:4B6F: 85 01        	sta	<R0
 18272 03:4B71: 18           	clc
 18273 03:4B72: A9 02 00     	lda	#$2
 18274 03:4B75: 65 01        	adc	<R0
 18275 03:4B77: 48           	pha
 18276 03:4B78: A0 11 00     	ldy	#$11
 18277 03:4B7B: B7 26        	lda	[<L841+menu_0],Y
 18278 03:4B7D: 48           	pha
  Mon Dec  7 2020 11:19                                                Page 338


 18279 03:4B7E: A0 0F 00     	ldy	#$f
 18280 03:4B81: B7 26        	lda	[<L841+menu_0],Y
 18281 03:4B83: 48           	pha
 18282 03:4B84: 22 62 1A 03  	jsl	~~k_draw_text_point
 18283                        ;
 18284                        ;	return menu;
 18285                        	.line	2893
 18286 03:4B88: A6 28        	ldx	<L841+menu_0+2
 18287 03:4B8A: A5 26        	lda	<L841+menu_0
 18288                        L848:
 18289 03:4B8C: A8           	tay
 18290 03:4B8D: A5 24        	lda	<L841+2
 18291 03:4B8F: 85 28        	sta	<L841+2+4
 18292 03:4B91: A5 23        	lda	<L841+1
 18293 03:4B93: 85 27        	sta	<L841+1+4
 18294 03:4B95: 2B           	pld
 18295 03:4B96: 3B           	tsc
 18296 03:4B97: 18           	clc
 18297 03:4B98: 69 26 00     	adc	#L841+4
 18298 03:4B9B: 1B           	tcs
 18299 03:4B9C: 98           	tya
 18300 03:4B9D: 6B           	rtl
 18301                        ;}
 18302                        	.line	2894
 18303                        	.endblock	2894
 18304             00000022   L841	equ	34
 18305             00000009   L842	equ	9
 18306 03:4B9E:              	ends
 18307                        	efunc
 18308                        	.endfunc	2894,9,34
 18309                        	.line	2894
 18310                        	data
 18311                        L840:
 18312 00:0B3D: 6B 5F 72 65  	db	$6B,$5F,$72,$65,$6E,$64,$65,$72,$5F,$6D,
                    $65,$6E,$75,$3A,$6D
       00:0B41: 6E 64 65 72 
       00:0B45: 5F 6D 65 6E 
       00:0B49: 75 3A 6D 
 18313 00:0B4C: 65 6E 75 2D  	db	$65,$6E,$75,$2D,$3E,$63,$78,$3A,$00,$6B,
                    $5F,$72,$65,$6E,$64
       00:0B50: 3E 63 78 3A 
       00:0B54: 00 6B 5F 72 
       00:0B58: 65 6E 64 
 18314 00:0B5B: 65 72 5F 6D  	db	$65,$72,$5F,$6D,$65,$6E,$75,$3A,$6D,$65,
                    $6E,$75,$2D,$3E,$63
       00:0B5F: 65 6E 75 3A 
       00:0B63: 6D 65 6E 75 
       00:0B67: 2D 3E 63 
 18315 00:0B6A: 79 3A 00 6B  	db	$79,$3A,$00,$6B,$5F,$72,$65,$6E,$64,$65,
                    $72,$5F,$6D,$65,$6E
       00:0B6E: 5F 72 65 6E 
       00:0B72: 64 65 72 5F 
       00:0B76: 6D 65 6E 
 18316 00:0B79: 75 3A 6D 65  	db	$75,$3A,$6D,$65,$6E,$75,$2D,$3E,$68,$65,
                    $69,$67,$68,$74,$3A
       00:0B7D: 6E 75 2D 3E 
       00:0B81: 68 65 69 67 
       00:0B85: 68 74 3A 
  Mon Dec  7 2020 11:19                                                Page 339


 18317 00:0B88: 00 6B 5F 72  	db	$00,$6B,$5F,$72,$65,$6E,$64,$65,$72,$5F,
                    $6D,$65,$6E,$75,$3A
       00:0B8C: 65 6E 64 65 
       00:0B90: 72 5F 6D 65 
       00:0B94: 6E 75 3A 
 18318 00:0B97: 6D 65 6E 75  	db	$6D,$65,$6E,$75,$2D,$3E,$77,$69,$64,$74,
                    $68,$3A,$00
       00:0B9B: 2D 3E 77 69 
       00:0B9F: 64 74 68 3A 
       00:0BA3: 00 
 18319 00:0BA4:              	ends
 18320                        ;
 18321                        ;void k_draw_ui_window(int cx,int cy,int height,in
                    t width,char FAR *title,int color, int bgcolor)
 18322                        ;{
 18323                        	.line	2896
 18324                        	.line	2897
 18325                        	GUI
 18326                        	xdef	~~k_draw_ui_window
 18327                        	func
 18328                        	.function	2897
 18329                        ~~k_draw_ui_window:
 18330                        	longa	on
 18331                        	longi	on
 18332 03:4B9E: 3B           	tsc
 18333 03:4B9F: 38           	sec
 18334 03:4BA0: E9 22 00     	sbc	#L850
 18335 03:4BA3: 1B           	tcs
 18336 03:4BA4: 0B           	phd
 18337 03:4BA5: 5B           	tcd
 18338             00000004   cx_0	set	4
 18339             00000006   cy_0	set	6
 18340             00000008   height_0	set	8
 18341             0000000A   width_0	set	10
 18342             0000000C   title_0	set	12
 18343             00000010   color_0	set	16
 18344             00000012   bgcolor_0	set	18
 18345                        	.block	2897
 18346                        ;	FONTMETRIC metric;
 18347                        ;	
 18348                        ;	int i = 0;
 18349                        ;	
 18350                        ;	int borderTitle = 10;
 18351                        ;	int borderWidth = 2;
 18352                        ;
 18353                        ;	int titleOffsetX = cx+2;
 18354                        ;	int titleOffsetY = cy+2;
 18355                        ;	int titleScaler = 0;
 18356                        ;	
 18357                        ;	int clientOffsetX = cx+borderWidth+2;
 18358                        ;	int clientOffsetY = cy+borderTitle+1;
 18359                        ;	
 18360                        ;	int currX = clientOffsetX;
 18361                        ;	int currY = clientOffsetY;
 18362                        ;	
 18363                        ;	int endX = width + cx - borderWidth;
 18364                        ;	
 18365                        ;	k_draw_filled_rect(cx,cy,height,width,color);	
  Mon Dec  7 2020 11:19                                                Page 340


 18366             00000000   metric_1	set	0
 18367             00000004   i_1	set	4
 18368             00000006   borderTitle_1	set	6
 18369             00000008   borderWidth_1	set	8
 18370             0000000A   titleOffsetX_1	set	10
 18371             0000000C   titleOffsetY_1	set	12
 18372             0000000E   titleScaler_1	set	14
 18373             00000010   clientOffsetX_1	set	16
 18374             00000012   clientOffsetY_1	set	18
 18375             00000014   currX_1	set	20
 18376             00000016   currY_1	set	22
 18377             00000018   endX_1	set	24
 18378                        	.sym	metric,0,10,1,32,32
 18379                        	.sym	i,4,5,1,16
 18380                        	.sym	borderTitle,6,5,1,16
 18381                        	.sym	borderWidth,8,5,1,16
 18382                        	.sym	titleOffsetX,10,5,1,16
 18383                        	.sym	titleOffsetY,12,5,1,16
 18384                        	.sym	titleScaler,14,5,1,16
 18385                        	.sym	clientOffsetX,16,5,1,16
 18386                        	.sym	clientOffsetY,18,5,1,16
 18387                        	.sym	currX,20,5,1,16
 18388                        	.sym	currY,22,5,1,16
 18389                        	.sym	endX,24,5,1,16
 18390                        	.sym	cx,4,5,6,16
 18391                        	.sym	cy,6,5,6,16
 18392                        	.sym	height,8,5,6,16
 18393                        	.sym	width,10,5,6,16
 18394                        	.sym	title,12,142,6,32
 18395                        	.sym	color,16,5,6,16
 18396                        	.sym	bgcolor,18,5,6,16
 18397 03:4BA6: 64 0D        	stz	<L851+i_1
 18398 03:4BA8: A9 0A 00     	lda	#$a
 18399 03:4BAB: 85 0F        	sta	<L851+borderTitle_1
 18400 03:4BAD: A9 02 00     	lda	#$2
 18401 03:4BB0: 85 11        	sta	<L851+borderWidth_1
 18402 03:4BB2: 18           	clc
 18403 03:4BB3: A9 02 00     	lda	#$2
 18404 03:4BB6: 65 26        	adc	<L850+cx_0
 18405 03:4BB8: 85 13        	sta	<L851+titleOffsetX_1
 18406 03:4BBA: 18           	clc
 18407 03:4BBB: A9 02 00     	lda	#$2
 18408 03:4BBE: 65 28        	adc	<L850+cy_0
 18409 03:4BC0: 85 15        	sta	<L851+titleOffsetY_1
 18410 03:4BC2: 64 17        	stz	<L851+titleScaler_1
 18411 03:4BC4: 18           	clc
 18412 03:4BC5: A5 26        	lda	<L850+cx_0
 18413 03:4BC7: 65 11        	adc	<L851+borderWidth_1
 18414 03:4BC9: 85 01        	sta	<R0
 18415 03:4BCB: 18           	clc
 18416 03:4BCC: A9 02 00     	lda	#$2
 18417 03:4BCF: 65 01        	adc	<R0
 18418 03:4BD1: 85 19        	sta	<L851+clientOffsetX_1
 18419 03:4BD3: 18           	clc
 18420 03:4BD4: A5 28        	lda	<L850+cy_0
 18421 03:4BD6: 65 0F        	adc	<L851+borderTitle_1
 18422 03:4BD8: 85 01        	sta	<R0
 18423 03:4BDA: A5 01        	lda	<R0
  Mon Dec  7 2020 11:19                                                Page 341


 18424 03:4BDC: 1A           	ina
 18425 03:4BDD: 85 1B        	sta	<L851+clientOffsetY_1
 18426 03:4BDF: A5 19        	lda	<L851+clientOffsetX_1
 18427 03:4BE1: 85 1D        	sta	<L851+currX_1
 18428 03:4BE3: A5 1B        	lda	<L851+clientOffsetY_1
 18429 03:4BE5: 85 1F        	sta	<L851+currY_1
 18430 03:4BE7: 18           	clc
 18431 03:4BE8: A5 2C        	lda	<L850+width_0
 18432 03:4BEA: 65 26        	adc	<L850+cx_0
 18433 03:4BEC: 85 01        	sta	<R0
 18434 03:4BEE: 38           	sec
 18435 03:4BEF: A5 01        	lda	<R0
 18436 03:4BF1: E5 11        	sbc	<L851+borderWidth_1
 18437 03:4BF3: 85 21        	sta	<L851+endX_1
 18438                        	.line	2917
 18439 03:4BF5: D4 32        	pei	<L850+color_0
 18440 03:4BF7: D4 2C        	pei	<L850+width_0
 18441 03:4BF9: D4 2A        	pei	<L850+height_0
 18442 03:4BFB: D4 28        	pei	<L850+cy_0
 18443 03:4BFD: D4 26        	pei	<L850+cx_0
 18444 03:4BFF: 22 E2 37 03  	jsl	~~k_draw_filled_rect
 18445                        ;	k_draw_filled_rect(cx+borderWidth,cy+borderTitle
                    ,
 18446                        	.line	2918
 18447                        ;	                   height - borderTitle - border
                    Width,
 18448                        ;					   width - borde
                    rWidth - borderWidth,
 18449                        ;					   bgcolor);
 18450 03:4C03: D4 34        	pei	<L850+bgcolor_0
 18451 03:4C05: 38           	sec
 18452 03:4C06: A5 2C        	lda	<L850+width_0
 18453 03:4C08: E5 11        	sbc	<L851+borderWidth_1
 18454 03:4C0A: 85 01        	sta	<R0
 18455 03:4C0C: 38           	sec
 18456 03:4C0D: A5 01        	lda	<R0
 18457 03:4C0F: E5 11        	sbc	<L851+borderWidth_1
 18458 03:4C11: 48           	pha
 18459 03:4C12: 38           	sec
 18460 03:4C13: A5 2A        	lda	<L850+height_0
 18461 03:4C15: E5 0F        	sbc	<L851+borderTitle_1
 18462 03:4C17: 85 01        	sta	<R0
 18463 03:4C19: 38           	sec
 18464 03:4C1A: A5 01        	lda	<R0
 18465 03:4C1C: E5 11        	sbc	<L851+borderWidth_1
 18466 03:4C1E: 48           	pha
 18467 03:4C1F: 18           	clc
 18468 03:4C20: A5 28        	lda	<L850+cy_0
 18469 03:4C22: 65 0F        	adc	<L851+borderTitle_1
 18470 03:4C24: 48           	pha
 18471 03:4C25: 18           	clc
 18472 03:4C26: A5 26        	lda	<L850+cx_0
 18473 03:4C28: 65 11        	adc	<L851+borderWidth_1
 18474 03:4C2A: 48           	pha
 18475 03:4C2B: 22 E2 37 03  	jsl	~~k_draw_filled_rect
 18476                        ;	
 18477                        ;	k_get_font_metrics(&metric);
 18478                        	.line	2923
  Mon Dec  7 2020 11:19                                                Page 342


 18479 03:4C2F: F4 00 00     	pea	#0
 18480 03:4C32: 18           	clc
 18481 03:4C33: 7B           	tdc
 18482 03:4C34: 69 09 00     	adc	#<L851+metric_1
 18483 03:4C37: 48           	pha
 18484 03:4C38: 22 6E 1C 03  	jsl	~~k_get_font_metrics
 18485                        ;	
 18486                        ;	
 18487                        ;	title = strupr(title);
 18488                        	.line	2926
 18489 03:4C3C: D4 30        	pei	<L850+title_0+2
 18490 03:4C3E: D4 2E        	pei	<L850+title_0
 18491 03:4C40: 22 xx xx xx  	jsl	~~strupr
 18492 03:4C44: 85 2E        	sta	<L850+title_0
 18493 03:4C46: 86 30        	stx	<L850+title_0+2
 18494                        ;	
 18495                        ;	titleOffsetX+=k_put_wingadget_point(WINICON_TITL
                    E_ACLOSE,titleOffsetX,titleOffsetY,14);	
 18496                        	.line	2928
 18497 03:4C48: F4 0E 00     	pea	#<$e
 18498 03:4C4B: D4 15        	pei	<L851+titleOffsetY_1
 18499 03:4C4D: D4 13        	pei	<L851+titleOffsetX_1
 18500 03:4C4F: F4 05 00     	pea	#<$5
 18501 03:4C52: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 18502 03:4C56: 85 01        	sta	<R0
 18503 03:4C58: 18           	clc
 18504 03:4C59: A5 01        	lda	<R0
 18505 03:4C5B: 65 13        	adc	<L851+titleOffsetX_1
 18506 03:4C5D: 85 13        	sta	<L851+titleOffsetX_1
 18507                        ;	
 18508                        ;	titleScaler = (int)(width / metric.width - 4);
 18509                        	.line	2930
 18510 03:4C5F: A5 2C        	lda	<L850+width_0
 18511 03:4C61: A6 09        	ldx	<L851+metric_1
 18512                        	xref	~~~div
 18513 03:4C63: 22 xx xx xx  	jsl	~~~div
 18514 03:4C67: 85 01        	sta	<R0
 18515 03:4C69: 18           	clc
 18516 03:4C6A: A9 FC FF     	lda	#$fffc
 18517 03:4C6D: 65 01        	adc	<R0
 18518 03:4C6F: 85 17        	sta	<L851+titleScaler_1
 18519                        ;	for(i=0;i<titleScaler;i++)
 18520                        	.line	2931
 18521 03:4C71: 64 0D        	stz	<L851+i_1
 18522 03:4C73: 82 19 00     	brl	L10361
 18523                        L10360:
 18524                        ;	{
 18525                        	.line	2932
 18526                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_LINES,titleOffsetX,titleOffsetY,14);	
 18527                        	.line	2933
 18528 03:4C76: F4 0E 00     	pea	#<$e
 18529 03:4C79: D4 15        	pei	<L851+titleOffsetY_1
 18530 03:4C7B: D4 13        	pei	<L851+titleOffsetX_1
 18531 03:4C7D: F4 01 00     	pea	#<$1
 18532 03:4C80: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 18533 03:4C84: 85 01        	sta	<R0
 18534 03:4C86: 18           	clc
  Mon Dec  7 2020 11:19                                                Page 343


 18535 03:4C87: A5 01        	lda	<R0
 18536 03:4C89: 65 13        	adc	<L851+titleOffsetX_1
 18537 03:4C8B: 85 13        	sta	<L851+titleOffsetX_1
 18538                        ;	}
 18539                        	.line	2934
 18540                        L10358:
 18541 03:4C8D: E6 0D        	inc	<L851+i_1
 18542                        L10361:
 18543 03:4C8F: 38           	sec
 18544 03:4C90: A5 0D        	lda	<L851+i_1
 18545 03:4C92: E5 17        	sbc	<L851+titleScaler_1
 18546 03:4C94: 70 03        	bvs	L853
 18547 03:4C96: 49 00 80     	eor	#$8000
 18548                        L853:
 18549 03:4C99: 30 03        	bmi	L854
 18550 03:4C9B: 82 D8 FF     	brl	L10360
 18551                        L854:
 18552                        L10359:
 18553                        ;	/*
 18554                        ;	titleOffsetX+=k_put_wingadget_point(WINICON_TITL
                    E_BACK,titleOffsetX,titleOffsetY,14);
 18555                        ;	titleOffsetX+=2;
 18556                        ;	titleOffsetX+=k_put_wingadget_point(WINICON_TITL
                    E_FRONT,titleOffsetX,titleOffsetY,14);
 18557                        ;	*/
 18558                        ;	
 18559                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,14);
 18560                        	.line	2941
 18561 03:4C9E: F4 0E 00     	pea	#<$e
 18562 03:4CA1: D4 15        	pei	<L851+titleOffsetY_1
 18563 03:4CA3: A5 09        	lda	<L851+metric_1
 18564 03:4CA5: 0A           	asl	A
 18565 03:4CA6: 85 01        	sta	<R0
 18566 03:4CA8: 18           	clc
 18567 03:4CA9: A9 02 00     	lda	#$2
 18568 03:4CAC: 65 01        	adc	<R0
 18569 03:4CAE: 85 05        	sta	<R1
 18570 03:4CB0: 38           	sec
 18571 03:4CB1: A5 21        	lda	<L851+endX_1
 18572 03:4CB3: E5 05        	sbc	<R1
 18573 03:4CB5: 48           	pha
 18574 03:4CB6: F4 04 00     	pea	#<$4
 18575 03:4CB9: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 18576                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,14);
 18577                        	.line	2942
 18578 03:4CBD: F4 0E 00     	pea	#<$e
 18579 03:4CC0: D4 15        	pei	<L851+titleOffsetY_1
 18580 03:4CC2: 38           	sec
 18581 03:4CC3: A5 21        	lda	<L851+endX_1
 18582 03:4CC5: E5 09        	sbc	<L851+metric_1
 18583 03:4CC7: 48           	pha
 18584 03:4CC8: F4 03 00     	pea	#<$3
 18585 03:4CCB: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 18586                        ;	
 18587                        ;	
 18588                        ;	for(i=0;i<=strlen(title);i++)
  Mon Dec  7 2020 11:19                                                Page 344


 18589                        	.line	2945
 18590 03:4CCF: 64 0D        	stz	<L851+i_1
 18591 03:4CD1: 82 2D 00     	brl	L10365
 18592                        L10364:
 18593                        ;	{
 18594                        	.line	2946
 18595                        ;		k_put_wingadget_point(WINICON_BLOCK,cx+2
                    +metric.width+(metric.width*i),titleOffsetY,15);	
 18596                        	.line	2947
 18597 03:4CD4: F4 0F 00     	pea	#<$f
 18598 03:4CD7: D4 15        	pei	<L851+titleOffsetY_1
 18599 03:4CD9: A5 09        	lda	<L851+metric_1
 18600 03:4CDB: A6 0D        	ldx	<L851+i_1
 18601                        	xref	~~~mul
 18602 03:4CDD: 22 xx xx xx  	jsl	~~~mul
 18603 03:4CE1: 85 01        	sta	<R0
 18604 03:4CE3: 18           	clc
 18605 03:4CE4: A5 01        	lda	<R0
 18606 03:4CE6: 65 26        	adc	<L850+cx_0
 18607 03:4CE8: 85 05        	sta	<R1
 18608 03:4CEA: 18           	clc
 18609 03:4CEB: A5 05        	lda	<R1
 18610 03:4CED: 65 09        	adc	<L851+metric_1
 18611 03:4CEF: 85 01        	sta	<R0
 18612 03:4CF1: 18           	clc
 18613 03:4CF2: A9 02 00     	lda	#$2
 18614 03:4CF5: 65 01        	adc	<R0
 18615 03:4CF7: 48           	pha
 18616 03:4CF8: F4 00 00     	pea	#<$0
 18617 03:4CFB: 22 EA 23 03  	jsl	~~k_put_wingadget_point
 18618                        ;	}
 18619                        	.line	2948
 18620                        L10362:
 18621 03:4CFF: E6 0D        	inc	<L851+i_1
 18622                        L10365:
 18623 03:4D01: D4 30        	pei	<L850+title_0+2
 18624 03:4D03: D4 2E        	pei	<L850+title_0
 18625 03:4D05: 22 xx xx xx  	jsl	~~strlen
 18626 03:4D09: 85 01        	sta	<R0
 18627 03:4D0B: A5 01        	lda	<R0
 18628 03:4D0D: C5 0D        	cmp	<L851+i_1
 18629 03:4D0F: 90 03        	bcc	L855
 18630 03:4D11: 82 C0 FF     	brl	L10364
 18631                        L855:
 18632                        L10363:
 18633                        ;	k_draw_text_point(title,cx+2+metric.width,titleO
                    ffsetY,0);
 18634                        	.line	2949
 18635 03:4D14: F4 00 00     	pea	#<$0
 18636 03:4D17: D4 15        	pei	<L851+titleOffsetY_1
 18637 03:4D19: 18           	clc
 18638 03:4D1A: A5 26        	lda	<L850+cx_0
 18639 03:4D1C: 65 09        	adc	<L851+metric_1
 18640 03:4D1E: 85 01        	sta	<R0
 18641 03:4D20: 18           	clc
 18642 03:4D21: A9 02 00     	lda	#$2
 18643 03:4D24: 65 01        	adc	<R0
 18644 03:4D26: 48           	pha
  Mon Dec  7 2020 11:19                                                Page 345


 18645 03:4D27: D4 30        	pei	<L850+title_0+2
 18646 03:4D29: D4 2E        	pei	<L850+title_0
 18647 03:4D2B: 22 62 1A 03  	jsl	~~k_draw_text_point
 18648                        ;	
 18649                        ;	/*
 18650                        ;	k_put_wingadget_point(0x01,titleOffsetX,titleOff
                    setY,14);	
 18651                        ;	titleOffsetX+=metric.width;
 18652                        ;	
 18653                        ;	titleOffsetX+=k_draw_text_point(title,titleOffse
                    tX,titleOffsetY,0);
 18654                        ;	titleOffsetX+=metric.width;
 18655                        ;	k_put_wingadget_point(0x00,titleOffsetX,titleOff
                    setY,14);	
 18656                        ;	titleOffsetX+=metric.width;
 18657                        ;	k_put_wingadget_point(0x00,titleOffsetX,titleOff
                    setY,14);	
 18658                        ;	titleOffsetX+=metric.width;
 18659                        ;	k_put_wingadget_point(0x00,titleOffsetX,titleOff
                    setY,14);	
 18660                        ;	*/
 18661                        ;	
 18662                        ;	k_draw_text_point("READY.",currX,currY,15);
 18663                        	.line	2964
 18664 03:4D2F: F4 0F 00     	pea	#<$f
 18665 03:4D32: D4 1F        	pei	<L851+currY_1
 18666 03:4D34: D4 1D        	pei	<L851+currX_1
 18667 03:4D36: F4 xx xx     	pea	#^L849
 18668 03:4D39: F4 xx xx     	pea	#<L849
 18669 03:4D3C: 22 62 1A 03  	jsl	~~k_draw_text_point
 18670                        ;	currY+=metric.height;	
 18671                        	.line	2965
 18672 03:4D40: 18           	clc
 18673 03:4D41: A5 1F        	lda	<L851+currY_1
 18674 03:4D43: 65 0B        	adc	<L851+metric_1+2
 18675 03:4D45: 85 1F        	sta	<L851+currY_1
 18676                        ;	k_draw_text_point("10 PRINT \"HELLO WORLD!\"",cu
                    rrX,currY,15);
 18677                        	.line	2966
 18678 03:4D47: F4 0F 00     	pea	#<$f
 18679 03:4D4A: D4 1F        	pei	<L851+currY_1
 18680 03:4D4C: D4 1D        	pei	<L851+currX_1
 18681 03:4D4E: F4 xx xx     	pea	#^L849+7
 18682 03:4D51: F4 xx xx     	pea	#<L849+7
 18683 03:4D54: 22 62 1A 03  	jsl	~~k_draw_text_point
 18684                        ;	currY+=metric.height;
 18685                        	.line	2967
 18686 03:4D58: 18           	clc
 18687 03:4D59: A5 1F        	lda	<L851+currY_1
 18688 03:4D5B: 65 0B        	adc	<L851+metric_1+2
 18689 03:4D5D: 85 1F        	sta	<L851+currY_1
 18690                        ;	k_draw_text_point("RUN",currX,currY,15);
 18691                        	.line	2968
 18692 03:4D5F: F4 0F 00     	pea	#<$f
 18693 03:4D62: D4 1F        	pei	<L851+currY_1
 18694 03:4D64: D4 1D        	pei	<L851+currX_1
 18695 03:4D66: F4 xx xx     	pea	#^L849+31
 18696 03:4D69: F4 xx xx     	pea	#<L849+31
  Mon Dec  7 2020 11:19                                                Page 346


 18697 03:4D6C: 22 62 1A 03  	jsl	~~k_draw_text_point
 18698                        ;	currY+=metric.height;
 18699                        	.line	2969
 18700 03:4D70: 18           	clc
 18701 03:4D71: A5 1F        	lda	<L851+currY_1
 18702 03:4D73: 65 0B        	adc	<L851+metric_1+2
 18703 03:4D75: 85 1F        	sta	<L851+currY_1
 18704                        ;	k_draw_text_point("HELLO WORLD!",currX,currY,15)
                    ;
 18705                        	.line	2970
 18706 03:4D77: F4 0F 00     	pea	#<$f
 18707 03:4D7A: D4 1F        	pei	<L851+currY_1
 18708 03:4D7C: D4 1D        	pei	<L851+currX_1
 18709 03:4D7E: F4 xx xx     	pea	#^L849+35
 18710 03:4D81: F4 xx xx     	pea	#<L849+35
 18711 03:4D84: 22 62 1A 03  	jsl	~~k_draw_text_point
 18712                        ;}
 18713                        	.line	2971
 18714                        L856:
 18715 03:4D88: A5 24        	lda	<L850+2
 18716 03:4D8A: 85 34        	sta	<L850+2+16
 18717 03:4D8C: A5 23        	lda	<L850+1
 18718 03:4D8E: 85 33        	sta	<L850+1+16
 18719 03:4D90: 2B           	pld
 18720 03:4D91: 3B           	tsc
 18721 03:4D92: 18           	clc
 18722 03:4D93: 69 32 00     	adc	#L850+16
 18723 03:4D96: 1B           	tcs
 18724 03:4D97: 6B           	rtl
 18725                        	.endblock	2971
 18726             00000022   L850	equ	34
 18727             00000009   L851	equ	9
 18728 03:4D98:              	ends
 18729                        	efunc
 18730                        	.endfunc	2971,9,34
 18731                        	.line	2971
 18732                        	data
 18733                        L849:
 18734 00:0BA4: 52 45 41 44  	db	$52,$45,$41,$44,$59,$2E,$00,$31,$30,$20,
                    $50,$52,$49,$4E,$54
       00:0BA8: 59 2E 00 31 
       00:0BAC: 30 20 50 52 
       00:0BB0: 49 4E 54 
 18735 00:0BB3: 20 22 48 45  	db	$20,$22,$48,$45,$4C,$4C,$4F,$20,$57,$4F,
                    $52,$4C,$44,$21,$22
       00:0BB7: 4C 4C 4F 20 
       00:0BBB: 57 4F 52 4C 
       00:0BBF: 44 21 22 
 18736 00:0BC2: 00 52 55 4E  	db	$00,$52,$55,$4E,$00,$48,$45,$4C,$4C,$4F,
                    $20,$57,$4F,$52,$4C
       00:0BC6: 00 48 45 4C 
       00:0BCA: 4C 4F 20 57 
       00:0BCE: 4F 52 4C 
 18737 00:0BD1: 44 21 00     	db	$44,$21,$00
 18738 00:0BD4:              	ends
 18739                        ;
 18740                        ;
 18741                        ;void k_paint_brush_rect(long x,long y,int width,i
  Mon Dec  7 2020 11:19                                                Page 347


                    nt height,BYTE pattern)
 18742                        ;{
 18743                        	.line	2974
 18744                        	.line	2975
 18745                        	GUI
 18746                        	xdef	~~k_paint_brush_rect
 18747                        	func
 18748                        	.function	2975
 18749                        ~~k_paint_brush_rect:
 18750                        	longa	on
 18751                        	longi	on
 18752 03:4D98: 3B           	tsc
 18753 03:4D99: 38           	sec
 18754 03:4D9A: E9 19 00     	sbc	#L858
 18755 03:4D9D: 1B           	tcs
 18756 03:4D9E: 0B           	phd
 18757 03:4D9F: 5B           	tcd
 18758             00000004   x_0	set	4
 18759             00000008   y_0	set	8
 18760             0000000C   width_0	set	12
 18761             0000000E   height_0	set	14
 18762             00000010   pattern_0	set	16
 18763                        	.block	2975
 18764                        ;	ULONG pos = 0L;
 18765                        ;	BOOL odd = FALSE;
 18766                        ;	long startLocation = (long)(( ((long)y) * 640L) 
                    + ((long)x) );
 18767                        ;	long endLocation   = (long)(( ((long)479) * 640L
                    ) + ((long)639) );
 18768                        ;
 18769                        ;	///k_paint_brush_at_address((char FAR * )pixelLo
                    cation, width, height,pattern);
 18770                        ;
 18771                        ;	for(pos=0;pos<479;pos++)
 18772             00000000   pos_1	set	0
 18773             00000004   odd_1	set	4
 18774             00000005   startLocation_1	set	5
 18775             00000009   endLocation_1	set	9
 18776                        	.sym	pos,0,18,1,32
 18777                        	.sym	odd,4,14,1,8
 18778                        	.sym	startLocation,5,7,1,32
 18779                        	.sym	endLocation,9,7,1,32
 18780                        	.sym	x,4,7,6,32
 18781                        	.sym	y,8,7,6,32
 18782                        	.sym	width,12,5,6,16
 18783                        	.sym	height,14,5,6,16
 18784                        	.sym	pattern,16,14,6,8
 18785 03:4DA0: 64 0D        	stz	<L859+pos_1
 18786 03:4DA2: 64 0F        	stz	<L859+pos_1+2
 18787 03:4DA4: E2 20        	sep	#$20
 18788                        	longa	off
 18789 03:4DA6: 64 11        	stz	<L859+odd_1
 18790 03:4DA8: C2 20        	rep	#$20
 18791                        	longa	on
 18792 03:4DAA: F4 00 00     	pea	#^$280
 18793 03:4DAD: F4 80 02     	pea	#<$280
 18794 03:4DB0: D4 23        	pei	<L858+y_0+2
 18795 03:4DB2: D4 21        	pei	<L858+y_0
  Mon Dec  7 2020 11:19                                                Page 348


 18796                        	xref	~~~lmul
 18797 03:4DB4: 22 xx xx xx  	jsl	~~~lmul
 18798 03:4DB8: 85 01        	sta	<R0
 18799 03:4DBA: 86 03        	stx	<R0+2
 18800 03:4DBC: 18           	clc
 18801 03:4DBD: A5 01        	lda	<R0
 18802 03:4DBF: 65 1D        	adc	<L858+x_0
 18803 03:4DC1: 85 12        	sta	<L859+startLocation_1
 18804 03:4DC3: A5 03        	lda	<R0+2
 18805 03:4DC5: 65 1F        	adc	<L858+x_0+2
 18806 03:4DC7: 85 14        	sta	<L859+startLocation_1+2
 18807 03:4DC9: A9 FF AF     	lda	#$afff
 18808 03:4DCC: 85 16        	sta	<L859+endLocation_1
 18809 03:4DCE: A9 04 00     	lda	#$4
 18810 03:4DD1: 85 18        	sta	<L859+endLocation_1+2
 18811                        	.line	2983
 18812 03:4DD3: 64 0D        	stz	<L859+pos_1
 18813 03:4DD5: 64 0F        	stz	<L859+pos_1+2
 18814                        L10368:
 18815                        ;	{
 18816                        	.line	2984
 18817                        ;		if(odd)
 18818                        	.line	2985
 18819                        ;		{
 18820 03:4DD7: A5 11        	lda	<L859+odd_1
 18821 03:4DD9: 29 FF 00     	and	#$ff
 18822 03:4DDC: D0 03        	bne	L861
 18823 03:4DDE: 82 3D 00     	brl	L10369
 18824                        L861:
 18825                        	.line	2986
 18826                        ;			memcpy( (LPCHAR)(0xB00000 + ((lo
                    ng)pos) * 640L)   ,BG_FILL_LINE_ODD,80);
 18827                        	.line	2987
 18828 03:4DE1: F4 50 00     	pea	#<$50
 18829 03:4DE4: A9 xx xx     	lda	#<~~BG_FILL_LINE_ODD
 18830 03:4DE7: 85 01        	sta	<R0
 18831                        	xref	_BEG_DATA
 18832 03:4DE9: A9 xx xx     	lda	#_BEG_DATA>>16
 18833 03:4DEC: 85 03        	sta	<R0+2
 18834 03:4DEE: D4 03        	pei	<R0+2
 18835 03:4DF0: D4 01        	pei	<R0
 18836 03:4DF2: F4 00 00     	pea	#^$280
 18837 03:4DF5: F4 80 02     	pea	#<$280
 18838 03:4DF8: D4 0F        	pei	<L859+pos_1+2
 18839 03:4DFA: D4 0D        	pei	<L859+pos_1
 18840                        	xref	~~~lmul
 18841 03:4DFC: 22 xx xx xx  	jsl	~~~lmul
 18842 03:4E00: 85 05        	sta	<R1
 18843 03:4E02: 86 07        	stx	<R1+2
 18844 03:4E04: 18           	clc
 18845 03:4E05: A9 00 00     	lda	#$0
 18846 03:4E08: 65 05        	adc	<R1
 18847 03:4E0A: 85 09        	sta	<R2
 18848 03:4E0C: A9 B0 00     	lda	#$b0
 18849 03:4E0F: 65 07        	adc	<R1+2
 18850 03:4E11: 85 0B        	sta	<R2+2
 18851 03:4E13: D4 0B        	pei	<R2+2
 18852 03:4E15: D4 09        	pei	<R2
  Mon Dec  7 2020 11:19                                                Page 349


 18853 03:4E17: 22 xx xx xx  	jsl	~~memcpy
 18854                        ;		}
 18855                        	.line	2988
 18856                        ;		else
 18857 03:4E1B: 82 3A 00     	brl	L10370
 18858                        L10369:
 18859                        ;		{
 18860                        	.line	2990
 18861                        ;			memcpy( (LPCHAR)(0xB00000 + ((lo
                    ng)pos) * 640L) ,BG_FILL_LINE_EVEN,80);
 18862                        	.line	2991
 18863 03:4E1E: F4 50 00     	pea	#<$50
 18864 03:4E21: A9 xx xx     	lda	#<~~BG_FILL_LINE_EVEN
 18865 03:4E24: 85 01        	sta	<R0
 18866                        	xref	_BEG_DATA
 18867 03:4E26: A9 xx xx     	lda	#_BEG_DATA>>16
 18868 03:4E29: 85 03        	sta	<R0+2
 18869 03:4E2B: D4 03        	pei	<R0+2
 18870 03:4E2D: D4 01        	pei	<R0
 18871 03:4E2F: F4 00 00     	pea	#^$280
 18872 03:4E32: F4 80 02     	pea	#<$280
 18873 03:4E35: D4 0F        	pei	<L859+pos_1+2
 18874 03:4E37: D4 0D        	pei	<L859+pos_1
 18875                        	xref	~~~lmul
 18876 03:4E39: 22 xx xx xx  	jsl	~~~lmul
 18877 03:4E3D: 85 05        	sta	<R1
 18878 03:4E3F: 86 07        	stx	<R1+2
 18879 03:4E41: 18           	clc
 18880 03:4E42: A9 00 00     	lda	#$0
 18881 03:4E45: 65 05        	adc	<R1
 18882 03:4E47: 85 09        	sta	<R2
 18883 03:4E49: A9 B0 00     	lda	#$b0
 18884 03:4E4C: 65 07        	adc	<R1+2
 18885 03:4E4E: 85 0B        	sta	<R2+2
 18886 03:4E50: D4 0B        	pei	<R2+2
 18887 03:4E52: D4 09        	pei	<R2
 18888 03:4E54: 22 xx xx xx  	jsl	~~memcpy
 18889                        ;
 18890                        ;		}
 18891                        	.line	2993
 18892                        L10370:
 18893                        ;		odd=!odd;
 18894                        	.line	2994
 18895 03:4E58: 64 01        	stz	<R0
 18896 03:4E5A: A5 11        	lda	<L859+odd_1
 18897 03:4E5C: 29 FF 00     	and	#$ff
 18898 03:4E5F: F0 03        	beq	L863
 18899 03:4E61: 82 02 00     	brl	L862
 18900                        L863:
 18901 03:4E64: E6 01        	inc	<R0
 18902                        L862:
 18903 03:4E66: E2 20        	sep	#$20
 18904                        	longa	off
 18905 03:4E68: A5 01        	lda	<R0
 18906 03:4E6A: 85 11        	sta	<L859+odd_1
 18907 03:4E6C: C2 20        	rep	#$20
 18908                        	longa	on
 18909                        ;	}
  Mon Dec  7 2020 11:19                                                Page 350


 18910                        	.line	2995
 18911                        L10366:
 18912 03:4E6E: E6 0D        	inc	<L859+pos_1
 18913 03:4E70: D0 02        	bne	L864
 18914 03:4E72: E6 0F        	inc	<L859+pos_1+2
 18915                        L864:
 18916 03:4E74: A5 0D        	lda	<L859+pos_1
 18917 03:4E76: C9 DF 01     	cmp	#<$1df
 18918 03:4E79: A5 0F        	lda	<L859+pos_1+2
 18919 03:4E7B: E9 00 00     	sbc	#^$1df
 18920 03:4E7E: B0 03        	bcs	L865
 18921 03:4E80: 82 54 FF     	brl	L10368
 18922                        L865:
 18923                        L10367:
 18924                        ;
 18925                        ;
 18926                        ;
 18927                        ;	return;
 18928                        	.line	2999
 18929                        L866:
 18930 03:4E83: A5 1B        	lda	<L858+2
 18931 03:4E85: 85 29        	sta	<L858+2+14
 18932 03:4E87: A5 1A        	lda	<L858+1
 18933 03:4E89: 85 28        	sta	<L858+1+14
 18934 03:4E8B: 2B           	pld
 18935 03:4E8C: 3B           	tsc
 18936 03:4E8D: 18           	clc
 18937 03:4E8E: 69 27 00     	adc	#L858+14
 18938 03:4E91: 1B           	tcs
 18939 03:4E92: 6B           	rtl
 18940                        ;}
 18941                        	.line	3000
 18942                        	.endblock	3000
 18943             00000019   L858	equ	25
 18944             0000000D   L859	equ	13
 18945 03:4E93:              	ends
 18946                        	efunc
 18947                        	.endfunc	3000,13,25
 18948                        	.line	3000
 18949                        ;
 18950                        ;void k_paint_brush_at_address(char FAR * pdst,int
                     width,int height,BYTE pattern)
 18951                        ;{
 18952                        	.line	3002
 18953                        	.line	3003
 18954                        	GUI
 18955                        	xdef	~~k_paint_brush_at_address
 18956                        	func
 18957                        	.function	3003
 18958                        ~~k_paint_brush_at_address:
 18959                        	longa	on
 18960                        	longi	on
 18961 03:4E93: 3B           	tsc
 18962 03:4E94: 38           	sec
 18963 03:4E95: E9 0D 00     	sbc	#L867
 18964 03:4E98: 1B           	tcs
 18965 03:4E99: 0B           	phd
 18966 03:4E9A: 5B           	tcd
  Mon Dec  7 2020 11:19                                                Page 351


 18967             00000004   pdst_0	set	4
 18968             00000008   width_0	set	8
 18969             0000000A   height_0	set	10
 18970             0000000C   pattern_0	set	12
 18971                        	.block	3003
 18972                        ;	int pos = 0;
 18973                        ;	int spinLock = 0;
 18974                        ;	char status = VDMA_STAT_VDMA_IPS;
 18975                        ;
 18976                        ;
 18977                        ;	while(status == VDMA_STAT_VDMA_IPS)
 18978             00000000   pos_1	set	0
 18979             00000002   spinLock_1	set	2
 18980             00000004   status_1	set	4
 18981                        	.sym	pos,0,5,1,16
 18982                        	.sym	spinLock,2,5,1,16
 18983                        	.sym	status,4,14,1,8
 18984                        	.sym	pdst,4,142,6,32
 18985                        	.sym	width,8,5,6,16
 18986                        	.sym	height,10,5,6,16
 18987                        	.sym	pattern,12,14,6,8
 18988 03:4E9B: 64 09        	stz	<L868+pos_1
 18989 03:4E9D: 64 0B        	stz	<L868+spinLock_1
 18990 03:4E9F: E2 20        	sep	#$20
 18991                        	longa	off
 18992 03:4EA1: A9 80        	lda	#$80
 18993 03:4EA3: 85 0D        	sta	<L868+status_1
 18994 03:4EA5: C2 20        	rep	#$20
 18995                        	longa	on
 18996                        	.line	3009
 18997                        L10371:
 18998 03:4EA7: E2 20        	sep	#$20
 18999                        	longa	off
 19000 03:4EA9: A5 0D        	lda	<L868+status_1
 19001 03:4EAB: C9 80        	cmp	#<$80
 19002 03:4EAD: C2 20        	rep	#$20
 19003                        	longa	on
 19004 03:4EAF: F0 03        	beq	L870
 19005 03:4EB1: 82 0F 00     	brl	L10372
 19006                        L870:
 19007                        ;	{
 19008                        	.line	3010
 19009                        ;		status = (VDMA_STATUS_REG[0] & VDMA_STAT
                    _VDMA_IPS);
 19010                        	.line	3011
 19011 03:4EB4: E2 20        	sep	#$20
 19012                        	longa	off
 19013 03:4EB6: AF 01 04 AF  	lda	>11469825
 19014 03:4EBA: 29 80        	and	#<$80
 19015 03:4EBC: 85 0D        	sta	<L868+status_1
 19016 03:4EBE: C2 20        	rep	#$20
 19017                        	longa	on
 19018                        ;	}
 19019                        	.line	3012
 19020 03:4EC0: 82 E4 FF     	brl	L10371
 19021                        L10372:
 19022                        ;
 19023                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE | VDMA_CT
  Mon Dec  7 2020 11:19                                                Page 352


                    RL_TRF_FILL;
 19024                        	.line	3014
 19025 03:4EC3: E2 20        	sep	#$20
 19026                        	longa	off
 19027 03:4EC5: A9 05        	lda	#$5
 19028 03:4EC7: 8F 00 04 AF  	sta	>11469824
 19029 03:4ECB: C2 20        	rep	#$20
 19030                        	longa	on
 19031                        ;
 19032                        ;	*BM_START_ADDY_L = 0x00;
 19033                        	.line	3016
 19034 03:4ECD: E2 20        	sep	#$20
 19035                        	longa	off
 19036 03:4ECF: A9 00        	lda	#$0
 19037 03:4ED1: 8F 41 01 AF  	sta	>11469121
 19038 03:4ED5: C2 20        	rep	#$20
 19039                        	longa	on
 19040                        ;	*BM_START_ADDY_M = 0x00;
 19041                        	.line	3017
 19042 03:4ED7: E2 20        	sep	#$20
 19043                        	longa	off
 19044 03:4ED9: A9 00        	lda	#$0
 19045 03:4EDB: 8F 42 01 AF  	sta	>11469122
 19046 03:4EDF: C2 20        	rep	#$20
 19047                        	longa	on
 19048                        ;	*BM_START_ADDY_H = 0x00;
 19049                        	.line	3018
 19050 03:4EE1: E2 20        	sep	#$20
 19051                        	longa	off
 19052 03:4EE3: A9 00        	lda	#$0
 19053 03:4EE5: 8F 43 01 AF  	sta	>11469123
 19054 03:4EE9: C2 20        	rep	#$20
 19055                        	longa	on
 19056                        ;	*((char FAR*)0xAF1F80) = 0x02;
 19057                        	.line	3019
 19058 03:4EEB: E2 20        	sep	#$20
 19059                        	longa	off
 19060 03:4EED: A9 02        	lda	#$2
 19061 03:4EEF: 8F 80 1F AF  	sta	>11476864
 19062 03:4EF3: C2 20        	rep	#$20
 19063                        	longa	on
 19064                        ;
 19065                        ;	*BM_X_SIZE_L = 0x80;
 19066                        	.line	3021
 19067 03:4EF5: E2 20        	sep	#$20
 19068                        	longa	off
 19069 03:4EF7: A9 80        	lda	#$80
 19070 03:4EF9: 8F 44 01 AF  	sta	>11469124
 19071 03:4EFD: C2 20        	rep	#$20
 19072                        	longa	on
 19073                        ;	*BM_X_SIZE_H = 0x02;
 19074                        	.line	3022
 19075 03:4EFF: E2 20        	sep	#$20
 19076                        	longa	off
 19077 03:4F01: A9 02        	lda	#$2
 19078 03:4F03: 8F 45 01 AF  	sta	>11469125
 19079 03:4F07: C2 20        	rep	#$20
 19080                        	longa	on
  Mon Dec  7 2020 11:19                                                Page 353


 19081                        ;	*BM_Y_SIZE_L = 0xE0;
 19082                        	.line	3023
 19083 03:4F09: E2 20        	sep	#$20
 19084                        	longa	off
 19085 03:4F0B: A9 E0        	lda	#$e0
 19086 03:4F0D: 8F 46 01 AF  	sta	>11469126
 19087 03:4F11: C2 20        	rep	#$20
 19088                        	longa	on
 19089                        ;	*BM_Y_SIZE_H = 0x01;
 19090                        	.line	3024
 19091 03:4F13: E2 20        	sep	#$20
 19092                        	longa	off
 19093 03:4F15: A9 01        	lda	#$1
 19094 03:4F17: 8F 47 01 AF  	sta	>11469127
 19095 03:4F1B: C2 20        	rep	#$20
 19096                        	longa	on
 19097                        ;
 19098                        ;	*VDMA_X_SIZE_L = LOBYTE(width);
 19099                        	.line	3026
 19100 03:4F1D: E2 20        	sep	#$20
 19101                        	longa	off
 19102 03:4F1F: A5 15        	lda	<L867+width_0
 19103 03:4F21: 8F 08 04 AF  	sta	>11469832
 19104 03:4F25: C2 20        	rep	#$20
 19105                        	longa	on
 19106                        ;	*VDMA_X_SIZE_H = HIBYTE(width);
 19107                        	.line	3027
 19108 03:4F27: A5 15        	lda	<L867+width_0
 19109 03:4F29: A2 08 00     	ldx	#<$8
 19110                        	xref	~~~asr
 19111 03:4F2C: 22 xx xx xx  	jsl	~~~asr
 19112 03:4F30: 29 FF 00     	and	#<$ff
 19113 03:4F33: 85 01        	sta	<R0
 19114 03:4F35: E2 20        	sep	#$20
 19115                        	longa	off
 19116 03:4F37: A5 01        	lda	<R0
 19117 03:4F39: 8F 09 04 AF  	sta	>11469833
 19118 03:4F3D: C2 20        	rep	#$20
 19119                        	longa	on
 19120                        ;
 19121                        ;	*VDMA_Y_SIZE_L = LOBYTE(height);
 19122                        	.line	3029
 19123 03:4F3F: E2 20        	sep	#$20
 19124                        	longa	off
 19125 03:4F41: A5 17        	lda	<L867+height_0
 19126 03:4F43: 8F 0A 04 AF  	sta	>11469834
 19127 03:4F47: C2 20        	rep	#$20
 19128                        	longa	on
 19129                        ;	*VDMA_Y_SIZE_H = HIBYTE(height);
 19130                        	.line	3030
 19131 03:4F49: A5 17        	lda	<L867+height_0
 19132 03:4F4B: A2 08 00     	ldx	#<$8
 19133                        	xref	~~~asr
 19134 03:4F4E: 22 xx xx xx  	jsl	~~~asr
 19135 03:4F52: 29 FF 00     	and	#<$ff
 19136 03:4F55: 85 01        	sta	<R0
 19137 03:4F57: E2 20        	sep	#$20
 19138                        	longa	off
  Mon Dec  7 2020 11:19                                                Page 354


 19139 03:4F59: A5 01        	lda	<R0
 19140 03:4F5B: 8F 0B 04 AF  	sta	>11469835
 19141 03:4F5F: C2 20        	rep	#$20
 19142                        	longa	on
 19143                        ;
 19144                        ;	*VDMA_DST_STRIDE_L = 0x80;
 19145                        	.line	3032
 19146 03:4F61: E2 20        	sep	#$20
 19147                        	longa	off
 19148 03:4F63: A9 80        	lda	#$80
 19149 03:4F65: 8F 0E 04 AF  	sta	>11469838
 19150 03:4F69: C2 20        	rep	#$20
 19151                        	longa	on
 19152                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 19153                        	.line	3033
 19154 03:4F6B: E2 20        	sep	#$20
 19155                        	longa	off
 19156 03:4F6D: A9 02        	lda	#$2
 19157 03:4F6F: 8F 0F 04 AF  	sta	>11469839
 19158 03:4F73: C2 20        	rep	#$20
 19159                        	longa	on
 19160                        ;
 19161                        ;
 19162                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 19163                        	.line	3036
 19164 03:4F75: E2 20        	sep	#$20
 19165                        	longa	off
 19166 03:4F77: A5 11        	lda	<L867+pdst_0
 19167 03:4F79: 8F 05 04 AF  	sta	>11469829
 19168 03:4F7D: C2 20        	rep	#$20
 19169                        	longa	on
 19170                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 19171                        	.line	3037
 19172 03:4F7F: D4 13        	pei	<L867+pdst_0+2
 19173 03:4F81: D4 11        	pei	<L867+pdst_0
 19174 03:4F83: A9 08 00     	lda	#$8
 19175                        	xref	~~~llsr
 19176 03:4F86: 22 xx xx xx  	jsl	~~~llsr
 19177 03:4F8A: 85 01        	sta	<R0
 19178 03:4F8C: 86 03        	stx	<R0+2
 19179 03:4F8E: A5 01        	lda	<R0
 19180 03:4F90: 29 FF 00     	and	#<$ff
 19181 03:4F93: 85 05        	sta	<R1
 19182 03:4F95: 64 07        	stz	<R1+2
 19183 03:4F97: E2 20        	sep	#$20
 19184                        	longa	off
 19185 03:4F99: A5 05        	lda	<R1
 19186 03:4F9B: 8F 06 04 AF  	sta	>11469830
 19187 03:4F9F: C2 20        	rep	#$20
 19188                        	longa	on
 19189                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 19190                        	.line	3038
 19191 03:4FA1: D4 13        	pei	<L867+pdst_0+2
 19192 03:4FA3: D4 11        	pei	<L867+pdst_0
 19193 03:4FA5: A9 10 00     	lda	#$10
 19194                        	xref	~~~llsr
 19195 03:4FA8: 22 xx xx xx  	jsl	~~~llsr
 19196 03:4FAC: 85 01        	sta	<R0
  Mon Dec  7 2020 11:19                                                Page 355


 19197 03:4FAE: 86 03        	stx	<R0+2
 19198 03:4FB0: A5 01        	lda	<R0
 19199 03:4FB2: 29 FF 00     	and	#<$ff
 19200 03:4FB5: 85 05        	sta	<R1
 19201 03:4FB7: 64 07        	stz	<R1+2
 19202 03:4FB9: E2 20        	sep	#$20
 19203                        	longa	off
 19204 03:4FBB: A5 05        	lda	<R1
 19205 03:4FBD: 8F 07 04 AF  	sta	>11469831
 19206 03:4FC1: C2 20        	rep	#$20
 19207                        	longa	on
 19208                        ;
 19209                        ;	VDMA_BYTE_2_WRITE[0] = pattern;
 19210                        	.line	3040
 19211 03:4FC3: E2 20        	sep	#$20
 19212                        	longa	off
 19213 03:4FC5: A5 19        	lda	<L867+pattern_0
 19214 03:4FC7: 8F 01 04 AF  	sta	>11469825
 19215 03:4FCB: C2 20        	rep	#$20
 19216                        	longa	on
 19217                        ;
 19218                        ;	VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VDMA_
                    CTRL_TRF_FILL | VDMA_CTRL_START_TRF);
 19219                        	.line	3042
 19220 03:4FCD: E2 20        	sep	#$20
 19221                        	longa	off
 19222 03:4FCF: A9 85        	lda	#$85
 19223 03:4FD1: 8F 00 04 AF  	sta	>11469824
 19224 03:4FD5: C2 20        	rep	#$20
 19225                        	longa	on
 19226                        ;
 19227                        ;
 19228                        ;   return ;
 19229                        	.line	3045
 19230                        L871:
 19231 03:4FD7: A5 0F        	lda	<L867+2
 19232 03:4FD9: 85 19        	sta	<L867+2+10
 19233 03:4FDB: A5 0E        	lda	<L867+1
 19234 03:4FDD: 85 18        	sta	<L867+1+10
 19235 03:4FDF: 2B           	pld
 19236 03:4FE0: 3B           	tsc
 19237 03:4FE1: 18           	clc
 19238 03:4FE2: 69 17 00     	adc	#L867+10
 19239 03:4FE5: 1B           	tcs
 19240 03:4FE6: 6B           	rtl
 19241                        ;}
 19242                        	.line	3046
 19243                        	.endblock	3046
 19244             0000000D   L867	equ	13
 19245             00000009   L868	equ	9
 19246 03:4FE7:              	ends
 19247                        	efunc
 19248                        	.endfunc	3046,9,13
 19249                        	.line	3046
 19250                        ;
 19251                        ;void k_vdma_move_rect(long x,long y,int width,int
                     height,int dx,int dy,unsigned char pcolor,UINT page)
 19252                        ;{
  Mon Dec  7 2020 11:19                                                Page 356


 19253                        	.line	3048
 19254                        	.line	3049
 19255                        	GUI
 19256                        	xdef	~~k_vdma_move_rect
 19257                        	func
 19258                        	.function	3049
 19259                        ~~k_vdma_move_rect:
 19260                        	longa	on
 19261                        	longi	on
 19262 03:4FE7: 3B           	tsc
 19263 03:4FE8: 38           	sec
 19264 03:4FE9: E9 0E 00     	sbc	#L872
 19265 03:4FEC: 1B           	tcs
 19266 03:4FED: 0B           	phd
 19267 03:4FEE: 5B           	tcd
 19268             00000004   x_0	set	4
 19269             00000008   y_0	set	8
 19270             0000000C   width_0	set	12
 19271             0000000E   height_0	set	14
 19272             00000010   dx_0	set	16
 19273             00000012   dy_0	set	18
 19274             00000014   pcolor_0	set	20
 19275             00000016   page_0	set	22
 19276                        	.block	3049
 19277                        ;	int slice = 0;
 19278                        ;
 19279                        ;
 19280                        ;
 19281                        ;
 19282                        ;	if(dx > 0)
 19283             00000000   slice_1	set	0
 19284                        	.sym	slice,0,5,1,16
 19285                        	.sym	x,4,7,6,32
 19286                        	.sym	y,8,7,6,32
 19287                        	.sym	width,12,5,6,16
 19288                        	.sym	height,14,5,6,16
 19289                        	.sym	dx,16,5,6,16
 19290                        	.sym	dy,18,5,6,16
 19291                        	.sym	pcolor,20,14,6,8
 19292                        	.sym	page,22,16,6,16
 19293 03:4FEF: 64 0D        	stz	<L873+slice_1
 19294                        	.line	3055
 19295                        ;	{
 19296 03:4FF1: 38           	sec
 19297 03:4FF2: A9 00 00     	lda	#$0
 19298 03:4FF5: E5 1E        	sbc	<L872+dx_0
 19299 03:4FF7: 70 03        	bvs	L875
 19300 03:4FF9: 49 00 80     	eor	#$8000
 19301                        L875:
 19302 03:4FFC: 10 03        	bpl	L876
 19303 03:4FFE: 82 62 00     	brl	L10373
 19304                        L876:
 19305                        	.line	3056
 19306                        ;		slice = dx;
 19307                        	.line	3057
 19308 03:5001: A5 1E        	lda	<L872+dx_0
 19309 03:5003: 85 0D        	sta	<L873+slice_1
 19310                        ;		k_vdma_fill_rect_ex(x+width,y,slice,heig
  Mon Dec  7 2020 11:19                                                Page 357


                    ht,pcolor,page);
 19311                        	.line	3058
 19312 03:5005: D4 24        	pei	<L872+page_0
 19313 03:5007: D4 22        	pei	<L872+pcolor_0
 19314 03:5009: D4 1C        	pei	<L872+height_0
 19315 03:500B: D4 0D        	pei	<L873+slice_1
 19316 03:500D: D4 18        	pei	<L872+y_0+2
 19317 03:500F: D4 16        	pei	<L872+y_0
 19318 03:5011: A0 00 00     	ldy	#$0
 19319 03:5014: A5 1A        	lda	<L872+width_0
 19320 03:5016: 10 01        	bpl	L877
 19321 03:5018: 88           	dey
 19322                        L877:
 19323 03:5019: 85 01        	sta	<R0
 19324 03:501B: 84 03        	sty	<R0+2
 19325 03:501D: 18           	clc
 19326 03:501E: A5 01        	lda	<R0
 19327 03:5020: 65 12        	adc	<L872+x_0
 19328 03:5022: 85 05        	sta	<R1
 19329 03:5024: A5 03        	lda	<R0+2
 19330 03:5026: 65 14        	adc	<L872+x_0+2
 19331 03:5028: 85 07        	sta	<R1+2
 19332 03:502A: D4 07        	pei	<R1+2
 19333 03:502C: D4 05        	pei	<R1
 19334 03:502E: 22 F6 50 03  	jsl	~~k_vdma_fill_rect_ex
 19335                        ;		k_vdma_fill_rect_ex(x-dx,y,slice,height,
                    FILLCOLOR_TRANSPARENT,page);
 19336                        	.line	3059
 19337 03:5032: D4 24        	pei	<L872+page_0
 19338 03:5034: F4 00 00     	pea	#<$0
 19339 03:5037: D4 1C        	pei	<L872+height_0
 19340 03:5039: D4 0D        	pei	<L873+slice_1
 19341 03:503B: D4 18        	pei	<L872+y_0+2
 19342 03:503D: D4 16        	pei	<L872+y_0
 19343 03:503F: A0 00 00     	ldy	#$0
 19344 03:5042: A5 1E        	lda	<L872+dx_0
 19345 03:5044: 10 01        	bpl	L878
 19346 03:5046: 88           	dey
 19347                        L878:
 19348 03:5047: 85 01        	sta	<R0
 19349 03:5049: 84 03        	sty	<R0+2
 19350 03:504B: 38           	sec
 19351 03:504C: A5 12        	lda	<L872+x_0
 19352 03:504E: E5 01        	sbc	<R0
 19353 03:5050: 85 05        	sta	<R1
 19354 03:5052: A5 14        	lda	<L872+x_0+2
 19355 03:5054: E5 03        	sbc	<R0+2
 19356 03:5056: 85 07        	sta	<R1+2
 19357 03:5058: D4 07        	pei	<R1+2
 19358 03:505A: D4 05        	pei	<R1
 19359 03:505C: 22 F6 50 03  	jsl	~~k_vdma_fill_rect_ex
 19360                        ;	}
 19361                        	.line	3060
 19362                        ;	else if (dx < 0)
 19363 03:5060: 82 83 00     	brl	L10374
 19364                        L10373:
 19365                        	.line	3061
 19366                        ;	{
  Mon Dec  7 2020 11:19                                                Page 358


 19367 03:5063: A5 1E        	lda	<L872+dx_0
 19368 03:5065: 30 03        	bmi	L879
 19369 03:5067: 82 7C 00     	brl	L10375
 19370                        L879:
 19371                        	.line	3062
 19372                        ;		slice = (-1*dx);
 19373                        	.line	3063
 19374 03:506A: 38           	sec
 19375 03:506B: A9 00 00     	lda	#$0
 19376 03:506E: E5 1E        	sbc	<L872+dx_0
 19377 03:5070: 85 0D        	sta	<L873+slice_1
 19378                        ;		k_vdma_fill_rect_ex(x+dx,y,slice,height,
                    pcolor,page);
 19379                        	.line	3064
 19380 03:5072: D4 24        	pei	<L872+page_0
 19381 03:5074: D4 22        	pei	<L872+pcolor_0
 19382 03:5076: D4 1C        	pei	<L872+height_0
 19383 03:5078: D4 0D        	pei	<L873+slice_1
 19384 03:507A: D4 18        	pei	<L872+y_0+2
 19385 03:507C: D4 16        	pei	<L872+y_0
 19386 03:507E: A0 00 00     	ldy	#$0
 19387 03:5081: A5 1E        	lda	<L872+dx_0
 19388 03:5083: 10 01        	bpl	L880
 19389 03:5085: 88           	dey
 19390                        L880:
 19391 03:5086: 85 01        	sta	<R0
 19392 03:5088: 84 03        	sty	<R0+2
 19393 03:508A: 18           	clc
 19394 03:508B: A5 01        	lda	<R0
 19395 03:508D: 65 12        	adc	<L872+x_0
 19396 03:508F: 85 05        	sta	<R1
 19397 03:5091: A5 03        	lda	<R0+2
 19398 03:5093: 65 14        	adc	<L872+x_0+2
 19399 03:5095: 85 07        	sta	<R1+2
 19400 03:5097: D4 07        	pei	<R1+2
 19401 03:5099: D4 05        	pei	<R1
 19402 03:509B: 22 F6 50 03  	jsl	~~k_vdma_fill_rect_ex
 19403                        ;		k_vdma_fill_rect_ex(x+width-slice,y,slic
                    e,height,FILLCOLOR_TRANSPARENT,page);
 19404                        	.line	3065
 19405 03:509F: D4 24        	pei	<L872+page_0
 19406 03:50A1: F4 00 00     	pea	#<$0
 19407 03:50A4: D4 1C        	pei	<L872+height_0
 19408 03:50A6: D4 0D        	pei	<L873+slice_1
 19409 03:50A8: D4 18        	pei	<L872+y_0+2
 19410 03:50AA: D4 16        	pei	<L872+y_0
 19411 03:50AC: A0 00 00     	ldy	#$0
 19412 03:50AF: A5 0D        	lda	<L873+slice_1
 19413 03:50B1: 10 01        	bpl	L881
 19414 03:50B3: 88           	dey
 19415                        L881:
 19416 03:50B4: 85 01        	sta	<R0
 19417 03:50B6: 84 03        	sty	<R0+2
 19418 03:50B8: A0 00 00     	ldy	#$0
 19419 03:50BB: A5 1A        	lda	<L872+width_0
 19420 03:50BD: 10 01        	bpl	L882
 19421 03:50BF: 88           	dey
 19422                        L882:
  Mon Dec  7 2020 11:19                                                Page 359


 19423 03:50C0: 85 05        	sta	<R1
 19424 03:50C2: 84 07        	sty	<R1+2
 19425 03:50C4: 18           	clc
 19426 03:50C5: A5 05        	lda	<R1
 19427 03:50C7: 65 12        	adc	<L872+x_0
 19428 03:50C9: 85 09        	sta	<R2
 19429 03:50CB: A5 07        	lda	<R1+2
 19430 03:50CD: 65 14        	adc	<L872+x_0+2
 19431 03:50CF: 85 0B        	sta	<R2+2
 19432 03:50D1: 38           	sec
 19433 03:50D2: A5 09        	lda	<R2
 19434 03:50D4: E5 01        	sbc	<R0
 19435 03:50D6: 85 05        	sta	<R1
 19436 03:50D8: A5 0B        	lda	<R2+2
 19437 03:50DA: E5 03        	sbc	<R0+2
 19438 03:50DC: 85 07        	sta	<R1+2
 19439 03:50DE: D4 07        	pei	<R1+2
 19440 03:50E0: D4 05        	pei	<R1
 19441 03:50E2: 22 F6 50 03  	jsl	~~k_vdma_fill_rect_ex
 19442                        ;	}
 19443                        	.line	3066
 19444                        ;}
 19445                        L10375:
 19446                        L10374:
 19447                        	.line	3067
 19448                        L883:
 19449 03:50E6: A5 10        	lda	<L872+2
 19450 03:50E8: 85 24        	sta	<L872+2+20
 19451 03:50EA: A5 0F        	lda	<L872+1
 19452 03:50EC: 85 23        	sta	<L872+1+20
 19453 03:50EE: 2B           	pld
 19454 03:50EF: 3B           	tsc
 19455 03:50F0: 18           	clc
 19456 03:50F1: 69 22 00     	adc	#L872+20
 19457 03:50F4: 1B           	tcs
 19458 03:50F5: 6B           	rtl
 19459                        	.endblock	3067
 19460             0000000E   L872	equ	14
 19461             0000000D   L873	equ	13
 19462 03:50F6:              	ends
 19463                        	efunc
 19464                        	.endfunc	3067,13,14
 19465                        	.line	3067
 19466                        ;
 19467                        ;void k_vdma_fill_rect_ex(long x,long y,int width,
                    int height,unsigned char pcolor,UINT page)
 19468                        ;{
 19469                        	.line	3069
 19470                        	.line	3070
 19471                        	GUI
 19472                        	xdef	~~k_vdma_fill_rect_ex
 19473                        	func
 19474                        	.function	3070
 19475                        ~~k_vdma_fill_rect_ex:
 19476                        	longa	on
 19477                        	longi	on
 19478 03:50F6: 3B           	tsc
 19479 03:50F7: 38           	sec
  Mon Dec  7 2020 11:19                                                Page 360


 19480 03:50F8: E9 08 00     	sbc	#L884
 19481 03:50FB: 1B           	tcs
 19482 03:50FC: 0B           	phd
 19483 03:50FD: 5B           	tcd
 19484             00000004   x_0	set	4
 19485             00000008   y_0	set	8
 19486             0000000C   width_0	set	12
 19487             0000000E   height_0	set	14
 19488             00000010   pcolor_0	set	16
 19489             00000012   page_0	set	18
 19490                        	.block	3070
 19491                        ;	long pixelLocation = (long)(( ((long)y) * (640L)
                    ) + ((long)x) );
 19492                        ;
 19493                        ;	k_debug_integer("k_vdma_fill_rect:",page);
 19494             00000000   pixelLocation_1	set	0
 19495                        	.sym	pixelLocation,0,7,1,32
 19496                        	.sym	x,4,7,6,32
 19497                        	.sym	y,8,7,6,32
 19498                        	.sym	width,12,5,6,16
 19499                        	.sym	height,14,5,6,16
 19500                        	.sym	pcolor,16,14,6,8
 19501                        	.sym	page,18,16,6,16
 19502 03:50FE: F4 00 00     	pea	#^$280
 19503 03:5101: F4 80 02     	pea	#<$280
 19504 03:5104: D4 12        	pei	<L884+y_0+2
 19505 03:5106: D4 10        	pei	<L884+y_0
 19506                        	xref	~~~lmul
 19507 03:5108: 22 xx xx xx  	jsl	~~~lmul
 19508 03:510C: 85 01        	sta	<R0
 19509 03:510E: 86 03        	stx	<R0+2
 19510 03:5110: 18           	clc
 19511 03:5111: A5 01        	lda	<R0
 19512 03:5113: 65 0C        	adc	<L884+x_0
 19513 03:5115: 85 05        	sta	<L885+pixelLocation_1
 19514 03:5117: A5 03        	lda	<R0+2
 19515 03:5119: 65 0E        	adc	<L884+x_0+2
 19516 03:511B: 85 07        	sta	<L885+pixelLocation_1+2
 19517                        	.line	3073
 19518 03:511D: D4 1A        	pei	<L884+page_0
 19519 03:511F: F4 xx xx     	pea	#^L857
 19520 03:5122: F4 xx xx     	pea	#<L857
 19521 03:5125: 22 xx xx xx  	jsl	~~k_debug_integer
 19522                        ;
 19523                        ;	k_vdma_fill_address_ex((char FAR * )pixelLocatio
                    n, width, height,pcolor,page);
 19524                        	.line	3075
 19525 03:5129: D4 1A        	pei	<L884+page_0
 19526 03:512B: D4 18        	pei	<L884+pcolor_0
 19527 03:512D: D4 16        	pei	<L884+height_0
 19528 03:512F: D4 14        	pei	<L884+width_0
 19529 03:5131: D4 07        	pei	<L885+pixelLocation_1+2
 19530 03:5133: D4 05        	pei	<L885+pixelLocation_1
 19531 03:5135: 22 AC 54 03  	jsl	~~k_vdma_fill_address_ex
 19532                        ;
 19533                        ;	return;
 19534                        	.line	3077
 19535                        L887:
  Mon Dec  7 2020 11:19                                                Page 361


 19536 03:5139: A5 0A        	lda	<L884+2
 19537 03:513B: 85 1A        	sta	<L884+2+16
 19538 03:513D: A5 09        	lda	<L884+1
 19539 03:513F: 85 19        	sta	<L884+1+16
 19540 03:5141: 2B           	pld
 19541 03:5142: 3B           	tsc
 19542 03:5143: 18           	clc
 19543 03:5144: 69 18 00     	adc	#L884+16
 19544 03:5147: 1B           	tcs
 19545 03:5148: 6B           	rtl
 19546                        ;}
 19547                        	.line	3078
 19548                        	.endblock	3078
 19549             00000008   L884	equ	8
 19550             00000005   L885	equ	5
 19551 03:5149:              	ends
 19552                        	efunc
 19553                        	.endfunc	3078,5,8
 19554                        	.line	3078
 19555                        	data
 19556                        L857:
 19557 00:0BD4: 6B 5F 76 64  	db	$6B,$5F,$76,$64,$6D,$61,$5F,$66,$69,$6C,
                    $6C,$5F,$72,$65,$63
       00:0BD8: 6D 61 5F 66 
       00:0BDC: 69 6C 6C 5F 
       00:0BE0: 72 65 63 
 19558 00:0BE3: 74 3A 00     	db	$74,$3A,$00
 19559 00:0BE6:              	ends
 19560                        ;
 19561                        ;void k_vdma_fill_rect(long x,long y,int width,int
                     height,unsigned char pcolor)
 19562                        ;{
 19563                        	.line	3080
 19564                        	.line	3081
 19565                        	GUI
 19566                        	xdef	~~k_vdma_fill_rect
 19567                        	func
 19568                        	.function	3081
 19569                        ~~k_vdma_fill_rect:
 19570                        	longa	on
 19571                        	longi	on
 19572 03:5149: 3B           	tsc
 19573 03:514A: 38           	sec
 19574 03:514B: E9 08 00     	sbc	#L889
 19575 03:514E: 1B           	tcs
 19576 03:514F: 0B           	phd
 19577 03:5150: 5B           	tcd
 19578             00000004   x_0	set	4
 19579             00000008   y_0	set	8
 19580             0000000C   width_0	set	12
 19581             0000000E   height_0	set	14
 19582             00000010   pcolor_0	set	16
 19583                        	.block	3081
 19584                        ;	long pixelLocation = (long)(( ((long)y) * (640L)
                    ) + ((long)x) );
 19585                        ;
 19586                        ;	//k_debug_string("k_vdma_fill_rect V2\r\n");
 19587                        ;
  Mon Dec  7 2020 11:19                                                Page 362


 19588                        ;	//k_vdma_fill_address((char FAR * )pixelLocation
                    , width - 2, height - 1,pcolor);
 19589                        ;	k_vdma_fill_address((char FAR * )pixelLocation, 
                    width, height,pcolor);
 19590             00000000   pixelLocation_1	set	0
 19591                        	.sym	pixelLocation,0,7,1,32
 19592                        	.sym	x,4,7,6,32
 19593                        	.sym	y,8,7,6,32
 19594                        	.sym	width,12,5,6,16
 19595                        	.sym	height,14,5,6,16
 19596                        	.sym	pcolor,16,14,6,8
 19597 03:5151: F4 00 00     	pea	#^$280
 19598 03:5154: F4 80 02     	pea	#<$280
 19599 03:5157: D4 12        	pei	<L889+y_0+2
 19600 03:5159: D4 10        	pei	<L889+y_0
 19601                        	xref	~~~lmul
 19602 03:515B: 22 xx xx xx  	jsl	~~~lmul
 19603 03:515F: 85 01        	sta	<R0
 19604 03:5161: 86 03        	stx	<R0+2
 19605 03:5163: 18           	clc
 19606 03:5164: A5 01        	lda	<R0
 19607 03:5166: 65 0C        	adc	<L889+x_0
 19608 03:5168: 85 05        	sta	<L890+pixelLocation_1
 19609 03:516A: A5 03        	lda	<R0+2
 19610 03:516C: 65 0E        	adc	<L889+x_0+2
 19611 03:516E: 85 07        	sta	<L890+pixelLocation_1+2
 19612                        	.line	3087
 19613 03:5170: D4 18        	pei	<L889+pcolor_0
 19614 03:5172: D4 16        	pei	<L889+height_0
 19615 03:5174: D4 14        	pei	<L889+width_0
 19616 03:5176: D4 07        	pei	<L890+pixelLocation_1+2
 19617 03:5178: D4 05        	pei	<L890+pixelLocation_1
 19618 03:517A: 22 61 53 03  	jsl	~~k_vdma_fill_address
 19619                        ;#ifdef FX_C256_USESHADOW
 19620                        ;	k_shadow_fill_rect(x,y, width, height, pcolor);
 19621                        ;#endif
 19622                        ;	//k_shadow_bitblt(x,y,width,height,x,y);
 19623                        ;
 19624                        ;	return;
 19625                        	.line	3093
 19626                        L892:
 19627 03:517E: A5 0A        	lda	<L889+2
 19628 03:5180: 85 18        	sta	<L889+2+14
 19629 03:5182: A5 09        	lda	<L889+1
 19630 03:5184: 85 17        	sta	<L889+1+14
 19631 03:5186: 2B           	pld
 19632 03:5187: 3B           	tsc
 19633 03:5188: 18           	clc
 19634 03:5189: 69 16 00     	adc	#L889+14
 19635 03:518C: 1B           	tcs
 19636 03:518D: 6B           	rtl
 19637                        ;}
 19638                        	.line	3094
 19639                        	.endblock	3094
 19640             00000008   L889	equ	8
 19641             00000005   L890	equ	5
 19642 03:518E:              	ends
 19643                        	efunc
  Mon Dec  7 2020 11:19                                                Page 363


 19644                        	.endfunc	3094,5,8
 19645                        	.line	3094
 19646                        ;
 19647                        ;void k_vdma_fill_address_old(char FAR * pdst,int 
                    width,int height,unsigned char data)
 19648                        ;{
 19649                        	.line	3096
 19650                        	.line	3097
 19651                        	GUI
 19652                        	xdef	~~k_vdma_fill_address_old
 19653                        	func
 19654                        	.function	3097
 19655                        ~~k_vdma_fill_address_old:
 19656                        	longa	on
 19657                        	longi	on
 19658 03:518E: 3B           	tsc
 19659 03:518F: 38           	sec
 19660 03:5190: E9 0D 00     	sbc	#L893
 19661 03:5193: 1B           	tcs
 19662 03:5194: 0B           	phd
 19663 03:5195: 5B           	tcd
 19664             00000004   pdst_0	set	4
 19665             00000008   width_0	set	8
 19666             0000000A   height_0	set	10
 19667             0000000C   data_0	set	12
 19668                        	.block	3097
 19669                        ;	int pos = 0;
 19670                        ;	UINT spinLock = 0;
 19671                        ;	char status = VDMA_STAT_VDMA_IPS;
 19672                        ;
 19673                        ;	/*
 19674                        ;	while(status == VDMA_STAT_VDMA_IPS)
 19675                        ;	{
 19676                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 19677                        ;		spinLock++;
 19678                        ;
 19679                        ;		if(spinLock > 32000)
 19680                        ;		{
 19681                        ;			break;
 19682                        ;		}
 19683                        ;	}
 19684                        ;	k_debug_integer("k_vdma_fill_address1::spinLock:
                    ",spinLock);
 19685                        ;	*/
 19686                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE | VDMA_CT
                    RL_1D_2D | VDMA_CTRL_TRF_FILL;
 19687             00000000   pos_1	set	0
 19688             00000002   spinLock_1	set	2
 19689             00000004   status_1	set	4
 19690                        	.sym	pos,0,5,1,16
 19691                        	.sym	spinLock,2,16,1,16
 19692                        	.sym	status,4,14,1,8
 19693                        	.sym	pdst,4,142,6,32
 19694                        	.sym	width,8,5,6,16
 19695                        	.sym	height,10,5,6,16
 19696                        	.sym	data,12,14,6,8
 19697 03:5196: 64 09        	stz	<L894+pos_1
  Mon Dec  7 2020 11:19                                                Page 364


 19698 03:5198: 64 0B        	stz	<L894+spinLock_1
 19699 03:519A: E2 20        	sep	#$20
 19700                        	longa	off
 19701 03:519C: A9 80        	lda	#$80
 19702 03:519E: 85 0D        	sta	<L894+status_1
 19703 03:51A0: C2 20        	rep	#$20
 19704                        	longa	on
 19705                        	.line	3115
 19706 03:51A2: E2 20        	sep	#$20
 19707                        	longa	off
 19708 03:51A4: A9 07        	lda	#$7
 19709 03:51A6: 8F 00 04 AF  	sta	>11469824
 19710 03:51AA: C2 20        	rep	#$20
 19711                        	longa	on
 19712                        ;
 19713                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 19714                        	.line	3117
 19715 03:51AC: E2 20        	sep	#$20
 19716                        	longa	off
 19717 03:51AE: A5 11        	lda	<L893+pdst_0
 19718 03:51B0: 8F 05 04 AF  	sta	>11469829
 19719 03:51B4: C2 20        	rep	#$20
 19720                        	longa	on
 19721                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 19722                        	.line	3118
 19723 03:51B6: D4 13        	pei	<L893+pdst_0+2
 19724 03:51B8: D4 11        	pei	<L893+pdst_0
 19725 03:51BA: A9 08 00     	lda	#$8
 19726                        	xref	~~~llsr
 19727 03:51BD: 22 xx xx xx  	jsl	~~~llsr
 19728 03:51C1: 85 01        	sta	<R0
 19729 03:51C3: 86 03        	stx	<R0+2
 19730 03:51C5: A5 01        	lda	<R0
 19731 03:51C7: 29 FF 00     	and	#<$ff
 19732 03:51CA: 85 05        	sta	<R1
 19733 03:51CC: 64 07        	stz	<R1+2
 19734 03:51CE: E2 20        	sep	#$20
 19735                        	longa	off
 19736 03:51D0: A5 05        	lda	<R1
 19737 03:51D2: 8F 06 04 AF  	sta	>11469830
 19738 03:51D6: C2 20        	rep	#$20
 19739                        	longa	on
 19740                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 19741                        	.line	3119
 19742 03:51D8: D4 13        	pei	<L893+pdst_0+2
 19743 03:51DA: D4 11        	pei	<L893+pdst_0
 19744 03:51DC: A9 10 00     	lda	#$10
 19745                        	xref	~~~llsr
 19746 03:51DF: 22 xx xx xx  	jsl	~~~llsr
 19747 03:51E3: 85 01        	sta	<R0
 19748 03:51E5: 86 03        	stx	<R0+2
 19749 03:51E7: A5 01        	lda	<R0
 19750 03:51E9: 29 FF 00     	and	#<$ff
 19751 03:51EC: 85 05        	sta	<R1
 19752 03:51EE: 64 07        	stz	<R1+2
 19753 03:51F0: E2 20        	sep	#$20
 19754                        	longa	off
 19755 03:51F2: A5 05        	lda	<R1
  Mon Dec  7 2020 11:19                                                Page 365


 19756 03:51F4: 8F 07 04 AF  	sta	>11469831
 19757 03:51F8: C2 20        	rep	#$20
 19758                        	longa	on
 19759                        ;
 19760                        ;	*BM_START_ADDY_L = 0x00;
 19761                        	.line	3121
 19762 03:51FA: E2 20        	sep	#$20
 19763                        	longa	off
 19764 03:51FC: A9 00        	lda	#$0
 19765 03:51FE: 8F 41 01 AF  	sta	>11469121
 19766 03:5202: C2 20        	rep	#$20
 19767                        	longa	on
 19768                        ;	*BM_START_ADDY_M = 0x00;
 19769                        	.line	3122
 19770 03:5204: E2 20        	sep	#$20
 19771                        	longa	off
 19772 03:5206: A9 00        	lda	#$0
 19773 03:5208: 8F 42 01 AF  	sta	>11469122
 19774 03:520C: C2 20        	rep	#$20
 19775                        	longa	on
 19776                        ;	*BM_START_ADDY_H = 0x00;
 19777                        	.line	3123
 19778 03:520E: E2 20        	sep	#$20
 19779                        	longa	off
 19780 03:5210: A9 00        	lda	#$0
 19781 03:5212: 8F 43 01 AF  	sta	>11469123
 19782 03:5216: C2 20        	rep	#$20
 19783                        	longa	on
 19784                        ;	*((char FAR*)0xAF1F80) = 0x02;
 19785                        	.line	3124
 19786 03:5218: E2 20        	sep	#$20
 19787                        	longa	off
 19788 03:521A: A9 02        	lda	#$2
 19789 03:521C: 8F 80 1F AF  	sta	>11476864
 19790 03:5220: C2 20        	rep	#$20
 19791                        	longa	on
 19792                        ;	
 19793                        ;	*BM_X_SIZE_L = 0x80;
 19794                        	.line	3126
 19795 03:5222: E2 20        	sep	#$20
 19796                        	longa	off
 19797 03:5224: A9 80        	lda	#$80
 19798 03:5226: 8F 44 01 AF  	sta	>11469124
 19799 03:522A: C2 20        	rep	#$20
 19800                        	longa	on
 19801                        ;	*BM_X_SIZE_H = 0x02;	
 19802                        	.line	3127
 19803 03:522C: E2 20        	sep	#$20
 19804                        	longa	off
 19805 03:522E: A9 02        	lda	#$2
 19806 03:5230: 8F 45 01 AF  	sta	>11469125
 19807 03:5234: C2 20        	rep	#$20
 19808                        	longa	on
 19809                        ;	*BM_Y_SIZE_L = 0xE0;
 19810                        	.line	3128
 19811 03:5236: E2 20        	sep	#$20
 19812                        	longa	off
 19813 03:5238: A9 E0        	lda	#$e0
  Mon Dec  7 2020 11:19                                                Page 366


 19814 03:523A: 8F 46 01 AF  	sta	>11469126
 19815 03:523E: C2 20        	rep	#$20
 19816                        	longa	on
 19817                        ;	*BM_Y_SIZE_H = 0x01;
 19818                        	.line	3129
 19819 03:5240: E2 20        	sep	#$20
 19820                        	longa	off
 19821 03:5242: A9 01        	lda	#$1
 19822 03:5244: 8F 47 01 AF  	sta	>11469127
 19823 03:5248: C2 20        	rep	#$20
 19824                        	longa	on
 19825                        ;
 19826                        ;	width+=(width & 0x0001);
 19827                        	.line	3131
 19828 03:524A: A5 15        	lda	<L893+width_0
 19829 03:524C: 29 01 00     	and	#<$1
 19830 03:524F: 85 01        	sta	<R0
 19831 03:5251: 18           	clc
 19832 03:5252: A5 15        	lda	<L893+width_0
 19833 03:5254: 65 01        	adc	<R0
 19834 03:5256: 85 15        	sta	<L893+width_0
 19835                        ;
 19836                        ;	*VDMA_X_SIZE_L = LOBYTE(width);
 19837                        	.line	3133
 19838 03:5258: E2 20        	sep	#$20
 19839                        	longa	off
 19840 03:525A: A5 15        	lda	<L893+width_0
 19841 03:525C: 8F 08 04 AF  	sta	>11469832
 19842 03:5260: C2 20        	rep	#$20
 19843                        	longa	on
 19844                        ;	*VDMA_X_SIZE_H = HIBYTE(width);
 19845                        	.line	3134
 19846 03:5262: A5 15        	lda	<L893+width_0
 19847 03:5264: A2 08 00     	ldx	#<$8
 19848                        	xref	~~~asr
 19849 03:5267: 22 xx xx xx  	jsl	~~~asr
 19850 03:526B: 29 FF 00     	and	#<$ff
 19851 03:526E: 85 01        	sta	<R0
 19852 03:5270: E2 20        	sep	#$20
 19853                        	longa	off
 19854 03:5272: A5 01        	lda	<R0
 19855 03:5274: 8F 09 04 AF  	sta	>11469833
 19856 03:5278: C2 20        	rep	#$20
 19857                        	longa	on
 19858                        ;
 19859                        ;	*VDMA_Y_SIZE_L = LOBYTE(height);
 19860                        	.line	3136
 19861 03:527A: E2 20        	sep	#$20
 19862                        	longa	off
 19863 03:527C: A5 17        	lda	<L893+height_0
 19864 03:527E: 8F 0A 04 AF  	sta	>11469834
 19865 03:5282: C2 20        	rep	#$20
 19866                        	longa	on
 19867                        ;	*VDMA_Y_SIZE_H = HIBYTE(height);
 19868                        	.line	3137
 19869 03:5284: A5 17        	lda	<L893+height_0
 19870 03:5286: A2 08 00     	ldx	#<$8
 19871                        	xref	~~~asr
  Mon Dec  7 2020 11:19                                                Page 367


 19872 03:5289: 22 xx xx xx  	jsl	~~~asr
 19873 03:528D: 29 FF 00     	and	#<$ff
 19874 03:5290: 85 01        	sta	<R0
 19875 03:5292: E2 20        	sep	#$20
 19876                        	longa	off
 19877 03:5294: A5 01        	lda	<R0
 19878 03:5296: 8F 0B 04 AF  	sta	>11469835
 19879 03:529A: C2 20        	rep	#$20
 19880                        	longa	on
 19881                        ;
 19882                        ;	*VDMA_DST_STRIDE_L  = 0x80;
 19883                        	.line	3139
 19884 03:529C: E2 20        	sep	#$20
 19885                        	longa	off
 19886 03:529E: A9 80        	lda	#$80
 19887 03:52A0: 8F 0E 04 AF  	sta	>11469838
 19888 03:52A4: C2 20        	rep	#$20
 19889                        	longa	on
 19890                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 19891                        	.line	3140
 19892 03:52A6: E2 20        	sep	#$20
 19893                        	longa	off
 19894 03:52A8: A9 02        	lda	#$2
 19895 03:52AA: 8F 0F 04 AF  	sta	>11469839
 19896 03:52AE: C2 20        	rep	#$20
 19897                        	longa	on
 19898                        ;	
 19899                        ;
 19900                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 19901                        	.line	3143
 19902 03:52B0: E2 20        	sep	#$20
 19903                        	longa	off
 19904 03:52B2: A5 11        	lda	<L893+pdst_0
 19905 03:52B4: 8F 05 04 AF  	sta	>11469829
 19906 03:52B8: C2 20        	rep	#$20
 19907                        	longa	on
 19908                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 19909                        	.line	3144
 19910 03:52BA: D4 13        	pei	<L893+pdst_0+2
 19911 03:52BC: D4 11        	pei	<L893+pdst_0
 19912 03:52BE: A9 08 00     	lda	#$8
 19913                        	xref	~~~llsr
 19914 03:52C1: 22 xx xx xx  	jsl	~~~llsr
 19915 03:52C5: 85 01        	sta	<R0
 19916 03:52C7: 86 03        	stx	<R0+2
 19917 03:52C9: A5 01        	lda	<R0
 19918 03:52CB: 29 FF 00     	and	#<$ff
 19919 03:52CE: 85 05        	sta	<R1
 19920 03:52D0: 64 07        	stz	<R1+2
 19921 03:52D2: E2 20        	sep	#$20
 19922                        	longa	off
 19923 03:52D4: A5 05        	lda	<R1
 19924 03:52D6: 8F 06 04 AF  	sta	>11469830
 19925 03:52DA: C2 20        	rep	#$20
 19926                        	longa	on
 19927                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 19928                        	.line	3145
 19929 03:52DC: D4 13        	pei	<L893+pdst_0+2
  Mon Dec  7 2020 11:19                                                Page 368


 19930 03:52DE: D4 11        	pei	<L893+pdst_0
 19931 03:52E0: A9 10 00     	lda	#$10
 19932                        	xref	~~~llsr
 19933 03:52E3: 22 xx xx xx  	jsl	~~~llsr
 19934 03:52E7: 85 01        	sta	<R0
 19935 03:52E9: 86 03        	stx	<R0+2
 19936 03:52EB: A5 01        	lda	<R0
 19937 03:52ED: 29 FF 00     	and	#<$ff
 19938 03:52F0: 85 05        	sta	<R1
 19939 03:52F2: 64 07        	stz	<R1+2
 19940 03:52F4: E2 20        	sep	#$20
 19941                        	longa	off
 19942 03:52F6: A5 05        	lda	<R1
 19943 03:52F8: 8F 07 04 AF  	sta	>11469831
 19944 03:52FC: C2 20        	rep	#$20
 19945                        	longa	on
 19946                        ;
 19947                        ;	VDMA_BYTE_2_WRITE[0] = (char)data;
 19948                        	.line	3147
 19949 03:52FE: E2 20        	sep	#$20
 19950                        	longa	off
 19951 03:5300: A5 19        	lda	<L893+data_0
 19952 03:5302: 8F 01 04 AF  	sta	>11469825
 19953 03:5306: C2 20        	rep	#$20
 19954                        	longa	on
 19955                        ;	
 19956                        ;	VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VDMA_
                    CTRL_1D_2D | VDMA_CTRL_TRF_FILL | VDMA_CTRL_START_TRF);//0x8
                    7;
 19957                        	.line	3149
 19958 03:5308: E2 20        	sep	#$20
 19959                        	longa	off
 19960 03:530A: A9 87        	lda	#$87
 19961 03:530C: 8F 00 04 AF  	sta	>11469824
 19962 03:5310: C2 20        	rep	#$20
 19963                        	longa	on
 19964                        ;
 19965                        ;
 19966                        ;	status = VDMA_STAT_VDMA_IPS;
 19967                        	.line	3152
 19968 03:5312: E2 20        	sep	#$20
 19969                        	longa	off
 19970 03:5314: A9 80        	lda	#$80
 19971 03:5316: 85 0D        	sta	<L894+status_1
 19972 03:5318: C2 20        	rep	#$20
 19973                        	longa	on
 19974                        ;	while(status == VDMA_STAT_VDMA_IPS)
 19975                        	.line	3153
 19976                        L10376:
 19977 03:531A: E2 20        	sep	#$20
 19978                        	longa	off
 19979 03:531C: A5 0D        	lda	<L894+status_1
 19980 03:531E: C9 80        	cmp	#<$80
 19981 03:5320: C2 20        	rep	#$20
 19982                        	longa	on
 19983 03:5322: F0 03        	beq	L896
 19984 03:5324: 82 1E 00     	brl	L10377
 19985                        L896:
  Mon Dec  7 2020 11:19                                                Page 369


 19986                        ;	{
 19987                        	.line	3154
 19988                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 19989                        	.line	3155
 19990 03:5327: E2 20        	sep	#$20
 19991                        	longa	off
 19992 03:5329: AF 01 04 AF  	lda	>11469825
 19993 03:532D: 29 80        	and	#<$80
 19994 03:532F: 85 0D        	sta	<L894+status_1
 19995 03:5331: C2 20        	rep	#$20
 19996                        	longa	on
 19997                        ;		spinLock++;
 19998                        	.line	3156
 19999 03:5333: E6 0B        	inc	<L894+spinLock_1
 20000                        ;
 20001                        ;		if(spinLock > 32000)
 20002                        	.line	3158
 20003                        ;		{
 20004 03:5335: A9 00 7D     	lda	#$7d00
 20005 03:5338: C5 0B        	cmp	<L894+spinLock_1
 20006 03:533A: 90 03        	bcc	L897
 20007 03:533C: 82 03 00     	brl	L10378
 20008                        L897:
 20009                        	.line	3159
 20010                        ;			break;
 20011                        	.line	3160
 20012 03:533F: 82 03 00     	brl	L10377
 20013                        ;		}
 20014                        	.line	3161
 20015                        ;	}
 20016                        L10378:
 20017                        	.line	3162
 20018 03:5342: 82 D5 FF     	brl	L10376
 20019                        L10377:
 20020                        ;	k_debug_integer("k_vdma_fill_address2::spinLock:
                    ",spinLock);
 20021                        	.line	3163
 20022 03:5345: D4 0B        	pei	<L894+spinLock_1
 20023 03:5347: F4 xx xx     	pea	#^L888
 20024 03:534A: F4 xx xx     	pea	#<L888
 20025 03:534D: 22 xx xx xx  	jsl	~~k_debug_integer
 20026                        ;
 20027                        ;
 20028                        ;
 20029                        ;	/*
 20030                        ;	while(status == VDMA_STAT_VDMA_IPS)
 20031                        ;	{
 20032                        ;		status = ( *((unsigned char *)0xAF0401) 
                    & VDMA_STAT_VDMA_IPS);
 20033                        ;	}
 20034                        ;	
 20035                        ;	
 20036                        ;	while(status == VDMA_STAT_VDMA_IPS)
 20037                        ;	{
 20038                        ;		#asm
 20039                        ;		PHA 
 20040                        ;        LDA $AF0401
  Mon Dec  7 2020 11:19                                                Page 370


 20041                        ;        AND #$80
 20042                        ;        CMP #$80
 20043                        ;        STA %%status
 20044                        ;		PLA
 20045                        ;		#endasm
 20046                        ;	}
 20047                        ;	*/
 20048                        ;	
 20049                        ;   //return *VDMA_STATUS_REG;
 20050                        ;   //return VDMA_STATUS_REG[0];
 20051                        ;   //VDMA_CONTROL_REG[0] = (char)0x00;
 20052                        ;   
 20053                        ;   return ;
 20054                        	.line	3191
 20055                        L898:
 20056 03:5351: A5 0F        	lda	<L893+2
 20057 03:5353: 85 19        	sta	<L893+2+10
 20058 03:5355: A5 0E        	lda	<L893+1
 20059 03:5357: 85 18        	sta	<L893+1+10
 20060 03:5359: 2B           	pld
 20061 03:535A: 3B           	tsc
 20062 03:535B: 18           	clc
 20063 03:535C: 69 17 00     	adc	#L893+10
 20064 03:535F: 1B           	tcs
 20065 03:5360: 6B           	rtl
 20066                        ;}
 20067                        	.line	3192
 20068                        	.endblock	3192
 20069             0000000D   L893	equ	13
 20070             00000009   L894	equ	9
 20071 03:5361:              	ends
 20072                        	efunc
 20073                        	.endfunc	3192,9,13
 20074                        	.line	3192
 20075                        	data
 20076                        L888:
 20077 00:0BE6: 6B 5F 76 64  	db	$6B,$5F,$76,$64,$6D,$61,$5F,$66,$69,$6C,
                    $6C,$5F,$61,$64,$64
       00:0BEA: 6D 61 5F 66 
       00:0BEE: 69 6C 6C 5F 
       00:0BF2: 61 64 64 
 20078 00:0BF5: 72 65 73 73  	db	$72,$65,$73,$73,$32,$3A,$3A,$73,$70,$69,
                    $6E,$4C,$6F,$63,$6B
       00:0BF9: 32 3A 3A 73 
       00:0BFD: 70 69 6E 4C 
       00:0C01: 6F 63 6B 
 20079 00:0C04: 3A 00        	db	$3A,$00
 20080 00:0C06:              	ends
 20081                        ;
 20082                        ;void k_vdma_fill_address(char FAR * pdst,int widt
                    h,int height,unsigned char data)
 20083                        ;{
 20084                        	.line	3194
 20085                        	.line	3195
 20086                        	GUI
 20087                        	xdef	~~k_vdma_fill_address
 20088                        	func
 20089                        	.function	3195
  Mon Dec  7 2020 11:19                                                Page 371


 20090                        ~~k_vdma_fill_address:
 20091                        	longa	on
 20092                        	longi	on
 20093 03:5361: 3B           	tsc
 20094 03:5362: 38           	sec
 20095 03:5363: E9 0D 00     	sbc	#L900
 20096 03:5366: 1B           	tcs
 20097 03:5367: 0B           	phd
 20098 03:5368: 5B           	tcd
 20099             00000004   pdst_0	set	4
 20100             00000008   width_0	set	8
 20101             0000000A   height_0	set	10
 20102             0000000C   data_0	set	12
 20103                        	.block	3195
 20104                        ;	int pos = 0;
 20105                        ;	UINT spinLock = 0;
 20106                        ;	char status = VDMA_STAT_VDMA_IPS;
 20107                        ;
 20108                        ;	VDMA_CONTROL_REG[0] = ( VDMA_CTRL_ENABLE | VDMA_
                    CTRL_TRF_FILL | VDMA_CTRL_1D_2D );
 20109             00000000   pos_1	set	0
 20110             00000002   spinLock_1	set	2
 20111             00000004   status_1	set	4
 20112                        	.sym	pos,0,5,1,16
 20113                        	.sym	spinLock,2,16,1,16
 20114                        	.sym	status,4,14,1,8
 20115                        	.sym	pdst,4,142,6,32
 20116                        	.sym	width,8,5,6,16
 20117                        	.sym	height,10,5,6,16
 20118                        	.sym	data,12,14,6,8
 20119 03:5369: 64 09        	stz	<L901+pos_1
 20120 03:536B: 64 0B        	stz	<L901+spinLock_1
 20121 03:536D: E2 20        	sep	#$20
 20122                        	longa	off
 20123 03:536F: A9 80        	lda	#$80
 20124 03:5371: 85 0D        	sta	<L901+status_1
 20125 03:5373: C2 20        	rep	#$20
 20126                        	longa	on
 20127                        	.line	3200
 20128 03:5375: E2 20        	sep	#$20
 20129                        	longa	off
 20130 03:5377: A9 07        	lda	#$7
 20131 03:5379: 8F 00 04 AF  	sta	>11469824
 20132 03:537D: C2 20        	rep	#$20
 20133                        	longa	on
 20134                        ;
 20135                        ;	VDMA_BYTE_2_WRITE[0] = (UCHAR)data;
 20136                        	.line	3202
 20137 03:537F: E2 20        	sep	#$20
 20138                        	longa	off
 20139 03:5381: A5 19        	lda	<L900+data_0
 20140 03:5383: 8F 01 04 AF  	sta	>11469825
 20141 03:5387: C2 20        	rep	#$20
 20142                        	longa	on
 20143                        ;
 20144                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 20145                        	.line	3204
 20146 03:5389: E2 20        	sep	#$20
  Mon Dec  7 2020 11:19                                                Page 372


 20147                        	longa	off
 20148 03:538B: A5 11        	lda	<L900+pdst_0
 20149 03:538D: 8F 05 04 AF  	sta	>11469829
 20150 03:5391: C2 20        	rep	#$20
 20151                        	longa	on
 20152                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 20153                        	.line	3205
 20154 03:5393: D4 13        	pei	<L900+pdst_0+2
 20155 03:5395: D4 11        	pei	<L900+pdst_0
 20156 03:5397: A9 08 00     	lda	#$8
 20157                        	xref	~~~llsr
 20158 03:539A: 22 xx xx xx  	jsl	~~~llsr
 20159 03:539E: 85 01        	sta	<R0
 20160 03:53A0: 86 03        	stx	<R0+2
 20161 03:53A2: A5 01        	lda	<R0
 20162 03:53A4: 29 FF 00     	and	#<$ff
 20163 03:53A7: 85 05        	sta	<R1
 20164 03:53A9: 64 07        	stz	<R1+2
 20165 03:53AB: E2 20        	sep	#$20
 20166                        	longa	off
 20167 03:53AD: A5 05        	lda	<R1
 20168 03:53AF: 8F 06 04 AF  	sta	>11469830
 20169 03:53B3: C2 20        	rep	#$20
 20170                        	longa	on
 20171                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 20172                        	.line	3206
 20173 03:53B5: D4 13        	pei	<L900+pdst_0+2
 20174 03:53B7: D4 11        	pei	<L900+pdst_0
 20175 03:53B9: A9 10 00     	lda	#$10
 20176                        	xref	~~~llsr
 20177 03:53BC: 22 xx xx xx  	jsl	~~~llsr
 20178 03:53C0: 85 01        	sta	<R0
 20179 03:53C2: 86 03        	stx	<R0+2
 20180 03:53C4: A5 01        	lda	<R0
 20181 03:53C6: 29 FF 00     	and	#<$ff
 20182 03:53C9: 85 05        	sta	<R1
 20183 03:53CB: 64 07        	stz	<R1+2
 20184 03:53CD: E2 20        	sep	#$20
 20185                        	longa	off
 20186 03:53CF: A5 05        	lda	<R1
 20187 03:53D1: 8F 07 04 AF  	sta	>11469831
 20188 03:53D5: C2 20        	rep	#$20
 20189                        	longa	on
 20190                        ;
 20191                        ;	VDMA_X_SIZE_L[0] = LOBYTE(width + 1);
 20192                        	.line	3208
 20193 03:53D7: A5 15        	lda	<L900+width_0
 20194 03:53D9: 1A           	ina
 20195 03:53DA: 85 01        	sta	<R0
 20196 03:53DC: E2 20        	sep	#$20
 20197                        	longa	off
 20198 03:53DE: A5 01        	lda	<R0
 20199 03:53E0: 8F 08 04 AF  	sta	>11469832
 20200 03:53E4: C2 20        	rep	#$20
 20201                        	longa	on
 20202                        ;	VDMA_X_SIZE_H[0] = HIBYTE(width + 1);
 20203                        	.line	3209
 20204 03:53E6: A5 15        	lda	<L900+width_0
  Mon Dec  7 2020 11:19                                                Page 373


 20205 03:53E8: 1A           	ina
 20206 03:53E9: A2 08 00     	ldx	#<$8
 20207                        	xref	~~~asr
 20208 03:53EC: 22 xx xx xx  	jsl	~~~asr
 20209 03:53F0: 29 FF 00     	and	#<$ff
 20210 03:53F3: 85 01        	sta	<R0
 20211 03:53F5: E2 20        	sep	#$20
 20212                        	longa	off
 20213 03:53F7: A5 01        	lda	<R0
 20214 03:53F9: 8F 09 04 AF  	sta	>11469833
 20215 03:53FD: C2 20        	rep	#$20
 20216                        	longa	on
 20217                        ;
 20218                        ;	VDMA_Y_SIZE_L[0] = LOBYTE(height + 1);
 20219                        	.line	3211
 20220 03:53FF: A5 17        	lda	<L900+height_0
 20221 03:5401: 1A           	ina
 20222 03:5402: 85 01        	sta	<R0
 20223 03:5404: E2 20        	sep	#$20
 20224                        	longa	off
 20225 03:5406: A5 01        	lda	<R0
 20226 03:5408: 8F 0A 04 AF  	sta	>11469834
 20227 03:540C: C2 20        	rep	#$20
 20228                        	longa	on
 20229                        ;	VDMA_Y_SIZE_H[0] = HIBYTE(height + 1);
 20230                        	.line	3212
 20231 03:540E: A5 17        	lda	<L900+height_0
 20232 03:5410: 1A           	ina
 20233 03:5411: A2 08 00     	ldx	#<$8
 20234                        	xref	~~~asr
 20235 03:5414: 22 xx xx xx  	jsl	~~~asr
 20236 03:5418: 29 FF 00     	and	#<$ff
 20237 03:541B: 85 01        	sta	<R0
 20238 03:541D: E2 20        	sep	#$20
 20239                        	longa	off
 20240 03:541F: A5 01        	lda	<R0
 20241 03:5421: 8F 0B 04 AF  	sta	>11469835
 20242 03:5425: C2 20        	rep	#$20
 20243                        	longa	on
 20244                        ;	VDMA_Y_SIZE_H[1] = 0x00;
 20245                        	.line	3213
 20246 03:5427: E2 20        	sep	#$20
 20247                        	longa	off
 20248 03:5429: A9 00        	lda	#$0
 20249 03:542B: 8F 0C 04 AF  	sta	>11469836
 20250 03:542F: C2 20        	rep	#$20
 20251                        	longa	on
 20252                        ;
 20253                        ;	*VDMA_SRC_STRIDE_L = 0x00;
 20254                        	.line	3215
 20255 03:5431: E2 20        	sep	#$20
 20256                        	longa	off
 20257 03:5433: A9 00        	lda	#$0
 20258 03:5435: 8F 0C 04 AF  	sta	>11469836
 20259 03:5439: C2 20        	rep	#$20
 20260                        	longa	on
 20261                        ;	*VDMA_SRC_STRIDE_H = 0x00;
 20262                        	.line	3216
  Mon Dec  7 2020 11:19                                                Page 374


 20263 03:543B: E2 20        	sep	#$20
 20264                        	longa	off
 20265 03:543D: A9 00        	lda	#$0
 20266 03:543F: 8F 0D 04 AF  	sta	>11469837
 20267 03:5443: C2 20        	rep	#$20
 20268                        	longa	on
 20269                        ;
 20270                        ;	*VDMA_DST_STRIDE_L  = 0x80;
 20271                        	.line	3218
 20272 03:5445: E2 20        	sep	#$20
 20273                        	longa	off
 20274 03:5447: A9 80        	lda	#$80
 20275 03:5449: 8F 0E 04 AF  	sta	>11469838
 20276 03:544D: C2 20        	rep	#$20
 20277                        	longa	on
 20278                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 20279                        	.line	3219
 20280 03:544F: E2 20        	sep	#$20
 20281                        	longa	off
 20282 03:5451: A9 02        	lda	#$2
 20283 03:5453: 8F 0F 04 AF  	sta	>11469839
 20284 03:5457: C2 20        	rep	#$20
 20285                        	longa	on
 20286                        ;
 20287                        ;    VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VD
                    MA_CTRL_1D_2D | VDMA_CTRL_TRF_FILL | VDMA_CTRL_START_TRF);
 20288                        	.line	3221
 20289 03:5459: E2 20        	sep	#$20
 20290                        	longa	off
 20291 03:545B: A9 87        	lda	#$87
 20292 03:545D: 8F 00 04 AF  	sta	>11469824
 20293 03:5461: C2 20        	rep	#$20
 20294                        	longa	on
 20295                        ;
 20296                        ;    asm NOP;
 20297                        	.line	3223
 20298                        	asmstart
 20299 03:5463: EA           	NOP
 20300                        	asmend
 20301                        ;    asm NOP;
 20302                        	.line	3224
 20303                        	asmstart
 20304 03:5464: EA           	NOP
 20305                        	asmend
 20306                        ;    asm NOP;
 20307                        	.line	3225
 20308                        	asmstart
 20309 03:5465: EA           	NOP
 20310                        	asmend
 20311                        ;
 20312                        ;	while(status == VDMA_STAT_VDMA_IPS)
 20313                        	.line	3227
 20314                        L10379:
 20315 03:5466: E2 20        	sep	#$20
 20316                        	longa	off
 20317 03:5468: A5 0D        	lda	<L901+status_1
 20318 03:546A: C9 80        	cmp	#<$80
 20319 03:546C: C2 20        	rep	#$20
  Mon Dec  7 2020 11:19                                                Page 375


 20320                        	longa	on
 20321 03:546E: F0 03        	beq	L903
 20322 03:5470: 82 1E 00     	brl	L10380
 20323                        L903:
 20324                        ;	{
 20325                        	.line	3228
 20326                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 20327                        	.line	3229
 20328 03:5473: E2 20        	sep	#$20
 20329                        	longa	off
 20330 03:5475: AF 01 04 AF  	lda	>11469825
 20331 03:5479: 29 80        	and	#<$80
 20332 03:547B: 85 0D        	sta	<L901+status_1
 20333 03:547D: C2 20        	rep	#$20
 20334                        	longa	on
 20335                        ;		spinLock++;
 20336                        	.line	3230
 20337 03:547F: E6 0B        	inc	<L901+spinLock_1
 20338                        ;
 20339                        ;		if(spinLock > 32000)
 20340                        	.line	3232
 20341                        ;		{
 20342 03:5481: A9 00 7D     	lda	#$7d00
 20343 03:5484: C5 0B        	cmp	<L901+spinLock_1
 20344 03:5486: 90 03        	bcc	L904
 20345 03:5488: 82 03 00     	brl	L10381
 20346                        L904:
 20347                        	.line	3233
 20348                        ;			break;
 20349                        	.line	3234
 20350 03:548B: 82 03 00     	brl	L10380
 20351                        ;		}
 20352                        	.line	3235
 20353                        ;	}
 20354                        L10381:
 20355                        	.line	3236
 20356 03:548E: 82 D5 FF     	brl	L10379
 20357                        L10380:
 20358                        ;
 20359                        ;#ifdef USE_MAX_DEBUG
 20360                        ;	k_debug_integer("k_vdma_fill_address1::spinLock:
                    ",spinLock);
 20361                        ;#endif
 20362                        ;
 20363                        ;	asm NOP;
 20364                        	.line	3242
 20365                        	asmstart
 20366 03:5491: EA           	NOP
 20367                        	asmend
 20368                        ;
 20369                        ;	VDMA_CONTROL_REG[0] = 0;
 20370                        	.line	3244
 20371 03:5492: E2 20        	sep	#$20
 20372                        	longa	off
 20373 03:5494: A9 00        	lda	#$0
 20374 03:5496: 8F 00 04 AF  	sta	>11469824
 20375 03:549A: C2 20        	rep	#$20
  Mon Dec  7 2020 11:19                                                Page 376


 20376                        	longa	on
 20377                        ;
 20378                        ;   return ;
 20379                        	.line	3246
 20380                        L905:
 20381 03:549C: A5 0F        	lda	<L900+2
 20382 03:549E: 85 19        	sta	<L900+2+10
 20383 03:54A0: A5 0E        	lda	<L900+1
 20384 03:54A2: 85 18        	sta	<L900+1+10
 20385 03:54A4: 2B           	pld
 20386 03:54A5: 3B           	tsc
 20387 03:54A6: 18           	clc
 20388 03:54A7: 69 17 00     	adc	#L900+10
 20389 03:54AA: 1B           	tcs
 20390 03:54AB: 6B           	rtl
 20391                        ;}
 20392                        	.line	3247
 20393                        	.endblock	3247
 20394             0000000D   L900	equ	13
 20395             00000009   L901	equ	9
 20396 03:54AC:              	ends
 20397                        	efunc
 20398                        	.endfunc	3247,9,13
 20399                        	.line	3247
 20400                        ;
 20401                        ;void k_vdma_fill_address_ex(char FAR * pdst,int w
                    idth,int height,unsigned char data,UINT page)
 20402                        ;{
 20403                        	.line	3249
 20404                        	.line	3250
 20405                        	GUI
 20406                        	xdef	~~k_vdma_fill_address_ex
 20407                        	func
 20408                        	.function	3250
 20409                        ~~k_vdma_fill_address_ex:
 20410                        	longa	on
 20411                        	longi	on
 20412 03:54AC: 3B           	tsc
 20413 03:54AD: 38           	sec
 20414 03:54AE: E9 0D 00     	sbc	#L906
 20415 03:54B1: 1B           	tcs
 20416 03:54B2: 0B           	phd
 20417 03:54B3: 5B           	tcd
 20418             00000004   pdst_0	set	4
 20419             00000008   width_0	set	8
 20420             0000000A   height_0	set	10
 20421             0000000C   data_0	set	12
 20422             0000000E   page_0	set	14
 20423                        	.block	3250
 20424                        ;	int pos = 0;
 20425                        ;	UINT spinLock = 0;
 20426                        ;	char status = VDMA_STAT_VDMA_IPS;
 20427                        ;
 20428                        ;	VDMA_CONTROL_REG[0] = ( VDMA_CTRL_ENABLE | VDMA_
                    CTRL_TRF_FILL | VDMA_CTRL_1D_2D );
 20429             00000000   pos_1	set	0
 20430             00000002   spinLock_1	set	2
 20431             00000004   status_1	set	4
  Mon Dec  7 2020 11:19                                                Page 377


 20432                        	.sym	pos,0,5,1,16
 20433                        	.sym	spinLock,2,16,1,16
 20434                        	.sym	status,4,14,1,8
 20435                        	.sym	pdst,4,142,6,32
 20436                        	.sym	width,8,5,6,16
 20437                        	.sym	height,10,5,6,16
 20438                        	.sym	data,12,14,6,8
 20439                        	.sym	page,14,16,6,16
 20440 03:54B4: 64 09        	stz	<L907+pos_1
 20441 03:54B6: 64 0B        	stz	<L907+spinLock_1
 20442 03:54B8: E2 20        	sep	#$20
 20443                        	longa	off
 20444 03:54BA: A9 80        	lda	#$80
 20445 03:54BC: 85 0D        	sta	<L907+status_1
 20446 03:54BE: C2 20        	rep	#$20
 20447                        	longa	on
 20448                        	.line	3255
 20449 03:54C0: E2 20        	sep	#$20
 20450                        	longa	off
 20451 03:54C2: A9 07        	lda	#$7
 20452 03:54C4: 8F 00 04 AF  	sta	>11469824
 20453 03:54C8: C2 20        	rep	#$20
 20454                        	longa	on
 20455                        ;
 20456                        ;	VDMA_BYTE_2_WRITE[0] = (UCHAR)data;
 20457                        	.line	3257
 20458 03:54CA: E2 20        	sep	#$20
 20459                        	longa	off
 20460 03:54CC: A5 19        	lda	<L906+data_0
 20461 03:54CE: 8F 01 04 AF  	sta	>11469825
 20462 03:54D2: C2 20        	rep	#$20
 20463                        	longa	on
 20464                        ;
 20465                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 20466                        	.line	3259
 20467 03:54D4: E2 20        	sep	#$20
 20468                        	longa	off
 20469 03:54D6: A5 11        	lda	<L906+pdst_0
 20470 03:54D8: 8F 05 04 AF  	sta	>11469829
 20471 03:54DC: C2 20        	rep	#$20
 20472                        	longa	on
 20473                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 20474                        	.line	3260
 20475 03:54DE: D4 13        	pei	<L906+pdst_0+2
 20476 03:54E0: D4 11        	pei	<L906+pdst_0
 20477 03:54E2: A9 08 00     	lda	#$8
 20478                        	xref	~~~llsr
 20479 03:54E5: 22 xx xx xx  	jsl	~~~llsr
 20480 03:54E9: 85 01        	sta	<R0
 20481 03:54EB: 86 03        	stx	<R0+2
 20482 03:54ED: A5 01        	lda	<R0
 20483 03:54EF: 29 FF 00     	and	#<$ff
 20484 03:54F2: 85 05        	sta	<R1
 20485 03:54F4: 64 07        	stz	<R1+2
 20486 03:54F6: E2 20        	sep	#$20
 20487                        	longa	off
 20488 03:54F8: A5 05        	lda	<R1
 20489 03:54FA: 8F 06 04 AF  	sta	>11469830
  Mon Dec  7 2020 11:19                                                Page 378


 20490 03:54FE: C2 20        	rep	#$20
 20491                        	longa	on
 20492                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst)|page;
 20493                        	.line	3261
 20494 03:5500: D4 13        	pei	<L906+pdst_0+2
 20495 03:5502: D4 11        	pei	<L906+pdst_0
 20496 03:5504: A9 10 00     	lda	#$10
 20497                        	xref	~~~llsr
 20498 03:5507: 22 xx xx xx  	jsl	~~~llsr
 20499 03:550B: 85 01        	sta	<R0
 20500 03:550D: 86 03        	stx	<R0+2
 20501 03:550F: A5 01        	lda	<R0
 20502 03:5511: 29 FF 00     	and	#<$ff
 20503 03:5514: 85 05        	sta	<R1
 20504 03:5516: 64 07        	stz	<R1+2
 20505 03:5518: E2 20        	sep	#$20
 20506                        	longa	off
 20507 03:551A: A5 1B        	lda	<L906+page_0
 20508 03:551C: 05 05        	ora	<R1
 20509 03:551E: 8F 07 04 AF  	sta	>11469831
 20510 03:5522: C2 20        	rep	#$20
 20511                        	longa	on
 20512                        ;
 20513                        ;	/*
 20514                        ;	VDMA_X_SIZE_L[0] = LOBYTE(width + 1);
 20515                        ;	VDMA_X_SIZE_H[0] = HIBYTE(width + 1);
 20516                        ;
 20517                        ;	VDMA_Y_SIZE_L[0] = LOBYTE(height + 1);
 20518                        ;	VDMA_Y_SIZE_H[0] = HIBYTE(height + 1);
 20519                        ;	VDMA_Y_SIZE_H[1] = 0x00;
 20520                        ;	*/
 20521                        ;	VDMA_X_SIZE_L[0] = LOBYTE(width);
 20522                        	.line	3271
 20523 03:5524: E2 20        	sep	#$20
 20524                        	longa	off
 20525 03:5526: A5 15        	lda	<L906+width_0
 20526 03:5528: 8F 08 04 AF  	sta	>11469832
 20527 03:552C: C2 20        	rep	#$20
 20528                        	longa	on
 20529                        ;	VDMA_X_SIZE_H[0] = HIBYTE(width);
 20530                        	.line	3272
 20531 03:552E: A5 15        	lda	<L906+width_0
 20532 03:5530: A2 08 00     	ldx	#<$8
 20533                        	xref	~~~asr
 20534 03:5533: 22 xx xx xx  	jsl	~~~asr
 20535 03:5537: 29 FF 00     	and	#<$ff
 20536 03:553A: 85 01        	sta	<R0
 20537 03:553C: E2 20        	sep	#$20
 20538                        	longa	off
 20539 03:553E: A5 01        	lda	<R0
 20540 03:5540: 8F 09 04 AF  	sta	>11469833
 20541 03:5544: C2 20        	rep	#$20
 20542                        	longa	on
 20543                        ;
 20544                        ;	VDMA_Y_SIZE_L[0] = LOBYTE(height);
 20545                        	.line	3274
 20546 03:5546: E2 20        	sep	#$20
 20547                        	longa	off
  Mon Dec  7 2020 11:19                                                Page 379


 20548 03:5548: A5 17        	lda	<L906+height_0
 20549 03:554A: 8F 0A 04 AF  	sta	>11469834
 20550 03:554E: C2 20        	rep	#$20
 20551                        	longa	on
 20552                        ;	VDMA_Y_SIZE_H[0] = HIBYTE(height);
 20553                        	.line	3275
 20554 03:5550: A5 17        	lda	<L906+height_0
 20555 03:5552: A2 08 00     	ldx	#<$8
 20556                        	xref	~~~asr
 20557 03:5555: 22 xx xx xx  	jsl	~~~asr
 20558 03:5559: 29 FF 00     	and	#<$ff
 20559 03:555C: 85 01        	sta	<R0
 20560 03:555E: E2 20        	sep	#$20
 20561                        	longa	off
 20562 03:5560: A5 01        	lda	<R0
 20563 03:5562: 8F 0B 04 AF  	sta	>11469835
 20564 03:5566: C2 20        	rep	#$20
 20565                        	longa	on
 20566                        ;	VDMA_Y_SIZE_H[1] = 0x00;
 20567                        	.line	3276
 20568 03:5568: E2 20        	sep	#$20
 20569                        	longa	off
 20570 03:556A: A9 00        	lda	#$0
 20571 03:556C: 8F 0C 04 AF  	sta	>11469836
 20572 03:5570: C2 20        	rep	#$20
 20573                        	longa	on
 20574                        ;
 20575                        ;
 20576                        ;	*VDMA_SRC_STRIDE_L = 0x00;
 20577                        	.line	3279
 20578 03:5572: E2 20        	sep	#$20
 20579                        	longa	off
 20580 03:5574: A9 00        	lda	#$0
 20581 03:5576: 8F 0C 04 AF  	sta	>11469836
 20582 03:557A: C2 20        	rep	#$20
 20583                        	longa	on
 20584                        ;	*VDMA_SRC_STRIDE_H = 0x00;
 20585                        	.line	3280
 20586 03:557C: E2 20        	sep	#$20
 20587                        	longa	off
 20588 03:557E: A9 00        	lda	#$0
 20589 03:5580: 8F 0D 04 AF  	sta	>11469837
 20590 03:5584: C2 20        	rep	#$20
 20591                        	longa	on
 20592                        ;
 20593                        ;	*VDMA_DST_STRIDE_L  = 0x80;
 20594                        	.line	3282
 20595 03:5586: E2 20        	sep	#$20
 20596                        	longa	off
 20597 03:5588: A9 80        	lda	#$80
 20598 03:558A: 8F 0E 04 AF  	sta	>11469838
 20599 03:558E: C2 20        	rep	#$20
 20600                        	longa	on
 20601                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 20602                        	.line	3283
 20603 03:5590: E2 20        	sep	#$20
 20604                        	longa	off
 20605 03:5592: A9 02        	lda	#$2
  Mon Dec  7 2020 11:19                                                Page 380


 20606 03:5594: 8F 0F 04 AF  	sta	>11469839
 20607 03:5598: C2 20        	rep	#$20
 20608                        	longa	on
 20609                        ;
 20610                        ;    VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VD
                    MA_CTRL_1D_2D | VDMA_CTRL_TRF_FILL | VDMA_CTRL_START_TRF);
 20611                        	.line	3285
 20612 03:559A: E2 20        	sep	#$20
 20613                        	longa	off
 20614 03:559C: A9 87        	lda	#$87
 20615 03:559E: 8F 00 04 AF  	sta	>11469824
 20616 03:55A2: C2 20        	rep	#$20
 20617                        	longa	on
 20618                        ;
 20619                        ;    asm NOP;
 20620                        	.line	3287
 20621                        	asmstart
 20622 03:55A4: EA           	NOP
 20623                        	asmend
 20624                        ;    asm NOP;
 20625                        	.line	3288
 20626                        	asmstart
 20627 03:55A5: EA           	NOP
 20628                        	asmend
 20629                        ;    asm NOP;
 20630                        	.line	3289
 20631                        	asmstart
 20632 03:55A6: EA           	NOP
 20633                        	asmend
 20634                        ;
 20635                        ;	while(status == VDMA_STAT_VDMA_IPS)
 20636                        	.line	3291
 20637                        L10382:
 20638 03:55A7: E2 20        	sep	#$20
 20639                        	longa	off
 20640 03:55A9: A5 0D        	lda	<L907+status_1
 20641 03:55AB: C9 80        	cmp	#<$80
 20642 03:55AD: C2 20        	rep	#$20
 20643                        	longa	on
 20644 03:55AF: F0 03        	beq	L909
 20645 03:55B1: 82 1E 00     	brl	L10383
 20646                        L909:
 20647                        ;	{
 20648                        	.line	3292
 20649                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 20650                        	.line	3293
 20651 03:55B4: E2 20        	sep	#$20
 20652                        	longa	off
 20653 03:55B6: AF 01 04 AF  	lda	>11469825
 20654 03:55BA: 29 80        	and	#<$80
 20655 03:55BC: 85 0D        	sta	<L907+status_1
 20656 03:55BE: C2 20        	rep	#$20
 20657                        	longa	on
 20658                        ;		spinLock++;
 20659                        	.line	3294
 20660 03:55C0: E6 0B        	inc	<L907+spinLock_1
 20661                        ;
  Mon Dec  7 2020 11:19                                                Page 381


 20662                        ;		if(spinLock > 32000)
 20663                        	.line	3296
 20664                        ;		{
 20665 03:55C2: A9 00 7D     	lda	#$7d00
 20666 03:55C5: C5 0B        	cmp	<L907+spinLock_1
 20667 03:55C7: 90 03        	bcc	L910
 20668 03:55C9: 82 03 00     	brl	L10384
 20669                        L910:
 20670                        	.line	3297
 20671                        ;			break;
 20672                        	.line	3298
 20673 03:55CC: 82 03 00     	brl	L10383
 20674                        ;		}
 20675                        	.line	3299
 20676                        ;	}
 20677                        L10384:
 20678                        	.line	3300
 20679 03:55CF: 82 D5 FF     	brl	L10382
 20680                        L10383:
 20681                        ;
 20682                        ;#ifdef USE_MAX_DEBUG
 20683                        ;	k_debug_integer("k_vdma_fill_address1::spinLock:
                    ",spinLock);
 20684                        ;#endif
 20685                        ;
 20686                        ;	asm NOP;
 20687                        	.line	3306
 20688                        	asmstart
 20689 03:55D2: EA           	NOP
 20690                        	asmend
 20691                        ;
 20692                        ;	VDMA_CONTROL_REG[0] = 0;
 20693                        	.line	3308
 20694 03:55D3: E2 20        	sep	#$20
 20695                        	longa	off
 20696 03:55D5: A9 00        	lda	#$0
 20697 03:55D7: 8F 00 04 AF  	sta	>11469824
 20698 03:55DB: C2 20        	rep	#$20
 20699                        	longa	on
 20700                        ;
 20701                        ;   return ;
 20702                        	.line	3310
 20703                        L911:
 20704 03:55DD: A5 0F        	lda	<L906+2
 20705 03:55DF: 85 1B        	sta	<L906+2+12
 20706 03:55E1: A5 0E        	lda	<L906+1
 20707 03:55E3: 85 1A        	sta	<L906+1+12
 20708 03:55E5: 2B           	pld
 20709 03:55E6: 3B           	tsc
 20710 03:55E7: 18           	clc
 20711 03:55E8: 69 19 00     	adc	#L906+12
 20712 03:55EB: 1B           	tcs
 20713 03:55EC: 6B           	rtl
 20714                        ;}
 20715                        	.line	3311
 20716                        	.endblock	3311
 20717             0000000D   L906	equ	13
 20718             00000009   L907	equ	9
  Mon Dec  7 2020 11:19                                                Page 382


 20719 03:55ED:              	ends
 20720                        	efunc
 20721                        	.endfunc	3311,9,13
 20722                        	.line	3311
 20723                        ;
 20724                        ;
 20725                        ;
 20726                        ;
 20727                        ;void k_vdma_fill(char FAR * pdst,long size,unsign
                    ed char data)
 20728                        ;{
 20729                        	.line	3316
 20730                        	.line	3317
 20731                        	GUI
 20732                        	xdef	~~k_vdma_fill
 20733                        	func
 20734                        	.function	3317
 20735                        ~~k_vdma_fill:
 20736                        	longa	on
 20737                        	longi	on
 20738 03:55ED: 3B           	tsc
 20739 03:55EE: 38           	sec
 20740 03:55EF: E9 0D 00     	sbc	#L912
 20741 03:55F2: 1B           	tcs
 20742 03:55F3: 0B           	phd
 20743 03:55F4: 5B           	tcd
 20744             00000004   pdst_0	set	4
 20745             00000008   size_0	set	8
 20746             0000000C   data_0	set	12
 20747                        	.block	3317
 20748                        ;	int pos = 0;
 20749                        ;	int spinLock = 0;
 20750                        ;	char status = VDMA_STAT_VDMA_IPS;
 20751                        ;	/*
 20752                        ;	char size_low = L24BYTE(size);
 20753                        ;	char size_mid = M24BYTE(size);
 20754                        ;	char size_hi  = H24BYTE(size);
 20755                        ;
 20756                        ;	char addr_low = L24BYTE((long)pdst);
 20757                        ;	char addr_mid = M24BYTE((long)pdst);
 20758                        ;	char addr_hi  = H24BYTE((long)pdst);
 20759                        ;
 20760                        ;	
 20761                        ;	pos=2;
 20762                        ;	k_itoa(size_low,buffer,16);
 20763                        ;	pos=k_put_draw_text(pos,2,buffer,15,0);
 20764                        ;	pos=k_put_draw_text(pos,2,"L:",15,0);
 20765                        ;	k_itoa(size_mid,buffer,16);
 20766                        ;	pos=k_put_draw_text(pos,2,buffer,15,0);
 20767                        ;	pos=k_put_draw_text(pos,2,"M:",15,0);
 20768                        ;	k_itoa(size_hi,buffer,16);
 20769                        ;	pos=k_put_draw_text(pos,2,buffer,15,0);
 20770                        ;	pos=k_put_draw_text(pos,2,"H",15,0);
 20771                        ;	
 20772                        ;	pos=2;
 20773                        ;	k_itoa(addr_low,buffer,16);
 20774                        ;	pos=k_put_draw_text(pos,3,buffer,15,0);
 20775                        ;	pos=k_put_draw_text(pos,3,"L:",15,0);
  Mon Dec  7 2020 11:19                                                Page 383


 20776                        ;	k_itoa(addr_mid,buffer,16);
 20777                        ;	pos=k_put_draw_text(pos,3,buffer,15,0);
 20778                        ;	pos=k_put_draw_text(pos,3,"M:",15,0);
 20779                        ;	k_itoa(addr_hi,buffer,16);
 20780                        ;	pos=k_put_draw_text(pos,3,buffer,15,0);
 20781                        ;	pos=k_put_draw_text(pos,3,"H",15,0);
 20782                        ;	*/
 20783                        ;	/*
 20784                        ;	if(VDMA_CONTROL_REG[0] > 0)
 20785                        ;	{
 20786                        ;		while(status == VDMA_STAT_VDMA_IPS || sp
                    inLock > 1000)
 20787                        ;		{
 20788                        ;			status = ( *((unsigned char *)0x
                    AF0401) & (unsigned char)VDMA_STAT_VDMA_IPS);
 20789                        ;			spinLock++;
 20790                        ;		}
 20791                        ;	}
 20792                        ;	*/
 20793                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE;
 20794             00000000   pos_1	set	0
 20795             00000002   spinLock_1	set	2
 20796             00000004   status_1	set	4
 20797                        	.sym	pos,0,5,1,16
 20798                        	.sym	spinLock,2,5,1,16
 20799                        	.sym	status,4,14,1,8
 20800                        	.sym	pdst,4,142,6,32
 20801                        	.sym	size,8,7,6,32
 20802                        	.sym	data,12,14,6,8
 20803 03:55F5: 64 09        	stz	<L913+pos_1
 20804 03:55F7: 64 0B        	stz	<L913+spinLock_1
 20805 03:55F9: E2 20        	sep	#$20
 20806                        	longa	off
 20807 03:55FB: A9 80        	lda	#$80
 20808 03:55FD: 85 0D        	sta	<L913+status_1
 20809 03:55FF: C2 20        	rep	#$20
 20810                        	longa	on
 20811                        	.line	3363
 20812 03:5601: E2 20        	sep	#$20
 20813                        	longa	off
 20814 03:5603: A9 01        	lda	#$1
 20815 03:5605: 8F 00 04 AF  	sta	>11469824
 20816 03:5609: C2 20        	rep	#$20
 20817                        	longa	on
 20818                        ;
 20819                        ;	*BM_START_ADDY_L = 0x00;
 20820                        	.line	3365
 20821 03:560B: E2 20        	sep	#$20
 20822                        	longa	off
 20823 03:560D: A9 00        	lda	#$0
 20824 03:560F: 8F 41 01 AF  	sta	>11469121
 20825 03:5613: C2 20        	rep	#$20
 20826                        	longa	on
 20827                        ;	*BM_START_ADDY_M = 0x00;
 20828                        	.line	3366
 20829 03:5615: E2 20        	sep	#$20
 20830                        	longa	off
 20831 03:5617: A9 00        	lda	#$0
  Mon Dec  7 2020 11:19                                                Page 384


 20832 03:5619: 8F 42 01 AF  	sta	>11469122
 20833 03:561D: C2 20        	rep	#$20
 20834                        	longa	on
 20835                        ;	*BM_START_ADDY_H = 0x00;
 20836                        	.line	3367
 20837 03:561F: E2 20        	sep	#$20
 20838                        	longa	off
 20839 03:5621: A9 00        	lda	#$0
 20840 03:5623: 8F 43 01 AF  	sta	>11469123
 20841 03:5627: C2 20        	rep	#$20
 20842                        	longa	on
 20843                        ;	*((char FAR*)0xAF1F80) = 0x02;
 20844                        	.line	3368
 20845 03:5629: E2 20        	sep	#$20
 20846                        	longa	off
 20847 03:562B: A9 02        	lda	#$2
 20848 03:562D: 8F 80 1F AF  	sta	>11476864
 20849 03:5631: C2 20        	rep	#$20
 20850                        	longa	on
 20851                        ;	
 20852                        ;	*BM_X_SIZE_L = 0x80;
 20853                        	.line	3370
 20854 03:5633: E2 20        	sep	#$20
 20855                        	longa	off
 20856 03:5635: A9 80        	lda	#$80
 20857 03:5637: 8F 44 01 AF  	sta	>11469124
 20858 03:563B: C2 20        	rep	#$20
 20859                        	longa	on
 20860                        ;	*BM_X_SIZE_H = 0x02;	
 20861                        	.line	3371
 20862 03:563D: E2 20        	sep	#$20
 20863                        	longa	off
 20864 03:563F: A9 02        	lda	#$2
 20865 03:5641: 8F 45 01 AF  	sta	>11469125
 20866 03:5645: C2 20        	rep	#$20
 20867                        	longa	on
 20868                        ;	*BM_Y_SIZE_L = 0xE0;
 20869                        	.line	3372
 20870 03:5647: E2 20        	sep	#$20
 20871                        	longa	off
 20872 03:5649: A9 E0        	lda	#$e0
 20873 03:564B: 8F 46 01 AF  	sta	>11469126
 20874 03:564F: C2 20        	rep	#$20
 20875                        	longa	on
 20876                        ;	*BM_Y_SIZE_H = 0x01;
 20877                        	.line	3373
 20878 03:5651: E2 20        	sep	#$20
 20879                        	longa	off
 20880 03:5653: A9 01        	lda	#$1
 20881 03:5655: 8F 47 01 AF  	sta	>11469127
 20882 03:5659: C2 20        	rep	#$20
 20883                        	longa	on
 20884                        ;	
 20885                        ;	VDMA_SIZE_L[0] = L24BYTE(size);
 20886                        	.line	3375
 20887 03:565B: E2 20        	sep	#$20
 20888                        	longa	off
 20889 03:565D: A5 15        	lda	<L912+size_0
  Mon Dec  7 2020 11:19                                                Page 385


 20890 03:565F: 8F 08 04 AF  	sta	>11469832
 20891 03:5663: C2 20        	rep	#$20
 20892                        	longa	on
 20893                        ;	VDMA_SIZE_M[0] = M24BYTE(size);
 20894                        	.line	3376
 20895 03:5665: D4 17        	pei	<L912+size_0+2
 20896 03:5667: D4 15        	pei	<L912+size_0
 20897 03:5669: A9 08 00     	lda	#$8
 20898                        	xref	~~~llsr
 20899 03:566C: 22 xx xx xx  	jsl	~~~llsr
 20900 03:5670: 85 01        	sta	<R0
 20901 03:5672: 86 03        	stx	<R0+2
 20902 03:5674: A5 01        	lda	<R0
 20903 03:5676: 29 FF 00     	and	#<$ff
 20904 03:5679: 85 05        	sta	<R1
 20905 03:567B: 64 07        	stz	<R1+2
 20906 03:567D: E2 20        	sep	#$20
 20907                        	longa	off
 20908 03:567F: A5 05        	lda	<R1
 20909 03:5681: 8F 09 04 AF  	sta	>11469833
 20910 03:5685: C2 20        	rep	#$20
 20911                        	longa	on
 20912                        ;	VDMA_SIZE_H[0] = H24BYTE(size);
 20913                        	.line	3377
 20914 03:5687: D4 17        	pei	<L912+size_0+2
 20915 03:5689: D4 15        	pei	<L912+size_0
 20916 03:568B: A9 10 00     	lda	#$10
 20917                        	xref	~~~llsr
 20918 03:568E: 22 xx xx xx  	jsl	~~~llsr
 20919 03:5692: 85 01        	sta	<R0
 20920 03:5694: 86 03        	stx	<R0+2
 20921 03:5696: A5 01        	lda	<R0
 20922 03:5698: 29 FF 00     	and	#<$ff
 20923 03:569B: 85 05        	sta	<R1
 20924 03:569D: 64 07        	stz	<R1+2
 20925 03:569F: E2 20        	sep	#$20
 20926                        	longa	off
 20927 03:56A1: A5 05        	lda	<R1
 20928 03:56A3: 8F 0A 04 AF  	sta	>11469834
 20929 03:56A7: C2 20        	rep	#$20
 20930                        	longa	on
 20931                        ;	
 20932                        ;	
 20933                        ;	*VDMA_X_SIZE_L = 0x80;
 20934                        	.line	3380
 20935 03:56A9: E2 20        	sep	#$20
 20936                        	longa	off
 20937 03:56AB: A9 80        	lda	#$80
 20938 03:56AD: 8F 08 04 AF  	sta	>11469832
 20939 03:56B1: C2 20        	rep	#$20
 20940                        	longa	on
 20941                        ;	*VDMA_X_SIZE_H = 0x20;
 20942                        	.line	3381
 20943 03:56B3: E2 20        	sep	#$20
 20944                        	longa	off
 20945 03:56B5: A9 20        	lda	#$20
 20946 03:56B7: 8F 09 04 AF  	sta	>11469833
 20947 03:56BB: C2 20        	rep	#$20
  Mon Dec  7 2020 11:19                                                Page 386


 20948                        	longa	on
 20949                        ;
 20950                        ;	*VDMA_Y_SIZE_L = 0xE0;
 20951                        	.line	3383
 20952 03:56BD: E2 20        	sep	#$20
 20953                        	longa	off
 20954 03:56BF: A9 E0        	lda	#$e0
 20955 03:56C1: 8F 0A 04 AF  	sta	>11469834
 20956 03:56C5: C2 20        	rep	#$20
 20957                        	longa	on
 20958                        ;	*VDMA_Y_SIZE_H = 0x01;
 20959                        	.line	3384
 20960 03:56C7: E2 20        	sep	#$20
 20961                        	longa	off
 20962 03:56C9: A9 01        	lda	#$1
 20963 03:56CB: 8F 0B 04 AF  	sta	>11469835
 20964 03:56CF: C2 20        	rep	#$20
 20965                        	longa	on
 20966                        ;
 20967                        ;	*VDMA_DST_STRIDE_L = 0x80;
 20968                        	.line	3386
 20969 03:56D1: E2 20        	sep	#$20
 20970                        	longa	off
 20971 03:56D3: A9 80        	lda	#$80
 20972 03:56D5: 8F 0E 04 AF  	sta	>11469838
 20973 03:56D9: C2 20        	rep	#$20
 20974                        	longa	on
 20975                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 20976                        	.line	3387
 20977 03:56DB: E2 20        	sep	#$20
 20978                        	longa	off
 20979 03:56DD: A9 02        	lda	#$2
 20980 03:56DF: 8F 0F 04 AF  	sta	>11469839
 20981 03:56E3: C2 20        	rep	#$20
 20982                        	longa	on
 20983                        ;	
 20984                        ;	/*
 20985                        ;        LDA #200
 20986                        ;        STA @lVDMA_X_SIZE_L
 20987                        ;        LDA #00
 20988                        ;        STA @lVDMA_X_SIZE_H
 20989                        ;
 20990                        ;        LDA #64
 20991                        ;        STA @lVDMA_Y_SIZE_L
 20992                        ;        LDA #00
 20993                        ;        STA @lVDMA_Y_SIZE_H
 20994                        ;
 20995                        ;        LDA #$60
 20996                        ;        STA @lVDMA_DST_ADDY_L
 20997                        ;        LDA #$90
 20998                        ;        STA @lVDMA_DST_ADDY_M
 20999                        ;        LDA #$01
 21000                        ;        STA @lVDMA_DST_ADDY_H
 21001                        ;
 21002                        ;        LDA #$80
 21003                        ;        STA @lVDMA_DST_STRIDE_L
 21004                        ;        LDA #$02
 21005                        ;        STA @lVDMA_DST_STRIDE_H
  Mon Dec  7 2020 11:19                                                Page 387


 21006                        ;	*/
 21007                        ;
 21008                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 21009                        	.line	3413
 21010 03:56E5: E2 20        	sep	#$20
 21011                        	longa	off
 21012 03:56E7: A5 11        	lda	<L912+pdst_0
 21013 03:56E9: 8F 05 04 AF  	sta	>11469829
 21014 03:56ED: C2 20        	rep	#$20
 21015                        	longa	on
 21016                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 21017                        	.line	3414
 21018 03:56EF: D4 13        	pei	<L912+pdst_0+2
 21019 03:56F1: D4 11        	pei	<L912+pdst_0
 21020 03:56F3: A9 08 00     	lda	#$8
 21021                        	xref	~~~llsr
 21022 03:56F6: 22 xx xx xx  	jsl	~~~llsr
 21023 03:56FA: 85 01        	sta	<R0
 21024 03:56FC: 86 03        	stx	<R0+2
 21025 03:56FE: A5 01        	lda	<R0
 21026 03:5700: 29 FF 00     	and	#<$ff
 21027 03:5703: 85 05        	sta	<R1
 21028 03:5705: 64 07        	stz	<R1+2
 21029 03:5707: E2 20        	sep	#$20
 21030                        	longa	off
 21031 03:5709: A5 05        	lda	<R1
 21032 03:570B: 8F 06 04 AF  	sta	>11469830
 21033 03:570F: C2 20        	rep	#$20
 21034                        	longa	on
 21035                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 21036                        	.line	3415
 21037 03:5711: D4 13        	pei	<L912+pdst_0+2
 21038 03:5713: D4 11        	pei	<L912+pdst_0
 21039 03:5715: A9 10 00     	lda	#$10
 21040                        	xref	~~~llsr
 21041 03:5718: 22 xx xx xx  	jsl	~~~llsr
 21042 03:571C: 85 01        	sta	<R0
 21043 03:571E: 86 03        	stx	<R0+2
 21044 03:5720: A5 01        	lda	<R0
 21045 03:5722: 29 FF 00     	and	#<$ff
 21046 03:5725: 85 05        	sta	<R1
 21047 03:5727: 64 07        	stz	<R1+2
 21048 03:5729: E2 20        	sep	#$20
 21049                        	longa	off
 21050 03:572B: A5 05        	lda	<R1
 21051 03:572D: 8F 07 04 AF  	sta	>11469831
 21052 03:5731: C2 20        	rep	#$20
 21053                        	longa	on
 21054                        ;
 21055                        ;	VDMA_BYTE_2_WRITE[0] = (char)data;
 21056                        	.line	3417
 21057 03:5733: E2 20        	sep	#$20
 21058                        	longa	off
 21059 03:5735: A5 19        	lda	<L912+data_0
 21060 03:5737: 8F 01 04 AF  	sta	>11469825
 21061 03:573B: C2 20        	rep	#$20
 21062                        	longa	on
 21063                        ;	
  Mon Dec  7 2020 11:19                                                Page 388


 21064                        ;	VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VDMA_
                    CTRL_TRF_FILL | VDMA_CTRL_START_TRF);//0x85;
 21065                        	.line	3419
 21066 03:573D: E2 20        	sep	#$20
 21067                        	longa	off
 21068 03:573F: A9 85        	lda	#$85
 21069 03:5741: 8F 00 04 AF  	sta	>11469824
 21070 03:5745: C2 20        	rep	#$20
 21071                        	longa	on
 21072                        ;   
 21073                        ;	/*
 21074                        ;	while(status == VDMA_STAT_VDMA_IPS)
 21075                        ;	{
 21076                        ;		status = ( *((unsigned char *)0xAF0401) 
                    & VDMA_STAT_VDMA_IPS);
 21077                        ;	}
 21078                        ;	
 21079                        ;	
 21080                        ;	while(status == VDMA_STAT_VDMA_IPS)
 21081                        ;	{
 21082                        ;		#asm
 21083                        ;		PHA 
 21084                        ;        LDA $AF0401
 21085                        ;        AND #$80
 21086                        ;        CMP #$80
 21087                        ;        STA %%status
 21088                        ;		PLA
 21089                        ;		#endasm
 21090                        ;	}
 21091                        ;	*/
 21092                        ;	
 21093                        ;   //return *VDMA_STATUS_REG;
 21094                        ;   //return VDMA_STATUS_REG[0];
 21095                        ;   //VDMA_CONTROL_REG[0] = (char)0x00;
 21096                        ;   
 21097                        ;   return ;
 21098                        	.line	3445
 21099                        L915:
 21100 03:5747: A5 0F        	lda	<L912+2
 21101 03:5749: 85 19        	sta	<L912+2+10
 21102 03:574B: A5 0E        	lda	<L912+1
 21103 03:574D: 85 18        	sta	<L912+1+10
 21104 03:574F: 2B           	pld
 21105 03:5750: 3B           	tsc
 21106 03:5751: 18           	clc
 21107 03:5752: 69 17 00     	adc	#L912+10
 21108 03:5755: 1B           	tcs
 21109 03:5756: 6B           	rtl
 21110                        ;}
 21111                        	.line	3446
 21112                        	.endblock	3446
 21113             0000000D   L912	equ	13
 21114             00000009   L913	equ	9
 21115 03:5757:              	ends
 21116                        	efunc
 21117                        	.endfunc	3446,9,13
 21118                        	.line	3446
 21119                        ;
  Mon Dec  7 2020 11:19                                                Page 389


 21120                        ;
 21121                        ;void k_enable_bitmap_mode(void)
 21122                        ;{
 21123                        	.line	3449
 21124                        	.line	3450
 21125                        	GUI
 21126                        	xdef	~~k_enable_bitmap_mode
 21127                        	func
 21128                        	.function	3450
 21129                        ~~k_enable_bitmap_mode:
 21130                        	longa	on
 21131                        	longi	on
 21132 03:5757: 3B           	tsc
 21133 03:5758: 38           	sec
 21134 03:5759: E9 04 00     	sbc	#L916
 21135 03:575C: 1B           	tcs
 21136 03:575D: 0B           	phd
 21137 03:575E: 5B           	tcd
 21138                        	.block	3450
 21139                        ;	int i = 30000;
 21140                        ;	int j = 30000;
 21141                        ;
 21142                        ;
 21143                        ;
 21144                        ;	if(MASTER_CTRL_REG_H[0])
 21145             00000000   i_1	set	0
 21146             00000002   j_1	set	2
 21147                        	.sym	i,0,5,1,16
 21148                        	.sym	j,2,5,1,16
 21149 03:575F: A9 30 75     	lda	#$7530
 21150 03:5762: 85 01        	sta	<L917+i_1
 21151 03:5764: A9 30 75     	lda	#$7530
 21152 03:5767: 85 03        	sta	<L917+j_1
 21153                        	.line	3456
 21154                        ;	{
 21155 03:5769: AF 01 00 AF  	lda	>11468801
 21156 03:576D: 29 FF 00     	and	#$ff
 21157 03:5770: D0 03        	bne	L919
 21158 03:5772: 82 4A 00     	brl	L10385
 21159                        L919:
 21160                        	.line	3457
 21161                        ;		k_debug_string("k_enable_bitmap_mode to 
                    800x600...\r\n");
 21162                        	.line	3458
 21163 03:5775: F4 xx xx     	pea	#^L899
 21164 03:5778: F4 xx xx     	pea	#<L899
 21165 03:577B: 22 xx xx xx  	jsl	~~k_debug_string
 21166                        ;
 21167                        ;		MASTER_CTRL_REG_H[0] = MSTR_CTRL_VIDEO_M
                    ODE0;
 21168                        	.line	3460
 21169 03:577F: E2 20        	sep	#$20
 21170                        	longa	off
 21171 03:5781: A9 01        	lda	#$1
 21172 03:5783: 8F 01 00 AF  	sta	>11468801
 21173 03:5787: C2 20        	rep	#$20
 21174                        	longa	on
 21175                        ;		MASTER_CTRL_REG_L[0] = MSTR_CTRL_GRAPH_M
  Mon Dec  7 2020 11:19                                                Page 390


                    ODE_EN;
 21176                        	.line	3461
 21177 03:5789: E2 20        	sep	#$20
 21178                        	longa	off
 21179 03:578B: A9 04        	lda	#$4
 21180 03:578D: 8F 00 00 AF  	sta	>11468800
 21181 03:5791: C2 20        	rep	#$20
 21182                        	longa	on
 21183                        ;
 21184                        ;		for(i=3200;i>0;i--)
 21185                        	.line	3463
 21186 03:5793: A9 80 0C     	lda	#$c80
 21187 03:5796: 85 01        	sta	<L917+i_1
 21188                        L10388:
 21189                        ;		{
 21190                        	.line	3464
 21191                        ;			for(j=0;j<256;j++)
 21192                        	.line	3465
 21193 03:5798: 64 03        	stz	<L917+j_1
 21194                        L10391:
 21195                        ;			{
 21196                        	.line	3466
 21197                        ;				asm NOP;
 21198                        	.line	3467
 21199                        	asmstart
 21200 03:579A: EA           	NOP
 21201                        	asmend
 21202                        ;			}
 21203                        	.line	3468
 21204                        L10389:
 21205 03:579B: E6 03        	inc	<L917+j_1
 21206 03:579D: 38           	sec
 21207 03:579E: A5 03        	lda	<L917+j_1
 21208 03:57A0: E9 00 01     	sbc	#<$100
 21209 03:57A3: 70 03        	bvs	L920
 21210 03:57A5: 49 00 80     	eor	#$8000
 21211                        L920:
 21212 03:57A8: 30 03        	bmi	L921
 21213 03:57AA: 82 ED FF     	brl	L10391
 21214                        L921:
 21215                        L10390:
 21216                        ;		}
 21217                        	.line	3469
 21218                        L10386:
 21219 03:57AD: C6 01        	dec	<L917+i_1
 21220 03:57AF: 38           	sec
 21221 03:57B0: A9 00 00     	lda	#$0
 21222 03:57B3: E5 01        	sbc	<L917+i_1
 21223 03:57B5: 70 03        	bvs	L922
 21224 03:57B7: 49 00 80     	eor	#$8000
 21225                        L922:
 21226 03:57BA: 30 03        	bmi	L923
 21227 03:57BC: 82 D9 FF     	brl	L10388
 21228                        L923:
 21229                        L10387:
 21230                        ;	}
 21231                        	.line	3470
 21232                        ;	k_get_video_mode();
  Mon Dec  7 2020 11:19                                                Page 391


 21233                        L10385:
 21234                        	.line	3471
 21235 03:57BF: 22 E1 58 03  	jsl	~~k_get_video_mode
 21236                        ;
 21237                        ;	/*
 21238                        ;	k_debug_string("k_enable_bitmap_mode RESET 1b...
                    \r\n");
 21239                        ;
 21240                        ;	MASTER_CTRL_REG_H[0] = MSTR_CTRL_VIDEO_MODE0;
 21241                        ;	MASTER_CTRL_REG_L[0] = MSTR_CTRL_GRAPH_MODE_EN;
 21242                        ;
 21243                        ;	for(i=3200;i>0;i--)
 21244                        ;	{
 21245                        ;		for(j=0;j<256;j++)
 21246                        ;		{
 21247                        ;			asm NOP;
 21248                        ;		}
 21249                        ;	}
 21250                        ;
 21251                        ;	k_debug_string("k_enable_bitmap_mode RESET 1c...
                    \r\n");
 21252                        ;
 21253                        ;	MASTER_CTRL_REG_H[0] = MSTR_CTRL_VIDEO_MODE0;
 21254                        ;	MASTER_CTRL_REG_L[0] = MSTR_CTRL_GRAPH_MODE_EN;
 21255                        ;
 21256                        ;	for(i=3200;i>0;i--)
 21257                        ;	{
 21258                        ;		for(j=0;j<256;j++)
 21259                        ;		{
 21260                        ;			asm NOP;
 21261                        ;		}
 21262                        ;	}
 21263                        ;	 */
 21264                        ;	//k_debug_string("k_enable_bitmap_mode disable 8
                    00x600...\r\n");
 21265                        ;	//k_get_video_mode();
 21266                        ;
 21267                        ;	MASTER_CTRL_REG_H[0] = 0x00;
 21268                        	.line	3503
 21269 03:57C3: E2 20        	sep	#$20
 21270                        	longa	off
 21271 03:57C5: A9 00        	lda	#$0
 21272 03:57C7: 8F 01 00 AF  	sta	>11468801
 21273 03:57CB: C2 20        	rep	#$20
 21274                        	longa	on
 21275                        ;	//MASTER_CTRL_REG_L[0] = MSTR_CTRL_GRAPH_MODE_EN
                    ;
 21276                        ;	for(i=3200;i>0;i--)
 21277                        	.line	3505
 21278 03:57CD: A9 80 0C     	lda	#$c80
 21279 03:57D0: 85 01        	sta	<L917+i_1
 21280                        L10394:
 21281                        ;	{
 21282                        	.line	3506
 21283                        ;		for(j=0;j<256;j++)
 21284                        	.line	3507
 21285 03:57D2: 64 03        	stz	<L917+j_1
 21286                        L10397:
  Mon Dec  7 2020 11:19                                                Page 392


 21287                        ;		{
 21288                        	.line	3508
 21289                        ;			asm NOP;
 21290                        	.line	3509
 21291                        	asmstart
 21292 03:57D4: EA           	NOP
 21293                        	asmend
 21294                        ;		}
 21295                        	.line	3510
 21296                        L10395:
 21297 03:57D5: E6 03        	inc	<L917+j_1
 21298 03:57D7: 38           	sec
 21299 03:57D8: A5 03        	lda	<L917+j_1
 21300 03:57DA: E9 00 01     	sbc	#<$100
 21301 03:57DD: 70 03        	bvs	L924
 21302 03:57DF: 49 00 80     	eor	#$8000
 21303                        L924:
 21304 03:57E2: 30 03        	bmi	L925
 21305 03:57E4: 82 ED FF     	brl	L10397
 21306                        L925:
 21307                        L10396:
 21308                        ;	}
 21309                        	.line	3511
 21310                        L10392:
 21311 03:57E7: C6 01        	dec	<L917+i_1
 21312 03:57E9: 38           	sec
 21313 03:57EA: A9 00 00     	lda	#$0
 21314 03:57ED: E5 01        	sbc	<L917+i_1
 21315 03:57EF: 70 03        	bvs	L926
 21316 03:57F1: 49 00 80     	eor	#$8000
 21317                        L926:
 21318 03:57F4: 30 03        	bmi	L927
 21319 03:57F6: 82 D9 FF     	brl	L10394
 21320                        L927:
 21321                        L10393:
 21322                        ;
 21323                        ;
 21324                        ;	*BM1_CONTROL_REG = 0x01;
 21325                        	.line	3514
 21326 03:57F9: E2 20        	sep	#$20
 21327                        	longa	off
 21328 03:57FB: A9 01        	lda	#$1
 21329 03:57FD: 8F 08 01 AF  	sta	>11469064
 21330 03:5801: C2 20        	rep	#$20
 21331                        	longa	on
 21332                        ;	*BM1_START_ADDY_L = 0;
 21333                        	.line	3515
 21334 03:5803: E2 20        	sep	#$20
 21335                        	longa	off
 21336 03:5805: A9 00        	lda	#$0
 21337 03:5807: 8F 09 01 AF  	sta	>11469065
 21338 03:580B: C2 20        	rep	#$20
 21339                        	longa	on
 21340                        ;	*BM1_START_ADDY_M = 0;
 21341                        	.line	3516
 21342 03:580D: E2 20        	sep	#$20
 21343                        	longa	off
 21344 03:580F: A9 00        	lda	#$0
  Mon Dec  7 2020 11:19                                                Page 393


 21345 03:5811: 8F 0A 01 AF  	sta	>11469066
 21346 03:5815: C2 20        	rep	#$20
 21347                        	longa	on
 21348                        ;	*BM1_START_ADDY_H = 0x10;
 21349                        	.line	3517
 21350 03:5817: E2 20        	sep	#$20
 21351                        	longa	off
 21352 03:5819: A9 10        	lda	#$10
 21353 03:581B: 8F 0B 01 AF  	sta	>11469067
 21354 03:581F: C2 20        	rep	#$20
 21355                        	longa	on
 21356                        ;
 21357                        ;	*BM0_CONTROL_REG = 0x01;
 21358                        	.line	3519
 21359 03:5821: E2 20        	sep	#$20
 21360                        	longa	off
 21361 03:5823: A9 01        	lda	#$1
 21362 03:5825: 8F 00 01 AF  	sta	>11469056
 21363 03:5829: C2 20        	rep	#$20
 21364                        	longa	on
 21365                        ;	*BM0_START_ADDY_L = 0;
 21366                        	.line	3520
 21367 03:582B: E2 20        	sep	#$20
 21368                        	longa	off
 21369 03:582D: A9 00        	lda	#$0
 21370 03:582F: 8F 01 01 AF  	sta	>11469057
 21371 03:5833: C2 20        	rep	#$20
 21372                        	longa	on
 21373                        ;	*BM0_START_ADDY_M = 0;
 21374                        	.line	3521
 21375 03:5835: E2 20        	sep	#$20
 21376                        	longa	off
 21377 03:5837: A9 00        	lda	#$0
 21378 03:5839: 8F 02 01 AF  	sta	>11469058
 21379 03:583D: C2 20        	rep	#$20
 21380                        	longa	on
 21381                        ;	*BM0_START_ADDY_H = 0;
 21382                        	.line	3522
 21383 03:583F: E2 20        	sep	#$20
 21384                        	longa	off
 21385 03:5841: A9 00        	lda	#$0
 21386 03:5843: 8F 03 01 AF  	sta	>11469059
 21387 03:5847: C2 20        	rep	#$20
 21388                        	longa	on
 21389                        ;
 21390                        ;	*BM1_CONTROL_REG = ( BM_ENABLE | BM_LUT0 );
 21391                        	.line	3524
 21392 03:5849: E2 20        	sep	#$20
 21393                        	longa	off
 21394 03:584B: A9 01        	lda	#$1
 21395 03:584D: 8F 08 01 AF  	sta	>11469064
 21396 03:5851: C2 20        	rep	#$20
 21397                        	longa	on
 21398                        ;	*BM0_CONTROL_REG = ( BM_ENABLE | BM_LUT0 );
 21399                        	.line	3525
 21400 03:5853: E2 20        	sep	#$20
 21401                        	longa	off
 21402 03:5855: A9 01        	lda	#$1
  Mon Dec  7 2020 11:19                                                Page 394


 21403 03:5857: 8F 00 01 AF  	sta	>11469056
 21404 03:585B: C2 20        	rep	#$20
 21405                        	longa	on
 21406                        ;
 21407                        ;	k_debug_string("k_enable_bitmap_mode 640x480...\
                    r\n");
 21408                        	.line	3527
 21409 03:585D: F4 xx xx     	pea	#^L899+37
 21410 03:5860: F4 xx xx     	pea	#<L899+37
 21411 03:5863: 22 xx xx xx  	jsl	~~k_debug_string
 21412                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 21413                        	.line	3528
 21414 03:5867: E2 20        	sep	#$20
 21415                        	longa	off
 21416 03:5869: A9 0C        	lda	#$c
 21417 03:586B: 8F 00 00 AF  	sta	>11468800
 21418 03:586F: C2 20        	rep	#$20
 21419                        	longa	on
 21420                        ;
 21421                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,0x10);
 21422                        	.line	3530
 21423 03:5871: F4 10 00     	pea	#<$10
 21424 03:5874: F4 00 00     	pea	#<$0
 21425 03:5877: F4 E0 01     	pea	#<$1e0
 21426 03:587A: F4 80 02     	pea	#<$280
 21427 03:587D: F4 00 00     	pea	#^$0
 21428 03:5880: F4 00 00     	pea	#<$0
 21429 03:5883: F4 00 00     	pea	#^$0
 21430 03:5886: F4 00 00     	pea	#<$0
 21431 03:5889: 22 F6 50 03  	jsl	~~k_vdma_fill_rect_ex
 21432                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,0x00);
 21433                        	.line	3531
 21434 03:588D: F4 00 00     	pea	#<$0
 21435 03:5890: F4 00 00     	pea	#<$0
 21436 03:5893: F4 E0 01     	pea	#<$1e0
 21437 03:5896: F4 80 02     	pea	#<$280
 21438 03:5899: F4 00 00     	pea	#^$0
 21439 03:589C: F4 00 00     	pea	#<$0
 21440 03:589F: F4 00 00     	pea	#^$0
 21441 03:58A2: F4 00 00     	pea	#<$0
 21442 03:58A5: 22 F6 50 03  	jsl	~~k_vdma_fill_rect_ex
 21443                        ;
 21444                        ;	for(i=3200;i>0;i--)
 21445                        	.line	3533
 21446 03:58A9: A9 80 0C     	lda	#$c80
 21447 03:58AC: 85 01        	sta	<L917+i_1
 21448                        L10400:
 21449                        ;	{
 21450                        	.line	3534
 21451                        ;		for(j=0;j<256;j++)
 21452                        	.line	3535
 21453 03:58AE: 64 03        	stz	<L917+j_1
 21454                        L10403:
 21455                        ;		{
 21456                        	.line	3536
 21457                        ;			asm NOP;
 21458                        	.line	3537
  Mon Dec  7 2020 11:19                                                Page 395


 21459                        	asmstart
 21460 03:58B0: EA           	NOP
 21461                        	asmend
 21462                        ;		}
 21463                        	.line	3538
 21464                        L10401:
 21465 03:58B1: E6 03        	inc	<L917+j_1
 21466 03:58B3: 38           	sec
 21467 03:58B4: A5 03        	lda	<L917+j_1
 21468 03:58B6: E9 00 01     	sbc	#<$100
 21469 03:58B9: 70 03        	bvs	L928
 21470 03:58BB: 49 00 80     	eor	#$8000
 21471                        L928:
 21472 03:58BE: 30 03        	bmi	L929
 21473 03:58C0: 82 ED FF     	brl	L10403
 21474                        L929:
 21475                        L10402:
 21476                        ;	}
 21477                        	.line	3539
 21478                        L10398:
 21479 03:58C3: C6 01        	dec	<L917+i_1
 21480 03:58C5: 38           	sec
 21481 03:58C6: A9 00 00     	lda	#$0
 21482 03:58C9: E5 01        	sbc	<L917+i_1
 21483 03:58CB: 70 03        	bvs	L930
 21484 03:58CD: 49 00 80     	eor	#$8000
 21485                        L930:
 21486 03:58D0: 30 03        	bmi	L931
 21487 03:58D2: 82 D9 FF     	brl	L10400
 21488                        L931:
 21489                        L10399:
 21490                        ;
 21491                        ;	k_get_video_mode();
 21492                        	.line	3541
 21493 03:58D5: 22 E1 58 03  	jsl	~~k_get_video_mode
 21494                        ;	return;
 21495                        	.line	3542
 21496                        L932:
 21497 03:58D9: 2B           	pld
 21498 03:58DA: 3B           	tsc
 21499 03:58DB: 18           	clc
 21500 03:58DC: 69 04 00     	adc	#L916
 21501 03:58DF: 1B           	tcs
 21502 03:58E0: 6B           	rtl
 21503                        ;}
 21504                        	.line	3543
 21505                        	.endblock	3543
 21506             00000004   L916	equ	4
 21507             00000001   L917	equ	1
 21508 03:58E1:              	ends
 21509                        	efunc
 21510                        	.endfunc	3543,1,4
 21511                        	.line	3543
 21512                        	data
 21513                        L899:
 21514 00:0C06: 6B 5F 65 6E  	db	$6B,$5F,$65,$6E,$61,$62,$6C,$65,$5F,$62,
                    $69,$74,$6D,$61,$70
       00:0C0A: 61 62 6C 65 
  Mon Dec  7 2020 11:19                                                Page 396


       00:0C0E: 5F 62 69 74 
       00:0C12: 6D 61 70 
 21515 00:0C15: 5F 6D 6F 64  	db	$5F,$6D,$6F,$64,$65,$20,$74,$6F,$20,$38,
                    $30,$30,$78,$36,$30
       00:0C19: 65 20 74 6F 
       00:0C1D: 20 38 30 30 
       00:0C21: 78 36 30 
 21516 00:0C24: 30 2E 2E 2E  	db	$30,$2E,$2E,$2E,$0D,$0A,$00,$6B,$5F,$65,
                    $6E,$61,$62,$6C,$65
       00:0C28: 0D 0A 00 6B 
       00:0C2C: 5F 65 6E 61 
       00:0C30: 62 6C 65 
 21517 00:0C33: 5F 62 69 74  	db	$5F,$62,$69,$74,$6D,$61,$70,$5F,$6D,$6F,
                    $64,$65,$20,$36,$34
       00:0C37: 6D 61 70 5F 
       00:0C3B: 6D 6F 64 65 
       00:0C3F: 20 36 34 
 21518 00:0C42: 30 78 34 38  	db	$30,$78,$34,$38,$30,$2E,$2E,$2E,$0D,$0A,
                    $00
       00:0C46: 30 2E 2E 2E 
       00:0C4A: 0D 0A 00 
 21519 00:0C4D:              	ends
 21520                        ;
 21521                        ;
 21522                        ;UINT k_get_video_mode(void)
 21523                        ;{
 21524                        	.line	3546
 21525                        	.line	3547
 21526                        	GUI
 21527                        	xdef	~~k_get_video_mode
 21528                        	func
 21529                        	.function	3547
 21530                        ~~k_get_video_mode:
 21531                        	longa	on
 21532                        	longi	on
 21533 03:58E1: 3B           	tsc
 21534 03:58E2: 38           	sec
 21535 03:58E3: E9 00 00     	sbc	#L934
 21536 03:58E6: 1B           	tcs
 21537 03:58E7: 0B           	phd
 21538 03:58E8: 5B           	tcd
 21539                        	.block	3547
 21540                        ;	//Mstr_Ctrl_Video_Mode0   = $01       ; 0 - 640x
                    480 (Clock @ 25.175Mhz), 1 - 800x600 (Clock @ 40Mhz)
 21541                        ;	//Mstr_Ctrl_Video_Mode1   = $02       ; 0 - No P
                    ixel Doubling, 1- Pixel Doubling (Reduce the Pixel Resolutio
                    n by 2)
 21542                        ;
 21543                        ;	if(MASTER_CTRL_REG_H[0] & 0x01)
 21544                        	.line	3551
 21545                        ;	{
 21546 03:58E9: E2 20        	sep	#$20
 21547                        	longa	off
 21548 03:58EB: AF 01 00 AF  	lda	>11468801
 21549 03:58EF: 29 01        	and	#<$1
 21550 03:58F1: C2 20        	rep	#$20
 21551                        	longa	on
 21552 03:58F3: D0 03        	bne	L937
  Mon Dec  7 2020 11:19                                                Page 397


 21553 03:58F5: 82 36 00     	brl	L10404
 21554                        L937:
 21555                        	.line	3552
 21556                        ;		if(MASTER_CTRL_REG_H[0] & 0x02)
 21557                        	.line	3553
 21558                        ;		{
 21559 03:58F8: E2 20        	sep	#$20
 21560                        	longa	off
 21561 03:58FA: AF 01 00 AF  	lda	>11468801
 21562 03:58FE: 29 02        	and	#<$2
 21563 03:5900: C2 20        	rep	#$20
 21564                        	longa	on
 21565 03:5902: D0 03        	bne	L938
 21566 03:5904: 82 17 00     	brl	L10405
 21567                        L938:
 21568                        	.line	3554
 21569                        ;			k_debug_string("k_get_video_mode
                    :VIDEO_MODE_800X600D...\r\n");
 21570                        	.line	3555
 21571 03:5907: F4 xx xx     	pea	#^L933
 21572 03:590A: F4 xx xx     	pea	#<L933
 21573 03:590D: 22 xx xx xx  	jsl	~~k_debug_string
 21574                        ;			return VIDEO_MODE_800X600D;
 21575                        	.line	3556
 21576 03:5911: A9 08 00     	lda	#$8
 21577                        L939:
 21578 03:5914: A8           	tay
 21579 03:5915: 2B           	pld
 21580 03:5916: 3B           	tsc
 21581 03:5917: 18           	clc
 21582 03:5918: 69 00 00     	adc	#L934
 21583 03:591B: 1B           	tcs
 21584 03:591C: 98           	tya
 21585 03:591D: 6B           	rtl
 21586                        ;		}
 21587                        	.line	3557
 21588                        ;
 21589                        ;		k_debug_string("k_get_video_mode:VIDEO_M
                    ODE_800X600...\r\n");
 21590                        L10405:
 21591                        	.line	3559
 21592 03:591E: F4 xx xx     	pea	#^L933+42
 21593 03:5921: F4 xx xx     	pea	#<L933+42
 21594 03:5924: 22 xx xx xx  	jsl	~~k_debug_string
 21595                        ;		return VIDEO_MODE_800X600;
 21596                        	.line	3560
 21597 03:5928: A9 04 00     	lda	#$4
 21598 03:592B: 82 E6 FF     	brl	L939
 21599                        ;	}
 21600                        	.line	3561
 21601                        ;	else
 21602                        L10404:
 21603                        ;	{
 21604                        	.line	3563
 21605                        ;		if(MASTER_CTRL_REG_H[0] & 0x02)
 21606                        	.line	3564
 21607                        ;		{
 21608 03:592E: E2 20        	sep	#$20
  Mon Dec  7 2020 11:19                                                Page 398


 21609                        	longa	off
 21610 03:5930: AF 01 00 AF  	lda	>11468801
 21611 03:5934: 29 02        	and	#<$2
 21612 03:5936: C2 20        	rep	#$20
 21613                        	longa	on
 21614 03:5938: D0 03        	bne	L940
 21615 03:593A: 82 10 00     	brl	L10406
 21616                        L940:
 21617                        	.line	3565
 21618                        ;			k_debug_string("k_get_video_mode
                    :VIDEO_MODE_640X480D...\r\n");
 21619                        	.line	3566
 21620 03:593D: F4 xx xx     	pea	#^L933+83
 21621 03:5940: F4 xx xx     	pea	#<L933+83
 21622 03:5943: 22 xx xx xx  	jsl	~~k_debug_string
 21623                        ;			return VIDEO_MODE_640X480D;
 21624                        	.line	3567
 21625 03:5947: A9 02 00     	lda	#$2
 21626 03:594A: 82 C7 FF     	brl	L939
 21627                        ;		}
 21628                        	.line	3568
 21629                        ;
 21630                        ;		k_debug_string("k_get_video_mode:VIDEO_M
                    ODE_640X480...\r\n");
 21631                        L10406:
 21632                        	.line	3570
 21633 03:594D: F4 xx xx     	pea	#^L933+125
 21634 03:5950: F4 xx xx     	pea	#<L933+125
 21635 03:5953: 22 xx xx xx  	jsl	~~k_debug_string
 21636                        ;		return VIDEO_MODE_640X480;
 21637                        	.line	3571
 21638 03:5957: A9 01 00     	lda	#$1
 21639 03:595A: 82 B7 FF     	brl	L939
 21640                        ;	}
 21641                        	.line	3572
 21642                        ;
 21643                        ;
 21644                        ;	return VIDEO_MODE_UNKNOWN;
 21645                        	.line	3575
 21646 03:595D: A9 FF 00     	lda	#$ff
 21647 03:5960: 82 B1 FF     	brl	L939
 21648                        ;}
 21649                        	.line	3576
 21650                        	.endblock	3576
 21651             00000000   L934	equ	0
 21652             00000001   L935	equ	1
 21653 03:5963:              	ends
 21654                        	efunc
 21655                        	.endfunc	3576,1,0
 21656                        	.line	3576
 21657                        	data
 21658                        L933:
 21659 00:0C4D: 6B 5F 67 65  	db	$6B,$5F,$67,$65,$74,$5F,$76,$69,$64,$65,
                    $6F,$5F,$6D,$6F,$64
       00:0C51: 74 5F 76 69 
       00:0C55: 64 65 6F 5F 
       00:0C59: 6D 6F 64 
 21660 00:0C5C: 65 3A 56 49  	db	$65,$3A,$56,$49,$44,$45,$4F,$5F,$4D,$4F,
  Mon Dec  7 2020 11:19                                                Page 399


                    $44,$45,$5F,$38,$30
       00:0C60: 44 45 4F 5F 
       00:0C64: 4D 4F 44 45 
       00:0C68: 5F 38 30 
 21661 00:0C6B: 30 58 36 30  	db	$30,$58,$36,$30,$30,$44,$2E,$2E,$2E,$0D,
                    $0A,$00,$6B,$5F,$67
       00:0C6F: 30 44 2E 2E 
       00:0C73: 2E 0D 0A 00 
       00:0C77: 6B 5F 67 
 21662 00:0C7A: 65 74 5F 76  	db	$65,$74,$5F,$76,$69,$64,$65,$6F,$5F,$6D,
                    $6F,$64,$65,$3A,$56
       00:0C7E: 69 64 65 6F 
       00:0C82: 5F 6D 6F 64 
       00:0C86: 65 3A 56 
 21663 00:0C89: 49 44 45 4F  	db	$49,$44,$45,$4F,$5F,$4D,$4F,$44,$45,$5F,
                    $38,$30,$30,$58,$36
       00:0C8D: 5F 4D 4F 44 
       00:0C91: 45 5F 38 30 
       00:0C95: 30 58 36 
 21664 00:0C98: 30 30 2E 2E  	db	$30,$30,$2E,$2E,$2E,$0D,$0A,$00,$6B,$5F,
                    $67,$65,$74,$5F,$76
       00:0C9C: 2E 0D 0A 00 
       00:0CA0: 6B 5F 67 65 
       00:0CA4: 74 5F 76 
 21665 00:0CA7: 69 64 65 6F  	db	$69,$64,$65,$6F,$5F,$6D,$6F,$64,$65,$3A,
                    $56,$49,$44,$45,$4F
       00:0CAB: 5F 6D 6F 64 
       00:0CAF: 65 3A 56 49 
       00:0CB3: 44 45 4F 
 21666 00:0CB6: 5F 4D 4F 44  	db	$5F,$4D,$4F,$44,$45,$5F,$36,$34,$30,$58,
                    $34,$38,$30,$44,$2E
       00:0CBA: 45 5F 36 34 
       00:0CBE: 30 58 34 38 
       00:0CC2: 30 44 2E 
 21667 00:0CC5: 2E 2E 0D 0A  	db	$2E,$2E,$0D,$0A,$00,$6B,$5F,$67,$65,$74,
                    $5F,$76,$69,$64,$65
       00:0CC9: 00 6B 5F 67 
       00:0CCD: 65 74 5F 76 
       00:0CD1: 69 64 65 
 21668 00:0CD4: 6F 5F 6D 6F  	db	$6F,$5F,$6D,$6F,$64,$65,$3A,$56,$49,$44,
                    $45,$4F,$5F,$4D,$4F
       00:0CD8: 64 65 3A 56 
       00:0CDC: 49 44 45 4F 
       00:0CE0: 5F 4D 4F 
 21669 00:0CE3: 44 45 5F 36  	db	$44,$45,$5F,$36,$34,$30,$58,$34,$38,$30,
                    $2E,$2E,$2E,$0D,$0A
       00:0CE7: 34 30 58 34 
       00:0CEB: 38 30 2E 2E 
       00:0CEF: 2E 0D 0A 
 21670 00:0CF2: 00           	db	$00
 21671 00:0CF3:              	ends
 21672                        ;
 21673                        ;
 21674                        ;void k_init_desktop(PFXPROCESS process)
 21675                        ;{
 21676                        	.line	3579
 21677                        	.line	3580
 21678                        	GUI
  Mon Dec  7 2020 11:19                                                Page 400


 21679                        	xdef	~~k_init_desktop
 21680                        	func
 21681                        	.function	3580
 21682                        ~~k_init_desktop:
 21683                        	longa	on
 21684                        	longi	on
 21685 03:5963: 3B           	tsc
 21686 03:5964: 38           	sec
 21687 03:5965: E9 16 00     	sbc	#L942
 21688 03:5968: 1B           	tcs
 21689 03:5969: 0B           	phd
 21690 03:596A: 5B           	tcd
 21691             00000004   process_0	set	4
 21692                        	.block	3580
 21693                        ;
 21694                        ;	int i = 0;
 21695                        ;	int x = 0;
 21696                        ;	int y = 200;
 21697                        ;
 21698                        ;
 21699                        ;	PFXSTRING fxtitle = NULL;
 21700                        ;	PFXSTRING fxstring = NULL;
 21701                        ;
 21702                        ;	ULONG availableMem = 0L;
 21703                        ;
 21704                        ;
 21705                        ;	k_clear_screen(0);
 21706             00000000   i_1	set	0
 21707             00000002   x_1	set	2
 21708             00000004   y_1	set	4
 21709             00000006   fxtitle_1	set	6
 21710             0000000A   fxstring_1	set	10
 21711             0000000E   availableMem_1	set	14
 21712                        	.sym	i,0,5,1,16
 21713                        	.sym	x,2,5,1,16
 21714                        	.sym	y,4,5,1,16
 21715                        	.sym	fxtitle,6,138,1,32,50
 21716                        	.sym	fxstring,10,138,1,32,50
 21717                        	.sym	availableMem,14,18,1,32
 21718                        	.sym	process,4,138,6,32,20
 21719 03:596B: 64 05        	stz	<L943+i_1
 21720 03:596D: 64 07        	stz	<L943+x_1
 21721 03:596F: A9 C8 00     	lda	#$c8
 21722 03:5972: 85 09        	sta	<L943+y_1
 21723 03:5974: 64 0B        	stz	<L943+fxtitle_1
 21724 03:5976: 64 0D        	stz	<L943+fxtitle_1+2
 21725 03:5978: 64 0F        	stz	<L943+fxstring_1
 21726 03:597A: 64 11        	stz	<L943+fxstring_1+2
 21727 03:597C: 64 13        	stz	<L943+availableMem_1
 21728 03:597E: 64 15        	stz	<L943+availableMem_1+2
 21729                        	.line	3593
 21730 03:5980: F4 00 00     	pea	#<$0
 21731 03:5983: 22 xx xx xx  	jsl	~~k_clear_screen
 21732                        ;	setColors();
 21733                        	.line	3594
 21734 03:5987: 22 D8 03 03  	jsl	~~setColors
 21735                        ;
 21736                        ;
  Mon Dec  7 2020 11:19                                                Page 401


 21737                        ;#ifdef USE_FX256_FMX
 21738                        ;
 21739                        ;	/*
 21740                        ;	*BM1_CONTROL_REG = 0x01;
 21741                        ;	*BM1_START_ADDY_L = 0;
 21742                        ;	*BM1_START_ADDY_M = 0;
 21743                        ;	*BM1_START_ADDY_H = 0;
 21744                        ;
 21745                        ;	*MASTER_CTRL_REG_H 	= 0x00;
 21746                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 21747                        ;
 21748                        ;	*MASTER_CTRL_REG_H 	= 0x01;
 21749                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 21750                        ;
 21751                        ;	*BM1_CONTROL_REG = ( BM_ENABLE | BM_LUT0 );
 21752                        ;
 21753                        ;	*MASTER_CTRL_REG_H 	= 0x00;
 21754                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 21755                        ;	*/
 21756                        ;
 21757                        ;	k_enable_bitmap_mode();
 21758                        	.line	3617
 21759 03:598B: 22 57 57 03  	jsl	~~k_enable_bitmap_mode
 21760                        ;
 21761                        ;#else
 21762                        ;
 21763                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE;
 21764                        ;
 21765                        ;	*BM_START_ADDY_L = 0x00;
 21766                        ;	*BM_START_ADDY_M = 0x00;
 21767                        ;	*BM_START_ADDY_H = 0x00;
 21768                        ;	*BG_CHAR_LUT_PTR = 0x02;
 21769                        ;
 21770                        ;	*BM_X_SIZE_L = 0x80;
 21771                        ;	*BM_X_SIZE_H = 0x02;
 21772                        ;	*BM_Y_SIZE_L = 0xE0;
 21773                        ;	*BM_Y_SIZE_H = 0x01;
 21774                        ;
 21775                        ;	//*FG_CHAR_LUT_PTR    = 0x00;
 21776                        ;	//*BG_CHAR_LUT_PTR    = 0x00;
 21777                        ;	*BM_CONTROL_REG 	= 0x08;
 21778                        ;
 21779                        ;	*MASTER_CTRL_REG_H 	= 0x00;
 21780                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 21781                        ;
 21782                        ;#endif
 21783                        ;
 21784                        ;	k_disable_border();
 21785                        	.line	3642
 21786 03:598F: 22 xx xx xx  	jsl	~~k_disable_border
 21787                        ;
 21788                        ;	//setColors();
 21789                        ;	//defineGrayPalette();
 21790                        ;
  Mon Dec  7 2020 11:19                                                Page 402


 21791                        ;
 21792                        ;
 21793                        ;	if(!_k_WindowObject_nodes)
 21794                        	.line	3649
 21795                        ;		_k_WindowObject_nodes = k_nodelist_init(
                    0xF0,"master",NULL);
 21796 03:5993: AD xx xx     	lda	|~~_k_WindowObject_nodes
 21797 03:5996: 0D xx xx     	ora	|~~_k_WindowObject_nodes+2
 21798 03:5999: F0 03        	beq	L945
 21799 03:599B: 82 19 00     	brl	L10407
 21800                        L945:
 21801                        	.line	3650
 21802 03:599E: F4 00 00     	pea	#^$0
 21803 03:59A1: F4 00 00     	pea	#<$0
 21804 03:59A4: F4 xx xx     	pea	#^L941
 21805 03:59A7: F4 xx xx     	pea	#<L941
 21806 03:59AA: F4 F0 00     	pea	#<$f0
 21807 03:59AD: 22 xx xx xx  	jsl	~~k_nodelist_init
 21808 03:59B1: 8D xx xx     	sta	|~~_k_WindowObject_nodes
 21809 03:59B4: 8E xx xx     	stx	|~~_k_WindowObject_nodes+2
 21810                        ;	if(!_k_WindowHit_nodes)
 21811                        L10407:
 21812                        	.line	3651
 21813                        ;		_k_WindowHit_nodes    = k_nodelist_init(
                    0xF0,"master",NULL);
 21814 03:59B7: AD xx xx     	lda	|~~_k_WindowHit_nodes
 21815 03:59BA: 0D xx xx     	ora	|~~_k_WindowHit_nodes+2
 21816 03:59BD: F0 03        	beq	L946
 21817 03:59BF: 82 19 00     	brl	L10408
 21818                        L946:
 21819                        	.line	3652
 21820 03:59C2: F4 00 00     	pea	#^$0
 21821 03:59C5: F4 00 00     	pea	#<$0
 21822 03:59C8: F4 xx xx     	pea	#^L941+7
 21823 03:59CB: F4 xx xx     	pea	#<L941+7
 21824 03:59CE: F4 F0 00     	pea	#<$f0
 21825 03:59D1: 22 xx xx xx  	jsl	~~k_nodelist_init
 21826 03:59D5: 8D xx xx     	sta	|~~_k_WindowHit_nodes
 21827 03:59D8: 8E xx xx     	stx	|~~_k_WindowHit_nodes+2
 21828                        ;
 21829                        ;	if(process->desktopCtl == NULL)
 21830                        L10408:
 21831                        	.line	3654
 21832                        ;	{
 21833 03:59DB: A0 58 00     	ldy	#$58
 21834 03:59DE: B7 1A        	lda	[<L942+process_0],Y
 21835 03:59E0: A0 5A 00     	ldy	#$5a
 21836 03:59E3: 17 1A        	ora	[<L942+process_0],Y
 21837 03:59E5: F0 03        	beq	L947
 21838 03:59E7: 82 2F 00     	brl	L10409
 21839                        L947:
 21840                        	.line	3655
 21841                        ;		process->desktopCtl = k_mem_allocate_hea
                    p(sizeof(DESKTOP_CONTROL));
 21842                        	.line	3656
 21843 03:59EA: F4 31 00     	pea	#<$31
 21844 03:59ED: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 21845 03:59F1: 85 01        	sta	<R0
  Mon Dec  7 2020 11:19                                                Page 403


 21846 03:59F3: 86 03        	stx	<R0+2
 21847 03:59F5: A5 01        	lda	<R0
 21848 03:59F7: A0 58 00     	ldy	#$58
 21849 03:59FA: 97 1A        	sta	[<L942+process_0],Y
 21850 03:59FC: A5 03        	lda	<R0+2
 21851 03:59FE: A0 5A 00     	ldy	#$5a
 21852 03:5A01: 97 1A        	sta	[<L942+process_0],Y
 21853                        ;		memset(process->desktopCtl,0,sizeof(DESK
                    TOP_CONTROL));
 21854                        	.line	3657
 21855 03:5A03: F4 31 00     	pea	#<$31
 21856 03:5A06: F4 00 00     	pea	#<$0
 21857 03:5A09: A0 5A 00     	ldy	#$5a
 21858 03:5A0C: B7 1A        	lda	[<L942+process_0],Y
 21859 03:5A0E: 48           	pha
 21860 03:5A0F: A0 58 00     	ldy	#$58
 21861 03:5A12: B7 1A        	lda	[<L942+process_0],Y
 21862 03:5A14: 48           	pha
 21863 03:5A15: 22 xx xx xx  	jsl	~~memset
 21864                        ;	}
 21865                        	.line	3658
 21866                        ;	process->desktopCtl->backgroundColor = k_getUIDe
                    sktopColor() ;//14;
 21867                        L10409:
 21868                        	.line	3659
 21869 03:5A19: A0 58 00     	ldy	#$58
 21870 03:5A1C: B7 1A        	lda	[<L942+process_0],Y
 21871 03:5A1E: 85 01        	sta	<R0
 21872 03:5A20: A0 5A 00     	ldy	#$5a
 21873 03:5A23: B7 1A        	lda	[<L942+process_0],Y
 21874 03:5A25: 85 03        	sta	<R0+2
 21875 03:5A27: 22 0B 0D 03  	jsl	~~k_getUIDesktopColor
 21876 03:5A2B: A0 05 00     	ldy	#$5
 21877 03:5A2E: 97 01        	sta	[<R0],Y
 21878                        ;	process->desktopCtl->currentDiskName = NULL;
 21879                        	.line	3660
 21880 03:5A30: A0 58 00     	ldy	#$58
 21881 03:5A33: B7 1A        	lda	[<L942+process_0],Y
 21882 03:5A35: 85 01        	sta	<R0
 21883 03:5A37: A0 5A 00     	ldy	#$5a
 21884 03:5A3A: B7 1A        	lda	[<L942+process_0],Y
 21885 03:5A3C: 85 03        	sta	<R0+2
 21886 03:5A3E: A9 00 00     	lda	#$0
 21887 03:5A41: A0 11 00     	ldy	#$11
 21888 03:5A44: 97 01        	sta	[<R0],Y
 21889 03:5A46: A9 00 00     	lda	#$0
 21890 03:5A49: A0 13 00     	ldy	#$13
 21891 03:5A4C: 97 01        	sta	[<R0],Y
 21892                        ;
 21893                        ;	// clear screen the old way
 21894                        ;
 21895                        ;	/*
 21896                        ;	for(y=0;y<480;y++)
 21897                        ;	{
 21898                        ;		k_fill_line(0,y,639,k_getUIDesktopColor(
                    ));
 21899                        ;	}
 21900                        ;	*/
  Mon Dec  7 2020 11:19                                                Page 404


 21901                        ;	k_vdma_fill_rect_ex(0,0,640,480,k_getUIBackgroun
                    dColor(),0x10);
 21902                        	.line	3670
 21903 03:5A4E: F4 10 00     	pea	#<$10
 21904 03:5A51: 22 F6 0C 03  	jsl	~~k_getUIBackgroundColor
 21905 03:5A55: 48           	pha
 21906 03:5A56: F4 E0 01     	pea	#<$1e0
 21907 03:5A59: F4 80 02     	pea	#<$280
 21908 03:5A5C: F4 00 00     	pea	#^$0
 21909 03:5A5F: F4 00 00     	pea	#<$0
 21910 03:5A62: F4 00 00     	pea	#^$0
 21911 03:5A65: F4 00 00     	pea	#<$0
 21912 03:5A68: 22 F6 50 03  	jsl	~~k_vdma_fill_rect_ex
 21913                        ;
 21914                        ;
 21915                        ;	//k_paint_brush_rect(0,0,640,480,0x55);
 21916                        ;
 21917                        ;
 21918                        ;	/*
 21919                        ;	fxtitle  = k_fxstring_new(CONST_WB_MENU_TITLE,96
                    );
 21920                        ;	fxstring = k_fxstring_from_long(k_getZeroPage()-
                    >availableMemoryK);
 21921                        ;
 21922                        ;	//k_debug_message("fxtitle:",fxtitle->buffer);
 21923                        ;	//k_debug_message("fxstring:",k_strip_padding(fx
                    string->buffer));
 21924                        ;
 21925                        ;	//process->desktopCtl->titleNodes = k_vdraw_ui_m
                    enu(0,0,639,"C256 Foenix Workbench - Free Mem: 1792K Video M
                    em: 4096K",15,3);
 21926                        ;	process->desktopCtl->titleNodes = k_vdraw_ui_men
                    u(0,0,639,
 21927                        ;   						
                    							  k_stri
                    ng_replace(fxtitle->buffer, "%d", k_strip_padding(fxstring->
                    buffer)),
 21928                        ;							
                    						  k_getUIMenuCol
                    or(),
 21929                        ;							
                    						  k_getUIWindowF
                    rameColor());
 21930                        ;
 21931                        ;	if(fxstring)
 21932                        ;		k_fxstring_free(fxstring);
 21933                        ;	*/
 21934                        ;
 21935                        ;	//k_vdraw_ui_menu(0,0,639,"C256 Foenix Workbench
                     - Free Memory: 1792K Video Memory: 4096K",15,3);
 21936                        ;
 21937                        ;	/*
 21938                        ;	//FX-Basic
 21939                        ;	k_put_winicon_point(ICON_DISK,640 - 40,20,0,PAIN
                    TMODE_DEFAULT);
 21940                        ;	k_draw_text_point("FX-BASIC",640 - 35 - (8*4),40
                    ,0);
 21941                        ;
  Mon Dec  7 2020 11:19                                                Page 405


 21942                        ;	//Projects
 21943                        ;	k_put_winicon_point(ICON_CABINET,640 - 40,55,2,P
                    AINTMODE_DEFAULT);
 21944                        ;	k_draw_text_point("PROJECTS",640 - 35 - (8*4),75
                    ,0);
 21945                        ;	*/
 21946                        ;
 21947                        ;	//Shredder
 21948                        ;	//k_put_winicon_point(ICON_TRASH,640 - 40,450,1,
                    PAINTMODE_DEFAULT);
 21949                        ;	//k_draw_text_point("SHREDDER",640 - 35 - (8*4),
                    470,0);
 21950                        ;
 21951                        ;
 21952                        ;
 21953                        ;	return;
 21954                        	.line	3711
 21955                        L948:
 21956 03:5A6C: A5 18        	lda	<L942+2
 21957 03:5A6E: 85 1C        	sta	<L942+2+4
 21958 03:5A70: A5 17        	lda	<L942+1
 21959 03:5A72: 85 1B        	sta	<L942+1+4
 21960 03:5A74: 2B           	pld
 21961 03:5A75: 3B           	tsc
 21962 03:5A76: 18           	clc
 21963 03:5A77: 69 1A 00     	adc	#L942+4
 21964 03:5A7A: 1B           	tcs
 21965 03:5A7B: 6B           	rtl
 21966                        ;}
 21967                        	.line	3712
 21968                        	.endblock	3712
 21969             00000016   L942	equ	22
 21970             00000005   L943	equ	5
 21971 03:5A7C:              	ends
 21972                        	efunc
 21973                        	.endfunc	3712,5,22
 21974                        	.line	3712
 21975                        	data
 21976                        L941:
 21977 00:0CF3: 6D 61 73 74  	db	$6D,$61,$73,$74,$65,$72,$00,$6D,$61,$73,
                    $74,$65,$72,$00
       00:0CF7: 65 72 00 6D 
       00:0CFB: 61 73 74 65 
       00:0CFF: 72 00 
 21978 00:0D01:              	ends
 21979                        ;
 21980                        ;
 21981                        ;
 21982                        ;void k_add_window_hit_node(PCLICKDETECTED pcd)
 21983                        ;{
 21984                        	.line	3716
 21985                        	.line	3717
 21986                        	GUI
 21987                        	xdef	~~k_add_window_hit_node
 21988                        	func
 21989                        	.function	3717
 21990                        ~~k_add_window_hit_node:
 21991                        	longa	on
  Mon Dec  7 2020 11:19                                                Page 406


 21992                        	longi	on
 21993 03:5A7C: 3B           	tsc
 21994 03:5A7D: 38           	sec
 21995 03:5A7E: E9 04 00     	sbc	#L950
 21996 03:5A81: 1B           	tcs
 21997 03:5A82: 0B           	phd
 21998 03:5A83: 5B           	tcd
 21999             00000004   pcd_0	set	4
 22000                        	.block	3717
 22001                        ;	k_debug_pointer("k_add_window_hit_node:",pcd);
 22002                        	.sym	pcd,4,138,6,32,53
 22003                        	.line	3718
 22004 03:5A84: D4 0A        	pei	<L950+pcd_0+2
 22005 03:5A86: D4 08        	pei	<L950+pcd_0
 22006 03:5A88: F4 xx xx     	pea	#^L949
 22007 03:5A8B: F4 xx xx     	pea	#<L949
 22008 03:5A8E: 22 xx xx xx  	jsl	~~k_debug_pointer
 22009                        ;	k_nodelist_add(_k_WindowHit_nodes,k_nodelist_cre
                    ate(1,"window",pcd,NULL,NULL));
 22010                        	.line	3719
 22011 03:5A92: F4 00 00     	pea	#^$0
 22012 03:5A95: F4 00 00     	pea	#<$0
 22013 03:5A98: F4 00 00     	pea	#^$0
 22014 03:5A9B: F4 00 00     	pea	#<$0
 22015 03:5A9E: D4 0A        	pei	<L950+pcd_0+2
 22016 03:5AA0: D4 08        	pei	<L950+pcd_0
 22017 03:5AA2: F4 xx xx     	pea	#^L949+23
 22018 03:5AA5: F4 xx xx     	pea	#<L949+23
 22019 03:5AA8: F4 01 00     	pea	#<$1
 22020 03:5AAB: 22 xx xx xx  	jsl	~~k_nodelist_create
 22021 03:5AAF: 85 01        	sta	<R0
 22022 03:5AB1: 86 03        	stx	<R0+2
 22023 03:5AB3: DA           	phx
 22024 03:5AB4: 48           	pha
 22025 03:5AB5: AD xx xx     	lda	|~~_k_WindowHit_nodes+2
 22026 03:5AB8: 48           	pha
 22027 03:5AB9: AD xx xx     	lda	|~~_k_WindowHit_nodes
 22028 03:5ABC: 48           	pha
 22029 03:5ABD: 22 xx xx xx  	jsl	~~k_nodelist_add
 22030                        ;}
 22031                        	.line	3720
 22032                        L953:
 22033 03:5AC1: A5 06        	lda	<L950+2
 22034 03:5AC3: 85 0A        	sta	<L950+2+4
 22035 03:5AC5: A5 05        	lda	<L950+1
 22036 03:5AC7: 85 09        	sta	<L950+1+4
 22037 03:5AC9: 2B           	pld
 22038 03:5ACA: 3B           	tsc
 22039 03:5ACB: 18           	clc
 22040 03:5ACC: 69 08 00     	adc	#L950+4
 22041 03:5ACF: 1B           	tcs
 22042 03:5AD0: 6B           	rtl
 22043                        	.endblock	3720
 22044             00000004   L950	equ	4
 22045             00000005   L951	equ	5
 22046 03:5AD1:              	ends
 22047                        	efunc
 22048                        	.endfunc	3720,5,4
  Mon Dec  7 2020 11:19                                                Page 407


 22049                        	.line	3720
 22050                        	data
 22051                        L949:
 22052 00:0D01: 6B 5F 61 64  	db	$6B,$5F,$61,$64,$64,$5F,$77,$69,$6E,$64,
                    $6F,$77,$5F,$68,$69
       00:0D05: 64 5F 77 69 
       00:0D09: 6E 64 6F 77 
       00:0D0D: 5F 68 69 
 22053 00:0D10: 74 5F 6E 6F  	db	$74,$5F,$6E,$6F,$64,$65,$3A,$00,$77,$69,
                    $6E,$64,$6F,$77,$00
       00:0D14: 64 65 3A 00 
       00:0D18: 77 69 6E 64 
       00:0D1C: 6F 77 00 
 22054 00:0D1F:              	ends
 22055                        ;
 22056                        ;/*
 22057                        ;int k_point_in_list_depth(int x,int y,PCLICKABLE 
                    clickableList,int cSize)
 22058                        ;{
 22059                        ;	int i = 0;
 22060                        ;	int index = -1;
 22061                        ;	int found = 0;
 22062                        ;	PCLICKABLE top = NULL;
 22063                        ;	RECT r;
 22064                        ;
 22065                        ;	for(i=0;i<cSize;i++)
 22066                        ;	{
 22067                        ;		hitList[i] = NULL;
 22068                        ;		r = clickableList[i].area;
 22069                        ;		if(x >=r.x && x<(r.x+r.width))
 22070                        ;		{
 22071                        ;			if(y >=r.y && y<(r.y+r.height))
 22072                        ;			{
 22073                        ;				index = i;
 22074                        ;				//clickableList[i].depth
                     = 1;
 22075                        ;				hitList[i] = &clickableL
                    ist[i];
 22076                        ;				found++;
 22077                        ;			}
 22078                        ;		}
 22079                        ;	}
 22080                        ;
 22081                        ;	if(found > 0)
 22082                        ;	{
 22083                        ;		top = hitList[0];
 22084                        ;		for(i=0;i<cSize;i++)
 22085                        ;		{
 22086                        ;			if(hitList[i]!=NULL && hitList[i
                    ]->depth < top->depth)
 22087                        ;			{
 22088                        ;				top->depth = 1;
 22089                        ;				top = hitList[i];
 22090                        ;				top->depth = 0;
 22091                        ;				index = i;
 22092                        ;			}
 22093                        ;		}
 22094                        ;	}
  Mon Dec  7 2020 11:19                                                Page 408


 22095                        ;	else
 22096                        ;	{
 22097                        ;		clickableList[index].depth = 0;
 22098                        ;	}
 22099                        ;
 22100                        ;	return index;
 22101                        ;}
 22102                        ;*/
 22103                        ;PFXNODE k_point_in_nodes(int x,int y)
 22104                        ;{
 22105                        	.line	3769
 22106                        	.line	3770
 22107                        	GUI
 22108                        	xdef	~~k_point_in_nodes
 22109                        	func
 22110                        	.function	3770
 22111                        ~~k_point_in_nodes:
 22112                        	longa	on
 22113                        	longi	on
 22114 03:5AD1: 3B           	tsc
 22115 03:5AD2: 38           	sec
 22116 03:5AD3: E9 20 00     	sbc	#L955
 22117 03:5AD6: 1B           	tcs
 22118 03:5AD7: 0B           	phd
 22119 03:5AD8: 5B           	tcd
 22120             00000004   x_0	set	4
 22121             00000006   y_0	set	6
 22122                        	.block	3770
 22123                        ;	PFXNODE found = NULL;
 22124                        ;	LPCHAR ctx = "";
 22125                        ;	PFXNODE ptr = NULL;
 22126                        ;
 22127                        ;	RECT r;
 22128                        ;	int i = 0;
 22129                        ;	int index = -1;
 22130                        ;
 22131                        ;	//k_debug_string("k_point_in_nodes\r\n");
 22132                        ;
 22133                        ;	if(_k_WindowHit_nodes!=NULL)
 22134             00000000   found_1	set	0
 22135             00000004   ctx_1	set	4
 22136             00000008   ptr_1	set	8
 22137             0000000C   r_1	set	12
 22138             00000014   i_1	set	20
 22139             00000016   index_1	set	22
 22140                        	.sym	found,0,138,1,32,5
 22141                        	.sym	ctx,4,142,1,32
 22142                        	.sym	ptr,8,138,1,32,5
 22143                        	.sym	r,12,10,1,64,25
 22144                        	.sym	i,20,5,1,16
 22145                        	.sym	index,22,5,1,16
 22146                        	.sym	x,4,5,6,16
 22147                        	.sym	y,6,5,6,16
 22148 03:5AD9: 64 09        	stz	<L956+found_1
 22149 03:5ADB: 64 0B        	stz	<L956+found_1+2
 22150 03:5ADD: A9 xx xx     	lda	#<L954
 22151 03:5AE0: 85 0D        	sta	<L956+ctx_1
 22152 03:5AE2: A9 xx xx     	lda	#^L954
  Mon Dec  7 2020 11:19                                                Page 409


 22153 03:5AE5: 85 0F        	sta	<L956+ctx_1+2
 22154 03:5AE7: 64 11        	stz	<L956+ptr_1
 22155 03:5AE9: 64 13        	stz	<L956+ptr_1+2
 22156 03:5AEB: 64 1D        	stz	<L956+i_1
 22157 03:5AED: A9 FF FF     	lda	#$ffff
 22158 03:5AF0: 85 1F        	sta	<L956+index_1
 22159                        	.line	3781
 22160                        ;	{
 22161 03:5AF2: AD xx xx     	lda	|~~_k_WindowHit_nodes
 22162 03:5AF5: 0D xx xx     	ora	|~~_k_WindowHit_nodes+2
 22163 03:5AF8: D0 03        	bne	L958
 22164 03:5AFA: 82 CB 00     	brl	L10410
 22165                        L958:
 22166                        	.line	3782
 22167                        ;		ptr = _k_WindowHit_nodes->next;
 22168                        	.line	3783
 22169 03:5AFD: AD xx xx     	lda	|~~_k_WindowHit_nodes
 22170 03:5B00: 85 01        	sta	<R0
 22171 03:5B02: AD xx xx     	lda	|~~_k_WindowHit_nodes+2
 22172 03:5B05: 85 03        	sta	<R0+2
 22173 03:5B07: A0 0A 00     	ldy	#$a
 22174 03:5B0A: B7 01        	lda	[<R0],Y
 22175 03:5B0C: 85 11        	sta	<L956+ptr_1
 22176 03:5B0E: A0 0C 00     	ldy	#$c
 22177 03:5B11: B7 01        	lda	[<R0],Y
 22178 03:5B13: 85 13        	sta	<L956+ptr_1+2
 22179                        ;		while(ptr!=NULL)
 22180                        	.line	3784
 22181                        L10411:
 22182 03:5B15: A5 11        	lda	<L956+ptr_1
 22183 03:5B17: 05 13        	ora	<L956+ptr_1+2
 22184 03:5B19: D0 03        	bne	L959
 22185 03:5B1B: 82 AA 00     	brl	L10412
 22186                        L959:
 22187                        ;		{
 22188                        	.line	3785
 22189                        ;			//k_debug_pointer("FOUND HIT ITE
                    M:",ptr);
 22190                        ;			r = ((PCLICKABLE)((PCLICKDETECTE
                    D)ptr->data)->window->clickable)->area;
 22191                        	.line	3787
 22192 03:5B1E: A0 02 00     	ldy	#$2
 22193 03:5B21: B7 11        	lda	[<L956+ptr_1],Y
 22194 03:5B23: 85 01        	sta	<R0
 22195 03:5B25: A0 04 00     	ldy	#$4
 22196 03:5B28: B7 11        	lda	[<L956+ptr_1],Y
 22197 03:5B2A: 85 03        	sta	<R0+2
 22198 03:5B2C: A7 01        	lda	[<R0]
 22199 03:5B2E: 85 05        	sta	<R1
 22200 03:5B30: A0 02 00     	ldy	#$2
 22201 03:5B33: B7 01        	lda	[<R0],Y
 22202 03:5B35: 85 07        	sta	<R1+2
 22203 03:5B37: A0 D2 00     	ldy	#$d2
 22204 03:5B3A: B7 05        	lda	[<R1],Y
 22205 03:5B3C: 48           	pha
 22206 03:5B3D: A0 D0 00     	ldy	#$d0
 22207 03:5B40: B7 05        	lda	[<R1],Y
 22208 03:5B42: 48           	pha
  Mon Dec  7 2020 11:19                                                Page 410


 22209 03:5B43: 18           	clc
 22210 03:5B44: 7B           	tdc
 22211 03:5B45: 69 15 00     	adc	#<L956+r_1
 22212 03:5B48: 85 01        	sta	<R0
 22213 03:5B4A: A9 00 00     	lda	#$0
 22214 03:5B4D: 85 03        	sta	<R0+2
 22215 03:5B4F: D4 03        	pei	<R0+2
 22216 03:5B51: D4 01        	pei	<R0
 22217 03:5B53: A9 08 00     	lda	#$8
 22218                        	xref	~~~fmov
 22219 03:5B56: 22 xx xx xx  	jsl	~~~fmov
 22220                        ;			if(x >=r.x && x<(r.x+r.width))
 22221                        	.line	3788
 22222                        ;			{
 22223 03:5B5A: 38           	sec
 22224 03:5B5B: A5 24        	lda	<L955+x_0
 22225 03:5B5D: E5 15        	sbc	<L956+r_1
 22226 03:5B5F: 70 03        	bvs	L960
 22227 03:5B61: 49 00 80     	eor	#$8000
 22228                        L960:
 22229 03:5B64: 30 03        	bmi	L961
 22230 03:5B66: 82 46 00     	brl	L10413
 22231                        L961:
 22232 03:5B69: 18           	clc
 22233 03:5B6A: A5 15        	lda	<L956+r_1
 22234 03:5B6C: 65 19        	adc	<L956+r_1+4
 22235 03:5B6E: 85 01        	sta	<R0
 22236 03:5B70: 38           	sec
 22237 03:5B71: A5 24        	lda	<L955+x_0
 22238 03:5B73: E5 01        	sbc	<R0
 22239 03:5B75: 70 03        	bvs	L962
 22240 03:5B77: 49 00 80     	eor	#$8000
 22241                        L962:
 22242 03:5B7A: 10 03        	bpl	L963
 22243 03:5B7C: 82 30 00     	brl	L10413
 22244                        L963:
 22245                        	.line	3789
 22246                        ;				if(y >=r.y && y<(r.y+r.h
                    eight))
 22247                        	.line	3790
 22248                        ;				{
 22249 03:5B7F: 38           	sec
 22250 03:5B80: A5 26        	lda	<L955+y_0
 22251 03:5B82: E5 17        	sbc	<L956+r_1+2
 22252 03:5B84: 70 03        	bvs	L964
 22253 03:5B86: 49 00 80     	eor	#$8000
 22254                        L964:
 22255 03:5B89: 30 03        	bmi	L965
 22256 03:5B8B: 82 21 00     	brl	L10414
 22257                        L965:
 22258 03:5B8E: 18           	clc
 22259 03:5B8F: A5 17        	lda	<L956+r_1+2
 22260 03:5B91: 65 1B        	adc	<L956+r_1+6
 22261 03:5B93: 85 01        	sta	<R0
 22262 03:5B95: 38           	sec
 22263 03:5B96: A5 26        	lda	<L955+y_0
 22264 03:5B98: E5 01        	sbc	<R0
 22265 03:5B9A: 70 03        	bvs	L966
  Mon Dec  7 2020 11:19                                                Page 411


 22266 03:5B9C: 49 00 80     	eor	#$8000
 22267                        L966:
 22268 03:5B9F: 10 03        	bpl	L967
 22269 03:5BA1: 82 0B 00     	brl	L10414
 22270                        L967:
 22271                        	.line	3791
 22272                        ;					found = ptr;
 22273                        	.line	3792
 22274 03:5BA4: A5 11        	lda	<L956+ptr_1
 22275 03:5BA6: 85 09        	sta	<L956+found_1
 22276 03:5BA8: A5 13        	lda	<L956+ptr_1+2
 22277 03:5BAA: 85 0B        	sta	<L956+found_1+2
 22278                        ;					break;
 22279                        	.line	3793
 22280 03:5BAC: 82 19 00     	brl	L10412
 22281                        ;				}
 22282                        	.line	3794
 22283                        ;			}
 22284                        L10414:
 22285                        	.line	3795
 22286                        ;			ptr = ptr->next;
 22287                        L10413:
 22288                        	.line	3796
 22289 03:5BAF: A0 0A 00     	ldy	#$a
 22290 03:5BB2: B7 11        	lda	[<L956+ptr_1],Y
 22291 03:5BB4: 85 01        	sta	<R0
 22292 03:5BB6: A0 0C 00     	ldy	#$c
 22293 03:5BB9: B7 11        	lda	[<L956+ptr_1],Y
 22294 03:5BBB: 85 03        	sta	<R0+2
 22295 03:5BBD: A5 01        	lda	<R0
 22296 03:5BBF: 85 11        	sta	<L956+ptr_1
 22297 03:5BC1: A5 03        	lda	<R0+2
 22298 03:5BC3: 85 13        	sta	<L956+ptr_1+2
 22299                        ;		}
 22300                        	.line	3797
 22301 03:5BC5: 82 4D FF     	brl	L10411
 22302                        L10412:
 22303                        ;	}
 22304                        	.line	3798
 22305                        ;
 22306                        ;	return found;
 22307                        L10410:
 22308                        	.line	3800
 22309 03:5BC8: A6 0B        	ldx	<L956+found_1+2
 22310 03:5BCA: A5 09        	lda	<L956+found_1
 22311                        L968:
 22312 03:5BCC: A8           	tay
 22313 03:5BCD: A5 22        	lda	<L955+2
 22314 03:5BCF: 85 26        	sta	<L955+2+4
 22315 03:5BD1: A5 21        	lda	<L955+1
 22316 03:5BD3: 85 25        	sta	<L955+1+4
 22317 03:5BD5: 2B           	pld
 22318 03:5BD6: 3B           	tsc
 22319 03:5BD7: 18           	clc
 22320 03:5BD8: 69 24 00     	adc	#L955+4
 22321 03:5BDB: 1B           	tcs
 22322 03:5BDC: 98           	tya
 22323 03:5BDD: 6B           	rtl
  Mon Dec  7 2020 11:19                                                Page 412


 22324                        ;}
 22325                        	.line	3801
 22326                        	.endblock	3801
 22327             00000020   L955	equ	32
 22328             00000009   L956	equ	9
 22329 03:5BDE:              	ends
 22330                        	efunc
 22331                        	.endfunc	3801,9,32
 22332                        	.line	3801
 22333                        	data
 22334                        L954:
 22335 00:0D1F: 00           	db	$00
 22336 00:0D20:              	ends
 22337                        ;
 22338                        ;int k_point_in_list(int x,int y,PCLICKABLE clicka
                    bleList,int cSize)
 22339                        ;{
 22340                        	.line	3803
 22341                        	.line	3804
 22342                        	GUI
 22343                        	xdef	~~k_point_in_list
 22344                        	func
 22345                        	.function	3804
 22346                        ~~k_point_in_list:
 22347                        	longa	on
 22348                        	longi	on
 22349 03:5BDE: 3B           	tsc
 22350 03:5BDF: 38           	sec
 22351 03:5BE0: E9 14 00     	sbc	#L970
 22352 03:5BE3: 1B           	tcs
 22353 03:5BE4: 0B           	phd
 22354 03:5BE5: 5B           	tcd
 22355             00000004   x_0	set	4
 22356             00000006   y_0	set	6
 22357             00000008   clickableList_0	set	8
 22358             0000000C   cSize_0	set	12
 22359                        	.block	3804
 22360                        ;	RECT r;
 22361                        ;	int i = 0;
 22362                        ;	int index = -1;
 22363                        ;
 22364                        ;	for(i=0;i<cSize;i++)
 22365             00000000   r_1	set	0
 22366             00000008   i_1	set	8
 22367             0000000A   index_1	set	10
 22368                        	.sym	r,0,10,1,64,25
 22369                        	.sym	i,8,5,1,16
 22370                        	.sym	index,10,5,1,16
 22371                        	.sym	x,4,5,6,16
 22372                        	.sym	y,6,5,6,16
 22373                        	.sym	clickableList,8,138,6,32,27
 22374                        	.sym	cSize,12,5,6,16
 22375 03:5BE6: 64 11        	stz	<L971+i_1
 22376 03:5BE8: A9 FF FF     	lda	#$ffff
 22377 03:5BEB: 85 13        	sta	<L971+index_1
 22378                        	.line	3809
 22379 03:5BED: 64 11        	stz	<L971+i_1
 22380 03:5BEF: 82 99 00     	brl	L10418
  Mon Dec  7 2020 11:19                                                Page 413


 22381                        L10417:
 22382                        ;	{
 22383                        	.line	3810
 22384                        ;		r = clickableList[i].area;
 22385                        	.line	3811
 22386 03:5BF2: A0 00 00     	ldy	#$0
 22387 03:5BF5: A5 11        	lda	<L971+i_1
 22388 03:5BF7: 10 01        	bpl	L973
 22389 03:5BF9: 88           	dey
 22390                        L973:
 22391 03:5BFA: 85 01        	sta	<R0
 22392 03:5BFC: 84 03        	sty	<R0+2
 22393 03:5BFE: F4 00 00     	pea	#^$b
 22394 03:5C01: F4 0B 00     	pea	#<$b
 22395 03:5C04: D4 03        	pei	<R0+2
 22396 03:5C06: D4 01        	pei	<R0
 22397                        	xref	~~~lmul
 22398 03:5C08: 22 xx xx xx  	jsl	~~~lmul
 22399 03:5C0C: 85 01        	sta	<R0
 22400 03:5C0E: 86 03        	stx	<R0+2
 22401 03:5C10: 18           	clc
 22402 03:5C11: A5 1C        	lda	<L970+clickableList_0
 22403 03:5C13: 65 01        	adc	<R0
 22404 03:5C15: 85 05        	sta	<R1
 22405 03:5C17: A5 1E        	lda	<L970+clickableList_0+2
 22406 03:5C19: 65 03        	adc	<R0+2
 22407 03:5C1B: 85 07        	sta	<R1+2
 22408 03:5C1D: D4 07        	pei	<R1+2
 22409 03:5C1F: D4 05        	pei	<R1
 22410 03:5C21: 18           	clc
 22411 03:5C22: 7B           	tdc
 22412 03:5C23: 69 09 00     	adc	#<L971+r_1
 22413 03:5C26: 85 01        	sta	<R0
 22414 03:5C28: A9 00 00     	lda	#$0
 22415 03:5C2B: 85 03        	sta	<R0+2
 22416 03:5C2D: D4 03        	pei	<R0+2
 22417 03:5C2F: D4 01        	pei	<R0
 22418 03:5C31: A9 08 00     	lda	#$8
 22419                        	xref	~~~fmov
 22420 03:5C34: 22 xx xx xx  	jsl	~~~fmov
 22421                        ;		if(x >=r.x && x<(r.x+r.width))
 22422                        	.line	3812
 22423                        ;		{
 22424 03:5C38: 38           	sec
 22425 03:5C39: A5 18        	lda	<L970+x_0
 22426 03:5C3B: E5 09        	sbc	<L971+r_1
 22427 03:5C3D: 70 03        	bvs	L974
 22428 03:5C3F: 49 00 80     	eor	#$8000
 22429                        L974:
 22430 03:5C42: 30 03        	bmi	L975
 22431 03:5C44: 82 42 00     	brl	L10419
 22432                        L975:
 22433 03:5C47: 18           	clc
 22434 03:5C48: A5 09        	lda	<L971+r_1
 22435 03:5C4A: 65 0D        	adc	<L971+r_1+4
 22436 03:5C4C: 85 01        	sta	<R0
 22437 03:5C4E: 38           	sec
 22438 03:5C4F: A5 18        	lda	<L970+x_0
  Mon Dec  7 2020 11:19                                                Page 414


 22439 03:5C51: E5 01        	sbc	<R0
 22440 03:5C53: 70 03        	bvs	L976
 22441 03:5C55: 49 00 80     	eor	#$8000
 22442                        L976:
 22443 03:5C58: 10 03        	bpl	L977
 22444 03:5C5A: 82 2C 00     	brl	L10419
 22445                        L977:
 22446                        	.line	3813
 22447                        ;			if(y >=r.y && y<(r.y+r.height))
 22448                        	.line	3814
 22449                        ;			{
 22450 03:5C5D: 38           	sec
 22451 03:5C5E: A5 1A        	lda	<L970+y_0
 22452 03:5C60: E5 0B        	sbc	<L971+r_1+2
 22453 03:5C62: 70 03        	bvs	L978
 22454 03:5C64: 49 00 80     	eor	#$8000
 22455                        L978:
 22456 03:5C67: 30 03        	bmi	L979
 22457 03:5C69: 82 1D 00     	brl	L10420
 22458                        L979:
 22459 03:5C6C: 18           	clc
 22460 03:5C6D: A5 0B        	lda	<L971+r_1+2
 22461 03:5C6F: 65 0F        	adc	<L971+r_1+6
 22462 03:5C71: 85 01        	sta	<R0
 22463 03:5C73: 38           	sec
 22464 03:5C74: A5 1A        	lda	<L970+y_0
 22465 03:5C76: E5 01        	sbc	<R0
 22466 03:5C78: 70 03        	bvs	L980
 22467 03:5C7A: 49 00 80     	eor	#$8000
 22468                        L980:
 22469 03:5C7D: 10 03        	bpl	L981
 22470 03:5C7F: 82 07 00     	brl	L10420
 22471                        L981:
 22472                        	.line	3815
 22473                        ;				index = i;
 22474                        	.line	3816
 22475 03:5C82: A5 11        	lda	<L971+i_1
 22476 03:5C84: 85 13        	sta	<L971+index_1
 22477                        ;				//clickableList[i].depth
                     = 1;
 22478                        ;				break;
 22479                        	.line	3818
 22480 03:5C86: 82 11 00     	brl	L10416
 22481                        ;			}
 22482                        	.line	3819
 22483                        ;		}
 22484                        L10420:
 22485                        	.line	3820
 22486                        ;	}
 22487                        L10419:
 22488                        	.line	3821
 22489                        L10415:
 22490 03:5C89: E6 11        	inc	<L971+i_1
 22491                        L10418:
 22492 03:5C8B: 38           	sec
 22493 03:5C8C: A5 11        	lda	<L971+i_1
 22494 03:5C8E: E5 20        	sbc	<L970+cSize_0
 22495 03:5C90: 70 03        	bvs	L982
  Mon Dec  7 2020 11:19                                                Page 415


 22496 03:5C92: 49 00 80     	eor	#$8000
 22497                        L982:
 22498 03:5C95: 30 03        	bmi	L983
 22499 03:5C97: 82 58 FF     	brl	L10417
 22500                        L983:
 22501                        L10416:
 22502                        ;
 22503                        ;	return index;
 22504                        	.line	3823
 22505 03:5C9A: A5 13        	lda	<L971+index_1
 22506                        L984:
 22507 03:5C9C: A8           	tay
 22508 03:5C9D: A5 16        	lda	<L970+2
 22509 03:5C9F: 85 20        	sta	<L970+2+10
 22510 03:5CA1: A5 15        	lda	<L970+1
 22511 03:5CA3: 85 1F        	sta	<L970+1+10
 22512 03:5CA5: 2B           	pld
 22513 03:5CA6: 3B           	tsc
 22514 03:5CA7: 18           	clc
 22515 03:5CA8: 69 1E 00     	adc	#L970+10
 22516 03:5CAB: 1B           	tcs
 22517 03:5CAC: 98           	tya
 22518 03:5CAD: 6B           	rtl
 22519                        ;}
 22520                        	.line	3824
 22521                        	.endblock	3824
 22522             00000014   L970	equ	20
 22523             00000009   L971	equ	9
 22524 03:5CAE:              	ends
 22525                        	efunc
 22526                        	.endfunc	3824,9,20
 22527                        	.line	3824
 22528                        ;
 22529                        ;PMENU k_create_context_menus(PWINDOW pWin,int cx,
                    int cy,int width,int height,PMENUDROPDOWNDATA menus,int colo
                    r, int bgcolor)
 22530                        ;{
 22531                        	.line	3826
 22532                        	.line	3827
 22533                        	GUI
 22534                        	xdef	~~k_create_context_menus
 22535                        	func
 22536                        	.function	3827
 22537                        ~~k_create_context_menus:
 22538                        	longa	on
 22539                        	longi	on
 22540 03:5CAE: 3B           	tsc
 22541 03:5CAF: 38           	sec
 22542 03:5CB0: E9 2C 00     	sbc	#L985
 22543 03:5CB3: 1B           	tcs
 22544 03:5CB4: 0B           	phd
 22545 03:5CB5: 5B           	tcd
 22546             00000004   pWin_0	set	4
 22547             00000008   cx_0	set	8
 22548             0000000A   cy_0	set	10
 22549             0000000C   width_0	set	12
 22550             0000000E   height_0	set	14
 22551             00000010   menus_0	set	16
  Mon Dec  7 2020 11:19                                                Page 416


 22552             00000014   color_0	set	20
 22553             00000016   bgcolor_0	set	22
 22554                        	.block	3827
 22555                        ;	FONTMETRIC metric;
 22556                        ;
 22557                        ;	int i = 0;
 22558                        ;	int hy = 0;
 22559                        ;	LPCSTR caption = NULL;
 22560                        ;
 22561                        ;	int borderTitle = 10;
 22562                        ;	int borderWidth = 3;
 22563                        ;
 22564                        ;	int titleOffsetX = cx+4;
 22565                        ;	int titleOffsetY = cy+2;
 22566                        ;	int titleScaler = 0;
 22567                        ;
 22568                        ;	int clientOffsetX = cx+borderWidth+2;
 22569                        ;	int clientOffsetY = cy+borderTitle+1;
 22570                        ;
 22571                        ;	int endX = width + cx - borderWidth;
 22572                        ;
 22573                        ;
 22574                        ;	k_debug_string("k_create_context_menu:fill\r\n")
                    ;
 22575             00000000   metric_1	set	0
 22576             00000004   i_1	set	4
 22577             00000006   hy_1	set	6
 22578             00000008   caption_1	set	8
 22579             0000000C   borderTitle_1	set	12
 22580             0000000E   borderWidth_1	set	14
 22581             00000010   titleOffsetX_1	set	16
 22582             00000012   titleOffsetY_1	set	18
 22583             00000014   titleScaler_1	set	20
 22584             00000016   clientOffsetX_1	set	22
 22585             00000018   clientOffsetY_1	set	24
 22586             0000001A   endX_1	set	26
 22587                        	.sym	metric,0,10,1,32,32
 22588                        	.sym	i,4,5,1,16
 22589                        	.sym	hy,6,5,1,16
 22590                        	.sym	caption,8,142,1,32
 22591                        	.sym	borderTitle,12,5,1,16
 22592                        	.sym	borderWidth,14,5,1,16
 22593                        	.sym	titleOffsetX,16,5,1,16
 22594                        	.sym	titleOffsetY,18,5,1,16
 22595                        	.sym	titleScaler,20,5,1,16
 22596                        	.sym	clientOffsetX,22,5,1,16
 22597                        	.sym	clientOffsetY,24,5,1,16
 22598                        	.sym	endX,26,5,1,16
 22599                        	.sym	pWin,4,138,6,32,30
 22600                        	.sym	cx,8,5,6,16
 22601                        	.sym	cy,10,5,6,16
 22602                        	.sym	width,12,5,6,16
 22603                        	.sym	height,14,5,6,16
 22604                        	.sym	menus,16,138,6,32,36
 22605                        	.sym	color,20,5,6,16
 22606                        	.sym	bgcolor,22,5,6,16
 22607 03:5CB6: 64 15        	stz	<L986+i_1
 22608 03:5CB8: 64 17        	stz	<L986+hy_1
  Mon Dec  7 2020 11:19                                                Page 417


 22609 03:5CBA: 64 19        	stz	<L986+caption_1
 22610 03:5CBC: 64 1B        	stz	<L986+caption_1+2
 22611 03:5CBE: A9 0A 00     	lda	#$a
 22612 03:5CC1: 85 1D        	sta	<L986+borderTitle_1
 22613 03:5CC3: A9 03 00     	lda	#$3
 22614 03:5CC6: 85 1F        	sta	<L986+borderWidth_1
 22615 03:5CC8: 18           	clc
 22616 03:5CC9: A9 04 00     	lda	#$4
 22617 03:5CCC: 65 34        	adc	<L985+cx_0
 22618 03:5CCE: 85 21        	sta	<L986+titleOffsetX_1
 22619 03:5CD0: 18           	clc
 22620 03:5CD1: A9 02 00     	lda	#$2
 22621 03:5CD4: 65 36        	adc	<L985+cy_0
 22622 03:5CD6: 85 23        	sta	<L986+titleOffsetY_1
 22623 03:5CD8: 64 25        	stz	<L986+titleScaler_1
 22624 03:5CDA: 18           	clc
 22625 03:5CDB: A5 34        	lda	<L985+cx_0
 22626 03:5CDD: 65 1F        	adc	<L986+borderWidth_1
 22627 03:5CDF: 85 01        	sta	<R0
 22628 03:5CE1: 18           	clc
 22629 03:5CE2: A9 02 00     	lda	#$2
 22630 03:5CE5: 65 01        	adc	<R0
 22631 03:5CE7: 85 27        	sta	<L986+clientOffsetX_1
 22632 03:5CE9: 18           	clc
 22633 03:5CEA: A5 36        	lda	<L985+cy_0
 22634 03:5CEC: 65 1D        	adc	<L986+borderTitle_1
 22635 03:5CEE: 85 01        	sta	<R0
 22636 03:5CF0: A5 01        	lda	<R0
 22637 03:5CF2: 1A           	ina
 22638 03:5CF3: 85 29        	sta	<L986+clientOffsetY_1
 22639 03:5CF5: 18           	clc
 22640 03:5CF6: A5 38        	lda	<L985+width_0
 22641 03:5CF8: 65 34        	adc	<L985+cx_0
 22642 03:5CFA: 85 01        	sta	<R0
 22643 03:5CFC: 38           	sec
 22644 03:5CFD: A5 01        	lda	<R0
 22645 03:5CFF: E5 1F        	sbc	<L986+borderWidth_1
 22646 03:5D01: 85 2B        	sta	<L986+endX_1
 22647                        	.line	3847
 22648 03:5D03: F4 xx xx     	pea	#^L969
 22649 03:5D06: F4 xx xx     	pea	#<L969
 22650 03:5D09: 22 xx xx xx  	jsl	~~k_debug_string
 22651                        ;
 22652                        ;	k_scratch_save_bitblt(cx,cy, width, height, 0, 0
                    );
 22653                        	.line	3849
 22654 03:5D0D: F4 00 00     	pea	#<$0
 22655 03:5D10: F4 00 00     	pea	#<$0
 22656 03:5D13: D4 3A        	pei	<L985+height_0
 22657 03:5D15: D4 38        	pei	<L985+width_0
 22658 03:5D17: D4 36        	pei	<L985+cy_0
 22659 03:5D19: D4 34        	pei	<L985+cx_0
 22660 03:5D1B: 22 76 6E 03  	jsl	~~k_scratch_save_bitblt
 22661                        ;
 22662                        ;	//k_vdma_fill_rect(cx,cy,width,height,0);
 22663                        ;	//k_vdma_fill_rect(cx+2,cy,width-2,height-2,bgco
                    lor);
 22664                        ;	//k_vdma_fill_rect(cx+1,cy+1,width -1 ,height - 
  Mon Dec  7 2020 11:19                                                Page 418


                    1,bgcolor);
 22665                        ;	k_vdma_fill_rect(cx,cy,width,height,bgcolor);
 22666                        	.line	3854
 22667 03:5D1F: D4 42        	pei	<L985+bgcolor_0
 22668 03:5D21: D4 3A        	pei	<L985+height_0
 22669 03:5D23: D4 38        	pei	<L985+width_0
 22670 03:5D25: A0 00 00     	ldy	#$0
 22671 03:5D28: A5 36        	lda	<L985+cy_0
 22672 03:5D2A: 10 01        	bpl	L988
 22673 03:5D2C: 88           	dey
 22674                        L988:
 22675 03:5D2D: 85 01        	sta	<R0
 22676 03:5D2F: 84 03        	sty	<R0+2
 22677 03:5D31: D4 03        	pei	<R0+2
 22678 03:5D33: D4 01        	pei	<R0
 22679 03:5D35: A0 00 00     	ldy	#$0
 22680 03:5D38: A5 34        	lda	<L985+cx_0
 22681 03:5D3A: 10 01        	bpl	L989
 22682 03:5D3C: 88           	dey
 22683                        L989:
 22684 03:5D3D: 85 05        	sta	<R1
 22685 03:5D3F: 84 07        	sty	<R1+2
 22686 03:5D41: D4 07        	pei	<R1+2
 22687 03:5D43: D4 05        	pei	<R1
 22688 03:5D45: 22 49 51 03  	jsl	~~k_vdma_fill_rect
 22689                        ;
 22690                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 22691                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 22692                        ;	i = 0;
 22693                        	.line	3858
 22694 03:5D49: 64 15        	stz	<L986+i_1
 22695                        ;	caption = menus->captions[i];
 22696                        	.line	3859
 22697 03:5D4B: A0 00 00     	ldy	#$0
 22698 03:5D4E: A5 15        	lda	<L986+i_1
 22699 03:5D50: 10 01        	bpl	L990
 22700 03:5D52: 88           	dey
 22701                        L990:
 22702 03:5D53: 85 05        	sta	<R1
 22703 03:5D55: 84 07        	sty	<R1+2
 22704 03:5D57: D4 07        	pei	<R1+2
 22705 03:5D59: D4 05        	pei	<R1
 22706 03:5D5B: A9 02 00     	lda	#$2
 22707                        	xref	~~~lasl
 22708 03:5D5E: 22 xx xx xx  	jsl	~~~lasl
 22709 03:5D62: 85 01        	sta	<R0
 22710 03:5D64: 86 03        	stx	<R0+2
 22711 03:5D66: 18           	clc
 22712 03:5D67: A9 0C 00     	lda	#$c
 22713 03:5D6A: 65 3C        	adc	<L985+menus_0
 22714 03:5D6C: 85 09        	sta	<R2
 22715 03:5D6E: A9 00 00     	lda	#$0
 22716 03:5D71: 65 3E        	adc	<L985+menus_0+2
 22717 03:5D73: 85 0B        	sta	<R2+2
 22718 03:5D75: 18           	clc
 22719 03:5D76: A5 09        	lda	<R2
  Mon Dec  7 2020 11:19                                                Page 419


 22720 03:5D78: 65 01        	adc	<R0
 22721 03:5D7A: 85 0D        	sta	<R3
 22722 03:5D7C: A5 0B        	lda	<R2+2
 22723 03:5D7E: 65 03        	adc	<R0+2
 22724 03:5D80: 85 0F        	sta	<R3+2
 22725 03:5D82: A7 0D        	lda	[<R3]
 22726 03:5D84: 85 19        	sta	<L986+caption_1
 22727 03:5D86: A0 02 00     	ldy	#$2
 22728 03:5D89: B7 0D        	lda	[<R3],Y
 22729 03:5D8B: 85 1B        	sta	<L986+caption_1+2
 22730                        ;	while(caption!=NULL)
 22731                        	.line	3860
 22732                        L10421:
 22733 03:5D8D: A5 19        	lda	<L986+caption_1
 22734 03:5D8F: 05 1B        	ora	<L986+caption_1+2
 22735 03:5D91: D0 03        	bne	L991
 22736 03:5D93: 82 7A 00     	brl	L10422
 22737                        L991:
 22738                        ;	{
 22739                        	.line	3861
 22740                        ;		k_debug_strings("k_create_context_menu:c
                    aption:",(LPCHAR)caption);
 22741                        	.line	3862
 22742 03:5D96: D4 1B        	pei	<L986+caption_1+2
 22743 03:5D98: D4 19        	pei	<L986+caption_1
 22744 03:5D9A: F4 xx xx     	pea	#^L969+29
 22745 03:5D9D: F4 xx xx     	pea	#<L969+29
 22746 03:5DA0: 22 xx xx xx  	jsl	~~k_debug_strings
 22747                        ;
 22748                        ;		//caption = strupr(caption);
 22749                        ;		hy = k_draw_text_point(caption,titleOffs
                    etX,titleOffsetY,color);
 22750                        	.line	3865
 22751 03:5DA4: D4 40        	pei	<L985+color_0
 22752 03:5DA6: D4 23        	pei	<L986+titleOffsetY_1
 22753 03:5DA8: D4 21        	pei	<L986+titleOffsetX_1
 22754 03:5DAA: D4 1B        	pei	<L986+caption_1+2
 22755 03:5DAC: D4 19        	pei	<L986+caption_1
 22756 03:5DAE: 22 62 1A 03  	jsl	~~k_draw_text_point
 22757 03:5DB2: 85 17        	sta	<L986+hy_1
 22758                        ;		titleOffsetY+=(FONTH + 2);
 22759                        	.line	3866
 22760 03:5DB4: 22 E8 71 03  	jsl	~~k_font_getFontHeight
 22761 03:5DB8: 85 01        	sta	<R0
 22762 03:5DBA: 18           	clc
 22763 03:5DBB: A5 01        	lda	<R0
 22764 03:5DBD: 65 23        	adc	<L986+titleOffsetY_1
 22765 03:5DBF: 85 05        	sta	<R1
 22766 03:5DC1: 18           	clc
 22767 03:5DC2: A9 02 00     	lda	#$2
 22768 03:5DC5: 65 05        	adc	<R1
 22769 03:5DC7: 85 23        	sta	<L986+titleOffsetY_1
 22770                        ;		i++;
 22771                        	.line	3867
 22772 03:5DC9: E6 15        	inc	<L986+i_1
 22773                        ;		caption = menus->captions[i];
 22774                        	.line	3868
 22775 03:5DCB: A0 00 00     	ldy	#$0
  Mon Dec  7 2020 11:19                                                Page 420


 22776 03:5DCE: A5 15        	lda	<L986+i_1
 22777 03:5DD0: 10 01        	bpl	L992
 22778 03:5DD2: 88           	dey
 22779                        L992:
 22780 03:5DD3: 85 05        	sta	<R1
 22781 03:5DD5: 84 07        	sty	<R1+2
 22782 03:5DD7: D4 07        	pei	<R1+2
 22783 03:5DD9: D4 05        	pei	<R1
 22784 03:5DDB: A9 02 00     	lda	#$2
 22785                        	xref	~~~lasl
 22786 03:5DDE: 22 xx xx xx  	jsl	~~~lasl
 22787 03:5DE2: 85 01        	sta	<R0
 22788 03:5DE4: 86 03        	stx	<R0+2
 22789 03:5DE6: 18           	clc
 22790 03:5DE7: A9 0C 00     	lda	#$c
 22791 03:5DEA: 65 3C        	adc	<L985+menus_0
 22792 03:5DEC: 85 09        	sta	<R2
 22793 03:5DEE: A9 00 00     	lda	#$0
 22794 03:5DF1: 65 3E        	adc	<L985+menus_0+2
 22795 03:5DF3: 85 0B        	sta	<R2+2
 22796 03:5DF5: 18           	clc
 22797 03:5DF6: A5 09        	lda	<R2
 22798 03:5DF8: 65 01        	adc	<R0
 22799 03:5DFA: 85 0D        	sta	<R3
 22800 03:5DFC: A5 0B        	lda	<R2+2
 22801 03:5DFE: 65 03        	adc	<R0+2
 22802 03:5E00: 85 0F        	sta	<R3+2
 22803 03:5E02: A7 0D        	lda	[<R3]
 22804 03:5E04: 85 19        	sta	<L986+caption_1
 22805 03:5E06: A0 02 00     	ldy	#$2
 22806 03:5E09: B7 0D        	lda	[<R3],Y
 22807 03:5E0B: 85 1B        	sta	<L986+caption_1+2
 22808                        ;	}
 22809                        	.line	3869
 22810 03:5E0D: 82 7D FF     	brl	L10421
 22811                        L10422:
 22812                        ;
 22813                        ;	return NULL;
 22814                        	.line	3871
 22815 03:5E10: A9 00 00     	lda	#$0
 22816 03:5E13: AA           	tax
 22817 03:5E14: A9 00 00     	lda	#$0
 22818                        L993:
 22819 03:5E17: A8           	tay
 22820 03:5E18: A5 2E        	lda	<L985+2
 22821 03:5E1A: 85 42        	sta	<L985+2+20
 22822 03:5E1C: A5 2D        	lda	<L985+1
 22823 03:5E1E: 85 41        	sta	<L985+1+20
 22824 03:5E20: 2B           	pld
 22825 03:5E21: 3B           	tsc
 22826 03:5E22: 18           	clc
 22827 03:5E23: 69 40 00     	adc	#L985+20
 22828 03:5E26: 1B           	tcs
 22829 03:5E27: 98           	tya
 22830 03:5E28: 6B           	rtl
 22831                        ;}
 22832                        	.line	3872
 22833                        	.endblock	3872
  Mon Dec  7 2020 11:19                                                Page 421


 22834             0000002C   L985	equ	44
 22835             00000011   L986	equ	17
 22836 03:5E29:              	ends
 22837                        	efunc
 22838                        	.endfunc	3872,17,44
 22839                        	.line	3872
 22840                        	data
 22841                        L969:
 22842 00:0D20: 6B 5F 63 72  	db	$6B,$5F,$63,$72,$65,$61,$74,$65,$5F,$63,
                    $6F,$6E,$74,$65,$78
       00:0D24: 65 61 74 65 
       00:0D28: 5F 63 6F 6E 
       00:0D2C: 74 65 78 
 22843 00:0D2F: 74 5F 6D 65  	db	$74,$5F,$6D,$65,$6E,$75,$3A,$66,$69,$6C,
                    $6C,$0D,$0A,$00,$6B
       00:0D33: 6E 75 3A 66 
       00:0D37: 69 6C 6C 0D 
       00:0D3B: 0A 00 6B 
 22844 00:0D3E: 5F 63 72 65  	db	$5F,$63,$72,$65,$61,$74,$65,$5F,$63,$6F,
                    $6E,$74,$65,$78,$74
       00:0D42: 61 74 65 5F 
       00:0D46: 63 6F 6E 74 
       00:0D4A: 65 78 74 
 22845 00:0D4D: 5F 6D 65 6E  	db	$5F,$6D,$65,$6E,$75,$3A,$63,$61,$70,$74,
                    $69,$6F,$6E,$3A,$00
       00:0D51: 75 3A 63 61 
       00:0D55: 70 74 69 6F 
       00:0D59: 6E 3A 00 
 22846 00:0D5C:              	ends
 22847                        ;
 22848                        ;PMENU k_create_context_menu(int cx,int cy,int wid
                    th,int height,char FAR **captions,int color, int bgcolor)
 22849                        ;{
 22850                        	.line	3874
 22851                        	.line	3875
 22852                        	GUI
 22853                        	xdef	~~k_create_context_menu
 22854                        	func
 22855                        	.function	3875
 22856                        ~~k_create_context_menu:
 22857                        	longa	on
 22858                        	longi	on
 22859 03:5E29: 3B           	tsc
 22860 03:5E2A: 38           	sec
 22861 03:5E2B: E9 28 00     	sbc	#L995
 22862 03:5E2E: 1B           	tcs
 22863 03:5E2F: 0B           	phd
 22864 03:5E30: 5B           	tcd
 22865             00000004   cx_0	set	4
 22866             00000006   cy_0	set	6
 22867             00000008   width_0	set	8
 22868             0000000A   height_0	set	10
 22869             0000000C   captions_0	set	12
 22870             00000010   color_0	set	16
 22871             00000012   bgcolor_0	set	18
 22872                        	.block	3875
 22873                        ;	FONTMETRIC metric;
 22874                        ;
  Mon Dec  7 2020 11:19                                                Page 422


 22875                        ;	int i = 0;
 22876                        ;	int hy = 0;
 22877                        ;	char FAR *caption = NULL;
 22878                        ;
 22879                        ;	int borderTitle = 10;
 22880                        ;	int borderWidth = 3;
 22881                        ;
 22882                        ;	int titleOffsetX = cx+4;
 22883                        ;	int titleOffsetY = cy+2;
 22884                        ;	int titleScaler = 0;
 22885                        ;
 22886                        ;	int clientOffsetX = cx+borderWidth+2;
 22887                        ;	int clientOffsetY = cy+borderTitle+1;
 22888                        ;
 22889                        ;	int endX = width + cx - borderWidth;
 22890                        ;
 22891                        ;
 22892                        ;	k_debug_string("k_create_context_menu:fill\r\n")
                    ;
 22893             00000000   metric_1	set	0
 22894             00000004   i_1	set	4
 22895             00000006   hy_1	set	6
 22896             00000008   caption_1	set	8
 22897             0000000C   borderTitle_1	set	12
 22898             0000000E   borderWidth_1	set	14
 22899             00000010   titleOffsetX_1	set	16
 22900             00000012   titleOffsetY_1	set	18
 22901             00000014   titleScaler_1	set	20
 22902             00000016   clientOffsetX_1	set	22
 22903             00000018   clientOffsetY_1	set	24
 22904             0000001A   endX_1	set	26
 22905                        	.sym	metric,0,10,1,32,32
 22906                        	.sym	i,4,5,1,16
 22907                        	.sym	hy,6,5,1,16
 22908                        	.sym	caption,8,142,1,32
 22909                        	.sym	borderTitle,12,5,1,16
 22910                        	.sym	borderWidth,14,5,1,16
 22911                        	.sym	titleOffsetX,16,5,1,16
 22912                        	.sym	titleOffsetY,18,5,1,16
 22913                        	.sym	titleScaler,20,5,1,16
 22914                        	.sym	clientOffsetX,22,5,1,16
 22915                        	.sym	clientOffsetY,24,5,1,16
 22916                        	.sym	endX,26,5,1,16
 22917                        	.sym	cx,4,5,6,16
 22918                        	.sym	cy,6,5,6,16
 22919                        	.sym	width,8,5,6,16
 22920                        	.sym	height,10,5,6,16
 22921                        	.sym	captions,12,1166,6,32
 22922                        	.sym	color,16,5,6,16
 22923                        	.sym	bgcolor,18,5,6,16
 22924 03:5E31: 64 11        	stz	<L996+i_1
 22925 03:5E33: 64 13        	stz	<L996+hy_1
 22926 03:5E35: 64 15        	stz	<L996+caption_1
 22927 03:5E37: 64 17        	stz	<L996+caption_1+2
 22928 03:5E39: A9 0A 00     	lda	#$a
 22929 03:5E3C: 85 19        	sta	<L996+borderTitle_1
 22930 03:5E3E: A9 03 00     	lda	#$3
 22931 03:5E41: 85 1B        	sta	<L996+borderWidth_1
  Mon Dec  7 2020 11:19                                                Page 423


 22932 03:5E43: 18           	clc
 22933 03:5E44: A9 04 00     	lda	#$4
 22934 03:5E47: 65 2C        	adc	<L995+cx_0
 22935 03:5E49: 85 1D        	sta	<L996+titleOffsetX_1
 22936 03:5E4B: 18           	clc
 22937 03:5E4C: A9 02 00     	lda	#$2
 22938 03:5E4F: 65 2E        	adc	<L995+cy_0
 22939 03:5E51: 85 1F        	sta	<L996+titleOffsetY_1
 22940 03:5E53: 64 21        	stz	<L996+titleScaler_1
 22941 03:5E55: 18           	clc
 22942 03:5E56: A5 2C        	lda	<L995+cx_0
 22943 03:5E58: 65 1B        	adc	<L996+borderWidth_1
 22944 03:5E5A: 85 01        	sta	<R0
 22945 03:5E5C: 18           	clc
 22946 03:5E5D: A9 02 00     	lda	#$2
 22947 03:5E60: 65 01        	adc	<R0
 22948 03:5E62: 85 23        	sta	<L996+clientOffsetX_1
 22949 03:5E64: 18           	clc
 22950 03:5E65: A5 2E        	lda	<L995+cy_0
 22951 03:5E67: 65 19        	adc	<L996+borderTitle_1
 22952 03:5E69: 85 01        	sta	<R0
 22953 03:5E6B: A5 01        	lda	<R0
 22954 03:5E6D: 1A           	ina
 22955 03:5E6E: 85 25        	sta	<L996+clientOffsetY_1
 22956 03:5E70: 18           	clc
 22957 03:5E71: A5 30        	lda	<L995+width_0
 22958 03:5E73: 65 2C        	adc	<L995+cx_0
 22959 03:5E75: 85 01        	sta	<R0
 22960 03:5E77: 38           	sec
 22961 03:5E78: A5 01        	lda	<R0
 22962 03:5E7A: E5 1B        	sbc	<L996+borderWidth_1
 22963 03:5E7C: 85 27        	sta	<L996+endX_1
 22964                        	.line	3895
 22965 03:5E7E: F4 xx xx     	pea	#^L994
 22966 03:5E81: F4 xx xx     	pea	#<L994
 22967 03:5E84: 22 xx xx xx  	jsl	~~k_debug_string
 22968                        ;
 22969                        ;	k_scratch_save_bitblt(cx,cy, width, height, 0, 0
                    );
 22970                        	.line	3897
 22971 03:5E88: F4 00 00     	pea	#<$0
 22972 03:5E8B: F4 00 00     	pea	#<$0
 22973 03:5E8E: D4 32        	pei	<L995+height_0
 22974 03:5E90: D4 30        	pei	<L995+width_0
 22975 03:5E92: D4 2E        	pei	<L995+cy_0
 22976 03:5E94: D4 2C        	pei	<L995+cx_0
 22977 03:5E96: 22 76 6E 03  	jsl	~~k_scratch_save_bitblt
 22978                        ;
 22979                        ;	//k_vdma_fill_rect(cx,cy,width,height,0);
 22980                        ;	//k_vdma_fill_rect(cx+2,cy,width-2,height-2,bgco
                    lor);
 22981                        ;	//k_vdma_fill_rect(cx+1,cy+1,width -1 ,height - 
                    1,bgcolor);
 22982                        ;	k_vdma_fill_rect(cx,cy,width,height,bgcolor);
 22983                        	.line	3902
 22984 03:5E9A: D4 3A        	pei	<L995+bgcolor_0
 22985 03:5E9C: D4 32        	pei	<L995+height_0
 22986 03:5E9E: D4 30        	pei	<L995+width_0
  Mon Dec  7 2020 11:19                                                Page 424


 22987 03:5EA0: A0 00 00     	ldy	#$0
 22988 03:5EA3: A5 2E        	lda	<L995+cy_0
 22989 03:5EA5: 10 01        	bpl	L998
 22990 03:5EA7: 88           	dey
 22991                        L998:
 22992 03:5EA8: 85 01        	sta	<R0
 22993 03:5EAA: 84 03        	sty	<R0+2
 22994 03:5EAC: D4 03        	pei	<R0+2
 22995 03:5EAE: D4 01        	pei	<R0
 22996 03:5EB0: A0 00 00     	ldy	#$0
 22997 03:5EB3: A5 2C        	lda	<L995+cx_0
 22998 03:5EB5: 10 01        	bpl	L999
 22999 03:5EB7: 88           	dey
 23000                        L999:
 23001 03:5EB8: 85 05        	sta	<R1
 23002 03:5EBA: 84 07        	sty	<R1+2
 23003 03:5EBC: D4 07        	pei	<R1+2
 23004 03:5EBE: D4 05        	pei	<R1
 23005 03:5EC0: 22 49 51 03  	jsl	~~k_vdma_fill_rect
 23006                        ;
 23007                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 23008                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 23009                        ;	i = 0;
 23010                        	.line	3906
 23011 03:5EC4: 64 11        	stz	<L996+i_1
 23012                        ;	caption = captions[i];
 23013                        	.line	3907
 23014 03:5EC6: A0 00 00     	ldy	#$0
 23015 03:5EC9: A5 11        	lda	<L996+i_1
 23016 03:5ECB: 10 01        	bpl	L1000
 23017 03:5ECD: 88           	dey
 23018                        L1000:
 23019 03:5ECE: 85 05        	sta	<R1
 23020 03:5ED0: 84 07        	sty	<R1+2
 23021 03:5ED2: D4 07        	pei	<R1+2
 23022 03:5ED4: D4 05        	pei	<R1
 23023 03:5ED6: A9 02 00     	lda	#$2
 23024                        	xref	~~~lasl
 23025 03:5ED9: 22 xx xx xx  	jsl	~~~lasl
 23026 03:5EDD: 85 01        	sta	<R0
 23027 03:5EDF: 86 03        	stx	<R0+2
 23028 03:5EE1: 18           	clc
 23029 03:5EE2: A5 34        	lda	<L995+captions_0
 23030 03:5EE4: 65 01        	adc	<R0
 23031 03:5EE6: 85 09        	sta	<R2
 23032 03:5EE8: A5 36        	lda	<L995+captions_0+2
 23033 03:5EEA: 65 03        	adc	<R0+2
 23034 03:5EEC: 85 0B        	sta	<R2+2
 23035 03:5EEE: A7 09        	lda	[<R2]
 23036 03:5EF0: 85 15        	sta	<L996+caption_1
 23037 03:5EF2: A0 02 00     	ldy	#$2
 23038 03:5EF5: B7 09        	lda	[<R2],Y
 23039 03:5EF7: 85 17        	sta	<L996+caption_1+2
 23040                        ;	while(caption!=NULL)
 23041                        	.line	3908
 23042                        L10423:
  Mon Dec  7 2020 11:19                                                Page 425


 23043 03:5EF9: A5 15        	lda	<L996+caption_1
 23044 03:5EFB: 05 17        	ora	<L996+caption_1+2
 23045 03:5EFD: D0 03        	bne	L1001
 23046 03:5EFF: 82 6B 00     	brl	L10424
 23047                        L1001:
 23048                        ;	{
 23049                        	.line	3909
 23050                        ;		k_debug_strings("k_create_context_menu:c
                    aption:",caption);
 23051                        	.line	3910
 23052 03:5F02: D4 17        	pei	<L996+caption_1+2
 23053 03:5F04: D4 15        	pei	<L996+caption_1
 23054 03:5F06: F4 xx xx     	pea	#^L994+29
 23055 03:5F09: F4 xx xx     	pea	#<L994+29
 23056 03:5F0C: 22 xx xx xx  	jsl	~~k_debug_strings
 23057                        ;
 23058                        ;		//caption = strupr(caption);
 23059                        ;		hy = k_draw_text_point(caption,titleOffs
                    etX,titleOffsetY,color);
 23060                        	.line	3913
 23061 03:5F10: D4 38        	pei	<L995+color_0
 23062 03:5F12: D4 1F        	pei	<L996+titleOffsetY_1
 23063 03:5F14: D4 1D        	pei	<L996+titleOffsetX_1
 23064 03:5F16: D4 17        	pei	<L996+caption_1+2
 23065 03:5F18: D4 15        	pei	<L996+caption_1
 23066 03:5F1A: 22 62 1A 03  	jsl	~~k_draw_text_point
 23067 03:5F1E: 85 13        	sta	<L996+hy_1
 23068                        ;
 23069                        ;		titleOffsetY+=(FONTH + 2);
 23070                        	.line	3915
 23071 03:5F20: 22 E8 71 03  	jsl	~~k_font_getFontHeight
 23072 03:5F24: 85 01        	sta	<R0
 23073 03:5F26: 18           	clc
 23074 03:5F27: A5 01        	lda	<R0
 23075 03:5F29: 65 1F        	adc	<L996+titleOffsetY_1
 23076 03:5F2B: 85 05        	sta	<R1
 23077 03:5F2D: 18           	clc
 23078 03:5F2E: A9 02 00     	lda	#$2
 23079 03:5F31: 65 05        	adc	<R1
 23080 03:5F33: 85 1F        	sta	<L996+titleOffsetY_1
 23081                        ;		i++;
 23082                        	.line	3916
 23083 03:5F35: E6 11        	inc	<L996+i_1
 23084                        ;		caption = captions[i];
 23085                        	.line	3917
 23086 03:5F37: A0 00 00     	ldy	#$0
 23087 03:5F3A: A5 11        	lda	<L996+i_1
 23088 03:5F3C: 10 01        	bpl	L1002
 23089 03:5F3E: 88           	dey
 23090                        L1002:
 23091 03:5F3F: 85 05        	sta	<R1
 23092 03:5F41: 84 07        	sty	<R1+2
 23093 03:5F43: D4 07        	pei	<R1+2
 23094 03:5F45: D4 05        	pei	<R1
 23095 03:5F47: A9 02 00     	lda	#$2
 23096                        	xref	~~~lasl
 23097 03:5F4A: 22 xx xx xx  	jsl	~~~lasl
 23098 03:5F4E: 85 01        	sta	<R0
  Mon Dec  7 2020 11:19                                                Page 426


 23099 03:5F50: 86 03        	stx	<R0+2
 23100 03:5F52: 18           	clc
 23101 03:5F53: A5 34        	lda	<L995+captions_0
 23102 03:5F55: 65 01        	adc	<R0
 23103 03:5F57: 85 09        	sta	<R2
 23104 03:5F59: A5 36        	lda	<L995+captions_0+2
 23105 03:5F5B: 65 03        	adc	<R0+2
 23106 03:5F5D: 85 0B        	sta	<R2+2
 23107 03:5F5F: A7 09        	lda	[<R2]
 23108 03:5F61: 85 15        	sta	<L996+caption_1
 23109 03:5F63: A0 02 00     	ldy	#$2
 23110 03:5F66: B7 09        	lda	[<R2],Y
 23111 03:5F68: 85 17        	sta	<L996+caption_1+2
 23112                        ;	}
 23113                        	.line	3918
 23114 03:5F6A: 82 8C FF     	brl	L10423
 23115                        L10424:
 23116                        ;
 23117                        ;	return NULL;
 23118                        	.line	3920
 23119 03:5F6D: A9 00 00     	lda	#$0
 23120 03:5F70: AA           	tax
 23121 03:5F71: A9 00 00     	lda	#$0
 23122                        L1003:
 23123 03:5F74: A8           	tay
 23124 03:5F75: A5 2A        	lda	<L995+2
 23125 03:5F77: 85 3A        	sta	<L995+2+16
 23126 03:5F79: A5 29        	lda	<L995+1
 23127 03:5F7B: 85 39        	sta	<L995+1+16
 23128 03:5F7D: 2B           	pld
 23129 03:5F7E: 3B           	tsc
 23130 03:5F7F: 18           	clc
 23131 03:5F80: 69 38 00     	adc	#L995+16
 23132 03:5F83: 1B           	tcs
 23133 03:5F84: 98           	tya
 23134 03:5F85: 6B           	rtl
 23135                        ;
 23136                        ;}
 23137                        	.line	3922
 23138                        	.endblock	3922
 23139             00000028   L995	equ	40
 23140             0000000D   L996	equ	13
 23141 03:5F86:              	ends
 23142                        	efunc
 23143                        	.endfunc	3922,13,40
 23144                        	.line	3922
 23145                        	data
 23146                        L994:
 23147 00:0D5C: 6B 5F 63 72  	db	$6B,$5F,$63,$72,$65,$61,$74,$65,$5F,$63,
                    $6F,$6E,$74,$65,$78
       00:0D60: 65 61 74 65 
       00:0D64: 5F 63 6F 6E 
       00:0D68: 74 65 78 
 23148 00:0D6B: 74 5F 6D 65  	db	$74,$5F,$6D,$65,$6E,$75,$3A,$66,$69,$6C,
                    $6C,$0D,$0A,$00,$6B
       00:0D6F: 6E 75 3A 66 
       00:0D73: 69 6C 6C 0D 
       00:0D77: 0A 00 6B 
  Mon Dec  7 2020 11:19                                                Page 427


 23149 00:0D7A: 5F 63 72 65  	db	$5F,$63,$72,$65,$61,$74,$65,$5F,$63,$6F,
                    $6E,$74,$65,$78,$74
       00:0D7E: 61 74 65 5F 
       00:0D82: 63 6F 6E 74 
       00:0D86: 65 78 74 
 23150 00:0D89: 5F 6D 65 6E  	db	$5F,$6D,$65,$6E,$75,$3A,$63,$61,$70,$74,
                    $69,$6F,$6E,$3A,$00
       00:0D8D: 75 3A 63 61 
       00:0D91: 70 74 69 6F 
       00:0D95: 6E 3A 00 
 23151 00:0D98:              	ends
 23152                        ;
 23153                        ;PMENU k_create_context_menu_in_window_ex(PWINDOW 
                    pWin,UINT selected,UINT unselected,int cx,int cy,int width,i
                    nt height,char FAR **captions,char FAR *chrome,int color, in
                    t bgcolor)
 23154                        ;{
 23155                        	.line	3924
 23156                        	.line	3925
 23157                        	GUI
 23158                        	xdef	~~k_create_context_menu_in_window_ex
 23159                        	func
 23160                        	.function	3925
 23161                        ~~k_create_context_menu_in_window_ex:
 23162                        	longa	on
 23163                        	longi	on
 23164 03:5F86: 3B           	tsc
 23165 03:5F87: 38           	sec
 23166 03:5F88: E9 29 00     	sbc	#L1005
 23167 03:5F8B: 1B           	tcs
 23168 03:5F8C: 0B           	phd
 23169 03:5F8D: 5B           	tcd
 23170             00000004   pWin_0	set	4
 23171             00000008   selected_0	set	8
 23172             0000000A   unselected_0	set	10
 23173             0000000C   cx_0	set	12
 23174             0000000E   cy_0	set	14
 23175             00000010   width_0	set	16
 23176             00000012   height_0	set	18
 23177             00000014   captions_0	set	20
 23178             00000018   chrome_0	set	24
 23179             0000001C   color_0	set	28
 23180             0000001E   bgcolor_0	set	30
 23181                        	.block	3925
 23182                        ;	FONTMETRIC metric;
 23183                        ;
 23184                        ;	int i = 0;
 23185                        ;	int dx = 0;
 23186                        ;	char FAR *caption = NULL;
 23187                        ;
 23188                        ;	int borderTitle = 10;
 23189                        ;	int borderWidth = 3;
 23190                        ;
 23191                        ;	int titleOffsetX = cx+4;
 23192                        ;	int titleOffsetY = cy+2;
 23193                        ;	int titleScaler = 0;
 23194                        ;
 23195                        ;	int clientOffsetX = cx+borderWidth+2;
  Mon Dec  7 2020 11:19                                                Page 428


 23196                        ;	int clientOffsetY = cy+borderTitle+1;
 23197                        ;
 23198                        ;	int endX = width + cx - borderWidth;
 23199                        ;
 23200                        ;
 23201                        ;	if(selected == -1 && unselected == -1)
 23202             00000000   metric_1	set	0
 23203             00000004   i_1	set	4
 23204             00000006   dx_1	set	6
 23205             00000008   caption_1	set	8
 23206             0000000C   borderTitle_1	set	12
 23207             0000000E   borderWidth_1	set	14
 23208             00000010   titleOffsetX_1	set	16
 23209             00000012   titleOffsetY_1	set	18
 23210             00000014   titleScaler_1	set	20
 23211             00000016   clientOffsetX_1	set	22
 23212             00000018   clientOffsetY_1	set	24
 23213             0000001A   endX_1	set	26
 23214                        	.sym	metric,0,10,1,32,32
 23215                        	.sym	i,4,5,1,16
 23216                        	.sym	dx,6,5,1,16
 23217                        	.sym	caption,8,142,1,32
 23218                        	.sym	borderTitle,12,5,1,16
 23219                        	.sym	borderWidth,14,5,1,16
 23220                        	.sym	titleOffsetX,16,5,1,16
 23221                        	.sym	titleOffsetY,18,5,1,16
 23222                        	.sym	titleScaler,20,5,1,16
 23223                        	.sym	clientOffsetX,22,5,1,16
 23224                        	.sym	clientOffsetY,24,5,1,16
 23225                        	.sym	endX,26,5,1,16
 23226                        	.sym	pWin,4,138,6,32,30
 23227                        	.sym	selected,8,16,6,16
 23228                        	.sym	unselected,10,16,6,16
 23229                        	.sym	cx,12,5,6,16
 23230                        	.sym	cy,14,5,6,16
 23231                        	.sym	width,16,5,6,16
 23232                        	.sym	height,18,5,6,16
 23233                        	.sym	captions,20,1166,6,32
 23234                        	.sym	chrome,24,142,6,32
 23235                        	.sym	color,28,5,6,16
 23236                        	.sym	bgcolor,30,5,6,16
 23237 03:5F8E: 64 11        	stz	<L1006+i_1
 23238 03:5F90: 64 13        	stz	<L1006+dx_1
 23239 03:5F92: 64 15        	stz	<L1006+caption_1
 23240 03:5F94: 64 17        	stz	<L1006+caption_1+2
 23241 03:5F96: A9 0A 00     	lda	#$a
 23242 03:5F99: 85 19        	sta	<L1006+borderTitle_1
 23243 03:5F9B: A9 03 00     	lda	#$3
 23244 03:5F9E: 85 1B        	sta	<L1006+borderWidth_1
 23245 03:5FA0: 18           	clc
 23246 03:5FA1: A9 04 00     	lda	#$4
 23247 03:5FA4: 65 35        	adc	<L1005+cx_0
 23248 03:5FA6: 85 1D        	sta	<L1006+titleOffsetX_1
 23249 03:5FA8: 18           	clc
 23250 03:5FA9: A9 02 00     	lda	#$2
 23251 03:5FAC: 65 37        	adc	<L1005+cy_0
 23252 03:5FAE: 85 1F        	sta	<L1006+titleOffsetY_1
 23253 03:5FB0: 64 21        	stz	<L1006+titleScaler_1
  Mon Dec  7 2020 11:19                                                Page 429


 23254 03:5FB2: 18           	clc
 23255 03:5FB3: A5 35        	lda	<L1005+cx_0
 23256 03:5FB5: 65 1B        	adc	<L1006+borderWidth_1
 23257 03:5FB7: 85 01        	sta	<R0
 23258 03:5FB9: 18           	clc
 23259 03:5FBA: A9 02 00     	lda	#$2
 23260 03:5FBD: 65 01        	adc	<R0
 23261 03:5FBF: 85 23        	sta	<L1006+clientOffsetX_1
 23262 03:5FC1: 18           	clc
 23263 03:5FC2: A5 37        	lda	<L1005+cy_0
 23264 03:5FC4: 65 19        	adc	<L1006+borderTitle_1
 23265 03:5FC6: 85 01        	sta	<R0
 23266 03:5FC8: A5 01        	lda	<R0
 23267 03:5FCA: 1A           	ina
 23268 03:5FCB: 85 25        	sta	<L1006+clientOffsetY_1
 23269 03:5FCD: 18           	clc
 23270 03:5FCE: A5 39        	lda	<L1005+width_0
 23271 03:5FD0: 65 35        	adc	<L1005+cx_0
 23272 03:5FD2: 85 01        	sta	<R0
 23273 03:5FD4: 38           	sec
 23274 03:5FD5: A5 01        	lda	<R0
 23275 03:5FD7: E5 1B        	sbc	<L1006+borderWidth_1
 23276 03:5FD9: 85 27        	sta	<L1006+endX_1
 23277                        	.line	3945
 23278                        ;		k_vdma_fill_rect_ex(cx,cy,width,height,b
                    gcolor,BITMAP_FRONT);
 23279 03:5FDB: A5 31        	lda	<L1005+selected_0
 23280 03:5FDD: C9 FF FF     	cmp	#<$ffffffff
 23281 03:5FE0: F0 03        	beq	L1008
 23282 03:5FE2: 82 37 00     	brl	L10425
 23283                        L1008:
 23284 03:5FE5: A5 33        	lda	<L1005+unselected_0
 23285 03:5FE7: C9 FF FF     	cmp	#<$ffffffff
 23286 03:5FEA: F0 03        	beq	L1009
 23287 03:5FEC: 82 2D 00     	brl	L10425
 23288                        L1009:
 23289                        	.line	3946
 23290 03:5FEF: F4 00 00     	pea	#<$0
 23291 03:5FF2: D4 47        	pei	<L1005+bgcolor_0
 23292 03:5FF4: D4 3B        	pei	<L1005+height_0
 23293 03:5FF6: D4 39        	pei	<L1005+width_0
 23294 03:5FF8: A0 00 00     	ldy	#$0
 23295 03:5FFB: A5 37        	lda	<L1005+cy_0
 23296 03:5FFD: 10 01        	bpl	L1010
 23297 03:5FFF: 88           	dey
 23298                        L1010:
 23299 03:6000: 85 01        	sta	<R0
 23300 03:6002: 84 03        	sty	<R0+2
 23301 03:6004: D4 03        	pei	<R0+2
 23302 03:6006: D4 01        	pei	<R0
 23303 03:6008: A0 00 00     	ldy	#$0
 23304 03:600B: A5 35        	lda	<L1005+cx_0
 23305 03:600D: 10 01        	bpl	L1011
 23306 03:600F: 88           	dey
 23307                        L1011:
 23308 03:6010: 85 05        	sta	<R1
 23309 03:6012: 84 07        	sty	<R1+2
 23310 03:6014: D4 07        	pei	<R1+2
  Mon Dec  7 2020 11:19                                                Page 430


 23311 03:6016: D4 05        	pei	<R1
 23312 03:6018: 22 F6 50 03  	jsl	~~k_vdma_fill_rect_ex
 23313                        ;
 23314                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 23315                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 23316                        ;	i = 0;
 23317                        L10425:
 23318                        	.line	3950
 23319 03:601C: 64 11        	stz	<L1006+i_1
 23320                        ;	caption = captions[i];
 23321                        	.line	3951
 23322 03:601E: A0 00 00     	ldy	#$0
 23323 03:6021: A5 11        	lda	<L1006+i_1
 23324 03:6023: 10 01        	bpl	L1012
 23325 03:6025: 88           	dey
 23326                        L1012:
 23327 03:6026: 85 05        	sta	<R1
 23328 03:6028: 84 07        	sty	<R1+2
 23329 03:602A: D4 07        	pei	<R1+2
 23330 03:602C: D4 05        	pei	<R1
 23331 03:602E: A9 02 00     	lda	#$2
 23332                        	xref	~~~lasl
 23333 03:6031: 22 xx xx xx  	jsl	~~~lasl
 23334 03:6035: 85 01        	sta	<R0
 23335 03:6037: 86 03        	stx	<R0+2
 23336 03:6039: 18           	clc
 23337 03:603A: A5 3D        	lda	<L1005+captions_0
 23338 03:603C: 65 01        	adc	<R0
 23339 03:603E: 85 09        	sta	<R2
 23340 03:6040: A5 3F        	lda	<L1005+captions_0+2
 23341 03:6042: 65 03        	adc	<R0+2
 23342 03:6044: 85 0B        	sta	<R2+2
 23343 03:6046: A7 09        	lda	[<R2]
 23344 03:6048: 85 15        	sta	<L1006+caption_1
 23345 03:604A: A0 02 00     	ldy	#$2
 23346 03:604D: B7 09        	lda	[<R2],Y
 23347 03:604F: 85 17        	sta	<L1006+caption_1+2
 23348                        ;	while(caption!=NULL)
 23349                        	.line	3952
 23350                        L10426:
 23351 03:6051: A5 15        	lda	<L1006+caption_1
 23352 03:6053: 05 17        	ora	<L1006+caption_1+2
 23353 03:6055: D0 03        	bne	L1013
 23354 03:6057: 82 3F 02     	brl	L10427
 23355                        L1013:
 23356                        ;	{
 23357                        	.line	3953
 23358                        ;		char chromeByte = chrome[i];
 23359                        ;		//if(chromeByte)
 23360                        ;		//	k_debug_strings("#### k_create_c
                    ontext_menu_in_window_ex:chrome:CHECKED:",caption);
 23361                        ;		//k_debug_strings("k_create_context_menu
                    :caption:",caption);
 23362                        ;
 23363                        ;		//caption = strupr(caption);
 23364                        ;
  Mon Dec  7 2020 11:19                                                Page 431


 23365                        ;		if(selected!=-1 && unselected!=-1)
 23366                        	.block	3961
 23367             0000001C   chromeByte_2	set	28
 23368                        	.sym	chromeByte,28,14,1,8
 23369 03:605A: E2 20        	sep	#$20
 23370                        	longa	off
 23371 03:605C: A4 11        	ldy	<L1006+i_1
 23372 03:605E: B7 41        	lda	[<L1005+chrome_0],Y
 23373 03:6060: 85 29        	sta	<L1006+chromeByte_2
 23374 03:6062: C2 20        	rep	#$20
 23375                        	longa	on
 23376                        	.line	3961
 23377                        ;		{
 23378 03:6064: A5 31        	lda	<L1005+selected_0
 23379 03:6066: C9 FF FF     	cmp	#<$ffffffff
 23380 03:6069: D0 03        	bne	L1015
 23381 03:606B: 82 1E 01     	brl	L10428
 23382                        L1015:
 23383 03:606E: A5 33        	lda	<L1005+unselected_0
 23384 03:6070: C9 FF FF     	cmp	#<$ffffffff
 23385 03:6073: D0 03        	bne	L1016
 23386 03:6075: 82 14 01     	brl	L10428
 23387                        L1016:
 23388                        	.line	3962
 23389                        ;			if( i == selected && caption[0] 
                    != '_')
 23390                        	.line	3963
 23391                        ;			{
 23392 03:6078: A5 11        	lda	<L1006+i_1
 23393 03:607A: C5 31        	cmp	<L1005+selected_0
 23394 03:607C: F0 03        	beq	L1017
 23395 03:607E: 82 81 00     	brl	L10429
 23396                        L1017:
 23397 03:6081: E2 20        	sep	#$20
 23398                        	longa	off
 23399 03:6083: A7 15        	lda	[<L1006+caption_1]
 23400 03:6085: C9 5F        	cmp	#<$5f
 23401 03:6087: C2 20        	rep	#$20
 23402                        	longa	on
 23403 03:6089: D0 03        	bne	L1018
 23404 03:608B: 82 74 00     	brl	L10429
 23405                        L1018:
 23406                        	.line	3964
 23407                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,color,BITMAP_FRON
                    T);
 23408                        	.line	3965
 23409 03:608E: F4 00 00     	pea	#<$0
 23410 03:6091: D4 45        	pei	<L1005+color_0
 23411 03:6093: 22 E8 71 03  	jsl	~~k_font_getFontHeight
 23412 03:6097: 48           	pha
 23413 03:6098: A0 0C 00     	ldy	#$c
 23414 03:609B: B7 2D        	lda	[<L1005+pWin_0],Y
 23415 03:609D: 48           	pha
 23416 03:609E: A0 00 00     	ldy	#$0
 23417 03:60A1: A5 1F        	lda	<L1006+titleOffsetY_1
 23418 03:60A3: 10 01        	bpl	L1019
 23419 03:60A5: 88           	dey
  Mon Dec  7 2020 11:19                                                Page 432


 23420                        L1019:
 23421 03:60A6: 85 01        	sta	<R0
 23422 03:60A8: 84 03        	sty	<R0+2
 23423 03:60AA: D4 03        	pei	<R0+2
 23424 03:60AC: D4 01        	pei	<R0
 23425 03:60AE: A0 00 00     	ldy	#$0
 23426 03:60B1: 5A           	phy
 23427 03:60B2: A0 08 00     	ldy	#$8
 23428 03:60B5: B7 2D        	lda	[<L1005+pWin_0],Y
 23429 03:60B7: 7A           	ply
 23430 03:60B8: 2A           	rol	A
 23431 03:60B9: 6A           	ror	A
 23432 03:60BA: 10 01        	bpl	L1020
 23433 03:60BC: 88           	dey
 23434                        L1020:
 23435 03:60BD: 85 05        	sta	<R1
 23436 03:60BF: 84 07        	sty	<R1+2
 23437 03:60C1: D4 07        	pei	<R1+2
 23438 03:60C3: D4 05        	pei	<R1
 23439 03:60C5: 22 F6 50 03  	jsl	~~k_vdma_fill_rect_ex
 23440                        ;				dx = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,bgcolor,BITMAP_FRONT);
 23441                        	.line	3966
 23442 03:60C9: F4 00 00     	pea	#<$0
 23443 03:60CC: D4 47        	pei	<L1005+bgcolor_0
 23444 03:60CE: D4 1F        	pei	<L1006+titleOffsetY_1
 23445 03:60D0: D4 1D        	pei	<L1006+titleOffsetX_1
 23446 03:60D2: D4 17        	pei	<L1006+caption_1+2
 23447 03:60D4: D4 15        	pei	<L1006+caption_1
 23448 03:60D6: 22 DC 19 03  	jsl	~~k_draw_text_point_ex
 23449 03:60DA: 85 13        	sta	<L1006+dx_1
 23450                        ;				if(chromeByte)
 23451                        	.line	3967
 23452                        ;				{
 23453 03:60DC: A5 29        	lda	<L1006+chromeByte_2
 23454 03:60DE: 29 FF 00     	and	#$ff
 23455 03:60E1: D0 03        	bne	L1021
 23456 03:60E3: 82 19 00     	brl	L10430
 23457                        L1021:
 23458                        	.line	3968
 23459                        ;					dx = k_draw_text
                    _point_ex("*",titleOffsetX + dx,titleOffsetY,bgcolor,BITMAP_
                    FRONT);
 23460                        	.line	3969
 23461 03:60E6: F4 00 00     	pea	#<$0
 23462 03:60E9: D4 47        	pei	<L1005+bgcolor_0
 23463 03:60EB: D4 1F        	pei	<L1006+titleOffsetY_1
 23464 03:60ED: 18           	clc
 23465 03:60EE: A5 1D        	lda	<L1006+titleOffsetX_1
 23466 03:60F0: 65 13        	adc	<L1006+dx_1
 23467 03:60F2: 48           	pha
 23468 03:60F3: F4 xx xx     	pea	#^L1004
 23469 03:60F6: F4 xx xx     	pea	#<L1004
 23470 03:60F9: 22 DC 19 03  	jsl	~~k_draw_text_point_ex
 23471 03:60FD: 85 13        	sta	<L1006+dx_1
 23472                        ;				}
 23473                        	.line	3970
 23474                        ;			}
  Mon Dec  7 2020 11:19                                                Page 433


 23475                        L10430:
 23476                        	.line	3971
 23477                        ;			else if( i == unselected && capt
                    ion[0] != '_')
 23478 03:60FF: 82 87 00     	brl	L10431
 23479                        L10429:
 23480                        	.line	3972
 23481                        ;			{
 23482 03:6102: A5 11        	lda	<L1006+i_1
 23483 03:6104: C5 33        	cmp	<L1005+unselected_0
 23484 03:6106: F0 03        	beq	L1022
 23485 03:6108: 82 7E 00     	brl	L10432
 23486                        L1022:
 23487 03:610B: E2 20        	sep	#$20
 23488                        	longa	off
 23489 03:610D: A7 15        	lda	[<L1006+caption_1]
 23490 03:610F: C9 5F        	cmp	#<$5f
 23491 03:6111: C2 20        	rep	#$20
 23492                        	longa	on
 23493 03:6113: D0 03        	bne	L1023
 23494 03:6115: 82 71 00     	brl	L10432
 23495                        L1023:
 23496                        	.line	3973
 23497                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,bgcolor,BITMAP_FR
                    ONT);
 23498                        	.line	3974
 23499 03:6118: F4 00 00     	pea	#<$0
 23500 03:611B: D4 47        	pei	<L1005+bgcolor_0
 23501 03:611D: 22 E8 71 03  	jsl	~~k_font_getFontHeight
 23502 03:6121: 48           	pha
 23503 03:6122: A0 0C 00     	ldy	#$c
 23504 03:6125: B7 2D        	lda	[<L1005+pWin_0],Y
 23505 03:6127: 48           	pha
 23506 03:6128: A0 00 00     	ldy	#$0
 23507 03:612B: A5 1F        	lda	<L1006+titleOffsetY_1
 23508 03:612D: 10 01        	bpl	L1024
 23509 03:612F: 88           	dey
 23510                        L1024:
 23511 03:6130: 85 01        	sta	<R0
 23512 03:6132: 84 03        	sty	<R0+2
 23513 03:6134: D4 03        	pei	<R0+2
 23514 03:6136: D4 01        	pei	<R0
 23515 03:6138: A0 00 00     	ldy	#$0
 23516 03:613B: 5A           	phy
 23517 03:613C: A0 08 00     	ldy	#$8
 23518 03:613F: B7 2D        	lda	[<L1005+pWin_0],Y
 23519 03:6141: 7A           	ply
 23520 03:6142: 2A           	rol	A
 23521 03:6143: 6A           	ror	A
 23522 03:6144: 10 01        	bpl	L1025
 23523 03:6146: 88           	dey
 23524                        L1025:
 23525 03:6147: 85 05        	sta	<R1
 23526 03:6149: 84 07        	sty	<R1+2
 23527 03:614B: D4 07        	pei	<R1+2
 23528 03:614D: D4 05        	pei	<R1
 23529 03:614F: 22 F6 50 03  	jsl	~~k_vdma_fill_rect_ex
  Mon Dec  7 2020 11:19                                                Page 434


 23530                        ;				dx = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,color,BITMAP_FRONT);
 23531                        	.line	3975
 23532 03:6153: F4 00 00     	pea	#<$0
 23533 03:6156: D4 45        	pei	<L1005+color_0
 23534 03:6158: D4 1F        	pei	<L1006+titleOffsetY_1
 23535 03:615A: D4 1D        	pei	<L1006+titleOffsetX_1
 23536 03:615C: D4 17        	pei	<L1006+caption_1+2
 23537 03:615E: D4 15        	pei	<L1006+caption_1
 23538 03:6160: 22 DC 19 03  	jsl	~~k_draw_text_point_ex
 23539 03:6164: 85 13        	sta	<L1006+dx_1
 23540                        ;				if(chromeByte)
 23541                        	.line	3976
 23542                        ;				{
 23543 03:6166: A5 29        	lda	<L1006+chromeByte_2
 23544 03:6168: 29 FF 00     	and	#$ff
 23545 03:616B: D0 03        	bne	L1026
 23546 03:616D: 82 19 00     	brl	L10433
 23547                        L1026:
 23548                        	.line	3977
 23549                        ;					dx = k_draw_text
                    _point_ex("*",titleOffsetX + dx,titleOffsetY,color,BITMAP_FR
                    ONT);
 23550                        	.line	3978
 23551 03:6170: F4 00 00     	pea	#<$0
 23552 03:6173: D4 45        	pei	<L1005+color_0
 23553 03:6175: D4 1F        	pei	<L1006+titleOffsetY_1
 23554 03:6177: 18           	clc
 23555 03:6178: A5 1D        	lda	<L1006+titleOffsetX_1
 23556 03:617A: 65 13        	adc	<L1006+dx_1
 23557 03:617C: 48           	pha
 23558 03:617D: F4 xx xx     	pea	#^L1004+2
 23559 03:6180: F4 xx xx     	pea	#<L1004+2
 23560 03:6183: 22 DC 19 03  	jsl	~~k_draw_text_point_ex
 23561 03:6187: 85 13        	sta	<L1006+dx_1
 23562                        ;				}
 23563                        	.line	3979
 23564                        ;			}
 23565                        L10433:
 23566                        	.line	3980
 23567                        ;
 23568                        ;		}
 23569                        L10432:
 23570                        L10431:
 23571                        	.line	3982
 23572                        ;		else
 23573 03:6189: 82 C0 00     	brl	L10434
 23574                        L10428:
 23575                        ;		{
 23576                        	.line	3984
 23577                        ;			if( i == selected && caption[0] 
                    != '_')
 23578                        	.line	3985
 23579                        ;			{
 23580 03:618C: A5 11        	lda	<L1006+i_1
 23581 03:618E: C5 31        	cmp	<L1005+selected_0
 23582 03:6190: F0 03        	beq	L1027
 23583 03:6192: 82 81 00     	brl	L10435
  Mon Dec  7 2020 11:19                                                Page 435


 23584                        L1027:
 23585 03:6195: E2 20        	sep	#$20
 23586                        	longa	off
 23587 03:6197: A7 15        	lda	[<L1006+caption_1]
 23588 03:6199: C9 5F        	cmp	#<$5f
 23589 03:619B: C2 20        	rep	#$20
 23590                        	longa	on
 23591 03:619D: D0 03        	bne	L1028
 23592 03:619F: 82 74 00     	brl	L10435
 23593                        L1028:
 23594                        	.line	3986
 23595                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,color,BITMAP_FRON
                    T);
 23596                        	.line	3987
 23597 03:61A2: F4 00 00     	pea	#<$0
 23598 03:61A5: D4 45        	pei	<L1005+color_0
 23599 03:61A7: 22 E8 71 03  	jsl	~~k_font_getFontHeight
 23600 03:61AB: 48           	pha
 23601 03:61AC: A0 0C 00     	ldy	#$c
 23602 03:61AF: B7 2D        	lda	[<L1005+pWin_0],Y
 23603 03:61B1: 48           	pha
 23604 03:61B2: A0 00 00     	ldy	#$0
 23605 03:61B5: A5 1F        	lda	<L1006+titleOffsetY_1
 23606 03:61B7: 10 01        	bpl	L1029
 23607 03:61B9: 88           	dey
 23608                        L1029:
 23609 03:61BA: 85 01        	sta	<R0
 23610 03:61BC: 84 03        	sty	<R0+2
 23611 03:61BE: D4 03        	pei	<R0+2
 23612 03:61C0: D4 01        	pei	<R0
 23613 03:61C2: A0 00 00     	ldy	#$0
 23614 03:61C5: 5A           	phy
 23615 03:61C6: A0 08 00     	ldy	#$8
 23616 03:61C9: B7 2D        	lda	[<L1005+pWin_0],Y
 23617 03:61CB: 7A           	ply
 23618 03:61CC: 2A           	rol	A
 23619 03:61CD: 6A           	ror	A
 23620 03:61CE: 10 01        	bpl	L1030
 23621 03:61D0: 88           	dey
 23622                        L1030:
 23623 03:61D1: 85 05        	sta	<R1
 23624 03:61D3: 84 07        	sty	<R1+2
 23625 03:61D5: D4 07        	pei	<R1+2
 23626 03:61D7: D4 05        	pei	<R1
 23627 03:61D9: 22 F6 50 03  	jsl	~~k_vdma_fill_rect_ex
 23628                        ;				dx = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,bgcolor,BITMAP_FRONT);
 23629                        	.line	3988
 23630 03:61DD: F4 00 00     	pea	#<$0
 23631 03:61E0: D4 47        	pei	<L1005+bgcolor_0
 23632 03:61E2: D4 1F        	pei	<L1006+titleOffsetY_1
 23633 03:61E4: D4 1D        	pei	<L1006+titleOffsetX_1
 23634 03:61E6: D4 17        	pei	<L1006+caption_1+2
 23635 03:61E8: D4 15        	pei	<L1006+caption_1
 23636 03:61EA: 22 DC 19 03  	jsl	~~k_draw_text_point_ex
 23637 03:61EE: 85 13        	sta	<L1006+dx_1
 23638                        ;				if(chromeByte)
  Mon Dec  7 2020 11:19                                                Page 436


 23639                        	.line	3989
 23640                        ;				{
 23641 03:61F0: A5 29        	lda	<L1006+chromeByte_2
 23642 03:61F2: 29 FF 00     	and	#$ff
 23643 03:61F5: D0 03        	bne	L1031
 23644 03:61F7: 82 19 00     	brl	L10436
 23645                        L1031:
 23646                        	.line	3990
 23647                        ;					dx = k_draw_text
                    _point_ex("*",titleOffsetX + dx,titleOffsetY,bgcolor,BITMAP_
                    FRONT);
 23648                        	.line	3991
 23649 03:61FA: F4 00 00     	pea	#<$0
 23650 03:61FD: D4 47        	pei	<L1005+bgcolor_0
 23651 03:61FF: D4 1F        	pei	<L1006+titleOffsetY_1
 23652 03:6201: 18           	clc
 23653 03:6202: A5 1D        	lda	<L1006+titleOffsetX_1
 23654 03:6204: 65 13        	adc	<L1006+dx_1
 23655 03:6206: 48           	pha
 23656 03:6207: F4 xx xx     	pea	#^L1004+4
 23657 03:620A: F4 xx xx     	pea	#<L1004+4
 23658 03:620D: 22 DC 19 03  	jsl	~~k_draw_text_point_ex
 23659 03:6211: 85 13        	sta	<L1006+dx_1
 23660                        ;				}
 23661                        	.line	3992
 23662                        ;			}
 23663                        L10436:
 23664                        	.line	3993
 23665                        ;			else
 23666 03:6213: 82 36 00     	brl	L10437
 23667                        L10435:
 23668                        ;			{
 23669                        	.line	3995
 23670                        ;				dx = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,color,BITMAP_FRONT);
 23671                        	.line	3996
 23672 03:6216: F4 00 00     	pea	#<$0
 23673 03:6219: D4 45        	pei	<L1005+color_0
 23674 03:621B: D4 1F        	pei	<L1006+titleOffsetY_1
 23675 03:621D: D4 1D        	pei	<L1006+titleOffsetX_1
 23676 03:621F: D4 17        	pei	<L1006+caption_1+2
 23677 03:6221: D4 15        	pei	<L1006+caption_1
 23678 03:6223: 22 DC 19 03  	jsl	~~k_draw_text_point_ex
 23679 03:6227: 85 13        	sta	<L1006+dx_1
 23680                        ;				if(chromeByte)
 23681                        	.line	3997
 23682                        ;				{
 23683 03:6229: A5 29        	lda	<L1006+chromeByte_2
 23684 03:622B: 29 FF 00     	and	#$ff
 23685 03:622E: D0 03        	bne	L1032
 23686 03:6230: 82 19 00     	brl	L10438
 23687                        L1032:
 23688                        	.line	3998
 23689                        ;					dx = k_draw_text
                    _point_ex("*",titleOffsetX + dx,titleOffsetY,color,BITMAP_FR
                    ONT);
 23690                        	.line	3999
 23691 03:6233: F4 00 00     	pea	#<$0
  Mon Dec  7 2020 11:19                                                Page 437


 23692 03:6236: D4 45        	pei	<L1005+color_0
 23693 03:6238: D4 1F        	pei	<L1006+titleOffsetY_1
 23694 03:623A: 18           	clc
 23695 03:623B: A5 1D        	lda	<L1006+titleOffsetX_1
 23696 03:623D: 65 13        	adc	<L1006+dx_1
 23697 03:623F: 48           	pha
 23698 03:6240: F4 xx xx     	pea	#^L1004+6
 23699 03:6243: F4 xx xx     	pea	#<L1004+6
 23700 03:6246: 22 DC 19 03  	jsl	~~k_draw_text_point_ex
 23701 03:624A: 85 13        	sta	<L1006+dx_1
 23702                        ;				}
 23703                        	.line	4000
 23704                        ;
 23705                        ;			}
 23706                        L10438:
 23707                        	.line	4002
 23708                        L10437:
 23709                        ;		}
 23710                        	.line	4003
 23711                        L10434:
 23712                        ;		titleOffsetY+=(FONTH + 2);
 23713                        	.line	4004
 23714 03:624C: 22 E8 71 03  	jsl	~~k_font_getFontHeight
 23715 03:6250: 85 01        	sta	<R0
 23716 03:6252: 18           	clc
 23717 03:6253: A5 01        	lda	<R0
 23718 03:6255: 65 1F        	adc	<L1006+titleOffsetY_1
 23719 03:6257: 85 05        	sta	<R1
 23720 03:6259: 18           	clc
 23721 03:625A: A9 02 00     	lda	#$2
 23722 03:625D: 65 05        	adc	<R1
 23723 03:625F: 85 1F        	sta	<L1006+titleOffsetY_1
 23724                        ;		i++;
 23725                        	.line	4005
 23726 03:6261: E6 11        	inc	<L1006+i_1
 23727                        ;		caption = captions[i];
 23728                        	.line	4006
 23729 03:6263: A0 00 00     	ldy	#$0
 23730 03:6266: A5 11        	lda	<L1006+i_1
 23731 03:6268: 10 01        	bpl	L1033
 23732 03:626A: 88           	dey
 23733                        L1033:
 23734 03:626B: 85 05        	sta	<R1
 23735 03:626D: 84 07        	sty	<R1+2
 23736 03:626F: D4 07        	pei	<R1+2
 23737 03:6271: D4 05        	pei	<R1
 23738 03:6273: A9 02 00     	lda	#$2
 23739                        	xref	~~~lasl
 23740 03:6276: 22 xx xx xx  	jsl	~~~lasl
 23741 03:627A: 85 01        	sta	<R0
 23742 03:627C: 86 03        	stx	<R0+2
 23743 03:627E: 18           	clc
 23744 03:627F: A5 3D        	lda	<L1005+captions_0
 23745 03:6281: 65 01        	adc	<R0
 23746 03:6283: 85 09        	sta	<R2
 23747 03:6285: A5 3F        	lda	<L1005+captions_0+2
 23748 03:6287: 65 03        	adc	<R0+2
 23749 03:6289: 85 0B        	sta	<R2+2
  Mon Dec  7 2020 11:19                                                Page 438


 23750 03:628B: A7 09        	lda	[<R2]
 23751 03:628D: 85 15        	sta	<L1006+caption_1
 23752 03:628F: A0 02 00     	ldy	#$2
 23753 03:6292: B7 09        	lda	[<R2],Y
 23754 03:6294: 85 17        	sta	<L1006+caption_1+2
 23755                        ;	}
 23756                        	.endblock	4007
 23757                        	.line	4007
 23758 03:6296: 82 B8 FD     	brl	L10426
 23759                        L10427:
 23760                        ;
 23761                        ;	return NULL;
 23762                        	.line	4009
 23763 03:6299: A9 00 00     	lda	#$0
 23764 03:629C: AA           	tax
 23765 03:629D: A9 00 00     	lda	#$0
 23766                        L1034:
 23767 03:62A0: A8           	tay
 23768 03:62A1: A5 2B        	lda	<L1005+2
 23769 03:62A3: 85 47        	sta	<L1005+2+28
 23770 03:62A5: A5 2A        	lda	<L1005+1
 23771 03:62A7: 85 46        	sta	<L1005+1+28
 23772 03:62A9: 2B           	pld
 23773 03:62AA: 3B           	tsc
 23774 03:62AB: 18           	clc
 23775 03:62AC: 69 45 00     	adc	#L1005+28
 23776 03:62AF: 1B           	tcs
 23777 03:62B0: 98           	tya
 23778 03:62B1: 6B           	rtl
 23779                        ;
 23780                        ;}
 23781                        	.line	4011
 23782                        	.endblock	4011
 23783             00000029   L1005	equ	41
 23784             0000000D   L1006	equ	13
 23785 03:62B2:              	ends
 23786                        	efunc
 23787                        	.endfunc	4011,13,41
 23788                        	.line	4011
 23789                        	data
 23790                        L1004:
 23791 00:0D98: 2A 00 2A 00  	db	$2A,$00,$2A,$00,$2A,$00,$2A,$00
       00:0D9C: 2A 00 2A 00 
 23792 00:0DA0:              	ends
 23793                        ;
 23794                        ;PMENU k_create_context_menu_in_window(PWINDOW pWi
                    n,UINT selected,UINT unselected,
 23795                        ;		                              int cx,int
                     cy,int width,int height,
 23796                        ;							
                    		  char FAR **captions,int color, int bgcolor)
 23797                        ;{
 23798                        	.line	4013
 23799                        	.line	4016
 23800                        	GUI
 23801                        	xdef	~~k_create_context_menu_in_window
 23802                        	func
 23803                        	.function	4016
  Mon Dec  7 2020 11:19                                                Page 439


 23804                        ~~k_create_context_menu_in_window:
 23805                        	longa	on
 23806                        	longi	on
 23807 03:62B2: 3B           	tsc
 23808 03:62B3: 38           	sec
 23809 03:62B4: E9 28 00     	sbc	#L1036
 23810 03:62B7: 1B           	tcs
 23811 03:62B8: 0B           	phd
 23812 03:62B9: 5B           	tcd
 23813             00000004   pWin_0	set	4
 23814             00000008   selected_0	set	8
 23815             0000000A   unselected_0	set	10
 23816             0000000C   cx_0	set	12
 23817             0000000E   cy_0	set	14
 23818             00000010   width_0	set	16
 23819             00000012   height_0	set	18
 23820             00000014   captions_0	set	20
 23821             00000018   color_0	set	24
 23822             0000001A   bgcolor_0	set	26
 23823                        	.block	4016
 23824                        ;	FONTMETRIC metric;
 23825                        ;
 23826                        ;	int i = 0;
 23827                        ;	int hy = 0;
 23828                        ;	char FAR *caption = NULL;
 23829                        ;
 23830                        ;	int borderTitle = 10;
 23831                        ;	int borderWidth = 3;
 23832                        ;
 23833                        ;	int titleOffsetX = cx+4;
 23834                        ;	int titleOffsetY = cy+2;
 23835                        ;	int titleScaler = 0;
 23836                        ;
 23837                        ;	int clientOffsetX = cx+borderWidth+2;
 23838                        ;	int clientOffsetY = cy+borderTitle+1;
 23839                        ;
 23840                        ;	int endX = width + cx - borderWidth;
 23841                        ;
 23842                        ;
 23843                        ;	if(selected == -1 && unselected == -1)
 23844             00000000   metric_1	set	0
 23845             00000004   i_1	set	4
 23846             00000006   hy_1	set	6
 23847             00000008   caption_1	set	8
 23848             0000000C   borderTitle_1	set	12
 23849             0000000E   borderWidth_1	set	14
 23850             00000010   titleOffsetX_1	set	16
 23851             00000012   titleOffsetY_1	set	18
 23852             00000014   titleScaler_1	set	20
 23853             00000016   clientOffsetX_1	set	22
 23854             00000018   clientOffsetY_1	set	24
 23855             0000001A   endX_1	set	26
 23856                        	.sym	metric,0,10,1,32,32
 23857                        	.sym	i,4,5,1,16
 23858                        	.sym	hy,6,5,1,16
 23859                        	.sym	caption,8,142,1,32
 23860                        	.sym	borderTitle,12,5,1,16
 23861                        	.sym	borderWidth,14,5,1,16
  Mon Dec  7 2020 11:19                                                Page 440


 23862                        	.sym	titleOffsetX,16,5,1,16
 23863                        	.sym	titleOffsetY,18,5,1,16
 23864                        	.sym	titleScaler,20,5,1,16
 23865                        	.sym	clientOffsetX,22,5,1,16
 23866                        	.sym	clientOffsetY,24,5,1,16
 23867                        	.sym	endX,26,5,1,16
 23868                        	.sym	pWin,4,138,6,32,30
 23869                        	.sym	selected,8,16,6,16
 23870                        	.sym	unselected,10,16,6,16
 23871                        	.sym	cx,12,5,6,16
 23872                        	.sym	cy,14,5,6,16
 23873                        	.sym	width,16,5,6,16
 23874                        	.sym	height,18,5,6,16
 23875                        	.sym	captions,20,1166,6,32
 23876                        	.sym	color,24,5,6,16
 23877                        	.sym	bgcolor,26,5,6,16
 23878 03:62BA: 64 11        	stz	<L1037+i_1
 23879 03:62BC: 64 13        	stz	<L1037+hy_1
 23880 03:62BE: 64 15        	stz	<L1037+caption_1
 23881 03:62C0: 64 17        	stz	<L1037+caption_1+2
 23882 03:62C2: A9 0A 00     	lda	#$a
 23883 03:62C5: 85 19        	sta	<L1037+borderTitle_1
 23884 03:62C7: A9 03 00     	lda	#$3
 23885 03:62CA: 85 1B        	sta	<L1037+borderWidth_1
 23886 03:62CC: 18           	clc
 23887 03:62CD: A9 04 00     	lda	#$4
 23888 03:62D0: 65 34        	adc	<L1036+cx_0
 23889 03:62D2: 85 1D        	sta	<L1037+titleOffsetX_1
 23890 03:62D4: 18           	clc
 23891 03:62D5: A9 02 00     	lda	#$2
 23892 03:62D8: 65 36        	adc	<L1036+cy_0
 23893 03:62DA: 85 1F        	sta	<L1037+titleOffsetY_1
 23894 03:62DC: 64 21        	stz	<L1037+titleScaler_1
 23895 03:62DE: 18           	clc
 23896 03:62DF: A5 34        	lda	<L1036+cx_0
 23897 03:62E1: 65 1B        	adc	<L1037+borderWidth_1
 23898 03:62E3: 85 01        	sta	<R0
 23899 03:62E5: 18           	clc
 23900 03:62E6: A9 02 00     	lda	#$2
 23901 03:62E9: 65 01        	adc	<R0
 23902 03:62EB: 85 23        	sta	<L1037+clientOffsetX_1
 23903 03:62ED: 18           	clc
 23904 03:62EE: A5 36        	lda	<L1036+cy_0
 23905 03:62F0: 65 19        	adc	<L1037+borderTitle_1
 23906 03:62F2: 85 01        	sta	<R0
 23907 03:62F4: A5 01        	lda	<R0
 23908 03:62F6: 1A           	ina
 23909 03:62F7: 85 25        	sta	<L1037+clientOffsetY_1
 23910 03:62F9: 18           	clc
 23911 03:62FA: A5 38        	lda	<L1036+width_0
 23912 03:62FC: 65 34        	adc	<L1036+cx_0
 23913 03:62FE: 85 01        	sta	<R0
 23914 03:6300: 38           	sec
 23915 03:6301: A5 01        	lda	<R0
 23916 03:6303: E5 1B        	sbc	<L1037+borderWidth_1
 23917 03:6305: 85 27        	sta	<L1037+endX_1
 23918                        	.line	4036
 23919                        ;		k_vdma_fill_rect_ex(cx,cy,width,height,b
  Mon Dec  7 2020 11:19                                                Page 441


                    gcolor,BITMAP_FRONT);
 23920 03:6307: A5 30        	lda	<L1036+selected_0
 23921 03:6309: C9 FF FF     	cmp	#<$ffffffff
 23922 03:630C: F0 03        	beq	L1039
 23923 03:630E: 82 37 00     	brl	L10439
 23924                        L1039:
 23925 03:6311: A5 32        	lda	<L1036+unselected_0
 23926 03:6313: C9 FF FF     	cmp	#<$ffffffff
 23927 03:6316: F0 03        	beq	L1040
 23928 03:6318: 82 2D 00     	brl	L10439
 23929                        L1040:
 23930                        	.line	4037
 23931 03:631B: F4 00 00     	pea	#<$0
 23932 03:631E: D4 42        	pei	<L1036+bgcolor_0
 23933 03:6320: D4 3A        	pei	<L1036+height_0
 23934 03:6322: D4 38        	pei	<L1036+width_0
 23935 03:6324: A0 00 00     	ldy	#$0
 23936 03:6327: A5 36        	lda	<L1036+cy_0
 23937 03:6329: 10 01        	bpl	L1041
 23938 03:632B: 88           	dey
 23939                        L1041:
 23940 03:632C: 85 01        	sta	<R0
 23941 03:632E: 84 03        	sty	<R0+2
 23942 03:6330: D4 03        	pei	<R0+2
 23943 03:6332: D4 01        	pei	<R0
 23944 03:6334: A0 00 00     	ldy	#$0
 23945 03:6337: A5 34        	lda	<L1036+cx_0
 23946 03:6339: 10 01        	bpl	L1042
 23947 03:633B: 88           	dey
 23948                        L1042:
 23949 03:633C: 85 05        	sta	<R1
 23950 03:633E: 84 07        	sty	<R1+2
 23951 03:6340: D4 07        	pei	<R1+2
 23952 03:6342: D4 05        	pei	<R1
 23953 03:6344: 22 F6 50 03  	jsl	~~k_vdma_fill_rect_ex
 23954                        ;
 23955                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 23956                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 23957                        ;	i = 0;
 23958                        L10439:
 23959                        	.line	4041
 23960 03:6348: 64 11        	stz	<L1037+i_1
 23961                        ;	caption = captions[i];
 23962                        	.line	4042
 23963 03:634A: A0 00 00     	ldy	#$0
 23964 03:634D: A5 11        	lda	<L1037+i_1
 23965 03:634F: 10 01        	bpl	L1043
 23966 03:6351: 88           	dey
 23967                        L1043:
 23968 03:6352: 85 05        	sta	<R1
 23969 03:6354: 84 07        	sty	<R1+2
 23970 03:6356: D4 07        	pei	<R1+2
 23971 03:6358: D4 05        	pei	<R1
 23972 03:635A: A9 02 00     	lda	#$2
 23973                        	xref	~~~lasl
 23974 03:635D: 22 xx xx xx  	jsl	~~~lasl
  Mon Dec  7 2020 11:19                                                Page 442


 23975 03:6361: 85 01        	sta	<R0
 23976 03:6363: 86 03        	stx	<R0+2
 23977 03:6365: 18           	clc
 23978 03:6366: A5 3C        	lda	<L1036+captions_0
 23979 03:6368: 65 01        	adc	<R0
 23980 03:636A: 85 09        	sta	<R2
 23981 03:636C: A5 3E        	lda	<L1036+captions_0+2
 23982 03:636E: 65 03        	adc	<R0+2
 23983 03:6370: 85 0B        	sta	<R2+2
 23984 03:6372: A7 09        	lda	[<R2]
 23985 03:6374: 85 15        	sta	<L1037+caption_1
 23986 03:6376: A0 02 00     	ldy	#$2
 23987 03:6379: B7 09        	lda	[<R2],Y
 23988 03:637B: 85 17        	sta	<L1037+caption_1+2
 23989                        ;	while(caption!=NULL)
 23990                        	.line	4043
 23991                        L10440:
 23992 03:637D: A5 15        	lda	<L1037+caption_1
 23993 03:637F: 05 17        	ora	<L1037+caption_1+2
 23994 03:6381: D0 03        	bne	L1044
 23995 03:6383: 82 A9 01     	brl	L10441
 23996                        L1044:
 23997                        ;	{
 23998                        	.line	4044
 23999                        ;		//k_debug_strings("k_create_context_menu
                    :caption:",caption);
 24000                        ;
 24001                        ;		//caption = strupr(caption);
 24002                        ;
 24003                        ;		if(selected!=-1 && unselected!=-1)
 24004                        	.line	4049
 24005                        ;		{
 24006 03:6386: A5 30        	lda	<L1036+selected_0
 24007 03:6388: C9 FF FF     	cmp	#<$ffffffff
 24008 03:638B: D0 03        	bne	L1045
 24009 03:638D: 82 D8 00     	brl	L10442
 24010                        L1045:
 24011 03:6390: A5 32        	lda	<L1036+unselected_0
 24012 03:6392: C9 FF FF     	cmp	#<$ffffffff
 24013 03:6395: D0 03        	bne	L1046
 24014 03:6397: 82 CE 00     	brl	L10442
 24015                        L1046:
 24016                        	.line	4050
 24017                        ;			if( i == selected && caption[0] 
                    != '_')
 24018                        	.line	4051
 24019                        ;			{
 24020 03:639A: A5 11        	lda	<L1037+i_1
 24021 03:639C: C5 30        	cmp	<L1036+selected_0
 24022 03:639E: F0 03        	beq	L1047
 24023 03:63A0: 82 5E 00     	brl	L10443
 24024                        L1047:
 24025 03:63A3: E2 20        	sep	#$20
 24026                        	longa	off
 24027 03:63A5: A7 15        	lda	[<L1037+caption_1]
 24028 03:63A7: C9 5F        	cmp	#<$5f
 24029 03:63A9: C2 20        	rep	#$20
 24030                        	longa	on
  Mon Dec  7 2020 11:19                                                Page 443


 24031 03:63AB: D0 03        	bne	L1048
 24032 03:63AD: 82 51 00     	brl	L10443
 24033                        L1048:
 24034                        	.line	4052
 24035                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,color,BITMAP_FRON
                    T);
 24036                        	.line	4053
 24037 03:63B0: F4 00 00     	pea	#<$0
 24038 03:63B3: D4 40        	pei	<L1036+color_0
 24039 03:63B5: 22 E8 71 03  	jsl	~~k_font_getFontHeight
 24040 03:63B9: 48           	pha
 24041 03:63BA: A0 0C 00     	ldy	#$c
 24042 03:63BD: B7 2C        	lda	[<L1036+pWin_0],Y
 24043 03:63BF: 48           	pha
 24044 03:63C0: A0 00 00     	ldy	#$0
 24045 03:63C3: A5 1F        	lda	<L1037+titleOffsetY_1
 24046 03:63C5: 10 01        	bpl	L1049
 24047 03:63C7: 88           	dey
 24048                        L1049:
 24049 03:63C8: 85 01        	sta	<R0
 24050 03:63CA: 84 03        	sty	<R0+2
 24051 03:63CC: D4 03        	pei	<R0+2
 24052 03:63CE: D4 01        	pei	<R0
 24053 03:63D0: A0 00 00     	ldy	#$0
 24054 03:63D3: 5A           	phy
 24055 03:63D4: A0 08 00     	ldy	#$8
 24056 03:63D7: B7 2C        	lda	[<L1036+pWin_0],Y
 24057 03:63D9: 7A           	ply
 24058 03:63DA: 2A           	rol	A
 24059 03:63DB: 6A           	ror	A
 24060 03:63DC: 10 01        	bpl	L1050
 24061 03:63DE: 88           	dey
 24062                        L1050:
 24063 03:63DF: 85 05        	sta	<R1
 24064 03:63E1: 84 07        	sty	<R1+2
 24065 03:63E3: D4 07        	pei	<R1+2
 24066 03:63E5: D4 05        	pei	<R1
 24067 03:63E7: 22 F6 50 03  	jsl	~~k_vdma_fill_rect_ex
 24068                        ;				hy = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,bgcolor,BITMAP_FRONT);
 24069                        	.line	4054
 24070 03:63EB: F4 00 00     	pea	#<$0
 24071 03:63EE: D4 42        	pei	<L1036+bgcolor_0
 24072 03:63F0: D4 1F        	pei	<L1037+titleOffsetY_1
 24073 03:63F2: D4 1D        	pei	<L1037+titleOffsetX_1
 24074 03:63F4: D4 17        	pei	<L1037+caption_1+2
 24075 03:63F6: D4 15        	pei	<L1037+caption_1
 24076 03:63F8: 22 DC 19 03  	jsl	~~k_draw_text_point_ex
 24077 03:63FC: 85 13        	sta	<L1037+hy_1
 24078                        ;			}
 24079                        	.line	4055
 24080                        ;			else if( i == unselected && capt
                    ion[0] != '_')
 24081 03:63FE: 82 64 00     	brl	L10444
 24082                        L10443:
 24083                        	.line	4056
 24084                        ;			{
  Mon Dec  7 2020 11:19                                                Page 444


 24085 03:6401: A5 11        	lda	<L1037+i_1
 24086 03:6403: C5 32        	cmp	<L1036+unselected_0
 24087 03:6405: F0 03        	beq	L1051
 24088 03:6407: 82 5B 00     	brl	L10445
 24089                        L1051:
 24090 03:640A: E2 20        	sep	#$20
 24091                        	longa	off
 24092 03:640C: A7 15        	lda	[<L1037+caption_1]
 24093 03:640E: C9 5F        	cmp	#<$5f
 24094 03:6410: C2 20        	rep	#$20
 24095                        	longa	on
 24096 03:6412: D0 03        	bne	L1052
 24097 03:6414: 82 4E 00     	brl	L10445
 24098                        L1052:
 24099                        	.line	4057
 24100                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,bgcolor,BITMAP_FR
                    ONT);
 24101                        	.line	4058
 24102 03:6417: F4 00 00     	pea	#<$0
 24103 03:641A: D4 42        	pei	<L1036+bgcolor_0
 24104 03:641C: 22 E8 71 03  	jsl	~~k_font_getFontHeight
 24105 03:6420: 48           	pha
 24106 03:6421: A0 0C 00     	ldy	#$c
 24107 03:6424: B7 2C        	lda	[<L1036+pWin_0],Y
 24108 03:6426: 48           	pha
 24109 03:6427: A0 00 00     	ldy	#$0
 24110 03:642A: A5 1F        	lda	<L1037+titleOffsetY_1
 24111 03:642C: 10 01        	bpl	L1053
 24112 03:642E: 88           	dey
 24113                        L1053:
 24114 03:642F: 85 01        	sta	<R0
 24115 03:6431: 84 03        	sty	<R0+2
 24116 03:6433: D4 03        	pei	<R0+2
 24117 03:6435: D4 01        	pei	<R0
 24118 03:6437: A0 00 00     	ldy	#$0
 24119 03:643A: 5A           	phy
 24120 03:643B: A0 08 00     	ldy	#$8
 24121 03:643E: B7 2C        	lda	[<L1036+pWin_0],Y
 24122 03:6440: 7A           	ply
 24123 03:6441: 2A           	rol	A
 24124 03:6442: 6A           	ror	A
 24125 03:6443: 10 01        	bpl	L1054
 24126 03:6445: 88           	dey
 24127                        L1054:
 24128 03:6446: 85 05        	sta	<R1
 24129 03:6448: 84 07        	sty	<R1+2
 24130 03:644A: D4 07        	pei	<R1+2
 24131 03:644C: D4 05        	pei	<R1
 24132 03:644E: 22 F6 50 03  	jsl	~~k_vdma_fill_rect_ex
 24133                        ;				hy = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,color,BITMAP_FRONT);
 24134                        	.line	4059
 24135 03:6452: F4 00 00     	pea	#<$0
 24136 03:6455: D4 40        	pei	<L1036+color_0
 24137 03:6457: D4 1F        	pei	<L1037+titleOffsetY_1
 24138 03:6459: D4 1D        	pei	<L1037+titleOffsetX_1
 24139 03:645B: D4 17        	pei	<L1037+caption_1+2
  Mon Dec  7 2020 11:19                                                Page 445


 24140 03:645D: D4 15        	pei	<L1037+caption_1
 24141 03:645F: 22 DC 19 03  	jsl	~~k_draw_text_point_ex
 24142 03:6463: 85 13        	sta	<L1037+hy_1
 24143                        ;			}
 24144                        	.line	4060
 24145                        ;
 24146                        ;		}
 24147                        L10445:
 24148                        L10444:
 24149                        	.line	4062
 24150                        ;		else
 24151 03:6465: 82 7A 00     	brl	L10446
 24152                        L10442:
 24153                        ;		{
 24154                        	.line	4064
 24155                        ;			if( i == selected && caption[0] 
                    != '_')
 24156                        	.line	4065
 24157                        ;			{
 24158 03:6468: A5 11        	lda	<L1037+i_1
 24159 03:646A: C5 30        	cmp	<L1036+selected_0
 24160 03:646C: F0 03        	beq	L1055
 24161 03:646E: 82 5E 00     	brl	L10447
 24162                        L1055:
 24163 03:6471: E2 20        	sep	#$20
 24164                        	longa	off
 24165 03:6473: A7 15        	lda	[<L1037+caption_1]
 24166 03:6475: C9 5F        	cmp	#<$5f
 24167 03:6477: C2 20        	rep	#$20
 24168                        	longa	on
 24169 03:6479: D0 03        	bne	L1056
 24170 03:647B: 82 51 00     	brl	L10447
 24171                        L1056:
 24172                        	.line	4066
 24173                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,color,BITMAP_FRON
                    T);
 24174                        	.line	4067
 24175 03:647E: F4 00 00     	pea	#<$0
 24176 03:6481: D4 40        	pei	<L1036+color_0
 24177 03:6483: 22 E8 71 03  	jsl	~~k_font_getFontHeight
 24178 03:6487: 48           	pha
 24179 03:6488: A0 0C 00     	ldy	#$c
 24180 03:648B: B7 2C        	lda	[<L1036+pWin_0],Y
 24181 03:648D: 48           	pha
 24182 03:648E: A0 00 00     	ldy	#$0
 24183 03:6491: A5 1F        	lda	<L1037+titleOffsetY_1
 24184 03:6493: 10 01        	bpl	L1057
 24185 03:6495: 88           	dey
 24186                        L1057:
 24187 03:6496: 85 01        	sta	<R0
 24188 03:6498: 84 03        	sty	<R0+2
 24189 03:649A: D4 03        	pei	<R0+2
 24190 03:649C: D4 01        	pei	<R0
 24191 03:649E: A0 00 00     	ldy	#$0
 24192 03:64A1: 5A           	phy
 24193 03:64A2: A0 08 00     	ldy	#$8
 24194 03:64A5: B7 2C        	lda	[<L1036+pWin_0],Y
  Mon Dec  7 2020 11:19                                                Page 446


 24195 03:64A7: 7A           	ply
 24196 03:64A8: 2A           	rol	A
 24197 03:64A9: 6A           	ror	A
 24198 03:64AA: 10 01        	bpl	L1058
 24199 03:64AC: 88           	dey
 24200                        L1058:
 24201 03:64AD: 85 05        	sta	<R1
 24202 03:64AF: 84 07        	sty	<R1+2
 24203 03:64B1: D4 07        	pei	<R1+2
 24204 03:64B3: D4 05        	pei	<R1
 24205 03:64B5: 22 F6 50 03  	jsl	~~k_vdma_fill_rect_ex
 24206                        ;				hy = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,bgcolor,BITMAP_FRONT);
 24207                        	.line	4068
 24208 03:64B9: F4 00 00     	pea	#<$0
 24209 03:64BC: D4 42        	pei	<L1036+bgcolor_0
 24210 03:64BE: D4 1F        	pei	<L1037+titleOffsetY_1
 24211 03:64C0: D4 1D        	pei	<L1037+titleOffsetX_1
 24212 03:64C2: D4 17        	pei	<L1037+caption_1+2
 24213 03:64C4: D4 15        	pei	<L1037+caption_1
 24214 03:64C6: 22 DC 19 03  	jsl	~~k_draw_text_point_ex
 24215 03:64CA: 85 13        	sta	<L1037+hy_1
 24216                        ;			}
 24217                        	.line	4069
 24218                        ;			else
 24219 03:64CC: 82 13 00     	brl	L10448
 24220                        L10447:
 24221                        ;			{
 24222                        	.line	4071
 24223                        ;				hy = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,color,BITMAP_FRONT);
 24224                        	.line	4072
 24225 03:64CF: F4 00 00     	pea	#<$0
 24226 03:64D2: D4 40        	pei	<L1036+color_0
 24227 03:64D4: D4 1F        	pei	<L1037+titleOffsetY_1
 24228 03:64D6: D4 1D        	pei	<L1037+titleOffsetX_1
 24229 03:64D8: D4 17        	pei	<L1037+caption_1+2
 24230 03:64DA: D4 15        	pei	<L1037+caption_1
 24231 03:64DC: 22 DC 19 03  	jsl	~~k_draw_text_point_ex
 24232 03:64E0: 85 13        	sta	<L1037+hy_1
 24233                        ;			}
 24234                        	.line	4073
 24235                        L10448:
 24236                        ;		}
 24237                        	.line	4074
 24238                        L10446:
 24239                        ;		titleOffsetY+=(FONTH + 2);
 24240                        	.line	4075
 24241 03:64E2: 22 E8 71 03  	jsl	~~k_font_getFontHeight
 24242 03:64E6: 85 01        	sta	<R0
 24243 03:64E8: 18           	clc
 24244 03:64E9: A5 01        	lda	<R0
 24245 03:64EB: 65 1F        	adc	<L1037+titleOffsetY_1
 24246 03:64ED: 85 05        	sta	<R1
 24247 03:64EF: 18           	clc
 24248 03:64F0: A9 02 00     	lda	#$2
 24249 03:64F3: 65 05        	adc	<R1
 24250 03:64F5: 85 1F        	sta	<L1037+titleOffsetY_1
  Mon Dec  7 2020 11:19                                                Page 447


 24251                        ;		i++;
 24252                        	.line	4076
 24253 03:64F7: E6 11        	inc	<L1037+i_1
 24254                        ;		caption = captions[i];
 24255                        	.line	4077
 24256 03:64F9: A0 00 00     	ldy	#$0
 24257 03:64FC: A5 11        	lda	<L1037+i_1
 24258 03:64FE: 10 01        	bpl	L1059
 24259 03:6500: 88           	dey
 24260                        L1059:
 24261 03:6501: 85 05        	sta	<R1
 24262 03:6503: 84 07        	sty	<R1+2
 24263 03:6505: D4 07        	pei	<R1+2
 24264 03:6507: D4 05        	pei	<R1
 24265 03:6509: A9 02 00     	lda	#$2
 24266                        	xref	~~~lasl
 24267 03:650C: 22 xx xx xx  	jsl	~~~lasl
 24268 03:6510: 85 01        	sta	<R0
 24269 03:6512: 86 03        	stx	<R0+2
 24270 03:6514: 18           	clc
 24271 03:6515: A5 3C        	lda	<L1036+captions_0
 24272 03:6517: 65 01        	adc	<R0
 24273 03:6519: 85 09        	sta	<R2
 24274 03:651B: A5 3E        	lda	<L1036+captions_0+2
 24275 03:651D: 65 03        	adc	<R0+2
 24276 03:651F: 85 0B        	sta	<R2+2
 24277 03:6521: A7 09        	lda	[<R2]
 24278 03:6523: 85 15        	sta	<L1037+caption_1
 24279 03:6525: A0 02 00     	ldy	#$2
 24280 03:6528: B7 09        	lda	[<R2],Y
 24281 03:652A: 85 17        	sta	<L1037+caption_1+2
 24282                        ;	}
 24283                        	.line	4078
 24284 03:652C: 82 4E FE     	brl	L10440
 24285                        L10441:
 24286                        ;
 24287                        ;	return NULL;
 24288                        	.line	4080
 24289 03:652F: A9 00 00     	lda	#$0
 24290 03:6532: AA           	tax
 24291 03:6533: A9 00 00     	lda	#$0
 24292                        L1060:
 24293 03:6536: A8           	tay
 24294 03:6537: A5 2A        	lda	<L1036+2
 24295 03:6539: 85 42        	sta	<L1036+2+24
 24296 03:653B: A5 29        	lda	<L1036+1
 24297 03:653D: 85 41        	sta	<L1036+1+24
 24298 03:653F: 2B           	pld
 24299 03:6540: 3B           	tsc
 24300 03:6541: 18           	clc
 24301 03:6542: 69 40 00     	adc	#L1036+24
 24302 03:6545: 1B           	tcs
 24303 03:6546: 98           	tya
 24304 03:6547: 6B           	rtl
 24305                        ;
 24306                        ;}
 24307                        	.line	4082
 24308                        	.endblock	4082
  Mon Dec  7 2020 11:19                                                Page 448


 24309             00000028   L1036	equ	40
 24310             0000000D   L1037	equ	13
 24311 03:6548:              	ends
 24312                        	efunc
 24313                        	.endfunc	4082,13,40
 24314                        	.line	4082
 24315                        ;
 24316                        ;
 24317                        ;PMENU k_render_context_menu(PMENU menu)
 24318                        ;{
 24319                        	.line	4085
 24320                        	.line	4086
 24321                        	GUI
 24322                        	xdef	~~k_render_context_menu
 24323                        	func
 24324                        	.function	4086
 24325                        ~~k_render_context_menu:
 24326                        	longa	on
 24327                        	longi	on
 24328 03:6548: 3B           	tsc
 24329 03:6549: 38           	sec
 24330 03:654A: E9 2A 00     	sbc	#L1061
 24331 03:654D: 1B           	tcs
 24332 03:654E: 0B           	phd
 24333 03:654F: 5B           	tcd
 24334             00000004   menu_0	set	4
 24335                        	.block	4086
 24336                        ;	FONTMETRIC metric;
 24337                        ;
 24338                        ;	int i = 0;
 24339                        ;
 24340                        ;	int cx = menu->cx;
 24341                        ;	int cy = menu->cy;
 24342                        ;
 24343                        ;	char FAR *caption = NULL;
 24344                        ;
 24345                        ;	int borderTitle = 10;
 24346                        ;	int borderWidth = 3;
 24347                        ;
 24348                        ;	int titleOffsetX = cx+2;
 24349                        ;	int titleOffsetY = cy+2;
 24350                        ;	int titleScaler = 0;
 24351                        ;
 24352                        ;	int clientOffsetX = cx+borderWidth+2;
 24353                        ;	int clientOffsetY = cy+borderTitle+1;
 24354                        ;
 24355                        ;	int endX = menu->width + cx - borderWidth;
 24356                        ;
 24357                        ;
 24358                        ;/*
 24359                        ;	k_get_font_metrics(&metric);
 24360                        ;
 24361                        ;	height += metric.height + (int)(metric.width/4);
 24362                        ;
 24363                        ;	menu->cx = cx;
 24364                        ;	menu->cy = cy;
 24365                        ;	menu->height = height;
 24366                        ;	menu->width = width;
  Mon Dec  7 2020 11:19                                                Page 449


 24367                        ;
 24368                        ;	*/
 24369                        ;
 24370                        ;	k_vdma_fill_rect(cx-1,cy,menu->width+1,menu->hei
                    ght+1,0);
 24371             00000000   metric_1	set	0
 24372             00000004   i_1	set	4
 24373             00000006   cx_1	set	6
 24374             00000008   cy_1	set	8
 24375             0000000A   caption_1	set	10
 24376             0000000E   borderTitle_1	set	14
 24377             00000010   borderWidth_1	set	16
 24378             00000012   titleOffsetX_1	set	18
 24379             00000014   titleOffsetY_1	set	20
 24380             00000016   titleScaler_1	set	22
 24381             00000018   clientOffsetX_1	set	24
 24382             0000001A   clientOffsetY_1	set	26
 24383             0000001C   endX_1	set	28
 24384                        	.sym	metric,0,10,1,32,32
 24385                        	.sym	i,4,5,1,16
 24386                        	.sym	cx,6,5,1,16
 24387                        	.sym	cy,8,5,1,16
 24388                        	.sym	caption,10,142,1,32
 24389                        	.sym	borderTitle,14,5,1,16
 24390                        	.sym	borderWidth,16,5,1,16
 24391                        	.sym	titleOffsetX,18,5,1,16
 24392                        	.sym	titleOffsetY,20,5,1,16
 24393                        	.sym	titleScaler,22,5,1,16
 24394                        	.sym	clientOffsetX,24,5,1,16
 24395                        	.sym	clientOffsetY,26,5,1,16
 24396                        	.sym	endX,28,5,1,16
 24397                        	.sym	menu,4,138,6,32,34
 24398 03:6550: 64 11        	stz	<L1062+i_1
 24399 03:6552: A7 2E        	lda	[<L1061+menu_0]
 24400 03:6554: 85 13        	sta	<L1062+cx_1
 24401 03:6556: A0 02 00     	ldy	#$2
 24402 03:6559: B7 2E        	lda	[<L1061+menu_0],Y
 24403 03:655B: 85 15        	sta	<L1062+cy_1
 24404 03:655D: 64 17        	stz	<L1062+caption_1
 24405 03:655F: 64 19        	stz	<L1062+caption_1+2
 24406 03:6561: A9 0A 00     	lda	#$a
 24407 03:6564: 85 1B        	sta	<L1062+borderTitle_1
 24408 03:6566: A9 03 00     	lda	#$3
 24409 03:6569: 85 1D        	sta	<L1062+borderWidth_1
 24410 03:656B: 18           	clc
 24411 03:656C: A9 02 00     	lda	#$2
 24412 03:656F: 65 13        	adc	<L1062+cx_1
 24413 03:6571: 85 1F        	sta	<L1062+titleOffsetX_1
 24414 03:6573: 18           	clc
 24415 03:6574: A9 02 00     	lda	#$2
 24416 03:6577: 65 15        	adc	<L1062+cy_1
 24417 03:6579: 85 21        	sta	<L1062+titleOffsetY_1
 24418 03:657B: 64 23        	stz	<L1062+titleScaler_1
 24419 03:657D: 18           	clc
 24420 03:657E: A5 13        	lda	<L1062+cx_1
 24421 03:6580: 65 1D        	adc	<L1062+borderWidth_1
 24422 03:6582: 85 01        	sta	<R0
 24423 03:6584: 18           	clc
  Mon Dec  7 2020 11:19                                                Page 450


 24424 03:6585: A9 02 00     	lda	#$2
 24425 03:6588: 65 01        	adc	<R0
 24426 03:658A: 85 25        	sta	<L1062+clientOffsetX_1
 24427 03:658C: 18           	clc
 24428 03:658D: A5 15        	lda	<L1062+cy_1
 24429 03:658F: 65 1B        	adc	<L1062+borderTitle_1
 24430 03:6591: 85 01        	sta	<R0
 24431 03:6593: A5 01        	lda	<R0
 24432 03:6595: 1A           	ina
 24433 03:6596: 85 27        	sta	<L1062+clientOffsetY_1
 24434 03:6598: 18           	clc
 24435 03:6599: A0 04 00     	ldy	#$4
 24436 03:659C: B7 2E        	lda	[<L1061+menu_0],Y
 24437 03:659E: 65 13        	adc	<L1062+cx_1
 24438 03:65A0: 85 01        	sta	<R0
 24439 03:65A2: 38           	sec
 24440 03:65A3: A5 01        	lda	<R0
 24441 03:65A5: E5 1D        	sbc	<L1062+borderWidth_1
 24442 03:65A7: 85 29        	sta	<L1062+endX_1
 24443                        	.line	4121
 24444 03:65A9: F4 00 00     	pea	#<$0
 24445 03:65AC: A0 06 00     	ldy	#$6
 24446 03:65AF: B7 2E        	lda	[<L1061+menu_0],Y
 24447 03:65B1: 1A           	ina
 24448 03:65B2: 48           	pha
 24449 03:65B3: A0 04 00     	ldy	#$4
 24450 03:65B6: B7 2E        	lda	[<L1061+menu_0],Y
 24451 03:65B8: 1A           	ina
 24452 03:65B9: 48           	pha
 24453 03:65BA: A0 00 00     	ldy	#$0
 24454 03:65BD: A5 15        	lda	<L1062+cy_1
 24455 03:65BF: 10 01        	bpl	L1064
 24456 03:65C1: 88           	dey
 24457                        L1064:
 24458 03:65C2: 85 01        	sta	<R0
 24459 03:65C4: 84 03        	sty	<R0+2
 24460 03:65C6: D4 03        	pei	<R0+2
 24461 03:65C8: D4 01        	pei	<R0
 24462 03:65CA: 18           	clc
 24463 03:65CB: A9 FF FF     	lda	#$ffff
 24464 03:65CE: 65 13        	adc	<L1062+cx_1
 24465 03:65D0: 85 05        	sta	<R1
 24466 03:65D2: A0 00 00     	ldy	#$0
 24467 03:65D5: A5 05        	lda	<R1
 24468 03:65D7: 10 01        	bpl	L1065
 24469 03:65D9: 88           	dey
 24470                        L1065:
 24471 03:65DA: 85 05        	sta	<R1
 24472 03:65DC: 84 07        	sty	<R1+2
 24473 03:65DE: D4 07        	pei	<R1+2
 24474 03:65E0: D4 05        	pei	<R1
 24475 03:65E2: 22 49 51 03  	jsl	~~k_vdma_fill_rect
 24476                        ;	k_vdma_fill_rect(cx,cy,menu->width,menu->height,
                    menu->fcolor);
 24477                        	.line	4122
 24478 03:65E6: A0 08 00     	ldy	#$8
 24479 03:65E9: B7 2E        	lda	[<L1061+menu_0],Y
 24480 03:65EB: 48           	pha
  Mon Dec  7 2020 11:19                                                Page 451


 24481 03:65EC: A0 06 00     	ldy	#$6
 24482 03:65EF: B7 2E        	lda	[<L1061+menu_0],Y
 24483 03:65F1: 48           	pha
 24484 03:65F2: A0 04 00     	ldy	#$4
 24485 03:65F5: B7 2E        	lda	[<L1061+menu_0],Y
 24486 03:65F7: 48           	pha
 24487 03:65F8: A0 00 00     	ldy	#$0
 24488 03:65FB: A5 15        	lda	<L1062+cy_1
 24489 03:65FD: 10 01        	bpl	L1066
 24490 03:65FF: 88           	dey
 24491                        L1066:
 24492 03:6600: 85 01        	sta	<R0
 24493 03:6602: 84 03        	sty	<R0+2
 24494 03:6604: D4 03        	pei	<R0+2
 24495 03:6606: D4 01        	pei	<R0
 24496 03:6608: A0 00 00     	ldy	#$0
 24497 03:660B: A5 13        	lda	<L1062+cx_1
 24498 03:660D: 10 01        	bpl	L1067
 24499 03:660F: 88           	dey
 24500                        L1067:
 24501 03:6610: 85 05        	sta	<R1
 24502 03:6612: 84 07        	sty	<R1+2
 24503 03:6614: D4 07        	pei	<R1+2
 24504 03:6616: D4 05        	pei	<R1
 24505 03:6618: 22 49 51 03  	jsl	~~k_vdma_fill_rect
 24506                        ;
 24507                        ;	//k_delay(15);
 24508                        ;
 24509                        ;
 24510                        ;
 24511                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 24512                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 24513                        ;	i = 0;
 24514                        	.line	4130
 24515 03:661C: 64 11        	stz	<L1062+i_1
 24516                        ;	caption = ((LPCHAR*)menu->pCaption)[0];
 24517                        	.line	4131
 24518 03:661E: A0 0F 00     	ldy	#$f
 24519 03:6621: B7 2E        	lda	[<L1061+menu_0],Y
 24520 03:6623: 85 01        	sta	<R0
 24521 03:6625: A0 11 00     	ldy	#$11
 24522 03:6628: B7 2E        	lda	[<L1061+menu_0],Y
 24523 03:662A: 85 03        	sta	<R0+2
 24524 03:662C: A7 01        	lda	[<R0]
 24525 03:662E: 85 17        	sta	<L1062+caption_1
 24526 03:6630: A0 02 00     	ldy	#$2
 24527 03:6633: B7 01        	lda	[<R0],Y
 24528 03:6635: 85 19        	sta	<L1062+caption_1+2
 24529                        ;	while(caption!=NULL)
 24530                        	.line	4132
 24531                        L10449:
 24532 03:6637: A5 17        	lda	<L1062+caption_1
 24533 03:6639: 05 19        	ora	<L1062+caption_1+2
 24534 03:663B: D0 03        	bne	L1068
 24535 03:663D: 82 62 00     	brl	L10450
 24536                        L1068:
  Mon Dec  7 2020 11:19                                                Page 452


 24537                        ;	{
 24538                        	.line	4133
 24539                        ;		//caption = strupr(caption);
 24540                        ;		k_draw_text_point(caption,titleOffsetX,t
                    itleOffsetY,0);
 24541                        	.line	4135
 24542 03:6640: F4 00 00     	pea	#<$0
 24543 03:6643: D4 21        	pei	<L1062+titleOffsetY_1
 24544 03:6645: D4 1F        	pei	<L1062+titleOffsetX_1
 24545 03:6647: D4 19        	pei	<L1062+caption_1+2
 24546 03:6649: D4 17        	pei	<L1062+caption_1
 24547 03:664B: 22 62 1A 03  	jsl	~~k_draw_text_point
 24548                        ;		titleOffsetY+=(FONTH + 2);
 24549                        	.line	4136
 24550 03:664F: 22 E8 71 03  	jsl	~~k_font_getFontHeight
 24551 03:6653: 85 01        	sta	<R0
 24552 03:6655: 18           	clc
 24553 03:6656: A5 01        	lda	<R0
 24554 03:6658: 65 21        	adc	<L1062+titleOffsetY_1
 24555 03:665A: 85 05        	sta	<R1
 24556 03:665C: 18           	clc
 24557 03:665D: A9 02 00     	lda	#$2
 24558 03:6660: 65 05        	adc	<R1
 24559 03:6662: 85 21        	sta	<L1062+titleOffsetY_1
 24560                        ;		i++;
 24561                        	.line	4137
 24562 03:6664: E6 11        	inc	<L1062+i_1
 24563                        ;		caption = ((LPCHAR*)menu->pCaption)[i];
 24564                        	.line	4138
 24565 03:6666: A0 00 00     	ldy	#$0
 24566 03:6669: A5 11        	lda	<L1062+i_1
 24567 03:666B: 10 01        	bpl	L1069
 24568 03:666D: 88           	dey
 24569                        L1069:
 24570 03:666E: 85 05        	sta	<R1
 24571 03:6670: 84 07        	sty	<R1+2
 24572 03:6672: D4 07        	pei	<R1+2
 24573 03:6674: D4 05        	pei	<R1
 24574 03:6676: A9 02 00     	lda	#$2
 24575                        	xref	~~~lasl
 24576 03:6679: 22 xx xx xx  	jsl	~~~lasl
 24577 03:667D: 85 01        	sta	<R0
 24578 03:667F: 86 03        	stx	<R0+2
 24579 03:6681: 18           	clc
 24580 03:6682: A0 0F 00     	ldy	#$f
 24581 03:6685: B7 2E        	lda	[<L1061+menu_0],Y
 24582 03:6687: 65 01        	adc	<R0
 24583 03:6689: 85 09        	sta	<R2
 24584 03:668B: A0 11 00     	ldy	#$11
 24585 03:668E: B7 2E        	lda	[<L1061+menu_0],Y
 24586 03:6690: 65 03        	adc	<R0+2
 24587 03:6692: 85 0B        	sta	<R2+2
 24588 03:6694: A7 09        	lda	[<R2]
 24589 03:6696: 85 17        	sta	<L1062+caption_1
 24590 03:6698: A0 02 00     	ldy	#$2
 24591 03:669B: B7 09        	lda	[<R2],Y
 24592 03:669D: 85 19        	sta	<L1062+caption_1+2
 24593                        ;	}
  Mon Dec  7 2020 11:19                                                Page 453


 24594                        	.line	4139
 24595 03:669F: 82 95 FF     	brl	L10449
 24596                        L10450:
 24597                        ;
 24598                        ;	return menu;
 24599                        	.line	4141
 24600 03:66A2: A6 30        	ldx	<L1061+menu_0+2
 24601 03:66A4: A5 2E        	lda	<L1061+menu_0
 24602                        L1070:
 24603 03:66A6: A8           	tay
 24604 03:66A7: A5 2C        	lda	<L1061+2
 24605 03:66A9: 85 30        	sta	<L1061+2+4
 24606 03:66AB: A5 2B        	lda	<L1061+1
 24607 03:66AD: 85 2F        	sta	<L1061+1+4
 24608 03:66AF: 2B           	pld
 24609 03:66B0: 3B           	tsc
 24610 03:66B1: 18           	clc
 24611 03:66B2: 69 2E 00     	adc	#L1061+4
 24612 03:66B5: 1B           	tcs
 24613 03:66B6: 98           	tya
 24614 03:66B7: 6B           	rtl
 24615                        ;
 24616                        ;}
 24617                        	.line	4143
 24618                        	.endblock	4143
 24619             0000002A   L1061	equ	42
 24620             0000000D   L1062	equ	13
 24621 03:66B8:              	ends
 24622                        	efunc
 24623                        	.endfunc	4143,13,42
 24624                        	.line	4143
 24625                        ;
 24626                        ;void k_free_context_menu(PMENU pmenu,char fcolor,
                    char bcolor)
 24627                        ;{
 24628                        	.line	4145
 24629                        	.line	4146
 24630                        	GUI
 24631                        	xdef	~~k_free_context_menu
 24632                        	func
 24633                        	.function	4146
 24634                        ~~k_free_context_menu:
 24635                        	longa	on
 24636                        	longi	on
 24637 03:66B8: 3B           	tsc
 24638 03:66B9: 38           	sec
 24639 03:66BA: E9 08 00     	sbc	#L1071
 24640 03:66BD: 1B           	tcs
 24641 03:66BE: 0B           	phd
 24642 03:66BF: 5B           	tcd
 24643             00000004   pmenu_0	set	4
 24644             00000008   fcolor_0	set	8
 24645             0000000A   bcolor_0	set	10
 24646                        	.block	4146
 24647                        ;	if(pmenu)
 24648                        	.sym	pmenu,4,138,6,32,34
 24649                        	.sym	fcolor,8,14,6,8
 24650                        	.sym	bcolor,10,14,6,8
  Mon Dec  7 2020 11:19                                                Page 454


 24651                        	.line	4147
 24652                        ;	{
 24653 03:66C0: A5 0C        	lda	<L1071+pmenu_0
 24654 03:66C2: 05 0E        	ora	<L1071+pmenu_0+2
 24655 03:66C4: D0 03        	bne	L1074
 24656 03:66C6: 82 4B 00     	brl	L10451
 24657                        L1074:
 24658                        	.line	4148
 24659                        ;		k_vdma_fill_rect(pmenu->cx-1,pmenu->cy,p
                    menu->width+1,pmenu->height+1,bcolor);
 24660                        	.line	4149
 24661 03:66C9: D4 12        	pei	<L1071+bcolor_0
 24662 03:66CB: A0 06 00     	ldy	#$6
 24663 03:66CE: B7 0C        	lda	[<L1071+pmenu_0],Y
 24664 03:66D0: 1A           	ina
 24665 03:66D1: 48           	pha
 24666 03:66D2: A0 04 00     	ldy	#$4
 24667 03:66D5: B7 0C        	lda	[<L1071+pmenu_0],Y
 24668 03:66D7: 1A           	ina
 24669 03:66D8: 48           	pha
 24670 03:66D9: A0 00 00     	ldy	#$0
 24671 03:66DC: 5A           	phy
 24672 03:66DD: A0 02 00     	ldy	#$2
 24673 03:66E0: B7 0C        	lda	[<L1071+pmenu_0],Y
 24674 03:66E2: 7A           	ply
 24675 03:66E3: 2A           	rol	A
 24676 03:66E4: 6A           	ror	A
 24677 03:66E5: 10 01        	bpl	L1075
 24678 03:66E7: 88           	dey
 24679                        L1075:
 24680 03:66E8: 85 01        	sta	<R0
 24681 03:66EA: 84 03        	sty	<R0+2
 24682 03:66EC: D4 03        	pei	<R0+2
 24683 03:66EE: D4 01        	pei	<R0
 24684 03:66F0: 18           	clc
 24685 03:66F1: A9 FF FF     	lda	#$ffff
 24686 03:66F4: 67 0C        	adc	[<L1071+pmenu_0]
 24687 03:66F6: 85 05        	sta	<R1
 24688 03:66F8: A0 00 00     	ldy	#$0
 24689 03:66FB: A5 05        	lda	<R1
 24690 03:66FD: 10 01        	bpl	L1076
 24691 03:66FF: 88           	dey
 24692                        L1076:
 24693 03:6700: 85 05        	sta	<R1
 24694 03:6702: 84 07        	sty	<R1+2
 24695 03:6704: D4 07        	pei	<R1+2
 24696 03:6706: D4 05        	pei	<R1
 24697 03:6708: 22 49 51 03  	jsl	~~k_vdma_fill_rect
 24698                        ;		//k_vdma_fill_rect(pmenu->cx,pmenu->cy,p
                    menu->width,pmenu->height,bcolor);
 24699                        ;		k_mem_deallocate_heap(pmenu);
 24700                        	.line	4151
 24701 03:670C: D4 0E        	pei	<L1071+pmenu_0+2
 24702 03:670E: D4 0C        	pei	<L1071+pmenu_0
 24703 03:6710: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 24704                        ;	}
 24705                        	.line	4152
 24706                        ;}
  Mon Dec  7 2020 11:19                                                Page 455


 24707                        L10451:
 24708                        	.line	4153
 24709                        L1077:
 24710 03:6714: A5 0A        	lda	<L1071+2
 24711 03:6716: 85 12        	sta	<L1071+2+8
 24712 03:6718: A5 09        	lda	<L1071+1
 24713 03:671A: 85 11        	sta	<L1071+1+8
 24714 03:671C: 2B           	pld
 24715 03:671D: 3B           	tsc
 24716 03:671E: 18           	clc
 24717 03:671F: 69 10 00     	adc	#L1071+8
 24718 03:6722: 1B           	tcs
 24719 03:6723: 6B           	rtl
 24720                        	.endblock	4153
 24721             00000008   L1071	equ	8
 24722             00000009   L1072	equ	9
 24723 03:6724:              	ends
 24724                        	efunc
 24725                        	.endfunc	4153,9,8
 24726                        	.line	4153
 24727                        ;
 24728                        ;void k_bitblt(int x0, int y0, int width, int heig
                    ht, int x1, int y1)
 24729                        ;{
 24730                        	.line	4155
 24731                        	.line	4156
 24732                        	GUI
 24733                        	xdef	~~k_bitblt
 24734                        	func
 24735                        	.function	4156
 24736                        ~~k_bitblt:
 24737                        	longa	on
 24738                        	longi	on
 24739 03:6724: 3B           	tsc
 24740 03:6725: 38           	sec
 24741 03:6726: E9 20 00     	sbc	#L1078
 24742 03:6729: 1B           	tcs
 24743 03:672A: 0B           	phd
 24744 03:672B: 5B           	tcd
 24745             00000004   x0_0	set	4
 24746             00000006   y0_0	set	6
 24747             00000008   width_0	set	8
 24748             0000000A   height_0	set	10
 24749             0000000C   x1_0	set	12
 24750             0000000E   y1_0	set	14
 24751                        	.block	4156
 24752                        ;	long dy = 0L;
 24753                        ;	long dd = y1;
 24754                        ;	long pixelLocation0 = (long)(((long)y0 * 640L) +
                     (long)x0);
 24755                        ;	long pixelLocation1 = (long)(((long)y0 * 640L) +
                     (long)(x0 + width ));
 24756                        ;	long pixelLocationD = (long)(((long)y1 * 640L) +
                     (long)(x1));
 24757                        ;
 24758                        ;	long difference = pixelLocation1 - pixelLocation
                    0;
 24759                        ;
  Mon Dec  7 2020 11:19                                                Page 456


 24760                        ;	k_debug_long("pixelLocation0:",pixelLocation0);
 24761             00000000   dy_1	set	0
 24762             00000004   dd_1	set	4
 24763             00000008   pixelLocation0_1	set	8
 24764             0000000C   pixelLocation1_1	set	12
 24765             00000010   pixelLocationD_1	set	16
 24766             00000014   difference_1	set	20
 24767                        	.sym	dy,0,7,1,32
 24768                        	.sym	dd,4,7,1,32
 24769                        	.sym	pixelLocation0,8,7,1,32
 24770                        	.sym	pixelLocation1,12,7,1,32
 24771                        	.sym	pixelLocationD,16,7,1,32
 24772                        	.sym	difference,20,7,1,32
 24773                        	.sym	x0,4,5,6,16
 24774                        	.sym	y0,6,5,6,16
 24775                        	.sym	width,8,5,6,16
 24776                        	.sym	height,10,5,6,16
 24777                        	.sym	x1,12,5,6,16
 24778                        	.sym	y1,14,5,6,16
 24779 03:672C: 64 09        	stz	<L1079+dy_1
 24780 03:672E: 64 0B        	stz	<L1079+dy_1+2
 24781 03:6730: A0 00 00     	ldy	#$0
 24782 03:6733: A5 2E        	lda	<L1078+y1_0
 24783 03:6735: 10 01        	bpl	L1081
 24784 03:6737: 88           	dey
 24785                        L1081:
 24786 03:6738: 85 0D        	sta	<L1079+dd_1
 24787 03:673A: 84 0F        	sty	<L1079+dd_1+2
 24788 03:673C: A0 00 00     	ldy	#$0
 24789 03:673F: A5 24        	lda	<L1078+x0_0
 24790 03:6741: 10 01        	bpl	L1082
 24791 03:6743: 88           	dey
 24792                        L1082:
 24793 03:6744: 85 01        	sta	<R0
 24794 03:6746: 84 03        	sty	<R0+2
 24795 03:6748: A0 00 00     	ldy	#$0
 24796 03:674B: A5 26        	lda	<L1078+y0_0
 24797 03:674D: 10 01        	bpl	L1083
 24798 03:674F: 88           	dey
 24799                        L1083:
 24800 03:6750: 85 05        	sta	<R1
 24801 03:6752: 84 07        	sty	<R1+2
 24802 03:6754: F4 00 00     	pea	#^$280
 24803 03:6757: F4 80 02     	pea	#<$280
 24804 03:675A: D4 07        	pei	<R1+2
 24805 03:675C: D4 05        	pei	<R1
 24806                        	xref	~~~lmul
 24807 03:675E: 22 xx xx xx  	jsl	~~~lmul
 24808 03:6762: 85 05        	sta	<R1
 24809 03:6764: 86 07        	stx	<R1+2
 24810 03:6766: 18           	clc
 24811 03:6767: A5 05        	lda	<R1
 24812 03:6769: 65 01        	adc	<R0
 24813 03:676B: 85 11        	sta	<L1079+pixelLocation0_1
 24814 03:676D: A5 07        	lda	<R1+2
 24815 03:676F: 65 03        	adc	<R0+2
 24816 03:6771: 85 13        	sta	<L1079+pixelLocation0_1+2
 24817 03:6773: 18           	clc
  Mon Dec  7 2020 11:19                                                Page 457


 24818 03:6774: A5 24        	lda	<L1078+x0_0
 24819 03:6776: 65 28        	adc	<L1078+width_0
 24820 03:6778: 85 01        	sta	<R0
 24821 03:677A: A0 00 00     	ldy	#$0
 24822 03:677D: A5 01        	lda	<R0
 24823 03:677F: 10 01        	bpl	L1084
 24824 03:6781: 88           	dey
 24825                        L1084:
 24826 03:6782: 85 01        	sta	<R0
 24827 03:6784: 84 03        	sty	<R0+2
 24828 03:6786: A0 00 00     	ldy	#$0
 24829 03:6789: A5 26        	lda	<L1078+y0_0
 24830 03:678B: 10 01        	bpl	L1085
 24831 03:678D: 88           	dey
 24832                        L1085:
 24833 03:678E: 85 05        	sta	<R1
 24834 03:6790: 84 07        	sty	<R1+2
 24835 03:6792: F4 00 00     	pea	#^$280
 24836 03:6795: F4 80 02     	pea	#<$280
 24837 03:6798: D4 07        	pei	<R1+2
 24838 03:679A: D4 05        	pei	<R1
 24839                        	xref	~~~lmul
 24840 03:679C: 22 xx xx xx  	jsl	~~~lmul
 24841 03:67A0: 85 05        	sta	<R1
 24842 03:67A2: 86 07        	stx	<R1+2
 24843 03:67A4: 18           	clc
 24844 03:67A5: A5 05        	lda	<R1
 24845 03:67A7: 65 01        	adc	<R0
 24846 03:67A9: 85 15        	sta	<L1079+pixelLocation1_1
 24847 03:67AB: A5 07        	lda	<R1+2
 24848 03:67AD: 65 03        	adc	<R0+2
 24849 03:67AF: 85 17        	sta	<L1079+pixelLocation1_1+2
 24850 03:67B1: A0 00 00     	ldy	#$0
 24851 03:67B4: A5 2C        	lda	<L1078+x1_0
 24852 03:67B6: 10 01        	bpl	L1086
 24853 03:67B8: 88           	dey
 24854                        L1086:
 24855 03:67B9: 85 01        	sta	<R0
 24856 03:67BB: 84 03        	sty	<R0+2
 24857 03:67BD: A0 00 00     	ldy	#$0
 24858 03:67C0: A5 2E        	lda	<L1078+y1_0
 24859 03:67C2: 10 01        	bpl	L1087
 24860 03:67C4: 88           	dey
 24861                        L1087:
 24862 03:67C5: 85 05        	sta	<R1
 24863 03:67C7: 84 07        	sty	<R1+2
 24864 03:67C9: F4 00 00     	pea	#^$280
 24865 03:67CC: F4 80 02     	pea	#<$280
 24866 03:67CF: D4 07        	pei	<R1+2
 24867 03:67D1: D4 05        	pei	<R1
 24868                        	xref	~~~lmul
 24869 03:67D3: 22 xx xx xx  	jsl	~~~lmul
 24870 03:67D7: 85 05        	sta	<R1
 24871 03:67D9: 86 07        	stx	<R1+2
 24872 03:67DB: 18           	clc
 24873 03:67DC: A5 05        	lda	<R1
 24874 03:67DE: 65 01        	adc	<R0
 24875 03:67E0: 85 19        	sta	<L1079+pixelLocationD_1
  Mon Dec  7 2020 11:19                                                Page 458


 24876 03:67E2: A5 07        	lda	<R1+2
 24877 03:67E4: 65 03        	adc	<R0+2
 24878 03:67E6: 85 1B        	sta	<L1079+pixelLocationD_1+2
 24879 03:67E8: 38           	sec
 24880 03:67E9: A5 15        	lda	<L1079+pixelLocation1_1
 24881 03:67EB: E5 11        	sbc	<L1079+pixelLocation0_1
 24882 03:67ED: 85 1D        	sta	<L1079+difference_1
 24883 03:67EF: A5 17        	lda	<L1079+pixelLocation1_1+2
 24884 03:67F1: E5 13        	sbc	<L1079+pixelLocation0_1+2
 24885 03:67F3: 85 1F        	sta	<L1079+difference_1+2
 24886                        	.line	4165
 24887 03:67F5: D4 13        	pei	<L1079+pixelLocation0_1+2
 24888 03:67F7: D4 11        	pei	<L1079+pixelLocation0_1
 24889 03:67F9: F4 xx xx     	pea	#^L1035
 24890 03:67FC: F4 xx xx     	pea	#<L1035
 24891 03:67FF: 22 xx xx xx  	jsl	~~k_debug_long
 24892                        ;	k_debug_long("pixelLocation1:",pixelLocation1);
 24893                        	.line	4166
 24894 03:6803: D4 17        	pei	<L1079+pixelLocation1_1+2
 24895 03:6805: D4 15        	pei	<L1079+pixelLocation1_1
 24896 03:6807: F4 xx xx     	pea	#^L1035+16
 24897 03:680A: F4 xx xx     	pea	#<L1035+16
 24898 03:680D: 22 xx xx xx  	jsl	~~k_debug_long
 24899                        ;	k_debug_long("pixelLocationD:",pixelLocationD);
 24900                        	.line	4167
 24901 03:6811: D4 1B        	pei	<L1079+pixelLocationD_1+2
 24902 03:6813: D4 19        	pei	<L1079+pixelLocationD_1
 24903 03:6815: F4 xx xx     	pea	#^L1035+32
 24904 03:6818: F4 xx xx     	pea	#<L1035+32
 24905 03:681B: 22 xx xx xx  	jsl	~~k_debug_long
 24906                        ;	k_debug_long("difference:",difference);
 24907                        	.line	4168
 24908 03:681F: D4 1F        	pei	<L1079+difference_1+2
 24909 03:6821: D4 1D        	pei	<L1079+difference_1
 24910 03:6823: F4 xx xx     	pea	#^L1035+48
 24911 03:6826: F4 xx xx     	pea	#<L1035+48
 24912 03:6829: 22 xx xx xx  	jsl	~~k_debug_long
 24913                        ;
 24914                        ;
 24915                        ;
 24916                        ;	for(dy = y0;dy<(y0 + height);dy++)
 24917                        	.line	4172
 24918 03:682D: A0 00 00     	ldy	#$0
 24919 03:6830: A5 26        	lda	<L1078+y0_0
 24920 03:6832: 10 01        	bpl	L1088
 24921 03:6834: 88           	dey
 24922                        L1088:
 24923 03:6835: 85 09        	sta	<L1079+dy_1
 24924 03:6837: 84 0B        	sty	<L1079+dy_1+2
 24925 03:6839: 82 8E 00     	brl	L10455
 24926                        L10454:
 24927                        ;	{
 24928                        	.line	4173
 24929                        ;		pixelLocation0 = (long)(((long)dy * 640L
                    ) + (long)x0);
 24930                        	.line	4174
 24931 03:683C: A0 00 00     	ldy	#$0
 24932 03:683F: A5 24        	lda	<L1078+x0_0
  Mon Dec  7 2020 11:19                                                Page 459


 24933 03:6841: 10 01        	bpl	L1089
 24934 03:6843: 88           	dey
 24935                        L1089:
 24936 03:6844: 85 01        	sta	<R0
 24937 03:6846: 84 03        	sty	<R0+2
 24938 03:6848: F4 00 00     	pea	#^$280
 24939 03:684B: F4 80 02     	pea	#<$280
 24940 03:684E: D4 0B        	pei	<L1079+dy_1+2
 24941 03:6850: D4 09        	pei	<L1079+dy_1
 24942                        	xref	~~~lmul
 24943 03:6852: 22 xx xx xx  	jsl	~~~lmul
 24944 03:6856: 85 05        	sta	<R1
 24945 03:6858: 86 07        	stx	<R1+2
 24946 03:685A: 18           	clc
 24947 03:685B: A5 05        	lda	<R1
 24948 03:685D: 65 01        	adc	<R0
 24949 03:685F: 85 11        	sta	<L1079+pixelLocation0_1
 24950 03:6861: A5 07        	lda	<R1+2
 24951 03:6863: 65 03        	adc	<R0+2
 24952 03:6865: 85 13        	sta	<L1079+pixelLocation0_1+2
 24953                        ;		pixelLocationD = (long)(((long)dd * 640L
                    ) + (long)(x1));
 24954                        	.line	4175
 24955 03:6867: A0 00 00     	ldy	#$0
 24956 03:686A: A5 2C        	lda	<L1078+x1_0
 24957 03:686C: 10 01        	bpl	L1090
 24958 03:686E: 88           	dey
 24959                        L1090:
 24960 03:686F: 85 01        	sta	<R0
 24961 03:6871: 84 03        	sty	<R0+2
 24962 03:6873: F4 00 00     	pea	#^$280
 24963 03:6876: F4 80 02     	pea	#<$280
 24964 03:6879: D4 0F        	pei	<L1079+dd_1+2
 24965 03:687B: D4 0D        	pei	<L1079+dd_1
 24966                        	xref	~~~lmul
 24967 03:687D: 22 xx xx xx  	jsl	~~~lmul
 24968 03:6881: 85 05        	sta	<R1
 24969 03:6883: 86 07        	stx	<R1+2
 24970 03:6885: 18           	clc
 24971 03:6886: A5 05        	lda	<R1
 24972 03:6888: 65 01        	adc	<R0
 24973 03:688A: 85 19        	sta	<L1079+pixelLocationD_1
 24974 03:688C: A5 07        	lda	<R1+2
 24975 03:688E: 65 03        	adc	<R0+2
 24976 03:6890: 85 1B        	sta	<L1079+pixelLocationD_1+2
 24977                        ;		memcpy(   &(((unsigned char FAR *)BITMAP
                    _BANK_0)[pixelLocationD])  , &(((unsigned char FAR *)BITMAP_
                    BANK_0)[pixelLocation0]), difference) ;
 24978                        	.line	4176
 24979 03:6892: D4 1D        	pei	<L1079+difference_1
 24980 03:6894: 18           	clc
 24981 03:6895: A9 00 00     	lda	#$0
 24982 03:6898: 65 11        	adc	<L1079+pixelLocation0_1
 24983 03:689A: 85 01        	sta	<R0
 24984 03:689C: A9 B0 00     	lda	#$b0
 24985 03:689F: 65 13        	adc	<L1079+pixelLocation0_1+2
 24986 03:68A1: 85 03        	sta	<R0+2
 24987 03:68A3: D4 03        	pei	<R0+2
  Mon Dec  7 2020 11:19                                                Page 460


 24988 03:68A5: D4 01        	pei	<R0
 24989 03:68A7: 18           	clc
 24990 03:68A8: A9 00 00     	lda	#$0
 24991 03:68AB: 65 19        	adc	<L1079+pixelLocationD_1
 24992 03:68AD: 85 05        	sta	<R1
 24993 03:68AF: A9 B0 00     	lda	#$b0
 24994 03:68B2: 65 1B        	adc	<L1079+pixelLocationD_1+2
 24995 03:68B4: 85 07        	sta	<R1+2
 24996 03:68B6: D4 07        	pei	<R1+2
 24997 03:68B8: D4 05        	pei	<R1
 24998 03:68BA: 22 xx xx xx  	jsl	~~memcpy
 24999                        ;
 25000                        ;		dd++;
 25001                        	.line	4178
 25002 03:68BE: E6 0D        	inc	<L1079+dd_1
 25003 03:68C0: D0 02        	bne	L1091
 25004 03:68C2: E6 0F        	inc	<L1079+dd_1+2
 25005                        L1091:
 25006                        ;	}
 25007                        	.line	4179
 25008                        L10452:
 25009 03:68C4: E6 09        	inc	<L1079+dy_1
 25010 03:68C6: D0 02        	bne	L1092
 25011 03:68C8: E6 0B        	inc	<L1079+dy_1+2
 25012                        L1092:
 25013                        L10455:
 25014 03:68CA: 18           	clc
 25015 03:68CB: A5 26        	lda	<L1078+y0_0
 25016 03:68CD: 65 2A        	adc	<L1078+height_0
 25017 03:68CF: 85 01        	sta	<R0
 25018 03:68D1: A0 00 00     	ldy	#$0
 25019 03:68D4: A5 01        	lda	<R0
 25020 03:68D6: 10 01        	bpl	L1093
 25021 03:68D8: 88           	dey
 25022                        L1093:
 25023 03:68D9: 85 01        	sta	<R0
 25024 03:68DB: 84 03        	sty	<R0+2
 25025 03:68DD: 38           	sec
 25026 03:68DE: A5 09        	lda	<L1079+dy_1
 25027 03:68E0: E5 01        	sbc	<R0
 25028 03:68E2: A5 0B        	lda	<L1079+dy_1+2
 25029 03:68E4: E5 03        	sbc	<R0+2
 25030 03:68E6: 70 03        	bvs	L1094
 25031 03:68E8: 49 00 80     	eor	#$8000
 25032                        L1094:
 25033 03:68EB: 30 03        	bmi	L1095
 25034 03:68ED: 82 4C FF     	brl	L10454
 25035                        L1095:
 25036                        L10453:
 25037                        ;
 25038                        ;}
 25039                        	.line	4181
 25040                        L1096:
 25041 03:68F0: A5 22        	lda	<L1078+2
 25042 03:68F2: 85 2E        	sta	<L1078+2+12
 25043 03:68F4: A5 21        	lda	<L1078+1
 25044 03:68F6: 85 2D        	sta	<L1078+1+12
 25045 03:68F8: 2B           	pld
  Mon Dec  7 2020 11:19                                                Page 461


 25046 03:68F9: 3B           	tsc
 25047 03:68FA: 18           	clc
 25048 03:68FB: 69 2C 00     	adc	#L1078+12
 25049 03:68FE: 1B           	tcs
 25050 03:68FF: 6B           	rtl
 25051                        	.endblock	4181
 25052             00000020   L1078	equ	32
 25053             00000009   L1079	equ	9
 25054 03:6900:              	ends
 25055                        	efunc
 25056                        	.endfunc	4181,9,32
 25057                        	.line	4181
 25058                        	data
 25059                        L1035:
 25060 00:0DA0: 70 69 78 65  	db	$70,$69,$78,$65,$6C,$4C,$6F,$63,$61,$74,
                    $69,$6F,$6E,$30,$3A
       00:0DA4: 6C 4C 6F 63 
       00:0DA8: 61 74 69 6F 
       00:0DAC: 6E 30 3A 
 25061 00:0DAF: 00 70 69 78  	db	$00,$70,$69,$78,$65,$6C,$4C,$6F,$63,$61,
                    $74,$69,$6F,$6E,$31
       00:0DB3: 65 6C 4C 6F 
       00:0DB7: 63 61 74 69 
       00:0DBB: 6F 6E 31 
 25062 00:0DBE: 3A 00 70 69  	db	$3A,$00,$70,$69,$78,$65,$6C,$4C,$6F,$63,
                    $61,$74,$69,$6F,$6E
       00:0DC2: 78 65 6C 4C 
       00:0DC6: 6F 63 61 74 
       00:0DCA: 69 6F 6E 
 25063 00:0DCD: 44 3A 00 64  	db	$44,$3A,$00,$64,$69,$66,$66,$65,$72,$65,
                    $6E,$63,$65,$3A,$00
       00:0DD1: 69 66 66 65 
       00:0DD5: 72 65 6E 63 
       00:0DD9: 65 3A 00 
 25064 00:0DDC:              	ends
 25065                        ;
 25066                        ;void k_memory_bitblt(LPCHAR srcBank,int x0, int y
                    0, int width, int height,LPCHAR destBank, int x1, int y1, in
                    t direction)
 25067                        ;{
 25068                        	.line	4183
 25069                        	.line	4184
 25070                        	GUI
 25071                        	xdef	~~k_memory_bitblt
 25072                        	func
 25073                        	.function	4184
 25074                        ~~k_memory_bitblt:
 25075                        	longa	on
 25076                        	longi	on
 25077 03:6900: 3B           	tsc
 25078 03:6901: 38           	sec
 25079 03:6902: E9 20 00     	sbc	#L1098
 25080 03:6905: 1B           	tcs
 25081 03:6906: 0B           	phd
 25082 03:6907: 5B           	tcd
 25083             00000004   srcBank_0	set	4
 25084             00000008   x0_0	set	8
 25085             0000000A   y0_0	set	10
  Mon Dec  7 2020 11:19                                                Page 462


 25086             0000000C   width_0	set	12
 25087             0000000E   height_0	set	14
 25088             00000010   destBank_0	set	16
 25089             00000014   x1_0	set	20
 25090             00000016   y1_0	set	22
 25091             00000018   direction_0	set	24
 25092                        	.block	4184
 25093                        ;	long dy = 0L;
 25094                        ;	long dd = y1;
 25095                        ;	long pixelLocation0 = (long)(((long)y0 * 640L) +
                     (long)x0);
 25096                        ;	long pixelLocation1 = (long)(((long)y0 * 640L) +
                     (long)(x0 + width ));
 25097                        ;	long pixelLocationD = (long)(((long)y1 * 640L) +
                     (long)(x1));
 25098                        ;
 25099                        ;	long difference = pixelLocation1 - pixelLocation
                    0;
 25100                        ;
 25101                        ;	k_debug_long("pixelLocation0:",pixelLocation0);
 25102             00000000   dy_1	set	0
 25103             00000004   dd_1	set	4
 25104             00000008   pixelLocation0_1	set	8
 25105             0000000C   pixelLocation1_1	set	12
 25106             00000010   pixelLocationD_1	set	16
 25107             00000014   difference_1	set	20
 25108                        	.sym	dy,0,7,1,32
 25109                        	.sym	dd,4,7,1,32
 25110                        	.sym	pixelLocation0,8,7,1,32
 25111                        	.sym	pixelLocation1,12,7,1,32
 25112                        	.sym	pixelLocationD,16,7,1,32
 25113                        	.sym	difference,20,7,1,32
 25114                        	.sym	srcBank,4,142,6,32
 25115                        	.sym	x0,8,5,6,16
 25116                        	.sym	y0,10,5,6,16
 25117                        	.sym	width,12,5,6,16
 25118                        	.sym	height,14,5,6,16
 25119                        	.sym	destBank,16,142,6,32
 25120                        	.sym	x1,20,5,6,16
 25121                        	.sym	y1,22,5,6,16
 25122                        	.sym	direction,24,5,6,16
 25123 03:6908: 64 09        	stz	<L1099+dy_1
 25124 03:690A: 64 0B        	stz	<L1099+dy_1+2
 25125 03:690C: A0 00 00     	ldy	#$0
 25126 03:690F: A5 36        	lda	<L1098+y1_0
 25127 03:6911: 10 01        	bpl	L1101
 25128 03:6913: 88           	dey
 25129                        L1101:
 25130 03:6914: 85 0D        	sta	<L1099+dd_1
 25131 03:6916: 84 0F        	sty	<L1099+dd_1+2
 25132 03:6918: A0 00 00     	ldy	#$0
 25133 03:691B: A5 28        	lda	<L1098+x0_0
 25134 03:691D: 10 01        	bpl	L1102
 25135 03:691F: 88           	dey
 25136                        L1102:
 25137 03:6920: 85 01        	sta	<R0
 25138 03:6922: 84 03        	sty	<R0+2
 25139 03:6924: A0 00 00     	ldy	#$0
  Mon Dec  7 2020 11:19                                                Page 463


 25140 03:6927: A5 2A        	lda	<L1098+y0_0
 25141 03:6929: 10 01        	bpl	L1103
 25142 03:692B: 88           	dey
 25143                        L1103:
 25144 03:692C: 85 05        	sta	<R1
 25145 03:692E: 84 07        	sty	<R1+2
 25146 03:6930: F4 00 00     	pea	#^$280
 25147 03:6933: F4 80 02     	pea	#<$280
 25148 03:6936: D4 07        	pei	<R1+2
 25149 03:6938: D4 05        	pei	<R1
 25150                        	xref	~~~lmul
 25151 03:693A: 22 xx xx xx  	jsl	~~~lmul
 25152 03:693E: 85 05        	sta	<R1
 25153 03:6940: 86 07        	stx	<R1+2
 25154 03:6942: 18           	clc
 25155 03:6943: A5 05        	lda	<R1
 25156 03:6945: 65 01        	adc	<R0
 25157 03:6947: 85 11        	sta	<L1099+pixelLocation0_1
 25158 03:6949: A5 07        	lda	<R1+2
 25159 03:694B: 65 03        	adc	<R0+2
 25160 03:694D: 85 13        	sta	<L1099+pixelLocation0_1+2
 25161 03:694F: 18           	clc
 25162 03:6950: A5 28        	lda	<L1098+x0_0
 25163 03:6952: 65 2C        	adc	<L1098+width_0
 25164 03:6954: 85 01        	sta	<R0
 25165 03:6956: A0 00 00     	ldy	#$0
 25166 03:6959: A5 01        	lda	<R0
 25167 03:695B: 10 01        	bpl	L1104
 25168 03:695D: 88           	dey
 25169                        L1104:
 25170 03:695E: 85 01        	sta	<R0
 25171 03:6960: 84 03        	sty	<R0+2
 25172 03:6962: A0 00 00     	ldy	#$0
 25173 03:6965: A5 2A        	lda	<L1098+y0_0
 25174 03:6967: 10 01        	bpl	L1105
 25175 03:6969: 88           	dey
 25176                        L1105:
 25177 03:696A: 85 05        	sta	<R1
 25178 03:696C: 84 07        	sty	<R1+2
 25179 03:696E: F4 00 00     	pea	#^$280
 25180 03:6971: F4 80 02     	pea	#<$280
 25181 03:6974: D4 07        	pei	<R1+2
 25182 03:6976: D4 05        	pei	<R1
 25183                        	xref	~~~lmul
 25184 03:6978: 22 xx xx xx  	jsl	~~~lmul
 25185 03:697C: 85 05        	sta	<R1
 25186 03:697E: 86 07        	stx	<R1+2
 25187 03:6980: 18           	clc
 25188 03:6981: A5 05        	lda	<R1
 25189 03:6983: 65 01        	adc	<R0
 25190 03:6985: 85 15        	sta	<L1099+pixelLocation1_1
 25191 03:6987: A5 07        	lda	<R1+2
 25192 03:6989: 65 03        	adc	<R0+2
 25193 03:698B: 85 17        	sta	<L1099+pixelLocation1_1+2
 25194 03:698D: A0 00 00     	ldy	#$0
 25195 03:6990: A5 34        	lda	<L1098+x1_0
 25196 03:6992: 10 01        	bpl	L1106
 25197 03:6994: 88           	dey
  Mon Dec  7 2020 11:19                                                Page 464


 25198                        L1106:
 25199 03:6995: 85 01        	sta	<R0
 25200 03:6997: 84 03        	sty	<R0+2
 25201 03:6999: A0 00 00     	ldy	#$0
 25202 03:699C: A5 36        	lda	<L1098+y1_0
 25203 03:699E: 10 01        	bpl	L1107
 25204 03:69A0: 88           	dey
 25205                        L1107:
 25206 03:69A1: 85 05        	sta	<R1
 25207 03:69A3: 84 07        	sty	<R1+2
 25208 03:69A5: F4 00 00     	pea	#^$280
 25209 03:69A8: F4 80 02     	pea	#<$280
 25210 03:69AB: D4 07        	pei	<R1+2
 25211 03:69AD: D4 05        	pei	<R1
 25212                        	xref	~~~lmul
 25213 03:69AF: 22 xx xx xx  	jsl	~~~lmul
 25214 03:69B3: 85 05        	sta	<R1
 25215 03:69B5: 86 07        	stx	<R1+2
 25216 03:69B7: 18           	clc
 25217 03:69B8: A5 05        	lda	<R1
 25218 03:69BA: 65 01        	adc	<R0
 25219 03:69BC: 85 19        	sta	<L1099+pixelLocationD_1
 25220 03:69BE: A5 07        	lda	<R1+2
 25221 03:69C0: 65 03        	adc	<R0+2
 25222 03:69C2: 85 1B        	sta	<L1099+pixelLocationD_1+2
 25223 03:69C4: 38           	sec
 25224 03:69C5: A5 15        	lda	<L1099+pixelLocation1_1
 25225 03:69C7: E5 11        	sbc	<L1099+pixelLocation0_1
 25226 03:69C9: 85 1D        	sta	<L1099+difference_1
 25227 03:69CB: A5 17        	lda	<L1099+pixelLocation1_1+2
 25228 03:69CD: E5 13        	sbc	<L1099+pixelLocation0_1+2
 25229 03:69CF: 85 1F        	sta	<L1099+difference_1+2
 25230                        	.line	4193
 25231 03:69D1: D4 13        	pei	<L1099+pixelLocation0_1+2
 25232 03:69D3: D4 11        	pei	<L1099+pixelLocation0_1
 25233 03:69D5: F4 xx xx     	pea	#^L1097
 25234 03:69D8: F4 xx xx     	pea	#<L1097
 25235 03:69DB: 22 xx xx xx  	jsl	~~k_debug_long
 25236                        ;	k_debug_long("pixelLocation1:",pixelLocation1);
 25237                        	.line	4194
 25238 03:69DF: D4 17        	pei	<L1099+pixelLocation1_1+2
 25239 03:69E1: D4 15        	pei	<L1099+pixelLocation1_1
 25240 03:69E3: F4 xx xx     	pea	#^L1097+16
 25241 03:69E6: F4 xx xx     	pea	#<L1097+16
 25242 03:69E9: 22 xx xx xx  	jsl	~~k_debug_long
 25243                        ;	k_debug_long("pixelLocationD:",pixelLocationD);
 25244                        	.line	4195
 25245 03:69ED: D4 1B        	pei	<L1099+pixelLocationD_1+2
 25246 03:69EF: D4 19        	pei	<L1099+pixelLocationD_1
 25247 03:69F1: F4 xx xx     	pea	#^L1097+32
 25248 03:69F4: F4 xx xx     	pea	#<L1097+32
 25249 03:69F7: 22 xx xx xx  	jsl	~~k_debug_long
 25250                        ;	k_debug_long("difference:",difference);
 25251                        	.line	4196
 25252 03:69FB: D4 1F        	pei	<L1099+difference_1+2
 25253 03:69FD: D4 1D        	pei	<L1099+difference_1
 25254 03:69FF: F4 xx xx     	pea	#^L1097+48
 25255 03:6A02: F4 xx xx     	pea	#<L1097+48
  Mon Dec  7 2020 11:19                                                Page 465


 25256 03:6A05: 22 xx xx xx  	jsl	~~k_debug_long
 25257                        ;
 25258                        ;	if(direction == BLT_DIR_TOPDOWN)
 25259                        	.line	4198
 25260                        ;	{
 25261 03:6A09: A5 38        	lda	<L1098+direction_0
 25262 03:6A0B: C9 01 00     	cmp	#<$1
 25263 03:6A0E: F0 03        	beq	L1108
 25264 03:6A10: 82 C2 00     	brl	L10456
 25265                        L1108:
 25266                        	.line	4199
 25267                        ;		for(dy = y0;dy<(y0 + height);dy++)
 25268                        	.line	4200
 25269 03:6A13: A0 00 00     	ldy	#$0
 25270 03:6A16: A5 2A        	lda	<L1098+y0_0
 25271 03:6A18: 10 01        	bpl	L1109
 25272 03:6A1A: 88           	dey
 25273                        L1109:
 25274 03:6A1B: 85 09        	sta	<L1099+dy_1
 25275 03:6A1D: 84 0B        	sty	<L1099+dy_1+2
 25276 03:6A1F: 82 8A 00     	brl	L10460
 25277                        L10459:
 25278                        ;		{
 25279                        	.line	4201
 25280                        ;			pixelLocation0 = (long)(((long)d
                    y * 640L) + (long)x0);
 25281                        	.line	4202
 25282 03:6A22: A0 00 00     	ldy	#$0
 25283 03:6A25: A5 28        	lda	<L1098+x0_0
 25284 03:6A27: 10 01        	bpl	L1110
 25285 03:6A29: 88           	dey
 25286                        L1110:
 25287 03:6A2A: 85 01        	sta	<R0
 25288 03:6A2C: 84 03        	sty	<R0+2
 25289 03:6A2E: F4 00 00     	pea	#^$280
 25290 03:6A31: F4 80 02     	pea	#<$280
 25291 03:6A34: D4 0B        	pei	<L1099+dy_1+2
 25292 03:6A36: D4 09        	pei	<L1099+dy_1
 25293                        	xref	~~~lmul
 25294 03:6A38: 22 xx xx xx  	jsl	~~~lmul
 25295 03:6A3C: 85 05        	sta	<R1
 25296 03:6A3E: 86 07        	stx	<R1+2
 25297 03:6A40: 18           	clc
 25298 03:6A41: A5 05        	lda	<R1
 25299 03:6A43: 65 01        	adc	<R0
 25300 03:6A45: 85 11        	sta	<L1099+pixelLocation0_1
 25301 03:6A47: A5 07        	lda	<R1+2
 25302 03:6A49: 65 03        	adc	<R0+2
 25303 03:6A4B: 85 13        	sta	<L1099+pixelLocation0_1+2
 25304                        ;			pixelLocationD = (long)(((long)d
                    d * 640L) + (long)(x1));
 25305                        	.line	4203
 25306 03:6A4D: A0 00 00     	ldy	#$0
 25307 03:6A50: A5 34        	lda	<L1098+x1_0
 25308 03:6A52: 10 01        	bpl	L1111
 25309 03:6A54: 88           	dey
 25310                        L1111:
 25311 03:6A55: 85 01        	sta	<R0
  Mon Dec  7 2020 11:19                                                Page 466


 25312 03:6A57: 84 03        	sty	<R0+2
 25313 03:6A59: F4 00 00     	pea	#^$280
 25314 03:6A5C: F4 80 02     	pea	#<$280
 25315 03:6A5F: D4 0F        	pei	<L1099+dd_1+2
 25316 03:6A61: D4 0D        	pei	<L1099+dd_1
 25317                        	xref	~~~lmul
 25318 03:6A63: 22 xx xx xx  	jsl	~~~lmul
 25319 03:6A67: 85 05        	sta	<R1
 25320 03:6A69: 86 07        	stx	<R1+2
 25321 03:6A6B: 18           	clc
 25322 03:6A6C: A5 05        	lda	<R1
 25323 03:6A6E: 65 01        	adc	<R0
 25324 03:6A70: 85 19        	sta	<L1099+pixelLocationD_1
 25325 03:6A72: A5 07        	lda	<R1+2
 25326 03:6A74: 65 03        	adc	<R0+2
 25327 03:6A76: 85 1B        	sta	<L1099+pixelLocationD_1+2
 25328                        ;			memcpy(   &(((unsigned char FAR 
                    *)destBank)[pixelLocationD])  , &(((unsigned char FAR *)srcB
                    ank)[pixelLocation0]), difference) ;
 25329                        	.line	4204
 25330 03:6A78: D4 1D        	pei	<L1099+difference_1
 25331 03:6A7A: 18           	clc
 25332 03:6A7B: A5 24        	lda	<L1098+srcBank_0
 25333 03:6A7D: 65 11        	adc	<L1099+pixelLocation0_1
 25334 03:6A7F: 85 01        	sta	<R0
 25335 03:6A81: A5 26        	lda	<L1098+srcBank_0+2
 25336 03:6A83: 65 13        	adc	<L1099+pixelLocation0_1+2
 25337 03:6A85: 85 03        	sta	<R0+2
 25338 03:6A87: D4 03        	pei	<R0+2
 25339 03:6A89: D4 01        	pei	<R0
 25340 03:6A8B: 18           	clc
 25341 03:6A8C: A5 30        	lda	<L1098+destBank_0
 25342 03:6A8E: 65 19        	adc	<L1099+pixelLocationD_1
 25343 03:6A90: 85 05        	sta	<R1
 25344 03:6A92: A5 32        	lda	<L1098+destBank_0+2
 25345 03:6A94: 65 1B        	adc	<L1099+pixelLocationD_1+2
 25346 03:6A96: 85 07        	sta	<R1+2
 25347 03:6A98: D4 07        	pei	<R1+2
 25348 03:6A9A: D4 05        	pei	<R1
 25349 03:6A9C: 22 xx xx xx  	jsl	~~memcpy
 25350                        ;
 25351                        ;			dd++;
 25352                        	.line	4206
 25353 03:6AA0: E6 0D        	inc	<L1099+dd_1
 25354 03:6AA2: D0 02        	bne	L1112
 25355 03:6AA4: E6 0F        	inc	<L1099+dd_1+2
 25356                        L1112:
 25357                        ;		}
 25358                        	.line	4207
 25359                        L10457:
 25360 03:6AA6: E6 09        	inc	<L1099+dy_1
 25361 03:6AA8: D0 02        	bne	L1113
 25362 03:6AAA: E6 0B        	inc	<L1099+dy_1+2
 25363                        L1113:
 25364                        L10460:
 25365 03:6AAC: 18           	clc
 25366 03:6AAD: A5 2A        	lda	<L1098+y0_0
 25367 03:6AAF: 65 2E        	adc	<L1098+height_0
  Mon Dec  7 2020 11:19                                                Page 467


 25368 03:6AB1: 85 01        	sta	<R0
 25369 03:6AB3: A0 00 00     	ldy	#$0
 25370 03:6AB6: A5 01        	lda	<R0
 25371 03:6AB8: 10 01        	bpl	L1114
 25372 03:6ABA: 88           	dey
 25373                        L1114:
 25374 03:6ABB: 85 01        	sta	<R0
 25375 03:6ABD: 84 03        	sty	<R0+2
 25376 03:6ABF: 38           	sec
 25377 03:6AC0: A5 09        	lda	<L1099+dy_1
 25378 03:6AC2: E5 01        	sbc	<R0
 25379 03:6AC4: A5 0B        	lda	<L1099+dy_1+2
 25380 03:6AC6: E5 03        	sbc	<R0+2
 25381 03:6AC8: 70 03        	bvs	L1115
 25382 03:6ACA: 49 00 80     	eor	#$8000
 25383                        L1115:
 25384 03:6ACD: 30 03        	bmi	L1116
 25385 03:6ACF: 82 50 FF     	brl	L10459
 25386                        L1116:
 25387                        L10458:
 25388                        ;	}
 25389                        	.line	4208
 25390                        ;	else
 25391 03:6AD2: 82 D6 00     	brl	L10461
 25392                        L10456:
 25393                        ;	{
 25394                        	.line	4210
 25395                        ;		dd = y1 + height;
 25396                        	.line	4211
 25397 03:6AD5: 18           	clc
 25398 03:6AD6: A5 36        	lda	<L1098+y1_0
 25399 03:6AD8: 65 2E        	adc	<L1098+height_0
 25400 03:6ADA: 85 01        	sta	<R0
 25401 03:6ADC: A0 00 00     	ldy	#$0
 25402 03:6ADF: A5 01        	lda	<R0
 25403 03:6AE1: 10 01        	bpl	L1117
 25404 03:6AE3: 88           	dey
 25405                        L1117:
 25406 03:6AE4: 85 0D        	sta	<L1099+dd_1
 25407 03:6AE6: 84 0F        	sty	<L1099+dd_1+2
 25408                        ;		//for(dy = y0;dy<(y0 + height);dy++)
 25409                        ;		for(dy = (y0 + height);dy>y0;dy--)
 25410                        	.line	4213
 25411 03:6AE8: 18           	clc
 25412 03:6AE9: A5 2A        	lda	<L1098+y0_0
 25413 03:6AEB: 65 2E        	adc	<L1098+height_0
 25414 03:6AED: 85 01        	sta	<R0
 25415 03:6AEF: A0 00 00     	ldy	#$0
 25416 03:6AF2: A5 01        	lda	<R0
 25417 03:6AF4: 10 01        	bpl	L1118
 25418 03:6AF6: 88           	dey
 25419                        L1118:
 25420 03:6AF7: 85 09        	sta	<L1099+dy_1
 25421 03:6AF9: 84 0B        	sty	<L1099+dy_1+2
 25422 03:6AFB: 82 8E 00     	brl	L10465
 25423                        L10464:
 25424                        ;		{
 25425                        	.line	4214
  Mon Dec  7 2020 11:19                                                Page 468


 25426                        ;			pixelLocation0 = (long)(((long)d
                    y * 640L) + (long)x0);
 25427                        	.line	4215
 25428 03:6AFE: A0 00 00     	ldy	#$0
 25429 03:6B01: A5 28        	lda	<L1098+x0_0
 25430 03:6B03: 10 01        	bpl	L1119
 25431 03:6B05: 88           	dey
 25432                        L1119:
 25433 03:6B06: 85 01        	sta	<R0
 25434 03:6B08: 84 03        	sty	<R0+2
 25435 03:6B0A: F4 00 00     	pea	#^$280
 25436 03:6B0D: F4 80 02     	pea	#<$280
 25437 03:6B10: D4 0B        	pei	<L1099+dy_1+2
 25438 03:6B12: D4 09        	pei	<L1099+dy_1
 25439                        	xref	~~~lmul
 25440 03:6B14: 22 xx xx xx  	jsl	~~~lmul
 25441 03:6B18: 85 05        	sta	<R1
 25442 03:6B1A: 86 07        	stx	<R1+2
 25443 03:6B1C: 18           	clc
 25444 03:6B1D: A5 05        	lda	<R1
 25445 03:6B1F: 65 01        	adc	<R0
 25446 03:6B21: 85 11        	sta	<L1099+pixelLocation0_1
 25447 03:6B23: A5 07        	lda	<R1+2
 25448 03:6B25: 65 03        	adc	<R0+2
 25449 03:6B27: 85 13        	sta	<L1099+pixelLocation0_1+2
 25450                        ;			pixelLocationD = (long)(((long)d
                    d * 640L) + (long)(x1));
 25451                        	.line	4216
 25452 03:6B29: A0 00 00     	ldy	#$0
 25453 03:6B2C: A5 34        	lda	<L1098+x1_0
 25454 03:6B2E: 10 01        	bpl	L1120
 25455 03:6B30: 88           	dey
 25456                        L1120:
 25457 03:6B31: 85 01        	sta	<R0
 25458 03:6B33: 84 03        	sty	<R0+2
 25459 03:6B35: F4 00 00     	pea	#^$280
 25460 03:6B38: F4 80 02     	pea	#<$280
 25461 03:6B3B: D4 0F        	pei	<L1099+dd_1+2
 25462 03:6B3D: D4 0D        	pei	<L1099+dd_1
 25463                        	xref	~~~lmul
 25464 03:6B3F: 22 xx xx xx  	jsl	~~~lmul
 25465 03:6B43: 85 05        	sta	<R1
 25466 03:6B45: 86 07        	stx	<R1+2
 25467 03:6B47: 18           	clc
 25468 03:6B48: A5 05        	lda	<R1
 25469 03:6B4A: 65 01        	adc	<R0
 25470 03:6B4C: 85 19        	sta	<L1099+pixelLocationD_1
 25471 03:6B4E: A5 07        	lda	<R1+2
 25472 03:6B50: 65 03        	adc	<R0+2
 25473 03:6B52: 85 1B        	sta	<L1099+pixelLocationD_1+2
 25474                        ;			memcpy(   &(((unsigned char FAR 
                    *)destBank)[pixelLocationD])  , &(((unsigned char FAR *)srcB
                    ank)[pixelLocation0]), difference) ;
 25475                        	.line	4217
 25476 03:6B54: D4 1D        	pei	<L1099+difference_1
 25477 03:6B56: 18           	clc
 25478 03:6B57: A5 24        	lda	<L1098+srcBank_0
 25479 03:6B59: 65 11        	adc	<L1099+pixelLocation0_1
  Mon Dec  7 2020 11:19                                                Page 469


 25480 03:6B5B: 85 01        	sta	<R0
 25481 03:6B5D: A5 26        	lda	<L1098+srcBank_0+2
 25482 03:6B5F: 65 13        	adc	<L1099+pixelLocation0_1+2
 25483 03:6B61: 85 03        	sta	<R0+2
 25484 03:6B63: D4 03        	pei	<R0+2
 25485 03:6B65: D4 01        	pei	<R0
 25486 03:6B67: 18           	clc
 25487 03:6B68: A5 30        	lda	<L1098+destBank_0
 25488 03:6B6A: 65 19        	adc	<L1099+pixelLocationD_1
 25489 03:6B6C: 85 05        	sta	<R1
 25490 03:6B6E: A5 32        	lda	<L1098+destBank_0+2
 25491 03:6B70: 65 1B        	adc	<L1099+pixelLocationD_1+2
 25492 03:6B72: 85 07        	sta	<R1+2
 25493 03:6B74: D4 07        	pei	<R1+2
 25494 03:6B76: D4 05        	pei	<R1
 25495 03:6B78: 22 xx xx xx  	jsl	~~memcpy
 25496                        ;
 25497                        ;			dd--;
 25498                        	.line	4219
 25499 03:6B7C: A5 0D        	lda	<L1099+dd_1
 25500 03:6B7E: D0 02        	bne	L1121
 25501 03:6B80: C6 0F        	dec	<L1099+dd_1+2
 25502                        L1121:
 25503 03:6B82: C6 0D        	dec	<L1099+dd_1
 25504                        ;		}
 25505                        	.line	4220
 25506                        L10462:
 25507 03:6B84: A5 09        	lda	<L1099+dy_1
 25508 03:6B86: D0 02        	bne	L1122
 25509 03:6B88: C6 0B        	dec	<L1099+dy_1+2
 25510                        L1122:
 25511 03:6B8A: C6 09        	dec	<L1099+dy_1
 25512                        L10465:
 25513 03:6B8C: A0 00 00     	ldy	#$0
 25514 03:6B8F: A5 2A        	lda	<L1098+y0_0
 25515 03:6B91: 10 01        	bpl	L1123
 25516 03:6B93: 88           	dey
 25517                        L1123:
 25518 03:6B94: 85 01        	sta	<R0
 25519 03:6B96: 84 03        	sty	<R0+2
 25520 03:6B98: 38           	sec
 25521 03:6B99: A5 01        	lda	<R0
 25522 03:6B9B: E5 09        	sbc	<L1099+dy_1
 25523 03:6B9D: A5 03        	lda	<R0+2
 25524 03:6B9F: E5 0B        	sbc	<L1099+dy_1+2
 25525 03:6BA1: 70 03        	bvs	L1124
 25526 03:6BA3: 49 00 80     	eor	#$8000
 25527                        L1124:
 25528 03:6BA6: 30 03        	bmi	L1125
 25529 03:6BA8: 82 53 FF     	brl	L10464
 25530                        L1125:
 25531                        L10463:
 25532                        ;
 25533                        ;	}
 25534                        	.line	4222
 25535                        L10461:
 25536                        ;
 25537                        ;}
  Mon Dec  7 2020 11:19                                                Page 470


 25538                        	.line	4224
 25539                        L1126:
 25540 03:6BAB: A5 22        	lda	<L1098+2
 25541 03:6BAD: 85 38        	sta	<L1098+2+22
 25542 03:6BAF: A5 21        	lda	<L1098+1
 25543 03:6BB1: 85 37        	sta	<L1098+1+22
 25544 03:6BB3: 2B           	pld
 25545 03:6BB4: 3B           	tsc
 25546 03:6BB5: 18           	clc
 25547 03:6BB6: 69 36 00     	adc	#L1098+22
 25548 03:6BB9: 1B           	tcs
 25549 03:6BBA: 6B           	rtl
 25550                        	.endblock	4224
 25551             00000020   L1098	equ	32
 25552             00000009   L1099	equ	9
 25553 03:6BBB:              	ends
 25554                        	efunc
 25555                        	.endfunc	4224,9,32
 25556                        	.line	4224
 25557                        	data
 25558                        L1097:
 25559 00:0DDC: 70 69 78 65  	db	$70,$69,$78,$65,$6C,$4C,$6F,$63,$61,$74,
                    $69,$6F,$6E,$30,$3A
       00:0DE0: 6C 4C 6F 63 
       00:0DE4: 61 74 69 6F 
       00:0DE8: 6E 30 3A 
 25560 00:0DEB: 00 70 69 78  	db	$00,$70,$69,$78,$65,$6C,$4C,$6F,$63,$61,
                    $74,$69,$6F,$6E,$31
       00:0DEF: 65 6C 4C 6F 
       00:0DF3: 63 61 74 69 
       00:0DF7: 6F 6E 31 
 25561 00:0DFA: 3A 00 70 69  	db	$3A,$00,$70,$69,$78,$65,$6C,$4C,$6F,$63,
                    $61,$74,$69,$6F,$6E
       00:0DFE: 78 65 6C 4C 
       00:0E02: 6F 63 61 74 
       00:0E06: 69 6F 6E 
 25562 00:0E09: 44 3A 00 64  	db	$44,$3A,$00,$64,$69,$66,$66,$65,$72,$65,
                    $6E,$63,$65,$3A,$00
       00:0E0D: 69 66 66 65 
       00:0E11: 72 65 6E 63 
       00:0E15: 65 3A 00 
 25563 00:0E18:              	ends
 25564                        ;
 25565                        ;
 25566                        ;void k_shadow_fill_rect_address(LPCHAR bank,int x
                    0, int y0, int width, int height, UCHAR color)
 25567                        ;{
 25568                        	.line	4227
 25569                        	.line	4228
 25570                        	GUI
 25571                        	xdef	~~k_shadow_fill_rect_address
 25572                        	func
 25573                        	.function	4228
 25574                        ~~k_shadow_fill_rect_address:
 25575                        	longa	on
 25576                        	longi	on
 25577 03:6BBB: 3B           	tsc
 25578 03:6BBC: 38           	sec
  Mon Dec  7 2020 11:19                                                Page 471


 25579 03:6BBD: E9 2C 00     	sbc	#L1128
 25580 03:6BC0: 1B           	tcs
 25581 03:6BC1: 0B           	phd
 25582 03:6BC2: 5B           	tcd
 25583             00000004   bank_0	set	4
 25584             00000008   x0_0	set	8
 25585             0000000A   y0_0	set	10
 25586             0000000C   width_0	set	12
 25587             0000000E   height_0	set	14
 25588             00000010   color_0	set	16
 25589                        	.block	4228
 25590                        ;	LPCHAR ptr = NULL;
 25591                        ;	ULONG dx = 0L;
 25592                        ;	long dy = 0L;
 25593                        ;	long pixelLocation0 = 0L;
 25594                        ;	long pixelLocation1 = 0L;
 25595                        ;	long difference     = 0L;
 25596                        ;	long fIndex = 0;
 25597                        ;	long offset = 0L;
 25598                        ;
 25599                        ;	if(width > 640)
 25600             00000000   ptr_1	set	0
 25601             00000004   dx_1	set	4
 25602             00000008   dy_1	set	8
 25603             0000000C   pixelLocation0_1	set	12
 25604             00000010   pixelLocation1_1	set	16
 25605             00000014   difference_1	set	20
 25606             00000018   fIndex_1	set	24
 25607             0000001C   offset_1	set	28
 25608                        	.sym	ptr,0,142,1,32
 25609                        	.sym	dx,4,18,1,32
 25610                        	.sym	dy,8,7,1,32
 25611                        	.sym	pixelLocation0,12,7,1,32
 25612                        	.sym	pixelLocation1,16,7,1,32
 25613                        	.sym	difference,20,7,1,32
 25614                        	.sym	fIndex,24,7,1,32
 25615                        	.sym	offset,28,7,1,32
 25616                        	.sym	bank,4,142,6,32
 25617                        	.sym	x0,8,5,6,16
 25618                        	.sym	y0,10,5,6,16
 25619                        	.sym	width,12,5,6,16
 25620                        	.sym	height,14,5,6,16
 25621                        	.sym	color,16,14,6,8
 25622 03:6BC3: 64 0D        	stz	<L1129+ptr_1
 25623 03:6BC5: 64 0F        	stz	<L1129+ptr_1+2
 25624 03:6BC7: 64 11        	stz	<L1129+dx_1
 25625 03:6BC9: 64 13        	stz	<L1129+dx_1+2
 25626 03:6BCB: 64 15        	stz	<L1129+dy_1
 25627 03:6BCD: 64 17        	stz	<L1129+dy_1+2
 25628 03:6BCF: 64 19        	stz	<L1129+pixelLocation0_1
 25629 03:6BD1: 64 1B        	stz	<L1129+pixelLocation0_1+2
 25630 03:6BD3: 64 1D        	stz	<L1129+pixelLocation1_1
 25631 03:6BD5: 64 1F        	stz	<L1129+pixelLocation1_1+2
 25632 03:6BD7: 64 21        	stz	<L1129+difference_1
 25633 03:6BD9: 64 23        	stz	<L1129+difference_1+2
 25634 03:6BDB: 64 25        	stz	<L1129+fIndex_1
 25635 03:6BDD: 64 27        	stz	<L1129+fIndex_1+2
 25636 03:6BDF: 64 29        	stz	<L1129+offset_1
  Mon Dec  7 2020 11:19                                                Page 472


 25637 03:6BE1: 64 2B        	stz	<L1129+offset_1+2
 25638                        	.line	4238
 25639                        ;		width = 640;
 25640 03:6BE3: 38           	sec
 25641 03:6BE4: A9 80 02     	lda	#$280
 25642 03:6BE7: E5 38        	sbc	<L1128+width_0
 25643 03:6BE9: 70 03        	bvs	L1131
 25644 03:6BEB: 49 00 80     	eor	#$8000
 25645                        L1131:
 25646 03:6BEE: 10 03        	bpl	L1132
 25647 03:6BF0: 82 05 00     	brl	L10466
 25648                        L1132:
 25649                        	.line	4239
 25650 03:6BF3: A9 80 02     	lda	#$280
 25651 03:6BF6: 85 38        	sta	<L1128+width_0
 25652                        ;	if(height > 480)
 25653                        L10466:
 25654                        	.line	4240
 25655                        ;		height = 480;
 25656 03:6BF8: 38           	sec
 25657 03:6BF9: A9 E0 01     	lda	#$1e0
 25658 03:6BFC: E5 3A        	sbc	<L1128+height_0
 25659 03:6BFE: 70 03        	bvs	L1133
 25660 03:6C00: 49 00 80     	eor	#$8000
 25661                        L1133:
 25662 03:6C03: 10 03        	bpl	L1134
 25663 03:6C05: 82 05 00     	brl	L10467
 25664                        L1134:
 25665                        	.line	4241
 25666 03:6C08: A9 E0 01     	lda	#$1e0
 25667 03:6C0B: 85 3A        	sta	<L1128+height_0
 25668                        ;
 25669                        ;	if(width < 0)
 25670                        L10467:
 25671                        	.line	4243
 25672                        ;		width = 0;
 25673 03:6C0D: A5 38        	lda	<L1128+width_0
 25674 03:6C0F: 30 03        	bmi	L1135
 25675 03:6C11: 82 02 00     	brl	L10468
 25676                        L1135:
 25677                        	.line	4244
 25678 03:6C14: 64 38        	stz	<L1128+width_0
 25679                        ;	if(height < 0)
 25680                        L10468:
 25681                        	.line	4245
 25682                        ;		height = 0;
 25683 03:6C16: A5 3A        	lda	<L1128+height_0
 25684 03:6C18: 30 03        	bmi	L1136
 25685 03:6C1A: 82 02 00     	brl	L10469
 25686                        L1136:
 25687                        	.line	4246
 25688 03:6C1D: 64 3A        	stz	<L1128+height_0
 25689                        ;
 25690                        ;
 25691                        ;	offset = ((long)y0 + (long)height);
 25692                        L10469:
 25693                        	.line	4249
 25694 03:6C1F: A0 00 00     	ldy	#$0
  Mon Dec  7 2020 11:19                                                Page 473


 25695 03:6C22: A5 3A        	lda	<L1128+height_0
 25696 03:6C24: 10 01        	bpl	L1137
 25697 03:6C26: 88           	dey
 25698                        L1137:
 25699 03:6C27: 85 01        	sta	<R0
 25700 03:6C29: 84 03        	sty	<R0+2
 25701 03:6C2B: A0 00 00     	ldy	#$0
 25702 03:6C2E: A5 36        	lda	<L1128+y0_0
 25703 03:6C30: 10 01        	bpl	L1138
 25704 03:6C32: 88           	dey
 25705                        L1138:
 25706 03:6C33: 85 05        	sta	<R1
 25707 03:6C35: 84 07        	sty	<R1+2
 25708 03:6C37: 18           	clc
 25709 03:6C38: A5 05        	lda	<R1
 25710 03:6C3A: 65 01        	adc	<R0
 25711 03:6C3C: 85 29        	sta	<L1129+offset_1
 25712 03:6C3E: A5 07        	lda	<R1+2
 25713 03:6C40: 65 03        	adc	<R0+2
 25714 03:6C42: 85 2B        	sta	<L1129+offset_1+2
 25715                        ;
 25716                        ;	//pixelLocation0 = (ULONG)(((ULONG)y0 * 640L) + 
                    (ULONG)x0);
 25717                        ;	//pixelLocation1 = (ULONG)(((ULONG)y0 * 640L) + 
                    (ULONG)(x0 + width ));
 25718                        ;	//difference     = pixelLocation1 - pixelLocatio
                    n0;
 25719                        ;	difference     = width;
 25720                        	.line	4254
 25721 03:6C44: A0 00 00     	ldy	#$0
 25722 03:6C47: A5 38        	lda	<L1128+width_0
 25723 03:6C49: 10 01        	bpl	L1139
 25724 03:6C4B: 88           	dey
 25725                        L1139:
 25726 03:6C4C: 85 21        	sta	<L1129+difference_1
 25727 03:6C4E: 84 23        	sty	<L1129+difference_1+2
 25728                        ;
 25729                        ;	//difference = (long)(x0 + width);
 25730                        ;
 25731                        ;	/*
 25732                        ;	k_debug_long("k_shadow_fill_rect::width:",width)
                    ;
 25733                        ;	k_debug_long("k_shadow_fill_rect::height:",heigh
                    t);
 25734                        ;	k_debug_long("k_shadow_fill_rect::difference:",d
                    ifference);
 25735                        ;	k_debug_long("k_shadow_fill_rect::offset:",offse
                    t);
 25736                        ;	*/
 25737                        ;
 25738                        ;	for(dy = (long)y0;dy<offset;dy++)
 25739                        	.line	4265
 25740 03:6C50: A0 00 00     	ldy	#$0
 25741 03:6C53: A5 36        	lda	<L1128+y0_0
 25742 03:6C55: 10 01        	bpl	L1140
 25743 03:6C57: 88           	dey
 25744                        L1140:
 25745 03:6C58: 85 15        	sta	<L1129+dy_1
  Mon Dec  7 2020 11:19                                                Page 474


 25746 03:6C5A: 84 17        	sty	<L1129+dy_1+2
 25747 03:6C5C: 82 4E 00     	brl	L10473
 25748                        L10472:
 25749                        ;	{
 25750                        	.line	4266
 25751                        ;		//k_debug_long("k_shadow_fill_rect::dy:"
                    ,dy);
 25752                        ;		//for(dx=(long)x0;dx<difference;dx++)
 25753                        ;		//	SHADOW_BANK_0[(dy * 640L) + dx] 
                    = color;
 25754                        ;		//k_debug_long("k_shadow_fill_rect::dx:"
                    ,dx);
 25755                        ;
 25756                        ;		ptr = &( bank[(dy * 640L) + (long)x0] ) 
                    ;
 25757                        	.line	4272
 25758 03:6C5F: A0 00 00     	ldy	#$0
 25759 03:6C62: A5 34        	lda	<L1128+x0_0
 25760 03:6C64: 10 01        	bpl	L1141
 25761 03:6C66: 88           	dey
 25762                        L1141:
 25763 03:6C67: 85 01        	sta	<R0
 25764 03:6C69: 84 03        	sty	<R0+2
 25765 03:6C6B: F4 00 00     	pea	#^$280
 25766 03:6C6E: F4 80 02     	pea	#<$280
 25767 03:6C71: D4 17        	pei	<L1129+dy_1+2
 25768 03:6C73: D4 15        	pei	<L1129+dy_1
 25769                        	xref	~~~lmul
 25770 03:6C75: 22 xx xx xx  	jsl	~~~lmul
 25771 03:6C79: 85 05        	sta	<R1
 25772 03:6C7B: 86 07        	stx	<R1+2
 25773 03:6C7D: 18           	clc
 25774 03:6C7E: A5 05        	lda	<R1
 25775 03:6C80: 65 01        	adc	<R0
 25776 03:6C82: 85 09        	sta	<R2
 25777 03:6C84: A5 07        	lda	<R1+2
 25778 03:6C86: 65 03        	adc	<R0+2
 25779 03:6C88: 85 0B        	sta	<R2+2
 25780 03:6C8A: 18           	clc
 25781 03:6C8B: A5 30        	lda	<L1128+bank_0
 25782 03:6C8D: 65 09        	adc	<R2
 25783 03:6C8F: 85 0D        	sta	<L1129+ptr_1
 25784 03:6C91: A5 32        	lda	<L1128+bank_0+2
 25785 03:6C93: 65 0B        	adc	<R2+2
 25786 03:6C95: 85 0F        	sta	<L1129+ptr_1+2
 25787                        ;
 25788                        ;		//k_debug_pointer("k_shadow_fill_rect::p
                    tr:",ptr);
 25789                        ;		//pixelLocation0 = (ULONG)(((ULONG)dy * 
                    640L) + (ULONG)x0);
 25790                        ;		//k_debug_long("k_shadow_fill_rect::pixe
                    lLocation0:",pixelLocation0);
 25791                        ;		memset( ptr, color , difference ) ;
 25792                        	.line	4277
 25793 03:6C97: D4 21        	pei	<L1129+difference_1
 25794 03:6C99: A5 3C        	lda	<L1128+color_0
 25795 03:6C9B: 29 FF 00     	and	#$ff
 25796 03:6C9E: 48           	pha
  Mon Dec  7 2020 11:19                                                Page 475


 25797 03:6C9F: D4 0F        	pei	<L1129+ptr_1+2
 25798 03:6CA1: D4 0D        	pei	<L1129+ptr_1
 25799 03:6CA3: 22 xx xx xx  	jsl	~~memset
 25800                        ;		//for(fIndex=0;fIndex<difference;fIndex+
                    +)
 25801                        ;		//	ptr[fIndex] = color;
 25802                        ;	}
 25803                        	.line	4280
 25804                        L10470:
 25805 03:6CA7: E6 15        	inc	<L1129+dy_1
 25806 03:6CA9: D0 02        	bne	L1142
 25807 03:6CAB: E6 17        	inc	<L1129+dy_1+2
 25808                        L1142:
 25809                        L10473:
 25810 03:6CAD: 38           	sec
 25811 03:6CAE: A5 15        	lda	<L1129+dy_1
 25812 03:6CB0: E5 29        	sbc	<L1129+offset_1
 25813 03:6CB2: A5 17        	lda	<L1129+dy_1+2
 25814 03:6CB4: E5 2B        	sbc	<L1129+offset_1+2
 25815 03:6CB6: 70 03        	bvs	L1143
 25816 03:6CB8: 49 00 80     	eor	#$8000
 25817                        L1143:
 25818 03:6CBB: 30 03        	bmi	L1144
 25819 03:6CBD: 82 9F FF     	brl	L10472
 25820                        L1144:
 25821                        L10471:
 25822                        ;
 25823                        ;}
 25824                        	.line	4282
 25825                        L1145:
 25826 03:6CC0: A5 2E        	lda	<L1128+2
 25827 03:6CC2: 85 3C        	sta	<L1128+2+14
 25828 03:6CC4: A5 2D        	lda	<L1128+1
 25829 03:6CC6: 85 3B        	sta	<L1128+1+14
 25830 03:6CC8: 2B           	pld
 25831 03:6CC9: 3B           	tsc
 25832 03:6CCA: 18           	clc
 25833 03:6CCB: 69 3A 00     	adc	#L1128+14
 25834 03:6CCE: 1B           	tcs
 25835 03:6CCF: 6B           	rtl
 25836                        	.endblock	4282
 25837             0000002C   L1128	equ	44
 25838             0000000D   L1129	equ	13
 25839 03:6CD0:              	ends
 25840                        	efunc
 25841                        	.endfunc	4282,13,44
 25842                        	.line	4282
 25843                        ;
 25844                        ;void k_shadow_fill_rect(int x0, int y0, int width
                    , int height, UCHAR color)
 25845                        ;{
 25846                        	.line	4284
 25847                        	.line	4285
 25848                        	GUI
 25849                        	xdef	~~k_shadow_fill_rect
 25850                        	func
 25851                        	.function	4285
 25852                        ~~k_shadow_fill_rect:
  Mon Dec  7 2020 11:19                                                Page 476


 25853                        	longa	on
 25854                        	longi	on
 25855 03:6CD0: 3B           	tsc
 25856 03:6CD1: 38           	sec
 25857 03:6CD2: E9 00 00     	sbc	#L1146
 25858 03:6CD5: 1B           	tcs
 25859 03:6CD6: 0B           	phd
 25860 03:6CD7: 5B           	tcd
 25861             00000004   x0_0	set	4
 25862             00000006   y0_0	set	6
 25863             00000008   width_0	set	8
 25864             0000000A   height_0	set	10
 25865             0000000C   color_0	set	12
 25866                        	.block	4285
 25867                        ;	k_shadow_fill_rect_address(SHADOW_BANK_0,x0, y0,
                     width, height, color);
 25868                        	.sym	x0,4,5,6,16
 25869                        	.sym	y0,6,5,6,16
 25870                        	.sym	width,8,5,6,16
 25871                        	.sym	height,10,5,6,16
 25872                        	.sym	color,12,14,6,8
 25873                        	.line	4286
 25874 03:6CD8: D4 0C        	pei	<L1146+color_0
 25875 03:6CDA: D4 0A        	pei	<L1146+height_0
 25876 03:6CDC: D4 08        	pei	<L1146+width_0
 25877 03:6CDE: D4 06        	pei	<L1146+y0_0
 25878 03:6CE0: D4 04        	pei	<L1146+x0_0
 25879 03:6CE2: F4 0A 00     	pea	#^$a0000
 25880 03:6CE5: F4 00 00     	pea	#<$a0000
 25881 03:6CE8: 22 BB 6B 03  	jsl	~~k_shadow_fill_rect_address
 25882                        ;}
 25883                        	.line	4287
 25884                        L1149:
 25885 03:6CEC: A5 02        	lda	<L1146+2
 25886 03:6CEE: 85 0C        	sta	<L1146+2+10
 25887 03:6CF0: A5 01        	lda	<L1146+1
 25888 03:6CF2: 85 0B        	sta	<L1146+1+10
 25889 03:6CF4: 2B           	pld
 25890 03:6CF5: 3B           	tsc
 25891 03:6CF6: 18           	clc
 25892 03:6CF7: 69 0A 00     	adc	#L1146+10
 25893 03:6CFA: 1B           	tcs
 25894 03:6CFB: 6B           	rtl
 25895                        	.endblock	4287
 25896             00000000   L1146	equ	0
 25897             00000001   L1147	equ	1
 25898 03:6CFC:              	ends
 25899                        	efunc
 25900                        	.endfunc	4287,1,0
 25901                        	.line	4287
 25902                        ;
 25903                        ;/*
 25904                        ;void k_shadow_fill_rect(int x0, int y0, int width
                    , int height, UCHAR color)
 25905                        ;{
 25906                        ;	LPCHAR ptr = NULL;
 25907                        ;	ULONG dx = 0L;
 25908                        ;	long dy = 0L;
  Mon Dec  7 2020 11:19                                                Page 477


 25909                        ;	long pixelLocation0 = 0L;
 25910                        ;	long pixelLocation1 = 0L;
 25911                        ;	long difference     = 0L;
 25912                        ;	long fIndex = 0;
 25913                        ;	long offset = 0L;
 25914                        ;
 25915                        ;	if(width > 640)
 25916                        ;		width = 640;
 25917                        ;	if(height > 480)
 25918                        ;		height = 480;
 25919                        ;
 25920                        ;	if(width < 0)
 25921                        ;		width = 0;
 25922                        ;	if(height < 0)
 25923                        ;		height = 0;
 25924                        ;
 25925                        ;
 25926                        ;	offset = ((long)y0 + (long)height);
 25927                        ;
 25928                        ;	//pixelLocation0 = (ULONG)(((ULONG)y0 * 640L) + 
                    (ULONG)x0);
 25929                        ;	//pixelLocation1 = (ULONG)(((ULONG)y0 * 640L) + 
                    (ULONG)(x0 + width ));
 25930                        ;	//difference     = pixelLocation1 - pixelLocatio
                    n0;
 25931                        ;	difference     = width;
 25932                        ;
 25933                        ;	//difference = (long)(x0 + width);
 25934                        ;
 25935                        ;	//k_debug_long("k_shadow_fill_rect::width:",widt
                    h);
 25936                        ;	//k_debug_long("k_shadow_fill_rect::height:",hei
                    ght);
 25937                        ;	//k_debug_long("k_shadow_fill_rect::difference:"
                    ,difference);
 25938                        ;	//k_debug_long("k_shadow_fill_rect::offset:",off
                    set);
 25939                        ;
 25940                        ;
 25941                        ;	for(dy = (long)y0;dy<offset;dy++)
 25942                        ;	{
 25943                        ;		//k_debug_long("k_shadow_fill_rect::dy:"
                    ,dy);
 25944                        ;		//for(dx=(long)x0;dx<difference;dx++)
 25945                        ;		//	SHADOW_BANK_0[(dy * 640L) + dx] 
                    = color;
 25946                        ;		//k_debug_long("k_shadow_fill_rect::dx:"
                    ,dx);
 25947                        ;		ptr = &( SHADOW_BANK_0[(dy * 640L) + (lo
                    ng)x0] ) ;
 25948                        ;		//k_debug_pointer("k_shadow_fill_rect::p
                    tr:",ptr);
 25949                        ;		//pixelLocation0 = (ULONG)(((ULONG)dy * 
                    640L) + (ULONG)x0);
 25950                        ;		//k_debug_long("k_shadow_fill_rect::pixe
                    lLocation0:",pixelLocation0);
 25951                        ;		memset( ptr, color , difference ) ;
 25952                        ;		//for(fIndex=0;fIndex<difference;fIndex+
  Mon Dec  7 2020 11:19                                                Page 478


                    +)
 25953                        ;		//	ptr[fIndex] = color;
 25954                        ;	}
 25955                        ;
 25956                        ;}
 25957                        ;*/
 25958                        ;void k_shadow_bitblt(int x0, int y0, int width, i
                    nt height, int x1, int y1)
 25959                        ;{
 25960                        	.line	4344
 25961                        	.line	4345
 25962                        	GUI
 25963                        	xdef	~~k_shadow_bitblt
 25964                        	func
 25965                        	.function	4345
 25966                        ~~k_shadow_bitblt:
 25967                        	longa	on
 25968                        	longi	on
 25969 03:6CFC: 3B           	tsc
 25970 03:6CFD: 38           	sec
 25971 03:6CFE: E9 20 00     	sbc	#L1150
 25972 03:6D01: 1B           	tcs
 25973 03:6D02: 0B           	phd
 25974 03:6D03: 5B           	tcd
 25975             00000004   x0_0	set	4
 25976             00000006   y0_0	set	6
 25977             00000008   width_0	set	8
 25978             0000000A   height_0	set	10
 25979             0000000C   x1_0	set	12
 25980             0000000E   y1_0	set	14
 25981                        	.block	4345
 25982                        ;	long dy = 0L;
 25983                        ;	long dd = y1;
 25984                        ;
 25985                        ;	long pixelLocation0 = 0L;
 25986                        ;	long pixelLocation1 = 0L;
 25987                        ;	long pixelLocationD = 0L;
 25988                        ;	long difference     = 0L;
 25989                        ;
 25990                        ;	pixelLocation0 = (long)(((long)y0 * 640L) + (lon
                    g)x0);
 25991             00000000   dy_1	set	0
 25992             00000004   dd_1	set	4
 25993             00000008   pixelLocation0_1	set	8
 25994             0000000C   pixelLocation1_1	set	12
 25995             00000010   pixelLocationD_1	set	16
 25996             00000014   difference_1	set	20
 25997                        	.sym	dy,0,7,1,32
 25998                        	.sym	dd,4,7,1,32
 25999                        	.sym	pixelLocation0,8,7,1,32
 26000                        	.sym	pixelLocation1,12,7,1,32
 26001                        	.sym	pixelLocationD,16,7,1,32
 26002                        	.sym	difference,20,7,1,32
 26003                        	.sym	x0,4,5,6,16
 26004                        	.sym	y0,6,5,6,16
 26005                        	.sym	width,8,5,6,16
 26006                        	.sym	height,10,5,6,16
 26007                        	.sym	x1,12,5,6,16
  Mon Dec  7 2020 11:19                                                Page 479


 26008                        	.sym	y1,14,5,6,16
 26009 03:6D04: 64 09        	stz	<L1151+dy_1
 26010 03:6D06: 64 0B        	stz	<L1151+dy_1+2
 26011 03:6D08: A0 00 00     	ldy	#$0
 26012 03:6D0B: A5 2E        	lda	<L1150+y1_0
 26013 03:6D0D: 10 01        	bpl	L1153
 26014 03:6D0F: 88           	dey
 26015                        L1153:
 26016 03:6D10: 85 0D        	sta	<L1151+dd_1
 26017 03:6D12: 84 0F        	sty	<L1151+dd_1+2
 26018 03:6D14: 64 11        	stz	<L1151+pixelLocation0_1
 26019 03:6D16: 64 13        	stz	<L1151+pixelLocation0_1+2
 26020 03:6D18: 64 15        	stz	<L1151+pixelLocation1_1
 26021 03:6D1A: 64 17        	stz	<L1151+pixelLocation1_1+2
 26022 03:6D1C: 64 19        	stz	<L1151+pixelLocationD_1
 26023 03:6D1E: 64 1B        	stz	<L1151+pixelLocationD_1+2
 26024 03:6D20: 64 1D        	stz	<L1151+difference_1
 26025 03:6D22: 64 1F        	stz	<L1151+difference_1+2
 26026                        	.line	4354
 26027 03:6D24: A0 00 00     	ldy	#$0
 26028 03:6D27: A5 24        	lda	<L1150+x0_0
 26029 03:6D29: 10 01        	bpl	L1154
 26030 03:6D2B: 88           	dey
 26031                        L1154:
 26032 03:6D2C: 85 01        	sta	<R0
 26033 03:6D2E: 84 03        	sty	<R0+2
 26034 03:6D30: A0 00 00     	ldy	#$0
 26035 03:6D33: A5 26        	lda	<L1150+y0_0
 26036 03:6D35: 10 01        	bpl	L1155
 26037 03:6D37: 88           	dey
 26038                        L1155:
 26039 03:6D38: 85 05        	sta	<R1
 26040 03:6D3A: 84 07        	sty	<R1+2
 26041 03:6D3C: F4 00 00     	pea	#^$280
 26042 03:6D3F: F4 80 02     	pea	#<$280
 26043 03:6D42: D4 07        	pei	<R1+2
 26044 03:6D44: D4 05        	pei	<R1
 26045                        	xref	~~~lmul
 26046 03:6D46: 22 xx xx xx  	jsl	~~~lmul
 26047 03:6D4A: 85 05        	sta	<R1
 26048 03:6D4C: 86 07        	stx	<R1+2
 26049 03:6D4E: 18           	clc
 26050 03:6D4F: A5 05        	lda	<R1
 26051 03:6D51: 65 01        	adc	<R0
 26052 03:6D53: 85 11        	sta	<L1151+pixelLocation0_1
 26053 03:6D55: A5 07        	lda	<R1+2
 26054 03:6D57: 65 03        	adc	<R0+2
 26055 03:6D59: 85 13        	sta	<L1151+pixelLocation0_1+2
 26056                        ;	//pixelLocation1 = (long)(((long)y0 * 640L) + (l
                    ong)(x0 + width ));
 26057                        ;	pixelLocationD = (long)(((long)y1 * 640L) + (lon
                    g)(x1));
 26058                        	.line	4356
 26059 03:6D5B: A0 00 00     	ldy	#$0
 26060 03:6D5E: A5 2C        	lda	<L1150+x1_0
 26061 03:6D60: 10 01        	bpl	L1156
 26062 03:6D62: 88           	dey
 26063                        L1156:
  Mon Dec  7 2020 11:19                                                Page 480


 26064 03:6D63: 85 01        	sta	<R0
 26065 03:6D65: 84 03        	sty	<R0+2
 26066 03:6D67: A0 00 00     	ldy	#$0
 26067 03:6D6A: A5 2E        	lda	<L1150+y1_0
 26068 03:6D6C: 10 01        	bpl	L1157
 26069 03:6D6E: 88           	dey
 26070                        L1157:
 26071 03:6D6F: 85 05        	sta	<R1
 26072 03:6D71: 84 07        	sty	<R1+2
 26073 03:6D73: F4 00 00     	pea	#^$280
 26074 03:6D76: F4 80 02     	pea	#<$280
 26075 03:6D79: D4 07        	pei	<R1+2
 26076 03:6D7B: D4 05        	pei	<R1
 26077                        	xref	~~~lmul
 26078 03:6D7D: 22 xx xx xx  	jsl	~~~lmul
 26079 03:6D81: 85 05        	sta	<R1
 26080 03:6D83: 86 07        	stx	<R1+2
 26081 03:6D85: 18           	clc
 26082 03:6D86: A5 05        	lda	<R1
 26083 03:6D88: 65 01        	adc	<R0
 26084 03:6D8A: 85 19        	sta	<L1151+pixelLocationD_1
 26085 03:6D8C: A5 07        	lda	<R1+2
 26086 03:6D8E: 65 03        	adc	<R0+2
 26087 03:6D90: 85 1B        	sta	<L1151+pixelLocationD_1+2
 26088                        ;
 26089                        ;	difference = pixelLocation1 - pixelLocation0;
 26090                        	.line	4358
 26091 03:6D92: 38           	sec
 26092 03:6D93: A5 15        	lda	<L1151+pixelLocation1_1
 26093 03:6D95: E5 11        	sbc	<L1151+pixelLocation0_1
 26094 03:6D97: 85 1D        	sta	<L1151+difference_1
 26095 03:6D99: A5 17        	lda	<L1151+pixelLocation1_1+2
 26096 03:6D9B: E5 13        	sbc	<L1151+pixelLocation0_1+2
 26097 03:6D9D: 85 1F        	sta	<L1151+difference_1+2
 26098                        ;
 26099                        ;	//k_debug_long("pixelLocation0:",pixelLocation0)
                    ;
 26100                        ;	//k_debug_long("pixelLocation1:",pixelLocation1)
                    ;
 26101                        ;	//k_debug_long("pixelLocationD:",pixelLocationD)
                    ;
 26102                        ;	//k_debug_long("difference:",difference);
 26103                        ;
 26104                        ;	y0++;
 26105                        	.line	4365
 26106 03:6D9F: E6 26        	inc	<L1150+y0_0
 26107                        ;	x0++;
 26108                        	.line	4366
 26109 03:6DA1: E6 24        	inc	<L1150+x0_0
 26110                        ;
 26111                        ;	for(dy = y0;dy<(y0 + height);dy++)
 26112                        	.line	4368
 26113 03:6DA3: A0 00 00     	ldy	#$0
 26114 03:6DA6: A5 26        	lda	<L1150+y0_0
 26115 03:6DA8: 10 01        	bpl	L1158
 26116 03:6DAA: 88           	dey
 26117                        L1158:
 26118 03:6DAB: 85 09        	sta	<L1151+dy_1
  Mon Dec  7 2020 11:19                                                Page 481


 26119 03:6DAD: 84 0B        	sty	<L1151+dy_1+2
 26120 03:6DAF: 82 8E 00     	brl	L10477
 26121                        L10476:
 26122                        ;	{
 26123                        	.line	4369
 26124                        ;		pixelLocation0 = (long)(((long)dy * 640L
                    ) + (long)x0);
 26125                        	.line	4370
 26126 03:6DB2: A0 00 00     	ldy	#$0
 26127 03:6DB5: A5 24        	lda	<L1150+x0_0
 26128 03:6DB7: 10 01        	bpl	L1159
 26129 03:6DB9: 88           	dey
 26130                        L1159:
 26131 03:6DBA: 85 01        	sta	<R0
 26132 03:6DBC: 84 03        	sty	<R0+2
 26133 03:6DBE: F4 00 00     	pea	#^$280
 26134 03:6DC1: F4 80 02     	pea	#<$280
 26135 03:6DC4: D4 0B        	pei	<L1151+dy_1+2
 26136 03:6DC6: D4 09        	pei	<L1151+dy_1
 26137                        	xref	~~~lmul
 26138 03:6DC8: 22 xx xx xx  	jsl	~~~lmul
 26139 03:6DCC: 85 05        	sta	<R1
 26140 03:6DCE: 86 07        	stx	<R1+2
 26141 03:6DD0: 18           	clc
 26142 03:6DD1: A5 05        	lda	<R1
 26143 03:6DD3: 65 01        	adc	<R0
 26144 03:6DD5: 85 11        	sta	<L1151+pixelLocation0_1
 26145 03:6DD7: A5 07        	lda	<R1+2
 26146 03:6DD9: 65 03        	adc	<R0+2
 26147 03:6DDB: 85 13        	sta	<L1151+pixelLocation0_1+2
 26148                        ;		pixelLocationD = (long)(((long)dd * 640L
                    ) + (long)x1);
 26149                        	.line	4371
 26150 03:6DDD: A0 00 00     	ldy	#$0
 26151 03:6DE0: A5 2C        	lda	<L1150+x1_0
 26152 03:6DE2: 10 01        	bpl	L1160
 26153 03:6DE4: 88           	dey
 26154                        L1160:
 26155 03:6DE5: 85 01        	sta	<R0
 26156 03:6DE7: 84 03        	sty	<R0+2
 26157 03:6DE9: F4 00 00     	pea	#^$280
 26158 03:6DEC: F4 80 02     	pea	#<$280
 26159 03:6DEF: D4 0F        	pei	<L1151+dd_1+2
 26160 03:6DF1: D4 0D        	pei	<L1151+dd_1
 26161                        	xref	~~~lmul
 26162 03:6DF3: 22 xx xx xx  	jsl	~~~lmul
 26163 03:6DF7: 85 05        	sta	<R1
 26164 03:6DF9: 86 07        	stx	<R1+2
 26165 03:6DFB: 18           	clc
 26166 03:6DFC: A5 05        	lda	<R1
 26167 03:6DFE: 65 01        	adc	<R0
 26168 03:6E00: 85 19        	sta	<L1151+pixelLocationD_1
 26169 03:6E02: A5 07        	lda	<R1+2
 26170 03:6E04: 65 03        	adc	<R0+2
 26171 03:6E06: 85 1B        	sta	<L1151+pixelLocationD_1+2
 26172                        ;		memcpy(   &((BITMAP_BANK_0)[pixelLocatio
                    nD])  , &((SHADOW_BANK_0)[pixelLocation0]), difference) ;
 26173                        	.line	4372
  Mon Dec  7 2020 11:19                                                Page 482


 26174 03:6E08: D4 1D        	pei	<L1151+difference_1
 26175 03:6E0A: 18           	clc
 26176 03:6E0B: A9 00 00     	lda	#$0
 26177 03:6E0E: 65 11        	adc	<L1151+pixelLocation0_1
 26178 03:6E10: 85 01        	sta	<R0
 26179 03:6E12: A9 0A 00     	lda	#$a
 26180 03:6E15: 65 13        	adc	<L1151+pixelLocation0_1+2
 26181 03:6E17: 85 03        	sta	<R0+2
 26182 03:6E19: D4 03        	pei	<R0+2
 26183 03:6E1B: D4 01        	pei	<R0
 26184 03:6E1D: 18           	clc
 26185 03:6E1E: A9 00 00     	lda	#$0
 26186 03:6E21: 65 19        	adc	<L1151+pixelLocationD_1
 26187 03:6E23: 85 05        	sta	<R1
 26188 03:6E25: A9 B0 00     	lda	#$b0
 26189 03:6E28: 65 1B        	adc	<L1151+pixelLocationD_1+2
 26190 03:6E2A: 85 07        	sta	<R1+2
 26191 03:6E2C: D4 07        	pei	<R1+2
 26192 03:6E2E: D4 05        	pei	<R1
 26193 03:6E30: 22 xx xx xx  	jsl	~~memcpy
 26194                        ;
 26195                        ;		dd++;
 26196                        	.line	4374
 26197 03:6E34: E6 0D        	inc	<L1151+dd_1
 26198 03:6E36: D0 02        	bne	L1161
 26199 03:6E38: E6 0F        	inc	<L1151+dd_1+2
 26200                        L1161:
 26201                        ;	}
 26202                        	.line	4375
 26203                        L10474:
 26204 03:6E3A: E6 09        	inc	<L1151+dy_1
 26205 03:6E3C: D0 02        	bne	L1162
 26206 03:6E3E: E6 0B        	inc	<L1151+dy_1+2
 26207                        L1162:
 26208                        L10477:
 26209 03:6E40: 18           	clc
 26210 03:6E41: A5 26        	lda	<L1150+y0_0
 26211 03:6E43: 65 2A        	adc	<L1150+height_0
 26212 03:6E45: 85 01        	sta	<R0
 26213 03:6E47: A0 00 00     	ldy	#$0
 26214 03:6E4A: A5 01        	lda	<R0
 26215 03:6E4C: 10 01        	bpl	L1163
 26216 03:6E4E: 88           	dey
 26217                        L1163:
 26218 03:6E4F: 85 01        	sta	<R0
 26219 03:6E51: 84 03        	sty	<R0+2
 26220 03:6E53: 38           	sec
 26221 03:6E54: A5 09        	lda	<L1151+dy_1
 26222 03:6E56: E5 01        	sbc	<R0
 26223 03:6E58: A5 0B        	lda	<L1151+dy_1+2
 26224 03:6E5A: E5 03        	sbc	<R0+2
 26225 03:6E5C: 70 03        	bvs	L1164
 26226 03:6E5E: 49 00 80     	eor	#$8000
 26227                        L1164:
 26228 03:6E61: 30 03        	bmi	L1165
 26229 03:6E63: 82 4C FF     	brl	L10476
 26230                        L1165:
 26231                        L10475:
  Mon Dec  7 2020 11:19                                                Page 483


 26232                        ;
 26233                        ;}
 26234                        	.line	4377
 26235                        L1166:
 26236 03:6E66: A5 22        	lda	<L1150+2
 26237 03:6E68: 85 2E        	sta	<L1150+2+12
 26238 03:6E6A: A5 21        	lda	<L1150+1
 26239 03:6E6C: 85 2D        	sta	<L1150+1+12
 26240 03:6E6E: 2B           	pld
 26241 03:6E6F: 3B           	tsc
 26242 03:6E70: 18           	clc
 26243 03:6E71: 69 2C 00     	adc	#L1150+12
 26244 03:6E74: 1B           	tcs
 26245 03:6E75: 6B           	rtl
 26246                        	.endblock	4377
 26247             00000020   L1150	equ	32
 26248             00000009   L1151	equ	9
 26249 03:6E76:              	ends
 26250                        	efunc
 26251                        	.endfunc	4377,9,32
 26252                        	.line	4377
 26253                        ;
 26254                        ;void k_scratch_save_bitblt(int x0, int y0, int wi
                    dth, int height, int x1, int y1)
 26255                        ;{
 26256                        	.line	4379
 26257                        	.line	4380
 26258                        	GUI
 26259                        	xdef	~~k_scratch_save_bitblt
 26260                        	func
 26261                        	.function	4380
 26262                        ~~k_scratch_save_bitblt:
 26263                        	longa	on
 26264                        	longi	on
 26265 03:6E76: 3B           	tsc
 26266 03:6E77: 38           	sec
 26267 03:6E78: E9 20 00     	sbc	#L1167
 26268 03:6E7B: 1B           	tcs
 26269 03:6E7C: 0B           	phd
 26270 03:6E7D: 5B           	tcd
 26271             00000004   x0_0	set	4
 26272             00000006   y0_0	set	6
 26273             00000008   width_0	set	8
 26274             0000000A   height_0	set	10
 26275             0000000C   x1_0	set	12
 26276             0000000E   y1_0	set	14
 26277                        	.block	4380
 26278                        ;	long dy = 0L;
 26279                        ;	long dd = y1;
 26280                        ;	long pixelLocation0 = (long)(((long)y0 * 640L) +
                     (long)x0);
 26281                        ;	long pixelLocation1 = (long)(((long)y0 * 640L) +
                     (long)(x0 + width ));
 26282                        ;	long pixelLocationD = (long)(((long)y1 * 640L) +
                     (long)(x1));
 26283                        ;
 26284                        ;	long difference = width;//pixelLocation1 - pixel
                    Location0 + 1;
  Mon Dec  7 2020 11:19                                                Page 484


 26285                        ;
 26286                        ;	//k_debug_long("pixelLocation0:",pixelLocation0)
                    ;
 26287                        ;	//k_debug_long("pixelLocation1:",pixelLocation1)
                    ;
 26288                        ;	//k_debug_long("pixelLocationD:",pixelLocationD)
                    ;
 26289                        ;	//k_debug_long("difference:",difference);
 26290                        ;
 26291                        ;
 26292                        ;
 26293                        ;	for(dy = y0;dy<(y0 + height);dy++)
 26294             00000000   dy_1	set	0
 26295             00000004   dd_1	set	4
 26296             00000008   pixelLocation0_1	set	8
 26297             0000000C   pixelLocation1_1	set	12
 26298             00000010   pixelLocationD_1	set	16
 26299             00000014   difference_1	set	20
 26300                        	.sym	dy,0,7,1,32
 26301                        	.sym	dd,4,7,1,32
 26302                        	.sym	pixelLocation0,8,7,1,32
 26303                        	.sym	pixelLocation1,12,7,1,32
 26304                        	.sym	pixelLocationD,16,7,1,32
 26305                        	.sym	difference,20,7,1,32
 26306                        	.sym	x0,4,5,6,16
 26307                        	.sym	y0,6,5,6,16
 26308                        	.sym	width,8,5,6,16
 26309                        	.sym	height,10,5,6,16
 26310                        	.sym	x1,12,5,6,16
 26311                        	.sym	y1,14,5,6,16
 26312 03:6E7E: 64 09        	stz	<L1168+dy_1
 26313 03:6E80: 64 0B        	stz	<L1168+dy_1+2
 26314 03:6E82: A0 00 00     	ldy	#$0
 26315 03:6E85: A5 2E        	lda	<L1167+y1_0
 26316 03:6E87: 10 01        	bpl	L1170
 26317 03:6E89: 88           	dey
 26318                        L1170:
 26319 03:6E8A: 85 0D        	sta	<L1168+dd_1
 26320 03:6E8C: 84 0F        	sty	<L1168+dd_1+2
 26321 03:6E8E: A0 00 00     	ldy	#$0
 26322 03:6E91: A5 24        	lda	<L1167+x0_0
 26323 03:6E93: 10 01        	bpl	L1171
 26324 03:6E95: 88           	dey
 26325                        L1171:
 26326 03:6E96: 85 01        	sta	<R0
 26327 03:6E98: 84 03        	sty	<R0+2
 26328 03:6E9A: A0 00 00     	ldy	#$0
 26329 03:6E9D: A5 26        	lda	<L1167+y0_0
 26330 03:6E9F: 10 01        	bpl	L1172
 26331 03:6EA1: 88           	dey
 26332                        L1172:
 26333 03:6EA2: 85 05        	sta	<R1
 26334 03:6EA4: 84 07        	sty	<R1+2
 26335 03:6EA6: F4 00 00     	pea	#^$280
 26336 03:6EA9: F4 80 02     	pea	#<$280
 26337 03:6EAC: D4 07        	pei	<R1+2
 26338 03:6EAE: D4 05        	pei	<R1
 26339                        	xref	~~~lmul
  Mon Dec  7 2020 11:19                                                Page 485


 26340 03:6EB0: 22 xx xx xx  	jsl	~~~lmul
 26341 03:6EB4: 85 05        	sta	<R1
 26342 03:6EB6: 86 07        	stx	<R1+2
 26343 03:6EB8: 18           	clc
 26344 03:6EB9: A5 05        	lda	<R1
 26345 03:6EBB: 65 01        	adc	<R0
 26346 03:6EBD: 85 11        	sta	<L1168+pixelLocation0_1
 26347 03:6EBF: A5 07        	lda	<R1+2
 26348 03:6EC1: 65 03        	adc	<R0+2
 26349 03:6EC3: 85 13        	sta	<L1168+pixelLocation0_1+2
 26350 03:6EC5: 18           	clc
 26351 03:6EC6: A5 24        	lda	<L1167+x0_0
 26352 03:6EC8: 65 28        	adc	<L1167+width_0
 26353 03:6ECA: 85 01        	sta	<R0
 26354 03:6ECC: A0 00 00     	ldy	#$0
 26355 03:6ECF: A5 01        	lda	<R0
 26356 03:6ED1: 10 01        	bpl	L1173
 26357 03:6ED3: 88           	dey
 26358                        L1173:
 26359 03:6ED4: 85 01        	sta	<R0
 26360 03:6ED6: 84 03        	sty	<R0+2
 26361 03:6ED8: A0 00 00     	ldy	#$0
 26362 03:6EDB: A5 26        	lda	<L1167+y0_0
 26363 03:6EDD: 10 01        	bpl	L1174
 26364 03:6EDF: 88           	dey
 26365                        L1174:
 26366 03:6EE0: 85 05        	sta	<R1
 26367 03:6EE2: 84 07        	sty	<R1+2
 26368 03:6EE4: F4 00 00     	pea	#^$280
 26369 03:6EE7: F4 80 02     	pea	#<$280
 26370 03:6EEA: D4 07        	pei	<R1+2
 26371 03:6EEC: D4 05        	pei	<R1
 26372                        	xref	~~~lmul
 26373 03:6EEE: 22 xx xx xx  	jsl	~~~lmul
 26374 03:6EF2: 85 05        	sta	<R1
 26375 03:6EF4: 86 07        	stx	<R1+2
 26376 03:6EF6: 18           	clc
 26377 03:6EF7: A5 05        	lda	<R1
 26378 03:6EF9: 65 01        	adc	<R0
 26379 03:6EFB: 85 15        	sta	<L1168+pixelLocation1_1
 26380 03:6EFD: A5 07        	lda	<R1+2
 26381 03:6EFF: 65 03        	adc	<R0+2
 26382 03:6F01: 85 17        	sta	<L1168+pixelLocation1_1+2
 26383 03:6F03: A0 00 00     	ldy	#$0
 26384 03:6F06: A5 2C        	lda	<L1167+x1_0
 26385 03:6F08: 10 01        	bpl	L1175
 26386 03:6F0A: 88           	dey
 26387                        L1175:
 26388 03:6F0B: 85 01        	sta	<R0
 26389 03:6F0D: 84 03        	sty	<R0+2
 26390 03:6F0F: A0 00 00     	ldy	#$0
 26391 03:6F12: A5 2E        	lda	<L1167+y1_0
 26392 03:6F14: 10 01        	bpl	L1176
 26393 03:6F16: 88           	dey
 26394                        L1176:
 26395 03:6F17: 85 05        	sta	<R1
 26396 03:6F19: 84 07        	sty	<R1+2
 26397 03:6F1B: F4 00 00     	pea	#^$280
  Mon Dec  7 2020 11:19                                                Page 486


 26398 03:6F1E: F4 80 02     	pea	#<$280
 26399 03:6F21: D4 07        	pei	<R1+2
 26400 03:6F23: D4 05        	pei	<R1
 26401                        	xref	~~~lmul
 26402 03:6F25: 22 xx xx xx  	jsl	~~~lmul
 26403 03:6F29: 85 05        	sta	<R1
 26404 03:6F2B: 86 07        	stx	<R1+2
 26405 03:6F2D: 18           	clc
 26406 03:6F2E: A5 05        	lda	<R1
 26407 03:6F30: 65 01        	adc	<R0
 26408 03:6F32: 85 19        	sta	<L1168+pixelLocationD_1
 26409 03:6F34: A5 07        	lda	<R1+2
 26410 03:6F36: 65 03        	adc	<R0+2
 26411 03:6F38: 85 1B        	sta	<L1168+pixelLocationD_1+2
 26412 03:6F3A: A0 00 00     	ldy	#$0
 26413 03:6F3D: A5 28        	lda	<L1167+width_0
 26414 03:6F3F: 10 01        	bpl	L1177
 26415 03:6F41: 88           	dey
 26416                        L1177:
 26417 03:6F42: 85 1D        	sta	<L1168+difference_1
 26418 03:6F44: 84 1F        	sty	<L1168+difference_1+2
 26419                        	.line	4396
 26420 03:6F46: A0 00 00     	ldy	#$0
 26421 03:6F49: A5 26        	lda	<L1167+y0_0
 26422 03:6F4B: 10 01        	bpl	L1178
 26423 03:6F4D: 88           	dey
 26424                        L1178:
 26425 03:6F4E: 85 09        	sta	<L1168+dy_1
 26426 03:6F50: 84 0B        	sty	<L1168+dy_1+2
 26427 03:6F52: 82 8E 00     	brl	L10481
 26428                        L10480:
 26429                        ;	{
 26430                        	.line	4397
 26431                        ;		pixelLocation0 = (long)(((long)dy * 640L
                    ) + (long)x0);
 26432                        	.line	4398
 26433 03:6F55: A0 00 00     	ldy	#$0
 26434 03:6F58: A5 24        	lda	<L1167+x0_0
 26435 03:6F5A: 10 01        	bpl	L1179
 26436 03:6F5C: 88           	dey
 26437                        L1179:
 26438 03:6F5D: 85 01        	sta	<R0
 26439 03:6F5F: 84 03        	sty	<R0+2
 26440 03:6F61: F4 00 00     	pea	#^$280
 26441 03:6F64: F4 80 02     	pea	#<$280
 26442 03:6F67: D4 0B        	pei	<L1168+dy_1+2
 26443 03:6F69: D4 09        	pei	<L1168+dy_1
 26444                        	xref	~~~lmul
 26445 03:6F6B: 22 xx xx xx  	jsl	~~~lmul
 26446 03:6F6F: 85 05        	sta	<R1
 26447 03:6F71: 86 07        	stx	<R1+2
 26448 03:6F73: 18           	clc
 26449 03:6F74: A5 05        	lda	<R1
 26450 03:6F76: 65 01        	adc	<R0
 26451 03:6F78: 85 11        	sta	<L1168+pixelLocation0_1
 26452 03:6F7A: A5 07        	lda	<R1+2
 26453 03:6F7C: 65 03        	adc	<R0+2
 26454 03:6F7E: 85 13        	sta	<L1168+pixelLocation0_1+2
  Mon Dec  7 2020 11:19                                                Page 487


 26455                        ;		pixelLocationD = (long)(((long)dd * 640L
                    ) + (long)x1);
 26456                        	.line	4399
 26457 03:6F80: A0 00 00     	ldy	#$0
 26458 03:6F83: A5 2C        	lda	<L1167+x1_0
 26459 03:6F85: 10 01        	bpl	L1180
 26460 03:6F87: 88           	dey
 26461                        L1180:
 26462 03:6F88: 85 01        	sta	<R0
 26463 03:6F8A: 84 03        	sty	<R0+2
 26464 03:6F8C: F4 00 00     	pea	#^$280
 26465 03:6F8F: F4 80 02     	pea	#<$280
 26466 03:6F92: D4 0F        	pei	<L1168+dd_1+2
 26467 03:6F94: D4 0D        	pei	<L1168+dd_1
 26468                        	xref	~~~lmul
 26469 03:6F96: 22 xx xx xx  	jsl	~~~lmul
 26470 03:6F9A: 85 05        	sta	<R1
 26471 03:6F9C: 86 07        	stx	<R1+2
 26472 03:6F9E: 18           	clc
 26473 03:6F9F: A5 05        	lda	<R1
 26474 03:6FA1: 65 01        	adc	<R0
 26475 03:6FA3: 85 19        	sta	<L1168+pixelLocationD_1
 26476 03:6FA5: A5 07        	lda	<R1+2
 26477 03:6FA7: 65 03        	adc	<R0+2
 26478 03:6FA9: 85 1B        	sta	<L1168+pixelLocationD_1+2
 26479                        ;		memcpy(   &((SHADOW_BANK_5)[pixelLocatio
                    nD])  , &((SHADOW_BANK_0)[pixelLocation0]), difference) ;
 26480                        	.line	4400
 26481 03:6FAB: D4 1D        	pei	<L1168+difference_1
 26482 03:6FAD: 18           	clc
 26483 03:6FAE: A9 00 00     	lda	#$0
 26484 03:6FB1: 65 11        	adc	<L1168+pixelLocation0_1
 26485 03:6FB3: 85 01        	sta	<R0
 26486 03:6FB5: A9 0A 00     	lda	#$a
 26487 03:6FB8: 65 13        	adc	<L1168+pixelLocation0_1+2
 26488 03:6FBA: 85 03        	sta	<R0+2
 26489 03:6FBC: D4 03        	pei	<R0+2
 26490 03:6FBE: D4 01        	pei	<R0
 26491 03:6FC0: 18           	clc
 26492 03:6FC1: A9 00 00     	lda	#$0
 26493 03:6FC4: 65 19        	adc	<L1168+pixelLocationD_1
 26494 03:6FC6: 85 05        	sta	<R1
 26495 03:6FC8: A9 0F 00     	lda	#$f
 26496 03:6FCB: 65 1B        	adc	<L1168+pixelLocationD_1+2
 26497 03:6FCD: 85 07        	sta	<R1+2
 26498 03:6FCF: D4 07        	pei	<R1+2
 26499 03:6FD1: D4 05        	pei	<R1
 26500 03:6FD3: 22 xx xx xx  	jsl	~~memcpy
 26501                        ;
 26502                        ;		dd++;
 26503                        	.line	4402
 26504 03:6FD7: E6 0D        	inc	<L1168+dd_1
 26505 03:6FD9: D0 02        	bne	L1181
 26506 03:6FDB: E6 0F        	inc	<L1168+dd_1+2
 26507                        L1181:
 26508                        ;	}
 26509                        	.line	4403
 26510                        L10478:
  Mon Dec  7 2020 11:19                                                Page 488


 26511 03:6FDD: E6 09        	inc	<L1168+dy_1
 26512 03:6FDF: D0 02        	bne	L1182
 26513 03:6FE1: E6 0B        	inc	<L1168+dy_1+2
 26514                        L1182:
 26515                        L10481:
 26516 03:6FE3: 18           	clc
 26517 03:6FE4: A5 26        	lda	<L1167+y0_0
 26518 03:6FE6: 65 2A        	adc	<L1167+height_0
 26519 03:6FE8: 85 01        	sta	<R0
 26520 03:6FEA: A0 00 00     	ldy	#$0
 26521 03:6FED: A5 01        	lda	<R0
 26522 03:6FEF: 10 01        	bpl	L1183
 26523 03:6FF1: 88           	dey
 26524                        L1183:
 26525 03:6FF2: 85 01        	sta	<R0
 26526 03:6FF4: 84 03        	sty	<R0+2
 26527 03:6FF6: 38           	sec
 26528 03:6FF7: A5 09        	lda	<L1168+dy_1
 26529 03:6FF9: E5 01        	sbc	<R0
 26530 03:6FFB: A5 0B        	lda	<L1168+dy_1+2
 26531 03:6FFD: E5 03        	sbc	<R0+2
 26532 03:6FFF: 70 03        	bvs	L1184
 26533 03:7001: 49 00 80     	eor	#$8000
 26534                        L1184:
 26535 03:7004: 30 03        	bmi	L1185
 26536 03:7006: 82 4C FF     	brl	L10480
 26537                        L1185:
 26538                        L10479:
 26539                        ;
 26540                        ;}
 26541                        	.line	4405
 26542                        L1186:
 26543 03:7009: A5 22        	lda	<L1167+2
 26544 03:700B: 85 2E        	sta	<L1167+2+12
 26545 03:700D: A5 21        	lda	<L1167+1
 26546 03:700F: 85 2D        	sta	<L1167+1+12
 26547 03:7011: 2B           	pld
 26548 03:7012: 3B           	tsc
 26549 03:7013: 18           	clc
 26550 03:7014: 69 2C 00     	adc	#L1167+12
 26551 03:7017: 1B           	tcs
 26552 03:7018: 6B           	rtl
 26553                        	.endblock	4405
 26554             00000020   L1167	equ	32
 26555             00000009   L1168	equ	9
 26556 03:7019:              	ends
 26557                        	efunc
 26558                        	.endfunc	4405,9,32
 26559                        	.line	4405
 26560                        ;
 26561                        ;void k_scratch_restore_bitblt(int x0, int y0, int
                     width, int height, int x1, int y1)
 26562                        ;{
 26563                        	.line	4407
 26564                        	.line	4408
 26565                        	GUI
 26566                        	xdef	~~k_scratch_restore_bitblt
 26567                        	func
  Mon Dec  7 2020 11:19                                                Page 489


 26568                        	.function	4408
 26569                        ~~k_scratch_restore_bitblt:
 26570                        	longa	on
 26571                        	longi	on
 26572 03:7019: 3B           	tsc
 26573 03:701A: 38           	sec
 26574 03:701B: E9 20 00     	sbc	#L1187
 26575 03:701E: 1B           	tcs
 26576 03:701F: 0B           	phd
 26577 03:7020: 5B           	tcd
 26578             00000004   x0_0	set	4
 26579             00000006   y0_0	set	6
 26580             00000008   width_0	set	8
 26581             0000000A   height_0	set	10
 26582             0000000C   x1_0	set	12
 26583             0000000E   y1_0	set	14
 26584                        	.block	4408
 26585                        ;	long dy = 0L;
 26586                        ;	long dd = y1;
 26587                        ;	long pixelLocation0 = (long)(((long)y0 * 640L) +
                     (long)x0);
 26588                        ;	long pixelLocation1 = (long)(((long)y0 * 640L) +
                     (long)(x0 + width ));
 26589                        ;	long pixelLocationD = (long)(((long)y1 * 640L) +
                     (long)(x1));
 26590                        ;
 26591                        ;	long difference = width;//pixelLocation1 - pixel
                    Location0 + 1;
 26592                        ;
 26593                        ;	//k_debug_long("pixelLocation0:",pixelLocation0)
                    ;
 26594                        ;	//k_debug_long("pixelLocation1:",pixelLocation1)
                    ;
 26595                        ;	//k_debug_long("pixelLocationD:",pixelLocationD)
                    ;
 26596                        ;	//k_debug_long("difference:",difference);
 26597                        ;
 26598                        ;
 26599                        ;
 26600                        ;	for(dy = y0;dy<(y0 + height);dy++)
 26601             00000000   dy_1	set	0
 26602             00000004   dd_1	set	4
 26603             00000008   pixelLocation0_1	set	8
 26604             0000000C   pixelLocation1_1	set	12
 26605             00000010   pixelLocationD_1	set	16
 26606             00000014   difference_1	set	20
 26607                        	.sym	dy,0,7,1,32
 26608                        	.sym	dd,4,7,1,32
 26609                        	.sym	pixelLocation0,8,7,1,32
 26610                        	.sym	pixelLocation1,12,7,1,32
 26611                        	.sym	pixelLocationD,16,7,1,32
 26612                        	.sym	difference,20,7,1,32
 26613                        	.sym	x0,4,5,6,16
 26614                        	.sym	y0,6,5,6,16
 26615                        	.sym	width,8,5,6,16
 26616                        	.sym	height,10,5,6,16
 26617                        	.sym	x1,12,5,6,16
 26618                        	.sym	y1,14,5,6,16
  Mon Dec  7 2020 11:19                                                Page 490


 26619 03:7021: 64 09        	stz	<L1188+dy_1
 26620 03:7023: 64 0B        	stz	<L1188+dy_1+2
 26621 03:7025: A0 00 00     	ldy	#$0
 26622 03:7028: A5 2E        	lda	<L1187+y1_0
 26623 03:702A: 10 01        	bpl	L1190
 26624 03:702C: 88           	dey
 26625                        L1190:
 26626 03:702D: 85 0D        	sta	<L1188+dd_1
 26627 03:702F: 84 0F        	sty	<L1188+dd_1+2
 26628 03:7031: A0 00 00     	ldy	#$0
 26629 03:7034: A5 24        	lda	<L1187+x0_0
 26630 03:7036: 10 01        	bpl	L1191
 26631 03:7038: 88           	dey
 26632                        L1191:
 26633 03:7039: 85 01        	sta	<R0
 26634 03:703B: 84 03        	sty	<R0+2
 26635 03:703D: A0 00 00     	ldy	#$0
 26636 03:7040: A5 26        	lda	<L1187+y0_0
 26637 03:7042: 10 01        	bpl	L1192
 26638 03:7044: 88           	dey
 26639                        L1192:
 26640 03:7045: 85 05        	sta	<R1
 26641 03:7047: 84 07        	sty	<R1+2
 26642 03:7049: F4 00 00     	pea	#^$280
 26643 03:704C: F4 80 02     	pea	#<$280
 26644 03:704F: D4 07        	pei	<R1+2
 26645 03:7051: D4 05        	pei	<R1
 26646                        	xref	~~~lmul
 26647 03:7053: 22 xx xx xx  	jsl	~~~lmul
 26648 03:7057: 85 05        	sta	<R1
 26649 03:7059: 86 07        	stx	<R1+2
 26650 03:705B: 18           	clc
 26651 03:705C: A5 05        	lda	<R1
 26652 03:705E: 65 01        	adc	<R0
 26653 03:7060: 85 11        	sta	<L1188+pixelLocation0_1
 26654 03:7062: A5 07        	lda	<R1+2
 26655 03:7064: 65 03        	adc	<R0+2
 26656 03:7066: 85 13        	sta	<L1188+pixelLocation0_1+2
 26657 03:7068: 18           	clc
 26658 03:7069: A5 24        	lda	<L1187+x0_0
 26659 03:706B: 65 28        	adc	<L1187+width_0
 26660 03:706D: 85 01        	sta	<R0
 26661 03:706F: A0 00 00     	ldy	#$0
 26662 03:7072: A5 01        	lda	<R0
 26663 03:7074: 10 01        	bpl	L1193
 26664 03:7076: 88           	dey
 26665                        L1193:
 26666 03:7077: 85 01        	sta	<R0
 26667 03:7079: 84 03        	sty	<R0+2
 26668 03:707B: A0 00 00     	ldy	#$0
 26669 03:707E: A5 26        	lda	<L1187+y0_0
 26670 03:7080: 10 01        	bpl	L1194
 26671 03:7082: 88           	dey
 26672                        L1194:
 26673 03:7083: 85 05        	sta	<R1
 26674 03:7085: 84 07        	sty	<R1+2
 26675 03:7087: F4 00 00     	pea	#^$280
 26676 03:708A: F4 80 02     	pea	#<$280
  Mon Dec  7 2020 11:19                                                Page 491


 26677 03:708D: D4 07        	pei	<R1+2
 26678 03:708F: D4 05        	pei	<R1
 26679                        	xref	~~~lmul
 26680 03:7091: 22 xx xx xx  	jsl	~~~lmul
 26681 03:7095: 85 05        	sta	<R1
 26682 03:7097: 86 07        	stx	<R1+2
 26683 03:7099: 18           	clc
 26684 03:709A: A5 05        	lda	<R1
 26685 03:709C: 65 01        	adc	<R0
 26686 03:709E: 85 15        	sta	<L1188+pixelLocation1_1
 26687 03:70A0: A5 07        	lda	<R1+2
 26688 03:70A2: 65 03        	adc	<R0+2
 26689 03:70A4: 85 17        	sta	<L1188+pixelLocation1_1+2
 26690 03:70A6: A0 00 00     	ldy	#$0
 26691 03:70A9: A5 2C        	lda	<L1187+x1_0
 26692 03:70AB: 10 01        	bpl	L1195
 26693 03:70AD: 88           	dey
 26694                        L1195:
 26695 03:70AE: 85 01        	sta	<R0
 26696 03:70B0: 84 03        	sty	<R0+2
 26697 03:70B2: A0 00 00     	ldy	#$0
 26698 03:70B5: A5 2E        	lda	<L1187+y1_0
 26699 03:70B7: 10 01        	bpl	L1196
 26700 03:70B9: 88           	dey
 26701                        L1196:
 26702 03:70BA: 85 05        	sta	<R1
 26703 03:70BC: 84 07        	sty	<R1+2
 26704 03:70BE: F4 00 00     	pea	#^$280
 26705 03:70C1: F4 80 02     	pea	#<$280
 26706 03:70C4: D4 07        	pei	<R1+2
 26707 03:70C6: D4 05        	pei	<R1
 26708                        	xref	~~~lmul
 26709 03:70C8: 22 xx xx xx  	jsl	~~~lmul
 26710 03:70CC: 85 05        	sta	<R1
 26711 03:70CE: 86 07        	stx	<R1+2
 26712 03:70D0: 18           	clc
 26713 03:70D1: A5 05        	lda	<R1
 26714 03:70D3: 65 01        	adc	<R0
 26715 03:70D5: 85 19        	sta	<L1188+pixelLocationD_1
 26716 03:70D7: A5 07        	lda	<R1+2
 26717 03:70D9: 65 03        	adc	<R0+2
 26718 03:70DB: 85 1B        	sta	<L1188+pixelLocationD_1+2
 26719 03:70DD: A0 00 00     	ldy	#$0
 26720 03:70E0: A5 28        	lda	<L1187+width_0
 26721 03:70E2: 10 01        	bpl	L1197
 26722 03:70E4: 88           	dey
 26723                        L1197:
 26724 03:70E5: 85 1D        	sta	<L1188+difference_1
 26725 03:70E7: 84 1F        	sty	<L1188+difference_1+2
 26726                        	.line	4424
 26727 03:70E9: A0 00 00     	ldy	#$0
 26728 03:70EC: A5 26        	lda	<L1187+y0_0
 26729 03:70EE: 10 01        	bpl	L1198
 26730 03:70F0: 88           	dey
 26731                        L1198:
 26732 03:70F1: 85 09        	sta	<L1188+dy_1
 26733 03:70F3: 84 0B        	sty	<L1188+dy_1+2
 26734 03:70F5: 82 BA 00     	brl	L10485
  Mon Dec  7 2020 11:19                                                Page 492


 26735                        L10484:
 26736                        ;	{
 26737                        	.line	4425
 26738                        ;		pixelLocation0 = (long)(((long)dy * 640L
                    ) + (long)x0);
 26739                        	.line	4426
 26740 03:70F8: A0 00 00     	ldy	#$0
 26741 03:70FB: A5 24        	lda	<L1187+x0_0
 26742 03:70FD: 10 01        	bpl	L1199
 26743 03:70FF: 88           	dey
 26744                        L1199:
 26745 03:7100: 85 01        	sta	<R0
 26746 03:7102: 84 03        	sty	<R0+2
 26747 03:7104: F4 00 00     	pea	#^$280
 26748 03:7107: F4 80 02     	pea	#<$280
 26749 03:710A: D4 0B        	pei	<L1188+dy_1+2
 26750 03:710C: D4 09        	pei	<L1188+dy_1
 26751                        	xref	~~~lmul
 26752 03:710E: 22 xx xx xx  	jsl	~~~lmul
 26753 03:7112: 85 05        	sta	<R1
 26754 03:7114: 86 07        	stx	<R1+2
 26755 03:7116: 18           	clc
 26756 03:7117: A5 05        	lda	<R1
 26757 03:7119: 65 01        	adc	<R0
 26758 03:711B: 85 11        	sta	<L1188+pixelLocation0_1
 26759 03:711D: A5 07        	lda	<R1+2
 26760 03:711F: 65 03        	adc	<R0+2
 26761 03:7121: 85 13        	sta	<L1188+pixelLocation0_1+2
 26762                        ;		pixelLocationD = (long)(((long)dd * 640L
                    ) + (long)x1);
 26763                        	.line	4427
 26764 03:7123: A0 00 00     	ldy	#$0
 26765 03:7126: A5 2C        	lda	<L1187+x1_0
 26766 03:7128: 10 01        	bpl	L1200
 26767 03:712A: 88           	dey
 26768                        L1200:
 26769 03:712B: 85 01        	sta	<R0
 26770 03:712D: 84 03        	sty	<R0+2
 26771 03:712F: F4 00 00     	pea	#^$280
 26772 03:7132: F4 80 02     	pea	#<$280
 26773 03:7135: D4 0F        	pei	<L1188+dd_1+2
 26774 03:7137: D4 0D        	pei	<L1188+dd_1
 26775                        	xref	~~~lmul
 26776 03:7139: 22 xx xx xx  	jsl	~~~lmul
 26777 03:713D: 85 05        	sta	<R1
 26778 03:713F: 86 07        	stx	<R1+2
 26779 03:7141: 18           	clc
 26780 03:7142: A5 05        	lda	<R1
 26781 03:7144: 65 01        	adc	<R0
 26782 03:7146: 85 19        	sta	<L1188+pixelLocationD_1
 26783 03:7148: A5 07        	lda	<R1+2
 26784 03:714A: 65 03        	adc	<R0+2
 26785 03:714C: 85 1B        	sta	<L1188+pixelLocationD_1+2
 26786                        ;		memcpy(   &((BITMAP_BANK_0)[pixelLocatio
                    nD])  , &((SHADOW_BANK_5)[pixelLocation0]), difference) ;
 26787                        	.line	4428
 26788 03:714E: D4 1D        	pei	<L1188+difference_1
 26789 03:7150: 18           	clc
  Mon Dec  7 2020 11:19                                                Page 493


 26790 03:7151: A9 00 00     	lda	#$0
 26791 03:7154: 65 11        	adc	<L1188+pixelLocation0_1
 26792 03:7156: 85 01        	sta	<R0
 26793 03:7158: A9 0F 00     	lda	#$f
 26794 03:715B: 65 13        	adc	<L1188+pixelLocation0_1+2
 26795 03:715D: 85 03        	sta	<R0+2
 26796 03:715F: D4 03        	pei	<R0+2
 26797 03:7161: D4 01        	pei	<R0
 26798 03:7163: 18           	clc
 26799 03:7164: A9 00 00     	lda	#$0
 26800 03:7167: 65 19        	adc	<L1188+pixelLocationD_1
 26801 03:7169: 85 05        	sta	<R1
 26802 03:716B: A9 B0 00     	lda	#$b0
 26803 03:716E: 65 1B        	adc	<L1188+pixelLocationD_1+2
 26804 03:7170: 85 07        	sta	<R1+2
 26805 03:7172: D4 07        	pei	<R1+2
 26806 03:7174: D4 05        	pei	<R1
 26807 03:7176: 22 xx xx xx  	jsl	~~memcpy
 26808                        ;		memcpy(   &((SHADOW_BANK_0)[pixelLocatio
                    nD])  , &((SHADOW_BANK_5)[pixelLocation0]), difference) ;
 26809                        	.line	4429
 26810 03:717A: D4 1D        	pei	<L1188+difference_1
 26811 03:717C: 18           	clc
 26812 03:717D: A9 00 00     	lda	#$0
 26813 03:7180: 65 11        	adc	<L1188+pixelLocation0_1
 26814 03:7182: 85 01        	sta	<R0
 26815 03:7184: A9 0F 00     	lda	#$f
 26816 03:7187: 65 13        	adc	<L1188+pixelLocation0_1+2
 26817 03:7189: 85 03        	sta	<R0+2
 26818 03:718B: D4 03        	pei	<R0+2
 26819 03:718D: D4 01        	pei	<R0
 26820 03:718F: 18           	clc
 26821 03:7190: A9 00 00     	lda	#$0
 26822 03:7193: 65 19        	adc	<L1188+pixelLocationD_1
 26823 03:7195: 85 05        	sta	<R1
 26824 03:7197: A9 0A 00     	lda	#$a
 26825 03:719A: 65 1B        	adc	<L1188+pixelLocationD_1+2
 26826 03:719C: 85 07        	sta	<R1+2
 26827 03:719E: D4 07        	pei	<R1+2
 26828 03:71A0: D4 05        	pei	<R1
 26829 03:71A2: 22 xx xx xx  	jsl	~~memcpy
 26830                        ;
 26831                        ;		dd++;
 26832                        	.line	4431
 26833 03:71A6: E6 0D        	inc	<L1188+dd_1
 26834 03:71A8: D0 02        	bne	L1201
 26835 03:71AA: E6 0F        	inc	<L1188+dd_1+2
 26836                        L1201:
 26837                        ;	}
 26838                        	.line	4432
 26839                        L10482:
 26840 03:71AC: E6 09        	inc	<L1188+dy_1
 26841 03:71AE: D0 02        	bne	L1202
 26842 03:71B0: E6 0B        	inc	<L1188+dy_1+2
 26843                        L1202:
 26844                        L10485:
 26845 03:71B2: 18           	clc
 26846 03:71B3: A5 26        	lda	<L1187+y0_0
  Mon Dec  7 2020 11:19                                                Page 494


 26847 03:71B5: 65 2A        	adc	<L1187+height_0
 26848 03:71B7: 85 01        	sta	<R0
 26849 03:71B9: A0 00 00     	ldy	#$0
 26850 03:71BC: A5 01        	lda	<R0
 26851 03:71BE: 10 01        	bpl	L1203
 26852 03:71C0: 88           	dey
 26853                        L1203:
 26854 03:71C1: 85 01        	sta	<R0
 26855 03:71C3: 84 03        	sty	<R0+2
 26856 03:71C5: 38           	sec
 26857 03:71C6: A5 09        	lda	<L1188+dy_1
 26858 03:71C8: E5 01        	sbc	<R0
 26859 03:71CA: A5 0B        	lda	<L1188+dy_1+2
 26860 03:71CC: E5 03        	sbc	<R0+2
 26861 03:71CE: 70 03        	bvs	L1204
 26862 03:71D0: 49 00 80     	eor	#$8000
 26863                        L1204:
 26864 03:71D3: 30 03        	bmi	L1205
 26865 03:71D5: 82 20 FF     	brl	L10484
 26866                        L1205:
 26867                        L10483:
 26868                        ;
 26869                        ;}
 26870                        	.line	4434
 26871                        L1206:
 26872 03:71D8: A5 22        	lda	<L1187+2
 26873 03:71DA: 85 2E        	sta	<L1187+2+12
 26874 03:71DC: A5 21        	lda	<L1187+1
 26875 03:71DE: 85 2D        	sta	<L1187+1+12
 26876 03:71E0: 2B           	pld
 26877 03:71E1: 3B           	tsc
 26878 03:71E2: 18           	clc
 26879 03:71E3: 69 2C 00     	adc	#L1187+12
 26880 03:71E6: 1B           	tcs
 26881 03:71E7: 6B           	rtl
 26882                        	.endblock	4434
 26883             00000020   L1187	equ	32
 26884             00000009   L1188	equ	9
 26885 03:71E8:              	ends
 26886                        	efunc
 26887                        	.endfunc	4434,9,32
 26888                        	.line	4434
 26889                        ;
 26890                        ;
 26891                        ;UINT k_font_getFontHeight(void)
 26892                        ;{
 26893                        	.line	4437
 26894                        	.line	4438
 26895                        	GUI
 26896                        	xdef	~~k_font_getFontHeight
 26897                        	func
 26898                        	.function	4438
 26899                        ~~k_font_getFontHeight:
 26900                        	longa	on
 26901                        	longi	on
 26902 03:71E8: 3B           	tsc
 26903 03:71E9: 38           	sec
 26904 03:71EA: E9 00 00     	sbc	#L1207
  Mon Dec  7 2020 11:19                                                Page 495


 26905 03:71ED: 1B           	tcs
 26906 03:71EE: 0B           	phd
 26907 03:71EF: 5B           	tcd
 26908                        	.block	4438
 26909                        ;	return 8;
 26910                        	.line	4439
 26911 03:71F0: A9 08 00     	lda	#$8
 26912                        L1210:
 26913 03:71F3: A8           	tay
 26914 03:71F4: 2B           	pld
 26915 03:71F5: 3B           	tsc
 26916 03:71F6: 18           	clc
 26917 03:71F7: 69 00 00     	adc	#L1207
 26918 03:71FA: 1B           	tcs
 26919 03:71FB: 98           	tya
 26920 03:71FC: 6B           	rtl
 26921                        ;}
 26922                        	.line	4440
 26923                        	.endblock	4440
 26924             00000000   L1207	equ	0
 26925             00000001   L1208	equ	1
 26926 03:71FD:              	ends
 26927                        	efunc
 26928                        	.endfunc	4440,1,0
 26929                        	.line	4440
 26930                        ;
 26931                        ;UINT k_font_getFontWidth(void)
 26932                        ;{
 26933                        	.line	4442
 26934                        	.line	4443
 26935                        	GUI
 26936                        	xdef	~~k_font_getFontWidth
 26937                        	func
 26938                        	.function	4443
 26939                        ~~k_font_getFontWidth:
 26940                        	longa	on
 26941                        	longi	on
 26942 03:71FD: 3B           	tsc
 26943 03:71FE: 38           	sec
 26944 03:71FF: E9 00 00     	sbc	#L1211
 26945 03:7202: 1B           	tcs
 26946 03:7203: 0B           	phd
 26947 03:7204: 5B           	tcd
 26948                        	.block	4443
 26949                        ;	return 8;
 26950                        	.line	4444
 26951 03:7205: A9 08 00     	lda	#$8
 26952                        L1214:
 26953 03:7208: A8           	tay
 26954 03:7209: 2B           	pld
 26955 03:720A: 3B           	tsc
 26956 03:720B: 18           	clc
 26957 03:720C: 69 00 00     	adc	#L1211
 26958 03:720F: 1B           	tcs
 26959 03:7210: 98           	tya
 26960 03:7211: 6B           	rtl
 26961                        ;}
 26962                        	.line	4445
  Mon Dec  7 2020 11:19                                                Page 496


 26963                        	.endblock	4445
 26964             00000000   L1211	equ	0
 26965             00000001   L1212	equ	1
 26966 03:7212:              	ends
 26967                        	efunc
 26968                        	.endfunc	4445,1,0
 26969                        	.line	4445
 26970                        ;
 26971                        ;VOID k_gui_set_mousepointer(UINT index,LPVOID poi
                    nterData)
 26972                        ;{
 26973                        	.line	4447
 26974                        	.line	4448
 26975                        	GUI
 26976                        	xdef	~~k_gui_set_mousepointer
 26977                        	func
 26978                        	.function	4448
 26979                        ~~k_gui_set_mousepointer:
 26980                        	longa	on
 26981                        	longi	on
 26982 03:7212: 3B           	tsc
 26983 03:7213: 38           	sec
 26984 03:7214: E9 04 00     	sbc	#L1215
 26985 03:7217: 1B           	tcs
 26986 03:7218: 0B           	phd
 26987 03:7219: 5B           	tcd
 26988             00000004   index_0	set	4
 26989             00000006   pointerData_0	set	6
 26990                        	.block	4448
 26991                        ;	LPVOID pData = NULL;
 26992                        ;
 26993                        ;	if(index == 0 || index == 1)
 26994             00000000   pData_1	set	0
 26995                        	.sym	pData,0,129,1,32
 26996                        	.sym	index,4,16,6,16
 26997                        	.sym	pointerData,6,129,6,32
 26998 03:721A: 64 01        	stz	<L1216+pData_1
 26999 03:721C: 64 03        	stz	<L1216+pData_1+2
 27000                        	.line	4451
 27001                        ;	{
 27002 03:721E: A5 08        	lda	<L1215+index_0
 27003 03:7220: D0 03        	bne	L1219
 27004 03:7222: 82 0A 00     	brl	L1218
 27005                        L1219:
 27006 03:7225: A5 08        	lda	<L1215+index_0
 27007 03:7227: C9 01 00     	cmp	#<$1
 27008 03:722A: F0 03        	beq	L1220
 27009 03:722C: 82 38 00     	brl	L10486
 27010                        L1220:
 27011                        L1218:
 27012                        	.line	4452
 27013                        ;		//*MOUSE_PTR_CTRL_REG_H = 0x00;
 27014                        ;		//*MOUSE_PTR_CTRL_REG_L = index;
 27015                        ;
 27016                        ;		memcpy( MOUSE_PTR_GRAP0_START,pointerDat
                    a,sizeof(MOUSE_POINTER_ARROW));
 27017                        	.line	4456
 27018 03:722F: F4 00 01     	pea	#<$100
  Mon Dec  7 2020 11:19                                                Page 497


 27019 03:7232: D4 0C        	pei	<L1215+pointerData_0+2
 27020 03:7234: D4 0A        	pei	<L1215+pointerData_0
 27021 03:7236: F4 AF 00     	pea	#^$af0500
 27022 03:7239: F4 00 05     	pea	#<$af0500
 27023 03:723C: 22 xx xx xx  	jsl	~~memcpy
 27024                        ;		memcpy( MOUSE_PTR_GRAP1_START,MOUSE_POIN
                    TER_HOURGLASS,sizeof(MOUSE_POINTER_ARROW));
 27025                        	.line	4457
 27026 03:7240: F4 00 01     	pea	#<$100
 27027 03:7243: F4 xx xx     	pea	#^~~MOUSE_POINTER_HOURGLASS
 27028 03:7246: F4 xx xx     	pea	#<~~MOUSE_POINTER_HOURGLASS
 27029 03:7249: F4 AF 00     	pea	#^$af0600
 27030 03:724C: F4 00 06     	pea	#<$af0600
 27031 03:724F: 22 xx xx xx  	jsl	~~memcpy
 27032                        ;
 27033                        ;		*MOUSE_PTR_CTRL_REG_H = 0x00;
 27034                        	.line	4459
 27035 03:7253: E2 20        	sep	#$20
 27036                        	longa	off
 27037 03:7255: A9 00        	lda	#$0
 27038 03:7257: 8F 01 07 AF  	sta	>11470593
 27039 03:725B: C2 20        	rep	#$20
 27040                        	longa	on
 27041                        ;		*MOUSE_PTR_CTRL_REG_L = 0x01;
 27042                        	.line	4460
 27043 03:725D: E2 20        	sep	#$20
 27044                        	longa	off
 27045 03:725F: A9 01        	lda	#$1
 27046 03:7261: 8F 00 07 AF  	sta	>11470592
 27047 03:7265: C2 20        	rep	#$20
 27048                        	longa	on
 27049                        ;	}
 27050                        	.line	4461
 27051                        ;}
 27052                        L10486:
 27053                        	.line	4462
 27054                        L1221:
 27055 03:7267: A5 06        	lda	<L1215+2
 27056 03:7269: 85 0C        	sta	<L1215+2+6
 27057 03:726B: A5 05        	lda	<L1215+1
 27058 03:726D: 85 0B        	sta	<L1215+1+6
 27059 03:726F: 2B           	pld
 27060 03:7270: 3B           	tsc
 27061 03:7271: 18           	clc
 27062 03:7272: 69 0A 00     	adc	#L1215+6
 27063 03:7275: 1B           	tcs
 27064 03:7276: 6B           	rtl
 27065                        	.endblock	4462
 27066             00000004   L1215	equ	4
 27067             00000001   L1216	equ	1
 27068 03:7277:              	ends
 27069                        	efunc
 27070                        	.endfunc	4462,1,4
 27071                        	.line	4462
 27072                        ;
 27073                        ;VOID k_gui_init_mousepointer(BOOL enable)
 27074                        ;{
 27075                        	.line	4464
  Mon Dec  7 2020 11:19                                                Page 498


 27076                        	.line	4465
 27077                        	GUI
 27078                        	xdef	~~k_gui_init_mousepointer
 27079                        	func
 27080                        	.function	4465
 27081                        ~~k_gui_init_mousepointer:
 27082                        	longa	on
 27083                        	longi	on
 27084 03:7277: 3B           	tsc
 27085 03:7278: 38           	sec
 27086 03:7279: E9 00 00     	sbc	#L1222
 27087 03:727C: 1B           	tcs
 27088 03:727D: 0B           	phd
 27089 03:727E: 5B           	tcd
 27090             00000004   enable_0	set	4
 27091                        	.block	4465
 27092                        ;	if(enable)
 27093                        	.sym	enable,4,14,6,8
 27094                        	.line	4466
 27095                        ;	{
 27096 03:727F: A5 04        	lda	<L1222+enable_0
 27097 03:7281: 29 FF 00     	and	#$ff
 27098 03:7284: D0 03        	bne	L1225
 27099 03:7286: 82 3D 00     	brl	L10487
 27100                        L1225:
 27101                        	.line	4467
 27102                        ;		//MOUSE_POINTER_HELP
 27103                        ;		//memcpy(MOUSE_PTR_GRAP0_START,MOUSE_POI
                    NTER_PTR_V2,sizeof(MOUSE_POINTER_PTR_V2));
 27104                        ;		//memcpy(MOUSE_PTR_GRAP0_START,MOUSE_POI
                    NTER_PTR_V2,sizeof(MOUSE_POINTER_PTR_V2));
 27105                        ;
 27106                        ;		memcpy(MOUSE_PTR_GRAP0_START,MOUSE_POINT
                    ER_ARROW,sizeof(MOUSE_POINTER_ARROW));
 27107                        	.line	4472
 27108 03:7289: F4 00 01     	pea	#<$100
 27109 03:728C: F4 xx xx     	pea	#^~~MOUSE_POINTER_ARROW
 27110 03:728F: F4 xx xx     	pea	#<~~MOUSE_POINTER_ARROW
 27111 03:7292: F4 AF 00     	pea	#^$af0500
 27112 03:7295: F4 00 05     	pea	#<$af0500
 27113 03:7298: 22 xx xx xx  	jsl	~~memcpy
 27114                        ;		memcpy(MOUSE_PTR_GRAP1_START,MOUSE_POINT
                    ER_HOURGLASS,sizeof(MOUSE_POINTER_HOURGLASS));
 27115                        	.line	4473
 27116 03:729C: F4 00 01     	pea	#<$100
 27117 03:729F: F4 xx xx     	pea	#^~~MOUSE_POINTER_HOURGLASS
 27118 03:72A2: F4 xx xx     	pea	#<~~MOUSE_POINTER_HOURGLASS
 27119 03:72A5: F4 AF 00     	pea	#^$af0600
 27120 03:72A8: F4 00 06     	pea	#<$af0600
 27121 03:72AB: 22 xx xx xx  	jsl	~~memcpy
 27122                        ;
 27123                        ;		*MOUSE_PTR_CTRL_REG_H = 0x00;
 27124                        	.line	4475
 27125 03:72AF: E2 20        	sep	#$20
 27126                        	longa	off
 27127 03:72B1: A9 00        	lda	#$0
 27128 03:72B3: 8F 01 07 AF  	sta	>11470593
 27129 03:72B7: C2 20        	rep	#$20
  Mon Dec  7 2020 11:19                                                Page 499


 27130                        	longa	on
 27131                        ;		*MOUSE_PTR_CTRL_REG_L = 0x01;
 27132                        	.line	4476
 27133 03:72B9: E2 20        	sep	#$20
 27134                        	longa	off
 27135 03:72BB: A9 01        	lda	#$1
 27136 03:72BD: 8F 00 07 AF  	sta	>11470592
 27137 03:72C1: C2 20        	rep	#$20
 27138                        	longa	on
 27139                        ;	}
 27140                        	.line	4477
 27141                        ;	else
 27142 03:72C3: 82 3A 00     	brl	L10488
 27143                        L10487:
 27144                        ;	{
 27145                        	.line	4479
 27146                        ;		memcpy(MOUSE_PTR_GRAP0_START,MOUSE_POINT
                    ER_ARROW,sizeof(MOUSE_POINTER_ARROW));
 27147                        	.line	4480
 27148 03:72C6: F4 00 01     	pea	#<$100
 27149 03:72C9: F4 xx xx     	pea	#^~~MOUSE_POINTER_ARROW
 27150 03:72CC: F4 xx xx     	pea	#<~~MOUSE_POINTER_ARROW
 27151 03:72CF: F4 AF 00     	pea	#^$af0500
 27152 03:72D2: F4 00 05     	pea	#<$af0500
 27153 03:72D5: 22 xx xx xx  	jsl	~~memcpy
 27154                        ;		memcpy(MOUSE_PTR_GRAP1_START,MOUSE_POINT
                    ER_ARROW,sizeof(MOUSE_POINTER_ARROW));
 27155                        	.line	4481
 27156 03:72D9: F4 00 01     	pea	#<$100
 27157 03:72DC: F4 xx xx     	pea	#^~~MOUSE_POINTER_ARROW
 27158 03:72DF: F4 xx xx     	pea	#<~~MOUSE_POINTER_ARROW
 27159 03:72E2: F4 AF 00     	pea	#^$af0600
 27160 03:72E5: F4 00 06     	pea	#<$af0600
 27161 03:72E8: 22 xx xx xx  	jsl	~~memcpy
 27162                        ;		*MOUSE_PTR_CTRL_REG_H = 0x00;
 27163                        	.line	4482
 27164 03:72EC: E2 20        	sep	#$20
 27165                        	longa	off
 27166 03:72EE: A9 00        	lda	#$0
 27167 03:72F0: 8F 01 07 AF  	sta	>11470593
 27168 03:72F4: C2 20        	rep	#$20
 27169                        	longa	on
 27170                        ;		*MOUSE_PTR_CTRL_REG_L = 0x00;
 27171                        	.line	4483
 27172 03:72F6: E2 20        	sep	#$20
 27173                        	longa	off
 27174 03:72F8: A9 00        	lda	#$0
 27175 03:72FA: 8F 00 07 AF  	sta	>11470592
 27176 03:72FE: C2 20        	rep	#$20
 27177                        	longa	on
 27178                        ;	}
 27179                        	.line	4484
 27180                        L10488:
 27181                        ;}
 27182                        	.line	4485
 27183                        L1226:
 27184 03:7300: A5 02        	lda	<L1222+2
 27185 03:7302: 85 04        	sta	<L1222+2+2
  Mon Dec  7 2020 11:19                                                Page 500


 27186 03:7304: A5 01        	lda	<L1222+1
 27187 03:7306: 85 03        	sta	<L1222+1+2
 27188 03:7308: 2B           	pld
 27189 03:7309: 3B           	tsc
 27190 03:730A: 18           	clc
 27191 03:730B: 69 02 00     	adc	#L1222+2
 27192 03:730E: 1B           	tcs
 27193 03:730F: 6B           	rtl
 27194                        	.endblock	4485
 27195             00000000   L1222	equ	0
 27196             00000001   L1223	equ	1
 27197 03:7310:              	ends
 27198                        	efunc
 27199                        	.endfunc	4485,1,0
 27200                        	.line	4485
 27201                        ;
 27202                        ;void k_vdma_copy_address_ex(char FAR * pdst,char 
                    FAR * psrc,int width,int height)
 27203                        ;{
 27204                        	.line	4487
 27205                        	.line	4488
 27206                        	GUI
 27207                        	xdef	~~k_vdma_copy_address_ex
 27208                        	func
 27209                        	.function	4488
 27210                        ~~k_vdma_copy_address_ex:
 27211                        	longa	on
 27212                        	longi	on
 27213 03:7310: 3B           	tsc
 27214 03:7311: 38           	sec
 27215 03:7312: E9 0D 00     	sbc	#L1227
 27216 03:7315: 1B           	tcs
 27217 03:7316: 0B           	phd
 27218 03:7317: 5B           	tcd
 27219             00000004   pdst_0	set	4
 27220             00000008   psrc_0	set	8
 27221             0000000C   width_0	set	12
 27222             0000000E   height_0	set	14
 27223                        	.block	4488
 27224                        ;	int pos = 0;
 27225                        ;	UINT spinLock = 0;
 27226                        ;	char status = VDMA_STAT_VDMA_IPS;
 27227                        ;
 27228                        ;
 27229                        ;	k_debug_pointer("k_vdma_copy_address_ex::src  of
                    fset:",psrc);
 27230             00000000   pos_1	set	0
 27231             00000002   spinLock_1	set	2
 27232             00000004   status_1	set	4
 27233                        	.sym	pos,0,5,1,16
 27234                        	.sym	spinLock,2,16,1,16
 27235                        	.sym	status,4,14,1,8
 27236                        	.sym	pdst,4,142,6,32
 27237                        	.sym	psrc,8,142,6,32
 27238                        	.sym	width,12,5,6,16
 27239                        	.sym	height,14,5,6,16
 27240 03:7318: 64 09        	stz	<L1228+pos_1
 27241 03:731A: 64 0B        	stz	<L1228+spinLock_1
  Mon Dec  7 2020 11:19                                                Page 501


 27242 03:731C: E2 20        	sep	#$20
 27243                        	longa	off
 27244 03:731E: A9 80        	lda	#$80
 27245 03:7320: 85 0D        	sta	<L1228+status_1
 27246 03:7322: C2 20        	rep	#$20
 27247                        	longa	on
 27248                        	.line	4494
 27249 03:7324: D4 17        	pei	<L1227+psrc_0+2
 27250 03:7326: D4 15        	pei	<L1227+psrc_0
 27251 03:7328: F4 xx xx     	pea	#^L1127
 27252 03:732B: F4 xx xx     	pea	#<L1127
 27253 03:732E: 22 xx xx xx  	jsl	~~k_debug_pointer
 27254                        ;	k_debug_pointer("k_vdma_copy_address_ex::dest of
                    fset:",pdst);
 27255                        	.line	4495
 27256 03:7332: D4 13        	pei	<L1227+pdst_0+2
 27257 03:7334: D4 11        	pei	<L1227+pdst_0
 27258 03:7336: F4 xx xx     	pea	#^L1127+37
 27259 03:7339: F4 xx xx     	pea	#<L1127+37
 27260 03:733C: 22 xx xx xx  	jsl	~~k_debug_pointer
 27261                        ;
 27262                        ;	k_debug_integer("k_vdma_copy_address_ex::width:"
                    ,width);
 27263                        	.line	4497
 27264 03:7340: D4 19        	pei	<L1227+width_0
 27265 03:7342: F4 xx xx     	pea	#^L1127+74
 27266 03:7345: F4 xx xx     	pea	#<L1127+74
 27267 03:7348: 22 xx xx xx  	jsl	~~k_debug_integer
 27268                        ;	k_debug_integer("k_vdma_copy_address_ex::height:
                    ",height);
 27269                        	.line	4498
 27270 03:734C: D4 1B        	pei	<L1227+height_0
 27271 03:734E: F4 xx xx     	pea	#^L1127+105
 27272 03:7351: F4 xx xx     	pea	#<L1127+105
 27273 03:7354: 22 xx xx xx  	jsl	~~k_debug_integer
 27274                        ;
 27275                        ;
 27276                        ;
 27277                        ;	VDMA_CONTROL_REG[0] = ( VDMA_CTRL_ENABLE | VDMA_
                    CTRL_1D_2D );
 27278                        	.line	4502
 27279 03:7358: E2 20        	sep	#$20
 27280                        	longa	off
 27281 03:735A: A9 03        	lda	#$3
 27282 03:735C: 8F 00 04 AF  	sta	>11469824
 27283 03:7360: C2 20        	rep	#$20
 27284                        	longa	on
 27285                        ;
 27286                        ;	VDMA_SRC_ADDY_L[0] = L24BYTE((long)psrc);
 27287                        	.line	4504
 27288 03:7362: E2 20        	sep	#$20
 27289                        	longa	off
 27290 03:7364: A5 15        	lda	<L1227+psrc_0
 27291 03:7366: 8F 02 04 AF  	sta	>11469826
 27292 03:736A: C2 20        	rep	#$20
 27293                        	longa	on
 27294                        ;	VDMA_SRC_ADDY_M[0] = M24BYTE((long)psrc);
 27295                        	.line	4505
  Mon Dec  7 2020 11:19                                                Page 502


 27296 03:736C: D4 17        	pei	<L1227+psrc_0+2
 27297 03:736E: D4 15        	pei	<L1227+psrc_0
 27298 03:7370: A9 08 00     	lda	#$8
 27299                        	xref	~~~llsr
 27300 03:7373: 22 xx xx xx  	jsl	~~~llsr
 27301 03:7377: 85 01        	sta	<R0
 27302 03:7379: 86 03        	stx	<R0+2
 27303 03:737B: A5 01        	lda	<R0
 27304 03:737D: 29 FF 00     	and	#<$ff
 27305 03:7380: 85 05        	sta	<R1
 27306 03:7382: 64 07        	stz	<R1+2
 27307 03:7384: E2 20        	sep	#$20
 27308                        	longa	off
 27309 03:7386: A5 05        	lda	<R1
 27310 03:7388: 8F 03 04 AF  	sta	>11469827
 27311 03:738C: C2 20        	rep	#$20
 27312                        	longa	on
 27313                        ;	VDMA_SRC_ADDY_H[0] = H24BYTE((long)psrc);
 27314                        	.line	4506
 27315 03:738E: D4 17        	pei	<L1227+psrc_0+2
 27316 03:7390: D4 15        	pei	<L1227+psrc_0
 27317 03:7392: A9 10 00     	lda	#$10
 27318                        	xref	~~~llsr
 27319 03:7395: 22 xx xx xx  	jsl	~~~llsr
 27320 03:7399: 85 01        	sta	<R0
 27321 03:739B: 86 03        	stx	<R0+2
 27322 03:739D: A5 01        	lda	<R0
 27323 03:739F: 29 FF 00     	and	#<$ff
 27324 03:73A2: 85 05        	sta	<R1
 27325 03:73A4: 64 07        	stz	<R1+2
 27326 03:73A6: E2 20        	sep	#$20
 27327                        	longa	off
 27328 03:73A8: A5 05        	lda	<R1
 27329 03:73AA: 8F 04 04 AF  	sta	>11469828
 27330 03:73AE: C2 20        	rep	#$20
 27331                        	longa	on
 27332                        ;
 27333                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 27334                        	.line	4508
 27335 03:73B0: E2 20        	sep	#$20
 27336                        	longa	off
 27337 03:73B2: A5 11        	lda	<L1227+pdst_0
 27338 03:73B4: 8F 05 04 AF  	sta	>11469829
 27339 03:73B8: C2 20        	rep	#$20
 27340                        	longa	on
 27341                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 27342                        	.line	4509
 27343 03:73BA: D4 13        	pei	<L1227+pdst_0+2
 27344 03:73BC: D4 11        	pei	<L1227+pdst_0
 27345 03:73BE: A9 08 00     	lda	#$8
 27346                        	xref	~~~llsr
 27347 03:73C1: 22 xx xx xx  	jsl	~~~llsr
 27348 03:73C5: 85 01        	sta	<R0
 27349 03:73C7: 86 03        	stx	<R0+2
 27350 03:73C9: A5 01        	lda	<R0
 27351 03:73CB: 29 FF 00     	and	#<$ff
 27352 03:73CE: 85 05        	sta	<R1
 27353 03:73D0: 64 07        	stz	<R1+2
  Mon Dec  7 2020 11:19                                                Page 503


 27354 03:73D2: E2 20        	sep	#$20
 27355                        	longa	off
 27356 03:73D4: A5 05        	lda	<R1
 27357 03:73D6: 8F 06 04 AF  	sta	>11469830
 27358 03:73DA: C2 20        	rep	#$20
 27359                        	longa	on
 27360                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 27361                        	.line	4510
 27362 03:73DC: D4 13        	pei	<L1227+pdst_0+2
 27363 03:73DE: D4 11        	pei	<L1227+pdst_0
 27364 03:73E0: A9 10 00     	lda	#$10
 27365                        	xref	~~~llsr
 27366 03:73E3: 22 xx xx xx  	jsl	~~~llsr
 27367 03:73E7: 85 01        	sta	<R0
 27368 03:73E9: 86 03        	stx	<R0+2
 27369 03:73EB: A5 01        	lda	<R0
 27370 03:73ED: 29 FF 00     	and	#<$ff
 27371 03:73F0: 85 05        	sta	<R1
 27372 03:73F2: 64 07        	stz	<R1+2
 27373 03:73F4: E2 20        	sep	#$20
 27374                        	longa	off
 27375 03:73F6: A5 05        	lda	<R1
 27376 03:73F8: 8F 07 04 AF  	sta	>11469831
 27377 03:73FC: C2 20        	rep	#$20
 27378                        	longa	on
 27379                        ;
 27380                        ;	VDMA_X_SIZE_L[0] = LOBYTE(width);
 27381                        	.line	4512
 27382 03:73FE: E2 20        	sep	#$20
 27383                        	longa	off
 27384 03:7400: A5 19        	lda	<L1227+width_0
 27385 03:7402: 8F 08 04 AF  	sta	>11469832
 27386 03:7406: C2 20        	rep	#$20
 27387                        	longa	on
 27388                        ;	VDMA_X_SIZE_H[0] = HIBYTE(width);
 27389                        	.line	4513
 27390 03:7408: A5 19        	lda	<L1227+width_0
 27391 03:740A: A2 08 00     	ldx	#<$8
 27392                        	xref	~~~asr
 27393 03:740D: 22 xx xx xx  	jsl	~~~asr
 27394 03:7411: 29 FF 00     	and	#<$ff
 27395 03:7414: 85 01        	sta	<R0
 27396 03:7416: E2 20        	sep	#$20
 27397                        	longa	off
 27398 03:7418: A5 01        	lda	<R0
 27399 03:741A: 8F 09 04 AF  	sta	>11469833
 27400 03:741E: C2 20        	rep	#$20
 27401                        	longa	on
 27402                        ;
 27403                        ;	VDMA_Y_SIZE_L[0] = LOBYTE(height);
 27404                        	.line	4515
 27405 03:7420: E2 20        	sep	#$20
 27406                        	longa	off
 27407 03:7422: A5 1B        	lda	<L1227+height_0
 27408 03:7424: 8F 0A 04 AF  	sta	>11469834
 27409 03:7428: C2 20        	rep	#$20
 27410                        	longa	on
 27411                        ;	VDMA_Y_SIZE_H[0] = HIBYTE(height);
  Mon Dec  7 2020 11:19                                                Page 504


 27412                        	.line	4516
 27413 03:742A: A5 1B        	lda	<L1227+height_0
 27414 03:742C: A2 08 00     	ldx	#<$8
 27415                        	xref	~~~asr
 27416 03:742F: 22 xx xx xx  	jsl	~~~asr
 27417 03:7433: 29 FF 00     	and	#<$ff
 27418 03:7436: 85 01        	sta	<R0
 27419 03:7438: E2 20        	sep	#$20
 27420                        	longa	off
 27421 03:743A: A5 01        	lda	<R0
 27422 03:743C: 8F 0B 04 AF  	sta	>11469835
 27423 03:7440: C2 20        	rep	#$20
 27424                        	longa	on
 27425                        ;	VDMA_Y_SIZE_H[1] = 0x00;
 27426                        	.line	4517
 27427 03:7442: E2 20        	sep	#$20
 27428                        	longa	off
 27429 03:7444: A9 00        	lda	#$0
 27430 03:7446: 8F 0C 04 AF  	sta	>11469836
 27431 03:744A: C2 20        	rep	#$20
 27432                        	longa	on
 27433                        ;
 27434                        ;
 27435                        ;	*VDMA_SRC_STRIDE_L  = 0x80;
 27436                        	.line	4520
 27437 03:744C: E2 20        	sep	#$20
 27438                        	longa	off
 27439 03:744E: A9 80        	lda	#$80
 27440 03:7450: 8F 0C 04 AF  	sta	>11469836
 27441 03:7454: C2 20        	rep	#$20
 27442                        	longa	on
 27443                        ;	*VDMA_SRC_STRIDE_H  = 0x02;
 27444                        	.line	4521
 27445 03:7456: E2 20        	sep	#$20
 27446                        	longa	off
 27447 03:7458: A9 02        	lda	#$2
 27448 03:745A: 8F 0D 04 AF  	sta	>11469837
 27449 03:745E: C2 20        	rep	#$20
 27450                        	longa	on
 27451                        ;
 27452                        ;	*VDMA_DST_STRIDE_L  = 0x80;
 27453                        	.line	4523
 27454 03:7460: E2 20        	sep	#$20
 27455                        	longa	off
 27456 03:7462: A9 80        	lda	#$80
 27457 03:7464: 8F 0E 04 AF  	sta	>11469838
 27458 03:7468: C2 20        	rep	#$20
 27459                        	longa	on
 27460                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 27461                        	.line	4524
 27462 03:746A: E2 20        	sep	#$20
 27463                        	longa	off
 27464 03:746C: A9 02        	lda	#$2
 27465 03:746E: 8F 0F 04 AF  	sta	>11469839
 27466 03:7472: C2 20        	rep	#$20
 27467                        	longa	on
 27468                        ;
 27469                        ;    VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VD
  Mon Dec  7 2020 11:19                                                Page 505


                    MA_CTRL_1D_2D | VDMA_CTRL_START_TRF);
 27470                        	.line	4526
 27471 03:7474: E2 20        	sep	#$20
 27472                        	longa	off
 27473 03:7476: A9 83        	lda	#$83
 27474 03:7478: 8F 00 04 AF  	sta	>11469824
 27475 03:747C: C2 20        	rep	#$20
 27476                        	longa	on
 27477                        ;
 27478                        ;    asm NOP;
 27479                        	.line	4528
 27480                        	asmstart
 27481 03:747E: EA           	NOP
 27482                        	asmend
 27483                        ;    asm NOP;
 27484                        	.line	4529
 27485                        	asmstart
 27486 03:747F: EA           	NOP
 27487                        	asmend
 27488                        ;    asm NOP;
 27489                        	.line	4530
 27490                        	asmstart
 27491 03:7480: EA           	NOP
 27492                        	asmend
 27493                        ;
 27494                        ;	while(status == VDMA_STAT_VDMA_IPS)
 27495                        	.line	4532
 27496                        L10489:
 27497 03:7481: E2 20        	sep	#$20
 27498                        	longa	off
 27499 03:7483: A5 0D        	lda	<L1228+status_1
 27500 03:7485: C9 80        	cmp	#<$80
 27501 03:7487: C2 20        	rep	#$20
 27502                        	longa	on
 27503 03:7489: F0 03        	beq	L1230
 27504 03:748B: 82 1E 00     	brl	L10490
 27505                        L1230:
 27506                        ;	{
 27507                        	.line	4533
 27508                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 27509                        	.line	4534
 27510 03:748E: E2 20        	sep	#$20
 27511                        	longa	off
 27512 03:7490: AF 01 04 AF  	lda	>11469825
 27513 03:7494: 29 80        	and	#<$80
 27514 03:7496: 85 0D        	sta	<L1228+status_1
 27515 03:7498: C2 20        	rep	#$20
 27516                        	longa	on
 27517                        ;		spinLock++;
 27518                        	.line	4535
 27519 03:749A: E6 0B        	inc	<L1228+spinLock_1
 27520                        ;
 27521                        ;		if(spinLock > 32000)
 27522                        	.line	4537
 27523                        ;		{
 27524 03:749C: A9 00 7D     	lda	#$7d00
 27525 03:749F: C5 0B        	cmp	<L1228+spinLock_1
  Mon Dec  7 2020 11:19                                                Page 506


 27526 03:74A1: 90 03        	bcc	L1231
 27527 03:74A3: 82 03 00     	brl	L10491
 27528                        L1231:
 27529                        	.line	4538
 27530                        ;			break;
 27531                        	.line	4539
 27532 03:74A6: 82 03 00     	brl	L10490
 27533                        ;		}
 27534                        	.line	4540
 27535                        ;	}
 27536                        L10491:
 27537                        	.line	4541
 27538 03:74A9: 82 D5 FF     	brl	L10489
 27539                        L10490:
 27540                        ;
 27541                        ;#ifdef USE_MAX_DEBUG
 27542                        ;	k_debug_integer("k_vdma_copy_address_ex::spinLoc
                    k:",spinLock);
 27543                        ;#endif
 27544                        ;
 27545                        ;	asm NOP;
 27546                        	.line	4547
 27547                        	asmstart
 27548 03:74AC: EA           	NOP
 27549                        	asmend
 27550                        ;
 27551                        ;	VDMA_CONTROL_REG[0] = 0;
 27552                        	.line	4549
 27553 03:74AD: E2 20        	sep	#$20
 27554                        	longa	off
 27555 03:74AF: A9 00        	lda	#$0
 27556 03:74B1: 8F 00 04 AF  	sta	>11469824
 27557 03:74B5: C2 20        	rep	#$20
 27558                        	longa	on
 27559                        ;
 27560                        ;   return ;
 27561                        	.line	4551
 27562                        L1232:
 27563 03:74B7: A5 0F        	lda	<L1227+2
 27564 03:74B9: 85 1B        	sta	<L1227+2+12
 27565 03:74BB: A5 0E        	lda	<L1227+1
 27566 03:74BD: 85 1A        	sta	<L1227+1+12
 27567 03:74BF: 2B           	pld
 27568 03:74C0: 3B           	tsc
 27569 03:74C1: 18           	clc
 27570 03:74C2: 69 19 00     	adc	#L1227+12
 27571 03:74C5: 1B           	tcs
 27572 03:74C6: 6B           	rtl
 27573                        ;}
 27574                        	.line	4552
 27575                        	.endblock	4552
 27576             0000000D   L1227	equ	13
 27577             00000009   L1228	equ	9
 27578 03:74C7:              	ends
 27579                        	efunc
 27580                        	.endfunc	4552,9,13
 27581                        	.line	4552
 27582                        	data
  Mon Dec  7 2020 11:19                                                Page 507


 27583                        L1127:
 27584 00:0E18: 6B 5F 76 64  	db	$6B,$5F,$76,$64,$6D,$61,$5F,$63,$6F,$70,
                    $79,$5F,$61,$64,$64
       00:0E1C: 6D 61 5F 63 
       00:0E20: 6F 70 79 5F 
       00:0E24: 61 64 64 
 27585 00:0E27: 72 65 73 73  	db	$72,$65,$73,$73,$5F,$65,$78,$3A,$3A,$73,
                    $72,$63,$20,$20,$6F
       00:0E2B: 5F 65 78 3A 
       00:0E2F: 3A 73 72 63 
       00:0E33: 20 20 6F 
 27586 00:0E36: 66 66 73 65  	db	$66,$66,$73,$65,$74,$3A,$00,$6B,$5F,$76,
                    $64,$6D,$61,$5F,$63
       00:0E3A: 74 3A 00 6B 
       00:0E3E: 5F 76 64 6D 
       00:0E42: 61 5F 63 
 27587 00:0E45: 6F 70 79 5F  	db	$6F,$70,$79,$5F,$61,$64,$64,$72,$65,$73,
                    $73,$5F,$65,$78,$3A
       00:0E49: 61 64 64 72 
       00:0E4D: 65 73 73 5F 
       00:0E51: 65 78 3A 
 27588 00:0E54: 3A 64 65 73  	db	$3A,$64,$65,$73,$74,$20,$6F,$66,$66,$73,
                    $65,$74,$3A,$00,$6B
       00:0E58: 74 20 6F 66 
       00:0E5C: 66 73 65 74 
       00:0E60: 3A 00 6B 
 27589 00:0E63: 5F 76 64 6D  	db	$5F,$76,$64,$6D,$61,$5F,$63,$6F,$70,$79,
                    $5F,$61,$64,$64,$72
       00:0E67: 61 5F 63 6F 
       00:0E6B: 70 79 5F 61 
       00:0E6F: 64 64 72 
 27590 00:0E72: 65 73 73 5F  	db	$65,$73,$73,$5F,$65,$78,$3A,$3A,$77,$69,
                    $64,$74,$68,$3A,$00
       00:0E76: 65 78 3A 3A 
       00:0E7A: 77 69 64 74 
       00:0E7E: 68 3A 00 
 27591 00:0E81: 6B 5F 76 64  	db	$6B,$5F,$76,$64,$6D,$61,$5F,$63,$6F,$70,
                    $79,$5F,$61,$64,$64
       00:0E85: 6D 61 5F 63 
       00:0E89: 6F 70 79 5F 
       00:0E8D: 61 64 64 
 27592 00:0E90: 72 65 73 73  	db	$72,$65,$73,$73,$5F,$65,$78,$3A,$3A,$68,
                    $65,$69,$67,$68,$74
       00:0E94: 5F 65 78 3A 
       00:0E98: 3A 68 65 69 
       00:0E9C: 67 68 74 
 27593 00:0E9F: 3A 00        	db	$3A,$00
 27594 00:0EA1:              	ends
 27595                        ;
 27596                        ;
 27597                        ;
 27598                        ;
 27599                        ;/*
 27600                        ;
 27601                        ;
 27602                        ;
 27603                        ;
 27604                        ; */
  Mon Dec  7 2020 11:19                                                Page 508


 27605                        ;
 27606                        	.line	4562
 27607                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOSv1\src\fxguiV2.c",4487
 27608                        	xref	~~k_window_draw
 27609                        	xref	~~k_put_char
 27610                        	xref	~~k_clear_screen
 27611                        	xref	~~k_disable_border
 27612                        	xref	~~k_send_message
 27613                        	xref	~~k_user_getSystemMetric
 27614                        	xref	~~k_mem_deallocate_heap
 27615                        	xref	~~k_mem_allocate_heap
 27616                        	xref	~~k_pad_string
 27617                        	xref	~~k_itoa
 27618                        	xref	~~k_get_c256_minor_version
 27619                        	xref	~~k_get_c256_major_version
 27620                        	xref	~~k_get_fpga_date_year
 27621                        	xref	~~k_get_fpga_date_month
 27622                        	xref	~~k_get_fpga_date_day
 27623                        	xref	~~k_debug_rect
 27624                        	xref	~~k_debug_strings
 27625                        	xref	~~k_debug_message
 27626                        	xref	~~k_debug_long
 27627                        	xref	~~k_debug_integer
 27628                        	xref	~~k_debug_pointer
 27629                        	xref	~~k_debug_string
 27630                        	xref	~~k_nodelist_add
 27631                        	xref	~~k_nodelist_create
 27632                        	xref	~~k_nodelist_init
 27633                        	xref	~~toupper
 27634                        	xref	~~strupr
 27635                        	xref	~~strlen
 27636                        	xref	~~strcpy
 27637                        	xref	~~memset
 27638                        	xref	~~memcpy
 27639                        	xref	~~abs
 27640                        	udata
 27641                        	xdef	~~_k_window_list
 27642                        ~~_k_window_list
 27643 00:0000:              	ds	3550
 27644 00:0DDE:              	ends
 27645                        	udata
 27646                        ~~_k_currentPalatte
 27647 00:0DDE:              	ds	50
 27648 00:0E10:              	ends
 27649                        	udata
 27650                        	xdef	~~version_title
 27651                        ~~version_title
 27652 00:0E10:              	ds	4
 27653 00:0E14:              	ends
 27654                        	udata
 27655                        	xdef	~~strbuf
 27656                        ~~strbuf
 27657 00:0E14:              	ds	32
 27658 00:0E34:              	ends
 27659                        	udata
 27660                        	xdef	~~buffer
 27661                        ~~buffer
  Mon Dec  7 2020 11:19                                                Page 509


 27662 00:0E34:              	ds	32
 27663 00:0E54:              	ends
 27664                        	udata
 27665                        	xdef	~~hitList
 27666                        ~~hitList
 27667 00:0E54:              	ds	24
 27668 00:0E6C:              	ends
 27669                        	udata
 27670                        	xdef	~~clickList
 27671                        ~~clickList
 27672 00:0E6C:              	ds	66
 27673 00:0EAE:              	ends
 27674                        	xref	~~Bm437ToshibaLCD8x8
 27675                        	xref	~~windowIconImg
 27676                        	xref	~~windowChromeImg
 27677                        	xref	~~fontImg
 27678                        	xref	~~characterROMMapping
 27679                        	.sym	~~k_init_desktop,~~k_init_desktop,65,2,0
 27680                        	.sym	~~k_vdma_fill_address_old,~~k_vdma_fill_
                    address_old,65,2,0
 27681                        	.sym	~~k_put_wingadget_point_ex,~~k_put_winga
                    dget_point_ex,69,2,0
 27682                        	.sym	~~k_draw_filled_rect_slow,~~k_draw_fille
                    d_rect_slow,65,2,0
 27683                        	.sym	~~k_draw_rect,~~k_draw_rect,65,2,0
 27684                        	.sym	~~k_draw_line_with_pattern,~~k_draw_line
                    _with_pattern,65,2,0
 27685                        	.sym	~~k_draw_filled_segments,~~k_draw_filled
                    _segments,65,2,0
 27686                        	.sym	~~k_get_pixel_bank,~~k_get_pixel_bank,69
                    ,2,0
 27687                        	.sym	~~k_get_pixel_color,~~k_get_pixel_color,
                    69,2,0
 27688                        	.sym	~~k_write_window_text,~~k_write_window_t
                    ext,65,2,0
 27689                        	.sym	~~k_get_window,~~k_get_window,1098,2,32,
                    30
 27690                        	.sym	~~k_set_text_color,~~k_set_text_color,65
                    ,2,0
 27691                        	.sym	~~k_set_text_gamma,~~k_set_text_gamma,65
                    ,2,0
 27692                        	.sym	~~k_set_foreground_palette,~~k_set_foreg
                    round_palette,65,2,0
 27693                        	.sym	~~k_is_inside_rect,~~k_is_inside_rect,78
                    ,2,0
 27694                        	.sym	~~cop_index,~~cop_index,5,2,16
 27695                        	.sym	~~_k_WindowHit_nodes,~~_k_WindowHit_node
                    s,138,3,32,5
 27696                        	.sym	~~_k_WindowObject_nodes,~~_k_WindowObjec
                    t_nodes,138,3,32,5
 27697                        	.sym	~~_k_window_list,~~_k_window_list,106,2,
                    0,30,10
 27698                        	.sym	~~_k_window_index,~~_k_window_index,5,2,
                    16
 27699                        	.sym	~~_k_currentPalatte,~~_k_currentPalatte,
                    10,3,400,54
 27700                        	.sym	~~BG_FILL_LINE_EVEN,~~BG_FILL_LINE_EVEN,
                    110,3,0,80
  Mon Dec  7 2020 11:19                                                Page 510


 27701                        	.sym	~~BG_FILL_LINE_ODD,~~BG_FILL_LINE_ODD,11
                    0,3,0,80
 27702                        	.sym	~~MOUSE_POINTER_EMPTY,~~MOUSE_POINTER_EM
                    PTY,110,2,0,256
 27703                        	.sym	~~MOUSE_POINTER_BLOCK,~~MOUSE_POINTER_BL
                    OCK,110,2,0,256
 27704                        	.sym	~~TEXT_BG_COLORS,~~TEXT_BG_COLORS,110,3,
                    0,64
 27705                        	.sym	~~TEXT_FG_COLORS,~~TEXT_FG_COLORS,110,3,
                    0,64
 27706                        	.sym	~~k_window_draw,~~k_window_draw,65,18,0
 27707                        	.sym	~~k_put_char,~~k_put_char,65,18,0
 27708                        	.sym	~~k_clear_screen,~~k_clear_screen,65,18,
                    0
 27709                        	.sym	~~k_disable_border,~~k_disable_border,65
                    ,18,0
 27710                        	.sym	PCOMMANDARGS,0,138,14,32,63
 27711                        	.sym	COMMANDARGS,0,10,14,64,63
 27712                        	.sym	PTOKENIZESTATE,0,133,14,32
 27713                        	.sym	TOKENIZESTATE,0,5,14,16
 27714                        	.sym	PTOKEN,0,138,14,32,62
 27715                        	.sym	TOKEN,0,10,14,64,62
 27716                        	.sym	PTOKENTYPE,0,133,14,32
 27717                        	.sym	TOKENTYPE,0,5,14,16
 27718                        	.sym	FXCommandHandler,0,656,14,32
 27719                        	.sym	PCONSOLECTX,0,138,14,32,61
 27720                        	.sym	CONSOLECTX,0,10,14,1144,61
 27721                        	.sym	PSPINNERCTX,0,138,14,32,60
 27722                        	.sym	SPINNERCTX,0,10,14,48,60
 27723                        	.sym	~~k_send_message,~~k_send_message,78,18,
                    0
 27724                        	.sym	PMOUSE_MSG_STATE,0,138,14,32,59
 27725                        	.sym	MOUSE_MSG_STATE,0,10,14,184,59
 27726                        	.sym	PFXEVENTPROCESS,0,138,14,32,58
 27727                        	.sym	FXEVENTPROCESS,0,10,14,64,58
 27728                        	.sym	FXIDLEPROCESS,0,641,14,32
 27729                        	.sym	FXEventProc,0,641,14,32
 27730                        	.sym	PMOUSEMSGDATA,0,138,14,32,57
 27731                        	.sym	MOUSEMSGDATA,0,10,14,64,57
 27732                        	.sym	MSGIRQ,0,5,14,16
 27733                        	.sym	MAINLOOPARGS,0,10,14,16,56
 27734                        	.sym	PEACHCHILD_MSG,0,138,14,32,55
 27735                        	.sym	EACHCHILD_MSG,0,10,14,64,55
 27736                        	.sym	~~k_user_getSystemMetric,~~k_user_getSys
                    temMetric,69,18,0
 27737                        	.sym	~~version_title,~~version_title,142,2,32
 27738                        	.sym	~~strbuf,~~strbuf,110,2,0,32
 27739                        	.sym	~~buffer,~~buffer,110,2,0,32
 27740                        	.sym	~~hitList,~~hitList,1130,2,32,27,6
 27741                        	.sym	~~clickList,~~clickList,106,2,0,27,6
 27742                        	.sym	~~k_set_text_colors,~~k_set_text_colors,
                    65,2,0
 27743                        	.sym	~~k_gui_set_mousepointer,~~k_gui_set_mou
                    sepointer,65,2,0
 27744                        	.sym	~~k_gui_init_mousepointer,~~k_gui_init_m
                    ousepointer,65,2,0
 27745                        	.sym	~~k_font_getFontWidth,~~k_font_getFontWi
                    dth,80,2,0
  Mon Dec  7 2020 11:19                                                Page 511


 27746                        	.sym	~~k_font_getFontHeight,~~k_font_getFontH
                    eight,80,2,0
 27747                        	.sym	~~k_gadget_title_back_callback,~~k_gadge
                    t_title_back_callback,65,2,0
 27748                        	.sym	~~k_gadget_title_front_callback,~~k_gadg
                    et_title_front_callback,65,2,0
 27749                        	.sym	~~k_render_wingadget,~~k_render_wingadge
                    t,69,2,0
 27750                        	.sym	~~k_create_ui_window_class,~~k_create_ui
                    _window_class,1098,2,32,30
 27751                        	.sym	~~k_add_window_hit_node,~~k_add_window_h
                    it_node,65,2,0
 27752                        	.sym	~~k_point_in_nodes,~~k_point_in_nodes,10
                    98,2,32,5
 27753                        	.sym	~~k_free_context_menu,~~k_free_context_m
                    enu,65,2,0
 27754                        	.sym	~~k_render_context_menu,~~k_render_conte
                    xt_menu,1098,2,32,34
 27755                        	.sym	~~k_create_context_menus,~~k_create_cont
                    ext_menus,1098,2,32,34
 27756                        	.sym	~~k_create_context_menu_in_window_ex,~~k
                    _create_context_menu_in_window_ex,1098,2,32,34
 27757                        	.sym	~~k_create_context_menu_in_window,~~k_cr
                    eate_context_menu_in_window,1098,2,32,34
 27758                        	.sym	~~k_create_context_menu,~~k_create_conte
                    xt_menu,1098,2,32,34
 27759                        	.sym	~~k_point_in_list,~~k_point_in_list,69,2
                    ,0
 27760                        	.sym	~~k_vdma_copy_address_ex,~~k_vdma_copy_a
                    ddress_ex,65,2,0
 27761                        	.sym	~~k_vdma_fill_address_ex,~~k_vdma_fill_a
                    ddress_ex,65,2,0
 27762                        	.sym	~~k_vdma_fill_rect_ex,~~k_vdma_fill_rect
                    _ex,65,2,0
 27763                        	.sym	~~k_vdma_fill_rect,~~k_vdma_fill_rect,65
                    ,2,0
 27764                        	.sym	~~k_vdma_fill_address,~~k_vdma_fill_addr
                    ess,65,2,0
 27765                        	.sym	~~k_vdma_fill,~~k_vdma_fill,65,2,0
 27766                        	.sym	~~k_vdma_move_rect,~~k_vdma_move_rect,65
                    ,2,0
 27767                        	.sym	~~k_vdraw_ui_window_ex,~~k_vdraw_ui_wind
                    ow_ex,65,2,0
 27768                        	.sym	~~k_vdraw_ui_window,~~k_vdraw_ui_window,
                    65,2,0
 27769                        	.sym	~~k_draw_ui_window,~~k_draw_ui_window,65
                    ,2,0
 27770                        	.sym	~~k_put_winicon_scaled,~~k_put_winicon_s
                    caled,65,2,0
 27771                        	.sym	~~k_put_winicon_point,~~k_put_winicon_po
                    int,69,2,0
 27772                        	.sym	~~k_put_wingadget_point,~~k_put_wingadge
                    t_point,69,2,0
 27773                        	.sym	~~k_create_window,~~k_create_window,1089
                    ,2,32
 27774                        	.sym	~~k_render_bitmap_info,~~k_render_bitmap
                    _info,65,2,0
 27775                        	.sym	~~k_draw_char_scaled,~~k_draw_char_scale
  Mon Dec  7 2020 11:19                                                Page 512


                    d,65,2,0
 27776                        	.sym	~~k_get_font_metrics,~~k_get_font_metric
                    s,69,2,0
 27777                        	.sym	~~k_draw_fontset,~~k_draw_fontset,65,2,0
 27778                        	.sym	~~k_draw_char,~~k_draw_char,65,2,0
 27779                        	.sym	~~k_put_draw_text,~~k_put_draw_text,69,2
                    ,0
 27780                        	.sym	~~k_draw_char_scaled_point,~~k_draw_char
                    _scaled_point,65,2,0
 27781                        	.sym	~~k_draw_text_point_with_font_ex,~~k_dra
                    w_text_point_with_font_ex,69,2,0
 27782                        	.sym	~~k_draw_text_point_with_font,~~k_draw_t
                    ext_point_with_font,69,2,0
 27783                        	.sym	~~k_draw_text_point_ex,~~k_draw_text_poi
                    nt_ex,69,2,0
 27784                        	.sym	~~k_draw_text_point,~~k_draw_text_point,
                    69,2,0
 27785                        	.sym	~~k_put_font_point,~~k_put_font_point,69
                    ,2,0
 27786                        	.sym	~~k_draw_text_scaled,~~k_draw_text_scale
                    d,69,2,0
 27787                        	.sym	~~k_draw_text,~~k_draw_text,69,2,0
 27788                        	.sym	~~k_put_binary_variablefont_point_ex,~~k
                    _put_binary_variablefont_point_ex,69,2,0
 27789                        	.sym	~~k_put_binary_variablefont_point,~~k_pu
                    t_binary_variablefont_point,69,2,0
 27790                        	.sym	~~k_put_binary_font_point,~~k_put_binary
                    _font_point,69,2,0
 27791                        	.sym	~~k_put_font_scaled,~~k_put_font_scaled,
                    65,2,0
 27792                        	.sym	~~k_put_font,~~k_put_font,65,2,0
 27793                        	.sym	~~k_fill_bank,~~k_fill_bank,65,2,0
 27794                        	.sym	~~k_fill_line,~~k_fill_line,65,2,0
 27795                        	.sym	~~k_paint_brush_at_address,~~k_paint_bru
                    sh_at_address,65,2,0
 27796                        	.sym	~~k_paint_brush_rect,~~k_paint_brush_rec
                    t,65,2,0
 27797                        	.sym	~~k_vdraw_filled_rect,~~k_vdraw_filled_r
                    ect,65,2,0
 27798                        	.sym	~~k_draw_filled_rect,~~k_draw_filled_rec
                    t,65,2,0
 27799                        	.sym	~~k_draw_rect_slow,~~k_draw_rect_slow,65
                    ,2,0
 27800                        	.sym	~~k_draw_line_ex,~~k_draw_line_ex,65,2,0
 27801                        	.sym	~~k_draw_line,~~k_draw_line,65,2,0
 27802                        	.sym	~~k_draw_filled_circle,~~k_draw_filled_c
                    ircle,65,2,0
 27803                        	.sym	~~k_draw_circle,~~k_draw_circle,65,2,0
 27804                        	.sym	~~k_draw_segments,~~k_draw_segments,65,2
                    ,0
 27805                        	.sym	~~k_draw_pixel_ex,~~k_draw_pixel_ex,65,2
                    ,0
 27806                        	.sym	~~k_draw_pixel,~~k_draw_pixel,65,2,0
 27807                        	.sym	~~k_draw_lines,~~k_draw_lines,65,2,0
 27808                        	.sym	~~k_memory_bitblt,~~k_memory_bitblt,65,2
                    ,0
 27809                        	.sym	~~k_bitblt,~~k_bitblt,65,2,0
 27810                        	.sym	~~k_scratch_restore_bitblt,~~k_scratch_r
  Mon Dec  7 2020 11:19                                                Page 513


                    estore_bitblt,65,2,0
 27811                        	.sym	~~k_scratch_save_bitblt,~~k_scratch_save
                    _bitblt,65,2,0
 27812                        	.sym	~~k_shadow_fill_rect_address,~~k_shadow_
                    fill_rect_address,65,2,0
 27813                        	.sym	~~k_shadow_fill_rect,~~k_shadow_fill_rec
                    t,65,2,0
 27814                        	.sym	~~k_shadow_bitblt,~~k_shadow_bitblt,65,2
                    ,0
 27815                        	.sym	~~k_set_rect,~~k_set_rect,65,2,0
 27816                        	.sym	~~defineGrayPalette,~~defineGrayPalette,
                    65,2,0
 27817                        	.sym	~~setColors,~~setColors,65,2,0
 27818                        	.sym	~~k_gui_get_pixel_offset_width,~~k_gui_g
                    et_pixel_offset_width,71,2,0
 27819                        	.sym	~~k_gui_get_pixel_offset,~~k_gui_get_pix
                    el_offset,71,2,0
 27820                        	.sym	~~k_get_video_mode,~~k_get_video_mode,80
                    ,2,0
 27821                        	.sym	~~k_enable_bitmap_mode,~~k_enable_bitmap
                    _mode,65,2,0
 27822                        	.sym	~~k_drawPixel,~~k_drawPixel,65,2,0
 27823                        	.sym	~~k_draw_nonclient_area,~~k_draw_nonclie
                    nt_area,65,2,0
 27824                        	.sym	~~k_getUIColor,~~k_getUIColor,69,2,0
 27825                        	.sym	~~k_getUIGadgetColor,~~k_getUIGadgetColo
                    r,69,2,0
 27826                        	.sym	~~k_getUIMenuColor,~~k_getUIMenuColor,69
                    ,2,0
 27827                        	.sym	~~k_getUIWindowShadowColor,~~k_getUIWind
                    owShadowColor,69,2,0
 27828                        	.sym	~~k_getUIWindowBorderColor,~~k_getUIWind
                    owBorderColor,69,2,0
 27829                        	.sym	~~k_getUIWindowFrameColor,~~k_getUIWindo
                    wFrameColor,69,2,0
 27830                        	.sym	~~k_getUIHighlightColor,~~k_getUIHighlig
                    htColor,69,2,0
 27831                        	.sym	~~k_getUIFontSelectedColor,~~k_getUIFont
                    SelectedColor,69,2,0
 27832                        	.sym	~~k_getUIFontColor,~~k_getUIFontColor,69
                    ,2,0
 27833                        	.sym	~~k_getUIDesktopColor,~~k_getUIDesktopCo
                    lor,69,2,0
 27834                        	.sym	~~k_getUIBackgroundColor,~~k_getUIBackgr
                    oundColor,69,2,0
 27835                        	.sym	PCUR_PALETTE_MAP,0,138,14,32,54
 27836                        	.sym	CUR_PALETTE_MAP,0,10,14,400,54
 27837                        	.sym	~~k_render_menu,~~k_render_menu,1098,2,3
                    2,34
 27838                        	.sym	~~k_vdraw_ui_menu_with_rect,~~k_vdraw_ui
                    _menu_with_rect,1098,2,32,34
 27839                        	.sym	~~k_vdraw_ui_menu_ex,~~k_vdraw_ui_menu_e
                    x,1098,2,32,34
 27840                        	.sym	~~k_vdraw_ui_menu,~~k_vdraw_ui_menu,1098
                    ,2,32,34
 27841                        	.sym	~~k_draw_menu,~~k_draw_menu,1098,2,32,34
 27842                        	.sym	PCLICKDETECTED,0,138,14,32,53
 27843                        	.sym	CLICKDETECTED,0,10,14,64,53
  Mon Dec  7 2020 11:19                                                Page 514


 27844                        	.sym	OBJECTCLICKED,0,641,14,32
 27845                        	.sym	~~MOUSE_POINTER_RESIZE,~~MOUSE_POINTER_R
                    ESIZE,110,2,0,256
 27846                        	.sym	~~MOUSE_POINTER_HOURGLASS,~~MOUSE_POINTE
                    R_HOURGLASS,110,2,0,256
 27847                        	.sym	~~MOUSE_POINTER_HELP,~~MOUSE_POINTER_HEL
                    P,110,2,0,256
 27848                        	.sym	~~MOUSE_POINTER_ARROW,~~MOUSE_POINTER_AR
                    ROW,110,2,0,256
 27849                        	.sym	~~Bm437ToshibaLCD8x8,~~Bm437ToshibaLCD8x
                    8,110,18,0,0
 27850                        	.sym	~~windowIconImg,~~windowIconImg,878,18,0
                    ,0,256
 27851                        	.sym	~~windowChromeImg,~~windowChromeImg,878,
                    18,0,0,64
 27852                        	.sym	~~fontImg,~~fontImg,878,18,0,0,64
 27853                        	.sym	~~characterROMMapping,~~characterROMMapp
                    ing,101,18,0,0
 27854                        	.sym	~~k_mem_deallocate_heap,~~k_mem_dealloca
                    te_heap,65,18,0
 27855                        	.sym	~~k_mem_allocate_heap,~~k_mem_allocate_h
                    eap,1089,18,32
 27856                        	.sym	MemoryCallback,0,641,14,32
 27857                        	.sym	PFXMEMORYMAP,0,138,14,32,52
 27858                        	.sym	FXMEMORYMAP,0,10,14,2072,52
 27859                        	.sym	UMM_HEAP_INFO,0,10,14,256,51
 27860                        	.sym	~~k_pad_string,~~k_pad_string,1102,18,32
 27861                        	.sym	~~k_itoa,~~k_itoa,1102,18,32
 27862                        	.sym	PFXSTRING,0,138,14,32,50
 27863                        	.sym	FXSTRING,0,10,14,64,50
 27864                        	.sym	DEVICEDRIVER_COMMAND,0,656,14,32
 27865                        	.sym	DEVICEDRIVER_UNLOAD,0,654,14,32
 27866                        	.sym	DEVICEDRIVER_WRITE,0,656,14,32
 27867                        	.sym	DEVICEDRIVER_READ,0,656,14,32
 27868                        	.sym	DEVICEDRIVER_LOAD,0,654,14,32
 27869                        	.sym	PFX_BLOCK_DEVICE_DRIVER,0,138,14,32,49
 27870                        	.sym	FX_BLOCK_DEVICE_DRIVER,0,10,14,1448,49
 27871                        	.sym	PFX_DEVICE_DRIVER,0,138,14,32,48
 27872                        	.sym	FX_DEVICE_DRIVER,0,10,14,1416,48
 27873                        	.sym	~~k_get_c256_minor_version,~~k_get_c256_
                    minor_version,65,18,0
 27874                        	.sym	~~k_get_c256_major_version,~~k_get_c256_
                    major_version,65,18,0
 27875                        	.sym	~~k_get_fpga_date_year,~~k_get_fpga_date
                    _year,65,18,0
 27876                        	.sym	~~k_get_fpga_date_month,~~k_get_fpga_dat
                    e_month,65,18,0
 27877                        	.sym	~~k_get_fpga_date_day,~~k_get_fpga_date_
                    day,65,18,0
 27878                        	.sym	~~k_debug_rect,~~k_debug_rect,65,18,0
 27879                        	.sym	~~k_debug_strings,~~k_debug_strings,65,1
                    8,0
 27880                        	.sym	~~k_debug_message,~~k_debug_message,65,1
                    8,0
 27881                        	.sym	~~k_debug_long,~~k_debug_long,65,18,0
 27882                        	.sym	~~k_debug_integer,~~k_debug_integer,65,1
                    8,0
 27883                        	.sym	~~k_debug_pointer,~~k_debug_pointer,65,1
  Mon Dec  7 2020 11:19                                                Page 515


                    8,0
 27884                        	.sym	~~k_debug_string,~~k_debug_string,65,18,
                    0
 27885                        	.sym	PDEBUGBYTEBITS,0,138,14,32,47
 27886                        	.sym	DEBUGBYTEBITS,0,10,14,8,47
 27887                        	.sym	PFXENVIRONMENT,0,138,14,32,46
 27888                        	.sym	FXENVIRONMENT,0,10,14,96,46
 27889                        	.sym	PFXZERPOPAGE,0,138,14,32,45
 27890                        	.sym	FXZERPOPAGE,0,10,14,448,45
 27891                        	.sym	KERNELTRAPCALL,0,641,14,32
 27892                        	.sym	FOREACHNODEUNTIL,0,654,14,32
 27893                        	.sym	FOREACHNODE,0,641,14,32
 27894                        	.sym	~~k_nodelist_add,~~k_nodelist_add,65,18,
                    0
 27895                        	.sym	~~k_nodelist_create,~~k_nodelist_create,
                    1098,18,32,5
 27896                        	.sym	~~k_nodelist_init,~~k_nodelist_init,1098
                    ,18,32,5
 27897                        	.sym	PFXCOMBUFFER,0,138,14,32,44
 27898                        	.sym	FXCOMBUFFER,0,10,14,2080,44
 27899                        	.sym	PSUBMENULIST,0,138,14,32,43
 27900                        	.sym	SUBMENULIST,0,10,14,40,43
 27901                        	.sym	HSUBMENU,0,7,14,32
 27902                        	.sym	PSUBMENU,0,138,14,32,42
 27903                        	.sym	SUBMENU,0,10,14,64,42
 27904                        	.sym	MenuAction,0,641,14,32
 27905                        	.sym	PMENUANCHOR,0,138,14,32,41
 27906                        	.sym	MENUANCHOR,0,10,14,144,41
 27907                        	.sym	PTEXTBOX,0,138,14,32,40
 27908                        	.sym	TEXTBOX,0,10,14,144,40
 27909                        	.sym	PLISTBOX,0,138,14,32,39
 27910                        	.sym	LISTBOX,0,10,14,240,39
 27911                        	.sym	PSCROLLBAR,0,138,14,32,38
 27912                        	.sym	SCROLLBAR,0,10,14,192,38
 27913                        	.sym	PBUTTON,0,138,14,32,37
 27914                        	.sym	BUTTON,0,10,14,80,37
 27915                        	.sym	PMENUDROPDOWNDATA,0,138,14,32,36
 27916                        	.sym	MENUDROPDOWNDATA,0,10,14,3568,36
 27917                        	.sym	PMENUTAG,0,138,14,32,35
 27918                        	.sym	MENUTAG,0,10,14,112,35
 27919                        	.sym	PMENU,0,138,14,32,34
 27920                        	.sym	MENU,0,10,14,248,34
 27921                        	.sym	HMENURESOURCE,0,129,14,32
 27922                        	.sym	HTEXTBOX,0,7,14,32
 27923                        	.sym	PTEXTBOXX,0,138,14,32,33
 27924                        	.sym	TEXTBOXX,0,10,14,112,33
 27925                        	.sym	FONTMETRIC,0,10,14,32,32
 27926                        	.sym	TITLE,0,142,14,32
 27927                        	.sym	PHANDLE,0,1153,14,32
 27928                        	.sym	HANDLE,0,129,14,32
 27929                        	.sym	PWINDOWEX,0,138,14,32,31
 27930                        	.sym	WINDOWEX,0,10,14,2704,31
 27931                        	.sym	PWINDOW,0,138,14,32,30
 27932                        	.sym	WINDOW,0,10,14,2840,30
 27933                        	.sym	PDRAGDATA,0,138,14,32,29
 27934                        	.sym	DRAGDATA,0,10,14,160,29
 27935                        	.sym	PNCCLICKABLE,0,138,14,32,28
 27936                        	.sym	NCCLICKABLE,0,10,14,88,28
  Mon Dec  7 2020 11:19                                                Page 516


 27937                        	.sym	HCLICKABLE,0,7,14,32
 27938                        	.sym	PCLICKABLE,0,138,14,32,27
 27939                        	.sym	CLICKABLE,0,10,14,88,27
 27940                        	.sym	PWNDCLASS,0,138,14,32,26
 27941                        	.sym	WNDCLASS,0,10,14,256,26
 27942                        	.sym	HBRUSH,0,129,14,32
 27943                        	.sym	HCURSOR,0,129,14,32
 27944                        	.sym	HICON,0,129,14,32
 27945                        	.sym	HINSTANCE,0,129,14,32
 27946                        	.sym	FXWndProc,0,654,14,32
 27947                        	.sym	PRECT,0,138,14,32,25
 27948                        	.sym	RECT,0,10,14,64,25
 27949                        	.sym	PPOINT,0,138,14,32,24
 27950                        	.sym	POINT,0,10,14,32,24
 27951                        	.sym	PFXPROPERTY,0,138,14,32,22
 27952                        	.sym	FXPROPERTY,0,10,14,384,22
 27953                        	.sym	SCANCODE,0,14,14,8
 27954                        	.sym	KEYCODE,0,14,14,8
 27955                        	.sym	PFXPROCESSMESSAGE,0,138,14,32,21
 27956                        	.sym	FXPROCESSMESSAGE,0,10,14,112,21
 27957                        	.sym	PFXPROCESS,0,138,14,32,20
 27958                        	.sym	FXPROCESS,0,10,14,800,20
 27959                        	.sym	PDESKTOP_CONTROL,0,138,14,32,19
 27960                        	.sym	DESKTOP_CONTROL,0,10,14,392,19
 27961                        	.sym	PCONSOLE_CONTROL,0,138,14,32,18
 27962                        	.sym	CONSOLE_CONTROL,0,10,14,448,18
 27963                        	.sym	FXProcessProc,0,641,14,32
 27964                        	.sym	PFXCMDMESSAGE,0,138,14,32,17
 27965                        	.sym	FXCMDMESSAGE,0,10,14,304,17
 27966                        	.sym	PFXOSMESSAGE,0,138,14,32,16
 27967                        	.sym	FXOSMESSAGE,0,10,14,304,16
 27968                        	.sym	PINT_REGS,0,138,14,32,15
 27969                        	.sym	INT_REGS,0,10,14,104,15
 27970                        	.sym	TASK_STACK,0,10,14,32,14
 27971                        	.sym	TASK,0,10,14,48,13
 27972                        	.sym	PIRQDATA,0,138,14,32,12
 27973                        	.sym	IRQDATA,0,10,14,48,12
 27974                        	.sym	HMENU,0,129,14,32
 27975                        	.sym	HWND,0,129,14,32
 27976                        	.sym	MSGDATA,0,14,14,8
 27977                        	.sym	MSGDEST,0,18,14,32
 27978                        	.sym	MSGSRC,0,18,14,32
 27979                        	.sym	MSGTYPE,0,16,14,16
 27980                        	.sym	PROCESS_RESOURCE_LIST,0,138,14,32,6
 27981                        	.sym	PROCESS_TLS_LIST,0,138,14,32,6
 27982                        	.sym	SEMAPHORE_LIST,0,138,14,32,6
 27983                        	.sym	FILE_BLOCK_LIST,0,138,14,32,6
 27984                        	.sym	FILE_PATH_LIST,0,138,14,32,6
 27985                        	.sym	PROCEDURE_LIST,0,138,14,32,6
 27986                        	.sym	FILE_HANDLE,0,138,14,32,11
 27987                        	.sym	FILE_BLOCK,0,10,14,552,11
 27988                        	.sym	SEMAPHORE,0,10,14,16,10
 27989                        	.sym	PPROCESS_SIGNAL,0,138,14,32,9
 27990                        	.sym	PROCESS_SIGNAL,0,10,14,16,9
 27991                        	.sym	KRESULT,0,18,14,32
 27992                        	.sym	PKERNEL_ERROR,0,138,14,32,8
 27993                        	.sym	KERNEL_ERROR,0,10,14,32,8
 27994                        	.sym	PROCESS_STATUS,0,16,14,16
  Mon Dec  7 2020 11:19                                                Page 517


 27995                        	.sym	FILE_PATH_NAME,0,142,14,32
 27996                        	.sym	PROCESS_RESOURCE,0,129,14,32
 27997                        	.sym	PROCESS_TLS,0,129,14,32
 27998                        	.sym	PROCESS_CTX,0,129,14,32
 27999                        	.sym	USERID,0,16,14,16
 28000                        	.sym	PROCESS_ID,0,18,14,32
 28001                        	.sym	PROCESS_BANK,0,14,14,8
 28002                        	.sym	PFXQUEUE,0,138,14,32,7
 28003                        	.sym	FXQUEUE,0,10,14,80,7
 28004                        	.sym	PFXNODELIST,0,138,14,32,6
 28005                        	.sym	FXNODELIST,0,10,14,96,6
 28006                        	.sym	NodeListDeallocator,0,641,14,32
 28007                        	.sym	PFXNODE,0,138,14,32,5
 28008                        	.sym	FXNODE,0,10,14,384,5
 28009                        	.sym	PBYTEBITS,0,138,14,32,4
 28010                        	.sym	BYTEBITS,0,10,14,8,4
 28011                        	.sym	HCOLOR,0,129,14,32
 28012                        	.sym	HFONT,0,129,14,32
 28013                        	.sym	HDC,0,129,14,32
 28014                        	.sym	HPOINTER,0,129,14,32
 28015                        	.sym	uint32_t,0,18,14,32
 28016                        	.sym	uint8_t,0,14,14,8
 28017                        	.sym	PFAR,0,142,14,32
 28018                        	.sym	LPBOOL,0,142,14,32
 28019                        	.sym	BOOL,0,14,14,8
 28020                        	.sym	DWORD,0,18,14,32
 28021                        	.sym	ULONG,0,18,14,32
 28022                        	.sym	LPLONG,0,135,14,32
 28023                        	.sym	LONG,0,7,14,32
 28024                        	.sym	PUINT,0,144,14,32
 28025                        	.sym	USHORT,0,16,14,16
 28026                        	.sym	UINT,0,16,14,16
 28027                        	.sym	INT,0,5,14,16
 28028                        	.sym	WORD,0,5,14,16
 28029                        	.sym	PBYTE,0,142,14,32
 28030                        	.sym	BYTE,0,14,14,8
 28031                        	.sym	UCHAR,0,14,14,8
 28032                        	.sym	LPWCSTR,0,142,14,32
 28033                        	.sym	LPCSTR,0,142,14,32
 28034                        	.sym	LPSTR,0,142,14,32
 28035                        	.sym	LPCHAR,0,142,14,32
 28036                        	.sym	CHAR,0,14,14,8
 28037                        	.sym	LPVOID,0,129,14,32
 28038                        	.sym	VOID,0,1,14,32
 28039                        	.sym	~~toupper,~~toupper,69,18,0
 28040                        	.sym	~~strupr,~~strupr,1102,18,32
 28041                        	.sym	~~strlen,~~strlen,80,18,0
 28042                        	.sym	~~strcpy,~~strcpy,1102,18,32
 28043                        	.sym	~~memset,~~memset,1089,18,32
 28044                        	.sym	~~memcpy,~~memcpy,1089,18,32
 28045                        	.sym	Boolean_T,0,5,14,16
 28046                        	.sym	~~abs,~~abs,69,18,0
 28047                        	.sym	ldiv_t,0,10,14,64,2
 28048                        	.sym	div_t,0,10,14,32,1
 28049                        	.sym	wctype_t,0,16,14,16
 28050                        	.sym	wint_t,0,16,14,16
 28051                        	.sym	wchar_t,0,14,14,8
 28052                        	.sym	ptrdiff_t,0,7,14,32
  Mon Dec  7 2020 11:19                                                Page 518


 28053                        	.sym	size_t,0,16,14,16
 28054                        	end


      Lines assembled: 28054
      Errors: 0
