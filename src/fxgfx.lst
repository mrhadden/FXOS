  Mon Sep 27 2021  9:39                                                Page 1


                     ***************************************
                     **      WDC 65C816 Macro Assembler   **
                     **                                   **
                     **     Version 1.00- Aug 10 2021    **
                     ***************************************

     1                        ;:ts=8
     2             00000001   R0	equ	1
     3             00000005   R1	equ	5
     4             00000009   R2	equ	9
     5             0000000D   R3	equ	13
     6                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxgfx.c",0
     7                        ;
     8                        ;#include "fxos.h"
     9                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",0
    10                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
    11                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stddef.h",0
    12                        	.line	88
    13                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",43
    14                        	.stag	fake1_,32,1
    15                        	.member	quot,0,5,8,16
    16                        	.member	rem,16,5,8,16
    17                        	.eos
    18                        	.stag	fake2_,64,2
    19                        	.member	quot,0,7,8,32
    20                        	.member	rem,32,7,8,32
    21                        	.eos
    22                        	.stag	int_sqrt,32,3
    23                        	.member	sqrt,0,16,8,16
    24                        	.member	frac,16,16,8,16
    25                        	.eos
    26                        	.line	205
    27                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",4
    28                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
    29                        	.line	134
    30                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",5
    31                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    ctype.h",0
    32                        	.line	103
    33                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",6
    34                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
    35                        	.stag	_fx_bytebits,8,4
    36                        	.member	b7,0,14,17,1
    37                        	.member	b6,1,14,17,1
    38                        	.member	b5,2,14,17,1
    39                        	.member	b4,3,14,17,1
    40                        	.member	b3,4,14,17,1
    41                        	.member	b2,5,14,17,1
  Mon Sep 27 2021  9:39                                                Page 2


    42                        	.member	b1,6,14,17,1
    43                        	.member	b0,7,14,17,1
    44                        	.eos
    45                        	.stag	_fx_node,384,5
    46                        	.member	type,0,14,8,8
    47                        	.member	Reserved0,8,14,8,8
    48                        	.member	data,16,129,8,32
    49                        	.member	last,48,138,8,32,5
    50                        	.member	next,80,138,8,32,5
    51                        	.member	name,112,110,8,0,32
    52                        	.member	Reserved1,368,16,8,16
    53                        	.eos
    54                        	.stag	_fx_nodelist,96,6
    55                        	.member	listhead,0,138,8,32,5
    56                        	.member	listData,32,129,8,32
    57                        	.member	deallocator,64,641,8,32
    58                        	.eos
    59                        	.stag	_fx_queue,80,7
    60                        	.member	count,0,5,8,16
    61                        	.member	front,16,138,8,32,5
    62                        	.member	rear,48,138,8,32,5
    63                        	.eos
    64                        	.stag	fake8_,32,8
    65                        	.member	subsystem,0,14,8,8
    66                        	.member	level,8,14,8,8
    67                        	.member	error,16,16,8,16
    68                        	.eos
    69                        	.stag	_fx_process_signal,16,9
    70                        	.member	cbSize,0,16,8,16
    71                        	.eos
    72                        	.stag	_fx_semaphore,16,10
    73                        	.member	reserved,0,5,8,16
    74                        	.eos
    75                        	.stag	_fx_fileBlock,552,11
    76                        	.member	openCount,0,16,8,16
    77                        	.member	lockCount,16,16,8,16
    78                        	.member	dirty,32,14,8,8
    79                        	.member	fileBuffer,40,110,8,0,64
    80                        	.eos
    81                        	.stag	_fx_irq_data,48,12
    82                        	.member	line,0,5,8,16
    83                        	.member	keycode,16,142,8,32
    84                        	.eos
    85                        	.stag	_task,48,13
    86                        	.member	SPL,0,14,8,8
    87                        	.member	SPH,8,14,8,8
    88                        	.member	pstack,16,142,8,32
    89                        	.eos
    90                        	.stag	_task_stack,32,14
    91                        	.member	SS,0,142,8,32
    92                        	.eos
    93                        	.stag	int_regs,104,15
    94                        	.member	PB,0,14,8,8
    95                        	.member	PH,8,14,8,8
    96                        	.member	PL,16,14,8,8
    97                        	.member	PP,24,14,8,8
    98                        	.member	DB,32,14,8,8
    99                        	.member	DH,40,14,8,8
  Mon Sep 27 2021  9:39                                                Page 3


   100                        	.member	DL,48,14,8,8
   101                        	.member	AH,56,14,8,8
   102                        	.member	AL,64,14,8,8
   103                        	.member	XH,72,14,8,8
   104                        	.member	XL,80,14,8,8
   105                        	.member	YH,88,14,8,8
   106                        	.member	YL,96,14,8,8
   107                        	.eos
   108                        	.stag	_fx_eventMessage,312,16
   109                        	.member	src,0,18,8,32
   110                        	.member	dest,32,18,8,32
   111                        	.member	type,64,16,8,16
   112                        	.member	hwnd,80,129,8,32
   113                        	.member	pheap,112,129,8,32
   114                        	.member	msgTime,144,18,8,32
   115                        	.member	data,176,110,8,0,16
   116                        	.member	attr,304,14,8,8
   117                        	.eos
   118                        	.stag	_fx_cmdMessage,312,17
   119                        	.member	src,0,18,8,32
   120                        	.member	dest,32,18,8,32
   121                        	.member	type,64,16,8,16
   122                        	.member	hwnd,80,129,8,32
   123                        	.member	pheap,112,129,8,32
   124                        	.member	msgTime,144,18,8,32
   125                        	.member	cmdCId,176,16,8,16
   126                        	.member	cmdMId,192,16,8,16
   127                        	.member	parameter1,208,18,8,32
   128                        	.member	parameter2,240,18,8,32
   129                        	.member	parameter3,272,18,8,32
   130                        	.member	attr,304,14,8,8
   131                        	.eos
   132                        	.stag	_fx_console_ctl,448,18
   133                        	.member	maxCols,0,5,8,16
   134                        	.member	maxRows,16,5,8,16
   135                        	.member	curX,32,5,8,16
   136                        	.member	curY,48,5,8,16
   137                        	.member	fgColor,64,5,8,16
   138                        	.member	bgColor,80,5,8,16
   139                        	.member	mode,96,14,8,8
   140                        	.member	kbBuffer,104,101,8,0,16
   141                        	.member	screenBuffer,360,142,8,32
   142                        	.member	desktopMode,392,14,8,8
   143                        	.member	lastMouseButton,400,5,8,16
   144                        	.member	lastMouseX,416,5,8,16
   145                        	.member	lastMouseY,432,5,8,16
   146                        	.eos
   147                        	.stag	_fx_desktop_ctl,392,19
   148                        	.member	desktopMode,0,14,8,8
   149                        	.member	cursorCtl,8,5,8,16
   150                        	.member	cursorState,24,5,8,16
   151                        	.member	backgroundColor,40,5,8,16
   152                        	.member	foregroundColor,56,5,8,16
   153                        	.member	menuMode,72,5,8,16
   154                        	.member	lastMouseButton,88,5,8,16
   155                        	.member	lastMouseX,104,5,8,16
   156                        	.member	lastMouseY,120,5,8,16
   157                        	.member	currentDiskName,136,142,8,32
  Mon Sep 27 2021  9:39                                                Page 4


   158                        	.member	diskNodes,168,129,8,32
   159                        	.member	titleNodes,200,129,8,32
   160                        	.member	menuNodes,232,129,8,32
   161                        	.member	iconNodes,264,129,8,32
   162                        	.member	windowNodes,296,129,8,32
   163                        	.member	fontNodes,328,129,8,32
   164                        	.member	wndProc,360,138,8,32,6
   165                        	.eos
   166                        	.stag	_fx_process,800,20
   167                        	.member	cbSize,0,5,8,16
   168                        	.member	procId,16,18,8,32
   169                        	.member	parentId,48,18,8,32
   170                        	.member	ctx,80,129,8,32
   171                        	.member	userId,112,16,8,16
   172                        	.member	status,128,16,8,16
   173                        	.member	foregroundActive,144,14,8,8
   174                        	.member	tls,152,1121,8,32,8
   175                        	.member	commandLine,408,142,8,32
   176                        	.member	semaphores,440,138,8,32,6
   177                        	.member	fileHandles,472,138,8,32,6
   178                        	.member	pathList,504,138,8,32,6
   179                        	.member	resources,536,138,8,32,6
   180                        	.member	timerAware,568,14,8,8
   181                        	.member	timerTicks,576,112,8,0,2
   182                        	.member	timerTickCount,608,112,8,0,2
   183                        	.member	kernelError,640,10,8,32,8
   184                        	.member	consoleCtl,672,138,8,32,18
   185                        	.member	desktopCtl,704,138,8,32,19
   186                        	.member	execProc,736,641,8,32
   187                        	.member	startupArgs,768,129,8,32
   188                        	.eos
   189                        	.stag	_fxProcessMessage,112,21
   190                        	.member	src,0,18,8,32
   191                        	.member	dest,32,18,8,32
   192                        	.member	type,64,16,8,16
   193                        	.member	processInfo,80,138,8,32,20
   194                        	.eos
   195                        	.stag	_k_key_state,112,22
   196                        	.member	scanCode,0,14,8,8
   197                        	.member	isShifted,8,14,8,8
   198                        	.member	isAlt,16,14,8,8
   199                        	.member	isExtended,24,14,8,8
   200                        	.member	isCapsLock,32,14,8,8
   201                        	.member	isNumLock,40,14,8,8
   202                        	.member	isScrollLock,48,14,8,8
   203                        	.member	keyChar,56,16,8,16
   204                        	.member	scanTime,72,18,8,32
   205                        	.member	ledStatus,104,14,8,8
   206                        	.eos
   207                        	.stag	_fx_property,384,23
   208                        	.member	name,0,110,8,0,16
   209                        	.member	value,128,110,8,0,32
   210                        	.eos
   211                        	.utag	_24bitPointer,32,24
   212                        	.member	address,0,142,11,32
   213                        	.member	bytes,0,110,11,0,4
   214                        	.eos
   215                        	.stag	_PointStruct,32,25
  Mon Sep 27 2021  9:39                                                Page 5


   216                        	.member	x,0,5,8,16
   217                        	.member	y,16,5,8,16
   218                        	.eos
   219                        	.stag	_RectStruct,112,26
   220                        	.member	x,0,5,8,16
   221                        	.member	y,16,5,8,16
   222                        	.member	z,32,18,8,32
   223                        	.member	width,64,5,8,16
   224                        	.member	height,80,5,8,16
   225                        	.member	attr,96,5,8,16
   226                        	.eos
   227                        	.stag	fake27_,96,27
   228                        	.member	name,0,142,8,32
   229                        	.member	topLeft,32,10,8,32,25
   230                        	.member	bottomRight,64,10,8,32,25
   231                        	.eos
   232                        	.stag	fake28_,112,28
   233                        	.member	x,0,5,8,16
   234                        	.member	y,16,5,8,16
   235                        	.member	z,32,5,8,16
   236                        	.member	width,48,5,8,16
   237                        	.member	height,64,5,8,16
   238                        	.member	data,80,18,8,32
   239                        	.eos
   240                        	.stag	_k_WindowClass,272,29
   241                        	.member	cbSize,0,16,8,16
   242                        	.member	style,16,16,8,16
   243                        	.member	styleEx,32,16,8,16
   244                        	.member	pWndProc,48,654,8,32
   245                        	.member	hInstance,80,129,8,32
   246                        	.member	hIcon,112,129,8,32
   247                        	.member	hCursor,144,129,8,32
   248                        	.member	hbrBackground,176,129,8,32
   249                        	.member	lpszMenuName,208,142,8,32
   250                        	.member	lpszClassName,240,142,8,32
   251                        	.eos
   252                        	.stag	_ClickableRect,152,30
   253                        	.member	area,0,10,8,112,26
   254                        	.member	z,112,18,8,32
   255                        	.member	enabled,144,14,8,8
   256                        	.eos
   257                        	.stag	_NCClickableRect,136,31
   258                        	.member	area,0,10,8,112,26
   259                        	.member	msgType,112,16,8,16
   260                        	.member	enabled,128,14,8,8
   261                        	.eos
   262                        	.stag	_DragData,216,32
   263                        	.member	area,0,10,8,112,26
   264                        	.member	xoffset,112,5,8,16
   265                        	.member	yoffset,128,5,8,16
   266                        	.member	msgType,144,16,8,16
   267                        	.member	ncAction,160,16,8,16
   268                        	.member	isDrag,176,14,8,8
   269                        	.member	isResize,184,14,8,8
   270                        	.member	canDrag,192,14,8,8
   271                        	.member	canDrop,200,14,8,8
   272                        	.member	didDrag,208,14,8,8
   273                        	.eos
  Mon Sep 27 2021  9:39                                                Page 6


   274                        	.stag	_k_WindowStruct,3904,33
   275                        	.member	cbSize,0,16,8,16
   276                        	.member	style,16,18,8,32
   277                        	.member	styleEx,48,18,8,32
   278                        	.member	win_id,80,5,8,16
   279                        	.member	win_x,96,5,8,16
   280                        	.member	win_y,112,5,8,16
   281                        	.member	win_width,128,5,8,16
   282                        	.member	win_height,144,5,8,16
   283                        	.member	win_xoffset,160,5,8,16
   284                        	.member	win_yoffset,176,5,8,16
   285                        	.member	win_cxoffset,192,5,8,16
   286                        	.member	win_cyoffset,208,5,8,16
   287                        	.member	wndRect,224,10,8,112,26
   288                        	.member	clientRect,336,10,8,112,26
   289                        	.member	nonclientGadgets,448,106,8,0,31,16
   290                        	.member	clickable,2624,129,8,32
   291                        	.member	win_title,2656,110,8,0,32
   292                        	.member	Reserved0,2912,16,8,16
   293                        	.member	win_class,2928,110,8,0,16
   294                        	.member	win_class_name,3056,110,8,0,32
   295                        	.member	nBitmapLayer,3312,16,8,16
   296                        	.member	bgRegion,3328,129,8,32
   297                        	.member	procid,3360,18,8,32
   298                        	.member	pWndClass,3392,138,8,32,29
   299                        	.member	pParentWindow,3424,129,8,32
   300                        	.member	hMenu,3456,129,8,32
   301                        	.member	hPointer,3488,129,8,32
   302                        	.member	hBackground,3520,129,8,32
   303                        	.member	pChildWindows,3552,138,8,32,6
   304                        	.member	pChildHitList,3584,138,8,32,6
   305                        	.member	isVisible,3616,14,8,8
   306                        	.member	windowData,3624,129,8,32
   307                        	.member	clientData,3656,1121,8,32,6
   308                        	.member	isClosed,3848,14,8,8
   309                        	.member	isClosing,3856,14,8,8
   310                        	.member	isDesktop,3864,14,8,8
   311                        	.member	clickableNode,3872,138,8,32,5
   312                        	.eos
   313                        	.stag	_k_WindowStructEx,3880,34
   314                        	.member	cbSize,0,16,8,16
   315                        	.member	style,16,18,8,32
   316                        	.member	styleEx,48,18,8,32
   317                        	.member	win_id,80,5,8,16
   318                        	.member	win_x,96,5,8,16
   319                        	.member	win_y,112,5,8,16
   320                        	.member	win_width,128,5,8,16
   321                        	.member	win_height,144,5,8,16
   322                        	.member	win_xoffset,160,5,8,16
   323                        	.member	win_yoffset,176,5,8,16
   324                        	.member	win_cxoffset,192,5,8,16
   325                        	.member	win_cyoffset,208,5,8,16
   326                        	.member	wndRect,224,10,8,112,26
   327                        	.member	clientRect,336,10,8,112,26
   328                        	.member	nonclientGadgets,448,106,8,0,31,16
   329                        	.member	clickable,2624,129,8,32
   330                        	.member	win_title,2656,110,8,0,32
   331                        	.member	Reserved0,2912,16,8,16
  Mon Sep 27 2021  9:39                                                Page 7


   332                        	.member	win_class,2928,110,8,0,16
   333                        	.member	nBitmapLayer,3056,16,8,16
   334                        	.member	procid,3072,18,8,32
   335                        	.member	pWndClass,3104,138,8,32,29
   336                        	.member	pParentWindow,3136,129,8,32
   337                        	.member	hMenu,3168,129,8,32
   338                        	.member	hPointer,3200,129,8,32
   339                        	.member	hBackground,3232,129,8,32
   340                        	.member	pChildWindows,3264,138,8,32,6
   341                        	.member	pChildHitList,3296,138,8,32,6
   342                        	.member	isVisible,3328,14,8,8
   343                        	.member	windowData,3336,129,8,32
   344                        	.member	clientData,3368,1121,8,32,4
   345                        	.member	isClosed,3496,14,8,8
   346                        	.member	hWnd,3504,129,8,32
   347                        	.member	localRect,3536,10,8,112,26
   348                        	.member	globalRect,3648,10,8,112,26
   349                        	.member	clientOffsetRect,3760,10,8,112,26
   350                        	.member	isDesktop,3872,14,8,8
   351                        	.eos
   352                        	.stag	_FontMetric,32,35
   353                        	.member	width,0,5,8,16
   354                        	.member	height,16,5,8,16
   355                        	.eos
   356                        	.stag	_MenuStruct,280,36
   357                        	.member	cx,0,5,8,16
   358                        	.member	cy,16,5,8,16
   359                        	.member	width,32,5,8,16
   360                        	.member	height,48,5,8,16
   361                        	.member	fcolor,64,14,8,8
   362                        	.member	bcolor,72,14,8,8
   363                        	.member	chromeLeft,80,14,8,8
   364                        	.member	chromeRight1,88,14,8,8
   365                        	.member	chromeRight2,96,14,8,8
   366                        	.member	hFont,104,129,8,32
   367                        	.member	itemId,136,16,8,16
   368                        	.member	pCaption,152,142,8,32
   369                        	.member	subMenus,184,138,8,32,6
   370                        	.member	pBackground,216,129,8,32
   371                        	.member	hWndOwner,248,129,8,32
   372                        	.eos
   373                        	.stag	fake37_,160,37
   374                        	.member	menuId,0,16,8,16
   375                        	.member	caption,16,142,8,32
   376                        	.member	rect,48,10,8,112,26
   377                        	.eos
   378                        	.stag	fake38_,5152,38
   379                        	.member	pParent,0,138,8,32,33
   380                        	.member	rect,32,10,8,112,26
   381                        	.member	captions,144,1134,8,32,24
   382                        	.member	chrome,912,110,8,0,24
   383                        	.member	ids,1104,112,8,0,24
   384                        	.member	clickable,1488,106,8,0,30,24
   385                        	.member	selected,5136,16,8,16
   386                        	.eos
   387                        	.stag	_fx_button_t,96,39
   388                        	.member	pCaption,0,142,8,32
   389                        	.member	cCaption,32,16,8,16
  Mon Sep 27 2021  9:39                                                Page 8


   390                        	.member	data,48,129,8,32
   391                        	.member	captionPixelWidth,80,16,8,16
   392                        	.eos
   393                        	.stag	_fx_scrollbar_t,240,40
   394                        	.member	min,0,16,8,16
   395                        	.member	max,16,16,8,16
   396                        	.member	increment,32,16,8,16
   397                        	.member	stopsize,48,16,8,16
   398                        	.member	location,64,5,8,16
   399                        	.member	state,80,5,8,16
   400                        	.member	rectThumb,96,10,8,112,26
   401                        	.member	data,208,129,8,32
   402                        	.eos
   403                        	.stag	_fx_listbox_t,240,41
   404                        	.member	pos,0,5,8,16
   405                        	.member	selected,16,16,8,16
   406                        	.member	offsetX,32,5,8,16
   407                        	.member	offsetY,48,5,8,16
   408                        	.member	inc,64,5,8,16
   409                        	.member	direction,80,5,8,16
   410                        	.member	top,96,5,8,16
   411                        	.member	bottom,112,5,8,16
   412                        	.member	indexTop,128,5,8,16
   413                        	.member	indexBottom,144,5,8,16
   414                        	.member	maxItems,160,16,8,16
   415                        	.member	fontSet,176,142,8,32
   416                        	.member	data,208,129,8,32
   417                        	.eos
   418                        	.stag	_fx_textbox_t,144,42
   419                        	.member	pos,0,5,8,16
   420                        	.member	selected,16,16,8,16
   421                        	.member	offsetX,32,5,8,16
   422                        	.member	offsetY,48,5,8,16
   423                        	.member	isShifted,64,14,8,8
   424                        	.member	cursorState,72,14,8,8
   425                        	.member	fontSet,80,142,8,32
   426                        	.member	data,112,129,8,32
   427                        	.eos
   428                        	.stag	_fx_msgbox_t,144,43
   429                        	.member	pos,0,5,8,16
   430                        	.member	selected,16,16,8,16
   431                        	.member	offsetX,32,5,8,16
   432                        	.member	offsetY,48,5,8,16
   433                        	.member	isShifted,64,14,8,8
   434                        	.member	cursorState,72,14,8,8
   435                        	.member	fontSet,80,142,8,32
   436                        	.member	data,112,129,8,32
   437                        	.eos
   438                        	.stag	_fx_menuAnchor_t,272,44
   439                        	.member	pCaption,0,142,8,32
   440                        	.member	renderLayoutX,32,16,8,16
   441                        	.member	renderLayoutY,48,16,8,16
   442                        	.member	captionPixelWidth,64,16,8,16
   443                        	.member	data,80,129,8,32
   444                        	.member	droppedWindow,112,138,8,32,33
   445                        	.member	bytes,144,110,8,0,16
   446                        	.eos
   447                        	.stag	_SubMenuStruct,64,45
  Mon Sep 27 2021  9:39                                                Page 9


   448                        	.member	caption,0,142,8,32
   449                        	.member	action,32,641,8,32
   450                        	.eos
   451                        	.stag	_SubMenuListStruct,40,46
   452                        	.member	cMenus,0,14,8,8
   453                        	.member	psubmenus,8,9354,8,32,45
   454                        	.eos
   455                        	.stag	_fx_ComBuffer,2080,47
   456                        	.member	cbSize,0,16,8,16
   457                        	.member	cbBuffer,16,16,8,16
   458                        	.member	buffer,32,110,8,0,256
   459                        	.eos
   460                        	.stag	_fx_resource_header,72,48
   461                        	.member	magic,0,110,8,0,4
   462                        	.member	major,32,14,8,8
   463                        	.member	minor,40,14,8,8
   464                        	.member	type,48,14,8,8
   465                        	.member	reserved,56,14,8,8
   466                        	.member	resheaderSize,64,14,8,8
   467                        	.eos
   468                        	.stag	_fx_resource_header_font,144,49
   469                        	.member	title,0,110,8,0,16
   470                        	.member	height,128,14,8,8
   471                        	.member	width,136,14,8,8
   472                        	.eos
   473                        	.stag	_fx_resource_string,32,50
   474                        	.member	locale,0,110,8,0,2
   475                        	.member	entries,16,16,8,16
   476                        	.eos
   477                        	.stag	_fx_resource_string_entry,40,51
   478                        	.member	index,0,16,8,16
   479                        	.member	length,16,16,8,16
   480                        	.member	data,32,14,8,8
   481                        	.eos
   482                        	.line	1064
   483                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",8
   484                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxstringtable.h",0
   485                        	.line	90
   486                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",9
   487                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxc256u.h",0
   488                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   489                        	.line	1064
   490                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxc256u.h",5
   491                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fmx_vicky.h",0
   492                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   493                        	.line	1064
   494                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fmx_vicky.h",11
   495                        	.line	72
   496                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
  Mon Sep 27 2021  9:39                                                Page 10


                    space\FXOS-Beta\src\fxc256u.h",6
   497                        	.line	1963
   498                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",16
   499                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxkernel.h",0
   500                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",0
   501                        	.line	30
   502                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxkernel.h",5
   503                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxnode.h",0
   504                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   505                        	.line	1064
   506                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxnode.h",11
   507                        	.line	118
   508                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxkernel.h",6
   509                        	.stag	_fx_api_call_table,8192,52
   510                        	.member	call_table,0,1121,8,32,256
   511                        	.eos
   512                        	.stag	_fx_zero_page_irq_data,32,53
   513                        	.member	data,0,110,8,0,4
   514                        	.eos
   515                        	.stag	_fx_zero_page,720,54
   516                        	.member	fxos_mouse_byte_0,0,14,8,8
   517                        	.member	fxos_mouse_byte_1,8,14,8,8
   518                        	.member	fxos_mouse_byte_2,16,14,8,8
   519                        	.member	fxos_mouse_byte_t,24,14,8,8
   520                        	.member	fxos_mouse_byte_x_l,32,14,8,8
   521                        	.member	fxos_mouse_byte_x_h,40,14,8,8
   522                        	.member	fxos_mouse_byte_y_l,48,14,8,8
   523                        	.member	fxos_mouse_byte_y_h,56,14,8,8
   524                        	.member	fxos_key_byte_0,64,14,8,8
   525                        	.member	fxos_key_byte_1,72,14,8,8
   526                        	.member	fxos_key_byte_2,80,14,8,8
   527                        	.member	fxos_mouse_ctl,88,14,8,8
   528                        	.member	fxos_mouse_index,96,14,8,8
   529                        	.member	fxos_mouse_status,104,14,8,8
   530                        	.member	Endianness,112,16,8,16
   531                        	.member	VersionMajor,128,16,8,16
   532                        	.member	VersionMinor,144,16,8,16
   533                        	.member	VersionRelease,160,16,8,16
   534                        	.member	topMemory,176,18,8,32
   535                        	.member	bottomMemory,208,18,8,32
   536                        	.member	availableMemory,240,18,8,32
   537                        	.member	availableMemoryK,272,18,8,32
   538                        	.member	availableHeapMemory,304,18,8,32
   539                        	.member	availableHeapMemoryK,336,18,8,32
   540                        	.member	fxos_console_row,368,16,8,16
   541                        	.member	fxos_console_col,384,16,8,16
   542                        	.member	executive,400,129,8,32
   543                        	.member	eventmanager,432,129,8,32
   544                        	.member	devicemanager,464,129,8,32
   545                        	.member	windowmanager,496,129,8,32
  Mon Sep 27 2021  9:39                                                Page 11


   546                        	.member	fxos_kernel_api,528,138,8,32,52
   547                        	.member	fxos_dos_api,560,138,8,32,52
   548                        	.member	fxos_gfx_api,592,138,8,32,52
   549                        	.member	fxos_gui_api,624,138,8,32,52
   550                        	.member	fxos_con_api,656,138,8,32,52
   551                        	.member	fxos_reserved_2_api,688,138,8,32,52
   552                        	.eos
   553                        	.stag	_fx_environment,96,55
   554                        	.member	variables,0,142,8,32
   555                        	.member	reserved1,32,5,8,16
   556                        	.member	reserved2,48,5,8,16
   557                        	.member	reserved3,64,5,8,16
   558                        	.member	reserved4,80,5,8,16
   559                        	.eos
   560                        	.stag	_debug_byte_bits,8,56
   561                        	.member	bit7,0,14,17,1
   562                        	.member	bit6,1,14,17,1
   563                        	.member	bit5,2,14,17,1
   564                        	.member	bit4,3,14,17,1
   565                        	.member	bit3,4,14,17,1
   566                        	.member	bit2,5,14,17,1
   567                        	.member	bit1,6,14,17,1
   568                        	.member	bit0,7,14,17,1
   569                        	.eos
   570                        	.stag	_k_segmentheader,160,57
   571                        	.member	version_major,0,14,8,8
   572                        	.member	version_minor,8,14,8,8
   573                        	.member	length,16,5,8,16
   574                        	.member	segment_start_addr,32,7,8,32
   575                        	.member	segment_end_addr,64,7,8,32
   576                        	.member	segment_size,96,7,8,32
   577                        	.member	main_entry_addr,128,7,8,32
   578                        	.eos
   579                        	.stag	_fx_device_driver,776,58
   580                        	.member	name,0,110,8,0,32
   581                        	.member	version,256,110,8,0,16
   582                        	.member	hmajor,384,110,8,0,8
   583                        	.member	hminor,448,110,8,0,8
   584                        	.member	type,512,14,8,8
   585                        	.member	designation,520,110,8,0,6
   586                        	.member	irq_ctl,568,16,8,16
   587                        	.member	f_driver_irq,584,129,8,32
   588                        	.member	driver_context,616,129,8,32
   589                        	.member	f_driver_load,648,129,8,32
   590                        	.member	f_driver_read,680,129,8,32
   591                        	.member	f_driver_write,712,129,8,32
   592                        	.member	f_driver_unload,744,129,8,32
   593                        	.eos
   594                        	.stag	_fx_block_device_driver,808,59
   595                        	.member	name,0,110,8,0,32
   596                        	.member	version,256,110,8,0,16
   597                        	.member	hmajor,384,110,8,0,8
   598                        	.member	hminor,448,110,8,0,8
   599                        	.member	type,512,14,8,8
   600                        	.member	designation,520,110,8,0,6
   601                        	.member	irq_ctl,568,16,8,16
   602                        	.member	f_driver_irq,584,129,8,32
   603                        	.member	driver_context,616,129,8,32
  Mon Sep 27 2021  9:39                                                Page 12


   604                        	.member	f_driver_load,648,129,8,32
   605                        	.member	f_driver_read,680,129,8,32
   606                        	.member	f_driver_write,712,129,8,32
   607                        	.member	f_driver_unload,744,129,8,32
   608                        	.member	f_driver_command,776,129,8,32
   609                        	.eos
   610                        	.stag	_k_irq_chain,128,60
   611                        	.member	handlers,0,5217,8,32,4
   612                        	.eos
   613                        	.line	475
   614                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",22
   615                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",0
   616                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   617                        	.line	134
   618                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",5
   619                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   620                        	.line	205
   621                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",6
   622                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   623                        	.line	1064
   624                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",7
   625                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxc256u.h",0
   626                        	.line	1963
   627                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",12
   628                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxstring.h",0
   629                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    stdlib.h",0
   630                        	.line	205
   631                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxstring.h",5
   632                        	.file	"G:\devtools\WDCTools\wdc\Tools\include\
                    string.h",0
   633                        	.line	134
   634                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxstring.h",6
   635                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   636                        	.line	1064
   637                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxstring.h",7
   638                        	.stag	_fx_string,64,61
   639                        	.member	size,0,16,8,16
   640                        	.member	pos,16,5,8,16
   641                        	.member	buffer,32,142,8,32
   642                        	.eos
   643                        	.line	141
   644                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
  Mon Sep 27 2021  9:39                                                Page 13


                    space\FXOS-Beta\src\fxconsole.h",17
   645                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxeventmanager.h",0
   646                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",0
   647                        	.line	30
   648                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxeventmanager.h",5
   649                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxexec.h",0
   650                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   651                        	.line	1064
   652                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxexec.h",5
   653                        	.stag	_fxos_executive_vtable,128,62
   654                        	.member	Init,0,8833,8,32
   655                        	.member	Configure,32,656,8,32
   656                        	.member	Query,64,656,8,32
   657                        	.member	Uninit,96,641,8,32
   658                        	.eos
   659                        	.line	86
   660                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxeventmanager.h",6
   661                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxnode.h",0
   662                        	.line	118
   663                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxeventmanager.h",7
   664                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",0
   665                        	.line	208
   666                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxeventmanager.h",8
   667                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxwindowmanager.h",0
   668                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",0
   669                        	.line	30
   670                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxwindowmanager.h",5
   671                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxmemorymanager.h",0
   672                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",0
   673                        	.line	30
   674                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxmemorymanager.h",5
   675                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\umm_malloc_cfg.h",0
   676                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos_build_parameters.h",0
   677                        	.line	35
   678                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\umm_malloc_cfg.h",8
   679                        	.stag	UMM_HEAP_INFO_t,256,63
   680                        	.member	totalEntries,0,18,8,32
   681                        	.member	usedEntries,32,18,8,32
  Mon Sep 27 2021  9:39                                                Page 14


   682                        	.member	freeEntries,64,18,8,32
   683                        	.member	totalBlocks,96,18,8,32
   684                        	.member	usedBlocks,128,18,8,32
   685                        	.member	freeBlocks,160,18,8,32
   686                        	.member	maxFreeContiguousBlocks,192,18,8,32
   687                        	.member	blockSize,224,18,8,32
   688                        	.eos
   689                        	.line	199
   690                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxmemorymanager.h",6
   691                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\umm_malloc.h",0
   692                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   693                        	.line	1064
   694                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\umm_malloc.h",11
   695                        	.line	24
   696                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxmemorymanager.h",7
   697                        	.stag	_fx_memory_map,2072,64
   698                        	.member	availableMemory,0,18,8,32
   699                        	.member	valid_segments,32,110,8,0,255
   700                        	.eos
   701                        	.stag	_fx_ipc_port,144,65
   702                        	.member	id,0,18,8,32
   703                        	.member	type,32,14,8,8
   704                        	.member	name,40,138,8,32,61
   705                        	.member	time,72,18,8,32
   706                        	.member	queue,104,138,8,32,7
   707                        	.member	reserved_1,136,14,8,8
   708                        	.eos
   709                        	.stag	_k_mem_alloc_header,80,66
   710                        	.member	user,0,14,8,8
   711                        	.member	attr,8,14,8,8
   712                        	.member	size,16,18,8,32
   713                        	.member	virtual,48,129,8,32
   714                        	.eos
   715                        	.line	129
   716                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxwindowmanager.h",6
   717                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxeventmanager.h",0
   718                        	.line	572
   719                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxwindowmanager.h",7
   720                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxgfx.h",0
   721                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxfont.h",0
   722                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   723                        	.line	1064
   724                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxfont.h",6
   725                        	.line	74
   726                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxgfx.h",5
  Mon Sep 27 2021  9:39                                                Page 15


   727                        	.stag	_click_detected,64,67
   728                        	.member	window,0,138,8,32,33
   729                        	.member	handler,32,641,8,32
   730                        	.eos
   731                        	.stag	_current_palette_map,400,68
   732                        	.member	CUR_DESKTOP,0,5,8,16
   733                        	.member	CUR_BACKGROUND,16,5,8,16
   734                        	.member	CUR_FONT,32,5,8,16
   735                        	.member	CUR_SELECTED_FONT,48,5,8,16
   736                        	.member	CUR_HIGHLIGHT_COLOR,64,5,8,16
   737                        	.member	CUR_WINDOWFRAME,80,5,8,16
   738                        	.member	CUR_WINDOWBORDER,96,5,8,16
   739                        	.member	CUR_WINDOWSHADOW,112,5,8,16
   740                        	.member	CUR_MENU,128,5,8,16
   741                        	.member	CUR_GADGET,144,5,8,16
   742                        	.member	CUR_COLOR,160,101,8,0,15
   743                        	.eos
   744                        	.line	370
   745                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxwindowmanager.h",8
   746                        	.stag	_fxos_winman_vtable,160,69
   747                        	.member	Events,0,641,8,32
   748                        	.member	ConfigureWindowManager,32,656,8,32
   749                        	.member	ProcessWindowEvent,64,8833,8,32
   750                        	.member	QueryWindowManager,96,656,8,32
   751                        	.member	DoWndProcs,128,641,8,32
   752                        	.eos
   753                        	.stag	fake70_,64,70
   754                        	.member	type,0,16,8,16
   755                        	.member	size,16,16,8,16
   756                        	.member	desktopAction,32,129,8,32
   757                        	.eos
   758                        	.stag	fake71_,96,71
   759                        	.member	type,0,16,8,16
   760                        	.member	caption,16,138,8,32,61
   761                        	.member	buttonType,48,16,8,16
   762                        	.member	x,64,5,8,16
   763                        	.member	y,80,5,8,16
   764                        	.eos
   765                        	.stag	_childMessage_t,64,72
   766                        	.member	msgType,0,16,8,16
   767                        	.member	msgData,16,129,8,32
   768                        	.member	dataSize,48,16,8,16
   769                        	.eos
   770                        	.line	594
   771                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxeventmanager.h",9
   772                        	.stag	_fx_main_loopvars,16,73
   773                        	.member	dummy,0,5,8,16
   774                        	.eos
   775                        	.stag	_fxMouseMessageData,64,74
   776                        	.member	button1,0,14,8,8
   777                        	.member	button2,8,14,8,8
   778                        	.member	button3,16,14,8,8
   779                        	.member	button4,24,14,8,8
   780                        	.member	x,32,16,8,16
   781                        	.member	y,48,16,8,16
   782                        	.eos
  Mon Sep 27 2021  9:39                                                Page 16


   783                        	.utag	marshalled_data,32,75
   784                        	.member	byteValue,0,14,11,8
   785                        	.member	verbValue,0,110,11,0,2
   786                        	.member	intValue,0,16,11,16
   787                        	.member	longValue,0,18,11,32
   788                        	.member	pointerValue,0,129,11,32
   789                        	.eos
   790                        	.stag	_fx_eventProcess,64,76
   791                        	.member	process,0,138,8,32,20
   792                        	.member	eventProc,32,641,8,32
   793                        	.eos
   794                        	.stag	_mouse_msg_state,184,77
   795                        	.member	lastEvent,0,18,8,32
   796                        	.member	buttonLeftDown,32,14,8,8
   797                        	.member	lastLeftDown,40,18,8,32
   798                        	.member	buttonRightDown,72,14,8,8
   799                        	.member	lastRightDown,80,18,8,32
   800                        	.member	buttonMiddleDown,112,14,8,8
   801                        	.member	lastMiddleDown,120,18,8,32
   802                        	.member	lastX,152,16,8,16
   803                        	.member	lastY,168,16,8,16
   804                        	.eos
   805                        	.stag	_fxos_eventmanager_vtable,192,78
   806                        	.member	EventQueue,0,138,8,32,7
   807                        	.member	Init,32,8833,8,32
   808                        	.member	Run,64,656,8,32
   809                        	.member	Configure,96,656,8,32
   810                        	.member	Query,128,656,8,32
   811                        	.member	Uninit,160,641,8,32
   812                        	.eos
   813                        	.stag	_k_clipboard_data,168,79
   814                        	.member	type,0,14,8,8
   815                        	.member	readable,8,110,8,0,16
   816                        	.member	data,136,129,8,32
   817                        	.eos
   818                        	.line	572
   819                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxconsole.h",18
   820                        	.stag	_fx_spinner_ctx,48,80
   821                        	.member	index,0,5,8,16
   822                        	.member	spinner,16,142,8,32
   823                        	.eos
   824                        	.stag	_fx_console_ctx,1144,81
   825                        	.member	lineBufferIndex,0,5,8,16
   826                        	.member	lineBuffer,16,110,8,0,128
   827                        	.member	isShifted,1040,14,8,8
   828                        	.member	userData,1048,129,8,32
   829                        	.member	screenBuffer,1080,129,8,32
   830                        	.member	Reserved1,1112,129,8,32
   831                        	.eos
   832                        	.stag	_token,64,82
   833                        	.member	type,0,5,8,16
   834                        	.member	depth,16,16,8,16
   835                        	.member	text,32,142,8,32
   836                        	.eos
   837                        	.stag	_command_args,64,83
   838                        	.member	proc,0,656,8,32
   839                        	.member	tokens,32,138,8,32,5
  Mon Sep 27 2021  9:39                                                Page 17


   840                        	.eos
   841                        	.line	208
   842                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",23
   843                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxstring.h",0
   844                        	.line	141
   845                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",24
   846                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxnode.h",0
   847                        	.line	118
   848                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",25
   849                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\ff/ff.h",0
   850                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\ff/ffconf.h",0
   851                        	.line	298
   852                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\ff/ff.h",29
   853                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   854                        	.line	1064
   855                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\ff/ff.h",30
   856                        	.stag	fake84_,4504,84
   857                        	.member	fs_type,0,14,8,8
   858                        	.member	pdrv,8,14,8,8
   859                        	.member	n_fats,16,14,8,8
   860                        	.member	wflag,24,14,8,8
   861                        	.member	fsi_flag,32,14,8,8
   862                        	.member	id,40,5,8,16
   863                        	.member	n_rootdir,56,5,8,16
   864                        	.member	csize,72,5,8,16
   865                        	.member	lfnbuf,88,144,8,32
   866                        	.member	last_clst,120,18,8,32
   867                        	.member	free_clst,152,18,8,32
   868                        	.member	n_fatent,184,18,8,32
   869                        	.member	fsize,216,18,8,32
   870                        	.member	volbase,248,18,8,32
   871                        	.member	fatbase,280,18,8,32
   872                        	.member	dirbase,312,18,8,32
   873                        	.member	database,344,18,8,32
   874                        	.member	winsect,376,18,8,32
   875                        	.member	win,408,110,8,0,512
   876                        	.eos
   877                        	.stag	fake85_,128,85
   878                        	.member	fs,0,138,8,32,84
   879                        	.member	id,32,5,8,16
   880                        	.member	attr,48,14,8,8
   881                        	.member	stat,56,14,8,8
   882                        	.member	sclust,64,18,8,32
   883                        	.member	objsize,96,18,8,32
   884                        	.eos
   885                        	.stag	fake86_,4400,86
   886                        	.member	obj,0,10,8,128,85
   887                        	.member	flag,128,14,8,8
  Mon Sep 27 2021  9:39                                                Page 18


   888                        	.member	err,136,14,8,8
   889                        	.member	fptr,144,18,8,32
   890                        	.member	clust,176,18,8,32
   891                        	.member	sect,208,18,8,32
   892                        	.member	dir_sect,240,18,8,32
   893                        	.member	dir_ptr,272,142,8,32
   894                        	.member	buf,304,110,8,0,512
   895                        	.eos
   896                        	.stag	fake87_,416,87
   897                        	.member	obj,0,10,8,128,85
   898                        	.member	dptr,128,18,8,32
   899                        	.member	clust,160,18,8,32
   900                        	.member	sect,192,18,8,32
   901                        	.member	dir,224,142,8,32
   902                        	.member	fn,256,110,8,0,12
   903                        	.member	blk_ofs,352,18,8,32
   904                        	.member	pat,384,142,8,32
   905                        	.eos
   906                        	.stag	fake88_,2224,88
   907                        	.member	fsize,0,18,8,32
   908                        	.member	fdate,32,5,8,16
   909                        	.member	ftime,48,5,8,16
   910                        	.member	fattrib,64,14,8,8
   911                        	.member	altname,72,110,8,0,13
   912                        	.member	fname,176,110,8,0,256
   913                        	.eos
   914                        	.stag	fake89_,80,89
   915                        	.member	fmt,0,14,8,8
   916                        	.member	n_fat,8,14,8,8
   917                        	.member	align,16,16,8,16
   918                        	.member	n_root,32,16,8,16
   919                        	.member	au_size,48,18,8,32
   920                        	.eos
   921                        	.line	429
   922                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",26
   923                        	.line	30
   924                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxgfx.c",2
   925                        ;#include "fxmemorymanager.h"
   926                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxmemorymanager.h",0
   927                        	.line	129
   928                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxgfx.c",3
   929                        ;#include "fxwindowmanager.h"
   930                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxwindowmanager.h",0
   931                        	.line	594
   932                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxgfx.c",4
   933                        ;#include "fxfont.h"
   934                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxfont.h",0
   935                        	.line	74
   936                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxgfx.c",5
   937                        ;#include "fxgfx.h"
  Mon Sep 27 2021  9:39                                                Page 19


   938                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxgfx.h",0
   939                        	.line	370
   940                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxgfx.c",6
   941                        ;#include "fxdos.h"
   942                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxdos.h",0
   943                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxtypes.h",0
   944                        	.line	1064
   945                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxdos.h",5
   946                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\ff/ff.h",0
   947                        	.line	429
   948                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxdos.h",6
   949                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\diskio.h",0
   950                        	.line	85
   951                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxdos.h",7
   952                        	.stag	_fx_sd_direntry,256,90
   953                        	.member	filename,0,110,8,0,11
   954                        	.member	type,88,14,8,8
   955                        	.member	attrs,96,110,8,0,20
   956                        	.eos
   957                        	.stag	_fx_info,416,91
   958                        	.member	stgName,0,110,8,0,32
   959                        	.member	Reserved1,256,14,8,8
   960                        	.member	stgType,264,16,8,16
   961                        	.member	Reserved2,280,14,8,8
   962                        	.member	stgReserved,288,110,8,0,16
   963                        	.eos
   964                        	.stag	_fx_fileinfo,136,92
   965                        	.member	type,0,14,8,8
   966                        	.member	pFilename,8,142,8,32
   967                        	.member	lSize,40,18,8,32
   968                        	.member	lcreateDate,72,18,8,32
   969                        	.member	lchangeDate,104,18,8,32
   970                        	.eos
   971                        	.stag	_FX_FAT_DIR_INFO,256,93
   972                        	.member	DIR_Name,0,110,8,0,11
   973                        	.member	DIR_Attr,88,14,8,8
   974                        	.member	DIR_NTRes,96,14,8,8
   975                        	.member	DIR_CrtTimeTenth,104,14,8,8
   976                        	.member	DIR_CrtTime,112,16,8,16
   977                        	.member	DIR_CrtDate,128,16,8,16
   978                        	.member	DIR_LstAccDate,144,16,8,16
   979                        	.member	DIR_FstClusHI,160,16,8,16
   980                        	.member	DIR_WrtTime,176,16,8,16
   981                        	.member	DIR_WrtDate,192,16,8,16
   982                        	.member	DIR_FstClusLO,208,16,8,16
   983                        	.member	DIR_FileSize,224,18,8,32
   984                        	.eos
   985                        	.stag	fat_extBS_32,416,94
   986                        	.member	table_size_32,0,18,8,32
  Mon Sep 27 2021  9:39                                                Page 20


   987                        	.member	extended_flags,32,16,8,16
   988                        	.member	fat_version,48,16,8,16
   989                        	.member	root_cluster,64,18,8,32
   990                        	.member	fat_info,96,16,8,16
   991                        	.member	backup_BS_sector,112,16,8,16
   992                        	.member	reserved_0,128,110,8,0,12
   993                        	.member	drive_number,224,14,8,8
   994                        	.member	reserved_1,232,14,8,8
   995                        	.member	boot_signature,240,14,8,8
   996                        	.member	volume_id,248,16,8,16
   997                        	.member	volume_label,264,110,8,0,11
   998                        	.member	fat_type_label,352,110,8,0,8
   999                        	.eos
  1000                        	.stag	fat_extBS_16,192,95
  1001                        	.member	bios_drive_num,0,14,8,8
  1002                        	.member	reserved1,8,14,8,8
  1003                        	.member	boot_signature,16,14,8,8
  1004                        	.member	volume_id,24,16,8,16
  1005                        	.member	volume_label,40,110,8,0,11
  1006                        	.member	fat_type_label,128,110,8,0,8
  1007                        	.eos
  1008                        	.stag	fat_BS,688,96
  1009                        	.member	bootjmp,0,110,8,0,3
  1010                        	.member	oem_name,24,110,8,0,8
  1011                        	.member	bytes_per_sector,88,16,8,16
  1012                        	.member	sectors_per_cluster,104,14,8,8
  1013                        	.member	reserved_sector_count,112,16,8,16
  1014                        	.member	table_count,128,14,8,8
  1015                        	.member	root_entry_count,136,16,8,16
  1016                        	.member	total_sectors_16,152,16,8,16
  1017                        	.member	media_type,168,14,8,8
  1018                        	.member	table_size_16,176,16,8,16
  1019                        	.member	sectors_per_track,192,16,8,16
  1020                        	.member	head_side_count,208,16,8,16
  1021                        	.member	hidden_sector_count,224,16,8,16
  1022                        	.member	total_sectors_32,240,16,8,16
  1023                        	.member	extended_section,256,110,8,0,54
  1024                        	.eos
  1025                        	.stag	__FATBootSector,928,97
  1026                        	.member	bootjmp,0,110,8,0,3
  1027                        	.member	oem_name,24,110,8,0,8
  1028                        	.member	bytes_per_sector,88,16,8,16
  1029                        	.member	sectors_per_cluster,104,14,8,8
  1030                        	.member	reserved_sector_count,112,16,8,16
  1031                        	.member	fat_table_count,128,14,8,8
  1032                        	.member	root_entry_count,136,16,8,16
  1033                        	.member	total_sectors_16,152,16,8,16
  1034                        	.member	media_type,168,14,8,8
  1035                        	.member	sectors_per_fat,176,16,8,16
  1036                        	.member	sectors_per_track,192,16,8,16
  1037                        	.member	head_side_count,208,16,8,16
  1038                        	.member	hidden_sector_count,224,18,8,32
  1039                        	.member	total_sectors_32,256,18,8,32
  1040                        	.member	drive_number,288,14,8,8
  1041                        	.member	reserved1,296,14,8,8
  1042                        	.member	boot_sig,304,14,8,8
  1043                        	.member	vol_id,312,18,8,32
  1044                        	.member	vol_name,344,110,8,0,11
  Mon Sep 27 2021  9:39                                                Page 21


  1045                        	.member	file_system_type,432,110,8,0,8
  1046                        	.member	extended_section,496,110,8,0,54
  1047                        	.eos
  1048                        	.stag	__PARTITIONTABLE,128,98
  1049                        	.member	first_byte,0,14,8,8
  1050                        	.member	start_chs,8,110,8,0,3
  1051                        	.member	partition_type,32,14,8,8
  1052                        	.member	end_chs,40,110,8,0,3
  1053                        	.member	start_sector,64,18,8,32
  1054                        	.member	length_sectors,96,18,8,32
  1055                        	.eos
  1056                        	.stag	fake99_,4096,99
  1057                        	.member	jmp,0,110,8,0,3
  1058                        	.member	oem,24,110,8,0,8
  1059                        	.member	sector_size,88,15,8,16
  1060                        	.member	sectors_per_cluster,104,14,8,8
  1061                        	.member	reserved_sectors,112,15,8,16
  1062                        	.member	number_ok_dos_fats,128,14,8,8
  1063                        	.member	root_dir_entries,136,15,8,16
  1064                        	.member	total_sectors_short,152,15,8,16
  1065                        	.member	media_descriptor,168,14,8,8
  1066                        	.member	fat_size_sectors,176,15,8,16
  1067                        	.member	sectors_per_track,192,15,8,16
  1068                        	.member	number_ok_dos_heads,208,15,8,16
  1069                        	.member	hidden_sectors,224,18,8,32
  1070                        	.member	total_sectors_long,256,18,8,32
  1071                        	.member	drive_number,288,14,8,8
  1072                        	.member	current_head,296,14,8,8
  1073                        	.member	boot_signature,304,14,8,8
  1074                        	.member	volume_id,312,18,8,32
  1075                        	.member	volume_label,344,110,8,0,11
  1076                        	.member	fs_type,432,110,8,0,8
  1077                        	.member	boot_code,496,110,8,0,448
  1078                        	.member	boot_sector_signature,4080,15,8,16
  1079                        	.eos
  1080                        	.stag	__FAT16ENTRY,256,100
  1081                        	.member	filename,0,110,8,0,8
  1082                        	.member	ext,64,110,8,0,3
  1083                        	.member	attributes,88,14,8,8
  1084                        	.member	reserved,96,110,8,0,10
  1085                        	.member	modify_time,176,16,8,16
  1086                        	.member	modify_date,192,16,8,16
  1087                        	.member	starting_cluster,208,16,8,16
  1088                        	.member	file_size,224,18,8,32
  1089                        	.eos
  1090                        	.stag	__FAT16ENTRYLONG,288,101
  1091                        	.member	filename,0,110,8,0,8
  1092                        	.member	ext,64,110,8,0,3
  1093                        	.member	attributes,88,14,8,8
  1094                        	.member	reserved,96,110,8,0,10
  1095                        	.member	modify_time,176,16,8,16
  1096                        	.member	modify_date,192,16,8,16
  1097                        	.member	starting_cluster,208,16,8,16
  1098                        	.member	file_size,224,18,8,32
  1099                        	.member	plongfileName,256,142,8,32
  1100                        	.eos
  1101                        	.stag	_LongFileName,256,102
  1102                        	.member	sequenceNo,0,14,8,8
  Mon Sep 27 2021  9:39                                                Page 22


  1103                        	.member	fileName_Part1,8,110,8,0,10
  1104                        	.member	fileattribute,88,14,8,8
  1105                        	.member	type,96,14,8,8
  1106                        	.member	checksum,104,14,8,8
  1107                        	.member	fileName_Part2,112,110,8,0,12
  1108                        	.member	fstclusLO,208,5,8,16
  1109                        	.member	fileName_Part3,224,110,8,0,4
  1110                        	.eos
  1111                        	.stag	_IDSECTOR,2048,103
  1112                        	.member	wGenConfig,0,16,8,16
  1113                        	.member	wNumCyls,16,16,8,16
  1114                        	.member	wReserved,32,16,8,16
  1115                        	.member	wNumHeads,48,16,8,16
  1116                        	.member	wBytesPerTrack,64,16,8,16
  1117                        	.member	wBytesPerSector,80,16,8,16
  1118                        	.member	wSectorsPerTrack,96,16,8,16
  1119                        	.member	wVendorUnique,112,112,8,0,3
  1120                        	.member	sSerialNumber,160,110,8,0,20
  1121                        	.member	wBufferType,320,16,8,16
  1122                        	.member	wBufferSize,336,16,8,16
  1123                        	.member	wECCSize,352,16,8,16
  1124                        	.member	sFirmwareRev,368,110,8,0,8
  1125                        	.member	sModelNumber,432,110,8,0,40
  1126                        	.member	wMoreVendorUnique,752,16,8,16
  1127                        	.member	wDoubleWordIO,768,16,8,16
  1128                        	.member	wCapabilities,784,16,8,16
  1129                        	.member	wReserved1,800,16,8,16
  1130                        	.member	wPIOTiming,816,16,8,16
  1131                        	.member	wDMATiming,832,16,8,16
  1132                        	.member	wBS,848,16,8,16
  1133                        	.member	wNumCurrentCyls,864,16,8,16
  1134                        	.member	wNumCurrentHeads,880,16,8,16
  1135                        	.member	wNumCurrentSectorsPerTrack,896,16,8,16
  1136                        	.member	ulCurrentSectorCapacity,912,18,8,32
  1137                        	.member	wMultSectorStuff,944,16,8,16
  1138                        	.member	ulTotalAddressableSectors,960,18,8,32
  1139                        	.member	wSingleWordDMA,992,16,8,16
  1140                        	.member	wMultiWordDMA,1008,16,8,16
  1141                        	.member	bReserved,1024,110,8,0,128
  1142                        	.eos
  1143                        	.stag	fake104_,16,104
  1144                        	.member	Reserved1,0,16,17,1
  1145                        	.member	Retired3,1,16,17,1
  1146                        	.member	ResponseIncomplete,2,16,17,1
  1147                        	.member	Retired2,3,16,17,3
  1148                        	.member	FixedDevice,6,16,17,1
  1149                        	.member	RemovableMedia,7,16,17,1
  1150                        	.member	Retired1,8,16,17,7
  1151                        	.member	DeviceType,15,16,17,1
  1152                        	.eos
  1153                        	.stag	fake105_,16,105
  1154                        	.member	FeatureSupported,0,16,17,1
  1155                        	.member	Reserved,1,16,17,15
  1156                        	.eos
  1157                        	.stag	fake106_,32,106
  1158                        	.member	CurrentLongPhysicalSectorAlignment,0,14,
                    17,2
  1159                        	.member	ReservedByte49,2,14,17,6
  Mon Sep 27 2021  9:39                                                Page 23


  1160                        	.member	DmaSupported,8,14,17,1
  1161                        	.member	LbaSupported,9,14,17,1
  1162                        	.member	IordyDisable,10,14,17,1
  1163                        	.member	IordySupported,11,14,17,1
  1164                        	.member	Reserved1,12,14,17,1
  1165                        	.member	StandybyTimerSupport,13,14,17,1
  1166                        	.member	Reserved2,14,14,17,2
  1167                        	.member	ReservedWord50,16,16,8,16
  1168                        	.eos
  1169                        	.stag	fake107_,16,107
  1170                        	.member	ZonedCapabilities,0,16,17,2
  1171                        	.member	NonVolatileWriteCache,2,16,17,1
  1172                        	.member	ExtendedUserAddressableSectorsSupported,
                    3,16,17,1
  1173                        	.member	DeviceEncryptsAllUserData,4,16,17,1
  1174                        	.member	ReadZeroAfterTrimSupported,5,16,17,1
  1175                        	.member	Optional28BitCommandsSupported,6,16,17,1
  1176                        	.member	IEEE1667,7,16,17,1
  1177                        	.member	DownloadMicrocodeDmaSupported,8,16,17,1
  1178                        	.member	SetMaxSetPasswordUnlockDmaSupported,9,16
                    ,17,1
  1179                        	.member	WriteBufferDmaSupported,10,16,17,1
  1180                        	.member	ReadBufferDmaSupported,11,16,17,1
  1181                        	.member	DeviceConfigIdentifySetDmaSupported,12,1
                    6,17,1
  1182                        	.member	LPSAERCSupported,13,16,17,1
  1183                        	.member	DeterministicReadAfterTrimSupported,14,1
                    6,17,1
  1184                        	.member	CFastSpecSupported,15,16,17,1
  1185                        	.eos
  1186                        	.stag	fake108_,32,108
  1187                        	.member	Reserved0,0,16,17,1
  1188                        	.member	SataGen1,1,16,17,1
  1189                        	.member	SataGen2,2,16,17,1
  1190                        	.member	SataGen3,3,16,17,1
  1191                        	.member	Reserved1,4,16,17,4
  1192                        	.member	NCQ,8,16,17,1
  1193                        	.member	HIPM,9,16,17,1
  1194                        	.member	PhyEvents,10,16,17,1
  1195                        	.member	NcqUnload,11,16,17,1
  1196                        	.member	NcqPriority,12,16,17,1
  1197                        	.member	HostAutoPS,13,16,17,1
  1198                        	.member	DeviceAutoPS,14,16,17,1
  1199                        	.member	ReadLogDMA,15,16,17,1
  1200                        	.member	Reserved2,16,16,17,1
  1201                        	.member	CurrentSpeed,17,16,17,3
  1202                        	.member	NcqStreaming,20,16,17,1
  1203                        	.member	NcqQueueMgmt,21,16,17,1
  1204                        	.member	NcqReceiveSend,22,16,17,1
  1205                        	.member	DEVSLPtoReducedPwrState,23,16,17,1
  1206                        	.member	Reserved3,24,16,17,8
  1207                        	.eos
  1208                        	.stag	fake109_,16,109
  1209                        	.member	Reserved0,0,16,17,1
  1210                        	.member	NonZeroOffsets,1,16,17,1
  1211                        	.member	DmaSetupAutoActivate,2,16,17,1
  1212                        	.member	DIPM,3,16,17,1
  1213                        	.member	InOrderData,4,16,17,1
  Mon Sep 27 2021  9:39                                                Page 24


  1214                        	.member	HardwareFeatureControl,5,16,17,1
  1215                        	.member	SoftwareSettingsPreservation,6,16,17,1
  1216                        	.member	NCQAutosense,7,16,17,1
  1217                        	.member	DEVSLP,8,16,17,1
  1218                        	.member	HybridInformation,9,16,17,1
  1219                        	.member	Reserved1,10,16,17,6
  1220                        	.eos
  1221                        	.stag	fake110_,16,110
  1222                        	.member	Reserved0,0,16,17,1
  1223                        	.member	NonZeroOffsets,1,16,17,1
  1224                        	.member	DmaSetupAutoActivate,2,16,17,1
  1225                        	.member	DIPM,3,16,17,1
  1226                        	.member	InOrderData,4,16,17,1
  1227                        	.member	HardwareFeatureControl,5,16,17,1
  1228                        	.member	SoftwareSettingsPreservation,6,16,17,1
  1229                        	.member	DeviceAutoPS,7,16,17,1
  1230                        	.member	DEVSLP,8,16,17,1
  1231                        	.member	HybridInformation,9,16,17,1
  1232                        	.member	Reserved1,10,16,17,6
  1233                        	.eos
  1234                        	.stag	fake111_,48,111
  1235                        	.member	SmartCommands,0,16,17,1
  1236                        	.member	SecurityMode,1,16,17,1
  1237                        	.member	RemovableMediaFeature,2,16,17,1
  1238                        	.member	PowerManagement,3,16,17,1
  1239                        	.member	Reserved1,4,16,17,1
  1240                        	.member	WriteCache,5,16,17,1
  1241                        	.member	LookAhead,6,16,17,1
  1242                        	.member	ReleaseInterrupt,7,16,17,1
  1243                        	.member	ServiceInterrupt,8,16,17,1
  1244                        	.member	DeviceReset,9,16,17,1
  1245                        	.member	HostProtectedArea,10,16,17,1
  1246                        	.member	Obsolete1,11,16,17,1
  1247                        	.member	WriteBuffer,12,16,17,1
  1248                        	.member	ReadBuffer,13,16,17,1
  1249                        	.member	Nop,14,16,17,1
  1250                        	.member	Obsolete2,15,16,17,1
  1251                        	.member	DownloadMicrocode,16,16,17,1
  1252                        	.member	DmaQueued,17,16,17,1
  1253                        	.member	Cfa,18,16,17,1
  1254                        	.member	AdvancedPm,19,16,17,1
  1255                        	.member	Msn,20,16,17,1
  1256                        	.member	PowerUpInStandby,21,16,17,1
  1257                        	.member	ManualPowerUp,22,16,17,1
  1258                        	.member	Reserved2,23,16,17,1
  1259                        	.member	SetMax,24,16,17,1
  1260                        	.member	Acoustics,25,16,17,1
  1261                        	.member	BigLba,26,16,17,1
  1262                        	.member	DeviceConfigOverlay,27,16,17,1
  1263                        	.member	FlushCache,28,16,17,1
  1264                        	.member	FlushCacheExt,29,16,17,1
  1265                        	.member	WordValid83,30,16,17,2
  1266                        	.member	SmartErrorLog,32,16,17,1
  1267                        	.member	SmartSelfTest,33,16,17,1
  1268                        	.member	MediaSerialNumber,34,16,17,1
  1269                        	.member	MediaCardPassThrough,35,16,17,1
  1270                        	.member	StreamingFeature,36,16,17,1
  1271                        	.member	GpLogging,37,16,17,1
  Mon Sep 27 2021  9:39                                                Page 25


  1272                        	.member	WriteFua,38,16,17,1
  1273                        	.member	WriteQueuedFua,39,16,17,1
  1274                        	.member	WWN64Bit,40,16,17,1
  1275                        	.member	URGReadStream,41,16,17,1
  1276                        	.member	URGWriteStream,42,16,17,1
  1277                        	.member	ReservedForTechReport,43,16,17,2
  1278                        	.member	IdleWithUnloadFeature,45,16,17,1
  1279                        	.member	WordValid,46,16,17,2
  1280                        	.eos
  1281                        	.stag	fake112_,48,112
  1282                        	.member	SmartCommands,0,16,17,1
  1283                        	.member	SecurityMode,1,16,17,1
  1284                        	.member	RemovableMediaFeature,2,16,17,1
  1285                        	.member	PowerManagement,3,16,17,1
  1286                        	.member	Reserved1,4,16,17,1
  1287                        	.member	WriteCache,5,16,17,1
  1288                        	.member	LookAhead,6,16,17,1
  1289                        	.member	ReleaseInterrupt,7,16,17,1
  1290                        	.member	ServiceInterrupt,8,16,17,1
  1291                        	.member	DeviceReset,9,16,17,1
  1292                        	.member	HostProtectedArea,10,16,17,1
  1293                        	.member	Obsolete1,11,16,17,1
  1294                        	.member	WriteBuffer,12,16,17,1
  1295                        	.member	ReadBuffer,13,16,17,1
  1296                        	.member	Nop,14,16,17,1
  1297                        	.member	Obsolete2,15,16,17,1
  1298                        	.member	DownloadMicrocode,16,16,17,1
  1299                        	.member	DmaQueued,17,16,17,1
  1300                        	.member	Cfa,18,16,17,1
  1301                        	.member	AdvancedPm,19,16,17,1
  1302                        	.member	Msn,20,16,17,1
  1303                        	.member	PowerUpInStandby,21,16,17,1
  1304                        	.member	ManualPowerUp,22,16,17,1
  1305                        	.member	Reserved2,23,16,17,1
  1306                        	.member	SetMax,24,16,17,1
  1307                        	.member	Acoustics,25,16,17,1
  1308                        	.member	BigLba,26,16,17,1
  1309                        	.member	DeviceConfigOverlay,27,16,17,1
  1310                        	.member	FlushCache,28,16,17,1
  1311                        	.member	FlushCacheExt,29,16,17,1
  1312                        	.member	Resrved3,30,16,17,1
  1313                        	.member	Words119_120Valid,31,16,17,1
  1314                        	.member	SmartErrorLog,32,16,17,1
  1315                        	.member	SmartSelfTest,33,16,17,1
  1316                        	.member	MediaSerialNumber,34,16,17,1
  1317                        	.member	MediaCardPassThrough,35,16,17,1
  1318                        	.member	StreamingFeature,36,16,17,1
  1319                        	.member	GpLogging,37,16,17,1
  1320                        	.member	WriteFua,38,16,17,1
  1321                        	.member	WriteQueuedFua,39,16,17,1
  1322                        	.member	WWN64Bit,40,16,17,1
  1323                        	.member	URGReadStream,41,16,17,1
  1324                        	.member	URGWriteStream,42,16,17,1
  1325                        	.member	ReservedForTechReport,43,16,17,2
  1326                        	.member	IdleWithUnloadFeature,45,16,17,1
  1327                        	.member	Reserved4,46,16,17,2
  1328                        	.eos
  1329                        	.stag	fake113_,16,113
  Mon Sep 27 2021  9:39                                                Page 26


  1330                        	.member	TimeRequired,0,16,17,15
  1331                        	.member	ExtendedTimeReported,15,16,17,1
  1332                        	.eos
  1333                        	.stag	fake114_,16,114
  1334                        	.member	TimeRequired,0,16,17,15
  1335                        	.member	ExtendedTimeReported,15,16,17,1
  1336                        	.eos
  1337                        	.stag	fake115_,16,115
  1338                        	.member	LogicalSectorsPerPhysicalSector,0,16,17,
                    4
  1339                        	.member	Reserved0,4,16,17,8
  1340                        	.member	LogicalSectorLongerThan256Words,12,16,17
                    ,1
  1341                        	.member	MultipleLogicalSectorsPerPhysicalSector,
                    13,16,17,1
  1342                        	.member	Reserved1,14,16,17,2
  1343                        	.eos
  1344                        	.stag	fake116_,16,116
  1345                        	.member	ReservedForDrqTechnicalReport,0,16,17,1
  1346                        	.member	WriteReadVerify,1,16,17,1
  1347                        	.member	WriteUncorrectableExt,2,16,17,1
  1348                        	.member	ReadWriteLogDmaExt,3,16,17,1
  1349                        	.member	DownloadMicrocodeMode3,4,16,17,1
  1350                        	.member	FreefallControl,5,16,17,1
  1351                        	.member	SenseDataReporting,6,16,17,1
  1352                        	.member	ExtendedPowerConditions,7,16,17,1
  1353                        	.member	Reserved0,8,16,17,6
  1354                        	.member	WordValid,14,16,17,2
  1355                        	.eos
  1356                        	.stag	fake117_,16,117
  1357                        	.member	ReservedForDrqTechnicalReport,0,16,17,1
  1358                        	.member	WriteReadVerify,1,16,17,1
  1359                        	.member	WriteUncorrectableExt,2,16,17,1
  1360                        	.member	ReadWriteLogDmaExt,3,16,17,1
  1361                        	.member	DownloadMicrocodeMode3,4,16,17,1
  1362                        	.member	FreefallControl,5,16,17,1
  1363                        	.member	SenseDataReporting,6,16,17,1
  1364                        	.member	ExtendedPowerConditions,7,16,17,1
  1365                        	.member	Reserved0,8,16,17,6
  1366                        	.member	Reserved1,14,16,17,2
  1367                        	.eos
  1368                        	.stag	fake118_,16,118
  1369                        	.member	SecuritySupported,0,16,17,1
  1370                        	.member	SecurityEnabled,1,16,17,1
  1371                        	.member	SecurityLocked,2,16,17,1
  1372                        	.member	SecurityFrozen,3,16,17,1
  1373                        	.member	SecurityCountExpired,4,16,17,1
  1374                        	.member	EnhancedSecurityEraseSupported,5,16,17,1
  1375                        	.member	Reserved0,6,16,17,2
  1376                        	.member	SecurityLevel,8,16,17,1
  1377                        	.member	Reserved1,9,16,17,7
  1378                        	.eos
  1379                        	.stag	fake119_,16,119
  1380                        	.member	MaximumCurrentInMA,0,16,17,12
  1381                        	.member	CfaPowerMode1Disabled,12,16,17,1
  1382                        	.member	CfaPowerMode1Required,13,16,17,1
  1383                        	.member	Reserved0,14,16,17,1
  1384                        	.member	Word160Supported,15,16,17,1
  Mon Sep 27 2021  9:39                                                Page 27


  1385                        	.eos
  1386                        	.stag	fake120_,16,120
  1387                        	.member	SupportsTrim,0,16,17,1
  1388                        	.member	Reserved0,1,16,17,15
  1389                        	.eos
  1390                        	.stag	fake121_,16,121
  1391                        	.member	Supported,0,16,17,1
  1392                        	.member	Reserved0,1,16,17,1
  1393                        	.member	WriteSameSuported,2,16,17,1
  1394                        	.member	ErrorRecoveryControlSupported,3,16,17,1
  1395                        	.member	FeatureControlSuported,4,16,17,1
  1396                        	.member	DataTablesSuported,5,16,17,1
  1397                        	.member	Reserved1,6,16,17,6
  1398                        	.member	VendorSpecific,12,16,17,4
  1399                        	.eos
  1400                        	.stag	fake122_,16,122
  1401                        	.member	AlignmentOfLogicalWithinPhysical,0,16,17
                    ,14
  1402                        	.member	Word209Supported,14,16,17,1
  1403                        	.member	Reserved0,15,16,17,1
  1404                        	.eos
  1405                        	.stag	fake123_,16,123
  1406                        	.member	NVCachePowerModeEnabled,0,16,17,1
  1407                        	.member	Reserved0,1,16,17,3
  1408                        	.member	NVCacheFeatureSetEnabled,4,16,17,1
  1409                        	.member	Reserved1,5,16,17,3
  1410                        	.member	NVCachePowerModeVersion,8,16,17,4
  1411                        	.member	NVCacheFeatureSetVersion,12,16,17,4
  1412                        	.eos
  1413                        	.stag	fake124_,16,124
  1414                        	.member	NVCacheEstimatedTimeToSpinUpInSeconds,0,
                    14,8,8
  1415                        	.member	Reserved,8,14,8,8
  1416                        	.eos
  1417                        	.stag	fake125_,16,125
  1418                        	.member	MajorVersion,0,16,17,12
  1419                        	.member	TransportType,12,16,17,4
  1420                        	.eos
  1421                        	.stag	_IDENTIFY_DEVICE_DATA,4096,126
  1422                        	.member	GeneralConfiguration,0,10,8,16,104
  1423                        	.member	NumCylinders,16,16,8,16
  1424                        	.member	SpecificConfiguration,32,16,8,16
  1425                        	.member	NumHeads,48,16,8,16
  1426                        	.member	Retired1Bytes,64,110,8,0,4
  1427                        	.member	NumSectorsPerTrack,96,16,8,16
  1428                        	.member	VendorUnique1Bytes,112,110,8,0,6
  1429                        	.member	SerialNumber,160,110,8,0,20
  1430                        	.member	Retired2,320,112,8,0,2
  1431                        	.member	Obsolete1,352,16,8,16
  1432                        	.member	FirmwareRevision,368,110,8,0,8
  1433                        	.member	ModelNumber,432,110,8,0,40
  1434                        	.member	MaximumBlockTransfer,752,14,8,8
  1435                        	.member	VendorUnique2,760,14,8,8
  1436                        	.member	TrustedComputing,768,10,8,16,105
  1437                        	.member	Capabilities,784,10,8,32,106
  1438                        	.member	ObsoleteWords51,816,112,8,0,2
  1439                        	.member	TranslationFieldsValid,848,16,17,3
  1440                        	.member	Reserved3,851,16,17,5
  Mon Sep 27 2021  9:39                                                Page 28


  1441                        	.member	FreeFallControlSensitivity,856,16,17,8
  1442                        	.member	NumberOfCurrentCylinders,864,16,8,16
  1443                        	.member	NumberOfCurrentHeads,880,16,8,16
  1444                        	.member	CurrentSectorsPerTrack,896,16,8,16
  1445                        	.member	CurrentSectorCapacity,912,18,8,32
  1446                        	.member	CurrentMultiSectorSetting,944,14,8,8
  1447                        	.member	MultiSectorSettingValid,952,14,17,1
  1448                        	.member	ReservedByte59,953,14,17,3
  1449                        	.member	SanitizeFeatureSupported,956,14,17,1
  1450                        	.member	CryptoScrambleExtCommandSupported,957,14
                    ,17,1
  1451                        	.member	OverwriteExtCommandSupported,958,14,17,1
  1452                        	.member	BlockEraseExtCommandSupported,959,14,17,
                    1
  1453                        	.member	UserAddressableSectors,960,18,8,32
  1454                        	.member	ObsoleteWord62,992,16,8,16
  1455                        	.member	MultiWordDMASupport,1008,16,17,8
  1456                        	.member	MultiWordDMAActive,1016,16,17,8
  1457                        	.member	AdvancedPIOModes,1024,16,17,8
  1458                        	.member	ReservedByte64,1032,16,17,8
  1459                        	.member	MinimumMWXferCycleTime,1040,16,8,16
  1460                        	.member	RecommendedMWXferCycleTime,1056,16,8,16
  1461                        	.member	MinimumPIOCycleTime,1072,16,8,16
  1462                        	.member	MinimumPIOCycleTimeIORDY,1088,16,8,16
  1463                        	.member	AdditionalSupported,1104,10,8,16,107
  1464                        	.member	ReservedWords70,1120,112,8,0,5
  1465                        	.member	QueueDepth,1200,16,17,5
  1466                        	.member	ReservedWord75,1205,16,17,11
  1467                        	.member	SerialAtaCapabilities,1216,10,8,32,108
  1468                        	.member	SerialAtaFeaturesSupported,1248,10,8,16,
                    109
  1469                        	.member	SerialAtaFeaturesEnabled,1264,10,8,16,11
                    0
  1470                        	.member	MajorRevision,1280,16,8,16
  1471                        	.member	MinorRevision,1296,16,8,16
  1472                        	.member	CommandSetSupport,1312,10,8,48,111
  1473                        	.member	CommandSetActive,1360,10,8,48,112
  1474                        	.member	UltraDMASupport,1408,16,17,8
  1475                        	.member	UltraDMAActive,1416,16,17,8
  1476                        	.member	NormalSecurityEraseUnit,1424,10,8,16,113
  1477                        	.member	EnhancedSecurityEraseUnit,1440,10,8,16,1
                    14
  1478                        	.member	CurrentAPMLevel,1456,16,17,8
  1479                        	.member	ReservedWord91,1464,16,17,8
  1480                        	.member	MasterPasswordID,1472,16,8,16
  1481                        	.member	HardwareResetResult,1488,16,8,16
  1482                        	.member	CurrentAcousticValue,1504,16,17,8
  1483                        	.member	RecommendedAcousticValue,1512,16,17,8
  1484                        	.member	StreamMinRequestSize,1520,16,8,16
  1485                        	.member	StreamingTransferTimeDMA,1536,16,8,16
  1486                        	.member	StreamingAccessLatencyDMAPIO,1552,16,8,1
                    6
  1487                        	.member	StreamingPerfGranularity,1568,18,8,32
  1488                        	.member	Max48BitLBA,1600,114,8,0,2
  1489                        	.member	StreamingTransferTime,1664,16,8,16
  1490                        	.member	DsmCap,1680,16,8,16
  1491                        	.member	PhysicalLogicalSectorSize,1696,10,8,16,1
                    15
  Mon Sep 27 2021  9:39                                                Page 29


  1492                        	.member	InterSeekDelay,1712,16,8,16
  1493                        	.member	WorldWideName,1728,112,8,0,4
  1494                        	.member	ReservedForWorldWideName128,1792,112,8,0
                    ,4
  1495                        	.member	ReservedForTlcTechnicalReport,1856,16,8,
                    16
  1496                        	.member	WordsPerLogicalSector,1872,112,8,0,2
  1497                        	.member	CommandSetSupportExt,1904,10,8,16,116
  1498                        	.member	CommandSetActiveExt,1920,10,8,16,117
  1499                        	.member	ReservedForExpandedSupportandActive,1936
                    ,112,8,0,6
  1500                        	.member	MsnSupport,2032,16,17,2
  1501                        	.member	ReservedWord127,2034,16,17,14
  1502                        	.member	SecurityStatus,2048,10,8,16,118
  1503                        	.member	ReservedWord129,2064,112,8,0,31
  1504                        	.member	CfaPowerMode1,2560,10,8,16,119
  1505                        	.member	ReservedForCfaWord161,2576,112,8,0,7
  1506                        	.member	NominalFormFactor,2688,16,17,4
  1507                        	.member	ReservedWord168,2692,16,17,12
  1508                        	.member	DataSetManagementFeature,2704,10,8,16,12
                    0
  1509                        	.member	AdditionalProductID,2720,112,8,0,4
  1510                        	.member	ReservedForCfaWord174,2784,112,8,0,2
  1511                        	.member	CurrentMediaSerialNumber,2816,112,8,0,30
  1512                        	.member	SCTCommandTransport,3296,10,8,16,121
  1513                        	.member	ReservedWord207,3312,112,8,0,2
  1514                        	.member	BlockAlignment,3344,10,8,16,122
  1515                        	.member	WriteReadVerifySectorCountMode3Only,3360
                    ,112,8,0,2
  1516                        	.member	WriteReadVerifySectorCountMode2Only,3392
                    ,112,8,0,2
  1517                        	.member	NVCacheCapabilities,3424,10,8,16,123
  1518                        	.member	NVCacheSizeLSW,3440,16,8,16
  1519                        	.member	NVCacheSizeMSW,3456,16,8,16
  1520                        	.member	NominalMediaRotationRate,3472,16,8,16
  1521                        	.member	ReservedWord218,3488,16,8,16
  1522                        	.member	NVCacheOptions,3504,10,8,16,124
  1523                        	.member	WriteReadVerifySectorCountMode,3520,16,1
                    7,8
  1524                        	.member	ReservedWord220,3528,16,17,8
  1525                        	.member	ReservedWord221,3536,16,8,16
  1526                        	.member	TransportMajorVersion,3552,10,8,16,125
  1527                        	.member	TransportMinorVersion,3568,16,8,16
  1528                        	.member	ReservedWord224,3584,112,8,0,6
  1529                        	.member	ExtendedNumberOfUserAddressableSectors,3
                    680,114,8,0,2
  1530                        	.member	MinBlocksPerDownloadMicrocodeMode03,3744
                    ,16,8,16
  1531                        	.member	MaxBlocksPerDownloadMicrocodeMode03,3760
                    ,16,8,16
  1532                        	.member	ReservedWord236,3776,112,8,0,19
  1533                        	.member	Signature,4080,16,17,8
  1534                        	.member	CheckSum,4088,16,17,8
  1535                        	.eos
  1536                        	.stag	_FXDosDevice,5744,127
  1537                        	.member	type,0,14,8,8
  1538                        	.member	initialized,8,14,8,8
  1539                        	.member	devdata,16,129,8,32
  Mon Sep 27 2021  9:39                                                Page 30


  1540                        	.member	devstatus,48,14,8,8
  1541                        	.member	bootSector,56,10,8,928,97
  1542                        	.member	partitionTable,984,10,8,128,98
  1543                        	.member	fileAllocationTable,1112,110,8,0,512
  1544                        	.member	bsOffset,5208,18,8,32
  1545                        	.member	rootDirSectors,5240,18,8,32
  1546                        	.member	root_entry_count,5272,5,8,16
  1547                        	.member	rootEntriesPerPage,5288,5,8,16
  1548                        	.member	sectors_per_cluster,5304,5,8,16
  1549                        	.member	firstDataSector,5320,18,8,32
  1550                        	.member	fatTableOffset,5352,18,8,32
  1551                        	.member	volume_name,5384,110,8,0,12
  1552                        	.member	root_volume_name,5480,110,8,0,12
  1553                        	.member	errorCode,5576,14,8,8
  1554                        	.member	pfInit,5584,641,8,32
  1555                        	.member	pfReset,5616,641,8,32
  1556                        	.member	pfUninit,5648,641,8,32
  1557                        	.member	pfReader,5680,654,8,32
  1558                        	.member	pfWriter,5712,654,8,32
  1559                        	.eos
  1560                        	.utag	item,32,128
  1561                        	.member	dir,0,138,11,32,87
  1562                        	.member	file,0,138,11,32,86
  1563                        	.member	fileInfo,0,138,11,32,88
  1564                        	.eos
  1565                        	.stag	_dos_handle,80,129
  1566                        	.member	fs,0,138,8,32,84
  1567                        	.member	fr,32,5,8,16
  1568                        	.member	path,48,142,8,32
  1569                        	.eos
  1570                        	.stag	fx_file,112,130
  1571                        	.member	fs,0,138,8,32,84
  1572                        	.member	fileInfo,32,138,8,32,88
  1573                        	.member	f,64,138,8,32,86
  1574                        	.member	fr,96,5,8,16
  1575                        	.eos
  1576                        	.line	812
  1577                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxgfx.c",7
  1578                        ;
  1579                        ;
  1580                        ;#define BITMAP_SEG0   ((char FAR*)0xB00000)
  1581                        ;#define BITMAP_SEG1   ((char FAR*)0xB10000)
  1582                        ;#define BITMAP_SEG2   ((char FAR*)0xB20000)
  1583                        ;#define BITMAP_SEG3   ((char FAR*)0xB30000)
  1584                        ;#define BITMAP_SEG4   ((char FAR*)0xB40000)
  1585                        ;
  1586                        ;#define BITMAP0_SEG0   ((char FAR*)0xB00000)
  1587                        ;#define BITMAP0_SEG1   ((char FAR*)0xB10000)
  1588                        ;#define BITMAP0_SEG2   ((char FAR*)0xB20000)
  1589                        ;#define BITMAP0_SEG3   ((char FAR*)0xB30000)
  1590                        ;#define BITMAP0_SEG4   ((char FAR*)0xB40000)
  1591                        ;#define BITMAP1_SEG0   ((char FAR*)0xB00000)
  1592                        ;#define BITMAP1_SEG1   ((char FAR*)0xB10000)
  1593                        ;#define BITMAP1_SEG2   ((char FAR*)0xB20000)
  1594                        ;#define BITMAP1_SEG3   ((char FAR*)0xB30000)
  1595                        ;#define BITMAP1_SEG4   ((char FAR*)0xB40000)
  1596                        ;
  Mon Sep 27 2021  9:39                                                Page 31


  1597                        ;#define GUI_POINT_LIMIT_X_LO  	(0)
  1598                        ;#define GUI_POINT_LIMIT_Y_LO  	(0)
  1599                        ;
  1600                        ;#define GUI_POINT_LIMIT_X_HI  	(640)
  1601                        ;#define GUI_POINT_LIMIT_Y_HI  	(480)
  1602                        ;
  1603                        ;#define GUI_POINT_LIMIT_X_HIX  	(800)
  1604                        ;#define GUI_POINT_LIMIT_Y_HIX  	(600)
  1605                        ;
  1606                        ;//#define GUI_POINT_LIMIT_X_HI  	(639)
  1607                        ;//#define GUI_POINT_LIMIT_Y_HI  	(479)
  1608                        ;
  1609                        ;static CHAR FAR TEXT_CAPTION_BLOCK[] = {0x00};
  1610                        	data
  1611                        ~~TEXT_CAPTION_BLOCK:
  1612 00:0000: 00           	db	$0
  1613 00:0001:              	ends
  1614                        ;
  1615                        ;static LPSTR TITLE_LINES_640x480 = NULL;
  1616                        	data
  1617                        ~~TITLE_LINES_640x480:
  1618 00:0001: 00 00 00 00  	dl	$0
  1619 00:0005:              	ends
  1620                        ;
  1621                        ;static CHAR FAR TEXT_FG_COLORS[] =
  1622                        	data
  1623                        ~~TEXT_FG_COLORS:
  1624                        ;{
  1625                        ;	0x00,0x00,0x00,0xFF,
  1626 00:0005: 00 00 00 FF  	db	$0,$0,$0,$FF
  1627                        ;	0x00,0x00,0x80,0xFF,
  1628 00:0009: 00 00 80 FF  	db	$0,$0,$80,$FF
  1629                        ;	0x00,0x80,0x00,0xFF,
  1630 00:000D: 00 80 00 FF  	db	$0,$80,$0,$FF
  1631                        ;	0x80,0x00,0x00,0xFF,
  1632 00:0011: 80 00 00 FF  	db	$80,$0,$0,$FF
  1633                        ;	0x00,0x80,0x80,0xFF,
  1634 00:0015: 00 80 80 FF  	db	$0,$80,$80,$FF
  1635                        ;	0x80,0x80,0x00,0xFF,
  1636 00:0019: 80 80 00 FF  	db	$80,$80,$0,$FF
  1637                        ;	0x80,0x00,0x80,0xFF,
  1638 00:001D: 80 00 80 FF  	db	$80,$0,$80,$FF
  1639                        ;	0x80,0x80,0x80,0xFF,
  1640 00:0021: 80 80 80 FF  	db	$80,$80,$80,$FF
  1641                        ;	0x00,0x45,0xFF,0xFF,
  1642 00:0025: 00 45 FF FF  	db	$0,$45,$FF,$FF
  1643                        ;	0x13,0x45,0x8B,0xFF,
  1644 00:0029: 13 45 8B FF  	db	$13,$45,$8B,$FF
  1645                        ;	0x00,0x00,0x20,0xFF,
  1646 00:002D: 00 00 20 FF  	db	$0,$0,$20,$FF
  1647                        ;	0x00,0x20,0x00,0xFF,
  1648 00:0031: 00 20 00 FF  	db	$0,$20,$0,$FF
  1649                        ;	0x20,0x00,0x00,0xFF,
  1650 00:0035: 20 00 00 FF  	db	$20,$0,$0,$FF
  1651                        ;	0x20,0x20,0x20,0xFF,
  1652 00:0039: 20 20 20 FF  	db	$20,$20,$20,$FF
  1653                        ;	0x40,0x40,0x40,0xFF,
  1654 00:003D: 40 40 40 FF  	db	$40,$40,$40,$FF
  Mon Sep 27 2021  9:39                                                Page 32


  1655                        ;	0xFF,0xFF,0xFF,0xFF,
  1656 00:0041: FF FF FF FF  	db	$FF,$FF,$FF,$FF
  1657                        ;
  1658                        ;};
  1659 00:0045:              	ends
  1660                        ;
  1661                        ;static CHAR FAR TEXT_BG_COLORS[] =
  1662                        	data
  1663                        ~~TEXT_BG_COLORS:
  1664                        ;{
  1665                        ;
  1666                        ;	0x00,0x00,0x00,0xFF,
  1667 00:0045: 00 00 00 FF  	db	$0,$0,$0,$FF
  1668                        ;	0x00,0x00,0x80,0xFF,
  1669 00:0049: 00 00 80 FF  	db	$0,$0,$80,$FF
  1670                        ;	0x00,0x80,0x00,0xFF,
  1671 00:004D: 00 80 00 FF  	db	$0,$80,$0,$FF
  1672                        ;	0x80,0x00,0x00,0xFF,
  1673 00:0051: 80 00 00 FF  	db	$80,$0,$0,$FF
  1674                        ;	0x00,0x20,0x20,0xFF,
  1675 00:0055: 00 20 20 FF  	db	$0,$20,$20,$FF
  1676                        ;	0x20,0x20,0x00,0xFF,
  1677 00:0059: 20 20 00 FF  	db	$20,$20,$0,$FF
  1678                        ;	0x20,0x00,0x20,0xFF,
  1679 00:005D: 20 00 20 FF  	db	$20,$0,$20,$FF
  1680                        ;	0x20,0x20,0x20,0xFF,
  1681 00:0061: 20 20 20 FF  	db	$20,$20,$20,$FF
  1682                        ;	0x1E,0x69,0xD2,0xFF,
  1683 00:0065: 1E 69 D2 FF  	db	$1E,$69,$D2,$FF
  1684                        ;	0x13,0x45,0x8B,0xFF,
  1685 00:0069: 13 45 8B FF  	db	$13,$45,$8B,$FF
  1686                        ;	0x00,0x00,0x20,0xFF,
  1687 00:006D: 00 00 20 FF  	db	$0,$0,$20,$FF
  1688                        ;	0x00,0x20,0x00,0xFF,
  1689 00:0071: 00 20 00 FF  	db	$0,$20,$0,$FF
  1690                        ;	0x40,0x00,0x00,0xFF,
  1691 00:0075: 40 00 00 FF  	db	$40,$0,$0,$FF
  1692                        ;	0x10,0x10,0x10,0xFF,
  1693 00:0079: 10 10 10 FF  	db	$10,$10,$10,$FF
  1694                        ;	0x40,0x40,0x40,0xFF,
  1695 00:007D: 40 40 40 FF  	db	$40,$40,$40,$FF
  1696                        ;	0xFF,0xFF,0xFF,0xFF,
  1697 00:0081: FF FF FF FF  	db	$FF,$FF,$FF,$FF
  1698                        ;};
  1699 00:0085:              	ends
  1700                        ;
  1701                        ;CHAR FAR MOUSE_POINTER_HELP[] =
  1702                        	data
  1703                        	xdef	~~MOUSE_POINTER_HELP
  1704                        ~~MOUSE_POINTER_HELP:
  1705                        ;{
  1706                        ;	0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x0
                    1,0x01,0x01,0x00,0x00,0x00,0x00,
  1707 00:0085: 00 00 00 01  	db	$0,$0,$0,$1,$1,$1,$1,$1,$1,$1
       00:0089: 01 01 01 01 
       00:008D: 01 01 
  1708 00:008F: 01 01 00 00  	db	$1,$1,$0,$0,$0,$0
       00:0093: 00 00 
  Mon Sep 27 2021  9:39                                                Page 33


  1709                        ;	0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0x01,0x00,0x00,0x00,
  1710 00:0095: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0099: FF FF FF FF 
       00:009D: FF FF 
  1711 00:009F: FF FF 01 00  	db	$FF,$FF,$1,$0,$0,$0
       00:00A3: 00 00 
  1712                        ;	0x00,0x01,0xFF,0xFF,0xFF,0x01,0x01,0x01,0x01,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  1713 00:00A5: 00 01 FF FF  	db	$0,$1,$FF,$FF,$FF,$1,$1,$1,$1,$1
       00:00A9: FF 01 01 01 
       00:00AD: 01 01 
  1714 00:00AF: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00B3: 00 00 
  1715                        ;	0x00,0x01,0xFF,0xFF,0x01,0x01,0x00,0x00,0x00,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  1716 00:00B5: 00 01 FF FF  	db	$0,$1,$FF,$FF,$1,$1,$0,$0,$0,$1
       00:00B9: 01 01 00 00 
       00:00BD: 00 01 
  1717 00:00BF: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00C3: 00 00 
  1718                        ;	0x00,0x01,0xFF,0xFF,0x01,0x00,0x00,0x00,0x00,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  1719 00:00C5: 00 01 FF FF  	db	$0,$1,$FF,$FF,$1,$0,$0,$0,$0,$1
       00:00C9: 01 00 00 00 
       00:00CD: 00 01 
  1720 00:00CF: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00D3: 00 00 
  1721                        ;	0x00,0x01,0xFF,0xFF,0x01,0x00,0x00,0x00,0x00,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  1722 00:00D5: 00 01 FF FF  	db	$0,$1,$FF,$FF,$1,$0,$0,$0,$0,$1
       00:00D9: 01 00 00 00 
       00:00DD: 00 01 
  1723 00:00DF: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00E3: 00 00 
  1724                        ;	0x00,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x0
                    1,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  1725 00:00E5: 00 01 01 01  	db	$0,$1,$1,$1,$1,$0,$0,$0,$0,$1
       00:00E9: 01 00 00 00 
       00:00ED: 00 01 
  1726 00:00EF: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:00F3: 00 00 
  1727                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0xF
                    F,0xFF,0xFF,0x01,0x00,0x00,0x00,
  1728 00:00F5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$1,$1,$FF
       00:00F9: 00 00 00 01 
       00:00FD: 01 FF 
  1729 00:00FF: FF FF 01 00  	db	$FF,$FF,$1,$0,$0,$0
       00:0103: 00 00 
  1730                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xF
                    F,0xFF,0x01,0x00,0x00,0x00,0x00,
  1731 00:0105: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$1,$FF,$FF
       00:0109: 00 00 00 01 
       00:010D: FF FF 
  1732 00:010F: FF 01 00 00  	db	$FF,$1,$0,$0,$0,$0
       00:0113: 00 00 
  1733                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0xFF,0xF
                    F,0xFF,0x00,0x00,0x00,0x00,0x00,
  Mon Sep 27 2021  9:39                                                Page 34


  1734 00:0115: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$1,$1,$FF,$FF
       00:0119: 00 01 01 01 
       00:011D: FF FF 
  1735 00:011F: FF 00 00 00  	db	$FF,$0,$0,$0,$0,$0
       00:0123: 00 00 
  1736                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0x0
                    1,0x01,0x00,0x00,0x00,0x00,0x00,
  1737 00:0125: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$FF,$FF,$1
       00:0129: 00 01 FF FF 
       00:012D: FF 01 
  1738 00:012F: 01 00 00 00  	db	$1,$0,$0,$0,$0,$0
       00:0133: 00 00 
  1739                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0x0
                    1,0x00,0x00,0x00,0x00,0x00,0x00,
  1740 00:0135: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$FF,$FF,$1
       00:0139: 00 01 FF FF 
       00:013D: FF 01 
  1741 00:013F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0143: 00 00 
  1742                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1743 00:0145: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$1,$1,$0
       00:0149: 00 00 01 01 
       00:014D: 01 00 
  1744 00:014F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0153: 00 00 
  1745                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0x0
                    1,0x00,0x00,0x00,0x00,0x00,0x00,
  1746 00:0155: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$FF,$FF,$1
       00:0159: 00 01 FF FF 
       00:015D: FF 01 
  1747 00:015F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0163: 00 00 
  1748                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0x0
                    1,0x00,0x00,0x00,0x00,0x00,0x00,
  1749 00:0165: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$FF,$FF,$1
       00:0169: 00 01 FF FF 
       00:016D: FF 01 
  1750 00:016F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0173: 00 00 
  1751                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x0
                    1,0x00,0x00,0x00,0x00,0x00,0x00
  1752 00:0175: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$1,$1,$1,$1
       00:0179: 00 01 01 01 
       00:017D: 01 01 
  1753 00:017F: 00 00 00 00  	db	$0,$0,$0,$0,$0
       00:0183: 00 
  1754                        ;};
  1755 00:0184: 00           	db	$0
  1756 00:0185:              	ends
  1757                        ;
  1758                        ;CHAR FAR MOUSE_POINTER_HOURGLASS[] =
  1759                        	data
  1760                        	xdef	~~MOUSE_POINTER_HOURGLASS
  1761                        ~~MOUSE_POINTER_HOURGLASS:
  1762                        ;{
  1763                        ;		0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,
                    0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,
  Mon Sep 27 2021  9:39                                                Page 35


  1764 00:0185: 00 00 01 01  	db	$0,$0,$1,$1,$1,$1,$1,$1,$1,$1
       00:0189: 01 01 01 01 
       00:018D: 01 01 
  1765 00:018F: 01 01 01 01  	db	$1,$1,$1,$1,$0,$0
       00:0193: 00 00 
  1766                        ;		0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,
                    0xFF,0xFF,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  1767 00:0195: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0199: FF FF FF FF 
       00:019D: FF FF 
  1768 00:019F: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:01A3: 00 00 
  1769                        ;		0x00,0x00,0x01,0x01,0xFF,0x55,0x55,0x55,
                    0x55,0x55,0x55,0xFF,0x01,0x00,0x00,0x00,
  1770 00:01A5: 00 00 01 01  	db	$0,$0,$1,$1,$FF,$55,$55,$55,$55,$55
       00:01A9: FF 55 55 55 
       00:01AD: 55 55 
  1771 00:01AF: 55 FF 01 00  	db	$55,$FF,$1,$0,$0,$0
       00:01B3: 00 00 
  1772                        ;		0x00,0x00,0x00,0x01,0xFF,0xFF,0x55,0x55,
                    0x55,0x55,0xFF,0xFF,0x01,0x00,0x00,0x00,
  1773 00:01B5: 00 00 00 01  	db	$0,$0,$0,$1,$FF,$FF,$55,$55,$55,$55
       00:01B9: FF FF 55 55 
       00:01BD: 55 55 
  1774 00:01BF: FF FF 01 00  	db	$FF,$FF,$1,$0,$0,$0
       00:01C3: 00 00 
  1775                        ;		0x00,0x00,0x00,0x00,0x01,0xFF,0xFF,0x55,
                    0x55,0xFF,0xFF,0x01,0x00,0x00,0x00,0x00,
  1776 00:01C5: 00 00 00 00  	db	$0,$0,$0,$0,$1,$FF,$FF,$55,$55,$FF
       00:01C9: 01 FF FF 55 
       00:01CD: 55 FF 
  1777 00:01CF: FF 01 00 00  	db	$FF,$1,$0,$0,$0,$0
       00:01D3: 00 00 
  1778                        ;		0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0x55,
                    0x55,0xFF,0x01,0x00,0x00,0x00,0x00,0x00,
  1779 00:01D5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$55,$55,$FF
       00:01D9: 00 01 FF 55 
       00:01DD: 55 FF 
  1780 00:01DF: 01 00 00 00  	db	$1,$0,$0,$0,$0,$0
       00:01E3: 00 00 
  1781                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,
                    0x55,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
  1782 00:01E5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$FF,$55,$1
       00:01E9: 00 00 01 FF 
       00:01ED: 55 01 
  1783 00:01EF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:01F3: 00 00 
  1784                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x55,
                    0xFF,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
  1785 00:01F5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$55,$FF,$1
       00:01F9: 00 00 01 55 
       00:01FD: FF 01 
  1786 00:01FF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0203: 00 00 
  1787                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,
                    0x55,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
  1788 00:0205: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$FF,$55,$1
       00:0209: 00 00 01 FF 
  Mon Sep 27 2021  9:39                                                Page 36


       00:020D: 55 01 
  1789 00:020F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0213: 00 00 
  1790                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x55,
                    0xFF,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
  1791 00:0215: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$55,$FF,$1
       00:0219: 00 00 01 55 
       00:021D: FF 01 
  1792 00:021F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0223: 00 00 
  1793                        ;		0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,
                    0x55,0x01,0x00,0x00,0x00,0x00,0x00,0x00,
  1794 00:0225: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$1,$FF,$55,$1
       00:0229: 00 00 01 FF 
       00:022D: 55 01 
  1795 00:022F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0233: 00 00 
  1796                        ;		0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0x55,
                    0xFF,0xFF,0x01,0x00,0x00,0x00,0x00,0x00,
  1797 00:0235: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$FF,$55,$FF,$FF
       00:0239: 00 01 FF 55 
       00:023D: FF FF 
  1798 00:023F: 01 00 00 00  	db	$1,$0,$0,$0,$0,$0
       00:0243: 00 00 
  1799                        ;		0x00,0x00,0x00,0x00,0x01,0xFF,0x55,0x55,
                    0x55,0x55,0xFF,0x01,0x00,0x00,0x00,0x00,
  1800 00:0245: 00 00 00 00  	db	$0,$0,$0,$0,$1,$FF,$55,$55,$55,$55
       00:0249: 01 FF 55 55 
       00:024D: 55 55 
  1801 00:024F: FF 01 00 00  	db	$FF,$1,$0,$0,$0,$0
       00:0253: 00 00 
  1802                        ;		0x00,0x00,0x01,0x01,0xFF,0x55,0x55,0x55,
                    0x55,0x55,0x55,0xFF,0x01,0x00,0x00,0x00,
  1803 00:0255: 00 00 01 01  	db	$0,$0,$1,$1,$FF,$55,$55,$55,$55,$55
       00:0259: FF 55 55 55 
       00:025D: 55 55 
  1804 00:025F: 55 FF 01 00  	db	$55,$FF,$1,$0,$0,$0
       00:0263: 00 00 
  1805                        ;		0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,
                    0xFF,0xFF,0xFF,0xFF,0xFF,0x01,0x00,0x00,
  1806 00:0265: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:0269: FF FF FF FF 
       00:026D: FF FF 
  1807 00:026F: FF FF FF 01  	db	$FF,$FF,$FF,$1,$0,$0
       00:0273: 00 00 
  1808                        ;		0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,
                    0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00
  1809 00:0275: 00 00 01 01  	db	$0,$0,$1,$1,$1,$1,$1,$1,$1,$1
       00:0279: 01 01 01 01 
       00:027D: 01 01 
  1810 00:027F: 01 01 01 01  	db	$1,$1,$1,$1,$0
       00:0283: 00 
  1811                        ;};
  1812 00:0284: 00           	db	$0
  1813 00:0285:              	ends
  1814                        ;
  1815                        ;CHAR FAR MOUSE_POINTER_ARROW[] =
  1816                        	data
  Mon Sep 27 2021  9:39                                                Page 37


  1817                        	xdef	~~MOUSE_POINTER_ARROW
  1818                        ~~MOUSE_POINTER_ARROW:
  1819                        ;{
  1820                        ;	0xFF,0x55,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1821 00:0285: FF 55 00 00  	db	$FF,$55,$0,$0,$0,$0,$0,$0,$0,$0
       00:0289: 00 00 00 00 
       00:028D: 00 00 
  1822 00:028F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0293: 00 00 
  1823                        ;	0x01,0xFF,0x55,0x55,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1824 00:0295: 01 FF 55 55  	db	$1,$FF,$55,$55,$0,$0,$0,$0,$0,$0
       00:0299: 00 00 00 00 
       00:029D: 00 00 
  1825 00:029F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02A3: 00 00 
  1826                        ;	0x00,0x01,0xFF,0xFF,0x55,0x55,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1827 00:02A5: 00 01 FF FF  	db	$0,$1,$FF,$FF,$55,$55,$0,$0,$0,$0
       00:02A9: 55 55 00 00 
       00:02AD: 00 00 
  1828 00:02AF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02B3: 00 00 
  1829                        ;	0x00,0x01,0xFF,0xFF,0xFF,0xFF,0x55,0x55,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1830 00:02B5: 00 01 FF FF  	db	$0,$1,$FF,$FF,$FF,$FF,$55,$55,$0,$0
       00:02B9: FF FF 55 55 
       00:02BD: 00 00 
  1831 00:02BF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02C3: 00 00 
  1832                        ;	0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,0x55,0x5
                    5,0x00,0x00,0x00,0x00,0x00,0x00,
  1833 00:02C5: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$55,$55
       00:02C9: FF FF FF FF 
       00:02CD: 55 55 
  1834 00:02CF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02D3: 00 00 
  1835                        ;	0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0x00,0x00,0x00,0x00,0x00,0x00,
  1836 00:02D5: 00 00 01 FF  	db	$0,$0,$1,$FF,$FF,$FF,$FF,$FF,$FF,$FF
       00:02D9: FF FF FF FF 
       00:02DD: FF FF 
  1837 00:02DF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02E3: 00 00 
  1838                        ;	0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1839 00:02E5: 00 00 00 01  	db	$0,$0,$0,$1,$FF,$FF,$FF,$FF,$0,$0
       00:02E9: FF FF FF FF 
       00:02ED: 00 00 
  1840 00:02EF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:02F3: 00 00 
  1841                        ;	0x00,0x00,0x00,0x01,0xFF,0xFF,0xFF,0xFF,0x55,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1842 00:02F5: 00 00 00 01  	db	$0,$0,$0,$1,$FF,$FF,$FF,$FF,$55,$0
       00:02F9: FF FF FF FF 
       00:02FD: 55 00 
  1843 00:02FF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
  Mon Sep 27 2021  9:39                                                Page 38


       00:0303: 00 00 
  1844                        ;	0x00,0x00,0x00,0x00,0x01,0xFF,0x00,0x01,0xFF,0x5
                    5,0x00,0x00,0x00,0x00,0x00,0x00,
  1845 00:0305: 00 00 00 00  	db	$0,$0,$0,$0,$1,$FF,$0,$1,$FF,$55
       00:0309: 01 FF 00 01 
       00:030D: FF 55 
  1846 00:030F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0313: 00 00 
  1847                        ;	0x00,0x00,0x00,0x00,0x01,0xFF,0x00,0x00,0x01,0xF
                    F,0x55,0x00,0x00,0x00,0x00,0x00,
  1848 00:0315: 00 00 00 00  	db	$0,$0,$0,$0,$1,$FF,$0,$0,$1,$FF
       00:0319: 01 FF 00 00 
       00:031D: 01 FF 
  1849 00:031F: 55 00 00 00  	db	$55,$0,$0,$0,$0,$0
       00:0323: 00 00 
  1850                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    1,0xFF,0x55,0x00,0x00,0x00,0x00,
  1851 00:0325: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$1
       00:0329: 00 00 00 00 
       00:032D: 00 01 
  1852 00:032F: FF 55 00 00  	db	$FF,$55,$0,$0,$0,$0
       00:0333: 00 00 
  1853                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x01,0xFF,0x00,0x00,0x00,0x00,
  1854 00:0335: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0339: 00 00 00 00 
       00:033D: 00 00 
  1855 00:033F: 01 FF 00 00  	db	$1,$FF,$0,$0,$0,$0
       00:0343: 00 00 
  1856                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1857 00:0345: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0349: 00 00 00 00 
       00:034D: 00 00 
  1858 00:034F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0353: 00 00 
  1859                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1860 00:0355: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0359: 00 00 00 00 
       00:035D: 00 00 
  1861 00:035F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0363: 00 00 
  1862                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1863 00:0365: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0369: 00 00 00 00 
       00:036D: 00 00 
  1864 00:036F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0373: 00 00 
  1865                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1866 00:0375: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0379: 00 00 00 00 
       00:037D: 00 00 
  1867 00:037F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0383: 00 00 
  1868                        ;};
  Mon Sep 27 2021  9:39                                                Page 39


  1869 00:0385:              	ends
  1870                        ;
  1871                        ;
  1872                        ;CHAR FAR MOUSE_POINTER_RESIZE[] =
  1873                        	data
  1874                        	xdef	~~MOUSE_POINTER_RESIZE
  1875                        ~~MOUSE_POINTER_RESIZE:
  1876                        ;{
  1877                        ;	0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1878 00:0385: FF FF FF FF  	db	$FF,$FF,$FF,$FF,$FF,$FF,$FF,$0,$0,$0
       00:0389: FF FF FF 00 
       00:038D: 00 00 
  1879 00:038F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0393: 00 00 
  1880                        ;	0xFF,0xFF,0x01,0x01,0x01,0x01,0x01,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1881 00:0395: FF FF 01 01  	db	$FF,$FF,$1,$1,$1,$1,$1,$0,$0,$0
       00:0399: 01 01 01 00 
       00:039D: 00 00 
  1882 00:039F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:03A3: 00 00 
  1883                        ;	0xFF,0x01,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1884 00:03A5: FF 01 FF 00  	db	$FF,$1,$FF,$0,$0,$0,$0,$0,$0,$0
       00:03A9: 00 00 00 00 
       00:03AD: 00 00 
  1885 00:03AF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:03B3: 00 00 
  1886                        ;	0xFF,0x01,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1887 00:03B5: FF 01 00 FF  	db	$FF,$1,$0,$FF,$0,$0,$0,$0,$0,$0
       00:03B9: 00 00 00 00 
       00:03BD: 00 00 
  1888 00:03BF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:03C3: 00 00 
  1889                        ;	0xFF,0x01,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1890 00:03C5: FF 01 00 00  	db	$FF,$1,$0,$0,$FF,$0,$0,$0,$0,$0
       00:03C9: FF 00 00 00 
       00:03CD: 00 00 
  1891 00:03CF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:03D3: 00 00 
  1892                        ;	0xFF,0x01,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x0
                    0,0x00,0xFF,0x01,0x00,0x00,0x00,
  1893 00:03D5: FF 01 00 00  	db	$FF,$1,$0,$0,$0,$FF,$0,$0,$0,$0
       00:03D9: 00 FF 00 00 
       00:03DD: 00 00 
  1894 00:03DF: 00 FF 01 00  	db	$0,$FF,$1,$0,$0,$0
       00:03E3: 00 00 
  1895                        ;	0xFF,0x01,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x0
                    0,0x00,0xFF,0x01,0x00,0x00,0x00,
  1896 00:03E5: FF 01 00 00  	db	$FF,$1,$0,$0,$0,$0,$FF,$0,$0,$0
       00:03E9: 00 00 FF 00 
       00:03ED: 00 00 
  1897 00:03EF: 00 FF 01 00  	db	$0,$FF,$1,$0,$0,$0
       00:03F3: 00 00 
  1898                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x0
  Mon Sep 27 2021  9:39                                                Page 40


                    0,0x00,0xFF,0x01,0x00,0x00,0x00,
  1899 00:03F5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$FF,$0,$0
       00:03F9: 00 00 00 FF 
       00:03FD: 00 00 
  1900 00:03FF: 00 FF 01 00  	db	$0,$FF,$1,$0,$0,$0
       00:0403: 00 00 
  1901                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x0
                    0,0x00,0xFF,0x01,0x00,0x00,0x00,
  1902 00:0405: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$FF,$0
       00:0409: 00 00 00 00 
       00:040D: FF 00 
  1903 00:040F: 00 FF 01 00  	db	$0,$FF,$1,$0,$0,$0
       00:0413: 00 00 
  1904                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF
                    F,0x00,0xFF,0x01,0x00,0x00,0x00,
  1905 00:0415: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$FF
       00:0419: 00 00 00 00 
       00:041D: 00 FF 
  1906 00:041F: 00 FF 01 00  	db	$0,$FF,$1,$0,$0,$0
       00:0423: 00 00 
  1907                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0xFF,0xFF,0x01,0x00,0x00,0x00,
  1908 00:0425: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0429: 00 00 00 00 
       00:042D: 00 00 
  1909 00:042F: FF FF 01 00  	db	$FF,$FF,$1,$0,$0,$0
       00:0433: 00 00 
  1910                        ;	0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0x01,0x00,0x00,0x00,
  1911 00:0435: 00 00 00 00  	db	$0,$0,$0,$0,$0,$FF,$FF,$FF,$FF,$FF
       00:0439: 00 FF FF FF 
       00:043D: FF FF 
  1912 00:043F: FF FF 01 00  	db	$FF,$FF,$1,$0,$0,$0
       00:0443: 00 00 
  1913                        ;	0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x0
                    1,0x01,0x01,0x01,0x00,0x00,0x00,
  1914 00:0445: 00 00 00 00  	db	$0,$0,$0,$0,$0,$1,$1,$1,$1,$1
       00:0449: 00 01 01 01 
       00:044D: 01 01 
  1915 00:044F: 01 01 01 00  	db	$1,$1,$1,$0,$0,$0
       00:0453: 00 00 
  1916                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1917 00:0455: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0459: 00 00 00 00 
       00:045D: 00 00 
  1918 00:045F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0463: 00 00 
  1919                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1920 00:0465: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0469: 00 00 00 00 
       00:046D: 00 00 
  1921 00:046F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0473: 00 00 
  1922                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1923 00:0475: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
  Mon Sep 27 2021  9:39                                                Page 41


       00:0479: 00 00 00 00 
       00:047D: 00 00 
  1924 00:047F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0483: 00 00 
  1925                        ;};
  1926 00:0485:              	ends
  1927                        ;
  1928                        ;/*
  1929                        ;CHAR FAR MOUSE_POINTER_RESIZE[] =
  1930                        ;{
  1931                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1932                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1933                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1934                        ;	0x00,0x00,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1935                        ;	0x00,0x00,0xFF,0xFF,0x01,0x01,0x01,0x01,0x01,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1936                        ;	0x00,0x00,0xFF,0x01,0xFF,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1937                        ;	0x00,0x00,0xFF,0x01,0x00,0xFF,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1938                        ;	0x00,0x00,0xFF,0x01,0x00,0x00,0xFF,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1939                        ;	0x00,0x00,0xFF,0x01,0x00,0x00,0x00,0xFF,0x00,0x0
                    0,0x00,0x00,0x00,0xFF,0x01,0x00,
  1940                        ;	0x00,0x00,0xFF,0x01,0x00,0x00,0x00,0x00,0xFF,0x0
                    0,0x00,0x00,0x00,0xFF,0x01,0x00,
  1941                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF
                    F,0x00,0x00,0x00,0xFF,0x01,0x00,
  1942                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0xFF,0x00,0x00,0xFF,0x01,0x00,
  1943                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0xFF,0x00,0xFF,0x01,0x00,
  1944                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0xFF,0xFF,0x01,0x00,
  1945                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xF
                    F,0xFF,0xFF,0xFF,0xFF,0x01,0x00,
  1946                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x0
                    1,0x01,0x01,0x01,0x01,0x01,0x00,
  1947                        ;};
  1948                        ; */
  1949                        ;
  1950                        ;CHAR FAR MOUSE_POINTER_EMPTY[] =
  1951                        	data
  1952                        	xdef	~~MOUSE_POINTER_EMPTY
  1953                        ~~MOUSE_POINTER_EMPTY:
  1954                        ;{
  1955                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1956 00:0485: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0489: 00 00 00 00 
       00:048D: 00 00 
  1957 00:048F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0493: 00 00 
  1958                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
  Mon Sep 27 2021  9:39                                                Page 42


                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1959 00:0495: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0499: 00 00 00 00 
       00:049D: 00 00 
  1960 00:049F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04A3: 00 00 
  1961                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1962 00:04A5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:04A9: 00 00 00 00 
       00:04AD: 00 00 
  1963 00:04AF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04B3: 00 00 
  1964                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1965 00:04B5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:04B9: 00 00 00 00 
       00:04BD: 00 00 
  1966 00:04BF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04C3: 00 00 
  1967                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1968 00:04C5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:04C9: 00 00 00 00 
       00:04CD: 00 00 
  1969 00:04CF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04D3: 00 00 
  1970                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1971 00:04D5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:04D9: 00 00 00 00 
       00:04DD: 00 00 
  1972 00:04DF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04E3: 00 00 
  1973                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1974 00:04E5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:04E9: 00 00 00 00 
       00:04ED: 00 00 
  1975 00:04EF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:04F3: 00 00 
  1976                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1977 00:04F5: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:04F9: 00 00 00 00 
       00:04FD: 00 00 
  1978 00:04FF: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0503: 00 00 
  1979                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1980 00:0505: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0509: 00 00 00 00 
       00:050D: 00 00 
  1981 00:050F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0513: 00 00 
  1982                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1983 00:0515: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
  Mon Sep 27 2021  9:39                                                Page 43


       00:0519: 00 00 00 00 
       00:051D: 00 00 
  1984 00:051F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0523: 00 00 
  1985                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1986 00:0525: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0529: 00 00 00 00 
       00:052D: 00 00 
  1987 00:052F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0533: 00 00 
  1988                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1989 00:0535: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0539: 00 00 00 00 
       00:053D: 00 00 
  1990 00:053F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0543: 00 00 
  1991                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1992 00:0545: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0549: 00 00 00 00 
       00:054D: 00 00 
  1993 00:054F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0553: 00 00 
  1994                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1995 00:0555: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0559: 00 00 00 00 
       00:055D: 00 00 
  1996 00:055F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0563: 00 00 
  1997                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00,
  1998 00:0565: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0569: 00 00 00 00 
       00:056D: 00 00 
  1999 00:056F: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0
       00:0573: 00 00 
  2000                        ;	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0
                    0,0x00,0x00,0x00,0x00,0x00,0x00
  2001 00:0575: 00 00 00 00  	db	$0,$0,$0,$0,$0,$0,$0,$0,$0,$0
       00:0579: 00 00 00 00 
       00:057D: 00 00 
  2002 00:057F: 00 00 00 00  	db	$0,$0,$0,$0,$0
       00:0583: 00 
  2003                        ;};
  2004 00:0584: 00           	db	$0
  2005 00:0585:              	ends
  2006                        ;
  2007                        ;static CHAR BG_FILL_LINE_ODD[] =
  2008                        	data
  2009                        ~~BG_FILL_LINE_ODD:
  2010                        ;{
  2011                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  2012 00:0585: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:0589: AA AA AA AA 
  2013                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  Mon Sep 27 2021  9:39                                                Page 44


  2014 00:058D: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:0591: AA AA AA AA 
  2015                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  2016 00:0595: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:0599: AA AA AA AA 
  2017                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  2018 00:059D: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:05A1: AA AA AA AA 
  2019                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  2020 00:05A5: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:05A9: AA AA AA AA 
  2021                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  2022 00:05AD: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:05B1: AA AA AA AA 
  2023                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  2024 00:05B5: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:05B9: AA AA AA AA 
  2025                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  2026 00:05BD: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:05C1: AA AA AA AA 
  2027                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,
  2028 00:05C5: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:05C9: AA AA AA AA 
  2029                        ;0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0xAA
  2030 00:05CD: AA AA AA AA  	db	$AA,$AA,$AA,$AA,$AA,$AA,$AA
       00:05D1: AA AA AA 
  2031                        ;};
  2032 00:05D4: AA           	db	$AA
  2033 00:05D5:              	ends
  2034                        ;
  2035                        ;static CHAR BG_FILL_LINE_EVEN[] =
  2036                        	data
  2037                        ~~BG_FILL_LINE_EVEN:
  2038                        ;{
  2039                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  2040 00:05D5: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:05D9: 55 55 55 55 
  2041                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  2042 00:05DD: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:05E1: 55 55 55 55 
  2043                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  2044 00:05E5: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:05E9: 55 55 55 55 
  2045                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  2046 00:05ED: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:05F1: 55 55 55 55 
  2047                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  2048 00:05F5: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:05F9: 55 55 55 55 
  2049                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  2050 00:05FD: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:0601: 55 55 55 55 
  2051                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  2052 00:0605: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:0609: 55 55 55 55 
  2053                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  2054 00:060D: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:0611: 55 55 55 55 
  Mon Sep 27 2021  9:39                                                Page 45


  2055                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
  2056 00:0615: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55,$55
       00:0619: 55 55 55 55 
  2057                        ;0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55
  2058 00:061D: 55 55 55 55  	db	$55,$55,$55,$55,$55,$55,$55
       00:0621: 55 55 55 
  2059                        ;};
  2060 00:0624: 55           	db	$55
  2061 00:0625:              	ends
  2062                        ;
  2063                        ;
  2064                        ;static CUR_PALETTE_MAP _k_currentPalatte;
  2065                        ;
  2066                        ;#define GRP_LUT_BASE_ADDR GRPH_LUT0_PTR
  2067                        ;
  2068                        ;#define GUI_CACHE_RESERVE1  (0)
  2069                        ;#define GUI_CACHE_RESERVE2  (2)
  2070                        ;#define GUI_CACHE_START     (4)
  2071                        ;#define GUI_CACHE_FRONT		((ULONG)0x000000
                    )
  2072                        ;#define GUI_CACHE_BACK		((ULONG)0x080000
                    )
  2073                        ;//#define GUI_CACHE_PAGE		((ULONG)0x100000
                    )
  2074                        ;// testing
  2075                        ;#define GUI_CACHE_PAGE		((ULONG)0x100000
                    )
  2076                        ;
  2077                        ;#define GUI_CACHE_WIDTH		(320)
  2078                        ;#define GUI_CACHE_HEIGHT	(16)
  2079                        ;//
  2080                        ;#define GUI_CACHE_SIZE		(60)
  2081                        ;#define GUI_CACHE_PAGE_OFFSET(s)   ((5120L * ((LO
                    NG)s - (LONG)(s % 2))) + 320L * (LONG)(s % 2))
  2082                        ;
  2083                        ;static BYTE _k_guiCacheSlots[GUI_CACHE_SIZE];
  2084                        ;
  2085                        ;VOID readBMP(LPCSTR path);
  2086                        ;VOID readBMPPalette(LPCSTR path);
  2087                        ;
  2088                        ;#pragma section CODE=GFX,offset $06:0000
  2089                        GFX	section	offset $06:0000
  2090 06:0000:              	ends
  2091                        ;
  2092                        ;PRECT k_new_RECT(LPCSTR name, int x,int y,int wid
                    th,int height, int z, int scaler)
  2093                        ;{
  2094                        	.line	263
  2095                        	.line	264
  2096                        	GFX
  2097                        	xdef	~~k_new_RECT
  2098                        	func
  2099                        	.function	264
  2100                        ~~k_new_RECT:
  2101                        	longa	on
  2102                        	longi	on
  2103 06:0000: 3B           	tsc
  2104 06:0001: 38           	sec
  Mon Sep 27 2021  9:39                                                Page 46


  2105 06:0002: E9 08 00     	sbc	#L2
  2106 06:0005: 1B           	tcs
  2107 06:0006: 0B           	phd
  2108 06:0007: 5B           	tcd
  2109             00000004   name_0	set	4
  2110             00000008   x_0	set	8
  2111             0000000A   y_0	set	10
  2112             0000000C   width_0	set	12
  2113             0000000E   height_0	set	14
  2114             00000010   z_0	set	16
  2115             00000012   scaler_0	set	18
  2116                        	.block	264
  2117                        ;	PRECT r = k_mem_allocate_heap(sizeof(RECT));
  2118                        ;	if(r)
  2119             00000000   r_1	set	0
  2120                        	.sym	r,0,138,1,32,26
  2121                        	.sym	name,4,142,6,32
  2122                        	.sym	x,8,5,6,16
  2123                        	.sym	y,10,5,6,16
  2124                        	.sym	width,12,5,6,16
  2125                        	.sym	height,14,5,6,16
  2126                        	.sym	z,16,5,6,16
  2127                        	.sym	scaler,18,5,6,16
  2128 06:0008: F4 00 00     	pea	#^$e
  2129 06:000B: F4 0E 00     	pea	#<$e
  2130 06:000E: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  2131 06:0012: 85 05        	sta	<L3+r_1
  2132 06:0014: 86 07        	stx	<L3+r_1+2
  2133                        	.line	266
  2134                        ;	{
  2135 06:0016: A5 05        	lda	<L3+r_1
  2136 06:0018: 05 07        	ora	<L3+r_1+2
  2137 06:001A: D0 03        	bne	L5
  2138 06:001C: 82 1A 00     	brl	L10001
  2139                        L5:
  2140                        	.line	267
  2141                        ;		r->z = z;
  2142                        	.line	268
  2143 06:001F: A0 00 00     	ldy	#$0
  2144 06:0022: A5 18        	lda	<L2+z_0
  2145 06:0024: 10 01        	bpl	L6
  2146 06:0026: 88           	dey
  2147                        L6:
  2148 06:0027: 85 01        	sta	<R0
  2149 06:0029: 84 03        	sty	<R0+2
  2150 06:002B: A5 01        	lda	<R0
  2151 06:002D: A0 04 00     	ldy	#$4
  2152 06:0030: 97 05        	sta	[<L3+r_1],Y
  2153 06:0032: A5 03        	lda	<R0+2
  2154 06:0034: A0 06 00     	ldy	#$6
  2155 06:0037: 97 05        	sta	[<L3+r_1],Y
  2156                        ;		//r->scaler = scaler;
  2157                        ;		r->x;
  2158                        	.line	270
  2159                        ;		r->y;
  2160                        	.line	271
  2161                        ;		r->width;
  2162                        	.line	272
  Mon Sep 27 2021  9:39                                                Page 47


  2163                        ;		r->height;
  2164                        	.line	273
  2165                        ;		/*
  2166                        ;		r->z = z;
  2167                        ;		r->scaler = scaler;
  2168                        ;		r->x/scaler+(i),
  2169                        ;		r->y/scaler+(j),
  2170                        ;		r->width/scaler - ((k + i)),
  2171                        ;		r->height/scaler - ((l + j)));
  2172                        ;		*/
  2173                        ;	}
  2174                        	.line	282
  2175                        ;	return r;
  2176                        L10001:
  2177                        	.line	283
  2178 06:0039: A6 07        	ldx	<L3+r_1+2
  2179 06:003B: A5 05        	lda	<L3+r_1
  2180                        L7:
  2181 06:003D: A8           	tay
  2182 06:003E: A5 0A        	lda	<L2+2
  2183 06:0040: 85 1A        	sta	<L2+2+16
  2184 06:0042: A5 09        	lda	<L2+1
  2185 06:0044: 85 19        	sta	<L2+1+16
  2186 06:0046: 2B           	pld
  2187 06:0047: 3B           	tsc
  2188 06:0048: 18           	clc
  2189 06:0049: 69 18 00     	adc	#L2+16
  2190 06:004C: 1B           	tcs
  2191 06:004D: 98           	tya
  2192 06:004E: 6B           	rtl
  2193                        ;}
  2194                        	.line	284
  2195                        	.endblock	284
  2196             00000008   L2	equ	8
  2197             00000005   L3	equ	5
  2198 06:004F:              	ends
  2199                        	efunc
  2200                        	.endfunc	284,5,8
  2201                        	.line	284
  2202                        ;
  2203                        ;PRECTP k_new_RECTP(LPCSTR name, int x,int y,int w
                    idth,int height)
  2204                        ;{
  2205                        	.line	286
  2206                        	.line	287
  2207                        	GFX
  2208                        	xdef	~~k_new_RECTP
  2209                        	func
  2210                        	.function	287
  2211                        ~~k_new_RECTP:
  2212                        	longa	on
  2213                        	longi	on
  2214 06:004F: 3B           	tsc
  2215 06:0050: 38           	sec
  2216 06:0051: E9 04 00     	sbc	#L8
  2217 06:0054: 1B           	tcs
  2218 06:0055: 0B           	phd
  2219 06:0056: 5B           	tcd
  Mon Sep 27 2021  9:39                                                Page 48


  2220             00000004   name_0	set	4
  2221             00000008   x_0	set	8
  2222             0000000A   y_0	set	10
  2223             0000000C   width_0	set	12
  2224             0000000E   height_0	set	14
  2225                        	.block	287
  2226                        ;	PRECTP r = k_mem_allocate_heap(sizeof(PRECTP));
  2227                        ;	if(r)
  2228             00000000   r_1	set	0
  2229                        	.sym	r,0,138,1,32,27
  2230                        	.sym	name,4,142,6,32
  2231                        	.sym	x,8,5,6,16
  2232                        	.sym	y,10,5,6,16
  2233                        	.sym	width,12,5,6,16
  2234                        	.sym	height,14,5,6,16
  2235 06:0057: F4 00 00     	pea	#^$4
  2236 06:005A: F4 04 00     	pea	#<$4
  2237 06:005D: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
  2238 06:0061: 85 01        	sta	<L9+r_1
  2239 06:0063: 86 03        	stx	<L9+r_1+2
  2240                        	.line	289
  2241                        ;	{
  2242 06:0065: A5 01        	lda	<L9+r_1
  2243 06:0067: 05 03        	ora	<L9+r_1+2
  2244 06:0069: D0 03        	bne	L11
  2245 06:006B: 82 22 00     	brl	L10002
  2246                        L11:
  2247                        	.line	290
  2248                        ;		r->topLeft.x = x;
  2249                        	.line	291
  2250 06:006E: A5 0C        	lda	<L8+x_0
  2251 06:0070: A0 04 00     	ldy	#$4
  2252 06:0073: 97 01        	sta	[<L9+r_1],Y
  2253                        ;		r->topLeft.y = y;
  2254                        	.line	292
  2255 06:0075: A5 0E        	lda	<L8+y_0
  2256 06:0077: A0 06 00     	ldy	#$6
  2257 06:007A: 97 01        	sta	[<L9+r_1],Y
  2258                        ;
  2259                        ;		r->bottomRight.x = x + width;
  2260                        	.line	294
  2261 06:007C: 18           	clc
  2262 06:007D: A5 0C        	lda	<L8+x_0
  2263 06:007F: 65 10        	adc	<L8+width_0
  2264 06:0081: A0 08 00     	ldy	#$8
  2265 06:0084: 97 01        	sta	[<L9+r_1],Y
  2266                        ;		r->bottomRight.y = y + height;
  2267                        	.line	295
  2268 06:0086: 18           	clc
  2269 06:0087: A5 0E        	lda	<L8+y_0
  2270 06:0089: 65 12        	adc	<L8+height_0
  2271 06:008B: A0 0A 00     	ldy	#$a
  2272 06:008E: 97 01        	sta	[<L9+r_1],Y
  2273                        ;	}
  2274                        	.line	296
  2275                        ;	return r;
  2276                        L10002:
  2277                        	.line	297
  Mon Sep 27 2021  9:39                                                Page 49


  2278 06:0090: A6 03        	ldx	<L9+r_1+2
  2279 06:0092: A5 01        	lda	<L9+r_1
  2280                        L12:
  2281 06:0094: A8           	tay
  2282 06:0095: A5 06        	lda	<L8+2
  2283 06:0097: 85 12        	sta	<L8+2+12
  2284 06:0099: A5 05        	lda	<L8+1
  2285 06:009B: 85 11        	sta	<L8+1+12
  2286 06:009D: 2B           	pld
  2287 06:009E: 3B           	tsc
  2288 06:009F: 18           	clc
  2289 06:00A0: 69 10 00     	adc	#L8+12
  2290 06:00A3: 1B           	tcs
  2291 06:00A4: 98           	tya
  2292 06:00A5: 6B           	rtl
  2293                        ;}
  2294                        	.line	298
  2295                        	.endblock	298
  2296             00000004   L8	equ	4
  2297             00000001   L9	equ	1
  2298 06:00A6:              	ends
  2299                        	efunc
  2300                        	.endfunc	298,1,4
  2301                        	.line	298
  2302                        ;
  2303                        ;/*
  2304                        ;RECT(r.name + "-child",
  2305                        ;							
                    r.x/RECT.scaler+(i),
  2306                        ;							
                    r.y/RECT.scaler+(j),
  2307                        ;							
                    r.width/RECT.scaler - ((k + i)),
  2308                        ;							
                    r.height/RECT.scaler - ((l + j)));
  2309                        ;*/
  2310                        ;VOID k_ToRECT(PRECTP prectp,PRECT prect,LPCSTR na
                    me)
  2311                        ;{
  2312                        	.line	307
  2313                        	.line	308
  2314                        	GFX
  2315                        	xdef	~~k_ToRECT
  2316                        	func
  2317                        	.function	308
  2318                        ~~k_ToRECT:
  2319                        	longa	on
  2320                        	longi	on
  2321 06:00A6: 3B           	tsc
  2322 06:00A7: 38           	sec
  2323 06:00A8: E9 00 00     	sbc	#L13
  2324 06:00AB: 1B           	tcs
  2325 06:00AC: 0B           	phd
  2326 06:00AD: 5B           	tcd
  2327             00000004   prectp_0	set	4
  2328             00000008   prect_0	set	8
  2329             0000000C   name_0	set	12
  2330                        	.block	308
  Mon Sep 27 2021  9:39                                                Page 50


  2331                        ;	if(prect && prectp)
  2332                        	.sym	prectp,4,138,6,32,27
  2333                        	.sym	prect,8,138,6,32,26
  2334                        	.sym	name,12,142,6,32
  2335                        	.line	309
  2336                        ;	{
  2337 06:00AE: A5 08        	lda	<L13+prect_0
  2338 06:00B0: 05 0A        	ora	<L13+prect_0+2
  2339 06:00B2: D0 03        	bne	L16
  2340 06:00B4: 82 3A 00     	brl	L10003
  2341                        L16:
  2342 06:00B7: A5 04        	lda	<L13+prectp_0
  2343 06:00B9: 05 06        	ora	<L13+prectp_0+2
  2344 06:00BB: D0 03        	bne	L17
  2345 06:00BD: 82 31 00     	brl	L10003
  2346                        L17:
  2347                        	.line	310
  2348                        ;
  2349                        ;		prect->x = prectp->topLeft.x;
  2350                        	.line	312
  2351 06:00C0: A0 04 00     	ldy	#$4
  2352 06:00C3: B7 04        	lda	[<L13+prectp_0],Y
  2353 06:00C5: 87 08        	sta	[<L13+prect_0]
  2354                        ;		prect->y = prectp->topLeft.y;
  2355                        	.line	313
  2356 06:00C7: A0 06 00     	ldy	#$6
  2357 06:00CA: B7 04        	lda	[<L13+prectp_0],Y
  2358 06:00CC: A0 02 00     	ldy	#$2
  2359 06:00CF: 97 08        	sta	[<L13+prect_0],Y
  2360                        ;
  2361                        ;		prect->width  = prectp->bottomRight.x - 
                    prectp->topLeft.x;
  2362                        	.line	315
  2363 06:00D1: 38           	sec
  2364 06:00D2: A0 08 00     	ldy	#$8
  2365 06:00D5: B7 04        	lda	[<L13+prectp_0],Y
  2366 06:00D7: A0 04 00     	ldy	#$4
  2367 06:00DA: F7 04        	sbc	[<L13+prectp_0],Y
  2368 06:00DC: A0 08 00     	ldy	#$8
  2369 06:00DF: 97 08        	sta	[<L13+prect_0],Y
  2370                        ;		prect->height = prectp->bottomRight.y - 
                    prectp->topLeft.y;
  2371                        	.line	316
  2372 06:00E1: 38           	sec
  2373 06:00E2: A0 0A 00     	ldy	#$a
  2374 06:00E5: B7 04        	lda	[<L13+prectp_0],Y
  2375 06:00E7: A0 06 00     	ldy	#$6
  2376 06:00EA: F7 04        	sbc	[<L13+prectp_0],Y
  2377 06:00EC: A0 0A 00     	ldy	#$a
  2378 06:00EF: 97 08        	sta	[<L13+prect_0],Y
  2379                        ;
  2380                        ;	}
  2381                        	.line	318
  2382                        ;}
  2383                        L10003:
  2384                        	.line	319
  2385                        L18:
  2386 06:00F1: A5 02        	lda	<L13+2
  Mon Sep 27 2021  9:39                                                Page 51


  2387 06:00F3: 85 0E        	sta	<L13+2+12
  2388 06:00F5: A5 01        	lda	<L13+1
  2389 06:00F7: 85 0D        	sta	<L13+1+12
  2390 06:00F9: 2B           	pld
  2391 06:00FA: 3B           	tsc
  2392 06:00FB: 18           	clc
  2393 06:00FC: 69 0C 00     	adc	#L13+12
  2394 06:00FF: 1B           	tcs
  2395 06:0100: 6B           	rtl
  2396                        	.endblock	319
  2397             00000000   L13	equ	0
  2398             00000001   L14	equ	1
  2399 06:0101:              	ends
  2400                        	efunc
  2401                        	.endfunc	319,1,0
  2402                        	.line	319
  2403                        ;
  2404                        ;VOID k_ToRECTP(PRECT pr,PRECTP prectp)
  2405                        ;{
  2406                        	.line	321
  2407                        	.line	322
  2408                        	GFX
  2409                        	xdef	~~k_ToRECTP
  2410                        	func
  2411                        	.function	322
  2412                        ~~k_ToRECTP:
  2413                        	longa	on
  2414                        	longi	on
  2415 06:0101: 3B           	tsc
  2416 06:0102: 38           	sec
  2417 06:0103: E9 00 00     	sbc	#L19
  2418 06:0106: 1B           	tcs
  2419 06:0107: 0B           	phd
  2420 06:0108: 5B           	tcd
  2421             00000004   pr_0	set	4
  2422             00000008   prectp_0	set	8
  2423                        	.block	322
  2424                        ;	if(pr && prectp)
  2425                        	.sym	pr,4,138,6,32,26
  2426                        	.sym	prectp,8,138,6,32,27
  2427                        	.line	323
  2428                        ;	{
  2429 06:0109: A5 04        	lda	<L19+pr_0
  2430 06:010B: 05 06        	ora	<L19+pr_0+2
  2431 06:010D: D0 03        	bne	L22
  2432 06:010F: 82 37 00     	brl	L10004
  2433                        L22:
  2434 06:0112: A5 08        	lda	<L19+prectp_0
  2435 06:0114: 05 0A        	ora	<L19+prectp_0+2
  2436 06:0116: D0 03        	bne	L23
  2437 06:0118: 82 2E 00     	brl	L10004
  2438                        L23:
  2439                        	.line	324
  2440                        ;		prectp->topLeft.x = pr->x;
  2441                        	.line	325
  2442 06:011B: A7 04        	lda	[<L19+pr_0]
  2443 06:011D: A0 04 00     	ldy	#$4
  2444 06:0120: 97 08        	sta	[<L19+prectp_0],Y
  Mon Sep 27 2021  9:39                                                Page 52


  2445                        ;		prectp->topLeft.y = pr->y;
  2446                        	.line	326
  2447 06:0122: A0 02 00     	ldy	#$2
  2448 06:0125: B7 04        	lda	[<L19+pr_0],Y
  2449 06:0127: A0 06 00     	ldy	#$6
  2450 06:012A: 97 08        	sta	[<L19+prectp_0],Y
  2451                        ;
  2452                        ;		prectp->bottomRight.x = pr->x + pr->widt
                    h;
  2453                        	.line	328
  2454 06:012C: 18           	clc
  2455 06:012D: A7 04        	lda	[<L19+pr_0]
  2456 06:012F: A0 08 00     	ldy	#$8
  2457 06:0132: 77 04        	adc	[<L19+pr_0],Y
  2458 06:0134: A0 08 00     	ldy	#$8
  2459 06:0137: 97 08        	sta	[<L19+prectp_0],Y
  2460                        ;		prectp->bottomRight.y = pr->y + pr->heig
                    ht;
  2461                        	.line	329
  2462 06:0139: 18           	clc
  2463 06:013A: A0 02 00     	ldy	#$2
  2464 06:013D: B7 04        	lda	[<L19+pr_0],Y
  2465 06:013F: A0 0A 00     	ldy	#$a
  2466 06:0142: 77 04        	adc	[<L19+pr_0],Y
  2467 06:0144: A0 0A 00     	ldy	#$a
  2468 06:0147: 97 08        	sta	[<L19+prectp_0],Y
  2469                        ;	}
  2470                        	.line	330
  2471                        ;}
  2472                        L10004:
  2473                        	.line	331
  2474                        L24:
  2475 06:0149: A5 02        	lda	<L19+2
  2476 06:014B: 85 0A        	sta	<L19+2+8
  2477 06:014D: A5 01        	lda	<L19+1
  2478 06:014F: 85 09        	sta	<L19+1+8
  2479 06:0151: 2B           	pld
  2480 06:0152: 3B           	tsc
  2481 06:0153: 18           	clc
  2482 06:0154: 69 08 00     	adc	#L19+8
  2483 06:0157: 1B           	tcs
  2484 06:0158: 6B           	rtl
  2485                        	.endblock	331
  2486             00000000   L19	equ	0
  2487             00000001   L20	equ	1
  2488 06:0159:              	ends
  2489                        	efunc
  2490                        	.endfunc	331,1,0
  2491                        	.line	331
  2492                        ;
  2493                        ;
  2494                        ;VOID k_gui_init_image_cache_slot()
  2495                        ;{
  2496                        	.line	334
  2497                        	.line	335
  2498                        	GFX
  2499                        	xdef	~~k_gui_init_image_cache_slot
  2500                        	func
  Mon Sep 27 2021  9:39                                                Page 53


  2501                        	.function	335
  2502                        ~~k_gui_init_image_cache_slot:
  2503                        	longa	on
  2504                        	longi	on
  2505 06:0159: 3B           	tsc
  2506 06:015A: 38           	sec
  2507 06:015B: E9 02 00     	sbc	#L25
  2508 06:015E: 1B           	tcs
  2509 06:015F: 0B           	phd
  2510 06:0160: 5B           	tcd
  2511                        	.block	335
  2512                        ;	int i = 0;
  2513                        ;
  2514                        ;	for(i=0;i<GUI_CACHE_SIZE;i++)
  2515             00000000   i_1	set	0
  2516                        	.sym	i,0,5,1,16
  2517 06:0161: 64 01        	stz	<L26+i_1
  2518                        	.line	338
  2519 06:0163: 64 01        	stz	<L26+i_1
  2520                        L10007:
  2521                        ;		_k_guiCacheSlots[i] = FALSE;
  2522                        	.line	339
  2523 06:0165: E2 20        	sep	#$20
  2524                        	longa	off
  2525 06:0167: A9 00        	lda	#$0
  2526 06:0169: A6 01        	ldx	<L26+i_1
  2527 06:016B: 9D xx xx     	sta	|~~_k_guiCacheSlots,X
  2528 06:016E: C2 20        	rep	#$20
  2529                        	longa	on
  2530                        L10005:
  2531 06:0170: E6 01        	inc	<L26+i_1
  2532 06:0172: 38           	sec
  2533 06:0173: A5 01        	lda	<L26+i_1
  2534 06:0175: E9 3C 00     	sbc	#<$3c
  2535 06:0178: 70 03        	bvs	L28
  2536 06:017A: 49 00 80     	eor	#$8000
  2537                        L28:
  2538 06:017D: 30 03        	bmi	L29
  2539 06:017F: 82 E3 FF     	brl	L10007
  2540                        L29:
  2541                        L10006:
  2542                        ;}
  2543                        	.line	340
  2544                        L30:
  2545 06:0182: 2B           	pld
  2546 06:0183: 3B           	tsc
  2547 06:0184: 18           	clc
  2548 06:0185: 69 02 00     	adc	#L25
  2549 06:0188: 1B           	tcs
  2550 06:0189: 6B           	rtl
  2551                        	.endblock	340
  2552             00000002   L25	equ	2
  2553             00000001   L26	equ	1
  2554 06:018A:              	ends
  2555                        	efunc
  2556                        	.endfunc	340,1,2
  2557                        	.line	340
  2558                        ;
  Mon Sep 27 2021  9:39                                                Page 54


  2559                        ;UINT k_gui_alloc_image_cache_slot()
  2560                        ;{
  2561                        	.line	342
  2562                        	.line	343
  2563                        	GFX
  2564                        	xdef	~~k_gui_alloc_image_cache_slot
  2565                        	func
  2566                        	.function	343
  2567                        ~~k_gui_alloc_image_cache_slot:
  2568                        	longa	on
  2569                        	longi	on
  2570 06:018A: 3B           	tsc
  2571 06:018B: 38           	sec
  2572 06:018C: E9 04 00     	sbc	#L31
  2573 06:018F: 1B           	tcs
  2574 06:0190: 0B           	phd
  2575 06:0191: 5B           	tcd
  2576                        	.block	343
  2577                        ;	UINT index = -1;
  2578                        ;	int i = 0;
  2579                        ;
  2580                        ;	for(i=GUI_CACHE_START;i<GUI_CACHE_SIZE;i++)
  2581             00000000   index_1	set	0
  2582             00000002   i_1	set	2
  2583                        	.sym	index,0,16,1,16
  2584                        	.sym	i,2,5,1,16
  2585 06:0192: A9 FF FF     	lda	#$ffff
  2586 06:0195: 85 01        	sta	<L32+index_1
  2587 06:0197: 64 03        	stz	<L32+i_1
  2588                        	.line	347
  2589 06:0199: A9 04 00     	lda	#$4
  2590 06:019C: 85 03        	sta	<L32+i_1
  2591                        L10010:
  2592                        ;	{
  2593                        	.line	348
  2594                        ;		if(!_k_guiCacheSlots[i])
  2595                        	.line	349
  2596                        ;		{
  2597 06:019E: A6 03        	ldx	<L32+i_1
  2598 06:01A0: BD xx xx     	lda	|~~_k_guiCacheSlots,X
  2599 06:01A3: 29 FF 00     	and	#$ff
  2600 06:01A6: F0 03        	beq	L34
  2601 06:01A8: 82 12 00     	brl	L10011
  2602                        L34:
  2603                        	.line	350
  2604                        ;			_k_guiCacheSlots[i] = TRUE;
  2605                        	.line	351
  2606 06:01AB: E2 20        	sep	#$20
  2607                        	longa	off
  2608 06:01AD: A9 01        	lda	#$1
  2609 06:01AF: A6 03        	ldx	<L32+i_1
  2610 06:01B1: 9D xx xx     	sta	|~~_k_guiCacheSlots,X
  2611 06:01B4: C2 20        	rep	#$20
  2612                        	longa	on
  2613                        ;			index = i;
  2614                        	.line	352
  2615 06:01B6: A5 03        	lda	<L32+i_1
  2616 06:01B8: 85 01        	sta	<L32+index_1
  Mon Sep 27 2021  9:39                                                Page 55


  2617                        ;			break;
  2618                        	.line	353
  2619 06:01BA: 82 12 00     	brl	L10009
  2620                        ;		}
  2621                        	.line	354
  2622                        ;	}
  2623                        L10011:
  2624                        	.line	355
  2625                        L10008:
  2626 06:01BD: E6 03        	inc	<L32+i_1
  2627 06:01BF: 38           	sec
  2628 06:01C0: A5 03        	lda	<L32+i_1
  2629 06:01C2: E9 3C 00     	sbc	#<$3c
  2630 06:01C5: 70 03        	bvs	L35
  2631 06:01C7: 49 00 80     	eor	#$8000
  2632                        L35:
  2633 06:01CA: 30 03        	bmi	L36
  2634 06:01CC: 82 CF FF     	brl	L10010
  2635                        L36:
  2636                        L10009:
  2637                        ;
  2638                        ;	//k_debug_integer("k_gui_alloc_image_cache_slot:
                    index:",index);
  2639                        ;
  2640                        ;	return index;
  2641                        	.line	359
  2642 06:01CF: A5 01        	lda	<L32+index_1
  2643                        L37:
  2644 06:01D1: A8           	tay
  2645 06:01D2: 2B           	pld
  2646 06:01D3: 3B           	tsc
  2647 06:01D4: 18           	clc
  2648 06:01D5: 69 04 00     	adc	#L31
  2649 06:01D8: 1B           	tcs
  2650 06:01D9: 98           	tya
  2651 06:01DA: 6B           	rtl
  2652                        ;}
  2653                        	.line	360
  2654                        	.endblock	360
  2655             00000004   L31	equ	4
  2656             00000001   L32	equ	1
  2657 06:01DB:              	ends
  2658                        	efunc
  2659                        	.endfunc	360,1,4
  2660                        	.line	360
  2661                        ;
  2662                        ;VOID k_gui_free_image_cache_slot(UINT slotIndex)
  2663                        ;{
  2664                        	.line	362
  2665                        	.line	363
  2666                        	GFX
  2667                        	xdef	~~k_gui_free_image_cache_slot
  2668                        	func
  2669                        	.function	363
  2670                        ~~k_gui_free_image_cache_slot:
  2671                        	longa	on
  2672                        	longi	on
  2673 06:01DB: 3B           	tsc
  Mon Sep 27 2021  9:39                                                Page 56


  2674 06:01DC: 38           	sec
  2675 06:01DD: E9 00 00     	sbc	#L38
  2676 06:01E0: 1B           	tcs
  2677 06:01E1: 0B           	phd
  2678 06:01E2: 5B           	tcd
  2679             00000004   slotIndex_0	set	4
  2680                        	.block	363
  2681                        ;	if(slotIndex >= GUI_CACHE_START)
  2682                        	.sym	slotIndex,4,16,6,16
  2683                        	.line	364
  2684                        ;		_k_guiCacheSlots[slotIndex] = FALSE;
  2685 06:01E3: A5 04        	lda	<L38+slotIndex_0
  2686 06:01E5: C9 04 00     	cmp	#<$4
  2687 06:01E8: B0 03        	bcs	L41
  2688 06:01EA: 82 0B 00     	brl	L10012
  2689                        L41:
  2690                        	.line	365
  2691 06:01ED: E2 20        	sep	#$20
  2692                        	longa	off
  2693 06:01EF: A9 00        	lda	#$0
  2694 06:01F1: A6 04        	ldx	<L38+slotIndex_0
  2695 06:01F3: 9D xx xx     	sta	|~~_k_guiCacheSlots,X
  2696 06:01F6: C2 20        	rep	#$20
  2697                        	longa	on
  2698                        ;}
  2699                        L10012:
  2700                        	.line	366
  2701                        L42:
  2702 06:01F8: A5 02        	lda	<L38+2
  2703 06:01FA: 85 04        	sta	<L38+2+2
  2704 06:01FC: A5 01        	lda	<L38+1
  2705 06:01FE: 85 03        	sta	<L38+1+2
  2706 06:0200: 2B           	pld
  2707 06:0201: 3B           	tsc
  2708 06:0202: 18           	clc
  2709 06:0203: 69 02 00     	adc	#L38+2
  2710 06:0206: 1B           	tcs
  2711 06:0207: 6B           	rtl
  2712                        	.endblock	366
  2713             00000000   L38	equ	0
  2714             00000001   L39	equ	1
  2715 06:0208:              	ends
  2716                        	efunc
  2717                        	.endfunc	366,1,0
  2718                        	.line	366
  2719                        ;
  2720                        ;
  2721                        ;UINT k_gui_set_image_cache(ULONG srcVMARelPage,PR
                    ECT prect)
  2722                        ;{
  2723                        	.line	369
  2724                        	.line	370
  2725                        	GFX
  2726                        	xdef	~~k_gui_set_image_cache
  2727                        	func
  2728                        	.function	370
  2729                        ~~k_gui_set_image_cache:
  2730                        	longa	on
  Mon Sep 27 2021  9:39                                                Page 57


  2731                        	longi	on
  2732 06:0208: 3B           	tsc
  2733 06:0209: 38           	sec
  2734 06:020A: E9 16 00     	sbc	#L43
  2735 06:020D: 1B           	tcs
  2736 06:020E: 0B           	phd
  2737 06:020F: 5B           	tcd
  2738             00000004   srcVMARelPage_0	set	4
  2739             00000008   prect_0	set	8
  2740                        	.block	370
  2741                        ;	UINT slot;
  2742                        ;
  2743                        ;	int cw = prect->width < GUI_CACHE_WIDTH  ? prect
                    ->width  : GUI_CACHE_WIDTH;
  2744                        ;	int ch = prect->height< GUI_CACHE_HEIGHT ? prect
                    ->height : GUI_CACHE_HEIGHT;
  2745                        ;
  2746                        ;	//k_debug_pointer("k_gui_set_image_cache:srcVMAR
                    elPage:",srcVMARelPage);
  2747                        ;
  2748                        ;	slot = k_gui_alloc_image_cache_slot();
  2749             00000000   slot_1	set	0
  2750             00000002   cw_1	set	2
  2751             00000004   ch_1	set	4
  2752                        	.sym	slot,0,16,1,16
  2753                        	.sym	cw,2,5,1,16
  2754                        	.sym	ch,4,5,1,16
  2755                        	.sym	srcVMARelPage,4,18,6,32
  2756                        	.sym	prect,8,138,6,32,26
  2757 06:0210: 38           	sec
  2758 06:0211: A0 08 00     	ldy	#$8
  2759 06:0214: B7 1E        	lda	[<L43+prect_0],Y
  2760 06:0216: E9 40 01     	sbc	#<$140
  2761 06:0219: 70 03        	bvs	L47
  2762 06:021B: 49 00 80     	eor	#$8000
  2763                        L47:
  2764 06:021E: 10 03        	bpl	L48
  2765 06:0220: 82 07 00     	brl	L46
  2766                        L48:
  2767 06:0223: A0 08 00     	ldy	#$8
  2768 06:0226: B7 1E        	lda	[<L43+prect_0],Y
  2769 06:0228: 80 03        	bra	L49
  2770                        L46:
  2771 06:022A: A9 40 01     	lda	#$140
  2772                        L49:
  2773 06:022D: 85 13        	sta	<L44+cw_1
  2774 06:022F: 38           	sec
  2775 06:0230: A0 0A 00     	ldy	#$a
  2776 06:0233: B7 1E        	lda	[<L43+prect_0],Y
  2777 06:0235: E9 10 00     	sbc	#<$10
  2778 06:0238: 70 03        	bvs	L51
  2779 06:023A: 49 00 80     	eor	#$8000
  2780                        L51:
  2781 06:023D: 10 03        	bpl	L52
  2782 06:023F: 82 07 00     	brl	L50
  2783                        L52:
  2784 06:0242: A0 0A 00     	ldy	#$a
  2785 06:0245: B7 1E        	lda	[<L43+prect_0],Y
  Mon Sep 27 2021  9:39                                                Page 58


  2786 06:0247: 80 03        	bra	L53
  2787                        L50:
  2788 06:0249: A9 10 00     	lda	#$10
  2789                        L53:
  2790 06:024C: 85 15        	sta	<L44+ch_1
  2791                        	.line	378
  2792 06:024E: 22 8A 01 06  	jsl	~~k_gui_alloc_image_cache_slot
  2793 06:0252: 85 11        	sta	<L44+slot_1
  2794                        ;	if(slot!=-1)
  2795                        	.line	379
  2796                        ;	{
  2797 06:0254: A5 11        	lda	<L44+slot_1
  2798 06:0256: C9 FF FF     	cmp	#<$ffffffff
  2799 06:0259: D0 03        	bne	L54
  2800 06:025B: 82 9B 00     	brl	L10013
  2801                        L54:
  2802                        	.line	380
  2803                        ;		k_vdma_copy_address_ex((LPSTR)(GUI_CACHE
                    _PAGE + GUI_CACHE_PAGE_OFFSET(slot)),
  2804                        	.line	381
  2805                        ;							
                       (LPSTR)(srcVMARelPage  + k_gui_get_pixel_offset(prect->x,
                    prect->y)),
  2806                        ;							
                       cw,ch);
  2807 06:025E: D4 15        	pei	<L44+ch_1
  2808 06:0260: D4 13        	pei	<L44+cw_1
  2809 06:0262: A0 02 00     	ldy	#$2
  2810 06:0265: B7 1E        	lda	[<L43+prect_0],Y
  2811 06:0267: 48           	pha
  2812 06:0268: A7 1E        	lda	[<L43+prect_0]
  2813 06:026A: 48           	pha
  2814 06:026B: 22 BA 07 06  	jsl	~~k_gui_get_pixel_offset
  2815 06:026F: 85 01        	sta	<R0
  2816 06:0271: 86 03        	stx	<R0+2
  2817 06:0273: 18           	clc
  2818 06:0274: A5 01        	lda	<R0
  2819 06:0276: 65 1A        	adc	<L43+srcVMARelPage_0
  2820 06:0278: 85 05        	sta	<R1
  2821 06:027A: A5 03        	lda	<R0+2
  2822 06:027C: 65 1C        	adc	<L43+srcVMARelPage_0+2
  2823 06:027E: 85 07        	sta	<R1+2
  2824 06:0280: D4 07        	pei	<R1+2
  2825 06:0282: D4 05        	pei	<R1
  2826 06:0284: A5 11        	lda	<L44+slot_1
  2827 06:0286: 29 01 00     	and	#<$1
  2828 06:0289: 85 01        	sta	<R0
  2829 06:028B: A5 01        	lda	<R0
  2830 06:028D: 85 01        	sta	<R0
  2831 06:028F: 64 03        	stz	<R0+2
  2832 06:0291: A5 11        	lda	<L44+slot_1
  2833 06:0293: 85 09        	sta	<R2
  2834 06:0295: 64 0B        	stz	<R2+2
  2835 06:0297: 38           	sec
  2836 06:0298: A5 09        	lda	<R2
  2837 06:029A: E5 01        	sbc	<R0
  2838 06:029C: 85 0D        	sta	<R3
  2839 06:029E: A5 0B        	lda	<R2+2
  Mon Sep 27 2021  9:39                                                Page 59


  2840 06:02A0: E5 03        	sbc	<R0+2
  2841 06:02A2: 85 0F        	sta	<R3+2
  2842 06:02A4: F4 00 00     	pea	#^$1400
  2843 06:02A7: F4 00 14     	pea	#<$1400
  2844 06:02AA: D4 0F        	pei	<R3+2
  2845 06:02AC: D4 0D        	pei	<R3
  2846                        	xref	~~~lmul
  2847 06:02AE: 22 xx xx xx  	jsl	~~~lmul
  2848 06:02B2: 85 01        	sta	<R0
  2849 06:02B4: 86 03        	stx	<R0+2
  2850 06:02B6: A5 11        	lda	<L44+slot_1
  2851 06:02B8: 29 01 00     	and	#<$1
  2852 06:02BB: 85 09        	sta	<R2
  2853 06:02BD: A5 09        	lda	<R2
  2854 06:02BF: 85 09        	sta	<R2
  2855 06:02C1: 64 0B        	stz	<R2+2
  2856 06:02C3: F4 00 00     	pea	#^$140
  2857 06:02C6: F4 40 01     	pea	#<$140
  2858 06:02C9: D4 0B        	pei	<R2+2
  2859 06:02CB: D4 09        	pei	<R2
  2860                        	xref	~~~lmul
  2861 06:02CD: 22 xx xx xx  	jsl	~~~lmul
  2862 06:02D1: 85 09        	sta	<R2
  2863 06:02D3: 86 0B        	stx	<R2+2
  2864 06:02D5: 18           	clc
  2865 06:02D6: A5 09        	lda	<R2
  2866 06:02D8: 65 01        	adc	<R0
  2867 06:02DA: 85 0D        	sta	<R3
  2868 06:02DC: A5 0B        	lda	<R2+2
  2869 06:02DE: 65 03        	adc	<R0+2
  2870 06:02E0: 85 0F        	sta	<R3+2
  2871 06:02E2: 18           	clc
  2872 06:02E3: A9 00 00     	lda	#$0
  2873 06:02E6: 65 0D        	adc	<R3
  2874 06:02E8: 85 01        	sta	<R0
  2875 06:02EA: A9 10 00     	lda	#$10
  2876 06:02ED: 65 0F        	adc	<R3+2
  2877 06:02EF: 85 03        	sta	<R0+2
  2878 06:02F1: D4 03        	pei	<R0+2
  2879 06:02F3: D4 01        	pei	<R0
  2880 06:02F5: 22 49 87 06  	jsl	~~k_vdma_copy_address_ex
  2881                        ;	}
  2882                        	.line	384
  2883                        ;
  2884                        ;	k_debug_integer("k_gui_set_image_cache:slot:",sl
                    ot);
  2885                        L10013:
  2886                        	.line	386
  2887 06:02F9: D4 11        	pei	<L44+slot_1
  2888 06:02FB: F4 xx xx     	pea	#^L1
  2889 06:02FE: F4 xx xx     	pea	#<L1
  2890 06:0301: 22 xx xx xx  	jsl	~~k_debug_integer
  2891                        ;
  2892                        ;	return slot;
  2893                        	.line	388
  2894 06:0305: A5 11        	lda	<L44+slot_1
  2895                        L55:
  2896 06:0307: A8           	tay
  Mon Sep 27 2021  9:39                                                Page 60


  2897 06:0308: A5 18        	lda	<L43+2
  2898 06:030A: 85 20        	sta	<L43+2+8
  2899 06:030C: A5 17        	lda	<L43+1
  2900 06:030E: 85 1F        	sta	<L43+1+8
  2901 06:0310: 2B           	pld
  2902 06:0311: 3B           	tsc
  2903 06:0312: 18           	clc
  2904 06:0313: 69 1E 00     	adc	#L43+8
  2905 06:0316: 1B           	tcs
  2906 06:0317: 98           	tya
  2907 06:0318: 6B           	rtl
  2908                        ;}
  2909                        	.line	389
  2910                        	.endblock	389
  2911             00000016   L43	equ	22
  2912             00000011   L44	equ	17
  2913 06:0319:              	ends
  2914                        	efunc
  2915                        	.endfunc	389,17,22
  2916                        	.line	389
  2917                        	data
  2918                        L1:
  2919 00:0625: 6B 5F 67 75  	db	$6B,$5F,$67,$75,$69,$5F,$73,$65,$74,$5F,
                    $69,$6D,$61,$67,$65
       00:0629: 69 5F 73 65 
       00:062D: 74 5F 69 6D 
       00:0631: 61 67 65 
  2920 00:0634: 5F 63 61 63  	db	$5F,$63,$61,$63,$68,$65,$3A,$73,$6C,$6F,
                    $74,$3A,$00
       00:0638: 68 65 3A 73 
       00:063C: 6C 6F 74 3A 
       00:0640: 00 
  2921 00:0641:              	ends
  2922                        ;
  2923                        ;BOOL k_gui_get_image_cache(UINT slot,ULONG destVM
                    ARelPage,PRECT prect)
  2924                        ;{
  2925                        	.line	391
  2926                        	.line	392
  2927                        	GFX
  2928                        	xdef	~~k_gui_get_image_cache
  2929                        	func
  2930                        	.function	392
  2931                        ~~k_gui_get_image_cache:
  2932                        	longa	on
  2933                        	longi	on
  2934 06:0319: 3B           	tsc
  2935 06:031A: 38           	sec
  2936 06:031B: E9 1A 00     	sbc	#L57
  2937 06:031E: 1B           	tcs
  2938 06:031F: 0B           	phd
  2939 06:0320: 5B           	tcd
  2940             00000004   slot_0	set	4
  2941             00000006   destVMARelPage_0	set	6
  2942             0000000A   prect_0	set	10
  2943                        	.block	392
  2944                        ;	LPSTR pDst = NULL;
  2945                        ;	int cw;
  Mon Sep 27 2021  9:39                                                Page 61


  2946                        ;	int ch;
  2947                        ;	int clippingOffset = 0;
  2948                        ;
  2949                        ;	if(prect->x < GUI_POINT_LIMIT_X_LO)
  2950             00000000   pDst_1	set	0
  2951             00000004   cw_1	set	4
  2952             00000006   ch_1	set	6
  2953             00000008   clippingOffset_1	set	8
  2954                        	.sym	pDst,0,142,1,32
  2955                        	.sym	cw,4,5,1,16
  2956                        	.sym	ch,6,5,1,16
  2957                        	.sym	clippingOffset,8,5,1,16
  2958                        	.sym	slot,4,16,6,16
  2959                        	.sym	destVMARelPage,6,18,6,32
  2960                        	.sym	prect,10,138,6,32,26
  2961 06:0321: 64 11        	stz	<L58+pDst_1
  2962 06:0323: 64 13        	stz	<L58+pDst_1+2
  2963 06:0325: 64 19        	stz	<L58+clippingOffset_1
  2964                        	.line	398
  2965                        ;	{
  2966 06:0327: A7 24        	lda	[<L57+prect_0]
  2967 06:0329: 30 03        	bmi	L60
  2968 06:032B: 82 72 00     	brl	L10014
  2969                        L60:
  2970                        	.line	399
  2971                        ;		k_debug_integer("k_gui_get_image_cache::
                    x-over:-x:",(int)prect->x);
  2972                        	.line	400
  2973 06:032E: A7 24        	lda	[<L57+prect_0]
  2974 06:0330: 48           	pha
  2975 06:0331: F4 xx xx     	pea	#^L56
  2976 06:0334: F4 xx xx     	pea	#<L56
  2977 06:0337: 22 xx xx xx  	jsl	~~k_debug_integer
  2978                        ;		k_debug_integer("k_gui_get_image_cache::
                    x-over:-width:",(int)prect->width);
  2979                        	.line	401
  2980 06:033B: A0 08 00     	ldy	#$8
  2981 06:033E: B7 24        	lda	[<L57+prect_0],Y
  2982 06:0340: 48           	pha
  2983 06:0341: F4 xx xx     	pea	#^L56+34
  2984 06:0344: F4 xx xx     	pea	#<L56+34
  2985 06:0347: 22 xx xx xx  	jsl	~~k_debug_integer
  2986                        ;		prect->width = (prect->width + prect->x)
                    ;
  2987                        	.line	402
  2988 06:034B: 18           	clc
  2989 06:034C: A0 08 00     	ldy	#$8
  2990 06:034F: B7 24        	lda	[<L57+prect_0],Y
  2991 06:0351: 67 24        	adc	[<L57+prect_0]
  2992 06:0353: A0 08 00     	ldy	#$8
  2993 06:0356: 97 24        	sta	[<L57+prect_0],Y
  2994                        ;
  2995                        ;		if(prect->width < 0)
  2996                        	.line	404
  2997                        ;			return FALSE;
  2998 06:0358: A0 08 00     	ldy	#$8
  2999 06:035B: B7 24        	lda	[<L57+prect_0],Y
  3000 06:035D: 30 03        	bmi	L61
  Mon Sep 27 2021  9:39                                                Page 62


  3001 06:035F: 82 15 00     	brl	L10015
  3002                        L61:
  3003                        	.line	405
  3004 06:0362: A9 00 00     	lda	#$0
  3005                        L62:
  3006 06:0365: A8           	tay
  3007 06:0366: A5 1C        	lda	<L57+2
  3008 06:0368: 85 26        	sta	<L57+2+10
  3009 06:036A: A5 1B        	lda	<L57+1
  3010 06:036C: 85 25        	sta	<L57+1+10
  3011 06:036E: 2B           	pld
  3012 06:036F: 3B           	tsc
  3013 06:0370: 18           	clc
  3014 06:0371: 69 24 00     	adc	#L57+10
  3015 06:0374: 1B           	tcs
  3016 06:0375: 98           	tya
  3017 06:0376: 6B           	rtl
  3018                        ;
  3019                        ;		clippingOffset = (prect->x * (-1));
  3020                        L10015:
  3021                        	.line	407
  3022 06:0377: 38           	sec
  3023 06:0378: A9 00 00     	lda	#$0
  3024 06:037B: E7 24        	sbc	[<L57+prect_0]
  3025 06:037D: 85 19        	sta	<L58+clippingOffset_1
  3026                        ;
  3027                        ;		prect->x =  GUI_POINT_LIMIT_X_LO;
  3028                        	.line	409
  3029 06:037F: A9 00 00     	lda	#$0
  3030 06:0382: 87 24        	sta	[<L57+prect_0]
  3031                        ;		k_debug_integer("k_gui_get_image_cache::
                    x-over:clippingOffset:",clippingOffset);
  3032                        	.line	410
  3033 06:0384: D4 19        	pei	<L58+clippingOffset_1
  3034 06:0386: F4 xx xx     	pea	#^L56+72
  3035 06:0389: F4 xx xx     	pea	#<L56+72
  3036 06:038C: 22 xx xx xx  	jsl	~~k_debug_integer
  3037                        ;		k_debug_integer("k_gui_get_image_cache::
                    x-over:width:",(int)prect->width);
  3038                        	.line	411
  3039 06:0390: A0 08 00     	ldy	#$8
  3040 06:0393: B7 24        	lda	[<L57+prect_0],Y
  3041 06:0395: 48           	pha
  3042 06:0396: F4 xx xx     	pea	#^L56+118
  3043 06:0399: F4 xx xx     	pea	#<L56+118
  3044 06:039C: 22 xx xx xx  	jsl	~~k_debug_integer
  3045                        ;	}
  3046                        	.line	412
  3047                        ;
  3048                        ;	if(prect->y < GUI_POINT_LIMIT_Y_LO)
  3049                        L10014:
  3050                        	.line	414
  3051                        ;	{
  3052 06:03A0: A0 02 00     	ldy	#$2
  3053 06:03A3: B7 24        	lda	[<L57+prect_0],Y
  3054 06:03A5: 30 03        	bmi	L63
  3055 06:03A7: 82 18 00     	brl	L10016
  3056                        L63:
  Mon Sep 27 2021  9:39                                                Page 63


  3057                        	.line	415
  3058                        ;		prect->height = (prect->height + prect->
                    y);
  3059                        	.line	416
  3060 06:03AA: 18           	clc
  3061 06:03AB: A0 0A 00     	ldy	#$a
  3062 06:03AE: B7 24        	lda	[<L57+prect_0],Y
  3063 06:03B0: A0 02 00     	ldy	#$2
  3064 06:03B3: 77 24        	adc	[<L57+prect_0],Y
  3065 06:03B5: A0 0A 00     	ldy	#$a
  3066 06:03B8: 97 24        	sta	[<L57+prect_0],Y
  3067                        ;		prect->y = GUI_POINT_LIMIT_Y_LO;
  3068                        	.line	417
  3069 06:03BA: A9 00 00     	lda	#$0
  3070 06:03BD: A0 02 00     	ldy	#$2
  3071 06:03C0: 97 24        	sta	[<L57+prect_0],Y
  3072                        ;	}
  3073                        	.line	418
  3074                        ;
  3075                        ;	if(prect->x > GUI_POINT_LIMIT_X_HI)
  3076                        L10016:
  3077                        	.line	420
  3078                        ;		prect->x = GUI_POINT_LIMIT_X_HI - 1;
  3079 06:03C2: 38           	sec
  3080 06:03C3: A9 80 02     	lda	#$280
  3081 06:03C6: E7 24        	sbc	[<L57+prect_0]
  3082 06:03C8: 70 03        	bvs	L64
  3083 06:03CA: 49 00 80     	eor	#$8000
  3084                        L64:
  3085 06:03CD: 10 03        	bpl	L65
  3086 06:03CF: 82 05 00     	brl	L10017
  3087                        L65:
  3088                        	.line	421
  3089 06:03D2: A9 7F 02     	lda	#$27f
  3090 06:03D5: 87 24        	sta	[<L57+prect_0]
  3091                        ;
  3092                        ;	if(prect->y > GUI_POINT_LIMIT_Y_HI)
  3093                        L10017:
  3094                        	.line	423
  3095                        ;		prect->y = GUI_POINT_LIMIT_Y_HI - 1;
  3096 06:03D7: 38           	sec
  3097 06:03D8: A9 E0 01     	lda	#$1e0
  3098 06:03DB: A0 02 00     	ldy	#$2
  3099 06:03DE: F7 24        	sbc	[<L57+prect_0],Y
  3100 06:03E0: 70 03        	bvs	L66
  3101 06:03E2: 49 00 80     	eor	#$8000
  3102                        L66:
  3103 06:03E5: 10 03        	bpl	L67
  3104 06:03E7: 82 08 00     	brl	L10018
  3105                        L67:
  3106                        	.line	424
  3107 06:03EA: A9 DF 01     	lda	#$1df
  3108 06:03ED: A0 02 00     	ldy	#$2
  3109 06:03F0: 97 24        	sta	[<L57+prect_0],Y
  3110                        ;
  3111                        ;	if(prect->x + prect->width > GUI_POINT_LIMIT_X_H
                    I)
  3112                        L10018:
  Mon Sep 27 2021  9:39                                                Page 64


  3113                        	.line	426
  3114                        ;	{
  3115 06:03F2: 18           	clc
  3116 06:03F3: A7 24        	lda	[<L57+prect_0]
  3117 06:03F5: A0 08 00     	ldy	#$8
  3118 06:03F8: 77 24        	adc	[<L57+prect_0],Y
  3119 06:03FA: 85 01        	sta	<R0
  3120 06:03FC: 38           	sec
  3121 06:03FD: A9 80 02     	lda	#$280
  3122 06:0400: E5 01        	sbc	<R0
  3123 06:0402: 70 03        	bvs	L68
  3124 06:0404: 49 00 80     	eor	#$8000
  3125                        L68:
  3126 06:0407: 10 03        	bpl	L69
  3127 06:0409: 82 38 00     	brl	L10019
  3128                        L69:
  3129                        	.line	427
  3130                        ;		k_debug_integer("k_gui_get_image_cache::
                    x-over:x:",prect->x);
  3131                        	.line	428
  3132 06:040C: A7 24        	lda	[<L57+prect_0]
  3133 06:040E: 48           	pha
  3134 06:040F: F4 xx xx     	pea	#^L56+155
  3135 06:0412: F4 xx xx     	pea	#<L56+155
  3136 06:0415: 22 xx xx xx  	jsl	~~k_debug_integer
  3137                        ;		k_debug_integer("k_gui_get_image_cache::
                    x-over:width:",prect->width);
  3138                        	.line	429
  3139 06:0419: A0 08 00     	ldy	#$8
  3140 06:041C: B7 24        	lda	[<L57+prect_0],Y
  3141 06:041E: 48           	pha
  3142 06:041F: F4 xx xx     	pea	#^L56+188
  3143 06:0422: F4 xx xx     	pea	#<L56+188
  3144 06:0425: 22 xx xx xx  	jsl	~~k_debug_integer
  3145                        ;
  3146                        ;		prect->width = GUI_POINT_LIMIT_X_HI - pr
                    ect->x;
  3147                        	.line	431
  3148 06:0429: 38           	sec
  3149 06:042A: A9 80 02     	lda	#$280
  3150 06:042D: E7 24        	sbc	[<L57+prect_0]
  3151 06:042F: A0 08 00     	ldy	#$8
  3152 06:0432: 97 24        	sta	[<L57+prect_0],Y
  3153                        ;
  3154                        ;		k_debug_integer("k_gui_get_image_cache::
                    x-over:width:adjusted:",prect->width);
  3155                        	.line	433
  3156 06:0434: A0 08 00     	ldy	#$8
  3157 06:0437: B7 24        	lda	[<L57+prect_0],Y
  3158 06:0439: 48           	pha
  3159 06:043A: F4 xx xx     	pea	#^L56+225
  3160 06:043D: F4 xx xx     	pea	#<L56+225
  3161 06:0440: 22 xx xx xx  	jsl	~~k_debug_integer
  3162                        ;	}
  3163                        	.line	434
  3164                        ;
  3165                        ;	if(prect->y + prect->height > GUI_POINT_LIMIT_Y_
                    HI)
  Mon Sep 27 2021  9:39                                                Page 65


  3166                        L10019:
  3167                        	.line	436
  3168                        ;	{
  3169 06:0444: 18           	clc
  3170 06:0445: A0 02 00     	ldy	#$2
  3171 06:0448: B7 24        	lda	[<L57+prect_0],Y
  3172 06:044A: A0 0A 00     	ldy	#$a
  3173 06:044D: 77 24        	adc	[<L57+prect_0],Y
  3174 06:044F: 85 01        	sta	<R0
  3175 06:0451: 38           	sec
  3176 06:0452: A9 E0 01     	lda	#$1e0
  3177 06:0455: E5 01        	sbc	<R0
  3178 06:0457: 70 03        	bvs	L70
  3179 06:0459: 49 00 80     	eor	#$8000
  3180                        L70:
  3181 06:045C: 10 03        	bpl	L71
  3182 06:045E: 82 3E 00     	brl	L10020
  3183                        L71:
  3184                        	.line	437
  3185                        ;		k_debug_integer("k_gui_get_image_cache::
                    y-over:y:",prect->y);
  3186                        	.line	438
  3187 06:0461: A0 02 00     	ldy	#$2
  3188 06:0464: B7 24        	lda	[<L57+prect_0],Y
  3189 06:0466: 48           	pha
  3190 06:0467: F4 xx xx     	pea	#^L56+271
  3191 06:046A: F4 xx xx     	pea	#<L56+271
  3192 06:046D: 22 xx xx xx  	jsl	~~k_debug_integer
  3193                        ;		k_debug_integer("k_gui_get_image_cache::
                    y-over:height:",prect->height);
  3194                        	.line	439
  3195 06:0471: A0 0A 00     	ldy	#$a
  3196 06:0474: B7 24        	lda	[<L57+prect_0],Y
  3197 06:0476: 48           	pha
  3198 06:0477: F4 xx xx     	pea	#^L56+304
  3199 06:047A: F4 xx xx     	pea	#<L56+304
  3200 06:047D: 22 xx xx xx  	jsl	~~k_debug_integer
  3201                        ;
  3202                        ;		prect->height = GUI_POINT_LIMIT_Y_HI - p
                    rect->y;
  3203                        	.line	441
  3204 06:0481: 38           	sec
  3205 06:0482: A9 E0 01     	lda	#$1e0
  3206 06:0485: A0 02 00     	ldy	#$2
  3207 06:0488: F7 24        	sbc	[<L57+prect_0],Y
  3208 06:048A: A0 0A 00     	ldy	#$a
  3209 06:048D: 97 24        	sta	[<L57+prect_0],Y
  3210                        ;
  3211                        ;		k_debug_integer("k_gui_get_image_cache::
                    y-over:height:adjusted:",prect->height);
  3212                        	.line	443
  3213 06:048F: A0 0A 00     	ldy	#$a
  3214 06:0492: B7 24        	lda	[<L57+prect_0],Y
  3215 06:0494: 48           	pha
  3216 06:0495: F4 xx xx     	pea	#^L56+342
  3217 06:0498: F4 xx xx     	pea	#<L56+342
  3218 06:049B: 22 xx xx xx  	jsl	~~k_debug_integer
  3219                        ;	}
  Mon Sep 27 2021  9:39                                                Page 66


  3220                        	.line	444
  3221                        ;
  3222                        ;
  3223                        ;	cw = (prect->width < GUI_CACHE_WIDTH ) ? prect->
                    width  : GUI_CACHE_WIDTH;
  3224                        L10020:
  3225                        	.line	447
  3226 06:049F: 38           	sec
  3227 06:04A0: A0 08 00     	ldy	#$8
  3228 06:04A3: B7 24        	lda	[<L57+prect_0],Y
  3229 06:04A5: E9 40 01     	sbc	#<$140
  3230 06:04A8: 70 03        	bvs	L73
  3231 06:04AA: 49 00 80     	eor	#$8000
  3232                        L73:
  3233 06:04AD: 10 03        	bpl	L74
  3234 06:04AF: 82 07 00     	brl	L72
  3235                        L74:
  3236 06:04B2: A0 08 00     	ldy	#$8
  3237 06:04B5: B7 24        	lda	[<L57+prect_0],Y
  3238 06:04B7: 80 03        	bra	L75
  3239                        L72:
  3240 06:04B9: A9 40 01     	lda	#$140
  3241                        L75:
  3242 06:04BC: 85 15        	sta	<L58+cw_1
  3243                        ;	ch = (prect->height< GUI_CACHE_HEIGHT) ? prect->
                    height : GUI_CACHE_HEIGHT;
  3244                        	.line	448
  3245 06:04BE: 38           	sec
  3246 06:04BF: A0 0A 00     	ldy	#$a
  3247 06:04C2: B7 24        	lda	[<L57+prect_0],Y
  3248 06:04C4: E9 10 00     	sbc	#<$10
  3249 06:04C7: 70 03        	bvs	L77
  3250 06:04C9: 49 00 80     	eor	#$8000
  3251                        L77:
  3252 06:04CC: 10 03        	bpl	L78
  3253 06:04CE: 82 07 00     	brl	L76
  3254                        L78:
  3255 06:04D1: A0 0A 00     	ldy	#$a
  3256 06:04D4: B7 24        	lda	[<L57+prect_0],Y
  3257 06:04D6: 80 03        	bra	L79
  3258                        L76:
  3259 06:04D8: A9 10 00     	lda	#$10
  3260                        L79:
  3261 06:04DB: 85 17        	sta	<L58+ch_1
  3262                        ;
  3263                        ;
  3264                        ;	if(slot < GUI_CACHE_SIZE)
  3265                        	.line	451
  3266                        ;	{
  3267 06:04DD: A5 1E        	lda	<L57+slot_0
  3268 06:04DF: C9 3C 00     	cmp	#<$3c
  3269 06:04E2: 90 03        	bcc	L80
  3270 06:04E4: 82 CD 00     	brl	L10021
  3271                        L80:
  3272                        	.line	452
  3273                        ;		if(slot < GUI_CACHE_START)
  3274                        	.line	453
  3275                        ;		{
  Mon Sep 27 2021  9:39                                                Page 67


  3276 06:04E7: A5 1E        	lda	<L57+slot_0
  3277 06:04E9: C9 04 00     	cmp	#<$4
  3278 06:04EC: 90 03        	bcc	L81
  3279 06:04EE: 82 07 00     	brl	L10022
  3280                        L81:
  3281                        	.line	454
  3282                        ;			cw = prect->width;
  3283                        	.line	455
  3284 06:04F1: A0 08 00     	ldy	#$8
  3285 06:04F4: B7 24        	lda	[<L57+prect_0],Y
  3286 06:04F6: 85 15        	sta	<L58+cw_1
  3287                        ;		}
  3288                        	.line	456
  3289                        ;		//k_debug_integer("k_gui_get_image_cache
                    ::slot:",slot);
  3290                        ;		//k_debug_integer("k_gui_get_image_cache
                    ::cw:",cw);
  3291                        ;		//k_debug_integer("k_gui_get_image_cache
                    ::ch:",ch);
  3292                        ;
  3293                        ;		pDst = (LPSTR)(destVMARelPage + k_gui_ge
                    t_pixel_offset(prect->x,prect->y));
  3294                        L10022:
  3295                        	.line	461
  3296 06:04F8: A0 02 00     	ldy	#$2
  3297 06:04FB: B7 24        	lda	[<L57+prect_0],Y
  3298 06:04FD: 48           	pha
  3299 06:04FE: A7 24        	lda	[<L57+prect_0]
  3300 06:0500: 48           	pha
  3301 06:0501: 22 BA 07 06  	jsl	~~k_gui_get_pixel_offset
  3302 06:0505: 85 01        	sta	<R0
  3303 06:0507: 86 03        	stx	<R0+2
  3304 06:0509: 18           	clc
  3305 06:050A: A5 01        	lda	<R0
  3306 06:050C: 65 20        	adc	<L57+destVMARelPage_0
  3307 06:050E: 85 05        	sta	<R1
  3308 06:0510: A5 03        	lda	<R0+2
  3309 06:0512: 65 22        	adc	<L57+destVMARelPage_0+2
  3310 06:0514: 85 07        	sta	<R1+2
  3311 06:0516: A5 05        	lda	<R1
  3312 06:0518: 85 11        	sta	<L58+pDst_1
  3313 06:051A: A5 07        	lda	<R1+2
  3314 06:051C: 85 13        	sta	<L58+pDst_1+2
  3315                        ;
  3316                        ;		//k_debug_pointer("k_gui_get_image_cache
                    ::pDst:",pDst);
  3317                        ;
  3318                        ;		k_vdma_copy_address_ex(pDst,
  3319                        	.line	465
  3320                        ;							
                       (LPSTR)(GUI_CACHE_PAGE + (GUI_CACHE_PAGE_OFFSET(slot) + c
                    lippingOffset)),
  3321                        ;							
                       cw,ch);
  3322 06:051E: D4 17        	pei	<L58+ch_1
  3323 06:0520: D4 15        	pei	<L58+cw_1
  3324 06:0522: A0 00 00     	ldy	#$0
  3325 06:0525: A5 19        	lda	<L58+clippingOffset_1
  Mon Sep 27 2021  9:39                                                Page 68


  3326 06:0527: 10 01        	bpl	L82
  3327 06:0529: 88           	dey
  3328                        L82:
  3329 06:052A: 85 01        	sta	<R0
  3330 06:052C: 84 03        	sty	<R0+2
  3331 06:052E: A5 1E        	lda	<L57+slot_0
  3332 06:0530: 29 01 00     	and	#<$1
  3333 06:0533: 85 05        	sta	<R1
  3334 06:0535: A5 05        	lda	<R1
  3335 06:0537: 85 05        	sta	<R1
  3336 06:0539: 64 07        	stz	<R1+2
  3337 06:053B: A5 1E        	lda	<L57+slot_0
  3338 06:053D: 85 09        	sta	<R2
  3339 06:053F: 64 0B        	stz	<R2+2
  3340 06:0541: 38           	sec
  3341 06:0542: A5 09        	lda	<R2
  3342 06:0544: E5 05        	sbc	<R1
  3343 06:0546: 85 0D        	sta	<R3
  3344 06:0548: A5 0B        	lda	<R2+2
  3345 06:054A: E5 07        	sbc	<R1+2
  3346 06:054C: 85 0F        	sta	<R3+2
  3347 06:054E: F4 00 00     	pea	#^$1400
  3348 06:0551: F4 00 14     	pea	#<$1400
  3349 06:0554: D4 0F        	pei	<R3+2
  3350 06:0556: D4 0D        	pei	<R3
  3351                        	xref	~~~lmul
  3352 06:0558: 22 xx xx xx  	jsl	~~~lmul
  3353 06:055C: 85 05        	sta	<R1
  3354 06:055E: 86 07        	stx	<R1+2
  3355 06:0560: A5 1E        	lda	<L57+slot_0
  3356 06:0562: 29 01 00     	and	#<$1
  3357 06:0565: 85 09        	sta	<R2
  3358 06:0567: A5 09        	lda	<R2
  3359 06:0569: 85 09        	sta	<R2
  3360 06:056B: 64 0B        	stz	<R2+2
  3361 06:056D: F4 00 00     	pea	#^$140
  3362 06:0570: F4 40 01     	pea	#<$140
  3363 06:0573: D4 0B        	pei	<R2+2
  3364 06:0575: D4 09        	pei	<R2
  3365                        	xref	~~~lmul
  3366 06:0577: 22 xx xx xx  	jsl	~~~lmul
  3367 06:057B: 85 09        	sta	<R2
  3368 06:057D: 86 0B        	stx	<R2+2
  3369 06:057F: 18           	clc
  3370 06:0580: A5 09        	lda	<R2
  3371 06:0582: 65 05        	adc	<R1
  3372 06:0584: 85 0D        	sta	<R3
  3373 06:0586: A5 0B        	lda	<R2+2
  3374 06:0588: 65 07        	adc	<R1+2
  3375 06:058A: 85 0F        	sta	<R3+2
  3376 06:058C: 18           	clc
  3377 06:058D: A5 0D        	lda	<R3
  3378 06:058F: 65 01        	adc	<R0
  3379 06:0591: 85 05        	sta	<R1
  3380 06:0593: A5 0F        	lda	<R3+2
  3381 06:0595: 65 03        	adc	<R0+2
  3382 06:0597: 85 07        	sta	<R1+2
  3383 06:0599: 18           	clc
  Mon Sep 27 2021  9:39                                                Page 69


  3384 06:059A: A9 00 00     	lda	#$0
  3385 06:059D: 65 05        	adc	<R1
  3386 06:059F: 85 01        	sta	<R0
  3387 06:05A1: A9 10 00     	lda	#$10
  3388 06:05A4: 65 07        	adc	<R1+2
  3389 06:05A6: 85 03        	sta	<R0+2
  3390 06:05A8: D4 03        	pei	<R0+2
  3391 06:05AA: D4 01        	pei	<R0
  3392 06:05AC: D4 13        	pei	<L58+pDst_1+2
  3393 06:05AE: D4 11        	pei	<L58+pDst_1
  3394 06:05B0: 22 49 87 06  	jsl	~~k_vdma_copy_address_ex
  3395                        ;	}
  3396                        	.line	468
  3397                        ;
  3398                        ;	return TRUE;
  3399                        L10021:
  3400                        	.line	470
  3401 06:05B4: A9 01 00     	lda	#$1
  3402 06:05B7: 82 AB FD     	brl	L62
  3403                        ;}
  3404                        	.line	471
  3405                        	.endblock	471
  3406             0000001A   L57	equ	26
  3407             00000011   L58	equ	17
  3408 06:05BA:              	ends
  3409                        	efunc
  3410                        	.endfunc	471,17,26
  3411                        	.line	471
  3412                        	data
  3413                        L56:
  3414 00:0641: 6B 5F 67 75  	db	$6B,$5F,$67,$75,$69,$5F,$67,$65,$74,$5F,
                    $69,$6D,$61,$67,$65
       00:0645: 69 5F 67 65 
       00:0649: 74 5F 69 6D 
       00:064D: 61 67 65 
  3415 00:0650: 5F 63 61 63  	db	$5F,$63,$61,$63,$68,$65,$3A,$3A,$78,$2D,
                    $6F,$76,$65,$72,$3A
       00:0654: 68 65 3A 3A 
       00:0658: 78 2D 6F 76 
       00:065C: 65 72 3A 
  3416 00:065F: 2D 78 3A 00  	db	$2D,$78,$3A,$00,$6B,$5F,$67,$75,$69,$5F,
                    $67,$65,$74,$5F,$69
       00:0663: 6B 5F 67 75 
       00:0667: 69 5F 67 65 
       00:066B: 74 5F 69 
  3417 00:066E: 6D 61 67 65  	db	$6D,$61,$67,$65,$5F,$63,$61,$63,$68,$65,
                    $3A,$3A,$78,$2D,$6F
       00:0672: 5F 63 61 63 
       00:0676: 68 65 3A 3A 
       00:067A: 78 2D 6F 
  3418 00:067D: 76 65 72 3A  	db	$76,$65,$72,$3A,$2D,$77,$69,$64,$74,$68,
                    $3A,$00,$6B,$5F,$67
       00:0681: 2D 77 69 64 
       00:0685: 74 68 3A 00 
       00:0689: 6B 5F 67 
  3419 00:068C: 75 69 5F 67  	db	$75,$69,$5F,$67,$65,$74,$5F,$69,$6D,$61,
                    $67,$65,$5F,$63,$61
       00:0690: 65 74 5F 69 
  Mon Sep 27 2021  9:39                                                Page 70


       00:0694: 6D 61 67 65 
       00:0698: 5F 63 61 
  3420 00:069B: 63 68 65 3A  	db	$63,$68,$65,$3A,$3A,$78,$2D,$6F,$76,$65,
                    $72,$3A,$63,$6C,$69
       00:069F: 3A 78 2D 6F 
       00:06A3: 76 65 72 3A 
       00:06A7: 63 6C 69 
  3421 00:06AA: 70 70 69 6E  	db	$70,$70,$69,$6E,$67,$4F,$66,$66,$73,$65,
                    $74,$3A,$00,$6B,$5F
       00:06AE: 67 4F 66 66 
       00:06B2: 73 65 74 3A 
       00:06B6: 00 6B 5F 
  3422 00:06B9: 67 75 69 5F  	db	$67,$75,$69,$5F,$67,$65,$74,$5F,$69,$6D,
                    $61,$67,$65,$5F,$63
       00:06BD: 67 65 74 5F 
       00:06C1: 69 6D 61 67 
       00:06C5: 65 5F 63 
  3423 00:06C8: 61 63 68 65  	db	$61,$63,$68,$65,$3A,$3A,$78,$2D,$6F,$76,
                    $65,$72,$3A,$77,$69
       00:06CC: 3A 3A 78 2D 
       00:06D0: 6F 76 65 72 
       00:06D4: 3A 77 69 
  3424 00:06D7: 64 74 68 3A  	db	$64,$74,$68,$3A,$00,$6B,$5F,$67,$75,$69,
                    $5F,$67,$65,$74,$5F
       00:06DB: 00 6B 5F 67 
       00:06DF: 75 69 5F 67 
       00:06E3: 65 74 5F 
  3425 00:06E6: 69 6D 61 67  	db	$69,$6D,$61,$67,$65,$5F,$63,$61,$63,$68,
                    $65,$3A,$3A,$78,$2D
       00:06EA: 65 5F 63 61 
       00:06EE: 63 68 65 3A 
       00:06F2: 3A 78 2D 
  3426 00:06F5: 6F 76 65 72  	db	$6F,$76,$65,$72,$3A,$78,$3A,$00,$6B,$5F,
                    $67,$75,$69,$5F,$67
       00:06F9: 3A 78 3A 00 
       00:06FD: 6B 5F 67 75 
       00:0701: 69 5F 67 
  3427 00:0704: 65 74 5F 69  	db	$65,$74,$5F,$69,$6D,$61,$67,$65,$5F,$63,
                    $61,$63,$68,$65,$3A
       00:0708: 6D 61 67 65 
       00:070C: 5F 63 61 63 
       00:0710: 68 65 3A 
  3428 00:0713: 3A 78 2D 6F  	db	$3A,$78,$2D,$6F,$76,$65,$72,$3A,$77,$69,
                    $64,$74,$68,$3A,$00
       00:0717: 76 65 72 3A 
       00:071B: 77 69 64 74 
       00:071F: 68 3A 00 
  3429 00:0722: 6B 5F 67 75  	db	$6B,$5F,$67,$75,$69,$5F,$67,$65,$74,$5F,
                    $69,$6D,$61,$67,$65
       00:0726: 69 5F 67 65 
       00:072A: 74 5F 69 6D 
       00:072E: 61 67 65 
  3430 00:0731: 5F 63 61 63  	db	$5F,$63,$61,$63,$68,$65,$3A,$3A,$78,$2D,
                    $6F,$76,$65,$72,$3A
       00:0735: 68 65 3A 3A 
       00:0739: 78 2D 6F 76 
       00:073D: 65 72 3A 
  3431 00:0740: 77 69 64 74  	db	$77,$69,$64,$74,$68,$3A,$61,$64,$6A,$75,
  Mon Sep 27 2021  9:39                                                Page 71


                    $73,$74,$65,$64,$3A
       00:0744: 68 3A 61 64 
       00:0748: 6A 75 73 74 
       00:074C: 65 64 3A 
  3432 00:074F: 00 6B 5F 67  	db	$00,$6B,$5F,$67,$75,$69,$5F,$67,$65,$74,
                    $5F,$69,$6D,$61,$67
       00:0753: 75 69 5F 67 
       00:0757: 65 74 5F 69 
       00:075B: 6D 61 67 
  3433 00:075E: 65 5F 63 61  	db	$65,$5F,$63,$61,$63,$68,$65,$3A,$3A,$79,
                    $2D,$6F,$76,$65,$72
       00:0762: 63 68 65 3A 
       00:0766: 3A 79 2D 6F 
       00:076A: 76 65 72 
  3434 00:076D: 3A 79 3A 00  	db	$3A,$79,$3A,$00,$6B,$5F,$67,$75,$69,$5F,
                    $67,$65,$74,$5F,$69
       00:0771: 6B 5F 67 75 
       00:0775: 69 5F 67 65 
       00:0779: 74 5F 69 
  3435 00:077C: 6D 61 67 65  	db	$6D,$61,$67,$65,$5F,$63,$61,$63,$68,$65,
                    $3A,$3A,$79,$2D,$6F
       00:0780: 5F 63 61 63 
       00:0784: 68 65 3A 3A 
       00:0788: 79 2D 6F 
  3436 00:078B: 76 65 72 3A  	db	$76,$65,$72,$3A,$68,$65,$69,$67,$68,$74,
                    $3A,$00,$6B,$5F,$67
       00:078F: 68 65 69 67 
       00:0793: 68 74 3A 00 
       00:0797: 6B 5F 67 
  3437 00:079A: 75 69 5F 67  	db	$75,$69,$5F,$67,$65,$74,$5F,$69,$6D,$61,
                    $67,$65,$5F,$63,$61
       00:079E: 65 74 5F 69 
       00:07A2: 6D 61 67 65 
       00:07A6: 5F 63 61 
  3438 00:07A9: 63 68 65 3A  	db	$63,$68,$65,$3A,$3A,$79,$2D,$6F,$76,$65,
                    $72,$3A,$68,$65,$69
       00:07AD: 3A 79 2D 6F 
       00:07B1: 76 65 72 3A 
       00:07B5: 68 65 69 
  3439 00:07B8: 67 68 74 3A  	db	$67,$68,$74,$3A,$61,$64,$6A,$75,$73,$74,
                    $65,$64,$3A,$00
       00:07BC: 61 64 6A 75 
       00:07C0: 73 74 65 64 
       00:07C4: 3A 00 
  3440 00:07C6:              	ends
  3441                        ;
  3442                        ;void k_copy_rect(PRECT psrc,PRECT pdst)
  3443                        ;{
  3444                        	.line	473
  3445                        	.line	474
  3446                        	GFX
  3447                        	xdef	~~k_copy_rect
  3448                        	func
  3449                        	.function	474
  3450                        ~~k_copy_rect:
  3451                        	longa	on
  3452                        	longi	on
  3453 06:05BA: 3B           	tsc
  Mon Sep 27 2021  9:39                                                Page 72


  3454 06:05BB: 38           	sec
  3455 06:05BC: E9 00 00     	sbc	#L84
  3456 06:05BF: 1B           	tcs
  3457 06:05C0: 0B           	phd
  3458 06:05C1: 5B           	tcd
  3459             00000004   psrc_0	set	4
  3460             00000008   pdst_0	set	8
  3461                        	.block	474
  3462                        ;	if(psrc && pdst)
  3463                        	.sym	psrc,4,138,6,32,26
  3464                        	.sym	pdst,8,138,6,32,26
  3465                        	.line	475
  3466                        ;	{
  3467 06:05C2: A5 04        	lda	<L84+psrc_0
  3468 06:05C4: 05 06        	ora	<L84+psrc_0+2
  3469 06:05C6: D0 03        	bne	L87
  3470 06:05C8: 82 2B 00     	brl	L10023
  3471                        L87:
  3472 06:05CB: A5 08        	lda	<L84+pdst_0
  3473 06:05CD: 05 0A        	ora	<L84+pdst_0+2
  3474 06:05CF: D0 03        	bne	L88
  3475 06:05D1: 82 22 00     	brl	L10023
  3476                        L88:
  3477                        	.line	476
  3478                        ;		pdst->x  	  = psrc->x;
  3479                        	.line	477
  3480 06:05D4: A7 04        	lda	[<L84+psrc_0]
  3481 06:05D6: 87 08        	sta	[<L84+pdst_0]
  3482                        ;		pdst->y 	  = psrc->y;
  3483                        	.line	478
  3484 06:05D8: A0 02 00     	ldy	#$2
  3485 06:05DB: B7 04        	lda	[<L84+psrc_0],Y
  3486 06:05DD: A0 02 00     	ldy	#$2
  3487 06:05E0: 97 08        	sta	[<L84+pdst_0],Y
  3488                        ;		pdst->width  =	psrc->width;
  3489                        	.line	479
  3490 06:05E2: A0 08 00     	ldy	#$8
  3491 06:05E5: B7 04        	lda	[<L84+psrc_0],Y
  3492 06:05E7: A0 08 00     	ldy	#$8
  3493 06:05EA: 97 08        	sta	[<L84+pdst_0],Y
  3494                        ;		pdst->height =	psrc->height;
  3495                        	.line	480
  3496 06:05EC: A0 0A 00     	ldy	#$a
  3497 06:05EF: B7 04        	lda	[<L84+psrc_0],Y
  3498 06:05F1: A0 0A 00     	ldy	#$a
  3499 06:05F4: 97 08        	sta	[<L84+pdst_0],Y
  3500                        ;	}
  3501                        	.line	481
  3502                        ;}
  3503                        L10023:
  3504                        	.line	482
  3505                        L89:
  3506 06:05F6: A5 02        	lda	<L84+2
  3507 06:05F8: 85 0A        	sta	<L84+2+8
  3508 06:05FA: A5 01        	lda	<L84+1
  3509 06:05FC: 85 09        	sta	<L84+1+8
  3510 06:05FE: 2B           	pld
  3511 06:05FF: 3B           	tsc
  Mon Sep 27 2021  9:39                                                Page 73


  3512 06:0600: 18           	clc
  3513 06:0601: 69 08 00     	adc	#L84+8
  3514 06:0604: 1B           	tcs
  3515 06:0605: 6B           	rtl
  3516                        	.endblock	482
  3517             00000000   L84	equ	0
  3518             00000001   L85	equ	1
  3519 06:0606:              	ends
  3520                        	efunc
  3521                        	.endfunc	482,1,0
  3522                        	.line	482
  3523                        ;
  3524                        ;void k_set_rect(PRECT prect,int x,int y, int widt
                    h,int height)
  3525                        ;{
  3526                        	.line	484
  3527                        	.line	485
  3528                        	GFX
  3529                        	xdef	~~k_set_rect
  3530                        	func
  3531                        	.function	485
  3532                        ~~k_set_rect:
  3533                        	longa	on
  3534                        	longi	on
  3535 06:0606: 3B           	tsc
  3536 06:0607: 38           	sec
  3537 06:0608: E9 00 00     	sbc	#L90
  3538 06:060B: 1B           	tcs
  3539 06:060C: 0B           	phd
  3540 06:060D: 5B           	tcd
  3541             00000004   prect_0	set	4
  3542             00000008   x_0	set	8
  3543             0000000A   y_0	set	10
  3544             0000000C   width_0	set	12
  3545             0000000E   height_0	set	14
  3546                        	.block	485
  3547                        ;	if(prect)
  3548                        	.sym	prect,4,138,6,32,26
  3549                        	.sym	x,8,5,6,16
  3550                        	.sym	y,10,5,6,16
  3551                        	.sym	width,12,5,6,16
  3552                        	.sym	height,14,5,6,16
  3553                        	.line	486
  3554                        ;	{
  3555 06:060E: A5 04        	lda	<L90+prect_0
  3556 06:0610: 05 06        	ora	<L90+prect_0+2
  3557 06:0612: D0 03        	bne	L93
  3558 06:0614: 82 19 00     	brl	L10024
  3559                        L93:
  3560                        	.line	487
  3561                        ;		prect->x = x;
  3562                        	.line	488
  3563 06:0617: A5 08        	lda	<L90+x_0
  3564 06:0619: 87 04        	sta	[<L90+prect_0]
  3565                        ;		prect->y = y;
  3566                        	.line	489
  3567 06:061B: A5 0A        	lda	<L90+y_0
  3568 06:061D: A0 02 00     	ldy	#$2
  Mon Sep 27 2021  9:39                                                Page 74


  3569 06:0620: 97 04        	sta	[<L90+prect_0],Y
  3570                        ;		prect->width = width;
  3571                        	.line	490
  3572 06:0622: A5 0C        	lda	<L90+width_0
  3573 06:0624: A0 08 00     	ldy	#$8
  3574 06:0627: 97 04        	sta	[<L90+prect_0],Y
  3575                        ;		prect->height = height;
  3576                        	.line	491
  3577 06:0629: A5 0E        	lda	<L90+height_0
  3578 06:062B: A0 0A 00     	ldy	#$a
  3579 06:062E: 97 04        	sta	[<L90+prect_0],Y
  3580                        ;	}
  3581                        	.line	492
  3582                        ;}
  3583                        L10024:
  3584                        	.line	493
  3585                        L94:
  3586 06:0630: A5 02        	lda	<L90+2
  3587 06:0632: 85 0E        	sta	<L90+2+12
  3588 06:0634: A5 01        	lda	<L90+1
  3589 06:0636: 85 0D        	sta	<L90+1+12
  3590 06:0638: 2B           	pld
  3591 06:0639: 3B           	tsc
  3592 06:063A: 18           	clc
  3593 06:063B: 69 0C 00     	adc	#L90+12
  3594 06:063E: 1B           	tcs
  3595 06:063F: 6B           	rtl
  3596                        	.endblock	493
  3597             00000000   L90	equ	0
  3598             00000001   L91	equ	1
  3599 06:0640:              	ends
  3600                        	efunc
  3601                        	.endfunc	493,1,0
  3602                        	.line	493
  3603                        ;
  3604                        ;
  3605                        ;INT k_is_overlapped_rect(PRECT r1,PRECT r2)
  3606                        ;{
  3607                        	.line	496
  3608                        	.line	497
  3609                        	GFX
  3610                        	xdef	~~k_is_overlapped_rect
  3611                        	func
  3612                        	.function	497
  3613                        ~~k_is_overlapped_rect:
  3614                        	longa	on
  3615                        	longi	on
  3616 06:0640: 3B           	tsc
  3617 06:0641: 38           	sec
  3618 06:0642: E9 10 00     	sbc	#L95
  3619 06:0645: 1B           	tcs
  3620 06:0646: 0B           	phd
  3621 06:0647: 5B           	tcd
  3622             00000004   r1_0	set	4
  3623             00000008   r2_0	set	8
  3624                        	.block	497
  3625                        ;	POINT rLeft1;
  3626                        ;	POINT rRight1;
  Mon Sep 27 2021  9:39                                                Page 75


  3627                        ;	POINT rLeft2;
  3628                        ;	POINT rRight2;
  3629                        ;
  3630                        ;	rLeft1.x = r1->x;
  3631             00000000   rLeft1_1	set	0
  3632             00000004   rRight1_1	set	4
  3633             00000008   rLeft2_1	set	8
  3634             0000000C   rRight2_1	set	12
  3635                        	.sym	rLeft1,0,10,1,32,25
  3636                        	.sym	rRight1,4,10,1,32,25
  3637                        	.sym	rLeft2,8,10,1,32,25
  3638                        	.sym	rRight2,12,10,1,32,25
  3639                        	.sym	r1,4,138,6,32,26
  3640                        	.sym	r2,8,138,6,32,26
  3641                        	.line	503
  3642 06:0648: A7 14        	lda	[<L95+r1_0]
  3643 06:064A: 85 01        	sta	<L96+rLeft1_1
  3644                        ;	rLeft1.y = r1->y;
  3645                        	.line	504
  3646 06:064C: A0 02 00     	ldy	#$2
  3647 06:064F: B7 14        	lda	[<L95+r1_0],Y
  3648 06:0651: 85 03        	sta	<L96+rLeft1_1+2
  3649                        ;	rRight1.x = r1->x + r1->width;
  3650                        	.line	505
  3651 06:0653: 18           	clc
  3652 06:0654: A7 14        	lda	[<L95+r1_0]
  3653 06:0656: A0 08 00     	ldy	#$8
  3654 06:0659: 77 14        	adc	[<L95+r1_0],Y
  3655 06:065B: 85 05        	sta	<L96+rRight1_1
  3656                        ;	rRight1.y = r1->y + r1->height;
  3657                        	.line	506
  3658 06:065D: 18           	clc
  3659 06:065E: A0 02 00     	ldy	#$2
  3660 06:0661: B7 14        	lda	[<L95+r1_0],Y
  3661 06:0663: A0 0A 00     	ldy	#$a
  3662 06:0666: 77 14        	adc	[<L95+r1_0],Y
  3663 06:0668: 85 07        	sta	<L96+rRight1_1+2
  3664                        ;
  3665                        ;	rLeft2.x = r2->x;
  3666                        	.line	508
  3667 06:066A: A7 18        	lda	[<L95+r2_0]
  3668 06:066C: 85 09        	sta	<L96+rLeft2_1
  3669                        ;	rLeft2.y = r2->y;
  3670                        	.line	509
  3671 06:066E: A0 02 00     	ldy	#$2
  3672 06:0671: B7 18        	lda	[<L95+r2_0],Y
  3673 06:0673: 85 0B        	sta	<L96+rLeft2_1+2
  3674                        ;	rRight2.x = r2->x + r2->width;
  3675                        	.line	510
  3676 06:0675: 18           	clc
  3677 06:0676: A7 18        	lda	[<L95+r2_0]
  3678 06:0678: A0 08 00     	ldy	#$8
  3679 06:067B: 77 18        	adc	[<L95+r2_0],Y
  3680 06:067D: 85 0D        	sta	<L96+rRight2_1
  3681                        ;	rRight2.y = r2->y + r2->height;
  3682                        	.line	511
  3683 06:067F: 18           	clc
  3684 06:0680: A0 02 00     	ldy	#$2
  Mon Sep 27 2021  9:39                                                Page 76


  3685 06:0683: B7 18        	lda	[<L95+r2_0],Y
  3686 06:0685: A0 0A 00     	ldy	#$a
  3687 06:0688: 77 18        	adc	[<L95+r2_0],Y
  3688 06:068A: 85 0F        	sta	<L96+rRight2_1+2
  3689                        ;
  3690                        ;	//k_debug_rect("k_is_overlapped_rect::r1:",r1);
  3691                        ;//	k_debug_rect("k_is_overlapped_rect::r2:"
                    ,r2);
  3692                        ;
  3693                        ;	//k_debug_integer("A:",k_is_overlapped_rect_poin
                    ts(&rLeft1,&rRight1,&rLeft2,&rRight2));
  3694                        ;	//k_debug_integer("B:",k_is_overlapped_rect_poin
                    ts(&rLeft2,&rRight2,&rLeft1,&rRight1));
  3695                        ;
  3696                        ;	return k_is_overlapped_rect_points(&rLeft1,&rRig
                    ht1,&rLeft2,&rRight2);
  3697                        	.line	519
  3698 06:068C: F4 00 00     	pea	#0
  3699 06:068F: 18           	clc
  3700 06:0690: 7B           	tdc
  3701 06:0691: 69 0D 00     	adc	#<L96+rRight2_1
  3702 06:0694: 48           	pha
  3703 06:0695: F4 00 00     	pea	#0
  3704 06:0698: 18           	clc
  3705 06:0699: 7B           	tdc
  3706 06:069A: 69 09 00     	adc	#<L96+rLeft2_1
  3707 06:069D: 48           	pha
  3708 06:069E: F4 00 00     	pea	#0
  3709 06:06A1: 18           	clc
  3710 06:06A2: 7B           	tdc
  3711 06:06A3: 69 05 00     	adc	#<L96+rRight1_1
  3712 06:06A6: 48           	pha
  3713 06:06A7: F4 00 00     	pea	#0
  3714 06:06AA: 18           	clc
  3715 06:06AB: 7B           	tdc
  3716 06:06AC: 69 01 00     	adc	#<L96+rLeft1_1
  3717 06:06AF: 48           	pha
  3718 06:06B0: 22 C6 06 06  	jsl	~~k_is_overlapped_rect_points
  3719                        L98:
  3720 06:06B4: A8           	tay
  3721 06:06B5: A5 12        	lda	<L95+2
  3722 06:06B7: 85 1A        	sta	<L95+2+8
  3723 06:06B9: A5 11        	lda	<L95+1
  3724 06:06BB: 85 19        	sta	<L95+1+8
  3725 06:06BD: 2B           	pld
  3726 06:06BE: 3B           	tsc
  3727 06:06BF: 18           	clc
  3728 06:06C0: 69 18 00     	adc	#L95+8
  3729 06:06C3: 1B           	tcs
  3730 06:06C4: 98           	tya
  3731 06:06C5: 6B           	rtl
  3732                        ;}
  3733                        	.line	520
  3734                        	.endblock	520
  3735             00000010   L95	equ	16
  3736             00000001   L96	equ	1
  3737 06:06C6:              	ends
  3738                        	efunc
  Mon Sep 27 2021  9:39                                                Page 77


  3739                        	.endfunc	520,1,16
  3740                        	.line	520
  3741                        ;
  3742                        ;// Returns true if two rectangles (l1, r1) and (l
                    2, r2) overlap
  3743                        ;INT k_is_overlapped_rect_points(PPOINT left1, PPO
                    INT right1, PPOINT left2, PPOINT right2)
  3744                        ;{
  3745                        	.line	523
  3746                        	.line	524
  3747                        	GFX
  3748                        	xdef	~~k_is_overlapped_rect_points
  3749                        	func
  3750                        	.function	524
  3751                        ~~k_is_overlapped_rect_points:
  3752                        	longa	on
  3753                        	longi	on
  3754 06:06C6: 3B           	tsc
  3755 06:06C7: 38           	sec
  3756 06:06C8: E9 00 00     	sbc	#L99
  3757 06:06CB: 1B           	tcs
  3758 06:06CC: 0B           	phd
  3759 06:06CD: 5B           	tcd
  3760             00000004   left1_0	set	4
  3761             00000008   right1_0	set	8
  3762             0000000C   left2_0	set	12
  3763             00000010   right2_0	set	16
  3764                        	.block	524
  3765                        ;	// If one rectangle is on left side of other
  3766                        ;	// (l1.x > r2.x) this happens when the first rec
                    tangle(l1,r1) is totally on the right of the second rectangl
                    e(l2,r2).
  3767                        ;	// (l2.x > r1.x) this happens when the second re
                    ctangle(l2,r2) is totally on the right of the first rectangl
                    e(l1,r1).
  3768                        ;	//k_debug_integer("k_is_overlapped_rect_points::
                    condition1:left1->x >= right2->x:",left1->x >= right2->x);
  3769                        ;	//k_debug_integer("k_is_overlapped_rect_points::
                    condition1:left2->x >= right1->x:",left2->x >= right1->x);
  3770                        ;
  3771                        ;
  3772                        ;	if (left1->x >= right2->x || left2->x >= right1-
                    >x) //if (l1.x >= r2.x || l2.x >= r1.x)
  3773                        	.sym	left1,4,138,6,32,25
  3774                        	.sym	right1,8,138,6,32,25
  3775                        	.sym	left2,12,138,6,32,25
  3776                        	.sym	right2,16,138,6,32,25
  3777                        	.line	532
  3778                        ;	{
  3779 06:06CE: 38           	sec
  3780 06:06CF: A7 04        	lda	[<L99+left1_0]
  3781 06:06D1: E7 10        	sbc	[<L99+right2_0]
  3782 06:06D3: 70 03        	bvs	L103
  3783 06:06D5: 49 00 80     	eor	#$8000
  3784                        L103:
  3785 06:06D8: 10 03        	bpl	L104
  3786 06:06DA: 82 0F 00     	brl	L102
  3787                        L104:
  Mon Sep 27 2021  9:39                                                Page 78


  3788 06:06DD: 38           	sec
  3789 06:06DE: A7 0C        	lda	[<L99+left2_0]
  3790 06:06E0: E7 08        	sbc	[<L99+right1_0]
  3791 06:06E2: 70 03        	bvs	L105
  3792 06:06E4: 49 00 80     	eor	#$8000
  3793                        L105:
  3794 06:06E7: 30 03        	bmi	L106
  3795 06:06E9: 82 15 00     	brl	L10025
  3796                        L106:
  3797                        L102:
  3798                        	.line	533
  3799                        ;		//k_debug_integer("k_is_overlapped_rect_
                    points::condition1:",1);
  3800                        ;		return FALSE;
  3801                        	.line	535
  3802 06:06EC: A9 00 00     	lda	#$0
  3803                        L107:
  3804 06:06EF: A8           	tay
  3805 06:06F0: A5 02        	lda	<L99+2
  3806 06:06F2: 85 12        	sta	<L99+2+16
  3807 06:06F4: A5 01        	lda	<L99+1
  3808 06:06F6: 85 11        	sta	<L99+1+16
  3809 06:06F8: 2B           	pld
  3810 06:06F9: 3B           	tsc
  3811 06:06FA: 18           	clc
  3812 06:06FB: 69 10 00     	adc	#L99+16
  3813 06:06FE: 1B           	tcs
  3814 06:06FF: 98           	tya
  3815 06:0700: 6B           	rtl
  3816                        ;	}
  3817                        	.line	536
  3818                        ;	// If one rectangle is above other
  3819                        ;	// (l1.y < r2.y) happens when the first rectangl
                    e(l1,r1) is totally below the second rectangle(l2,r2).
  3820                        ;	// (l2.y < r1.y) happens when the second rectang
                    le(l2,r2) is totally below the first rectangle(l1,r1).
  3821                        ;	if (left1->y > right2->y || left2->y > right1->y
                    )
  3822                        L10025:
  3823                        	.line	540
  3824                        ;	{
  3825 06:0701: 38           	sec
  3826 06:0702: A0 02 00     	ldy	#$2
  3827 06:0705: B7 10        	lda	[<L99+right2_0],Y
  3828 06:0707: A0 02 00     	ldy	#$2
  3829 06:070A: F7 04        	sbc	[<L99+left1_0],Y
  3830 06:070C: 70 03        	bvs	L109
  3831 06:070E: 49 00 80     	eor	#$8000
  3832                        L109:
  3833 06:0711: 30 03        	bmi	L110
  3834 06:0713: 82 15 00     	brl	L108
  3835                        L110:
  3836 06:0716: 38           	sec
  3837 06:0717: A0 02 00     	ldy	#$2
  3838 06:071A: B7 08        	lda	[<L99+right1_0],Y
  3839 06:071C: A0 02 00     	ldy	#$2
  3840 06:071F: F7 0C        	sbc	[<L99+left2_0],Y
  3841 06:0721: 70 03        	bvs	L111
  Mon Sep 27 2021  9:39                                                Page 79


  3842 06:0723: 49 00 80     	eor	#$8000
  3843                        L111:
  3844 06:0726: 10 03        	bpl	L112
  3845 06:0728: 82 06 00     	brl	L10026
  3846                        L112:
  3847                        L108:
  3848                        	.line	541
  3849                        ;		//k_debug_integer("k_is_overlapped_rect_
                    points::condition2:L1Y:",left1->y);
  3850                        ;		//k_debug_integer("k_is_overlapped_rect_
                    points::condition2:R2Y:",right2->y);
  3851                        ;		//k_debug_integer("k_is_overlapped_rect_
                    points::condition2:l1->y <= r2->y:",left1->y <= right2->y);
  3852                        ;
  3853                        ;		//k_debug_integer("k_is_overlapped_rect_
                    points::condition2:L2Y:",left2->y);
  3854                        ;		//k_debug_integer("k_is_overlapped_rect_
                    points::condition2:R1Y:",right1->y);
  3855                        ;		//k_debug_integer("k_is_overlapped_rect_
                    points::condition2:l2->y <= r1->y:",left2->y <= right1->y);
  3856                        ;		return FALSE;
  3857                        	.line	549
  3858 06:072B: A9 00 00     	lda	#$0
  3859 06:072E: 82 BE FF     	brl	L107
  3860                        ;	}
  3861                        	.line	550
  3862                        ;	return TRUE;
  3863                        L10026:
  3864                        	.line	551
  3865 06:0731: A9 01 00     	lda	#$1
  3866 06:0734: 82 B8 FF     	brl	L107
  3867                        ;}
  3868                        	.line	552
  3869                        	.endblock	552
  3870             00000000   L99	equ	0
  3871             00000001   L100	equ	1
  3872 06:0737:              	ends
  3873                        	efunc
  3874                        	.endfunc	552,1,0
  3875                        	.line	552
  3876                        ;
  3877                        ;BOOL k_is_inside_rect(PRECT prect, int dx, int dy
                    )
  3878                        ;{
  3879                        	.line	554
  3880                        	.line	555
  3881                        	GFX
  3882                        	xdef	~~k_is_inside_rect
  3883                        	func
  3884                        	.function	555
  3885                        ~~k_is_inside_rect:
  3886                        	longa	on
  3887                        	longi	on
  3888 06:0737: 3B           	tsc
  3889 06:0738: 38           	sec
  3890 06:0739: E9 05 00     	sbc	#L113
  3891 06:073C: 1B           	tcs
  3892 06:073D: 0B           	phd
  Mon Sep 27 2021  9:39                                                Page 80


  3893 06:073E: 5B           	tcd
  3894             00000004   prect_0	set	4
  3895             00000008   dx_0	set	8
  3896             0000000A   dy_0	set	10
  3897                        	.block	555
  3898                        ;	BOOL bRet = FALSE;
  3899                        ;
  3900                        ;	if ((dx > prect->x) && (dx < (prect->x + prect->
                    width)))
  3901             00000000   bRet_1	set	0
  3902                        	.sym	bRet,0,14,1,8
  3903                        	.sym	prect,4,138,6,32,26
  3904                        	.sym	dx,8,5,6,16
  3905                        	.sym	dy,10,5,6,16
  3906 06:073F: E2 20        	sep	#$20
  3907                        	longa	off
  3908 06:0741: 64 05        	stz	<L114+bRet_1
  3909 06:0743: C2 20        	rep	#$20
  3910                        	longa	on
  3911                        	.line	558
  3912                        ;	{
  3913 06:0745: 38           	sec
  3914 06:0746: A7 09        	lda	[<L113+prect_0]
  3915 06:0748: E5 0D        	sbc	<L113+dx_0
  3916 06:074A: 70 03        	bvs	L116
  3917 06:074C: 49 00 80     	eor	#$8000
  3918                        L116:
  3919 06:074F: 10 03        	bpl	L117
  3920 06:0751: 82 4F 00     	brl	L10027
  3921                        L117:
  3922 06:0754: 18           	clc
  3923 06:0755: A7 09        	lda	[<L113+prect_0]
  3924 06:0757: A0 08 00     	ldy	#$8
  3925 06:075A: 77 09        	adc	[<L113+prect_0],Y
  3926 06:075C: 85 01        	sta	<R0
  3927 06:075E: 38           	sec
  3928 06:075F: A5 0D        	lda	<L113+dx_0
  3929 06:0761: E5 01        	sbc	<R0
  3930 06:0763: 70 03        	bvs	L118
  3931 06:0765: 49 00 80     	eor	#$8000
  3932                        L118:
  3933 06:0768: 10 03        	bpl	L119
  3934 06:076A: 82 36 00     	brl	L10027
  3935                        L119:
  3936                        	.line	559
  3937                        ;		if ((dy > prect->y) && (dy < (prect->y +
                     prect->height)))
  3938                        	.line	560
  3939                        ;		{
  3940 06:076D: 38           	sec
  3941 06:076E: A0 02 00     	ldy	#$2
  3942 06:0771: B7 09        	lda	[<L113+prect_0],Y
  3943 06:0773: E5 0F        	sbc	<L113+dy_0
  3944 06:0775: 70 03        	bvs	L120
  3945 06:0777: 49 00 80     	eor	#$8000
  3946                        L120:
  3947 06:077A: 10 03        	bpl	L121
  3948 06:077C: 82 24 00     	brl	L10028
  Mon Sep 27 2021  9:39                                                Page 81


  3949                        L121:
  3950 06:077F: 18           	clc
  3951 06:0780: A0 02 00     	ldy	#$2
  3952 06:0783: B7 09        	lda	[<L113+prect_0],Y
  3953 06:0785: A0 0A 00     	ldy	#$a
  3954 06:0788: 77 09        	adc	[<L113+prect_0],Y
  3955 06:078A: 85 01        	sta	<R0
  3956 06:078C: 38           	sec
  3957 06:078D: A5 0F        	lda	<L113+dy_0
  3958 06:078F: E5 01        	sbc	<R0
  3959 06:0791: 70 03        	bvs	L122
  3960 06:0793: 49 00 80     	eor	#$8000
  3961                        L122:
  3962 06:0796: 10 03        	bpl	L123
  3963 06:0798: 82 08 00     	brl	L10028
  3964                        L123:
  3965                        	.line	561
  3966                        ;			bRet = TRUE;
  3967                        	.line	562
  3968 06:079B: E2 20        	sep	#$20
  3969                        	longa	off
  3970 06:079D: A9 01        	lda	#$1
  3971 06:079F: 85 05        	sta	<L114+bRet_1
  3972 06:07A1: C2 20        	rep	#$20
  3973                        	longa	on
  3974                        ;		}
  3975                        	.line	563
  3976                        ;	}
  3977                        L10028:
  3978                        	.line	564
  3979                        ;
  3980                        ;	return bRet;
  3981                        L10027:
  3982                        	.line	566
  3983 06:07A3: A5 05        	lda	<L114+bRet_1
  3984 06:07A5: 29 FF 00     	and	#$ff
  3985                        L124:
  3986 06:07A8: A8           	tay
  3987 06:07A9: A5 07        	lda	<L113+2
  3988 06:07AB: 85 0F        	sta	<L113+2+8
  3989 06:07AD: A5 06        	lda	<L113+1
  3990 06:07AF: 85 0E        	sta	<L113+1+8
  3991 06:07B1: 2B           	pld
  3992 06:07B2: 3B           	tsc
  3993 06:07B3: 18           	clc
  3994 06:07B4: 69 0D 00     	adc	#L113+8
  3995 06:07B7: 1B           	tcs
  3996 06:07B8: 98           	tya
  3997 06:07B9: 6B           	rtl
  3998                        ;}
  3999                        	.line	567
  4000                        	.endblock	567
  4001             00000005   L113	equ	5
  4002             00000005   L114	equ	5
  4003 06:07BA:              	ends
  4004                        	efunc
  4005                        	.endfunc	567,5,5
  4006                        	.line	567
  Mon Sep 27 2021  9:39                                                Page 82


  4007                        ;
  4008                        ;LONG k_gui_get_pixel_offset(int x,int y)
  4009                        ;{
  4010                        	.line	569
  4011                        	.line	570
  4012                        	GFX
  4013                        	xdef	~~k_gui_get_pixel_offset
  4014                        	func
  4015                        	.function	570
  4016                        ~~k_gui_get_pixel_offset:
  4017                        	longa	on
  4018                        	longi	on
  4019 06:07BA: 3B           	tsc
  4020 06:07BB: 38           	sec
  4021 06:07BC: E9 04 00     	sbc	#L125
  4022 06:07BF: 1B           	tcs
  4023 06:07C0: 0B           	phd
  4024 06:07C1: 5B           	tcd
  4025             00000004   x_0	set	4
  4026             00000006   y_0	set	6
  4027                        	.block	570
  4028                        ;	//return (LPVOID)(( ((long)y) * (640L)) + ((long
                    )x) );
  4029                        ;	return k_gui_get_pixel_offset_width(x,y,640);
  4030                        	.sym	x,4,5,6,16
  4031                        	.sym	y,6,5,6,16
  4032                        	.line	572
  4033 06:07C2: F4 80 02     	pea	#<$280
  4034 06:07C5: D4 0A        	pei	<L125+y_0
  4035 06:07C7: D4 08        	pei	<L125+x_0
  4036 06:07C9: 22 E7 07 06  	jsl	~~k_gui_get_pixel_offset_width
  4037 06:07CD: 85 01        	sta	<R0
  4038 06:07CF: 86 03        	stx	<R0+2
  4039 06:07D1: A6 03        	ldx	<R0+2
  4040 06:07D3: A5 01        	lda	<R0
  4041                        L128:
  4042 06:07D5: A8           	tay
  4043 06:07D6: A5 06        	lda	<L125+2
  4044 06:07D8: 85 0A        	sta	<L125+2+4
  4045 06:07DA: A5 05        	lda	<L125+1
  4046 06:07DC: 85 09        	sta	<L125+1+4
  4047 06:07DE: 2B           	pld
  4048 06:07DF: 3B           	tsc
  4049 06:07E0: 18           	clc
  4050 06:07E1: 69 08 00     	adc	#L125+4
  4051 06:07E4: 1B           	tcs
  4052 06:07E5: 98           	tya
  4053 06:07E6: 6B           	rtl
  4054                        ;}
  4055                        	.line	573
  4056                        	.endblock	573
  4057             00000004   L125	equ	4
  4058             00000005   L126	equ	5
  4059 06:07E7:              	ends
  4060                        	efunc
  4061                        	.endfunc	573,5,4
  4062                        	.line	573
  4063                        ;
  Mon Sep 27 2021  9:39                                                Page 83


  4064                        ;LONG k_gui_get_pixel_offset_width(int x,int y,int
                     width)
  4065                        ;{
  4066                        	.line	575
  4067                        	.line	576
  4068                        	GFX
  4069                        	xdef	~~k_gui_get_pixel_offset_width
  4070                        	func
  4071                        	.function	576
  4072                        ~~k_gui_get_pixel_offset_width:
  4073                        	longa	on
  4074                        	longi	on
  4075 06:07E7: 3B           	tsc
  4076 06:07E8: 38           	sec
  4077 06:07E9: E9 0C 00     	sbc	#L129
  4078 06:07EC: 1B           	tcs
  4079 06:07ED: 0B           	phd
  4080 06:07EE: 5B           	tcd
  4081             00000004   x_0	set	4
  4082             00000006   y_0	set	6
  4083             00000008   width_0	set	8
  4084                        	.block	576
  4085                        ;	return (LONG)(( ((long)y) * ((long)width)) + ((l
                    ong)x) );
  4086                        	.sym	x,4,5,6,16
  4087                        	.sym	y,6,5,6,16
  4088                        	.sym	width,8,5,6,16
  4089                        	.line	577
  4090 06:07EF: A0 00 00     	ldy	#$0
  4091 06:07F2: A5 10        	lda	<L129+x_0
  4092 06:07F4: 10 01        	bpl	L132
  4093 06:07F6: 88           	dey
  4094                        L132:
  4095 06:07F7: 85 01        	sta	<R0
  4096 06:07F9: 84 03        	sty	<R0+2
  4097 06:07FB: A0 00 00     	ldy	#$0
  4098 06:07FE: A5 14        	lda	<L129+width_0
  4099 06:0800: 10 01        	bpl	L133
  4100 06:0802: 88           	dey
  4101                        L133:
  4102 06:0803: 85 05        	sta	<R1
  4103 06:0805: 84 07        	sty	<R1+2
  4104 06:0807: A0 00 00     	ldy	#$0
  4105 06:080A: A5 12        	lda	<L129+y_0
  4106 06:080C: 10 01        	bpl	L134
  4107 06:080E: 88           	dey
  4108                        L134:
  4109 06:080F: 85 09        	sta	<R2
  4110 06:0811: 84 0B        	sty	<R2+2
  4111 06:0813: D4 07        	pei	<R1+2
  4112 06:0815: D4 05        	pei	<R1
  4113 06:0817: D4 0B        	pei	<R2+2
  4114 06:0819: D4 09        	pei	<R2
  4115                        	xref	~~~lmul
  4116 06:081B: 22 xx xx xx  	jsl	~~~lmul
  4117 06:081F: 85 05        	sta	<R1
  4118 06:0821: 86 07        	stx	<R1+2
  4119 06:0823: 18           	clc
  Mon Sep 27 2021  9:39                                                Page 84


  4120 06:0824: A5 05        	lda	<R1
  4121 06:0826: 65 01        	adc	<R0
  4122 06:0828: 85 09        	sta	<R2
  4123 06:082A: A5 07        	lda	<R1+2
  4124 06:082C: 65 03        	adc	<R0+2
  4125 06:082E: 85 0B        	sta	<R2+2
  4126 06:0830: A6 0B        	ldx	<R2+2
  4127 06:0832: A5 09        	lda	<R2
  4128                        L135:
  4129 06:0834: A8           	tay
  4130 06:0835: A5 0E        	lda	<L129+2
  4131 06:0837: 85 14        	sta	<L129+2+6
  4132 06:0839: A5 0D        	lda	<L129+1
  4133 06:083B: 85 13        	sta	<L129+1+6
  4134 06:083D: 2B           	pld
  4135 06:083E: 3B           	tsc
  4136 06:083F: 18           	clc
  4137 06:0840: 69 12 00     	adc	#L129+6
  4138 06:0843: 1B           	tcs
  4139 06:0844: 98           	tya
  4140 06:0845: 6B           	rtl
  4141                        ;}
  4142                        	.line	578
  4143                        	.endblock	578
  4144             0000000C   L129	equ	12
  4145             0000000D   L130	equ	13
  4146 06:0846:              	ends
  4147                        	efunc
  4148                        	.endfunc	578,13,12
  4149                        	.line	578
  4150                        ;
  4151                        ;void k_set_foreground_palette(char paletteId)
  4152                        ;{
  4153                        	.line	580
  4154                        	.line	581
  4155                        	GFX
  4156                        	xdef	~~k_set_foreground_palette
  4157                        	func
  4158                        	.function	581
  4159                        ~~k_set_foreground_palette:
  4160                        	longa	on
  4161                        	longi	on
  4162 06:0846: 3B           	tsc
  4163 06:0847: 38           	sec
  4164 06:0848: E9 00 00     	sbc	#L136
  4165 06:084B: 1B           	tcs
  4166 06:084C: 0B           	phd
  4167 06:084D: 5B           	tcd
  4168             00000004   paletteId_0	set	4
  4169                        	.block	581
  4170                        ;	FG_CHAR_LUT_PTR[0] = paletteId;
  4171                        	.sym	paletteId,4,14,6,8
  4172                        	.line	582
  4173 06:084E: E2 20        	sep	#$20
  4174                        	longa	off
  4175 06:0850: A5 04        	lda	<L136+paletteId_0
  4176 06:0852: 8F 40 1F AF  	sta	>11476800
  4177 06:0856: C2 20        	rep	#$20
  Mon Sep 27 2021  9:39                                                Page 85


  4178                        	longa	on
  4179                        ;}
  4180                        	.line	583
  4181                        L139:
  4182 06:0858: A5 02        	lda	<L136+2
  4183 06:085A: 85 04        	sta	<L136+2+2
  4184 06:085C: A5 01        	lda	<L136+1
  4185 06:085E: 85 03        	sta	<L136+1+2
  4186 06:0860: 2B           	pld
  4187 06:0861: 3B           	tsc
  4188 06:0862: 18           	clc
  4189 06:0863: 69 02 00     	adc	#L136+2
  4190 06:0866: 1B           	tcs
  4191 06:0867: 6B           	rtl
  4192                        	.endblock	583
  4193             00000000   L136	equ	0
  4194             00000001   L137	equ	1
  4195 06:0868:              	ends
  4196                        	efunc
  4197                        	.endfunc	583,1,0
  4198                        	.line	583
  4199                        ;
  4200                        ;void k_set_text_gamma(char c)
  4201                        ;{
  4202                        	.line	585
  4203                        	.line	586
  4204                        	GFX
  4205                        	xdef	~~k_set_text_gamma
  4206                        	func
  4207                        	.function	586
  4208                        ~~k_set_text_gamma:
  4209                        	longa	on
  4210                        	longi	on
  4211 06:0868: 3B           	tsc
  4212 06:0869: 38           	sec
  4213 06:086A: E9 00 00     	sbc	#L140
  4214 06:086D: 1B           	tcs
  4215 06:086E: 0B           	phd
  4216 06:086F: 5B           	tcd
  4217             00000004   c_0	set	4
  4218                        	.block	586
  4219                        ;	GAMMA_B_LUT_PTR[0] = c;
  4220                        	.sym	c,4,14,6,8
  4221                        	.line	587
  4222 06:0870: E2 20        	sep	#$20
  4223                        	longa	off
  4224 06:0872: A5 04        	lda	<L140+c_0
  4225 06:0874: 8F 00 40 AF  	sta	>11485184
  4226 06:0878: C2 20        	rep	#$20
  4227                        	longa	on
  4228                        ;	GAMMA_G_LUT_PTR[0] = c;
  4229                        	.line	588
  4230 06:087A: E2 20        	sep	#$20
  4231                        	longa	off
  4232 06:087C: A5 04        	lda	<L140+c_0
  4233 06:087E: 8F 00 41 AF  	sta	>11485440
  4234 06:0882: C2 20        	rep	#$20
  4235                        	longa	on
  Mon Sep 27 2021  9:39                                                Page 86


  4236                        ;	GAMMA_R_LUT_PTR[0] = c;
  4237                        	.line	589
  4238 06:0884: E2 20        	sep	#$20
  4239                        	longa	off
  4240 06:0886: A5 04        	lda	<L140+c_0
  4241 06:0888: 8F 00 42 AF  	sta	>11485696
  4242 06:088C: C2 20        	rep	#$20
  4243                        	longa	on
  4244                        ;}
  4245                        	.line	590
  4246                        L143:
  4247 06:088E: A5 02        	lda	<L140+2
  4248 06:0890: 85 04        	sta	<L140+2+2
  4249 06:0892: A5 01        	lda	<L140+1
  4250 06:0894: 85 03        	sta	<L140+1+2
  4251 06:0896: 2B           	pld
  4252 06:0897: 3B           	tsc
  4253 06:0898: 18           	clc
  4254 06:0899: 69 02 00     	adc	#L140+2
  4255 06:089C: 1B           	tcs
  4256 06:089D: 6B           	rtl
  4257                        	.endblock	590
  4258             00000000   L140	equ	0
  4259             00000001   L141	equ	1
  4260 06:089E:              	ends
  4261                        	efunc
  4262                        	.endfunc	590,1,0
  4263                        	.line	590
  4264                        ;
  4265                        ;void k_set_text_color(char c)
  4266                        ;{
  4267                        	.line	592
  4268                        	.line	593
  4269                        	GFX
  4270                        	xdef	~~k_set_text_color
  4271                        	func
  4272                        	.function	593
  4273                        ~~k_set_text_color:
  4274                        	longa	on
  4275                        	longi	on
  4276 06:089E: 3B           	tsc
  4277 06:089F: 38           	sec
  4278 06:08A0: E9 00 00     	sbc	#L144
  4279 06:08A3: 1B           	tcs
  4280 06:08A4: 0B           	phd
  4281 06:08A5: 5B           	tcd
  4282             00000004   c_0	set	4
  4283                        	.block	593
  4284                        ;	CURCOLOR_L[0] = c;
  4285                        	.sym	c,4,14,6,8
  4286                        	.line	594
  4287 06:08A6: E2 20        	sep	#$20
  4288                        	longa	off
  4289 06:08A8: A5 04        	lda	<L144+c_0
  4290 06:08AA: 8F 1E 00 00  	sta	>30
  4291 06:08AE: C2 20        	rep	#$20
  4292                        	longa	on
  4293                        ;	CURCOLOR_H[0] = c;
  Mon Sep 27 2021  9:39                                                Page 87


  4294                        	.line	595
  4295 06:08B0: E2 20        	sep	#$20
  4296                        	longa	off
  4297 06:08B2: A5 04        	lda	<L144+c_0
  4298 06:08B4: 8F 1F 00 00  	sta	>31
  4299 06:08B8: C2 20        	rep	#$20
  4300                        	longa	on
  4301                        ;}
  4302                        	.line	596
  4303                        L147:
  4304 06:08BA: A5 02        	lda	<L144+2
  4305 06:08BC: 85 04        	sta	<L144+2+2
  4306 06:08BE: A5 01        	lda	<L144+1
  4307 06:08C0: 85 03        	sta	<L144+1+2
  4308 06:08C2: 2B           	pld
  4309 06:08C3: 3B           	tsc
  4310 06:08C4: 18           	clc
  4311 06:08C5: 69 02 00     	adc	#L144+2
  4312 06:08C8: 1B           	tcs
  4313 06:08C9: 6B           	rtl
  4314                        	.endblock	596
  4315             00000000   L144	equ	0
  4316             00000001   L145	equ	1
  4317 06:08CA:              	ends
  4318                        	efunc
  4319                        	.endfunc	596,1,0
  4320                        	.line	596
  4321                        ;
  4322                        ;VOID k_set_text_colors(VOID)
  4323                        ;{
  4324                        	.line	598
  4325                        	.line	599
  4326                        	GFX
  4327                        	xdef	~~k_set_text_colors
  4328                        	func
  4329                        	.function	599
  4330                        ~~k_set_text_colors:
  4331                        	longa	on
  4332                        	longi	on
  4333 06:08CA: 3B           	tsc
  4334 06:08CB: 38           	sec
  4335 06:08CC: E9 00 00     	sbc	#L148
  4336 06:08CF: 1B           	tcs
  4337 06:08D0: 0B           	phd
  4338 06:08D1: 5B           	tcd
  4339                        	.block	599
  4340                        ;	//k_debug_integer("k_set_text_colors::TEXT_FG_CO
                    LORS:",sizeof(TEXT_FG_COLORS));
  4341                        ;	//k_debug_integer("k_set_text_colors::TEXT_BG_CO
                    LORS:",sizeof(TEXT_BG_COLORS));
  4342                        ;
  4343                        ;	memcpy(FG_CHAR_LUT_PTR,TEXT_FG_COLORS,sizeof(TEX
                    T_FG_COLORS));
  4344                        	.line	603
  4345 06:08D2: F4 40 00     	pea	#<$40
  4346 06:08D5: F4 xx xx     	pea	#^~~TEXT_FG_COLORS
  4347 06:08D8: F4 xx xx     	pea	#<~~TEXT_FG_COLORS
  4348 06:08DB: F4 AF 00     	pea	#^$af1f40
  Mon Sep 27 2021  9:39                                                Page 88


  4349 06:08DE: F4 40 1F     	pea	#<$af1f40
  4350 06:08E1: 22 xx xx xx  	jsl	~~memcpy
  4351                        ;	memcpy(BG_CHAR_LUT_PTR,TEXT_BG_COLORS,sizeof(TEX
                    T_BG_COLORS));
  4352                        	.line	604
  4353 06:08E5: F4 40 00     	pea	#<$40
  4354 06:08E8: F4 xx xx     	pea	#^~~TEXT_BG_COLORS
  4355 06:08EB: F4 xx xx     	pea	#<~~TEXT_BG_COLORS
  4356 06:08EE: F4 AF 00     	pea	#^$af1f80
  4357 06:08F1: F4 80 1F     	pea	#<$af1f80
  4358 06:08F4: 22 xx xx xx  	jsl	~~memcpy
  4359                        ;}
  4360                        	.line	605
  4361                        L151:
  4362 06:08F8: 2B           	pld
  4363 06:08F9: 3B           	tsc
  4364 06:08FA: 18           	clc
  4365 06:08FB: 69 00 00     	adc	#L148
  4366 06:08FE: 1B           	tcs
  4367 06:08FF: 6B           	rtl
  4368                        	.endblock	605
  4369             00000000   L148	equ	0
  4370             00000001   L149	equ	1
  4371 06:0900:              	ends
  4372                        	efunc
  4373                        	.endfunc	605,1,0
  4374                        	.line	605
  4375                        ;
  4376                        ;
  4377                        ;void setColors(void)
  4378                        ;{
  4379                        	.line	608
  4380                        	.line	609
  4381                        	GFX
  4382                        	xdef	~~setColors
  4383                        	func
  4384                        	.function	609
  4385                        ~~setColors:
  4386                        	longa	on
  4387                        	longi	on
  4388 06:0900: 3B           	tsc
  4389 06:0901: 38           	sec
  4390 06:0902: E9 08 00     	sbc	#L152
  4391 06:0905: 1B           	tcs
  4392 06:0906: 0B           	phd
  4393 06:0907: 5B           	tcd
  4394                        	.block	609
  4395                        ;	unsigned long colorIndex = 0;
  4396                        ;
  4397                        ;	//colorIndex = 0;
  4398                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4399             00000000   colorIndex_1	set	0
  4400                        	.sym	colorIndex,0,18,1,32
  4401 06:0908: 64 05        	stz	<L153+colorIndex_1
  4402 06:090A: 64 07        	stz	<L153+colorIndex_1+2
  4403                        	.line	613
  4404 06:090C: 18           	clc
  4405 06:090D: A9 00 20     	lda	#$2000
  Mon Sep 27 2021  9:39                                                Page 89


  4406 06:0910: 65 05        	adc	<L153+colorIndex_1
  4407 06:0912: 85 01        	sta	<R0
  4408 06:0914: A9 AF 00     	lda	#$af
  4409 06:0917: 65 07        	adc	<L153+colorIndex_1+2
  4410 06:0919: 85 03        	sta	<R0+2
  4411 06:091B: E2 20        	sep	#$20
  4412                        	longa	off
  4413 06:091D: A9 00        	lda	#$0
  4414 06:091F: 87 01        	sta	[<R0]
  4415 06:0921: C2 20        	rep	#$20
  4416                        	longa	on
  4417 06:0923: E6 05        	inc	<L153+colorIndex_1
  4418 06:0925: D0 02        	bne	L155
  4419 06:0927: E6 07        	inc	<L153+colorIndex_1+2
  4420                        L155:
  4421                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4422                        	.line	614
  4423 06:0929: 18           	clc
  4424 06:092A: A9 00 20     	lda	#$2000
  4425 06:092D: 65 05        	adc	<L153+colorIndex_1
  4426 06:092F: 85 01        	sta	<R0
  4427 06:0931: A9 AF 00     	lda	#$af
  4428 06:0934: 65 07        	adc	<L153+colorIndex_1+2
  4429 06:0936: 85 03        	sta	<R0+2
  4430 06:0938: E2 20        	sep	#$20
  4431                        	longa	off
  4432 06:093A: A9 00        	lda	#$0
  4433 06:093C: 87 01        	sta	[<R0]
  4434 06:093E: C2 20        	rep	#$20
  4435                        	longa	on
  4436 06:0940: E6 05        	inc	<L153+colorIndex_1
  4437 06:0942: D0 02        	bne	L156
  4438 06:0944: E6 07        	inc	<L153+colorIndex_1+2
  4439                        L156:
  4440                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4441                        	.line	615
  4442 06:0946: 18           	clc
  4443 06:0947: A9 00 20     	lda	#$2000
  4444 06:094A: 65 05        	adc	<L153+colorIndex_1
  4445 06:094C: 85 01        	sta	<R0
  4446 06:094E: A9 AF 00     	lda	#$af
  4447 06:0951: 65 07        	adc	<L153+colorIndex_1+2
  4448 06:0953: 85 03        	sta	<R0+2
  4449 06:0955: E2 20        	sep	#$20
  4450                        	longa	off
  4451 06:0957: A9 00        	lda	#$0
  4452 06:0959: 87 01        	sta	[<R0]
  4453 06:095B: C2 20        	rep	#$20
  4454                        	longa	on
  4455 06:095D: E6 05        	inc	<L153+colorIndex_1
  4456 06:095F: D0 02        	bne	L157
  4457 06:0961: E6 07        	inc	<L153+colorIndex_1+2
  4458                        L157:
  4459                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4460                        	.line	616
  4461 06:0963: 18           	clc
  4462 06:0964: A9 00 20     	lda	#$2000
  4463 06:0967: 65 05        	adc	<L153+colorIndex_1
  Mon Sep 27 2021  9:39                                                Page 90


  4464 06:0969: 85 01        	sta	<R0
  4465 06:096B: A9 AF 00     	lda	#$af
  4466 06:096E: 65 07        	adc	<L153+colorIndex_1+2
  4467 06:0970: 85 03        	sta	<R0+2
  4468 06:0972: E2 20        	sep	#$20
  4469                        	longa	off
  4470 06:0974: A9 FF        	lda	#$ff
  4471 06:0976: 87 01        	sta	[<R0]
  4472 06:0978: C2 20        	rep	#$20
  4473                        	longa	on
  4474 06:097A: E6 05        	inc	<L153+colorIndex_1
  4475 06:097C: D0 02        	bne	L158
  4476 06:097E: E6 07        	inc	<L153+colorIndex_1+2
  4477                        L158:
  4478                        ;
  4479                        ;	//colorIndex = 1 * 4;
  4480                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4481                        	.line	619
  4482 06:0980: 18           	clc
  4483 06:0981: A9 00 20     	lda	#$2000
  4484 06:0984: 65 05        	adc	<L153+colorIndex_1
  4485 06:0986: 85 01        	sta	<R0
  4486 06:0988: A9 AF 00     	lda	#$af
  4487 06:098B: 65 07        	adc	<L153+colorIndex_1+2
  4488 06:098D: 85 03        	sta	<R0+2
  4489 06:098F: E2 20        	sep	#$20
  4490                        	longa	off
  4491 06:0991: A9 00        	lda	#$0
  4492 06:0993: 87 01        	sta	[<R0]
  4493 06:0995: C2 20        	rep	#$20
  4494                        	longa	on
  4495 06:0997: E6 05        	inc	<L153+colorIndex_1
  4496 06:0999: D0 02        	bne	L159
  4497 06:099B: E6 07        	inc	<L153+colorIndex_1+2
  4498                        L159:
  4499                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4500                        	.line	620
  4501 06:099D: 18           	clc
  4502 06:099E: A9 00 20     	lda	#$2000
  4503 06:09A1: 65 05        	adc	<L153+colorIndex_1
  4504 06:09A3: 85 01        	sta	<R0
  4505 06:09A5: A9 AF 00     	lda	#$af
  4506 06:09A8: 65 07        	adc	<L153+colorIndex_1+2
  4507 06:09AA: 85 03        	sta	<R0+2
  4508 06:09AC: E2 20        	sep	#$20
  4509                        	longa	off
  4510 06:09AE: A9 00        	lda	#$0
  4511 06:09B0: 87 01        	sta	[<R0]
  4512 06:09B2: C2 20        	rep	#$20
  4513                        	longa	on
  4514 06:09B4: E6 05        	inc	<L153+colorIndex_1
  4515 06:09B6: D0 02        	bne	L160
  4516 06:09B8: E6 07        	inc	<L153+colorIndex_1+2
  4517                        L160:
  4518                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  4519                        	.line	621
  4520 06:09BA: 18           	clc
  4521 06:09BB: A9 00 20     	lda	#$2000
  Mon Sep 27 2021  9:39                                                Page 91


  4522 06:09BE: 65 05        	adc	<L153+colorIndex_1
  4523 06:09C0: 85 01        	sta	<R0
  4524 06:09C2: A9 AF 00     	lda	#$af
  4525 06:09C5: 65 07        	adc	<L153+colorIndex_1+2
  4526 06:09C7: 85 03        	sta	<R0+2
  4527 06:09C9: E2 20        	sep	#$20
  4528                        	longa	off
  4529 06:09CB: A9 80        	lda	#$80
  4530 06:09CD: 87 01        	sta	[<R0]
  4531 06:09CF: C2 20        	rep	#$20
  4532                        	longa	on
  4533 06:09D1: E6 05        	inc	<L153+colorIndex_1
  4534 06:09D3: D0 02        	bne	L161
  4535 06:09D5: E6 07        	inc	<L153+colorIndex_1+2
  4536                        L161:
  4537                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4538                        	.line	622
  4539 06:09D7: 18           	clc
  4540 06:09D8: A9 00 20     	lda	#$2000
  4541 06:09DB: 65 05        	adc	<L153+colorIndex_1
  4542 06:09DD: 85 01        	sta	<R0
  4543 06:09DF: A9 AF 00     	lda	#$af
  4544 06:09E2: 65 07        	adc	<L153+colorIndex_1+2
  4545 06:09E4: 85 03        	sta	<R0+2
  4546 06:09E6: E2 20        	sep	#$20
  4547                        	longa	off
  4548 06:09E8: A9 FF        	lda	#$ff
  4549 06:09EA: 87 01        	sta	[<R0]
  4550 06:09EC: C2 20        	rep	#$20
  4551                        	longa	on
  4552 06:09EE: E6 05        	inc	<L153+colorIndex_1
  4553 06:09F0: D0 02        	bne	L162
  4554 06:09F2: E6 07        	inc	<L153+colorIndex_1+2
  4555                        L162:
  4556                        ;
  4557                        ;	//colorIndex = 2 * 4;
  4558                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4559                        	.line	625
  4560 06:09F4: 18           	clc
  4561 06:09F5: A9 00 20     	lda	#$2000
  4562 06:09F8: 65 05        	adc	<L153+colorIndex_1
  4563 06:09FA: 85 01        	sta	<R0
  4564 06:09FC: A9 AF 00     	lda	#$af
  4565 06:09FF: 65 07        	adc	<L153+colorIndex_1+2
  4566 06:0A01: 85 03        	sta	<R0+2
  4567 06:0A03: E2 20        	sep	#$20
  4568                        	longa	off
  4569 06:0A05: A9 00        	lda	#$0
  4570 06:0A07: 87 01        	sta	[<R0]
  4571 06:0A09: C2 20        	rep	#$20
  4572                        	longa	on
  4573 06:0A0B: E6 05        	inc	<L153+colorIndex_1
  4574 06:0A0D: D0 02        	bne	L163
  4575 06:0A0F: E6 07        	inc	<L153+colorIndex_1+2
  4576                        L163:
  4577                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  4578                        	.line	626
  4579 06:0A11: 18           	clc
  Mon Sep 27 2021  9:39                                                Page 92


  4580 06:0A12: A9 00 20     	lda	#$2000
  4581 06:0A15: 65 05        	adc	<L153+colorIndex_1
  4582 06:0A17: 85 01        	sta	<R0
  4583 06:0A19: A9 AF 00     	lda	#$af
  4584 06:0A1C: 65 07        	adc	<L153+colorIndex_1+2
  4585 06:0A1E: 85 03        	sta	<R0+2
  4586 06:0A20: E2 20        	sep	#$20
  4587                        	longa	off
  4588 06:0A22: A9 80        	lda	#$80
  4589 06:0A24: 87 01        	sta	[<R0]
  4590 06:0A26: C2 20        	rep	#$20
  4591                        	longa	on
  4592 06:0A28: E6 05        	inc	<L153+colorIndex_1
  4593 06:0A2A: D0 02        	bne	L164
  4594 06:0A2C: E6 07        	inc	<L153+colorIndex_1+2
  4595                        L164:
  4596                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4597                        	.line	627
  4598 06:0A2E: 18           	clc
  4599 06:0A2F: A9 00 20     	lda	#$2000
  4600 06:0A32: 65 05        	adc	<L153+colorIndex_1
  4601 06:0A34: 85 01        	sta	<R0
  4602 06:0A36: A9 AF 00     	lda	#$af
  4603 06:0A39: 65 07        	adc	<L153+colorIndex_1+2
  4604 06:0A3B: 85 03        	sta	<R0+2
  4605 06:0A3D: E2 20        	sep	#$20
  4606                        	longa	off
  4607 06:0A3F: A9 00        	lda	#$0
  4608 06:0A41: 87 01        	sta	[<R0]
  4609 06:0A43: C2 20        	rep	#$20
  4610                        	longa	on
  4611 06:0A45: E6 05        	inc	<L153+colorIndex_1
  4612 06:0A47: D0 02        	bne	L165
  4613 06:0A49: E6 07        	inc	<L153+colorIndex_1+2
  4614                        L165:
  4615                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4616                        	.line	628
  4617 06:0A4B: 18           	clc
  4618 06:0A4C: A9 00 20     	lda	#$2000
  4619 06:0A4F: 65 05        	adc	<L153+colorIndex_1
  4620 06:0A51: 85 01        	sta	<R0
  4621 06:0A53: A9 AF 00     	lda	#$af
  4622 06:0A56: 65 07        	adc	<L153+colorIndex_1+2
  4623 06:0A58: 85 03        	sta	<R0+2
  4624 06:0A5A: E2 20        	sep	#$20
  4625                        	longa	off
  4626 06:0A5C: A9 FF        	lda	#$ff
  4627 06:0A5E: 87 01        	sta	[<R0]
  4628 06:0A60: C2 20        	rep	#$20
  4629                        	longa	on
  4630 06:0A62: E6 05        	inc	<L153+colorIndex_1
  4631 06:0A64: D0 02        	bne	L166
  4632 06:0A66: E6 07        	inc	<L153+colorIndex_1+2
  4633                        L166:
  4634                        ;
  4635                        ;
  4636                        ;	//colorIndex = 3 * 4;
  4637                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  Mon Sep 27 2021  9:39                                                Page 93


  4638                        	.line	632
  4639 06:0A68: 18           	clc
  4640 06:0A69: A9 00 20     	lda	#$2000
  4641 06:0A6C: 65 05        	adc	<L153+colorIndex_1
  4642 06:0A6E: 85 01        	sta	<R0
  4643 06:0A70: A9 AF 00     	lda	#$af
  4644 06:0A73: 65 07        	adc	<L153+colorIndex_1+2
  4645 06:0A75: 85 03        	sta	<R0+2
  4646 06:0A77: E2 20        	sep	#$20
  4647                        	longa	off
  4648 06:0A79: A9 80        	lda	#$80
  4649 06:0A7B: 87 01        	sta	[<R0]
  4650 06:0A7D: C2 20        	rep	#$20
  4651                        	longa	on
  4652 06:0A7F: E6 05        	inc	<L153+colorIndex_1
  4653 06:0A81: D0 02        	bne	L167
  4654 06:0A83: E6 07        	inc	<L153+colorIndex_1+2
  4655                        L167:
  4656                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4657                        	.line	633
  4658 06:0A85: 18           	clc
  4659 06:0A86: A9 00 20     	lda	#$2000
  4660 06:0A89: 65 05        	adc	<L153+colorIndex_1
  4661 06:0A8B: 85 01        	sta	<R0
  4662 06:0A8D: A9 AF 00     	lda	#$af
  4663 06:0A90: 65 07        	adc	<L153+colorIndex_1+2
  4664 06:0A92: 85 03        	sta	<R0+2
  4665 06:0A94: E2 20        	sep	#$20
  4666                        	longa	off
  4667 06:0A96: A9 00        	lda	#$0
  4668 06:0A98: 87 01        	sta	[<R0]
  4669 06:0A9A: C2 20        	rep	#$20
  4670                        	longa	on
  4671 06:0A9C: E6 05        	inc	<L153+colorIndex_1
  4672 06:0A9E: D0 02        	bne	L168
  4673 06:0AA0: E6 07        	inc	<L153+colorIndex_1+2
  4674                        L168:
  4675                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4676                        	.line	634
  4677 06:0AA2: 18           	clc
  4678 06:0AA3: A9 00 20     	lda	#$2000
  4679 06:0AA6: 65 05        	adc	<L153+colorIndex_1
  4680 06:0AA8: 85 01        	sta	<R0
  4681 06:0AAA: A9 AF 00     	lda	#$af
  4682 06:0AAD: 65 07        	adc	<L153+colorIndex_1+2
  4683 06:0AAF: 85 03        	sta	<R0+2
  4684 06:0AB1: E2 20        	sep	#$20
  4685                        	longa	off
  4686 06:0AB3: A9 00        	lda	#$0
  4687 06:0AB5: 87 01        	sta	[<R0]
  4688 06:0AB7: C2 20        	rep	#$20
  4689                        	longa	on
  4690 06:0AB9: E6 05        	inc	<L153+colorIndex_1
  4691 06:0ABB: D0 02        	bne	L169
  4692 06:0ABD: E6 07        	inc	<L153+colorIndex_1+2
  4693                        L169:
  4694                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4695                        	.line	635
  Mon Sep 27 2021  9:39                                                Page 94


  4696 06:0ABF: 18           	clc
  4697 06:0AC0: A9 00 20     	lda	#$2000
  4698 06:0AC3: 65 05        	adc	<L153+colorIndex_1
  4699 06:0AC5: 85 01        	sta	<R0
  4700 06:0AC7: A9 AF 00     	lda	#$af
  4701 06:0ACA: 65 07        	adc	<L153+colorIndex_1+2
  4702 06:0ACC: 85 03        	sta	<R0+2
  4703 06:0ACE: E2 20        	sep	#$20
  4704                        	longa	off
  4705 06:0AD0: A9 FF        	lda	#$ff
  4706 06:0AD2: 87 01        	sta	[<R0]
  4707 06:0AD4: C2 20        	rep	#$20
  4708                        	longa	on
  4709 06:0AD6: E6 05        	inc	<L153+colorIndex_1
  4710 06:0AD8: D0 02        	bne	L170
  4711 06:0ADA: E6 07        	inc	<L153+colorIndex_1+2
  4712                        L170:
  4713                        ;
  4714                        ;	//colorIndex = 4 * 4;
  4715                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4716                        	.line	638
  4717 06:0ADC: 18           	clc
  4718 06:0ADD: A9 00 20     	lda	#$2000
  4719 06:0AE0: 65 05        	adc	<L153+colorIndex_1
  4720 06:0AE2: 85 01        	sta	<R0
  4721 06:0AE4: A9 AF 00     	lda	#$af
  4722 06:0AE7: 65 07        	adc	<L153+colorIndex_1+2
  4723 06:0AE9: 85 03        	sta	<R0+2
  4724 06:0AEB: E2 20        	sep	#$20
  4725                        	longa	off
  4726 06:0AED: A9 00        	lda	#$0
  4727 06:0AEF: 87 01        	sta	[<R0]
  4728 06:0AF1: C2 20        	rep	#$20
  4729                        	longa	on
  4730 06:0AF3: E6 05        	inc	<L153+colorIndex_1
  4731 06:0AF5: D0 02        	bne	L171
  4732 06:0AF7: E6 07        	inc	<L153+colorIndex_1+2
  4733                        L171:
  4734                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  4735                        	.line	639
  4736 06:0AF9: 18           	clc
  4737 06:0AFA: A9 00 20     	lda	#$2000
  4738 06:0AFD: 65 05        	adc	<L153+colorIndex_1
  4739 06:0AFF: 85 01        	sta	<R0
  4740 06:0B01: A9 AF 00     	lda	#$af
  4741 06:0B04: 65 07        	adc	<L153+colorIndex_1+2
  4742 06:0B06: 85 03        	sta	<R0+2
  4743 06:0B08: E2 20        	sep	#$20
  4744                        	longa	off
  4745 06:0B0A: A9 80        	lda	#$80
  4746 06:0B0C: 87 01        	sta	[<R0]
  4747 06:0B0E: C2 20        	rep	#$20
  4748                        	longa	on
  4749 06:0B10: E6 05        	inc	<L153+colorIndex_1
  4750 06:0B12: D0 02        	bne	L172
  4751 06:0B14: E6 07        	inc	<L153+colorIndex_1+2
  4752                        L172:
  4753                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  Mon Sep 27 2021  9:39                                                Page 95


  4754                        	.line	640
  4755 06:0B16: 18           	clc
  4756 06:0B17: A9 00 20     	lda	#$2000
  4757 06:0B1A: 65 05        	adc	<L153+colorIndex_1
  4758 06:0B1C: 85 01        	sta	<R0
  4759 06:0B1E: A9 AF 00     	lda	#$af
  4760 06:0B21: 65 07        	adc	<L153+colorIndex_1+2
  4761 06:0B23: 85 03        	sta	<R0+2
  4762 06:0B25: E2 20        	sep	#$20
  4763                        	longa	off
  4764 06:0B27: A9 80        	lda	#$80
  4765 06:0B29: 87 01        	sta	[<R0]
  4766 06:0B2B: C2 20        	rep	#$20
  4767                        	longa	on
  4768 06:0B2D: E6 05        	inc	<L153+colorIndex_1
  4769 06:0B2F: D0 02        	bne	L173
  4770 06:0B31: E6 07        	inc	<L153+colorIndex_1+2
  4771                        L173:
  4772                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4773                        	.line	641
  4774 06:0B33: 18           	clc
  4775 06:0B34: A9 00 20     	lda	#$2000
  4776 06:0B37: 65 05        	adc	<L153+colorIndex_1
  4777 06:0B39: 85 01        	sta	<R0
  4778 06:0B3B: A9 AF 00     	lda	#$af
  4779 06:0B3E: 65 07        	adc	<L153+colorIndex_1+2
  4780 06:0B40: 85 03        	sta	<R0+2
  4781 06:0B42: E2 20        	sep	#$20
  4782                        	longa	off
  4783 06:0B44: A9 FF        	lda	#$ff
  4784 06:0B46: 87 01        	sta	[<R0]
  4785 06:0B48: C2 20        	rep	#$20
  4786                        	longa	on
  4787 06:0B4A: E6 05        	inc	<L153+colorIndex_1
  4788 06:0B4C: D0 02        	bne	L174
  4789 06:0B4E: E6 07        	inc	<L153+colorIndex_1+2
  4790                        L174:
  4791                        ;
  4792                        ;	//colorIndex = 5 * 4;
  4793                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  4794                        	.line	644
  4795 06:0B50: 18           	clc
  4796 06:0B51: A9 00 20     	lda	#$2000
  4797 06:0B54: 65 05        	adc	<L153+colorIndex_1
  4798 06:0B56: 85 01        	sta	<R0
  4799 06:0B58: A9 AF 00     	lda	#$af
  4800 06:0B5B: 65 07        	adc	<L153+colorIndex_1+2
  4801 06:0B5D: 85 03        	sta	<R0+2
  4802 06:0B5F: E2 20        	sep	#$20
  4803                        	longa	off
  4804 06:0B61: A9 80        	lda	#$80
  4805 06:0B63: 87 01        	sta	[<R0]
  4806 06:0B65: C2 20        	rep	#$20
  4807                        	longa	on
  4808 06:0B67: E6 05        	inc	<L153+colorIndex_1
  4809 06:0B69: D0 02        	bne	L175
  4810 06:0B6B: E6 07        	inc	<L153+colorIndex_1+2
  4811                        L175:
  Mon Sep 27 2021  9:39                                                Page 96


  4812                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  4813                        	.line	645
  4814 06:0B6D: 18           	clc
  4815 06:0B6E: A9 00 20     	lda	#$2000
  4816 06:0B71: 65 05        	adc	<L153+colorIndex_1
  4817 06:0B73: 85 01        	sta	<R0
  4818 06:0B75: A9 AF 00     	lda	#$af
  4819 06:0B78: 65 07        	adc	<L153+colorIndex_1+2
  4820 06:0B7A: 85 03        	sta	<R0+2
  4821 06:0B7C: E2 20        	sep	#$20
  4822                        	longa	off
  4823 06:0B7E: A9 80        	lda	#$80
  4824 06:0B80: 87 01        	sta	[<R0]
  4825 06:0B82: C2 20        	rep	#$20
  4826                        	longa	on
  4827 06:0B84: E6 05        	inc	<L153+colorIndex_1
  4828 06:0B86: D0 02        	bne	L176
  4829 06:0B88: E6 07        	inc	<L153+colorIndex_1+2
  4830                        L176:
  4831                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4832                        	.line	646
  4833 06:0B8A: 18           	clc
  4834 06:0B8B: A9 00 20     	lda	#$2000
  4835 06:0B8E: 65 05        	adc	<L153+colorIndex_1
  4836 06:0B90: 85 01        	sta	<R0
  4837 06:0B92: A9 AF 00     	lda	#$af
  4838 06:0B95: 65 07        	adc	<L153+colorIndex_1+2
  4839 06:0B97: 85 03        	sta	<R0+2
  4840 06:0B99: E2 20        	sep	#$20
  4841                        	longa	off
  4842 06:0B9B: A9 00        	lda	#$0
  4843 06:0B9D: 87 01        	sta	[<R0]
  4844 06:0B9F: C2 20        	rep	#$20
  4845                        	longa	on
  4846 06:0BA1: E6 05        	inc	<L153+colorIndex_1
  4847 06:0BA3: D0 02        	bne	L177
  4848 06:0BA5: E6 07        	inc	<L153+colorIndex_1+2
  4849                        L177:
  4850                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4851                        	.line	647
  4852 06:0BA7: 18           	clc
  4853 06:0BA8: A9 00 20     	lda	#$2000
  4854 06:0BAB: 65 05        	adc	<L153+colorIndex_1
  4855 06:0BAD: 85 01        	sta	<R0
  4856 06:0BAF: A9 AF 00     	lda	#$af
  4857 06:0BB2: 65 07        	adc	<L153+colorIndex_1+2
  4858 06:0BB4: 85 03        	sta	<R0+2
  4859 06:0BB6: E2 20        	sep	#$20
  4860                        	longa	off
  4861 06:0BB8: A9 FF        	lda	#$ff
  4862 06:0BBA: 87 01        	sta	[<R0]
  4863 06:0BBC: C2 20        	rep	#$20
  4864                        	longa	on
  4865 06:0BBE: E6 05        	inc	<L153+colorIndex_1
  4866 06:0BC0: D0 02        	bne	L178
  4867 06:0BC2: E6 07        	inc	<L153+colorIndex_1+2
  4868                        L178:
  4869                        ;
  Mon Sep 27 2021  9:39                                                Page 97


  4870                        ;	//colorIndex = 6 * 4;
  4871                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  4872                        	.line	650
  4873 06:0BC4: 18           	clc
  4874 06:0BC5: A9 00 20     	lda	#$2000
  4875 06:0BC8: 65 05        	adc	<L153+colorIndex_1
  4876 06:0BCA: 85 01        	sta	<R0
  4877 06:0BCC: A9 AF 00     	lda	#$af
  4878 06:0BCF: 65 07        	adc	<L153+colorIndex_1+2
  4879 06:0BD1: 85 03        	sta	<R0+2
  4880 06:0BD3: E2 20        	sep	#$20
  4881                        	longa	off
  4882 06:0BD5: A9 80        	lda	#$80
  4883 06:0BD7: 87 01        	sta	[<R0]
  4884 06:0BD9: C2 20        	rep	#$20
  4885                        	longa	on
  4886 06:0BDB: E6 05        	inc	<L153+colorIndex_1
  4887 06:0BDD: D0 02        	bne	L179
  4888 06:0BDF: E6 07        	inc	<L153+colorIndex_1+2
  4889                        L179:
  4890                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4891                        	.line	651
  4892 06:0BE1: 18           	clc
  4893 06:0BE2: A9 00 20     	lda	#$2000
  4894 06:0BE5: 65 05        	adc	<L153+colorIndex_1
  4895 06:0BE7: 85 01        	sta	<R0
  4896 06:0BE9: A9 AF 00     	lda	#$af
  4897 06:0BEC: 65 07        	adc	<L153+colorIndex_1+2
  4898 06:0BEE: 85 03        	sta	<R0+2
  4899 06:0BF0: E2 20        	sep	#$20
  4900                        	longa	off
  4901 06:0BF2: A9 00        	lda	#$0
  4902 06:0BF4: 87 01        	sta	[<R0]
  4903 06:0BF6: C2 20        	rep	#$20
  4904                        	longa	on
  4905 06:0BF8: E6 05        	inc	<L153+colorIndex_1
  4906 06:0BFA: D0 02        	bne	L180
  4907 06:0BFC: E6 07        	inc	<L153+colorIndex_1+2
  4908                        L180:
  4909                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x80;
  4910                        	.line	652
  4911 06:0BFE: 18           	clc
  4912 06:0BFF: A9 00 20     	lda	#$2000
  4913 06:0C02: 65 05        	adc	<L153+colorIndex_1
  4914 06:0C04: 85 01        	sta	<R0
  4915 06:0C06: A9 AF 00     	lda	#$af
  4916 06:0C09: 65 07        	adc	<L153+colorIndex_1+2
  4917 06:0C0B: 85 03        	sta	<R0+2
  4918 06:0C0D: E2 20        	sep	#$20
  4919                        	longa	off
  4920 06:0C0F: A9 80        	lda	#$80
  4921 06:0C11: 87 01        	sta	[<R0]
  4922 06:0C13: C2 20        	rep	#$20
  4923                        	longa	on
  4924 06:0C15: E6 05        	inc	<L153+colorIndex_1
  4925 06:0C17: D0 02        	bne	L181
  4926 06:0C19: E6 07        	inc	<L153+colorIndex_1+2
  4927                        L181:
  Mon Sep 27 2021  9:39                                                Page 98


  4928                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4929                        	.line	653
  4930 06:0C1B: 18           	clc
  4931 06:0C1C: A9 00 20     	lda	#$2000
  4932 06:0C1F: 65 05        	adc	<L153+colorIndex_1
  4933 06:0C21: 85 01        	sta	<R0
  4934 06:0C23: A9 AF 00     	lda	#$af
  4935 06:0C26: 65 07        	adc	<L153+colorIndex_1+2
  4936 06:0C28: 85 03        	sta	<R0+2
  4937 06:0C2A: E2 20        	sep	#$20
  4938                        	longa	off
  4939 06:0C2C: A9 FF        	lda	#$ff
  4940 06:0C2E: 87 01        	sta	[<R0]
  4941 06:0C30: C2 20        	rep	#$20
  4942                        	longa	on
  4943 06:0C32: E6 05        	inc	<L153+colorIndex_1
  4944 06:0C34: D0 02        	bne	L182
  4945 06:0C36: E6 07        	inc	<L153+colorIndex_1+2
  4946                        L182:
  4947                        ;
  4948                        ;	//colorIndex = 7 * 4;
  4949                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  4950                        	.line	656
  4951 06:0C38: 18           	clc
  4952 06:0C39: A9 00 20     	lda	#$2000
  4953 06:0C3C: 65 05        	adc	<L153+colorIndex_1
  4954 06:0C3E: 85 01        	sta	<R0
  4955 06:0C40: A9 AF 00     	lda	#$af
  4956 06:0C43: 65 07        	adc	<L153+colorIndex_1+2
  4957 06:0C45: 85 03        	sta	<R0+2
  4958 06:0C47: E2 20        	sep	#$20
  4959                        	longa	off
  4960 06:0C49: A9 00        	lda	#$0
  4961 06:0C4B: 87 01        	sta	[<R0]
  4962 06:0C4D: C2 20        	rep	#$20
  4963                        	longa	on
  4964 06:0C4F: E6 05        	inc	<L153+colorIndex_1
  4965 06:0C51: D0 02        	bne	L183
  4966 06:0C53: E6 07        	inc	<L153+colorIndex_1+2
  4967                        L183:
  4968                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x45;
  4969                        	.line	657
  4970 06:0C55: 18           	clc
  4971 06:0C56: A9 00 20     	lda	#$2000
  4972 06:0C59: 65 05        	adc	<L153+colorIndex_1
  4973 06:0C5B: 85 01        	sta	<R0
  4974 06:0C5D: A9 AF 00     	lda	#$af
  4975 06:0C60: 65 07        	adc	<L153+colorIndex_1+2
  4976 06:0C62: 85 03        	sta	<R0+2
  4977 06:0C64: E2 20        	sep	#$20
  4978                        	longa	off
  4979 06:0C66: A9 45        	lda	#$45
  4980 06:0C68: 87 01        	sta	[<R0]
  4981 06:0C6A: C2 20        	rep	#$20
  4982                        	longa	on
  4983 06:0C6C: E6 05        	inc	<L153+colorIndex_1
  4984 06:0C6E: D0 02        	bne	L184
  4985 06:0C70: E6 07        	inc	<L153+colorIndex_1+2
  Mon Sep 27 2021  9:39                                                Page 99


  4986                        L184:
  4987                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  4988                        	.line	658
  4989 06:0C72: 18           	clc
  4990 06:0C73: A9 00 20     	lda	#$2000
  4991 06:0C76: 65 05        	adc	<L153+colorIndex_1
  4992 06:0C78: 85 01        	sta	<R0
  4993 06:0C7A: A9 AF 00     	lda	#$af
  4994 06:0C7D: 65 07        	adc	<L153+colorIndex_1+2
  4995 06:0C7F: 85 03        	sta	<R0+2
  4996 06:0C81: E2 20        	sep	#$20
  4997                        	longa	off
  4998 06:0C83: A9 FF        	lda	#$ff
  4999 06:0C85: 87 01        	sta	[<R0]
  5000 06:0C87: C2 20        	rep	#$20
  5001                        	longa	on
  5002 06:0C89: E6 05        	inc	<L153+colorIndex_1
  5003 06:0C8B: D0 02        	bne	L185
  5004 06:0C8D: E6 07        	inc	<L153+colorIndex_1+2
  5005                        L185:
  5006                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  5007                        	.line	659
  5008 06:0C8F: 18           	clc
  5009 06:0C90: A9 00 20     	lda	#$2000
  5010 06:0C93: 65 05        	adc	<L153+colorIndex_1
  5011 06:0C95: 85 01        	sta	<R0
  5012 06:0C97: A9 AF 00     	lda	#$af
  5013 06:0C9A: 65 07        	adc	<L153+colorIndex_1+2
  5014 06:0C9C: 85 03        	sta	<R0+2
  5015 06:0C9E: E2 20        	sep	#$20
  5016                        	longa	off
  5017 06:0CA0: A9 FF        	lda	#$ff
  5018 06:0CA2: 87 01        	sta	[<R0]
  5019 06:0CA4: C2 20        	rep	#$20
  5020                        	longa	on
  5021 06:0CA6: E6 05        	inc	<L153+colorIndex_1
  5022 06:0CA8: D0 02        	bne	L186
  5023 06:0CAA: E6 07        	inc	<L153+colorIndex_1+2
  5024                        L186:
  5025                        ;
  5026                        ;	//colorIndex = 8 * 4;
  5027                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x13;
  5028                        	.line	662
  5029 06:0CAC: 18           	clc
  5030 06:0CAD: A9 00 20     	lda	#$2000
  5031 06:0CB0: 65 05        	adc	<L153+colorIndex_1
  5032 06:0CB2: 85 01        	sta	<R0
  5033 06:0CB4: A9 AF 00     	lda	#$af
  5034 06:0CB7: 65 07        	adc	<L153+colorIndex_1+2
  5035 06:0CB9: 85 03        	sta	<R0+2
  5036 06:0CBB: E2 20        	sep	#$20
  5037                        	longa	off
  5038 06:0CBD: A9 13        	lda	#$13
  5039 06:0CBF: 87 01        	sta	[<R0]
  5040 06:0CC1: C2 20        	rep	#$20
  5041                        	longa	on
  5042 06:0CC3: E6 05        	inc	<L153+colorIndex_1
  5043 06:0CC5: D0 02        	bne	L187
  Mon Sep 27 2021  9:39                                                Page 100


  5044 06:0CC7: E6 07        	inc	<L153+colorIndex_1+2
  5045                        L187:
  5046                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x45;
  5047                        	.line	663
  5048 06:0CC9: 18           	clc
  5049 06:0CCA: A9 00 20     	lda	#$2000
  5050 06:0CCD: 65 05        	adc	<L153+colorIndex_1
  5051 06:0CCF: 85 01        	sta	<R0
  5052 06:0CD1: A9 AF 00     	lda	#$af
  5053 06:0CD4: 65 07        	adc	<L153+colorIndex_1+2
  5054 06:0CD6: 85 03        	sta	<R0+2
  5055 06:0CD8: E2 20        	sep	#$20
  5056                        	longa	off
  5057 06:0CDA: A9 45        	lda	#$45
  5058 06:0CDC: 87 01        	sta	[<R0]
  5059 06:0CDE: C2 20        	rep	#$20
  5060                        	longa	on
  5061 06:0CE0: E6 05        	inc	<L153+colorIndex_1
  5062 06:0CE2: D0 02        	bne	L188
  5063 06:0CE4: E6 07        	inc	<L153+colorIndex_1+2
  5064                        L188:
  5065                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x8B;
  5066                        	.line	664
  5067 06:0CE6: 18           	clc
  5068 06:0CE7: A9 00 20     	lda	#$2000
  5069 06:0CEA: 65 05        	adc	<L153+colorIndex_1
  5070 06:0CEC: 85 01        	sta	<R0
  5071 06:0CEE: A9 AF 00     	lda	#$af
  5072 06:0CF1: 65 07        	adc	<L153+colorIndex_1+2
  5073 06:0CF3: 85 03        	sta	<R0+2
  5074 06:0CF5: E2 20        	sep	#$20
  5075                        	longa	off
  5076 06:0CF7: A9 8B        	lda	#$8b
  5077 06:0CF9: 87 01        	sta	[<R0]
  5078 06:0CFB: C2 20        	rep	#$20
  5079                        	longa	on
  5080 06:0CFD: E6 05        	inc	<L153+colorIndex_1
  5081 06:0CFF: D0 02        	bne	L189
  5082 06:0D01: E6 07        	inc	<L153+colorIndex_1+2
  5083                        L189:
  5084                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  5085                        	.line	665
  5086 06:0D03: 18           	clc
  5087 06:0D04: A9 00 20     	lda	#$2000
  5088 06:0D07: 65 05        	adc	<L153+colorIndex_1
  5089 06:0D09: 85 01        	sta	<R0
  5090 06:0D0B: A9 AF 00     	lda	#$af
  5091 06:0D0E: 65 07        	adc	<L153+colorIndex_1+2
  5092 06:0D10: 85 03        	sta	<R0+2
  5093 06:0D12: E2 20        	sep	#$20
  5094                        	longa	off
  5095 06:0D14: A9 FF        	lda	#$ff
  5096 06:0D16: 87 01        	sta	[<R0]
  5097 06:0D18: C2 20        	rep	#$20
  5098                        	longa	on
  5099 06:0D1A: E6 05        	inc	<L153+colorIndex_1
  5100 06:0D1C: D0 02        	bne	L190
  5101 06:0D1E: E6 07        	inc	<L153+colorIndex_1+2
  Mon Sep 27 2021  9:39                                                Page 101


  5102                        L190:
  5103                        ;
  5104                        ;	//colorIndex = 9 * 4;
  5105                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  5106                        	.line	668
  5107 06:0D20: 18           	clc
  5108 06:0D21: A9 00 20     	lda	#$2000
  5109 06:0D24: 65 05        	adc	<L153+colorIndex_1
  5110 06:0D26: 85 01        	sta	<R0
  5111 06:0D28: A9 AF 00     	lda	#$af
  5112 06:0D2B: 65 07        	adc	<L153+colorIndex_1+2
  5113 06:0D2D: 85 03        	sta	<R0+2
  5114 06:0D2F: E2 20        	sep	#$20
  5115                        	longa	off
  5116 06:0D31: A9 00        	lda	#$0
  5117 06:0D33: 87 01        	sta	[<R0]
  5118 06:0D35: C2 20        	rep	#$20
  5119                        	longa	on
  5120 06:0D37: E6 05        	inc	<L153+colorIndex_1
  5121 06:0D39: D0 02        	bne	L191
  5122 06:0D3B: E6 07        	inc	<L153+colorIndex_1+2
  5123                        L191:
  5124                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  5125                        	.line	669
  5126 06:0D3D: 18           	clc
  5127 06:0D3E: A9 00 20     	lda	#$2000
  5128 06:0D41: 65 05        	adc	<L153+colorIndex_1
  5129 06:0D43: 85 01        	sta	<R0
  5130 06:0D45: A9 AF 00     	lda	#$af
  5131 06:0D48: 65 07        	adc	<L153+colorIndex_1+2
  5132 06:0D4A: 85 03        	sta	<R0+2
  5133 06:0D4C: E2 20        	sep	#$20
  5134                        	longa	off
  5135 06:0D4E: A9 00        	lda	#$0
  5136 06:0D50: 87 01        	sta	[<R0]
  5137 06:0D52: C2 20        	rep	#$20
  5138                        	longa	on
  5139 06:0D54: E6 05        	inc	<L153+colorIndex_1
  5140 06:0D56: D0 02        	bne	L192
  5141 06:0D58: E6 07        	inc	<L153+colorIndex_1+2
  5142                        L192:
  5143                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x20;
  5144                        	.line	670
  5145 06:0D5A: 18           	clc
  5146 06:0D5B: A9 00 20     	lda	#$2000
  5147 06:0D5E: 65 05        	adc	<L153+colorIndex_1
  5148 06:0D60: 85 01        	sta	<R0
  5149 06:0D62: A9 AF 00     	lda	#$af
  5150 06:0D65: 65 07        	adc	<L153+colorIndex_1+2
  5151 06:0D67: 85 03        	sta	<R0+2
  5152 06:0D69: E2 20        	sep	#$20
  5153                        	longa	off
  5154 06:0D6B: A9 20        	lda	#$20
  5155 06:0D6D: 87 01        	sta	[<R0]
  5156 06:0D6F: C2 20        	rep	#$20
  5157                        	longa	on
  5158 06:0D71: E6 05        	inc	<L153+colorIndex_1
  5159 06:0D73: D0 02        	bne	L193
  Mon Sep 27 2021  9:39                                                Page 102


  5160 06:0D75: E6 07        	inc	<L153+colorIndex_1+2
  5161                        L193:
  5162                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  5163                        	.line	671
  5164 06:0D77: 18           	clc
  5165 06:0D78: A9 00 20     	lda	#$2000
  5166 06:0D7B: 65 05        	adc	<L153+colorIndex_1
  5167 06:0D7D: 85 01        	sta	<R0
  5168 06:0D7F: A9 AF 00     	lda	#$af
  5169 06:0D82: 65 07        	adc	<L153+colorIndex_1+2
  5170 06:0D84: 85 03        	sta	<R0+2
  5171 06:0D86: E2 20        	sep	#$20
  5172                        	longa	off
  5173 06:0D88: A9 FF        	lda	#$ff
  5174 06:0D8A: 87 01        	sta	[<R0]
  5175 06:0D8C: C2 20        	rep	#$20
  5176                        	longa	on
  5177 06:0D8E: E6 05        	inc	<L153+colorIndex_1
  5178 06:0D90: D0 02        	bne	L194
  5179 06:0D92: E6 07        	inc	<L153+colorIndex_1+2
  5180                        L194:
  5181                        ;
  5182                        ;	//colorIndex = 10 * 4;
  5183                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  5184                        	.line	674
  5185 06:0D94: 18           	clc
  5186 06:0D95: A9 00 20     	lda	#$2000
  5187 06:0D98: 65 05        	adc	<L153+colorIndex_1
  5188 06:0D9A: 85 01        	sta	<R0
  5189 06:0D9C: A9 AF 00     	lda	#$af
  5190 06:0D9F: 65 07        	adc	<L153+colorIndex_1+2
  5191 06:0DA1: 85 03        	sta	<R0+2
  5192 06:0DA3: E2 20        	sep	#$20
  5193                        	longa	off
  5194 06:0DA5: A9 00        	lda	#$0
  5195 06:0DA7: 87 01        	sta	[<R0]
  5196 06:0DA9: C2 20        	rep	#$20
  5197                        	longa	on
  5198 06:0DAB: E6 05        	inc	<L153+colorIndex_1
  5199 06:0DAD: D0 02        	bne	L195
  5200 06:0DAF: E6 07        	inc	<L153+colorIndex_1+2
  5201                        L195:
  5202                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x20;
  5203                        	.line	675
  5204 06:0DB1: 18           	clc
  5205 06:0DB2: A9 00 20     	lda	#$2000
  5206 06:0DB5: 65 05        	adc	<L153+colorIndex_1
  5207 06:0DB7: 85 01        	sta	<R0
  5208 06:0DB9: A9 AF 00     	lda	#$af
  5209 06:0DBC: 65 07        	adc	<L153+colorIndex_1+2
  5210 06:0DBE: 85 03        	sta	<R0+2
  5211 06:0DC0: E2 20        	sep	#$20
  5212                        	longa	off
  5213 06:0DC2: A9 20        	lda	#$20
  5214 06:0DC4: 87 01        	sta	[<R0]
  5215 06:0DC6: C2 20        	rep	#$20
  5216                        	longa	on
  5217 06:0DC8: E6 05        	inc	<L153+colorIndex_1
  Mon Sep 27 2021  9:39                                                Page 103


  5218 06:0DCA: D0 02        	bne	L196
  5219 06:0DCC: E6 07        	inc	<L153+colorIndex_1+2
  5220                        L196:
  5221                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  5222                        	.line	676
  5223 06:0DCE: 18           	clc
  5224 06:0DCF: A9 00 20     	lda	#$2000
  5225 06:0DD2: 65 05        	adc	<L153+colorIndex_1
  5226 06:0DD4: 85 01        	sta	<R0
  5227 06:0DD6: A9 AF 00     	lda	#$af
  5228 06:0DD9: 65 07        	adc	<L153+colorIndex_1+2
  5229 06:0DDB: 85 03        	sta	<R0+2
  5230 06:0DDD: E2 20        	sep	#$20
  5231                        	longa	off
  5232 06:0DDF: A9 00        	lda	#$0
  5233 06:0DE1: 87 01        	sta	[<R0]
  5234 06:0DE3: C2 20        	rep	#$20
  5235                        	longa	on
  5236 06:0DE5: E6 05        	inc	<L153+colorIndex_1
  5237 06:0DE7: D0 02        	bne	L197
  5238 06:0DE9: E6 07        	inc	<L153+colorIndex_1+2
  5239                        L197:
  5240                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  5241                        	.line	677
  5242 06:0DEB: 18           	clc
  5243 06:0DEC: A9 00 20     	lda	#$2000
  5244 06:0DEF: 65 05        	adc	<L153+colorIndex_1
  5245 06:0DF1: 85 01        	sta	<R0
  5246 06:0DF3: A9 AF 00     	lda	#$af
  5247 06:0DF6: 65 07        	adc	<L153+colorIndex_1+2
  5248 06:0DF8: 85 03        	sta	<R0+2
  5249 06:0DFA: E2 20        	sep	#$20
  5250                        	longa	off
  5251 06:0DFC: A9 FF        	lda	#$ff
  5252 06:0DFE: 87 01        	sta	[<R0]
  5253 06:0E00: C2 20        	rep	#$20
  5254                        	longa	on
  5255 06:0E02: E6 05        	inc	<L153+colorIndex_1
  5256 06:0E04: D0 02        	bne	L198
  5257 06:0E06: E6 07        	inc	<L153+colorIndex_1+2
  5258                        L198:
  5259                        ;
  5260                        ;	//colorIndex = 11 * 4;
  5261                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x20;
  5262                        	.line	680
  5263 06:0E08: 18           	clc
  5264 06:0E09: A9 00 20     	lda	#$2000
  5265 06:0E0C: 65 05        	adc	<L153+colorIndex_1
  5266 06:0E0E: 85 01        	sta	<R0
  5267 06:0E10: A9 AF 00     	lda	#$af
  5268 06:0E13: 65 07        	adc	<L153+colorIndex_1+2
  5269 06:0E15: 85 03        	sta	<R0+2
  5270 06:0E17: E2 20        	sep	#$20
  5271                        	longa	off
  5272 06:0E19: A9 20        	lda	#$20
  5273 06:0E1B: 87 01        	sta	[<R0]
  5274 06:0E1D: C2 20        	rep	#$20
  5275                        	longa	on
  Mon Sep 27 2021  9:39                                                Page 104


  5276 06:0E1F: E6 05        	inc	<L153+colorIndex_1
  5277 06:0E21: D0 02        	bne	L199
  5278 06:0E23: E6 07        	inc	<L153+colorIndex_1+2
  5279                        L199:
  5280                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  5281                        	.line	681
  5282 06:0E25: 18           	clc
  5283 06:0E26: A9 00 20     	lda	#$2000
  5284 06:0E29: 65 05        	adc	<L153+colorIndex_1
  5285 06:0E2B: 85 01        	sta	<R0
  5286 06:0E2D: A9 AF 00     	lda	#$af
  5287 06:0E30: 65 07        	adc	<L153+colorIndex_1+2
  5288 06:0E32: 85 03        	sta	<R0+2
  5289 06:0E34: E2 20        	sep	#$20
  5290                        	longa	off
  5291 06:0E36: A9 00        	lda	#$0
  5292 06:0E38: 87 01        	sta	[<R0]
  5293 06:0E3A: C2 20        	rep	#$20
  5294                        	longa	on
  5295 06:0E3C: E6 05        	inc	<L153+colorIndex_1
  5296 06:0E3E: D0 02        	bne	L200
  5297 06:0E40: E6 07        	inc	<L153+colorIndex_1+2
  5298                        L200:
  5299                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  5300                        	.line	682
  5301 06:0E42: 18           	clc
  5302 06:0E43: A9 00 20     	lda	#$2000
  5303 06:0E46: 65 05        	adc	<L153+colorIndex_1
  5304 06:0E48: 85 01        	sta	<R0
  5305 06:0E4A: A9 AF 00     	lda	#$af
  5306 06:0E4D: 65 07        	adc	<L153+colorIndex_1+2
  5307 06:0E4F: 85 03        	sta	<R0+2
  5308 06:0E51: E2 20        	sep	#$20
  5309                        	longa	off
  5310 06:0E53: A9 00        	lda	#$0
  5311 06:0E55: 87 01        	sta	[<R0]
  5312 06:0E57: C2 20        	rep	#$20
  5313                        	longa	on
  5314 06:0E59: E6 05        	inc	<L153+colorIndex_1
  5315 06:0E5B: D0 02        	bne	L201
  5316 06:0E5D: E6 07        	inc	<L153+colorIndex_1+2
  5317                        L201:
  5318                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  5319                        	.line	683
  5320 06:0E5F: 18           	clc
  5321 06:0E60: A9 00 20     	lda	#$2000
  5322 06:0E63: 65 05        	adc	<L153+colorIndex_1
  5323 06:0E65: 85 01        	sta	<R0
  5324 06:0E67: A9 AF 00     	lda	#$af
  5325 06:0E6A: 65 07        	adc	<L153+colorIndex_1+2
  5326 06:0E6C: 85 03        	sta	<R0+2
  5327 06:0E6E: E2 20        	sep	#$20
  5328                        	longa	off
  5329 06:0E70: A9 FF        	lda	#$ff
  5330 06:0E72: 87 01        	sta	[<R0]
  5331 06:0E74: C2 20        	rep	#$20
  5332                        	longa	on
  5333 06:0E76: E6 05        	inc	<L153+colorIndex_1
  Mon Sep 27 2021  9:39                                                Page 105


  5334 06:0E78: D0 02        	bne	L202
  5335 06:0E7A: E6 07        	inc	<L153+colorIndex_1+2
  5336                        L202:
  5337                        ;
  5338                        ;	//colorIndex = 12 * 4;
  5339                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  5340                        	.line	686
  5341 06:0E7C: 18           	clc
  5342 06:0E7D: A9 00 20     	lda	#$2000
  5343 06:0E80: 65 05        	adc	<L153+colorIndex_1
  5344 06:0E82: 85 01        	sta	<R0
  5345 06:0E84: A9 AF 00     	lda	#$af
  5346 06:0E87: 65 07        	adc	<L153+colorIndex_1+2
  5347 06:0E89: 85 03        	sta	<R0+2
  5348 06:0E8B: E2 20        	sep	#$20
  5349                        	longa	off
  5350 06:0E8D: A9 00        	lda	#$0
  5351 06:0E8F: 87 01        	sta	[<R0]
  5352 06:0E91: C2 20        	rep	#$20
  5353                        	longa	on
  5354 06:0E93: E6 05        	inc	<L153+colorIndex_1
  5355 06:0E95: D0 02        	bne	L203
  5356 06:0E97: E6 07        	inc	<L153+colorIndex_1+2
  5357                        L203:
  5358                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  5359                        	.line	687
  5360 06:0E99: 18           	clc
  5361 06:0E9A: A9 00 20     	lda	#$2000
  5362 06:0E9D: 65 05        	adc	<L153+colorIndex_1
  5363 06:0E9F: 85 01        	sta	<R0
  5364 06:0EA1: A9 AF 00     	lda	#$af
  5365 06:0EA4: 65 07        	adc	<L153+colorIndex_1+2
  5366 06:0EA6: 85 03        	sta	<R0+2
  5367 06:0EA8: E2 20        	sep	#$20
  5368                        	longa	off
  5369 06:0EAA: A9 00        	lda	#$0
  5370 06:0EAC: 87 01        	sta	[<R0]
  5371 06:0EAE: C2 20        	rep	#$20
  5372                        	longa	on
  5373 06:0EB0: E6 05        	inc	<L153+colorIndex_1
  5374 06:0EB2: D0 02        	bne	L204
  5375 06:0EB4: E6 07        	inc	<L153+colorIndex_1+2
  5376                        L204:
  5377                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x00;
  5378                        	.line	688
  5379 06:0EB6: 18           	clc
  5380 06:0EB7: A9 00 20     	lda	#$2000
  5381 06:0EBA: 65 05        	adc	<L153+colorIndex_1
  5382 06:0EBC: 85 01        	sta	<R0
  5383 06:0EBE: A9 AF 00     	lda	#$af
  5384 06:0EC1: 65 07        	adc	<L153+colorIndex_1+2
  5385 06:0EC3: 85 03        	sta	<R0+2
  5386 06:0EC5: E2 20        	sep	#$20
  5387                        	longa	off
  5388 06:0EC7: A9 00        	lda	#$0
  5389 06:0EC9: 87 01        	sta	[<R0]
  5390 06:0ECB: C2 20        	rep	#$20
  5391                        	longa	on
  Mon Sep 27 2021  9:39                                                Page 106


  5392 06:0ECD: E6 05        	inc	<L153+colorIndex_1
  5393 06:0ECF: D0 02        	bne	L205
  5394 06:0ED1: E6 07        	inc	<L153+colorIndex_1+2
  5395                        L205:
  5396                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  5397                        	.line	689
  5398 06:0ED3: 18           	clc
  5399 06:0ED4: A9 00 20     	lda	#$2000
  5400 06:0ED7: 65 05        	adc	<L153+colorIndex_1
  5401 06:0ED9: 85 01        	sta	<R0
  5402 06:0EDB: A9 AF 00     	lda	#$af
  5403 06:0EDE: 65 07        	adc	<L153+colorIndex_1+2
  5404 06:0EE0: 85 03        	sta	<R0+2
  5405 06:0EE2: E2 20        	sep	#$20
  5406                        	longa	off
  5407 06:0EE4: A9 FF        	lda	#$ff
  5408 06:0EE6: 87 01        	sta	[<R0]
  5409 06:0EE8: C2 20        	rep	#$20
  5410                        	longa	on
  5411 06:0EEA: E6 05        	inc	<L153+colorIndex_1
  5412 06:0EEC: D0 02        	bne	L206
  5413 06:0EEE: E6 07        	inc	<L153+colorIndex_1+2
  5414                        L206:
  5415                        ;
  5416                        ;	//colorIndex = 13 * 4;
  5417                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x50;
  5418                        	.line	692
  5419 06:0EF0: 18           	clc
  5420 06:0EF1: A9 00 20     	lda	#$2000
  5421 06:0EF4: 65 05        	adc	<L153+colorIndex_1
  5422 06:0EF6: 85 01        	sta	<R0
  5423 06:0EF8: A9 AF 00     	lda	#$af
  5424 06:0EFB: 65 07        	adc	<L153+colorIndex_1+2
  5425 06:0EFD: 85 03        	sta	<R0+2
  5426 06:0EFF: E2 20        	sep	#$20
  5427                        	longa	off
  5428 06:0F01: A9 50        	lda	#$50
  5429 06:0F03: 87 01        	sta	[<R0]
  5430 06:0F05: C2 20        	rep	#$20
  5431                        	longa	on
  5432 06:0F07: E6 05        	inc	<L153+colorIndex_1
  5433 06:0F09: D0 02        	bne	L207
  5434 06:0F0B: E6 07        	inc	<L153+colorIndex_1+2
  5435                        L207:
  5436                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x50;
  5437                        	.line	693
  5438 06:0F0D: 18           	clc
  5439 06:0F0E: A9 00 20     	lda	#$2000
  5440 06:0F11: 65 05        	adc	<L153+colorIndex_1
  5441 06:0F13: 85 01        	sta	<R0
  5442 06:0F15: A9 AF 00     	lda	#$af
  5443 06:0F18: 65 07        	adc	<L153+colorIndex_1+2
  5444 06:0F1A: 85 03        	sta	<R0+2
  5445 06:0F1C: E2 20        	sep	#$20
  5446                        	longa	off
  5447 06:0F1E: A9 50        	lda	#$50
  5448 06:0F20: 87 01        	sta	[<R0]
  5449 06:0F22: C2 20        	rep	#$20
  Mon Sep 27 2021  9:39                                                Page 107


  5450                        	longa	on
  5451 06:0F24: E6 05        	inc	<L153+colorIndex_1
  5452 06:0F26: D0 02        	bne	L208
  5453 06:0F28: E6 07        	inc	<L153+colorIndex_1+2
  5454                        L208:
  5455                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x50;
  5456                        	.line	694
  5457 06:0F2A: 18           	clc
  5458 06:0F2B: A9 00 20     	lda	#$2000
  5459 06:0F2E: 65 05        	adc	<L153+colorIndex_1
  5460 06:0F30: 85 01        	sta	<R0
  5461 06:0F32: A9 AF 00     	lda	#$af
  5462 06:0F35: 65 07        	adc	<L153+colorIndex_1+2
  5463 06:0F37: 85 03        	sta	<R0+2
  5464 06:0F39: E2 20        	sep	#$20
  5465                        	longa	off
  5466 06:0F3B: A9 50        	lda	#$50
  5467 06:0F3D: 87 01        	sta	[<R0]
  5468 06:0F3F: C2 20        	rep	#$20
  5469                        	longa	on
  5470 06:0F41: E6 05        	inc	<L153+colorIndex_1
  5471 06:0F43: D0 02        	bne	L209
  5472 06:0F45: E6 07        	inc	<L153+colorIndex_1+2
  5473                        L209:
  5474                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  5475                        	.line	695
  5476 06:0F47: 18           	clc
  5477 06:0F48: A9 00 20     	lda	#$2000
  5478 06:0F4B: 65 05        	adc	<L153+colorIndex_1
  5479 06:0F4D: 85 01        	sta	<R0
  5480 06:0F4F: A9 AF 00     	lda	#$af
  5481 06:0F52: 65 07        	adc	<L153+colorIndex_1+2
  5482 06:0F54: 85 03        	sta	<R0+2
  5483 06:0F56: E2 20        	sep	#$20
  5484                        	longa	off
  5485 06:0F58: A9 FF        	lda	#$ff
  5486 06:0F5A: 87 01        	sta	[<R0]
  5487 06:0F5C: C2 20        	rep	#$20
  5488                        	longa	on
  5489 06:0F5E: E6 05        	inc	<L153+colorIndex_1
  5490 06:0F60: D0 02        	bne	L210
  5491 06:0F62: E6 07        	inc	<L153+colorIndex_1+2
  5492                        L210:
  5493                        ;
  5494                        ;	//colorIndex = 14 * 4;
  5495                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x40;
  5496                        	.line	698
  5497 06:0F64: 18           	clc
  5498 06:0F65: A9 00 20     	lda	#$2000
  5499 06:0F68: 65 05        	adc	<L153+colorIndex_1
  5500 06:0F6A: 85 01        	sta	<R0
  5501 06:0F6C: A9 AF 00     	lda	#$af
  5502 06:0F6F: 65 07        	adc	<L153+colorIndex_1+2
  5503 06:0F71: 85 03        	sta	<R0+2
  5504 06:0F73: E2 20        	sep	#$20
  5505                        	longa	off
  5506 06:0F75: A9 40        	lda	#$40
  5507 06:0F77: 87 01        	sta	[<R0]
  Mon Sep 27 2021  9:39                                                Page 108


  5508 06:0F79: C2 20        	rep	#$20
  5509                        	longa	on
  5510 06:0F7B: E6 05        	inc	<L153+colorIndex_1
  5511 06:0F7D: D0 02        	bne	L211
  5512 06:0F7F: E6 07        	inc	<L153+colorIndex_1+2
  5513                        L211:
  5514                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x40;
  5515                        	.line	699
  5516 06:0F81: 18           	clc
  5517 06:0F82: A9 00 20     	lda	#$2000
  5518 06:0F85: 65 05        	adc	<L153+colorIndex_1
  5519 06:0F87: 85 01        	sta	<R0
  5520 06:0F89: A9 AF 00     	lda	#$af
  5521 06:0F8C: 65 07        	adc	<L153+colorIndex_1+2
  5522 06:0F8E: 85 03        	sta	<R0+2
  5523 06:0F90: E2 20        	sep	#$20
  5524                        	longa	off
  5525 06:0F92: A9 40        	lda	#$40
  5526 06:0F94: 87 01        	sta	[<R0]
  5527 06:0F96: C2 20        	rep	#$20
  5528                        	longa	on
  5529 06:0F98: E6 05        	inc	<L153+colorIndex_1
  5530 06:0F9A: D0 02        	bne	L212
  5531 06:0F9C: E6 07        	inc	<L153+colorIndex_1+2
  5532                        L212:
  5533                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0x40;
  5534                        	.line	700
  5535 06:0F9E: 18           	clc
  5536 06:0F9F: A9 00 20     	lda	#$2000
  5537 06:0FA2: 65 05        	adc	<L153+colorIndex_1
  5538 06:0FA4: 85 01        	sta	<R0
  5539 06:0FA6: A9 AF 00     	lda	#$af
  5540 06:0FA9: 65 07        	adc	<L153+colorIndex_1+2
  5541 06:0FAB: 85 03        	sta	<R0+2
  5542 06:0FAD: E2 20        	sep	#$20
  5543                        	longa	off
  5544 06:0FAF: A9 40        	lda	#$40
  5545 06:0FB1: 87 01        	sta	[<R0]
  5546 06:0FB3: C2 20        	rep	#$20
  5547                        	longa	on
  5548 06:0FB5: E6 05        	inc	<L153+colorIndex_1
  5549 06:0FB7: D0 02        	bne	L213
  5550 06:0FB9: E6 07        	inc	<L153+colorIndex_1+2
  5551                        L213:
  5552                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  5553                        	.line	701
  5554 06:0FBB: 18           	clc
  5555 06:0FBC: A9 00 20     	lda	#$2000
  5556 06:0FBF: 65 05        	adc	<L153+colorIndex_1
  5557 06:0FC1: 85 01        	sta	<R0
  5558 06:0FC3: A9 AF 00     	lda	#$af
  5559 06:0FC6: 65 07        	adc	<L153+colorIndex_1+2
  5560 06:0FC8: 85 03        	sta	<R0+2
  5561 06:0FCA: E2 20        	sep	#$20
  5562                        	longa	off
  5563 06:0FCC: A9 FF        	lda	#$ff
  5564 06:0FCE: 87 01        	sta	[<R0]
  5565 06:0FD0: C2 20        	rep	#$20
  Mon Sep 27 2021  9:39                                                Page 109


  5566                        	longa	on
  5567 06:0FD2: E6 05        	inc	<L153+colorIndex_1
  5568 06:0FD4: D0 02        	bne	L214
  5569 06:0FD6: E6 07        	inc	<L153+colorIndex_1+2
  5570                        L214:
  5571                        ;
  5572                        ;	//colorIndex = 15 * 4;
  5573                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  5574                        	.line	704
  5575 06:0FD8: 18           	clc
  5576 06:0FD9: A9 00 20     	lda	#$2000
  5577 06:0FDC: 65 05        	adc	<L153+colorIndex_1
  5578 06:0FDE: 85 01        	sta	<R0
  5579 06:0FE0: A9 AF 00     	lda	#$af
  5580 06:0FE3: 65 07        	adc	<L153+colorIndex_1+2
  5581 06:0FE5: 85 03        	sta	<R0+2
  5582 06:0FE7: E2 20        	sep	#$20
  5583                        	longa	off
  5584 06:0FE9: A9 FF        	lda	#$ff
  5585 06:0FEB: 87 01        	sta	[<R0]
  5586 06:0FED: C2 20        	rep	#$20
  5587                        	longa	on
  5588 06:0FEF: E6 05        	inc	<L153+colorIndex_1
  5589 06:0FF1: D0 02        	bne	L215
  5590 06:0FF3: E6 07        	inc	<L153+colorIndex_1+2
  5591                        L215:
  5592                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  5593                        	.line	705
  5594 06:0FF5: 18           	clc
  5595 06:0FF6: A9 00 20     	lda	#$2000
  5596 06:0FF9: 65 05        	adc	<L153+colorIndex_1
  5597 06:0FFB: 85 01        	sta	<R0
  5598 06:0FFD: A9 AF 00     	lda	#$af
  5599 06:1000: 65 07        	adc	<L153+colorIndex_1+2
  5600 06:1002: 85 03        	sta	<R0+2
  5601 06:1004: E2 20        	sep	#$20
  5602                        	longa	off
  5603 06:1006: A9 FF        	lda	#$ff
  5604 06:1008: 87 01        	sta	[<R0]
  5605 06:100A: C2 20        	rep	#$20
  5606                        	longa	on
  5607 06:100C: E6 05        	inc	<L153+colorIndex_1
  5608 06:100E: D0 02        	bne	L216
  5609 06:1010: E6 07        	inc	<L153+colorIndex_1+2
  5610                        L216:
  5611                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  5612                        	.line	706
  5613 06:1012: 18           	clc
  5614 06:1013: A9 00 20     	lda	#$2000
  5615 06:1016: 65 05        	adc	<L153+colorIndex_1
  5616 06:1018: 85 01        	sta	<R0
  5617 06:101A: A9 AF 00     	lda	#$af
  5618 06:101D: 65 07        	adc	<L153+colorIndex_1+2
  5619 06:101F: 85 03        	sta	<R0+2
  5620 06:1021: E2 20        	sep	#$20
  5621                        	longa	off
  5622 06:1023: A9 FF        	lda	#$ff
  5623 06:1025: 87 01        	sta	[<R0]
  Mon Sep 27 2021  9:39                                                Page 110


  5624 06:1027: C2 20        	rep	#$20
  5625                        	longa	on
  5626 06:1029: E6 05        	inc	<L153+colorIndex_1
  5627 06:102B: D0 02        	bne	L217
  5628 06:102D: E6 07        	inc	<L153+colorIndex_1+2
  5629                        L217:
  5630                        ;	GRP_LUT_BASE_ADDR[colorIndex++] = 0xFF;
  5631                        	.line	707
  5632 06:102F: 18           	clc
  5633 06:1030: A9 00 20     	lda	#$2000
  5634 06:1033: 65 05        	adc	<L153+colorIndex_1
  5635 06:1035: 85 01        	sta	<R0
  5636 06:1037: A9 AF 00     	lda	#$af
  5637 06:103A: 65 07        	adc	<L153+colorIndex_1+2
  5638 06:103C: 85 03        	sta	<R0+2
  5639 06:103E: E2 20        	sep	#$20
  5640                        	longa	off
  5641 06:1040: A9 FF        	lda	#$ff
  5642 06:1042: 87 01        	sta	[<R0]
  5643 06:1044: C2 20        	rep	#$20
  5644                        	longa	on
  5645 06:1046: E6 05        	inc	<L153+colorIndex_1
  5646 06:1048: D0 02        	bne	L218
  5647 06:104A: E6 07        	inc	<L153+colorIndex_1+2
  5648                        L218:
  5649                        ;
  5650                        ;
  5651                        ;	memset(&_k_currentPalatte,0,sizeof(CUR_PALETTE_M
                    AP));
  5652                        	.line	710
  5653 06:104C: F4 32 00     	pea	#<$32
  5654 06:104F: F4 00 00     	pea	#<$0
  5655 06:1052: A9 xx xx     	lda	#<~~_k_currentPalatte
  5656 06:1055: 85 01        	sta	<R0
  5657                        	xref	_BEG_DATA
  5658 06:1057: A9 xx xx     	lda	#_BEG_DATA>>16
  5659 06:105A: 85 03        	sta	<R0+2
  5660 06:105C: D4 03        	pei	<R0+2
  5661 06:105E: D4 01        	pei	<R0
  5662 06:1060: 22 xx xx xx  	jsl	~~memset
  5663                        ;
  5664                        ;	_k_currentPalatte.CUR_WINDOWFRAME = 0;
  5665                        	.line	712
  5666 06:1064: 9C xx xx     	stz	|~~_k_currentPalatte+10
  5667                        ;	_k_currentPalatte.CUR_DESKTOP = 14;
  5668                        	.line	713
  5669 06:1067: A9 0E 00     	lda	#$e
  5670 06:106A: 8D xx xx     	sta	|~~_k_currentPalatte
  5671                        ;	_k_currentPalatte.CUR_HIGHLIGHT_COLOR = 8;
  5672                        	.line	714
  5673 06:106D: A9 08 00     	lda	#$8
  5674 06:1070: 8D xx xx     	sta	|~~_k_currentPalatte+8
  5675                        ;	_k_currentPalatte.CUR_SELECTED_FONT = 11;
  5676                        	.line	715
  5677 06:1073: A9 0B 00     	lda	#$b
  5678 06:1076: 8D xx xx     	sta	|~~_k_currentPalatte+6
  5679                        ;	_k_currentPalatte.CUR_GADGET = _k_currentPalatte
                    .CUR_WINDOWSHADOW = 12;
  Mon Sep 27 2021  9:39                                                Page 111


  5680                        	.line	716
  5681 06:1079: A9 0C 00     	lda	#$c
  5682 06:107C: 8D xx xx     	sta	|~~_k_currentPalatte+14
  5683 06:107F: A9 0C 00     	lda	#$c
  5684 06:1082: 8D xx xx     	sta	|~~_k_currentPalatte+18
  5685                        ;	_k_currentPalatte.CUR_BACKGROUND = 13;
  5686                        	.line	717
  5687 06:1085: A9 0D 00     	lda	#$d
  5688 06:1088: 8D xx xx     	sta	|~~_k_currentPalatte+2
  5689                        ;	_k_currentPalatte.CUR_FONT = 14;
  5690                        	.line	718
  5691 06:108B: A9 0E 00     	lda	#$e
  5692 06:108E: 8D xx xx     	sta	|~~_k_currentPalatte+4
  5693                        ;	_k_currentPalatte.CUR_WINDOWBORDER = _k_currentP
                    alatte.CUR_MENU = 15;
  5694                        	.line	719
  5695 06:1091: A9 0F 00     	lda	#$f
  5696 06:1094: 8D xx xx     	sta	|~~_k_currentPalatte+16
  5697 06:1097: A9 0F 00     	lda	#$f
  5698 06:109A: 8D xx xx     	sta	|~~_k_currentPalatte+12
  5699                        ;
  5700                        ;	for(colorIndex=0;colorIndex<15;colorIndex++)
  5701                        	.line	721
  5702 06:109D: 64 05        	stz	<L153+colorIndex_1
  5703 06:109F: 64 07        	stz	<L153+colorIndex_1+2
  5704                        L10031:
  5705                        ;	{
  5706                        	.line	722
  5707                        ;		_k_currentPalatte.CUR_COLOR[colorIndex] 
                    = colorIndex;
  5708                        	.line	723
  5709 06:10A1: A5 05        	lda	<L153+colorIndex_1
  5710 06:10A3: 0A           	asl	A
  5711 06:10A4: 85 01        	sta	<R0
  5712 06:10A6: A5 05        	lda	<L153+colorIndex_1
  5713 06:10A8: A6 01        	ldx	<R0
  5714 06:10AA: 9D xx xx     	sta	|~~_k_currentPalatte+20,X
  5715                        ;	}
  5716                        	.line	724
  5717                        L10029:
  5718 06:10AD: E6 05        	inc	<L153+colorIndex_1
  5719 06:10AF: D0 02        	bne	L219
  5720 06:10B1: E6 07        	inc	<L153+colorIndex_1+2
  5721                        L219:
  5722 06:10B3: A5 05        	lda	<L153+colorIndex_1
  5723 06:10B5: C9 0F 00     	cmp	#<$f
  5724 06:10B8: A5 07        	lda	<L153+colorIndex_1+2
  5725 06:10BA: E9 00 00     	sbc	#^$f
  5726 06:10BD: B0 03        	bcs	L220
  5727 06:10BF: 82 DF FF     	brl	L10031
  5728                        L220:
  5729                        L10030:
  5730                        ;
  5731                        ;
  5732                        ;}
  5733                        	.line	727
  5734                        L221:
  5735 06:10C2: 2B           	pld
  Mon Sep 27 2021  9:39                                                Page 112


  5736 06:10C3: 3B           	tsc
  5737 06:10C4: 18           	clc
  5738 06:10C5: 69 08 00     	adc	#L152
  5739 06:10C8: 1B           	tcs
  5740 06:10C9: 6B           	rtl
  5741                        	.endblock	727
  5742             00000008   L152	equ	8
  5743             00000005   L153	equ	5
  5744 06:10CA:              	ends
  5745                        	efunc
  5746                        	.endfunc	727,5,8
  5747                        	.line	727
  5748                        ;
  5749                        ;void defineGrayPalette(void)
  5750                        ;{
  5751                        	.line	729
  5752                        	.line	730
  5753                        	GFX
  5754                        	xdef	~~defineGrayPalette
  5755                        	func
  5756                        	.function	730
  5757                        ~~defineGrayPalette:
  5758                        	longa	on
  5759                        	longi	on
  5760 06:10CA: 3B           	tsc
  5761 06:10CB: 38           	sec
  5762 06:10CC: E9 1E 00     	sbc	#L222
  5763 06:10CF: 1B           	tcs
  5764 06:10D0: 0B           	phd
  5765 06:10D1: 5B           	tcd
  5766                        	.block	730
  5767                        ;	unsigned long colorIndex = 0;
  5768                        ;	int colorShade = 0;
  5769                        ;	char color[] = {0x00,0x00,0x22,0x33,0x44,0x55,0x
                    66,0x77,0x88,0x99,0xAA,0xBB,0xCC,0xDD,0xFF,0xFF};
  5770                        	data
  5771                        L225:
  5772 00:07C6: 00 00 22 33  	db	$0,$0,$22,$33,$44,$55,$66,$77,$88,$99
       00:07CA: 44 55 66 77 
       00:07CE: 88 99 
  5773 00:07D0: AA BB CC DD  	db	$AA,$BB,$CC,$DD,$FF,$FF
       00:07D4: FF FF 
  5774 00:07D6:              	ends
  5775                        ;	
  5776                        ;	for(colorIndex = 0;colorIndex<60;colorIndex+=4)
  5777             00000000   colorIndex_1	set	0
  5778             00000004   colorShade_1	set	4
  5779             00000006   color_1	set	6
  5780                        	.sym	colorIndex,0,18,1,32
  5781                        	.sym	colorShade,4,5,1,16
  5782                        	.sym	color,6,110,1,0,16
  5783 06:10D2: 64 09        	stz	<L223+colorIndex_1
  5784 06:10D4: 64 0B        	stz	<L223+colorIndex_1+2
  5785 06:10D6: 64 0D        	stz	<L223+colorShade_1
  5786 06:10D8: F4 xx xx     	pea	#^L225
  5787 06:10DB: F4 xx xx     	pea	#<L225
  5788 06:10DE: 18           	clc
  5789 06:10DF: 7B           	tdc
  Mon Sep 27 2021  9:39                                                Page 113


  5790 06:10E0: 69 0F 00     	adc	#<L223+color_1
  5791 06:10E3: 85 01        	sta	<R0
  5792 06:10E5: A9 00 00     	lda	#$0
  5793 06:10E8: 85 03        	sta	<R0+2
  5794 06:10EA: D4 03        	pei	<R0+2
  5795 06:10EC: D4 01        	pei	<R0
  5796 06:10EE: A9 10 00     	lda	#$10
  5797                        	xref	~~~fmov
  5798 06:10F1: 22 xx xx xx  	jsl	~~~fmov
  5799                        	.line	735
  5800 06:10F5: 64 09        	stz	<L223+colorIndex_1
  5801 06:10F7: 64 0B        	stz	<L223+colorIndex_1+2
  5802                        L10034:
  5803                        ;	{
  5804                        	.line	736
  5805                        ;		GRP_LUT_BASE_ADDR[colorIndex+0] = color[
                    colorShade];
  5806                        	.line	737
  5807 06:10F9: 18           	clc
  5808 06:10FA: A9 00 20     	lda	#$2000
  5809 06:10FD: 65 09        	adc	<L223+colorIndex_1
  5810 06:10FF: 85 01        	sta	<R0
  5811 06:1101: A9 AF 00     	lda	#$af
  5812 06:1104: 65 0B        	adc	<L223+colorIndex_1+2
  5813 06:1106: 85 03        	sta	<R0+2
  5814 06:1108: E2 20        	sep	#$20
  5815                        	longa	off
  5816 06:110A: A6 0D        	ldx	<L223+colorShade_1
  5817 06:110C: B5 0F        	lda	<L223+color_1,X
  5818 06:110E: 87 01        	sta	[<R0]
  5819 06:1110: C2 20        	rep	#$20
  5820                        	longa	on
  5821                        ;		GRP_LUT_BASE_ADDR[colorIndex+1] = color[
                    colorShade];
  5822                        	.line	738
  5823 06:1112: 18           	clc
  5824 06:1113: A9 01 00     	lda	#$1
  5825 06:1116: 69 00 20     	adc	#<$af2000
  5826 06:1119: 85 01        	sta	<R0
  5827 06:111B: A9 00 00     	lda	#$0
  5828 06:111E: 69 AF 00     	adc	#^$af2000
  5829 06:1121: 85 03        	sta	<R0+2
  5830 06:1123: 18           	clc
  5831 06:1124: A5 01        	lda	<R0
  5832 06:1126: 65 09        	adc	<L223+colorIndex_1
  5833 06:1128: 85 05        	sta	<R1
  5834 06:112A: A5 03        	lda	<R0+2
  5835 06:112C: 65 0B        	adc	<L223+colorIndex_1+2
  5836 06:112E: 85 07        	sta	<R1+2
  5837 06:1130: E2 20        	sep	#$20
  5838                        	longa	off
  5839 06:1132: A6 0D        	ldx	<L223+colorShade_1
  5840 06:1134: B5 0F        	lda	<L223+color_1,X
  5841 06:1136: 87 05        	sta	[<R1]
  5842 06:1138: C2 20        	rep	#$20
  5843                        	longa	on
  5844                        ;		GRP_LUT_BASE_ADDR[colorIndex+2] = color[
                    colorShade];
  Mon Sep 27 2021  9:39                                                Page 114


  5845                        	.line	739
  5846 06:113A: 18           	clc
  5847 06:113B: A9 02 00     	lda	#$2
  5848 06:113E: 69 00 20     	adc	#<$af2000
  5849 06:1141: 85 01        	sta	<R0
  5850 06:1143: A9 00 00     	lda	#$0
  5851 06:1146: 69 AF 00     	adc	#^$af2000
  5852 06:1149: 85 03        	sta	<R0+2
  5853 06:114B: 18           	clc
  5854 06:114C: A5 01        	lda	<R0
  5855 06:114E: 65 09        	adc	<L223+colorIndex_1
  5856 06:1150: 85 05        	sta	<R1
  5857 06:1152: A5 03        	lda	<R0+2
  5858 06:1154: 65 0B        	adc	<L223+colorIndex_1+2
  5859 06:1156: 85 07        	sta	<R1+2
  5860 06:1158: E2 20        	sep	#$20
  5861                        	longa	off
  5862 06:115A: A6 0D        	ldx	<L223+colorShade_1
  5863 06:115C: B5 0F        	lda	<L223+color_1,X
  5864 06:115E: 87 05        	sta	[<R1]
  5865 06:1160: C2 20        	rep	#$20
  5866                        	longa	on
  5867                        ;		GRP_LUT_BASE_ADDR[colorIndex+3] = 0xFF;
  5868                        	.line	740
  5869 06:1162: 18           	clc
  5870 06:1163: A9 03 00     	lda	#$3
  5871 06:1166: 69 00 20     	adc	#<$af2000
  5872 06:1169: 85 01        	sta	<R0
  5873 06:116B: A9 00 00     	lda	#$0
  5874 06:116E: 69 AF 00     	adc	#^$af2000
  5875 06:1171: 85 03        	sta	<R0+2
  5876 06:1173: 18           	clc
  5877 06:1174: A5 01        	lda	<R0
  5878 06:1176: 65 09        	adc	<L223+colorIndex_1
  5879 06:1178: 85 05        	sta	<R1
  5880 06:117A: A5 03        	lda	<R0+2
  5881 06:117C: 65 0B        	adc	<L223+colorIndex_1+2
  5882 06:117E: 85 07        	sta	<R1+2
  5883 06:1180: E2 20        	sep	#$20
  5884                        	longa	off
  5885 06:1182: A9 FF        	lda	#$ff
  5886 06:1184: 87 05        	sta	[<R1]
  5887 06:1186: C2 20        	rep	#$20
  5888                        	longa	on
  5889                        ;
  5890                        ;		colorShade++;
  5891                        	.line	742
  5892 06:1188: E6 0D        	inc	<L223+colorShade_1
  5893                        ;	}
  5894                        	.line	743
  5895                        L10032:
  5896 06:118A: 18           	clc
  5897 06:118B: A9 04 00     	lda	#$4
  5898 06:118E: 65 09        	adc	<L223+colorIndex_1
  5899 06:1190: 85 09        	sta	<L223+colorIndex_1
  5900 06:1192: 90 02        	bcc	L226
  5901 06:1194: E6 0B        	inc	<L223+colorIndex_1+2
  5902                        L226:
  Mon Sep 27 2021  9:39                                                Page 115


  5903 06:1196: A5 09        	lda	<L223+colorIndex_1
  5904 06:1198: C9 3C 00     	cmp	#<$3c
  5905 06:119B: A5 0B        	lda	<L223+colorIndex_1+2
  5906 06:119D: E9 00 00     	sbc	#^$3c
  5907 06:11A0: B0 03        	bcs	L227
  5908 06:11A2: 82 54 FF     	brl	L10034
  5909                        L227:
  5910                        L10033:
  5911                        ;
  5912                        ;	memset(&_k_currentPalatte,0,sizeof(CUR_PALETTE_M
                    AP));
  5913                        	.line	745
  5914 06:11A5: F4 32 00     	pea	#<$32
  5915 06:11A8: F4 00 00     	pea	#<$0
  5916 06:11AB: A9 xx xx     	lda	#<~~_k_currentPalatte
  5917 06:11AE: 85 01        	sta	<R0
  5918                        	xref	_BEG_DATA
  5919 06:11B0: A9 xx xx     	lda	#_BEG_DATA>>16
  5920 06:11B3: 85 03        	sta	<R0+2
  5921 06:11B5: D4 03        	pei	<R0+2
  5922 06:11B7: D4 01        	pei	<R0
  5923 06:11B9: 22 xx xx xx  	jsl	~~memset
  5924                        ;
  5925                        ;	_k_currentPalatte.CUR_WINDOWFRAME = 15;
  5926                        	.line	747
  5927 06:11BD: A9 0F 00     	lda	#$f
  5928 06:11C0: 8D xx xx     	sta	|~~_k_currentPalatte+10
  5929                        ;	_k_currentPalatte.CUR_DESKTOP = 3;
  5930                        	.line	748
  5931 06:11C3: A9 03 00     	lda	#$3
  5932 06:11C6: 8D xx xx     	sta	|~~_k_currentPalatte
  5933                        ;	_k_currentPalatte.CUR_HIGHLIGHT_COLOR = 8;
  5934                        	.line	749
  5935 06:11C9: A9 08 00     	lda	#$8
  5936 06:11CC: 8D xx xx     	sta	|~~_k_currentPalatte+8
  5937                        ;	_k_currentPalatte.CUR_SELECTED_FONT = 11;
  5938                        	.line	750
  5939 06:11CF: A9 0B 00     	lda	#$b
  5940 06:11D2: 8D xx xx     	sta	|~~_k_currentPalatte+6
  5941                        ;	_k_currentPalatte.CUR_GADGET = _k_currentPalatte
                    .CUR_WINDOWSHADOW = 1;
  5942                        	.line	751
  5943 06:11D5: A9 01 00     	lda	#$1
  5944 06:11D8: 8D xx xx     	sta	|~~_k_currentPalatte+14
  5945 06:11DB: A9 01 00     	lda	#$1
  5946 06:11DE: 8D xx xx     	sta	|~~_k_currentPalatte+18
  5947                        ;	_k_currentPalatte.CUR_BACKGROUND = 4;
  5948                        	.line	752
  5949 06:11E1: A9 04 00     	lda	#$4
  5950 06:11E4: 8D xx xx     	sta	|~~_k_currentPalatte+2
  5951                        ;	_k_currentPalatte.CUR_FONT = 1;
  5952                        	.line	753
  5953 06:11E7: A9 01 00     	lda	#$1
  5954 06:11EA: 8D xx xx     	sta	|~~_k_currentPalatte+4
  5955                        ;	_k_currentPalatte.CUR_WINDOWBORDER = _k_currentP
                    alatte.CUR_MENU = 15;
  5956                        	.line	754
  5957 06:11ED: A9 0F 00     	lda	#$f
  Mon Sep 27 2021  9:39                                                Page 116


  5958 06:11F0: 8D xx xx     	sta	|~~_k_currentPalatte+16
  5959 06:11F3: A9 0F 00     	lda	#$f
  5960 06:11F6: 8D xx xx     	sta	|~~_k_currentPalatte+12
  5961                        ;
  5962                        ;	for(colorShade=0;colorShade<16;colorShade++)
  5963                        	.line	756
  5964 06:11F9: 64 0D        	stz	<L223+colorShade_1
  5965                        L10037:
  5966                        ;	{
  5967                        	.line	757
  5968                        ;		_k_currentPalatte.CUR_COLOR[colorShade] 
                    = colorShade;
  5969                        	.line	758
  5970 06:11FB: A5 0D        	lda	<L223+colorShade_1
  5971 06:11FD: 0A           	asl	A
  5972 06:11FE: 85 01        	sta	<R0
  5973 06:1200: A5 0D        	lda	<L223+colorShade_1
  5974 06:1202: A6 01        	ldx	<R0
  5975 06:1204: 9D xx xx     	sta	|~~_k_currentPalatte+20,X
  5976                        ;	}
  5977                        	.line	759
  5978                        L10035:
  5979 06:1207: E6 0D        	inc	<L223+colorShade_1
  5980 06:1209: 38           	sec
  5981 06:120A: A5 0D        	lda	<L223+colorShade_1
  5982 06:120C: E9 10 00     	sbc	#<$10
  5983 06:120F: 70 03        	bvs	L228
  5984 06:1211: 49 00 80     	eor	#$8000
  5985                        L228:
  5986 06:1214: 30 03        	bmi	L229
  5987 06:1216: 82 E2 FF     	brl	L10037
  5988                        L229:
  5989                        L10036:
  5990                        ;}
  5991                        	.line	760
  5992                        L230:
  5993 06:1219: 2B           	pld
  5994 06:121A: 3B           	tsc
  5995 06:121B: 18           	clc
  5996 06:121C: 69 1E 00     	adc	#L222
  5997 06:121F: 1B           	tcs
  5998 06:1220: 6B           	rtl
  5999                        	.endblock	760
  6000             0000001E   L222	equ	30
  6001             00000009   L223	equ	9
  6002 06:1221:              	ends
  6003                        	efunc
  6004                        	.endfunc	760,9,30
  6005                        	.line	760
  6006                        ;
  6007                        ;int k_getUIBackgroundColor()
  6008                        ;{
  6009                        	.line	762
  6010                        	.line	763
  6011                        	GFX
  6012                        	xdef	~~k_getUIBackgroundColor
  6013                        	func
  6014                        	.function	763
  Mon Sep 27 2021  9:39                                                Page 117


  6015                        ~~k_getUIBackgroundColor:
  6016                        	longa	on
  6017                        	longi	on
  6018 06:1221: 3B           	tsc
  6019 06:1222: 38           	sec
  6020 06:1223: E9 00 00     	sbc	#L231
  6021 06:1226: 1B           	tcs
  6022 06:1227: 0B           	phd
  6023 06:1228: 5B           	tcd
  6024                        	.block	763
  6025                        ;	return 	_k_currentPalatte.CUR_BACKGROUND;
  6026                        	.line	764
  6027 06:1229: AD xx xx     	lda	|~~_k_currentPalatte+2
  6028                        L234:
  6029 06:122C: A8           	tay
  6030 06:122D: 2B           	pld
  6031 06:122E: 3B           	tsc
  6032 06:122F: 18           	clc
  6033 06:1230: 69 00 00     	adc	#L231
  6034 06:1233: 1B           	tcs
  6035 06:1234: 98           	tya
  6036 06:1235: 6B           	rtl
  6037                        ;}
  6038                        	.line	765
  6039                        	.endblock	765
  6040             00000000   L231	equ	0
  6041             00000001   L232	equ	1
  6042 06:1236:              	ends
  6043                        	efunc
  6044                        	.endfunc	765,1,0
  6045                        	.line	765
  6046                        ;
  6047                        ;int k_getUIDesktopColor()
  6048                        ;{
  6049                        	.line	767
  6050                        	.line	768
  6051                        	GFX
  6052                        	xdef	~~k_getUIDesktopColor
  6053                        	func
  6054                        	.function	768
  6055                        ~~k_getUIDesktopColor:
  6056                        	longa	on
  6057                        	longi	on
  6058 06:1236: 3B           	tsc
  6059 06:1237: 38           	sec
  6060 06:1238: E9 00 00     	sbc	#L235
  6061 06:123B: 1B           	tcs
  6062 06:123C: 0B           	phd
  6063 06:123D: 5B           	tcd
  6064                        	.block	768
  6065                        ;	return 	_k_currentPalatte.CUR_DESKTOP;
  6066                        	.line	769
  6067 06:123E: AD xx xx     	lda	|~~_k_currentPalatte
  6068                        L238:
  6069 06:1241: A8           	tay
  6070 06:1242: 2B           	pld
  6071 06:1243: 3B           	tsc
  6072 06:1244: 18           	clc
  Mon Sep 27 2021  9:39                                                Page 118


  6073 06:1245: 69 00 00     	adc	#L235
  6074 06:1248: 1B           	tcs
  6075 06:1249: 98           	tya
  6076 06:124A: 6B           	rtl
  6077                        ;}
  6078                        	.line	770
  6079                        	.endblock	770
  6080             00000000   L235	equ	0
  6081             00000001   L236	equ	1
  6082 06:124B:              	ends
  6083                        	efunc
  6084                        	.endfunc	770,1,0
  6085                        	.line	770
  6086                        ;
  6087                        ;
  6088                        ;int k_getUIFontColor()
  6089                        ;{
  6090                        	.line	773
  6091                        	.line	774
  6092                        	GFX
  6093                        	xdef	~~k_getUIFontColor
  6094                        	func
  6095                        	.function	774
  6096                        ~~k_getUIFontColor:
  6097                        	longa	on
  6098                        	longi	on
  6099 06:124B: 3B           	tsc
  6100 06:124C: 38           	sec
  6101 06:124D: E9 00 00     	sbc	#L239
  6102 06:1250: 1B           	tcs
  6103 06:1251: 0B           	phd
  6104 06:1252: 5B           	tcd
  6105                        	.block	774
  6106                        ;	return 	_k_currentPalatte.CUR_FONT;
  6107                        	.line	775
  6108 06:1253: AD xx xx     	lda	|~~_k_currentPalatte+4
  6109                        L242:
  6110 06:1256: A8           	tay
  6111 06:1257: 2B           	pld
  6112 06:1258: 3B           	tsc
  6113 06:1259: 18           	clc
  6114 06:125A: 69 00 00     	adc	#L239
  6115 06:125D: 1B           	tcs
  6116 06:125E: 98           	tya
  6117 06:125F: 6B           	rtl
  6118                        ;}
  6119                        	.line	776
  6120                        	.endblock	776
  6121             00000000   L239	equ	0
  6122             00000001   L240	equ	1
  6123 06:1260:              	ends
  6124                        	efunc
  6125                        	.endfunc	776,1,0
  6126                        	.line	776
  6127                        ;
  6128                        ;
  6129                        ;int k_getUIFontSelectedColor()
  6130                        ;{
  Mon Sep 27 2021  9:39                                                Page 119


  6131                        	.line	779
  6132                        	.line	780
  6133                        	GFX
  6134                        	xdef	~~k_getUIFontSelectedColor
  6135                        	func
  6136                        	.function	780
  6137                        ~~k_getUIFontSelectedColor:
  6138                        	longa	on
  6139                        	longi	on
  6140 06:1260: 3B           	tsc
  6141 06:1261: 38           	sec
  6142 06:1262: E9 00 00     	sbc	#L243
  6143 06:1265: 1B           	tcs
  6144 06:1266: 0B           	phd
  6145 06:1267: 5B           	tcd
  6146                        	.block	780
  6147                        ;	return 	_k_currentPalatte.CUR_SELECTED_FONT;
  6148                        	.line	781
  6149 06:1268: AD xx xx     	lda	|~~_k_currentPalatte+6
  6150                        L246:
  6151 06:126B: A8           	tay
  6152 06:126C: 2B           	pld
  6153 06:126D: 3B           	tsc
  6154 06:126E: 18           	clc
  6155 06:126F: 69 00 00     	adc	#L243
  6156 06:1272: 1B           	tcs
  6157 06:1273: 98           	tya
  6158 06:1274: 6B           	rtl
  6159                        ;}
  6160                        	.line	782
  6161                        	.endblock	782
  6162             00000000   L243	equ	0
  6163             00000001   L244	equ	1
  6164 06:1275:              	ends
  6165                        	efunc
  6166                        	.endfunc	782,1,0
  6167                        	.line	782
  6168                        ;
  6169                        ;
  6170                        ;int k_getUIHighlightColor()
  6171                        ;{
  6172                        	.line	785
  6173                        	.line	786
  6174                        	GFX
  6175                        	xdef	~~k_getUIHighlightColor
  6176                        	func
  6177                        	.function	786
  6178                        ~~k_getUIHighlightColor:
  6179                        	longa	on
  6180                        	longi	on
  6181 06:1275: 3B           	tsc
  6182 06:1276: 38           	sec
  6183 06:1277: E9 00 00     	sbc	#L247
  6184 06:127A: 1B           	tcs
  6185 06:127B: 0B           	phd
  6186 06:127C: 5B           	tcd
  6187                        	.block	786
  6188                        ;	return 	_k_currentPalatte.CUR_HIGHLIGHT_COLOR;
  Mon Sep 27 2021  9:39                                                Page 120


  6189                        	.line	787
  6190 06:127D: AD xx xx     	lda	|~~_k_currentPalatte+8
  6191                        L250:
  6192 06:1280: A8           	tay
  6193 06:1281: 2B           	pld
  6194 06:1282: 3B           	tsc
  6195 06:1283: 18           	clc
  6196 06:1284: 69 00 00     	adc	#L247
  6197 06:1287: 1B           	tcs
  6198 06:1288: 98           	tya
  6199 06:1289: 6B           	rtl
  6200                        ;}
  6201                        	.line	788
  6202                        	.endblock	788
  6203             00000000   L247	equ	0
  6204             00000001   L248	equ	1
  6205 06:128A:              	ends
  6206                        	efunc
  6207                        	.endfunc	788,1,0
  6208                        	.line	788
  6209                        ;
  6210                        ;
  6211                        ;int k_getUIWindowFrameColor()
  6212                        ;{
  6213                        	.line	791
  6214                        	.line	792
  6215                        	GFX
  6216                        	xdef	~~k_getUIWindowFrameColor
  6217                        	func
  6218                        	.function	792
  6219                        ~~k_getUIWindowFrameColor:
  6220                        	longa	on
  6221                        	longi	on
  6222 06:128A: 3B           	tsc
  6223 06:128B: 38           	sec
  6224 06:128C: E9 00 00     	sbc	#L251
  6225 06:128F: 1B           	tcs
  6226 06:1290: 0B           	phd
  6227 06:1291: 5B           	tcd
  6228                        	.block	792
  6229                        ;	return 	_k_currentPalatte.CUR_WINDOWFRAME;
  6230                        	.line	793
  6231 06:1292: AD xx xx     	lda	|~~_k_currentPalatte+10
  6232                        L254:
  6233 06:1295: A8           	tay
  6234 06:1296: 2B           	pld
  6235 06:1297: 3B           	tsc
  6236 06:1298: 18           	clc
  6237 06:1299: 69 00 00     	adc	#L251
  6238 06:129C: 1B           	tcs
  6239 06:129D: 98           	tya
  6240 06:129E: 6B           	rtl
  6241                        ;}
  6242                        	.line	794
  6243                        	.endblock	794
  6244             00000000   L251	equ	0
  6245             00000001   L252	equ	1
  6246 06:129F:              	ends
  Mon Sep 27 2021  9:39                                                Page 121


  6247                        	efunc
  6248                        	.endfunc	794,1,0
  6249                        	.line	794
  6250                        ;
  6251                        ;
  6252                        ;int k_getUIWindowBorderColor()
  6253                        ;{
  6254                        	.line	797
  6255                        	.line	798
  6256                        	GFX
  6257                        	xdef	~~k_getUIWindowBorderColor
  6258                        	func
  6259                        	.function	798
  6260                        ~~k_getUIWindowBorderColor:
  6261                        	longa	on
  6262                        	longi	on
  6263 06:129F: 3B           	tsc
  6264 06:12A0: 38           	sec
  6265 06:12A1: E9 00 00     	sbc	#L255
  6266 06:12A4: 1B           	tcs
  6267 06:12A5: 0B           	phd
  6268 06:12A6: 5B           	tcd
  6269                        	.block	798
  6270                        ;	return 	_k_currentPalatte.CUR_WINDOWBORDER;
  6271                        	.line	799
  6272 06:12A7: AD xx xx     	lda	|~~_k_currentPalatte+12
  6273                        L258:
  6274 06:12AA: A8           	tay
  6275 06:12AB: 2B           	pld
  6276 06:12AC: 3B           	tsc
  6277 06:12AD: 18           	clc
  6278 06:12AE: 69 00 00     	adc	#L255
  6279 06:12B1: 1B           	tcs
  6280 06:12B2: 98           	tya
  6281 06:12B3: 6B           	rtl
  6282                        ;}
  6283                        	.line	800
  6284                        	.endblock	800
  6285             00000000   L255	equ	0
  6286             00000001   L256	equ	1
  6287 06:12B4:              	ends
  6288                        	efunc
  6289                        	.endfunc	800,1,0
  6290                        	.line	800
  6291                        ;
  6292                        ;
  6293                        ;int k_getUIWindowShadowColor()
  6294                        ;{
  6295                        	.line	803
  6296                        	.line	804
  6297                        	GFX
  6298                        	xdef	~~k_getUIWindowShadowColor
  6299                        	func
  6300                        	.function	804
  6301                        ~~k_getUIWindowShadowColor:
  6302                        	longa	on
  6303                        	longi	on
  6304 06:12B4: 3B           	tsc
  Mon Sep 27 2021  9:39                                                Page 122


  6305 06:12B5: 38           	sec
  6306 06:12B6: E9 00 00     	sbc	#L259
  6307 06:12B9: 1B           	tcs
  6308 06:12BA: 0B           	phd
  6309 06:12BB: 5B           	tcd
  6310                        	.block	804
  6311                        ;	return 	_k_currentPalatte.CUR_WINDOWSHADOW;
  6312                        	.line	805
  6313 06:12BC: AD xx xx     	lda	|~~_k_currentPalatte+14
  6314                        L262:
  6315 06:12BF: A8           	tay
  6316 06:12C0: 2B           	pld
  6317 06:12C1: 3B           	tsc
  6318 06:12C2: 18           	clc
  6319 06:12C3: 69 00 00     	adc	#L259
  6320 06:12C6: 1B           	tcs
  6321 06:12C7: 98           	tya
  6322 06:12C8: 6B           	rtl
  6323                        ;}
  6324                        	.line	806
  6325                        	.endblock	806
  6326             00000000   L259	equ	0
  6327             00000001   L260	equ	1
  6328 06:12C9:              	ends
  6329                        	efunc
  6330                        	.endfunc	806,1,0
  6331                        	.line	806
  6332                        ;
  6333                        ;
  6334                        ;int k_getUIMenuColor()
  6335                        ;{
  6336                        	.line	809
  6337                        	.line	810
  6338                        	GFX
  6339                        	xdef	~~k_getUIMenuColor
  6340                        	func
  6341                        	.function	810
  6342                        ~~k_getUIMenuColor:
  6343                        	longa	on
  6344                        	longi	on
  6345 06:12C9: 3B           	tsc
  6346 06:12CA: 38           	sec
  6347 06:12CB: E9 00 00     	sbc	#L263
  6348 06:12CE: 1B           	tcs
  6349 06:12CF: 0B           	phd
  6350 06:12D0: 5B           	tcd
  6351                        	.block	810
  6352                        ;	return 	_k_currentPalatte.CUR_MENU;
  6353                        	.line	811
  6354 06:12D1: AD xx xx     	lda	|~~_k_currentPalatte+16
  6355                        L266:
  6356 06:12D4: A8           	tay
  6357 06:12D5: 2B           	pld
  6358 06:12D6: 3B           	tsc
  6359 06:12D7: 18           	clc
  6360 06:12D8: 69 00 00     	adc	#L263
  6361 06:12DB: 1B           	tcs
  6362 06:12DC: 98           	tya
  Mon Sep 27 2021  9:39                                                Page 123


  6363 06:12DD: 6B           	rtl
  6364                        ;}
  6365                        	.line	812
  6366                        	.endblock	812
  6367             00000000   L263	equ	0
  6368             00000001   L264	equ	1
  6369 06:12DE:              	ends
  6370                        	efunc
  6371                        	.endfunc	812,1,0
  6372                        	.line	812
  6373                        ;
  6374                        ;
  6375                        ;int k_getUIGadgetColor()
  6376                        ;{
  6377                        	.line	815
  6378                        	.line	816
  6379                        	GFX
  6380                        	xdef	~~k_getUIGadgetColor
  6381                        	func
  6382                        	.function	816
  6383                        ~~k_getUIGadgetColor:
  6384                        	longa	on
  6385                        	longi	on
  6386 06:12DE: 3B           	tsc
  6387 06:12DF: 38           	sec
  6388 06:12E0: E9 00 00     	sbc	#L267
  6389 06:12E3: 1B           	tcs
  6390 06:12E4: 0B           	phd
  6391 06:12E5: 5B           	tcd
  6392                        	.block	816
  6393                        ;	return 	_k_currentPalatte.CUR_GADGET;
  6394                        	.line	817
  6395 06:12E6: AD xx xx     	lda	|~~_k_currentPalatte+18
  6396                        L270:
  6397 06:12E9: A8           	tay
  6398 06:12EA: 2B           	pld
  6399 06:12EB: 3B           	tsc
  6400 06:12EC: 18           	clc
  6401 06:12ED: 69 00 00     	adc	#L267
  6402 06:12F0: 1B           	tcs
  6403 06:12F1: 98           	tya
  6404 06:12F2: 6B           	rtl
  6405                        ;}
  6406                        	.line	818
  6407                        	.endblock	818
  6408             00000000   L267	equ	0
  6409             00000001   L268	equ	1
  6410 06:12F3:              	ends
  6411                        	efunc
  6412                        	.endfunc	818,1,0
  6413                        	.line	818
  6414                        ;
  6415                        ;
  6416                        ;int k_getUIColor(int index)
  6417                        ;{
  6418                        	.line	821
  6419                        	.line	822
  6420                        	GFX
  Mon Sep 27 2021  9:39                                                Page 124


  6421                        	xdef	~~k_getUIColor
  6422                        	func
  6423                        	.function	822
  6424                        ~~k_getUIColor:
  6425                        	longa	on
  6426                        	longi	on
  6427 06:12F3: 3B           	tsc
  6428 06:12F4: 38           	sec
  6429 06:12F5: E9 04 00     	sbc	#L271
  6430 06:12F8: 1B           	tcs
  6431 06:12F9: 0B           	phd
  6432 06:12FA: 5B           	tcd
  6433             00000004   index_0	set	4
  6434                        	.block	822
  6435                        ;	if(index < 1)
  6436                        	.sym	index,4,5,6,16
  6437                        	.line	823
  6438                        ;		index = 1;
  6439 06:12FB: A5 08        	lda	<L271+index_0
  6440 06:12FD: 30 06        	bmi	L274
  6441 06:12FF: 3A           	dea
  6442 06:1300: 30 03        	bmi	L274
  6443 06:1302: 82 05 00     	brl	L10038
  6444                        L274:
  6445                        	.line	824
  6446 06:1305: A9 01 00     	lda	#$1
  6447 06:1308: 85 08        	sta	<L271+index_0
  6448                        ;	if(index > 15)
  6449                        L10038:
  6450                        	.line	825
  6451                        ;		index = 15;
  6452 06:130A: 38           	sec
  6453 06:130B: A9 0F 00     	lda	#$f
  6454 06:130E: E5 08        	sbc	<L271+index_0
  6455 06:1310: 70 03        	bvs	L275
  6456 06:1312: 49 00 80     	eor	#$8000
  6457                        L275:
  6458 06:1315: 10 03        	bpl	L276
  6459 06:1317: 82 05 00     	brl	L10039
  6460                        L276:
  6461                        	.line	826
  6462 06:131A: A9 0F 00     	lda	#$f
  6463 06:131D: 85 08        	sta	<L271+index_0
  6464                        ;
  6465                        ;	return 	_k_currentPalatte.CUR_COLOR[index - 1];
  6466                        L10039:
  6467                        	.line	828
  6468 06:131F: A5 08        	lda	<L271+index_0
  6469 06:1321: 0A           	asl	A
  6470 06:1322: 85 01        	sta	<R0
  6471 06:1324: A6 01        	ldx	<R0
  6472 06:1326: BD xx xx     	lda	|~~_k_currentPalatte+20-2,X
  6473                        L277:
  6474 06:1329: A8           	tay
  6475 06:132A: A5 06        	lda	<L271+2
  6476 06:132C: 85 08        	sta	<L271+2+2
  6477 06:132E: A5 05        	lda	<L271+1
  6478 06:1330: 85 07        	sta	<L271+1+2
  Mon Sep 27 2021  9:39                                                Page 125


  6479 06:1332: 2B           	pld
  6480 06:1333: 3B           	tsc
  6481 06:1334: 18           	clc
  6482 06:1335: 69 06 00     	adc	#L271+2
  6483 06:1338: 1B           	tcs
  6484 06:1339: 98           	tya
  6485 06:133A: 6B           	rtl
  6486                        ;}
  6487                        	.line	829
  6488                        	.endblock	829
  6489             00000004   L271	equ	4
  6490             00000005   L272	equ	5
  6491 06:133B:              	ends
  6492                        	efunc
  6493                        	.endfunc	829,5,4
  6494                        	.line	829
  6495                        ;
  6496                        ;void k_draw_clipped_pixel(PRECT prect,long x,long
                     y,char pcolor,char mode)
  6497                        ;{
  6498                        	.line	831
  6499                        	.line	832
  6500                        	GFX
  6501                        	xdef	~~k_draw_clipped_pixel
  6502                        	func
  6503                        	.function	832
  6504                        ~~k_draw_clipped_pixel:
  6505                        	longa	on
  6506                        	longi	on
  6507 06:133B: 3B           	tsc
  6508 06:133C: 38           	sec
  6509 06:133D: E9 04 00     	sbc	#L278
  6510 06:1340: 1B           	tcs
  6511 06:1341: 0B           	phd
  6512 06:1342: 5B           	tcd
  6513             00000004   prect_0	set	4
  6514             00000008   x_0	set	8
  6515             0000000C   y_0	set	12
  6516             00000010   pcolor_0	set	16
  6517             00000012   mode_0	set	18
  6518                        	.block	832
  6519                        ;	if(prect!=NULL)
  6520                        	.sym	prect,4,138,6,32,26
  6521                        	.sym	x,8,7,6,32
  6522                        	.sym	y,12,7,6,32
  6523                        	.sym	pcolor,16,14,6,8
  6524                        	.sym	mode,18,14,6,8
  6525                        	.line	833
  6526                        ;	{
  6527 06:1343: A5 08        	lda	<L278+prect_0
  6528 06:1345: 05 0A        	ora	<L278+prect_0+2
  6529 06:1347: D0 03        	bne	L281
  6530 06:1349: 82 A8 00     	brl	L10040
  6531                        L281:
  6532                        	.line	834
  6533                        ;		if((x >= prect->x) && (x < (prect->x + p
                    rect->width)))
  6534                        	.line	835
  Mon Sep 27 2021  9:39                                                Page 126


  6535                        ;		{
  6536 06:134C: A0 00 00     	ldy	#$0
  6537 06:134F: A7 08        	lda	[<L278+prect_0]
  6538 06:1351: 10 01        	bpl	L282
  6539 06:1353: 88           	dey
  6540                        L282:
  6541 06:1354: 85 01        	sta	<R0
  6542 06:1356: 84 03        	sty	<R0+2
  6543 06:1358: 38           	sec
  6544 06:1359: A5 0C        	lda	<L278+x_0
  6545 06:135B: E5 01        	sbc	<R0
  6546 06:135D: A5 0E        	lda	<L278+x_0+2
  6547 06:135F: E5 03        	sbc	<R0+2
  6548 06:1361: 70 03        	bvs	L283
  6549 06:1363: 49 00 80     	eor	#$8000
  6550                        L283:
  6551 06:1366: 30 03        	bmi	L284
  6552 06:1368: 82 89 00     	brl	L10041
  6553                        L284:
  6554 06:136B: 18           	clc
  6555 06:136C: A7 08        	lda	[<L278+prect_0]
  6556 06:136E: A0 08 00     	ldy	#$8
  6557 06:1371: 77 08        	adc	[<L278+prect_0],Y
  6558 06:1373: 85 01        	sta	<R0
  6559 06:1375: A0 00 00     	ldy	#$0
  6560 06:1378: A5 01        	lda	<R0
  6561 06:137A: 10 01        	bpl	L285
  6562 06:137C: 88           	dey
  6563                        L285:
  6564 06:137D: 85 01        	sta	<R0
  6565 06:137F: 84 03        	sty	<R0+2
  6566 06:1381: 38           	sec
  6567 06:1382: A5 0C        	lda	<L278+x_0
  6568 06:1384: E5 01        	sbc	<R0
  6569 06:1386: A5 0E        	lda	<L278+x_0+2
  6570 06:1388: E5 03        	sbc	<R0+2
  6571 06:138A: 70 03        	bvs	L286
  6572 06:138C: 49 00 80     	eor	#$8000
  6573                        L286:
  6574 06:138F: 10 03        	bpl	L287
  6575 06:1391: 82 60 00     	brl	L10041
  6576                        L287:
  6577                        	.line	836
  6578                        ;			if((y >= prect->y) && (y < (prec
                    t->y + prect->height)))
  6579                        	.line	837
  6580                        ;			{
  6581 06:1394: A0 00 00     	ldy	#$0
  6582 06:1397: 5A           	phy
  6583 06:1398: A0 02 00     	ldy	#$2
  6584 06:139B: B7 08        	lda	[<L278+prect_0],Y
  6585 06:139D: 7A           	ply
  6586 06:139E: 2A           	rol	A
  6587 06:139F: 6A           	ror	A
  6588 06:13A0: 10 01        	bpl	L288
  6589 06:13A2: 88           	dey
  6590                        L288:
  6591 06:13A3: 85 01        	sta	<R0
  Mon Sep 27 2021  9:39                                                Page 127


  6592 06:13A5: 84 03        	sty	<R0+2
  6593 06:13A7: 38           	sec
  6594 06:13A8: A5 10        	lda	<L278+y_0
  6595 06:13AA: E5 01        	sbc	<R0
  6596 06:13AC: A5 12        	lda	<L278+y_0+2
  6597 06:13AE: E5 03        	sbc	<R0+2
  6598 06:13B0: 70 03        	bvs	L289
  6599 06:13B2: 49 00 80     	eor	#$8000
  6600                        L289:
  6601 06:13B5: 30 03        	bmi	L290
  6602 06:13B7: 82 3A 00     	brl	L10042
  6603                        L290:
  6604 06:13BA: 18           	clc
  6605 06:13BB: A0 02 00     	ldy	#$2
  6606 06:13BE: B7 08        	lda	[<L278+prect_0],Y
  6607 06:13C0: A0 0A 00     	ldy	#$a
  6608 06:13C3: 77 08        	adc	[<L278+prect_0],Y
  6609 06:13C5: 85 01        	sta	<R0
  6610 06:13C7: A0 00 00     	ldy	#$0
  6611 06:13CA: A5 01        	lda	<R0
  6612 06:13CC: 10 01        	bpl	L291
  6613 06:13CE: 88           	dey
  6614                        L291:
  6615 06:13CF: 85 01        	sta	<R0
  6616 06:13D1: 84 03        	sty	<R0+2
  6617 06:13D3: 38           	sec
  6618 06:13D4: A5 10        	lda	<L278+y_0
  6619 06:13D6: E5 01        	sbc	<R0
  6620 06:13D8: A5 12        	lda	<L278+y_0+2
  6621 06:13DA: E5 03        	sbc	<R0+2
  6622 06:13DC: 70 03        	bvs	L292
  6623 06:13DE: 49 00 80     	eor	#$8000
  6624                        L292:
  6625 06:13E1: 10 03        	bpl	L293
  6626 06:13E3: 82 0E 00     	brl	L10042
  6627                        L293:
  6628                        	.line	838
  6629                        ;				k_draw_pixel_front(x,y,p
                    color);
  6630                        	.line	839
  6631 06:13E6: D4 14        	pei	<L278+pcolor_0
  6632 06:13E8: D4 12        	pei	<L278+y_0+2
  6633 06:13EA: D4 10        	pei	<L278+y_0
  6634 06:13EC: D4 0E        	pei	<L278+x_0+2
  6635 06:13EE: D4 0C        	pei	<L278+x_0
  6636 06:13F0: 22 53 15 06  	jsl	~~k_draw_pixel_front
  6637                        ;			}
  6638                        	.line	840
  6639                        ;		}
  6640                        L10042:
  6641                        	.line	841
  6642                        ;	}
  6643                        L10041:
  6644                        	.line	842
  6645                        ;}
  6646                        L10040:
  6647                        	.line	843
  6648                        L294:
  Mon Sep 27 2021  9:39                                                Page 128


  6649 06:13F4: A5 06        	lda	<L278+2
  6650 06:13F6: 85 16        	sta	<L278+2+16
  6651 06:13F8: A5 05        	lda	<L278+1
  6652 06:13FA: 85 15        	sta	<L278+1+16
  6653 06:13FC: 2B           	pld
  6654 06:13FD: 3B           	tsc
  6655 06:13FE: 18           	clc
  6656 06:13FF: 69 14 00     	adc	#L278+16
  6657 06:1402: 1B           	tcs
  6658 06:1403: 6B           	rtl
  6659                        	.endblock	843
  6660             00000004   L278	equ	4
  6661             00000005   L279	equ	5
  6662 06:1404:              	ends
  6663                        	efunc
  6664                        	.endfunc	843,5,4
  6665                        	.line	843
  6666                        ;
  6667                        ;void k_draw_clipped_pixel_ex(PRECT prect,long x,l
                    ong y,char pcolor,char mode)
  6668                        ;{
  6669                        	.line	845
  6670                        	.line	846
  6671                        	GFX
  6672                        	xdef	~~k_draw_clipped_pixel_ex
  6673                        	func
  6674                        	.function	846
  6675                        ~~k_draw_clipped_pixel_ex:
  6676                        	longa	on
  6677                        	longi	on
  6678 06:1404: 3B           	tsc
  6679 06:1405: 38           	sec
  6680 06:1406: E9 04 00     	sbc	#L295
  6681 06:1409: 1B           	tcs
  6682 06:140A: 0B           	phd
  6683 06:140B: 5B           	tcd
  6684             00000004   prect_0	set	4
  6685             00000008   x_0	set	8
  6686             0000000C   y_0	set	12
  6687             00000010   pcolor_0	set	16
  6688             00000012   mode_0	set	18
  6689                        	.block	846
  6690                        ;	if(prect!=NULL)
  6691                        	.sym	prect,4,138,6,32,26
  6692                        	.sym	x,8,7,6,32
  6693                        	.sym	y,12,7,6,32
  6694                        	.sym	pcolor,16,14,6,8
  6695                        	.sym	mode,18,14,6,8
  6696                        	.line	847
  6697                        ;	{
  6698 06:140C: A5 08        	lda	<L295+prect_0
  6699 06:140E: 05 0A        	ora	<L295+prect_0+2
  6700 06:1410: D0 03        	bne	L298
  6701 06:1412: 82 A8 00     	brl	L10043
  6702                        L298:
  6703                        	.line	848
  6704                        ;		if((x >= prect->x) && (x < (prect->x + p
                    rect->width)))
  Mon Sep 27 2021  9:39                                                Page 129


  6705                        	.line	849
  6706                        ;		{
  6707 06:1415: A0 00 00     	ldy	#$0
  6708 06:1418: A7 08        	lda	[<L295+prect_0]
  6709 06:141A: 10 01        	bpl	L299
  6710 06:141C: 88           	dey
  6711                        L299:
  6712 06:141D: 85 01        	sta	<R0
  6713 06:141F: 84 03        	sty	<R0+2
  6714 06:1421: 38           	sec
  6715 06:1422: A5 0C        	lda	<L295+x_0
  6716 06:1424: E5 01        	sbc	<R0
  6717 06:1426: A5 0E        	lda	<L295+x_0+2
  6718 06:1428: E5 03        	sbc	<R0+2
  6719 06:142A: 70 03        	bvs	L300
  6720 06:142C: 49 00 80     	eor	#$8000
  6721                        L300:
  6722 06:142F: 30 03        	bmi	L301
  6723 06:1431: 82 89 00     	brl	L10044
  6724                        L301:
  6725 06:1434: 18           	clc
  6726 06:1435: A7 08        	lda	[<L295+prect_0]
  6727 06:1437: A0 08 00     	ldy	#$8
  6728 06:143A: 77 08        	adc	[<L295+prect_0],Y
  6729 06:143C: 85 01        	sta	<R0
  6730 06:143E: A0 00 00     	ldy	#$0
  6731 06:1441: A5 01        	lda	<R0
  6732 06:1443: 10 01        	bpl	L302
  6733 06:1445: 88           	dey
  6734                        L302:
  6735 06:1446: 85 01        	sta	<R0
  6736 06:1448: 84 03        	sty	<R0+2
  6737 06:144A: 38           	sec
  6738 06:144B: A5 0C        	lda	<L295+x_0
  6739 06:144D: E5 01        	sbc	<R0
  6740 06:144F: A5 0E        	lda	<L295+x_0+2
  6741 06:1451: E5 03        	sbc	<R0+2
  6742 06:1453: 70 03        	bvs	L303
  6743 06:1455: 49 00 80     	eor	#$8000
  6744                        L303:
  6745 06:1458: 10 03        	bpl	L304
  6746 06:145A: 82 60 00     	brl	L10044
  6747                        L304:
  6748                        	.line	850
  6749                        ;			if((y >= prect->y) && (y < (prec
                    t->y + prect->height)))
  6750                        	.line	851
  6751                        ;			{
  6752 06:145D: A0 00 00     	ldy	#$0
  6753 06:1460: 5A           	phy
  6754 06:1461: A0 02 00     	ldy	#$2
  6755 06:1464: B7 08        	lda	[<L295+prect_0],Y
  6756 06:1466: 7A           	ply
  6757 06:1467: 2A           	rol	A
  6758 06:1468: 6A           	ror	A
  6759 06:1469: 10 01        	bpl	L305
  6760 06:146B: 88           	dey
  6761                        L305:
  Mon Sep 27 2021  9:39                                                Page 130


  6762 06:146C: 85 01        	sta	<R0
  6763 06:146E: 84 03        	sty	<R0+2
  6764 06:1470: 38           	sec
  6765 06:1471: A5 10        	lda	<L295+y_0
  6766 06:1473: E5 01        	sbc	<R0
  6767 06:1475: A5 12        	lda	<L295+y_0+2
  6768 06:1477: E5 03        	sbc	<R0+2
  6769 06:1479: 70 03        	bvs	L306
  6770 06:147B: 49 00 80     	eor	#$8000
  6771                        L306:
  6772 06:147E: 30 03        	bmi	L307
  6773 06:1480: 82 3A 00     	brl	L10045
  6774                        L307:
  6775 06:1483: 18           	clc
  6776 06:1484: A0 02 00     	ldy	#$2
  6777 06:1487: B7 08        	lda	[<L295+prect_0],Y
  6778 06:1489: A0 0A 00     	ldy	#$a
  6779 06:148C: 77 08        	adc	[<L295+prect_0],Y
  6780 06:148E: 85 01        	sta	<R0
  6781 06:1490: A0 00 00     	ldy	#$0
  6782 06:1493: A5 01        	lda	<R0
  6783 06:1495: 10 01        	bpl	L308
  6784 06:1497: 88           	dey
  6785                        L308:
  6786 06:1498: 85 01        	sta	<R0
  6787 06:149A: 84 03        	sty	<R0+2
  6788 06:149C: 38           	sec
  6789 06:149D: A5 10        	lda	<L295+y_0
  6790 06:149F: E5 01        	sbc	<R0
  6791 06:14A1: A5 12        	lda	<L295+y_0+2
  6792 06:14A3: E5 03        	sbc	<R0+2
  6793 06:14A5: 70 03        	bvs	L309
  6794 06:14A7: 49 00 80     	eor	#$8000
  6795                        L309:
  6796 06:14AA: 10 03        	bpl	L310
  6797 06:14AC: 82 0E 00     	brl	L10045
  6798                        L310:
  6799                        	.line	852
  6800                        ;				k_draw_pixel_front_ex(x,
                    y,pcolor);
  6801                        	.line	853
  6802 06:14AF: D4 14        	pei	<L295+pcolor_0
  6803 06:14B1: D4 12        	pei	<L295+y_0+2
  6804 06:14B3: D4 10        	pei	<L295+y_0
  6805 06:14B5: D4 0E        	pei	<L295+x_0+2
  6806 06:14B7: D4 0C        	pei	<L295+x_0
  6807 06:14B9: 22 D9 15 06  	jsl	~~k_draw_pixel_front_ex
  6808                        ;			}
  6809                        	.line	854
  6810                        ;		}
  6811                        L10045:
  6812                        	.line	855
  6813                        ;	}
  6814                        L10044:
  6815                        	.line	856
  6816                        ;}
  6817                        L10043:
  6818                        	.line	857
  Mon Sep 27 2021  9:39                                                Page 131


  6819                        L311:
  6820 06:14BD: A5 06        	lda	<L295+2
  6821 06:14BF: 85 16        	sta	<L295+2+16
  6822 06:14C1: A5 05        	lda	<L295+1
  6823 06:14C3: 85 15        	sta	<L295+1+16
  6824 06:14C5: 2B           	pld
  6825 06:14C6: 3B           	tsc
  6826 06:14C7: 18           	clc
  6827 06:14C8: 69 14 00     	adc	#L295+16
  6828 06:14CB: 1B           	tcs
  6829 06:14CC: 6B           	rtl
  6830                        	.endblock	857
  6831             00000004   L295	equ	4
  6832             00000005   L296	equ	5
  6833 06:14CD:              	ends
  6834                        	efunc
  6835                        	.endfunc	857,5,4
  6836                        	.line	857
  6837                        ;
  6838                        ;void k_draw_pixel(long x,long y,char pcolor)
  6839                        ;{
  6840                        	.line	859
  6841                        	.line	860
  6842                        	GFX
  6843                        	xdef	~~k_draw_pixel
  6844                        	func
  6845                        	.function	860
  6846                        ~~k_draw_pixel:
  6847                        	longa	on
  6848                        	longi	on
  6849 06:14CD: 3B           	tsc
  6850 06:14CE: 38           	sec
  6851 06:14CF: E9 08 00     	sbc	#L312
  6852 06:14D2: 1B           	tcs
  6853 06:14D3: 0B           	phd
  6854 06:14D4: 5B           	tcd
  6855             00000004   x_0	set	4
  6856             00000008   y_0	set	8
  6857             0000000C   pcolor_0	set	12
  6858                        	.block	860
  6859                        ;	long pixelLocation = (long)(((long)y * 640L) + (
                    long)x);
  6860                        ;
  6861                        ;	if(x >= GUI_POINT_LIMIT_X_LO && x <= GUI_POINT_L
                    IMIT_X_HI && y >= GUI_POINT_LIMIT_Y_LO && y <= GUI_POINT_LIM
                    IT_Y_HI)
  6862             00000000   pixelLocation_1	set	0
  6863                        	.sym	pixelLocation,0,7,1,32
  6864                        	.sym	x,4,7,6,32
  6865                        	.sym	y,8,7,6,32
  6866                        	.sym	pcolor,12,14,6,8
  6867 06:14D5: F4 00 00     	pea	#^$280
  6868 06:14D8: F4 80 02     	pea	#<$280
  6869 06:14DB: D4 12        	pei	<L312+y_0+2
  6870 06:14DD: D4 10        	pei	<L312+y_0
  6871                        	xref	~~~lmul
  6872 06:14DF: 22 xx xx xx  	jsl	~~~lmul
  6873 06:14E3: 85 01        	sta	<R0
  Mon Sep 27 2021  9:39                                                Page 132


  6874 06:14E5: 86 03        	stx	<R0+2
  6875 06:14E7: 18           	clc
  6876 06:14E8: A5 01        	lda	<R0
  6877 06:14EA: 65 0C        	adc	<L312+x_0
  6878 06:14EC: 85 05        	sta	<L313+pixelLocation_1
  6879 06:14EE: A5 03        	lda	<R0+2
  6880 06:14F0: 65 0E        	adc	<L312+x_0+2
  6881 06:14F2: 85 07        	sta	<L313+pixelLocation_1+2
  6882                        	.line	863
  6883                        ;		((unsigned char FAR *)BITMAP_BANK_0)[pix
                    elLocation] = (char)pcolor;
  6884 06:14F4: A5 0E        	lda	<L312+x_0+2
  6885 06:14F6: 10 03        	bpl	L315
  6886 06:14F8: 82 48 00     	brl	L10046
  6887                        L315:
  6888 06:14FB: 38           	sec
  6889 06:14FC: A9 80 02     	lda	#$280
  6890 06:14FF: E5 0C        	sbc	<L312+x_0
  6891 06:1501: A9 00 00     	lda	#$0
  6892 06:1504: E5 0E        	sbc	<L312+x_0+2
  6893 06:1506: 70 03        	bvs	L316
  6894 06:1508: 49 00 80     	eor	#$8000
  6895                        L316:
  6896 06:150B: 30 03        	bmi	L317
  6897 06:150D: 82 33 00     	brl	L10046
  6898                        L317:
  6899 06:1510: A5 12        	lda	<L312+y_0+2
  6900 06:1512: 10 03        	bpl	L318
  6901 06:1514: 82 2C 00     	brl	L10046
  6902                        L318:
  6903 06:1517: 38           	sec
  6904 06:1518: A9 E0 01     	lda	#$1e0
  6905 06:151B: E5 10        	sbc	<L312+y_0
  6906 06:151D: A9 00 00     	lda	#$0
  6907 06:1520: E5 12        	sbc	<L312+y_0+2
  6908 06:1522: 70 03        	bvs	L319
  6909 06:1524: 49 00 80     	eor	#$8000
  6910                        L319:
  6911 06:1527: 30 03        	bmi	L320
  6912 06:1529: 82 17 00     	brl	L10046
  6913                        L320:
  6914                        	.line	864
  6915 06:152C: 18           	clc
  6916 06:152D: A9 00 00     	lda	#$0
  6917 06:1530: 65 05        	adc	<L313+pixelLocation_1
  6918 06:1532: 85 01        	sta	<R0
  6919 06:1534: A9 B0 00     	lda	#$b0
  6920 06:1537: 65 07        	adc	<L313+pixelLocation_1+2
  6921 06:1539: 85 03        	sta	<R0+2
  6922 06:153B: E2 20        	sep	#$20
  6923                        	longa	off
  6924 06:153D: A5 14        	lda	<L312+pcolor_0
  6925 06:153F: 87 01        	sta	[<R0]
  6926 06:1541: C2 20        	rep	#$20
  6927                        	longa	on
  6928                        ;	//((unsigned char FAR *)SHADOW_BANK_0)[pixelLoca
                    tion] = (char)pcolor;
  6929                        ;	//((unsigned char FAR *)BITMAP_BANK_0)[(long)(( 
  Mon Sep 27 2021  9:39                                                Page 133


                    ((long)y) * 640L) + ((long)x) )] = (char)pcolor;
  6930                        ;}
  6931                        L10046:
  6932                        	.line	867
  6933                        L321:
  6934 06:1543: A5 0A        	lda	<L312+2
  6935 06:1545: 85 14        	sta	<L312+2+10
  6936 06:1547: A5 09        	lda	<L312+1
  6937 06:1549: 85 13        	sta	<L312+1+10
  6938 06:154B: 2B           	pld
  6939 06:154C: 3B           	tsc
  6940 06:154D: 18           	clc
  6941 06:154E: 69 12 00     	adc	#L312+10
  6942 06:1551: 1B           	tcs
  6943 06:1552: 6B           	rtl
  6944                        	.endblock	867
  6945             00000008   L312	equ	8
  6946             00000005   L313	equ	5
  6947 06:1553:              	ends
  6948                        	efunc
  6949                        	.endfunc	867,5,8
  6950                        	.line	867
  6951                        ;
  6952                        ;void k_draw_pixel_front(long x,long y,char pcolor
                    )
  6953                        ;{
  6954                        	.line	869
  6955                        	.line	870
  6956                        	GFX
  6957                        	xdef	~~k_draw_pixel_front
  6958                        	func
  6959                        	.function	870
  6960                        ~~k_draw_pixel_front:
  6961                        	longa	on
  6962                        	longi	on
  6963 06:1553: 3B           	tsc
  6964 06:1554: 38           	sec
  6965 06:1555: E9 08 00     	sbc	#L322
  6966 06:1558: 1B           	tcs
  6967 06:1559: 0B           	phd
  6968 06:155A: 5B           	tcd
  6969             00000004   x_0	set	4
  6970             00000008   y_0	set	8
  6971             0000000C   pcolor_0	set	12
  6972                        	.block	870
  6973                        ;	if(x >= GUI_POINT_LIMIT_X_LO && x <= GUI_POINT_L
                    IMIT_X_HI && y >= GUI_POINT_LIMIT_Y_LO && y <= GUI_POINT_LIM
                    IT_Y_HI)
  6974                        	.sym	x,4,7,6,32
  6975                        	.sym	y,8,7,6,32
  6976                        	.sym	pcolor,12,14,6,8
  6977                        	.line	871
  6978                        ;		BITMAP_BANK_0[(long)(((long)y * 640L) + 
                    (long)x)] = (char)pcolor;
  6979 06:155B: A5 0E        	lda	<L322+x_0+2
  6980 06:155D: 10 03        	bpl	L325
  6981 06:155F: 82 67 00     	brl	L10047
  6982                        L325:
  Mon Sep 27 2021  9:39                                                Page 134


  6983 06:1562: 38           	sec
  6984 06:1563: A9 80 02     	lda	#$280
  6985 06:1566: E5 0C        	sbc	<L322+x_0
  6986 06:1568: A9 00 00     	lda	#$0
  6987 06:156B: E5 0E        	sbc	<L322+x_0+2
  6988 06:156D: 70 03        	bvs	L326
  6989 06:156F: 49 00 80     	eor	#$8000
  6990                        L326:
  6991 06:1572: 30 03        	bmi	L327
  6992 06:1574: 82 52 00     	brl	L10047
  6993                        L327:
  6994 06:1577: A5 12        	lda	<L322+y_0+2
  6995 06:1579: 10 03        	bpl	L328
  6996 06:157B: 82 4B 00     	brl	L10047
  6997                        L328:
  6998 06:157E: 38           	sec
  6999 06:157F: A9 E0 01     	lda	#$1e0
  7000 06:1582: E5 10        	sbc	<L322+y_0
  7001 06:1584: A9 00 00     	lda	#$0
  7002 06:1587: E5 12        	sbc	<L322+y_0+2
  7003 06:1589: 70 03        	bvs	L329
  7004 06:158B: 49 00 80     	eor	#$8000
  7005                        L329:
  7006 06:158E: 30 03        	bmi	L330
  7007 06:1590: 82 36 00     	brl	L10047
  7008                        L330:
  7009                        	.line	872
  7010 06:1593: F4 00 00     	pea	#^$280
  7011 06:1596: F4 80 02     	pea	#<$280
  7012 06:1599: D4 12        	pei	<L322+y_0+2
  7013 06:159B: D4 10        	pei	<L322+y_0
  7014                        	xref	~~~lmul
  7015 06:159D: 22 xx xx xx  	jsl	~~~lmul
  7016 06:15A1: 85 01        	sta	<R0
  7017 06:15A3: 86 03        	stx	<R0+2
  7018 06:15A5: 18           	clc
  7019 06:15A6: A5 01        	lda	<R0
  7020 06:15A8: 65 0C        	adc	<L322+x_0
  7021 06:15AA: 85 05        	sta	<R1
  7022 06:15AC: A5 03        	lda	<R0+2
  7023 06:15AE: 65 0E        	adc	<L322+x_0+2
  7024 06:15B0: 85 07        	sta	<R1+2
  7025 06:15B2: 18           	clc
  7026 06:15B3: A9 00 00     	lda	#$0
  7027 06:15B6: 65 05        	adc	<R1
  7028 06:15B8: 85 01        	sta	<R0
  7029 06:15BA: A9 B0 00     	lda	#$b0
  7030 06:15BD: 65 07        	adc	<R1+2
  7031 06:15BF: 85 03        	sta	<R0+2
  7032 06:15C1: E2 20        	sep	#$20
  7033                        	longa	off
  7034 06:15C3: A5 14        	lda	<L322+pcolor_0
  7035 06:15C5: 87 01        	sta	[<R0]
  7036 06:15C7: C2 20        	rep	#$20
  7037                        	longa	on
  7038                        ;}
  7039                        L10047:
  7040                        	.line	873
  Mon Sep 27 2021  9:39                                                Page 135


  7041                        L331:
  7042 06:15C9: A5 0A        	lda	<L322+2
  7043 06:15CB: 85 14        	sta	<L322+2+10
  7044 06:15CD: A5 09        	lda	<L322+1
  7045 06:15CF: 85 13        	sta	<L322+1+10
  7046 06:15D1: 2B           	pld
  7047 06:15D2: 3B           	tsc
  7048 06:15D3: 18           	clc
  7049 06:15D4: 69 12 00     	adc	#L322+10
  7050 06:15D7: 1B           	tcs
  7051 06:15D8: 6B           	rtl
  7052                        	.endblock	873
  7053             00000008   L322	equ	8
  7054             00000009   L323	equ	9
  7055 06:15D9:              	ends
  7056                        	efunc
  7057                        	.endfunc	873,9,8
  7058                        	.line	873
  7059                        ;
  7060                        ;void k_draw_pixel_front_ex(long x,long y,char pco
                    lor)
  7061                        ;{
  7062                        	.line	875
  7063                        	.line	876
  7064                        	GFX
  7065                        	xdef	~~k_draw_pixel_front_ex
  7066                        	func
  7067                        	.function	876
  7068                        ~~k_draw_pixel_front_ex:
  7069                        	longa	on
  7070                        	longi	on
  7071 06:15D9: 3B           	tsc
  7072 06:15DA: 38           	sec
  7073 06:15DB: E9 08 00     	sbc	#L332
  7074 06:15DE: 1B           	tcs
  7075 06:15DF: 0B           	phd
  7076 06:15E0: 5B           	tcd
  7077             00000004   x_0	set	4
  7078             00000008   y_0	set	8
  7079             0000000C   pcolor_0	set	12
  7080                        	.block	876
  7081                        ;	if(x >= GUI_POINT_LIMIT_X_LO && x <= GUI_POINT_L
                    IMIT_X_HIX && y >= GUI_POINT_LIMIT_Y_LO && y <= GUI_POINT_LI
                    MIT_Y_HIX)
  7082                        	.sym	x,4,7,6,32
  7083                        	.sym	y,8,7,6,32
  7084                        	.sym	pcolor,12,14,6,8
  7085                        	.line	877
  7086                        ;		BITMAP_BANK_0[(long)(((long)y * 800L) + 
                    (long)x)] = (char)pcolor;
  7087 06:15E1: A5 0E        	lda	<L332+x_0+2
  7088 06:15E3: 10 03        	bpl	L335
  7089 06:15E5: 82 67 00     	brl	L10048
  7090                        L335:
  7091 06:15E8: 38           	sec
  7092 06:15E9: A9 20 03     	lda	#$320
  7093 06:15EC: E5 0C        	sbc	<L332+x_0
  7094 06:15EE: A9 00 00     	lda	#$0
  Mon Sep 27 2021  9:39                                                Page 136


  7095 06:15F1: E5 0E        	sbc	<L332+x_0+2
  7096 06:15F3: 70 03        	bvs	L336
  7097 06:15F5: 49 00 80     	eor	#$8000
  7098                        L336:
  7099 06:15F8: 30 03        	bmi	L337
  7100 06:15FA: 82 52 00     	brl	L10048
  7101                        L337:
  7102 06:15FD: A5 12        	lda	<L332+y_0+2
  7103 06:15FF: 10 03        	bpl	L338
  7104 06:1601: 82 4B 00     	brl	L10048
  7105                        L338:
  7106 06:1604: 38           	sec
  7107 06:1605: A9 58 02     	lda	#$258
  7108 06:1608: E5 10        	sbc	<L332+y_0
  7109 06:160A: A9 00 00     	lda	#$0
  7110 06:160D: E5 12        	sbc	<L332+y_0+2
  7111 06:160F: 70 03        	bvs	L339
  7112 06:1611: 49 00 80     	eor	#$8000
  7113                        L339:
  7114 06:1614: 30 03        	bmi	L340
  7115 06:1616: 82 36 00     	brl	L10048
  7116                        L340:
  7117                        	.line	878
  7118 06:1619: F4 00 00     	pea	#^$320
  7119 06:161C: F4 20 03     	pea	#<$320
  7120 06:161F: D4 12        	pei	<L332+y_0+2
  7121 06:1621: D4 10        	pei	<L332+y_0
  7122                        	xref	~~~lmul
  7123 06:1623: 22 xx xx xx  	jsl	~~~lmul
  7124 06:1627: 85 01        	sta	<R0
  7125 06:1629: 86 03        	stx	<R0+2
  7126 06:162B: 18           	clc
  7127 06:162C: A5 01        	lda	<R0
  7128 06:162E: 65 0C        	adc	<L332+x_0
  7129 06:1630: 85 05        	sta	<R1
  7130 06:1632: A5 03        	lda	<R0+2
  7131 06:1634: 65 0E        	adc	<L332+x_0+2
  7132 06:1636: 85 07        	sta	<R1+2
  7133 06:1638: 18           	clc
  7134 06:1639: A9 00 00     	lda	#$0
  7135 06:163C: 65 05        	adc	<R1
  7136 06:163E: 85 01        	sta	<R0
  7137 06:1640: A9 B0 00     	lda	#$b0
  7138 06:1643: 65 07        	adc	<R1+2
  7139 06:1645: 85 03        	sta	<R0+2
  7140 06:1647: E2 20        	sep	#$20
  7141                        	longa	off
  7142 06:1649: A5 14        	lda	<L332+pcolor_0
  7143 06:164B: 87 01        	sta	[<R0]
  7144 06:164D: C2 20        	rep	#$20
  7145                        	longa	on
  7146                        ;}
  7147                        L10048:
  7148                        	.line	879
  7149                        L341:
  7150 06:164F: A5 0A        	lda	<L332+2
  7151 06:1651: 85 14        	sta	<L332+2+10
  7152 06:1653: A5 09        	lda	<L332+1
  Mon Sep 27 2021  9:39                                                Page 137


  7153 06:1655: 85 13        	sta	<L332+1+10
  7154 06:1657: 2B           	pld
  7155 06:1658: 3B           	tsc
  7156 06:1659: 18           	clc
  7157 06:165A: 69 12 00     	adc	#L332+10
  7158 06:165D: 1B           	tcs
  7159 06:165E: 6B           	rtl
  7160                        	.endblock	879
  7161             00000008   L332	equ	8
  7162             00000009   L333	equ	9
  7163 06:165F:              	ends
  7164                        	efunc
  7165                        	.endfunc	879,9,8
  7166                        	.line	879
  7167                        ;
  7168                        ;
  7169                        ;void k_draw_pixel_back(long x,long y,char pcolor)
  7170                        ;{
  7171                        	.line	882
  7172                        	.line	883
  7173                        	GFX
  7174                        	xdef	~~k_draw_pixel_back
  7175                        	func
  7176                        	.function	883
  7177                        ~~k_draw_pixel_back:
  7178                        	longa	on
  7179                        	longi	on
  7180 06:165F: 3B           	tsc
  7181 06:1660: 38           	sec
  7182 06:1661: E9 08 00     	sbc	#L342
  7183 06:1664: 1B           	tcs
  7184 06:1665: 0B           	phd
  7185 06:1666: 5B           	tcd
  7186             00000004   x_0	set	4
  7187             00000008   y_0	set	8
  7188             0000000C   pcolor_0	set	12
  7189                        	.block	883
  7190                        ;	if(x >= GUI_POINT_LIMIT_X_LO && x <= GUI_POINT_L
                    IMIT_X_HI && y >= GUI_POINT_LIMIT_Y_LO && y <= GUI_POINT_LIM
                    IT_Y_HI)
  7191                        	.sym	x,4,7,6,32
  7192                        	.sym	y,8,7,6,32
  7193                        	.sym	pcolor,12,14,6,8
  7194                        	.line	884
  7195                        ;		BITMAP_BANK_0_PAGE0[(long)(((long)y * 64
                    0L) + (long)x)] = (char)pcolor;
  7196 06:1667: A5 0E        	lda	<L342+x_0+2
  7197 06:1669: 10 03        	bpl	L345
  7198 06:166B: 82 67 00     	brl	L10049
  7199                        L345:
  7200 06:166E: 38           	sec
  7201 06:166F: A9 80 02     	lda	#$280
  7202 06:1672: E5 0C        	sbc	<L342+x_0
  7203 06:1674: A9 00 00     	lda	#$0
  7204 06:1677: E5 0E        	sbc	<L342+x_0+2
  7205 06:1679: 70 03        	bvs	L346
  7206 06:167B: 49 00 80     	eor	#$8000
  7207                        L346:
  Mon Sep 27 2021  9:39                                                Page 138


  7208 06:167E: 30 03        	bmi	L347
  7209 06:1680: 82 52 00     	brl	L10049
  7210                        L347:
  7211 06:1683: A5 12        	lda	<L342+y_0+2
  7212 06:1685: 10 03        	bpl	L348
  7213 06:1687: 82 4B 00     	brl	L10049
  7214                        L348:
  7215 06:168A: 38           	sec
  7216 06:168B: A9 E0 01     	lda	#$1e0
  7217 06:168E: E5 10        	sbc	<L342+y_0
  7218 06:1690: A9 00 00     	lda	#$0
  7219 06:1693: E5 12        	sbc	<L342+y_0+2
  7220 06:1695: 70 03        	bvs	L349
  7221 06:1697: 49 00 80     	eor	#$8000
  7222                        L349:
  7223 06:169A: 30 03        	bmi	L350
  7224 06:169C: 82 36 00     	brl	L10049
  7225                        L350:
  7226                        	.line	885
  7227 06:169F: F4 00 00     	pea	#^$280
  7228 06:16A2: F4 80 02     	pea	#<$280
  7229 06:16A5: D4 12        	pei	<L342+y_0+2
  7230 06:16A7: D4 10        	pei	<L342+y_0
  7231                        	xref	~~~lmul
  7232 06:16A9: 22 xx xx xx  	jsl	~~~lmul
  7233 06:16AD: 85 01        	sta	<R0
  7234 06:16AF: 86 03        	stx	<R0+2
  7235 06:16B1: 18           	clc
  7236 06:16B2: A5 01        	lda	<R0
  7237 06:16B4: 65 0C        	adc	<L342+x_0
  7238 06:16B6: 85 05        	sta	<R1
  7239 06:16B8: A5 03        	lda	<R0+2
  7240 06:16BA: 65 0E        	adc	<L342+x_0+2
  7241 06:16BC: 85 07        	sta	<R1+2
  7242 06:16BE: 18           	clc
  7243 06:16BF: A9 00 00     	lda	#$0
  7244 06:16C2: 65 05        	adc	<R1
  7245 06:16C4: 85 01        	sta	<R0
  7246 06:16C6: A9 B8 00     	lda	#$b8
  7247 06:16C9: 65 07        	adc	<R1+2
  7248 06:16CB: 85 03        	sta	<R0+2
  7249 06:16CD: E2 20        	sep	#$20
  7250                        	longa	off
  7251 06:16CF: A5 14        	lda	<L342+pcolor_0
  7252 06:16D1: 87 01        	sta	[<R0]
  7253 06:16D3: C2 20        	rep	#$20
  7254                        	longa	on
  7255                        ;}
  7256                        L10049:
  7257                        	.line	886
  7258                        L351:
  7259 06:16D5: A5 0A        	lda	<L342+2
  7260 06:16D7: 85 14        	sta	<L342+2+10
  7261 06:16D9: A5 09        	lda	<L342+1
  7262 06:16DB: 85 13        	sta	<L342+1+10
  7263 06:16DD: 2B           	pld
  7264 06:16DE: 3B           	tsc
  7265 06:16DF: 18           	clc
  Mon Sep 27 2021  9:39                                                Page 139


  7266 06:16E0: 69 12 00     	adc	#L342+10
  7267 06:16E3: 1B           	tcs
  7268 06:16E4: 6B           	rtl
  7269                        	.endblock	886
  7270             00000008   L342	equ	8
  7271             00000009   L343	equ	9
  7272 06:16E5:              	ends
  7273                        	efunc
  7274                        	.endfunc	886,9,8
  7275                        	.line	886
  7276                        ;
  7277                        ;void k_draw_pixel_back_ex(long x,long y,char pcol
                    or)
  7278                        ;{
  7279                        	.line	888
  7280                        	.line	889
  7281                        	GFX
  7282                        	xdef	~~k_draw_pixel_back_ex
  7283                        	func
  7284                        	.function	889
  7285                        ~~k_draw_pixel_back_ex:
  7286                        	longa	on
  7287                        	longi	on
  7288 06:16E5: 3B           	tsc
  7289 06:16E6: 38           	sec
  7290 06:16E7: E9 08 00     	sbc	#L352
  7291 06:16EA: 1B           	tcs
  7292 06:16EB: 0B           	phd
  7293 06:16EC: 5B           	tcd
  7294             00000004   x_0	set	4
  7295             00000008   y_0	set	8
  7296             0000000C   pcolor_0	set	12
  7297                        	.block	889
  7298                        ;	if(x >= GUI_POINT_LIMIT_X_LO && x <= GUI_POINT_L
                    IMIT_X_HIX && y >= GUI_POINT_LIMIT_Y_LO && y <= GUI_POINT_LI
                    MIT_Y_HIX)
  7299                        	.sym	x,4,7,6,32
  7300                        	.sym	y,8,7,6,32
  7301                        	.sym	pcolor,12,14,6,8
  7302                        	.line	890
  7303                        ;		BITMAP_BANK_0_PAGE0[(long)(((long)y * 80
                    0L) + (long)x)] = (char)pcolor;
  7304 06:16ED: A5 0E        	lda	<L352+x_0+2
  7305 06:16EF: 10 03        	bpl	L355
  7306 06:16F1: 82 67 00     	brl	L10050
  7307                        L355:
  7308 06:16F4: 38           	sec
  7309 06:16F5: A9 20 03     	lda	#$320
  7310 06:16F8: E5 0C        	sbc	<L352+x_0
  7311 06:16FA: A9 00 00     	lda	#$0
  7312 06:16FD: E5 0E        	sbc	<L352+x_0+2
  7313 06:16FF: 70 03        	bvs	L356
  7314 06:1701: 49 00 80     	eor	#$8000
  7315                        L356:
  7316 06:1704: 30 03        	bmi	L357
  7317 06:1706: 82 52 00     	brl	L10050
  7318                        L357:
  7319 06:1709: A5 12        	lda	<L352+y_0+2
  Mon Sep 27 2021  9:39                                                Page 140


  7320 06:170B: 10 03        	bpl	L358
  7321 06:170D: 82 4B 00     	brl	L10050
  7322                        L358:
  7323 06:1710: 38           	sec
  7324 06:1711: A9 58 02     	lda	#$258
  7325 06:1714: E5 10        	sbc	<L352+y_0
  7326 06:1716: A9 00 00     	lda	#$0
  7327 06:1719: E5 12        	sbc	<L352+y_0+2
  7328 06:171B: 70 03        	bvs	L359
  7329 06:171D: 49 00 80     	eor	#$8000
  7330                        L359:
  7331 06:1720: 30 03        	bmi	L360
  7332 06:1722: 82 36 00     	brl	L10050
  7333                        L360:
  7334                        	.line	891
  7335 06:1725: F4 00 00     	pea	#^$320
  7336 06:1728: F4 20 03     	pea	#<$320
  7337 06:172B: D4 12        	pei	<L352+y_0+2
  7338 06:172D: D4 10        	pei	<L352+y_0
  7339                        	xref	~~~lmul
  7340 06:172F: 22 xx xx xx  	jsl	~~~lmul
  7341 06:1733: 85 01        	sta	<R0
  7342 06:1735: 86 03        	stx	<R0+2
  7343 06:1737: 18           	clc
  7344 06:1738: A5 01        	lda	<R0
  7345 06:173A: 65 0C        	adc	<L352+x_0
  7346 06:173C: 85 05        	sta	<R1
  7347 06:173E: A5 03        	lda	<R0+2
  7348 06:1740: 65 0E        	adc	<L352+x_0+2
  7349 06:1742: 85 07        	sta	<R1+2
  7350 06:1744: 18           	clc
  7351 06:1745: A9 00 00     	lda	#$0
  7352 06:1748: 65 05        	adc	<R1
  7353 06:174A: 85 01        	sta	<R0
  7354 06:174C: A9 B8 00     	lda	#$b8
  7355 06:174F: 65 07        	adc	<R1+2
  7356 06:1751: 85 03        	sta	<R0+2
  7357 06:1753: E2 20        	sep	#$20
  7358                        	longa	off
  7359 06:1755: A5 14        	lda	<L352+pcolor_0
  7360 06:1757: 87 01        	sta	[<R0]
  7361 06:1759: C2 20        	rep	#$20
  7362                        	longa	on
  7363                        ;}
  7364                        L10050:
  7365                        	.line	892
  7366                        L361:
  7367 06:175B: A5 0A        	lda	<L352+2
  7368 06:175D: 85 14        	sta	<L352+2+10
  7369 06:175F: A5 09        	lda	<L352+1
  7370 06:1761: 85 13        	sta	<L352+1+10
  7371 06:1763: 2B           	pld
  7372 06:1764: 3B           	tsc
  7373 06:1765: 18           	clc
  7374 06:1766: 69 12 00     	adc	#L352+10
  7375 06:1769: 1B           	tcs
  7376 06:176A: 6B           	rtl
  7377                        	.endblock	892
  Mon Sep 27 2021  9:39                                                Page 141


  7378             00000008   L352	equ	8
  7379             00000009   L353	equ	9
  7380 06:176B:              	ends
  7381                        	efunc
  7382                        	.endfunc	892,9,8
  7383                        	.line	892
  7384                        ;
  7385                        ;
  7386                        ;
  7387                        ;void k_draw_pixel_D0(long x,long y,char pcolor)
  7388                        ;{
  7389                        	.line	896
  7390                        	.line	897
  7391                        	GFX
  7392                        	xdef	~~k_draw_pixel_D0
  7393                        	func
  7394                        	.function	897
  7395                        ~~k_draw_pixel_D0:
  7396                        	longa	on
  7397                        	longi	on
  7398 06:176B: 3B           	tsc
  7399 06:176C: 38           	sec
  7400 06:176D: E9 08 00     	sbc	#L362
  7401 06:1770: 1B           	tcs
  7402 06:1771: 0B           	phd
  7403 06:1772: 5B           	tcd
  7404             00000004   x_0	set	4
  7405             00000008   y_0	set	8
  7406             0000000C   pcolor_0	set	12
  7407                        	.block	897
  7408                        ;	BITMAP_BANK_0_PAGE2[(long)(((long)y * 640L) + (l
                    ong)x)] = (char)pcolor;
  7409                        	.sym	x,4,7,6,32
  7410                        	.sym	y,8,7,6,32
  7411                        	.sym	pcolor,12,14,6,8
  7412                        	.line	898
  7413 06:1773: F4 00 00     	pea	#^$280
  7414 06:1776: F4 80 02     	pea	#<$280
  7415 06:1779: D4 12        	pei	<L362+y_0+2
  7416 06:177B: D4 10        	pei	<L362+y_0
  7417                        	xref	~~~lmul
  7418 06:177D: 22 xx xx xx  	jsl	~~~lmul
  7419 06:1781: 85 01        	sta	<R0
  7420 06:1783: 86 03        	stx	<R0+2
  7421 06:1785: 18           	clc
  7422 06:1786: A5 01        	lda	<R0
  7423 06:1788: 65 0C        	adc	<L362+x_0
  7424 06:178A: 85 05        	sta	<R1
  7425 06:178C: A5 03        	lda	<R0+2
  7426 06:178E: 65 0E        	adc	<L362+x_0+2
  7427 06:1790: 85 07        	sta	<R1+2
  7428 06:1792: 18           	clc
  7429 06:1793: A9 00 00     	lda	#$0
  7430 06:1796: 65 05        	adc	<R1
  7431 06:1798: 85 01        	sta	<R0
  7432 06:179A: A9 D0 00     	lda	#$d0
  7433 06:179D: 65 07        	adc	<R1+2
  7434 06:179F: 85 03        	sta	<R0+2
  Mon Sep 27 2021  9:39                                                Page 142


  7435 06:17A1: E2 20        	sep	#$20
  7436                        	longa	off
  7437 06:17A3: A5 14        	lda	<L362+pcolor_0
  7438 06:17A5: 87 01        	sta	[<R0]
  7439 06:17A7: C2 20        	rep	#$20
  7440                        	longa	on
  7441                        ;}
  7442                        	.line	899
  7443                        L365:
  7444 06:17A9: A5 0A        	lda	<L362+2
  7445 06:17AB: 85 14        	sta	<L362+2+10
  7446 06:17AD: A5 09        	lda	<L362+1
  7447 06:17AF: 85 13        	sta	<L362+1+10
  7448 06:17B1: 2B           	pld
  7449 06:17B2: 3B           	tsc
  7450 06:17B3: 18           	clc
  7451 06:17B4: 69 12 00     	adc	#L362+10
  7452 06:17B7: 1B           	tcs
  7453 06:17B8: 6B           	rtl
  7454                        	.endblock	899
  7455             00000008   L362	equ	8
  7456             00000009   L363	equ	9
  7457 06:17B9:              	ends
  7458                        	efunc
  7459                        	.endfunc	899,9,8
  7460                        	.line	899
  7461                        ;
  7462                        ;
  7463                        ;void k_draw_pixel_ex(long x,long y,char pcolor,UI
                    NT toPage)
  7464                        ;{
  7465                        	.line	902
  7466                        	.line	903
  7467                        	GFX
  7468                        	xdef	~~k_draw_pixel_ex
  7469                        	func
  7470                        	.function	903
  7471                        ~~k_draw_pixel_ex:
  7472                        	longa	on
  7473                        	longi	on
  7474 06:17B9: 3B           	tsc
  7475 06:17BA: 38           	sec
  7476 06:17BB: E9 08 00     	sbc	#L366
  7477 06:17BE: 1B           	tcs
  7478 06:17BF: 0B           	phd
  7479 06:17C0: 5B           	tcd
  7480             00000004   x_0	set	4
  7481             00000008   y_0	set	8
  7482             0000000C   pcolor_0	set	12
  7483             0000000E   toPage_0	set	14
  7484                        	.block	903
  7485                        ;	//LPSTR pDest = NULL;
  7486                        ;	//ULONG addr;
  7487                        ;	//long pixelLocation = (long)(((long)y * 640L) +
                     (long)x);
  7488                        ;
  7489                        ;	//((LPSTR)((LONG)BITMAP_BANK_0 &((LONG)toPage <<
                     16) & 0xFF0000))[pixelLocation] = (char)pcolor;
  Mon Sep 27 2021  9:39                                                Page 143


  7490                        ;	//((unsigned char FAR *)((LONG)BITMAP_BANK_0) & 
                    ((LONG)toPage << 16) & 0xFF0000)))[pixelLocation] = (char)pc
                    olor;
  7491                        ;	/*
  7492                        ;	addr = ((ULONG)BITMAP_BANK_0);
  7493                        ;	addr = addr & (((ULONG)toPage << 16) & 0xFF0000)
                    ;
  7494                        ;
  7495                        ;	pDest = (LPSTR)addr;
  7496                        ;
  7497                        ;	pDest[pixelLocation] = (char)pcolor;
  7498                        ;
  7499                        ;	*/
  7500                        ;	if(x >= GUI_POINT_LIMIT_X_LO && x <= GUI_POINT_L
                    IMIT_X_HI && y >= GUI_POINT_LIMIT_Y_LO && y <= GUI_POINT_LIM
                    IT_Y_HI)
  7501                        	.sym	x,4,7,6,32
  7502                        	.sym	y,8,7,6,32
  7503                        	.sym	pcolor,12,14,6,8
  7504                        	.sym	toPage,14,16,6,16
  7505                        	.line	919
  7506                        ;		((unsigned char FAR *)BITMAP_BANK_0)[(lo
                    ng)(((long)y * 640L) + (long)x)] = (char)pcolor;
  7507 06:17C1: A5 0E        	lda	<L366+x_0+2
  7508 06:17C3: 10 03        	bpl	L369
  7509 06:17C5: 82 67 00     	brl	L10051
  7510                        L369:
  7511 06:17C8: 38           	sec
  7512 06:17C9: A9 80 02     	lda	#$280
  7513 06:17CC: E5 0C        	sbc	<L366+x_0
  7514 06:17CE: A9 00 00     	lda	#$0
  7515 06:17D1: E5 0E        	sbc	<L366+x_0+2
  7516 06:17D3: 70 03        	bvs	L370
  7517 06:17D5: 49 00 80     	eor	#$8000
  7518                        L370:
  7519 06:17D8: 30 03        	bmi	L371
  7520 06:17DA: 82 52 00     	brl	L10051
  7521                        L371:
  7522 06:17DD: A5 12        	lda	<L366+y_0+2
  7523 06:17DF: 10 03        	bpl	L372
  7524 06:17E1: 82 4B 00     	brl	L10051
  7525                        L372:
  7526 06:17E4: 38           	sec
  7527 06:17E5: A9 E0 01     	lda	#$1e0
  7528 06:17E8: E5 10        	sbc	<L366+y_0
  7529 06:17EA: A9 00 00     	lda	#$0
  7530 06:17ED: E5 12        	sbc	<L366+y_0+2
  7531 06:17EF: 70 03        	bvs	L373
  7532 06:17F1: 49 00 80     	eor	#$8000
  7533                        L373:
  7534 06:17F4: 30 03        	bmi	L374
  7535 06:17F6: 82 36 00     	brl	L10051
  7536                        L374:
  7537                        	.line	920
  7538 06:17F9: F4 00 00     	pea	#^$280
  7539 06:17FC: F4 80 02     	pea	#<$280
  7540 06:17FF: D4 12        	pei	<L366+y_0+2
  7541 06:1801: D4 10        	pei	<L366+y_0
  Mon Sep 27 2021  9:39                                                Page 144


  7542                        	xref	~~~lmul
  7543 06:1803: 22 xx xx xx  	jsl	~~~lmul
  7544 06:1807: 85 01        	sta	<R0
  7545 06:1809: 86 03        	stx	<R0+2
  7546 06:180B: 18           	clc
  7547 06:180C: A5 01        	lda	<R0
  7548 06:180E: 65 0C        	adc	<L366+x_0
  7549 06:1810: 85 05        	sta	<R1
  7550 06:1812: A5 03        	lda	<R0+2
  7551 06:1814: 65 0E        	adc	<L366+x_0+2
  7552 06:1816: 85 07        	sta	<R1+2
  7553 06:1818: 18           	clc
  7554 06:1819: A9 00 00     	lda	#$0
  7555 06:181C: 65 05        	adc	<R1
  7556 06:181E: 85 01        	sta	<R0
  7557 06:1820: A9 B0 00     	lda	#$b0
  7558 06:1823: 65 07        	adc	<R1+2
  7559 06:1825: 85 03        	sta	<R0+2
  7560 06:1827: E2 20        	sep	#$20
  7561                        	longa	off
  7562 06:1829: A5 14        	lda	<L366+pcolor_0
  7563 06:182B: 87 01        	sta	[<R0]
  7564 06:182D: C2 20        	rep	#$20
  7565                        	longa	on
  7566                        ;}
  7567                        L10051:
  7568                        	.line	921
  7569                        L375:
  7570 06:182F: A5 0A        	lda	<L366+2
  7571 06:1831: 85 16        	sta	<L366+2+12
  7572 06:1833: A5 09        	lda	<L366+1
  7573 06:1835: 85 15        	sta	<L366+1+12
  7574 06:1837: 2B           	pld
  7575 06:1838: 3B           	tsc
  7576 06:1839: 18           	clc
  7577 06:183A: 69 14 00     	adc	#L366+12
  7578 06:183D: 1B           	tcs
  7579 06:183E: 6B           	rtl
  7580                        	.endblock	921
  7581             00000008   L366	equ	8
  7582             00000009   L367	equ	9
  7583 06:183F:              	ends
  7584                        	efunc
  7585                        	.endfunc	921,9,8
  7586                        	.line	921
  7587                        ;
  7588                        ;
  7589                        ;void k_draw_segments(int xc, int yc, int x, int y
                    ,int color) 
  7590                        ;{ 
  7591                        	.line	924
  7592                        	.line	925
  7593                        	GFX
  7594                        	xdef	~~k_draw_segments
  7595                        	func
  7596                        	.function	925
  7597                        ~~k_draw_segments:
  7598                        	longa	on
  Mon Sep 27 2021  9:39                                                Page 145


  7599                        	longi	on
  7600 06:183F: 3B           	tsc
  7601 06:1840: 38           	sec
  7602 06:1841: E9 08 00     	sbc	#L376
  7603 06:1844: 1B           	tcs
  7604 06:1845: 0B           	phd
  7605 06:1846: 5B           	tcd
  7606             00000004   xc_0	set	4
  7607             00000006   yc_0	set	6
  7608             00000008   x_0	set	8
  7609             0000000A   y_0	set	10
  7610             0000000C   color_0	set	12
  7611                        	.block	925
  7612                        ;    k_draw_pixel(xc+x, yc+y, color); 
  7613                        	.sym	xc,4,5,6,16
  7614                        	.sym	yc,6,5,6,16
  7615                        	.sym	x,8,5,6,16
  7616                        	.sym	y,10,5,6,16
  7617                        	.sym	color,12,5,6,16
  7618                        	.line	926
  7619 06:1847: D4 14        	pei	<L376+color_0
  7620 06:1849: 18           	clc
  7621 06:184A: A5 0E        	lda	<L376+yc_0
  7622 06:184C: 65 12        	adc	<L376+y_0
  7623 06:184E: 85 01        	sta	<R0
  7624 06:1850: A0 00 00     	ldy	#$0
  7625 06:1853: A5 01        	lda	<R0
  7626 06:1855: 10 01        	bpl	L379
  7627 06:1857: 88           	dey
  7628                        L379:
  7629 06:1858: 85 01        	sta	<R0
  7630 06:185A: 84 03        	sty	<R0+2
  7631 06:185C: D4 03        	pei	<R0+2
  7632 06:185E: D4 01        	pei	<R0
  7633 06:1860: 18           	clc
  7634 06:1861: A5 0C        	lda	<L376+xc_0
  7635 06:1863: 65 10        	adc	<L376+x_0
  7636 06:1865: 85 05        	sta	<R1
  7637 06:1867: A0 00 00     	ldy	#$0
  7638 06:186A: A5 05        	lda	<R1
  7639 06:186C: 10 01        	bpl	L380
  7640 06:186E: 88           	dey
  7641                        L380:
  7642 06:186F: 85 05        	sta	<R1
  7643 06:1871: 84 07        	sty	<R1+2
  7644 06:1873: D4 07        	pei	<R1+2
  7645 06:1875: D4 05        	pei	<R1
  7646 06:1877: 22 CD 14 06  	jsl	~~k_draw_pixel
  7647                        ;    k_draw_pixel(xc-x, yc+y, color); 
  7648                        	.line	927
  7649 06:187B: D4 14        	pei	<L376+color_0
  7650 06:187D: 18           	clc
  7651 06:187E: A5 0E        	lda	<L376+yc_0
  7652 06:1880: 65 12        	adc	<L376+y_0
  7653 06:1882: 85 01        	sta	<R0
  7654 06:1884: A0 00 00     	ldy	#$0
  7655 06:1887: A5 01        	lda	<R0
  7656 06:1889: 10 01        	bpl	L381
  Mon Sep 27 2021  9:39                                                Page 146


  7657 06:188B: 88           	dey
  7658                        L381:
  7659 06:188C: 85 01        	sta	<R0
  7660 06:188E: 84 03        	sty	<R0+2
  7661 06:1890: D4 03        	pei	<R0+2
  7662 06:1892: D4 01        	pei	<R0
  7663 06:1894: 38           	sec
  7664 06:1895: A5 0C        	lda	<L376+xc_0
  7665 06:1897: E5 10        	sbc	<L376+x_0
  7666 06:1899: 85 05        	sta	<R1
  7667 06:189B: A0 00 00     	ldy	#$0
  7668 06:189E: A5 05        	lda	<R1
  7669 06:18A0: 10 01        	bpl	L382
  7670 06:18A2: 88           	dey
  7671                        L382:
  7672 06:18A3: 85 05        	sta	<R1
  7673 06:18A5: 84 07        	sty	<R1+2
  7674 06:18A7: D4 07        	pei	<R1+2
  7675 06:18A9: D4 05        	pei	<R1
  7676 06:18AB: 22 CD 14 06  	jsl	~~k_draw_pixel
  7677                        ;    k_draw_pixel(xc+x, yc-y, color); 
  7678                        	.line	928
  7679 06:18AF: D4 14        	pei	<L376+color_0
  7680 06:18B1: 38           	sec
  7681 06:18B2: A5 0E        	lda	<L376+yc_0
  7682 06:18B4: E5 12        	sbc	<L376+y_0
  7683 06:18B6: 85 01        	sta	<R0
  7684 06:18B8: A0 00 00     	ldy	#$0
  7685 06:18BB: A5 01        	lda	<R0
  7686 06:18BD: 10 01        	bpl	L383
  7687 06:18BF: 88           	dey
  7688                        L383:
  7689 06:18C0: 85 01        	sta	<R0
  7690 06:18C2: 84 03        	sty	<R0+2
  7691 06:18C4: D4 03        	pei	<R0+2
  7692 06:18C6: D4 01        	pei	<R0
  7693 06:18C8: 18           	clc
  7694 06:18C9: A5 0C        	lda	<L376+xc_0
  7695 06:18CB: 65 10        	adc	<L376+x_0
  7696 06:18CD: 85 05        	sta	<R1
  7697 06:18CF: A0 00 00     	ldy	#$0
  7698 06:18D2: A5 05        	lda	<R1
  7699 06:18D4: 10 01        	bpl	L384
  7700 06:18D6: 88           	dey
  7701                        L384:
  7702 06:18D7: 85 05        	sta	<R1
  7703 06:18D9: 84 07        	sty	<R1+2
  7704 06:18DB: D4 07        	pei	<R1+2
  7705 06:18DD: D4 05        	pei	<R1
  7706 06:18DF: 22 CD 14 06  	jsl	~~k_draw_pixel
  7707                        ;    k_draw_pixel(xc-x, yc-y, color); 
  7708                        	.line	929
  7709 06:18E3: D4 14        	pei	<L376+color_0
  7710 06:18E5: 38           	sec
  7711 06:18E6: A5 0E        	lda	<L376+yc_0
  7712 06:18E8: E5 12        	sbc	<L376+y_0
  7713 06:18EA: 85 01        	sta	<R0
  7714 06:18EC: A0 00 00     	ldy	#$0
  Mon Sep 27 2021  9:39                                                Page 147


  7715 06:18EF: A5 01        	lda	<R0
  7716 06:18F1: 10 01        	bpl	L385
  7717 06:18F3: 88           	dey
  7718                        L385:
  7719 06:18F4: 85 01        	sta	<R0
  7720 06:18F6: 84 03        	sty	<R0+2
  7721 06:18F8: D4 03        	pei	<R0+2
  7722 06:18FA: D4 01        	pei	<R0
  7723 06:18FC: 38           	sec
  7724 06:18FD: A5 0C        	lda	<L376+xc_0
  7725 06:18FF: E5 10        	sbc	<L376+x_0
  7726 06:1901: 85 05        	sta	<R1
  7727 06:1903: A0 00 00     	ldy	#$0
  7728 06:1906: A5 05        	lda	<R1
  7729 06:1908: 10 01        	bpl	L386
  7730 06:190A: 88           	dey
  7731                        L386:
  7732 06:190B: 85 05        	sta	<R1
  7733 06:190D: 84 07        	sty	<R1+2
  7734 06:190F: D4 07        	pei	<R1+2
  7735 06:1911: D4 05        	pei	<R1
  7736 06:1913: 22 CD 14 06  	jsl	~~k_draw_pixel
  7737                        ;    k_draw_pixel(xc+y, yc+x, color); 
  7738                        	.line	930
  7739 06:1917: D4 14        	pei	<L376+color_0
  7740 06:1919: 18           	clc
  7741 06:191A: A5 0E        	lda	<L376+yc_0
  7742 06:191C: 65 10        	adc	<L376+x_0
  7743 06:191E: 85 01        	sta	<R0
  7744 06:1920: A0 00 00     	ldy	#$0
  7745 06:1923: A5 01        	lda	<R0
  7746 06:1925: 10 01        	bpl	L387
  7747 06:1927: 88           	dey
  7748                        L387:
  7749 06:1928: 85 01        	sta	<R0
  7750 06:192A: 84 03        	sty	<R0+2
  7751 06:192C: D4 03        	pei	<R0+2
  7752 06:192E: D4 01        	pei	<R0
  7753 06:1930: 18           	clc
  7754 06:1931: A5 0C        	lda	<L376+xc_0
  7755 06:1933: 65 12        	adc	<L376+y_0
  7756 06:1935: 85 05        	sta	<R1
  7757 06:1937: A0 00 00     	ldy	#$0
  7758 06:193A: A5 05        	lda	<R1
  7759 06:193C: 10 01        	bpl	L388
  7760 06:193E: 88           	dey
  7761                        L388:
  7762 06:193F: 85 05        	sta	<R1
  7763 06:1941: 84 07        	sty	<R1+2
  7764 06:1943: D4 07        	pei	<R1+2
  7765 06:1945: D4 05        	pei	<R1
  7766 06:1947: 22 CD 14 06  	jsl	~~k_draw_pixel
  7767                        ;    k_draw_pixel(xc-y, yc+x, color); 
  7768                        	.line	931
  7769 06:194B: D4 14        	pei	<L376+color_0
  7770 06:194D: 18           	clc
  7771 06:194E: A5 0E        	lda	<L376+yc_0
  7772 06:1950: 65 10        	adc	<L376+x_0
  Mon Sep 27 2021  9:39                                                Page 148


  7773 06:1952: 85 01        	sta	<R0
  7774 06:1954: A0 00 00     	ldy	#$0
  7775 06:1957: A5 01        	lda	<R0
  7776 06:1959: 10 01        	bpl	L389
  7777 06:195B: 88           	dey
  7778                        L389:
  7779 06:195C: 85 01        	sta	<R0
  7780 06:195E: 84 03        	sty	<R0+2
  7781 06:1960: D4 03        	pei	<R0+2
  7782 06:1962: D4 01        	pei	<R0
  7783 06:1964: 38           	sec
  7784 06:1965: A5 0C        	lda	<L376+xc_0
  7785 06:1967: E5 12        	sbc	<L376+y_0
  7786 06:1969: 85 05        	sta	<R1
  7787 06:196B: A0 00 00     	ldy	#$0
  7788 06:196E: A5 05        	lda	<R1
  7789 06:1970: 10 01        	bpl	L390
  7790 06:1972: 88           	dey
  7791                        L390:
  7792 06:1973: 85 05        	sta	<R1
  7793 06:1975: 84 07        	sty	<R1+2
  7794 06:1977: D4 07        	pei	<R1+2
  7795 06:1979: D4 05        	pei	<R1
  7796 06:197B: 22 CD 14 06  	jsl	~~k_draw_pixel
  7797                        ;    k_draw_pixel(xc+y, yc-x, color); 
  7798                        	.line	932
  7799 06:197F: D4 14        	pei	<L376+color_0
  7800 06:1981: 38           	sec
  7801 06:1982: A5 0E        	lda	<L376+yc_0
  7802 06:1984: E5 10        	sbc	<L376+x_0
  7803 06:1986: 85 01        	sta	<R0
  7804 06:1988: A0 00 00     	ldy	#$0
  7805 06:198B: A5 01        	lda	<R0
  7806 06:198D: 10 01        	bpl	L391
  7807 06:198F: 88           	dey
  7808                        L391:
  7809 06:1990: 85 01        	sta	<R0
  7810 06:1992: 84 03        	sty	<R0+2
  7811 06:1994: D4 03        	pei	<R0+2
  7812 06:1996: D4 01        	pei	<R0
  7813 06:1998: 18           	clc
  7814 06:1999: A5 0C        	lda	<L376+xc_0
  7815 06:199B: 65 12        	adc	<L376+y_0
  7816 06:199D: 85 05        	sta	<R1
  7817 06:199F: A0 00 00     	ldy	#$0
  7818 06:19A2: A5 05        	lda	<R1
  7819 06:19A4: 10 01        	bpl	L392
  7820 06:19A6: 88           	dey
  7821                        L392:
  7822 06:19A7: 85 05        	sta	<R1
  7823 06:19A9: 84 07        	sty	<R1+2
  7824 06:19AB: D4 07        	pei	<R1+2
  7825 06:19AD: D4 05        	pei	<R1
  7826 06:19AF: 22 CD 14 06  	jsl	~~k_draw_pixel
  7827                        ;    k_draw_pixel(xc-y, yc-x, color); 
  7828                        	.line	933
  7829 06:19B3: D4 14        	pei	<L376+color_0
  7830 06:19B5: 38           	sec
  Mon Sep 27 2021  9:39                                                Page 149


  7831 06:19B6: A5 0E        	lda	<L376+yc_0
  7832 06:19B8: E5 10        	sbc	<L376+x_0
  7833 06:19BA: 85 01        	sta	<R0
  7834 06:19BC: A0 00 00     	ldy	#$0
  7835 06:19BF: A5 01        	lda	<R0
  7836 06:19C1: 10 01        	bpl	L393
  7837 06:19C3: 88           	dey
  7838                        L393:
  7839 06:19C4: 85 01        	sta	<R0
  7840 06:19C6: 84 03        	sty	<R0+2
  7841 06:19C8: D4 03        	pei	<R0+2
  7842 06:19CA: D4 01        	pei	<R0
  7843 06:19CC: 38           	sec
  7844 06:19CD: A5 0C        	lda	<L376+xc_0
  7845 06:19CF: E5 12        	sbc	<L376+y_0
  7846 06:19D1: 85 05        	sta	<R1
  7847 06:19D3: A0 00 00     	ldy	#$0
  7848 06:19D6: A5 05        	lda	<R1
  7849 06:19D8: 10 01        	bpl	L394
  7850 06:19DA: 88           	dey
  7851                        L394:
  7852 06:19DB: 85 05        	sta	<R1
  7853 06:19DD: 84 07        	sty	<R1+2
  7854 06:19DF: D4 07        	pei	<R1+2
  7855 06:19E1: D4 05        	pei	<R1
  7856 06:19E3: 22 CD 14 06  	jsl	~~k_draw_pixel
  7857                        ;} 
  7858                        	.line	934
  7859                        L395:
  7860 06:19E7: A5 0A        	lda	<L376+2
  7861 06:19E9: 85 14        	sta	<L376+2+10
  7862 06:19EB: A5 09        	lda	<L376+1
  7863 06:19ED: 85 13        	sta	<L376+1+10
  7864 06:19EF: 2B           	pld
  7865 06:19F0: 3B           	tsc
  7866 06:19F1: 18           	clc
  7867 06:19F2: 69 12 00     	adc	#L376+10
  7868 06:19F5: 1B           	tcs
  7869 06:19F6: 6B           	rtl
  7870                        	.endblock	934
  7871             00000008   L376	equ	8
  7872             00000009   L377	equ	9
  7873 06:19F7:              	ends
  7874                        	efunc
  7875                        	.endfunc	934,9,8
  7876                        	.line	934
  7877                        ;
  7878                        ;void k_draw_filled_segments(int xc, int yc, int x
                    , int y,int color) 
  7879                        ;{ 
  7880                        	.line	936
  7881                        	.line	937
  7882                        	GFX
  7883                        	xdef	~~k_draw_filled_segments
  7884                        	func
  7885                        	.function	937
  7886                        ~~k_draw_filled_segments:
  7887                        	longa	on
  Mon Sep 27 2021  9:39                                                Page 150


  7888                        	longi	on
  7889 06:19F7: 3B           	tsc
  7890 06:19F8: 38           	sec
  7891 06:19F9: E9 08 00     	sbc	#L396
  7892 06:19FC: 1B           	tcs
  7893 06:19FD: 0B           	phd
  7894 06:19FE: 5B           	tcd
  7895             00000004   xc_0	set	4
  7896             00000006   yc_0	set	6
  7897             00000008   x_0	set	8
  7898             0000000A   y_0	set	10
  7899             0000000C   color_0	set	12
  7900                        	.block	937
  7901                        ;    k_draw_pixel(xc+x, yc+y, color); 	    
  7902                        	.sym	xc,4,5,6,16
  7903                        	.sym	yc,6,5,6,16
  7904                        	.sym	x,8,5,6,16
  7905                        	.sym	y,10,5,6,16
  7906                        	.sym	color,12,5,6,16
  7907                        	.line	938
  7908 06:19FF: D4 14        	pei	<L396+color_0
  7909 06:1A01: 18           	clc
  7910 06:1A02: A5 0E        	lda	<L396+yc_0
  7911 06:1A04: 65 12        	adc	<L396+y_0
  7912 06:1A06: 85 01        	sta	<R0
  7913 06:1A08: A0 00 00     	ldy	#$0
  7914 06:1A0B: A5 01        	lda	<R0
  7915 06:1A0D: 10 01        	bpl	L399
  7916 06:1A0F: 88           	dey
  7917                        L399:
  7918 06:1A10: 85 01        	sta	<R0
  7919 06:1A12: 84 03        	sty	<R0+2
  7920 06:1A14: D4 03        	pei	<R0+2
  7921 06:1A16: D4 01        	pei	<R0
  7922 06:1A18: 18           	clc
  7923 06:1A19: A5 0C        	lda	<L396+xc_0
  7924 06:1A1B: 65 10        	adc	<L396+x_0
  7925 06:1A1D: 85 05        	sta	<R1
  7926 06:1A1F: A0 00 00     	ldy	#$0
  7927 06:1A22: A5 05        	lda	<R1
  7928 06:1A24: 10 01        	bpl	L400
  7929 06:1A26: 88           	dey
  7930                        L400:
  7931 06:1A27: 85 05        	sta	<R1
  7932 06:1A29: 84 07        	sty	<R1+2
  7933 06:1A2B: D4 07        	pei	<R1+2
  7934 06:1A2D: D4 05        	pei	<R1
  7935 06:1A2F: 22 CD 14 06  	jsl	~~k_draw_pixel
  7936                        ;	k_draw_pixel(xc-x, yc+y, color); 
  7937                        	.line	939
  7938 06:1A33: D4 14        	pei	<L396+color_0
  7939 06:1A35: 18           	clc
  7940 06:1A36: A5 0E        	lda	<L396+yc_0
  7941 06:1A38: 65 12        	adc	<L396+y_0
  7942 06:1A3A: 85 01        	sta	<R0
  7943 06:1A3C: A0 00 00     	ldy	#$0
  7944 06:1A3F: A5 01        	lda	<R0
  7945 06:1A41: 10 01        	bpl	L401
  Mon Sep 27 2021  9:39                                                Page 151


  7946 06:1A43: 88           	dey
  7947                        L401:
  7948 06:1A44: 85 01        	sta	<R0
  7949 06:1A46: 84 03        	sty	<R0+2
  7950 06:1A48: D4 03        	pei	<R0+2
  7951 06:1A4A: D4 01        	pei	<R0
  7952 06:1A4C: 38           	sec
  7953 06:1A4D: A5 0C        	lda	<L396+xc_0
  7954 06:1A4F: E5 10        	sbc	<L396+x_0
  7955 06:1A51: 85 05        	sta	<R1
  7956 06:1A53: A0 00 00     	ldy	#$0
  7957 06:1A56: A5 05        	lda	<R1
  7958 06:1A58: 10 01        	bpl	L402
  7959 06:1A5A: 88           	dey
  7960                        L402:
  7961 06:1A5B: 85 05        	sta	<R1
  7962 06:1A5D: 84 07        	sty	<R1+2
  7963 06:1A5F: D4 07        	pei	<R1+2
  7964 06:1A61: D4 05        	pei	<R1
  7965 06:1A63: 22 CD 14 06  	jsl	~~k_draw_pixel
  7966                        ;    k_draw_line(xc+x, yc+y, xc-x, yc+y,color);
  7967                        	.line	940
  7968 06:1A67: D4 14        	pei	<L396+color_0
  7969 06:1A69: 18           	clc
  7970 06:1A6A: A5 0E        	lda	<L396+yc_0
  7971 06:1A6C: 65 12        	adc	<L396+y_0
  7972 06:1A6E: 48           	pha
  7973 06:1A6F: 38           	sec
  7974 06:1A70: A5 0C        	lda	<L396+xc_0
  7975 06:1A72: E5 10        	sbc	<L396+x_0
  7976 06:1A74: 48           	pha
  7977 06:1A75: 18           	clc
  7978 06:1A76: A5 0E        	lda	<L396+yc_0
  7979 06:1A78: 65 12        	adc	<L396+y_0
  7980 06:1A7A: 48           	pha
  7981 06:1A7B: 18           	clc
  7982 06:1A7C: A5 0C        	lda	<L396+xc_0
  7983 06:1A7E: 65 10        	adc	<L396+x_0
  7984 06:1A80: 48           	pha
  7985 06:1A81: 22 69 1D 06  	jsl	~~k_draw_line
  7986                        ;	
  7987                        ;	
  7988                        ;	k_draw_pixel(xc+x, yc-y, color);     	
  7989                        	.line	943
  7990 06:1A85: D4 14        	pei	<L396+color_0
  7991 06:1A87: 38           	sec
  7992 06:1A88: A5 0E        	lda	<L396+yc_0
  7993 06:1A8A: E5 12        	sbc	<L396+y_0
  7994 06:1A8C: 85 01        	sta	<R0
  7995 06:1A8E: A0 00 00     	ldy	#$0
  7996 06:1A91: A5 01        	lda	<R0
  7997 06:1A93: 10 01        	bpl	L403
  7998 06:1A95: 88           	dey
  7999                        L403:
  8000 06:1A96: 85 01        	sta	<R0
  8001 06:1A98: 84 03        	sty	<R0+2
  8002 06:1A9A: D4 03        	pei	<R0+2
  8003 06:1A9C: D4 01        	pei	<R0
  Mon Sep 27 2021  9:39                                                Page 152


  8004 06:1A9E: 18           	clc
  8005 06:1A9F: A5 0C        	lda	<L396+xc_0
  8006 06:1AA1: 65 10        	adc	<L396+x_0
  8007 06:1AA3: 85 05        	sta	<R1
  8008 06:1AA5: A0 00 00     	ldy	#$0
  8009 06:1AA8: A5 05        	lda	<R1
  8010 06:1AAA: 10 01        	bpl	L404
  8011 06:1AAC: 88           	dey
  8012                        L404:
  8013 06:1AAD: 85 05        	sta	<R1
  8014 06:1AAF: 84 07        	sty	<R1+2
  8015 06:1AB1: D4 07        	pei	<R1+2
  8016 06:1AB3: D4 05        	pei	<R1
  8017 06:1AB5: 22 CD 14 06  	jsl	~~k_draw_pixel
  8018                        ;	k_draw_pixel(xc-x, yc-y, color); 
  8019                        	.line	944
  8020 06:1AB9: D4 14        	pei	<L396+color_0
  8021 06:1ABB: 38           	sec
  8022 06:1ABC: A5 0E        	lda	<L396+yc_0
  8023 06:1ABE: E5 12        	sbc	<L396+y_0
  8024 06:1AC0: 85 01        	sta	<R0
  8025 06:1AC2: A0 00 00     	ldy	#$0
  8026 06:1AC5: A5 01        	lda	<R0
  8027 06:1AC7: 10 01        	bpl	L405
  8028 06:1AC9: 88           	dey
  8029                        L405:
  8030 06:1ACA: 85 01        	sta	<R0
  8031 06:1ACC: 84 03        	sty	<R0+2
  8032 06:1ACE: D4 03        	pei	<R0+2
  8033 06:1AD0: D4 01        	pei	<R0
  8034 06:1AD2: 38           	sec
  8035 06:1AD3: A5 0C        	lda	<L396+xc_0
  8036 06:1AD5: E5 10        	sbc	<L396+x_0
  8037 06:1AD7: 85 05        	sta	<R1
  8038 06:1AD9: A0 00 00     	ldy	#$0
  8039 06:1ADC: A5 05        	lda	<R1
  8040 06:1ADE: 10 01        	bpl	L406
  8041 06:1AE0: 88           	dey
  8042                        L406:
  8043 06:1AE1: 85 05        	sta	<R1
  8044 06:1AE3: 84 07        	sty	<R1+2
  8045 06:1AE5: D4 07        	pei	<R1+2
  8046 06:1AE7: D4 05        	pei	<R1
  8047 06:1AE9: 22 CD 14 06  	jsl	~~k_draw_pixel
  8048                        ;	k_draw_line(xc+x, yc-y, xc-x, yc-y,color);
  8049                        	.line	945
  8050 06:1AED: D4 14        	pei	<L396+color_0
  8051 06:1AEF: 38           	sec
  8052 06:1AF0: A5 0E        	lda	<L396+yc_0
  8053 06:1AF2: E5 12        	sbc	<L396+y_0
  8054 06:1AF4: 48           	pha
  8055 06:1AF5: 38           	sec
  8056 06:1AF6: A5 0C        	lda	<L396+xc_0
  8057 06:1AF8: E5 10        	sbc	<L396+x_0
  8058 06:1AFA: 48           	pha
  8059 06:1AFB: 38           	sec
  8060 06:1AFC: A5 0E        	lda	<L396+yc_0
  8061 06:1AFE: E5 12        	sbc	<L396+y_0
  Mon Sep 27 2021  9:39                                                Page 153


  8062 06:1B00: 48           	pha
  8063 06:1B01: 18           	clc
  8064 06:1B02: A5 0C        	lda	<L396+xc_0
  8065 06:1B04: 65 10        	adc	<L396+x_0
  8066 06:1B06: 48           	pha
  8067 06:1B07: 22 69 1D 06  	jsl	~~k_draw_line
  8068                        ;	
  8069                        ;    
  8070                        ;	k_draw_pixel(xc+y, yc+x, color);     
  8071                        	.line	948
  8072 06:1B0B: D4 14        	pei	<L396+color_0
  8073 06:1B0D: 18           	clc
  8074 06:1B0E: A5 0E        	lda	<L396+yc_0
  8075 06:1B10: 65 10        	adc	<L396+x_0
  8076 06:1B12: 85 01        	sta	<R0
  8077 06:1B14: A0 00 00     	ldy	#$0
  8078 06:1B17: A5 01        	lda	<R0
  8079 06:1B19: 10 01        	bpl	L407
  8080 06:1B1B: 88           	dey
  8081                        L407:
  8082 06:1B1C: 85 01        	sta	<R0
  8083 06:1B1E: 84 03        	sty	<R0+2
  8084 06:1B20: D4 03        	pei	<R0+2
  8085 06:1B22: D4 01        	pei	<R0
  8086 06:1B24: 18           	clc
  8087 06:1B25: A5 0C        	lda	<L396+xc_0
  8088 06:1B27: 65 12        	adc	<L396+y_0
  8089 06:1B29: 85 05        	sta	<R1
  8090 06:1B2B: A0 00 00     	ldy	#$0
  8091 06:1B2E: A5 05        	lda	<R1
  8092 06:1B30: 10 01        	bpl	L408
  8093 06:1B32: 88           	dey
  8094                        L408:
  8095 06:1B33: 85 05        	sta	<R1
  8096 06:1B35: 84 07        	sty	<R1+2
  8097 06:1B37: D4 07        	pei	<R1+2
  8098 06:1B39: D4 05        	pei	<R1
  8099 06:1B3B: 22 CD 14 06  	jsl	~~k_draw_pixel
  8100                        ;	k_draw_pixel(xc-y, yc+x, color); 
  8101                        	.line	949
  8102 06:1B3F: D4 14        	pei	<L396+color_0
  8103 06:1B41: 18           	clc
  8104 06:1B42: A5 0E        	lda	<L396+yc_0
  8105 06:1B44: 65 10        	adc	<L396+x_0
  8106 06:1B46: 85 01        	sta	<R0
  8107 06:1B48: A0 00 00     	ldy	#$0
  8108 06:1B4B: A5 01        	lda	<R0
  8109 06:1B4D: 10 01        	bpl	L409
  8110 06:1B4F: 88           	dey
  8111                        L409:
  8112 06:1B50: 85 01        	sta	<R0
  8113 06:1B52: 84 03        	sty	<R0+2
  8114 06:1B54: D4 03        	pei	<R0+2
  8115 06:1B56: D4 01        	pei	<R0
  8116 06:1B58: 38           	sec
  8117 06:1B59: A5 0C        	lda	<L396+xc_0
  8118 06:1B5B: E5 12        	sbc	<L396+y_0
  8119 06:1B5D: 85 05        	sta	<R1
  Mon Sep 27 2021  9:39                                                Page 154


  8120 06:1B5F: A0 00 00     	ldy	#$0
  8121 06:1B62: A5 05        	lda	<R1
  8122 06:1B64: 10 01        	bpl	L410
  8123 06:1B66: 88           	dey
  8124                        L410:
  8125 06:1B67: 85 05        	sta	<R1
  8126 06:1B69: 84 07        	sty	<R1+2
  8127 06:1B6B: D4 07        	pei	<R1+2
  8128 06:1B6D: D4 05        	pei	<R1
  8129 06:1B6F: 22 CD 14 06  	jsl	~~k_draw_pixel
  8130                        ;	k_draw_line(xc+y, yc+x, xc-y, yc+x,color);	
  8131                        	.line	950
  8132 06:1B73: D4 14        	pei	<L396+color_0
  8133 06:1B75: 18           	clc
  8134 06:1B76: A5 0E        	lda	<L396+yc_0
  8135 06:1B78: 65 10        	adc	<L396+x_0
  8136 06:1B7A: 48           	pha
  8137 06:1B7B: 38           	sec
  8138 06:1B7C: A5 0C        	lda	<L396+xc_0
  8139 06:1B7E: E5 12        	sbc	<L396+y_0
  8140 06:1B80: 48           	pha
  8141 06:1B81: 18           	clc
  8142 06:1B82: A5 0E        	lda	<L396+yc_0
  8143 06:1B84: 65 10        	adc	<L396+x_0
  8144 06:1B86: 48           	pha
  8145 06:1B87: 18           	clc
  8146 06:1B88: A5 0C        	lda	<L396+xc_0
  8147 06:1B8A: 65 12        	adc	<L396+y_0
  8148 06:1B8C: 48           	pha
  8149 06:1B8D: 22 69 1D 06  	jsl	~~k_draw_line
  8150                        ;	
  8151                        ;	k_draw_pixel(xc+y, yc-x, color);  
  8152                        	.line	952
  8153 06:1B91: D4 14        	pei	<L396+color_0
  8154 06:1B93: 38           	sec
  8155 06:1B94: A5 0E        	lda	<L396+yc_0
  8156 06:1B96: E5 10        	sbc	<L396+x_0
  8157 06:1B98: 85 01        	sta	<R0
  8158 06:1B9A: A0 00 00     	ldy	#$0
  8159 06:1B9D: A5 01        	lda	<R0
  8160 06:1B9F: 10 01        	bpl	L411
  8161 06:1BA1: 88           	dey
  8162                        L411:
  8163 06:1BA2: 85 01        	sta	<R0
  8164 06:1BA4: 84 03        	sty	<R0+2
  8165 06:1BA6: D4 03        	pei	<R0+2
  8166 06:1BA8: D4 01        	pei	<R0
  8167 06:1BAA: 18           	clc
  8168 06:1BAB: A5 0C        	lda	<L396+xc_0
  8169 06:1BAD: 65 12        	adc	<L396+y_0
  8170 06:1BAF: 85 05        	sta	<R1
  8171 06:1BB1: A0 00 00     	ldy	#$0
  8172 06:1BB4: A5 05        	lda	<R1
  8173 06:1BB6: 10 01        	bpl	L412
  8174 06:1BB8: 88           	dey
  8175                        L412:
  8176 06:1BB9: 85 05        	sta	<R1
  8177 06:1BBB: 84 07        	sty	<R1+2
  Mon Sep 27 2021  9:39                                                Page 155


  8178 06:1BBD: D4 07        	pei	<R1+2
  8179 06:1BBF: D4 05        	pei	<R1
  8180 06:1BC1: 22 CD 14 06  	jsl	~~k_draw_pixel
  8181                        ;	k_draw_pixel(xc-y, yc-x, color); 
  8182                        	.line	953
  8183 06:1BC5: D4 14        	pei	<L396+color_0
  8184 06:1BC7: 38           	sec
  8185 06:1BC8: A5 0E        	lda	<L396+yc_0
  8186 06:1BCA: E5 10        	sbc	<L396+x_0
  8187 06:1BCC: 85 01        	sta	<R0
  8188 06:1BCE: A0 00 00     	ldy	#$0
  8189 06:1BD1: A5 01        	lda	<R0
  8190 06:1BD3: 10 01        	bpl	L413
  8191 06:1BD5: 88           	dey
  8192                        L413:
  8193 06:1BD6: 85 01        	sta	<R0
  8194 06:1BD8: 84 03        	sty	<R0+2
  8195 06:1BDA: D4 03        	pei	<R0+2
  8196 06:1BDC: D4 01        	pei	<R0
  8197 06:1BDE: 38           	sec
  8198 06:1BDF: A5 0C        	lda	<L396+xc_0
  8199 06:1BE1: E5 12        	sbc	<L396+y_0
  8200 06:1BE3: 85 05        	sta	<R1
  8201 06:1BE5: A0 00 00     	ldy	#$0
  8202 06:1BE8: A5 05        	lda	<R1
  8203 06:1BEA: 10 01        	bpl	L414
  8204 06:1BEC: 88           	dey
  8205                        L414:
  8206 06:1BED: 85 05        	sta	<R1
  8207 06:1BEF: 84 07        	sty	<R1+2
  8208 06:1BF1: D4 07        	pei	<R1+2
  8209 06:1BF3: D4 05        	pei	<R1
  8210 06:1BF5: 22 CD 14 06  	jsl	~~k_draw_pixel
  8211                        ;	k_draw_line(xc+y, yc-x, xc-y, yc-x,color);
  8212                        	.line	954
  8213 06:1BF9: D4 14        	pei	<L396+color_0
  8214 06:1BFB: 38           	sec
  8215 06:1BFC: A5 0E        	lda	<L396+yc_0
  8216 06:1BFE: E5 10        	sbc	<L396+x_0
  8217 06:1C00: 48           	pha
  8218 06:1C01: 38           	sec
  8219 06:1C02: A5 0C        	lda	<L396+xc_0
  8220 06:1C04: E5 12        	sbc	<L396+y_0
  8221 06:1C06: 48           	pha
  8222 06:1C07: 38           	sec
  8223 06:1C08: A5 0E        	lda	<L396+yc_0
  8224 06:1C0A: E5 10        	sbc	<L396+x_0
  8225 06:1C0C: 48           	pha
  8226 06:1C0D: 18           	clc
  8227 06:1C0E: A5 0C        	lda	<L396+xc_0
  8228 06:1C10: 65 12        	adc	<L396+y_0
  8229 06:1C12: 48           	pha
  8230 06:1C13: 22 69 1D 06  	jsl	~~k_draw_line
  8231                        ;}
  8232                        	.line	955
  8233                        L415:
  8234 06:1C17: A5 0A        	lda	<L396+2
  8235 06:1C19: 85 14        	sta	<L396+2+10
  Mon Sep 27 2021  9:39                                                Page 156


  8236 06:1C1B: A5 09        	lda	<L396+1
  8237 06:1C1D: 85 13        	sta	<L396+1+10
  8238 06:1C1F: 2B           	pld
  8239 06:1C20: 3B           	tsc
  8240 06:1C21: 18           	clc
  8241 06:1C22: 69 12 00     	adc	#L396+10
  8242 06:1C25: 1B           	tcs
  8243 06:1C26: 6B           	rtl
  8244                        	.endblock	955
  8245             00000008   L396	equ	8
  8246             00000009   L397	equ	9
  8247 06:1C27:              	ends
  8248                        	efunc
  8249                        	.endfunc	955,9,8
  8250                        	.line	955
  8251                        ;  
  8252                        ;// Function for circle-generation 
  8253                        ;// using Bresenham's algorithm 
  8254                        ;void k_draw_circle(int xc, int yc, int r, int col
                    or) 
  8255                        ;{ 
  8256                        	.line	959
  8257                        	.line	960
  8258                        	GFX
  8259                        	xdef	~~k_draw_circle
  8260                        	func
  8261                        	.function	960
  8262                        ~~k_draw_circle:
  8263                        	longa	on
  8264                        	longi	on
  8265 06:1C27: 3B           	tsc
  8266 06:1C28: 38           	sec
  8267 06:1C29: E9 0E 00     	sbc	#L416
  8268 06:1C2C: 1B           	tcs
  8269 06:1C2D: 0B           	phd
  8270 06:1C2E: 5B           	tcd
  8271             00000004   xc_0	set	4
  8272             00000006   yc_0	set	6
  8273             00000008   r_0	set	8
  8274             0000000A   color_0	set	10
  8275                        	.block	960
  8276                        ;    int x = 0;
  8277                        ;	int y = r; 
  8278                        ;	
  8279                        ;    int d = 3 - 2 * r; 
  8280                        ;	
  8281                        ;    k_draw_segments(xc, yc, x, y, color); 
  8282             00000000   x_1	set	0
  8283             00000002   y_1	set	2
  8284             00000004   d_1	set	4
  8285                        	.sym	x,0,5,1,16
  8286                        	.sym	y,2,5,1,16
  8287                        	.sym	d,4,5,1,16
  8288                        	.sym	xc,4,5,6,16
  8289                        	.sym	yc,6,5,6,16
  8290                        	.sym	r,8,5,6,16
  8291                        	.sym	color,10,5,6,16
  8292 06:1C2F: 64 09        	stz	<L417+x_1
  Mon Sep 27 2021  9:39                                                Page 157


  8293 06:1C31: A5 16        	lda	<L416+r_0
  8294 06:1C33: 85 0B        	sta	<L417+y_1
  8295 06:1C35: A5 16        	lda	<L416+r_0
  8296 06:1C37: 0A           	asl	A
  8297 06:1C38: 85 01        	sta	<R0
  8298 06:1C3A: 38           	sec
  8299 06:1C3B: A9 03 00     	lda	#$3
  8300 06:1C3E: E5 01        	sbc	<R0
  8301 06:1C40: 85 0D        	sta	<L417+d_1
  8302                        	.line	966
  8303 06:1C42: D4 18        	pei	<L416+color_0
  8304 06:1C44: D4 0B        	pei	<L417+y_1
  8305 06:1C46: D4 09        	pei	<L417+x_1
  8306 06:1C48: D4 14        	pei	<L416+yc_0
  8307 06:1C4A: D4 12        	pei	<L416+xc_0
  8308 06:1C4C: 22 3F 18 06  	jsl	~~k_draw_segments
  8309                        ;	
  8310                        ;    while (y >= x) 
  8311                        	.line	968
  8312                        L10052:
  8313 06:1C50: 38           	sec
  8314 06:1C51: A5 0B        	lda	<L417+y_1
  8315 06:1C53: E5 09        	sbc	<L417+x_1
  8316 06:1C55: 70 03        	bvs	L419
  8317 06:1C57: 49 00 80     	eor	#$8000
  8318                        L419:
  8319 06:1C5A: 30 03        	bmi	L420
  8320 06:1C5C: 82 59 00     	brl	L10053
  8321                        L420:
  8322                        ;    { 
  8323                        	.line	969
  8324                        ;        // for each pixel we will 
  8325                        ;        // draw all eight pixels 
  8326                        ;          
  8327                        ;        x++; 
  8328                        	.line	973
  8329 06:1C5F: E6 09        	inc	<L417+x_1
  8330                        ;  
  8331                        ;        // check for decision parameter 
  8332                        ;        // and correspondingly  
  8333                        ;        // update d, x, y 
  8334                        ;        if (d > 0) 
  8335                        	.line	978
  8336                        ;        { 
  8337 06:1C61: 38           	sec
  8338 06:1C62: A9 00 00     	lda	#$0
  8339 06:1C65: E5 0D        	sbc	<L417+d_1
  8340 06:1C67: 70 03        	bvs	L421
  8341 06:1C69: 49 00 80     	eor	#$8000
  8342                        L421:
  8343 06:1C6C: 10 03        	bpl	L422
  8344 06:1C6E: 82 21 00     	brl	L10054
  8345                        L422:
  8346                        	.line	979
  8347                        ;            y--;  
  8348                        	.line	980
  8349 06:1C71: C6 0B        	dec	<L417+y_1
  8350                        ;            d = d + 4 * (x - y) + 10; 
  Mon Sep 27 2021  9:39                                                Page 158


  8351                        	.line	981
  8352 06:1C73: 38           	sec
  8353 06:1C74: A5 09        	lda	<L417+x_1
  8354 06:1C76: E5 0B        	sbc	<L417+y_1
  8355 06:1C78: 85 05        	sta	<R1
  8356 06:1C7A: A5 05        	lda	<R1
  8357 06:1C7C: 0A           	asl	A
  8358 06:1C7D: 0A           	asl	A
  8359 06:1C7E: 85 01        	sta	<R0
  8360 06:1C80: 18           	clc
  8361 06:1C81: A5 01        	lda	<R0
  8362 06:1C83: 65 0D        	adc	<L417+d_1
  8363 06:1C85: 85 05        	sta	<R1
  8364 06:1C87: 18           	clc
  8365 06:1C88: A9 0A 00     	lda	#$a
  8366 06:1C8B: 65 05        	adc	<R1
  8367 06:1C8D: 85 0D        	sta	<L417+d_1
  8368                        ;        } 
  8369                        	.line	982
  8370                        ;        else
  8371 06:1C8F: 82 15 00     	brl	L10055
  8372                        L10054:
  8373                        ;            d = d + 4 * x + 6; 
  8374                        	.line	984
  8375 06:1C92: A5 09        	lda	<L417+x_1
  8376 06:1C94: 0A           	asl	A
  8377 06:1C95: 0A           	asl	A
  8378 06:1C96: 85 01        	sta	<R0
  8379 06:1C98: 18           	clc
  8380 06:1C99: A5 01        	lda	<R0
  8381 06:1C9B: 65 0D        	adc	<L417+d_1
  8382 06:1C9D: 85 05        	sta	<R1
  8383 06:1C9F: 18           	clc
  8384 06:1CA0: A9 06 00     	lda	#$6
  8385 06:1CA3: 65 05        	adc	<R1
  8386 06:1CA5: 85 0D        	sta	<L417+d_1
  8387                        L10055:
  8388                        ;        k_draw_segments(xc, yc, x, y, color); 
  8389                        	.line	985
  8390 06:1CA7: D4 18        	pei	<L416+color_0
  8391 06:1CA9: D4 0B        	pei	<L417+y_1
  8392 06:1CAB: D4 09        	pei	<L417+x_1
  8393 06:1CAD: D4 14        	pei	<L416+yc_0
  8394 06:1CAF: D4 12        	pei	<L416+xc_0
  8395 06:1CB1: 22 3F 18 06  	jsl	~~k_draw_segments
  8396                        ;       
  8397                        ;    } 
  8398                        	.line	987
  8399 06:1CB5: 82 98 FF     	brl	L10052
  8400                        L10053:
  8401                        ;} 
  8402                        	.line	988
  8403                        L423:
  8404 06:1CB8: A5 10        	lda	<L416+2
  8405 06:1CBA: 85 18        	sta	<L416+2+8
  8406 06:1CBC: A5 0F        	lda	<L416+1
  8407 06:1CBE: 85 17        	sta	<L416+1+8
  8408 06:1CC0: 2B           	pld
  Mon Sep 27 2021  9:39                                                Page 159


  8409 06:1CC1: 3B           	tsc
  8410 06:1CC2: 18           	clc
  8411 06:1CC3: 69 16 00     	adc	#L416+8
  8412 06:1CC6: 1B           	tcs
  8413 06:1CC7: 6B           	rtl
  8414                        	.endblock	988
  8415             0000000E   L416	equ	14
  8416             00000009   L417	equ	9
  8417 06:1CC8:              	ends
  8418                        	efunc
  8419                        	.endfunc	988,9,14
  8420                        	.line	988
  8421                        ;
  8422                        ;void k_draw_filled_circle(int xc, int yc, int r, 
                    int color) 
  8423                        ;{ 
  8424                        	.line	990
  8425                        	.line	991
  8426                        	GFX
  8427                        	xdef	~~k_draw_filled_circle
  8428                        	func
  8429                        	.function	991
  8430                        ~~k_draw_filled_circle:
  8431                        	longa	on
  8432                        	longi	on
  8433 06:1CC8: 3B           	tsc
  8434 06:1CC9: 38           	sec
  8435 06:1CCA: E9 0E 00     	sbc	#L424
  8436 06:1CCD: 1B           	tcs
  8437 06:1CCE: 0B           	phd
  8438 06:1CCF: 5B           	tcd
  8439             00000004   xc_0	set	4
  8440             00000006   yc_0	set	6
  8441             00000008   r_0	set	8
  8442             0000000A   color_0	set	10
  8443                        	.block	991
  8444                        ;    int x = 0;
  8445                        ;	int y = r; 
  8446                        ;	
  8447                        ;    int d = 3 - 2 * r; 
  8448                        ;	
  8449                        ;    k_draw_filled_segments(xc, yc, x, y, color); 
  8450             00000000   x_1	set	0
  8451             00000002   y_1	set	2
  8452             00000004   d_1	set	4
  8453                        	.sym	x,0,5,1,16
  8454                        	.sym	y,2,5,1,16
  8455                        	.sym	d,4,5,1,16
  8456                        	.sym	xc,4,5,6,16
  8457                        	.sym	yc,6,5,6,16
  8458                        	.sym	r,8,5,6,16
  8459                        	.sym	color,10,5,6,16
  8460 06:1CD0: 64 09        	stz	<L425+x_1
  8461 06:1CD2: A5 16        	lda	<L424+r_0
  8462 06:1CD4: 85 0B        	sta	<L425+y_1
  8463 06:1CD6: A5 16        	lda	<L424+r_0
  8464 06:1CD8: 0A           	asl	A
  8465 06:1CD9: 85 01        	sta	<R0
  Mon Sep 27 2021  9:39                                                Page 160


  8466 06:1CDB: 38           	sec
  8467 06:1CDC: A9 03 00     	lda	#$3
  8468 06:1CDF: E5 01        	sbc	<R0
  8469 06:1CE1: 85 0D        	sta	<L425+d_1
  8470                        	.line	997
  8471 06:1CE3: D4 18        	pei	<L424+color_0
  8472 06:1CE5: D4 0B        	pei	<L425+y_1
  8473 06:1CE7: D4 09        	pei	<L425+x_1
  8474 06:1CE9: D4 14        	pei	<L424+yc_0
  8475 06:1CEB: D4 12        	pei	<L424+xc_0
  8476 06:1CED: 22 F7 19 06  	jsl	~~k_draw_filled_segments
  8477                        ;	
  8478                        ;    while (y >= x) 
  8479                        	.line	999
  8480                        L10056:
  8481 06:1CF1: 38           	sec
  8482 06:1CF2: A5 0B        	lda	<L425+y_1
  8483 06:1CF4: E5 09        	sbc	<L425+x_1
  8484 06:1CF6: 70 03        	bvs	L427
  8485 06:1CF8: 49 00 80     	eor	#$8000
  8486                        L427:
  8487 06:1CFB: 30 03        	bmi	L428
  8488 06:1CFD: 82 59 00     	brl	L10057
  8489                        L428:
  8490                        ;    { 
  8491                        	.line	1000
  8492                        ;        // for each pixel we will 
  8493                        ;        // draw all eight pixels 
  8494                        ;          
  8495                        ;        x++; 
  8496                        	.line	1004
  8497 06:1D00: E6 09        	inc	<L425+x_1
  8498                        ;  
  8499                        ;        // check for decision parameter 
  8500                        ;        // and correspondingly  
  8501                        ;        // update d, x, y 
  8502                        ;        if (d > 0) 
  8503                        	.line	1009
  8504                        ;        { 
  8505 06:1D02: 38           	sec
  8506 06:1D03: A9 00 00     	lda	#$0
  8507 06:1D06: E5 0D        	sbc	<L425+d_1
  8508 06:1D08: 70 03        	bvs	L429
  8509 06:1D0A: 49 00 80     	eor	#$8000
  8510                        L429:
  8511 06:1D0D: 10 03        	bpl	L430
  8512 06:1D0F: 82 21 00     	brl	L10058
  8513                        L430:
  8514                        	.line	1010
  8515                        ;            y--;  
  8516                        	.line	1011
  8517 06:1D12: C6 0B        	dec	<L425+y_1
  8518                        ;            d = d + 4 * (x - y) + 10; 
  8519                        	.line	1012
  8520 06:1D14: 38           	sec
  8521 06:1D15: A5 09        	lda	<L425+x_1
  8522 06:1D17: E5 0B        	sbc	<L425+y_1
  8523 06:1D19: 85 05        	sta	<R1
  Mon Sep 27 2021  9:39                                                Page 161


  8524 06:1D1B: A5 05        	lda	<R1
  8525 06:1D1D: 0A           	asl	A
  8526 06:1D1E: 0A           	asl	A
  8527 06:1D1F: 85 01        	sta	<R0
  8528 06:1D21: 18           	clc
  8529 06:1D22: A5 01        	lda	<R0
  8530 06:1D24: 65 0D        	adc	<L425+d_1
  8531 06:1D26: 85 05        	sta	<R1
  8532 06:1D28: 18           	clc
  8533 06:1D29: A9 0A 00     	lda	#$a
  8534 06:1D2C: 65 05        	adc	<R1
  8535 06:1D2E: 85 0D        	sta	<L425+d_1
  8536                        ;        } 
  8537                        	.line	1013
  8538                        ;        else
  8539 06:1D30: 82 15 00     	brl	L10059
  8540                        L10058:
  8541                        ;            d = d + 4 * x + 6; 
  8542                        	.line	1015
  8543 06:1D33: A5 09        	lda	<L425+x_1
  8544 06:1D35: 0A           	asl	A
  8545 06:1D36: 0A           	asl	A
  8546 06:1D37: 85 01        	sta	<R0
  8547 06:1D39: 18           	clc
  8548 06:1D3A: A5 01        	lda	<R0
  8549 06:1D3C: 65 0D        	adc	<L425+d_1
  8550 06:1D3E: 85 05        	sta	<R1
  8551 06:1D40: 18           	clc
  8552 06:1D41: A9 06 00     	lda	#$6
  8553 06:1D44: 65 05        	adc	<R1
  8554 06:1D46: 85 0D        	sta	<L425+d_1
  8555                        L10059:
  8556                        ;        k_draw_filled_segments(xc, yc, x, y, colo
                    r); 
  8557                        	.line	1016
  8558 06:1D48: D4 18        	pei	<L424+color_0
  8559 06:1D4A: D4 0B        	pei	<L425+y_1
  8560 06:1D4C: D4 09        	pei	<L425+x_1
  8561 06:1D4E: D4 14        	pei	<L424+yc_0
  8562 06:1D50: D4 12        	pei	<L424+xc_0
  8563 06:1D52: 22 F7 19 06  	jsl	~~k_draw_filled_segments
  8564                        ;       
  8565                        ;    } 
  8566                        	.line	1018
  8567 06:1D56: 82 98 FF     	brl	L10056
  8568                        L10057:
  8569                        ;} 
  8570                        	.line	1019
  8571                        L431:
  8572 06:1D59: A5 10        	lda	<L424+2
  8573 06:1D5B: 85 18        	sta	<L424+2+8
  8574 06:1D5D: A5 0F        	lda	<L424+1
  8575 06:1D5F: 85 17        	sta	<L424+1+8
  8576 06:1D61: 2B           	pld
  8577 06:1D62: 3B           	tsc
  8578 06:1D63: 18           	clc
  8579 06:1D64: 69 16 00     	adc	#L424+8
  8580 06:1D67: 1B           	tcs
  Mon Sep 27 2021  9:39                                                Page 162


  8581 06:1D68: 6B           	rtl
  8582                        	.endblock	1019
  8583             0000000E   L424	equ	14
  8584             00000009   L425	equ	9
  8585 06:1D69:              	ends
  8586                        	efunc
  8587                        	.endfunc	1019,9,14
  8588                        	.line	1019
  8589                        ;void k_draw_line(int x0, int y0, int x1, int y1,i
                    nt color)
  8590                        ;{
  8591                        	.line	1020
  8592                        	.line	1021
  8593                        	GFX
  8594                        	xdef	~~k_draw_line
  8595                        	func
  8596                        	.function	1021
  8597                        ~~k_draw_line:
  8598                        	longa	on
  8599                        	longi	on
  8600 06:1D69: 3B           	tsc
  8601 06:1D6A: 38           	sec
  8602 06:1D6B: E9 00 00     	sbc	#L432
  8603 06:1D6E: 1B           	tcs
  8604 06:1D6F: 0B           	phd
  8605 06:1D70: 5B           	tcd
  8606             00000004   x0_0	set	4
  8607             00000006   y0_0	set	6
  8608             00000008   x1_0	set	8
  8609             0000000A   y1_0	set	10
  8610             0000000C   color_0	set	12
  8611                        	.block	1021
  8612                        ;	k_draw_line_ex(x0, y0, x1, y1,color,BITMAP_FRONT
                    );
  8613                        	.sym	x0,4,5,6,16
  8614                        	.sym	y0,6,5,6,16
  8615                        	.sym	x1,8,5,6,16
  8616                        	.sym	y1,10,5,6,16
  8617                        	.sym	color,12,5,6,16
  8618                        	.line	1022
  8619 06:1D71: F4 00 00     	pea	#<$0
  8620 06:1D74: D4 0C        	pei	<L432+color_0
  8621 06:1D76: D4 0A        	pei	<L432+y1_0
  8622 06:1D78: D4 08        	pei	<L432+x1_0
  8623 06:1D7A: D4 06        	pei	<L432+y0_0
  8624 06:1D7C: D4 04        	pei	<L432+x0_0
  8625 06:1D7E: 22 92 1D 06  	jsl	~~k_draw_line_ex
  8626                        ;}
  8627                        	.line	1023
  8628                        L435:
  8629 06:1D82: A5 02        	lda	<L432+2
  8630 06:1D84: 85 0C        	sta	<L432+2+10
  8631 06:1D86: A5 01        	lda	<L432+1
  8632 06:1D88: 85 0B        	sta	<L432+1+10
  8633 06:1D8A: 2B           	pld
  8634 06:1D8B: 3B           	tsc
  8635 06:1D8C: 18           	clc
  8636 06:1D8D: 69 0A 00     	adc	#L432+10
  Mon Sep 27 2021  9:39                                                Page 163


  8637 06:1D90: 1B           	tcs
  8638 06:1D91: 6B           	rtl
  8639                        	.endblock	1023
  8640             00000000   L432	equ	0
  8641             00000001   L433	equ	1
  8642 06:1D92:              	ends
  8643                        	efunc
  8644                        	.endfunc	1023,1,0
  8645                        	.line	1023
  8646                        ;
  8647                        ;void k_draw_line_ex(int x0, int y0, int x1, int y
                    1,int color,UINT page)
  8648                        ;{
  8649                        	.line	1025
  8650                        	.line	1026
  8651                        	GFX
  8652                        	xdef	~~k_draw_line_ex
  8653                        	func
  8654                        	.function	1026
  8655                        ~~k_draw_line_ex:
  8656                        	longa	on
  8657                        	longi	on
  8658 06:1D92: 3B           	tsc
  8659 06:1D93: 38           	sec
  8660 06:1D94: E9 14 00     	sbc	#L436
  8661 06:1D97: 1B           	tcs
  8662 06:1D98: 0B           	phd
  8663 06:1D99: 5B           	tcd
  8664             00000004   x0_0	set	4
  8665             00000006   y0_0	set	6
  8666             00000008   x1_0	set	8
  8667             0000000A   y1_0	set	10
  8668             0000000C   color_0	set	12
  8669             0000000E   page_0	set	14
  8670                        	.block	1026
  8671                        ; 	int dx = abs(x1-x0), sx = x0<x1 ? 1 : -1
                    ;
  8672                        ;	int dy = abs(y1-y0), sy = y0<y1 ? 1 : -1; 
  8673                        ;	int err = (dx>dy ? dx : -dy)/2, e2;
  8674                        ;
  8675                        ;	for(;;)
  8676             00000000   dx_1	set	0
  8677             00000002   sx_1	set	2
  8678             00000004   dy_1	set	4
  8679             00000006   sy_1	set	6
  8680             00000008   err_1	set	8
  8681             0000000A   e2_1	set	10
  8682                        	.sym	dx,0,5,1,16
  8683                        	.sym	sx,2,5,1,16
  8684                        	.sym	dy,4,5,1,16
  8685                        	.sym	sy,6,5,1,16
  8686                        	.sym	err,8,5,1,16
  8687                        	.sym	e2,10,5,1,16
  8688                        	.sym	x0,4,5,6,16
  8689                        	.sym	y0,6,5,6,16
  8690                        	.sym	x1,8,5,6,16
  8691                        	.sym	y1,10,5,6,16
  8692                        	.sym	color,12,5,6,16
  Mon Sep 27 2021  9:39                                                Page 164


  8693                        	.sym	page,14,16,6,16
  8694 06:1D9A: 38           	sec
  8695 06:1D9B: A5 1C        	lda	<L436+x1_0
  8696 06:1D9D: E5 18        	sbc	<L436+x0_0
  8697 06:1D9F: 48           	pha
  8698 06:1DA0: 22 xx xx xx  	jsl	~~abs
  8699 06:1DA4: 85 09        	sta	<L437+dx_1
  8700 06:1DA6: 38           	sec
  8701 06:1DA7: A5 18        	lda	<L436+x0_0
  8702 06:1DA9: E5 1C        	sbc	<L436+x1_0
  8703 06:1DAB: 70 03        	bvs	L440
  8704 06:1DAD: 49 00 80     	eor	#$8000
  8705                        L440:
  8706 06:1DB0: 10 03        	bpl	L441
  8707 06:1DB2: 82 05 00     	brl	L439
  8708                        L441:
  8709 06:1DB5: A9 01 00     	lda	#$1
  8710 06:1DB8: 80 03        	bra	L442
  8711                        L439:
  8712 06:1DBA: A9 FF FF     	lda	#$ffff
  8713                        L442:
  8714 06:1DBD: 85 0B        	sta	<L437+sx_1
  8715 06:1DBF: 38           	sec
  8716 06:1DC0: A5 1E        	lda	<L436+y1_0
  8717 06:1DC2: E5 1A        	sbc	<L436+y0_0
  8718 06:1DC4: 48           	pha
  8719 06:1DC5: 22 xx xx xx  	jsl	~~abs
  8720 06:1DC9: 85 0D        	sta	<L437+dy_1
  8721 06:1DCB: 38           	sec
  8722 06:1DCC: A5 1A        	lda	<L436+y0_0
  8723 06:1DCE: E5 1E        	sbc	<L436+y1_0
  8724 06:1DD0: 70 03        	bvs	L444
  8725 06:1DD2: 49 00 80     	eor	#$8000
  8726                        L444:
  8727 06:1DD5: 10 03        	bpl	L445
  8728 06:1DD7: 82 05 00     	brl	L443
  8729                        L445:
  8730 06:1DDA: A9 01 00     	lda	#$1
  8731 06:1DDD: 80 03        	bra	L446
  8732                        L443:
  8733 06:1DDF: A9 FF FF     	lda	#$ffff
  8734                        L446:
  8735 06:1DE2: 85 0F        	sta	<L437+sy_1
  8736 06:1DE4: 38           	sec
  8737 06:1DE5: A5 0D        	lda	<L437+dy_1
  8738 06:1DE7: E5 09        	sbc	<L437+dx_1
  8739 06:1DE9: 70 03        	bvs	L448
  8740 06:1DEB: 49 00 80     	eor	#$8000
  8741                        L448:
  8742 06:1DEE: 10 03        	bpl	L449
  8743 06:1DF0: 82 04 00     	brl	L447
  8744                        L449:
  8745 06:1DF3: A5 09        	lda	<L437+dx_1
  8746 06:1DF5: 80 0A        	bra	L450
  8747                        L447:
  8748 06:1DF7: 38           	sec
  8749 06:1DF8: A9 00 00     	lda	#$0
  8750 06:1DFB: E5 0D        	sbc	<L437+dy_1
  Mon Sep 27 2021  9:39                                                Page 165


  8751 06:1DFD: 85 01        	sta	<R0
  8752 06:1DFF: A5 01        	lda	<R0
  8753                        L450:
  8754 06:1E01: 85 01        	sta	<R0
  8755 06:1E03: A5 01        	lda	<R0
  8756 06:1E05: A2 02 00     	ldx	#<$2
  8757                        	xref	~~~div
  8758 06:1E08: 22 xx xx xx  	jsl	~~~div
  8759 06:1E0C: 85 11        	sta	<L437+err_1
  8760                        	.line	1031
  8761                        L10062:
  8762                        ;	{
  8763                        	.line	1032
  8764                        ;		switch(page)
  8765                        	.line	1033
  8766 06:1E0E: A5 22        	lda	<L436+page_0
  8767 06:1E10: 82 7B 00     	brl	L10063
  8768                        ;		{
  8769                        	.line	1034
  8770                        ;		case BITMAP_BACK:
  8771                        	.line	1035
  8772                        L10065:
  8773                        ;			k_draw_pixel_back(x0,y0,color);
  8774                        	.line	1036
  8775 06:1E13: D4 20        	pei	<L436+color_0
  8776 06:1E15: A0 00 00     	ldy	#$0
  8777 06:1E18: A5 1A        	lda	<L436+y0_0
  8778 06:1E1A: 10 01        	bpl	L451
  8779 06:1E1C: 88           	dey
  8780                        L451:
  8781 06:1E1D: 85 01        	sta	<R0
  8782 06:1E1F: 84 03        	sty	<R0+2
  8783 06:1E21: D4 03        	pei	<R0+2
  8784 06:1E23: D4 01        	pei	<R0
  8785 06:1E25: A0 00 00     	ldy	#$0
  8786 06:1E28: A5 18        	lda	<L436+x0_0
  8787 06:1E2A: 10 01        	bpl	L452
  8788 06:1E2C: 88           	dey
  8789                        L452:
  8790 06:1E2D: 85 05        	sta	<R1
  8791 06:1E2F: 84 07        	sty	<R1+2
  8792 06:1E31: D4 07        	pei	<R1+2
  8793 06:1E33: D4 05        	pei	<R1
  8794 06:1E35: 22 5F 16 06  	jsl	~~k_draw_pixel_back
  8795                        ;			break;
  8796                        	.line	1037
  8797 06:1E39: 82 62 00     	brl	L10064
  8798                        ;		case 0x20:
  8799                        	.line	1038
  8800                        L10066:
  8801                        ;			k_draw_pixel_D0(x0,y0,color);
  8802                        	.line	1039
  8803 06:1E3C: D4 20        	pei	<L436+color_0
  8804 06:1E3E: A0 00 00     	ldy	#$0
  8805 06:1E41: A5 1A        	lda	<L436+y0_0
  8806 06:1E43: 10 01        	bpl	L453
  8807 06:1E45: 88           	dey
  8808                        L453:
  Mon Sep 27 2021  9:39                                                Page 166


  8809 06:1E46: 85 01        	sta	<R0
  8810 06:1E48: 84 03        	sty	<R0+2
  8811 06:1E4A: D4 03        	pei	<R0+2
  8812 06:1E4C: D4 01        	pei	<R0
  8813 06:1E4E: A0 00 00     	ldy	#$0
  8814 06:1E51: A5 18        	lda	<L436+x0_0
  8815 06:1E53: 10 01        	bpl	L454
  8816 06:1E55: 88           	dey
  8817                        L454:
  8818 06:1E56: 85 05        	sta	<R1
  8819 06:1E58: 84 07        	sty	<R1+2
  8820 06:1E5A: D4 07        	pei	<R1+2
  8821 06:1E5C: D4 05        	pei	<R1
  8822 06:1E5E: 22 6B 17 06  	jsl	~~k_draw_pixel_D0
  8823                        ;			break;
  8824                        	.line	1040
  8825 06:1E62: 82 39 00     	brl	L10064
  8826                        ;		default:
  8827                        	.line	1041
  8828                        L10067:
  8829                        ;			k_draw_pixel_front(x0,y0,color);
  8830                        	.line	1042
  8831 06:1E65: D4 20        	pei	<L436+color_0
  8832 06:1E67: A0 00 00     	ldy	#$0
  8833 06:1E6A: A5 1A        	lda	<L436+y0_0
  8834 06:1E6C: 10 01        	bpl	L455
  8835 06:1E6E: 88           	dey
  8836                        L455:
  8837 06:1E6F: 85 01        	sta	<R0
  8838 06:1E71: 84 03        	sty	<R0+2
  8839 06:1E73: D4 03        	pei	<R0+2
  8840 06:1E75: D4 01        	pei	<R0
  8841 06:1E77: A0 00 00     	ldy	#$0
  8842 06:1E7A: A5 18        	lda	<L436+x0_0
  8843 06:1E7C: 10 01        	bpl	L456
  8844 06:1E7E: 88           	dey
  8845                        L456:
  8846 06:1E7F: 85 05        	sta	<R1
  8847 06:1E81: 84 07        	sty	<R1+2
  8848 06:1E83: D4 07        	pei	<R1+2
  8849 06:1E85: D4 05        	pei	<R1
  8850 06:1E87: 22 53 15 06  	jsl	~~k_draw_pixel_front
  8851                        ;		}
  8852                        	.line	1043
  8853 06:1E8B: 82 10 00     	brl	L10064
  8854                        L10063:
  8855                        	xref	~~~swt
  8856 06:1E8E: 22 xx xx xx  	jsl	~~~swt
  8857 06:1E92: 02 00        	dw	2
  8858 06:1E94: 08 00        	dw	8
  8859 06:1E96: 12 1E        	dw	L10065-1
  8860 06:1E98: 20 00        	dw	32
  8861 06:1E9A: 3B 1E        	dw	L10066-1
  8862 06:1E9C: 64 1E        	dw	L10067-1
  8863                        L10064:
  8864                        ;
  8865                        ;		//k_draw_pixel_ex(x0,y0,color,page);
  8866                        ;
  Mon Sep 27 2021  9:39                                                Page 167


  8867                        ;		if (x0==x1 && y0==y1) break;
  8868                        	.line	1047
  8869 06:1E9E: A5 18        	lda	<L436+x0_0
  8870 06:1EA0: C5 1C        	cmp	<L436+x1_0
  8871 06:1EA2: F0 03        	beq	L458
  8872 06:1EA4: 82 09 00     	brl	L457
  8873                        L458:
  8874 06:1EA7: A5 1A        	lda	<L436+y0_0
  8875 06:1EA9: C5 1E        	cmp	<L436+y1_0
  8876 06:1EAB: D0 03        	bne	L459
  8877 06:1EAD: 82 49 00     	brl	L10061
  8878                        L459:
  8879                        L457:
  8880                        ;		e2 = err;
  8881                        	.line	1048
  8882 06:1EB0: A5 11        	lda	<L437+err_1
  8883 06:1EB2: 85 13        	sta	<L437+e2_1
  8884                        ;		if (e2 >-dx) { err -= dy; x0 += sx; }
  8885                        	.line	1049
  8886 06:1EB4: 38           	sec
  8887 06:1EB5: A9 00 00     	lda	#$0
  8888 06:1EB8: E5 09        	sbc	<L437+dx_1
  8889 06:1EBA: 85 01        	sta	<R0
  8890 06:1EBC: 38           	sec
  8891 06:1EBD: A5 01        	lda	<R0
  8892 06:1EBF: E5 13        	sbc	<L437+e2_1
  8893 06:1EC1: 70 03        	bvs	L460
  8894 06:1EC3: 49 00 80     	eor	#$8000
  8895                        L460:
  8896 06:1EC6: 10 03        	bpl	L461
  8897 06:1EC8: 82 0E 00     	brl	L10068
  8898                        L461:
  8899                        	.line	1049
  8900                        	.line	1049
  8901 06:1ECB: 38           	sec
  8902 06:1ECC: A5 11        	lda	<L437+err_1
  8903 06:1ECE: E5 0D        	sbc	<L437+dy_1
  8904 06:1ED0: 85 11        	sta	<L437+err_1
  8905                        	.line	1049
  8906 06:1ED2: 18           	clc
  8907 06:1ED3: A5 18        	lda	<L436+x0_0
  8908 06:1ED5: 65 0B        	adc	<L437+sx_1
  8909 06:1ED7: 85 18        	sta	<L436+x0_0
  8910                        	.line	1049
  8911                        ;		if (e2 < dy) { err += dx; y0 += sy; }
  8912                        L10068:
  8913                        	.line	1050
  8914 06:1ED9: 38           	sec
  8915 06:1EDA: A5 13        	lda	<L437+e2_1
  8916 06:1EDC: E5 0D        	sbc	<L437+dy_1
  8917 06:1EDE: 70 03        	bvs	L462
  8918 06:1EE0: 49 00 80     	eor	#$8000
  8919                        L462:
  8920 06:1EE3: 10 03        	bpl	L463
  8921 06:1EE5: 82 0E 00     	brl	L10069
  8922                        L463:
  8923                        	.line	1050
  8924                        	.line	1050
  Mon Sep 27 2021  9:39                                                Page 168


  8925 06:1EE8: 18           	clc
  8926 06:1EE9: A5 11        	lda	<L437+err_1
  8927 06:1EEB: 65 09        	adc	<L437+dx_1
  8928 06:1EED: 85 11        	sta	<L437+err_1
  8929                        	.line	1050
  8930 06:1EEF: 18           	clc
  8931 06:1EF0: A5 1A        	lda	<L436+y0_0
  8932 06:1EF2: 65 0F        	adc	<L437+sy_1
  8933 06:1EF4: 85 1A        	sta	<L436+y0_0
  8934                        	.line	1050
  8935                        ;	}
  8936                        L10069:
  8937                        	.line	1051
  8938                        L10060:
  8939 06:1EF6: 82 15 FF     	brl	L10062
  8940                        L10061:
  8941                        ;}
  8942                        	.line	1052
  8943                        L464:
  8944 06:1EF9: A5 16        	lda	<L436+2
  8945 06:1EFB: 85 22        	sta	<L436+2+12
  8946 06:1EFD: A5 15        	lda	<L436+1
  8947 06:1EFF: 85 21        	sta	<L436+1+12
  8948 06:1F01: 2B           	pld
  8949 06:1F02: 3B           	tsc
  8950 06:1F03: 18           	clc
  8951 06:1F04: 69 20 00     	adc	#L436+12
  8952 06:1F07: 1B           	tcs
  8953 06:1F08: 6B           	rtl
  8954                        	.endblock	1052
  8955             00000014   L436	equ	20
  8956             00000009   L437	equ	9
  8957 06:1F09:              	ends
  8958                        	efunc
  8959                        	.endfunc	1052,9,20
  8960                        	.line	1052
  8961                        ;
  8962                        ;void k_draw_line_with_pattern(int x0, int y0, int
                     x1, int y1,int color, UINT brush)
  8963                        ;{
  8964                        	.line	1054
  8965                        	.line	1055
  8966                        	GFX
  8967                        	xdef	~~k_draw_line_with_pattern
  8968                        	func
  8969                        	.function	1055
  8970                        ~~k_draw_line_with_pattern:
  8971                        	longa	on
  8972                        	longi	on
  8973 06:1F09: 3B           	tsc
  8974 06:1F0A: 38           	sec
  8975 06:1F0B: E9 14 00     	sbc	#L465
  8976 06:1F0E: 1B           	tcs
  8977 06:1F0F: 0B           	phd
  8978 06:1F10: 5B           	tcd
  8979             00000004   x0_0	set	4
  8980             00000006   y0_0	set	6
  8981             00000008   x1_0	set	8
  Mon Sep 27 2021  9:39                                                Page 169


  8982             0000000A   y1_0	set	10
  8983             0000000C   color_0	set	12
  8984             0000000E   brush_0	set	14
  8985                        	.block	1055
  8986                        ; 	int dx = abs(x1-x0), sx = x0<x1 ? 1 : -1
                    ;
  8987                        ;	int dy = abs(y1-y0), sy = y0<y1 ? 1 : -1;
  8988                        ;	int err = (dx>dy ? dx : -dy)/2, e2;
  8989                        ;
  8990                        ;	for(;;)
  8991             00000000   dx_1	set	0
  8992             00000002   sx_1	set	2
  8993             00000004   dy_1	set	4
  8994             00000006   sy_1	set	6
  8995             00000008   err_1	set	8
  8996             0000000A   e2_1	set	10
  8997                        	.sym	dx,0,5,1,16
  8998                        	.sym	sx,2,5,1,16
  8999                        	.sym	dy,4,5,1,16
  9000                        	.sym	sy,6,5,1,16
  9001                        	.sym	err,8,5,1,16
  9002                        	.sym	e2,10,5,1,16
  9003                        	.sym	x0,4,5,6,16
  9004                        	.sym	y0,6,5,6,16
  9005                        	.sym	x1,8,5,6,16
  9006                        	.sym	y1,10,5,6,16
  9007                        	.sym	color,12,5,6,16
  9008                        	.sym	brush,14,16,6,16
  9009 06:1F11: 38           	sec
  9010 06:1F12: A5 1C        	lda	<L465+x1_0
  9011 06:1F14: E5 18        	sbc	<L465+x0_0
  9012 06:1F16: 48           	pha
  9013 06:1F17: 22 xx xx xx  	jsl	~~abs
  9014 06:1F1B: 85 09        	sta	<L466+dx_1
  9015 06:1F1D: 38           	sec
  9016 06:1F1E: A5 18        	lda	<L465+x0_0
  9017 06:1F20: E5 1C        	sbc	<L465+x1_0
  9018 06:1F22: 70 03        	bvs	L469
  9019 06:1F24: 49 00 80     	eor	#$8000
  9020                        L469:
  9021 06:1F27: 10 03        	bpl	L470
  9022 06:1F29: 82 05 00     	brl	L468
  9023                        L470:
  9024 06:1F2C: A9 01 00     	lda	#$1
  9025 06:1F2F: 80 03        	bra	L471
  9026                        L468:
  9027 06:1F31: A9 FF FF     	lda	#$ffff
  9028                        L471:
  9029 06:1F34: 85 0B        	sta	<L466+sx_1
  9030 06:1F36: 38           	sec
  9031 06:1F37: A5 1E        	lda	<L465+y1_0
  9032 06:1F39: E5 1A        	sbc	<L465+y0_0
  9033 06:1F3B: 48           	pha
  9034 06:1F3C: 22 xx xx xx  	jsl	~~abs
  9035 06:1F40: 85 0D        	sta	<L466+dy_1
  9036 06:1F42: 38           	sec
  9037 06:1F43: A5 1A        	lda	<L465+y0_0
  9038 06:1F45: E5 1E        	sbc	<L465+y1_0
  Mon Sep 27 2021  9:39                                                Page 170


  9039 06:1F47: 70 03        	bvs	L473
  9040 06:1F49: 49 00 80     	eor	#$8000
  9041                        L473:
  9042 06:1F4C: 10 03        	bpl	L474
  9043 06:1F4E: 82 05 00     	brl	L472
  9044                        L474:
  9045 06:1F51: A9 01 00     	lda	#$1
  9046 06:1F54: 80 03        	bra	L475
  9047                        L472:
  9048 06:1F56: A9 FF FF     	lda	#$ffff
  9049                        L475:
  9050 06:1F59: 85 0F        	sta	<L466+sy_1
  9051 06:1F5B: 38           	sec
  9052 06:1F5C: A5 0D        	lda	<L466+dy_1
  9053 06:1F5E: E5 09        	sbc	<L466+dx_1
  9054 06:1F60: 70 03        	bvs	L477
  9055 06:1F62: 49 00 80     	eor	#$8000
  9056                        L477:
  9057 06:1F65: 10 03        	bpl	L478
  9058 06:1F67: 82 04 00     	brl	L476
  9059                        L478:
  9060 06:1F6A: A5 09        	lda	<L466+dx_1
  9061 06:1F6C: 80 0A        	bra	L479
  9062                        L476:
  9063 06:1F6E: 38           	sec
  9064 06:1F6F: A9 00 00     	lda	#$0
  9065 06:1F72: E5 0D        	sbc	<L466+dy_1
  9066 06:1F74: 85 01        	sta	<R0
  9067 06:1F76: A5 01        	lda	<R0
  9068                        L479:
  9069 06:1F78: 85 01        	sta	<R0
  9070 06:1F7A: A5 01        	lda	<R0
  9071 06:1F7C: A2 02 00     	ldx	#<$2
  9072                        	xref	~~~div
  9073 06:1F7F: 22 xx xx xx  	jsl	~~~div
  9074 06:1F83: 85 11        	sta	<L466+err_1
  9075                        	.line	1060
  9076                        L10072:
  9077                        ;	{
  9078                        	.line	1061
  9079                        ;		//if()
  9080                        ;		k_draw_pixel(x0,y0,color);
  9081                        	.line	1063
  9082 06:1F85: D4 20        	pei	<L465+color_0
  9083 06:1F87: A0 00 00     	ldy	#$0
  9084 06:1F8A: A5 1A        	lda	<L465+y0_0
  9085 06:1F8C: 10 01        	bpl	L480
  9086 06:1F8E: 88           	dey
  9087                        L480:
  9088 06:1F8F: 85 01        	sta	<R0
  9089 06:1F91: 84 03        	sty	<R0+2
  9090 06:1F93: D4 03        	pei	<R0+2
  9091 06:1F95: D4 01        	pei	<R0
  9092 06:1F97: A0 00 00     	ldy	#$0
  9093 06:1F9A: A5 18        	lda	<L465+x0_0
  9094 06:1F9C: 10 01        	bpl	L481
  9095 06:1F9E: 88           	dey
  9096                        L481:
  Mon Sep 27 2021  9:39                                                Page 171


  9097 06:1F9F: 85 05        	sta	<R1
  9098 06:1FA1: 84 07        	sty	<R1+2
  9099 06:1FA3: D4 07        	pei	<R1+2
  9100 06:1FA5: D4 05        	pei	<R1
  9101 06:1FA7: 22 CD 14 06  	jsl	~~k_draw_pixel
  9102                        ;		if (x0==x1 && y0==y1) break;
  9103                        	.line	1064
  9104 06:1FAB: A5 18        	lda	<L465+x0_0
  9105 06:1FAD: C5 1C        	cmp	<L465+x1_0
  9106 06:1FAF: F0 03        	beq	L483
  9107 06:1FB1: 82 09 00     	brl	L482
  9108                        L483:
  9109 06:1FB4: A5 1A        	lda	<L465+y0_0
  9110 06:1FB6: C5 1E        	cmp	<L465+y1_0
  9111 06:1FB8: D0 03        	bne	L484
  9112 06:1FBA: 82 49 00     	brl	L10071
  9113                        L484:
  9114                        L482:
  9115                        ;		e2 = err;
  9116                        	.line	1065
  9117 06:1FBD: A5 11        	lda	<L466+err_1
  9118 06:1FBF: 85 13        	sta	<L466+e2_1
  9119                        ;		if (e2 >-dx) { err -= dy; x0 += sx; }
  9120                        	.line	1066
  9121 06:1FC1: 38           	sec
  9122 06:1FC2: A9 00 00     	lda	#$0
  9123 06:1FC5: E5 09        	sbc	<L466+dx_1
  9124 06:1FC7: 85 01        	sta	<R0
  9125 06:1FC9: 38           	sec
  9126 06:1FCA: A5 01        	lda	<R0
  9127 06:1FCC: E5 13        	sbc	<L466+e2_1
  9128 06:1FCE: 70 03        	bvs	L485
  9129 06:1FD0: 49 00 80     	eor	#$8000
  9130                        L485:
  9131 06:1FD3: 10 03        	bpl	L486
  9132 06:1FD5: 82 0E 00     	brl	L10073
  9133                        L486:
  9134                        	.line	1066
  9135                        	.line	1066
  9136 06:1FD8: 38           	sec
  9137 06:1FD9: A5 11        	lda	<L466+err_1
  9138 06:1FDB: E5 0D        	sbc	<L466+dy_1
  9139 06:1FDD: 85 11        	sta	<L466+err_1
  9140                        	.line	1066
  9141 06:1FDF: 18           	clc
  9142 06:1FE0: A5 18        	lda	<L465+x0_0
  9143 06:1FE2: 65 0B        	adc	<L466+sx_1
  9144 06:1FE4: 85 18        	sta	<L465+x0_0
  9145                        	.line	1066
  9146                        ;		if (e2 < dy) { err += dx; y0 += sy; }
  9147                        L10073:
  9148                        	.line	1067
  9149 06:1FE6: 38           	sec
  9150 06:1FE7: A5 13        	lda	<L466+e2_1
  9151 06:1FE9: E5 0D        	sbc	<L466+dy_1
  9152 06:1FEB: 70 03        	bvs	L487
  9153 06:1FED: 49 00 80     	eor	#$8000
  9154                        L487:
  Mon Sep 27 2021  9:39                                                Page 172


  9155 06:1FF0: 10 03        	bpl	L488
  9156 06:1FF2: 82 0E 00     	brl	L10074
  9157                        L488:
  9158                        	.line	1067
  9159                        	.line	1067
  9160 06:1FF5: 18           	clc
  9161 06:1FF6: A5 11        	lda	<L466+err_1
  9162 06:1FF8: 65 09        	adc	<L466+dx_1
  9163 06:1FFA: 85 11        	sta	<L466+err_1
  9164                        	.line	1067
  9165 06:1FFC: 18           	clc
  9166 06:1FFD: A5 1A        	lda	<L465+y0_0
  9167 06:1FFF: 65 0F        	adc	<L466+sy_1
  9168 06:2001: 85 1A        	sta	<L465+y0_0
  9169                        	.line	1067
  9170                        ;	}
  9171                        L10074:
  9172                        	.line	1068
  9173                        L10070:
  9174 06:2003: 82 7F FF     	brl	L10072
  9175                        L10071:
  9176                        ;}
  9177                        	.line	1069
  9178                        L489:
  9179 06:2006: A5 16        	lda	<L465+2
  9180 06:2008: 85 22        	sta	<L465+2+12
  9181 06:200A: A5 15        	lda	<L465+1
  9182 06:200C: 85 21        	sta	<L465+1+12
  9183 06:200E: 2B           	pld
  9184 06:200F: 3B           	tsc
  9185 06:2010: 18           	clc
  9186 06:2011: 69 20 00     	adc	#L465+12
  9187 06:2014: 1B           	tcs
  9188 06:2015: 6B           	rtl
  9189                        	.endblock	1069
  9190             00000014   L465	equ	20
  9191             00000009   L466	equ	9
  9192 06:2016:              	ends
  9193                        	efunc
  9194                        	.endfunc	1069,9,20
  9195                        	.line	1069
  9196                        ;
  9197                        ;void k_draw_rect_slow(int left,int top, int right
                    , int bottom, char color)
  9198                        ;{
  9199                        	.line	1071
  9200                        	.line	1072
  9201                        	GFX
  9202                        	xdef	~~k_draw_rect_slow
  9203                        	func
  9204                        	.function	1072
  9205                        ~~k_draw_rect_slow:
  9206                        	longa	on
  9207                        	longi	on
  9208 06:2016: 3B           	tsc
  9209 06:2017: 38           	sec
  9210 06:2018: E9 00 00     	sbc	#L490
  9211 06:201B: 1B           	tcs
  Mon Sep 27 2021  9:39                                                Page 173


  9212 06:201C: 0B           	phd
  9213 06:201D: 5B           	tcd
  9214             00000004   left_0	set	4
  9215             00000006   top_0	set	6
  9216             00000008   right_0	set	8
  9217             0000000A   bottom_0	set	10
  9218             0000000C   color_0	set	12
  9219                        	.block	1072
  9220                        ;	k_draw_line(left,top,right,top,color);
  9221                        	.sym	left,4,5,6,16
  9222                        	.sym	top,6,5,6,16
  9223                        	.sym	right,8,5,6,16
  9224                        	.sym	bottom,10,5,6,16
  9225                        	.sym	color,12,14,6,8
  9226                        	.line	1073
  9227 06:201E: A5 0C        	lda	<L490+color_0
  9228 06:2020: 29 FF 00     	and	#$ff
  9229 06:2023: 48           	pha
  9230 06:2024: D4 06        	pei	<L490+top_0
  9231 06:2026: D4 08        	pei	<L490+right_0
  9232 06:2028: D4 06        	pei	<L490+top_0
  9233 06:202A: D4 04        	pei	<L490+left_0
  9234 06:202C: 22 69 1D 06  	jsl	~~k_draw_line
  9235                        ;	k_draw_line(left,top,left,bottom,color);
  9236                        	.line	1074
  9237 06:2030: A5 0C        	lda	<L490+color_0
  9238 06:2032: 29 FF 00     	and	#$ff
  9239 06:2035: 48           	pha
  9240 06:2036: D4 0A        	pei	<L490+bottom_0
  9241 06:2038: D4 04        	pei	<L490+left_0
  9242 06:203A: D4 06        	pei	<L490+top_0
  9243 06:203C: D4 04        	pei	<L490+left_0
  9244 06:203E: 22 69 1D 06  	jsl	~~k_draw_line
  9245                        ;	k_draw_line(right,top,right,bottom,color);
  9246                        	.line	1075
  9247 06:2042: A5 0C        	lda	<L490+color_0
  9248 06:2044: 29 FF 00     	and	#$ff
  9249 06:2047: 48           	pha
  9250 06:2048: D4 0A        	pei	<L490+bottom_0
  9251 06:204A: D4 08        	pei	<L490+right_0
  9252 06:204C: D4 06        	pei	<L490+top_0
  9253 06:204E: D4 08        	pei	<L490+right_0
  9254 06:2050: 22 69 1D 06  	jsl	~~k_draw_line
  9255                        ;	k_draw_line(left,bottom,right,bottom,color);
  9256                        	.line	1076
  9257 06:2054: A5 0C        	lda	<L490+color_0
  9258 06:2056: 29 FF 00     	and	#$ff
  9259 06:2059: 48           	pha
  9260 06:205A: D4 0A        	pei	<L490+bottom_0
  9261 06:205C: D4 08        	pei	<L490+right_0
  9262 06:205E: D4 0A        	pei	<L490+bottom_0
  9263 06:2060: D4 04        	pei	<L490+left_0
  9264 06:2062: 22 69 1D 06  	jsl	~~k_draw_line
  9265                        ;}
  9266                        	.line	1077
  9267                        L493:
  9268 06:2066: A5 02        	lda	<L490+2
  9269 06:2068: 85 0C        	sta	<L490+2+10
  Mon Sep 27 2021  9:39                                                Page 174


  9270 06:206A: A5 01        	lda	<L490+1
  9271 06:206C: 85 0B        	sta	<L490+1+10
  9272 06:206E: 2B           	pld
  9273 06:206F: 3B           	tsc
  9274 06:2070: 18           	clc
  9275 06:2071: 69 0A 00     	adc	#L490+10
  9276 06:2074: 1B           	tcs
  9277 06:2075: 6B           	rtl
  9278                        	.endblock	1077
  9279             00000000   L490	equ	0
  9280             00000001   L491	equ	1
  9281 06:2076:              	ends
  9282                        	efunc
  9283                        	.endfunc	1077,1,0
  9284                        	.line	1077
  9285                        ;
  9286                        ;void k_draw_rect(int left,int top, int right, int
                     bottom, char color,UINT brush,UINT page)
  9287                        ;{
  9288                        	.line	1079
  9289                        	.line	1080
  9290                        	GFX
  9291                        	xdef	~~k_draw_rect
  9292                        	func
  9293                        	.function	1080
  9294                        ~~k_draw_rect:
  9295                        	longa	on
  9296                        	longi	on
  9297 06:2076: 3B           	tsc
  9298 06:2077: 38           	sec
  9299 06:2078: E9 00 00     	sbc	#L494
  9300 06:207B: 1B           	tcs
  9301 06:207C: 0B           	phd
  9302 06:207D: 5B           	tcd
  9303             00000004   left_0	set	4
  9304             00000006   top_0	set	6
  9305             00000008   right_0	set	8
  9306             0000000A   bottom_0	set	10
  9307             0000000C   color_0	set	12
  9308             0000000E   brush_0	set	14
  9309             00000010   page_0	set	16
  9310                        	.block	1080
  9311                        ;	k_draw_line_ex(left,top,right,top,color,page);
  9312                        	.sym	left,4,5,6,16
  9313                        	.sym	top,6,5,6,16
  9314                        	.sym	right,8,5,6,16
  9315                        	.sym	bottom,10,5,6,16
  9316                        	.sym	color,12,14,6,8
  9317                        	.sym	brush,14,16,6,16
  9318                        	.sym	page,16,16,6,16
  9319                        	.line	1081
  9320 06:207E: D4 10        	pei	<L494+page_0
  9321 06:2080: A5 0C        	lda	<L494+color_0
  9322 06:2082: 29 FF 00     	and	#$ff
  9323 06:2085: 48           	pha
  9324 06:2086: D4 06        	pei	<L494+top_0
  9325 06:2088: D4 08        	pei	<L494+right_0
  9326 06:208A: D4 06        	pei	<L494+top_0
  Mon Sep 27 2021  9:39                                                Page 175


  9327 06:208C: D4 04        	pei	<L494+left_0
  9328 06:208E: 22 92 1D 06  	jsl	~~k_draw_line_ex
  9329                        ;	k_draw_line_ex(left,top,left,bottom,color,page);
  9330                        	.line	1082
  9331 06:2092: D4 10        	pei	<L494+page_0
  9332 06:2094: A5 0C        	lda	<L494+color_0
  9333 06:2096: 29 FF 00     	and	#$ff
  9334 06:2099: 48           	pha
  9335 06:209A: D4 0A        	pei	<L494+bottom_0
  9336 06:209C: D4 04        	pei	<L494+left_0
  9337 06:209E: D4 06        	pei	<L494+top_0
  9338 06:20A0: D4 04        	pei	<L494+left_0
  9339 06:20A2: 22 92 1D 06  	jsl	~~k_draw_line_ex
  9340                        ;	k_draw_line_ex(right,top,right,bottom,color,page
                    );
  9341                        	.line	1083
  9342 06:20A6: D4 10        	pei	<L494+page_0
  9343 06:20A8: A5 0C        	lda	<L494+color_0
  9344 06:20AA: 29 FF 00     	and	#$ff
  9345 06:20AD: 48           	pha
  9346 06:20AE: D4 0A        	pei	<L494+bottom_0
  9347 06:20B0: D4 08        	pei	<L494+right_0
  9348 06:20B2: D4 06        	pei	<L494+top_0
  9349 06:20B4: D4 08        	pei	<L494+right_0
  9350 06:20B6: 22 92 1D 06  	jsl	~~k_draw_line_ex
  9351                        ;	k_draw_line_ex(left,bottom,right,bottom,color,pa
                    ge);
  9352                        	.line	1084
  9353 06:20BA: D4 10        	pei	<L494+page_0
  9354 06:20BC: A5 0C        	lda	<L494+color_0
  9355 06:20BE: 29 FF 00     	and	#$ff
  9356 06:20C1: 48           	pha
  9357 06:20C2: D4 0A        	pei	<L494+bottom_0
  9358 06:20C4: D4 08        	pei	<L494+right_0
  9359 06:20C6: D4 0A        	pei	<L494+bottom_0
  9360 06:20C8: D4 04        	pei	<L494+left_0
  9361 06:20CA: 22 92 1D 06  	jsl	~~k_draw_line_ex
  9362                        ;}
  9363                        	.line	1085
  9364                        L497:
  9365 06:20CE: A5 02        	lda	<L494+2
  9366 06:20D0: 85 10        	sta	<L494+2+14
  9367 06:20D2: A5 01        	lda	<L494+1
  9368 06:20D4: 85 0F        	sta	<L494+1+14
  9369 06:20D6: 2B           	pld
  9370 06:20D7: 3B           	tsc
  9371 06:20D8: 18           	clc
  9372 06:20D9: 69 0E 00     	adc	#L494+14
  9373 06:20DC: 1B           	tcs
  9374 06:20DD: 6B           	rtl
  9375                        	.endblock	1085
  9376             00000000   L494	equ	0
  9377             00000001   L495	equ	1
  9378 06:20DE:              	ends
  9379                        	efunc
  9380                        	.endfunc	1085,1,0
  9381                        	.line	1085
  9382                        ;
  Mon Sep 27 2021  9:39                                                Page 176


  9383                        ;void k_draw_rect_ex(PRECT prect, char color,UINT 
                    brush,UINT page)
  9384                        ;{
  9385                        	.line	1087
  9386                        	.line	1088
  9387                        	GFX
  9388                        	xdef	~~k_draw_rect_ex
  9389                        	func
  9390                        	.function	1088
  9391                        ~~k_draw_rect_ex:
  9392                        	longa	on
  9393                        	longi	on
  9394 06:20DE: 3B           	tsc
  9395 06:20DF: 38           	sec
  9396 06:20E0: E9 0C 00     	sbc	#L498
  9397 06:20E3: 1B           	tcs
  9398 06:20E4: 0B           	phd
  9399 06:20E5: 5B           	tcd
  9400             00000004   prect_0	set	4
  9401             00000008   color_0	set	8
  9402             0000000A   brush_0	set	10
  9403             0000000C   page_0	set	12
  9404                        	.block	1088
  9405                        ;
  9406                        ;	int left   = prect->x ;
  9407                        ;	int top    = prect->y;
  9408                        ;	int right  = prect->x + prect->width  - 1;
  9409                        ;	int bottom = prect->y + prect->height - 1;
  9410                        ;
  9411                        ;	k_draw_rect(left,top, right, bottom, color,brush
                    ,page);
  9412             00000000   left_1	set	0
  9413             00000002   top_1	set	2
  9414             00000004   right_1	set	4
  9415             00000006   bottom_1	set	6
  9416                        	.sym	left,0,5,1,16
  9417                        	.sym	top,2,5,1,16
  9418                        	.sym	right,4,5,1,16
  9419                        	.sym	bottom,6,5,1,16
  9420                        	.sym	prect,4,138,6,32,26
  9421                        	.sym	color,8,14,6,8
  9422                        	.sym	brush,10,16,6,16
  9423                        	.sym	page,12,16,6,16
  9424 06:20E6: A7 10        	lda	[<L498+prect_0]
  9425 06:20E8: 85 05        	sta	<L499+left_1
  9426 06:20EA: A0 02 00     	ldy	#$2
  9427 06:20ED: B7 10        	lda	[<L498+prect_0],Y
  9428 06:20EF: 85 07        	sta	<L499+top_1
  9429 06:20F1: 18           	clc
  9430 06:20F2: A7 10        	lda	[<L498+prect_0]
  9431 06:20F4: A0 08 00     	ldy	#$8
  9432 06:20F7: 77 10        	adc	[<L498+prect_0],Y
  9433 06:20F9: 85 01        	sta	<R0
  9434 06:20FB: 18           	clc
  9435 06:20FC: A9 FF FF     	lda	#$ffff
  9436 06:20FF: 65 01        	adc	<R0
  9437 06:2101: 85 09        	sta	<L499+right_1
  9438 06:2103: 18           	clc
  Mon Sep 27 2021  9:39                                                Page 177


  9439 06:2104: A0 02 00     	ldy	#$2
  9440 06:2107: B7 10        	lda	[<L498+prect_0],Y
  9441 06:2109: A0 0A 00     	ldy	#$a
  9442 06:210C: 77 10        	adc	[<L498+prect_0],Y
  9443 06:210E: 85 01        	sta	<R0
  9444 06:2110: 18           	clc
  9445 06:2111: A9 FF FF     	lda	#$ffff
  9446 06:2114: 65 01        	adc	<R0
  9447 06:2116: 85 0B        	sta	<L499+bottom_1
  9448                        	.line	1095
  9449 06:2118: D4 18        	pei	<L498+page_0
  9450 06:211A: D4 16        	pei	<L498+brush_0
  9451 06:211C: D4 14        	pei	<L498+color_0
  9452 06:211E: D4 0B        	pei	<L499+bottom_1
  9453 06:2120: D4 09        	pei	<L499+right_1
  9454 06:2122: D4 07        	pei	<L499+top_1
  9455 06:2124: D4 05        	pei	<L499+left_1
  9456 06:2126: 22 76 20 06  	jsl	~~k_draw_rect
  9457                        ;}
  9458                        	.line	1096
  9459                        L501:
  9460 06:212A: A5 0E        	lda	<L498+2
  9461 06:212C: 85 18        	sta	<L498+2+10
  9462 06:212E: A5 0D        	lda	<L498+1
  9463 06:2130: 85 17        	sta	<L498+1+10
  9464 06:2132: 2B           	pld
  9465 06:2133: 3B           	tsc
  9466 06:2134: 18           	clc
  9467 06:2135: 69 16 00     	adc	#L498+10
  9468 06:2138: 1B           	tcs
  9469 06:2139: 6B           	rtl
  9470                        	.endblock	1096
  9471             0000000C   L498	equ	12
  9472             00000005   L499	equ	5
  9473 06:213A:              	ends
  9474                        	efunc
  9475                        	.endfunc	1096,5,12
  9476                        	.line	1096
  9477                        ;
  9478                        ;
  9479                        ;void k_draw_filled_rect_slow(int left,int top, in
                    t right, int bottom, char color)
  9480                        ;{
  9481                        	.line	1099
  9482                        	.line	1100
  9483                        	GFX
  9484                        	xdef	~~k_draw_filled_rect_slow
  9485                        	func
  9486                        	.function	1100
  9487                        ~~k_draw_filled_rect_slow:
  9488                        	longa	on
  9489                        	longi	on
  9490 06:213A: 3B           	tsc
  9491 06:213B: 38           	sec
  9492 06:213C: E9 00 00     	sbc	#L502
  9493 06:213F: 1B           	tcs
  9494 06:2140: 0B           	phd
  9495 06:2141: 5B           	tcd
  Mon Sep 27 2021  9:39                                                Page 178


  9496             00000004   left_0	set	4
  9497             00000006   top_0	set	6
  9498             00000008   right_0	set	8
  9499             0000000A   bottom_0	set	10
  9500             0000000C   color_0	set	12
  9501                        	.block	1100
  9502                        ;	
  9503                        ;}
  9504                        	.sym	left,4,5,6,16
  9505                        	.sym	top,6,5,6,16
  9506                        	.sym	right,8,5,6,16
  9507                        	.sym	bottom,10,5,6,16
  9508                        	.sym	color,12,14,6,8
  9509                        	.line	1102
  9510                        L505:
  9511 06:2142: A5 02        	lda	<L502+2
  9512 06:2144: 85 0C        	sta	<L502+2+10
  9513 06:2146: A5 01        	lda	<L502+1
  9514 06:2148: 85 0B        	sta	<L502+1+10
  9515 06:214A: 2B           	pld
  9516 06:214B: 3B           	tsc
  9517 06:214C: 18           	clc
  9518 06:214D: 69 0A 00     	adc	#L502+10
  9519 06:2150: 1B           	tcs
  9520 06:2151: 6B           	rtl
  9521                        	.endblock	1102
  9522             00000000   L502	equ	0
  9523             00000001   L503	equ	1
  9524 06:2152:              	ends
  9525                        	efunc
  9526                        	.endfunc	1102,1,0
  9527                        	.line	1102
  9528                        ;
  9529                        ;
  9530                        ;int k_put_draw_text(int col,int row,char FAR *tex
                    t,char color,char bcolor)
  9531                        ;{
  9532                        	.line	1105
  9533                        	.line	1106
  9534                        	GFX
  9535                        	xdef	~~k_put_draw_text
  9536                        	func
  9537                        	.function	1106
  9538                        ~~k_put_draw_text:
  9539                        	longa	on
  9540                        	longi	on
  9541 06:2152: 3B           	tsc
  9542 06:2153: 38           	sec
  9543 06:2154: E9 00 00     	sbc	#L506
  9544 06:2157: 1B           	tcs
  9545 06:2158: 0B           	phd
  9546 06:2159: 5B           	tcd
  9547             00000004   col_0	set	4
  9548             00000006   row_0	set	6
  9549             00000008   text_0	set	8
  9550             0000000C   color_0	set	12
  9551             0000000E   bcolor_0	set	14
  9552                        	.block	1106
  Mon Sep 27 2021  9:39                                                Page 179


  9553                        ;	return k_draw_text(text, row, col, color);
  9554                        	.sym	col,4,5,6,16
  9555                        	.sym	row,6,5,6,16
  9556                        	.sym	text,8,142,6,32
  9557                        	.sym	color,12,14,6,8
  9558                        	.sym	bcolor,14,14,6,8
  9559                        	.line	1107
  9560 06:215A: D4 0C        	pei	<L506+color_0
  9561 06:215C: D4 04        	pei	<L506+col_0
  9562 06:215E: D4 06        	pei	<L506+row_0
  9563 06:2160: D4 0A        	pei	<L506+text_0+2
  9564 06:2162: D4 08        	pei	<L506+text_0
  9565 06:2164: 22 7A 21 06  	jsl	~~k_draw_text
  9566                        L509:
  9567 06:2168: A8           	tay
  9568 06:2169: A5 02        	lda	<L506+2
  9569 06:216B: 85 0E        	sta	<L506+2+12
  9570 06:216D: A5 01        	lda	<L506+1
  9571 06:216F: 85 0D        	sta	<L506+1+12
  9572 06:2171: 2B           	pld
  9573 06:2172: 3B           	tsc
  9574 06:2173: 18           	clc
  9575 06:2174: 69 0C 00     	adc	#L506+12
  9576 06:2177: 1B           	tcs
  9577 06:2178: 98           	tya
  9578 06:2179: 6B           	rtl
  9579                        ;}
  9580                        	.line	1108
  9581                        	.endblock	1108
  9582             00000000   L506	equ	0
  9583             00000001   L507	equ	1
  9584 06:217A:              	ends
  9585                        	efunc
  9586                        	.endfunc	1108,1,0
  9587                        	.line	1108
  9588                        ;
  9589                        ;int k_draw_text(char FAR *text,int row,int col,ch
                    ar color)
  9590                        ;{
  9591                        	.line	1110
  9592                        	.line	1111
  9593                        	GFX
  9594                        	xdef	~~k_draw_text
  9595                        	func
  9596                        	.function	1111
  9597                        ~~k_draw_text:
  9598                        	longa	on
  9599                        	longi	on
  9600 06:217A: 3B           	tsc
  9601 06:217B: 38           	sec
  9602 06:217C: E9 04 00     	sbc	#L510
  9603 06:217F: 1B           	tcs
  9604 06:2180: 0B           	phd
  9605 06:2181: 5B           	tcd
  9606             00000004   text_0	set	4
  9607             00000008   row_0	set	8
  9608             0000000A   col_0	set	10
  9609             0000000C   color_0	set	12
  Mon Sep 27 2021  9:39                                                Page 180


  9610                        	.block	1111
  9611                        ;	char FAR * ptr = (text);
  9612                        ;	while(*ptr)
  9613             00000000   ptr_1	set	0
  9614                        	.sym	ptr,0,142,1,32
  9615                        	.sym	text,4,142,6,32
  9616                        	.sym	row,8,5,6,16
  9617                        	.sym	col,10,5,6,16
  9618                        	.sym	color,12,14,6,8
  9619 06:2182: A5 08        	lda	<L510+text_0
  9620 06:2184: 85 01        	sta	<L511+ptr_1
  9621 06:2186: A5 0A        	lda	<L510+text_0+2
  9622 06:2188: 85 03        	sta	<L511+ptr_1+2
  9623                        	.line	1113
  9624                        L10075:
  9625 06:218A: A7 01        	lda	[<L511+ptr_1]
  9626 06:218C: 29 FF 00     	and	#$ff
  9627 06:218F: D0 03        	bne	L513
  9628 06:2191: 82 18 00     	brl	L10076
  9629                        L513:
  9630                        ;	{
  9631                        	.line	1114
  9632                        ;		k_put_font(*ptr,col,row,color);
  9633                        	.line	1115
  9634 06:2194: D4 10        	pei	<L510+color_0
  9635 06:2196: D4 0C        	pei	<L510+row_0
  9636 06:2198: D4 0E        	pei	<L510+col_0
  9637 06:219A: A7 01        	lda	[<L511+ptr_1]
  9638 06:219C: 48           	pha
  9639 06:219D: 22 EC 33 06  	jsl	~~k_put_font
  9640                        ;		col++;
  9641                        	.line	1116
  9642 06:21A1: E6 0E        	inc	<L510+col_0
  9643                        ;		ptr++;
  9644                        	.line	1117
  9645 06:21A3: E6 01        	inc	<L511+ptr_1
  9646 06:21A5: D0 02        	bne	L514
  9647 06:21A7: E6 03        	inc	<L511+ptr_1+2
  9648                        L514:
  9649                        ;	}
  9650                        	.line	1118
  9651 06:21A9: 82 DE FF     	brl	L10075
  9652                        L10076:
  9653                        ;	
  9654                        ;	return col;
  9655                        	.line	1120
  9656 06:21AC: A5 0E        	lda	<L510+col_0
  9657                        L515:
  9658 06:21AE: A8           	tay
  9659 06:21AF: A5 06        	lda	<L510+2
  9660 06:21B1: 85 10        	sta	<L510+2+10
  9661 06:21B3: A5 05        	lda	<L510+1
  9662 06:21B5: 85 0F        	sta	<L510+1+10
  9663 06:21B7: 2B           	pld
  9664 06:21B8: 3B           	tsc
  9665 06:21B9: 18           	clc
  9666 06:21BA: 69 0E 00     	adc	#L510+10
  9667 06:21BD: 1B           	tcs
  Mon Sep 27 2021  9:39                                                Page 181


  9668 06:21BE: 98           	tya
  9669 06:21BF: 6B           	rtl
  9670                        ;}
  9671                        	.line	1121
  9672                        	.endblock	1121
  9673             00000004   L510	equ	4
  9674             00000001   L511	equ	1
  9675 06:21C0:              	ends
  9676                        	efunc
  9677                        	.endfunc	1121,1,4
  9678                        	.line	1121
  9679                        ;
  9680                        ;int k_draw_text_point_ex(LPCSTR text,int x,int y,
                    char color,UINT page)
  9681                        ;{
  9682                        	.line	1123
  9683                        	.line	1124
  9684                        	GFX
  9685                        	xdef	~~k_draw_text_point_ex
  9686                        	func
  9687                        	.function	1124
  9688                        ~~k_draw_text_point_ex:
  9689                        	longa	on
  9690                        	longi	on
  9691 06:21C0: 3B           	tsc
  9692 06:21C1: 38           	sec
  9693 06:21C2: E9 12 00     	sbc	#L516
  9694 06:21C5: 1B           	tcs
  9695 06:21C6: 0B           	phd
  9696 06:21C7: 5B           	tcd
  9697             00000004   text_0	set	4
  9698             00000008   x_0	set	8
  9699             0000000A   y_0	set	10
  9700             0000000C   color_0	set	12
  9701             0000000E   page_0	set	14
  9702                        	.block	1124
  9703                        ;	int col = 0;
  9704                        ;	int width = 0;
  9705                        ;	int height = 0;
  9706                        ;	int dx = x;
  9707                        ;	int dy = y;
  9708                        ;
  9709                        ;	LPCSTR ptr = (text);
  9710                        ;
  9711                        ;	width  = Bm437ToshibaLCD8x8[0];
  9712             00000000   col_1	set	0
  9713             00000002   width_1	set	2
  9714             00000004   height_1	set	4
  9715             00000006   dx_1	set	6
  9716             00000008   dy_1	set	8
  9717             0000000A   ptr_1	set	10
  9718                        	.sym	col,0,5,1,16
  9719                        	.sym	width,2,5,1,16
  9720                        	.sym	height,4,5,1,16
  9721                        	.sym	dx,6,5,1,16
  9722                        	.sym	dy,8,5,1,16
  9723                        	.sym	ptr,10,142,1,32
  9724                        	.sym	text,4,142,6,32
  Mon Sep 27 2021  9:39                                                Page 182


  9725                        	.sym	x,8,5,6,16
  9726                        	.sym	y,10,5,6,16
  9727                        	.sym	color,12,14,6,8
  9728                        	.sym	page,14,16,6,16
  9729 06:21C8: 64 05        	stz	<L517+col_1
  9730 06:21CA: 64 07        	stz	<L517+width_1
  9731 06:21CC: 64 09        	stz	<L517+height_1
  9732 06:21CE: A5 1A        	lda	<L516+x_0
  9733 06:21D0: 85 0B        	sta	<L517+dx_1
  9734 06:21D2: A5 1C        	lda	<L516+y_0
  9735 06:21D4: 85 0D        	sta	<L517+dy_1
  9736 06:21D6: A5 16        	lda	<L516+text_0
  9737 06:21D8: 85 0F        	sta	<L517+ptr_1
  9738 06:21DA: A5 18        	lda	<L516+text_0+2
  9739 06:21DC: 85 11        	sta	<L517+ptr_1+2
  9740                        	.line	1133
  9741 06:21DE: AF xx xx xx  	lda	>~~Bm437ToshibaLCD8x8
  9742 06:21E2: 29 FF 00     	and	#$ff
  9743 06:21E5: 85 07        	sta	<L517+width_1
  9744                        ;	height = Bm437ToshibaLCD8x8[1];
  9745                        	.line	1134
  9746 06:21E7: AF xx xx xx  	lda	>~~Bm437ToshibaLCD8x8+1
  9747 06:21EB: 29 FF 00     	and	#$ff
  9748 06:21EE: 85 09        	sta	<L517+height_1
  9749                        ;
  9750                        ;
  9751                        ;	ptr = (text);
  9752                        	.line	1137
  9753 06:21F0: A5 16        	lda	<L516+text_0
  9754 06:21F2: 85 0F        	sta	<L517+ptr_1
  9755 06:21F4: A5 18        	lda	<L516+text_0+2
  9756 06:21F6: 85 11        	sta	<L517+ptr_1+2
  9757                        ;	while(*ptr)
  9758                        	.line	1138
  9759                        L10077:
  9760 06:21F8: A7 0F        	lda	[<L517+ptr_1]
  9761 06:21FA: 29 FF 00     	and	#$ff
  9762 06:21FD: D0 03        	bne	L519
  9763 06:21FF: 82 69 00     	brl	L10078
  9764                        L519:
  9765                        ;	{
  9766                        	.line	1139
  9767                        ;		if(*ptr == 0x0D)
  9768                        	.line	1140
  9769                        ;		{
  9770 06:2202: E2 20        	sep	#$20
  9771                        	longa	off
  9772 06:2204: A7 0F        	lda	[<L517+ptr_1]
  9773 06:2206: C9 0D        	cmp	#<$d
  9774 06:2208: C2 20        	rep	#$20
  9775                        	longa	on
  9776 06:220A: F0 03        	beq	L520
  9777 06:220C: 82 07 00     	brl	L10079
  9778                        L520:
  9779                        	.line	1141
  9780                        ;			dx = x;
  9781                        	.line	1142
  9782 06:220F: A5 1A        	lda	<L516+x_0
  Mon Sep 27 2021  9:39                                                Page 183


  9783 06:2211: 85 0B        	sta	<L517+dx_1
  9784                        ;		}
  9785                        	.line	1143
  9786                        ;		else if(*ptr == 0x0A)
  9787 06:2213: 82 3F 00     	brl	L10080
  9788                        L10079:
  9789                        	.line	1144
  9790                        ;		{
  9791 06:2216: E2 20        	sep	#$20
  9792                        	longa	off
  9793 06:2218: A7 0F        	lda	[<L517+ptr_1]
  9794 06:221A: C9 0A        	cmp	#<$a
  9795 06:221C: C2 20        	rep	#$20
  9796                        	longa	on
  9797 06:221E: F0 03        	beq	L521
  9798 06:2220: 82 10 00     	brl	L10081
  9799                        L521:
  9800                        	.line	1145
  9801                        ;			dy+=FONTH;
  9802                        	.line	1146
  9803 06:2223: 22 21 86 06  	jsl	~~k_font_getFontHeight
  9804 06:2227: 85 01        	sta	<R0
  9805 06:2229: 18           	clc
  9806 06:222A: A5 01        	lda	<R0
  9807 06:222C: 65 0D        	adc	<L517+dy_1
  9808 06:222E: 85 0D        	sta	<L517+dy_1
  9809                        ;		}
  9810                        	.line	1147
  9811                        ;		else
  9812 06:2230: 82 22 00     	brl	L10082
  9813                        L10081:
  9814                        ;		{
  9815                        	.line	1149
  9816                        ;			dx+=k_put_binary_variablefont_po
                    int_ex( (LPCHAR)&Bm437ToshibaLCD8x8[2] , *ptr,dx,dy,width,he
                    ight,color,page);
  9817                        	.line	1150
  9818 06:2233: D4 20        	pei	<L516+page_0
  9819 06:2235: D4 1E        	pei	<L516+color_0
  9820 06:2237: D4 09        	pei	<L517+height_1
  9821 06:2239: D4 07        	pei	<L517+width_1
  9822 06:223B: D4 0D        	pei	<L517+dy_1
  9823 06:223D: D4 0B        	pei	<L517+dx_1
  9824 06:223F: A7 0F        	lda	[<L517+ptr_1]
  9825 06:2241: 48           	pha
  9826 06:2242: F4 xx xx     	pea	#^~~Bm437ToshibaLCD8x8+2
  9827 06:2245: F4 xx xx     	pea	#<~~Bm437ToshibaLCD8x8+2
  9828 06:2248: 22 4B 2C 06  	jsl	~~k_put_binary_variablefont_point_ex
  9829 06:224C: 85 01        	sta	<R0
  9830 06:224E: 18           	clc
  9831 06:224F: A5 01        	lda	<R0
  9832 06:2251: 65 0B        	adc	<L517+dx_1
  9833 06:2253: 85 0B        	sta	<L517+dx_1
  9834                        ;		}
  9835                        	.line	1151
  9836                        L10082:
  9837                        L10080:
  9838                        ;		ptr++;
  Mon Sep 27 2021  9:39                                                Page 184


  9839                        	.line	1152
  9840 06:2255: E6 0F        	inc	<L517+ptr_1
  9841 06:2257: D0 02        	bne	L522
  9842 06:2259: E6 11        	inc	<L517+ptr_1+2
  9843                        L522:
  9844                        ;		col+=FONTW;
  9845                        	.line	1153
  9846 06:225B: 22 36 86 06  	jsl	~~k_font_getFontWidth
  9847 06:225F: 85 01        	sta	<R0
  9848 06:2261: 18           	clc
  9849 06:2262: A5 01        	lda	<R0
  9850 06:2264: 65 05        	adc	<L517+col_1
  9851 06:2266: 85 05        	sta	<L517+col_1
  9852                        ;	}
  9853                        	.line	1154
  9854 06:2268: 82 8D FF     	brl	L10077
  9855                        L10078:
  9856                        ;
  9857                        ;	return col;
  9858                        	.line	1156
  9859 06:226B: A5 05        	lda	<L517+col_1
  9860                        L523:
  9861 06:226D: A8           	tay
  9862 06:226E: A5 14        	lda	<L516+2
  9863 06:2270: 85 20        	sta	<L516+2+12
  9864 06:2272: A5 13        	lda	<L516+1
  9865 06:2274: 85 1F        	sta	<L516+1+12
  9866 06:2276: 2B           	pld
  9867 06:2277: 3B           	tsc
  9868 06:2278: 18           	clc
  9869 06:2279: 69 1E 00     	adc	#L516+12
  9870 06:227C: 1B           	tcs
  9871 06:227D: 98           	tya
  9872 06:227E: 6B           	rtl
  9873                        ;}
  9874                        	.line	1157
  9875                        	.endblock	1157
  9876             00000012   L516	equ	18
  9877             00000005   L517	equ	5
  9878 06:227F:              	ends
  9879                        	efunc
  9880                        	.endfunc	1157,5,18
  9881                        	.line	1157
  9882                        ;
  9883                        ;
  9884                        ;
  9885                        ;int k_draw_text_point(LPCSTR text,int x,int y,cha
                    r color)
  9886                        ;{
  9887                        	.line	1161
  9888                        	.line	1162
  9889                        	GFX
  9890                        	xdef	~~k_draw_text_point
  9891                        	func
  9892                        	.function	1162
  9893                        ~~k_draw_text_point:
  9894                        	longa	on
  9895                        	longi	on
  Mon Sep 27 2021  9:39                                                Page 185


  9896 06:227F: 3B           	tsc
  9897 06:2280: 38           	sec
  9898 06:2281: E9 0E 00     	sbc	#L524
  9899 06:2284: 1B           	tcs
  9900 06:2285: 0B           	phd
  9901 06:2286: 5B           	tcd
  9902             00000004   text_0	set	4
  9903             00000008   x_0	set	8
  9904             0000000A   y_0	set	10
  9905             0000000C   color_0	set	12
  9906                        	.block	1162
  9907                        ;	int col = 0;
  9908                        ;	int width = 0;
  9909                        ;	int height = 0;
  9910                        ;
  9911                        ;	LPCSTR ptr = (text);
  9912                        ;	
  9913                        ;	width  = Bm437ToshibaLCD8x8[0];
  9914             00000000   col_1	set	0
  9915             00000002   width_1	set	2
  9916             00000004   height_1	set	4
  9917             00000006   ptr_1	set	6
  9918                        	.sym	col,0,5,1,16
  9919                        	.sym	width,2,5,1,16
  9920                        	.sym	height,4,5,1,16
  9921                        	.sym	ptr,6,142,1,32
  9922                        	.sym	text,4,142,6,32
  9923                        	.sym	x,8,5,6,16
  9924                        	.sym	y,10,5,6,16
  9925                        	.sym	color,12,14,6,8
  9926 06:2287: 64 05        	stz	<L525+col_1
  9927 06:2289: 64 07        	stz	<L525+width_1
  9928 06:228B: 64 09        	stz	<L525+height_1
  9929 06:228D: A5 12        	lda	<L524+text_0
  9930 06:228F: 85 0B        	sta	<L525+ptr_1
  9931 06:2291: A5 14        	lda	<L524+text_0+2
  9932 06:2293: 85 0D        	sta	<L525+ptr_1+2
  9933                        	.line	1169
  9934 06:2295: AF xx xx xx  	lda	>~~Bm437ToshibaLCD8x8
  9935 06:2299: 29 FF 00     	and	#$ff
  9936 06:229C: 85 07        	sta	<L525+width_1
  9937                        ;	height = Bm437ToshibaLCD8x8[1];
  9938                        	.line	1170
  9939 06:229E: AF xx xx xx  	lda	>~~Bm437ToshibaLCD8x8+1
  9940 06:22A2: 29 FF 00     	and	#$ff
  9941 06:22A5: 85 09        	sta	<L525+height_1
  9942                        ;
  9943                        ;
  9944                        ;	ptr = (text);
  9945                        	.line	1173
  9946 06:22A7: A5 12        	lda	<L524+text_0
  9947 06:22A9: 85 0B        	sta	<L525+ptr_1
  9948 06:22AB: A5 14        	lda	<L524+text_0+2
  9949 06:22AD: 85 0D        	sta	<L525+ptr_1+2
  9950                        ;	while(*ptr)
  9951                        	.line	1174
  9952                        L10083:
  9953 06:22AF: A7 0B        	lda	[<L525+ptr_1]
  Mon Sep 27 2021  9:39                                                Page 186


  9954 06:22B1: 29 FF 00     	and	#$ff
  9955 06:22B4: D0 03        	bne	L527
  9956 06:22B6: 82 36 00     	brl	L10084
  9957                        L527:
  9958                        ;	{
  9959                        	.line	1175
  9960                        ;		//x+=k_put_font_point(*ptr,x,y,color);
  9961                        ;
  9962                        ;		//x+=k_put_binary_font_point( Bm437Toshi
                    baLCD8x8 , *ptr,x,y,color);
  9963                        ;		//x+=k_put_binary_font_point( Bm437Amstr
                    adPC1512_2y , *ptr,x,y,color);
  9964                        ;
  9965                        ;		x+=k_put_binary_variablefont_point( (LPC
                    HAR)&Bm437ToshibaLCD8x8[2] , *ptr,x,y,width,height,color);
  9966                        	.line	1181
  9967 06:22B9: D4 1A        	pei	<L524+color_0
  9968 06:22BB: D4 09        	pei	<L525+height_1
  9969 06:22BD: D4 07        	pei	<L525+width_1
  9970 06:22BF: D4 18        	pei	<L524+y_0
  9971 06:22C1: D4 16        	pei	<L524+x_0
  9972 06:22C3: A7 0B        	lda	[<L525+ptr_1]
  9973 06:22C5: 48           	pha
  9974 06:22C6: F4 xx xx     	pea	#^~~Bm437ToshibaLCD8x8+2
  9975 06:22C9: F4 xx xx     	pea	#<~~Bm437ToshibaLCD8x8+2
  9976 06:22CC: 22 51 2B 06  	jsl	~~k_put_binary_variablefont_point
  9977 06:22D0: 85 01        	sta	<R0
  9978 06:22D2: 18           	clc
  9979 06:22D3: A5 01        	lda	<R0
  9980 06:22D5: 65 16        	adc	<L524+x_0
  9981 06:22D7: 85 16        	sta	<L524+x_0
  9982                        ;
  9983                        ;		ptr++;
  9984                        	.line	1183
  9985 06:22D9: E6 0B        	inc	<L525+ptr_1
  9986 06:22DB: D0 02        	bne	L528
  9987 06:22DD: E6 0D        	inc	<L525+ptr_1+2
  9988                        L528:
  9989                        ;		col+=FONTW;
  9990                        	.line	1184
  9991 06:22DF: 22 36 86 06  	jsl	~~k_font_getFontWidth
  9992 06:22E3: 85 01        	sta	<R0
  9993 06:22E5: 18           	clc
  9994 06:22E6: A5 01        	lda	<R0
  9995 06:22E8: 65 05        	adc	<L525+col_1
  9996 06:22EA: 85 05        	sta	<L525+col_1
  9997                        ;	}
  9998                        	.line	1185
  9999 06:22EC: 82 C0 FF     	brl	L10083
 10000                        L10084:
 10001                        ;	
 10002                        ;	return col;
 10003                        	.line	1187
 10004 06:22EF: A5 05        	lda	<L525+col_1
 10005                        L529:
 10006 06:22F1: A8           	tay
 10007 06:22F2: A5 10        	lda	<L524+2
 10008 06:22F4: 85 1A        	sta	<L524+2+10
  Mon Sep 27 2021  9:39                                                Page 187


 10009 06:22F6: A5 0F        	lda	<L524+1
 10010 06:22F8: 85 19        	sta	<L524+1+10
 10011 06:22FA: 2B           	pld
 10012 06:22FB: 3B           	tsc
 10013 06:22FC: 18           	clc
 10014 06:22FD: 69 18 00     	adc	#L524+10
 10015 06:2300: 1B           	tcs
 10016 06:2301: 98           	tya
 10017 06:2302: 6B           	rtl
 10018                        ;}
 10019                        	.line	1188
 10020                        	.endblock	1188
 10021             0000000E   L524	equ	14
 10022             00000005   L525	equ	5
 10023 06:2303:              	ends
 10024                        	efunc
 10025                        	.endfunc	1188,5,14
 10026                        	.line	1188
 10027                        ;
 10028                        ;int k_gui_DrawText(HWND hWnd,LPCSTR text,HFONT ch
                    arSet,UINT style,PRECT prect,char color,UINT page)
 10029                        ;{
 10030                        	.line	1190
 10031                        	.line	1191
 10032                        	GFX
 10033                        	xdef	~~k_gui_DrawText
 10034                        	func
 10035                        	.function	1191
 10036                        ~~k_gui_DrawText:
 10037                        	longa	on
 10038                        	longi	on
 10039 06:2303: 3B           	tsc
 10040 06:2304: 38           	sec
 10041 06:2305: E9 26 00     	sbc	#L530
 10042 06:2308: 1B           	tcs
 10043 06:2309: 0B           	phd
 10044 06:230A: 5B           	tcd
 10045             00000004   hWnd_0	set	4
 10046             00000008   text_0	set	8
 10047             0000000C   charSet_0	set	12
 10048             00000010   style_0	set	16
 10049             00000012   prect_0	set	18
 10050             00000016   color_0	set	22
 10051             00000018   page_0	set	24
 10052                        	.block	1191
 10053                        ;	int col 	= 0;
 10054                        ;	int fwidth 	= 0;
 10055                        ;	int fheight = 0;
 10056                        ;	int xmax 	= 0;
 10057                        ;	int ymax 	= 0;
 10058                        ;
 10059                        ;	int dx = 0;
 10060                        ;	int dy = 0;
 10061                        ;	int e;
 10062                        ;	int emax;
 10063                        ;	LPCHAR ptr = NULL;
 10064                        ;	LPCHAR fptr = (LPCHAR)(&((LPSTR)charSet)[2]);
 10065                        ;	PWINDOW pWin = (PWINDOW)hWnd;
  Mon Sep 27 2021  9:39                                                Page 188


 10066                        ;	//k_debug_pointer("k_draw_text_rect charSet:",(L
                    PVOID)charSet);
 10067                        ;
 10068                        ;	fwidth  = (INT)(((INT)((LPSTR)charSet)[0]) & 0x0
                    0FF);
 10069             00000000   col_1	set	0
 10070             00000002   fwidth_1	set	2
 10071             00000004   fheight_1	set	4
 10072             00000006   xmax_1	set	6
 10073             00000008   ymax_1	set	8
 10074             0000000A   dx_1	set	10
 10075             0000000C   dy_1	set	12
 10076             0000000E   e_1	set	14
 10077             00000010   emax_1	set	16
 10078             00000012   ptr_1	set	18
 10079             00000016   fptr_1	set	22
 10080             0000001A   pWin_1	set	26
 10081                        	.sym	col,0,5,1,16
 10082                        	.sym	fwidth,2,5,1,16
 10083                        	.sym	fheight,4,5,1,16
 10084                        	.sym	xmax,6,5,1,16
 10085                        	.sym	ymax,8,5,1,16
 10086                        	.sym	dx,10,5,1,16
 10087                        	.sym	dy,12,5,1,16
 10088                        	.sym	e,14,5,1,16
 10089                        	.sym	emax,16,5,1,16
 10090                        	.sym	ptr,18,142,1,32
 10091                        	.sym	fptr,22,142,1,32
 10092                        	.sym	pWin,26,138,1,32,33
 10093                        	.sym	hWnd,4,129,6,32
 10094                        	.sym	text,8,142,6,32
 10095                        	.sym	charSet,12,129,6,32
 10096                        	.sym	style,16,16,6,16
 10097                        	.sym	prect,18,138,6,32,26
 10098                        	.sym	color,22,14,6,8
 10099                        	.sym	page,24,16,6,16
 10100 06:230B: 64 09        	stz	<L531+col_1
 10101 06:230D: 64 0B        	stz	<L531+fwidth_1
 10102 06:230F: 64 0D        	stz	<L531+fheight_1
 10103 06:2311: 64 0F        	stz	<L531+xmax_1
 10104 06:2313: 64 11        	stz	<L531+ymax_1
 10105 06:2315: 64 13        	stz	<L531+dx_1
 10106 06:2317: 64 15        	stz	<L531+dy_1
 10107 06:2319: 64 1B        	stz	<L531+ptr_1
 10108 06:231B: 64 1D        	stz	<L531+ptr_1+2
 10109 06:231D: 18           	clc
 10110 06:231E: A9 02 00     	lda	#$2
 10111 06:2321: 65 32        	adc	<L530+charSet_0
 10112 06:2323: 85 1F        	sta	<L531+fptr_1
 10113 06:2325: A9 00 00     	lda	#$0
 10114 06:2328: 65 34        	adc	<L530+charSet_0+2
 10115 06:232A: 85 21        	sta	<L531+fptr_1+2
 10116 06:232C: A5 2A        	lda	<L530+hWnd_0
 10117 06:232E: 85 23        	sta	<L531+pWin_1
 10118 06:2330: A5 2C        	lda	<L530+hWnd_0+2
 10119 06:2332: 85 25        	sta	<L531+pWin_1+2
 10120                        	.line	1207
 10121 06:2334: A7 32        	lda	[<L530+charSet_0]
  Mon Sep 27 2021  9:39                                                Page 189


 10122 06:2336: 29 FF 00     	and	#<$ff
 10123 06:2339: 85 0B        	sta	<L531+fwidth_1
 10124                        ;	fheight = (INT)(((INT)((LPSTR)charSet)[1]) & 0x0
                    0FF);
 10125                        	.line	1208
 10126 06:233B: A0 01 00     	ldy	#$1
 10127 06:233E: B7 32        	lda	[<L530+charSet_0],Y
 10128 06:2340: 29 FF 00     	and	#<$ff
 10129 06:2343: 85 0D        	sta	<L531+fheight_1
 10130                        ;
 10131                        ;	e    = (style & DTS_ELLIPSES);
 10132                        	.line	1210
 10133 06:2345: A5 36        	lda	<L530+style_0
 10134 06:2347: 29 01 00     	and	#<$1
 10135 06:234A: 85 17        	sta	<L531+e_1
 10136                        ;	dx    = prect->x;
 10137                        	.line	1211
 10138 06:234C: A7 38        	lda	[<L530+prect_0]
 10139 06:234E: 85 13        	sta	<L531+dx_1
 10140                        ;	dy    = prect->y;
 10141                        	.line	1212
 10142 06:2350: A0 02 00     	ldy	#$2
 10143 06:2353: B7 38        	lda	[<L530+prect_0],Y
 10144 06:2355: 85 15        	sta	<L531+dy_1
 10145                        ;	emax = 2 * fwidth;
 10146                        	.line	1213
 10147 06:2357: A5 0B        	lda	<L531+fwidth_1
 10148 06:2359: 0A           	asl	A
 10149 06:235A: 85 19        	sta	<L531+emax_1
 10150                        ;	xmax = prect->x + prect->width - 1;
 10151                        	.line	1214
 10152 06:235C: 18           	clc
 10153 06:235D: A7 38        	lda	[<L530+prect_0]
 10154 06:235F: A0 08 00     	ldy	#$8
 10155 06:2362: 77 38        	adc	[<L530+prect_0],Y
 10156 06:2364: 85 01        	sta	<R0
 10157 06:2366: 18           	clc
 10158 06:2367: A9 FF FF     	lda	#$ffff
 10159 06:236A: 65 01        	adc	<R0
 10160 06:236C: 85 0F        	sta	<L531+xmax_1
 10161                        ;	ymax = (pWin->clientRect.y + pWin->clientRect.he
                    ight) - 1;
 10162                        	.line	1215
 10163 06:236E: 18           	clc
 10164 06:236F: A0 2C 00     	ldy	#$2c
 10165 06:2372: B7 23        	lda	[<L531+pWin_1],Y
 10166 06:2374: A0 34 00     	ldy	#$34
 10167 06:2377: 77 23        	adc	[<L531+pWin_1],Y
 10168 06:2379: 85 01        	sta	<R0
 10169 06:237B: 18           	clc
 10170 06:237C: A9 FF FF     	lda	#$ffff
 10171 06:237F: 65 01        	adc	<R0
 10172 06:2381: 85 11        	sta	<L531+ymax_1
 10173                        ;
 10174                        ;	//k_debug_strings("k_draw_text_point_with_font:f
                    ont text:",(LPSTR)text);
 10175                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont x:",dx);
  Mon Sep 27 2021  9:39                                                Page 190


 10176                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont y:",dy);
 10177                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont xmax:",xmax);
 10178                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont ymax:",ymax);
 10179                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont fwidth:",fwidth);
 10180                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont fheight:",fheight);
 10181                        ;
 10182                        ;
 10183                        ;	if(((prect->y + FONTH) >= ymax) && !(style & DTS
                    _NOCLIP))
 10184                        	.line	1226
 10185                        ;		return -1;
 10186 06:2383: 22 21 86 06  	jsl	~~k_font_getFontHeight
 10187 06:2387: 85 01        	sta	<R0
 10188 06:2389: 18           	clc
 10189 06:238A: A5 01        	lda	<R0
 10190 06:238C: A0 02 00     	ldy	#$2
 10191 06:238F: 77 38        	adc	[<L530+prect_0],Y
 10192 06:2391: 85 05        	sta	<R1
 10193 06:2393: A5 05        	lda	<R1
 10194 06:2395: C5 11        	cmp	<L531+ymax_1
 10195 06:2397: B0 03        	bcs	L533
 10196 06:2399: 82 1F 00     	brl	L10085
 10197                        L533:
 10198 06:239C: A5 36        	lda	<L530+style_0
 10199 06:239E: 29 08 00     	and	#<$8
 10200 06:23A1: F0 03        	beq	L534
 10201 06:23A3: 82 15 00     	brl	L10085
 10202                        L534:
 10203                        	.line	1227
 10204 06:23A6: A9 FF FF     	lda	#$ffff
 10205                        L535:
 10206 06:23A9: A8           	tay
 10207 06:23AA: A5 28        	lda	<L530+2
 10208 06:23AC: 85 3E        	sta	<L530+2+22
 10209 06:23AE: A5 27        	lda	<L530+1
 10210 06:23B0: 85 3D        	sta	<L530+1+22
 10211 06:23B2: 2B           	pld
 10212 06:23B3: 3B           	tsc
 10213 06:23B4: 18           	clc
 10214 06:23B5: 69 3C 00     	adc	#L530+22
 10215 06:23B8: 1B           	tcs
 10216 06:23B9: 98           	tya
 10217 06:23BA: 6B           	rtl
 10218                        ;
 10219                        ;
 10220                        ;	if(style & DTS_RIGHTJUSTIFY)
 10221                        L10085:
 10222                        	.line	1230
 10223                        ;	{
 10224 06:23BB: A5 36        	lda	<L530+style_0
 10225 06:23BD: 29 02 00     	and	#<$2
 10226 06:23C0: D0 03        	bne	L536
 10227 06:23C2: 82 7A 00     	brl	L10086
  Mon Sep 27 2021  9:39                                                Page 191


 10228                        L536:
 10229                        	.line	1231
 10230                        ;		dx = xmax - fwidth;
 10231                        	.line	1232
 10232 06:23C5: 38           	sec
 10233 06:23C6: A5 0F        	lda	<L531+xmax_1
 10234 06:23C8: E5 0B        	sbc	<L531+fwidth_1
 10235 06:23CA: 85 13        	sta	<L531+dx_1
 10236                        ;
 10237                        ;		ptr = (LPSTR)&text[strlen(text)];
 10238                        	.line	1234
 10239 06:23CC: D4 30        	pei	<L530+text_0+2
 10240 06:23CE: D4 2E        	pei	<L530+text_0
 10241 06:23D0: 22 xx xx xx  	jsl	~~strlen
 10242 06:23D4: 85 01        	sta	<R0
 10243 06:23D6: A5 01        	lda	<R0
 10244 06:23D8: 85 01        	sta	<R0
 10245 06:23DA: 64 03        	stz	<R0+2
 10246 06:23DC: 18           	clc
 10247 06:23DD: A5 2E        	lda	<L530+text_0
 10248 06:23DF: 65 01        	adc	<R0
 10249 06:23E1: 85 1B        	sta	<L531+ptr_1
 10250 06:23E3: A5 30        	lda	<L530+text_0+2
 10251 06:23E5: 65 03        	adc	<R0+2
 10252 06:23E7: 85 1D        	sta	<L531+ptr_1+2
 10253                        ;		while(ptr >= text)
 10254                        	.line	1235
 10255                        L10087:
 10256 06:23E9: A5 1B        	lda	<L531+ptr_1
 10257 06:23EB: C5 2E        	cmp	<L530+text_0
 10258 06:23ED: A5 1D        	lda	<L531+ptr_1+2
 10259 06:23EF: E5 30        	sbc	<L530+text_0+2
 10260 06:23F1: B0 03        	bcs	L537
 10261 06:23F3: 82 46 00     	brl	L10088
 10262                        L537:
 10263                        ;		{
 10264                        	.line	1236
 10265                        ;			dx-=k_put_binary_variablefont_po
                    int_ex( fptr,*ptr,dx,prect->y,fwidth,fheight,color,page);
 10266                        	.line	1237
 10267 06:23F6: D4 3E        	pei	<L530+page_0
 10268 06:23F8: D4 3C        	pei	<L530+color_0
 10269 06:23FA: D4 0D        	pei	<L531+fheight_1
 10270 06:23FC: D4 0B        	pei	<L531+fwidth_1
 10271 06:23FE: A0 02 00     	ldy	#$2
 10272 06:2401: B7 38        	lda	[<L530+prect_0],Y
 10273 06:2403: 48           	pha
 10274 06:2404: D4 13        	pei	<L531+dx_1
 10275 06:2406: A7 1B        	lda	[<L531+ptr_1]
 10276 06:2408: 48           	pha
 10277 06:2409: D4 21        	pei	<L531+fptr_1+2
 10278 06:240B: D4 1F        	pei	<L531+fptr_1
 10279 06:240D: 22 4B 2C 06  	jsl	~~k_put_binary_variablefont_point_ex
 10280 06:2411: 85 01        	sta	<R0
 10281 06:2413: 38           	sec
 10282 06:2414: A5 13        	lda	<L531+dx_1
 10283 06:2416: E5 01        	sbc	<R0
 10284 06:2418: 85 13        	sta	<L531+dx_1
  Mon Sep 27 2021  9:39                                                Page 192


 10285                        ;			if(dx < prect->x)
 10286                        	.line	1238
 10287                        ;				break;
 10288 06:241A: 38           	sec
 10289 06:241B: A5 13        	lda	<L531+dx_1
 10290 06:241D: E7 38        	sbc	[<L530+prect_0]
 10291 06:241F: 70 03        	bvs	L538
 10292 06:2421: 49 00 80     	eor	#$8000
 10293                        L538:
 10294 06:2424: 30 03        	bmi	L539
 10295 06:2426: 82 13 00     	brl	L10088
 10296                        L539:
 10297                        ;
 10298                        ;			ptr--;
 10299                        	.line	1241
 10300 06:2429: A5 1B        	lda	<L531+ptr_1
 10301 06:242B: D0 02        	bne	L540
 10302 06:242D: C6 1D        	dec	<L531+ptr_1+2
 10303                        L540:
 10304 06:242F: C6 1B        	dec	<L531+ptr_1
 10305                        ;			col+=8;
 10306                        	.line	1242
 10307 06:2431: 18           	clc
 10308 06:2432: A9 08 00     	lda	#$8
 10309 06:2435: 65 09        	adc	<L531+col_1
 10310 06:2437: 85 09        	sta	<L531+col_1
 10311                        ;		}
 10312                        	.line	1243
 10313 06:2439: 82 AD FF     	brl	L10087
 10314                        L10088:
 10315                        ;	}
 10316                        	.line	1244
 10317                        ;	else
 10318 06:243C: 82 BA 00     	brl	L10089
 10319                        L10086:
 10320                        ;	{
 10321                        	.line	1246
 10322                        ;		ptr = (LPCHAR)(text);
 10323                        	.line	1247
 10324 06:243F: A5 2E        	lda	<L530+text_0
 10325 06:2441: 85 1B        	sta	<L531+ptr_1
 10326 06:2443: A5 30        	lda	<L530+text_0+2
 10327 06:2445: 85 1D        	sta	<L531+ptr_1+2
 10328                        ;		while(*ptr)
 10329                        	.line	1248
 10330                        L10090:
 10331 06:2447: A7 1B        	lda	[<L531+ptr_1]
 10332 06:2449: 29 FF 00     	and	#$ff
 10333 06:244C: D0 03        	bne	L541
 10334 06:244E: 82 A8 00     	brl	L10091
 10335                        L541:
 10336                        ;		{
 10337                        	.line	1249
 10338                        ;			if(*ptr == 0x0D)
 10339                        	.line	1250
 10340                        ;			{
 10341 06:2451: E2 20        	sep	#$20
 10342                        	longa	off
  Mon Sep 27 2021  9:39                                                Page 193


 10343 06:2453: A7 1B        	lda	[<L531+ptr_1]
 10344 06:2455: C9 0D        	cmp	#<$d
 10345 06:2457: C2 20        	rep	#$20
 10346                        	longa	on
 10347 06:2459: F0 03        	beq	L542
 10348 06:245B: 82 07 00     	brl	L10092
 10349                        L542:
 10350                        	.line	1251
 10351                        ;				dx = prect->x;
 10352                        	.line	1252
 10353 06:245E: A7 38        	lda	[<L530+prect_0]
 10354 06:2460: 85 13        	sta	<L531+dx_1
 10355                        ;			}
 10356                        	.line	1253
 10357                        ;			else if(*ptr == 0x0A)
 10358 06:2462: 82 59 00     	brl	L10093
 10359                        L10092:
 10360                        	.line	1254
 10361                        ;			{
 10362 06:2465: E2 20        	sep	#$20
 10363                        	longa	off
 10364 06:2467: A7 1B        	lda	[<L531+ptr_1]
 10365 06:2469: C9 0A        	cmp	#<$a
 10366 06:246B: C2 20        	rep	#$20
 10367                        	longa	on
 10368 06:246D: F0 03        	beq	L543
 10369 06:246F: 82 0E 00     	brl	L10094
 10370                        L543:
 10371                        	.line	1255
 10372                        ;				dy+=fheight;
 10373                        	.line	1256
 10374 06:2472: 18           	clc
 10375 06:2473: A5 15        	lda	<L531+dy_1
 10376 06:2475: 65 0D        	adc	<L531+fheight_1
 10377 06:2477: 85 15        	sta	<L531+dy_1
 10378                        ;				dx = prect->x;
 10379                        	.line	1257
 10380 06:2479: A7 38        	lda	[<L530+prect_0]
 10381 06:247B: 85 13        	sta	<L531+dx_1
 10382                        ;			}
 10383                        	.line	1258
 10384                        ;			else
 10385 06:247D: 82 3E 00     	brl	L10095
 10386                        L10094:
 10387                        ;			{
 10388                        	.line	1260
 10389                        ;				if(dx < xmax && dy < yma
                    x)
 10390                        	.line	1261
 10391                        ;					dx+=k_put_binary
                    _variablefont_point_ex( fptr,*ptr,dx,dy,fwidth,fheight,color
                    ,page);
 10392 06:2480: 38           	sec
 10393 06:2481: A5 13        	lda	<L531+dx_1
 10394 06:2483: E5 0F        	sbc	<L531+xmax_1
 10395 06:2485: 70 03        	bvs	L544
 10396 06:2487: 49 00 80     	eor	#$8000
 10397                        L544:
  Mon Sep 27 2021  9:39                                                Page 194


 10398 06:248A: 10 03        	bpl	L545
 10399 06:248C: 82 2F 00     	brl	L10096
 10400                        L545:
 10401 06:248F: 38           	sec
 10402 06:2490: A5 15        	lda	<L531+dy_1
 10403 06:2492: E5 11        	sbc	<L531+ymax_1
 10404 06:2494: 70 03        	bvs	L546
 10405 06:2496: 49 00 80     	eor	#$8000
 10406                        L546:
 10407 06:2499: 10 03        	bpl	L547
 10408 06:249B: 82 20 00     	brl	L10096
 10409                        L547:
 10410                        	.line	1262
 10411 06:249E: D4 3E        	pei	<L530+page_0
 10412 06:24A0: D4 3C        	pei	<L530+color_0
 10413 06:24A2: D4 0D        	pei	<L531+fheight_1
 10414 06:24A4: D4 0B        	pei	<L531+fwidth_1
 10415 06:24A6: D4 15        	pei	<L531+dy_1
 10416 06:24A8: D4 13        	pei	<L531+dx_1
 10417 06:24AA: A7 1B        	lda	[<L531+ptr_1]
 10418 06:24AC: 48           	pha
 10419 06:24AD: D4 21        	pei	<L531+fptr_1+2
 10420 06:24AF: D4 1F        	pei	<L531+fptr_1
 10421 06:24B1: 22 4B 2C 06  	jsl	~~k_put_binary_variablefont_point_ex
 10422 06:24B5: 85 01        	sta	<R0
 10423 06:24B7: 18           	clc
 10424 06:24B8: A5 01        	lda	<R0
 10425 06:24BA: 65 13        	adc	<L531+dx_1
 10426 06:24BC: 85 13        	sta	<L531+dx_1
 10427                        ;			}
 10428                        L10096:
 10429                        	.line	1263
 10430                        L10095:
 10431                        L10093:
 10432                        ;
 10433                        ;			//x+=k_put_binary_variablefont_p
                    oint_ex( fptr,*ptr,x,prect->y,fwidth,fheight,color,page);
 10434                        ;			//if(dx > xmax)
 10435                        ;			//	break;
 10436                        ;
 10437                        ;			if(dy > ymax)
 10438                        	.line	1269
 10439                        ;			{
 10440 06:24BE: 38           	sec
 10441 06:24BF: A5 11        	lda	<L531+ymax_1
 10442 06:24C1: E5 15        	sbc	<L531+dy_1
 10443 06:24C3: 70 03        	bvs	L548
 10444 06:24C5: 49 00 80     	eor	#$8000
 10445                        L548:
 10446 06:24C8: 10 03        	bpl	L549
 10447 06:24CA: 82 1B 00     	brl	L10097
 10448                        L549:
 10449                        	.line	1270
 10450                        ;				k_debug_integer("k_draw_
                    text_point_with_font:font ymax:",ymax);
 10451                        	.line	1271
 10452 06:24CD: D4 11        	pei	<L531+ymax_1
 10453 06:24CF: F4 xx xx     	pea	#^L83
  Mon Sep 27 2021  9:39                                                Page 195


 10454 06:24D2: F4 xx xx     	pea	#<L83
 10455 06:24D5: 22 xx xx xx  	jsl	~~k_debug_integer
 10456                        ;				k_debug_integer("k_draw_
                    text_point_with_font:font dy@max:",dy);
 10457                        	.line	1272
 10458 06:24D9: D4 15        	pei	<L531+dy_1
 10459 06:24DB: F4 xx xx     	pea	#^L83+39
 10460 06:24DE: F4 xx xx     	pea	#<L83+39
 10461 06:24E1: 22 xx xx xx  	jsl	~~k_debug_integer
 10462                        ;				break;
 10463                        	.line	1273
 10464 06:24E5: 82 11 00     	brl	L10091
 10465                        ;			}
 10466                        	.line	1274
 10467                        ;
 10468                        ;			ptr++;
 10469                        L10097:
 10470                        	.line	1276
 10471 06:24E8: E6 1B        	inc	<L531+ptr_1
 10472 06:24EA: D0 02        	bne	L550
 10473 06:24EC: E6 1D        	inc	<L531+ptr_1+2
 10474                        L550:
 10475                        ;			col+=8;
 10476                        	.line	1277
 10477 06:24EE: 18           	clc
 10478 06:24EF: A9 08 00     	lda	#$8
 10479 06:24F2: 65 09        	adc	<L531+col_1
 10480 06:24F4: 85 09        	sta	<L531+col_1
 10481                        ;		}
 10482                        	.line	1278
 10483 06:24F6: 82 4E FF     	brl	L10090
 10484                        L10091:
 10485                        ;	}
 10486                        	.line	1279
 10487                        L10089:
 10488                        ;
 10489                        ;
 10490                        ;	return col;
 10491                        	.line	1282
 10492 06:24F9: A5 09        	lda	<L531+col_1
 10493 06:24FB: 82 AB FE     	brl	L535
 10494                        ;}
 10495                        	.line	1283
 10496                        	.endblock	1283
 10497             00000026   L530	equ	38
 10498             00000009   L531	equ	9
 10499 06:24FE:              	ends
 10500                        	efunc
 10501                        	.endfunc	1283,9,38
 10502                        	.line	1283
 10503                        	data
 10504                        L83:
 10505 00:07D6: 6B 5F 64 72  	db	$6B,$5F,$64,$72,$61,$77,$5F,$74,$65,$78,
                    $74,$5F,$70,$6F,$69
       00:07DA: 61 77 5F 74 
       00:07DE: 65 78 74 5F 
       00:07E2: 70 6F 69 
 10506 00:07E5: 6E 74 5F 77  	db	$6E,$74,$5F,$77,$69,$74,$68,$5F,$66,$6F,
  Mon Sep 27 2021  9:39                                                Page 196


                    $6E,$74,$3A,$66,$6F
       00:07E9: 69 74 68 5F 
       00:07ED: 66 6F 6E 74 
       00:07F1: 3A 66 6F 
 10507 00:07F4: 6E 74 20 79  	db	$6E,$74,$20,$79,$6D,$61,$78,$3A,$00,$6B,
                    $5F,$64,$72,$61,$77
       00:07F8: 6D 61 78 3A 
       00:07FC: 00 6B 5F 64 
       00:0800: 72 61 77 
 10508 00:0803: 5F 74 65 78  	db	$5F,$74,$65,$78,$74,$5F,$70,$6F,$69,$6E,
                    $74,$5F,$77,$69,$74
       00:0807: 74 5F 70 6F 
       00:080B: 69 6E 74 5F 
       00:080F: 77 69 74 
 10509 00:0812: 68 5F 66 6F  	db	$68,$5F,$66,$6F,$6E,$74,$3A,$66,$6F,$6E,
                    $74,$20,$64,$79,$40
       00:0816: 6E 74 3A 66 
       00:081A: 6F 6E 74 20 
       00:081E: 64 79 40 
 10510 00:0821: 6D 61 78 3A  	db	$6D,$61,$78,$3A,$00
       00:0825: 00 
 10511 00:0826:              	ends
 10512                        ;
 10513                        ;
 10514                        ;
 10515                        ;int k_draw_text_point_with_font_ex(LPCSTR text,LP
                    CSTR charSet,int x,int y,char color,UINT page)
 10516                        ;{
 10517                        	.line	1287
 10518                        	.line	1288
 10519                        	GFX
 10520                        	xdef	~~k_draw_text_point_with_font_ex
 10521                        	func
 10522                        	.function	1288
 10523                        ~~k_draw_text_point_with_font_ex:
 10524                        	longa	on
 10525                        	longi	on
 10526 06:24FE: 3B           	tsc
 10527 06:24FF: 38           	sec
 10528 06:2500: E9 12 00     	sbc	#L552
 10529 06:2503: 1B           	tcs
 10530 06:2504: 0B           	phd
 10531 06:2505: 5B           	tcd
 10532             00000004   text_0	set	4
 10533             00000008   charSet_0	set	8
 10534             0000000C   x_0	set	12
 10535             0000000E   y_0	set	14
 10536             00000010   color_0	set	16
 10537             00000012   page_0	set	18
 10538                        	.block	1288
 10539                        ;	int col = 0;
 10540                        ;	int width = 0;
 10541                        ;	int height = 0;
 10542                        ;
 10543                        ;	LPCHAR ptr = NULL;
 10544                        ;
 10545                        ;	//k_debug_pointer("k_draw_text_point_with_font:f
                    ont charSet:",(LPVOID)charSet);
  Mon Sep 27 2021  9:39                                                Page 197


 10546                        ;
 10547                        ;	width  = (INT)(((INT)charSet[0]) & 0x00FF);
 10548             00000000   col_1	set	0
 10549             00000002   width_1	set	2
 10550             00000004   height_1	set	4
 10551             00000006   ptr_1	set	6
 10552                        	.sym	col,0,5,1,16
 10553                        	.sym	width,2,5,1,16
 10554                        	.sym	height,4,5,1,16
 10555                        	.sym	ptr,6,142,1,32
 10556                        	.sym	text,4,142,6,32
 10557                        	.sym	charSet,8,142,6,32
 10558                        	.sym	x,12,5,6,16
 10559                        	.sym	y,14,5,6,16
 10560                        	.sym	color,16,14,6,8
 10561                        	.sym	page,18,16,6,16
 10562 06:2506: 64 09        	stz	<L553+col_1
 10563 06:2508: 64 0B        	stz	<L553+width_1
 10564 06:250A: 64 0D        	stz	<L553+height_1
 10565 06:250C: 64 0F        	stz	<L553+ptr_1
 10566 06:250E: 64 11        	stz	<L553+ptr_1+2
 10567                        	.line	1297
 10568 06:2510: A7 1A        	lda	[<L552+charSet_0]
 10569 06:2512: 29 FF 00     	and	#<$ff
 10570 06:2515: 85 0B        	sta	<L553+width_1
 10571                        ;	height = (INT)(((INT)charSet[1]) & 0x00FF);
 10572                        	.line	1298
 10573 06:2517: A0 01 00     	ldy	#$1
 10574 06:251A: B7 1A        	lda	[<L552+charSet_0],Y
 10575 06:251C: 29 FF 00     	and	#<$ff
 10576 06:251F: 85 0D        	sta	<L553+height_1
 10577                        ;
 10578                        ;
 10579                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont x:",x);
 10580                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont y:",y);
 10581                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont width:",width);
 10582                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont height:",height);
 10583                        ;
 10584                        ;
 10585                        ;	ptr = (LPCHAR)(text);
 10586                        	.line	1307
 10587 06:2521: A5 16        	lda	<L552+text_0
 10588 06:2523: 85 0F        	sta	<L553+ptr_1
 10589 06:2525: A5 18        	lda	<L552+text_0+2
 10590 06:2527: 85 11        	sta	<L553+ptr_1+2
 10591                        ;	while(*ptr)
 10592                        	.line	1308
 10593                        L10098:
 10594 06:2529: A7 0F        	lda	[<L553+ptr_1]
 10595 06:252B: 29 FF 00     	and	#$ff
 10596 06:252E: D0 03        	bne	L555
 10597 06:2530: 82 40 00     	brl	L10099
 10598                        L555:
 10599                        ;	{
  Mon Sep 27 2021  9:39                                                Page 198


 10600                        	.line	1309
 10601                        ;		//x+=k_put_font_point(*ptr,x,y,color);
 10602                        ;
 10603                        ;		x+=k_put_binary_variablefont_point_ex( (
                    LPCHAR)&charSet[2] , *ptr,x,y,width,height,color,page);
 10604                        	.line	1312
 10605 06:2533: D4 24        	pei	<L552+page_0
 10606 06:2535: D4 22        	pei	<L552+color_0
 10607 06:2537: D4 0D        	pei	<L553+height_1
 10608 06:2539: D4 0B        	pei	<L553+width_1
 10609 06:253B: D4 20        	pei	<L552+y_0
 10610 06:253D: D4 1E        	pei	<L552+x_0
 10611 06:253F: A7 0F        	lda	[<L553+ptr_1]
 10612 06:2541: 48           	pha
 10613 06:2542: 18           	clc
 10614 06:2543: A9 02 00     	lda	#$2
 10615 06:2546: 65 1A        	adc	<L552+charSet_0
 10616 06:2548: 85 01        	sta	<R0
 10617 06:254A: A9 00 00     	lda	#$0
 10618 06:254D: 65 1C        	adc	<L552+charSet_0+2
 10619 06:254F: 85 03        	sta	<R0+2
 10620 06:2551: D4 03        	pei	<R0+2
 10621 06:2553: D4 01        	pei	<R0
 10622 06:2555: 22 4B 2C 06  	jsl	~~k_put_binary_variablefont_point_ex
 10623 06:2559: 85 05        	sta	<R1
 10624 06:255B: 18           	clc
 10625 06:255C: A5 05        	lda	<R1
 10626 06:255E: 65 1E        	adc	<L552+x_0
 10627 06:2560: 85 1E        	sta	<L552+x_0
 10628                        ;		//x+=k_put_binary_font_point( Bm437Amstr
                    adPC1512_2y , *ptr,x,y,color);
 10629                        ;
 10630                        ;		ptr++;
 10631                        	.line	1315
 10632 06:2562: E6 0F        	inc	<L553+ptr_1
 10633 06:2564: D0 02        	bne	L556
 10634 06:2566: E6 11        	inc	<L553+ptr_1+2
 10635                        L556:
 10636                        ;		col+=8;
 10637                        	.line	1316
 10638 06:2568: 18           	clc
 10639 06:2569: A9 08 00     	lda	#$8
 10640 06:256C: 65 09        	adc	<L553+col_1
 10641 06:256E: 85 09        	sta	<L553+col_1
 10642                        ;	}
 10643                        	.line	1317
 10644 06:2570: 82 B6 FF     	brl	L10098
 10645                        L10099:
 10646                        ;
 10647                        ;	return col;
 10648                        	.line	1319
 10649 06:2573: A5 09        	lda	<L553+col_1
 10650                        L557:
 10651 06:2575: A8           	tay
 10652 06:2576: A5 14        	lda	<L552+2
 10653 06:2578: 85 24        	sta	<L552+2+16
 10654 06:257A: A5 13        	lda	<L552+1
 10655 06:257C: 85 23        	sta	<L552+1+16
  Mon Sep 27 2021  9:39                                                Page 199


 10656 06:257E: 2B           	pld
 10657 06:257F: 3B           	tsc
 10658 06:2580: 18           	clc
 10659 06:2581: 69 22 00     	adc	#L552+16
 10660 06:2584: 1B           	tcs
 10661 06:2585: 98           	tya
 10662 06:2586: 6B           	rtl
 10663                        ;}
 10664                        	.line	1320
 10665                        	.endblock	1320
 10666             00000012   L552	equ	18
 10667             00000009   L553	equ	9
 10668 06:2587:              	ends
 10669                        	efunc
 10670                        	.endfunc	1320,9,18
 10671                        	.line	1320
 10672                        ;
 10673                        ;int k_draw_text_point_with_font(LPCSTR text,LPCST
                    R charSet,int x,int y,char color)
 10674                        ;{
 10675                        	.line	1322
 10676                        	.line	1323
 10677                        	GFX
 10678                        	xdef	~~k_draw_text_point_with_font
 10679                        	func
 10680                        	.function	1323
 10681                        ~~k_draw_text_point_with_font:
 10682                        	longa	on
 10683                        	longi	on
 10684 06:2587: 3B           	tsc
 10685 06:2588: 38           	sec
 10686 06:2589: E9 12 00     	sbc	#L558
 10687 06:258C: 1B           	tcs
 10688 06:258D: 0B           	phd
 10689 06:258E: 5B           	tcd
 10690             00000004   text_0	set	4
 10691             00000008   charSet_0	set	8
 10692             0000000C   x_0	set	12
 10693             0000000E   y_0	set	14
 10694             00000010   color_0	set	16
 10695                        	.block	1323
 10696                        ;	int col = 0;
 10697                        ;	int width = 0;
 10698                        ;	int height = 0;
 10699                        ;
 10700                        ;	LPCHAR ptr = NULL;
 10701                        ;
 10702                        ;	//k_debug_pointer("k_draw_text_point_with_font:f
                    ont charSet:",(LPVOID)charSet);
 10703                        ;
 10704                        ;	width  = charSet[0];
 10705             00000000   col_1	set	0
 10706             00000002   width_1	set	2
 10707             00000004   height_1	set	4
 10708             00000006   ptr_1	set	6
 10709                        	.sym	col,0,5,1,16
 10710                        	.sym	width,2,5,1,16
 10711                        	.sym	height,4,5,1,16
  Mon Sep 27 2021  9:39                                                Page 200


 10712                        	.sym	ptr,6,142,1,32
 10713                        	.sym	text,4,142,6,32
 10714                        	.sym	charSet,8,142,6,32
 10715                        	.sym	x,12,5,6,16
 10716                        	.sym	y,14,5,6,16
 10717                        	.sym	color,16,14,6,8
 10718 06:258F: 64 09        	stz	<L559+col_1
 10719 06:2591: 64 0B        	stz	<L559+width_1
 10720 06:2593: 64 0D        	stz	<L559+height_1
 10721 06:2595: 64 0F        	stz	<L559+ptr_1
 10722 06:2597: 64 11        	stz	<L559+ptr_1+2
 10723                        	.line	1332
 10724 06:2599: A7 1A        	lda	[<L558+charSet_0]
 10725 06:259B: 29 FF 00     	and	#$ff
 10726 06:259E: 85 0B        	sta	<L559+width_1
 10727                        ;	height = charSet[1];
 10728                        	.line	1333
 10729 06:25A0: A0 01 00     	ldy	#$1
 10730 06:25A3: B7 1A        	lda	[<L558+charSet_0],Y
 10731 06:25A5: 29 FF 00     	and	#$ff
 10732 06:25A8: 85 0D        	sta	<L559+height_1
 10733                        ;
 10734                        ;
 10735                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont width:",width);
 10736                        ;	//k_debug_integer("k_draw_text_point_with_font:f
                    ont height:",height);
 10737                        ;
 10738                        ;
 10739                        ;	ptr = (LPCHAR)(text);
 10740                        	.line	1340
 10741 06:25AA: A5 16        	lda	<L558+text_0
 10742 06:25AC: 85 0F        	sta	<L559+ptr_1
 10743 06:25AE: A5 18        	lda	<L558+text_0+2
 10744 06:25B0: 85 11        	sta	<L559+ptr_1+2
 10745                        ;	while(*ptr)
 10746                        	.line	1341
 10747                        L10100:
 10748 06:25B2: A7 0F        	lda	[<L559+ptr_1]
 10749 06:25B4: 29 FF 00     	and	#$ff
 10750 06:25B7: D0 03        	bne	L561
 10751 06:25B9: 82 3E 00     	brl	L10101
 10752                        L561:
 10753                        ;	{
 10754                        	.line	1342
 10755                        ;		//x+=k_put_font_point(*ptr,x,y,color);
 10756                        ;
 10757                        ;		x+=k_put_binary_variablefont_point( (LPC
                    HAR)&charSet[2] , *ptr,x,y,width,height,color);
 10758                        	.line	1345
 10759 06:25BC: D4 22        	pei	<L558+color_0
 10760 06:25BE: D4 0D        	pei	<L559+height_1
 10761 06:25C0: D4 0B        	pei	<L559+width_1
 10762 06:25C2: D4 20        	pei	<L558+y_0
 10763 06:25C4: D4 1E        	pei	<L558+x_0
 10764 06:25C6: A7 0F        	lda	[<L559+ptr_1]
 10765 06:25C8: 48           	pha
 10766 06:25C9: 18           	clc
  Mon Sep 27 2021  9:39                                                Page 201


 10767 06:25CA: A9 02 00     	lda	#$2
 10768 06:25CD: 65 1A        	adc	<L558+charSet_0
 10769 06:25CF: 85 01        	sta	<R0
 10770 06:25D1: A9 00 00     	lda	#$0
 10771 06:25D4: 65 1C        	adc	<L558+charSet_0+2
 10772 06:25D6: 85 03        	sta	<R0+2
 10773 06:25D8: D4 03        	pei	<R0+2
 10774 06:25DA: D4 01        	pei	<R0
 10775 06:25DC: 22 51 2B 06  	jsl	~~k_put_binary_variablefont_point
 10776 06:25E0: 85 05        	sta	<R1
 10777 06:25E2: 18           	clc
 10778 06:25E3: A5 05        	lda	<R1
 10779 06:25E5: 65 1E        	adc	<L558+x_0
 10780 06:25E7: 85 1E        	sta	<L558+x_0
 10781                        ;		//x+=k_put_binary_font_point( Bm437Amstr
                    adPC1512_2y , *ptr,x,y,color);
 10782                        ;
 10783                        ;		ptr++;
 10784                        	.line	1348
 10785 06:25E9: E6 0F        	inc	<L559+ptr_1
 10786 06:25EB: D0 02        	bne	L562
 10787 06:25ED: E6 11        	inc	<L559+ptr_1+2
 10788                        L562:
 10789                        ;		col+=8;
 10790                        	.line	1349
 10791 06:25EF: 18           	clc
 10792 06:25F0: A9 08 00     	lda	#$8
 10793 06:25F3: 65 09        	adc	<L559+col_1
 10794 06:25F5: 85 09        	sta	<L559+col_1
 10795                        ;	}
 10796                        	.line	1350
 10797 06:25F7: 82 B8 FF     	brl	L10100
 10798                        L10101:
 10799                        ;
 10800                        ;	return col;
 10801                        	.line	1352
 10802 06:25FA: A5 09        	lda	<L559+col_1
 10803                        L563:
 10804 06:25FC: A8           	tay
 10805 06:25FD: A5 14        	lda	<L558+2
 10806 06:25FF: 85 22        	sta	<L558+2+14
 10807 06:2601: A5 13        	lda	<L558+1
 10808 06:2603: 85 21        	sta	<L558+1+14
 10809 06:2605: 2B           	pld
 10810 06:2606: 3B           	tsc
 10811 06:2607: 18           	clc
 10812 06:2608: 69 20 00     	adc	#L558+14
 10813 06:260B: 1B           	tcs
 10814 06:260C: 98           	tya
 10815 06:260D: 6B           	rtl
 10816                        ;}
 10817                        	.line	1353
 10818                        	.endblock	1353
 10819             00000012   L558	equ	18
 10820             00000009   L559	equ	9
 10821 06:260E:              	ends
 10822                        	efunc
 10823                        	.endfunc	1353,9,18
  Mon Sep 27 2021  9:39                                                Page 202


 10824                        	.line	1353
 10825                        ;
 10826                        ;
 10827                        ;int k_draw_text_scaled(char FAR *text,int row,int
                     col,char color,int scale)
 10828                        ;{
 10829                        	.line	1356
 10830                        	.line	1357
 10831                        	GFX
 10832                        	xdef	~~k_draw_text_scaled
 10833                        	func
 10834                        	.function	1357
 10835                        ~~k_draw_text_scaled:
 10836                        	longa	on
 10837                        	longi	on
 10838 06:260E: 3B           	tsc
 10839 06:260F: 38           	sec
 10840 06:2610: E9 04 00     	sbc	#L564
 10841 06:2613: 1B           	tcs
 10842 06:2614: 0B           	phd
 10843 06:2615: 5B           	tcd
 10844             00000004   text_0	set	4
 10845             00000008   row_0	set	8
 10846             0000000A   col_0	set	10
 10847             0000000C   color_0	set	12
 10848             0000000E   scale_0	set	14
 10849                        	.block	1357
 10850                        ;	char FAR * ptr = (text);
 10851                        ;	while(*ptr)
 10852             00000000   ptr_1	set	0
 10853                        	.sym	ptr,0,142,1,32
 10854                        	.sym	text,4,142,6,32
 10855                        	.sym	row,8,5,6,16
 10856                        	.sym	col,10,5,6,16
 10857                        	.sym	color,12,14,6,8
 10858                        	.sym	scale,14,5,6,16
 10859 06:2616: A5 08        	lda	<L564+text_0
 10860 06:2618: 85 01        	sta	<L565+ptr_1
 10861 06:261A: A5 0A        	lda	<L564+text_0+2
 10862 06:261C: 85 03        	sta	<L565+ptr_1+2
 10863                        	.line	1359
 10864                        L10102:
 10865 06:261E: A7 01        	lda	[<L565+ptr_1]
 10866 06:2620: 29 FF 00     	and	#$ff
 10867 06:2623: D0 03        	bne	L567
 10868 06:2625: 82 1A 00     	brl	L10103
 10869                        L567:
 10870                        ;	{
 10871                        	.line	1360
 10872                        ;		k_put_font_scaled(*ptr,col,row,color,sca
                    le);
 10873                        	.line	1361
 10874 06:2628: D4 12        	pei	<L564+scale_0
 10875 06:262A: D4 10        	pei	<L564+color_0
 10876 06:262C: D4 0C        	pei	<L564+row_0
 10877 06:262E: D4 0E        	pei	<L564+col_0
 10878 06:2630: A7 01        	lda	[<L565+ptr_1]
 10879 06:2632: 48           	pha
  Mon Sep 27 2021  9:39                                                Page 203


 10880 06:2633: 22 81 35 06  	jsl	~~k_put_font_scaled
 10881                        ;		col++;
 10882                        	.line	1362
 10883 06:2637: E6 0E        	inc	<L564+col_0
 10884                        ;		ptr++;
 10885                        	.line	1363
 10886 06:2639: E6 01        	inc	<L565+ptr_1
 10887 06:263B: D0 02        	bne	L568
 10888 06:263D: E6 03        	inc	<L565+ptr_1+2
 10889                        L568:
 10890                        ;	}
 10891                        	.line	1364
 10892 06:263F: 82 DC FF     	brl	L10102
 10893                        L10103:
 10894                        ;	
 10895                        ;	return col;
 10896                        	.line	1366
 10897 06:2642: A5 0E        	lda	<L564+col_0
 10898                        L569:
 10899 06:2644: A8           	tay
 10900 06:2645: A5 06        	lda	<L564+2
 10901 06:2647: 85 12        	sta	<L564+2+12
 10902 06:2649: A5 05        	lda	<L564+1
 10903 06:264B: 85 11        	sta	<L564+1+12
 10904 06:264D: 2B           	pld
 10905 06:264E: 3B           	tsc
 10906 06:264F: 18           	clc
 10907 06:2650: 69 10 00     	adc	#L564+12
 10908 06:2653: 1B           	tcs
 10909 06:2654: 98           	tya
 10910 06:2655: 6B           	rtl
 10911                        ;}
 10912                        	.line	1367
 10913                        	.endblock	1367
 10914             00000004   L564	equ	4
 10915             00000001   L565	equ	1
 10916 06:2656:              	ends
 10917                        	efunc
 10918                        	.endfunc	1367,1,4
 10919                        	.line	1367
 10920                        ;
 10921                        ;int k_get_font_metrics(FONTMETRIC FAR *metric)
 10922                        ;{
 10923                        	.line	1369
 10924                        	.line	1370
 10925                        	GFX
 10926                        	xdef	~~k_get_font_metrics
 10927                        	func
 10928                        	.function	1370
 10929                        ~~k_get_font_metrics:
 10930                        	longa	on
 10931                        	longi	on
 10932 06:2656: 3B           	tsc
 10933 06:2657: 38           	sec
 10934 06:2658: E9 00 00     	sbc	#L570
 10935 06:265B: 1B           	tcs
 10936 06:265C: 0B           	phd
 10937 06:265D: 5B           	tcd
  Mon Sep 27 2021  9:39                                                Page 204


 10938             00000004   metric_0	set	4
 10939                        	.block	1370
 10940                        ;	metric->width  = FONTW;
 10941                        	.sym	metric,4,138,6,32,35
 10942                        	.line	1371
 10943 06:265E: 22 36 86 06  	jsl	~~k_font_getFontWidth
 10944 06:2662: 87 04        	sta	[<L570+metric_0]
 10945                        ;	metric->height = FONTH;
 10946                        	.line	1372
 10947 06:2664: 22 21 86 06  	jsl	~~k_font_getFontHeight
 10948 06:2668: A0 02 00     	ldy	#$2
 10949 06:266B: 97 04        	sta	[<L570+metric_0],Y
 10950                        ;	
 10951                        ;	return sizeof(FONTMETRIC);
 10952                        	.line	1374
 10953 06:266D: A9 04 00     	lda	#$4
 10954                        L573:
 10955 06:2670: A8           	tay
 10956 06:2671: A5 02        	lda	<L570+2
 10957 06:2673: 85 06        	sta	<L570+2+4
 10958 06:2675: A5 01        	lda	<L570+1
 10959 06:2677: 85 05        	sta	<L570+1+4
 10960 06:2679: 2B           	pld
 10961 06:267A: 3B           	tsc
 10962 06:267B: 18           	clc
 10963 06:267C: 69 04 00     	adc	#L570+4
 10964 06:267F: 1B           	tcs
 10965 06:2680: 98           	tya
 10966 06:2681: 6B           	rtl
 10967                        ;}
 10968                        	.line	1375
 10969                        	.endblock	1375
 10970             00000000   L570	equ	0
 10971             00000001   L571	equ	1
 10972 06:2682:              	ends
 10973                        	efunc
 10974                        	.endfunc	1375,1,0
 10975                        	.line	1375
 10976                        ;
 10977                        ;int k_put_font_point(char outChar,int cx,int cy,c
                    har color)
 10978                        ;{
 10979                        	.line	1377
 10980                        	.line	1378
 10981                        	GFX
 10982                        	xdef	~~k_put_font_point
 10983                        	func
 10984                        	.function	1378
 10985                        ~~k_put_font_point:
 10986                        	longa	on
 10987                        	longi	on
 10988 06:2682: 3B           	tsc
 10989 06:2683: 38           	sec
 10990 06:2684: E9 1D 00     	sbc	#L574
 10991 06:2687: 1B           	tcs
 10992 06:2688: 0B           	phd
 10993 06:2689: 5B           	tcd
 10994             00000004   outChar_0	set	4
  Mon Sep 27 2021  9:39                                                Page 205


 10995             00000006   cx_0	set	6
 10996             00000008   cy_0	set	8
 10997             0000000A   color_0	set	10
 10998                        	.block	1378
 10999                        ;	int x = 0;
 11000                        ;	int y = 0;
 11001                        ;	int textX = cx;
 11002                        ;	int textY = cy;
 11003                        ;
 11004                        ;	char FAR* img = NULL;//fontImg[ix];
 11005                        ;
 11006                        ;	outChar = toupper(outChar); // fix this so we ca
                    n to lower case
 11007             00000000   x_1	set	0
 11008             00000002   y_1	set	2
 11009             00000004   textX_1	set	4
 11010             00000006   textY_1	set	6
 11011             00000008   img_1	set	8
 11012                        	.sym	x,0,5,1,16
 11013                        	.sym	y,2,5,1,16
 11014                        	.sym	textX,4,5,1,16
 11015                        	.sym	textY,6,5,1,16
 11016                        	.sym	img,8,142,1,32
 11017                        	.sym	outChar,4,14,6,8
 11018                        	.sym	cx,6,5,6,16
 11019                        	.sym	cy,8,5,6,16
 11020                        	.sym	color,10,14,6,8
 11021 06:268A: 64 11        	stz	<L575+x_1
 11022 06:268C: 64 13        	stz	<L575+y_1
 11023 06:268E: A5 23        	lda	<L574+cx_0
 11024 06:2690: 85 15        	sta	<L575+textX_1
 11025 06:2692: A5 25        	lda	<L574+cy_0
 11026 06:2694: 85 17        	sta	<L575+textY_1
 11027 06:2696: 64 19        	stz	<L575+img_1
 11028 06:2698: 64 1B        	stz	<L575+img_1+2
 11029                        	.line	1386
 11030 06:269A: A5 21        	lda	<L574+outChar_0
 11031 06:269C: 29 FF 00     	and	#$ff
 11032 06:269F: 48           	pha
 11033 06:26A0: 22 xx xx xx  	jsl	~~toupper
 11034 06:26A4: E2 20        	sep	#$20
 11035                        	longa	off
 11036 06:26A6: 85 21        	sta	<L574+outChar_0
 11037 06:26A8: C2 20        	rep	#$20
 11038                        	longa	on
 11039                        ;
 11040                        ;    if(outChar == 32)
 11041                        	.line	1388
 11042                        ;	{
 11043 06:26AA: E2 20        	sep	#$20
 11044                        	longa	off
 11045 06:26AC: A5 21        	lda	<L574+outChar_0
 11046 06:26AE: C9 20        	cmp	#<$20
 11047 06:26B0: C2 20        	rep	#$20
 11048                        	longa	on
 11049 06:26B2: F0 03        	beq	L577
 11050 06:26B4: 82 07 00     	brl	L10104
 11051                        L577:
  Mon Sep 27 2021  9:39                                                Page 206


 11052                        	.line	1389
 11053                        ;	   img = NULL;//fontSpace;
 11054                        	.line	1390
 11055 06:26B7: 64 19        	stz	<L575+img_1
 11056 06:26B9: 64 1B        	stz	<L575+img_1+2
 11057                        ;    }
 11058                        	.line	1391
 11059                        ;    else
 11060 06:26BB: 82 5B 00     	brl	L10105
 11061                        L10104:
 11062                        ;	{
 11063                        	.line	1393
 11064                        ;	    img = fontImg[(int)characterROMMapping[(int)
                    (outChar & 0xFF)]];
 11065                        	.line	1394
 11066 06:26BE: A5 21        	lda	<L574+outChar_0
 11067 06:26C0: 29 FF 00     	and	#<$ff
 11068 06:26C3: 85 09        	sta	<R2
 11069 06:26C5: A0 00 00     	ldy	#$0
 11070 06:26C8: A5 09        	lda	<R2
 11071 06:26CA: 10 01        	bpl	L578
 11072 06:26CC: 88           	dey
 11073                        L578:
 11074 06:26CD: 85 09        	sta	<R2
 11075 06:26CF: 84 0B        	sty	<R2+2
 11076 06:26D1: D4 0B        	pei	<R2+2
 11077 06:26D3: D4 09        	pei	<R2
 11078 06:26D5: A9 01 00     	lda	#$1
 11079                        	xref	~~~lasl
 11080 06:26D8: 22 xx xx xx  	jsl	~~~lasl
 11081 06:26DC: 85 05        	sta	<R1
 11082 06:26DE: 86 07        	stx	<R1+2
 11083 06:26E0: 18           	clc
 11084 06:26E1: A9 xx xx     	lda	#<~~characterROMMapping
 11085 06:26E4: 65 05        	adc	<R1
 11086 06:26E6: 85 0D        	sta	<R3
 11087 06:26E8: A9 xx xx     	lda	#^~~characterROMMapping
 11088 06:26EB: 65 07        	adc	<R1+2
 11089 06:26ED: 85 0F        	sta	<R3+2
 11090 06:26EF: A0 00 00     	ldy	#$0
 11091 06:26F2: A7 0D        	lda	[<R3]
 11092 06:26F4: 10 01        	bpl	L579
 11093 06:26F6: 88           	dey
 11094                        L579:
 11095 06:26F7: 85 05        	sta	<R1
 11096 06:26F9: 84 07        	sty	<R1+2
 11097 06:26FB: D4 07        	pei	<R1+2
 11098 06:26FD: D4 05        	pei	<R1
 11099 06:26FF: A9 06 00     	lda	#$6
 11100                        	xref	~~~lasl
 11101 06:2702: 22 xx xx xx  	jsl	~~~lasl
 11102 06:2706: 85 01        	sta	<R0
 11103 06:2708: 86 03        	stx	<R0+2
 11104 06:270A: 18           	clc
 11105 06:270B: A9 xx xx     	lda	#<~~fontImg
 11106 06:270E: 65 01        	adc	<R0
 11107 06:2710: 85 19        	sta	<L575+img_1
 11108 06:2712: A9 xx xx     	lda	#^~~fontImg
  Mon Sep 27 2021  9:39                                                Page 207


 11109 06:2715: 65 03        	adc	<R0+2
 11110 06:2717: 85 1B        	sta	<L575+img_1+2
 11111                        ;	}
 11112                        	.line	1395
 11113                        L10105:
 11114                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 11115                        ;
 11116                        ;	// get the font 'image'
 11117                        ;        //char *img = fontImg[ix]; 
 11118                        ;        // loop through pixel rows
 11119                        ;	if(img!=NULL)
 11120                        	.line	1401
 11121                        ;	{
 11122 06:2719: A5 19        	lda	<L575+img_1
 11123 06:271B: 05 1B        	ora	<L575+img_1+2
 11124 06:271D: D0 03        	bne	L580
 11125 06:271F: 82 91 00     	brl	L10106
 11126                        L580:
 11127                        	.line	1402
 11128                        ;		for (y = 0; y < FONTH; y++) 
 11129                        	.line	1403
 11130 06:2722: 64 13        	stz	<L575+y_1
 11131 06:2724: 82 7D 00     	brl	L10110
 11132                        L10109:
 11133                        ;		{
 11134                        	.line	1404
 11135                        ;			// loop through pixel columns
 11136                        ;			for (x = 0; x < FONTW; x++) 
 11137                        	.line	1406
 11138 06:2727: 64 11        	stz	<L575+x_1
 11139 06:2729: 82 67 00     	brl	L10114
 11140                        L10113:
 11141                        ;			{
 11142                        	.line	1407
 11143                        ;				// get the pixel value
 11144                        ;				char b = img[y * FONTW +
                     x];
 11145                        ;				if (b > 0) 
 11146                        	.block	1410
 11147             0000000C   b_2	set	12
 11148                        	.sym	b,12,14,1,8
 11149 06:272C: 22 36 86 06  	jsl	~~k_font_getFontWidth
 11150 06:2730: 85 01        	sta	<R0
 11151 06:2732: A5 01        	lda	<R0
 11152 06:2734: A6 13        	ldx	<L575+y_1
 11153                        	xref	~~~mul
 11154 06:2736: 22 xx xx xx  	jsl	~~~mul
 11155 06:273A: 85 01        	sta	<R0
 11156 06:273C: 18           	clc
 11157 06:273D: A5 01        	lda	<R0
 11158 06:273F: 65 11        	adc	<L575+x_1
 11159 06:2741: 85 05        	sta	<R1
 11160 06:2743: E2 20        	sep	#$20
 11161                        	longa	off
 11162 06:2745: A4 05        	ldy	<R1
 11163 06:2747: B7 19        	lda	[<L575+img_1],Y
 11164 06:2749: 85 1D        	sta	<L575+b_2
  Mon Sep 27 2021  9:39                                                Page 208


 11165 06:274B: C2 20        	rep	#$20
 11166                        	longa	on
 11167                        	.line	1410
 11168                        ;				{ // plot the pixel
 11169 06:274D: E2 20        	sep	#$20
 11170                        	longa	off
 11171 06:274F: A9 00        	lda	#$0
 11172 06:2751: C5 1D        	cmp	<L575+b_2
 11173 06:2753: C2 20        	rep	#$20
 11174                        	longa	on
 11175 06:2755: 90 03        	bcc	L582
 11176 06:2757: 82 37 00     	brl	L10115
 11177                        L582:
 11178                        	.line	1411
 11179                        ;					k_draw_pixel(tex
                    tX + x, textY + y, color);
 11180                        	.line	1412
 11181 06:275A: D4 27        	pei	<L574+color_0
 11182 06:275C: 18           	clc
 11183 06:275D: A5 17        	lda	<L575+textY_1
 11184 06:275F: 65 13        	adc	<L575+y_1
 11185 06:2761: 85 01        	sta	<R0
 11186 06:2763: A0 00 00     	ldy	#$0
 11187 06:2766: A5 01        	lda	<R0
 11188 06:2768: 10 01        	bpl	L583
 11189 06:276A: 88           	dey
 11190                        L583:
 11191 06:276B: 85 01        	sta	<R0
 11192 06:276D: 84 03        	sty	<R0+2
 11193 06:276F: D4 03        	pei	<R0+2
 11194 06:2771: D4 01        	pei	<R0
 11195 06:2773: 18           	clc
 11196 06:2774: A5 15        	lda	<L575+textX_1
 11197 06:2776: 65 11        	adc	<L575+x_1
 11198 06:2778: 85 05        	sta	<R1
 11199 06:277A: A0 00 00     	ldy	#$0
 11200 06:277D: A5 05        	lda	<R1
 11201 06:277F: 10 01        	bpl	L584
 11202 06:2781: 88           	dey
 11203                        L584:
 11204 06:2782: 85 05        	sta	<R1
 11205 06:2784: 84 07        	sty	<R1+2
 11206 06:2786: D4 07        	pei	<R1+2
 11207 06:2788: D4 05        	pei	<R1
 11208 06:278A: 22 CD 14 06  	jsl	~~k_draw_pixel
 11209                        ;				}
 11210                        	.line	1413
 11211                        ;				else 
 11212 06:278E: 82 00 00     	brl	L10116
 11213                        L10115:
 11214                        ;				{ 
 11215                        	.line	1415
 11216                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 11217                        ;				}
 11218                        	.line	1417
 11219                        L10116:
 11220                        ;			} // end "for x"
  Mon Sep 27 2021  9:39                                                Page 209


 11221                        	.endblock	1418
 11222                        	.line	1418
 11223                        L10111:
 11224 06:2791: E6 11        	inc	<L575+x_1
 11225                        L10114:
 11226 06:2793: 22 36 86 06  	jsl	~~k_font_getFontWidth
 11227 06:2797: 85 01        	sta	<R0
 11228 06:2799: A5 11        	lda	<L575+x_1
 11229 06:279B: C5 01        	cmp	<R0
 11230 06:279D: B0 03        	bcs	L585
 11231 06:279F: 82 8A FF     	brl	L10113
 11232                        L585:
 11233                        L10112:
 11234                        ;		} // end "for y"
 11235                        	.line	1419
 11236                        L10107:
 11237 06:27A2: E6 13        	inc	<L575+y_1
 11238                        L10110:
 11239 06:27A4: 22 21 86 06  	jsl	~~k_font_getFontHeight
 11240 06:27A8: 85 01        	sta	<R0
 11241 06:27AA: A5 13        	lda	<L575+y_1
 11242 06:27AC: C5 01        	cmp	<R0
 11243 06:27AE: B0 03        	bcs	L586
 11244 06:27B0: 82 74 FF     	brl	L10109
 11245                        L586:
 11246                        L10108:
 11247                        ;	}
 11248                        	.line	1420
 11249                        ;	return FONTW;
 11250                        L10106:
 11251                        	.line	1421
 11252 06:27B3: 22 36 86 06  	jsl	~~k_font_getFontWidth
 11253                        L587:
 11254 06:27B7: A8           	tay
 11255 06:27B8: A5 1F        	lda	<L574+2
 11256 06:27BA: 85 27        	sta	<L574+2+8
 11257 06:27BC: A5 1E        	lda	<L574+1
 11258 06:27BE: 85 26        	sta	<L574+1+8
 11259 06:27C0: 2B           	pld
 11260 06:27C1: 3B           	tsc
 11261 06:27C2: 18           	clc
 11262 06:27C3: 69 25 00     	adc	#L574+8
 11263 06:27C6: 1B           	tcs
 11264 06:27C7: 98           	tya
 11265 06:27C8: 6B           	rtl
 11266                        ;}
 11267                        	.line	1422
 11268                        	.endblock	1422
 11269             0000001D   L574	equ	29
 11270             00000011   L575	equ	17
 11271 06:27C9:              	ends
 11272                        	efunc
 11273                        	.endfunc	1422,17,29
 11274                        	.line	1422
 11275                        ;
 11276                        ;int k_put_binary_font_point(LPCHAR fontSet, char 
                    outChar,int cx,int cy,char color)
 11277                        ;{
  Mon Sep 27 2021  9:39                                                Page 210


 11278                        	.line	1424
 11279                        	.line	1425
 11280                        	GFX
 11281                        	xdef	~~k_put_binary_font_point
 11282                        	func
 11283                        	.function	1425
 11284                        ~~k_put_binary_font_point:
 11285                        	longa	on
 11286                        	longi	on
 11287 06:27C9: 3B           	tsc
 11288 06:27CA: 38           	sec
 11289 06:27CB: E9 18 00     	sbc	#L588
 11290 06:27CE: 1B           	tcs
 11291 06:27CF: 0B           	phd
 11292 06:27D0: 5B           	tcd
 11293             00000004   fontSet_0	set	4
 11294             00000008   outChar_0	set	8
 11295             0000000A   cx_0	set	10
 11296             0000000C   cy_0	set	12
 11297             0000000E   color_0	set	14
 11298                        	.block	1425
 11299                        ;	int x = 0;
 11300                        ;	int y = 0;
 11301                        ;	int textX = cx;
 11302                        ;	int textY = cy;
 11303                        ;
 11304                        ;	unsigned char FAR* img = NULL;//fontImg[ix];
 11305                        ;
 11306                        ;    if(outChar == 32)
 11307             00000000   x_1	set	0
 11308             00000002   y_1	set	2
 11309             00000004   textX_1	set	4
 11310             00000006   textY_1	set	6
 11311             00000008   img_1	set	8
 11312                        	.sym	x,0,5,1,16
 11313                        	.sym	y,2,5,1,16
 11314                        	.sym	textX,4,5,1,16
 11315                        	.sym	textY,6,5,1,16
 11316                        	.sym	img,8,142,1,32
 11317                        	.sym	fontSet,4,142,6,32
 11318                        	.sym	outChar,8,14,6,8
 11319                        	.sym	cx,10,5,6,16
 11320                        	.sym	cy,12,5,6,16
 11321                        	.sym	color,14,14,6,8
 11322 06:27D1: 64 09        	stz	<L589+x_1
 11323 06:27D3: 64 0B        	stz	<L589+y_1
 11324 06:27D5: A5 22        	lda	<L588+cx_0
 11325 06:27D7: 85 0D        	sta	<L589+textX_1
 11326 06:27D9: A5 24        	lda	<L588+cy_0
 11327 06:27DB: 85 0F        	sta	<L589+textY_1
 11328 06:27DD: 64 11        	stz	<L589+img_1
 11329 06:27DF: 64 13        	stz	<L589+img_1+2
 11330                        	.line	1433
 11331                        ;	{
 11332 06:27E1: E2 20        	sep	#$20
 11333                        	longa	off
 11334 06:27E3: A5 20        	lda	<L588+outChar_0
 11335 06:27E5: C9 20        	cmp	#<$20
  Mon Sep 27 2021  9:39                                                Page 211


 11336 06:27E7: C2 20        	rep	#$20
 11337                        	longa	on
 11338 06:27E9: F0 03        	beq	L591
 11339 06:27EB: 82 07 00     	brl	L10117
 11340                        L591:
 11341                        	.line	1434
 11342                        ;	   img = NULL;//fontSpace;
 11343                        	.line	1435
 11344 06:27EE: 64 11        	stz	<L589+img_1
 11345 06:27F0: 64 13        	stz	<L589+img_1+2
 11346                        ;    }
 11347                        	.line	1436
 11348                        ;    else
 11349 06:27F2: 82 2F 00     	brl	L10118
 11350                        L10117:
 11351                        ;	{
 11352                        	.line	1438
 11353                        ;	    //img = &(fontSet[characterROMMapping[outCha
                    r]]);
 11354                        ;    	img = fontSet+=(8*outChar);
 11355                        	.line	1440
 11356 06:27F5: A5 20        	lda	<L588+outChar_0
 11357 06:27F7: 29 FF 00     	and	#$ff
 11358 06:27FA: 85 05        	sta	<R1
 11359 06:27FC: A5 05        	lda	<R1
 11360 06:27FE: 0A           	asl	A
 11361 06:27FF: 0A           	asl	A
 11362 06:2800: 0A           	asl	A
 11363 06:2801: 85 01        	sta	<R0
 11364 06:2803: A0 00 00     	ldy	#$0
 11365 06:2806: A5 01        	lda	<R0
 11366 06:2808: 10 01        	bpl	L592
 11367 06:280A: 88           	dey
 11368                        L592:
 11369 06:280B: 85 01        	sta	<R0
 11370 06:280D: 84 03        	sty	<R0+2
 11371 06:280F: 18           	clc
 11372 06:2810: A5 1C        	lda	<L588+fontSet_0
 11373 06:2812: 65 01        	adc	<R0
 11374 06:2814: 85 1C        	sta	<L588+fontSet_0
 11375 06:2816: A5 1E        	lda	<L588+fontSet_0+2
 11376 06:2818: 65 03        	adc	<R0+2
 11377 06:281A: 85 1E        	sta	<L588+fontSet_0+2
 11378 06:281C: A5 1C        	lda	<L588+fontSet_0
 11379 06:281E: 85 11        	sta	<L589+img_1
 11380 06:2820: A5 1E        	lda	<L588+fontSet_0+2
 11381 06:2822: 85 13        	sta	<L589+img_1+2
 11382                        ;    	//img = "\xc3\xc3\xc3\xc3\xc3\xc3\xc3\xc
                    3";//&(fontSet[outChar]);
 11383                        ;	}
 11384                        	.line	1442
 11385                        L10118:
 11386                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 11387                        ;
 11388                        ;	// get the font 'image'
 11389                        ;        //char *img = fontImg[ix];
 11390                        ;        // loop through pixel rows
  Mon Sep 27 2021  9:39                                                Page 212


 11391                        ;	if(img!=NULL)
 11392                        	.line	1448
 11393                        ;	{
 11394 06:2824: A5 11        	lda	<L589+img_1
 11395 06:2826: 05 13        	ora	<L589+img_1+2
 11396 06:2828: D0 03        	bne	L593
 11397 06:282A: 82 0E 03     	brl	L10119
 11398                        L593:
 11399                        	.line	1449
 11400                        ;		for (y = 0; y < FONTH; y++)
 11401                        	.line	1450
 11402 06:282D: 64 0B        	stz	<L589+y_1
 11403 06:282F: 82 FA 02     	brl	L10123
 11404                        L10122:
 11405                        ;		{
 11406                        	.line	1451
 11407                        ;			// get the pixel value
 11408                        ;			PBYTEBITS b = (PBYTEBITS)&(img[y
                    ]); //img[y * FONTW + x];
 11409                        ;			if (b->b7 > 0)
 11410                        	.block	1454
 11411             0000000C   b_2	set	12
 11412                        	.sym	b,12,138,1,32,4
 11413 06:2832: A0 00 00     	ldy	#$0
 11414 06:2835: A5 0B        	lda	<L589+y_1
 11415 06:2837: 10 01        	bpl	L595
 11416 06:2839: 88           	dey
 11417                        L595:
 11418 06:283A: 85 01        	sta	<R0
 11419 06:283C: 84 03        	sty	<R0+2
 11420 06:283E: 18           	clc
 11421 06:283F: A5 11        	lda	<L589+img_1
 11422 06:2841: 65 01        	adc	<R0
 11423 06:2843: 85 15        	sta	<L589+b_2
 11424 06:2845: A5 13        	lda	<L589+img_1+2
 11425 06:2847: 65 03        	adc	<R0+2
 11426 06:2849: 85 17        	sta	<L589+b_2+2
 11427                        	.line	1454
 11428                        ;				k_draw_pixel(textX + 7, 
                    textY + y, color);
 11429 06:284B: E2 20        	sep	#$20
 11430                        	longa	off
 11431 06:284D: A7 15        	lda	[<L589+b_2]
 11432 06:284F: 85 01        	sta	<R0
 11433 06:2851: C2 20        	rep	#$20
 11434                        	longa	on
 11435 06:2853: E2 20        	sep	#$20
 11436                        	longa	off
 11437 06:2855: A5 01        	lda	<R0
 11438 06:2857: 29 01        	and	#<$1
 11439 06:2859: 85 01        	sta	<R0
 11440 06:285B: C2 20        	rep	#$20
 11441                        	longa	on
 11442 06:285D: E2 20        	sep	#$20
 11443                        	longa	off
 11444 06:285F: A9 00        	lda	#$0
 11445 06:2861: C5 01        	cmp	<R0
 11446 06:2863: C2 20        	rep	#$20
  Mon Sep 27 2021  9:39                                                Page 213


 11447                        	longa	on
 11448 06:2865: 90 03        	bcc	L596
 11449 06:2867: 82 35 00     	brl	L10124
 11450                        L596:
 11451                        	.line	1455
 11452 06:286A: D4 26        	pei	<L588+color_0
 11453 06:286C: 18           	clc
 11454 06:286D: A5 0F        	lda	<L589+textY_1
 11455 06:286F: 65 0B        	adc	<L589+y_1
 11456 06:2871: 85 01        	sta	<R0
 11457 06:2873: A0 00 00     	ldy	#$0
 11458 06:2876: A5 01        	lda	<R0
 11459 06:2878: 10 01        	bpl	L597
 11460 06:287A: 88           	dey
 11461                        L597:
 11462 06:287B: 85 01        	sta	<R0
 11463 06:287D: 84 03        	sty	<R0+2
 11464 06:287F: D4 03        	pei	<R0+2
 11465 06:2881: D4 01        	pei	<R0
 11466 06:2883: 18           	clc
 11467 06:2884: A9 07 00     	lda	#$7
 11468 06:2887: 65 0D        	adc	<L589+textX_1
 11469 06:2889: 85 05        	sta	<R1
 11470 06:288B: A0 00 00     	ldy	#$0
 11471 06:288E: A5 05        	lda	<R1
 11472 06:2890: 10 01        	bpl	L598
 11473 06:2892: 88           	dey
 11474                        L598:
 11475 06:2893: 85 05        	sta	<R1
 11476 06:2895: 84 07        	sty	<R1+2
 11477 06:2897: D4 07        	pei	<R1+2
 11478 06:2899: D4 05        	pei	<R1
 11479 06:289B: 22 CD 14 06  	jsl	~~k_draw_pixel
 11480                        ;			if (b->b6 > 0)
 11481                        L10124:
 11482                        	.line	1456
 11483                        ;				k_draw_pixel(textX + 6, 
                    textY + y, color);
 11484 06:289F: E2 20        	sep	#$20
 11485                        	longa	off
 11486 06:28A1: A7 15        	lda	[<L589+b_2]
 11487 06:28A3: 85 01        	sta	<R0
 11488 06:28A5: C2 20        	rep	#$20
 11489                        	longa	on
 11490 06:28A7: E2 20        	sep	#$20
 11491                        	longa	off
 11492 06:28A9: 46 01        	lsr	<R0
 11493 06:28AB: C2 20        	rep	#$20
 11494                        	longa	on
 11495 06:28AD: E2 20        	sep	#$20
 11496                        	longa	off
 11497 06:28AF: A5 01        	lda	<R0
 11498 06:28B1: 29 01        	and	#<$1
 11499 06:28B3: 85 01        	sta	<R0
 11500 06:28B5: C2 20        	rep	#$20
 11501                        	longa	on
 11502 06:28B7: E2 20        	sep	#$20
 11503                        	longa	off
  Mon Sep 27 2021  9:39                                                Page 214


 11504 06:28B9: A9 00        	lda	#$0
 11505 06:28BB: C5 01        	cmp	<R0
 11506 06:28BD: C2 20        	rep	#$20
 11507                        	longa	on
 11508 06:28BF: 90 03        	bcc	L599
 11509 06:28C1: 82 35 00     	brl	L10125
 11510                        L599:
 11511                        	.line	1457
 11512 06:28C4: D4 26        	pei	<L588+color_0
 11513 06:28C6: 18           	clc
 11514 06:28C7: A5 0F        	lda	<L589+textY_1
 11515 06:28C9: 65 0B        	adc	<L589+y_1
 11516 06:28CB: 85 01        	sta	<R0
 11517 06:28CD: A0 00 00     	ldy	#$0
 11518 06:28D0: A5 01        	lda	<R0
 11519 06:28D2: 10 01        	bpl	L600
 11520 06:28D4: 88           	dey
 11521                        L600:
 11522 06:28D5: 85 01        	sta	<R0
 11523 06:28D7: 84 03        	sty	<R0+2
 11524 06:28D9: D4 03        	pei	<R0+2
 11525 06:28DB: D4 01        	pei	<R0
 11526 06:28DD: 18           	clc
 11527 06:28DE: A9 06 00     	lda	#$6
 11528 06:28E1: 65 0D        	adc	<L589+textX_1
 11529 06:28E3: 85 05        	sta	<R1
 11530 06:28E5: A0 00 00     	ldy	#$0
 11531 06:28E8: A5 05        	lda	<R1
 11532 06:28EA: 10 01        	bpl	L601
 11533 06:28EC: 88           	dey
 11534                        L601:
 11535 06:28ED: 85 05        	sta	<R1
 11536 06:28EF: 84 07        	sty	<R1+2
 11537 06:28F1: D4 07        	pei	<R1+2
 11538 06:28F3: D4 05        	pei	<R1
 11539 06:28F5: 22 CD 14 06  	jsl	~~k_draw_pixel
 11540                        ;			if (b->b5 > 0)
 11541                        L10125:
 11542                        	.line	1458
 11543                        ;				k_draw_pixel(textX + 5, 
                    textY + y, color);
 11544 06:28F9: E2 20        	sep	#$20
 11545                        	longa	off
 11546 06:28FB: A7 15        	lda	[<L589+b_2]
 11547 06:28FD: 85 01        	sta	<R0
 11548 06:28FF: C2 20        	rep	#$20
 11549                        	longa	on
 11550 06:2901: E2 20        	sep	#$20
 11551                        	longa	off
 11552 06:2903: 46 01        	lsr	<R0
 11553 06:2905: 46 01        	lsr	<R0
 11554 06:2907: C2 20        	rep	#$20
 11555                        	longa	on
 11556 06:2909: E2 20        	sep	#$20
 11557                        	longa	off
 11558 06:290B: A5 01        	lda	<R0
 11559 06:290D: 29 01        	and	#<$1
 11560 06:290F: 85 01        	sta	<R0
  Mon Sep 27 2021  9:39                                                Page 215


 11561 06:2911: C2 20        	rep	#$20
 11562                        	longa	on
 11563 06:2913: E2 20        	sep	#$20
 11564                        	longa	off
 11565 06:2915: A9 00        	lda	#$0
 11566 06:2917: C5 01        	cmp	<R0
 11567 06:2919: C2 20        	rep	#$20
 11568                        	longa	on
 11569 06:291B: 90 03        	bcc	L602
 11570 06:291D: 82 35 00     	brl	L10126
 11571                        L602:
 11572                        	.line	1459
 11573 06:2920: D4 26        	pei	<L588+color_0
 11574 06:2922: 18           	clc
 11575 06:2923: A5 0F        	lda	<L589+textY_1
 11576 06:2925: 65 0B        	adc	<L589+y_1
 11577 06:2927: 85 01        	sta	<R0
 11578 06:2929: A0 00 00     	ldy	#$0
 11579 06:292C: A5 01        	lda	<R0
 11580 06:292E: 10 01        	bpl	L603
 11581 06:2930: 88           	dey
 11582                        L603:
 11583 06:2931: 85 01        	sta	<R0
 11584 06:2933: 84 03        	sty	<R0+2
 11585 06:2935: D4 03        	pei	<R0+2
 11586 06:2937: D4 01        	pei	<R0
 11587 06:2939: 18           	clc
 11588 06:293A: A9 05 00     	lda	#$5
 11589 06:293D: 65 0D        	adc	<L589+textX_1
 11590 06:293F: 85 05        	sta	<R1
 11591 06:2941: A0 00 00     	ldy	#$0
 11592 06:2944: A5 05        	lda	<R1
 11593 06:2946: 10 01        	bpl	L604
 11594 06:2948: 88           	dey
 11595                        L604:
 11596 06:2949: 85 05        	sta	<R1
 11597 06:294B: 84 07        	sty	<R1+2
 11598 06:294D: D4 07        	pei	<R1+2
 11599 06:294F: D4 05        	pei	<R1
 11600 06:2951: 22 CD 14 06  	jsl	~~k_draw_pixel
 11601                        ;			if (b->b4 > 0)
 11602                        L10126:
 11603                        	.line	1460
 11604                        ;				k_draw_pixel(textX + 4, 
                    textY + y, color);
 11605 06:2955: E2 20        	sep	#$20
 11606                        	longa	off
 11607 06:2957: A7 15        	lda	[<L589+b_2]
 11608 06:2959: 85 01        	sta	<R0
 11609 06:295B: C2 20        	rep	#$20
 11610                        	longa	on
 11611 06:295D: E2 20        	sep	#$20
 11612                        	longa	off
 11613 06:295F: 46 01        	lsr	<R0
 11614 06:2961: 46 01        	lsr	<R0
 11615 06:2963: 46 01        	lsr	<R0
 11616 06:2965: C2 20        	rep	#$20
 11617                        	longa	on
  Mon Sep 27 2021  9:39                                                Page 216


 11618 06:2967: E2 20        	sep	#$20
 11619                        	longa	off
 11620 06:2969: A5 01        	lda	<R0
 11621 06:296B: 29 01        	and	#<$1
 11622 06:296D: 85 01        	sta	<R0
 11623 06:296F: C2 20        	rep	#$20
 11624                        	longa	on
 11625 06:2971: E2 20        	sep	#$20
 11626                        	longa	off
 11627 06:2973: A9 00        	lda	#$0
 11628 06:2975: C5 01        	cmp	<R0
 11629 06:2977: C2 20        	rep	#$20
 11630                        	longa	on
 11631 06:2979: 90 03        	bcc	L605
 11632 06:297B: 82 35 00     	brl	L10127
 11633                        L605:
 11634                        	.line	1461
 11635 06:297E: D4 26        	pei	<L588+color_0
 11636 06:2980: 18           	clc
 11637 06:2981: A5 0F        	lda	<L589+textY_1
 11638 06:2983: 65 0B        	adc	<L589+y_1
 11639 06:2985: 85 01        	sta	<R0
 11640 06:2987: A0 00 00     	ldy	#$0
 11641 06:298A: A5 01        	lda	<R0
 11642 06:298C: 10 01        	bpl	L606
 11643 06:298E: 88           	dey
 11644                        L606:
 11645 06:298F: 85 01        	sta	<R0
 11646 06:2991: 84 03        	sty	<R0+2
 11647 06:2993: D4 03        	pei	<R0+2
 11648 06:2995: D4 01        	pei	<R0
 11649 06:2997: 18           	clc
 11650 06:2998: A9 04 00     	lda	#$4
 11651 06:299B: 65 0D        	adc	<L589+textX_1
 11652 06:299D: 85 05        	sta	<R1
 11653 06:299F: A0 00 00     	ldy	#$0
 11654 06:29A2: A5 05        	lda	<R1
 11655 06:29A4: 10 01        	bpl	L607
 11656 06:29A6: 88           	dey
 11657                        L607:
 11658 06:29A7: 85 05        	sta	<R1
 11659 06:29A9: 84 07        	sty	<R1+2
 11660 06:29AB: D4 07        	pei	<R1+2
 11661 06:29AD: D4 05        	pei	<R1
 11662 06:29AF: 22 CD 14 06  	jsl	~~k_draw_pixel
 11663                        ;			if (b->b3 > 0)
 11664                        L10127:
 11665                        	.line	1462
 11666                        ;				k_draw_pixel(textX + 3, 
                    textY + y, color);
 11667 06:29B3: E2 20        	sep	#$20
 11668                        	longa	off
 11669 06:29B5: A7 15        	lda	[<L589+b_2]
 11670 06:29B7: 85 01        	sta	<R0
 11671 06:29B9: C2 20        	rep	#$20
 11672                        	longa	on
 11673 06:29BB: E2 20        	sep	#$20
 11674                        	longa	off
  Mon Sep 27 2021  9:39                                                Page 217


 11675 06:29BD: 46 01        	lsr	<R0
 11676 06:29BF: 46 01        	lsr	<R0
 11677 06:29C1: 46 01        	lsr	<R0
 11678 06:29C3: 46 01        	lsr	<R0
 11679 06:29C5: C2 20        	rep	#$20
 11680                        	longa	on
 11681 06:29C7: E2 20        	sep	#$20
 11682                        	longa	off
 11683 06:29C9: A5 01        	lda	<R0
 11684 06:29CB: 29 01        	and	#<$1
 11685 06:29CD: 85 01        	sta	<R0
 11686 06:29CF: C2 20        	rep	#$20
 11687                        	longa	on
 11688 06:29D1: E2 20        	sep	#$20
 11689                        	longa	off
 11690 06:29D3: A9 00        	lda	#$0
 11691 06:29D5: C5 01        	cmp	<R0
 11692 06:29D7: C2 20        	rep	#$20
 11693                        	longa	on
 11694 06:29D9: 90 03        	bcc	L608
 11695 06:29DB: 82 35 00     	brl	L10128
 11696                        L608:
 11697                        	.line	1463
 11698 06:29DE: D4 26        	pei	<L588+color_0
 11699 06:29E0: 18           	clc
 11700 06:29E1: A5 0F        	lda	<L589+textY_1
 11701 06:29E3: 65 0B        	adc	<L589+y_1
 11702 06:29E5: 85 01        	sta	<R0
 11703 06:29E7: A0 00 00     	ldy	#$0
 11704 06:29EA: A5 01        	lda	<R0
 11705 06:29EC: 10 01        	bpl	L609
 11706 06:29EE: 88           	dey
 11707                        L609:
 11708 06:29EF: 85 01        	sta	<R0
 11709 06:29F1: 84 03        	sty	<R0+2
 11710 06:29F3: D4 03        	pei	<R0+2
 11711 06:29F5: D4 01        	pei	<R0
 11712 06:29F7: 18           	clc
 11713 06:29F8: A9 03 00     	lda	#$3
 11714 06:29FB: 65 0D        	adc	<L589+textX_1
 11715 06:29FD: 85 05        	sta	<R1
 11716 06:29FF: A0 00 00     	ldy	#$0
 11717 06:2A02: A5 05        	lda	<R1
 11718 06:2A04: 10 01        	bpl	L610
 11719 06:2A06: 88           	dey
 11720                        L610:
 11721 06:2A07: 85 05        	sta	<R1
 11722 06:2A09: 84 07        	sty	<R1+2
 11723 06:2A0B: D4 07        	pei	<R1+2
 11724 06:2A0D: D4 05        	pei	<R1
 11725 06:2A0F: 22 CD 14 06  	jsl	~~k_draw_pixel
 11726                        ;			if (b->b2 > 0)
 11727                        L10128:
 11728                        	.line	1464
 11729                        ;				k_draw_pixel(textX + 2, 
                    textY + y, color);
 11730 06:2A13: E2 20        	sep	#$20
 11731                        	longa	off
  Mon Sep 27 2021  9:39                                                Page 218


 11732 06:2A15: A7 15        	lda	[<L589+b_2]
 11733 06:2A17: 85 01        	sta	<R0
 11734 06:2A19: C2 20        	rep	#$20
 11735                        	longa	on
 11736 06:2A1B: E2 20        	sep	#$20
 11737                        	longa	off
 11738 06:2A1D: 46 01        	lsr	<R0
 11739 06:2A1F: 46 01        	lsr	<R0
 11740 06:2A21: 46 01        	lsr	<R0
 11741 06:2A23: 46 01        	lsr	<R0
 11742 06:2A25: 46 01        	lsr	<R0
 11743 06:2A27: C2 20        	rep	#$20
 11744                        	longa	on
 11745 06:2A29: E2 20        	sep	#$20
 11746                        	longa	off
 11747 06:2A2B: A5 01        	lda	<R0
 11748 06:2A2D: 29 01        	and	#<$1
 11749 06:2A2F: 85 01        	sta	<R0
 11750 06:2A31: C2 20        	rep	#$20
 11751                        	longa	on
 11752 06:2A33: E2 20        	sep	#$20
 11753                        	longa	off
 11754 06:2A35: A9 00        	lda	#$0
 11755 06:2A37: C5 01        	cmp	<R0
 11756 06:2A39: C2 20        	rep	#$20
 11757                        	longa	on
 11758 06:2A3B: 90 03        	bcc	L611
 11759 06:2A3D: 82 35 00     	brl	L10129
 11760                        L611:
 11761                        	.line	1465
 11762 06:2A40: D4 26        	pei	<L588+color_0
 11763 06:2A42: 18           	clc
 11764 06:2A43: A5 0F        	lda	<L589+textY_1
 11765 06:2A45: 65 0B        	adc	<L589+y_1
 11766 06:2A47: 85 01        	sta	<R0
 11767 06:2A49: A0 00 00     	ldy	#$0
 11768 06:2A4C: A5 01        	lda	<R0
 11769 06:2A4E: 10 01        	bpl	L612
 11770 06:2A50: 88           	dey
 11771                        L612:
 11772 06:2A51: 85 01        	sta	<R0
 11773 06:2A53: 84 03        	sty	<R0+2
 11774 06:2A55: D4 03        	pei	<R0+2
 11775 06:2A57: D4 01        	pei	<R0
 11776 06:2A59: 18           	clc
 11777 06:2A5A: A9 02 00     	lda	#$2
 11778 06:2A5D: 65 0D        	adc	<L589+textX_1
 11779 06:2A5F: 85 05        	sta	<R1
 11780 06:2A61: A0 00 00     	ldy	#$0
 11781 06:2A64: A5 05        	lda	<R1
 11782 06:2A66: 10 01        	bpl	L613
 11783 06:2A68: 88           	dey
 11784                        L613:
 11785 06:2A69: 85 05        	sta	<R1
 11786 06:2A6B: 84 07        	sty	<R1+2
 11787 06:2A6D: D4 07        	pei	<R1+2
 11788 06:2A6F: D4 05        	pei	<R1
 11789 06:2A71: 22 CD 14 06  	jsl	~~k_draw_pixel
  Mon Sep 27 2021  9:39                                                Page 219


 11790                        ;			if (b->b1 > 0)
 11791                        L10129:
 11792                        	.line	1466
 11793                        ;				k_draw_pixel(textX + 1, 
                    textY + y, color);
 11794 06:2A75: E2 20        	sep	#$20
 11795                        	longa	off
 11796 06:2A77: A7 15        	lda	[<L589+b_2]
 11797 06:2A79: 85 01        	sta	<R0
 11798 06:2A7B: C2 20        	rep	#$20
 11799                        	longa	on
 11800 06:2A7D: E2 20        	sep	#$20
 11801                        	longa	off
 11802 06:2A7F: 46 01        	lsr	<R0
 11803 06:2A81: 46 01        	lsr	<R0
 11804 06:2A83: 46 01        	lsr	<R0
 11805 06:2A85: 46 01        	lsr	<R0
 11806 06:2A87: 46 01        	lsr	<R0
 11807 06:2A89: 46 01        	lsr	<R0
 11808 06:2A8B: C2 20        	rep	#$20
 11809                        	longa	on
 11810 06:2A8D: E2 20        	sep	#$20
 11811                        	longa	off
 11812 06:2A8F: A5 01        	lda	<R0
 11813 06:2A91: 29 01        	and	#<$1
 11814 06:2A93: 85 01        	sta	<R0
 11815 06:2A95: C2 20        	rep	#$20
 11816                        	longa	on
 11817 06:2A97: E2 20        	sep	#$20
 11818                        	longa	off
 11819 06:2A99: A9 00        	lda	#$0
 11820 06:2A9B: C5 01        	cmp	<R0
 11821 06:2A9D: C2 20        	rep	#$20
 11822                        	longa	on
 11823 06:2A9F: 90 03        	bcc	L614
 11824 06:2AA1: 82 32 00     	brl	L10130
 11825                        L614:
 11826                        	.line	1467
 11827 06:2AA4: D4 26        	pei	<L588+color_0
 11828 06:2AA6: 18           	clc
 11829 06:2AA7: A5 0F        	lda	<L589+textY_1
 11830 06:2AA9: 65 0B        	adc	<L589+y_1
 11831 06:2AAB: 85 01        	sta	<R0
 11832 06:2AAD: A0 00 00     	ldy	#$0
 11833 06:2AB0: A5 01        	lda	<R0
 11834 06:2AB2: 10 01        	bpl	L615
 11835 06:2AB4: 88           	dey
 11836                        L615:
 11837 06:2AB5: 85 01        	sta	<R0
 11838 06:2AB7: 84 03        	sty	<R0+2
 11839 06:2AB9: D4 03        	pei	<R0+2
 11840 06:2ABB: D4 01        	pei	<R0
 11841 06:2ABD: A5 0D        	lda	<L589+textX_1
 11842 06:2ABF: 1A           	ina
 11843 06:2AC0: 85 05        	sta	<R1
 11844 06:2AC2: A0 00 00     	ldy	#$0
 11845 06:2AC5: A5 05        	lda	<R1
 11846 06:2AC7: 10 01        	bpl	L616
  Mon Sep 27 2021  9:39                                                Page 220


 11847 06:2AC9: 88           	dey
 11848                        L616:
 11849 06:2ACA: 85 05        	sta	<R1
 11850 06:2ACC: 84 07        	sty	<R1+2
 11851 06:2ACE: D4 07        	pei	<R1+2
 11852 06:2AD0: D4 05        	pei	<R1
 11853 06:2AD2: 22 CD 14 06  	jsl	~~k_draw_pixel
 11854                        ;			if (b->b0 > 0)
 11855                        L10130:
 11856                        	.line	1468
 11857                        ;				k_draw_pixel(textX + 0, 
                    textY + y, color);
 11858 06:2AD6: E2 20        	sep	#$20
 11859                        	longa	off
 11860 06:2AD8: A7 15        	lda	[<L589+b_2]
 11861 06:2ADA: 85 01        	sta	<R0
 11862 06:2ADC: C2 20        	rep	#$20
 11863                        	longa	on
 11864 06:2ADE: E2 20        	sep	#$20
 11865                        	longa	off
 11866 06:2AE0: 46 01        	lsr	<R0
 11867 06:2AE2: 46 01        	lsr	<R0
 11868 06:2AE4: 46 01        	lsr	<R0
 11869 06:2AE6: 46 01        	lsr	<R0
 11870 06:2AE8: 46 01        	lsr	<R0
 11871 06:2AEA: 46 01        	lsr	<R0
 11872 06:2AEC: 46 01        	lsr	<R0
 11873 06:2AEE: C2 20        	rep	#$20
 11874                        	longa	on
 11875 06:2AF0: E2 20        	sep	#$20
 11876                        	longa	off
 11877 06:2AF2: A9 00        	lda	#$0
 11878 06:2AF4: C5 01        	cmp	<R0
 11879 06:2AF6: C2 20        	rep	#$20
 11880                        	longa	on
 11881 06:2AF8: 90 03        	bcc	L617
 11882 06:2AFA: 82 2D 00     	brl	L10131
 11883                        L617:
 11884                        	.line	1469
 11885 06:2AFD: D4 26        	pei	<L588+color_0
 11886 06:2AFF: 18           	clc
 11887 06:2B00: A5 0F        	lda	<L589+textY_1
 11888 06:2B02: 65 0B        	adc	<L589+y_1
 11889 06:2B04: 85 01        	sta	<R0
 11890 06:2B06: A0 00 00     	ldy	#$0
 11891 06:2B09: A5 01        	lda	<R0
 11892 06:2B0B: 10 01        	bpl	L618
 11893 06:2B0D: 88           	dey
 11894                        L618:
 11895 06:2B0E: 85 01        	sta	<R0
 11896 06:2B10: 84 03        	sty	<R0+2
 11897 06:2B12: D4 03        	pei	<R0+2
 11898 06:2B14: D4 01        	pei	<R0
 11899 06:2B16: A0 00 00     	ldy	#$0
 11900 06:2B19: A5 0D        	lda	<L589+textX_1
 11901 06:2B1B: 10 01        	bpl	L619
 11902 06:2B1D: 88           	dey
 11903                        L619:
  Mon Sep 27 2021  9:39                                                Page 221


 11904 06:2B1E: 85 05        	sta	<R1
 11905 06:2B20: 84 07        	sty	<R1+2
 11906 06:2B22: D4 07        	pei	<R1+2
 11907 06:2B24: D4 05        	pei	<R1
 11908 06:2B26: 22 CD 14 06  	jsl	~~k_draw_pixel
 11909                        ;
 11910                        ;		} // end "for y"
 11911                        L10131:
 11912                        	.endblock	1471
 11913                        	.line	1471
 11914                        L10120:
 11915 06:2B2A: E6 0B        	inc	<L589+y_1
 11916                        L10123:
 11917 06:2B2C: 22 21 86 06  	jsl	~~k_font_getFontHeight
 11918 06:2B30: 85 01        	sta	<R0
 11919 06:2B32: A5 0B        	lda	<L589+y_1
 11920 06:2B34: C5 01        	cmp	<R0
 11921 06:2B36: B0 03        	bcs	L620
 11922 06:2B38: 82 F7 FC     	brl	L10122
 11923                        L620:
 11924                        L10121:
 11925                        ;	}
 11926                        	.line	1472
 11927                        ;	return FONTW;
 11928                        L10119:
 11929                        	.line	1473
 11930 06:2B3B: 22 36 86 06  	jsl	~~k_font_getFontWidth
 11931                        L621:
 11932 06:2B3F: A8           	tay
 11933 06:2B40: A5 1A        	lda	<L588+2
 11934 06:2B42: 85 26        	sta	<L588+2+12
 11935 06:2B44: A5 19        	lda	<L588+1
 11936 06:2B46: 85 25        	sta	<L588+1+12
 11937 06:2B48: 2B           	pld
 11938 06:2B49: 3B           	tsc
 11939 06:2B4A: 18           	clc
 11940 06:2B4B: 69 24 00     	adc	#L588+12
 11941 06:2B4E: 1B           	tcs
 11942 06:2B4F: 98           	tya
 11943 06:2B50: 6B           	rtl
 11944                        ;}
 11945                        	.line	1474
 11946                        	.endblock	1474
 11947             00000018   L588	equ	24
 11948             00000009   L589	equ	9
 11949 06:2B51:              	ends
 11950                        	efunc
 11951                        	.endfunc	1474,9,24
 11952                        	.line	1474
 11953                        ;
 11954                        ;/*
 11955                        ;int k_put_binary_variablefont_point(LPCHAR fontSe
                    t, char outChar,int cx,int cy,int width,int height,char colo
                    r)
 11956                        ;{
 11957                        ;	int x = 0;
 11958                        ;	int y = 0;
 11959                        ;	int textX = cx;
  Mon Sep 27 2021  9:39                                                Page 222


 11960                        ;	int textY = cy;
 11961                        ;
 11962                        ;	unsigned char FAR* img = NULL;//fontImg[ix];
 11963                        ;
 11964                        ;    if(outChar == 32)
 11965                        ;	{
 11966                        ;	   img = NULL;//fontSpace;
 11967                        ;    }
 11968                        ;    else
 11969                        ;	{
 11970                        ;	    //img = &(fontSet[characterROMMapping[outCha
                    r]]);
 11971                        ;    	img = fontSet+=(height*outChar);
 11972                        ;    	//img = "\xc3\xc3\xc3\xc3\xc3\xc3\xc3\xc
                    3";//&(fontSet[outChar]);
 11973                        ;	}
 11974                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 11975                        ;
 11976                        ;	// get the font 'image'
 11977                        ;        //char *img = fontImg[ix];
 11978                        ;        // loop through pixel rows
 11979                        ;	if(img!=NULL)
 11980                        ;	{
 11981                        ;		for (y = 0; y < height; y++)
 11982                        ;		{
 11983                        ;			// get the pixel value
 11984                        ;			PBYTEBITS b = (PBYTEBITS)&(img[y
                    ]); //img[y * FONTW + x];
 11985                        ;			if (b->b7 > 0)
 11986                        ;				k_draw_pixel(textX + 7, 
                    textY + y, color);
 11987                        ;			if (b->b6 > 0)
 11988                        ;				k_draw_pixel(textX + 6, 
                    textY + y, color);
 11989                        ;			if (b->b5 > 0)
 11990                        ;				k_draw_pixel(textX + 5, 
                    textY + y, color);
 11991                        ;			if (b->b4 > 0)
 11992                        ;				k_draw_pixel(textX + 4, 
                    textY + y, color);
 11993                        ;			if (b->b3 > 0)
 11994                        ;				k_draw_pixel(textX + 3, 
                    textY + y, color);
 11995                        ;			if (b->b2 > 0)
 11996                        ;				k_draw_pixel(textX + 2, 
                    textY + y, color);
 11997                        ;			if (b->b1 > 0)
 11998                        ;				k_draw_pixel(textX + 1, 
                    textY + y, color);
 11999                        ;			if (b->b0 > 0)
 12000                        ;				k_draw_pixel(textX + 0, 
                    textY + y, color);
 12001                        ;
 12002                        ;		} // end "for y"
 12003                        ;	}
 12004                        ;	return FONTW;
 12005                        ;}
  Mon Sep 27 2021  9:39                                                Page 223


 12006                        ;*/
 12007                        ;int k_put_binary_variablefont_point(LPCHAR fontSe
                    t, char outChar,int cx,int cy,int width,int height,char colo
                    r)
 12008                        ;{
 12009                        	.line	1529
 12010                        	.line	1530
 12011                        	GFX
 12012                        	xdef	~~k_put_binary_variablefont_point
 12013                        	func
 12014                        	.function	1530
 12015                        ~~k_put_binary_variablefont_point:
 12016                        	longa	on
 12017                        	longi	on
 12018 06:2B51: 3B           	tsc
 12019 06:2B52: 38           	sec
 12020 06:2B53: E9 15 00     	sbc	#L622
 12021 06:2B56: 1B           	tcs
 12022 06:2B57: 0B           	phd
 12023 06:2B58: 5B           	tcd
 12024             00000004   fontSet_0	set	4
 12025             00000008   outChar_0	set	8
 12026             0000000A   cx_0	set	10
 12027             0000000C   cy_0	set	12
 12028             0000000E   width_0	set	14
 12029             00000010   height_0	set	16
 12030             00000012   color_0	set	18
 12031                        	.block	1530
 12032                        ;	int x = 0;
 12033                        ;	int y = 0;
 12034                        ;	int textX = cx;
 12035                        ;	int textY = cy;
 12036                        ;	char tmp;
 12037                        ;
 12038                        ;	unsigned char FAR* img = NULL;//fontImg[ix];
 12039                        ;
 12040                        ;    if(outChar == 32)
 12041             00000000   x_1	set	0
 12042             00000002   y_1	set	2
 12043             00000004   textX_1	set	4
 12044             00000006   textY_1	set	6
 12045             00000008   tmp_1	set	8
 12046             00000009   img_1	set	9
 12047                        	.sym	x,0,5,1,16
 12048                        	.sym	y,2,5,1,16
 12049                        	.sym	textX,4,5,1,16
 12050                        	.sym	textY,6,5,1,16
 12051                        	.sym	tmp,8,14,1,8
 12052                        	.sym	img,9,142,1,32
 12053                        	.sym	fontSet,4,142,6,32
 12054                        	.sym	outChar,8,14,6,8
 12055                        	.sym	cx,10,5,6,16
 12056                        	.sym	cy,12,5,6,16
 12057                        	.sym	width,14,5,6,16
 12058                        	.sym	height,16,5,6,16
 12059                        	.sym	color,18,14,6,8
 12060 06:2B59: 64 09        	stz	<L623+x_1
 12061 06:2B5B: 64 0B        	stz	<L623+y_1
  Mon Sep 27 2021  9:39                                                Page 224


 12062 06:2B5D: A5 1F        	lda	<L622+cx_0
 12063 06:2B5F: 85 0D        	sta	<L623+textX_1
 12064 06:2B61: A5 21        	lda	<L622+cy_0
 12065 06:2B63: 85 0F        	sta	<L623+textY_1
 12066 06:2B65: 64 12        	stz	<L623+img_1
 12067 06:2B67: 64 14        	stz	<L623+img_1+2
 12068                        	.line	1539
 12069                        ;	{
 12070 06:2B69: E2 20        	sep	#$20
 12071                        	longa	off
 12072 06:2B6B: A5 1D        	lda	<L622+outChar_0
 12073 06:2B6D: C9 20        	cmp	#<$20
 12074 06:2B6F: C2 20        	rep	#$20
 12075                        	longa	on
 12076 06:2B71: F0 03        	beq	L625
 12077 06:2B73: 82 07 00     	brl	L10132
 12078                        L625:
 12079                        	.line	1540
 12080                        ;	   img = NULL;//fontSpace;
 12081                        	.line	1541
 12082 06:2B76: 64 12        	stz	<L623+img_1
 12083 06:2B78: 64 14        	stz	<L623+img_1+2
 12084                        ;    }
 12085                        	.line	1542
 12086                        ;    else
 12087 06:2B7A: 82 32 00     	brl	L10133
 12088                        L10132:
 12089                        ;	{
 12090                        	.line	1544
 12091                        ;	    //img = &(fontSet[characterROMMapping[outCha
                    r]]);
 12092                        ;    	img = fontSet+=(height*outChar);
 12093                        	.line	1546
 12094 06:2B7D: A5 1D        	lda	<L622+outChar_0
 12095 06:2B7F: 29 FF 00     	and	#$ff
 12096 06:2B82: 85 01        	sta	<R0
 12097 06:2B84: A5 01        	lda	<R0
 12098 06:2B86: A6 25        	ldx	<L622+height_0
 12099                        	xref	~~~mul
 12100 06:2B88: 22 xx xx xx  	jsl	~~~mul
 12101 06:2B8C: 85 01        	sta	<R0
 12102 06:2B8E: A0 00 00     	ldy	#$0
 12103 06:2B91: A5 01        	lda	<R0
 12104 06:2B93: 10 01        	bpl	L626
 12105 06:2B95: 88           	dey
 12106                        L626:
 12107 06:2B96: 85 01        	sta	<R0
 12108 06:2B98: 84 03        	sty	<R0+2
 12109 06:2B9A: 18           	clc
 12110 06:2B9B: A5 19        	lda	<L622+fontSet_0
 12111 06:2B9D: 65 01        	adc	<R0
 12112 06:2B9F: 85 19        	sta	<L622+fontSet_0
 12113 06:2BA1: A5 1B        	lda	<L622+fontSet_0+2
 12114 06:2BA3: 65 03        	adc	<R0+2
 12115 06:2BA5: 85 1B        	sta	<L622+fontSet_0+2
 12116 06:2BA7: A5 19        	lda	<L622+fontSet_0
 12117 06:2BA9: 85 12        	sta	<L623+img_1
 12118 06:2BAB: A5 1B        	lda	<L622+fontSet_0+2
  Mon Sep 27 2021  9:39                                                Page 225


 12119 06:2BAD: 85 14        	sta	<L623+img_1+2
 12120                        ;    	//img = "\xc3\xc3\xc3\xc3\xc3\xc3\xc3\xc
                    3";//&(fontSet[outChar]);
 12121                        ;	}
 12122                        	.line	1548
 12123                        L10133:
 12124                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 12125                        ;
 12126                        ;	// get the font 'image'
 12127                        ;        //char *img = fontImg[ix];
 12128                        ;        // loop through pixel rows
 12129                        ;	if(img!=NULL)
 12130                        	.line	1554
 12131                        ;	{
 12132 06:2BAF: A5 12        	lda	<L623+img_1
 12133 06:2BB1: 05 14        	ora	<L623+img_1+2
 12134 06:2BB3: D0 03        	bne	L627
 12135 06:2BB5: 82 7D 00     	brl	L10134
 12136                        L627:
 12137                        	.line	1555
 12138                        ;		for (y = 0; y < height; y++)
 12139                        	.line	1556
 12140 06:2BB8: 64 0B        	stz	<L623+y_1
 12141 06:2BBA: 82 69 00     	brl	L10138
 12142                        L10137:
 12143                        ;		{
 12144                        	.line	1557
 12145                        ;			tmp = img[y];
 12146                        	.line	1558
 12147 06:2BBD: E2 20        	sep	#$20
 12148                        	longa	off
 12149 06:2BBF: A4 0B        	ldy	<L623+y_1
 12150 06:2BC1: B7 12        	lda	[<L623+img_1],Y
 12151 06:2BC3: 85 11        	sta	<L623+tmp_1
 12152 06:2BC5: C2 20        	rep	#$20
 12153                        	longa	on
 12154                        ;
 12155                        ;			for (x = 0; x < width; x++)
 12156                        	.line	1560
 12157 06:2BC7: 64 09        	stz	<L623+x_1
 12158 06:2BC9: 82 49 00     	brl	L10142
 12159                        L10141:
 12160                        ;			{
 12161                        	.line	1561
 12162                        ;				if(tmp & 0x80 )
 12163                        	.line	1562
 12164                        ;					k_draw_pixel(tex
                    tX + x, textY + y, color);
 12165 06:2BCC: E2 20        	sep	#$20
 12166                        	longa	off
 12167 06:2BCE: A5 11        	lda	<L623+tmp_1
 12168 06:2BD0: 29 80        	and	#<$80
 12169 06:2BD2: C2 20        	rep	#$20
 12170                        	longa	on
 12171 06:2BD4: D0 03        	bne	L628
 12172 06:2BD6: 82 34 00     	brl	L10143
 12173                        L628:
  Mon Sep 27 2021  9:39                                                Page 226


 12174                        	.line	1563
 12175 06:2BD9: D4 27        	pei	<L622+color_0
 12176 06:2BDB: 18           	clc
 12177 06:2BDC: A5 0F        	lda	<L623+textY_1
 12178 06:2BDE: 65 0B        	adc	<L623+y_1
 12179 06:2BE0: 85 01        	sta	<R0
 12180 06:2BE2: A0 00 00     	ldy	#$0
 12181 06:2BE5: A5 01        	lda	<R0
 12182 06:2BE7: 10 01        	bpl	L629
 12183 06:2BE9: 88           	dey
 12184                        L629:
 12185 06:2BEA: 85 01        	sta	<R0
 12186 06:2BEC: 84 03        	sty	<R0+2
 12187 06:2BEE: D4 03        	pei	<R0+2
 12188 06:2BF0: D4 01        	pei	<R0
 12189 06:2BF2: 18           	clc
 12190 06:2BF3: A5 0D        	lda	<L623+textX_1
 12191 06:2BF5: 65 09        	adc	<L623+x_1
 12192 06:2BF7: 85 05        	sta	<R1
 12193 06:2BF9: A0 00 00     	ldy	#$0
 12194 06:2BFC: A5 05        	lda	<R1
 12195 06:2BFE: 10 01        	bpl	L630
 12196 06:2C00: 88           	dey
 12197                        L630:
 12198 06:2C01: 85 05        	sta	<R1
 12199 06:2C03: 84 07        	sty	<R1+2
 12200 06:2C05: D4 07        	pei	<R1+2
 12201 06:2C07: D4 05        	pei	<R1
 12202 06:2C09: 22 CD 14 06  	jsl	~~k_draw_pixel
 12203                        ;
 12204                        ;				tmp = tmp << 1;
 12205                        L10143:
 12206                        	.line	1565
 12207 06:2C0D: E2 20        	sep	#$20
 12208                        	longa	off
 12209 06:2C0F: 06 11        	asl	<L623+tmp_1
 12210 06:2C11: C2 20        	rep	#$20
 12211                        	longa	on
 12212                        ;			}
 12213                        	.line	1566
 12214                        L10139:
 12215 06:2C13: E6 09        	inc	<L623+x_1
 12216                        L10142:
 12217 06:2C15: 38           	sec
 12218 06:2C16: A5 09        	lda	<L623+x_1
 12219 06:2C18: E5 23        	sbc	<L622+width_0
 12220 06:2C1A: 70 03        	bvs	L631
 12221 06:2C1C: 49 00 80     	eor	#$8000
 12222                        L631:
 12223 06:2C1F: 30 03        	bmi	L632
 12224 06:2C21: 82 A8 FF     	brl	L10141
 12225                        L632:
 12226                        L10140:
 12227                        ;			// get the pixel value
 12228                        ;			/*
 12229                        ;			PBYTEBITS b = (PBYTEBITS)&(img[y
                    ]); //img[y * FONTW + x];
 12230                        ;			if (b->b7 > 0)
  Mon Sep 27 2021  9:39                                                Page 227


 12231                        ;				k_draw_pixel(textX + 7, 
                    textY + y, color);
 12232                        ;			if (b->b6 > 0)
 12233                        ;				k_draw_pixel(textX + 6, 
                    textY + y, color);
 12234                        ;			if (b->b5 > 0)
 12235                        ;				k_draw_pixel(textX + 5, 
                    textY + y, color);
 12236                        ;			if (b->b4 > 0)
 12237                        ;				k_draw_pixel(textX + 4, 
                    textY + y, color);
 12238                        ;			if (b->b3 > 0)
 12239                        ;				k_draw_pixel(textX + 3, 
                    textY + y, color);
 12240                        ;			if (b->b2 > 0)
 12241                        ;				k_draw_pixel(textX + 2, 
                    textY + y, color);
 12242                        ;			if (b->b1 > 0)
 12243                        ;				k_draw_pixel(textX + 1, 
                    textY + y, color);
 12244                        ;			if (b->b0 > 0)
 12245                        ;				k_draw_pixel(textX + 0, 
                    textY + y, color);
 12246                        ;			*/
 12247                        ;		} // end "for y"
 12248                        	.line	1587
 12249                        L10135:
 12250 06:2C24: E6 0B        	inc	<L623+y_1
 12251                        L10138:
 12252 06:2C26: 38           	sec
 12253 06:2C27: A5 0B        	lda	<L623+y_1
 12254 06:2C29: E5 25        	sbc	<L622+height_0
 12255 06:2C2B: 70 03        	bvs	L633
 12256 06:2C2D: 49 00 80     	eor	#$8000
 12257                        L633:
 12258 06:2C30: 30 03        	bmi	L634
 12259 06:2C32: 82 88 FF     	brl	L10137
 12260                        L634:
 12261                        L10136:
 12262                        ;	}
 12263                        	.line	1588
 12264                        ;	return FONTW;
 12265                        L10134:
 12266                        	.line	1589
 12267 06:2C35: 22 36 86 06  	jsl	~~k_font_getFontWidth
 12268                        L635:
 12269 06:2C39: A8           	tay
 12270 06:2C3A: A5 17        	lda	<L622+2
 12271 06:2C3C: 85 27        	sta	<L622+2+16
 12272 06:2C3E: A5 16        	lda	<L622+1
 12273 06:2C40: 85 26        	sta	<L622+1+16
 12274 06:2C42: 2B           	pld
 12275 06:2C43: 3B           	tsc
 12276 06:2C44: 18           	clc
 12277 06:2C45: 69 25 00     	adc	#L622+16
 12278 06:2C48: 1B           	tcs
 12279 06:2C49: 98           	tya
 12280 06:2C4A: 6B           	rtl
  Mon Sep 27 2021  9:39                                                Page 228


 12281                        ;}
 12282                        	.line	1590
 12283                        	.endblock	1590
 12284             00000015   L622	equ	21
 12285             00000009   L623	equ	9
 12286 06:2C4B:              	ends
 12287                        	efunc
 12288                        	.endfunc	1590,9,21
 12289                        	.line	1590
 12290                        ;
 12291                        ;
 12292                        ;int k_put_binary_variablefont_point_ex(LPCHAR fon
                    tSet, char outChar,int cx,int cy,int width,int height,char c
                    olor,UINT page)
 12293                        ;{
 12294                        	.line	1593
 12295                        	.line	1594
 12296                        	GFX
 12297                        	xdef	~~k_put_binary_variablefont_point_ex
 12298                        	func
 12299                        	.function	1594
 12300                        ~~k_put_binary_variablefont_point_ex:
 12301                        	longa	on
 12302                        	longi	on
 12303 06:2C4B: 3B           	tsc
 12304 06:2C4C: 38           	sec
 12305 06:2C4D: E9 15 00     	sbc	#L636
 12306 06:2C50: 1B           	tcs
 12307 06:2C51: 0B           	phd
 12308 06:2C52: 5B           	tcd
 12309             00000004   fontSet_0	set	4
 12310             00000008   outChar_0	set	8
 12311             0000000A   cx_0	set	10
 12312             0000000C   cy_0	set	12
 12313             0000000E   width_0	set	14
 12314             00000010   height_0	set	16
 12315             00000012   color_0	set	18
 12316             00000014   page_0	set	20
 12317                        	.block	1594
 12318                        ;	int x = 0;
 12319                        ;	int y = 0;
 12320                        ;	int textX = cx;
 12321                        ;	int textY = cy;
 12322                        ;	char tmp;
 12323                        ;
 12324                        ;	unsigned char FAR* img = NULL;//fontImg[ix];
 12325                        ;
 12326                        ;    if(outChar == 32)
 12327             00000000   x_1	set	0
 12328             00000002   y_1	set	2
 12329             00000004   textX_1	set	4
 12330             00000006   textY_1	set	6
 12331             00000008   tmp_1	set	8
 12332             00000009   img_1	set	9
 12333                        	.sym	x,0,5,1,16
 12334                        	.sym	y,2,5,1,16
 12335                        	.sym	textX,4,5,1,16
 12336                        	.sym	textY,6,5,1,16
  Mon Sep 27 2021  9:39                                                Page 229


 12337                        	.sym	tmp,8,14,1,8
 12338                        	.sym	img,9,142,1,32
 12339                        	.sym	fontSet,4,142,6,32
 12340                        	.sym	outChar,8,14,6,8
 12341                        	.sym	cx,10,5,6,16
 12342                        	.sym	cy,12,5,6,16
 12343                        	.sym	width,14,5,6,16
 12344                        	.sym	height,16,5,6,16
 12345                        	.sym	color,18,14,6,8
 12346                        	.sym	page,20,16,6,16
 12347 06:2C53: 64 09        	stz	<L637+x_1
 12348 06:2C55: 64 0B        	stz	<L637+y_1
 12349 06:2C57: A5 1F        	lda	<L636+cx_0
 12350 06:2C59: 85 0D        	sta	<L637+textX_1
 12351 06:2C5B: A5 21        	lda	<L636+cy_0
 12352 06:2C5D: 85 0F        	sta	<L637+textY_1
 12353 06:2C5F: 64 12        	stz	<L637+img_1
 12354 06:2C61: 64 14        	stz	<L637+img_1+2
 12355                        	.line	1603
 12356                        ;	{
 12357 06:2C63: E2 20        	sep	#$20
 12358                        	longa	off
 12359 06:2C65: A5 1D        	lda	<L636+outChar_0
 12360 06:2C67: C9 20        	cmp	#<$20
 12361 06:2C69: C2 20        	rep	#$20
 12362                        	longa	on
 12363 06:2C6B: F0 03        	beq	L639
 12364 06:2C6D: 82 07 00     	brl	L10144
 12365                        L639:
 12366                        	.line	1604
 12367                        ;	   img = NULL;//fontSpace;
 12368                        	.line	1605
 12369 06:2C70: 64 12        	stz	<L637+img_1
 12370 06:2C72: 64 14        	stz	<L637+img_1+2
 12371                        ;    }
 12372                        	.line	1606
 12373                        ;    else if(outChar <= 0x0A)
 12374 06:2C74: 82 3E 00     	brl	L10145
 12375                        L10144:
 12376                        	.line	1607
 12377                        ;	{
 12378 06:2C77: E2 20        	sep	#$20
 12379                        	longa	off
 12380 06:2C79: A9 0A        	lda	#$a
 12381 06:2C7B: C5 1D        	cmp	<L636+outChar_0
 12382 06:2C7D: C2 20        	rep	#$20
 12383                        	longa	on
 12384 06:2C7F: B0 03        	bcs	L640
 12385 06:2C81: 82 07 00     	brl	L10146
 12386                        L640:
 12387                        	.line	1608
 12388                        ;	   img = NULL;
 12389                        	.line	1609
 12390 06:2C84: 64 12        	stz	<L637+img_1
 12391 06:2C86: 64 14        	stz	<L637+img_1+2
 12392                        ;    }
 12393                        	.line	1610
 12394                        ;
  Mon Sep 27 2021  9:39                                                Page 230


 12395                        ;    else
 12396 06:2C88: 82 2A 00     	brl	L10147
 12397                        L10146:
 12398                        ;	{
 12399                        	.line	1613
 12400                        ;    	//img = fontSet+=(height*outChar);
 12401                        ;    	img = &fontSet[(height*outChar)];
 12402                        	.line	1615
 12403 06:2C8B: A5 1D        	lda	<L636+outChar_0
 12404 06:2C8D: 29 FF 00     	and	#$ff
 12405 06:2C90: 85 01        	sta	<R0
 12406 06:2C92: A5 01        	lda	<R0
 12407 06:2C94: A6 25        	ldx	<L636+height_0
 12408                        	xref	~~~mul
 12409 06:2C96: 22 xx xx xx  	jsl	~~~mul
 12410 06:2C9A: 85 01        	sta	<R0
 12411 06:2C9C: A0 00 00     	ldy	#$0
 12412 06:2C9F: A5 01        	lda	<R0
 12413 06:2CA1: 10 01        	bpl	L641
 12414 06:2CA3: 88           	dey
 12415                        L641:
 12416 06:2CA4: 85 01        	sta	<R0
 12417 06:2CA6: 84 03        	sty	<R0+2
 12418 06:2CA8: 18           	clc
 12419 06:2CA9: A5 19        	lda	<L636+fontSet_0
 12420 06:2CAB: 65 01        	adc	<R0
 12421 06:2CAD: 85 12        	sta	<L637+img_1
 12422 06:2CAF: A5 1B        	lda	<L636+fontSet_0+2
 12423 06:2CB1: 65 03        	adc	<R0+2
 12424 06:2CB3: 85 14        	sta	<L637+img_1+2
 12425                        ;	}
 12426                        	.line	1616
 12427                        L10147:
 12428                        L10145:
 12429                        ;
 12430                        ;    if(img!=NULL)
 12431                        	.line	1618
 12432                        ;	{
 12433 06:2CB5: A5 12        	lda	<L637+img_1
 12434 06:2CB7: 05 14        	ora	<L637+img_1+2
 12435 06:2CB9: D0 03        	bne	L642
 12436 06:2CBB: 82 C8 00     	brl	L10148
 12437                        L642:
 12438                        	.line	1619
 12439                        ;		for (y = 0; y < height; y++)
 12440                        	.line	1620
 12441 06:2CBE: 64 0B        	stz	<L637+y_1
 12442 06:2CC0: 82 B4 00     	brl	L10152
 12443                        L10151:
 12444                        ;		{
 12445                        	.line	1621
 12446                        ;			tmp = img[y];
 12447                        	.line	1622
 12448 06:2CC3: E2 20        	sep	#$20
 12449                        	longa	off
 12450 06:2CC5: A4 0B        	ldy	<L637+y_1
 12451 06:2CC7: B7 12        	lda	[<L637+img_1],Y
 12452 06:2CC9: 85 11        	sta	<L637+tmp_1
  Mon Sep 27 2021  9:39                                                Page 231


 12453 06:2CCB: C2 20        	rep	#$20
 12454                        	longa	on
 12455                        ;
 12456                        ;			for (x = 0; x < width; x++)
 12457                        	.line	1624
 12458 06:2CCD: 64 09        	stz	<L637+x_1
 12459 06:2CCF: 82 94 00     	brl	L10156
 12460                        L10155:
 12461                        ;			{
 12462                        	.line	1625
 12463                        ;				if(tmp & 0x80 )
 12464                        	.line	1626
 12465                        ;				{
 12466 06:2CD2: E2 20        	sep	#$20
 12467                        	longa	off
 12468 06:2CD4: A5 11        	lda	<L637+tmp_1
 12469 06:2CD6: 29 80        	and	#<$80
 12470 06:2CD8: C2 20        	rep	#$20
 12471                        	longa	on
 12472 06:2CDA: D0 03        	bne	L643
 12473 06:2CDC: 82 7F 00     	brl	L10157
 12474                        L643:
 12475                        	.line	1627
 12476                        ;
 12477                        ;					switch(page)
 12478                        	.line	1629
 12479 06:2CDF: A5 29        	lda	<L636+page_0
 12480 06:2CE1: 82 6E 00     	brl	L10158
 12481                        ;					{
 12482                        	.line	1630
 12483                        ;					case BITMAP_BACK
                    :
 12484                        	.line	1631
 12485                        L10160:
 12486                        ;						k_draw_p
                    ixel_back(textX + x, textY + y,color);
 12487                        	.line	1632
 12488 06:2CE4: D4 27        	pei	<L636+color_0
 12489 06:2CE6: 18           	clc
 12490 06:2CE7: A5 0F        	lda	<L637+textY_1
 12491 06:2CE9: 65 0B        	adc	<L637+y_1
 12492 06:2CEB: 85 01        	sta	<R0
 12493 06:2CED: A0 00 00     	ldy	#$0
 12494 06:2CF0: A5 01        	lda	<R0
 12495 06:2CF2: 10 01        	bpl	L644
 12496 06:2CF4: 88           	dey
 12497                        L644:
 12498 06:2CF5: 85 01        	sta	<R0
 12499 06:2CF7: 84 03        	sty	<R0+2
 12500 06:2CF9: D4 03        	pei	<R0+2
 12501 06:2CFB: D4 01        	pei	<R0
 12502 06:2CFD: 18           	clc
 12503 06:2CFE: A5 0D        	lda	<L637+textX_1
 12504 06:2D00: 65 09        	adc	<L637+x_1
 12505 06:2D02: 85 05        	sta	<R1
 12506 06:2D04: A0 00 00     	ldy	#$0
 12507 06:2D07: A5 05        	lda	<R1
 12508 06:2D09: 10 01        	bpl	L645
  Mon Sep 27 2021  9:39                                                Page 232


 12509 06:2D0B: 88           	dey
 12510                        L645:
 12511 06:2D0C: 85 05        	sta	<R1
 12512 06:2D0E: 84 07        	sty	<R1+2
 12513 06:2D10: D4 07        	pei	<R1+2
 12514 06:2D12: D4 05        	pei	<R1
 12515 06:2D14: 22 5F 16 06  	jsl	~~k_draw_pixel_back
 12516                        ;						break;
 12517                        	.line	1633
 12518 06:2D18: 82 43 00     	brl	L10159
 12519                        ;					default:
 12520                        	.line	1634
 12521                        L10161:
 12522                        ;						k_draw_p
                    ixel_front(textX + x, textY + y,color);
 12523                        	.line	1635
 12524 06:2D1B: D4 27        	pei	<L636+color_0
 12525 06:2D1D: 18           	clc
 12526 06:2D1E: A5 0F        	lda	<L637+textY_1
 12527 06:2D20: 65 0B        	adc	<L637+y_1
 12528 06:2D22: 85 01        	sta	<R0
 12529 06:2D24: A0 00 00     	ldy	#$0
 12530 06:2D27: A5 01        	lda	<R0
 12531 06:2D29: 10 01        	bpl	L646
 12532 06:2D2B: 88           	dey
 12533                        L646:
 12534 06:2D2C: 85 01        	sta	<R0
 12535 06:2D2E: 84 03        	sty	<R0+2
 12536 06:2D30: D4 03        	pei	<R0+2
 12537 06:2D32: D4 01        	pei	<R0
 12538 06:2D34: 18           	clc
 12539 06:2D35: A5 0D        	lda	<L637+textX_1
 12540 06:2D37: 65 09        	adc	<L637+x_1
 12541 06:2D39: 85 05        	sta	<R1
 12542 06:2D3B: A0 00 00     	ldy	#$0
 12543 06:2D3E: A5 05        	lda	<R1
 12544 06:2D40: 10 01        	bpl	L647
 12545 06:2D42: 88           	dey
 12546                        L647:
 12547 06:2D43: 85 05        	sta	<R1
 12548 06:2D45: 84 07        	sty	<R1+2
 12549 06:2D47: D4 07        	pei	<R1+2
 12550 06:2D49: D4 05        	pei	<R1
 12551 06:2D4B: 22 53 15 06  	jsl	~~k_draw_pixel_front
 12552                        ;					}
 12553                        	.line	1636
 12554 06:2D4F: 82 0C 00     	brl	L10159
 12555                        L10158:
 12556                        	xref	~~~swt
 12557 06:2D52: 22 xx xx xx  	jsl	~~~swt
 12558 06:2D56: 01 00        	dw	1
 12559 06:2D58: 08 00        	dw	8
 12560 06:2D5A: E3 2C        	dw	L10160-1
 12561 06:2D5C: 1A 2D        	dw	L10161-1
 12562                        L10159:
 12563                        ;					/*
 12564                        ;					//k_draw_pixel_e
                    x(textX + x, textY + y, color, page);
  Mon Sep 27 2021  9:39                                                Page 233


 12565                        ;					if(page)
 12566                        ;						k_draw_p
                    ixel_back(textX + x, textY + y, color);
 12567                        ;					else
 12568                        ;						k_draw_p
                    ixel_front(textX + x, textY + y, color);
 12569                        ;						*/
 12570                        ;				}
 12571                        	.line	1644
 12572                        ;				tmp = tmp << 1;
 12573                        L10157:
 12574                        	.line	1645
 12575 06:2D5E: E2 20        	sep	#$20
 12576                        	longa	off
 12577 06:2D60: 06 11        	asl	<L637+tmp_1
 12578 06:2D62: C2 20        	rep	#$20
 12579                        	longa	on
 12580                        ;			}
 12581                        	.line	1646
 12582                        L10153:
 12583 06:2D64: E6 09        	inc	<L637+x_1
 12584                        L10156:
 12585 06:2D66: 38           	sec
 12586 06:2D67: A5 09        	lda	<L637+x_1
 12587 06:2D69: E5 23        	sbc	<L636+width_0
 12588 06:2D6B: 70 03        	bvs	L648
 12589 06:2D6D: 49 00 80     	eor	#$8000
 12590                        L648:
 12591 06:2D70: 30 03        	bmi	L649
 12592 06:2D72: 82 5D FF     	brl	L10155
 12593                        L649:
 12594                        L10154:
 12595                        ;		} // end "for y"
 12596                        	.line	1647
 12597                        L10149:
 12598 06:2D75: E6 0B        	inc	<L637+y_1
 12599                        L10152:
 12600 06:2D77: 38           	sec
 12601 06:2D78: A5 0B        	lda	<L637+y_1
 12602 06:2D7A: E5 25        	sbc	<L636+height_0
 12603 06:2D7C: 70 03        	bvs	L650
 12604 06:2D7E: 49 00 80     	eor	#$8000
 12605                        L650:
 12606 06:2D81: 30 03        	bmi	L651
 12607 06:2D83: 82 3D FF     	brl	L10151
 12608                        L651:
 12609                        L10150:
 12610                        ;	}
 12611                        	.line	1648
 12612                        ;	return FONTW;
 12613                        L10148:
 12614                        	.line	1649
 12615 06:2D86: 22 36 86 06  	jsl	~~k_font_getFontWidth
 12616                        L652:
 12617 06:2D8A: A8           	tay
 12618 06:2D8B: A5 17        	lda	<L636+2
 12619 06:2D8D: 85 29        	sta	<L636+2+18
 12620 06:2D8F: A5 16        	lda	<L636+1
  Mon Sep 27 2021  9:39                                                Page 234


 12621 06:2D91: 85 28        	sta	<L636+1+18
 12622 06:2D93: 2B           	pld
 12623 06:2D94: 3B           	tsc
 12624 06:2D95: 18           	clc
 12625 06:2D96: 69 27 00     	adc	#L636+18
 12626 06:2D99: 1B           	tcs
 12627 06:2D9A: 98           	tya
 12628 06:2D9B: 6B           	rtl
 12629                        ;}
 12630                        	.line	1650
 12631                        	.endblock	1650
 12632             00000015   L636	equ	21
 12633             00000009   L637	equ	9
 12634 06:2D9C:              	ends
 12635                        	efunc
 12636                        	.endfunc	1650,9,21
 12637                        	.line	1650
 12638                        ;
 12639                        ;/*
 12640                        ;int k_render_wingadget(char gadgetCode,int cx,int
                     cy,char color,OBJECTCLICKED callback)
 12641                        ;{
 12642                        ;	PCLICKDETECTED pcd = NULL;
 12643                        ;
 12644                        ;	int retCode = 0;
 12645                        ;
 12646                        ;	k_put_wingadget_point(gadgetCode,cx,cy,color);
 12647                        ;
 12648                        ;	pcd = k_mem_allocate_heap(sizeof(CLICKDETECTED))
                    ;
 12649                        ;	if(pcd)
 12650                        ;	{
 12651                        ;		pcd->window  = k_create_ui_window_class(
                    cx,cy,FONTH,FONTW,"disk","gadget",NULL);
 12652                        ;		pcd->handler = callback;
 12653                        ;		k_add_window_hit_node(pcd);
 12654                        ;	}
 12655                        ;
 12656                        ;	return retCode;
 12657                        ;}
 12658                        ;*/
 12659                        ;
 12660                        ;
 12661                        ;int k_put_wingadget_point(char gadgetCode,int cx,
                    int cy,char color)
 12662                        ;{
 12663                        	.line	1674
 12664                        	.line	1675
 12665                        	GFX
 12666                        	xdef	~~k_put_wingadget_point
 12667                        	func
 12668                        	.function	1675
 12669                        ~~k_put_wingadget_point:
 12670                        	longa	on
 12671                        	longi	on
 12672 06:2D9C: 3B           	tsc
 12673 06:2D9D: 38           	sec
 12674 06:2D9E: E9 15 00     	sbc	#L653
  Mon Sep 27 2021  9:39                                                Page 235


 12675 06:2DA1: 1B           	tcs
 12676 06:2DA2: 0B           	phd
 12677 06:2DA3: 5B           	tcd
 12678             00000004   gadgetCode_0	set	4
 12679             00000006   cx_0	set	6
 12680             00000008   cy_0	set	8
 12681             0000000A   color_0	set	10
 12682                        	.block	1675
 12683                        ;	int x = 0;
 12684                        ;	int y = 0;
 12685                        ;	int textX = cx;
 12686                        ;	int textY = cy;
 12687                        ;
 12688                        ;	char FAR* img = NULL;//fontImg[ix];
 12689                        ;
 12690                        ;
 12691                        ;    img = windowChromeImg[(int)(gadgetCode & 0xFF
                    )];
 12692             00000000   x_1	set	0
 12693             00000002   y_1	set	2
 12694             00000004   textX_1	set	4
 12695             00000006   textY_1	set	6
 12696             00000008   img_1	set	8
 12697                        	.sym	x,0,5,1,16
 12698                        	.sym	y,2,5,1,16
 12699                        	.sym	textX,4,5,1,16
 12700                        	.sym	textY,6,5,1,16
 12701                        	.sym	img,8,142,1,32
 12702                        	.sym	gadgetCode,4,14,6,8
 12703                        	.sym	cx,6,5,6,16
 12704                        	.sym	cy,8,5,6,16
 12705                        	.sym	color,10,14,6,8
 12706 06:2DA4: 64 09        	stz	<L654+x_1
 12707 06:2DA6: 64 0B        	stz	<L654+y_1
 12708 06:2DA8: A5 1B        	lda	<L653+cx_0
 12709 06:2DAA: 85 0D        	sta	<L654+textX_1
 12710 06:2DAC: A5 1D        	lda	<L653+cy_0
 12711 06:2DAE: 85 0F        	sta	<L654+textY_1
 12712 06:2DB0: 64 11        	stz	<L654+img_1
 12713 06:2DB2: 64 13        	stz	<L654+img_1+2
 12714                        	.line	1684
 12715 06:2DB4: A5 19        	lda	<L653+gadgetCode_0
 12716 06:2DB6: 29 FF 00     	and	#<$ff
 12717 06:2DB9: 85 05        	sta	<R1
 12718 06:2DBB: A0 00 00     	ldy	#$0
 12719 06:2DBE: A5 05        	lda	<R1
 12720 06:2DC0: 10 01        	bpl	L656
 12721 06:2DC2: 88           	dey
 12722                        L656:
 12723 06:2DC3: 85 05        	sta	<R1
 12724 06:2DC5: 84 07        	sty	<R1+2
 12725 06:2DC7: D4 07        	pei	<R1+2
 12726 06:2DC9: D4 05        	pei	<R1
 12727 06:2DCB: A9 06 00     	lda	#$6
 12728                        	xref	~~~lasl
 12729 06:2DCE: 22 xx xx xx  	jsl	~~~lasl
 12730 06:2DD2: 85 01        	sta	<R0
 12731 06:2DD4: 86 03        	stx	<R0+2
  Mon Sep 27 2021  9:39                                                Page 236


 12732 06:2DD6: 18           	clc
 12733 06:2DD7: A9 xx xx     	lda	#<~~windowChromeImg
 12734 06:2DDA: 65 01        	adc	<R0
 12735 06:2DDC: 85 11        	sta	<L654+img_1
 12736 06:2DDE: A9 xx xx     	lda	#^~~windowChromeImg
 12737 06:2DE1: 65 03        	adc	<R0+2
 12738 06:2DE3: 85 13        	sta	<L654+img_1+2
 12739                        ;	if(img!=NULL)
 12740                        	.line	1685
 12741                        ;	{
 12742 06:2DE5: A5 11        	lda	<L654+img_1
 12743 06:2DE7: 05 13        	ora	<L654+img_1+2
 12744 06:2DE9: D0 03        	bne	L657
 12745 06:2DEB: 82 91 00     	brl	L10162
 12746                        L657:
 12747                        	.line	1686
 12748                        ;		for (y = 0; y < FONTH; y++) 
 12749                        	.line	1687
 12750 06:2DEE: 64 0B        	stz	<L654+y_1
 12751 06:2DF0: 82 7D 00     	brl	L10166
 12752                        L10165:
 12753                        ;		{
 12754                        	.line	1688
 12755                        ;			// loop through pixel columns
 12756                        ;			for (x = 0; x < FONTW; x++) 
 12757                        	.line	1690
 12758 06:2DF3: 64 09        	stz	<L654+x_1
 12759 06:2DF5: 82 67 00     	brl	L10170
 12760                        L10169:
 12761                        ;			{
 12762                        	.line	1691
 12763                        ;				// get the pixel value
 12764                        ;				char b = img[y * FONTW +
                     x];
 12765                        ;				if (b > 0) 
 12766                        	.block	1694
 12767             0000000C   b_2	set	12
 12768                        	.sym	b,12,14,1,8
 12769 06:2DF8: 22 36 86 06  	jsl	~~k_font_getFontWidth
 12770 06:2DFC: 85 01        	sta	<R0
 12771 06:2DFE: A5 01        	lda	<R0
 12772 06:2E00: A6 0B        	ldx	<L654+y_1
 12773                        	xref	~~~mul
 12774 06:2E02: 22 xx xx xx  	jsl	~~~mul
 12775 06:2E06: 85 01        	sta	<R0
 12776 06:2E08: 18           	clc
 12777 06:2E09: A5 01        	lda	<R0
 12778 06:2E0B: 65 09        	adc	<L654+x_1
 12779 06:2E0D: 85 05        	sta	<R1
 12780 06:2E0F: E2 20        	sep	#$20
 12781                        	longa	off
 12782 06:2E11: A4 05        	ldy	<R1
 12783 06:2E13: B7 11        	lda	[<L654+img_1],Y
 12784 06:2E15: 85 15        	sta	<L654+b_2
 12785 06:2E17: C2 20        	rep	#$20
 12786                        	longa	on
 12787                        	.line	1694
 12788                        ;				{ // plot the pixel
  Mon Sep 27 2021  9:39                                                Page 237


 12789 06:2E19: E2 20        	sep	#$20
 12790                        	longa	off
 12791 06:2E1B: A9 00        	lda	#$0
 12792 06:2E1D: C5 15        	cmp	<L654+b_2
 12793 06:2E1F: C2 20        	rep	#$20
 12794                        	longa	on
 12795 06:2E21: 90 03        	bcc	L659
 12796 06:2E23: 82 37 00     	brl	L10171
 12797                        L659:
 12798                        	.line	1695
 12799                        ;					k_draw_pixel(tex
                    tX + x, textY + y, color);
 12800                        	.line	1696
 12801 06:2E26: D4 1F        	pei	<L653+color_0
 12802 06:2E28: 18           	clc
 12803 06:2E29: A5 0F        	lda	<L654+textY_1
 12804 06:2E2B: 65 0B        	adc	<L654+y_1
 12805 06:2E2D: 85 01        	sta	<R0
 12806 06:2E2F: A0 00 00     	ldy	#$0
 12807 06:2E32: A5 01        	lda	<R0
 12808 06:2E34: 10 01        	bpl	L660
 12809 06:2E36: 88           	dey
 12810                        L660:
 12811 06:2E37: 85 01        	sta	<R0
 12812 06:2E39: 84 03        	sty	<R0+2
 12813 06:2E3B: D4 03        	pei	<R0+2
 12814 06:2E3D: D4 01        	pei	<R0
 12815 06:2E3F: 18           	clc
 12816 06:2E40: A5 0D        	lda	<L654+textX_1
 12817 06:2E42: 65 09        	adc	<L654+x_1
 12818 06:2E44: 85 05        	sta	<R1
 12819 06:2E46: A0 00 00     	ldy	#$0
 12820 06:2E49: A5 05        	lda	<R1
 12821 06:2E4B: 10 01        	bpl	L661
 12822 06:2E4D: 88           	dey
 12823                        L661:
 12824 06:2E4E: 85 05        	sta	<R1
 12825 06:2E50: 84 07        	sty	<R1+2
 12826 06:2E52: D4 07        	pei	<R1+2
 12827 06:2E54: D4 05        	pei	<R1
 12828 06:2E56: 22 CD 14 06  	jsl	~~k_draw_pixel
 12829                        ;				}
 12830                        	.line	1697
 12831                        ;				else 
 12832 06:2E5A: 82 00 00     	brl	L10172
 12833                        L10171:
 12834                        ;				{ 
 12835                        	.line	1699
 12836                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 12837                        ;				}
 12838                        	.line	1701
 12839                        L10172:
 12840                        ;			} // end "for x"
 12841                        	.endblock	1702
 12842                        	.line	1702
 12843                        L10167:
 12844 06:2E5D: E6 09        	inc	<L654+x_1
  Mon Sep 27 2021  9:39                                                Page 238


 12845                        L10170:
 12846 06:2E5F: 22 36 86 06  	jsl	~~k_font_getFontWidth
 12847 06:2E63: 85 01        	sta	<R0
 12848 06:2E65: A5 09        	lda	<L654+x_1
 12849 06:2E67: C5 01        	cmp	<R0
 12850 06:2E69: B0 03        	bcs	L662
 12851 06:2E6B: 82 8A FF     	brl	L10169
 12852                        L662:
 12853                        L10168:
 12854                        ;		} // end "for y"
 12855                        	.line	1703
 12856                        L10163:
 12857 06:2E6E: E6 0B        	inc	<L654+y_1
 12858                        L10166:
 12859 06:2E70: 22 21 86 06  	jsl	~~k_font_getFontHeight
 12860 06:2E74: 85 01        	sta	<R0
 12861 06:2E76: A5 0B        	lda	<L654+y_1
 12862 06:2E78: C5 01        	cmp	<R0
 12863 06:2E7A: B0 03        	bcs	L663
 12864 06:2E7C: 82 74 FF     	brl	L10165
 12865                        L663:
 12866                        L10164:
 12867                        ;	}
 12868                        	.line	1704
 12869                        ;	return FONTW;
 12870                        L10162:
 12871                        	.line	1705
 12872 06:2E7F: 22 36 86 06  	jsl	~~k_font_getFontWidth
 12873                        L664:
 12874 06:2E83: A8           	tay
 12875 06:2E84: A5 17        	lda	<L653+2
 12876 06:2E86: 85 1F        	sta	<L653+2+8
 12877 06:2E88: A5 16        	lda	<L653+1
 12878 06:2E8A: 85 1E        	sta	<L653+1+8
 12879 06:2E8C: 2B           	pld
 12880 06:2E8D: 3B           	tsc
 12881 06:2E8E: 18           	clc
 12882 06:2E8F: 69 1D 00     	adc	#L653+8
 12883 06:2E92: 1B           	tcs
 12884 06:2E93: 98           	tya
 12885 06:2E94: 6B           	rtl
 12886                        ;}
 12887                        	.line	1706
 12888                        	.endblock	1706
 12889             00000015   L653	equ	21
 12890             00000009   L654	equ	9
 12891 06:2E95:              	ends
 12892                        	efunc
 12893                        	.endfunc	1706,9,21
 12894                        	.line	1706
 12895                        ;
 12896                        ;int k_gui_DrawWidget(HWND hWnd,UINT gadgetId,PREC
                    T prect,UINT color,UINT page)
 12897                        ;{
 12898                        	.line	1708
 12899                        	.line	1709
 12900                        	GFX
 12901                        	xdef	~~k_gui_DrawWidget
  Mon Sep 27 2021  9:39                                                Page 239


 12902                        	func
 12903                        	.function	1709
 12904                        ~~k_gui_DrawWidget:
 12905                        	longa	on
 12906                        	longi	on
 12907 06:2E95: 3B           	tsc
 12908 06:2E96: 38           	sec
 12909 06:2E97: E9 0A 00     	sbc	#L665
 12910 06:2E9A: 1B           	tcs
 12911 06:2E9B: 0B           	phd
 12912 06:2E9C: 5B           	tcd
 12913             00000004   hWnd_0	set	4
 12914             00000008   gadgetId_0	set	8
 12915             0000000A   prect_0	set	10
 12916             0000000E   color_0	set	14
 12917             00000010   page_0	set	16
 12918                        	.block	1709
 12919                        ;	int ymax = ((PWINDOW)hWnd)->clientRect.y + ((PWI
                    NDOW)hWnd)->clientRect.height - 1;
 12920                        ;
 12921                        ;	if(((prect->y + FONTH) >= ymax))
 12922             00000000   ymax_1	set	0
 12923                        	.sym	ymax,0,5,1,16
 12924                        	.sym	hWnd,4,129,6,32
 12925                        	.sym	gadgetId,8,16,6,16
 12926                        	.sym	prect,10,138,6,32,26
 12927                        	.sym	color,14,16,6,16
 12928                        	.sym	page,16,16,6,16
 12929 06:2E9D: 18           	clc
 12930 06:2E9E: A0 2C 00     	ldy	#$2c
 12931 06:2EA1: B7 0E        	lda	[<L665+hWnd_0],Y
 12932 06:2EA3: A0 34 00     	ldy	#$34
 12933 06:2EA6: 77 0E        	adc	[<L665+hWnd_0],Y
 12934 06:2EA8: 85 01        	sta	<R0
 12935 06:2EAA: 18           	clc
 12936 06:2EAB: A9 FF FF     	lda	#$ffff
 12937 06:2EAE: 65 01        	adc	<R0
 12938 06:2EB0: 85 09        	sta	<L666+ymax_1
 12939                        	.line	1712
 12940                        ;		return -1;
 12941 06:2EB2: 22 21 86 06  	jsl	~~k_font_getFontHeight
 12942 06:2EB6: 85 01        	sta	<R0
 12943 06:2EB8: 18           	clc
 12944 06:2EB9: A5 01        	lda	<R0
 12945 06:2EBB: A0 02 00     	ldy	#$2
 12946 06:2EBE: 77 14        	adc	[<L665+prect_0],Y
 12947 06:2EC0: 85 05        	sta	<R1
 12948 06:2EC2: A5 05        	lda	<R1
 12949 06:2EC4: C5 09        	cmp	<L666+ymax_1
 12950 06:2EC6: B0 03        	bcs	L668
 12951 06:2EC8: 82 15 00     	brl	L10173
 12952                        L668:
 12953                        	.line	1713
 12954 06:2ECB: A9 FF FF     	lda	#$ffff
 12955                        L669:
 12956 06:2ECE: A8           	tay
 12957 06:2ECF: A5 0C        	lda	<L665+2
 12958 06:2ED1: 85 1A        	sta	<L665+2+14
  Mon Sep 27 2021  9:39                                                Page 240


 12959 06:2ED3: A5 0B        	lda	<L665+1
 12960 06:2ED5: 85 19        	sta	<L665+1+14
 12961 06:2ED7: 2B           	pld
 12962 06:2ED8: 3B           	tsc
 12963 06:2ED9: 18           	clc
 12964 06:2EDA: 69 18 00     	adc	#L665+14
 12965 06:2EDD: 1B           	tcs
 12966 06:2EDE: 98           	tya
 12967 06:2EDF: 6B           	rtl
 12968                        ;
 12969                        ;	return k_put_wingadget_point_ex(gadgetId,prect->
                    x,prect->y,color,page);
 12970                        L10173:
 12971                        	.line	1715
 12972 06:2EE0: D4 1A        	pei	<L665+page_0
 12973 06:2EE2: D4 18        	pei	<L665+color_0
 12974 06:2EE4: A0 02 00     	ldy	#$2
 12975 06:2EE7: B7 14        	lda	[<L665+prect_0],Y
 12976 06:2EE9: 48           	pha
 12977 06:2EEA: A7 14        	lda	[<L665+prect_0]
 12978 06:2EEC: 48           	pha
 12979 06:2EED: D4 12        	pei	<L665+gadgetId_0
 12980 06:2EEF: 22 F6 2E 06  	jsl	~~k_put_wingadget_point_ex
 12981 06:2EF3: 82 D8 FF     	brl	L669
 12982                        ;}
 12983                        	.line	1716
 12984                        	.endblock	1716
 12985             0000000A   L665	equ	10
 12986             00000009   L666	equ	9
 12987 06:2EF6:              	ends
 12988                        	efunc
 12989                        	.endfunc	1716,9,10
 12990                        	.line	1716
 12991                        ;
 12992                        ;int k_put_wingadget_point_ex(char gadgetCode,int 
                    cx,int cy,char color,UINT page)
 12993                        ;{
 12994                        	.line	1718
 12995                        	.line	1719
 12996                        	GFX
 12997                        	xdef	~~k_put_wingadget_point_ex
 12998                        	func
 12999                        	.function	1719
 13000                        ~~k_put_wingadget_point_ex:
 13001                        	longa	on
 13002                        	longi	on
 13003 06:2EF6: 3B           	tsc
 13004 06:2EF7: 38           	sec
 13005 06:2EF8: E9 15 00     	sbc	#L670
 13006 06:2EFB: 1B           	tcs
 13007 06:2EFC: 0B           	phd
 13008 06:2EFD: 5B           	tcd
 13009             00000004   gadgetCode_0	set	4
 13010             00000006   cx_0	set	6
 13011             00000008   cy_0	set	8
 13012             0000000A   color_0	set	10
 13013             0000000C   page_0	set	12
 13014                        	.block	1719
  Mon Sep 27 2021  9:39                                                Page 241


 13015                        ;	int x = 0;
 13016                        ;	int y = 0;
 13017                        ;	int textX = cx;
 13018                        ;	int textY = cy;
 13019                        ;
 13020                        ;	char FAR* img = NULL;//fontImg[ix];
 13021                        ;
 13022                        ;
 13023                        ;    img = windowChromeImg[(int)(gadgetCode & 0xFF
                    )];
 13024             00000000   x_1	set	0
 13025             00000002   y_1	set	2
 13026             00000004   textX_1	set	4
 13027             00000006   textY_1	set	6
 13028             00000008   img_1	set	8
 13029                        	.sym	x,0,5,1,16
 13030                        	.sym	y,2,5,1,16
 13031                        	.sym	textX,4,5,1,16
 13032                        	.sym	textY,6,5,1,16
 13033                        	.sym	img,8,142,1,32
 13034                        	.sym	gadgetCode,4,14,6,8
 13035                        	.sym	cx,6,5,6,16
 13036                        	.sym	cy,8,5,6,16
 13037                        	.sym	color,10,14,6,8
 13038                        	.sym	page,12,16,6,16
 13039 06:2EFE: 64 09        	stz	<L671+x_1
 13040 06:2F00: 64 0B        	stz	<L671+y_1
 13041 06:2F02: A5 1B        	lda	<L670+cx_0
 13042 06:2F04: 85 0D        	sta	<L671+textX_1
 13043 06:2F06: A5 1D        	lda	<L670+cy_0
 13044 06:2F08: 85 0F        	sta	<L671+textY_1
 13045 06:2F0A: 64 11        	stz	<L671+img_1
 13046 06:2F0C: 64 13        	stz	<L671+img_1+2
 13047                        	.line	1728
 13048 06:2F0E: A5 19        	lda	<L670+gadgetCode_0
 13049 06:2F10: 29 FF 00     	and	#<$ff
 13050 06:2F13: 85 05        	sta	<R1
 13051 06:2F15: A0 00 00     	ldy	#$0
 13052 06:2F18: A5 05        	lda	<R1
 13053 06:2F1A: 10 01        	bpl	L673
 13054 06:2F1C: 88           	dey
 13055                        L673:
 13056 06:2F1D: 85 05        	sta	<R1
 13057 06:2F1F: 84 07        	sty	<R1+2
 13058 06:2F21: D4 07        	pei	<R1+2
 13059 06:2F23: D4 05        	pei	<R1
 13060 06:2F25: A9 06 00     	lda	#$6
 13061                        	xref	~~~lasl
 13062 06:2F28: 22 xx xx xx  	jsl	~~~lasl
 13063 06:2F2C: 85 01        	sta	<R0
 13064 06:2F2E: 86 03        	stx	<R0+2
 13065 06:2F30: 18           	clc
 13066 06:2F31: A9 xx xx     	lda	#<~~windowChromeImg
 13067 06:2F34: 65 01        	adc	<R0
 13068 06:2F36: 85 11        	sta	<L671+img_1
 13069 06:2F38: A9 xx xx     	lda	#^~~windowChromeImg
 13070 06:2F3B: 65 03        	adc	<R0+2
 13071 06:2F3D: 85 13        	sta	<L671+img_1+2
  Mon Sep 27 2021  9:39                                                Page 242


 13072                        ;	if(img!=NULL)
 13073                        	.line	1729
 13074                        ;	{
 13075 06:2F3F: A5 11        	lda	<L671+img_1
 13076 06:2F41: 05 13        	ora	<L671+img_1+2
 13077 06:2F43: D0 03        	bne	L674
 13078 06:2F45: 82 DC 00     	brl	L10174
 13079                        L674:
 13080                        	.line	1730
 13081                        ;		for (y = 0; y < FONTH; y++)
 13082                        	.line	1731
 13083 06:2F48: 64 0B        	stz	<L671+y_1
 13084 06:2F4A: 82 C8 00     	brl	L10178
 13085                        L10177:
 13086                        ;		{
 13087                        	.line	1732
 13088                        ;			// loop through pixel columns
 13089                        ;			for (x = 0; x < FONTW; x++)
 13090                        	.line	1734
 13091 06:2F4D: 64 09        	stz	<L671+x_1
 13092 06:2F4F: 82 B2 00     	brl	L10182
 13093                        L10181:
 13094                        ;			{
 13095                        	.line	1735
 13096                        ;				// get the pixel value
 13097                        ;				char b = img[y * FONTW +
                     x];
 13098                        ;				if (b > 0)
 13099                        	.block	1738
 13100             0000000C   b_2	set	12
 13101                        	.sym	b,12,14,1,8
 13102 06:2F52: 22 36 86 06  	jsl	~~k_font_getFontWidth
 13103 06:2F56: 85 01        	sta	<R0
 13104 06:2F58: A5 01        	lda	<R0
 13105 06:2F5A: A6 0B        	ldx	<L671+y_1
 13106                        	xref	~~~mul
 13107 06:2F5C: 22 xx xx xx  	jsl	~~~mul
 13108 06:2F60: 85 01        	sta	<R0
 13109 06:2F62: 18           	clc
 13110 06:2F63: A5 01        	lda	<R0
 13111 06:2F65: 65 09        	adc	<L671+x_1
 13112 06:2F67: 85 05        	sta	<R1
 13113 06:2F69: E2 20        	sep	#$20
 13114                        	longa	off
 13115 06:2F6B: A4 05        	ldy	<R1
 13116 06:2F6D: B7 11        	lda	[<L671+img_1],Y
 13117 06:2F6F: 85 15        	sta	<L671+b_2
 13118 06:2F71: C2 20        	rep	#$20
 13119                        	longa	on
 13120                        	.line	1738
 13121                        ;				{ // plot the pixel
 13122 06:2F73: E2 20        	sep	#$20
 13123                        	longa	off
 13124 06:2F75: A9 00        	lda	#$0
 13125 06:2F77: C5 15        	cmp	<L671+b_2
 13126 06:2F79: C2 20        	rep	#$20
 13127                        	longa	on
 13128 06:2F7B: 90 03        	bcc	L676
  Mon Sep 27 2021  9:39                                                Page 243


 13129 06:2F7D: 82 82 00     	brl	L10183
 13130                        L676:
 13131                        	.line	1739
 13132                        ;					//k_draw_pixel_e
                    x(textX + x, textY + y, color,page);
 13133                        ;					switch(page)
 13134                        	.line	1741
 13135 06:2F80: A5 21        	lda	<L670+page_0
 13136 06:2F82: 82 6E 00     	brl	L10184
 13137                        ;					{
 13138                        	.line	1742
 13139                        ;					case BITMAP_BACK
                    :
 13140                        	.line	1743
 13141                        L10186:
 13142                        ;						k_draw_p
                    ixel_back(textX + x, textY + y,color);
 13143                        	.line	1744
 13144 06:2F85: D4 1F        	pei	<L670+color_0
 13145 06:2F87: 18           	clc
 13146 06:2F88: A5 0F        	lda	<L671+textY_1
 13147 06:2F8A: 65 0B        	adc	<L671+y_1
 13148 06:2F8C: 85 01        	sta	<R0
 13149 06:2F8E: A0 00 00     	ldy	#$0
 13150 06:2F91: A5 01        	lda	<R0
 13151 06:2F93: 10 01        	bpl	L677
 13152 06:2F95: 88           	dey
 13153                        L677:
 13154 06:2F96: 85 01        	sta	<R0
 13155 06:2F98: 84 03        	sty	<R0+2
 13156 06:2F9A: D4 03        	pei	<R0+2
 13157 06:2F9C: D4 01        	pei	<R0
 13158 06:2F9E: 18           	clc
 13159 06:2F9F: A5 0D        	lda	<L671+textX_1
 13160 06:2FA1: 65 09        	adc	<L671+x_1
 13161 06:2FA3: 85 05        	sta	<R1
 13162 06:2FA5: A0 00 00     	ldy	#$0
 13163 06:2FA8: A5 05        	lda	<R1
 13164 06:2FAA: 10 01        	bpl	L678
 13165 06:2FAC: 88           	dey
 13166                        L678:
 13167 06:2FAD: 85 05        	sta	<R1
 13168 06:2FAF: 84 07        	sty	<R1+2
 13169 06:2FB1: D4 07        	pei	<R1+2
 13170 06:2FB3: D4 05        	pei	<R1
 13171 06:2FB5: 22 5F 16 06  	jsl	~~k_draw_pixel_back
 13172                        ;						break;
 13173                        	.line	1745
 13174 06:2FB9: 82 43 00     	brl	L10185
 13175                        ;					default:
 13176                        	.line	1746
 13177                        L10187:
 13178                        ;						k_draw_p
                    ixel_front(textX + x, textY + y,color);
 13179                        	.line	1747
 13180 06:2FBC: D4 1F        	pei	<L670+color_0
 13181 06:2FBE: 18           	clc
 13182 06:2FBF: A5 0F        	lda	<L671+textY_1
  Mon Sep 27 2021  9:39                                                Page 244


 13183 06:2FC1: 65 0B        	adc	<L671+y_1
 13184 06:2FC3: 85 01        	sta	<R0
 13185 06:2FC5: A0 00 00     	ldy	#$0
 13186 06:2FC8: A5 01        	lda	<R0
 13187 06:2FCA: 10 01        	bpl	L679
 13188 06:2FCC: 88           	dey
 13189                        L679:
 13190 06:2FCD: 85 01        	sta	<R0
 13191 06:2FCF: 84 03        	sty	<R0+2
 13192 06:2FD1: D4 03        	pei	<R0+2
 13193 06:2FD3: D4 01        	pei	<R0
 13194 06:2FD5: 18           	clc
 13195 06:2FD6: A5 0D        	lda	<L671+textX_1
 13196 06:2FD8: 65 09        	adc	<L671+x_1
 13197 06:2FDA: 85 05        	sta	<R1
 13198 06:2FDC: A0 00 00     	ldy	#$0
 13199 06:2FDF: A5 05        	lda	<R1
 13200 06:2FE1: 10 01        	bpl	L680
 13201 06:2FE3: 88           	dey
 13202                        L680:
 13203 06:2FE4: 85 05        	sta	<R1
 13204 06:2FE6: 84 07        	sty	<R1+2
 13205 06:2FE8: D4 07        	pei	<R1+2
 13206 06:2FEA: D4 05        	pei	<R1
 13207 06:2FEC: 22 53 15 06  	jsl	~~k_draw_pixel_front
 13208                        ;					}
 13209                        	.line	1748
 13210 06:2FF0: 82 0C 00     	brl	L10185
 13211                        L10184:
 13212                        	xref	~~~swt
 13213 06:2FF3: 22 xx xx xx  	jsl	~~~swt
 13214 06:2FF7: 01 00        	dw	1
 13215 06:2FF9: 08 00        	dw	8
 13216 06:2FFB: 84 2F        	dw	L10186-1
 13217 06:2FFD: BB 2F        	dw	L10187-1
 13218                        L10185:
 13219                        ;				}
 13220                        	.line	1749
 13221                        ;				else
 13222 06:2FFF: 82 00 00     	brl	L10188
 13223                        L10183:
 13224                        ;				{
 13225                        	.line	1751
 13226                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 13227                        ;				}
 13228                        	.line	1753
 13229                        L10188:
 13230                        ;			} // end "for x"
 13231                        	.endblock	1754
 13232                        	.line	1754
 13233                        L10179:
 13234 06:3002: E6 09        	inc	<L671+x_1
 13235                        L10182:
 13236 06:3004: 22 36 86 06  	jsl	~~k_font_getFontWidth
 13237 06:3008: 85 01        	sta	<R0
 13238 06:300A: A5 09        	lda	<L671+x_1
 13239 06:300C: C5 01        	cmp	<R0
  Mon Sep 27 2021  9:39                                                Page 245


 13240 06:300E: B0 03        	bcs	L681
 13241 06:3010: 82 3F FF     	brl	L10181
 13242                        L681:
 13243                        L10180:
 13244                        ;		} // end "for y"
 13245                        	.line	1755
 13246                        L10175:
 13247 06:3013: E6 0B        	inc	<L671+y_1
 13248                        L10178:
 13249 06:3015: 22 21 86 06  	jsl	~~k_font_getFontHeight
 13250 06:3019: 85 01        	sta	<R0
 13251 06:301B: A5 0B        	lda	<L671+y_1
 13252 06:301D: C5 01        	cmp	<R0
 13253 06:301F: B0 03        	bcs	L682
 13254 06:3021: 82 29 FF     	brl	L10177
 13255                        L682:
 13256                        L10176:
 13257                        ;	}
 13258                        	.line	1756
 13259                        ;	return FONTW;
 13260                        L10174:
 13261                        	.line	1757
 13262 06:3024: 22 36 86 06  	jsl	~~k_font_getFontWidth
 13263                        L683:
 13264 06:3028: A8           	tay
 13265 06:3029: A5 17        	lda	<L670+2
 13266 06:302B: 85 21        	sta	<L670+2+10
 13267 06:302D: A5 16        	lda	<L670+1
 13268 06:302F: 85 20        	sta	<L670+1+10
 13269 06:3031: 2B           	pld
 13270 06:3032: 3B           	tsc
 13271 06:3033: 18           	clc
 13272 06:3034: 69 1F 00     	adc	#L670+10
 13273 06:3037: 1B           	tcs
 13274 06:3038: 98           	tya
 13275 06:3039: 6B           	rtl
 13276                        ;}
 13277                        	.line	1758
 13278                        	.endblock	1758
 13279             00000015   L670	equ	21
 13280             00000009   L671	equ	9
 13281 06:303A:              	ends
 13282                        	efunc
 13283                        	.endfunc	1758,9,21
 13284                        	.line	1758
 13285                        ;
 13286                        ;int k_put_winicon_point(char iconCode,int cx,int 
                    cy,int paletteId,int mode)
 13287                        ;{
 13288                        	.line	1760
 13289                        	.line	1761
 13290                        	GFX
 13291                        	xdef	~~k_put_winicon_point
 13292                        	func
 13293                        	.function	1761
 13294                        ~~k_put_winicon_point:
 13295                        	longa	on
 13296                        	longi	on
  Mon Sep 27 2021  9:39                                                Page 246


 13297 06:303A: 3B           	tsc
 13298 06:303B: 38           	sec
 13299 06:303C: E9 15 00     	sbc	#L684
 13300 06:303F: 1B           	tcs
 13301 06:3040: 0B           	phd
 13302 06:3041: 5B           	tcd
 13303             00000004   iconCode_0	set	4
 13304             00000006   cx_0	set	6
 13305             00000008   cy_0	set	8
 13306             0000000A   paletteId_0	set	10
 13307             0000000C   mode_0	set	12
 13308                        	.block	1761
 13309                        ;	int x = 0;
 13310                        ;	int y = 0;
 13311                        ;	int textX = cx;
 13312                        ;	int textY = cy;
 13313                        ;
 13314                        ;	char FAR* img = NULL;
 13315                        ;	
 13316                        ;    img = windowIconImg[(int)(iconCode & 0xFF)];
 13317             00000000   x_1	set	0
 13318             00000002   y_1	set	2
 13319             00000004   textX_1	set	4
 13320             00000006   textY_1	set	6
 13321             00000008   img_1	set	8
 13322                        	.sym	x,0,5,1,16
 13323                        	.sym	y,2,5,1,16
 13324                        	.sym	textX,4,5,1,16
 13325                        	.sym	textY,6,5,1,16
 13326                        	.sym	img,8,142,1,32
 13327                        	.sym	iconCode,4,14,6,8
 13328                        	.sym	cx,6,5,6,16
 13329                        	.sym	cy,8,5,6,16
 13330                        	.sym	paletteId,10,5,6,16
 13331                        	.sym	mode,12,5,6,16
 13332 06:3042: 64 09        	stz	<L685+x_1
 13333 06:3044: 64 0B        	stz	<L685+y_1
 13334 06:3046: A5 1B        	lda	<L684+cx_0
 13335 06:3048: 85 0D        	sta	<L685+textX_1
 13336 06:304A: A5 1D        	lda	<L684+cy_0
 13337 06:304C: 85 0F        	sta	<L685+textY_1
 13338 06:304E: 64 11        	stz	<L685+img_1
 13339 06:3050: 64 13        	stz	<L685+img_1+2
 13340                        	.line	1769
 13341 06:3052: A5 19        	lda	<L684+iconCode_0
 13342 06:3054: 29 FF 00     	and	#<$ff
 13343 06:3057: 85 05        	sta	<R1
 13344 06:3059: A0 00 00     	ldy	#$0
 13345 06:305C: A5 05        	lda	<R1
 13346 06:305E: 10 01        	bpl	L687
 13347 06:3060: 88           	dey
 13348                        L687:
 13349 06:3061: 85 05        	sta	<R1
 13350 06:3063: 84 07        	sty	<R1+2
 13351 06:3065: D4 07        	pei	<R1+2
 13352 06:3067: D4 05        	pei	<R1
 13353 06:3069: A9 08 00     	lda	#$8
 13354                        	xref	~~~lasl
  Mon Sep 27 2021  9:39                                                Page 247


 13355 06:306C: 22 xx xx xx  	jsl	~~~lasl
 13356 06:3070: 85 01        	sta	<R0
 13357 06:3072: 86 03        	stx	<R0+2
 13358 06:3074: 18           	clc
 13359 06:3075: A9 xx xx     	lda	#<~~windowIconImg
 13360 06:3078: 65 01        	adc	<R0
 13361 06:307A: 85 11        	sta	<L685+img_1
 13362 06:307C: A9 xx xx     	lda	#^~~windowIconImg
 13363 06:307F: 65 03        	adc	<R0+2
 13364 06:3081: 85 13        	sta	<L685+img_1+2
 13365                        ;	if(img!=NULL)
 13366                        	.line	1770
 13367                        ;	{
 13368 06:3083: A5 11        	lda	<L685+img_1
 13369 06:3085: 05 13        	ora	<L685+img_1+2
 13370 06:3087: D0 03        	bne	L688
 13371 06:3089: 82 BD 00     	brl	L10189
 13372                        L688:
 13373                        	.line	1771
 13374                        ;		for (y = 0; y < ICONH; y++) 
 13375                        	.line	1772
 13376 06:308C: 64 0B        	stz	<L685+y_1
 13377                        L10192:
 13378                        ;		{
 13379                        	.line	1773
 13380                        ;			for (x = 0; x < ICONW; x++) 
 13381                        	.line	1774
 13382 06:308E: 64 09        	stz	<L685+x_1
 13383                        L10195:
 13384                        ;			{
 13385                        	.line	1775
 13386                        ;				char b = img[y * ICONW +
                     x];
 13387                        ;				if (b > 0) 
 13388                        	.block	1777
 13389             0000000C   b_2	set	12
 13390                        	.sym	b,12,14,1,8
 13391 06:3090: A5 0B        	lda	<L685+y_1
 13392 06:3092: 0A           	asl	A
 13393 06:3093: 0A           	asl	A
 13394 06:3094: 0A           	asl	A
 13395 06:3095: 0A           	asl	A
 13396 06:3096: 85 01        	sta	<R0
 13397 06:3098: 18           	clc
 13398 06:3099: A5 01        	lda	<R0
 13399 06:309B: 65 09        	adc	<L685+x_1
 13400 06:309D: 85 05        	sta	<R1
 13401 06:309F: E2 20        	sep	#$20
 13402                        	longa	off
 13403 06:30A1: A4 05        	ldy	<R1
 13404 06:30A3: B7 11        	lda	[<L685+img_1],Y
 13405 06:30A5: 85 15        	sta	<L685+b_2
 13406 06:30A7: C2 20        	rep	#$20
 13407                        	longa	on
 13408                        	.line	1777
 13409                        ;				{
 13410 06:30A9: E2 20        	sep	#$20
 13411                        	longa	off
  Mon Sep 27 2021  9:39                                                Page 248


 13412 06:30AB: A9 00        	lda	#$0
 13413 06:30AD: C5 15        	cmp	<L685+b_2
 13414 06:30AF: C2 20        	rep	#$20
 13415                        	longa	on
 13416 06:30B1: 90 03        	bcc	L690
 13417 06:30B3: 82 68 00     	brl	L10196
 13418                        L690:
 13419                        	.line	1778
 13420                        ;					if(mode == PAINT
                    MODE_BACKGROUND)
 13421                        	.line	1779
 13422                        ;						b = pale
                    tteId;
 13423 06:30B6: A5 21        	lda	<L684+mode_0
 13424 06:30B8: C9 F0 00     	cmp	#<$f0
 13425 06:30BB: F0 03        	beq	L691
 13426 06:30BD: 82 08 00     	brl	L10197
 13427                        L691:
 13428                        	.line	1780
 13429 06:30C0: E2 20        	sep	#$20
 13430                        	longa	off
 13431 06:30C2: A5 1F        	lda	<L684+paletteId_0
 13432 06:30C4: 85 15        	sta	<L685+b_2
 13433 06:30C6: C2 20        	rep	#$20
 13434                        	longa	on
 13435                        ;
 13436                        ;					if(mode == PAINT
                    MODE_HIGHLIGHT && b == 15)
 13437                        L10197:
 13438                        	.line	1782
 13439                        ;						b = pale
                    tteId;
 13440 06:30C8: A5 21        	lda	<L684+mode_0
 13441 06:30CA: C9 F1 00     	cmp	#<$f1
 13442 06:30CD: F0 03        	beq	L692
 13443 06:30CF: 82 15 00     	brl	L10198
 13444                        L692:
 13445 06:30D2: E2 20        	sep	#$20
 13446                        	longa	off
 13447 06:30D4: A5 15        	lda	<L685+b_2
 13448 06:30D6: C9 0F        	cmp	#<$f
 13449 06:30D8: C2 20        	rep	#$20
 13450                        	longa	on
 13451 06:30DA: F0 03        	beq	L693
 13452 06:30DC: 82 08 00     	brl	L10198
 13453                        L693:
 13454                        	.line	1783
 13455 06:30DF: E2 20        	sep	#$20
 13456                        	longa	off
 13457 06:30E1: A5 1F        	lda	<L684+paletteId_0
 13458 06:30E3: 85 15        	sta	<L685+b_2
 13459 06:30E5: C2 20        	rep	#$20
 13460                        	longa	on
 13461                        ;
 13462                        ;					k_draw_pixel(tex
                    tX + x, textY + y, b);
 13463                        L10198:
 13464                        	.line	1785
  Mon Sep 27 2021  9:39                                                Page 249


 13465 06:30E7: D4 15        	pei	<L685+b_2
 13466 06:30E9: 18           	clc
 13467 06:30EA: A5 0F        	lda	<L685+textY_1
 13468 06:30EC: 65 0B        	adc	<L685+y_1
 13469 06:30EE: 85 01        	sta	<R0
 13470 06:30F0: A0 00 00     	ldy	#$0
 13471 06:30F3: A5 01        	lda	<R0
 13472 06:30F5: 10 01        	bpl	L694
 13473 06:30F7: 88           	dey
 13474                        L694:
 13475 06:30F8: 85 01        	sta	<R0
 13476 06:30FA: 84 03        	sty	<R0+2
 13477 06:30FC: D4 03        	pei	<R0+2
 13478 06:30FE: D4 01        	pei	<R0
 13479 06:3100: 18           	clc
 13480 06:3101: A5 0D        	lda	<L685+textX_1
 13481 06:3103: 65 09        	adc	<L685+x_1
 13482 06:3105: 85 05        	sta	<R1
 13483 06:3107: A0 00 00     	ldy	#$0
 13484 06:310A: A5 05        	lda	<R1
 13485 06:310C: 10 01        	bpl	L695
 13486 06:310E: 88           	dey
 13487                        L695:
 13488 06:310F: 85 05        	sta	<R1
 13489 06:3111: 84 07        	sty	<R1+2
 13490 06:3113: D4 07        	pei	<R1+2
 13491 06:3115: D4 05        	pei	<R1
 13492 06:3117: 22 CD 14 06  	jsl	~~k_draw_pixel
 13493                        ;				}
 13494                        	.line	1786
 13495                        ;				else 
 13496 06:311B: 82 07 00     	brl	L10199
 13497                        L10196:
 13498                        ;				{ 
 13499                        	.line	1788
 13500                        ;					if(mode!=PAINTMO
                    DE_DEFAULT)
 13501                        	.line	1789
 13502                        ;					{
 13503 06:311E: A5 21        	lda	<L684+mode_0
 13504 06:3120: D0 03        	bne	L696
 13505 06:3122: 82 00 00     	brl	L10200
 13506                        L696:
 13507                        	.line	1790
 13508                        ;					
 13509                        ;					}
 13510                        	.line	1792
 13511                        ;				}
 13512                        L10200:
 13513                        	.line	1793
 13514                        L10199:
 13515                        ;			}
 13516                        	.endblock	1794
 13517                        	.line	1794
 13518                        L10193:
 13519 06:3125: E6 09        	inc	<L685+x_1
 13520 06:3127: 38           	sec
 13521 06:3128: A5 09        	lda	<L685+x_1
  Mon Sep 27 2021  9:39                                                Page 250


 13522 06:312A: E9 10 00     	sbc	#<$10
 13523 06:312D: 70 03        	bvs	L697
 13524 06:312F: 49 00 80     	eor	#$8000
 13525                        L697:
 13526 06:3132: 30 03        	bmi	L698
 13527 06:3134: 82 59 FF     	brl	L10195
 13528                        L698:
 13529                        L10194:
 13530                        ;		}
 13531                        	.line	1795
 13532                        L10190:
 13533 06:3137: E6 0B        	inc	<L685+y_1
 13534 06:3139: 38           	sec
 13535 06:313A: A5 0B        	lda	<L685+y_1
 13536 06:313C: E9 10 00     	sbc	#<$10
 13537 06:313F: 70 03        	bvs	L699
 13538 06:3141: 49 00 80     	eor	#$8000
 13539                        L699:
 13540 06:3144: 30 03        	bmi	L700
 13541 06:3146: 82 45 FF     	brl	L10192
 13542                        L700:
 13543                        L10191:
 13544                        ;	}
 13545                        	.line	1796
 13546                        ;	return FONTW;
 13547                        L10189:
 13548                        	.line	1797
 13549 06:3149: 22 36 86 06  	jsl	~~k_font_getFontWidth
 13550                        L701:
 13551 06:314D: A8           	tay
 13552 06:314E: A5 17        	lda	<L684+2
 13553 06:3150: 85 21        	sta	<L684+2+10
 13554 06:3152: A5 16        	lda	<L684+1
 13555 06:3154: 85 20        	sta	<L684+1+10
 13556 06:3156: 2B           	pld
 13557 06:3157: 3B           	tsc
 13558 06:3158: 18           	clc
 13559 06:3159: 69 1F 00     	adc	#L684+10
 13560 06:315C: 1B           	tcs
 13561 06:315D: 98           	tya
 13562 06:315E: 6B           	rtl
 13563                        ;}
 13564                        	.line	1798
 13565                        	.endblock	1798
 13566             00000015   L684	equ	21
 13567             00000009   L685	equ	9
 13568 06:315F:              	ends
 13569                        	efunc
 13570                        	.endfunc	1798,9,21
 13571                        	.line	1798
 13572                        ;
 13573                        ;int k_put_winicon_point_ex(char iconCode,int cx,i
                    nt cy,int paletteId,int mode,UINT page)
 13574                        ;{
 13575                        	.line	1800
 13576                        	.line	1801
 13577                        	GFX
 13578                        	xdef	~~k_put_winicon_point_ex
  Mon Sep 27 2021  9:39                                                Page 251


 13579                        	func
 13580                        	.function	1801
 13581                        ~~k_put_winicon_point_ex:
 13582                        	longa	on
 13583                        	longi	on
 13584 06:315F: 3B           	tsc
 13585 06:3160: 38           	sec
 13586 06:3161: E9 15 00     	sbc	#L702
 13587 06:3164: 1B           	tcs
 13588 06:3165: 0B           	phd
 13589 06:3166: 5B           	tcd
 13590             00000004   iconCode_0	set	4
 13591             00000006   cx_0	set	6
 13592             00000008   cy_0	set	8
 13593             0000000A   paletteId_0	set	10
 13594             0000000C   mode_0	set	12
 13595             0000000E   page_0	set	14
 13596                        	.block	1801
 13597                        ;	int x = 0;
 13598                        ;	int y = 0;
 13599                        ;	int textX = cx;
 13600                        ;	int textY = cy;
 13601                        ;
 13602                        ;	char FAR* img = NULL;
 13603                        ;
 13604                        ;    img = windowIconImg[(int)(iconCode & 0xFF)];
 13605             00000000   x_1	set	0
 13606             00000002   y_1	set	2
 13607             00000004   textX_1	set	4
 13608             00000006   textY_1	set	6
 13609             00000008   img_1	set	8
 13610                        	.sym	x,0,5,1,16
 13611                        	.sym	y,2,5,1,16
 13612                        	.sym	textX,4,5,1,16
 13613                        	.sym	textY,6,5,1,16
 13614                        	.sym	img,8,142,1,32
 13615                        	.sym	iconCode,4,14,6,8
 13616                        	.sym	cx,6,5,6,16
 13617                        	.sym	cy,8,5,6,16
 13618                        	.sym	paletteId,10,5,6,16
 13619                        	.sym	mode,12,5,6,16
 13620                        	.sym	page,14,16,6,16
 13621 06:3167: 64 09        	stz	<L703+x_1
 13622 06:3169: 64 0B        	stz	<L703+y_1
 13623 06:316B: A5 1B        	lda	<L702+cx_0
 13624 06:316D: 85 0D        	sta	<L703+textX_1
 13625 06:316F: A5 1D        	lda	<L702+cy_0
 13626 06:3171: 85 0F        	sta	<L703+textY_1
 13627 06:3173: 64 11        	stz	<L703+img_1
 13628 06:3175: 64 13        	stz	<L703+img_1+2
 13629                        	.line	1809
 13630 06:3177: A5 19        	lda	<L702+iconCode_0
 13631 06:3179: 29 FF 00     	and	#<$ff
 13632 06:317C: 85 05        	sta	<R1
 13633 06:317E: A0 00 00     	ldy	#$0
 13634 06:3181: A5 05        	lda	<R1
 13635 06:3183: 10 01        	bpl	L705
 13636 06:3185: 88           	dey
  Mon Sep 27 2021  9:39                                                Page 252


 13637                        L705:
 13638 06:3186: 85 05        	sta	<R1
 13639 06:3188: 84 07        	sty	<R1+2
 13640 06:318A: D4 07        	pei	<R1+2
 13641 06:318C: D4 05        	pei	<R1
 13642 06:318E: A9 08 00     	lda	#$8
 13643                        	xref	~~~lasl
 13644 06:3191: 22 xx xx xx  	jsl	~~~lasl
 13645 06:3195: 85 01        	sta	<R0
 13646 06:3197: 86 03        	stx	<R0+2
 13647 06:3199: 18           	clc
 13648 06:319A: A9 xx xx     	lda	#<~~windowIconImg
 13649 06:319D: 65 01        	adc	<R0
 13650 06:319F: 85 11        	sta	<L703+img_1
 13651 06:31A1: A9 xx xx     	lda	#^~~windowIconImg
 13652 06:31A4: 65 03        	adc	<R0+2
 13653 06:31A6: 85 13        	sta	<L703+img_1+2
 13654                        ;	if(img!=NULL)
 13655                        	.line	1810
 13656                        ;	{
 13657 06:31A8: A5 11        	lda	<L703+img_1
 13658 06:31AA: 05 13        	ora	<L703+img_1+2
 13659 06:31AC: D0 03        	bne	L706
 13660 06:31AE: 82 BF 00     	brl	L10201
 13661                        L706:
 13662                        	.line	1811
 13663                        ;		for (y = 0; y < ICONH; y++)
 13664                        	.line	1812
 13665 06:31B1: 64 0B        	stz	<L703+y_1
 13666                        L10204:
 13667                        ;		{
 13668                        	.line	1813
 13669                        ;			for (x = 0; x < ICONW; x++)
 13670                        	.line	1814
 13671 06:31B3: 64 09        	stz	<L703+x_1
 13672                        L10207:
 13673                        ;			{
 13674                        	.line	1815
 13675                        ;				char b = img[y * ICONW +
                     x];
 13676                        ;				if (b > 0)
 13677                        	.block	1817
 13678             0000000C   b_2	set	12
 13679                        	.sym	b,12,14,1,8
 13680 06:31B5: A5 0B        	lda	<L703+y_1
 13681 06:31B7: 0A           	asl	A
 13682 06:31B8: 0A           	asl	A
 13683 06:31B9: 0A           	asl	A
 13684 06:31BA: 0A           	asl	A
 13685 06:31BB: 85 01        	sta	<R0
 13686 06:31BD: 18           	clc
 13687 06:31BE: A5 01        	lda	<R0
 13688 06:31C0: 65 09        	adc	<L703+x_1
 13689 06:31C2: 85 05        	sta	<R1
 13690 06:31C4: E2 20        	sep	#$20
 13691                        	longa	off
 13692 06:31C6: A4 05        	ldy	<R1
 13693 06:31C8: B7 11        	lda	[<L703+img_1],Y
  Mon Sep 27 2021  9:39                                                Page 253


 13694 06:31CA: 85 15        	sta	<L703+b_2
 13695 06:31CC: C2 20        	rep	#$20
 13696                        	longa	on
 13697                        	.line	1817
 13698                        ;				{
 13699 06:31CE: E2 20        	sep	#$20
 13700                        	longa	off
 13701 06:31D0: A9 00        	lda	#$0
 13702 06:31D2: C5 15        	cmp	<L703+b_2
 13703 06:31D4: C2 20        	rep	#$20
 13704                        	longa	on
 13705 06:31D6: 90 03        	bcc	L708
 13706 06:31D8: 82 6A 00     	brl	L10208
 13707                        L708:
 13708                        	.line	1818
 13709                        ;					if(mode == PAINT
                    MODE_BACKGROUND)
 13710                        	.line	1819
 13711                        ;						b = pale
                    tteId;
 13712 06:31DB: A5 21        	lda	<L702+mode_0
 13713 06:31DD: C9 F0 00     	cmp	#<$f0
 13714 06:31E0: F0 03        	beq	L709
 13715 06:31E2: 82 08 00     	brl	L10209
 13716                        L709:
 13717                        	.line	1820
 13718 06:31E5: E2 20        	sep	#$20
 13719                        	longa	off
 13720 06:31E7: A5 1F        	lda	<L702+paletteId_0
 13721 06:31E9: 85 15        	sta	<L703+b_2
 13722 06:31EB: C2 20        	rep	#$20
 13723                        	longa	on
 13724                        ;
 13725                        ;					if(mode == PAINT
                    MODE_HIGHLIGHT && b == 15)
 13726                        L10209:
 13727                        	.line	1822
 13728                        ;						b = pale
                    tteId;
 13729 06:31ED: A5 21        	lda	<L702+mode_0
 13730 06:31EF: C9 F1 00     	cmp	#<$f1
 13731 06:31F2: F0 03        	beq	L710
 13732 06:31F4: 82 15 00     	brl	L10210
 13733                        L710:
 13734 06:31F7: E2 20        	sep	#$20
 13735                        	longa	off
 13736 06:31F9: A5 15        	lda	<L703+b_2
 13737 06:31FB: C9 0F        	cmp	#<$f
 13738 06:31FD: C2 20        	rep	#$20
 13739                        	longa	on
 13740 06:31FF: F0 03        	beq	L711
 13741 06:3201: 82 08 00     	brl	L10210
 13742                        L711:
 13743                        	.line	1823
 13744 06:3204: E2 20        	sep	#$20
 13745                        	longa	off
 13746 06:3206: A5 1F        	lda	<L702+paletteId_0
 13747 06:3208: 85 15        	sta	<L703+b_2
  Mon Sep 27 2021  9:39                                                Page 254


 13748 06:320A: C2 20        	rep	#$20
 13749                        	longa	on
 13750                        ;
 13751                        ;					k_draw_pixel_ex(
                    textX + x, textY + y, b, page);
 13752                        L10210:
 13753                        	.line	1825
 13754 06:320C: D4 23        	pei	<L702+page_0
 13755 06:320E: D4 15        	pei	<L703+b_2
 13756 06:3210: 18           	clc
 13757 06:3211: A5 0F        	lda	<L703+textY_1
 13758 06:3213: 65 0B        	adc	<L703+y_1
 13759 06:3215: 85 01        	sta	<R0
 13760 06:3217: A0 00 00     	ldy	#$0
 13761 06:321A: A5 01        	lda	<R0
 13762 06:321C: 10 01        	bpl	L712
 13763 06:321E: 88           	dey
 13764                        L712:
 13765 06:321F: 85 01        	sta	<R0
 13766 06:3221: 84 03        	sty	<R0+2
 13767 06:3223: D4 03        	pei	<R0+2
 13768 06:3225: D4 01        	pei	<R0
 13769 06:3227: 18           	clc
 13770 06:3228: A5 0D        	lda	<L703+textX_1
 13771 06:322A: 65 09        	adc	<L703+x_1
 13772 06:322C: 85 05        	sta	<R1
 13773 06:322E: A0 00 00     	ldy	#$0
 13774 06:3231: A5 05        	lda	<R1
 13775 06:3233: 10 01        	bpl	L713
 13776 06:3235: 88           	dey
 13777                        L713:
 13778 06:3236: 85 05        	sta	<R1
 13779 06:3238: 84 07        	sty	<R1+2
 13780 06:323A: D4 07        	pei	<R1+2
 13781 06:323C: D4 05        	pei	<R1
 13782 06:323E: 22 B9 17 06  	jsl	~~k_draw_pixel_ex
 13783                        ;
 13784                        ;
 13785                        ;				}
 13786                        	.line	1828
 13787                        ;				else
 13788 06:3242: 82 07 00     	brl	L10211
 13789                        L10208:
 13790                        ;				{
 13791                        	.line	1830
 13792                        ;					if(mode!=PAINTMO
                    DE_DEFAULT)
 13793                        	.line	1831
 13794                        ;					{
 13795 06:3245: A5 21        	lda	<L702+mode_0
 13796 06:3247: D0 03        	bne	L714
 13797 06:3249: 82 00 00     	brl	L10212
 13798                        L714:
 13799                        	.line	1832
 13800                        ;
 13801                        ;					}
 13802                        	.line	1834
 13803                        ;				}
  Mon Sep 27 2021  9:39                                                Page 255


 13804                        L10212:
 13805                        	.line	1835
 13806                        L10211:
 13807                        ;			}
 13808                        	.endblock	1836
 13809                        	.line	1836
 13810                        L10205:
 13811 06:324C: E6 09        	inc	<L703+x_1
 13812 06:324E: 38           	sec
 13813 06:324F: A5 09        	lda	<L703+x_1
 13814 06:3251: E9 10 00     	sbc	#<$10
 13815 06:3254: 70 03        	bvs	L715
 13816 06:3256: 49 00 80     	eor	#$8000
 13817                        L715:
 13818 06:3259: 30 03        	bmi	L716
 13819 06:325B: 82 57 FF     	brl	L10207
 13820                        L716:
 13821                        L10206:
 13822                        ;		}
 13823                        	.line	1837
 13824                        L10202:
 13825 06:325E: E6 0B        	inc	<L703+y_1
 13826 06:3260: 38           	sec
 13827 06:3261: A5 0B        	lda	<L703+y_1
 13828 06:3263: E9 10 00     	sbc	#<$10
 13829 06:3266: 70 03        	bvs	L717
 13830 06:3268: 49 00 80     	eor	#$8000
 13831                        L717:
 13832 06:326B: 30 03        	bmi	L718
 13833 06:326D: 82 43 FF     	brl	L10204
 13834                        L718:
 13835                        L10203:
 13836                        ;	}
 13837                        	.line	1838
 13838                        ;	return FONTW;
 13839                        L10201:
 13840                        	.line	1839
 13841 06:3270: 22 36 86 06  	jsl	~~k_font_getFontWidth
 13842                        L719:
 13843 06:3274: A8           	tay
 13844 06:3275: A5 17        	lda	<L702+2
 13845 06:3277: 85 23        	sta	<L702+2+12
 13846 06:3279: A5 16        	lda	<L702+1
 13847 06:327B: 85 22        	sta	<L702+1+12
 13848 06:327D: 2B           	pld
 13849 06:327E: 3B           	tsc
 13850 06:327F: 18           	clc
 13851 06:3280: 69 21 00     	adc	#L702+12
 13852 06:3283: 1B           	tcs
 13853 06:3284: 98           	tya
 13854 06:3285: 6B           	rtl
 13855                        ;}
 13856                        	.line	1840
 13857                        	.endblock	1840
 13858             00000015   L702	equ	21
 13859             00000009   L703	equ	9
 13860 06:3286:              	ends
 13861                        	efunc
  Mon Sep 27 2021  9:39                                                Page 256


 13862                        	.endfunc	1840,9,21
 13863                        	.line	1840
 13864                        ;
 13865                        ;
 13866                        ;
 13867                        ;/*
 13868                        ; 		//PFXNODE k_point_in_nodes(int x
                    ,int y);
 13869                        ;		//void k_add_window_hit_node(PCLICKDETEC
                    TED pcd);
 13870                        ;
 13871                        ;		PWINDOW k_create_ui_window_class(cx,cy,I
                    CONW,ICONH,LPCHAR title,LPCHAR className,int color, int bgco
                    lor);
 13872                        ;
 13873                        ;		k_add_window_hit_node();
 13874                        ;
 13875                        ;
 13876                        ; */
 13877                        ;
 13878                        ;
 13879                        ;void k_put_winicon_scaled(char iconCode,int cx,in
                    t cy,char paletteId,int mode,int scale)
 13880                        ;{
 13881                        	.line	1856
 13882                        	.line	1857
 13883                        	GFX
 13884                        	xdef	~~k_put_winicon_scaled
 13885                        	func
 13886                        	.function	1857
 13887                        ~~k_put_winicon_scaled:
 13888                        	longa	on
 13889                        	longi	on
 13890 06:3286: 3B           	tsc
 13891 06:3287: 38           	sec
 13892 06:3288: E9 25 00     	sbc	#L720
 13893 06:328B: 1B           	tcs
 13894 06:328C: 0B           	phd
 13895 06:328D: 5B           	tcd
 13896             00000004   iconCode_0	set	4
 13897             00000006   cx_0	set	6
 13898             00000008   cy_0	set	8
 13899             0000000A   paletteId_0	set	10
 13900             0000000C   mode_0	set	12
 13901             0000000E   scale_0	set	14
 13902                        	.block	1857
 13903                        ;	int x = 0;
 13904                        ;	int y = 0;
 13905                        ;
 13906                        ;	int height = ICONH * scale;
 13907                        ;	int width  = ICONW * scale;
 13908                        ;	
 13909                        ;	int textX = cx ;
 13910                        ;	int textY = cy ;
 13911                        ;
 13912                        ;	int px   = 0;
 13913                        ;	int py   = 0;
 13914                        ;	int offx = 0;
  Mon Sep 27 2021  9:39                                                Page 257


 13915                        ;	int offy = 0;
 13916                        ;	int sx   = 0;
 13917                        ;	int sy   = 0;
 13918                        ;
 13919                        ;	char b   = 0;
 13920                        ;
 13921                        ;	char FAR* img = NULL;
 13922                        ;
 13923                        ;	img = windowIconImg[(int)(iconCode & 0xFF)];	
                    //printf("putFont:%d\n",characterROMMapping[outChar]);
 13924             00000000   x_1	set	0
 13925             00000002   y_1	set	2
 13926             00000004   height_1	set	4
 13927             00000006   width_1	set	6
 13928             00000008   textX_1	set	8
 13929             0000000A   textY_1	set	10
 13930             0000000C   px_1	set	12
 13931             0000000E   py_1	set	14
 13932             00000010   offx_1	set	16
 13933             00000012   offy_1	set	18
 13934             00000014   sx_1	set	20
 13935             00000016   sy_1	set	22
 13936             00000018   b_1	set	24
 13937             00000019   img_1	set	25
 13938                        	.sym	x,0,5,1,16
 13939                        	.sym	y,2,5,1,16
 13940                        	.sym	height,4,5,1,16
 13941                        	.sym	width,6,5,1,16
 13942                        	.sym	textX,8,5,1,16
 13943                        	.sym	textY,10,5,1,16
 13944                        	.sym	px,12,5,1,16
 13945                        	.sym	py,14,5,1,16
 13946                        	.sym	offx,16,5,1,16
 13947                        	.sym	offy,18,5,1,16
 13948                        	.sym	sx,20,5,1,16
 13949                        	.sym	sy,22,5,1,16
 13950                        	.sym	b,24,14,1,8
 13951                        	.sym	img,25,142,1,32
 13952                        	.sym	iconCode,4,14,6,8
 13953                        	.sym	cx,6,5,6,16
 13954                        	.sym	cy,8,5,6,16
 13955                        	.sym	paletteId,10,14,6,8
 13956                        	.sym	mode,12,5,6,16
 13957                        	.sym	scale,14,5,6,16
 13958 06:328E: 64 09        	stz	<L721+x_1
 13959 06:3290: 64 0B        	stz	<L721+y_1
 13960 06:3292: A5 33        	lda	<L720+scale_0
 13961 06:3294: 0A           	asl	A
 13962 06:3295: 0A           	asl	A
 13963 06:3296: 0A           	asl	A
 13964 06:3297: 0A           	asl	A
 13965 06:3298: 85 0D        	sta	<L721+height_1
 13966 06:329A: A5 33        	lda	<L720+scale_0
 13967 06:329C: 0A           	asl	A
 13968 06:329D: 0A           	asl	A
 13969 06:329E: 0A           	asl	A
 13970 06:329F: 0A           	asl	A
 13971 06:32A0: 85 0F        	sta	<L721+width_1
  Mon Sep 27 2021  9:39                                                Page 258


 13972 06:32A2: A5 2B        	lda	<L720+cx_0
 13973 06:32A4: 85 11        	sta	<L721+textX_1
 13974 06:32A6: A5 2D        	lda	<L720+cy_0
 13975 06:32A8: 85 13        	sta	<L721+textY_1
 13976 06:32AA: 64 15        	stz	<L721+px_1
 13977 06:32AC: 64 17        	stz	<L721+py_1
 13978 06:32AE: 64 19        	stz	<L721+offx_1
 13979 06:32B0: 64 1B        	stz	<L721+offy_1
 13980 06:32B2: 64 1D        	stz	<L721+sx_1
 13981 06:32B4: 64 1F        	stz	<L721+sy_1
 13982 06:32B6: E2 20        	sep	#$20
 13983                        	longa	off
 13984 06:32B8: 64 21        	stz	<L721+b_1
 13985 06:32BA: C2 20        	rep	#$20
 13986                        	longa	on
 13987 06:32BC: 64 22        	stz	<L721+img_1
 13988 06:32BE: 64 24        	stz	<L721+img_1+2
 13989                        	.line	1878
 13990 06:32C0: A5 29        	lda	<L720+iconCode_0
 13991 06:32C2: 29 FF 00     	and	#<$ff
 13992 06:32C5: 85 05        	sta	<R1
 13993 06:32C7: A0 00 00     	ldy	#$0
 13994 06:32CA: A5 05        	lda	<R1
 13995 06:32CC: 10 01        	bpl	L723
 13996 06:32CE: 88           	dey
 13997                        L723:
 13998 06:32CF: 85 05        	sta	<R1
 13999 06:32D1: 84 07        	sty	<R1+2
 14000 06:32D3: D4 07        	pei	<R1+2
 14001 06:32D5: D4 05        	pei	<R1
 14002 06:32D7: A9 08 00     	lda	#$8
 14003                        	xref	~~~lasl
 14004 06:32DA: 22 xx xx xx  	jsl	~~~lasl
 14005 06:32DE: 85 01        	sta	<R0
 14006 06:32E0: 86 03        	stx	<R0+2
 14007 06:32E2: 18           	clc
 14008 06:32E3: A9 xx xx     	lda	#<~~windowIconImg
 14009 06:32E6: 65 01        	adc	<R0
 14010 06:32E8: 85 22        	sta	<L721+img_1
 14011 06:32EA: A9 xx xx     	lda	#^~~windowIconImg
 14012 06:32ED: 65 03        	adc	<R0+2
 14013 06:32EF: 85 24        	sta	<L721+img_1+2
 14014                        ;	if(img!=NULL)
 14015                        	.line	1879
 14016                        ;	{
 14017 06:32F1: A5 22        	lda	<L721+img_1
 14018 06:32F3: 05 24        	ora	<L721+img_1+2
 14019 06:32F5: D0 03        	bne	L724
 14020 06:32F7: 82 E2 00     	brl	L10213
 14021                        L724:
 14022                        	.line	1880
 14023                        ;		py = 0;
 14024                        	.line	1881
 14025 06:32FA: 64 17        	stz	<L721+py_1
 14026                        ;		for (y = 0; y < height; y+=scale) 
 14027                        	.line	1882
 14028 06:32FC: 64 0B        	stz	<L721+y_1
 14029 06:32FE: 82 CC 00     	brl	L10217
  Mon Sep 27 2021  9:39                                                Page 259


 14030                        L10216:
 14031                        ;		{
 14032                        	.line	1883
 14033                        ;			offy = y;
 14034                        	.line	1884
 14035 06:3301: A5 0B        	lda	<L721+y_1
 14036 06:3303: 85 1B        	sta	<L721+offy_1
 14037                        ;			px   = 0;
 14038                        	.line	1885
 14039 06:3305: 64 15        	stz	<L721+px_1
 14040                        ;			for (x = 0; x < width; x+=scale)
                     
 14041                        	.line	1886
 14042 06:3307: 64 09        	stz	<L721+x_1
 14043 06:3309: 82 A9 00     	brl	L10221
 14044                        L10220:
 14045                        ;			{
 14046                        	.line	1887
 14047                        ;				// get the pixel value
 14048                        ;				offx = x;
 14049                        	.line	1889
 14050 06:330C: A5 09        	lda	<L721+x_1
 14051 06:330E: 85 19        	sta	<L721+offx_1
 14052                        ;				b = img[py * ICONW + px]
                    ;
 14053                        	.line	1890
 14054 06:3310: A5 17        	lda	<L721+py_1
 14055 06:3312: 0A           	asl	A
 14056 06:3313: 0A           	asl	A
 14057 06:3314: 0A           	asl	A
 14058 06:3315: 0A           	asl	A
 14059 06:3316: 85 01        	sta	<R0
 14060 06:3318: 18           	clc
 14061 06:3319: A5 01        	lda	<R0
 14062 06:331B: 65 15        	adc	<L721+px_1
 14063 06:331D: 85 05        	sta	<R1
 14064 06:331F: E2 20        	sep	#$20
 14065                        	longa	off
 14066 06:3321: A4 05        	ldy	<R1
 14067 06:3323: B7 22        	lda	[<L721+img_1],Y
 14068 06:3325: 85 21        	sta	<L721+b_1
 14069 06:3327: C2 20        	rep	#$20
 14070                        	longa	on
 14071                        ;				if (b > -1) 
 14072                        	.line	1891
 14073                        ;				{ // plot the pixel	
                    				
 14074 06:3329: A5 21        	lda	<L721+b_1
 14075 06:332B: 29 FF 00     	and	#$ff
 14076 06:332E: 85 01        	sta	<R0
 14077 06:3330: 38           	sec
 14078 06:3331: A9 FF FF     	lda	#$ffff
 14079 06:3334: E5 01        	sbc	<R0
 14080 06:3336: 70 03        	bvs	L725
 14081 06:3338: 49 00 80     	eor	#$8000
 14082                        L725:
 14083 06:333B: 10 03        	bpl	L726
 14084 06:333D: 82 6C 00     	brl	L10222
  Mon Sep 27 2021  9:39                                                Page 260


 14085                        L726:
 14086                        	.line	1892
 14087                        ;					offy = y;
 14088                        	.line	1893
 14089 06:3340: A5 0B        	lda	<L721+y_1
 14090 06:3342: 85 1B        	sta	<L721+offy_1
 14091                        ;					for(sy=0;sy<scal
                    e;sy++)
 14092                        	.line	1894
 14093 06:3344: 64 1F        	stz	<L721+sy_1
 14094 06:3346: 82 54 00     	brl	L10226
 14095                        L10225:
 14096                        ;					{
 14097                        	.line	1895
 14098                        ;						offx = x
                    ;
 14099                        	.line	1896
 14100 06:3349: A5 09        	lda	<L721+x_1
 14101 06:334B: 85 19        	sta	<L721+offx_1
 14102                        ;						for(sx=0
                    ;sx<scale;sx++)
 14103                        	.line	1897
 14104 06:334D: 64 1D        	stz	<L721+sx_1
 14105 06:334F: 82 38 00     	brl	L10230
 14106                        L10229:
 14107                        ;						{
 14108                        	.line	1898
 14109                        ;							
                    k_draw_pixel(textX + offx, textY + offy, b);
 14110                        	.line	1899
 14111 06:3352: D4 21        	pei	<L721+b_1
 14112 06:3354: 18           	clc
 14113 06:3355: A5 13        	lda	<L721+textY_1
 14114 06:3357: 65 1B        	adc	<L721+offy_1
 14115 06:3359: 85 01        	sta	<R0
 14116 06:335B: A0 00 00     	ldy	#$0
 14117 06:335E: A5 01        	lda	<R0
 14118 06:3360: 10 01        	bpl	L727
 14119 06:3362: 88           	dey
 14120                        L727:
 14121 06:3363: 85 01        	sta	<R0
 14122 06:3365: 84 03        	sty	<R0+2
 14123 06:3367: D4 03        	pei	<R0+2
 14124 06:3369: D4 01        	pei	<R0
 14125 06:336B: 18           	clc
 14126 06:336C: A5 11        	lda	<L721+textX_1
 14127 06:336E: 65 19        	adc	<L721+offx_1
 14128 06:3370: 85 05        	sta	<R1
 14129 06:3372: A0 00 00     	ldy	#$0
 14130 06:3375: A5 05        	lda	<R1
 14131 06:3377: 10 01        	bpl	L728
 14132 06:3379: 88           	dey
 14133                        L728:
 14134 06:337A: 85 05        	sta	<R1
 14135 06:337C: 84 07        	sty	<R1+2
 14136 06:337E: D4 07        	pei	<R1+2
 14137 06:3380: D4 05        	pei	<R1
 14138 06:3382: 22 CD 14 06  	jsl	~~k_draw_pixel
  Mon Sep 27 2021  9:39                                                Page 261


 14139                        ;							
                    offx++;
 14140                        	.line	1900
 14141 06:3386: E6 19        	inc	<L721+offx_1
 14142                        ;						}
 14143                        	.line	1901
 14144                        L10227:
 14145 06:3388: E6 1D        	inc	<L721+sx_1
 14146                        L10230:
 14147 06:338A: 38           	sec
 14148 06:338B: A5 1D        	lda	<L721+sx_1
 14149 06:338D: E5 33        	sbc	<L720+scale_0
 14150 06:338F: 70 03        	bvs	L729
 14151 06:3391: 49 00 80     	eor	#$8000
 14152                        L729:
 14153 06:3394: 30 03        	bmi	L730
 14154 06:3396: 82 B9 FF     	brl	L10229
 14155                        L730:
 14156                        L10228:
 14157                        ;						offy++;
 14158                        	.line	1902
 14159 06:3399: E6 1B        	inc	<L721+offy_1
 14160                        ;					}
 14161                        	.line	1903
 14162                        L10223:
 14163 06:339B: E6 1F        	inc	<L721+sy_1
 14164                        L10226:
 14165 06:339D: 38           	sec
 14166 06:339E: A5 1F        	lda	<L721+sy_1
 14167 06:33A0: E5 33        	sbc	<L720+scale_0
 14168 06:33A2: 70 03        	bvs	L731
 14169 06:33A4: 49 00 80     	eor	#$8000
 14170                        L731:
 14171 06:33A7: 30 03        	bmi	L732
 14172 06:33A9: 82 9D FF     	brl	L10225
 14173                        L732:
 14174                        L10224:
 14175                        ;				}
 14176                        	.line	1904
 14177                        ;				px++;
 14178                        L10222:
 14179                        	.line	1905
 14180 06:33AC: E6 15        	inc	<L721+px_1
 14181                        ;			} // end "for x"
 14182                        	.line	1906
 14183                        L10218:
 14184 06:33AE: 18           	clc
 14185 06:33AF: A5 09        	lda	<L721+x_1
 14186 06:33B1: 65 33        	adc	<L720+scale_0
 14187 06:33B3: 85 09        	sta	<L721+x_1
 14188                        L10221:
 14189 06:33B5: 38           	sec
 14190 06:33B6: A5 09        	lda	<L721+x_1
 14191 06:33B8: E5 0F        	sbc	<L721+width_1
 14192 06:33BA: 70 03        	bvs	L733
 14193 06:33BC: 49 00 80     	eor	#$8000
 14194                        L733:
 14195 06:33BF: 30 03        	bmi	L734
  Mon Sep 27 2021  9:39                                                Page 262


 14196 06:33C1: 82 48 FF     	brl	L10220
 14197                        L734:
 14198                        L10219:
 14199                        ;			py++;
 14200                        	.line	1907
 14201 06:33C4: E6 17        	inc	<L721+py_1
 14202                        ;		} // end "for y"
 14203                        	.line	1908
 14204                        L10214:
 14205 06:33C6: 18           	clc
 14206 06:33C7: A5 0B        	lda	<L721+y_1
 14207 06:33C9: 65 33        	adc	<L720+scale_0
 14208 06:33CB: 85 0B        	sta	<L721+y_1
 14209                        L10217:
 14210 06:33CD: 38           	sec
 14211 06:33CE: A5 0B        	lda	<L721+y_1
 14212 06:33D0: E5 0D        	sbc	<L721+height_1
 14213 06:33D2: 70 03        	bvs	L735
 14214 06:33D4: 49 00 80     	eor	#$8000
 14215                        L735:
 14216 06:33D7: 30 03        	bmi	L736
 14217 06:33D9: 82 25 FF     	brl	L10216
 14218                        L736:
 14219                        L10215:
 14220                        ;	}
 14221                        	.line	1909
 14222                        ;}
 14223                        L10213:
 14224                        	.line	1910
 14225                        L737:
 14226 06:33DC: A5 27        	lda	<L720+2
 14227 06:33DE: 85 33        	sta	<L720+2+12
 14228 06:33E0: A5 26        	lda	<L720+1
 14229 06:33E2: 85 32        	sta	<L720+1+12
 14230 06:33E4: 2B           	pld
 14231 06:33E5: 3B           	tsc
 14232 06:33E6: 18           	clc
 14233 06:33E7: 69 31 00     	adc	#L720+12
 14234 06:33EA: 1B           	tcs
 14235 06:33EB: 6B           	rtl
 14236                        	.endblock	1910
 14237             00000025   L720	equ	37
 14238             00000009   L721	equ	9
 14239 06:33EC:              	ends
 14240                        	efunc
 14241                        	.endfunc	1910,9,37
 14242                        	.line	1910
 14243                        ;
 14244                        ;
 14245                        ;void k_put_font(char outChar,int row,int column,c
                    har color)
 14246                        ;{
 14247                        	.line	1913
 14248                        	.line	1914
 14249                        	GFX
 14250                        	xdef	~~k_put_font
 14251                        	func
 14252                        	.function	1914
  Mon Sep 27 2021  9:39                                                Page 263


 14253                        ~~k_put_font:
 14254                        	longa	on
 14255                        	longi	on
 14256 06:33EC: 3B           	tsc
 14257 06:33ED: 38           	sec
 14258 06:33EE: E9 21 00     	sbc	#L738
 14259 06:33F1: 1B           	tcs
 14260 06:33F2: 0B           	phd
 14261 06:33F3: 5B           	tcd
 14262             00000004   outChar_0	set	4
 14263             00000006   row_0	set	6
 14264             00000008   column_0	set	8
 14265             0000000A   color_0	set	10
 14266                        	.block	1914
 14267                        ;	int x = 0;
 14268                        ;	int y = 0;
 14269                        ;	int textX = row * FONTW;
 14270                        ;	int textY = column * FONTH;
 14271                        ;
 14272                        ;	char FAR* img = NULL;//fontImg[ix];
 14273                        ;
 14274                        ;    if(outChar == 32)
 14275             00000000   x_1	set	0
 14276             00000002   y_1	set	2
 14277             00000004   textX_1	set	4
 14278             00000006   textY_1	set	6
 14279             00000008   img_1	set	8
 14280                        	.sym	x,0,5,1,16
 14281                        	.sym	y,2,5,1,16
 14282                        	.sym	textX,4,5,1,16
 14283                        	.sym	textY,6,5,1,16
 14284                        	.sym	img,8,142,1,32
 14285                        	.sym	outChar,4,14,6,8
 14286                        	.sym	row,6,5,6,16
 14287                        	.sym	column,8,5,6,16
 14288                        	.sym	color,10,14,6,8
 14289 06:33F4: 64 15        	stz	<L739+x_1
 14290 06:33F6: 64 17        	stz	<L739+y_1
 14291 06:33F8: 22 36 86 06  	jsl	~~k_font_getFontWidth
 14292 06:33FC: 85 01        	sta	<R0
 14293 06:33FE: A5 01        	lda	<R0
 14294 06:3400: A6 27        	ldx	<L738+row_0
 14295                        	xref	~~~mul
 14296 06:3402: 22 xx xx xx  	jsl	~~~mul
 14297 06:3406: 85 19        	sta	<L739+textX_1
 14298 06:3408: 22 21 86 06  	jsl	~~k_font_getFontHeight
 14299 06:340C: 85 01        	sta	<R0
 14300 06:340E: A5 01        	lda	<R0
 14301 06:3410: A6 29        	ldx	<L738+column_0
 14302                        	xref	~~~mul
 14303 06:3412: 22 xx xx xx  	jsl	~~~mul
 14304 06:3416: 85 1B        	sta	<L739+textY_1
 14305 06:3418: 64 1D        	stz	<L739+img_1
 14306 06:341A: 64 1F        	stz	<L739+img_1+2
 14307                        	.line	1922
 14308                        ;	{
 14309 06:341C: E2 20        	sep	#$20
 14310                        	longa	off
  Mon Sep 27 2021  9:39                                                Page 264


 14311 06:341E: A5 25        	lda	<L738+outChar_0
 14312 06:3420: C9 20        	cmp	#<$20
 14313 06:3422: C2 20        	rep	#$20
 14314                        	longa	on
 14315 06:3424: F0 03        	beq	L741
 14316 06:3426: 82 07 00     	brl	L10231
 14317                        L741:
 14318                        	.line	1923
 14319                        ;	   img = NULL;
 14320                        	.line	1924
 14321 06:3429: 64 1D        	stz	<L739+img_1
 14322 06:342B: 64 1F        	stz	<L739+img_1+2
 14323                        ;    }
 14324                        	.line	1925
 14325                        ;    else
 14326 06:342D: 82 5B 00     	brl	L10232
 14327                        L10231:
 14328                        ;	{
 14329                        	.line	1927
 14330                        ;	    img = fontImg[(int)characterROMMapping[(int)
                    (outChar & 0xFF)]];
 14331                        	.line	1928
 14332 06:3430: A5 25        	lda	<L738+outChar_0
 14333 06:3432: 29 FF 00     	and	#<$ff
 14334 06:3435: 85 09        	sta	<R2
 14335 06:3437: A0 00 00     	ldy	#$0
 14336 06:343A: A5 09        	lda	<R2
 14337 06:343C: 10 01        	bpl	L742
 14338 06:343E: 88           	dey
 14339                        L742:
 14340 06:343F: 85 09        	sta	<R2
 14341 06:3441: 84 0B        	sty	<R2+2
 14342 06:3443: D4 0B        	pei	<R2+2
 14343 06:3445: D4 09        	pei	<R2
 14344 06:3447: A9 01 00     	lda	#$1
 14345                        	xref	~~~lasl
 14346 06:344A: 22 xx xx xx  	jsl	~~~lasl
 14347 06:344E: 85 05        	sta	<R1
 14348 06:3450: 86 07        	stx	<R1+2
 14349 06:3452: 18           	clc
 14350 06:3453: A9 xx xx     	lda	#<~~characterROMMapping
 14351 06:3456: 65 05        	adc	<R1
 14352 06:3458: 85 0D        	sta	<R3
 14353 06:345A: A9 xx xx     	lda	#^~~characterROMMapping
 14354 06:345D: 65 07        	adc	<R1+2
 14355 06:345F: 85 0F        	sta	<R3+2
 14356 06:3461: A0 00 00     	ldy	#$0
 14357 06:3464: A7 0D        	lda	[<R3]
 14358 06:3466: 10 01        	bpl	L743
 14359 06:3468: 88           	dey
 14360                        L743:
 14361 06:3469: 85 05        	sta	<R1
 14362 06:346B: 84 07        	sty	<R1+2
 14363 06:346D: D4 07        	pei	<R1+2
 14364 06:346F: D4 05        	pei	<R1
 14365 06:3471: A9 06 00     	lda	#$6
 14366                        	xref	~~~lasl
 14367 06:3474: 22 xx xx xx  	jsl	~~~lasl
  Mon Sep 27 2021  9:39                                                Page 265


 14368 06:3478: 85 01        	sta	<R0
 14369 06:347A: 86 03        	stx	<R0+2
 14370 06:347C: 18           	clc
 14371 06:347D: A9 xx xx     	lda	#<~~fontImg
 14372 06:3480: 65 01        	adc	<R0
 14373 06:3482: 85 1D        	sta	<L739+img_1
 14374 06:3484: A9 xx xx     	lda	#^~~fontImg
 14375 06:3487: 65 03        	adc	<R0+2
 14376 06:3489: 85 1F        	sta	<L739+img_1+2
 14377                        ;		//img = fontImg[0x02];
 14378                        ;	}
 14379                        	.line	1930
 14380                        L10232:
 14381                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 14382                        ;
 14383                        ;	// get the font 'image'
 14384                        ;        //char *img = fontImg[ix]; 
 14385                        ;        // loop through pixel rows
 14386                        ;	if(img!=NULL)
 14387                        	.line	1936
 14388                        ;	{
 14389 06:348B: A5 1D        	lda	<L739+img_1
 14390 06:348D: 05 1F        	ora	<L739+img_1+2
 14391 06:348F: D0 03        	bne	L744
 14392 06:3491: 82 DD 00     	brl	L10233
 14393                        L744:
 14394                        	.line	1937
 14395                        ;		for (y = 0; y < FONTH; y++) 
 14396                        	.line	1938
 14397 06:3494: 64 17        	stz	<L739+y_1
 14398 06:3496: 82 C9 00     	brl	L10237
 14399                        L10236:
 14400                        ;		{
 14401                        	.line	1939
 14402                        ;			// loop through pixel columns
 14403                        ;			for (x = 0; x < FONTW; x++) 
 14404                        	.line	1941
 14405 06:3499: 64 15        	stz	<L739+x_1
 14406 06:349B: 82 B3 00     	brl	L10241
 14407                        L10240:
 14408                        ;			{
 14409                        	.line	1942
 14410                        ;				// get the pixel value
 14411                        ;				char b = img[y * FONTW +
                     x];
 14412                        ;				if (b > 0) 
 14413                        	.block	1945
 14414             0000000C   b_2	set	12
 14415                        	.sym	b,12,14,1,8
 14416 06:349E: 22 36 86 06  	jsl	~~k_font_getFontWidth
 14417 06:34A2: 85 01        	sta	<R0
 14418 06:34A4: A5 01        	lda	<R0
 14419 06:34A6: A6 17        	ldx	<L739+y_1
 14420                        	xref	~~~mul
 14421 06:34A8: 22 xx xx xx  	jsl	~~~mul
 14422 06:34AC: 85 01        	sta	<R0
 14423 06:34AE: 18           	clc
  Mon Sep 27 2021  9:39                                                Page 266


 14424 06:34AF: A5 01        	lda	<R0
 14425 06:34B1: 65 15        	adc	<L739+x_1
 14426 06:34B3: 85 05        	sta	<R1
 14427 06:34B5: E2 20        	sep	#$20
 14428                        	longa	off
 14429 06:34B7: A4 05        	ldy	<R1
 14430 06:34B9: B7 1D        	lda	[<L739+img_1],Y
 14431 06:34BB: 85 21        	sta	<L739+b_2
 14432 06:34BD: C2 20        	rep	#$20
 14433                        	longa	on
 14434                        	.line	1945
 14435                        ;				{ // plot the pixel
 14436 06:34BF: E2 20        	sep	#$20
 14437                        	longa	off
 14438 06:34C1: A9 00        	lda	#$0
 14439 06:34C3: C5 21        	cmp	<L739+b_2
 14440 06:34C5: C2 20        	rep	#$20
 14441                        	longa	on
 14442 06:34C7: 90 03        	bcc	L746
 14443 06:34C9: 82 83 00     	brl	L10242
 14444                        L746:
 14445                        	.line	1946
 14446                        ;					//k_draw_pixel(t
                    extX + x, textY + y, color);
 14447                        ;					
 14448                        ;					((unsigned char 
                    FAR *)BITMAP_BANK_0)[(long)(( ((long)textY + y) * 640L) + ((
                    long)textX + x) )] = (char)color;
 14449                        	.line	1949
 14450 06:34CC: A0 00 00     	ldy	#$0
 14451 06:34CF: A5 19        	lda	<L739+textX_1
 14452 06:34D1: 10 01        	bpl	L747
 14453 06:34D3: 88           	dey
 14454                        L747:
 14455 06:34D4: 85 01        	sta	<R0
 14456 06:34D6: 84 03        	sty	<R0+2
 14457 06:34D8: A0 00 00     	ldy	#$0
 14458 06:34DB: A5 15        	lda	<L739+x_1
 14459 06:34DD: 10 01        	bpl	L748
 14460 06:34DF: 88           	dey
 14461                        L748:
 14462 06:34E0: 85 05        	sta	<R1
 14463 06:34E2: 84 07        	sty	<R1+2
 14464 06:34E4: A0 00 00     	ldy	#$0
 14465 06:34E7: A5 17        	lda	<L739+y_1
 14466 06:34E9: 10 01        	bpl	L749
 14467 06:34EB: 88           	dey
 14468                        L749:
 14469 06:34EC: 85 09        	sta	<R2
 14470 06:34EE: 84 0B        	sty	<R2+2
 14471 06:34F0: A0 00 00     	ldy	#$0
 14472 06:34F3: A5 1B        	lda	<L739+textY_1
 14473 06:34F5: 10 01        	bpl	L750
 14474 06:34F7: 88           	dey
 14475                        L750:
 14476 06:34F8: 85 0D        	sta	<R3
 14477 06:34FA: 84 0F        	sty	<R3+2
 14478 06:34FC: 18           	clc
  Mon Sep 27 2021  9:39                                                Page 267


 14479 06:34FD: A5 0D        	lda	<R3
 14480 06:34FF: 65 09        	adc	<R2
 14481 06:3501: 85 11        	sta	<17
 14482 06:3503: A5 0F        	lda	<R3+2
 14483 06:3505: 65 0B        	adc	<R2+2
 14484 06:3507: 85 13        	sta	<17+2
 14485 06:3509: F4 00 00     	pea	#^$280
 14486 06:350C: F4 80 02     	pea	#<$280
 14487 06:350F: D4 13        	pei	<17+2
 14488 06:3511: D4 11        	pei	<17
 14489                        	xref	~~~lmul
 14490 06:3513: 22 xx xx xx  	jsl	~~~lmul
 14491 06:3517: 85 09        	sta	<R2
 14492 06:3519: 86 0B        	stx	<R2+2
 14493 06:351B: 18           	clc
 14494 06:351C: A5 09        	lda	<R2
 14495 06:351E: 65 05        	adc	<R1
 14496 06:3520: 85 0D        	sta	<R3
 14497 06:3522: A5 0B        	lda	<R2+2
 14498 06:3524: 65 07        	adc	<R1+2
 14499 06:3526: 85 0F        	sta	<R3+2
 14500 06:3528: 18           	clc
 14501 06:3529: A5 0D        	lda	<R3
 14502 06:352B: 65 01        	adc	<R0
 14503 06:352D: 85 05        	sta	<R1
 14504 06:352F: A5 0F        	lda	<R3+2
 14505 06:3531: 65 03        	adc	<R0+2
 14506 06:3533: 85 07        	sta	<R1+2
 14507 06:3535: 18           	clc
 14508 06:3536: A9 00 00     	lda	#$0
 14509 06:3539: 65 05        	adc	<R1
 14510 06:353B: 85 01        	sta	<R0
 14511 06:353D: A9 B0 00     	lda	#$b0
 14512 06:3540: 65 07        	adc	<R1+2
 14513 06:3542: 85 03        	sta	<R0+2
 14514 06:3544: E2 20        	sep	#$20
 14515                        	longa	off
 14516 06:3546: A5 2B        	lda	<L738+color_0
 14517 06:3548: 87 01        	sta	[<R0]
 14518 06:354A: C2 20        	rep	#$20
 14519                        	longa	on
 14520                        ;				}
 14521                        	.line	1950
 14522                        ;				else 
 14523 06:354C: 82 00 00     	brl	L10243
 14524                        L10242:
 14525                        ;				{ 
 14526                        	.line	1952
 14527                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 14528                        ;				}
 14529                        	.line	1954
 14530                        L10243:
 14531                        ;			} // end "for x"
 14532                        	.endblock	1955
 14533                        	.line	1955
 14534                        L10238:
 14535 06:354F: E6 15        	inc	<L739+x_1
  Mon Sep 27 2021  9:39                                                Page 268


 14536                        L10241:
 14537 06:3551: 22 36 86 06  	jsl	~~k_font_getFontWidth
 14538 06:3555: 85 01        	sta	<R0
 14539 06:3557: A5 15        	lda	<L739+x_1
 14540 06:3559: C5 01        	cmp	<R0
 14541 06:355B: B0 03        	bcs	L751
 14542 06:355D: 82 3E FF     	brl	L10240
 14543                        L751:
 14544                        L10239:
 14545                        ;		} // end "for y"
 14546                        	.line	1956
 14547                        L10234:
 14548 06:3560: E6 17        	inc	<L739+y_1
 14549                        L10237:
 14550 06:3562: 22 21 86 06  	jsl	~~k_font_getFontHeight
 14551 06:3566: 85 01        	sta	<R0
 14552 06:3568: A5 17        	lda	<L739+y_1
 14553 06:356A: C5 01        	cmp	<R0
 14554 06:356C: B0 03        	bcs	L752
 14555 06:356E: 82 28 FF     	brl	L10236
 14556                        L752:
 14557                        L10235:
 14558                        ;	}
 14559                        	.line	1957
 14560                        ;}
 14561                        L10233:
 14562                        	.line	1958
 14563                        L753:
 14564 06:3571: A5 23        	lda	<L738+2
 14565 06:3573: 85 2B        	sta	<L738+2+8
 14566 06:3575: A5 22        	lda	<L738+1
 14567 06:3577: 85 2A        	sta	<L738+1+8
 14568 06:3579: 2B           	pld
 14569 06:357A: 3B           	tsc
 14570 06:357B: 18           	clc
 14571 06:357C: 69 29 00     	adc	#L738+8
 14572 06:357F: 1B           	tcs
 14573 06:3580: 6B           	rtl
 14574                        	.endblock	1958
 14575             00000021   L738	equ	33
 14576             00000015   L739	equ	21
 14577 06:3581:              	ends
 14578                        	efunc
 14579                        	.endfunc	1958,21,33
 14580                        	.line	1958
 14581                        ;
 14582                        ;void k_put_font_scaled(char outChar,int row,int c
                    olumn,char color,int scale)
 14583                        ;{
 14584                        	.line	1960
 14585                        	.line	1961
 14586                        	GFX
 14587                        	xdef	~~k_put_font_scaled
 14588                        	func
 14589                        	.function	1961
 14590                        ~~k_put_font_scaled:
 14591                        	longa	on
 14592                        	longi	on
  Mon Sep 27 2021  9:39                                                Page 269


 14593 06:3581: 3B           	tsc
 14594 06:3582: 38           	sec
 14595 06:3583: E9 2D 00     	sbc	#L754
 14596 06:3586: 1B           	tcs
 14597 06:3587: 0B           	phd
 14598 06:3588: 5B           	tcd
 14599             00000004   outChar_0	set	4
 14600             00000006   row_0	set	6
 14601             00000008   column_0	set	8
 14602             0000000A   color_0	set	10
 14603             0000000C   scale_0	set	12
 14604                        	.block	1961
 14605                        ;	int x = 0;
 14606                        ;	int y = 0;
 14607                        ;
 14608                        ;	int height = FONTH * scale;
 14609                        ;	int width  = FONTW * scale;
 14610                        ;	
 14611                        ;	int textX = row    * height;
 14612                        ;	int textY = column * width;
 14613                        ;
 14614                        ;	int px   = 0;
 14615                        ;	int py   = 0;
 14616                        ;	int offx = 0;
 14617                        ;	int offy = 0;
 14618                        ;	int sx   = 0;
 14619                        ;	int sy   = 0;
 14620                        ;
 14621                        ;	char b   = 0;
 14622                        ;
 14623                        ;	char FAR* img = NULL;//fontImg[ix];
 14624                        ;
 14625                        ;    if(outChar == 32)
 14626             00000000   x_1	set	0
 14627             00000002   y_1	set	2
 14628             00000004   height_1	set	4
 14629             00000006   width_1	set	6
 14630             00000008   textX_1	set	8
 14631             0000000A   textY_1	set	10
 14632             0000000C   px_1	set	12
 14633             0000000E   py_1	set	14
 14634             00000010   offx_1	set	16
 14635             00000012   offy_1	set	18
 14636             00000014   sx_1	set	20
 14637             00000016   sy_1	set	22
 14638             00000018   b_1	set	24
 14639             00000019   img_1	set	25
 14640                        	.sym	x,0,5,1,16
 14641                        	.sym	y,2,5,1,16
 14642                        	.sym	height,4,5,1,16
 14643                        	.sym	width,6,5,1,16
 14644                        	.sym	textX,8,5,1,16
 14645                        	.sym	textY,10,5,1,16
 14646                        	.sym	px,12,5,1,16
 14647                        	.sym	py,14,5,1,16
 14648                        	.sym	offx,16,5,1,16
 14649                        	.sym	offy,18,5,1,16
 14650                        	.sym	sx,20,5,1,16
  Mon Sep 27 2021  9:39                                                Page 270


 14651                        	.sym	sy,22,5,1,16
 14652                        	.sym	b,24,14,1,8
 14653                        	.sym	img,25,142,1,32
 14654                        	.sym	outChar,4,14,6,8
 14655                        	.sym	row,6,5,6,16
 14656                        	.sym	column,8,5,6,16
 14657                        	.sym	color,10,14,6,8
 14658                        	.sym	scale,12,5,6,16
 14659 06:3589: 64 11        	stz	<L755+x_1
 14660 06:358B: 64 13        	stz	<L755+y_1
 14661 06:358D: 22 21 86 06  	jsl	~~k_font_getFontHeight
 14662 06:3591: 85 01        	sta	<R0
 14663 06:3593: A5 01        	lda	<R0
 14664 06:3595: A6 39        	ldx	<L754+scale_0
 14665                        	xref	~~~mul
 14666 06:3597: 22 xx xx xx  	jsl	~~~mul
 14667 06:359B: 85 15        	sta	<L755+height_1
 14668 06:359D: 22 36 86 06  	jsl	~~k_font_getFontWidth
 14669 06:35A1: 85 01        	sta	<R0
 14670 06:35A3: A5 01        	lda	<R0
 14671 06:35A5: A6 39        	ldx	<L754+scale_0
 14672                        	xref	~~~mul
 14673 06:35A7: 22 xx xx xx  	jsl	~~~mul
 14674 06:35AB: 85 17        	sta	<L755+width_1
 14675 06:35AD: A5 33        	lda	<L754+row_0
 14676 06:35AF: A6 15        	ldx	<L755+height_1
 14677                        	xref	~~~mul
 14678 06:35B1: 22 xx xx xx  	jsl	~~~mul
 14679 06:35B5: 85 19        	sta	<L755+textX_1
 14680 06:35B7: A5 35        	lda	<L754+column_0
 14681 06:35B9: A6 17        	ldx	<L755+width_1
 14682                        	xref	~~~mul
 14683 06:35BB: 22 xx xx xx  	jsl	~~~mul
 14684 06:35BF: 85 1B        	sta	<L755+textY_1
 14685 06:35C1: 64 1D        	stz	<L755+px_1
 14686 06:35C3: 64 1F        	stz	<L755+py_1
 14687 06:35C5: 64 21        	stz	<L755+offx_1
 14688 06:35C7: 64 23        	stz	<L755+offy_1
 14689 06:35C9: 64 25        	stz	<L755+sx_1
 14690 06:35CB: 64 27        	stz	<L755+sy_1
 14691 06:35CD: E2 20        	sep	#$20
 14692                        	longa	off
 14693 06:35CF: 64 29        	stz	<L755+b_1
 14694 06:35D1: C2 20        	rep	#$20
 14695                        	longa	on
 14696 06:35D3: 64 2A        	stz	<L755+img_1
 14697 06:35D5: 64 2C        	stz	<L755+img_1+2
 14698                        	.line	1982
 14699                        ;	{
 14700 06:35D7: E2 20        	sep	#$20
 14701                        	longa	off
 14702 06:35D9: A5 31        	lda	<L754+outChar_0
 14703 06:35DB: C9 20        	cmp	#<$20
 14704 06:35DD: C2 20        	rep	#$20
 14705                        	longa	on
 14706 06:35DF: F0 03        	beq	L757
 14707 06:35E1: 82 07 00     	brl	L10244
 14708                        L757:
  Mon Sep 27 2021  9:39                                                Page 271


 14709                        	.line	1983
 14710                        ;	   img = NULL;//fontSpace;
 14711                        	.line	1984
 14712 06:35E4: 64 2A        	stz	<L755+img_1
 14713 06:35E6: 64 2C        	stz	<L755+img_1+2
 14714                        ;    }
 14715                        	.line	1985
 14716                        ;    else
 14717 06:35E8: 82 5B 00     	brl	L10245
 14718                        L10244:
 14719                        ;	{
 14720                        	.line	1987
 14721                        ;	    img = fontImg[(int)characterROMMapping[(int)
                    (outChar & 0xFF)]];
 14722                        	.line	1988
 14723 06:35EB: A5 31        	lda	<L754+outChar_0
 14724 06:35ED: 29 FF 00     	and	#<$ff
 14725 06:35F0: 85 09        	sta	<R2
 14726 06:35F2: A0 00 00     	ldy	#$0
 14727 06:35F5: A5 09        	lda	<R2
 14728 06:35F7: 10 01        	bpl	L758
 14729 06:35F9: 88           	dey
 14730                        L758:
 14731 06:35FA: 85 09        	sta	<R2
 14732 06:35FC: 84 0B        	sty	<R2+2
 14733 06:35FE: D4 0B        	pei	<R2+2
 14734 06:3600: D4 09        	pei	<R2
 14735 06:3602: A9 01 00     	lda	#$1
 14736                        	xref	~~~lasl
 14737 06:3605: 22 xx xx xx  	jsl	~~~lasl
 14738 06:3609: 85 05        	sta	<R1
 14739 06:360B: 86 07        	stx	<R1+2
 14740 06:360D: 18           	clc
 14741 06:360E: A9 xx xx     	lda	#<~~characterROMMapping
 14742 06:3611: 65 05        	adc	<R1
 14743 06:3613: 85 0D        	sta	<R3
 14744 06:3615: A9 xx xx     	lda	#^~~characterROMMapping
 14745 06:3618: 65 07        	adc	<R1+2
 14746 06:361A: 85 0F        	sta	<R3+2
 14747 06:361C: A0 00 00     	ldy	#$0
 14748 06:361F: A7 0D        	lda	[<R3]
 14749 06:3621: 10 01        	bpl	L759
 14750 06:3623: 88           	dey
 14751                        L759:
 14752 06:3624: 85 05        	sta	<R1
 14753 06:3626: 84 07        	sty	<R1+2
 14754 06:3628: D4 07        	pei	<R1+2
 14755 06:362A: D4 05        	pei	<R1
 14756 06:362C: A9 06 00     	lda	#$6
 14757                        	xref	~~~lasl
 14758 06:362F: 22 xx xx xx  	jsl	~~~lasl
 14759 06:3633: 85 01        	sta	<R0
 14760 06:3635: 86 03        	stx	<R0+2
 14761 06:3637: 18           	clc
 14762 06:3638: A9 xx xx     	lda	#<~~fontImg
 14763 06:363B: 65 01        	adc	<R0
 14764 06:363D: 85 2A        	sta	<L755+img_1
 14765 06:363F: A9 xx xx     	lda	#^~~fontImg
  Mon Sep 27 2021  9:39                                                Page 272


 14766 06:3642: 65 03        	adc	<R0+2
 14767 06:3644: 85 2C        	sta	<L755+img_1+2
 14768                        ;		//img = fontImg[0x01];
 14769                        ;	}
 14770                        	.line	1990
 14771                        L10245:
 14772                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 14773                        ;
 14774                        ;	// get the font 'image'
 14775                        ;        //char *img = fontImg[ix]; 
 14776                        ;        // loop through pixel rows
 14777                        ;	if(img!=NULL)
 14778                        	.line	1996
 14779                        ;	{
 14780 06:3646: A5 2A        	lda	<L755+img_1
 14781 06:3648: 05 2C        	ora	<L755+img_1+2
 14782 06:364A: D0 03        	bne	L760
 14783 06:364C: 82 E3 00     	brl	L10246
 14784                        L760:
 14785                        	.line	1997
 14786                        ;		py = 0;
 14787                        	.line	1998
 14788 06:364F: 64 1F        	stz	<L755+py_1
 14789                        ;		for (y = 0; y < height; y+=scale) 
 14790                        	.line	1999
 14791 06:3651: 64 13        	stz	<L755+y_1
 14792 06:3653: 82 CD 00     	brl	L10250
 14793                        L10249:
 14794                        ;		{
 14795                        	.line	2000
 14796                        ;			offy = y;
 14797                        	.line	2001
 14798 06:3656: A5 13        	lda	<L755+y_1
 14799 06:3658: 85 23        	sta	<L755+offy_1
 14800                        ;			px = 0;
 14801                        	.line	2002
 14802 06:365A: 64 1D        	stz	<L755+px_1
 14803                        ;			for (x = 0; x < width; x+=scale)
                     
 14804                        	.line	2003
 14805 06:365C: 64 11        	stz	<L755+x_1
 14806 06:365E: 82 AA 00     	brl	L10254
 14807                        L10253:
 14808                        ;			{
 14809                        	.line	2004
 14810                        ;				// get the pixel value
 14811                        ;				offx = x;
 14812                        	.line	2006
 14813 06:3661: A5 11        	lda	<L755+x_1
 14814 06:3663: 85 21        	sta	<L755+offx_1
 14815                        ;				b = img[py * FONTW + px]
                    ;
 14816                        	.line	2007
 14817 06:3665: 22 36 86 06  	jsl	~~k_font_getFontWidth
 14818 06:3669: 85 01        	sta	<R0
 14819 06:366B: A5 01        	lda	<R0
 14820 06:366D: A6 1F        	ldx	<L755+py_1
  Mon Sep 27 2021  9:39                                                Page 273


 14821                        	xref	~~~mul
 14822 06:366F: 22 xx xx xx  	jsl	~~~mul
 14823 06:3673: 85 01        	sta	<R0
 14824 06:3675: 18           	clc
 14825 06:3676: A5 01        	lda	<R0
 14826 06:3678: 65 1D        	adc	<L755+px_1
 14827 06:367A: 85 05        	sta	<R1
 14828 06:367C: E2 20        	sep	#$20
 14829                        	longa	off
 14830 06:367E: A4 05        	ldy	<R1
 14831 06:3680: B7 2A        	lda	[<L755+img_1],Y
 14832 06:3682: 85 29        	sta	<L755+b_1
 14833 06:3684: C2 20        	rep	#$20
 14834                        	longa	on
 14835                        ;				if (b > 0) 
 14836                        	.line	2008
 14837                        ;				{ // plot the pixel	
                    				
 14838 06:3686: E2 20        	sep	#$20
 14839                        	longa	off
 14840 06:3688: A9 00        	lda	#$0
 14841 06:368A: C5 29        	cmp	<L755+b_1
 14842 06:368C: C2 20        	rep	#$20
 14843                        	longa	on
 14844 06:368E: 90 03        	bcc	L761
 14845 06:3690: 82 6F 00     	brl	L10255
 14846                        L761:
 14847                        	.line	2009
 14848                        ;					offy = y;
 14849                        	.line	2010
 14850 06:3693: A5 13        	lda	<L755+y_1
 14851 06:3695: 85 23        	sta	<L755+offy_1
 14852                        ;					for(sy=0;sy<scal
                    e;sy++)
 14853                        	.line	2011
 14854 06:3697: 64 27        	stz	<L755+sy_1
 14855 06:3699: 82 54 00     	brl	L10259
 14856                        L10258:
 14857                        ;					{
 14858                        	.line	2012
 14859                        ;						offx = x
                    ;
 14860                        	.line	2013
 14861 06:369C: A5 11        	lda	<L755+x_1
 14862 06:369E: 85 21        	sta	<L755+offx_1
 14863                        ;						for(sx=0
                    ;sx<scale;sx++)
 14864                        	.line	2014
 14865 06:36A0: 64 25        	stz	<L755+sx_1
 14866 06:36A2: 82 38 00     	brl	L10263
 14867                        L10262:
 14868                        ;						{
 14869                        	.line	2015
 14870                        ;							
                    k_draw_pixel(textX + offx, textY + offy, color);
 14871                        	.line	2016
 14872 06:36A5: D4 37        	pei	<L754+color_0
 14873 06:36A7: 18           	clc
  Mon Sep 27 2021  9:39                                                Page 274


 14874 06:36A8: A5 1B        	lda	<L755+textY_1
 14875 06:36AA: 65 23        	adc	<L755+offy_1
 14876 06:36AC: 85 01        	sta	<R0
 14877 06:36AE: A0 00 00     	ldy	#$0
 14878 06:36B1: A5 01        	lda	<R0
 14879 06:36B3: 10 01        	bpl	L762
 14880 06:36B5: 88           	dey
 14881                        L762:
 14882 06:36B6: 85 01        	sta	<R0
 14883 06:36B8: 84 03        	sty	<R0+2
 14884 06:36BA: D4 03        	pei	<R0+2
 14885 06:36BC: D4 01        	pei	<R0
 14886 06:36BE: 18           	clc
 14887 06:36BF: A5 19        	lda	<L755+textX_1
 14888 06:36C1: 65 21        	adc	<L755+offx_1
 14889 06:36C3: 85 05        	sta	<R1
 14890 06:36C5: A0 00 00     	ldy	#$0
 14891 06:36C8: A5 05        	lda	<R1
 14892 06:36CA: 10 01        	bpl	L763
 14893 06:36CC: 88           	dey
 14894                        L763:
 14895 06:36CD: 85 05        	sta	<R1
 14896 06:36CF: 84 07        	sty	<R1+2
 14897 06:36D1: D4 07        	pei	<R1+2
 14898 06:36D3: D4 05        	pei	<R1
 14899 06:36D5: 22 CD 14 06  	jsl	~~k_draw_pixel
 14900                        ;							
                    offx++;
 14901                        	.line	2017
 14902 06:36D9: E6 21        	inc	<L755+offx_1
 14903                        ;						}
 14904                        	.line	2018
 14905                        L10260:
 14906 06:36DB: E6 25        	inc	<L755+sx_1
 14907                        L10263:
 14908 06:36DD: 38           	sec
 14909 06:36DE: A5 25        	lda	<L755+sx_1
 14910 06:36E0: E5 39        	sbc	<L754+scale_0
 14911 06:36E2: 70 03        	bvs	L764
 14912 06:36E4: 49 00 80     	eor	#$8000
 14913                        L764:
 14914 06:36E7: 30 03        	bmi	L765
 14915 06:36E9: 82 B9 FF     	brl	L10262
 14916                        L765:
 14917                        L10261:
 14918                        ;						offy++;
 14919                        	.line	2019
 14920 06:36EC: E6 23        	inc	<L755+offy_1
 14921                        ;					}
 14922                        	.line	2020
 14923                        L10256:
 14924 06:36EE: E6 27        	inc	<L755+sy_1
 14925                        L10259:
 14926 06:36F0: 38           	sec
 14927 06:36F1: A5 27        	lda	<L755+sy_1
 14928 06:36F3: E5 39        	sbc	<L754+scale_0
 14929 06:36F5: 70 03        	bvs	L766
 14930 06:36F7: 49 00 80     	eor	#$8000
  Mon Sep 27 2021  9:39                                                Page 275


 14931                        L766:
 14932 06:36FA: 30 03        	bmi	L767
 14933 06:36FC: 82 9D FF     	brl	L10258
 14934                        L767:
 14935                        L10257:
 14936                        ;					
 14937                        ;					//k_draw_pixel(t
                    extX + x, textY + y, color);
 14938                        ;				}
 14939                        	.line	2023
 14940                        ;				else 
 14941 06:36FF: 82 00 00     	brl	L10264
 14942                        L10255:
 14943                        ;				{ 
 14944                        	.line	2025
 14945                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 14946                        ;				}
 14947                        	.line	2027
 14948                        L10264:
 14949                        ;				px++;
 14950                        	.line	2028
 14951 06:3702: E6 1D        	inc	<L755+px_1
 14952                        ;			} // end "for x"
 14953                        	.line	2029
 14954                        L10251:
 14955 06:3704: 18           	clc
 14956 06:3705: A5 11        	lda	<L755+x_1
 14957 06:3707: 65 39        	adc	<L754+scale_0
 14958 06:3709: 85 11        	sta	<L755+x_1
 14959                        L10254:
 14960 06:370B: 38           	sec
 14961 06:370C: A5 11        	lda	<L755+x_1
 14962 06:370E: E5 17        	sbc	<L755+width_1
 14963 06:3710: 70 03        	bvs	L768
 14964 06:3712: 49 00 80     	eor	#$8000
 14965                        L768:
 14966 06:3715: 30 03        	bmi	L769
 14967 06:3717: 82 47 FF     	brl	L10253
 14968                        L769:
 14969                        L10252:
 14970                        ;			py++;
 14971                        	.line	2030
 14972 06:371A: E6 1F        	inc	<L755+py_1
 14973                        ;		} // end "for y"
 14974                        	.line	2031
 14975                        L10247:
 14976 06:371C: 18           	clc
 14977 06:371D: A5 13        	lda	<L755+y_1
 14978 06:371F: 65 39        	adc	<L754+scale_0
 14979 06:3721: 85 13        	sta	<L755+y_1
 14980                        L10250:
 14981 06:3723: 38           	sec
 14982 06:3724: A5 13        	lda	<L755+y_1
 14983 06:3726: E5 15        	sbc	<L755+height_1
 14984 06:3728: 70 03        	bvs	L770
 14985 06:372A: 49 00 80     	eor	#$8000
 14986                        L770:
  Mon Sep 27 2021  9:39                                                Page 276


 14987 06:372D: 30 03        	bmi	L771
 14988 06:372F: 82 24 FF     	brl	L10249
 14989                        L771:
 14990                        L10248:
 14991                        ;	}
 14992                        	.line	2032
 14993                        ;}
 14994                        L10246:
 14995                        	.line	2033
 14996                        L772:
 14997 06:3732: A5 2F        	lda	<L754+2
 14998 06:3734: 85 39        	sta	<L754+2+10
 14999 06:3736: A5 2E        	lda	<L754+1
 15000 06:3738: 85 38        	sta	<L754+1+10
 15001 06:373A: 2B           	pld
 15002 06:373B: 3B           	tsc
 15003 06:373C: 18           	clc
 15004 06:373D: 69 37 00     	adc	#L754+10
 15005 06:3740: 1B           	tcs
 15006 06:3741: 6B           	rtl
 15007                        	.endblock	2033
 15008             0000002D   L754	equ	45
 15009             00000011   L755	equ	17
 15010 06:3742:              	ends
 15011                        	efunc
 15012                        	.endfunc	2033,17,45
 15013                        	.line	2033
 15014                        ;
 15015                        ;void k_draw_char(char charCode,int row,int column
                    ,char color)
 15016                        ;{
 15017                        	.line	2035
 15018                        	.line	2036
 15019                        	GFX
 15020                        	xdef	~~k_draw_char
 15021                        	func
 15022                        	.function	2036
 15023                        ~~k_draw_char:
 15024                        	longa	on
 15025                        	longi	on
 15026 06:3742: 3B           	tsc
 15027 06:3743: 38           	sec
 15028 06:3744: E9 15 00     	sbc	#L773
 15029 06:3747: 1B           	tcs
 15030 06:3748: 0B           	phd
 15031 06:3749: 5B           	tcd
 15032             00000004   charCode_0	set	4
 15033             00000006   row_0	set	6
 15034             00000008   column_0	set	8
 15035             0000000A   color_0	set	10
 15036                        	.block	2036
 15037                        ;	int x = 0;
 15038                        ;	int y = 0;
 15039                        ;
 15040                        ;	int textX = row * FONTH;
 15041                        ;	int textY = column * FONTW;
 15042                        ;	char b = 0;
 15043                        ;
  Mon Sep 27 2021  9:39                                                Page 277


 15044                        ;	char FAR* img = NULL;//fontImg[ix];
 15045                        ;
 15046                        ;    if(charCode == 32)
 15047             00000000   x_1	set	0
 15048             00000002   y_1	set	2
 15049             00000004   textX_1	set	4
 15050             00000006   textY_1	set	6
 15051             00000008   b_1	set	8
 15052             00000009   img_1	set	9
 15053                        	.sym	x,0,5,1,16
 15054                        	.sym	y,2,5,1,16
 15055                        	.sym	textX,4,5,1,16
 15056                        	.sym	textY,6,5,1,16
 15057                        	.sym	b,8,14,1,8
 15058                        	.sym	img,9,142,1,32
 15059                        	.sym	charCode,4,14,6,8
 15060                        	.sym	row,6,5,6,16
 15061                        	.sym	column,8,5,6,16
 15062                        	.sym	color,10,14,6,8
 15063 06:374A: 64 09        	stz	<L774+x_1
 15064 06:374C: 64 0B        	stz	<L774+y_1
 15065 06:374E: 22 21 86 06  	jsl	~~k_font_getFontHeight
 15066 06:3752: 85 01        	sta	<R0
 15067 06:3754: A5 01        	lda	<R0
 15068 06:3756: A6 1B        	ldx	<L773+row_0
 15069                        	xref	~~~mul
 15070 06:3758: 22 xx xx xx  	jsl	~~~mul
 15071 06:375C: 85 0D        	sta	<L774+textX_1
 15072 06:375E: 22 36 86 06  	jsl	~~k_font_getFontWidth
 15073 06:3762: 85 01        	sta	<R0
 15074 06:3764: A5 01        	lda	<R0
 15075 06:3766: A6 1D        	ldx	<L773+column_0
 15076                        	xref	~~~mul
 15077 06:3768: 22 xx xx xx  	jsl	~~~mul
 15078 06:376C: 85 0F        	sta	<L774+textY_1
 15079 06:376E: E2 20        	sep	#$20
 15080                        	longa	off
 15081 06:3770: 64 11        	stz	<L774+b_1
 15082 06:3772: C2 20        	rep	#$20
 15083                        	longa	on
 15084 06:3774: 64 12        	stz	<L774+img_1
 15085 06:3776: 64 14        	stz	<L774+img_1+2
 15086                        	.line	2046
 15087                        ;	{
 15088 06:3778: E2 20        	sep	#$20
 15089                        	longa	off
 15090 06:377A: A5 19        	lda	<L773+charCode_0
 15091 06:377C: C9 20        	cmp	#<$20
 15092 06:377E: C2 20        	rep	#$20
 15093                        	longa	on
 15094 06:3780: F0 03        	beq	L776
 15095 06:3782: 82 07 00     	brl	L10265
 15096                        L776:
 15097                        	.line	2047
 15098                        ;	   img = NULL;//fontSpace;
 15099                        	.line	2048
 15100 06:3785: 64 12        	stz	<L774+img_1
 15101 06:3787: 64 14        	stz	<L774+img_1+2
  Mon Sep 27 2021  9:39                                                Page 278


 15102                        ;    }
 15103                        	.line	2049
 15104                        ;    else
 15105 06:3789: 82 31 00     	brl	L10266
 15106                        L10265:
 15107                        ;	{
 15108                        	.line	2051
 15109                        ;	    img = fontImg[charCode & 0xFF];
 15110                        	.line	2052
 15111 06:378C: A5 19        	lda	<L773+charCode_0
 15112 06:378E: 29 FF 00     	and	#<$ff
 15113 06:3791: 85 05        	sta	<R1
 15114 06:3793: A0 00 00     	ldy	#$0
 15115 06:3796: A5 05        	lda	<R1
 15116 06:3798: 10 01        	bpl	L777
 15117 06:379A: 88           	dey
 15118                        L777:
 15119 06:379B: 85 05        	sta	<R1
 15120 06:379D: 84 07        	sty	<R1+2
 15121 06:379F: D4 07        	pei	<R1+2
 15122 06:37A1: D4 05        	pei	<R1
 15123 06:37A3: A9 06 00     	lda	#$6
 15124                        	xref	~~~lasl
 15125 06:37A6: 22 xx xx xx  	jsl	~~~lasl
 15126 06:37AA: 85 01        	sta	<R0
 15127 06:37AC: 86 03        	stx	<R0+2
 15128 06:37AE: 18           	clc
 15129 06:37AF: A9 xx xx     	lda	#<~~fontImg
 15130 06:37B2: 65 01        	adc	<R0
 15131 06:37B4: 85 12        	sta	<L774+img_1
 15132 06:37B6: A9 xx xx     	lda	#^~~fontImg
 15133 06:37B9: 65 03        	adc	<R0+2
 15134 06:37BB: 85 14        	sta	<L774+img_1+2
 15135                        ;	}
 15136                        	.line	2053
 15137                        L10266:
 15138                        ;	//printf("putFont:%d\n",characterROMMapping[outC
                    har]);
 15139                        ;
 15140                        ;	// get the font 'image'
 15141                        ;        //char *img = fontImg[ix]; 
 15142                        ;        // loop through pixel rows
 15143                        ;	if(img!=NULL)
 15144                        	.line	2059
 15145                        ;	{
 15146 06:37BD: A5 12        	lda	<L774+img_1
 15147 06:37BF: 05 14        	ora	<L774+img_1+2
 15148 06:37C1: D0 03        	bne	L778
 15149 06:37C3: 82 91 00     	brl	L10267
 15150                        L778:
 15151                        	.line	2060
 15152                        ;		for (y = 0; y < FONTH; y++) 
 15153                        	.line	2061
 15154 06:37C6: 64 0B        	stz	<L774+y_1
 15155 06:37C8: 82 7D 00     	brl	L10271
 15156                        L10270:
 15157                        ;		{
 15158                        	.line	2062
  Mon Sep 27 2021  9:39                                                Page 279


 15159                        ;			// loop through pixel columns
 15160                        ;			for (x = 0; x < FONTW; x++) 
 15161                        	.line	2064
 15162 06:37CB: 64 09        	stz	<L774+x_1
 15163 06:37CD: 82 67 00     	brl	L10275
 15164                        L10274:
 15165                        ;			{
 15166                        	.line	2065
 15167                        ;				// get the pixel value
 15168                        ;				b = img[y * FONTW + x];
 15169                        	.line	2067
 15170 06:37D0: 22 36 86 06  	jsl	~~k_font_getFontWidth
 15171 06:37D4: 85 01        	sta	<R0
 15172 06:37D6: A5 01        	lda	<R0
 15173 06:37D8: A6 0B        	ldx	<L774+y_1
 15174                        	xref	~~~mul
 15175 06:37DA: 22 xx xx xx  	jsl	~~~mul
 15176 06:37DE: 85 01        	sta	<R0
 15177 06:37E0: 18           	clc
 15178 06:37E1: A5 01        	lda	<R0
 15179 06:37E3: 65 09        	adc	<L774+x_1
 15180 06:37E5: 85 05        	sta	<R1
 15181 06:37E7: E2 20        	sep	#$20
 15182                        	longa	off
 15183 06:37E9: A4 05        	ldy	<R1
 15184 06:37EB: B7 12        	lda	[<L774+img_1],Y
 15185 06:37ED: 85 11        	sta	<L774+b_1
 15186 06:37EF: C2 20        	rep	#$20
 15187                        	longa	on
 15188                        ;				if (b > 0) 
 15189                        	.line	2068
 15190                        ;				{ // plot the pixel
 15191 06:37F1: E2 20        	sep	#$20
 15192                        	longa	off
 15193 06:37F3: A9 00        	lda	#$0
 15194 06:37F5: C5 11        	cmp	<L774+b_1
 15195 06:37F7: C2 20        	rep	#$20
 15196                        	longa	on
 15197 06:37F9: 90 03        	bcc	L779
 15198 06:37FB: 82 37 00     	brl	L10276
 15199                        L779:
 15200                        	.line	2069
 15201                        ;					k_draw_pixel(tex
                    tX + x, textY + y, color);
 15202                        	.line	2070
 15203 06:37FE: D4 1F        	pei	<L773+color_0
 15204 06:3800: 18           	clc
 15205 06:3801: A5 0F        	lda	<L774+textY_1
 15206 06:3803: 65 0B        	adc	<L774+y_1
 15207 06:3805: 85 01        	sta	<R0
 15208 06:3807: A0 00 00     	ldy	#$0
 15209 06:380A: A5 01        	lda	<R0
 15210 06:380C: 10 01        	bpl	L780
 15211 06:380E: 88           	dey
 15212                        L780:
 15213 06:380F: 85 01        	sta	<R0
 15214 06:3811: 84 03        	sty	<R0+2
 15215 06:3813: D4 03        	pei	<R0+2
  Mon Sep 27 2021  9:39                                                Page 280


 15216 06:3815: D4 01        	pei	<R0
 15217 06:3817: 18           	clc
 15218 06:3818: A5 0D        	lda	<L774+textX_1
 15219 06:381A: 65 09        	adc	<L774+x_1
 15220 06:381C: 85 05        	sta	<R1
 15221 06:381E: A0 00 00     	ldy	#$0
 15222 06:3821: A5 05        	lda	<R1
 15223 06:3823: 10 01        	bpl	L781
 15224 06:3825: 88           	dey
 15225                        L781:
 15226 06:3826: 85 05        	sta	<R1
 15227 06:3828: 84 07        	sty	<R1+2
 15228 06:382A: D4 07        	pei	<R1+2
 15229 06:382C: D4 05        	pei	<R1
 15230 06:382E: 22 CD 14 06  	jsl	~~k_draw_pixel
 15231                        ;				}
 15232                        	.line	2071
 15233                        ;				else 
 15234 06:3832: 82 00 00     	brl	L10277
 15235                        L10276:
 15236                        ;				{ 
 15237                        	.line	2073
 15238                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 15239                        ;				}
 15240                        	.line	2075
 15241                        L10277:
 15242                        ;			} // end "for x"
 15243                        	.line	2076
 15244                        L10272:
 15245 06:3835: E6 09        	inc	<L774+x_1
 15246                        L10275:
 15247 06:3837: 22 36 86 06  	jsl	~~k_font_getFontWidth
 15248 06:383B: 85 01        	sta	<R0
 15249 06:383D: A5 09        	lda	<L774+x_1
 15250 06:383F: C5 01        	cmp	<R0
 15251 06:3841: B0 03        	bcs	L782
 15252 06:3843: 82 8A FF     	brl	L10274
 15253                        L782:
 15254                        L10273:
 15255                        ;		} // end "for y"
 15256                        	.line	2077
 15257                        L10268:
 15258 06:3846: E6 0B        	inc	<L774+y_1
 15259                        L10271:
 15260 06:3848: 22 21 86 06  	jsl	~~k_font_getFontHeight
 15261 06:384C: 85 01        	sta	<R0
 15262 06:384E: A5 0B        	lda	<L774+y_1
 15263 06:3850: C5 01        	cmp	<R0
 15264 06:3852: B0 03        	bcs	L783
 15265 06:3854: 82 74 FF     	brl	L10270
 15266                        L783:
 15267                        L10269:
 15268                        ;	}
 15269                        	.line	2078
 15270                        ;}
 15271                        L10267:
 15272                        	.line	2079
  Mon Sep 27 2021  9:39                                                Page 281


 15273                        L784:
 15274 06:3857: A5 17        	lda	<L773+2
 15275 06:3859: 85 1F        	sta	<L773+2+8
 15276 06:385B: A5 16        	lda	<L773+1
 15277 06:385D: 85 1E        	sta	<L773+1+8
 15278 06:385F: 2B           	pld
 15279 06:3860: 3B           	tsc
 15280 06:3861: 18           	clc
 15281 06:3862: 69 1D 00     	adc	#L773+8
 15282 06:3865: 1B           	tcs
 15283 06:3866: 6B           	rtl
 15284                        	.endblock	2079
 15285             00000015   L773	equ	21
 15286             00000009   L774	equ	9
 15287 06:3867:              	ends
 15288                        	efunc
 15289                        	.endfunc	2079,9,21
 15290                        	.line	2079
 15291                        ;
 15292                        ;void k_draw_char_scaled(char charCode,int row,int
                     column,char color,int scale)
 15293                        ;{
 15294                        	.line	2081
 15295                        	.line	2082
 15296                        	GFX
 15297                        	xdef	~~k_draw_char_scaled
 15298                        	func
 15299                        	.function	2082
 15300                        ~~k_draw_char_scaled:
 15301                        	longa	on
 15302                        	longi	on
 15303 06:3867: 3B           	tsc
 15304 06:3868: 38           	sec
 15305 06:3869: E9 25 00     	sbc	#L785
 15306 06:386C: 1B           	tcs
 15307 06:386D: 0B           	phd
 15308 06:386E: 5B           	tcd
 15309             00000004   charCode_0	set	4
 15310             00000006   row_0	set	6
 15311             00000008   column_0	set	8
 15312             0000000A   color_0	set	10
 15313             0000000C   scale_0	set	12
 15314                        	.block	2082
 15315                        ;	int x = 0;
 15316                        ;	int y = 0;
 15317                        ;
 15318                        ;	int height = FONTH * scale;
 15319                        ;	int width  = FONTW * scale;
 15320                        ;	
 15321                        ;	int textX = row    * height;
 15322                        ;	int textY = column * width;
 15323                        ;
 15324                        ;	int px   = 0;
 15325                        ;	int py   = 0;
 15326                        ;	int offx = 0;
 15327                        ;	int offy = 0;
 15328                        ;	int sx   = 0;
 15329                        ;	int sy   = 0;
  Mon Sep 27 2021  9:39                                                Page 282


 15330                        ;
 15331                        ;	char b   = 0;
 15332                        ;
 15333                        ;	char FAR* img = NULL;
 15334                        ;
 15335                        ;    if(charCode == 32)
 15336             00000000   x_1	set	0
 15337             00000002   y_1	set	2
 15338             00000004   height_1	set	4
 15339             00000006   width_1	set	6
 15340             00000008   textX_1	set	8
 15341             0000000A   textY_1	set	10
 15342             0000000C   px_1	set	12
 15343             0000000E   py_1	set	14
 15344             00000010   offx_1	set	16
 15345             00000012   offy_1	set	18
 15346             00000014   sx_1	set	20
 15347             00000016   sy_1	set	22
 15348             00000018   b_1	set	24
 15349             00000019   img_1	set	25
 15350                        	.sym	x,0,5,1,16
 15351                        	.sym	y,2,5,1,16
 15352                        	.sym	height,4,5,1,16
 15353                        	.sym	width,6,5,1,16
 15354                        	.sym	textX,8,5,1,16
 15355                        	.sym	textY,10,5,1,16
 15356                        	.sym	px,12,5,1,16
 15357                        	.sym	py,14,5,1,16
 15358                        	.sym	offx,16,5,1,16
 15359                        	.sym	offy,18,5,1,16
 15360                        	.sym	sx,20,5,1,16
 15361                        	.sym	sy,22,5,1,16
 15362                        	.sym	b,24,14,1,8
 15363                        	.sym	img,25,142,1,32
 15364                        	.sym	charCode,4,14,6,8
 15365                        	.sym	row,6,5,6,16
 15366                        	.sym	column,8,5,6,16
 15367                        	.sym	color,10,14,6,8
 15368                        	.sym	scale,12,5,6,16
 15369 06:386F: 64 09        	stz	<L786+x_1
 15370 06:3871: 64 0B        	stz	<L786+y_1
 15371 06:3873: 22 21 86 06  	jsl	~~k_font_getFontHeight
 15372 06:3877: 85 01        	sta	<R0
 15373 06:3879: A5 01        	lda	<R0
 15374 06:387B: A6 31        	ldx	<L785+scale_0
 15375                        	xref	~~~mul
 15376 06:387D: 22 xx xx xx  	jsl	~~~mul
 15377 06:3881: 85 0D        	sta	<L786+height_1
 15378 06:3883: 22 36 86 06  	jsl	~~k_font_getFontWidth
 15379 06:3887: 85 01        	sta	<R0
 15380 06:3889: A5 01        	lda	<R0
 15381 06:388B: A6 31        	ldx	<L785+scale_0
 15382                        	xref	~~~mul
 15383 06:388D: 22 xx xx xx  	jsl	~~~mul
 15384 06:3891: 85 0F        	sta	<L786+width_1
 15385 06:3893: A5 2B        	lda	<L785+row_0
 15386 06:3895: A6 0D        	ldx	<L786+height_1
 15387                        	xref	~~~mul
  Mon Sep 27 2021  9:39                                                Page 283


 15388 06:3897: 22 xx xx xx  	jsl	~~~mul
 15389 06:389B: 85 11        	sta	<L786+textX_1
 15390 06:389D: A5 2D        	lda	<L785+column_0
 15391 06:389F: A6 0F        	ldx	<L786+width_1
 15392                        	xref	~~~mul
 15393 06:38A1: 22 xx xx xx  	jsl	~~~mul
 15394 06:38A5: 85 13        	sta	<L786+textY_1
 15395 06:38A7: 64 15        	stz	<L786+px_1
 15396 06:38A9: 64 17        	stz	<L786+py_1
 15397 06:38AB: 64 19        	stz	<L786+offx_1
 15398 06:38AD: 64 1B        	stz	<L786+offy_1
 15399 06:38AF: 64 1D        	stz	<L786+sx_1
 15400 06:38B1: 64 1F        	stz	<L786+sy_1
 15401 06:38B3: E2 20        	sep	#$20
 15402                        	longa	off
 15403 06:38B5: 64 21        	stz	<L786+b_1
 15404 06:38B7: C2 20        	rep	#$20
 15405                        	longa	on
 15406 06:38B9: 64 22        	stz	<L786+img_1
 15407 06:38BB: 64 24        	stz	<L786+img_1+2
 15408                        	.line	2103
 15409                        ;	{
 15410 06:38BD: E2 20        	sep	#$20
 15411                        	longa	off
 15412 06:38BF: A5 29        	lda	<L785+charCode_0
 15413 06:38C1: C9 20        	cmp	#<$20
 15414 06:38C3: C2 20        	rep	#$20
 15415                        	longa	on
 15416 06:38C5: F0 03        	beq	L788
 15417 06:38C7: 82 07 00     	brl	L10278
 15418                        L788:
 15419                        	.line	2104
 15420                        ;	   img = NULL;
 15421                        	.line	2105
 15422 06:38CA: 64 22        	stz	<L786+img_1
 15423 06:38CC: 64 24        	stz	<L786+img_1+2
 15424                        ;    }
 15425                        	.line	2106
 15426                        ;    else
 15427 06:38CE: 82 31 00     	brl	L10279
 15428                        L10278:
 15429                        ;	{
 15430                        	.line	2108
 15431                        ;	    img = fontImg[charCode & 0xFF];
 15432                        	.line	2109
 15433 06:38D1: A5 29        	lda	<L785+charCode_0
 15434 06:38D3: 29 FF 00     	and	#<$ff
 15435 06:38D6: 85 05        	sta	<R1
 15436 06:38D8: A0 00 00     	ldy	#$0
 15437 06:38DB: A5 05        	lda	<R1
 15438 06:38DD: 10 01        	bpl	L789
 15439 06:38DF: 88           	dey
 15440                        L789:
 15441 06:38E0: 85 05        	sta	<R1
 15442 06:38E2: 84 07        	sty	<R1+2
 15443 06:38E4: D4 07        	pei	<R1+2
 15444 06:38E6: D4 05        	pei	<R1
 15445 06:38E8: A9 06 00     	lda	#$6
  Mon Sep 27 2021  9:39                                                Page 284


 15446                        	xref	~~~lasl
 15447 06:38EB: 22 xx xx xx  	jsl	~~~lasl
 15448 06:38EF: 85 01        	sta	<R0
 15449 06:38F1: 86 03        	stx	<R0+2
 15450 06:38F3: 18           	clc
 15451 06:38F4: A9 xx xx     	lda	#<~~fontImg
 15452 06:38F7: 65 01        	adc	<R0
 15453 06:38F9: 85 22        	sta	<L786+img_1
 15454 06:38FB: A9 xx xx     	lda	#^~~fontImg
 15455 06:38FE: 65 03        	adc	<R0+2
 15456 06:3900: 85 24        	sta	<L786+img_1+2
 15457                        ;	}
 15458                        	.line	2110
 15459                        L10279:
 15460                        ;
 15461                        ;	if(img!=NULL)
 15462                        	.line	2112
 15463                        ;	{
 15464 06:3902: A5 22        	lda	<L786+img_1
 15465 06:3904: 05 24        	ora	<L786+img_1+2
 15466 06:3906: D0 03        	bne	L790
 15467 06:3908: 82 E3 00     	brl	L10280
 15468                        L790:
 15469                        	.line	2113
 15470                        ;		py = 0;
 15471                        	.line	2114
 15472 06:390B: 64 17        	stz	<L786+py_1
 15473                        ;		for (y = 0; y < height; y+=scale) 
 15474                        	.line	2115
 15475 06:390D: 64 0B        	stz	<L786+y_1
 15476 06:390F: 82 CD 00     	brl	L10284
 15477                        L10283:
 15478                        ;		{
 15479                        	.line	2116
 15480                        ;			offy = y;
 15481                        	.line	2117
 15482 06:3912: A5 0B        	lda	<L786+y_1
 15483 06:3914: 85 1B        	sta	<L786+offy_1
 15484                        ;			px = 0;
 15485                        	.line	2118
 15486 06:3916: 64 15        	stz	<L786+px_1
 15487                        ;			for (x = 0; x < width; x+=scale)
                     
 15488                        	.line	2119
 15489 06:3918: 64 09        	stz	<L786+x_1
 15490 06:391A: 82 AA 00     	brl	L10288
 15491                        L10287:
 15492                        ;			{
 15493                        	.line	2120
 15494                        ;				// get the pixel value
 15495                        ;				offx = x;
 15496                        	.line	2122
 15497 06:391D: A5 09        	lda	<L786+x_1
 15498 06:391F: 85 19        	sta	<L786+offx_1
 15499                        ;				b = img[py * FONTW + px]
                    ;
 15500                        	.line	2123
 15501 06:3921: 22 36 86 06  	jsl	~~k_font_getFontWidth
  Mon Sep 27 2021  9:39                                                Page 285


 15502 06:3925: 85 01        	sta	<R0
 15503 06:3927: A5 01        	lda	<R0
 15504 06:3929: A6 17        	ldx	<L786+py_1
 15505                        	xref	~~~mul
 15506 06:392B: 22 xx xx xx  	jsl	~~~mul
 15507 06:392F: 85 01        	sta	<R0
 15508 06:3931: 18           	clc
 15509 06:3932: A5 01        	lda	<R0
 15510 06:3934: 65 15        	adc	<L786+px_1
 15511 06:3936: 85 05        	sta	<R1
 15512 06:3938: E2 20        	sep	#$20
 15513                        	longa	off
 15514 06:393A: A4 05        	ldy	<R1
 15515 06:393C: B7 22        	lda	[<L786+img_1],Y
 15516 06:393E: 85 21        	sta	<L786+b_1
 15517 06:3940: C2 20        	rep	#$20
 15518                        	longa	on
 15519                        ;				if (b > 0) 
 15520                        	.line	2124
 15521                        ;				{ // plot the pixel	
                    				
 15522 06:3942: E2 20        	sep	#$20
 15523                        	longa	off
 15524 06:3944: A9 00        	lda	#$0
 15525 06:3946: C5 21        	cmp	<L786+b_1
 15526 06:3948: C2 20        	rep	#$20
 15527                        	longa	on
 15528 06:394A: 90 03        	bcc	L791
 15529 06:394C: 82 6F 00     	brl	L10289
 15530                        L791:
 15531                        	.line	2125
 15532                        ;					offy = y;
 15533                        	.line	2126
 15534 06:394F: A5 0B        	lda	<L786+y_1
 15535 06:3951: 85 1B        	sta	<L786+offy_1
 15536                        ;					for(sy=0;sy<scal
                    e;sy++)
 15537                        	.line	2127
 15538 06:3953: 64 1F        	stz	<L786+sy_1
 15539 06:3955: 82 54 00     	brl	L10293
 15540                        L10292:
 15541                        ;					{
 15542                        	.line	2128
 15543                        ;						offx = x
                    ;
 15544                        	.line	2129
 15545 06:3958: A5 09        	lda	<L786+x_1
 15546 06:395A: 85 19        	sta	<L786+offx_1
 15547                        ;						for(sx=0
                    ;sx<scale;sx++)
 15548                        	.line	2130
 15549 06:395C: 64 1D        	stz	<L786+sx_1
 15550 06:395E: 82 38 00     	brl	L10297
 15551                        L10296:
 15552                        ;						{
 15553                        	.line	2131
 15554                        ;							
                    k_draw_pixel(textX + offx, textY + offy, color);
  Mon Sep 27 2021  9:39                                                Page 286


 15555                        	.line	2132
 15556 06:3961: D4 2F        	pei	<L785+color_0
 15557 06:3963: 18           	clc
 15558 06:3964: A5 13        	lda	<L786+textY_1
 15559 06:3966: 65 1B        	adc	<L786+offy_1
 15560 06:3968: 85 01        	sta	<R0
 15561 06:396A: A0 00 00     	ldy	#$0
 15562 06:396D: A5 01        	lda	<R0
 15563 06:396F: 10 01        	bpl	L792
 15564 06:3971: 88           	dey
 15565                        L792:
 15566 06:3972: 85 01        	sta	<R0
 15567 06:3974: 84 03        	sty	<R0+2
 15568 06:3976: D4 03        	pei	<R0+2
 15569 06:3978: D4 01        	pei	<R0
 15570 06:397A: 18           	clc
 15571 06:397B: A5 11        	lda	<L786+textX_1
 15572 06:397D: 65 19        	adc	<L786+offx_1
 15573 06:397F: 85 05        	sta	<R1
 15574 06:3981: A0 00 00     	ldy	#$0
 15575 06:3984: A5 05        	lda	<R1
 15576 06:3986: 10 01        	bpl	L793
 15577 06:3988: 88           	dey
 15578                        L793:
 15579 06:3989: 85 05        	sta	<R1
 15580 06:398B: 84 07        	sty	<R1+2
 15581 06:398D: D4 07        	pei	<R1+2
 15582 06:398F: D4 05        	pei	<R1
 15583 06:3991: 22 CD 14 06  	jsl	~~k_draw_pixel
 15584                        ;							
                    offx++;
 15585                        	.line	2133
 15586 06:3995: E6 19        	inc	<L786+offx_1
 15587                        ;						}
 15588                        	.line	2134
 15589                        L10294:
 15590 06:3997: E6 1D        	inc	<L786+sx_1
 15591                        L10297:
 15592 06:3999: 38           	sec
 15593 06:399A: A5 1D        	lda	<L786+sx_1
 15594 06:399C: E5 31        	sbc	<L785+scale_0
 15595 06:399E: 70 03        	bvs	L794
 15596 06:39A0: 49 00 80     	eor	#$8000
 15597                        L794:
 15598 06:39A3: 30 03        	bmi	L795
 15599 06:39A5: 82 B9 FF     	brl	L10296
 15600                        L795:
 15601                        L10295:
 15602                        ;						offy++;
 15603                        	.line	2135
 15604 06:39A8: E6 1B        	inc	<L786+offy_1
 15605                        ;					}
 15606                        	.line	2136
 15607                        L10290:
 15608 06:39AA: E6 1F        	inc	<L786+sy_1
 15609                        L10293:
 15610 06:39AC: 38           	sec
 15611 06:39AD: A5 1F        	lda	<L786+sy_1
  Mon Sep 27 2021  9:39                                                Page 287


 15612 06:39AF: E5 31        	sbc	<L785+scale_0
 15613 06:39B1: 70 03        	bvs	L796
 15614 06:39B3: 49 00 80     	eor	#$8000
 15615                        L796:
 15616 06:39B6: 30 03        	bmi	L797
 15617 06:39B8: 82 9D FF     	brl	L10292
 15618                        L797:
 15619                        L10291:
 15620                        ;					
 15621                        ;					//k_draw_pixel(t
                    extX + x, textY + y, color);
 15622                        ;				}
 15623                        	.line	2139
 15624                        ;				else 
 15625 06:39BB: 82 00 00     	brl	L10298
 15626                        L10289:
 15627                        ;				{ 
 15628                        	.line	2141
 15629                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 15630                        ;				}
 15631                        	.line	2143
 15632                        L10298:
 15633                        ;				px++;
 15634                        	.line	2144
 15635 06:39BE: E6 15        	inc	<L786+px_1
 15636                        ;			} // end "for x"
 15637                        	.line	2145
 15638                        L10285:
 15639 06:39C0: 18           	clc
 15640 06:39C1: A5 09        	lda	<L786+x_1
 15641 06:39C3: 65 31        	adc	<L785+scale_0
 15642 06:39C5: 85 09        	sta	<L786+x_1
 15643                        L10288:
 15644 06:39C7: 38           	sec
 15645 06:39C8: A5 09        	lda	<L786+x_1
 15646 06:39CA: E5 0F        	sbc	<L786+width_1
 15647 06:39CC: 70 03        	bvs	L798
 15648 06:39CE: 49 00 80     	eor	#$8000
 15649                        L798:
 15650 06:39D1: 30 03        	bmi	L799
 15651 06:39D3: 82 47 FF     	brl	L10287
 15652                        L799:
 15653                        L10286:
 15654                        ;			py++;
 15655                        	.line	2146
 15656 06:39D6: E6 17        	inc	<L786+py_1
 15657                        ;		} // end "for y"
 15658                        	.line	2147
 15659                        L10281:
 15660 06:39D8: 18           	clc
 15661 06:39D9: A5 0B        	lda	<L786+y_1
 15662 06:39DB: 65 31        	adc	<L785+scale_0
 15663 06:39DD: 85 0B        	sta	<L786+y_1
 15664                        L10284:
 15665 06:39DF: 38           	sec
 15666 06:39E0: A5 0B        	lda	<L786+y_1
 15667 06:39E2: E5 0D        	sbc	<L786+height_1
  Mon Sep 27 2021  9:39                                                Page 288


 15668 06:39E4: 70 03        	bvs	L800
 15669 06:39E6: 49 00 80     	eor	#$8000
 15670                        L800:
 15671 06:39E9: 30 03        	bmi	L801
 15672 06:39EB: 82 24 FF     	brl	L10283
 15673                        L801:
 15674                        L10282:
 15675                        ;	}
 15676                        	.line	2148
 15677                        ;}
 15678                        L10280:
 15679                        	.line	2149
 15680                        L802:
 15681 06:39EE: A5 27        	lda	<L785+2
 15682 06:39F0: 85 31        	sta	<L785+2+10
 15683 06:39F2: A5 26        	lda	<L785+1
 15684 06:39F4: 85 30        	sta	<L785+1+10
 15685 06:39F6: 2B           	pld
 15686 06:39F7: 3B           	tsc
 15687 06:39F8: 18           	clc
 15688 06:39F9: 69 2F 00     	adc	#L785+10
 15689 06:39FC: 1B           	tcs
 15690 06:39FD: 6B           	rtl
 15691                        	.endblock	2149
 15692             00000025   L785	equ	37
 15693             00000009   L786	equ	9
 15694 06:39FE:              	ends
 15695                        	efunc
 15696                        	.endfunc	2149,9,37
 15697                        	.line	2149
 15698                        ;
 15699                        ;
 15700                        ;void k_draw_char_scaled_point(char charCode,int l
                    ocX,int locY,char color,int scale)
 15701                        ;{
 15702                        	.line	2152
 15703                        	.line	2153
 15704                        	GFX
 15705                        	xdef	~~k_draw_char_scaled_point
 15706                        	func
 15707                        	.function	2153
 15708                        ~~k_draw_char_scaled_point:
 15709                        	longa	on
 15710                        	longi	on
 15711 06:39FE: 3B           	tsc
 15712 06:39FF: 38           	sec
 15713 06:3A00: E9 25 00     	sbc	#L803
 15714 06:3A03: 1B           	tcs
 15715 06:3A04: 0B           	phd
 15716 06:3A05: 5B           	tcd
 15717             00000004   charCode_0	set	4
 15718             00000006   locX_0	set	6
 15719             00000008   locY_0	set	8
 15720             0000000A   color_0	set	10
 15721             0000000C   scale_0	set	12
 15722                        	.block	2153
 15723                        ;	int x = 0;
 15724                        ;	int y = 0;
  Mon Sep 27 2021  9:39                                                Page 289


 15725                        ;
 15726                        ;	int height = FONTH * scale;
 15727                        ;	int width  = FONTW * scale;
 15728                        ;	
 15729                        ;	int textX = locX;
 15730                        ;	int textY = locY;
 15731                        ;
 15732                        ;	int px   = 0;
 15733                        ;	int py   = 0;
 15734                        ;	int offx = 0;
 15735                        ;	int offy = 0;
 15736                        ;	int sx   = 0;
 15737                        ;	int sy   = 0;
 15738                        ;
 15739                        ;	char b   = 0;
 15740                        ;
 15741                        ;	char FAR* img = NULL;
 15742                        ;
 15743                        ;    if(charCode == 32)
 15744             00000000   x_1	set	0
 15745             00000002   y_1	set	2
 15746             00000004   height_1	set	4
 15747             00000006   width_1	set	6
 15748             00000008   textX_1	set	8
 15749             0000000A   textY_1	set	10
 15750             0000000C   px_1	set	12
 15751             0000000E   py_1	set	14
 15752             00000010   offx_1	set	16
 15753             00000012   offy_1	set	18
 15754             00000014   sx_1	set	20
 15755             00000016   sy_1	set	22
 15756             00000018   b_1	set	24
 15757             00000019   img_1	set	25
 15758                        	.sym	x,0,5,1,16
 15759                        	.sym	y,2,5,1,16
 15760                        	.sym	height,4,5,1,16
 15761                        	.sym	width,6,5,1,16
 15762                        	.sym	textX,8,5,1,16
 15763                        	.sym	textY,10,5,1,16
 15764                        	.sym	px,12,5,1,16
 15765                        	.sym	py,14,5,1,16
 15766                        	.sym	offx,16,5,1,16
 15767                        	.sym	offy,18,5,1,16
 15768                        	.sym	sx,20,5,1,16
 15769                        	.sym	sy,22,5,1,16
 15770                        	.sym	b,24,14,1,8
 15771                        	.sym	img,25,142,1,32
 15772                        	.sym	charCode,4,14,6,8
 15773                        	.sym	locX,6,5,6,16
 15774                        	.sym	locY,8,5,6,16
 15775                        	.sym	color,10,14,6,8
 15776                        	.sym	scale,12,5,6,16
 15777 06:3A06: 64 09        	stz	<L804+x_1
 15778 06:3A08: 64 0B        	stz	<L804+y_1
 15779 06:3A0A: 22 21 86 06  	jsl	~~k_font_getFontHeight
 15780 06:3A0E: 85 01        	sta	<R0
 15781 06:3A10: A5 01        	lda	<R0
 15782 06:3A12: A6 31        	ldx	<L803+scale_0
  Mon Sep 27 2021  9:39                                                Page 290


 15783                        	xref	~~~mul
 15784 06:3A14: 22 xx xx xx  	jsl	~~~mul
 15785 06:3A18: 85 0D        	sta	<L804+height_1
 15786 06:3A1A: 22 36 86 06  	jsl	~~k_font_getFontWidth
 15787 06:3A1E: 85 01        	sta	<R0
 15788 06:3A20: A5 01        	lda	<R0
 15789 06:3A22: A6 31        	ldx	<L803+scale_0
 15790                        	xref	~~~mul
 15791 06:3A24: 22 xx xx xx  	jsl	~~~mul
 15792 06:3A28: 85 0F        	sta	<L804+width_1
 15793 06:3A2A: A5 2B        	lda	<L803+locX_0
 15794 06:3A2C: 85 11        	sta	<L804+textX_1
 15795 06:3A2E: A5 2D        	lda	<L803+locY_0
 15796 06:3A30: 85 13        	sta	<L804+textY_1
 15797 06:3A32: 64 15        	stz	<L804+px_1
 15798 06:3A34: 64 17        	stz	<L804+py_1
 15799 06:3A36: 64 19        	stz	<L804+offx_1
 15800 06:3A38: 64 1B        	stz	<L804+offy_1
 15801 06:3A3A: 64 1D        	stz	<L804+sx_1
 15802 06:3A3C: 64 1F        	stz	<L804+sy_1
 15803 06:3A3E: E2 20        	sep	#$20
 15804                        	longa	off
 15805 06:3A40: 64 21        	stz	<L804+b_1
 15806 06:3A42: C2 20        	rep	#$20
 15807                        	longa	on
 15808 06:3A44: 64 22        	stz	<L804+img_1
 15809 06:3A46: 64 24        	stz	<L804+img_1+2
 15810                        	.line	2174
 15811                        ;	{
 15812 06:3A48: E2 20        	sep	#$20
 15813                        	longa	off
 15814 06:3A4A: A5 29        	lda	<L803+charCode_0
 15815 06:3A4C: C9 20        	cmp	#<$20
 15816 06:3A4E: C2 20        	rep	#$20
 15817                        	longa	on
 15818 06:3A50: F0 03        	beq	L806
 15819 06:3A52: 82 07 00     	brl	L10299
 15820                        L806:
 15821                        	.line	2175
 15822                        ;	   img = NULL;
 15823                        	.line	2176
 15824 06:3A55: 64 22        	stz	<L804+img_1
 15825 06:3A57: 64 24        	stz	<L804+img_1+2
 15826                        ;    }
 15827                        	.line	2177
 15828                        ;    else
 15829 06:3A59: 82 31 00     	brl	L10300
 15830                        L10299:
 15831                        ;	{
 15832                        	.line	2179
 15833                        ;	    img = fontImg[charCode & 0xFF];
 15834                        	.line	2180
 15835 06:3A5C: A5 29        	lda	<L803+charCode_0
 15836 06:3A5E: 29 FF 00     	and	#<$ff
 15837 06:3A61: 85 05        	sta	<R1
 15838 06:3A63: A0 00 00     	ldy	#$0
 15839 06:3A66: A5 05        	lda	<R1
 15840 06:3A68: 10 01        	bpl	L807
  Mon Sep 27 2021  9:39                                                Page 291


 15841 06:3A6A: 88           	dey
 15842                        L807:
 15843 06:3A6B: 85 05        	sta	<R1
 15844 06:3A6D: 84 07        	sty	<R1+2
 15845 06:3A6F: D4 07        	pei	<R1+2
 15846 06:3A71: D4 05        	pei	<R1
 15847 06:3A73: A9 06 00     	lda	#$6
 15848                        	xref	~~~lasl
 15849 06:3A76: 22 xx xx xx  	jsl	~~~lasl
 15850 06:3A7A: 85 01        	sta	<R0
 15851 06:3A7C: 86 03        	stx	<R0+2
 15852 06:3A7E: 18           	clc
 15853 06:3A7F: A9 xx xx     	lda	#<~~fontImg
 15854 06:3A82: 65 01        	adc	<R0
 15855 06:3A84: 85 22        	sta	<L804+img_1
 15856 06:3A86: A9 xx xx     	lda	#^~~fontImg
 15857 06:3A89: 65 03        	adc	<R0+2
 15858 06:3A8B: 85 24        	sta	<L804+img_1+2
 15859                        ;	}
 15860                        	.line	2181
 15861                        L10300:
 15862                        ;
 15863                        ;	if(img!=NULL)
 15864                        	.line	2183
 15865                        ;	{
 15866 06:3A8D: A5 22        	lda	<L804+img_1
 15867 06:3A8F: 05 24        	ora	<L804+img_1+2
 15868 06:3A91: D0 03        	bne	L808
 15869 06:3A93: 82 E3 00     	brl	L10301
 15870                        L808:
 15871                        	.line	2184
 15872                        ;		py = 0;
 15873                        	.line	2185
 15874 06:3A96: 64 17        	stz	<L804+py_1
 15875                        ;		for (y = 0; y < height; y+=scale) 
 15876                        	.line	2186
 15877 06:3A98: 64 0B        	stz	<L804+y_1
 15878 06:3A9A: 82 CD 00     	brl	L10305
 15879                        L10304:
 15880                        ;		{
 15881                        	.line	2187
 15882                        ;			offy = y;
 15883                        	.line	2188
 15884 06:3A9D: A5 0B        	lda	<L804+y_1
 15885 06:3A9F: 85 1B        	sta	<L804+offy_1
 15886                        ;			px = 0;
 15887                        	.line	2189
 15888 06:3AA1: 64 15        	stz	<L804+px_1
 15889                        ;			for (x = 0; x < width; x+=scale)
                     
 15890                        	.line	2190
 15891 06:3AA3: 64 09        	stz	<L804+x_1
 15892 06:3AA5: 82 AA 00     	brl	L10309
 15893                        L10308:
 15894                        ;			{
 15895                        	.line	2191
 15896                        ;				// get the pixel value
 15897                        ;				offx = x;
  Mon Sep 27 2021  9:39                                                Page 292


 15898                        	.line	2193
 15899 06:3AA8: A5 09        	lda	<L804+x_1
 15900 06:3AAA: 85 19        	sta	<L804+offx_1
 15901                        ;				b = img[py * FONTW + px]
                    ;
 15902                        	.line	2194
 15903 06:3AAC: 22 36 86 06  	jsl	~~k_font_getFontWidth
 15904 06:3AB0: 85 01        	sta	<R0
 15905 06:3AB2: A5 01        	lda	<R0
 15906 06:3AB4: A6 17        	ldx	<L804+py_1
 15907                        	xref	~~~mul
 15908 06:3AB6: 22 xx xx xx  	jsl	~~~mul
 15909 06:3ABA: 85 01        	sta	<R0
 15910 06:3ABC: 18           	clc
 15911 06:3ABD: A5 01        	lda	<R0
 15912 06:3ABF: 65 15        	adc	<L804+px_1
 15913 06:3AC1: 85 05        	sta	<R1
 15914 06:3AC3: E2 20        	sep	#$20
 15915                        	longa	off
 15916 06:3AC5: A4 05        	ldy	<R1
 15917 06:3AC7: B7 22        	lda	[<L804+img_1],Y
 15918 06:3AC9: 85 21        	sta	<L804+b_1
 15919 06:3ACB: C2 20        	rep	#$20
 15920                        	longa	on
 15921                        ;				if (b > 0) 
 15922                        	.line	2195
 15923                        ;				{ // plot the pixel	
                    				
 15924 06:3ACD: E2 20        	sep	#$20
 15925                        	longa	off
 15926 06:3ACF: A9 00        	lda	#$0
 15927 06:3AD1: C5 21        	cmp	<L804+b_1
 15928 06:3AD3: C2 20        	rep	#$20
 15929                        	longa	on
 15930 06:3AD5: 90 03        	bcc	L809
 15931 06:3AD7: 82 6F 00     	brl	L10310
 15932                        L809:
 15933                        	.line	2196
 15934                        ;					offy = y;
 15935                        	.line	2197
 15936 06:3ADA: A5 0B        	lda	<L804+y_1
 15937 06:3ADC: 85 1B        	sta	<L804+offy_1
 15938                        ;					for(sy=0;sy<scal
                    e;sy++)
 15939                        	.line	2198
 15940 06:3ADE: 64 1F        	stz	<L804+sy_1
 15941 06:3AE0: 82 54 00     	brl	L10314
 15942                        L10313:
 15943                        ;					{
 15944                        	.line	2199
 15945                        ;						offx = x
                    ;
 15946                        	.line	2200
 15947 06:3AE3: A5 09        	lda	<L804+x_1
 15948 06:3AE5: 85 19        	sta	<L804+offx_1
 15949                        ;						for(sx=0
                    ;sx<scale;sx++)
 15950                        	.line	2201
  Mon Sep 27 2021  9:39                                                Page 293


 15951 06:3AE7: 64 1D        	stz	<L804+sx_1
 15952 06:3AE9: 82 38 00     	brl	L10318
 15953                        L10317:
 15954                        ;						{
 15955                        	.line	2202
 15956                        ;							
                    k_draw_pixel(textX + offx, textY + offy, color);
 15957                        	.line	2203
 15958 06:3AEC: D4 2F        	pei	<L803+color_0
 15959 06:3AEE: 18           	clc
 15960 06:3AEF: A5 13        	lda	<L804+textY_1
 15961 06:3AF1: 65 1B        	adc	<L804+offy_1
 15962 06:3AF3: 85 01        	sta	<R0
 15963 06:3AF5: A0 00 00     	ldy	#$0
 15964 06:3AF8: A5 01        	lda	<R0
 15965 06:3AFA: 10 01        	bpl	L810
 15966 06:3AFC: 88           	dey
 15967                        L810:
 15968 06:3AFD: 85 01        	sta	<R0
 15969 06:3AFF: 84 03        	sty	<R0+2
 15970 06:3B01: D4 03        	pei	<R0+2
 15971 06:3B03: D4 01        	pei	<R0
 15972 06:3B05: 18           	clc
 15973 06:3B06: A5 11        	lda	<L804+textX_1
 15974 06:3B08: 65 19        	adc	<L804+offx_1
 15975 06:3B0A: 85 05        	sta	<R1
 15976 06:3B0C: A0 00 00     	ldy	#$0
 15977 06:3B0F: A5 05        	lda	<R1
 15978 06:3B11: 10 01        	bpl	L811
 15979 06:3B13: 88           	dey
 15980                        L811:
 15981 06:3B14: 85 05        	sta	<R1
 15982 06:3B16: 84 07        	sty	<R1+2
 15983 06:3B18: D4 07        	pei	<R1+2
 15984 06:3B1A: D4 05        	pei	<R1
 15985 06:3B1C: 22 CD 14 06  	jsl	~~k_draw_pixel
 15986                        ;							
                    offx++;
 15987                        	.line	2204
 15988 06:3B20: E6 19        	inc	<L804+offx_1
 15989                        ;						}
 15990                        	.line	2205
 15991                        L10315:
 15992 06:3B22: E6 1D        	inc	<L804+sx_1
 15993                        L10318:
 15994 06:3B24: 38           	sec
 15995 06:3B25: A5 1D        	lda	<L804+sx_1
 15996 06:3B27: E5 31        	sbc	<L803+scale_0
 15997 06:3B29: 70 03        	bvs	L812
 15998 06:3B2B: 49 00 80     	eor	#$8000
 15999                        L812:
 16000 06:3B2E: 30 03        	bmi	L813
 16001 06:3B30: 82 B9 FF     	brl	L10317
 16002                        L813:
 16003                        L10316:
 16004                        ;						offy++;
 16005                        	.line	2206
 16006 06:3B33: E6 1B        	inc	<L804+offy_1
  Mon Sep 27 2021  9:39                                                Page 294


 16007                        ;					}
 16008                        	.line	2207
 16009                        L10311:
 16010 06:3B35: E6 1F        	inc	<L804+sy_1
 16011                        L10314:
 16012 06:3B37: 38           	sec
 16013 06:3B38: A5 1F        	lda	<L804+sy_1
 16014 06:3B3A: E5 31        	sbc	<L803+scale_0
 16015 06:3B3C: 70 03        	bvs	L814
 16016 06:3B3E: 49 00 80     	eor	#$8000
 16017                        L814:
 16018 06:3B41: 30 03        	bmi	L815
 16019 06:3B43: 82 9D FF     	brl	L10313
 16020                        L815:
 16021                        L10312:
 16022                        ;					
 16023                        ;					//k_draw_pixel(t
                    extX + x, textY + y, color);
 16024                        ;				}
 16025                        	.line	2210
 16026                        ;				else 
 16027 06:3B46: 82 00 00     	brl	L10319
 16028                        L10310:
 16029                        ;				{ 
 16030                        	.line	2212
 16031                        ;					// leave empty (
                    or maybe plot 'text backgr color')
 16032                        ;				}
 16033                        	.line	2214
 16034                        L10319:
 16035                        ;				px++;
 16036                        	.line	2215
 16037 06:3B49: E6 15        	inc	<L804+px_1
 16038                        ;			} // end "for x"
 16039                        	.line	2216
 16040                        L10306:
 16041 06:3B4B: 18           	clc
 16042 06:3B4C: A5 09        	lda	<L804+x_1
 16043 06:3B4E: 65 31        	adc	<L803+scale_0
 16044 06:3B50: 85 09        	sta	<L804+x_1
 16045                        L10309:
 16046 06:3B52: 38           	sec
 16047 06:3B53: A5 09        	lda	<L804+x_1
 16048 06:3B55: E5 0F        	sbc	<L804+width_1
 16049 06:3B57: 70 03        	bvs	L816
 16050 06:3B59: 49 00 80     	eor	#$8000
 16051                        L816:
 16052 06:3B5C: 30 03        	bmi	L817
 16053 06:3B5E: 82 47 FF     	brl	L10308
 16054                        L817:
 16055                        L10307:
 16056                        ;			py++;
 16057                        	.line	2217
 16058 06:3B61: E6 17        	inc	<L804+py_1
 16059                        ;		} // end "for y"
 16060                        	.line	2218
 16061                        L10302:
 16062 06:3B63: 18           	clc
  Mon Sep 27 2021  9:39                                                Page 295


 16063 06:3B64: A5 0B        	lda	<L804+y_1
 16064 06:3B66: 65 31        	adc	<L803+scale_0
 16065 06:3B68: 85 0B        	sta	<L804+y_1
 16066                        L10305:
 16067 06:3B6A: 38           	sec
 16068 06:3B6B: A5 0B        	lda	<L804+y_1
 16069 06:3B6D: E5 0D        	sbc	<L804+height_1
 16070 06:3B6F: 70 03        	bvs	L818
 16071 06:3B71: 49 00 80     	eor	#$8000
 16072                        L818:
 16073 06:3B74: 30 03        	bmi	L819
 16074 06:3B76: 82 24 FF     	brl	L10304
 16075                        L819:
 16076                        L10303:
 16077                        ;	}
 16078                        	.line	2219
 16079                        ;}
 16080                        L10301:
 16081                        	.line	2220
 16082                        L820:
 16083 06:3B79: A5 27        	lda	<L803+2
 16084 06:3B7B: 85 31        	sta	<L803+2+10
 16085 06:3B7D: A5 26        	lda	<L803+1
 16086 06:3B7F: 85 30        	sta	<L803+1+10
 16087 06:3B81: 2B           	pld
 16088 06:3B82: 3B           	tsc
 16089 06:3B83: 18           	clc
 16090 06:3B84: 69 2F 00     	adc	#L803+10
 16091 06:3B87: 1B           	tcs
 16092 06:3B88: 6B           	rtl
 16093                        	.endblock	2220
 16094             00000025   L803	equ	37
 16095             00000009   L804	equ	9
 16096 06:3B89:              	ends
 16097                        	efunc
 16098                        	.endfunc	2220,9,37
 16099                        	.line	2220
 16100                        ;
 16101                        ;/*
 16102                        ;void k_render_bitmap_info(int fcolor)
 16103                        ;{
 16104                        ;	int x;
 16105                        ;	int y;
 16106                        ;	int pos = 0;
 16107                        ;	int i = 0;
 16108                        ;	int k = 0;
 16109                        ;	int cv = 0;
 16110                        ;	int cl = 0;
 16111                        ;	int lv = 0;
 16112                        ;	int lm = 0;
 16113                        ;	int bx = 0;
 16114                        ;	int by = 0;
 16115                        ;	int mx = -1;
 16116                        ;	int my = -1;
 16117                        ;	int mb = -1;
 16118                        ;	int bw = 0;
 16119                        ;	int bh = 0;
 16120                        ;	char kbchar = 0;
  Mon Sep 27 2021  9:39                                                Page 296


 16121                        ;
 16122                        ;	version_title = "Version 1.0.0\0";
 16123                        ;
 16124                        ;
 16125                        ;	pos=2;
 16126                        ;	pos=k_put_draw_text(pos,35,"FOENIX C256 VERSION:
                    ",fcolor,0);
 16127                        ;	k_get_c256_major_version(buffer);
 16128                        ;	pos=k_put_draw_text(pos,35,buffer,fcolor,0);
 16129                        ;	k_get_c256_minor_version(buffer);
 16130                        ;	pos=k_put_draw_text(pos,35,buffer,fcolor,0);
 16131                        ;	
 16132                        ;	pos=2;
 16133                        ;	pos=k_put_draw_text(pos,37,"FPGA VERSION:",fcolo
                    r,0);
 16134                        ;	k_get_fpga_date_month(buffer);
 16135                        ;	pos=k_put_draw_text(pos,37,k_pad_string(strbuf,b
                    uffer,'0',2),fcolor,0);
 16136                        ;	pos=k_put_draw_text(pos,37,"/",fcolor,0);
 16137                        ;	k_get_fpga_date_day(buffer);
 16138                        ;	pos=k_put_draw_text(pos,37,k_pad_string(strbuf,b
                    uffer,'0',2),fcolor,0);
 16139                        ;	pos=k_put_draw_text(pos,37,"/",fcolor,0);
 16140                        ;	k_get_fpga_date_year(buffer);
 16141                        ;	pos=k_put_draw_text(pos,37,k_pad_string(strbuf,b
                    uffer,'0',2),fcolor,0);
 16142                        ;
 16143                        ;
 16144                        ;	pos = 2;
 16145                        ;	pos=k_put_draw_text(pos,2,"CURRENT COLOR:",15,0)
                    ;
 16146                        ;	k_itoa(fcolor,buffer,10);
 16147                        ;	pos=k_put_draw_text(pos,2,buffer,15,0);
 16148                        ;
 16149                        ;	pos = 2;
 16150                        ;	k_draw_pixel(0,0,fcolor);
 16151                        ;	pos=k_put_draw_text(pos,3,"READ COLOR AT 0,0 :",
                    15,0);
 16152                        ;	k_itoa(k_get_pixel_color(0,0),buffer,10);
 16153                        ;	pos=k_put_draw_text(pos,3,buffer,15,0);
 16154                        ;
 16155                        ;
 16156                        ;
 16157                        ;	pos = 2;
 16158                        ;	pos=k_put_draw_text(pos,41,"SIZEOF CHAR:",fcolor
                    ,0);
 16159                        ;	k_itoa(sizeof(char),buffer,10);
 16160                        ;	pos=k_put_draw_text(pos,41,buffer,fcolor,0);
 16161                        ;
 16162                        ;	pos = 2;
 16163                        ;	pos=k_put_draw_text(pos,42,"SIZEOF INT:",fcolor,
                    0);
 16164                        ;	k_itoa(sizeof(int),buffer,10);
 16165                        ;	pos=k_put_draw_text(pos,42,buffer,fcolor,0);
 16166                        ;
 16167                        ;	pos = 2;
 16168                        ;	pos=k_put_draw_text(pos,43,"SIZEOF LONG:",fcolor
                    ,0);
  Mon Sep 27 2021  9:39                                                Page 297


 16169                        ;	k_itoa(sizeof(long),buffer,10);
 16170                        ;	pos=k_put_draw_text(pos,43,buffer,fcolor,0);
 16171                        ;
 16172                        ;	pos = 2;
 16173                        ;	pos=k_put_draw_text(pos,44,"SIZEOF CHAR*:",fcolo
                    r,0);
 16174                        ;	k_itoa(sizeof(char*),buffer,10);
 16175                        ;	pos=k_put_draw_text(pos,44,buffer,fcolor,0);
 16176                        ;
 16177                        ;	pos = 2;
 16178                        ;	pos=k_put_draw_text(pos,45,"SIZEOF CHAR FAR*:",f
                    color,0);
 16179                        ;	k_itoa(sizeof(char FAR*),buffer,10);
 16180                        ;	pos=k_put_draw_text(pos,45,buffer,fcolor,0);
 16181                        ;
 16182                        ;
 16183                        ;	pos = 2;
 16184                        ;	pos=k_put_draw_text(pos,46,"SIZEOF UINT:",fcolor
                    ,0);
 16185                        ;	k_itoa(sizeof(unsigned int),buffer,10);
 16186                        ;	pos=k_put_draw_text(pos,46,buffer,fcolor,0);
 16187                        ;
 16188                        ;	pos = 2;
 16189                        ;	pos=k_put_draw_text(pos,47,"SIZEOF ULONG:",fcolo
                    r,0);
 16190                        ;	k_itoa(sizeof(unsigned long),buffer,10);
 16191                        ;	pos=k_put_draw_text(pos,47,buffer,fcolor,0);
 16192                        ;
 16193                        ;}
 16194                        ;*/
 16195                        ;void k_draw_lines(void)
 16196                        ;{
 16197                        	.line	2316
 16198                        	.line	2317
 16199                        	GFX
 16200                        	xdef	~~k_draw_lines
 16201                        	func
 16202                        	.function	2317
 16203                        ~~k_draw_lines:
 16204                        	longa	on
 16205                        	longi	on
 16206 06:3B89: 3B           	tsc
 16207 06:3B8A: 38           	sec
 16208 06:3B8B: E9 0A 00     	sbc	#L821
 16209 06:3B8E: 1B           	tcs
 16210 06:3B8F: 0B           	phd
 16211 06:3B90: 5B           	tcd
 16212                        	.block	2317
 16213                        ;	int dx = 0;
 16214                        ;	int dy = 0;
 16215                        ;	int bc = 1;	
 16216                        ;	int dx0 = 0;
 16217                        ;	int dy0 = 0;
 16218                        ;	
 16219                        ;	for(dy=0;dy<480;dy+=5)
 16220             00000000   dx_1	set	0
 16221             00000002   dy_1	set	2
 16222             00000004   bc_1	set	4
  Mon Sep 27 2021  9:39                                                Page 298


 16223             00000006   dx0_1	set	6
 16224             00000008   dy0_1	set	8
 16225                        	.sym	dx,0,5,1,16
 16226                        	.sym	dy,2,5,1,16
 16227                        	.sym	bc,4,5,1,16
 16228                        	.sym	dx0,6,5,1,16
 16229                        	.sym	dy0,8,5,1,16
 16230 06:3B91: 64 01        	stz	<L822+dx_1
 16231 06:3B93: 64 03        	stz	<L822+dy_1
 16232 06:3B95: A9 01 00     	lda	#$1
 16233 06:3B98: 85 05        	sta	<L822+bc_1
 16234 06:3B9A: 64 07        	stz	<L822+dx0_1
 16235 06:3B9C: 64 09        	stz	<L822+dy0_1
 16236                        	.line	2324
 16237 06:3B9E: 64 03        	stz	<L822+dy_1
 16238                        L10322:
 16239                        ;	{
 16240                        	.line	2325
 16241                        ;		//if(dx0!=0 && dy0!=0)
 16242                        ;		//	k_draw_line(0,dy0,dx0,479,0);
 16243                        ;		
 16244                        ;		k_draw_line(0,dy,dx,479,bc);
 16245                        	.line	2329
 16246 06:3BA0: D4 05        	pei	<L822+bc_1
 16247 06:3BA2: F4 DF 01     	pea	#<$1df
 16248 06:3BA5: D4 01        	pei	<L822+dx_1
 16249 06:3BA7: D4 03        	pei	<L822+dy_1
 16250 06:3BA9: F4 00 00     	pea	#<$0
 16251 06:3BAC: 22 69 1D 06  	jsl	~~k_draw_line
 16252                        ;
 16253                        ;		dx0 = dx;
 16254                        	.line	2331
 16255 06:3BB0: A5 01        	lda	<L822+dx_1
 16256 06:3BB2: 85 07        	sta	<L822+dx0_1
 16257                        ;		dy0 = dy;
 16258                        	.line	2332
 16259 06:3BB4: A5 03        	lda	<L822+dy_1
 16260 06:3BB6: 85 09        	sta	<L822+dy0_1
 16261                        ;		
 16262                        ;		dx+=5;
 16263                        	.line	2334
 16264 06:3BB8: 18           	clc
 16265 06:3BB9: A9 05 00     	lda	#$5
 16266 06:3BBC: 65 01        	adc	<L822+dx_1
 16267 06:3BBE: 85 01        	sta	<L822+dx_1
 16268                        ;		bc++;
 16269                        	.line	2335
 16270 06:3BC0: E6 05        	inc	<L822+bc_1
 16271                        ;		if(bc > 15)
 16272                        	.line	2336
 16273                        ;			bc = 1;
 16274 06:3BC2: 38           	sec
 16275 06:3BC3: A9 0F 00     	lda	#$f
 16276 06:3BC6: E5 05        	sbc	<L822+bc_1
 16277 06:3BC8: 70 03        	bvs	L824
 16278 06:3BCA: 49 00 80     	eor	#$8000
 16279                        L824:
 16280 06:3BCD: 10 03        	bpl	L825
  Mon Sep 27 2021  9:39                                                Page 299


 16281 06:3BCF: 82 05 00     	brl	L10323
 16282                        L825:
 16283                        	.line	2337
 16284 06:3BD2: A9 01 00     	lda	#$1
 16285 06:3BD5: 85 05        	sta	<L822+bc_1
 16286                        ;		
 16287                        ;		
 16288                        ;	}
 16289                        L10323:
 16290                        	.line	2340
 16291                        L10320:
 16292 06:3BD7: 18           	clc
 16293 06:3BD8: A9 05 00     	lda	#$5
 16294 06:3BDB: 65 03        	adc	<L822+dy_1
 16295 06:3BDD: 85 03        	sta	<L822+dy_1
 16296 06:3BDF: 38           	sec
 16297 06:3BE0: A5 03        	lda	<L822+dy_1
 16298 06:3BE2: E9 E0 01     	sbc	#<$1e0
 16299 06:3BE5: 70 03        	bvs	L826
 16300 06:3BE7: 49 00 80     	eor	#$8000
 16301                        L826:
 16302 06:3BEA: 30 03        	bmi	L827
 16303 06:3BEC: 82 B1 FF     	brl	L10322
 16304                        L827:
 16305                        L10321:
 16306                        ;
 16307                        ;
 16308                        ;	dx=479;
 16309                        	.line	2343
 16310 06:3BEF: A9 DF 01     	lda	#$1df
 16311 06:3BF2: 85 01        	sta	<L822+dx_1
 16312                        ;	bc = 1;
 16313                        	.line	2344
 16314 06:3BF4: A9 01 00     	lda	#$1
 16315 06:3BF7: 85 05        	sta	<L822+bc_1
 16316                        ;	for(dy=479;dy>=0;dy-=5)
 16317                        	.line	2345
 16318 06:3BF9: A9 DF 01     	lda	#$1df
 16319 06:3BFC: 85 03        	sta	<L822+dy_1
 16320                        L10326:
 16321                        ;	{
 16322                        	.line	2346
 16323                        ;		
 16324                        ;		//if(dx!=480 && dy!=480)
 16325                        ;		//	k_draw_line(640,dy,dx,0,15);
 16326                        ;		
 16327                        ;		k_draw_line(639,dy,dx,0,bc);
 16328                        	.line	2351
 16329 06:3BFE: D4 05        	pei	<L822+bc_1
 16330 06:3C00: F4 00 00     	pea	#<$0
 16331 06:3C03: D4 01        	pei	<L822+dx_1
 16332 06:3C05: D4 03        	pei	<L822+dy_1
 16333 06:3C07: F4 7F 02     	pea	#<$27f
 16334 06:3C0A: 22 69 1D 06  	jsl	~~k_draw_line
 16335                        ;		
 16336                        ;		dx-=5;
 16337                        	.line	2353
 16338 06:3C0E: 18           	clc
  Mon Sep 27 2021  9:39                                                Page 300


 16339 06:3C0F: A9 FB FF     	lda	#$fffb
 16340 06:3C12: 65 01        	adc	<L822+dx_1
 16341 06:3C14: 85 01        	sta	<L822+dx_1
 16342                        ;		bc++;
 16343                        	.line	2354
 16344 06:3C16: E6 05        	inc	<L822+bc_1
 16345                        ;		if(bc > 15)
 16346                        	.line	2355
 16347                        ;			bc = 1;
 16348 06:3C18: 38           	sec
 16349 06:3C19: A9 0F 00     	lda	#$f
 16350 06:3C1C: E5 05        	sbc	<L822+bc_1
 16351 06:3C1E: 70 03        	bvs	L828
 16352 06:3C20: 49 00 80     	eor	#$8000
 16353                        L828:
 16354 06:3C23: 10 03        	bpl	L829
 16355 06:3C25: 82 05 00     	brl	L10327
 16356                        L829:
 16357                        	.line	2356
 16358 06:3C28: A9 01 00     	lda	#$1
 16359 06:3C2B: 85 05        	sta	<L822+bc_1
 16360                        ;	}
 16361                        L10327:
 16362                        	.line	2357
 16363                        L10324:
 16364 06:3C2D: 18           	clc
 16365 06:3C2E: A9 FB FF     	lda	#$fffb
 16366 06:3C31: 65 03        	adc	<L822+dy_1
 16367 06:3C33: 85 03        	sta	<L822+dy_1
 16368 06:3C35: A5 03        	lda	<L822+dy_1
 16369 06:3C37: 30 03        	bmi	L830
 16370 06:3C39: 82 C2 FF     	brl	L10326
 16371                        L830:
 16372                        L10325:
 16373                        ;	
 16374                        ;	/*
 16375                        ;	for(x=0;x<640;x+=10)
 16376                        ;	{
 16377                        ;		
 16378                        ;		for(y=0;y<480;y+=10)
 16379                        ;		{
 16380                        ;			if(x!=0 && y!=0)
 16381                        ;				k_draw_line(x,y,640 - x,
                    480 - y,0);
 16382                        ;			k_draw_line(x,y,640 - x,480 - y,
                    15);
 16383                        ;		}
 16384                        ;		
 16385                        ;	}
 16386                        ;	*/
 16387                        ;}
 16388                        	.line	2372
 16389                        L831:
 16390 06:3C3C: 2B           	pld
 16391 06:3C3D: 3B           	tsc
 16392 06:3C3E: 18           	clc
 16393 06:3C3F: 69 0A 00     	adc	#L821
 16394 06:3C42: 1B           	tcs
  Mon Sep 27 2021  9:39                                                Page 301


 16395 06:3C43: 6B           	rtl
 16396                        	.endblock	2372
 16397             0000000A   L821	equ	10
 16398             00000001   L822	equ	1
 16399 06:3C44:              	ends
 16400                        	efunc
 16401                        	.endfunc	2372,1,10
 16402                        	.line	2372
 16403                        ;
 16404                        ;void k_draw_fontset(void)
 16405                        ;{
 16406                        	.line	2374
 16407                        	.line	2375
 16408                        	GFX
 16409                        	xdef	~~k_draw_fontset
 16410                        	func
 16411                        	.function	2375
 16412                        ~~k_draw_fontset:
 16413                        	longa	on
 16414                        	longi	on
 16415 06:3C44: 3B           	tsc
 16416 06:3C45: 38           	sec
 16417 06:3C46: E9 0B 00     	sbc	#L832
 16418 06:3C49: 1B           	tcs
 16419 06:3C4A: 0B           	phd
 16420 06:3C4B: 5B           	tcd
 16421                        	.block	2375
 16422                        ;	int bx = 0;
 16423                        ;	int by = 29; 
 16424                        ;	int bc = 15;
 16425                        ;	char bf = 1;
 16426                        ;	
 16427                        ;	for(bf=0;bf<64;bf++)
 16428             00000000   bx_1	set	0
 16429             00000002   by_1	set	2
 16430             00000004   bc_1	set	4
 16431             00000006   bf_1	set	6
 16432                        	.sym	bx,0,5,1,16
 16433                        	.sym	by,2,5,1,16
 16434                        	.sym	bc,4,5,1,16
 16435                        	.sym	bf,6,14,1,8
 16436 06:3C4C: 64 05        	stz	<L833+bx_1
 16437 06:3C4E: A9 1D 00     	lda	#$1d
 16438 06:3C51: 85 07        	sta	<L833+by_1
 16439 06:3C53: A9 0F 00     	lda	#$f
 16440 06:3C56: 85 09        	sta	<L833+bc_1
 16441 06:3C58: E2 20        	sep	#$20
 16442                        	longa	off
 16443 06:3C5A: A9 01        	lda	#$1
 16444 06:3C5C: 85 0B        	sta	<L833+bf_1
 16445 06:3C5E: C2 20        	rep	#$20
 16446                        	longa	on
 16447                        	.line	2381
 16448 06:3C60: E2 20        	sep	#$20
 16449                        	longa	off
 16450 06:3C62: 64 0B        	stz	<L833+bf_1
 16451 06:3C64: C2 20        	rep	#$20
 16452                        	longa	on
  Mon Sep 27 2021  9:39                                                Page 302


 16453 06:3C66: 82 81 00     	brl	L10331
 16454                        L10330:
 16455                        ;	{
 16456                        	.line	2382
 16457                        ;		k_draw_char((char)bf*1,bx,by,bc);
 16458                        	.line	2383
 16459 06:3C69: D4 09        	pei	<L833+bc_1
 16460 06:3C6B: D4 07        	pei	<L833+by_1
 16461 06:3C6D: D4 05        	pei	<L833+bx_1
 16462 06:3C6F: A5 0B        	lda	<L833+bf_1
 16463 06:3C71: 29 FF 00     	and	#$ff
 16464 06:3C74: 48           	pha
 16465 06:3C75: 22 42 37 06  	jsl	~~k_draw_char
 16466                        ;		k_draw_char((char)bf+64,bx,by + 1,bc);
 16467                        	.line	2384
 16468 06:3C79: D4 09        	pei	<L833+bc_1
 16469 06:3C7B: A5 07        	lda	<L833+by_1
 16470 06:3C7D: 1A           	ina
 16471 06:3C7E: 48           	pha
 16472 06:3C7F: D4 05        	pei	<L833+bx_1
 16473 06:3C81: A5 0B        	lda	<L833+bf_1
 16474 06:3C83: 29 FF 00     	and	#$ff
 16475 06:3C86: 85 01        	sta	<R0
 16476 06:3C88: 18           	clc
 16477 06:3C89: A9 40 00     	lda	#$40
 16478 06:3C8C: 65 01        	adc	<R0
 16479 06:3C8E: 48           	pha
 16480 06:3C8F: 22 42 37 06  	jsl	~~k_draw_char
 16481                        ;		k_draw_char((char)bf+128,bx,by + 2,bc);
 16482                        	.line	2385
 16483 06:3C93: D4 09        	pei	<L833+bc_1
 16484 06:3C95: 18           	clc
 16485 06:3C96: A9 02 00     	lda	#$2
 16486 06:3C99: 65 07        	adc	<L833+by_1
 16487 06:3C9B: 48           	pha
 16488 06:3C9C: D4 05        	pei	<L833+bx_1
 16489 06:3C9E: A5 0B        	lda	<L833+bf_1
 16490 06:3CA0: 29 FF 00     	and	#$ff
 16491 06:3CA3: 85 01        	sta	<R0
 16492 06:3CA5: 18           	clc
 16493 06:3CA6: A9 80 00     	lda	#$80
 16494 06:3CA9: 65 01        	adc	<R0
 16495 06:3CAB: 48           	pha
 16496 06:3CAC: 22 42 37 06  	jsl	~~k_draw_char
 16497                        ;		k_draw_char((char)bf+192,bx,by + 3,bc);
 16498                        	.line	2386
 16499 06:3CB0: D4 09        	pei	<L833+bc_1
 16500 06:3CB2: 18           	clc
 16501 06:3CB3: A9 03 00     	lda	#$3
 16502 06:3CB6: 65 07        	adc	<L833+by_1
 16503 06:3CB8: 48           	pha
 16504 06:3CB9: D4 05        	pei	<L833+bx_1
 16505 06:3CBB: A5 0B        	lda	<L833+bf_1
 16506 06:3CBD: 29 FF 00     	and	#$ff
 16507 06:3CC0: 85 01        	sta	<R0
 16508 06:3CC2: 18           	clc
 16509 06:3CC3: A9 C0 00     	lda	#$c0
 16510 06:3CC6: 65 01        	adc	<R0
  Mon Sep 27 2021  9:39                                                Page 303


 16511 06:3CC8: 48           	pha
 16512 06:3CC9: 22 42 37 06  	jsl	~~k_draw_char
 16513                        ;
 16514                        ;
 16515                        ;		if(bc > 15)
 16516                        	.line	2389
 16517                        ;			bc = 1;
 16518 06:3CCD: 38           	sec
 16519 06:3CCE: A9 0F 00     	lda	#$f
 16520 06:3CD1: E5 09        	sbc	<L833+bc_1
 16521 06:3CD3: 70 03        	bvs	L835
 16522 06:3CD5: 49 00 80     	eor	#$8000
 16523                        L835:
 16524 06:3CD8: 10 03        	bpl	L836
 16525 06:3CDA: 82 05 00     	brl	L10332
 16526                        L836:
 16527                        	.line	2390
 16528 06:3CDD: A9 01 00     	lda	#$1
 16529 06:3CE0: 85 09        	sta	<L833+bc_1
 16530                        ;		
 16531                        ;		bx++;
 16532                        L10332:
 16533                        	.line	2392
 16534 06:3CE2: E6 05        	inc	<L833+bx_1
 16535                        ;	}
 16536                        	.line	2393
 16537                        L10328:
 16538 06:3CE4: E2 20        	sep	#$20
 16539                        	longa	off
 16540 06:3CE6: E6 0B        	inc	<L833+bf_1
 16541 06:3CE8: C2 20        	rep	#$20
 16542                        	longa	on
 16543                        L10331:
 16544 06:3CEA: E2 20        	sep	#$20
 16545                        	longa	off
 16546 06:3CEC: A5 0B        	lda	<L833+bf_1
 16547 06:3CEE: C9 40        	cmp	#<$40
 16548 06:3CF0: C2 20        	rep	#$20
 16549                        	longa	on
 16550 06:3CF2: B0 03        	bcs	L837
 16551 06:3CF4: 82 72 FF     	brl	L10330
 16552                        L837:
 16553                        L10329:
 16554                        ;
 16555                        ;}
 16556                        	.line	2395
 16557                        L838:
 16558 06:3CF7: 2B           	pld
 16559 06:3CF8: 3B           	tsc
 16560 06:3CF9: 18           	clc
 16561 06:3CFA: 69 0B 00     	adc	#L832
 16562 06:3CFD: 1B           	tcs
 16563 06:3CFE: 6B           	rtl
 16564                        	.endblock	2395
 16565             0000000B   L832	equ	11
 16566             00000005   L833	equ	5
 16567 06:3CFF:              	ends
 16568                        	efunc
  Mon Sep 27 2021  9:39                                                Page 304


 16569                        	.endfunc	2395,5,11
 16570                        	.line	2395
 16571                        ;
 16572                        ;/*
 16573                        ;void k_fill_bank(int bankId,char fcolor)
 16574                        ;{
 16575                        ;	long fill = 0xffffL;
 16576                        ;	
 16577                        ;	if(bankId == 0)
 16578                        ;	{
 16579                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    0,fcolor + 0,fill);
 16580                        ;		((unsigned char FAR *)BITMAP_BANK_0)[fil
                    l] = fcolor;
 16581                        ;	}
 16582                        ;	else if(bankId == 1)
 16583                        ;	{
 16584                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    1,fcolor + 0,fill);
 16585                        ;		((unsigned char FAR *)BITMAP_BANK_1)[fil
                    l] = fcolor;
 16586                        ;	}
 16587                        ;	else if(bankId == 2)
 16588                        ;	{
 16589                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    2,fcolor + 0,fill);
 16590                        ;		((unsigned char FAR *)BITMAP_BANK_2)[fil
                    l] = fcolor;
 16591                        ;	}
 16592                        ;	else if(bankId == 3)
 16593                        ;	{
 16594                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    3,fcolor + 0,fill);
 16595                        ;		((unsigned char FAR *)BITMAP_BANK_3)[fil
                    l] = fcolor;
 16596                        ;	}
 16597                        ;	else if(bankId == 4)
 16598                        ;	{
 16599                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    4,fcolor + 0,fill);
 16600                        ;		((unsigned char FAR *)BITMAP_BANK_4)[fil
                    l] = fcolor;
 16601                        ;	}
 16602                        ;	else if(bankId == 5)
 16603                        ;	{
 16604                        ;		memset((unsigned char FAR *)BITMAP_BANK_
                    5,fcolor + 0,fill);
 16605                        ;		((unsigned char FAR *)BITMAP_BANK_5)[fil
                    l] = fcolor;
 16606                        ;	}
 16607                        ;
 16608                        ;}
 16609                        ;*/
 16610                        ;
 16611                        ;
 16612                        ;
 16613                        ;void k_fill_line(int cx,int cy,int width,int colo
                    r)
  Mon Sep 27 2021  9:39                                                Page 305


 16614                        ;{
 16615                        	.line	2438
 16616                        	.line	2439
 16617                        	GFX
 16618                        	xdef	~~k_fill_line
 16619                        	func
 16620                        	.function	2439
 16621                        ~~k_fill_line:
 16622                        	longa	on
 16623                        	longi	on
 16624 06:3CFF: 3B           	tsc
 16625 06:3D00: 38           	sec
 16626 06:3D01: E9 0C 00     	sbc	#L839
 16627 06:3D04: 1B           	tcs
 16628 06:3D05: 0B           	phd
 16629 06:3D06: 5B           	tcd
 16630             00000004   cx_0	set	4
 16631             00000006   cy_0	set	6
 16632             00000008   width_0	set	8
 16633             0000000A   color_0	set	10
 16634                        	.block	2439
 16635                        ;
 16636                        ;	long locStart = (long)(( ((long)cy) * 640L) + ((
                    long)cx) );
 16637                        ;	memset(&(((unsigned char FAR *)BITMAP_BANK_0)[lo
                    cStart]),color,width);
 16638             00000000   locStart_1	set	0
 16639                        	.sym	locStart,0,7,1,32
 16640                        	.sym	cx,4,5,6,16
 16641                        	.sym	cy,6,5,6,16
 16642                        	.sym	width,8,5,6,16
 16643                        	.sym	color,10,5,6,16
 16644 06:3D07: A0 00 00     	ldy	#$0
 16645 06:3D0A: A5 10        	lda	<L839+cx_0
 16646 06:3D0C: 10 01        	bpl	L842
 16647 06:3D0E: 88           	dey
 16648                        L842:
 16649 06:3D0F: 85 01        	sta	<R0
 16650 06:3D11: 84 03        	sty	<R0+2
 16651 06:3D13: A0 00 00     	ldy	#$0
 16652 06:3D16: A5 12        	lda	<L839+cy_0
 16653 06:3D18: 10 01        	bpl	L843
 16654 06:3D1A: 88           	dey
 16655                        L843:
 16656 06:3D1B: 85 05        	sta	<R1
 16657 06:3D1D: 84 07        	sty	<R1+2
 16658 06:3D1F: F4 00 00     	pea	#^$280
 16659 06:3D22: F4 80 02     	pea	#<$280
 16660 06:3D25: D4 07        	pei	<R1+2
 16661 06:3D27: D4 05        	pei	<R1
 16662                        	xref	~~~lmul
 16663 06:3D29: 22 xx xx xx  	jsl	~~~lmul
 16664 06:3D2D: 85 05        	sta	<R1
 16665 06:3D2F: 86 07        	stx	<R1+2
 16666 06:3D31: 18           	clc
 16667 06:3D32: A5 05        	lda	<R1
 16668 06:3D34: 65 01        	adc	<R0
 16669 06:3D36: 85 09        	sta	<L840+locStart_1
  Mon Sep 27 2021  9:39                                                Page 306


 16670 06:3D38: A5 07        	lda	<R1+2
 16671 06:3D3A: 65 03        	adc	<R0+2
 16672 06:3D3C: 85 0B        	sta	<L840+locStart_1+2
 16673                        	.line	2442
 16674 06:3D3E: D4 14        	pei	<L839+width_0
 16675 06:3D40: D4 16        	pei	<L839+color_0
 16676 06:3D42: 18           	clc
 16677 06:3D43: A9 00 00     	lda	#$0
 16678 06:3D46: 65 09        	adc	<L840+locStart_1
 16679 06:3D48: 85 01        	sta	<R0
 16680 06:3D4A: A9 B0 00     	lda	#$b0
 16681 06:3D4D: 65 0B        	adc	<L840+locStart_1+2
 16682 06:3D4F: 85 03        	sta	<R0+2
 16683 06:3D51: D4 03        	pei	<R0+2
 16684 06:3D53: D4 01        	pei	<R0
 16685 06:3D55: 22 xx xx xx  	jsl	~~memset
 16686                        ;}
 16687                        	.line	2443
 16688                        L844:
 16689 06:3D59: A5 0E        	lda	<L839+2
 16690 06:3D5B: 85 16        	sta	<L839+2+8
 16691 06:3D5D: A5 0D        	lda	<L839+1
 16692 06:3D5F: 85 15        	sta	<L839+1+8
 16693 06:3D61: 2B           	pld
 16694 06:3D62: 3B           	tsc
 16695 06:3D63: 18           	clc
 16696 06:3D64: 69 14 00     	adc	#L839+8
 16697 06:3D67: 1B           	tcs
 16698 06:3D68: 6B           	rtl
 16699                        	.endblock	2443
 16700             0000000C   L839	equ	12
 16701             00000009   L840	equ	9
 16702 06:3D69:              	ends
 16703                        	efunc
 16704                        	.endfunc	2443,9,12
 16705                        	.line	2443
 16706                        ;
 16707                        ;void k_vdraw_filled_rect(int cx,int cy,int height
                    ,int width,int color)
 16708                        ;{
 16709                        	.line	2445
 16710                        	.line	2446
 16711                        	GFX
 16712                        	xdef	~~k_vdraw_filled_rect
 16713                        	func
 16714                        	.function	2446
 16715                        ~~k_vdraw_filled_rect:
 16716                        	longa	on
 16717                        	longi	on
 16718 06:3D69: 3B           	tsc
 16719 06:3D6A: 38           	sec
 16720 06:3D6B: E9 14 00     	sbc	#L845
 16721 06:3D6E: 1B           	tcs
 16722 06:3D6F: 0B           	phd
 16723 06:3D70: 5B           	tcd
 16724             00000004   cx_0	set	4
 16725             00000006   cy_0	set	6
 16726             00000008   height_0	set	8
  Mon Sep 27 2021  9:39                                                Page 307


 16727             0000000A   width_0	set	10
 16728             0000000C   color_0	set	12
 16729                        	.block	2446
 16730                        ;	int x = 0;
 16731                        ;	int y = 0;
 16732                        ;	int dx = cx + width;
 16733                        ;	int dy = cy + height;
 16734                        ;	
 16735                        ;	if(dx > 639)
 16736             00000000   x_1	set	0
 16737             00000002   y_1	set	2
 16738             00000004   dx_1	set	4
 16739             00000006   dy_1	set	6
 16740                        	.sym	x,0,5,1,16
 16741                        	.sym	y,2,5,1,16
 16742                        	.sym	dx,4,5,1,16
 16743                        	.sym	dy,6,5,1,16
 16744                        	.sym	cx,4,5,6,16
 16745                        	.sym	cy,6,5,6,16
 16746                        	.sym	height,8,5,6,16
 16747                        	.sym	width,10,5,6,16
 16748                        	.sym	color,12,5,6,16
 16749 06:3D71: 64 09        	stz	<L846+x_1
 16750 06:3D73: 64 0B        	stz	<L846+y_1
 16751 06:3D75: 18           	clc
 16752 06:3D76: A5 18        	lda	<L845+cx_0
 16753 06:3D78: 65 1E        	adc	<L845+width_0
 16754 06:3D7A: 85 0D        	sta	<L846+dx_1
 16755 06:3D7C: 18           	clc
 16756 06:3D7D: A5 1A        	lda	<L845+cy_0
 16757 06:3D7F: 65 1C        	adc	<L845+height_0
 16758 06:3D81: 85 0F        	sta	<L846+dy_1
 16759                        	.line	2452
 16760                        ;		dx = 639;
 16761 06:3D83: 38           	sec
 16762 06:3D84: A9 7F 02     	lda	#$27f
 16763 06:3D87: E5 0D        	sbc	<L846+dx_1
 16764 06:3D89: 70 03        	bvs	L848
 16765 06:3D8B: 49 00 80     	eor	#$8000
 16766                        L848:
 16767 06:3D8E: 10 03        	bpl	L849
 16768 06:3D90: 82 05 00     	brl	L10333
 16769                        L849:
 16770                        	.line	2453
 16771 06:3D93: A9 7F 02     	lda	#$27f
 16772 06:3D96: 85 0D        	sta	<L846+dx_1
 16773                        ;	if(dy > 479)
 16774                        L10333:
 16775                        	.line	2454
 16776                        ;		dy = 479;
 16777 06:3D98: 38           	sec
 16778 06:3D99: A9 DF 01     	lda	#$1df
 16779 06:3D9C: E5 0F        	sbc	<L846+dy_1
 16780 06:3D9E: 70 03        	bvs	L850
 16781 06:3DA0: 49 00 80     	eor	#$8000
 16782                        L850:
 16783 06:3DA3: 10 03        	bpl	L851
 16784 06:3DA5: 82 05 00     	brl	L10334
  Mon Sep 27 2021  9:39                                                Page 308


 16785                        L851:
 16786                        	.line	2455
 16787 06:3DA8: A9 DF 01     	lda	#$1df
 16788 06:3DAB: 85 0F        	sta	<L846+dy_1
 16789                        ;	
 16790                        ;	for(y=cy;y<dy;y++)
 16791                        L10334:
 16792                        	.line	2457
 16793 06:3DAD: A5 1A        	lda	<L845+cy_0
 16794 06:3DAF: 85 0B        	sta	<L846+y_1
 16795 06:3DB1: 82 39 00     	brl	L10338
 16796                        L10337:
 16797                        ;	{
 16798                        	.line	2458
 16799                        ;		long locStart = (long)(( ((long)y) * 640
                    L) + ((long)cx) );
 16800                        ;		//memset(&(((unsigned char FAR *)SHADOW_
                    BANK_0)[locStart]),color,dx - cx);
 16801                        ;	}
 16802                        	.block	2461
 16803             00000008   locStart_2	set	8
 16804                        	.sym	locStart,8,7,1,32
 16805 06:3DB4: A0 00 00     	ldy	#$0
 16806 06:3DB7: A5 18        	lda	<L845+cx_0
 16807 06:3DB9: 10 01        	bpl	L853
 16808 06:3DBB: 88           	dey
 16809                        L853:
 16810 06:3DBC: 85 01        	sta	<R0
 16811 06:3DBE: 84 03        	sty	<R0+2
 16812 06:3DC0: A0 00 00     	ldy	#$0
 16813 06:3DC3: A5 0B        	lda	<L846+y_1
 16814 06:3DC5: 10 01        	bpl	L854
 16815 06:3DC7: 88           	dey
 16816                        L854:
 16817 06:3DC8: 85 05        	sta	<R1
 16818 06:3DCA: 84 07        	sty	<R1+2
 16819 06:3DCC: F4 00 00     	pea	#^$280
 16820 06:3DCF: F4 80 02     	pea	#<$280
 16821 06:3DD2: D4 07        	pei	<R1+2
 16822 06:3DD4: D4 05        	pei	<R1
 16823                        	xref	~~~lmul
 16824 06:3DD6: 22 xx xx xx  	jsl	~~~lmul
 16825 06:3DDA: 85 05        	sta	<R1
 16826 06:3DDC: 86 07        	stx	<R1+2
 16827 06:3DDE: 18           	clc
 16828 06:3DDF: A5 05        	lda	<R1
 16829 06:3DE1: 65 01        	adc	<R0
 16830 06:3DE3: 85 11        	sta	<L846+locStart_2
 16831 06:3DE5: A5 07        	lda	<R1+2
 16832 06:3DE7: 65 03        	adc	<R0+2
 16833 06:3DE9: 85 13        	sta	<L846+locStart_2+2
 16834                        	.endblock	2461
 16835                        	.line	2461
 16836                        L10335:
 16837 06:3DEB: E6 0B        	inc	<L846+y_1
 16838                        L10338:
 16839 06:3DED: 38           	sec
 16840 06:3DEE: A5 0B        	lda	<L846+y_1
  Mon Sep 27 2021  9:39                                                Page 309


 16841 06:3DF0: E5 0F        	sbc	<L846+dy_1
 16842 06:3DF2: 70 03        	bvs	L855
 16843 06:3DF4: 49 00 80     	eor	#$8000
 16844                        L855:
 16845 06:3DF7: 30 03        	bmi	L856
 16846 06:3DF9: 82 B8 FF     	brl	L10337
 16847                        L856:
 16848                        L10336:
 16849                        ;}
 16850                        	.line	2462
 16851                        L857:
 16852 06:3DFC: A5 16        	lda	<L845+2
 16853 06:3DFE: 85 20        	sta	<L845+2+10
 16854 06:3E00: A5 15        	lda	<L845+1
 16855 06:3E02: 85 1F        	sta	<L845+1+10
 16856 06:3E04: 2B           	pld
 16857 06:3E05: 3B           	tsc
 16858 06:3E06: 18           	clc
 16859 06:3E07: 69 1E 00     	adc	#L845+10
 16860 06:3E0A: 1B           	tcs
 16861 06:3E0B: 6B           	rtl
 16862                        	.endblock	2462
 16863             00000014   L845	equ	20
 16864             00000009   L846	equ	9
 16865 06:3E0C:              	ends
 16866                        	efunc
 16867                        	.endfunc	2462,9,20
 16868                        	.line	2462
 16869                        ;
 16870                        ;void k_draw_filled_rect(int cx,int cy,int height,
                    int width,int color)
 16871                        ;{
 16872                        	.line	2464
 16873                        	.line	2465
 16874                        	GFX
 16875                        	xdef	~~k_draw_filled_rect
 16876                        	func
 16877                        	.function	2465
 16878                        ~~k_draw_filled_rect:
 16879                        	longa	on
 16880                        	longi	on
 16881 06:3E0C: 3B           	tsc
 16882 06:3E0D: 38           	sec
 16883 06:3E0E: E9 14 00     	sbc	#L858
 16884 06:3E11: 1B           	tcs
 16885 06:3E12: 0B           	phd
 16886 06:3E13: 5B           	tcd
 16887             00000004   cx_0	set	4
 16888             00000006   cy_0	set	6
 16889             00000008   height_0	set	8
 16890             0000000A   width_0	set	10
 16891             0000000C   color_0	set	12
 16892                        	.block	2465
 16893                        ;	int x = 0;
 16894                        ;	int y = 0;
 16895                        ;	int dx = cx + width;
 16896                        ;	int dy = cy + height;
 16897                        ;	
  Mon Sep 27 2021  9:39                                                Page 310


 16898                        ;	if(dx > 639)
 16899             00000000   x_1	set	0
 16900             00000002   y_1	set	2
 16901             00000004   dx_1	set	4
 16902             00000006   dy_1	set	6
 16903                        	.sym	x,0,5,1,16
 16904                        	.sym	y,2,5,1,16
 16905                        	.sym	dx,4,5,1,16
 16906                        	.sym	dy,6,5,1,16
 16907                        	.sym	cx,4,5,6,16
 16908                        	.sym	cy,6,5,6,16
 16909                        	.sym	height,8,5,6,16
 16910                        	.sym	width,10,5,6,16
 16911                        	.sym	color,12,5,6,16
 16912 06:3E14: 64 09        	stz	<L859+x_1
 16913 06:3E16: 64 0B        	stz	<L859+y_1
 16914 06:3E18: 18           	clc
 16915 06:3E19: A5 18        	lda	<L858+cx_0
 16916 06:3E1B: 65 1E        	adc	<L858+width_0
 16917 06:3E1D: 85 0D        	sta	<L859+dx_1
 16918 06:3E1F: 18           	clc
 16919 06:3E20: A5 1A        	lda	<L858+cy_0
 16920 06:3E22: 65 1C        	adc	<L858+height_0
 16921 06:3E24: 85 0F        	sta	<L859+dy_1
 16922                        	.line	2471
 16923                        ;		dx = 639;
 16924 06:3E26: 38           	sec
 16925 06:3E27: A9 7F 02     	lda	#$27f
 16926 06:3E2A: E5 0D        	sbc	<L859+dx_1
 16927 06:3E2C: 70 03        	bvs	L861
 16928 06:3E2E: 49 00 80     	eor	#$8000
 16929                        L861:
 16930 06:3E31: 10 03        	bpl	L862
 16931 06:3E33: 82 05 00     	brl	L10339
 16932                        L862:
 16933                        	.line	2472
 16934 06:3E36: A9 7F 02     	lda	#$27f
 16935 06:3E39: 85 0D        	sta	<L859+dx_1
 16936                        ;	if(dy > 479)
 16937                        L10339:
 16938                        	.line	2473
 16939                        ;		dy = 479;
 16940 06:3E3B: 38           	sec
 16941 06:3E3C: A9 DF 01     	lda	#$1df
 16942 06:3E3F: E5 0F        	sbc	<L859+dy_1
 16943 06:3E41: 70 03        	bvs	L863
 16944 06:3E43: 49 00 80     	eor	#$8000
 16945                        L863:
 16946 06:3E46: 10 03        	bpl	L864
 16947 06:3E48: 82 05 00     	brl	L10340
 16948                        L864:
 16949                        	.line	2474
 16950 06:3E4B: A9 DF 01     	lda	#$1df
 16951 06:3E4E: 85 0F        	sta	<L859+dy_1
 16952                        ;	
 16953                        ;	for(y=cy;y<dy;y++)
 16954                        L10340:
 16955                        	.line	2476
  Mon Sep 27 2021  9:39                                                Page 311


 16956 06:3E50: A5 1A        	lda	<L858+cy_0
 16957 06:3E52: 85 0B        	sta	<L859+y_1
 16958 06:3E54: 82 39 00     	brl	L10344
 16959                        L10343:
 16960                        ;	{
 16961                        	.line	2477
 16962                        ;		long locStart = (long)(( ((long)y) * 640
                    L) + ((long)cx) );
 16963                        ;		//memset(&(((unsigned char FAR *)BITMAP_
                    BANK_0)[locStart]),color,dx - cx);
 16964                        ;	}
 16965                        	.block	2480
 16966             00000008   locStart_2	set	8
 16967                        	.sym	locStart,8,7,1,32
 16968 06:3E57: A0 00 00     	ldy	#$0
 16969 06:3E5A: A5 18        	lda	<L858+cx_0
 16970 06:3E5C: 10 01        	bpl	L866
 16971 06:3E5E: 88           	dey
 16972                        L866:
 16973 06:3E5F: 85 01        	sta	<R0
 16974 06:3E61: 84 03        	sty	<R0+2
 16975 06:3E63: A0 00 00     	ldy	#$0
 16976 06:3E66: A5 0B        	lda	<L859+y_1
 16977 06:3E68: 10 01        	bpl	L867
 16978 06:3E6A: 88           	dey
 16979                        L867:
 16980 06:3E6B: 85 05        	sta	<R1
 16981 06:3E6D: 84 07        	sty	<R1+2
 16982 06:3E6F: F4 00 00     	pea	#^$280
 16983 06:3E72: F4 80 02     	pea	#<$280
 16984 06:3E75: D4 07        	pei	<R1+2
 16985 06:3E77: D4 05        	pei	<R1
 16986                        	xref	~~~lmul
 16987 06:3E79: 22 xx xx xx  	jsl	~~~lmul
 16988 06:3E7D: 85 05        	sta	<R1
 16989 06:3E7F: 86 07        	stx	<R1+2
 16990 06:3E81: 18           	clc
 16991 06:3E82: A5 05        	lda	<R1
 16992 06:3E84: 65 01        	adc	<R0
 16993 06:3E86: 85 11        	sta	<L859+locStart_2
 16994 06:3E88: A5 07        	lda	<R1+2
 16995 06:3E8A: 65 03        	adc	<R0+2
 16996 06:3E8C: 85 13        	sta	<L859+locStart_2+2
 16997                        	.endblock	2480
 16998                        	.line	2480
 16999                        L10341:
 17000 06:3E8E: E6 0B        	inc	<L859+y_1
 17001                        L10344:
 17002 06:3E90: 38           	sec
 17003 06:3E91: A5 0B        	lda	<L859+y_1
 17004 06:3E93: E5 0F        	sbc	<L859+dy_1
 17005 06:3E95: 70 03        	bvs	L868
 17006 06:3E97: 49 00 80     	eor	#$8000
 17007                        L868:
 17008 06:3E9A: 30 03        	bmi	L869
 17009 06:3E9C: 82 B8 FF     	brl	L10343
 17010                        L869:
 17011                        L10342:
  Mon Sep 27 2021  9:39                                                Page 312


 17012                        ;}
 17013                        	.line	2481
 17014                        L870:
 17015 06:3E9F: A5 16        	lda	<L858+2
 17016 06:3EA1: 85 20        	sta	<L858+2+10
 17017 06:3EA3: A5 15        	lda	<L858+1
 17018 06:3EA5: 85 1F        	sta	<L858+1+10
 17019 06:3EA7: 2B           	pld
 17020 06:3EA8: 3B           	tsc
 17021 06:3EA9: 18           	clc
 17022 06:3EAA: 69 1E 00     	adc	#L858+10
 17023 06:3EAD: 1B           	tcs
 17024 06:3EAE: 6B           	rtl
 17025                        	.endblock	2481
 17026             00000014   L858	equ	20
 17027             00000009   L859	equ	9
 17028 06:3EAF:              	ends
 17029                        	efunc
 17030                        	.endfunc	2481,9,20
 17031                        	.line	2481
 17032                        ;
 17033                        ;
 17034                        ;PWINDOW k_create_ui_window_class(int cx,int cy,in
                    t height,int width,LPCHAR title,LPCHAR className,FXWndProc w
                    ndProc)
 17035                        ;{
 17036                        	.line	2484
 17037                        	.line	2485
 17038                        	GFX
 17039                        	xdef	~~k_create_ui_window_class
 17040                        	func
 17041                        	.function	2485
 17042                        ~~k_create_ui_window_class:
 17043                        	longa	on
 17044                        	longi	on
 17045 06:3EAF: 3B           	tsc
 17046 06:3EB0: 38           	sec
 17047 06:3EB1: E9 08 00     	sbc	#L871
 17048 06:3EB4: 1B           	tcs
 17049 06:3EB5: 0B           	phd
 17050 06:3EB6: 5B           	tcd
 17051             00000004   cx_0	set	4
 17052             00000006   cy_0	set	6
 17053             00000008   height_0	set	8
 17054             0000000A   width_0	set	10
 17055             0000000C   title_0	set	12
 17056             00000010   className_0	set	16
 17057             00000014   wndProc_0	set	20
 17058                        	.block	2485
 17059                        ;	PWINDOW pWin = NULL;
 17060                        ;
 17061                        ;	if(className && title)
 17062             00000000   pWin_1	set	0
 17063                        	.sym	pWin,0,138,1,32,33
 17064                        	.sym	cx,4,5,6,16
 17065                        	.sym	cy,6,5,6,16
 17066                        	.sym	height,8,5,6,16
 17067                        	.sym	width,10,5,6,16
  Mon Sep 27 2021  9:39                                                Page 313


 17068                        	.sym	title,12,142,6,32
 17069                        	.sym	className,16,142,6,32
 17070                        	.sym	wndProc,20,654,6,32
 17071 06:3EB7: 64 05        	stz	<L872+pWin_1
 17072 06:3EB9: 64 07        	stz	<L872+pWin_1+2
 17073                        	.line	2488
 17074                        ;	{
 17075 06:3EBB: A5 18        	lda	<L871+className_0
 17076 06:3EBD: 05 1A        	ora	<L871+className_0+2
 17077 06:3EBF: D0 03        	bne	L874
 17078 06:3EC1: 82 FC 00     	brl	L10345
 17079                        L874:
 17080 06:3EC4: A5 14        	lda	<L871+title_0
 17081 06:3EC6: 05 16        	ora	<L871+title_0+2
 17082 06:3EC8: D0 03        	bne	L875
 17083 06:3ECA: 82 F3 00     	brl	L10345
 17084                        L875:
 17085                        	.line	2489
 17086                        ;		pWin = (PWINDOW)k_mem_allocate_heap(size
                    of(WINDOW));
 17087                        	.line	2490
 17088 06:3ECD: F4 00 00     	pea	#^$1e8
 17089 06:3ED0: F4 E8 01     	pea	#<$1e8
 17090 06:3ED3: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 17091 06:3ED7: 85 05        	sta	<L872+pWin_1
 17092 06:3ED9: 86 07        	stx	<L872+pWin_1+2
 17093                        ;		if(pWin)
 17094                        	.line	2491
 17095                        ;		{
 17096 06:3EDB: A5 05        	lda	<L872+pWin_1
 17097 06:3EDD: 05 07        	ora	<L872+pWin_1+2
 17098 06:3EDF: D0 03        	bne	L876
 17099 06:3EE1: 82 DC 00     	brl	L10346
 17100                        L876:
 17101                        	.line	2492
 17102                        ;			memset(pWin,0,sizeof(WINDOW));
 17103                        	.line	2493
 17104 06:3EE4: F4 E8 01     	pea	#<$1e8
 17105 06:3EE7: F4 00 00     	pea	#<$0
 17106 06:3EEA: D4 07        	pei	<L872+pWin_1+2
 17107 06:3EEC: D4 05        	pei	<L872+pWin_1
 17108 06:3EEE: 22 xx xx xx  	jsl	~~memset
 17109                        ;
 17110                        ;			strcpy(pWin->win_title,title);
 17111                        	.line	2495
 17112 06:3EF2: D4 16        	pei	<L871+title_0+2
 17113 06:3EF4: D4 14        	pei	<L871+title_0
 17114 06:3EF6: 18           	clc
 17115 06:3EF7: A9 4C 01     	lda	#$14c
 17116 06:3EFA: 65 05        	adc	<L872+pWin_1
 17117 06:3EFC: 85 01        	sta	<R0
 17118 06:3EFE: A9 00 00     	lda	#$0
 17119 06:3F01: 65 07        	adc	<L872+pWin_1+2
 17120 06:3F03: 85 03        	sta	<R0+2
 17121 06:3F05: D4 03        	pei	<R0+2
 17122 06:3F07: D4 01        	pei	<R0
 17123 06:3F09: 22 xx xx xx  	jsl	~~strcpy
 17124                        ;			strcpy(pWin->win_class,className
  Mon Sep 27 2021  9:39                                                Page 314


                    );
 17125                        	.line	2496
 17126 06:3F0D: D4 1A        	pei	<L871+className_0+2
 17127 06:3F0F: D4 18        	pei	<L871+className_0
 17128 06:3F11: 18           	clc
 17129 06:3F12: A9 6E 01     	lda	#$16e
 17130 06:3F15: 65 05        	adc	<L872+pWin_1
 17131 06:3F17: 85 01        	sta	<R0
 17132 06:3F19: A9 00 00     	lda	#$0
 17133 06:3F1C: 65 07        	adc	<L872+pWin_1+2
 17134 06:3F1E: 85 03        	sta	<R0+2
 17135 06:3F20: D4 03        	pei	<R0+2
 17136 06:3F22: D4 01        	pei	<R0
 17137 06:3F24: 22 xx xx xx  	jsl	~~strcpy
 17138                        ;			pWin->win_x = cx;
 17139                        	.line	2497
 17140 06:3F28: A5 0C        	lda	<L871+cx_0
 17141 06:3F2A: A0 0C 00     	ldy	#$c
 17142 06:3F2D: 97 05        	sta	[<L872+pWin_1],Y
 17143                        ;			pWin->win_y = cy;
 17144                        	.line	2498
 17145 06:3F2F: A5 0E        	lda	<L871+cy_0
 17146 06:3F31: A0 0E 00     	ldy	#$e
 17147 06:3F34: 97 05        	sta	[<L872+pWin_1],Y
 17148                        ;			pWin->win_width  = width;
 17149                        	.line	2499
 17150 06:3F36: A5 12        	lda	<L871+width_0
 17151 06:3F38: A0 10 00     	ldy	#$10
 17152 06:3F3B: 97 05        	sta	[<L872+pWin_1],Y
 17153                        ;			pWin->win_height = height;
 17154                        	.line	2500
 17155 06:3F3D: A5 10        	lda	<L871+height_0
 17156 06:3F3F: A0 12 00     	ldy	#$12
 17157 06:3F42: 97 05        	sta	[<L872+pWin_1],Y
 17158                        ;			pWin->clickable = k_mem_allocate
                    _heap(sizeof(CLICKABLE));
 17159                        	.line	2501
 17160 06:3F44: F4 00 00     	pea	#^$13
 17161 06:3F47: F4 13 00     	pea	#<$13
 17162 06:3F4A: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 17163 06:3F4E: 85 01        	sta	<R0
 17164 06:3F50: 86 03        	stx	<R0+2
 17165 06:3F52: A5 01        	lda	<R0
 17166 06:3F54: A0 48 01     	ldy	#$148
 17167 06:3F57: 97 05        	sta	[<L872+pWin_1],Y
 17168 06:3F59: A5 03        	lda	<R0+2
 17169 06:3F5B: A0 4A 01     	ldy	#$14a
 17170 06:3F5E: 97 05        	sta	[<L872+pWin_1],Y
 17171                        ;			if(pWin->clickable)
 17172                        	.line	2502
 17173                        ;			{
 17174 06:3F60: A0 48 01     	ldy	#$148
 17175 06:3F63: B7 05        	lda	[<L872+pWin_1],Y
 17176 06:3F65: A0 4A 01     	ldy	#$14a
 17177 06:3F68: 17 05        	ora	[<L872+pWin_1],Y
 17178 06:3F6A: D0 03        	bne	L877
 17179 06:3F6C: 82 51 00     	brl	L10347
 17180                        L877:
  Mon Sep 27 2021  9:39                                                Page 315


 17181                        	.line	2503
 17182                        ;				((PCLICKABLE)pWin->click
                    able)->area.x = cx;
 17183                        	.line	2504
 17184 06:3F6F: A0 48 01     	ldy	#$148
 17185 06:3F72: B7 05        	lda	[<L872+pWin_1],Y
 17186 06:3F74: 85 01        	sta	<R0
 17187 06:3F76: A0 4A 01     	ldy	#$14a
 17188 06:3F79: B7 05        	lda	[<L872+pWin_1],Y
 17189 06:3F7B: 85 03        	sta	<R0+2
 17190 06:3F7D: A5 0C        	lda	<L871+cx_0
 17191 06:3F7F: 87 01        	sta	[<R0]
 17192                        ;				((PCLICKABLE)pWin->click
                    able)->area.y = cy;
 17193                        	.line	2505
 17194 06:3F81: A0 48 01     	ldy	#$148
 17195 06:3F84: B7 05        	lda	[<L872+pWin_1],Y
 17196 06:3F86: 85 01        	sta	<R0
 17197 06:3F88: A0 4A 01     	ldy	#$14a
 17198 06:3F8B: B7 05        	lda	[<L872+pWin_1],Y
 17199 06:3F8D: 85 03        	sta	<R0+2
 17200 06:3F8F: A5 0E        	lda	<L871+cy_0
 17201 06:3F91: A0 02 00     	ldy	#$2
 17202 06:3F94: 97 01        	sta	[<R0],Y
 17203                        ;				((PCLICKABLE)pWin->click
                    able)->area.height = height;
 17204                        	.line	2506
 17205 06:3F96: A0 48 01     	ldy	#$148
 17206 06:3F99: B7 05        	lda	[<L872+pWin_1],Y
 17207 06:3F9B: 85 01        	sta	<R0
 17208 06:3F9D: A0 4A 01     	ldy	#$14a
 17209 06:3FA0: B7 05        	lda	[<L872+pWin_1],Y
 17210 06:3FA2: 85 03        	sta	<R0+2
 17211 06:3FA4: A5 10        	lda	<L871+height_0
 17212 06:3FA6: A0 0A 00     	ldy	#$a
 17213 06:3FA9: 97 01        	sta	[<R0],Y
 17214                        ;				((PCLICKABLE)pWin->click
                    able)->area.width = width;
 17215                        	.line	2507
 17216 06:3FAB: A0 48 01     	ldy	#$148
 17217 06:3FAE: B7 05        	lda	[<L872+pWin_1],Y
 17218 06:3FB0: 85 01        	sta	<R0
 17219 06:3FB2: A0 4A 01     	ldy	#$14a
 17220 06:3FB5: B7 05        	lda	[<L872+pWin_1],Y
 17221 06:3FB7: 85 03        	sta	<R0+2
 17222 06:3FB9: A5 12        	lda	<L871+width_0
 17223 06:3FBB: A0 08 00     	ldy	#$8
 17224 06:3FBE: 97 01        	sta	[<R0],Y
 17225                        ;			}
 17226                        	.line	2508
 17227                        ;			//pWin->WndProc = wndProc;
 17228                        ;		}
 17229                        L10347:
 17230                        	.line	2510
 17231                        ;	}
 17232                        L10346:
 17233                        	.line	2511
 17234                        ;
  Mon Sep 27 2021  9:39                                                Page 316


 17235                        ;	return pWin;
 17236                        L10345:
 17237                        	.line	2513
 17238 06:3FC0: A6 07        	ldx	<L872+pWin_1+2
 17239 06:3FC2: A5 05        	lda	<L872+pWin_1
 17240                        L878:
 17241 06:3FC4: A8           	tay
 17242 06:3FC5: A5 0A        	lda	<L871+2
 17243 06:3FC7: 85 1E        	sta	<L871+2+20
 17244 06:3FC9: A5 09        	lda	<L871+1
 17245 06:3FCB: 85 1D        	sta	<L871+1+20
 17246 06:3FCD: 2B           	pld
 17247 06:3FCE: 3B           	tsc
 17248 06:3FCF: 18           	clc
 17249 06:3FD0: 69 1C 00     	adc	#L871+20
 17250 06:3FD3: 1B           	tcs
 17251 06:3FD4: 98           	tya
 17252 06:3FD5: 6B           	rtl
 17253                        ;}
 17254                        	.line	2514
 17255                        	.endblock	2514
 17256             00000008   L871	equ	8
 17257             00000005   L872	equ	5
 17258 06:3FD6:              	ends
 17259                        	efunc
 17260                        	.endfunc	2514,5,8
 17261                        	.line	2514
 17262                        ;
 17263                        ;PRECT k_HWNDToWINRECT(HWND hWnd)
 17264                        ;{
 17265                        	.line	2516
 17266                        	.line	2517
 17267                        	GFX
 17268                        	xdef	~~k_HWNDToWINRECT
 17269                        	func
 17270                        	.function	2517
 17271                        ~~k_HWNDToWINRECT:
 17272                        	longa	on
 17273                        	longi	on
 17274 06:3FD6: 3B           	tsc
 17275 06:3FD7: 38           	sec
 17276 06:3FD8: E9 04 00     	sbc	#L879
 17277 06:3FDB: 1B           	tcs
 17278 06:3FDC: 0B           	phd
 17279 06:3FDD: 5B           	tcd
 17280             00000004   hWnd_0	set	4
 17281                        	.block	2517
 17282                        ;
 17283                        ;	((PWINDOW)hWnd)->wndRect.x 		= ((PWIN
                    DOW)hWnd)->win_x;
 17284                        	.sym	hWnd,4,129,6,32
 17285                        	.line	2519
 17286 06:3FDE: A0 0C 00     	ldy	#$c
 17287 06:3FE1: B7 08        	lda	[<L879+hWnd_0],Y
 17288 06:3FE3: A0 1C 00     	ldy	#$1c
 17289 06:3FE6: 97 08        	sta	[<L879+hWnd_0],Y
 17290                        ;	((PWINDOW)hWnd)->wndRect.y 		= ((PWIN
                    DOW)hWnd)->win_y;
  Mon Sep 27 2021  9:39                                                Page 317


 17291                        	.line	2520
 17292 06:3FE8: A0 0E 00     	ldy	#$e
 17293 06:3FEB: B7 08        	lda	[<L879+hWnd_0],Y
 17294 06:3FED: A0 1E 00     	ldy	#$1e
 17295 06:3FF0: 97 08        	sta	[<L879+hWnd_0],Y
 17296                        ;	((PWINDOW)hWnd)->wndRect.width  = ((PWINDOW)hWnd
                    )->win_width;
 17297                        	.line	2521
 17298 06:3FF2: A0 10 00     	ldy	#$10
 17299 06:3FF5: B7 08        	lda	[<L879+hWnd_0],Y
 17300 06:3FF7: A0 24 00     	ldy	#$24
 17301 06:3FFA: 97 08        	sta	[<L879+hWnd_0],Y
 17302                        ;	((PWINDOW)hWnd)->wndRect.height = ((PWINDOW)hWnd
                    )->win_height;
 17303                        	.line	2522
 17304 06:3FFC: A0 12 00     	ldy	#$12
 17305 06:3FFF: B7 08        	lda	[<L879+hWnd_0],Y
 17306 06:4001: A0 26 00     	ldy	#$26
 17307 06:4004: 97 08        	sta	[<L879+hWnd_0],Y
 17308                        ;
 17309                        ;
 17310                        ;	return &(((PWINDOW)hWnd)->wndRect);
 17311                        	.line	2525
 17312 06:4006: 18           	clc
 17313 06:4007: A9 1C 00     	lda	#$1c
 17314 06:400A: 65 08        	adc	<L879+hWnd_0
 17315 06:400C: 85 01        	sta	<R0
 17316 06:400E: A9 00 00     	lda	#$0
 17317 06:4011: 65 0A        	adc	<L879+hWnd_0+2
 17318 06:4013: 85 03        	sta	<R0+2
 17319 06:4015: A6 03        	ldx	<R0+2
 17320 06:4017: A5 01        	lda	<R0
 17321                        L882:
 17322 06:4019: A8           	tay
 17323 06:401A: A5 06        	lda	<L879+2
 17324 06:401C: 85 0A        	sta	<L879+2+4
 17325 06:401E: A5 05        	lda	<L879+1
 17326 06:4020: 85 09        	sta	<L879+1+4
 17327 06:4022: 2B           	pld
 17328 06:4023: 3B           	tsc
 17329 06:4024: 18           	clc
 17330 06:4025: 69 08 00     	adc	#L879+4
 17331 06:4028: 1B           	tcs
 17332 06:4029: 98           	tya
 17333 06:402A: 6B           	rtl
 17334                        ;}
 17335                        	.line	2526
 17336                        	.endblock	2526
 17337             00000004   L879	equ	4
 17338             00000005   L880	equ	5
 17339 06:402B:              	ends
 17340                        	efunc
 17341                        	.endfunc	2526,5,4
 17342                        	.line	2526
 17343                        ;
 17344                        ;BOOL k_gui_size_nonclient_area(HWND hWnd)
 17345                        ;{
 17346                        	.line	2528
  Mon Sep 27 2021  9:39                                                Page 318


 17347                        	.line	2529
 17348                        	GFX
 17349                        	xdef	~~k_gui_size_nonclient_area
 17350                        	func
 17351                        	.function	2529
 17352                        ~~k_gui_size_nonclient_area:
 17353                        	longa	on
 17354                        	longi	on
 17355 06:402B: 3B           	tsc
 17356 06:402C: 38           	sec
 17357 06:402D: E9 21 00     	sbc	#L883
 17358 06:4030: 1B           	tcs
 17359 06:4031: 0B           	phd
 17360 06:4032: 5B           	tcd
 17361             00000004   hWnd_0	set	4
 17362                        	.block	2529
 17363                        ;	BOOL bRet = FALSE;
 17364                        ;
 17365                        ;	FONTMETRIC metric;
 17366                        ;
 17367                        ;	PWINDOW pWin = (PWINDOW)hWnd;
 17368                        ;
 17369                        ;	PRECT wndRect;
 17370                        ;
 17371                        ;	int borderWidthL = 0;
 17372                        ;	int borderWidthR = 0;
 17373                        ;	int borderWidthT = 0;
 17374                        ;	int borderWidthB = 0;
 17375                        ;
 17376                        ;	ULONG style = pWin->style;
 17377                        ;
 17378                        ;	wndRect    = k_HWNDToWINRECT(hWnd);
 17379             00000000   bRet_1	set	0
 17380             00000001   metric_1	set	1
 17381             00000005   pWin_1	set	5
 17382             00000009   wndRect_1	set	9
 17383             0000000D   borderWidthL_1	set	13
 17384             0000000F   borderWidthR_1	set	15
 17385             00000011   borderWidthT_1	set	17
 17386             00000013   borderWidthB_1	set	19
 17387             00000015   style_1	set	21
 17388                        	.sym	bRet,0,14,1,8
 17389                        	.sym	metric,1,10,1,32,35
 17390                        	.sym	pWin,5,138,1,32,33
 17391                        	.sym	wndRect,9,138,1,32,26
 17392                        	.sym	borderWidthL,13,5,1,16
 17393                        	.sym	borderWidthR,15,5,1,16
 17394                        	.sym	borderWidthT,17,5,1,16
 17395                        	.sym	borderWidthB,19,5,1,16
 17396                        	.sym	style,21,18,1,32
 17397                        	.sym	hWnd,4,129,6,32
 17398 06:4033: E2 20        	sep	#$20
 17399                        	longa	off
 17400 06:4035: 64 09        	stz	<L884+bRet_1
 17401 06:4037: C2 20        	rep	#$20
 17402                        	longa	on
 17403 06:4039: A5 25        	lda	<L883+hWnd_0
 17404 06:403B: 85 0E        	sta	<L884+pWin_1
  Mon Sep 27 2021  9:39                                                Page 319


 17405 06:403D: A5 27        	lda	<L883+hWnd_0+2
 17406 06:403F: 85 10        	sta	<L884+pWin_1+2
 17407 06:4041: 64 16        	stz	<L884+borderWidthL_1
 17408 06:4043: 64 18        	stz	<L884+borderWidthR_1
 17409 06:4045: 64 1A        	stz	<L884+borderWidthT_1
 17410 06:4047: 64 1C        	stz	<L884+borderWidthB_1
 17411 06:4049: A0 02 00     	ldy	#$2
 17412 06:404C: B7 0E        	lda	[<L884+pWin_1],Y
 17413 06:404E: 85 1E        	sta	<L884+style_1
 17414 06:4050: A0 04 00     	ldy	#$4
 17415 06:4053: B7 0E        	lda	[<L884+pWin_1],Y
 17416 06:4055: 85 20        	sta	<L884+style_1+2
 17417                        	.line	2545
 17418 06:4057: D4 27        	pei	<L883+hWnd_0+2
 17419 06:4059: D4 25        	pei	<L883+hWnd_0
 17420 06:405B: 22 D6 3F 06  	jsl	~~k_HWNDToWINRECT
 17421 06:405F: 85 12        	sta	<L884+wndRect_1
 17422 06:4061: 86 14        	stx	<L884+wndRect_1+2
 17423                        ;
 17424                        ;	if(style & FXWS_VISIBLE != FXWS_VISIBLE)
 17425                        	.line	2547
 17426                        ;	{
 17427 06:4063: 82 23 00     	brl	L10348
 17428                        	.line	2548
 17429                        ;		k_debug_pointer("k_gui_size_nonclient_ar
                    ea::NOT RENDERING:",hWnd);
 17430                        	.line	2549
 17431 06:4066: D4 27        	pei	<L883+hWnd_0+2
 17432 06:4068: D4 25        	pei	<L883+hWnd_0
 17433 06:406A: F4 xx xx     	pea	#^L551
 17434 06:406D: F4 xx xx     	pea	#<L551
 17435 06:4070: 22 xx xx xx  	jsl	~~k_debug_pointer
 17436                        ;		return FALSE;
 17437                        	.line	2550
 17438 06:4074: A9 00 00     	lda	#$0
 17439                        L886:
 17440 06:4077: A8           	tay
 17441 06:4078: A5 23        	lda	<L883+2
 17442 06:407A: 85 27        	sta	<L883+2+4
 17443 06:407C: A5 22        	lda	<L883+1
 17444 06:407E: 85 26        	sta	<L883+1+4
 17445 06:4080: 2B           	pld
 17446 06:4081: 3B           	tsc
 17447 06:4082: 18           	clc
 17448 06:4083: 69 25 00     	adc	#L883+4
 17449 06:4086: 1B           	tcs
 17450 06:4087: 98           	tya
 17451 06:4088: 6B           	rtl
 17452                        ;	}
 17453                        	.line	2551
 17454                        ;
 17455                        ;	if(style & FXWS_THICKFRAME)
 17456                        L10348:
 17457                        	.line	2553
 17458                        ;	{
 17459 06:4089: A5 20        	lda	<L884+style_1+2
 17460 06:408B: 29 02 00     	and	#^$20000
 17461 06:408E: D0 03        	bne	L887
  Mon Sep 27 2021  9:39                                                Page 320


 17462 06:4090: 82 17 00     	brl	L10349
 17463                        L887:
 17464                        	.line	2554
 17465                        ;		borderWidthL = SM_CXFRAME_DEFAULT + SM_C
                    XBORDER_DEFAULT;
 17466                        	.line	2555
 17467 06:4093: A9 03 00     	lda	#$3
 17468 06:4096: 85 16        	sta	<L884+borderWidthL_1
 17469                        ;		borderWidthR = SM_CXFRAME_DEFAULT + SM_C
                    XBORDER_DEFAULT;
 17470                        	.line	2556
 17471 06:4098: A9 03 00     	lda	#$3
 17472 06:409B: 85 18        	sta	<L884+borderWidthR_1
 17473                        ;		borderWidthT = SM_CYFRAME_DEFAULT + SM_C
                    YBORDER_DEFAULT;
 17474                        	.line	2557
 17475 06:409D: A9 03 00     	lda	#$3
 17476 06:40A0: 85 1A        	sta	<L884+borderWidthT_1
 17477                        ;		borderWidthB = SM_CYFRAME_DEFAULT + SM_C
                    YBORDER_DEFAULT;
 17478                        	.line	2558
 17479 06:40A2: A9 03 00     	lda	#$3
 17480 06:40A5: 85 1C        	sta	<L884+borderWidthB_1
 17481                        ;	}
 17482                        	.line	2559
 17483                        ;	else if(style & FXWS_BORDER)
 17484 06:40A7: 82 3F 00     	brl	L10350
 17485                        L10349:
 17486                        	.line	2560
 17487                        ;	{
 17488 06:40AA: A5 20        	lda	<L884+style_1+2
 17489 06:40AC: 29 01 00     	and	#^$10000
 17490 06:40AF: D0 03        	bne	L888
 17491 06:40B1: 82 17 00     	brl	L10351
 17492                        L888:
 17493                        	.line	2561
 17494                        ;		borderWidthL = SM_CXBORDER_DEFAULT;
 17495                        	.line	2562
 17496 06:40B4: A9 01 00     	lda	#$1
 17497 06:40B7: 85 16        	sta	<L884+borderWidthL_1
 17498                        ;		borderWidthR = SM_CXBORDER_DEFAULT;
 17499                        	.line	2563
 17500 06:40B9: A9 01 00     	lda	#$1
 17501 06:40BC: 85 18        	sta	<L884+borderWidthR_1
 17502                        ;		borderWidthT = SM_CYBORDER_DEFAULT;
 17503                        	.line	2564
 17504 06:40BE: A9 01 00     	lda	#$1
 17505 06:40C1: 85 1A        	sta	<L884+borderWidthT_1
 17506                        ;		borderWidthB = SM_CYBORDER_DEFAULT;
 17507                        	.line	2565
 17508 06:40C3: A9 01 00     	lda	#$1
 17509 06:40C6: 85 1C        	sta	<L884+borderWidthB_1
 17510                        ;	}
 17511                        	.line	2566
 17512                        ;	else if(style & FXWS_DLGFRAME)
 17513 06:40C8: 82 1E 00     	brl	L10352
 17514                        L10351:
 17515                        	.line	2567
  Mon Sep 27 2021  9:39                                                Page 321


 17516                        ;	{
 17517 06:40CB: A5 20        	lda	<L884+style_1+2
 17518 06:40CD: 29 04 00     	and	#^$40000
 17519 06:40D0: D0 03        	bne	L889
 17520 06:40D2: 82 14 00     	brl	L10353
 17521                        L889:
 17522                        	.line	2568
 17523                        ;		borderWidthL = SM_CXDLGFRAME_DEFAULT + S
                    M_CXBORDER_DEFAULT;
 17524                        	.line	2569
 17525 06:40D5: A9 05 00     	lda	#$5
 17526 06:40D8: 85 16        	sta	<L884+borderWidthL_1
 17527                        ;		borderWidthR = SM_CXDLGFRAME_DEFAULT + S
                    M_CXBORDER_DEFAULT;
 17528                        	.line	2570
 17529 06:40DA: A9 05 00     	lda	#$5
 17530 06:40DD: 85 18        	sta	<L884+borderWidthR_1
 17531                        ;		borderWidthT = SM_CYDLGFRAME_DEFAULT + S
                    M_CYBORDER_DEFAULT;
 17532                        	.line	2571
 17533 06:40DF: A9 05 00     	lda	#$5
 17534 06:40E2: 85 1A        	sta	<L884+borderWidthT_1
 17535                        ;		borderWidthB = SM_CYDLGFRAME_DEFAULT + S
                    M_CYBORDER_DEFAULT;
 17536                        	.line	2572
 17537 06:40E4: A9 05 00     	lda	#$5
 17538 06:40E7: 85 1C        	sta	<L884+borderWidthB_1
 17539                        ;	}
 17540                        	.line	2573
 17541                        ;
 17542                        ;	if( ((style & FXWS_CAPTION) == FXWS_CAPTION) || 
                    (style & FXWS_SYSMENU) || (style & FXWS_MINIMIZEBOX) || (sty
                    le & FXWS_MAXIMIZEBOX))
 17543                        L10353:
 17544                        L10352:
 17545                        L10350:
 17546                        	.line	2575
 17547                        ;	{
 17548 06:40E9: A5 1E        	lda	<L884+style_1
 17549 06:40EB: 29 04 00     	and	#<$4
 17550 06:40EE: 85 01        	sta	<R0
 17551 06:40F0: 64 03        	stz	<R0+2
 17552 06:40F2: A5 01        	lda	<R0
 17553 06:40F4: C9 04 00     	cmp	#<$4
 17554 06:40F7: D0 05        	bne	L891
 17555 06:40F9: A5 03        	lda	<R0+2
 17556 06:40FB: C9 00 00     	cmp	#^$4
 17557                        L891:
 17558 06:40FE: D0 03        	bne	L892
 17559 06:4100: 82 1E 00     	brl	L890
 17560                        L892:
 17561 06:4103: A5 1E        	lda	<L884+style_1
 17562 06:4105: 29 08 00     	and	#<$8
 17563 06:4108: F0 03        	beq	L893
 17564 06:410A: 82 14 00     	brl	L890
 17565                        L893:
 17566 06:410D: A5 1E        	lda	<L884+style_1
 17567 06:410F: 29 20 00     	and	#<$20
  Mon Sep 27 2021  9:39                                                Page 322


 17568 06:4112: F0 03        	beq	L894
 17569 06:4114: 82 0A 00     	brl	L890
 17570                        L894:
 17571 06:4117: A5 1E        	lda	<L884+style_1
 17572 06:4119: 29 10 00     	and	#<$10
 17573 06:411C: D0 03        	bne	L895
 17574 06:411E: 82 08 00     	brl	L10354
 17575                        L895:
 17576                        L890:
 17577                        	.line	2576
 17578                        ;		borderWidthT += SM_CYCAPTION_DEFAULT;
 17579                        	.line	2577
 17580 06:4121: 18           	clc
 17581 06:4122: A9 0C 00     	lda	#$c
 17582 06:4125: 65 1A        	adc	<L884+borderWidthT_1
 17583 06:4127: 85 1A        	sta	<L884+borderWidthT_1
 17584                        ;	}
 17585                        	.line	2578
 17586                        ;
 17587                        ;	//k_debug_rect("k_gui_size_nonclient_area::wndRe
                    ct:", &pWin->wndRect);
 17588                        ;
 17589                        ;	pWin->clientRect.x      = wndRect->x + borderWid
                    thL + SM_CLIENT_BORDER_DEFAULT;
 17590                        L10354:
 17591                        	.line	2582
 17592 06:4129: 18           	clc
 17593 06:412A: A7 12        	lda	[<L884+wndRect_1]
 17594 06:412C: 65 16        	adc	<L884+borderWidthL_1
 17595 06:412E: 85 01        	sta	<R0
 17596 06:4130: A5 01        	lda	<R0
 17597 06:4132: 1A           	ina
 17598 06:4133: A0 2A 00     	ldy	#$2a
 17599 06:4136: 97 0E        	sta	[<L884+pWin_1],Y
 17600                        ;	pWin->clientRect.y      = wndRect->y + borderWid
                    thT + SM_CLIENT_BORDER_DEFAULT;
 17601                        	.line	2583
 17602 06:4138: 18           	clc
 17603 06:4139: A0 02 00     	ldy	#$2
 17604 06:413C: B7 12        	lda	[<L884+wndRect_1],Y
 17605 06:413E: 65 1A        	adc	<L884+borderWidthT_1
 17606 06:4140: 85 01        	sta	<R0
 17607 06:4142: A5 01        	lda	<R0
 17608 06:4144: 1A           	ina
 17609 06:4145: A0 2C 00     	ldy	#$2c
 17610 06:4148: 97 0E        	sta	[<L884+pWin_1],Y
 17611                        ;	pWin->clientRect.width  = wndRect->width  - (bor
                    derWidthL + borderWidthR + SM_CLIENT_BORDER_DEFAULT + SM_CLI
                    ENT_BORDER_DEFAULT);
 17612                        	.line	2584
 17613 06:414A: 18           	clc
 17614 06:414B: A5 16        	lda	<L884+borderWidthL_1
 17615 06:414D: 65 18        	adc	<L884+borderWidthR_1
 17616 06:414F: 85 01        	sta	<R0
 17617 06:4151: 18           	clc
 17618 06:4152: A9 02 00     	lda	#$2
 17619 06:4155: 65 01        	adc	<R0
 17620 06:4157: 85 05        	sta	<R1
  Mon Sep 27 2021  9:39                                                Page 323


 17621 06:4159: 38           	sec
 17622 06:415A: A0 08 00     	ldy	#$8
 17623 06:415D: B7 12        	lda	[<L884+wndRect_1],Y
 17624 06:415F: E5 05        	sbc	<R1
 17625 06:4161: A0 32 00     	ldy	#$32
 17626 06:4164: 97 0E        	sta	[<L884+pWin_1],Y
 17627                        ;	pWin->clientRect.height = wndRect->height - (bor
                    derWidthT + borderWidthB + SM_CLIENT_BORDER_DEFAULT + SM_CLI
                    ENT_BORDER_DEFAULT);
 17628                        	.line	2585
 17629 06:4166: 18           	clc
 17630 06:4167: A5 1A        	lda	<L884+borderWidthT_1
 17631 06:4169: 65 1C        	adc	<L884+borderWidthB_1
 17632 06:416B: 85 01        	sta	<R0
 17633 06:416D: 18           	clc
 17634 06:416E: A9 02 00     	lda	#$2
 17635 06:4171: 65 01        	adc	<R0
 17636 06:4173: 85 05        	sta	<R1
 17637 06:4175: 38           	sec
 17638 06:4176: A0 0A 00     	ldy	#$a
 17639 06:4179: B7 12        	lda	[<L884+wndRect_1],Y
 17640 06:417B: E5 05        	sbc	<R1
 17641 06:417D: A0 34 00     	ldy	#$34
 17642 06:4180: 97 0E        	sta	[<L884+pWin_1],Y
 17643                        ;
 17644                        ;	//k_debug_rect("k_gui_size_nonclient_area::clien
                    tRect:", &pWin->clientRect);
 17645                        ;
 17646                        ;	return bRet;
 17647                        	.line	2589
 17648 06:4182: A5 09        	lda	<L884+bRet_1
 17649 06:4184: 29 FF 00     	and	#$ff
 17650 06:4187: 82 ED FE     	brl	L886
 17651                        ;}
 17652                        	.line	2590
 17653                        	.endblock	2590
 17654             00000021   L883	equ	33
 17655             00000009   L884	equ	9
 17656 06:418A:              	ends
 17657                        	efunc
 17658                        	.endfunc	2590,9,33
 17659                        	.line	2590
 17660                        	data
 17661                        L551:
 17662 00:0826: 6B 5F 67 75  	db	$6B,$5F,$67,$75,$69,$5F,$73,$69,$7A,$65,
                    $5F,$6E,$6F,$6E,$63
       00:082A: 69 5F 73 69 
       00:082E: 7A 65 5F 6E 
       00:0832: 6F 6E 63 
 17663 00:0835: 6C 69 65 6E  	db	$6C,$69,$65,$6E,$74,$5F,$61,$72,$65,$61,
                    $3A,$3A,$4E,$4F,$54
       00:0839: 74 5F 61 72 
       00:083D: 65 61 3A 3A 
       00:0841: 4E 4F 54 
 17664 00:0844: 20 52 45 4E  	db	$20,$52,$45,$4E,$44,$45,$52,$49,$4E,$47,
                    $3A,$00
       00:0848: 44 45 52 49 
       00:084C: 4E 47 3A 00 
  Mon Sep 27 2021  9:39                                                Page 324


 17665 00:0850:              	ends
 17666                        ;
 17667                        ;
 17668                        ;void k_vdraw_ui_window(PWINDOW pWin,ULONG style,i
                    nt cx,int cy,int height,int width,char FAR *title,int color,
                     int bgcolor)
 17669                        ;{
 17670                        	.line	2593
 17671                        	.line	2594
 17672                        	GFX
 17673                        	xdef	~~k_vdraw_ui_window
 17674                        	func
 17675                        	.function	2594
 17676                        ~~k_vdraw_ui_window:
 17677                        	longa	on
 17678                        	longi	on
 17679 06:418A: 3B           	tsc
 17680 06:418B: 38           	sec
 17681 06:418C: E9 00 00     	sbc	#L897
 17682 06:418F: 1B           	tcs
 17683 06:4190: 0B           	phd
 17684 06:4191: 5B           	tcd
 17685             00000004   pWin_0	set	4
 17686             00000008   style_0	set	8
 17687             0000000C   cx_0	set	12
 17688             0000000E   cy_0	set	14
 17689             00000010   height_0	set	16
 17690             00000012   width_0	set	18
 17691             00000014   title_0	set	20
 17692             00000018   color_0	set	24
 17693             0000001A   bgcolor_0	set	26
 17694                        	.block	2594
 17695                        ;	k_vdraw_ui_window_ex(pWin,style,cx,cy,height,wid
                    th,title,color, bgcolor,BITMAP_BACK);
 17696                        	.sym	pWin,4,138,6,32,33
 17697                        	.sym	style,8,18,6,32
 17698                        	.sym	cx,12,5,6,16
 17699                        	.sym	cy,14,5,6,16
 17700                        	.sym	height,16,5,6,16
 17701                        	.sym	width,18,5,6,16
 17702                        	.sym	title,20,142,6,32
 17703                        	.sym	color,24,5,6,16
 17704                        	.sym	bgcolor,26,5,6,16
 17705                        	.line	2595
 17706 06:4192: F4 08 00     	pea	#<$8
 17707 06:4195: D4 1A        	pei	<L897+bgcolor_0
 17708 06:4197: D4 18        	pei	<L897+color_0
 17709 06:4199: D4 16        	pei	<L897+title_0+2
 17710 06:419B: D4 14        	pei	<L897+title_0
 17711 06:419D: D4 12        	pei	<L897+width_0
 17712 06:419F: D4 10        	pei	<L897+height_0
 17713 06:41A1: D4 0E        	pei	<L897+cy_0
 17714 06:41A3: D4 0C        	pei	<L897+cx_0
 17715 06:41A5: D4 0A        	pei	<L897+style_0+2
 17716 06:41A7: D4 08        	pei	<L897+style_0
 17717 06:41A9: D4 06        	pei	<L897+pWin_0+2
 17718 06:41AB: D4 04        	pei	<L897+pWin_0
 17719 06:41AD: 22 BA 4C 06  	jsl	~~k_vdraw_ui_window_ex
  Mon Sep 27 2021  9:39                                                Page 325


 17720                        ;}
 17721                        	.line	2596
 17722                        L900:
 17723 06:41B1: A5 02        	lda	<L897+2
 17724 06:41B3: 85 1A        	sta	<L897+2+24
 17725 06:41B5: A5 01        	lda	<L897+1
 17726 06:41B7: 85 19        	sta	<L897+1+24
 17727 06:41B9: 2B           	pld
 17728 06:41BA: 3B           	tsc
 17729 06:41BB: 18           	clc
 17730 06:41BC: 69 18 00     	adc	#L897+24
 17731 06:41BF: 1B           	tcs
 17732 06:41C0: 6B           	rtl
 17733                        	.endblock	2596
 17734             00000000   L897	equ	0
 17735             00000001   L898	equ	1
 17736 06:41C1:              	ends
 17737                        	efunc
 17738                        	.endfunc	2596,1,0
 17739                        	.line	2596
 17740                        ;
 17741                        ;void k_gui_DrawWindow(HWND hWnd,int color, int bg
                    color)
 17742                        ;{
 17743                        	.line	2598
 17744                        	.line	2599
 17745                        	GFX
 17746                        	xdef	~~k_gui_DrawWindow
 17747                        	func
 17748                        	.function	2599
 17749                        ~~k_gui_DrawWindow:
 17750                        	longa	on
 17751                        	longi	on
 17752 06:41C1: 3B           	tsc
 17753 06:41C2: 38           	sec
 17754 06:41C3: E9 4A 00     	sbc	#L901
 17755 06:41C6: 1B           	tcs
 17756 06:41C7: 0B           	phd
 17757 06:41C8: 5B           	tcd
 17758             00000004   hWnd_0	set	4
 17759             00000008   color_0	set	8
 17760             0000000A   bgcolor_0	set	10
 17761                        	.block	2599
 17762                        ;	FONTMETRIC metric;
 17763                        ;
 17764                        ;	PRECT pwndRect 	  = NULL;
 17765                        ;	PRECT pclientRect = NULL;
 17766                        ;
 17767                        ;	int ncc = 0;
 17768                        ;
 17769                        ;	INT  bIndex       = 0;
 17770                        ;	UINT borderWidth  = 0;
 17771                        ;
 17772                        ;	int cacheTitle 	  = 0L;
 17773                        ;	ULONG style       = 0L;
 17774                        ;	RECT rect;
 17775                        ;
 17776                        ;	int titleOffsetX = 0;
  Mon Sep 27 2021  9:39                                                Page 326


 17777                        ;	int titleOffsetY = 0;
 17778                        ;	int titleScaler  = 0;
 17779                        ;	int tx = 0;
 17780                        ;	int gx,gy,bx,by;
 17781                        ;
 17782                        ;	PWINDOW pWin = (PWINDOW)hWnd;
 17783                        ;	if(pWin)
 17784             00000000   metric_1	set	0
 17785             00000004   pwndRect_1	set	4
 17786             00000008   pclientRect_1	set	8
 17787             0000000C   ncc_1	set	12
 17788             0000000E   bIndex_1	set	14
 17789             00000010   borderWidth_1	set	16
 17790             00000012   cacheTitle_1	set	18
 17791             00000014   style_1	set	20
 17792             00000018   rect_1	set	24
 17793             00000026   titleOffsetX_1	set	38
 17794             00000028   titleOffsetY_1	set	40
 17795             0000002A   titleScaler_1	set	42
 17796             0000002C   tx_1	set	44
 17797             0000002E   gx_1	set	46
 17798             00000030   gy_1	set	48
 17799             00000032   bx_1	set	50
 17800             00000034   by_1	set	52
 17801             00000036   pWin_1	set	54
 17802                        	.sym	metric,0,10,1,32,35
 17803                        	.sym	pwndRect,4,138,1,32,26
 17804                        	.sym	pclientRect,8,138,1,32,26
 17805                        	.sym	ncc,12,5,1,16
 17806                        	.sym	bIndex,14,5,1,16
 17807                        	.sym	borderWidth,16,16,1,16
 17808                        	.sym	cacheTitle,18,5,1,16
 17809                        	.sym	style,20,18,1,32
 17810                        	.sym	rect,24,10,1,112,26
 17811                        	.sym	titleOffsetX,38,5,1,16
 17812                        	.sym	titleOffsetY,40,5,1,16
 17813                        	.sym	titleScaler,42,5,1,16
 17814                        	.sym	tx,44,5,1,16
 17815                        	.sym	gx,46,5,1,16
 17816                        	.sym	gy,48,5,1,16
 17817                        	.sym	bx,50,5,1,16
 17818                        	.sym	by,52,5,1,16
 17819                        	.sym	pWin,54,138,1,32,33
 17820                        	.sym	hWnd,4,129,6,32
 17821                        	.sym	color,8,5,6,16
 17822                        	.sym	bgcolor,10,5,6,16
 17823 06:41C9: 64 15        	stz	<L902+pwndRect_1
 17824 06:41CB: 64 17        	stz	<L902+pwndRect_1+2
 17825 06:41CD: 64 19        	stz	<L902+pclientRect_1
 17826 06:41CF: 64 1B        	stz	<L902+pclientRect_1+2
 17827 06:41D1: 64 1D        	stz	<L902+ncc_1
 17828 06:41D3: 64 1F        	stz	<L902+bIndex_1
 17829 06:41D5: 64 21        	stz	<L902+borderWidth_1
 17830 06:41D7: 64 23        	stz	<L902+cacheTitle_1
 17831 06:41D9: 64 25        	stz	<L902+style_1
 17832 06:41DB: 64 27        	stz	<L902+style_1+2
 17833 06:41DD: 64 37        	stz	<L902+titleOffsetX_1
 17834 06:41DF: 64 39        	stz	<L902+titleOffsetY_1
  Mon Sep 27 2021  9:39                                                Page 327


 17835 06:41E1: 64 3B        	stz	<L902+titleScaler_1
 17836 06:41E3: 64 3D        	stz	<L902+tx_1
 17837 06:41E5: A5 4E        	lda	<L901+hWnd_0
 17838 06:41E7: 85 47        	sta	<L902+pWin_1
 17839 06:41E9: A5 50        	lda	<L901+hWnd_0+2
 17840 06:41EB: 85 49        	sta	<L902+pWin_1+2
 17841                        	.line	2621
 17842                        ;	{
 17843 06:41ED: A5 47        	lda	<L902+pWin_1
 17844 06:41EF: 05 49        	ora	<L902+pWin_1+2
 17845 06:41F1: D0 03        	bne	L904
 17846 06:41F3: 82 C1 0A     	brl	L10355
 17847                        L904:
 17848                        	.line	2622
 17849                        ;
 17850                        ;		pwndRect 	= &pWin->wndRect;
 17851                        	.line	2624
 17852 06:41F6: 18           	clc
 17853 06:41F7: A9 1C 00     	lda	#$1c
 17854 06:41FA: 65 47        	adc	<L902+pWin_1
 17855 06:41FC: 85 15        	sta	<L902+pwndRect_1
 17856 06:41FE: A9 00 00     	lda	#$0
 17857 06:4201: 65 49        	adc	<L902+pWin_1+2
 17858 06:4203: 85 17        	sta	<L902+pwndRect_1+2
 17859                        ;		pclientRect = &pWin->clientRect;
 17860                        	.line	2625
 17861 06:4205: 18           	clc
 17862 06:4206: A9 2A 00     	lda	#$2a
 17863 06:4209: 65 47        	adc	<L902+pWin_1
 17864 06:420B: 85 19        	sta	<L902+pclientRect_1
 17865 06:420D: A9 00 00     	lda	#$0
 17866 06:4210: 65 49        	adc	<L902+pWin_1+2
 17867 06:4212: 85 1B        	sta	<L902+pclientRect_1+2
 17868                        ;
 17869                        ;		style      = pWin->style;
 17870                        	.line	2627
 17871 06:4214: A0 02 00     	ldy	#$2
 17872 06:4217: B7 47        	lda	[<L902+pWin_1],Y
 17873 06:4219: 85 25        	sta	<L902+style_1
 17874 06:421B: A0 04 00     	ldy	#$4
 17875 06:421E: B7 47        	lda	[<L902+pWin_1],Y
 17876 06:4220: 85 27        	sta	<L902+style_1+2
 17877                        ;		cacheTitle = (pWin->styleEx & FXWSX_CACH
                    E_TITLE);
 17878                        	.line	2628
 17879 06:4222: A0 06 00     	ldy	#$6
 17880 06:4225: B7 47        	lda	[<L902+pWin_1],Y
 17881 06:4227: 29 02 00     	and	#<$2
 17882 06:422A: 85 01        	sta	<R0
 17883 06:422C: 64 03        	stz	<R0+2
 17884 06:422E: A5 01        	lda	<R0
 17885 06:4230: 85 23        	sta	<L902+cacheTitle_1
 17886                        ;
 17887                        ;		if(style & FXWS_VISIBLE != FXWS_VISIBLE)
 17888                        	.line	2630
 17889                        ;		{
 17890 06:4232: 82 1E 00     	brl	L10356
 17891                        	.line	2631
  Mon Sep 27 2021  9:39                                                Page 328


 17892                        ;			k_debug_pointer("k_gui_DrawWindo
                    w::NOT RENDERING:",hWnd);
 17893                        	.line	2632
 17894 06:4235: D4 50        	pei	<L901+hWnd_0+2
 17895 06:4237: D4 4E        	pei	<L901+hWnd_0
 17896 06:4239: F4 xx xx     	pea	#^L896
 17897 06:423C: F4 xx xx     	pea	#<L896
 17898 06:423F: 22 xx xx xx  	jsl	~~k_debug_pointer
 17899                        ;			return;
 17900                        	.line	2633
 17901                        L905:
 17902 06:4243: A5 4C        	lda	<L901+2
 17903 06:4245: 85 54        	sta	<L901+2+8
 17904 06:4247: A5 4B        	lda	<L901+1
 17905 06:4249: 85 53        	sta	<L901+1+8
 17906 06:424B: 2B           	pld
 17907 06:424C: 3B           	tsc
 17908 06:424D: 18           	clc
 17909 06:424E: 69 52 00     	adc	#L901+8
 17910 06:4251: 1B           	tcs
 17911 06:4252: 6B           	rtl
 17912                        ;		}
 17913                        	.line	2634
 17914                        ;
 17915                        ;
 17916                        ;		if(style & FXWS_THICKFRAME)
 17917                        L10356:
 17918                        	.line	2637
 17919                        ;		{
 17920 06:4253: A5 27        	lda	<L902+style_1+2
 17921 06:4255: 29 02 00     	and	#^$20000
 17922 06:4258: D0 03        	bne	L906
 17923 06:425A: 82 08 00     	brl	L10357
 17924                        L906:
 17925                        	.line	2638
 17926                        ;			borderWidth = SM_CXFRAME_DEFAULT
                     + SM_CXBORDER_DEFAULT;
 17927                        	.line	2639
 17928 06:425D: A9 03 00     	lda	#$3
 17929 06:4260: 85 21        	sta	<L902+borderWidth_1
 17930                        ;		}
 17931                        	.line	2640
 17932                        ;		else if(style & FXWS_BORDER)
 17933 06:4262: 82 21 00     	brl	L10358
 17934                        L10357:
 17935                        	.line	2641
 17936                        ;		{
 17937 06:4265: A5 27        	lda	<L902+style_1+2
 17938 06:4267: 29 01 00     	and	#^$10000
 17939 06:426A: D0 03        	bne	L907
 17940 06:426C: 82 08 00     	brl	L10359
 17941                        L907:
 17942                        	.line	2642
 17943                        ;			borderWidth = SM_CXBORDER_DEFAUL
                    T;
 17944                        	.line	2643
 17945 06:426F: A9 01 00     	lda	#$1
 17946 06:4272: 85 21        	sta	<L902+borderWidth_1
  Mon Sep 27 2021  9:39                                                Page 329


 17947                        ;		}
 17948                        	.line	2644
 17949                        ;		else if(style & FXWS_DLGFRAME)
 17950 06:4274: 82 0F 00     	brl	L10360
 17951                        L10359:
 17952                        	.line	2645
 17953                        ;		{
 17954 06:4277: A5 27        	lda	<L902+style_1+2
 17955 06:4279: 29 04 00     	and	#^$40000
 17956 06:427C: D0 03        	bne	L908
 17957 06:427E: 82 05 00     	brl	L10361
 17958                        L908:
 17959                        	.line	2646
 17960                        ;			borderWidth = SM_CXDLGFRAME_DEFA
                    ULT + SM_CXBORDER_DEFAULT;
 17961                        	.line	2647
 17962 06:4281: A9 05 00     	lda	#$5
 17963 06:4284: 85 21        	sta	<L902+borderWidth_1
 17964                        ;		}
 17965                        	.line	2648
 17966                        ;
 17967                        ;		if(borderWidth > 0)
 17968                        L10361:
 17969                        L10360:
 17970                        L10358:
 17971                        	.line	2650
 17972                        ;		{
 17973 06:4286: A9 00 00     	lda	#$0
 17974 06:4289: C5 21        	cmp	<L902+borderWidth_1
 17975 06:428B: 90 03        	bcc	L909
 17976 06:428D: 82 21 01     	brl	L10362
 17977                        L909:
 17978                        	.line	2651
 17979                        ;			if(borderWidth > SM_CXBORDER_DEF
                    AULT)
 17980                        	.line	2652
 17981                        ;			{
 17982 06:4290: A9 01 00     	lda	#$1
 17983 06:4293: C5 21        	cmp	<L902+borderWidth_1
 17984 06:4295: 90 03        	bcc	L910
 17985 06:4297: 82 42 00     	brl	L10363
 17986                        L910:
 17987                        	.line	2653
 17988                        ;				k_vdma_fill_rect_ex(pwnd
                    Rect->x,
 17989                        	.line	2654
 17990                        ;							
                    		pwndRect->y,
 17991                        ;							
                    		pwndRect->width,
 17992                        ;							
                    		pwndRect->height,
 17993                        ;							
                    		k_getUIWindowBorderColor(),
 17994                        ;						        
                        pWin->nBitmapLayer);
 17995 06:429A: A0 9E 01     	ldy	#$19e
 17996 06:429D: B7 47        	lda	[<L902+pWin_1],Y
  Mon Sep 27 2021  9:39                                                Page 330


 17997 06:429F: 48           	pha
 17998 06:42A0: 22 9F 12 06  	jsl	~~k_getUIWindowBorderColor
 17999 06:42A4: 48           	pha
 18000 06:42A5: A0 0A 00     	ldy	#$a
 18001 06:42A8: B7 15        	lda	[<L902+pwndRect_1],Y
 18002 06:42AA: 48           	pha
 18003 06:42AB: A0 08 00     	ldy	#$8
 18004 06:42AE: B7 15        	lda	[<L902+pwndRect_1],Y
 18005 06:42B0: 48           	pha
 18006 06:42B1: A0 00 00     	ldy	#$0
 18007 06:42B4: 5A           	phy
 18008 06:42B5: A0 02 00     	ldy	#$2
 18009 06:42B8: B7 15        	lda	[<L902+pwndRect_1],Y
 18010 06:42BA: 7A           	ply
 18011 06:42BB: 2A           	rol	A
 18012 06:42BC: 6A           	ror	A
 18013 06:42BD: 10 01        	bpl	L911
 18014 06:42BF: 88           	dey
 18015                        L911:
 18016 06:42C0: 85 01        	sta	<R0
 18017 06:42C2: 84 03        	sty	<R0+2
 18018 06:42C4: D4 03        	pei	<R0+2
 18019 06:42C6: D4 01        	pei	<R0
 18020 06:42C8: A0 00 00     	ldy	#$0
 18021 06:42CB: A7 15        	lda	[<L902+pwndRect_1]
 18022 06:42CD: 10 01        	bpl	L912
 18023 06:42CF: 88           	dey
 18024                        L912:
 18025 06:42D0: 85 05        	sta	<R1
 18026 06:42D2: 84 07        	sty	<R1+2
 18027 06:42D4: D4 07        	pei	<R1+2
 18028 06:42D6: D4 05        	pei	<R1
 18029 06:42D8: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 18030                        ;
 18031                        ;			}
 18032                        	.line	2661
 18033                        ;
 18034                        ;			for(bIndex=0;bIndex<SM_CXBORDER_
                    DEFAULT;bIndex++)
 18035                        L10363:
 18036                        	.line	2663
 18037 06:42DC: 64 1F        	stz	<L902+bIndex_1
 18038                        L10366:
 18039                        ;			{
 18040                        	.line	2664
 18041                        ;				k_draw_rect(pwndRect->x 
                    + bIndex,
 18042                        	.line	2665
 18043                        ;							
                    pwndRect->y + bIndex,
 18044                        ;							
                    PRECTRIGHT(pwndRect)  - bIndex,
 18045                        ;							
                    PRECTBOTTOM(pwndRect) - bIndex,
 18046                        ;							
                    11,
 18047                        ;							
                    0,
  Mon Sep 27 2021  9:39                                                Page 331


 18048                        ;							
                    pWin->nBitmapLayer);
 18049 06:42DE: A0 9E 01     	ldy	#$19e
 18050 06:42E1: B7 47        	lda	[<L902+pWin_1],Y
 18051 06:42E3: 48           	pha
 18052 06:42E4: F4 00 00     	pea	#<$0
 18053 06:42E7: F4 0B 00     	pea	#<$b
 18054 06:42EA: 18           	clc
 18055 06:42EB: A0 02 00     	ldy	#$2
 18056 06:42EE: B7 15        	lda	[<L902+pwndRect_1],Y
 18057 06:42F0: A0 0A 00     	ldy	#$a
 18058 06:42F3: 77 15        	adc	[<L902+pwndRect_1],Y
 18059 06:42F5: 85 01        	sta	<R0
 18060 06:42F7: 18           	clc
 18061 06:42F8: A9 FF FF     	lda	#$ffff
 18062 06:42FB: 65 01        	adc	<R0
 18063 06:42FD: 85 05        	sta	<R1
 18064 06:42FF: 38           	sec
 18065 06:4300: A5 05        	lda	<R1
 18066 06:4302: E5 1F        	sbc	<L902+bIndex_1
 18067 06:4304: 48           	pha
 18068 06:4305: 18           	clc
 18069 06:4306: A7 15        	lda	[<L902+pwndRect_1]
 18070 06:4308: A0 08 00     	ldy	#$8
 18071 06:430B: 77 15        	adc	[<L902+pwndRect_1],Y
 18072 06:430D: 85 01        	sta	<R0
 18073 06:430F: 18           	clc
 18074 06:4310: A9 FF FF     	lda	#$ffff
 18075 06:4313: 65 01        	adc	<R0
 18076 06:4315: 85 05        	sta	<R1
 18077 06:4317: 38           	sec
 18078 06:4318: A5 05        	lda	<R1
 18079 06:431A: E5 1F        	sbc	<L902+bIndex_1
 18080 06:431C: 48           	pha
 18081 06:431D: 18           	clc
 18082 06:431E: A0 02 00     	ldy	#$2
 18083 06:4321: B7 15        	lda	[<L902+pwndRect_1],Y
 18084 06:4323: 65 1F        	adc	<L902+bIndex_1
 18085 06:4325: 48           	pha
 18086 06:4326: 18           	clc
 18087 06:4327: A7 15        	lda	[<L902+pwndRect_1]
 18088 06:4329: 65 1F        	adc	<L902+bIndex_1
 18089 06:432B: 48           	pha
 18090 06:432C: 22 76 20 06  	jsl	~~k_draw_rect
 18091                        ;			}
 18092                        	.line	2672
 18093                        L10364:
 18094 06:4330: E6 1F        	inc	<L902+bIndex_1
 18095 06:4332: A5 1F        	lda	<L902+bIndex_1
 18096 06:4334: 30 03        	bmi	L913
 18097 06:4336: 3A           	dea
 18098 06:4337: 10 03        	bpl	L914
 18099                        L913:
 18100 06:4339: 82 A2 FF     	brl	L10366
 18101                        L914:
 18102                        L10365:
 18103                        ;
 18104                        ;
  Mon Sep 27 2021  9:39                                                Page 332


 18105                        ;
 18106                        ;			k_draw_rect(pclientRect->x - SM_
                    CLIENT_BORDER_DEFAULT,
 18107                        	.line	2676
 18108                        ;						pclientR
                    ect->y - SM_CLIENT_BORDER_DEFAULT,
 18109                        ;						PRECTRIG
                    HT(pclientRect)  + SM_CLIENT_BORDER_DEFAULT ,
 18110                        ;						PRECTBOT
                    TOM(pclientRect) + SM_CLIENT_BORDER_DEFAULT,
 18111                        ;						11,
 18112                        ;						0,
 18113                        ;						pWin->nB
                    itmapLayer);
 18114 06:433C: A0 9E 01     	ldy	#$19e
 18115 06:433F: B7 47        	lda	[<L902+pWin_1],Y
 18116 06:4341: 48           	pha
 18117 06:4342: F4 00 00     	pea	#<$0
 18118 06:4345: F4 0B 00     	pea	#<$b
 18119 06:4348: 18           	clc
 18120 06:4349: A0 02 00     	ldy	#$2
 18121 06:434C: B7 19        	lda	[<L902+pclientRect_1],Y
 18122 06:434E: A0 0A 00     	ldy	#$a
 18123 06:4351: 77 19        	adc	[<L902+pclientRect_1],Y
 18124 06:4353: 48           	pha
 18125 06:4354: 18           	clc
 18126 06:4355: A7 19        	lda	[<L902+pclientRect_1]
 18127 06:4357: A0 08 00     	ldy	#$8
 18128 06:435A: 77 19        	adc	[<L902+pclientRect_1],Y
 18129 06:435C: 48           	pha
 18130 06:435D: 18           	clc
 18131 06:435E: A9 FF FF     	lda	#$ffff
 18132 06:4361: A0 02 00     	ldy	#$2
 18133 06:4364: 77 19        	adc	[<L902+pclientRect_1],Y
 18134 06:4366: 48           	pha
 18135 06:4367: 18           	clc
 18136 06:4368: A9 FF FF     	lda	#$ffff
 18137 06:436B: 67 19        	adc	[<L902+pclientRect_1]
 18138 06:436D: 48           	pha
 18139 06:436E: 22 76 20 06  	jsl	~~k_draw_rect
 18140                        ;
 18141                        ;			k_vdma_fill_rect_ex(pclientRect-
                    >x,
 18142                        	.line	2684
 18143                        ;							
                    	pclientRect->y,
 18144                        ;							
                    	pclientRect->width ,
 18145                        ;							
                    	pclientRect->height ,
 18146                        ;							
                    	bgcolor,
 18147                        ;					            pWin
                    ->nBitmapLayer);
 18148 06:4372: A0 9E 01     	ldy	#$19e
 18149 06:4375: B7 47        	lda	[<L902+pWin_1],Y
 18150 06:4377: 48           	pha
 18151 06:4378: D4 54        	pei	<L901+bgcolor_0
  Mon Sep 27 2021  9:39                                                Page 333


 18152 06:437A: A0 0A 00     	ldy	#$a
 18153 06:437D: B7 19        	lda	[<L902+pclientRect_1],Y
 18154 06:437F: 48           	pha
 18155 06:4380: A0 08 00     	ldy	#$8
 18156 06:4383: B7 19        	lda	[<L902+pclientRect_1],Y
 18157 06:4385: 48           	pha
 18158 06:4386: A0 00 00     	ldy	#$0
 18159 06:4389: 5A           	phy
 18160 06:438A: A0 02 00     	ldy	#$2
 18161 06:438D: B7 19        	lda	[<L902+pclientRect_1],Y
 18162 06:438F: 7A           	ply
 18163 06:4390: 2A           	rol	A
 18164 06:4391: 6A           	ror	A
 18165 06:4392: 10 01        	bpl	L915
 18166 06:4394: 88           	dey
 18167                        L915:
 18168 06:4395: 85 01        	sta	<R0
 18169 06:4397: 84 03        	sty	<R0+2
 18170 06:4399: D4 03        	pei	<R0+2
 18171 06:439B: D4 01        	pei	<R0
 18172 06:439D: A0 00 00     	ldy	#$0
 18173 06:43A0: A7 19        	lda	[<L902+pclientRect_1]
 18174 06:43A2: 10 01        	bpl	L916
 18175 06:43A4: 88           	dey
 18176                        L916:
 18177 06:43A5: 85 05        	sta	<R1
 18178 06:43A7: 84 07        	sty	<R1+2
 18179 06:43A9: D4 07        	pei	<R1+2
 18180 06:43AB: D4 05        	pei	<R1
 18181 06:43AD: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 18182                        ;
 18183                        ;		}
 18184                        	.line	2691
 18185                        ;
 18186                        ;		k_get_font_metrics(&metric);
 18187                        L10362:
 18188                        	.line	2693
 18189 06:43B1: F4 00 00     	pea	#0
 18190 06:43B4: 18           	clc
 18191 06:43B5: 7B           	tdc
 18192 06:43B6: 69 11 00     	adc	#<L902+metric_1
 18193 06:43B9: 48           	pha
 18194 06:43BA: 22 56 26 06  	jsl	~~k_get_font_metrics
 18195                        ;
 18196                        ;		gx = k_user_getSystemMetric(SM_CXGADGET)
                    ;
 18197                        	.line	2695
 18198 06:43BE: F4 18 00     	pea	#<$18
 18199 06:43C1: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 18200 06:43C5: 85 3F        	sta	<L902+gx_1
 18201                        ;		gy = k_user_getSystemMetric(SM_CYGADGET)
                    ;
 18202                        	.line	2696
 18203 06:43C7: F4 19 00     	pea	#<$19
 18204 06:43CA: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 18205 06:43CE: 85 41        	sta	<L902+gy_1
 18206                        ;		bx = k_user_getSystemMetric(SM_CXBORDER)
                    ;
  Mon Sep 27 2021  9:39                                                Page 334


 18207                        	.line	2697
 18208 06:43D0: F4 05 00     	pea	#<$5
 18209 06:43D3: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 18210 06:43D7: 85 43        	sta	<L902+bx_1
 18211                        ;		by = k_user_getSystemMetric(SM_CYBORDER)
                    ;
 18212                        	.line	2698
 18213 06:43D9: F4 06 00     	pea	#<$6
 18214 06:43DC: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 18215 06:43E0: 85 45        	sta	<L902+by_1
 18216                        ;
 18217                        ;		titleOffsetX = pwndRect->x+SM_TITLE_XGAD
                    GETGAP_DEFAULT;
 18218                        	.line	2700
 18219 06:43E2: 18           	clc
 18220 06:43E3: A9 04 00     	lda	#$4
 18221 06:43E6: 67 15        	adc	[<L902+pwndRect_1]
 18222 06:43E8: 85 37        	sta	<L902+titleOffsetX_1
 18223                        ;		titleOffsetY = pwndRect->y+SM_TITLE_YGAD
                    GETGAP_DEFAULT;
 18224                        	.line	2701
 18225 06:43EA: 18           	clc
 18226 06:43EB: A9 05 00     	lda	#$5
 18227 06:43EE: A0 02 00     	ldy	#$2
 18228 06:43F1: 77 15        	adc	[<L902+pwndRect_1],Y
 18229 06:43F3: 85 39        	sta	<L902+titleOffsetY_1
 18230                        ;
 18231                        ;		if(style & FXWS_SYSMENU)
 18232                        	.line	2703
 18233                        ;		{
 18234 06:43F5: A5 25        	lda	<L902+style_1
 18235 06:43F7: 29 08 00     	and	#<$8
 18236 06:43FA: D0 03        	bne	L917
 18237 06:43FC: 82 AA 00     	brl	L10367
 18238                        L917:
 18239                        	.line	2704
 18240                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),
 18241                        	.line	2705
 18242                        ;					   titleOffsetX,
                    titleOffsetY,gx,gx);
 18243 06:43FF: D4 3F        	pei	<L902+gx_1
 18244 06:4401: D4 3F        	pei	<L902+gx_1
 18245 06:4403: D4 39        	pei	<L902+titleOffsetY_1
 18246 06:4405: D4 37        	pei	<L902+titleOffsetX_1
 18247 06:4407: A0 00 00     	ldy	#$0
 18248 06:440A: A5 1D        	lda	<L902+ncc_1
 18249 06:440C: 10 01        	bpl	L918
 18250 06:440E: 88           	dey
 18251                        L918:
 18252 06:440F: 85 01        	sta	<R0
 18253 06:4411: 84 03        	sty	<R0+2
 18254 06:4413: F4 00 00     	pea	#^$11
 18255 06:4416: F4 11 00     	pea	#<$11
 18256 06:4419: D4 03        	pei	<R0+2
 18257 06:441B: D4 01        	pei	<R0
 18258                        	xref	~~~lmul
 18259 06:441D: 22 xx xx xx  	jsl	~~~lmul
  Mon Sep 27 2021  9:39                                                Page 335


 18260 06:4421: 85 01        	sta	<R0
 18261 06:4423: 86 03        	stx	<R0+2
 18262 06:4425: 18           	clc
 18263 06:4426: A9 38 00     	lda	#$38
 18264 06:4429: 65 01        	adc	<R0
 18265 06:442B: 85 05        	sta	<R1
 18266 06:442D: A9 00 00     	lda	#$0
 18267 06:4430: 65 03        	adc	<R0+2
 18268 06:4432: 85 07        	sta	<R1+2
 18269 06:4434: 18           	clc
 18270 06:4435: A5 47        	lda	<L902+pWin_1
 18271 06:4437: 65 05        	adc	<R1
 18272 06:4439: 85 01        	sta	<R0
 18273 06:443B: A5 49        	lda	<L902+pWin_1+2
 18274 06:443D: 65 07        	adc	<R1+2
 18275 06:443F: 85 03        	sta	<R0+2
 18276 06:4441: D4 03        	pei	<R0+2
 18277 06:4443: D4 01        	pei	<R0
 18278 06:4445: 22 06 06 06  	jsl	~~k_set_rect
 18279                        ;			pWin->nonclientGadgets[ncc++].ms
                    gType = FX_WINDOW_CLOSE;
 18280                        	.line	2707
 18281 06:4449: A0 00 00     	ldy	#$0
 18282 06:444C: A5 1D        	lda	<L902+ncc_1
 18283 06:444E: 10 01        	bpl	L919
 18284 06:4450: 88           	dey
 18285                        L919:
 18286 06:4451: 85 01        	sta	<R0
 18287 06:4453: 84 03        	sty	<R0+2
 18288 06:4455: F4 00 00     	pea	#^$11
 18289 06:4458: F4 11 00     	pea	#<$11
 18290 06:445B: D4 03        	pei	<R0+2
 18291 06:445D: D4 01        	pei	<R0
 18292                        	xref	~~~lmul
 18293 06:445F: 22 xx xx xx  	jsl	~~~lmul
 18294 06:4463: 85 01        	sta	<R0
 18295 06:4465: 86 03        	stx	<R0+2
 18296 06:4467: 18           	clc
 18297 06:4468: A9 46 00     	lda	#$46
 18298 06:446B: 65 47        	adc	<L902+pWin_1
 18299 06:446D: 85 05        	sta	<R1
 18300 06:446F: A9 00 00     	lda	#$0
 18301 06:4472: 65 49        	adc	<L902+pWin_1+2
 18302 06:4474: 85 07        	sta	<R1+2
 18303 06:4476: 18           	clc
 18304 06:4477: A5 05        	lda	<R1
 18305 06:4479: 65 01        	adc	<R0
 18306 06:447B: 85 09        	sta	<R2
 18307 06:447D: A5 07        	lda	<R1+2
 18308 06:447F: 65 03        	adc	<R0+2
 18309 06:4481: 85 0B        	sta	<R2+2
 18310 06:4483: A9 FF FB     	lda	#$fbff
 18311 06:4486: 87 09        	sta	[<R2]
 18312 06:4488: E6 1D        	inc	<L902+ncc_1
 18313                        ;
 18314                        ;			titleOffsetX+=k_put_wingadget_po
                    int_ex(WINICON_TITLE_BCLOSE,
 18315                        	.line	2709
  Mon Sep 27 2021  9:39                                                Page 336


 18316                        ;							
                    					   titleOffsetX,titleOff
                    setY,
 18317                        ;							
                    					   k_getUIGadgetColor(),
 18318                        ;							
                    					   pWin->nBitmapLayer);
 18319 06:448A: A0 9E 01     	ldy	#$19e
 18320 06:448D: B7 47        	lda	[<L902+pWin_1],Y
 18321 06:448F: 48           	pha
 18322 06:4490: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
 18323 06:4494: 48           	pha
 18324 06:4495: D4 39        	pei	<L902+titleOffsetY_1
 18325 06:4497: D4 37        	pei	<L902+titleOffsetX_1
 18326 06:4499: F4 06 00     	pea	#<$6
 18327 06:449C: 22 F6 2E 06  	jsl	~~k_put_wingadget_point_ex
 18328 06:44A0: 85 01        	sta	<R0
 18329 06:44A2: 18           	clc
 18330 06:44A3: A5 01        	lda	<R0
 18331 06:44A5: 65 37        	adc	<L902+titleOffsetX_1
 18332 06:44A7: 85 37        	sta	<L902+titleOffsetX_1
 18333                        ;		}
 18334                        	.line	2713
 18335                        ;
 18336                        ;
 18337                        ;		if((style & FXWS_CAPTION) == FXWS_CAPTIO
                    N)
 18338                        L10367:
 18339                        	.line	2716
 18340                        ;		{
 18341 06:44A9: A5 25        	lda	<L902+style_1
 18342 06:44AB: 29 04 00     	and	#<$4
 18343 06:44AE: 85 01        	sta	<R0
 18344 06:44B0: 64 03        	stz	<R0+2
 18345 06:44B2: A5 01        	lda	<R0
 18346 06:44B4: C9 04 00     	cmp	#<$4
 18347 06:44B7: D0 05        	bne	L920
 18348 06:44B9: A5 03        	lda	<R0+2
 18349 06:44BB: C9 00 00     	cmp	#^$4
 18350                        L920:
 18351 06:44BE: F0 03        	beq	L921
 18352 06:44C0: 82 40 00     	brl	L10368
 18353                        L921:
 18354                        	.line	2717
 18355                        ;			rect.x = titleOffsetX + SM_TITLE
                    _XGADGETGAP_DEFAULT;
 18356                        	.line	2718
 18357 06:44C3: 18           	clc
 18358 06:44C4: A9 04 00     	lda	#$4
 18359 06:44C7: 65 37        	adc	<L902+titleOffsetX_1
 18360 06:44C9: 85 29        	sta	<L902+rect_1
 18361                        ;			rect.y = titleOffsetY;
 18362                        	.line	2719
 18363 06:44CB: A5 39        	lda	<L902+titleOffsetY_1
 18364 06:44CD: 85 2B        	sta	<L902+rect_1+2
 18365                        ;			rect.width  = pwndRect->width - 
                    (titleOffsetX - pwndRect->x) - (SM_TITLE_XGADGETGAP_DEFAULT 
                    + SM_TITLE_XGADGETGAP_DEFAULT);
  Mon Sep 27 2021  9:39                                                Page 337


 18366                        	.line	2720
 18367 06:44CF: 38           	sec
 18368 06:44D0: A5 37        	lda	<L902+titleOffsetX_1
 18369 06:44D2: E7 15        	sbc	[<L902+pwndRect_1]
 18370 06:44D4: 85 01        	sta	<R0
 18371 06:44D6: 38           	sec
 18372 06:44D7: A0 08 00     	ldy	#$8
 18373 06:44DA: B7 15        	lda	[<L902+pwndRect_1],Y
 18374 06:44DC: E5 01        	sbc	<R0
 18375 06:44DE: 85 05        	sta	<R1
 18376 06:44E0: 18           	clc
 18377 06:44E1: A9 F8 FF     	lda	#$fff8
 18378 06:44E4: 65 05        	adc	<R1
 18379 06:44E6: 85 31        	sta	<L902+rect_1+8
 18380                        ;			rect.height = 8;
 18381                        	.line	2721
 18382 06:44E8: A9 08 00     	lda	#$8
 18383 06:44EB: 85 33        	sta	<L902+rect_1+10
 18384                        ;			k_gui_get_image_cache(0,0x080000
                    ,&rect);
 18385                        	.line	2722
 18386 06:44ED: F4 00 00     	pea	#0
 18387 06:44F0: 18           	clc
 18388 06:44F1: 7B           	tdc
 18389 06:44F2: 69 29 00     	adc	#<L902+rect_1
 18390 06:44F5: 48           	pha
 18391 06:44F6: F4 08 00     	pea	#^$80000
 18392 06:44F9: F4 00 00     	pea	#<$80000
 18393 06:44FC: F4 00 00     	pea	#<$0
 18394 06:44FF: 22 19 03 06  	jsl	~~k_gui_get_image_cache
 18395                        ;		}
 18396                        	.line	2723
 18397                        ;
 18398                        ;
 18399                        ;		if((style & FXWS_MINIMIZEBOX) && (style 
                    & FXWS_MAXIMIZEBOX))
 18400                        L10368:
 18401                        	.line	2726
 18402                        ;		{
 18403 06:4503: A5 25        	lda	<L902+style_1
 18404 06:4505: 29 20 00     	and	#<$20
 18405 06:4508: D0 03        	bne	L922
 18406 06:450A: 82 BC 01     	brl	L10369
 18407                        L922:
 18408 06:450D: A5 25        	lda	<L902+style_1
 18409 06:450F: 29 10 00     	and	#<$10
 18410 06:4512: D0 03        	bne	L923
 18411 06:4514: 82 B2 01     	brl	L10369
 18412                        L923:
 18413                        	.line	2727
 18414                        ;			tx = ((pwndRect->x + pwndRect->w
                    idth - 0) - (SM_TITLE_XGADGETGAP_DEFAULT + gx));
 18415                        	.line	2728
 18416 06:4517: 18           	clc
 18417 06:4518: A9 04 00     	lda	#$4
 18418 06:451B: 65 3F        	adc	<L902+gx_1
 18419 06:451D: 85 01        	sta	<R0
 18420 06:451F: 18           	clc
  Mon Sep 27 2021  9:39                                                Page 338


 18421 06:4520: A7 15        	lda	[<L902+pwndRect_1]
 18422 06:4522: A0 08 00     	ldy	#$8
 18423 06:4525: 77 15        	adc	[<L902+pwndRect_1],Y
 18424 06:4527: 85 05        	sta	<R1
 18425 06:4529: 38           	sec
 18426 06:452A: A5 05        	lda	<R1
 18427 06:452C: E5 01        	sbc	<R0
 18428 06:452E: 85 3D        	sta	<L902+tx_1
 18429                        ;
 18430                        ;
 18431                        ;			k_put_wingadget_point_ex(WINICON
                    _BLOCK     ,tx,titleOffsetY,k_getUIWindowBorderColor(),pWin-
                    >nBitmapLayer);
 18432                        	.line	2731
 18433 06:4530: A0 9E 01     	ldy	#$19e
 18434 06:4533: B7 47        	lda	[<L902+pWin_1],Y
 18435 06:4535: 48           	pha
 18436 06:4536: 22 9F 12 06  	jsl	~~k_getUIWindowBorderColor
 18437 06:453A: 48           	pha
 18438 06:453B: D4 39        	pei	<L902+titleOffsetY_1
 18439 06:453D: D4 3D        	pei	<L902+tx_1
 18440 06:453F: F4 00 00     	pea	#<$0
 18441 06:4542: 22 F6 2E 06  	jsl	~~k_put_wingadget_point_ex
 18442                        ;			k_put_wingadget_point_ex(WINICON
                    _TITLE_BACK,tx,titleOffsetY,k_getUIGadgetColor()      ,pWin-
                    >nBitmapLayer);
 18443                        	.line	2732
 18444 06:4546: A0 9E 01     	ldy	#$19e
 18445 06:4549: B7 47        	lda	[<L902+pWin_1],Y
 18446 06:454B: 48           	pha
 18447 06:454C: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
 18448 06:4550: 48           	pha
 18449 06:4551: D4 39        	pei	<L902+titleOffsetY_1
 18450 06:4553: D4 3D        	pei	<L902+tx_1
 18451 06:4555: F4 04 00     	pea	#<$4
 18452 06:4558: 22 F6 2E 06  	jsl	~~k_put_wingadget_point_ex
 18453                        ;			pWin->nonclientGadgets[ncc].msgT
                    ype = FX_MIN_WINDOW;
 18454                        	.line	2733
 18455 06:455C: A0 00 00     	ldy	#$0
 18456 06:455F: A5 1D        	lda	<L902+ncc_1
 18457 06:4561: 10 01        	bpl	L924
 18458 06:4563: 88           	dey
 18459                        L924:
 18460 06:4564: 85 01        	sta	<R0
 18461 06:4566: 84 03        	sty	<R0+2
 18462 06:4568: F4 00 00     	pea	#^$11
 18463 06:456B: F4 11 00     	pea	#<$11
 18464 06:456E: D4 03        	pei	<R0+2
 18465 06:4570: D4 01        	pei	<R0
 18466                        	xref	~~~lmul
 18467 06:4572: 22 xx xx xx  	jsl	~~~lmul
 18468 06:4576: 85 01        	sta	<R0
 18469 06:4578: 86 03        	stx	<R0+2
 18470 06:457A: 18           	clc
 18471 06:457B: A9 46 00     	lda	#$46
 18472 06:457E: 65 47        	adc	<L902+pWin_1
 18473 06:4580: 85 05        	sta	<R1
  Mon Sep 27 2021  9:39                                                Page 339


 18474 06:4582: A9 00 00     	lda	#$0
 18475 06:4585: 65 49        	adc	<L902+pWin_1+2
 18476 06:4587: 85 07        	sta	<R1+2
 18477 06:4589: 18           	clc
 18478 06:458A: A5 05        	lda	<R1
 18479 06:458C: 65 01        	adc	<R0
 18480 06:458E: 85 09        	sta	<R2
 18481 06:4590: A5 07        	lda	<R1+2
 18482 06:4592: 65 03        	adc	<R0+2
 18483 06:4594: 85 0B        	sta	<R2+2
 18484 06:4596: A9 09 FB     	lda	#$fb09
 18485 06:4599: 87 09        	sta	[<R2]
 18486                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),tx,titleOffsetY,gx,gx);
 18487                        	.line	2734
 18488 06:459B: D4 3F        	pei	<L902+gx_1
 18489 06:459D: D4 3F        	pei	<L902+gx_1
 18490 06:459F: D4 39        	pei	<L902+titleOffsetY_1
 18491 06:45A1: D4 3D        	pei	<L902+tx_1
 18492 06:45A3: A0 00 00     	ldy	#$0
 18493 06:45A6: A5 1D        	lda	<L902+ncc_1
 18494 06:45A8: 10 01        	bpl	L925
 18495 06:45AA: 88           	dey
 18496                        L925:
 18497 06:45AB: 85 01        	sta	<R0
 18498 06:45AD: 84 03        	sty	<R0+2
 18499 06:45AF: F4 00 00     	pea	#^$11
 18500 06:45B2: F4 11 00     	pea	#<$11
 18501 06:45B5: D4 03        	pei	<R0+2
 18502 06:45B7: D4 01        	pei	<R0
 18503                        	xref	~~~lmul
 18504 06:45B9: 22 xx xx xx  	jsl	~~~lmul
 18505 06:45BD: 85 01        	sta	<R0
 18506 06:45BF: 86 03        	stx	<R0+2
 18507 06:45C1: 18           	clc
 18508 06:45C2: A9 38 00     	lda	#$38
 18509 06:45C5: 65 01        	adc	<R0
 18510 06:45C7: 85 05        	sta	<R1
 18511 06:45C9: A9 00 00     	lda	#$0
 18512 06:45CC: 65 03        	adc	<R0+2
 18513 06:45CE: 85 07        	sta	<R1+2
 18514 06:45D0: 18           	clc
 18515 06:45D1: A5 47        	lda	<L902+pWin_1
 18516 06:45D3: 65 05        	adc	<R1
 18517 06:45D5: 85 01        	sta	<R0
 18518 06:45D7: A5 49        	lda	<L902+pWin_1+2
 18519 06:45D9: 65 07        	adc	<R1+2
 18520 06:45DB: 85 03        	sta	<R0+2
 18521 06:45DD: D4 03        	pei	<R0+2
 18522 06:45DF: D4 01        	pei	<R0
 18523 06:45E1: 22 06 06 06  	jsl	~~k_set_rect
 18524                        ;
 18525                        ;			ncc++;
 18526                        	.line	2736
 18527 06:45E5: E6 1D        	inc	<L902+ncc_1
 18528                        ;
 18529                        ;			tx = ((pwndRect->x + pwndRect->w
                    idth - 0) - (SM_TITLE_XGADGETGAP_DEFAULT + gx) - (SM_TITLE_X
  Mon Sep 27 2021  9:39                                                Page 340


                    GADGETGAP_DEFAULT + gx));
 18530                        	.line	2738
 18531 06:45E7: 18           	clc
 18532 06:45E8: A9 04 00     	lda	#$4
 18533 06:45EB: 65 3F        	adc	<L902+gx_1
 18534 06:45ED: 85 01        	sta	<R0
 18535 06:45EF: 18           	clc
 18536 06:45F0: A9 04 00     	lda	#$4
 18537 06:45F3: 65 3F        	adc	<L902+gx_1
 18538 06:45F5: 85 05        	sta	<R1
 18539 06:45F7: 18           	clc
 18540 06:45F8: A7 15        	lda	[<L902+pwndRect_1]
 18541 06:45FA: A0 08 00     	ldy	#$8
 18542 06:45FD: 77 15        	adc	[<L902+pwndRect_1],Y
 18543 06:45FF: 85 09        	sta	<R2
 18544 06:4601: 38           	sec
 18545 06:4602: A5 09        	lda	<R2
 18546 06:4604: E5 05        	sbc	<R1
 18547 06:4606: 85 0D        	sta	<R3
 18548 06:4608: 38           	sec
 18549 06:4609: A5 0D        	lda	<R3
 18550 06:460B: E5 01        	sbc	<R0
 18551 06:460D: 85 3D        	sta	<L902+tx_1
 18552                        ;
 18553                        ;			k_put_wingadget_point_ex(WINICON
                    _BLOCK      ,tx,titleOffsetY,k_getUIWindowBorderColor(),pWin
                    ->nBitmapLayer);
 18554                        	.line	2740
 18555 06:460F: A0 9E 01     	ldy	#$19e
 18556 06:4612: B7 47        	lda	[<L902+pWin_1],Y
 18557 06:4614: 48           	pha
 18558 06:4615: 22 9F 12 06  	jsl	~~k_getUIWindowBorderColor
 18559 06:4619: 48           	pha
 18560 06:461A: D4 39        	pei	<L902+titleOffsetY_1
 18561 06:461C: D4 3D        	pei	<L902+tx_1
 18562 06:461E: F4 00 00     	pea	#<$0
 18563 06:4621: 22 F6 2E 06  	jsl	~~k_put_wingadget_point_ex
 18564                        ;			k_put_wingadget_point_ex(WINICON
                    _TITLE_FRONT,tx,titleOffsetY,k_getUIGadgetColor()      ,pWin
                    ->nBitmapLayer);
 18565                        	.line	2741
 18566 06:4625: A0 9E 01     	ldy	#$19e
 18567 06:4628: B7 47        	lda	[<L902+pWin_1],Y
 18568 06:462A: 48           	pha
 18569 06:462B: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
 18570 06:462F: 48           	pha
 18571 06:4630: D4 39        	pei	<L902+titleOffsetY_1
 18572 06:4632: D4 3D        	pei	<L902+tx_1
 18573 06:4634: F4 03 00     	pea	#<$3
 18574 06:4637: 22 F6 2E 06  	jsl	~~k_put_wingadget_point_ex
 18575                        ;			pWin->nonclientGadgets[ncc].msgT
                    ype = FX_MAX_WINDOW;
 18576                        	.line	2742
 18577 06:463B: A0 00 00     	ldy	#$0
 18578 06:463E: A5 1D        	lda	<L902+ncc_1
 18579 06:4640: 10 01        	bpl	L926
 18580 06:4642: 88           	dey
 18581                        L926:
  Mon Sep 27 2021  9:39                                                Page 341


 18582 06:4643: 85 01        	sta	<R0
 18583 06:4645: 84 03        	sty	<R0+2
 18584 06:4647: F4 00 00     	pea	#^$11
 18585 06:464A: F4 11 00     	pea	#<$11
 18586 06:464D: D4 03        	pei	<R0+2
 18587 06:464F: D4 01        	pei	<R0
 18588                        	xref	~~~lmul
 18589 06:4651: 22 xx xx xx  	jsl	~~~lmul
 18590 06:4655: 85 01        	sta	<R0
 18591 06:4657: 86 03        	stx	<R0+2
 18592 06:4659: 18           	clc
 18593 06:465A: A9 46 00     	lda	#$46
 18594 06:465D: 65 47        	adc	<L902+pWin_1
 18595 06:465F: 85 05        	sta	<R1
 18596 06:4661: A9 00 00     	lda	#$0
 18597 06:4664: 65 49        	adc	<L902+pWin_1+2
 18598 06:4666: 85 07        	sta	<R1+2
 18599 06:4668: 18           	clc
 18600 06:4669: A5 05        	lda	<R1
 18601 06:466B: 65 01        	adc	<R0
 18602 06:466D: 85 09        	sta	<R2
 18603 06:466F: A5 07        	lda	<R1+2
 18604 06:4671: 65 03        	adc	<R0+2
 18605 06:4673: 85 0B        	sta	<R2+2
 18606 06:4675: A9 0A FB     	lda	#$fb0a
 18607 06:4678: 87 09        	sta	[<R2]
 18608                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),tx,titleOffsetY,gx,gx);
 18609                        	.line	2743
 18610 06:467A: D4 3F        	pei	<L902+gx_1
 18611 06:467C: D4 3F        	pei	<L902+gx_1
 18612 06:467E: D4 39        	pei	<L902+titleOffsetY_1
 18613 06:4680: D4 3D        	pei	<L902+tx_1
 18614 06:4682: A0 00 00     	ldy	#$0
 18615 06:4685: A5 1D        	lda	<L902+ncc_1
 18616 06:4687: 10 01        	bpl	L927
 18617 06:4689: 88           	dey
 18618                        L927:
 18619 06:468A: 85 01        	sta	<R0
 18620 06:468C: 84 03        	sty	<R0+2
 18621 06:468E: F4 00 00     	pea	#^$11
 18622 06:4691: F4 11 00     	pea	#<$11
 18623 06:4694: D4 03        	pei	<R0+2
 18624 06:4696: D4 01        	pei	<R0
 18625                        	xref	~~~lmul
 18626 06:4698: 22 xx xx xx  	jsl	~~~lmul
 18627 06:469C: 85 01        	sta	<R0
 18628 06:469E: 86 03        	stx	<R0+2
 18629 06:46A0: 18           	clc
 18630 06:46A1: A9 38 00     	lda	#$38
 18631 06:46A4: 65 01        	adc	<R0
 18632 06:46A6: 85 05        	sta	<R1
 18633 06:46A8: A9 00 00     	lda	#$0
 18634 06:46AB: 65 03        	adc	<R0+2
 18635 06:46AD: 85 07        	sta	<R1+2
 18636 06:46AF: 18           	clc
 18637 06:46B0: A5 47        	lda	<L902+pWin_1
 18638 06:46B2: 65 05        	adc	<R1
  Mon Sep 27 2021  9:39                                                Page 342


 18639 06:46B4: 85 01        	sta	<R0
 18640 06:46B6: A5 49        	lda	<L902+pWin_1+2
 18641 06:46B8: 65 07        	adc	<R1+2
 18642 06:46BA: 85 03        	sta	<R0+2
 18643 06:46BC: D4 03        	pei	<R0+2
 18644 06:46BE: D4 01        	pei	<R0
 18645 06:46C0: 22 06 06 06  	jsl	~~k_set_rect
 18646                        ;
 18647                        ;			ncc++;
 18648                        	.line	2745
 18649 06:46C4: E6 1D        	inc	<L902+ncc_1
 18650                        ;		}
 18651                        	.line	2746
 18652                        ;		else
 18653 06:46C6: 82 3C 01     	brl	L10370
 18654                        L10369:
 18655                        ;		{
 18656                        	.line	2748
 18657                        ;			tx = ((pwndRect->x + pwndRect->w
                    idth - 0) - (SM_TITLE_XGADGETGAP_DEFAULT + gx));
 18658                        	.line	2749
 18659 06:46C9: 18           	clc
 18660 06:46CA: A9 04 00     	lda	#$4
 18661 06:46CD: 65 3F        	adc	<L902+gx_1
 18662 06:46CF: 85 01        	sta	<R0
 18663 06:46D1: 18           	clc
 18664 06:46D2: A7 15        	lda	[<L902+pwndRect_1]
 18665 06:46D4: A0 08 00     	ldy	#$8
 18666 06:46D7: 77 15        	adc	[<L902+pwndRect_1],Y
 18667 06:46D9: 85 05        	sta	<R1
 18668 06:46DB: 38           	sec
 18669 06:46DC: A5 05        	lda	<R1
 18670 06:46DE: E5 01        	sbc	<R0
 18671 06:46E0: 85 3D        	sta	<L902+tx_1
 18672                        ;
 18673                        ;			k_put_wingadget_point_ex(WINICON
                    _BLOCK,tx,titleOffsetY,k_getUIWindowBorderColor(),pWin->nBit
                    mapLayer);
 18674                        	.line	2751
 18675 06:46E2: A0 9E 01     	ldy	#$19e
 18676 06:46E5: B7 47        	lda	[<L902+pWin_1],Y
 18677 06:46E7: 48           	pha
 18678 06:46E8: 22 9F 12 06  	jsl	~~k_getUIWindowBorderColor
 18679 06:46EC: 48           	pha
 18680 06:46ED: D4 39        	pei	<L902+titleOffsetY_1
 18681 06:46EF: D4 3D        	pei	<L902+tx_1
 18682 06:46F1: F4 00 00     	pea	#<$0
 18683 06:46F4: 22 F6 2E 06  	jsl	~~k_put_wingadget_point_ex
 18684                        ;			if(style & FXWS_MINIMIZEBOX)
 18685                        	.line	2752
 18686                        ;			{
 18687 06:46F8: A5 25        	lda	<L902+style_1
 18688 06:46FA: 29 20 00     	and	#<$20
 18689 06:46FD: D0 03        	bne	L928
 18690 06:46FF: 82 58 00     	brl	L10371
 18691                        L928:
 18692                        	.line	2753
 18693                        ;				k_put_wingadget_point_ex
  Mon Sep 27 2021  9:39                                                Page 343


                    (WINICON_TITLE_BACK,tx,titleOffsetY,k_getUIGadgetColor(),pWi
                    n->nBitmapLayer);
 18694                        	.line	2754
 18695 06:4702: A0 9E 01     	ldy	#$19e
 18696 06:4705: B7 47        	lda	[<L902+pWin_1],Y
 18697 06:4707: 48           	pha
 18698 06:4708: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
 18699 06:470C: 48           	pha
 18700 06:470D: D4 39        	pei	<L902+titleOffsetY_1
 18701 06:470F: D4 3D        	pei	<L902+tx_1
 18702 06:4711: F4 04 00     	pea	#<$4
 18703 06:4714: 22 F6 2E 06  	jsl	~~k_put_wingadget_point_ex
 18704                        ;				pWin->nonclientGadgets[n
                    cc].msgType = FX_MIN_WINDOW;
 18705                        	.line	2755
 18706 06:4718: A0 00 00     	ldy	#$0
 18707 06:471B: A5 1D        	lda	<L902+ncc_1
 18708 06:471D: 10 01        	bpl	L929
 18709 06:471F: 88           	dey
 18710                        L929:
 18711 06:4720: 85 01        	sta	<R0
 18712 06:4722: 84 03        	sty	<R0+2
 18713 06:4724: F4 00 00     	pea	#^$11
 18714 06:4727: F4 11 00     	pea	#<$11
 18715 06:472A: D4 03        	pei	<R0+2
 18716 06:472C: D4 01        	pei	<R0
 18717                        	xref	~~~lmul
 18718 06:472E: 22 xx xx xx  	jsl	~~~lmul
 18719 06:4732: 85 01        	sta	<R0
 18720 06:4734: 86 03        	stx	<R0+2
 18721 06:4736: 18           	clc
 18722 06:4737: A9 46 00     	lda	#$46
 18723 06:473A: 65 47        	adc	<L902+pWin_1
 18724 06:473C: 85 05        	sta	<R1
 18725 06:473E: A9 00 00     	lda	#$0
 18726 06:4741: 65 49        	adc	<L902+pWin_1+2
 18727 06:4743: 85 07        	sta	<R1+2
 18728 06:4745: 18           	clc
 18729 06:4746: A5 05        	lda	<R1
 18730 06:4748: 65 01        	adc	<R0
 18731 06:474A: 85 09        	sta	<R2
 18732 06:474C: A5 07        	lda	<R1+2
 18733 06:474E: 65 03        	adc	<R0+2
 18734 06:4750: 85 0B        	sta	<R2+2
 18735 06:4752: A9 09 FB     	lda	#$fb09
 18736 06:4755: 87 09        	sta	[<R2]
 18737                        ;			}
 18738                        	.line	2756
 18739                        ;			else if(style & FXWS_MAXIMIZEBOX
                    )
 18740 06:4757: 82 5F 00     	brl	L10372
 18741                        L10371:
 18742                        	.line	2757
 18743                        ;			{
 18744 06:475A: A5 25        	lda	<L902+style_1
 18745 06:475C: 29 10 00     	and	#<$10
 18746 06:475F: D0 03        	bne	L930
 18747 06:4761: 82 55 00     	brl	L10373
  Mon Sep 27 2021  9:39                                                Page 344


 18748                        L930:
 18749                        	.line	2758
 18750                        ;				k_put_wingadget_point_ex
                    (WINICON_TITLE_FRONT,tx,titleOffsetY,k_getUIGadgetColor(),pW
                    in->nBitmapLayer);
 18751                        	.line	2759
 18752 06:4764: A0 9E 01     	ldy	#$19e
 18753 06:4767: B7 47        	lda	[<L902+pWin_1],Y
 18754 06:4769: 48           	pha
 18755 06:476A: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
 18756 06:476E: 48           	pha
 18757 06:476F: D4 39        	pei	<L902+titleOffsetY_1
 18758 06:4771: D4 3D        	pei	<L902+tx_1
 18759 06:4773: F4 03 00     	pea	#<$3
 18760 06:4776: 22 F6 2E 06  	jsl	~~k_put_wingadget_point_ex
 18761                        ;				pWin->nonclientGadgets[n
                    cc].msgType = FX_MAX_WINDOW;
 18762                        	.line	2760
 18763 06:477A: A0 00 00     	ldy	#$0
 18764 06:477D: A5 1D        	lda	<L902+ncc_1
 18765 06:477F: 10 01        	bpl	L931
 18766 06:4781: 88           	dey
 18767                        L931:
 18768 06:4782: 85 01        	sta	<R0
 18769 06:4784: 84 03        	sty	<R0+2
 18770 06:4786: F4 00 00     	pea	#^$11
 18771 06:4789: F4 11 00     	pea	#<$11
 18772 06:478C: D4 03        	pei	<R0+2
 18773 06:478E: D4 01        	pei	<R0
 18774                        	xref	~~~lmul
 18775 06:4790: 22 xx xx xx  	jsl	~~~lmul
 18776 06:4794: 85 01        	sta	<R0
 18777 06:4796: 86 03        	stx	<R0+2
 18778 06:4798: 18           	clc
 18779 06:4799: A9 46 00     	lda	#$46
 18780 06:479C: 65 47        	adc	<L902+pWin_1
 18781 06:479E: 85 05        	sta	<R1
 18782 06:47A0: A9 00 00     	lda	#$0
 18783 06:47A3: 65 49        	adc	<L902+pWin_1+2
 18784 06:47A5: 85 07        	sta	<R1+2
 18785 06:47A7: 18           	clc
 18786 06:47A8: A5 05        	lda	<R1
 18787 06:47AA: 65 01        	adc	<R0
 18788 06:47AC: 85 09        	sta	<R2
 18789 06:47AE: A5 07        	lda	<R1+2
 18790 06:47B0: 65 03        	adc	<R0+2
 18791 06:47B2: 85 0B        	sta	<R2+2
 18792 06:47B4: A9 0A FB     	lda	#$fb0a
 18793 06:47B7: 87 09        	sta	[<R2]
 18794                        ;			}
 18795                        	.line	2761
 18796                        ;
 18797                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),tx,titleOffsetY,gx,gx);
 18798                        L10373:
 18799                        L10372:
 18800                        	.line	2763
 18801 06:47B9: D4 3F        	pei	<L902+gx_1
  Mon Sep 27 2021  9:39                                                Page 345


 18802 06:47BB: D4 3F        	pei	<L902+gx_1
 18803 06:47BD: D4 39        	pei	<L902+titleOffsetY_1
 18804 06:47BF: D4 3D        	pei	<L902+tx_1
 18805 06:47C1: A0 00 00     	ldy	#$0
 18806 06:47C4: A5 1D        	lda	<L902+ncc_1
 18807 06:47C6: 10 01        	bpl	L932
 18808 06:47C8: 88           	dey
 18809                        L932:
 18810 06:47C9: 85 01        	sta	<R0
 18811 06:47CB: 84 03        	sty	<R0+2
 18812 06:47CD: F4 00 00     	pea	#^$11
 18813 06:47D0: F4 11 00     	pea	#<$11
 18814 06:47D3: D4 03        	pei	<R0+2
 18815 06:47D5: D4 01        	pei	<R0
 18816                        	xref	~~~lmul
 18817 06:47D7: 22 xx xx xx  	jsl	~~~lmul
 18818 06:47DB: 85 01        	sta	<R0
 18819 06:47DD: 86 03        	stx	<R0+2
 18820 06:47DF: 18           	clc
 18821 06:47E0: A9 38 00     	lda	#$38
 18822 06:47E3: 65 01        	adc	<R0
 18823 06:47E5: 85 05        	sta	<R1
 18824 06:47E7: A9 00 00     	lda	#$0
 18825 06:47EA: 65 03        	adc	<R0+2
 18826 06:47EC: 85 07        	sta	<R1+2
 18827 06:47EE: 18           	clc
 18828 06:47EF: A5 47        	lda	<L902+pWin_1
 18829 06:47F1: 65 05        	adc	<R1
 18830 06:47F3: 85 01        	sta	<R0
 18831 06:47F5: A5 49        	lda	<L902+pWin_1+2
 18832 06:47F7: 65 07        	adc	<R1+2
 18833 06:47F9: 85 03        	sta	<R0+2
 18834 06:47FB: D4 03        	pei	<R0+2
 18835 06:47FD: D4 01        	pei	<R0
 18836 06:47FF: 22 06 06 06  	jsl	~~k_set_rect
 18837                        ;
 18838                        ;			ncc++;
 18839                        	.line	2765
 18840 06:4803: E6 1D        	inc	<L902+ncc_1
 18841                        ;		}
 18842                        	.line	2766
 18843                        L10370:
 18844                        ;
 18845                        ;
 18846                        ;
 18847                        ;		if((style & FXWS_CAPTION) == FXWS_CAPTIO
                    N)
 18848                        	.line	2770
 18849                        ;		{
 18850 06:4805: A5 25        	lda	<L902+style_1
 18851 06:4807: 29 04 00     	and	#<$4
 18852 06:480A: 85 01        	sta	<R0
 18853 06:480C: 64 03        	stz	<R0+2
 18854 06:480E: A5 01        	lda	<R0
 18855 06:4810: C9 04 00     	cmp	#<$4
 18856 06:4813: D0 05        	bne	L933
 18857 06:4815: A5 03        	lda	<R0+2
 18858 06:4817: C9 00 00     	cmp	#^$4
  Mon Sep 27 2021  9:39                                                Page 346


 18859                        L933:
 18860 06:481A: F0 03        	beq	L934
 18861 06:481C: 82 CD 01     	brl	L10374
 18862                        L934:
 18863                        	.line	2771
 18864                        ;			k_user_SetRect(&rect,
 18865                        	.line	2772
 18866                        ;						   title
                    OffsetX + SM_TITLE_XGADGETGAP_DEFAULT,
 18867                        ;						   title
                    OffsetY,
 18868                        ;						   (strl
                    en(pWin->win_title)*metric.width) + SM_TITLE_XGADGETGAP_DEFA
                    ULT,
 18869                        ;						   metri
                    c.height);
 18870 06:481F: D4 13        	pei	<L902+metric_1+2
 18871 06:4821: 18           	clc
 18872 06:4822: A9 4C 01     	lda	#$14c
 18873 06:4825: 65 47        	adc	<L902+pWin_1
 18874 06:4827: 85 01        	sta	<R0
 18875 06:4829: A9 00 00     	lda	#$0
 18876 06:482C: 65 49        	adc	<L902+pWin_1+2
 18877 06:482E: 85 03        	sta	<R0+2
 18878 06:4830: D4 03        	pei	<R0+2
 18879 06:4832: D4 01        	pei	<R0
 18880 06:4834: 22 xx xx xx  	jsl	~~strlen
 18881 06:4838: 85 05        	sta	<R1
 18882 06:483A: A5 05        	lda	<R1
 18883 06:483C: A6 11        	ldx	<L902+metric_1
 18884                        	xref	~~~mul
 18885 06:483E: 22 xx xx xx  	jsl	~~~mul
 18886 06:4842: 85 05        	sta	<R1
 18887 06:4844: 18           	clc
 18888 06:4845: A9 04 00     	lda	#$4
 18889 06:4848: 65 05        	adc	<R1
 18890 06:484A: 48           	pha
 18891 06:484B: D4 39        	pei	<L902+titleOffsetY_1
 18892 06:484D: 18           	clc
 18893 06:484E: A9 04 00     	lda	#$4
 18894 06:4851: 65 37        	adc	<L902+titleOffsetX_1
 18895 06:4853: 48           	pha
 18896 06:4854: F4 00 00     	pea	#0
 18897 06:4857: 18           	clc
 18898 06:4858: 7B           	tdc
 18899 06:4859: 69 29 00     	adc	#<L902+rect_1
 18900 06:485C: 48           	pha
 18901 06:485D: 22 xx xx xx  	jsl	~~k_user_SetRect
 18902                        ;
 18903                        ;
 18904                        ;			if(pWin->styleEx && pWin->client
                    Data[CLIENTDATA_TITLE])
 18905                        	.line	2779
 18906                        ;			{
 18907 06:4861: A0 06 00     	ldy	#$6
 18908 06:4864: B7 47        	lda	[<L902+pWin_1],Y
 18909 06:4866: A0 08 00     	ldy	#$8
 18910 06:4869: 17 47        	ora	[<L902+pWin_1],Y
  Mon Sep 27 2021  9:39                                                Page 347


 18911 06:486B: D0 03        	bne	L935
 18912 06:486D: 82 2B 00     	brl	L10375
 18913                        L935:
 18914 06:4870: A0 DD 01     	ldy	#$1dd
 18915 06:4873: B7 47        	lda	[<L902+pWin_1],Y
 18916 06:4875: A0 DF 01     	ldy	#$1df
 18917 06:4878: 17 47        	ora	[<L902+pWin_1],Y
 18918 06:487A: D0 03        	bne	L936
 18919 06:487C: 82 1C 00     	brl	L10375
 18920                        L936:
 18921                        	.line	2780
 18922                        ;				k_gui_get_image_cache((U
                    INT)((ULONG)pWin->clientData[CLIENTDATA_TITLE]),GUI_CACHE_BA
                    CK,&rect);
 18923                        	.line	2781
 18924 06:487F: F4 00 00     	pea	#0
 18925 06:4882: 18           	clc
 18926 06:4883: 7B           	tdc
 18927 06:4884: 69 29 00     	adc	#<L902+rect_1
 18928 06:4887: 48           	pha
 18929 06:4888: F4 08 00     	pea	#^$80000
 18930 06:488B: F4 00 00     	pea	#<$80000
 18931 06:488E: A0 DD 01     	ldy	#$1dd
 18932 06:4891: B7 47        	lda	[<L902+pWin_1],Y
 18933 06:4893: 48           	pha
 18934 06:4894: 22 19 03 06  	jsl	~~k_gui_get_image_cache
 18935                        ;			}
 18936                        	.line	2782
 18937                        ;			else
 18938 06:4898: 82 B6 00     	brl	L10376
 18939                        L10375:
 18940                        ;			{
 18941                        	.line	2784
 18942                        ;				k_vdma_fill_rect_ex(rect
                    .x,
 18943                        	.line	2785
 18944                        ;							
                    		rect.y,
 18945                        ;							
                    		(strlen(pWin->win_title)*metric.width) + SM_TITL
                    E_XGADGETGAP_DEFAULT,
 18946                        ;							
                    		metric.height,
 18947                        ;							
                    		k_getUIWindowBorderColor(),
 18948                        ;							
                    		BITMAP_BACK);
 18949 06:489B: F4 08 00     	pea	#<$8
 18950 06:489E: 22 9F 12 06  	jsl	~~k_getUIWindowBorderColor
 18951 06:48A2: 48           	pha
 18952 06:48A3: D4 13        	pei	<L902+metric_1+2
 18953 06:48A5: 18           	clc
 18954 06:48A6: A9 4C 01     	lda	#$14c
 18955 06:48A9: 65 47        	adc	<L902+pWin_1
 18956 06:48AB: 85 01        	sta	<R0
 18957 06:48AD: A9 00 00     	lda	#$0
 18958 06:48B0: 65 49        	adc	<L902+pWin_1+2
 18959 06:48B2: 85 03        	sta	<R0+2
  Mon Sep 27 2021  9:39                                                Page 348


 18960 06:48B4: D4 03        	pei	<R0+2
 18961 06:48B6: D4 01        	pei	<R0
 18962 06:48B8: 22 xx xx xx  	jsl	~~strlen
 18963 06:48BC: 85 05        	sta	<R1
 18964 06:48BE: A5 05        	lda	<R1
 18965 06:48C0: A6 11        	ldx	<L902+metric_1
 18966                        	xref	~~~mul
 18967 06:48C2: 22 xx xx xx  	jsl	~~~mul
 18968 06:48C6: 85 05        	sta	<R1
 18969 06:48C8: 18           	clc
 18970 06:48C9: A9 04 00     	lda	#$4
 18971 06:48CC: 65 05        	adc	<R1
 18972 06:48CE: 48           	pha
 18973 06:48CF: A0 00 00     	ldy	#$0
 18974 06:48D2: A5 2B        	lda	<L902+rect_1+2
 18975 06:48D4: 10 01        	bpl	L937
 18976 06:48D6: 88           	dey
 18977                        L937:
 18978 06:48D7: 85 05        	sta	<R1
 18979 06:48D9: 84 07        	sty	<R1+2
 18980 06:48DB: D4 07        	pei	<R1+2
 18981 06:48DD: D4 05        	pei	<R1
 18982 06:48DF: A0 00 00     	ldy	#$0
 18983 06:48E2: A5 29        	lda	<L902+rect_1
 18984 06:48E4: 10 01        	bpl	L938
 18985 06:48E6: 88           	dey
 18986                        L938:
 18987 06:48E7: 85 09        	sta	<R2
 18988 06:48E9: 84 0B        	sty	<R2+2
 18989 06:48EB: D4 0B        	pei	<R2+2
 18990 06:48ED: D4 09        	pei	<R2
 18991 06:48EF: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 18992                        ;
 18993                        ;				k_draw_text_point_ex(pWi
                    n->win_title,
 18994                        	.line	2792
 18995                        ;							
                    		 rect.x,
 18996                        ;							
                    		 rect.y,
 18997                        ;							
                    		 k_getUIGadgetColor(),
 18998                        ;							
                    		 pWin->nBitmapLayer);
 18999 06:48F3: A0 9E 01     	ldy	#$19e
 19000 06:48F6: B7 47        	lda	[<L902+pWin_1],Y
 19001 06:48F8: 48           	pha
 19002 06:48F9: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
 19003 06:48FD: 48           	pha
 19004 06:48FE: D4 2B        	pei	<L902+rect_1+2
 19005 06:4900: D4 29        	pei	<L902+rect_1
 19006 06:4902: 18           	clc
 19007 06:4903: A9 4C 01     	lda	#$14c
 19008 06:4906: 65 47        	adc	<L902+pWin_1
 19009 06:4908: 85 01        	sta	<R0
 19010 06:490A: A9 00 00     	lda	#$0
 19011 06:490D: 65 49        	adc	<L902+pWin_1+2
 19012 06:490F: 85 03        	sta	<R0+2
  Mon Sep 27 2021  9:39                                                Page 349


 19013 06:4911: D4 03        	pei	<R0+2
 19014 06:4913: D4 01        	pei	<R0
 19015 06:4915: 22 C0 21 06  	jsl	~~k_draw_text_point_ex
 19016                        ;
 19017                        ;				if(pWin->styleEx)
 19018                        	.line	2798
 19019                        ;				{
 19020 06:4919: A0 06 00     	ldy	#$6
 19021 06:491C: B7 47        	lda	[<L902+pWin_1],Y
 19022 06:491E: A0 08 00     	ldy	#$8
 19023 06:4921: 17 47        	ora	[<L902+pWin_1],Y
 19024 06:4923: D0 03        	bne	L939
 19025 06:4925: 82 29 00     	brl	L10377
 19026                        L939:
 19027                        	.line	2799
 19028                        ;					pWin->clientData
                    [CLIENTDATA_TITLE] = (LPVOID)((ULONG)k_gui_set_image_cache(G
                    UI_CACHE_BACK,&rect));
 19029                        	.line	2800
 19030 06:4928: F4 00 00     	pea	#0
 19031 06:492B: 18           	clc
 19032 06:492C: 7B           	tdc
 19033 06:492D: 69 29 00     	adc	#<L902+rect_1
 19034 06:4930: 48           	pha
 19035 06:4931: F4 08 00     	pea	#^$80000
 19036 06:4934: F4 00 00     	pea	#<$80000
 19037 06:4937: 22 08 02 06  	jsl	~~k_gui_set_image_cache
 19038 06:493B: 85 01        	sta	<R0
 19039 06:493D: A5 01        	lda	<R0
 19040 06:493F: 85 01        	sta	<R0
 19041 06:4941: 64 03        	stz	<R0+2
 19042 06:4943: A5 01        	lda	<R0
 19043 06:4945: A0 DD 01     	ldy	#$1dd
 19044 06:4948: 97 47        	sta	[<L902+pWin_1],Y
 19045 06:494A: A5 03        	lda	<R0+2
 19046 06:494C: A0 DF 01     	ldy	#$1df
 19047 06:494F: 97 47        	sta	[<L902+pWin_1],Y
 19048                        ;				}
 19049                        	.line	2801
 19050                        ;
 19051                        ;			}
 19052                        L10377:
 19053                        	.line	2803
 19054                        L10376:
 19055                        ;
 19056                        ;
 19057                        ;
 19058                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),
 19059                        	.line	2807
 19060                        ;					   pWin->win_x ,
 19061                        ;					   pWin->win_y,
 19062                        ;					   pWin->win_wid
                    th,
 19063                        ;					   SM_CYCAPTION_
                    DEFAULT);
 19064 06:4951: F4 0C 00     	pea	#<$c
 19065 06:4954: A0 10 00     	ldy	#$10
  Mon Sep 27 2021  9:39                                                Page 350


 19066 06:4957: B7 47        	lda	[<L902+pWin_1],Y
 19067 06:4959: 48           	pha
 19068 06:495A: A0 0E 00     	ldy	#$e
 19069 06:495D: B7 47        	lda	[<L902+pWin_1],Y
 19070 06:495F: 48           	pha
 19071 06:4960: A0 0C 00     	ldy	#$c
 19072 06:4963: B7 47        	lda	[<L902+pWin_1],Y
 19073 06:4965: 48           	pha
 19074 06:4966: A0 00 00     	ldy	#$0
 19075 06:4969: A5 1D        	lda	<L902+ncc_1
 19076 06:496B: 10 01        	bpl	L940
 19077 06:496D: 88           	dey
 19078                        L940:
 19079 06:496E: 85 01        	sta	<R0
 19080 06:4970: 84 03        	sty	<R0+2
 19081 06:4972: F4 00 00     	pea	#^$11
 19082 06:4975: F4 11 00     	pea	#<$11
 19083 06:4978: D4 03        	pei	<R0+2
 19084 06:497A: D4 01        	pei	<R0
 19085                        	xref	~~~lmul
 19086 06:497C: 22 xx xx xx  	jsl	~~~lmul
 19087 06:4980: 85 01        	sta	<R0
 19088 06:4982: 86 03        	stx	<R0+2
 19089 06:4984: 18           	clc
 19090 06:4985: A9 38 00     	lda	#$38
 19091 06:4988: 65 01        	adc	<R0
 19092 06:498A: 85 05        	sta	<R1
 19093 06:498C: A9 00 00     	lda	#$0
 19094 06:498F: 65 03        	adc	<R0+2
 19095 06:4991: 85 07        	sta	<R1+2
 19096 06:4993: 18           	clc
 19097 06:4994: A5 47        	lda	<L902+pWin_1
 19098 06:4996: 65 05        	adc	<R1
 19099 06:4998: 85 01        	sta	<R0
 19100 06:499A: A5 49        	lda	<L902+pWin_1+2
 19101 06:499C: 65 07        	adc	<R1+2
 19102 06:499E: 85 03        	sta	<R0+2
 19103 06:49A0: D4 03        	pei	<R0+2
 19104 06:49A2: D4 01        	pei	<R0
 19105 06:49A4: 22 06 06 06  	jsl	~~k_set_rect
 19106                        ;			pWin->nonclientGadgets[ncc++].ms
                    gType = FX_DRAG_WINDOW;
 19107                        	.line	2812
 19108 06:49A8: A0 00 00     	ldy	#$0
 19109 06:49AB: A5 1D        	lda	<L902+ncc_1
 19110 06:49AD: 10 01        	bpl	L941
 19111 06:49AF: 88           	dey
 19112                        L941:
 19113 06:49B0: 85 01        	sta	<R0
 19114 06:49B2: 84 03        	sty	<R0+2
 19115 06:49B4: F4 00 00     	pea	#^$11
 19116 06:49B7: F4 11 00     	pea	#<$11
 19117 06:49BA: D4 03        	pei	<R0+2
 19118 06:49BC: D4 01        	pei	<R0
 19119                        	xref	~~~lmul
 19120 06:49BE: 22 xx xx xx  	jsl	~~~lmul
 19121 06:49C2: 85 01        	sta	<R0
 19122 06:49C4: 86 03        	stx	<R0+2
  Mon Sep 27 2021  9:39                                                Page 351


 19123 06:49C6: 18           	clc
 19124 06:49C7: A9 46 00     	lda	#$46
 19125 06:49CA: 65 47        	adc	<L902+pWin_1
 19126 06:49CC: 85 05        	sta	<R1
 19127 06:49CE: A9 00 00     	lda	#$0
 19128 06:49D1: 65 49        	adc	<L902+pWin_1+2
 19129 06:49D3: 85 07        	sta	<R1+2
 19130 06:49D5: 18           	clc
 19131 06:49D6: A5 05        	lda	<R1
 19132 06:49D8: 65 01        	adc	<R0
 19133 06:49DA: 85 09        	sta	<R2
 19134 06:49DC: A5 07        	lda	<R1+2
 19135 06:49DE: 65 03        	adc	<R0+2
 19136 06:49E0: 85 0B        	sta	<R2+2
 19137 06:49E2: A9 10 FB     	lda	#$fb10
 19138 06:49E5: 87 09        	sta	[<R2]
 19139 06:49E7: E6 1D        	inc	<L902+ncc_1
 19140                        ;
 19141                        ;		}
 19142                        	.line	2814
 19143                        ;		else
 19144 06:49E9: 82 9E 00     	brl	L10378
 19145                        L10374:
 19146                        ;		{
 19147                        	.line	2816
 19148                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),
 19149                        	.line	2817
 19150                        ;					   pWin->win_x +
                     gx,
 19151                        ;					   pWin->win_y,
 19152                        ;					   pWin->win_wid
                    th - gx,
 19153                        ;					   SM_CYCAPTION_
                    DEFAULT);
 19154 06:49EC: F4 0C 00     	pea	#<$c
 19155 06:49EF: 38           	sec
 19156 06:49F0: A0 10 00     	ldy	#$10
 19157 06:49F3: B7 47        	lda	[<L902+pWin_1],Y
 19158 06:49F5: E5 3F        	sbc	<L902+gx_1
 19159 06:49F7: 48           	pha
 19160 06:49F8: A0 0E 00     	ldy	#$e
 19161 06:49FB: B7 47        	lda	[<L902+pWin_1],Y
 19162 06:49FD: 48           	pha
 19163 06:49FE: 18           	clc
 19164 06:49FF: A0 0C 00     	ldy	#$c
 19165 06:4A02: B7 47        	lda	[<L902+pWin_1],Y
 19166 06:4A04: 65 3F        	adc	<L902+gx_1
 19167 06:4A06: 48           	pha
 19168 06:4A07: A0 00 00     	ldy	#$0
 19169 06:4A0A: A5 1D        	lda	<L902+ncc_1
 19170 06:4A0C: 10 01        	bpl	L942
 19171 06:4A0E: 88           	dey
 19172                        L942:
 19173 06:4A0F: 85 01        	sta	<R0
 19174 06:4A11: 84 03        	sty	<R0+2
 19175 06:4A13: F4 00 00     	pea	#^$11
 19176 06:4A16: F4 11 00     	pea	#<$11
  Mon Sep 27 2021  9:39                                                Page 352


 19177 06:4A19: D4 03        	pei	<R0+2
 19178 06:4A1B: D4 01        	pei	<R0
 19179                        	xref	~~~lmul
 19180 06:4A1D: 22 xx xx xx  	jsl	~~~lmul
 19181 06:4A21: 85 01        	sta	<R0
 19182 06:4A23: 86 03        	stx	<R0+2
 19183 06:4A25: 18           	clc
 19184 06:4A26: A9 38 00     	lda	#$38
 19185 06:4A29: 65 01        	adc	<R0
 19186 06:4A2B: 85 05        	sta	<R1
 19187 06:4A2D: A9 00 00     	lda	#$0
 19188 06:4A30: 65 03        	adc	<R0+2
 19189 06:4A32: 85 07        	sta	<R1+2
 19190 06:4A34: 18           	clc
 19191 06:4A35: A5 47        	lda	<L902+pWin_1
 19192 06:4A37: 65 05        	adc	<R1
 19193 06:4A39: 85 01        	sta	<R0
 19194 06:4A3B: A5 49        	lda	<L902+pWin_1+2
 19195 06:4A3D: 65 07        	adc	<R1+2
 19196 06:4A3F: 85 03        	sta	<R0+2
 19197 06:4A41: D4 03        	pei	<R0+2
 19198 06:4A43: D4 01        	pei	<R0
 19199 06:4A45: 22 06 06 06  	jsl	~~k_set_rect
 19200                        ;			pWin->nonclientGadgets[ncc++].ms
                    gType = FX_DRAG_WINDOW;
 19201                        	.line	2822
 19202 06:4A49: A0 00 00     	ldy	#$0
 19203 06:4A4C: A5 1D        	lda	<L902+ncc_1
 19204 06:4A4E: 10 01        	bpl	L943
 19205 06:4A50: 88           	dey
 19206                        L943:
 19207 06:4A51: 85 01        	sta	<R0
 19208 06:4A53: 84 03        	sty	<R0+2
 19209 06:4A55: F4 00 00     	pea	#^$11
 19210 06:4A58: F4 11 00     	pea	#<$11
 19211 06:4A5B: D4 03        	pei	<R0+2
 19212 06:4A5D: D4 01        	pei	<R0
 19213                        	xref	~~~lmul
 19214 06:4A5F: 22 xx xx xx  	jsl	~~~lmul
 19215 06:4A63: 85 01        	sta	<R0
 19216 06:4A65: 86 03        	stx	<R0+2
 19217 06:4A67: 18           	clc
 19218 06:4A68: A9 46 00     	lda	#$46
 19219 06:4A6B: 65 47        	adc	<L902+pWin_1
 19220 06:4A6D: 85 05        	sta	<R1
 19221 06:4A6F: A9 00 00     	lda	#$0
 19222 06:4A72: 65 49        	adc	<L902+pWin_1+2
 19223 06:4A74: 85 07        	sta	<R1+2
 19224 06:4A76: 18           	clc
 19225 06:4A77: A5 05        	lda	<R1
 19226 06:4A79: 65 01        	adc	<R0
 19227 06:4A7B: 85 09        	sta	<R2
 19228 06:4A7D: A5 07        	lda	<R1+2
 19229 06:4A7F: 65 03        	adc	<R0+2
 19230 06:4A81: 85 0B        	sta	<R2+2
 19231 06:4A83: A9 10 FB     	lda	#$fb10
 19232 06:4A86: 87 09        	sta	[<R2]
 19233 06:4A88: E6 1D        	inc	<L902+ncc_1
  Mon Sep 27 2021  9:39                                                Page 353


 19234                        ;		}
 19235                        	.line	2823
 19236                        L10378:
 19237                        ;
 19238                        ;
 19239                        ;		if((style & FXWS_THICKFRAME) && (style &
                     FXWS_SIZEBOX))
 19240                        	.line	2826
 19241                        ;		{
 19242 06:4A8A: A5 27        	lda	<L902+style_1+2
 19243 06:4A8C: 29 02 00     	and	#^$20000
 19244 06:4A8F: D0 03        	bne	L944
 19245 06:4A91: 82 23 02     	brl	L10379
 19246                        L944:
 19247 06:4A94: A5 25        	lda	<L902+style_1
 19248 06:4A96: 29 00 01     	and	#<$100
 19249 06:4A99: D0 03        	bne	L945
 19250 06:4A9B: 82 19 02     	brl	L10379
 19251                        L945:
 19252                        	.line	2827
 19253                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),
 19254                        	.line	2828
 19255                        ;					   pWin->win_x +
                     pWin->win_width  - 4,
 19256                        ;					   pWin->win_y +
                     pWin->win_height - 4,
 19257                        ;					   4,
 19258                        ;					   4);
 19259 06:4A9E: F4 04 00     	pea	#<$4
 19260 06:4AA1: F4 04 00     	pea	#<$4
 19261 06:4AA4: 18           	clc
 19262 06:4AA5: A0 0E 00     	ldy	#$e
 19263 06:4AA8: B7 47        	lda	[<L902+pWin_1],Y
 19264 06:4AAA: A0 12 00     	ldy	#$12
 19265 06:4AAD: 77 47        	adc	[<L902+pWin_1],Y
 19266 06:4AAF: 85 01        	sta	<R0
 19267 06:4AB1: 18           	clc
 19268 06:4AB2: A9 FC FF     	lda	#$fffc
 19269 06:4AB5: 65 01        	adc	<R0
 19270 06:4AB7: 48           	pha
 19271 06:4AB8: 18           	clc
 19272 06:4AB9: A0 0C 00     	ldy	#$c
 19273 06:4ABC: B7 47        	lda	[<L902+pWin_1],Y
 19274 06:4ABE: A0 10 00     	ldy	#$10
 19275 06:4AC1: 77 47        	adc	[<L902+pWin_1],Y
 19276 06:4AC3: 85 01        	sta	<R0
 19277 06:4AC5: 18           	clc
 19278 06:4AC6: A9 FC FF     	lda	#$fffc
 19279 06:4AC9: 65 01        	adc	<R0
 19280 06:4ACB: 48           	pha
 19281 06:4ACC: A0 00 00     	ldy	#$0
 19282 06:4ACF: A5 1D        	lda	<L902+ncc_1
 19283 06:4AD1: 10 01        	bpl	L946
 19284 06:4AD3: 88           	dey
 19285                        L946:
 19286 06:4AD4: 85 01        	sta	<R0
 19287 06:4AD6: 84 03        	sty	<R0+2
  Mon Sep 27 2021  9:39                                                Page 354


 19288 06:4AD8: F4 00 00     	pea	#^$11
 19289 06:4ADB: F4 11 00     	pea	#<$11
 19290 06:4ADE: D4 03        	pei	<R0+2
 19291 06:4AE0: D4 01        	pei	<R0
 19292                        	xref	~~~lmul
 19293 06:4AE2: 22 xx xx xx  	jsl	~~~lmul
 19294 06:4AE6: 85 01        	sta	<R0
 19295 06:4AE8: 86 03        	stx	<R0+2
 19296 06:4AEA: 18           	clc
 19297 06:4AEB: A9 38 00     	lda	#$38
 19298 06:4AEE: 65 01        	adc	<R0
 19299 06:4AF0: 85 05        	sta	<R1
 19300 06:4AF2: A9 00 00     	lda	#$0
 19301 06:4AF5: 65 03        	adc	<R0+2
 19302 06:4AF7: 85 07        	sta	<R1+2
 19303 06:4AF9: 18           	clc
 19304 06:4AFA: A5 47        	lda	<L902+pWin_1
 19305 06:4AFC: 65 05        	adc	<R1
 19306 06:4AFE: 85 01        	sta	<R0
 19307 06:4B00: A5 49        	lda	<L902+pWin_1+2
 19308 06:4B02: 65 07        	adc	<R1+2
 19309 06:4B04: 85 03        	sta	<R0+2
 19310 06:4B06: D4 03        	pei	<R0+2
 19311 06:4B08: D4 01        	pei	<R0
 19312 06:4B0A: 22 06 06 06  	jsl	~~k_set_rect
 19313                        ;
 19314                        ;			k_vdma_fill_rect_ex(pWin->noncli
                    entGadgets[ncc].area.x,
 19315                        	.line	2834
 19316                        ;					            pWin
                    ->nonclientGadgets[ncc].area.y,
 19317                        ;							
                    	pWin->nonclientGadgets[ncc].area.width,
 19318                        ;							
                    	pWin->nonclientGadgets[ncc].area.height,
 19319                        ;							
                    	k_getUIGadgetColor(),
 19320                        ;							
                    	BITMAP_BACK);
 19321 06:4B0E: F4 08 00     	pea	#<$8
 19322 06:4B11: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
 19323 06:4B15: 48           	pha
 19324 06:4B16: A0 00 00     	ldy	#$0
 19325 06:4B19: A5 1D        	lda	<L902+ncc_1
 19326 06:4B1B: 10 01        	bpl	L947
 19327 06:4B1D: 88           	dey
 19328                        L947:
 19329 06:4B1E: 85 01        	sta	<R0
 19330 06:4B20: 84 03        	sty	<R0+2
 19331 06:4B22: F4 00 00     	pea	#^$11
 19332 06:4B25: F4 11 00     	pea	#<$11
 19333 06:4B28: D4 03        	pei	<R0+2
 19334 06:4B2A: D4 01        	pei	<R0
 19335                        	xref	~~~lmul
 19336 06:4B2C: 22 xx xx xx  	jsl	~~~lmul
 19337 06:4B30: 85 01        	sta	<R0
 19338 06:4B32: 86 03        	stx	<R0+2
 19339 06:4B34: 18           	clc
  Mon Sep 27 2021  9:39                                                Page 355


 19340 06:4B35: A9 42 00     	lda	#$42
 19341 06:4B38: 65 47        	adc	<L902+pWin_1
 19342 06:4B3A: 85 05        	sta	<R1
 19343 06:4B3C: A9 00 00     	lda	#$0
 19344 06:4B3F: 65 49        	adc	<L902+pWin_1+2
 19345 06:4B41: 85 07        	sta	<R1+2
 19346 06:4B43: 18           	clc
 19347 06:4B44: A5 05        	lda	<R1
 19348 06:4B46: 65 01        	adc	<R0
 19349 06:4B48: 85 09        	sta	<R2
 19350 06:4B4A: A5 07        	lda	<R1+2
 19351 06:4B4C: 65 03        	adc	<R0+2
 19352 06:4B4E: 85 0B        	sta	<R2+2
 19353 06:4B50: A7 09        	lda	[<R2]
 19354 06:4B52: 48           	pha
 19355 06:4B53: A0 00 00     	ldy	#$0
 19356 06:4B56: A5 1D        	lda	<L902+ncc_1
 19357 06:4B58: 10 01        	bpl	L948
 19358 06:4B5A: 88           	dey
 19359                        L948:
 19360 06:4B5B: 85 01        	sta	<R0
 19361 06:4B5D: 84 03        	sty	<R0+2
 19362 06:4B5F: F4 00 00     	pea	#^$11
 19363 06:4B62: F4 11 00     	pea	#<$11
 19364 06:4B65: D4 03        	pei	<R0+2
 19365 06:4B67: D4 01        	pei	<R0
 19366                        	xref	~~~lmul
 19367 06:4B69: 22 xx xx xx  	jsl	~~~lmul
 19368 06:4B6D: 85 01        	sta	<R0
 19369 06:4B6F: 86 03        	stx	<R0+2
 19370 06:4B71: 18           	clc
 19371 06:4B72: A9 40 00     	lda	#$40
 19372 06:4B75: 65 47        	adc	<L902+pWin_1
 19373 06:4B77: 85 05        	sta	<R1
 19374 06:4B79: A9 00 00     	lda	#$0
 19375 06:4B7C: 65 49        	adc	<L902+pWin_1+2
 19376 06:4B7E: 85 07        	sta	<R1+2
 19377 06:4B80: 18           	clc
 19378 06:4B81: A5 05        	lda	<R1
 19379 06:4B83: 65 01        	adc	<R0
 19380 06:4B85: 85 09        	sta	<R2
 19381 06:4B87: A5 07        	lda	<R1+2
 19382 06:4B89: 65 03        	adc	<R0+2
 19383 06:4B8B: 85 0B        	sta	<R2+2
 19384 06:4B8D: A7 09        	lda	[<R2]
 19385 06:4B8F: 48           	pha
 19386 06:4B90: A0 00 00     	ldy	#$0
 19387 06:4B93: A5 1D        	lda	<L902+ncc_1
 19388 06:4B95: 10 01        	bpl	L949
 19389 06:4B97: 88           	dey
 19390                        L949:
 19391 06:4B98: 85 01        	sta	<R0
 19392 06:4B9A: 84 03        	sty	<R0+2
 19393 06:4B9C: F4 00 00     	pea	#^$11
 19394 06:4B9F: F4 11 00     	pea	#<$11
 19395 06:4BA2: D4 03        	pei	<R0+2
 19396 06:4BA4: D4 01        	pei	<R0
 19397                        	xref	~~~lmul
  Mon Sep 27 2021  9:39                                                Page 356


 19398 06:4BA6: 22 xx xx xx  	jsl	~~~lmul
 19399 06:4BAA: 85 01        	sta	<R0
 19400 06:4BAC: 86 03        	stx	<R0+2
 19401 06:4BAE: 18           	clc
 19402 06:4BAF: A9 3A 00     	lda	#$3a
 19403 06:4BB2: 65 47        	adc	<L902+pWin_1
 19404 06:4BB4: 85 05        	sta	<R1
 19405 06:4BB6: A9 00 00     	lda	#$0
 19406 06:4BB9: 65 49        	adc	<L902+pWin_1+2
 19407 06:4BBB: 85 07        	sta	<R1+2
 19408 06:4BBD: 18           	clc
 19409 06:4BBE: A5 05        	lda	<R1
 19410 06:4BC0: 65 01        	adc	<R0
 19411 06:4BC2: 85 09        	sta	<R2
 19412 06:4BC4: A5 07        	lda	<R1+2
 19413 06:4BC6: 65 03        	adc	<R0+2
 19414 06:4BC8: 85 0B        	sta	<R2+2
 19415 06:4BCA: A0 00 00     	ldy	#$0
 19416 06:4BCD: A7 09        	lda	[<R2]
 19417 06:4BCF: 10 01        	bpl	L950
 19418 06:4BD1: 88           	dey
 19419                        L950:
 19420 06:4BD2: 85 01        	sta	<R0
 19421 06:4BD4: 84 03        	sty	<R0+2
 19422 06:4BD6: D4 03        	pei	<R0+2
 19423 06:4BD8: D4 01        	pei	<R0
 19424 06:4BDA: A0 00 00     	ldy	#$0
 19425 06:4BDD: A5 1D        	lda	<L902+ncc_1
 19426 06:4BDF: 10 01        	bpl	L951
 19427 06:4BE1: 88           	dey
 19428                        L951:
 19429 06:4BE2: 85 05        	sta	<R1
 19430 06:4BE4: 84 07        	sty	<R1+2
 19431 06:4BE6: F4 00 00     	pea	#^$11
 19432 06:4BE9: F4 11 00     	pea	#<$11
 19433 06:4BEC: D4 07        	pei	<R1+2
 19434 06:4BEE: D4 05        	pei	<R1
 19435                        	xref	~~~lmul
 19436 06:4BF0: 22 xx xx xx  	jsl	~~~lmul
 19437 06:4BF4: 85 05        	sta	<R1
 19438 06:4BF6: 86 07        	stx	<R1+2
 19439 06:4BF8: 18           	clc
 19440 06:4BF9: A9 38 00     	lda	#$38
 19441 06:4BFC: 65 47        	adc	<L902+pWin_1
 19442 06:4BFE: 85 09        	sta	<R2
 19443 06:4C00: A9 00 00     	lda	#$0
 19444 06:4C03: 65 49        	adc	<L902+pWin_1+2
 19445 06:4C05: 85 0B        	sta	<R2+2
 19446 06:4C07: 18           	clc
 19447 06:4C08: A5 09        	lda	<R2
 19448 06:4C0A: 65 05        	adc	<R1
 19449 06:4C0C: 85 0D        	sta	<R3
 19450 06:4C0E: A5 0B        	lda	<R2+2
 19451 06:4C10: 65 07        	adc	<R1+2
 19452 06:4C12: 85 0F        	sta	<R3+2
 19453 06:4C14: A0 00 00     	ldy	#$0
 19454 06:4C17: A7 0D        	lda	[<R3]
 19455 06:4C19: 10 01        	bpl	L952
  Mon Sep 27 2021  9:39                                                Page 357


 19456 06:4C1B: 88           	dey
 19457                        L952:
 19458 06:4C1C: 85 05        	sta	<R1
 19459 06:4C1E: 84 07        	sty	<R1+2
 19460 06:4C20: D4 07        	pei	<R1+2
 19461 06:4C22: D4 05        	pei	<R1
 19462 06:4C24: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 19463                        ;
 19464                        ;			pWin->nonclientGadgets[ncc++].ms
                    gType = FX_RESIZE_WINDOW;
 19465                        	.line	2841
 19466 06:4C28: A0 00 00     	ldy	#$0
 19467 06:4C2B: A5 1D        	lda	<L902+ncc_1
 19468 06:4C2D: 10 01        	bpl	L953
 19469 06:4C2F: 88           	dey
 19470                        L953:
 19471 06:4C30: 85 01        	sta	<R0
 19472 06:4C32: 84 03        	sty	<R0+2
 19473 06:4C34: F4 00 00     	pea	#^$11
 19474 06:4C37: F4 11 00     	pea	#<$11
 19475 06:4C3A: D4 03        	pei	<R0+2
 19476 06:4C3C: D4 01        	pei	<R0
 19477                        	xref	~~~lmul
 19478 06:4C3E: 22 xx xx xx  	jsl	~~~lmul
 19479 06:4C42: 85 01        	sta	<R0
 19480 06:4C44: 86 03        	stx	<R0+2
 19481 06:4C46: 18           	clc
 19482 06:4C47: A9 46 00     	lda	#$46
 19483 06:4C4A: 65 47        	adc	<L902+pWin_1
 19484 06:4C4C: 85 05        	sta	<R1
 19485 06:4C4E: A9 00 00     	lda	#$0
 19486 06:4C51: 65 49        	adc	<L902+pWin_1+2
 19487 06:4C53: 85 07        	sta	<R1+2
 19488 06:4C55: 18           	clc
 19489 06:4C56: A5 05        	lda	<R1
 19490 06:4C58: 65 01        	adc	<R0
 19491 06:4C5A: 85 09        	sta	<R2
 19492 06:4C5C: A5 07        	lda	<R1+2
 19493 06:4C5E: 65 03        	adc	<R0+2
 19494 06:4C60: 85 0B        	sta	<R2+2
 19495 06:4C62: A9 0F FB     	lda	#$fb0f
 19496 06:4C65: 87 09        	sta	[<R2]
 19497 06:4C67: E6 1D        	inc	<L902+ncc_1
 19498                        ;			k_set_rect(&(pWin->nonclientGadg
                    ets[ncc].area),-1,-1,-1,-1);
 19499                        	.line	2842
 19500 06:4C69: F4 FF FF     	pea	#<$ffffffff
 19501 06:4C6C: F4 FF FF     	pea	#<$ffffffff
 19502 06:4C6F: F4 FF FF     	pea	#<$ffffffff
 19503 06:4C72: F4 FF FF     	pea	#<$ffffffff
 19504 06:4C75: A0 00 00     	ldy	#$0
 19505 06:4C78: A5 1D        	lda	<L902+ncc_1
 19506 06:4C7A: 10 01        	bpl	L954
 19507 06:4C7C: 88           	dey
 19508                        L954:
 19509 06:4C7D: 85 01        	sta	<R0
 19510 06:4C7F: 84 03        	sty	<R0+2
 19511 06:4C81: F4 00 00     	pea	#^$11
  Mon Sep 27 2021  9:39                                                Page 358


 19512 06:4C84: F4 11 00     	pea	#<$11
 19513 06:4C87: D4 03        	pei	<R0+2
 19514 06:4C89: D4 01        	pei	<R0
 19515                        	xref	~~~lmul
 19516 06:4C8B: 22 xx xx xx  	jsl	~~~lmul
 19517 06:4C8F: 85 01        	sta	<R0
 19518 06:4C91: 86 03        	stx	<R0+2
 19519 06:4C93: 18           	clc
 19520 06:4C94: A9 38 00     	lda	#$38
 19521 06:4C97: 65 01        	adc	<R0
 19522 06:4C99: 85 05        	sta	<R1
 19523 06:4C9B: A9 00 00     	lda	#$0
 19524 06:4C9E: 65 03        	adc	<R0+2
 19525 06:4CA0: 85 07        	sta	<R1+2
 19526 06:4CA2: 18           	clc
 19527 06:4CA3: A5 47        	lda	<L902+pWin_1
 19528 06:4CA5: 65 05        	adc	<R1
 19529 06:4CA7: 85 01        	sta	<R0
 19530 06:4CA9: A5 49        	lda	<L902+pWin_1+2
 19531 06:4CAB: 65 07        	adc	<R1+2
 19532 06:4CAD: 85 03        	sta	<R0+2
 19533 06:4CAF: D4 03        	pei	<R0+2
 19534 06:4CB1: D4 01        	pei	<R0
 19535 06:4CB3: 22 06 06 06  	jsl	~~k_set_rect
 19536                        ;		}
 19537                        	.line	2843
 19538                        ;
 19539                        ;
 19540                        ;	}
 19541                        L10379:
 19542                        	.line	2846
 19543                        ;}
 19544                        L10355:
 19545                        	.line	2847
 19546 06:4CB7: 82 89 F5     	brl	L905
 19547                        	.endblock	2847
 19548             0000004A   L901	equ	74
 19549             00000011   L902	equ	17
 19550 06:4CBA:              	ends
 19551                        	efunc
 19552                        	.endfunc	2847,17,74
 19553                        	.line	2847
 19554                        	data
 19555                        L896:
 19556 00:0850: 6B 5F 67 75  	db	$6B,$5F,$67,$75,$69,$5F,$44,$72,$61,$77,
                    $57,$69,$6E,$64,$6F
       00:0854: 69 5F 44 72 
       00:0858: 61 77 57 69 
       00:085C: 6E 64 6F 
 19557 00:085F: 77 3A 3A 4E  	db	$77,$3A,$3A,$4E,$4F,$54,$20,$52,$45,$4E,
                    $44,$45,$52,$49,$4E
       00:0863: 4F 54 20 52 
       00:0867: 45 4E 44 45 
       00:086B: 52 49 4E 
 19558 00:086E: 47 3A 00     	db	$47,$3A,$00
 19559 00:0871:              	ends
 19560                        ;
 19561                        ;void k_vdraw_ui_window_ex(PWINDOW pWin,ULONG styl
  Mon Sep 27 2021  9:39                                                Page 359


                    e,int cx,int cy,int height,int width,char FAR *title,int col
                    or, int bgcolor,UINT page)
 19562                        ;{
 19563                        	.line	2849
 19564                        	.line	2850
 19565                        	GFX
 19566                        	xdef	~~k_vdraw_ui_window_ex
 19567                        	func
 19568                        	.function	2850
 19569                        ~~k_vdraw_ui_window_ex:
 19570                        	longa	on
 19571                        	longi	on
 19572 06:4CBA: 3B           	tsc
 19573 06:4CBB: 38           	sec
 19574 06:4CBC: E9 48 00     	sbc	#L956
 19575 06:4CBF: 1B           	tcs
 19576 06:4CC0: 0B           	phd
 19577 06:4CC1: 5B           	tcd
 19578             00000004   pWin_0	set	4
 19579             00000008   style_0	set	8
 19580             0000000C   cx_0	set	12
 19581             0000000E   cy_0	set	14
 19582             00000010   height_0	set	16
 19583             00000012   width_0	set	18
 19584             00000014   title_0	set	20
 19585             00000018   color_0	set	24
 19586             0000001A   bgcolor_0	set	26
 19587             0000001C   page_0	set	28
 19588                        	.block	2850
 19589                        ;
 19590                        ;	//TODO: FXWS_DLGFRAME is broken
 19591                        ;
 19592                        ;	FONTMETRIC metric;
 19593                        ;	
 19594                        ;	int i = 0;
 19595                        ;	int odd = 1;
 19596                        ;	int borderColor = 0;
 19597                        ;	int borderTitle = 0;
 19598                        ;	int borderWidth = 0;
 19599                        ;
 19600                        ;	int titleOffsetX = 0;
 19601                        ;	int titleOffsetY = 0;
 19602                        ;	int titleScaler = 0;
 19603                        ;	
 19604                        ;	int clientOffsetX = 0;
 19605                        ;	int clientOffsetY = 0;
 19606                        ;	
 19607                        ;	int currX = 0;
 19608                        ;	int currY = 0;
 19609                        ;	
 19610                        ;	int endX = 0;
 19611                        ;	
 19612                        ;	int maxminPos = 0;
 19613                        ;
 19614                        ;	int ncc = 0;
 19615                        ;	int gx,gy,bx,by;
 19616                        ;
 19617                        ;	int fillOffset = 2;  // correct the fill coordin
  Mon Sep 27 2021  9:39                                                Page 360


                    ates so the borders are the same size
 19618                        ;
 19619                        ;	RECT rect;
 19620                        ;
 19621                        ;	int extraStyle = (pWin->styleEx & FXWSX_CACHE_TI
                    TLE);
 19622                        ;	//k_debug_pointer("k_vdraw_ui_window:pWin:",pWin
                    );
 19623                        ;	/*
 19624                        ;	if(pWin->pParentWindow)
 19625                        ;	{
 19626                        ;		cx = k_getWindowFromHandle(pWin->pParent
                    Window)->clientRect.x + cx;
 19627                        ;		cy = k_getWindowFromHandle(pWin->pParent
                    Window)->clientRect.y + cy;
 19628                        ;		k_debug_strings("k_vdraw_ui_window::IS C
                    HILD:",title);
 19629                        ;		k_debug_integer("k_vdraw_ui_window:cx:",
                    cx);
 19630                        ;		k_debug_integer("k_vdraw_ui_window:cy:",
                    cy);
 19631                        ;		k_debug_integer("k_vdraw_ui_window:width
                    :",width);
 19632                        ;		k_debug_integer("k_vdraw_ui_window:heigh
                    t:",height);
 19633                        ;	}
 19634                        ;	*/
 19635                        ;
 19636                        ;	/*
 19637                        ;	if(title)
 19638                        ;	{
 19639                        ;		title[32] = 0;
 19640                        ;		k_debug_strings("k_vdraw_ui_window::IS C
                    HILD:",title);
 19641                        ;	}
 19642                        ;	else
 19643                        ;		k_debug_strings("k_vdraw_ui_window::IS C
                    HILD:","NULL");
 19644                        ;
 19645                        ;	k_debug_integer("k_vdraw_ui_window:cx:",cx);
 19646                        ;	k_debug_integer("k_vdraw_ui_window:cy:",cy);
 19647                        ;	k_debug_integer("k_vdraw_ui_window:width:",width
                    );
 19648                        ;	k_debug_integer("k_vdraw_ui_window:height:",heig
                    ht);
 19649                        ;	k_debug_integer("k_vdraw_ui_window:page:",page);
 19650                        ;	k_debug_rect("k_vdraw_ui_window:client:",&pWin->
                    clientRect);
 19651                        ;	*/
 19652                        ;
 19653                        ;	//k_debug_rect("k_vdraw_ui_window:client:",&pWin
                    ->clientRect);
 19654                        ;
 19655                        ;
 19656                        ;	gx = k_user_getSystemMetric(SM_CXGADGET);
 19657             00000000   metric_1	set	0
 19658             00000004   i_1	set	4
 19659             00000006   odd_1	set	6
  Mon Sep 27 2021  9:39                                                Page 361


 19660             00000008   borderColor_1	set	8
 19661             0000000A   borderTitle_1	set	10
 19662             0000000C   borderWidth_1	set	12
 19663             0000000E   titleOffsetX_1	set	14
 19664             00000010   titleOffsetY_1	set	16
 19665             00000012   titleScaler_1	set	18
 19666             00000014   clientOffsetX_1	set	20
 19667             00000016   clientOffsetY_1	set	22
 19668             00000018   currX_1	set	24
 19669             0000001A   currY_1	set	26
 19670             0000001C   endX_1	set	28
 19671             0000001E   maxminPos_1	set	30
 19672             00000020   ncc_1	set	32
 19673             00000022   gx_1	set	34
 19674             00000024   gy_1	set	36
 19675             00000026   bx_1	set	38
 19676             00000028   by_1	set	40
 19677             0000002A   fillOffset_1	set	42
 19678             0000002C   rect_1	set	44
 19679             0000003A   extraStyle_1	set	58
 19680                        	.sym	metric,0,10,1,32,35
 19681                        	.sym	i,4,5,1,16
 19682                        	.sym	odd,6,5,1,16
 19683                        	.sym	borderColor,8,5,1,16
 19684                        	.sym	borderTitle,10,5,1,16
 19685                        	.sym	borderWidth,12,5,1,16
 19686                        	.sym	titleOffsetX,14,5,1,16
 19687                        	.sym	titleOffsetY,16,5,1,16
 19688                        	.sym	titleScaler,18,5,1,16
 19689                        	.sym	clientOffsetX,20,5,1,16
 19690                        	.sym	clientOffsetY,22,5,1,16
 19691                        	.sym	currX,24,5,1,16
 19692                        	.sym	currY,26,5,1,16
 19693                        	.sym	endX,28,5,1,16
 19694                        	.sym	maxminPos,30,5,1,16
 19695                        	.sym	ncc,32,5,1,16
 19696                        	.sym	gx,34,5,1,16
 19697                        	.sym	gy,36,5,1,16
 19698                        	.sym	bx,38,5,1,16
 19699                        	.sym	by,40,5,1,16
 19700                        	.sym	fillOffset,42,5,1,16
 19701                        	.sym	rect,44,10,1,112,26
 19702                        	.sym	extraStyle,58,5,1,16
 19703                        	.sym	pWin,4,138,6,32,33
 19704                        	.sym	style,8,18,6,32
 19705                        	.sym	cx,12,5,6,16
 19706                        	.sym	cy,14,5,6,16
 19707                        	.sym	height,16,5,6,16
 19708                        	.sym	width,18,5,6,16
 19709                        	.sym	title,20,142,6,32
 19710                        	.sym	color,24,5,6,16
 19711                        	.sym	bgcolor,26,5,6,16
 19712                        	.sym	page,28,16,6,16
 19713 06:4CC2: 64 11        	stz	<L957+i_1
 19714 06:4CC4: A9 01 00     	lda	#$1
 19715 06:4CC7: 85 13        	sta	<L957+odd_1
 19716 06:4CC9: 64 15        	stz	<L957+borderColor_1
 19717 06:4CCB: 64 17        	stz	<L957+borderTitle_1
  Mon Sep 27 2021  9:39                                                Page 362


 19718 06:4CCD: 64 19        	stz	<L957+borderWidth_1
 19719 06:4CCF: 64 1B        	stz	<L957+titleOffsetX_1
 19720 06:4CD1: 64 1D        	stz	<L957+titleOffsetY_1
 19721 06:4CD3: 64 1F        	stz	<L957+titleScaler_1
 19722 06:4CD5: 64 21        	stz	<L957+clientOffsetX_1
 19723 06:4CD7: 64 23        	stz	<L957+clientOffsetY_1
 19724 06:4CD9: 64 25        	stz	<L957+currX_1
 19725 06:4CDB: 64 27        	stz	<L957+currY_1
 19726 06:4CDD: 64 29        	stz	<L957+endX_1
 19727 06:4CDF: 64 2B        	stz	<L957+maxminPos_1
 19728 06:4CE1: 64 2D        	stz	<L957+ncc_1
 19729 06:4CE3: A9 02 00     	lda	#$2
 19730 06:4CE6: 85 37        	sta	<L957+fillOffset_1
 19731 06:4CE8: A0 06 00     	ldy	#$6
 19732 06:4CEB: B7 4C        	lda	[<L956+pWin_0],Y
 19733 06:4CED: 29 02 00     	and	#<$2
 19734 06:4CF0: 85 01        	sta	<R0
 19735 06:4CF2: 64 03        	stz	<R0+2
 19736 06:4CF4: A5 01        	lda	<R0
 19737 06:4CF6: 85 47        	sta	<L957+extraStyle_1
 19738                        	.line	2918
 19739 06:4CF8: F4 18 00     	pea	#<$18
 19740 06:4CFB: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 19741 06:4CFF: 85 2F        	sta	<L957+gx_1
 19742                        ;	gy = k_user_getSystemMetric(SM_CYGADGET);
 19743                        	.line	2919
 19744 06:4D01: F4 19 00     	pea	#<$19
 19745 06:4D04: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 19746 06:4D08: 85 31        	sta	<L957+gy_1
 19747                        ;	bx = k_user_getSystemMetric(SM_CXBORDER);
 19748                        	.line	2920
 19749 06:4D0A: F4 05 00     	pea	#<$5
 19750 06:4D0D: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 19751 06:4D11: 85 33        	sta	<L957+bx_1
 19752                        ;	by = k_user_getSystemMetric(SM_CYBORDER);
 19753                        	.line	2921
 19754 06:4D13: F4 06 00     	pea	#<$6
 19755 06:4D16: 22 xx xx xx  	jsl	~~k_user_getSystemMetric
 19756 06:4D1A: 85 35        	sta	<L957+by_1
 19757                        ;
 19758                        ;	titleOffsetX = cx+2;
 19759                        	.line	2923
 19760 06:4D1C: 18           	clc
 19761 06:4D1D: A9 02 00     	lda	#$2
 19762 06:4D20: 65 54        	adc	<L956+cx_0
 19763 06:4D22: 85 1B        	sta	<L957+titleOffsetX_1
 19764                        ;	titleOffsetY = cy+1;
 19765                        	.line	2924
 19766 06:4D24: A5 56        	lda	<L956+cy_0
 19767 06:4D26: 1A           	ina
 19768 06:4D27: 85 1D        	sta	<L957+titleOffsetY_1
 19769                        ;
 19770                        ;	//k_debug_strings("k_vdraw_ui_window:","enter");
 19771                        ;
 19772                        ;	if(style & FXWS_VISIBLE != FXWS_VISIBLE)
 19773                        	.line	2928
 19774                        ;	{
 19775 06:4D29: 82 1E 00     	brl	L10380
  Mon Sep 27 2021  9:39                                                Page 363


 19776                        	.line	2929
 19777                        ;		k_debug_strings("k_vdraw_ui_window::NOT 
                    RENDERING:",title);
 19778                        	.line	2930
 19779 06:4D2C: D4 5E        	pei	<L956+title_0+2
 19780 06:4D2E: D4 5C        	pei	<L956+title_0
 19781 06:4D30: F4 xx xx     	pea	#^L955
 19782 06:4D33: F4 xx xx     	pea	#<L955
 19783 06:4D36: 22 xx xx xx  	jsl	~~k_debug_strings
 19784                        ;		return;
 19785                        	.line	2931
 19786                        L959:
 19787 06:4D3A: A5 4A        	lda	<L956+2
 19788 06:4D3C: 85 64        	sta	<L956+2+26
 19789 06:4D3E: A5 49        	lda	<L956+1
 19790 06:4D40: 85 63        	sta	<L956+1+26
 19791 06:4D42: 2B           	pld
 19792 06:4D43: 3B           	tsc
 19793 06:4D44: 18           	clc
 19794 06:4D45: 69 62 00     	adc	#L956+26
 19795 06:4D48: 1B           	tcs
 19796 06:4D49: 6B           	rtl
 19797                        ;	}
 19798                        	.line	2932
 19799                        ;
 19800                        ;	//k_debug_strings("k_vdraw_ui_window::RENDERING:
                    ",title);
 19801                        ;
 19802                        ;	if(style & FXWS_THICKFRAME)
 19803                        L10380:
 19804                        	.line	2936
 19805                        ;	{
 19806 06:4D4A: A5 52        	lda	<L956+style_0+2
 19807 06:4D4C: 29 02 00     	and	#^$20000
 19808 06:4D4F: D0 03        	bne	L960
 19809 06:4D51: 82 08 00     	brl	L10381
 19810                        L960:
 19811                        	.line	2937
 19812                        ;		borderWidth = 2;
 19813                        	.line	2938
 19814 06:4D54: A9 02 00     	lda	#$2
 19815 06:4D57: 85 19        	sta	<L957+borderWidth_1
 19816                        ;	}
 19817                        	.line	2939
 19818                        ;	else if(style & FXWS_BORDER)
 19819 06:4D59: 82 21 00     	brl	L10382
 19820                        L10381:
 19821                        	.line	2940
 19822                        ;	{
 19823 06:4D5C: A5 52        	lda	<L956+style_0+2
 19824 06:4D5E: 29 01 00     	and	#^$10000
 19825 06:4D61: D0 03        	bne	L961
 19826 06:4D63: 82 08 00     	brl	L10383
 19827                        L961:
 19828                        	.line	2941
 19829                        ;		borderWidth = 1;
 19830                        	.line	2942
 19831 06:4D66: A9 01 00     	lda	#$1
  Mon Sep 27 2021  9:39                                                Page 364


 19832 06:4D69: 85 19        	sta	<L957+borderWidth_1
 19833                        ;	}
 19834                        	.line	2943
 19835                        ;	else if(style & FXWS_DLGFRAME)
 19836 06:4D6B: 82 0F 00     	brl	L10384
 19837                        L10383:
 19838                        	.line	2944
 19839                        ;	{
 19840 06:4D6E: A5 52        	lda	<L956+style_0+2
 19841 06:4D70: 29 04 00     	and	#^$40000
 19842 06:4D73: D0 03        	bne	L962
 19843 06:4D75: 82 05 00     	brl	L10385
 19844                        L962:
 19845                        	.line	2945
 19846                        ;		borderWidth = 4;
 19847                        	.line	2946
 19848 06:4D78: A9 04 00     	lda	#$4
 19849 06:4D7B: 85 19        	sta	<L957+borderWidth_1
 19850                        ;	}
 19851                        	.line	2947
 19852                        ;
 19853                        ;	if( ((style & FXWS_CAPTION) == FXWS_CAPTION) || 
                    (style & FXWS_SYSMENU) || (style & FXWS_MINIMIZEBOX) || (sty
                    le & FXWS_MAXIMIZEBOX))
 19854                        L10385:
 19855                        L10384:
 19856                        L10382:
 19857                        	.line	2949
 19858                        ;	{
 19859 06:4D7D: A5 50        	lda	<L956+style_0
 19860 06:4D7F: 29 04 00     	and	#<$4
 19861 06:4D82: 85 01        	sta	<R0
 19862 06:4D84: 64 03        	stz	<R0+2
 19863 06:4D86: A5 01        	lda	<R0
 19864 06:4D88: C9 04 00     	cmp	#<$4
 19865 06:4D8B: D0 05        	bne	L964
 19866 06:4D8D: A5 03        	lda	<R0+2
 19867 06:4D8F: C9 00 00     	cmp	#^$4
 19868                        L964:
 19869 06:4D92: D0 03        	bne	L965
 19870 06:4D94: 82 1E 00     	brl	L963
 19871                        L965:
 19872 06:4D97: A5 50        	lda	<L956+style_0
 19873 06:4D99: 29 08 00     	and	#<$8
 19874 06:4D9C: F0 03        	beq	L966
 19875 06:4D9E: 82 14 00     	brl	L963
 19876                        L966:
 19877 06:4DA1: A5 50        	lda	<L956+style_0
 19878 06:4DA3: 29 20 00     	and	#<$20
 19879 06:4DA6: F0 03        	beq	L967
 19880 06:4DA8: 82 0A 00     	brl	L963
 19881                        L967:
 19882 06:4DAB: A5 50        	lda	<L956+style_0
 19883 06:4DAD: 29 10 00     	and	#<$10
 19884 06:4DB0: D0 03        	bne	L968
 19885 06:4DB2: 82 05 00     	brl	L10386
 19886                        L968:
 19887                        L963:
  Mon Sep 27 2021  9:39                                                Page 365


 19888                        	.line	2950
 19889                        ;		borderTitle = 10;
 19890                        	.line	2951
 19891 06:4DB5: A9 0A 00     	lda	#$a
 19892 06:4DB8: 85 17        	sta	<L957+borderTitle_1
 19893                        ;	}
 19894                        	.line	2952
 19895                        ;
 19896                        ;	clientOffsetX = cx + borderWidth;
 19897                        L10386:
 19898                        	.line	2954
 19899 06:4DBA: 18           	clc
 19900 06:4DBB: A5 54        	lda	<L956+cx_0
 19901 06:4DBD: 65 19        	adc	<L957+borderWidth_1
 19902 06:4DBF: 85 21        	sta	<L957+clientOffsetX_1
 19903                        ;
 19904                        ;	if(borderTitle)
 19905                        	.line	2956
 19906                        ;		clientOffsetY = cy + borderTitle;
 19907 06:4DC1: A5 17        	lda	<L957+borderTitle_1
 19908 06:4DC3: D0 03        	bne	L969
 19909 06:4DC5: 82 0A 00     	brl	L10387
 19910                        L969:
 19911                        	.line	2957
 19912 06:4DC8: 18           	clc
 19913 06:4DC9: A5 56        	lda	<L956+cy_0
 19914 06:4DCB: 65 17        	adc	<L957+borderTitle_1
 19915 06:4DCD: 85 23        	sta	<L957+clientOffsetY_1
 19916                        ;	else
 19917 06:4DCF: 82 07 00     	brl	L10388
 19918                        L10387:
 19919                        ;		clientOffsetY = cy + borderWidth;
 19920                        	.line	2959
 19921 06:4DD2: 18           	clc
 19922 06:4DD3: A5 56        	lda	<L956+cy_0
 19923 06:4DD5: 65 19        	adc	<L957+borderWidth_1
 19924 06:4DD7: 85 23        	sta	<L957+clientOffsetY_1
 19925                        L10388:
 19926                        ;
 19927                        ;	currX = clientOffsetX;
 19928                        	.line	2961
 19929 06:4DD9: A5 21        	lda	<L957+clientOffsetX_1
 19930 06:4DDB: 85 25        	sta	<L957+currX_1
 19931                        ;	currY = clientOffsetY;
 19932                        	.line	2962
 19933 06:4DDD: A5 23        	lda	<L957+clientOffsetY_1
 19934 06:4DDF: 85 27        	sta	<L957+currY_1
 19935                        ;
 19936                        ;	endX = width + cx - borderWidth;
 19937                        	.line	2964
 19938 06:4DE1: 18           	clc
 19939 06:4DE2: A5 5A        	lda	<L956+width_0
 19940 06:4DE4: 65 54        	adc	<L956+cx_0
 19941 06:4DE6: 85 01        	sta	<R0
 19942 06:4DE8: 38           	sec
 19943 06:4DE9: A5 01        	lda	<R0
 19944 06:4DEB: E5 19        	sbc	<L957+borderWidth_1
 19945 06:4DED: 85 29        	sta	<L957+endX_1
  Mon Sep 27 2021  9:39                                                Page 366


 19946                        ;	maxminPos = 0;
 19947                        	.line	2965
 19948 06:4DEF: 64 2B        	stz	<L957+maxminPos_1
 19949                        ;
 19950                        ;	k_vdma_fill_rect_ex(cx,cy,width,height,bgcolor,p
                    age);
 19951                        	.line	2967
 19952 06:4DF1: D4 64        	pei	<L956+page_0
 19953 06:4DF3: D4 62        	pei	<L956+bgcolor_0
 19954 06:4DF5: D4 58        	pei	<L956+height_0
 19955 06:4DF7: D4 5A        	pei	<L956+width_0
 19956 06:4DF9: A0 00 00     	ldy	#$0
 19957 06:4DFC: A5 56        	lda	<L956+cy_0
 19958 06:4DFE: 10 01        	bpl	L970
 19959 06:4E00: 88           	dey
 19960                        L970:
 19961 06:4E01: 85 01        	sta	<R0
 19962 06:4E03: 84 03        	sty	<R0+2
 19963 06:4E05: D4 03        	pei	<R0+2
 19964 06:4E07: D4 01        	pei	<R0
 19965 06:4E09: A0 00 00     	ldy	#$0
 19966 06:4E0C: A5 54        	lda	<L956+cx_0
 19967 06:4E0E: 10 01        	bpl	L971
 19968 06:4E10: 88           	dey
 19969                        L971:
 19970 06:4E11: 85 05        	sta	<R1
 19971 06:4E13: 84 07        	sty	<R1+2
 19972 06:4E15: D4 07        	pei	<R1+2
 19973 06:4E17: D4 05        	pei	<R1
 19974 06:4E19: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 19975                        ;
 19976                        ;
 19977                        ;	borderColor = color;
 19978                        	.line	2970
 19979 06:4E1D: A5 60        	lda	<L956+color_0
 19980 06:4E1F: 85 15        	sta	<L957+borderColor_1
 19981                        ;	for(i=0;i<borderWidth;i++)
 19982                        	.line	2971
 19983 06:4E21: 64 11        	stz	<L957+i_1
 19984 06:4E23: 82 6F 00     	brl	L10392
 19985                        L10391:
 19986                        ;	{
 19987                        	.line	2972
 19988                        ;		if(borderWidth > 2)
 19989                        	.line	2973
 19990                        ;		{
 19991 06:4E26: 38           	sec
 19992 06:4E27: A9 02 00     	lda	#$2
 19993 06:4E2A: E5 19        	sbc	<L957+borderWidth_1
 19994 06:4E2C: 70 03        	bvs	L972
 19995 06:4E2E: 49 00 80     	eor	#$8000
 19996                        L972:
 19997 06:4E31: 10 03        	bpl	L973
 19998 06:4E33: 82 1C 00     	brl	L10393
 19999                        L973:
 20000                        	.line	2974
 20001                        ;			borderColor = color;
 20002                        	.line	2975
  Mon Sep 27 2021  9:39                                                Page 367


 20003 06:4E36: A5 60        	lda	<L956+color_0
 20004 06:4E38: 85 15        	sta	<L957+borderColor_1
 20005                        ;			odd=!odd;
 20006                        	.line	2976
 20007 06:4E3A: 64 01        	stz	<R0
 20008 06:4E3C: A5 13        	lda	<L957+odd_1
 20009 06:4E3E: F0 03        	beq	L975
 20010 06:4E40: 82 02 00     	brl	L974
 20011                        L975:
 20012 06:4E43: E6 01        	inc	<R0
 20013                        L974:
 20014 06:4E45: A5 01        	lda	<R0
 20015 06:4E47: 85 13        	sta	<L957+odd_1
 20016                        ;			if(odd)
 20017                        	.line	2977
 20018                        ;			{
 20019 06:4E49: A5 13        	lda	<L957+odd_1
 20020 06:4E4B: D0 03        	bne	L976
 20021 06:4E4D: 82 02 00     	brl	L10394
 20022                        L976:
 20023                        	.line	2978
 20024                        ;				borderColor = 0;
 20025                        	.line	2979
 20026 06:4E50: 64 15        	stz	<L957+borderColor_1
 20027                        ;			}
 20028                        	.line	2980
 20029                        ;		}
 20030                        L10394:
 20031                        	.line	2981
 20032                        ;
 20033                        ;		k_draw_rect(cx + i + 0,
 20034                        L10393:
 20035                        	.line	2983
 20036                        ;					cy + i + 0,
 20037                        ;					cx + width  - 1 
                    - i,
 20038                        ;					cy + height - 1 
                    - i,
 20039                        ;					borderColor,
 20040                        ;					0,
 20041                        ;					page);
 20042 06:4E52: D4 64        	pei	<L956+page_0
 20043 06:4E54: F4 00 00     	pea	#<$0
 20044 06:4E57: D4 15        	pei	<L957+borderColor_1
 20045 06:4E59: 18           	clc
 20046 06:4E5A: A5 56        	lda	<L956+cy_0
 20047 06:4E5C: 65 58        	adc	<L956+height_0
 20048 06:4E5E: 85 01        	sta	<R0
 20049 06:4E60: 18           	clc
 20050 06:4E61: A9 FF FF     	lda	#$ffff
 20051 06:4E64: 65 01        	adc	<R0
 20052 06:4E66: 85 05        	sta	<R1
 20053 06:4E68: 38           	sec
 20054 06:4E69: A5 05        	lda	<R1
 20055 06:4E6B: E5 11        	sbc	<L957+i_1
 20056 06:4E6D: 48           	pha
 20057 06:4E6E: 18           	clc
 20058 06:4E6F: A5 54        	lda	<L956+cx_0
  Mon Sep 27 2021  9:39                                                Page 368


 20059 06:4E71: 65 5A        	adc	<L956+width_0
 20060 06:4E73: 85 01        	sta	<R0
 20061 06:4E75: 18           	clc
 20062 06:4E76: A9 FF FF     	lda	#$ffff
 20063 06:4E79: 65 01        	adc	<R0
 20064 06:4E7B: 85 05        	sta	<R1
 20065 06:4E7D: 38           	sec
 20066 06:4E7E: A5 05        	lda	<R1
 20067 06:4E80: E5 11        	sbc	<L957+i_1
 20068 06:4E82: 48           	pha
 20069 06:4E83: 18           	clc
 20070 06:4E84: A5 56        	lda	<L956+cy_0
 20071 06:4E86: 65 11        	adc	<L957+i_1
 20072 06:4E88: 48           	pha
 20073 06:4E89: 18           	clc
 20074 06:4E8A: A5 54        	lda	<L956+cx_0
 20075 06:4E8C: 65 11        	adc	<L957+i_1
 20076 06:4E8E: 48           	pha
 20077 06:4E8F: 22 76 20 06  	jsl	~~k_draw_rect
 20078                        ;
 20079                        ;	}
 20080                        	.line	2991
 20081                        L10389:
 20082 06:4E93: E6 11        	inc	<L957+i_1
 20083                        L10392:
 20084 06:4E95: 38           	sec
 20085 06:4E96: A5 11        	lda	<L957+i_1
 20086 06:4E98: E5 19        	sbc	<L957+borderWidth_1
 20087 06:4E9A: 70 03        	bvs	L977
 20088 06:4E9C: 49 00 80     	eor	#$8000
 20089                        L977:
 20090 06:4E9F: 30 03        	bmi	L978
 20091 06:4EA1: 82 82 FF     	brl	L10391
 20092                        L978:
 20093                        L10390:
 20094                        ;
 20095                        ;
 20096                        ;
 20097                        ;	if(borderTitle)
 20098                        	.line	2995
 20099                        ;	{
 20100 06:4EA4: A5 17        	lda	<L957+borderTitle_1
 20101 06:4EA6: D0 03        	bne	L979
 20102 06:4EA8: 82 2C 00     	brl	L10395
 20103                        L979:
 20104                        	.line	2996
 20105                        ;		k_vdma_fill_rect_ex(cx,cy,width,borderTi
                    tle,color,page);
 20106                        	.line	2997
 20107 06:4EAB: D4 64        	pei	<L956+page_0
 20108 06:4EAD: D4 60        	pei	<L956+color_0
 20109 06:4EAF: D4 17        	pei	<L957+borderTitle_1
 20110 06:4EB1: D4 5A        	pei	<L956+width_0
 20111 06:4EB3: A0 00 00     	ldy	#$0
 20112 06:4EB6: A5 56        	lda	<L956+cy_0
 20113 06:4EB8: 10 01        	bpl	L980
 20114 06:4EBA: 88           	dey
 20115                        L980:
  Mon Sep 27 2021  9:39                                                Page 369


 20116 06:4EBB: 85 01        	sta	<R0
 20117 06:4EBD: 84 03        	sty	<R0+2
 20118 06:4EBF: D4 03        	pei	<R0+2
 20119 06:4EC1: D4 01        	pei	<R0
 20120 06:4EC3: A0 00 00     	ldy	#$0
 20121 06:4EC6: A5 54        	lda	<L956+cx_0
 20122 06:4EC8: 10 01        	bpl	L981
 20123 06:4ECA: 88           	dey
 20124                        L981:
 20125 06:4ECB: 85 05        	sta	<R1
 20126 06:4ECD: 84 07        	sty	<R1+2
 20127 06:4ECF: D4 07        	pei	<R1+2
 20128 06:4ED1: D4 05        	pei	<R1
 20129 06:4ED3: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 20130                        ;	}
 20131                        	.line	2998
 20132                        ;
 20133                        ;	k_get_font_metrics(&metric);
 20134                        L10395:
 20135                        	.line	3000
 20136 06:4ED7: F4 00 00     	pea	#0
 20137 06:4EDA: 18           	clc
 20138 06:4EDB: 7B           	tdc
 20139 06:4EDC: 69 0D 00     	adc	#<L957+metric_1
 20140 06:4EDF: 48           	pha
 20141 06:4EE0: 22 56 26 06  	jsl	~~k_get_font_metrics
 20142                        ;	
 20143                        ;	
 20144                        ;	//title = strupr(title);
 20145                        ;	
 20146                        ;	//FXWS_OVERLAPPED | FXWS_CAPTION | FXWS_SYSMENU 
                    | FXWS_THICKFRAME | FXWS_MINIMIZEBOX | FXWS_MAXIMIZEBOX
 20147                        ;
 20148                        ;	if(style & FXWS_SYSMENU)
 20149                        	.line	3007
 20150                        ;	{
 20151 06:4EE4: A5 50        	lda	<L956+style_0
 20152 06:4EE6: 29 08 00     	and	#<$8
 20153 06:4EE9: D0 03        	bne	L982
 20154 06:4EEB: 82 A6 00     	brl	L10396
 20155                        L982:
 20156                        	.line	3008
 20157                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),titleOffsetX,titleOffsetY,gx,gx);
 20158                        	.line	3009
 20159 06:4EEE: D4 2F        	pei	<L957+gx_1
 20160 06:4EF0: D4 2F        	pei	<L957+gx_1
 20161 06:4EF2: D4 1D        	pei	<L957+titleOffsetY_1
 20162 06:4EF4: D4 1B        	pei	<L957+titleOffsetX_1
 20163 06:4EF6: A0 00 00     	ldy	#$0
 20164 06:4EF9: A5 2D        	lda	<L957+ncc_1
 20165 06:4EFB: 10 01        	bpl	L983
 20166 06:4EFD: 88           	dey
 20167                        L983:
 20168 06:4EFE: 85 01        	sta	<R0
 20169 06:4F00: 84 03        	sty	<R0+2
 20170 06:4F02: F4 00 00     	pea	#^$11
 20171 06:4F05: F4 11 00     	pea	#<$11
  Mon Sep 27 2021  9:39                                                Page 370


 20172 06:4F08: D4 03        	pei	<R0+2
 20173 06:4F0A: D4 01        	pei	<R0
 20174                        	xref	~~~lmul
 20175 06:4F0C: 22 xx xx xx  	jsl	~~~lmul
 20176 06:4F10: 85 01        	sta	<R0
 20177 06:4F12: 86 03        	stx	<R0+2
 20178 06:4F14: 18           	clc
 20179 06:4F15: A9 38 00     	lda	#$38
 20180 06:4F18: 65 01        	adc	<R0
 20181 06:4F1A: 85 05        	sta	<R1
 20182 06:4F1C: A9 00 00     	lda	#$0
 20183 06:4F1F: 65 03        	adc	<R0+2
 20184 06:4F21: 85 07        	sta	<R1+2
 20185 06:4F23: 18           	clc
 20186 06:4F24: A5 4C        	lda	<L956+pWin_0
 20187 06:4F26: 65 05        	adc	<R1
 20188 06:4F28: 85 01        	sta	<R0
 20189 06:4F2A: A5 4E        	lda	<L956+pWin_0+2
 20190 06:4F2C: 65 07        	adc	<R1+2
 20191 06:4F2E: 85 03        	sta	<R0+2
 20192 06:4F30: D4 03        	pei	<R0+2
 20193 06:4F32: D4 01        	pei	<R0
 20194 06:4F34: 22 06 06 06  	jsl	~~k_set_rect
 20195                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_WINDOW_CLOSE;
 20196                        	.line	3010
 20197 06:4F38: A0 00 00     	ldy	#$0
 20198 06:4F3B: A5 2D        	lda	<L957+ncc_1
 20199 06:4F3D: 10 01        	bpl	L984
 20200 06:4F3F: 88           	dey
 20201                        L984:
 20202 06:4F40: 85 01        	sta	<R0
 20203 06:4F42: 84 03        	sty	<R0+2
 20204 06:4F44: F4 00 00     	pea	#^$11
 20205 06:4F47: F4 11 00     	pea	#<$11
 20206 06:4F4A: D4 03        	pei	<R0+2
 20207 06:4F4C: D4 01        	pei	<R0
 20208                        	xref	~~~lmul
 20209 06:4F4E: 22 xx xx xx  	jsl	~~~lmul
 20210 06:4F52: 85 01        	sta	<R0
 20211 06:4F54: 86 03        	stx	<R0+2
 20212 06:4F56: 18           	clc
 20213 06:4F57: A9 46 00     	lda	#$46
 20214 06:4F5A: 65 4C        	adc	<L956+pWin_0
 20215 06:4F5C: 85 05        	sta	<R1
 20216 06:4F5E: A9 00 00     	lda	#$0
 20217 06:4F61: 65 4E        	adc	<L956+pWin_0+2
 20218 06:4F63: 85 07        	sta	<R1+2
 20219 06:4F65: 18           	clc
 20220 06:4F66: A5 05        	lda	<R1
 20221 06:4F68: 65 01        	adc	<R0
 20222 06:4F6A: 85 09        	sta	<R2
 20223 06:4F6C: A5 07        	lda	<R1+2
 20224 06:4F6E: 65 03        	adc	<R0+2
 20225 06:4F70: 85 0B        	sta	<R2+2
 20226 06:4F72: A9 FF FB     	lda	#$fbff
 20227 06:4F75: 87 09        	sta	[<R2]
 20228 06:4F77: E6 2D        	inc	<L957+ncc_1
  Mon Sep 27 2021  9:39                                                Page 371


 20229                        ;
 20230                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_SYSMENU");
 20231                        ;		titleOffsetX+=k_put_wingadget_point_ex(W
                    INICON_TITLE_BCLOSE,titleOffsetX,titleOffsetY,k_getUIGadgetC
                    olor(),page);
 20232                        	.line	3013
 20233 06:4F79: D4 64        	pei	<L956+page_0
 20234 06:4F7B: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
 20235 06:4F7F: 48           	pha
 20236 06:4F80: D4 1D        	pei	<L957+titleOffsetY_1
 20237 06:4F82: D4 1B        	pei	<L957+titleOffsetX_1
 20238 06:4F84: F4 06 00     	pea	#<$6
 20239 06:4F87: 22 F6 2E 06  	jsl	~~k_put_wingadget_point_ex
 20240 06:4F8B: 85 01        	sta	<R0
 20241 06:4F8D: 18           	clc
 20242 06:4F8E: A5 01        	lda	<R0
 20243 06:4F90: 65 1B        	adc	<L957+titleOffsetX_1
 20244 06:4F92: 85 1B        	sta	<L957+titleOffsetX_1
 20245                        ;
 20246                        ;	}
 20247                        	.line	3015
 20248                        ;	
 20249                        ;	if((style & FXWS_CAPTION) == FXWS_CAPTION)
 20250                        L10396:
 20251                        	.line	3017
 20252                        ;	{
 20253 06:4F94: A5 50        	lda	<L956+style_0
 20254 06:4F96: 29 04 00     	and	#<$4
 20255 06:4F99: 85 01        	sta	<R0
 20256 06:4F9B: 64 03        	stz	<R0+2
 20257 06:4F9D: A5 01        	lda	<R0
 20258 06:4F9F: C9 04 00     	cmp	#<$4
 20259 06:4FA2: D0 05        	bne	L985
 20260 06:4FA4: A5 03        	lda	<R0+2
 20261 06:4FA6: C9 00 00     	cmp	#^$4
 20262                        L985:
 20263 06:4FA9: F0 03        	beq	L986
 20264 06:4FAB: 82 48 00     	brl	L10397
 20265                        L986:
 20266                        	.line	3018
 20267                        ;
 20268                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_CAPTION");
 20269                        ;		//titleScaler = (int)(width / metric.wid
                    th - 3);
 20270                        ;		titleScaler = (int)((width / metric.widt
                    h) - 1);
 20271                        	.line	3022
 20272 06:4FAE: A5 5A        	lda	<L956+width_0
 20273 06:4FB0: A6 0D        	ldx	<L957+metric_1
 20274                        	xref	~~~div
 20275 06:4FB2: 22 xx xx xx  	jsl	~~~div
 20276 06:4FB6: 85 01        	sta	<R0
 20277 06:4FB8: 18           	clc
 20278 06:4FB9: A9 FF FF     	lda	#$ffff
 20279 06:4FBC: 65 01        	adc	<R0
 20280 06:4FBE: 85 1F        	sta	<L957+titleScaler_1
  Mon Sep 27 2021  9:39                                                Page 372


 20281                        ;
 20282                        ;		//k_debug_integer("k_vdraw_ui_window:tit
                    leScaler1:",titleScaler * 8);
 20283                        ;
 20284                        ;
 20285                        ;		//titleScaler = (width - (borderWidth * 
                    2));
 20286                        ;		//k_debug_integer("k_vdraw_ui_window:tit
                    leScaler2:",(width - (borderWidth * 2)));
 20287                        ;
 20288                        ;		/*
 20289                        ;		if(!k_gui_get_title_cache(NULL))
 20290                        ;		{
 20291                        ;			k_gui_build_title_cache(NULL);
 20292                        ;		}
 20293                        ;
 20294                        ;		if(k_gui_get_title_cache(NULL))
 20295                        ;		{
 20296                        ;			k_vdma_copy_address_ex((LPSTR)((
                    ULONG)0x080000 + k_gui_get_pixel_offset(titleOffsetX,titleOf
                    fsetY)),TITLE_LINES_640x480,titleScaler * 8,8);
 20297                        ;		}
 20298                        ;		else
 20299                        ;		{
 20300                        ;			k_gui_build_title_cache(NULL);
 20301                        ;			for(i=0;i<titleScaler;i++)
 20302                        ;			{
 20303                        ;				titleOffsetX+=k_put_wing
                    adget_point_ex(WINICON_TITLE_LINES,titleOffsetX,titleOffsetY
                    ,k_getUIGadgetColor(),page);
 20304                        ;			}
 20305                        ;		}
 20306                        ;
 20307                        ;		k_gui_build_title_cache(NULL);
 20308                        ;		*/
 20309                        ;
 20310                        ;		//
 20311                        ;		// set lines in title with blt
 20312                        ;		//
 20313                        ;		rect.x = titleOffsetX;
 20314                        	.line	3055
 20315 06:4FC0: A5 1B        	lda	<L957+titleOffsetX_1
 20316 06:4FC2: 85 39        	sta	<L957+rect_1
 20317                        ;		rect.y = titleOffsetY;
 20318                        	.line	3056
 20319 06:4FC4: A5 1D        	lda	<L957+titleOffsetY_1
 20320 06:4FC6: 85 3B        	sta	<L957+rect_1+2
 20321                        ;		rect.width  = (titleScaler * 8)  - (bord
                    erWidth * 2);
 20322                        	.line	3057
 20323 06:4FC8: A5 19        	lda	<L957+borderWidth_1
 20324 06:4FCA: 0A           	asl	A
 20325 06:4FCB: 85 01        	sta	<R0
 20326 06:4FCD: A5 1F        	lda	<L957+titleScaler_1
 20327 06:4FCF: 0A           	asl	A
 20328 06:4FD0: 0A           	asl	A
 20329 06:4FD1: 0A           	asl	A
 20330 06:4FD2: 85 05        	sta	<R1
  Mon Sep 27 2021  9:39                                                Page 373


 20331 06:4FD4: 38           	sec
 20332 06:4FD5: A5 05        	lda	<R1
 20333 06:4FD7: E5 01        	sbc	<R0
 20334 06:4FD9: 85 41        	sta	<L957+rect_1+8
 20335                        ;		rect.height = 8;
 20336                        	.line	3058
 20337 06:4FDB: A9 08 00     	lda	#$8
 20338 06:4FDE: 85 43        	sta	<L957+rect_1+10
 20339                        ;		k_gui_get_image_cache(0,0x080000,&rect);
 20340                        	.line	3059
 20341 06:4FE0: F4 00 00     	pea	#0
 20342 06:4FE3: 18           	clc
 20343 06:4FE4: 7B           	tdc
 20344 06:4FE5: 69 39 00     	adc	#<L957+rect_1
 20345 06:4FE8: 48           	pha
 20346 06:4FE9: F4 08 00     	pea	#^$80000
 20347 06:4FEC: F4 00 00     	pea	#<$80000
 20348 06:4FEF: F4 00 00     	pea	#<$0
 20349 06:4FF2: 22 19 03 06  	jsl	~~k_gui_get_image_cache
 20350                        ;		//
 20351                        ;		//
 20352                        ;		//
 20353                        ;
 20354                        ;
 20355                        ;		/*
 20356                        ;		for(i=0;i<titleScaler;i++)
 20357                        ;		{
 20358                        ;			titleOffsetX+=k_put_wingadget_po
                    int_ex(WINICON_TITLE_LINES,titleOffsetX,titleOffsetY,k_getUI
                    GadgetColor(),page);
 20359                        ;		}
 20360                        ;		*/
 20361                        ;
 20362                        ;		//k_vdma_copy_address_ex((LPSTR)((ULONG)
                    0x080000 + k_gui_get_pixel_offset(0,440)),TITLE_LINES_640x48
                    0,titleScaler * 8,8);
 20363                        ;
 20364                        ;
 20365                        ;
 20366                        ;
 20367                        ;	}
 20368                        	.line	3077
 20369                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_BACK,titleOffsetX,titleOffsetY,14);
 20370                        ;	//titleOffsetX+=2;
 20371                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_FRONT,titleOffsetX,titleOffsetY,14);
 20372                        ;	
 20373                        ;	if(style & FXWS_MAXIMIZEBOX)
 20374                        L10397:
 20375                        	.line	3082
 20376                        ;	{
 20377 06:4FF6: A5 50        	lda	<L956+style_0
 20378 06:4FF8: 29 10 00     	and	#<$10
 20379 06:4FFB: D0 03        	bne	L987
 20380 06:4FFD: 82 C6 00     	brl	L10398
 20381                        L987:
 20382                        	.line	3083
  Mon Sep 27 2021  9:39                                                Page 374


 20383                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_MAXIMIZEBOX");
 20384                        ;		maxminPos+=metric.width;
 20385                        	.line	3085
 20386 06:5000: 18           	clc
 20387 06:5001: A5 2B        	lda	<L957+maxminPos_1
 20388 06:5003: 65 0D        	adc	<L957+metric_1
 20389 06:5005: 85 2B        	sta	<L957+maxminPos_1
 20390                        ;		//k_put_wingadget_point(WINICON_BLOCK,en
                    dX - (metric.width),titleOffsetY,k_getUIWindowBorderColor())
                    ;
 20391                        ;		//k_put_wingadget_point(WINICON_TITLE_FR
                    ONT,endX - (metric.width),titleOffsetY,k_getUIGadgetColor())
                    ;
 20392                        ;
 20393                        ;		k_put_wingadget_point_ex(WINICON_BLOCK,e
                    ndX - maxminPos,titleOffsetY,k_getUIWindowBorderColor(),page
                    );
 20394                        	.line	3089
 20395 06:5007: D4 64        	pei	<L956+page_0
 20396 06:5009: 22 9F 12 06  	jsl	~~k_getUIWindowBorderColor
 20397 06:500D: 48           	pha
 20398 06:500E: D4 1D        	pei	<L957+titleOffsetY_1
 20399 06:5010: 38           	sec
 20400 06:5011: A5 29        	lda	<L957+endX_1
 20401 06:5013: E5 2B        	sbc	<L957+maxminPos_1
 20402 06:5015: 48           	pha
 20403 06:5016: F4 00 00     	pea	#<$0
 20404 06:5019: 22 F6 2E 06  	jsl	~~k_put_wingadget_point_ex
 20405                        ;		k_put_wingadget_point_ex(WINICON_TITLE_F
                    RONT,endX - maxminPos,titleOffsetY,k_getUIGadgetColor(),page
                    );
 20406                        	.line	3090
 20407 06:501D: D4 64        	pei	<L956+page_0
 20408 06:501F: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
 20409 06:5023: 48           	pha
 20410 06:5024: D4 1D        	pei	<L957+titleOffsetY_1
 20411 06:5026: 38           	sec
 20412 06:5027: A5 29        	lda	<L957+endX_1
 20413 06:5029: E5 2B        	sbc	<L957+maxminPos_1
 20414 06:502B: 48           	pha
 20415 06:502C: F4 03 00     	pea	#<$3
 20416 06:502F: 22 F6 2E 06  	jsl	~~k_put_wingadget_point_ex
 20417                        ;
 20418                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),endX - maxminPos,titleOffsetY,gx,gx);
 20419                        	.line	3092
 20420 06:5033: D4 2F        	pei	<L957+gx_1
 20421 06:5035: D4 2F        	pei	<L957+gx_1
 20422 06:5037: D4 1D        	pei	<L957+titleOffsetY_1
 20423 06:5039: 38           	sec
 20424 06:503A: A5 29        	lda	<L957+endX_1
 20425 06:503C: E5 2B        	sbc	<L957+maxminPos_1
 20426 06:503E: 48           	pha
 20427 06:503F: A0 00 00     	ldy	#$0
 20428 06:5042: A5 2D        	lda	<L957+ncc_1
 20429 06:5044: 10 01        	bpl	L988
 20430 06:5046: 88           	dey
  Mon Sep 27 2021  9:39                                                Page 375


 20431                        L988:
 20432 06:5047: 85 01        	sta	<R0
 20433 06:5049: 84 03        	sty	<R0+2
 20434 06:504B: F4 00 00     	pea	#^$11
 20435 06:504E: F4 11 00     	pea	#<$11
 20436 06:5051: D4 03        	pei	<R0+2
 20437 06:5053: D4 01        	pei	<R0
 20438                        	xref	~~~lmul
 20439 06:5055: 22 xx xx xx  	jsl	~~~lmul
 20440 06:5059: 85 01        	sta	<R0
 20441 06:505B: 86 03        	stx	<R0+2
 20442 06:505D: 18           	clc
 20443 06:505E: A9 38 00     	lda	#$38
 20444 06:5061: 65 01        	adc	<R0
 20445 06:5063: 85 05        	sta	<R1
 20446 06:5065: A9 00 00     	lda	#$0
 20447 06:5068: 65 03        	adc	<R0+2
 20448 06:506A: 85 07        	sta	<R1+2
 20449 06:506C: 18           	clc
 20450 06:506D: A5 4C        	lda	<L956+pWin_0
 20451 06:506F: 65 05        	adc	<R1
 20452 06:5071: 85 01        	sta	<R0
 20453 06:5073: A5 4E        	lda	<L956+pWin_0+2
 20454 06:5075: 65 07        	adc	<R1+2
 20455 06:5077: 85 03        	sta	<R0+2
 20456 06:5079: D4 03        	pei	<R0+2
 20457 06:507B: D4 01        	pei	<R0
 20458 06:507D: 22 06 06 06  	jsl	~~k_set_rect
 20459                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_MAX_WINDOW;
 20460                        	.line	3093
 20461 06:5081: A0 00 00     	ldy	#$0
 20462 06:5084: A5 2D        	lda	<L957+ncc_1
 20463 06:5086: 10 01        	bpl	L989
 20464 06:5088: 88           	dey
 20465                        L989:
 20466 06:5089: 85 01        	sta	<R0
 20467 06:508B: 84 03        	sty	<R0+2
 20468 06:508D: F4 00 00     	pea	#^$11
 20469 06:5090: F4 11 00     	pea	#<$11
 20470 06:5093: D4 03        	pei	<R0+2
 20471 06:5095: D4 01        	pei	<R0
 20472                        	xref	~~~lmul
 20473 06:5097: 22 xx xx xx  	jsl	~~~lmul
 20474 06:509B: 85 01        	sta	<R0
 20475 06:509D: 86 03        	stx	<R0+2
 20476 06:509F: 18           	clc
 20477 06:50A0: A9 46 00     	lda	#$46
 20478 06:50A3: 65 4C        	adc	<L956+pWin_0
 20479 06:50A5: 85 05        	sta	<R1
 20480 06:50A7: A9 00 00     	lda	#$0
 20481 06:50AA: 65 4E        	adc	<L956+pWin_0+2
 20482 06:50AC: 85 07        	sta	<R1+2
 20483 06:50AE: 18           	clc
 20484 06:50AF: A5 05        	lda	<R1
 20485 06:50B1: 65 01        	adc	<R0
 20486 06:50B3: 85 09        	sta	<R2
 20487 06:50B5: A5 07        	lda	<R1+2
  Mon Sep 27 2021  9:39                                                Page 376


 20488 06:50B7: 65 03        	adc	<R0+2
 20489 06:50B9: 85 0B        	sta	<R2+2
 20490 06:50BB: A9 0A FB     	lda	#$fb0a
 20491 06:50BE: 87 09        	sta	[<R2]
 20492 06:50C0: E6 2D        	inc	<L957+ncc_1
 20493                        ;
 20494                        ;		maxminPos+=2;
 20495                        	.line	3095
 20496 06:50C2: E6 2B        	inc	<L957+maxminPos_1
 20497 06:50C4: E6 2B        	inc	<L957+maxminPos_1
 20498                        ;	}
 20499                        	.line	3096
 20500                        ;
 20501                        ;	if(style & FXWS_MINIMIZEBOX)
 20502                        L10398:
 20503                        	.line	3098
 20504                        ;	{
 20505 06:50C6: A5 50        	lda	<L956+style_0
 20506 06:50C8: 29 20 00     	and	#<$20
 20507 06:50CB: D0 03        	bne	L990
 20508 06:50CD: 82 C6 00     	brl	L10399
 20509                        L990:
 20510                        	.line	3099
 20511                        ;		//k_debug_strings("k_vdraw_ui_window:","
                    FXWS_MINIMIZEBOX");
 20512                        ;		maxminPos+=metric.width;
 20513                        	.line	3101
 20514 06:50D0: 18           	clc
 20515 06:50D1: A5 2B        	lda	<L957+maxminPos_1
 20516 06:50D3: 65 0D        	adc	<L957+metric_1
 20517 06:50D5: 85 2B        	sta	<L957+maxminPos_1
 20518                        ;		//k_put_wingadget_point(WINICON_BLOCK,en
                    dX - (metric.width*2 + 2),titleOffsetY,k_getUIWindowBorderCo
                    lor());
 20519                        ;		//k_put_wingadget_point(WINICON_TITLE_BA
                    CK,endX - (metric.width*2 + 2),titleOffsetY,k_getUIGadgetCol
                    or());
 20520                        ;
 20521                        ;		k_put_wingadget_point_ex(WINICON_BLOCK,e
                    ndX - maxminPos,titleOffsetY,k_getUIWindowBorderColor(),page
                    );
 20522                        	.line	3105
 20523 06:50D7: D4 64        	pei	<L956+page_0
 20524 06:50D9: 22 9F 12 06  	jsl	~~k_getUIWindowBorderColor
 20525 06:50DD: 48           	pha
 20526 06:50DE: D4 1D        	pei	<L957+titleOffsetY_1
 20527 06:50E0: 38           	sec
 20528 06:50E1: A5 29        	lda	<L957+endX_1
 20529 06:50E3: E5 2B        	sbc	<L957+maxminPos_1
 20530 06:50E5: 48           	pha
 20531 06:50E6: F4 00 00     	pea	#<$0
 20532 06:50E9: 22 F6 2E 06  	jsl	~~k_put_wingadget_point_ex
 20533                        ;		k_put_wingadget_point_ex(WINICON_TITLE_B
                    ACK,endX - maxminPos,titleOffsetY,k_getUIGadgetColor(),page)
                    ;
 20534                        	.line	3106
 20535 06:50ED: D4 64        	pei	<L956+page_0
 20536 06:50EF: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
  Mon Sep 27 2021  9:39                                                Page 377


 20537 06:50F3: 48           	pha
 20538 06:50F4: D4 1D        	pei	<L957+titleOffsetY_1
 20539 06:50F6: 38           	sec
 20540 06:50F7: A5 29        	lda	<L957+endX_1
 20541 06:50F9: E5 2B        	sbc	<L957+maxminPos_1
 20542 06:50FB: 48           	pha
 20543 06:50FC: F4 04 00     	pea	#<$4
 20544 06:50FF: 22 F6 2E 06  	jsl	~~k_put_wingadget_point_ex
 20545                        ;
 20546                        ;
 20547                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),endX - maxminPos,titleOffsetY,gx,gx);
 20548                        	.line	3109
 20549 06:5103: D4 2F        	pei	<L957+gx_1
 20550 06:5105: D4 2F        	pei	<L957+gx_1
 20551 06:5107: D4 1D        	pei	<L957+titleOffsetY_1
 20552 06:5109: 38           	sec
 20553 06:510A: A5 29        	lda	<L957+endX_1
 20554 06:510C: E5 2B        	sbc	<L957+maxminPos_1
 20555 06:510E: 48           	pha
 20556 06:510F: A0 00 00     	ldy	#$0
 20557 06:5112: A5 2D        	lda	<L957+ncc_1
 20558 06:5114: 10 01        	bpl	L991
 20559 06:5116: 88           	dey
 20560                        L991:
 20561 06:5117: 85 01        	sta	<R0
 20562 06:5119: 84 03        	sty	<R0+2
 20563 06:511B: F4 00 00     	pea	#^$11
 20564 06:511E: F4 11 00     	pea	#<$11
 20565 06:5121: D4 03        	pei	<R0+2
 20566 06:5123: D4 01        	pei	<R0
 20567                        	xref	~~~lmul
 20568 06:5125: 22 xx xx xx  	jsl	~~~lmul
 20569 06:5129: 85 01        	sta	<R0
 20570 06:512B: 86 03        	stx	<R0+2
 20571 06:512D: 18           	clc
 20572 06:512E: A9 38 00     	lda	#$38
 20573 06:5131: 65 01        	adc	<R0
 20574 06:5133: 85 05        	sta	<R1
 20575 06:5135: A9 00 00     	lda	#$0
 20576 06:5138: 65 03        	adc	<R0+2
 20577 06:513A: 85 07        	sta	<R1+2
 20578 06:513C: 18           	clc
 20579 06:513D: A5 4C        	lda	<L956+pWin_0
 20580 06:513F: 65 05        	adc	<R1
 20581 06:5141: 85 01        	sta	<R0
 20582 06:5143: A5 4E        	lda	<L956+pWin_0+2
 20583 06:5145: 65 07        	adc	<R1+2
 20584 06:5147: 85 03        	sta	<R0+2
 20585 06:5149: D4 03        	pei	<R0+2
 20586 06:514B: D4 01        	pei	<R0
 20587 06:514D: 22 06 06 06  	jsl	~~k_set_rect
 20588                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_MIN_WINDOW;
 20589                        	.line	3110
 20590 06:5151: A0 00 00     	ldy	#$0
 20591 06:5154: A5 2D        	lda	<L957+ncc_1
 20592 06:5156: 10 01        	bpl	L992
  Mon Sep 27 2021  9:39                                                Page 378


 20593 06:5158: 88           	dey
 20594                        L992:
 20595 06:5159: 85 01        	sta	<R0
 20596 06:515B: 84 03        	sty	<R0+2
 20597 06:515D: F4 00 00     	pea	#^$11
 20598 06:5160: F4 11 00     	pea	#<$11
 20599 06:5163: D4 03        	pei	<R0+2
 20600 06:5165: D4 01        	pei	<R0
 20601                        	xref	~~~lmul
 20602 06:5167: 22 xx xx xx  	jsl	~~~lmul
 20603 06:516B: 85 01        	sta	<R0
 20604 06:516D: 86 03        	stx	<R0+2
 20605 06:516F: 18           	clc
 20606 06:5170: A9 46 00     	lda	#$46
 20607 06:5173: 65 4C        	adc	<L956+pWin_0
 20608 06:5175: 85 05        	sta	<R1
 20609 06:5177: A9 00 00     	lda	#$0
 20610 06:517A: 65 4E        	adc	<L956+pWin_0+2
 20611 06:517C: 85 07        	sta	<R1+2
 20612 06:517E: 18           	clc
 20613 06:517F: A5 05        	lda	<R1
 20614 06:5181: 65 01        	adc	<R0
 20615 06:5183: 85 09        	sta	<R2
 20616 06:5185: A5 07        	lda	<R1+2
 20617 06:5187: 65 03        	adc	<R0+2
 20618 06:5189: 85 0B        	sta	<R2+2
 20619 06:518B: A9 09 FB     	lda	#$fb09
 20620 06:518E: 87 09        	sta	[<R2]
 20621 06:5190: E6 2D        	inc	<L957+ncc_1
 20622                        ;
 20623                        ;		maxminPos+=2;
 20624                        	.line	3112
 20625 06:5192: E6 2B        	inc	<L957+maxminPos_1
 20626 06:5194: E6 2B        	inc	<L957+maxminPos_1
 20627                        ;	}
 20628                        	.line	3113
 20629                        ;
 20630                        ;	if((style & FXWS_CAPTION) == FXWS_CAPTION)
 20631                        L10399:
 20632                        	.line	3115
 20633                        ;	{
 20634 06:5196: A5 50        	lda	<L956+style_0
 20635 06:5198: 29 04 00     	and	#<$4
 20636 06:519B: 85 01        	sta	<R0
 20637 06:519D: 64 03        	stz	<R0+2
 20638 06:519F: A5 01        	lda	<R0
 20639 06:51A1: C9 04 00     	cmp	#<$4
 20640 06:51A4: D0 05        	bne	L993
 20641 06:51A6: A5 03        	lda	<R0+2
 20642 06:51A8: C9 00 00     	cmp	#^$4
 20643                        L993:
 20644 06:51AB: F0 03        	beq	L994
 20645 06:51AD: 82 42 02     	brl	L10400
 20646                        L994:
 20647                        	.line	3116
 20648                        ;		/*
 20649                        ;		if(!k_gui_get_title_cache(NULL))
 20650                        ;		{
  Mon Sep 27 2021  9:39                                                Page 379


 20651                        ;			k_gui_build_title_cache(NULL);
 20652                        ;		}
 20653                        ;		*/
 20654                        ;		/*
 20655                        ;		for(i=0;i<=strlen(title);i++)
 20656                        ;		{
 20657                        ;			k_put_wingadget_point_ex(WINICON
                    _BLOCK,cx+borderWidth+metric.width+(metric.width*i),titleOff
                    setY,15,page);
 20658                        ;		}
 20659                        ;		*/
 20660                        ;		k_user_SetRect(&rect,cx+borderWidth+metr
                    ic.width,titleOffsetY,(strlen(title) + 1)*8,8);
 20661                        	.line	3129
 20662 06:51B0: F4 08 00     	pea	#<$8
 20663 06:51B3: D4 5E        	pei	<L956+title_0+2
 20664 06:51B5: D4 5C        	pei	<L956+title_0
 20665 06:51B7: 22 xx xx xx  	jsl	~~strlen
 20666 06:51BB: 85 05        	sta	<R1
 20667 06:51BD: A5 05        	lda	<R1
 20668 06:51BF: 0A           	asl	A
 20669 06:51C0: 0A           	asl	A
 20670 06:51C1: 0A           	asl	A
 20671 06:51C2: 85 01        	sta	<R0
 20672 06:51C4: 18           	clc
 20673 06:51C5: A9 08 00     	lda	#$8
 20674 06:51C8: 65 01        	adc	<R0
 20675 06:51CA: 48           	pha
 20676 06:51CB: D4 1D        	pei	<L957+titleOffsetY_1
 20677 06:51CD: 18           	clc
 20678 06:51CE: A5 54        	lda	<L956+cx_0
 20679 06:51D0: 65 19        	adc	<L957+borderWidth_1
 20680 06:51D2: 85 01        	sta	<R0
 20681 06:51D4: 18           	clc
 20682 06:51D5: A5 01        	lda	<R0
 20683 06:51D7: 65 0D        	adc	<L957+metric_1
 20684 06:51D9: 48           	pha
 20685 06:51DA: F4 00 00     	pea	#0
 20686 06:51DD: 18           	clc
 20687 06:51DE: 7B           	tdc
 20688 06:51DF: 69 39 00     	adc	#<L957+rect_1
 20689 06:51E2: 48           	pha
 20690 06:51E3: 22 xx xx xx  	jsl	~~k_user_SetRect
 20691                        ;
 20692                        ;		if(extraStyle && pWin->clientData[CLIENT
                    DATA_TITLE])
 20693                        	.line	3131
 20694                        ;		{
 20695 06:51E7: A5 47        	lda	<L957+extraStyle_1
 20696 06:51E9: D0 03        	bne	L995
 20697 06:51EB: 82 62 00     	brl	L10401
 20698                        L995:
 20699 06:51EE: A0 DD 01     	ldy	#$1dd
 20700 06:51F1: B7 4C        	lda	[<L956+pWin_0],Y
 20701 06:51F3: A0 DF 01     	ldy	#$1df
 20702 06:51F6: 17 4C        	ora	[<L956+pWin_0],Y
 20703 06:51F8: D0 03        	bne	L996
 20704 06:51FA: 82 53 00     	brl	L10401
  Mon Sep 27 2021  9:39                                                Page 380


 20705                        L996:
 20706                        	.line	3132
 20707                        ;			//k_debug_strings("k_vdraw_ui_wi
                    ndow::CLIENTDATA_TITLE:","DRAW");
 20708                        ;			k_user_SetRect(&rect,cx+borderWi
                    dth+metric.width,titleOffsetY,(strlen(title) + 1)*8,8);
 20709                        	.line	3134
 20710 06:51FD: F4 08 00     	pea	#<$8
 20711 06:5200: D4 5E        	pei	<L956+title_0+2
 20712 06:5202: D4 5C        	pei	<L956+title_0
 20713 06:5204: 22 xx xx xx  	jsl	~~strlen
 20714 06:5208: 85 05        	sta	<R1
 20715 06:520A: A5 05        	lda	<R1
 20716 06:520C: 0A           	asl	A
 20717 06:520D: 0A           	asl	A
 20718 06:520E: 0A           	asl	A
 20719 06:520F: 85 01        	sta	<R0
 20720 06:5211: 18           	clc
 20721 06:5212: A9 08 00     	lda	#$8
 20722 06:5215: 65 01        	adc	<R0
 20723 06:5217: 48           	pha
 20724 06:5218: D4 1D        	pei	<L957+titleOffsetY_1
 20725 06:521A: 18           	clc
 20726 06:521B: A5 54        	lda	<L956+cx_0
 20727 06:521D: 65 19        	adc	<L957+borderWidth_1
 20728 06:521F: 85 01        	sta	<R0
 20729 06:5221: 18           	clc
 20730 06:5222: A5 01        	lda	<R0
 20731 06:5224: 65 0D        	adc	<L957+metric_1
 20732 06:5226: 48           	pha
 20733 06:5227: F4 00 00     	pea	#0
 20734 06:522A: 18           	clc
 20735 06:522B: 7B           	tdc
 20736 06:522C: 69 39 00     	adc	#<L957+rect_1
 20737 06:522F: 48           	pha
 20738 06:5230: 22 xx xx xx  	jsl	~~k_user_SetRect
 20739                        ;			k_gui_get_image_cache((UINT)((UL
                    ONG)pWin->clientData[CLIENTDATA_TITLE]),GUI_CACHE_BACK,&rect
                    );
 20740                        	.line	3135
 20741 06:5234: F4 00 00     	pea	#0
 20742 06:5237: 18           	clc
 20743 06:5238: 7B           	tdc
 20744 06:5239: 69 39 00     	adc	#<L957+rect_1
 20745 06:523C: 48           	pha
 20746 06:523D: F4 08 00     	pea	#^$80000
 20747 06:5240: F4 00 00     	pea	#<$80000
 20748 06:5243: A0 DD 01     	ldy	#$1dd
 20749 06:5246: B7 4C        	lda	[<L956+pWin_0],Y
 20750 06:5248: 48           	pha
 20751 06:5249: 22 19 03 06  	jsl	~~k_gui_get_image_cache
 20752                        ;		}
 20753                        	.line	3136
 20754                        ;		else
 20755 06:524D: 82 02 01     	brl	L10402
 20756                        L10401:
 20757                        ;		{
 20758                        	.line	3138
  Mon Sep 27 2021  9:39                                                Page 381


 20759                        ;			k_debug_integer("k_vdraw_ui_wind
                    ow::CLIENTDATA_TITLE:",extraStyle);
 20760                        	.line	3139
 20761 06:5250: D4 47        	pei	<L957+extraStyle_1
 20762 06:5252: F4 xx xx     	pea	#^L955+34
 20763 06:5255: F4 xx xx     	pea	#<L955+34
 20764 06:5258: 22 xx xx xx  	jsl	~~k_debug_integer
 20765                        ;			k_vdma_fill_rect_ex(cx+borderWid
                    th+metric.width,titleOffsetY,
 20766                        	.line	3140
 20767                        ;							
                    	(strlen(title) + 1)*8,8,15,BITMAP_BACK);
 20768 06:525C: F4 08 00     	pea	#<$8
 20769 06:525F: F4 0F 00     	pea	#<$f
 20770 06:5262: F4 08 00     	pea	#<$8
 20771 06:5265: D4 5E        	pei	<L956+title_0+2
 20772 06:5267: D4 5C        	pei	<L956+title_0
 20773 06:5269: 22 xx xx xx  	jsl	~~strlen
 20774 06:526D: 85 05        	sta	<R1
 20775 06:526F: A5 05        	lda	<R1
 20776 06:5271: 0A           	asl	A
 20777 06:5272: 0A           	asl	A
 20778 06:5273: 0A           	asl	A
 20779 06:5274: 85 01        	sta	<R0
 20780 06:5276: 18           	clc
 20781 06:5277: A9 08 00     	lda	#$8
 20782 06:527A: 65 01        	adc	<R0
 20783 06:527C: 48           	pha
 20784 06:527D: A0 00 00     	ldy	#$0
 20785 06:5280: A5 1D        	lda	<L957+titleOffsetY_1
 20786 06:5282: 10 01        	bpl	L997
 20787 06:5284: 88           	dey
 20788                        L997:
 20789 06:5285: 85 01        	sta	<R0
 20790 06:5287: 84 03        	sty	<R0+2
 20791 06:5289: D4 03        	pei	<R0+2
 20792 06:528B: D4 01        	pei	<R0
 20793 06:528D: 18           	clc
 20794 06:528E: A5 54        	lda	<L956+cx_0
 20795 06:5290: 65 19        	adc	<L957+borderWidth_1
 20796 06:5292: 85 05        	sta	<R1
 20797 06:5294: 18           	clc
 20798 06:5295: A5 05        	lda	<R1
 20799 06:5297: 65 0D        	adc	<L957+metric_1
 20800 06:5299: 85 09        	sta	<R2
 20801 06:529B: A0 00 00     	ldy	#$0
 20802 06:529E: A5 09        	lda	<R2
 20803 06:52A0: 10 01        	bpl	L998
 20804 06:52A2: 88           	dey
 20805                        L998:
 20806 06:52A3: 85 05        	sta	<R1
 20807 06:52A5: 84 07        	sty	<R1+2
 20808 06:52A7: D4 07        	pei	<R1+2
 20809 06:52A9: D4 05        	pei	<R1
 20810 06:52AB: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 20811                        ;
 20812                        ;			k_draw_text_point_ex(title,cx+(b
                    orderWidth + 3)+metric.width,titleOffsetY,k_getUIGadgetColor
  Mon Sep 27 2021  9:39                                                Page 382


                    (),page);
 20813                        	.line	3143
 20814 06:52AF: D4 64        	pei	<L956+page_0
 20815 06:52B1: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
 20816 06:52B5: 48           	pha
 20817 06:52B6: D4 1D        	pei	<L957+titleOffsetY_1
 20818 06:52B8: 18           	clc
 20819 06:52B9: A5 54        	lda	<L956+cx_0
 20820 06:52BB: 65 19        	adc	<L957+borderWidth_1
 20821 06:52BD: 85 01        	sta	<R0
 20822 06:52BF: 18           	clc
 20823 06:52C0: A5 01        	lda	<R0
 20824 06:52C2: 65 0D        	adc	<L957+metric_1
 20825 06:52C4: 85 05        	sta	<R1
 20826 06:52C6: 18           	clc
 20827 06:52C7: A9 03 00     	lda	#$3
 20828 06:52CA: 65 05        	adc	<R1
 20829 06:52CC: 48           	pha
 20830 06:52CD: D4 5E        	pei	<L956+title_0+2
 20831 06:52CF: D4 5C        	pei	<L956+title_0
 20832 06:52D1: 22 C0 21 06  	jsl	~~k_draw_text_point_ex
 20833                        ;			if(extraStyle)
 20834                        	.line	3144
 20835                        ;			{
 20836 06:52D5: A5 47        	lda	<L957+extraStyle_1
 20837 06:52D7: D0 03        	bne	L999
 20838 06:52D9: 82 76 00     	brl	L10403
 20839                        L999:
 20840                        	.line	3145
 20841                        ;				k_user_SetRect(&rect,cx+
                    borderWidth+metric.width,titleOffsetY,(strlen(title) + 1)*8,
                    8);
 20842                        	.line	3146
 20843 06:52DC: F4 08 00     	pea	#<$8
 20844 06:52DF: D4 5E        	pei	<L956+title_0+2
 20845 06:52E1: D4 5C        	pei	<L956+title_0
 20846 06:52E3: 22 xx xx xx  	jsl	~~strlen
 20847 06:52E7: 85 05        	sta	<R1
 20848 06:52E9: A5 05        	lda	<R1
 20849 06:52EB: 0A           	asl	A
 20850 06:52EC: 0A           	asl	A
 20851 06:52ED: 0A           	asl	A
 20852 06:52EE: 85 01        	sta	<R0
 20853 06:52F0: 18           	clc
 20854 06:52F1: A9 08 00     	lda	#$8
 20855 06:52F4: 65 01        	adc	<R0
 20856 06:52F6: 48           	pha
 20857 06:52F7: D4 1D        	pei	<L957+titleOffsetY_1
 20858 06:52F9: 18           	clc
 20859 06:52FA: A5 54        	lda	<L956+cx_0
 20860 06:52FC: 65 19        	adc	<L957+borderWidth_1
 20861 06:52FE: 85 01        	sta	<R0
 20862 06:5300: 18           	clc
 20863 06:5301: A5 01        	lda	<R0
 20864 06:5303: 65 0D        	adc	<L957+metric_1
 20865 06:5305: 48           	pha
 20866 06:5306: F4 00 00     	pea	#0
 20867 06:5309: 18           	clc
  Mon Sep 27 2021  9:39                                                Page 383


 20868 06:530A: 7B           	tdc
 20869 06:530B: 69 39 00     	adc	#<L957+rect_1
 20870 06:530E: 48           	pha
 20871 06:530F: 22 xx xx xx  	jsl	~~k_user_SetRect
 20872                        ;				pWin->clientData[CLIENTD
                    ATA_TITLE] = (LPVOID)((ULONG)k_gui_set_image_cache(GUI_CACHE
                    _BACK,&rect));
 20873                        	.line	3147
 20874 06:5313: F4 00 00     	pea	#0
 20875 06:5316: 18           	clc
 20876 06:5317: 7B           	tdc
 20877 06:5318: 69 39 00     	adc	#<L957+rect_1
 20878 06:531B: 48           	pha
 20879 06:531C: F4 08 00     	pea	#^$80000
 20880 06:531F: F4 00 00     	pea	#<$80000
 20881 06:5322: 22 08 02 06  	jsl	~~k_gui_set_image_cache
 20882 06:5326: 85 01        	sta	<R0
 20883 06:5328: A5 01        	lda	<R0
 20884 06:532A: 85 01        	sta	<R0
 20885 06:532C: 64 03        	stz	<R0+2
 20886 06:532E: A5 01        	lda	<R0
 20887 06:5330: A0 DD 01     	ldy	#$1dd
 20888 06:5333: 97 4C        	sta	[<L956+pWin_0],Y
 20889 06:5335: A5 03        	lda	<R0+2
 20890 06:5337: A0 DF 01     	ldy	#$1df
 20891 06:533A: 97 4C        	sta	[<L956+pWin_0],Y
 20892                        ;
 20893                        ;				k_debug_pointer("k_vdraw
                    _ui_window::CLIENTDATA_TITLE:",pWin->clientData[CLIENTDATA_T
                    ITLE] );
 20894                        	.line	3149
 20895 06:533C: A0 DF 01     	ldy	#$1df
 20896 06:533F: B7 4C        	lda	[<L956+pWin_0],Y
 20897 06:5341: 48           	pha
 20898 06:5342: A0 DD 01     	ldy	#$1dd
 20899 06:5345: B7 4C        	lda	[<L956+pWin_0],Y
 20900 06:5347: 48           	pha
 20901 06:5348: F4 xx xx     	pea	#^L955+71
 20902 06:534B: F4 xx xx     	pea	#<L955+71
 20903 06:534E: 22 xx xx xx  	jsl	~~k_debug_pointer
 20904                        ;			}
 20905                        	.line	3150
 20906                        ;		}
 20907                        L10403:
 20908                        	.line	3151
 20909                        L10402:
 20910                        ;
 20911                        ;
 20912                        ;
 20913                        ;		/*
 20914                        ;		k_vdma_copy_address_ex((LPSTR)((ULONG)0x
                    080000 + k_gui_get_pixel_offset(0,420)),TITLE_LINES_640x480,
                    640,8);
 20915                        ;
 20916                        ;		k_vdma_copy_address_ex((LPSTR)((ULONG)0x
                    200000 + k_gui_get_pixel_offset(0,460)),
 20917                        ;							
                       (LPSTR)((ULONG)0x080000 + k_gui_get_pixel_offset(cx+(bord
  Mon Sep 27 2021  9:39                                                Page 384


                    erWidth + 3)+metric.width,titleOffsetY)),
 20918                        ;							
                       strlen(title)*8,8);
 20919                        ;
 20920                        ;		k_vdma_copy_address_ex((LPSTR)((ULONG)0x
                    080000 + k_gui_get_pixel_offset(100,460)),
 20921                        ;							
                       (LPSTR)((ULONG)0x200000 + k_gui_get_pixel_offset(0,460)),
 20922                        ;							
                       strlen(title)*8,8);
 20923                        ;		*/
 20924                        ;
 20925                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),
 20926                        	.line	3167
 20927                        ;				   pWin->win_x + gx,
 20928                        ;				   pWin->win_y,
 20929                        ;				   pWin->win_width - gx,
 20930                        ;				   borderTitle);
 20931 06:5352: D4 17        	pei	<L957+borderTitle_1
 20932 06:5354: 38           	sec
 20933 06:5355: A0 10 00     	ldy	#$10
 20934 06:5358: B7 4C        	lda	[<L956+pWin_0],Y
 20935 06:535A: E5 2F        	sbc	<L957+gx_1
 20936 06:535C: 48           	pha
 20937 06:535D: A0 0E 00     	ldy	#$e
 20938 06:5360: B7 4C        	lda	[<L956+pWin_0],Y
 20939 06:5362: 48           	pha
 20940 06:5363: 18           	clc
 20941 06:5364: A0 0C 00     	ldy	#$c
 20942 06:5367: B7 4C        	lda	[<L956+pWin_0],Y
 20943 06:5369: 65 2F        	adc	<L957+gx_1
 20944 06:536B: 48           	pha
 20945 06:536C: A0 00 00     	ldy	#$0
 20946 06:536F: A5 2D        	lda	<L957+ncc_1
 20947 06:5371: 10 01        	bpl	L1000
 20948 06:5373: 88           	dey
 20949                        L1000:
 20950 06:5374: 85 01        	sta	<R0
 20951 06:5376: 84 03        	sty	<R0+2
 20952 06:5378: F4 00 00     	pea	#^$11
 20953 06:537B: F4 11 00     	pea	#<$11
 20954 06:537E: D4 03        	pei	<R0+2
 20955 06:5380: D4 01        	pei	<R0
 20956                        	xref	~~~lmul
 20957 06:5382: 22 xx xx xx  	jsl	~~~lmul
 20958 06:5386: 85 01        	sta	<R0
 20959 06:5388: 86 03        	stx	<R0+2
 20960 06:538A: 18           	clc
 20961 06:538B: A9 38 00     	lda	#$38
 20962 06:538E: 65 01        	adc	<R0
 20963 06:5390: 85 05        	sta	<R1
 20964 06:5392: A9 00 00     	lda	#$0
 20965 06:5395: 65 03        	adc	<R0+2
 20966 06:5397: 85 07        	sta	<R1+2
 20967 06:5399: 18           	clc
 20968 06:539A: A5 4C        	lda	<L956+pWin_0
 20969 06:539C: 65 05        	adc	<R1
  Mon Sep 27 2021  9:39                                                Page 385


 20970 06:539E: 85 01        	sta	<R0
 20971 06:53A0: A5 4E        	lda	<L956+pWin_0+2
 20972 06:53A2: 65 07        	adc	<R1+2
 20973 06:53A4: 85 03        	sta	<R0+2
 20974 06:53A6: D4 03        	pei	<R0+2
 20975 06:53A8: D4 01        	pei	<R0
 20976 06:53AA: 22 06 06 06  	jsl	~~k_set_rect
 20977                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_DRAG_WINDOW;
 20978                        	.line	3172
 20979 06:53AE: A0 00 00     	ldy	#$0
 20980 06:53B1: A5 2D        	lda	<L957+ncc_1
 20981 06:53B3: 10 01        	bpl	L1001
 20982 06:53B5: 88           	dey
 20983                        L1001:
 20984 06:53B6: 85 01        	sta	<R0
 20985 06:53B8: 84 03        	sty	<R0+2
 20986 06:53BA: F4 00 00     	pea	#^$11
 20987 06:53BD: F4 11 00     	pea	#<$11
 20988 06:53C0: D4 03        	pei	<R0+2
 20989 06:53C2: D4 01        	pei	<R0
 20990                        	xref	~~~lmul
 20991 06:53C4: 22 xx xx xx  	jsl	~~~lmul
 20992 06:53C8: 85 01        	sta	<R0
 20993 06:53CA: 86 03        	stx	<R0+2
 20994 06:53CC: 18           	clc
 20995 06:53CD: A9 46 00     	lda	#$46
 20996 06:53D0: 65 4C        	adc	<L956+pWin_0
 20997 06:53D2: 85 05        	sta	<R1
 20998 06:53D4: A9 00 00     	lda	#$0
 20999 06:53D7: 65 4E        	adc	<L956+pWin_0+2
 21000 06:53D9: 85 07        	sta	<R1+2
 21001 06:53DB: 18           	clc
 21002 06:53DC: A5 05        	lda	<R1
 21003 06:53DE: 65 01        	adc	<R0
 21004 06:53E0: 85 09        	sta	<R2
 21005 06:53E2: A5 07        	lda	<R1+2
 21006 06:53E4: 65 03        	adc	<R0+2
 21007 06:53E6: 85 0B        	sta	<R2+2
 21008 06:53E8: A9 10 FB     	lda	#$fb10
 21009 06:53EB: 87 09        	sta	[<R2]
 21010 06:53ED: E6 2D        	inc	<L957+ncc_1
 21011                        ;
 21012                        ;	}
 21013                        	.line	3174
 21014                        ;	else
 21015 06:53EF: 82 9D 00     	brl	L10404
 21016                        L10400:
 21017                        ;	{
 21018                        	.line	3176
 21019                        ;		k_set_rect(&(pWin->nonclientGadgets[ncc]
                    .area),
 21020                        	.line	3177
 21021                        ;				   pWin->win_x + gx,
 21022                        ;				   pWin->win_y,
 21023                        ;				   pWin->win_width - gx,
 21024                        ;				   borderWidth);
 21025 06:53F2: D4 19        	pei	<L957+borderWidth_1
  Mon Sep 27 2021  9:39                                                Page 386


 21026 06:53F4: 38           	sec
 21027 06:53F5: A0 10 00     	ldy	#$10
 21028 06:53F8: B7 4C        	lda	[<L956+pWin_0],Y
 21029 06:53FA: E5 2F        	sbc	<L957+gx_1
 21030 06:53FC: 48           	pha
 21031 06:53FD: A0 0E 00     	ldy	#$e
 21032 06:5400: B7 4C        	lda	[<L956+pWin_0],Y
 21033 06:5402: 48           	pha
 21034 06:5403: 18           	clc
 21035 06:5404: A0 0C 00     	ldy	#$c
 21036 06:5407: B7 4C        	lda	[<L956+pWin_0],Y
 21037 06:5409: 65 2F        	adc	<L957+gx_1
 21038 06:540B: 48           	pha
 21039 06:540C: A0 00 00     	ldy	#$0
 21040 06:540F: A5 2D        	lda	<L957+ncc_1
 21041 06:5411: 10 01        	bpl	L1002
 21042 06:5413: 88           	dey
 21043                        L1002:
 21044 06:5414: 85 01        	sta	<R0
 21045 06:5416: 84 03        	sty	<R0+2
 21046 06:5418: F4 00 00     	pea	#^$11
 21047 06:541B: F4 11 00     	pea	#<$11
 21048 06:541E: D4 03        	pei	<R0+2
 21049 06:5420: D4 01        	pei	<R0
 21050                        	xref	~~~lmul
 21051 06:5422: 22 xx xx xx  	jsl	~~~lmul
 21052 06:5426: 85 01        	sta	<R0
 21053 06:5428: 86 03        	stx	<R0+2
 21054 06:542A: 18           	clc
 21055 06:542B: A9 38 00     	lda	#$38
 21056 06:542E: 65 01        	adc	<R0
 21057 06:5430: 85 05        	sta	<R1
 21058 06:5432: A9 00 00     	lda	#$0
 21059 06:5435: 65 03        	adc	<R0+2
 21060 06:5437: 85 07        	sta	<R1+2
 21061 06:5439: 18           	clc
 21062 06:543A: A5 4C        	lda	<L956+pWin_0
 21063 06:543C: 65 05        	adc	<R1
 21064 06:543E: 85 01        	sta	<R0
 21065 06:5440: A5 4E        	lda	<L956+pWin_0+2
 21066 06:5442: 65 07        	adc	<R1+2
 21067 06:5444: 85 03        	sta	<R0+2
 21068 06:5446: D4 03        	pei	<R0+2
 21069 06:5448: D4 01        	pei	<R0
 21070 06:544A: 22 06 06 06  	jsl	~~k_set_rect
 21071                        ;		pWin->nonclientGadgets[ncc++].msgType = 
                    FX_DRAG_WINDOW;
 21072                        	.line	3182
 21073 06:544E: A0 00 00     	ldy	#$0
 21074 06:5451: A5 2D        	lda	<L957+ncc_1
 21075 06:5453: 10 01        	bpl	L1003
 21076 06:5455: 88           	dey
 21077                        L1003:
 21078 06:5456: 85 01        	sta	<R0
 21079 06:5458: 84 03        	sty	<R0+2
 21080 06:545A: F4 00 00     	pea	#^$11
 21081 06:545D: F4 11 00     	pea	#<$11
 21082 06:5460: D4 03        	pei	<R0+2
  Mon Sep 27 2021  9:39                                                Page 387


 21083 06:5462: D4 01        	pei	<R0
 21084                        	xref	~~~lmul
 21085 06:5464: 22 xx xx xx  	jsl	~~~lmul
 21086 06:5468: 85 01        	sta	<R0
 21087 06:546A: 86 03        	stx	<R0+2
 21088 06:546C: 18           	clc
 21089 06:546D: A9 46 00     	lda	#$46
 21090 06:5470: 65 4C        	adc	<L956+pWin_0
 21091 06:5472: 85 05        	sta	<R1
 21092 06:5474: A9 00 00     	lda	#$0
 21093 06:5477: 65 4E        	adc	<L956+pWin_0+2
 21094 06:5479: 85 07        	sta	<R1+2
 21095 06:547B: 18           	clc
 21096 06:547C: A5 05        	lda	<R1
 21097 06:547E: 65 01        	adc	<R0
 21098 06:5480: 85 09        	sta	<R2
 21099 06:5482: A5 07        	lda	<R1+2
 21100 06:5484: 65 03        	adc	<R0+2
 21101 06:5486: 85 0B        	sta	<R2+2
 21102 06:5488: A9 10 FB     	lda	#$fb10
 21103 06:548B: 87 09        	sta	[<R2]
 21104 06:548D: E6 2D        	inc	<L957+ncc_1
 21105                        ;	}
 21106                        	.line	3183
 21107                        L10404:
 21108                        ;
 21109                        ;	//k_debug_integer("k_vdraw_ui_window::(clientOff
                    setY - height):",(clientOffsetY - pWin->clientRect.y));
 21110                        ;	//k_debug_integer("k_vdraw_ui_window::((clientOf
                    fsetY - height) + borderWidth):",((clientOffsetY - pWin->cli
                    entRect.y) + borderWidth));
 21111                        ;
 21112                        ;	pWin->clientRect.width  = (width - (2*borderWidt
                    h));
 21113                        	.line	3188
 21114 06:548F: A5 19        	lda	<L957+borderWidth_1
 21115 06:5491: 0A           	asl	A
 21116 06:5492: 85 01        	sta	<R0
 21117 06:5494: 38           	sec
 21118 06:5495: A5 5A        	lda	<L956+width_0
 21119 06:5497: E5 01        	sbc	<R0
 21120 06:5499: A0 32 00     	ldy	#$32
 21121 06:549C: 97 4C        	sta	[<L956+pWin_0],Y
 21122                        ;	pWin->clientRect.height = height - ((clientOffse
                    tY - pWin->clientRect.y) + borderWidth);
 21123                        	.line	3189
 21124 06:549E: 38           	sec
 21125 06:549F: A5 23        	lda	<L957+clientOffsetY_1
 21126 06:54A1: A0 2C 00     	ldy	#$2c
 21127 06:54A4: F7 4C        	sbc	[<L956+pWin_0],Y
 21128 06:54A6: 85 01        	sta	<R0
 21129 06:54A8: 18           	clc
 21130 06:54A9: A5 01        	lda	<R0
 21131 06:54AB: 65 19        	adc	<L957+borderWidth_1
 21132 06:54AD: 85 05        	sta	<R1
 21133 06:54AF: 38           	sec
 21134 06:54B0: A5 58        	lda	<L956+height_0
 21135 06:54B2: E5 05        	sbc	<R1
  Mon Sep 27 2021  9:39                                                Page 388


 21136 06:54B4: A0 34 00     	ldy	#$34
 21137 06:54B7: 97 4C        	sta	[<L956+pWin_0],Y
 21138                        ;
 21139                        ;	k_debug_integer("k_vdraw_ui_window::clientRect.w
                    idth:", pWin->clientRect.width);
 21140                        	.line	3191
 21141 06:54B9: A0 32 00     	ldy	#$32
 21142 06:54BC: B7 4C        	lda	[<L956+pWin_0],Y
 21143 06:54BE: 48           	pha
 21144 06:54BF: F4 xx xx     	pea	#^L955+108
 21145 06:54C2: F4 xx xx     	pea	#<L955+108
 21146 06:54C5: 22 xx xx xx  	jsl	~~k_debug_integer
 21147                        ;	k_debug_integer("k_vdraw_ui_window::clientRect.h
                    eight:",pWin->clientRect.height);
 21148                        	.line	3192
 21149 06:54C9: A0 34 00     	ldy	#$34
 21150 06:54CC: B7 4C        	lda	[<L956+pWin_0],Y
 21151 06:54CE: 48           	pha
 21152 06:54CF: F4 xx xx     	pea	#^L955+145
 21153 06:54D2: F4 xx xx     	pea	#<L955+145
 21154 06:54D5: 22 xx xx xx  	jsl	~~k_debug_integer
 21155                        ;
 21156                        ;
 21157                        ;	pWin->clientRect.x      = clientOffsetX;
 21158                        	.line	3195
 21159 06:54D9: A5 21        	lda	<L957+clientOffsetX_1
 21160 06:54DB: A0 2A 00     	ldy	#$2a
 21161 06:54DE: 97 4C        	sta	[<L956+pWin_0],Y
 21162                        ;	pWin->clientRect.y      = clientOffsetY;
 21163                        	.line	3196
 21164 06:54E0: A5 23        	lda	<L957+clientOffsetY_1
 21165 06:54E2: A0 2C 00     	ldy	#$2c
 21166 06:54E5: 97 4C        	sta	[<L956+pWin_0],Y
 21167                        ;
 21168                        ;	if(pWin->win_cxoffset == -1)
 21169                        	.line	3198
 21170                        ;	{
 21171 06:54E7: A0 18 00     	ldy	#$18
 21172 06:54EA: B7 4C        	lda	[<L956+pWin_0],Y
 21173 06:54EC: C9 FF FF     	cmp	#<$ffffffff
 21174 06:54EF: F0 03        	beq	L1004
 21175 06:54F1: 82 20 00     	brl	L10405
 21176                        L1004:
 21177                        	.line	3199
 21178                        ;		pWin->win_cxoffset 	= pWin->clientRe
                    ct.x - pWin->win_x;
 21179                        	.line	3200
 21180 06:54F4: 38           	sec
 21181 06:54F5: A0 2A 00     	ldy	#$2a
 21182 06:54F8: B7 4C        	lda	[<L956+pWin_0],Y
 21183 06:54FA: A0 0C 00     	ldy	#$c
 21184 06:54FD: F7 4C        	sbc	[<L956+pWin_0],Y
 21185 06:54FF: A0 18 00     	ldy	#$18
 21186 06:5502: 97 4C        	sta	[<L956+pWin_0],Y
 21187                        ;		pWin->win_cyoffset 	= pWin->clientRe
                    ct.y - pWin->win_y;
 21188                        	.line	3201
 21189 06:5504: 38           	sec
  Mon Sep 27 2021  9:39                                                Page 389


 21190 06:5505: A0 2C 00     	ldy	#$2c
 21191 06:5508: B7 4C        	lda	[<L956+pWin_0],Y
 21192 06:550A: A0 0E 00     	ldy	#$e
 21193 06:550D: F7 4C        	sbc	[<L956+pWin_0],Y
 21194 06:550F: A0 1A 00     	ldy	#$1a
 21195 06:5512: 97 4C        	sta	[<L956+pWin_0],Y
 21196                        ;		//k_debug_strings("k_vdraw_ui_window::pW
                    in->title:",pWin->win_title);
 21197                        ;		//k_debug_integer("k_vdraw_ui_window::pW
                    in->win_cxoffset:",pWin->win_cxoffset);
 21198                        ;		//k_debug_integer("k_vdraw_ui_window::pW
                    in->win_cyoffset:",pWin->win_cyoffset);
 21199                        ;	}
 21200                        	.line	3205
 21201                        ;
 21202                        ;	k_set_rect(&(pWin->nonclientGadgets[ncc].area),
 21203                        L10405:
 21204                        	.line	3207
 21205                        ;			   pWin->win_x + pWin->win_width
                      - 4,
 21206                        ;			   pWin->win_y + pWin->win_heigh
                    t - 4,
 21207                        ;			   4,
 21208                        ;			   4);
 21209 06:5514: F4 04 00     	pea	#<$4
 21210 06:5517: F4 04 00     	pea	#<$4
 21211 06:551A: 18           	clc
 21212 06:551B: A0 0E 00     	ldy	#$e
 21213 06:551E: B7 4C        	lda	[<L956+pWin_0],Y
 21214 06:5520: A0 12 00     	ldy	#$12
 21215 06:5523: 77 4C        	adc	[<L956+pWin_0],Y
 21216 06:5525: 85 01        	sta	<R0
 21217 06:5527: 18           	clc
 21218 06:5528: A9 FC FF     	lda	#$fffc
 21219 06:552B: 65 01        	adc	<R0
 21220 06:552D: 48           	pha
 21221 06:552E: 18           	clc
 21222 06:552F: A0 0C 00     	ldy	#$c
 21223 06:5532: B7 4C        	lda	[<L956+pWin_0],Y
 21224 06:5534: A0 10 00     	ldy	#$10
 21225 06:5537: 77 4C        	adc	[<L956+pWin_0],Y
 21226 06:5539: 85 01        	sta	<R0
 21227 06:553B: 18           	clc
 21228 06:553C: A9 FC FF     	lda	#$fffc
 21229 06:553F: 65 01        	adc	<R0
 21230 06:5541: 48           	pha
 21231 06:5542: A0 00 00     	ldy	#$0
 21232 06:5545: A5 2D        	lda	<L957+ncc_1
 21233 06:5547: 10 01        	bpl	L1005
 21234 06:5549: 88           	dey
 21235                        L1005:
 21236 06:554A: 85 01        	sta	<R0
 21237 06:554C: 84 03        	sty	<R0+2
 21238 06:554E: F4 00 00     	pea	#^$11
 21239 06:5551: F4 11 00     	pea	#<$11
 21240 06:5554: D4 03        	pei	<R0+2
 21241 06:5556: D4 01        	pei	<R0
 21242                        	xref	~~~lmul
  Mon Sep 27 2021  9:39                                                Page 390


 21243 06:5558: 22 xx xx xx  	jsl	~~~lmul
 21244 06:555C: 85 01        	sta	<R0
 21245 06:555E: 86 03        	stx	<R0+2
 21246 06:5560: 18           	clc
 21247 06:5561: A9 38 00     	lda	#$38
 21248 06:5564: 65 01        	adc	<R0
 21249 06:5566: 85 05        	sta	<R1
 21250 06:5568: A9 00 00     	lda	#$0
 21251 06:556B: 65 03        	adc	<R0+2
 21252 06:556D: 85 07        	sta	<R1+2
 21253 06:556F: 18           	clc
 21254 06:5570: A5 4C        	lda	<L956+pWin_0
 21255 06:5572: 65 05        	adc	<R1
 21256 06:5574: 85 01        	sta	<R0
 21257 06:5576: A5 4E        	lda	<L956+pWin_0+2
 21258 06:5578: 65 07        	adc	<R1+2
 21259 06:557A: 85 03        	sta	<R0+2
 21260 06:557C: D4 03        	pei	<R0+2
 21261 06:557E: D4 01        	pei	<R0
 21262 06:5580: 22 06 06 06  	jsl	~~k_set_rect
 21263                        ;	pWin->nonclientGadgets[ncc++].msgType = FX_RESIZ
                    E_WINDOW;
 21264                        	.line	3212
 21265 06:5584: A0 00 00     	ldy	#$0
 21266 06:5587: A5 2D        	lda	<L957+ncc_1
 21267 06:5589: 10 01        	bpl	L1006
 21268 06:558B: 88           	dey
 21269                        L1006:
 21270 06:558C: 85 01        	sta	<R0
 21271 06:558E: 84 03        	sty	<R0+2
 21272 06:5590: F4 00 00     	pea	#^$11
 21273 06:5593: F4 11 00     	pea	#<$11
 21274 06:5596: D4 03        	pei	<R0+2
 21275 06:5598: D4 01        	pei	<R0
 21276                        	xref	~~~lmul
 21277 06:559A: 22 xx xx xx  	jsl	~~~lmul
 21278 06:559E: 85 01        	sta	<R0
 21279 06:55A0: 86 03        	stx	<R0+2
 21280 06:55A2: 18           	clc
 21281 06:55A3: A9 46 00     	lda	#$46
 21282 06:55A6: 65 4C        	adc	<L956+pWin_0
 21283 06:55A8: 85 05        	sta	<R1
 21284 06:55AA: A9 00 00     	lda	#$0
 21285 06:55AD: 65 4E        	adc	<L956+pWin_0+2
 21286 06:55AF: 85 07        	sta	<R1+2
 21287 06:55B1: 18           	clc
 21288 06:55B2: A5 05        	lda	<R1
 21289 06:55B4: 65 01        	adc	<R0
 21290 06:55B6: 85 09        	sta	<R2
 21291 06:55B8: A5 07        	lda	<R1+2
 21292 06:55BA: 65 03        	adc	<R0+2
 21293 06:55BC: 85 0B        	sta	<R2+2
 21294 06:55BE: A9 0F FB     	lda	#$fb0f
 21295 06:55C1: 87 09        	sta	[<R2]
 21296 06:55C3: E6 2D        	inc	<L957+ncc_1
 21297                        ;
 21298                        ;
 21299                        ;	k_draw_rect(pWin->win_x - 1,
  Mon Sep 27 2021  9:39                                                Page 391


 21300                        	.line	3215
 21301                        ;				pWin->win_y - 1,
 21302                        ;				(pWin->win_x) + pWin->wi
                    n_width  ,
 21303                        ;				(pWin->win_y) + pWin->wi
                    n_height ,
 21304                        ;				k_getUIGadgetColor(),
 21305                        ;				0,
 21306                        ;				page);
 21307 06:55C5: D4 64        	pei	<L956+page_0
 21308 06:55C7: F4 00 00     	pea	#<$0
 21309 06:55CA: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
 21310 06:55CE: 48           	pha
 21311 06:55CF: 18           	clc
 21312 06:55D0: A0 0E 00     	ldy	#$e
 21313 06:55D3: B7 4C        	lda	[<L956+pWin_0],Y
 21314 06:55D5: A0 12 00     	ldy	#$12
 21315 06:55D8: 77 4C        	adc	[<L956+pWin_0],Y
 21316 06:55DA: 48           	pha
 21317 06:55DB: 18           	clc
 21318 06:55DC: A0 0C 00     	ldy	#$c
 21319 06:55DF: B7 4C        	lda	[<L956+pWin_0],Y
 21320 06:55E1: A0 10 00     	ldy	#$10
 21321 06:55E4: 77 4C        	adc	[<L956+pWin_0],Y
 21322 06:55E6: 48           	pha
 21323 06:55E7: 18           	clc
 21324 06:55E8: A9 FF FF     	lda	#$ffff
 21325 06:55EB: A0 0E 00     	ldy	#$e
 21326 06:55EE: 77 4C        	adc	[<L956+pWin_0],Y
 21327 06:55F0: 48           	pha
 21328 06:55F1: 18           	clc
 21329 06:55F2: A9 FF FF     	lda	#$ffff
 21330 06:55F5: A0 0C 00     	ldy	#$c
 21331 06:55F8: 77 4C        	adc	[<L956+pWin_0],Y
 21332 06:55FA: 48           	pha
 21333 06:55FB: 22 76 20 06  	jsl	~~k_draw_rect
 21334                        ;
 21335                        ;	k_draw_rect(pWin->clientRect.x - 1,
 21336                        	.line	3223
 21337                        ;				pWin->clientRect.y - 1,
 21338                        ;				pWin->clientRect.x + pWi
                    n->clientRect.width ,
 21339                        ;				pWin->clientRect.y + pWi
                    n->clientRect.height,
 21340                        ;				k_getUIGadgetColor(),
 21341                        ;				0,
 21342                        ;				page);
 21343 06:55FF: D4 64        	pei	<L956+page_0
 21344 06:5601: F4 00 00     	pea	#<$0
 21345 06:5604: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
 21346 06:5608: 48           	pha
 21347 06:5609: 18           	clc
 21348 06:560A: A0 2C 00     	ldy	#$2c
 21349 06:560D: B7 4C        	lda	[<L956+pWin_0],Y
 21350 06:560F: A0 34 00     	ldy	#$34
 21351 06:5612: 77 4C        	adc	[<L956+pWin_0],Y
 21352 06:5614: 48           	pha
 21353 06:5615: 18           	clc
  Mon Sep 27 2021  9:39                                                Page 392


 21354 06:5616: A0 2A 00     	ldy	#$2a
 21355 06:5619: B7 4C        	lda	[<L956+pWin_0],Y
 21356 06:561B: A0 32 00     	ldy	#$32
 21357 06:561E: 77 4C        	adc	[<L956+pWin_0],Y
 21358 06:5620: 48           	pha
 21359 06:5621: 18           	clc
 21360 06:5622: A9 FF FF     	lda	#$ffff
 21361 06:5625: A0 2C 00     	ldy	#$2c
 21362 06:5628: 77 4C        	adc	[<L956+pWin_0],Y
 21363 06:562A: 48           	pha
 21364 06:562B: 18           	clc
 21365 06:562C: A9 FF FF     	lda	#$ffff
 21366 06:562F: A0 2A 00     	ldy	#$2a
 21367 06:5632: 77 4C        	adc	[<L956+pWin_0],Y
 21368 06:5634: 48           	pha
 21369 06:5635: 22 76 20 06  	jsl	~~k_draw_rect
 21370                        ;	//k_debug_rect("k_vdraw_ui_window:client[resized
                    ]:",&pWin->clientRect);
 21371                        ;
 21372                        ;	k_set_rect(&(pWin->nonclientGadgets[ncc].area),-
                    1,-1,-1,-1);
 21373                        	.line	3232
 21374 06:5639: F4 FF FF     	pea	#<$ffffffff
 21375 06:563C: F4 FF FF     	pea	#<$ffffffff
 21376 06:563F: F4 FF FF     	pea	#<$ffffffff
 21377 06:5642: F4 FF FF     	pea	#<$ffffffff
 21378 06:5645: A0 00 00     	ldy	#$0
 21379 06:5648: A5 2D        	lda	<L957+ncc_1
 21380 06:564A: 10 01        	bpl	L1007
 21381 06:564C: 88           	dey
 21382                        L1007:
 21383 06:564D: 85 01        	sta	<R0
 21384 06:564F: 84 03        	sty	<R0+2
 21385 06:5651: F4 00 00     	pea	#^$11
 21386 06:5654: F4 11 00     	pea	#<$11
 21387 06:5657: D4 03        	pei	<R0+2
 21388 06:5659: D4 01        	pei	<R0
 21389                        	xref	~~~lmul
 21390 06:565B: 22 xx xx xx  	jsl	~~~lmul
 21391 06:565F: 85 01        	sta	<R0
 21392 06:5661: 86 03        	stx	<R0+2
 21393 06:5663: 18           	clc
 21394 06:5664: A9 38 00     	lda	#$38
 21395 06:5667: 65 01        	adc	<R0
 21396 06:5669: 85 05        	sta	<R1
 21397 06:566B: A9 00 00     	lda	#$0
 21398 06:566E: 65 03        	adc	<R0+2
 21399 06:5670: 85 07        	sta	<R1+2
 21400 06:5672: 18           	clc
 21401 06:5673: A5 4C        	lda	<L956+pWin_0
 21402 06:5675: 65 05        	adc	<R1
 21403 06:5677: 85 01        	sta	<R0
 21404 06:5679: A5 4E        	lda	<L956+pWin_0+2
 21405 06:567B: 65 07        	adc	<R1+2
 21406 06:567D: 85 03        	sta	<R0+2
 21407 06:567F: D4 03        	pei	<R0+2
 21408 06:5681: D4 01        	pei	<R0
 21409 06:5683: 22 06 06 06  	jsl	~~k_set_rect
  Mon Sep 27 2021  9:39                                                Page 393


 21410                        ;
 21411                        ;
 21412                        ;	//k_debug_strings("k_vdraw_ui_window:","exit");
 21413                        ;}
 21414                        	.line	3236
 21415 06:5687: 82 B0 F6     	brl	L959
 21416                        	.endblock	3236
 21417             00000048   L956	equ	72
 21418             0000000D   L957	equ	13
 21419 06:568A:              	ends
 21420                        	efunc
 21421                        	.endfunc	3236,13,72
 21422                        	.line	3236
 21423                        	data
 21424                        L955:
 21425 00:0871: 6B 5F 76 64  	db	$6B,$5F,$76,$64,$72,$61,$77,$5F,$75,$69,
                    $5F,$77,$69,$6E,$64
       00:0875: 72 61 77 5F 
       00:0879: 75 69 5F 77 
       00:087D: 69 6E 64 
 21426 00:0880: 6F 77 3A 3A  	db	$6F,$77,$3A,$3A,$4E,$4F,$54,$20,$52,$45,
                    $4E,$44,$45,$52,$49
       00:0884: 4E 4F 54 20 
       00:0888: 52 45 4E 44 
       00:088C: 45 52 49 
 21427 00:088F: 4E 47 3A 00  	db	$4E,$47,$3A,$00,$6B,$5F,$76,$64,$72,$61,
                    $77,$5F,$75,$69,$5F
       00:0893: 6B 5F 76 64 
       00:0897: 72 61 77 5F 
       00:089B: 75 69 5F 
 21428 00:089E: 77 69 6E 64  	db	$77,$69,$6E,$64,$6F,$77,$3A,$3A,$43,$4C,
                    $49,$45,$4E,$54,$44
       00:08A2: 6F 77 3A 3A 
       00:08A6: 43 4C 49 45 
       00:08AA: 4E 54 44 
 21429 00:08AD: 41 54 41 5F  	db	$41,$54,$41,$5F,$54,$49,$54,$4C,$45,$3A,
                    $00,$6B,$5F,$76,$64
       00:08B1: 54 49 54 4C 
       00:08B5: 45 3A 00 6B 
       00:08B9: 5F 76 64 
 21430 00:08BC: 72 61 77 5F  	db	$72,$61,$77,$5F,$75,$69,$5F,$77,$69,$6E,
                    $64,$6F,$77,$3A,$3A
       00:08C0: 75 69 5F 77 
       00:08C4: 69 6E 64 6F 
       00:08C8: 77 3A 3A 
 21431 00:08CB: 43 4C 49 45  	db	$43,$4C,$49,$45,$4E,$54,$44,$41,$54,$41,
                    $5F,$54,$49,$54,$4C
       00:08CF: 4E 54 44 41 
       00:08D3: 54 41 5F 54 
       00:08D7: 49 54 4C 
 21432 00:08DA: 45 3A 00 6B  	db	$45,$3A,$00,$6B,$5F,$76,$64,$72,$61,$77,
                    $5F,$75,$69,$5F,$77
       00:08DE: 5F 76 64 72 
       00:08E2: 61 77 5F 75 
       00:08E6: 69 5F 77 
 21433 00:08E9: 69 6E 64 6F  	db	$69,$6E,$64,$6F,$77,$3A,$3A,$63,$6C,$69,
                    $65,$6E,$74,$52,$65
       00:08ED: 77 3A 3A 63 
  Mon Sep 27 2021  9:39                                                Page 394


       00:08F1: 6C 69 65 6E 
       00:08F5: 74 52 65 
 21434 00:08F8: 63 74 2E 77  	db	$63,$74,$2E,$77,$69,$64,$74,$68,$3A,$00,
                    $6B,$5F,$76,$64,$72
       00:08FC: 69 64 74 68 
       00:0900: 3A 00 6B 5F 
       00:0904: 76 64 72 
 21435 00:0907: 61 77 5F 75  	db	$61,$77,$5F,$75,$69,$5F,$77,$69,$6E,$64,
                    $6F,$77,$3A,$3A,$63
       00:090B: 69 5F 77 69 
       00:090F: 6E 64 6F 77 
       00:0913: 3A 3A 63 
 21436 00:0916: 6C 69 65 6E  	db	$6C,$69,$65,$6E,$74,$52,$65,$63,$74,$2E,
                    $68,$65,$69,$67,$68
       00:091A: 74 52 65 63 
       00:091E: 74 2E 68 65 
       00:0922: 69 67 68 
 21437 00:0925: 74 3A 00     	db	$74,$3A,$00
 21438 00:0928:              	ends
 21439                        ;
 21440                        ;PMENU k_draw_menu(HMENU hMenu,int color, int bgco
                    lor)
 21441                        ;{
 21442                        	.line	3238
 21443                        	.line	3239
 21444                        	GFX
 21445                        	xdef	~~k_draw_menu
 21446                        	func
 21447                        	.function	3239
 21448                        ~~k_draw_menu:
 21449                        	longa	on
 21450                        	longi	on
 21451 06:568A: 3B           	tsc
 21452 06:568B: 38           	sec
 21453 06:568C: E9 1E 00     	sbc	#L1009
 21454 06:568F: 1B           	tcs
 21455 06:5690: 0B           	phd
 21456 06:5691: 5B           	tcd
 21457             00000004   hMenu_0	set	4
 21458             00000008   color_0	set	8
 21459             0000000A   bgcolor_0	set	10
 21460                        	.block	3239
 21461                        ;	FONTMETRIC metric;
 21462                        ;
 21463                        ;	int i = 0;
 21464                        ;
 21465                        ;	int borderTitle = 10;
 21466                        ;	int borderWidth = 3;
 21467                        ;
 21468                        ;	int titleOffsetX = ((PMENU)hMenu)->cx+2;
 21469                        ;	int titleOffsetY = ((PMENU)hMenu)->cy+2;
 21470                        ;	int titleScaler = 0;
 21471                        ;
 21472                        ;	int clientOffsetX = ((PMENU)hMenu)->cx+borderWid
                    th+2;
 21473                        ;	int clientOffsetY = ((PMENU)hMenu)->cy+borderTit
                    le+1;
 21474                        ;
  Mon Sep 27 2021  9:39                                                Page 395


 21475                        ;	int endX = ((PMENU)hMenu)->width + ((PMENU)hMenu
                    )->cx - borderWidth;
 21476                        ;
 21477                        ;
 21478                        ;	k_get_font_metrics(&metric);
 21479             00000000   metric_1	set	0
 21480             00000004   i_1	set	4
 21481             00000006   borderTitle_1	set	6
 21482             00000008   borderWidth_1	set	8
 21483             0000000A   titleOffsetX_1	set	10
 21484             0000000C   titleOffsetY_1	set	12
 21485             0000000E   titleScaler_1	set	14
 21486             00000010   clientOffsetX_1	set	16
 21487             00000012   clientOffsetY_1	set	18
 21488             00000014   endX_1	set	20
 21489                        	.sym	metric,0,10,1,32,35
 21490                        	.sym	i,4,5,1,16
 21491                        	.sym	borderTitle,6,5,1,16
 21492                        	.sym	borderWidth,8,5,1,16
 21493                        	.sym	titleOffsetX,10,5,1,16
 21494                        	.sym	titleOffsetY,12,5,1,16
 21495                        	.sym	titleScaler,14,5,1,16
 21496                        	.sym	clientOffsetX,16,5,1,16
 21497                        	.sym	clientOffsetY,18,5,1,16
 21498                        	.sym	endX,20,5,1,16
 21499                        	.sym	hMenu,4,129,6,32
 21500                        	.sym	color,8,5,6,16
 21501                        	.sym	bgcolor,10,5,6,16
 21502 06:5692: 64 0D        	stz	<L1010+i_1
 21503 06:5694: A9 0A 00     	lda	#$a
 21504 06:5697: 85 0F        	sta	<L1010+borderTitle_1
 21505 06:5699: A9 03 00     	lda	#$3
 21506 06:569C: 85 11        	sta	<L1010+borderWidth_1
 21507 06:569E: 18           	clc
 21508 06:569F: A9 02 00     	lda	#$2
 21509 06:56A2: 67 22        	adc	[<L1009+hMenu_0]
 21510 06:56A4: 85 13        	sta	<L1010+titleOffsetX_1
 21511 06:56A6: 18           	clc
 21512 06:56A7: A9 02 00     	lda	#$2
 21513 06:56AA: A0 02 00     	ldy	#$2
 21514 06:56AD: 77 22        	adc	[<L1009+hMenu_0],Y
 21515 06:56AF: 85 15        	sta	<L1010+titleOffsetY_1
 21516 06:56B1: 64 17        	stz	<L1010+titleScaler_1
 21517 06:56B3: 18           	clc
 21518 06:56B4: A7 22        	lda	[<L1009+hMenu_0]
 21519 06:56B6: 65 11        	adc	<L1010+borderWidth_1
 21520 06:56B8: 85 01        	sta	<R0
 21521 06:56BA: 18           	clc
 21522 06:56BB: A9 02 00     	lda	#$2
 21523 06:56BE: 65 01        	adc	<R0
 21524 06:56C0: 85 19        	sta	<L1010+clientOffsetX_1
 21525 06:56C2: 18           	clc
 21526 06:56C3: A0 02 00     	ldy	#$2
 21527 06:56C6: B7 22        	lda	[<L1009+hMenu_0],Y
 21528 06:56C8: 65 0F        	adc	<L1010+borderTitle_1
 21529 06:56CA: 85 01        	sta	<R0
 21530 06:56CC: A5 01        	lda	<R0
 21531 06:56CE: 1A           	ina
  Mon Sep 27 2021  9:39                                                Page 396


 21532 06:56CF: 85 1B        	sta	<L1010+clientOffsetY_1
 21533 06:56D1: 18           	clc
 21534 06:56D2: A0 04 00     	ldy	#$4
 21535 06:56D5: B7 22        	lda	[<L1009+hMenu_0],Y
 21536 06:56D7: 67 22        	adc	[<L1009+hMenu_0]
 21537 06:56D9: 85 01        	sta	<R0
 21538 06:56DB: 38           	sec
 21539 06:56DC: A5 01        	lda	<R0
 21540 06:56DE: E5 11        	sbc	<L1010+borderWidth_1
 21541 06:56E0: 85 1D        	sta	<L1010+endX_1
 21542                        	.line	3257
 21543 06:56E2: F4 00 00     	pea	#0
 21544 06:56E5: 18           	clc
 21545 06:56E6: 7B           	tdc
 21546 06:56E7: 69 09 00     	adc	#<L1010+metric_1
 21547 06:56EA: 48           	pha
 21548 06:56EB: 22 56 26 06  	jsl	~~k_get_font_metrics
 21549                        ;
 21550                        ;
 21551                        ;	//int height = 0;
 21552                        ;	/*
 21553                        ;	PMENU menu = (PMENU)k_mem_allocate_heap(sizeof(M
                    ENU));
 21554                        ;	memset(menu,0,sizeof(MENU));
 21555                        ;
 21556                        ;	menu->cx = cx;
 21557                        ;	menu->cy = cy;
 21558                        ;	menu->fcolor = color;
 21559                        ;	menu->bcolor = bgcolor;
 21560                        ;	menu->pCaption = k_string_copy_string(strupr(tit
                    le));
 21561                        ;
 21562                        ;	k_get_font_metrics(&metric);
 21563                        ;
 21564                        ;	//height = metric.height + (int)(metric.width/4)
                    ;
 21565                        ;
 21566                        ;	menu->height = height;
 21567                        ;	menu->width  = width;
 21568                        ;
 21569                        ;
 21570                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cx:",menu
                    ->cx);
 21571                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cy:",menu
                    ->cy);
 21572                        ;	k_debug_integer("k_vdraw_ui_menu:menu->height:",
                    menu->height);
 21573                        ;	k_debug_integer("k_vdraw_ui_menu:menu->width:",m
                    enu->width);
 21574                        ;	*/
 21575                        ;
 21576                        ;	//k_vdma_fill_rect(cx,cy,width,height,color);
 21577                        ;
 21578                        ;	//k_vdma_fill_rect(cx,cy,width,height,bgcolor); 
                    // +1 on width and height for VDMA
 21579                        ;	k_vdma_fill_rect(((PMENU)hMenu)->cx,((PMENU)hMen
                    u)->cy,((PMENU)hMenu)->width,((PMENU)hMenu)->height,color);
 21580                        	.line	3288
  Mon Sep 27 2021  9:39                                                Page 397


 21581 06:56EF: D4 26        	pei	<L1009+color_0
 21582 06:56F1: A0 06 00     	ldy	#$6
 21583 06:56F4: B7 22        	lda	[<L1009+hMenu_0],Y
 21584 06:56F6: 48           	pha
 21585 06:56F7: A0 04 00     	ldy	#$4
 21586 06:56FA: B7 22        	lda	[<L1009+hMenu_0],Y
 21587 06:56FC: 48           	pha
 21588 06:56FD: A0 00 00     	ldy	#$0
 21589 06:5700: 5A           	phy
 21590 06:5701: A0 02 00     	ldy	#$2
 21591 06:5704: B7 22        	lda	[<L1009+hMenu_0],Y
 21592 06:5706: 7A           	ply
 21593 06:5707: 2A           	rol	A
 21594 06:5708: 6A           	ror	A
 21595 06:5709: 10 01        	bpl	L1012
 21596 06:570B: 88           	dey
 21597                        L1012:
 21598 06:570C: 85 01        	sta	<R0
 21599 06:570E: 84 03        	sty	<R0+2
 21600 06:5710: D4 03        	pei	<R0+2
 21601 06:5712: D4 01        	pei	<R0
 21602 06:5714: A0 00 00     	ldy	#$0
 21603 06:5717: A7 22        	lda	[<L1009+hMenu_0]
 21604 06:5719: 10 01        	bpl	L1013
 21605 06:571B: 88           	dey
 21606                        L1013:
 21607 06:571C: 85 05        	sta	<R1
 21608 06:571E: 84 07        	sty	<R1+2
 21609 06:5720: D4 07        	pei	<R1+2
 21610 06:5722: D4 05        	pei	<R1
 21611 06:5724: 22 D6 62 06  	jsl	~~k_vdma_fill_rect
 21612                        ;
 21613                        ;	//k_delay(15);
 21614                        ;
 21615                        ;	//title = strupr(title);
 21616                        ;
 21617                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_ACLOSE,titleOffsetX,titleOffsetY,14);
 21618                        ;	/*
 21619                        ;	titleScaler = (int)(width / metric.width - 4);
 21620                        ;	for(i=0;i<titleScaler;i++)
 21621                        ;	{
 21622                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_LINES,titleOffsetX,titleOffsetY,14);
 21623                        ;	}*/
 21624                        ;
 21625                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,14);
 21626                        	.line	3302
 21627 06:5728: F4 0E 00     	pea	#<$e
 21628 06:572B: D4 15        	pei	<L1010+titleOffsetY_1
 21629 06:572D: A5 09        	lda	<L1010+metric_1
 21630 06:572F: 0A           	asl	A
 21631 06:5730: 85 01        	sta	<R0
 21632 06:5732: 18           	clc
 21633 06:5733: A9 02 00     	lda	#$2
 21634 06:5736: 65 01        	adc	<R0
 21635 06:5738: 85 05        	sta	<R1
  Mon Sep 27 2021  9:39                                                Page 398


 21636 06:573A: 38           	sec
 21637 06:573B: A5 1D        	lda	<L1010+endX_1
 21638 06:573D: E5 05        	sbc	<R1
 21639 06:573F: 48           	pha
 21640 06:5740: F4 04 00     	pea	#<$4
 21641 06:5743: 22 9C 2D 06  	jsl	~~k_put_wingadget_point
 21642                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,14);
 21643                        	.line	3303
 21644 06:5747: F4 0E 00     	pea	#<$e
 21645 06:574A: D4 15        	pei	<L1010+titleOffsetY_1
 21646 06:574C: 38           	sec
 21647 06:574D: A5 1D        	lda	<L1010+endX_1
 21648 06:574F: E5 09        	sbc	<L1010+metric_1
 21649 06:5751: 48           	pha
 21650 06:5752: F4 03 00     	pea	#<$3
 21651 06:5755: 22 9C 2D 06  	jsl	~~k_put_wingadget_point
 21652                        ;
 21653                        ;	//k_render_wingadget(WINICON_TITLE_BACK,endX - (
                    metric.width*2 + 2),titleOffsetY,14,k_gadget_title_back_call
                    back);
 21654                        ;	//k_render_wingadget(WINICON_TITLE_FRONT,endX - 
                    (metric.width),titleOffsetY,14,k_gadget_title_front_callback
                    );
 21655                        ;
 21656                        ;	i = k_draw_text_point(((PMENU)hMenu)->pCaption,(
                    (PMENU)hMenu)->cx+2+metric.width,titleOffsetY,bgcolor);
 21657                        	.line	3308
 21658 06:5759: D4 28        	pei	<L1009+bgcolor_0
 21659 06:575B: D4 15        	pei	<L1010+titleOffsetY_1
 21660 06:575D: 18           	clc
 21661 06:575E: A7 22        	lda	[<L1009+hMenu_0]
 21662 06:5760: 65 09        	adc	<L1010+metric_1
 21663 06:5762: 85 01        	sta	<R0
 21664 06:5764: 18           	clc
 21665 06:5765: A9 02 00     	lda	#$2
 21666 06:5768: 65 01        	adc	<R0
 21667 06:576A: 48           	pha
 21668 06:576B: A0 15 00     	ldy	#$15
 21669 06:576E: B7 22        	lda	[<L1009+hMenu_0],Y
 21670 06:5770: 48           	pha
 21671 06:5771: A0 13 00     	ldy	#$13
 21672 06:5774: B7 22        	lda	[<L1009+hMenu_0],Y
 21673 06:5776: 48           	pha
 21674 06:5777: 22 7F 22 06  	jsl	~~k_draw_text_point
 21675 06:577B: 85 0D        	sta	<L1010+i_1
 21676                        ;	//k_render_text(title,cx+2+metric.width,titleOff
                    setY,bgcolor,k_text_callback);
 21677                        ;
 21678                        ;
 21679                        ;	return NULL;
 21680                        	.line	3312
 21681 06:577D: A9 00 00     	lda	#$0
 21682 06:5780: AA           	tax
 21683 06:5781: A9 00 00     	lda	#$0
 21684                        L1014:
 21685 06:5784: A8           	tay
 21686 06:5785: A5 20        	lda	<L1009+2
  Mon Sep 27 2021  9:39                                                Page 399


 21687 06:5787: 85 28        	sta	<L1009+2+8
 21688 06:5789: A5 1F        	lda	<L1009+1
 21689 06:578B: 85 27        	sta	<L1009+1+8
 21690 06:578D: 2B           	pld
 21691 06:578E: 3B           	tsc
 21692 06:578F: 18           	clc
 21693 06:5790: 69 26 00     	adc	#L1009+8
 21694 06:5793: 1B           	tcs
 21695 06:5794: 98           	tya
 21696 06:5795: 6B           	rtl
 21697                        ;}
 21698                        	.line	3313
 21699                        	.endblock	3313
 21700             0000001E   L1009	equ	30
 21701             00000009   L1010	equ	9
 21702 06:5796:              	ends
 21703                        	efunc
 21704                        	.endfunc	3313,9,30
 21705                        	.line	3313
 21706                        ;
 21707                        ;PMENU k_vdraw_ui_menu(int cx,int cy,int width,int
                     height,LPCSTR title,int color, int bgcolor)
 21708                        ;{
 21709                        	.line	3315
 21710                        	.line	3316
 21711                        	GFX
 21712                        	xdef	~~k_vdraw_ui_menu
 21713                        	func
 21714                        	.function	3316
 21715                        ~~k_vdraw_ui_menu:
 21716                        	longa	on
 21717                        	longi	on
 21718 06:5796: 3B           	tsc
 21719 06:5797: 38           	sec
 21720 06:5798: E9 04 00     	sbc	#L1015
 21721 06:579B: 1B           	tcs
 21722 06:579C: 0B           	phd
 21723 06:579D: 5B           	tcd
 21724             00000004   cx_0	set	4
 21725             00000006   cy_0	set	6
 21726             00000008   width_0	set	8
 21727             0000000A   height_0	set	10
 21728             0000000C   title_0	set	12
 21729             00000010   color_0	set	16
 21730             00000012   bgcolor_0	set	18
 21731                        	.block	3316
 21732                        ;	return k_vdraw_ui_menu_ex(cx,cy,width,height,tit
                    le,color,bgcolor,BITMAP_BACK);
 21733                        	.sym	cx,4,5,6,16
 21734                        	.sym	cy,6,5,6,16
 21735                        	.sym	width,8,5,6,16
 21736                        	.sym	height,10,5,6,16
 21737                        	.sym	title,12,142,6,32
 21738                        	.sym	color,16,5,6,16
 21739                        	.sym	bgcolor,18,5,6,16
 21740                        	.line	3317
 21741 06:579E: F4 08 00     	pea	#<$8
 21742 06:57A1: D4 16        	pei	<L1015+bgcolor_0
  Mon Sep 27 2021  9:39                                                Page 400


 21743 06:57A3: D4 14        	pei	<L1015+color_0
 21744 06:57A5: D4 12        	pei	<L1015+title_0+2
 21745 06:57A7: D4 10        	pei	<L1015+title_0
 21746 06:57A9: D4 0E        	pei	<L1015+height_0
 21747 06:57AB: D4 0C        	pei	<L1015+width_0
 21748 06:57AD: D4 0A        	pei	<L1015+cy_0
 21749 06:57AF: D4 08        	pei	<L1015+cx_0
 21750 06:57B1: 22 CF 57 06  	jsl	~~k_vdraw_ui_menu_ex
 21751 06:57B5: 85 01        	sta	<R0
 21752 06:57B7: 86 03        	stx	<R0+2
 21753 06:57B9: A6 03        	ldx	<R0+2
 21754 06:57BB: A5 01        	lda	<R0
 21755                        L1018:
 21756 06:57BD: A8           	tay
 21757 06:57BE: A5 06        	lda	<L1015+2
 21758 06:57C0: 85 16        	sta	<L1015+2+16
 21759 06:57C2: A5 05        	lda	<L1015+1
 21760 06:57C4: 85 15        	sta	<L1015+1+16
 21761 06:57C6: 2B           	pld
 21762 06:57C7: 3B           	tsc
 21763 06:57C8: 18           	clc
 21764 06:57C9: 69 14 00     	adc	#L1015+16
 21765 06:57CC: 1B           	tcs
 21766 06:57CD: 98           	tya
 21767 06:57CE: 6B           	rtl
 21768                        ;}
 21769                        	.line	3318
 21770                        	.endblock	3318
 21771             00000004   L1015	equ	4
 21772             00000005   L1016	equ	5
 21773 06:57CF:              	ends
 21774                        	efunc
 21775                        	.endfunc	3318,5,4
 21776                        	.line	3318
 21777                        ;
 21778                        ;PMENU k_vdraw_ui_menu_ex(int cx,int cy,int width,
                    int height,LPCSTR title,int color, int bgcolor,UINT page)
 21779                        ;{
 21780                        	.line	3320
 21781                        	.line	3321
 21782                        	GFX
 21783                        	xdef	~~k_vdraw_ui_menu_ex
 21784                        	func
 21785                        	.function	3321
 21786                        ~~k_vdraw_ui_menu_ex:
 21787                        	longa	on
 21788                        	longi	on
 21789 06:57CF: 3B           	tsc
 21790 06:57D0: 38           	sec
 21791 06:57D1: E9 1E 00     	sbc	#L1019
 21792 06:57D4: 1B           	tcs
 21793 06:57D5: 0B           	phd
 21794 06:57D6: 5B           	tcd
 21795             00000004   cx_0	set	4
 21796             00000006   cy_0	set	6
 21797             00000008   width_0	set	8
 21798             0000000A   height_0	set	10
 21799             0000000C   title_0	set	12
  Mon Sep 27 2021  9:39                                                Page 401


 21800             00000010   color_0	set	16
 21801             00000012   bgcolor_0	set	18
 21802             00000014   page_0	set	20
 21803                        	.block	3321
 21804                        ;	FONTMETRIC metric;
 21805                        ;	
 21806                        ;	int i = 0;
 21807                        ;	
 21808                        ;	int borderTitle = 10;
 21809                        ;	int borderWidth = 3;
 21810                        ;
 21811                        ;	int titleOffsetX = cx+2;
 21812                        ;	int titleOffsetY = cy+2;
 21813                        ;	int titleScaler = 0;
 21814                        ;	
 21815                        ;	int clientOffsetX = cx+borderWidth+2;
 21816                        ;	int clientOffsetY = cy+borderTitle+1;
 21817                        ;	
 21818                        ;	int endX = width + cx - borderWidth;
 21819                        ;	
 21820                        ;
 21821                        ;	k_get_font_metrics(&metric);
 21822             00000000   metric_1	set	0
 21823             00000004   i_1	set	4
 21824             00000006   borderTitle_1	set	6
 21825             00000008   borderWidth_1	set	8
 21826             0000000A   titleOffsetX_1	set	10
 21827             0000000C   titleOffsetY_1	set	12
 21828             0000000E   titleScaler_1	set	14
 21829             00000010   clientOffsetX_1	set	16
 21830             00000012   clientOffsetY_1	set	18
 21831             00000014   endX_1	set	20
 21832                        	.sym	metric,0,10,1,32,35
 21833                        	.sym	i,4,5,1,16
 21834                        	.sym	borderTitle,6,5,1,16
 21835                        	.sym	borderWidth,8,5,1,16
 21836                        	.sym	titleOffsetX,10,5,1,16
 21837                        	.sym	titleOffsetY,12,5,1,16
 21838                        	.sym	titleScaler,14,5,1,16
 21839                        	.sym	clientOffsetX,16,5,1,16
 21840                        	.sym	clientOffsetY,18,5,1,16
 21841                        	.sym	endX,20,5,1,16
 21842                        	.sym	cx,4,5,6,16
 21843                        	.sym	cy,6,5,6,16
 21844                        	.sym	width,8,5,6,16
 21845                        	.sym	height,10,5,6,16
 21846                        	.sym	title,12,142,6,32
 21847                        	.sym	color,16,5,6,16
 21848                        	.sym	bgcolor,18,5,6,16
 21849                        	.sym	page,20,16,6,16
 21850 06:57D7: 64 0D        	stz	<L1020+i_1
 21851 06:57D9: A9 0A 00     	lda	#$a
 21852 06:57DC: 85 0F        	sta	<L1020+borderTitle_1
 21853 06:57DE: A9 03 00     	lda	#$3
 21854 06:57E1: 85 11        	sta	<L1020+borderWidth_1
 21855 06:57E3: 18           	clc
 21856 06:57E4: A9 02 00     	lda	#$2
 21857 06:57E7: 65 22        	adc	<L1019+cx_0
  Mon Sep 27 2021  9:39                                                Page 402


 21858 06:57E9: 85 13        	sta	<L1020+titleOffsetX_1
 21859 06:57EB: 18           	clc
 21860 06:57EC: A9 02 00     	lda	#$2
 21861 06:57EF: 65 24        	adc	<L1019+cy_0
 21862 06:57F1: 85 15        	sta	<L1020+titleOffsetY_1
 21863 06:57F3: 64 17        	stz	<L1020+titleScaler_1
 21864 06:57F5: 18           	clc
 21865 06:57F6: A5 22        	lda	<L1019+cx_0
 21866 06:57F8: 65 11        	adc	<L1020+borderWidth_1
 21867 06:57FA: 85 01        	sta	<R0
 21868 06:57FC: 18           	clc
 21869 06:57FD: A9 02 00     	lda	#$2
 21870 06:5800: 65 01        	adc	<R0
 21871 06:5802: 85 19        	sta	<L1020+clientOffsetX_1
 21872 06:5804: 18           	clc
 21873 06:5805: A5 24        	lda	<L1019+cy_0
 21874 06:5807: 65 0F        	adc	<L1020+borderTitle_1
 21875 06:5809: 85 01        	sta	<R0
 21876 06:580B: A5 01        	lda	<R0
 21877 06:580D: 1A           	ina
 21878 06:580E: 85 1B        	sta	<L1020+clientOffsetY_1
 21879 06:5810: 18           	clc
 21880 06:5811: A5 26        	lda	<L1019+width_0
 21881 06:5813: 65 22        	adc	<L1019+cx_0
 21882 06:5815: 85 01        	sta	<R0
 21883 06:5817: 38           	sec
 21884 06:5818: A5 01        	lda	<R0
 21885 06:581A: E5 11        	sbc	<L1020+borderWidth_1
 21886 06:581C: 85 1D        	sta	<L1020+endX_1
 21887                        	.line	3339
 21888 06:581E: F4 00 00     	pea	#0
 21889 06:5821: 18           	clc
 21890 06:5822: 7B           	tdc
 21891 06:5823: 69 09 00     	adc	#<L1020+metric_1
 21892 06:5826: 48           	pha
 21893 06:5827: 22 56 26 06  	jsl	~~k_get_font_metrics
 21894                        ;
 21895                        ;	//k_debug_integer("k_vdraw_ui_menu::width:",widt
                    h);
 21896                        ;	//k_debug_integer("k_vdraw_ui_menu::height:",hei
                    ght);
 21897                        ;	//k_debug_strings("k_vdraw_ui_menu::title:",(LPS
                    TR)title);
 21898                        ;	//k_debug_integer("k_vdraw_ui_menu::bgcolor:",bg
                    color);
 21899                        ;
 21900                        ;	//int height = 0;
 21901                        ;	/*
 21902                        ;	PMENU menu = (PMENU)k_mem_allocate_heap(sizeof(M
                    ENU));
 21903                        ;	memset(menu,0,sizeof(MENU));
 21904                        ;
 21905                        ;	menu->cx = cx;
 21906                        ;	menu->cy = cy;
 21907                        ;	menu->fcolor = color;
 21908                        ;	menu->bcolor = bgcolor;
 21909                        ;	menu->pCaption = k_string_copy_string(strupr(tit
                    le));
  Mon Sep 27 2021  9:39                                                Page 403


 21910                        ;
 21911                        ;	k_get_font_metrics(&metric);
 21912                        ;	
 21913                        ;	//height = metric.height + (int)(metric.width/4)
                    ;
 21914                        ;
 21915                        ;	menu->height = height;
 21916                        ;	menu->width  = width;
 21917                        ;
 21918                        ;
 21919                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cx:",menu
                    ->cx);
 21920                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cy:",menu
                    ->cy);
 21921                        ;	k_debug_integer("k_vdraw_ui_menu:menu->height:",
                    menu->height);
 21922                        ;	k_debug_integer("k_vdraw_ui_menu:menu->width:",m
                    enu->width);
 21923                        ;	*/
 21924                        ;
 21925                        ;	//k_vdma_fill_rect(cx,cy,width,height,color);
 21926                        ;
 21927                        ;	//k_vdma_fill_rect(cx,cy,width,height,bgcolor); 
                    // +1 on width and height for VDMA
 21928                        ;	k_vdma_fill_rect_ex(cx,cy,width ,height,0,BITMAP
                    _FRONT);//k_getUIMenuColor());
 21929                        	.line	3374
 21930 06:582B: F4 00 00     	pea	#<$0
 21931 06:582E: F4 00 00     	pea	#<$0
 21932 06:5831: D4 28        	pei	<L1019+height_0
 21933 06:5833: D4 26        	pei	<L1019+width_0
 21934 06:5835: A0 00 00     	ldy	#$0
 21935 06:5838: A5 24        	lda	<L1019+cy_0
 21936 06:583A: 10 01        	bpl	L1022
 21937 06:583C: 88           	dey
 21938                        L1022:
 21939 06:583D: 85 01        	sta	<R0
 21940 06:583F: 84 03        	sty	<R0+2
 21941 06:5841: D4 03        	pei	<R0+2
 21942 06:5843: D4 01        	pei	<R0
 21943 06:5845: A0 00 00     	ldy	#$0
 21944 06:5848: A5 22        	lda	<L1019+cx_0
 21945 06:584A: 10 01        	bpl	L1023
 21946 06:584C: 88           	dey
 21947                        L1023:
 21948 06:584D: 85 05        	sta	<R1
 21949 06:584F: 84 07        	sty	<R1+2
 21950 06:5851: D4 07        	pei	<R1+2
 21951 06:5853: D4 05        	pei	<R1
 21952 06:5855: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 21953                        ;	k_vdma_fill_rect_ex(cx,cy,width ,height,bgcolor,
                    BITMAP_BACK);
 21954                        	.line	3375
 21955 06:5859: F4 08 00     	pea	#<$8
 21956 06:585C: D4 30        	pei	<L1019+bgcolor_0
 21957 06:585E: D4 28        	pei	<L1019+height_0
 21958 06:5860: D4 26        	pei	<L1019+width_0
 21959 06:5862: A0 00 00     	ldy	#$0
  Mon Sep 27 2021  9:39                                                Page 404


 21960 06:5865: A5 24        	lda	<L1019+cy_0
 21961 06:5867: 10 01        	bpl	L1024
 21962 06:5869: 88           	dey
 21963                        L1024:
 21964 06:586A: 85 01        	sta	<R0
 21965 06:586C: 84 03        	sty	<R0+2
 21966 06:586E: D4 03        	pei	<R0+2
 21967 06:5870: D4 01        	pei	<R0
 21968 06:5872: A0 00 00     	ldy	#$0
 21969 06:5875: A5 22        	lda	<L1019+cx_0
 21970 06:5877: 10 01        	bpl	L1025
 21971 06:5879: 88           	dey
 21972                        L1025:
 21973 06:587A: 85 05        	sta	<R1
 21974 06:587C: 84 07        	sty	<R1+2
 21975 06:587E: D4 07        	pei	<R1+2
 21976 06:5880: D4 05        	pei	<R1
 21977 06:5882: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 21978                        ;	//k_delay(15);
 21979                        ;	
 21980                        ;	//title = strupr(title);
 21981                        ;	
 21982                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_ACLOSE,titleOffsetX,titleOffsetY,14);	
 21983                        ;	/*
 21984                        ;	titleScaler = (int)(width / metric.width - 4);
 21985                        ;	for(i=0;i<titleScaler;i++)
 21986                        ;	{
 21987                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_LINES,titleOffsetX,titleOffsetY,14);	
 21988                        ;	}*/
 21989                        ;
 21990                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,color);//k_getUIGadgetColo
                    r());
 21991                        	.line	3388
 21992 06:5886: D4 2E        	pei	<L1019+color_0
 21993 06:5888: D4 15        	pei	<L1020+titleOffsetY_1
 21994 06:588A: A5 09        	lda	<L1020+metric_1
 21995 06:588C: 0A           	asl	A
 21996 06:588D: 85 01        	sta	<R0
 21997 06:588F: 18           	clc
 21998 06:5890: A9 02 00     	lda	#$2
 21999 06:5893: 65 01        	adc	<R0
 22000 06:5895: 85 05        	sta	<R1
 22001 06:5897: 38           	sec
 22002 06:5898: A5 1D        	lda	<L1020+endX_1
 22003 06:589A: E5 05        	sbc	<R1
 22004 06:589C: 48           	pha
 22005 06:589D: F4 04 00     	pea	#<$4
 22006 06:58A0: 22 9C 2D 06  	jsl	~~k_put_wingadget_point
 22007                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,color);//k_getUIGadgetColor());
 22008                        	.line	3389
 22009 06:58A4: D4 2E        	pei	<L1019+color_0
 22010 06:58A6: D4 15        	pei	<L1020+titleOffsetY_1
 22011 06:58A8: 38           	sec
 22012 06:58A9: A5 1D        	lda	<L1020+endX_1
  Mon Sep 27 2021  9:39                                                Page 405


 22013 06:58AB: E5 09        	sbc	<L1020+metric_1
 22014 06:58AD: 48           	pha
 22015 06:58AE: F4 03 00     	pea	#<$3
 22016 06:58B1: 22 9C 2D 06  	jsl	~~k_put_wingadget_point
 22017                        ;
 22018                        ;	//k_render_wingadget(WINICON_TITLE_BACK,endX - (
                    metric.width*2 + 2),titleOffsetY,14,k_gadget_title_back_call
                    back);
 22019                        ;	//k_render_wingadget(WINICON_TITLE_FRONT,endX - 
                    (metric.width),titleOffsetY,14,k_gadget_title_front_callback
                    );
 22020                        ;
 22021                        ;	if(title)
 22022                        	.line	3394
 22023                        ;		i = k_draw_text_point(title,cx+2+metric.
                    width,titleOffsetY,color);//k_getUIGadgetColor());
 22024 06:58B5: A5 2A        	lda	<L1019+title_0
 22025 06:58B7: 05 2C        	ora	<L1019+title_0+2
 22026 06:58B9: D0 03        	bne	L1026
 22027 06:58BB: 82 1C 00     	brl	L10406
 22028                        L1026:
 22029                        	.line	3395
 22030 06:58BE: D4 2E        	pei	<L1019+color_0
 22031 06:58C0: D4 15        	pei	<L1020+titleOffsetY_1
 22032 06:58C2: 18           	clc
 22033 06:58C3: A5 22        	lda	<L1019+cx_0
 22034 06:58C5: 65 09        	adc	<L1020+metric_1
 22035 06:58C7: 85 01        	sta	<R0
 22036 06:58C9: 18           	clc
 22037 06:58CA: A9 02 00     	lda	#$2
 22038 06:58CD: 65 01        	adc	<R0
 22039 06:58CF: 48           	pha
 22040 06:58D0: D4 2C        	pei	<L1019+title_0+2
 22041 06:58D2: D4 2A        	pei	<L1019+title_0
 22042 06:58D4: 22 7F 22 06  	jsl	~~k_draw_text_point
 22043 06:58D8: 85 0D        	sta	<L1020+i_1
 22044                        ;	//k_render_text(title,cx+2+metric.width,titleOff
                    setY,bgcolor,k_text_callback);
 22045                        ;
 22046                        ;	
 22047                        ;	return NULL;
 22048                        L10406:
 22049                        	.line	3399
 22050 06:58DA: A9 00 00     	lda	#$0
 22051 06:58DD: AA           	tax
 22052 06:58DE: A9 00 00     	lda	#$0
 22053                        L1027:
 22054 06:58E1: A8           	tay
 22055 06:58E2: A5 20        	lda	<L1019+2
 22056 06:58E4: 85 32        	sta	<L1019+2+18
 22057 06:58E6: A5 1F        	lda	<L1019+1
 22058 06:58E8: 85 31        	sta	<L1019+1+18
 22059 06:58EA: 2B           	pld
 22060 06:58EB: 3B           	tsc
 22061 06:58EC: 18           	clc
 22062 06:58ED: 69 30 00     	adc	#L1019+18
 22063 06:58F0: 1B           	tcs
 22064 06:58F1: 98           	tya
  Mon Sep 27 2021  9:39                                                Page 406


 22065 06:58F2: 6B           	rtl
 22066                        ;}
 22067                        	.line	3400
 22068                        	.endblock	3400
 22069             0000001E   L1019	equ	30
 22070             00000009   L1020	equ	9
 22071 06:58F3:              	ends
 22072                        	efunc
 22073                        	.endfunc	3400,9,30
 22074                        	.line	3400
 22075                        ;
 22076                        ;
 22077                        ;PMENU k_vdraw_ui_menu_with_rect(int cx,int cy,int
                     width,int height,LPCSTR title,int color, int bgcolor,LPVOID
                     *prects)
 22078                        ;{
 22079                        	.line	3403
 22080                        	.line	3404
 22081                        	GFX
 22082                        	xdef	~~k_vdraw_ui_menu_with_rect
 22083                        	func
 22084                        	.function	3404
 22085                        ~~k_vdraw_ui_menu_with_rect:
 22086                        	longa	on
 22087                        	longi	on
 22088 06:58F3: 3B           	tsc
 22089 06:58F4: 38           	sec
 22090 06:58F5: E9 1E 00     	sbc	#L1028
 22091 06:58F8: 1B           	tcs
 22092 06:58F9: 0B           	phd
 22093 06:58FA: 5B           	tcd
 22094             00000004   cx_0	set	4
 22095             00000006   cy_0	set	6
 22096             00000008   width_0	set	8
 22097             0000000A   height_0	set	10
 22098             0000000C   title_0	set	12
 22099             00000010   color_0	set	16
 22100             00000012   bgcolor_0	set	18
 22101             00000014   prects_0	set	20
 22102                        	.block	3404
 22103                        ;	FONTMETRIC metric;
 22104                        ;
 22105                        ;	int i = 0;
 22106                        ;
 22107                        ;	int borderTitle = 10;
 22108                        ;	int borderWidth = 3;
 22109                        ;
 22110                        ;	int titleOffsetX = cx+2;
 22111                        ;	int titleOffsetY = cy+2;
 22112                        ;	int titleScaler = 0;
 22113                        ;
 22114                        ;	int clientOffsetX = cx+borderWidth+2;
 22115                        ;	int clientOffsetY = cy+borderTitle+1;
 22116                        ;
 22117                        ;	int endX = width + cx - borderWidth;
 22118                        ;
 22119                        ;
 22120                        ;	k_get_font_metrics(&metric);
  Mon Sep 27 2021  9:39                                                Page 407


 22121             00000000   metric_1	set	0
 22122             00000004   i_1	set	4
 22123             00000006   borderTitle_1	set	6
 22124             00000008   borderWidth_1	set	8
 22125             0000000A   titleOffsetX_1	set	10
 22126             0000000C   titleOffsetY_1	set	12
 22127             0000000E   titleScaler_1	set	14
 22128             00000010   clientOffsetX_1	set	16
 22129             00000012   clientOffsetY_1	set	18
 22130             00000014   endX_1	set	20
 22131                        	.sym	metric,0,10,1,32,35
 22132                        	.sym	i,4,5,1,16
 22133                        	.sym	borderTitle,6,5,1,16
 22134                        	.sym	borderWidth,8,5,1,16
 22135                        	.sym	titleOffsetX,10,5,1,16
 22136                        	.sym	titleOffsetY,12,5,1,16
 22137                        	.sym	titleScaler,14,5,1,16
 22138                        	.sym	clientOffsetX,16,5,1,16
 22139                        	.sym	clientOffsetY,18,5,1,16
 22140                        	.sym	endX,20,5,1,16
 22141                        	.sym	cx,4,5,6,16
 22142                        	.sym	cy,6,5,6,16
 22143                        	.sym	width,8,5,6,16
 22144                        	.sym	height,10,5,6,16
 22145                        	.sym	title,12,142,6,32
 22146                        	.sym	color,16,5,6,16
 22147                        	.sym	bgcolor,18,5,6,16
 22148                        	.sym	prects,20,1153,6,32
 22149 06:58FB: 64 0D        	stz	<L1029+i_1
 22150 06:58FD: A9 0A 00     	lda	#$a
 22151 06:5900: 85 0F        	sta	<L1029+borderTitle_1
 22152 06:5902: A9 03 00     	lda	#$3
 22153 06:5905: 85 11        	sta	<L1029+borderWidth_1
 22154 06:5907: 18           	clc
 22155 06:5908: A9 02 00     	lda	#$2
 22156 06:590B: 65 22        	adc	<L1028+cx_0
 22157 06:590D: 85 13        	sta	<L1029+titleOffsetX_1
 22158 06:590F: 18           	clc
 22159 06:5910: A9 02 00     	lda	#$2
 22160 06:5913: 65 24        	adc	<L1028+cy_0
 22161 06:5915: 85 15        	sta	<L1029+titleOffsetY_1
 22162 06:5917: 64 17        	stz	<L1029+titleScaler_1
 22163 06:5919: 18           	clc
 22164 06:591A: A5 22        	lda	<L1028+cx_0
 22165 06:591C: 65 11        	adc	<L1029+borderWidth_1
 22166 06:591E: 85 01        	sta	<R0
 22167 06:5920: 18           	clc
 22168 06:5921: A9 02 00     	lda	#$2
 22169 06:5924: 65 01        	adc	<R0
 22170 06:5926: 85 19        	sta	<L1029+clientOffsetX_1
 22171 06:5928: 18           	clc
 22172 06:5929: A5 24        	lda	<L1028+cy_0
 22173 06:592B: 65 0F        	adc	<L1029+borderTitle_1
 22174 06:592D: 85 01        	sta	<R0
 22175 06:592F: A5 01        	lda	<R0
 22176 06:5931: 1A           	ina
 22177 06:5932: 85 1B        	sta	<L1029+clientOffsetY_1
 22178 06:5934: 18           	clc
  Mon Sep 27 2021  9:39                                                Page 408


 22179 06:5935: A5 26        	lda	<L1028+width_0
 22180 06:5937: 65 22        	adc	<L1028+cx_0
 22181 06:5939: 85 01        	sta	<R0
 22182 06:593B: 38           	sec
 22183 06:593C: A5 01        	lda	<R0
 22184 06:593E: E5 11        	sbc	<L1029+borderWidth_1
 22185 06:5940: 85 1D        	sta	<L1029+endX_1
 22186                        	.line	3422
 22187 06:5942: F4 00 00     	pea	#0
 22188 06:5945: 18           	clc
 22189 06:5946: 7B           	tdc
 22190 06:5947: 69 09 00     	adc	#<L1029+metric_1
 22191 06:594A: 48           	pha
 22192 06:594B: 22 56 26 06  	jsl	~~k_get_font_metrics
 22193                        ;
 22194                        ;
 22195                        ;	//int height = 0;
 22196                        ;	/*
 22197                        ;	PMENU menu = (PMENU)k_mem_allocate_heap(sizeof(M
                    ENU));
 22198                        ;	memset(menu,0,sizeof(MENU));
 22199                        ;
 22200                        ;	menu->cx = cx;
 22201                        ;	menu->cy = cy;
 22202                        ;	menu->fcolor = color;
 22203                        ;	menu->bcolor = bgcolor;
 22204                        ;	menu->pCaption = k_string_copy_string(strupr(tit
                    le));
 22205                        ;
 22206                        ;	k_get_font_metrics(&metric);
 22207                        ;
 22208                        ;	//height = metric.height + (int)(metric.width/4)
                    ;
 22209                        ;
 22210                        ;	menu->height = height;
 22211                        ;	menu->width  = width;
 22212                        ;
 22213                        ;
 22214                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cx:",menu
                    ->cx);
 22215                        ;	k_debug_integer("k_vdraw_ui_menu:menu->cy:",menu
                    ->cy);
 22216                        ;	k_debug_integer("k_vdraw_ui_menu:menu->height:",
                    menu->height);
 22217                        ;	k_debug_integer("k_vdraw_ui_menu:menu->width:",m
                    enu->width);
 22218                        ;	*/
 22219                        ;
 22220                        ;	//k_vdma_fill_rect(cx,cy,width,height,color);
 22221                        ;
 22222                        ;	//k_vdma_fill_rect(cx,cy,width,height,bgcolor); 
                    // +1 on width and height for VDMA
 22223                        ;	k_vdma_fill_rect(cx,cy,width,height,color);
 22224                        	.line	3453
 22225 06:594F: D4 2E        	pei	<L1028+color_0
 22226 06:5951: D4 28        	pei	<L1028+height_0
 22227 06:5953: D4 26        	pei	<L1028+width_0
 22228 06:5955: A0 00 00     	ldy	#$0
  Mon Sep 27 2021  9:39                                                Page 409


 22229 06:5958: A5 24        	lda	<L1028+cy_0
 22230 06:595A: 10 01        	bpl	L1031
 22231 06:595C: 88           	dey
 22232                        L1031:
 22233 06:595D: 85 01        	sta	<R0
 22234 06:595F: 84 03        	sty	<R0+2
 22235 06:5961: D4 03        	pei	<R0+2
 22236 06:5963: D4 01        	pei	<R0
 22237 06:5965: A0 00 00     	ldy	#$0
 22238 06:5968: A5 22        	lda	<L1028+cx_0
 22239 06:596A: 10 01        	bpl	L1032
 22240 06:596C: 88           	dey
 22241                        L1032:
 22242 06:596D: 85 05        	sta	<R1
 22243 06:596F: 84 07        	sty	<R1+2
 22244 06:5971: D4 07        	pei	<R1+2
 22245 06:5973: D4 05        	pei	<R1
 22246 06:5975: 22 D6 62 06  	jsl	~~k_vdma_fill_rect
 22247                        ;
 22248                        ;	//k_delay(15);
 22249                        ;
 22250                        ;	//title = strupr(title);
 22251                        ;
 22252                        ;	//titleOffsetX+=k_put_wingadget_point(WINICON_TI
                    TLE_ACLOSE,titleOffsetX,titleOffsetY,14);
 22253                        ;	/*
 22254                        ;	titleScaler = (int)(width / metric.width - 4);
 22255                        ;	for(i=0;i<titleScaler;i++)
 22256                        ;	{
 22257                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_LINES,titleOffsetX,titleOffsetY,14);
 22258                        ;	}*/
 22259                        ;
 22260                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,14);
 22261                        	.line	3467
 22262 06:5979: F4 0E 00     	pea	#<$e
 22263 06:597C: D4 15        	pei	<L1029+titleOffsetY_1
 22264 06:597E: A5 09        	lda	<L1029+metric_1
 22265 06:5980: 0A           	asl	A
 22266 06:5981: 85 01        	sta	<R0
 22267 06:5983: 18           	clc
 22268 06:5984: A9 02 00     	lda	#$2
 22269 06:5987: 65 01        	adc	<R0
 22270 06:5989: 85 05        	sta	<R1
 22271 06:598B: 38           	sec
 22272 06:598C: A5 1D        	lda	<L1029+endX_1
 22273 06:598E: E5 05        	sbc	<R1
 22274 06:5990: 48           	pha
 22275 06:5991: F4 04 00     	pea	#<$4
 22276 06:5994: 22 9C 2D 06  	jsl	~~k_put_wingadget_point
 22277                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,14);
 22278                        	.line	3468
 22279 06:5998: F4 0E 00     	pea	#<$e
 22280 06:599B: D4 15        	pei	<L1029+titleOffsetY_1
 22281 06:599D: 38           	sec
 22282 06:599E: A5 1D        	lda	<L1029+endX_1
  Mon Sep 27 2021  9:39                                                Page 410


 22283 06:59A0: E5 09        	sbc	<L1029+metric_1
 22284 06:59A2: 48           	pha
 22285 06:59A3: F4 03 00     	pea	#<$3
 22286 06:59A6: 22 9C 2D 06  	jsl	~~k_put_wingadget_point
 22287                        ;
 22288                        ;	//k_render_wingadget(WINICON_TITLE_BACK,endX - (
                    metric.width*2 + 2),titleOffsetY,14,k_gadget_title_back_call
                    back);
 22289                        ;	//k_render_wingadget(WINICON_TITLE_FRONT,endX - 
                    (metric.width),titleOffsetY,14,k_gadget_title_front_callback
                    );
 22290                        ;
 22291                        ;	//i = k_draw_text_point(title,cx+2+metric.width,
                    titleOffsetY,bgcolor);
 22292                        ;	//k_render_text(title,cx+2+metric.width,titleOff
                    setY,bgcolor,k_text_callback);
 22293                        ;
 22294                        ;
 22295                        ;	return NULL;
 22296                        	.line	3477
 22297 06:59AA: A9 00 00     	lda	#$0
 22298 06:59AD: AA           	tax
 22299 06:59AE: A9 00 00     	lda	#$0
 22300                        L1033:
 22301 06:59B1: A8           	tay
 22302 06:59B2: A5 20        	lda	<L1028+2
 22303 06:59B4: 85 34        	sta	<L1028+2+20
 22304 06:59B6: A5 1F        	lda	<L1028+1
 22305 06:59B8: 85 33        	sta	<L1028+1+20
 22306 06:59BA: 2B           	pld
 22307 06:59BB: 3B           	tsc
 22308 06:59BC: 18           	clc
 22309 06:59BD: 69 32 00     	adc	#L1028+20
 22310 06:59C0: 1B           	tcs
 22311 06:59C1: 98           	tya
 22312 06:59C2: 6B           	rtl
 22313                        ;}
 22314                        	.line	3478
 22315                        	.endblock	3478
 22316             0000001E   L1028	equ	30
 22317             00000009   L1029	equ	9
 22318 06:59C3:              	ends
 22319                        	efunc
 22320                        	.endfunc	3478,9,30
 22321                        	.line	3478
 22322                        ;
 22323                        ;
 22324                        ;
 22325                        ;void k_gadget_title_front_callback(PWINDOW gadget
                    Window)
 22326                        ;{
 22327                        	.line	3482
 22328                        	.line	3483
 22329                        	GFX
 22330                        	xdef	~~k_gadget_title_front_callback
 22331                        	func
 22332                        	.function	3483
 22333                        ~~k_gadget_title_front_callback:
  Mon Sep 27 2021  9:39                                                Page 411


 22334                        	longa	on
 22335                        	longi	on
 22336 06:59C3: 3B           	tsc
 22337 06:59C4: 38           	sec
 22338 06:59C5: E9 04 00     	sbc	#L1034
 22339 06:59C8: 1B           	tcs
 22340 06:59C9: 0B           	phd
 22341 06:59CA: 5B           	tcd
 22342             00000004   gadgetWindow_0	set	4
 22343                        	.block	3483
 22344                        ;	k_debug_message("k_gadget_title_front_callback:c
                    licked:",gadgetWindow->win_class);
 22345                        	.sym	gadgetWindow,4,138,6,32,33
 22346                        	.line	3484
 22347 06:59CB: 18           	clc
 22348 06:59CC: A9 6E 01     	lda	#$16e
 22349 06:59CF: 65 08        	adc	<L1034+gadgetWindow_0
 22350 06:59D1: 85 01        	sta	<R0
 22351 06:59D3: A9 00 00     	lda	#$0
 22352 06:59D6: 65 0A        	adc	<L1034+gadgetWindow_0+2
 22353 06:59D8: 85 03        	sta	<R0+2
 22354 06:59DA: D4 03        	pei	<R0+2
 22355 06:59DC: D4 01        	pei	<R0
 22356 06:59DE: F4 xx xx     	pea	#^L1008
 22357 06:59E1: F4 xx xx     	pea	#<L1008
 22358 06:59E4: 22 xx xx xx  	jsl	~~k_debug_message
 22359                        ;	k_send_message(NULL,FX_WINDOW_TOFRONT,NULL,0);
 22360                        	.line	3485
 22361 06:59E8: F4 00 00     	pea	#<$0
 22362 06:59EB: F4 00 00     	pea	#^$0
 22363 06:59EE: F4 00 00     	pea	#<$0
 22364 06:59F1: F4 30 0F     	pea	#<$f30
 22365 06:59F4: F4 00 00     	pea	#^$0
 22366 06:59F7: F4 00 00     	pea	#<$0
 22367 06:59FA: 22 xx xx xx  	jsl	~~k_send_message
 22368                        ;	return;
 22369                        	.line	3486
 22370                        L1037:
 22371 06:59FE: A5 06        	lda	<L1034+2
 22372 06:5A00: 85 0A        	sta	<L1034+2+4
 22373 06:5A02: A5 05        	lda	<L1034+1
 22374 06:5A04: 85 09        	sta	<L1034+1+4
 22375 06:5A06: 2B           	pld
 22376 06:5A07: 3B           	tsc
 22377 06:5A08: 18           	clc
 22378 06:5A09: 69 08 00     	adc	#L1034+4
 22379 06:5A0C: 1B           	tcs
 22380 06:5A0D: 6B           	rtl
 22381                        ;}
 22382                        	.line	3487
 22383                        	.endblock	3487
 22384             00000004   L1034	equ	4
 22385             00000005   L1035	equ	5
 22386 06:5A0E:              	ends
 22387                        	efunc
 22388                        	.endfunc	3487,5,4
 22389                        	.line	3487
 22390                        	data
  Mon Sep 27 2021  9:39                                                Page 412


 22391                        L1008:
 22392 00:0928: 6B 5F 67 61  	db	$6B,$5F,$67,$61,$64,$67,$65,$74,$5F,$74,
                    $69,$74,$6C,$65,$5F
       00:092C: 64 67 65 74 
       00:0930: 5F 74 69 74 
       00:0934: 6C 65 5F 
 22393 00:0937: 66 72 6F 6E  	db	$66,$72,$6F,$6E,$74,$5F,$63,$61,$6C,$6C,
                    $62,$61,$63,$6B,$3A
       00:093B: 74 5F 63 61 
       00:093F: 6C 6C 62 61 
       00:0943: 63 6B 3A 
 22394 00:0946: 63 6C 69 63  	db	$63,$6C,$69,$63,$6B,$65,$64,$3A,$00
       00:094A: 6B 65 64 3A 
       00:094E: 00 
 22395 00:094F:              	ends
 22396                        ;
 22397                        ;void k_gadget_title_back_callback(PWINDOW gadgetW
                    indow)
 22398                        ;{
 22399                        	.line	3489
 22400                        	.line	3490
 22401                        	GFX
 22402                        	xdef	~~k_gadget_title_back_callback
 22403                        	func
 22404                        	.function	3490
 22405                        ~~k_gadget_title_back_callback:
 22406                        	longa	on
 22407                        	longi	on
 22408 06:5A0E: 3B           	tsc
 22409 06:5A0F: 38           	sec
 22410 06:5A10: E9 04 00     	sbc	#L1039
 22411 06:5A13: 1B           	tcs
 22412 06:5A14: 0B           	phd
 22413 06:5A15: 5B           	tcd
 22414             00000004   gadgetWindow_0	set	4
 22415                        	.block	3490
 22416                        ;	k_debug_message("k_gadget_title_back_callback:cl
                    icked:",gadgetWindow->win_class);
 22417                        	.sym	gadgetWindow,4,138,6,32,33
 22418                        	.line	3491
 22419 06:5A16: 18           	clc
 22420 06:5A17: A9 6E 01     	lda	#$16e
 22421 06:5A1A: 65 08        	adc	<L1039+gadgetWindow_0
 22422 06:5A1C: 85 01        	sta	<R0
 22423 06:5A1E: A9 00 00     	lda	#$0
 22424 06:5A21: 65 0A        	adc	<L1039+gadgetWindow_0+2
 22425 06:5A23: 85 03        	sta	<R0+2
 22426 06:5A25: D4 03        	pei	<R0+2
 22427 06:5A27: D4 01        	pei	<R0
 22428 06:5A29: F4 xx xx     	pea	#^L1038
 22429 06:5A2C: F4 xx xx     	pea	#<L1038
 22430 06:5A2F: 22 xx xx xx  	jsl	~~k_debug_message
 22431                        ;	k_send_message(NULL,FX_WINDOW_TOBACK,NULL,0);
 22432                        	.line	3492
 22433 06:5A33: F4 00 00     	pea	#<$0
 22434 06:5A36: F4 00 00     	pea	#^$0
 22435 06:5A39: F4 00 00     	pea	#<$0
 22436 06:5A3C: F4 31 0F     	pea	#<$f31
  Mon Sep 27 2021  9:39                                                Page 413


 22437 06:5A3F: F4 00 00     	pea	#^$0
 22438 06:5A42: F4 00 00     	pea	#<$0
 22439 06:5A45: 22 xx xx xx  	jsl	~~k_send_message
 22440                        ;	return;
 22441                        	.line	3493
 22442                        L1042:
 22443 06:5A49: A5 06        	lda	<L1039+2
 22444 06:5A4B: 85 0A        	sta	<L1039+2+4
 22445 06:5A4D: A5 05        	lda	<L1039+1
 22446 06:5A4F: 85 09        	sta	<L1039+1+4
 22447 06:5A51: 2B           	pld
 22448 06:5A52: 3B           	tsc
 22449 06:5A53: 18           	clc
 22450 06:5A54: 69 08 00     	adc	#L1039+4
 22451 06:5A57: 1B           	tcs
 22452 06:5A58: 6B           	rtl
 22453                        ;}
 22454                        	.line	3494
 22455                        	.endblock	3494
 22456             00000004   L1039	equ	4
 22457             00000005   L1040	equ	5
 22458 06:5A59:              	ends
 22459                        	efunc
 22460                        	.endfunc	3494,5,4
 22461                        	.line	3494
 22462                        	data
 22463                        L1038:
 22464 00:094F: 6B 5F 67 61  	db	$6B,$5F,$67,$61,$64,$67,$65,$74,$5F,$74,
                    $69,$74,$6C,$65,$5F
       00:0953: 64 67 65 74 
       00:0957: 5F 74 69 74 
       00:095B: 6C 65 5F 
 22465 00:095E: 62 61 63 6B  	db	$62,$61,$63,$6B,$5F,$63,$61,$6C,$6C,$62,
                    $61,$63,$6B,$3A,$63
       00:0962: 5F 63 61 6C 
       00:0966: 6C 62 61 63 
       00:096A: 6B 3A 63 
 22466 00:096D: 6C 69 63 6B  	db	$6C,$69,$63,$6B,$65,$64,$3A,$00
       00:0971: 65 64 3A 00 
 22467 00:0975:              	ends
 22468                        ;
 22469                        ;
 22470                        ;
 22471                        ;PMENU k_render_menu(PMENU menu)
 22472                        ;{
 22473                        	.line	3498
 22474                        	.line	3499
 22475                        	GFX
 22476                        	xdef	~~k_render_menu
 22477                        	func
 22478                        	.function	3499
 22479                        ~~k_render_menu:
 22480                        	longa	on
 22481                        	longi	on
 22482 06:5A59: 3B           	tsc
 22483 06:5A5A: 38           	sec
 22484 06:5A5B: E9 22 00     	sbc	#L1044
 22485 06:5A5E: 1B           	tcs
  Mon Sep 27 2021  9:39                                                Page 414


 22486 06:5A5F: 0B           	phd
 22487 06:5A60: 5B           	tcd
 22488             00000004   menu_0	set	4
 22489                        	.block	3499
 22490                        ;	FONTMETRIC metric;
 22491                        ;
 22492                        ;	int i = 0;
 22493                        ;
 22494                        ;	int cx = menu->cx;
 22495                        ;	int cy = menu->cy;
 22496                        ;
 22497                        ;	int borderTitle = 10;
 22498                        ;	int borderWidth = 3;
 22499                        ;
 22500                        ;	int titleOffsetX = cx+2;
 22501                        ;	int titleOffsetY = cy+2;
 22502                        ;	int titleScaler = 0;
 22503                        ;
 22504                        ;	int clientOffsetX = cx+borderWidth+2;
 22505                        ;	int clientOffsetY = cy+borderTitle+1;
 22506                        ;
 22507                        ;	int endX = menu->width + cx - borderWidth;
 22508                        ;
 22509                        ;	k_get_font_metrics(&metric);
 22510             00000000   metric_1	set	0
 22511             00000004   i_1	set	4
 22512             00000006   cx_1	set	6
 22513             00000008   cy_1	set	8
 22514             0000000A   borderTitle_1	set	10
 22515             0000000C   borderWidth_1	set	12
 22516             0000000E   titleOffsetX_1	set	14
 22517             00000010   titleOffsetY_1	set	16
 22518             00000012   titleScaler_1	set	18
 22519             00000014   clientOffsetX_1	set	20
 22520             00000016   clientOffsetY_1	set	22
 22521             00000018   endX_1	set	24
 22522                        	.sym	metric,0,10,1,32,35
 22523                        	.sym	i,4,5,1,16
 22524                        	.sym	cx,6,5,1,16
 22525                        	.sym	cy,8,5,1,16
 22526                        	.sym	borderTitle,10,5,1,16
 22527                        	.sym	borderWidth,12,5,1,16
 22528                        	.sym	titleOffsetX,14,5,1,16
 22529                        	.sym	titleOffsetY,16,5,1,16
 22530                        	.sym	titleScaler,18,5,1,16
 22531                        	.sym	clientOffsetX,20,5,1,16
 22532                        	.sym	clientOffsetY,22,5,1,16
 22533                        	.sym	endX,24,5,1,16
 22534                        	.sym	menu,4,138,6,32,36
 22535 06:5A61: 64 0D        	stz	<L1045+i_1
 22536 06:5A63: A7 26        	lda	[<L1044+menu_0]
 22537 06:5A65: 85 0F        	sta	<L1045+cx_1
 22538 06:5A67: A0 02 00     	ldy	#$2
 22539 06:5A6A: B7 26        	lda	[<L1044+menu_0],Y
 22540 06:5A6C: 85 11        	sta	<L1045+cy_1
 22541 06:5A6E: A9 0A 00     	lda	#$a
 22542 06:5A71: 85 13        	sta	<L1045+borderTitle_1
 22543 06:5A73: A9 03 00     	lda	#$3
  Mon Sep 27 2021  9:39                                                Page 415


 22544 06:5A76: 85 15        	sta	<L1045+borderWidth_1
 22545 06:5A78: 18           	clc
 22546 06:5A79: A9 02 00     	lda	#$2
 22547 06:5A7C: 65 0F        	adc	<L1045+cx_1
 22548 06:5A7E: 85 17        	sta	<L1045+titleOffsetX_1
 22549 06:5A80: 18           	clc
 22550 06:5A81: A9 02 00     	lda	#$2
 22551 06:5A84: 65 11        	adc	<L1045+cy_1
 22552 06:5A86: 85 19        	sta	<L1045+titleOffsetY_1
 22553 06:5A88: 64 1B        	stz	<L1045+titleScaler_1
 22554 06:5A8A: 18           	clc
 22555 06:5A8B: A5 0F        	lda	<L1045+cx_1
 22556 06:5A8D: 65 15        	adc	<L1045+borderWidth_1
 22557 06:5A8F: 85 01        	sta	<R0
 22558 06:5A91: 18           	clc
 22559 06:5A92: A9 02 00     	lda	#$2
 22560 06:5A95: 65 01        	adc	<R0
 22561 06:5A97: 85 1D        	sta	<L1045+clientOffsetX_1
 22562 06:5A99: 18           	clc
 22563 06:5A9A: A5 11        	lda	<L1045+cy_1
 22564 06:5A9C: 65 13        	adc	<L1045+borderTitle_1
 22565 06:5A9E: 85 01        	sta	<R0
 22566 06:5AA0: A5 01        	lda	<R0
 22567 06:5AA2: 1A           	ina
 22568 06:5AA3: 85 1F        	sta	<L1045+clientOffsetY_1
 22569 06:5AA5: 18           	clc
 22570 06:5AA6: A0 04 00     	ldy	#$4
 22571 06:5AA9: B7 26        	lda	[<L1044+menu_0],Y
 22572 06:5AAB: 65 0F        	adc	<L1045+cx_1
 22573 06:5AAD: 85 01        	sta	<R0
 22574 06:5AAF: 38           	sec
 22575 06:5AB0: A5 01        	lda	<R0
 22576 06:5AB2: E5 15        	sbc	<L1045+borderWidth_1
 22577 06:5AB4: 85 21        	sta	<L1045+endX_1
 22578                        	.line	3519
 22579 06:5AB6: F4 00 00     	pea	#0
 22580 06:5AB9: 18           	clc
 22581 06:5ABA: 7B           	tdc
 22582 06:5ABB: 69 09 00     	adc	#<L1045+metric_1
 22583 06:5ABE: 48           	pha
 22584 06:5ABF: 22 56 26 06  	jsl	~~k_get_font_metrics
 22585                        ;
 22586                        ;
 22587                        ;	k_debug_integer("k_render_menu:menu->cx:",menu->
                    cx);
 22588                        	.line	3522
 22589 06:5AC3: A7 26        	lda	[<L1044+menu_0]
 22590 06:5AC5: 48           	pha
 22591 06:5AC6: F4 xx xx     	pea	#^L1043
 22592 06:5AC9: F4 xx xx     	pea	#<L1043
 22593 06:5ACC: 22 xx xx xx  	jsl	~~k_debug_integer
 22594                        ;	k_debug_integer("k_render_menu:menu->cy:",menu->
                    cy);
 22595                        	.line	3523
 22596 06:5AD0: A0 02 00     	ldy	#$2
 22597 06:5AD3: B7 26        	lda	[<L1044+menu_0],Y
 22598 06:5AD5: 48           	pha
 22599 06:5AD6: F4 xx xx     	pea	#^L1043+24
  Mon Sep 27 2021  9:39                                                Page 416


 22600 06:5AD9: F4 xx xx     	pea	#<L1043+24
 22601 06:5ADC: 22 xx xx xx  	jsl	~~k_debug_integer
 22602                        ;	k_debug_integer("k_render_menu:menu->height:",me
                    nu->height);
 22603                        	.line	3524
 22604 06:5AE0: A0 06 00     	ldy	#$6
 22605 06:5AE3: B7 26        	lda	[<L1044+menu_0],Y
 22606 06:5AE5: 48           	pha
 22607 06:5AE6: F4 xx xx     	pea	#^L1043+48
 22608 06:5AE9: F4 xx xx     	pea	#<L1043+48
 22609 06:5AEC: 22 xx xx xx  	jsl	~~k_debug_integer
 22610                        ;	k_debug_integer("k_render_menu:menu->width:",men
                    u->width);
 22611                        	.line	3525
 22612 06:5AF0: A0 04 00     	ldy	#$4
 22613 06:5AF3: B7 26        	lda	[<L1044+menu_0],Y
 22614 06:5AF5: 48           	pha
 22615 06:5AF6: F4 xx xx     	pea	#^L1043+76
 22616 06:5AF9: F4 xx xx     	pea	#<L1043+76
 22617 06:5AFC: 22 xx xx xx  	jsl	~~k_debug_integer
 22618                        ;
 22619                        ;
 22620                        ;	k_vdma_fill_rect(cx-1,cy,menu->width+1,menu->hei
                    ght+1,0);
 22621                        	.line	3528
 22622 06:5B00: F4 00 00     	pea	#<$0
 22623 06:5B03: A0 06 00     	ldy	#$6
 22624 06:5B06: B7 26        	lda	[<L1044+menu_0],Y
 22625 06:5B08: 1A           	ina
 22626 06:5B09: 48           	pha
 22627 06:5B0A: A0 04 00     	ldy	#$4
 22628 06:5B0D: B7 26        	lda	[<L1044+menu_0],Y
 22629 06:5B0F: 1A           	ina
 22630 06:5B10: 48           	pha
 22631 06:5B11: A0 00 00     	ldy	#$0
 22632 06:5B14: A5 11        	lda	<L1045+cy_1
 22633 06:5B16: 10 01        	bpl	L1047
 22634 06:5B18: 88           	dey
 22635                        L1047:
 22636 06:5B19: 85 01        	sta	<R0
 22637 06:5B1B: 84 03        	sty	<R0+2
 22638 06:5B1D: D4 03        	pei	<R0+2
 22639 06:5B1F: D4 01        	pei	<R0
 22640 06:5B21: 18           	clc
 22641 06:5B22: A9 FF FF     	lda	#$ffff
 22642 06:5B25: 65 0F        	adc	<L1045+cx_1
 22643 06:5B27: 85 05        	sta	<R1
 22644 06:5B29: A0 00 00     	ldy	#$0
 22645 06:5B2C: A5 05        	lda	<R1
 22646 06:5B2E: 10 01        	bpl	L1048
 22647 06:5B30: 88           	dey
 22648                        L1048:
 22649 06:5B31: 85 05        	sta	<R1
 22650 06:5B33: 84 07        	sty	<R1+2
 22651 06:5B35: D4 07        	pei	<R1+2
 22652 06:5B37: D4 05        	pei	<R1
 22653 06:5B39: 22 D6 62 06  	jsl	~~k_vdma_fill_rect
 22654                        ;	k_vdma_fill_rect(cx,cy,menu->width,menu->height,
  Mon Sep 27 2021  9:39                                                Page 417


                    menu->fcolor);
 22655                        	.line	3529
 22656 06:5B3D: A0 08 00     	ldy	#$8
 22657 06:5B40: B7 26        	lda	[<L1044+menu_0],Y
 22658 06:5B42: 48           	pha
 22659 06:5B43: A0 06 00     	ldy	#$6
 22660 06:5B46: B7 26        	lda	[<L1044+menu_0],Y
 22661 06:5B48: 48           	pha
 22662 06:5B49: A0 04 00     	ldy	#$4
 22663 06:5B4C: B7 26        	lda	[<L1044+menu_0],Y
 22664 06:5B4E: 48           	pha
 22665 06:5B4F: A0 00 00     	ldy	#$0
 22666 06:5B52: A5 11        	lda	<L1045+cy_1
 22667 06:5B54: 10 01        	bpl	L1049
 22668 06:5B56: 88           	dey
 22669                        L1049:
 22670 06:5B57: 85 01        	sta	<R0
 22671 06:5B59: 84 03        	sty	<R0+2
 22672 06:5B5B: D4 03        	pei	<R0+2
 22673 06:5B5D: D4 01        	pei	<R0
 22674 06:5B5F: A0 00 00     	ldy	#$0
 22675 06:5B62: A5 0F        	lda	<L1045+cx_1
 22676 06:5B64: 10 01        	bpl	L1050
 22677 06:5B66: 88           	dey
 22678                        L1050:
 22679 06:5B67: 85 05        	sta	<R1
 22680 06:5B69: 84 07        	sty	<R1+2
 22681 06:5B6B: D4 07        	pei	<R1+2
 22682 06:5B6D: D4 05        	pei	<R1
 22683 06:5B6F: 22 D6 62 06  	jsl	~~k_vdma_fill_rect
 22684                        ;
 22685                        ;	//k_vdma_fill_rect(cx,cy,menu->width,menu->heigh
                    t,menu->fcolor);
 22686                        ;
 22687                        ;
 22688                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,14);
 22689                        	.line	3534
 22690 06:5B73: F4 0E 00     	pea	#<$e
 22691 06:5B76: D4 19        	pei	<L1045+titleOffsetY_1
 22692 06:5B78: A5 09        	lda	<L1045+metric_1
 22693 06:5B7A: 0A           	asl	A
 22694 06:5B7B: 85 01        	sta	<R0
 22695 06:5B7D: 18           	clc
 22696 06:5B7E: A9 02 00     	lda	#$2
 22697 06:5B81: 65 01        	adc	<R0
 22698 06:5B83: 85 05        	sta	<R1
 22699 06:5B85: 38           	sec
 22700 06:5B86: A5 21        	lda	<L1045+endX_1
 22701 06:5B88: E5 05        	sbc	<R1
 22702 06:5B8A: 48           	pha
 22703 06:5B8B: F4 04 00     	pea	#<$4
 22704 06:5B8E: 22 9C 2D 06  	jsl	~~k_put_wingadget_point
 22705                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,14);
 22706                        	.line	3535
 22707 06:5B92: F4 0E 00     	pea	#<$e
 22708 06:5B95: D4 19        	pei	<L1045+titleOffsetY_1
  Mon Sep 27 2021  9:39                                                Page 418


 22709 06:5B97: 38           	sec
 22710 06:5B98: A5 21        	lda	<L1045+endX_1
 22711 06:5B9A: E5 09        	sbc	<L1045+metric_1
 22712 06:5B9C: 48           	pha
 22713 06:5B9D: F4 03 00     	pea	#<$3
 22714 06:5BA0: 22 9C 2D 06  	jsl	~~k_put_wingadget_point
 22715                        ;
 22716                        ;	k_draw_text_point((LPCHAR)menu->pCaption,cx+2+me
                    tric.width,titleOffsetY,0);
 22717                        	.line	3537
 22718 06:5BA4: F4 00 00     	pea	#<$0
 22719 06:5BA7: D4 19        	pei	<L1045+titleOffsetY_1
 22720 06:5BA9: 18           	clc
 22721 06:5BAA: A5 0F        	lda	<L1045+cx_1
 22722 06:5BAC: 65 09        	adc	<L1045+metric_1
 22723 06:5BAE: 85 01        	sta	<R0
 22724 06:5BB0: 18           	clc
 22725 06:5BB1: A9 02 00     	lda	#$2
 22726 06:5BB4: 65 01        	adc	<R0
 22727 06:5BB6: 48           	pha
 22728 06:5BB7: A0 15 00     	ldy	#$15
 22729 06:5BBA: B7 26        	lda	[<L1044+menu_0],Y
 22730 06:5BBC: 48           	pha
 22731 06:5BBD: A0 13 00     	ldy	#$13
 22732 06:5BC0: B7 26        	lda	[<L1044+menu_0],Y
 22733 06:5BC2: 48           	pha
 22734 06:5BC3: 22 7F 22 06  	jsl	~~k_draw_text_point
 22735                        ;
 22736                        ;	return menu;
 22737                        	.line	3539
 22738 06:5BC7: A6 28        	ldx	<L1044+menu_0+2
 22739 06:5BC9: A5 26        	lda	<L1044+menu_0
 22740                        L1051:
 22741 06:5BCB: A8           	tay
 22742 06:5BCC: A5 24        	lda	<L1044+2
 22743 06:5BCE: 85 28        	sta	<L1044+2+4
 22744 06:5BD0: A5 23        	lda	<L1044+1
 22745 06:5BD2: 85 27        	sta	<L1044+1+4
 22746 06:5BD4: 2B           	pld
 22747 06:5BD5: 3B           	tsc
 22748 06:5BD6: 18           	clc
 22749 06:5BD7: 69 26 00     	adc	#L1044+4
 22750 06:5BDA: 1B           	tcs
 22751 06:5BDB: 98           	tya
 22752 06:5BDC: 6B           	rtl
 22753                        ;}
 22754                        	.line	3540
 22755                        	.endblock	3540
 22756             00000022   L1044	equ	34
 22757             00000009   L1045	equ	9
 22758 06:5BDD:              	ends
 22759                        	efunc
 22760                        	.endfunc	3540,9,34
 22761                        	.line	3540
 22762                        	data
 22763                        L1043:
 22764 00:0975: 6B 5F 72 65  	db	$6B,$5F,$72,$65,$6E,$64,$65,$72,$5F,$6D,
                    $65,$6E,$75,$3A,$6D
  Mon Sep 27 2021  9:39                                                Page 419


       00:0979: 6E 64 65 72 
       00:097D: 5F 6D 65 6E 
       00:0981: 75 3A 6D 
 22765 00:0984: 65 6E 75 2D  	db	$65,$6E,$75,$2D,$3E,$63,$78,$3A,$00,$6B,
                    $5F,$72,$65,$6E,$64
       00:0988: 3E 63 78 3A 
       00:098C: 00 6B 5F 72 
       00:0990: 65 6E 64 
 22766 00:0993: 65 72 5F 6D  	db	$65,$72,$5F,$6D,$65,$6E,$75,$3A,$6D,$65,
                    $6E,$75,$2D,$3E,$63
       00:0997: 65 6E 75 3A 
       00:099B: 6D 65 6E 75 
       00:099F: 2D 3E 63 
 22767 00:09A2: 79 3A 00 6B  	db	$79,$3A,$00,$6B,$5F,$72,$65,$6E,$64,$65,
                    $72,$5F,$6D,$65,$6E
       00:09A6: 5F 72 65 6E 
       00:09AA: 64 65 72 5F 
       00:09AE: 6D 65 6E 
 22768 00:09B1: 75 3A 6D 65  	db	$75,$3A,$6D,$65,$6E,$75,$2D,$3E,$68,$65,
                    $69,$67,$68,$74,$3A
       00:09B5: 6E 75 2D 3E 
       00:09B9: 68 65 69 67 
       00:09BD: 68 74 3A 
 22769 00:09C0: 00 6B 5F 72  	db	$00,$6B,$5F,$72,$65,$6E,$64,$65,$72,$5F,
                    $6D,$65,$6E,$75,$3A
       00:09C4: 65 6E 64 65 
       00:09C8: 72 5F 6D 65 
       00:09CC: 6E 75 3A 
 22770 00:09CF: 6D 65 6E 75  	db	$6D,$65,$6E,$75,$2D,$3E,$77,$69,$64,$74,
                    $68,$3A,$00
       00:09D3: 2D 3E 77 69 
       00:09D7: 64 74 68 3A 
       00:09DB: 00 
 22771 00:09DC:              	ends
 22772                        ;
 22773                        ;void k_draw_ui_window(int cx,int cy,int height,in
                    t width,char FAR *title,int color, int bgcolor)
 22774                        ;{
 22775                        	.line	3542
 22776                        	.line	3543
 22777                        	GFX
 22778                        	xdef	~~k_draw_ui_window
 22779                        	func
 22780                        	.function	3543
 22781                        ~~k_draw_ui_window:
 22782                        	longa	on
 22783                        	longi	on
 22784 06:5BDD: 3B           	tsc
 22785 06:5BDE: 38           	sec
 22786 06:5BDF: E9 22 00     	sbc	#L1053
 22787 06:5BE2: 1B           	tcs
 22788 06:5BE3: 0B           	phd
 22789 06:5BE4: 5B           	tcd
 22790             00000004   cx_0	set	4
 22791             00000006   cy_0	set	6
 22792             00000008   height_0	set	8
 22793             0000000A   width_0	set	10
 22794             0000000C   title_0	set	12
  Mon Sep 27 2021  9:39                                                Page 420


 22795             00000010   color_0	set	16
 22796             00000012   bgcolor_0	set	18
 22797                        	.block	3543
 22798                        ;	FONTMETRIC metric;
 22799                        ;	
 22800                        ;	int i = 0;
 22801                        ;	
 22802                        ;	int borderTitle = 10;
 22803                        ;	int borderWidth = 2;
 22804                        ;
 22805                        ;	int titleOffsetX = cx+2;
 22806                        ;	int titleOffsetY = cy+2;
 22807                        ;	int titleScaler = 0;
 22808                        ;	
 22809                        ;	int clientOffsetX = cx+borderWidth+2;
 22810                        ;	int clientOffsetY = cy+borderTitle+1;
 22811                        ;	
 22812                        ;	int currX = clientOffsetX;
 22813                        ;	int currY = clientOffsetY;
 22814                        ;	
 22815                        ;	int endX = width + cx - borderWidth;
 22816                        ;	
 22817                        ;	k_draw_filled_rect(cx,cy,height,width,color);	
 22818             00000000   metric_1	set	0
 22819             00000004   i_1	set	4
 22820             00000006   borderTitle_1	set	6
 22821             00000008   borderWidth_1	set	8
 22822             0000000A   titleOffsetX_1	set	10
 22823             0000000C   titleOffsetY_1	set	12
 22824             0000000E   titleScaler_1	set	14
 22825             00000010   clientOffsetX_1	set	16
 22826             00000012   clientOffsetY_1	set	18
 22827             00000014   currX_1	set	20
 22828             00000016   currY_1	set	22
 22829             00000018   endX_1	set	24
 22830                        	.sym	metric,0,10,1,32,35
 22831                        	.sym	i,4,5,1,16
 22832                        	.sym	borderTitle,6,5,1,16
 22833                        	.sym	borderWidth,8,5,1,16
 22834                        	.sym	titleOffsetX,10,5,1,16
 22835                        	.sym	titleOffsetY,12,5,1,16
 22836                        	.sym	titleScaler,14,5,1,16
 22837                        	.sym	clientOffsetX,16,5,1,16
 22838                        	.sym	clientOffsetY,18,5,1,16
 22839                        	.sym	currX,20,5,1,16
 22840                        	.sym	currY,22,5,1,16
 22841                        	.sym	endX,24,5,1,16
 22842                        	.sym	cx,4,5,6,16
 22843                        	.sym	cy,6,5,6,16
 22844                        	.sym	height,8,5,6,16
 22845                        	.sym	width,10,5,6,16
 22846                        	.sym	title,12,142,6,32
 22847                        	.sym	color,16,5,6,16
 22848                        	.sym	bgcolor,18,5,6,16
 22849 06:5BE5: 64 0D        	stz	<L1054+i_1
 22850 06:5BE7: A9 0A 00     	lda	#$a
 22851 06:5BEA: 85 0F        	sta	<L1054+borderTitle_1
 22852 06:5BEC: A9 02 00     	lda	#$2
  Mon Sep 27 2021  9:39                                                Page 421


 22853 06:5BEF: 85 11        	sta	<L1054+borderWidth_1
 22854 06:5BF1: 18           	clc
 22855 06:5BF2: A9 02 00     	lda	#$2
 22856 06:5BF5: 65 26        	adc	<L1053+cx_0
 22857 06:5BF7: 85 13        	sta	<L1054+titleOffsetX_1
 22858 06:5BF9: 18           	clc
 22859 06:5BFA: A9 02 00     	lda	#$2
 22860 06:5BFD: 65 28        	adc	<L1053+cy_0
 22861 06:5BFF: 85 15        	sta	<L1054+titleOffsetY_1
 22862 06:5C01: 64 17        	stz	<L1054+titleScaler_1
 22863 06:5C03: 18           	clc
 22864 06:5C04: A5 26        	lda	<L1053+cx_0
 22865 06:5C06: 65 11        	adc	<L1054+borderWidth_1
 22866 06:5C08: 85 01        	sta	<R0
 22867 06:5C0A: 18           	clc
 22868 06:5C0B: A9 02 00     	lda	#$2
 22869 06:5C0E: 65 01        	adc	<R0
 22870 06:5C10: 85 19        	sta	<L1054+clientOffsetX_1
 22871 06:5C12: 18           	clc
 22872 06:5C13: A5 28        	lda	<L1053+cy_0
 22873 06:5C15: 65 0F        	adc	<L1054+borderTitle_1
 22874 06:5C17: 85 01        	sta	<R0
 22875 06:5C19: A5 01        	lda	<R0
 22876 06:5C1B: 1A           	ina
 22877 06:5C1C: 85 1B        	sta	<L1054+clientOffsetY_1
 22878 06:5C1E: A5 19        	lda	<L1054+clientOffsetX_1
 22879 06:5C20: 85 1D        	sta	<L1054+currX_1
 22880 06:5C22: A5 1B        	lda	<L1054+clientOffsetY_1
 22881 06:5C24: 85 1F        	sta	<L1054+currY_1
 22882 06:5C26: 18           	clc
 22883 06:5C27: A5 2C        	lda	<L1053+width_0
 22884 06:5C29: 65 26        	adc	<L1053+cx_0
 22885 06:5C2B: 85 01        	sta	<R0
 22886 06:5C2D: 38           	sec
 22887 06:5C2E: A5 01        	lda	<R0
 22888 06:5C30: E5 11        	sbc	<L1054+borderWidth_1
 22889 06:5C32: 85 21        	sta	<L1054+endX_1
 22890                        	.line	3563
 22891 06:5C34: D4 32        	pei	<L1053+color_0
 22892 06:5C36: D4 2C        	pei	<L1053+width_0
 22893 06:5C38: D4 2A        	pei	<L1053+height_0
 22894 06:5C3A: D4 28        	pei	<L1053+cy_0
 22895 06:5C3C: D4 26        	pei	<L1053+cx_0
 22896 06:5C3E: 22 0C 3E 06  	jsl	~~k_draw_filled_rect
 22897                        ;	k_draw_filled_rect(cx+borderWidth,cy+borderTitle
                    ,
 22898                        	.line	3564
 22899                        ;	                   height - borderTitle - border
                    Width,
 22900                        ;					   width - borde
                    rWidth - borderWidth,
 22901                        ;					   bgcolor);
 22902 06:5C42: D4 34        	pei	<L1053+bgcolor_0
 22903 06:5C44: 38           	sec
 22904 06:5C45: A5 2C        	lda	<L1053+width_0
 22905 06:5C47: E5 11        	sbc	<L1054+borderWidth_1
 22906 06:5C49: 85 01        	sta	<R0
 22907 06:5C4B: 38           	sec
  Mon Sep 27 2021  9:39                                                Page 422


 22908 06:5C4C: A5 01        	lda	<R0
 22909 06:5C4E: E5 11        	sbc	<L1054+borderWidth_1
 22910 06:5C50: 48           	pha
 22911 06:5C51: 38           	sec
 22912 06:5C52: A5 2A        	lda	<L1053+height_0
 22913 06:5C54: E5 0F        	sbc	<L1054+borderTitle_1
 22914 06:5C56: 85 01        	sta	<R0
 22915 06:5C58: 38           	sec
 22916 06:5C59: A5 01        	lda	<R0
 22917 06:5C5B: E5 11        	sbc	<L1054+borderWidth_1
 22918 06:5C5D: 48           	pha
 22919 06:5C5E: 18           	clc
 22920 06:5C5F: A5 28        	lda	<L1053+cy_0
 22921 06:5C61: 65 0F        	adc	<L1054+borderTitle_1
 22922 06:5C63: 48           	pha
 22923 06:5C64: 18           	clc
 22924 06:5C65: A5 26        	lda	<L1053+cx_0
 22925 06:5C67: 65 11        	adc	<L1054+borderWidth_1
 22926 06:5C69: 48           	pha
 22927 06:5C6A: 22 0C 3E 06  	jsl	~~k_draw_filled_rect
 22928                        ;	
 22929                        ;	k_get_font_metrics(&metric);
 22930                        	.line	3569
 22931 06:5C6E: F4 00 00     	pea	#0
 22932 06:5C71: 18           	clc
 22933 06:5C72: 7B           	tdc
 22934 06:5C73: 69 09 00     	adc	#<L1054+metric_1
 22935 06:5C76: 48           	pha
 22936 06:5C77: 22 56 26 06  	jsl	~~k_get_font_metrics
 22937                        ;	
 22938                        ;	
 22939                        ;	title = strupr(title);
 22940                        	.line	3572
 22941 06:5C7B: D4 30        	pei	<L1053+title_0+2
 22942 06:5C7D: D4 2E        	pei	<L1053+title_0
 22943 06:5C7F: 22 xx xx xx  	jsl	~~strupr
 22944 06:5C83: 85 2E        	sta	<L1053+title_0
 22945 06:5C85: 86 30        	stx	<L1053+title_0+2
 22946                        ;	
 22947                        ;	titleOffsetX+=k_put_wingadget_point(WINICON_TITL
                    E_ACLOSE,titleOffsetX,titleOffsetY,14);	
 22948                        	.line	3574
 22949 06:5C87: F4 0E 00     	pea	#<$e
 22950 06:5C8A: D4 15        	pei	<L1054+titleOffsetY_1
 22951 06:5C8C: D4 13        	pei	<L1054+titleOffsetX_1
 22952 06:5C8E: F4 05 00     	pea	#<$5
 22953 06:5C91: 22 9C 2D 06  	jsl	~~k_put_wingadget_point
 22954 06:5C95: 85 01        	sta	<R0
 22955 06:5C97: 18           	clc
 22956 06:5C98: A5 01        	lda	<R0
 22957 06:5C9A: 65 13        	adc	<L1054+titleOffsetX_1
 22958 06:5C9C: 85 13        	sta	<L1054+titleOffsetX_1
 22959                        ;	
 22960                        ;	titleScaler = (int)(width / metric.width - 4);
 22961                        	.line	3576
 22962 06:5C9E: A5 2C        	lda	<L1053+width_0
 22963 06:5CA0: A6 09        	ldx	<L1054+metric_1
 22964                        	xref	~~~div
  Mon Sep 27 2021  9:39                                                Page 423


 22965 06:5CA2: 22 xx xx xx  	jsl	~~~div
 22966 06:5CA6: 85 01        	sta	<R0
 22967 06:5CA8: 18           	clc
 22968 06:5CA9: A9 FC FF     	lda	#$fffc
 22969 06:5CAC: 65 01        	adc	<R0
 22970 06:5CAE: 85 17        	sta	<L1054+titleScaler_1
 22971                        ;	for(i=0;i<titleScaler;i++)
 22972                        	.line	3577
 22973 06:5CB0: 64 0D        	stz	<L1054+i_1
 22974 06:5CB2: 82 19 00     	brl	L10410
 22975                        L10409:
 22976                        ;	{
 22977                        	.line	3578
 22978                        ;		titleOffsetX+=k_put_wingadget_point(WINI
                    CON_TITLE_LINES,titleOffsetX,titleOffsetY,14);	
 22979                        	.line	3579
 22980 06:5CB5: F4 0E 00     	pea	#<$e
 22981 06:5CB8: D4 15        	pei	<L1054+titleOffsetY_1
 22982 06:5CBA: D4 13        	pei	<L1054+titleOffsetX_1
 22983 06:5CBC: F4 01 00     	pea	#<$1
 22984 06:5CBF: 22 9C 2D 06  	jsl	~~k_put_wingadget_point
 22985 06:5CC3: 85 01        	sta	<R0
 22986 06:5CC5: 18           	clc
 22987 06:5CC6: A5 01        	lda	<R0
 22988 06:5CC8: 65 13        	adc	<L1054+titleOffsetX_1
 22989 06:5CCA: 85 13        	sta	<L1054+titleOffsetX_1
 22990                        ;	}
 22991                        	.line	3580
 22992                        L10407:
 22993 06:5CCC: E6 0D        	inc	<L1054+i_1
 22994                        L10410:
 22995 06:5CCE: 38           	sec
 22996 06:5CCF: A5 0D        	lda	<L1054+i_1
 22997 06:5CD1: E5 17        	sbc	<L1054+titleScaler_1
 22998 06:5CD3: 70 03        	bvs	L1056
 22999 06:5CD5: 49 00 80     	eor	#$8000
 23000                        L1056:
 23001 06:5CD8: 30 03        	bmi	L1057
 23002 06:5CDA: 82 D8 FF     	brl	L10409
 23003                        L1057:
 23004                        L10408:
 23005                        ;	/*
 23006                        ;	titleOffsetX+=k_put_wingadget_point(WINICON_TITL
                    E_BACK,titleOffsetX,titleOffsetY,14);
 23007                        ;	titleOffsetX+=2;
 23008                        ;	titleOffsetX+=k_put_wingadget_point(WINICON_TITL
                    E_FRONT,titleOffsetX,titleOffsetY,14);
 23009                        ;	*/
 23010                        ;	
 23011                        ;	k_put_wingadget_point(WINICON_TITLE_BACK,endX - 
                    (metric.width*2 + 2),titleOffsetY,14);
 23012                        	.line	3587
 23013 06:5CDD: F4 0E 00     	pea	#<$e
 23014 06:5CE0: D4 15        	pei	<L1054+titleOffsetY_1
 23015 06:5CE2: A5 09        	lda	<L1054+metric_1
 23016 06:5CE4: 0A           	asl	A
 23017 06:5CE5: 85 01        	sta	<R0
 23018 06:5CE7: 18           	clc
  Mon Sep 27 2021  9:39                                                Page 424


 23019 06:5CE8: A9 02 00     	lda	#$2
 23020 06:5CEB: 65 01        	adc	<R0
 23021 06:5CED: 85 05        	sta	<R1
 23022 06:5CEF: 38           	sec
 23023 06:5CF0: A5 21        	lda	<L1054+endX_1
 23024 06:5CF2: E5 05        	sbc	<R1
 23025 06:5CF4: 48           	pha
 23026 06:5CF5: F4 04 00     	pea	#<$4
 23027 06:5CF8: 22 9C 2D 06  	jsl	~~k_put_wingadget_point
 23028                        ;	k_put_wingadget_point(WINICON_TITLE_FRONT,endX -
                     (metric.width),titleOffsetY,14);
 23029                        	.line	3588
 23030 06:5CFC: F4 0E 00     	pea	#<$e
 23031 06:5CFF: D4 15        	pei	<L1054+titleOffsetY_1
 23032 06:5D01: 38           	sec
 23033 06:5D02: A5 21        	lda	<L1054+endX_1
 23034 06:5D04: E5 09        	sbc	<L1054+metric_1
 23035 06:5D06: 48           	pha
 23036 06:5D07: F4 03 00     	pea	#<$3
 23037 06:5D0A: 22 9C 2D 06  	jsl	~~k_put_wingadget_point
 23038                        ;	
 23039                        ;	
 23040                        ;	for(i=0;i<=strlen(title);i++)
 23041                        	.line	3591
 23042 06:5D0E: 64 0D        	stz	<L1054+i_1
 23043 06:5D10: 82 2D 00     	brl	L10414
 23044                        L10413:
 23045                        ;	{
 23046                        	.line	3592
 23047                        ;		k_put_wingadget_point(WINICON_BLOCK,cx+2
                    +metric.width+(metric.width*i),titleOffsetY,15);	
 23048                        	.line	3593
 23049 06:5D13: F4 0F 00     	pea	#<$f
 23050 06:5D16: D4 15        	pei	<L1054+titleOffsetY_1
 23051 06:5D18: A5 09        	lda	<L1054+metric_1
 23052 06:5D1A: A6 0D        	ldx	<L1054+i_1
 23053                        	xref	~~~mul
 23054 06:5D1C: 22 xx xx xx  	jsl	~~~mul
 23055 06:5D20: 85 01        	sta	<R0
 23056 06:5D22: 18           	clc
 23057 06:5D23: A5 01        	lda	<R0
 23058 06:5D25: 65 26        	adc	<L1053+cx_0
 23059 06:5D27: 85 05        	sta	<R1
 23060 06:5D29: 18           	clc
 23061 06:5D2A: A5 05        	lda	<R1
 23062 06:5D2C: 65 09        	adc	<L1054+metric_1
 23063 06:5D2E: 85 01        	sta	<R0
 23064 06:5D30: 18           	clc
 23065 06:5D31: A9 02 00     	lda	#$2
 23066 06:5D34: 65 01        	adc	<R0
 23067 06:5D36: 48           	pha
 23068 06:5D37: F4 00 00     	pea	#<$0
 23069 06:5D3A: 22 9C 2D 06  	jsl	~~k_put_wingadget_point
 23070                        ;	}
 23071                        	.line	3594
 23072                        L10411:
 23073 06:5D3E: E6 0D        	inc	<L1054+i_1
 23074                        L10414:
  Mon Sep 27 2021  9:39                                                Page 425


 23075 06:5D40: D4 30        	pei	<L1053+title_0+2
 23076 06:5D42: D4 2E        	pei	<L1053+title_0
 23077 06:5D44: 22 xx xx xx  	jsl	~~strlen
 23078 06:5D48: 85 01        	sta	<R0
 23079 06:5D4A: A5 01        	lda	<R0
 23080 06:5D4C: C5 0D        	cmp	<L1054+i_1
 23081 06:5D4E: 90 03        	bcc	L1058
 23082 06:5D50: 82 C0 FF     	brl	L10413
 23083                        L1058:
 23084                        L10412:
 23085                        ;	k_draw_text_point(title,cx+2+metric.width,titleO
                    ffsetY,0);
 23086                        	.line	3595
 23087 06:5D53: F4 00 00     	pea	#<$0
 23088 06:5D56: D4 15        	pei	<L1054+titleOffsetY_1
 23089 06:5D58: 18           	clc
 23090 06:5D59: A5 26        	lda	<L1053+cx_0
 23091 06:5D5B: 65 09        	adc	<L1054+metric_1
 23092 06:5D5D: 85 01        	sta	<R0
 23093 06:5D5F: 18           	clc
 23094 06:5D60: A9 02 00     	lda	#$2
 23095 06:5D63: 65 01        	adc	<R0
 23096 06:5D65: 48           	pha
 23097 06:5D66: D4 30        	pei	<L1053+title_0+2
 23098 06:5D68: D4 2E        	pei	<L1053+title_0
 23099 06:5D6A: 22 7F 22 06  	jsl	~~k_draw_text_point
 23100                        ;	
 23101                        ;	/*
 23102                        ;	k_put_wingadget_point(0x01,titleOffsetX,titleOff
                    setY,14);	
 23103                        ;	titleOffsetX+=metric.width;
 23104                        ;	
 23105                        ;	titleOffsetX+=k_draw_text_point(title,titleOffse
                    tX,titleOffsetY,0);
 23106                        ;	titleOffsetX+=metric.width;
 23107                        ;	k_put_wingadget_point(0x00,titleOffsetX,titleOff
                    setY,14);	
 23108                        ;	titleOffsetX+=metric.width;
 23109                        ;	k_put_wingadget_point(0x00,titleOffsetX,titleOff
                    setY,14);	
 23110                        ;	titleOffsetX+=metric.width;
 23111                        ;	k_put_wingadget_point(0x00,titleOffsetX,titleOff
                    setY,14);	
 23112                        ;	*/
 23113                        ;	
 23114                        ;	k_draw_text_point("READY.",currX,currY,15);
 23115                        	.line	3610
 23116 06:5D6E: F4 0F 00     	pea	#<$f
 23117 06:5D71: D4 1F        	pei	<L1054+currY_1
 23118 06:5D73: D4 1D        	pei	<L1054+currX_1
 23119 06:5D75: F4 xx xx     	pea	#^L1052
 23120 06:5D78: F4 xx xx     	pea	#<L1052
 23121 06:5D7B: 22 7F 22 06  	jsl	~~k_draw_text_point
 23122                        ;	currY+=metric.height;	
 23123                        	.line	3611
 23124 06:5D7F: 18           	clc
 23125 06:5D80: A5 1F        	lda	<L1054+currY_1
 23126 06:5D82: 65 0B        	adc	<L1054+metric_1+2
  Mon Sep 27 2021  9:39                                                Page 426


 23127 06:5D84: 85 1F        	sta	<L1054+currY_1
 23128                        ;	k_draw_text_point("10 PRINT \"HELLO WORLD!\"",cu
                    rrX,currY,15);
 23129                        	.line	3612
 23130 06:5D86: F4 0F 00     	pea	#<$f
 23131 06:5D89: D4 1F        	pei	<L1054+currY_1
 23132 06:5D8B: D4 1D        	pei	<L1054+currX_1
 23133 06:5D8D: F4 xx xx     	pea	#^L1052+7
 23134 06:5D90: F4 xx xx     	pea	#<L1052+7
 23135 06:5D93: 22 7F 22 06  	jsl	~~k_draw_text_point
 23136                        ;	currY+=metric.height;
 23137                        	.line	3613
 23138 06:5D97: 18           	clc
 23139 06:5D98: A5 1F        	lda	<L1054+currY_1
 23140 06:5D9A: 65 0B        	adc	<L1054+metric_1+2
 23141 06:5D9C: 85 1F        	sta	<L1054+currY_1
 23142                        ;	k_draw_text_point("RUN",currX,currY,15);
 23143                        	.line	3614
 23144 06:5D9E: F4 0F 00     	pea	#<$f
 23145 06:5DA1: D4 1F        	pei	<L1054+currY_1
 23146 06:5DA3: D4 1D        	pei	<L1054+currX_1
 23147 06:5DA5: F4 xx xx     	pea	#^L1052+31
 23148 06:5DA8: F4 xx xx     	pea	#<L1052+31
 23149 06:5DAB: 22 7F 22 06  	jsl	~~k_draw_text_point
 23150                        ;	currY+=metric.height;
 23151                        	.line	3615
 23152 06:5DAF: 18           	clc
 23153 06:5DB0: A5 1F        	lda	<L1054+currY_1
 23154 06:5DB2: 65 0B        	adc	<L1054+metric_1+2
 23155 06:5DB4: 85 1F        	sta	<L1054+currY_1
 23156                        ;	k_draw_text_point("HELLO WORLD!",currX,currY,15)
                    ;
 23157                        	.line	3616
 23158 06:5DB6: F4 0F 00     	pea	#<$f
 23159 06:5DB9: D4 1F        	pei	<L1054+currY_1
 23160 06:5DBB: D4 1D        	pei	<L1054+currX_1
 23161 06:5DBD: F4 xx xx     	pea	#^L1052+35
 23162 06:5DC0: F4 xx xx     	pea	#<L1052+35
 23163 06:5DC3: 22 7F 22 06  	jsl	~~k_draw_text_point
 23164                        ;}
 23165                        	.line	3617
 23166                        L1059:
 23167 06:5DC7: A5 24        	lda	<L1053+2
 23168 06:5DC9: 85 34        	sta	<L1053+2+16
 23169 06:5DCB: A5 23        	lda	<L1053+1
 23170 06:5DCD: 85 33        	sta	<L1053+1+16
 23171 06:5DCF: 2B           	pld
 23172 06:5DD0: 3B           	tsc
 23173 06:5DD1: 18           	clc
 23174 06:5DD2: 69 32 00     	adc	#L1053+16
 23175 06:5DD5: 1B           	tcs
 23176 06:5DD6: 6B           	rtl
 23177                        	.endblock	3617
 23178             00000022   L1053	equ	34
 23179             00000009   L1054	equ	9
 23180 06:5DD7:              	ends
 23181                        	efunc
 23182                        	.endfunc	3617,9,34
  Mon Sep 27 2021  9:39                                                Page 427


 23183                        	.line	3617
 23184                        	data
 23185                        L1052:
 23186 00:09DC: 52 45 41 44  	db	$52,$45,$41,$44,$59,$2E,$00,$31,$30,$20,
                    $50,$52,$49,$4E,$54
       00:09E0: 59 2E 00 31 
       00:09E4: 30 20 50 52 
       00:09E8: 49 4E 54 
 23187 00:09EB: 20 22 48 45  	db	$20,$22,$48,$45,$4C,$4C,$4F,$20,$57,$4F,
                    $52,$4C,$44,$21,$22
       00:09EF: 4C 4C 4F 20 
       00:09F3: 57 4F 52 4C 
       00:09F7: 44 21 22 
 23188 00:09FA: 00 52 55 4E  	db	$00,$52,$55,$4E,$00,$48,$45,$4C,$4C,$4F,
                    $20,$57,$4F,$52,$4C
       00:09FE: 00 48 45 4C 
       00:0A02: 4C 4F 20 57 
       00:0A06: 4F 52 4C 
 23189 00:0A09: 44 21 00     	db	$44,$21,$00
 23190 00:0A0C:              	ends
 23191                        ;
 23192                        ;
 23193                        ;void k_paint_brush_rect(long x,long y,int width,i
                    nt height,BYTE pattern)
 23194                        ;{
 23195                        	.line	3620
 23196                        	.line	3621
 23197                        	GFX
 23198                        	xdef	~~k_paint_brush_rect
 23199                        	func
 23200                        	.function	3621
 23201                        ~~k_paint_brush_rect:
 23202                        	longa	on
 23203                        	longi	on
 23204 06:5DD7: 3B           	tsc
 23205 06:5DD8: 38           	sec
 23206 06:5DD9: E9 19 00     	sbc	#L1061
 23207 06:5DDC: 1B           	tcs
 23208 06:5DDD: 0B           	phd
 23209 06:5DDE: 5B           	tcd
 23210             00000004   x_0	set	4
 23211             00000008   y_0	set	8
 23212             0000000C   width_0	set	12
 23213             0000000E   height_0	set	14
 23214             00000010   pattern_0	set	16
 23215                        	.block	3621
 23216                        ;	ULONG pos = 0L;
 23217                        ;	BOOL odd = FALSE;
 23218                        ;	long startLocation = (long)(( ((long)y) * 640L) 
                    + ((long)x) );
 23219                        ;	long endLocation   = (long)(( ((long)479) * 640L
                    ) + ((long)639) );
 23220                        ;
 23221                        ;	///k_paint_brush_at_address((char FAR * )pixelLo
                    cation, width, height,pattern);
 23222                        ;
 23223                        ;	for(pos=0;pos<479;pos++)
 23224             00000000   pos_1	set	0
  Mon Sep 27 2021  9:39                                                Page 428


 23225             00000004   odd_1	set	4
 23226             00000005   startLocation_1	set	5
 23227             00000009   endLocation_1	set	9
 23228                        	.sym	pos,0,18,1,32
 23229                        	.sym	odd,4,14,1,8
 23230                        	.sym	startLocation,5,7,1,32
 23231                        	.sym	endLocation,9,7,1,32
 23232                        	.sym	x,4,7,6,32
 23233                        	.sym	y,8,7,6,32
 23234                        	.sym	width,12,5,6,16
 23235                        	.sym	height,14,5,6,16
 23236                        	.sym	pattern,16,14,6,8
 23237 06:5DDF: 64 0D        	stz	<L1062+pos_1
 23238 06:5DE1: 64 0F        	stz	<L1062+pos_1+2
 23239 06:5DE3: E2 20        	sep	#$20
 23240                        	longa	off
 23241 06:5DE5: 64 11        	stz	<L1062+odd_1
 23242 06:5DE7: C2 20        	rep	#$20
 23243                        	longa	on
 23244 06:5DE9: F4 00 00     	pea	#^$280
 23245 06:5DEC: F4 80 02     	pea	#<$280
 23246 06:5DEF: D4 23        	pei	<L1061+y_0+2
 23247 06:5DF1: D4 21        	pei	<L1061+y_0
 23248                        	xref	~~~lmul
 23249 06:5DF3: 22 xx xx xx  	jsl	~~~lmul
 23250 06:5DF7: 85 01        	sta	<R0
 23251 06:5DF9: 86 03        	stx	<R0+2
 23252 06:5DFB: 18           	clc
 23253 06:5DFC: A5 01        	lda	<R0
 23254 06:5DFE: 65 1D        	adc	<L1061+x_0
 23255 06:5E00: 85 12        	sta	<L1062+startLocation_1
 23256 06:5E02: A5 03        	lda	<R0+2
 23257 06:5E04: 65 1F        	adc	<L1061+x_0+2
 23258 06:5E06: 85 14        	sta	<L1062+startLocation_1+2
 23259 06:5E08: A9 FF AF     	lda	#$afff
 23260 06:5E0B: 85 16        	sta	<L1062+endLocation_1
 23261 06:5E0D: A9 04 00     	lda	#$4
 23262 06:5E10: 85 18        	sta	<L1062+endLocation_1+2
 23263                        	.line	3629
 23264 06:5E12: 64 0D        	stz	<L1062+pos_1
 23265 06:5E14: 64 0F        	stz	<L1062+pos_1+2
 23266                        L10417:
 23267                        ;	{
 23268                        	.line	3630
 23269                        ;		if(odd)
 23270                        	.line	3631
 23271                        ;		{
 23272 06:5E16: A5 11        	lda	<L1062+odd_1
 23273 06:5E18: 29 FF 00     	and	#$ff
 23274 06:5E1B: D0 03        	bne	L1064
 23275 06:5E1D: 82 3D 00     	brl	L10418
 23276                        L1064:
 23277                        	.line	3632
 23278                        ;			memcpy( (LPCHAR)(0xB00000 + ((lo
                    ng)pos) * 640L)   ,BG_FILL_LINE_ODD,80);
 23279                        	.line	3633
 23280 06:5E20: F4 50 00     	pea	#<$50
 23281 06:5E23: A9 xx xx     	lda	#<~~BG_FILL_LINE_ODD
  Mon Sep 27 2021  9:39                                                Page 429


 23282 06:5E26: 85 01        	sta	<R0
 23283                        	xref	_BEG_DATA
 23284 06:5E28: A9 xx xx     	lda	#_BEG_DATA>>16
 23285 06:5E2B: 85 03        	sta	<R0+2
 23286 06:5E2D: D4 03        	pei	<R0+2
 23287 06:5E2F: D4 01        	pei	<R0
 23288 06:5E31: F4 00 00     	pea	#^$280
 23289 06:5E34: F4 80 02     	pea	#<$280
 23290 06:5E37: D4 0F        	pei	<L1062+pos_1+2
 23291 06:5E39: D4 0D        	pei	<L1062+pos_1
 23292                        	xref	~~~lmul
 23293 06:5E3B: 22 xx xx xx  	jsl	~~~lmul
 23294 06:5E3F: 85 05        	sta	<R1
 23295 06:5E41: 86 07        	stx	<R1+2
 23296 06:5E43: 18           	clc
 23297 06:5E44: A9 00 00     	lda	#$0
 23298 06:5E47: 65 05        	adc	<R1
 23299 06:5E49: 85 09        	sta	<R2
 23300 06:5E4B: A9 B0 00     	lda	#$b0
 23301 06:5E4E: 65 07        	adc	<R1+2
 23302 06:5E50: 85 0B        	sta	<R2+2
 23303 06:5E52: D4 0B        	pei	<R2+2
 23304 06:5E54: D4 09        	pei	<R2
 23305 06:5E56: 22 xx xx xx  	jsl	~~memcpy
 23306                        ;		}
 23307                        	.line	3634
 23308                        ;		else
 23309 06:5E5A: 82 3A 00     	brl	L10419
 23310                        L10418:
 23311                        ;		{
 23312                        	.line	3636
 23313                        ;			memcpy( (LPCHAR)(0xB00000 + ((lo
                    ng)pos) * 640L) ,BG_FILL_LINE_EVEN,80);
 23314                        	.line	3637
 23315 06:5E5D: F4 50 00     	pea	#<$50
 23316 06:5E60: A9 xx xx     	lda	#<~~BG_FILL_LINE_EVEN
 23317 06:5E63: 85 01        	sta	<R0
 23318                        	xref	_BEG_DATA
 23319 06:5E65: A9 xx xx     	lda	#_BEG_DATA>>16
 23320 06:5E68: 85 03        	sta	<R0+2
 23321 06:5E6A: D4 03        	pei	<R0+2
 23322 06:5E6C: D4 01        	pei	<R0
 23323 06:5E6E: F4 00 00     	pea	#^$280
 23324 06:5E71: F4 80 02     	pea	#<$280
 23325 06:5E74: D4 0F        	pei	<L1062+pos_1+2
 23326 06:5E76: D4 0D        	pei	<L1062+pos_1
 23327                        	xref	~~~lmul
 23328 06:5E78: 22 xx xx xx  	jsl	~~~lmul
 23329 06:5E7C: 85 05        	sta	<R1
 23330 06:5E7E: 86 07        	stx	<R1+2
 23331 06:5E80: 18           	clc
 23332 06:5E81: A9 00 00     	lda	#$0
 23333 06:5E84: 65 05        	adc	<R1
 23334 06:5E86: 85 09        	sta	<R2
 23335 06:5E88: A9 B0 00     	lda	#$b0
 23336 06:5E8B: 65 07        	adc	<R1+2
 23337 06:5E8D: 85 0B        	sta	<R2+2
 23338 06:5E8F: D4 0B        	pei	<R2+2
  Mon Sep 27 2021  9:39                                                Page 430


 23339 06:5E91: D4 09        	pei	<R2
 23340 06:5E93: 22 xx xx xx  	jsl	~~memcpy
 23341                        ;
 23342                        ;		}
 23343                        	.line	3639
 23344                        L10419:
 23345                        ;		odd=!odd;
 23346                        	.line	3640
 23347 06:5E97: 64 01        	stz	<R0
 23348 06:5E99: A5 11        	lda	<L1062+odd_1
 23349 06:5E9B: 29 FF 00     	and	#$ff
 23350 06:5E9E: F0 03        	beq	L1066
 23351 06:5EA0: 82 02 00     	brl	L1065
 23352                        L1066:
 23353 06:5EA3: E6 01        	inc	<R0
 23354                        L1065:
 23355 06:5EA5: E2 20        	sep	#$20
 23356                        	longa	off
 23357 06:5EA7: A5 01        	lda	<R0
 23358 06:5EA9: 85 11        	sta	<L1062+odd_1
 23359 06:5EAB: C2 20        	rep	#$20
 23360                        	longa	on
 23361                        ;	}
 23362                        	.line	3641
 23363                        L10415:
 23364 06:5EAD: E6 0D        	inc	<L1062+pos_1
 23365 06:5EAF: D0 02        	bne	L1067
 23366 06:5EB1: E6 0F        	inc	<L1062+pos_1+2
 23367                        L1067:
 23368 06:5EB3: A5 0D        	lda	<L1062+pos_1
 23369 06:5EB5: C9 DF 01     	cmp	#<$1df
 23370 06:5EB8: A5 0F        	lda	<L1062+pos_1+2
 23371 06:5EBA: E9 00 00     	sbc	#^$1df
 23372 06:5EBD: B0 03        	bcs	L1068
 23373 06:5EBF: 82 54 FF     	brl	L10417
 23374                        L1068:
 23375                        L10416:
 23376                        ;
 23377                        ;
 23378                        ;
 23379                        ;	return;
 23380                        	.line	3645
 23381                        L1069:
 23382 06:5EC2: A5 1B        	lda	<L1061+2
 23383 06:5EC4: 85 29        	sta	<L1061+2+14
 23384 06:5EC6: A5 1A        	lda	<L1061+1
 23385 06:5EC8: 85 28        	sta	<L1061+1+14
 23386 06:5ECA: 2B           	pld
 23387 06:5ECB: 3B           	tsc
 23388 06:5ECC: 18           	clc
 23389 06:5ECD: 69 27 00     	adc	#L1061+14
 23390 06:5ED0: 1B           	tcs
 23391 06:5ED1: 6B           	rtl
 23392                        ;}
 23393                        	.line	3646
 23394                        	.endblock	3646
 23395             00000019   L1061	equ	25
 23396             0000000D   L1062	equ	13
  Mon Sep 27 2021  9:39                                                Page 431


 23397 06:5ED2:              	ends
 23398                        	efunc
 23399                        	.endfunc	3646,13,25
 23400                        	.line	3646
 23401                        ;
 23402                        ;void k_paint_brush_at_address(char FAR * pdst,int
                     width,int height,BYTE pattern)
 23403                        ;{
 23404                        	.line	3648
 23405                        	.line	3649
 23406                        	GFX
 23407                        	xdef	~~k_paint_brush_at_address
 23408                        	func
 23409                        	.function	3649
 23410                        ~~k_paint_brush_at_address:
 23411                        	longa	on
 23412                        	longi	on
 23413 06:5ED2: 3B           	tsc
 23414 06:5ED3: 38           	sec
 23415 06:5ED4: E9 0D 00     	sbc	#L1070
 23416 06:5ED7: 1B           	tcs
 23417 06:5ED8: 0B           	phd
 23418 06:5ED9: 5B           	tcd
 23419             00000004   pdst_0	set	4
 23420             00000008   width_0	set	8
 23421             0000000A   height_0	set	10
 23422             0000000C   pattern_0	set	12
 23423                        	.block	3649
 23424                        ;	int pos = 0;
 23425                        ;	int spinLock = 0;
 23426                        ;	char status = VDMA_STAT_VDMA_IPS;
 23427                        ;
 23428                        ;
 23429                        ;	while(status == VDMA_STAT_VDMA_IPS)
 23430             00000000   pos_1	set	0
 23431             00000002   spinLock_1	set	2
 23432             00000004   status_1	set	4
 23433                        	.sym	pos,0,5,1,16
 23434                        	.sym	spinLock,2,5,1,16
 23435                        	.sym	status,4,14,1,8
 23436                        	.sym	pdst,4,142,6,32
 23437                        	.sym	width,8,5,6,16
 23438                        	.sym	height,10,5,6,16
 23439                        	.sym	pattern,12,14,6,8
 23440 06:5EDA: 64 09        	stz	<L1071+pos_1
 23441 06:5EDC: 64 0B        	stz	<L1071+spinLock_1
 23442 06:5EDE: E2 20        	sep	#$20
 23443                        	longa	off
 23444 06:5EE0: A9 80        	lda	#$80
 23445 06:5EE2: 85 0D        	sta	<L1071+status_1
 23446 06:5EE4: C2 20        	rep	#$20
 23447                        	longa	on
 23448                        	.line	3655
 23449                        L10420:
 23450 06:5EE6: E2 20        	sep	#$20
 23451                        	longa	off
 23452 06:5EE8: A5 0D        	lda	<L1071+status_1
 23453 06:5EEA: C9 80        	cmp	#<$80
  Mon Sep 27 2021  9:39                                                Page 432


 23454 06:5EEC: C2 20        	rep	#$20
 23455                        	longa	on
 23456 06:5EEE: F0 03        	beq	L1073
 23457 06:5EF0: 82 0F 00     	brl	L10421
 23458                        L1073:
 23459                        ;	{
 23460                        	.line	3656
 23461                        ;		status = (VDMA_STATUS_REG[0] & VDMA_STAT
                    _VDMA_IPS);
 23462                        	.line	3657
 23463 06:5EF3: E2 20        	sep	#$20
 23464                        	longa	off
 23465 06:5EF5: AF 01 04 AF  	lda	>11469825
 23466 06:5EF9: 29 80        	and	#<$80
 23467 06:5EFB: 85 0D        	sta	<L1071+status_1
 23468 06:5EFD: C2 20        	rep	#$20
 23469                        	longa	on
 23470                        ;	}
 23471                        	.line	3658
 23472 06:5EFF: 82 E4 FF     	brl	L10420
 23473                        L10421:
 23474                        ;
 23475                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE | VDMA_CT
                    RL_TRF_FILL;
 23476                        	.line	3660
 23477 06:5F02: E2 20        	sep	#$20
 23478                        	longa	off
 23479 06:5F04: A9 05        	lda	#$5
 23480 06:5F06: 8F 00 04 AF  	sta	>11469824
 23481 06:5F0A: C2 20        	rep	#$20
 23482                        	longa	on
 23483                        ;
 23484                        ;	*BM_START_ADDY_L = 0x00;
 23485                        	.line	3662
 23486 06:5F0C: E2 20        	sep	#$20
 23487                        	longa	off
 23488 06:5F0E: A9 00        	lda	#$0
 23489 06:5F10: 8F 41 01 AF  	sta	>11469121
 23490 06:5F14: C2 20        	rep	#$20
 23491                        	longa	on
 23492                        ;	*BM_START_ADDY_M = 0x00;
 23493                        	.line	3663
 23494 06:5F16: E2 20        	sep	#$20
 23495                        	longa	off
 23496 06:5F18: A9 00        	lda	#$0
 23497 06:5F1A: 8F 42 01 AF  	sta	>11469122
 23498 06:5F1E: C2 20        	rep	#$20
 23499                        	longa	on
 23500                        ;	*BM_START_ADDY_H = 0x00;
 23501                        	.line	3664
 23502 06:5F20: E2 20        	sep	#$20
 23503                        	longa	off
 23504 06:5F22: A9 00        	lda	#$0
 23505 06:5F24: 8F 43 01 AF  	sta	>11469123
 23506 06:5F28: C2 20        	rep	#$20
 23507                        	longa	on
 23508                        ;	*((char FAR*)0xAF1F80) = 0x02;
 23509                        	.line	3665
  Mon Sep 27 2021  9:39                                                Page 433


 23510 06:5F2A: E2 20        	sep	#$20
 23511                        	longa	off
 23512 06:5F2C: A9 02        	lda	#$2
 23513 06:5F2E: 8F 80 1F AF  	sta	>11476864
 23514 06:5F32: C2 20        	rep	#$20
 23515                        	longa	on
 23516                        ;
 23517                        ;	*BM_X_SIZE_L = 0x80;
 23518                        	.line	3667
 23519 06:5F34: E2 20        	sep	#$20
 23520                        	longa	off
 23521 06:5F36: A9 80        	lda	#$80
 23522 06:5F38: 8F 44 01 AF  	sta	>11469124
 23523 06:5F3C: C2 20        	rep	#$20
 23524                        	longa	on
 23525                        ;	*BM_X_SIZE_H = 0x02;
 23526                        	.line	3668
 23527 06:5F3E: E2 20        	sep	#$20
 23528                        	longa	off
 23529 06:5F40: A9 02        	lda	#$2
 23530 06:5F42: 8F 45 01 AF  	sta	>11469125
 23531 06:5F46: C2 20        	rep	#$20
 23532                        	longa	on
 23533                        ;	*BM_Y_SIZE_L = 0xE0;
 23534                        	.line	3669
 23535 06:5F48: E2 20        	sep	#$20
 23536                        	longa	off
 23537 06:5F4A: A9 E0        	lda	#$e0
 23538 06:5F4C: 8F 46 01 AF  	sta	>11469126
 23539 06:5F50: C2 20        	rep	#$20
 23540                        	longa	on
 23541                        ;	*BM_Y_SIZE_H = 0x01;
 23542                        	.line	3670
 23543 06:5F52: E2 20        	sep	#$20
 23544                        	longa	off
 23545 06:5F54: A9 01        	lda	#$1
 23546 06:5F56: 8F 47 01 AF  	sta	>11469127
 23547 06:5F5A: C2 20        	rep	#$20
 23548                        	longa	on
 23549                        ;
 23550                        ;	*VDMA_X_SIZE_L = LOBYTE(width);
 23551                        	.line	3672
 23552 06:5F5C: E2 20        	sep	#$20
 23553                        	longa	off
 23554 06:5F5E: A5 15        	lda	<L1070+width_0
 23555 06:5F60: 8F 08 04 AF  	sta	>11469832
 23556 06:5F64: C2 20        	rep	#$20
 23557                        	longa	on
 23558                        ;	*VDMA_X_SIZE_H = HIBYTE(width);
 23559                        	.line	3673
 23560 06:5F66: A5 15        	lda	<L1070+width_0
 23561 06:5F68: A2 08 00     	ldx	#<$8
 23562                        	xref	~~~asr
 23563 06:5F6B: 22 xx xx xx  	jsl	~~~asr
 23564 06:5F6F: 29 FF 00     	and	#<$ff
 23565 06:5F72: 85 01        	sta	<R0
 23566 06:5F74: E2 20        	sep	#$20
 23567                        	longa	off
  Mon Sep 27 2021  9:39                                                Page 434


 23568 06:5F76: A5 01        	lda	<R0
 23569 06:5F78: 8F 09 04 AF  	sta	>11469833
 23570 06:5F7C: C2 20        	rep	#$20
 23571                        	longa	on
 23572                        ;
 23573                        ;	*VDMA_Y_SIZE_L = LOBYTE(height);
 23574                        	.line	3675
 23575 06:5F7E: E2 20        	sep	#$20
 23576                        	longa	off
 23577 06:5F80: A5 17        	lda	<L1070+height_0
 23578 06:5F82: 8F 0A 04 AF  	sta	>11469834
 23579 06:5F86: C2 20        	rep	#$20
 23580                        	longa	on
 23581                        ;	*VDMA_Y_SIZE_H = HIBYTE(height);
 23582                        	.line	3676
 23583 06:5F88: A5 17        	lda	<L1070+height_0
 23584 06:5F8A: A2 08 00     	ldx	#<$8
 23585                        	xref	~~~asr
 23586 06:5F8D: 22 xx xx xx  	jsl	~~~asr
 23587 06:5F91: 29 FF 00     	and	#<$ff
 23588 06:5F94: 85 01        	sta	<R0
 23589 06:5F96: E2 20        	sep	#$20
 23590                        	longa	off
 23591 06:5F98: A5 01        	lda	<R0
 23592 06:5F9A: 8F 0B 04 AF  	sta	>11469835
 23593 06:5F9E: C2 20        	rep	#$20
 23594                        	longa	on
 23595                        ;
 23596                        ;	*VDMA_DST_STRIDE_L = 0x80;
 23597                        	.line	3678
 23598 06:5FA0: E2 20        	sep	#$20
 23599                        	longa	off
 23600 06:5FA2: A9 80        	lda	#$80
 23601 06:5FA4: 8F 0E 04 AF  	sta	>11469838
 23602 06:5FA8: C2 20        	rep	#$20
 23603                        	longa	on
 23604                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 23605                        	.line	3679
 23606 06:5FAA: E2 20        	sep	#$20
 23607                        	longa	off
 23608 06:5FAC: A9 02        	lda	#$2
 23609 06:5FAE: 8F 0F 04 AF  	sta	>11469839
 23610 06:5FB2: C2 20        	rep	#$20
 23611                        	longa	on
 23612                        ;
 23613                        ;
 23614                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 23615                        	.line	3682
 23616 06:5FB4: E2 20        	sep	#$20
 23617                        	longa	off
 23618 06:5FB6: A5 11        	lda	<L1070+pdst_0
 23619 06:5FB8: 8F 05 04 AF  	sta	>11469829
 23620 06:5FBC: C2 20        	rep	#$20
 23621                        	longa	on
 23622                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 23623                        	.line	3683
 23624 06:5FBE: D4 13        	pei	<L1070+pdst_0+2
 23625 06:5FC0: D4 11        	pei	<L1070+pdst_0
  Mon Sep 27 2021  9:39                                                Page 435


 23626 06:5FC2: A9 08 00     	lda	#$8
 23627                        	xref	~~~llsr
 23628 06:5FC5: 22 xx xx xx  	jsl	~~~llsr
 23629 06:5FC9: 85 01        	sta	<R0
 23630 06:5FCB: 86 03        	stx	<R0+2
 23631 06:5FCD: A5 01        	lda	<R0
 23632 06:5FCF: 29 FF 00     	and	#<$ff
 23633 06:5FD2: 85 05        	sta	<R1
 23634 06:5FD4: 64 07        	stz	<R1+2
 23635 06:5FD6: E2 20        	sep	#$20
 23636                        	longa	off
 23637 06:5FD8: A5 05        	lda	<R1
 23638 06:5FDA: 8F 06 04 AF  	sta	>11469830
 23639 06:5FDE: C2 20        	rep	#$20
 23640                        	longa	on
 23641                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 23642                        	.line	3684
 23643 06:5FE0: D4 13        	pei	<L1070+pdst_0+2
 23644 06:5FE2: D4 11        	pei	<L1070+pdst_0
 23645 06:5FE4: A9 10 00     	lda	#$10
 23646                        	xref	~~~llsr
 23647 06:5FE7: 22 xx xx xx  	jsl	~~~llsr
 23648 06:5FEB: 85 01        	sta	<R0
 23649 06:5FED: 86 03        	stx	<R0+2
 23650 06:5FEF: A5 01        	lda	<R0
 23651 06:5FF1: 29 FF 00     	and	#<$ff
 23652 06:5FF4: 85 05        	sta	<R1
 23653 06:5FF6: 64 07        	stz	<R1+2
 23654 06:5FF8: E2 20        	sep	#$20
 23655                        	longa	off
 23656 06:5FFA: A5 05        	lda	<R1
 23657 06:5FFC: 8F 07 04 AF  	sta	>11469831
 23658 06:6000: C2 20        	rep	#$20
 23659                        	longa	on
 23660                        ;
 23661                        ;	VDMA_BYTE_2_WRITE[0] = pattern;
 23662                        	.line	3686
 23663 06:6002: E2 20        	sep	#$20
 23664                        	longa	off
 23665 06:6004: A5 19        	lda	<L1070+pattern_0
 23666 06:6006: 8F 01 04 AF  	sta	>11469825
 23667 06:600A: C2 20        	rep	#$20
 23668                        	longa	on
 23669                        ;
 23670                        ;	VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VDMA_
                    CTRL_TRF_FILL | VDMA_CTRL_START_TRF);
 23671                        	.line	3688
 23672 06:600C: E2 20        	sep	#$20
 23673                        	longa	off
 23674 06:600E: A9 85        	lda	#$85
 23675 06:6010: 8F 00 04 AF  	sta	>11469824
 23676 06:6014: C2 20        	rep	#$20
 23677                        	longa	on
 23678                        ;
 23679                        ;
 23680                        ;   return ;
 23681                        	.line	3691
 23682                        L1074:
  Mon Sep 27 2021  9:39                                                Page 436


 23683 06:6016: A5 0F        	lda	<L1070+2
 23684 06:6018: 85 19        	sta	<L1070+2+10
 23685 06:601A: A5 0E        	lda	<L1070+1
 23686 06:601C: 85 18        	sta	<L1070+1+10
 23687 06:601E: 2B           	pld
 23688 06:601F: 3B           	tsc
 23689 06:6020: 18           	clc
 23690 06:6021: 69 17 00     	adc	#L1070+10
 23691 06:6024: 1B           	tcs
 23692 06:6025: 6B           	rtl
 23693                        ;}
 23694                        	.line	3692
 23695                        	.endblock	3692
 23696             0000000D   L1070	equ	13
 23697             00000009   L1071	equ	9
 23698 06:6026:              	ends
 23699                        	efunc
 23700                        	.endfunc	3692,9,13
 23701                        	.line	3692
 23702                        ;
 23703                        ;void k_vdma_move_rect(long x,long y,int width,int
                     height,int dx,int dy,unsigned char pcolor,UINT page)
 23704                        ;{
 23705                        	.line	3694
 23706                        	.line	3695
 23707                        	GFX
 23708                        	xdef	~~k_vdma_move_rect
 23709                        	func
 23710                        	.function	3695
 23711                        ~~k_vdma_move_rect:
 23712                        	longa	on
 23713                        	longi	on
 23714 06:6026: 3B           	tsc
 23715 06:6027: 38           	sec
 23716 06:6028: E9 0E 00     	sbc	#L1075
 23717 06:602B: 1B           	tcs
 23718 06:602C: 0B           	phd
 23719 06:602D: 5B           	tcd
 23720             00000004   x_0	set	4
 23721             00000008   y_0	set	8
 23722             0000000C   width_0	set	12
 23723             0000000E   height_0	set	14
 23724             00000010   dx_0	set	16
 23725             00000012   dy_0	set	18
 23726             00000014   pcolor_0	set	20
 23727             00000016   page_0	set	22
 23728                        	.block	3695
 23729                        ;	int slice = 0;
 23730                        ;
 23731                        ;	if(dx > 0)
 23732             00000000   slice_1	set	0
 23733                        	.sym	slice,0,5,1,16
 23734                        	.sym	x,4,7,6,32
 23735                        	.sym	y,8,7,6,32
 23736                        	.sym	width,12,5,6,16
 23737                        	.sym	height,14,5,6,16
 23738                        	.sym	dx,16,5,6,16
 23739                        	.sym	dy,18,5,6,16
  Mon Sep 27 2021  9:39                                                Page 437


 23740                        	.sym	pcolor,20,14,6,8
 23741                        	.sym	page,22,16,6,16
 23742 06:602E: 64 0D        	stz	<L1076+slice_1
 23743                        	.line	3698
 23744                        ;	{
 23745 06:6030: 38           	sec
 23746 06:6031: A9 00 00     	lda	#$0
 23747 06:6034: E5 1E        	sbc	<L1075+dx_0
 23748 06:6036: 70 03        	bvs	L1078
 23749 06:6038: 49 00 80     	eor	#$8000
 23750                        L1078:
 23751 06:603B: 10 03        	bpl	L1079
 23752 06:603D: 82 62 00     	brl	L10422
 23753                        L1079:
 23754                        	.line	3699
 23755                        ;		slice = dx;
 23756                        	.line	3700
 23757 06:6040: A5 1E        	lda	<L1075+dx_0
 23758 06:6042: 85 0D        	sta	<L1076+slice_1
 23759                        ;		k_vdma_fill_rect_ex(x+width,y,slice,heig
                    ht,pcolor,page);
 23760                        	.line	3701
 23761 06:6044: D4 24        	pei	<L1075+page_0
 23762 06:6046: D4 22        	pei	<L1075+pcolor_0
 23763 06:6048: D4 1C        	pei	<L1075+height_0
 23764 06:604A: D4 0D        	pei	<L1076+slice_1
 23765 06:604C: D4 18        	pei	<L1075+y_0+2
 23766 06:604E: D4 16        	pei	<L1075+y_0
 23767 06:6050: A0 00 00     	ldy	#$0
 23768 06:6053: A5 1A        	lda	<L1075+width_0
 23769 06:6055: 10 01        	bpl	L1080
 23770 06:6057: 88           	dey
 23771                        L1080:
 23772 06:6058: 85 01        	sta	<R0
 23773 06:605A: 84 03        	sty	<R0+2
 23774 06:605C: 18           	clc
 23775 06:605D: A5 01        	lda	<R0
 23776 06:605F: 65 12        	adc	<L1075+x_0
 23777 06:6061: 85 05        	sta	<R1
 23778 06:6063: A5 03        	lda	<R0+2
 23779 06:6065: 65 14        	adc	<L1075+x_0+2
 23780 06:6067: 85 07        	sta	<R1+2
 23781 06:6069: D4 07        	pei	<R1+2
 23782 06:606B: D4 05        	pei	<R1
 23783 06:606D: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 23784                        ;		k_vdma_fill_rect_ex(x-dx,y,slice,height,
                    FILLCOLOR_TRANSPARENT,page);
 23785                        	.line	3702
 23786 06:6071: D4 24        	pei	<L1075+page_0
 23787 06:6073: F4 00 00     	pea	#<$0
 23788 06:6076: D4 1C        	pei	<L1075+height_0
 23789 06:6078: D4 0D        	pei	<L1076+slice_1
 23790 06:607A: D4 18        	pei	<L1075+y_0+2
 23791 06:607C: D4 16        	pei	<L1075+y_0
 23792 06:607E: A0 00 00     	ldy	#$0
 23793 06:6081: A5 1E        	lda	<L1075+dx_0
 23794 06:6083: 10 01        	bpl	L1081
 23795 06:6085: 88           	dey
  Mon Sep 27 2021  9:39                                                Page 438


 23796                        L1081:
 23797 06:6086: 85 01        	sta	<R0
 23798 06:6088: 84 03        	sty	<R0+2
 23799 06:608A: 38           	sec
 23800 06:608B: A5 12        	lda	<L1075+x_0
 23801 06:608D: E5 01        	sbc	<R0
 23802 06:608F: 85 05        	sta	<R1
 23803 06:6091: A5 14        	lda	<L1075+x_0+2
 23804 06:6093: E5 03        	sbc	<R0+2
 23805 06:6095: 85 07        	sta	<R1+2
 23806 06:6097: D4 07        	pei	<R1+2
 23807 06:6099: D4 05        	pei	<R1
 23808 06:609B: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 23809                        ;	}
 23810                        	.line	3703
 23811                        ;	else if (dx < 0)
 23812 06:609F: 82 83 00     	brl	L10423
 23813                        L10422:
 23814                        	.line	3704
 23815                        ;	{
 23816 06:60A2: A5 1E        	lda	<L1075+dx_0
 23817 06:60A4: 30 03        	bmi	L1082
 23818 06:60A6: 82 7C 00     	brl	L10424
 23819                        L1082:
 23820                        	.line	3705
 23821                        ;		slice = (-1*dx);
 23822                        	.line	3706
 23823 06:60A9: 38           	sec
 23824 06:60AA: A9 00 00     	lda	#$0
 23825 06:60AD: E5 1E        	sbc	<L1075+dx_0
 23826 06:60AF: 85 0D        	sta	<L1076+slice_1
 23827                        ;		k_vdma_fill_rect_ex(x+dx,y,slice,height,
                    pcolor,page);
 23828                        	.line	3707
 23829 06:60B1: D4 24        	pei	<L1075+page_0
 23830 06:60B3: D4 22        	pei	<L1075+pcolor_0
 23831 06:60B5: D4 1C        	pei	<L1075+height_0
 23832 06:60B7: D4 0D        	pei	<L1076+slice_1
 23833 06:60B9: D4 18        	pei	<L1075+y_0+2
 23834 06:60BB: D4 16        	pei	<L1075+y_0
 23835 06:60BD: A0 00 00     	ldy	#$0
 23836 06:60C0: A5 1E        	lda	<L1075+dx_0
 23837 06:60C2: 10 01        	bpl	L1083
 23838 06:60C4: 88           	dey
 23839                        L1083:
 23840 06:60C5: 85 01        	sta	<R0
 23841 06:60C7: 84 03        	sty	<R0+2
 23842 06:60C9: 18           	clc
 23843 06:60CA: A5 01        	lda	<R0
 23844 06:60CC: 65 12        	adc	<L1075+x_0
 23845 06:60CE: 85 05        	sta	<R1
 23846 06:60D0: A5 03        	lda	<R0+2
 23847 06:60D2: 65 14        	adc	<L1075+x_0+2
 23848 06:60D4: 85 07        	sta	<R1+2
 23849 06:60D6: D4 07        	pei	<R1+2
 23850 06:60D8: D4 05        	pei	<R1
 23851 06:60DA: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 23852                        ;		k_vdma_fill_rect_ex(x+width-slice,y,slic
  Mon Sep 27 2021  9:39                                                Page 439


                    e,height,FILLCOLOR_TRANSPARENT,page);
 23853                        	.line	3708
 23854 06:60DE: D4 24        	pei	<L1075+page_0
 23855 06:60E0: F4 00 00     	pea	#<$0
 23856 06:60E3: D4 1C        	pei	<L1075+height_0
 23857 06:60E5: D4 0D        	pei	<L1076+slice_1
 23858 06:60E7: D4 18        	pei	<L1075+y_0+2
 23859 06:60E9: D4 16        	pei	<L1075+y_0
 23860 06:60EB: A0 00 00     	ldy	#$0
 23861 06:60EE: A5 0D        	lda	<L1076+slice_1
 23862 06:60F0: 10 01        	bpl	L1084
 23863 06:60F2: 88           	dey
 23864                        L1084:
 23865 06:60F3: 85 01        	sta	<R0
 23866 06:60F5: 84 03        	sty	<R0+2
 23867 06:60F7: A0 00 00     	ldy	#$0
 23868 06:60FA: A5 1A        	lda	<L1075+width_0
 23869 06:60FC: 10 01        	bpl	L1085
 23870 06:60FE: 88           	dey
 23871                        L1085:
 23872 06:60FF: 85 05        	sta	<R1
 23873 06:6101: 84 07        	sty	<R1+2
 23874 06:6103: 18           	clc
 23875 06:6104: A5 05        	lda	<R1
 23876 06:6106: 65 12        	adc	<L1075+x_0
 23877 06:6108: 85 09        	sta	<R2
 23878 06:610A: A5 07        	lda	<R1+2
 23879 06:610C: 65 14        	adc	<L1075+x_0+2
 23880 06:610E: 85 0B        	sta	<R2+2
 23881 06:6110: 38           	sec
 23882 06:6111: A5 09        	lda	<R2
 23883 06:6113: E5 01        	sbc	<R0
 23884 06:6115: 85 05        	sta	<R1
 23885 06:6117: A5 0B        	lda	<R2+2
 23886 06:6119: E5 03        	sbc	<R0+2
 23887 06:611B: 85 07        	sta	<R1+2
 23888 06:611D: D4 07        	pei	<R1+2
 23889 06:611F: D4 05        	pei	<R1
 23890 06:6121: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 23891                        ;	}
 23892                        	.line	3709
 23893                        ;}
 23894                        L10424:
 23895                        L10423:
 23896                        	.line	3710
 23897                        L1086:
 23898 06:6125: A5 10        	lda	<L1075+2
 23899 06:6127: 85 24        	sta	<L1075+2+20
 23900 06:6129: A5 0F        	lda	<L1075+1
 23901 06:612B: 85 23        	sta	<L1075+1+20
 23902 06:612D: 2B           	pld
 23903 06:612E: 3B           	tsc
 23904 06:612F: 18           	clc
 23905 06:6130: 69 22 00     	adc	#L1075+20
 23906 06:6133: 1B           	tcs
 23907 06:6134: 6B           	rtl
 23908                        	.endblock	3710
 23909             0000000E   L1075	equ	14
  Mon Sep 27 2021  9:39                                                Page 440


 23910             0000000D   L1076	equ	13
 23911 06:6135:              	ends
 23912                        	efunc
 23913                        	.endfunc	3710,13,14
 23914                        	.line	3710
 23915                        ;
 23916                        ;void k_vdma_fill_rect_ex(long x,long y,int width,
                    int height,unsigned char pcolor,UINT page)
 23917                        ;{
 23918                        	.line	3712
 23919                        	.line	3713
 23920                        	GFX
 23921                        	xdef	~~k_vdma_fill_rect_ex
 23922                        	func
 23923                        	.function	3713
 23924                        ~~k_vdma_fill_rect_ex:
 23925                        	longa	on
 23926                        	longi	on
 23927 06:6135: 3B           	tsc
 23928 06:6136: 38           	sec
 23929 06:6137: E9 1C 00     	sbc	#L1087
 23930 06:613A: 1B           	tcs
 23931 06:613B: 0B           	phd
 23932 06:613C: 5B           	tcd
 23933             00000004   x_0	set	4
 23934             00000008   y_0	set	8
 23935             0000000C   width_0	set	12
 23936             0000000E   height_0	set	14
 23937             00000010   pcolor_0	set	16
 23938             00000012   page_0	set	18
 23939                        	.block	3713
 23940                        ;	long pixelLocation = 0L;
 23941                        ;
 23942                        ;	long gpxLo = GUI_POINT_LIMIT_X_LO;
 23943                        ;	long gpxHi = GUI_POINT_LIMIT_X_HI;
 23944                        ;	long gpyLo = GUI_POINT_LIMIT_Y_LO;
 23945                        ;	long gpyHi = GUI_POINT_LIMIT_Y_HI;
 23946                        ;
 23947                        ;
 23948                        ;	/*
 23949                        ;	if(width > 640)
 23950                        ;	{
 23951                        ;		gpxHi = GUI_POINT_LIMIT_X_HIX;
 23952                        ;		gpyHi = GUI_POINT_LIMIT_Y_HIX;
 23953                        ;	}
 23954                        ;	*/
 23955                        ;
 23956                        ;	if(x < gpxLo)
 23957             00000000   pixelLocation_1	set	0
 23958             00000004   gpxLo_1	set	4
 23959             00000008   gpxHi_1	set	8
 23960             0000000C   gpyLo_1	set	12
 23961             00000010   gpyHi_1	set	16
 23962                        	.sym	pixelLocation,0,7,1,32
 23963                        	.sym	gpxLo,4,7,1,32
 23964                        	.sym	gpxHi,8,7,1,32
 23965                        	.sym	gpyLo,12,7,1,32
 23966                        	.sym	gpyHi,16,7,1,32
  Mon Sep 27 2021  9:39                                                Page 441


 23967                        	.sym	x,4,7,6,32
 23968                        	.sym	y,8,7,6,32
 23969                        	.sym	width,12,5,6,16
 23970                        	.sym	height,14,5,6,16
 23971                        	.sym	pcolor,16,14,6,8
 23972                        	.sym	page,18,16,6,16
 23973 06:613D: 64 09        	stz	<L1088+pixelLocation_1
 23974 06:613F: 64 0B        	stz	<L1088+pixelLocation_1+2
 23975 06:6141: 64 0D        	stz	<L1088+gpxLo_1
 23976 06:6143: 64 0F        	stz	<L1088+gpxLo_1+2
 23977 06:6145: A9 80 02     	lda	#$280
 23978 06:6148: 85 11        	sta	<L1088+gpxHi_1
 23979 06:614A: A9 00 00     	lda	#$0
 23980 06:614D: 85 13        	sta	<L1088+gpxHi_1+2
 23981 06:614F: 64 15        	stz	<L1088+gpyLo_1
 23982 06:6151: 64 17        	stz	<L1088+gpyLo_1+2
 23983 06:6153: A9 E0 01     	lda	#$1e0
 23984 06:6156: 85 19        	sta	<L1088+gpyHi_1
 23985 06:6158: A9 00 00     	lda	#$0
 23986 06:615B: 85 1B        	sta	<L1088+gpyHi_1+2
 23987                        	.line	3730
 23988                        ;	{
 23989 06:615D: 38           	sec
 23990 06:615E: A5 20        	lda	<L1087+x_0
 23991 06:6160: E5 0D        	sbc	<L1088+gpxLo_1
 23992 06:6162: A5 22        	lda	<L1087+x_0+2
 23993 06:6164: E5 0F        	sbc	<L1088+gpxLo_1+2
 23994 06:6166: 70 03        	bvs	L1090
 23995 06:6168: 49 00 80     	eor	#$8000
 23996                        L1090:
 23997 06:616B: 10 03        	bpl	L1091
 23998 06:616D: 82 25 00     	brl	L10425
 23999                        L1091:
 24000                        	.line	3731
 24001                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    x-over:-x:",(int)x);
 24002                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    x-over:-width:",(int)width);
 24003                        ;		width = (width + x);
 24004                        	.line	3734
 24005 06:6170: A0 00 00     	ldy	#$0
 24006 06:6173: A5 28        	lda	<L1087+width_0
 24007 06:6175: 10 01        	bpl	L1092
 24008 06:6177: 88           	dey
 24009                        L1092:
 24010 06:6178: 85 01        	sta	<R0
 24011 06:617A: 84 03        	sty	<R0+2
 24012 06:617C: 18           	clc
 24013 06:617D: A5 01        	lda	<R0
 24014 06:617F: 65 20        	adc	<L1087+x_0
 24015 06:6181: 85 05        	sta	<R1
 24016 06:6183: A5 03        	lda	<R0+2
 24017 06:6185: 65 22        	adc	<L1087+x_0+2
 24018 06:6187: 85 07        	sta	<R1+2
 24019 06:6189: A5 05        	lda	<R1
 24020 06:618B: 85 28        	sta	<L1087+width_0
 24021                        ;		x = gpxLo;
 24022                        	.line	3735
  Mon Sep 27 2021  9:39                                                Page 442


 24023 06:618D: A5 0D        	lda	<L1088+gpxLo_1
 24024 06:618F: 85 20        	sta	<L1087+x_0
 24025 06:6191: A5 0F        	lda	<L1088+gpxLo_1+2
 24026 06:6193: 85 22        	sta	<L1087+x_0+2
 24027                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    x-over:width:",(int)width);
 24028                        ;	}
 24029                        	.line	3737
 24030                        ;
 24031                        ;	if(y < gpyLo)
 24032                        L10425:
 24033                        	.line	3739
 24034                        ;	{
 24035 06:6195: 38           	sec
 24036 06:6196: A5 24        	lda	<L1087+y_0
 24037 06:6198: E5 15        	sbc	<L1088+gpyLo_1
 24038 06:619A: A5 26        	lda	<L1087+y_0+2
 24039 06:619C: E5 17        	sbc	<L1088+gpyLo_1+2
 24040 06:619E: 70 03        	bvs	L1093
 24041 06:61A0: 49 00 80     	eor	#$8000
 24042                        L1093:
 24043 06:61A3: 10 03        	bpl	L1094
 24044 06:61A5: 82 25 00     	brl	L10426
 24045                        L1094:
 24046                        	.line	3740
 24047                        ;		height = (height + y);
 24048                        	.line	3741
 24049 06:61A8: A0 00 00     	ldy	#$0
 24050 06:61AB: A5 2A        	lda	<L1087+height_0
 24051 06:61AD: 10 01        	bpl	L1095
 24052 06:61AF: 88           	dey
 24053                        L1095:
 24054 06:61B0: 85 01        	sta	<R0
 24055 06:61B2: 84 03        	sty	<R0+2
 24056 06:61B4: 18           	clc
 24057 06:61B5: A5 01        	lda	<R0
 24058 06:61B7: 65 24        	adc	<L1087+y_0
 24059 06:61B9: 85 05        	sta	<R1
 24060 06:61BB: A5 03        	lda	<R0+2
 24061 06:61BD: 65 26        	adc	<L1087+y_0+2
 24062 06:61BF: 85 07        	sta	<R1+2
 24063 06:61C1: A5 05        	lda	<R1
 24064 06:61C3: 85 2A        	sta	<L1087+height_0
 24065                        ;		y = gpyLo;
 24066                        	.line	3742
 24067 06:61C5: A5 15        	lda	<L1088+gpyLo_1
 24068 06:61C7: 85 24        	sta	<L1087+y_0
 24069 06:61C9: A5 17        	lda	<L1088+gpyLo_1+2
 24070 06:61CB: 85 26        	sta	<L1087+y_0+2
 24071                        ;	}
 24072                        	.line	3743
 24073                        ;
 24074                        ;	if(x > gpxHi)
 24075                        L10426:
 24076                        	.line	3745
 24077                        ;		x = gpxHi - 1;
 24078 06:61CD: 38           	sec
 24079 06:61CE: A5 11        	lda	<L1088+gpxHi_1
  Mon Sep 27 2021  9:39                                                Page 443


 24080 06:61D0: E5 20        	sbc	<L1087+x_0
 24081 06:61D2: A5 13        	lda	<L1088+gpxHi_1+2
 24082 06:61D4: E5 22        	sbc	<L1087+x_0+2
 24083 06:61D6: 70 03        	bvs	L1096
 24084 06:61D8: 49 00 80     	eor	#$8000
 24085                        L1096:
 24086 06:61DB: 10 03        	bpl	L1097
 24087 06:61DD: 82 0F 00     	brl	L10427
 24088                        L1097:
 24089                        	.line	3746
 24090 06:61E0: 18           	clc
 24091 06:61E1: A9 FF FF     	lda	#$ffff
 24092 06:61E4: 65 11        	adc	<L1088+gpxHi_1
 24093 06:61E6: 85 20        	sta	<L1087+x_0
 24094 06:61E8: A9 FF FF     	lda	#$ffff
 24095 06:61EB: 65 13        	adc	<L1088+gpxHi_1+2
 24096 06:61ED: 85 22        	sta	<L1087+x_0+2
 24097                        ;
 24098                        ;	if(y > gpxHi)
 24099                        L10427:
 24100                        	.line	3748
 24101                        ;		y = gpxHi - 1;
 24102 06:61EF: 38           	sec
 24103 06:61F0: A5 11        	lda	<L1088+gpxHi_1
 24104 06:61F2: E5 24        	sbc	<L1087+y_0
 24105 06:61F4: A5 13        	lda	<L1088+gpxHi_1+2
 24106 06:61F6: E5 26        	sbc	<L1087+y_0+2
 24107 06:61F8: 70 03        	bvs	L1098
 24108 06:61FA: 49 00 80     	eor	#$8000
 24109                        L1098:
 24110 06:61FD: 10 03        	bpl	L1099
 24111 06:61FF: 82 0F 00     	brl	L10428
 24112                        L1099:
 24113                        	.line	3749
 24114 06:6202: 18           	clc
 24115 06:6203: A9 FF FF     	lda	#$ffff
 24116 06:6206: 65 11        	adc	<L1088+gpxHi_1
 24117 06:6208: 85 24        	sta	<L1087+y_0
 24118 06:620A: A9 FF FF     	lda	#$ffff
 24119 06:620D: 65 13        	adc	<L1088+gpxHi_1+2
 24120 06:620F: 85 26        	sta	<L1087+y_0+2
 24121                        ;
 24122                        ;	if((int)x + width > gpxHi)
 24123                        L10428:
 24124                        	.line	3751
 24125                        ;	{
 24126 06:6211: 18           	clc
 24127 06:6212: A5 20        	lda	<L1087+x_0
 24128 06:6214: 65 28        	adc	<L1087+width_0
 24129 06:6216: 85 01        	sta	<R0
 24130 06:6218: A0 00 00     	ldy	#$0
 24131 06:621B: A5 01        	lda	<R0
 24132 06:621D: 10 01        	bpl	L1100
 24133 06:621F: 88           	dey
 24134                        L1100:
 24135 06:6220: 85 01        	sta	<R0
 24136 06:6222: 84 03        	sty	<R0+2
 24137 06:6224: 38           	sec
  Mon Sep 27 2021  9:39                                                Page 444


 24138 06:6225: A5 11        	lda	<L1088+gpxHi_1
 24139 06:6227: E5 01        	sbc	<R0
 24140 06:6229: A5 13        	lda	<L1088+gpxHi_1+2
 24141 06:622B: E5 03        	sbc	<R0+2
 24142 06:622D: 70 03        	bvs	L1101
 24143 06:622F: 49 00 80     	eor	#$8000
 24144                        L1101:
 24145 06:6232: 10 03        	bpl	L1102
 24146 06:6234: 82 1D 00     	brl	L10429
 24147                        L1102:
 24148                        	.line	3752
 24149                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    x-over:x:",(int)x);
 24150                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    x-over:width:",(int)width);
 24151                        ;
 24152                        ;		width = gpxHi - (int)x;
 24153                        	.line	3756
 24154 06:6237: A0 00 00     	ldy	#$0
 24155 06:623A: A5 20        	lda	<L1087+x_0
 24156 06:623C: 10 01        	bpl	L1103
 24157 06:623E: 88           	dey
 24158                        L1103:
 24159 06:623F: 85 01        	sta	<R0
 24160 06:6241: 84 03        	sty	<R0+2
 24161 06:6243: 38           	sec
 24162 06:6244: A5 11        	lda	<L1088+gpxHi_1
 24163 06:6246: E5 01        	sbc	<R0
 24164 06:6248: 85 05        	sta	<R1
 24165 06:624A: A5 13        	lda	<L1088+gpxHi_1+2
 24166 06:624C: E5 03        	sbc	<R0+2
 24167 06:624E: 85 07        	sta	<R1+2
 24168 06:6250: A5 05        	lda	<R1
 24169 06:6252: 85 28        	sta	<L1087+width_0
 24170                        ;
 24171                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    x-over:width:adjusted:",(int)width);
 24172                        ;	}
 24173                        	.line	3759
 24174                        ;
 24175                        ;	if((int)y + height > gpyHi)
 24176                        L10429:
 24177                        	.line	3761
 24178                        ;	{
 24179 06:6254: 18           	clc
 24180 06:6255: A5 24        	lda	<L1087+y_0
 24181 06:6257: 65 2A        	adc	<L1087+height_0
 24182 06:6259: 85 01        	sta	<R0
 24183 06:625B: A0 00 00     	ldy	#$0
 24184 06:625E: A5 01        	lda	<R0
 24185 06:6260: 10 01        	bpl	L1104
 24186 06:6262: 88           	dey
 24187                        L1104:
 24188 06:6263: 85 01        	sta	<R0
 24189 06:6265: 84 03        	sty	<R0+2
 24190 06:6267: 38           	sec
 24191 06:6268: A5 19        	lda	<L1088+gpyHi_1
 24192 06:626A: E5 01        	sbc	<R0
  Mon Sep 27 2021  9:39                                                Page 445


 24193 06:626C: A5 1B        	lda	<L1088+gpyHi_1+2
 24194 06:626E: E5 03        	sbc	<R0+2
 24195 06:6270: 70 03        	bvs	L1105
 24196 06:6272: 49 00 80     	eor	#$8000
 24197                        L1105:
 24198 06:6275: 10 03        	bpl	L1106
 24199 06:6277: 82 1D 00     	brl	L10430
 24200                        L1106:
 24201                        	.line	3762
 24202                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    y-over:y:",y);
 24203                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    y-over:height:",height);
 24204                        ;
 24205                        ;		height = gpyHi - (int)y;
 24206                        	.line	3766
 24207 06:627A: A0 00 00     	ldy	#$0
 24208 06:627D: A5 24        	lda	<L1087+y_0
 24209 06:627F: 10 01        	bpl	L1107
 24210 06:6281: 88           	dey
 24211                        L1107:
 24212 06:6282: 85 01        	sta	<R0
 24213 06:6284: 84 03        	sty	<R0+2
 24214 06:6286: 38           	sec
 24215 06:6287: A5 19        	lda	<L1088+gpyHi_1
 24216 06:6289: E5 01        	sbc	<R0
 24217 06:628B: 85 05        	sta	<R1
 24218 06:628D: A5 1B        	lda	<L1088+gpyHi_1+2
 24219 06:628F: E5 03        	sbc	<R0+2
 24220 06:6291: 85 07        	sta	<R1+2
 24221 06:6293: A5 05        	lda	<R1
 24222 06:6295: 85 2A        	sta	<L1087+height_0
 24223                        ;
 24224                        ;		//k_debug_integer("k_vdma_fill_rect_ex::
                    y-over:height:adjusted:",height);
 24225                        ;	}
 24226                        	.line	3769
 24227                        ;
 24228                        ;	//
 24229                        ;	// bad logic, need to look at mode, but this is 
                    Q&D
 24230                        ;	//
 24231                        ;	//if(k_get_video_mode() > VIDEO_MODE_640X480D)
 24232                        ;	//	pixelLocation = (long)(( ((long)y) * (80
                    0L)) + ((long)x) );
 24233                        ;	//else
 24234                        ;		pixelLocation = (long)(( ((long)y) * (64
                    0L)) + ((long)x) );
 24235                        L10430:
 24236                        	.line	3777
 24237 06:6297: F4 00 00     	pea	#^$280
 24238 06:629A: F4 80 02     	pea	#<$280
 24239 06:629D: D4 26        	pei	<L1087+y_0+2
 24240 06:629F: D4 24        	pei	<L1087+y_0
 24241                        	xref	~~~lmul
 24242 06:62A1: 22 xx xx xx  	jsl	~~~lmul
 24243 06:62A5: 85 01        	sta	<R0
 24244 06:62A7: 86 03        	stx	<R0+2
  Mon Sep 27 2021  9:39                                                Page 446


 24245 06:62A9: 18           	clc
 24246 06:62AA: A5 01        	lda	<R0
 24247 06:62AC: 65 20        	adc	<L1087+x_0
 24248 06:62AE: 85 09        	sta	<L1088+pixelLocation_1
 24249 06:62B0: A5 03        	lda	<R0+2
 24250 06:62B2: 65 22        	adc	<L1087+x_0+2
 24251 06:62B4: 85 0B        	sta	<L1088+pixelLocation_1+2
 24252                        ;
 24253                        ;	//k_debug_integer("k_vdma_fill_rect:",page);
 24254                        ;	//k_debug_integer("k_vdma_fill_width:",width);
 24255                        ;	//k_debug_integer("k_vdma_fill_height:",height);
 24256                        ;
 24257                        ;	k_vdma_fill_address_ex((char FAR * )pixelLocatio
                    n, width, height,pcolor,page);
 24258                        	.line	3783
 24259 06:62B6: D4 2E        	pei	<L1087+page_0
 24260 06:62B8: D4 2C        	pei	<L1087+pcolor_0
 24261 06:62BA: D4 2A        	pei	<L1087+height_0
 24262 06:62BC: D4 28        	pei	<L1087+width_0
 24263 06:62BE: D4 0B        	pei	<L1088+pixelLocation_1+2
 24264 06:62C0: D4 09        	pei	<L1088+pixelLocation_1
 24265 06:62C2: 22 75 64 06  	jsl	~~k_vdma_fill_address_ex
 24266                        ;
 24267                        ;	return;
 24268                        	.line	3785
 24269                        L1108:
 24270 06:62C6: A5 1E        	lda	<L1087+2
 24271 06:62C8: 85 2E        	sta	<L1087+2+16
 24272 06:62CA: A5 1D        	lda	<L1087+1
 24273 06:62CC: 85 2D        	sta	<L1087+1+16
 24274 06:62CE: 2B           	pld
 24275 06:62CF: 3B           	tsc
 24276 06:62D0: 18           	clc
 24277 06:62D1: 69 2C 00     	adc	#L1087+16
 24278 06:62D4: 1B           	tcs
 24279 06:62D5: 6B           	rtl
 24280                        ;}
 24281                        	.line	3786
 24282                        	.endblock	3786
 24283             0000001C   L1087	equ	28
 24284             00000009   L1088	equ	9
 24285 06:62D6:              	ends
 24286                        	efunc
 24287                        	.endfunc	3786,9,28
 24288                        	.line	3786
 24289                        ;
 24290                        ;void k_vdma_fill_rect(long x,long y,int width,int
                     height,unsigned char pcolor)
 24291                        ;{
 24292                        	.line	3788
 24293                        	.line	3789
 24294                        	GFX
 24295                        	xdef	~~k_vdma_fill_rect
 24296                        	func
 24297                        	.function	3789
 24298                        ~~k_vdma_fill_rect:
 24299                        	longa	on
 24300                        	longi	on
  Mon Sep 27 2021  9:39                                                Page 447


 24301 06:62D6: 3B           	tsc
 24302 06:62D7: 38           	sec
 24303 06:62D8: E9 00 00     	sbc	#L1109
 24304 06:62DB: 1B           	tcs
 24305 06:62DC: 0B           	phd
 24306 06:62DD: 5B           	tcd
 24307             00000004   x_0	set	4
 24308             00000008   y_0	set	8
 24309             0000000C   width_0	set	12
 24310             0000000E   height_0	set	14
 24311             00000010   pcolor_0	set	16
 24312                        	.block	3789
 24313                        ;	k_vdma_fill_rect_ex(x,y,width,height,pcolor,BITM
                    AP_BACK);
 24314                        	.sym	x,4,7,6,32
 24315                        	.sym	y,8,7,6,32
 24316                        	.sym	width,12,5,6,16
 24317                        	.sym	height,14,5,6,16
 24318                        	.sym	pcolor,16,14,6,8
 24319                        	.line	3790
 24320 06:62DE: F4 08 00     	pea	#<$8
 24321 06:62E1: D4 10        	pei	<L1109+pcolor_0
 24322 06:62E3: D4 0E        	pei	<L1109+height_0
 24323 06:62E5: D4 0C        	pei	<L1109+width_0
 24324 06:62E7: D4 0A        	pei	<L1109+y_0+2
 24325 06:62E9: D4 08        	pei	<L1109+y_0
 24326 06:62EB: D4 06        	pei	<L1109+x_0+2
 24327 06:62ED: D4 04        	pei	<L1109+x_0
 24328 06:62EF: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 24329                        ;}
 24330                        	.line	3791
 24331                        L1112:
 24332 06:62F3: A5 02        	lda	<L1109+2
 24333 06:62F5: 85 10        	sta	<L1109+2+14
 24334 06:62F7: A5 01        	lda	<L1109+1
 24335 06:62F9: 85 0F        	sta	<L1109+1+14
 24336 06:62FB: 2B           	pld
 24337 06:62FC: 3B           	tsc
 24338 06:62FD: 18           	clc
 24339 06:62FE: 69 0E 00     	adc	#L1109+14
 24340 06:6301: 1B           	tcs
 24341 06:6302: 6B           	rtl
 24342                        	.endblock	3791
 24343             00000000   L1109	equ	0
 24344             00000001   L1110	equ	1
 24345 06:6303:              	ends
 24346                        	efunc
 24347                        	.endfunc	3791,1,0
 24348                        	.line	3791
 24349                        ;
 24350                        ;/*
 24351                        ;void k_vdma_fill_rect(long x,long y,int width,int
                     height,unsigned char pcolor)
 24352                        ;{
 24353                        ;	long pixelLocation = (long)(( ((long)y) * (640L)
                    ) + ((long)x) );
 24354                        ;
 24355                        ;	//k_debug_string("k_vdma_fill_rect V2\r\n");
  Mon Sep 27 2021  9:39                                                Page 448


 24356                        ;
 24357                        ;	//k_vdma_fill_address((char FAR * )pixelLocation
                    , width - 2, height - 1,pcolor);
 24358                        ;	k_vdma_fill_address((char FAR * )pixelLocation, 
                    width, height,pcolor);
 24359                        ;#ifdef FX_C256_USESHADOW
 24360                        ;	k_shadow_fill_rect(x,y, width, height, pcolor);
 24361                        ;#endif
 24362                        ;	//k_shadow_bitblt(x,y,width,height,x,y);
 24363                        ;
 24364                        ;	return;
 24365                        ;}
 24366                        ;*/
 24367                        ;
 24368                        ;/*
 24369                        ;void k_vdma_fill_address_old(char FAR * pdst,int 
                    width,int height,unsigned char data)
 24370                        ;{
 24371                        ;	int pos = 0;
 24372                        ;	UINT spinLock = 0;
 24373                        ;	char status = VDMA_STAT_VDMA_IPS;
 24374                        ;
 24375                        ;
 24376                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE | VDMA_CT
                    RL_1D_2D | VDMA_CTRL_TRF_FILL;
 24377                        ;
 24378                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 24379                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 24380                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 24381                        ;
 24382                        ;	*BM_START_ADDY_L = 0x00;
 24383                        ;	*BM_START_ADDY_M = 0x00;
 24384                        ;	*BM_START_ADDY_H = 0x00;
 24385                        ;	*((char FAR*)0xAF1F80) = 0x02;
 24386                        ;	
 24387                        ;	*BM_X_SIZE_L = 0x80;
 24388                        ;	*BM_X_SIZE_H = 0x02;	
 24389                        ;	*BM_Y_SIZE_L = 0xE0;
 24390                        ;	*BM_Y_SIZE_H = 0x01;
 24391                        ;
 24392                        ;	width+=(width & 0x0001);
 24393                        ;
 24394                        ;	*VDMA_X_SIZE_L = LOBYTE(width);
 24395                        ;	*VDMA_X_SIZE_H = HIBYTE(width);
 24396                        ;
 24397                        ;	*VDMA_Y_SIZE_L = LOBYTE(height);
 24398                        ;	*VDMA_Y_SIZE_H = HIBYTE(height);
 24399                        ;
 24400                        ;	*VDMA_DST_STRIDE_L  = 0x80;
 24401                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 24402                        ;	
 24403                        ;
 24404                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 24405                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 24406                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 24407                        ;
 24408                        ;	VDMA_BYTE_2_WRITE[0] = (char)data;
 24409                        ;	
  Mon Sep 27 2021  9:39                                                Page 449


 24410                        ;	VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VDMA_
                    CTRL_1D_2D | VDMA_CTRL_TRF_FILL | VDMA_CTRL_START_TRF);//0x8
                    7;
 24411                        ;
 24412                        ;
 24413                        ;	status = VDMA_STAT_VDMA_IPS;
 24414                        ;	while(status == VDMA_STAT_VDMA_IPS)
 24415                        ;	{
 24416                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 24417                        ;		spinLock++;
 24418                        ;
 24419                        ;		if(spinLock > 32000)
 24420                        ;		{
 24421                        ;			break;
 24422                        ;		}
 24423                        ;	}
 24424                        ;	k_debug_integer("k_vdma_fill_address2::spinLock:
                    ",spinLock);
 24425                        ;
 24426                        ;
 24427                        ;
 24428                        ;
 24429                        ;	
 24430                        ;   //return *VDMA_STATUS_REG;
 24431                        ;   //return VDMA_STATUS_REG[0];
 24432                        ;   //VDMA_CONTROL_REG[0] = (char)0x00;
 24433                        ;   
 24434                        ;   return ;
 24435                        ;}
 24436                        ;*/
 24437                        ;
 24438                        ;void k_vdma_fill_address(char FAR * pdst,int widt
                    h,int height,unsigned char data)
 24439                        ;{
 24440                        	.line	3881
 24441                        	.line	3882
 24442                        	GFX
 24443                        	xdef	~~k_vdma_fill_address
 24444                        	func
 24445                        	.function	3882
 24446                        ~~k_vdma_fill_address:
 24447                        	longa	on
 24448                        	longi	on
 24449 06:6303: 3B           	tsc
 24450 06:6304: 38           	sec
 24451 06:6305: E9 0D 00     	sbc	#L1113
 24452 06:6308: 1B           	tcs
 24453 06:6309: 0B           	phd
 24454 06:630A: 5B           	tcd
 24455             00000004   pdst_0	set	4
 24456             00000008   width_0	set	8
 24457             0000000A   height_0	set	10
 24458             0000000C   data_0	set	12
 24459                        	.block	3882
 24460                        ;	int pos = 0;
 24461                        ;	UINT spinLock = 0;
 24462                        ;	char status = VDMA_STAT_VDMA_IPS;
  Mon Sep 27 2021  9:39                                                Page 450


 24463                        ;
 24464                        ;	VDMA_CONTROL_REG[0] = ( VDMA_CTRL_ENABLE | VDMA_
                    CTRL_TRF_FILL | VDMA_CTRL_1D_2D );
 24465             00000000   pos_1	set	0
 24466             00000002   spinLock_1	set	2
 24467             00000004   status_1	set	4
 24468                        	.sym	pos,0,5,1,16
 24469                        	.sym	spinLock,2,16,1,16
 24470                        	.sym	status,4,14,1,8
 24471                        	.sym	pdst,4,142,6,32
 24472                        	.sym	width,8,5,6,16
 24473                        	.sym	height,10,5,6,16
 24474                        	.sym	data,12,14,6,8
 24475 06:630B: 64 09        	stz	<L1114+pos_1
 24476 06:630D: 64 0B        	stz	<L1114+spinLock_1
 24477 06:630F: E2 20        	sep	#$20
 24478                        	longa	off
 24479 06:6311: A9 80        	lda	#$80
 24480 06:6313: 85 0D        	sta	<L1114+status_1
 24481 06:6315: C2 20        	rep	#$20
 24482                        	longa	on
 24483                        	.line	3887
 24484 06:6317: E2 20        	sep	#$20
 24485                        	longa	off
 24486 06:6319: A9 07        	lda	#$7
 24487 06:631B: 8F 00 04 AF  	sta	>11469824
 24488 06:631F: C2 20        	rep	#$20
 24489                        	longa	on
 24490                        ;
 24491                        ;	VDMA_BYTE_2_WRITE[0] = (UCHAR)data;
 24492                        	.line	3889
 24493 06:6321: E2 20        	sep	#$20
 24494                        	longa	off
 24495 06:6323: A5 19        	lda	<L1113+data_0
 24496 06:6325: 8F 01 04 AF  	sta	>11469825
 24497 06:6329: C2 20        	rep	#$20
 24498                        	longa	on
 24499                        ;
 24500                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 24501                        	.line	3891
 24502 06:632B: E2 20        	sep	#$20
 24503                        	longa	off
 24504 06:632D: A5 11        	lda	<L1113+pdst_0
 24505 06:632F: 8F 05 04 AF  	sta	>11469829
 24506 06:6333: C2 20        	rep	#$20
 24507                        	longa	on
 24508                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 24509                        	.line	3892
 24510 06:6335: D4 13        	pei	<L1113+pdst_0+2
 24511 06:6337: D4 11        	pei	<L1113+pdst_0
 24512 06:6339: A9 08 00     	lda	#$8
 24513                        	xref	~~~llsr
 24514 06:633C: 22 xx xx xx  	jsl	~~~llsr
 24515 06:6340: 85 01        	sta	<R0
 24516 06:6342: 86 03        	stx	<R0+2
 24517 06:6344: A5 01        	lda	<R0
 24518 06:6346: 29 FF 00     	and	#<$ff
 24519 06:6349: 85 05        	sta	<R1
  Mon Sep 27 2021  9:39                                                Page 451


 24520 06:634B: 64 07        	stz	<R1+2
 24521 06:634D: E2 20        	sep	#$20
 24522                        	longa	off
 24523 06:634F: A5 05        	lda	<R1
 24524 06:6351: 8F 06 04 AF  	sta	>11469830
 24525 06:6355: C2 20        	rep	#$20
 24526                        	longa	on
 24527                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 24528                        	.line	3893
 24529 06:6357: D4 13        	pei	<L1113+pdst_0+2
 24530 06:6359: D4 11        	pei	<L1113+pdst_0
 24531 06:635B: A9 10 00     	lda	#$10
 24532                        	xref	~~~llsr
 24533 06:635E: 22 xx xx xx  	jsl	~~~llsr
 24534 06:6362: 85 01        	sta	<R0
 24535 06:6364: 86 03        	stx	<R0+2
 24536 06:6366: A5 01        	lda	<R0
 24537 06:6368: 29 FF 00     	and	#<$ff
 24538 06:636B: 85 05        	sta	<R1
 24539 06:636D: 64 07        	stz	<R1+2
 24540 06:636F: E2 20        	sep	#$20
 24541                        	longa	off
 24542 06:6371: A5 05        	lda	<R1
 24543 06:6373: 8F 07 04 AF  	sta	>11469831
 24544 06:6377: C2 20        	rep	#$20
 24545                        	longa	on
 24546                        ;
 24547                        ;	VDMA_X_SIZE_L[0] = LOBYTE(width + 1);
 24548                        	.line	3895
 24549 06:6379: A5 15        	lda	<L1113+width_0
 24550 06:637B: 1A           	ina
 24551 06:637C: 85 01        	sta	<R0
 24552 06:637E: E2 20        	sep	#$20
 24553                        	longa	off
 24554 06:6380: A5 01        	lda	<R0
 24555 06:6382: 8F 08 04 AF  	sta	>11469832
 24556 06:6386: C2 20        	rep	#$20
 24557                        	longa	on
 24558                        ;	VDMA_X_SIZE_H[0] = HIBYTE(width + 1);
 24559                        	.line	3896
 24560 06:6388: A5 15        	lda	<L1113+width_0
 24561 06:638A: 1A           	ina
 24562 06:638B: A2 08 00     	ldx	#<$8
 24563                        	xref	~~~asr
 24564 06:638E: 22 xx xx xx  	jsl	~~~asr
 24565 06:6392: 29 FF 00     	and	#<$ff
 24566 06:6395: 85 01        	sta	<R0
 24567 06:6397: E2 20        	sep	#$20
 24568                        	longa	off
 24569 06:6399: A5 01        	lda	<R0
 24570 06:639B: 8F 09 04 AF  	sta	>11469833
 24571 06:639F: C2 20        	rep	#$20
 24572                        	longa	on
 24573                        ;
 24574                        ;	VDMA_Y_SIZE_L[0] = LOBYTE(height + 1);
 24575                        	.line	3898
 24576 06:63A1: A5 17        	lda	<L1113+height_0
 24577 06:63A3: 1A           	ina
  Mon Sep 27 2021  9:39                                                Page 452


 24578 06:63A4: 85 01        	sta	<R0
 24579 06:63A6: E2 20        	sep	#$20
 24580                        	longa	off
 24581 06:63A8: A5 01        	lda	<R0
 24582 06:63AA: 8F 0A 04 AF  	sta	>11469834
 24583 06:63AE: C2 20        	rep	#$20
 24584                        	longa	on
 24585                        ;	VDMA_Y_SIZE_H[0] = HIBYTE(height + 1);
 24586                        	.line	3899
 24587 06:63B0: A5 17        	lda	<L1113+height_0
 24588 06:63B2: 1A           	ina
 24589 06:63B3: A2 08 00     	ldx	#<$8
 24590                        	xref	~~~asr
 24591 06:63B6: 22 xx xx xx  	jsl	~~~asr
 24592 06:63BA: 29 FF 00     	and	#<$ff
 24593 06:63BD: 85 01        	sta	<R0
 24594 06:63BF: E2 20        	sep	#$20
 24595                        	longa	off
 24596 06:63C1: A5 01        	lda	<R0
 24597 06:63C3: 8F 0B 04 AF  	sta	>11469835
 24598 06:63C7: C2 20        	rep	#$20
 24599                        	longa	on
 24600                        ;	VDMA_Y_SIZE_H[1] = 0x00;
 24601                        	.line	3900
 24602 06:63C9: E2 20        	sep	#$20
 24603                        	longa	off
 24604 06:63CB: A9 00        	lda	#$0
 24605 06:63CD: 8F 0C 04 AF  	sta	>11469836
 24606 06:63D1: C2 20        	rep	#$20
 24607                        	longa	on
 24608                        ;
 24609                        ;	*VDMA_SRC_STRIDE_L = 0x00;
 24610                        	.line	3902
 24611 06:63D3: E2 20        	sep	#$20
 24612                        	longa	off
 24613 06:63D5: A9 00        	lda	#$0
 24614 06:63D7: 8F 0C 04 AF  	sta	>11469836
 24615 06:63DB: C2 20        	rep	#$20
 24616                        	longa	on
 24617                        ;	*VDMA_SRC_STRIDE_H = 0x00;
 24618                        	.line	3903
 24619 06:63DD: E2 20        	sep	#$20
 24620                        	longa	off
 24621 06:63DF: A9 00        	lda	#$0
 24622 06:63E1: 8F 0D 04 AF  	sta	>11469837
 24623 06:63E5: C2 20        	rep	#$20
 24624                        	longa	on
 24625                        ;
 24626                        ;	if(width >= 639)
 24627                        	.line	3905
 24628                        ;	{
 24629 06:63E7: 38           	sec
 24630 06:63E8: A5 15        	lda	<L1113+width_0
 24631 06:63EA: E9 7F 02     	sbc	#<$27f
 24632 06:63ED: 70 03        	bvs	L1116
 24633 06:63EF: 49 00 80     	eor	#$8000
 24634                        L1116:
 24635 06:63F2: 30 03        	bmi	L1117
  Mon Sep 27 2021  9:39                                                Page 453


 24636 06:63F4: 82 17 00     	brl	L10431
 24637                        L1117:
 24638                        	.line	3906
 24639                        ;		*VDMA_DST_STRIDE_L  = 0x20;
 24640                        	.line	3907
 24641 06:63F7: E2 20        	sep	#$20
 24642                        	longa	off
 24643 06:63F9: A9 20        	lda	#$20
 24644 06:63FB: 8F 0E 04 AF  	sta	>11469838
 24645 06:63FF: C2 20        	rep	#$20
 24646                        	longa	on
 24647                        ;		*VDMA_DST_STRIDE_H	= 0x03;
 24648                        	.line	3908
 24649 06:6401: E2 20        	sep	#$20
 24650                        	longa	off
 24651 06:6403: A9 03        	lda	#$3
 24652 06:6405: 8F 0F 04 AF  	sta	>11469839
 24653 06:6409: C2 20        	rep	#$20
 24654                        	longa	on
 24655                        ;	}
 24656                        	.line	3909
 24657                        ;	else
 24658 06:640B: 82 14 00     	brl	L10432
 24659                        L10431:
 24660                        ;	{
 24661                        	.line	3911
 24662                        ;		*VDMA_DST_STRIDE_L  = 0x80;
 24663                        	.line	3912
 24664 06:640E: E2 20        	sep	#$20
 24665                        	longa	off
 24666 06:6410: A9 80        	lda	#$80
 24667 06:6412: 8F 0E 04 AF  	sta	>11469838
 24668 06:6416: C2 20        	rep	#$20
 24669                        	longa	on
 24670                        ;		*VDMA_DST_STRIDE_H	= 0x02;
 24671                        	.line	3913
 24672 06:6418: E2 20        	sep	#$20
 24673                        	longa	off
 24674 06:641A: A9 02        	lda	#$2
 24675 06:641C: 8F 0F 04 AF  	sta	>11469839
 24676 06:6420: C2 20        	rep	#$20
 24677                        	longa	on
 24678                        ;	}
 24679                        	.line	3914
 24680                        L10432:
 24681                        ;
 24682                        ;    VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VD
                    MA_CTRL_1D_2D | VDMA_CTRL_TRF_FILL | VDMA_CTRL_START_TRF);
 24683                        	.line	3916
 24684 06:6422: E2 20        	sep	#$20
 24685                        	longa	off
 24686 06:6424: A9 87        	lda	#$87
 24687 06:6426: 8F 00 04 AF  	sta	>11469824
 24688 06:642A: C2 20        	rep	#$20
 24689                        	longa	on
 24690                        ;
 24691                        ;    asm NOP;
 24692                        	.line	3918
  Mon Sep 27 2021  9:39                                                Page 454


 24693                        	asmstart
 24694 06:642C: EA           	NOP
 24695                        	asmend
 24696                        ;    asm NOP;
 24697                        	.line	3919
 24698                        	asmstart
 24699 06:642D: EA           	NOP
 24700                        	asmend
 24701                        ;    asm NOP;
 24702                        	.line	3920
 24703                        	asmstart
 24704 06:642E: EA           	NOP
 24705                        	asmend
 24706                        ;
 24707                        ;	while(status == VDMA_STAT_VDMA_IPS)
 24708                        	.line	3922
 24709                        L10433:
 24710 06:642F: E2 20        	sep	#$20
 24711                        	longa	off
 24712 06:6431: A5 0D        	lda	<L1114+status_1
 24713 06:6433: C9 80        	cmp	#<$80
 24714 06:6435: C2 20        	rep	#$20
 24715                        	longa	on
 24716 06:6437: F0 03        	beq	L1118
 24717 06:6439: 82 1E 00     	brl	L10434
 24718                        L1118:
 24719                        ;	{
 24720                        	.line	3923
 24721                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 24722                        	.line	3924
 24723 06:643C: E2 20        	sep	#$20
 24724                        	longa	off
 24725 06:643E: AF 01 04 AF  	lda	>11469825
 24726 06:6442: 29 80        	and	#<$80
 24727 06:6444: 85 0D        	sta	<L1114+status_1
 24728 06:6446: C2 20        	rep	#$20
 24729                        	longa	on
 24730                        ;		spinLock++;
 24731                        	.line	3925
 24732 06:6448: E6 0B        	inc	<L1114+spinLock_1
 24733                        ;
 24734                        ;		if(spinLock > 32000)
 24735                        	.line	3927
 24736                        ;		{
 24737 06:644A: A9 00 7D     	lda	#$7d00
 24738 06:644D: C5 0B        	cmp	<L1114+spinLock_1
 24739 06:644F: 90 03        	bcc	L1119
 24740 06:6451: 82 03 00     	brl	L10435
 24741                        L1119:
 24742                        	.line	3928
 24743                        ;			break;
 24744                        	.line	3929
 24745 06:6454: 82 03 00     	brl	L10434
 24746                        ;		}
 24747                        	.line	3930
 24748                        ;	}
 24749                        L10435:
  Mon Sep 27 2021  9:39                                                Page 455


 24750                        	.line	3931
 24751 06:6457: 82 D5 FF     	brl	L10433
 24752                        L10434:
 24753                        ;
 24754                        ;#ifdef USE_MAX_DEBUG
 24755                        ;	k_debug_integer("k_vdma_fill_address1::spinLock:
                    ",spinLock);
 24756                        ;#endif
 24757                        ;
 24758                        ;	asm NOP;
 24759                        	.line	3937
 24760                        	asmstart
 24761 06:645A: EA           	NOP
 24762                        	asmend
 24763                        ;
 24764                        ;	VDMA_CONTROL_REG[0] = 0;
 24765                        	.line	3939
 24766 06:645B: E2 20        	sep	#$20
 24767                        	longa	off
 24768 06:645D: A9 00        	lda	#$0
 24769 06:645F: 8F 00 04 AF  	sta	>11469824
 24770 06:6463: C2 20        	rep	#$20
 24771                        	longa	on
 24772                        ;
 24773                        ;   return ;
 24774                        	.line	3941
 24775                        L1120:
 24776 06:6465: A5 0F        	lda	<L1113+2
 24777 06:6467: 85 19        	sta	<L1113+2+10
 24778 06:6469: A5 0E        	lda	<L1113+1
 24779 06:646B: 85 18        	sta	<L1113+1+10
 24780 06:646D: 2B           	pld
 24781 06:646E: 3B           	tsc
 24782 06:646F: 18           	clc
 24783 06:6470: 69 17 00     	adc	#L1113+10
 24784 06:6473: 1B           	tcs
 24785 06:6474: 6B           	rtl
 24786                        ;}
 24787                        	.line	3942
 24788                        	.endblock	3942
 24789             0000000D   L1113	equ	13
 24790             00000009   L1114	equ	9
 24791 06:6475:              	ends
 24792                        	efunc
 24793                        	.endfunc	3942,9,13
 24794                        	.line	3942
 24795                        ;
 24796                        ;void k_vdma_fill_address_ex(char FAR * pdst,int w
                    idth,int height,unsigned char data,UINT page)
 24797                        ;{
 24798                        	.line	3944
 24799                        	.line	3945
 24800                        	GFX
 24801                        	xdef	~~k_vdma_fill_address_ex
 24802                        	func
 24803                        	.function	3945
 24804                        ~~k_vdma_fill_address_ex:
 24805                        	longa	on
  Mon Sep 27 2021  9:39                                                Page 456


 24806                        	longi	on
 24807 06:6475: 3B           	tsc
 24808 06:6476: 38           	sec
 24809 06:6477: E9 11 00     	sbc	#L1121
 24810 06:647A: 1B           	tcs
 24811 06:647B: 0B           	phd
 24812 06:647C: 5B           	tcd
 24813             00000004   pdst_0	set	4
 24814             00000008   width_0	set	8
 24815             0000000A   height_0	set	10
 24816             0000000C   data_0	set	12
 24817             0000000E   page_0	set	14
 24818                        	.block	3945
 24819                        ;	int pos = 0;
 24820                        ;	UINT spinLock = 0;
 24821                        ;	char status = VDMA_STAT_VDMA_IPS;
 24822                        ;	LONG lwidth = (LONG)width;
 24823                        ;
 24824                        ;	VDMA_CONTROL_REG[0] = ( VDMA_CTRL_ENABLE | VDMA_
                    CTRL_TRF_FILL | VDMA_CTRL_1D_2D );
 24825             00000000   pos_1	set	0
 24826             00000002   spinLock_1	set	2
 24827             00000004   status_1	set	4
 24828             00000005   lwidth_1	set	5
 24829                        	.sym	pos,0,5,1,16
 24830                        	.sym	spinLock,2,16,1,16
 24831                        	.sym	status,4,14,1,8
 24832                        	.sym	lwidth,5,7,1,32
 24833                        	.sym	pdst,4,142,6,32
 24834                        	.sym	width,8,5,6,16
 24835                        	.sym	height,10,5,6,16
 24836                        	.sym	data,12,14,6,8
 24837                        	.sym	page,14,16,6,16
 24838 06:647D: 64 09        	stz	<L1122+pos_1
 24839 06:647F: 64 0B        	stz	<L1122+spinLock_1
 24840 06:6481: E2 20        	sep	#$20
 24841                        	longa	off
 24842 06:6483: A9 80        	lda	#$80
 24843 06:6485: 85 0D        	sta	<L1122+status_1
 24844 06:6487: C2 20        	rep	#$20
 24845                        	longa	on
 24846 06:6489: A0 00 00     	ldy	#$0
 24847 06:648C: A5 19        	lda	<L1121+width_0
 24848 06:648E: 10 01        	bpl	L1124
 24849 06:6490: 88           	dey
 24850                        L1124:
 24851 06:6491: 85 0E        	sta	<L1122+lwidth_1
 24852 06:6493: 84 10        	sty	<L1122+lwidth_1+2
 24853                        	.line	3951
 24854 06:6495: E2 20        	sep	#$20
 24855                        	longa	off
 24856 06:6497: A9 07        	lda	#$7
 24857 06:6499: 8F 00 04 AF  	sta	>11469824
 24858 06:649D: C2 20        	rep	#$20
 24859                        	longa	on
 24860                        ;
 24861                        ;	VDMA_BYTE_2_WRITE[0] = (UCHAR)data;
 24862                        	.line	3953
  Mon Sep 27 2021  9:39                                                Page 457


 24863 06:649F: E2 20        	sep	#$20
 24864                        	longa	off
 24865 06:64A1: A5 1D        	lda	<L1121+data_0
 24866 06:64A3: 8F 01 04 AF  	sta	>11469825
 24867 06:64A7: C2 20        	rep	#$20
 24868                        	longa	on
 24869                        ;
 24870                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 24871                        	.line	3955
 24872 06:64A9: E2 20        	sep	#$20
 24873                        	longa	off
 24874 06:64AB: A5 15        	lda	<L1121+pdst_0
 24875 06:64AD: 8F 05 04 AF  	sta	>11469829
 24876 06:64B1: C2 20        	rep	#$20
 24877                        	longa	on
 24878                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 24879                        	.line	3956
 24880 06:64B3: D4 17        	pei	<L1121+pdst_0+2
 24881 06:64B5: D4 15        	pei	<L1121+pdst_0
 24882 06:64B7: A9 08 00     	lda	#$8
 24883                        	xref	~~~llsr
 24884 06:64BA: 22 xx xx xx  	jsl	~~~llsr
 24885 06:64BE: 85 01        	sta	<R0
 24886 06:64C0: 86 03        	stx	<R0+2
 24887 06:64C2: A5 01        	lda	<R0
 24888 06:64C4: 29 FF 00     	and	#<$ff
 24889 06:64C7: 85 05        	sta	<R1
 24890 06:64C9: 64 07        	stz	<R1+2
 24891 06:64CB: E2 20        	sep	#$20
 24892                        	longa	off
 24893 06:64CD: A5 05        	lda	<R1
 24894 06:64CF: 8F 06 04 AF  	sta	>11469830
 24895 06:64D3: C2 20        	rep	#$20
 24896                        	longa	on
 24897                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst)|(UCHAR)
                    page;
 24898                        	.line	3957
 24899 06:64D5: D4 17        	pei	<L1121+pdst_0+2
 24900 06:64D7: D4 15        	pei	<L1121+pdst_0
 24901 06:64D9: A9 10 00     	lda	#$10
 24902                        	xref	~~~llsr
 24903 06:64DC: 22 xx xx xx  	jsl	~~~llsr
 24904 06:64E0: 85 01        	sta	<R0
 24905 06:64E2: 86 03        	stx	<R0+2
 24906 06:64E4: A5 01        	lda	<R0
 24907 06:64E6: 29 FF 00     	and	#<$ff
 24908 06:64E9: 85 05        	sta	<R1
 24909 06:64EB: 64 07        	stz	<R1+2
 24910 06:64ED: E2 20        	sep	#$20
 24911                        	longa	off
 24912 06:64EF: A5 1F        	lda	<L1121+page_0
 24913 06:64F1: 05 05        	ora	<R1
 24914 06:64F3: 8F 07 04 AF  	sta	>11469831
 24915 06:64F7: C2 20        	rep	#$20
 24916                        	longa	on
 24917                        ;
 24918                        ;	/*
 24919                        ;	VDMA_X_SIZE_L[0] = LOBYTE(width + 1);
  Mon Sep 27 2021  9:39                                                Page 458


 24920                        ;	VDMA_X_SIZE_H[0] = HIBYTE(width + 1);
 24921                        ;
 24922                        ;	VDMA_Y_SIZE_L[0] = LOBYTE(height + 1);
 24923                        ;	VDMA_Y_SIZE_H[0] = HIBYTE(height + 1);
 24924                        ;	VDMA_Y_SIZE_H[1] = 0x00;
 24925                        ;	*/
 24926                        ;	VDMA_X_SIZE_L[0] = LOBYTE(width);
 24927                        	.line	3967
 24928 06:64F9: E2 20        	sep	#$20
 24929                        	longa	off
 24930 06:64FB: A5 19        	lda	<L1121+width_0
 24931 06:64FD: 8F 08 04 AF  	sta	>11469832
 24932 06:6501: C2 20        	rep	#$20
 24933                        	longa	on
 24934                        ;	VDMA_X_SIZE_H[0] = HIBYTE(width);
 24935                        	.line	3968
 24936 06:6503: A5 19        	lda	<L1121+width_0
 24937 06:6505: A2 08 00     	ldx	#<$8
 24938                        	xref	~~~asr
 24939 06:6508: 22 xx xx xx  	jsl	~~~asr
 24940 06:650C: 29 FF 00     	and	#<$ff
 24941 06:650F: 85 01        	sta	<R0
 24942 06:6511: E2 20        	sep	#$20
 24943                        	longa	off
 24944 06:6513: A5 01        	lda	<R0
 24945 06:6515: 8F 09 04 AF  	sta	>11469833
 24946 06:6519: C2 20        	rep	#$20
 24947                        	longa	on
 24948                        ;
 24949                        ;	VDMA_Y_SIZE_L[0] = LOBYTE(height);
 24950                        	.line	3970
 24951 06:651B: E2 20        	sep	#$20
 24952                        	longa	off
 24953 06:651D: A5 1B        	lda	<L1121+height_0
 24954 06:651F: 8F 0A 04 AF  	sta	>11469834
 24955 06:6523: C2 20        	rep	#$20
 24956                        	longa	on
 24957                        ;	VDMA_Y_SIZE_H[0] = HIBYTE(height);
 24958                        	.line	3971
 24959 06:6525: A5 1B        	lda	<L1121+height_0
 24960 06:6527: A2 08 00     	ldx	#<$8
 24961                        	xref	~~~asr
 24962 06:652A: 22 xx xx xx  	jsl	~~~asr
 24963 06:652E: 29 FF 00     	and	#<$ff
 24964 06:6531: 85 01        	sta	<R0
 24965 06:6533: E2 20        	sep	#$20
 24966                        	longa	off
 24967 06:6535: A5 01        	lda	<R0
 24968 06:6537: 8F 0B 04 AF  	sta	>11469835
 24969 06:653B: C2 20        	rep	#$20
 24970                        	longa	on
 24971                        ;	VDMA_Y_SIZE_H[1] = 0x00;
 24972                        	.line	3972
 24973 06:653D: E2 20        	sep	#$20
 24974                        	longa	off
 24975 06:653F: A9 00        	lda	#$0
 24976 06:6541: 8F 0C 04 AF  	sta	>11469836
 24977 06:6545: C2 20        	rep	#$20
  Mon Sep 27 2021  9:39                                                Page 459


 24978                        	longa	on
 24979                        ;
 24980                        ;	*VDMA_SRC_STRIDE_L = 0x00;
 24981                        	.line	3974
 24982 06:6547: E2 20        	sep	#$20
 24983                        	longa	off
 24984 06:6549: A9 00        	lda	#$0
 24985 06:654B: 8F 0C 04 AF  	sta	>11469836
 24986 06:654F: C2 20        	rep	#$20
 24987                        	longa	on
 24988                        ;	*VDMA_SRC_STRIDE_H = 0x00;
 24989                        	.line	3975
 24990 06:6551: E2 20        	sep	#$20
 24991                        	longa	off
 24992 06:6553: A9 00        	lda	#$0
 24993 06:6555: 8F 0D 04 AF  	sta	>11469837
 24994 06:6559: C2 20        	rep	#$20
 24995                        	longa	on
 24996                        ;
 24997                        ;	//*VDMA_DST_STRIDE_L  = L24BYTE(lwidth);
 24998                        ;	//*VDMA_DST_STRIDE_H	= M24BYTE(lwidth);
 24999                        ;
 25000                        ;
 25001                        ;
 25002                        ;	if(width > 640)
 25003                        	.line	3982
 25004                        ;	{
 25005 06:655B: 38           	sec
 25006 06:655C: A9 80 02     	lda	#$280
 25007 06:655F: E5 19        	sbc	<L1121+width_0
 25008 06:6561: 70 03        	bvs	L1125
 25009 06:6563: 49 00 80     	eor	#$8000
 25010                        L1125:
 25011 06:6566: 10 03        	bpl	L1126
 25012 06:6568: 82 17 00     	brl	L10436
 25013                        L1126:
 25014                        	.line	3983
 25015                        ;		*VDMA_DST_STRIDE_L  = 0x20;
 25016                        	.line	3984
 25017 06:656B: E2 20        	sep	#$20
 25018                        	longa	off
 25019 06:656D: A9 20        	lda	#$20
 25020 06:656F: 8F 0E 04 AF  	sta	>11469838
 25021 06:6573: C2 20        	rep	#$20
 25022                        	longa	on
 25023                        ;		*VDMA_DST_STRIDE_H	= 0x03;
 25024                        	.line	3985
 25025 06:6575: E2 20        	sep	#$20
 25026                        	longa	off
 25027 06:6577: A9 03        	lda	#$3
 25028 06:6579: 8F 0F 04 AF  	sta	>11469839
 25029 06:657D: C2 20        	rep	#$20
 25030                        	longa	on
 25031                        ;	}
 25032                        	.line	3986
 25033                        ;	else
 25034 06:657F: 82 14 00     	brl	L10437
 25035                        L10436:
  Mon Sep 27 2021  9:39                                                Page 460


 25036                        ;	{
 25037                        	.line	3988
 25038                        ;		*VDMA_DST_STRIDE_L  = 0x80;
 25039                        	.line	3989
 25040 06:6582: E2 20        	sep	#$20
 25041                        	longa	off
 25042 06:6584: A9 80        	lda	#$80
 25043 06:6586: 8F 0E 04 AF  	sta	>11469838
 25044 06:658A: C2 20        	rep	#$20
 25045                        	longa	on
 25046                        ;		*VDMA_DST_STRIDE_H	= 0x02;
 25047                        	.line	3990
 25048 06:658C: E2 20        	sep	#$20
 25049                        	longa	off
 25050 06:658E: A9 02        	lda	#$2
 25051 06:6590: 8F 0F 04 AF  	sta	>11469839
 25052 06:6594: C2 20        	rep	#$20
 25053                        	longa	on
 25054                        ;	}
 25055                        	.line	3991
 25056                        L10437:
 25057                        ;
 25058                        ;
 25059                        ;    VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VD
                    MA_CTRL_1D_2D | VDMA_CTRL_TRF_FILL | VDMA_CTRL_START_TRF);
 25060                        	.line	3994
 25061 06:6596: E2 20        	sep	#$20
 25062                        	longa	off
 25063 06:6598: A9 87        	lda	#$87
 25064 06:659A: 8F 00 04 AF  	sta	>11469824
 25065 06:659E: C2 20        	rep	#$20
 25066                        	longa	on
 25067                        ;
 25068                        ;    asm NOP;
 25069                        	.line	3996
 25070                        	asmstart
 25071 06:65A0: EA           	NOP
 25072                        	asmend
 25073                        ;    asm NOP;
 25074                        	.line	3997
 25075                        	asmstart
 25076 06:65A1: EA           	NOP
 25077                        	asmend
 25078                        ;    asm NOP;
 25079                        	.line	3998
 25080                        	asmstart
 25081 06:65A2: EA           	NOP
 25082                        	asmend
 25083                        ;
 25084                        ;	while(status == VDMA_STAT_VDMA_IPS)
 25085                        	.line	4000
 25086                        L10438:
 25087 06:65A3: E2 20        	sep	#$20
 25088                        	longa	off
 25089 06:65A5: A5 0D        	lda	<L1122+status_1
 25090 06:65A7: C9 80        	cmp	#<$80
 25091 06:65A9: C2 20        	rep	#$20
 25092                        	longa	on
  Mon Sep 27 2021  9:39                                                Page 461


 25093 06:65AB: F0 03        	beq	L1127
 25094 06:65AD: 82 1E 00     	brl	L10439
 25095                        L1127:
 25096                        ;	{
 25097                        	.line	4001
 25098                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 25099                        	.line	4002
 25100 06:65B0: E2 20        	sep	#$20
 25101                        	longa	off
 25102 06:65B2: AF 01 04 AF  	lda	>11469825
 25103 06:65B6: 29 80        	and	#<$80
 25104 06:65B8: 85 0D        	sta	<L1122+status_1
 25105 06:65BA: C2 20        	rep	#$20
 25106                        	longa	on
 25107                        ;		spinLock++;
 25108                        	.line	4003
 25109 06:65BC: E6 0B        	inc	<L1122+spinLock_1
 25110                        ;
 25111                        ;		if(spinLock > 32000)
 25112                        	.line	4005
 25113                        ;		{
 25114 06:65BE: A9 00 7D     	lda	#$7d00
 25115 06:65C1: C5 0B        	cmp	<L1122+spinLock_1
 25116 06:65C3: 90 03        	bcc	L1128
 25117 06:65C5: 82 03 00     	brl	L10440
 25118                        L1128:
 25119                        	.line	4006
 25120                        ;			break;
 25121                        	.line	4007
 25122 06:65C8: 82 03 00     	brl	L10439
 25123                        ;		}
 25124                        	.line	4008
 25125                        ;	}
 25126                        L10440:
 25127                        	.line	4009
 25128 06:65CB: 82 D5 FF     	brl	L10438
 25129                        L10439:
 25130                        ;
 25131                        ;#ifdef USE_MAX_DEBUG
 25132                        ;	k_debug_integer("k_vdma_fill_address1::spinLock:
                    ",spinLock);
 25133                        ;#endif
 25134                        ;
 25135                        ;	asm NOP;
 25136                        	.line	4015
 25137                        	asmstart
 25138 06:65CE: EA           	NOP
 25139                        	asmend
 25140                        ;
 25141                        ;	VDMA_CONTROL_REG[0] = 0;
 25142                        	.line	4017
 25143 06:65CF: E2 20        	sep	#$20
 25144                        	longa	off
 25145 06:65D1: A9 00        	lda	#$0
 25146 06:65D3: 8F 00 04 AF  	sta	>11469824
 25147 06:65D7: C2 20        	rep	#$20
 25148                        	longa	on
  Mon Sep 27 2021  9:39                                                Page 462


 25149                        ;
 25150                        ;   return ;
 25151                        	.line	4019
 25152                        L1129:
 25153 06:65D9: A5 13        	lda	<L1121+2
 25154 06:65DB: 85 1F        	sta	<L1121+2+12
 25155 06:65DD: A5 12        	lda	<L1121+1
 25156 06:65DF: 85 1E        	sta	<L1121+1+12
 25157 06:65E1: 2B           	pld
 25158 06:65E2: 3B           	tsc
 25159 06:65E3: 18           	clc
 25160 06:65E4: 69 1D 00     	adc	#L1121+12
 25161 06:65E7: 1B           	tcs
 25162 06:65E8: 6B           	rtl
 25163                        ;}
 25164                        	.line	4020
 25165                        	.endblock	4020
 25166             00000011   L1121	equ	17
 25167             00000009   L1122	equ	9
 25168 06:65E9:              	ends
 25169                        	efunc
 25170                        	.endfunc	4020,9,17
 25171                        	.line	4020
 25172                        ;
 25173                        ;
 25174                        ;
 25175                        ;
 25176                        ;void k_vdma_fill(char FAR * pdst,long size,unsign
                    ed char data)
 25177                        ;{
 25178                        	.line	4025
 25179                        	.line	4026
 25180                        	GFX
 25181                        	xdef	~~k_vdma_fill
 25182                        	func
 25183                        	.function	4026
 25184                        ~~k_vdma_fill:
 25185                        	longa	on
 25186                        	longi	on
 25187 06:65E9: 3B           	tsc
 25188 06:65EA: 38           	sec
 25189 06:65EB: E9 0D 00     	sbc	#L1130
 25190 06:65EE: 1B           	tcs
 25191 06:65EF: 0B           	phd
 25192 06:65F0: 5B           	tcd
 25193             00000004   pdst_0	set	4
 25194             00000008   size_0	set	8
 25195             0000000C   data_0	set	12
 25196                        	.block	4026
 25197                        ;	int pos = 0;
 25198                        ;	int spinLock = 0;
 25199                        ;	char status = VDMA_STAT_VDMA_IPS;
 25200                        ;	/*
 25201                        ;	char size_low = L24BYTE(size);
 25202                        ;	char size_mid = M24BYTE(size);
 25203                        ;	char size_hi  = H24BYTE(size);
 25204                        ;
 25205                        ;	char addr_low = L24BYTE((long)pdst);
  Mon Sep 27 2021  9:39                                                Page 463


 25206                        ;	char addr_mid = M24BYTE((long)pdst);
 25207                        ;	char addr_hi  = H24BYTE((long)pdst);
 25208                        ;
 25209                        ;	
 25210                        ;	pos=2;
 25211                        ;	k_itoa(size_low,buffer,16);
 25212                        ;	pos=k_put_draw_text(pos,2,buffer,15,0);
 25213                        ;	pos=k_put_draw_text(pos,2,"L:",15,0);
 25214                        ;	k_itoa(size_mid,buffer,16);
 25215                        ;	pos=k_put_draw_text(pos,2,buffer,15,0);
 25216                        ;	pos=k_put_draw_text(pos,2,"M:",15,0);
 25217                        ;	k_itoa(size_hi,buffer,16);
 25218                        ;	pos=k_put_draw_text(pos,2,buffer,15,0);
 25219                        ;	pos=k_put_draw_text(pos,2,"H",15,0);
 25220                        ;	
 25221                        ;	pos=2;
 25222                        ;	k_itoa(addr_low,buffer,16);
 25223                        ;	pos=k_put_draw_text(pos,3,buffer,15,0);
 25224                        ;	pos=k_put_draw_text(pos,3,"L:",15,0);
 25225                        ;	k_itoa(addr_mid,buffer,16);
 25226                        ;	pos=k_put_draw_text(pos,3,buffer,15,0);
 25227                        ;	pos=k_put_draw_text(pos,3,"M:",15,0);
 25228                        ;	k_itoa(addr_hi,buffer,16);
 25229                        ;	pos=k_put_draw_text(pos,3,buffer,15,0);
 25230                        ;	pos=k_put_draw_text(pos,3,"H",15,0);
 25231                        ;	*/
 25232                        ;	/*
 25233                        ;	if(VDMA_CONTROL_REG[0] > 0)
 25234                        ;	{
 25235                        ;		while(status == VDMA_STAT_VDMA_IPS || sp
                    inLock > 1000)
 25236                        ;		{
 25237                        ;			status = ( *((unsigned char *)0x
                    AF0401) & (unsigned char)VDMA_STAT_VDMA_IPS);
 25238                        ;			spinLock++;
 25239                        ;		}
 25240                        ;	}
 25241                        ;	*/
 25242                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE;
 25243             00000000   pos_1	set	0
 25244             00000002   spinLock_1	set	2
 25245             00000004   status_1	set	4
 25246                        	.sym	pos,0,5,1,16
 25247                        	.sym	spinLock,2,5,1,16
 25248                        	.sym	status,4,14,1,8
 25249                        	.sym	pdst,4,142,6,32
 25250                        	.sym	size,8,7,6,32
 25251                        	.sym	data,12,14,6,8
 25252 06:65F1: 64 09        	stz	<L1131+pos_1
 25253 06:65F3: 64 0B        	stz	<L1131+spinLock_1
 25254 06:65F5: E2 20        	sep	#$20
 25255                        	longa	off
 25256 06:65F7: A9 80        	lda	#$80
 25257 06:65F9: 85 0D        	sta	<L1131+status_1
 25258 06:65FB: C2 20        	rep	#$20
 25259                        	longa	on
 25260                        	.line	4072
 25261 06:65FD: E2 20        	sep	#$20
  Mon Sep 27 2021  9:39                                                Page 464


 25262                        	longa	off
 25263 06:65FF: A9 01        	lda	#$1
 25264 06:6601: 8F 00 04 AF  	sta	>11469824
 25265 06:6605: C2 20        	rep	#$20
 25266                        	longa	on
 25267                        ;
 25268                        ;	*BM_START_ADDY_L = 0x00;
 25269                        	.line	4074
 25270 06:6607: E2 20        	sep	#$20
 25271                        	longa	off
 25272 06:6609: A9 00        	lda	#$0
 25273 06:660B: 8F 41 01 AF  	sta	>11469121
 25274 06:660F: C2 20        	rep	#$20
 25275                        	longa	on
 25276                        ;	*BM_START_ADDY_M = 0x00;
 25277                        	.line	4075
 25278 06:6611: E2 20        	sep	#$20
 25279                        	longa	off
 25280 06:6613: A9 00        	lda	#$0
 25281 06:6615: 8F 42 01 AF  	sta	>11469122
 25282 06:6619: C2 20        	rep	#$20
 25283                        	longa	on
 25284                        ;	*BM_START_ADDY_H = 0x00;
 25285                        	.line	4076
 25286 06:661B: E2 20        	sep	#$20
 25287                        	longa	off
 25288 06:661D: A9 00        	lda	#$0
 25289 06:661F: 8F 43 01 AF  	sta	>11469123
 25290 06:6623: C2 20        	rep	#$20
 25291                        	longa	on
 25292                        ;	*((char FAR*)0xAF1F80) = 0x02;
 25293                        	.line	4077
 25294 06:6625: E2 20        	sep	#$20
 25295                        	longa	off
 25296 06:6627: A9 02        	lda	#$2
 25297 06:6629: 8F 80 1F AF  	sta	>11476864
 25298 06:662D: C2 20        	rep	#$20
 25299                        	longa	on
 25300                        ;	
 25301                        ;	*BM_X_SIZE_L = 0x80;
 25302                        	.line	4079
 25303 06:662F: E2 20        	sep	#$20
 25304                        	longa	off
 25305 06:6631: A9 80        	lda	#$80
 25306 06:6633: 8F 44 01 AF  	sta	>11469124
 25307 06:6637: C2 20        	rep	#$20
 25308                        	longa	on
 25309                        ;	*BM_X_SIZE_H = 0x02;	
 25310                        	.line	4080
 25311 06:6639: E2 20        	sep	#$20
 25312                        	longa	off
 25313 06:663B: A9 02        	lda	#$2
 25314 06:663D: 8F 45 01 AF  	sta	>11469125
 25315 06:6641: C2 20        	rep	#$20
 25316                        	longa	on
 25317                        ;	*BM_Y_SIZE_L = 0xE0;
 25318                        	.line	4081
 25319 06:6643: E2 20        	sep	#$20
  Mon Sep 27 2021  9:39                                                Page 465


 25320                        	longa	off
 25321 06:6645: A9 E0        	lda	#$e0
 25322 06:6647: 8F 46 01 AF  	sta	>11469126
 25323 06:664B: C2 20        	rep	#$20
 25324                        	longa	on
 25325                        ;	*BM_Y_SIZE_H = 0x01;
 25326                        	.line	4082
 25327 06:664D: E2 20        	sep	#$20
 25328                        	longa	off
 25329 06:664F: A9 01        	lda	#$1
 25330 06:6651: 8F 47 01 AF  	sta	>11469127
 25331 06:6655: C2 20        	rep	#$20
 25332                        	longa	on
 25333                        ;	
 25334                        ;	VDMA_SIZE_L[0] = L24BYTE(size);
 25335                        	.line	4084
 25336 06:6657: E2 20        	sep	#$20
 25337                        	longa	off
 25338 06:6659: A5 15        	lda	<L1130+size_0
 25339 06:665B: 8F 08 04 AF  	sta	>11469832
 25340 06:665F: C2 20        	rep	#$20
 25341                        	longa	on
 25342                        ;	VDMA_SIZE_M[0] = M24BYTE(size);
 25343                        	.line	4085
 25344 06:6661: D4 17        	pei	<L1130+size_0+2
 25345 06:6663: D4 15        	pei	<L1130+size_0
 25346 06:6665: A9 08 00     	lda	#$8
 25347                        	xref	~~~llsr
 25348 06:6668: 22 xx xx xx  	jsl	~~~llsr
 25349 06:666C: 85 01        	sta	<R0
 25350 06:666E: 86 03        	stx	<R0+2
 25351 06:6670: A5 01        	lda	<R0
 25352 06:6672: 29 FF 00     	and	#<$ff
 25353 06:6675: 85 05        	sta	<R1
 25354 06:6677: 64 07        	stz	<R1+2
 25355 06:6679: E2 20        	sep	#$20
 25356                        	longa	off
 25357 06:667B: A5 05        	lda	<R1
 25358 06:667D: 8F 09 04 AF  	sta	>11469833
 25359 06:6681: C2 20        	rep	#$20
 25360                        	longa	on
 25361                        ;	VDMA_SIZE_H[0] = H24BYTE(size);
 25362                        	.line	4086
 25363 06:6683: D4 17        	pei	<L1130+size_0+2
 25364 06:6685: D4 15        	pei	<L1130+size_0
 25365 06:6687: A9 10 00     	lda	#$10
 25366                        	xref	~~~llsr
 25367 06:668A: 22 xx xx xx  	jsl	~~~llsr
 25368 06:668E: 85 01        	sta	<R0
 25369 06:6690: 86 03        	stx	<R0+2
 25370 06:6692: A5 01        	lda	<R0
 25371 06:6694: 29 FF 00     	and	#<$ff
 25372 06:6697: 85 05        	sta	<R1
 25373 06:6699: 64 07        	stz	<R1+2
 25374 06:669B: E2 20        	sep	#$20
 25375                        	longa	off
 25376 06:669D: A5 05        	lda	<R1
 25377 06:669F: 8F 0A 04 AF  	sta	>11469834
  Mon Sep 27 2021  9:39                                                Page 466


 25378 06:66A3: C2 20        	rep	#$20
 25379                        	longa	on
 25380                        ;	
 25381                        ;	
 25382                        ;	*VDMA_X_SIZE_L = 0x80;
 25383                        	.line	4089
 25384 06:66A5: E2 20        	sep	#$20
 25385                        	longa	off
 25386 06:66A7: A9 80        	lda	#$80
 25387 06:66A9: 8F 08 04 AF  	sta	>11469832
 25388 06:66AD: C2 20        	rep	#$20
 25389                        	longa	on
 25390                        ;	*VDMA_X_SIZE_H = 0x20;
 25391                        	.line	4090
 25392 06:66AF: E2 20        	sep	#$20
 25393                        	longa	off
 25394 06:66B1: A9 20        	lda	#$20
 25395 06:66B3: 8F 09 04 AF  	sta	>11469833
 25396 06:66B7: C2 20        	rep	#$20
 25397                        	longa	on
 25398                        ;
 25399                        ;	*VDMA_Y_SIZE_L = 0xE0;
 25400                        	.line	4092
 25401 06:66B9: E2 20        	sep	#$20
 25402                        	longa	off
 25403 06:66BB: A9 E0        	lda	#$e0
 25404 06:66BD: 8F 0A 04 AF  	sta	>11469834
 25405 06:66C1: C2 20        	rep	#$20
 25406                        	longa	on
 25407                        ;	*VDMA_Y_SIZE_H = 0x01;
 25408                        	.line	4093
 25409 06:66C3: E2 20        	sep	#$20
 25410                        	longa	off
 25411 06:66C5: A9 01        	lda	#$1
 25412 06:66C7: 8F 0B 04 AF  	sta	>11469835
 25413 06:66CB: C2 20        	rep	#$20
 25414                        	longa	on
 25415                        ;
 25416                        ;	*VDMA_DST_STRIDE_L = 0x80;
 25417                        	.line	4095
 25418 06:66CD: E2 20        	sep	#$20
 25419                        	longa	off
 25420 06:66CF: A9 80        	lda	#$80
 25421 06:66D1: 8F 0E 04 AF  	sta	>11469838
 25422 06:66D5: C2 20        	rep	#$20
 25423                        	longa	on
 25424                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 25425                        	.line	4096
 25426 06:66D7: E2 20        	sep	#$20
 25427                        	longa	off
 25428 06:66D9: A9 02        	lda	#$2
 25429 06:66DB: 8F 0F 04 AF  	sta	>11469839
 25430 06:66DF: C2 20        	rep	#$20
 25431                        	longa	on
 25432                        ;	
 25433                        ;	/*
 25434                        ;        LDA #200
 25435                        ;        STA @lVDMA_X_SIZE_L
  Mon Sep 27 2021  9:39                                                Page 467


 25436                        ;        LDA #00
 25437                        ;        STA @lVDMA_X_SIZE_H
 25438                        ;
 25439                        ;        LDA #64
 25440                        ;        STA @lVDMA_Y_SIZE_L
 25441                        ;        LDA #00
 25442                        ;        STA @lVDMA_Y_SIZE_H
 25443                        ;
 25444                        ;        LDA #$60
 25445                        ;        STA @lVDMA_DST_ADDY_L
 25446                        ;        LDA #$90
 25447                        ;        STA @lVDMA_DST_ADDY_M
 25448                        ;        LDA #$01
 25449                        ;        STA @lVDMA_DST_ADDY_H
 25450                        ;
 25451                        ;        LDA #$80
 25452                        ;        STA @lVDMA_DST_STRIDE_L
 25453                        ;        LDA #$02
 25454                        ;        STA @lVDMA_DST_STRIDE_H
 25455                        ;	*/
 25456                        ;
 25457                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
 25458                        	.line	4122
 25459 06:66E1: E2 20        	sep	#$20
 25460                        	longa	off
 25461 06:66E3: A5 11        	lda	<L1130+pdst_0
 25462 06:66E5: 8F 05 04 AF  	sta	>11469829
 25463 06:66E9: C2 20        	rep	#$20
 25464                        	longa	on
 25465                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 25466                        	.line	4123
 25467 06:66EB: D4 13        	pei	<L1130+pdst_0+2
 25468 06:66ED: D4 11        	pei	<L1130+pdst_0
 25469 06:66EF: A9 08 00     	lda	#$8
 25470                        	xref	~~~llsr
 25471 06:66F2: 22 xx xx xx  	jsl	~~~llsr
 25472 06:66F6: 85 01        	sta	<R0
 25473 06:66F8: 86 03        	stx	<R0+2
 25474 06:66FA: A5 01        	lda	<R0
 25475 06:66FC: 29 FF 00     	and	#<$ff
 25476 06:66FF: 85 05        	sta	<R1
 25477 06:6701: 64 07        	stz	<R1+2
 25478 06:6703: E2 20        	sep	#$20
 25479                        	longa	off
 25480 06:6705: A5 05        	lda	<R1
 25481 06:6707: 8F 06 04 AF  	sta	>11469830
 25482 06:670B: C2 20        	rep	#$20
 25483                        	longa	on
 25484                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 25485                        	.line	4124
 25486 06:670D: D4 13        	pei	<L1130+pdst_0+2
 25487 06:670F: D4 11        	pei	<L1130+pdst_0
 25488 06:6711: A9 10 00     	lda	#$10
 25489                        	xref	~~~llsr
 25490 06:6714: 22 xx xx xx  	jsl	~~~llsr
 25491 06:6718: 85 01        	sta	<R0
 25492 06:671A: 86 03        	stx	<R0+2
 25493 06:671C: A5 01        	lda	<R0
  Mon Sep 27 2021  9:39                                                Page 468


 25494 06:671E: 29 FF 00     	and	#<$ff
 25495 06:6721: 85 05        	sta	<R1
 25496 06:6723: 64 07        	stz	<R1+2
 25497 06:6725: E2 20        	sep	#$20
 25498                        	longa	off
 25499 06:6727: A5 05        	lda	<R1
 25500 06:6729: 8F 07 04 AF  	sta	>11469831
 25501 06:672D: C2 20        	rep	#$20
 25502                        	longa	on
 25503                        ;
 25504                        ;	VDMA_BYTE_2_WRITE[0] = (char)data;
 25505                        	.line	4126
 25506 06:672F: E2 20        	sep	#$20
 25507                        	longa	off
 25508 06:6731: A5 19        	lda	<L1130+data_0
 25509 06:6733: 8F 01 04 AF  	sta	>11469825
 25510 06:6737: C2 20        	rep	#$20
 25511                        	longa	on
 25512                        ;	
 25513                        ;	VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VDMA_
                    CTRL_TRF_FILL | VDMA_CTRL_START_TRF);//0x85;
 25514                        	.line	4128
 25515 06:6739: E2 20        	sep	#$20
 25516                        	longa	off
 25517 06:673B: A9 85        	lda	#$85
 25518 06:673D: 8F 00 04 AF  	sta	>11469824
 25519 06:6741: C2 20        	rep	#$20
 25520                        	longa	on
 25521                        ;   
 25522                        ;	/*
 25523                        ;	while(status == VDMA_STAT_VDMA_IPS)
 25524                        ;	{
 25525                        ;		status = ( *((unsigned char *)0xAF0401) 
                    & VDMA_STAT_VDMA_IPS);
 25526                        ;	}
 25527                        ;	
 25528                        ;	
 25529                        ;	while(status == VDMA_STAT_VDMA_IPS)
 25530                        ;	{
 25531                        ;		#asm
 25532                        ;		PHA 
 25533                        ;        LDA $AF0401
 25534                        ;        AND #$80
 25535                        ;        CMP #$80
 25536                        ;        STA %%status
 25537                        ;		PLA
 25538                        ;		#endasm
 25539                        ;	}
 25540                        ;	*/
 25541                        ;	
 25542                        ;   //return *VDMA_STATUS_REG;
 25543                        ;   //return VDMA_STATUS_REG[0];
 25544                        ;   //VDMA_CONTROL_REG[0] = (char)0x00;
 25545                        ;   
 25546                        ;   return ;
 25547                        	.line	4154
 25548                        L1133:
 25549 06:6743: A5 0F        	lda	<L1130+2
  Mon Sep 27 2021  9:39                                                Page 469


 25550 06:6745: 85 19        	sta	<L1130+2+10
 25551 06:6747: A5 0E        	lda	<L1130+1
 25552 06:6749: 85 18        	sta	<L1130+1+10
 25553 06:674B: 2B           	pld
 25554 06:674C: 3B           	tsc
 25555 06:674D: 18           	clc
 25556 06:674E: 69 17 00     	adc	#L1130+10
 25557 06:6751: 1B           	tcs
 25558 06:6752: 6B           	rtl
 25559                        ;}
 25560                        	.line	4155
 25561                        	.endblock	4155
 25562             0000000D   L1130	equ	13
 25563             00000009   L1131	equ	9
 25564 06:6753:              	ends
 25565                        	efunc
 25566                        	.endfunc	4155,9,13
 25567                        	.line	4155
 25568                        ;
 25569                        ;
 25570                        ;void k_enable_bitmap_mode(void)
 25571                        ;{
 25572                        	.line	4158
 25573                        	.line	4159
 25574                        	GFX
 25575                        	xdef	~~k_enable_bitmap_mode
 25576                        	func
 25577                        	.function	4159
 25578                        ~~k_enable_bitmap_mode:
 25579                        	longa	on
 25580                        	longi	on
 25581 06:6753: 3B           	tsc
 25582 06:6754: 38           	sec
 25583 06:6755: E9 04 00     	sbc	#L1134
 25584 06:6758: 1B           	tcs
 25585 06:6759: 0B           	phd
 25586 06:675A: 5B           	tcd
 25587                        	.block	4159
 25588                        ;	int i = 30000;
 25589                        ;	int j = 30000;
 25590                        ;
 25591                        ;	k_lock_irq();
 25592             00000000   i_1	set	0
 25593             00000002   j_1	set	2
 25594                        	.sym	i,0,5,1,16
 25595                        	.sym	j,2,5,1,16
 25596 06:675B: A9 30 75     	lda	#$7530
 25597 06:675E: 85 01        	sta	<L1135+i_1
 25598 06:6760: A9 30 75     	lda	#$7530
 25599 06:6763: 85 03        	sta	<L1135+j_1
 25600                        	.line	4163
 25601 06:6765: 22 xx xx xx  	jsl	~~k_lock_irq
 25602                        ;
 25603                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 25604                        	.line	4165
 25605 06:6769: F4 00 00     	pea	#<$0
 25606 06:676C: F4 00 00     	pea	#<$0
 25607 06:676F: F4 E0 01     	pea	#<$1e0
  Mon Sep 27 2021  9:39                                                Page 470


 25608 06:6772: F4 80 02     	pea	#<$280
 25609 06:6775: F4 00 00     	pea	#^$0
 25610 06:6778: F4 00 00     	pea	#<$0
 25611 06:677B: F4 00 00     	pea	#^$0
 25612 06:677E: F4 00 00     	pea	#<$0
 25613 06:6781: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 25614                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_BACK);
 25615                        	.line	4166
 25616 06:6785: F4 08 00     	pea	#<$8
 25617 06:6788: F4 00 00     	pea	#<$0
 25618 06:678B: F4 E0 01     	pea	#<$1e0
 25619 06:678E: F4 80 02     	pea	#<$280
 25620 06:6791: F4 00 00     	pea	#^$0
 25621 06:6794: F4 00 00     	pea	#<$0
 25622 06:6797: F4 00 00     	pea	#^$0
 25623 06:679A: F4 00 00     	pea	#<$0
 25624 06:679D: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 25625                        ;
 25626                        ;	k_unlock_irq();
 25627                        	.line	4168
 25628 06:67A1: 22 xx xx xx  	jsl	~~k_unlock_irq
 25629                        ;
 25630                        ;	if(MASTER_CTRL_REG_H[0])
 25631                        	.line	4170
 25632                        ;	{
 25633 06:67A5: AF 01 00 AF  	lda	>11468801
 25634 06:67A9: 29 FF 00     	and	#$ff
 25635 06:67AC: D0 03        	bne	L1137
 25636 06:67AE: 82 4A 00     	brl	L10441
 25637                        L1137:
 25638                        	.line	4171
 25639                        ;		k_debug_string("k_enable_bitmap_mode to 
                    800x600...\r\n");
 25640                        	.line	4172
 25641 06:67B1: F4 xx xx     	pea	#^L1060
 25642 06:67B4: F4 xx xx     	pea	#<L1060
 25643 06:67B7: 22 xx xx xx  	jsl	~~k_debug_string
 25644                        ;
 25645                        ;		MASTER_CTRL_REG_H[0] = MSTR_CTRL_VIDEO_M
                    ODE0;
 25646                        	.line	4174
 25647 06:67BB: E2 20        	sep	#$20
 25648                        	longa	off
 25649 06:67BD: A9 01        	lda	#$1
 25650 06:67BF: 8F 01 00 AF  	sta	>11468801
 25651 06:67C3: C2 20        	rep	#$20
 25652                        	longa	on
 25653                        ;		MASTER_CTRL_REG_L[0] = MSTR_CTRL_GRAPH_M
                    ODE_EN;
 25654                        	.line	4175
 25655 06:67C5: E2 20        	sep	#$20
 25656                        	longa	off
 25657 06:67C7: A9 04        	lda	#$4
 25658 06:67C9: 8F 00 00 AF  	sta	>11468800
 25659 06:67CD: C2 20        	rep	#$20
 25660                        	longa	on
 25661                        ;
 25662                        ;		for(i=3200;i>0;i--)
  Mon Sep 27 2021  9:39                                                Page 471


 25663                        	.line	4177
 25664 06:67CF: A9 80 0C     	lda	#$c80
 25665 06:67D2: 85 01        	sta	<L1135+i_1
 25666                        L10444:
 25667                        ;		{
 25668                        	.line	4178
 25669                        ;			for(j=0;j<256;j++)
 25670                        	.line	4179
 25671 06:67D4: 64 03        	stz	<L1135+j_1
 25672                        L10447:
 25673                        ;			{
 25674                        	.line	4180
 25675                        ;				asm NOP;
 25676                        	.line	4181
 25677                        	asmstart
 25678 06:67D6: EA           	NOP
 25679                        	asmend
 25680                        ;			}
 25681                        	.line	4182
 25682                        L10445:
 25683 06:67D7: E6 03        	inc	<L1135+j_1
 25684 06:67D9: 38           	sec
 25685 06:67DA: A5 03        	lda	<L1135+j_1
 25686 06:67DC: E9 00 01     	sbc	#<$100
 25687 06:67DF: 70 03        	bvs	L1138
 25688 06:67E1: 49 00 80     	eor	#$8000
 25689                        L1138:
 25690 06:67E4: 30 03        	bmi	L1139
 25691 06:67E6: 82 ED FF     	brl	L10447
 25692                        L1139:
 25693                        L10446:
 25694                        ;		}
 25695                        	.line	4183
 25696                        L10442:
 25697 06:67E9: C6 01        	dec	<L1135+i_1
 25698 06:67EB: 38           	sec
 25699 06:67EC: A9 00 00     	lda	#$0
 25700 06:67EF: E5 01        	sbc	<L1135+i_1
 25701 06:67F1: 70 03        	bvs	L1140
 25702 06:67F3: 49 00 80     	eor	#$8000
 25703                        L1140:
 25704 06:67F6: 30 03        	bmi	L1141
 25705 06:67F8: 82 D9 FF     	brl	L10444
 25706                        L1141:
 25707                        L10443:
 25708                        ;	}
 25709                        	.line	4184
 25710                        ;	k_get_video_mode();
 25711                        L10441:
 25712                        	.line	4185
 25713 06:67FB: 22 25 69 06  	jsl	~~k_get_video_mode
 25714                        ;
 25715                        ;	/*
 25716                        ;	k_debug_string("k_enable_bitmap_mode RESET 1b...
                    \r\n");
 25717                        ;
 25718                        ;	MASTER_CTRL_REG_H[0] = MSTR_CTRL_VIDEO_MODE0;
 25719                        ;	MASTER_CTRL_REG_L[0] = MSTR_CTRL_GRAPH_MODE_EN;
  Mon Sep 27 2021  9:39                                                Page 472


 25720                        ;
 25721                        ;	for(i=3200;i>0;i--)
 25722                        ;	{
 25723                        ;		for(j=0;j<256;j++)
 25724                        ;		{
 25725                        ;			asm NOP;
 25726                        ;		}
 25727                        ;	}
 25728                        ;
 25729                        ;	k_debug_string("k_enable_bitmap_mode RESET 1c...
                    \r\n");
 25730                        ;
 25731                        ;	MASTER_CTRL_REG_H[0] = MSTR_CTRL_VIDEO_MODE0;
 25732                        ;	MASTER_CTRL_REG_L[0] = MSTR_CTRL_GRAPH_MODE_EN;
 25733                        ;
 25734                        ;	for(i=3200;i>0;i--)
 25735                        ;	{
 25736                        ;		for(j=0;j<256;j++)
 25737                        ;		{
 25738                        ;			asm NOP;
 25739                        ;		}
 25740                        ;	}
 25741                        ;	 */
 25742                        ;	//k_debug_string("k_enable_bitmap_mode disable 8
                    00x600...\r\n");
 25743                        ;	//k_get_video_mode();
 25744                        ;
 25745                        ;	MASTER_CTRL_REG_H[0] = 0x00;
 25746                        	.line	4217
 25747 06:67FF: E2 20        	sep	#$20
 25748                        	longa	off
 25749 06:6801: A9 00        	lda	#$0
 25750 06:6803: 8F 01 00 AF  	sta	>11468801
 25751 06:6807: C2 20        	rep	#$20
 25752                        	longa	on
 25753                        ;	//MASTER_CTRL_REG_L[0] = MSTR_CTRL_GRAPH_MODE_EN
                    ;
 25754                        ;	for(i=3200;i>0;i--)
 25755                        	.line	4219
 25756 06:6809: A9 80 0C     	lda	#$c80
 25757 06:680C: 85 01        	sta	<L1135+i_1
 25758                        L10450:
 25759                        ;	{
 25760                        	.line	4220
 25761                        ;		for(j=0;j<256;j++)
 25762                        	.line	4221
 25763 06:680E: 64 03        	stz	<L1135+j_1
 25764                        L10453:
 25765                        ;		{
 25766                        	.line	4222
 25767                        ;			asm NOP;
 25768                        	.line	4223
 25769                        	asmstart
 25770 06:6810: EA           	NOP
 25771                        	asmend
 25772                        ;		}
 25773                        	.line	4224
 25774                        L10451:
  Mon Sep 27 2021  9:39                                                Page 473


 25775 06:6811: E6 03        	inc	<L1135+j_1
 25776 06:6813: 38           	sec
 25777 06:6814: A5 03        	lda	<L1135+j_1
 25778 06:6816: E9 00 01     	sbc	#<$100
 25779 06:6819: 70 03        	bvs	L1142
 25780 06:681B: 49 00 80     	eor	#$8000
 25781                        L1142:
 25782 06:681E: 30 03        	bmi	L1143
 25783 06:6820: 82 ED FF     	brl	L10453
 25784                        L1143:
 25785                        L10452:
 25786                        ;	}
 25787                        	.line	4225
 25788                        L10448:
 25789 06:6823: C6 01        	dec	<L1135+i_1
 25790 06:6825: 38           	sec
 25791 06:6826: A9 00 00     	lda	#$0
 25792 06:6829: E5 01        	sbc	<L1135+i_1
 25793 06:682B: 70 03        	bvs	L1144
 25794 06:682D: 49 00 80     	eor	#$8000
 25795                        L1144:
 25796 06:6830: 30 03        	bmi	L1145
 25797 06:6832: 82 D9 FF     	brl	L10450
 25798                        L1145:
 25799                        L10449:
 25800                        ;
 25801                        ;	*BM1_CONTROL_REG = 0x01;
 25802                        	.line	4227
 25803 06:6835: E2 20        	sep	#$20
 25804                        	longa	off
 25805 06:6837: A9 01        	lda	#$1
 25806 06:6839: 8F 08 01 AF  	sta	>11469064
 25807 06:683D: C2 20        	rep	#$20
 25808                        	longa	on
 25809                        ;	*BM1_START_ADDY_L = 0;
 25810                        	.line	4228
 25811 06:683F: E2 20        	sep	#$20
 25812                        	longa	off
 25813 06:6841: A9 00        	lda	#$0
 25814 06:6843: 8F 09 01 AF  	sta	>11469065
 25815 06:6847: C2 20        	rep	#$20
 25816                        	longa	on
 25817                        ;	*BM1_START_ADDY_M = 0;
 25818                        	.line	4229
 25819 06:6849: E2 20        	sep	#$20
 25820                        	longa	off
 25821 06:684B: A9 00        	lda	#$0
 25822 06:684D: 8F 0A 01 AF  	sta	>11469066
 25823 06:6851: C2 20        	rep	#$20
 25824                        	longa	on
 25825                        ;	*BM1_START_ADDY_H = BITMAP_BACK;
 25826                        	.line	4230
 25827 06:6853: E2 20        	sep	#$20
 25828                        	longa	off
 25829 06:6855: A9 08        	lda	#$8
 25830 06:6857: 8F 0B 01 AF  	sta	>11469067
 25831 06:685B: C2 20        	rep	#$20
 25832                        	longa	on
  Mon Sep 27 2021  9:39                                                Page 474


 25833                        ;
 25834                        ;	*BM0_CONTROL_REG = 0x01;
 25835                        	.line	4232
 25836 06:685D: E2 20        	sep	#$20
 25837                        	longa	off
 25838 06:685F: A9 01        	lda	#$1
 25839 06:6861: 8F 00 01 AF  	sta	>11469056
 25840 06:6865: C2 20        	rep	#$20
 25841                        	longa	on
 25842                        ;	*BM0_START_ADDY_L = 0;
 25843                        	.line	4233
 25844 06:6867: E2 20        	sep	#$20
 25845                        	longa	off
 25846 06:6869: A9 00        	lda	#$0
 25847 06:686B: 8F 01 01 AF  	sta	>11469057
 25848 06:686F: C2 20        	rep	#$20
 25849                        	longa	on
 25850                        ;	*BM0_START_ADDY_M = 0;
 25851                        	.line	4234
 25852 06:6871: E2 20        	sep	#$20
 25853                        	longa	off
 25854 06:6873: A9 00        	lda	#$0
 25855 06:6875: 8F 02 01 AF  	sta	>11469058
 25856 06:6879: C2 20        	rep	#$20
 25857                        	longa	on
 25858                        ;	*BM0_START_ADDY_H = BITMAP_FRONT;
 25859                        	.line	4235
 25860 06:687B: E2 20        	sep	#$20
 25861                        	longa	off
 25862 06:687D: A9 00        	lda	#$0
 25863 06:687F: 8F 03 01 AF  	sta	>11469059
 25864 06:6883: C2 20        	rep	#$20
 25865                        	longa	on
 25866                        ;
 25867                        ;	*BM1_CONTROL_REG = ( BM_ENABLE | BM_LUT0 );
 25868                        	.line	4237
 25869 06:6885: E2 20        	sep	#$20
 25870                        	longa	off
 25871 06:6887: A9 01        	lda	#$1
 25872 06:6889: 8F 08 01 AF  	sta	>11469064
 25873 06:688D: C2 20        	rep	#$20
 25874                        	longa	on
 25875                        ;	*BM0_CONTROL_REG = ( BM_ENABLE | BM_LUT0 );
 25876                        	.line	4238
 25877 06:688F: E2 20        	sep	#$20
 25878                        	longa	off
 25879 06:6891: A9 01        	lda	#$1
 25880 06:6893: 8F 00 01 AF  	sta	>11469056
 25881 06:6897: C2 20        	rep	#$20
 25882                        	longa	on
 25883                        ;
 25884                        ;	k_debug_string("k_enable_bitmap_mode 640x480...\
                    r\n");
 25885                        	.line	4240
 25886 06:6899: F4 xx xx     	pea	#^L1060+37
 25887 06:689C: F4 xx xx     	pea	#<L1060+37
 25888 06:689F: 22 xx xx xx  	jsl	~~k_debug_string
 25889                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
  Mon Sep 27 2021  9:39                                                Page 475


                    EN | MSTR_CTRL_BITMAP_EN);
 25890                        	.line	4241
 25891 06:68A3: E2 20        	sep	#$20
 25892                        	longa	off
 25893 06:68A5: A9 0C        	lda	#$c
 25894 06:68A7: 8F 00 00 AF  	sta	>11468800
 25895 06:68AB: C2 20        	rep	#$20
 25896                        	longa	on
 25897                        ;
 25898                        ;	k_lock_irq();
 25899                        	.line	4243
 25900 06:68AD: 22 xx xx xx  	jsl	~~k_lock_irq
 25901                        ;
 25902                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 25903                        	.line	4245
 25904 06:68B1: F4 00 00     	pea	#<$0
 25905 06:68B4: F4 00 00     	pea	#<$0
 25906 06:68B7: F4 E0 01     	pea	#<$1e0
 25907 06:68BA: F4 80 02     	pea	#<$280
 25908 06:68BD: F4 00 00     	pea	#^$0
 25909 06:68C0: F4 00 00     	pea	#<$0
 25910 06:68C3: F4 00 00     	pea	#^$0
 25911 06:68C6: F4 00 00     	pea	#<$0
 25912 06:68C9: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 25913                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_BACK);
 25914                        	.line	4246
 25915 06:68CD: F4 08 00     	pea	#<$8
 25916 06:68D0: F4 00 00     	pea	#<$0
 25917 06:68D3: F4 E0 01     	pea	#<$1e0
 25918 06:68D6: F4 80 02     	pea	#<$280
 25919 06:68D9: F4 00 00     	pea	#^$0
 25920 06:68DC: F4 00 00     	pea	#<$0
 25921 06:68DF: F4 00 00     	pea	#^$0
 25922 06:68E2: F4 00 00     	pea	#<$0
 25923 06:68E5: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 25924                        ;
 25925                        ;	k_unlock_irq();
 25926                        	.line	4248
 25927 06:68E9: 22 xx xx xx  	jsl	~~k_unlock_irq
 25928                        ;
 25929                        ;	for(i=3200;i>0;i--)
 25930                        	.line	4250
 25931 06:68ED: A9 80 0C     	lda	#$c80
 25932 06:68F0: 85 01        	sta	<L1135+i_1
 25933                        L10456:
 25934                        ;	{
 25935                        	.line	4251
 25936                        ;		for(j=0;j<256;j++)
 25937                        	.line	4252
 25938 06:68F2: 64 03        	stz	<L1135+j_1
 25939                        L10459:
 25940                        ;		{
 25941                        	.line	4253
 25942                        ;			asm NOP;
 25943                        	.line	4254
 25944                        	asmstart
 25945 06:68F4: EA           	NOP
 25946                        	asmend
  Mon Sep 27 2021  9:39                                                Page 476


 25947                        ;		}
 25948                        	.line	4255
 25949                        L10457:
 25950 06:68F5: E6 03        	inc	<L1135+j_1
 25951 06:68F7: 38           	sec
 25952 06:68F8: A5 03        	lda	<L1135+j_1
 25953 06:68FA: E9 00 01     	sbc	#<$100
 25954 06:68FD: 70 03        	bvs	L1146
 25955 06:68FF: 49 00 80     	eor	#$8000
 25956                        L1146:
 25957 06:6902: 30 03        	bmi	L1147
 25958 06:6904: 82 ED FF     	brl	L10459
 25959                        L1147:
 25960                        L10458:
 25961                        ;	}
 25962                        	.line	4256
 25963                        L10454:
 25964 06:6907: C6 01        	dec	<L1135+i_1
 25965 06:6909: 38           	sec
 25966 06:690A: A9 00 00     	lda	#$0
 25967 06:690D: E5 01        	sbc	<L1135+i_1
 25968 06:690F: 70 03        	bvs	L1148
 25969 06:6911: 49 00 80     	eor	#$8000
 25970                        L1148:
 25971 06:6914: 30 03        	bmi	L1149
 25972 06:6916: 82 D9 FF     	brl	L10456
 25973                        L1149:
 25974                        L10455:
 25975                        ;
 25976                        ;	k_get_video_mode();
 25977                        	.line	4258
 25978 06:6919: 22 25 69 06  	jsl	~~k_get_video_mode
 25979                        ;
 25980                        ;
 25981                        ;	return;
 25982                        	.line	4261
 25983                        L1150:
 25984 06:691D: 2B           	pld
 25985 06:691E: 3B           	tsc
 25986 06:691F: 18           	clc
 25987 06:6920: 69 04 00     	adc	#L1134
 25988 06:6923: 1B           	tcs
 25989 06:6924: 6B           	rtl
 25990                        ;}
 25991                        	.line	4262
 25992                        	.endblock	4262
 25993             00000004   L1134	equ	4
 25994             00000001   L1135	equ	1
 25995 06:6925:              	ends
 25996                        	efunc
 25997                        	.endfunc	4262,1,4
 25998                        	.line	4262
 25999                        	data
 26000                        L1060:
 26001 00:0A0C: 6B 5F 65 6E  	db	$6B,$5F,$65,$6E,$61,$62,$6C,$65,$5F,$62,
                    $69,$74,$6D,$61,$70
       00:0A10: 61 62 6C 65 
       00:0A14: 5F 62 69 74 
  Mon Sep 27 2021  9:39                                                Page 477


       00:0A18: 6D 61 70 
 26002 00:0A1B: 5F 6D 6F 64  	db	$5F,$6D,$6F,$64,$65,$20,$74,$6F,$20,$38,
                    $30,$30,$78,$36,$30
       00:0A1F: 65 20 74 6F 
       00:0A23: 20 38 30 30 
       00:0A27: 78 36 30 
 26003 00:0A2A: 30 2E 2E 2E  	db	$30,$2E,$2E,$2E,$0D,$0A,$00,$6B,$5F,$65,
                    $6E,$61,$62,$6C,$65
       00:0A2E: 0D 0A 00 6B 
       00:0A32: 5F 65 6E 61 
       00:0A36: 62 6C 65 
 26004 00:0A39: 5F 62 69 74  	db	$5F,$62,$69,$74,$6D,$61,$70,$5F,$6D,$6F,
                    $64,$65,$20,$36,$34
       00:0A3D: 6D 61 70 5F 
       00:0A41: 6D 6F 64 65 
       00:0A45: 20 36 34 
 26005 00:0A48: 30 78 34 38  	db	$30,$78,$34,$38,$30,$2E,$2E,$2E,$0D,$0A,
                    $00
       00:0A4C: 30 2E 2E 2E 
       00:0A50: 0D 0A 00 
 26006 00:0A53:              	ends
 26007                        ;
 26008                        ;
 26009                        ;UINT k_get_video_mode(void)
 26010                        ;{
 26011                        	.line	4265
 26012                        	.line	4266
 26013                        	GFX
 26014                        	xdef	~~k_get_video_mode
 26015                        	func
 26016                        	.function	4266
 26017                        ~~k_get_video_mode:
 26018                        	longa	on
 26019                        	longi	on
 26020 06:6925: 3B           	tsc
 26021 06:6926: 38           	sec
 26022 06:6927: E9 00 00     	sbc	#L1152
 26023 06:692A: 1B           	tcs
 26024 06:692B: 0B           	phd
 26025 06:692C: 5B           	tcd
 26026                        	.block	4266
 26027                        ;	//Mstr_Ctrl_Video_Mode0   = $01       ; 0 - 640x
                    480 (Clock @ 25.175Mhz), 1 - 800x600 (Clock @ 40Mhz)
 26028                        ;	//Mstr_Ctrl_Video_Mode1   = $02       ; 0 - No P
                    ixel Doubling, 1- Pixel Doubling (Reduce the Pixel Resolutio
                    n by 2)
 26029                        ;
 26030                        ;	if(MASTER_CTRL_REG_H[0] & 0x01)
 26031                        	.line	4270
 26032                        ;	{
 26033 06:692D: E2 20        	sep	#$20
 26034                        	longa	off
 26035 06:692F: AF 01 00 AF  	lda	>11468801
 26036 06:6933: 29 01        	and	#<$1
 26037 06:6935: C2 20        	rep	#$20
 26038                        	longa	on
 26039 06:6937: D0 03        	bne	L1155
 26040 06:6939: 82 22 00     	brl	L10460
  Mon Sep 27 2021  9:39                                                Page 478


 26041                        L1155:
 26042                        	.line	4271
 26043                        ;		if(MASTER_CTRL_REG_H[0] & 0x02)
 26044                        	.line	4272
 26045                        ;		{
 26046 06:693C: E2 20        	sep	#$20
 26047                        	longa	off
 26048 06:693E: AF 01 00 AF  	lda	>11468801
 26049 06:6942: 29 02        	and	#<$2
 26050 06:6944: C2 20        	rep	#$20
 26051                        	longa	on
 26052 06:6946: D0 03        	bne	L1156
 26053 06:6948: 82 0D 00     	brl	L10461
 26054                        L1156:
 26055                        	.line	4273
 26056                        ;			//k_debug_string("k_get_video_mo
                    de:VIDEO_MODE_800X600D...\r\n");
 26057                        ;			return VIDEO_MODE_800X600D;
 26058                        	.line	4275
 26059 06:694B: A9 08 00     	lda	#$8
 26060                        L1157:
 26061 06:694E: A8           	tay
 26062 06:694F: 2B           	pld
 26063 06:6950: 3B           	tsc
 26064 06:6951: 18           	clc
 26065 06:6952: 69 00 00     	adc	#L1152
 26066 06:6955: 1B           	tcs
 26067 06:6956: 98           	tya
 26068 06:6957: 6B           	rtl
 26069                        ;		}
 26070                        	.line	4276
 26071                        ;
 26072                        ;		//k_debug_string("k_get_video_mode:VIDEO
                    _MODE_800X600...\r\n");
 26073                        ;		return VIDEO_MODE_800X600;
 26074                        L10461:
 26075                        	.line	4279
 26076 06:6958: A9 04 00     	lda	#$4
 26077 06:695B: 82 F0 FF     	brl	L1157
 26078                        ;	}
 26079                        	.line	4280
 26080                        ;	else
 26081                        L10460:
 26082                        ;	{
 26083                        	.line	4282
 26084                        ;		if(MASTER_CTRL_REG_H[0] & 0x02)
 26085                        	.line	4283
 26086                        ;		{
 26087 06:695E: E2 20        	sep	#$20
 26088                        	longa	off
 26089 06:6960: AF 01 00 AF  	lda	>11468801
 26090 06:6964: 29 02        	and	#<$2
 26091 06:6966: C2 20        	rep	#$20
 26092                        	longa	on
 26093 06:6968: D0 03        	bne	L1158
 26094 06:696A: 82 06 00     	brl	L10462
 26095                        L1158:
 26096                        	.line	4284
  Mon Sep 27 2021  9:39                                                Page 479


 26097                        ;			//k_debug_string("k_get_video_mo
                    de:VIDEO_MODE_640X480D...\r\n");
 26098                        ;			return VIDEO_MODE_640X480D;
 26099                        	.line	4286
 26100 06:696D: A9 02 00     	lda	#$2
 26101 06:6970: 82 DB FF     	brl	L1157
 26102                        ;		}
 26103                        	.line	4287
 26104                        ;
 26105                        ;		//k_debug_string("k_get_video_mode:VIDEO
                    _MODE_640X480...\r\n");
 26106                        ;		return VIDEO_MODE_640X480;
 26107                        L10462:
 26108                        	.line	4290
 26109 06:6973: A9 01 00     	lda	#$1
 26110 06:6976: 82 D5 FF     	brl	L1157
 26111                        ;	}
 26112                        	.line	4291
 26113                        ;
 26114                        ;
 26115                        ;	return VIDEO_MODE_UNKNOWN;
 26116                        	.line	4294
 26117 06:6979: A9 FF 00     	lda	#$ff
 26118 06:697C: 82 CF FF     	brl	L1157
 26119                        ;}
 26120                        	.line	4295
 26121                        	.endblock	4295
 26122             00000000   L1152	equ	0
 26123             00000001   L1153	equ	1
 26124 06:697F:              	ends
 26125                        	efunc
 26126                        	.endfunc	4295,1,0
 26127                        	.line	4295
 26128                        ;
 26129                        ;void k_gui_cache_desktop_widgets(void)
 26130                        ;{
 26131                        	.line	4297
 26132                        	.line	4298
 26133                        	GFX
 26134                        	xdef	~~k_gui_cache_desktop_widgets
 26135                        	func
 26136                        	.function	4298
 26137                        ~~k_gui_cache_desktop_widgets:
 26138                        	longa	on
 26139                        	longi	on
 26140 06:697F: 3B           	tsc
 26141 06:6980: 38           	sec
 26142 06:6981: E9 1A 00     	sbc	#L1159
 26143 06:6984: 1B           	tcs
 26144 06:6985: 0B           	phd
 26145 06:6986: 5B           	tcd
 26146                        	.block	4298
 26147                        ;	int i = 0;
 26148                        ;	int titleOffsetX = 0;
 26149                        ;	RECT rect;
 26150                        ;
 26151                        ;
 26152                        ;	for(i=0;i<80;i++)
  Mon Sep 27 2021  9:39                                                Page 480


 26153             00000000   i_1	set	0
 26154             00000002   titleOffsetX_1	set	2
 26155             00000004   rect_1	set	4
 26156                        	.sym	i,0,5,1,16
 26157                        	.sym	titleOffsetX,2,5,1,16
 26158                        	.sym	rect,4,10,1,112,26
 26159 06:6987: 64 09        	stz	<L1160+i_1
 26160 06:6989: 64 0B        	stz	<L1160+titleOffsetX_1
 26161                        	.line	4304
 26162 06:698B: 64 09        	stz	<L1160+i_1
 26163                        L10465:
 26164                        ;	{
 26165                        	.line	4305
 26166                        ;		titleOffsetX+=k_put_wingadget_point_ex(W
                    INICON_TITLE_LINES,titleOffsetX,10,k_getUIGadgetColor(),BITM
                    AP_BACK);
 26167                        	.line	4306
 26168 06:698D: F4 08 00     	pea	#<$8
 26169 06:6990: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
 26170 06:6994: 48           	pha
 26171 06:6995: F4 0A 00     	pea	#<$a
 26172 06:6998: D4 0B        	pei	<L1160+titleOffsetX_1
 26173 06:699A: F4 01 00     	pea	#<$1
 26174 06:699D: 22 F6 2E 06  	jsl	~~k_put_wingadget_point_ex
 26175 06:69A1: 85 01        	sta	<R0
 26176 06:69A3: 18           	clc
 26177 06:69A4: A5 01        	lda	<R0
 26178 06:69A6: 65 0B        	adc	<L1160+titleOffsetX_1
 26179 06:69A8: 85 0B        	sta	<L1160+titleOffsetX_1
 26180                        ;	}
 26181                        	.line	4307
 26182                        L10463:
 26183 06:69AA: E6 09        	inc	<L1160+i_1
 26184 06:69AC: 38           	sec
 26185 06:69AD: A5 09        	lda	<L1160+i_1
 26186 06:69AF: E9 50 00     	sbc	#<$50
 26187 06:69B2: 70 03        	bvs	L1162
 26188 06:69B4: 49 00 80     	eor	#$8000
 26189                        L1162:
 26190 06:69B7: 30 03        	bmi	L1163
 26191 06:69B9: 82 D1 FF     	brl	L10465
 26192                        L1163:
 26193                        L10464:
 26194                        ;
 26195                        ;	k_vdma_copy_address_ex((LPSTR)(GUI_CACHE_PAGE + 
                    GUI_CACHE_PAGE_OFFSET(0)),
 26196                        	.line	4309
 26197                        ;						   (LPST
                    R)(0x080000  + k_gui_get_pixel_offset(0,10)),
 26198                        ;						   640,8
                    );
 26199 06:69BC: F4 08 00     	pea	#<$8
 26200 06:69BF: F4 80 02     	pea	#<$280
 26201 06:69C2: F4 0A 00     	pea	#<$a
 26202 06:69C5: F4 00 00     	pea	#<$0
 26203 06:69C8: 22 BA 07 06  	jsl	~~k_gui_get_pixel_offset
 26204 06:69CC: 85 01        	sta	<R0
 26205 06:69CE: 86 03        	stx	<R0+2
  Mon Sep 27 2021  9:39                                                Page 481


 26206 06:69D0: 18           	clc
 26207 06:69D1: A9 00 00     	lda	#$0
 26208 06:69D4: 65 01        	adc	<R0
 26209 06:69D6: 85 05        	sta	<R1
 26210 06:69D8: A9 08 00     	lda	#$8
 26211 06:69DB: 65 03        	adc	<R0+2
 26212 06:69DD: 85 07        	sta	<R1+2
 26213 06:69DF: D4 07        	pei	<R1+2
 26214 06:69E1: D4 05        	pei	<R1
 26215 06:69E3: F4 10 00     	pea	#^$100000
 26216 06:69E6: F4 00 00     	pea	#<$100000
 26217 06:69E9: 22 49 87 06  	jsl	~~k_vdma_copy_address_ex
 26218                        ;
 26219                        ;
 26220                        ;	/*
 26221                        ;	k_vdma_copy_address_ex((LPSTR)(0x080000  + k_gui
                    _get_pixel_offset(0,100)),
 26222                        ;						   (LPST
                    R)(GUI_CACHE_PAGE + GUI_CACHE_PAGE_OFFSET(0)),
 26223                        ;						   640,8
                    );
 26224                        ;
 26225                        ;
 26226                        ;	rect.x = 0;
 26227                        ;	rect.y = 300;
 26228                        ;	rect.width  = 640;
 26229                        ;	rect.height = 8;
 26230                        ;
 26231                        ;	k_gui_get_image_cache(0,0x080000,&rect);
 26232                        ;
 26233                        ;
 26234                        ;	for(i=32000;i>0;i--)
 26235                        ;	{
 26236                        ;		asm NOP;
 26237                        ;	}
 26238                        ;	for(i=32000;i>0;i--)
 26239                        ;	{
 26240                        ;		asm NOP;
 26241                        ;	}
 26242                        ;	for(i=32000;i>0;i--)
 26243                        ;	{
 26244                        ;		asm NOP;
 26245                        ;	}
 26246                        ;	for(i=32000;i>0;i--)
 26247                        ;	{
 26248                        ;		asm NOP;
 26249                        ;	}
 26250                        ;	for(i=32000;i>0;i--)
 26251                        ;	{
 26252                        ;		asm NOP;
 26253                        ;	}
 26254                        ;	for(i=32000;i>0;i--)
 26255                        ;	{
 26256                        ;		asm NOP;
 26257                        ;	}
 26258                        ;	for(i=32000;i>0;i--)
 26259                        ;	{
 26260                        ;		asm NOP;
  Mon Sep 27 2021  9:39                                                Page 482


 26261                        ;	}
 26262                        ;	*/
 26263                        ;}
 26264                        	.line	4357
 26265                        L1164:
 26266 06:69ED: 2B           	pld
 26267 06:69EE: 3B           	tsc
 26268 06:69EF: 18           	clc
 26269 06:69F0: 69 1A 00     	adc	#L1159
 26270 06:69F3: 1B           	tcs
 26271 06:69F4: 6B           	rtl
 26272                        	.endblock	4357
 26273             0000001A   L1159	equ	26
 26274             00000009   L1160	equ	9
 26275 06:69F5:              	ends
 26276                        	efunc
 26277                        	.endfunc	4357,9,26
 26278                        	.line	4357
 26279                        ;
 26280                        ;void k_init_desktop(PFXPROCESS process)
 26281                        ;{
 26282                        	.line	4359
 26283                        	.line	4360
 26284                        	GFX
 26285                        	xdef	~~k_init_desktop
 26286                        	func
 26287                        	.function	4360
 26288                        ~~k_init_desktop:
 26289                        	longa	on
 26290                        	longi	on
 26291 06:69F5: 3B           	tsc
 26292 06:69F6: 38           	sec
 26293 06:69F7: E9 12 00     	sbc	#L1165
 26294 06:69FA: 1B           	tcs
 26295 06:69FB: 0B           	phd
 26296 06:69FC: 5B           	tcd
 26297             00000004   process_0	set	4
 26298                        	.block	4360
 26299                        ;
 26300                        ;	int i = 0;
 26301                        ;	int x = 0;
 26302                        ;	int y = 200;
 26303                        ;
 26304                        ;
 26305                        ;	PFXSTRING fxtitle = NULL;
 26306                        ;	PFXSTRING fxstring = NULL;
 26307                        ;
 26308                        ;	ULONG availableMem = 0L;
 26309                        ;
 26310                        ;
 26311                        ;	k_clear_screen(0);
 26312             00000000   i_1	set	0
 26313             00000002   x_1	set	2
 26314             00000004   y_1	set	4
 26315             00000006   fxtitle_1	set	6
 26316             0000000A   fxstring_1	set	10
 26317             0000000E   availableMem_1	set	14
 26318                        	.sym	i,0,5,1,16
  Mon Sep 27 2021  9:39                                                Page 483


 26319                        	.sym	x,2,5,1,16
 26320                        	.sym	y,4,5,1,16
 26321                        	.sym	fxtitle,6,138,1,32,61
 26322                        	.sym	fxstring,10,138,1,32,61
 26323                        	.sym	availableMem,14,18,1,32
 26324                        	.sym	process,4,138,6,32,20
 26325 06:69FD: 64 01        	stz	<L1166+i_1
 26326 06:69FF: 64 03        	stz	<L1166+x_1
 26327 06:6A01: A9 C8 00     	lda	#$c8
 26328 06:6A04: 85 05        	sta	<L1166+y_1
 26329 06:6A06: 64 07        	stz	<L1166+fxtitle_1
 26330 06:6A08: 64 09        	stz	<L1166+fxtitle_1+2
 26331 06:6A0A: 64 0B        	stz	<L1166+fxstring_1
 26332 06:6A0C: 64 0D        	stz	<L1166+fxstring_1+2
 26333 06:6A0E: 64 0F        	stz	<L1166+availableMem_1
 26334 06:6A10: 64 11        	stz	<L1166+availableMem_1+2
 26335                        	.line	4373
 26336 06:6A12: F4 00 00     	pea	#<$0
 26337 06:6A15: 22 xx xx xx  	jsl	~~k_clear_screen
 26338                        ;	setColors();
 26339                        	.line	4374
 26340 06:6A19: 22 00 09 06  	jsl	~~setColors
 26341                        ;	//defineGrayPalette();
 26342                        ;
 26343                        ;#ifdef USE_FX256_FMX
 26344                        ;
 26345                        ;	/*
 26346                        ;	*BM1_CONTROL_REG = 0x01;
 26347                        ;	*BM1_START_ADDY_L = 0;
 26348                        ;	*BM1_START_ADDY_M = 0;
 26349                        ;	*BM1_START_ADDY_H = 0;
 26350                        ;
 26351                        ;	*MASTER_CTRL_REG_H 	= 0x00;
 26352                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 26353                        ;
 26354                        ;	*MASTER_CTRL_REG_H 	= 0x01;
 26355                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 26356                        ;
 26357                        ;	*BM1_CONTROL_REG = ( BM_ENABLE | BM_LUT0 );
 26358                        ;
 26359                        ;	*MASTER_CTRL_REG_H 	= 0x00;
 26360                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 26361                        ;	*/
 26362                        ;
 26363                        ;	k_enable_bitmap_mode();
 26364                        ;
 26365                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 26366                        ;	k_vdma_fill_rect_ex(0,0,640,480,15,BITMAP_BACK);
 26367                        ;
 26368                        ;	k_gui_cache_desktop_widgets();
 26369                        ;
 26370                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 26371                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_BACK);
 26372                        ;#elif USE_FX256_U
 26373                        ;
  Mon Sep 27 2021  9:39                                                Page 484


 26374                        ;
 26375                        ;	k_enable_bitmap_mode();
 26376                        	.line	4409
 26377 06:6A1D: 22 53 67 06  	jsl	~~k_enable_bitmap_mode
 26378                        ;
 26379                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 26380                        	.line	4411
 26381 06:6A21: F4 00 00     	pea	#<$0
 26382 06:6A24: F4 00 00     	pea	#<$0
 26383 06:6A27: F4 E0 01     	pea	#<$1e0
 26384 06:6A2A: F4 80 02     	pea	#<$280
 26385 06:6A2D: F4 00 00     	pea	#^$0
 26386 06:6A30: F4 00 00     	pea	#<$0
 26387 06:6A33: F4 00 00     	pea	#^$0
 26388 06:6A36: F4 00 00     	pea	#<$0
 26389 06:6A39: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 26390                        ;	k_vdma_fill_rect_ex(0,0,640,480,15,BITMAP_BACK);
 26391                        	.line	4412
 26392 06:6A3D: F4 08 00     	pea	#<$8
 26393 06:6A40: F4 0F 00     	pea	#<$f
 26394 06:6A43: F4 E0 01     	pea	#<$1e0
 26395 06:6A46: F4 80 02     	pea	#<$280
 26396 06:6A49: F4 00 00     	pea	#^$0
 26397 06:6A4C: F4 00 00     	pea	#<$0
 26398 06:6A4F: F4 00 00     	pea	#^$0
 26399 06:6A52: F4 00 00     	pea	#<$0
 26400 06:6A55: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 26401                        ;
 26402                        ;	k_gui_cache_desktop_widgets();
 26403                        	.line	4414
 26404 06:6A59: 22 7F 69 06  	jsl	~~k_gui_cache_desktop_widgets
 26405                        ;
 26406                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 26407                        	.line	4416
 26408 06:6A5D: F4 00 00     	pea	#<$0
 26409 06:6A60: F4 00 00     	pea	#<$0
 26410 06:6A63: F4 E0 01     	pea	#<$1e0
 26411 06:6A66: F4 80 02     	pea	#<$280
 26412 06:6A69: F4 00 00     	pea	#^$0
 26413 06:6A6C: F4 00 00     	pea	#<$0
 26414 06:6A6F: F4 00 00     	pea	#^$0
 26415 06:6A72: F4 00 00     	pea	#<$0
 26416 06:6A75: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 26417                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_BACK);
 26418                        	.line	4417
 26419 06:6A79: F4 08 00     	pea	#<$8
 26420 06:6A7C: F4 00 00     	pea	#<$0
 26421 06:6A7F: F4 E0 01     	pea	#<$1e0
 26422 06:6A82: F4 80 02     	pea	#<$280
 26423 06:6A85: F4 00 00     	pea	#^$0
 26424 06:6A88: F4 00 00     	pea	#<$0
 26425 06:6A8B: F4 00 00     	pea	#^$0
 26426 06:6A8E: F4 00 00     	pea	#<$0
 26427 06:6A91: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 26428                        ;#else
 26429                        ;
 26430                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE;
 26431                        ;
  Mon Sep 27 2021  9:39                                                Page 485


 26432                        ;	*BM_START_ADDY_L = 0x00;
 26433                        ;	*BM_START_ADDY_M = 0x00;
 26434                        ;	*BM_START_ADDY_H = 0x00;
 26435                        ;	*BG_CHAR_LUT_PTR = 0x02;
 26436                        ;
 26437                        ;	*BM_X_SIZE_L = 0x80;
 26438                        ;	*BM_X_SIZE_H = 0x02;
 26439                        ;	*BM_Y_SIZE_L = 0xE0;
 26440                        ;	*BM_Y_SIZE_H = 0x01;
 26441                        ;
 26442                        ;	//*FG_CHAR_LUT_PTR    = 0x00;
 26443                        ;	//*BG_CHAR_LUT_PTR    = 0x00;
 26444                        ;	*BM_CONTROL_REG 	= 0x08;
 26445                        ;
 26446                        ;	*MASTER_CTRL_REG_H 	= 0x00;
 26447                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 26448                        ;
 26449                        ;#endif
 26450                        ;
 26451                        ;	k_disable_border();
 26452                        	.line	4441
 26453 06:6A95: 22 xx xx xx  	jsl	~~k_disable_border
 26454                        ;
 26455                        ;	//setColors();
 26456                        ;	//defineGrayPalette();
 26457                        ;
 26458                        ;	/*
 26459                        ;
 26460                        ;	if(!_k_WindowObject_nodes)
 26461                        ;		_k_WindowObject_nodes = k_nodelist_init(
                    0xF0,"master",NULL);
 26462                        ;	if(!_k_WindowHit_nodes)
 26463                        ;		_k_WindowHit_nodes    = k_nodelist_init(
                    0xF0,"master",NULL);
 26464                        ;
 26465                        ;	if(process->desktopCtl == NULL)
 26466                        ;	{
 26467                        ;		process->desktopCtl = k_mem_allocate_hea
                    p(sizeof(DESKTOP_CONTROL));
 26468                        ;		memset(process->desktopCtl,0,sizeof(DESK
                    TOP_CONTROL));
 26469                        ;	}
 26470                        ;	process->desktopCtl->backgroundColor = k_getUIDe
                    sktopColor() ;//14;
 26471                        ;	process->desktopCtl->currentDiskName = NULL;
 26472                        ;
 26473                        ;	*/
 26474                        ;
 26475                        ;	// clear screen the old way
 26476                        ;
 26477                        ;	/*
 26478                        ;	for(y=0;y<480;y++)
 26479                        ;	{
 26480                        ;		k_fill_line(0,y,639,k_getUIDesktopColor(
                    ));
 26481                        ;	}
 26482                        ;	*/
  Mon Sep 27 2021  9:39                                                Page 486


 26483                        ;	//k_vdma_fill_rect_ex(0,0,640,480,k_getUIBackgro
                    undColor(),0x10);
 26484                        ;
 26485                        ;
 26486                        ;	//k_paint_brush_rect(0,0,640,480,0x55);
 26487                        ;
 26488                        ;
 26489                        ;	/*
 26490                        ;	fxtitle  = k_fxstring_new(CONST_WB_MENU_TITLE,96
                    );
 26491                        ;	fxstring = k_fxstring_from_long(k_getZeroPage()-
                    >availableMemoryK);
 26492                        ;
 26493                        ;	//k_debug_message("fxtitle:",fxtitle->buffer);
 26494                        ;	//k_debug_message("fxstring:",k_strip_padding(fx
                    string->buffer));
 26495                        ;
 26496                        ;	//process->desktopCtl->titleNodes = k_vdraw_ui_m
                    enu(0,0,639,"C256 Foenix Workbench - Free Mem: 1792K Video M
                    em: 4096K",15,3);
 26497                        ;	process->desktopCtl->titleNodes = k_vdraw_ui_men
                    u(0,0,639,
 26498                        ;   						
                    							  k_stri
                    ng_replace(fxtitle->buffer, "%d", k_strip_padding(fxstring->
                    buffer)),
 26499                        ;							
                    						  k_getUIMenuCol
                    or(),
 26500                        ;							
                    						  k_getUIWindowF
                    rameColor());
 26501                        ;
 26502                        ;	if(fxstring)
 26503                        ;		k_fxstring_free(fxstring);
 26504                        ;	*/
 26505                        ;
 26506                        ;	//k_vdraw_ui_menu(0,0,639,"C256 Foenix Workbench
                     - Free Memory: 1792K Video Memory: 4096K",15,3);
 26507                        ;
 26508                        ;	/*
 26509                        ;	//FX-Basic
 26510                        ;	k_put_winicon_point(ICON_DISK,640 - 40,20,0,PAIN
                    TMODE_DEFAULT);
 26511                        ;	k_draw_text_point("FX-BASIC",640 - 35 - (8*4),40
                    ,0);
 26512                        ;
 26513                        ;	//Projects
 26514                        ;	k_put_winicon_point(ICON_CABINET,640 - 40,55,2,P
                    AINTMODE_DEFAULT);
 26515                        ;	k_draw_text_point("PROJECTS",640 - 35 - (8*4),75
                    ,0);
 26516                        ;	*/
 26517                        ;
 26518                        ;	//Shredder
 26519                        ;	//k_put_winicon_point(ICON_TRASH,640 - 40,450,1,
                    PAINTMODE_DEFAULT);
 26520                        ;	//k_draw_text_point("SHREDDER",640 - 35 - (8*4),
  Mon Sep 27 2021  9:39                                                Page 487


                    470,0);
 26521                        ;
 26522                        ;
 26523                        ;
 26524                        ;	return;
 26525                        	.line	4512
 26526                        L1168:
 26527 06:6A99: A5 14        	lda	<L1165+2
 26528 06:6A9B: 85 18        	sta	<L1165+2+4
 26529 06:6A9D: A5 13        	lda	<L1165+1
 26530 06:6A9F: 85 17        	sta	<L1165+1+4
 26531 06:6AA1: 2B           	pld
 26532 06:6AA2: 3B           	tsc
 26533 06:6AA3: 18           	clc
 26534 06:6AA4: 69 16 00     	adc	#L1165+4
 26535 06:6AA7: 1B           	tcs
 26536 06:6AA8: 6B           	rtl
 26537                        ;}
 26538                        	.line	4513
 26539                        	.endblock	4513
 26540             00000012   L1165	equ	18
 26541             00000001   L1166	equ	1
 26542 06:6AA9:              	ends
 26543                        	efunc
 26544                        	.endfunc	4513,1,18
 26545                        	.line	4513
 26546                        ;
 26547                        ;
 26548                        ;UINT k_init_splash(BOOL bWait)
 26549                        ;{
 26550                        	.line	4516
 26551                        	.line	4517
 26552                        	GFX
 26553                        	xdef	~~k_init_splash
 26554                        	func
 26555                        	.function	4517
 26556                        ~~k_init_splash:
 26557                        	longa	on
 26558                        	longi	on
 26559 06:6AA9: 3B           	tsc
 26560 06:6AAA: 38           	sec
 26561 06:6AAB: E9 41 00     	sbc	#L1169
 26562 06:6AAE: 1B           	tcs
 26563 06:6AAF: 0B           	phd
 26564 06:6AB0: 5B           	tcd
 26565             00000004   bWait_0	set	4
 26566                        	.block	4517
 26567                        ;	UINT bootMode = BOOTMODE_DEFAULT;
 26568                        ;
 26569                        ;	int i;
 26570                        ;	BYTE c,r,g,b;
 26571                        ;
 26572                        ;	long color[4];
 26573                        ;
 26574                        ;	long *pcolor[3];
 26575                        ;
 26576                        ;	//PFXZEROPAGE zp = NULL;
 26577                        ;	PFX_DEVICE_DRIVER kbd = NULL;
  Mon Sep 27 2021  9:39                                                Page 488


 26578                        ;	CHAR key;
 26579                        ;	BYTE read;
 26580                        ;
 26581                        ;	LPSTR pPalette = GRPH_LUT0_PTR;
 26582                        ;	LPSTR pathName = NULL;
 26583                        ;	CHAR boardRelease[3];
 26584                        ;
 26585                        ;
 26586                        ;	k_clear_screen(0);
 26587             00000000   bootMode_1	set	0
 26588             00000002   i_1	set	2
 26589             00000004   c_1	set	4
 26590             00000005   r_1	set	5
 26591             00000006   g_1	set	6
 26592             00000007   b_1	set	7
 26593             00000008   color_1	set	8
 26594             00000018   pcolor_1	set	24
 26595             00000024   kbd_1	set	36
 26596             00000028   key_1	set	40
 26597             00000029   read_1	set	41
 26598             0000002A   pPalette_1	set	42
 26599             0000002E   pathName_1	set	46
 26600             00000032   boardRelease_1	set	50
 26601                        	.sym	bootMode,0,16,1,16
 26602                        	.sym	i,2,5,1,16
 26603                        	.sym	c,4,14,1,8
 26604                        	.sym	r,5,14,1,8
 26605                        	.sym	g,6,14,1,8
 26606                        	.sym	b,7,14,1,8
 26607                        	.sym	color,8,103,1,0,4
 26608                        	.sym	pcolor,24,1127,1,32,3
 26609                        	.sym	kbd,36,138,1,32,58
 26610                        	.sym	key,40,14,1,8
 26611                        	.sym	read,41,14,1,8
 26612                        	.sym	pPalette,42,142,1,32
 26613                        	.sym	pathName,46,142,1,32
 26614                        	.sym	boardRelease,50,110,1,0,3
 26615                        	.sym	bWait,4,14,6,8
 26616 06:6AB1: A9 02 00     	lda	#$2
 26617 06:6AB4: 85 0D        	sta	<L1170+bootMode_1
 26618 06:6AB6: 64 31        	stz	<L1170+kbd_1
 26619 06:6AB8: 64 33        	stz	<L1170+kbd_1+2
 26620 06:6ABA: A9 00 20     	lda	#$2000
 26621 06:6ABD: 85 37        	sta	<L1170+pPalette_1
 26622 06:6ABF: A9 AF 00     	lda	#$af
 26623 06:6AC2: 85 39        	sta	<L1170+pPalette_1+2
 26624 06:6AC4: 64 3B        	stz	<L1170+pathName_1
 26625 06:6AC6: 64 3D        	stz	<L1170+pathName_1+2
 26626                        	.line	4537
 26627 06:6AC8: F4 00 00     	pea	#<$0
 26628 06:6ACB: 22 xx xx xx  	jsl	~~k_clear_screen
 26629                        ;
 26630                        ;
 26631                        ;#ifdef USE_FX256_FMX
 26632                        ;	k_enable_bitmap_mode();
 26633                        ;
 26634                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 26635                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_BACK);
  Mon Sep 27 2021  9:39                                                Page 489


 26636                        ;#elif USE_FX256_U
 26637                        ;
 26638                        ;	k_enable_bitmap_mode();
 26639                        	.line	4547
 26640 06:6ACF: 22 53 67 06  	jsl	~~k_enable_bitmap_mode
 26641                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 26642                        	.line	4548
 26643 06:6AD3: F4 00 00     	pea	#<$0
 26644 06:6AD6: F4 00 00     	pea	#<$0
 26645 06:6AD9: F4 E0 01     	pea	#<$1e0
 26646 06:6ADC: F4 80 02     	pea	#<$280
 26647 06:6ADF: F4 00 00     	pea	#^$0
 26648 06:6AE2: F4 00 00     	pea	#<$0
 26649 06:6AE5: F4 00 00     	pea	#^$0
 26650 06:6AE8: F4 00 00     	pea	#<$0
 26651 06:6AEB: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 26652                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_BACK);
 26653                        	.line	4549
 26654 06:6AEF: F4 08 00     	pea	#<$8
 26655 06:6AF2: F4 00 00     	pea	#<$0
 26656 06:6AF5: F4 E0 01     	pea	#<$1e0
 26657 06:6AF8: F4 80 02     	pea	#<$280
 26658 06:6AFB: F4 00 00     	pea	#^$0
 26659 06:6AFE: F4 00 00     	pea	#<$0
 26660 06:6B01: F4 00 00     	pea	#^$0
 26661 06:6B04: F4 00 00     	pea	#<$0
 26662 06:6B07: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 26663                        ;#else
 26664                        ;
 26665                        ;
 26666                        ;
 26667                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE;
 26668                        ;
 26669                        ;
 26670                        ;
 26671                        ;	*BM_START_ADDY_L = 0x00;
 26672                        ;	*BM_START_ADDY_M = 0x00;
 26673                        ;	*BM_START_ADDY_H = 0x00;
 26674                        ;	*BG_CHAR_LUT_PTR = 0x02;
 26675                        ;
 26676                        ;	*BM_X_SIZE_L = 0x80;
 26677                        ;	*BM_X_SIZE_H = 0x02;
 26678                        ;	*BM_Y_SIZE_L = 0xE0;
 26679                        ;	*BM_Y_SIZE_H = 0x01;
 26680                        ;
 26681                        ;	*BM_CONTROL_REG 	= 0x08;
 26682                        ;
 26683                        ;	*MASTER_CTRL_REG_H 	= 0x00;
 26684                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 26685                        ;
 26686                        ;#endif
 26687                        ;
 26688                        ;	k_disable_border();
 26689                        	.line	4575
 26690 06:6B0B: 22 xx xx xx  	jsl	~~k_disable_border
 26691                        ;
 26692                        ;	//k_debug_string("k_init_splash::k_get_c256_rele
  Mon Sep 27 2021  9:39                                                Page 490


                    ase\r\n");
 26693                        ;	k_get_c256_release(boardRelease);
 26694                        	.line	4578
 26695 06:6B0F: F4 00 00     	pea	#0
 26696 06:6B12: 18           	clc
 26697 06:6B13: 7B           	tdc
 26698 06:6B14: 69 3F 00     	adc	#<L1170+boardRelease_1
 26699 06:6B17: 48           	pha
 26700 06:6B18: 22 xx xx xx  	jsl	~~k_get_c256_release
 26701                        ;
 26702                        ;	//zp = k_getZeroPage();
 26703                        ;
 26704                        ;	//readBMP("HD:\\system\\assets\\%BR%\\logo1.bmp"
                    );
 26705                        ;	//k_debug_string("k_init_splash::k_string_replac
                    e\r\n");
 26706                        ;
 26707                        ;	pathName = k_string_replace("HD:\\system\\assets
                    \\%BR%\\logo1.bmp","%BR%",boardRelease);
 26708                        	.line	4585
 26709 06:6B1C: F4 00 00     	pea	#0
 26710 06:6B1F: 18           	clc
 26711 06:6B20: 7B           	tdc
 26712 06:6B21: 69 3F 00     	adc	#<L1170+boardRelease_1
 26713 06:6B24: 48           	pha
 26714 06:6B25: F4 xx xx     	pea	#^L1151+33
 26715 06:6B28: F4 xx xx     	pea	#<L1151+33
 26716 06:6B2B: F4 xx xx     	pea	#^L1151
 26717 06:6B2E: F4 xx xx     	pea	#<L1151
 26718 06:6B31: 22 xx xx xx  	jsl	~~k_string_replace
 26719 06:6B35: 85 3B        	sta	<L1170+pathName_1
 26720 06:6B37: 86 3D        	stx	<L1170+pathName_1+2
 26721                        ;	if(pathName)
 26722                        	.line	4586
 26723                        ;	{
 26724 06:6B39: A5 3B        	lda	<L1170+pathName_1
 26725 06:6B3B: 05 3D        	ora	<L1170+pathName_1+2
 26726 06:6B3D: D0 03        	bne	L1172
 26727 06:6B3F: 82 1A 00     	brl	L10466
 26728                        L1172:
 26729                        	.line	4587
 26730                        ;		k_debug_string("k_init_splash::pathName\
                    r\n");
 26731                        	.line	4588
 26732 06:6B42: F4 xx xx     	pea	#^L1151+38
 26733 06:6B45: F4 xx xx     	pea	#<L1151+38
 26734 06:6B48: 22 xx xx xx  	jsl	~~k_debug_string
 26735                        ;		readBMP(pathName);
 26736                        	.line	4589
 26737 06:6B4C: D4 3D        	pei	<L1170+pathName_1+2
 26738 06:6B4E: D4 3B        	pei	<L1170+pathName_1
 26739 06:6B50: 22 00 8D 06  	jsl	~~readBMP
 26740                        ;		k_mem_deallocate_heap(pathName);
 26741                        	.line	4590
 26742 06:6B54: D4 3D        	pei	<L1170+pathName_1+2
 26743 06:6B56: D4 3B        	pei	<L1170+pathName_1
 26744 06:6B58: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 26745                        ;	}
  Mon Sep 27 2021  9:39                                                Page 491


 26746                        	.line	4591
 26747                        ;
 26748                        ;	if(bWait)
 26749                        L10466:
 26750                        	.line	4593
 26751                        ;	{
 26752 06:6B5C: A5 45        	lda	<L1169+bWait_0
 26753 06:6B5E: 29 FF 00     	and	#$ff
 26754 06:6B61: D0 03        	bne	L1173
 26755 06:6B63: 82 DE 03     	brl	L10467
 26756                        L1173:
 26757                        	.line	4594
 26758                        ;		sleep(15000);
 26759                        	.line	4595
 26760 06:6B66: F4 98 3A     	pea	#<$3a98
 26761 06:6B69: 22 xx xx xx  	jsl	~~sleep
 26762                        ;
 26763                        ;		//k_debug_string("k_init_splash::k_strin
                    g_replace2\r\n");
 26764                        ;		pathName = k_string_replace("HD:\\system
                    \\assets\\%BR%\\logo2.bmp","%BR%",boardRelease);
 26765                        	.line	4598
 26766 06:6B6D: F4 00 00     	pea	#0
 26767 06:6B70: 18           	clc
 26768 06:6B71: 7B           	tdc
 26769 06:6B72: 69 3F 00     	adc	#<L1170+boardRelease_1
 26770 06:6B75: 48           	pha
 26771 06:6B76: F4 xx xx     	pea	#^L1151+97
 26772 06:6B79: F4 xx xx     	pea	#<L1151+97
 26773 06:6B7C: F4 xx xx     	pea	#^L1151+64
 26774 06:6B7F: F4 xx xx     	pea	#<L1151+64
 26775 06:6B82: 22 xx xx xx  	jsl	~~k_string_replace
 26776 06:6B86: 85 3B        	sta	<L1170+pathName_1
 26777 06:6B88: 86 3D        	stx	<L1170+pathName_1+2
 26778                        ;		if(pathName)
 26779                        	.line	4599
 26780                        ;		{
 26781 06:6B8A: A5 3B        	lda	<L1170+pathName_1
 26782 06:6B8C: 05 3D        	ora	<L1170+pathName_1+2
 26783 06:6B8E: D0 03        	bne	L1174
 26784 06:6B90: 82 10 00     	brl	L10468
 26785                        L1174:
 26786                        	.line	4600
 26787                        ;			readBMP(pathName);
 26788                        	.line	4601
 26789 06:6B93: D4 3D        	pei	<L1170+pathName_1+2
 26790 06:6B95: D4 3B        	pei	<L1170+pathName_1
 26791 06:6B97: 22 00 8D 06  	jsl	~~readBMP
 26792                        ;			k_mem_deallocate_heap(pathName);
 26793                        	.line	4602
 26794 06:6B9B: D4 3D        	pei	<L1170+pathName_1+2
 26795 06:6B9D: D4 3B        	pei	<L1170+pathName_1
 26796 06:6B9F: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 26797                        ;		}
 26798                        	.line	4603
 26799                        ;
 26800                        ;		//k_debug_string("pPalette\r\n");
 26801                        ;
  Mon Sep 27 2021  9:39                                                Page 492


 26802                        ;		r = pPalette[(int) (12 * 4 + 0)];
 26803                        L10468:
 26804                        	.line	4607
 26805 06:6BA3: E2 20        	sep	#$20
 26806                        	longa	off
 26807 06:6BA5: A0 30 00     	ldy	#$30
 26808 06:6BA8: B7 37        	lda	[<L1170+pPalette_1],Y
 26809 06:6BAA: 85 12        	sta	<L1170+r_1
 26810 06:6BAC: C2 20        	rep	#$20
 26811                        	longa	on
 26812                        ;		g = pPalette[(int) (12 * 4 + 1)];
 26813                        	.line	4608
 26814 06:6BAE: E2 20        	sep	#$20
 26815                        	longa	off
 26816 06:6BB0: A0 31 00     	ldy	#$31
 26817 06:6BB3: B7 37        	lda	[<L1170+pPalette_1],Y
 26818 06:6BB5: 85 13        	sta	<L1170+g_1
 26819 06:6BB7: C2 20        	rep	#$20
 26820                        	longa	on
 26821                        ;		b = pPalette[(int) (12 * 4 + 2)];
 26822                        	.line	4609
 26823 06:6BB9: E2 20        	sep	#$20
 26824                        	longa	off
 26825 06:6BBB: A0 32 00     	ldy	#$32
 26826 06:6BBE: B7 37        	lda	[<L1170+pPalette_1],Y
 26827 06:6BC0: 85 14        	sta	<L1170+b_1
 26828 06:6BC2: C2 20        	rep	#$20
 26829                        	longa	on
 26830                        ;
 26831                        ;
 26832                        ;
 26833                        ;		kbd = k_get_device_driver(DRIVER_TYPE_KE
                    YBOARD);
 26834                        	.line	4613
 26835 06:6BC4: F4 05 00     	pea	#<$5
 26836 06:6BC7: 22 xx xx xx  	jsl	~~k_get_device_driver
 26837 06:6BCB: 85 31        	sta	<L1170+kbd_1
 26838 06:6BCD: 86 33        	stx	<L1170+kbd_1+2
 26839                        ;		k_debug_pointer("k_init_splash::k_get_do
                    s_device:",kbd);
 26840                        	.line	4614
 26841 06:6BCF: D4 33        	pei	<L1170+kbd_1+2
 26842 06:6BD1: D4 31        	pei	<L1170+kbd_1
 26843 06:6BD3: F4 xx xx     	pea	#^L1151+102
 26844 06:6BD6: F4 xx xx     	pea	#<L1151+102
 26845 06:6BD9: 22 xx xx xx  	jsl	~~k_debug_pointer
 26846                        ;		if(kbd)
 26847                        	.line	4615
 26848                        ;		{
 26849 06:6BDD: A5 31        	lda	<L1170+kbd_1
 26850 06:6BDF: 05 33        	ora	<L1170+kbd_1+2
 26851 06:6BE1: D0 03        	bne	L1175
 26852 06:6BE3: 82 0E 00     	brl	L10469
 26853                        L1175:
 26854                        	.line	4616
 26855                        ;			k_debug_strings("k_init_splash::
                    k_get_dos_device:name:",kbd->name);
 26856                        	.line	4617
  Mon Sep 27 2021  9:39                                                Page 493


 26857 06:6BE6: D4 33        	pei	<L1170+kbd_1+2
 26858 06:6BE8: D4 31        	pei	<L1170+kbd_1
 26859 06:6BEA: F4 xx xx     	pea	#^L1151+135
 26860 06:6BED: F4 xx xx     	pea	#<L1151+135
 26861 06:6BF0: 22 xx xx xx  	jsl	~~k_debug_strings
 26862                        ;		}
 26863                        	.line	4618
 26864                        ;
 26865                        ;		for(i = 0; i < 10; i++)
 26866                        L10469:
 26867                        	.line	4620
 26868 06:6BF4: 64 0F        	stz	<L1170+i_1
 26869                        L10472:
 26870                        ;		{
 26871                        	.line	4621
 26872                        ;			for(c = 0;c < 48;c++)
 26873                        	.line	4622
 26874 06:6BF6: E2 20        	sep	#$20
 26875                        	longa	off
 26876 06:6BF8: 64 11        	stz	<L1170+c_1
 26877 06:6BFA: C2 20        	rep	#$20
 26878                        	longa	on
 26879 06:6BFC: 82 67 01     	brl	L10476
 26880                        L10475:
 26881                        ;			{
 26882                        	.line	4623
 26883                        ;
 26884                        ;				pPalette[(int) (12 * 4 +
                     0)] = (r + c) < 255 ? (r + c) : 255;
 26885                        	.line	4625
 26886 06:6BFF: A5 11        	lda	<L1170+c_1
 26887 06:6C01: 29 FF 00     	and	#$ff
 26888 06:6C04: 85 01        	sta	<R0
 26889 06:6C06: A5 12        	lda	<L1170+r_1
 26890 06:6C08: 29 FF 00     	and	#$ff
 26891 06:6C0B: 85 05        	sta	<R1
 26892 06:6C0D: 18           	clc
 26893 06:6C0E: A5 05        	lda	<R1
 26894 06:6C10: 65 01        	adc	<R0
 26895 06:6C12: 85 09        	sta	<R2
 26896 06:6C14: 38           	sec
 26897 06:6C15: A5 09        	lda	<R2
 26898 06:6C17: E9 FF 00     	sbc	#<$ff
 26899 06:6C1A: 70 03        	bvs	L1177
 26900 06:6C1C: 49 00 80     	eor	#$8000
 26901                        L1177:
 26902 06:6C1F: 10 03        	bpl	L1178
 26903 06:6C21: 82 15 00     	brl	L1176
 26904                        L1178:
 26905 06:6C24: A5 11        	lda	<L1170+c_1
 26906 06:6C26: 29 FF 00     	and	#$ff
 26907 06:6C29: 85 01        	sta	<R0
 26908 06:6C2B: A5 12        	lda	<L1170+r_1
 26909 06:6C2D: 29 FF 00     	and	#$ff
 26910 06:6C30: 85 05        	sta	<R1
 26911 06:6C32: 18           	clc
 26912 06:6C33: A5 05        	lda	<R1
 26913 06:6C35: 65 01        	adc	<R0
  Mon Sep 27 2021  9:39                                                Page 494


 26914 06:6C37: 80 03        	bra	L1179
 26915                        L1176:
 26916 06:6C39: A9 FF 00     	lda	#$ff
 26917                        L1179:
 26918 06:6C3C: E2 20        	sep	#$20
 26919                        	longa	off
 26920 06:6C3E: A0 30 00     	ldy	#$30
 26921 06:6C41: 97 37        	sta	[<L1170+pPalette_1],Y
 26922 06:6C43: C2 20        	rep	#$20
 26923                        	longa	on
 26924                        ;				pPalette[(int) (12 * 4 +
                     1)] = (g + c) < 255 ? (g + c) : 255;
 26925                        	.line	4626
 26926 06:6C45: A5 11        	lda	<L1170+c_1
 26927 06:6C47: 29 FF 00     	and	#$ff
 26928 06:6C4A: 85 01        	sta	<R0
 26929 06:6C4C: A5 13        	lda	<L1170+g_1
 26930 06:6C4E: 29 FF 00     	and	#$ff
 26931 06:6C51: 85 05        	sta	<R1
 26932 06:6C53: 18           	clc
 26933 06:6C54: A5 05        	lda	<R1
 26934 06:6C56: 65 01        	adc	<R0
 26935 06:6C58: 85 09        	sta	<R2
 26936 06:6C5A: 38           	sec
 26937 06:6C5B: A5 09        	lda	<R2
 26938 06:6C5D: E9 FF 00     	sbc	#<$ff
 26939 06:6C60: 70 03        	bvs	L1181
 26940 06:6C62: 49 00 80     	eor	#$8000
 26941                        L1181:
 26942 06:6C65: 10 03        	bpl	L1182
 26943 06:6C67: 82 15 00     	brl	L1180
 26944                        L1182:
 26945 06:6C6A: A5 11        	lda	<L1170+c_1
 26946 06:6C6C: 29 FF 00     	and	#$ff
 26947 06:6C6F: 85 01        	sta	<R0
 26948 06:6C71: A5 13        	lda	<L1170+g_1
 26949 06:6C73: 29 FF 00     	and	#$ff
 26950 06:6C76: 85 05        	sta	<R1
 26951 06:6C78: 18           	clc
 26952 06:6C79: A5 05        	lda	<R1
 26953 06:6C7B: 65 01        	adc	<R0
 26954 06:6C7D: 80 03        	bra	L1183
 26955                        L1180:
 26956 06:6C7F: A9 FF 00     	lda	#$ff
 26957                        L1183:
 26958 06:6C82: E2 20        	sep	#$20
 26959                        	longa	off
 26960 06:6C84: A0 31 00     	ldy	#$31
 26961 06:6C87: 97 37        	sta	[<L1170+pPalette_1],Y
 26962 06:6C89: C2 20        	rep	#$20
 26963                        	longa	on
 26964                        ;				pPalette[(int) (12 * 4 +
                     2)] = (b + c) < 255 ? (b + c) : 255;
 26965                        	.line	4627
 26966 06:6C8B: A5 11        	lda	<L1170+c_1
 26967 06:6C8D: 29 FF 00     	and	#$ff
 26968 06:6C90: 85 01        	sta	<R0
 26969 06:6C92: A5 14        	lda	<L1170+b_1
  Mon Sep 27 2021  9:39                                                Page 495


 26970 06:6C94: 29 FF 00     	and	#$ff
 26971 06:6C97: 85 05        	sta	<R1
 26972 06:6C99: 18           	clc
 26973 06:6C9A: A5 05        	lda	<R1
 26974 06:6C9C: 65 01        	adc	<R0
 26975 06:6C9E: 85 09        	sta	<R2
 26976 06:6CA0: 38           	sec
 26977 06:6CA1: A5 09        	lda	<R2
 26978 06:6CA3: E9 FF 00     	sbc	#<$ff
 26979 06:6CA6: 70 03        	bvs	L1185
 26980 06:6CA8: 49 00 80     	eor	#$8000
 26981                        L1185:
 26982 06:6CAB: 10 03        	bpl	L1186
 26983 06:6CAD: 82 15 00     	brl	L1184
 26984                        L1186:
 26985 06:6CB0: A5 11        	lda	<L1170+c_1
 26986 06:6CB2: 29 FF 00     	and	#$ff
 26987 06:6CB5: 85 01        	sta	<R0
 26988 06:6CB7: A5 14        	lda	<L1170+b_1
 26989 06:6CB9: 29 FF 00     	and	#$ff
 26990 06:6CBC: 85 05        	sta	<R1
 26991 06:6CBE: 18           	clc
 26992 06:6CBF: A5 05        	lda	<R1
 26993 06:6CC1: 65 01        	adc	<R0
 26994 06:6CC3: 80 03        	bra	L1187
 26995                        L1184:
 26996 06:6CC5: A9 FF 00     	lda	#$ff
 26997                        L1187:
 26998 06:6CC8: E2 20        	sep	#$20
 26999                        	longa	off
 27000 06:6CCA: A0 32 00     	ldy	#$32
 27001 06:6CCD: 97 37        	sta	[<L1170+pPalette_1],Y
 27002 06:6CCF: C2 20        	rep	#$20
 27003                        	longa	on
 27004                        ;				pPalette[(int) (12 * 4 +
                     3)] = 0x80;
 27005                        	.line	4628
 27006 06:6CD1: E2 20        	sep	#$20
 27007                        	longa	off
 27008 06:6CD3: A9 80        	lda	#$80
 27009 06:6CD5: A0 33 00     	ldy	#$33
 27010 06:6CD8: 97 37        	sta	[<L1170+pPalette_1],Y
 27011 06:6CDA: C2 20        	rep	#$20
 27012                        	longa	on
 27013                        ;				k_delay(15);
 27014                        	.line	4629
 27015 06:6CDC: F4 0F 00     	pea	#<$f
 27016 06:6CDF: 22 xx xx xx  	jsl	~~k_delay
 27017                        ;				if(kbd)
 27018                        	.line	4630
 27019                        ;				{
 27020 06:6CE3: A5 31        	lda	<L1170+kbd_1
 27021 06:6CE5: 05 33        	ora	<L1170+kbd_1+2
 27022 06:6CE7: D0 03        	bne	L1188
 27023 06:6CE9: 82 74 00     	brl	L10477
 27024                        L1188:
 27025                        	.line	4631
 27026                        ;					key = 0;
  Mon Sep 27 2021  9:39                                                Page 496


 27027                        	.line	4632
 27028 06:6CEC: E2 20        	sep	#$20
 27029                        	longa	off
 27030 06:6CEE: 64 35        	stz	<L1170+key_1
 27031 06:6CF0: C2 20        	rep	#$20
 27032                        	longa	on
 27033                        ;					read = ((DEVICED
                    RIVER_READ)kbd->f_driver_read)(0,&key);
 27034                        	.line	4633
 27035 06:6CF2: F4 00 00     	pea	#0
 27036 06:6CF5: 18           	clc
 27037 06:6CF6: 7B           	tdc
 27038 06:6CF7: 69 35 00     	adc	#<L1170+key_1
 27039 06:6CFA: 48           	pha
 27040 06:6CFB: F4 00 00     	pea	#^$0
 27041 06:6CFE: F4 00 00     	pea	#<$0
 27042 06:6D01: A0 57 00     	ldy	#$57
 27043 06:6D04: B7 31        	lda	[<L1170+kbd_1],Y
 27044 06:6D06: AA           	tax
 27045 06:6D07: A0 55 00     	ldy	#$55
 27046 06:6D0A: B7 31        	lda	[<L1170+kbd_1],Y
 27047                        	xref	~~~lcal
 27048 06:6D0C: 22 xx xx xx  	jsl	~~~lcal
 27049 06:6D10: E2 20        	sep	#$20
 27050                        	longa	off
 27051 06:6D12: 85 36        	sta	<L1170+read_1
 27052 06:6D14: C2 20        	rep	#$20
 27053                        	longa	on
 27054                        ;					if(read)
 27055                        	.line	4634
 27056                        ;					{
 27057 06:6D16: A5 36        	lda	<L1170+read_1
 27058 06:6D18: 29 FF 00     	and	#$ff
 27059 06:6D1B: D0 03        	bne	L1189
 27060 06:6D1D: 82 40 00     	brl	L10478
 27061                        L1189:
 27062                        	.line	4635
 27063                        ;						switch(k
                    ey)
 27064                        	.line	4636
 27065 06:6D20: A5 35        	lda	<L1170+key_1
 27066 06:6D22: 29 FF 00     	and	#$ff
 27067 06:6D25: 82 18 00     	brl	L10479
 27068                        ;						{
 27069                        	.line	4637
 27070                        ;						case 0x2
                    E:
 27071                        	.line	4638
 27072                        L10481:
 27073                        ;							
                    bootMode = BOOTMODE_CONSOLE;
 27074                        	.line	4639
 27075 06:6D28: A9 01 00     	lda	#$1
 27076 06:6D2B: 85 0D        	sta	<L1170+bootMode_1
 27077                        ;							
                    break;
 27078                        	.line	4640
 27079 06:6D2D: 82 24 00     	brl	L10480
  Mon Sep 27 2021  9:39                                                Page 497


 27080                        ;						case 0x3
                    0:
 27081                        	.line	4641
 27082                        L10482:
 27083                        ;							
                    bootMode = BOOTMODE_EXTERN;
 27084                        	.line	4642
 27085 06:6D30: A9 03 00     	lda	#$3
 27086 06:6D33: 85 0D        	sta	<L1170+bootMode_1
 27087                        ;							
                    break;
 27088                        	.line	4643
 27089 06:6D35: 82 1C 00     	brl	L10480
 27090                        ;						case 0x1
                    1:
 27091                        	.line	4644
 27092                        L10483:
 27093                        ;							
                    bootMode = BOOTMODE_DESKTOP;
 27094                        	.line	4645
 27095 06:6D38: A9 02 00     	lda	#$2
 27096 06:6D3B: 85 0D        	sta	<L1170+bootMode_1
 27097                        ;							
                    break;
 27098                        	.line	4646
 27099 06:6D3D: 82 14 00     	brl	L10480
 27100                        ;						}
 27101                        	.line	4647
 27102                        L10479:
 27103                        	xref	~~~swt
 27104 06:6D40: 22 xx xx xx  	jsl	~~~swt
 27105 06:6D44: 03 00        	dw	3
 27106 06:6D46: 11 00        	dw	17
 27107 06:6D48: 37 6D        	dw	L10483-1
 27108 06:6D4A: 2E 00        	dw	46
 27109 06:6D4C: 27 6D        	dw	L10481-1
 27110 06:6D4E: 30 00        	dw	48
 27111 06:6D50: 2F 6D        	dw	L10482-1
 27112 06:6D52: 53 6D        	dw	L10480-1
 27113                        L10480:
 27114                        ;
 27115                        ;						k_debug_
                    hex("bootMode:",bootMode);
 27116                        	.line	4649
 27117 06:6D54: D4 0D        	pei	<L1170+bootMode_1
 27118 06:6D56: F4 xx xx     	pea	#^L1151+173
 27119 06:6D59: F4 xx xx     	pea	#<L1151+173
 27120 06:6D5C: 22 xx xx xx  	jsl	~~k_debug_hex
 27121                        ;					}
 27122                        	.line	4650
 27123                        ;				}
 27124                        L10478:
 27125                        	.line	4651
 27126                        ;			}
 27127                        L10477:
 27128                        	.line	4652
 27129                        L10473:
 27130 06:6D60: E2 20        	sep	#$20
  Mon Sep 27 2021  9:39                                                Page 498


 27131                        	longa	off
 27132 06:6D62: E6 11        	inc	<L1170+c_1
 27133 06:6D64: C2 20        	rep	#$20
 27134                        	longa	on
 27135                        L10476:
 27136 06:6D66: E2 20        	sep	#$20
 27137                        	longa	off
 27138 06:6D68: A5 11        	lda	<L1170+c_1
 27139 06:6D6A: C9 30        	cmp	#<$30
 27140 06:6D6C: C2 20        	rep	#$20
 27141                        	longa	on
 27142 06:6D6E: B0 03        	bcs	L1190
 27143 06:6D70: 82 8C FE     	brl	L10475
 27144                        L1190:
 27145                        L10474:
 27146                        ;
 27147                        ;			for(c = 48;c > 0;c--)
 27148                        	.line	4654
 27149 06:6D73: E2 20        	sep	#$20
 27150                        	longa	off
 27151 06:6D75: A9 30        	lda	#$30
 27152 06:6D77: 85 11        	sta	<L1170+c_1
 27153 06:6D79: C2 20        	rep	#$20
 27154                        	longa	on
 27155 06:6D7B: 82 67 01     	brl	L10487
 27156                        L10486:
 27157                        ;			{
 27158                        	.line	4655
 27159                        ;
 27160                        ;				pPalette[(int) (12 * 4 +
                     0)] = (r + c) < 255 ? (r + c) : 255;
 27161                        	.line	4657
 27162 06:6D7E: A5 11        	lda	<L1170+c_1
 27163 06:6D80: 29 FF 00     	and	#$ff
 27164 06:6D83: 85 01        	sta	<R0
 27165 06:6D85: A5 12        	lda	<L1170+r_1
 27166 06:6D87: 29 FF 00     	and	#$ff
 27167 06:6D8A: 85 05        	sta	<R1
 27168 06:6D8C: 18           	clc
 27169 06:6D8D: A5 05        	lda	<R1
 27170 06:6D8F: 65 01        	adc	<R0
 27171 06:6D91: 85 09        	sta	<R2
 27172 06:6D93: 38           	sec
 27173 06:6D94: A5 09        	lda	<R2
 27174 06:6D96: E9 FF 00     	sbc	#<$ff
 27175 06:6D99: 70 03        	bvs	L1192
 27176 06:6D9B: 49 00 80     	eor	#$8000
 27177                        L1192:
 27178 06:6D9E: 10 03        	bpl	L1193
 27179 06:6DA0: 82 15 00     	brl	L1191
 27180                        L1193:
 27181 06:6DA3: A5 11        	lda	<L1170+c_1
 27182 06:6DA5: 29 FF 00     	and	#$ff
 27183 06:6DA8: 85 01        	sta	<R0
 27184 06:6DAA: A5 12        	lda	<L1170+r_1
 27185 06:6DAC: 29 FF 00     	and	#$ff
 27186 06:6DAF: 85 05        	sta	<R1
 27187 06:6DB1: 18           	clc
  Mon Sep 27 2021  9:39                                                Page 499


 27188 06:6DB2: A5 05        	lda	<R1
 27189 06:6DB4: 65 01        	adc	<R0
 27190 06:6DB6: 80 03        	bra	L1194
 27191                        L1191:
 27192 06:6DB8: A9 FF 00     	lda	#$ff
 27193                        L1194:
 27194 06:6DBB: E2 20        	sep	#$20
 27195                        	longa	off
 27196 06:6DBD: A0 30 00     	ldy	#$30
 27197 06:6DC0: 97 37        	sta	[<L1170+pPalette_1],Y
 27198 06:6DC2: C2 20        	rep	#$20
 27199                        	longa	on
 27200                        ;				pPalette[(int) (12 * 4 +
                     1)] = (g + c) < 255 ? (g + c) : 255;
 27201                        	.line	4658
 27202 06:6DC4: A5 11        	lda	<L1170+c_1
 27203 06:6DC6: 29 FF 00     	and	#$ff
 27204 06:6DC9: 85 01        	sta	<R0
 27205 06:6DCB: A5 13        	lda	<L1170+g_1
 27206 06:6DCD: 29 FF 00     	and	#$ff
 27207 06:6DD0: 85 05        	sta	<R1
 27208 06:6DD2: 18           	clc
 27209 06:6DD3: A5 05        	lda	<R1
 27210 06:6DD5: 65 01        	adc	<R0
 27211 06:6DD7: 85 09        	sta	<R2
 27212 06:6DD9: 38           	sec
 27213 06:6DDA: A5 09        	lda	<R2
 27214 06:6DDC: E9 FF 00     	sbc	#<$ff
 27215 06:6DDF: 70 03        	bvs	L1196
 27216 06:6DE1: 49 00 80     	eor	#$8000
 27217                        L1196:
 27218 06:6DE4: 10 03        	bpl	L1197
 27219 06:6DE6: 82 15 00     	brl	L1195
 27220                        L1197:
 27221 06:6DE9: A5 11        	lda	<L1170+c_1
 27222 06:6DEB: 29 FF 00     	and	#$ff
 27223 06:6DEE: 85 01        	sta	<R0
 27224 06:6DF0: A5 13        	lda	<L1170+g_1
 27225 06:6DF2: 29 FF 00     	and	#$ff
 27226 06:6DF5: 85 05        	sta	<R1
 27227 06:6DF7: 18           	clc
 27228 06:6DF8: A5 05        	lda	<R1
 27229 06:6DFA: 65 01        	adc	<R0
 27230 06:6DFC: 80 03        	bra	L1198
 27231                        L1195:
 27232 06:6DFE: A9 FF 00     	lda	#$ff
 27233                        L1198:
 27234 06:6E01: E2 20        	sep	#$20
 27235                        	longa	off
 27236 06:6E03: A0 31 00     	ldy	#$31
 27237 06:6E06: 97 37        	sta	[<L1170+pPalette_1],Y
 27238 06:6E08: C2 20        	rep	#$20
 27239                        	longa	on
 27240                        ;				pPalette[(int) (12 * 4 +
                     2)] = (b + c) < 255 ? (b + c) : 255;
 27241                        	.line	4659
 27242 06:6E0A: A5 11        	lda	<L1170+c_1
 27243 06:6E0C: 29 FF 00     	and	#$ff
  Mon Sep 27 2021  9:39                                                Page 500


 27244 06:6E0F: 85 01        	sta	<R0
 27245 06:6E11: A5 14        	lda	<L1170+b_1
 27246 06:6E13: 29 FF 00     	and	#$ff
 27247 06:6E16: 85 05        	sta	<R1
 27248 06:6E18: 18           	clc
 27249 06:6E19: A5 05        	lda	<R1
 27250 06:6E1B: 65 01        	adc	<R0
 27251 06:6E1D: 85 09        	sta	<R2
 27252 06:6E1F: 38           	sec
 27253 06:6E20: A5 09        	lda	<R2
 27254 06:6E22: E9 FF 00     	sbc	#<$ff
 27255 06:6E25: 70 03        	bvs	L1200
 27256 06:6E27: 49 00 80     	eor	#$8000
 27257                        L1200:
 27258 06:6E2A: 10 03        	bpl	L1201
 27259 06:6E2C: 82 15 00     	brl	L1199
 27260                        L1201:
 27261 06:6E2F: A5 11        	lda	<L1170+c_1
 27262 06:6E31: 29 FF 00     	and	#$ff
 27263 06:6E34: 85 01        	sta	<R0
 27264 06:6E36: A5 14        	lda	<L1170+b_1
 27265 06:6E38: 29 FF 00     	and	#$ff
 27266 06:6E3B: 85 05        	sta	<R1
 27267 06:6E3D: 18           	clc
 27268 06:6E3E: A5 05        	lda	<R1
 27269 06:6E40: 65 01        	adc	<R0
 27270 06:6E42: 80 03        	bra	L1202
 27271                        L1199:
 27272 06:6E44: A9 FF 00     	lda	#$ff
 27273                        L1202:
 27274 06:6E47: E2 20        	sep	#$20
 27275                        	longa	off
 27276 06:6E49: A0 32 00     	ldy	#$32
 27277 06:6E4C: 97 37        	sta	[<L1170+pPalette_1],Y
 27278 06:6E4E: C2 20        	rep	#$20
 27279                        	longa	on
 27280                        ;				pPalette[(int) (12 * 4 +
                     3)] = 0x80;//(c >> 2);//R
 27281                        	.line	4660
 27282 06:6E50: E2 20        	sep	#$20
 27283                        	longa	off
 27284 06:6E52: A9 80        	lda	#$80
 27285 06:6E54: A0 33 00     	ldy	#$33
 27286 06:6E57: 97 37        	sta	[<L1170+pPalette_1],Y
 27287 06:6E59: C2 20        	rep	#$20
 27288                        	longa	on
 27289                        ;				k_delay(15);
 27290                        	.line	4661
 27291 06:6E5B: F4 0F 00     	pea	#<$f
 27292 06:6E5E: 22 xx xx xx  	jsl	~~k_delay
 27293                        ;				if(kbd)
 27294                        	.line	4662
 27295                        ;				{
 27296 06:6E62: A5 31        	lda	<L1170+kbd_1
 27297 06:6E64: 05 33        	ora	<L1170+kbd_1+2
 27298 06:6E66: D0 03        	bne	L1203
 27299 06:6E68: 82 74 00     	brl	L10488
 27300                        L1203:
  Mon Sep 27 2021  9:39                                                Page 501


 27301                        	.line	4663
 27302                        ;					key = 0;
 27303                        	.line	4664
 27304 06:6E6B: E2 20        	sep	#$20
 27305                        	longa	off
 27306 06:6E6D: 64 35        	stz	<L1170+key_1
 27307 06:6E6F: C2 20        	rep	#$20
 27308                        	longa	on
 27309                        ;					read = ((DEVICED
                    RIVER_READ)kbd->f_driver_read)(0,&key);
 27310                        	.line	4665
 27311 06:6E71: F4 00 00     	pea	#0
 27312 06:6E74: 18           	clc
 27313 06:6E75: 7B           	tdc
 27314 06:6E76: 69 35 00     	adc	#<L1170+key_1
 27315 06:6E79: 48           	pha
 27316 06:6E7A: F4 00 00     	pea	#^$0
 27317 06:6E7D: F4 00 00     	pea	#<$0
 27318 06:6E80: A0 57 00     	ldy	#$57
 27319 06:6E83: B7 31        	lda	[<L1170+kbd_1],Y
 27320 06:6E85: AA           	tax
 27321 06:6E86: A0 55 00     	ldy	#$55
 27322 06:6E89: B7 31        	lda	[<L1170+kbd_1],Y
 27323                        	xref	~~~lcal
 27324 06:6E8B: 22 xx xx xx  	jsl	~~~lcal
 27325 06:6E8F: E2 20        	sep	#$20
 27326                        	longa	off
 27327 06:6E91: 85 36        	sta	<L1170+read_1
 27328 06:6E93: C2 20        	rep	#$20
 27329                        	longa	on
 27330                        ;					if(read)
 27331                        	.line	4666
 27332                        ;					{
 27333 06:6E95: A5 36        	lda	<L1170+read_1
 27334 06:6E97: 29 FF 00     	and	#$ff
 27335 06:6E9A: D0 03        	bne	L1204
 27336 06:6E9C: 82 40 00     	brl	L10489
 27337                        L1204:
 27338                        	.line	4667
 27339                        ;						switch(k
                    ey)
 27340                        	.line	4668
 27341 06:6E9F: A5 35        	lda	<L1170+key_1
 27342 06:6EA1: 29 FF 00     	and	#$ff
 27343 06:6EA4: 82 18 00     	brl	L10490
 27344                        ;						{
 27345                        	.line	4669
 27346                        ;						case 0x2
                    E:
 27347                        	.line	4670
 27348                        L10492:
 27349                        ;							
                    bootMode = BOOTMODE_CONSOLE;
 27350                        	.line	4671
 27351 06:6EA7: A9 01 00     	lda	#$1
 27352 06:6EAA: 85 0D        	sta	<L1170+bootMode_1
 27353                        ;							
                    break;
  Mon Sep 27 2021  9:39                                                Page 502


 27354                        	.line	4672
 27355 06:6EAC: 82 24 00     	brl	L10491
 27356                        ;						case 0x3
                    0:
 27357                        	.line	4673
 27358                        L10493:
 27359                        ;							
                    bootMode = BOOTMODE_EXTERN;
 27360                        	.line	4674
 27361 06:6EAF: A9 03 00     	lda	#$3
 27362 06:6EB2: 85 0D        	sta	<L1170+bootMode_1
 27363                        ;							
                    break;
 27364                        	.line	4675
 27365 06:6EB4: 82 1C 00     	brl	L10491
 27366                        ;						case 0x1
                    1:
 27367                        	.line	4676
 27368                        L10494:
 27369                        ;							
                    bootMode = BOOTMODE_DESKTOP;
 27370                        	.line	4677
 27371 06:6EB7: A9 02 00     	lda	#$2
 27372 06:6EBA: 85 0D        	sta	<L1170+bootMode_1
 27373                        ;							
                    break;
 27374                        	.line	4678
 27375 06:6EBC: 82 14 00     	brl	L10491
 27376                        ;						}
 27377                        	.line	4679
 27378                        L10490:
 27379                        	xref	~~~swt
 27380 06:6EBF: 22 xx xx xx  	jsl	~~~swt
 27381 06:6EC3: 03 00        	dw	3
 27382 06:6EC5: 11 00        	dw	17
 27383 06:6EC7: B6 6E        	dw	L10494-1
 27384 06:6EC9: 2E 00        	dw	46
 27385 06:6ECB: A6 6E        	dw	L10492-1
 27386 06:6ECD: 30 00        	dw	48
 27387 06:6ECF: AE 6E        	dw	L10493-1
 27388 06:6ED1: D2 6E        	dw	L10491-1
 27389                        L10491:
 27390                        ;
 27391                        ;						k_debug_
                    hex("bootMode:",bootMode);
 27392                        	.line	4681
 27393 06:6ED3: D4 0D        	pei	<L1170+bootMode_1
 27394 06:6ED5: F4 xx xx     	pea	#^L1151+183
 27395 06:6ED8: F4 xx xx     	pea	#<L1151+183
 27396 06:6EDB: 22 xx xx xx  	jsl	~~k_debug_hex
 27397                        ;					}
 27398                        	.line	4682
 27399                        ;				}
 27400                        L10489:
 27401                        	.line	4683
 27402                        ;			}
 27403                        L10488:
 27404                        	.line	4684
  Mon Sep 27 2021  9:39                                                Page 503


 27405                        L10484:
 27406 06:6EDF: E2 20        	sep	#$20
 27407                        	longa	off
 27408 06:6EE1: C6 11        	dec	<L1170+c_1
 27409 06:6EE3: C2 20        	rep	#$20
 27410                        	longa	on
 27411                        L10487:
 27412 06:6EE5: E2 20        	sep	#$20
 27413                        	longa	off
 27414 06:6EE7: A9 00        	lda	#$0
 27415 06:6EE9: C5 11        	cmp	<L1170+c_1
 27416 06:6EEB: C2 20        	rep	#$20
 27417                        	longa	on
 27418 06:6EED: B0 03        	bcs	L1205
 27419 06:6EEF: 82 8C FE     	brl	L10486
 27420                        L1205:
 27421                        L10485:
 27422                        ;		}
 27423                        	.line	4685
 27424                        L10470:
 27425 06:6EF2: E6 0F        	inc	<L1170+i_1
 27426 06:6EF4: 38           	sec
 27427 06:6EF5: A5 0F        	lda	<L1170+i_1
 27428 06:6EF7: E9 0A 00     	sbc	#<$a
 27429 06:6EFA: 70 03        	bvs	L1206
 27430 06:6EFC: 49 00 80     	eor	#$8000
 27431                        L1206:
 27432 06:6EFF: 30 03        	bmi	L1207
 27433 06:6F01: 82 F2 FC     	brl	L10472
 27434                        L1207:
 27435                        L10471:
 27436                        ;
 27437                        ;
 27438                        ;		//k_debug_string("k_vdma_fill_rect_ex\r\
                    n");
 27439                        ;
 27440                        ;		k_lock_irq();
 27441                        	.line	4690
 27442 06:6F04: 22 xx xx xx  	jsl	~~k_lock_irq
 27443                        ;
 27444                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _FRONT);
 27445                        	.line	4692
 27446 06:6F08: F4 00 00     	pea	#<$0
 27447 06:6F0B: F4 00 00     	pea	#<$0
 27448 06:6F0E: F4 E0 01     	pea	#<$1e0
 27449 06:6F11: F4 80 02     	pea	#<$280
 27450 06:6F14: F4 00 00     	pea	#^$0
 27451 06:6F17: F4 00 00     	pea	#<$0
 27452 06:6F1A: F4 00 00     	pea	#^$0
 27453 06:6F1D: F4 00 00     	pea	#<$0
 27454 06:6F20: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 27455                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _BACK);
 27456                        	.line	4693
 27457 06:6F24: F4 08 00     	pea	#<$8
 27458 06:6F27: F4 00 00     	pea	#<$0
 27459 06:6F2A: F4 E0 01     	pea	#<$1e0
  Mon Sep 27 2021  9:39                                                Page 504


 27460 06:6F2D: F4 80 02     	pea	#<$280
 27461 06:6F30: F4 00 00     	pea	#^$0
 27462 06:6F33: F4 00 00     	pea	#<$0
 27463 06:6F36: F4 00 00     	pea	#^$0
 27464 06:6F39: F4 00 00     	pea	#<$0
 27465 06:6F3C: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 27466                        ;
 27467                        ;		k_unlock_irq();
 27468                        	.line	4695
 27469 06:6F40: 22 xx xx xx  	jsl	~~k_unlock_irq
 27470                        ;	}
 27471                        	.line	4696
 27472                        ;
 27473                        ;	return bootMode;
 27474                        L10467:
 27475                        	.line	4698
 27476 06:6F44: A5 0D        	lda	<L1170+bootMode_1
 27477                        L1208:
 27478 06:6F46: A8           	tay
 27479 06:6F47: A5 43        	lda	<L1169+2
 27480 06:6F49: 85 45        	sta	<L1169+2+2
 27481 06:6F4B: A5 42        	lda	<L1169+1
 27482 06:6F4D: 85 44        	sta	<L1169+1+2
 27483 06:6F4F: 2B           	pld
 27484 06:6F50: 3B           	tsc
 27485 06:6F51: 18           	clc
 27486 06:6F52: 69 43 00     	adc	#L1169+2
 27487 06:6F55: 1B           	tcs
 27488 06:6F56: 98           	tya
 27489 06:6F57: 6B           	rtl
 27490                        ;}
 27491                        	.line	4699
 27492                        	.endblock	4699
 27493             00000041   L1169	equ	65
 27494             0000000D   L1170	equ	13
 27495 06:6F58:              	ends
 27496                        	efunc
 27497                        	.endfunc	4699,13,65
 27498                        	.line	4699
 27499                        	data
 27500                        L1151:
 27501 00:0A53: 48 44 3A 5C  	db	$48,$44,$3A,$5C,$73,$79,$73,$74,$65,$6D,
                    $5C,$61,$73,$73,$65
       00:0A57: 73 79 73 74 
       00:0A5B: 65 6D 5C 61 
       00:0A5F: 73 73 65 
 27502 00:0A62: 74 73 5C 25  	db	$74,$73,$5C,$25,$42,$52,$25,$5C,$6C,$6F,
                    $67,$6F,$31,$2E,$62
       00:0A66: 42 52 25 5C 
       00:0A6A: 6C 6F 67 6F 
       00:0A6E: 31 2E 62 
 27503 00:0A71: 6D 70 00 25  	db	$6D,$70,$00,$25,$42,$52,$25,$00,$6B,$5F,
                    $69,$6E,$69,$74,$5F
       00:0A75: 42 52 25 00 
       00:0A79: 6B 5F 69 6E 
       00:0A7D: 69 74 5F 
 27504 00:0A80: 73 70 6C 61  	db	$73,$70,$6C,$61,$73,$68,$3A,$3A,$70,$61,
                    $74,$68,$4E,$61,$6D
  Mon Sep 27 2021  9:39                                                Page 505


       00:0A84: 73 68 3A 3A 
       00:0A88: 70 61 74 68 
       00:0A8C: 4E 61 6D 
 27505 00:0A8F: 65 0D 0A 00  	db	$65,$0D,$0A,$00,$48,$44,$3A,$5C,$73,$79,
                    $73,$74,$65,$6D,$5C
       00:0A93: 48 44 3A 5C 
       00:0A97: 73 79 73 74 
       00:0A9B: 65 6D 5C 
 27506 00:0A9E: 61 73 73 65  	db	$61,$73,$73,$65,$74,$73,$5C,$25,$42,$52,
                    $25,$5C,$6C,$6F,$67
       00:0AA2: 74 73 5C 25 
       00:0AA6: 42 52 25 5C 
       00:0AAA: 6C 6F 67 
 27507 00:0AAD: 6F 32 2E 62  	db	$6F,$32,$2E,$62,$6D,$70,$00,$25,$42,$52,
                    $25,$00,$6B,$5F,$69
       00:0AB1: 6D 70 00 25 
       00:0AB5: 42 52 25 00 
       00:0AB9: 6B 5F 69 
 27508 00:0ABC: 6E 69 74 5F  	db	$6E,$69,$74,$5F,$73,$70,$6C,$61,$73,$68,
                    $3A,$3A,$6B,$5F,$67
       00:0AC0: 73 70 6C 61 
       00:0AC4: 73 68 3A 3A 
       00:0AC8: 6B 5F 67 
 27509 00:0ACB: 65 74 5F 64  	db	$65,$74,$5F,$64,$6F,$73,$5F,$64,$65,$76,
                    $69,$63,$65,$3A,$00
       00:0ACF: 6F 73 5F 64 
       00:0AD3: 65 76 69 63 
       00:0AD7: 65 3A 00 
 27510 00:0ADA: 6B 5F 69 6E  	db	$6B,$5F,$69,$6E,$69,$74,$5F,$73,$70,$6C,
                    $61,$73,$68,$3A,$3A
       00:0ADE: 69 74 5F 73 
       00:0AE2: 70 6C 61 73 
       00:0AE6: 68 3A 3A 
 27511 00:0AE9: 6B 5F 67 65  	db	$6B,$5F,$67,$65,$74,$5F,$64,$6F,$73,$5F,
                    $64,$65,$76,$69,$63
       00:0AED: 74 5F 64 6F 
       00:0AF1: 73 5F 64 65 
       00:0AF5: 76 69 63 
 27512 00:0AF8: 65 3A 6E 61  	db	$65,$3A,$6E,$61,$6D,$65,$3A,$00,$62,$6F,
                    $6F,$74,$4D,$6F,$64
       00:0AFC: 6D 65 3A 00 
       00:0B00: 62 6F 6F 74 
       00:0B04: 4D 6F 64 
 27513 00:0B07: 65 3A 00 62  	db	$65,$3A,$00,$62,$6F,$6F,$74,$4D,$6F,$64,
                    $65,$3A,$00
       00:0B0B: 6F 6F 74 4D 
       00:0B0F: 6F 64 65 3A 
       00:0B13: 00 
 27514 00:0B14:              	ends
 27515                        ;
 27516                        ;void k_show_mandy(LPCSTR imageFilePath, UINT mode
                    )
 27517                        ;{
 27518                        	.line	4701
 27519                        	.line	4702
 27520                        	GFX
 27521                        	xdef	~~k_show_mandy
 27522                        	func
  Mon Sep 27 2021  9:39                                                Page 506


 27523                        	.function	4702
 27524                        ~~k_show_mandy:
 27525                        	longa	on
 27526                        	longi	on
 27527 06:6F58: 3B           	tsc
 27528 06:6F59: 38           	sec
 27529 06:6F5A: E9 2F 00     	sbc	#L1210
 27530 06:6F5D: 1B           	tcs
 27531 06:6F5E: 0B           	phd
 27532 06:6F5F: 5B           	tcd
 27533             00000004   imageFilePath_0	set	4
 27534             00000008   mode_0	set	8
 27535                        	.block	4702
 27536                        ;	int i,j;
 27537                        ;	BYTE c,r,g,b;
 27538                        ;	long color[4];
 27539                        ;
 27540                        ;	long *pcolor[3];
 27541                        ;
 27542                        ;	//PFXZEROPAGE zp = NULL;
 27543                        ;
 27544                        ;	LPSTR pPalette = GRPH_LUT0_PTR;
 27545                        ;	LPSTR pathName = NULL;
 27546                        ;	CHAR boardRelease[3];
 27547                        ;
 27548                        ;	k_clear_screen(0);
 27549             00000000   i_1	set	0
 27550             00000002   j_1	set	2
 27551             00000004   c_1	set	4
 27552             00000005   r_1	set	5
 27553             00000006   g_1	set	6
 27554             00000007   b_1	set	7
 27555             00000008   color_1	set	8
 27556             00000018   pcolor_1	set	24
 27557             00000024   pPalette_1	set	36
 27558             00000028   pathName_1	set	40
 27559             0000002C   boardRelease_1	set	44
 27560                        	.sym	i,0,5,1,16
 27561                        	.sym	j,2,5,1,16
 27562                        	.sym	c,4,14,1,8
 27563                        	.sym	r,5,14,1,8
 27564                        	.sym	g,6,14,1,8
 27565                        	.sym	b,7,14,1,8
 27566                        	.sym	color,8,103,1,0,4
 27567                        	.sym	pcolor,24,1127,1,32,3
 27568                        	.sym	pPalette,36,142,1,32
 27569                        	.sym	pathName,40,142,1,32
 27570                        	.sym	boardRelease,44,110,1,0,3
 27571                        	.sym	imageFilePath,4,142,6,32
 27572                        	.sym	mode,8,16,6,16
 27573 06:6F60: A9 00 20     	lda	#$2000
 27574 06:6F63: 85 25        	sta	<L1211+pPalette_1
 27575 06:6F65: A9 AF 00     	lda	#$af
 27576 06:6F68: 85 27        	sta	<L1211+pPalette_1+2
 27577 06:6F6A: 64 29        	stz	<L1211+pathName_1
 27578 06:6F6C: 64 2B        	stz	<L1211+pathName_1+2
 27579                        	.line	4715
 27580 06:6F6E: F4 00 00     	pea	#<$0
  Mon Sep 27 2021  9:39                                                Page 507


 27581 06:6F71: 22 xx xx xx  	jsl	~~k_clear_screen
 27582                        ;
 27583                        ;	k_lock_irq();
 27584                        	.line	4717
 27585 06:6F75: 22 xx xx xx  	jsl	~~k_lock_irq
 27586                        ;
 27587                        ;	if(mode > 0)
 27588                        	.line	4719
 27589                        ;	{
 27590 06:6F79: A9 00 00     	lda	#$0
 27591 06:6F7C: C5 37        	cmp	<L1210+mode_0
 27592 06:6F7E: 90 03        	bcc	L1213
 27593 06:6F80: 82 99 01     	brl	L10495
 27594                        L1213:
 27595                        	.line	4720
 27596                        ;		/*
 27597                        ;		MASTER_CTRL_REG_H[0] = 0;
 27598                        ;		MASTER_CTRL_REG_L[0] = MSTR_CTRL_GRAPH_M
                    ODE_EN;
 27599                        ;
 27600                        ;		for(i=3200;i>0;i--)
 27601                        ;		{
 27602                        ;			for(j=0;j<256;j++)
 27603                        ;			{
 27604                        ;				asm NOP;
 27605                        ;			}
 27606                        ;		}
 27607                        ;		*/
 27608                        ;		k_debug_string("k_enable_bitmap_mode to 
                    800x600...\r\n");
 27609                        	.line	4733
 27610 06:6F83: F4 xx xx     	pea	#^L1209
 27611 06:6F86: F4 xx xx     	pea	#<L1209
 27612 06:6F89: 22 xx xx xx  	jsl	~~k_debug_string
 27613                        ;
 27614                        ;		k_vdma_fill_rect_ex(0,0,800,600,0,BITMAP
                    _FRONT);
 27615                        	.line	4735
 27616 06:6F8D: F4 00 00     	pea	#<$0
 27617 06:6F90: F4 00 00     	pea	#<$0
 27618 06:6F93: F4 58 02     	pea	#<$258
 27619 06:6F96: F4 20 03     	pea	#<$320
 27620 06:6F99: F4 00 00     	pea	#^$0
 27621 06:6F9C: F4 00 00     	pea	#<$0
 27622 06:6F9F: F4 00 00     	pea	#^$0
 27623 06:6FA2: F4 00 00     	pea	#<$0
 27624 06:6FA5: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 27625                        ;
 27626                        ;		if(MASTER_CTRL_REG_H[0] > 0)
 27627                        	.line	4737
 27628                        ;		{
 27629 06:6FA9: E2 20        	sep	#$20
 27630                        	longa	off
 27631 06:6FAB: A9 00        	lda	#$0
 27632 06:6FAD: CF 01 00 AF  	cmp	>11468801
 27633 06:6FB1: C2 20        	rep	#$20
 27634                        	longa	on
 27635 06:6FB3: 90 03        	bcc	L1214
  Mon Sep 27 2021  9:39                                                Page 508


 27636 06:6FB5: 82 29 00     	brl	L10496
 27637                        L1214:
 27638                        	.line	4738
 27639                        ;			MASTER_CTRL_REG_H[0] =  0;
 27640                        	.line	4739
 27641 06:6FB8: E2 20        	sep	#$20
 27642                        	longa	off
 27643 06:6FBA: A9 00        	lda	#$0
 27644 06:6FBC: 8F 01 00 AF  	sta	>11468801
 27645 06:6FC0: C2 20        	rep	#$20
 27646                        	longa	on
 27647                        ;			MASTER_CTRL_REG_L[0] = (MSTR_CTR
                    L_GRAPH_MODE_EN | MSTR_CTRL_BITMAP_EN);
 27648                        	.line	4740
 27649 06:6FC2: E2 20        	sep	#$20
 27650                        	longa	off
 27651 06:6FC4: A9 0C        	lda	#$c
 27652 06:6FC6: 8F 00 00 AF  	sta	>11468800
 27653 06:6FCA: C2 20        	rep	#$20
 27654                        	longa	on
 27655                        ;			for(j=0;j<256;j++)
 27656                        	.line	4741
 27657 06:6FCC: 64 03        	stz	<L1211+j_1
 27658                        L10499:
 27659                        ;			{
 27660                        	.line	4742
 27661                        ;				asm NOP;
 27662                        	.line	4743
 27663                        	asmstart
 27664 06:6FCE: EA           	NOP
 27665                        	asmend
 27666                        ;			}
 27667                        	.line	4744
 27668                        L10497:
 27669 06:6FCF: E6 03        	inc	<L1211+j_1
 27670 06:6FD1: 38           	sec
 27671 06:6FD2: A5 03        	lda	<L1211+j_1
 27672 06:6FD4: E9 00 01     	sbc	#<$100
 27673 06:6FD7: 70 03        	bvs	L1215
 27674 06:6FD9: 49 00 80     	eor	#$8000
 27675                        L1215:
 27676 06:6FDC: 30 03        	bmi	L1216
 27677 06:6FDE: 82 ED FF     	brl	L10499
 27678                        L1216:
 27679                        L10498:
 27680                        ;		}
 27681                        	.line	4745
 27682                        ;
 27683                        ;		MASTER_CTRL_REG_H[0] = 0x03;
 27684                        L10496:
 27685                        	.line	4747
 27686 06:6FE1: E2 20        	sep	#$20
 27687                        	longa	off
 27688 06:6FE3: A9 03        	lda	#$3
 27689 06:6FE5: 8F 01 00 AF  	sta	>11468801
 27690 06:6FE9: C2 20        	rep	#$20
 27691                        	longa	on
 27692                        ;		for(j=0;j<256;j++)
  Mon Sep 27 2021  9:39                                                Page 509


 27693                        	.line	4748
 27694 06:6FEB: 64 03        	stz	<L1211+j_1
 27695                        L10502:
 27696                        ;		{
 27697                        	.line	4749
 27698                        ;			asm NOP;
 27699                        	.line	4750
 27700                        	asmstart
 27701 06:6FED: EA           	NOP
 27702                        	asmend
 27703                        ;		}
 27704                        	.line	4751
 27705                        L10500:
 27706 06:6FEE: E6 03        	inc	<L1211+j_1
 27707 06:6FF0: 38           	sec
 27708 06:6FF1: A5 03        	lda	<L1211+j_1
 27709 06:6FF3: E9 00 01     	sbc	#<$100
 27710 06:6FF6: 70 03        	bvs	L1217
 27711 06:6FF8: 49 00 80     	eor	#$8000
 27712                        L1217:
 27713 06:6FFB: 30 03        	bmi	L1218
 27714 06:6FFD: 82 ED FF     	brl	L10502
 27715                        L1218:
 27716                        L10501:
 27717                        ;
 27718                        ;		MASTER_CTRL_REG_H[0] = MSTR_CTRL_VIDEO_M
                    ODE0;
 27719                        	.line	4753
 27720 06:7000: E2 20        	sep	#$20
 27721                        	longa	off
 27722 06:7002: A9 01        	lda	#$1
 27723 06:7004: 8F 01 00 AF  	sta	>11468801
 27724 06:7008: C2 20        	rep	#$20
 27725                        	longa	on
 27726                        ;		for(j=0;j<256;j++)
 27727                        	.line	4754
 27728 06:700A: 64 03        	stz	<L1211+j_1
 27729                        L10505:
 27730                        ;		{
 27731                        	.line	4755
 27732                        ;			asm NOP;
 27733                        	.line	4756
 27734                        	asmstart
 27735 06:700C: EA           	NOP
 27736                        	asmend
 27737                        ;		}
 27738                        	.line	4757
 27739                        L10503:
 27740 06:700D: E6 03        	inc	<L1211+j_1
 27741 06:700F: 38           	sec
 27742 06:7010: A5 03        	lda	<L1211+j_1
 27743 06:7012: E9 00 01     	sbc	#<$100
 27744 06:7015: 70 03        	bvs	L1219
 27745 06:7017: 49 00 80     	eor	#$8000
 27746                        L1219:
 27747 06:701A: 30 03        	bmi	L1220
 27748 06:701C: 82 ED FF     	brl	L10505
 27749                        L1220:
  Mon Sep 27 2021  9:39                                                Page 510


 27750                        L10504:
 27751                        ;
 27752                        ;
 27753                        ;		MASTER_CTRL_REG_H[0] = 0x03;
 27754                        	.line	4760
 27755 06:701F: E2 20        	sep	#$20
 27756                        	longa	off
 27757 06:7021: A9 03        	lda	#$3
 27758 06:7023: 8F 01 00 AF  	sta	>11468801
 27759 06:7027: C2 20        	rep	#$20
 27760                        	longa	on
 27761                        ;		for(j=0;j<256;j++)
 27762                        	.line	4761
 27763 06:7029: 64 03        	stz	<L1211+j_1
 27764                        L10508:
 27765                        ;		{
 27766                        	.line	4762
 27767                        ;			asm NOP;
 27768                        	.line	4763
 27769                        	asmstart
 27770 06:702B: EA           	NOP
 27771                        	asmend
 27772                        ;		}
 27773                        	.line	4764
 27774                        L10506:
 27775 06:702C: E6 03        	inc	<L1211+j_1
 27776 06:702E: 38           	sec
 27777 06:702F: A5 03        	lda	<L1211+j_1
 27778 06:7031: E9 00 01     	sbc	#<$100
 27779 06:7034: 70 03        	bvs	L1221
 27780 06:7036: 49 00 80     	eor	#$8000
 27781                        L1221:
 27782 06:7039: 30 03        	bmi	L1222
 27783 06:703B: 82 ED FF     	brl	L10508
 27784                        L1222:
 27785                        L10507:
 27786                        ;
 27787                        ;		MASTER_CTRL_REG_H[0] = MSTR_CTRL_VIDEO_M
                    ODE0;
 27788                        	.line	4766
 27789 06:703E: E2 20        	sep	#$20
 27790                        	longa	off
 27791 06:7040: A9 01        	lda	#$1
 27792 06:7042: 8F 01 00 AF  	sta	>11468801
 27793 06:7046: C2 20        	rep	#$20
 27794                        	longa	on
 27795                        ;		for(j=0;j<256;j++)
 27796                        	.line	4767
 27797 06:7048: 64 03        	stz	<L1211+j_1
 27798                        L10511:
 27799                        ;		{
 27800                        	.line	4768
 27801                        ;			asm NOP;
 27802                        	.line	4769
 27803                        	asmstart
 27804 06:704A: EA           	NOP
 27805                        	asmend
 27806                        ;		}
  Mon Sep 27 2021  9:39                                                Page 511


 27807                        	.line	4770
 27808                        L10509:
 27809 06:704B: E6 03        	inc	<L1211+j_1
 27810 06:704D: 38           	sec
 27811 06:704E: A5 03        	lda	<L1211+j_1
 27812 06:7050: E9 00 01     	sbc	#<$100
 27813 06:7053: 70 03        	bvs	L1223
 27814 06:7055: 49 00 80     	eor	#$8000
 27815                        L1223:
 27816 06:7058: 30 03        	bmi	L1224
 27817 06:705A: 82 ED FF     	brl	L10511
 27818                        L1224:
 27819                        L10510:
 27820                        ;
 27821                        ;		*BM0_CONTROL_REG = 0x01;
 27822                        	.line	4772
 27823 06:705D: E2 20        	sep	#$20
 27824                        	longa	off
 27825 06:705F: A9 01        	lda	#$1
 27826 06:7061: 8F 00 01 AF  	sta	>11469056
 27827 06:7065: C2 20        	rep	#$20
 27828                        	longa	on
 27829                        ;		*BM0_START_ADDY_L = 0;
 27830                        	.line	4773
 27831 06:7067: E2 20        	sep	#$20
 27832                        	longa	off
 27833 06:7069: A9 00        	lda	#$0
 27834 06:706B: 8F 01 01 AF  	sta	>11469057
 27835 06:706F: C2 20        	rep	#$20
 27836                        	longa	on
 27837                        ;		*BM0_START_ADDY_M = 0;
 27838                        	.line	4774
 27839 06:7071: E2 20        	sep	#$20
 27840                        	longa	off
 27841 06:7073: A9 00        	lda	#$0
 27842 06:7075: 8F 02 01 AF  	sta	>11469058
 27843 06:7079: C2 20        	rep	#$20
 27844                        	longa	on
 27845                        ;		*BM0_START_ADDY_H = 0;
 27846                        	.line	4775
 27847 06:707B: E2 20        	sep	#$20
 27848                        	longa	off
 27849 06:707D: A9 00        	lda	#$0
 27850 06:707F: 8F 03 01 AF  	sta	>11469059
 27851 06:7083: C2 20        	rep	#$20
 27852                        	longa	on
 27853                        ;
 27854                        ;		*BM0_CONTROL_REG = ( BM_ENABLE | BM_LUT0
                     );
 27855                        	.line	4777
 27856 06:7085: E2 20        	sep	#$20
 27857                        	longa	off
 27858 06:7087: A9 01        	lda	#$1
 27859 06:7089: 8F 00 01 AF  	sta	>11469056
 27860 06:708D: C2 20        	rep	#$20
 27861                        	longa	on
 27862                        ;
 27863                        ;		*BM1_CONTROL_REG = 0x00;
  Mon Sep 27 2021  9:39                                                Page 512


 27864                        	.line	4779
 27865 06:708F: E2 20        	sep	#$20
 27866                        	longa	off
 27867 06:7091: A9 00        	lda	#$0
 27868 06:7093: 8F 08 01 AF  	sta	>11469064
 27869 06:7097: C2 20        	rep	#$20
 27870                        	longa	on
 27871                        ;
 27872                        ;		MASTER_CTRL_REG_H[0] = MSTR_CTRL_VIDEO_M
                    ODE0;
 27873                        	.line	4781
 27874 06:7099: E2 20        	sep	#$20
 27875                        	longa	off
 27876 06:709B: A9 01        	lda	#$1
 27877 06:709D: 8F 01 00 AF  	sta	>11468801
 27878 06:70A1: C2 20        	rep	#$20
 27879                        	longa	on
 27880                        ;		MASTER_CTRL_REG_L[0] = (MSTR_CTRL_GRAPH_
                    MODE_EN | MSTR_CTRL_BITMAP_EN);
 27881                        	.line	4782
 27882 06:70A3: E2 20        	sep	#$20
 27883                        	longa	off
 27884 06:70A5: A9 0C        	lda	#$c
 27885 06:70A7: 8F 00 00 AF  	sta	>11468800
 27886 06:70AB: C2 20        	rep	#$20
 27887                        	longa	on
 27888                        ;
 27889                        ;		for(i=3200;i>0;i--)
 27890                        	.line	4784
 27891 06:70AD: A9 80 0C     	lda	#$c80
 27892 06:70B0: 85 01        	sta	<L1211+i_1
 27893                        L10514:
 27894                        ;		{
 27895                        	.line	4785
 27896                        ;			for(j=0;j<256;j++)
 27897                        	.line	4786
 27898 06:70B2: 64 03        	stz	<L1211+j_1
 27899                        L10517:
 27900                        ;			{
 27901                        	.line	4787
 27902                        ;				asm NOP;
 27903                        	.line	4788
 27904                        	asmstart
 27905 06:70B4: EA           	NOP
 27906                        	asmend
 27907                        ;			}
 27908                        	.line	4789
 27909                        L10515:
 27910 06:70B5: E6 03        	inc	<L1211+j_1
 27911 06:70B7: 38           	sec
 27912 06:70B8: A5 03        	lda	<L1211+j_1
 27913 06:70BA: E9 00 01     	sbc	#<$100
 27914 06:70BD: 70 03        	bvs	L1225
 27915 06:70BF: 49 00 80     	eor	#$8000
 27916                        L1225:
 27917 06:70C2: 30 03        	bmi	L1226
 27918 06:70C4: 82 ED FF     	brl	L10517
 27919                        L1226:
  Mon Sep 27 2021  9:39                                                Page 513


 27920                        L10516:
 27921                        ;		}
 27922                        	.line	4790
 27923                        L10512:
 27924 06:70C7: C6 01        	dec	<L1211+i_1
 27925 06:70C9: 38           	sec
 27926 06:70CA: A9 00 00     	lda	#$0
 27927 06:70CD: E5 01        	sbc	<L1211+i_1
 27928 06:70CF: 70 03        	bvs	L1227
 27929 06:70D1: 49 00 80     	eor	#$8000
 27930                        L1227:
 27931 06:70D4: 30 03        	bmi	L1228
 27932 06:70D6: 82 D9 FF     	brl	L10514
 27933                        L1228:
 27934                        L10513:
 27935                        ;
 27936                        ;		MASTER_CTRL_REG_H[0] = MSTR_CTRL_VIDEO_M
                    ODE0;
 27937                        	.line	4792
 27938 06:70D9: E2 20        	sep	#$20
 27939                        	longa	off
 27940 06:70DB: A9 01        	lda	#$1
 27941 06:70DD: 8F 01 00 AF  	sta	>11468801
 27942 06:70E1: C2 20        	rep	#$20
 27943                        	longa	on
 27944                        ;		MASTER_CTRL_REG_L[0] = (MSTR_CTRL_GRAPH_
                    MODE_EN | MSTR_CTRL_BITMAP_EN);
 27945                        	.line	4793
 27946 06:70E3: E2 20        	sep	#$20
 27947                        	longa	off
 27948 06:70E5: A9 0C        	lda	#$c
 27949 06:70E7: 8F 00 00 AF  	sta	>11468800
 27950 06:70EB: C2 20        	rep	#$20
 27951                        	longa	on
 27952                        ;
 27953                        ;		for(i=3200;i>0;i--)
 27954                        	.line	4795
 27955 06:70ED: A9 80 0C     	lda	#$c80
 27956 06:70F0: 85 01        	sta	<L1211+i_1
 27957                        L10520:
 27958                        ;		{
 27959                        	.line	4796
 27960                        ;			for(j=0;j<256;j++)
 27961                        	.line	4797
 27962 06:70F2: 64 03        	stz	<L1211+j_1
 27963                        L10523:
 27964                        ;			{
 27965                        	.line	4798
 27966                        ;				asm NOP;
 27967                        	.line	4799
 27968                        	asmstart
 27969 06:70F4: EA           	NOP
 27970                        	asmend
 27971                        ;			}
 27972                        	.line	4800
 27973                        L10521:
 27974 06:70F5: E6 03        	inc	<L1211+j_1
 27975 06:70F7: 38           	sec
  Mon Sep 27 2021  9:39                                                Page 514


 27976 06:70F8: A5 03        	lda	<L1211+j_1
 27977 06:70FA: E9 00 01     	sbc	#<$100
 27978 06:70FD: 70 03        	bvs	L1229
 27979 06:70FF: 49 00 80     	eor	#$8000
 27980                        L1229:
 27981 06:7102: 30 03        	bmi	L1230
 27982 06:7104: 82 ED FF     	brl	L10523
 27983                        L1230:
 27984                        L10522:
 27985                        ;		}
 27986                        	.line	4801
 27987                        L10518:
 27988 06:7107: C6 01        	dec	<L1211+i_1
 27989 06:7109: 38           	sec
 27990 06:710A: A9 00 00     	lda	#$0
 27991 06:710D: E5 01        	sbc	<L1211+i_1
 27992 06:710F: 70 03        	bvs	L1231
 27993 06:7111: 49 00 80     	eor	#$8000
 27994                        L1231:
 27995 06:7114: 30 03        	bmi	L1232
 27996 06:7116: 82 D9 FF     	brl	L10520
 27997                        L1232:
 27998                        L10519:
 27999                        ;
 28000                        ;
 28001                        ;
 28002                        ;	}
 28003                        	.line	4805
 28004                        ;	else
 28005 06:7119: 82 3C 00     	brl	L10524
 28006                        L10495:
 28007                        ;	{
 28008                        	.line	4807
 28009                        ;
 28010                        ;	#ifdef USE_FX256_FMX
 28011                        ;		k_enable_bitmap_mode();
 28012                        ;
 28013                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _FRONT);
 28014                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _BACK);
 28015                        ;	#elif USE_FX256_U
 28016                        ;
 28017                        ;		k_enable_bitmap_mode();
 28018                        	.line	4816
 28019 06:711C: 22 53 67 06  	jsl	~~k_enable_bitmap_mode
 28020                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _FRONT);
 28021                        	.line	4817
 28022 06:7120: F4 00 00     	pea	#<$0
 28023 06:7123: F4 00 00     	pea	#<$0
 28024 06:7126: F4 E0 01     	pea	#<$1e0
 28025 06:7129: F4 80 02     	pea	#<$280
 28026 06:712C: F4 00 00     	pea	#^$0
 28027 06:712F: F4 00 00     	pea	#<$0
 28028 06:7132: F4 00 00     	pea	#^$0
 28029 06:7135: F4 00 00     	pea	#<$0
 28030 06:7138: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
  Mon Sep 27 2021  9:39                                                Page 515


 28031                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _BACK);
 28032                        	.line	4818
 28033 06:713C: F4 08 00     	pea	#<$8
 28034 06:713F: F4 00 00     	pea	#<$0
 28035 06:7142: F4 E0 01     	pea	#<$1e0
 28036 06:7145: F4 80 02     	pea	#<$280
 28037 06:7148: F4 00 00     	pea	#^$0
 28038 06:714B: F4 00 00     	pea	#<$0
 28039 06:714E: F4 00 00     	pea	#^$0
 28040 06:7151: F4 00 00     	pea	#<$0
 28041 06:7154: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 28042                        ;	#endif
 28043                        ;
 28044                        ;	}
 28045                        	.line	4821
 28046                        L10524:
 28047                        ;
 28048                        ;	k_disable_border();
 28049                        	.line	4823
 28050 06:7158: 22 xx xx xx  	jsl	~~k_disable_border
 28051                        ;
 28052                        ;	k_unlock_irq();
 28053                        	.line	4825
 28054 06:715C: 22 xx xx xx  	jsl	~~k_unlock_irq
 28055                        ;
 28056                        ;	if(imageFilePath)
 28057                        	.line	4827
 28058                        ;	{
 28059 06:7160: A5 33        	lda	<L1210+imageFilePath_0
 28060 06:7162: 05 35        	ora	<L1210+imageFilePath_0+2
 28061 06:7164: D0 03        	bne	L1233
 28062 06:7166: 82 08 00     	brl	L10525
 28063                        L1233:
 28064                        	.line	4828
 28065                        ;		readBMPPalette(imageFilePath);
 28066                        	.line	4829
 28067 06:7169: D4 35        	pei	<L1210+imageFilePath_0+2
 28068 06:716B: D4 33        	pei	<L1210+imageFilePath_0
 28069 06:716D: 22 F4 89 06  	jsl	~~readBMPPalette
 28070                        ;	}
 28071                        	.line	4830
 28072                        ;
 28073                        ;	if(mode > 1)
 28074                        L10525:
 28075                        	.line	4832
 28076                        ;	{
 28077 06:7171: A9 01 00     	lda	#$1
 28078 06:7174: C5 37        	cmp	<L1210+mode_0
 28079 06:7176: 90 03        	bcc	L1234
 28080 06:7178: 82 6B 00     	brl	L10526
 28081                        L1234:
 28082                        	.line	4833
 28083                        ;		for(i=0;i<255;i++)
 28084                        	.line	4834
 28085 06:717B: 64 01        	stz	<L1211+i_1
 28086                        L10529:
 28087                        ;		{
  Mon Sep 27 2021  9:39                                                Page 516


 28088                        	.line	4835
 28089                        ;			k_debug_integer("k_enable_bitmap
                    _color:",i);
 28090                        	.line	4836
 28091 06:717D: D4 01        	pei	<L1211+i_1
 28092 06:717F: F4 xx xx     	pea	#^L1209+37
 28093 06:7182: F4 xx xx     	pea	#<L1209+37
 28094 06:7185: 22 xx xx xx  	jsl	~~k_debug_integer
 28095                        ;			k_vdma_fill_rect_ex(0,0,800,600,
                    i,BITMAP_FRONT);
 28096                        	.line	4837
 28097 06:7189: F4 00 00     	pea	#<$0
 28098 06:718C: D4 01        	pei	<L1211+i_1
 28099 06:718E: F4 58 02     	pea	#<$258
 28100 06:7191: F4 20 03     	pea	#<$320
 28101 06:7194: F4 00 00     	pea	#^$0
 28102 06:7197: F4 00 00     	pea	#<$0
 28103 06:719A: F4 00 00     	pea	#^$0
 28104 06:719D: F4 00 00     	pea	#<$0
 28105 06:71A0: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 28106                        ;			k_vdma_fill_rect_ex(0,0,800,600,
                    i,BITMAP_BACK);
 28107                        	.line	4838
 28108 06:71A4: F4 08 00     	pea	#<$8
 28109 06:71A7: D4 01        	pei	<L1211+i_1
 28110 06:71A9: F4 58 02     	pea	#<$258
 28111 06:71AC: F4 20 03     	pea	#<$320
 28112 06:71AF: F4 00 00     	pea	#^$0
 28113 06:71B2: F4 00 00     	pea	#<$0
 28114 06:71B5: F4 00 00     	pea	#^$0
 28115 06:71B8: F4 00 00     	pea	#<$0
 28116 06:71BB: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 28117                        ;			for(j=0;j<256;j++)
 28118                        	.line	4839
 28119 06:71BF: 64 03        	stz	<L1211+j_1
 28120                        L10532:
 28121                        ;			{
 28122                        	.line	4840
 28123                        ;				asm NOP;
 28124                        	.line	4841
 28125                        	asmstart
 28126 06:71C1: EA           	NOP
 28127                        	asmend
 28128                        ;			}
 28129                        	.line	4842
 28130                        L10530:
 28131 06:71C2: E6 03        	inc	<L1211+j_1
 28132 06:71C4: 38           	sec
 28133 06:71C5: A5 03        	lda	<L1211+j_1
 28134 06:71C7: E9 00 01     	sbc	#<$100
 28135 06:71CA: 70 03        	bvs	L1235
 28136 06:71CC: 49 00 80     	eor	#$8000
 28137                        L1235:
 28138 06:71CF: 30 03        	bmi	L1236
 28139 06:71D1: 82 ED FF     	brl	L10532
 28140                        L1236:
 28141                        L10531:
 28142                        ;		}
  Mon Sep 27 2021  9:39                                                Page 517


 28143                        	.line	4843
 28144                        L10527:
 28145 06:71D4: E6 01        	inc	<L1211+i_1
 28146 06:71D6: 38           	sec
 28147 06:71D7: A5 01        	lda	<L1211+i_1
 28148 06:71D9: E9 FF 00     	sbc	#<$ff
 28149 06:71DC: 70 03        	bvs	L1237
 28150 06:71DE: 49 00 80     	eor	#$8000
 28151                        L1237:
 28152 06:71E1: 30 03        	bmi	L1238
 28153 06:71E3: 82 97 FF     	brl	L10529
 28154                        L1238:
 28155                        L10528:
 28156                        ;	}
 28157                        	.line	4844
 28158                        ;
 28159                        ;	return;
 28160                        L10526:
 28161                        	.line	4846
 28162                        L1239:
 28163 06:71E6: A5 31        	lda	<L1210+2
 28164 06:71E8: 85 37        	sta	<L1210+2+6
 28165 06:71EA: A5 30        	lda	<L1210+1
 28166 06:71EC: 85 36        	sta	<L1210+1+6
 28167 06:71EE: 2B           	pld
 28168 06:71EF: 3B           	tsc
 28169 06:71F0: 18           	clc
 28170 06:71F1: 69 35 00     	adc	#L1210+6
 28171 06:71F4: 1B           	tcs
 28172 06:71F5: 6B           	rtl
 28173                        ;}
 28174                        	.line	4847
 28175                        	.endblock	4847
 28176             0000002F   L1210	equ	47
 28177             00000001   L1211	equ	1
 28178 06:71F6:              	ends
 28179                        	efunc
 28180                        	.endfunc	4847,1,47
 28181                        	.line	4847
 28182                        	data
 28183                        L1209:
 28184 00:0B14: 6B 5F 65 6E  	db	$6B,$5F,$65,$6E,$61,$62,$6C,$65,$5F,$62,
                    $69,$74,$6D,$61,$70
       00:0B18: 61 62 6C 65 
       00:0B1C: 5F 62 69 74 
       00:0B20: 6D 61 70 
 28185 00:0B23: 5F 6D 6F 64  	db	$5F,$6D,$6F,$64,$65,$20,$74,$6F,$20,$38,
                    $30,$30,$78,$36,$30
       00:0B27: 65 20 74 6F 
       00:0B2B: 20 38 30 30 
       00:0B2F: 78 36 30 
 28186 00:0B32: 30 2E 2E 2E  	db	$30,$2E,$2E,$2E,$0D,$0A,$00,$6B,$5F,$65,
                    $6E,$61,$62,$6C,$65
       00:0B36: 0D 0A 00 6B 
       00:0B3A: 5F 65 6E 61 
       00:0B3E: 62 6C 65 
 28187 00:0B41: 5F 62 69 74  	db	$5F,$62,$69,$74,$6D,$61,$70,$5F,$63,$6F,
                    $6C,$6F,$72,$3A,$00
  Mon Sep 27 2021  9:39                                                Page 518


       00:0B45: 6D 61 70 5F 
       00:0B49: 63 6F 6C 6F 
       00:0B4D: 72 3A 00 
 28188 00:0B50:              	ends
 28189                        ;
 28190                        ;void k_show_image(LPCSTR imageFilePath)
 28191                        ;{
 28192                        	.line	4849
 28193                        	.line	4850
 28194                        	GFX
 28195                        	xdef	~~k_show_image
 28196                        	func
 28197                        	.function	4850
 28198                        ~~k_show_image:
 28199                        	longa	on
 28200                        	longi	on
 28201 06:71F6: 3B           	tsc
 28202 06:71F7: 38           	sec
 28203 06:71F8: E9 2D 00     	sbc	#L1241
 28204 06:71FB: 1B           	tcs
 28205 06:71FC: 0B           	phd
 28206 06:71FD: 5B           	tcd
 28207             00000004   imageFilePath_0	set	4
 28208                        	.block	4850
 28209                        ;	int i;
 28210                        ;	BYTE c,r,g,b;
 28211                        ;	long color[4];
 28212                        ;
 28213                        ;	long *pcolor[3];
 28214                        ;
 28215                        ;	//PFXZEROPAGE zp = NULL;
 28216                        ;
 28217                        ;	LPSTR pPalette = GRPH_LUT0_PTR;
 28218                        ;	LPSTR pathName = NULL;
 28219                        ;	CHAR boardRelease[3];
 28220                        ;
 28221                        ;	k_clear_screen(0);
 28222             00000000   i_1	set	0
 28223             00000002   c_1	set	2
 28224             00000003   r_1	set	3
 28225             00000004   g_1	set	4
 28226             00000005   b_1	set	5
 28227             00000006   color_1	set	6
 28228             00000016   pcolor_1	set	22
 28229             00000022   pPalette_1	set	34
 28230             00000026   pathName_1	set	38
 28231             0000002A   boardRelease_1	set	42
 28232                        	.sym	i,0,5,1,16
 28233                        	.sym	c,2,14,1,8
 28234                        	.sym	r,3,14,1,8
 28235                        	.sym	g,4,14,1,8
 28236                        	.sym	b,5,14,1,8
 28237                        	.sym	color,6,103,1,0,4
 28238                        	.sym	pcolor,22,1127,1,32,3
 28239                        	.sym	pPalette,34,142,1,32
 28240                        	.sym	pathName,38,142,1,32
 28241                        	.sym	boardRelease,42,110,1,0,3
 28242                        	.sym	imageFilePath,4,142,6,32
  Mon Sep 27 2021  9:39                                                Page 519


 28243 06:71FE: A9 00 20     	lda	#$2000
 28244 06:7201: 85 23        	sta	<L1242+pPalette_1
 28245 06:7203: A9 AF 00     	lda	#$af
 28246 06:7206: 85 25        	sta	<L1242+pPalette_1+2
 28247 06:7208: 64 27        	stz	<L1242+pathName_1
 28248 06:720A: 64 29        	stz	<L1242+pathName_1+2
 28249                        	.line	4863
 28250 06:720C: F4 00 00     	pea	#<$0
 28251 06:720F: 22 xx xx xx  	jsl	~~k_clear_screen
 28252                        ;
 28253                        ;	k_lock_irq();
 28254                        	.line	4865
 28255 06:7213: 22 xx xx xx  	jsl	~~k_lock_irq
 28256                        ;
 28257                        ;#ifdef USE_FX256_FMX
 28258                        ;	k_enable_bitmap_mode();
 28259                        ;
 28260                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 28261                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_BACK);
 28262                        ;#elif USE_FX256_U
 28263                        ;
 28264                        ;	k_enable_bitmap_mode();
 28265                        	.line	4874
 28266 06:7217: 22 53 67 06  	jsl	~~k_enable_bitmap_mode
 28267                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_FRONT);
 28268                        	.line	4875
 28269 06:721B: F4 00 00     	pea	#<$0
 28270 06:721E: F4 00 00     	pea	#<$0
 28271 06:7221: F4 E0 01     	pea	#<$1e0
 28272 06:7224: F4 80 02     	pea	#<$280
 28273 06:7227: F4 00 00     	pea	#^$0
 28274 06:722A: F4 00 00     	pea	#<$0
 28275 06:722D: F4 00 00     	pea	#^$0
 28276 06:7230: F4 00 00     	pea	#<$0
 28277 06:7233: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 28278                        ;	k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP_BACK);
 28279                        	.line	4876
 28280 06:7237: F4 08 00     	pea	#<$8
 28281 06:723A: F4 00 00     	pea	#<$0
 28282 06:723D: F4 E0 01     	pea	#<$1e0
 28283 06:7240: F4 80 02     	pea	#<$280
 28284 06:7243: F4 00 00     	pea	#^$0
 28285 06:7246: F4 00 00     	pea	#<$0
 28286 06:7249: F4 00 00     	pea	#^$0
 28287 06:724C: F4 00 00     	pea	#<$0
 28288 06:724F: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 28289                        ;#else
 28290                        ;
 28291                        ;	VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE;
 28292                        ;
 28293                        ;	*BM_START_ADDY_L = 0x00;
 28294                        ;	*BM_START_ADDY_M = 0x00;
 28295                        ;	*BM_START_ADDY_H = 0x00;
 28296                        ;	*BG_CHAR_LUT_PTR = 0x02;
 28297                        ;
 28298                        ;	*BM_X_SIZE_L = 0x80;
 28299                        ;	*BM_X_SIZE_H = 0x02;
 28300                        ;	*BM_Y_SIZE_L = 0xE0;
  Mon Sep 27 2021  9:39                                                Page 520


 28301                        ;	*BM_Y_SIZE_H = 0x01;
 28302                        ;
 28303                        ;	*BM_CONTROL_REG 	= 0x08;
 28304                        ;
 28305                        ;	*MASTER_CTRL_REG_H 	= 0x00;
 28306                        ;	*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRAPH_MODE_
                    EN | MSTR_CTRL_BITMAP_EN);
 28307                        ;
 28308                        ;#endif
 28309                        ;
 28310                        ;	k_disable_border();
 28311                        	.line	4898
 28312 06:7253: 22 xx xx xx  	jsl	~~k_disable_border
 28313                        ;
 28314                        ;	k_unlock_irq();
 28315                        	.line	4900
 28316 06:7257: 22 xx xx xx  	jsl	~~k_unlock_irq
 28317                        ;
 28318                        ;	if(imageFilePath)
 28319                        	.line	4902
 28320                        ;	{
 28321 06:725B: A5 31        	lda	<L1241+imageFilePath_0
 28322 06:725D: 05 33        	ora	<L1241+imageFilePath_0+2
 28323 06:725F: D0 03        	bne	L1244
 28324 06:7261: 82 08 00     	brl	L10533
 28325                        L1244:
 28326                        	.line	4903
 28327                        ;		readBMP(imageFilePath);
 28328                        	.line	4904
 28329 06:7264: D4 33        	pei	<L1241+imageFilePath_0+2
 28330 06:7266: D4 31        	pei	<L1241+imageFilePath_0
 28331 06:7268: 22 00 8D 06  	jsl	~~readBMP
 28332                        ;	}
 28333                        	.line	4905
 28334                        ;
 28335                        ;	sleep(15000);
 28336                        L10533:
 28337                        	.line	4907
 28338 06:726C: F4 98 3A     	pea	#<$3a98
 28339 06:726F: 22 xx xx xx  	jsl	~~sleep
 28340                        ;
 28341                        ;	return;
 28342                        	.line	4909
 28343                        L1245:
 28344 06:7273: A5 2F        	lda	<L1241+2
 28345 06:7275: 85 33        	sta	<L1241+2+4
 28346 06:7277: A5 2E        	lda	<L1241+1
 28347 06:7279: 85 32        	sta	<L1241+1+4
 28348 06:727B: 2B           	pld
 28349 06:727C: 3B           	tsc
 28350 06:727D: 18           	clc
 28351 06:727E: 69 31 00     	adc	#L1241+4
 28352 06:7281: 1B           	tcs
 28353 06:7282: 6B           	rtl
 28354                        ;}
 28355                        	.line	4910
 28356                        	.endblock	4910
 28357             0000002D   L1241	equ	45
  Mon Sep 27 2021  9:39                                                Page 521


 28358             00000001   L1242	equ	1
 28359 06:7283:              	ends
 28360                        	efunc
 28361                        	.endfunc	4910,1,45
 28362                        	.line	4910
 28363                        ;
 28364                        ;
 28365                        ;/*
 28366                        ;void k_init_splash(UINT stage)
 28367                        ;{
 28368                        ;	int i;
 28369                        ;	BYTE c,r,g,b;
 28370                        ;	long color[4];
 28371                        ;
 28372                        ;	long *pcolor[3];
 28373                        ;
 28374                        ;	//PFXZEROPAGE zp = NULL;
 28375                        ;
 28376                        ;	LPSTR pPalette = GRPH_LUT0_PTR;
 28377                        ;	LPSTR pathName = NULL;
 28378                        ;	CHAR boardRelease[3];
 28379                        ;
 28380                        ;	k_get_c256_release(boardRelease);
 28381                        ;
 28382                        ;	if(stage == 1)
 28383                        ;	{
 28384                        ;		k_clear_screen(0);
 28385                        ;
 28386                        ;	#ifdef USE_FX256_FMX
 28387                        ;		k_enable_bitmap_mode();
 28388                        ;
 28389                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _FRONT);
 28390                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _BACK);
 28391                        ;	#elif USE_FX256_U
 28392                        ;
 28393                        ;		k_enable_bitmap_mode();
 28394                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _FRONT);
 28395                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _BACK);
 28396                        ;	#else
 28397                        ;
 28398                        ;		VDMA_CONTROL_REG[0] = VDMA_CTRL_ENABLE;
 28399                        ;
 28400                        ;		*BM_START_ADDY_L = 0x00;
 28401                        ;		*BM_START_ADDY_M = 0x00;
 28402                        ;		*BM_START_ADDY_H = 0x00;
 28403                        ;		*BG_CHAR_LUT_PTR = 0x02;
 28404                        ;
 28405                        ;		*BM_X_SIZE_L = 0x80;
 28406                        ;		*BM_X_SIZE_H = 0x02;
 28407                        ;		*BM_Y_SIZE_L = 0xE0;
 28408                        ;		*BM_Y_SIZE_H = 0x01;
 28409                        ;
 28410                        ;		*BM_CONTROL_REG 	= 0x08;
 28411                        ;
  Mon Sep 27 2021  9:39                                                Page 522


 28412                        ;		*MASTER_CTRL_REG_H 	= 0x00;
 28413                        ;		*MASTER_CTRL_REG_L 	= (MSTR_CTRL_GRA
                    PH_MODE_EN | MSTR_CTRL_BITMAP_EN);
 28414                        ;
 28415                        ;	#endif
 28416                        ;
 28417                        ;		k_disable_border();
 28418                        ;
 28419                        ;
 28420                        ;
 28421                        ;		//zp = k_getZeroPage();
 28422                        ;
 28423                        ;		//readBMP("HD:\\system\\assets\\%BR%\\lo
                    go1.bmp");
 28424                        ;
 28425                        ;		pathName = k_string_replace("HD:\\system
                    \\assets\\%BR%\\logo1.bmp","%BR%",boardRelease);
 28426                        ;		if(pathName)
 28427                        ;		{
 28428                        ;			//k_debug_strings("PATH REPLACED
                    :",pathName);
 28429                        ;			readBMP(pathName);
 28430                        ;			k_mem_deallocate_heap(pathName);
 28431                        ;		}
 28432                        ;	}
 28433                        ;	else if(stage == 2)
 28434                        ;	{
 28435                        ;		pathName = k_string_replace("HD:\\system
                    \\assets\\%BR%\\logo2.bmp","%BR%",boardRelease);
 28436                        ;		if(pathName)
 28437                        ;		{
 28438                        ;			readBMP(pathName);
 28439                        ;			k_mem_deallocate_heap(pathName);
 28440                        ;		}
 28441                        ;	}
 28442                        ;	else if(stage == 3)
 28443                        ;	{
 28444                        ;		pathName = k_string_replace("HD:\\system
                    \\assets\\%BR%\\logo3.bmp","%BR%",boardRelease);
 28445                        ;		if(pathName)
 28446                        ;		{
 28447                        ;			readBMP(pathName);
 28448                        ;			k_mem_deallocate_heap(pathName);
 28449                        ;		}
 28450                        ;	}
 28451                        ;	else if(stage == 4)
 28452                        ;	{
 28453                        ;		pathName = k_string_replace("HD:\\system
                    \\assets\\%BR%\\logo1.bmp","%BR%",boardRelease);
 28454                        ;		if(pathName)
 28455                        ;		{
 28456                        ;			readBMP(pathName);
 28457                        ;			k_mem_deallocate_heap(pathName);
 28458                        ;		}
 28459                        ;	}
 28460                        ;	else if(stage == 5)
 28461                        ;	{
 28462                        ;		r = pPalette[(int) (12 * 4 + 0)];
  Mon Sep 27 2021  9:39                                                Page 523


 28463                        ;		g = pPalette[(int) (12 * 4 + 1)];
 28464                        ;		b = pPalette[(int) (12 * 4 + 2)];
 28465                        ;
 28466                        ;		for(i = 0; i < 10; i++)
 28467                        ;		{
 28468                        ;			for(c = 0;c < 48;c++)
 28469                        ;			{
 28470                        ;
 28471                        ;				pPalette[(int) (12 * 4 +
                     0)] = (r + c) < 255 ? (r + c) : 255;
 28472                        ;				pPalette[(int) (12 * 4 +
                     1)] = (g + c) < 255 ? (g + c) : 255;
 28473                        ;				pPalette[(int) (12 * 4 +
                     2)] = (b + c) < 255 ? (b + c) : 255;
 28474                        ;				pPalette[(int) (12 * 4 +
                     3)] = 0x80;
 28475                        ;				k_delay(15);
 28476                        ;
 28477                        ;			}
 28478                        ;			for(c = 48;c > 0;c--)
 28479                        ;			{
 28480                        ;
 28481                        ;				pPalette[(int) (12 * 4 +
                     0)] = (r + c) < 255 ? (r + c) : 255;
 28482                        ;				pPalette[(int) (12 * 4 +
                     1)] = (g + c) < 255 ? (g + c) : 255;
 28483                        ;				pPalette[(int) (12 * 4 +
                     2)] = (b + c) < 255 ? (b + c) : 255;
 28484                        ;				pPalette[(int) (12 * 4 +
                     3)] = 0x80;//(c >> 2);//R
 28485                        ;				k_delay(15);
 28486                        ;			}
 28487                        ;		}
 28488                        ;
 28489                        ;
 28490                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _FRONT);
 28491                        ;		k_vdma_fill_rect_ex(0,0,640,480,0,BITMAP
                    _BACK);
 28492                        ;	}
 28493                        ;
 28494                        ;
 28495                        ;	return;
 28496                        ;}
 28497                        ;*/
 28498                        ;
 28499                        ;/*
 28500                        ;void k_add_window_hit_node(PCLICKDETECTED pcd)
 28501                        ;{
 28502                        ;	k_debug_pointer("k_add_window_hit_node:",pcd);
 28503                        ;	k_nodelist_add(_k_WindowHit_nodes,k_nodelist_cre
                    ate(1,"window",pcd,NULL,NULL));
 28504                        ;}
 28505                        ;
 28506                        ;
 28507                        ;int k_point_in_list_depth(int x,int y,PCLICKABLE 
                    clickableList,int cSize)
 28508                        ;{
  Mon Sep 27 2021  9:39                                                Page 524


 28509                        ;	int i = 0;
 28510                        ;	int index = -1;
 28511                        ;	int found = 0;
 28512                        ;	PCLICKABLE top = NULL;
 28513                        ;	RECT r;
 28514                        ;
 28515                        ;	for(i=0;i<cSize;i++)
 28516                        ;	{
 28517                        ;		hitList[i] = NULL;
 28518                        ;		r = clickableList[i].area;
 28519                        ;		if(x >=r.x && x<(r.x+r.width))
 28520                        ;		{
 28521                        ;			if(y >=r.y && y<(r.y+r.height))
 28522                        ;			{
 28523                        ;				index = i;
 28524                        ;				//clickableList[i].depth
                     = 1;
 28525                        ;				hitList[i] = &clickableL
                    ist[i];
 28526                        ;				found++;
 28527                        ;			}
 28528                        ;		}
 28529                        ;	}
 28530                        ;
 28531                        ;	if(found > 0)
 28532                        ;	{
 28533                        ;		top = hitList[0];
 28534                        ;		for(i=0;i<cSize;i++)
 28535                        ;		{
 28536                        ;			if(hitList[i]!=NULL && hitList[i
                    ]->depth < top->depth)
 28537                        ;			{
 28538                        ;				top->depth = 1;
 28539                        ;				top = hitList[i];
 28540                        ;				top->depth = 0;
 28541                        ;				index = i;
 28542                        ;			}
 28543                        ;		}
 28544                        ;	}
 28545                        ;	else
 28546                        ;	{
 28547                        ;		clickableList[index].depth = 0;
 28548                        ;	}
 28549                        ;
 28550                        ;	return index;
 28551                        ;}
 28552                        ;*/
 28553                        ;
 28554                        ;/*
 28555                        ;PFXNODE k_point_in_nodes(int x,int y)
 28556                        ;{
 28557                        ;	PFXNODE found = NULL;
 28558                        ;	LPCHAR ctx = "";
 28559                        ;	PFXNODE ptr = NULL;
 28560                        ;
 28561                        ;	RECT r;
 28562                        ;	int i = 0;
 28563                        ;	int index = -1;
  Mon Sep 27 2021  9:39                                                Page 525


 28564                        ;
 28565                        ;	//k_debug_string("k_point_in_nodes\r\n");
 28566                        ;
 28567                        ;	if(_k_WindowHit_nodes!=NULL)
 28568                        ;	{
 28569                        ;		ptr = _k_WindowHit_nodes->next;
 28570                        ;		while(ptr!=NULL)
 28571                        ;		{
 28572                        ;			//k_debug_pointer("FOUND HIT ITE
                    M:",ptr);
 28573                        ;			r = ((PCLICKABLE)((PCLICKDETECTE
                    D)ptr->data)->window->clickable)->area;
 28574                        ;			if(x >=r.x && x<(r.x+r.width))
 28575                        ;			{
 28576                        ;				if(y >=r.y && y<(r.y+r.h
                    eight))
 28577                        ;				{
 28578                        ;					found = ptr;
 28579                        ;					break;
 28580                        ;				}
 28581                        ;			}
 28582                        ;			ptr = ptr->next;
 28583                        ;		}
 28584                        ;	}
 28585                        ;
 28586                        ;	return found;
 28587                        ;}
 28588                        ;
 28589                        ;int k_point_in_list(int x,int y,PCLICKABLE clicka
                    bleList,int cSize)
 28590                        ;{
 28591                        ;	RECT r;
 28592                        ;	int i = 0;
 28593                        ;	int index = -1;
 28594                        ;
 28595                        ;	for(i=0;i<cSize;i++)
 28596                        ;	{
 28597                        ;		r = clickableList[i].area;
 28598                        ;		if(x >=r.x && x<(r.x+r.width))
 28599                        ;		{
 28600                        ;			if(y >=r.y && y<(r.y+r.height))
 28601                        ;			{
 28602                        ;				index = i;
 28603                        ;				//clickableList[i].depth
                     = 1;
 28604                        ;				break;
 28605                        ;			}
 28606                        ;		}
 28607                        ;	}
 28608                        ;
 28609                        ;	return index;
 28610                        ;}
 28611                        ;*/
 28612                        ;PMENU k_create_context_menus(PWINDOW pWin,int cx,
                    int cy,int width,int height,PMENUDROPDOWNDATA menus,int colo
                    r, int bgcolor)
 28613                        ;{
 28614                        	.line	5160
  Mon Sep 27 2021  9:39                                                Page 526


 28615                        	.line	5161
 28616                        	GFX
 28617                        	xdef	~~k_create_context_menus
 28618                        	func
 28619                        	.function	5161
 28620                        ~~k_create_context_menus:
 28621                        	longa	on
 28622                        	longi	on
 28623 06:7283: 3B           	tsc
 28624 06:7284: 38           	sec
 28625 06:7285: E9 2C 00     	sbc	#L1246
 28626 06:7288: 1B           	tcs
 28627 06:7289: 0B           	phd
 28628 06:728A: 5B           	tcd
 28629             00000004   pWin_0	set	4
 28630             00000008   cx_0	set	8
 28631             0000000A   cy_0	set	10
 28632             0000000C   width_0	set	12
 28633             0000000E   height_0	set	14
 28634             00000010   menus_0	set	16
 28635             00000014   color_0	set	20
 28636             00000016   bgcolor_0	set	22
 28637                        	.block	5161
 28638                        ;	FONTMETRIC metric;
 28639                        ;
 28640                        ;	int i = 0;
 28641                        ;	int hy = 0;
 28642                        ;	LPCSTR caption = NULL;
 28643                        ;
 28644                        ;	int borderTitle = 10;
 28645                        ;	int borderWidth = 3;
 28646                        ;
 28647                        ;	int titleOffsetX = cx+4;
 28648                        ;	int titleOffsetY = cy+2;
 28649                        ;	int titleScaler = 0;
 28650                        ;
 28651                        ;	int clientOffsetX = cx+borderWidth+2;
 28652                        ;	int clientOffsetY = cy+borderTitle+1;
 28653                        ;
 28654                        ;	int endX = width + cx - borderWidth;
 28655                        ;
 28656                        ;
 28657                        ;	k_debug_string("k_create_context_menu:fill\r\n")
                    ;
 28658             00000000   metric_1	set	0
 28659             00000004   i_1	set	4
 28660             00000006   hy_1	set	6
 28661             00000008   caption_1	set	8
 28662             0000000C   borderTitle_1	set	12
 28663             0000000E   borderWidth_1	set	14
 28664             00000010   titleOffsetX_1	set	16
 28665             00000012   titleOffsetY_1	set	18
 28666             00000014   titleScaler_1	set	20
 28667             00000016   clientOffsetX_1	set	22
 28668             00000018   clientOffsetY_1	set	24
 28669             0000001A   endX_1	set	26
 28670                        	.sym	metric,0,10,1,32,35
 28671                        	.sym	i,4,5,1,16
  Mon Sep 27 2021  9:39                                                Page 527


 28672                        	.sym	hy,6,5,1,16
 28673                        	.sym	caption,8,142,1,32
 28674                        	.sym	borderTitle,12,5,1,16
 28675                        	.sym	borderWidth,14,5,1,16
 28676                        	.sym	titleOffsetX,16,5,1,16
 28677                        	.sym	titleOffsetY,18,5,1,16
 28678                        	.sym	titleScaler,20,5,1,16
 28679                        	.sym	clientOffsetX,22,5,1,16
 28680                        	.sym	clientOffsetY,24,5,1,16
 28681                        	.sym	endX,26,5,1,16
 28682                        	.sym	pWin,4,138,6,32,33
 28683                        	.sym	cx,8,5,6,16
 28684                        	.sym	cy,10,5,6,16
 28685                        	.sym	width,12,5,6,16
 28686                        	.sym	height,14,5,6,16
 28687                        	.sym	menus,16,138,6,32,38
 28688                        	.sym	color,20,5,6,16
 28689                        	.sym	bgcolor,22,5,6,16
 28690 06:728B: 64 15        	stz	<L1247+i_1
 28691 06:728D: 64 17        	stz	<L1247+hy_1
 28692 06:728F: 64 19        	stz	<L1247+caption_1
 28693 06:7291: 64 1B        	stz	<L1247+caption_1+2
 28694 06:7293: A9 0A 00     	lda	#$a
 28695 06:7296: 85 1D        	sta	<L1247+borderTitle_1
 28696 06:7298: A9 03 00     	lda	#$3
 28697 06:729B: 85 1F        	sta	<L1247+borderWidth_1
 28698 06:729D: 18           	clc
 28699 06:729E: A9 04 00     	lda	#$4
 28700 06:72A1: 65 34        	adc	<L1246+cx_0
 28701 06:72A3: 85 21        	sta	<L1247+titleOffsetX_1
 28702 06:72A5: 18           	clc
 28703 06:72A6: A9 02 00     	lda	#$2
 28704 06:72A9: 65 36        	adc	<L1246+cy_0
 28705 06:72AB: 85 23        	sta	<L1247+titleOffsetY_1
 28706 06:72AD: 64 25        	stz	<L1247+titleScaler_1
 28707 06:72AF: 18           	clc
 28708 06:72B0: A5 34        	lda	<L1246+cx_0
 28709 06:72B2: 65 1F        	adc	<L1247+borderWidth_1
 28710 06:72B4: 85 01        	sta	<R0
 28711 06:72B6: 18           	clc
 28712 06:72B7: A9 02 00     	lda	#$2
 28713 06:72BA: 65 01        	adc	<R0
 28714 06:72BC: 85 27        	sta	<L1247+clientOffsetX_1
 28715 06:72BE: 18           	clc
 28716 06:72BF: A5 36        	lda	<L1246+cy_0
 28717 06:72C1: 65 1D        	adc	<L1247+borderTitle_1
 28718 06:72C3: 85 01        	sta	<R0
 28719 06:72C5: A5 01        	lda	<R0
 28720 06:72C7: 1A           	ina
 28721 06:72C8: 85 29        	sta	<L1247+clientOffsetY_1
 28722 06:72CA: 18           	clc
 28723 06:72CB: A5 38        	lda	<L1246+width_0
 28724 06:72CD: 65 34        	adc	<L1246+cx_0
 28725 06:72CF: 85 01        	sta	<R0
 28726 06:72D1: 38           	sec
 28727 06:72D2: A5 01        	lda	<R0
 28728 06:72D4: E5 1F        	sbc	<L1247+borderWidth_1
 28729 06:72D6: 85 2B        	sta	<L1247+endX_1
  Mon Sep 27 2021  9:39                                                Page 528


 28730                        	.line	5181
 28731 06:72D8: F4 xx xx     	pea	#^L1240
 28732 06:72DB: F4 xx xx     	pea	#<L1240
 28733 06:72DE: 22 xx xx xx  	jsl	~~k_debug_string
 28734                        ;
 28735                        ;	k_scratch_save_bitblt(cx,cy, width, height, 0, 0
                    );
 28736                        	.line	5183
 28737 06:72E2: F4 00 00     	pea	#<$0
 28738 06:72E5: F4 00 00     	pea	#<$0
 28739 06:72E8: D4 3A        	pei	<L1246+height_0
 28740 06:72EA: D4 38        	pei	<L1246+width_0
 28741 06:72EC: D4 36        	pei	<L1246+cy_0
 28742 06:72EE: D4 34        	pei	<L1246+cx_0
 28743 06:72F0: 22 7E 84 06  	jsl	~~k_scratch_save_bitblt
 28744                        ;
 28745                        ;	//k_vdma_fill_rect(cx,cy,width,height,0);
 28746                        ;	//k_vdma_fill_rect(cx+2,cy,width-2,height-2,bgco
                    lor);
 28747                        ;	//k_vdma_fill_rect(cx+1,cy+1,width -1 ,height - 
                    1,bgcolor);
 28748                        ;	k_vdma_fill_rect(cx,cy,width,height,bgcolor);
 28749                        	.line	5188
 28750 06:72F4: D4 42        	pei	<L1246+bgcolor_0
 28751 06:72F6: D4 3A        	pei	<L1246+height_0
 28752 06:72F8: D4 38        	pei	<L1246+width_0
 28753 06:72FA: A0 00 00     	ldy	#$0
 28754 06:72FD: A5 36        	lda	<L1246+cy_0
 28755 06:72FF: 10 01        	bpl	L1249
 28756 06:7301: 88           	dey
 28757                        L1249:
 28758 06:7302: 85 01        	sta	<R0
 28759 06:7304: 84 03        	sty	<R0+2
 28760 06:7306: D4 03        	pei	<R0+2
 28761 06:7308: D4 01        	pei	<R0
 28762 06:730A: A0 00 00     	ldy	#$0
 28763 06:730D: A5 34        	lda	<L1246+cx_0
 28764 06:730F: 10 01        	bpl	L1250
 28765 06:7311: 88           	dey
 28766                        L1250:
 28767 06:7312: 85 05        	sta	<R1
 28768 06:7314: 84 07        	sty	<R1+2
 28769 06:7316: D4 07        	pei	<R1+2
 28770 06:7318: D4 05        	pei	<R1
 28771 06:731A: 22 D6 62 06  	jsl	~~k_vdma_fill_rect
 28772                        ;
 28773                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 28774                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 28775                        ;	i = 0;
 28776                        	.line	5192
 28777 06:731E: 64 15        	stz	<L1247+i_1
 28778                        ;	caption = menus->captions[i];
 28779                        	.line	5193
 28780 06:7320: A0 00 00     	ldy	#$0
 28781 06:7323: A5 15        	lda	<L1247+i_1
 28782 06:7325: 10 01        	bpl	L1251
  Mon Sep 27 2021  9:39                                                Page 529


 28783 06:7327: 88           	dey
 28784                        L1251:
 28785 06:7328: 85 05        	sta	<R1
 28786 06:732A: 84 07        	sty	<R1+2
 28787 06:732C: D4 07        	pei	<R1+2
 28788 06:732E: D4 05        	pei	<R1
 28789 06:7330: A9 02 00     	lda	#$2
 28790                        	xref	~~~lasl
 28791 06:7333: 22 xx xx xx  	jsl	~~~lasl
 28792 06:7337: 85 01        	sta	<R0
 28793 06:7339: 86 03        	stx	<R0+2
 28794 06:733B: 18           	clc
 28795 06:733C: A9 12 00     	lda	#$12
 28796 06:733F: 65 3C        	adc	<L1246+menus_0
 28797 06:7341: 85 09        	sta	<R2
 28798 06:7343: A9 00 00     	lda	#$0
 28799 06:7346: 65 3E        	adc	<L1246+menus_0+2
 28800 06:7348: 85 0B        	sta	<R2+2
 28801 06:734A: 18           	clc
 28802 06:734B: A5 09        	lda	<R2
 28803 06:734D: 65 01        	adc	<R0
 28804 06:734F: 85 0D        	sta	<R3
 28805 06:7351: A5 0B        	lda	<R2+2
 28806 06:7353: 65 03        	adc	<R0+2
 28807 06:7355: 85 0F        	sta	<R3+2
 28808 06:7357: A7 0D        	lda	[<R3]
 28809 06:7359: 85 19        	sta	<L1247+caption_1
 28810 06:735B: A0 02 00     	ldy	#$2
 28811 06:735E: B7 0D        	lda	[<R3],Y
 28812 06:7360: 85 1B        	sta	<L1247+caption_1+2
 28813                        ;	while(caption!=NULL)
 28814                        	.line	5194
 28815                        L10534:
 28816 06:7362: A5 19        	lda	<L1247+caption_1
 28817 06:7364: 05 1B        	ora	<L1247+caption_1+2
 28818 06:7366: D0 03        	bne	L1252
 28819 06:7368: 82 7A 00     	brl	L10535
 28820                        L1252:
 28821                        ;	{
 28822                        	.line	5195
 28823                        ;		k_debug_strings("k_create_context_menu:c
                    aption:",(LPCHAR)caption);
 28824                        	.line	5196
 28825 06:736B: D4 1B        	pei	<L1247+caption_1+2
 28826 06:736D: D4 19        	pei	<L1247+caption_1
 28827 06:736F: F4 xx xx     	pea	#^L1240+29
 28828 06:7372: F4 xx xx     	pea	#<L1240+29
 28829 06:7375: 22 xx xx xx  	jsl	~~k_debug_strings
 28830                        ;
 28831                        ;		//caption = strupr(caption);
 28832                        ;		hy = k_draw_text_point(caption,titleOffs
                    etX,titleOffsetY,color);
 28833                        	.line	5199
 28834 06:7379: D4 40        	pei	<L1246+color_0
 28835 06:737B: D4 23        	pei	<L1247+titleOffsetY_1
 28836 06:737D: D4 21        	pei	<L1247+titleOffsetX_1
 28837 06:737F: D4 1B        	pei	<L1247+caption_1+2
 28838 06:7381: D4 19        	pei	<L1247+caption_1
  Mon Sep 27 2021  9:39                                                Page 530


 28839 06:7383: 22 7F 22 06  	jsl	~~k_draw_text_point
 28840 06:7387: 85 17        	sta	<L1247+hy_1
 28841                        ;		titleOffsetY+=(FONTH + 2);
 28842                        	.line	5200
 28843 06:7389: 22 21 86 06  	jsl	~~k_font_getFontHeight
 28844 06:738D: 85 01        	sta	<R0
 28845 06:738F: 18           	clc
 28846 06:7390: A5 01        	lda	<R0
 28847 06:7392: 65 23        	adc	<L1247+titleOffsetY_1
 28848 06:7394: 85 05        	sta	<R1
 28849 06:7396: 18           	clc
 28850 06:7397: A9 02 00     	lda	#$2
 28851 06:739A: 65 05        	adc	<R1
 28852 06:739C: 85 23        	sta	<L1247+titleOffsetY_1
 28853                        ;		i++;
 28854                        	.line	5201
 28855 06:739E: E6 15        	inc	<L1247+i_1
 28856                        ;		caption = menus->captions[i];
 28857                        	.line	5202
 28858 06:73A0: A0 00 00     	ldy	#$0
 28859 06:73A3: A5 15        	lda	<L1247+i_1
 28860 06:73A5: 10 01        	bpl	L1253
 28861 06:73A7: 88           	dey
 28862                        L1253:
 28863 06:73A8: 85 05        	sta	<R1
 28864 06:73AA: 84 07        	sty	<R1+2
 28865 06:73AC: D4 07        	pei	<R1+2
 28866 06:73AE: D4 05        	pei	<R1
 28867 06:73B0: A9 02 00     	lda	#$2
 28868                        	xref	~~~lasl
 28869 06:73B3: 22 xx xx xx  	jsl	~~~lasl
 28870 06:73B7: 85 01        	sta	<R0
 28871 06:73B9: 86 03        	stx	<R0+2
 28872 06:73BB: 18           	clc
 28873 06:73BC: A9 12 00     	lda	#$12
 28874 06:73BF: 65 3C        	adc	<L1246+menus_0
 28875 06:73C1: 85 09        	sta	<R2
 28876 06:73C3: A9 00 00     	lda	#$0
 28877 06:73C6: 65 3E        	adc	<L1246+menus_0+2
 28878 06:73C8: 85 0B        	sta	<R2+2
 28879 06:73CA: 18           	clc
 28880 06:73CB: A5 09        	lda	<R2
 28881 06:73CD: 65 01        	adc	<R0
 28882 06:73CF: 85 0D        	sta	<R3
 28883 06:73D1: A5 0B        	lda	<R2+2
 28884 06:73D3: 65 03        	adc	<R0+2
 28885 06:73D5: 85 0F        	sta	<R3+2
 28886 06:73D7: A7 0D        	lda	[<R3]
 28887 06:73D9: 85 19        	sta	<L1247+caption_1
 28888 06:73DB: A0 02 00     	ldy	#$2
 28889 06:73DE: B7 0D        	lda	[<R3],Y
 28890 06:73E0: 85 1B        	sta	<L1247+caption_1+2
 28891                        ;	}
 28892                        	.line	5203
 28893 06:73E2: 82 7D FF     	brl	L10534
 28894                        L10535:
 28895                        ;
 28896                        ;	return NULL;
  Mon Sep 27 2021  9:39                                                Page 531


 28897                        	.line	5205
 28898 06:73E5: A9 00 00     	lda	#$0
 28899 06:73E8: AA           	tax
 28900 06:73E9: A9 00 00     	lda	#$0
 28901                        L1254:
 28902 06:73EC: A8           	tay
 28903 06:73ED: A5 2E        	lda	<L1246+2
 28904 06:73EF: 85 42        	sta	<L1246+2+20
 28905 06:73F1: A5 2D        	lda	<L1246+1
 28906 06:73F3: 85 41        	sta	<L1246+1+20
 28907 06:73F5: 2B           	pld
 28908 06:73F6: 3B           	tsc
 28909 06:73F7: 18           	clc
 28910 06:73F8: 69 40 00     	adc	#L1246+20
 28911 06:73FB: 1B           	tcs
 28912 06:73FC: 98           	tya
 28913 06:73FD: 6B           	rtl
 28914                        ;}
 28915                        	.line	5206
 28916                        	.endblock	5206
 28917             0000002C   L1246	equ	44
 28918             00000011   L1247	equ	17
 28919 06:73FE:              	ends
 28920                        	efunc
 28921                        	.endfunc	5206,17,44
 28922                        	.line	5206
 28923                        	data
 28924                        L1240:
 28925 00:0B50: 6B 5F 63 72  	db	$6B,$5F,$63,$72,$65,$61,$74,$65,$5F,$63,
                    $6F,$6E,$74,$65,$78
       00:0B54: 65 61 74 65 
       00:0B58: 5F 63 6F 6E 
       00:0B5C: 74 65 78 
 28926 00:0B5F: 74 5F 6D 65  	db	$74,$5F,$6D,$65,$6E,$75,$3A,$66,$69,$6C,
                    $6C,$0D,$0A,$00,$6B
       00:0B63: 6E 75 3A 66 
       00:0B67: 69 6C 6C 0D 
       00:0B6B: 0A 00 6B 
 28927 00:0B6E: 5F 63 72 65  	db	$5F,$63,$72,$65,$61,$74,$65,$5F,$63,$6F,
                    $6E,$74,$65,$78,$74
       00:0B72: 61 74 65 5F 
       00:0B76: 63 6F 6E 74 
       00:0B7A: 65 78 74 
 28928 00:0B7D: 5F 6D 65 6E  	db	$5F,$6D,$65,$6E,$75,$3A,$63,$61,$70,$74,
                    $69,$6F,$6E,$3A,$00
       00:0B81: 75 3A 63 61 
       00:0B85: 70 74 69 6F 
       00:0B89: 6E 3A 00 
 28929 00:0B8C:              	ends
 28930                        ;
 28931                        ;PMENU k_create_context_menu(int cx,int cy,int wid
                    th,int height,char FAR **captions,int color, int bgcolor)
 28932                        ;{
 28933                        	.line	5208
 28934                        	.line	5209
 28935                        	GFX
 28936                        	xdef	~~k_create_context_menu
 28937                        	func
  Mon Sep 27 2021  9:39                                                Page 532


 28938                        	.function	5209
 28939                        ~~k_create_context_menu:
 28940                        	longa	on
 28941                        	longi	on
 28942 06:73FE: 3B           	tsc
 28943 06:73FF: 38           	sec
 28944 06:7400: E9 28 00     	sbc	#L1256
 28945 06:7403: 1B           	tcs
 28946 06:7404: 0B           	phd
 28947 06:7405: 5B           	tcd
 28948             00000004   cx_0	set	4
 28949             00000006   cy_0	set	6
 28950             00000008   width_0	set	8
 28951             0000000A   height_0	set	10
 28952             0000000C   captions_0	set	12
 28953             00000010   color_0	set	16
 28954             00000012   bgcolor_0	set	18
 28955                        	.block	5209
 28956                        ;	FONTMETRIC metric;
 28957                        ;
 28958                        ;	int i = 0;
 28959                        ;	int hy = 0;
 28960                        ;	char FAR *caption = NULL;
 28961                        ;
 28962                        ;	int borderTitle = 10;
 28963                        ;	int borderWidth = 3;
 28964                        ;
 28965                        ;	int titleOffsetX = cx+4;
 28966                        ;	int titleOffsetY = cy+2;
 28967                        ;	int titleScaler = 0;
 28968                        ;
 28969                        ;	int clientOffsetX = cx+borderWidth+2;
 28970                        ;	int clientOffsetY = cy+borderTitle+1;
 28971                        ;
 28972                        ;	int endX = width + cx - borderWidth;
 28973                        ;
 28974                        ;
 28975                        ;	k_debug_string("k_create_context_menu:fill\r\n")
                    ;
 28976             00000000   metric_1	set	0
 28977             00000004   i_1	set	4
 28978             00000006   hy_1	set	6
 28979             00000008   caption_1	set	8
 28980             0000000C   borderTitle_1	set	12
 28981             0000000E   borderWidth_1	set	14
 28982             00000010   titleOffsetX_1	set	16
 28983             00000012   titleOffsetY_1	set	18
 28984             00000014   titleScaler_1	set	20
 28985             00000016   clientOffsetX_1	set	22
 28986             00000018   clientOffsetY_1	set	24
 28987             0000001A   endX_1	set	26
 28988                        	.sym	metric,0,10,1,32,35
 28989                        	.sym	i,4,5,1,16
 28990                        	.sym	hy,6,5,1,16
 28991                        	.sym	caption,8,142,1,32
 28992                        	.sym	borderTitle,12,5,1,16
 28993                        	.sym	borderWidth,14,5,1,16
 28994                        	.sym	titleOffsetX,16,5,1,16
  Mon Sep 27 2021  9:39                                                Page 533


 28995                        	.sym	titleOffsetY,18,5,1,16
 28996                        	.sym	titleScaler,20,5,1,16
 28997                        	.sym	clientOffsetX,22,5,1,16
 28998                        	.sym	clientOffsetY,24,5,1,16
 28999                        	.sym	endX,26,5,1,16
 29000                        	.sym	cx,4,5,6,16
 29001                        	.sym	cy,6,5,6,16
 29002                        	.sym	width,8,5,6,16
 29003                        	.sym	height,10,5,6,16
 29004                        	.sym	captions,12,1166,6,32
 29005                        	.sym	color,16,5,6,16
 29006                        	.sym	bgcolor,18,5,6,16
 29007 06:7406: 64 11        	stz	<L1257+i_1
 29008 06:7408: 64 13        	stz	<L1257+hy_1
 29009 06:740A: 64 15        	stz	<L1257+caption_1
 29010 06:740C: 64 17        	stz	<L1257+caption_1+2
 29011 06:740E: A9 0A 00     	lda	#$a
 29012 06:7411: 85 19        	sta	<L1257+borderTitle_1
 29013 06:7413: A9 03 00     	lda	#$3
 29014 06:7416: 85 1B        	sta	<L1257+borderWidth_1
 29015 06:7418: 18           	clc
 29016 06:7419: A9 04 00     	lda	#$4
 29017 06:741C: 65 2C        	adc	<L1256+cx_0
 29018 06:741E: 85 1D        	sta	<L1257+titleOffsetX_1
 29019 06:7420: 18           	clc
 29020 06:7421: A9 02 00     	lda	#$2
 29021 06:7424: 65 2E        	adc	<L1256+cy_0
 29022 06:7426: 85 1F        	sta	<L1257+titleOffsetY_1
 29023 06:7428: 64 21        	stz	<L1257+titleScaler_1
 29024 06:742A: 18           	clc
 29025 06:742B: A5 2C        	lda	<L1256+cx_0
 29026 06:742D: 65 1B        	adc	<L1257+borderWidth_1
 29027 06:742F: 85 01        	sta	<R0
 29028 06:7431: 18           	clc
 29029 06:7432: A9 02 00     	lda	#$2
 29030 06:7435: 65 01        	adc	<R0
 29031 06:7437: 85 23        	sta	<L1257+clientOffsetX_1
 29032 06:7439: 18           	clc
 29033 06:743A: A5 2E        	lda	<L1256+cy_0
 29034 06:743C: 65 19        	adc	<L1257+borderTitle_1
 29035 06:743E: 85 01        	sta	<R0
 29036 06:7440: A5 01        	lda	<R0
 29037 06:7442: 1A           	ina
 29038 06:7443: 85 25        	sta	<L1257+clientOffsetY_1
 29039 06:7445: 18           	clc
 29040 06:7446: A5 30        	lda	<L1256+width_0
 29041 06:7448: 65 2C        	adc	<L1256+cx_0
 29042 06:744A: 85 01        	sta	<R0
 29043 06:744C: 38           	sec
 29044 06:744D: A5 01        	lda	<R0
 29045 06:744F: E5 1B        	sbc	<L1257+borderWidth_1
 29046 06:7451: 85 27        	sta	<L1257+endX_1
 29047                        	.line	5229
 29048 06:7453: F4 xx xx     	pea	#^L1255
 29049 06:7456: F4 xx xx     	pea	#<L1255
 29050 06:7459: 22 xx xx xx  	jsl	~~k_debug_string
 29051                        ;
 29052                        ;	k_scratch_save_bitblt(cx,cy, width, height, 0, 0
  Mon Sep 27 2021  9:39                                                Page 534


                    );
 29053                        	.line	5231
 29054 06:745D: F4 00 00     	pea	#<$0
 29055 06:7460: F4 00 00     	pea	#<$0
 29056 06:7463: D4 32        	pei	<L1256+height_0
 29057 06:7465: D4 30        	pei	<L1256+width_0
 29058 06:7467: D4 2E        	pei	<L1256+cy_0
 29059 06:7469: D4 2C        	pei	<L1256+cx_0
 29060 06:746B: 22 7E 84 06  	jsl	~~k_scratch_save_bitblt
 29061                        ;
 29062                        ;	//k_vdma_fill_rect(cx,cy,width,height,0);
 29063                        ;	//k_vdma_fill_rect(cx+2,cy,width-2,height-2,bgco
                    lor);
 29064                        ;	//k_vdma_fill_rect(cx+1,cy+1,width -1 ,height - 
                    1,bgcolor);
 29065                        ;	k_vdma_fill_rect(cx,cy,width,height,bgcolor);
 29066                        	.line	5236
 29067 06:746F: D4 3A        	pei	<L1256+bgcolor_0
 29068 06:7471: D4 32        	pei	<L1256+height_0
 29069 06:7473: D4 30        	pei	<L1256+width_0
 29070 06:7475: A0 00 00     	ldy	#$0
 29071 06:7478: A5 2E        	lda	<L1256+cy_0
 29072 06:747A: 10 01        	bpl	L1259
 29073 06:747C: 88           	dey
 29074                        L1259:
 29075 06:747D: 85 01        	sta	<R0
 29076 06:747F: 84 03        	sty	<R0+2
 29077 06:7481: D4 03        	pei	<R0+2
 29078 06:7483: D4 01        	pei	<R0
 29079 06:7485: A0 00 00     	ldy	#$0
 29080 06:7488: A5 2C        	lda	<L1256+cx_0
 29081 06:748A: 10 01        	bpl	L1260
 29082 06:748C: 88           	dey
 29083                        L1260:
 29084 06:748D: 85 05        	sta	<R1
 29085 06:748F: 84 07        	sty	<R1+2
 29086 06:7491: D4 07        	pei	<R1+2
 29087 06:7493: D4 05        	pei	<R1
 29088 06:7495: 22 D6 62 06  	jsl	~~k_vdma_fill_rect
 29089                        ;
 29090                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 29091                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 29092                        ;	i = 0;
 29093                        	.line	5240
 29094 06:7499: 64 11        	stz	<L1257+i_1
 29095                        ;	caption = captions[i];
 29096                        	.line	5241
 29097 06:749B: A0 00 00     	ldy	#$0
 29098 06:749E: A5 11        	lda	<L1257+i_1
 29099 06:74A0: 10 01        	bpl	L1261
 29100 06:74A2: 88           	dey
 29101                        L1261:
 29102 06:74A3: 85 05        	sta	<R1
 29103 06:74A5: 84 07        	sty	<R1+2
 29104 06:74A7: D4 07        	pei	<R1+2
 29105 06:74A9: D4 05        	pei	<R1
  Mon Sep 27 2021  9:39                                                Page 535


 29106 06:74AB: A9 02 00     	lda	#$2
 29107                        	xref	~~~lasl
 29108 06:74AE: 22 xx xx xx  	jsl	~~~lasl
 29109 06:74B2: 85 01        	sta	<R0
 29110 06:74B4: 86 03        	stx	<R0+2
 29111 06:74B6: 18           	clc
 29112 06:74B7: A5 34        	lda	<L1256+captions_0
 29113 06:74B9: 65 01        	adc	<R0
 29114 06:74BB: 85 09        	sta	<R2
 29115 06:74BD: A5 36        	lda	<L1256+captions_0+2
 29116 06:74BF: 65 03        	adc	<R0+2
 29117 06:74C1: 85 0B        	sta	<R2+2
 29118 06:74C3: A7 09        	lda	[<R2]
 29119 06:74C5: 85 15        	sta	<L1257+caption_1
 29120 06:74C7: A0 02 00     	ldy	#$2
 29121 06:74CA: B7 09        	lda	[<R2],Y
 29122 06:74CC: 85 17        	sta	<L1257+caption_1+2
 29123                        ;	while(caption!=NULL)
 29124                        	.line	5242
 29125                        L10536:
 29126 06:74CE: A5 15        	lda	<L1257+caption_1
 29127 06:74D0: 05 17        	ora	<L1257+caption_1+2
 29128 06:74D2: D0 03        	bne	L1262
 29129 06:74D4: 82 6B 00     	brl	L10537
 29130                        L1262:
 29131                        ;	{
 29132                        	.line	5243
 29133                        ;		k_debug_strings("k_create_context_menu:c
                    aption:",caption);
 29134                        	.line	5244
 29135 06:74D7: D4 17        	pei	<L1257+caption_1+2
 29136 06:74D9: D4 15        	pei	<L1257+caption_1
 29137 06:74DB: F4 xx xx     	pea	#^L1255+29
 29138 06:74DE: F4 xx xx     	pea	#<L1255+29
 29139 06:74E1: 22 xx xx xx  	jsl	~~k_debug_strings
 29140                        ;
 29141                        ;		//caption = strupr(caption);
 29142                        ;		hy = k_draw_text_point(caption,titleOffs
                    etX,titleOffsetY,color);
 29143                        	.line	5247
 29144 06:74E5: D4 38        	pei	<L1256+color_0
 29145 06:74E7: D4 1F        	pei	<L1257+titleOffsetY_1
 29146 06:74E9: D4 1D        	pei	<L1257+titleOffsetX_1
 29147 06:74EB: D4 17        	pei	<L1257+caption_1+2
 29148 06:74ED: D4 15        	pei	<L1257+caption_1
 29149 06:74EF: 22 7F 22 06  	jsl	~~k_draw_text_point
 29150 06:74F3: 85 13        	sta	<L1257+hy_1
 29151                        ;
 29152                        ;		titleOffsetY+=(FONTH + 2);
 29153                        	.line	5249
 29154 06:74F5: 22 21 86 06  	jsl	~~k_font_getFontHeight
 29155 06:74F9: 85 01        	sta	<R0
 29156 06:74FB: 18           	clc
 29157 06:74FC: A5 01        	lda	<R0
 29158 06:74FE: 65 1F        	adc	<L1257+titleOffsetY_1
 29159 06:7500: 85 05        	sta	<R1
 29160 06:7502: 18           	clc
 29161 06:7503: A9 02 00     	lda	#$2
  Mon Sep 27 2021  9:39                                                Page 536


 29162 06:7506: 65 05        	adc	<R1
 29163 06:7508: 85 1F        	sta	<L1257+titleOffsetY_1
 29164                        ;		i++;
 29165                        	.line	5250
 29166 06:750A: E6 11        	inc	<L1257+i_1
 29167                        ;		caption = captions[i];
 29168                        	.line	5251
 29169 06:750C: A0 00 00     	ldy	#$0
 29170 06:750F: A5 11        	lda	<L1257+i_1
 29171 06:7511: 10 01        	bpl	L1263
 29172 06:7513: 88           	dey
 29173                        L1263:
 29174 06:7514: 85 05        	sta	<R1
 29175 06:7516: 84 07        	sty	<R1+2
 29176 06:7518: D4 07        	pei	<R1+2
 29177 06:751A: D4 05        	pei	<R1
 29178 06:751C: A9 02 00     	lda	#$2
 29179                        	xref	~~~lasl
 29180 06:751F: 22 xx xx xx  	jsl	~~~lasl
 29181 06:7523: 85 01        	sta	<R0
 29182 06:7525: 86 03        	stx	<R0+2
 29183 06:7527: 18           	clc
 29184 06:7528: A5 34        	lda	<L1256+captions_0
 29185 06:752A: 65 01        	adc	<R0
 29186 06:752C: 85 09        	sta	<R2
 29187 06:752E: A5 36        	lda	<L1256+captions_0+2
 29188 06:7530: 65 03        	adc	<R0+2
 29189 06:7532: 85 0B        	sta	<R2+2
 29190 06:7534: A7 09        	lda	[<R2]
 29191 06:7536: 85 15        	sta	<L1257+caption_1
 29192 06:7538: A0 02 00     	ldy	#$2
 29193 06:753B: B7 09        	lda	[<R2],Y
 29194 06:753D: 85 17        	sta	<L1257+caption_1+2
 29195                        ;	}
 29196                        	.line	5252
 29197 06:753F: 82 8C FF     	brl	L10536
 29198                        L10537:
 29199                        ;
 29200                        ;	return NULL;
 29201                        	.line	5254
 29202 06:7542: A9 00 00     	lda	#$0
 29203 06:7545: AA           	tax
 29204 06:7546: A9 00 00     	lda	#$0
 29205                        L1264:
 29206 06:7549: A8           	tay
 29207 06:754A: A5 2A        	lda	<L1256+2
 29208 06:754C: 85 3A        	sta	<L1256+2+16
 29209 06:754E: A5 29        	lda	<L1256+1
 29210 06:7550: 85 39        	sta	<L1256+1+16
 29211 06:7552: 2B           	pld
 29212 06:7553: 3B           	tsc
 29213 06:7554: 18           	clc
 29214 06:7555: 69 38 00     	adc	#L1256+16
 29215 06:7558: 1B           	tcs
 29216 06:7559: 98           	tya
 29217 06:755A: 6B           	rtl
 29218                        ;
 29219                        ;}
  Mon Sep 27 2021  9:39                                                Page 537


 29220                        	.line	5256
 29221                        	.endblock	5256
 29222             00000028   L1256	equ	40
 29223             0000000D   L1257	equ	13
 29224 06:755B:              	ends
 29225                        	efunc
 29226                        	.endfunc	5256,13,40
 29227                        	.line	5256
 29228                        	data
 29229                        L1255:
 29230 00:0B8C: 6B 5F 63 72  	db	$6B,$5F,$63,$72,$65,$61,$74,$65,$5F,$63,
                    $6F,$6E,$74,$65,$78
       00:0B90: 65 61 74 65 
       00:0B94: 5F 63 6F 6E 
       00:0B98: 74 65 78 
 29231 00:0B9B: 74 5F 6D 65  	db	$74,$5F,$6D,$65,$6E,$75,$3A,$66,$69,$6C,
                    $6C,$0D,$0A,$00,$6B
       00:0B9F: 6E 75 3A 66 
       00:0BA3: 69 6C 6C 0D 
       00:0BA7: 0A 00 6B 
 29232 00:0BAA: 5F 63 72 65  	db	$5F,$63,$72,$65,$61,$74,$65,$5F,$63,$6F,
                    $6E,$74,$65,$78,$74
       00:0BAE: 61 74 65 5F 
       00:0BB2: 63 6F 6E 74 
       00:0BB6: 65 78 74 
 29233 00:0BB9: 5F 6D 65 6E  	db	$5F,$6D,$65,$6E,$75,$3A,$63,$61,$70,$74,
                    $69,$6F,$6E,$3A,$00
       00:0BBD: 75 3A 63 61 
       00:0BC1: 70 74 69 6F 
       00:0BC5: 6E 3A 00 
 29234 00:0BC8:              	ends
 29235                        ;
 29236                        ;PMENU k_create_context_menu_in_window_ex(PWINDOW 
                    pWin,UINT selected,UINT unselected,int cx,int cy,int width,i
                    nt height,char FAR **captions,char FAR *chrome,int color, in
                    t bgcolor)
 29237                        ;{
 29238                        	.line	5258
 29239                        	.line	5259
 29240                        	GFX
 29241                        	xdef	~~k_create_context_menu_in_window_ex
 29242                        	func
 29243                        	.function	5259
 29244                        ~~k_create_context_menu_in_window_ex:
 29245                        	longa	on
 29246                        	longi	on
 29247 06:755B: 3B           	tsc
 29248 06:755C: 38           	sec
 29249 06:755D: E9 29 00     	sbc	#L1266
 29250 06:7560: 1B           	tcs
 29251 06:7561: 0B           	phd
 29252 06:7562: 5B           	tcd
 29253             00000004   pWin_0	set	4
 29254             00000008   selected_0	set	8
 29255             0000000A   unselected_0	set	10
 29256             0000000C   cx_0	set	12
 29257             0000000E   cy_0	set	14
 29258             00000010   width_0	set	16
  Mon Sep 27 2021  9:39                                                Page 538


 29259             00000012   height_0	set	18
 29260             00000014   captions_0	set	20
 29261             00000018   chrome_0	set	24
 29262             0000001C   color_0	set	28
 29263             0000001E   bgcolor_0	set	30
 29264                        	.block	5259
 29265                        ;	FONTMETRIC metric;
 29266                        ;
 29267                        ;	int i = 0;
 29268                        ;	int dx = 0;
 29269                        ;	char FAR *caption = NULL;
 29270                        ;
 29271                        ;	int borderTitle = 10;
 29272                        ;	int borderWidth = 3;
 29273                        ;
 29274                        ;	int titleOffsetX = cx+4;
 29275                        ;	int titleOffsetY = cy+2;
 29276                        ;	int titleScaler = 0;
 29277                        ;
 29278                        ;	int clientOffsetX = cx+borderWidth+2;
 29279                        ;	int clientOffsetY = cy+borderTitle+1;
 29280                        ;
 29281                        ;	int endX = width + cx - borderWidth;
 29282                        ;
 29283                        ;
 29284                        ;	if(selected == -1 && unselected == -1)
 29285             00000000   metric_1	set	0
 29286             00000004   i_1	set	4
 29287             00000006   dx_1	set	6
 29288             00000008   caption_1	set	8
 29289             0000000C   borderTitle_1	set	12
 29290             0000000E   borderWidth_1	set	14
 29291             00000010   titleOffsetX_1	set	16
 29292             00000012   titleOffsetY_1	set	18
 29293             00000014   titleScaler_1	set	20
 29294             00000016   clientOffsetX_1	set	22
 29295             00000018   clientOffsetY_1	set	24
 29296             0000001A   endX_1	set	26
 29297                        	.sym	metric,0,10,1,32,35
 29298                        	.sym	i,4,5,1,16
 29299                        	.sym	dx,6,5,1,16
 29300                        	.sym	caption,8,142,1,32
 29301                        	.sym	borderTitle,12,5,1,16
 29302                        	.sym	borderWidth,14,5,1,16
 29303                        	.sym	titleOffsetX,16,5,1,16
 29304                        	.sym	titleOffsetY,18,5,1,16
 29305                        	.sym	titleScaler,20,5,1,16
 29306                        	.sym	clientOffsetX,22,5,1,16
 29307                        	.sym	clientOffsetY,24,5,1,16
 29308                        	.sym	endX,26,5,1,16
 29309                        	.sym	pWin,4,138,6,32,33
 29310                        	.sym	selected,8,16,6,16
 29311                        	.sym	unselected,10,16,6,16
 29312                        	.sym	cx,12,5,6,16
 29313                        	.sym	cy,14,5,6,16
 29314                        	.sym	width,16,5,6,16
 29315                        	.sym	height,18,5,6,16
 29316                        	.sym	captions,20,1166,6,32
  Mon Sep 27 2021  9:39                                                Page 539


 29317                        	.sym	chrome,24,142,6,32
 29318                        	.sym	color,28,5,6,16
 29319                        	.sym	bgcolor,30,5,6,16
 29320 06:7563: 64 11        	stz	<L1267+i_1
 29321 06:7565: 64 13        	stz	<L1267+dx_1
 29322 06:7567: 64 15        	stz	<L1267+caption_1
 29323 06:7569: 64 17        	stz	<L1267+caption_1+2
 29324 06:756B: A9 0A 00     	lda	#$a
 29325 06:756E: 85 19        	sta	<L1267+borderTitle_1
 29326 06:7570: A9 03 00     	lda	#$3
 29327 06:7573: 85 1B        	sta	<L1267+borderWidth_1
 29328 06:7575: 18           	clc
 29329 06:7576: A9 04 00     	lda	#$4
 29330 06:7579: 65 35        	adc	<L1266+cx_0
 29331 06:757B: 85 1D        	sta	<L1267+titleOffsetX_1
 29332 06:757D: 18           	clc
 29333 06:757E: A9 02 00     	lda	#$2
 29334 06:7581: 65 37        	adc	<L1266+cy_0
 29335 06:7583: 85 1F        	sta	<L1267+titleOffsetY_1
 29336 06:7585: 64 21        	stz	<L1267+titleScaler_1
 29337 06:7587: 18           	clc
 29338 06:7588: A5 35        	lda	<L1266+cx_0
 29339 06:758A: 65 1B        	adc	<L1267+borderWidth_1
 29340 06:758C: 85 01        	sta	<R0
 29341 06:758E: 18           	clc
 29342 06:758F: A9 02 00     	lda	#$2
 29343 06:7592: 65 01        	adc	<R0
 29344 06:7594: 85 23        	sta	<L1267+clientOffsetX_1
 29345 06:7596: 18           	clc
 29346 06:7597: A5 37        	lda	<L1266+cy_0
 29347 06:7599: 65 19        	adc	<L1267+borderTitle_1
 29348 06:759B: 85 01        	sta	<R0
 29349 06:759D: A5 01        	lda	<R0
 29350 06:759F: 1A           	ina
 29351 06:75A0: 85 25        	sta	<L1267+clientOffsetY_1
 29352 06:75A2: 18           	clc
 29353 06:75A3: A5 39        	lda	<L1266+width_0
 29354 06:75A5: 65 35        	adc	<L1266+cx_0
 29355 06:75A7: 85 01        	sta	<R0
 29356 06:75A9: 38           	sec
 29357 06:75AA: A5 01        	lda	<R0
 29358 06:75AC: E5 1B        	sbc	<L1267+borderWidth_1
 29359 06:75AE: 85 27        	sta	<L1267+endX_1
 29360                        	.line	5279
 29361                        ;		k_vdma_fill_rect_ex(cx,cy,width,height,b
                    gcolor,BITMAP_FRONT);
 29362 06:75B0: A5 31        	lda	<L1266+selected_0
 29363 06:75B2: C9 FF FF     	cmp	#<$ffffffff
 29364 06:75B5: F0 03        	beq	L1269
 29365 06:75B7: 82 37 00     	brl	L10538
 29366                        L1269:
 29367 06:75BA: A5 33        	lda	<L1266+unselected_0
 29368 06:75BC: C9 FF FF     	cmp	#<$ffffffff
 29369 06:75BF: F0 03        	beq	L1270
 29370 06:75C1: 82 2D 00     	brl	L10538
 29371                        L1270:
 29372                        	.line	5280
 29373 06:75C4: F4 00 00     	pea	#<$0
  Mon Sep 27 2021  9:39                                                Page 540


 29374 06:75C7: D4 47        	pei	<L1266+bgcolor_0
 29375 06:75C9: D4 3B        	pei	<L1266+height_0
 29376 06:75CB: D4 39        	pei	<L1266+width_0
 29377 06:75CD: A0 00 00     	ldy	#$0
 29378 06:75D0: A5 37        	lda	<L1266+cy_0
 29379 06:75D2: 10 01        	bpl	L1271
 29380 06:75D4: 88           	dey
 29381                        L1271:
 29382 06:75D5: 85 01        	sta	<R0
 29383 06:75D7: 84 03        	sty	<R0+2
 29384 06:75D9: D4 03        	pei	<R0+2
 29385 06:75DB: D4 01        	pei	<R0
 29386 06:75DD: A0 00 00     	ldy	#$0
 29387 06:75E0: A5 35        	lda	<L1266+cx_0
 29388 06:75E2: 10 01        	bpl	L1272
 29389 06:75E4: 88           	dey
 29390                        L1272:
 29391 06:75E5: 85 05        	sta	<R1
 29392 06:75E7: 84 07        	sty	<R1+2
 29393 06:75E9: D4 07        	pei	<R1+2
 29394 06:75EB: D4 05        	pei	<R1
 29395 06:75ED: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 29396                        ;
 29397                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 29398                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 29399                        ;	i = 0;
 29400                        L10538:
 29401                        	.line	5284
 29402 06:75F1: 64 11        	stz	<L1267+i_1
 29403                        ;	caption = captions[i];
 29404                        	.line	5285
 29405 06:75F3: A0 00 00     	ldy	#$0
 29406 06:75F6: A5 11        	lda	<L1267+i_1
 29407 06:75F8: 10 01        	bpl	L1273
 29408 06:75FA: 88           	dey
 29409                        L1273:
 29410 06:75FB: 85 05        	sta	<R1
 29411 06:75FD: 84 07        	sty	<R1+2
 29412 06:75FF: D4 07        	pei	<R1+2
 29413 06:7601: D4 05        	pei	<R1
 29414 06:7603: A9 02 00     	lda	#$2
 29415                        	xref	~~~lasl
 29416 06:7606: 22 xx xx xx  	jsl	~~~lasl
 29417 06:760A: 85 01        	sta	<R0
 29418 06:760C: 86 03        	stx	<R0+2
 29419 06:760E: 18           	clc
 29420 06:760F: A5 3D        	lda	<L1266+captions_0
 29421 06:7611: 65 01        	adc	<R0
 29422 06:7613: 85 09        	sta	<R2
 29423 06:7615: A5 3F        	lda	<L1266+captions_0+2
 29424 06:7617: 65 03        	adc	<R0+2
 29425 06:7619: 85 0B        	sta	<R2+2
 29426 06:761B: A7 09        	lda	[<R2]
 29427 06:761D: 85 15        	sta	<L1267+caption_1
 29428 06:761F: A0 02 00     	ldy	#$2
 29429 06:7622: B7 09        	lda	[<R2],Y
  Mon Sep 27 2021  9:39                                                Page 541


 29430 06:7624: 85 17        	sta	<L1267+caption_1+2
 29431                        ;	while(caption!=NULL)
 29432                        	.line	5286
 29433                        L10539:
 29434 06:7626: A5 15        	lda	<L1267+caption_1
 29435 06:7628: 05 17        	ora	<L1267+caption_1+2
 29436 06:762A: D0 03        	bne	L1274
 29437 06:762C: 82 66 02     	brl	L10540
 29438                        L1274:
 29439                        ;	{
 29440                        	.line	5287
 29441                        ;		char chromeByte = chrome[i];
 29442                        ;		//if(chromeByte)
 29443                        ;		//	k_debug_strings("#### k_create_c
                    ontext_menu_in_window_ex:chrome:CHECKED:",caption);
 29444                        ;		//k_debug_strings("k_create_context_menu
                    :caption:",caption);
 29445                        ;
 29446                        ;		//caption = strupr(caption);
 29447                        ;
 29448                        ;		if(selected!=-1 && unselected!=-1)
 29449                        	.block	5295
 29450             0000001C   chromeByte_2	set	28
 29451                        	.sym	chromeByte,28,14,1,8
 29452 06:762F: E2 20        	sep	#$20
 29453                        	longa	off
 29454 06:7631: A4 11        	ldy	<L1267+i_1
 29455 06:7633: B7 41        	lda	[<L1266+chrome_0],Y
 29456 06:7635: 85 29        	sta	<L1267+chromeByte_2
 29457 06:7637: C2 20        	rep	#$20
 29458                        	longa	on
 29459                        	.line	5295
 29460                        ;		{
 29461 06:7639: A5 31        	lda	<L1266+selected_0
 29462 06:763B: C9 FF FF     	cmp	#<$ffffffff
 29463 06:763E: D0 03        	bne	L1276
 29464 06:7640: 82 38 01     	brl	L10541
 29465                        L1276:
 29466 06:7643: A5 33        	lda	<L1266+unselected_0
 29467 06:7645: C9 FF FF     	cmp	#<$ffffffff
 29468 06:7648: D0 03        	bne	L1277
 29469 06:764A: 82 2E 01     	brl	L10541
 29470                        L1277:
 29471                        	.line	5296
 29472                        ;			if( i == selected && caption[0] 
                    != '_' && caption[0] != ' ')
 29473                        	.line	5297
 29474                        ;			{
 29475 06:764D: A5 11        	lda	<L1267+i_1
 29476 06:764F: C5 31        	cmp	<L1266+selected_0
 29477 06:7651: F0 03        	beq	L1278
 29478 06:7653: 82 8E 00     	brl	L10542
 29479                        L1278:
 29480 06:7656: E2 20        	sep	#$20
 29481                        	longa	off
 29482 06:7658: A7 15        	lda	[<L1267+caption_1]
 29483 06:765A: C9 5F        	cmp	#<$5f
 29484 06:765C: C2 20        	rep	#$20
  Mon Sep 27 2021  9:39                                                Page 542


 29485                        	longa	on
 29486 06:765E: D0 03        	bne	L1279
 29487 06:7660: 82 81 00     	brl	L10542
 29488                        L1279:
 29489 06:7663: E2 20        	sep	#$20
 29490                        	longa	off
 29491 06:7665: A7 15        	lda	[<L1267+caption_1]
 29492 06:7667: C9 20        	cmp	#<$20
 29493 06:7669: C2 20        	rep	#$20
 29494                        	longa	on
 29495 06:766B: D0 03        	bne	L1280
 29496 06:766D: 82 74 00     	brl	L10542
 29497                        L1280:
 29498                        	.line	5298
 29499                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,color,BITMAP_FRON
                    T);
 29500                        	.line	5299
 29501 06:7670: F4 00 00     	pea	#<$0
 29502 06:7673: D4 45        	pei	<L1266+color_0
 29503 06:7675: 22 21 86 06  	jsl	~~k_font_getFontHeight
 29504 06:7679: 48           	pha
 29505 06:767A: A0 10 00     	ldy	#$10
 29506 06:767D: B7 2D        	lda	[<L1266+pWin_0],Y
 29507 06:767F: 48           	pha
 29508 06:7680: A0 00 00     	ldy	#$0
 29509 06:7683: A5 1F        	lda	<L1267+titleOffsetY_1
 29510 06:7685: 10 01        	bpl	L1281
 29511 06:7687: 88           	dey
 29512                        L1281:
 29513 06:7688: 85 01        	sta	<R0
 29514 06:768A: 84 03        	sty	<R0+2
 29515 06:768C: D4 03        	pei	<R0+2
 29516 06:768E: D4 01        	pei	<R0
 29517 06:7690: A0 00 00     	ldy	#$0
 29518 06:7693: 5A           	phy
 29519 06:7694: A0 0C 00     	ldy	#$c
 29520 06:7697: B7 2D        	lda	[<L1266+pWin_0],Y
 29521 06:7699: 7A           	ply
 29522 06:769A: 2A           	rol	A
 29523 06:769B: 6A           	ror	A
 29524 06:769C: 10 01        	bpl	L1282
 29525 06:769E: 88           	dey
 29526                        L1282:
 29527 06:769F: 85 05        	sta	<R1
 29528 06:76A1: 84 07        	sty	<R1+2
 29529 06:76A3: D4 07        	pei	<R1+2
 29530 06:76A5: D4 05        	pei	<R1
 29531 06:76A7: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 29532                        ;				dx = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,bgcolor,BITMAP_FRONT);
 29533                        	.line	5300
 29534 06:76AB: F4 00 00     	pea	#<$0
 29535 06:76AE: D4 47        	pei	<L1266+bgcolor_0
 29536 06:76B0: D4 1F        	pei	<L1267+titleOffsetY_1
 29537 06:76B2: D4 1D        	pei	<L1267+titleOffsetX_1
 29538 06:76B4: D4 17        	pei	<L1267+caption_1+2
 29539 06:76B6: D4 15        	pei	<L1267+caption_1
  Mon Sep 27 2021  9:39                                                Page 543


 29540 06:76B8: 22 C0 21 06  	jsl	~~k_draw_text_point_ex
 29541 06:76BC: 85 13        	sta	<L1267+dx_1
 29542                        ;				if(chromeByte)
 29543                        	.line	5301
 29544                        ;				{
 29545 06:76BE: A5 29        	lda	<L1267+chromeByte_2
 29546 06:76C0: 29 FF 00     	and	#$ff
 29547 06:76C3: D0 03        	bne	L1283
 29548 06:76C5: 82 19 00     	brl	L10543
 29549                        L1283:
 29550                        	.line	5302
 29551                        ;					dx = k_draw_text
                    _point_ex("*",titleOffsetX + dx,titleOffsetY,bgcolor,BITMAP_
                    FRONT);
 29552                        	.line	5303
 29553 06:76C8: F4 00 00     	pea	#<$0
 29554 06:76CB: D4 47        	pei	<L1266+bgcolor_0
 29555 06:76CD: D4 1F        	pei	<L1267+titleOffsetY_1
 29556 06:76CF: 18           	clc
 29557 06:76D0: A5 1D        	lda	<L1267+titleOffsetX_1
 29558 06:76D2: 65 13        	adc	<L1267+dx_1
 29559 06:76D4: 48           	pha
 29560 06:76D5: F4 xx xx     	pea	#^L1265
 29561 06:76D8: F4 xx xx     	pea	#<L1265
 29562 06:76DB: 22 C0 21 06  	jsl	~~k_draw_text_point_ex
 29563 06:76DF: 85 13        	sta	<L1267+dx_1
 29564                        ;				}
 29565                        	.line	5304
 29566                        ;			}
 29567                        L10543:
 29568                        	.line	5305
 29569                        ;			else if( i == unselected && capt
                    ion[0] != '_' && caption[0] != ' ' )
 29570 06:76E1: 82 94 00     	brl	L10544
 29571                        L10542:
 29572                        	.line	5306
 29573                        ;			{
 29574 06:76E4: A5 11        	lda	<L1267+i_1
 29575 06:76E6: C5 33        	cmp	<L1266+unselected_0
 29576 06:76E8: F0 03        	beq	L1284
 29577 06:76EA: 82 8B 00     	brl	L10545
 29578                        L1284:
 29579 06:76ED: E2 20        	sep	#$20
 29580                        	longa	off
 29581 06:76EF: A7 15        	lda	[<L1267+caption_1]
 29582 06:76F1: C9 5F        	cmp	#<$5f
 29583 06:76F3: C2 20        	rep	#$20
 29584                        	longa	on
 29585 06:76F5: D0 03        	bne	L1285
 29586 06:76F7: 82 7E 00     	brl	L10545
 29587                        L1285:
 29588 06:76FA: E2 20        	sep	#$20
 29589                        	longa	off
 29590 06:76FC: A7 15        	lda	[<L1267+caption_1]
 29591 06:76FE: C9 20        	cmp	#<$20
 29592 06:7700: C2 20        	rep	#$20
 29593                        	longa	on
 29594 06:7702: D0 03        	bne	L1286
  Mon Sep 27 2021  9:39                                                Page 544


 29595 06:7704: 82 71 00     	brl	L10545
 29596                        L1286:
 29597                        	.line	5307
 29598                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,bgcolor,BITMAP_FR
                    ONT);
 29599                        	.line	5308
 29600 06:7707: F4 00 00     	pea	#<$0
 29601 06:770A: D4 47        	pei	<L1266+bgcolor_0
 29602 06:770C: 22 21 86 06  	jsl	~~k_font_getFontHeight
 29603 06:7710: 48           	pha
 29604 06:7711: A0 10 00     	ldy	#$10
 29605 06:7714: B7 2D        	lda	[<L1266+pWin_0],Y
 29606 06:7716: 48           	pha
 29607 06:7717: A0 00 00     	ldy	#$0
 29608 06:771A: A5 1F        	lda	<L1267+titleOffsetY_1
 29609 06:771C: 10 01        	bpl	L1287
 29610 06:771E: 88           	dey
 29611                        L1287:
 29612 06:771F: 85 01        	sta	<R0
 29613 06:7721: 84 03        	sty	<R0+2
 29614 06:7723: D4 03        	pei	<R0+2
 29615 06:7725: D4 01        	pei	<R0
 29616 06:7727: A0 00 00     	ldy	#$0
 29617 06:772A: 5A           	phy
 29618 06:772B: A0 0C 00     	ldy	#$c
 29619 06:772E: B7 2D        	lda	[<L1266+pWin_0],Y
 29620 06:7730: 7A           	ply
 29621 06:7731: 2A           	rol	A
 29622 06:7732: 6A           	ror	A
 29623 06:7733: 10 01        	bpl	L1288
 29624 06:7735: 88           	dey
 29625                        L1288:
 29626 06:7736: 85 05        	sta	<R1
 29627 06:7738: 84 07        	sty	<R1+2
 29628 06:773A: D4 07        	pei	<R1+2
 29629 06:773C: D4 05        	pei	<R1
 29630 06:773E: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 29631                        ;				dx = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,color,BITMAP_FRONT);
 29632                        	.line	5309
 29633 06:7742: F4 00 00     	pea	#<$0
 29634 06:7745: D4 45        	pei	<L1266+color_0
 29635 06:7747: D4 1F        	pei	<L1267+titleOffsetY_1
 29636 06:7749: D4 1D        	pei	<L1267+titleOffsetX_1
 29637 06:774B: D4 17        	pei	<L1267+caption_1+2
 29638 06:774D: D4 15        	pei	<L1267+caption_1
 29639 06:774F: 22 C0 21 06  	jsl	~~k_draw_text_point_ex
 29640 06:7753: 85 13        	sta	<L1267+dx_1
 29641                        ;				if(chromeByte)
 29642                        	.line	5310
 29643                        ;				{
 29644 06:7755: A5 29        	lda	<L1267+chromeByte_2
 29645 06:7757: 29 FF 00     	and	#$ff
 29646 06:775A: D0 03        	bne	L1289
 29647 06:775C: 82 19 00     	brl	L10546
 29648                        L1289:
 29649                        	.line	5311
  Mon Sep 27 2021  9:39                                                Page 545


 29650                        ;					dx = k_draw_text
                    _point_ex("*",titleOffsetX + dx,titleOffsetY,color,BITMAP_FR
                    ONT);
 29651                        	.line	5312
 29652 06:775F: F4 00 00     	pea	#<$0
 29653 06:7762: D4 45        	pei	<L1266+color_0
 29654 06:7764: D4 1F        	pei	<L1267+titleOffsetY_1
 29655 06:7766: 18           	clc
 29656 06:7767: A5 1D        	lda	<L1267+titleOffsetX_1
 29657 06:7769: 65 13        	adc	<L1267+dx_1
 29658 06:776B: 48           	pha
 29659 06:776C: F4 xx xx     	pea	#^L1265+2
 29660 06:776F: F4 xx xx     	pea	#<L1265+2
 29661 06:7772: 22 C0 21 06  	jsl	~~k_draw_text_point_ex
 29662 06:7776: 85 13        	sta	<L1267+dx_1
 29663                        ;				}
 29664                        	.line	5313
 29665                        ;			}
 29666                        L10546:
 29667                        	.line	5314
 29668                        ;
 29669                        ;		}
 29670                        L10545:
 29671                        L10544:
 29672                        	.line	5316
 29673                        ;		else
 29674 06:7778: 82 CD 00     	brl	L10547
 29675                        L10541:
 29676                        ;		{
 29677                        	.line	5318
 29678                        ;			if( i == selected && caption[0] 
                    != '_' && caption[0] != ' ')
 29679                        	.line	5319
 29680                        ;			{
 29681 06:777B: A5 11        	lda	<L1267+i_1
 29682 06:777D: C5 31        	cmp	<L1266+selected_0
 29683 06:777F: F0 03        	beq	L1290
 29684 06:7781: 82 8E 00     	brl	L10548
 29685                        L1290:
 29686 06:7784: E2 20        	sep	#$20
 29687                        	longa	off
 29688 06:7786: A7 15        	lda	[<L1267+caption_1]
 29689 06:7788: C9 5F        	cmp	#<$5f
 29690 06:778A: C2 20        	rep	#$20
 29691                        	longa	on
 29692 06:778C: D0 03        	bne	L1291
 29693 06:778E: 82 81 00     	brl	L10548
 29694                        L1291:
 29695 06:7791: E2 20        	sep	#$20
 29696                        	longa	off
 29697 06:7793: A7 15        	lda	[<L1267+caption_1]
 29698 06:7795: C9 20        	cmp	#<$20
 29699 06:7797: C2 20        	rep	#$20
 29700                        	longa	on
 29701 06:7799: D0 03        	bne	L1292
 29702 06:779B: 82 74 00     	brl	L10548
 29703                        L1292:
 29704                        	.line	5320
  Mon Sep 27 2021  9:39                                                Page 546


 29705                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,color,BITMAP_FRON
                    T);
 29706                        	.line	5321
 29707 06:779E: F4 00 00     	pea	#<$0
 29708 06:77A1: D4 45        	pei	<L1266+color_0
 29709 06:77A3: 22 21 86 06  	jsl	~~k_font_getFontHeight
 29710 06:77A7: 48           	pha
 29711 06:77A8: A0 10 00     	ldy	#$10
 29712 06:77AB: B7 2D        	lda	[<L1266+pWin_0],Y
 29713 06:77AD: 48           	pha
 29714 06:77AE: A0 00 00     	ldy	#$0
 29715 06:77B1: A5 1F        	lda	<L1267+titleOffsetY_1
 29716 06:77B3: 10 01        	bpl	L1293
 29717 06:77B5: 88           	dey
 29718                        L1293:
 29719 06:77B6: 85 01        	sta	<R0
 29720 06:77B8: 84 03        	sty	<R0+2
 29721 06:77BA: D4 03        	pei	<R0+2
 29722 06:77BC: D4 01        	pei	<R0
 29723 06:77BE: A0 00 00     	ldy	#$0
 29724 06:77C1: 5A           	phy
 29725 06:77C2: A0 0C 00     	ldy	#$c
 29726 06:77C5: B7 2D        	lda	[<L1266+pWin_0],Y
 29727 06:77C7: 7A           	ply
 29728 06:77C8: 2A           	rol	A
 29729 06:77C9: 6A           	ror	A
 29730 06:77CA: 10 01        	bpl	L1294
 29731 06:77CC: 88           	dey
 29732                        L1294:
 29733 06:77CD: 85 05        	sta	<R1
 29734 06:77CF: 84 07        	sty	<R1+2
 29735 06:77D1: D4 07        	pei	<R1+2
 29736 06:77D3: D4 05        	pei	<R1
 29737 06:77D5: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 29738                        ;				dx = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,bgcolor,BITMAP_FRONT);
 29739                        	.line	5322
 29740 06:77D9: F4 00 00     	pea	#<$0
 29741 06:77DC: D4 47        	pei	<L1266+bgcolor_0
 29742 06:77DE: D4 1F        	pei	<L1267+titleOffsetY_1
 29743 06:77E0: D4 1D        	pei	<L1267+titleOffsetX_1
 29744 06:77E2: D4 17        	pei	<L1267+caption_1+2
 29745 06:77E4: D4 15        	pei	<L1267+caption_1
 29746 06:77E6: 22 C0 21 06  	jsl	~~k_draw_text_point_ex
 29747 06:77EA: 85 13        	sta	<L1267+dx_1
 29748                        ;				if(chromeByte)
 29749                        	.line	5323
 29750                        ;				{
 29751 06:77EC: A5 29        	lda	<L1267+chromeByte_2
 29752 06:77EE: 29 FF 00     	and	#$ff
 29753 06:77F1: D0 03        	bne	L1295
 29754 06:77F3: 82 19 00     	brl	L10549
 29755                        L1295:
 29756                        	.line	5324
 29757                        ;					dx = k_draw_text
                    _point_ex("*",titleOffsetX + dx,titleOffsetY,bgcolor,BITMAP_
                    FRONT);
  Mon Sep 27 2021  9:39                                                Page 547


 29758                        	.line	5325
 29759 06:77F6: F4 00 00     	pea	#<$0
 29760 06:77F9: D4 47        	pei	<L1266+bgcolor_0
 29761 06:77FB: D4 1F        	pei	<L1267+titleOffsetY_1
 29762 06:77FD: 18           	clc
 29763 06:77FE: A5 1D        	lda	<L1267+titleOffsetX_1
 29764 06:7800: 65 13        	adc	<L1267+dx_1
 29765 06:7802: 48           	pha
 29766 06:7803: F4 xx xx     	pea	#^L1265+4
 29767 06:7806: F4 xx xx     	pea	#<L1265+4
 29768 06:7809: 22 C0 21 06  	jsl	~~k_draw_text_point_ex
 29769 06:780D: 85 13        	sta	<L1267+dx_1
 29770                        ;				}
 29771                        	.line	5326
 29772                        ;			}
 29773                        L10549:
 29774                        	.line	5327
 29775                        ;			else
 29776 06:780F: 82 36 00     	brl	L10550
 29777                        L10548:
 29778                        ;			{
 29779                        	.line	5329
 29780                        ;				dx = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,color,BITMAP_FRONT);
 29781                        	.line	5330
 29782 06:7812: F4 00 00     	pea	#<$0
 29783 06:7815: D4 45        	pei	<L1266+color_0
 29784 06:7817: D4 1F        	pei	<L1267+titleOffsetY_1
 29785 06:7819: D4 1D        	pei	<L1267+titleOffsetX_1
 29786 06:781B: D4 17        	pei	<L1267+caption_1+2
 29787 06:781D: D4 15        	pei	<L1267+caption_1
 29788 06:781F: 22 C0 21 06  	jsl	~~k_draw_text_point_ex
 29789 06:7823: 85 13        	sta	<L1267+dx_1
 29790                        ;				if(chromeByte)
 29791                        	.line	5331
 29792                        ;				{
 29793 06:7825: A5 29        	lda	<L1267+chromeByte_2
 29794 06:7827: 29 FF 00     	and	#$ff
 29795 06:782A: D0 03        	bne	L1296
 29796 06:782C: 82 19 00     	brl	L10551
 29797                        L1296:
 29798                        	.line	5332
 29799                        ;					dx = k_draw_text
                    _point_ex("*",titleOffsetX + dx,titleOffsetY,color,BITMAP_FR
                    ONT);
 29800                        	.line	5333
 29801 06:782F: F4 00 00     	pea	#<$0
 29802 06:7832: D4 45        	pei	<L1266+color_0
 29803 06:7834: D4 1F        	pei	<L1267+titleOffsetY_1
 29804 06:7836: 18           	clc
 29805 06:7837: A5 1D        	lda	<L1267+titleOffsetX_1
 29806 06:7839: 65 13        	adc	<L1267+dx_1
 29807 06:783B: 48           	pha
 29808 06:783C: F4 xx xx     	pea	#^L1265+6
 29809 06:783F: F4 xx xx     	pea	#<L1265+6
 29810 06:7842: 22 C0 21 06  	jsl	~~k_draw_text_point_ex
 29811 06:7846: 85 13        	sta	<L1267+dx_1
 29812                        ;				}
  Mon Sep 27 2021  9:39                                                Page 548


 29813                        	.line	5334
 29814                        ;
 29815                        ;			}
 29816                        L10551:
 29817                        	.line	5336
 29818                        L10550:
 29819                        ;		}
 29820                        	.line	5337
 29821                        L10547:
 29822                        ;		titleOffsetY+=(FONTH + 2);
 29823                        	.line	5338
 29824 06:7848: 22 21 86 06  	jsl	~~k_font_getFontHeight
 29825 06:784C: 85 01        	sta	<R0
 29826 06:784E: 18           	clc
 29827 06:784F: A5 01        	lda	<R0
 29828 06:7851: 65 1F        	adc	<L1267+titleOffsetY_1
 29829 06:7853: 85 05        	sta	<R1
 29830 06:7855: 18           	clc
 29831 06:7856: A9 02 00     	lda	#$2
 29832 06:7859: 65 05        	adc	<R1
 29833 06:785B: 85 1F        	sta	<L1267+titleOffsetY_1
 29834                        ;		i++;
 29835                        	.line	5339
 29836 06:785D: E6 11        	inc	<L1267+i_1
 29837                        ;		caption = captions[i];
 29838                        	.line	5340
 29839 06:785F: A0 00 00     	ldy	#$0
 29840 06:7862: A5 11        	lda	<L1267+i_1
 29841 06:7864: 10 01        	bpl	L1297
 29842 06:7866: 88           	dey
 29843                        L1297:
 29844 06:7867: 85 05        	sta	<R1
 29845 06:7869: 84 07        	sty	<R1+2
 29846 06:786B: D4 07        	pei	<R1+2
 29847 06:786D: D4 05        	pei	<R1
 29848 06:786F: A9 02 00     	lda	#$2
 29849                        	xref	~~~lasl
 29850 06:7872: 22 xx xx xx  	jsl	~~~lasl
 29851 06:7876: 85 01        	sta	<R0
 29852 06:7878: 86 03        	stx	<R0+2
 29853 06:787A: 18           	clc
 29854 06:787B: A5 3D        	lda	<L1266+captions_0
 29855 06:787D: 65 01        	adc	<R0
 29856 06:787F: 85 09        	sta	<R2
 29857 06:7881: A5 3F        	lda	<L1266+captions_0+2
 29858 06:7883: 65 03        	adc	<R0+2
 29859 06:7885: 85 0B        	sta	<R2+2
 29860 06:7887: A7 09        	lda	[<R2]
 29861 06:7889: 85 15        	sta	<L1267+caption_1
 29862 06:788B: A0 02 00     	ldy	#$2
 29863 06:788E: B7 09        	lda	[<R2],Y
 29864 06:7890: 85 17        	sta	<L1267+caption_1+2
 29865                        ;	}
 29866                        	.endblock	5341
 29867                        	.line	5341
 29868 06:7892: 82 91 FD     	brl	L10539
 29869                        L10540:
 29870                        ;
  Mon Sep 27 2021  9:39                                                Page 549


 29871                        ;	return NULL;
 29872                        	.line	5343
 29873 06:7895: A9 00 00     	lda	#$0
 29874 06:7898: AA           	tax
 29875 06:7899: A9 00 00     	lda	#$0
 29876                        L1298:
 29877 06:789C: A8           	tay
 29878 06:789D: A5 2B        	lda	<L1266+2
 29879 06:789F: 85 47        	sta	<L1266+2+28
 29880 06:78A1: A5 2A        	lda	<L1266+1
 29881 06:78A3: 85 46        	sta	<L1266+1+28
 29882 06:78A5: 2B           	pld
 29883 06:78A6: 3B           	tsc
 29884 06:78A7: 18           	clc
 29885 06:78A8: 69 45 00     	adc	#L1266+28
 29886 06:78AB: 1B           	tcs
 29887 06:78AC: 98           	tya
 29888 06:78AD: 6B           	rtl
 29889                        ;
 29890                        ;}
 29891                        	.line	5345
 29892                        	.endblock	5345
 29893             00000029   L1266	equ	41
 29894             0000000D   L1267	equ	13
 29895 06:78AE:              	ends
 29896                        	efunc
 29897                        	.endfunc	5345,13,41
 29898                        	.line	5345
 29899                        	data
 29900                        L1265:
 29901 00:0BC8: 2A 00 2A 00  	db	$2A,$00,$2A,$00,$2A,$00,$2A,$00
       00:0BCC: 2A 00 2A 00 
 29902 00:0BD0:              	ends
 29903                        ;
 29904                        ;PMENU k_create_context_menu_in_window(PWINDOW pWi
                    n,UINT selected,UINT unselected,
 29905                        ;		                              int cx,int
                     cy,int width,int height,
 29906                        ;							
                    		  char FAR **captions,int color, int bgcolor)
 29907                        ;{
 29908                        	.line	5347
 29909                        	.line	5350
 29910                        	GFX
 29911                        	xdef	~~k_create_context_menu_in_window
 29912                        	func
 29913                        	.function	5350
 29914                        ~~k_create_context_menu_in_window:
 29915                        	longa	on
 29916                        	longi	on
 29917 06:78AE: 3B           	tsc
 29918 06:78AF: 38           	sec
 29919 06:78B0: E9 28 00     	sbc	#L1300
 29920 06:78B3: 1B           	tcs
 29921 06:78B4: 0B           	phd
 29922 06:78B5: 5B           	tcd
 29923             00000004   pWin_0	set	4
 29924             00000008   selected_0	set	8
  Mon Sep 27 2021  9:39                                                Page 550


 29925             0000000A   unselected_0	set	10
 29926             0000000C   cx_0	set	12
 29927             0000000E   cy_0	set	14
 29928             00000010   width_0	set	16
 29929             00000012   height_0	set	18
 29930             00000014   captions_0	set	20
 29931             00000018   color_0	set	24
 29932             0000001A   bgcolor_0	set	26
 29933                        	.block	5350
 29934                        ;	FONTMETRIC metric;
 29935                        ;
 29936                        ;	int i = 0;
 29937                        ;	int hy = 0;
 29938                        ;	char FAR *caption = NULL;
 29939                        ;
 29940                        ;	int borderTitle = 10;
 29941                        ;	int borderWidth = 3;
 29942                        ;
 29943                        ;	int titleOffsetX = cx+4;
 29944                        ;	int titleOffsetY = cy+2;
 29945                        ;	int titleScaler = 0;
 29946                        ;
 29947                        ;	int clientOffsetX = cx+borderWidth+2;
 29948                        ;	int clientOffsetY = cy+borderTitle+1;
 29949                        ;
 29950                        ;	int endX = width + cx - borderWidth;
 29951                        ;
 29952                        ;
 29953                        ;	if(selected == -1 && unselected == -1)
 29954             00000000   metric_1	set	0
 29955             00000004   i_1	set	4
 29956             00000006   hy_1	set	6
 29957             00000008   caption_1	set	8
 29958             0000000C   borderTitle_1	set	12
 29959             0000000E   borderWidth_1	set	14
 29960             00000010   titleOffsetX_1	set	16
 29961             00000012   titleOffsetY_1	set	18
 29962             00000014   titleScaler_1	set	20
 29963             00000016   clientOffsetX_1	set	22
 29964             00000018   clientOffsetY_1	set	24
 29965             0000001A   endX_1	set	26
 29966                        	.sym	metric,0,10,1,32,35
 29967                        	.sym	i,4,5,1,16
 29968                        	.sym	hy,6,5,1,16
 29969                        	.sym	caption,8,142,1,32
 29970                        	.sym	borderTitle,12,5,1,16
 29971                        	.sym	borderWidth,14,5,1,16
 29972                        	.sym	titleOffsetX,16,5,1,16
 29973                        	.sym	titleOffsetY,18,5,1,16
 29974                        	.sym	titleScaler,20,5,1,16
 29975                        	.sym	clientOffsetX,22,5,1,16
 29976                        	.sym	clientOffsetY,24,5,1,16
 29977                        	.sym	endX,26,5,1,16
 29978                        	.sym	pWin,4,138,6,32,33
 29979                        	.sym	selected,8,16,6,16
 29980                        	.sym	unselected,10,16,6,16
 29981                        	.sym	cx,12,5,6,16
 29982                        	.sym	cy,14,5,6,16
  Mon Sep 27 2021  9:39                                                Page 551


 29983                        	.sym	width,16,5,6,16
 29984                        	.sym	height,18,5,6,16
 29985                        	.sym	captions,20,1166,6,32
 29986                        	.sym	color,24,5,6,16
 29987                        	.sym	bgcolor,26,5,6,16
 29988 06:78B6: 64 11        	stz	<L1301+i_1
 29989 06:78B8: 64 13        	stz	<L1301+hy_1
 29990 06:78BA: 64 15        	stz	<L1301+caption_1
 29991 06:78BC: 64 17        	stz	<L1301+caption_1+2
 29992 06:78BE: A9 0A 00     	lda	#$a
 29993 06:78C1: 85 19        	sta	<L1301+borderTitle_1
 29994 06:78C3: A9 03 00     	lda	#$3
 29995 06:78C6: 85 1B        	sta	<L1301+borderWidth_1
 29996 06:78C8: 18           	clc
 29997 06:78C9: A9 04 00     	lda	#$4
 29998 06:78CC: 65 34        	adc	<L1300+cx_0
 29999 06:78CE: 85 1D        	sta	<L1301+titleOffsetX_1
 30000 06:78D0: 18           	clc
 30001 06:78D1: A9 02 00     	lda	#$2
 30002 06:78D4: 65 36        	adc	<L1300+cy_0
 30003 06:78D6: 85 1F        	sta	<L1301+titleOffsetY_1
 30004 06:78D8: 64 21        	stz	<L1301+titleScaler_1
 30005 06:78DA: 18           	clc
 30006 06:78DB: A5 34        	lda	<L1300+cx_0
 30007 06:78DD: 65 1B        	adc	<L1301+borderWidth_1
 30008 06:78DF: 85 01        	sta	<R0
 30009 06:78E1: 18           	clc
 30010 06:78E2: A9 02 00     	lda	#$2
 30011 06:78E5: 65 01        	adc	<R0
 30012 06:78E7: 85 23        	sta	<L1301+clientOffsetX_1
 30013 06:78E9: 18           	clc
 30014 06:78EA: A5 36        	lda	<L1300+cy_0
 30015 06:78EC: 65 19        	adc	<L1301+borderTitle_1
 30016 06:78EE: 85 01        	sta	<R0
 30017 06:78F0: A5 01        	lda	<R0
 30018 06:78F2: 1A           	ina
 30019 06:78F3: 85 25        	sta	<L1301+clientOffsetY_1
 30020 06:78F5: 18           	clc
 30021 06:78F6: A5 38        	lda	<L1300+width_0
 30022 06:78F8: 65 34        	adc	<L1300+cx_0
 30023 06:78FA: 85 01        	sta	<R0
 30024 06:78FC: 38           	sec
 30025 06:78FD: A5 01        	lda	<R0
 30026 06:78FF: E5 1B        	sbc	<L1301+borderWidth_1
 30027 06:7901: 85 27        	sta	<L1301+endX_1
 30028                        	.line	5370
 30029                        ;		k_vdma_fill_rect_ex(cx,cy,width,height,b
                    gcolor,BITMAP_FRONT);
 30030 06:7903: A5 30        	lda	<L1300+selected_0
 30031 06:7905: C9 FF FF     	cmp	#<$ffffffff
 30032 06:7908: F0 03        	beq	L1303
 30033 06:790A: 82 37 00     	brl	L10552
 30034                        L1303:
 30035 06:790D: A5 32        	lda	<L1300+unselected_0
 30036 06:790F: C9 FF FF     	cmp	#<$ffffffff
 30037 06:7912: F0 03        	beq	L1304
 30038 06:7914: 82 2D 00     	brl	L10552
 30039                        L1304:
  Mon Sep 27 2021  9:39                                                Page 552


 30040                        	.line	5371
 30041 06:7917: F4 00 00     	pea	#<$0
 30042 06:791A: D4 42        	pei	<L1300+bgcolor_0
 30043 06:791C: D4 3A        	pei	<L1300+height_0
 30044 06:791E: D4 38        	pei	<L1300+width_0
 30045 06:7920: A0 00 00     	ldy	#$0
 30046 06:7923: A5 36        	lda	<L1300+cy_0
 30047 06:7925: 10 01        	bpl	L1305
 30048 06:7927: 88           	dey
 30049                        L1305:
 30050 06:7928: 85 01        	sta	<R0
 30051 06:792A: 84 03        	sty	<R0+2
 30052 06:792C: D4 03        	pei	<R0+2
 30053 06:792E: D4 01        	pei	<R0
 30054 06:7930: A0 00 00     	ldy	#$0
 30055 06:7933: A5 34        	lda	<L1300+cx_0
 30056 06:7935: 10 01        	bpl	L1306
 30057 06:7937: 88           	dey
 30058                        L1306:
 30059 06:7938: 85 05        	sta	<R1
 30060 06:793A: 84 07        	sty	<R1+2
 30061 06:793C: D4 07        	pei	<R1+2
 30062 06:793E: D4 05        	pei	<R1
 30063 06:7940: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 30064                        ;
 30065                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 30066                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 30067                        ;	i = 0;
 30068                        L10552:
 30069                        	.line	5375
 30070 06:7944: 64 11        	stz	<L1301+i_1
 30071                        ;	caption = captions[i];
 30072                        	.line	5376
 30073 06:7946: A0 00 00     	ldy	#$0
 30074 06:7949: A5 11        	lda	<L1301+i_1
 30075 06:794B: 10 01        	bpl	L1307
 30076 06:794D: 88           	dey
 30077                        L1307:
 30078 06:794E: 85 05        	sta	<R1
 30079 06:7950: 84 07        	sty	<R1+2
 30080 06:7952: D4 07        	pei	<R1+2
 30081 06:7954: D4 05        	pei	<R1
 30082 06:7956: A9 02 00     	lda	#$2
 30083                        	xref	~~~lasl
 30084 06:7959: 22 xx xx xx  	jsl	~~~lasl
 30085 06:795D: 85 01        	sta	<R0
 30086 06:795F: 86 03        	stx	<R0+2
 30087 06:7961: 18           	clc
 30088 06:7962: A5 3C        	lda	<L1300+captions_0
 30089 06:7964: 65 01        	adc	<R0
 30090 06:7966: 85 09        	sta	<R2
 30091 06:7968: A5 3E        	lda	<L1300+captions_0+2
 30092 06:796A: 65 03        	adc	<R0+2
 30093 06:796C: 85 0B        	sta	<R2+2
 30094 06:796E: A7 09        	lda	[<R2]
 30095 06:7970: 85 15        	sta	<L1301+caption_1
  Mon Sep 27 2021  9:39                                                Page 553


 30096 06:7972: A0 02 00     	ldy	#$2
 30097 06:7975: B7 09        	lda	[<R2],Y
 30098 06:7977: 85 17        	sta	<L1301+caption_1+2
 30099                        ;	while(caption!=NULL)
 30100                        	.line	5377
 30101                        L10553:
 30102 06:7979: A5 15        	lda	<L1301+caption_1
 30103 06:797B: 05 17        	ora	<L1301+caption_1+2
 30104 06:797D: D0 03        	bne	L1308
 30105 06:797F: 82 A9 01     	brl	L10554
 30106                        L1308:
 30107                        ;	{
 30108                        	.line	5378
 30109                        ;		//k_debug_strings("k_create_context_menu
                    :caption:",caption);
 30110                        ;
 30111                        ;		//caption = strupr(caption);
 30112                        ;
 30113                        ;		if(selected!=-1 && unselected!=-1)
 30114                        	.line	5383
 30115                        ;		{
 30116 06:7982: A5 30        	lda	<L1300+selected_0
 30117 06:7984: C9 FF FF     	cmp	#<$ffffffff
 30118 06:7987: D0 03        	bne	L1309
 30119 06:7989: 82 D8 00     	brl	L10555
 30120                        L1309:
 30121 06:798C: A5 32        	lda	<L1300+unselected_0
 30122 06:798E: C9 FF FF     	cmp	#<$ffffffff
 30123 06:7991: D0 03        	bne	L1310
 30124 06:7993: 82 CE 00     	brl	L10555
 30125                        L1310:
 30126                        	.line	5384
 30127                        ;			if( i == selected && caption[0] 
                    != '_')
 30128                        	.line	5385
 30129                        ;			{
 30130 06:7996: A5 11        	lda	<L1301+i_1
 30131 06:7998: C5 30        	cmp	<L1300+selected_0
 30132 06:799A: F0 03        	beq	L1311
 30133 06:799C: 82 5E 00     	brl	L10556
 30134                        L1311:
 30135 06:799F: E2 20        	sep	#$20
 30136                        	longa	off
 30137 06:79A1: A7 15        	lda	[<L1301+caption_1]
 30138 06:79A3: C9 5F        	cmp	#<$5f
 30139 06:79A5: C2 20        	rep	#$20
 30140                        	longa	on
 30141 06:79A7: D0 03        	bne	L1312
 30142 06:79A9: 82 51 00     	brl	L10556
 30143                        L1312:
 30144                        	.line	5386
 30145                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,color,BITMAP_FRON
                    T);
 30146                        	.line	5387
 30147 06:79AC: F4 00 00     	pea	#<$0
 30148 06:79AF: D4 40        	pei	<L1300+color_0
 30149 06:79B1: 22 21 86 06  	jsl	~~k_font_getFontHeight
  Mon Sep 27 2021  9:39                                                Page 554


 30150 06:79B5: 48           	pha
 30151 06:79B6: A0 10 00     	ldy	#$10
 30152 06:79B9: B7 2C        	lda	[<L1300+pWin_0],Y
 30153 06:79BB: 48           	pha
 30154 06:79BC: A0 00 00     	ldy	#$0
 30155 06:79BF: A5 1F        	lda	<L1301+titleOffsetY_1
 30156 06:79C1: 10 01        	bpl	L1313
 30157 06:79C3: 88           	dey
 30158                        L1313:
 30159 06:79C4: 85 01        	sta	<R0
 30160 06:79C6: 84 03        	sty	<R0+2
 30161 06:79C8: D4 03        	pei	<R0+2
 30162 06:79CA: D4 01        	pei	<R0
 30163 06:79CC: A0 00 00     	ldy	#$0
 30164 06:79CF: 5A           	phy
 30165 06:79D0: A0 0C 00     	ldy	#$c
 30166 06:79D3: B7 2C        	lda	[<L1300+pWin_0],Y
 30167 06:79D5: 7A           	ply
 30168 06:79D6: 2A           	rol	A
 30169 06:79D7: 6A           	ror	A
 30170 06:79D8: 10 01        	bpl	L1314
 30171 06:79DA: 88           	dey
 30172                        L1314:
 30173 06:79DB: 85 05        	sta	<R1
 30174 06:79DD: 84 07        	sty	<R1+2
 30175 06:79DF: D4 07        	pei	<R1+2
 30176 06:79E1: D4 05        	pei	<R1
 30177 06:79E3: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 30178                        ;				hy = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,bgcolor,BITMAP_FRONT);
 30179                        	.line	5388
 30180 06:79E7: F4 00 00     	pea	#<$0
 30181 06:79EA: D4 42        	pei	<L1300+bgcolor_0
 30182 06:79EC: D4 1F        	pei	<L1301+titleOffsetY_1
 30183 06:79EE: D4 1D        	pei	<L1301+titleOffsetX_1
 30184 06:79F0: D4 17        	pei	<L1301+caption_1+2
 30185 06:79F2: D4 15        	pei	<L1301+caption_1
 30186 06:79F4: 22 C0 21 06  	jsl	~~k_draw_text_point_ex
 30187 06:79F8: 85 13        	sta	<L1301+hy_1
 30188                        ;			}
 30189                        	.line	5389
 30190                        ;			else if( i == unselected && capt
                    ion[0] != '_')
 30191 06:79FA: 82 64 00     	brl	L10557
 30192                        L10556:
 30193                        	.line	5390
 30194                        ;			{
 30195 06:79FD: A5 11        	lda	<L1301+i_1
 30196 06:79FF: C5 32        	cmp	<L1300+unselected_0
 30197 06:7A01: F0 03        	beq	L1315
 30198 06:7A03: 82 5B 00     	brl	L10558
 30199                        L1315:
 30200 06:7A06: E2 20        	sep	#$20
 30201                        	longa	off
 30202 06:7A08: A7 15        	lda	[<L1301+caption_1]
 30203 06:7A0A: C9 5F        	cmp	#<$5f
 30204 06:7A0C: C2 20        	rep	#$20
 30205                        	longa	on
  Mon Sep 27 2021  9:39                                                Page 555


 30206 06:7A0E: D0 03        	bne	L1316
 30207 06:7A10: 82 4E 00     	brl	L10558
 30208                        L1316:
 30209                        	.line	5391
 30210                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,bgcolor,BITMAP_FR
                    ONT);
 30211                        	.line	5392
 30212 06:7A13: F4 00 00     	pea	#<$0
 30213 06:7A16: D4 42        	pei	<L1300+bgcolor_0
 30214 06:7A18: 22 21 86 06  	jsl	~~k_font_getFontHeight
 30215 06:7A1C: 48           	pha
 30216 06:7A1D: A0 10 00     	ldy	#$10
 30217 06:7A20: B7 2C        	lda	[<L1300+pWin_0],Y
 30218 06:7A22: 48           	pha
 30219 06:7A23: A0 00 00     	ldy	#$0
 30220 06:7A26: A5 1F        	lda	<L1301+titleOffsetY_1
 30221 06:7A28: 10 01        	bpl	L1317
 30222 06:7A2A: 88           	dey
 30223                        L1317:
 30224 06:7A2B: 85 01        	sta	<R0
 30225 06:7A2D: 84 03        	sty	<R0+2
 30226 06:7A2F: D4 03        	pei	<R0+2
 30227 06:7A31: D4 01        	pei	<R0
 30228 06:7A33: A0 00 00     	ldy	#$0
 30229 06:7A36: 5A           	phy
 30230 06:7A37: A0 0C 00     	ldy	#$c
 30231 06:7A3A: B7 2C        	lda	[<L1300+pWin_0],Y
 30232 06:7A3C: 7A           	ply
 30233 06:7A3D: 2A           	rol	A
 30234 06:7A3E: 6A           	ror	A
 30235 06:7A3F: 10 01        	bpl	L1318
 30236 06:7A41: 88           	dey
 30237                        L1318:
 30238 06:7A42: 85 05        	sta	<R1
 30239 06:7A44: 84 07        	sty	<R1+2
 30240 06:7A46: D4 07        	pei	<R1+2
 30241 06:7A48: D4 05        	pei	<R1
 30242 06:7A4A: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 30243                        ;				hy = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,color,BITMAP_FRONT);
 30244                        	.line	5393
 30245 06:7A4E: F4 00 00     	pea	#<$0
 30246 06:7A51: D4 40        	pei	<L1300+color_0
 30247 06:7A53: D4 1F        	pei	<L1301+titleOffsetY_1
 30248 06:7A55: D4 1D        	pei	<L1301+titleOffsetX_1
 30249 06:7A57: D4 17        	pei	<L1301+caption_1+2
 30250 06:7A59: D4 15        	pei	<L1301+caption_1
 30251 06:7A5B: 22 C0 21 06  	jsl	~~k_draw_text_point_ex
 30252 06:7A5F: 85 13        	sta	<L1301+hy_1
 30253                        ;			}
 30254                        	.line	5394
 30255                        ;
 30256                        ;		}
 30257                        L10558:
 30258                        L10557:
 30259                        	.line	5396
 30260                        ;		else
  Mon Sep 27 2021  9:39                                                Page 556


 30261 06:7A61: 82 7A 00     	brl	L10559
 30262                        L10555:
 30263                        ;		{
 30264                        	.line	5398
 30265                        ;			if( i == selected && caption[0] 
                    != '_')
 30266                        	.line	5399
 30267                        ;			{
 30268 06:7A64: A5 11        	lda	<L1301+i_1
 30269 06:7A66: C5 30        	cmp	<L1300+selected_0
 30270 06:7A68: F0 03        	beq	L1319
 30271 06:7A6A: 82 5E 00     	brl	L10560
 30272                        L1319:
 30273 06:7A6D: E2 20        	sep	#$20
 30274                        	longa	off
 30275 06:7A6F: A7 15        	lda	[<L1301+caption_1]
 30276 06:7A71: C9 5F        	cmp	#<$5f
 30277 06:7A73: C2 20        	rep	#$20
 30278                        	longa	on
 30279 06:7A75: D0 03        	bne	L1320
 30280 06:7A77: 82 51 00     	brl	L10560
 30281                        L1320:
 30282                        	.line	5400
 30283                        ;				k_vdma_fill_rect_ex(pWin
                    ->win_x,titleOffsetY,pWin->win_width,FONTH,color,BITMAP_FRON
                    T);
 30284                        	.line	5401
 30285 06:7A7A: F4 00 00     	pea	#<$0
 30286 06:7A7D: D4 40        	pei	<L1300+color_0
 30287 06:7A7F: 22 21 86 06  	jsl	~~k_font_getFontHeight
 30288 06:7A83: 48           	pha
 30289 06:7A84: A0 10 00     	ldy	#$10
 30290 06:7A87: B7 2C        	lda	[<L1300+pWin_0],Y
 30291 06:7A89: 48           	pha
 30292 06:7A8A: A0 00 00     	ldy	#$0
 30293 06:7A8D: A5 1F        	lda	<L1301+titleOffsetY_1
 30294 06:7A8F: 10 01        	bpl	L1321
 30295 06:7A91: 88           	dey
 30296                        L1321:
 30297 06:7A92: 85 01        	sta	<R0
 30298 06:7A94: 84 03        	sty	<R0+2
 30299 06:7A96: D4 03        	pei	<R0+2
 30300 06:7A98: D4 01        	pei	<R0
 30301 06:7A9A: A0 00 00     	ldy	#$0
 30302 06:7A9D: 5A           	phy
 30303 06:7A9E: A0 0C 00     	ldy	#$c
 30304 06:7AA1: B7 2C        	lda	[<L1300+pWin_0],Y
 30305 06:7AA3: 7A           	ply
 30306 06:7AA4: 2A           	rol	A
 30307 06:7AA5: 6A           	ror	A
 30308 06:7AA6: 10 01        	bpl	L1322
 30309 06:7AA8: 88           	dey
 30310                        L1322:
 30311 06:7AA9: 85 05        	sta	<R1
 30312 06:7AAB: 84 07        	sty	<R1+2
 30313 06:7AAD: D4 07        	pei	<R1+2
 30314 06:7AAF: D4 05        	pei	<R1
 30315 06:7AB1: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
  Mon Sep 27 2021  9:39                                                Page 557


 30316                        ;				hy = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,bgcolor,BITMAP_FRONT);
 30317                        	.line	5402
 30318 06:7AB5: F4 00 00     	pea	#<$0
 30319 06:7AB8: D4 42        	pei	<L1300+bgcolor_0
 30320 06:7ABA: D4 1F        	pei	<L1301+titleOffsetY_1
 30321 06:7ABC: D4 1D        	pei	<L1301+titleOffsetX_1
 30322 06:7ABE: D4 17        	pei	<L1301+caption_1+2
 30323 06:7AC0: D4 15        	pei	<L1301+caption_1
 30324 06:7AC2: 22 C0 21 06  	jsl	~~k_draw_text_point_ex
 30325 06:7AC6: 85 13        	sta	<L1301+hy_1
 30326                        ;			}
 30327                        	.line	5403
 30328                        ;			else
 30329 06:7AC8: 82 13 00     	brl	L10561
 30330                        L10560:
 30331                        ;			{
 30332                        	.line	5405
 30333                        ;				hy = k_draw_text_point_e
                    x(caption,titleOffsetX,titleOffsetY,color,BITMAP_FRONT);
 30334                        	.line	5406
 30335 06:7ACB: F4 00 00     	pea	#<$0
 30336 06:7ACE: D4 40        	pei	<L1300+color_0
 30337 06:7AD0: D4 1F        	pei	<L1301+titleOffsetY_1
 30338 06:7AD2: D4 1D        	pei	<L1301+titleOffsetX_1
 30339 06:7AD4: D4 17        	pei	<L1301+caption_1+2
 30340 06:7AD6: D4 15        	pei	<L1301+caption_1
 30341 06:7AD8: 22 C0 21 06  	jsl	~~k_draw_text_point_ex
 30342 06:7ADC: 85 13        	sta	<L1301+hy_1
 30343                        ;			}
 30344                        	.line	5407
 30345                        L10561:
 30346                        ;		}
 30347                        	.line	5408
 30348                        L10559:
 30349                        ;		titleOffsetY+=(FONTH + 2);
 30350                        	.line	5409
 30351 06:7ADE: 22 21 86 06  	jsl	~~k_font_getFontHeight
 30352 06:7AE2: 85 01        	sta	<R0
 30353 06:7AE4: 18           	clc
 30354 06:7AE5: A5 01        	lda	<R0
 30355 06:7AE7: 65 1F        	adc	<L1301+titleOffsetY_1
 30356 06:7AE9: 85 05        	sta	<R1
 30357 06:7AEB: 18           	clc
 30358 06:7AEC: A9 02 00     	lda	#$2
 30359 06:7AEF: 65 05        	adc	<R1
 30360 06:7AF1: 85 1F        	sta	<L1301+titleOffsetY_1
 30361                        ;		i++;
 30362                        	.line	5410
 30363 06:7AF3: E6 11        	inc	<L1301+i_1
 30364                        ;		caption = captions[i];
 30365                        	.line	5411
 30366 06:7AF5: A0 00 00     	ldy	#$0
 30367 06:7AF8: A5 11        	lda	<L1301+i_1
 30368 06:7AFA: 10 01        	bpl	L1323
 30369 06:7AFC: 88           	dey
 30370                        L1323:
 30371 06:7AFD: 85 05        	sta	<R1
  Mon Sep 27 2021  9:39                                                Page 558


 30372 06:7AFF: 84 07        	sty	<R1+2
 30373 06:7B01: D4 07        	pei	<R1+2
 30374 06:7B03: D4 05        	pei	<R1
 30375 06:7B05: A9 02 00     	lda	#$2
 30376                        	xref	~~~lasl
 30377 06:7B08: 22 xx xx xx  	jsl	~~~lasl
 30378 06:7B0C: 85 01        	sta	<R0
 30379 06:7B0E: 86 03        	stx	<R0+2
 30380 06:7B10: 18           	clc
 30381 06:7B11: A5 3C        	lda	<L1300+captions_0
 30382 06:7B13: 65 01        	adc	<R0
 30383 06:7B15: 85 09        	sta	<R2
 30384 06:7B17: A5 3E        	lda	<L1300+captions_0+2
 30385 06:7B19: 65 03        	adc	<R0+2
 30386 06:7B1B: 85 0B        	sta	<R2+2
 30387 06:7B1D: A7 09        	lda	[<R2]
 30388 06:7B1F: 85 15        	sta	<L1301+caption_1
 30389 06:7B21: A0 02 00     	ldy	#$2
 30390 06:7B24: B7 09        	lda	[<R2],Y
 30391 06:7B26: 85 17        	sta	<L1301+caption_1+2
 30392                        ;	}
 30393                        	.line	5412
 30394 06:7B28: 82 4E FE     	brl	L10553
 30395                        L10554:
 30396                        ;
 30397                        ;	return NULL;
 30398                        	.line	5414
 30399 06:7B2B: A9 00 00     	lda	#$0
 30400 06:7B2E: AA           	tax
 30401 06:7B2F: A9 00 00     	lda	#$0
 30402                        L1324:
 30403 06:7B32: A8           	tay
 30404 06:7B33: A5 2A        	lda	<L1300+2
 30405 06:7B35: 85 42        	sta	<L1300+2+24
 30406 06:7B37: A5 29        	lda	<L1300+1
 30407 06:7B39: 85 41        	sta	<L1300+1+24
 30408 06:7B3B: 2B           	pld
 30409 06:7B3C: 3B           	tsc
 30410 06:7B3D: 18           	clc
 30411 06:7B3E: 69 40 00     	adc	#L1300+24
 30412 06:7B41: 1B           	tcs
 30413 06:7B42: 98           	tya
 30414 06:7B43: 6B           	rtl
 30415                        ;
 30416                        ;}
 30417                        	.line	5416
 30418                        	.endblock	5416
 30419             00000028   L1300	equ	40
 30420             0000000D   L1301	equ	13
 30421 06:7B44:              	ends
 30422                        	efunc
 30423                        	.endfunc	5416,13,40
 30424                        	.line	5416
 30425                        ;
 30426                        ;
 30427                        ;PMENU k_render_context_menu(PMENU menu)
 30428                        ;{
 30429                        	.line	5419
  Mon Sep 27 2021  9:39                                                Page 559


 30430                        	.line	5420
 30431                        	GFX
 30432                        	xdef	~~k_render_context_menu
 30433                        	func
 30434                        	.function	5420
 30435                        ~~k_render_context_menu:
 30436                        	longa	on
 30437                        	longi	on
 30438 06:7B44: 3B           	tsc
 30439 06:7B45: 38           	sec
 30440 06:7B46: E9 2A 00     	sbc	#L1325
 30441 06:7B49: 1B           	tcs
 30442 06:7B4A: 0B           	phd
 30443 06:7B4B: 5B           	tcd
 30444             00000004   menu_0	set	4
 30445                        	.block	5420
 30446                        ;	FONTMETRIC metric;
 30447                        ;
 30448                        ;	int i = 0;
 30449                        ;
 30450                        ;	int cx = menu->cx;
 30451                        ;	int cy = menu->cy;
 30452                        ;
 30453                        ;	char FAR *caption = NULL;
 30454                        ;
 30455                        ;	int borderTitle = 10;
 30456                        ;	int borderWidth = 3;
 30457                        ;
 30458                        ;	int titleOffsetX = cx+2;
 30459                        ;	int titleOffsetY = cy+2;
 30460                        ;	int titleScaler = 0;
 30461                        ;
 30462                        ;	int clientOffsetX = cx+borderWidth+2;
 30463                        ;	int clientOffsetY = cy+borderTitle+1;
 30464                        ;
 30465                        ;	int endX = menu->width + cx - borderWidth;
 30466                        ;
 30467                        ;
 30468                        ;/*
 30469                        ;	k_get_font_metrics(&metric);
 30470                        ;
 30471                        ;	height += metric.height + (int)(metric.width/4);
 30472                        ;
 30473                        ;	menu->cx = cx;
 30474                        ;	menu->cy = cy;
 30475                        ;	menu->height = height;
 30476                        ;	menu->width = width;
 30477                        ;
 30478                        ;	*/
 30479                        ;
 30480                        ;	k_vdma_fill_rect_ex(cx-1,cy,menu->width+1,menu->
                    height+1,0,BITMAP_FRONT);
 30481             00000000   metric_1	set	0
 30482             00000004   i_1	set	4
 30483             00000006   cx_1	set	6
 30484             00000008   cy_1	set	8
 30485             0000000A   caption_1	set	10
 30486             0000000E   borderTitle_1	set	14
  Mon Sep 27 2021  9:39                                                Page 560


 30487             00000010   borderWidth_1	set	16
 30488             00000012   titleOffsetX_1	set	18
 30489             00000014   titleOffsetY_1	set	20
 30490             00000016   titleScaler_1	set	22
 30491             00000018   clientOffsetX_1	set	24
 30492             0000001A   clientOffsetY_1	set	26
 30493             0000001C   endX_1	set	28
 30494                        	.sym	metric,0,10,1,32,35
 30495                        	.sym	i,4,5,1,16
 30496                        	.sym	cx,6,5,1,16
 30497                        	.sym	cy,8,5,1,16
 30498                        	.sym	caption,10,142,1,32
 30499                        	.sym	borderTitle,14,5,1,16
 30500                        	.sym	borderWidth,16,5,1,16
 30501                        	.sym	titleOffsetX,18,5,1,16
 30502                        	.sym	titleOffsetY,20,5,1,16
 30503                        	.sym	titleScaler,22,5,1,16
 30504                        	.sym	clientOffsetX,24,5,1,16
 30505                        	.sym	clientOffsetY,26,5,1,16
 30506                        	.sym	endX,28,5,1,16
 30507                        	.sym	menu,4,138,6,32,36
 30508 06:7B4C: 64 11        	stz	<L1326+i_1
 30509 06:7B4E: A7 2E        	lda	[<L1325+menu_0]
 30510 06:7B50: 85 13        	sta	<L1326+cx_1
 30511 06:7B52: A0 02 00     	ldy	#$2
 30512 06:7B55: B7 2E        	lda	[<L1325+menu_0],Y
 30513 06:7B57: 85 15        	sta	<L1326+cy_1
 30514 06:7B59: 64 17        	stz	<L1326+caption_1
 30515 06:7B5B: 64 19        	stz	<L1326+caption_1+2
 30516 06:7B5D: A9 0A 00     	lda	#$a
 30517 06:7B60: 85 1B        	sta	<L1326+borderTitle_1
 30518 06:7B62: A9 03 00     	lda	#$3
 30519 06:7B65: 85 1D        	sta	<L1326+borderWidth_1
 30520 06:7B67: 18           	clc
 30521 06:7B68: A9 02 00     	lda	#$2
 30522 06:7B6B: 65 13        	adc	<L1326+cx_1
 30523 06:7B6D: 85 1F        	sta	<L1326+titleOffsetX_1
 30524 06:7B6F: 18           	clc
 30525 06:7B70: A9 02 00     	lda	#$2
 30526 06:7B73: 65 15        	adc	<L1326+cy_1
 30527 06:7B75: 85 21        	sta	<L1326+titleOffsetY_1
 30528 06:7B77: 64 23        	stz	<L1326+titleScaler_1
 30529 06:7B79: 18           	clc
 30530 06:7B7A: A5 13        	lda	<L1326+cx_1
 30531 06:7B7C: 65 1D        	adc	<L1326+borderWidth_1
 30532 06:7B7E: 85 01        	sta	<R0
 30533 06:7B80: 18           	clc
 30534 06:7B81: A9 02 00     	lda	#$2
 30535 06:7B84: 65 01        	adc	<R0
 30536 06:7B86: 85 25        	sta	<L1326+clientOffsetX_1
 30537 06:7B88: 18           	clc
 30538 06:7B89: A5 15        	lda	<L1326+cy_1
 30539 06:7B8B: 65 1B        	adc	<L1326+borderTitle_1
 30540 06:7B8D: 85 01        	sta	<R0
 30541 06:7B8F: A5 01        	lda	<R0
 30542 06:7B91: 1A           	ina
 30543 06:7B92: 85 27        	sta	<L1326+clientOffsetY_1
 30544 06:7B94: 18           	clc
  Mon Sep 27 2021  9:39                                                Page 561


 30545 06:7B95: A0 04 00     	ldy	#$4
 30546 06:7B98: B7 2E        	lda	[<L1325+menu_0],Y
 30547 06:7B9A: 65 13        	adc	<L1326+cx_1
 30548 06:7B9C: 85 01        	sta	<R0
 30549 06:7B9E: 38           	sec
 30550 06:7B9F: A5 01        	lda	<R0
 30551 06:7BA1: E5 1D        	sbc	<L1326+borderWidth_1
 30552 06:7BA3: 85 29        	sta	<L1326+endX_1
 30553                        	.line	5455
 30554 06:7BA5: F4 00 00     	pea	#<$0
 30555 06:7BA8: F4 00 00     	pea	#<$0
 30556 06:7BAB: A0 06 00     	ldy	#$6
 30557 06:7BAE: B7 2E        	lda	[<L1325+menu_0],Y
 30558 06:7BB0: 1A           	ina
 30559 06:7BB1: 48           	pha
 30560 06:7BB2: A0 04 00     	ldy	#$4
 30561 06:7BB5: B7 2E        	lda	[<L1325+menu_0],Y
 30562 06:7BB7: 1A           	ina
 30563 06:7BB8: 48           	pha
 30564 06:7BB9: A0 00 00     	ldy	#$0
 30565 06:7BBC: A5 15        	lda	<L1326+cy_1
 30566 06:7BBE: 10 01        	bpl	L1328
 30567 06:7BC0: 88           	dey
 30568                        L1328:
 30569 06:7BC1: 85 01        	sta	<R0
 30570 06:7BC3: 84 03        	sty	<R0+2
 30571 06:7BC5: D4 03        	pei	<R0+2
 30572 06:7BC7: D4 01        	pei	<R0
 30573 06:7BC9: 18           	clc
 30574 06:7BCA: A9 FF FF     	lda	#$ffff
 30575 06:7BCD: 65 13        	adc	<L1326+cx_1
 30576 06:7BCF: 85 05        	sta	<R1
 30577 06:7BD1: A0 00 00     	ldy	#$0
 30578 06:7BD4: A5 05        	lda	<R1
 30579 06:7BD6: 10 01        	bpl	L1329
 30580 06:7BD8: 88           	dey
 30581                        L1329:
 30582 06:7BD9: 85 05        	sta	<R1
 30583 06:7BDB: 84 07        	sty	<R1+2
 30584 06:7BDD: D4 07        	pei	<R1+2
 30585 06:7BDF: D4 05        	pei	<R1
 30586 06:7BE1: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 30587                        ;	k_vdma_fill_rect_ex(cx,cy,menu->width,menu->heig
                    ht,menu->fcolor,BITMAP_FRONT);
 30588                        	.line	5456
 30589 06:7BE5: F4 00 00     	pea	#<$0
 30590 06:7BE8: A0 08 00     	ldy	#$8
 30591 06:7BEB: B7 2E        	lda	[<L1325+menu_0],Y
 30592 06:7BED: 48           	pha
 30593 06:7BEE: A0 06 00     	ldy	#$6
 30594 06:7BF1: B7 2E        	lda	[<L1325+menu_0],Y
 30595 06:7BF3: 48           	pha
 30596 06:7BF4: A0 04 00     	ldy	#$4
 30597 06:7BF7: B7 2E        	lda	[<L1325+menu_0],Y
 30598 06:7BF9: 48           	pha
 30599 06:7BFA: A0 00 00     	ldy	#$0
 30600 06:7BFD: A5 15        	lda	<L1326+cy_1
 30601 06:7BFF: 10 01        	bpl	L1330
  Mon Sep 27 2021  9:39                                                Page 562


 30602 06:7C01: 88           	dey
 30603                        L1330:
 30604 06:7C02: 85 01        	sta	<R0
 30605 06:7C04: 84 03        	sty	<R0+2
 30606 06:7C06: D4 03        	pei	<R0+2
 30607 06:7C08: D4 01        	pei	<R0
 30608 06:7C0A: A0 00 00     	ldy	#$0
 30609 06:7C0D: A5 13        	lda	<L1326+cx_1
 30610 06:7C0F: 10 01        	bpl	L1331
 30611 06:7C11: 88           	dey
 30612                        L1331:
 30613 06:7C12: 85 05        	sta	<R1
 30614 06:7C14: 84 07        	sty	<R1+2
 30615 06:7C16: D4 07        	pei	<R1+2
 30616 06:7C18: D4 05        	pei	<R1
 30617 06:7C1A: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 30618                        ;
 30619                        ;	//k_delay(15);
 30620                        ;
 30621                        ;
 30622                        ;
 30623                        ;	//k_put_wingadget_point(WINICON_TITLE_BACK,endX 
                    - (metric.width*2 + 2),titleOffsetY,14);
 30624                        ;	//k_put_wingadget_point(WINICON_TITLE_FRONT,endX
                     - (metric.width),titleOffsetY,14);
 30625                        ;	i = 0;
 30626                        	.line	5464
 30627 06:7C1E: 64 11        	stz	<L1326+i_1
 30628                        ;	caption = ((LPCHAR*)menu->pCaption)[0];
 30629                        	.line	5465
 30630 06:7C20: A0 13 00     	ldy	#$13
 30631 06:7C23: B7 2E        	lda	[<L1325+menu_0],Y
 30632 06:7C25: 85 01        	sta	<R0
 30633 06:7C27: A0 15 00     	ldy	#$15
 30634 06:7C2A: B7 2E        	lda	[<L1325+menu_0],Y
 30635 06:7C2C: 85 03        	sta	<R0+2
 30636 06:7C2E: A7 01        	lda	[<R0]
 30637 06:7C30: 85 17        	sta	<L1326+caption_1
 30638 06:7C32: A0 02 00     	ldy	#$2
 30639 06:7C35: B7 01        	lda	[<R0],Y
 30640 06:7C37: 85 19        	sta	<L1326+caption_1+2
 30641                        ;	while(caption!=NULL)
 30642                        	.line	5466
 30643                        L10562:
 30644 06:7C39: A5 17        	lda	<L1326+caption_1
 30645 06:7C3B: 05 19        	ora	<L1326+caption_1+2
 30646 06:7C3D: D0 03        	bne	L1332
 30647 06:7C3F: 82 65 00     	brl	L10563
 30648                        L1332:
 30649                        ;	{
 30650                        	.line	5467
 30651                        ;		//caption = strupr(caption);
 30652                        ;		k_draw_text_point_ex(caption,titleOffset
                    X,titleOffsetY,0,BITMAP_FRONT);
 30653                        	.line	5469
 30654 06:7C42: F4 00 00     	pea	#<$0
 30655 06:7C45: F4 00 00     	pea	#<$0
 30656 06:7C48: D4 21        	pei	<L1326+titleOffsetY_1
  Mon Sep 27 2021  9:39                                                Page 563


 30657 06:7C4A: D4 1F        	pei	<L1326+titleOffsetX_1
 30658 06:7C4C: D4 19        	pei	<L1326+caption_1+2
 30659 06:7C4E: D4 17        	pei	<L1326+caption_1
 30660 06:7C50: 22 C0 21 06  	jsl	~~k_draw_text_point_ex
 30661                        ;		titleOffsetY+=(FONTH + 2);
 30662                        	.line	5470
 30663 06:7C54: 22 21 86 06  	jsl	~~k_font_getFontHeight
 30664 06:7C58: 85 01        	sta	<R0
 30665 06:7C5A: 18           	clc
 30666 06:7C5B: A5 01        	lda	<R0
 30667 06:7C5D: 65 21        	adc	<L1326+titleOffsetY_1
 30668 06:7C5F: 85 05        	sta	<R1
 30669 06:7C61: 18           	clc
 30670 06:7C62: A9 02 00     	lda	#$2
 30671 06:7C65: 65 05        	adc	<R1
 30672 06:7C67: 85 21        	sta	<L1326+titleOffsetY_1
 30673                        ;		i++;
 30674                        	.line	5471
 30675 06:7C69: E6 11        	inc	<L1326+i_1
 30676                        ;		caption = ((LPCHAR*)menu->pCaption)[i];
 30677                        	.line	5472
 30678 06:7C6B: A0 00 00     	ldy	#$0
 30679 06:7C6E: A5 11        	lda	<L1326+i_1
 30680 06:7C70: 10 01        	bpl	L1333
 30681 06:7C72: 88           	dey
 30682                        L1333:
 30683 06:7C73: 85 05        	sta	<R1
 30684 06:7C75: 84 07        	sty	<R1+2
 30685 06:7C77: D4 07        	pei	<R1+2
 30686 06:7C79: D4 05        	pei	<R1
 30687 06:7C7B: A9 02 00     	lda	#$2
 30688                        	xref	~~~lasl
 30689 06:7C7E: 22 xx xx xx  	jsl	~~~lasl
 30690 06:7C82: 85 01        	sta	<R0
 30691 06:7C84: 86 03        	stx	<R0+2
 30692 06:7C86: 18           	clc
 30693 06:7C87: A0 13 00     	ldy	#$13
 30694 06:7C8A: B7 2E        	lda	[<L1325+menu_0],Y
 30695 06:7C8C: 65 01        	adc	<R0
 30696 06:7C8E: 85 09        	sta	<R2
 30697 06:7C90: A0 15 00     	ldy	#$15
 30698 06:7C93: B7 2E        	lda	[<L1325+menu_0],Y
 30699 06:7C95: 65 03        	adc	<R0+2
 30700 06:7C97: 85 0B        	sta	<R2+2
 30701 06:7C99: A7 09        	lda	[<R2]
 30702 06:7C9B: 85 17        	sta	<L1326+caption_1
 30703 06:7C9D: A0 02 00     	ldy	#$2
 30704 06:7CA0: B7 09        	lda	[<R2],Y
 30705 06:7CA2: 85 19        	sta	<L1326+caption_1+2
 30706                        ;	}
 30707                        	.line	5473
 30708 06:7CA4: 82 92 FF     	brl	L10562
 30709                        L10563:
 30710                        ;
 30711                        ;	return menu;
 30712                        	.line	5475
 30713 06:7CA7: A6 30        	ldx	<L1325+menu_0+2
 30714 06:7CA9: A5 2E        	lda	<L1325+menu_0
  Mon Sep 27 2021  9:39                                                Page 564


 30715                        L1334:
 30716 06:7CAB: A8           	tay
 30717 06:7CAC: A5 2C        	lda	<L1325+2
 30718 06:7CAE: 85 30        	sta	<L1325+2+4
 30719 06:7CB0: A5 2B        	lda	<L1325+1
 30720 06:7CB2: 85 2F        	sta	<L1325+1+4
 30721 06:7CB4: 2B           	pld
 30722 06:7CB5: 3B           	tsc
 30723 06:7CB6: 18           	clc
 30724 06:7CB7: 69 2E 00     	adc	#L1325+4
 30725 06:7CBA: 1B           	tcs
 30726 06:7CBB: 98           	tya
 30727 06:7CBC: 6B           	rtl
 30728                        ;
 30729                        ;}
 30730                        	.line	5477
 30731                        	.endblock	5477
 30732             0000002A   L1325	equ	42
 30733             0000000D   L1326	equ	13
 30734 06:7CBD:              	ends
 30735                        	efunc
 30736                        	.endfunc	5477,13,42
 30737                        	.line	5477
 30738                        ;
 30739                        ;void k_free_context_menu(PMENU pmenu,char fcolor,
                    char bcolor)
 30740                        ;{
 30741                        	.line	5479
 30742                        	.line	5480
 30743                        	GFX
 30744                        	xdef	~~k_free_context_menu
 30745                        	func
 30746                        	.function	5480
 30747                        ~~k_free_context_menu:
 30748                        	longa	on
 30749                        	longi	on
 30750 06:7CBD: 3B           	tsc
 30751 06:7CBE: 38           	sec
 30752 06:7CBF: E9 08 00     	sbc	#L1335
 30753 06:7CC2: 1B           	tcs
 30754 06:7CC3: 0B           	phd
 30755 06:7CC4: 5B           	tcd
 30756             00000004   pmenu_0	set	4
 30757             00000008   fcolor_0	set	8
 30758             0000000A   bcolor_0	set	10
 30759                        	.block	5480
 30760                        ;	if(pmenu)
 30761                        	.sym	pmenu,4,138,6,32,36
 30762                        	.sym	fcolor,8,14,6,8
 30763                        	.sym	bcolor,10,14,6,8
 30764                        	.line	5481
 30765                        ;	{
 30766 06:7CC5: A5 0C        	lda	<L1335+pmenu_0
 30767 06:7CC7: 05 0E        	ora	<L1335+pmenu_0+2
 30768 06:7CC9: D0 03        	bne	L1338
 30769 06:7CCB: 82 4E 00     	brl	L10564
 30770                        L1338:
 30771                        	.line	5482
  Mon Sep 27 2021  9:39                                                Page 565


 30772                        ;		k_vdma_fill_rect_ex(pmenu->cx-1,pmenu->c
                    y,pmenu->width+1,pmenu->height+1,bcolor,BITMAP_FRONT);
 30773                        	.line	5483
 30774 06:7CCE: F4 00 00     	pea	#<$0
 30775 06:7CD1: D4 12        	pei	<L1335+bcolor_0
 30776 06:7CD3: A0 06 00     	ldy	#$6
 30777 06:7CD6: B7 0C        	lda	[<L1335+pmenu_0],Y
 30778 06:7CD8: 1A           	ina
 30779 06:7CD9: 48           	pha
 30780 06:7CDA: A0 04 00     	ldy	#$4
 30781 06:7CDD: B7 0C        	lda	[<L1335+pmenu_0],Y
 30782 06:7CDF: 1A           	ina
 30783 06:7CE0: 48           	pha
 30784 06:7CE1: A0 00 00     	ldy	#$0
 30785 06:7CE4: 5A           	phy
 30786 06:7CE5: A0 02 00     	ldy	#$2
 30787 06:7CE8: B7 0C        	lda	[<L1335+pmenu_0],Y
 30788 06:7CEA: 7A           	ply
 30789 06:7CEB: 2A           	rol	A
 30790 06:7CEC: 6A           	ror	A
 30791 06:7CED: 10 01        	bpl	L1339
 30792 06:7CEF: 88           	dey
 30793                        L1339:
 30794 06:7CF0: 85 01        	sta	<R0
 30795 06:7CF2: 84 03        	sty	<R0+2
 30796 06:7CF4: D4 03        	pei	<R0+2
 30797 06:7CF6: D4 01        	pei	<R0
 30798 06:7CF8: 18           	clc
 30799 06:7CF9: A9 FF FF     	lda	#$ffff
 30800 06:7CFC: 67 0C        	adc	[<L1335+pmenu_0]
 30801 06:7CFE: 85 05        	sta	<R1
 30802 06:7D00: A0 00 00     	ldy	#$0
 30803 06:7D03: A5 05        	lda	<R1
 30804 06:7D05: 10 01        	bpl	L1340
 30805 06:7D07: 88           	dey
 30806                        L1340:
 30807 06:7D08: 85 05        	sta	<R1
 30808 06:7D0A: 84 07        	sty	<R1+2
 30809 06:7D0C: D4 07        	pei	<R1+2
 30810 06:7D0E: D4 05        	pei	<R1
 30811 06:7D10: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 30812                        ;		//k_vdma_fill_rect(pmenu->cx,pmenu->cy,p
                    menu->width,pmenu->height,bcolor);
 30813                        ;		k_mem_deallocate_heap(pmenu);
 30814                        	.line	5485
 30815 06:7D14: D4 0E        	pei	<L1335+pmenu_0+2
 30816 06:7D16: D4 0C        	pei	<L1335+pmenu_0
 30817 06:7D18: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 30818                        ;	}
 30819                        	.line	5486
 30820                        ;}
 30821                        L10564:
 30822                        	.line	5487
 30823                        L1341:
 30824 06:7D1C: A5 0A        	lda	<L1335+2
 30825 06:7D1E: 85 12        	sta	<L1335+2+8
 30826 06:7D20: A5 09        	lda	<L1335+1
 30827 06:7D22: 85 11        	sta	<L1335+1+8
  Mon Sep 27 2021  9:39                                                Page 566


 30828 06:7D24: 2B           	pld
 30829 06:7D25: 3B           	tsc
 30830 06:7D26: 18           	clc
 30831 06:7D27: 69 10 00     	adc	#L1335+8
 30832 06:7D2A: 1B           	tcs
 30833 06:7D2B: 6B           	rtl
 30834                        	.endblock	5487
 30835             00000008   L1335	equ	8
 30836             00000009   L1336	equ	9
 30837 06:7D2C:              	ends
 30838                        	efunc
 30839                        	.endfunc	5487,9,8
 30840                        	.line	5487
 30841                        ;
 30842                        ;void k_bitblt(int x0, int y0, int width, int heig
                    ht, int x1, int y1)
 30843                        ;{
 30844                        	.line	5489
 30845                        	.line	5490
 30846                        	GFX
 30847                        	xdef	~~k_bitblt
 30848                        	func
 30849                        	.function	5490
 30850                        ~~k_bitblt:
 30851                        	longa	on
 30852                        	longi	on
 30853 06:7D2C: 3B           	tsc
 30854 06:7D2D: 38           	sec
 30855 06:7D2E: E9 20 00     	sbc	#L1342
 30856 06:7D31: 1B           	tcs
 30857 06:7D32: 0B           	phd
 30858 06:7D33: 5B           	tcd
 30859             00000004   x0_0	set	4
 30860             00000006   y0_0	set	6
 30861             00000008   width_0	set	8
 30862             0000000A   height_0	set	10
 30863             0000000C   x1_0	set	12
 30864             0000000E   y1_0	set	14
 30865                        	.block	5490
 30866                        ;	long dy = 0L;
 30867                        ;	long dd = y1;
 30868                        ;	long pixelLocation0 = (long)(((long)y0 * 640L) +
                     (long)x0);
 30869                        ;	long pixelLocation1 = (long)(((long)y0 * 640L) +
                     (long)(x0 + width ));
 30870                        ;	long pixelLocationD = (long)(((long)y1 * 640L) +
                     (long)(x1));
 30871                        ;
 30872                        ;	long difference = pixelLocation1 - pixelLocation
                    0;
 30873                        ;
 30874                        ;	k_debug_long("pixelLocation0:",pixelLocation0);
 30875             00000000   dy_1	set	0
 30876             00000004   dd_1	set	4
 30877             00000008   pixelLocation0_1	set	8
 30878             0000000C   pixelLocation1_1	set	12
 30879             00000010   pixelLocationD_1	set	16
 30880             00000014   difference_1	set	20
  Mon Sep 27 2021  9:39                                                Page 567


 30881                        	.sym	dy,0,7,1,32
 30882                        	.sym	dd,4,7,1,32
 30883                        	.sym	pixelLocation0,8,7,1,32
 30884                        	.sym	pixelLocation1,12,7,1,32
 30885                        	.sym	pixelLocationD,16,7,1,32
 30886                        	.sym	difference,20,7,1,32
 30887                        	.sym	x0,4,5,6,16
 30888                        	.sym	y0,6,5,6,16
 30889                        	.sym	width,8,5,6,16
 30890                        	.sym	height,10,5,6,16
 30891                        	.sym	x1,12,5,6,16
 30892                        	.sym	y1,14,5,6,16
 30893 06:7D34: 64 09        	stz	<L1343+dy_1
 30894 06:7D36: 64 0B        	stz	<L1343+dy_1+2
 30895 06:7D38: A0 00 00     	ldy	#$0
 30896 06:7D3B: A5 2E        	lda	<L1342+y1_0
 30897 06:7D3D: 10 01        	bpl	L1345
 30898 06:7D3F: 88           	dey
 30899                        L1345:
 30900 06:7D40: 85 0D        	sta	<L1343+dd_1
 30901 06:7D42: 84 0F        	sty	<L1343+dd_1+2
 30902 06:7D44: A0 00 00     	ldy	#$0
 30903 06:7D47: A5 24        	lda	<L1342+x0_0
 30904 06:7D49: 10 01        	bpl	L1346
 30905 06:7D4B: 88           	dey
 30906                        L1346:
 30907 06:7D4C: 85 01        	sta	<R0
 30908 06:7D4E: 84 03        	sty	<R0+2
 30909 06:7D50: A0 00 00     	ldy	#$0
 30910 06:7D53: A5 26        	lda	<L1342+y0_0
 30911 06:7D55: 10 01        	bpl	L1347
 30912 06:7D57: 88           	dey
 30913                        L1347:
 30914 06:7D58: 85 05        	sta	<R1
 30915 06:7D5A: 84 07        	sty	<R1+2
 30916 06:7D5C: F4 00 00     	pea	#^$280
 30917 06:7D5F: F4 80 02     	pea	#<$280
 30918 06:7D62: D4 07        	pei	<R1+2
 30919 06:7D64: D4 05        	pei	<R1
 30920                        	xref	~~~lmul
 30921 06:7D66: 22 xx xx xx  	jsl	~~~lmul
 30922 06:7D6A: 85 05        	sta	<R1
 30923 06:7D6C: 86 07        	stx	<R1+2
 30924 06:7D6E: 18           	clc
 30925 06:7D6F: A5 05        	lda	<R1
 30926 06:7D71: 65 01        	adc	<R0
 30927 06:7D73: 85 11        	sta	<L1343+pixelLocation0_1
 30928 06:7D75: A5 07        	lda	<R1+2
 30929 06:7D77: 65 03        	adc	<R0+2
 30930 06:7D79: 85 13        	sta	<L1343+pixelLocation0_1+2
 30931 06:7D7B: 18           	clc
 30932 06:7D7C: A5 24        	lda	<L1342+x0_0
 30933 06:7D7E: 65 28        	adc	<L1342+width_0
 30934 06:7D80: 85 01        	sta	<R0
 30935 06:7D82: A0 00 00     	ldy	#$0
 30936 06:7D85: A5 01        	lda	<R0
 30937 06:7D87: 10 01        	bpl	L1348
 30938 06:7D89: 88           	dey
  Mon Sep 27 2021  9:39                                                Page 568


 30939                        L1348:
 30940 06:7D8A: 85 01        	sta	<R0
 30941 06:7D8C: 84 03        	sty	<R0+2
 30942 06:7D8E: A0 00 00     	ldy	#$0
 30943 06:7D91: A5 26        	lda	<L1342+y0_0
 30944 06:7D93: 10 01        	bpl	L1349
 30945 06:7D95: 88           	dey
 30946                        L1349:
 30947 06:7D96: 85 05        	sta	<R1
 30948 06:7D98: 84 07        	sty	<R1+2
 30949 06:7D9A: F4 00 00     	pea	#^$280
 30950 06:7D9D: F4 80 02     	pea	#<$280
 30951 06:7DA0: D4 07        	pei	<R1+2
 30952 06:7DA2: D4 05        	pei	<R1
 30953                        	xref	~~~lmul
 30954 06:7DA4: 22 xx xx xx  	jsl	~~~lmul
 30955 06:7DA8: 85 05        	sta	<R1
 30956 06:7DAA: 86 07        	stx	<R1+2
 30957 06:7DAC: 18           	clc
 30958 06:7DAD: A5 05        	lda	<R1
 30959 06:7DAF: 65 01        	adc	<R0
 30960 06:7DB1: 85 15        	sta	<L1343+pixelLocation1_1
 30961 06:7DB3: A5 07        	lda	<R1+2
 30962 06:7DB5: 65 03        	adc	<R0+2
 30963 06:7DB7: 85 17        	sta	<L1343+pixelLocation1_1+2
 30964 06:7DB9: A0 00 00     	ldy	#$0
 30965 06:7DBC: A5 2C        	lda	<L1342+x1_0
 30966 06:7DBE: 10 01        	bpl	L1350
 30967 06:7DC0: 88           	dey
 30968                        L1350:
 30969 06:7DC1: 85 01        	sta	<R0
 30970 06:7DC3: 84 03        	sty	<R0+2
 30971 06:7DC5: A0 00 00     	ldy	#$0
 30972 06:7DC8: A5 2E        	lda	<L1342+y1_0
 30973 06:7DCA: 10 01        	bpl	L1351
 30974 06:7DCC: 88           	dey
 30975                        L1351:
 30976 06:7DCD: 85 05        	sta	<R1
 30977 06:7DCF: 84 07        	sty	<R1+2
 30978 06:7DD1: F4 00 00     	pea	#^$280
 30979 06:7DD4: F4 80 02     	pea	#<$280
 30980 06:7DD7: D4 07        	pei	<R1+2
 30981 06:7DD9: D4 05        	pei	<R1
 30982                        	xref	~~~lmul
 30983 06:7DDB: 22 xx xx xx  	jsl	~~~lmul
 30984 06:7DDF: 85 05        	sta	<R1
 30985 06:7DE1: 86 07        	stx	<R1+2
 30986 06:7DE3: 18           	clc
 30987 06:7DE4: A5 05        	lda	<R1
 30988 06:7DE6: 65 01        	adc	<R0
 30989 06:7DE8: 85 19        	sta	<L1343+pixelLocationD_1
 30990 06:7DEA: A5 07        	lda	<R1+2
 30991 06:7DEC: 65 03        	adc	<R0+2
 30992 06:7DEE: 85 1B        	sta	<L1343+pixelLocationD_1+2
 30993 06:7DF0: 38           	sec
 30994 06:7DF1: A5 15        	lda	<L1343+pixelLocation1_1
 30995 06:7DF3: E5 11        	sbc	<L1343+pixelLocation0_1
 30996 06:7DF5: 85 1D        	sta	<L1343+difference_1
  Mon Sep 27 2021  9:39                                                Page 569


 30997 06:7DF7: A5 17        	lda	<L1343+pixelLocation1_1+2
 30998 06:7DF9: E5 13        	sbc	<L1343+pixelLocation0_1+2
 30999 06:7DFB: 85 1F        	sta	<L1343+difference_1+2
 31000                        	.line	5499
 31001 06:7DFD: D4 13        	pei	<L1343+pixelLocation0_1+2
 31002 06:7DFF: D4 11        	pei	<L1343+pixelLocation0_1
 31003 06:7E01: F4 xx xx     	pea	#^L1299
 31004 06:7E04: F4 xx xx     	pea	#<L1299
 31005 06:7E07: 22 xx xx xx  	jsl	~~k_debug_long
 31006                        ;	k_debug_long("pixelLocation1:",pixelLocation1);
 31007                        	.line	5500
 31008 06:7E0B: D4 17        	pei	<L1343+pixelLocation1_1+2
 31009 06:7E0D: D4 15        	pei	<L1343+pixelLocation1_1
 31010 06:7E0F: F4 xx xx     	pea	#^L1299+16
 31011 06:7E12: F4 xx xx     	pea	#<L1299+16
 31012 06:7E15: 22 xx xx xx  	jsl	~~k_debug_long
 31013                        ;	k_debug_long("pixelLocationD:",pixelLocationD);
 31014                        	.line	5501
 31015 06:7E19: D4 1B        	pei	<L1343+pixelLocationD_1+2
 31016 06:7E1B: D4 19        	pei	<L1343+pixelLocationD_1
 31017 06:7E1D: F4 xx xx     	pea	#^L1299+32
 31018 06:7E20: F4 xx xx     	pea	#<L1299+32
 31019 06:7E23: 22 xx xx xx  	jsl	~~k_debug_long
 31020                        ;	k_debug_long("difference:",difference);
 31021                        	.line	5502
 31022 06:7E27: D4 1F        	pei	<L1343+difference_1+2
 31023 06:7E29: D4 1D        	pei	<L1343+difference_1
 31024 06:7E2B: F4 xx xx     	pea	#^L1299+48
 31025 06:7E2E: F4 xx xx     	pea	#<L1299+48
 31026 06:7E31: 22 xx xx xx  	jsl	~~k_debug_long
 31027                        ;
 31028                        ;
 31029                        ;
 31030                        ;	for(dy = y0;dy<(y0 + height);dy++)
 31031                        	.line	5506
 31032 06:7E35: A0 00 00     	ldy	#$0
 31033 06:7E38: A5 26        	lda	<L1342+y0_0
 31034 06:7E3A: 10 01        	bpl	L1352
 31035 06:7E3C: 88           	dey
 31036                        L1352:
 31037 06:7E3D: 85 09        	sta	<L1343+dy_1
 31038 06:7E3F: 84 0B        	sty	<L1343+dy_1+2
 31039 06:7E41: 82 8E 00     	brl	L10568
 31040                        L10567:
 31041                        ;	{
 31042                        	.line	5507
 31043                        ;		pixelLocation0 = (long)(((long)dy * 640L
                    ) + (long)x0);
 31044                        	.line	5508
 31045 06:7E44: A0 00 00     	ldy	#$0
 31046 06:7E47: A5 24        	lda	<L1342+x0_0
 31047 06:7E49: 10 01        	bpl	L1353
 31048 06:7E4B: 88           	dey
 31049                        L1353:
 31050 06:7E4C: 85 01        	sta	<R0
 31051 06:7E4E: 84 03        	sty	<R0+2
 31052 06:7E50: F4 00 00     	pea	#^$280
 31053 06:7E53: F4 80 02     	pea	#<$280
  Mon Sep 27 2021  9:39                                                Page 570


 31054 06:7E56: D4 0B        	pei	<L1343+dy_1+2
 31055 06:7E58: D4 09        	pei	<L1343+dy_1
 31056                        	xref	~~~lmul
 31057 06:7E5A: 22 xx xx xx  	jsl	~~~lmul
 31058 06:7E5E: 85 05        	sta	<R1
 31059 06:7E60: 86 07        	stx	<R1+2
 31060 06:7E62: 18           	clc
 31061 06:7E63: A5 05        	lda	<R1
 31062 06:7E65: 65 01        	adc	<R0
 31063 06:7E67: 85 11        	sta	<L1343+pixelLocation0_1
 31064 06:7E69: A5 07        	lda	<R1+2
 31065 06:7E6B: 65 03        	adc	<R0+2
 31066 06:7E6D: 85 13        	sta	<L1343+pixelLocation0_1+2
 31067                        ;		pixelLocationD = (long)(((long)dd * 640L
                    ) + (long)(x1));
 31068                        	.line	5509
 31069 06:7E6F: A0 00 00     	ldy	#$0
 31070 06:7E72: A5 2C        	lda	<L1342+x1_0
 31071 06:7E74: 10 01        	bpl	L1354
 31072 06:7E76: 88           	dey
 31073                        L1354:
 31074 06:7E77: 85 01        	sta	<R0
 31075 06:7E79: 84 03        	sty	<R0+2
 31076 06:7E7B: F4 00 00     	pea	#^$280
 31077 06:7E7E: F4 80 02     	pea	#<$280
 31078 06:7E81: D4 0F        	pei	<L1343+dd_1+2
 31079 06:7E83: D4 0D        	pei	<L1343+dd_1
 31080                        	xref	~~~lmul
 31081 06:7E85: 22 xx xx xx  	jsl	~~~lmul
 31082 06:7E89: 85 05        	sta	<R1
 31083 06:7E8B: 86 07        	stx	<R1+2
 31084 06:7E8D: 18           	clc
 31085 06:7E8E: A5 05        	lda	<R1
 31086 06:7E90: 65 01        	adc	<R0
 31087 06:7E92: 85 19        	sta	<L1343+pixelLocationD_1
 31088 06:7E94: A5 07        	lda	<R1+2
 31089 06:7E96: 65 03        	adc	<R0+2
 31090 06:7E98: 85 1B        	sta	<L1343+pixelLocationD_1+2
 31091                        ;		memcpy(   &(((unsigned char FAR *)BITMAP
                    _BANK_0)[pixelLocationD])  , &(((unsigned char FAR *)BITMAP_
                    BANK_0)[pixelLocation0]), difference) ;
 31092                        	.line	5510
 31093 06:7E9A: D4 1D        	pei	<L1343+difference_1
 31094 06:7E9C: 18           	clc
 31095 06:7E9D: A9 00 00     	lda	#$0
 31096 06:7EA0: 65 11        	adc	<L1343+pixelLocation0_1
 31097 06:7EA2: 85 01        	sta	<R0
 31098 06:7EA4: A9 B0 00     	lda	#$b0
 31099 06:7EA7: 65 13        	adc	<L1343+pixelLocation0_1+2
 31100 06:7EA9: 85 03        	sta	<R0+2
 31101 06:7EAB: D4 03        	pei	<R0+2
 31102 06:7EAD: D4 01        	pei	<R0
 31103 06:7EAF: 18           	clc
 31104 06:7EB0: A9 00 00     	lda	#$0
 31105 06:7EB3: 65 19        	adc	<L1343+pixelLocationD_1
 31106 06:7EB5: 85 05        	sta	<R1
 31107 06:7EB7: A9 B0 00     	lda	#$b0
 31108 06:7EBA: 65 1B        	adc	<L1343+pixelLocationD_1+2
  Mon Sep 27 2021  9:39                                                Page 571


 31109 06:7EBC: 85 07        	sta	<R1+2
 31110 06:7EBE: D4 07        	pei	<R1+2
 31111 06:7EC0: D4 05        	pei	<R1
 31112 06:7EC2: 22 xx xx xx  	jsl	~~memcpy
 31113                        ;
 31114                        ;		dd++;
 31115                        	.line	5512
 31116 06:7EC6: E6 0D        	inc	<L1343+dd_1
 31117 06:7EC8: D0 02        	bne	L1355
 31118 06:7ECA: E6 0F        	inc	<L1343+dd_1+2
 31119                        L1355:
 31120                        ;	}
 31121                        	.line	5513
 31122                        L10565:
 31123 06:7ECC: E6 09        	inc	<L1343+dy_1
 31124 06:7ECE: D0 02        	bne	L1356
 31125 06:7ED0: E6 0B        	inc	<L1343+dy_1+2
 31126                        L1356:
 31127                        L10568:
 31128 06:7ED2: 18           	clc
 31129 06:7ED3: A5 26        	lda	<L1342+y0_0
 31130 06:7ED5: 65 2A        	adc	<L1342+height_0
 31131 06:7ED7: 85 01        	sta	<R0
 31132 06:7ED9: A0 00 00     	ldy	#$0
 31133 06:7EDC: A5 01        	lda	<R0
 31134 06:7EDE: 10 01        	bpl	L1357
 31135 06:7EE0: 88           	dey
 31136                        L1357:
 31137 06:7EE1: 85 01        	sta	<R0
 31138 06:7EE3: 84 03        	sty	<R0+2
 31139 06:7EE5: 38           	sec
 31140 06:7EE6: A5 09        	lda	<L1343+dy_1
 31141 06:7EE8: E5 01        	sbc	<R0
 31142 06:7EEA: A5 0B        	lda	<L1343+dy_1+2
 31143 06:7EEC: E5 03        	sbc	<R0+2
 31144 06:7EEE: 70 03        	bvs	L1358
 31145 06:7EF0: 49 00 80     	eor	#$8000
 31146                        L1358:
 31147 06:7EF3: 30 03        	bmi	L1359
 31148 06:7EF5: 82 4C FF     	brl	L10567
 31149                        L1359:
 31150                        L10566:
 31151                        ;
 31152                        ;}
 31153                        	.line	5515
 31154                        L1360:
 31155 06:7EF8: A5 22        	lda	<L1342+2
 31156 06:7EFA: 85 2E        	sta	<L1342+2+12
 31157 06:7EFC: A5 21        	lda	<L1342+1
 31158 06:7EFE: 85 2D        	sta	<L1342+1+12
 31159 06:7F00: 2B           	pld
 31160 06:7F01: 3B           	tsc
 31161 06:7F02: 18           	clc
 31162 06:7F03: 69 2C 00     	adc	#L1342+12
 31163 06:7F06: 1B           	tcs
 31164 06:7F07: 6B           	rtl
 31165                        	.endblock	5515
 31166             00000020   L1342	equ	32
  Mon Sep 27 2021  9:39                                                Page 572


 31167             00000009   L1343	equ	9
 31168 06:7F08:              	ends
 31169                        	efunc
 31170                        	.endfunc	5515,9,32
 31171                        	.line	5515
 31172                        	data
 31173                        L1299:
 31174 00:0BD0: 70 69 78 65  	db	$70,$69,$78,$65,$6C,$4C,$6F,$63,$61,$74,
                    $69,$6F,$6E,$30,$3A
       00:0BD4: 6C 4C 6F 63 
       00:0BD8: 61 74 69 6F 
       00:0BDC: 6E 30 3A 
 31175 00:0BDF: 00 70 69 78  	db	$00,$70,$69,$78,$65,$6C,$4C,$6F,$63,$61,
                    $74,$69,$6F,$6E,$31
       00:0BE3: 65 6C 4C 6F 
       00:0BE7: 63 61 74 69 
       00:0BEB: 6F 6E 31 
 31176 00:0BEE: 3A 00 70 69  	db	$3A,$00,$70,$69,$78,$65,$6C,$4C,$6F,$63,
                    $61,$74,$69,$6F,$6E
       00:0BF2: 78 65 6C 4C 
       00:0BF6: 6F 63 61 74 
       00:0BFA: 69 6F 6E 
 31177 00:0BFD: 44 3A 00 64  	db	$44,$3A,$00,$64,$69,$66,$66,$65,$72,$65,
                    $6E,$63,$65,$3A,$00
       00:0C01: 69 66 66 65 
       00:0C05: 72 65 6E 63 
       00:0C09: 65 3A 00 
 31178 00:0C0C:              	ends
 31179                        ;
 31180                        ;void k_memory_bitblt(LPCHAR srcBank,int x0, int y
                    0, int width, int height,LPCHAR destBank, int x1, int y1, in
                    t direction)
 31181                        ;{
 31182                        	.line	5517
 31183                        	.line	5518
 31184                        	GFX
 31185                        	xdef	~~k_memory_bitblt
 31186                        	func
 31187                        	.function	5518
 31188                        ~~k_memory_bitblt:
 31189                        	longa	on
 31190                        	longi	on
 31191 06:7F08: 3B           	tsc
 31192 06:7F09: 38           	sec
 31193 06:7F0A: E9 20 00     	sbc	#L1362
 31194 06:7F0D: 1B           	tcs
 31195 06:7F0E: 0B           	phd
 31196 06:7F0F: 5B           	tcd
 31197             00000004   srcBank_0	set	4
 31198             00000008   x0_0	set	8
 31199             0000000A   y0_0	set	10
 31200             0000000C   width_0	set	12
 31201             0000000E   height_0	set	14
 31202             00000010   destBank_0	set	16
 31203             00000014   x1_0	set	20
 31204             00000016   y1_0	set	22
 31205             00000018   direction_0	set	24
 31206                        	.block	5518
  Mon Sep 27 2021  9:39                                                Page 573


 31207                        ;	long dy = 0L;
 31208                        ;	long dd = y1;
 31209                        ;	long pixelLocation0 = (long)(((long)y0 * 640L) +
                     (long)x0);
 31210                        ;	long pixelLocation1 = (long)(((long)y0 * 640L) +
                     (long)(x0 + width ));
 31211                        ;	long pixelLocationD = (long)(((long)y1 * 640L) +
                     (long)(x1));
 31212                        ;
 31213                        ;	long difference = pixelLocation1 - pixelLocation
                    0;
 31214                        ;
 31215                        ;	k_debug_long("pixelLocation0:",pixelLocation0);
 31216             00000000   dy_1	set	0
 31217             00000004   dd_1	set	4
 31218             00000008   pixelLocation0_1	set	8
 31219             0000000C   pixelLocation1_1	set	12
 31220             00000010   pixelLocationD_1	set	16
 31221             00000014   difference_1	set	20
 31222                        	.sym	dy,0,7,1,32
 31223                        	.sym	dd,4,7,1,32
 31224                        	.sym	pixelLocation0,8,7,1,32
 31225                        	.sym	pixelLocation1,12,7,1,32
 31226                        	.sym	pixelLocationD,16,7,1,32
 31227                        	.sym	difference,20,7,1,32
 31228                        	.sym	srcBank,4,142,6,32
 31229                        	.sym	x0,8,5,6,16
 31230                        	.sym	y0,10,5,6,16
 31231                        	.sym	width,12,5,6,16
 31232                        	.sym	height,14,5,6,16
 31233                        	.sym	destBank,16,142,6,32
 31234                        	.sym	x1,20,5,6,16
 31235                        	.sym	y1,22,5,6,16
 31236                        	.sym	direction,24,5,6,16
 31237 06:7F10: 64 09        	stz	<L1363+dy_1
 31238 06:7F12: 64 0B        	stz	<L1363+dy_1+2
 31239 06:7F14: A0 00 00     	ldy	#$0
 31240 06:7F17: A5 36        	lda	<L1362+y1_0
 31241 06:7F19: 10 01        	bpl	L1365
 31242 06:7F1B: 88           	dey
 31243                        L1365:
 31244 06:7F1C: 85 0D        	sta	<L1363+dd_1
 31245 06:7F1E: 84 0F        	sty	<L1363+dd_1+2
 31246 06:7F20: A0 00 00     	ldy	#$0
 31247 06:7F23: A5 28        	lda	<L1362+x0_0
 31248 06:7F25: 10 01        	bpl	L1366
 31249 06:7F27: 88           	dey
 31250                        L1366:
 31251 06:7F28: 85 01        	sta	<R0
 31252 06:7F2A: 84 03        	sty	<R0+2
 31253 06:7F2C: A0 00 00     	ldy	#$0
 31254 06:7F2F: A5 2A        	lda	<L1362+y0_0
 31255 06:7F31: 10 01        	bpl	L1367
 31256 06:7F33: 88           	dey
 31257                        L1367:
 31258 06:7F34: 85 05        	sta	<R1
 31259 06:7F36: 84 07        	sty	<R1+2
 31260 06:7F38: F4 00 00     	pea	#^$280
  Mon Sep 27 2021  9:39                                                Page 574


 31261 06:7F3B: F4 80 02     	pea	#<$280
 31262 06:7F3E: D4 07        	pei	<R1+2
 31263 06:7F40: D4 05        	pei	<R1
 31264                        	xref	~~~lmul
 31265 06:7F42: 22 xx xx xx  	jsl	~~~lmul
 31266 06:7F46: 85 05        	sta	<R1
 31267 06:7F48: 86 07        	stx	<R1+2
 31268 06:7F4A: 18           	clc
 31269 06:7F4B: A5 05        	lda	<R1
 31270 06:7F4D: 65 01        	adc	<R0
 31271 06:7F4F: 85 11        	sta	<L1363+pixelLocation0_1
 31272 06:7F51: A5 07        	lda	<R1+2
 31273 06:7F53: 65 03        	adc	<R0+2
 31274 06:7F55: 85 13        	sta	<L1363+pixelLocation0_1+2
 31275 06:7F57: 18           	clc
 31276 06:7F58: A5 28        	lda	<L1362+x0_0
 31277 06:7F5A: 65 2C        	adc	<L1362+width_0
 31278 06:7F5C: 85 01        	sta	<R0
 31279 06:7F5E: A0 00 00     	ldy	#$0
 31280 06:7F61: A5 01        	lda	<R0
 31281 06:7F63: 10 01        	bpl	L1368
 31282 06:7F65: 88           	dey
 31283                        L1368:
 31284 06:7F66: 85 01        	sta	<R0
 31285 06:7F68: 84 03        	sty	<R0+2
 31286 06:7F6A: A0 00 00     	ldy	#$0
 31287 06:7F6D: A5 2A        	lda	<L1362+y0_0
 31288 06:7F6F: 10 01        	bpl	L1369
 31289 06:7F71: 88           	dey
 31290                        L1369:
 31291 06:7F72: 85 05        	sta	<R1
 31292 06:7F74: 84 07        	sty	<R1+2
 31293 06:7F76: F4 00 00     	pea	#^$280
 31294 06:7F79: F4 80 02     	pea	#<$280
 31295 06:7F7C: D4 07        	pei	<R1+2
 31296 06:7F7E: D4 05        	pei	<R1
 31297                        	xref	~~~lmul
 31298 06:7F80: 22 xx xx xx  	jsl	~~~lmul
 31299 06:7F84: 85 05        	sta	<R1
 31300 06:7F86: 86 07        	stx	<R1+2
 31301 06:7F88: 18           	clc
 31302 06:7F89: A5 05        	lda	<R1
 31303 06:7F8B: 65 01        	adc	<R0
 31304 06:7F8D: 85 15        	sta	<L1363+pixelLocation1_1
 31305 06:7F8F: A5 07        	lda	<R1+2
 31306 06:7F91: 65 03        	adc	<R0+2
 31307 06:7F93: 85 17        	sta	<L1363+pixelLocation1_1+2
 31308 06:7F95: A0 00 00     	ldy	#$0
 31309 06:7F98: A5 34        	lda	<L1362+x1_0
 31310 06:7F9A: 10 01        	bpl	L1370
 31311 06:7F9C: 88           	dey
 31312                        L1370:
 31313 06:7F9D: 85 01        	sta	<R0
 31314 06:7F9F: 84 03        	sty	<R0+2
 31315 06:7FA1: A0 00 00     	ldy	#$0
 31316 06:7FA4: A5 36        	lda	<L1362+y1_0
 31317 06:7FA6: 10 01        	bpl	L1371
 31318 06:7FA8: 88           	dey
  Mon Sep 27 2021  9:39                                                Page 575


 31319                        L1371:
 31320 06:7FA9: 85 05        	sta	<R1
 31321 06:7FAB: 84 07        	sty	<R1+2
 31322 06:7FAD: F4 00 00     	pea	#^$280
 31323 06:7FB0: F4 80 02     	pea	#<$280
 31324 06:7FB3: D4 07        	pei	<R1+2
 31325 06:7FB5: D4 05        	pei	<R1
 31326                        	xref	~~~lmul
 31327 06:7FB7: 22 xx xx xx  	jsl	~~~lmul
 31328 06:7FBB: 85 05        	sta	<R1
 31329 06:7FBD: 86 07        	stx	<R1+2
 31330 06:7FBF: 18           	clc
 31331 06:7FC0: A5 05        	lda	<R1
 31332 06:7FC2: 65 01        	adc	<R0
 31333 06:7FC4: 85 19        	sta	<L1363+pixelLocationD_1
 31334 06:7FC6: A5 07        	lda	<R1+2
 31335 06:7FC8: 65 03        	adc	<R0+2
 31336 06:7FCA: 85 1B        	sta	<L1363+pixelLocationD_1+2
 31337 06:7FCC: 38           	sec
 31338 06:7FCD: A5 15        	lda	<L1363+pixelLocation1_1
 31339 06:7FCF: E5 11        	sbc	<L1363+pixelLocation0_1
 31340 06:7FD1: 85 1D        	sta	<L1363+difference_1
 31341 06:7FD3: A5 17        	lda	<L1363+pixelLocation1_1+2
 31342 06:7FD5: E5 13        	sbc	<L1363+pixelLocation0_1+2
 31343 06:7FD7: 85 1F        	sta	<L1363+difference_1+2
 31344                        	.line	5527
 31345 06:7FD9: D4 13        	pei	<L1363+pixelLocation0_1+2
 31346 06:7FDB: D4 11        	pei	<L1363+pixelLocation0_1
 31347 06:7FDD: F4 xx xx     	pea	#^L1361
 31348 06:7FE0: F4 xx xx     	pea	#<L1361
 31349 06:7FE3: 22 xx xx xx  	jsl	~~k_debug_long
 31350                        ;	k_debug_long("pixelLocation1:",pixelLocation1);
 31351                        	.line	5528
 31352 06:7FE7: D4 17        	pei	<L1363+pixelLocation1_1+2
 31353 06:7FE9: D4 15        	pei	<L1363+pixelLocation1_1
 31354 06:7FEB: F4 xx xx     	pea	#^L1361+16
 31355 06:7FEE: F4 xx xx     	pea	#<L1361+16
 31356 06:7FF1: 22 xx xx xx  	jsl	~~k_debug_long
 31357                        ;	k_debug_long("pixelLocationD:",pixelLocationD);
 31358                        	.line	5529
 31359 06:7FF5: D4 1B        	pei	<L1363+pixelLocationD_1+2
 31360 06:7FF7: D4 19        	pei	<L1363+pixelLocationD_1
 31361 06:7FF9: F4 xx xx     	pea	#^L1361+32
 31362 06:7FFC: F4 xx xx     	pea	#<L1361+32
 31363 06:7FFF: 22 xx xx xx  	jsl	~~k_debug_long
 31364                        ;	k_debug_long("difference:",difference);
 31365                        	.line	5530
 31366 06:8003: D4 1F        	pei	<L1363+difference_1+2
 31367 06:8005: D4 1D        	pei	<L1363+difference_1
 31368 06:8007: F4 xx xx     	pea	#^L1361+48
 31369 06:800A: F4 xx xx     	pea	#<L1361+48
 31370 06:800D: 22 xx xx xx  	jsl	~~k_debug_long
 31371                        ;
 31372                        ;	if(direction == BLT_DIR_TOPDOWN)
 31373                        	.line	5532
 31374                        ;	{
 31375 06:8011: A5 38        	lda	<L1362+direction_0
 31376 06:8013: C9 01 00     	cmp	#<$1
  Mon Sep 27 2021  9:39                                                Page 576


 31377 06:8016: F0 03        	beq	L1372
 31378 06:8018: 82 C2 00     	brl	L10569
 31379                        L1372:
 31380                        	.line	5533
 31381                        ;		for(dy = y0;dy<(y0 + height);dy++)
 31382                        	.line	5534
 31383 06:801B: A0 00 00     	ldy	#$0
 31384 06:801E: A5 2A        	lda	<L1362+y0_0
 31385 06:8020: 10 01        	bpl	L1373
 31386 06:8022: 88           	dey
 31387                        L1373:
 31388 06:8023: 85 09        	sta	<L1363+dy_1
 31389 06:8025: 84 0B        	sty	<L1363+dy_1+2
 31390 06:8027: 82 8A 00     	brl	L10573
 31391                        L10572:
 31392                        ;		{
 31393                        	.line	5535
 31394                        ;			pixelLocation0 = (long)(((long)d
                    y * 640L) + (long)x0);
 31395                        	.line	5536
 31396 06:802A: A0 00 00     	ldy	#$0
 31397 06:802D: A5 28        	lda	<L1362+x0_0
 31398 06:802F: 10 01        	bpl	L1374
 31399 06:8031: 88           	dey
 31400                        L1374:
 31401 06:8032: 85 01        	sta	<R0
 31402 06:8034: 84 03        	sty	<R0+2
 31403 06:8036: F4 00 00     	pea	#^$280
 31404 06:8039: F4 80 02     	pea	#<$280
 31405 06:803C: D4 0B        	pei	<L1363+dy_1+2
 31406 06:803E: D4 09        	pei	<L1363+dy_1
 31407                        	xref	~~~lmul
 31408 06:8040: 22 xx xx xx  	jsl	~~~lmul
 31409 06:8044: 85 05        	sta	<R1
 31410 06:8046: 86 07        	stx	<R1+2
 31411 06:8048: 18           	clc
 31412 06:8049: A5 05        	lda	<R1
 31413 06:804B: 65 01        	adc	<R0
 31414 06:804D: 85 11        	sta	<L1363+pixelLocation0_1
 31415 06:804F: A5 07        	lda	<R1+2
 31416 06:8051: 65 03        	adc	<R0+2
 31417 06:8053: 85 13        	sta	<L1363+pixelLocation0_1+2
 31418                        ;			pixelLocationD = (long)(((long)d
                    d * 640L) + (long)(x1));
 31419                        	.line	5537
 31420 06:8055: A0 00 00     	ldy	#$0
 31421 06:8058: A5 34        	lda	<L1362+x1_0
 31422 06:805A: 10 01        	bpl	L1375
 31423 06:805C: 88           	dey
 31424                        L1375:
 31425 06:805D: 85 01        	sta	<R0
 31426 06:805F: 84 03        	sty	<R0+2
 31427 06:8061: F4 00 00     	pea	#^$280
 31428 06:8064: F4 80 02     	pea	#<$280
 31429 06:8067: D4 0F        	pei	<L1363+dd_1+2
 31430 06:8069: D4 0D        	pei	<L1363+dd_1
 31431                        	xref	~~~lmul
 31432 06:806B: 22 xx xx xx  	jsl	~~~lmul
  Mon Sep 27 2021  9:39                                                Page 577


 31433 06:806F: 85 05        	sta	<R1
 31434 06:8071: 86 07        	stx	<R1+2
 31435 06:8073: 18           	clc
 31436 06:8074: A5 05        	lda	<R1
 31437 06:8076: 65 01        	adc	<R0
 31438 06:8078: 85 19        	sta	<L1363+pixelLocationD_1
 31439 06:807A: A5 07        	lda	<R1+2
 31440 06:807C: 65 03        	adc	<R0+2
 31441 06:807E: 85 1B        	sta	<L1363+pixelLocationD_1+2
 31442                        ;			memcpy(   &(((unsigned char FAR 
                    *)destBank)[pixelLocationD])  , &(((unsigned char FAR *)srcB
                    ank)[pixelLocation0]), difference) ;
 31443                        	.line	5538
 31444 06:8080: D4 1D        	pei	<L1363+difference_1
 31445 06:8082: 18           	clc
 31446 06:8083: A5 24        	lda	<L1362+srcBank_0
 31447 06:8085: 65 11        	adc	<L1363+pixelLocation0_1
 31448 06:8087: 85 01        	sta	<R0
 31449 06:8089: A5 26        	lda	<L1362+srcBank_0+2
 31450 06:808B: 65 13        	adc	<L1363+pixelLocation0_1+2
 31451 06:808D: 85 03        	sta	<R0+2
 31452 06:808F: D4 03        	pei	<R0+2
 31453 06:8091: D4 01        	pei	<R0
 31454 06:8093: 18           	clc
 31455 06:8094: A5 30        	lda	<L1362+destBank_0
 31456 06:8096: 65 19        	adc	<L1363+pixelLocationD_1
 31457 06:8098: 85 05        	sta	<R1
 31458 06:809A: A5 32        	lda	<L1362+destBank_0+2
 31459 06:809C: 65 1B        	adc	<L1363+pixelLocationD_1+2
 31460 06:809E: 85 07        	sta	<R1+2
 31461 06:80A0: D4 07        	pei	<R1+2
 31462 06:80A2: D4 05        	pei	<R1
 31463 06:80A4: 22 xx xx xx  	jsl	~~memcpy
 31464                        ;
 31465                        ;			dd++;
 31466                        	.line	5540
 31467 06:80A8: E6 0D        	inc	<L1363+dd_1
 31468 06:80AA: D0 02        	bne	L1376
 31469 06:80AC: E6 0F        	inc	<L1363+dd_1+2
 31470                        L1376:
 31471                        ;		}
 31472                        	.line	5541
 31473                        L10570:
 31474 06:80AE: E6 09        	inc	<L1363+dy_1
 31475 06:80B0: D0 02        	bne	L1377
 31476 06:80B2: E6 0B        	inc	<L1363+dy_1+2
 31477                        L1377:
 31478                        L10573:
 31479 06:80B4: 18           	clc
 31480 06:80B5: A5 2A        	lda	<L1362+y0_0
 31481 06:80B7: 65 2E        	adc	<L1362+height_0
 31482 06:80B9: 85 01        	sta	<R0
 31483 06:80BB: A0 00 00     	ldy	#$0
 31484 06:80BE: A5 01        	lda	<R0
 31485 06:80C0: 10 01        	bpl	L1378
 31486 06:80C2: 88           	dey
 31487                        L1378:
 31488 06:80C3: 85 01        	sta	<R0
  Mon Sep 27 2021  9:39                                                Page 578


 31489 06:80C5: 84 03        	sty	<R0+2
 31490 06:80C7: 38           	sec
 31491 06:80C8: A5 09        	lda	<L1363+dy_1
 31492 06:80CA: E5 01        	sbc	<R0
 31493 06:80CC: A5 0B        	lda	<L1363+dy_1+2
 31494 06:80CE: E5 03        	sbc	<R0+2
 31495 06:80D0: 70 03        	bvs	L1379
 31496 06:80D2: 49 00 80     	eor	#$8000
 31497                        L1379:
 31498 06:80D5: 30 03        	bmi	L1380
 31499 06:80D7: 82 50 FF     	brl	L10572
 31500                        L1380:
 31501                        L10571:
 31502                        ;	}
 31503                        	.line	5542
 31504                        ;	else
 31505 06:80DA: 82 D6 00     	brl	L10574
 31506                        L10569:
 31507                        ;	{
 31508                        	.line	5544
 31509                        ;		dd = y1 + height;
 31510                        	.line	5545
 31511 06:80DD: 18           	clc
 31512 06:80DE: A5 36        	lda	<L1362+y1_0
 31513 06:80E0: 65 2E        	adc	<L1362+height_0
 31514 06:80E2: 85 01        	sta	<R0
 31515 06:80E4: A0 00 00     	ldy	#$0
 31516 06:80E7: A5 01        	lda	<R0
 31517 06:80E9: 10 01        	bpl	L1381
 31518 06:80EB: 88           	dey
 31519                        L1381:
 31520 06:80EC: 85 0D        	sta	<L1363+dd_1
 31521 06:80EE: 84 0F        	sty	<L1363+dd_1+2
 31522                        ;		//for(dy = y0;dy<(y0 + height);dy++)
 31523                        ;		for(dy = (y0 + height);dy>y0;dy--)
 31524                        	.line	5547
 31525 06:80F0: 18           	clc
 31526 06:80F1: A5 2A        	lda	<L1362+y0_0
 31527 06:80F3: 65 2E        	adc	<L1362+height_0
 31528 06:80F5: 85 01        	sta	<R0
 31529 06:80F7: A0 00 00     	ldy	#$0
 31530 06:80FA: A5 01        	lda	<R0
 31531 06:80FC: 10 01        	bpl	L1382
 31532 06:80FE: 88           	dey
 31533                        L1382:
 31534 06:80FF: 85 09        	sta	<L1363+dy_1
 31535 06:8101: 84 0B        	sty	<L1363+dy_1+2
 31536 06:8103: 82 8E 00     	brl	L10578
 31537                        L10577:
 31538                        ;		{
 31539                        	.line	5548
 31540                        ;			pixelLocation0 = (long)(((long)d
                    y * 640L) + (long)x0);
 31541                        	.line	5549
 31542 06:8106: A0 00 00     	ldy	#$0
 31543 06:8109: A5 28        	lda	<L1362+x0_0
 31544 06:810B: 10 01        	bpl	L1383
 31545 06:810D: 88           	dey
  Mon Sep 27 2021  9:39                                                Page 579


 31546                        L1383:
 31547 06:810E: 85 01        	sta	<R0
 31548 06:8110: 84 03        	sty	<R0+2
 31549 06:8112: F4 00 00     	pea	#^$280
 31550 06:8115: F4 80 02     	pea	#<$280
 31551 06:8118: D4 0B        	pei	<L1363+dy_1+2
 31552 06:811A: D4 09        	pei	<L1363+dy_1
 31553                        	xref	~~~lmul
 31554 06:811C: 22 xx xx xx  	jsl	~~~lmul
 31555 06:8120: 85 05        	sta	<R1
 31556 06:8122: 86 07        	stx	<R1+2
 31557 06:8124: 18           	clc
 31558 06:8125: A5 05        	lda	<R1
 31559 06:8127: 65 01        	adc	<R0
 31560 06:8129: 85 11        	sta	<L1363+pixelLocation0_1
 31561 06:812B: A5 07        	lda	<R1+2
 31562 06:812D: 65 03        	adc	<R0+2
 31563 06:812F: 85 13        	sta	<L1363+pixelLocation0_1+2
 31564                        ;			pixelLocationD = (long)(((long)d
                    d * 640L) + (long)(x1));
 31565                        	.line	5550
 31566 06:8131: A0 00 00     	ldy	#$0
 31567 06:8134: A5 34        	lda	<L1362+x1_0
 31568 06:8136: 10 01        	bpl	L1384
 31569 06:8138: 88           	dey
 31570                        L1384:
 31571 06:8139: 85 01        	sta	<R0
 31572 06:813B: 84 03        	sty	<R0+2
 31573 06:813D: F4 00 00     	pea	#^$280
 31574 06:8140: F4 80 02     	pea	#<$280
 31575 06:8143: D4 0F        	pei	<L1363+dd_1+2
 31576 06:8145: D4 0D        	pei	<L1363+dd_1
 31577                        	xref	~~~lmul
 31578 06:8147: 22 xx xx xx  	jsl	~~~lmul
 31579 06:814B: 85 05        	sta	<R1
 31580 06:814D: 86 07        	stx	<R1+2
 31581 06:814F: 18           	clc
 31582 06:8150: A5 05        	lda	<R1
 31583 06:8152: 65 01        	adc	<R0
 31584 06:8154: 85 19        	sta	<L1363+pixelLocationD_1
 31585 06:8156: A5 07        	lda	<R1+2
 31586 06:8158: 65 03        	adc	<R0+2
 31587 06:815A: 85 1B        	sta	<L1363+pixelLocationD_1+2
 31588                        ;			memcpy(   &(((unsigned char FAR 
                    *)destBank)[pixelLocationD])  , &(((unsigned char FAR *)srcB
                    ank)[pixelLocation0]), difference) ;
 31589                        	.line	5551
 31590 06:815C: D4 1D        	pei	<L1363+difference_1
 31591 06:815E: 18           	clc
 31592 06:815F: A5 24        	lda	<L1362+srcBank_0
 31593 06:8161: 65 11        	adc	<L1363+pixelLocation0_1
 31594 06:8163: 85 01        	sta	<R0
 31595 06:8165: A5 26        	lda	<L1362+srcBank_0+2
 31596 06:8167: 65 13        	adc	<L1363+pixelLocation0_1+2
 31597 06:8169: 85 03        	sta	<R0+2
 31598 06:816B: D4 03        	pei	<R0+2
 31599 06:816D: D4 01        	pei	<R0
 31600 06:816F: 18           	clc
  Mon Sep 27 2021  9:39                                                Page 580


 31601 06:8170: A5 30        	lda	<L1362+destBank_0
 31602 06:8172: 65 19        	adc	<L1363+pixelLocationD_1
 31603 06:8174: 85 05        	sta	<R1
 31604 06:8176: A5 32        	lda	<L1362+destBank_0+2
 31605 06:8178: 65 1B        	adc	<L1363+pixelLocationD_1+2
 31606 06:817A: 85 07        	sta	<R1+2
 31607 06:817C: D4 07        	pei	<R1+2
 31608 06:817E: D4 05        	pei	<R1
 31609 06:8180: 22 xx xx xx  	jsl	~~memcpy
 31610                        ;
 31611                        ;			dd--;
 31612                        	.line	5553
 31613 06:8184: A5 0D        	lda	<L1363+dd_1
 31614 06:8186: D0 02        	bne	L1385
 31615 06:8188: C6 0F        	dec	<L1363+dd_1+2
 31616                        L1385:
 31617 06:818A: C6 0D        	dec	<L1363+dd_1
 31618                        ;		}
 31619                        	.line	5554
 31620                        L10575:
 31621 06:818C: A5 09        	lda	<L1363+dy_1
 31622 06:818E: D0 02        	bne	L1386
 31623 06:8190: C6 0B        	dec	<L1363+dy_1+2
 31624                        L1386:
 31625 06:8192: C6 09        	dec	<L1363+dy_1
 31626                        L10578:
 31627 06:8194: A0 00 00     	ldy	#$0
 31628 06:8197: A5 2A        	lda	<L1362+y0_0
 31629 06:8199: 10 01        	bpl	L1387
 31630 06:819B: 88           	dey
 31631                        L1387:
 31632 06:819C: 85 01        	sta	<R0
 31633 06:819E: 84 03        	sty	<R0+2
 31634 06:81A0: 38           	sec
 31635 06:81A1: A5 01        	lda	<R0
 31636 06:81A3: E5 09        	sbc	<L1363+dy_1
 31637 06:81A5: A5 03        	lda	<R0+2
 31638 06:81A7: E5 0B        	sbc	<L1363+dy_1+2
 31639 06:81A9: 70 03        	bvs	L1388
 31640 06:81AB: 49 00 80     	eor	#$8000
 31641                        L1388:
 31642 06:81AE: 30 03        	bmi	L1389
 31643 06:81B0: 82 53 FF     	brl	L10577
 31644                        L1389:
 31645                        L10576:
 31646                        ;
 31647                        ;	}
 31648                        	.line	5556
 31649                        L10574:
 31650                        ;
 31651                        ;}
 31652                        	.line	5558
 31653                        L1390:
 31654 06:81B3: A5 22        	lda	<L1362+2
 31655 06:81B5: 85 38        	sta	<L1362+2+22
 31656 06:81B7: A5 21        	lda	<L1362+1
 31657 06:81B9: 85 37        	sta	<L1362+1+22
 31658 06:81BB: 2B           	pld
  Mon Sep 27 2021  9:39                                                Page 581


 31659 06:81BC: 3B           	tsc
 31660 06:81BD: 18           	clc
 31661 06:81BE: 69 36 00     	adc	#L1362+22
 31662 06:81C1: 1B           	tcs
 31663 06:81C2: 6B           	rtl
 31664                        	.endblock	5558
 31665             00000020   L1362	equ	32
 31666             00000009   L1363	equ	9
 31667 06:81C3:              	ends
 31668                        	efunc
 31669                        	.endfunc	5558,9,32
 31670                        	.line	5558
 31671                        	data
 31672                        L1361:
 31673 00:0C0C: 70 69 78 65  	db	$70,$69,$78,$65,$6C,$4C,$6F,$63,$61,$74,
                    $69,$6F,$6E,$30,$3A
       00:0C10: 6C 4C 6F 63 
       00:0C14: 61 74 69 6F 
       00:0C18: 6E 30 3A 
 31674 00:0C1B: 00 70 69 78  	db	$00,$70,$69,$78,$65,$6C,$4C,$6F,$63,$61,
                    $74,$69,$6F,$6E,$31
       00:0C1F: 65 6C 4C 6F 
       00:0C23: 63 61 74 69 
       00:0C27: 6F 6E 31 
 31675 00:0C2A: 3A 00 70 69  	db	$3A,$00,$70,$69,$78,$65,$6C,$4C,$6F,$63,
                    $61,$74,$69,$6F,$6E
       00:0C2E: 78 65 6C 4C 
       00:0C32: 6F 63 61 74 
       00:0C36: 69 6F 6E 
 31676 00:0C39: 44 3A 00 64  	db	$44,$3A,$00,$64,$69,$66,$66,$65,$72,$65,
                    $6E,$63,$65,$3A,$00
       00:0C3D: 69 66 66 65 
       00:0C41: 72 65 6E 63 
       00:0C45: 65 3A 00 
 31677 00:0C48:              	ends
 31678                        ;
 31679                        ;
 31680                        ;void k_shadow_fill_rect_address(LPCHAR bank,int x
                    0, int y0, int width, int height, UCHAR color)
 31681                        ;{
 31682                        	.line	5561
 31683                        	.line	5562
 31684                        	GFX
 31685                        	xdef	~~k_shadow_fill_rect_address
 31686                        	func
 31687                        	.function	5562
 31688                        ~~k_shadow_fill_rect_address:
 31689                        	longa	on
 31690                        	longi	on
 31691 06:81C3: 3B           	tsc
 31692 06:81C4: 38           	sec
 31693 06:81C5: E9 2C 00     	sbc	#L1392
 31694 06:81C8: 1B           	tcs
 31695 06:81C9: 0B           	phd
 31696 06:81CA: 5B           	tcd
 31697             00000004   bank_0	set	4
 31698             00000008   x0_0	set	8
 31699             0000000A   y0_0	set	10
  Mon Sep 27 2021  9:39                                                Page 582


 31700             0000000C   width_0	set	12
 31701             0000000E   height_0	set	14
 31702             00000010   color_0	set	16
 31703                        	.block	5562
 31704                        ;	LPCHAR ptr = NULL;
 31705                        ;	ULONG dx = 0L;
 31706                        ;	long dy = 0L;
 31707                        ;	long pixelLocation0 = 0L;
 31708                        ;	long pixelLocation1 = 0L;
 31709                        ;	long difference     = 0L;
 31710                        ;	long fIndex = 0;
 31711                        ;	long offset = 0L;
 31712                        ;
 31713                        ;	if(width > 640)
 31714             00000000   ptr_1	set	0
 31715             00000004   dx_1	set	4
 31716             00000008   dy_1	set	8
 31717             0000000C   pixelLocation0_1	set	12
 31718             00000010   pixelLocation1_1	set	16
 31719             00000014   difference_1	set	20
 31720             00000018   fIndex_1	set	24
 31721             0000001C   offset_1	set	28
 31722                        	.sym	ptr,0,142,1,32
 31723                        	.sym	dx,4,18,1,32
 31724                        	.sym	dy,8,7,1,32
 31725                        	.sym	pixelLocation0,12,7,1,32
 31726                        	.sym	pixelLocation1,16,7,1,32
 31727                        	.sym	difference,20,7,1,32
 31728                        	.sym	fIndex,24,7,1,32
 31729                        	.sym	offset,28,7,1,32
 31730                        	.sym	bank,4,142,6,32
 31731                        	.sym	x0,8,5,6,16
 31732                        	.sym	y0,10,5,6,16
 31733                        	.sym	width,12,5,6,16
 31734                        	.sym	height,14,5,6,16
 31735                        	.sym	color,16,14,6,8
 31736 06:81CB: 64 0D        	stz	<L1393+ptr_1
 31737 06:81CD: 64 0F        	stz	<L1393+ptr_1+2
 31738 06:81CF: 64 11        	stz	<L1393+dx_1
 31739 06:81D1: 64 13        	stz	<L1393+dx_1+2
 31740 06:81D3: 64 15        	stz	<L1393+dy_1
 31741 06:81D5: 64 17        	stz	<L1393+dy_1+2
 31742 06:81D7: 64 19        	stz	<L1393+pixelLocation0_1
 31743 06:81D9: 64 1B        	stz	<L1393+pixelLocation0_1+2
 31744 06:81DB: 64 1D        	stz	<L1393+pixelLocation1_1
 31745 06:81DD: 64 1F        	stz	<L1393+pixelLocation1_1+2
 31746 06:81DF: 64 21        	stz	<L1393+difference_1
 31747 06:81E1: 64 23        	stz	<L1393+difference_1+2
 31748 06:81E3: 64 25        	stz	<L1393+fIndex_1
 31749 06:81E5: 64 27        	stz	<L1393+fIndex_1+2
 31750 06:81E7: 64 29        	stz	<L1393+offset_1
 31751 06:81E9: 64 2B        	stz	<L1393+offset_1+2
 31752                        	.line	5572
 31753                        ;		width = 640;
 31754 06:81EB: 38           	sec
 31755 06:81EC: A9 80 02     	lda	#$280
 31756 06:81EF: E5 38        	sbc	<L1392+width_0
 31757 06:81F1: 70 03        	bvs	L1395
  Mon Sep 27 2021  9:39                                                Page 583


 31758 06:81F3: 49 00 80     	eor	#$8000
 31759                        L1395:
 31760 06:81F6: 10 03        	bpl	L1396
 31761 06:81F8: 82 05 00     	brl	L10579
 31762                        L1396:
 31763                        	.line	5573
 31764 06:81FB: A9 80 02     	lda	#$280
 31765 06:81FE: 85 38        	sta	<L1392+width_0
 31766                        ;	if(height > 480)
 31767                        L10579:
 31768                        	.line	5574
 31769                        ;		height = 480;
 31770 06:8200: 38           	sec
 31771 06:8201: A9 E0 01     	lda	#$1e0
 31772 06:8204: E5 3A        	sbc	<L1392+height_0
 31773 06:8206: 70 03        	bvs	L1397
 31774 06:8208: 49 00 80     	eor	#$8000
 31775                        L1397:
 31776 06:820B: 10 03        	bpl	L1398
 31777 06:820D: 82 05 00     	brl	L10580
 31778                        L1398:
 31779                        	.line	5575
 31780 06:8210: A9 E0 01     	lda	#$1e0
 31781 06:8213: 85 3A        	sta	<L1392+height_0
 31782                        ;
 31783                        ;	if(width < 0)
 31784                        L10580:
 31785                        	.line	5577
 31786                        ;		width = 0;
 31787 06:8215: A5 38        	lda	<L1392+width_0
 31788 06:8217: 30 03        	bmi	L1399
 31789 06:8219: 82 02 00     	brl	L10581
 31790                        L1399:
 31791                        	.line	5578
 31792 06:821C: 64 38        	stz	<L1392+width_0
 31793                        ;	if(height < 0)
 31794                        L10581:
 31795                        	.line	5579
 31796                        ;		height = 0;
 31797 06:821E: A5 3A        	lda	<L1392+height_0
 31798 06:8220: 30 03        	bmi	L1400
 31799 06:8222: 82 02 00     	brl	L10582
 31800                        L1400:
 31801                        	.line	5580
 31802 06:8225: 64 3A        	stz	<L1392+height_0
 31803                        ;
 31804                        ;
 31805                        ;	offset = ((long)y0 + (long)height);
 31806                        L10582:
 31807                        	.line	5583
 31808 06:8227: A0 00 00     	ldy	#$0
 31809 06:822A: A5 3A        	lda	<L1392+height_0
 31810 06:822C: 10 01        	bpl	L1401
 31811 06:822E: 88           	dey
 31812                        L1401:
 31813 06:822F: 85 01        	sta	<R0
 31814 06:8231: 84 03        	sty	<R0+2
 31815 06:8233: A0 00 00     	ldy	#$0
  Mon Sep 27 2021  9:39                                                Page 584


 31816 06:8236: A5 36        	lda	<L1392+y0_0
 31817 06:8238: 10 01        	bpl	L1402
 31818 06:823A: 88           	dey
 31819                        L1402:
 31820 06:823B: 85 05        	sta	<R1
 31821 06:823D: 84 07        	sty	<R1+2
 31822 06:823F: 18           	clc
 31823 06:8240: A5 05        	lda	<R1
 31824 06:8242: 65 01        	adc	<R0
 31825 06:8244: 85 29        	sta	<L1393+offset_1
 31826 06:8246: A5 07        	lda	<R1+2
 31827 06:8248: 65 03        	adc	<R0+2
 31828 06:824A: 85 2B        	sta	<L1393+offset_1+2
 31829                        ;
 31830                        ;	//pixelLocation0 = (ULONG)(((ULONG)y0 * 640L) + 
                    (ULONG)x0);
 31831                        ;	//pixelLocation1 = (ULONG)(((ULONG)y0 * 640L) + 
                    (ULONG)(x0 + width ));
 31832                        ;	//difference     = pixelLocation1 - pixelLocatio
                    n0;
 31833                        ;	difference     = width;
 31834                        	.line	5588
 31835 06:824C: A0 00 00     	ldy	#$0
 31836 06:824F: A5 38        	lda	<L1392+width_0
 31837 06:8251: 10 01        	bpl	L1403
 31838 06:8253: 88           	dey
 31839                        L1403:
 31840 06:8254: 85 21        	sta	<L1393+difference_1
 31841 06:8256: 84 23        	sty	<L1393+difference_1+2
 31842                        ;
 31843                        ;	//difference = (long)(x0 + width);
 31844                        ;
 31845                        ;	/*
 31846                        ;	k_debug_long("k_shadow_fill_rect::width:",width)
                    ;
 31847                        ;	k_debug_long("k_shadow_fill_rect::height:",heigh
                    t);
 31848                        ;	k_debug_long("k_shadow_fill_rect::difference:",d
                    ifference);
 31849                        ;	k_debug_long("k_shadow_fill_rect::offset:",offse
                    t);
 31850                        ;	*/
 31851                        ;
 31852                        ;	for(dy = (long)y0;dy<offset;dy++)
 31853                        	.line	5599
 31854 06:8258: A0 00 00     	ldy	#$0
 31855 06:825B: A5 36        	lda	<L1392+y0_0
 31856 06:825D: 10 01        	bpl	L1404
 31857 06:825F: 88           	dey
 31858                        L1404:
 31859 06:8260: 85 15        	sta	<L1393+dy_1
 31860 06:8262: 84 17        	sty	<L1393+dy_1+2
 31861 06:8264: 82 4E 00     	brl	L10586
 31862                        L10585:
 31863                        ;	{
 31864                        	.line	5600
 31865                        ;		//k_debug_long("k_shadow_fill_rect::dy:"
                    ,dy);
  Mon Sep 27 2021  9:39                                                Page 585


 31866                        ;		//for(dx=(long)x0;dx<difference;dx++)
 31867                        ;		//	SHADOW_BANK_0[(dy * 640L) + dx] 
                    = color;
 31868                        ;		//k_debug_long("k_shadow_fill_rect::dx:"
                    ,dx);
 31869                        ;
 31870                        ;		ptr = &( bank[(dy * 640L) + (long)x0] ) 
                    ;
 31871                        	.line	5606
 31872 06:8267: A0 00 00     	ldy	#$0
 31873 06:826A: A5 34        	lda	<L1392+x0_0
 31874 06:826C: 10 01        	bpl	L1405
 31875 06:826E: 88           	dey
 31876                        L1405:
 31877 06:826F: 85 01        	sta	<R0
 31878 06:8271: 84 03        	sty	<R0+2
 31879 06:8273: F4 00 00     	pea	#^$280
 31880 06:8276: F4 80 02     	pea	#<$280
 31881 06:8279: D4 17        	pei	<L1393+dy_1+2
 31882 06:827B: D4 15        	pei	<L1393+dy_1
 31883                        	xref	~~~lmul
 31884 06:827D: 22 xx xx xx  	jsl	~~~lmul
 31885 06:8281: 85 05        	sta	<R1
 31886 06:8283: 86 07        	stx	<R1+2
 31887 06:8285: 18           	clc
 31888 06:8286: A5 05        	lda	<R1
 31889 06:8288: 65 01        	adc	<R0
 31890 06:828A: 85 09        	sta	<R2
 31891 06:828C: A5 07        	lda	<R1+2
 31892 06:828E: 65 03        	adc	<R0+2
 31893 06:8290: 85 0B        	sta	<R2+2
 31894 06:8292: 18           	clc
 31895 06:8293: A5 30        	lda	<L1392+bank_0
 31896 06:8295: 65 09        	adc	<R2
 31897 06:8297: 85 0D        	sta	<L1393+ptr_1
 31898 06:8299: A5 32        	lda	<L1392+bank_0+2
 31899 06:829B: 65 0B        	adc	<R2+2
 31900 06:829D: 85 0F        	sta	<L1393+ptr_1+2
 31901                        ;
 31902                        ;		//k_debug_pointer("k_shadow_fill_rect::p
                    tr:",ptr);
 31903                        ;		//pixelLocation0 = (ULONG)(((ULONG)dy * 
                    640L) + (ULONG)x0);
 31904                        ;		//k_debug_long("k_shadow_fill_rect::pixe
                    lLocation0:",pixelLocation0);
 31905                        ;		memset( ptr, color , difference ) ;
 31906                        	.line	5611
 31907 06:829F: D4 21        	pei	<L1393+difference_1
 31908 06:82A1: A5 3C        	lda	<L1392+color_0
 31909 06:82A3: 29 FF 00     	and	#$ff
 31910 06:82A6: 48           	pha
 31911 06:82A7: D4 0F        	pei	<L1393+ptr_1+2
 31912 06:82A9: D4 0D        	pei	<L1393+ptr_1
 31913 06:82AB: 22 xx xx xx  	jsl	~~memset
 31914                        ;		//for(fIndex=0;fIndex<difference;fIndex+
                    +)
 31915                        ;		//	ptr[fIndex] = color;
 31916                        ;	}
  Mon Sep 27 2021  9:39                                                Page 586


 31917                        	.line	5614
 31918                        L10583:
 31919 06:82AF: E6 15        	inc	<L1393+dy_1
 31920 06:82B1: D0 02        	bne	L1406
 31921 06:82B3: E6 17        	inc	<L1393+dy_1+2
 31922                        L1406:
 31923                        L10586:
 31924 06:82B5: 38           	sec
 31925 06:82B6: A5 15        	lda	<L1393+dy_1
 31926 06:82B8: E5 29        	sbc	<L1393+offset_1
 31927 06:82BA: A5 17        	lda	<L1393+dy_1+2
 31928 06:82BC: E5 2B        	sbc	<L1393+offset_1+2
 31929 06:82BE: 70 03        	bvs	L1407
 31930 06:82C0: 49 00 80     	eor	#$8000
 31931                        L1407:
 31932 06:82C3: 30 03        	bmi	L1408
 31933 06:82C5: 82 9F FF     	brl	L10585
 31934                        L1408:
 31935                        L10584:
 31936                        ;
 31937                        ;}
 31938                        	.line	5616
 31939                        L1409:
 31940 06:82C8: A5 2E        	lda	<L1392+2
 31941 06:82CA: 85 3C        	sta	<L1392+2+14
 31942 06:82CC: A5 2D        	lda	<L1392+1
 31943 06:82CE: 85 3B        	sta	<L1392+1+14
 31944 06:82D0: 2B           	pld
 31945 06:82D1: 3B           	tsc
 31946 06:82D2: 18           	clc
 31947 06:82D3: 69 3A 00     	adc	#L1392+14
 31948 06:82D6: 1B           	tcs
 31949 06:82D7: 6B           	rtl
 31950                        	.endblock	5616
 31951             0000002C   L1392	equ	44
 31952             0000000D   L1393	equ	13
 31953 06:82D8:              	ends
 31954                        	efunc
 31955                        	.endfunc	5616,13,44
 31956                        	.line	5616
 31957                        ;
 31958                        ;void k_shadow_fill_rect(int x0, int y0, int width
                    , int height, UCHAR color)
 31959                        ;{
 31960                        	.line	5618
 31961                        	.line	5619
 31962                        	GFX
 31963                        	xdef	~~k_shadow_fill_rect
 31964                        	func
 31965                        	.function	5619
 31966                        ~~k_shadow_fill_rect:
 31967                        	longa	on
 31968                        	longi	on
 31969 06:82D8: 3B           	tsc
 31970 06:82D9: 38           	sec
 31971 06:82DA: E9 00 00     	sbc	#L1410
 31972 06:82DD: 1B           	tcs
 31973 06:82DE: 0B           	phd
  Mon Sep 27 2021  9:39                                                Page 587


 31974 06:82DF: 5B           	tcd
 31975             00000004   x0_0	set	4
 31976             00000006   y0_0	set	6
 31977             00000008   width_0	set	8
 31978             0000000A   height_0	set	10
 31979             0000000C   color_0	set	12
 31980                        	.block	5619
 31981                        ;	k_shadow_fill_rect_address(SHADOW_BANK_0,x0, y0,
                     width, height, color);
 31982                        	.sym	x0,4,5,6,16
 31983                        	.sym	y0,6,5,6,16
 31984                        	.sym	width,8,5,6,16
 31985                        	.sym	height,10,5,6,16
 31986                        	.sym	color,12,14,6,8
 31987                        	.line	5620
 31988 06:82E0: D4 0C        	pei	<L1410+color_0
 31989 06:82E2: D4 0A        	pei	<L1410+height_0
 31990 06:82E4: D4 08        	pei	<L1410+width_0
 31991 06:82E6: D4 06        	pei	<L1410+y0_0
 31992 06:82E8: D4 04        	pei	<L1410+x0_0
 31993 06:82EA: F4 0A 00     	pea	#^$a0000
 31994 06:82ED: F4 00 00     	pea	#<$a0000
 31995 06:82F0: 22 C3 81 06  	jsl	~~k_shadow_fill_rect_address
 31996                        ;}
 31997                        	.line	5621
 31998                        L1413:
 31999 06:82F4: A5 02        	lda	<L1410+2
 32000 06:82F6: 85 0C        	sta	<L1410+2+10
 32001 06:82F8: A5 01        	lda	<L1410+1
 32002 06:82FA: 85 0B        	sta	<L1410+1+10
 32003 06:82FC: 2B           	pld
 32004 06:82FD: 3B           	tsc
 32005 06:82FE: 18           	clc
 32006 06:82FF: 69 0A 00     	adc	#L1410+10
 32007 06:8302: 1B           	tcs
 32008 06:8303: 6B           	rtl
 32009                        	.endblock	5621
 32010             00000000   L1410	equ	0
 32011             00000001   L1411	equ	1
 32012 06:8304:              	ends
 32013                        	efunc
 32014                        	.endfunc	5621,1,0
 32015                        	.line	5621
 32016                        ;
 32017                        ;/*
 32018                        ;void k_shadow_fill_rect(int x0, int y0, int width
                    , int height, UCHAR color)
 32019                        ;{
 32020                        ;	LPCHAR ptr = NULL;
 32021                        ;	ULONG dx = 0L;
 32022                        ;	long dy = 0L;
 32023                        ;	long pixelLocation0 = 0L;
 32024                        ;	long pixelLocation1 = 0L;
 32025                        ;	long difference     = 0L;
 32026                        ;	long fIndex = 0;
 32027                        ;	long offset = 0L;
 32028                        ;
 32029                        ;	if(width > 640)
  Mon Sep 27 2021  9:39                                                Page 588


 32030                        ;		width = 640;
 32031                        ;	if(height > 480)
 32032                        ;		height = 480;
 32033                        ;
 32034                        ;	if(width < 0)
 32035                        ;		width = 0;
 32036                        ;	if(height < 0)
 32037                        ;		height = 0;
 32038                        ;
 32039                        ;
 32040                        ;	offset = ((long)y0 + (long)height);
 32041                        ;
 32042                        ;	//pixelLocation0 = (ULONG)(((ULONG)y0 * 640L) + 
                    (ULONG)x0);
 32043                        ;	//pixelLocation1 = (ULONG)(((ULONG)y0 * 640L) + 
                    (ULONG)(x0 + width ));
 32044                        ;	//difference     = pixelLocation1 - pixelLocatio
                    n0;
 32045                        ;	difference     = width;
 32046                        ;
 32047                        ;	//difference = (long)(x0 + width);
 32048                        ;
 32049                        ;	//k_debug_long("k_shadow_fill_rect::width:",widt
                    h);
 32050                        ;	//k_debug_long("k_shadow_fill_rect::height:",hei
                    ght);
 32051                        ;	//k_debug_long("k_shadow_fill_rect::difference:"
                    ,difference);
 32052                        ;	//k_debug_long("k_shadow_fill_rect::offset:",off
                    set);
 32053                        ;
 32054                        ;
 32055                        ;	for(dy = (long)y0;dy<offset;dy++)
 32056                        ;	{
 32057                        ;		//k_debug_long("k_shadow_fill_rect::dy:"
                    ,dy);
 32058                        ;		//for(dx=(long)x0;dx<difference;dx++)
 32059                        ;		//	SHADOW_BANK_0[(dy * 640L) + dx] 
                    = color;
 32060                        ;		//k_debug_long("k_shadow_fill_rect::dx:"
                    ,dx);
 32061                        ;		ptr = &( SHADOW_BANK_0[(dy * 640L) + (lo
                    ng)x0] ) ;
 32062                        ;		//k_debug_pointer("k_shadow_fill_rect::p
                    tr:",ptr);
 32063                        ;		//pixelLocation0 = (ULONG)(((ULONG)dy * 
                    640L) + (ULONG)x0);
 32064                        ;		//k_debug_long("k_shadow_fill_rect::pixe
                    lLocation0:",pixelLocation0);
 32065                        ;		memset( ptr, color , difference ) ;
 32066                        ;		//for(fIndex=0;fIndex<difference;fIndex+
                    +)
 32067                        ;		//	ptr[fIndex] = color;
 32068                        ;	}
 32069                        ;
 32070                        ;}
 32071                        ;*/
 32072                        ;void k_shadow_bitblt(int x0, int y0, int width, i
  Mon Sep 27 2021  9:39                                                Page 589


                    nt height, int x1, int y1)
 32073                        ;{
 32074                        	.line	5678
 32075                        	.line	5679
 32076                        	GFX
 32077                        	xdef	~~k_shadow_bitblt
 32078                        	func
 32079                        	.function	5679
 32080                        ~~k_shadow_bitblt:
 32081                        	longa	on
 32082                        	longi	on
 32083 06:8304: 3B           	tsc
 32084 06:8305: 38           	sec
 32085 06:8306: E9 20 00     	sbc	#L1414
 32086 06:8309: 1B           	tcs
 32087 06:830A: 0B           	phd
 32088 06:830B: 5B           	tcd
 32089             00000004   x0_0	set	4
 32090             00000006   y0_0	set	6
 32091             00000008   width_0	set	8
 32092             0000000A   height_0	set	10
 32093             0000000C   x1_0	set	12
 32094             0000000E   y1_0	set	14
 32095                        	.block	5679
 32096                        ;	long dy = 0L;
 32097                        ;	long dd = y1;
 32098                        ;
 32099                        ;	long pixelLocation0 = 0L;
 32100                        ;	long pixelLocation1 = 0L;
 32101                        ;	long pixelLocationD = 0L;
 32102                        ;	long difference     = 0L;
 32103                        ;
 32104                        ;	pixelLocation0 = (long)(((long)y0 * 640L) + (lon
                    g)x0);
 32105             00000000   dy_1	set	0
 32106             00000004   dd_1	set	4
 32107             00000008   pixelLocation0_1	set	8
 32108             0000000C   pixelLocation1_1	set	12
 32109             00000010   pixelLocationD_1	set	16
 32110             00000014   difference_1	set	20
 32111                        	.sym	dy,0,7,1,32
 32112                        	.sym	dd,4,7,1,32
 32113                        	.sym	pixelLocation0,8,7,1,32
 32114                        	.sym	pixelLocation1,12,7,1,32
 32115                        	.sym	pixelLocationD,16,7,1,32
 32116                        	.sym	difference,20,7,1,32
 32117                        	.sym	x0,4,5,6,16
 32118                        	.sym	y0,6,5,6,16
 32119                        	.sym	width,8,5,6,16
 32120                        	.sym	height,10,5,6,16
 32121                        	.sym	x1,12,5,6,16
 32122                        	.sym	y1,14,5,6,16
 32123 06:830C: 64 09        	stz	<L1415+dy_1
 32124 06:830E: 64 0B        	stz	<L1415+dy_1+2
 32125 06:8310: A0 00 00     	ldy	#$0
 32126 06:8313: A5 2E        	lda	<L1414+y1_0
 32127 06:8315: 10 01        	bpl	L1417
 32128 06:8317: 88           	dey
  Mon Sep 27 2021  9:39                                                Page 590


 32129                        L1417:
 32130 06:8318: 85 0D        	sta	<L1415+dd_1
 32131 06:831A: 84 0F        	sty	<L1415+dd_1+2
 32132 06:831C: 64 11        	stz	<L1415+pixelLocation0_1
 32133 06:831E: 64 13        	stz	<L1415+pixelLocation0_1+2
 32134 06:8320: 64 15        	stz	<L1415+pixelLocation1_1
 32135 06:8322: 64 17        	stz	<L1415+pixelLocation1_1+2
 32136 06:8324: 64 19        	stz	<L1415+pixelLocationD_1
 32137 06:8326: 64 1B        	stz	<L1415+pixelLocationD_1+2
 32138 06:8328: 64 1D        	stz	<L1415+difference_1
 32139 06:832A: 64 1F        	stz	<L1415+difference_1+2
 32140                        	.line	5688
 32141 06:832C: A0 00 00     	ldy	#$0
 32142 06:832F: A5 24        	lda	<L1414+x0_0
 32143 06:8331: 10 01        	bpl	L1418
 32144 06:8333: 88           	dey
 32145                        L1418:
 32146 06:8334: 85 01        	sta	<R0
 32147 06:8336: 84 03        	sty	<R0+2
 32148 06:8338: A0 00 00     	ldy	#$0
 32149 06:833B: A5 26        	lda	<L1414+y0_0
 32150 06:833D: 10 01        	bpl	L1419
 32151 06:833F: 88           	dey
 32152                        L1419:
 32153 06:8340: 85 05        	sta	<R1
 32154 06:8342: 84 07        	sty	<R1+2
 32155 06:8344: F4 00 00     	pea	#^$280
 32156 06:8347: F4 80 02     	pea	#<$280
 32157 06:834A: D4 07        	pei	<R1+2
 32158 06:834C: D4 05        	pei	<R1
 32159                        	xref	~~~lmul
 32160 06:834E: 22 xx xx xx  	jsl	~~~lmul
 32161 06:8352: 85 05        	sta	<R1
 32162 06:8354: 86 07        	stx	<R1+2
 32163 06:8356: 18           	clc
 32164 06:8357: A5 05        	lda	<R1
 32165 06:8359: 65 01        	adc	<R0
 32166 06:835B: 85 11        	sta	<L1415+pixelLocation0_1
 32167 06:835D: A5 07        	lda	<R1+2
 32168 06:835F: 65 03        	adc	<R0+2
 32169 06:8361: 85 13        	sta	<L1415+pixelLocation0_1+2
 32170                        ;	//pixelLocation1 = (long)(((long)y0 * 640L) + (l
                    ong)(x0 + width ));
 32171                        ;	pixelLocationD = (long)(((long)y1 * 640L) + (lon
                    g)(x1));
 32172                        	.line	5690
 32173 06:8363: A0 00 00     	ldy	#$0
 32174 06:8366: A5 2C        	lda	<L1414+x1_0
 32175 06:8368: 10 01        	bpl	L1420
 32176 06:836A: 88           	dey
 32177                        L1420:
 32178 06:836B: 85 01        	sta	<R0
 32179 06:836D: 84 03        	sty	<R0+2
 32180 06:836F: A0 00 00     	ldy	#$0
 32181 06:8372: A5 2E        	lda	<L1414+y1_0
 32182 06:8374: 10 01        	bpl	L1421
 32183 06:8376: 88           	dey
 32184                        L1421:
  Mon Sep 27 2021  9:39                                                Page 591


 32185 06:8377: 85 05        	sta	<R1
 32186 06:8379: 84 07        	sty	<R1+2
 32187 06:837B: F4 00 00     	pea	#^$280
 32188 06:837E: F4 80 02     	pea	#<$280
 32189 06:8381: D4 07        	pei	<R1+2
 32190 06:8383: D4 05        	pei	<R1
 32191                        	xref	~~~lmul
 32192 06:8385: 22 xx xx xx  	jsl	~~~lmul
 32193 06:8389: 85 05        	sta	<R1
 32194 06:838B: 86 07        	stx	<R1+2
 32195 06:838D: 18           	clc
 32196 06:838E: A5 05        	lda	<R1
 32197 06:8390: 65 01        	adc	<R0
 32198 06:8392: 85 19        	sta	<L1415+pixelLocationD_1
 32199 06:8394: A5 07        	lda	<R1+2
 32200 06:8396: 65 03        	adc	<R0+2
 32201 06:8398: 85 1B        	sta	<L1415+pixelLocationD_1+2
 32202                        ;
 32203                        ;	difference = pixelLocation1 - pixelLocation0;
 32204                        	.line	5692
 32205 06:839A: 38           	sec
 32206 06:839B: A5 15        	lda	<L1415+pixelLocation1_1
 32207 06:839D: E5 11        	sbc	<L1415+pixelLocation0_1
 32208 06:839F: 85 1D        	sta	<L1415+difference_1
 32209 06:83A1: A5 17        	lda	<L1415+pixelLocation1_1+2
 32210 06:83A3: E5 13        	sbc	<L1415+pixelLocation0_1+2
 32211 06:83A5: 85 1F        	sta	<L1415+difference_1+2
 32212                        ;
 32213                        ;	//k_debug_long("pixelLocation0:",pixelLocation0)
                    ;
 32214                        ;	//k_debug_long("pixelLocation1:",pixelLocation1)
                    ;
 32215                        ;	//k_debug_long("pixelLocationD:",pixelLocationD)
                    ;
 32216                        ;	//k_debug_long("difference:",difference);
 32217                        ;
 32218                        ;	y0++;
 32219                        	.line	5699
 32220 06:83A7: E6 26        	inc	<L1414+y0_0
 32221                        ;	x0++;
 32222                        	.line	5700
 32223 06:83A9: E6 24        	inc	<L1414+x0_0
 32224                        ;
 32225                        ;	for(dy = y0;dy<(y0 + height);dy++)
 32226                        	.line	5702
 32227 06:83AB: A0 00 00     	ldy	#$0
 32228 06:83AE: A5 26        	lda	<L1414+y0_0
 32229 06:83B0: 10 01        	bpl	L1422
 32230 06:83B2: 88           	dey
 32231                        L1422:
 32232 06:83B3: 85 09        	sta	<L1415+dy_1
 32233 06:83B5: 84 0B        	sty	<L1415+dy_1+2
 32234 06:83B7: 82 8E 00     	brl	L10590
 32235                        L10589:
 32236                        ;	{
 32237                        	.line	5703
 32238                        ;		pixelLocation0 = (long)(((long)dy * 640L
                    ) + (long)x0);
  Mon Sep 27 2021  9:39                                                Page 592


 32239                        	.line	5704
 32240 06:83BA: A0 00 00     	ldy	#$0
 32241 06:83BD: A5 24        	lda	<L1414+x0_0
 32242 06:83BF: 10 01        	bpl	L1423
 32243 06:83C1: 88           	dey
 32244                        L1423:
 32245 06:83C2: 85 01        	sta	<R0
 32246 06:83C4: 84 03        	sty	<R0+2
 32247 06:83C6: F4 00 00     	pea	#^$280
 32248 06:83C9: F4 80 02     	pea	#<$280
 32249 06:83CC: D4 0B        	pei	<L1415+dy_1+2
 32250 06:83CE: D4 09        	pei	<L1415+dy_1
 32251                        	xref	~~~lmul
 32252 06:83D0: 22 xx xx xx  	jsl	~~~lmul
 32253 06:83D4: 85 05        	sta	<R1
 32254 06:83D6: 86 07        	stx	<R1+2
 32255 06:83D8: 18           	clc
 32256 06:83D9: A5 05        	lda	<R1
 32257 06:83DB: 65 01        	adc	<R0
 32258 06:83DD: 85 11        	sta	<L1415+pixelLocation0_1
 32259 06:83DF: A5 07        	lda	<R1+2
 32260 06:83E1: 65 03        	adc	<R0+2
 32261 06:83E3: 85 13        	sta	<L1415+pixelLocation0_1+2
 32262                        ;		pixelLocationD = (long)(((long)dd * 640L
                    ) + (long)x1);
 32263                        	.line	5705
 32264 06:83E5: A0 00 00     	ldy	#$0
 32265 06:83E8: A5 2C        	lda	<L1414+x1_0
 32266 06:83EA: 10 01        	bpl	L1424
 32267 06:83EC: 88           	dey
 32268                        L1424:
 32269 06:83ED: 85 01        	sta	<R0
 32270 06:83EF: 84 03        	sty	<R0+2
 32271 06:83F1: F4 00 00     	pea	#^$280
 32272 06:83F4: F4 80 02     	pea	#<$280
 32273 06:83F7: D4 0F        	pei	<L1415+dd_1+2
 32274 06:83F9: D4 0D        	pei	<L1415+dd_1
 32275                        	xref	~~~lmul
 32276 06:83FB: 22 xx xx xx  	jsl	~~~lmul
 32277 06:83FF: 85 05        	sta	<R1
 32278 06:8401: 86 07        	stx	<R1+2
 32279 06:8403: 18           	clc
 32280 06:8404: A5 05        	lda	<R1
 32281 06:8406: 65 01        	adc	<R0
 32282 06:8408: 85 19        	sta	<L1415+pixelLocationD_1
 32283 06:840A: A5 07        	lda	<R1+2
 32284 06:840C: 65 03        	adc	<R0+2
 32285 06:840E: 85 1B        	sta	<L1415+pixelLocationD_1+2
 32286                        ;		memcpy(   &((BITMAP_BANK_0)[pixelLocatio
                    nD])  , &((SHADOW_BANK_0)[pixelLocation0]), difference) ;
 32287                        	.line	5706
 32288 06:8410: D4 1D        	pei	<L1415+difference_1
 32289 06:8412: 18           	clc
 32290 06:8413: A9 00 00     	lda	#$0
 32291 06:8416: 65 11        	adc	<L1415+pixelLocation0_1
 32292 06:8418: 85 01        	sta	<R0
 32293 06:841A: A9 0A 00     	lda	#$a
 32294 06:841D: 65 13        	adc	<L1415+pixelLocation0_1+2
  Mon Sep 27 2021  9:39                                                Page 593


 32295 06:841F: 85 03        	sta	<R0+2
 32296 06:8421: D4 03        	pei	<R0+2
 32297 06:8423: D4 01        	pei	<R0
 32298 06:8425: 18           	clc
 32299 06:8426: A9 00 00     	lda	#$0
 32300 06:8429: 65 19        	adc	<L1415+pixelLocationD_1
 32301 06:842B: 85 05        	sta	<R1
 32302 06:842D: A9 B0 00     	lda	#$b0
 32303 06:8430: 65 1B        	adc	<L1415+pixelLocationD_1+2
 32304 06:8432: 85 07        	sta	<R1+2
 32305 06:8434: D4 07        	pei	<R1+2
 32306 06:8436: D4 05        	pei	<R1
 32307 06:8438: 22 xx xx xx  	jsl	~~memcpy
 32308                        ;
 32309                        ;		dd++;
 32310                        	.line	5708
 32311 06:843C: E6 0D        	inc	<L1415+dd_1
 32312 06:843E: D0 02        	bne	L1425
 32313 06:8440: E6 0F        	inc	<L1415+dd_1+2
 32314                        L1425:
 32315                        ;	}
 32316                        	.line	5709
 32317                        L10587:
 32318 06:8442: E6 09        	inc	<L1415+dy_1
 32319 06:8444: D0 02        	bne	L1426
 32320 06:8446: E6 0B        	inc	<L1415+dy_1+2
 32321                        L1426:
 32322                        L10590:
 32323 06:8448: 18           	clc
 32324 06:8449: A5 26        	lda	<L1414+y0_0
 32325 06:844B: 65 2A        	adc	<L1414+height_0
 32326 06:844D: 85 01        	sta	<R0
 32327 06:844F: A0 00 00     	ldy	#$0
 32328 06:8452: A5 01        	lda	<R0
 32329 06:8454: 10 01        	bpl	L1427
 32330 06:8456: 88           	dey
 32331                        L1427:
 32332 06:8457: 85 01        	sta	<R0
 32333 06:8459: 84 03        	sty	<R0+2
 32334 06:845B: 38           	sec
 32335 06:845C: A5 09        	lda	<L1415+dy_1
 32336 06:845E: E5 01        	sbc	<R0
 32337 06:8460: A5 0B        	lda	<L1415+dy_1+2
 32338 06:8462: E5 03        	sbc	<R0+2
 32339 06:8464: 70 03        	bvs	L1428
 32340 06:8466: 49 00 80     	eor	#$8000
 32341                        L1428:
 32342 06:8469: 30 03        	bmi	L1429
 32343 06:846B: 82 4C FF     	brl	L10589
 32344                        L1429:
 32345                        L10588:
 32346                        ;
 32347                        ;}
 32348                        	.line	5711
 32349                        L1430:
 32350 06:846E: A5 22        	lda	<L1414+2
 32351 06:8470: 85 2E        	sta	<L1414+2+12
 32352 06:8472: A5 21        	lda	<L1414+1
  Mon Sep 27 2021  9:39                                                Page 594


 32353 06:8474: 85 2D        	sta	<L1414+1+12
 32354 06:8476: 2B           	pld
 32355 06:8477: 3B           	tsc
 32356 06:8478: 18           	clc
 32357 06:8479: 69 2C 00     	adc	#L1414+12
 32358 06:847C: 1B           	tcs
 32359 06:847D: 6B           	rtl
 32360                        	.endblock	5711
 32361             00000020   L1414	equ	32
 32362             00000009   L1415	equ	9
 32363 06:847E:              	ends
 32364                        	efunc
 32365                        	.endfunc	5711,9,32
 32366                        	.line	5711
 32367                        ;
 32368                        ;void k_scratch_save_bitblt(int x0, int y0, int wi
                    dth, int height, int x1, int y1)
 32369                        ;{
 32370                        	.line	5713
 32371                        	.line	5714
 32372                        	GFX
 32373                        	xdef	~~k_scratch_save_bitblt
 32374                        	func
 32375                        	.function	5714
 32376                        ~~k_scratch_save_bitblt:
 32377                        	longa	on
 32378                        	longi	on
 32379 06:847E: 3B           	tsc
 32380 06:847F: 38           	sec
 32381 06:8480: E9 20 00     	sbc	#L1431
 32382 06:8483: 1B           	tcs
 32383 06:8484: 0B           	phd
 32384 06:8485: 5B           	tcd
 32385             00000004   x0_0	set	4
 32386             00000006   y0_0	set	6
 32387             00000008   width_0	set	8
 32388             0000000A   height_0	set	10
 32389             0000000C   x1_0	set	12
 32390             0000000E   y1_0	set	14
 32391                        	.block	5714
 32392                        ;	long dy = 0L;
 32393                        ;	long dd = y1;
 32394                        ;	long pixelLocation0 = (long)(((long)y0 * 640L) +
                     (long)x0);
 32395                        ;	long pixelLocation1 = (long)(((long)y0 * 640L) +
                     (long)(x0 + width ));
 32396                        ;	long pixelLocationD = (long)(((long)y1 * 640L) +
                     (long)(x1));
 32397                        ;
 32398                        ;	long difference = width;//pixelLocation1 - pixel
                    Location0 + 1;
 32399                        ;
 32400                        ;	//k_debug_long("pixelLocation0:",pixelLocation0)
                    ;
 32401                        ;	//k_debug_long("pixelLocation1:",pixelLocation1)
                    ;
 32402                        ;	//k_debug_long("pixelLocationD:",pixelLocationD)
                    ;
  Mon Sep 27 2021  9:39                                                Page 595


 32403                        ;	//k_debug_long("difference:",difference);
 32404                        ;
 32405                        ;
 32406                        ;
 32407                        ;	for(dy = y0;dy<(y0 + height);dy++)
 32408             00000000   dy_1	set	0
 32409             00000004   dd_1	set	4
 32410             00000008   pixelLocation0_1	set	8
 32411             0000000C   pixelLocation1_1	set	12
 32412             00000010   pixelLocationD_1	set	16
 32413             00000014   difference_1	set	20
 32414                        	.sym	dy,0,7,1,32
 32415                        	.sym	dd,4,7,1,32
 32416                        	.sym	pixelLocation0,8,7,1,32
 32417                        	.sym	pixelLocation1,12,7,1,32
 32418                        	.sym	pixelLocationD,16,7,1,32
 32419                        	.sym	difference,20,7,1,32
 32420                        	.sym	x0,4,5,6,16
 32421                        	.sym	y0,6,5,6,16
 32422                        	.sym	width,8,5,6,16
 32423                        	.sym	height,10,5,6,16
 32424                        	.sym	x1,12,5,6,16
 32425                        	.sym	y1,14,5,6,16
 32426 06:8486: 64 09        	stz	<L1432+dy_1
 32427 06:8488: 64 0B        	stz	<L1432+dy_1+2
 32428 06:848A: A0 00 00     	ldy	#$0
 32429 06:848D: A5 2E        	lda	<L1431+y1_0
 32430 06:848F: 10 01        	bpl	L1434
 32431 06:8491: 88           	dey
 32432                        L1434:
 32433 06:8492: 85 0D        	sta	<L1432+dd_1
 32434 06:8494: 84 0F        	sty	<L1432+dd_1+2
 32435 06:8496: A0 00 00     	ldy	#$0
 32436 06:8499: A5 24        	lda	<L1431+x0_0
 32437 06:849B: 10 01        	bpl	L1435
 32438 06:849D: 88           	dey
 32439                        L1435:
 32440 06:849E: 85 01        	sta	<R0
 32441 06:84A0: 84 03        	sty	<R0+2
 32442 06:84A2: A0 00 00     	ldy	#$0
 32443 06:84A5: A5 26        	lda	<L1431+y0_0
 32444 06:84A7: 10 01        	bpl	L1436
 32445 06:84A9: 88           	dey
 32446                        L1436:
 32447 06:84AA: 85 05        	sta	<R1
 32448 06:84AC: 84 07        	sty	<R1+2
 32449 06:84AE: F4 00 00     	pea	#^$280
 32450 06:84B1: F4 80 02     	pea	#<$280
 32451 06:84B4: D4 07        	pei	<R1+2
 32452 06:84B6: D4 05        	pei	<R1
 32453                        	xref	~~~lmul
 32454 06:84B8: 22 xx xx xx  	jsl	~~~lmul
 32455 06:84BC: 85 05        	sta	<R1
 32456 06:84BE: 86 07        	stx	<R1+2
 32457 06:84C0: 18           	clc
 32458 06:84C1: A5 05        	lda	<R1
 32459 06:84C3: 65 01        	adc	<R0
 32460 06:84C5: 85 11        	sta	<L1432+pixelLocation0_1
  Mon Sep 27 2021  9:39                                                Page 596


 32461 06:84C7: A5 07        	lda	<R1+2
 32462 06:84C9: 65 03        	adc	<R0+2
 32463 06:84CB: 85 13        	sta	<L1432+pixelLocation0_1+2
 32464 06:84CD: 18           	clc
 32465 06:84CE: A5 24        	lda	<L1431+x0_0
 32466 06:84D0: 65 28        	adc	<L1431+width_0
 32467 06:84D2: 85 01        	sta	<R0
 32468 06:84D4: A0 00 00     	ldy	#$0
 32469 06:84D7: A5 01        	lda	<R0
 32470 06:84D9: 10 01        	bpl	L1437
 32471 06:84DB: 88           	dey
 32472                        L1437:
 32473 06:84DC: 85 01        	sta	<R0
 32474 06:84DE: 84 03        	sty	<R0+2
 32475 06:84E0: A0 00 00     	ldy	#$0
 32476 06:84E3: A5 26        	lda	<L1431+y0_0
 32477 06:84E5: 10 01        	bpl	L1438
 32478 06:84E7: 88           	dey
 32479                        L1438:
 32480 06:84E8: 85 05        	sta	<R1
 32481 06:84EA: 84 07        	sty	<R1+2
 32482 06:84EC: F4 00 00     	pea	#^$280
 32483 06:84EF: F4 80 02     	pea	#<$280
 32484 06:84F2: D4 07        	pei	<R1+2
 32485 06:84F4: D4 05        	pei	<R1
 32486                        	xref	~~~lmul
 32487 06:84F6: 22 xx xx xx  	jsl	~~~lmul
 32488 06:84FA: 85 05        	sta	<R1
 32489 06:84FC: 86 07        	stx	<R1+2
 32490 06:84FE: 18           	clc
 32491 06:84FF: A5 05        	lda	<R1
 32492 06:8501: 65 01        	adc	<R0
 32493 06:8503: 85 15        	sta	<L1432+pixelLocation1_1
 32494 06:8505: A5 07        	lda	<R1+2
 32495 06:8507: 65 03        	adc	<R0+2
 32496 06:8509: 85 17        	sta	<L1432+pixelLocation1_1+2
 32497 06:850B: A0 00 00     	ldy	#$0
 32498 06:850E: A5 2C        	lda	<L1431+x1_0
 32499 06:8510: 10 01        	bpl	L1439
 32500 06:8512: 88           	dey
 32501                        L1439:
 32502 06:8513: 85 01        	sta	<R0
 32503 06:8515: 84 03        	sty	<R0+2
 32504 06:8517: A0 00 00     	ldy	#$0
 32505 06:851A: A5 2E        	lda	<L1431+y1_0
 32506 06:851C: 10 01        	bpl	L1440
 32507 06:851E: 88           	dey
 32508                        L1440:
 32509 06:851F: 85 05        	sta	<R1
 32510 06:8521: 84 07        	sty	<R1+2
 32511 06:8523: F4 00 00     	pea	#^$280
 32512 06:8526: F4 80 02     	pea	#<$280
 32513 06:8529: D4 07        	pei	<R1+2
 32514 06:852B: D4 05        	pei	<R1
 32515                        	xref	~~~lmul
 32516 06:852D: 22 xx xx xx  	jsl	~~~lmul
 32517 06:8531: 85 05        	sta	<R1
 32518 06:8533: 86 07        	stx	<R1+2
  Mon Sep 27 2021  9:39                                                Page 597


 32519 06:8535: 18           	clc
 32520 06:8536: A5 05        	lda	<R1
 32521 06:8538: 65 01        	adc	<R0
 32522 06:853A: 85 19        	sta	<L1432+pixelLocationD_1
 32523 06:853C: A5 07        	lda	<R1+2
 32524 06:853E: 65 03        	adc	<R0+2
 32525 06:8540: 85 1B        	sta	<L1432+pixelLocationD_1+2
 32526 06:8542: A0 00 00     	ldy	#$0
 32527 06:8545: A5 28        	lda	<L1431+width_0
 32528 06:8547: 10 01        	bpl	L1441
 32529 06:8549: 88           	dey
 32530                        L1441:
 32531 06:854A: 85 1D        	sta	<L1432+difference_1
 32532 06:854C: 84 1F        	sty	<L1432+difference_1+2
 32533                        	.line	5730
 32534 06:854E: A0 00 00     	ldy	#$0
 32535 06:8551: A5 26        	lda	<L1431+y0_0
 32536 06:8553: 10 01        	bpl	L1442
 32537 06:8555: 88           	dey
 32538                        L1442:
 32539 06:8556: 85 09        	sta	<L1432+dy_1
 32540 06:8558: 84 0B        	sty	<L1432+dy_1+2
 32541 06:855A: 82 8E 00     	brl	L10594
 32542                        L10593:
 32543                        ;	{
 32544                        	.line	5731
 32545                        ;		pixelLocation0 = (long)(((long)dy * 640L
                    ) + (long)x0);
 32546                        	.line	5732
 32547 06:855D: A0 00 00     	ldy	#$0
 32548 06:8560: A5 24        	lda	<L1431+x0_0
 32549 06:8562: 10 01        	bpl	L1443
 32550 06:8564: 88           	dey
 32551                        L1443:
 32552 06:8565: 85 01        	sta	<R0
 32553 06:8567: 84 03        	sty	<R0+2
 32554 06:8569: F4 00 00     	pea	#^$280
 32555 06:856C: F4 80 02     	pea	#<$280
 32556 06:856F: D4 0B        	pei	<L1432+dy_1+2
 32557 06:8571: D4 09        	pei	<L1432+dy_1
 32558                        	xref	~~~lmul
 32559 06:8573: 22 xx xx xx  	jsl	~~~lmul
 32560 06:8577: 85 05        	sta	<R1
 32561 06:8579: 86 07        	stx	<R1+2
 32562 06:857B: 18           	clc
 32563 06:857C: A5 05        	lda	<R1
 32564 06:857E: 65 01        	adc	<R0
 32565 06:8580: 85 11        	sta	<L1432+pixelLocation0_1
 32566 06:8582: A5 07        	lda	<R1+2
 32567 06:8584: 65 03        	adc	<R0+2
 32568 06:8586: 85 13        	sta	<L1432+pixelLocation0_1+2
 32569                        ;		pixelLocationD = (long)(((long)dd * 640L
                    ) + (long)x1);
 32570                        	.line	5733
 32571 06:8588: A0 00 00     	ldy	#$0
 32572 06:858B: A5 2C        	lda	<L1431+x1_0
 32573 06:858D: 10 01        	bpl	L1444
 32574 06:858F: 88           	dey
  Mon Sep 27 2021  9:39                                                Page 598


 32575                        L1444:
 32576 06:8590: 85 01        	sta	<R0
 32577 06:8592: 84 03        	sty	<R0+2
 32578 06:8594: F4 00 00     	pea	#^$280
 32579 06:8597: F4 80 02     	pea	#<$280
 32580 06:859A: D4 0F        	pei	<L1432+dd_1+2
 32581 06:859C: D4 0D        	pei	<L1432+dd_1
 32582                        	xref	~~~lmul
 32583 06:859E: 22 xx xx xx  	jsl	~~~lmul
 32584 06:85A2: 85 05        	sta	<R1
 32585 06:85A4: 86 07        	stx	<R1+2
 32586 06:85A6: 18           	clc
 32587 06:85A7: A5 05        	lda	<R1
 32588 06:85A9: 65 01        	adc	<R0
 32589 06:85AB: 85 19        	sta	<L1432+pixelLocationD_1
 32590 06:85AD: A5 07        	lda	<R1+2
 32591 06:85AF: 65 03        	adc	<R0+2
 32592 06:85B1: 85 1B        	sta	<L1432+pixelLocationD_1+2
 32593                        ;		memcpy(   &((SHADOW_BANK_5)[pixelLocatio
                    nD])  , &((SHADOW_BANK_0)[pixelLocation0]), difference) ;
 32594                        	.line	5734
 32595 06:85B3: D4 1D        	pei	<L1432+difference_1
 32596 06:85B5: 18           	clc
 32597 06:85B6: A9 00 00     	lda	#$0
 32598 06:85B9: 65 11        	adc	<L1432+pixelLocation0_1
 32599 06:85BB: 85 01        	sta	<R0
 32600 06:85BD: A9 0A 00     	lda	#$a
 32601 06:85C0: 65 13        	adc	<L1432+pixelLocation0_1+2
 32602 06:85C2: 85 03        	sta	<R0+2
 32603 06:85C4: D4 03        	pei	<R0+2
 32604 06:85C6: D4 01        	pei	<R0
 32605 06:85C8: 18           	clc
 32606 06:85C9: A9 00 00     	lda	#$0
 32607 06:85CC: 65 19        	adc	<L1432+pixelLocationD_1
 32608 06:85CE: 85 05        	sta	<R1
 32609 06:85D0: A9 0F 00     	lda	#$f
 32610 06:85D3: 65 1B        	adc	<L1432+pixelLocationD_1+2
 32611 06:85D5: 85 07        	sta	<R1+2
 32612 06:85D7: D4 07        	pei	<R1+2
 32613 06:85D9: D4 05        	pei	<R1
 32614 06:85DB: 22 xx xx xx  	jsl	~~memcpy
 32615                        ;
 32616                        ;		dd++;
 32617                        	.line	5736
 32618 06:85DF: E6 0D        	inc	<L1432+dd_1
 32619 06:85E1: D0 02        	bne	L1445
 32620 06:85E3: E6 0F        	inc	<L1432+dd_1+2
 32621                        L1445:
 32622                        ;	}
 32623                        	.line	5737
 32624                        L10591:
 32625 06:85E5: E6 09        	inc	<L1432+dy_1
 32626 06:85E7: D0 02        	bne	L1446
 32627 06:85E9: E6 0B        	inc	<L1432+dy_1+2
 32628                        L1446:
 32629                        L10594:
 32630 06:85EB: 18           	clc
 32631 06:85EC: A5 26        	lda	<L1431+y0_0
  Mon Sep 27 2021  9:39                                                Page 599


 32632 06:85EE: 65 2A        	adc	<L1431+height_0
 32633 06:85F0: 85 01        	sta	<R0
 32634 06:85F2: A0 00 00     	ldy	#$0
 32635 06:85F5: A5 01        	lda	<R0
 32636 06:85F7: 10 01        	bpl	L1447
 32637 06:85F9: 88           	dey
 32638                        L1447:
 32639 06:85FA: 85 01        	sta	<R0
 32640 06:85FC: 84 03        	sty	<R0+2
 32641 06:85FE: 38           	sec
 32642 06:85FF: A5 09        	lda	<L1432+dy_1
 32643 06:8601: E5 01        	sbc	<R0
 32644 06:8603: A5 0B        	lda	<L1432+dy_1+2
 32645 06:8605: E5 03        	sbc	<R0+2
 32646 06:8607: 70 03        	bvs	L1448
 32647 06:8609: 49 00 80     	eor	#$8000
 32648                        L1448:
 32649 06:860C: 30 03        	bmi	L1449
 32650 06:860E: 82 4C FF     	brl	L10593
 32651                        L1449:
 32652                        L10592:
 32653                        ;
 32654                        ;}
 32655                        	.line	5739
 32656                        L1450:
 32657 06:8611: A5 22        	lda	<L1431+2
 32658 06:8613: 85 2E        	sta	<L1431+2+12
 32659 06:8615: A5 21        	lda	<L1431+1
 32660 06:8617: 85 2D        	sta	<L1431+1+12
 32661 06:8619: 2B           	pld
 32662 06:861A: 3B           	tsc
 32663 06:861B: 18           	clc
 32664 06:861C: 69 2C 00     	adc	#L1431+12
 32665 06:861F: 1B           	tcs
 32666 06:8620: 6B           	rtl
 32667                        	.endblock	5739
 32668             00000020   L1431	equ	32
 32669             00000009   L1432	equ	9
 32670 06:8621:              	ends
 32671                        	efunc
 32672                        	.endfunc	5739,9,32
 32673                        	.line	5739
 32674                        ;
 32675                        ;/*
 32676                        ;void k_scratch_restore_bitblt(int x0, int y0, int
                     width, int height, int x1, int y1)
 32677                        ;{
 32678                        ;	long dy = 0L;
 32679                        ;	long dd = y1;
 32680                        ;	long pixelLocation0 = (long)(((long)y0 * 640L) +
                     (long)x0);
 32681                        ;	long pixelLocation1 = (long)(((long)y0 * 640L) +
                     (long)(x0 + width ));
 32682                        ;	long pixelLocationD = (long)(((long)y1 * 640L) +
                     (long)(x1));
 32683                        ;
 32684                        ;	long difference = width;//pixelLocation1 - pixel
                    Location0 + 1;
  Mon Sep 27 2021  9:39                                                Page 600


 32685                        ;
 32686                        ;	//k_debug_long("pixelLocation0:",pixelLocation0)
                    ;
 32687                        ;	//k_debug_long("pixelLocation1:",pixelLocation1)
                    ;
 32688                        ;	//k_debug_long("pixelLocationD:",pixelLocationD)
                    ;
 32689                        ;	//k_debug_long("difference:",difference);
 32690                        ;
 32691                        ;
 32692                        ;
 32693                        ;	for(dy = y0;dy<(y0 + height);dy++)
 32694                        ;	{
 32695                        ;		pixelLocation0 = (long)(((long)dy * 640L
                    ) + (long)x0);
 32696                        ;		pixelLocationD = (long)(((long)dd * 640L
                    ) + (long)x1);
 32697                        ;		memcpy(   &((BITMAP_BANK_0)[pixelLocatio
                    nD])  , &((SHADOW_BANK_5)[pixelLocation0]), difference) ;
 32698                        ;		memcpy(   &((SHADOW_BANK_0)[pixelLocatio
                    nD])  , &((SHADOW_BANK_5)[pixelLocation0]), difference) ;
 32699                        ;
 32700                        ;		dd++;
 32701                        ;	}
 32702                        ;
 32703                        ;}
 32704                        ;*/
 32705                        ;
 32706                        ;UINT k_font_getFontHeight(void)
 32707                        ;{
 32708                        	.line	5772
 32709                        	.line	5773
 32710                        	GFX
 32711                        	xdef	~~k_font_getFontHeight
 32712                        	func
 32713                        	.function	5773
 32714                        ~~k_font_getFontHeight:
 32715                        	longa	on
 32716                        	longi	on
 32717 06:8621: 3B           	tsc
 32718 06:8622: 38           	sec
 32719 06:8623: E9 00 00     	sbc	#L1451
 32720 06:8626: 1B           	tcs
 32721 06:8627: 0B           	phd
 32722 06:8628: 5B           	tcd
 32723                        	.block	5773
 32724                        ;	return 8;
 32725                        	.line	5774
 32726 06:8629: A9 08 00     	lda	#$8
 32727                        L1454:
 32728 06:862C: A8           	tay
 32729 06:862D: 2B           	pld
 32730 06:862E: 3B           	tsc
 32731 06:862F: 18           	clc
 32732 06:8630: 69 00 00     	adc	#L1451
 32733 06:8633: 1B           	tcs
 32734 06:8634: 98           	tya
 32735 06:8635: 6B           	rtl
  Mon Sep 27 2021  9:39                                                Page 601


 32736                        ;}
 32737                        	.line	5775
 32738                        	.endblock	5775
 32739             00000000   L1451	equ	0
 32740             00000001   L1452	equ	1
 32741 06:8636:              	ends
 32742                        	efunc
 32743                        	.endfunc	5775,1,0
 32744                        	.line	5775
 32745                        ;
 32746                        ;UINT k_font_getFontWidth(void)
 32747                        ;{
 32748                        	.line	5777
 32749                        	.line	5778
 32750                        	GFX
 32751                        	xdef	~~k_font_getFontWidth
 32752                        	func
 32753                        	.function	5778
 32754                        ~~k_font_getFontWidth:
 32755                        	longa	on
 32756                        	longi	on
 32757 06:8636: 3B           	tsc
 32758 06:8637: 38           	sec
 32759 06:8638: E9 00 00     	sbc	#L1455
 32760 06:863B: 1B           	tcs
 32761 06:863C: 0B           	phd
 32762 06:863D: 5B           	tcd
 32763                        	.block	5778
 32764                        ;	return 8;
 32765                        	.line	5779
 32766 06:863E: A9 08 00     	lda	#$8
 32767                        L1458:
 32768 06:8641: A8           	tay
 32769 06:8642: 2B           	pld
 32770 06:8643: 3B           	tsc
 32771 06:8644: 18           	clc
 32772 06:8645: 69 00 00     	adc	#L1455
 32773 06:8648: 1B           	tcs
 32774 06:8649: 98           	tya
 32775 06:864A: 6B           	rtl
 32776                        ;}
 32777                        	.line	5780
 32778                        	.endblock	5780
 32779             00000000   L1455	equ	0
 32780             00000001   L1456	equ	1
 32781 06:864B:              	ends
 32782                        	efunc
 32783                        	.endfunc	5780,1,0
 32784                        	.line	5780
 32785                        ;
 32786                        ;VOID k_gui_set_mousepointer(UINT index,LPVOID poi
                    nterData)
 32787                        ;{
 32788                        	.line	5782
 32789                        	.line	5783
 32790                        	GFX
 32791                        	xdef	~~k_gui_set_mousepointer
 32792                        	func
  Mon Sep 27 2021  9:39                                                Page 602


 32793                        	.function	5783
 32794                        ~~k_gui_set_mousepointer:
 32795                        	longa	on
 32796                        	longi	on
 32797 06:864B: 3B           	tsc
 32798 06:864C: 38           	sec
 32799 06:864D: E9 04 00     	sbc	#L1459
 32800 06:8650: 1B           	tcs
 32801 06:8651: 0B           	phd
 32802 06:8652: 5B           	tcd
 32803             00000004   index_0	set	4
 32804             00000006   pointerData_0	set	6
 32805                        	.block	5783
 32806                        ;	LPVOID pData = NULL;
 32807                        ;
 32808                        ;	if(index == 0 || index == 1)
 32809             00000000   pData_1	set	0
 32810                        	.sym	pData,0,129,1,32
 32811                        	.sym	index,4,16,6,16
 32812                        	.sym	pointerData,6,129,6,32
 32813 06:8653: 64 01        	stz	<L1460+pData_1
 32814 06:8655: 64 03        	stz	<L1460+pData_1+2
 32815                        	.line	5786
 32816                        ;	{
 32817 06:8657: A5 08        	lda	<L1459+index_0
 32818 06:8659: D0 03        	bne	L1463
 32819 06:865B: 82 0A 00     	brl	L1462
 32820                        L1463:
 32821 06:865E: A5 08        	lda	<L1459+index_0
 32822 06:8660: C9 01 00     	cmp	#<$1
 32823 06:8663: F0 03        	beq	L1464
 32824 06:8665: 82 38 00     	brl	L10595
 32825                        L1464:
 32826                        L1462:
 32827                        	.line	5787
 32828                        ;		//*MOUSE_PTR_CTRL_REG_H = 0x00;
 32829                        ;		//*MOUSE_PTR_CTRL_REG_L = index;
 32830                        ;
 32831                        ;		memcpy( MOUSE_PTR_GRAP0_START,pointerDat
                    a,sizeof(MOUSE_POINTER_ARROW));
 32832                        	.line	5791
 32833 06:8668: F4 00 01     	pea	#<$100
 32834 06:866B: D4 0C        	pei	<L1459+pointerData_0+2
 32835 06:866D: D4 0A        	pei	<L1459+pointerData_0
 32836 06:866F: F4 AF 00     	pea	#^$af0500
 32837 06:8672: F4 00 05     	pea	#<$af0500
 32838 06:8675: 22 xx xx xx  	jsl	~~memcpy
 32839                        ;		memcpy( MOUSE_PTR_GRAP1_START,MOUSE_POIN
                    TER_HOURGLASS,sizeof(MOUSE_POINTER_ARROW));
 32840                        	.line	5792
 32841 06:8679: F4 00 01     	pea	#<$100
 32842 06:867C: F4 xx xx     	pea	#^~~MOUSE_POINTER_HOURGLASS
 32843 06:867F: F4 xx xx     	pea	#<~~MOUSE_POINTER_HOURGLASS
 32844 06:8682: F4 AF 00     	pea	#^$af0600
 32845 06:8685: F4 00 06     	pea	#<$af0600
 32846 06:8688: 22 xx xx xx  	jsl	~~memcpy
 32847                        ;
 32848                        ;		*MOUSE_PTR_CTRL_REG_H = 0x00;
  Mon Sep 27 2021  9:39                                                Page 603


 32849                        	.line	5794
 32850 06:868C: E2 20        	sep	#$20
 32851                        	longa	off
 32852 06:868E: A9 00        	lda	#$0
 32853 06:8690: 8F 01 07 AF  	sta	>11470593	; volatile
 32854 06:8694: C2 20        	rep	#$20
 32855                        	longa	on
 32856                        ;		*MOUSE_PTR_CTRL_REG_L = 0x01;
 32857                        	.line	5795
 32858 06:8696: E2 20        	sep	#$20
 32859                        	longa	off
 32860 06:8698: A9 01        	lda	#$1
 32861 06:869A: 8F 00 07 AF  	sta	>11470592	; volatile
 32862 06:869E: C2 20        	rep	#$20
 32863                        	longa	on
 32864                        ;	}
 32865                        	.line	5796
 32866                        ;}
 32867                        L10595:
 32868                        	.line	5797
 32869                        L1465:
 32870 06:86A0: A5 06        	lda	<L1459+2
 32871 06:86A2: 85 0C        	sta	<L1459+2+6
 32872 06:86A4: A5 05        	lda	<L1459+1
 32873 06:86A6: 85 0B        	sta	<L1459+1+6
 32874 06:86A8: 2B           	pld
 32875 06:86A9: 3B           	tsc
 32876 06:86AA: 18           	clc
 32877 06:86AB: 69 0A 00     	adc	#L1459+6
 32878 06:86AE: 1B           	tcs
 32879 06:86AF: 6B           	rtl
 32880                        	.endblock	5797
 32881             00000004   L1459	equ	4
 32882             00000001   L1460	equ	1
 32883 06:86B0:              	ends
 32884                        	efunc
 32885                        	.endfunc	5797,1,4
 32886                        	.line	5797
 32887                        ;
 32888                        ;VOID k_gui_init_mousepointer(BOOL enable)
 32889                        ;{
 32890                        	.line	5799
 32891                        	.line	5800
 32892                        	GFX
 32893                        	xdef	~~k_gui_init_mousepointer
 32894                        	func
 32895                        	.function	5800
 32896                        ~~k_gui_init_mousepointer:
 32897                        	longa	on
 32898                        	longi	on
 32899 06:86B0: 3B           	tsc
 32900 06:86B1: 38           	sec
 32901 06:86B2: E9 00 00     	sbc	#L1466
 32902 06:86B5: 1B           	tcs
 32903 06:86B6: 0B           	phd
 32904 06:86B7: 5B           	tcd
 32905             00000004   enable_0	set	4
 32906                        	.block	5800
  Mon Sep 27 2021  9:39                                                Page 604


 32907                        ;	if(enable)
 32908                        	.sym	enable,4,14,6,8
 32909                        	.line	5801
 32910                        ;	{
 32911 06:86B8: A5 04        	lda	<L1466+enable_0
 32912 06:86BA: 29 FF 00     	and	#$ff
 32913 06:86BD: D0 03        	bne	L1469
 32914 06:86BF: 82 3D 00     	brl	L10596
 32915                        L1469:
 32916                        	.line	5802
 32917                        ;		//MOUSE_POINTER_HELP
 32918                        ;		//memcpy(MOUSE_PTR_GRAP0_START,MOUSE_POI
                    NTER_PTR_V2,sizeof(MOUSE_POINTER_PTR_V2));
 32919                        ;		//memcpy(MOUSE_PTR_GRAP0_START,MOUSE_POI
                    NTER_PTR_V2,sizeof(MOUSE_POINTER_PTR_V2));
 32920                        ;
 32921                        ;		memcpy(MOUSE_PTR_GRAP0_START,MOUSE_POINT
                    ER_ARROW,sizeof(MOUSE_POINTER_ARROW));
 32922                        	.line	5807
 32923 06:86C2: F4 00 01     	pea	#<$100
 32924 06:86C5: F4 xx xx     	pea	#^~~MOUSE_POINTER_ARROW
 32925 06:86C8: F4 xx xx     	pea	#<~~MOUSE_POINTER_ARROW
 32926 06:86CB: F4 AF 00     	pea	#^$af0500
 32927 06:86CE: F4 00 05     	pea	#<$af0500
 32928 06:86D1: 22 xx xx xx  	jsl	~~memcpy
 32929                        ;		memcpy(MOUSE_PTR_GRAP1_START,MOUSE_POINT
                    ER_HOURGLASS,sizeof(MOUSE_POINTER_HOURGLASS));
 32930                        	.line	5808
 32931 06:86D5: F4 00 01     	pea	#<$100
 32932 06:86D8: F4 xx xx     	pea	#^~~MOUSE_POINTER_HOURGLASS
 32933 06:86DB: F4 xx xx     	pea	#<~~MOUSE_POINTER_HOURGLASS
 32934 06:86DE: F4 AF 00     	pea	#^$af0600
 32935 06:86E1: F4 00 06     	pea	#<$af0600
 32936 06:86E4: 22 xx xx xx  	jsl	~~memcpy
 32937                        ;
 32938                        ;		*MOUSE_PTR_CTRL_REG_H = 0x00;
 32939                        	.line	5810
 32940 06:86E8: E2 20        	sep	#$20
 32941                        	longa	off
 32942 06:86EA: A9 00        	lda	#$0
 32943 06:86EC: 8F 01 07 AF  	sta	>11470593	; volatile
 32944 06:86F0: C2 20        	rep	#$20
 32945                        	longa	on
 32946                        ;		*MOUSE_PTR_CTRL_REG_L = 0x01;
 32947                        	.line	5811
 32948 06:86F2: E2 20        	sep	#$20
 32949                        	longa	off
 32950 06:86F4: A9 01        	lda	#$1
 32951 06:86F6: 8F 00 07 AF  	sta	>11470592	; volatile
 32952 06:86FA: C2 20        	rep	#$20
 32953                        	longa	on
 32954                        ;	}
 32955                        	.line	5812
 32956                        ;	else
 32957 06:86FC: 82 3A 00     	brl	L10597
 32958                        L10596:
 32959                        ;	{
 32960                        	.line	5814
  Mon Sep 27 2021  9:39                                                Page 605


 32961                        ;		memcpy(MOUSE_PTR_GRAP0_START,MOUSE_POINT
                    ER_ARROW,sizeof(MOUSE_POINTER_ARROW));
 32962                        	.line	5815
 32963 06:86FF: F4 00 01     	pea	#<$100
 32964 06:8702: F4 xx xx     	pea	#^~~MOUSE_POINTER_ARROW
 32965 06:8705: F4 xx xx     	pea	#<~~MOUSE_POINTER_ARROW
 32966 06:8708: F4 AF 00     	pea	#^$af0500
 32967 06:870B: F4 00 05     	pea	#<$af0500
 32968 06:870E: 22 xx xx xx  	jsl	~~memcpy
 32969                        ;		memcpy(MOUSE_PTR_GRAP1_START,MOUSE_POINT
                    ER_ARROW,sizeof(MOUSE_POINTER_ARROW));
 32970                        	.line	5816
 32971 06:8712: F4 00 01     	pea	#<$100
 32972 06:8715: F4 xx xx     	pea	#^~~MOUSE_POINTER_ARROW
 32973 06:8718: F4 xx xx     	pea	#<~~MOUSE_POINTER_ARROW
 32974 06:871B: F4 AF 00     	pea	#^$af0600
 32975 06:871E: F4 00 06     	pea	#<$af0600
 32976 06:8721: 22 xx xx xx  	jsl	~~memcpy
 32977                        ;		*MOUSE_PTR_CTRL_REG_H = 0x00;
 32978                        	.line	5817
 32979 06:8725: E2 20        	sep	#$20
 32980                        	longa	off
 32981 06:8727: A9 00        	lda	#$0
 32982 06:8729: 8F 01 07 AF  	sta	>11470593	; volatile
 32983 06:872D: C2 20        	rep	#$20
 32984                        	longa	on
 32985                        ;		*MOUSE_PTR_CTRL_REG_L = 0x00;
 32986                        	.line	5818
 32987 06:872F: E2 20        	sep	#$20
 32988                        	longa	off
 32989 06:8731: A9 00        	lda	#$0
 32990 06:8733: 8F 00 07 AF  	sta	>11470592	; volatile
 32991 06:8737: C2 20        	rep	#$20
 32992                        	longa	on
 32993                        ;	}
 32994                        	.line	5819
 32995                        L10597:
 32996                        ;}
 32997                        	.line	5820
 32998                        L1470:
 32999 06:8739: A5 02        	lda	<L1466+2
 33000 06:873B: 85 04        	sta	<L1466+2+2
 33001 06:873D: A5 01        	lda	<L1466+1
 33002 06:873F: 85 03        	sta	<L1466+1+2
 33003 06:8741: 2B           	pld
 33004 06:8742: 3B           	tsc
 33005 06:8743: 18           	clc
 33006 06:8744: 69 02 00     	adc	#L1466+2
 33007 06:8747: 1B           	tcs
 33008 06:8748: 6B           	rtl
 33009                        	.endblock	5820
 33010             00000000   L1466	equ	0
 33011             00000001   L1467	equ	1
 33012 06:8749:              	ends
 33013                        	efunc
 33014                        	.endfunc	5820,1,0
 33015                        	.line	5820
 33016                        ;
  Mon Sep 27 2021  9:39                                                Page 606


 33017                        ;void k_vdma_copy_address_ex(char FAR * pdst,char 
                    FAR * psrc,int width,int height)
 33018                        ;{
 33019                        	.line	5822
 33020                        	.line	5823
 33021                        	GFX
 33022                        	xdef	~~k_vdma_copy_address_ex
 33023                        	func
 33024                        	.function	5823
 33025                        ~~k_vdma_copy_address_ex:
 33026                        	longa	on
 33027                        	longi	on
 33028 06:8749: 3B           	tsc
 33029 06:874A: 38           	sec
 33030 06:874B: E9 0D 00     	sbc	#L1471
 33031 06:874E: 1B           	tcs
 33032 06:874F: 0B           	phd
 33033 06:8750: 5B           	tcd
 33034             00000004   pdst_0	set	4
 33035             00000008   psrc_0	set	8
 33036             0000000C   width_0	set	12
 33037             0000000E   height_0	set	14
 33038                        	.block	5823
 33039                        ;	int pos = 0;
 33040                        ;	UINT spinLock = 0;
 33041                        ;	char status = VDMA_STAT_VDMA_IPS;
 33042                        ;
 33043                        ;
 33044                        ;	//k_debug_pointer("k_vdma_copy_address_ex::src  
                    offset:",psrc);
 33045                        ;	//k_debug_pointer("k_vdma_copy_address_ex::dest 
                    offset:",pdst);
 33046                        ;
 33047                        ;	//k_debug_integer("k_vdma_copy_address_ex::width
                    :",width);
 33048                        ;	//k_debug_integer("k_vdma_copy_address_ex::heigh
                    t:",height);
 33049                        ;
 33050                        ;
 33051                        ;
 33052                        ;	VDMA_CONTROL_REG[0] = ( VDMA_CTRL_ENABLE | VDMA_
                    CTRL_1D_2D );
 33053             00000000   pos_1	set	0
 33054             00000002   spinLock_1	set	2
 33055             00000004   status_1	set	4
 33056                        	.sym	pos,0,5,1,16
 33057                        	.sym	spinLock,2,16,1,16
 33058                        	.sym	status,4,14,1,8
 33059                        	.sym	pdst,4,142,6,32
 33060                        	.sym	psrc,8,142,6,32
 33061                        	.sym	width,12,5,6,16
 33062                        	.sym	height,14,5,6,16
 33063 06:8751: 64 09        	stz	<L1472+pos_1
 33064 06:8753: 64 0B        	stz	<L1472+spinLock_1
 33065 06:8755: E2 20        	sep	#$20
 33066                        	longa	off
 33067 06:8757: A9 80        	lda	#$80
 33068 06:8759: 85 0D        	sta	<L1472+status_1
  Mon Sep 27 2021  9:39                                                Page 607


 33069 06:875B: C2 20        	rep	#$20
 33070                        	longa	on
 33071                        	.line	5837
 33072 06:875D: E2 20        	sep	#$20
 33073                        	longa	off
 33074 06:875F: A9 03        	lda	#$3
 33075 06:8761: 8F 00 04 AF  	sta	>11469824
 33076 06:8765: C2 20        	rep	#$20
 33077                        	longa	on
 33078                        ;
 33079                        ;	VDMA_SRC_ADDY_L[0] = L24BYTE((long)psrc);
 33080                        	.line	5839
 33081 06:8767: E2 20        	sep	#$20
 33082                        	longa	off
 33083 06:8769: A5 15        	lda	<L1471+psrc_0
 33084 06:876B: 8F 02 04 AF  	sta	>11469826
 33085 06:876F: C2 20        	rep	#$20
 33086                        	longa	on
 33087                        ;	VDMA_SRC_ADDY_M[0] = M24BYTE((long)psrc);
 33088                        	.line	5840
 33089 06:8771: D4 17        	pei	<L1471+psrc_0+2
 33090 06:8773: D4 15        	pei	<L1471+psrc_0
 33091 06:8775: A9 08 00     	lda	#$8
 33092                        	xref	~~~llsr
 33093 06:8778: 22 xx xx xx  	jsl	~~~llsr
 33094 06:877C: 85 01        	sta	<R0
 33095 06:877E: 86 03        	stx	<R0+2
 33096 06:8780: A5 01        	lda	<R0
 33097 06:8782: 29 FF 00     	and	#<$ff
 33098 06:8785: 85 05        	sta	<R1
 33099 06:8787: 64 07        	stz	<R1+2
 33100 06:8789: E2 20        	sep	#$20
 33101                        	longa	off
 33102 06:878B: A5 05        	lda	<R1
 33103 06:878D: 8F 03 04 AF  	sta	>11469827
 33104 06:8791: C2 20        	rep	#$20
 33105                        	longa	on
 33106                        ;	VDMA_SRC_ADDY_H[0] = H24BYTE((long)psrc);
 33107                        	.line	5841
 33108 06:8793: D4 17        	pei	<L1471+psrc_0+2
 33109 06:8795: D4 15        	pei	<L1471+psrc_0
 33110 06:8797: A9 10 00     	lda	#$10
 33111                        	xref	~~~llsr
 33112 06:879A: 22 xx xx xx  	jsl	~~~llsr
 33113 06:879E: 85 01        	sta	<R0
 33114 06:87A0: 86 03        	stx	<R0+2
 33115 06:87A2: A5 01        	lda	<R0
 33116 06:87A4: 29 FF 00     	and	#<$ff
 33117 06:87A7: 85 05        	sta	<R1
 33118 06:87A9: 64 07        	stz	<R1+2
 33119 06:87AB: E2 20        	sep	#$20
 33120                        	longa	off
 33121 06:87AD: A5 05        	lda	<R1
 33122 06:87AF: 8F 04 04 AF  	sta	>11469828
 33123 06:87B3: C2 20        	rep	#$20
 33124                        	longa	on
 33125                        ;
 33126                        ;	VDMA_DST_ADDY_L[0] = L24BYTE((long)pdst);
  Mon Sep 27 2021  9:39                                                Page 608


 33127                        	.line	5843
 33128 06:87B5: E2 20        	sep	#$20
 33129                        	longa	off
 33130 06:87B7: A5 11        	lda	<L1471+pdst_0
 33131 06:87B9: 8F 05 04 AF  	sta	>11469829
 33132 06:87BD: C2 20        	rep	#$20
 33133                        	longa	on
 33134                        ;	VDMA_DST_ADDY_M[0] = M24BYTE((long)pdst);
 33135                        	.line	5844
 33136 06:87BF: D4 13        	pei	<L1471+pdst_0+2
 33137 06:87C1: D4 11        	pei	<L1471+pdst_0
 33138 06:87C3: A9 08 00     	lda	#$8
 33139                        	xref	~~~llsr
 33140 06:87C6: 22 xx xx xx  	jsl	~~~llsr
 33141 06:87CA: 85 01        	sta	<R0
 33142 06:87CC: 86 03        	stx	<R0+2
 33143 06:87CE: A5 01        	lda	<R0
 33144 06:87D0: 29 FF 00     	and	#<$ff
 33145 06:87D3: 85 05        	sta	<R1
 33146 06:87D5: 64 07        	stz	<R1+2
 33147 06:87D7: E2 20        	sep	#$20
 33148                        	longa	off
 33149 06:87D9: A5 05        	lda	<R1
 33150 06:87DB: 8F 06 04 AF  	sta	>11469830
 33151 06:87DF: C2 20        	rep	#$20
 33152                        	longa	on
 33153                        ;	VDMA_DST_ADDY_H[0] = H24BYTE((long)pdst);
 33154                        	.line	5845
 33155 06:87E1: D4 13        	pei	<L1471+pdst_0+2
 33156 06:87E3: D4 11        	pei	<L1471+pdst_0
 33157 06:87E5: A9 10 00     	lda	#$10
 33158                        	xref	~~~llsr
 33159 06:87E8: 22 xx xx xx  	jsl	~~~llsr
 33160 06:87EC: 85 01        	sta	<R0
 33161 06:87EE: 86 03        	stx	<R0+2
 33162 06:87F0: A5 01        	lda	<R0
 33163 06:87F2: 29 FF 00     	and	#<$ff
 33164 06:87F5: 85 05        	sta	<R1
 33165 06:87F7: 64 07        	stz	<R1+2
 33166 06:87F9: E2 20        	sep	#$20
 33167                        	longa	off
 33168 06:87FB: A5 05        	lda	<R1
 33169 06:87FD: 8F 07 04 AF  	sta	>11469831
 33170 06:8801: C2 20        	rep	#$20
 33171                        	longa	on
 33172                        ;
 33173                        ;	VDMA_X_SIZE_L[0] = LOBYTE(width);
 33174                        	.line	5847
 33175 06:8803: E2 20        	sep	#$20
 33176                        	longa	off
 33177 06:8805: A5 19        	lda	<L1471+width_0
 33178 06:8807: 8F 08 04 AF  	sta	>11469832
 33179 06:880B: C2 20        	rep	#$20
 33180                        	longa	on
 33181                        ;	VDMA_X_SIZE_H[0] = HIBYTE(width);
 33182                        	.line	5848
 33183 06:880D: A5 19        	lda	<L1471+width_0
 33184 06:880F: A2 08 00     	ldx	#<$8
  Mon Sep 27 2021  9:39                                                Page 609


 33185                        	xref	~~~asr
 33186 06:8812: 22 xx xx xx  	jsl	~~~asr
 33187 06:8816: 29 FF 00     	and	#<$ff
 33188 06:8819: 85 01        	sta	<R0
 33189 06:881B: E2 20        	sep	#$20
 33190                        	longa	off
 33191 06:881D: A5 01        	lda	<R0
 33192 06:881F: 8F 09 04 AF  	sta	>11469833
 33193 06:8823: C2 20        	rep	#$20
 33194                        	longa	on
 33195                        ;
 33196                        ;	VDMA_Y_SIZE_L[0] = LOBYTE(height);
 33197                        	.line	5850
 33198 06:8825: E2 20        	sep	#$20
 33199                        	longa	off
 33200 06:8827: A5 1B        	lda	<L1471+height_0
 33201 06:8829: 8F 0A 04 AF  	sta	>11469834
 33202 06:882D: C2 20        	rep	#$20
 33203                        	longa	on
 33204                        ;	VDMA_Y_SIZE_H[0] = HIBYTE(height);
 33205                        	.line	5851
 33206 06:882F: A5 1B        	lda	<L1471+height_0
 33207 06:8831: A2 08 00     	ldx	#<$8
 33208                        	xref	~~~asr
 33209 06:8834: 22 xx xx xx  	jsl	~~~asr
 33210 06:8838: 29 FF 00     	and	#<$ff
 33211 06:883B: 85 01        	sta	<R0
 33212 06:883D: E2 20        	sep	#$20
 33213                        	longa	off
 33214 06:883F: A5 01        	lda	<R0
 33215 06:8841: 8F 0B 04 AF  	sta	>11469835
 33216 06:8845: C2 20        	rep	#$20
 33217                        	longa	on
 33218                        ;	VDMA_Y_SIZE_H[1] = 0x00;
 33219                        	.line	5852
 33220 06:8847: E2 20        	sep	#$20
 33221                        	longa	off
 33222 06:8849: A9 00        	lda	#$0
 33223 06:884B: 8F 0C 04 AF  	sta	>11469836
 33224 06:884F: C2 20        	rep	#$20
 33225                        	longa	on
 33226                        ;
 33227                        ;
 33228                        ;	*VDMA_SRC_STRIDE_L  = 0x80;
 33229                        	.line	5855
 33230 06:8851: E2 20        	sep	#$20
 33231                        	longa	off
 33232 06:8853: A9 80        	lda	#$80
 33233 06:8855: 8F 0C 04 AF  	sta	>11469836
 33234 06:8859: C2 20        	rep	#$20
 33235                        	longa	on
 33236                        ;	*VDMA_SRC_STRIDE_H  = 0x02;
 33237                        	.line	5856
 33238 06:885B: E2 20        	sep	#$20
 33239                        	longa	off
 33240 06:885D: A9 02        	lda	#$2
 33241 06:885F: 8F 0D 04 AF  	sta	>11469837
 33242 06:8863: C2 20        	rep	#$20
  Mon Sep 27 2021  9:39                                                Page 610


 33243                        	longa	on
 33244                        ;
 33245                        ;	*VDMA_DST_STRIDE_L  = 0x80;
 33246                        	.line	5858
 33247 06:8865: E2 20        	sep	#$20
 33248                        	longa	off
 33249 06:8867: A9 80        	lda	#$80
 33250 06:8869: 8F 0E 04 AF  	sta	>11469838
 33251 06:886D: C2 20        	rep	#$20
 33252                        	longa	on
 33253                        ;	*VDMA_DST_STRIDE_H	= 0x02;
 33254                        	.line	5859
 33255 06:886F: E2 20        	sep	#$20
 33256                        	longa	off
 33257 06:8871: A9 02        	lda	#$2
 33258 06:8873: 8F 0F 04 AF  	sta	>11469839
 33259 06:8877: C2 20        	rep	#$20
 33260                        	longa	on
 33261                        ;
 33262                        ;    VDMA_CONTROL_REG[0]  = (VDMA_CTRL_ENABLE | VD
                    MA_CTRL_1D_2D | VDMA_CTRL_START_TRF);
 33263                        	.line	5861
 33264 06:8879: E2 20        	sep	#$20
 33265                        	longa	off
 33266 06:887B: A9 83        	lda	#$83
 33267 06:887D: 8F 00 04 AF  	sta	>11469824
 33268 06:8881: C2 20        	rep	#$20
 33269                        	longa	on
 33270                        ;
 33271                        ;    asm NOP;
 33272                        	.line	5863
 33273                        	asmstart
 33274 06:8883: EA           	NOP
 33275                        	asmend
 33276                        ;    asm NOP;
 33277                        	.line	5864
 33278                        	asmstart
 33279 06:8884: EA           	NOP
 33280                        	asmend
 33281                        ;    asm NOP;
 33282                        	.line	5865
 33283                        	asmstart
 33284 06:8885: EA           	NOP
 33285                        	asmend
 33286                        ;
 33287                        ;	while(status == VDMA_STAT_VDMA_IPS)
 33288                        	.line	5867
 33289                        L10598:
 33290 06:8886: E2 20        	sep	#$20
 33291                        	longa	off
 33292 06:8888: A5 0D        	lda	<L1472+status_1
 33293 06:888A: C9 80        	cmp	#<$80
 33294 06:888C: C2 20        	rep	#$20
 33295                        	longa	on
 33296 06:888E: F0 03        	beq	L1474
 33297 06:8890: 82 1E 00     	brl	L10599
 33298                        L1474:
 33299                        ;	{
  Mon Sep 27 2021  9:39                                                Page 611


 33300                        	.line	5868
 33301                        ;		status = ( *VDMA_STATUS_REG & VDMA_STAT_
                    VDMA_IPS);
 33302                        	.line	5869
 33303 06:8893: E2 20        	sep	#$20
 33304                        	longa	off
 33305 06:8895: AF 01 04 AF  	lda	>11469825
 33306 06:8899: 29 80        	and	#<$80
 33307 06:889B: 85 0D        	sta	<L1472+status_1
 33308 06:889D: C2 20        	rep	#$20
 33309                        	longa	on
 33310                        ;		spinLock++;
 33311                        	.line	5870
 33312 06:889F: E6 0B        	inc	<L1472+spinLock_1
 33313                        ;
 33314                        ;		if(spinLock > 32000)
 33315                        	.line	5872
 33316                        ;		{
 33317 06:88A1: A9 00 7D     	lda	#$7d00
 33318 06:88A4: C5 0B        	cmp	<L1472+spinLock_1
 33319 06:88A6: 90 03        	bcc	L1475
 33320 06:88A8: 82 03 00     	brl	L10600
 33321                        L1475:
 33322                        	.line	5873
 33323                        ;			break;
 33324                        	.line	5874
 33325 06:88AB: 82 03 00     	brl	L10599
 33326                        ;		}
 33327                        	.line	5875
 33328                        ;	}
 33329                        L10600:
 33330                        	.line	5876
 33331 06:88AE: 82 D5 FF     	brl	L10598
 33332                        L10599:
 33333                        ;
 33334                        ;#ifdef USE_MAX_DEBUG
 33335                        ;	k_debug_integer("k_vdma_copy_address_ex::spinLoc
                    k:",spinLock);
 33336                        ;#endif
 33337                        ;
 33338                        ;	asm NOP;
 33339                        	.line	5882
 33340                        	asmstart
 33341 06:88B1: EA           	NOP
 33342                        	asmend
 33343                        ;
 33344                        ;	VDMA_CONTROL_REG[0] = 0;
 33345                        	.line	5884
 33346 06:88B2: E2 20        	sep	#$20
 33347                        	longa	off
 33348 06:88B4: A9 00        	lda	#$0
 33349 06:88B6: 8F 00 04 AF  	sta	>11469824
 33350 06:88BA: C2 20        	rep	#$20
 33351                        	longa	on
 33352                        ;
 33353                        ;   return ;
 33354                        	.line	5886
 33355                        L1476:
  Mon Sep 27 2021  9:39                                                Page 612


 33356 06:88BC: A5 0F        	lda	<L1471+2
 33357 06:88BE: 85 1B        	sta	<L1471+2+12
 33358 06:88C0: A5 0E        	lda	<L1471+1
 33359 06:88C2: 85 1A        	sta	<L1471+1+12
 33360 06:88C4: 2B           	pld
 33361 06:88C5: 3B           	tsc
 33362 06:88C6: 18           	clc
 33363 06:88C7: 69 19 00     	adc	#L1471+12
 33364 06:88CA: 1B           	tcs
 33365 06:88CB: 6B           	rtl
 33366                        ;}
 33367                        	.line	5887
 33368                        	.endblock	5887
 33369             0000000D   L1471	equ	13
 33370             00000009   L1472	equ	9
 33371 06:88CC:              	ends
 33372                        	efunc
 33373                        	.endfunc	5887,9,13
 33374                        	.line	5887
 33375                        ;
 33376                        ;
 33377                        ;LPVOID k_gui_get_title_cache(HANDLE hTitle)
 33378                        ;{
 33379                        	.line	5890
 33380                        	.line	5891
 33381                        	GFX
 33382                        	xdef	~~k_gui_get_title_cache
 33383                        	func
 33384                        	.function	5891
 33385                        ~~k_gui_get_title_cache:
 33386                        	longa	on
 33387                        	longi	on
 33388 06:88CC: 3B           	tsc
 33389 06:88CD: 38           	sec
 33390 06:88CE: E9 00 00     	sbc	#L1477
 33391 06:88D1: 1B           	tcs
 33392 06:88D2: 0B           	phd
 33393 06:88D3: 5B           	tcd
 33394             00000004   hTitle_0	set	4
 33395                        	.block	5891
 33396                        ;	return (LPVOID)TITLE_LINES_640x480;
 33397                        	.sym	hTitle,4,129,6,32
 33398                        	.line	5892
 33399 06:88D4: AE xx xx     	ldx	|~~TITLE_LINES_640x480+2
 33400 06:88D7: AD xx xx     	lda	|~~TITLE_LINES_640x480
 33401                        L1480:
 33402 06:88DA: A8           	tay
 33403 06:88DB: A5 02        	lda	<L1477+2
 33404 06:88DD: 85 06        	sta	<L1477+2+4
 33405 06:88DF: A5 01        	lda	<L1477+1
 33406 06:88E1: 85 05        	sta	<L1477+1+4
 33407 06:88E3: 2B           	pld
 33408 06:88E4: 3B           	tsc
 33409 06:88E5: 18           	clc
 33410 06:88E6: 69 04 00     	adc	#L1477+4
 33411 06:88E9: 1B           	tcs
 33412 06:88EA: 98           	tya
 33413 06:88EB: 6B           	rtl
  Mon Sep 27 2021  9:39                                                Page 613


 33414                        ;}
 33415                        	.line	5893
 33416                        	.endblock	5893
 33417             00000000   L1477	equ	0
 33418             00000001   L1478	equ	1
 33419 06:88EC:              	ends
 33420                        	efunc
 33421                        	.endfunc	5893,1,0
 33422                        	.line	5893
 33423                        ;
 33424                        ;HANDLE k_gui_build_title_cache(LPSTR lpstrTitle)
 33425                        ;{
 33426                        	.line	5895
 33427                        	.line	5896
 33428                        	GFX
 33429                        	xdef	~~k_gui_build_title_cache
 33430                        	func
 33431                        	.function	5896
 33432                        ~~k_gui_build_title_cache:
 33433                        	longa	on
 33434                        	longi	on
 33435 06:88EC: 3B           	tsc
 33436 06:88ED: 38           	sec
 33437 06:88EE: E9 12 00     	sbc	#L1481
 33438 06:88F1: 1B           	tcs
 33439 06:88F2: 0B           	phd
 33440 06:88F3: 5B           	tcd
 33441             00000004   lpstrTitle_0	set	4
 33442                        	.block	5896
 33443                        ;	int i = 0;
 33444                        ;	int x = 0;
 33445                        ;	int y = 400;
 33446                        ;	ULONG offset = 0;
 33447                        ;
 33448                        ;	k_debug_strings("k_gui_build_title_cache:","CACH
                    ED");
 33449             00000000   i_1	set	0
 33450             00000002   x_1	set	2
 33451             00000004   y_1	set	4
 33452             00000006   offset_1	set	6
 33453                        	.sym	i,0,5,1,16
 33454                        	.sym	x,2,5,1,16
 33455                        	.sym	y,4,5,1,16
 33456                        	.sym	offset,6,18,1,32
 33457                        	.sym	lpstrTitle,4,142,6,32
 33458 06:88F4: 64 09        	stz	<L1482+i_1
 33459 06:88F6: 64 0B        	stz	<L1482+x_1
 33460 06:88F8: A9 90 01     	lda	#$190
 33461 06:88FB: 85 0D        	sta	<L1482+y_1
 33462 06:88FD: 64 0F        	stz	<L1482+offset_1
 33463 06:88FF: 64 11        	stz	<L1482+offset_1+2
 33464                        	.line	5902
 33465 06:8901: F4 xx xx     	pea	#^L1391+25
 33466 06:8904: F4 xx xx     	pea	#<L1391+25
 33467 06:8907: F4 xx xx     	pea	#^L1391
 33468 06:890A: F4 xx xx     	pea	#<L1391
 33469 06:890D: 22 xx xx xx  	jsl	~~k_debug_strings
 33470                        ;
  Mon Sep 27 2021  9:39                                                Page 614


 33471                        ;	offset = (ULONG)k_gui_get_pixel_offset(x,y);
 33472                        	.line	5904
 33473 06:8911: D4 0D        	pei	<L1482+y_1
 33474 06:8913: D4 0B        	pei	<L1482+x_1
 33475 06:8915: 22 BA 07 06  	jsl	~~k_gui_get_pixel_offset
 33476 06:8919: 85 0F        	sta	<L1482+offset_1
 33477 06:891B: 86 11        	stx	<L1482+offset_1+2
 33478                        ;
 33479                        ;	TITLE_LINES_640x480 = (LPSTR)((ULONG)0x080000 + 
                    (ULONG)offset);
 33480                        	.line	5906
 33481 06:891D: 18           	clc
 33482 06:891E: A9 00 00     	lda	#$0
 33483 06:8921: 65 0F        	adc	<L1482+offset_1
 33484 06:8923: 85 01        	sta	<R0
 33485 06:8925: A9 08 00     	lda	#$8
 33486 06:8928: 65 11        	adc	<L1482+offset_1+2
 33487 06:892A: 85 03        	sta	<R0+2
 33488 06:892C: A5 01        	lda	<R0
 33489 06:892E: 8D xx xx     	sta	|~~TITLE_LINES_640x480
 33490 06:8931: A5 03        	lda	<R0+2
 33491 06:8933: 8D xx xx     	sta	|~~TITLE_LINES_640x480+2
 33492                        ;
 33493                        ;	k_debug_pointer("k_gui_build_title_cache:",TITLE
                    _LINES_640x480);
 33494                        	.line	5908
 33495 06:8936: AD xx xx     	lda	|~~TITLE_LINES_640x480+2
 33496 06:8939: 48           	pha
 33497 06:893A: AD xx xx     	lda	|~~TITLE_LINES_640x480
 33498 06:893D: 48           	pha
 33499 06:893E: F4 xx xx     	pea	#^L1391+32
 33500 06:8941: F4 xx xx     	pea	#<L1391+32
 33501 06:8944: 22 xx xx xx  	jsl	~~k_debug_pointer
 33502                        ;
 33503                        ;	k_vdma_fill_rect_ex(x,y,640,8,15,BITMAP_BACK);
 33504                        	.line	5910
 33505 06:8948: F4 08 00     	pea	#<$8
 33506 06:894B: F4 0F 00     	pea	#<$f
 33507 06:894E: F4 08 00     	pea	#<$8
 33508 06:8951: F4 80 02     	pea	#<$280
 33509 06:8954: A0 00 00     	ldy	#$0
 33510 06:8957: A5 0D        	lda	<L1482+y_1
 33511 06:8959: 10 01        	bpl	L1484
 33512 06:895B: 88           	dey
 33513                        L1484:
 33514 06:895C: 85 01        	sta	<R0
 33515 06:895E: 84 03        	sty	<R0+2
 33516 06:8960: D4 03        	pei	<R0+2
 33517 06:8962: D4 01        	pei	<R0
 33518 06:8964: A0 00 00     	ldy	#$0
 33519 06:8967: A5 0B        	lda	<L1482+x_1
 33520 06:8969: 10 01        	bpl	L1485
 33521 06:896B: 88           	dey
 33522                        L1485:
 33523 06:896C: 85 05        	sta	<R1
 33524 06:896E: 84 07        	sty	<R1+2
 33525 06:8970: D4 07        	pei	<R1+2
 33526 06:8972: D4 05        	pei	<R1
  Mon Sep 27 2021  9:39                                                Page 615


 33527 06:8974: 22 35 61 06  	jsl	~~k_vdma_fill_rect_ex
 33528                        ;
 33529                        ;	for(i=0;i<80;i++)
 33530                        	.line	5912
 33531 06:8978: 64 09        	stz	<L1482+i_1
 33532                        L10603:
 33533                        ;	{
 33534                        	.line	5913
 33535                        ;		x+=k_put_wingadget_point_ex(WINICON_TITL
                    E_LINES,x,y,k_getUIGadgetColor(),0x08);
 33536                        	.line	5914
 33537 06:897A: F4 08 00     	pea	#<$8
 33538 06:897D: 22 DE 12 06  	jsl	~~k_getUIGadgetColor
 33539 06:8981: 48           	pha
 33540 06:8982: D4 0D        	pei	<L1482+y_1
 33541 06:8984: D4 0B        	pei	<L1482+x_1
 33542 06:8986: F4 01 00     	pea	#<$1
 33543 06:8989: 22 F6 2E 06  	jsl	~~k_put_wingadget_point_ex
 33544 06:898D: 85 01        	sta	<R0
 33545 06:898F: 18           	clc
 33546 06:8990: A5 01        	lda	<R0
 33547 06:8992: 65 0B        	adc	<L1482+x_1
 33548 06:8994: 85 0B        	sta	<L1482+x_1
 33549                        ;		//x+=k_put_wingadget_point_ex(WINICON_TI
                    TLE_LINES,x,y,15,0x08);
 33550                        ;	}
 33551                        	.line	5916
 33552                        L10601:
 33553 06:8996: E6 09        	inc	<L1482+i_1
 33554 06:8998: 38           	sec
 33555 06:8999: A5 09        	lda	<L1482+i_1
 33556 06:899B: E9 50 00     	sbc	#<$50
 33557 06:899E: 70 03        	bvs	L1486
 33558 06:89A0: 49 00 80     	eor	#$8000
 33559                        L1486:
 33560 06:89A3: 30 03        	bmi	L1487
 33561 06:89A5: 82 D2 FF     	brl	L10603
 33562                        L1487:
 33563                        L10602:
 33564                        ;
 33565                        ;	k_vdma_copy_address_ex((LPSTR)((ULONG)0x080000 +
                     k_gui_get_pixel_offset(0,420)),TITLE_LINES_640x480,640,8);
 33566                        	.line	5918
 33567 06:89A8: F4 08 00     	pea	#<$8
 33568 06:89AB: F4 80 02     	pea	#<$280
 33569 06:89AE: AD xx xx     	lda	|~~TITLE_LINES_640x480+2
 33570 06:89B1: 48           	pha
 33571 06:89B2: AD xx xx     	lda	|~~TITLE_LINES_640x480
 33572 06:89B5: 48           	pha
 33573 06:89B6: F4 A4 01     	pea	#<$1a4
 33574 06:89B9: F4 00 00     	pea	#<$0
 33575 06:89BC: 22 BA 07 06  	jsl	~~k_gui_get_pixel_offset
 33576 06:89C0: 85 01        	sta	<R0
 33577 06:89C2: 86 03        	stx	<R0+2
 33578 06:89C4: 18           	clc
 33579 06:89C5: A9 00 00     	lda	#$0
 33580 06:89C8: 65 01        	adc	<R0
 33581 06:89CA: 85 05        	sta	<R1
  Mon Sep 27 2021  9:39                                                Page 616


 33582 06:89CC: A9 08 00     	lda	#$8
 33583 06:89CF: 65 03        	adc	<R0+2
 33584 06:89D1: 85 07        	sta	<R1+2
 33585 06:89D3: D4 07        	pei	<R1+2
 33586 06:89D5: D4 05        	pei	<R1
 33587 06:89D7: 22 49 87 06  	jsl	~~k_vdma_copy_address_ex
 33588                        ;
 33589                        ;	return NULL;
 33590                        	.line	5920
 33591 06:89DB: A9 00 00     	lda	#$0
 33592 06:89DE: AA           	tax
 33593 06:89DF: A9 00 00     	lda	#$0
 33594                        L1488:
 33595 06:89E2: A8           	tay
 33596 06:89E3: A5 14        	lda	<L1481+2
 33597 06:89E5: 85 18        	sta	<L1481+2+4
 33598 06:89E7: A5 13        	lda	<L1481+1
 33599 06:89E9: 85 17        	sta	<L1481+1+4
 33600 06:89EB: 2B           	pld
 33601 06:89EC: 3B           	tsc
 33602 06:89ED: 18           	clc
 33603 06:89EE: 69 16 00     	adc	#L1481+4
 33604 06:89F1: 1B           	tcs
 33605 06:89F2: 98           	tya
 33606 06:89F3: 6B           	rtl
 33607                        ;}
 33608                        	.line	5921
 33609                        	.endblock	5921
 33610             00000012   L1481	equ	18
 33611             00000009   L1482	equ	9
 33612 06:89F4:              	ends
 33613                        	efunc
 33614                        	.endfunc	5921,9,18
 33615                        	.line	5921
 33616                        	data
 33617                        L1391:
 33618 00:0C48: 6B 5F 67 75  	db	$6B,$5F,$67,$75,$69,$5F,$62,$75,$69,$6C,
                    $64,$5F,$74,$69,$74
       00:0C4C: 69 5F 62 75 
       00:0C50: 69 6C 64 5F 
       00:0C54: 74 69 74 
 33619 00:0C57: 6C 65 5F 63  	db	$6C,$65,$5F,$63,$61,$63,$68,$65,$3A,$00,
                    $43,$41,$43,$48,$45
       00:0C5B: 61 63 68 65 
       00:0C5F: 3A 00 43 41 
       00:0C63: 43 48 45 
 33620 00:0C66: 44 00 6B 5F  	db	$44,$00,$6B,$5F,$67,$75,$69,$5F,$62,$75,
                    $69,$6C,$64,$5F,$74
       00:0C6A: 67 75 69 5F 
       00:0C6E: 62 75 69 6C 
       00:0C72: 64 5F 74 
 33621 00:0C75: 69 74 6C 65  	db	$69,$74,$6C,$65,$5F,$63,$61,$63,$68,$65,
                    $3A,$00
       00:0C79: 5F 63 61 63 
       00:0C7D: 68 65 3A 00 
 33622 00:0C81:              	ends
 33623                        ;
 33624                        ;#include "bmp/cbmp.c"
  Mon Sep 27 2021  9:39                                                Page 617


 33625                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\bmp/cbmp.c",0
 33626                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxos.h",0
 33627                        	.line	30
 33628                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\bmp/cbmp.c",1
 33629                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\bmp/cbmp.h",0
 33630                        	.stag	tagBITMAPFILEHEADER,96,131
 33631                        	.member	bfSize,0,18,8,32
 33632                        	.member	bfReserved1,32,15,8,16
 33633                        	.member	bfReserved2,48,15,8,16
 33634                        	.member	bfOffBits,64,18,8,32
 33635                        	.eos
 33636                        	.stag	tagBITMAPINFOHEADER,320,132
 33637                        	.member	biSize,0,18,8,32
 33638                        	.member	biWidth,32,7,8,32
 33639                        	.member	biHeight,64,7,8,32
 33640                        	.member	biPlanes,96,15,8,16
 33641                        	.member	biBitCount,112,15,8,16
 33642                        	.member	biCompression,128,18,8,32
 33643                        	.member	biSizeImage,160,18,8,32
 33644                        	.member	biXPelsPerMeter,192,18,8,32
 33645                        	.member	biYPelsPerMeter,224,18,8,32
 33646                        	.member	biClrUsed,256,18,8,32
 33647                        	.member	biClrImportant,288,18,8,32
 33648                        	.eos
 33649                        	.stag	_PixelInfo,32,133
 33650                        	.member	rgbBlue,0,14,8,8
 33651                        	.member	rgbGreen,8,14,8,8
 33652                        	.member	rgbRed,16,14,8,8
 33653                        	.member	rgbReserved,24,14,8,8
 33654                        	.eos
 33655                        	.line	49
 33656                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\bmp/cbmp.c",2
 33657                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\bmp/cbmp.c",34
 33658                        	.line	35
 33659                        	GFX
 33660                        	xdef	~~readBMPPalette
 33661                        	func
 33662                        	.function	35
 33663                        ~~readBMPPalette:
 33664                        	longa	on
 33665                        	longi	on
 33666 06:89F4: 3B           	tsc
 33667 06:89F5: 38           	sec
 33668 06:89F6: E9 45 00     	sbc	#L1490
 33669 06:89F9: 1B           	tcs
 33670 06:89FA: 0B           	phd
 33671 06:89FB: 5B           	tcd
 33672             00000004   path_0	set	4
 33673                        	.block	35
 33674             00000000   dir_1	set	0
 33675             00000004   fs_1	set	4
 33676             00000008   f_1	set	8
  Mon Sep 27 2021  9:39                                                Page 618


 33677             0000000C   fileInfo_1	set	12
 33678             00000010   fr_1	set	16
 33679             00000012   drive_1	set	18
 33680             00000016   read_1	set	22
 33681             00000018   data_1	set	24
 33682             0000001C   num_colors_1	set	28
 33683             0000001E   x_1	set	30
 33684             00000022   y_1	set	34
 33685             00000026   i_1	set	38
 33686             0000002A   c_1	set	42
 33687             0000002B   dx_1	set	43
 33688             0000002F   dy_1	set	47
 33689             00000033   bitmap_offset_1	set	51
 33690             00000037   fileType_1	set	55
 33691             00000039   pPalette_1	set	57
 33692                        	.sym	dir,0,138,1,32,87
 33693                        	.sym	fs,4,138,1,32,84
 33694                        	.sym	f,8,138,1,32,86
 33695                        	.sym	fileInfo,12,138,1,32,88
 33696                        	.sym	fr,16,5,1,16
 33697                        	.sym	drive,18,142,1,32
 33698                        	.sym	read,22,16,1,16
 33699                        	.sym	data,24,142,1,32
 33700                        	.sym	num_colors,28,16,1,16
 33701                        	.sym	x,30,18,1,32
 33702                        	.sym	y,34,18,1,32
 33703                        	.sym	i,38,18,1,32
 33704                        	.sym	c,42,14,1,8
 33705                        	.sym	dx,43,18,1,32
 33706                        	.sym	dy,47,18,1,32
 33707                        	.sym	bitmap_offset,51,18,1,32
 33708                        	.sym	fileType,55,15,1,16
 33709                        	.sym	pPalette,57,142,1,32
 33710                        	.sym	path,4,142,6,32
 33711 06:89FC: 64 0D        	stz	<L1491+fs_1
 33712 06:89FE: 64 0F        	stz	<L1491+fs_1+2
 33713 06:8A00: 64 11        	stz	<L1491+f_1
 33714 06:8A02: 64 13        	stz	<L1491+f_1+2
 33715 06:8A04: 64 19        	stz	<L1491+fr_1
 33716 06:8A06: 64 1B        	stz	<L1491+drive_1
 33717 06:8A08: 64 1D        	stz	<L1491+drive_1+2
 33718 06:8A0A: 64 21        	stz	<L1491+data_1
 33719 06:8A0C: 64 23        	stz	<L1491+data_1+2
 33720 06:8A0E: 64 25        	stz	<L1491+num_colors_1
 33721 06:8A10: 64 34        	stz	<L1491+dx_1
 33722 06:8A12: 64 36        	stz	<L1491+dx_1+2
 33723 06:8A14: 64 38        	stz	<L1491+dy_1
 33724 06:8A16: 64 3A        	stz	<L1491+dy_1+2
 33725 06:8A18: 64 42        	stz	<L1491+pPalette_1
 33726 06:8A1A: 64 44        	stz	<L1491+pPalette_1+2
 33727                        	.line	61
 33728 06:8A1C: F4 3A 00     	pea	#<$3a
 33729 06:8A1F: D4 4B        	pei	<L1490+path_0+2
 33730 06:8A21: D4 49        	pei	<L1490+path_0
 33731 06:8A23: 22 xx xx xx  	jsl	~~k_string_copy_to_delimiter
 33732 06:8A27: 85 1B        	sta	<L1491+drive_1
 33733 06:8A29: 86 1D        	stx	<L1491+drive_1+2
 33734                        	.line	63
  Mon Sep 27 2021  9:39                                                Page 619


 33735 06:8A2B: F4 00 00     	pea	#^$34
 33736 06:8A2E: F4 34 00     	pea	#<$34
 33737 06:8A31: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 33738 06:8A35: 85 09        	sta	<L1491+dir_1
 33739 06:8A37: 86 0B        	stx	<L1491+dir_1+2
 33740                        	.line	64
 33741 06:8A39: F4 00 00     	pea	#^$233
 33742 06:8A3C: F4 33 02     	pea	#<$233
 33743 06:8A3F: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 33744 06:8A43: 85 0D        	sta	<L1491+fs_1
 33745 06:8A45: 86 0F        	stx	<L1491+fs_1+2
 33746                        	.line	65
 33747 06:8A47: F4 00 00     	pea	#^$226
 33748 06:8A4A: F4 26 02     	pea	#<$226
 33749 06:8A4D: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 33750 06:8A51: 85 11        	sta	<L1491+f_1
 33751 06:8A53: 86 13        	stx	<L1491+f_1+2
 33752                        	.line	69
 33753 06:8A55: A9 00 20     	lda	#$2000
 33754 06:8A58: 85 42        	sta	<L1491+pPalette_1
 33755 06:8A5A: A9 AF 00     	lda	#$af
 33756 06:8A5D: 85 44        	sta	<L1491+pPalette_1+2
 33757                        	.line	71
 33758 06:8A5F: F4 01 00     	pea	#<$1
 33759 06:8A62: D4 1D        	pei	<L1491+drive_1+2
 33760 06:8A64: D4 1B        	pei	<L1491+drive_1
 33761 06:8A66: F4 00 00     	pea	#^$0
 33762 06:8A69: F4 00 00     	pea	#<$0
 33763 06:8A6C: 22 xx xx xx  	jsl	~~f_mount
 33764 06:8A70: 85 19        	sta	<L1491+fr_1
 33765                        	.line	72
 33766 06:8A72: F4 01 00     	pea	#<$1
 33767 06:8A75: D4 1D        	pei	<L1491+drive_1+2
 33768 06:8A77: D4 1B        	pei	<L1491+drive_1
 33769 06:8A79: D4 0F        	pei	<L1491+fs_1+2
 33770 06:8A7B: D4 0D        	pei	<L1491+fs_1
 33771 06:8A7D: 22 xx xx xx  	jsl	~~f_mount
 33772 06:8A81: 85 19        	sta	<L1491+fr_1
 33773                        	.line	73
 33774 06:8A83: A5 19        	lda	<L1491+fr_1
 33775 06:8A85: F0 03        	beq	L1493
 33776 06:8A87: 82 4E 02     	brl	L10604
 33777                        L1493:
 33778                        	.line	74
 33779                        	.line	75
 33780 06:8A8A: F4 01 00     	pea	#<$1
 33781 06:8A8D: D4 4B        	pei	<L1490+path_0+2
 33782 06:8A8F: D4 49        	pei	<L1490+path_0
 33783 06:8A91: D4 13        	pei	<L1491+f_1+2
 33784 06:8A93: D4 11        	pei	<L1491+f_1
 33785 06:8A95: 22 xx xx xx  	jsl	~~f_open
 33786 06:8A99: 85 19        	sta	<L1491+fr_1
 33787                        	.line	76
 33788 06:8A9B: A5 19        	lda	<L1491+fr_1
 33789 06:8A9D: F0 03        	beq	L1494
 33790 06:8A9F: 82 36 02     	brl	L10605
 33791                        L1494:
 33792                        	.line	77
  Mon Sep 27 2021  9:39                                                Page 620


 33793                        	.line	78
 33794 06:8AA2: F4 00 00     	pea	#0
 33795 06:8AA5: 18           	clc
 33796 06:8AA6: 7B           	tdc
 33797 06:8AA7: 69 1F 00     	adc	#<L1491+read_1
 33798 06:8AAA: 48           	pha
 33799 06:8AAB: F4 02 00     	pea	#<$2
 33800 06:8AAE: F4 00 00     	pea	#0
 33801 06:8AB1: 18           	clc
 33802 06:8AB2: 7B           	tdc
 33803 06:8AB3: 69 40 00     	adc	#<L1491+fileType_1
 33804 06:8AB6: 48           	pha
 33805 06:8AB7: D4 13        	pei	<L1491+f_1+2
 33806 06:8AB9: D4 11        	pei	<L1491+f_1
 33807 06:8ABB: 22 xx xx xx  	jsl	~~f_read
 33808 06:8ABF: 85 19        	sta	<L1491+fr_1
 33809                        	.line	79
 33810 06:8AC1: A5 19        	lda	<L1491+fr_1
 33811 06:8AC3: F0 03        	beq	L1495
 33812 06:8AC5: 82 10 02     	brl	L10606
 33813                        L1495:
 33814 06:8AC8: A5 40        	lda	<L1491+fileType_1
 33815 06:8ACA: C9 42 4D     	cmp	#<$4d42
 33816 06:8ACD: F0 03        	beq	L1496
 33817 06:8ACF: 82 06 02     	brl	L10606
 33818                        L1496:
 33819                        	.line	80
 33820                        	.line	84
 33821 06:8AD2: F4 00 00     	pea	#0
 33822 06:8AD5: 18           	clc
 33823 06:8AD6: 7B           	tdc
 33824 06:8AD7: 69 1F 00     	adc	#<L1491+read_1
 33825 06:8ADA: 48           	pha
 33826 06:8ADB: F4 0C 00     	pea	#<$c
 33827 06:8ADE: A9 xx xx     	lda	#<~~fileHeader
 33828 06:8AE1: 85 01        	sta	<R0
 33829                        	xref	_BEG_DATA
 33830 06:8AE3: A9 xx xx     	lda	#_BEG_DATA>>16
 33831 06:8AE6: 85 03        	sta	<R0+2
 33832 06:8AE8: D4 03        	pei	<R0+2
 33833 06:8AEA: D4 01        	pei	<R0
 33834 06:8AEC: D4 13        	pei	<L1491+f_1+2
 33835 06:8AEE: D4 11        	pei	<L1491+f_1
 33836 06:8AF0: 22 xx xx xx  	jsl	~~f_read
 33837 06:8AF4: 85 19        	sta	<L1491+fr_1
 33838                        	.line	88
 33839 06:8AF6: F4 00 00     	pea	#0
 33840 06:8AF9: 18           	clc
 33841 06:8AFA: 7B           	tdc
 33842 06:8AFB: 69 1F 00     	adc	#<L1491+read_1
 33843 06:8AFE: 48           	pha
 33844 06:8AFF: F4 28 00     	pea	#<$28
 33845 06:8B02: A9 xx xx     	lda	#<~~infoHeader
 33846 06:8B05: 85 01        	sta	<R0
 33847                        	xref	_BEG_DATA
 33848 06:8B07: A9 xx xx     	lda	#_BEG_DATA>>16
 33849 06:8B0A: 85 03        	sta	<R0+2
 33850 06:8B0C: D4 03        	pei	<R0+2
  Mon Sep 27 2021  9:39                                                Page 621


 33851 06:8B0E: D4 01        	pei	<R0
 33852 06:8B10: D4 13        	pei	<L1491+f_1+2
 33853 06:8B12: D4 11        	pei	<L1491+f_1
 33854 06:8B14: 22 xx xx xx  	jsl	~~f_read
 33855 06:8B18: 85 19        	sta	<L1491+fr_1
 33856                        	.line	92
 33857 06:8B1A: AD xx xx     	lda	|~~infoHeader+4+2
 33858 06:8B1D: 30 0D        	bmi	L1497
 33859 06:8B1F: D0 08        	bne	L1498
 33860 06:8B21: AD xx xx     	lda	|~~infoHeader+4
 33861 06:8B24: C9 80 02     	cmp	#640
 33862 06:8B27: 90 03        	bcc	L1497
 33863                        L1498:
 33864 06:8B29: 82 34 00     	brl	L10607
 33865                        L1497:
 33866                        	.line	93
 33867                        	.line	94
 33868 06:8B2C: F4 00 00     	pea	#^$2
 33869 06:8B2F: F4 02 00     	pea	#<$2
 33870 06:8B32: AD xx xx     	lda	|~~infoHeader+4+2
 33871 06:8B35: 48           	pha
 33872 06:8B36: AD xx xx     	lda	|~~infoHeader+4
 33873 06:8B39: 48           	pha
 33874                        	xref	~~~ldiv
 33875 06:8B3A: 22 xx xx xx  	jsl	~~~ldiv
 33876 06:8B3E: 85 01        	sta	<R0
 33877 06:8B40: 86 03        	stx	<R0+2
 33878 06:8B42: 38           	sec
 33879 06:8B43: A9 40 01     	lda	#$140
 33880 06:8B46: E5 01        	sbc	<R0
 33881 06:8B48: 85 05        	sta	<R1
 33882 06:8B4A: A9 00 00     	lda	#$0
 33883 06:8B4D: E5 03        	sbc	<R0+2
 33884 06:8B4F: 85 07        	sta	<R1+2
 33885 06:8B51: 18           	clc
 33886 06:8B52: A9 E7 FF     	lda	#$ffe7
 33887 06:8B55: 65 05        	adc	<R1
 33888 06:8B57: 85 34        	sta	<L1491+dx_1
 33889 06:8B59: A9 FF FF     	lda	#$ffff
 33890 06:8B5C: 65 07        	adc	<R1+2
 33891 06:8B5E: 85 36        	sta	<L1491+dx_1+2
 33892                        	.line	95
 33893                        L10607:
 33894                        	.line	96
 33895 06:8B60: AD xx xx     	lda	|~~infoHeader+8+2
 33896 06:8B63: 30 0D        	bmi	L1499
 33897 06:8B65: D0 08        	bne	L1500
 33898 06:8B67: AD xx xx     	lda	|~~infoHeader+8
 33899 06:8B6A: C9 80 02     	cmp	#640
 33900 06:8B6D: 90 03        	bcc	L1499
 33901                        L1500:
 33902 06:8B6F: 82 25 00     	brl	L10608
 33903                        L1499:
 33904                        	.line	97
 33905                        	.line	98
 33906 06:8B72: F4 00 00     	pea	#^$2
 33907 06:8B75: F4 02 00     	pea	#<$2
 33908 06:8B78: AD xx xx     	lda	|~~infoHeader+8+2
  Mon Sep 27 2021  9:39                                                Page 622


 33909 06:8B7B: 48           	pha
 33910 06:8B7C: AD xx xx     	lda	|~~infoHeader+8
 33911 06:8B7F: 48           	pha
 33912                        	xref	~~~ldiv
 33913 06:8B80: 22 xx xx xx  	jsl	~~~ldiv
 33914 06:8B84: 85 01        	sta	<R0
 33915 06:8B86: 86 03        	stx	<R0+2
 33916 06:8B88: 38           	sec
 33917 06:8B89: A9 F0 00     	lda	#$f0
 33918 06:8B8C: E5 01        	sbc	<R0
 33919 06:8B8E: 85 38        	sta	<L1491+dy_1
 33920 06:8B90: A9 00 00     	lda	#$0
 33921 06:8B93: E5 03        	sbc	<R0+2
 33922 06:8B95: 85 3A        	sta	<L1491+dy_1+2
 33923                        	.line	99
 33924                        L10608:
 33925                        	.line	101
 33926 06:8B97: AD xx xx     	lda	|~~infoHeader+32
 33927 06:8B9A: 0D xx xx     	ora	|~~infoHeader+32+2
 33928 06:8B9D: F0 03        	beq	L1501
 33929 06:8B9F: 82 05 00     	brl	L10609
 33930                        L1501:
 33931                        	.line	102
 33932 06:8BA2: A9 00 01     	lda	#$100
 33933 06:8BA5: 85 25        	sta	<L1491+num_colors_1
 33934                        L10609:
 33935                        	.line	105
 33936 06:8BA7: 64 2F        	stz	<L1491+i_1
 33937 06:8BA9: 64 31        	stz	<L1491+i_1+2
 33938 06:8BAB: 82 0F 01     	brl	L10613
 33939                        L10612:
 33940                        	.line	106
 33941                        	.line	108
 33942 06:8BAE: F4 00 00     	pea	#0
 33943 06:8BB1: 18           	clc
 33944 06:8BB2: 7B           	tdc
 33945 06:8BB3: 69 1F 00     	adc	#<L1491+read_1
 33946 06:8BB6: 48           	pha
 33947 06:8BB7: F4 01 00     	pea	#<$1
 33948 06:8BBA: F4 00 00     	pea	#0
 33949 06:8BBD: 18           	clc
 33950 06:8BBE: 7B           	tdc
 33951 06:8BBF: 69 33 00     	adc	#<L1491+c_1
 33952 06:8BC2: 48           	pha
 33953 06:8BC3: D4 13        	pei	<L1491+f_1+2
 33954 06:8BC5: D4 11        	pei	<L1491+f_1
 33955 06:8BC7: 22 xx xx xx  	jsl	~~f_read
 33956                        	.line	110
 33957 06:8BCB: A5 2F        	lda	<L1491+i_1
 33958 06:8BCD: 85 01        	sta	<R0
 33959 06:8BCF: A5 31        	lda	<L1491+i_1+2
 33960 06:8BD1: 85 03        	sta	<R0+2
 33961 06:8BD3: 06 01        	asl	<R0
 33962 06:8BD5: 26 03        	rol	<R0+2
 33963 06:8BD7: 06 01        	asl	<R0
 33964 06:8BD9: 26 03        	rol	<R0+2
 33965 06:8BDB: E2 20        	sep	#$20
 33966                        	longa	off
  Mon Sep 27 2021  9:39                                                Page 623


 33967 06:8BDD: A5 33        	lda	<L1491+c_1
 33968 06:8BDF: A4 01        	ldy	<R0
 33969 06:8BE1: 97 42        	sta	[<L1491+pPalette_1],Y
 33970 06:8BE3: C2 20        	rep	#$20
 33971                        	longa	on
 33972                        	.line	111
 33973 06:8BE5: F4 00 00     	pea	#0
 33974 06:8BE8: 18           	clc
 33975 06:8BE9: 7B           	tdc
 33976 06:8BEA: 69 1F 00     	adc	#<L1491+read_1
 33977 06:8BED: 48           	pha
 33978 06:8BEE: F4 01 00     	pea	#<$1
 33979 06:8BF1: F4 00 00     	pea	#0
 33980 06:8BF4: 18           	clc
 33981 06:8BF5: 7B           	tdc
 33982 06:8BF6: 69 33 00     	adc	#<L1491+c_1
 33983 06:8BF9: 48           	pha
 33984 06:8BFA: D4 13        	pei	<L1491+f_1+2
 33985 06:8BFC: D4 11        	pei	<L1491+f_1
 33986 06:8BFE: 22 xx xx xx  	jsl	~~f_read
 33987                        	.line	113
 33988 06:8C02: A5 2F        	lda	<L1491+i_1
 33989 06:8C04: 85 01        	sta	<R0
 33990 06:8C06: A5 31        	lda	<L1491+i_1+2
 33991 06:8C08: 85 03        	sta	<R0+2
 33992 06:8C0A: 06 01        	asl	<R0
 33993 06:8C0C: 26 03        	rol	<R0+2
 33994 06:8C0E: 06 01        	asl	<R0
 33995 06:8C10: 26 03        	rol	<R0+2
 33996 06:8C12: 18           	clc
 33997 06:8C13: A9 01 00     	lda	#$1
 33998 06:8C16: 65 01        	adc	<R0
 33999 06:8C18: 85 05        	sta	<R1
 34000 06:8C1A: A9 00 00     	lda	#$0
 34001 06:8C1D: 65 03        	adc	<R0+2
 34002 06:8C1F: 85 07        	sta	<R1+2
 34003 06:8C21: E2 20        	sep	#$20
 34004                        	longa	off
 34005 06:8C23: A5 33        	lda	<L1491+c_1
 34006 06:8C25: A4 05        	ldy	<R1
 34007 06:8C27: 97 42        	sta	[<L1491+pPalette_1],Y
 34008 06:8C29: C2 20        	rep	#$20
 34009                        	longa	on
 34010                        	.line	114
 34011 06:8C2B: F4 00 00     	pea	#0
 34012 06:8C2E: 18           	clc
 34013 06:8C2F: 7B           	tdc
 34014 06:8C30: 69 1F 00     	adc	#<L1491+read_1
 34015 06:8C33: 48           	pha
 34016 06:8C34: F4 01 00     	pea	#<$1
 34017 06:8C37: F4 00 00     	pea	#0
 34018 06:8C3A: 18           	clc
 34019 06:8C3B: 7B           	tdc
 34020 06:8C3C: 69 33 00     	adc	#<L1491+c_1
 34021 06:8C3F: 48           	pha
 34022 06:8C40: D4 13        	pei	<L1491+f_1+2
 34023 06:8C42: D4 11        	pei	<L1491+f_1
 34024 06:8C44: 22 xx xx xx  	jsl	~~f_read
  Mon Sep 27 2021  9:39                                                Page 624


 34025                        	.line	116
 34026 06:8C48: A5 2F        	lda	<L1491+i_1
 34027 06:8C4A: 85 01        	sta	<R0
 34028 06:8C4C: A5 31        	lda	<L1491+i_1+2
 34029 06:8C4E: 85 03        	sta	<R0+2
 34030 06:8C50: 06 01        	asl	<R0
 34031 06:8C52: 26 03        	rol	<R0+2
 34032 06:8C54: 06 01        	asl	<R0
 34033 06:8C56: 26 03        	rol	<R0+2
 34034 06:8C58: 18           	clc
 34035 06:8C59: A9 02 00     	lda	#$2
 34036 06:8C5C: 65 01        	adc	<R0
 34037 06:8C5E: 85 05        	sta	<R1
 34038 06:8C60: A9 00 00     	lda	#$0
 34039 06:8C63: 65 03        	adc	<R0+2
 34040 06:8C65: 85 07        	sta	<R1+2
 34041 06:8C67: E2 20        	sep	#$20
 34042                        	longa	off
 34043 06:8C69: A5 33        	lda	<L1491+c_1
 34044 06:8C6B: A4 05        	ldy	<R1
 34045 06:8C6D: 97 42        	sta	[<L1491+pPalette_1],Y
 34046 06:8C6F: C2 20        	rep	#$20
 34047                        	longa	on
 34048                        	.line	117
 34049 06:8C71: F4 00 00     	pea	#0
 34050 06:8C74: 18           	clc
 34051 06:8C75: 7B           	tdc
 34052 06:8C76: 69 1F 00     	adc	#<L1491+read_1
 34053 06:8C79: 48           	pha
 34054 06:8C7A: F4 01 00     	pea	#<$1
 34055 06:8C7D: F4 00 00     	pea	#0
 34056 06:8C80: 18           	clc
 34057 06:8C81: 7B           	tdc
 34058 06:8C82: 69 33 00     	adc	#<L1491+c_1
 34059 06:8C85: 48           	pha
 34060 06:8C86: D4 13        	pei	<L1491+f_1+2
 34061 06:8C88: D4 11        	pei	<L1491+f_1
 34062 06:8C8A: 22 xx xx xx  	jsl	~~f_read
 34063                        	.line	118
 34064 06:8C8E: A5 2F        	lda	<L1491+i_1
 34065 06:8C90: 85 01        	sta	<R0
 34066 06:8C92: A5 31        	lda	<L1491+i_1+2
 34067 06:8C94: 85 03        	sta	<R0+2
 34068 06:8C96: 06 01        	asl	<R0
 34069 06:8C98: 26 03        	rol	<R0+2
 34070 06:8C9A: 06 01        	asl	<R0
 34071 06:8C9C: 26 03        	rol	<R0+2
 34072 06:8C9E: 18           	clc
 34073 06:8C9F: A9 03 00     	lda	#$3
 34074 06:8CA2: 65 01        	adc	<R0
 34075 06:8CA4: 85 05        	sta	<R1
 34076 06:8CA6: A9 00 00     	lda	#$0
 34077 06:8CA9: 65 03        	adc	<R0+2
 34078 06:8CAB: 85 07        	sta	<R1+2
 34079 06:8CAD: E2 20        	sep	#$20
 34080                        	longa	off
 34081 06:8CAF: A9 00        	lda	#$0
 34082 06:8CB1: A4 05        	ldy	<R1
  Mon Sep 27 2021  9:39                                                Page 625


 34083 06:8CB3: 97 42        	sta	[<L1491+pPalette_1],Y
 34084 06:8CB5: C2 20        	rep	#$20
 34085                        	longa	on
 34086                        	.line	121
 34087                        L10610:
 34088 06:8CB7: E6 2F        	inc	<L1491+i_1
 34089 06:8CB9: D0 02        	bne	L1502
 34090 06:8CBB: E6 31        	inc	<L1491+i_1+2
 34091                        L1502:
 34092                        L10613:
 34093 06:8CBD: A5 25        	lda	<L1491+num_colors_1
 34094 06:8CBF: 85 01        	sta	<R0
 34095 06:8CC1: 64 03        	stz	<R0+2
 34096 06:8CC3: A5 2F        	lda	<L1491+i_1
 34097 06:8CC5: C5 01        	cmp	<R0
 34098 06:8CC7: A5 31        	lda	<L1491+i_1+2
 34099 06:8CC9: E5 03        	sbc	<R0+2
 34100 06:8CCB: B0 03        	bcs	L1503
 34101 06:8CCD: 82 DE FE     	brl	L10612
 34102                        L1503:
 34103                        L10611:
 34104                        	.line	123
 34105 06:8CD0: D4 13        	pei	<L1491+f_1+2
 34106 06:8CD2: D4 11        	pei	<L1491+f_1
 34107 06:8CD4: 22 xx xx xx  	jsl	~~f_close
 34108                        	.line	124
 34109                        L10606:
 34110                        	.line	125
 34111                        L10605:
 34112                        	.line	126
 34113                        L10604:
 34114                        	.line	129
 34115 06:8CD8: D4 13        	pei	<L1491+f_1+2
 34116 06:8CDA: D4 11        	pei	<L1491+f_1
 34117 06:8CDC: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 34118                        	.line	130
 34119 06:8CE0: D4 0F        	pei	<L1491+fs_1+2
 34120 06:8CE2: D4 0D        	pei	<L1491+fs_1
 34121 06:8CE4: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 34122                        	.line	131
 34123 06:8CE8: D4 0B        	pei	<L1491+dir_1+2
 34124 06:8CEA: D4 09        	pei	<L1491+dir_1
 34125 06:8CEC: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 34126                        	.line	132
 34127                        L1504:
 34128 06:8CF0: A5 47        	lda	<L1490+2
 34129 06:8CF2: 85 4B        	sta	<L1490+2+4
 34130 06:8CF4: A5 46        	lda	<L1490+1
 34131 06:8CF6: 85 4A        	sta	<L1490+1+4
 34132 06:8CF8: 2B           	pld
 34133 06:8CF9: 3B           	tsc
 34134 06:8CFA: 18           	clc
 34135 06:8CFB: 69 49 00     	adc	#L1490+4
 34136 06:8CFE: 1B           	tcs
 34137 06:8CFF: 6B           	rtl
 34138                        	.endblock	132
 34139             00000045   L1490	equ	69
 34140             00000009   L1491	equ	9
  Mon Sep 27 2021  9:39                                                Page 626


 34141 06:8D00:              	ends
 34142                        	efunc
 34143                        	.endfunc	132,9,69
 34144                        	.line	132
 34145                        	.line	135
 34146                        	.line	136
 34147                        	GFX
 34148                        	xdef	~~readBMP
 34149                        	func
 34150                        	.function	136
 34151                        ~~readBMP:
 34152                        	longa	on
 34153                        	longi	on
 34154 06:8D00: 3B           	tsc
 34155 06:8D01: 38           	sec
 34156 06:8D02: E9 45 00     	sbc	#L1505
 34157 06:8D05: 1B           	tcs
 34158 06:8D06: 0B           	phd
 34159 06:8D07: 5B           	tcd
 34160             00000004   path_0	set	4
 34161                        	.block	136
 34162             00000000   dir_1	set	0
 34163             00000004   fs_1	set	4
 34164             00000008   f_1	set	8
 34165             0000000C   fileInfo_1	set	12
 34166             00000010   fr_1	set	16
 34167             00000012   drive_1	set	18
 34168             00000016   read_1	set	22
 34169             00000018   data_1	set	24
 34170             0000001C   num_colors_1	set	28
 34171             0000001E   x_1	set	30
 34172             00000022   y_1	set	34
 34173             00000026   i_1	set	38
 34174             0000002A   c_1	set	42
 34175             0000002B   dx_1	set	43
 34176             0000002F   dy_1	set	47
 34177             00000033   bitmap_offset_1	set	51
 34178             00000037   fileType_1	set	55
 34179             00000039   pPalette_1	set	57
 34180                        	.sym	dir,0,138,1,32,87
 34181                        	.sym	fs,4,138,1,32,84
 34182                        	.sym	f,8,138,1,32,86
 34183                        	.sym	fileInfo,12,138,1,32,88
 34184                        	.sym	fr,16,5,1,16
 34185                        	.sym	drive,18,142,1,32
 34186                        	.sym	read,22,16,1,16
 34187                        	.sym	data,24,142,1,32
 34188                        	.sym	num_colors,28,16,1,16
 34189                        	.sym	x,30,18,1,32
 34190                        	.sym	y,34,18,1,32
 34191                        	.sym	i,38,18,1,32
 34192                        	.sym	c,42,14,1,8
 34193                        	.sym	dx,43,18,1,32
 34194                        	.sym	dy,47,18,1,32
 34195                        	.sym	bitmap_offset,51,18,1,32
 34196                        	.sym	fileType,55,15,1,16
 34197                        	.sym	pPalette,57,142,1,32
 34198                        	.sym	path,4,142,6,32
  Mon Sep 27 2021  9:39                                                Page 627


 34199 06:8D08: 64 0D        	stz	<L1506+fs_1
 34200 06:8D0A: 64 0F        	stz	<L1506+fs_1+2
 34201 06:8D0C: 64 11        	stz	<L1506+f_1
 34202 06:8D0E: 64 13        	stz	<L1506+f_1+2
 34203 06:8D10: 64 19        	stz	<L1506+fr_1
 34204 06:8D12: 64 1B        	stz	<L1506+drive_1
 34205 06:8D14: 64 1D        	stz	<L1506+drive_1+2
 34206 06:8D16: 64 21        	stz	<L1506+data_1
 34207 06:8D18: 64 23        	stz	<L1506+data_1+2
 34208 06:8D1A: 64 25        	stz	<L1506+num_colors_1
 34209 06:8D1C: 64 34        	stz	<L1506+dx_1
 34210 06:8D1E: 64 36        	stz	<L1506+dx_1+2
 34211 06:8D20: 64 38        	stz	<L1506+dy_1
 34212 06:8D22: 64 3A        	stz	<L1506+dy_1+2
 34213 06:8D24: 64 42        	stz	<L1506+pPalette_1
 34214 06:8D26: 64 44        	stz	<L1506+pPalette_1+2
 34215                        	.line	162
 34216 06:8D28: F4 3A 00     	pea	#<$3a
 34217 06:8D2B: D4 4B        	pei	<L1505+path_0+2
 34218 06:8D2D: D4 49        	pei	<L1505+path_0
 34219 06:8D2F: 22 xx xx xx  	jsl	~~k_string_copy_to_delimiter
 34220 06:8D33: 85 1B        	sta	<L1506+drive_1
 34221 06:8D35: 86 1D        	stx	<L1506+drive_1+2
 34222                        	.line	164
 34223 06:8D37: F4 00 00     	pea	#^$34
 34224 06:8D3A: F4 34 00     	pea	#<$34
 34225 06:8D3D: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 34226 06:8D41: 85 09        	sta	<L1506+dir_1
 34227 06:8D43: 86 0B        	stx	<L1506+dir_1+2
 34228                        	.line	165
 34229 06:8D45: F4 00 00     	pea	#^$233
 34230 06:8D48: F4 33 02     	pea	#<$233
 34231 06:8D4B: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 34232 06:8D4F: 85 0D        	sta	<L1506+fs_1
 34233 06:8D51: 86 0F        	stx	<L1506+fs_1+2
 34234                        	.line	166
 34235 06:8D53: F4 00 00     	pea	#^$226
 34236 06:8D56: F4 26 02     	pea	#<$226
 34237 06:8D59: 22 xx xx xx  	jsl	~~k_mem_allocate_heap
 34238 06:8D5D: 85 11        	sta	<L1506+f_1
 34239 06:8D5F: 86 13        	stx	<L1506+f_1+2
 34240                        	.line	170
 34241 06:8D61: A9 00 20     	lda	#$2000
 34242 06:8D64: 85 42        	sta	<L1506+pPalette_1
 34243 06:8D66: A9 AF 00     	lda	#$af
 34244 06:8D69: 85 44        	sta	<L1506+pPalette_1+2
 34245                        	.line	172
 34246 06:8D6B: F4 01 00     	pea	#<$1
 34247 06:8D6E: D4 1D        	pei	<L1506+drive_1+2
 34248 06:8D70: D4 1B        	pei	<L1506+drive_1
 34249 06:8D72: F4 00 00     	pea	#^$0
 34250 06:8D75: F4 00 00     	pea	#<$0
 34251 06:8D78: 22 xx xx xx  	jsl	~~f_mount
 34252 06:8D7C: 85 19        	sta	<L1506+fr_1
 34253                        	.line	173
 34254 06:8D7E: F4 01 00     	pea	#<$1
 34255 06:8D81: D4 1D        	pei	<L1506+drive_1+2
 34256 06:8D83: D4 1B        	pei	<L1506+drive_1
  Mon Sep 27 2021  9:39                                                Page 628


 34257 06:8D85: D4 0F        	pei	<L1506+fs_1+2
 34258 06:8D87: D4 0D        	pei	<L1506+fs_1
 34259 06:8D89: 22 xx xx xx  	jsl	~~f_mount
 34260 06:8D8D: 85 19        	sta	<L1506+fr_1
 34261                        	.line	174
 34262 06:8D8F: A5 19        	lda	<L1506+fr_1
 34263 06:8D91: F0 03        	beq	L1508
 34264 06:8D93: 82 38 03     	brl	L10614
 34265                        L1508:
 34266                        	.line	175
 34267                        	.line	176
 34268 06:8D96: F4 01 00     	pea	#<$1
 34269 06:8D99: D4 4B        	pei	<L1505+path_0+2
 34270 06:8D9B: D4 49        	pei	<L1505+path_0
 34271 06:8D9D: D4 13        	pei	<L1506+f_1+2
 34272 06:8D9F: D4 11        	pei	<L1506+f_1
 34273 06:8DA1: 22 xx xx xx  	jsl	~~f_open
 34274 06:8DA5: 85 19        	sta	<L1506+fr_1
 34275                        	.line	177
 34276 06:8DA7: A5 19        	lda	<L1506+fr_1
 34277 06:8DA9: F0 03        	beq	L1509
 34278 06:8DAB: 82 20 03     	brl	L10615
 34279                        L1509:
 34280                        	.line	178
 34281                        	.line	179
 34282 06:8DAE: F4 00 00     	pea	#0
 34283 06:8DB1: 18           	clc
 34284 06:8DB2: 7B           	tdc
 34285 06:8DB3: 69 1F 00     	adc	#<L1506+read_1
 34286 06:8DB6: 48           	pha
 34287 06:8DB7: F4 02 00     	pea	#<$2
 34288 06:8DBA: F4 00 00     	pea	#0
 34289 06:8DBD: 18           	clc
 34290 06:8DBE: 7B           	tdc
 34291 06:8DBF: 69 40 00     	adc	#<L1506+fileType_1
 34292 06:8DC2: 48           	pha
 34293 06:8DC3: D4 13        	pei	<L1506+f_1+2
 34294 06:8DC5: D4 11        	pei	<L1506+f_1
 34295 06:8DC7: 22 xx xx xx  	jsl	~~f_read
 34296 06:8DCB: 85 19        	sta	<L1506+fr_1
 34297                        	.line	180
 34298 06:8DCD: A5 19        	lda	<L1506+fr_1
 34299 06:8DCF: F0 03        	beq	L1510
 34300 06:8DD1: 82 FA 02     	brl	L10616
 34301                        L1510:
 34302 06:8DD4: A5 40        	lda	<L1506+fileType_1
 34303 06:8DD6: C9 42 4D     	cmp	#<$4d42
 34304 06:8DD9: F0 03        	beq	L1511
 34305 06:8DDB: 82 F0 02     	brl	L10616
 34306                        L1511:
 34307                        	.line	181
 34308                        	.line	185
 34309 06:8DDE: F4 00 00     	pea	#0
 34310 06:8DE1: 18           	clc
 34311 06:8DE2: 7B           	tdc
 34312 06:8DE3: 69 1F 00     	adc	#<L1506+read_1
 34313 06:8DE6: 48           	pha
 34314 06:8DE7: F4 0C 00     	pea	#<$c
  Mon Sep 27 2021  9:39                                                Page 629


 34315 06:8DEA: A9 xx xx     	lda	#<~~fileHeader
 34316 06:8DED: 85 01        	sta	<R0
 34317                        	xref	_BEG_DATA
 34318 06:8DEF: A9 xx xx     	lda	#_BEG_DATA>>16
 34319 06:8DF2: 85 03        	sta	<R0+2
 34320 06:8DF4: D4 03        	pei	<R0+2
 34321 06:8DF6: D4 01        	pei	<R0
 34322 06:8DF8: D4 13        	pei	<L1506+f_1+2
 34323 06:8DFA: D4 11        	pei	<L1506+f_1
 34324 06:8DFC: 22 xx xx xx  	jsl	~~f_read
 34325 06:8E00: 85 19        	sta	<L1506+fr_1
 34326                        	.line	189
 34327 06:8E02: F4 00 00     	pea	#0
 34328 06:8E05: 18           	clc
 34329 06:8E06: 7B           	tdc
 34330 06:8E07: 69 1F 00     	adc	#<L1506+read_1
 34331 06:8E0A: 48           	pha
 34332 06:8E0B: F4 28 00     	pea	#<$28
 34333 06:8E0E: A9 xx xx     	lda	#<~~infoHeader
 34334 06:8E11: 85 01        	sta	<R0
 34335                        	xref	_BEG_DATA
 34336 06:8E13: A9 xx xx     	lda	#_BEG_DATA>>16
 34337 06:8E16: 85 03        	sta	<R0+2
 34338 06:8E18: D4 03        	pei	<R0+2
 34339 06:8E1A: D4 01        	pei	<R0
 34340 06:8E1C: D4 13        	pei	<L1506+f_1+2
 34341 06:8E1E: D4 11        	pei	<L1506+f_1
 34342 06:8E20: 22 xx xx xx  	jsl	~~f_read
 34343 06:8E24: 85 19        	sta	<L1506+fr_1
 34344                        	.line	193
 34345 06:8E26: AD xx xx     	lda	|~~infoHeader+4+2
 34346 06:8E29: 30 0D        	bmi	L1512
 34347 06:8E2B: D0 08        	bne	L1513
 34348 06:8E2D: AD xx xx     	lda	|~~infoHeader+4
 34349 06:8E30: C9 80 02     	cmp	#640
 34350 06:8E33: 90 03        	bcc	L1512
 34351                        L1513:
 34352 06:8E35: 82 34 00     	brl	L10617
 34353                        L1512:
 34354                        	.line	194
 34355                        	.line	195
 34356 06:8E38: F4 00 00     	pea	#^$2
 34357 06:8E3B: F4 02 00     	pea	#<$2
 34358 06:8E3E: AD xx xx     	lda	|~~infoHeader+4+2
 34359 06:8E41: 48           	pha
 34360 06:8E42: AD xx xx     	lda	|~~infoHeader+4
 34361 06:8E45: 48           	pha
 34362                        	xref	~~~ldiv
 34363 06:8E46: 22 xx xx xx  	jsl	~~~ldiv
 34364 06:8E4A: 85 01        	sta	<R0
 34365 06:8E4C: 86 03        	stx	<R0+2
 34366 06:8E4E: 38           	sec
 34367 06:8E4F: A9 40 01     	lda	#$140
 34368 06:8E52: E5 01        	sbc	<R0
 34369 06:8E54: 85 05        	sta	<R1
 34370 06:8E56: A9 00 00     	lda	#$0
 34371 06:8E59: E5 03        	sbc	<R0+2
 34372 06:8E5B: 85 07        	sta	<R1+2
  Mon Sep 27 2021  9:39                                                Page 630


 34373 06:8E5D: 18           	clc
 34374 06:8E5E: A9 E7 FF     	lda	#$ffe7
 34375 06:8E61: 65 05        	adc	<R1
 34376 06:8E63: 85 34        	sta	<L1506+dx_1
 34377 06:8E65: A9 FF FF     	lda	#$ffff
 34378 06:8E68: 65 07        	adc	<R1+2
 34379 06:8E6A: 85 36        	sta	<L1506+dx_1+2
 34380                        	.line	196
 34381                        L10617:
 34382                        	.line	197
 34383 06:8E6C: AD xx xx     	lda	|~~infoHeader+8+2
 34384 06:8E6F: 30 0D        	bmi	L1514
 34385 06:8E71: D0 08        	bne	L1515
 34386 06:8E73: AD xx xx     	lda	|~~infoHeader+8
 34387 06:8E76: C9 80 02     	cmp	#640
 34388 06:8E79: 90 03        	bcc	L1514
 34389                        L1515:
 34390 06:8E7B: 82 25 00     	brl	L10618
 34391                        L1514:
 34392                        	.line	198
 34393                        	.line	199
 34394 06:8E7E: F4 00 00     	pea	#^$2
 34395 06:8E81: F4 02 00     	pea	#<$2
 34396 06:8E84: AD xx xx     	lda	|~~infoHeader+8+2
 34397 06:8E87: 48           	pha
 34398 06:8E88: AD xx xx     	lda	|~~infoHeader+8
 34399 06:8E8B: 48           	pha
 34400                        	xref	~~~ldiv
 34401 06:8E8C: 22 xx xx xx  	jsl	~~~ldiv
 34402 06:8E90: 85 01        	sta	<R0
 34403 06:8E92: 86 03        	stx	<R0+2
 34404 06:8E94: 38           	sec
 34405 06:8E95: A9 F0 00     	lda	#$f0
 34406 06:8E98: E5 01        	sbc	<R0
 34407 06:8E9A: 85 38        	sta	<L1506+dy_1
 34408 06:8E9C: A9 00 00     	lda	#$0
 34409 06:8E9F: E5 03        	sbc	<R0+2
 34410 06:8EA1: 85 3A        	sta	<L1506+dy_1+2
 34411                        	.line	200
 34412                        L10618:
 34413                        	.line	202
 34414 06:8EA3: AD xx xx     	lda	|~~infoHeader+32
 34415 06:8EA6: 0D xx xx     	ora	|~~infoHeader+32+2
 34416 06:8EA9: F0 03        	beq	L1516
 34417 06:8EAB: 82 05 00     	brl	L10619
 34418                        L1516:
 34419                        	.line	203
 34420 06:8EAE: A9 00 01     	lda	#$100
 34421 06:8EB1: 85 25        	sta	<L1506+num_colors_1
 34422                        L10619:
 34423                        	.line	206
 34424 06:8EB3: 64 2F        	stz	<L1506+i_1
 34425 06:8EB5: 64 31        	stz	<L1506+i_1+2
 34426 06:8EB7: 82 0F 01     	brl	L10623
 34427                        L10622:
 34428                        	.line	207
 34429                        	.line	209
 34430 06:8EBA: F4 00 00     	pea	#0
  Mon Sep 27 2021  9:39                                                Page 631


 34431 06:8EBD: 18           	clc
 34432 06:8EBE: 7B           	tdc
 34433 06:8EBF: 69 1F 00     	adc	#<L1506+read_1
 34434 06:8EC2: 48           	pha
 34435 06:8EC3: F4 01 00     	pea	#<$1
 34436 06:8EC6: F4 00 00     	pea	#0
 34437 06:8EC9: 18           	clc
 34438 06:8ECA: 7B           	tdc
 34439 06:8ECB: 69 33 00     	adc	#<L1506+c_1
 34440 06:8ECE: 48           	pha
 34441 06:8ECF: D4 13        	pei	<L1506+f_1+2
 34442 06:8ED1: D4 11        	pei	<L1506+f_1
 34443 06:8ED3: 22 xx xx xx  	jsl	~~f_read
 34444                        	.line	211
 34445 06:8ED7: A5 2F        	lda	<L1506+i_1
 34446 06:8ED9: 85 01        	sta	<R0
 34447 06:8EDB: A5 31        	lda	<L1506+i_1+2
 34448 06:8EDD: 85 03        	sta	<R0+2
 34449 06:8EDF: 06 01        	asl	<R0
 34450 06:8EE1: 26 03        	rol	<R0+2
 34451 06:8EE3: 06 01        	asl	<R0
 34452 06:8EE5: 26 03        	rol	<R0+2
 34453 06:8EE7: E2 20        	sep	#$20
 34454                        	longa	off
 34455 06:8EE9: A5 33        	lda	<L1506+c_1
 34456 06:8EEB: A4 01        	ldy	<R0
 34457 06:8EED: 97 42        	sta	[<L1506+pPalette_1],Y
 34458 06:8EEF: C2 20        	rep	#$20
 34459                        	longa	on
 34460                        	.line	212
 34461 06:8EF1: F4 00 00     	pea	#0
 34462 06:8EF4: 18           	clc
 34463 06:8EF5: 7B           	tdc
 34464 06:8EF6: 69 1F 00     	adc	#<L1506+read_1
 34465 06:8EF9: 48           	pha
 34466 06:8EFA: F4 01 00     	pea	#<$1
 34467 06:8EFD: F4 00 00     	pea	#0
 34468 06:8F00: 18           	clc
 34469 06:8F01: 7B           	tdc
 34470 06:8F02: 69 33 00     	adc	#<L1506+c_1
 34471 06:8F05: 48           	pha
 34472 06:8F06: D4 13        	pei	<L1506+f_1+2
 34473 06:8F08: D4 11        	pei	<L1506+f_1
 34474 06:8F0A: 22 xx xx xx  	jsl	~~f_read
 34475                        	.line	214
 34476 06:8F0E: A5 2F        	lda	<L1506+i_1
 34477 06:8F10: 85 01        	sta	<R0
 34478 06:8F12: A5 31        	lda	<L1506+i_1+2
 34479 06:8F14: 85 03        	sta	<R0+2
 34480 06:8F16: 06 01        	asl	<R0
 34481 06:8F18: 26 03        	rol	<R0+2
 34482 06:8F1A: 06 01        	asl	<R0
 34483 06:8F1C: 26 03        	rol	<R0+2
 34484 06:8F1E: 18           	clc
 34485 06:8F1F: A9 01 00     	lda	#$1
 34486 06:8F22: 65 01        	adc	<R0
 34487 06:8F24: 85 05        	sta	<R1
 34488 06:8F26: A9 00 00     	lda	#$0
  Mon Sep 27 2021  9:39                                                Page 632


 34489 06:8F29: 65 03        	adc	<R0+2
 34490 06:8F2B: 85 07        	sta	<R1+2
 34491 06:8F2D: E2 20        	sep	#$20
 34492                        	longa	off
 34493 06:8F2F: A5 33        	lda	<L1506+c_1
 34494 06:8F31: A4 05        	ldy	<R1
 34495 06:8F33: 97 42        	sta	[<L1506+pPalette_1],Y
 34496 06:8F35: C2 20        	rep	#$20
 34497                        	longa	on
 34498                        	.line	215
 34499 06:8F37: F4 00 00     	pea	#0
 34500 06:8F3A: 18           	clc
 34501 06:8F3B: 7B           	tdc
 34502 06:8F3C: 69 1F 00     	adc	#<L1506+read_1
 34503 06:8F3F: 48           	pha
 34504 06:8F40: F4 01 00     	pea	#<$1
 34505 06:8F43: F4 00 00     	pea	#0
 34506 06:8F46: 18           	clc
 34507 06:8F47: 7B           	tdc
 34508 06:8F48: 69 33 00     	adc	#<L1506+c_1
 34509 06:8F4B: 48           	pha
 34510 06:8F4C: D4 13        	pei	<L1506+f_1+2
 34511 06:8F4E: D4 11        	pei	<L1506+f_1
 34512 06:8F50: 22 xx xx xx  	jsl	~~f_read
 34513                        	.line	217
 34514 06:8F54: A5 2F        	lda	<L1506+i_1
 34515 06:8F56: 85 01        	sta	<R0
 34516 06:8F58: A5 31        	lda	<L1506+i_1+2
 34517 06:8F5A: 85 03        	sta	<R0+2
 34518 06:8F5C: 06 01        	asl	<R0
 34519 06:8F5E: 26 03        	rol	<R0+2
 34520 06:8F60: 06 01        	asl	<R0
 34521 06:8F62: 26 03        	rol	<R0+2
 34522 06:8F64: 18           	clc
 34523 06:8F65: A9 02 00     	lda	#$2
 34524 06:8F68: 65 01        	adc	<R0
 34525 06:8F6A: 85 05        	sta	<R1
 34526 06:8F6C: A9 00 00     	lda	#$0
 34527 06:8F6F: 65 03        	adc	<R0+2
 34528 06:8F71: 85 07        	sta	<R1+2
 34529 06:8F73: E2 20        	sep	#$20
 34530                        	longa	off
 34531 06:8F75: A5 33        	lda	<L1506+c_1
 34532 06:8F77: A4 05        	ldy	<R1
 34533 06:8F79: 97 42        	sta	[<L1506+pPalette_1],Y
 34534 06:8F7B: C2 20        	rep	#$20
 34535                        	longa	on
 34536                        	.line	218
 34537 06:8F7D: F4 00 00     	pea	#0
 34538 06:8F80: 18           	clc
 34539 06:8F81: 7B           	tdc
 34540 06:8F82: 69 1F 00     	adc	#<L1506+read_1
 34541 06:8F85: 48           	pha
 34542 06:8F86: F4 01 00     	pea	#<$1
 34543 06:8F89: F4 00 00     	pea	#0
 34544 06:8F8C: 18           	clc
 34545 06:8F8D: 7B           	tdc
 34546 06:8F8E: 69 33 00     	adc	#<L1506+c_1
  Mon Sep 27 2021  9:39                                                Page 633


 34547 06:8F91: 48           	pha
 34548 06:8F92: D4 13        	pei	<L1506+f_1+2
 34549 06:8F94: D4 11        	pei	<L1506+f_1
 34550 06:8F96: 22 xx xx xx  	jsl	~~f_read
 34551                        	.line	219
 34552 06:8F9A: A5 2F        	lda	<L1506+i_1
 34553 06:8F9C: 85 01        	sta	<R0
 34554 06:8F9E: A5 31        	lda	<L1506+i_1+2
 34555 06:8FA0: 85 03        	sta	<R0+2
 34556 06:8FA2: 06 01        	asl	<R0
 34557 06:8FA4: 26 03        	rol	<R0+2
 34558 06:8FA6: 06 01        	asl	<R0
 34559 06:8FA8: 26 03        	rol	<R0+2
 34560 06:8FAA: 18           	clc
 34561 06:8FAB: A9 03 00     	lda	#$3
 34562 06:8FAE: 65 01        	adc	<R0
 34563 06:8FB0: 85 05        	sta	<R1
 34564 06:8FB2: A9 00 00     	lda	#$0
 34565 06:8FB5: 65 03        	adc	<R0+2
 34566 06:8FB7: 85 07        	sta	<R1+2
 34567 06:8FB9: E2 20        	sep	#$20
 34568                        	longa	off
 34569 06:8FBB: A9 00        	lda	#$0
 34570 06:8FBD: A4 05        	ldy	<R1
 34571 06:8FBF: 97 42        	sta	[<L1506+pPalette_1],Y
 34572 06:8FC1: C2 20        	rep	#$20
 34573                        	longa	on
 34574                        	.line	222
 34575                        L10620:
 34576 06:8FC3: E6 2F        	inc	<L1506+i_1
 34577 06:8FC5: D0 02        	bne	L1517
 34578 06:8FC7: E6 31        	inc	<L1506+i_1+2
 34579                        L1517:
 34580                        L10623:
 34581 06:8FC9: A5 25        	lda	<L1506+num_colors_1
 34582 06:8FCB: 85 01        	sta	<R0
 34583 06:8FCD: 64 03        	stz	<R0+2
 34584 06:8FCF: A5 2F        	lda	<L1506+i_1
 34585 06:8FD1: C5 01        	cmp	<R0
 34586 06:8FD3: A5 31        	lda	<L1506+i_1+2
 34587 06:8FD5: E5 03        	sbc	<R0+2
 34588 06:8FD7: B0 03        	bcs	L1518
 34589 06:8FD9: 82 DE FE     	brl	L10622
 34590                        L1518:
 34591                        L10621:
 34592                        	.line	226
 34593                        	.line	228
 34594 06:8FDC: AD xx xx     	lda	|~~fileHeader+8+2
 34595 06:8FDF: 48           	pha
 34596 06:8FE0: AD xx xx     	lda	|~~fileHeader+8
 34597 06:8FE3: 48           	pha
 34598 06:8FE4: D4 13        	pei	<L1506+f_1+2
 34599 06:8FE6: D4 11        	pei	<L1506+f_1
 34600 06:8FE8: 22 xx xx xx  	jsl	~~f_lseek
 34601                        	.line	232
 34602 06:8FEC: F4 00 00     	pea	#^$4
 34603 06:8FEF: F4 04 00     	pea	#<$4
 34604 06:8FF2: AD xx xx     	lda	|~~infoHeader+4+2
  Mon Sep 27 2021  9:39                                                Page 634


 34605 06:8FF5: 48           	pha
 34606 06:8FF6: AD xx xx     	lda	|~~infoHeader+4
 34607 06:8FF9: 48           	pha
 34608                        	xref	~~~ldiv
 34609 06:8FFA: 22 xx xx xx  	jsl	~~~ldiv
 34610 06:8FFE: 85 05        	sta	<R1
 34611 06:9000: 86 07        	stx	<R1+2
 34612 06:9002: A5 05        	lda	<R1
 34613 06:9004: 0A           	asl	A
 34614 06:9005: 0A           	asl	A
 34615 06:9006: 85 01        	sta	<R0
 34616 06:9008: A5 01        	lda	<R0
 34617 06:900A: CD xx xx     	cmp	|~~infoHeader+4
 34618 06:900D: D0 03        	bne	L1519
 34619 06:900F: 82 2D 00     	brl	L10624
 34620                        L1519:
 34621                        	.line	233
 34622                        	.line	234
 34623 06:9012: F4 00 00     	pea	#^$4
 34624 06:9015: F4 04 00     	pea	#<$4
 34625 06:9018: AD xx xx     	lda	|~~infoHeader+4+2
 34626 06:901B: 48           	pha
 34627 06:901C: AD xx xx     	lda	|~~infoHeader+4
 34628 06:901F: 48           	pha
 34629                        	xref	~~~ldiv
 34630 06:9020: 22 xx xx xx  	jsl	~~~ldiv
 34631 06:9024: 85 05        	sta	<R1
 34632 06:9026: 86 07        	stx	<R1+2
 34633 06:9028: A5 05        	lda	<R1
 34634 06:902A: 0A           	asl	A
 34635 06:902B: 0A           	asl	A
 34636 06:902C: 85 01        	sta	<R0
 34637 06:902E: 18           	clc
 34638 06:902F: A9 04 00     	lda	#$4
 34639 06:9032: 65 01        	adc	<R0
 34640 06:9034: 85 05        	sta	<R1
 34641 06:9036: A5 05        	lda	<R1
 34642 06:9038: 85 3C        	sta	<L1506+bitmap_offset_1
 34643 06:903A: 64 3E        	stz	<L1506+bitmap_offset_1+2
 34644                        	.line	235
 34645 06:903C: 82 0A 00     	brl	L10625
 34646                        L10624:
 34647                        	.line	237
 34648                        	.line	238
 34649 06:903F: AD xx xx     	lda	|~~infoHeader+4
 34650 06:9042: 85 3C        	sta	<L1506+bitmap_offset_1
 34651 06:9044: AD xx xx     	lda	|~~infoHeader+4+2
 34652 06:9047: 85 3E        	sta	<L1506+bitmap_offset_1+2
 34653                        	.line	239
 34654                        L10625:
 34655                        	.line	243
 34656 06:9049: AD xx xx     	lda	|~~infoHeader+8
 34657 06:904C: 85 2B        	sta	<L1506+y_1
 34658 06:904E: AD xx xx     	lda	|~~infoHeader+8+2
 34659 06:9051: 85 2D        	sta	<L1506+y_1+2
 34660 06:9053: 82 61 00     	brl	L10629
 34661                        L10628:
 34662                        	.line	244
  Mon Sep 27 2021  9:39                                                Page 635


 34663                        	.line	245
 34664 06:9056: F4 00 00     	pea	#0
 34665 06:9059: 18           	clc
 34666 06:905A: 7B           	tdc
 34667 06:905B: 69 1F 00     	adc	#<L1506+read_1
 34668 06:905E: 48           	pha
 34669 06:905F: D4 3C        	pei	<L1506+bitmap_offset_1
 34670 06:9061: 18           	clc
 34671 06:9062: A5 2B        	lda	<L1506+y_1
 34672 06:9064: 65 38        	adc	<L1506+dy_1
 34673 06:9066: 85 01        	sta	<R0
 34674 06:9068: A5 2D        	lda	<L1506+y_1+2
 34675 06:906A: 65 3A        	adc	<L1506+dy_1+2
 34676 06:906C: 85 03        	sta	<R0+2
 34677 06:906E: F4 00 00     	pea	#^$280
 34678 06:9071: F4 80 02     	pea	#<$280
 34679 06:9074: D4 03        	pei	<R0+2
 34680 06:9076: D4 01        	pei	<R0
 34681                        	xref	~~~lmul
 34682 06:9078: 22 xx xx xx  	jsl	~~~lmul
 34683 06:907C: 85 01        	sta	<R0
 34684 06:907E: 86 03        	stx	<R0+2
 34685 06:9080: 18           	clc
 34686 06:9081: A5 01        	lda	<R0
 34687 06:9083: 65 34        	adc	<L1506+dx_1
 34688 06:9085: 85 05        	sta	<R1
 34689 06:9087: A5 03        	lda	<R0+2
 34690 06:9089: 65 36        	adc	<L1506+dx_1+2
 34691 06:908B: 85 07        	sta	<R1+2
 34692 06:908D: 18           	clc
 34693 06:908E: A9 00 00     	lda	#$0
 34694 06:9091: 65 05        	adc	<R1
 34695 06:9093: 85 01        	sta	<R0
 34696 06:9095: A9 B8 00     	lda	#$b8
 34697 06:9098: 65 07        	adc	<R1+2
 34698 06:909A: 85 03        	sta	<R0+2
 34699 06:909C: D4 03        	pei	<R0+2
 34700 06:909E: D4 01        	pei	<R0
 34701 06:90A0: D4 13        	pei	<L1506+f_1+2
 34702 06:90A2: D4 11        	pei	<L1506+f_1
 34703 06:90A4: 22 xx xx xx  	jsl	~~f_read
 34704                        	.line	247
 34705 06:90A8: A5 1F        	lda	<L1506+read_1
 34706 06:90AA: D0 03        	bne	L1520
 34707 06:90AC: 82 17 00     	brl	L10627
 34708                        L1520:
 34709                        	.line	249
 34710                        L10626:
 34711 06:90AF: A5 2B        	lda	<L1506+y_1
 34712 06:90B1: D0 02        	bne	L1521
 34713 06:90B3: C6 2D        	dec	<L1506+y_1+2
 34714                        L1521:
 34715 06:90B5: C6 2B        	dec	<L1506+y_1
 34716                        L10629:
 34717 06:90B7: A5 2B        	lda	<L1506+y_1
 34718 06:90B9: C9 00 00     	cmp	#<$0
 34719 06:90BC: A5 2D        	lda	<L1506+y_1+2
 34720 06:90BE: E9 00 00     	sbc	#^$0
  Mon Sep 27 2021  9:39                                                Page 636


 34721 06:90C1: 90 03        	bcc	L1522
 34722 06:90C3: 82 90 FF     	brl	L10628
 34723                        L1522:
 34724                        L10627:
 34725                        	.line	251
 34726                        	.line	254
 34727 06:90C6: D4 13        	pei	<L1506+f_1+2
 34728 06:90C8: D4 11        	pei	<L1506+f_1
 34729 06:90CA: 22 xx xx xx  	jsl	~~f_close
 34730                        	.line	255
 34731                        L10616:
 34732                        	.line	256
 34733                        L10615:
 34734                        	.line	257
 34735                        L10614:
 34736                        	.line	260
 34737 06:90CE: D4 13        	pei	<L1506+f_1+2
 34738 06:90D0: D4 11        	pei	<L1506+f_1
 34739 06:90D2: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 34740                        	.line	261
 34741 06:90D6: D4 0F        	pei	<L1506+fs_1+2
 34742 06:90D8: D4 0D        	pei	<L1506+fs_1
 34743 06:90DA: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 34744                        	.line	262
 34745 06:90DE: D4 0B        	pei	<L1506+dir_1+2
 34746 06:90E0: D4 09        	pei	<L1506+dir_1
 34747 06:90E2: 22 xx xx xx  	jsl	~~k_mem_deallocate_heap
 34748                        	.line	263
 34749                        L1523:
 34750 06:90E6: A5 47        	lda	<L1505+2
 34751 06:90E8: 85 4B        	sta	<L1505+2+4
 34752 06:90EA: A5 46        	lda	<L1505+1
 34753 06:90EC: 85 4A        	sta	<L1505+1+4
 34754 06:90EE: 2B           	pld
 34755 06:90EF: 3B           	tsc
 34756 06:90F0: 18           	clc
 34757 06:90F1: 69 49 00     	adc	#L1505+4
 34758 06:90F4: 1B           	tcs
 34759 06:90F5: 6B           	rtl
 34760                        	.endblock	263
 34761             00000045   L1505	equ	69
 34762             00000009   L1506	equ	9
 34763 06:90F6:              	ends
 34764                        	efunc
 34765                        	.endfunc	263,9,69
 34766                        	.line	263
 34767                        	.line	391
 34768                        	.file	"G:\devprojects\c256Foenix\fxos\FXOSWork
                    space\FXOS-Beta\src\fxgfx.c",5923
 34769                        ;
 34770                        ;
 34771                        	.line	5924
 34772                        	xref	~~k_get_device_driver
 34773                        	xref	~~f_mount
 34774                        	xref	~~f_lseek
 34775                        	xref	~~f_read
 34776                        	xref	~~f_close
 34777                        	xref	~~f_open
  Mon Sep 27 2021  9:39                                                Page 637


 34778                        	xref	~~k_clear_screen
 34779                        	xref	~~k_disable_border
 34780                        	xref	~~k_send_message
 34781                        	xref	~~k_user_SetRect
 34782                        	xref	~~k_user_getSystemMetric
 34783                        	xref	~~k_mem_deallocate_heap
 34784                        	xref	~~k_mem_allocate_heap
 34785                        	xref	~~k_string_replace
 34786                        	xref	~~k_string_copy_to_delimiter
 34787                        	xref	~~k_get_c256_release
 34788                        	xref	~~k_debug_strings
 34789                        	xref	~~k_debug_message
 34790                        	xref	~~k_debug_hex
 34791                        	xref	~~k_debug_long
 34792                        	xref	~~k_debug_integer
 34793                        	xref	~~k_debug_pointer
 34794                        	xref	~~k_debug_string
 34795                        	xref	~~k_unlock_irq
 34796                        	xref	~~k_lock_irq
 34797                        	xref	~~k_delay
 34798                        	xref	~~sleep
 34799                        	xref	~~toupper
 34800                        	xref	~~strupr
 34801                        	xref	~~strlen
 34802                        	xref	~~strcpy
 34803                        	xref	~~memset
 34804                        	xref	~~memcpy
 34805                        	xref	~~abs
 34806                        	udata
 34807                        ~~infoHeader
 34808 00:0000:              	ds	40
 34809 00:0028:              	ends
 34810                        	udata
 34811                        ~~fileHeader
 34812 00:0028:              	ds	12
 34813 00:0034:              	ends
 34814                        	udata
 34815                        ~~_k_guiCacheSlots
 34816 00:0034:              	ds	60
 34817 00:0070:              	ends
 34818                        	udata
 34819                        ~~_k_currentPalatte
 34820 00:0070:              	ds	50
 34821 00:00A2:              	ends
 34822                        	xref	~~Bm437ToshibaLCD8x8
 34823                        	xref	~~windowIconImg
 34824                        	xref	~~windowChromeImg
 34825                        	xref	~~fontImg
 34826                        	xref	~~characterROMMapping
 34827                        	.sym	~~infoHeader,~~infoHeader,10,3,320,132
 34828                        	.sym	~~fileHeader,~~fileHeader,10,3,96,131
 34829                        	.sym	PixelInfo,0,10,14,32,133
 34830                        	.sym	BITMAPINFOHEADER,0,10,14,320,132
 34831                        	.sym	BITMAPFILEHEADER,0,10,14,96,131
 34832                        	.sym	~~k_show_image,~~k_show_image,65,2,0
 34833                        	.sym	~~k_show_mandy,~~k_show_mandy,65,2,0
 34834                        	.sym	~~k_init_splash,~~k_init_splash,80,2,0
 34835                        	.sym	~~k_draw_filled_rect_slow,~~k_draw_fille
  Mon Sep 27 2021  9:39                                                Page 638


                    d_rect_slow,65,2,0
 34836                        	.sym	~~k_draw_rect_ex,~~k_draw_rect_ex,65,2,0
 34837                        	.sym	~~k_draw_line_with_pattern,~~k_draw_line
                    _with_pattern,65,2,0
 34838                        	.sym	~~k_draw_filled_segments,~~k_draw_filled
                    _segments,65,2,0
 34839                        	.sym	~~k_set_text_color,~~k_set_text_color,65
                    ,2,0
 34840                        	.sym	~~k_set_text_gamma,~~k_set_text_gamma,65
                    ,2,0
 34841                        	.sym	~~k_set_foreground_palette,~~k_set_foreg
                    round_palette,65,2,0
 34842                        	.sym	~~readBMPPalette,~~readBMPPalette,65,2,0
 34843                        	.sym	~~readBMP,~~readBMP,65,2,0
 34844                        	.sym	~~_k_guiCacheSlots,~~_k_guiCacheSlots,11
                    0,3,0,60
 34845                        	.sym	~~_k_currentPalatte,~~_k_currentPalatte,
                    10,3,400,68
 34846                        	.sym	~~BG_FILL_LINE_EVEN,~~BG_FILL_LINE_EVEN,
                    110,3,0,80
 34847                        	.sym	~~BG_FILL_LINE_ODD,~~BG_FILL_LINE_ODD,11
                    0,3,0,80
 34848                        	.sym	~~MOUSE_POINTER_EMPTY,~~MOUSE_POINTER_EM
                    PTY,110,2,0,256
 34849                        	.sym	~~TEXT_BG_COLORS,~~TEXT_BG_COLORS,110,3,
                    0,64
 34850                        	.sym	~~TEXT_FG_COLORS,~~TEXT_FG_COLORS,110,3,
                    0,64
 34851                        	.sym	~~TITLE_LINES_640x480,~~TITLE_LINES_640x
                    480,142,3,32
 34852                        	.sym	~~TEXT_CAPTION_BLOCK,~~TEXT_CAPTION_BLOC
                    K,110,3,0,1
 34853                        	.sym	~~k_get_device_driver,~~k_get_device_dri
                    ver,1098,18,32,58
 34854                        	.sym	FILE,0,138,14,32,130
 34855                        	.sym	FILE_POINTER,0,10,14,112,130
 34856                        	.sym	PDOSHANDLE,0,138,14,32,129
 34857                        	.sym	DOSHANDLE,0,10,14,80,129
 34858                        	.sym	PFXDOSDEVICE,0,138,14,32,127
 34859                        	.sym	FXDOSDEVICE,0,10,14,5744,127
 34860                        	.sym	DOSINITDEVICE,0,641,14,32
 34861                        	.sym	DOSSECTORWRITER,0,654,14,32
 34862                        	.sym	DOSSECTORREADER,0,654,14,32
 34863                        	.sym	PIDENTIFY_DEVICE_DATA,0,138,14,32,126
 34864                        	.sym	IDENTIFY_DEVICE_DATA,0,10,14,4096,126
 34865                        	.sym	PIDSECTOR,0,138,14,32,103
 34866                        	.sym	IDSECTOR,0,10,14,2048,103
 34867                        	.sym	PLFN,0,138,14,32,102
 34868                        	.sym	LFN,0,10,14,256,102
 34869                        	.sym	PFAT16ENTRYLONG,0,138,14,32,101
 34870                        	.sym	FAT16ENTRYLONG,0,10,14,288,101
 34871                        	.sym	PFAT16ENTRY,0,138,14,32,100
 34872                        	.sym	FAT16ENTRY,0,10,14,256,100
 34873                        	.sym	Fat16BootSector,0,10,14,4096,99
 34874                        	.sym	PPARTITIONTABLE,0,138,14,32,98
 34875                        	.sym	PARTITIONTABLE,0,10,14,128,98
 34876                        	.sym	PFATBOOTSECTOR,0,138,14,32,97
 34877                        	.sym	FATBOOTSECTOR,0,10,14,928,97
  Mon Sep 27 2021  9:39                                                Page 639


 34878                        	.sym	fat_BS_t,0,10,14,688,96
 34879                        	.sym	fat_extBS_16_t,0,10,14,192,95
 34880                        	.sym	PFAT32EXT,0,138,14,32,94
 34881                        	.sym	fat_extBS_32_t,0,10,14,416,94
 34882                        	.sym	P_FX_FAT_DIR_INFO,0,138,14,32,93
 34883                        	.sym	FX_FAT_DIR_INFO,0,10,14,256,93
 34884                        	.sym	PFILEINFO,0,138,14,32,92
 34885                        	.sym	FILEINFO,0,10,14,136,92
 34886                        	.sym	PDISKINFO,0,138,14,32,91
 34887                        	.sym	DISKINFO,0,10,14,416,91
 34888                        	.sym	PDIRENTRY,0,138,14,32,90
 34889                        	.sym	DIRENTRY,0,10,14,256,90
 34890                        	.sym	DRESULT,0,5,14,16
 34891                        	.sym	DSTATUS,0,14,14,8
 34892                        	.sym	~~f_mount,~~f_mount,69,18,0
 34893                        	.sym	~~f_lseek,~~f_lseek,69,18,0
 34894                        	.sym	~~f_read,~~f_read,69,18,0
 34895                        	.sym	~~f_close,~~f_close,69,18,0
 34896                        	.sym	~~f_open,~~f_open,69,18,0
 34897                        	.sym	FRESULT,0,5,14,16
 34898                        	.sym	MKFS_PARM,0,10,14,80,89
 34899                        	.sym	FILINFO,0,10,14,2224,88
 34900                        	.sym	DIR,0,10,14,416,87
 34901                        	.sym	FIL,0,10,14,4400,86
 34902                        	.sym	FFOBJID,0,10,14,128,85
 34903                        	.sym	FATFS,0,10,14,4504,84
 34904                        	.sym	LBA_t,0,18,14,32
 34905                        	.sym	FSIZE_t,0,18,14,32
 34906                        	.sym	TCHAR,0,14,14,8
 34907                        	.sym	~~k_clear_screen,~~k_clear_screen,65,18,
                    0
 34908                        	.sym	~~k_disable_border,~~k_disable_border,65
                    ,18,0
 34909                        	.sym	PCOMMANDARGS,0,138,14,32,83
 34910                        	.sym	COMMANDARGS,0,10,14,64,83
 34911                        	.sym	PTOKENIZESTATE,0,133,14,32
 34912                        	.sym	TOKENIZESTATE,0,5,14,16
 34913                        	.sym	PTOKEN,0,138,14,32,82
 34914                        	.sym	TOKEN,0,10,14,64,82
 34915                        	.sym	PTOKENTYPE,0,133,14,32
 34916                        	.sym	TOKENTYPE,0,5,14,16
 34917                        	.sym	FXCommandHandler,0,656,14,32
 34918                        	.sym	PCONSOLECTX,0,138,14,32,81
 34919                        	.sym	CONSOLECTX,0,10,14,1144,81
 34920                        	.sym	PSPINNERCTX,0,138,14,32,80
 34921                        	.sym	SPINNERCTX,0,10,14,48,80
 34922                        	.sym	HCLIP,0,138,14,32,79
 34923                        	.sym	PCLIPBOARD_DATA,0,138,14,32,79
 34924                        	.sym	CLIPBOARD_DATA,0,10,14,168,79
 34925                        	.sym	~~k_send_message,~~k_send_message,78,18,
                    0
 34926                        	.sym	PEVENTMANAGER,0,138,14,32,78
 34927                        	.sym	EVENTMANAGER,0,10,14,192,78
 34928                        	.sym	EV_RUN,0,656,14,32
 34929                        	.sym	EV_QUERY_METRIC,0,656,14,32
 34930                        	.sym	EV_CONFIGURE,0,656,14,32
 34931                        	.sym	EV_UNINIT,0,641,14,32
 34932                        	.sym	EV_INIT,0,8833,14,32
  Mon Sep 27 2021  9:39                                                Page 640


 34933                        	.sym	PMOUSE_MSG_STATE,0,138,14,32,77
 34934                        	.sym	MOUSE_MSG_STATE,0,10,14,184,77
 34935                        	.sym	PFXEVENTPROCESS,0,138,14,32,76
 34936                        	.sym	FXEVENTPROCESS,0,10,14,64,76
 34937                        	.sym	FXASYNCPROCESS,0,641,14,32
 34938                        	.sym	PMARSHALDATA,0,139,14,32,75
 34939                        	.sym	MARSHALDATA,0,11,14,32,75
 34940                        	.sym	FXIDLEPROCESS,0,641,14,32
 34941                        	.sym	FXEventProc,0,641,14,32
 34942                        	.sym	PMOUSEMSGDATA,0,138,14,32,74
 34943                        	.sym	MOUSEMSGDATA,0,10,14,64,74
 34944                        	.sym	MSGIRQ,0,5,14,16
 34945                        	.sym	MAINLOOPARGS,0,10,14,16,73
 34946                        	.sym	PEACHCHILD_MSG,0,138,14,32,72
 34947                        	.sym	EACHCHILD_MSG,0,10,14,64,72
 34948                        	.sym	~~k_user_SetRect,~~k_user_SetRect,65,18,
                    0
 34949                        	.sym	PMSGBOX_DATA,0,138,14,32,71
 34950                        	.sym	MSGBOX_DATA,0,10,14,96,71
 34951                        	.sym	PDESKTOP_DATA,0,138,14,32,70
 34952                        	.sym	DESKTOP_DATA,0,10,14,64,70
 34953                        	.sym	~~k_user_getSystemMetric,~~k_user_getSys
                    temMetric,69,18,0
 34954                        	.sym	PWINDOWMANAGER,0,138,14,32,69
 34955                        	.sym	WINDOWMANAGER,0,10,14,160,69
 34956                        	.sym	WM_DOPROCS,0,641,14,32
 34957                        	.sym	WM_QUERY_METRIC,0,656,14,32
 34958                        	.sym	WM_CONFIGURE,0,656,14,32
 34959                        	.sym	WM_HANDLE_EVENT,0,8833,14,32
 34960                        	.sym	WM_EVENTS,0,641,14,32
 34961                        	.sym	~~k_ToRECTP,~~k_ToRECTP,65,2,0
 34962                        	.sym	~~k_ToRECT,~~k_ToRECT,65,2,0
 34963                        	.sym	~~k_new_RECTP,~~k_new_RECTP,1098,2,32,27
 34964                        	.sym	~~k_new_RECT,~~k_new_RECT,1098,2,32,26
 34965                        	.sym	~~k_gui_get_image_cache,~~k_gui_get_imag
                    e_cache,78,2,0
 34966                        	.sym	~~k_gui_set_image_cache,~~k_gui_set_imag
                    e_cache,80,2,0
 34967                        	.sym	~~k_gui_free_image_cache_slot,~~k_gui_fr
                    ee_image_cache_slot,65,2,0
 34968                        	.sym	~~k_gui_alloc_image_cache_slot,~~k_gui_a
                    lloc_image_cache_slot,80,2,0
 34969                        	.sym	~~k_gui_init_image_cache_slot,~~k_gui_in
                    it_image_cache_slot,65,2,0
 34970                        	.sym	~~k_set_text_colors,~~k_set_text_colors,
                    65,2,0
 34971                        	.sym	~~k_gui_set_mousepointer,~~k_gui_set_mou
                    sepointer,65,2,0
 34972                        	.sym	~~k_gui_init_mousepointer,~~k_gui_init_m
                    ousepointer,65,2,0
 34973                        	.sym	~~k_font_getFontWidth,~~k_font_getFontWi
                    dth,80,2,0
 34974                        	.sym	~~k_font_getFontHeight,~~k_font_getFontH
                    eight,80,2,0
 34975                        	.sym	~~k_gadget_title_back_callback,~~k_gadge
                    t_title_back_callback,65,2,0
 34976                        	.sym	~~k_gadget_title_front_callback,~~k_gadg
                    et_title_front_callback,65,2,0
  Mon Sep 27 2021  9:39                                                Page 641


 34977                        	.sym	~~k_create_ui_window_class,~~k_create_ui
                    _window_class,1098,2,32,33
 34978                        	.sym	~~k_free_context_menu,~~k_free_context_m
                    enu,65,2,0
 34979                        	.sym	~~k_render_context_menu,~~k_render_conte
                    xt_menu,1098,2,32,36
 34980                        	.sym	~~k_create_context_menus,~~k_create_cont
                    ext_menus,1098,2,32,36
 34981                        	.sym	~~k_create_context_menu_in_window_ex,~~k
                    _create_context_menu_in_window_ex,1098,2,32,36
 34982                        	.sym	~~k_create_context_menu_in_window,~~k_cr
                    eate_context_menu_in_window,1098,2,32,36
 34983                        	.sym	~~k_create_context_menu,~~k_create_conte
                    xt_menu,1098,2,32,36
 34984                        	.sym	~~k_vdma_copy_address_ex,~~k_vdma_copy_a
                    ddress_ex,65,2,0
 34985                        	.sym	~~k_vdma_fill_address_ex,~~k_vdma_fill_a
                    ddress_ex,65,2,0
 34986                        	.sym	~~k_vdma_fill_rect_ex,~~k_vdma_fill_rect
                    _ex,65,2,0
 34987                        	.sym	~~k_vdma_fill_rect,~~k_vdma_fill_rect,65
                    ,2,0
 34988                        	.sym	~~k_vdma_fill_address,~~k_vdma_fill_addr
                    ess,65,2,0
 34989                        	.sym	~~k_vdma_fill,~~k_vdma_fill,65,2,0
 34990                        	.sym	~~k_vdma_move_rect,~~k_vdma_move_rect,65
                    ,2,0
 34991                        	.sym	~~k_gui_build_title_cache,~~k_gui_build_
                    title_cache,1089,2,32
 34992                        	.sym	~~k_gui_get_title_cache,~~k_gui_get_titl
                    e_cache,1089,2,32
 34993                        	.sym	~~k_gui_DrawWindow,~~k_gui_DrawWindow,65
                    ,2,0
 34994                        	.sym	~~k_vdraw_ui_window_ex,~~k_vdraw_ui_wind
                    ow_ex,65,2,0
 34995                        	.sym	~~k_vdraw_ui_window,~~k_vdraw_ui_window,
                    65,2,0
 34996                        	.sym	~~k_draw_ui_window,~~k_draw_ui_window,65
                    ,2,0
 34997                        	.sym	~~k_put_winicon_scaled,~~k_put_winicon_s
                    caled,65,2,0
 34998                        	.sym	~~k_put_winicon_point_ex,~~k_put_winicon
                    _point_ex,69,2,0
 34999                        	.sym	~~k_put_winicon_point,~~k_put_winicon_po
                    int,69,2,0
 35000                        	.sym	~~k_gui_DrawWidget,~~k_gui_DrawWidget,69
                    ,2,0
 35001                        	.sym	~~k_put_wingadget_point_ex,~~k_put_winga
                    dget_point_ex,69,2,0
 35002                        	.sym	~~k_put_wingadget_point,~~k_put_wingadge
                    t_point,69,2,0
 35003                        	.sym	~~k_draw_char_scaled,~~k_draw_char_scale
                    d,65,2,0
 35004                        	.sym	~~k_get_font_metrics,~~k_get_font_metric
                    s,69,2,0
 35005                        	.sym	~~k_draw_fontset,~~k_draw_fontset,65,2,0
 35006                        	.sym	~~k_draw_char,~~k_draw_char,65,2,0
 35007                        	.sym	~~k_put_draw_text,~~k_put_draw_text,69,2
  Mon Sep 27 2021  9:39                                                Page 642


                    ,0
 35008                        	.sym	~~k_draw_char_scaled_point,~~k_draw_char
                    _scaled_point,65,2,0
 35009                        	.sym	~~k_gui_DrawText,~~k_gui_DrawText,69,2,0
 35010                        	.sym	~~k_draw_text_point_with_font_ex,~~k_dra
                    w_text_point_with_font_ex,69,2,0
 35011                        	.sym	~~k_draw_text_point_with_font,~~k_draw_t
                    ext_point_with_font,69,2,0
 35012                        	.sym	~~k_draw_text_point_ex,~~k_draw_text_poi
                    nt_ex,69,2,0
 35013                        	.sym	~~k_draw_text_point,~~k_draw_text_point,
                    69,2,0
 35014                        	.sym	~~k_put_font_point,~~k_put_font_point,69
                    ,2,0
 35015                        	.sym	~~k_draw_text_scaled,~~k_draw_text_scale
                    d,69,2,0
 35016                        	.sym	~~k_draw_text,~~k_draw_text,69,2,0
 35017                        	.sym	~~k_put_binary_variablefont_point_ex,~~k
                    _put_binary_variablefont_point_ex,69,2,0
 35018                        	.sym	~~k_put_binary_variablefont_point,~~k_pu
                    t_binary_variablefont_point,69,2,0
 35019                        	.sym	~~k_put_binary_font_point,~~k_put_binary
                    _font_point,69,2,0
 35020                        	.sym	~~k_put_font_scaled,~~k_put_font_scaled,
                    65,2,0
 35021                        	.sym	~~k_put_font,~~k_put_font,65,2,0
 35022                        	.sym	~~k_fill_line,~~k_fill_line,65,2,0
 35023                        	.sym	~~k_paint_brush_at_address,~~k_paint_bru
                    sh_at_address,65,2,0
 35024                        	.sym	~~k_paint_brush_rect,~~k_paint_brush_rec
                    t,65,2,0
 35025                        	.sym	~~k_vdraw_filled_rect,~~k_vdraw_filled_r
                    ect,65,2,0
 35026                        	.sym	~~k_draw_filled_rect,~~k_draw_filled_rec
                    t,65,2,0
 35027                        	.sym	~~k_draw_rect,~~k_draw_rect,65,2,0
 35028                        	.sym	~~k_draw_rect_slow,~~k_draw_rect_slow,65
                    ,2,0
 35029                        	.sym	~~k_draw_line_ex,~~k_draw_line_ex,65,2,0
 35030                        	.sym	~~k_draw_line,~~k_draw_line,65,2,0
 35031                        	.sym	~~k_draw_filled_circle,~~k_draw_filled_c
                    ircle,65,2,0
 35032                        	.sym	~~k_draw_circle,~~k_draw_circle,65,2,0
 35033                        	.sym	~~k_draw_segments,~~k_draw_segments,65,2
                    ,0
 35034                        	.sym	~~k_draw_pixel_D0,~~k_draw_pixel_D0,65,2
                    ,0
 35035                        	.sym	~~k_draw_pixel_back,~~k_draw_pixel_back,
                    65,2,0
 35036                        	.sym	~~k_draw_pixel_back_ex,~~k_draw_pixel_ba
                    ck_ex,65,2,0
 35037                        	.sym	~~k_draw_pixel_front_ex,~~k_draw_pixel_f
                    ront_ex,65,2,0
 35038                        	.sym	~~k_draw_pixel_front,~~k_draw_pixel_fron
                    t,65,2,0
 35039                        	.sym	~~k_draw_clipped_pixel_ex,~~k_draw_clipp
                    ed_pixel_ex,65,2,0
 35040                        	.sym	~~k_draw_clipped_pixel,~~k_draw_clipped_
  Mon Sep 27 2021  9:39                                                Page 643


                    pixel,65,2,0
 35041                        	.sym	~~k_draw_pixel_ex,~~k_draw_pixel_ex,65,2
                    ,0
 35042                        	.sym	~~k_draw_pixel,~~k_draw_pixel,65,2,0
 35043                        	.sym	~~k_draw_lines,~~k_draw_lines,65,2,0
 35044                        	.sym	~~k_memory_bitblt,~~k_memory_bitblt,65,2
                    ,0
 35045                        	.sym	~~k_bitblt,~~k_bitblt,65,2,0
 35046                        	.sym	~~k_scratch_save_bitblt,~~k_scratch_save
                    _bitblt,65,2,0
 35047                        	.sym	~~k_shadow_fill_rect_address,~~k_shadow_
                    fill_rect_address,65,2,0
 35048                        	.sym	~~k_shadow_fill_rect,~~k_shadow_fill_rec
                    t,65,2,0
 35049                        	.sym	~~k_shadow_bitblt,~~k_shadow_bitblt,65,2
                    ,0
 35050                        	.sym	~~k_is_overlapped_rect_points,~~k_is_ove
                    rlapped_rect_points,69,2,0
 35051                        	.sym	~~k_is_overlapped_rect,~~k_is_overlapped
                    _rect,69,2,0
 35052                        	.sym	~~k_is_inside_rect,~~k_is_inside_rect,78
                    ,2,0
 35053                        	.sym	~~k_set_rect,~~k_set_rect,65,2,0
 35054                        	.sym	~~k_copy_rect,~~k_copy_rect,65,2,0
 35055                        	.sym	~~defineGrayPalette,~~defineGrayPalette,
                    65,2,0
 35056                        	.sym	~~setColors,~~setColors,65,2,0
 35057                        	.sym	~~k_init_desktop,~~k_init_desktop,65,2,0
 35058                        	.sym	~~k_gui_cache_desktop_widgets,~~k_gui_ca
                    che_desktop_widgets,65,2,0
 35059                        	.sym	~~k_gui_get_pixel_offset_width,~~k_gui_g
                    et_pixel_offset_width,71,2,0
 35060                        	.sym	~~k_gui_get_pixel_offset,~~k_gui_get_pix
                    el_offset,71,2,0
 35061                        	.sym	~~k_get_video_mode,~~k_get_video_mode,80
                    ,2,0
 35062                        	.sym	~~k_enable_bitmap_mode,~~k_enable_bitmap
                    _mode,65,2,0
 35063                        	.sym	~~k_gui_size_nonclient_area,~~k_gui_size
                    _nonclient_area,78,2,0
 35064                        	.sym	~~k_HWNDToWINRECT,~~k_HWNDToWINRECT,1098
                    ,2,32,26
 35065                        	.sym	~~k_getUIColor,~~k_getUIColor,69,2,0
 35066                        	.sym	~~k_getUIGadgetColor,~~k_getUIGadgetColo
                    r,69,2,0
 35067                        	.sym	~~k_getUIMenuColor,~~k_getUIMenuColor,69
                    ,2,0
 35068                        	.sym	~~k_getUIWindowShadowColor,~~k_getUIWind
                    owShadowColor,69,2,0
 35069                        	.sym	~~k_getUIWindowBorderColor,~~k_getUIWind
                    owBorderColor,69,2,0
 35070                        	.sym	~~k_getUIWindowFrameColor,~~k_getUIWindo
                    wFrameColor,69,2,0
 35071                        	.sym	~~k_getUIHighlightColor,~~k_getUIHighlig
                    htColor,69,2,0
 35072                        	.sym	~~k_getUIFontSelectedColor,~~k_getUIFont
                    SelectedColor,69,2,0
 35073                        	.sym	~~k_getUIFontColor,~~k_getUIFontColor,69
  Mon Sep 27 2021  9:39                                                Page 644


                    ,2,0
 35074                        	.sym	~~k_getUIDesktopColor,~~k_getUIDesktopCo
                    lor,69,2,0
 35075                        	.sym	~~k_getUIBackgroundColor,~~k_getUIBackgr
                    oundColor,69,2,0
 35076                        	.sym	PCUR_PALETTE_MAP,0,138,14,32,68
 35077                        	.sym	CUR_PALETTE_MAP,0,10,14,400,68
 35078                        	.sym	~~k_render_menu,~~k_render_menu,1098,2,3
                    2,36
 35079                        	.sym	~~k_vdraw_ui_menu_with_rect,~~k_vdraw_ui
                    _menu_with_rect,1098,2,32,36
 35080                        	.sym	~~k_vdraw_ui_menu_ex,~~k_vdraw_ui_menu_e
                    x,1098,2,32,36
 35081                        	.sym	~~k_vdraw_ui_menu,~~k_vdraw_ui_menu,1098
                    ,2,32,36
 35082                        	.sym	~~k_draw_menu,~~k_draw_menu,1098,2,32,36
 35083                        	.sym	PCLICKDETECTED,0,138,14,32,67
 35084                        	.sym	CLICKDETECTED,0,10,14,64,67
 35085                        	.sym	OBJECTCLICKED,0,641,14,32
 35086                        	.sym	~~MOUSE_POINTER_RESIZE,~~MOUSE_POINTER_R
                    ESIZE,110,2,0,256
 35087                        	.sym	~~MOUSE_POINTER_HOURGLASS,~~MOUSE_POINTE
                    R_HOURGLASS,110,2,0,256
 35088                        	.sym	~~MOUSE_POINTER_HELP,~~MOUSE_POINTER_HEL
                    P,110,2,0,256
 35089                        	.sym	~~MOUSE_POINTER_ARROW,~~MOUSE_POINTER_AR
                    ROW,110,2,0,256
 35090                        	.sym	~~Bm437ToshibaLCD8x8,~~Bm437ToshibaLCD8x
                    8,110,18,0,0
 35091                        	.sym	~~windowIconImg,~~windowIconImg,878,18,0
                    ,0,256
 35092                        	.sym	~~windowChromeImg,~~windowChromeImg,878,
                    18,0,0,64
 35093                        	.sym	~~fontImg,~~fontImg,878,18,0,0,64
 35094                        	.sym	~~characterROMMapping,~~characterROMMapp
                    ing,101,18,0,0
 35095                        	.sym	PALLOCATIONHEADER,0,138,14,32,66
 35096                        	.sym	ALLOCATIONHEADER,0,10,14,80,66
 35097                        	.sym	PIPCPORT,0,138,14,32,65
 35098                        	.sym	IPCPORT,0,10,14,144,65
 35099                        	.sym	~~k_mem_deallocate_heap,~~k_mem_dealloca
                    te_heap,65,18,0
 35100                        	.sym	~~k_mem_allocate_heap,~~k_mem_allocate_h
                    eap,1089,18,32
 35101                        	.sym	MemoryCallback,0,641,14,32
 35102                        	.sym	PFXMEMORYMAP,0,138,14,32,64
 35103                        	.sym	FXMEMORYMAP,0,10,14,2072,64
 35104                        	.sym	UMM_HEAP_INFO,0,10,14,256,63
 35105                        	.sym	PEXECUTIVE,0,138,14,32,62
 35106                        	.sym	EXECUTIVE,0,10,14,128,62
 35107                        	.sym	EX_QUERY_METRIC,0,656,14,32
 35108                        	.sym	EX_CONFIGURE,0,656,14,32
 35109                        	.sym	EX_UNINIT,0,641,14,32
 35110                        	.sym	EX_INIT,0,8833,14,32
 35111                        	.sym	~~k_string_replace,~~k_string_replace,11
                    02,18,32
 35112                        	.sym	~~k_string_copy_to_delimiter,~~k_string_
                    copy_to_delimiter,1102,18,32
  Mon Sep 27 2021  9:39                                                Page 645


 35113                        	.sym	PFXSTRING,0,138,14,32,61
 35114                        	.sym	FXSTRING,0,10,14,64,61
 35115                        	.sym	PIRQCHAIN,0,138,14,32,60
 35116                        	.sym	IRQCHAIN,0,10,14,128,60
 35117                        	.sym	DEVICEDRIVER_COMMAND,0,654,14,32
 35118                        	.sym	DEVICEDRIVER_UNLOAD,0,654,14,32
 35119                        	.sym	DEVICEDRIVER_WRITE,0,654,14,32
 35120                        	.sym	DEVICEDRIVER_READ,0,654,14,32
 35121                        	.sym	DEVICEDRIVER_LOAD,0,654,14,32
 35122                        	.sym	DEVICEDRIVER_IRQ,0,641,14,32
 35123                        	.sym	PFX_BLOCK_DEVICE_DRIVER,0,138,14,32,59
 35124                        	.sym	FX_BLOCK_DEVICE_DRIVER,0,10,14,808,59
 35125                        	.sym	GETDRIVERDEF,0,8842,14,32,58
 35126                        	.sym	PFX_DEVICE_DRIVER,0,138,14,32,58
 35127                        	.sym	FX_DEVICE_DRIVER,0,10,14,776,58
 35128                        	.sym	~~k_get_c256_release,~~k_get_c256_releas
                    e,65,18,0
 35129                        	.sym	~~k_debug_strings,~~k_debug_strings,65,1
                    8,0
 35130                        	.sym	~~k_debug_message,~~k_debug_message,65,1
                    8,0
 35131                        	.sym	~~k_debug_hex,~~k_debug_hex,65,18,0
 35132                        	.sym	~~k_debug_long,~~k_debug_long,65,18,0
 35133                        	.sym	~~k_debug_integer,~~k_debug_integer,65,1
                    8,0
 35134                        	.sym	~~k_debug_pointer,~~k_debug_pointer,65,1
                    8,0
 35135                        	.sym	~~k_debug_string,~~k_debug_string,65,18,
                    0
 35136                        	.sym	~~k_unlock_irq,~~k_unlock_irq,80,18,0
 35137                        	.sym	~~k_lock_irq,~~k_lock_irq,80,18,0
 35138                        	.sym	~~k_delay,~~k_delay,65,18,0
 35139                        	.sym	~~sleep,~~sleep,65,18,0
 35140                        	.sym	PSEGMENTHEADER,0,138,14,32,57
 35141                        	.sym	SEGMENTHEADER,0,10,14,160,57
 35142                        	.sym	PDEBUGBYTEBITS,0,138,14,32,56
 35143                        	.sym	DEBUGBYTEBITS,0,10,14,8,56
 35144                        	.sym	PFXENVIRONMENT,0,138,14,32,55
 35145                        	.sym	FXENVIRONMENT,0,10,14,96,55
 35146                        	.sym	PFXZEROPAGE,0,138,14,32,54
 35147                        	.sym	FXZEROPAGE,0,10,14,720,54
 35148                        	.sym	IRQBUFFER,0,10,14,32,53
 35149                        	.sym	KERNELTRAPCALL,0,641,14,32
 35150                        	.sym	PFXKERNEL_API_CALLTABLE,0,138,14,32,52
 35151                        	.sym	FXKERNEL_API_CALLTABLE,0,10,14,8192,52
 35152                        	.sym	FOREACHNODEUNTIL,0,654,14,32
 35153                        	.sym	FOREACHNODE,0,641,14,32
 35154                        	.sym	PFXRFHEADER_STRING_ENTRY,0,138,14,32,51
 35155                        	.sym	FXRFHEADER_STRING_ENTRY,0,10,14,40,51
 35156                        	.sym	PFXRFHEADER_STRING,0,138,14,32,50
 35157                        	.sym	FXRFHEADER_STRING,0,10,14,32,50
 35158                        	.sym	PFXRFHEADER_FONT,0,138,14,32,49
 35159                        	.sym	FXRFHEADER_FONT,0,10,14,144,49
 35160                        	.sym	PFXRFHEADER,0,138,14,32,48
 35161                        	.sym	FXRFHEADER,0,10,14,72,48
 35162                        	.sym	PFXCOMBUFFER,0,138,14,32,47
 35163                        	.sym	FXCOMBUFFER,0,10,14,2080,47
 35164                        	.sym	PSUBMENULIST,0,138,14,32,46
  Mon Sep 27 2021  9:39                                                Page 646


 35165                        	.sym	SUBMENULIST,0,10,14,40,46
 35166                        	.sym	HSUBMENU,0,7,14,32
 35167                        	.sym	PSUBMENU,0,138,14,32,45
 35168                        	.sym	SUBMENU,0,10,14,64,45
 35169                        	.sym	MenuAction,0,641,14,32
 35170                        	.sym	PMENUANCHOR,0,138,14,32,44
 35171                        	.sym	MENUANCHOR,0,10,14,272,44
 35172                        	.sym	PMSGBOX,0,138,14,32,43
 35173                        	.sym	MSGBOX,0,10,14,144,43
 35174                        	.sym	PTEXTBOX,0,138,14,32,42
 35175                        	.sym	TEXTBOX,0,10,14,144,42
 35176                        	.sym	PLISTBOX,0,138,14,32,41
 35177                        	.sym	LISTBOX,0,10,14,240,41
 35178                        	.sym	PSCROLLBAR,0,138,14,32,40
 35179                        	.sym	SCROLLBAR,0,10,14,240,40
 35180                        	.sym	PBUTTON,0,138,14,32,39
 35181                        	.sym	BUTTON,0,10,14,96,39
 35182                        	.sym	PMENUDROPDOWNDATA,0,138,14,32,38
 35183                        	.sym	MENUDROPDOWNDATA,0,10,14,5152,38
 35184                        	.sym	PMENUTAG,0,138,14,32,37
 35185                        	.sym	MENUTAG,0,10,14,160,37
 35186                        	.sym	PMENU,0,138,14,32,36
 35187                        	.sym	MENU,0,10,14,280,36
 35188                        	.sym	HMENURESOURCE,0,129,14,32
 35189                        	.sym	FONTMETRIC,0,10,14,32,35
 35190                        	.sym	TITLE,0,142,14,32
 35191                        	.sym	PHANDLE,0,1153,14,32
 35192                        	.sym	HANDLE,0,129,14,32
 35193                        	.sym	PWINDOWEX,0,138,14,32,34
 35194                        	.sym	WINDOWEX,0,10,14,3880,34
 35195                        	.sym	PWINDOW,0,138,14,32,33
 35196                        	.sym	WINDOW,0,10,14,3904,33
 35197                        	.sym	PDRAGDATA,0,138,14,32,32
 35198                        	.sym	DRAGDATA,0,10,14,216,32
 35199                        	.sym	PNCCLICKABLE,0,138,14,32,31
 35200                        	.sym	NCCLICKABLE,0,10,14,136,31
 35201                        	.sym	HCLICKABLE,0,7,14,32
 35202                        	.sym	PCLICKABLE,0,138,14,32,30
 35203                        	.sym	CLICKABLE,0,10,14,152,30
 35204                        	.sym	PWNDCLASS,0,138,14,32,29
 35205                        	.sym	WNDCLASS,0,10,14,272,29
 35206                        	.sym	HBRUSH,0,129,14,32
 35207                        	.sym	HCURSOR,0,129,14,32
 35208                        	.sym	HICON,0,129,14,32
 35209                        	.sym	HINSTANCE,0,129,14,32
 35210                        	.sym	FXWndProc,0,654,14,32
 35211                        	.sym	PDRECT,0,138,14,32,28
 35212                        	.sym	DRECT,0,10,14,112,28
 35213                        	.sym	PRECTP,0,138,14,32,27
 35214                        	.sym	RECTP,0,10,14,96,27
 35215                        	.sym	PRECT,0,138,14,32,26
 35216                        	.sym	RECT,0,10,14,112,26
 35217                        	.sym	PPOINT,0,138,14,32,25
 35218                        	.sym	POINT,0,10,14,32,25
 35219                        	.sym	PFXPROPERTY,0,138,14,32,23
 35220                        	.sym	FXPROPERTY,0,10,14,384,23
 35221                        	.sym	PKEYSTATE,0,138,14,32,22
 35222                        	.sym	KEYSTATE,0,10,14,112,22
  Mon Sep 27 2021  9:39                                                Page 647


 35223                        	.sym	SCANCODE,0,14,14,8
 35224                        	.sym	KEYCODE,0,16,14,16
 35225                        	.sym	PFXPROCESSMESSAGE,0,138,14,32,21
 35226                        	.sym	FXPROCESSMESSAGE,0,10,14,112,21
 35227                        	.sym	PFXPROCESS,0,138,14,32,20
 35228                        	.sym	FXPROCESS,0,10,14,800,20
 35229                        	.sym	PDESKTOP_CONTROL,0,138,14,32,19
 35230                        	.sym	DESKTOP_CONTROL,0,10,14,392,19
 35231                        	.sym	PCONSOLE_CONTROL,0,138,14,32,18
 35232                        	.sym	CONSOLE_CONTROL,0,10,14,448,18
 35233                        	.sym	FXProcessProc,0,641,14,32
 35234                        	.sym	PFXCMDMESSAGE,0,138,14,32,17
 35235                        	.sym	FXCMDMESSAGE,0,10,14,312,17
 35236                        	.sym	PFXOSMESSAGE,0,138,14,32,16
 35237                        	.sym	FXOSMESSAGE,0,10,14,312,16
 35238                        	.sym	PINT_REGS,0,138,14,32,15
 35239                        	.sym	INT_REGS,0,10,14,104,15
 35240                        	.sym	TASK_STACK,0,10,14,32,14
 35241                        	.sym	TASK,0,10,14,48,13
 35242                        	.sym	PIRQDATA,0,138,14,32,12
 35243                        	.sym	IRQDATA,0,10,14,48,12
 35244                        	.sym	HMENU,0,129,14,32
 35245                        	.sym	HWND,0,129,14,32
 35246                        	.sym	MSGDATA,0,14,14,8
 35247                        	.sym	MSGDEST,0,18,14,32
 35248                        	.sym	MSGSRC,0,18,14,32
 35249                        	.sym	MSGTYPE,0,16,14,16
 35250                        	.sym	PROCESS_RESOURCE_LIST,0,138,14,32,6
 35251                        	.sym	PROCESS_TLS_LIST,0,138,14,32,6
 35252                        	.sym	SEMAPHORE_LIST,0,138,14,32,6
 35253                        	.sym	FILE_BLOCK_LIST,0,138,14,32,6
 35254                        	.sym	FILE_PATH_LIST,0,138,14,32,6
 35255                        	.sym	PROCEDURE_LIST,0,138,14,32,6
 35256                        	.sym	FILE_HANDLE,0,138,14,32,11
 35257                        	.sym	FILE_BLOCK,0,10,14,552,11
 35258                        	.sym	SEMAPHORE,0,10,14,16,10
 35259                        	.sym	PPROCESS_SIGNAL,0,138,14,32,9
 35260                        	.sym	PROCESS_SIGNAL,0,10,14,16,9
 35261                        	.sym	KRESULT,0,18,14,32
 35262                        	.sym	PKERNEL_ERROR,0,138,14,32,8
 35263                        	.sym	KERNEL_ERROR,0,10,14,32,8
 35264                        	.sym	PROCESS_STATUS,0,16,14,16
 35265                        	.sym	FILE_PATH_NAME,0,142,14,32
 35266                        	.sym	PROCESS_RESOURCE,0,129,14,32
 35267                        	.sym	PROCESS_TLS,0,129,14,32
 35268                        	.sym	PROCESS_CTX,0,129,14,32
 35269                        	.sym	USERID,0,16,14,16
 35270                        	.sym	PROCESS_ID,0,18,14,32
 35271                        	.sym	PROCESS_BANK,0,14,14,8
 35272                        	.sym	PFXQUEUE,0,138,14,32,7
 35273                        	.sym	FXQUEUE,0,10,14,80,7
 35274                        	.sym	PFXNODELIST,0,138,14,32,6
 35275                        	.sym	FXNODELIST,0,10,14,96,6
 35276                        	.sym	NodeListDeallocator,0,641,14,32
 35277                        	.sym	PFXNODE,0,138,14,32,5
 35278                        	.sym	FXNODE,0,10,14,384,5
 35279                        	.sym	PBYTEBITS,0,138,14,32,4
 35280                        	.sym	BYTEBITS,0,10,14,8,4
  Mon Sep 27 2021  9:39                                                Page 648


 35281                        	.sym	HRESULT,0,18,14,32
 35282                        	.sym	LPWCHAR,0,144,14,32
 35283                        	.sym	WCHAR,0,16,14,16
 35284                        	.sym	HSTRINGTABLE,0,129,14,32
 35285                        	.sym	HCOLOR,0,129,14,32
 35286                        	.sym	HFONT,0,129,14,32
 35287                        	.sym	HDC,0,129,14,32
 35288                        	.sym	HPOINTER,0,129,14,32
 35289                        	.sym	uint32_t,0,18,14,32
 35290                        	.sym	uint8_t,0,14,14,8
 35291                        	.sym	LPBOOL,0,142,14,32
 35292                        	.sym	BOOL,0,14,14,8
 35293                        	.sym	DWORD,0,18,14,32
 35294                        	.sym	ULONG,0,18,14,32
 35295                        	.sym	LPLONG,0,135,14,32
 35296                        	.sym	LONG,0,7,14,32
 35297                        	.sym	PUINT,0,144,14,32
 35298                        	.sym	USHORT,0,16,14,16
 35299                        	.sym	UINT,0,16,14,16
 35300                        	.sym	INT,0,5,14,16
 35301                        	.sym	WORD,0,5,14,16
 35302                        	.sym	PBYTE,0,142,14,32
 35303                        	.sym	BYTE,0,14,14,8
 35304                        	.sym	IOPORT,0,142,14,32
 35305                        	.sym	PUCHAR,0,142,14,32
 35306                        	.sym	UCHAR,0,14,14,8
 35307                        	.sym	LPWCSTR,0,142,14,32
 35308                        	.sym	LPCSTR,0,142,14,32
 35309                        	.sym	LPSTR,0,142,14,32
 35310                        	.sym	LPCHAR,0,142,14,32
 35311                        	.sym	CHAR,0,14,14,8
 35312                        	.sym	PUINT_32,0,146,14,32
 35313                        	.sym	UINT_32,0,18,14,32
 35314                        	.sym	PUINT_16,0,144,14,32
 35315                        	.sym	UINT_16,0,16,14,16
 35316                        	.sym	PUINT_8,0,142,14,32
 35317                        	.sym	UINT_8,0,14,14,8
 35318                        	.sym	LPVOID,0,129,14,32
 35319                        	.sym	VOID,0,1,14,32
 35320                        	.sym	~~toupper,~~toupper,69,18,0
 35321                        	.sym	~~strupr,~~strupr,1102,18,32
 35322                        	.sym	~~strlen,~~strlen,80,18,0
 35323                        	.sym	~~strcpy,~~strcpy,1102,18,32
 35324                        	.sym	~~memset,~~memset,1089,18,32
 35325                        	.sym	~~memcpy,~~memcpy,1089,18,32
 35326                        	.sym	Boolean_T,0,5,14,16
 35327                        	.sym	~~abs,~~abs,69,18,0
 35328                        	.sym	ldiv_t,0,10,14,64,2
 35329                        	.sym	div_t,0,10,14,32,1
 35330                        	.sym	wctype_t,0,16,14,16
 35331                        	.sym	wint_t,0,16,14,16
 35332                        	.sym	wchar_t,0,14,14,8
 35333                        	.sym	ptrdiff_t,0,7,14,32
 35334                        	.sym	size_t,0,16,14,16
 35335                        	end


      Lines assembled: 35335
  Mon Sep 27 2021  9:39                                                Page 649


      Errors: 0
